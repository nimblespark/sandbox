function q2(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var so=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var K2={exports:{}},z0={},Q2={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=Symbol.for("react.element"),r3=Symbol.for("react.portal"),n3=Symbol.for("react.fragment"),i3=Symbol.for("react.strict_mode"),s3=Symbol.for("react.profiler"),a3=Symbol.for("react.provider"),o3=Symbol.for("react.context"),l3=Symbol.for("react.forward_ref"),c3=Symbol.for("react.suspense"),u3=Symbol.for("react.memo"),d3=Symbol.for("react.lazy"),T_=Symbol.iterator;function h3(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,eR={};function eh(t,e,r){this.props=t,this.context=e,this.refs=eR,this.updater=r||J2}eh.prototype.isReactComponent={};eh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tR(){}tR.prototype=eh.prototype;function Q1(t,e,r){this.props=t,this.context=e,this.refs=eR,this.updater=r||J2}var J1=Q1.prototype=new tR;J1.constructor=Q1;Z2(J1,eh.prototype);J1.isPureReactComponent=!0;var __=Array.isArray,rR=Object.prototype.hasOwnProperty,Z1={current:null},nR={key:!0,ref:!0,__self:!0,__source:!0};function iR(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)rR.call(e,n)&&!nR.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:qp,type:t,key:s,ref:a,props:i,_owner:Z1.current}}function f3(t,e){return{$$typeof:qp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ek(t){return typeof t=="object"&&t!==null&&t.$$typeof===qp}function p3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var P_=/\/+/g;function Kv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p3(""+t.key):e.toString(36)}function Og(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qp:case r3:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Kv(a,0):n,__(i)?(r="",t!=null&&(r=t.replace(P_,"$&/")+"/"),Og(i,e,r,"",function(c){return c})):i!=null&&(ek(i)&&(i=f3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(P_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",__(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Kv(s,o);a+=Og(s,e,r,l,i)}else if(l=h3(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Kv(s,o++),a+=Og(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rm(t,e,r){if(t==null)return t;var n=[],i=0;return Og(t,n,"","",function(s){return e.call(r,s,i++)}),n}function m3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},$g={transition:null},g3={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:$g,ReactCurrentOwner:Z1};sr.Children={map:Rm,forEach:function(t,e,r){Rm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rm(t,function(){e++}),e},toArray:function(t){return Rm(t,function(e){return e})||[]},only:function(t){if(!ek(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sr.Component=eh;sr.Fragment=n3;sr.Profiler=s3;sr.PureComponent=Q1;sr.StrictMode=i3;sr.Suspense=c3;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;sr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Z1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)rR.call(e,l)&&!nR.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:qp,type:t.type,key:i,ref:s,props:n,_owner:a}};sr.createContext=function(t){return t={$$typeof:o3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a3,_context:t},t.Consumer=t};sr.createElement=iR;sr.createFactory=function(t){var e=iR.bind(null,t);return e.type=t,e};sr.createRef=function(){return{current:null}};sr.forwardRef=function(t){return{$$typeof:l3,render:t}};sr.isValidElement=ek;sr.lazy=function(t){return{$$typeof:d3,_payload:{_status:-1,_result:t},_init:m3}};sr.memo=function(t,e){return{$$typeof:u3,type:t,compare:e===void 0?null:e}};sr.startTransition=function(t){var e=$g.transition;$g.transition={};try{t()}finally{$g.transition=e}};sr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sr.useCallback=function(t,e){return Ai.current.useCallback(t,e)};sr.useContext=function(t){return Ai.current.useContext(t)};sr.useDebugValue=function(){};sr.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};sr.useEffect=function(t,e){return Ai.current.useEffect(t,e)};sr.useId=function(){return Ai.current.useId()};sr.useImperativeHandle=function(t,e,r){return Ai.current.useImperativeHandle(t,e,r)};sr.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};sr.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};sr.useMemo=function(t,e){return Ai.current.useMemo(t,e)};sr.useReducer=function(t,e,r){return Ai.current.useReducer(t,e,r)};sr.useRef=function(t){return Ai.current.useRef(t)};sr.useState=function(t){return Ai.current.useState(t)};sr.useSyncExternalStore=function(t,e,r){return Ai.current.useSyncExternalStore(t,e,r)};sr.useTransition=function(){return Ai.current.useTransition()};sr.version="18.2.0";Q2.exports=sr;var w=Q2.exports;const Ct=aa(w),Xc=q2({__proto__:null,default:Ct},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=w,b3=Symbol.for("react.element"),v3=Symbol.for("react.fragment"),w3=Object.prototype.hasOwnProperty,x3=y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S3={key:!0,ref:!0,__self:!0,__source:!0};function sR(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)w3.call(e,n)&&!S3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:b3,type:t,key:s,ref:a,props:i,_owner:x3.current}}z0.Fragment=v3;z0.jsx=sR;z0.jsxs=sR;K2.exports=z0;var x=K2.exports,Wx={},aR={exports:{}},_s={},oR={exports:{}},lR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var W=M.length;M.push(V);e:for(;0<W;){var K=W-1>>>1,ie=M[K];if(0<i(ie,V))M[K]=V,M[W]=ie,W=K;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var K=0,ie=M.length,se=ie>>>1;K<se;){var te=2*(K+1)-1,G=M[te],Z=te+1,he=M[Z];if(0>i(G,W))Z<ie&&0>i(he,G)?(M[K]=he,M[Z]=W,K=Z):(M[K]=G,M[te]=W,K=te);else if(Z<ie&&0>i(he,W))M[K]=he,M[Z]=W,K=Z;else break e}}return V}function i(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=M)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function k(M){if(m=!1,v(M),!f)if(r(l)!==null)f=!0,F(C);else{var V=r(c);V!==null&&A(k,V.startTime-M)}}function C(M,V){f=!1,m&&(m=!1,y(B),B=-1),p=!0;var W=h;try{for(v(V),d=r(l);d!==null&&(!(d.expirationTime>V)||M&&!R());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var ie=K(d.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(l)&&n(l),v(V)}else n(l);d=r(l)}if(d!==null)var se=!0;else{var te=r(c);te!==null&&A(k,te.startTime-V),se=!1}return se}finally{d=null,h=W,p=!1}}var S=!1,_=null,B=-1,D=5,E=-1;function R(){return!(t.unstable_now()-E<D)}function O(){if(_!==null){var M=t.unstable_now();E=M;var V=!0;try{V=_(!0,M)}finally{V?L():(S=!1,_=null)}}else S=!1}var L;if(typeof b=="function")L=function(){b(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,N=I.port2;I.port1.onmessage=O,L=function(){N.postMessage(null)}}else L=function(){g(O,0)};function F(M){_=M,S||(S=!0,L())}function A(M,V){B=g(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,F(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return M()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return V()}finally{h=W}},t.unstable_scheduleCallback=function(M,V,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,M={id:u++,callback:V,priorityLevel:M,startTime:W,expirationTime:ie,sortIndex:-1},W>K?(M.sortIndex=W,e(c,M),r(l)===null&&M===r(c)&&(m?(y(B),B=-1):m=!0,A(k,W-K))):(M.sortIndex=ie,e(l,M),f||p||(f=!0,F(C))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var V=h;return function(){var W=h;h=V;try{return M.apply(this,arguments)}finally{h=W}}}})(lR);oR.exports=lR;var k3=oR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=w,ws=k3;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uR=new Set,Vf={};function du(t,e){Cd(t,e),Cd(t+"Capture",e)}function Cd(t,e){for(Vf[t]=e,t=0;t<e.length;t++)uR.add(e[t])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=Object.prototype.hasOwnProperty,C3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B_={},N_={};function T3(t){return Hx.call(N_,t)?!0:Hx.call(B_,t)?!1:C3.test(t)?N_[t]=!0:(B_[t]=!0,!1)}function _3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P3(t,e,r,n){if(e===null||typeof e>"u"||_3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hi[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hi[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hi[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hi[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hi[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hi[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hi[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hi[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hi[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var tk=/[\-:]([a-z])/g;function rk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tk,rk);hi[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tk,rk);hi[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tk,rk);hi[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});hi.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function nk(t,e,r,n){var i=hi.hasOwnProperty(e)?hi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P3(e,r,i,n)&&(r=null),n||i===null?T3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var rl=cR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dm=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Yu=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),sk=Symbol.for("react.forward_ref"),Gx=Symbol.for("react.suspense"),jx=Symbol.for("react.suspense_list"),ak=Symbol.for("react.memo"),Sl=Symbol.for("react.lazy"),fR=Symbol.for("react.offscreen"),M_=Symbol.iterator;function vh(t){return t===null||typeof t!="object"?null:(t=M_&&t[M_]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Object.assign,Qv;function Zh(t){if(Qv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qv=e&&e[1]||""}return`
`+Qv+t}var Jv=!1;function Zv(t,e){if(!t||Jv)return"";Jv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Jv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zh(t):""}function B3(t){switch(t.tag){case 5:return Zh(t.type);case 16:return Zh("Lazy");case 13:return Zh("Suspense");case 19:return Zh("SuspenseList");case 0:case 2:case 15:return t=Zv(t.type,!1),t;case 11:return t=Zv(t.type.render,!1),t;case 1:return t=Zv(t.type,!0),t;default:return""}}function Yx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yu:return"Fragment";case ju:return"Portal";case Ux:return"Profiler";case ik:return"StrictMode";case Gx:return"Suspense";case jx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hR:return(t.displayName||"Context")+".Consumer";case dR:return(t._context.displayName||"Context")+".Provider";case sk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ak:return e=t.displayName||null,e!==null?e:Yx(t.type)||"Memo";case Sl:e=t._payload,t=t._init;try{return Yx(t(e))}catch{}}return null}function N3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yx(e);case 8:return e===ik?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M3(t){var e=pR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Im(t){t._valueTracker||(t._valueTracker=M3(t))}function mR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function by(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xx(t,e){var r=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function E_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gR(t,e){e=e.checked,e!=null&&nk(t,"checked",e,!1)}function qx(t,e){gR(t,e);var r=jl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kx(t,e.type,r):e.hasOwnProperty("defaultValue")&&Kx(t,e.type,jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Kx(t,e,r){(e!=="number"||by(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ef=Array.isArray;function ud(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ve(92));if(ef(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jl(r)}}function yR(t,e){var r=jl(e.value),n=jl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function I_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lm,vR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lm=Lm||document.createElement("div"),Lm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E3=["Webkit","ms","Moz","O"];Object.keys(hf).forEach(function(t){E3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hf[e]=hf[t]})});function wR(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hf.hasOwnProperty(t)&&hf[t]?(""+e).trim():e+"px"}function xR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wR(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var R3=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zx(t,e){if(e){if(R3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function eS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tS=null;function ok(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rS=null,dd=null,hd=null;function L_(t){if(t=Jp(t)){if(typeof rS!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=j0(e),rS(t.stateNode,t.type,e))}}function SR(t){dd?hd?hd.push(t):hd=[t]:dd=t}function kR(){if(dd){var t=dd,e=hd;if(hd=dd=null,L_(t),e)for(t=0;t<e.length;t++)L_(e[t])}}function CR(t,e){return t(e)}function TR(){}var ew=!1;function _R(t,e,r){if(ew)return t(e,r);ew=!0;try{return CR(t,e,r)}finally{ew=!1,(dd!==null||hd!==null)&&(TR(),kR())}}function Wf(t,e){var r=t.stateNode;if(r===null)return null;var n=j0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ve(231,e,typeof r));return r}var nS=!1;if(Uo)try{var wh={};Object.defineProperty(wh,"passive",{get:function(){nS=!0}}),window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{nS=!1}function D3(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var ff=!1,vy=null,wy=!1,iS=null,I3={onError:function(t){ff=!0,vy=t}};function L3(t,e,r,n,i,s,a,o,l){ff=!1,vy=null,D3.apply(I3,arguments)}function F3(t,e,r,n,i,s,a,o,l){if(L3.apply(this,arguments),ff){if(ff){var c=vy;ff=!1,vy=null}else throw Error(Ve(198));wy||(wy=!0,iS=c)}}function hu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function PR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F_(t){if(hu(t)!==t)throw Error(Ve(188))}function A3(t){var e=t.alternate;if(!e){if(e=hu(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return F_(i),t;if(s===n)return F_(i),e;s=s.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?t:e}function BR(t){return t=A3(t),t!==null?NR(t):null}function NR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NR(t);if(e!==null)return e;t=t.sibling}return null}var MR=ws.unstable_scheduleCallback,A_=ws.unstable_cancelCallback,O3=ws.unstable_shouldYield,$3=ws.unstable_requestPaint,_n=ws.unstable_now,V3=ws.unstable_getCurrentPriorityLevel,lk=ws.unstable_ImmediatePriority,ER=ws.unstable_UserBlockingPriority,xy=ws.unstable_NormalPriority,z3=ws.unstable_LowPriority,RR=ws.unstable_IdlePriority,W0=null,lo=null;function W3(t){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(W0,t,void 0,(t.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:G3,H3=Math.log,U3=Math.LN2;function G3(t){return t>>>=0,t===0?32:31-(H3(t)/U3|0)|0}var Fm=64,Am=4194304;function tf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sy(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=tf(o):(s&=a,s!==0&&(n=tf(s)))}else a=r&~i,a!==0?n=tf(a):s!==0&&(n=tf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Da(e),i=1<<r,n|=t[r],e&=~i;return n}function j3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Da(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=j3(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function sS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DR(){var t=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),t}function tw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Da(e),t[e]=r}function X3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Da(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function ck(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Da(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var wr=0;function IR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LR,uk,FR,AR,OR,aS=!1,Om=[],Dl=null,Il=null,Ll=null,Hf=new Map,Uf=new Map,Cl=[],q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(t,e){switch(t){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":Hf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(e.pointerId)}}function xh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jp(e),e!==null&&uk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K3(t,e,r,n,i){switch(e){case"focusin":return Dl=xh(Dl,t,e,r,n,i),!0;case"dragenter":return Il=xh(Il,t,e,r,n,i),!0;case"mouseover":return Ll=xh(Ll,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hf.set(s,xh(Hf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Uf.set(s,xh(Uf.get(s)||null,t,e,r,n,i)),!0}return!1}function $R(t){var e=Tc(t.target);if(e!==null){var r=hu(e);if(r!==null){if(e=r.tag,e===13){if(e=PR(r),e!==null){t.blockedOn=e,OR(t.priority,function(){FR(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tS=n,r.target.dispatchEvent(n),tS=null}else return e=Jp(r),e!==null&&uk(e),t.blockedOn=r,!1;e.shift()}return!0}function $_(t,e,r){Vg(t)&&r.delete(e)}function Q3(){aS=!1,Dl!==null&&Vg(Dl)&&(Dl=null),Il!==null&&Vg(Il)&&(Il=null),Ll!==null&&Vg(Ll)&&(Ll=null),Hf.forEach($_),Uf.forEach($_)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,aS||(aS=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,Q3)))}function Gf(t){function e(i){return Sh(i,t)}if(0<Om.length){Sh(Om[0],t);for(var r=1;r<Om.length;r++){var n=Om[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dl!==null&&Sh(Dl,t),Il!==null&&Sh(Il,t),Ll!==null&&Sh(Ll,t),Hf.forEach(e),Uf.forEach(e),r=0;r<Cl.length;r++)n=Cl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cl.length&&(r=Cl[0],r.blockedOn===null);)$R(r),r.blockedOn===null&&Cl.shift()}var fd=rl.ReactCurrentBatchConfig,ky=!0;function J3(t,e,r,n){var i=wr,s=fd.transition;fd.transition=null;try{wr=1,dk(t,e,r,n)}finally{wr=i,fd.transition=s}}function Z3(t,e,r,n){var i=wr,s=fd.transition;fd.transition=null;try{wr=4,dk(t,e,r,n)}finally{wr=i,fd.transition=s}}function dk(t,e,r,n){if(ky){var i=oS(t,e,r,n);if(i===null)dw(t,e,n,Cy,r),O_(t,n);else if(K3(i,t,e,r,n))n.stopPropagation();else if(O_(t,n),e&4&&-1<q3.indexOf(t)){for(;i!==null;){var s=Jp(i);if(s!==null&&LR(s),s=oS(t,e,r,n),s===null&&dw(t,e,n,Cy,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dw(t,e,n,null,r)}}var Cy=null;function oS(t,e,r,n){if(Cy=null,t=ok(n),t=Tc(t),t!==null)if(e=hu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=PR(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cy=t,null}function VR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V3()){case lk:return 1;case ER:return 4;case xy:case z3:return 16;case RR:return 536870912;default:return 16}default:return 16}}var Pl=null,hk=null,zg=null;function zR(){if(zg)return zg;var t,e=hk,r=e.length,n,i="value"in Pl?Pl.value:Pl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return zg=i.slice(t,1<n?1-n:void 0)}function Wg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $m(){return!0}function V_(){return!1}function Ps(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$m:V_,this.isPropagationStopped=V_,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),e}var th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=Ps(th),Qp=ln({},th,{view:0,detail:0}),e4=Ps(Qp),rw,nw,kh,H0=ln({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kh&&(kh&&t.type==="mousemove"?(rw=t.screenX-kh.screenX,nw=t.screenY-kh.screenY):nw=rw=0,kh=t),rw)},movementY:function(t){return"movementY"in t?t.movementY:nw}}),z_=Ps(H0),t4=ln({},H0,{dataTransfer:0}),r4=Ps(t4),n4=ln({},Qp,{relatedTarget:0}),iw=Ps(n4),i4=ln({},th,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=Ps(i4),a4=ln({},th,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o4=Ps(a4),l4=ln({},th,{data:0}),W_=Ps(l4),c4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d4[t])?!!e[t]:!1}function pk(){return h4}var f4=ln({},Qp,{key:function(t){if(t.key){var e=c4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pk,charCode:function(t){return t.type==="keypress"?Wg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p4=Ps(f4),m4=ln({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=Ps(m4),g4=ln({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pk}),y4=Ps(g4),b4=ln({},th,{propertyName:0,elapsedTime:0,pseudoElement:0}),v4=Ps(b4),w4=ln({},H0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x4=Ps(w4),S4=[9,13,27,32],mk=Uo&&"CompositionEvent"in window,pf=null;Uo&&"documentMode"in document&&(pf=document.documentMode);var k4=Uo&&"TextEvent"in window&&!pf,WR=Uo&&(!mk||pf&&8<pf&&11>=pf),U_=" ",G_=!1;function HR(t,e){switch(t){case"keyup":return S4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xu=!1;function C4(t,e){switch(t){case"compositionend":return UR(e);case"keypress":return e.which!==32?null:(G_=!0,U_);case"textInput":return t=e.data,t===U_&&G_?null:t;default:return null}}function T4(t,e){if(Xu)return t==="compositionend"||!mk&&HR(t,e)?(t=zR(),zg=hk=Pl=null,Xu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WR&&e.locale!=="ko"?null:e.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_4[t.type]:e==="textarea"}function GR(t,e,r,n){SR(n),e=Ty(e,"onChange"),0<e.length&&(r=new fk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mf=null,jf=null;function P4(t){rD(t,0)}function U0(t){var e=Qu(t);if(mR(e))return t}function B4(t,e){if(t==="change")return e}var jR=!1;if(Uo){var sw;if(Uo){var aw="oninput"in document;if(!aw){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),aw=typeof Y_.oninput=="function"}sw=aw}else sw=!1;jR=sw&&(!document.documentMode||9<document.documentMode)}function X_(){mf&&(mf.detachEvent("onpropertychange",YR),jf=mf=null)}function YR(t){if(t.propertyName==="value"&&U0(jf)){var e=[];GR(e,jf,t,ok(t)),_R(P4,e)}}function N4(t,e,r){t==="focusin"?(X_(),mf=e,jf=r,mf.attachEvent("onpropertychange",YR)):t==="focusout"&&X_()}function M4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return U0(jf)}function E4(t,e){if(t==="click")return U0(e)}function R4(t,e){if(t==="input"||t==="change")return U0(e)}function D4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oa=typeof Object.is=="function"?Object.is:D4;function Yf(t,e){if(Oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Hx.call(e,i)||!Oa(t[i],e[i]))return!1}return!0}function q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K_(t,e){var r=q_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=q_(r)}}function XR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qR(){for(var t=window,e=by();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=by(t.document)}return e}function gk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I4(t){var e=qR(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&XR(r.ownerDocument.documentElement,r)){if(n!==null&&gk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=K_(r,s);var a=K_(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L4=Uo&&"documentMode"in document&&11>=document.documentMode,qu=null,lS=null,gf=null,cS=!1;function Q_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cS||qu==null||qu!==by(n)||(n=qu,"selectionStart"in n&&gk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gf&&Yf(gf,n)||(gf=n,n=Ty(lS,"onSelect"),0<n.length&&(e=new fk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qu)))}function Vm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ku={animationend:Vm("Animation","AnimationEnd"),animationiteration:Vm("Animation","AnimationIteration"),animationstart:Vm("Animation","AnimationStart"),transitionend:Vm("Transition","TransitionEnd")},ow={},KR={};Uo&&(KR=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function G0(t){if(ow[t])return ow[t];if(!Ku[t])return t;var e=Ku[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in KR)return ow[t]=e[r];return t}var QR=G0("animationend"),JR=G0("animationiteration"),ZR=G0("animationstart"),eD=G0("transitionend"),tD=new Map,J_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(t,e){tD.set(t,e),du(e,[t])}for(var lw=0;lw<J_.length;lw++){var cw=J_[lw],F4=cw.toLowerCase(),A4=cw[0].toUpperCase()+cw.slice(1);ec(F4,"on"+A4)}ec(QR,"onAnimationEnd");ec(JR,"onAnimationIteration");ec(ZR,"onAnimationStart");ec("dblclick","onDoubleClick");ec("focusin","onFocus");ec("focusout","onBlur");ec(eD,"onTransitionEnd");Cd("onMouseEnter",["mouseout","mouseover"]);Cd("onMouseLeave",["mouseout","mouseover"]);Cd("onPointerEnter",["pointerout","pointerover"]);Cd("onPointerLeave",["pointerout","pointerover"]);du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));du("onBeforeInput",["compositionend","keypress","textInput","paste"]);du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function Z_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,F3(n,e,void 0,t),t.currentTarget=null}function rD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Z_(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Z_(i,o,c),s=l}}}if(wy)throw t=iS,wy=!1,iS=null,t}function $r(t,e){var r=e[pS];r===void 0&&(r=e[pS]=new Set);var n=t+"__bubble";r.has(n)||(nD(e,t,2,!1),r.add(n))}function uw(t,e,r){var n=0;e&&(n|=4),nD(r,t,n,e)}var zm="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[zm]){t[zm]=!0,uR.forEach(function(r){r!=="selectionchange"&&(O4.has(r)||uw(r,!1,t),uw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zm]||(e[zm]=!0,uw("selectionchange",!1,e))}}function nD(t,e,r,n){switch(VR(e)){case 1:var i=J3;break;case 4:i=Z3;break;default:i=dk}r=i.bind(null,e,r,t),i=void 0,!nS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dw(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Tc(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}_R(function(){var c=s,u=ok(r),d=[];e:{var h=tD.get(t);if(h!==void 0){var p=fk,f=t;switch(t){case"keypress":if(Wg(r)===0)break e;case"keydown":case"keyup":p=p4;break;case"focusin":f="focus",p=iw;break;case"focusout":f="blur",p=iw;break;case"beforeblur":case"afterblur":p=iw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=z_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=r4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=y4;break;case QR:case JR:case ZR:p=s4;break;case eD:p=v4;break;case"scroll":p=e4;break;case"wheel":p=x4;break;case"copy":case"cut":case"paste":p=o4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H_}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,v;b!==null;){v=b;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,y!==null&&(k=Wf(b,y),k!=null&&m.push(qf(b,k,v)))),g)break;b=b.return}0<m.length&&(h=new p(h,f,null,r,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==tS&&(f=r.relatedTarget||r.fromElement)&&(Tc(f)||f[Go]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=r.relatedTarget||r.toElement,p=c,f=f?Tc(f):null,f!==null&&(g=hu(f),f!==g||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=z_,k="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=H_,k="onPointerLeave",y="onPointerEnter",b="pointer"),g=p==null?h:Qu(p),v=f==null?h:Qu(f),h=new m(k,b+"leave",p,r,u),h.target=g,h.relatedTarget=v,k=null,Tc(u)===c&&(m=new m(y,b+"enter",f,r,u),m.target=v,m.relatedTarget=g,k=m),g=k,p&&f)t:{for(m=p,y=f,b=0,v=m;v;v=Cu(v))b++;for(v=0,k=y;k;k=Cu(k))v++;for(;0<b-v;)m=Cu(m),b--;for(;0<v-b;)y=Cu(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Cu(m),y=Cu(y)}m=null}else m=null;p!==null&&eP(d,h,p,m,!1),f!==null&&g!==null&&eP(d,g,f,m,!0)}}e:{if(h=c?Qu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=B4;else if(j_(h))if(jR)C=R4;else{C=M4;var S=N4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=E4);if(C&&(C=C(t,c))){GR(d,C,r,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Kx(h,"number",h.value)}switch(S=c?Qu(c):window,t){case"focusin":(j_(S)||S.contentEditable==="true")&&(qu=S,lS=c,gf=null);break;case"focusout":gf=lS=qu=null;break;case"mousedown":cS=!0;break;case"contextmenu":case"mouseup":case"dragend":cS=!1,Q_(d,r,u);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":Q_(d,r,u)}var _;if(mk)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Xu?HR(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(WR&&r.locale!=="ko"&&(Xu||B!=="onCompositionStart"?B==="onCompositionEnd"&&Xu&&(_=zR()):(Pl=u,hk="value"in Pl?Pl.value:Pl.textContent,Xu=!0)),S=Ty(c,B),0<S.length&&(B=new W_(B,t,null,r,u),d.push({event:B,listeners:S}),_?B.data=_:(_=UR(r),_!==null&&(B.data=_)))),(_=k4?C4(t,r):T4(t,r))&&(c=Ty(c,"onBeforeInput"),0<c.length&&(u=new W_("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=_))}rD(d,e)})}function qf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ty(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wf(t,r),s!=null&&n.unshift(qf(t,s,i)),s=Wf(t,e),s!=null&&n.push(qf(t,s,i))),t=t.return}return n}function Cu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eP(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Wf(r,s),l!=null&&a.unshift(qf(r,l,o))):i||(l=Wf(r,s),l!=null&&a.push(qf(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var $4=/\r\n?/g,V4=/\u0000|\uFFFD/g;function tP(t){return(typeof t=="string"?t:""+t).replace($4,`
`).replace(V4,"")}function Wm(t,e,r){if(e=tP(e),tP(t)!==e&&r)throw Error(Ve(425))}function _y(){}var uS=null,dS=null;function hS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fS=typeof setTimeout=="function"?setTimeout:void 0,z4=typeof clearTimeout=="function"?clearTimeout:void 0,rP=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof rP<"u"?function(t){return rP.resolve(null).then(t).catch(H4)}:fS;function H4(t){setTimeout(function(){throw t})}function hw(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Gf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gf(e)}function Fl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rh=Math.random().toString(36).slice(2),eo="__reactFiber$"+rh,Kf="__reactProps$"+rh,Go="__reactContainer$"+rh,pS="__reactEvents$"+rh,U4="__reactListeners$"+rh,G4="__reactHandles$"+rh;function Tc(t){var e=t[eo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Go]||r[eo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nP(t);t!==null;){if(r=t[eo])return r;t=nP(t)}return e}t=r,r=t.parentNode}return null}function Jp(t){return t=t[eo]||t[Go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function j0(t){return t[Kf]||null}var mS=[],Ju=-1;function tc(t){return{current:t}}function Ur(t){0>Ju||(t.current=mS[Ju],mS[Ju]=null,Ju--)}function Ar(t,e){Ju++,mS[Ju]=t.current,t.current=e}var Yl={},bi=tc(Yl),Ji=tc(!1),qc=Yl;function Td(t,e){var r=t.type.contextTypes;if(!r)return Yl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zi(t){return t=t.childContextTypes,t!=null}function Py(){Ur(Ji),Ur(bi)}function iP(t,e,r){if(bi.current!==Yl)throw Error(Ve(168));Ar(bi,e),Ar(Ji,r)}function iD(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ve(108,N3(t)||"Unknown",i));return ln({},r,n)}function By(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yl,qc=bi.current,Ar(bi,t),Ar(Ji,Ji.current),!0}function sP(t,e,r){var n=t.stateNode;if(!n)throw Error(Ve(169));r?(t=iD(t,e,qc),n.__reactInternalMemoizedMergedChildContext=t,Ur(Ji),Ur(bi),Ar(bi,t)):Ur(Ji),Ar(Ji,r)}var Po=null,Y0=!1,fw=!1;function sD(t){Po===null?Po=[t]:Po.push(t)}function j4(t){Y0=!0,sD(t)}function rc(){if(!fw&&Po!==null){fw=!0;var t=0,e=wr;try{var r=Po;for(wr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Po=null,Y0=!1}catch(i){throw Po!==null&&(Po=Po.slice(t+1)),MR(lk,rc),i}finally{wr=e,fw=!1}}return null}var Zu=[],ed=0,Ny=null,My=0,Fs=[],As=0,Kc=null,Ro=1,Do="";function mc(t,e){Zu[ed++]=My,Zu[ed++]=Ny,Ny=t,My=e}function aD(t,e,r){Fs[As++]=Ro,Fs[As++]=Do,Fs[As++]=Kc,Kc=t;var n=Ro;t=Do;var i=32-Da(n)-1;n&=~(1<<i),r+=1;var s=32-Da(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ro=1<<32-Da(e)+i|r<<i|n,Do=s+t}else Ro=1<<s|r<<i|n,Do=t}function yk(t){t.return!==null&&(mc(t,1),aD(t,1,0))}function bk(t){for(;t===Ny;)Ny=Zu[--ed],Zu[ed]=null,My=Zu[--ed],Zu[ed]=null;for(;t===Kc;)Kc=Fs[--As],Fs[As]=null,Do=Fs[--As],Fs[As]=null,Ro=Fs[--As],Fs[As]=null}var ys=null,ms=null,Zr=!1,xa=null;function oD(t,e){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function aP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ys=t,ms=Fl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ys=t,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Kc!==null?{id:Ro,overflow:Do}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ys=t,ms=null,!0):!1;default:return!1}}function gS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yS(t){if(Zr){var e=ms;if(e){var r=e;if(!aP(t,e)){if(gS(t))throw Error(Ve(418));e=Fl(r.nextSibling);var n=ys;e&&aP(t,e)?oD(n,r):(t.flags=t.flags&-4097|2,Zr=!1,ys=t)}}else{if(gS(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,Zr=!1,ys=t}}}function oP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ys=t}function Hm(t){if(t!==ys)return!1;if(!Zr)return oP(t),Zr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hS(t.type,t.memoizedProps)),e&&(e=ms)){if(gS(t))throw lD(),Error(Ve(418));for(;e;)oD(t,e),e=Fl(e.nextSibling)}if(oP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ms=Fl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ms=null}}else ms=ys?Fl(t.stateNode.nextSibling):null;return!0}function lD(){for(var t=ms;t;)t=Fl(t.nextSibling)}function _d(){ms=ys=null,Zr=!1}function vk(t){xa===null?xa=[t]:xa.push(t)}var Y4=rl.ReactCurrentBatchConfig;function ga(t,e){if(t&&t.defaultProps){e=ln({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ey=tc(null),Ry=null,td=null,wk=null;function xk(){wk=td=Ry=null}function Sk(t){var e=Ey.current;Ur(Ey),t._currentValue=e}function bS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pd(t,e){Ry=t,wk=td=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xi=!0),t.firstContext=null)}function Zs(t){var e=t._currentValue;if(wk!==t)if(t={context:t,memoizedValue:e,next:null},td===null){if(Ry===null)throw Error(Ve(308));td=t,Ry.dependencies={lanes:0,firstContext:t}}else td=td.next=t;return e}var _c=null;function kk(t){_c===null?_c=[t]:_c.push(t)}function cD(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,kk(e)):(r.next=i.next,i.next=r),e.interleaved=r,jo(t,n)}function jo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var kl=!1;function Ck(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Al(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,lr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,jo(t,r)}return i=n.interleaved,i===null?(e.next=e,kk(n)):(e.next=i.next,i.next=e),n.interleaved=e,jo(t,r)}function Hg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ck(t,r)}}function lP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Dy(t,e,r,n){var i=t.updateQueue;kl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,m=o;switch(h=e,p=r,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=ln({},d,h);break e;case 2:kl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jc|=a,t.lanes=a,t.memoizedState=d}}function cP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var dD=new cR.Component().refs;function vS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ln({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var X0={isMounted:function(t){return(t=t._reactInternals)?hu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Li(),i=$l(t),s=Vo(n,i);s.payload=e,r!=null&&(s.callback=r),e=Al(t,s,i),e!==null&&(Ia(e,t,i,n),Hg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Li(),i=$l(t),s=Vo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Al(t,s,i),e!==null&&(Ia(e,t,i,n),Hg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Li(),n=$l(t),i=Vo(r,n);i.tag=2,e!=null&&(i.callback=e),e=Al(t,i,n),e!==null&&(Ia(e,t,n,r),Hg(e,t,n))}};function uP(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Yf(r,n)||!Yf(i,s):!0}function hD(t,e,r){var n=!1,i=Yl,s=e.contextType;return typeof s=="object"&&s!==null?s=Zs(s):(i=Zi(e)?qc:bi.current,n=e.contextTypes,s=(n=n!=null)?Td(t,i):Yl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=X0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&X0.enqueueReplaceState(e,e.state,null)}function wS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=dD,Ck(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zs(s):(s=Zi(e)?qc:bi.current,i.context=Td(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vS(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&X0.enqueueReplaceState(i,i.state,null),Dy(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ch(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;o===dD&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,t))}return t}function Um(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hP(t){var e=t._init;return e(t._payload)}function fD(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Vl(y,b),y.index=0,y.sibling=null,y}function s(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,v,k){return b===null||b.tag!==6?(b=ww(v,y.mode,k),b.return=y,b):(b=i(b,v),b.return=y,b)}function l(y,b,v,k){var C=v.type;return C===Yu?u(y,b,v.props.children,k,v.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&hP(C)===b.type)?(k=i(b,v.props),k.ref=Ch(y,b,v),k.return=y,k):(k=qg(v.type,v.key,v.props,null,y.mode,k),k.ref=Ch(y,b,v),k.return=y,k)}function c(y,b,v,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=xw(v,y.mode,k),b.return=y,b):(b=i(b,v.children||[]),b.return=y,b)}function u(y,b,v,k,C){return b===null||b.tag!==7?(b=zc(v,y.mode,k,C),b.return=y,b):(b=i(b,v),b.return=y,b)}function d(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ww(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dm:return v=qg(b.type,b.key,b.props,null,y.mode,v),v.ref=Ch(y,null,b),v.return=y,v;case ju:return b=xw(b,y.mode,v),b.return=y,b;case Sl:var k=b._init;return d(y,k(b._payload),v)}if(ef(b)||vh(b))return b=zc(b,y.mode,v,null),b.return=y,b;Um(y,b)}return null}function h(y,b,v,k){var C=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(y,b,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dm:return v.key===C?l(y,b,v,k):null;case ju:return v.key===C?c(y,b,v,k):null;case Sl:return C=v._init,h(y,b,C(v._payload),k)}if(ef(v)||vh(v))return C!==null?null:u(y,b,v,k,null);Um(y,v)}return null}function p(y,b,v,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(v)||null,o(b,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Dm:return y=y.get(k.key===null?v:k.key)||null,l(b,y,k,C);case ju:return y=y.get(k.key===null?v:k.key)||null,c(b,y,k,C);case Sl:var S=k._init;return p(y,b,v,S(k._payload),C)}if(ef(k)||vh(k))return y=y.get(v)||null,u(b,y,k,C,null);Um(b,k)}return null}function f(y,b,v,k){for(var C=null,S=null,_=b,B=b=0,D=null;_!==null&&B<v.length;B++){_.index>B?(D=_,_=null):D=_.sibling;var E=h(y,_,v[B],k);if(E===null){_===null&&(_=D);break}t&&_&&E.alternate===null&&e(y,_),b=s(E,b,B),S===null?C=E:S.sibling=E,S=E,_=D}if(B===v.length)return r(y,_),Zr&&mc(y,B),C;if(_===null){for(;B<v.length;B++)_=d(y,v[B],k),_!==null&&(b=s(_,b,B),S===null?C=_:S.sibling=_,S=_);return Zr&&mc(y,B),C}for(_=n(y,_);B<v.length;B++)D=p(_,y,B,v[B],k),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?B:D.key),b=s(D,b,B),S===null?C=D:S.sibling=D,S=D);return t&&_.forEach(function(R){return e(y,R)}),Zr&&mc(y,B),C}function m(y,b,v,k){var C=vh(v);if(typeof C!="function")throw Error(Ve(150));if(v=C.call(v),v==null)throw Error(Ve(151));for(var S=C=null,_=b,B=b=0,D=null,E=v.next();_!==null&&!E.done;B++,E=v.next()){_.index>B?(D=_,_=null):D=_.sibling;var R=h(y,_,E.value,k);if(R===null){_===null&&(_=D);break}t&&_&&R.alternate===null&&e(y,_),b=s(R,b,B),S===null?C=R:S.sibling=R,S=R,_=D}if(E.done)return r(y,_),Zr&&mc(y,B),C;if(_===null){for(;!E.done;B++,E=v.next())E=d(y,E.value,k),E!==null&&(b=s(E,b,B),S===null?C=E:S.sibling=E,S=E);return Zr&&mc(y,B),C}for(_=n(y,_);!E.done;B++,E=v.next())E=p(_,y,B,E.value,k),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?B:E.key),b=s(E,b,B),S===null?C=E:S.sibling=E,S=E);return t&&_.forEach(function(O){return e(y,O)}),Zr&&mc(y,B),C}function g(y,b,v,k){if(typeof v=="object"&&v!==null&&v.type===Yu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Dm:e:{for(var C=v.key,S=b;S!==null;){if(S.key===C){if(C=v.type,C===Yu){if(S.tag===7){r(y,S.sibling),b=i(S,v.props.children),b.return=y,y=b;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&hP(C)===S.type){r(y,S.sibling),b=i(S,v.props),b.ref=Ch(y,S,v),b.return=y,y=b;break e}r(y,S);break}else e(y,S);S=S.sibling}v.type===Yu?(b=zc(v.props.children,y.mode,k,v.key),b.return=y,y=b):(k=qg(v.type,v.key,v.props,null,y.mode,k),k.ref=Ch(y,b,v),k.return=y,y=k)}return a(y);case ju:e:{for(S=v.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=i(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=xw(v,y.mode,k),b.return=y,y=b}return a(y);case Sl:return S=v._init,g(y,b,S(v._payload),k)}if(ef(v))return f(y,b,v,k);if(vh(v))return m(y,b,v,k);Um(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,v),b.return=y,y=b):(r(y,b),b=ww(v,y.mode,k),b.return=y,y=b),a(y)):r(y,b)}return g}var Pd=fD(!0),pD=fD(!1),Zp={},co=tc(Zp),Qf=tc(Zp),Jf=tc(Zp);function Pc(t){if(t===Zp)throw Error(Ve(174));return t}function Tk(t,e){switch(Ar(Jf,e),Ar(Qf,t),Ar(co,Zp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jx(e,t)}Ur(co),Ar(co,e)}function Bd(){Ur(co),Ur(Qf),Ur(Jf)}function mD(t){Pc(Jf.current);var e=Pc(co.current),r=Jx(e,t.type);e!==r&&(Ar(Qf,t),Ar(co,r))}function _k(t){Qf.current===t&&(Ur(co),Ur(Qf))}var rn=tc(0);function Iy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pw=[];function Pk(){for(var t=0;t<pw.length;t++)pw[t]._workInProgressVersionPrimary=null;pw.length=0}var Ug=rl.ReactCurrentDispatcher,mw=rl.ReactCurrentBatchConfig,Qc=0,an=null,Hn=null,ei=null,Ly=!1,yf=!1,Zf=0,X4=0;function pi(){throw Error(Ve(321))}function Bk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oa(t[r],e[r]))return!1;return!0}function Nk(t,e,r,n,i,s){if(Qc=s,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ug.current=t===null||t.memoizedState===null?J4:Z4,t=r(n,i),yf){s=0;do{if(yf=!1,Zf=0,25<=s)throw Error(Ve(301));s+=1,ei=Hn=null,e.updateQueue=null,Ug.current=eV,t=r(n,i)}while(yf)}if(Ug.current=Fy,e=Hn!==null&&Hn.next!==null,Qc=0,ei=Hn=an=null,Ly=!1,e)throw Error(Ve(300));return t}function Mk(){var t=Zf!==0;return Zf=0,t}function Xa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?an.memoizedState=ei=t:ei=ei.next=t,ei}function ea(){if(Hn===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=Hn.next;var e=ei===null?an.memoizedState:ei.next;if(e!==null)ei=e,Hn=t;else{if(t===null)throw Error(Ve(310));Hn=t,t={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ei===null?an.memoizedState=ei=t:ei=ei.next=t}return ei}function ep(t,e){return typeof e=="function"?e(t):e}function gw(t){var e=ea(),r=e.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=t;var n=Hn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Qc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,an.lanes|=u,Jc|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Oa(n,e.memoizedState)||(Xi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,an.lanes|=s,Jc|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yw(t){var e=ea(),r=e.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Oa(s,e.memoizedState)||(Xi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function gD(){}function yD(t,e){var r=an,n=ea(),i=e(),s=!Oa(n.memoizedState,i);if(s&&(n.memoizedState=i,Xi=!0),n=n.queue,Ek(wD.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ei!==null&&ei.memoizedState.tag&1){if(r.flags|=2048,tp(9,vD.bind(null,r,n,i,e),void 0,null),ri===null)throw Error(Ve(349));Qc&30||bD(r,e,i)}return i}function bD(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function vD(t,e,r,n){e.value=r,e.getSnapshot=n,xD(e)&&SD(t)}function wD(t,e,r){return r(function(){xD(e)&&SD(t)})}function xD(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oa(t,r)}catch{return!0}}function SD(t){var e=jo(t,1);e!==null&&Ia(e,t,1,-1)}function fP(t){var e=Xa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:t},e.queue=t,t=t.dispatch=Q4.bind(null,an,t),[e.memoizedState,t]}function tp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kD(){return ea().memoizedState}function Gg(t,e,r,n){var i=Xa();an.flags|=t,i.memoizedState=tp(1|e,r,void 0,n===void 0?null:n)}function q0(t,e,r,n){var i=ea();n=n===void 0?null:n;var s=void 0;if(Hn!==null){var a=Hn.memoizedState;if(s=a.destroy,n!==null&&Bk(n,a.deps)){i.memoizedState=tp(e,r,s,n);return}}an.flags|=t,i.memoizedState=tp(1|e,r,s,n)}function pP(t,e){return Gg(8390656,8,t,e)}function Ek(t,e){return q0(2048,8,t,e)}function CD(t,e){return q0(4,2,t,e)}function TD(t,e){return q0(4,4,t,e)}function _D(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PD(t,e,r){return r=r!=null?r.concat([t]):null,q0(4,4,_D.bind(null,e,t),r)}function Rk(){}function BD(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ND(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function MD(t,e,r){return Qc&21?(Oa(r,e)||(r=DR(),an.lanes|=r,Jc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xi=!0),t.memoizedState=r)}function q4(t,e){var r=wr;wr=r!==0&&4>r?r:4,t(!0);var n=mw.transition;mw.transition={};try{t(!1),e()}finally{wr=r,mw.transition=n}}function ED(){return ea().memoizedState}function K4(t,e,r){var n=$l(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RD(t))DD(e,r);else if(r=cD(t,e,r,n),r!==null){var i=Li();Ia(r,t,n,i),ID(r,e,n)}}function Q4(t,e,r){var n=$l(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RD(t))DD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Oa(o,a)){var l=e.interleaved;l===null?(i.next=i,kk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=cD(t,e,i,n),r!==null&&(i=Li(),Ia(r,t,n,i),ID(r,e,n))}}function RD(t){var e=t.alternate;return t===an||e!==null&&e===an}function DD(t,e){yf=Ly=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ID(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ck(t,r)}}var Fy={readContext:Zs,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},J4={readContext:Zs,useCallback:function(t,e){return Xa().memoizedState=[t,e===void 0?null:e],t},useContext:Zs,useEffect:pP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gg(4194308,4,_D.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gg(4,2,t,e)},useMemo:function(t,e){var r=Xa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=K4.bind(null,an,t),[n.memoizedState,t]},useRef:function(t){var e=Xa();return t={current:t},e.memoizedState=t},useState:fP,useDebugValue:Rk,useDeferredValue:function(t){return Xa().memoizedState=t},useTransition:function(){var t=fP(!1),e=t[0];return t=q4.bind(null,t[1]),Xa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=an,i=Xa();if(Zr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=e(),ri===null)throw Error(Ve(349));Qc&30||bD(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,pP(wD.bind(null,n,s,t),[t]),n.flags|=2048,tp(9,vD.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Xa(),e=ri.identifierPrefix;if(Zr){var r=Do,n=Ro;r=(n&~(1<<32-Da(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=X4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z4={readContext:Zs,useCallback:BD,useContext:Zs,useEffect:Ek,useImperativeHandle:PD,useInsertionEffect:CD,useLayoutEffect:TD,useMemo:ND,useReducer:gw,useRef:kD,useState:function(){return gw(ep)},useDebugValue:Rk,useDeferredValue:function(t){var e=ea();return MD(e,Hn.memoizedState,t)},useTransition:function(){var t=gw(ep)[0],e=ea().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:ED,unstable_isNewReconciler:!1},eV={readContext:Zs,useCallback:BD,useContext:Zs,useEffect:Ek,useImperativeHandle:PD,useInsertionEffect:CD,useLayoutEffect:TD,useMemo:ND,useReducer:yw,useRef:kD,useState:function(){return yw(ep)},useDebugValue:Rk,useDeferredValue:function(t){var e=ea();return Hn===null?e.memoizedState=t:MD(e,Hn.memoizedState,t)},useTransition:function(){var t=yw(ep)[0],e=ea().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:ED,unstable_isNewReconciler:!1};function Nd(t,e){try{var r="",n=e;do r+=B3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tV=typeof WeakMap=="function"?WeakMap:Map;function LD(t,e,r){r=Vo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Oy||(Oy=!0,ES=n),xS(t,e)},r}function FD(t,e,r){r=Vo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xS(t,e),typeof n!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function mP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tV;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=mV.bind(null,t,e,r),e.then(t,t))}function gP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vo(-1,1),e.tag=2,Al(r,e,1))),r.lanes|=1),t)}var rV=rl.ReactCurrentOwner,Xi=!1;function _i(t,e,r,n){e.child=t===null?pD(e,null,r,n):Pd(e,t.child,r,n)}function bP(t,e,r,n,i){r=r.render;var s=e.ref;return pd(e,i),n=Nk(t,e,r,n,s,i),r=Mk(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Zr&&r&&yk(e),e.flags|=1,_i(t,e,n,i),e.child)}function vP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Vk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,AD(t,e,s,n,i)):(t=qg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yf,r(a,n)&&t.ref===e.ref)return Yo(t,e,i)}return e.flags|=1,t=Vl(s,n),t.ref=e.ref,t.return=e,e.child=t}function AD(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Yf(s,n)&&t.ref===e.ref)if(Xi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Xi=!0);else return e.lanes=t.lanes,Yo(t,e,i)}return SS(t,e,r,n,i)}function OD(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(nd,cs),cs|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ar(nd,cs),cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ar(nd,cs),cs|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ar(nd,cs),cs|=n;return _i(t,e,i,r),e.child}function $D(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function SS(t,e,r,n,i){var s=Zi(r)?qc:bi.current;return s=Td(e,s),pd(e,i),r=Nk(t,e,r,n,s,i),n=Mk(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Zr&&n&&yk(e),e.flags|=1,_i(t,e,r,i),e.child)}function wP(t,e,r,n,i){if(Zi(r)){var s=!0;By(e)}else s=!1;if(pd(e,i),e.stateNode===null)jg(t,e),hD(e,r,n),wS(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zs(c):(c=Zi(r)?qc:bi.current,c=Td(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&dP(e,a,n,c),kl=!1;var h=e.memoizedState;a.state=h,Dy(e,n,a,i),l=e.memoizedState,o!==n||h!==l||Ji.current||kl?(typeof u=="function"&&(vS(e,r,u,n),l=e.memoizedState),(o=kl||uP(e,r,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,uD(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ga(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zs(l):(l=Zi(r)?qc:bi.current,l=Td(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&dP(e,a,n,l),kl=!1,h=e.memoizedState,a.state=h,Dy(e,n,a,i);var f=e.memoizedState;o!==d||h!==f||Ji.current||kl?(typeof p=="function"&&(vS(e,r,p,n),f=e.memoizedState),(c=kl||uP(e,r,c,n,h,f,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return kS(t,e,r,n,s,i)}function kS(t,e,r,n,i,s){$D(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&sP(e,r,!1),Yo(t,e,s);n=e.stateNode,rV.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Pd(e,t.child,null,s),e.child=Pd(e,null,o,s)):_i(t,e,o,s),e.memoizedState=n.state,i&&sP(e,r,!0),e.child}function VD(t){var e=t.stateNode;e.pendingContext?iP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iP(t,e.context,!1),Tk(t,e.containerInfo)}function xP(t,e,r,n,i){return _d(),vk(i),e.flags|=256,_i(t,e,r,n),e.child}var CS={dehydrated:null,treeContext:null,retryLane:0};function TS(t){return{baseLanes:t,cachePool:null,transitions:null}}function zD(t,e,r){var n=e.pendingProps,i=rn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ar(rn,i&1),t===null)return yS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=J0(a,n,0,null),t=zc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=TS(r),e.memoizedState=CS,t):Dk(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return nV(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Vl(o,s):(s=zc(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?TS(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=CS,n}return s=t.child,t=s.sibling,n=Vl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Dk(t,e){return e=J0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gm(t,e,r,n){return n!==null&&vk(n),Pd(e,t.child,null,r),t=Dk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nV(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=bw(Error(Ve(422))),Gm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=J0({mode:"visible",children:n.children},i,0,null),s=zc(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Pd(e,t.child,null,a),e.child.memoizedState=TS(a),e.memoizedState=CS,s);if(!(e.mode&1))return Gm(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ve(419)),n=bw(s,n,void 0),Gm(t,e,a,n)}if(o=(a&t.childLanes)!==0,Xi||o){if(n=ri,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jo(t,i),Ia(n,t,i,-1))}return $k(),n=bw(Error(Ve(421))),Gm(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ms=Fl(i.nextSibling),ys=e,Zr=!0,xa=null,t!==null&&(Fs[As++]=Ro,Fs[As++]=Do,Fs[As++]=Kc,Ro=t.id,Do=t.overflow,Kc=e),e=Dk(e,n.children),e.flags|=4096,e)}function SP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bS(t.return,e,r)}function vw(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function WD(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_i(t,e,n.children,r),n=rn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SP(t,r,e);else if(t.tag===19)SP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ar(rn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Iy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),vw(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Iy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}vw(e,!0,r,null,s);break;case"together":vw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,r=Vl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function iV(t,e,r){switch(e.tag){case 3:VD(e),_d();break;case 5:mD(e);break;case 1:Zi(e.type)&&By(e);break;case 4:Tk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ar(Ey,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ar(rn,rn.current&1),e.flags|=128,null):r&e.child.childLanes?zD(t,e,r):(Ar(rn,rn.current&1),t=Yo(t,e,r),t!==null?t.sibling:null);Ar(rn,rn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return WD(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ar(rn,rn.current),n)break;return null;case 22:case 23:return e.lanes=0,OD(t,e,r)}return Yo(t,e,r)}var HD,_S,UD,GD;HD=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_S=function(){};UD=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Pc(co.current);var s=null;switch(r){case"input":i=Xx(t,i),n=Xx(t,n),s=[];break;case"select":i=ln({},i,{value:void 0}),n=ln({},n,{value:void 0}),s=[];break;case"textarea":i=Qx(t,i),n=Qx(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_y)}Zx(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$r("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};GD=function(t,e,r,n){r!==n&&(e.flags|=4)};function Th(t,e){if(!Zr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sV(t,e,r){var n=e.pendingProps;switch(bk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return Zi(e.type)&&Py(),mi(e),null;case 3:return n=e.stateNode,Bd(),Ur(Ji),Ur(bi),Pk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Hm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xa!==null&&(IS(xa),xa=null))),_S(t,e),mi(e),null;case 5:_k(e);var i=Pc(Jf.current);if(r=e.type,t!==null&&e.stateNode!=null)UD(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ve(166));return mi(e),null}if(t=Pc(co.current),Hm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[eo]=e,n[Kf]=s,t=(e.mode&1)!==0,r){case"dialog":$r("cancel",n),$r("close",n);break;case"iframe":case"object":case"embed":$r("load",n);break;case"video":case"audio":for(i=0;i<rf.length;i++)$r(rf[i],n);break;case"source":$r("error",n);break;case"img":case"image":case"link":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"input":E_(n,s),$r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$r("invalid",n);break;case"textarea":D_(n,s),$r("invalid",n)}Zx(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Wm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Wm(n.textContent,o,t),i=["children",""+o]):Vf.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&$r("scroll",n)}switch(r){case"input":Im(n),R_(n,s,!0);break;case"textarea":Im(n),I_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=_y)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bR(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[eo]=e,t[Kf]=n,HD(t,e,!1,!1),e.stateNode=t;e:{switch(a=eS(r,n),r){case"dialog":$r("cancel",t),$r("close",t),i=n;break;case"iframe":case"object":case"embed":$r("load",t),i=n;break;case"video":case"audio":for(i=0;i<rf.length;i++)$r(rf[i],t);i=n;break;case"source":$r("error",t),i=n;break;case"img":case"image":case"link":$r("error",t),$r("load",t),i=n;break;case"details":$r("toggle",t),i=n;break;case"input":E_(t,n),i=Xx(t,n),$r("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ln({},n,{value:void 0}),$r("invalid",t);break;case"textarea":D_(t,n),i=Qx(t,n),$r("invalid",t);break;default:i=n}Zx(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?xR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vR(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zf(t,l):typeof l=="number"&&zf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$r("scroll",t):l!=null&&nk(t,s,l,a))}switch(r){case"input":Im(t),R_(t,n,!1);break;case"textarea":Im(t),I_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ud(t,!!n.multiple,s,!1):n.defaultValue!=null&&ud(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_y)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(t&&e.stateNode!=null)GD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ve(166));if(r=Pc(Jf.current),Pc(co.current),Hm(e)){if(n=e.stateNode,r=e.memoizedProps,n[eo]=e,(s=n.nodeValue!==r)&&(t=ys,t!==null))switch(t.tag){case 3:Wm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[eo]=e,e.stateNode=n}return mi(e),null;case 13:if(Ur(rn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zr&&ms!==null&&e.mode&1&&!(e.flags&128))lD(),_d(),e.flags|=98560,s=!1;else if(s=Hm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[eo]=e}else _d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else xa!==null&&(IS(xa),xa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Gn===0&&(Gn=3):$k())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return Bd(),_S(t,e),t===null&&Xf(e.stateNode.containerInfo),mi(e),null;case 10:return Sk(e.type._context),mi(e),null;case 17:return Zi(e.type)&&Py(),mi(e),null;case 19:if(Ur(rn),s=e.memoizedState,s===null)return mi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Th(s,!1);else{if(Gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Iy(t),a!==null){for(e.flags|=128,Th(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ar(rn,rn.current&1|2),e.child}t=t.sibling}s.tail!==null&&_n()>Md&&(e.flags|=128,n=!0,Th(s,!1),e.lanes=4194304)}else{if(!n)if(t=Iy(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Th(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Zr)return mi(e),null}else 2*_n()-s.renderingStartTime>Md&&r!==1073741824&&(e.flags|=128,n=!0,Th(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_n(),e.sibling=null,r=rn.current,Ar(rn,n?r&1|2:r&1),e):(mi(e),null);case 22:case 23:return Ok(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cs&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function aV(t,e){switch(bk(e),e.tag){case 1:return Zi(e.type)&&Py(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bd(),Ur(Ji),Ur(bi),Pk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _k(e),null;case 13:if(Ur(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));_d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ur(rn),null;case 4:return Bd(),null;case 10:return Sk(e.type._context),null;case 22:case 23:return Ok(),null;case 24:return null;default:return null}}var jm=!1,yi=!1,oV=typeof WeakSet=="function"?WeakSet:Set,nt=null;function rd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mn(t,e,n)}else r.current=null}function PS(t,e,r){try{r()}catch(n){mn(t,e,n)}}var kP=!1;function lV(t,e){if(uS=ky,t=qR(),gk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===i&&(o=a),h===s&&++u===n&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dS={focusedElem:t,selectionRange:r},ky=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,g=f.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ga(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(k){mn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return f=kP,kP=!1,f}function bf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PS(e,r,s)}i=i.next}while(i!==n)}}function K0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function BS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jD(t){var e=t.alternate;e!==null&&(t.alternate=null,jD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[eo],delete e[Kf],delete e[pS],delete e[U4],delete e[G4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YD(t){return t.tag===5||t.tag===3||t.tag===4}function CP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_y));else if(n!==4&&(t=t.child,t!==null))for(NS(t,e,r),t=t.sibling;t!==null;)NS(t,e,r),t=t.sibling}function MS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(MS(t,e,r),t=t.sibling;t!==null;)MS(t,e,r),t=t.sibling}var li=null,ya=!1;function ul(t,e,r){for(r=r.child;r!==null;)XD(t,e,r),r=r.sibling}function XD(t,e,r){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(W0,r)}catch{}switch(r.tag){case 5:yi||rd(r,e);case 6:var n=li,i=ya;li=null,ul(t,e,r),li=n,ya=i,li!==null&&(ya?(t=li,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):li.removeChild(r.stateNode));break;case 18:li!==null&&(ya?(t=li,r=r.stateNode,t.nodeType===8?hw(t.parentNode,r):t.nodeType===1&&hw(t,r),Gf(t)):hw(li,r.stateNode));break;case 4:n=li,i=ya,li=r.stateNode.containerInfo,ya=!0,ul(t,e,r),li=n,ya=i;break;case 0:case 11:case 14:case 15:if(!yi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&PS(r,e,a),i=i.next}while(i!==n)}ul(t,e,r);break;case 1:if(!yi&&(rd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){mn(r,e,o)}ul(t,e,r);break;case 21:ul(t,e,r);break;case 22:r.mode&1?(yi=(n=yi)||r.memoizedState!==null,ul(t,e,r),yi=n):ul(t,e,r);break;default:ul(t,e,r)}}function TP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oV),e.forEach(function(n){var i=yV.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function fa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:li=o.stateNode,ya=!1;break e;case 3:li=o.stateNode.containerInfo,ya=!0;break e;case 4:li=o.stateNode.containerInfo,ya=!0;break e}o=o.return}if(li===null)throw Error(Ve(160));XD(s,a,i),li=null,ya=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){mn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qD(e,t),e=e.sibling}function qD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fa(e,t),Ya(t),n&4){try{bf(3,t,t.return),K0(3,t)}catch(m){mn(t,t.return,m)}try{bf(5,t,t.return)}catch(m){mn(t,t.return,m)}}break;case 1:fa(e,t),Ya(t),n&512&&r!==null&&rd(r,r.return);break;case 5:if(fa(e,t),Ya(t),n&512&&r!==null&&rd(r,r.return),t.flags&32){var i=t.stateNode;try{zf(i,"")}catch(m){mn(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&gR(i,s),eS(o,a);var c=eS(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?xR(i,d):u==="dangerouslySetInnerHTML"?vR(i,d):u==="children"?zf(i,d):nk(i,u,d,c)}switch(o){case"input":qx(i,s);break;case"textarea":yR(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ud(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?ud(i,!!s.multiple,s.defaultValue,!0):ud(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kf]=s}catch(m){mn(t,t.return,m)}}break;case 6:if(fa(e,t),Ya(t),n&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){mn(t,t.return,m)}}break;case 3:if(fa(e,t),Ya(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gf(e.containerInfo)}catch(m){mn(t,t.return,m)}break;case 4:fa(e,t),Ya(t);break;case 13:fa(e,t),Ya(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fk=_n())),n&4&&TP(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(yi=(c=yi)||u,fa(e,t),yi=c):fa(e,t),Ya(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(nt=t,u=t.child;u!==null;){for(d=nt=u;nt!==null;){switch(h=nt,p=h.child,h.tag){case 0:case 11:case 14:case 15:bf(4,h,h.return);break;case 1:rd(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){mn(n,r,m)}}break;case 5:rd(h,h.return);break;case 22:if(h.memoizedState!==null){PP(d);continue}}p!==null?(p.return=h,nt=p):PP(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wR("display",a))}catch(m){mn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){mn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(e,t),Ya(t),n&4&&TP(t);break;case 21:break;default:fa(e,t),Ya(t)}}function Ya(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YD(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zf(i,""),n.flags&=-33);var s=CP(t);MS(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=CP(t);NS(t,o,a);break;default:throw Error(Ve(161))}}catch(l){mn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cV(t,e,r){nt=t,KD(t)}function KD(t,e,r){for(var n=(t.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||jm;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||yi;o=jm;var c=yi;if(jm=a,(yi=l)&&!c)for(nt=i;nt!==null;)a=nt,l=a.child,a.tag===22&&a.memoizedState!==null?BP(i):l!==null?(l.return=a,nt=l):BP(i);for(;s!==null;)nt=s,KD(s),s=s.sibling;nt=i,jm=o,yi=c}_P(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):_P(t)}}function _P(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yi||K0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ga(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Gf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}yi||e.flags&512&&BS(e)}catch(h){mn(e,e.return,h)}}if(e===t){nt=null;break}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}}function PP(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nt=r;break}nt=e.return}}function BP(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{K0(4,e)}catch(l){mn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){mn(e,i,l)}}var s=e.return;try{BS(e)}catch(l){mn(e,s,l)}break;case 5:var a=e.return;try{BS(e)}catch(l){mn(e,a,l)}}}catch(l){mn(e,e.return,l)}if(e===t){nt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nt=o;break}nt=e.return}}var uV=Math.ceil,Ay=rl.ReactCurrentDispatcher,Ik=rl.ReactCurrentOwner,Qs=rl.ReactCurrentBatchConfig,lr=0,ri=null,$n=null,di=0,cs=0,nd=tc(0),Gn=0,rp=null,Jc=0,Q0=0,Lk=0,vf=null,Ui=null,Fk=0,Md=1/0,To=null,Oy=!1,ES=null,Ol=null,Ym=!1,Bl=null,$y=0,wf=0,RS=null,Yg=-1,Xg=0;function Li(){return lr&6?_n():Yg!==-1?Yg:Yg=_n()}function $l(t){return t.mode&1?lr&2&&di!==0?di&-di:Y4.transition!==null?(Xg===0&&(Xg=DR()),Xg):(t=wr,t!==0||(t=window.event,t=t===void 0?16:VR(t.type)),t):1}function Ia(t,e,r,n){if(50<wf)throw wf=0,RS=null,Error(Ve(185));Kp(t,r,n),(!(lr&2)||t!==ri)&&(t===ri&&(!(lr&2)&&(Q0|=r),Gn===4&&Tl(t,di)),es(t,n),r===1&&lr===0&&!(e.mode&1)&&(Md=_n()+500,Y0&&rc()))}function es(t,e){var r=t.callbackNode;Y3(t,e);var n=Sy(t,t===ri?di:0);if(n===0)r!==null&&A_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&A_(r),e===1)t.tag===0?j4(NP.bind(null,t)):sD(NP.bind(null,t)),W4(function(){!(lr&6)&&rc()}),r=null;else{switch(IR(n)){case 1:r=lk;break;case 4:r=ER;break;case 16:r=xy;break;case 536870912:r=RR;break;default:r=xy}r=iI(r,QD.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function QD(t,e){if(Yg=-1,Xg=0,lr&6)throw Error(Ve(327));var r=t.callbackNode;if(md()&&t.callbackNode!==r)return null;var n=Sy(t,t===ri?di:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Vy(t,n);else{e=n;var i=lr;lr|=2;var s=ZD();(ri!==t||di!==e)&&(To=null,Md=_n()+500,Vc(t,e));do try{fV();break}catch(o){JD(t,o)}while(!0);xk(),Ay.current=s,lr=i,$n!==null?e=0:(ri=null,di=0,e=Gn)}if(e!==0){if(e===2&&(i=sS(t),i!==0&&(n=i,e=DS(t,i))),e===1)throw r=rp,Vc(t,0),Tl(t,n),es(t,_n()),r;if(e===6)Tl(t,n);else{if(i=t.current.alternate,!(n&30)&&!dV(i)&&(e=Vy(t,n),e===2&&(s=sS(t),s!==0&&(n=s,e=DS(t,s))),e===1))throw r=rp,Vc(t,0),Tl(t,n),es(t,_n()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ve(345));case 2:gc(t,Ui,To);break;case 3:if(Tl(t,n),(n&130023424)===n&&(e=Fk+500-_n(),10<e)){if(Sy(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Li(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fS(gc.bind(null,t,Ui,To),e);break}gc(t,Ui,To);break;case 4:if(Tl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Da(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=_n()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uV(n/1960))-n,10<n){t.timeoutHandle=fS(gc.bind(null,t,Ui,To),n);break}gc(t,Ui,To);break;case 5:gc(t,Ui,To);break;default:throw Error(Ve(329))}}}return es(t,_n()),t.callbackNode===r?QD.bind(null,t):null}function DS(t,e){var r=vf;return t.current.memoizedState.isDehydrated&&(Vc(t,e).flags|=256),t=Vy(t,e),t!==2&&(e=Ui,Ui=r,e!==null&&IS(e)),t}function IS(t){Ui===null?Ui=t:Ui.push.apply(Ui,t)}function dV(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Oa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tl(t,e){for(e&=~Lk,e&=~Q0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Da(e),n=1<<r;t[r]=-1,e&=~n}}function NP(t){if(lr&6)throw Error(Ve(327));md();var e=Sy(t,0);if(!(e&1))return es(t,_n()),null;var r=Vy(t,e);if(t.tag!==0&&r===2){var n=sS(t);n!==0&&(e=n,r=DS(t,n))}if(r===1)throw r=rp,Vc(t,0),Tl(t,e),es(t,_n()),r;if(r===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gc(t,Ui,To),es(t,_n()),null}function Ak(t,e){var r=lr;lr|=1;try{return t(e)}finally{lr=r,lr===0&&(Md=_n()+500,Y0&&rc())}}function Zc(t){Bl!==null&&Bl.tag===0&&!(lr&6)&&md();var e=lr;lr|=1;var r=Qs.transition,n=wr;try{if(Qs.transition=null,wr=1,t)return t()}finally{wr=n,Qs.transition=r,lr=e,!(lr&6)&&rc()}}function Ok(){cs=nd.current,Ur(nd)}function Vc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,z4(r)),$n!==null)for(r=$n.return;r!==null;){var n=r;switch(bk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Py();break;case 3:Bd(),Ur(Ji),Ur(bi),Pk();break;case 5:_k(n);break;case 4:Bd();break;case 13:Ur(rn);break;case 19:Ur(rn);break;case 10:Sk(n.type._context);break;case 22:case 23:Ok()}r=r.return}if(ri=t,$n=t=Vl(t.current,null),di=cs=e,Gn=0,rp=null,Lk=Q0=Jc=0,Ui=vf=null,_c!==null){for(e=0;e<_c.length;e++)if(r=_c[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}_c=null}return t}function JD(t,e){do{var r=$n;try{if(xk(),Ug.current=Fy,Ly){for(var n=an.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ly=!1}if(Qc=0,ei=Hn=an=null,yf=!1,Zf=0,Ik.current=null,r===null||r.return===null){Gn=1,rp=e,$n=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=di,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gP(a);if(p!==null){p.flags&=-257,yP(p,a,o,s,e),p.mode&1&&mP(s,c,e),e=p,l=c;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){mP(s,c,e),$k();break e}l=Error(Ve(426))}}else if(Zr&&o.mode&1){var g=gP(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),yP(g,a,o,s,e),vk(Nd(l,o));break e}}s=l=Nd(l,o),Gn!==4&&(Gn=2),vf===null?vf=[s]:vf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=LD(s,l,e);lP(s,y);break e;case 1:o=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ol===null||!Ol.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=FD(s,o,e);lP(s,k);break e}}s=s.return}while(s!==null)}tI(r)}catch(C){e=C,$n===r&&r!==null&&($n=r=r.return);continue}break}while(!0)}function ZD(){var t=Ay.current;return Ay.current=Fy,t===null?Fy:t}function $k(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),ri===null||!(Jc&268435455)&&!(Q0&268435455)||Tl(ri,di)}function Vy(t,e){var r=lr;lr|=2;var n=ZD();(ri!==t||di!==e)&&(To=null,Vc(t,e));do try{hV();break}catch(i){JD(t,i)}while(!0);if(xk(),lr=r,Ay.current=n,$n!==null)throw Error(Ve(261));return ri=null,di=0,Gn}function hV(){for(;$n!==null;)eI($n)}function fV(){for(;$n!==null&&!O3();)eI($n)}function eI(t){var e=nI(t.alternate,t,cs);t.memoizedProps=t.pendingProps,e===null?tI(t):$n=e,Ik.current=null}function tI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=aV(r,e),r!==null){r.flags&=32767,$n=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gn=6,$n=null;return}}else if(r=sV(r,e,cs),r!==null){$n=r;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Gn===0&&(Gn=5)}function gc(t,e,r){var n=wr,i=Qs.transition;try{Qs.transition=null,wr=1,pV(t,e,r,n)}finally{Qs.transition=i,wr=n}return null}function pV(t,e,r,n){do md();while(Bl!==null);if(lr&6)throw Error(Ve(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(X3(t,s),t===ri&&($n=ri=null,di=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ym||(Ym=!0,iI(xy,function(){return md(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qs.transition,Qs.transition=null;var a=wr;wr=1;var o=lr;lr|=4,Ik.current=null,lV(t,r),qD(r,t),I4(dS),ky=!!uS,dS=uS=null,t.current=r,cV(r),$3(),lr=o,wr=a,Qs.transition=s}else t.current=r;if(Ym&&(Ym=!1,Bl=t,$y=i),s=t.pendingLanes,s===0&&(Ol=null),W3(r.stateNode),es(t,_n()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Oy)throw Oy=!1,t=ES,ES=null,t;return $y&1&&t.tag!==0&&md(),s=t.pendingLanes,s&1?t===RS?wf++:(wf=0,RS=t):wf=0,rc(),null}function md(){if(Bl!==null){var t=IR($y),e=Qs.transition,r=wr;try{if(Qs.transition=null,wr=16>t?16:t,Bl===null)var n=!1;else{if(t=Bl,Bl=null,$y=0,lr&6)throw Error(Ve(331));var i=lr;for(lr|=4,nt=t.current;nt!==null;){var s=nt,a=s.child;if(nt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:bf(8,u,s)}var d=u.child;if(d!==null)d.return=u,nt=d;else for(;nt!==null;){u=nt;var h=u.sibling,p=u.return;if(jD(u),u===c){nt=null;break}if(h!==null){h.return=p,nt=h;break}nt=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}nt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nt=a;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,nt=y;break e}nt=s.return}}var b=t.current;for(nt=b;nt!==null;){a=nt;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,nt=v;else e:for(a=b;nt!==null;){if(o=nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:K0(9,o)}}catch(C){mn(o,o.return,C)}if(o===a){nt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,nt=k;break e}nt=o.return}}if(lr=i,rc(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(W0,t)}catch{}n=!0}return n}finally{wr=r,Qs.transition=e}}return!1}function MP(t,e,r){e=Nd(r,e),e=LD(t,e,1),t=Al(t,e,1),e=Li(),t!==null&&(Kp(t,1,e),es(t,e))}function mn(t,e,r){if(t.tag===3)MP(t,t,r);else for(;e!==null;){if(e.tag===3){MP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ol===null||!Ol.has(n))){t=Nd(r,t),t=FD(e,t,1),e=Al(e,t,1),t=Li(),e!==null&&(Kp(e,1,t),es(e,t));break}}e=e.return}}function mV(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Li(),t.pingedLanes|=t.suspendedLanes&r,ri===t&&(di&r)===r&&(Gn===4||Gn===3&&(di&130023424)===di&&500>_n()-Fk?Vc(t,0):Lk|=r),es(t,e)}function rI(t,e){e===0&&(t.mode&1?(e=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):e=1);var r=Li();t=jo(t,e),t!==null&&(Kp(t,e,r),es(t,r))}function gV(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),rI(t,r)}function yV(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(e),rI(t,r)}var nI;nI=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Xi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Xi=!1,iV(t,e,r);Xi=!!(t.flags&131072)}else Xi=!1,Zr&&e.flags&1048576&&aD(e,My,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;jg(t,e),t=e.pendingProps;var i=Td(e,bi.current);pd(e,r),i=Nk(null,e,n,t,i,r);var s=Mk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zi(n)?(s=!0,By(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ck(e),i.updater=X0,e.stateNode=i,i._reactInternals=e,wS(e,n,t,r),e=kS(null,e,n,!0,s,r)):(e.tag=0,Zr&&s&&yk(e),_i(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(jg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vV(n),t=ga(n,t),i){case 0:e=SS(null,e,n,t,r);break e;case 1:e=wP(null,e,n,t,r);break e;case 11:e=bP(null,e,n,t,r);break e;case 14:e=vP(null,e,n,ga(n.type,t),r);break e}throw Error(Ve(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),SS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),wP(t,e,n,i,r);case 3:e:{if(VD(e),t===null)throw Error(Ve(387));n=e.pendingProps,s=e.memoizedState,i=s.element,uD(t,e),Dy(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nd(Error(Ve(423)),e),e=xP(t,e,n,r,i);break e}else if(n!==i){i=Nd(Error(Ve(424)),e),e=xP(t,e,n,r,i);break e}else for(ms=Fl(e.stateNode.containerInfo.firstChild),ys=e,Zr=!0,xa=null,r=pD(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_d(),n===i){e=Yo(t,e,r);break e}_i(t,e,n,r)}e=e.child}return e;case 5:return mD(e),t===null&&yS(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,hS(n,i)?a=null:s!==null&&hS(n,s)&&(e.flags|=32),$D(t,e),_i(t,e,a,r),e.child;case 6:return t===null&&yS(e),null;case 13:return zD(t,e,r);case 4:return Tk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pd(e,null,n,r):_i(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),bP(t,e,n,i,r);case 7:return _i(t,e,e.pendingProps,r),e.child;case 8:return _i(t,e,e.pendingProps.children,r),e.child;case 12:return _i(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ar(Ey,n._currentValue),n._currentValue=a,s!==null)if(Oa(s.value,a)){if(s.children===i.children&&!Ji.current){e=Yo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Vo(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),bS(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ve(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),bS(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_i(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pd(e,r),i=Zs(i),n=n(i),e.flags|=1,_i(t,e,n,r),e.child;case 14:return n=e.type,i=ga(n,e.pendingProps),i=ga(n.type,i),vP(t,e,n,i,r);case 15:return AD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ga(n,i),jg(t,e),e.tag=1,Zi(n)?(t=!0,By(e)):t=!1,pd(e,r),hD(e,n,i),wS(e,n,i,r),kS(null,e,n,!0,t,r);case 19:return WD(t,e,r);case 22:return OD(t,e,r)}throw Error(Ve(156,e.tag))};function iI(t,e){return MR(t,e)}function bV(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,r,n){return new bV(t,e,r,n)}function Vk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vV(t){if(typeof t=="function")return Vk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sk)return 11;if(t===ak)return 14}return 2}function Vl(t,e){var r=t.alternate;return r===null?(r=js(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Vk(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Yu:return zc(r.children,i,s,e);case ik:a=8,i|=8;break;case Ux:return t=js(12,r,e,i|2),t.elementType=Ux,t.lanes=s,t;case Gx:return t=js(13,r,e,i),t.elementType=Gx,t.lanes=s,t;case jx:return t=js(19,r,e,i),t.elementType=jx,t.lanes=s,t;case fR:return J0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dR:a=10;break e;case hR:a=9;break e;case sk:a=11;break e;case ak:a=14;break e;case Sl:a=16,n=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=js(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function zc(t,e,r,n){return t=js(7,t,n,e),t.lanes=r,t}function J0(t,e,r,n){return t=js(22,t,n,e),t.elementType=fR,t.lanes=r,t.stateNode={isHidden:!1},t}function ww(t,e,r){return t=js(6,t,null,e),t.lanes=r,t}function xw(t,e,r){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wV(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zk(t,e,r,n,i,s,a,o,l){return t=new wV(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ck(s),t}function xV(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sI(t){if(!t)return Yl;t=t._reactInternals;e:{if(hu(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var r=t.type;if(Zi(r))return iD(t,r,e)}return e}function aI(t,e,r,n,i,s,a,o,l){return t=zk(r,n,!0,t,i,s,a,o,l),t.context=sI(null),r=t.current,n=Li(),i=$l(r),s=Vo(n,i),s.callback=e??null,Al(r,s,i),t.current.lanes=i,Kp(t,i,n),es(t,n),t}function Z0(t,e,r,n){var i=e.current,s=Li(),a=$l(i);return r=sI(r),e.context===null?e.context=r:e.pendingContext=r,e=Vo(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Al(i,e,a),t!==null&&(Ia(t,i,a,s),Hg(t,i,a)),a}function zy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function EP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Wk(t,e){EP(t,e),(t=t.alternate)&&EP(t,e)}function SV(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hk(t){this._internalRoot=t}eb.prototype.render=Hk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));Z0(t,e,null,null)};eb.prototype.unmount=Hk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zc(function(){Z0(null,t,null,null)}),e[Go]=null}};function eb(t){this._internalRoot=t}eb.prototype.unstable_scheduleHydration=function(t){if(t){var e=AR();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cl.length&&e!==0&&e<Cl[r].priority;r++);Cl.splice(r,0,t),r===0&&$R(t)}};function Uk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RP(){}function kV(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=zy(a);s.call(c)}}var a=aI(e,n,t,0,null,!1,!1,"",RP);return t._reactRootContainer=a,t[Go]=a.current,Xf(t.nodeType===8?t.parentNode:t),Zc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=zy(l);o.call(c)}}var l=zk(t,0,!1,null,null,!1,!1,"",RP);return t._reactRootContainer=l,t[Go]=l.current,Xf(t.nodeType===8?t.parentNode:t),Zc(function(){Z0(e,l,r,n)}),l}function rb(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=zy(a);o.call(l)}}Z0(e,a,t,i)}else a=kV(r,e,t,i,n);return zy(a)}LR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tf(e.pendingLanes);r!==0&&(ck(e,r|1),es(e,_n()),!(lr&6)&&(Md=_n()+500,rc()))}break;case 13:Zc(function(){var n=jo(t,1);if(n!==null){var i=Li();Ia(n,t,1,i)}}),Wk(t,1)}};uk=function(t){if(t.tag===13){var e=jo(t,134217728);if(e!==null){var r=Li();Ia(e,t,134217728,r)}Wk(t,134217728)}};FR=function(t){if(t.tag===13){var e=$l(t),r=jo(t,e);if(r!==null){var n=Li();Ia(r,t,e,n)}Wk(t,e)}};AR=function(){return wr};OR=function(t,e){var r=wr;try{return wr=t,e()}finally{wr=r}};rS=function(t,e,r){switch(e){case"input":if(qx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=j0(n);if(!i)throw Error(Ve(90));mR(n),qx(n,i)}}}break;case"textarea":yR(t,r);break;case"select":e=r.value,e!=null&&ud(t,!!r.multiple,e,!1)}};CR=Ak;TR=Zc;var CV={usingClientEntryPoint:!1,Events:[Jp,Qu,j0,SR,kR,Ak]},_h={findFiberByHostInstance:Tc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TV={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BR(t),t===null?null:t.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||SV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xm.isDisabled&&Xm.supportsFiber)try{W0=Xm.inject(TV),lo=Xm}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CV;_s.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uk(e))throw Error(Ve(200));return xV(t,e,null,r)};_s.createRoot=function(t,e){if(!Uk(t))throw Error(Ve(299));var r=!1,n="",i=oI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zk(t,1,!1,null,null,r,!1,n,i),t[Go]=e.current,Xf(t.nodeType===8?t.parentNode:t),new Hk(e)};_s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=BR(e),t=t===null?null:t.stateNode,t};_s.flushSync=function(t){return Zc(t)};_s.hydrate=function(t,e,r){if(!tb(e))throw Error(Ve(200));return rb(null,t,e,!0,r)};_s.hydrateRoot=function(t,e,r){if(!Uk(t))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=oI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=aI(e,null,t,1,r??null,i,!1,s,a),t[Go]=e.current,Xf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new eb(e)};_s.render=function(t,e,r){if(!tb(e))throw Error(Ve(200));return rb(null,t,e,!1,r)};_s.unmountComponentAtNode=function(t){if(!tb(t))throw Error(Ve(40));return t._reactRootContainer?(Zc(function(){rb(null,null,t,!1,function(){t._reactRootContainer=null,t[Go]=null})}),!0):!1};_s.unstable_batchedUpdates=Ak;_s.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tb(r))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return rb(t,e,r,!1,n)};_s.version="18.2.0-next-9e3b772b8-20220608";function lI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lI)}catch(t){console.error(t)}}lI(),aR.exports=_s;var em=aR.exports;const nf=aa(em),_V=q2({__proto__:null,default:nf},[em]);var DP=em;Wx.createRoot=DP.createRoot,Wx.hydrateRoot=DP.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gn(){return gn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gn.apply(this,arguments)}var Cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cn||(Cn={}));const IP="popstate";function PV(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=xo(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),np("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:tu(s))}function n(i,s){eu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return NV(e,r,n,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BV(){return Math.random().toString(36).substr(2,8)}function LP(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,r,n){return r===void 0&&(r=null),gn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xo(e):e,{state:r,key:e&&e.key||n||BV()})}function tu(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function NV(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Cn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(gn({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Cn.Pop;let g=u(),y=g==null?null:g-c;c=g,l&&l({action:o,location:m.location,delta:y})}function h(g,y){o=Cn.Push;let b=np(m.location,g,y);r&&r(b,g),c=u()+1;let v=LP(b,c),k=m.createHref(b);try{a.pushState(v,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(k)}s&&l&&l({action:o,location:m.location,delta:1})}function p(g,y){o=Cn.Replace;let b=np(m.location,g,y);r&&r(b,g),c=u();let v=LP(b,c),k=m.createHref(b);a.replaceState(v,"",k),s&&l&&l({action:o,location:m.location,delta:0})}function f(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:tu(g);return b=b.replace(/ $/,"%20"),rr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return t(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IP,d),l=g,()=>{i.removeEventListener(IP,d),l=null}},createHref(g){return e(i,g)},createURL:f,encodeLocation(g){let y=f(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return a.go(g)}};return m}var fn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fn||(fn={}));const MV=new Set(["lazy","caseSensitive","path","id","index","children"]);function EV(t){return t.index===!0}function LS(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let a=[...r,s],o=typeof i.id=="string"?i.id:a.join("-");if(rr(i.index!==!0||!i.children,"Cannot specify children on an index route"),rr(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),EV(i)){let l=gn({},i,e(i),{id:o});return n[o]=l,l}else{let l=gn({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=LS(i.children,e,a,n)),l}})}function id(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?xo(e):e,i=nh(n.pathname||"/",r);if(i==null)return null;let s=cI(t);DV(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let l=GV(i);a=WV(s[o],l)}return a}function RV(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function cI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(rr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=zo([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:VV(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of uI(s.path))i(s,a,l)}),e}function uI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=uI(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function DV(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zV(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IV=/^:[\w-]+$/,LV=3,FV=2,AV=1,OV=10,$V=-2,FP=t=>t==="*";function VV(t,e){let r=t.split("/"),n=r.length;return r.some(FP)&&(n+=$V),e&&(n+=FV),r.filter(i=>!FP(i)).reduce((i,s)=>i+(IV.test(s)?LV:s===""?AV:OV),n)}function zV(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function WV(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=HV({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let d=o.route;s.push({params:n,pathname:zo([i,u.pathname]),pathnameBase:XV(zo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=zo([i,u.pathnameBase]))}return s}function HV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=UV(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const f=o[d];return p&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function UV(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function GV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function jV(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:r?r.startsWith("/")?r:YV(r,e):e,search:qV(n),hash:KV(i)}}function YV(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dI(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gk(t,e){let r=dI(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jk(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=xo(t):(i=gn({},t),rr(!i.pathname||!i.pathname.includes("?"),Sw("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),Sw("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),Sw("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=jV(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),XV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Yk{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function hI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fI=["post","put","patch","delete"],QV=new Set(fI),JV=["get",...fI],ZV=new Set(JV),e6=new Set([301,302,303,307,308]),t6=new Set([307,308]),kw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},r6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ph={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),mI="remix-router-transitions";function i6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;rr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;i=ce=>({hasErrorBoundary:re(ce)})}else i=n6;let s={},a=LS(t.routes,i,void 0,s),o,l=t.basename||"/",c=gn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,h=null,p=null,f=null,m=t.hydrationData!=null,g=id(a,t.history.location,l),y=null;if(g==null){let re=Ds(404,{pathname:t.history.location.pathname}),{matches:ce,route:Me}=UP(a);g=ce,y={[Me.id]:re}}let b,v=g.some(re=>re.route.lazy),k=g.some(re=>re.route.loader);if(v)b=!1;else if(!k)b=!0;else if(c.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,ce=t.hydrationData?t.hydrationData.errors:null,Me=Ye=>Ye.route.loader?Ye.route.loader.hydrate===!0?!1:re&&re[Ye.route.id]!==void 0||ce&&ce[Ye.route.id]!==void 0:!0;if(ce){let Ye=g.findIndex(st=>ce[st.route.id]!==void 0);b=g.slice(0,Ye+1).every(Me)}else b=g.every(Me)}else b=t.hydrationData!=null;let C,S={historyAction:t.history.action,location:t.history.location,matches:g,initialized:b,navigation:kw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},_=Cn.Pop,B=!1,D,E=!1,R=new Map,O=null,L=!1,I=!1,N=[],F=[],A=new Map,M=0,V=-1,W=new Map,K=new Set,ie=new Map,se=new Map,te=new Set,G=new Map,Z=new Map,he=!1;function pe(){if(u=t.history.listen(re=>{let{action:ce,location:Me,delta:Ye}=re;if(he){he=!1;return}eu(Z.size===0||Ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let st=$e({currentLocation:S.location,nextLocation:Me,historyAction:ce});if(st&&Ye!=null){he=!0,t.history.go(Ye*-1),Le(st,{state:"blocked",location:Me,proceed(){Le(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),t.history.go(Ye)},reset(){let Ht=new Map(S.blockers);Ht.set(st,Ph),oe({blockers:Ht})}});return}return Y(ce,Me)}),r){m6(e,R);let re=()=>g6(e,R);e.addEventListener("pagehide",re),O=()=>e.removeEventListener("pagehide",re)}return S.initialized||Y(Cn.Pop,S.location,{initialHydration:!0}),C}function ne(){u&&u(),O&&O(),d.clear(),D&&D.abort(),S.fetchers.forEach((re,ce)=>It(ce)),S.blockers.forEach((re,ce)=>Bt(ce))}function le(re){return d.add(re),()=>d.delete(re)}function oe(re,ce){ce===void 0&&(ce={}),S=gn({},S,re);let Me=[],Ye=[];c.v7_fetcherPersist&&S.fetchers.forEach((st,Ht)=>{st.state==="idle"&&(te.has(Ht)?Ye.push(Ht):Me.push(Ht))}),[...d].forEach(st=>st(S,{deletedFetchers:Ye,unstable_viewTransitionOpts:ce.viewTransitionOpts,unstable_flushSync:ce.flushSync===!0})),c.v7_fetcherPersist&&(Me.forEach(st=>S.fetchers.delete(st)),Ye.forEach(st=>It(st)))}function q(re,ce,Me){var Ye,st;let{flushSync:Ht}=Me===void 0?{}:Me,Nt=S.actionData!=null&&S.navigation.formMethod!=null&&ba(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Ye=re.state)==null?void 0:Ye._isRedirect)!==!0,Pt;ce.actionData?Object.keys(ce.actionData).length>0?Pt=ce.actionData:Pt=null:Nt?Pt=S.actionData:Pt=null;let mt=ce.loaderData?HP(S.loaderData,ce.loaderData,ce.matches||[],ce.errors):S.loaderData,Jt=S.blockers;Jt.size>0&&(Jt=new Map(Jt),Jt.forEach((kr,Sn)=>Jt.set(Sn,Ph)));let Dn=B===!0||S.navigation.formMethod!=null&&ba(S.navigation.formMethod)&&((st=re.state)==null?void 0:st._isRedirect)!==!0;o&&(a=o,o=void 0),L||_===Cn.Pop||(_===Cn.Push?t.history.push(re,re.state):_===Cn.Replace&&t.history.replace(re,re.state));let Ut;if(_===Cn.Pop){let kr=R.get(S.location.pathname);kr&&kr.has(re.pathname)?Ut={currentLocation:S.location,nextLocation:re}:R.has(re.pathname)&&(Ut={currentLocation:re,nextLocation:S.location})}else if(E){let kr=R.get(S.location.pathname);kr?kr.add(re.pathname):(kr=new Set([re.pathname]),R.set(S.location.pathname,kr)),Ut={currentLocation:S.location,nextLocation:re}}oe(gn({},ce,{actionData:Pt,loaderData:mt,historyAction:_,location:re,initialized:!0,navigation:kw,revalidation:"idle",restoreScrollPosition:Or(re,ce.matches||S.matches),preventScrollReset:Dn,blockers:Jt}),{viewTransitionOpts:Ut,flushSync:Ht===!0}),_=Cn.Pop,B=!1,E=!1,L=!1,I=!1,N=[],F=[]}async function X(re,ce){if(typeof re=="number"){t.history.go(re);return}let Me=FS(S.location,S.matches,l,c.v7_prependBasename,re,c.v7_relativeSplatPath,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:Ye,submission:st,error:Ht}=AP(c.v7_normalizeFormMethod,!1,Me,ce),Nt=S.location,Pt=np(S.location,Ye,ce&&ce.state);Pt=gn({},Pt,t.history.encodeLocation(Pt));let mt=ce&&ce.replace!=null?ce.replace:void 0,Jt=Cn.Push;mt===!0?Jt=Cn.Replace:mt===!1||st!=null&&ba(st.formMethod)&&st.formAction===S.location.pathname+S.location.search&&(Jt=Cn.Replace);let Dn=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,Ut=(ce&&ce.unstable_flushSync)===!0,kr=$e({currentLocation:Nt,nextLocation:Pt,historyAction:Jt});if(kr){Le(kr,{state:"blocked",location:Pt,proceed(){Le(kr,{state:"proceeding",proceed:void 0,reset:void 0,location:Pt}),X(re,ce)},reset(){let Sn=new Map(S.blockers);Sn.set(kr,Ph),oe({blockers:Sn})}});return}return await Y(Jt,Pt,{submission:st,pendingError:Ht,preventScrollReset:Dn,replace:ce&&ce.replace,enableViewTransition:ce&&ce.unstable_viewTransition,flushSync:Ut})}function J(){if(ke(),oe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Y(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Y(_||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Y(re,ce,Me){D&&D.abort(),D=null,_=re,L=(Me&&Me.startUninterruptedRevalidation)===!0,Ir(S.location,S.matches),B=(Me&&Me.preventScrollReset)===!0,E=(Me&&Me.enableViewTransition)===!0;let Ye=o||a,st=Me&&Me.overrideNavigation,Ht=id(Ye,ce,l),Nt=(Me&&Me.flushSync)===!0;if(!Ht){let Sn=Ds(404,{pathname:ce.pathname}),{matches:xi,route:cn}=UP(Ye);_t(),q(ce,{matches:xi,loaderData:{},errors:{[cn.id]:Sn}},{flushSync:Nt});return}if(S.initialized&&!I&&c6(S.location,ce)&&!(Me&&Me.submission&&ba(Me.submission.formMethod))){q(ce,{matches:Ht},{flushSync:Nt});return}D=new AbortController;let Pt=Nh(t.history,ce,D.signal,Me&&Me.submission),mt,Jt;if(Me&&Me.pendingError)Jt={[xf(Ht).route.id]:Me.pendingError};else if(Me&&Me.submission&&ba(Me.submission.formMethod)){let Sn=await we(Pt,ce,Me.submission,Ht,{replace:Me.replace,flushSync:Nt});if(Sn.shortCircuited)return;mt=Sn.pendingActionData,Jt=Sn.pendingActionError,st=Cw(ce,Me.submission),Nt=!1,Pt=new Request(Pt.url,{signal:Pt.signal})}let{shortCircuited:Dn,loaderData:Ut,errors:kr}=await fe(Pt,ce,Ht,st,Me&&Me.submission,Me&&Me.fetcherSubmission,Me&&Me.replace,Me&&Me.initialHydration===!0,Nt,mt,Jt);Dn||(D=null,q(ce,gn({matches:Ht},mt?{actionData:mt}:{},{loaderData:Ut,errors:kr})))}async function we(re,ce,Me,Ye,st){st===void 0&&(st={}),ke();let Ht=f6(ce,Me);oe({navigation:Ht},{flushSync:st.flushSync===!0});let Nt,Pt=OS(Ye,ce);if(!Pt.route.action&&!Pt.route.lazy)Nt={type:fn.error,error:Ds(405,{method:re.method,pathname:ce.pathname,routeId:Pt.route.id})};else if(Nt=await Bh("action",re,Pt,Ye,s,i,l,c.v7_relativeSplatPath),re.signal.aborted)return{shortCircuited:!0};if(Nc(Nt)){let mt;return st&&st.replace!=null?mt=st.replace:mt=Nt.location===S.location.pathname+S.location.search,await ae(S,Nt,{submission:Me,replace:mt}),{shortCircuited:!0}}if(sd(Nt)){let mt=xf(Ye,Pt.route.id);return(st&&st.replace)!==!0&&(_=Cn.Push),{pendingActionData:{},pendingActionError:{[mt.route.id]:Nt.error}}}if(Bc(Nt))throw Ds(400,{type:"defer-action"});return{pendingActionData:{[Pt.route.id]:Nt.data}}}async function fe(re,ce,Me,Ye,st,Ht,Nt,Pt,mt,Jt,Dn){let Ut=Ye||Cw(ce,st),kr=st||Ht||YP(Ut),Sn=o||a,[xi,cn]=OP(t.history,S,Me,kr,ce,c.v7_partialHydration&&Pt===!0,I,N,F,te,ie,K,Sn,l,Jt,Dn);if(_t(fr=>!(Me&&Me.some(Cr=>Cr.route.id===fr))||xi&&xi.some(Cr=>Cr.route.id===fr)),V=++M,xi.length===0&&cn.length===0){let fr=kt();return q(ce,gn({matches:Me,loaderData:{},errors:Dn||null},Jt?{actionData:Jt}:{},fr?{fetchers:new Map(S.fetchers)}:{}),{flushSync:mt}),{shortCircuited:!0}}if(!L&&(!c.v7_partialHydration||!Pt)){cn.forEach(Cr=>{let $i=S.fetchers.get(Cr.key),Em=Mh(void 0,$i?$i.data:void 0);S.fetchers.set(Cr.key,Em)});let fr=Jt||S.actionData;oe(gn({navigation:Ut},fr?Object.keys(fr).length===0?{actionData:null}:{actionData:fr}:{},cn.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:mt})}cn.forEach(fr=>{A.has(fr.key)&&ye(fr.key),fr.controller&&A.set(fr.key,fr.controller)});let ja=()=>cn.forEach(fr=>ye(fr.key));D&&D.signal.addEventListener("abort",ja);let{results:bh,loaderResults:Nr,fetcherResults:Lr}=await Be(S.matches,Me,xi,cn,re);if(re.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",ja),cn.forEach(fr=>A.delete(fr.key));let ha=GP(bh);if(ha){if(ha.idx>=xi.length){let fr=cn[ha.idx-xi.length].key;K.add(fr)}return await ae(S,ha.result,{replace:Nt}),{shortCircuited:!0}}let{loaderData:cl,errors:Si}=WP(S,Me,xi,Nr,Dn,cn,Lr,G);G.forEach((fr,Cr)=>{fr.subscribe($i=>{($i||fr.done)&&G.delete(Cr)})}),c.v7_partialHydration&&Pt&&S.errors&&Object.entries(S.errors).filter(fr=>{let[Cr]=fr;return!xi.some($i=>$i.route.id===Cr)}).forEach(fr=>{let[Cr,$i]=fr;Si=Object.assign(Si||{},{[Cr]:$i})});let qv=kt(),ku=Et(V),Mm=qv||ku||cn.length>0;return gn({loaderData:cl,errors:Si},Mm?{fetchers:new Map(S.fetchers)}:{})}function $(re,ce,Me,Ye){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");A.has(re)&&ye(re);let st=(Ye&&Ye.unstable_flushSync)===!0,Ht=o||a,Nt=FS(S.location,S.matches,l,c.v7_prependBasename,Me,c.v7_relativeSplatPath,ce,Ye==null?void 0:Ye.relative),Pt=id(Ht,Nt,l);if(!Pt){Je(re,ce,Ds(404,{pathname:Nt}),{flushSync:st});return}let{path:mt,submission:Jt,error:Dn}=AP(c.v7_normalizeFormMethod,!0,Nt,Ye);if(Dn){Je(re,ce,Dn,{flushSync:st});return}let Ut=OS(Pt,mt);if(B=(Ye&&Ye.preventScrollReset)===!0,Jt&&ba(Jt.formMethod)){U(re,ce,mt,Ut,Pt,st,Jt);return}ie.set(re,{routeId:ce,path:mt}),j(re,ce,mt,Ut,Pt,st,Jt)}async function U(re,ce,Me,Ye,st,Ht,Nt){if(ke(),ie.delete(re),!Ye.route.action&&!Ye.route.lazy){let Cr=Ds(405,{method:Nt.formMethod,pathname:Me,routeId:ce});Je(re,ce,Cr,{flushSync:Ht});return}let Pt=S.fetchers.get(re);De(re,p6(Nt,Pt),{flushSync:Ht});let mt=new AbortController,Jt=Nh(t.history,Me,mt.signal,Nt);A.set(re,mt);let Dn=M,Ut=await Bh("action",Jt,Ye,st,s,i,l,c.v7_relativeSplatPath);if(Jt.signal.aborted){A.get(re)===mt&&A.delete(re);return}if(c.v7_fetcherPersist&&te.has(re)){if(Nc(Ut)||sd(Ut)){De(re,wl(void 0));return}}else{if(Nc(Ut))if(A.delete(re),V>Dn){De(re,wl(void 0));return}else return K.add(re),De(re,Mh(Nt)),ae(S,Ut,{fetcherSubmission:Nt});if(sd(Ut)){Je(re,ce,Ut.error);return}}if(Bc(Ut))throw Ds(400,{type:"defer-action"});let kr=S.navigation.location||S.location,Sn=Nh(t.history,kr,mt.signal),xi=o||a,cn=S.navigation.state!=="idle"?id(xi,S.navigation.location,l):S.matches;rr(cn,"Didn't find any matches after fetcher action");let ja=++M;W.set(re,ja);let bh=Mh(Nt,Ut.data);S.fetchers.set(re,bh);let[Nr,Lr]=OP(t.history,S,cn,Nt,kr,!1,I,N,F,te,ie,K,xi,l,{[Ye.route.id]:Ut.data},void 0);Lr.filter(Cr=>Cr.key!==re).forEach(Cr=>{let $i=Cr.key,Em=S.fetchers.get($i),t3=Mh(void 0,Em?Em.data:void 0);S.fetchers.set($i,t3),A.has($i)&&ye($i),Cr.controller&&A.set($i,Cr.controller)}),oe({fetchers:new Map(S.fetchers)});let ha=()=>Lr.forEach(Cr=>ye(Cr.key));mt.signal.addEventListener("abort",ha);let{results:cl,loaderResults:Si,fetcherResults:qv}=await Be(S.matches,cn,Nr,Lr,Sn);if(mt.signal.aborted)return;mt.signal.removeEventListener("abort",ha),W.delete(re),A.delete(re),Lr.forEach(Cr=>A.delete(Cr.key));let ku=GP(cl);if(ku){if(ku.idx>=Nr.length){let Cr=Lr[ku.idx-Nr.length].key;K.add(Cr)}return ae(S,ku.result)}let{loaderData:Mm,errors:fr}=WP(S,S.matches,Nr,Si,void 0,Lr,qv,G);if(S.fetchers.has(re)){let Cr=wl(Ut.data);S.fetchers.set(re,Cr)}Et(ja),S.navigation.state==="loading"&&ja>V?(rr(_,"Expected pending action"),D&&D.abort(),q(S.navigation.location,{matches:cn,loaderData:Mm,errors:fr,fetchers:new Map(S.fetchers)})):(oe({errors:fr,loaderData:HP(S.loaderData,Mm,cn,fr),fetchers:new Map(S.fetchers)}),I=!1)}async function j(re,ce,Me,Ye,st,Ht,Nt){let Pt=S.fetchers.get(re);De(re,Mh(Nt,Pt?Pt.data:void 0),{flushSync:Ht});let mt=new AbortController,Jt=Nh(t.history,Me,mt.signal);A.set(re,mt);let Dn=M,Ut=await Bh("loader",Jt,Ye,st,s,i,l,c.v7_relativeSplatPath);if(Bc(Ut)&&(Ut=await bI(Ut,Jt.signal,!0)||Ut),A.get(re)===mt&&A.delete(re),!Jt.signal.aborted){if(te.has(re)){De(re,wl(void 0));return}if(Nc(Ut))if(V>Dn){De(re,wl(void 0));return}else{K.add(re),await ae(S,Ut);return}if(sd(Ut)){Je(re,ce,Ut.error);return}rr(!Bc(Ut),"Unhandled fetcher deferred data"),De(re,wl(Ut.data))}}async function ae(re,ce,Me){let{submission:Ye,fetcherSubmission:st,replace:Ht}=Me===void 0?{}:Me;ce.revalidate&&(I=!0);let Nt=np(re.location,ce.location,{_isRedirect:!0});if(rr(Nt,"Expected a location on the redirect navigation"),r){let kr=!1;if(ce.reloadDocument)kr=!0;else if(pI.test(ce.location)){const Sn=t.history.createURL(ce.location);kr=Sn.origin!==e.location.origin||nh(Sn.pathname,l)==null}if(kr){Ht?e.location.replace(ce.location):e.location.assign(ce.location);return}}D=null;let Pt=Ht===!0?Cn.Replace:Cn.Push,{formMethod:mt,formAction:Jt,formEncType:Dn}=re.navigation;!Ye&&!st&&mt&&Jt&&Dn&&(Ye=YP(re.navigation));let Ut=Ye||st;if(t6.has(ce.status)&&Ut&&ba(Ut.formMethod))await Y(Pt,Nt,{submission:gn({},Ut,{formAction:ce.location}),preventScrollReset:B});else{let kr=Cw(Nt,Ye);await Y(Pt,Nt,{overrideNavigation:kr,fetcherSubmission:st,preventScrollReset:B})}}async function Be(re,ce,Me,Ye,st){let Ht=await Promise.all([...Me.map(mt=>Bh("loader",st,mt,ce,s,i,l,c.v7_relativeSplatPath)),...Ye.map(mt=>mt.matches&&mt.match&&mt.controller?Bh("loader",Nh(t.history,mt.path,mt.controller.signal),mt.match,mt.matches,s,i,l,c.v7_relativeSplatPath):{type:fn.error,error:Ds(404,{pathname:mt.path})})]),Nt=Ht.slice(0,Me.length),Pt=Ht.slice(Me.length);return await Promise.all([jP(re,Me,Nt,Nt.map(()=>st.signal),!1,S.loaderData),jP(re,Ye.map(mt=>mt.match),Pt,Ye.map(mt=>mt.controller?mt.controller.signal:null),!0)]),{results:Ht,loaderResults:Nt,fetcherResults:Pt}}function ke(){I=!0,N.push(..._t()),ie.forEach((re,ce)=>{A.has(ce)&&(F.push(ce),ye(ce))})}function De(re,ce,Me){Me===void 0&&(Me={}),S.fetchers.set(re,ce),oe({fetchers:new Map(S.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function Je(re,ce,Me,Ye){Ye===void 0&&(Ye={});let st=xf(S.matches,ce);It(re),oe({errors:{[st.route.id]:Me},fetchers:new Map(S.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function ht(re){return c.v7_fetcherPersist&&(se.set(re,(se.get(re)||0)+1),te.has(re)&&te.delete(re)),S.fetchers.get(re)||r6}function It(re){let ce=S.fetchers.get(re);A.has(re)&&!(ce&&ce.state==="loading"&&W.has(re))&&ye(re),ie.delete(re),W.delete(re),K.delete(re),te.delete(re),S.fetchers.delete(re)}function _e(re){if(c.v7_fetcherPersist){let ce=(se.get(re)||0)-1;ce<=0?(se.delete(re),te.add(re)):se.set(re,ce)}else It(re);oe({fetchers:new Map(S.fetchers)})}function ye(re){let ce=A.get(re);rr(ce,"Expected fetch controller: "+re),ce.abort(),A.delete(re)}function Ze(re){for(let ce of re){let Me=ht(ce),Ye=wl(Me.data);S.fetchers.set(ce,Ye)}}function kt(){let re=[],ce=!1;for(let Me of K){let Ye=S.fetchers.get(Me);rr(Ye,"Expected fetcher: "+Me),Ye.state==="loading"&&(K.delete(Me),re.push(Me),ce=!0)}return Ze(re),ce}function Et(re){let ce=[];for(let[Me,Ye]of W)if(Ye<re){let st=S.fetchers.get(Me);rr(st,"Expected fetcher: "+Me),st.state==="loading"&&(ye(Me),W.delete(Me),ce.push(Me))}return Ze(ce),ce.length>0}function Oe(re,ce){let Me=S.blockers.get(re)||Ph;return Z.get(re)!==ce&&Z.set(re,ce),Me}function Bt(re){S.blockers.delete(re),Z.delete(re)}function Le(re,ce){let Me=S.blockers.get(re)||Ph;rr(Me.state==="unblocked"&&ce.state==="blocked"||Me.state==="blocked"&&ce.state==="blocked"||Me.state==="blocked"&&ce.state==="proceeding"||Me.state==="blocked"&&ce.state==="unblocked"||Me.state==="proceeding"&&ce.state==="unblocked","Invalid blocker state transition: "+Me.state+" -> "+ce.state);let Ye=new Map(S.blockers);Ye.set(re,ce),oe({blockers:Ye})}function $e(re){let{currentLocation:ce,nextLocation:Me,historyAction:Ye}=re;if(Z.size===0)return;Z.size>1&&eu(!1,"A router only supports one blocker at a time");let st=Array.from(Z.entries()),[Ht,Nt]=st[st.length-1],Pt=S.blockers.get(Ht);if(!(Pt&&Pt.state==="proceeding")&&Nt({currentLocation:ce,nextLocation:Me,historyAction:Ye}))return Ht}function _t(re){let ce=[];return G.forEach((Me,Ye)=>{(!re||re(Ye))&&(Me.cancel(),ce.push(Ye),G.delete(Ye))}),ce}function ot(re,ce,Me){if(h=re,f=ce,p=Me||null,!m&&S.navigation===kw){m=!0;let Ye=Or(S.location,S.matches);Ye!=null&&oe({restoreScrollPosition:Ye})}return()=>{h=null,f=null,p=null}}function Qt(re,ce){return p&&p(re,ce.map(Ye=>RV(Ye,S.loaderData)))||re.key}function Ir(re,ce){if(h&&f){let Me=Qt(re,ce);h[Me]=f()}}function Or(re,ce){if(h){let Me=Qt(re,ce),Ye=h[Me];if(typeof Ye=="number")return Ye}return null}function da(re){s={},o=LS(re,i,void 0,s)}return C={get basename(){return l},get future(){return c},get state(){return S},get routes(){return a},get window(){return e},initialize:pe,subscribe:le,enableScrollRestoration:ot,navigate:X,fetch:$,revalidate:J,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:ht,deleteFetcher:_e,dispose:ne,getBlocker:Oe,deleteBlocker:Bt,_internalFetchControllers:A,_internalActiveDeferreds:G,_internalSetRoutes:da},C}function s6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function FS(t,e,r,n,i,s,a,o){let l,c;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){c=d;break}}else l=e,c=e[e.length-1];let u=jk(i||".",Gk(l,s),nh(t.pathname,r)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Xk(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:zo([r,u.pathname])),tu(u)}function AP(t,e,r,n){if(!n||!s6(n))return{path:r};if(n.formMethod&&!h6(n.formMethod))return{path:r,error:Ds(405,{method:n.formMethod})};let i=()=>({path:r,error:Ds(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=yI(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ba(a))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,f)=>{let[m,g]=f;return""+p+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!ba(a))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}rr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=AS(n.formData),c=n.formData;else if(n.body instanceof FormData)l=AS(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=zP(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=zP(l)}catch{return i()}let u={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ba(u.formMethod))return{path:r,submission:u};let d=xo(r);return e&&d.search&&Xk(d.search)&&l.append("index",""),d.search="?"+l,{path:tu(d),submission:u}}function a6(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function OP(t,e,r,n,i,s,a,o,l,c,u,d,h,p,f,m){let g=m?Object.values(m)[0]:f?Object.values(f)[0]:void 0,y=t.createURL(e.location),b=t.createURL(i),v=m?Object.keys(m)[0]:void 0,C=a6(r,v).filter((_,B)=>{let{route:D}=_;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(o6(e.loaderData,e.matches[B],_)||o.some(O=>O===_.route.id))return!0;let E=e.matches[B],R=_;return $P(_,gn({currentUrl:y,currentParams:E.params,nextUrl:b,nextParams:R.params},n,{actionResult:g,defaultShouldRevalidate:a||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||gI(E,R)}))}),S=[];return u.forEach((_,B)=>{if(s||!r.some(L=>L.route.id===_.routeId)||c.has(B))return;let D=id(h,_.path,p);if(!D){S.push({key:B,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let E=e.fetchers.get(B),R=OS(D,_.path),O=!1;d.has(B)?O=!1:l.includes(B)?O=!0:E&&E.state!=="idle"&&E.data===void 0?O=a:O=$P(R,gn({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:r[r.length-1].params},n,{actionResult:g,defaultShouldRevalidate:a})),O&&S.push({key:B,routeId:_.routeId,path:_.path,matches:D,match:R,controller:new AbortController})}),[C,S]}function o6(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function gI(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function $P(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function VP(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];rr(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";eu(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!MV.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,gn({},e(i),{lazy:void 0}))}async function Bh(t,e,r,n,i,s,a,o,l){l===void 0&&(l={});let c,u,d,h=m=>{let g,y=new Promise((b,v)=>g=v);return d=()=>g(),e.signal.addEventListener("abort",d),Promise.race([m({request:e,params:r.params,context:l.requestContext}),y])};try{let m=r.route[t];if(r.route.lazy)if(m){let g,y=await Promise.all([h(m).catch(b=>{g=b}),VP(r.route,s,i)]);if(g)throw g;u=y[0]}else if(await VP(r.route,s,i),m=r.route[t],m)u=await h(m);else if(t==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw Ds(405,{method:e.method,pathname:y,routeId:r.route.id})}else return{type:fn.data,data:void 0};else if(m)u=await h(m);else{let g=new URL(e.url),y=g.pathname+g.search;throw Ds(404,{pathname:y})}rr(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){c=fn.error,u=m}finally{d&&e.signal.removeEventListener("abort",d)}if(d6(u)){let m=u.status;if(e6.has(m)){let y=u.headers.get("Location");if(rr(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!pI.test(y))y=FS(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,y,o);else if(!l.isStaticRequest){let b=new URL(e.url),v=y.startsWith("//")?new URL(b.protocol+y):new URL(y),k=nh(v.pathname,a)!=null;v.origin===b.origin&&k&&(y=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw u.headers.set("Location",y),u;return{type:fn.redirect,status:m,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===fn.error?fn.error:fn.data,response:u};let g;try{let y=u.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?u.body==null?g=null:g=await u.json():g=await u.text()}catch(y){return{type:fn.error,error:y}}return c===fn.error?{type:c,error:new Yk(m,u.statusText,g),headers:u.headers}:{type:fn.data,data:g,statusCode:u.status,headers:u.headers}}if(c===fn.error)return{type:c,error:u};if(u6(u)){var p,f;return{type:fn.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:fn.data,data:u}}function Nh(t,e,r,n){let i=t.createURL(yI(e)).toString(),s={signal:r};if(n&&ba(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=AS(n.formData):s.body=n.formData}return new Request(i,s)}function AS(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function zP(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function l6(t,e,r,n,i){let s={},a=null,o,l=!1,c={};return r.forEach((u,d)=>{let h=e[d].route.id;if(rr(!Nc(u),"Cannot handle redirect results in processLoaderData"),sd(u)){let p=xf(t,h),f=u.error;n&&(f=Object.values(n)[0],n=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=f),s[h]=void 0,l||(l=!0,o=hI(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else Bc(u)?(i.set(h,u.deferredData),s[h]=u.deferredData.data):s[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(o=u.statusCode),u.headers&&(c[h]=u.headers)}),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function WP(t,e,r,n,i,s,a,o){let{loaderData:l,errors:c}=l6(e,r,n,i,o);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:p}=s[u];rr(a!==void 0&&a[u]!==void 0,"Did not find corresponding fetcher result");let f=a[u];if(!(p&&p.signal.aborted))if(sd(f)){let m=xf(t.matches,h==null?void 0:h.route.id);c&&c[m.route.id]||(c=gn({},c,{[m.route.id]:f.error})),t.fetchers.delete(d)}else if(Nc(f))rr(!1,"Unhandled fetcher revalidation redirect");else if(Bc(f))rr(!1,"Unhandled fetcher deferred data");else{let m=wl(f.data);t.fetchers.set(d,m)}}return{loaderData:l,errors:c}}function HP(t,e,r,n){let i=gn({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function xf(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function UP(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ds(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",o='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new Yk(t||500,a,new Error(o),!0)}function GP(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Nc(r))return{result:r,idx:e}}}function yI(t){let e=typeof t=="string"?xo(t):t;return tu(gn({},e,{hash:""}))}function c6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Bc(t){return t.type===fn.deferred}function sd(t){return t.type===fn.error}function Nc(t){return(t&&t.type)===fn.redirect}function u6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function d6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function h6(t){return ZV.has(t.toLowerCase())}function ba(t){return QV.has(t.toLowerCase())}async function jP(t,e,r,n,i,s){for(let a=0;a<r.length;a++){let o=r[a],l=e[a];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!gI(c,l)&&(s&&s[l.route.id])!==void 0;if(Bc(o)&&(i||u)){let d=n[a];rr(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await bI(o,d,i).then(h=>{h&&(r[a]=h||r[a])})}}}async function bI(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:fn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:fn.error,error:i}}return{type:fn.data,data:t.deferredData.data}}}function Xk(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function OS(t,e){let r=typeof e=="string"?xo(e).search:e.search;if(t[t.length-1].route.index&&Xk(r||""))return t[t.length-1];let n=dI(t);return n[n.length-1]}function YP(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Cw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function f6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function wl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m6(t,e){try{let r=t.sessionStorage.getItem(mI);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function g6(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(mI,JSON.stringify(r))}catch(n){eu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ip.apply(this,arguments)}const nb=w.createContext(null),vI=w.createContext(null),fu=w.createContext(null),ib=w.createContext(null),pu=w.createContext({outlet:null,matches:[],isDataRoute:!1}),wI=w.createContext(null);function y6(t,e){let{relative:r}=e===void 0?{}:e;tm()||rr(!1);let{basename:n,navigator:i}=w.useContext(fu),{hash:s,pathname:a,search:o}=SI(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:zo([n,a])),i.createHref({pathname:l,search:o,hash:s})}function tm(){return w.useContext(ib)!=null}function sb(){return tm()||rr(!1),w.useContext(ib).location}function xI(t){w.useContext(fu).static||w.useLayoutEffect(t)}function b6(){let{isDataRoute:t}=w.useContext(pu);return t?M6():v6()}function v6(){tm()||rr(!1);let t=w.useContext(nb),{basename:e,future:r,navigator:n}=w.useContext(fu),{matches:i}=w.useContext(pu),{pathname:s}=sb(),a=JSON.stringify(Gk(i,r.v7_relativeSplatPath)),o=w.useRef(!1);return xI(()=>{o.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=jk(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zo([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function SI(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(fu),{matches:i}=w.useContext(pu),{pathname:s}=sb(),a=JSON.stringify(Gk(i,n.v7_relativeSplatPath));return w.useMemo(()=>jk(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function w6(t,e,r,n){tm()||rr(!1);let{navigator:i}=w.useContext(fu),{matches:s}=w.useContext(pu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=sb(),u;if(e){var d;let g=typeof e=="string"?xo(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||rr(!1),u=g}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=id(t,{pathname:p}),m=T6(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:zo([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:zo([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&m?w.createElement(ib.Provider,{value:{location:ip({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Cn.Pop}},m):m}function x6(){let t=N6(),e=hI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,null)}const S6=w.createElement(x6,null);class k6 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(pu.Provider,{value:this.props.routeContext},w.createElement(wI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(t){let{routeContext:e,match:r,children:n}=t,i=w.useContext(nb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(pu.Provider,{value:e},n)}function T6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id]));u>=0||rr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let p,f=!1,m=null,g=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||S6,l&&(c<0&&h===0?(E6("route-fallback",!1),f=!0,g=null):c===h&&(f=!0,g=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,h+1)),b=()=>{let v;return p?v=m:f?v=g:d.route.Component?v=w.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,w.createElement(C6,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(k6,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var kI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kI||{}),Wy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wy||{});function _6(t){let e=w.useContext(nb);return e||rr(!1),e}function P6(t){let e=w.useContext(vI);return e||rr(!1),e}function B6(t){let e=w.useContext(pu);return e||rr(!1),e}function CI(t){let e=B6(),r=e.matches[e.matches.length-1];return r.route.id||rr(!1),r.route.id}function N6(){var t;let e=w.useContext(wI),r=P6(Wy.UseRouteError),n=CI(Wy.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function M6(){let{router:t}=_6(kI.UseNavigateStable),e=CI(Wy.UseNavigateStable),r=w.useRef(!1);return xI(()=>{r.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ip({fromRouteId:e},s)))},[t,e])}const XP={};function E6(t,e,r){!e&&!XP[t]&&(XP[t]=!0)}function R6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Cn.Pop,navigator:s,static:a=!1,future:o}=t;tm()&&rr(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:a,future:ip({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=xo(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=n,m=w.useMemo(()=>{let g=nh(u,l);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return m==null?null:w.createElement(fu.Provider,{value:c},w.createElement(ib.Provider,{children:r,value:m}))}new Promise(()=>{});function D6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sp.apply(this,arguments)}function I6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function L6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F6(t,e){return t.button===0&&(!e||e==="_self")&&!L6(t)}const A6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],O6="6";try{window.__reactRouterVersion=O6}catch{}function $6(t,e){return i6({basename:e==null?void 0:e.basename,future:sp({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:PV({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||V6(),routes:t,mapRouteProperties:D6,window:e==null?void 0:e.window}).initialize()}function V6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=sp({},e,{errors:z6(e.errors)})),e}function z6(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Yk(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const W6=w.createContext({isTransitioning:!1}),H6=w.createContext(new Map),U6="startTransition",qP=Xc[U6],G6="flushSync",KP=_V[G6];function j6(t){qP?qP(t):t()}function Eh(t){KP?KP(t):t()}class Y6{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function X6(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=w.useState(r.state),[a,o]=w.useState(),[l,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[h,p]=w.useState(),[f,m]=w.useState(),g=w.useRef(new Map),{v7_startTransition:y}=n||{},b=w.useCallback(_=>{y?j6(_):_()},[y]),v=w.useCallback((_,B)=>{let{deletedFetchers:D,unstable_flushSync:E,unstable_viewTransitionOpts:R}=B;D.forEach(L=>g.current.delete(L)),_.fetchers.forEach((L,I)=>{L.data!==void 0&&g.current.set(I,L.data)});let O=r.window==null||typeof r.window.document.startViewTransition!="function";if(!R||O){E?Eh(()=>s(_)):b(()=>s(_));return}if(E){Eh(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let L=r.window.document.startViewTransition(()=>{Eh(()=>s(_))});L.finished.finally(()=>{Eh(()=>{d(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})}),Eh(()=>p(L));return}h?(u&&u.resolve(),h.skipTransition(),m({state:_,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(_),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,h,u,g,b]);w.useLayoutEffect(()=>r.subscribe(v),[r,v]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Y6)},[l]),w.useEffect(()=>{if(u&&a&&r.window){let _=a,B=u.promise,D=r.window.document.startViewTransition(async()=>{b(()=>s(_)),await B});D.finished.finally(()=>{d(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}),p(D)}},[b,a,u,r.window]),w.useEffect(()=>{u&&a&&i.location.key===a.location.key&&u.resolve()},[u,h,i.location,a]),w.useEffect(()=>{!l.isTransitioning&&f&&(o(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[l.isTransitioning,f]),w.useEffect(()=>{},[]);let k=w.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:_=>r.navigate(_),push:(_,B,D)=>r.navigate(_,{state:B,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(_,B,D)=>r.navigate(_,{replace:!0,state:B,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[r]),C=r.basename||"/",S=w.useMemo(()=>({router:r,navigator:k,static:!1,basename:C}),[r,k,C]);return w.createElement(w.Fragment,null,w.createElement(nb.Provider,{value:S},w.createElement(vI.Provider,{value:i},w.createElement(H6.Provider,{value:g.current},w.createElement(W6.Provider,{value:l},w.createElement(R6,{basename:C,location:i.location,navigationType:i.historyAction,navigator:k,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?w.createElement(q6,{routes:r.routes,future:r.future,state:i}):e))))),null)}function q6(t){let{routes:e,future:r,state:n}=t;return w6(e,void 0,n,r)}const K6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dl=w.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=I6(e,A6),{basename:p}=w.useContext(fu),f,m=!1;if(typeof c=="string"&&Q6.test(c)&&(f=c,K6))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),C=nh(k.pathname,p);k.origin===v.origin&&C!=null?c=C+k.search+k.hash:m=!0}catch{}let g=y6(c,{relative:i}),y=J6(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function b(v){n&&n(v),v.defaultPrevented||y(v)}return w.createElement("a",sp({},h,{href:f||g,onClick:m||s?n:b,ref:r,target:l}))});var QP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QP||(QP={}));var JP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JP||(JP={}));function J6(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=b6(),c=sb(),u=SI(t,{relative:a});return w.useCallback(d=>{if(F6(d,r)){d.preventDefault();let h=n!==void 0?n:tu(c)===tu(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}const Z6={black:"#000",white:"#fff"},ap=Z6,ez={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Tu=ez,tz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_u=tz,rz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pu=rz,nz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Bu=nz,iz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Nu=iz,sz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rh=sz,az={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},oz=az;function Xo(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const lz=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"})),rm="$$material";function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T.apply(null,arguments)}function me(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TI(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var cz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uz=TI(function(t){return cz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function dz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fz=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=dz(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),gi="-ms-",Hy="-moz-",pr="-webkit-",_I="comm",qk="rule",Kk="decl",pz="@import",PI="@keyframes",mz="@layer",gz=Math.abs,ab=String.fromCharCode,yz=Object.assign;function bz(t,e){return ui(t,0)^45?(((e<<2^ui(t,0))<<2^ui(t,1))<<2^ui(t,2))<<2^ui(t,3):0}function BI(t){return t.trim()}function vz(t,e){return(t=e.exec(t))?t[0]:t}function mr(t,e,r){return t.replace(e,r)}function $S(t,e){return t.indexOf(e)}function ui(t,e){return t.charCodeAt(e)|0}function op(t,e,r){return t.slice(e,r)}function Qa(t){return t.length}function Qk(t){return t.length}function qm(t,e){return e.push(t),t}function wz(t,e){return t.map(e).join("")}var ob=1,Ed=1,NI=0,is=0,On=0,ih="";function lb(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:ob,column:Ed,length:a,return:""}}function Dh(t,e){return yz(lb("",null,null,"",null,null,0),t,{length:-t.length},e)}function xz(){return On}function Sz(){return On=is>0?ui(ih,--is):0,Ed--,On===10&&(Ed=1,ob--),On}function bs(){return On=is<NI?ui(ih,is++):0,Ed++,On===10&&(Ed=1,ob++),On}function uo(){return ui(ih,is)}function Kg(){return is}function nm(t,e){return op(ih,t,e)}function lp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MI(t){return ob=Ed=1,NI=Qa(ih=t),is=0,[]}function EI(t){return ih="",t}function Qg(t){return BI(nm(is-1,VS(t===91?t+2:t===40?t+1:t)))}function kz(t){for(;(On=uo())&&On<33;)bs();return lp(t)>2||lp(On)>3?"":" "}function Cz(t,e){for(;--e&&bs()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return nm(t,Kg()+(e<6&&uo()==32&&bs()==32))}function VS(t){for(;bs();)switch(On){case t:return is;case 34:case 39:t!==34&&t!==39&&VS(On);break;case 40:t===41&&VS(t);break;case 92:bs();break}return is}function Tz(t,e){for(;bs()&&t+On!==57;)if(t+On===84&&uo()===47)break;return"/*"+nm(e,is-1)+"*"+ab(t===47?t:bs())}function _z(t){for(;!lp(uo());)bs();return nm(t,is)}function Pz(t){return EI(Jg("",null,null,null,[""],t=MI(t),0,[0],t))}function Jg(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,y=1,b=0,v="",k=i,C=s,S=n,_=v;g;)switch(f=b,b=bs()){case 40:if(f!=108&&ui(_,d-1)==58){$S(_+=mr(Qg(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:_+=Qg(b);break;case 9:case 10:case 13:case 32:_+=kz(f);break;case 92:_+=Cz(Kg()-1,7);continue;case 47:switch(uo()){case 42:case 47:qm(Bz(Tz(bs(),Kg()),e,r),l);break;default:_+="/"}break;case 123*m:o[c++]=Qa(_)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:y==-1&&(_=mr(_,/\f/g,"")),p>0&&Qa(_)-d&&qm(p>32?eB(_+";",n,r,d-1):eB(mr(_," ","")+";",n,r,d-2),l);break;case 59:_+=";";default:if(qm(S=ZP(_,e,r,c,u,i,o,v,k=[],C=[],d),s),b===123)if(u===0)Jg(_,e,S,S,k,s,d,o,C);else switch(h===99&&ui(_,3)===110?100:h){case 100:case 108:case 109:case 115:Jg(t,S,S,n&&qm(ZP(t,S,S,0,0,i,o,v,i,k=[],d),C),i,C,d,o,n?k:C);break;default:Jg(_,S,S,S,[""],C,0,o,C)}}c=u=p=0,m=y=1,v=_="",d=a;break;case 58:d=1+Qa(_),p=f;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&Sz()==125)continue}switch(_+=ab(b),b*m){case 38:y=u>0?1:(_+="\f",-1);break;case 44:o[c++]=(Qa(_)-1)*y,y=1;break;case 64:uo()===45&&(_+=Qg(bs())),h=uo(),u=d=Qa(v=_+=_z(Kg())),b++;break;case 45:f===45&&Qa(_)==2&&(m=0)}}return s}function ZP(t,e,r,n,i,s,a,o,l,c,u){for(var d=i-1,h=i===0?s:[""],p=Qk(h),f=0,m=0,g=0;f<n;++f)for(var y=0,b=op(t,d+1,d=gz(m=a[f])),v=t;y<p;++y)(v=BI(m>0?h[y]+" "+b:mr(b,/&\f/g,h[y])))&&(l[g++]=v);return lb(t,e,r,i===0?qk:o,l,c,u)}function Bz(t,e,r){return lb(t,e,r,_I,ab(xz()),op(t,2,-2),0)}function eB(t,e,r,n){return lb(t,e,r,Kk,op(t,0,n),op(t,n+1,-1),n)}function gd(t,e){for(var r="",n=Qk(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Nz(t,e,r,n){switch(t.type){case mz:if(t.children.length)break;case pz:case Kk:return t.return=t.return||t.value;case _I:return"";case PI:return t.return=t.value+"{"+gd(t.children,n)+"}";case qk:t.value=t.props.join(",")}return Qa(r=gd(t.children,n))?t.return=t.value+"{"+r+"}":""}function Mz(t){var e=Qk(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function Ez(t){return function(e){e.root||(e=e.return)&&t(e)}}var Rz=function(e,r,n){for(var i=0,s=0;i=s,s=uo(),i===38&&s===12&&(r[n]=1),!lp(s);)bs();return nm(e,is)},Dz=function(e,r){var n=-1,i=44;do switch(lp(i)){case 0:i===38&&uo()===12&&(r[n]=1),e[n]+=Rz(is-1,r,n);break;case 2:e[n]+=Qg(i);break;case 4:if(i===44){e[++n]=uo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=ab(i)}while(i=bs());return e},Iz=function(e,r){return EI(Dz(MI(e),r))},tB=new WeakMap,Lz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!tB.get(n))&&!i){tB.set(e,!0);for(var s=[],a=Iz(r,s),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},Fz=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function RI(t,e){switch(bz(t,e)){case 5103:return pr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pr+t+Hy+t+gi+t+t;case 6828:case 4268:return pr+t+gi+t+t;case 6165:return pr+t+gi+"flex-"+t+t;case 5187:return pr+t+mr(t,/(\w+).+(:[^]+)/,pr+"box-$1$2"+gi+"flex-$1$2")+t;case 5443:return pr+t+gi+"flex-item-"+mr(t,/flex-|-self/,"")+t;case 4675:return pr+t+gi+"flex-line-pack"+mr(t,/align-content|flex-|-self/,"")+t;case 5548:return pr+t+gi+mr(t,"shrink","negative")+t;case 5292:return pr+t+gi+mr(t,"basis","preferred-size")+t;case 6060:return pr+"box-"+mr(t,"-grow","")+pr+t+gi+mr(t,"grow","positive")+t;case 4554:return pr+mr(t,/([^-])(transform)/g,"$1"+pr+"$2")+t;case 6187:return mr(mr(mr(t,/(zoom-|grab)/,pr+"$1"),/(image-set)/,pr+"$1"),t,"")+t;case 5495:case 3959:return mr(t,/(image-set\([^]*)/,pr+"$1$`$1");case 4968:return mr(mr(t,/(.+:)(flex-)?(.*)/,pr+"box-pack:$3"+gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pr+t+t;case 4095:case 3583:case 4068:case 2532:return mr(t,/(.+)-inline(.+)/,pr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qa(t)-1-e>6)switch(ui(t,e+1)){case 109:if(ui(t,e+4)!==45)break;case 102:return mr(t,/(.+:)(.+)-([^]+)/,"$1"+pr+"$2-$3$1"+Hy+(ui(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$S(t,"stretch")?RI(mr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ui(t,e+1)!==115)break;case 6444:switch(ui(t,Qa(t)-3-(~$S(t,"!important")&&10))){case 107:return mr(t,":",":"+pr)+t;case 101:return mr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pr+(ui(t,14)===45?"inline-":"")+"box$3$1"+pr+"$2$3$1"+gi+"$2box$3")+t}break;case 5936:switch(ui(t,e+11)){case 114:return pr+t+gi+mr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pr+t+gi+mr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pr+t+gi+mr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pr+t+gi+t+t}return t}var Az=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case Kk:e.return=RI(e.value,e.length);break;case PI:return gd([Dh(e,{value:mr(e.value,"@","@"+pr)})],i);case qk:if(e.length)return wz(e.props,function(s){switch(vz(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gd([Dh(e,{props:[mr(s,/:(read-\w+)/,":"+Hy+"$1")]})],i);case"::placeholder":return gd([Dh(e,{props:[mr(s,/:(plac\w+)/,":"+pr+"input-$1")]}),Dh(e,{props:[mr(s,/:(plac\w+)/,":"+Hy+"$1")]}),Dh(e,{props:[mr(s,/:(plac\w+)/,gi+"input-$1")]})],i)}return""})}},Oz=[Az],DI=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Oz,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)s[g[y]]=!0;o.push(m)});var l,c=[Lz,Fz];{var u,d=[Nz,Ez(function(m){u.insert(m)})],h=Mz(c.concat(i,d)),p=function(g){return gd(Pz(g),h)};l=function(g,y,b,v){u=b,p(g?g+"{"+y.styles+"}":y.styles),v&&(f.inserted[y.name]=!0)}}var f={key:r,sheet:new fz({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(o),f},II={exports:{}},xr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=typeof Symbol=="function"&&Symbol.for,Jk=ni?Symbol.for("react.element"):60103,Zk=ni?Symbol.for("react.portal"):60106,cb=ni?Symbol.for("react.fragment"):60107,ub=ni?Symbol.for("react.strict_mode"):60108,db=ni?Symbol.for("react.profiler"):60114,hb=ni?Symbol.for("react.provider"):60109,fb=ni?Symbol.for("react.context"):60110,eC=ni?Symbol.for("react.async_mode"):60111,pb=ni?Symbol.for("react.concurrent_mode"):60111,mb=ni?Symbol.for("react.forward_ref"):60112,gb=ni?Symbol.for("react.suspense"):60113,$z=ni?Symbol.for("react.suspense_list"):60120,yb=ni?Symbol.for("react.memo"):60115,bb=ni?Symbol.for("react.lazy"):60116,Vz=ni?Symbol.for("react.block"):60121,zz=ni?Symbol.for("react.fundamental"):60117,Wz=ni?Symbol.for("react.responder"):60118,Hz=ni?Symbol.for("react.scope"):60119;function Bs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Jk:switch(t=t.type,t){case eC:case pb:case cb:case db:case ub:case gb:return t;default:switch(t=t&&t.$$typeof,t){case fb:case mb:case bb:case yb:case hb:return t;default:return e}}case Zk:return e}}}function LI(t){return Bs(t)===pb}xr.AsyncMode=eC;xr.ConcurrentMode=pb;xr.ContextConsumer=fb;xr.ContextProvider=hb;xr.Element=Jk;xr.ForwardRef=mb;xr.Fragment=cb;xr.Lazy=bb;xr.Memo=yb;xr.Portal=Zk;xr.Profiler=db;xr.StrictMode=ub;xr.Suspense=gb;xr.isAsyncMode=function(t){return LI(t)||Bs(t)===eC};xr.isConcurrentMode=LI;xr.isContextConsumer=function(t){return Bs(t)===fb};xr.isContextProvider=function(t){return Bs(t)===hb};xr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jk};xr.isForwardRef=function(t){return Bs(t)===mb};xr.isFragment=function(t){return Bs(t)===cb};xr.isLazy=function(t){return Bs(t)===bb};xr.isMemo=function(t){return Bs(t)===yb};xr.isPortal=function(t){return Bs(t)===Zk};xr.isProfiler=function(t){return Bs(t)===db};xr.isStrictMode=function(t){return Bs(t)===ub};xr.isSuspense=function(t){return Bs(t)===gb};xr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cb||t===pb||t===db||t===ub||t===gb||t===$z||typeof t=="object"&&t!==null&&(t.$$typeof===bb||t.$$typeof===yb||t.$$typeof===hb||t.$$typeof===fb||t.$$typeof===mb||t.$$typeof===zz||t.$$typeof===Wz||t.$$typeof===Hz||t.$$typeof===Vz)};xr.typeOf=Bs;II.exports=xr;var Uz=II.exports,FI=Uz,Gz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AI={};AI[FI.ForwardRef]=Gz;AI[FI.Memo]=jz;var Yz=!0;function Xz(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var OI=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Yz===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},$I=function(e,r,n){OI(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qz(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Kz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qz=/[A-Z]|^ms/g,Jz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VI=function(e){return e.charCodeAt(1)===45},rB=function(e){return e!=null&&typeof e!="boolean"},Tw=TI(function(t){return VI(t)?t:t.replace(Qz,"-$&").toLowerCase()}),nB=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Jz,function(n,i,s){return Ja={name:i,styles:s,next:Ja},i})}return Kz[e]!==1&&!VI(e)&&typeof r=="number"&&r!==0?r+"px":r};function cp(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ja={name:r.name,styles:r.styles,next:Ja},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ja={name:n.name,styles:n.styles,next:Ja},n=n.next;var i=r.styles+";";return i}return Zz(t,e,r)}case"function":{if(t!==void 0){var s=Ja,a=r(t);return Ja=s,cp(t,e,a)}break}}if(e==null)return r;var o=e[r];return o!==void 0?o:r}function Zz(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=cp(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":rB(a)&&(n+=Tw(s)+":"+nB(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)rB(a[o])&&(n+=Tw(s)+":"+nB(s,a[o])+";");else{var l=cp(t,e,a);switch(s){case"animation":case"animationName":{n+=Tw(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var iB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ja,tC=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ja=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=cp(n,r,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=cp(n,r,e[o]),i&&(s+=a[o]);iB.lastIndex=0;for(var l="",c;(c=iB.exec(s))!==null;)l+="-"+c[1];var u=qz(s)+l;return{name:u,styles:s,next:Ja}},eW=function(e){return e()},zI=Xc.useInsertionEffect?Xc.useInsertionEffect:!1,tW=zI||eW,sB=zI||w.useLayoutEffect,WI=w.createContext(typeof HTMLElement<"u"?DI({key:"css"}):null),rW=WI.Provider,HI=function(e){return w.forwardRef(function(r,n){var i=w.useContext(WI);return e(r,i,n)})},vb=w.createContext({}),_w={exports:{}},aB;function UI(){return aB||(aB=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(_w)),_w.exports}UI();var nW=HI(function(t,e){var r=t.styles,n=tC([r],void 0,w.useContext(vb)),i=w.useRef();return sB(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),sB(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&$I(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function wb(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return tC(e)}var sh=function(){var e=wb.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},iW=uz,sW=function(e){return e!=="theme"},oB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iW:sW},lB=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},aW=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return OI(r,n,i),tW(function(){return $I(r,n,i)}),null},oW=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;r!==void 0&&(s=r.label,a=r.target);var o=lB(e,r,n),l=o||oB(i),c=!l("as");return function(){var u=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var f=HI(function(m,g,y){var b=c&&m.as||i,v="",k=[],C=m;if(m.theme==null){C={};for(var S in m)C[S]=m[S];C.theme=w.useContext(vb)}typeof m.className=="string"?v=Xz(g.registered,k,m.className):m.className!=null&&(v=m.className+" ");var _=tC(d.concat(k),g.registered,C);v+=g.key+"-"+_.name,a!==void 0&&(v+=" "+a);var B=c&&o===void 0?oB(b):l,D={};for(var E in m)c&&E==="as"||B(E)&&(D[E]=m[E]);return D.className=v,D.ref=y,w.createElement(w.Fragment,null,w.createElement(aW,{cache:g,serialized:_,isStringTag:typeof b=="string"}),w.createElement(b,D))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=o,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(m,g){return t(m,T({},r,g,{shouldForwardProp:lB(f,g,!0)})).apply(void 0,d)},f}},lW=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zS=oW.bind();lW.forEach(function(t){zS[t]=zS(t)});var GI={exports:{}},cW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uW=cW,dW=uW;function jI(){}function YI(){}YI.resetWarningCache=jI;var hW=function(){function t(n,i,s,a,o,l){if(l!==dW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YI,resetWarningCache:jI};return r.PropTypes=r,r};GI.exports=hW();var fW=GI.exports;const z=aa(fW);let WS;typeof document=="object"&&(WS=DI({key:"css",prepend:!0}));function pW(t){const{injectFirst:e,children:r}=t;return e&&WS?x.jsx(rW,{value:WS,children:r}):r}function mW(t){return t==null||Object.keys(t).length===0}function XI(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(mW(i)?r:i):e;return x.jsx(nW,{styles:n})}function rC(t,e){return zS(t,e)}const qI=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},gW=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:XI,StyledEngineProvider:pW,ThemeContext:vb,css:wb,default:rC,internal_processStyles:qI,keyframes:sh},Symbol.toStringTag,{value:"Module"}));function No(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function KI(t){if(!No(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=KI(t[r])}),e}function Fi(t,e,r={clone:!0}){const n=r.clone?T({},t):t;return No(t)&&No(e)&&Object.keys(e).forEach(i=>{No(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&No(t[i])?n[i]=Fi(t[i],e[i],r):r.clone?n[i]=No(e[i])?KI(e[i]):e[i]:n[i]=e[i]}),n}const yW=Object.freeze(Object.defineProperty({__proto__:null,default:Fi,isPlainObject:No},Symbol.toStringTag,{value:"Module"})),bW=["values","unit","step"],vW=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>T({},r,{[n.key]:n.val}),{})};function QI(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=me(t,bW),s=vW(e),a=Object.keys(s);function o(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function c(h,p){const f=a.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(f!==-1&&typeof e[a[f]]=="number"?e[a[f]]:p)-n/100}${r})`}function u(h){return a.indexOf(h)+1<a.length?c(h,a[a.indexOf(h)+1]):o(h)}function d(h){const p=a.indexOf(h);return p===0?o(a[1]):p===a.length-1?l(a[p]):c(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return T({keys:a,values:s,up:o,down:l,between:c,only:u,not:d,unit:r},i)}const wW={borderRadius:4},xW=wW;function Sf(t,e){return e?Fi(t,e,{clone:!1}):t}const nC={xs:0,sm:600,md:900,lg:1200,xl:1536},cB={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${nC[t]}px)`};function $a(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||cB;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=r(e[l]),a),{})}if(typeof e=="object"){const s=n.breakpoints||cB;return Object.keys(e).reduce((a,o)=>{if(Object.keys(s.values||nC).indexOf(o)!==-1){const l=s.up(o);a[l]=r(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return r(e)}function JI(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function ZI(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function SW(t,...e){const r=JI(t),n=[r,...e].reduce((i,s)=>Fi(i,s),{});return ZI(Object.keys(r),n)}function kW(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function Pw({values:t,breakpoints:e,base:r}){const n=r||kW(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[s],s=o):a[o]=t,a),{})}function Ee(t){if(typeof t!="string")throw new Error(Xo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const CW=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function xb(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Uy(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=xb(t,r)||n,e&&(i=e(i,n,t)),i}function Mn(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,c=xb(l,n)||{};return $a(a,o,d=>{let h=Uy(c,i,d);return d===h&&typeof d=="string"&&(h=Uy(c,i,`${e}${d==="default"?"":Ee(d)}`,d)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[e],s}function TW(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const _W={m:"margin",p:"padding"},PW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BW=TW(t=>{if(t.length>2)if(uB[t])t=uB[t];else return[t];const[e,r]=t.split(""),n=_W[e],i=PW[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),iC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...iC,...sC];function im(t,e,r,n){var i;const s=(i=xb(t,e,!1))!=null?i:r;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function aC(t){return im(t,"spacing",8)}function ru(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function NW(t,e){return r=>t.reduce((n,i)=>(n[i]=ru(e,r),n),{})}function MW(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=BW(r),s=NW(i,n),a=t[r];return $a(t,a,s)}function eL(t,e){const r=aC(t.theme);return Object.keys(t).map(n=>MW(t,e,n,r)).reduce(Sf,{})}function un(t){return eL(t,iC)}un.propTypes={};un.filterProps=iC;function dn(t){return eL(t,sC)}dn.propTypes={};dn.filterProps=sC;function EW(t=8){if(t.mui)return t;const e=aC({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function Sb(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?Sf(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Os(t){return typeof t!="number"?t:`${t}px solid`}function oa(t,e){return Mn({prop:t,themeKey:"borders",transform:e})}const RW=oa("border",Os),DW=oa("borderTop",Os),IW=oa("borderRight",Os),LW=oa("borderBottom",Os),FW=oa("borderLeft",Os),AW=oa("borderColor"),OW=oa("borderTopColor"),$W=oa("borderRightColor"),VW=oa("borderBottomColor"),zW=oa("borderLeftColor"),WW=oa("outline",Os),HW=oa("outlineColor"),kb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=im(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:ru(e,n)});return $a(t,t.borderRadius,r)}return null};kb.propTypes={};kb.filterProps=["borderRadius"];Sb(RW,DW,IW,LW,FW,AW,OW,$W,VW,zW,kb,WW,HW);const Cb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=im(t.theme,"spacing",8),r=n=>({gap:ru(e,n)});return $a(t,t.gap,r)}return null};Cb.propTypes={};Cb.filterProps=["gap"];const Tb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=im(t.theme,"spacing",8),r=n=>({columnGap:ru(e,n)});return $a(t,t.columnGap,r)}return null};Tb.propTypes={};Tb.filterProps=["columnGap"];const _b=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=im(t.theme,"spacing",8),r=n=>({rowGap:ru(e,n)});return $a(t,t.rowGap,r)}return null};_b.propTypes={};_b.filterProps=["rowGap"];const UW=Mn({prop:"gridColumn"}),GW=Mn({prop:"gridRow"}),jW=Mn({prop:"gridAutoFlow"}),YW=Mn({prop:"gridAutoColumns"}),XW=Mn({prop:"gridAutoRows"}),qW=Mn({prop:"gridTemplateColumns"}),KW=Mn({prop:"gridTemplateRows"}),QW=Mn({prop:"gridTemplateAreas"}),JW=Mn({prop:"gridArea"});Sb(Cb,Tb,_b,UW,GW,jW,YW,XW,qW,KW,QW,JW);function yd(t,e){return e==="grey"?e:t}const ZW=Mn({prop:"color",themeKey:"palette",transform:yd}),e8=Mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yd}),t8=Mn({prop:"backgroundColor",themeKey:"palette",transform:yd});Sb(ZW,e8,t8);function fs(t){return t<=1&&t!==0?`${t*100}%`:t}const r8=Mn({prop:"width",transform:fs}),oC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||nC[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:fs(r)}};return $a(t,t.maxWidth,e)}return null};oC.filterProps=["maxWidth"];const n8=Mn({prop:"minWidth",transform:fs}),i8=Mn({prop:"height",transform:fs}),s8=Mn({prop:"maxHeight",transform:fs}),a8=Mn({prop:"minHeight",transform:fs});Mn({prop:"size",cssProperty:"width",transform:fs});Mn({prop:"size",cssProperty:"height",transform:fs});const o8=Mn({prop:"boxSizing"});Sb(r8,oC,n8,i8,s8,a8,o8);const l8={border:{themeKey:"borders",transform:Os},borderTop:{themeKey:"borders",transform:Os},borderRight:{themeKey:"borders",transform:Os},borderBottom:{themeKey:"borders",transform:Os},borderLeft:{themeKey:"borders",transform:Os},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Os},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kb},color:{themeKey:"palette",transform:yd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yd},backgroundColor:{themeKey:"palette",transform:yd},p:{style:dn},pt:{style:dn},pr:{style:dn},pb:{style:dn},pl:{style:dn},px:{style:dn},py:{style:dn},padding:{style:dn},paddingTop:{style:dn},paddingRight:{style:dn},paddingBottom:{style:dn},paddingLeft:{style:dn},paddingX:{style:dn},paddingY:{style:dn},paddingInline:{style:dn},paddingInlineStart:{style:dn},paddingInlineEnd:{style:dn},paddingBlock:{style:dn},paddingBlockStart:{style:dn},paddingBlockEnd:{style:dn},m:{style:un},mt:{style:un},mr:{style:un},mb:{style:un},ml:{style:un},mx:{style:un},my:{style:un},margin:{style:un},marginTop:{style:un},marginRight:{style:un},marginBottom:{style:un},marginLeft:{style:un},marginX:{style:un},marginY:{style:un},marginInline:{style:un},marginInlineStart:{style:un},marginInlineEnd:{style:un},marginBlock:{style:un},marginBlockStart:{style:un},marginBlockEnd:{style:un},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Cb},rowGap:{style:_b},columnGap:{style:Tb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fs},maxWidth:{style:oC},minWidth:{transform:fs},height:{transform:fs},maxHeight:{transform:fs},minHeight:{transform:fs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},sm=l8;function c8(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function u8(t,e){return typeof t=="function"?t(e):t}function tL(){function t(r,n,i,s){const a={[r]:n,theme:i},o=s[r];if(!o)return{[r]:n};const{cssProperty:l=r,themeKey:c,transform:u,style:d}=o;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[r]:n};const h=xb(i,c)||{};return d?d(a):$a(a,n,f=>{let m=Uy(h,u,f);return f===m&&typeof f=="string"&&(m=Uy(h,u,`${r}${f==="default"?"":Ee(f)}`,f)),l===!1?m:{[l]:m}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const a=(n=s.unstable_sxConfig)!=null?n:sm;function o(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=JI(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const f=u8(c[p],s);if(f!=null)if(typeof f=="object")if(a[p])h=Sf(h,t(p,f,s,a));else{const m=$a({theme:s},f,g=>({[p]:g}));c8(m,f)?h[p]=e({sx:f,theme:s}):h=Sf(h,m)}else h=Sf(h,t(p,f,s,a))}),ZI(d,h)}return Array.isArray(i)?i.map(o):o(i)}return e}const ah=tL();ah.filterProps=["sx"];function rL(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const d8=["breakpoints","palette","spacing","shape"];function am(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,a=me(t,d8),o=QI(r),l=EW(i);let c=Fi({breakpoints:o,direction:"ltr",components:{},palette:T({mode:"light"},n),spacing:l,shape:T({},xW,s)},a);return c.applyStyles=rL,c=e.reduce((u,d)=>Fi(u,d),c),c.unstable_sxConfig=T({},sm,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return ah({sx:d,theme:this})},c}const h8=Object.freeze(Object.defineProperty({__proto__:null,default:am,private_createBreakpoints:QI,unstable_applyStyles:rL},Symbol.toStringTag,{value:"Module"}));function f8(t){return Object.keys(t).length===0}function nL(t=null){const e=w.useContext(vb);return!e||f8(e)?t:e}const p8=am();function Pb(t=p8){return nL(t)}function m8({styles:t,themeId:e,defaultTheme:r={}}){const n=Pb(r),i=typeof t=="function"?t(e&&n[e]||n):t;return x.jsx(XI,{styles:i})}const g8=["sx"],y8=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:sm;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function Bb(t){const{sx:e}=t,r=me(t,g8),{systemProps:n,otherProps:i}=y8(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return No(o)?T({},n,o):n}:s=T({},n,e),T({},i,{sx:s})}const b8=Object.freeze(Object.defineProperty({__proto__:null,default:ah,extendSxProp:Bb,unstable_createStyleFunctionSx:tL,unstable_defaultSxConfig:sm},Symbol.toStringTag,{value:"Module"})),dB=t=>t,v8=()=>{let t=dB;return{configure(e){t=e},generate(e){return t(e)},reset(){t=dB}}},w8=v8(),iL=w8;function sL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=sL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=sL(t))&&(n&&(n+=" "),n+=e);return n}const x8=["className","component"];function S8(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=rC("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(ah);return w.forwardRef(function(l,c){const u=Pb(r),d=Bb(l),{className:h,component:p="div"}=d,f=me(d,x8);return x.jsx(s,T({as:p,ref:c,className:Se(h,i?i(n):n),theme:e&&u[e]||u},f))})}const aL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ge(t,e,r="Mui"){const n=aL[e];return n?`${r}-${n}`:`${iL.generate(t)}-${e}`}function je(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Ge(t,i,r)}),n}var oL={exports:{}},Sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC=Symbol.for("react.element"),cC=Symbol.for("react.portal"),Nb=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Eb=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Db=Symbol.for("react.context"),k8=Symbol.for("react.server_context"),Ib=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Fb=Symbol.for("react.suspense_list"),Ab=Symbol.for("react.memo"),Ob=Symbol.for("react.lazy"),C8=Symbol.for("react.offscreen"),lL;lL=Symbol.for("react.module.reference");function la(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lC:switch(t=t.type,t){case Nb:case Eb:case Mb:case Lb:case Fb:return t;default:switch(t=t&&t.$$typeof,t){case k8:case Db:case Ib:case Ob:case Ab:case Rb:return t;default:return e}}case cC:return e}}}Sr.ContextConsumer=Db;Sr.ContextProvider=Rb;Sr.Element=lC;Sr.ForwardRef=Ib;Sr.Fragment=Nb;Sr.Lazy=Ob;Sr.Memo=Ab;Sr.Portal=cC;Sr.Profiler=Eb;Sr.StrictMode=Mb;Sr.Suspense=Lb;Sr.SuspenseList=Fb;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(t){return la(t)===Db};Sr.isContextProvider=function(t){return la(t)===Rb};Sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lC};Sr.isForwardRef=function(t){return la(t)===Ib};Sr.isFragment=function(t){return la(t)===Nb};Sr.isLazy=function(t){return la(t)===Ob};Sr.isMemo=function(t){return la(t)===Ab};Sr.isPortal=function(t){return la(t)===cC};Sr.isProfiler=function(t){return la(t)===Eb};Sr.isStrictMode=function(t){return la(t)===Mb};Sr.isSuspense=function(t){return la(t)===Lb};Sr.isSuspenseList=function(t){return la(t)===Fb};Sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nb||t===Eb||t===Mb||t===Lb||t===Fb||t===C8||typeof t=="object"&&t!==null&&(t.$$typeof===Ob||t.$$typeof===Ab||t.$$typeof===Rb||t.$$typeof===Db||t.$$typeof===Ib||t.$$typeof===lL||t.getModuleId!==void 0)};Sr.typeOf=la;oL.exports=Sr;var hB=oL.exports;const T8=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function cL(t){const e=`${t}`.match(T8);return e&&e[1]||""}function uL(t,e=""){return t.displayName||t.name||cL(t)||e}function fB(t,e,r){const n=uL(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function _8(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return uL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case hB.ForwardRef:return fB(t,t.render,"ForwardRef");case hB.Memo:return fB(t,t.type,"memo");default:return}}}const P8=Object.freeze(Object.defineProperty({__proto__:null,default:_8,getFunctionName:cL},Symbol.toStringTag,{value:"Module"})),B8=["ownerState"],N8=["variants"],M8=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function E8(t){return Object.keys(t).length===0}function R8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function kf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const D8=am(),I8=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Km({defaultTheme:t,theme:e,themeId:r}){return E8(e)?t:e[r]||e}function L8(t){return t?(e,r)=>r[t]:null}function Zg(t,e){let{ownerState:r}=e,n=me(e,B8);const i=typeof t=="function"?t(T({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>Zg(s,T({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=me(i,N8);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(T({ownerState:r},n,r)):Object.keys(l.props).forEach(u=>{(r==null?void 0:r[u])!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style(T({ownerState:r},n,r)):l.style))}),o}return i}function F8(t={}){const{themeId:e,defaultTheme:r=D8,rootShouldForwardProp:n=kf,slotShouldForwardProp:i=kf}=t,s=a=>ah(T({},a,{theme:Km(T({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{qI(a,C=>C.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=L8(I8(c))}=o,p=me(o,M8),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let g,y=kf;c==="Root"||c==="root"?y=n:c?y=i:R8(a)&&(y=void 0);const b=rC(a,T({shouldForwardProp:y,label:g},p)),v=C=>typeof C=="function"&&C.__emotion_real!==C||No(C)?S=>Zg(C,T({},S,{theme:Km({theme:S.theme,defaultTheme:r,themeId:e})})):C,k=(C,...S)=>{let _=v(C);const B=S?S.map(v):[];l&&h&&B.push(R=>{const O=Km(T({},R,{defaultTheme:r,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const L=O.components[l].styleOverrides,I={};return Object.entries(L).forEach(([N,F])=>{I[N]=Zg(F,T({},R,{theme:O}))}),h(R,I)}),l&&!f&&B.push(R=>{var O;const L=Km(T({},R,{defaultTheme:r,themeId:e})),I=L==null||(O=L.components)==null||(O=O[l])==null?void 0:O.variants;return Zg({variants:I},T({},R,{theme:L}))}),m||B.push(s);const D=B.length-S.length;if(Array.isArray(C)&&D>0){const R=new Array(D).fill("");_=[...C,...R],_.raw=[...C.raw,...R]}const E=b(_,...B);return a.muiName&&(E.muiName=a.muiName),E};return b.withConfig&&(k.withConfig=b.withConfig),k}}const A8=F8();function uC(t,e){const r=T({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=T({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=T({},s),Object.keys(i).forEach(a=>{r[n][a]=uC(i[a],s[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function dL(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:uC(e.components[r].defaultProps,n)}function hL({props:t,name:e,defaultTheme:r,themeId:n}){let i=Pb(r);return n&&(i=i[n]||i),dL({theme:i,name:e,props:t})}const Gr=typeof window<"u"?w.useLayoutEffect:w.useEffect;function O8(t,e,r,n,i){const[s,a]=w.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Gr(()=>{let o=!0;if(!r)return;const l=r(t),c=()=>{o&&a(l.matches)};return c(),l.addListener(c),()=>{o=!1,l.removeListener(c)}},[t,r]),s}const fL=w.useSyncExternalStore;function $8(t,e,r,n,i){const s=w.useCallback(()=>e,[e]),a=w.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:u}=n(t);return()=>u}return s},[s,t,n,i,r]),[o,l]=w.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const u=r(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[s,r,t]);return fL(l,o,a)}function dC(t,e={}){const r=nL(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:o=!1}=dL({name:"MuiUseMediaQuery",props:e,theme:r});let l=typeof t=="function"?t(r):t;return l=l.replace(/^@media( ?)/m,""),(fL!==void 0?$8:O8)(l,i,s,a,o)}function _l(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const V8=Object.freeze(Object.defineProperty({__proto__:null,default:_l},Symbol.toStringTag,{value:"Module"}));function z8(t,e=0,r=1){return _l(t,e,r)}function W8(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function pL(t){if(t.type)return t;if(t.charAt(0)==="#")return pL(W8(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Xo(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Xo(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function H8(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function go(t,e){return t=pL(t),e=z8(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,H8(t)}const U8=z.oneOfType([z.func,z.object]),$b=U8;function HS(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function om(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function ey(t,e){var r,n;return w.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function on(t){return t&&t.ownerDocument||document}function Va(t){return on(t).defaultView||window}function US(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let pB=0;function G8(t){const[e,r]=w.useState(t),n=t||e;return w.useEffect(()=>{e==null&&(pB+=1,r(`mui-${pB}`))},[e]),n}const mB=Xc.useId;function ca(t){if(mB!==void 0){const e=mB();return t??e}return G8(t)}function xs({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=w.useRef(t!==void 0),[s,a]=w.useState(e),o=i?t:s,l=w.useCallback(c=>{i||a(c)},[]);return[o,l]}function Ke(t){const e=w.useRef(t);return Gr(()=>{e.current=t}),w.useRef((...r)=>(0,e.current)(...r)).current}function qt(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{US(r,e)})},t)}const gB={};function j8(t,e){const r=w.useRef(gB);return r.current===gB&&(r.current=t(e)),r}const Y8=[];function X8(t){w.useEffect(t,Y8)}class Vb{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Vb}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function mL(){const t=j8(Vb.create).current;return X8(t.disposeEffect),t}let zb=!0,GS=!1;const q8=new Vb,K8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Q8(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&K8[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function J8(t){t.metaKey||t.altKey||t.ctrlKey||(zb=!0)}function Bw(){zb=!1}function Z8(){this.visibilityState==="hidden"&&GS&&(zb=!0)}function eH(t){t.addEventListener("keydown",J8,!0),t.addEventListener("mousedown",Bw,!0),t.addEventListener("pointerdown",Bw,!0),t.addEventListener("touchstart",Bw,!0),t.addEventListener("visibilitychange",Z8,!0)}function tH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return zb||Q8(e)}function hC(){const t=w.useCallback(i=>{i!=null&&eH(i.ownerDocument)},[]),e=w.useRef(!1);function r(){return e.current?(GS=!0,q8.start(100,()=>{GS=!1}),e.current=!1,!0):!1}function n(i){return tH(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function gL(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let Mu;function yL(){if(Mu)return Mu;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Mu="reverse",t.scrollLeft>0?Mu="default":(t.scrollLeft=1,t.scrollLeft===0&&(Mu="negative")),document.body.removeChild(t),Mu}function rH(t,e){const r=t.scrollLeft;if(e!=="rtl")return r;switch(yL()){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}const nH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},fC=nH;function He(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}const iH=w.createContext(),qn=()=>{const t=w.useContext(iH);return t??!1},sH=["component","direction","spacing","divider","children","className","useFlexGap"],aH=am(),oH=A8("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function lH(t){return hL({props:t,name:"MuiStack",defaultTheme:aH})}function cH(t,e){const r=w.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(w.cloneElement(e,{key:`separator-${s}`})),n),[])}const uH=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],dH=({ownerState:t,theme:e})=>{let r=T({display:"flex",flexDirection:"column"},$a({theme:e},Pw({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=aC(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Pw({values:t.direction,base:i}),a=Pw({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),r=Fi(r,$a({theme:e},a,(l,c)=>t.useFlexGap?{gap:ru(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${uH(c?s[c]:t.direction)}`]:ru(n,l)}}))}return r=SW(e.breakpoints,r),r};function hH(t={}){const{createStyledComponent:e=oH,useThemeProps:r=lH,componentName:n="MuiStack"}=t,i=()=>He({root:["root"]},l=>Ge(n,l),{}),s=e(dH);return w.forwardRef(function(l,c){const u=r(l),d=Bb(u),{component:h="div",direction:p="column",spacing:f=0,divider:m,children:g,className:y,useFlexGap:b=!1}=d,v=me(d,sH),k={direction:p,spacing:f,useFlexGap:b},C=i();return x.jsx(s,T({as:h,ownerState:k,ref:c,className:Se(C.root,y)},v,{children:m?cH(g,m):g}))})}function fH(t,e){return T({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var En={},bL={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(bL);var vL=bL.exports;const pH=Zl(lz),mH=Zl(V8);var wL=vL;Object.defineProperty(En,"__esModule",{value:!0});var ir=En.alpha=CL;En.blend=_H;En.colorChannel=void 0;var Gy=En.darken=mC;En.decomposeColor=ta;En.emphasize=TL;var gH=En.getContrastRatio=xH;En.getLuminance=Yy;En.hexToRgb=xL;En.hslToRgb=kL;var jy=En.lighten=gC;En.private_safeAlpha=SH;En.private_safeColorChannel=void 0;En.private_safeDarken=kH;En.private_safeEmphasize=TH;En.private_safeLighten=CH;En.recomposeColor=oh;En.rgbToHex=wH;var yB=wL(pH),yH=wL(mH);function pC(t,e=0,r=1){return(0,yH.default)(t,e,r)}function xL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function bH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ta(t){if(t.type)return t;if(t.charAt(0)==="#")return ta(xL(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,yB.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,yB.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const SL=t=>{const e=ta(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};En.colorChannel=SL;const vH=(t,e)=>{try{return SL(t)}catch{return t}};En.private_safeColorChannel=vH;function oh(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function wH(t){if(t.indexOf("#")===0)return t;const{values:e}=ta(t);return`#${e.map((r,n)=>bH(n===3?Math.round(255*r):r)).join("")}`}function kL(t){t=ta(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(c,u=(c+r/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),oh({type:o,values:l})}function Yy(t){t=ta(t);let e=t.type==="hsl"||t.type==="hsla"?ta(kL(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xH(t,e){const r=Yy(t),n=Yy(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function CL(t,e){return t=ta(t),e=pC(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,oh(t)}function SH(t,e,r){try{return CL(t,e)}catch{return t}}function mC(t,e){if(t=ta(t),e=pC(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return oh(t)}function kH(t,e,r){try{return mC(t,e)}catch{return t}}function gC(t,e){if(t=ta(t),e=pC(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return oh(t)}function CH(t,e,r){try{return gC(t,e)}catch{return t}}function TL(t,e=.15){return Yy(t)>.5?mC(t,e):gC(t,e)}function TH(t,e,r){try{return TL(t,e)}catch{return t}}function _H(t,e,r,n=1){const i=(l,c)=>Math.round((l**(1/n)*(1-r)+c**(1/n)*r)**n),s=ta(t),a=ta(e),o=[i(s.values[0],a.values[0]),i(s.values[1],a.values[1]),i(s.values[2],a.values[2])];return oh({type:"rgb",values:o})}const PH=["mode","contrastThreshold","tonalOffset"],bB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ap.white,default:ap.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Nw={text:{primary:ap.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ap.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function vB(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=jy(t.main,i):e==="dark"&&(t.dark=Gy(t.main,s)))}function BH(t="light"){return t==="dark"?{main:Pu[200],light:Pu[50],dark:Pu[400]}:{main:Pu[700],light:Pu[400],dark:Pu[800]}}function NH(t="light"){return t==="dark"?{main:_u[200],light:_u[50],dark:_u[400]}:{main:_u[500],light:_u[300],dark:_u[700]}}function MH(t="light"){return t==="dark"?{main:Tu[500],light:Tu[300],dark:Tu[700]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function EH(t="light"){return t==="dark"?{main:Bu[400],light:Bu[300],dark:Bu[700]}:{main:Bu[700],light:Bu[500],dark:Bu[900]}}function RH(t="light"){return t==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:Nu[800],light:Nu[500],dark:Nu[900]}}function DH(t="light"){return t==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:"#ed6c02",light:Rh[500],dark:Rh[900]}}function IH(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=me(t,PH),s=t.primary||BH(e),a=t.secondary||NH(e),o=t.error||MH(e),l=t.info||EH(e),c=t.success||RH(e),u=t.warning||DH(e);function d(m){return gH(m,Nw.text.primary)>=r?Nw.text.primary:bB.text.primary}const h=({color:m,name:g,mainShade:y=500,lightShade:b=300,darkShade:v=700})=>{if(m=T({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Xo(11,g?` (${g})`:"",y));if(typeof m.main!="string")throw new Error(Xo(12,g?` (${g})`:"",JSON.stringify(m.main)));return vB(m,"light",b,n),vB(m,"dark",v,n),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Nw,light:bB};return Fi(T({common:T({},ap),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:o,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:oz,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},p[e]),i)}const LH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function FH(t){return Math.round(t*1e5)/1e5}const wB={textTransform:"uppercase"},xB='"Roboto", "Helvetica", "Arial", sans-serif';function AH(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=xB,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=r,h=me(r,LH),p=i/14,f=d||(y=>`${y/c*p}rem`),m=(y,b,v,k,C)=>T({fontFamily:n,fontWeight:y,fontSize:f(b),lineHeight:v},n===xB?{letterSpacing:`${FH(k/b)}em`}:{},C,u),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(o,14,1.75,.4,wB),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,wB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fi(T({htmlFontSize:c,pxToRem:f,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},g),h,{clone:!1})}const OH=.2,$H=.14,VH=.12;function Yr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${OH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$H})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${VH})`].join(",")}const zH=["none",Yr(0,2,1,-1,0,1,1,0,0,1,3,0),Yr(0,3,1,-2,0,2,2,0,0,1,5,0),Yr(0,3,3,-2,0,3,4,0,0,1,8,0),Yr(0,2,4,-1,0,4,5,0,0,1,10,0),Yr(0,3,5,-1,0,5,8,0,0,1,14,0),Yr(0,3,5,-1,0,6,10,0,0,1,18,0),Yr(0,4,5,-2,0,7,10,1,0,2,16,1),Yr(0,5,5,-3,0,8,10,1,0,3,14,2),Yr(0,5,6,-3,0,9,12,1,0,3,16,2),Yr(0,6,6,-3,0,10,14,1,0,4,18,3),Yr(0,6,7,-4,0,11,15,1,0,4,20,3),Yr(0,7,8,-4,0,12,17,2,0,5,22,4),Yr(0,7,8,-4,0,13,19,2,0,5,24,4),Yr(0,7,9,-4,0,14,21,2,0,5,26,4),Yr(0,8,9,-5,0,15,22,2,0,6,28,5),Yr(0,8,10,-5,0,16,24,2,0,6,30,5),Yr(0,8,11,-5,0,17,26,2,0,6,32,5),Yr(0,9,11,-5,0,18,28,2,0,7,34,6),Yr(0,9,12,-6,0,19,29,2,0,7,36,6),Yr(0,10,13,-6,0,20,31,3,0,8,38,7),Yr(0,10,13,-6,0,21,33,3,0,8,40,7),Yr(0,10,14,-6,0,22,35,3,0,8,42,7),Yr(0,11,14,-7,0,23,36,3,0,9,44,8),Yr(0,11,15,-7,0,24,38,3,0,9,46,8)],WH=["duration","easing","delay"],HH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},UH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function SB(t){return`${Math.round(t)}ms`}function GH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function jH(t){const e=T({},HH,t.easing),r=T({},UH,t.duration);return T({getAutoHeightDuration:GH,create:(i=["all"],s={})=>{const{duration:a=r.standard,easing:o=e.easeInOut,delay:l=0}=s;return me(s,WH),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:SB(a)} ${o} ${typeof l=="string"?l:SB(l)}`).join(",")}},t,{easing:e,duration:r})}const YH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},XH=YH,qH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _L(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,a=me(t,qH);if(t.vars)throw new Error(Xo(18));const o=IH(n),l=am(t);let c=Fi(l,{mixins:fH(l.breakpoints,r),palette:o,shadows:zH.slice(),typography:AH(o,s),transitions:jH(i),zIndex:T({},XH)});return c=Fi(c,a),c=e.reduce((u,d)=>Fi(u,d),c),c.unstable_sxConfig=T({},sm,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return ah({sx:d,theme:this})},c}const KH=_L(),Wb=KH;function Ns(){const t=Pb(Wb);return t[rm]||t}function Fe({props:t,name:e}){return hL({props:t,name:e,defaultTheme:Wb,themeId:rm})}var lm={},Mw={exports:{}},kB;function QH(){return kB||(kB=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Mw)),Mw.exports}const PL=Zl(gW),JH=Zl(yW),ZH=Zl(CW),e7=Zl(P8),t7=Zl(h8),r7=Zl(b8);var lh=vL;Object.defineProperty(lm,"__esModule",{value:!0});var n7=lm.default=g7;lm.shouldForwardProp=ty;lm.systemDefaultTheme=void 0;var Is=lh(UI()),jS=lh(QH()),CB=u7(PL),i7=JH;lh(ZH);lh(e7);var s7=lh(t7),a7=lh(r7);const o7=["ownerState"],l7=["variants"],c7=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function BL(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(BL=function(n){return n?r:e})(t)}function u7(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=BL(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function d7(t){return Object.keys(t).length===0}function h7(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ty(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const f7=lm.systemDefaultTheme=(0,s7.default)(),p7=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Qm({defaultTheme:t,theme:e,themeId:r}){return d7(e)?t:e[r]||e}function m7(t){return t?(e,r)=>r[t]:null}function ry(t,e){let{ownerState:r}=e,n=(0,jS.default)(e,o7);const i=typeof t=="function"?t((0,Is.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>ry(s,(0,Is.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=(0,jS.default)(i,l7);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Is.default)({ownerState:r},n,r)):Object.keys(l.props).forEach(u=>{(r==null?void 0:r[u])!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style((0,Is.default)({ownerState:r},n,r)):l.style))}),o}return i}function g7(t={}){const{themeId:e,defaultTheme:r=f7,rootShouldForwardProp:n=ty,slotShouldForwardProp:i=ty}=t,s=a=>(0,a7.default)((0,Is.default)({},a,{theme:Qm((0,Is.default)({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{(0,CB.internal_processStyles)(a,C=>C.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=m7(p7(c))}=o,p=(0,jS.default)(o,c7),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let g,y=ty;c==="Root"||c==="root"?y=n:c?y=i:h7(a)&&(y=void 0);const b=(0,CB.default)(a,(0,Is.default)({shouldForwardProp:y,label:g},p)),v=C=>typeof C=="function"&&C.__emotion_real!==C||(0,i7.isPlainObject)(C)?S=>ry(C,(0,Is.default)({},S,{theme:Qm({theme:S.theme,defaultTheme:r,themeId:e})})):C,k=(C,...S)=>{let _=v(C);const B=S?S.map(v):[];l&&h&&B.push(R=>{const O=Qm((0,Is.default)({},R,{defaultTheme:r,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const L=O.components[l].styleOverrides,I={};return Object.entries(L).forEach(([N,F])=>{I[N]=ry(F,(0,Is.default)({},R,{theme:O}))}),h(R,I)}),l&&!f&&B.push(R=>{var O;const L=Qm((0,Is.default)({},R,{defaultTheme:r,themeId:e})),I=L==null||(O=L.components)==null||(O=O[l])==null?void 0:O.variants;return ry({variants:I},(0,Is.default)({},R,{theme:L}))}),m||B.push(s);const D=B.length-S.length;if(Array.isArray(C)&&D>0){const R=new Array(D).fill("");_=[...C,...R],_.raw=[...C.raw,...R]}const E=b(_,...B);return a.muiName&&(E.muiName=a.muiName),E};return b.withConfig&&(k.withConfig=b.withConfig),k}}function cm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ii=t=>cm(t)&&t!=="classes",Q=n7({themeId:rm,defaultTheme:Wb,rootShouldForwardProp:ii}),TB=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function y7(t){return Ge("MuiSvgIcon",t)}je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const b7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v7=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Ee(e)}`,`fontSize${Ee(r)}`]};return He(i,y7,n)},w7=Q("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Ee(r.color)}`],e[`fontSize${Ee(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,a,o,l,c,u,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((o=t.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[e.color]}}),YS=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=me(n,b7),f=w.isValidElement(i)&&i.type==="svg",m=T({},n,{color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),g={};u||(g.viewBox=h);const y=v7(m);return x.jsxs(w7,T({as:o,className:Se(y.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,p,f&&i.props,{ownerState:m,children:[f?i.props.children:i,d?x.jsx("title",{children:d}):null]}))});YS.muiName="SvgIcon";function br(t,e){function r(n,i){return x.jsx(YS,T({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=YS.muiName,w.memo(w.forwardRef(r))}var Br={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=Symbol.for("react.element"),bC=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),x7=Symbol.for("react.server_context"),Xb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Kb=Symbol.for("react.suspense_list"),Qb=Symbol.for("react.memo"),Jb=Symbol.for("react.lazy"),S7=Symbol.for("react.offscreen"),NL;NL=Symbol.for("react.module.reference");function ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yC:switch(t=t.type,t){case Hb:case Gb:case Ub:case qb:case Kb:return t;default:switch(t=t&&t.$$typeof,t){case x7:case Yb:case Xb:case Jb:case Qb:case jb:return t;default:return e}}case bC:return e}}}Br.ContextConsumer=Yb;Br.ContextProvider=jb;Br.Element=yC;Br.ForwardRef=Xb;Br.Fragment=Hb;Br.Lazy=Jb;Br.Memo=Qb;Br.Portal=bC;Br.Profiler=Gb;Br.StrictMode=Ub;Br.Suspense=qb;Br.SuspenseList=Kb;Br.isAsyncMode=function(){return!1};Br.isConcurrentMode=function(){return!1};Br.isContextConsumer=function(t){return ua(t)===Yb};Br.isContextProvider=function(t){return ua(t)===jb};Br.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yC};Br.isForwardRef=function(t){return ua(t)===Xb};Br.isFragment=function(t){return ua(t)===Hb};Br.isLazy=function(t){return ua(t)===Jb};Br.isMemo=function(t){return ua(t)===Qb};Br.isPortal=function(t){return ua(t)===bC};Br.isProfiler=function(t){return ua(t)===Gb};Br.isStrictMode=function(t){return ua(t)===Ub};Br.isSuspense=function(t){return ua(t)===qb};Br.isSuspenseList=function(t){return ua(t)===Kb};Br.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hb||t===Gb||t===Ub||t===qb||t===Kb||t===S7||typeof t=="object"&&t!==null&&(t.$$typeof===Jb||t.$$typeof===Qb||t.$$typeof===jb||t.$$typeof===Yb||t.$$typeof===Xb||t.$$typeof===NL||t.getModuleId!==void 0)};Br.typeOf=ua;function ML(t){return Fe}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},XS(t,e)}function vC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,XS(t,e)}function k7(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function C7(t,e){t.classList?t.classList.add(e):k7(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function _B(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function T7(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=_B(t.className,e):t.setAttribute("class",_B(t.className&&t.className.baseVal||"",e))}const PB={disabled:!1},Xy=Ct.createContext(null);var EL=function(e){return e.scrollTop},sf="unmounted",yc="exited",bc="entering",$u="entered",qS="exiting",nl=function(t){vC(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=i,o=a&&!a.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?o?(l=yc,s.appearStatus=bc):l=$u:n.unmountOnExit||n.mountOnEnter?l=sf:l=yc,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===sf?{status:yc}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==bc&&a!==$u&&(s=bc):(a===bc||a===$u)&&(s=qS)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bc){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:nf.findDOMNode(this);a&&EL(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yc&&this.setState({status:sf})},r.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[nf.findDOMNode(this),o],c=l[0],u=l[1],d=this.getTimeouts(),h=o?d.appear:d.enter;if(!i&&!a||PB.disabled){this.safeSetState({status:$u},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:bc},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:$u},function(){s.props.onEntered(c,u)})})})},r.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:nf.findDOMNode(this);if(!s||PB.disabled){this.safeSetState({status:yc},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:qS},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:yc},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:nf.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===sf)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=me(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ct.createElement(Xy.Provider,{value:null},typeof a=="function"?a(i,o):Ct.cloneElement(Ct.Children.only(a),o))},e}(Ct.Component);nl.contextType=Xy;nl.propTypes={};function Eu(){}nl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Eu,onEntering:Eu,onEntered:Eu,onExit:Eu,onExiting:Eu,onExited:Eu};nl.UNMOUNTED=sf;nl.EXITED=yc;nl.ENTERING=bc;nl.ENTERED=$u;nl.EXITING=qS;const Zb=nl;var _7=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return C7(e,n)})},Ew=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return T7(e,n)})},wC=function(t){vC(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(o,l)},n.onEntering=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1],h=d?"appear":"enter";n.addClass(u,h,"active"),n.props.onEntering&&n.props.onEntering(o,l)},n.onEntered=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1],h=d?"appear":"enter";n.removeClasses(u,h),n.addClass(u,h,"done"),n.props.onEntered&&n.props.onEntered(o,l)},n.onExit=function(o){var l=n.resolveArguments(o),c=l[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(o)},n.onExiting=function(o){var l=n.resolveArguments(o),c=l[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(o)},n.onExited=function(o){var l=n.resolveArguments(o),c=l[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(o)},n.resolveArguments=function(o,l){return n.props.nodeRef?[n.props.nodeRef.current,o]:[o,l]},n.getClassNames=function(o){var l=n.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+o:l[o],h=c?d+"-active":l[o+"Active"],p=c?d+"-done":l[o+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:p}},n}var r=e.prototype;return r.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&a==="done"&&c&&(o+=" "+c),a==="active"&&i&&EL(i),o&&(this.appliedClasses[s][a]=o,_7(i,o))},r.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,c=a.done;this.appliedClasses[s]={},o&&Ew(i,o),l&&Ew(i,l),c&&Ew(i,c)},r.render=function(){var i=this.props;i.classNames;var s=me(i,["classNames"]);return Ct.createElement(Zb,T({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Ct.Component);wC.defaultProps={classNames:""};wC.propTypes={};const P7=wC;function B7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xC(t,e){var r=function(s){return e&&w.isValidElement(s)?e(s):s},n=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function N7(t,e){t=t||{},e=e||{};function r(u){return u in e?e[u]:t[u]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var c=n[l][a];o[n[l][a]]=r(c)}o[l]=r(l)}for(a=0;a<i.length;a++)o[i[a]]=r(i[a]);return o}function Mc(t,e,r){return r[e]!=null?r[e]:t.props[e]}function M7(t,e){return xC(t.children,function(r){return w.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Mc(r,"appear",t),enter:Mc(r,"enter",t),exit:Mc(r,"exit",t)})})}function E7(t,e,r){var n=xC(t.children),i=N7(e,n);return Object.keys(i).forEach(function(s){var a=i[s];if(w.isValidElement(a)){var o=s in e,l=s in n,c=e[s],u=w.isValidElement(c)&&!c.props.in;l&&(!o||u)?i[s]=w.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Mc(a,"exit",t),enter:Mc(a,"enter",t)}):!l&&o&&!u?i[s]=w.cloneElement(a,{in:!1}):l&&o&&w.isValidElement(c)&&(i[s]=w.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:Mc(a,"exit",t),enter:Mc(a,"enter",t)}))}}),i}var R7=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},D7={component:"div",childFactory:function(e){return e}},SC=function(t){vC(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=s.handleExited.bind(B7(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?M7(i,o):E7(i,a,o),firstRender:!1}},r.handleExited=function(i,s){var a=xC(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=T({},o.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=me(i,["component","childFactory"]),l=this.state.contextValue,c=R7(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?Ct.createElement(Xy.Provider,{value:l},c):Ct.createElement(Xy.Provider,{value:l},Ct.createElement(s,o,c))},e}(Ct.Component);SC.propTypes={};SC.defaultProps=D7;const kC=SC,CC=t=>t.scrollTop;function Rd(t,e){var r,n;const{timeout:i,easing:s,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:a.transitionDelay}}function I7(t){return Ge("MuiPaper",t)}je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const L7=["className","component","elevation","square","variant"],F7=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return He(s,I7,i)},A7=Q("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return T({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&T({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ir("#fff",TB(e.elevation))}, ${ir("#fff",TB(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),O7=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:a=1,square:o=!1,variant:l="elevation"}=n,c=me(n,L7),u=T({},n,{component:s,elevation:a,square:o,variant:l}),d=F7(u);return x.jsx(A7,T({as:s,ownerState:u,className:Se(d.root,i),ref:r},c))}),mu=O7;function ho(t){return typeof t=="string"}function $7(t,e,r){return t===void 0||ho(t)?e:T({},e,{ownerState:T({},e.ownerState,r)})}function V7(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const z7={disableDefaultClasses:!1},W7=w.createContext(z7);function H7(t){const{disableDefaultClasses:e}=w.useContext(W7);return r=>e?"":t(r)}function Cf(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function um(t,e,r){return typeof t=="function"?t(e,r):t}function BB(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function U7(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const p=Se(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),f=T({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=T({},r,i,n);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const a=Cf(T({},i,n)),o=BB(n),l=BB(i),c=e(a),u=Se(c==null?void 0:c.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=T({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=T({},c,r,l,o);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const G7=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Mt(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=me(t,G7),o=s?{}:um(n,i),{props:l,internalRef:c}=U7(T({},a,{externalSlotProps:o})),u=qt(c,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return $7(r,T({},l,{ref:u}),i)}function j7(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:c}=t,[u,d]=w.useState(!1),h=Se(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),p={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},f=Se(r.child,u&&r.childLeaving,n&&r.childPulsate);return!o&&!u&&d(!0),w.useEffect(()=>{if(!o&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,o,c]),x.jsx("span",{className:h,style:p,children:x.jsx("span",{className:f})})}const Ls=je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Y7=["center","classes","className"];let ev=t=>t,NB,MB,EB,RB;const KS=550,X7=80,q7=sh(NB||(NB=ev`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),K7=sh(MB||(MB=ev`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Q7=sh(EB||(EB=ev`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),J7=Q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Z7=Q(j7,{name:"MuiTouchRipple",slot:"Ripple"})(RB||(RB=ev`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ls.rippleVisible,q7,KS,({theme:t})=>t.transitions.easing.easeInOut,Ls.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ls.child,Ls.childLeaving,K7,KS,({theme:t})=>t.transitions.easing.easeInOut,Ls.childPulsate,Q7,({theme:t})=>t.transitions.easing.easeInOut),eU=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=n,o=me(n,Y7),[l,c]=w.useState([]),u=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),p=mL(),f=w.useRef(null),m=w.useRef(null),g=w.useCallback(k=>{const{pulsate:C,rippleX:S,rippleY:_,rippleSize:B,cb:D}=k;c(E=>[...E,x.jsx(Z7,{classes:{ripple:Se(s.ripple,Ls.ripple),rippleVisible:Se(s.rippleVisible,Ls.rippleVisible),ripplePulsate:Se(s.ripplePulsate,Ls.ripplePulsate),child:Se(s.child,Ls.child),childLeaving:Se(s.childLeaving,Ls.childLeaving),childPulsate:Se(s.childPulsate,Ls.childPulsate)},timeout:KS,pulsate:C,rippleX:S,rippleY:_,rippleSize:B},u.current)]),u.current+=1,d.current=D},[s]),y=w.useCallback((k={},C={},S=()=>{})=>{const{pulsate:_=!1,center:B=i||C.pulsate,fakeElement:D=!1}=C;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const E=D?null:m.current,R=E?E.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,L,I;if(B||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)O=Math.round(R.width/2),L=Math.round(R.height/2);else{const{clientX:N,clientY:F}=k.touches&&k.touches.length>0?k.touches[0]:k;O=Math.round(N-R.left),L=Math.round(F-R.top)}if(B)I=Math.sqrt((2*R.width**2+R.height**2)/3),I%2===0&&(I+=1);else{const N=Math.max(Math.abs((E?E.clientWidth:0)-O),O)*2+2,F=Math.max(Math.abs((E?E.clientHeight:0)-L),L)*2+2;I=Math.sqrt(N**2+F**2)}k!=null&&k.touches?f.current===null&&(f.current=()=>{g({pulsate:_,rippleX:O,rippleY:L,rippleSize:I,cb:S})},p.start(X7,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:_,rippleX:O,rippleY:L,rippleSize:I,cb:S})},[i,g,p]),b=w.useCallback(()=>{y({},{pulsate:!0})},[y]),v=w.useCallback((k,C)=>{if(p.clear(),(k==null?void 0:k.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{v(k,C)});return}f.current=null,c(S=>S.length>0?S.slice(1):S),d.current=C},[p]);return w.useImperativeHandle(r,()=>({pulsate:b,start:y,stop:v}),[b,y,v]),x.jsx(J7,T({className:Se(Ls.root,s.root,a),ref:m},o,{children:x.jsx(kC,{component:null,exit:!0,children:l})}))}),tU=eU;function rU(t){return Ge("MuiButtonBase",t)}const nU=je("MuiButtonBase",["root","disabled","focusVisible"]),iU=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],sU=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,a=He({root:["root",e&&"disabled",r&&"focusVisible"]},rU,i);return r&&n&&(a.root+=` ${n}`),a},aU=Q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nU.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),oU=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:y,onFocus:b,onFocusVisible:v,onKeyDown:k,onKeyUp:C,onMouseDown:S,onMouseLeave:_,onMouseUp:B,onTouchEnd:D,onTouchMove:E,onTouchStart:R,tabIndex:O=0,TouchRippleProps:L,touchRippleRef:I,type:N}=n,F=me(n,iU),A=w.useRef(null),M=w.useRef(null),V=qt(M,I),{isFocusVisibleRef:W,onFocus:K,onBlur:ie,ref:se}=hC(),[te,G]=w.useState(!1);c&&te&&G(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{G(!0),A.current.focus()}}),[]);const[Z,he]=w.useState(!1);w.useEffect(()=>{he(!0)},[]);const pe=Z&&!u&&!c;w.useEffect(()=>{te&&h&&!u&&Z&&M.current.pulsate()},[u,h,te,Z]);function ne(ye,Ze,kt=d){return Ke(Et=>(Ze&&Ze(Et),!kt&&M.current&&M.current[ye](Et),!0))}const le=ne("start",S),oe=ne("stop",g),q=ne("stop",y),X=ne("stop",B),J=ne("stop",ye=>{te&&ye.preventDefault(),_&&_(ye)}),Y=ne("start",R),we=ne("stop",D),fe=ne("stop",E),$=ne("stop",ye=>{ie(ye),W.current===!1&&G(!1),f&&f(ye)},!1),U=Ke(ye=>{A.current||(A.current=ye.currentTarget),K(ye),W.current===!0&&(G(!0),v&&v(ye)),b&&b(ye)}),j=()=>{const ye=A.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},ae=w.useRef(!1),Be=Ke(ye=>{h&&!ae.current&&te&&M.current&&ye.key===" "&&(ae.current=!0,M.current.stop(ye,()=>{M.current.start(ye)})),ye.target===ye.currentTarget&&j()&&ye.key===" "&&ye.preventDefault(),k&&k(ye),ye.target===ye.currentTarget&&j()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),ke=Ke(ye=>{h&&ye.key===" "&&M.current&&te&&!ye.defaultPrevented&&(ae.current=!1,M.current.stop(ye,()=>{M.current.pulsate(ye)})),C&&C(ye),m&&ye.target===ye.currentTarget&&j()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let De=l;De==="button"&&(F.href||F.to)&&(De=p);const Je={};De==="button"?(Je.type=N===void 0?"button":N,Je.disabled=c):(!F.href&&!F.to&&(Je.role="button"),c&&(Je["aria-disabled"]=c));const ht=qt(r,se,A),It=T({},n,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:O,focusVisible:te}),_e=sU(It);return x.jsxs(aU,T({as:De,className:Se(_e.root,o),ownerState:It,onBlur:$,onClick:m,onContextMenu:oe,onFocus:U,onKeyDown:Be,onKeyUp:ke,onMouseDown:le,onMouseLeave:J,onMouseUp:X,onDragLeave:q,onTouchEnd:we,onTouchMove:fe,onTouchStart:Y,ref:ht,tabIndex:c?-1:O,type:N},Je,F,{children:[a,pe?x.jsx(tU,T({ref:V,center:s},L)):null]}))}),ra=oU;function lU(t){return Ge("MuiIconButton",t)}const cU=je("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),uU=cU,dU=["edge","children","className","color","disabled","disableFocusRipple","size"],hU=t=>{const{classes:e,disabled:r,color:n,edge:i,size:s}=t,a={root:["root",r&&"disabled",n!=="default"&&`color${Ee(n)}`,i&&`edge${Ee(i)}`,`size${Ee(s)}`]};return He(a,lU,e)},fU=Q(ra,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${Ee(r.color)}`],r.edge&&e[`edge${Ee(r.edge)}`],e[`size${Ee(r.size)}`]]}})(({theme:t,ownerState:e})=>T({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return T({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&T({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":T({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${uU.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),pU=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=n,d=me(n,dU),h=T({},n,{edge:i,color:o,disabled:l,disableFocusRipple:c,size:u}),p=hU(h);return x.jsx(fU,T({className:Se(p.root,a),centerRipple:!0,focusRipple:!c,disabled:l,ref:r},d,{ownerState:h,children:s}))}),fi=pU;function mU(t){return Ge("MuiTypography",t)}je("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const gU=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],yU=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:a}=t,o={root:["root",s,t.align!=="inherit"&&`align${Ee(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return He(o,mU,a)},bU=Q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Ee(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>T({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),DB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vU={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},wU=t=>vU[t]||t,xU=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTypography"}),i=wU(n.color),s=Bb(T({},n,{color:i})),{align:a="inherit",className:o,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=DB}=s,f=me(s,gU),m=T({},s,{align:a,color:i,className:o,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),g=l||(d?"p":p[h]||DB[h])||"span",y=yU(m);return x.jsx(bU,T({as:g,ref:r,ownerState:m,className:Se(y.root,o)},f))}),cr=xU;function SU(t){return Ge("MuiAppBar",t)}je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const kU=["className","color","enableColorOnDark","position"],CU=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${Ee(e)}`,`position${Ee(r)}`]};return He(i,SU,n)},Jm=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,TU=Q(mu,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ee(r.position)}`],e[`color${Ee(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return T({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&T({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&T({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&T({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Jm(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Jm(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Jm(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Jm(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),_U=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:o="fixed"}=n,l=me(n,kU),c=T({},n,{color:s,position:o,enableColorOnDark:a}),u=CU(c);return x.jsx(TU,T({square:!0,component:"header",ownerState:c,elevation:4,className:Se(u.root,i,o==="fixed"&&"mui-fixed"),ref:r},l))}),PU=_U,RL="base";function BU(t){return`${RL}--${t}`}function NU(t,e){return`${RL}-${t}-${e}`}function DL(t,e){const r=aL[e];return r?BU(r):NU(t,e)}function MU(t,e){const r={};return e.forEach(n=>{r[n]=DL(t,n)}),r}const EU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function RU(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function DU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function IU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||DU(t))}function LU(t){const e=[],r=[];return Array.from(t.querySelectorAll(EU)).forEach((n,i)=>{const s=RU(n);s===-1||!IU(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function FU(){return!0}function IL(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=LU,isEnabled:a=FU,open:o}=t,l=w.useRef(!1),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),f=w.useRef(null),m=qt(e.ref,f),g=w.useRef(null);w.useEffect(()=>{!o||!f.current||(p.current=!r)},[r,o]),w.useEffect(()=>{if(!o||!f.current)return;const v=on(f.current);return f.current.contains(v.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[o]),w.useEffect(()=>{if(!o||!f.current)return;const v=on(f.current),k=_=>{g.current=_,!(n||!a()||_.key!=="Tab")&&v.activeElement===f.current&&_.shiftKey&&(l.current=!0,u.current&&u.current.focus())},C=()=>{const _=f.current;if(_===null)return;if(!v.hasFocus()||!a()||l.current){l.current=!1;return}if(_.contains(v.activeElement)||n&&v.activeElement!==c.current&&v.activeElement!==u.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let B=[];if((v.activeElement===c.current||v.activeElement===u.current)&&(B=s(f.current)),B.length>0){var D,E;const R=!!((D=g.current)!=null&&D.shiftKey&&((E=g.current)==null?void 0:E.key)==="Tab"),O=B[0],L=B[B.length-1];typeof O!="string"&&typeof L!="string"&&(R?L.focus():O.focus())}else _.focus()};v.addEventListener("focusin",C),v.addEventListener("keydown",k,!0);const S=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(S),v.removeEventListener("focusin",C),v.removeEventListener("keydown",k,!0)}},[r,n,i,a,o,s]);const y=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0,h.current=v.target;const k=e.props.onFocus;k&&k(v)},b=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0};return x.jsxs(w.Fragment,{children:[x.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:m,onFocus:y}),x.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function AU(t){return typeof t=="function"?t():t}const LL=w.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[a,o]=w.useState(null),l=qt(w.isValidElement(n)?n.ref:null,r);if(Gr(()=>{s||o(AU(i)||document.body)},[i,s]),Gr(()=>{if(a&&!s)return US(r,a),()=>{US(r,null)}},[r,a,s]),s){if(w.isValidElement(n)){const c={ref:l};return w.cloneElement(n,c)}return x.jsx(w.Fragment,{children:n})}return x.jsx(w.Fragment,{children:a&&em.createPortal(n,a)})});function OU(t){const e=on(t);return e.body===t?Va(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Tf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function IB(t){return parseInt(Va(t).getComputedStyle(t).paddingRight,10)||0}function $U(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function LB(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,a=>{const o=s.indexOf(a)===-1,l=!$U(a);o&&l&&Tf(a,i)})}function Rw(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function VU(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(OU(n)){const a=gL(on(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${IB(n)+a}px`;const o=on(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${IB(l)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=on(n).body;else{const a=n.parentElement,o=Va(n);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function zU(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class WU{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Tf(e.modalRef,!1);const i=zU(r);LB(r,e.mount,e.modalRef,i,!0);const s=Rw(this.containers,a=>a.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=Rw(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=VU(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=Rw(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Tf(e.modalRef,r),LB(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&Tf(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function HU(t){return typeof t=="function"?t():t}function UU(t){return t?t.props.hasOwnProperty("in"):!1}const GU=new WU;function jU(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=GU,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:c,open:u,rootRef:d}=t,h=w.useRef({}),p=w.useRef(null),f=w.useRef(null),m=qt(f,d),[g,y]=w.useState(!u),b=UU(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const k=()=>on(p.current),C=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),S=()=>{i.mount(C(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},_=Ke(()=>{const F=HU(e)||k().body;i.add(C(),F),f.current&&S()}),B=w.useCallback(()=>i.isTopModal(C()),[i]),D=Ke(F=>{p.current=F,F&&(u&&B()?S():f.current&&Tf(f.current,v))}),E=w.useCallback(()=>{i.remove(C(),v)},[v,i]);w.useEffect(()=>()=>{E()},[E]),w.useEffect(()=>{u?_():(!b||!s)&&E()},[u,E,b,s,_]);const R=F=>A=>{var M;(M=F.onKeyDown)==null||M.call(F,A),!(A.key!=="Escape"||A.which===229||!B())&&(r||(A.stopPropagation(),c&&c(A,"escapeKeyDown")))},O=F=>A=>{var M;(M=F.onClick)==null||M.call(F,A),A.target===A.currentTarget&&c&&c(A,"backdropClick")};return{getRootProps:(F={})=>{const A=Cf(t);delete A.onTransitionEnter,delete A.onTransitionExited;const M=T({},A,F);return T({role:"presentation"},M,{onKeyDown:R(M),ref:m})},getBackdropProps:(F={})=>{const A=F;return T({"aria-hidden":!0},A,{onClick:O(A),open:u})},getTransitionProps:()=>{const F=()=>{y(!1),a&&a()},A=()=>{y(!0),o&&o(),s&&E()};return{onEnter:HS(F,l==null?void 0:l.props.onEnter),onExited:HS(A,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:D,isTopModal:B,exited:g,hasTransition:b}}function FL(t){const{children:e,defer:r=!1,fallback:n=null}=t,[i,s]=w.useState(!1);return Gr(()=>{r||s(!0)},[r]),w.useEffect(()=>{r&&s(!0)},[r]),x.jsx(w.Fragment,{children:i?e:n})}var ts="top",na="bottom",ia="right",rs="left",TC="auto",dm=[ts,na,ia,rs],Dd="start",up="end",YU="clippingParents",AL="viewport",Ih="popper",XU="reference",FB=dm.reduce(function(t,e){return t.concat([e+"-"+Dd,e+"-"+up])},[]),OL=[].concat(dm,[TC]).reduce(function(t,e){return t.concat([e,e+"-"+Dd,e+"-"+up])},[]),qU="beforeRead",KU="read",QU="afterRead",JU="beforeMain",ZU="main",eG="afterMain",tG="beforeWrite",rG="write",nG="afterWrite",iG=[qU,KU,QU,JU,ZU,eG,tG,rG,nG];function yo(t){return t?(t.nodeName||"").toLowerCase():null}function Ss(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nu(t){var e=Ss(t).Element;return t instanceof e||t instanceof Element}function Js(t){var e=Ss(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _C(t){if(typeof ShadowRoot>"u")return!1;var e=Ss(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function sG(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Js(s)||!yo(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function aG(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,c){return l[c]="",l},{});!Js(i)||!yo(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const oG={name:"applyStyles",enabled:!0,phase:"write",fn:sG,effect:aG,requires:["computeStyles"]};function fo(t){return t.split("-")[0]}var Wc=Math.max,qy=Math.min,Id=Math.round;function QS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $L(){return!/^((?!chrome|android).)*safari/i.test(QS())}function Ld(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&Js(t)&&(i=t.offsetWidth>0&&Id(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Id(n.height)/t.offsetHeight||1);var a=nu(t)?Ss(t):window,o=a.visualViewport,l=!$L()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/i,u=(n.top+(l&&o?o.offsetTop:0))/s,d=n.width/i,h=n.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function PC(t){var e=Ld(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function VL(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&_C(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function qo(t){return Ss(t).getComputedStyle(t)}function lG(t){return["table","td","th"].indexOf(yo(t))>=0}function nc(t){return((nu(t)?t.ownerDocument:t.document)||window.document).documentElement}function tv(t){return yo(t)==="html"?t:t.assignedSlot||t.parentNode||(_C(t)?t.host:null)||nc(t)}function AB(t){return!Js(t)||qo(t).position==="fixed"?null:t.offsetParent}function cG(t){var e=/firefox/i.test(QS()),r=/Trident/i.test(QS());if(r&&Js(t)){var n=qo(t);if(n.position==="fixed")return null}var i=tv(t);for(_C(i)&&(i=i.host);Js(i)&&["html","body"].indexOf(yo(i))<0;){var s=qo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function hm(t){for(var e=Ss(t),r=AB(t);r&&lG(r)&&qo(r).position==="static";)r=AB(r);return r&&(yo(r)==="html"||yo(r)==="body"&&qo(r).position==="static")?e:r||cG(t)||e}function BC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function _f(t,e,r){return Wc(t,qy(e,r))}function uG(t,e,r){var n=_f(t,e,r);return n>r?r:n}function zL(){return{top:0,right:0,bottom:0,left:0}}function WL(t){return Object.assign({},zL(),t)}function HL(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var dG=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,WL(typeof e!="number"?e:HL(e,dm))};function hG(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=fo(r.placement),l=BC(o),c=[rs,ia].indexOf(o)>=0,u=c?"height":"width";if(!(!s||!a)){var d=dG(i.padding,r),h=PC(s),p=l==="y"?ts:rs,f=l==="y"?na:ia,m=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],g=a[l]-r.rects.reference[l],y=hm(s),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,v=m/2-g/2,k=d[p],C=b-h[u]-d[f],S=b/2-h[u]/2+v,_=_f(k,S,C),B=l;r.modifiersData[n]=(e={},e[B]=_,e.centerOffset=_-S,e)}}function fG(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||VL(e.elements.popper,i)&&(e.elements.arrow=i))}const pG={name:"arrow",enabled:!0,phase:"main",fn:hG,effect:fG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fd(t){return t.split("-")[1]}var mG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gG(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Id(r*i)/i||0,y:Id(n*i)/i||0}}function OB(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=a.x,p=h===void 0?0:h,f=a.y,m=f===void 0?0:f,g=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),v=rs,k=ts,C=window;if(c){var S=hm(r),_="clientHeight",B="clientWidth";if(S===Ss(r)&&(S=nc(r),qo(S).position!=="static"&&o==="absolute"&&(_="scrollHeight",B="scrollWidth")),S=S,i===ts||(i===rs||i===ia)&&s===up){k=na;var D=d&&S===C&&C.visualViewport?C.visualViewport.height:S[_];m-=D-n.height,m*=l?1:-1}if(i===rs||(i===ts||i===na)&&s===up){v=ia;var E=d&&S===C&&C.visualViewport?C.visualViewport.width:S[B];p-=E-n.width,p*=l?1:-1}}var R=Object.assign({position:o},c&&mG),O=u===!0?gG({x:p,y:m},Ss(r)):{x:p,y:m};if(p=O.x,m=O.y,l){var L;return Object.assign({},R,(L={},L[k]=b?"0":"",L[v]=y?"0":"",L.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",L))}return Object.assign({},R,(e={},e[k]=b?m+"px":"",e[v]=y?p+"px":"",e.transform="",e))}function yG(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:fo(e.placement),variation:Fd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,OB(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,OB(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yG,data:{}};var Zm={passive:!0};function vG(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=Ss(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",r.update,Zm)}),o&&l.addEventListener("resize",r.update,Zm),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",r.update,Zm)}),o&&l.removeEventListener("resize",r.update,Zm)}}const wG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vG,data:{}};var xG={left:"right",right:"left",bottom:"top",top:"bottom"};function ny(t){return t.replace(/left|right|bottom|top/g,function(e){return xG[e]})}var SG={start:"end",end:"start"};function $B(t){return t.replace(/start|end/g,function(e){return SG[e]})}function NC(t){var e=Ss(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function MC(t){return Ld(nc(t)).left+NC(t).scrollLeft}function kG(t,e){var r=Ss(t),n=nc(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=$L();(c||!c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+MC(t),y:l}}function CG(t){var e,r=nc(t),n=NC(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Wc(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Wc(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+MC(t),l=-n.scrollTop;return qo(i||r).direction==="rtl"&&(o+=Wc(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function EC(t){var e=qo(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function UL(t){return["html","body","#document"].indexOf(yo(t))>=0?t.ownerDocument.body:Js(t)&&EC(t)?t:UL(tv(t))}function Pf(t,e){var r;e===void 0&&(e=[]);var n=UL(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Ss(n),a=i?[s].concat(s.visualViewport||[],EC(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(Pf(tv(a)))}function JS(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TG(t,e){var r=Ld(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function VB(t,e,r){return e===AL?JS(kG(t,r)):nu(e)?TG(e,r):JS(CG(nc(t)))}function _G(t){var e=Pf(tv(t)),r=["absolute","fixed"].indexOf(qo(t).position)>=0,n=r&&Js(t)?hm(t):t;return nu(n)?e.filter(function(i){return nu(i)&&VL(i,n)&&yo(i)!=="body"}):[]}function PG(t,e,r,n){var i=e==="clippingParents"?_G(t):[].concat(e),s=[].concat(i,[r]),a=s[0],o=s.reduce(function(l,c){var u=VB(t,c,n);return l.top=Wc(u.top,l.top),l.right=qy(u.right,l.right),l.bottom=qy(u.bottom,l.bottom),l.left=Wc(u.left,l.left),l},VB(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function GL(t){var e=t.reference,r=t.element,n=t.placement,i=n?fo(n):null,s=n?Fd(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case ts:l={x:a,y:e.y-r.height};break;case na:l={x:a,y:e.y+e.height};break;case ia:l={x:e.x+e.width,y:o};break;case rs:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?BC(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Dd:l[c]=l[c]-(e[u]/2-r[u]/2);break;case up:l[c]=l[c]+(e[u]/2-r[u]/2);break}}return l}function dp(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,a=s===void 0?t.strategy:s,o=r.boundary,l=o===void 0?YU:o,c=r.rootBoundary,u=c===void 0?AL:c,d=r.elementContext,h=d===void 0?Ih:d,p=r.altBoundary,f=p===void 0?!1:p,m=r.padding,g=m===void 0?0:m,y=WL(typeof g!="number"?g:HL(g,dm)),b=h===Ih?XU:Ih,v=t.rects.popper,k=t.elements[f?b:h],C=PG(nu(k)?k:k.contextElement||nc(t.elements.popper),l,u,a),S=Ld(t.elements.reference),_=GL({reference:S,element:v,strategy:"absolute",placement:i}),B=JS(Object.assign({},v,_)),D=h===Ih?B:S,E={top:C.top-D.top+y.top,bottom:D.bottom-C.bottom+y.bottom,left:C.left-D.left+y.left,right:D.right-C.right+y.right},R=t.modifiersData.offset;if(h===Ih&&R){var O=R[i];Object.keys(E).forEach(function(L){var I=[ia,na].indexOf(L)>=0?1:-1,N=[ts,na].indexOf(L)>=0?"y":"x";E[L]+=O[N]*I})}return E}function BG(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?OL:l,u=Fd(n),d=u?o?FB:FB.filter(function(f){return Fd(f)===u}):dm,h=d.filter(function(f){return c.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,m){return f[m]=dp(t,{placement:m,boundary:i,rootBoundary:s,padding:a})[fo(m)],f},{});return Object.keys(p).sort(function(f,m){return p[f]-p[m]})}function NG(t){if(fo(t)===TC)return[];var e=ny(t);return[$B(t),e,$B(e)]}function MG(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,f=p===void 0?!0:p,m=r.allowedAutoPlacements,g=e.options.placement,y=fo(g),b=y===g,v=l||(b||!f?[ny(g)]:NG(g)),k=[g].concat(v).reduce(function(te,G){return te.concat(fo(G)===TC?BG(e,{placement:G,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):G)},[]),C=e.rects.reference,S=e.rects.popper,_=new Map,B=!0,D=k[0],E=0;E<k.length;E++){var R=k[E],O=fo(R),L=Fd(R)===Dd,I=[ts,na].indexOf(O)>=0,N=I?"width":"height",F=dp(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=I?L?ia:rs:L?na:ts;C[N]>S[N]&&(A=ny(A));var M=ny(A),V=[];if(s&&V.push(F[O]<=0),o&&V.push(F[A]<=0,F[M]<=0),V.every(function(te){return te})){D=R,B=!1;break}_.set(R,V)}if(B)for(var W=f?3:1,K=function(G){var Z=k.find(function(he){var pe=_.get(he);if(pe)return pe.slice(0,G).every(function(ne){return ne})});if(Z)return D=Z,"break"},ie=W;ie>0;ie--){var se=K(ie);if(se==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}const EG={name:"flip",enabled:!0,phase:"main",fn:MG,requiresIfExists:["offset"],data:{_skip:!1}};function zB(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function WB(t){return[ts,ia,na,rs].some(function(e){return t[e]>=0})}function RG(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=dp(e,{elementContext:"reference"}),o=dp(e,{altBoundary:!0}),l=zB(a,n),c=zB(o,i,s),u=WB(l),d=WB(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const DG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RG};function IG(t,e,r){var n=fo(t),i=[rs,ts].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[rs,ia].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function LG(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=OL.reduce(function(u,d){return u[d]=IG(d,e.rects,s),u},{}),o=a[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}const FG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LG};function AG(t){var e=t.state,r=t.name;e.modifiersData[r]=GL({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const OG={name:"popperOffsets",enabled:!0,phase:"read",fn:AG,data:{}};function $G(t){return t==="x"?"y":"x"}function VG(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,h=r.tether,p=h===void 0?!0:h,f=r.tetherOffset,m=f===void 0?0:f,g=dp(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=fo(e.placement),b=Fd(e.placement),v=!b,k=BC(y),C=$G(k),S=e.modifiersData.popperOffsets,_=e.rects.reference,B=e.rects.popper,D=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,E=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(S){if(s){var L,I=k==="y"?ts:rs,N=k==="y"?na:ia,F=k==="y"?"height":"width",A=S[k],M=A+g[I],V=A-g[N],W=p?-B[F]/2:0,K=b===Dd?_[F]:B[F],ie=b===Dd?-B[F]:-_[F],se=e.elements.arrow,te=p&&se?PC(se):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zL(),Z=G[I],he=G[N],pe=_f(0,_[F],te[F]),ne=v?_[F]/2-W-pe-Z-E.mainAxis:K-pe-Z-E.mainAxis,le=v?-_[F]/2+W+pe+he+E.mainAxis:ie+pe+he+E.mainAxis,oe=e.elements.arrow&&hm(e.elements.arrow),q=oe?k==="y"?oe.clientTop||0:oe.clientLeft||0:0,X=(L=R==null?void 0:R[k])!=null?L:0,J=A+ne-X-q,Y=A+le-X,we=_f(p?qy(M,J):M,A,p?Wc(V,Y):V);S[k]=we,O[k]=we-A}if(o){var fe,$=k==="x"?ts:rs,U=k==="x"?na:ia,j=S[C],ae=C==="y"?"height":"width",Be=j+g[$],ke=j-g[U],De=[ts,rs].indexOf(y)!==-1,Je=(fe=R==null?void 0:R[C])!=null?fe:0,ht=De?Be:j-_[ae]-B[ae]-Je+E.altAxis,It=De?j+_[ae]+B[ae]-Je-E.altAxis:ke,_e=p&&De?uG(ht,j,It):_f(p?ht:Be,j,p?It:ke);S[C]=_e,O[C]=_e-j}e.modifiersData[n]=O}}const zG={name:"preventOverflow",enabled:!0,phase:"main",fn:VG,requiresIfExists:["offset"]};function WG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function HG(t){return t===Ss(t)||!Js(t)?NC(t):WG(t)}function UG(t){var e=t.getBoundingClientRect(),r=Id(e.width)/t.offsetWidth||1,n=Id(e.height)/t.offsetHeight||1;return r!==1||n!==1}function GG(t,e,r){r===void 0&&(r=!1);var n=Js(e),i=Js(e)&&UG(e),s=nc(e),a=Ld(t,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((yo(e)!=="body"||EC(s))&&(o=HG(e)),Js(e)?(l=Ld(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=MC(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function jG(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function YG(t){var e=jG(t);return iG.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function XG(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function qG(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var HB={placement:"bottom",modifiers:[],strategy:"absolute"};function UB(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function KG(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?HB:i;return function(o,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},HB,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;m(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:nu(o)?Pf(o):o.contextElement?Pf(o.contextElement):[],popper:Pf(l)};var v=YG(qG([].concat(n,u.options.modifiers)));return u.orderedModifiers=v.filter(function(k){return k.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,v=y.popper;if(UB(b,v)){u.rects={reference:GG(b,hm(v),u.options.strategy==="fixed"),popper:PC(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var C=u.orderedModifiers[k],S=C.fn,_=C.options,B=_===void 0?{}:_,D=C.name;typeof S=="function"&&(u=S({state:u,options:B,name:D,instance:p})||u)}}}},update:XG(function(){return new Promise(function(g){p.forceUpdate(),g(u)})}),destroy:function(){m(),h=!0}};if(!UB(o,l))return p;p.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function f(){u.orderedModifiers.forEach(function(g){var y=g.name,b=g.options,v=b===void 0?{}:b,k=g.effect;if(typeof k=="function"){var C=k({state:u,name:y,instance:p,options:v}),S=function(){};d.push(C||S)}})}function m(){d.forEach(function(g){return g()}),d=[]}return p}}var QG=[wG,OG,bG,oG,FG,EG,zG,pG,DG],JG=KG({defaultModifiers:QG});const jL="Popper";function ZG(t){return DL(jL,t)}MU(jL,["root"]);const ej=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],tj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function rj(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function ZS(t){return typeof t=="function"?t():t}function nj(t){return t.nodeType!==void 0}const ij=()=>He({root:["root"]},H7(ZG)),sj={},aj=w.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:a,disablePortal:o,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=me(e,ej),y=w.useRef(null),b=qt(y,r),v=w.useRef(null),k=qt(v,h),C=w.useRef(k);Gr(()=>{C.current=k},[k]),w.useImperativeHandle(h,()=>v.current,[]);const S=rj(u,a),[_,B]=w.useState(S),[D,E]=w.useState(ZS(i));w.useEffect(()=>{v.current&&v.current.forceUpdate()}),w.useEffect(()=>{i&&E(ZS(i))},[i]),Gr(()=>{if(!D||!c)return;const N=M=>{B(M.placement)};let F=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:M})=>{N(M)}}];l!=null&&(F=F.concat(l)),d&&d.modifiers!=null&&(F=F.concat(d.modifiers));const A=JG(D,y.current,T({placement:S},d,{modifiers:F}));return C.current(A),()=>{A.destroy(),C.current(null)}},[D,o,l,c,d,S]);const R={placement:_};m!==null&&(R.TransitionProps=m);const O=ij(),L=(n=f.root)!=null?n:"div",I=Mt({elementType:L,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:O.root});return x.jsx(L,T({},I,{children:typeof s=="function"?s(R):s}))}),oj=w.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=sj,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:y={}}=e,b=me(e,tj),[v,k]=w.useState(!0),C=()=>{k(!1)},S=()=>{k(!0)};if(!l&&!u&&(!m||v))return null;let _;if(s)_=s;else if(n){const E=ZS(n);_=E&&nj(E)?on(E).body:on(null).body}const B=!u&&l&&(!m||v)?"none":void 0,D=m?{in:u,onEnter:C,onExited:S}:void 0;return x.jsx(LL,{disablePortal:o,container:_,children:x.jsx(aj,T({anchorEl:n,direction:a,disablePortal:o,modifiers:c,ref:r,open:m?!v:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:y},b,{style:T({position:"fixed",top:0,left:0,display:B},f),TransitionProps:D,children:i}))})}),lj=2;function YL(t,e){return t-e}function GB(t,e){var r;const{index:n}=(r=t.reduce((i,s,a)=>{const o=Math.abs(e-s);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null))!=null?r:{};return n}function eg(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Ky(t,e,r){return(t-e)*100/(r-e)}function cj(t,e,r){return(r-e)*t+e}function uj(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function dj(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(uj(e)))}function jB({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(YL)}function tg({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const s=on(t.current);if(!((n=t.current)!=null&&n.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var a;(a=t.current)==null||a.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function rg(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?V7(t,e):!1}const hj={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},fj=t=>t;let ng;function YB(){return ng===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ng=CSS.supports("touch-action","none"):ng=!0),ng}function pj(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:o=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:h="horizontal",rootRef:p,scale:f=fj,step:m=1,shiftStep:g=10,tabIndex:y,value:b}=t,v=w.useRef(),[k,C]=w.useState(-1),[S,_]=w.useState(-1),[B,D]=w.useState(!1),E=w.useRef(0),[R,O]=xs({controlled:b,default:r??l,name:"Slider"}),L=u&&((_e,ye,Ze)=>{const kt=_e.nativeEvent||_e,Et=new kt.constructor(kt.type,kt);Object.defineProperty(Et,"target",{writable:!0,value:{value:ye,name:c}}),u(Et,ye,Ze)}),I=Array.isArray(R);let N=I?R.slice().sort(YL):[R];N=N.map(_e=>_e==null?l:_l(_e,l,o));const F=a===!0&&m!==null?[...Array(Math.floor((o-l)/m)+1)].map((_e,ye)=>({value:l+m*ye})):a||[],A=F.map(_e=>_e.value),{isFocusVisibleRef:M,onBlur:V,onFocus:W,ref:K}=hC(),[ie,se]=w.useState(-1),te=w.useRef(),G=qt(K,te),Z=qt(p,G),he=_e=>ye=>{var Ze;const kt=Number(ye.currentTarget.getAttribute("data-index"));W(ye),M.current===!0&&se(kt),_(kt),_e==null||(Ze=_e.onFocus)==null||Ze.call(_e,ye)},pe=_e=>ye=>{var Ze;V(ye),M.current===!1&&se(-1),_(-1),_e==null||(Ze=_e.onBlur)==null||Ze.call(_e,ye)},ne=(_e,ye)=>{const Ze=Number(_e.currentTarget.getAttribute("data-index")),kt=N[Ze],Et=A.indexOf(kt);let Oe=ye;if(F&&m==null){const Bt=A[A.length-1];Oe>Bt?Oe=Bt:Oe<A[0]?Oe=A[0]:Oe=Oe<kt?A[Et-1]:A[Et+1]}if(Oe=_l(Oe,l,o),I){i&&(Oe=_l(Oe,N[Ze-1]||-1/0,N[Ze+1]||1/0));const Bt=Oe;Oe=jB({values:N,newValue:Oe,index:Ze});let Le=Ze;i||(Le=Oe.indexOf(Bt)),tg({sliderRef:te,activeIndex:Le})}O(Oe),se(Ze),L&&!rg(Oe,R)&&L(_e,Oe,Ze),d&&d(_e,Oe)},le=_e=>ye=>{var Ze;if(m!==null){const kt=Number(ye.currentTarget.getAttribute("data-index")),Et=N[kt];let Oe=null;(ye.key==="ArrowLeft"||ye.key==="ArrowDown")&&ye.shiftKey||ye.key==="PageDown"?Oe=Math.max(Et-g,l):((ye.key==="ArrowRight"||ye.key==="ArrowUp")&&ye.shiftKey||ye.key==="PageUp")&&(Oe=Math.min(Et+g,o)),Oe!==null&&(ne(ye,Oe),ye.preventDefault())}_e==null||(Ze=_e.onKeyDown)==null||Ze.call(_e,ye)};Gr(()=>{if(n&&te.current.contains(document.activeElement)){var _e;(_e=document.activeElement)==null||_e.blur()}},[n]),n&&k!==-1&&C(-1),n&&ie!==-1&&se(-1);const oe=_e=>ye=>{var Ze;(Ze=_e.onChange)==null||Ze.call(_e,ye),ne(ye,ye.target.valueAsNumber)},q=w.useRef();let X=h;s&&h==="horizontal"&&(X+="-reverse");const J=({finger:_e,move:ye=!1})=>{const{current:Ze}=te,{width:kt,height:Et,bottom:Oe,left:Bt}=Ze.getBoundingClientRect();let Le;X.indexOf("vertical")===0?Le=(Oe-_e.y)/Et:Le=(_e.x-Bt)/kt,X.indexOf("-reverse")!==-1&&(Le=1-Le);let $e;if($e=cj(Le,l,o),m)$e=dj($e,m,l);else{const ot=GB(A,$e);$e=A[ot]}$e=_l($e,l,o);let _t=0;if(I){ye?_t=q.current:_t=GB(N,$e),i&&($e=_l($e,N[_t-1]||-1/0,N[_t+1]||1/0));const ot=$e;$e=jB({values:N,newValue:$e,index:_t}),i&&ye||(_t=$e.indexOf(ot),q.current=_t)}return{newValue:$e,activeIndex:_t}},Y=Ke(_e=>{const ye=eg(_e,v);if(!ye)return;if(E.current+=1,_e.type==="mousemove"&&_e.buttons===0){we(_e);return}const{newValue:Ze,activeIndex:kt}=J({finger:ye,move:!0});tg({sliderRef:te,activeIndex:kt,setActive:C}),O(Ze),!B&&E.current>lj&&D(!0),L&&!rg(Ze,R)&&L(_e,Ze,kt)}),we=Ke(_e=>{const ye=eg(_e,v);if(D(!1),!ye)return;const{newValue:Ze}=J({finger:ye,move:!0});C(-1),_e.type==="touchend"&&_(-1),d&&d(_e,Ze),v.current=void 0,$()}),fe=Ke(_e=>{if(n)return;YB()||_e.preventDefault();const ye=_e.changedTouches[0];ye!=null&&(v.current=ye.identifier);const Ze=eg(_e,v);if(Ze!==!1){const{newValue:Et,activeIndex:Oe}=J({finger:Ze});tg({sliderRef:te,activeIndex:Oe,setActive:C}),O(Et),L&&!rg(Et,R)&&L(_e,Et,Oe)}E.current=0;const kt=on(te.current);kt.addEventListener("touchmove",Y,{passive:!0}),kt.addEventListener("touchend",we,{passive:!0})}),$=w.useCallback(()=>{const _e=on(te.current);_e.removeEventListener("mousemove",Y),_e.removeEventListener("mouseup",we),_e.removeEventListener("touchmove",Y),_e.removeEventListener("touchend",we)},[we,Y]);w.useEffect(()=>{const{current:_e}=te;return _e.addEventListener("touchstart",fe,{passive:YB()}),()=>{_e.removeEventListener("touchstart",fe),$()}},[$,fe]),w.useEffect(()=>{n&&$()},[n,$]);const U=_e=>ye=>{var Ze;if((Ze=_e.onMouseDown)==null||Ze.call(_e,ye),n||ye.defaultPrevented||ye.button!==0)return;ye.preventDefault();const kt=eg(ye,v);if(kt!==!1){const{newValue:Oe,activeIndex:Bt}=J({finger:kt});tg({sliderRef:te,activeIndex:Bt,setActive:C}),O(Oe),L&&!rg(Oe,R)&&L(ye,Oe,Bt)}E.current=0;const Et=on(te.current);Et.addEventListener("mousemove",Y,{passive:!0}),Et.addEventListener("mouseup",we)},j=Ky(I?N[0]:l,l,o),ae=Ky(N[N.length-1],l,o)-j,Be=(_e={})=>{const ye=Cf(_e),Ze={onMouseDown:U(ye||{})},kt=T({},ye,Ze);return T({},_e,{ref:Z},kt)},ke=_e=>ye=>{var Ze;(Ze=_e.onMouseOver)==null||Ze.call(_e,ye);const kt=Number(ye.currentTarget.getAttribute("data-index"));_(kt)},De=_e=>ye=>{var Ze;(Ze=_e.onMouseLeave)==null||Ze.call(_e,ye),_(-1)};return{active:k,axis:X,axisProps:hj,dragging:B,focusedThumbIndex:ie,getHiddenInputProps:(_e={})=>{var ye;const Ze=Cf(_e),kt={onChange:oe(Ze||{}),onFocus:he(Ze||{}),onBlur:pe(Ze||{}),onKeyDown:le(Ze||{})},Et=T({},Ze,kt);return T({tabIndex:y,"aria-labelledby":e,"aria-orientation":h,"aria-valuemax":f(o),"aria-valuemin":f(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ye=t.step)!=null?ye:void 0,disabled:n},_e,Et,{style:T({},fC,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Be,getThumbProps:(_e={})=>{const ye=Cf(_e),Ze={onMouseOver:ke(ye||{}),onMouseLeave:De(ye||{})};return T({},_e,ye,Ze)},marks:F,open:S,range:I,rootRef:Z,trackLeap:ae,trackOffset:j,values:N,getThumbStyle:_e=>({pointerEvents:k!==-1&&k!==_e?"none":void 0})}}const mj=["onChange","maxRows","minRows","style","value"];function ig(t){return parseInt(t,10)||0}const gj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function yj(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const bj=w.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:s=1,style:a,value:o}=e,l=me(e,mj),{current:c}=w.useRef(o!=null),u=w.useRef(null),d=qt(r,u),h=w.useRef(null),p=w.useCallback(()=>{const g=u.current,b=Va(g).getComputedStyle(g);if(b.width==="0px")return{outerHeightStyle:0,overflowing:!1};const v=h.current;v.style.width=b.width,v.value=g.value||e.placeholder||"x",v.value.slice(-1)===`
`&&(v.value+=" ");const k=b.boxSizing,C=ig(b.paddingBottom)+ig(b.paddingTop),S=ig(b.borderBottomWidth)+ig(b.borderTopWidth),_=v.scrollHeight;v.value="x";const B=v.scrollHeight;let D=_;s&&(D=Math.max(Number(s)*B,D)),i&&(D=Math.min(Number(i)*B,D)),D=Math.max(D,B);const E=D+(k==="border-box"?C+S:0),R=Math.abs(D-_)<=1;return{outerHeightStyle:E,overflowing:R}},[i,s,e.placeholder]),f=w.useCallback(()=>{const g=p();if(yj(g))return;const y=u.current;y.style.height=`${g.outerHeightStyle}px`,y.style.overflow=g.overflowing?"hidden":""},[p]);Gr(()=>{const g=()=>{f()};let y;const b=om(g),v=u.current,k=Va(v);k.addEventListener("resize",b);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(g),C.observe(v)),()=>{b.clear(),cancelAnimationFrame(y),k.removeEventListener("resize",b),C&&C.disconnect()}},[p,f]),Gr(()=>{f()});const m=g=>{c||f(),n&&n(g)};return x.jsxs(w.Fragment,{children:[x.jsx("textarea",T({value:o,onChange:m,ref:d,rows:s,style:a},l)),x.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:T({},gj.shadow,a,{paddingTop:0,paddingBottom:0})})]})});var RC={};Object.defineProperty(RC,"__esModule",{value:!0});var XL=RC.default=void 0,vj=xj(w),wj=PL;function qL(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(qL=function(n){return n?r:e})(t)}function xj(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=qL(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function Sj(t){return Object.keys(t).length===0}function kj(t=null){const e=vj.useContext(wj.ThemeContext);return!e||Sj(e)?t:e}XL=RC.default=kj;const Cj=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Tj=Q(oj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_j=w.forwardRef(function(e,r){var n;const i=XL(),s=Fe({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:y,transition:b,slots:v,slotProps:k}=s,C=me(s,Cj),S=(n=v==null?void 0:v.root)!=null?n:l==null?void 0:l.Root,_=T({anchorEl:a,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:y,transition:b},C);return x.jsx(Tj,T({as:o,direction:i==null?void 0:i.direction,slots:{root:S},slotProps:k??c},_,{ref:r}))}),KL=_j,Pj=br(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Bj(t){return Ge("MuiChip",t)}const Nj=je("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ur=Nj,Mj=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ej=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:s,onDelete:a,clickable:o,variant:l}=t,c={root:["root",l,r&&"disabled",`size${Ee(n)}`,`color${Ee(i)}`,o&&"clickable",o&&`clickableColor${Ee(i)}`,a&&"deletable",a&&`deletableColor${Ee(i)}`,`${l}${Ee(i)}`],label:["label",`label${Ee(n)}`],avatar:["avatar",`avatar${Ee(n)}`,`avatarColor${Ee(i)}`],icon:["icon",`icon${Ee(n)}`,`iconColor${Ee(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Ee(n)}`,`deleteIconColor${Ee(i)}`,`deleteIcon${Ee(l)}Color${Ee(i)}`]};return He(c,Bj,e)},Rj=Q("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:s,onDelete:a,size:o,variant:l}=r;return[{[`& .${ur.avatar}`]:e.avatar},{[`& .${ur.avatar}`]:e[`avatar${Ee(o)}`]},{[`& .${ur.avatar}`]:e[`avatarColor${Ee(n)}`]},{[`& .${ur.icon}`]:e.icon},{[`& .${ur.icon}`]:e[`icon${Ee(o)}`]},{[`& .${ur.icon}`]:e[`iconColor${Ee(i)}`]},{[`& .${ur.deleteIcon}`]:e.deleteIcon},{[`& .${ur.deleteIcon}`]:e[`deleteIcon${Ee(o)}`]},{[`& .${ur.deleteIcon}`]:e[`deleteIconColor${Ee(n)}`]},{[`& .${ur.deleteIcon}`]:e[`deleteIcon${Ee(l)}Color${Ee(n)}`]},e.root,e[`size${Ee(o)}`],e[`color${Ee(n)}`],s&&e.clickable,s&&n!=="default"&&e[`clickableColor${Ee(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${Ee(n)}`],e[l],e[`${l}${Ee(n)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return T({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ur.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ur.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${ur.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ur.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ur.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ur.icon}`]:T({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&T({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},e.color!=="default"&&{color:"inherit"})),[`& .${ur.deleteIcon}`]:T({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ir(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ir(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:ir(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ur.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ir(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ur.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>T({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ir(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ur.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ir(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ur.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>T({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ur.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ur.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ur.avatar}`]:{marginLeft:4},[`& .${ur.avatarSmall}`]:{marginLeft:2},[`& .${ur.icon}`]:{marginLeft:4},[`& .${ur.iconSmall}`]:{marginLeft:2},[`& .${ur.deleteIcon}`]:{marginRight:5},[`& .${ur.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ir(t.palette[e.color].main,.7)}`,[`&.${ur.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ur.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ir(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ur.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ir(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),Dj=Q("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${Ee(n)}`]]}})(({ownerState:t})=>T({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function XB(t){return t.key==="Backspace"||t.key==="Delete"}const Ij=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:o="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:y="medium",variant:b="filled",tabIndex:v,skipFocusWhenDisabled:k=!1}=n,C=me(n,Mj),S=w.useRef(null),_=qt(S,r),B=V=>{V.stopPropagation(),f&&f(V)},D=V=>{V.currentTarget===V.target&&XB(V)&&V.preventDefault(),m&&m(V)},E=V=>{V.currentTarget===V.target&&(f&&XB(V)?f(V):V.key==="Escape"&&S.current&&S.current.blur()),g&&g(V)},R=a!==!1&&p?!0:a,O=R||f?ra:l||"div",L=T({},n,{component:O,disabled:u,size:y,color:o,iconColor:w.isValidElement(d)&&d.props.color||o,onDelete:!!f,clickable:R,variant:b}),I=Ej(L),N=O===ra?T({component:l||"div",focusVisibleClassName:I.focusVisible},f&&{disableRipple:!0}):{};let F=null;f&&(F=c&&w.isValidElement(c)?w.cloneElement(c,{className:Se(c.props.className,I.deleteIcon),onClick:B}):x.jsx(Pj,{className:Se(I.deleteIcon),onClick:B}));let A=null;i&&w.isValidElement(i)&&(A=w.cloneElement(i,{className:Se(I.avatar,i.props.className)}));let M=null;return d&&w.isValidElement(d)&&(M=w.cloneElement(d,{className:Se(I.icon,d.props.className)})),x.jsxs(Rj,T({as:O,className:Se(I.root,s),disabled:R&&u?!0:void 0,onClick:p,onKeyDown:D,onKeyUp:E,ref:_,tabIndex:k&&u?-1:v,ownerState:L},N,C,{children:[A||M,x.jsx(Dj,{className:Se(I.label),ownerState:L,children:h}),F]}))}),Lj=Ij;function ic({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const Fj=w.createContext(void 0),rv=Fj;function ss(){return w.useContext(rv)}function Aj(t){return x.jsx(m8,T({},t,{defaultTheme:Wb,themeId:rm}))}function qB(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Qy(t,e=!1){return t&&(qB(t.value)&&t.value!==""||e&&qB(t.defaultValue)&&t.defaultValue!=="")}function Oj(t){return t.startAdornment}function $j(t){return Ge("MuiInputBase",t)}const Vj=je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ad=Vj,zj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],nv=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Ee(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},iv=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},Wj=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=t,m={root:["root",`color${Ee(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",h&&h!=="medium"&&`size${Ee(h)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",f==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return He(m,$j,e)},sv=Q("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nv})(({theme:t,ownerState:e})=>T({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ad.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&T({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),av=Q("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iv})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=T({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return T({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ad.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ad.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Hj=x.jsx(Aj,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Uj=w.forwardRef(function(e,r){var n;const i=Fe({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:y="input",inputProps:b={},inputRef:v,maxRows:k,minRows:C,multiline:S=!1,name:_,onBlur:B,onChange:D,onClick:E,onFocus:R,onKeyDown:O,onKeyUp:L,placeholder:I,readOnly:N,renderSuffix:F,rows:A,slotProps:M={},slots:V={},startAdornment:W,type:K="text",value:ie}=i,se=me(i,zj),te=b.value!=null?b.value:ie,{current:G}=w.useRef(te!=null),Z=w.useRef(),he=w.useCallback(_e=>{},[]),pe=qt(Z,v,b.ref,he),[ne,le]=w.useState(!1),oe=ss(),q=ic({props:i,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=oe?oe.focused:ne,w.useEffect(()=>{!oe&&h&&ne&&(le(!1),B&&B())},[oe,h,ne,B]);const X=oe&&oe.onFilled,J=oe&&oe.onEmpty,Y=w.useCallback(_e=>{Qy(_e)?X&&X():J&&J()},[X,J]);Gr(()=>{G&&Y({value:te})},[te,Y,G]);const we=_e=>{if(q.disabled){_e.stopPropagation();return}R&&R(_e),b.onFocus&&b.onFocus(_e),oe&&oe.onFocus?oe.onFocus(_e):le(!0)},fe=_e=>{B&&B(_e),b.onBlur&&b.onBlur(_e),oe&&oe.onBlur?oe.onBlur(_e):le(!1)},$=(_e,...ye)=>{if(!G){const Ze=_e.target||Z.current;if(Ze==null)throw new Error(Xo(1));Y({value:Ze.value})}b.onChange&&b.onChange(_e,...ye),D&&D(_e,...ye)};w.useEffect(()=>{Y(Z.current)},[]);const U=_e=>{Z.current&&_e.currentTarget===_e.target&&Z.current.focus(),E&&E(_e)};let j=y,ae=b;S&&j==="input"&&(A?ae=T({type:void 0,minRows:A,maxRows:A},ae):ae=T({type:void 0,maxRows:k,minRows:C},ae),j=bj);const Be=_e=>{Y(_e.animationName==="mui-auto-fill-cancel"?Z.current:{value:"x"})};w.useEffect(()=>{oe&&oe.setAdornedStart(!!W)},[oe,W]);const ke=T({},i,{color:q.color||"primary",disabled:q.disabled,endAdornment:f,error:q.error,focused:q.focused,formControl:oe,fullWidth:m,hiddenLabel:q.hiddenLabel,multiline:S,size:q.size,startAdornment:W,type:K}),De=Wj(ke),Je=V.root||c.Root||sv,ht=M.root||u.root||{},It=V.input||c.Input||av;return ae=T({},ae,(n=M.input)!=null?n:u.input),x.jsxs(w.Fragment,{children:[!p&&Hj,x.jsxs(Je,T({},ht,!ho(Je)&&{ownerState:T({},ke,ht.ownerState)},{ref:r,onClick:U},se,{className:Se(De.root,ht.className,l,N&&"MuiInputBase-readOnly"),children:[W,x.jsx(rv.Provider,{value:null,children:x.jsx(It,T({ownerState:ke,"aria-invalid":q.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:d,disabled:q.disabled,id:g,onAnimationStart:Be,name:_,placeholder:I,readOnly:N,required:q.required,rows:A,value:te,onKeyDown:O,onKeyUp:L,type:K},ae,!ho(It)&&{as:j,ownerState:T({},ke,ae.ownerState)},{ref:pe,className:Se(De.input,ae.className,N&&"MuiInputBase-readOnly"),onBlur:fe,onChange:$,onFocus:we}))}),f,F?F(T({},q,{startAdornment:W})):null]}))]})}),DC=Uj;function Gj(t){return Ge("MuiInput",t)}const jj=T({},Ad,je("MuiInput",["root","underline","input"])),Lh=jj;function Yj(t){return Ge("MuiOutlinedInput",t)}const Xj=T({},Ad,je("MuiOutlinedInput",["root","notchedOutline","input"])),hl=Xj;function qj(t){return Ge("MuiFilledInput",t)}const Kj=T({},Ad,je("MuiFilledInput",["root","underline","input"])),cc=Kj,Qj=br(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Jj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Zj={entering:{opacity:1},entered:{opacity:1}},e9=w.forwardRef(function(e,r){const n=Ns(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:y=i,TransitionComponent:b=Zb}=e,v=me(e,Jj),k=w.useRef(null),C=qt(k,o.ref,r),S=I=>N=>{if(I){const F=k.current;N===void 0?I(F):I(F,N)}},_=S(h),B=S((I,N)=>{CC(I);const F=Rd({style:g,timeout:y,easing:l},{mode:"enter"});I.style.webkitTransition=n.transitions.create("opacity",F),I.style.transition=n.transitions.create("opacity",F),u&&u(I,N)}),D=S(d),E=S(m),R=S(I=>{const N=Rd({style:g,timeout:y,easing:l},{mode:"exit"});I.style.webkitTransition=n.transitions.create("opacity",N),I.style.transition=n.transitions.create("opacity",N),p&&p(I)}),O=S(f),L=I=>{s&&s(k.current,I)};return x.jsx(b,T({appear:a,in:c,nodeRef:k,onEnter:B,onEntered:D,onEntering:_,onExit:R,onExited:O,onExiting:E,addEndListener:L,timeout:y},v,{children:(I,N)=>w.cloneElement(o,T({style:T({opacity:0,visibility:I==="exited"&&!c?"hidden":void 0},Zj[I],g,o.props.style),ref:C},N))}))}),ch=e9;function t9(t){return Ge("MuiBackdrop",t)}je("MuiBackdrop",["root","invisible"]);const r9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],n9=t=>{const{classes:e,invisible:r}=t;return He({root:["root",r&&"invisible"]},t9,e)},i9=Q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>T({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),s9=w.forwardRef(function(e,r){var n,i,s;const a=Fe({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:m={},TransitionComponent:g=ch,transitionDuration:y}=a,b=me(a,r9),v=T({},a,{component:c,invisible:h}),k=n9(v),C=(n=f.root)!=null?n:d.root;return x.jsx(g,T({in:p,timeout:y},b,{children:x.jsx(i9,T({"aria-hidden":!0},C,{as:(i=(s=m.root)!=null?s:u.Root)!=null?i:c,className:Se(k.root,l,C==null?void 0:C.className),ownerState:T({},v,C==null?void 0:C.ownerState),classes:k,ref:r,children:o}))}))}),QL=s9,a9=je("MuiBox",["root"]),o9=a9,l9=_L(),c9=S8({themeId:rm,defaultTheme:l9,defaultClassName:o9.root,generateClassName:iL.generate}),u9=c9;function d9(t){return Ge("MuiButton",t)}const h9=je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),sg=h9,f9=w.createContext({}),p9=f9,m9=w.createContext(void 0),g9=m9,y9=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],b9=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:s,classes:a}=t,o={root:["root",s,`${s}${Ee(e)}`,`size${Ee(i)}`,`${s}Size${Ee(i)}`,`color${Ee(e)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ee(i)}`],endIcon:["icon","endIcon",`iconSize${Ee(i)}`]},l=He(o,d9,a);return T({},a,l)},JL=t=>T({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),v9=Q(ra,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Ee(r.color)}`],e[`size${Ee(r.size)}`],e[`${r.variant}Size${Ee(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return T({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":T({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${sg.focusVisible}`]:T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${sg.disabled}`]:T({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ir(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sg.disabled}`]:{boxShadow:"none"}}),w9=Q("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${Ee(r.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},JL(t))),x9=Q("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${Ee(r.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},JL(t))),S9=w.forwardRef(function(e,r){const n=w.useContext(p9),i=w.useContext(g9),s=uC(n,e),a=Fe({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:y="medium",startIcon:b,type:v,variant:k="text"}=a,C=me(a,y9),S=T({},a,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:y,type:v,variant:k}),_=b9(S),B=b&&x.jsx(w9,{className:_.startIcon,ownerState:S,children:b}),D=f&&x.jsx(x9,{className:_.endIcon,ownerState:S,children:f}),E=i||"";return x.jsxs(v9,T({ownerState:S,className:Se(n.className,_.root,u,E),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:Se(_.focusVisible,m),ref:r,type:v},C,{classes:_,children:[B,o,D]}))}),Ri=S9;function k9(t){return Ge("MuiCard",t)}je("MuiCard",["root"]);const C9=["className","raised"],T9=t=>{const{classes:e}=t;return He({root:["root"]},k9,e)},_9=Q(mu,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),P9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,a=me(n,C9),o=T({},n,{raised:s}),l=T9(o);return x.jsx(_9,T({className:Se(l.root,i),elevation:s?8:void 0,ref:r,ownerState:o},a))}),B9=P9;function N9(t){return Ge("MuiCardContent",t)}je("MuiCardContent",["root"]);const M9=["className","component"],E9=t=>{const{classes:e}=t;return He({root:["root"]},N9,e)},R9=Q("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),D9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,a=me(n,M9),o=T({},n,{component:s}),l=E9(o);return x.jsx(R9,T({as:s,className:Se(l.root,i),ownerState:o,ref:r},a))}),hp=D9;function I9(t){return Ge("MuiCardHeader",t)}const L9=je("MuiCardHeader",["root","avatar","action","content","title","subheader"]),KB=L9,F9=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],A9=t=>{const{classes:e}=t;return He({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},I9,e)},O9=Q("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>T({[`& .${KB.title}`]:e.title,[`& .${KB.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),$9=Q("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),V9=Q("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),z9=Q("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),W9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:a,component:o="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:h}=n,p=me(n,F9),f=T({},n,{component:o,disableTypography:l}),m=A9(f);let g=d;g!=null&&g.type!==cr&&!l&&(g=x.jsx(cr,T({variant:s?"body2":"h5",className:m.title,component:"span",display:"block"},h,{children:g})));let y=c;return y!=null&&y.type!==cr&&!l&&(y=x.jsx(cr,T({variant:s?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:y}))),x.jsxs(O9,T({className:Se(m.root,a),as:o,ref:r,ownerState:f},p,{children:[s&&x.jsx($9,{className:m.avatar,ownerState:f,children:s}),x.jsxs(z9,{className:m.content,ownerState:f,children:[g,y]}),i&&x.jsx(V9,{className:m.action,ownerState:f,children:i})]}))}),H9=W9;function U9(t){return Ge("PrivateSwitchBase",t)}je("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const G9=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],j9=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${Ee(i)}`],input:["input"]};return He(s,U9,e)},Y9=Q(ra)(({ownerState:t})=>T({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),X9=Q("input",{shouldForwardProp:ii})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),q9=w.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:s,className:a,defaultChecked:o,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:p,inputRef:f,name:m,onBlur:g,onChange:y,onFocus:b,readOnly:v,required:k=!1,tabIndex:C,type:S,value:_}=e,B=me(e,G9),[D,E]=xs({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),R=ss(),O=V=>{b&&b(V),R&&R.onFocus&&R.onFocus(V)},L=V=>{g&&g(V),R&&R.onBlur&&R.onBlur(V)},I=V=>{if(V.nativeEvent.defaultPrevented)return;const W=V.target.checked;E(W),y&&y(V,W)};let N=l;R&&typeof N>"u"&&(N=R.disabled);const F=S==="checkbox"||S==="radio",A=T({},e,{checked:D,disabled:N,disableFocusRipple:c,edge:u}),M=j9(A);return x.jsxs(Y9,T({component:"span",className:Se(M.root,a),centerRipple:!0,focusRipple:!c,disabled:N,tabIndex:null,role:void 0,onFocus:O,onBlur:L,ownerState:A,ref:r},B,{children:[x.jsx(X9,T({autoFocus:n,checked:i,defaultChecked:o,className:M.input,disabled:N,id:F?h:void 0,name:m,onChange:I,readOnly:v,ref:f,required:k,ownerState:A,tabIndex:C,type:S},S==="checkbox"&&_===void 0?{}:{value:_},p)),D?s:d]}))}),ZL=q9;function K9(t){return Ge("MuiCircularProgress",t)}je("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Q9=["className","color","disableShrink","size","style","thickness","value","variant"];let ov=t=>t,QB,JB,ZB,eN;const fl=44,J9=sh(QB||(QB=ov`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Z9=sh(JB||(JB=ov`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),eY=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,s={root:["root",r,`color${Ee(n)}`],svg:["svg"],circle:["circle",`circle${Ee(r)}`,i&&"circleDisableShrink"]};return He(s,K9,e)},tY=Q("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Ee(r.color)}`]]}})(({ownerState:t,theme:e})=>T({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&wb(ZB||(ZB=ov`
      animation: ${0} 1.4s linear infinite;
    `),J9)),rY=Q("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),nY=Q("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Ee(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>T({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&wb(eN||(eN=ov`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Z9)),iY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=n,h=me(n,Q9),p=T({},n,{color:s,disableShrink:a,size:o,thickness:c,value:u,variant:d}),f=eY(p),m={},g={},y={};if(d==="determinate"){const b=2*Math.PI*((fl-c)/2);m.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,g.transform="rotate(-90deg)"}return x.jsx(tY,T({className:Se(f.root,i),style:T({width:o,height:o},g,l),ownerState:p,ref:r,role:"progressbar"},y,h,{children:x.jsx(rY,{className:f.svg,ownerState:p,viewBox:`${fl/2} ${fl/2} ${fl} ${fl}`,children:x.jsx(nY,{className:f.circle,style:m,ownerState:p,cx:fl,cy:fl,r:(fl-c)/2,fill:"none",strokeWidth:c})})}))}),sY=iY;function aY(t){return Ge("MuiModal",t)}je("MuiModal",["root","hidden","backdrop"]);const oY=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lY=t=>{const{open:e,exited:r,classes:n}=t;return He({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},aY,n)},cY=Q("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>T({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),uY=Q(QL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),dY=w.forwardRef(function(e,r){var n,i,s,a,o,l;const c=Fe({name:"MuiModal",props:e}),{BackdropComponent:u=uY,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:y={},componentsProps:b={},disableAutoFocus:v=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:C=!1,disablePortal:S=!1,disableRestoreFocus:_=!1,disableScrollLock:B=!1,hideBackdrop:D=!1,keepMounted:E=!1,onBackdropClick:R,open:O,slotProps:L,slots:I}=c,N=me(c,oY),F=T({},c,{closeAfterTransition:p,disableAutoFocus:v,disableEnforceFocus:k,disableEscapeKeyDown:C,disablePortal:S,disableRestoreFocus:_,disableScrollLock:B,hideBackdrop:D,keepMounted:E}),{getRootProps:A,getBackdropProps:M,getTransitionProps:V,portalRef:W,isTopModal:K,exited:ie,hasTransition:se}=jU(T({},F,{rootRef:r})),te=T({},F,{exited:ie}),G=lY(te),Z={};if(f.props.tabIndex===void 0&&(Z.tabIndex="-1"),se){const{onEnter:X,onExited:J}=V();Z.onEnter=X,Z.onExited=J}const he=(n=(i=I==null?void 0:I.root)!=null?i:y.Root)!=null?n:cY,pe=(s=(a=I==null?void 0:I.backdrop)!=null?a:y.Backdrop)!=null?s:u,ne=(o=L==null?void 0:L.root)!=null?o:b.root,le=(l=L==null?void 0:L.backdrop)!=null?l:b.backdrop,oe=Mt({elementType:he,externalSlotProps:ne,externalForwardedProps:N,getSlotProps:A,additionalProps:{ref:r,as:g},ownerState:te,className:Se(h,ne==null?void 0:ne.className,G==null?void 0:G.root,!te.open&&te.exited&&(G==null?void 0:G.hidden))}),q=Mt({elementType:pe,externalSlotProps:le,additionalProps:d,getSlotProps:X=>M(T({},X,{onClick:J=>{R&&R(J),X!=null&&X.onClick&&X.onClick(J)}})),className:Se(le==null?void 0:le.className,d==null?void 0:d.className,G==null?void 0:G.backdrop),ownerState:te});return!E&&!O&&(!se||ie)?null:x.jsx(LL,{ref:W,container:m,disablePortal:S,children:x.jsxs(he,T({},oe,{children:[!D&&u?x.jsx(pe,T({},q)):null,x.jsx(IL,{disableEnforceFocus:k,disableAutoFocus:v,disableRestoreFocus:_,isEnabled:K,open:O,children:w.cloneElement(f,Z)})]}))})}),IC=dY;function hY(t){return Ge("MuiDialog",t)}const fY=je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Bf=fY,pY=w.createContext({}),eF=pY,mY=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],gY=Q(QL,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),yY=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${Ee(r)}`],paper:["paper",`paperScroll${Ee(r)}`,`paperWidth${Ee(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return He(a,hY,e)},bY=Q(IC,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),vY=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${Ee(r.scroll)}`]]}})(({ownerState:t})=>T({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),wY=Q(mu,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${Ee(r.scroll)}`],e[`paperWidth${Ee(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>T({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Bf.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Bf.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Bf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),xY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialog"}),i=Ns(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClose:y,open:b,PaperComponent:v=mu,PaperProps:k={},scroll:C="paper",TransitionComponent:S=ch,transitionDuration:_=s,TransitionProps:B}=n,D=me(n,mY),E=T({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:C}),R=yY(E),O=w.useRef(),L=A=>{O.current=A.target===A.currentTarget},I=A=>{O.current&&(O.current=null,g&&g(A),y&&y(A,"backdropClick"))},N=ca(o),F=w.useMemo(()=>({titleId:N}),[N]);return x.jsx(bY,T({className:Se(R.root,d),closeAfterTransition:!0,components:{Backdrop:gY},componentsProps:{backdrop:T({transitionDuration:_,as:l},c)},disableEscapeKeyDown:h,onClose:y,open:b,ref:r,onClick:I,ownerState:E},D,{children:x.jsx(S,T({appear:!0,in:b,timeout:_,role:"presentation"},B,{children:x.jsx(vY,{className:Se(R.container),onMouseDown:L,ownerState:E,children:x.jsx(wY,T({as:v,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":N},k,{className:Se(R.paper,k.className),ownerState:E,children:x.jsx(eF.Provider,{value:F,children:u})}))})}))}))}),fm=xY;function SY(t){return Ge("MuiDialogActions",t)}je("MuiDialogActions",["root","spacing"]);const kY=["className","disableSpacing"],CY=t=>{const{classes:e,disableSpacing:r}=t;return He({root:["root",!r&&"spacing"]},SY,e)},TY=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>T({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),_Y=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=n,a=me(n,kY),o=T({},n,{disableSpacing:s}),l=CY(o);return x.jsx(TY,T({className:Se(l.root,i),ownerState:o,ref:r},a))}),tF=_Y;function PY(t){return Ge("MuiDialogContent",t)}je("MuiDialogContent",["root","dividers"]);function BY(t){return Ge("MuiDialogTitle",t)}const NY=je("MuiDialogTitle",["root"]),MY=NY,EY=["className","dividers"],RY=t=>{const{classes:e,dividers:r}=t;return He({root:["root",r&&"dividers"]},PY,e)},DY=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>T({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${MY.root} + &`]:{paddingTop:0}})),IY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=n,a=me(n,EY),o=T({},n,{dividers:s}),l=RY(o);return x.jsx(DY,T({className:Se(l.root,i),ownerState:o,ref:r},a))}),rF=IY,LY=["className","id"],FY=t=>{const{classes:e}=t;return He({root:["root"]},BY,e)},AY=Q(cr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),OY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=n,a=me(n,LY),o=n,l=FY(o),{titleId:c=s}=w.useContext(eF);return x.jsx(AY,T({component:"h2",className:Se(l.root,i),ownerState:o,ref:r,variant:"h6",id:s??c},a))}),nF=OY;function $Y(t){return Ge("MuiDivider",t)}const VY=je("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),tN=VY,zY=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],WY=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=t;return He({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},$Y,n)},HY=Q("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>T({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ir(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>T({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>T({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>T({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>T({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),UY=Q("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>T({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),iF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,component:o=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=o!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=n,f=me(n,zY),m=T({},n,{absolute:i,component:o,flexItem:l,light:c,orientation:u,role:d,textAlign:h,variant:p}),g=WY(m);return x.jsx(HY,T({as:o,className:Se(g.root,a),role:d,ref:r,ownerState:m},f,{children:s?x.jsx(UY,{className:g.wrapper,ownerState:m,children:s}):null}))});iF.muiSkipListHighlight=!0;const rN=iF,GY=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function jY(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=Va(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const c=s.getComputedStyle(e);a=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const c=a.split("(")[1].split(")")[0].split(",");o=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+o-n.left}px)`:`translateX(${s.innerWidth+o-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:t==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function YY(t){return typeof t=="function"?t():t}function ag(t,e,r){const n=YY(r),i=jY(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const XY=w.forwardRef(function(e,r){const n=Ns(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:f,onEntering:m,onExit:g,onExited:y,onExiting:b,style:v,timeout:k=s,TransitionComponent:C=Zb}=e,S=me(e,GY),_=w.useRef(null),B=qt(l.ref,_,r),D=M=>V=>{M&&(V===void 0?M(_.current):M(_.current,V))},E=D((M,V)=>{ag(u,M,c),CC(M),p&&p(M,V)}),R=D((M,V)=>{const W=Rd({timeout:k,style:v,easing:d},{mode:"enter"});M.style.webkitTransition=n.transitions.create("-webkit-transform",T({},W)),M.style.transition=n.transitions.create("transform",T({},W)),M.style.webkitTransform="none",M.style.transform="none",m&&m(M,V)}),O=D(f),L=D(b),I=D(M=>{const V=Rd({timeout:k,style:v,easing:d},{mode:"exit"});M.style.webkitTransition=n.transitions.create("-webkit-transform",V),M.style.transition=n.transitions.create("transform",V),ag(u,M,c),g&&g(M)}),N=D(M=>{M.style.webkitTransition="",M.style.transition="",y&&y(M)}),F=M=>{a&&a(_.current,M)},A=w.useCallback(()=>{_.current&&ag(u,_.current,c)},[u,c]);return w.useEffect(()=>{if(h||u==="down"||u==="right")return;const M=om(()=>{_.current&&ag(u,_.current,c)}),V=Va(_.current);return V.addEventListener("resize",M),()=>{M.clear(),V.removeEventListener("resize",M)}},[u,h,c]),w.useEffect(()=>{h||A()},[h,A]),x.jsx(C,T({nodeRef:_,onEnter:E,onEntered:O,onEntering:R,onExit:I,onExited:N,onExiting:L,addEndListener:F,appear:o,in:h,timeout:k},S,{children:(M,V)=>w.cloneElement(l,T({ref:B,style:T({visibility:M==="exited"&&!h?"hidden":void 0},v,l.props.style)},V))}))}),qY=XY;function KY(t){return Ge("MuiDrawer",t)}je("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const QY=["BackdropProps"],JY=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],sF=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},ZY=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ee(r)}`,n!=="temporary"&&`paperAnchorDocked${Ee(r)}`]};return He(i,KY,e)},eX=Q(IC,{name:"MuiDrawer",slot:"Root",overridesResolver:sF})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),nN=Q("div",{shouldForwardProp:ii,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:sF})({flex:"0 0 auto"}),tX=Q(mu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Ee(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Ee(r.anchor)}`]]}})(({theme:t,ownerState:e})=>T({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),aF={left:"right",right:"left",top:"down",bottom:"up"};function rX(t){return["left","right"].indexOf(t)!==-1}function nX({direction:t},e){return t==="rtl"&&rX(e)?aF[e]:e}const iX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDrawer"}),i=Ns(),s=qn(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:f,open:m=!1,PaperProps:g={},SlideProps:y,TransitionComponent:b=qY,transitionDuration:v=a,variant:k="temporary"}=n,C=me(n.ModalProps,QY),S=me(n,JY),_=w.useRef(!1);w.useEffect(()=>{_.current=!0},[]);const B=nX({direction:s?"rtl":"ltr"},o),E=T({},n,{anchor:o,elevation:d,open:m,variant:k},S),R=ZY(E),O=x.jsx(tX,T({elevation:k==="temporary"?d:0,square:!0},g,{className:Se(R.paper,g.className),ownerState:E,children:c}));if(k==="permanent")return x.jsx(nN,T({className:Se(R.root,R.docked,u),ownerState:E,ref:r},S,{children:O}));const L=x.jsx(b,T({in:m,direction:aF[B],timeout:v,appear:_.current},y,{children:O}));return k==="persistent"?x.jsx(nN,T({className:Se(R.root,R.docked,u),ownerState:E,ref:r},S,{children:L})):x.jsx(eX,T({BackdropProps:T({},l,p,{transitionDuration:v}),className:Se(R.root,R.modal,u),open:m,ownerState:E,onClose:f,hideBackdrop:h,ref:r},S,C,{children:L}))}),sX=iX;function aX(t){return Ge("MuiFab",t)}const oX=je("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),iN=oX,lX=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],cX=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${Ee(i)}`,e==="inherit"?"colorInherit":e]},a=He(s,aX,n);return T({},n,a)},uX=Q(ra,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ii(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${Ee(r.size)}`],r.color==="inherit"&&e.colorInherit,e[Ee(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return T({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${iN.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>T({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${iN.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),dX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFab"}),{children:i,className:s,color:a="default",component:o="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:h="circular"}=n,p=me(n,lX),f=T({},n,{color:a,component:o,disabled:l,disableFocusRipple:c,size:d,variant:h}),m=cX(f);return x.jsx(uX,T({className:Se(m.root,s),component:o,disabled:l,focusRipple:!c,focusVisibleClassName:Se(m.focusVisible,u),ownerState:f,ref:r},p,{classes:m,children:i}))}),hX=dX,fX=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],pX=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},qj,e);return T({},e,i)},mX=Q(sv,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...nv(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return T({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${cc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${cc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cc.disabled}, .${cc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${cc.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&T({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),gX=Q(av,{name:"MuiFilledInput",slot:"Input",overridesResolver:iv})(({theme:t,ownerState:e})=>T({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),oF=w.forwardRef(function(e,r){var n,i,s,a;const o=Fe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=o,g=me(o,fX),y=T({},o,{fullWidth:u,inputComponent:d,multiline:h,type:m}),b=pX(o),v={root:{ownerState:y},input:{ownerState:y}},k=p??c?Fi(v,p??c):v,C=(n=(i=f.root)!=null?i:l.Root)!=null?n:mX,S=(s=(a=f.input)!=null?a:l.Input)!=null?s:gX;return x.jsx(DC,T({slots:{root:C,input:S},componentsProps:k,fullWidth:u,inputComponent:d,multiline:h,ref:r,type:m},g,{classes:b}))});oF.muiName="Input";const lF=oF;function yX(t){return Ge("MuiFormControl",t)}je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bX=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],vX=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Ee(r)}`,n&&"fullWidth"]};return He(i,yX,e)},wX=Q("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,e[`margin${Ee(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>T({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),xX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:o="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,y=me(n,bX),b=T({},n,{color:a,component:o,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),v=vX(b),[k,C]=w.useState(()=>{let L=!1;return i&&w.Children.forEach(i,I=>{if(!ey(I,["Input","Select"]))return;const N=ey(I,["Select"])?I.props.input:I;N&&Oj(N.props)&&(L=!0)}),L}),[S,_]=w.useState(()=>{let L=!1;return i&&w.Children.forEach(i,I=>{ey(I,["Input","Select"])&&(Qy(I.props,!0)||Qy(I.props.inputProps,!0))&&(L=!0)}),L}),[B,D]=w.useState(!1);l&&B&&D(!1);const E=u!==void 0&&!l?u:B;let R;const O=w.useMemo(()=>({adornedStart:k,setAdornedStart:C,color:a,disabled:l,error:c,filled:S,focused:E,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{D(!1)},onEmpty:()=>{_(!1)},onFilled:()=>{_(!0)},onFocus:()=>{D(!0)},registerEffect:R,required:f,variant:g}),[k,a,l,c,S,E,d,h,R,f,m,g]);return x.jsx(rv.Provider,{value:O,children:x.jsx(wX,T({as:o,ownerState:b,className:Se(v.root,s),ref:r},y,{children:i}))})}),cF=xX,SX=hH({createStyledComponent:Q("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Fe({props:t,name:"MuiStack"})}),kX=SX;function CX(t){return Ge("MuiFormControlLabel",t)}const TX=je("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),af=TX,_X=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],PX=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:s}=t,a={root:["root",r&&"disabled",`labelPlacement${Ee(n)}`,i&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return He(a,CX,e)},BX=Q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${af.label}`]:e.label},e.root,e[`labelPlacement${Ee(r.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>T({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${af.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${af.label}`]:{[`&.${af.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),NX=Q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${af.error}`]:{color:(t.vars||t).palette.error.main}})),MX=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:o={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=s,m=me(s,_X),g=ss(),y=(n=c??l.props.disabled)!=null?n:g==null?void 0:g.disabled,b=p??l.props.required,v={disabled:y,required:b};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof l.props[D]>"u"&&typeof s[D]<"u"&&(v[D]=s[D])});const k=ic({props:s,muiFormControl:g,states:["error"]}),C=T({},s,{disabled:y,labelPlacement:h,required:b,error:k.error}),S=PX(C),_=(i=f.typography)!=null?i:o.typography;let B=d;return B!=null&&B.type!==cr&&!u&&(B=x.jsx(cr,T({component:"span"},_,{className:Se(S.label,_==null?void 0:_.className),children:B}))),x.jsxs(BX,T({className:Se(S.root,a),ownerState:C,ref:r},m,{children:[w.cloneElement(l,v),b?x.jsxs(kX,{display:"block",children:[B,x.jsxs(NX,{ownerState:C,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}):B]}))}),e1=MX;function EX(t){return Ge("MuiFormGroup",t)}je("MuiFormGroup",["root","row","error"]);const RX=["className","row"],DX=t=>{const{classes:e,row:r,error:n}=t;return He({root:["root",r&&"row",n&&"error"]},EX,e)},IX=Q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})(({ownerState:t})=>T({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),LX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=n,a=me(n,RX),o=ss(),l=ic({props:n,muiFormControl:o,states:["error"]}),c=T({},n,{row:s,error:l.error}),u=DX(c);return x.jsx(IX,T({className:Se(u.root,i),ownerState:c,ref:r},a))}),uF=LX;function FX(t){return Ge("MuiFormHelperText",t)}const AX=je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),sN=AX;var aN;const OX=["children","className","component","disabled","error","filled","focused","margin","required","variant"],$X=t=>{const{classes:e,contained:r,size:n,disabled:i,error:s,filled:a,focused:o,required:l}=t,c={root:["root",i&&"disabled",s&&"error",n&&`size${Ee(n)}`,r&&"contained",o&&"focused",a&&"filled",l&&"required"]};return He(c,FX,e)},VX=Q("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Ee(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${sN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${sN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),zX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p"}=n,o=me(n,OX),l=ss(),c=ic({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=T({},n,{component:a,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=$X(u);return x.jsx(VX,T({as:a,ownerState:u,className:Se(d.root,s),ref:r},o,{children:i===" "?aN||(aN=x.jsx("span",{className:"notranslate",children:""})):i}))}),dF=zX;function WX(t){return Ge("MuiFormLabel",t)}const HX=je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Nf=HX,UX=["children","className","color","component","disabled","error","filled","focused","required"],GX=t=>{const{classes:e,color:r,focused:n,disabled:i,error:s,filled:a,required:o}=t,l={root:["root",`color${Ee(r)}`,i&&"disabled",s&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return He(l,WX,e)},jX=Q("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Nf.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Nf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Nf.error}`]:{color:(t.vars||t).palette.error.main}})),YX=Q("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Nf.error}`]:{color:(t.vars||t).palette.error.main}})),XX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:a="label"}=n,o=me(n,UX),l=ss(),c=ic({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=T({},n,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=GX(u);return x.jsxs(jX,T({as:a,ownerState:u,className:Se(d.root,s),ref:r},o,{children:[i,c.required&&x.jsxs(YX,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),qX=XX,KX=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function t1(t){return`scale(${t}, ${t**2})`}const QX={entering:{opacity:1,transform:t1(1)},entered:{opacity:1,transform:"none"}},Dw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hF=w.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:a,in:o,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=Zb}=e,y=me(e,KX),b=mL(),v=w.useRef(),k=Ns(),C=w.useRef(null),S=qt(C,s.ref,r),_=N=>F=>{if(N){const A=C.current;F===void 0?N(A):N(A,F)}},B=_(u),D=_((N,F)=>{CC(N);const{duration:A,delay:M,easing:V}=Rd({style:f,timeout:m,easing:a},{mode:"enter"});let W;m==="auto"?(W=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=W):W=A,N.style.transition=[k.transitions.create("opacity",{duration:W,delay:M}),k.transitions.create("transform",{duration:Dw?W:W*.666,delay:M,easing:V})].join(","),l&&l(N,F)}),E=_(c),R=_(p),O=_(N=>{const{duration:F,delay:A,easing:M}=Rd({style:f,timeout:m,easing:a},{mode:"exit"});let V;m==="auto"?(V=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=V):V=F,N.style.transition=[k.transitions.create("opacity",{duration:V,delay:A}),k.transitions.create("transform",{duration:Dw?V:V*.666,delay:Dw?A:A||V*.333,easing:M})].join(","),N.style.opacity=0,N.style.transform=t1(.75),d&&d(N)}),L=_(h),I=N=>{m==="auto"&&b.start(v.current||0,N),n&&n(C.current,N)};return x.jsx(g,T({appear:i,in:o,nodeRef:C,onEnter:D,onEntered:E,onEntering:B,onExit:O,onExited:L,onExiting:R,addEndListener:I,timeout:m==="auto"?null:m},y,{children:(N,F)=>w.cloneElement(s,T({style:T({opacity:0,transform:t1(.75),visibility:N==="exited"&&!o?"hidden":void 0},QX[N],f,s.props.style),ref:S},F))}))});hF.muiSupportAuto=!0;const fF=hF,JX=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ZX=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},Gj,e);return T({},e,i)},eq=Q(sv,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...nv(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),T({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Lh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Lh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Lh.disabled}, .${Lh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Lh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),tq=Q(av,{name:"MuiInput",slot:"Input",overridesResolver:iv})({}),pF=w.forwardRef(function(e,r){var n,i,s,a;const o=Fe({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:m={},type:g="text"}=o,y=me(o,JX),b=ZX(o),k={root:{ownerState:{disableUnderline:l}}},C=f??u?Fi(f??u,k):k,S=(n=(i=m.root)!=null?i:c.Root)!=null?n:eq,_=(s=(a=m.input)!=null?a:c.Input)!=null?s:tq;return x.jsx(DC,T({slots:{root:S,input:_},slotProps:C,fullWidth:d,inputComponent:h,multiline:p,ref:r,type:g},y,{classes:b}))});pF.muiName="Input";const LC=pF;function rq(t){return Ge("MuiInputAdornment",t)}const nq=je("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),oN=nq;var lN;const iq=["children","className","component","disablePointerEvents","disableTypography","position","variant"],sq=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ee(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},aq=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:s,variant:a}=t,o={root:["root",r&&"disablePointerEvents",i&&`position${Ee(i)}`,a,n&&"hiddenLabel",s&&`size${Ee(s)}`]};return He(o,rq,e)},oq=Q("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:sq})(({theme:t,ownerState:e})=>T({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${oN.positionStart}&:not(.${oN.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),lq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:c,variant:u}=n,d=me(n,iq),h=ss()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f=T({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:o,position:c,variant:p}),m=aq(f);return x.jsx(rv.Provider,{value:null,children:x.jsx(oq,T({as:a,ownerState:f,className:Se(m.root,s),ref:r},d,{children:typeof i=="string"&&!l?x.jsx(cr,{color:"text.secondary",children:i}):x.jsxs(w.Fragment,{children:[c==="start"?lN||(lN=x.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),mF=lq;function cq(t){return Ge("MuiInputLabel",t)}je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const uq=["disableAnimation","margin","shrink","variant","className"],dq=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:s,variant:a,required:o}=t,l={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Ee(n)}`,a],asterisk:[o&&"asterisk"]},c=He(l,cq,e);return T({},e,c)},hq=Q(qX,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Nf.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>T({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&T({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&T({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&T({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),fq=w.forwardRef(function(e,r){const n=Fe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:a}=n,o=me(n,uq),l=ss();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=ic({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),d=T({},n,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=dq(d);return x.jsx(hq,T({"data-shrink":c,ownerState:d,ref:r,className:Se(h.root,a)},o,{classes:h}))}),gF=fq,pq=w.createContext({}),La=pq;function mq(t){return Ge("MuiList",t)}je("MuiList",["root","padding","dense","subheader"]);const gq=["children","className","component","dense","disablePadding","subheader"],yq=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return He({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},mq,e)},bq=Q("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>T({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),vq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:c}=n,u=me(n,gq),d=w.useMemo(()=>({dense:o}),[o]),h=T({},n,{component:a,dense:o,disablePadding:l}),p=yq(h);return x.jsx(La.Provider,{value:d,children:x.jsxs(bq,T({as:a,className:Se(p.root,s),ref:r,ownerState:h},u,{children:[c,i]}))})}),pm=vq;function wq(t){return Ge("MuiListItem",t)}const xq=je("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Vu=xq;function Sq(t){return Ge("MuiListItemButton",t)}const kq=je("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),zu=kq,Cq=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Tq=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},_q=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:s,divider:a,selected:o}=t,c=He({root:["root",n&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},Sq,r);return T({},r,c)},Pq=Q(ra,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Tq})(({theme:t,ownerState:e})=>T({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${zu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${zu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${zu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Bq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p}=n,f=me(n,Cq),m=w.useContext(La),g=w.useMemo(()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c}),[i,m.dense,l,c]),y=w.useRef(null);Gr(()=>{s&&y.current&&y.current.focus()},[s]);const b=T({},n,{alignItems:i,dense:g.dense,disableGutters:c,divider:u,selected:h}),v=_q(b),k=qt(y,r);return x.jsx(La.Provider,{value:g,children:x.jsx(Pq,T({ref:k,href:f.href||f.to,component:(f.href||f.to)&&a==="div"?"button":a,focusVisibleClassName:Se(v.focusVisible,d),ownerState:b,className:Se(v.root,p)},f,{classes:v,children:o}))})}),pl=Bq;function Nq(t){return Ge("MuiListItemSecondaryAction",t)}je("MuiListItemSecondaryAction",["root","disableGutters"]);const Mq=["className"],Eq=t=>{const{disableGutters:e,classes:r}=t;return He({root:["root",e&&"disableGutters"]},Nq,r)},Rq=Q("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>T({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),yF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,s=me(n,Mq),a=w.useContext(La),o=T({},n,{disableGutters:a.disableGutters}),l=Eq(o);return x.jsx(Rq,T({className:Se(l.root,i),ownerState:o,ref:r},s))});yF.muiName="ListItemSecondaryAction";const Dq=yF,Iq=["className"],Lq=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Fq=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},Aq=t=>{const{alignItems:e,button:r,classes:n,dense:i,disabled:s,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:c,selected:u}=t;return He({root:["root",i&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",s&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},wq,n)},Oq=Q("div",{name:"MuiListItem",slot:"Root",overridesResolver:Fq})(({theme:t,ownerState:e})=>T({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&T({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${zu.root}`]:{paddingRight:48}},{[`&.${Vu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Vu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Vu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Vu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),$q=Q("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Vq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:a=!1,children:o,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:y=!1,divider:b=!1,focusVisibleClassName:v,secondaryAction:k,selected:C=!1,slotProps:S={},slots:_={}}=n,B=me(n.ContainerProps,Iq),D=me(n,Lq),E=w.useContext(La),R=w.useMemo(()=>({dense:f||E.dense||!1,alignItems:i,disableGutters:g}),[i,E.dense,f,g]),O=w.useRef(null);Gr(()=>{s&&O.current&&O.current.focus()},[s]);const L=w.Children.toArray(o),I=L.length&&ey(L[L.length-1],["ListItemSecondaryAction"]),N=T({},n,{alignItems:i,autoFocus:s,button:a,dense:R.dense,disabled:m,disableGutters:g,disablePadding:y,divider:b,hasSecondaryAction:I,selected:C}),F=Aq(N),A=qt(O,r),M=_.root||u.Root||Oq,V=S.root||d.root||{},W=T({className:Se(F.root,V.className,l),disabled:m},D);let K=c||"li";return a&&(W.component=c||"div",W.focusVisibleClassName=Se(Vu.focusVisible,v),K=ra),I?(K=!W.component&&!c?"div":K,h==="li"&&(K==="li"?K="div":W.component==="li"&&(W.component="div")),x.jsx(La.Provider,{value:R,children:x.jsxs($q,T({as:h,className:Se(F.container,p),ref:A,ownerState:N},B,{children:[x.jsx(M,T({},V,!ho(M)&&{as:K,ownerState:T({},N,V.ownerState)},W,{children:L})),L.pop()]}))})):x.jsx(La.Provider,{value:R,children:x.jsxs(M,T({},V,{as:K,ref:A},!ho(M)&&{ownerState:T({},N,V.ownerState)},W,{children:[L,k&&x.jsx(Dq,{children:k})]}))})}),bF=Vq;function zq(t){return Ge("MuiListItemIcon",t)}const Wq=je("MuiListItemIcon",["root","alignItemsFlexStart"]),cN=Wq,Hq=["className"],Uq=t=>{const{alignItems:e,classes:r}=t;return He({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},zq,r)},Gq=Q("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>T({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),jq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemIcon"}),{className:i}=n,s=me(n,Hq),a=w.useContext(La),o=T({},n,{alignItems:a.alignItems}),l=Uq(o);return x.jsx(Gq,T({className:Se(l.root,i),ownerState:o,ref:r},s))}),ml=jq;function Yq(t){return Ge("MuiListItemText",t)}const Xq=je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Jy=Xq,qq=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Kq=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:s}=t;return He({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Yq,e)},Qq=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Jy.primary}`]:e.primary},{[`& .${Jy.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>T({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Jq=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=me(n,qq),{dense:p}=w.useContext(La);let f=l??i,m=u;const g=T({},n,{disableTypography:a,inset:o,primary:!!f,secondary:!!m,dense:p}),y=Kq(g);return f!=null&&f.type!==cr&&!a&&(f=x.jsx(cr,T({variant:p?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:f}))),m!=null&&m.type!==cr&&!a&&(m=x.jsx(cr,T({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},d,{children:m}))),x.jsxs(Qq,T({className:Se(y.root,s),ownerState:g,ref:r},h,{children:[f,m]}))}),gl=Jq,Zq=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Iw(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function uN(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function vF(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function Fh(t,e,r,n,i,s){let a=!1,o=i(t,e,e?r:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!vF(o,s)||l)o=i(t,o,r);else return o.focus(),!0}return!1}const eK=w.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=me(e,Zq),p=w.useRef(null),f=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Gr(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(v,{direction:k})=>{const C=!p.current.style.width;if(v.clientHeight<p.current.clientHeight&&C){const S=`${gL(on(v))}px`;p.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=S,p.current.style.width=`calc(100% + ${S})`}return p.current}}),[]);const m=v=>{const k=p.current,C=v.key,S=on(k).activeElement;if(C==="ArrowDown")v.preventDefault(),Fh(k,S,c,l,Iw);else if(C==="ArrowUp")v.preventDefault(),Fh(k,S,c,l,uN);else if(C==="Home")v.preventDefault(),Fh(k,null,c,l,Iw);else if(C==="End")v.preventDefault(),Fh(k,null,c,l,uN);else if(C.length===1){const _=f.current,B=C.toLowerCase(),D=performance.now();_.keys.length>0&&(D-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&B!==_.keys[0]&&(_.repeating=!1)),_.lastTime=D,_.keys.push(B);const E=S&&!_.repeating&&vF(S,_);_.previousKeyMatched&&(E||Fh(k,S,!1,l,Iw,_))?v.preventDefault():_.previousKeyMatched=!1}u&&u(v)},g=qt(p,r);let y=-1;w.Children.forEach(a,(v,k)=>{if(!w.isValidElement(v)){y===k&&(y+=1,y>=a.length&&(y=-1));return}v.props.disabled||(d==="selectedMenu"&&v.props.selected||y===-1)&&(y=k),y===k&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))});const b=w.Children.map(a,(v,k)=>{if(k===y){const C={};return s&&(C.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),w.cloneElement(v,C)}return v});return x.jsx(pm,T({role:"menu",ref:g,className:o,onKeyDown:m,tabIndex:i?0:-1},h,{children:b}))}),FC=eK;function tK(t){return Ge("MuiPopover",t)}je("MuiPopover",["root","paper"]);const rK=["onEntering"],nK=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iK=["slotProps"];function dN(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function hN(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function fN(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Lw(t){return typeof t=="function"?t():t}const sK=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"]},tK,e)},aK=Q(IC,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wF=Q(mu,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oK=w.forwardRef(function(e,r){var n,i,s;const a=Fe({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:y,PaperProps:b={},slots:v,slotProps:k,transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:S=fF,transitionDuration:_="auto",TransitionProps:{onEntering:B}={},disableScrollLock:D=!1}=a,E=me(a.TransitionProps,rK),R=me(a,nK),O=(n=k==null?void 0:k.paper)!=null?n:b,L=w.useRef(),I=qt(L,O.ref),N=T({},a,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:O,transformOrigin:C,TransitionComponent:S,transitionDuration:_,TransitionProps:E}),F=sK(N),A=w.useCallback(()=>{if(d==="anchorPosition")return u;const X=Lw(l),Y=(X&&X.nodeType===1?X:on(L.current).body).getBoundingClientRect();return{top:Y.top+dN(Y,c.vertical),left:Y.left+hN(Y,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),M=w.useCallback(X=>({vertical:dN(X,C.vertical),horizontal:hN(X,C.horizontal)}),[C.horizontal,C.vertical]),V=w.useCallback(X=>{const J={width:X.offsetWidth,height:X.offsetHeight},Y=M(J);if(d==="none")return{top:null,left:null,transformOrigin:fN(Y)};const we=A();let fe=we.top-Y.vertical,$=we.left-Y.horizontal;const U=fe+J.height,j=$+J.width,ae=Va(Lw(l)),Be=ae.innerHeight-g,ke=ae.innerWidth-g;if(g!==null&&fe<g){const De=fe-g;fe-=De,Y.vertical+=De}else if(g!==null&&U>Be){const De=U-Be;fe-=De,Y.vertical+=De}if(g!==null&&$<g){const De=$-g;$-=De,Y.horizontal+=De}else if(j>ke){const De=j-ke;$-=De,Y.horizontal+=De}return{top:`${Math.round(fe)}px`,left:`${Math.round($)}px`,transformOrigin:fN(Y)}},[l,d,A,M,g]),[W,K]=w.useState(y),ie=w.useCallback(()=>{const X=L.current;if(!X)return;const J=V(X);J.top!==null&&(X.style.top=J.top),J.left!==null&&(X.style.left=J.left),X.style.transformOrigin=J.transformOrigin,K(!0)},[V]);w.useEffect(()=>(D&&window.addEventListener("scroll",ie),()=>window.removeEventListener("scroll",ie)),[l,D,ie]);const se=(X,J)=>{B&&B(X,J),ie()},te=()=>{K(!1)};w.useEffect(()=>{y&&ie()}),w.useImperativeHandle(o,()=>y?{updatePosition:()=>{ie()}}:null,[y,ie]),w.useEffect(()=>{if(!y)return;const X=om(()=>{ie()}),J=Va(l);return J.addEventListener("resize",X),()=>{X.clear(),J.removeEventListener("resize",X)}},[l,y,ie]);let G=_;_==="auto"&&!S.muiSupportAuto&&(G=void 0);const Z=f||(l?on(Lw(l)).body:void 0),he=(i=v==null?void 0:v.root)!=null?i:aK,pe=(s=v==null?void 0:v.paper)!=null?s:wF,ne=Mt({elementType:pe,externalSlotProps:T({},O,{style:W?O.style:T({},O.style,{opacity:0})}),additionalProps:{elevation:m,ref:I},ownerState:N,className:Se(F.paper,O==null?void 0:O.className)}),le=Mt({elementType:he,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:R,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Z,open:y},ownerState:N,className:Se(F.root,p)}),{slotProps:oe}=le,q=me(le,iK);return x.jsx(he,T({},q,!ho(he)&&{slotProps:oe,disableScrollLock:D},{children:x.jsx(S,T({appear:!0,in:y,onEntering:se,onExited:te,timeout:G},E,{children:x.jsx(pe,T({},ne,{children:h}))}))}))}),lK=oK;function cK(t){return Ge("MuiMenu",t)}je("MuiMenu",["root","paper","list"]);const uK=["onEntering"],dK=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],hK={vertical:"top",horizontal:"right"},fK={vertical:"top",horizontal:"left"},pK=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"],list:["list"]},cK,e)},mK=Q(lK,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gK=Q(wF,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yK=Q(FC,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),bK=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:y="selectedMenu",slots:b={},slotProps:v={}}=s,k=me(s.TransitionProps,uK),C=me(s,dK),S=qn(),_=T({},s,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:k,variant:y}),B=pK(_),D=a&&!c&&h,E=w.useRef(null),R=(M,V)=>{E.current&&E.current.adjustStyleForScrollbar(M,{direction:S?"rtl":"ltr"}),g&&g(M,V)},O=M=>{M.key==="Tab"&&(M.preventDefault(),d&&d(M,"tabKeyDown"))};let L=-1;w.Children.map(o,(M,V)=>{w.isValidElement(M)&&(M.props.disabled||(y==="selectedMenu"&&M.props.selected||L===-1)&&(L=V))});const I=(n=b.paper)!=null?n:gK,N=(i=v.paper)!=null?i:p,F=Mt({elementType:b.root,externalSlotProps:v.root,ownerState:_,className:[B.root,l]}),A=Mt({elementType:I,externalSlotProps:N,ownerState:_,className:B.paper});return x.jsx(mK,T({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?hK:fK,slots:{paper:I,root:b.root},slotProps:{root:F,paper:A},open:h,ref:r,transitionDuration:m,TransitionProps:T({onEntering:R},k),ownerState:_},C,{classes:f,children:x.jsx(yK,T({onKeyDown:O,actions:E,autoFocus:a&&(L===-1||c),autoFocusItem:D,variant:y},u,{className:Se(B.list,u.className),children:o}))}))}),vK=bK;function wK(t){return Ge("MuiMenuItem",t)}const xK=je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ah=xK,SK=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],kK=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},CK=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:s,classes:a}=t,l=He({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},wK,a);return T({},a,l)},TK=Q(ra,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:kK})(({theme:t,ownerState:e})=>T({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ah.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ah.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ah.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ir(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ir(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ah.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ah.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${tN.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${tN.inset}`]:{marginLeft:52},[`& .${Jy.root}`]:{marginTop:0,marginBottom:0},[`& .${Jy.inset}`]:{paddingLeft:36},[`& .${cN.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&T({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${cN.root} svg`]:{fontSize:"1.25rem"}}))),_K=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=me(n,SK),f=w.useContext(La),m=w.useMemo(()=>({dense:a||f.dense||!1,disableGutters:l}),[f.dense,a,l]),g=w.useRef(null);Gr(()=>{i&&g.current&&g.current.focus()},[i]);const y=T({},n,{dense:m.dense,divider:o,disableGutters:l}),b=CK(n),v=qt(g,r);let k;return n.disabled||(k=d!==void 0?d:-1),x.jsx(La.Provider,{value:m,children:x.jsx(TK,T({ref:v,role:u,tabIndex:k,component:s,focusVisibleClassName:Se(b.focusVisible,c),className:Se(b.root,h)},p,{ownerState:y,classes:b}))})}),AC=_K;function PK(t){return Ge("MuiNativeSelect",t)}const BK=je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),OC=BK,NK=["className","disabled","error","IconComponent","inputRef","variant"],MK=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ee(r)}`,s&&"iconOpen",n&&"disabled"]};return He(o,PK,e)},xF=({ownerState:t,theme:e})=>T({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":T({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${OC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),EK=Q("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ii,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${OC.multiple}`]:e.multiple}]}})(xF),SF=({ownerState:t,theme:e})=>T({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${OC.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),RK=Q("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ee(r.variant)}`],r.open&&e.iconOpen]}})(SF),DK=w.forwardRef(function(e,r){const{className:n,disabled:i,error:s,IconComponent:a,inputRef:o,variant:l="standard"}=e,c=me(e,NK),u=T({},e,{disabled:i,variant:l,error:s}),d=MK(u);return x.jsxs(w.Fragment,{children:[x.jsx(EK,T({ownerState:u,className:Se(d.select,n),disabled:i,ref:o||r},c)),e.multiple?null:x.jsx(RK,{as:a,ownerState:u,className:d.icon})]})}),IK=DK;var pN;const LK=["children","classes","className","label","notched"],FK=Q("fieldset",{shouldForwardProp:ii})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),AK=Q("legend",{shouldForwardProp:ii})(({ownerState:t,theme:e})=>T({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&T({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function OK(t){const{className:e,label:r,notched:n}=t,i=me(t,LK),s=r!=null&&r!=="",a=T({},t,{notched:n,withLabel:s});return x.jsx(FK,T({"aria-hidden":!0,className:e,ownerState:a},i,{children:x.jsx(AK,{ownerState:a,children:s?x.jsx("span",{children:r}):pN||(pN=x.jsx("span",{className:"notranslate",children:""}))})}))}const $K=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],VK=t=>{const{classes:e}=t,n=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Yj,e);return T({},e,n)},zK=Q(sv,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:nv})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return T({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${hl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${hl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${hl.focused} .${hl.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${hl.error} .${hl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${hl.disabled} .${hl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&T({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),WK=Q(OK,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),HK=Q(av,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iv})(({theme:t,ownerState:e})=>T({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),kF=w.forwardRef(function(e,r){var n,i,s,a,o;const l=Fe({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,y=me(l,$K),b=VK(l),v=ss(),k=ic({props:l,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C=T({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:v,fullWidth:u,hiddenLabel:k.hiddenLabel,multiline:p,size:k.size,type:g}),S=(n=(i=m.root)!=null?i:c.Root)!=null?n:zK,_=(s=(a=m.input)!=null?a:c.Input)!=null?s:HK;return x.jsx(DC,T({slots:{root:S,input:_},renderSuffix:B=>x.jsx(WK,{ownerState:C,className:b.notchedOutline,label:h!=null&&h!==""&&k.required?o||(o=x.jsxs(w.Fragment,{children:[h,"","*"]})):h,notched:typeof f<"u"?f:!!(B.startAdornment||B.filled||B.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:r,type:g},y,{classes:T({},b,{notchedOutline:null})}))});kF.muiName="Input";const CF=kF,UK=br(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),GK=br(x.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),jK=Q("span",{shouldForwardProp:ii})({position:"relative",display:"flex"}),YK=Q(UK)({transform:"scale(1)"}),XK=Q(GK)(({theme:t,ownerState:e})=>T({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function TF(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i=T({},t,{checked:e});return x.jsxs(jK,{className:r.root,ownerState:i,children:[x.jsx(YK,{fontSize:n,className:r.background,ownerState:i}),x.jsx(XK,{fontSize:n,className:r.dot,ownerState:i})]})}const qK=w.createContext(void 0),_F=qK;function KK(){return w.useContext(_F)}function QK(t){return Ge("MuiRadio",t)}const JK=je("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),mN=JK,ZK=["checked","checkedIcon","color","icon","name","onChange","size","className"],eQ=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${Ee(r)}`,n!=="medium"&&`size${Ee(n)}`]};return T({},e,He(i,QK,e))},tQ=Q(ZL,{shouldForwardProp:t=>ii(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${Ee(r.size)}`],e[`color${Ee(r.color)}`]]}})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${mN.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${mN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function rQ(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const gN=x.jsx(TF,{checked:!0}),yN=x.jsx(TF,{}),nQ=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:o=gN,color:l="primary",icon:c=yN,name:u,onChange:d,size:h="medium",className:p}=s,f=me(s,ZK),m=T({},s,{color:l,size:h}),g=eQ(m),y=KK();let b=a;const v=HS(d,y&&y.onChange);let k=u;return y&&(typeof b>"u"&&(b=rQ(y.value,s.value)),typeof k>"u"&&(k=y.name)),x.jsx(tQ,T({type:"radio",icon:w.cloneElement(c,{fontSize:(n=yN.props.fontSize)!=null?n:h}),checkedIcon:w.cloneElement(o,{fontSize:(i=gN.props.fontSize)!=null?i:h}),ownerState:m,classes:g,name:k,checked:b,onChange:v,ref:r,className:Se(g.root,p)},f))}),bN=nQ,iQ=["actions","children","defaultValue","name","onChange","value"],sQ=w.forwardRef(function(e,r){const{actions:n,children:i,defaultValue:s,name:a,onChange:o,value:l}=e,c=me(e,iQ),u=w.useRef(null),[d,h]=xs({controlled:l,default:s,name:"RadioGroup"});w.useImperativeHandle(n,()=>({focus:()=>{let g=u.current.querySelector("input:not(:disabled):checked");g||(g=u.current.querySelector("input:not(:disabled)")),g&&g.focus()}}),[]);const p=qt(r,u),f=ca(a),m=w.useMemo(()=>({name:f,onChange(g){h(g.target.value),o&&o(g,g.target.value)},value:d}),[f,o,h,d]);return x.jsx(_F.Provider,{value:m,children:x.jsx(uF,T({role:"radiogroup",ref:p},c,{children:i}))})}),vN=sQ,aQ=br(x.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),oQ=br(x.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function lQ(t){return Ge("MuiRating",t)}const cQ=je("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Oh=cQ,uQ=["value"],dQ=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function hQ(t){const e=t.toString().split(".")[1];return e?e.length:0}function Fw(t,e){if(t==null)return t;const r=Math.round(t/e)*e;return Number(r.toFixed(hQ(e)))}const fQ=t=>{const{classes:e,size:r,readOnly:n,disabled:i,emptyValueFocused:s,focusVisible:a}=t,o={root:["root",`size${Ee(r)}`,i&&"disabled",a&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return He(o,lQ,e)},pQ=Q("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Oh.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ee(r.size)}`],r.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>T({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Oh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Oh.focusVisible} .${Oh.iconActive}`]:{outline:"1px solid #999"},[`& .${Oh.visuallyHidden}`]:fC},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),PF=Q("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>T({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),mQ=Q("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.iconEmpty&&e.iconEmpty,r.iconFilled&&e.iconFilled,r.iconHover&&e.iconHover,r.iconFocus&&e.iconFocus,r.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>T({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),gQ=Q("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>cm(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:r}=t;return[e.decimal,r&&e.iconActive]}})(({iconActive:t})=>T({position:"relative"},t&&{transform:"scale(1.2)"}));function yQ(t){const e=me(t,uQ);return x.jsx("span",T({},e))}function wN(t){const{classes:e,disabled:r,emptyIcon:n,focus:i,getLabelText:s,highlightSelectedOnly:a,hover:o,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:h,name:p,onBlur:f,onChange:m,onClick:g,onFocus:y,readOnly:b,ownerState:v,ratingValue:k,ratingValueRounded:C}=t,S=a?d===k:d<=k,_=d<=o,B=d<=i,D=d===C,E=ca(),R=x.jsx(mQ,{as:c,value:d,className:Se(e.icon,S?e.iconFilled:e.iconEmpty,_&&e.iconHover,B&&e.iconFocus,u&&e.iconActive),ownerState:T({},v,{iconEmpty:!S,iconFilled:S,iconHover:_,iconFocus:B,iconActive:u}),children:n&&!S?n:l});return b?x.jsx("span",T({},h,{children:R})):x.jsxs(w.Fragment,{children:[x.jsxs(PF,T({ownerState:T({},v,{emptyValueFocused:void 0}),htmlFor:E},h,{children:[R,x.jsx("span",{className:e.visuallyHidden,children:s(d)})]})),x.jsx("input",{className:e.visuallyHidden,onFocus:y,onBlur:f,onChange:m,onClick:g,disabled:r,value:d,id:E,type:"radio",name:p,checked:D})]})}const bQ=x.jsx(aQ,{fontSize:"inherit"}),vQ=x.jsx(oQ,{fontSize:"inherit"});function wQ(t){return`${t} Star${t!==1?"s":""}`}const xQ=w.forwardRef(function(e,r){const n=Fe({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:a=!1,emptyIcon:o=vQ,emptyLabelText:l="Empty",getLabelText:c=wQ,highlightSelectedOnly:u=!1,icon:d=bQ,IconContainerComponent:h=yQ,max:p=5,name:f,onChange:m,onChangeActive:g,onMouseLeave:y,onMouseMove:b,precision:v=1,readOnly:k=!1,size:C="medium",value:S}=n,_=me(n,dQ),B=ca(f),[D,E]=xs({controlled:S,default:s,name:"Rating"}),R=Fw(D,v),O=qn(),[{hover:L,focus:I},N]=w.useState({hover:-1,focus:-1});let F=R;L!==-1&&(F=L),I!==-1&&(F=I);const{isFocusVisibleRef:A,onBlur:M,onFocus:V,ref:W}=hC(),[K,ie]=w.useState(!1),se=w.useRef(),te=qt(W,se,r),G=Y=>{b&&b(Y);const we=se.current,{right:fe,left:$,width:U}=we.getBoundingClientRect();let j;O?j=(fe-Y.clientX)/U:j=(Y.clientX-$)/U;let ae=Fw(p*j+v/2,v);ae=_l(ae,v,p),N(Be=>Be.hover===ae&&Be.focus===ae?Be:{hover:ae,focus:ae}),ie(!1),g&&L!==ae&&g(Y,ae)},Z=Y=>{y&&y(Y);const we=-1;N({hover:we,focus:we}),g&&L!==we&&g(Y,we)},he=Y=>{let we=Y.target.value===""?null:parseFloat(Y.target.value);L!==-1&&(we=L),E(we),m&&m(Y,we)},pe=Y=>{Y.clientX===0&&Y.clientY===0||(N({hover:-1,focus:-1}),E(null),m&&parseFloat(Y.target.value)===R&&m(Y,null))},ne=Y=>{V(Y),A.current===!0&&ie(!0);const we=parseFloat(Y.target.value);N(fe=>({hover:fe.hover,focus:we}))},le=Y=>{if(L!==-1)return;M(Y),A.current===!1&&ie(!1);const we=-1;N(fe=>({hover:fe.hover,focus:we}))},[oe,q]=w.useState(!1),X=T({},n,{defaultValue:s,disabled:a,emptyIcon:o,emptyLabelText:l,emptyValueFocused:oe,focusVisible:K,getLabelText:c,icon:d,IconContainerComponent:h,max:p,precision:v,readOnly:k,size:C}),J=fQ(X);return x.jsxs(pQ,T({ref:te,onMouseMove:G,onMouseLeave:Z,className:Se(J.root,i,k&&"MuiRating-readOnly"),ownerState:X,role:k?"img":null,"aria-label":k?c(F):null},_,{children:[Array.from(new Array(p)).map((Y,we)=>{const fe=we+1,$={classes:J,disabled:a,emptyIcon:o,focus:I,getLabelText:c,highlightSelectedOnly:u,hover:L,icon:d,IconContainerComponent:h,name:B,onBlur:le,onChange:he,onClick:pe,onFocus:ne,ratingValue:F,ratingValueRounded:R,readOnly:k,ownerState:X},U=fe===Math.ceil(F)&&(L!==-1||I!==-1);if(v<1){const j=Array.from(new Array(1/v));return x.jsx(gQ,{className:Se(J.decimal,U&&J.iconActive),ownerState:X,iconActive:U,children:j.map((ae,Be)=>{const ke=Fw(fe-1+(Be+1)*v,v);return x.jsx(wN,T({},$,{isActive:!1,itemValue:ke,labelProps:{style:j.length-1===Be?{}:{width:ke===F?`${(Be+1)*v*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ke)})},fe)}return x.jsx(wN,T({},$,{isActive:U,itemValue:fe}),fe)}),!k&&!a&&x.jsxs(PF,{className:Se(J.label,J.labelEmptyValue),ownerState:X,children:[x.jsx("input",{className:J.visuallyHidden,value:"",id:`${B}-empty`,type:"radio",name:B,checked:R==null,onFocus:()=>q(!0),onBlur:()=>q(!1),onChange:he}),x.jsx("span",{className:J.visuallyHidden,children:l})]})]}))}),SQ=xQ;function kQ(t){return Ge("MuiSelect",t)}const $h=je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var xN;const CQ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],TQ=Q("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${$h.select}`]:e.select},{[`&.${$h.select}`]:e[r.variant]},{[`&.${$h.error}`]:e.error},{[`&.${$h.multiple}`]:e.multiple}]}})(xF,{[`&.${$h.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_Q=Q("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ee(r.variant)}`],r.open&&e.iconOpen]}})(SF),PQ=Q("input",{shouldForwardProp:t=>cm(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function SN(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function BQ(t){return t==null||typeof t=="string"&&!t.trim()}const NQ=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ee(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return He(o,kQ,e)},MQ=w.forwardRef(function(e,r){var n;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:y,MenuProps:b={},multiple:v,name:k,onBlur:C,onChange:S,onClose:_,onFocus:B,onOpen:D,open:E,readOnly:R,renderValue:O,SelectDisplayProps:L={},tabIndex:I,value:N,variant:F="standard"}=e,A=me(e,CQ),[M,V]=xs({controlled:N,default:d,name:"Select"}),[W,K]=xs({controlled:E,default:u,name:"Select"}),ie=w.useRef(null),se=w.useRef(null),[te,G]=w.useState(null),{current:Z}=w.useRef(E!=null),[he,pe]=w.useState(),ne=qt(r,g),le=w.useCallback(Oe=>{se.current=Oe,Oe&&G(Oe)},[]),oe=te==null?void 0:te.parentNode;w.useImperativeHandle(ne,()=>({focus:()=>{se.current.focus()},node:ie.current,value:M}),[M]),w.useEffect(()=>{u&&W&&te&&!Z&&(pe(o?null:oe.clientWidth),se.current.focus())},[te,o]),w.useEffect(()=>{a&&se.current.focus()},[a]),w.useEffect(()=>{if(!y)return;const Oe=on(se.current).getElementById(y);if(Oe){const Bt=()=>{getSelection().isCollapsed&&se.current.focus()};return Oe.addEventListener("click",Bt),()=>{Oe.removeEventListener("click",Bt)}}},[y]);const q=(Oe,Bt)=>{Oe?D&&D(Bt):_&&_(Bt),Z||(pe(o?null:oe.clientWidth),K(Oe))},X=Oe=>{Oe.button===0&&(Oe.preventDefault(),se.current.focus(),q(!0,Oe))},J=Oe=>{q(!1,Oe)},Y=w.Children.toArray(l),we=Oe=>{const Bt=Y.find(Le=>Le.props.value===Oe.target.value);Bt!==void 0&&(V(Bt.props.value),S&&S(Oe,Bt))},fe=Oe=>Bt=>{let Le;if(Bt.currentTarget.hasAttribute("tabindex")){if(v){Le=Array.isArray(M)?M.slice():[];const $e=M.indexOf(Oe.props.value);$e===-1?Le.push(Oe.props.value):Le.splice($e,1)}else Le=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(Bt),M!==Le&&(V(Le),S)){const $e=Bt.nativeEvent||Bt,_t=new $e.constructor($e.type,$e);Object.defineProperty(_t,"target",{writable:!0,value:{value:Le,name:k}}),S(_t,Oe)}v||q(!1,Bt)}},$=Oe=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),q(!0,Oe))},U=te!==null&&W,j=Oe=>{!U&&C&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:M,name:k}}),C(Oe))};delete A["aria-invalid"];let ae,Be;const ke=[];let De=!1;(Qy({value:M})||p)&&(O?ae=O(M):De=!0);const Je=Y.map(Oe=>{if(!w.isValidElement(Oe))return null;let Bt;if(v){if(!Array.isArray(M))throw new Error(Xo(2));Bt=M.some(Le=>SN(Le,Oe.props.value)),Bt&&De&&ke.push(Oe.props.children)}else Bt=SN(M,Oe.props.value),Bt&&De&&(Be=Oe.props.children);return w.cloneElement(Oe,{"aria-selected":Bt?"true":"false",onClick:fe(Oe),onKeyUp:Le=>{Le.key===" "&&Le.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Le)},role:"option",selected:Bt,value:void 0,"data-value":Oe.props.value})});De&&(v?ke.length===0?ae=null:ae=ke.reduce((Oe,Bt,Le)=>(Oe.push(Bt),Le<ke.length-1&&Oe.push(", "),Oe),[]):ae=Be);let ht=he;!o&&Z&&te&&(ht=oe.clientWidth);let It;typeof I<"u"?It=I:It=h?null:0;const _e=L.id||(k?`mui-component-select-${k}`:void 0),ye=T({},e,{variant:F,value:M,open:U,error:f}),Ze=NQ(ye),kt=T({},b.PaperProps,(n=b.slotProps)==null?void 0:n.paper),Et=ca();return x.jsxs(w.Fragment,{children:[x.jsx(TQ,T({ref:le,tabIndex:It,role:"combobox","aria-controls":Et,"aria-disabled":h?"true":void 0,"aria-expanded":U?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[y,_e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:$,onMouseDown:h||R?null:X,onBlur:j,onFocus:B},L,{ownerState:ye,className:Se(L.className,Ze.select,c),id:_e,children:BQ(ae)?xN||(xN=x.jsx("span",{className:"notranslate",children:""})):ae})),x.jsx(PQ,T({"aria-invalid":f,value:Array.isArray(M)?M.join(","):M,name:k,ref:ie,"aria-hidden":!0,onChange:we,tabIndex:-1,disabled:h,className:Ze.nativeInput,autoFocus:a,ownerState:ye},A)),x.jsx(_Q,{as:m,className:Ze.icon,ownerState:ye}),x.jsx(vK,T({id:`menu-${k||""}`,anchorEl:oe,open:U,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:T({"aria-labelledby":y,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:Et},b.MenuListProps),slotProps:T({},b.slotProps,{paper:T({},kt,{style:T({minWidth:ht},kt!=null?kt.style:null)})}),children:Je}))]})}),EQ=MQ,RQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],DQ=["root"],IQ=t=>{const{classes:e}=t;return e},$C={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ii(t)&&t!=="variant",slot:"Root"},LQ=Q(LC,$C)(""),FQ=Q(CF,$C)(""),AQ=Q(lF,$C)(""),BF=w.forwardRef(function(e,r){const n=Fe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Qj,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:y=!1,native:b=!1,onClose:v,onOpen:k,open:C,renderValue:S,SelectDisplayProps:_,variant:B="outlined"}=n,D=me(n,RQ),E=b?IK:EQ,R=ss(),O=ic({props:n,muiFormControl:R,states:["variant","error"]}),L=O.variant||B,I=T({},n,{variant:L,classes:a}),N=IQ(I),F=me(N,DQ),A=h||{standard:x.jsx(LQ,{ownerState:I}),outlined:x.jsx(FQ,{label:f,ownerState:I}),filled:x.jsx(AQ,{ownerState:I})}[L],M=qt(r,A.ref);return x.jsx(w.Fragment,{children:w.cloneElement(A,T({inputComponent:E,inputProps:T({children:s,error:O.error,IconComponent:u,variant:L,type:void 0,multiple:y},b?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:v,onOpen:k,open:C,renderValue:S,SelectDisplayProps:T({id:d},_)},p,{classes:p?Fi(F,p.classes):F},h?h.props.inputProps:{})},(y&&b||c)&&L==="outlined"?{notched:!0}:{},{ref:M,className:Se(A.props.className,o,N.root)},!h&&{variant:L},D))})});BF.muiName="Select";const NF=BF,OQ=t=>!t||!ho(t);function $Q(t){return Ge("MuiSlider",t)}const VQ=je("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ys=VQ,zQ=t=>{const{open:e}=t;return{offset:Se(e&&Ys.valueLabelOpen),circle:Ys.valueLabelCircle,label:Ys.valueLabelLabel}};function WQ(t){const{children:e,className:r,value:n}=t,i=zQ(t);return e?w.cloneElement(e,{className:Se(e.props.className)},x.jsxs(w.Fragment,{children:[e.props.children,x.jsx("span",{className:Se(i.offset,r),"aria-hidden":!0,children:x.jsx("span",{className:i.circle,children:x.jsx("span",{className:i.label,children:n})})})]})):null}const HQ=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],UQ=ML();function kN(t){return t}const GQ=Q("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${Ee(r.color)}`],r.size!=="medium"&&e[`size${Ee(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Ys.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Ys.dragging}`]:{[`& .${Ys.thumb}, & .${Ys.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),jQ=Q("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),YQ=Q("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:T({},t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:T({backgroundColor:jy(t.palette[r].main,.62),borderColor:jy(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:Gy(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:Gy(t.palette[r].main,.5)})))}))]}}),XQ=Q("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${Ee(r.color)}`],r.size!=="medium"&&e[`thumbSize${Ee(r.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Ys.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{[`&:hover, &.${Ys.focusVisible}`]:T({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${ir(t.palette[r].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Ys.active}`]:T({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${ir(t.palette[r].main,.16)}`})}})),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}}),qQ=Q(WQ,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>T({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Ys.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Ys.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),KQ=Q("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>cm(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),QQ=Q("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>cm(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>T({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),JQ=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:s,classes:a,color:o,size:l}=t,c={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",o&&`color${Ee(o)}`,l&&`size${Ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ee(l)}`,o&&`thumbColor${Ee(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return He(c,$Q,a)},ZQ=({children:t})=>t,eJ=w.forwardRef(function(e,r){var n,i,s,a,o,l,c,u,d,h,p,f,m,g,y,b,v,k,C,S,_,B,D,E;const R=UQ({props:e,name:"MuiSlider"}),O=qn(),{"aria-label":L,"aria-valuetext":I,"aria-labelledby":N,component:F="span",components:A={},componentsProps:M={},color:V="primary",classes:W,className:K,disableSwap:ie=!1,disabled:se=!1,getAriaLabel:te,getAriaValueText:G,marks:Z=!1,max:he=100,min:pe=0,orientation:ne="horizontal",shiftStep:le=10,size:oe="medium",step:q=1,scale:X=kN,slotProps:J,slots:Y,track:we="normal",valueLabelDisplay:fe="off",valueLabelFormat:$=kN}=R,U=me(R,HQ),j=T({},R,{isRtl:O,max:he,min:pe,classes:W,disabled:se,disableSwap:ie,orientation:ne,marks:Z,color:V,size:oe,step:q,shiftStep:le,scale:X,track:we,valueLabelDisplay:fe,valueLabelFormat:$}),{axisProps:ae,getRootProps:Be,getHiddenInputProps:ke,getThumbProps:De,open:Je,active:ht,axis:It,focusedThumbIndex:_e,range:ye,dragging:Ze,marks:kt,values:Et,trackOffset:Oe,trackLeap:Bt,getThumbStyle:Le}=pj(T({},j,{rootRef:r}));j.marked=kt.length>0&&kt.some(Nr=>Nr.label),j.dragging=Ze,j.focusedThumbIndex=_e;const $e=JQ(j),_t=(n=(i=Y==null?void 0:Y.root)!=null?i:A.Root)!=null?n:GQ,ot=(s=(a=Y==null?void 0:Y.rail)!=null?a:A.Rail)!=null?s:jQ,Qt=(o=(l=Y==null?void 0:Y.track)!=null?l:A.Track)!=null?o:YQ,Ir=(c=(u=Y==null?void 0:Y.thumb)!=null?u:A.Thumb)!=null?c:XQ,Or=(d=(h=Y==null?void 0:Y.valueLabel)!=null?h:A.ValueLabel)!=null?d:qQ,da=(p=(f=Y==null?void 0:Y.mark)!=null?f:A.Mark)!=null?p:KQ,re=(m=(g=Y==null?void 0:Y.markLabel)!=null?g:A.MarkLabel)!=null?m:QQ,ce=(y=(b=Y==null?void 0:Y.input)!=null?b:A.Input)!=null?y:"input",Me=(v=J==null?void 0:J.root)!=null?v:M.root,Ye=(k=J==null?void 0:J.rail)!=null?k:M.rail,st=(C=J==null?void 0:J.track)!=null?C:M.track,Ht=(S=J==null?void 0:J.thumb)!=null?S:M.thumb,Nt=(_=J==null?void 0:J.valueLabel)!=null?_:M.valueLabel,Pt=(B=J==null?void 0:J.mark)!=null?B:M.mark,mt=(D=J==null?void 0:J.markLabel)!=null?D:M.markLabel,Jt=(E=J==null?void 0:J.input)!=null?E:M.input,Dn=Mt({elementType:_t,getSlotProps:Be,externalSlotProps:Me,externalForwardedProps:U,additionalProps:T({},OQ(_t)&&{as:F}),ownerState:T({},j,Me==null?void 0:Me.ownerState),className:[$e.root,K]}),Ut=Mt({elementType:ot,externalSlotProps:Ye,ownerState:j,className:$e.rail}),kr=Mt({elementType:Qt,externalSlotProps:st,additionalProps:{style:T({},ae[It].offset(Oe),ae[It].leap(Bt))},ownerState:T({},j,st==null?void 0:st.ownerState),className:$e.track}),Sn=Mt({elementType:Ir,getSlotProps:De,externalSlotProps:Ht,ownerState:T({},j,Ht==null?void 0:Ht.ownerState),className:$e.thumb}),xi=Mt({elementType:Or,externalSlotProps:Nt,ownerState:T({},j,Nt==null?void 0:Nt.ownerState),className:$e.valueLabel}),cn=Mt({elementType:da,externalSlotProps:Pt,ownerState:j,className:$e.mark}),ja=Mt({elementType:re,externalSlotProps:mt,ownerState:j,className:$e.markLabel}),bh=Mt({elementType:ce,getSlotProps:ke,externalSlotProps:Jt,ownerState:j});return x.jsxs(_t,T({},Dn,{children:[x.jsx(ot,T({},Ut)),x.jsx(Qt,T({},kr)),kt.filter(Nr=>Nr.value>=pe&&Nr.value<=he).map((Nr,Lr)=>{const ha=Ky(Nr.value,pe,he),cl=ae[It].offset(ha);let Si;return we===!1?Si=Et.indexOf(Nr.value)!==-1:Si=we==="normal"&&(ye?Nr.value>=Et[0]&&Nr.value<=Et[Et.length-1]:Nr.value<=Et[0])||we==="inverted"&&(ye?Nr.value<=Et[0]||Nr.value>=Et[Et.length-1]:Nr.value>=Et[0]),x.jsxs(w.Fragment,{children:[x.jsx(da,T({"data-index":Lr},cn,!ho(da)&&{markActive:Si},{style:T({},cl,cn.style),className:Se(cn.className,Si&&$e.markActive)})),Nr.label!=null?x.jsx(re,T({"aria-hidden":!0,"data-index":Lr},ja,!ho(re)&&{markLabelActive:Si},{style:T({},cl,ja.style),className:Se($e.markLabel,ja.className,Si&&$e.markLabelActive),children:Nr.label})):null]},Lr)}),Et.map((Nr,Lr)=>{const ha=Ky(Nr,pe,he),cl=ae[It].offset(ha),Si=fe==="off"?ZQ:Or;return x.jsx(Si,T({},!ho(Si)&&{valueLabelFormat:$,valueLabelDisplay:fe,value:typeof $=="function"?$(X(Nr),Lr):$,index:Lr,open:Je===Lr||ht===Lr||fe==="on",disabled:se},xi,{children:x.jsx(Ir,T({"data-index":Lr},Sn,{className:Se($e.thumb,Sn.className,ht===Lr&&$e.active,_e===Lr&&$e.focusVisible),style:T({},cl,Le(Lr),Sn.style),children:x.jsx(ce,T({"data-index":Lr,"aria-label":te?te(Lr):L,"aria-valuenow":X(Nr),"aria-labelledby":N,"aria-valuetext":G?G(X(Nr),Lr):I,value:Et[Lr]},bh))}))}),Lr)})]}))}),Mf=eJ;function tJ(t){return Ge("MuiSwitch",t)}const Ci=je("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),rJ=["className","color","edge","size","sx"],nJ=ML(),iJ=t=>{const{classes:e,edge:r,size:n,color:i,checked:s,disabled:a}=t,o={root:["root",r&&`edge${Ee(r)}`,`size${Ee(n)}`],switchBase:["switchBase",`color${Ee(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=He(o,tJ,e);return T({},e,l)},sJ=Q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${Ee(r.edge)}`],e[`size${Ee(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ci.thumb}`]:{width:16,height:16},[`& .${Ci.switchBase}`]:{padding:4,[`&.${Ci.checked}`]:{transform:"translateX(16px)"}}}}]}),aJ=Q(ZL,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${Ci.input}`]:e.input},r.color!=="default"&&e[`color${Ee(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Ci.checked}`]:{transform:"translateX(20px)"},[`&.${Ci.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Ci.checked} + .${Ci.track}`]:{opacity:.5},[`&.${Ci.disabled} + .${Ci.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Ci.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Ci.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ir(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ci.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?jy(t.palette[e].main,.62):Gy(t.palette[e].main,.55)}`}},[`&.${Ci.checked} + .${Ci.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),oJ=Q("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),lJ=Q("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),cJ=w.forwardRef(function(e,r){const n=nJ({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:o="medium",sx:l}=n,c=me(n,rJ),u=T({},n,{color:s,edge:a,size:o}),d=iJ(u),h=x.jsx(lJ,{className:d.thumb,ownerState:u});return x.jsxs(sJ,{className:Se(d.root,i),sx:l,ownerState:u,children:[x.jsx(aJ,T({type:"checkbox",icon:h,checkedIcon:h,ref:r,ownerState:u},c,{classes:T({},d,{root:d.switchBase})})),x.jsx(oJ,{className:d.track,ownerState:u})]})}),uJ=cJ;function dJ(t){return Ge("MuiTab",t)}const hJ=je("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),uc=hJ,fJ=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],pJ=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:s,label:a,selected:o,disabled:l}=t,c={root:["root",s&&a&&"labelIcon",`textColor${Ee(r)}`,n&&"fullWidth",i&&"wrapped",o&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return He(c,dJ,e)},mJ=Q(ra,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${Ee(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>T({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${uc.iconWrapper}`]:T({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${uc.selected}`]:{opacity:1},[`&.${uc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${uc.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${uc.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${uc.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${uc.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),gJ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:y="inherit",value:b,wrapped:v=!1}=n,k=me(n,fJ),C=T({},n,{disabled:s,disableFocusRipple:a,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:o,textColor:y,wrapped:v}),S=pJ(C),_=l&&d&&w.isValidElement(l)?w.cloneElement(l,{className:Se(S.iconWrapper,l.props.className)}):l,B=E=>{!m&&h&&h(E,b),p&&p(E)},D=E=>{g&&!m&&h&&h(E,b),f&&f(E)};return x.jsxs(mJ,T({focusRipple:!a,className:Se(S.root,i),ref:r,role:"tab","aria-selected":m,disabled:s,onClick:B,onFocus:D,ownerState:C,tabIndex:m?0:-1},k,{children:[c==="top"||c==="start"?x.jsxs(w.Fragment,{children:[_,d]}):x.jsxs(w.Fragment,{children:[d,_]}),u]}))}),yJ=gJ;function bJ(t){return Ge("MuiToolbar",t)}je("MuiToolbar",["root","gutters","regular","dense"]);const vJ=["className","component","disableGutters","variant"],wJ=t=>{const{classes:e,disableGutters:r,variant:n}=t;return He({root:["root",!r&&"gutters",n]},bJ,e)},xJ=Q("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>T({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),SJ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:o="regular"}=n,l=me(n,vJ),c=T({},n,{component:s,disableGutters:a,variant:o}),u=wJ(c);return x.jsx(xJ,T({as:s,className:Se(u.root,i),ref:r,ownerState:c},l))}),kJ=SJ,CJ=br(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),TJ=br(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function _J(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function PJ(t,e,r,n={},i=()=>{}){const{ease:s=_J,duration:a=300}=n;let o=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=h=>{if(c){i(new Error("Animation cancelled"));return}o===null&&(o=h);const p=Math.min(1,(h-o)/a);if(e[t]=s(p)*(r-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===r?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const BJ=["onChange"],NJ={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function MJ(t){const{onChange:e}=t,r=me(t,BJ),n=w.useRef(),i=w.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return Gr(()=>{const a=om(()=>{const l=n.current;s(),l!==n.current&&e(n.current)}),o=Va(i.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),w.useEffect(()=>{s(),e(n.current)},[e]),x.jsx("div",T({style:NJ,ref:i},r))}function EJ(t){return Ge("MuiTabScrollButton",t)}const RJ=je("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),DJ=RJ,IJ=["className","slots","slotProps","direction","orientation","disabled"],LJ=t=>{const{classes:e,orientation:r,disabled:n}=t;return He({root:["root",r,n&&"disabled"]},EJ,e)},FJ=Q(ra,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})(({ownerState:t})=>T({width:40,flexShrink:0,opacity:.8,[`&.${DJ.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),AJ=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiTabScrollButton"}),{className:a,slots:o={},slotProps:l={},direction:c}=s,u=me(s,IJ),d=qn(),h=T({isRtl:d},s),p=LJ(h),f=(n=o.StartScrollButtonIcon)!=null?n:CJ,m=(i=o.EndScrollButtonIcon)!=null?i:TJ,g=Mt({elementType:f,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=Mt({elementType:m,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return x.jsx(FJ,T({component:"div",className:Se(p.root,a),ref:r,role:null,ownerState:h,tabIndex:null},u,{children:c==="left"?x.jsx(f,T({},g)):x.jsx(m,T({},y))}))}),OJ=AJ;function $J(t){return Ge("MuiTabs",t)}const VJ=je("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Aw=VJ,zJ=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],CN=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,TN=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,og=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(t,i);else{i.focus();return}}},WJ=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=t;return He({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},$J,l)},HJ=Q("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Aw.scrollButtons}`]:e.scrollButtons},{[`& .${Aw.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>T({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${Aw.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),UJ=Q("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})(({ownerState:t})=>T({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),GJ=Q("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})(({ownerState:t})=>T({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),jJ=Q("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>T({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),YJ=Q(MJ)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),_N={},XJ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTabs"}),i=Ns(),s=qn(),{"aria-label":a,"aria-labelledby":o,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:y=OJ,scrollButtons:b="auto",selectionFollowsFocus:v,slots:k={},slotProps:C={},TabIndicatorProps:S={},TabScrollButtonProps:_={},textColor:B="primary",value:D,variant:E="standard",visibleScrollbar:R=!1}=n,O=me(n,zJ),L=E==="scrollable",I=g==="vertical",N=I?"scrollTop":"scrollLeft",F=I?"top":"left",A=I?"bottom":"right",M=I?"clientHeight":"clientWidth",V=I?"height":"width",W=T({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:I,scrollButtons:b,textColor:B,variant:E,visibleScrollbar:R,fixed:!L,hideScrollbar:L&&!R,scrollableX:L&&!I,scrollableY:L&&I,centered:c&&!L,scrollButtonsHideMobile:!p}),K=WJ(W),ie=Mt({elementType:k.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:W}),se=Mt({elementType:k.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:W}),[te,G]=w.useState(!1),[Z,he]=w.useState(_N),[pe,ne]=w.useState(!1),[le,oe]=w.useState(!1),[q,X]=w.useState(!1),[J,Y]=w.useState({overflow:"hidden",scrollbarWidth:0}),we=new Map,fe=w.useRef(null),$=w.useRef(null),U=()=>{const Le=fe.current;let $e;if(Le){const ot=Le.getBoundingClientRect();$e={clientWidth:Le.clientWidth,scrollLeft:Le.scrollLeft,scrollTop:Le.scrollTop,scrollLeftNormalized:rH(Le,s?"rtl":"ltr"),scrollWidth:Le.scrollWidth,top:ot.top,bottom:ot.bottom,left:ot.left,right:ot.right}}let _t;if(Le&&D!==!1){const ot=$.current.children;if(ot.length>0){const Qt=ot[we.get(D)];_t=Qt?Qt.getBoundingClientRect():null}}return{tabsMeta:$e,tabMeta:_t}},j=Ke(()=>{const{tabsMeta:Le,tabMeta:$e}=U();let _t=0,ot;if(I)ot="top",$e&&Le&&(_t=$e.top-Le.top+Le.scrollTop);else if(ot=s?"right":"left",$e&&Le){const Ir=s?Le.scrollLeftNormalized+Le.clientWidth-Le.scrollWidth:Le.scrollLeft;_t=(s?-1:1)*($e[ot]-Le[ot]+Ir)}const Qt={[ot]:_t,[V]:$e?$e[V]:0};if(isNaN(Z[ot])||isNaN(Z[V]))he(Qt);else{const Ir=Math.abs(Z[ot]-Qt[ot]),Or=Math.abs(Z[V]-Qt[V]);(Ir>=1||Or>=1)&&he(Qt)}}),ae=(Le,{animation:$e=!0}={})=>{$e?PJ(N,fe.current,Le,{duration:i.transitions.duration.standard}):fe.current[N]=Le},Be=Le=>{let $e=fe.current[N];I?$e+=Le:($e+=Le*(s?-1:1),$e*=s&&yL()==="reverse"?-1:1),ae($e)},ke=()=>{const Le=fe.current[M];let $e=0;const _t=Array.from($.current.children);for(let ot=0;ot<_t.length;ot+=1){const Qt=_t[ot];if($e+Qt[M]>Le){ot===0&&($e=Le);break}$e+=Qt[M]}return $e},De=()=>{Be(-1*ke())},Je=()=>{Be(ke())},ht=w.useCallback(Le=>{Y({overflow:null,scrollbarWidth:Le})},[]),It=()=>{const Le={};Le.scrollbarSizeListener=L?x.jsx(YJ,{onChange:ht,className:Se(K.scrollableX,K.hideScrollbar)}):null;const _t=L&&(b==="auto"&&(pe||le)||b===!0);return Le.scrollButtonStart=_t?x.jsx(y,T({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ie},orientation:g,direction:s?"right":"left",onClick:De,disabled:!pe},_,{className:Se(K.scrollButtons,_.className)})):null,Le.scrollButtonEnd=_t?x.jsx(y,T({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:se},orientation:g,direction:s?"left":"right",onClick:Je,disabled:!le},_,{className:Se(K.scrollButtons,_.className)})):null,Le},_e=Ke(Le=>{const{tabsMeta:$e,tabMeta:_t}=U();if(!(!_t||!$e)){if(_t[F]<$e[F]){const ot=$e[N]+(_t[F]-$e[F]);ae(ot,{animation:Le})}else if(_t[A]>$e[A]){const ot=$e[N]+(_t[A]-$e[A]);ae(ot,{animation:Le})}}}),ye=Ke(()=>{L&&b!==!1&&X(!q)});w.useEffect(()=>{const Le=om(()=>{fe.current&&j()});let $e;const _t=Ir=>{Ir.forEach(Or=>{Or.removedNodes.forEach(da=>{var re;(re=$e)==null||re.unobserve(da)}),Or.addedNodes.forEach(da=>{var re;(re=$e)==null||re.observe(da)})}),Le(),ye()},ot=Va(fe.current);ot.addEventListener("resize",Le);let Qt;return typeof ResizeObserver<"u"&&($e=new ResizeObserver(Le),Array.from($.current.children).forEach(Ir=>{$e.observe(Ir)})),typeof MutationObserver<"u"&&(Qt=new MutationObserver(_t),Qt.observe($.current,{childList:!0})),()=>{var Ir,Or;Le.clear(),ot.removeEventListener("resize",Le),(Ir=Qt)==null||Ir.disconnect(),(Or=$e)==null||Or.disconnect()}},[j,ye]),w.useEffect(()=>{const Le=Array.from($.current.children),$e=Le.length;if(typeof IntersectionObserver<"u"&&$e>0&&L&&b!==!1){const _t=Le[0],ot=Le[$e-1],Qt={root:fe.current,threshold:.99},Ir=ce=>{ne(!ce[0].isIntersecting)},Or=new IntersectionObserver(Ir,Qt);Or.observe(_t);const da=ce=>{oe(!ce[0].isIntersecting)},re=new IntersectionObserver(da,Qt);return re.observe(ot),()=>{Or.disconnect(),re.disconnect()}}},[L,b,q,u==null?void 0:u.length]),w.useEffect(()=>{G(!0)},[]),w.useEffect(()=>{j()}),w.useEffect(()=>{_e(_N!==Z)},[_e,Z]),w.useImperativeHandle(l,()=>({updateIndicator:j,updateScrollButtons:ye}),[j,ye]);const Ze=x.jsx(jJ,T({},S,{className:Se(K.indicator,S.className),ownerState:W,style:T({},Z,S.style)}));let kt=0;const Et=w.Children.map(u,Le=>{if(!w.isValidElement(Le))return null;const $e=Le.props.value===void 0?kt:Le.props.value;we.set($e,kt);const _t=$e===D;return kt+=1,w.cloneElement(Le,T({fullWidth:E==="fullWidth",indicator:_t&&!te&&Ze,selected:_t,selectionFollowsFocus:v,onChange:m,textColor:B,value:$e},kt===1&&D===!1&&!Le.props.tabIndex?{tabIndex:0}:{}))}),Oe=Le=>{const $e=$.current,_t=on($e).activeElement;if(_t.getAttribute("role")!=="tab")return;let Qt=g==="horizontal"?"ArrowLeft":"ArrowUp",Ir=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&s&&(Qt="ArrowRight",Ir="ArrowLeft"),Le.key){case Qt:Le.preventDefault(),og($e,_t,TN);break;case Ir:Le.preventDefault(),og($e,_t,CN);break;case"Home":Le.preventDefault(),og($e,null,CN);break;case"End":Le.preventDefault(),og($e,null,TN);break}},Bt=It();return x.jsxs(HJ,T({className:Se(K.root,d),ownerState:W,ref:r,as:h},O,{children:[Bt.scrollButtonStart,Bt.scrollbarSizeListener,x.jsxs(UJ,{className:K.scroller,ownerState:W,style:{overflow:J.overflow,[I?`margin${s?"Left":"Right"}`:"marginBottom"]:R?void 0:-J.scrollbarWidth},ref:fe,children:[x.jsx(GJ,{"aria-label":a,"aria-labelledby":o,"aria-orientation":g==="vertical"?"vertical":null,className:K.flexContainer,ownerState:W,onKeyDown:Oe,ref:$,role:"tablist",children:Et}),te&&Ze]}),Bt.scrollButtonEnd]}))}),qJ=XJ;function KJ(t){return Ge("MuiTextField",t)}je("MuiTextField",["root"]);const QJ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],JJ={standard:LC,filled:lF,outlined:CF},ZJ=t=>{const{classes:e}=t;return He({root:["root"]},KJ,e)},eZ=Q(cF,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),tZ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:m,InputLabelProps:g,inputProps:y,InputProps:b,inputRef:v,label:k,maxRows:C,minRows:S,multiline:_=!1,name:B,onBlur:D,onChange:E,onFocus:R,placeholder:O,required:L=!1,rows:I,select:N=!1,SelectProps:F,type:A,value:M,variant:V="outlined"}=n,W=me(n,QJ),K=T({},n,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:_,required:L,select:N,variant:V}),ie=ZJ(K),se={};V==="outlined"&&(g&&typeof g.shrink<"u"&&(se.notched=g.shrink),se.label=k),N&&((!F||!F.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const te=ca(m),G=f&&te?`${te}-helper-text`:void 0,Z=k&&te?`${te}-label`:void 0,he=JJ[V],pe=x.jsx(he,T({"aria-describedby":G,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:_,name:B,rows:I,maxRows:C,minRows:S,type:A,value:M,id:te,inputRef:v,onBlur:D,onChange:E,onFocus:R,placeholder:O,inputProps:y},se,b));return x.jsxs(eZ,T({className:Se(ie.root,o),disabled:u,error:d,fullWidth:p,ref:r,required:L,color:l,variant:V,ownerState:K},W,{children:[k!=null&&k!==""&&x.jsx(gF,T({htmlFor:te,id:Z},g,{children:k})),N?x.jsx(NF,T({"aria-describedby":G,id:te,labelId:Z,value:M,input:pe},F,{children:a})):pe,f&&x.jsx(dF,T({id:G},h,{children:f}))]}))}),fp=tZ,VC=br(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),rZ=br(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),nZ=br(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),iZ=br(x.jsx("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist"),lv=br(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),MF=br(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),EF=br(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),sZ=br(x.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),aZ=br(x.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),PN=br(x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),oZ=br(x.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),lZ=br([x.jsx("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),x.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"MusicNoteTwoTone"),cZ=br(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers"),uZ=br(x.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove");function il(t){const[e,r]=w.useState(!1);return x.jsxs(x.Fragment,{children:[x.jsx(PU,{position:"static",title:"Siuuu",children:x.jsxs(kJ,{sx:{display:"flex"},children:[x.jsx(fi,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:()=>{r(!0)},children:x.jsx(aZ,{})}),x.jsx(cr,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title})]})}),x.jsx("div",{style:{flex:1,display:"flex",overflow:"auto",flexDirection:"column"},children:t.children}),x.jsx(sX,{open:e,onClose:()=>{r(!1)},children:x.jsxs(pm,{children:[x.jsxs(pl,{component:dl,to:"/",children:[x.jsx(ml,{children:x.jsx(sZ,{})}),x.jsx(gl,{children:"Home"})]}),x.jsxs(pl,{component:dl,to:"/todo",children:[x.jsx(ml,{children:x.jsx(iZ,{})}),x.jsx(gl,{children:"Todo"})]}),x.jsxs(pl,{component:dl,to:"/counter",children:[x.jsx(ml,{children:x.jsx(cZ,{})}),x.jsx(gl,{children:"Counter"})]}),x.jsxs(pl,{component:dl,to:"/rating",children:[x.jsx(ml,{children:x.jsx(PN,{})}),x.jsx(gl,{children:"Rating"})]}),x.jsxs(pl,{component:dl,to:"/shifts",children:[x.jsx(ml,{children:x.jsx(PN,{})}),x.jsx(gl,{children:"Shifts"})]}),x.jsxs(pl,{component:dl,to:"/music",children:[x.jsx(ml,{children:x.jsx(oZ,{})}),x.jsx(gl,{children:"Chord Generator"})]}),x.jsxs(pl,{component:dl,to:"/progression",children:[x.jsx(ml,{children:x.jsx(lZ,{})}),x.jsx(gl,{children:"Progression"})]}),x.jsxs(pl,{component:dl,to:"/math",children:[x.jsx(ml,{children:x.jsx(rZ,{})}),x.jsx(gl,{children:"Math"})]})]})})]})}function dZ(){w.useEffect(()=>{setTimeout(()=>{console.log("This text will be displayed after 2 seconds."),e(!0)},500)},[]);const[t,e]=w.useState(!1);return x.jsx(il,{title:"Home",children:x.jsx(u9,{justifyContent:"center",alignContent:"center",children:t?"This is the content test":x.jsx("div",{style:{width:700,margin:"auto"},children:x.jsx(sY,{size:700,color:"secondary"})})})})}function hZ({todos:t,onChange:e}){const[r,n]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(-1),[l,c]=w.useState(""),u=d=>{};return x.jsxs(x.Fragment,{children:[x.jsxs(hp,{children:[x.jsxs(cr,{color:"primary",children:["You have ",t.length," item",t.length<1||t.length>1?"s":""]}),x.jsx(pm,{children:t.map((d,h)=>x.jsx(bF,{secondaryAction:x.jsxs(x.Fragment,{children:[x.jsx(fi,{edge:"end","aria-label":"edit",onClick:()=>{o(h),c(t[h])},children:x.jsx(EF,{})}),x.jsx(fi,{edge:"end","aria-label":"delete",onClick:()=>{e(t.filter((p,f)=>f!==h))},children:x.jsx(MF,{})})]}),children:d},h))}),x.jsx(fp,{error:i,id:"outlined",value:r,label:"New item",onChange:d=>n(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(console.log("dialog"),r.length>0?(s(!1),e([...t,r]),n("")):s(!0))}})]}),x.jsx(fm,{open:a>=0,onClose:()=>o(-1),disableRestoreFocus:!0,children:x.jsx(fp,{inputRef:u,autoFocus:!0,error:i,id:"outlined",value:l,onChange:d=>c(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),l.length>0?(s(!1),e(t.map((h,p)=>a===p?l:h)),console.log("setting index"),o(-1)):s(!0))}})})]})}function fZ(){const[t,e]=w.useState([[]]),[r,n]=w.useState(0),[i,s]=w.useState(["List 1"]);function a(l){const c=[...t];c[r]=l,e(c)}function o(l,c){n(c)}return x.jsxs(il,{title:"Todo",children:[x.jsxs("div",{style:{display:"flex"},children:[x.jsx(qJ,{value:r,onChange:o,variant:"scrollable",children:t.map((l,c)=>x.jsx(yJ,{style:{textTransform:"none"},label:c==r?x.jsxs("div",{children:[x.jsx(LC,{inputProps:{maxLength:15},style:{width:120,textAlign:"center"},onChange:u=>{const d=i;return d[c]=u.target.value,s(d)},disableUnderline:!0,size:"small",defaultValue:i[c]}),t.length>1&&x.jsx(fi,{onClick:()=>{e([...t].filter((u,d)=>d!==c)),r>0&&n(r-1),s([...i].filter((u,d)=>d!==c))},children:x.jsx(lv,{})})]}):i[c]},c))}),x.jsx(fi,{onClick:()=>{e([...t,[]]),n(t.length),s([...i,`List ${t.length+1}`])},children:x.jsx(VC,{})})]}),x.jsx(hZ,{todos:t[r],onChange:l=>a(l)})]})}var RF={exports:{}},DF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=w;function pZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mZ=typeof Object.is=="function"?Object.is:pZ,gZ=mm.useSyncExternalStore,yZ=mm.useRef,bZ=mm.useEffect,vZ=mm.useMemo,wZ=mm.useDebugValue;DF.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=yZ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=vZ(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&a.hasValue){var f=a.value;if(i(f,p))return d=f}return d=p}if(f=d,mZ(u,p))return f;var m=n(p);return i!==void 0&&i(f,m)?f:(u=p,d=m)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=gZ(t,s[0],s[1]);return bZ(function(){a.hasValue=!0,a.value=o},[o]),wZ(o),o};RF.exports=DF;var xZ=RF.exports,gs="default"in Xc?Ct:Xc,BN=Symbol.for("react-redux-context"),NN=typeof globalThis<"u"?globalThis:{};function SZ(){if(!gs.createContext)return{};const t=NN[BN]??(NN[BN]=new Map);let e=t.get(gs.createContext);return e||(e=gs.createContext(null),t.set(gs.createContext,e)),e}var Xl=SZ(),kZ=()=>{throw new Error("uSES not initialized!")};function zC(t=Xl){return function(){return gs.useContext(t)}}var IF=zC(),LF=kZ,CZ=t=>{LF=t},TZ=(t,e)=>t===e;function _Z(t=Xl){const e=t===Xl?IF:zC(t),r=(n,i={})=>{const{equalityFn:s=TZ,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();gs.useRef(!0);const h=gs.useCallback({[n.name](f){return n(f)}}[n.name],[n,u,a.stabilityCheck]),p=LF(l.addNestedSub,o.getState,c||o.getState,h,s);return gs.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var PZ=_Z();function BZ(t){t()}function NZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){BZ(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MN={notify(){},get:()=>[]};function MZ(t,e){let r,n=MN,i=0,s=!1;function a(m){u();const g=n.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function o(){n.notify()}function l(){f.onStateChange&&f.onStateChange()}function c(){return s}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=NZ())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=MN)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const f={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return f}var EZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RZ=EZ?gs.useLayoutEffect:gs.useEffect;function DZ({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=gs.useMemo(()=>{const c=MZ(t);return{store:t,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),o=gs.useMemo(()=>t.getState(),[t]);RZ(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=e||Xl;return gs.createElement(l.Provider,{value:a},r)}var IZ=DZ;function FF(t=Xl){const e=t===Xl?IF:zC(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var LZ=FF();function FZ(t=Xl){const e=t===Xl?LZ:FF(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var AZ=FZ();CZ(xZ.useSyncExternalStoreWithSelector);const OZ=AZ.withTypes(),$Z=PZ.withTypes();function ai(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",EN=VZ,Ow=()=>Math.random().toString(36).substring(7).split("").join("."),zZ={INIT:`@@redux/INIT${Ow()}`,REPLACE:`@@redux/REPLACE${Ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ow()}`},Zy=zZ;function WC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AF(t,e,r){if(typeof t!="function")throw new Error(ai(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ai(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ai(1));return r(AF)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((g,y)=>{a.set(y,g)}))}function u(){if(l)throw new Error(ai(3));return i}function d(g){if(typeof g!="function")throw new Error(ai(4));if(l)throw new Error(ai(5));let y=!0;c();const b=o++;return a.set(b,g),function(){if(y){if(l)throw new Error(ai(6));y=!1,c(),a.delete(b),s=null}}}function h(g){if(!WC(g))throw new Error(ai(7));if(typeof g.type>"u")throw new Error(ai(8));if(typeof g.type!="string")throw new Error(ai(17));if(l)throw new Error(ai(9));try{l=!0,i=n(i,g)}finally{l=!1}return(s=a).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(ai(10));n=g,h({type:Zy.REPLACE})}function f(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ai(11));function b(){const k=y;k.next&&k.next(u())}return b(),{unsubscribe:g(b)}},[EN](){return this}}}return h({type:Zy.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[EN]:f}}function WZ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Zy.INIT})>"u")throw new Error(ai(12));if(typeof r(void 0,{type:Zy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ai(13))})}function HZ(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{WZ(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=a[d],f=h(p,o);if(typeof f>"u")throw o&&o.type,new Error(ai(14));c[d]=f,l=l||f!==p}return l=l||n.length!==Object.keys(a).length,l?c:a}}function e0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function UZ(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(ai(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=e0(...o)(i.dispatch),{...i,dispatch:s}}}function GZ(t){return WC(t)&&"type"in t&&typeof t.type=="string"}var OF=Symbol.for("immer-nothing"),RN=Symbol.for("immer-draftable"),ks=Symbol.for("immer-state");function Ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Od=Object.getPrototypeOf;function ql(t){return!!t&&!!t[ks]}function Ko(t){var e;return t?$F(t)||Array.isArray(t)||!!t[RN]||!!((e=t.constructor)!=null&&e[RN])||uv(t)||dv(t):!1}var jZ=Object.prototype.constructor.toString();function $F(t){if(!t||typeof t!="object")return!1;const e=Od(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jZ}function t0(t,e){cv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function cv(t){const e=t[ks];return e?e.type_:Array.isArray(t)?1:uv(t)?2:dv(t)?3:0}function r1(t,e){return cv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VF(t,e,r){const n=cv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function YZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function uv(t){return t instanceof Map}function dv(t){return t instanceof Set}function vc(t){return t.copy_||t.base_}function n1(t,e){if(uv(t))return new Map(t);if(dv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&$F(t))return Od(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[ks];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Od(t),r)}function HC(t,e=!1){return hv(t)||ql(t)||!Ko(t)||(cv(t)>1&&(t.set=t.add=t.clear=t.delete=XZ),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>HC(n,!0))),t}function XZ(){Ta(2)}function hv(t){return Object.isFrozen(t)}var qZ={};function iu(t){const e=qZ[t];return e||Ta(0,t),e}var pp;function zF(){return pp}function KZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DN(t,e){e&&(iu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function i1(t){s1(t),t.drafts_.forEach(QZ),t.drafts_=null}function s1(t){t===pp&&(pp=t.parent_)}function IN(t){return pp=KZ(pp,t)}function QZ(t){const e=t[ks];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[ks].modified_&&(i1(e),Ta(4)),Ko(t)&&(t=r0(e,t),e.parent_||n0(e,t)),e.patches_&&iu("Patches").generateReplacementPatches_(r[ks].base_,t,e.patches_,e.inversePatches_)):t=r0(e,r,[]),i1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OF?t:void 0}function r0(t,e,r){if(hv(e))return e;const n=e[ks];if(!n)return t0(e,(i,s)=>FN(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return n0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),t0(s,(o,l)=>FN(t,n,i,o,l,r,a)),n0(t,i,!1),r&&t.patches_&&iu("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function FN(t,e,r,n,i,s,a){if(ql(i)){const o=s&&e&&e.type_!==3&&!r1(e.assigned_,n)?s.concat(n):void 0,l=r0(t,i,o);if(VF(r,n,l),ql(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ko(i)&&!hv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;r0(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&n0(t,i)}}function n0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&HC(e,r)}function JZ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:zF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=UC;r&&(i=[n],s=mp);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var UC={get(t,e){if(e===ks)return t;const r=vc(t);if(!r1(r,e))return ZZ(t,r,e);const n=r[e];return t.finalized_||!Ko(n)?n:n===$w(t.base_,e)?(Vw(t),t.copy_[e]=o1(n,t)):n},has(t,e){return e in vc(t)},ownKeys(t){return Reflect.ownKeys(vc(t))},set(t,e,r){const n=WF(vc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=$w(vc(t),e),s=i==null?void 0:i[ks];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(YZ(r,i)&&(r!==void 0||r1(t.base_,e)))return!0;Vw(t),a1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $w(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Vw(t),a1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=vc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ta(11)},getPrototypeOf(t){return Od(t.base_)},setPrototypeOf(){Ta(12)}},mp={};t0(UC,(t,e)=>{mp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mp.deleteProperty=function(t,e){return mp.set.call(this,t,e,void 0)};mp.set=function(t,e,r){return UC.set.call(this,t[0],e,r,t[0])};function $w(t,e){const r=t[ks];return(r?vc(r):t)[e]}function ZZ(t,e,r){var i;const n=WF(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function WF(t,e){if(!(e in t))return;let r=Od(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Od(r)}}function a1(t){t.modified_||(t.modified_=!0,t.parent_&&a1(t.parent_))}function Vw(t){t.copy_||(t.copy_=n1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Ta(6),n!==void 0&&typeof n!="function"&&Ta(7);let i;if(Ko(e)){const s=IN(this),a=o1(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?i1(s):s1(s)}return DN(s,n),LN(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===OF&&(i=void 0),this.autoFreeze_&&HC(i,!0),n){const s=[],a=[];iu("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Ta(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ko(t)||Ta(8),ql(t)&&(t=HF(t));const e=IN(this),r=o1(t,void 0);return r[ks].isManual_=!0,s1(e),r}finishDraft(t,e){const r=t&&t[ks];(!r||!r.isManual_)&&Ta(9);const{scope_:n}=r;return DN(n,e),LN(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=iu("Patches").applyPatches_;return ql(t)?n(t,e):this.produce(t,i=>n(i,e))}};function o1(t,e){const r=uv(t)?iu("MapSet").proxyMap_(t,e):dv(t)?iu("MapSet").proxySet_(t,e):JZ(t,e);return(e?e.scope_:zF()).drafts_.push(r),r}function HF(t){return ql(t)||Ta(10,t),UF(t)}function UF(t){if(!Ko(t)||hv(t))return t;const e=t[ks];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=n1(t,e.scope_.immer_.useStrictShallowCopy_)}else r=n1(t,!0);return t0(r,(n,i)=>{VF(r,n,UF(i))}),e&&(e.finalized_=!1),r}var Cs=new eee,GF=Cs.produce;Cs.produceWithPatches.bind(Cs);Cs.setAutoFreeze.bind(Cs);Cs.setUseStrictShallowCopy.bind(Cs);Cs.applyPatches.bind(Cs);Cs.createDraft.bind(Cs);Cs.finishDraft.bind(Cs);function tee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ree(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var AN=t=>Array.isArray(t)?t:[t];function iee(t){const e=Array.isArray(t[0])?t[0]:t;return nee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function see(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var aee=class{constructor(t){this.value=t}deref(){return this.value}},oee=typeof WeakRef<"u"?WeakRef:aee,lee=0,ON=1;function lg(){return{s:lee,v:void 0,o:null,p:null}}function GC(t,e={}){let r=lg();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const g=m.get(f);g===void 0?(o=lg(),m.set(f,o)):o=g}else{let m=o.p;m===null&&(o.p=m=new Map);const g=m.get(f);g===void 0?(o=lg(),m.set(f,o)):o=g}}const c=o;let u;if(o.s===ON?u=o.v:(u=t.apply(null,arguments),s++),c.s=ON,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new oee(u):u}return c.v=u,u}return a.clearCache=()=>{r=lg(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function jF(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),tee(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=GC,argsMemoizeOptions:f=[],devModeChecks:m={}}=u,g=AN(h),y=AN(f),b=iee(i),v=d(function(){return s++,c.apply(null,arguments)},...g),k=p(function(){a++;const S=see(b,arguments);return o=v.apply(null,S),o},...y);return Object.assign(k,{resultFunc:c,memoizedResultFunc:v,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var cee=jF(GC),uee=Object.assign((t,e=cee)=>{ree(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>uee});function YF(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var dee=YF(),hee=YF,fee=(...t)=>{const e=jF(...t),r=Object.assign((...n)=>{const i=e(...n),s=(a,...o)=>i(ql(a)?HF(a):a,...o);return Object.assign(s,i),s},{withTypes:()=>r});return r};fee(GC);var pee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?e0:e0.apply(null,arguments)};function $d(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(ns(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>GZ(n)&&n.type===t,r}var XF=class of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,of.prototype)}static get[Symbol.species](){return of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new of(...e[0].concat(this)):new of(...e.concat(this))}};function $N(t){return Ko(t)?GF(t,()=>{}):t}function VN(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(ns(10));const n=r.insert(e,t);return t.set(e,n),n}function mee(t){return typeof t=="boolean"}var gee=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new XF;return r&&(mee(r)?a.push(dee):a.push(hee(r.extraArgument))),a},yee="RTK_autoBatch",qF=t=>e=>{setTimeout(e,t)},bee=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qF(10),vee=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?bee:t.type==="callback"?t.queueNotification:qF(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[yee]),s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},wee=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new XF(t);return n&&i.push(vee(typeof n=="object"?n:void 0)),i},xee=!0;function See(t){const e=gee(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(WC(r))o=HZ(r);else throw new Error(ns(1));let l;typeof n=="function"?l=n(e):l=e();let c=e0;i&&(c=pee({trace:!xee,...typeof i=="object"&&i}));const u=UZ(...l),d=wee(u);let h=typeof a=="function"?a(d):d();const p=c(...h);return AF(o,s,p)}function KF(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ns(28));if(o in e)throw new Error(ns(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function kee(t){return typeof t=="function"}function Cee(t,e){let[r,n,i]=KF(e),s;if(kee(t))s=()=>$N(t());else{const o=$N(t);s=()=>o}function a(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(ql(u)){const p=d(u,l);return p===void 0?u:p}else{if(Ko(u))return GF(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(ns(9))}return h}}return u},o)}return a.getInitialState=s,a}var Tee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_ee=(t=21)=>{let e="",r=t;for(;r--;)e+=Tee[Math.random()*64|0];return e},Pee=Symbol.for("rtk-slice-createasyncthunk");function Bee(t,e){return`${t}/${e}`}function Nee({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Pee];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ns(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Ree()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,k){const C=typeof v=="string"?v:v.type;if(!C)throw new Error(ns(12));if(C in c.sliceCaseReducersByType)throw new Error(ns(13));return c.sliceCaseReducersByType[C]=k,u},addMatcher(v,k){return c.sliceMatchers.push({matcher:v,reducer:k}),u},exposeAction(v,k){return c.actionCreators[v]=k,u},exposeCaseReducer(v,k){return c.sliceCaseReducersByName[v]=k,u}};l.forEach(v=>{const k=o[v],C={reducerName:v,type:Bee(s,v),createNotation:typeof i.reducers=="function"};Iee(k)?Fee(C,k,u,e):Dee(C,k,u)});function d(){const[v={},k=[],C=void 0]=typeof i.extraReducers=="function"?KF(i.extraReducers):[i.extraReducers],S={...v,...c.sliceCaseReducersByType};return Cee(i.initialState,_=>{for(let B in S)_.addCase(B,S[B]);for(let B of c.sliceMatchers)_.addMatcher(B.matcher,B.reducer);for(let B of k)_.addMatcher(B.matcher,B.reducer);C&&_.addDefaultCase(C)})}const h=v=>v,p=new Map;let f;function m(v,k){return f||(f=d()),f(v,k)}function g(){return f||(f=d()),f.getInitialState()}function y(v,k=!1){function C(_){let B=_[v];return typeof B>"u"&&k&&(B=g()),B}function S(_=h){const B=VN(p,k,{insert:()=>new WeakMap});return VN(B,_,{insert:()=>{const D={};for(const[E,R]of Object.entries(i.selectors??{}))D[E]=Mee(R,_,g,k);return D}})}return{reducerPath:v,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const b={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...y(a),injectInto(v,{reducerPath:k,...C}={}){const S=k??a;return v.inject({reducerPath:S,reducer:m},C),{...b,...y(S,!0)}}};return b}}function Mee(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Eee=Nee();function Ree(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Dee({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Lee(n))throw new Error(ns(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?$d(t,a):$d(t))}function Iee(t){return t._reducerDefinitionType==="asyncThunk"}function Lee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Fee({type:t,reducerName:e},r,n,i){if(!i)throw new Error(ns(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:a||cg,pending:o||cg,rejected:l||cg,settled:c||cg})}function cg(){}var Aee=(t,e)=>{if(typeof t!="function")throw new Error(ns(32))},jC="listenerMiddleware",Oee=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=$d(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ns(21));return Aee(s),{predicate:i,type:e,effect:s}},$ee=Object.assign(t=>{const{type:e,predicate:r,effect:n}=Oee(t);return{id:_ee(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ns(22))}}},{withTypes:()=>$ee}),Vee=Object.assign($d(`${jC}/add`),{withTypes:()=>Vee});$d(`${jC}/removeAll`);var zee=Object.assign($d(`${jC}/remove`),{withTypes:()=>zee});function ns(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Wee={value:0,lastChange:""},QF=Eee({name:"counter",initialState:Wee,reducers:{increment(t){t.value+=1},incrementByAmount(t,e){t.value+=e.payload,t.lastChange=e.type}}}),{increment:abe,incrementByAmount:zN}=QF.actions,Hee=QF.reducer;function Uee(){const t=OZ(),[e,r]=w.useState(50),n=$Z(o=>o.counter.value);function i(){const o=zN(e);t(o)}function s(){const o=zN(-e);t(o)}const a=(o,l)=>{r(l)};return x.jsxs(il,{title:"Counter",children:[x.jsx(fi,{onClick:s,children:x.jsx(uZ,{})}),x.jsx(fi,{onClick:i,children:x.jsx(VC,{})}),x.jsx(hp,{children:x.jsx(Mf,{value:e,onChange:a,valueLabelDisplay:"on"})}),x.jsx(cr,{variant:"h1",align:"center",children:n})]})}function Gee(){const[t,e]=w.useState(1),r=(n,i)=>{e(i)};return x.jsx(il,{title:"Rating",children:x.jsxs(hp,{children:[x.jsx(B9,{children:x.jsx(hp,{children:x.jsx(SQ,{value:t,onChange:r,size:"large",max:46})})}),x.jsxs(cr,{color:"pink",variant:"h1",children:["The rating you have chosen is ",t]})]})})}function jee(){return x.jsxs("div",{style:{flexDirection:"column",display:"flex",height:"100%",border:"10px solid green",boxSizing:"border-box"},children:[x.jsx("div",{style:{border:"3px solid blue",height:"100px"}}),x.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",border:"3px solid orange",flex:1},children:[x.jsx("div",{style:{border:"3px solid yellow",width:"100px"}}),x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",border:"3px solid red",flex:1},children:x.jsx("button",{children:"sIUUUU"})})]}),x.jsx("div",{style:{height:"100px",border:"3px solid pink"}})]})}const Yee=["localeText"],l1=w.createContext(null),YC=function(e){const{localeText:r}=e,n=me(e,Yee),{utils:i,localeText:s}=w.useContext(l1)??{utils:void 0,localeText:void 0},a=Fe({props:n,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=a,p=w.useMemo(()=>T({},h,s,r),[h,s,r]),f=w.useMemo(()=>{if(!l)return i||null;const y=new l({locale:d,formats:c,instance:u});if(!y.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return y},[l,d,c,u,i]),m=w.useMemo(()=>f?{minDate:f.date("1900-01-01T00:00:00.000"),maxDate:f.date("2099-12-31T00:00:00.000")}:null,[f]),g=w.useMemo(()=>({utils:f,defaultDates:m,localeText:p}),[m,f,p]);return x.jsx(l1.Provider,{value:g,children:o})},Xee=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:T({},t)}}}}),JF={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,r)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${r.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},qee=JF;Xee(JF);const gu=()=>{const t=w.useContext(l1);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=w.useMemo(()=>T({},qee,t.localeText),[t.localeText]);return w.useMemo(()=>T({},t,{localeText:e}),[t,e])},nr=()=>gu().utils,gm=()=>gu().defaultDates,wi=()=>gu().localeText,yu=t=>{const e=nr(),r=w.useRef();return r.current===void 0&&(r.current=e.date(void 0,t)),r.current},Kee=br(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Qee=br(x.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Jee=br(x.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Zee=br(x.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),ete=br(x.jsxs(w.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");br(x.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");br(x.jsxs(w.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const tte=br(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function rte(t){return Ge("MuiPickersArrowSwitcher",t)}je("MuiPickersArrowSwitcher",["root","spacer","button"]);const nte=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],ite=["ownerState"],ste=["ownerState"],ate=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),ote=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),WN=Q(fi,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),lte=t=>{const{classes:e}=t;return He({root:["root"],spacer:["spacer"],button:["button"]},rte,e)},ZF=w.forwardRef(function(e,r){const n=qn(),i=Fe({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:a,slots:o,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:h,isPreviousDisabled:p,isPreviousHidden:f,onGoToPrevious:m,previousLabel:g,labelId:y}=i,b=me(i,nte),v=i,k=lte(v),C={isDisabled:c,isHidden:u,goTo:d,label:h},S={isDisabled:p,isHidden:f,goTo:m,label:g},_=(o==null?void 0:o.previousIconButton)??WN,B=Mt({elementType:_,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:T({},v,{hidden:S.isHidden}),className:k.button}),D=(o==null?void 0:o.nextIconButton)??WN,E=Mt({elementType:D,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"start",onClick:C.goTo},ownerState:T({},v,{hidden:C.isHidden}),className:k.button}),R=(o==null?void 0:o.leftArrowIcon)??Qee,O=Mt({elementType:R,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),L=me(O,ite),I=(o==null?void 0:o.rightArrowIcon)??Jee,N=Mt({elementType:I,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),F=me(N,ste);return x.jsxs(ate,T({ref:r,className:Se(k.root,a),ownerState:v},b,{children:[x.jsx(_,T({},B,{children:n?x.jsx(I,T({},F)):x.jsx(R,T({},L))})),s?x.jsx(cr,{variant:"subtitle1",component:"span",id:y,children:s}):x.jsx(ote,{className:k.spacer,ownerState:v}),x.jsx(D,T({},E,{children:n?x.jsx(R,T({},L)):x.jsx(I,T({},F))}))]}))}),to=(t,e)=>t.length!==e.length?!1:e.every(r=>t.includes(r)),eA=({openTo:t,defaultOpenTo:e,views:r,defaultViews:n})=>{const i=r??n;let s;if(t!=null)s=t;else if(i.includes(e))s=e;else if(i.length>0)s=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:s}},tA=["hours","minutes","seconds"],gp=t=>tA.includes(t),cte=t=>tA.includes(t)||t==="meridiem",ute=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,yp=(t,e,r)=>r&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,dte=(t,e,r,n)=>{const i=yp(n.getHours(t),e,r);return n.setHours(t,i)},HN=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),ym=(t,e)=>(r,n)=>t?e.isAfter(r,n):HN(r,e)>HN(n,e),rA=(t,{format:e,views:r,ampm:n})=>{if(e!=null)return e;const i=t.formats;return to(r,["hours"])?n?`${i.hours12h} ${i.meridiem}`:i.hours24h:to(r,["minutes"])?i.minutes:to(r,["seconds"])?i.seconds:to(r,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:to(r,["hours","minutes","seconds"])?n?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:n?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`};function bm({onChange:t,onViewChange:e,openTo:r,view:n,views:i,autoFocus:s,focusedView:a,onFocusedViewChange:o}){const l=w.useRef(r),c=w.useRef(i),u=w.useRef(i.includes(r)?r:i[0]),[d,h]=xs({name:"useViews",state:"view",controlled:n,default:u.current}),p=w.useRef(s?d:null),[f,m]=xs({name:"useViews",state:"focusedView",controlled:a,default:p.current});w.useEffect(()=>{(l.current&&l.current!==r||c.current&&c.current.some(_=>!i.includes(_)))&&(h(i.includes(r)?r:i[0]),c.current=i,l.current=r)},[r,h,d,i]);const g=i.indexOf(d),y=i[g-1]??null,b=i[g+1]??null,v=Ke((_,B)=>{m(B?_:D=>_===D?null:D),o==null||o(_,B)}),k=Ke(_=>{v(_,!0),_!==d&&(h(_),e&&e(_))}),C=Ke(()=>{b&&k(b)}),S=Ke((_,B,D)=>{const E=B==="finish",R=D?i.indexOf(D)<i.length-1:!!b;if(t(_,E&&R?"partial":B,D),D&&D!==d){const L=i[i.indexOf(D)+1];L&&k(L)}else E&&C()});return{view:d,setView:k,focusedView:f,setFocusedView:v,nextView:b,previousView:y,defaultView:i.includes(r)?r:i[0],goToNextView:C,setValueAndGoToNextView:S}}function hte(t,{disableFuture:e,maxDate:r,timezone:n}){const i=nr();return w.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isBefore(s,r)?s:r);return!i.isAfter(a,t)},[e,r,t,i,n])}function fte(t,{disablePast:e,minDate:r,timezone:n}){const i=nr();return w.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isAfter(s,r)?s:r);return!i.isBefore(a,t)},[e,r,t,i,n])}function XC(t,e,r,n){const i=nr(),s=ute(t,i),a=w.useCallback(o=>{const l=t==null?null:dte(t,o,!!e,i);r(l,n??"partial")},[e,t,r,n,i]);return{meridiemMode:s,handleMeridiemChange:a}}const bp=36,fv=2,pv=320,pte=280,qC=336,nA=232,mte=48,mv=Q("div")({overflow:"hidden",width:pv,maxHeight:qC,display:"flex",flexDirection:"column",margin:"0 auto"});function gte(t){return Ge("MuiTimeClock",t)}je("MuiTimeClock",["root","arrowSwitcher"]);const Vd=220,po=36,vp={x:Vd/2,y:Vd/2},iA={x:vp.x,y:0},yte=iA.x-vp.x,bte=iA.y-vp.y,vte=t=>t*(180/Math.PI),sA=(t,e,r)=>{const n=e-vp.x,i=r-vp.y,s=Math.atan2(yte,bte)-Math.atan2(n,i);let a=vte(s);a=Math.round(a/t)*t,a%=360;const o=Math.floor(a/t)||0,l=n**2+i**2,c=Math.sqrt(l);return{value:o,distance:c}},wte=(t,e,r=1)=>{const n=r*6;let{value:i}=sA(n,t,e);return i=i*r%60,i},xte=(t,e,r)=>{const{value:n,distance:i}=sA(30,t,e);let s=n||12;return r?s%=12:i<Vd/2-po&&(s+=12,s%=24),s};function Ste(t){return Ge("MuiClockPointer",t)}je("MuiClockPointer",["root","thumb"]);const kte=["className","hasSelected","isInner","type","viewValue"],Cte=t=>{const{classes:e}=t;return He({root:["root"],thumb:["thumb"]},Ste,e)},Tte=Q("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),_te=Q("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${po/2}px)`,border:`${(po-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function Pte(t){const e=Fe({props:t,name:"MuiClockPointer"}),{className:r,isInner:n,type:i,viewValue:s}=e,a=me(e,kte),o=w.useRef(i);w.useEffect(()=>{o.current=i},[i]);const l=T({},e,{shouldAnimate:o.current!==i}),c=Cte(l),u=()=>{let h=360/(i==="hours"?12:60)*s;return i==="hours"&&s>12&&(h-=360),{height:Math.round((n?.26:.4)*Vd),transform:`rotateZ(${h}deg)`}};return x.jsx(Tte,T({style:u(),className:Se(r,c.root),ownerState:l},a,{children:x.jsx(_te,{ownerState:l,className:c.thumb})}))}function Bte(t){return Ge("MuiClock",t)}je("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const i0=(t,e,r)=>{let n=e;return n=t.setHours(n,t.getHours(r)),n=t.setMinutes(n,t.getMinutes(r)),n=t.setSeconds(n,t.getSeconds(r)),n},Ef=({date:t,disableFuture:e,disablePast:r,maxDate:n,minDate:i,isDateDisabled:s,utils:a,timezone:o})=>{const l=i0(a,a.date(void 0,o),t);r&&a.isBefore(i,l)&&(i=l),e&&a.isAfter(n,l)&&(n=l);let c=t,u=t;for(a.isBefore(t,i)&&(c=i,u=null),a.isAfter(t,n)&&(u&&(u=n),c=null);c||u;){if(c&&a.isAfter(c,n)&&(c=null),u&&a.isBefore(u,i)&&(u=null),c){if(!s(c))return c;c=a.addDays(c,1)}if(u){if(!s(u))return u;u=a.addDays(u,-1)}}return null},Nte=(t,e)=>e==null||!t.isValid(e)?null:e,sa=(t,e,r)=>e==null||!t.isValid(e)?r:e,Mte=(t,e,r)=>!t.isValid(e)&&e!=null&&!t.isValid(r)&&r!=null?!0:t.isEqual(e,r),KC=(t,e)=>{const n=[t.startOfYear(e)];for(;n.length<12;){const i=n[n.length-1];n.push(t.addMonths(i,1))}return n},QC=(t,e,r)=>r==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),Nl=(t,e)=>{const r=t.setHours(t.date(),e==="am"?2:14);return t.format(r,"meridiem")},Ete=["year","month","day"],UN=t=>Ete.includes(t),JC=(t,{format:e,views:r},n)=>{if(e!=null)return e;const i=t.formats;return to(r,["year"])?i.year:to(r,["month"])?i.month:to(r,["day"])?i.dayOfMonth:to(r,["month","year"])?`${i.month} ${i.year}`:to(r,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Rte=(t,e)=>{const r=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>t.addDays(r,n))},Dte=t=>{const{classes:e}=t;return He({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},Bte,e)},Ite=Q("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),Lte=Q("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Fte=Q("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),Ate=Q("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Ote=Q("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),$te=Q(fi,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:po,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),Vte=Q(fi,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:po,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),GN=Q(cr,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function zte(t){const e=Fe({props:t,name:"MuiClock"}),{ampm:r,ampmInClock:n,autoFocus:i,children:s,value:a,handleMeridiemChange:o,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:h,type:p,viewValue:f,disabled:m=!1,readOnly:g,className:y}=e,b=e,v=nr(),k=wi(),C=w.useRef(!1),S=Dte(b),_=l(f,p),B=!r&&p==="hours"&&(f<1||f>12),D=(V,W)=>{m||g||l(V,p)||d(V,W)},E=(V,W)=>{let{offsetX:K,offsetY:ie}=V;if(K===void 0){const te=V.target.getBoundingClientRect();K=V.changedTouches[0].clientX-te.left,ie=V.changedTouches[0].clientY-te.top}const se=p==="seconds"||p==="minutes"?wte(K,ie,u):xte(K,ie,!!r);D(se,W)},R=V=>{C.current=!0,E(V,"shallow")},O=V=>{C.current&&(E(V,"finish"),C.current=!1)},L=V=>{V.buttons>0&&E(V.nativeEvent,"shallow")},I=V=>{C.current&&(C.current=!1),E(V.nativeEvent,"finish")},N=w.useMemo(()=>p==="hours"?!0:f%5===0,[p,f]),F=p==="minutes"?u:1,A=w.useRef(null);Gr(()=>{i&&A.current.focus()},[i]);const M=V=>{if(!C.current)switch(V.key){case"Home":D(0,"partial"),V.preventDefault();break;case"End":D(p==="minutes"?59:23,"partial"),V.preventDefault();break;case"ArrowUp":D(f+F,"partial"),V.preventDefault();break;case"ArrowDown":D(f-F,"partial"),V.preventDefault();break}};return x.jsxs(Ite,{className:Se(y,S.root),children:[x.jsxs(Lte,{className:S.clock,children:[x.jsx(Ate,{onTouchMove:R,onTouchEnd:O,onMouseUp:I,onMouseMove:L,ownerState:{disabled:m},className:S.squareMask}),!_&&x.jsxs(w.Fragment,{children:[x.jsx(Ote,{className:S.pin}),a!=null&&x.jsx(Pte,{type:p,viewValue:f,isInner:B,hasSelected:N})]}),x.jsx(Fte,{"aria-activedescendant":h,"aria-label":k.clockLabelText(p,a,v),ref:A,role:"listbox",onKeyDown:M,tabIndex:0,className:S.wrapper,children:s})]}),r&&n&&x.jsxs(w.Fragment,{children:[x.jsx($te,{onClick:g?void 0:()=>o("am"),disabled:m||c===null,ownerState:b,className:S.amButton,title:Nl(v,"am"),children:x.jsx(GN,{variant:"caption",className:S.meridiemText,children:Nl(v,"am")})}),x.jsx(Vte,{disabled:m||c===null,onClick:g?void 0:()=>o("pm"),ownerState:b,className:S.pmButton,title:Nl(v,"pm"),children:x.jsx(GN,{variant:"caption",className:S.meridiemText,children:Nl(v,"pm")})})]})]})}function Wte(t){return Ge("MuiClockNumber",t)}const ug=je("MuiClockNumber",["root","selected","disabled"]),Hte=["className","disabled","index","inner","label","selected"],Ute=t=>{const{classes:e,selected:r,disabled:n}=t;return He({root:["root",r&&"selected",n&&"disabled"]},Wte,e)},Gte=Q("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${ug.disabled}`]:e.disabled},{[`&.${ug.selected}`]:e.selected}]})(({theme:t})=>({height:po,width:po,position:"absolute",left:`calc((100% - ${po}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${ug.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${ug.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:T({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function aA(t){const e=Fe({props:t,name:"MuiClockNumber"}),{className:r,disabled:n,index:i,inner:s,label:a,selected:o}=e,l=me(e,Hte),c=e,u=Ute(c),d=i%12/12*Math.PI*2-Math.PI/2,h=(Vd-po-2)/2*(s?.65:1),p=Math.round(Math.cos(d)*h),f=Math.round(Math.sin(d)*h);return x.jsx(Gte,T({className:Se(r,u.root),"aria-disabled":n?!0:void 0,"aria-selected":o?!0:void 0,role:"option",style:{transform:`translate(${p}px, ${f+(Vd-po)/2}px`},ownerState:c},l,{children:a}))}const jte=({ampm:t,value:e,getClockNumberText:r,isDisabled:n,selectedId:i,utils:s})=>{const a=e?s.getHours(e):null,o=[],l=t?1:0,c=t?12:23,u=d=>a===null?!1:t?d===12?a===12||a===0:a===d||a-12===d:a===d;for(let d=l;d<=c;d+=1){let h=d.toString();d===0&&(h="00");const p=!t&&(d===0||d>12);h=s.formatNumber(h);const f=u(d);o.push(x.jsx(aA,{id:f?i:void 0,index:d,inner:p,selected:f,disabled:n(d),label:h,"aria-label":r(h)},d))}return o},jN=({utils:t,value:e,isDisabled:r,getClockNumberText:n,selectedId:i})=>{const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(([a,o],l)=>{const c=a===e;return x.jsx(aA,{label:o,id:c?i:void 0,index:l+1,inner:!1,disabled:r(a),selected:c,"aria-label":n(o)},a)})},ZC=({timezone:t,value:e,defaultValue:r,onChange:n,valueManager:i})=>{const s=nr(),a=w.useRef(r),o=e??a.current??i.emptyValue,l=w.useMemo(()=>i.getTimezone(s,o),[s,i,o]),c=Ke(p=>l==null?p:i.setTimezone(s,l,p)),u=t??l??"default",d=w.useMemo(()=>i.setTimezone(s,u,o),[i,s,u,o]),h=Ke((p,...f)=>{const m=c(p);n==null||n(m,...f)});return{value:d,handleValueChange:h,timezone:u}},uh=({name:t,timezone:e,value:r,defaultValue:n,onChange:i,valueManager:s})=>{const[a,o]=xs({name:t,state:"value",controlled:r,default:n??s.emptyValue}),l=Ke((c,...u)=>{o(c),i==null||i(c,...u)});return ZC({timezone:e,value:a,defaultValue:void 0,onChange:l,valueManager:s})},Sa={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Yte=t=>Math.max(...t.map(e=>Sa[e.type]??1)),Vh=(t,e,r)=>{if(e===Sa.year)return t.startOfYear(r);if(e===Sa.month)return t.startOfMonth(r);if(e===Sa.day)return t.startOfDay(r);let n=r;return e<Sa.minutes&&(n=t.setMinutes(n,0)),e<Sa.seconds&&(n=t.setSeconds(n,0)),e<Sa.milliseconds&&(n=t.setMilliseconds(n,0)),n},Xte=({props:t,utils:e,granularity:r,timezone:n,getTodayDate:i})=>{let s=i?i():Vh(e,r,QC(e,n));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Vh(e,r,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Vh(e,r,t.maxDate));const a=ym(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=Vh(e,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:i0(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=Vh(e,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:i0(e,s,t.maxTime))),s},oA=(t,e)=>{const r=t.formatTokenMap[e];if(r==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},qte=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},gv=(t,e,r)=>{const n=[],i=t.date(void 0,e),s=t.startOfWeek(i),a=t.endOfWeek(i);let o=s;for(;t.isBefore(o,a);)n.push(o),o=t.addDays(o,1);return n.map(l=>t.formatByString(l,r))},lA=(t,e,r,n)=>{switch(r){case"month":return KC(t,t.date(void 0,e)).map(i=>t.formatByString(i,n));case"weekDay":return gv(t,e,n);case"meridiem":{const i=t.date(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(s=>t.formatByString(s,n))}default:return[]}},YN="s",Kte=["0","1","2","3","4","5","6","7","8","9"],Qte=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),YN)==="0"?Kte:Array.from({length:10}).map((n,i)=>t.formatByString(t.setSeconds(e,i),YN))},su=(t,e)=>{if(e[0]==="0")return t;const r=[];let n="";for(let i=0;i<t.length;i+=1){n+=t[i];const s=e.indexOf(n);s>-1&&(r.push(s.toString()),n="")}return r.join("")},eT=(t,e)=>e[0]==="0"?t:t.split("").map(r=>e[Number(r)]).join(""),XN=(t,e)=>{const r=su(t,e);return r!==" "&&!Number.isNaN(Number(r))},cA=(t,e)=>{let r=t;for(r=Number(r).toString();r.length<e;)r=`0${r}`;return r},uA=(t,e,r,n,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const a=t.setDate(r.longestMonth,e);return t.formatByString(a,i.format)}let s=e.toString();return i.hasLeadingZerosInInput&&(s=cA(s,i.maxLength)),eT(s,n)},Jte=(t,e,r,n,i,s,a,o)=>{const l=qte(n),c=n==="Home",u=n==="End",d=r.value===""||c||u,h=()=>{const f=i[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),m=v=>uA(t,v,f,s,r),g=r.type==="minutes"&&(o!=null&&o.minutesStep)?o.minutesStep:1;let b=parseInt(su(r.value,s),10)+l*g;if(d){if(r.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),r.format);l>0||c?b=f.minimum:b=f.maximum}return b%g!==0&&((l<0||c)&&(b+=g-(g+b)%g),(l>0||u)&&(b-=b%g)),b>f.maximum?m(f.minimum+(b-f.maximum-1)%(f.maximum-f.minimum+1)):b<f.minimum?m(f.maximum-(f.minimum-b-1)%(f.maximum-f.minimum+1)):m(b)},p=()=>{const f=lA(t,e,r.type,r.format);if(f.length===0)return r.value;if(d)return l>0||c?f[0]:f[f.length-1];const y=((f.indexOf(r.value)+l)%f.length+f.length)%f.length;return f[y]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?h():p()},tT=(t,e,r)=>{let n=t.value||t.placeholder;const i=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(su(n,r)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!i&&n.length===1&&(n=`${n}`),e==="input-rtl"&&(n=`${n}`),n},qN=(t,e,r,n)=>t.formatByString(t.parse(e,r),n),dA=(t,e,r)=>t.formatByString(t.date(void 0,e),r).length===4,hA=(t,e,r,n,i)=>{if(r!=="digit")return!1;const s=t.date(void 0,e);switch(n){case"year":return dA(t,e,i)?t.formatByString(t.setYear(s,1),i)==="0001":t.formatByString(t.setYear(s,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(s),i).length>1;case"day":return t.formatByString(t.startOfMonth(s),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),i).length>1;case"hours":return t.formatByString(t.setHours(s,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},Zte=(t,e,r)=>{const n=e.some(l=>l.type==="day"),i=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];n&&c.type==="weekDay"||(i.push(c.format),s.push(tT(c,"non-input",r)))}const a=i.join(" "),o=s.join(" ");return t.parse(o,a)},ere=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),tre=(t,e,r)=>{const i=t.map(s=>{const a=tT(s,r?"input-rtl":"input-ltr",e);return`${s.startSeparator}${a}${s.endSeparator}`}).join("");return r?`${i}`:i},rre=(t,e,r)=>{const n=t.date(void 0,r),i=t.endOfYear(n),s=t.endOfDay(n),{maxDaysInMonth:a,longestMonth:o}=KC(t,n).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:dA(t,r,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):a,longestMonth:o}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=gv(t,r,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return su(t.formatByString(t.endOfDay(n),l),e)!==c.toString()?{minimum:1,maximum:Number(su(t.formatByString(t.startOfDay(n),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},nre=(t,e,r,n,i)=>{switch(r.type){case"year":return t.setYear(i,t.getYear(n));case"month":return t.setMonth(i,t.getMonth(n));case"weekDay":{const s=gv(t,e,r.format),a=t.formatByString(n,r.format),o=s.indexOf(a),c=s.indexOf(r.value)-o;return t.addDays(n,c)}case"day":return t.setDate(i,t.getDate(n));case"meridiem":{const s=t.getHours(n)<12,a=t.getHours(i);return s&&a>=12?t.addHours(i,-12):!s&&a<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(n));case"minutes":return t.setMinutes(i,t.getMinutes(n));case"seconds":return t.setSeconds(i,t.getSeconds(n));default:return i}},KN={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},QN=(t,e,r,n,i,s)=>[...n].sort((a,o)=>KN[a.type]-KN[o.type]).reduce((a,o)=>!s||o.modified?nre(t,e,o,r,a):a,i),ire=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,sre=(t,e)=>{const r={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;r[c]={leftIndex:u,rightIndex:d}}),{neighbors:r,startIndex:0,endIndex:t.length-1};const n={},i={};let s=0,a=0,o=t.length-1;for(;o>=0;){a=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),a===-1&&(a=t.length-1);for(let l=a;l>=s;l-=1)i[l]=o,n[o]=l,o-=1;s=a+1}return t.forEach((l,c)=>{const u=i[c],d=u===0?null:n[u-1],h=u===t.length-1?null:n[u+1];r[c]={leftIndex:d,rightIndex:h}}),{neighbors:r,startIndex:n[0],endIndex:n[t.length-1]}},c1=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(r=>r.type===t):t,are=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const r=e.parse(t.value,t.format);return r?e.format(r,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},ore=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const r=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return r?e.getHours(r)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const r=e.parse(t.value,t.format);return r?e.getMonth(r)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},lre=["value","referenceDate"],vi={emptyValue:null,getTodayValue:QC,getInitialReferenceValue:t=>{let{value:e,referenceDate:r}=t,n=me(t,lre);return e!=null&&n.utils.isValid(e)?e:r??Xte(n)},cleanValue:Nte,areValuesEqual:Mte,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,r)=>r==null?null:t.setTimezone(r,e)},fA={updateReferenceValue:(t,e,r)=>e==null||!t.isValid(e)?r:e,getSectionsFromValue:(t,e,r,n)=>!t.isValid(e)&&!!r?r:n(e),getV7HiddenInputValueFromSections:ere,getV6InputValueFromSections:tre,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!t.isValid(r)?e.referenceValue:r})}),parseValueStr:(t,e,r)=>r(t.trim(),e)},rT=({value:t,referenceDate:e,utils:r,props:n,timezone:i})=>{const s=w.useMemo(()=>vi.getInitialReferenceValue({value:t,utils:r,props:n,referenceDate:e,granularity:Sa.day,timezone:i,getTodayDate:()=>QC(r,i,"date")}),[]);return t??s},cre=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],ure=t=>{const{classes:e}=t;return He({root:["root"],arrowSwitcher:["arrowSwitcher"]},gte,e)},dre=Q(mv,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),hre=Q(ZF,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),fre=["hours","minutes"],pre=w.forwardRef(function(e,r){const n=nr(),i=Fe({props:e,name:"MuiTimeClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:o,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:h,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:f,minTime:m,disableFuture:g,disablePast:y,minutesStep:b=1,shouldDisableTime:v,showViewSwitcher:k,onChange:C,view:S,views:_=fre,openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:O,disabled:L,readOnly:I,timezone:N}=i,F=me(i,cre),{value:A,handleValueChange:M,timezone:V}=uh({name:"TimeClock",timezone:N,value:u,defaultValue:d,onChange:C,valueManager:vi}),W=rT({value:A,referenceDate:h,utils:n,props:i,timezone:V}),K=wi(),ie=yu(V),{view:se,setView:te,previousView:G,nextView:Z,setValueAndGoToNextView:he}=bm({view:S,views:_,openTo:B,onViewChange:D,onChange:M,focusedView:E,onFocusedViewChange:R}),{meridiemMode:pe,handleMeridiemChange:ne}=XC(W,s,he),le=w.useCallback((Y,we)=>{const fe=ym(p,n),$=we==="hours"||we==="minutes"&&_.includes("seconds"),U=({start:ae,end:Be})=>!(m&&fe(m,Be)||f&&fe(ae,f)||g&&fe(ae,ie)||y&&fe(ie,$?Be:ae)),j=(ae,Be=1)=>{if(ae%Be!==0)return!1;if(v)switch(we){case"hours":return!v(n.setHours(W,ae),"hours");case"minutes":return!v(n.setMinutes(W,ae),"minutes");case"seconds":return!v(n.setSeconds(W,ae),"seconds");default:return!1}return!0};switch(we){case"hours":{const ae=yp(Y,pe,s),Be=n.setHours(W,ae),ke=n.setSeconds(n.setMinutes(Be,0),0),De=n.setSeconds(n.setMinutes(Be,59),59);return!U({start:ke,end:De})||!j(ae)}case"minutes":{const ae=n.setMinutes(W,Y),Be=n.setSeconds(ae,0),ke=n.setSeconds(ae,59);return!U({start:Be,end:ke})||!j(Y,b)}case"seconds":{const ae=n.setSeconds(W,Y);return!U({start:ae,end:ae})||!j(Y)}default:throw new Error("not supported")}},[s,W,p,f,pe,m,b,v,n,g,y,ie,_]),oe=ca(),q=w.useMemo(()=>{switch(se){case"hours":{const Y=(we,fe)=>{const $=yp(we,pe,s);he(n.setHours(W,$),fe,"hours")};return{onChange:Y,viewValue:n.getHours(W),children:jte({value:A,utils:n,ampm:s,onChange:Y,getClockNumberText:K.hoursClockNumberText,isDisabled:we=>L||le(we,"hours"),selectedId:oe})}}case"minutes":{const Y=n.getMinutes(W),we=(fe,$)=>{he(n.setMinutes(W,fe),$,"minutes")};return{viewValue:Y,onChange:we,children:jN({utils:n,value:Y,onChange:we,getClockNumberText:K.minutesClockNumberText,isDisabled:fe=>L||le(fe,"minutes"),selectedId:oe})}}case"seconds":{const Y=n.getSeconds(W),we=(fe,$)=>{he(n.setSeconds(W,fe),$,"seconds")};return{viewValue:Y,onChange:we,children:jN({utils:n,value:Y,onChange:we,getClockNumberText:K.secondsClockNumberText,isDisabled:fe=>L||le(fe,"seconds"),selectedId:oe})}}default:throw new Error("You must provide the type for ClockView")}},[se,n,A,s,K.hoursClockNumberText,K.minutesClockNumberText,K.secondsClockNumberText,pe,he,W,le,oe,L]),X=i,J=ure(X);return x.jsxs(dre,T({ref:r,className:Se(J.root,O),ownerState:X},F,{children:[x.jsx(zte,T({autoFocus:o??!!E,ampmInClock:a&&_.includes("hours"),value:A,type:se,ampm:s,minutesStep:b,isTimeDisabled:le,meridiemMode:pe,handleMeridiemChange:ne,selectedId:oe,disabled:L,readOnly:I},q)),k&&x.jsx(hre,{className:J.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>te(G),isPreviousDisabled:!G,previousLabel:K.openPreviousView,onGoToNext:()=>te(Z),isNextDisabled:!Z,nextLabel:K.openNextView,ownerState:X})]}))});function mre(t){return Ge("MuiDigitalClock",t)}je("MuiDigitalClock",["root","list","item"]);const gre=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],yre=t=>{const{classes:e}=t;return He({root:["root"],list:["list"],item:["item"]},mre,e)},bre=Q(mv,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:nA,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),vre=Q(FC,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),wre=Q(AC,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity)}})),xre=w.forwardRef(function(e,r){const n=nr(),i=w.useRef(null),s=qt(r,i),a=Fe({props:e,name:"MuiDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:c,slots:u,slotProps:d,value:h,defaultValue:p,referenceDate:f,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:g,minTime:y,disableFuture:b,disablePast:v,minutesStep:k=1,shouldDisableTime:C,onChange:S,view:_,openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:O,disabled:L,readOnly:I,views:N=["hours"],skipDisabled:F=!1,timezone:A}=a,M=me(a,gre),{value:V,handleValueChange:W,timezone:K}=uh({name:"DigitalClock",timezone:A,value:h,defaultValue:p,onChange:S,valueManager:vi}),ie=wi(),se=yu(K),te=w.useMemo(()=>T({},a,{alreadyRendered:!!i.current}),[a]),G=yre(te),Z=(u==null?void 0:u.digitalClockItem)??wre,he=Mt({elementType:Z,externalSlotProps:d==null?void 0:d.digitalClockItem,ownerState:{},className:G.item}),pe=rT({value:V,referenceDate:f,utils:n,props:a,timezone:K}),ne=Ke(Y=>W(Y,"finish","hours")),{setValueAndGoToNextView:le}=bm({view:_,views:N,openTo:B,onViewChange:D,onChange:ne,focusedView:E,onFocusedViewChange:R}),oe=Ke(Y=>{le(Y,"finish")});w.useEffect(()=>{if(i.current===null)return;const Y=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Y)return;const we=Y.offsetTop;(c||E)&&Y.focus(),i.current.scrollTop=we-4});const q=w.useCallback(Y=>{const we=ym(m,n),fe=()=>!(y&&we(y,Y)||g&&we(Y,g)||b&&we(Y,se)||v&&we(se,Y)),$=()=>n.getMinutes(Y)%k!==0?!1:C?!C(Y,"hours"):!0;return!fe()||!$()},[m,n,y,g,b,se,v,k,C]),X=w.useMemo(()=>{const Y=n.startOfDay(pe);return[Y,...Array.from({length:Math.ceil(24*60/l)-1},(we,fe)=>n.addMinutes(Y,l*(fe+1)))]},[pe,l,n]),J=X.findIndex(Y=>n.isEqual(Y,pe));return x.jsx(bre,T({ref:s,className:Se(G.root,O),ownerState:te},M,{children:x.jsx(vre,{role:"listbox","aria-label":ie.timePickerToolbarTitle,className:G.list,children:X.map((Y,we)=>{if(F&&q(Y))return null;const fe=n.isEqual(Y,V),$=n.format(Y,o?"fullTime12h":"fullTime24h"),U=J===we||J===-1&&we===0?0:-1;return x.jsx(Z,T({onClick:()=>!I&&oe(Y),selected:fe,disabled:L||q(Y),disableRipple:I,role:"option","aria-disabled":I,"aria-selected":fe,tabIndex:U},he,{children:$}),$)})})}))});function Sre(t){return Ge("MuiMultiSectionDigitalClock",t)}je("MuiMultiSectionDigitalClock",["root"]);function kre(t){return Ge("MuiMultiSectionDigitalClockSection",t)}je("MuiMultiSectionDigitalClockSection",["root","item"]);const Cre=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Tre=t=>{const{classes:e}=t;return He({root:["root"],item:["item"]},kre,e)},_re=Q(FC,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:nA,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Pre=Q(AC,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:mte,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity)}})),Bre=w.forwardRef(function(e,r){const n=w.useRef(null),i=qt(r,n),s=w.useRef(null),a=Fe({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:o,onChange:l,className:c,disabled:u,readOnly:d,items:h,active:p,slots:f,slotProps:m,skipDisabled:g}=a,y=me(a,Cre),b=w.useMemo(()=>T({},a,{alreadyRendered:!!n.current}),[a]),v=Tre(b),k=(f==null?void 0:f.digitalClockSectionItem)??Pre;w.useEffect(()=>{if(n.current===null)return;const S=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(p&&o&&S&&S.focus(),!S||s.current===S)return;s.current=S;const _=S.offsetTop;n.current.scrollTop=_-4});const C=h.findIndex(S=>S.isFocused(S.value));return x.jsx(_re,T({ref:i,className:Se(v.root,c),ownerState:b,autoFocusItem:o&&p,role:"listbox"},y,{children:h.map((S,_)=>{var O;const B=(O=S.isDisabled)==null?void 0:O.call(S,S.value),D=u||B;if(g&&D)return null;const E=S.isSelected(S.value),R=C===_||C===-1&&_===0?0:-1;return x.jsx(k,T({onClick:()=>!d&&l(S.value),selected:E,disabled:D,disableRipple:d,role:"option","aria-disabled":d||D||void 0,"aria-label":S.ariaLabel,"aria-selected":E,tabIndex:R,className:v.item},m==null?void 0:m.digitalClockSectionItem,{children:S.label}),S.label)})}))}),Nre=({now:t,value:e,utils:r,ampm:n,isDisabled:i,resolveAriaLabel:s,timeStep:a,valueOrReferenceDate:o})=>{const l=e?r.getHours(e):null,c=[],u=(p,f)=>{const m=f??l;return m===null?!1:n?p===12?m===12||m===0:m===p||m-12===p:m===p},d=p=>u(p,r.getHours(o)),h=n?11:23;for(let p=0;p<=h;p+=a){let f=r.format(r.setHours(t,p),n?"hours12h":"hours24h");const m=s(parseInt(f,10).toString());f=r.formatNumber(f),c.push({value:p,label:f,isSelected:u,isDisabled:i,isFocused:d,ariaLabel:m})}return c},JN=({value:t,utils:e,isDisabled:r,timeStep:n,resolveLabel:i,resolveAriaLabel:s,hasValue:a=!0})=>{const o=c=>t===null?!1:a&&t===c,l=c=>t===c;return[...Array.from({length:Math.ceil(60/n)},(c,u)=>{const d=n*u;return{value:d,label:e.formatNumber(i(d)),isDisabled:r,isSelected:o,isFocused:l,ariaLabel:s(d.toString())}})]},Mre=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Ere=t=>{const{classes:e}=t;return He({root:["root"]},Sre,e)},Rre=Q(mv,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),Dre=w.forwardRef(function(e,r){const n=nr(),i=qn(),s=Fe({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:o,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:h,referenceDate:p,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:m,minTime:g,disableFuture:y,disablePast:b,minutesStep:v=1,shouldDisableTime:k,onChange:C,view:S,views:_=["hours","minutes"],openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:O,disabled:L,readOnly:I,skipDisabled:N=!1,timezone:F}=s,A=me(s,Mre),{value:M,handleValueChange:V,timezone:W}=uh({name:"MultiSectionDigitalClock",timezone:F,value:d,defaultValue:h,onChange:C,valueManager:vi}),K=wi(),ie=yu(W),se=w.useMemo(()=>T({hours:1,minutes:5,seconds:5},o),[o]),te=rT({value:M,referenceDate:p,utils:n,props:s,timezone:W}),G=Ke((U,j,ae)=>V(U,j,ae)),Z=w.useMemo(()=>!a||!_.includes("hours")||_.includes("meridiem")?_:[..._,"meridiem"],[a,_]),{view:he,setValueAndGoToNextView:pe,focusedView:ne}=bm({view:S,views:Z,openTo:B,onViewChange:D,onChange:G,focusedView:E,onFocusedViewChange:R}),le=Ke(U=>{pe(U,"finish","meridiem")}),{meridiemMode:oe,handleMeridiemChange:q}=XC(te,a,le,"finish"),X=w.useCallback((U,j)=>{const ae=ym(f,n),Be=j==="hours"||j==="minutes"&&Z.includes("seconds"),ke=({start:Je,end:ht})=>!(g&&ae(g,ht)||m&&ae(Je,m)||y&&ae(Je,ie)||b&&ae(ie,Be?ht:Je)),De=(Je,ht=1)=>{if(Je%ht!==0)return!1;if(k)switch(j){case"hours":return!k(n.setHours(te,Je),"hours");case"minutes":return!k(n.setMinutes(te,Je),"minutes");case"seconds":return!k(n.setSeconds(te,Je),"seconds");default:return!1}return!0};switch(j){case"hours":{const Je=yp(U,oe,a),ht=n.setHours(te,Je),It=n.setSeconds(n.setMinutes(ht,0),0),_e=n.setSeconds(n.setMinutes(ht,59),59);return!ke({start:It,end:_e})||!De(Je)}case"minutes":{const Je=n.setMinutes(te,U),ht=n.setSeconds(Je,0),It=n.setSeconds(Je,59);return!ke({start:ht,end:It})||!De(U,v)}case"seconds":{const Je=n.setSeconds(te,U);return!ke({start:Je,end:Je})||!De(U)}default:throw new Error("not supported")}},[a,te,f,m,oe,g,v,k,n,y,b,ie,Z]),J=w.useCallback(U=>{switch(U){case"hours":return{onChange:j=>{const ae=yp(j,oe,a);pe(n.setHours(te,ae),"finish","hours")},items:Nre({now:ie,value:M,ampm:a,utils:n,isDisabled:j=>X(j,"hours"),timeStep:se.hours,resolveAriaLabel:K.hoursClockNumberText,valueOrReferenceDate:te})};case"minutes":return{onChange:j=>{pe(n.setMinutes(te,j),"finish","minutes")},items:JN({value:n.getMinutes(te),utils:n,isDisabled:j=>X(j,"minutes"),resolveLabel:j=>n.format(n.setMinutes(ie,j),"minutes"),timeStep:se.minutes,hasValue:!!M,resolveAriaLabel:K.minutesClockNumberText})};case"seconds":return{onChange:j=>{pe(n.setSeconds(te,j),"finish","seconds")},items:JN({value:n.getSeconds(te),utils:n,isDisabled:j=>X(j,"seconds"),resolveLabel:j=>n.format(n.setSeconds(ie,j),"seconds"),timeStep:se.seconds,hasValue:!!M,resolveAriaLabel:K.secondsClockNumberText})};case"meridiem":{const j=Nl(n,"am"),ae=Nl(n,"pm");return{onChange:q,items:[{value:"am",label:j,isSelected:()=>!!M&&oe==="am",isFocused:()=>!!te&&oe==="am",ariaLabel:j},{value:"pm",label:ae,isSelected:()=>!!M&&oe==="pm",isFocused:()=>!!te&&oe==="pm",ariaLabel:ae}]}}default:throw new Error(`Unknown view: ${U} found.`)}},[ie,M,a,n,se.hours,se.minutes,se.seconds,K.hoursClockNumberText,K.minutesClockNumberText,K.secondsClockNumberText,oe,pe,te,X,q]),Y=w.useMemo(()=>{if(!i)return Z;const j=Z.filter(ae=>ae!=="meridiem").toReversed();return Z.includes("meridiem")&&j.push("meridiem"),j},[i,Z]),we=w.useMemo(()=>Z.reduce((U,j)=>T({},U,{[j]:J(j)}),{}),[Z,J]),fe=s,$=Ere(fe);return x.jsx(Rre,T({ref:r,className:Se($.root,O),ownerState:fe,role:"group"},A,{children:Y.map(U=>x.jsx(Bre,{items:we[U].items,onChange:we[U].onChange,active:he===U,autoFocus:l??ne===U,disabled:L,readOnly:I,slots:c,slotProps:u,skipDisabled:N,"aria-label":K.selectViewText(U)},U))}))});function Ire(t){return Ge("MuiPickersDay",t)}const dc=je("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Lre=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Fre=t=>{const{selected:e,disableMargin:r,disableHighlightToday:n,today:i,disabled:s,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:o,classes:l}=t,c=a&&!o;return He({root:["root",e&&!c&&"selected",s&&"disabled",!r&&"dayWithMargin",!n&&i&&"today",a&&o&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Ire,l)},pA=({theme:t})=>T({},t.typography.caption,{width:bp,height:bp,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${dc.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${dc.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${dc.disabled}:not(.${dc.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${dc.disabled}&.${dc.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${fv}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${dc.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),mA=(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableMargin&&e.dayWithMargin,!r.disableHighlightToday&&r.today&&e.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Are=Q(ra,{name:"MuiPickersDay",slot:"Root",overridesResolver:mA})(pA),Ore=Q("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:mA})(({theme:t})=>T({},pA({theme:t}),{opacity:0,pointerEvents:"none"})),zh=()=>{},$re=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:a,disabled:o=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=zh,onBlur:f=zh,onKeyDown:m=zh,onMouseDown:g=zh,onMouseEnter:y=zh,outsideCurrentMonth:b,selected:v=!1,showDaysOutsideCurrentMonth:k=!1,children:C,today:S=!1}=n,_=me(n,Lre),B=T({},n,{autoFocus:i,disabled:o,disableHighlightToday:l,disableMargin:c,selected:v,showDaysOutsideCurrentMonth:k,today:S}),D=Fre(B),E=nr(),R=w.useRef(null),O=qt(R,r);Gr(()=>{i&&!o&&!u&&!b&&R.current.focus()},[i,o,u,b]);const L=N=>{g(N),b&&N.preventDefault()},I=N=>{o||h(a),b&&N.currentTarget.focus(),d&&d(N)};return b&&!k?x.jsx(Ore,{className:Se(D.root,D.hiddenDaySpacingFiller,s),ownerState:B,role:_.role}):x.jsx(Are,T({className:Se(D.root,s),ref:O,centerRipple:!0,disabled:o,tabIndex:v?0:-1,onKeyDown:N=>m(N,a),onFocus:N=>p(N,a),onBlur:N=>f(N,a),onMouseEnter:N=>y(N,a),onClick:I,onMouseDown:L},_,{ownerState:B,children:C||E.format(a,"dayOfMonth")}))}),Vre=w.memo($re);function gA(t,e,r,n){const{value:i,onError:s}=t,a=gu(),o=w.useRef(n),l=e({adapter:a,value:i,props:t});return w.useEffect(()=>{s&&!r(l,o.current)&&s(l,i),o.current=l},[r,s,o,l,i]),l}const zre=({utils:t,format:e})=>{let r=10,n=e,i=t.expandFormat(e);for(;i!==n;)if(n=i,i=t.expandFormat(n),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},Wre=({utils:t,expandedFormat:e})=>{const r=[],{start:n,end:i}=t.escapedCharacters,s=new RegExp(`(\\${n}[^\\${i}]*\\${i})+`,"g");let a=null;for(;a=s.exec(e);)r.push({start:a.index,end:s.lastIndex-1});return r},Hre=(t,e,r,n,i)=>{switch(n.type){case"year":return r.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),i).length,format:i});case"month":return r.fieldMonthPlaceholder({contentType:n.contentType,format:i});case"day":return r.fieldDayPlaceholder({format:i});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:n.contentType,format:i});case"hours":return r.fieldHoursPlaceholder({format:i});case"minutes":return r.fieldMinutesPlaceholder({format:i});case"seconds":return r.fieldSecondsPlaceholder({format:i});case"meridiem":return r.fieldMeridiemPlaceholder({format:i});default:return i}},Ure=({utils:t,timezone:e,date:r,shouldRespectLeadingZeros:n,localeText:i,localizedDigits:s,now:a,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=oA(t,o),u=hA(t,e,c.contentType,c.type,o),d=n?u:c.contentType==="digit",h=r!=null&&t.isValid(r);let p=h?t.formatByString(r,o):"",f=null;if(d)if(u)f=p===""?t.formatByString(a,o).length:p.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxDigitNumber' property on it's adapter`);f=c.maxLength,h&&(p=eT(cA(su(p,s),f),s))}return T({},c,{format:o,maxLength:f,value:p,placeholder:Hre(t,e,i,c,o),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},Gre=t=>{var p;const{utils:e,expandedFormat:r,escapedParts:n}=t,i=e.date(void 0),s=[];let a="";const o=Object.keys(e.formatTokenMap).sort((f,m)=>m.length-f.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${o.join("|")})*$`),u=new RegExp(`^(${o.join("|")})`),d=f=>n.find(m=>m.start<=f&&m.end>=f);let h=0;for(;h<r.length;){const f=d(h),m=f!=null,g=(p=l.exec(r.slice(h)))==null?void 0:p[1];if(!m&&g!=null&&c.test(g)){let y=g;for(;y.length>0;){const b=u.exec(y)[1];y=y.slice(b.length),s.push(Ure(T({},t,{now:i,token:b,startSeparator:a}))),a=""}h+=g.length}else{const y=r[h];m&&(f==null?void 0:f.start)===h||(f==null?void 0:f.end)===h||(s.length===0?a+=y:s[s.length-1].endSeparator+=y),h+=1}}return s.length===0&&a.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),s},jre=({isRtl:t,formatDensity:e,sections:r})=>r.map(n=>{const i=s=>{let a=s;return t&&a!==null&&a.includes(" ")&&(a=`${a}`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=i(n.startSeparator),n.endSeparator=i(n.endSeparator),n}),ZN=t=>{let e=zre(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const r=Wre(T({},t,{expandedFormat:e})),n=Gre(T({},t,{expandedFormat:e,escapedParts:r}));return jre(T({},t,{sections:n}))},Yre=t=>{const e=nr(),r=wi(),n=gu(),i=qn(),{valueManager:s,fieldValueManager:a,valueType:o,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:h,onChange:p,format:f,formatDensity:m="dense",selectedSections:g,onSelectedSectionsChange:y,shouldRespectLeadingZeros:b=!1,timezone:v,enableAccessibleFieldDOMStructure:k=!1}}=t,{timezone:C,value:S,handleValueChange:_}=ZC({timezone:v,value:u,defaultValue:d,onChange:p,valueManager:s}),B=w.useMemo(()=>Qte(e),[e]),D=w.useMemo(()=>rre(e,B,C),[e,B,C]),E=w.useCallback((G,Z=null)=>a.getSectionsFromValue(e,G,Z,he=>ZN({utils:e,timezone:C,localeText:r,localizedDigits:B,format:f,date:he,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:k,isRtl:i})),[a,f,r,B,i,b,e,m,C,k]),[R,O]=w.useState(()=>{const G=E(S),Z={sections:G,value:S,referenceValue:s.emptyValue,tempValueStrAndroid:null},he=Yte(G),pe=s.getInitialReferenceValue({referenceDate:h,value:S,utils:e,props:c,granularity:he,timezone:C});return T({},Z,{referenceValue:pe})}),[L,I]=xs({controlled:g,default:null,name:"useField",state:"selectedSections"}),N=G=>{I(G),y==null||y(G)},F=w.useMemo(()=>c1(L,R.sections),[L,R.sections]),A=F==="all"?0:F,M=({value:G,referenceValue:Z,sections:he})=>{if(O(ne=>T({},ne,{sections:he,value:G,referenceValue:Z,tempValueStrAndroid:null})),s.areValuesEqual(e,R.value,G))return;const pe={validationError:l({adapter:n,value:G,props:T({},c,{value:G,timezone:C})})};_(G,pe)},V=(G,Z)=>{const he=[...R.sections];return he[G]=T({},he[G],{value:Z,modified:!0}),he},W=()=>{M({value:s.emptyValue,referenceValue:R.referenceValue,sections:E(s.emptyValue)})},K=()=>{if(A==null)return;const G=R.sections[A],Z=a.getActiveDateManager(e,R,G),pe=Z.getSections(R.sections).filter(q=>q.value!=="").length===(G.value===""?0:1),ne=V(A,""),le=pe?null:e.getInvalidDate(),oe=Z.getNewValuesFromNewActiveDate(le);M(T({},oe,{sections:ne}))},ie=G=>{const Z=(ne,le)=>{const oe=e.parse(ne,f);if(oe==null||!e.isValid(oe))return null;const q=ZN({utils:e,timezone:C,localeText:r,localizedDigits:B,format:f,date:oe,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:k,isRtl:i});return QN(e,C,oe,q,le,!1)},he=a.parseValueStr(G,R.referenceValue,Z),pe=a.updateReferenceValue(e,he,R.referenceValue);M({value:he,referenceValue:pe,sections:E(he,R.sections)})},se=({activeSection:G,newSectionValue:Z,shouldGoToNextSection:he})=>{he&&A<R.sections.length-1&&N(A+1);const pe=a.getActiveDateManager(e,R,G),ne=V(A,Z),le=pe.getSections(ne),oe=Zte(e,le,B);let q,X;if(oe!=null&&e.isValid(oe)){const J=QN(e,C,oe,le,pe.referenceDate,!0);q=pe.getNewValuesFromNewActiveDate(J),X=!0}else q=pe.getNewValuesFromNewActiveDate(oe),X=(oe!=null&&!e.isValid(oe))!=(pe.date!=null&&!e.isValid(pe.date));return X?M(T({},q,{sections:ne})):O(J=>T({},J,q,{sections:ne,tempValueStrAndroid:null}))},te=G=>O(Z=>T({},Z,{tempValueStrAndroid:G}));return w.useEffect(()=>{const G=E(R.value);O(Z=>T({},Z,{sections:G}))},[f,e.locale,i]),w.useEffect(()=>{let G;s.areValuesEqual(e,R.value,S)?G=s.getTimezone(e,R.value)!==s.getTimezone(e,S):G=!0,G&&O(Z=>T({},Z,{value:S,referenceValue:a.updateReferenceValue(e,S,Z.referenceValue),sections:E(S)}))},[S]),{state:R,activeSectionIndex:A,parsedSelectedSections:F,setSelectedSections:N,clearValue:W,clearActiveSection:K,updateSectionValue:se,updateValueFromValueStr:ie,setTempAndroidValueStr:te,getSectionsFromValue:E,sectionsValueBoundaries:D,localizedDigits:B,timezone:C}},Xre=5e3,Ru=t=>t.saveQuery!=null,qre=({sections:t,updateSectionValue:e,sectionsValueBoundaries:r,localizedDigits:n,setTempAndroidValueStr:i,timezone:s})=>{const a=nr(),[o,l]=w.useState(null),c=Ke(()=>l(null));w.useEffect(()=>{var f;o!=null&&((f=t[o.sectionIndex])==null?void 0:f.type)!==o.sectionType&&c()},[t,o,c]),w.useEffect(()=>{if(o!=null){const f=setTimeout(()=>c(),Xre);return()=>{clearTimeout(f)}}return()=>{}},[o,c]);const u=({keyPressed:f,sectionIndex:m},g,y)=>{const b=f.toLowerCase(),v=t[m];if(o!=null&&(!y||y(o.value))&&o.sectionIndex===m){const C=`${o.value}${b}`,S=g(C,v);if(!Ru(S))return l({sectionIndex:m,value:C,sectionType:v.type}),S}const k=g(b,v);return Ru(k)&&!k.saveQuery?(c(),null):(l({sectionIndex:m,value:b,sectionType:v.type}),Ru(k)?null:k)},d=f=>{const m=(b,v,k)=>{const C=v.filter(S=>S.toLowerCase().startsWith(k));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},g=(b,v,k,C)=>{const S=_=>lA(a,s,v.type,_);if(v.contentType==="letter")return m(v.format,S(v.format),b);if(k&&C!=null&&oA(a,k).contentType==="letter"){const _=S(k),B=m(k,_,b);return Ru(B)?{saveQuery:!1}:T({},B,{sectionValue:C(B.sectionValue,_)})}return{saveQuery:!1}};return u(f,(b,v)=>{switch(v.type){case"month":{const k=C=>qN(a,C,a.formats.month,v.format);return g(b,v,a.formats.month,k)}case"weekDay":{const k=(C,S)=>S.indexOf(C).toString();return g(b,v,a.formats.weekday,k)}case"meridiem":return g(b,v);default:return{saveQuery:!1}}})},h=f=>{const m=(y,b)=>{const v=su(y,n),k=Number(v),C=r[b.type]({currentDate:null,format:b.format,contentType:b.contentType});if(k>C.maximum)return{saveQuery:!1};if(k<C.minimum)return{saveQuery:!0};const S=k*10>C.maximum||v.length===C.maximum.toString().length;return{sectionValue:uA(a,k,C,n,b),shouldGoToNextSection:S}};return u(f,(y,b)=>{if(b.contentType==="digit"||b.contentType==="digit-with-letter")return m(y,b);if(b.type==="month"){const v=hA(a,s,"digit","month","MM"),k=m(y,{type:b.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Ru(k))return k;const C=qN(a,k.sectionValue,"MM",b.format);return T({},k,{sectionValue:C})}if(b.type==="weekDay"){const v=m(y,b);if(Ru(v))return v;const k=gv(a,s,b.format)[Number(v.sectionValue)-1];return T({},v,{sectionValue:k})}return{saveQuery:!1}},y=>XN(y,n))};return{applyCharacterEditing:Ke(f=>{const m=t[f.sectionIndex],y=XN(f.keyPressed,n)?h(T({},f,{keyPressed:eT(f.keyPressed,n)})):d(f);if(y==null){i(null);return}e({activeSection:m,newSectionValue:y.sectionValue,shouldGoToNextSection:y.shouldGoToNextSection})}),resetCharacterQuery:c}};function Wu(t,e){return Array.isArray(e)?e.every(r=>t.indexOf(r)!==-1):t.indexOf(e)!==-1}const Kre=(t,e)=>r=>{(r.key==="Enter"||r.key===" ")&&(t(r),r.preventDefault(),r.stopPropagation()),e&&e(r)},Hs=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Hs(e.shadowRoot):e:null},yA="@media (pointer: fine)",Qre=t=>{const{internalProps:{disabled:e,readOnly:r=!1},forwardedProps:{sectionListRef:n,onBlur:i,onClick:s,onFocus:a,onInput:o,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:p,setSelectedSections:f,parsedSelectedSections:m,state:g,clearActiveSection:y,clearValue:b,updateSectionValue:v,updateValueFromValueStr:k,sectionOrder:C,areAllSectionsEmpty:S,sectionsValueBoundaries:_}=t,B=w.useRef(null),D=qt(n,B),E=wi(),R=nr(),O=ca(),[L,I]=w.useState(!1),N=w.useMemo(()=>({syncSelectionToDOM:()=>{if(!B.current)return;const X=document.getSelection();if(!X)return;if(m==null){X.rangeCount>0&&B.current.getRoot().contains(X.getRangeAt(0).startContainer)&&X.removeAllRanges(),L&&B.current.getRoot().blur();return}if(!B.current.getRoot().contains(Hs(document)))return;const J=new window.Range;let Y;m==="all"?Y=B.current.getRoot():g.sections[m].type==="empty"?Y=B.current.getSectionContainer(m):Y=B.current.getSectionContent(m),J.selectNodeContents(Y),Y.focus(),X.removeAllRanges(),X.addRange(J)},getActiveSectionIndexFromDOM:()=>{const X=Hs(document);return!X||!B.current||!B.current.getRoot().contains(X)?null:B.current.getSectionIndexFromDOMElement(X)},focusField:(X=0)=>{if(!B.current)return;const J=c1(X,g.sections);I(!0),B.current.getSectionContent(J).focus()},setSelectedSections:X=>{if(!B.current)return;const J=c1(X,g.sections);I((J==="all"?0:J)!==null),f(X)},isFieldFocused:()=>{const X=Hs(document);return!!B.current&&B.current.getRoot().contains(X)}}),[m,f,g.sections,L]),F=Ke(X=>{if(!B.current)return;const J=g.sections[X];B.current.getSectionContent(X).innerHTML=J.value||J.placeholder,N.syncSelectionToDOM()}),A=Ke((X,...J)=>{X.isDefaultPrevented()||!B.current||(I(!0),s==null||s(X,...J),m==="all"?setTimeout(()=>{const Y=document.getSelection().getRangeAt(0).startOffset;if(Y===0){f(C.startIndex);return}let we=0,fe=0;for(;fe<Y&&we<g.sections.length;){const $=g.sections[we];we+=1,fe+=`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`.length}f(we-1)}):L?B.current.getRoot().contains(X.target)||f(C.startIndex):(I(!0),f(C.startIndex)))}),M=Ke(X=>{if(o==null||o(X),!B.current||m!=="all")return;const Y=X.target.textContent??"";B.current.getRoot().innerHTML=g.sections.map(we=>`${we.startSeparator}${we.value||we.placeholder}${we.endSeparator}`).join(""),N.syncSelectionToDOM(),Y.length===0||Y.charCodeAt(0)===10?(p(),b(),f("all")):Y.length>1?k(Y):h({keyPressed:Y,sectionIndex:0})}),V=Ke(X=>{if(l==null||l(X),r||m!=="all"){X.preventDefault();return}const J=X.clipboardData.getData("text");X.preventDefault(),p(),k(J)}),W=Ke((...X)=>{if(a==null||a(...X),L||!B.current)return;I(!0),B.current.getSectionIndexFromDOMElement(Hs(document))!=null||f(C.startIndex)}),K=Ke((...X)=>{i==null||i(...X),setTimeout(()=>{if(!B.current)return;const J=Hs(document);!B.current.getRoot().contains(J)&&(I(!1),f(null))})}),ie=Ke(X=>J=>{J.isDefaultPrevented()||r||f(X)}),se=Ke(X=>{X.preventDefault()}),te=Ke(X=>()=>{r||f(X)}),G=Ke(X=>{if(X.preventDefault(),r||typeof m!="number")return;const J=g.sections[m],Y=X.clipboardData.getData("text"),we=/^[a-zA-Z]+$/.test(Y),fe=/^[0-9]+$/.test(Y),$=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Y);J.contentType==="letter"&&we||J.contentType==="digit"&&fe||J.contentType==="digit-with-letter"&&$?(p(),v({activeSection:J,newSectionValue:Y,shouldGoToNextSection:!0})):!we&&!fe&&(p(),k(Y))}),Z=Ke(X=>{X.preventDefault(),X.dataTransfer.dropEffect="none"}),he=Ke(X=>{if(!B.current)return;const J=X.target,Y=J.textContent??"",we=B.current.getSectionIndexFromDOMElement(J),fe=g.sections[we];if(r||!B.current){F(we);return}if(Y.length===0){if(fe.value===""){F(we);return}const $=X.nativeEvent.inputType;if($==="insertParagraph"||$==="insertLineBreak"){F(we);return}p(),y();return}h({keyPressed:Y,sectionIndex:we}),F(we)});Gr(()=>{if(!(!L||!B.current)){if(m==="all")B.current.getRoot().focus();else if(typeof m=="number"){const X=B.current.getSectionContent(m);X&&X.focus()}}},[m,L]);const pe=w.useMemo(()=>g.sections.reduce((X,J)=>(X[J.type]=_[J.type]({currentDate:null,contentType:J.contentType,format:J.format}),X),{}),[_,g.sections]),ne=m==="all",le=w.useMemo(()=>g.sections.map((X,J)=>{const Y=!ne&&!e&&!r;return{container:{"data-sectionindex":J,onClick:ie(J)},content:{tabIndex:ne||J>0?-1:0,contentEditable:!ne&&!e&&!r,role:"spinbutton",id:`${O}-${X.type}`,"aria-labelledby":`${O}-${X.type}`,"aria-readonly":r,"aria-valuenow":ore(X,R),"aria-valuemin":pe[X.type].minimum,"aria-valuemax":pe[X.type].maximum,"aria-valuetext":X.value?are(X,R):E.empty,"aria-label":E[X.type],"aria-disabled":e,spellCheck:Y?!1:void 0,autoCapitalize:Y?"off":void 0,autoCorrect:Y?"off":void 0,[parseInt(w.version,10)>=17?"enterKeyHint":"enterkeyhint"]:Y?"next":void 0,children:X.value||X.placeholder,onInput:he,onPaste:G,onFocus:te(J),onDragOver:Z,onMouseUp:se,inputMode:X.contentType==="letter"?"text":"numeric"},before:{children:X.startSeparator},after:{children:X.endSeparator}}}),[g.sections,te,G,Z,he,ie,se,e,r,ne,E,R,pe,O]),oe=Ke(X=>{k(X.target.value)}),q=w.useMemo(()=>S?"":d.getV7HiddenInputValueFromSections(g.sections),[S,g.sections,d]);return w.useEffect(()=>{if(B.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&B.current&&B.current.getSectionContent(C.startIndex).focus()},[]),{interactions:N,returnedValue:{autoFocus:u,readOnly:r,focused:c??L,sectionListRef:D,onBlur:K,onClick:A,onFocus:W,onInput:M,onPaste:V,enableAccessibleFieldDOMStructure:!0,elements:le,tabIndex:m===0?-1:0,contentEditable:ne,value:q,onChange:oe,areAllSectionsEmpty:S}}},ad=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),Jre=(t,e,r)=>{let n=0,i=r?1:0;const s=[];for(let a=0;a<t.length;a+=1){const o=t[a],l=tT(o,r?"input-rtl":"input-ltr",e),c=`${o.startSeparator}${l}${o.endSeparator}`,u=ad(c).length,d=c.length,h=ad(l),p=i+(h===""?0:l.indexOf(h[0]))+o.startSeparator.length,f=p+h.length;s.push(T({},o,{start:n,end:n+u,startInInput:p,endInInput:f})),n+=u,i+=d}return s},Zre=t=>{const e=qn(),r=w.useRef(),{forwardedProps:{onFocus:n,onClick:i,onPaste:s,onBlur:a,inputRef:o,placeholder:l},internalProps:{readOnly:c=!1},parsedSelectedSections:u,activeSectionIndex:d,state:h,fieldValueManager:p,valueManager:f,applyCharacterEditing:m,resetCharacterQuery:g,updateSectionValue:y,updateValueFromValueStr:b,clearActiveSection:v,clearValue:k,setTempAndroidValueStr:C,setSelectedSections:S,getSectionsFromValue:_,areAllSectionsEmpty:B,localizedDigits:D}=t,E=w.useRef(null),R=qt(o,E),O=w.useMemo(()=>Jre(h.sections,D,e),[h.sections,D,e]),L=w.useMemo(()=>({syncSelectionToDOM:()=>{if(!E.current)return;if(u==null){E.current.scrollLeft&&(E.current.scrollLeft=0);return}if(E.current!==Hs(document))return;const G=E.current.scrollTop;if(u==="all")E.current.select();else{const Z=O[u],he=Z.type==="empty"?Z.startInInput-Z.startSeparator.length:Z.startInInput,pe=Z.type==="empty"?Z.endInInput+Z.endSeparator.length:Z.endInInput;(he!==E.current.selectionStart||pe!==E.current.selectionEnd)&&E.current===Hs(document)&&E.current.setSelectionRange(he,pe)}E.current.scrollTop=G},getActiveSectionIndexFromDOM:()=>{var ne;const G=E.current.selectionStart??0,Z=E.current.selectionEnd??0,he=!!((ne=E.current)!=null&&ne.readOnly);if(G===0&&Z===0||he)return null;const pe=G<=O[0].startInInput?1:O.findIndex(le=>le.startInInput-le.startSeparator.length>G);return pe===-1?O.length-1:pe-1},focusField:(G=0)=>{var Z;(Z=E.current)==null||Z.focus(),S(G)},setSelectedSections:G=>S(G),isFieldFocused:()=>E.current===Hs(document)}),[E,u,O,S]),I=()=>{if(c){S(null);return}const G=E.current.selectionStart??0;let Z;G<=O[0].startInInput||G>=O[O.length-1].endInInput?Z=1:Z=O.findIndex(pe=>pe.startInInput-pe.startSeparator.length>G);const he=Z===-1?O.length-1:Z-1;S(he)},N=Ke((...G)=>{n==null||n(...G);const Z=E.current;clearTimeout(r.current),r.current=setTimeout(()=>{!Z||Z!==E.current||d!=null||c||(Z.value.length&&Number(Z.selectionEnd)-Number(Z.selectionStart)===Z.value.length?S("all"):I())})}),F=Ke((G,...Z)=>{G.isDefaultPrevented()||(i==null||i(G,...Z),I())}),A=Ke(G=>{if(s==null||s(G),G.preventDefault(),c)return;const Z=G.clipboardData.getData("text");if(typeof u=="number"){const he=h.sections[u],pe=/^[a-zA-Z]+$/.test(Z),ne=/^[0-9]+$/.test(Z),le=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Z);if(he.contentType==="letter"&&pe||he.contentType==="digit"&&ne||he.contentType==="digit-with-letter"&&le){g(),y({activeSection:he,newSectionValue:Z,shouldGoToNextSection:!0});return}if(pe||ne)return}g(),b(Z)}),M=Ke((...G)=>{a==null||a(...G),S(null)}),V=Ke(G=>{if(c)return;const Z=G.target.value;if(Z===""){g(),k();return}const he=G.nativeEvent.data,pe=he&&he.length>1,ne=pe?he:Z,le=ad(ne);if(d==null||pe){b(pe?he:le);return}let oe;if(u==="all"&&le.length===1)oe=le;else{const q=ad(p.getV6InputValueFromSections(O,D,e));let X=-1,J=-1;for(let $=0;$<q.length;$+=1)X===-1&&q[$]!==le[$]&&(X=$),J===-1&&q[q.length-$-1]!==le[le.length-$-1]&&(J=$);const Y=O[d];if(X<Y.start||q.length-J-1>Y.end)return;const fe=le.length-q.length+Y.end-ad(Y.endSeparator||"").length;oe=le.slice(Y.start+ad(Y.startSeparator||"").length,fe)}if(oe.length===0){ire()?C(ne):(g(),v());return}m({keyPressed:oe,sectionIndex:d})}),W=w.useMemo(()=>l!==void 0?l:p.getV6InputValueFromSections(_(f.emptyValue),D,e),[l,p,_,f.emptyValue,D,e]),K=w.useMemo(()=>h.tempValueStrAndroid??p.getV6InputValueFromSections(h.sections,D,e),[h.sections,p,h.tempValueStrAndroid,D,e]);w.useEffect(()=>(E.current&&E.current===Hs(document)&&S("all"),()=>{clearTimeout(r.current)}),[]);const ie=w.useMemo(()=>d==null||h.sections[d].contentType==="letter"?"text":"numeric",[d,h.sections]),te=!(E.current&&E.current===Hs(document))&&B;return{interactions:L,returnedValue:{readOnly:c,onBlur:M,onClick:F,onFocus:N,onPaste:A,inputRef:R,enableAccessibleFieldDOMStructure:!1,placeholder:W,inputMode:ie,autoComplete:"off",value:te?"":K,onChange:V}}},bA=t=>{const e=nr(),{internalProps:r,internalProps:{unstableFieldRef:n,minutesStep:i,enableAccessibleFieldDOMStructure:s=!1,disabled:a=!1,readOnly:o=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:p,validator:f}=t,m=qn(),g=Yre(t),{state:y,activeSectionIndex:b,parsedSelectedSections:v,setSelectedSections:k,clearValue:C,clearActiveSection:S,updateSectionValue:_,setTempAndroidValueStr:B,sectionsValueBoundaries:D,localizedDigits:E,timezone:R}=g,O=qre({sections:y.sections,updateSectionValue:_,sectionsValueBoundaries:D,localizedDigits:E,setTempAndroidValueStr:B,timezone:R}),{resetCharacterQuery:L}=O,I=p.areValuesEqual(e,y.value,p.emptyValue),N=s?Qre:Zre,F=w.useMemo(()=>sre(y.sections,m&&!s),[y.sections,m,s]),{returnedValue:A,interactions:M}=N(T({},t,g,O,{areAllSectionsEmpty:I,sectionOrder:F})),V=Ke(G=>{switch(l==null||l(G),!0){case((G.ctrlKey||G.metaKey)&&G.key.toLowerCase()==="a"&&!G.shiftKey&&!G.altKey):{G.preventDefault(),k("all");break}case G.key==="ArrowRight":{if(G.preventDefault(),v==null)k(F.startIndex);else if(v==="all")k(F.endIndex);else{const Z=F.neighbors[v].rightIndex;Z!==null&&k(Z)}break}case G.key==="ArrowLeft":{if(G.preventDefault(),v==null)k(F.endIndex);else if(v==="all")k(F.startIndex);else{const Z=F.neighbors[v].leftIndex;Z!==null&&k(Z)}break}case G.key==="Delete":{if(G.preventDefault(),o)break;v==null||v==="all"?C():S(),L();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(G.key):{if(G.preventDefault(),o||b==null)break;const Z=y.sections[b],he=h.getActiveDateManager(e,y,Z),pe=Jte(e,R,Z,G.key,D,E,he.date,{minutesStep:i});_({activeSection:Z,newSectionValue:pe,shouldGoToNextSection:!1});break}}});Gr(()=>{M.syncSelectionToDOM()});const W=gA(T({},r,{value:y.value,timezone:R}),f,p.isSameError,p.defaultErrorState),K=w.useMemo(()=>c!==void 0?c:p.hasError(W),[p,W,c]);w.useEffect(()=>{!K&&b==null&&L()},[y.referenceValue,b,K]),w.useEffect(()=>{y.tempValueStrAndroid!=null&&b!=null&&(L(),S())},[y.sections]),w.useImperativeHandle(n,()=>({getSections:()=>y.sections,getActiveSectionIndex:M.getActiveSectionIndexFromDOM,setSelectedSections:M.setSelectedSections,focusField:M.focusField,isFieldFocused:M.isFieldFocused}));const ie=Ke((G,...Z)=>{G.preventDefault(),d==null||d(G,...Z),C(),M.isFieldFocused()?k(F.startIndex):M.focusField(0)}),se={onKeyDown:V,onClear:ie,error:K,clearable:!!(u&&!I&&!o&&!a)},te={disabled:a,readOnly:o};return T({},t.forwardedProps,se,te,A)},yv=({props:t,value:e,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:o,timezone:l}=t,c=r.utils.date(void 0,l),u=sa(r.utils,t.minDate,r.defaultDates.minDate),d=sa(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(o&&r.utils.isAfterDay(e,c)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&r.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&r.utils.isAfterDay(e,d)):return"maxDate";default:return null}},u1=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],d1=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],vA=["minDateTime","maxDateTime"],ene=[...u1,...d1,...vA],bv=t=>ene.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{}),tne=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],wA=(t,e)=>{const r=T({},t),n={},i=s=>{r.hasOwnProperty(s)&&(n[s]=r[s],delete r[s])};return tne.forEach(i),e==="date"?u1.forEach(i):e==="time"?d1.forEach(i):e==="date-time"&&(u1.forEach(i),d1.forEach(i),vA.forEach(i)),{forwardedProps:r,internalProps:n}},rne=t=>{const e=nr(),r=gm();return T({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:sa(e,t.minDate,r.minDate),maxDate:sa(e,t.maxDate,r.maxDate)})},nne=t=>{const e=nr(),n=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return T({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??n})},ine=t=>{const e=rne(t),{forwardedProps:r,internalProps:n}=wA(e,"date");return bA({forwardedProps:r,internalProps:n,valueManager:vi,fieldValueManager:fA,validator:yv,valueType:"date"})},sne=["clearable","onClear","InputProps","sx","slots","slotProps"],ane=["ownerState"],xA=t=>{const e=wi(),{clearable:r,onClear:n,InputProps:i,sx:s,slots:a,slotProps:o}=t,l=me(t,sne),c=(a==null?void 0:a.clearButton)??fi,u=Mt({elementType:c,externalSlotProps:o==null?void 0:o.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=me(u,ane),h=(a==null?void 0:a.clearIcon)??tte,p=Mt({elementType:h,externalSlotProps:o==null?void 0:o.clearIcon,ownerState:{}});return T({},l,{InputProps:T({},i,{endAdornment:x.jsxs(w.Fragment,{children:[r&&x.jsx(mF,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:x.jsx(c,T({},d,{onClick:n,children:x.jsx(h,T({fontSize:"small"},p))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function one(t){return Ge("MuiPickersTextField",t)}je("MuiPickersTextField",["root","focused","disabled","error","required"]);function lne(t){return Ge("MuiPickersInputBase",t)}const bd=je("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function cne(t){return Ge("MuiPickersSectionList",t)}const Wh=je("MuiPickersSectionList",["root","section","sectionContent"]),une=["slots","slotProps","elements","sectionListRef"],SA=Q("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),kA=Q("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),CA=Q("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),TA=Q("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),dne=t=>{const{classes:e}=t;return He({root:["root"],section:["section"],sectionContent:["sectionContent"]},cne,e)};function hne(t){const{slots:e,slotProps:r,element:n,classes:i}=t,s=(e==null?void 0:e.section)??kA,a=Mt({elementType:s,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:n.container,className:i.section,ownerState:{}}),o=(e==null?void 0:e.sectionContent)??TA,l=Mt({elementType:o,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??CA,u=Mt({elementType:c,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),d=Mt({elementType:c,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return x.jsxs(s,T({},a,{children:[x.jsx(c,T({},u)),x.jsx(o,T({},l)),x.jsx(c,T({},d))]}))}const fne=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:s,elements:a,sectionListRef:o}=n,l=me(n,une),c=dne(n),u=w.useRef(null),d=qt(r,u),h=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};w.useImperativeHandle(o,()=>({getRoot(){return h("getRoot")},getSectionContainer(m){return h("getSectionContainer").querySelector(`.${Wh.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return h("getSectionContent").querySelector(`.${Wh.section}[data-sectionindex="${m}"] .${Wh.sectionContent}`)},getSectionIndexFromDOMElement(m){const g=h("getSectionIndexFromDOMElement");if(m==null||!g.contains(m))return null;let y=null;return m.classList.contains(Wh.section)?y=m:m.classList.contains(Wh.sectionContent)&&(y=m.parentElement),y==null?null:Number(y.dataset.sectionindex)}}));const p=(i==null?void 0:i.root)??SA,f=Mt({elementType:p,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return x.jsx(p,T({},f,{children:f.contentEditable?a.map(({content:m,before:g,after:y})=>`${g.children}${m.children}${y.children}`).join(""):x.jsx(w.Fragment,{children:a.map((m,g)=>x.jsx(hne,{slots:i,slotProps:s,element:m,classes:c},g))})}))}),pne=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],mne=t=>Math.round(t*1e5)/1e5,vv=Q("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>T({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${mne(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),nT=Q(SA,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:r,filled:n,label:i})=>!e&&!r&&!n&&i==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),gne=Q(kA,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),yne=Q(TA,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),bne=Q(CA,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),vne=Q("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(T({},fC)),wne=t=>{const{focused:e,disabled:r,error:n,classes:i,fullWidth:s,readOnly:a,color:o,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!r&&"focused",r&&"disabled",a&&"readOnly",n&&"error",s&&"fullWidth",`color${Ee(o)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return He(d,lne,i)},iT=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:s,value:a,onChange:o,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:p,contentEditable:f,tabIndex:m,onInput:g,onPaste:y,onKeyDown:b,name:v,readOnly:k,inputProps:C,inputRef:S,sectionListRef:_}=n,B=me(n,pne),D=w.useRef(null),E=qt(r,D),R=qt(C==null?void 0:C.ref,S),O=qn(),L=ss();if(!L)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const I=W=>{var K;if(L.disabled){W.stopPropagation();return}(K=L.onFocus)==null||K.call(L,W)};w.useEffect(()=>{L&&L.setAdornedStart(!!u)},[L,u]),w.useEffect(()=>{L&&(s?L.onEmpty():L.onFilled())},[L,s]);const N=T({},n,L,{isRtl:O}),F=wne(N),A=(h==null?void 0:h.root)||vv,M=Mt({elementType:A,externalSlotProps:p==null?void 0:p.root,externalForwardedProps:B,additionalProps:{"aria-invalid":L.error,ref:E},className:F.root,ownerState:N}),V=(h==null?void 0:h.input)||nT;return x.jsxs(A,T({},M,{children:[u,x.jsx(fne,{sectionListRef:_,elements:i,contentEditable:f,tabIndex:m,className:F.sectionsContainer,onFocus:I,onBlur:L.onBlur,onInput:g,onPaste:y,onKeyDown:b,slots:{root:V,section:gne,sectionContent:yne,sectionSeparator:bne},slotProps:{root:{ownerState:N},sectionContent:{className:bd.sectionContent},sectionSeparator:({position:W})=>({className:W==="before"?bd.sectionBefore:bd.sectionAfter})}}),c,d?d(T({},L)):null,x.jsx(vne,T({name:v,className:F.input,value:a,onChange:o,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:k,required:L.required,disabled:L.disabled},C,{ref:R}))]}))});function xne(t){return Ge("MuiPickersOutlinedInput",t)}const pa=T({},bd,je("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Sne=["children","className","label","notched","shrink"],kne=Q("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),eM=Q("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),Cne=Q("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function Tne(t){const{className:e,label:r}=t,n=me(t,Sne),i=r!=null&&r!=="",s=T({},t,{withLabel:i});return x.jsx(kne,T({"aria-hidden":!0,className:e},n,{ownerState:s,children:x.jsx(Cne,{ownerState:s,children:i?x.jsx(eM,{children:r}):x.jsx(eM,{className:"notranslate",children:""})})}))}const _ne=["label","autoFocus","ownerState","notched"],Pne=Q(vv,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${pa.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${pa.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${pa.focused} .${pa.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${pa.disabled}`]:{[`& .${pa.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${pa.error} .${pa.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(r=>{var n;return((n=(t.vars??t).palette[r])==null?void 0:n.main)??!1}).map(r=>({props:{color:r},style:{[`&.${pa.focused}:not(.${pa.error}) .${pa.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}}))}}),Bne=Q(nT,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Nne=t=>{const{classes:e}=t,n=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xne,e);return T({},e,n)},_A=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:s,notched:a}=n,o=me(n,_ne),l=ss(),c=T({},n,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=Nne(c);return x.jsx(iT,T({slots:{root:Pne,input:Bne},renderSuffix:d=>x.jsx(Tne,{shrink:!!(a||d.adornedStart||d.focused||d.filled),notched:!!(a||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?x.jsxs(w.Fragment,{children:[i,"","*"]}):i,ownerState:c})},o,{label:i,classes:u,ref:r}))});_A.muiName="Input";function Mne(t){return Ge("MuiPickersFilledInput",t)}const hc=T({},bd,je("MuiPickersFilledInput",["root","underline","input"])),Ene=["label","autoFocus","disableUnderline","ownerState"],Rne=Q(vv,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>kf(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${hc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${hc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a].main).map(a=>{var o;return{props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[a])==null?void 0:o.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hc.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hc.disabled}, .${hc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${hc.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:a})=>!!a,style:{paddingLeft:12}},{props:({endAdornment:a})=>!!a,style:{paddingRight:12}}]}}),Dne=Q(nT,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Ine=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},Mne,e);return T({},e,i)},PA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=me(n,Ene),l=ss(),c=T({},n,a,l,{color:(l==null?void 0:l.color)||"primary"}),u=Ine(c);return x.jsx(iT,T({slots:{root:Rne,input:Dne},slotProps:{root:{disableUnderline:s}}},o,{label:i,classes:u,ref:r}))});PA.muiName="Input";function Lne(t){return Ge("MuiPickersFilledInput",t)}const Hh=T({},bd,je("MuiPickersInput",["root","input"])),Fne=["label","autoFocus","disableUnderline","ownerState"],Ane=Q(vv,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hh.disabled}, .${Hh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Hh.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),One=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},Lne,e);return T({},e,i)},BA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=me(n,Fne),l=ss(),c=T({},n,a,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=One(c);return x.jsx(iT,T({slots:{root:Ane}},o,{label:i,classes:u,ref:r}))});BA.muiName="Input";const $ne=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Vne={standard:BA,filled:PA,outlined:_A},zne=Q(cF,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Wne=t=>{const{focused:e,disabled:r,classes:n,required:i}=t;return He({root:["root",e&&!r&&"focused",r&&"disabled",i&&"required"]},one,n)},NA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:s,className:a,color:o="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:p,inputRef:f,sectionListRef:m,elements:g,areAllSectionsEmpty:y,onClick:b,onKeyDown:v,onPaste:k,onInput:C,endAdornment:S,startAdornment:_,tabIndex:B,contentEditable:D,focused:E,value:R,onChange:O,fullWidth:L,id:I,name:N,helperText:F,FormHelperTextProps:A,label:M,InputLabelProps:V}=n,W=me(n,$ne),K=w.useRef(null),ie=qt(r,K),se=ca(I),te=F&&se?`${se}-helper-text`:void 0,G=M&&se?`${se}-label`:void 0,Z=T({},n,{color:o,disabled:l,error:c,focused:E,required:d,variant:u}),he=Wne(Z),pe=Vne[u];return x.jsxs(zne,T({className:Se(he.root,a),ref:ie,focused:E,onFocus:i,onBlur:s,disabled:l,variant:u,error:c,color:o,fullWidth:L,required:d,ownerState:Z},W,{children:[x.jsx(gF,T({htmlFor:se,id:G},V,{children:M})),x.jsx(pe,T({elements:g,areAllSectionsEmpty:y,onClick:b,onKeyDown:v,onInput:C,onPaste:k,endAdornment:S,startAdornment:_,tabIndex:B,contentEditable:D,value:R,onChange:O,id:se,fullWidth:L,inputProps:p,inputRef:f,sectionListRef:m,label:M,name:N,role:"group","aria-labelledby":G},h)),F&&x.jsx(dF,T({id:te},A,{children:F}))]}))}),Hne=["enableAccessibleFieldDOMStructure"],Une=["InputProps","readOnly"],Gne=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],MA=t=>{let{enableAccessibleFieldDOMStructure:e}=t,r=me(t,Hne);if(e){const{InputProps:d,readOnly:h}=r,p=me(r,Une);return T({},p,{InputProps:T({},d??{},{readOnly:h})})}const{onPaste:n,onKeyDown:i,inputMode:s,readOnly:a,InputProps:o,inputProps:l,inputRef:c}=r,u=me(r,Gne);return T({},u,{InputProps:T({},o??{},{readOnly:a}),inputProps:T({},l??{},{inputMode:s,onPaste:n,onKeyDown:i,ref:c})})},jne=["slots","slotProps","InputProps","inputProps"],EA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDateField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=me(n,jne),c=n,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?NA:fp),d=Mt({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:r},ownerState:c});d.inputProps=T({},o,d.inputProps),d.InputProps=T({},a,d.InputProps);const h=ine(d),p=MA(h),f=xA(T({},p,{slots:i,slotProps:s}));return x.jsx(u,T({},f))}),sT=({adapter:t,value:e,props:r})=>{if(e===null)return null;const{minTime:n,maxTime:i,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:o=!1,disablePast:l,disableFuture:c,timezone:u}=r,d=t.utils.date(void 0,u),h=ym(o,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&h(n,e)):return"minTime";case!!(i&&h(e,i)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},Yne=t=>{const e=nne(t),{forwardedProps:r,internalProps:n}=wA(e,"time");return bA({forwardedProps:r,internalProps:n,valueManager:vi,fieldValueManager:fA,validator:sT,valueType:"time"})},Xne=["slots","slotProps","InputProps","inputProps"],RA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTimeField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=me(n,Xne),c=n,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?NA:fp),d=Mt({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:r}});d.inputProps=T({},o,d.inputProps),d.InputProps=T({},a,d.InputProps);const h=Yne(d),p=MA(h),f=xA(T({},p,{slots:i,slotProps:s}));return x.jsx(u,T({},f))}),DA=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o})=>{const l=gu();return w.useCallback(c=>yv({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o}})!==null,[l,t,e,r,n,i,s,a,o])},qne=(t,e,r)=>(n,i)=>{switch(i.type){case"changeMonth":return T({},n,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return T({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&i.focusedDay!=null&&r.isSameDay(i.focusedDay,n.focusedDay))return n;const s=i.focusedDay!=null&&!e&&!r.isSameMonth(n.currentMonth,i.focusedDay);return T({},n,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:s?r.startOfMonth(i.focusedDay):n.currentMonth,slideDirection:i.focusedDay!=null&&r.isAfterDay(i.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Kne=t=>{const{value:e,referenceDate:r,disableFuture:n,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:o,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=nr(),p=w.useRef(qne(!!c,s,h)).current,f=w.useMemo(()=>vi.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:r,granularity:Sa.day}),[]),[m,g]=w.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:f,currentMonth:h.startOfMonth(f),slideDirection:"left"}),y=w.useCallback(S=>{g(T({type:"changeMonth"},S)),l&&l(S.newMonth)},[l]),b=w.useCallback(S=>{const _=S;h.isSameMonth(_,m.currentMonth)||y({newMonth:h.startOfMonth(_),direction:h.isAfterDay(_,m.currentMonth)?"left":"right"})},[m.currentMonth,y,h]),v=DA({shouldDisableDate:u,minDate:o,maxDate:a,disableFuture:n,disablePast:i,timezone:d}),k=w.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),C=Ke((S,_)=>{v(S)||g({type:"changeFocusedDay",focusedDay:S,withoutMonthSwitchingAnimation:_})});return{referenceDate:f,calendarState:m,changeMonth:b,changeFocusedDay:C,isDateDisabled:v,onMonthSwitchingAnimationEnd:k,handleChangeMonth:y}},Qne=t=>Ge("MuiPickersFadeTransitionGroup",t);je("MuiPickersFadeTransitionGroup",["root"]);const Jne=t=>{const{classes:e}=t;return He({root:["root"]},Qne,e)},Zne=Q(kC,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function IA(t){const e=Fe({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=Jne(e),o=Ns();return i?r:x.jsx(Zne,{className:Se(a.root,n),children:x.jsx(ch,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:o.transitions.duration.enteringScreen,enter:o.transitions.duration.enteringScreen,exit:0},children:r},s)})}const eie=t=>Ge("MuiPickersSlideTransition",t),Ms=je("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),tie=["children","className","reduceAnimations","slideDirection","transKey","classes"],rie=t=>{const{classes:e,slideDirection:r}=t,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return He(n,eie,e)},nie=Q(kC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Ms["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Ms["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Ms.slideEnterActive}`]:e.slideEnterActive},{[`.${Ms.slideExit}`]:e.slideExit},{[`.${Ms["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Ms["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ms["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ms["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ms.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Ms.slideExit}`]:{transform:"translate(0%)"},[`& .${Ms["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Ms["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function iie(t){const e=Fe({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=me(e,tie),o=rie(e),l=Ns();if(i)return x.jsx("div",{className:Se(o.root,n),children:r});const c={exit:o.exit,enterActive:o.enterActive,enter:o.enter,exitActive:o.exitActive};return x.jsx(nie,{className:Se(o.root,n),childFactory:u=>w.cloneElement(u,{classNames:c}),role:"presentation",children:x.jsx(P7,T({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},a,{children:r}),s)})}const sie=t=>Ge("MuiDayCalendar",t);je("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const aie=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],oie=["ownerState"],lie=t=>{const{classes:e}=t;return He({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},sie,e)},LA=(bp+fv*2)*6,cie=Q("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),uie=Q("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),die=Q(cr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),hie=Q(cr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),fie=Q(cr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>T({},t.typography.caption,{width:bp,height:bp,padding:0,margin:`0 ${fv}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),pie=Q("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:LA}),mie=Q(iie,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:LA}),gie=Q("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),yie=Q("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${fv}px 0`,display:"flex",justifyContent:"center"});function bie(t){let{parentProps:e,day:r,focusableDay:n,selectedDays:i,isDateDisabled:s,currentMonthNumber:a,isViewFocused:o}=t,l=me(t,aie);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:p,slotProps:f,timezone:m}=e,g=nr(),y=yu(m),b=n!==null&&g.isSameDay(r,n),v=i.some(O=>g.isSameDay(O,r)),k=g.isSameDay(r,y),C=(p==null?void 0:p.day)??Vre,S=Mt({elementType:C,externalSlotProps:f==null?void 0:f.day,additionalProps:T({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":g.toJsDate(r).valueOf()},l),ownerState:T({},e,{day:r,selected:v})}),_=me(S,oie),B=w.useMemo(()=>c||s(r),[c,s,r]),D=w.useMemo(()=>g.getMonth(r)!==a,[g,r,a]),E=w.useMemo(()=>{const O=g.startOfMonth(g.setMonth(r,a));return h?g.isSameDay(r,g.startOfWeek(O)):g.isSameDay(r,O)},[a,r,h,g]),R=w.useMemo(()=>{const O=g.endOfMonth(g.setMonth(r,a));return h?g.isSameDay(r,g.endOfWeek(O)):g.isSameDay(r,O)},[a,r,h,g]);return x.jsx(C,T({},_,{day:r,disabled:B,autoFocus:o&&b,today:k,outsideCurrentMonth:D,isFirstVisibleCell:E,isLastVisibleCell:R,selected:v,tabIndex:b?0:-1,"aria-selected":v,"aria-current":k?"date":void 0}))}function vie(t){const e=Fe({props:t,name:"MuiDayCalendar"}),r=nr(),{onFocusedDayChange:n,className:i,currentMonth:s,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>x.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:y,minDate:b,maxDate:v,shouldDisableDate:k,shouldDisableMonth:C,shouldDisableYear:S,dayOfWeekFormatter:_=fe=>r.format(fe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:B,onFocusedViewChange:D,gridLabelId:E,displayWeekNumber:R,fixedWeekNumber:O,autoFocus:L,timezone:I}=e,N=yu(I),F=lie(e),A=qn(),M=DA({shouldDisableDate:k,shouldDisableMonth:C,shouldDisableYear:S,minDate:b,maxDate:v,disablePast:g,disableFuture:y,timezone:I}),V=wi(),[W,K]=xs({name:"DayCalendar",state:"hasFocus",controlled:B,default:L??!1}),[ie,se]=w.useState(()=>o||N),te=Ke(fe=>{d||c(fe)}),G=fe=>{M(fe)||(n(fe),se(fe),D==null||D(!0),K(!0))},Z=Ke((fe,$)=>{switch(fe.key){case"ArrowUp":G(r.addDays($,-7)),fe.preventDefault();break;case"ArrowDown":G(r.addDays($,7)),fe.preventDefault();break;case"ArrowLeft":{const U=r.addDays($,A?1:-1),j=r.addMonths($,A?1:-1),ae=Ef({utils:r,date:U,minDate:A?U:r.startOfMonth(j),maxDate:A?r.endOfMonth(j):U,isDateDisabled:M,timezone:I});G(ae||U),fe.preventDefault();break}case"ArrowRight":{const U=r.addDays($,A?-1:1),j=r.addMonths($,A?-1:1),ae=Ef({utils:r,date:U,minDate:A?r.startOfMonth(j):U,maxDate:A?U:r.endOfMonth(j),isDateDisabled:M,timezone:I});G(ae||U),fe.preventDefault();break}case"Home":G(r.startOfWeek($)),fe.preventDefault();break;case"End":G(r.endOfWeek($)),fe.preventDefault();break;case"PageUp":G(r.addMonths($,1)),fe.preventDefault();break;case"PageDown":G(r.addMonths($,-1)),fe.preventDefault();break}}),he=Ke((fe,$)=>G($)),pe=Ke((fe,$)=>{W&&r.isSameDay(ie,$)&&(D==null||D(!1))}),ne=r.getMonth(s),le=r.getYear(s),oe=w.useMemo(()=>a.filter(fe=>!!fe).map(fe=>r.startOfDay(fe)),[r,a]),q=`${le}-${ne}`,X=w.useMemo(()=>w.createRef(),[q]),J=r.startOfWeek(N),Y=w.useMemo(()=>{const fe=r.startOfMonth(s),$=r.endOfMonth(s);return M(ie)||r.isAfterDay(ie,$)||r.isBeforeDay(ie,fe)?Ef({utils:r,date:ie,minDate:fe,maxDate:$,disablePast:g,disableFuture:y,isDateDisabled:M,timezone:I}):ie},[s,y,g,ie,M,r,I]),we=w.useMemo(()=>{const fe=r.setTimezone(s,I),$=r.getWeekArray(fe);let U=r.addMonths(fe,1);for(;O&&$.length<O;){const j=r.getWeekArray(U),ae=r.isSameDay($[$.length-1][0],j[0][0]);j.slice(ae?1:0).forEach(Be=>{$.length<O&&$.push(Be)}),U=r.addMonths(U,1)}return $},[s,O,r,I]);return x.jsxs(cie,{role:"grid","aria-labelledby":E,className:F.root,children:[x.jsxs(uie,{role:"row",className:F.header,children:[R&&x.jsx(hie,{variant:"caption",role:"columnheader","aria-label":V.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:V.calendarWeekNumberHeaderText}),Rte(r,N).map((fe,$)=>x.jsx(die,{variant:"caption",role:"columnheader","aria-label":r.format(r.addDays(J,$),"weekday"),className:F.weekDayLabel,children:_(fe)},$.toString()))]}),l?x.jsx(pie,{className:F.loadingContainer,children:p()}):x.jsx(mie,T({transKey:q,onExited:u,reduceAnimations:h,slideDirection:f,className:Se(i,F.slideTransition)},m,{nodeRef:X,children:x.jsx(gie,{ref:X,role:"rowgroup",className:F.monthContainer,children:we.map((fe,$)=>x.jsxs(yie,{role:"row",className:F.weekContainer,"aria-rowindex":$+1,children:[R&&x.jsx(fie,{className:F.weekNumber,role:"rowheader","aria-label":V.calendarWeekNumberAriaLabelText(r.getWeekNumber(fe[0])),children:V.calendarWeekNumberText(r.getWeekNumber(fe[0]))}),fe.map((U,j)=>x.jsx(bie,{parentProps:e,day:U,selectedDays:oe,focusableDay:Y,onKeyDown:Z,onFocus:he,onBlur:pe,onDaySelect:te,isDateDisabled:M,currentMonthNumber:ne,isViewFocused:W,"aria-colindex":j+1},U.toString()))]},`week-${fe[0]}`))})}))]})}function wie(t){return Ge("MuiPickersMonth",t)}const dg=je("MuiPickersMonth",["root","monthButton","disabled","selected"]),xie=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Sie=t=>{const{disabled:e,selected:r,classes:n}=t;return He({root:["root"],monthButton:["monthButton",e&&"disabled",r&&"selected"]},wie,n)},kie=Q("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Cie=Q("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${dg.disabled}`]:e.disabled},{[`&.${dg.selected}`]:e.selected}]})(({theme:t})=>T({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${dg.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${dg.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Tie=w.memo(function(e){const r=Fe({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f,"aria-label":m,slots:g,slotProps:y}=r,b=me(r,xie),v=w.useRef(null),k=Sie(r);Gr(()=>{var _;n&&((_=v.current)==null||_.focus())},[n]);const C=(g==null?void 0:g.monthButton)??Cie,S=Mt({elementType:C,externalSlotProps:y==null?void 0:y.monthButton,additionalProps:{children:s,disabled:a,tabIndex:c,ref:v,type:"button",role:"radio","aria-current":f,"aria-checked":o,"aria-label":m,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>p(_,l)},ownerState:r,className:k.monthButton});return x.jsx(kie,T({className:Se(k.root,i),ownerState:r},b,{children:x.jsx(C,T({},S))}))});function _ie(t){return Ge("MuiMonthCalendar",t)}je("MuiMonthCalendar",["root"]);const Pie=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Bie=t=>{const{classes:e}=t;return He({root:["root"]},_ie,e)};function Nie(t,e){const r=nr(),n=gm(),i=Fe({props:t,name:e});return T({disableFuture:!1,disablePast:!1},i,{minDate:sa(r,i.minDate,n.minDate),maxDate:sa(r,i.maxDate,n.maxDate)})}const Mie=Q("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:pv,boxSizing:"border-box"}),Eie=w.forwardRef(function(e,r){const n=Nie(e,"MuiMonthCalendar"),{className:i,value:s,defaultValue:a,referenceDate:o,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:f,readOnly:m,autoFocus:g=!1,onMonthFocus:y,hasFocus:b,onFocusedViewChange:v,monthsPerRow:k=3,timezone:C,gridLabelId:S,slots:_,slotProps:B}=n,D=me(n,Pie),{value:E,handleValueChange:R,timezone:O}=uh({name:"MonthCalendar",timezone:C,value:s,defaultValue:a,onChange:p,valueManager:vi}),L=yu(O),I=qn(),N=nr(),F=w.useMemo(()=>vi.getInitialReferenceValue({value:E,utils:N,props:n,timezone:O,referenceDate:o,granularity:Sa.month}),[]),A=n,M=Bie(A),V=w.useMemo(()=>N.getMonth(L),[N,L]),W=w.useMemo(()=>E!=null?N.getMonth(E):null,[E,N]),[K,ie]=w.useState(()=>W||N.getMonth(F)),[se,te]=xs({name:"MonthCalendar",state:"hasFocus",controlled:b,default:g??!1}),G=Ke(q=>{te(q),v&&v(q)}),Z=w.useCallback(q=>{const X=N.startOfMonth(u&&N.isAfter(L,h)?L:h),J=N.startOfMonth(c&&N.isBefore(L,d)?L:d),Y=N.startOfMonth(q);return N.isBefore(Y,X)||N.isAfter(Y,J)?!0:f?f(Y):!1},[c,u,d,h,L,f,N]),he=Ke((q,X)=>{if(m)return;const J=N.setMonth(E??F,X);R(J)}),pe=Ke(q=>{Z(N.setMonth(E??F,q))||(ie(q),G(!0),y&&y(q))});w.useEffect(()=>{ie(q=>W!==null&&q!==W?W:q)},[W]);const ne=Ke((q,X)=>{switch(q.key){case"ArrowUp":pe((12+X-3)%12),q.preventDefault();break;case"ArrowDown":pe((12+X+3)%12),q.preventDefault();break;case"ArrowLeft":pe((12+X+(I?1:-1))%12),q.preventDefault();break;case"ArrowRight":pe((12+X+(I?-1:1))%12),q.preventDefault();break}}),le=Ke((q,X)=>{pe(X)}),oe=Ke((q,X)=>{K===X&&G(!1)});return x.jsx(Mie,T({ref:r,className:Se(M.root,i),ownerState:A,role:"radiogroup","aria-labelledby":S},D,{children:KC(N,E??F).map(q=>{const X=N.getMonth(q),J=N.format(q,"monthShort"),Y=N.format(q,"month"),we=X===W,fe=l||Z(q);return x.jsx(Tie,{selected:we,value:X,onClick:he,onKeyDown:ne,autoFocus:se&&X===K,disabled:fe,tabIndex:X===K&&!fe?0:-1,onFocus:le,onBlur:oe,"aria-current":V===X?"date":void 0,"aria-label":Y,monthsPerRow:k,slots:_,slotProps:B,children:J},J)})}))});function Rie(t){return Ge("MuiPickersYear",t)}const hg=je("MuiPickersYear",["root","yearButton","selected","disabled"]),Die=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Iie=t=>{const{disabled:e,selected:r,classes:n}=t;return He({root:["root"],yearButton:["yearButton",e&&"disabled",r&&"selected"]},Rie,n)},Lie=Q("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Fie=Q("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${hg.disabled}`]:e.disabled},{[`&.${hg.selected}`]:e.selected}]})(({theme:t})=>T({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${hg.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${hg.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Aie=w.memo(function(e){const r=Fe({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f,slots:m,slotProps:g}=r,y=me(r,Die),b=w.useRef(null),v=Iie(r);Gr(()=>{var S;n&&((S=b.current)==null||S.focus())},[n]);const k=(m==null?void 0:m.yearButton)??Fie,C=Mt({elementType:k,externalSlotProps:g==null?void 0:g.yearButton,additionalProps:{children:s,disabled:a,tabIndex:c,ref:b,type:"button",role:"radio","aria-current":f,"aria-checked":o,onClick:S=>u(S,l),onKeyDown:S=>d(S,l),onFocus:S=>h(S,l),onBlur:S=>p(S,l)},ownerState:r,className:v.yearButton});return x.jsx(Lie,T({className:Se(v.root,i),ownerState:r},y,{children:x.jsx(k,T({},C))}))});function Oie(t){return Ge("MuiYearCalendar",t)}je("MuiYearCalendar",["root"]);const $ie=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Vie=t=>{const{classes:e}=t;return He({root:["root"]},Oie,e)};function zie(t,e){const r=nr(),n=gm(),i=Fe({props:t,name:e});return T({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:sa(r,i.minDate,n.minDate),maxDate:sa(r,i.maxDate,n.maxDate)})}const Wie=Q("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:pv,maxHeight:pte,boxSizing:"border-box",position:"relative"}),Hie=w.forwardRef(function(e,r){const n=zie(e,"MuiYearCalendar"),{autoFocus:i,className:s,value:a,defaultValue:o,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:f,readOnly:m,shouldDisableYear:g,onYearFocus:y,hasFocus:b,onFocusedViewChange:v,yearsPerRow:k,timezone:C,gridLabelId:S,slots:_,slotProps:B}=n,D=me(n,$ie),{value:E,handleValueChange:R,timezone:O}=uh({name:"YearCalendar",timezone:C,value:a,defaultValue:o,onChange:f,valueManager:vi}),L=yu(O),I=qn(),N=nr(),F=w.useMemo(()=>vi.getInitialReferenceValue({value:E,utils:N,props:n,timezone:O,referenceDate:l,granularity:Sa.year}),[]),A=n,M=Vie(A),V=w.useMemo(()=>N.getYear(L),[N,L]),W=w.useMemo(()=>E!=null?N.getYear(E):null,[E,N]),[K,ie]=w.useState(()=>W||N.getYear(F)),[se,te]=xs({name:"YearCalendar",state:"hasFocus",controlled:b,default:i??!1}),G=Ke(J=>{te(J),v&&v(J)}),Z=w.useCallback(J=>{if(d&&N.isBeforeYear(J,L)||u&&N.isAfterYear(J,L)||p&&N.isBeforeYear(J,p)||h&&N.isAfterYear(J,h))return!0;if(!g)return!1;const Y=N.startOfYear(J);return g(Y)},[u,d,h,p,L,g,N]),he=Ke((J,Y)=>{if(m)return;const we=N.setYear(E??F,Y);R(we)}),pe=Ke(J=>{Z(N.setYear(E??F,J))||(ie(J),G(!0),y==null||y(J))});w.useEffect(()=>{ie(J=>W!==null&&J!==W?W:J)},[W]);const ne=Ke((J,Y)=>{switch(J.key){case"ArrowUp":pe(Y-k),J.preventDefault();break;case"ArrowDown":pe(Y+k),J.preventDefault();break;case"ArrowLeft":pe(Y+(I?1:-1)),J.preventDefault();break;case"ArrowRight":pe(Y+(I?-1:1)),J.preventDefault();break}}),le=Ke((J,Y)=>{pe(Y)}),oe=Ke((J,Y)=>{K===Y&&G(!1)}),q=w.useRef(null),X=qt(r,q);return w.useEffect(()=>{if(i||q.current===null)return;const J=q.current.querySelector('[tabindex="0"]');if(!J)return;const Y=J.offsetHeight,we=J.offsetTop,fe=q.current.clientHeight,$=q.current.scrollTop,U=we+Y;Y>fe||we<$||(q.current.scrollTop=U-fe/2-Y/2)},[i]),x.jsx(Wie,T({ref:X,className:Se(M.root,s),ownerState:A,role:"radiogroup","aria-labelledby":S},D,{children:N.getYearRange([p,h]).map(J=>{const Y=N.getYear(J),we=Y===W,fe=c||Z(J);return x.jsx(Aie,{selected:we,value:Y,onClick:he,onKeyDown:ne,autoFocus:se&&Y===K,disabled:fe,tabIndex:Y===K&&!fe?0:-1,onFocus:le,onBlur:oe,"aria-current":V===Y?"date":void 0,yearsPerRow:k,slots:_,slotProps:B,children:N.format(J,"year")},N.format(J,"year"))})}))}),Uie=t=>Ge("MuiPickersCalendarHeader",t),Gie=je("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),jie=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Yie=["ownerState"],Xie=t=>{const{classes:e}=t;return He({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Uie,e)},qie=Q("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Kie=Q("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>T({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),Qie=Q("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),Jie=Q(fi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Gie.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Zie=Q(Kee,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),ese=w.forwardRef(function(e,r){const n=wi(),i=nr(),s=Fe({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:o,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onMonthChange:f,onViewChange:m,view:g,reduceAnimations:y,views:b,labelId:v,className:k,timezone:C,format:S=`${i.formats.month} ${i.formats.year}`}=s,_=me(s,jie),B=s,D=Xie(s),E=(a==null?void 0:a.switchViewButton)??Jie,R=Mt({elementType:E,externalSlotProps:o==null?void 0:o.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(g)},ownerState:B,className:D.switchViewButton}),O=(a==null?void 0:a.switchViewIcon)??Zie,L=Mt({elementType:O,externalSlotProps:o==null?void 0:o.switchViewIcon,ownerState:void 0,className:D.switchViewIcon}),I=me(L,Yie),N=()=>f(i.addMonths(l,1),"left"),F=()=>f(i.addMonths(l,-1),"right"),A=hte(l,{disableFuture:u,maxDate:h,timezone:C}),M=fte(l,{disablePast:d,minDate:p,timezone:C}),V=()=>{if(!(b.length===1||!m||c))if(b.length===2)m(b.find(K=>K!==g)||b[0]);else{const K=b.indexOf(g)!==0?0:1;m(b[K])}};if(b.length===1&&b[0]==="year")return null;const W=i.formatByString(l,S);return x.jsxs(qie,T({},_,{ownerState:B,className:Se(k,D.root),ref:r,children:[x.jsxs(Kie,{role:"presentation",onClick:V,ownerState:B,"aria-live":"polite",className:D.labelContainer,children:[x.jsx(IA,{reduceAnimations:y,transKey:W,children:x.jsx(Qie,{id:v,ownerState:B,className:D.label,children:W})}),b.length>1&&!c&&x.jsx(E,T({},R,{children:x.jsx(O,T({},I))}))]}),x.jsx(ch,{in:g==="day",children:x.jsx(ZF,{slots:a,slotProps:o,onGoToPrevious:F,isPreviousDisabled:M,previousLabel:n.previousMonth,onGoToNext:N,isNextDisabled:A,nextLabel:n.nextMonth})})]}))}),tse="@media (prefers-reduced-motion: reduce)",vd=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),tM=vd&&vd[1]?parseInt(vd[1],10):null,rM=vd&&vd[2]?parseInt(vd[2],10):null,rse=tM&&tM<10||rM&&rM<13||!1,FA=()=>dC(tse,{defaultMatches:!1})||rse,nse=t=>Ge("MuiDateCalendar",t);je("MuiDateCalendar",["root","viewTransitionContainer"]);const ise=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],sse=t=>{const{classes:e}=t;return He({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},nse,e)};function ase(t,e){const r=nr(),n=gm(),i=FA(),s=Fe({props:t,name:e});return T({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??i,renderLoading:s.renderLoading??(()=>x.jsx("span",{children:"..."})),minDate:sa(r,s.minDate,n.minDate),maxDate:sa(r,s.maxDate,n.maxDate)})}const ose=Q(mv,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:qC}),lse=Q(IA,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),cse=w.forwardRef(function(e,r){const n=nr(),i=ca(),s=ase(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:o,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:p,onYearChange:f,onMonthChange:m,reduceAnimations:g,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:v,view:k,views:C,openTo:S,className:_,disabled:B,readOnly:D,minDate:E,maxDate:R,disableHighlightToday:O,focusedView:L,onFocusedViewChange:I,showDaysOutsideCurrentMonth:N,fixedWeekNumber:F,dayOfWeekFormatter:A,slots:M,slotProps:V,loading:W,renderLoading:K,displayWeekNumber:ie,yearsPerRow:se,monthsPerRow:te,timezone:G}=s,Z=me(s,ise),{value:he,handleValueChange:pe,timezone:ne}=uh({name:"DateCalendar",timezone:G,value:l,defaultValue:c,onChange:p,valueManager:vi}),{view:le,setView:oe,focusedView:q,setFocusedView:X,goToNextView:J,setValueAndGoToNextView:Y}=bm({view:k,views:C,openTo:S,onChange:pe,onViewChange:o,autoFocus:a,focusedView:L,onFocusedViewChange:I}),{referenceDate:we,calendarState:fe,changeFocusedDay:$,changeMonth:U,handleChangeMonth:j,isDateDisabled:ae,onMonthSwitchingAnimationEnd:Be}=Kne({value:he,referenceDate:u,reduceAnimations:g,onMonthChange:m,minDate:E,maxDate:R,shouldDisableDate:y,disablePast:h,disableFuture:d,timezone:ne}),ke=B&&he||E,De=B&&he||R,Je=`${i}-grid-label`,ht=q!==null,It=(M==null?void 0:M.calendarHeader)??ese,_e=Mt({elementType:It,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:C,view:le,currentMonth:fe.currentMonth,onViewChange:oe,onMonthChange:(ot,Qt)=>j({newMonth:ot,direction:Qt}),minDate:ke,maxDate:De,disabled:B,disablePast:h,disableFuture:d,reduceAnimations:g,timezone:ne,labelId:Je},ownerState:s}),ye=Ke(ot=>{const Qt=n.startOfMonth(ot),Ir=n.endOfMonth(ot),Or=ae(ot)?Ef({utils:n,date:ot,minDate:n.isBefore(E,Qt)?Qt:E,maxDate:n.isAfter(R,Ir)?Ir:R,disablePast:h,disableFuture:d,isDateDisabled:ae,timezone:ne}):ot;Or?(Y(Or,"finish"),m==null||m(Qt)):(J(),U(Qt)),$(Or,!0)}),Ze=Ke(ot=>{const Qt=n.startOfYear(ot),Ir=n.endOfYear(ot),Or=ae(ot)?Ef({utils:n,date:ot,minDate:n.isBefore(E,Qt)?Qt:E,maxDate:n.isAfter(R,Ir)?Ir:R,disablePast:h,disableFuture:d,isDateDisabled:ae,timezone:ne}):ot;Or?(Y(Or,"finish"),f==null||f(Or)):(J(),U(Qt)),$(Or,!0)}),kt=Ke(ot=>pe(ot&&i0(n,ot,he??we),"finish",le));w.useEffect(()=>{he!=null&&n.isValid(he)&&U(he)},[he]);const Et=s,Oe=sse(Et),Bt={disablePast:h,disableFuture:d,maxDate:R,minDate:E},Le={disableHighlightToday:O,readOnly:D,disabled:B,timezone:ne,gridLabelId:Je,slots:M,slotProps:V},$e=w.useRef(le);w.useEffect(()=>{$e.current!==le&&(q===$e.current&&X(le,!0),$e.current=le)},[q,X,le]);const _t=w.useMemo(()=>[he],[he]);return x.jsxs(ose,T({ref:r,className:Se(Oe.root,_),ownerState:Et},Z,{children:[x.jsx(It,T({},_e,{slots:M,slotProps:V})),x.jsx(lse,{reduceAnimations:g,className:Oe.viewTransitionContainer,transKey:le,ownerState:Et,children:x.jsxs("div",{children:[le==="year"&&x.jsx(Hie,T({},Bt,Le,{value:he,onChange:Ze,shouldDisableYear:v,hasFocus:ht,onFocusedViewChange:ot=>X("year",ot),yearsPerRow:se,referenceDate:we})),le==="month"&&x.jsx(Eie,T({},Bt,Le,{hasFocus:ht,className:_,value:he,onChange:ye,shouldDisableMonth:b,onFocusedViewChange:ot=>X("month",ot),monthsPerRow:te,referenceDate:we})),le==="day"&&x.jsx(vie,T({},fe,Bt,Le,{onMonthSwitchingAnimationEnd:Be,onFocusedDayChange:$,reduceAnimations:g,selectedDays:_t,onSelectedDaysChange:kt,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:v,hasFocus:ht,onFocusedViewChange:ot=>X("day",ot),showDaysOutsideCurrentMonth:N,fixedWeekNumber:F,dayOfWeekFormatter:A,displayWeekNumber:ie,loading:W,renderLoading:K}))]})})]}))});function AA(t){return Ge("MuiPickersToolbar",t)}je("MuiPickersToolbar",["root","content"]);const use=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],dse=t=>{const{classes:e,isLandscape:r}=t;return He({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},AA,e)},hse=Q("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),fse=Q("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),OA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:a,hidden:o,titleId:l}=n,c=me(n,use),u=n,d=dse(u);return o?null:x.jsxs(hse,T({ref:r,className:Se(d.root,s),ownerState:u},c,{children:[x.jsx(cr,{color:"text.secondary",variant:"overline",id:l,children:a}),x.jsx(fse,{className:d.content,ownerState:u,children:i})]}))});function pse(t){return Ge("MuiDatePickerToolbar",t)}je("MuiDatePickerToolbar",["root","title"]);const mse=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],gse=t=>{const{classes:e}=t;return He({root:["root"],title:["title"]},pse,e)},yse=Q(OA,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bse=Q(cr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),vse=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:a,toolbarPlaceholder:o="",views:l,className:c}=n,u=me(n,mse),d=nr(),h=wi(),p=gse(n),f=w.useMemo(()=>{if(!i)return o;const g=JC(d,{format:a,views:l},!0);return d.formatByString(i,g)},[i,a,o,d,l]),m=n;return x.jsx(yse,T({ref:r,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:Se(p.root,c)},u,{children:x.jsx(bse,{variant:"h4",align:s?"left":"center",ownerState:m,className:p.title,children:f})}))});function $A(t,e){const r=nr(),n=gm(),i=Fe({props:t,name:e}),s=w.useMemo(()=>{var a;return((a=i.localeText)==null?void 0:a.toolbarTitle)==null?i.localeText:T({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return T({},i,{localeText:s},eA({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:sa(r,i.minDate,n.minDate),maxDate:sa(r,i.maxDate,n.maxDate),slots:T({toolbar:vse},i.slots)})}function wse(t){return Ge("MuiPickersPopper",t)}je("MuiPickersPopper",["root","paper"]);const xse=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Sse=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"]},wse,e)},kse=Q(KL,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),Cse=Q(mu,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function Tse(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function _se(t,e){const r=w.useRef(!1),n=w.useRef(!1),i=w.useRef(null),s=w.useRef(!1);w.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const a=Ke(l=>{if(!s.current)return;const c=n.current;n.current=!1;const u=on(i.current);if(!i.current||"clientX"in l&&Tse(l,u))return;if(r.current){r.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),o=()=>{n.current=!0};return w.useEffect(()=>{if(t){const l=on(i.current),c=()=>{r.current=!0};return l.addEventListener("touchstart",a),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchmove",c)}}},[t,a]),w.useEffect(()=>{if(t){const l=on(i.current);return l.addEventListener("click",a),()=>{l.removeEventListener("click",a),n.current=!1}}},[t,a]),[i,o,o]}const Pse=w.forwardRef((t,e)=>{const{PaperComponent:r,popperPlacement:n,ownerState:i,children:s,paperSlotProps:a,paperClasses:o,onPaperClick:l,onPaperTouchStart:c}=t,u=me(t,xse),d=T({},i,{placement:n}),h=Mt({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:o,ownerState:d});return x.jsx(r,T({},u,h,{onClick:p=>{var f;l(p),(f=h.onClick)==null||f.call(h,p)},onTouchStart:p=>{var f;c(p),(f=h.onTouchStart)==null||f.call(h,p)},ownerState:d,children:s}))});function Bse(t){const e=Fe({props:t,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:i=null,shouldRestoreFocus:s,onBlur:a,onDismiss:o,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:p}=e;w.useEffect(()=>{function N(F){l&&F.key==="Escape"&&o()}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[o,l]);const f=w.useRef(null);w.useEffect(()=>{c==="tooltip"||s&&!s()||(l?f.current=Hs(document):f.current&&f.current instanceof HTMLElement&&setTimeout(()=>{f.current instanceof HTMLElement&&f.current.focus()}))},[l,c,s]);const[m,g,y]=_se(l,a??o),b=w.useRef(null),v=qt(b,i),k=qt(v,m),C=e,S=Sse(C),_=FA(),B=p??_,D=N=>{N.key==="Escape"&&(N.stopPropagation(),o())},E=(d==null?void 0:d.desktopTransition)??B?ch:fF,R=(d==null?void 0:d.desktopTrapFocus)??IL,O=(d==null?void 0:d.desktopPaper)??Cse,L=(d==null?void 0:d.popper)??kse,I=Mt({elementType:L,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:r,placement:u,onKeyDown:D},className:S.root,ownerState:e});return x.jsx(L,T({},I,{children:({TransitionProps:N,placement:F})=>x.jsx(R,T({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:x.jsx(E,T({},N,h==null?void 0:h.desktopTransition,{children:x.jsx(Pse,{PaperComponent:O,ownerState:C,popperPlacement:F,ref:k,onPaperClick:g,onPaperTouchStart:y,paperClasses:S.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:n})}))}))}))}const Nse=({open:t,onOpen:e,onClose:r})=>{const n=w.useRef(typeof t=="boolean").current,[i,s]=w.useState(!1);w.useEffect(()=>{if(n){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[n,t]);const a=w.useCallback(o=>{n||s(o),o&&e&&e(),!o&&r&&r()},[n,e,r]);return{isOpen:i,setIsOpen:a}},Mse=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i}=t,s=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:r(n.lastPublishedValue):!1},Ese=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i,closeOnSelect:s}=t,a=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?a?!0:r(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&r(n.lastCommittedValue):!1},Rse=t=>{const{action:e,closeOnSelect:r}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&r:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},Dse=({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:i})=>{const{onAccept:s,onChange:a,value:o,defaultValue:l,closeOnSelect:c=n==="desktop",timezone:u}=t,{current:d}=w.useRef(l),{current:h}=w.useRef(o!==void 0),p=nr(),f=gu(),{isOpen:m,setIsOpen:g}=Nse(t),{timezone:y,value:b,handleValueChange:v}=ZC({timezone:u,value:o,defaultValue:d,onChange:a,valueManager:e}),[k,C]=w.useState(()=>{let se;return b!==void 0?se=b:d!==void 0?se=d:se=e.emptyValue,{draft:se,lastPublishedValue:se,lastCommittedValue:se,lastControlledValue:b,hasBeenModifiedSinceMount:!1}});gA(T({},t,{value:k.draft,timezone:y}),i,e.isSameError,e.defaultErrorState);const S=Ke(se=>{const te={action:se,dateState:k,hasChanged:le=>!e.areValuesEqual(p,se.value,le),isControlled:h,closeOnSelect:c},G=Mse(te),Z=Ese(te),he=Rse(te);C(le=>T({},le,{draft:se.value,lastPublishedValue:G?se.value:le.lastPublishedValue,lastCommittedValue:Z?se.value:le.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let pe=null;const ne=()=>(pe||(pe={validationError:se.name==="setValueFromField"?se.context.validationError:i({adapter:f,value:se.value,props:T({},t,{value:se.value,timezone:y})})},se.name==="setValueFromShortcut"&&(pe.shortcut=se.shortcut)),pe);G&&v(se.value,ne()),Z&&s&&s(se.value,ne()),he&&g(!1)});if(b!==void 0&&(k.lastControlledValue===void 0||!e.areValuesEqual(p,k.lastControlledValue,b))){const se=e.areValuesEqual(p,k.draft,b);C(te=>T({},te,{lastControlledValue:b},se?{}:{lastCommittedValue:b,lastPublishedValue:b,draft:b,hasBeenModifiedSinceMount:!0}))}const _=Ke(()=>{S({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),B=Ke(()=>{S({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),D=Ke(()=>{S({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),E=Ke(()=>{S({value:k.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),R=Ke(()=>{S({value:e.getTodayValue(p,y,r),name:"setValueFromAction",pickerAction:"today"})}),O=Ke(se=>{se.preventDefault(),g(!0)}),L=Ke(se=>{se==null||se.preventDefault(),g(!1)}),I=Ke((se,te="partial")=>S({name:"setValueFromView",value:se,selectionState:te})),N=Ke((se,te,G)=>S({name:"setValueFromShortcut",value:se,changeImportance:te,shortcut:G})),F=Ke((se,te)=>S({name:"setValueFromField",value:se,context:te})),A={onClear:_,onAccept:B,onDismiss:D,onCancel:E,onSetToday:R,onOpen:O,onClose:L},M={value:k.draft,onChange:F},V=w.useMemo(()=>e.cleanValue(p,k.draft),[p,e,k.draft]),W={value:V,onChange:I,onClose:L,open:m},ie=T({},A,{value:V,onChange:I,onSelectShortcut:N,isValid:se=>{const te=i({adapter:f,value:se,props:T({},t,{value:se,timezone:y})});return!e.hasError(te)}});return{open:m,fieldProps:M,viewProps:W,layoutProps:ie,actions:A}},Ise=["className","sx"],Lse=({props:t,propsFromPickerValue:e,additionalViewProps:r,autoFocusView:n,rendererInterceptor:i,fieldRef:s})=>{const{onChange:a,open:o,onClose:l}=e,{view:c,views:u,openTo:d,onViewChange:h,viewRenderers:p,timezone:f}=t,m=me(t,Ise),{view:g,setView:y,defaultView:b,focusedView:v,setFocusedView:k,setValueAndGoToNextView:C}=bm({view:c,views:u,openTo:d,onChange:a,onViewChange:h,autoFocus:n}),{hasUIView:S,viewModeLookup:_}=w.useMemo(()=>u.reduce((I,N)=>{let F;return p[N]!=null?F="UI":F="field",I.viewModeLookup[N]=F,F==="UI"&&(I.hasUIView=!0),I},{hasUIView:!1,viewModeLookup:{}}),[p,u]),B=w.useMemo(()=>u.reduce((I,N)=>p[N]!=null&&gp(N)?I+1:I,0),[p,u]),D=_[g],E=Ke(()=>D==="UI"),[R,O]=w.useState(D==="UI"?g:null);return R!==g&&_[g]==="UI"&&O(g),Gr(()=>{D==="field"&&o&&(l(),setTimeout(()=>{var I,N;(I=s==null?void 0:s.current)==null||I.setSelectedSections(g),(N=s==null?void 0:s.current)==null||N.focusField(g)}))},[g]),Gr(()=>{if(!o)return;let I=g;D==="field"&&R!=null&&(I=R),I!==b&&_[I]==="UI"&&_[b]==="UI"&&(I=b),I!==g&&y(I),k(I,!0)},[o]),{hasUIView:S,shouldRestoreFocus:E,layoutProps:{views:u,view:R,onViewChange:y},renderCurrentView:()=>{if(R==null)return null;const I=p[R];if(I==null)return null;const N=T({},m,r,e,{views:u,timezone:f,onChange:C,view:R,onViewChange:y,focusedView:v,onFocusedViewChange:k,showViewSwitcher:B>1,timeViewsCount:B});return i?i(p,R,N):I(N)}}};function nM(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Fse=(t,e)=>{const[r,n]=w.useState(nM);return Gr(()=>{const s=()=>{n(nM())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),Wu(t,["hours","minutes","seconds"])?!1:(e||r)==="landscape"},Ase=({props:t,propsFromPickerValue:e,propsFromPickerViews:r,wrapperVariant:n})=>{const{orientation:i}=t,s=Fse(r.views,i),a=qn();return{layoutProps:T({},r,e,{isLandscape:s,isRtl:a,wrapperVariant:n,disabled:t.disabled,readOnly:t.readOnly})}},VA=(t,e="warning")=>{let r=!1;const n=Array.isArray(t)?t.join(`
`):t;return()=>{r||(r=!0,e==="error"?console.error(n):console.warn(n))}};VA(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const zA=({props:t,valueManager:e,valueType:r,wrapperVariant:n,additionalViewProps:i,validator:s,autoFocusView:a,rendererInterceptor:o,fieldRef:l})=>{const c=Dse({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:s}),u=Lse({props:t,additionalViewProps:i,autoFocusView:a,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:o}),d=Ase({props:t,wrapperVariant:n,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function WA(t){return Ge("MuiPickersLayout",t)}const fc=je("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Ose=["onAccept","onClear","onCancel","onSetToday","actions"];function $se(t){const{onAccept:e,onClear:r,onCancel:n,onSetToday:i,actions:s}=t,a=me(t,Ose),o=wi();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return x.jsx(Ri,{onClick:r,children:o.clearButtonLabel},c);case"cancel":return x.jsx(Ri,{onClick:n,children:o.cancelButtonLabel},c);case"accept":return x.jsx(Ri,{onClick:e,children:o.okButtonLabel},c);case"today":return x.jsx(Ri,{onClick:i,children:o.todayButtonLabel},c);default:return null}});return x.jsx(tF,T({},a,{children:l}))}const Vse=["items","changeImportance","isLandscape","onChange","isValid"],zse=["getValue"];function Wse(t){const{items:e,changeImportance:r="accept",onChange:n,isValid:i}=t,s=me(t,Vse);if(e==null||e.length===0)return null;const a=e.map(o=>{let{getValue:l}=o,c=me(o,zse);const u=l({isValid:i});return T({},c,{label:c.label,onClick:()=>{n(u,r,c)},disabled:!i(u)})});return x.jsx(pm,T({dense:!0,sx:[{maxHeight:qC,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:a.map(o=>x.jsx(bF,{children:x.jsx(Lj,T({},o))},o.id??o.label))}))}function Hse(t){return t.view!==null}const Use=t=>{const{classes:e,isLandscape:r}=t;return He({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},WA,e)},Gse=t=>{const{wrapperVariant:e,onAccept:r,onClear:n,onCancel:i,onSetToday:s,view:a,views:o,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:p,disabled:f,readOnly:m,children:g,slots:y,slotProps:b}=t,v=Use(t),k=(y==null?void 0:y.actionBar)??$se,C=Mt({elementType:k,externalSlotProps:b==null?void 0:b.actionBar,additionalProps:{onAccept:r,onClear:n,onCancel:i,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"]},className:v.actionBar,ownerState:T({},t,{wrapperVariant:e})}),S=x.jsx(k,T({},C)),_=y==null?void 0:y.toolbar,B=Mt({elementType:_,externalSlotProps:b==null?void 0:b.toolbar,additionalProps:{isLandscape:p,onChange:u,value:c,view:a,onViewChange:l,views:o,disabled:f,readOnly:m},className:v.toolbar,ownerState:T({},t,{wrapperVariant:e})}),D=Hse(B)&&_?x.jsx(_,T({},B)):null,E=g,R=y==null?void 0:y.tabs,O=a&&R?x.jsx(R,T({view:a,onViewChange:l,className:v.tabs},b==null?void 0:b.tabs)):null,L=(y==null?void 0:y.shortcuts)??Wse,I=Mt({elementType:L,externalSlotProps:b==null?void 0:b.shortcuts,additionalProps:{isValid:h,isLandscape:p,onChange:d},className:v.shortcuts,ownerState:{isValid:h,isLandscape:p,onChange:d,wrapperVariant:e}}),N=a&&L?x.jsx(L,T({},I)):null;return{toolbar:D,content:E,tabs:O,actionBar:S,shortcuts:N}},jse=t=>{const{isLandscape:e,classes:r}=t;return He({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},WA,r)},Yse=Q("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${fc.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${fc.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${fc.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${fc.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${fc.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${fc.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${fc.shortcuts}`]:{gridColumn:3}}}]}),Xse=Q("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),HA=function(e){const r=Fe({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:s,actionBar:a,shortcuts:o}=Gse(r),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=r,p=jse(r);return x.jsxs(Yse,{ref:d,sx:l,className:Se(c,p.root),ownerState:r,children:[u?o:n,u?n:o,x.jsx(Xse,{className:p.contentWrapper,children:h==="desktop"?x.jsxs(w.Fragment,{children:[i,s]}):x.jsxs(w.Fragment,{children:[s,i]})}),a]})},qse=["props","getOpenDialogAriaText"],Kse=["ownerState"],Qse=["ownerState"],UA=t=>{var X;let{props:e,getOpenDialogAriaText:r}=t,n=me(t,qse);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:y,disabled:b,autoFocus:v,localeText:k,reduceAnimations:C}=e,S=nr(),_=w.useRef(null),B=w.useRef(null),D=ca(),E=((X=s==null?void 0:s.toolbar)==null?void 0:X.hidden)??!1,{open:R,actions:O,hasUIView:L,layoutProps:I,renderCurrentView:N,shouldRestoreFocus:F,fieldProps:A}=zA(T({},n,{props:e,fieldRef:B,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),M=i.inputAdornment??mF,V=Mt({elementType:M,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),W=me(V,Kse),K=i.openPickerButton??fi,ie=Mt({elementType:K,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:b||y,onClick:R?O.onClose:O.onOpen,"aria-label":r(A.value,S),edge:W.position},ownerState:e}),se=me(ie,Qse),te=i.openPickerIcon,G=i.field,Z=Mt({elementType:G,externalSlotProps:s==null?void 0:s.field,additionalProps:T({},A,E&&{id:D},{readOnly:y,disabled:b,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f,autoFocus:v&&!e.open,focused:R?!0:void 0},g?{inputRef:g}:{}),ownerState:e});L&&(Z.InputProps=T({},Z.InputProps,{ref:_},!e.disableOpenPicker&&{[`${W.position}Adornment`]:x.jsx(M,T({},W,{children:x.jsx(K,T({},se,{children:x.jsx(te,T({},s==null?void 0:s.openPickerIcon))}))}))}));const he=T({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},Z.slots),pe=i.layout??HA;let ne=D;E&&(m?ne=`${D}-label`:ne=void 0);const le=T({},s,{toolbar:T({},s==null?void 0:s.toolbar,{titleId:D}),popper:T({"aria-labelledby":ne},s==null?void 0:s.popper)}),oe=qt(B,Z.unstableFieldRef);return{renderPicker:()=>x.jsxs(YC,{localeText:k,children:[x.jsx(G,T({},Z,{slots:he,slotProps:le,unstableFieldRef:oe})),x.jsx(Bse,T({role:"dialog",placement:"bottom-start",anchorEl:_.current},O,{open:R,slots:i,slotProps:le,shouldRestoreFocus:F,reduceAnimations:C,children:x.jsx(pe,T({},I,le==null?void 0:le.layout,{slots:i,slotProps:le,children:N()}))}))]})}},wd=({view:t,onViewChange:e,views:r,focusedView:n,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:b,onMonthChange:v,monthsPerRow:k,onYearChange:C,yearsPerRow:S,slots:_,slotProps:B,loading:D,renderLoading:E,disableHighlightToday:R,readOnly:O,disabled:L,showDaysOutsideCurrentMonth:I,dayOfWeekFormatter:N,sx:F,autoFocus:A,fixedWeekNumber:M,displayWeekNumber:V,timezone:W})=>x.jsx(cse,{view:t,onViewChange:e,views:r.filter(UN),focusedView:n&&UN(n)?n:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:b,onMonthChange:v,monthsPerRow:k,onYearChange:C,yearsPerRow:S,slots:_,slotProps:B,loading:D,renderLoading:E,disableHighlightToday:R,readOnly:O,disabled:L,showDaysOutsideCurrentMonth:I,dayOfWeekFormatter:N,sx:F,autoFocus:A,fixedWeekNumber:M,displayWeekNumber:V,timezone:W}),GA=w.forwardRef(function(e,r){var c,u;const n=wi(),i=nr(),s=$A(e,"MuiDesktopDatePicker"),a=T({day:wd,month:wd,year:wd},s.viewRenderers),o=T({},s,{viewRenderers:a,format:JC(i,s,!1),yearsPerRow:s.yearsPerRow??4,slots:T({openPickerIcon:Zee,field:EA},s.slots),slotProps:T({},s.slotProps,{field:d=>{var h;return T({},um((h=s.slotProps)==null?void 0:h.field,d),bv(s),{ref:r})},toolbar:T({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=UA({props:o,valueManager:vi,valueType:"date",getOpenDialogAriaText:((u=o.localeText)==null?void 0:u.openDatePickerDialogue)??n.openDatePickerDialogue,validator:yv});return l()});GA.propTypes={autoFocus:z.bool,className:z.string,closeOnSelect:z.bool,dayOfWeekFormatter:z.func,defaultValue:z.object,disabled:z.bool,disableFuture:z.bool,disableHighlightToday:z.bool,disableOpenPicker:z.bool,disablePast:z.bool,displayWeekNumber:z.bool,enableAccessibleFieldDOMStructure:z.any,fixedWeekNumber:z.number,format:z.string,formatDensity:z.oneOf(["dense","spacious"]),inputRef:$b,label:z.node,loading:z.bool,localeText:z.object,maxDate:z.object,minDate:z.object,monthsPerRow:z.oneOf([3,4]),name:z.string,onAccept:z.func,onChange:z.func,onClose:z.func,onError:z.func,onMonthChange:z.func,onOpen:z.func,onSelectedSectionsChange:z.func,onViewChange:z.func,onYearChange:z.func,open:z.bool,openTo:z.oneOf(["day","month","year"]),orientation:z.oneOf(["landscape","portrait"]),readOnly:z.bool,reduceAnimations:z.bool,referenceDate:z.object,renderLoading:z.func,selectedSections:z.oneOfType([z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),z.number]),shouldDisableDate:z.func,shouldDisableMonth:z.func,shouldDisableYear:z.func,showDaysOutsideCurrentMonth:z.bool,slotProps:z.object,slots:z.object,sx:z.oneOfType([z.arrayOf(z.oneOfType([z.func,z.object,z.bool])),z.func,z.object]),timezone:z.string,value:z.object,view:z.oneOf(["day","month","year"]),viewRenderers:z.shape({day:z.func,month:z.func,year:z.func}),views:z.arrayOf(z.oneOf(["day","month","year"]).isRequired),yearsPerRow:z.oneOf([3,4])};const Jse=Q(fm)({[`& .${Bf.container}`]:{outline:0},[`& .${Bf.paper}`]:{outline:0,minWidth:pv}}),Zse=Q(rF)({"&:first-of-type":{padding:0}});function eae(t){const{children:e,onDismiss:r,open:n,slots:i,slotProps:s}=t,a=(i==null?void 0:i.dialog)??Jse,o=(i==null?void 0:i.mobileTransition)??ch;return x.jsx(a,T({open:n,onClose:r},s==null?void 0:s.dialog,{TransitionComponent:o,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:x.jsx(Zse,{children:e})}))}const tae=["props","getOpenDialogAriaText"],jA=t=>{var K;let{props:e,getOpenDialogAriaText:r}=t,n=me(t,tae);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:y,disabled:b,localeText:v}=e,k=nr(),C=w.useRef(null),S=ca(),_=((K=s==null?void 0:s.toolbar)==null?void 0:K.hidden)??!1,{open:B,actions:D,layoutProps:E,renderCurrentView:R,fieldProps:O}=zA(T({},n,{props:e,fieldRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),L=i.field,I=Mt({elementType:L,externalSlotProps:s==null?void 0:s.field,additionalProps:T({},O,_&&{id:S},!(b||y)&&{onClick:D.onOpen,onKeyDown:Kre(D.onOpen)},{readOnly:y??!0,disabled:b,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f},g?{inputRef:g}:{}),ownerState:e});I.inputProps=T({},I.inputProps,{"aria-label":r(O.value,k)});const N=T({textField:i.textField},I.slots),F=i.layout??HA;let A=S;_&&(m?A=`${S}-label`:A=void 0);const M=T({},s,{toolbar:T({},s==null?void 0:s.toolbar,{titleId:S}),mobilePaper:T({"aria-labelledby":A},s==null?void 0:s.mobilePaper)}),V=qt(C,I.unstableFieldRef);return{renderPicker:()=>x.jsxs(YC,{localeText:v,children:[x.jsx(L,T({},I,{slots:N,slotProps:M,unstableFieldRef:V})),x.jsx(eae,T({},D,{open:B,slots:i,slotProps:M,children:x.jsx(F,T({},E,M==null?void 0:M.layout,{slots:i,slotProps:M,children:R()}))}))]})}},YA=w.forwardRef(function(e,r){var c,u;const n=wi(),i=nr(),s=$A(e,"MuiMobileDatePicker"),a=T({day:wd,month:wd,year:wd},s.viewRenderers),o=T({},s,{viewRenderers:a,format:JC(i,s,!1),slots:T({field:EA},s.slots),slotProps:T({},s.slotProps,{field:d=>{var h;return T({},um((h=s.slotProps)==null?void 0:h.field,d),bv(s),{ref:r})},toolbar:T({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=jA({props:o,valueManager:vi,valueType:"date",getOpenDialogAriaText:((u=o.localeText)==null?void 0:u.openDatePickerDialogue)??n.openDatePickerDialogue,validator:yv});return l()});YA.propTypes={autoFocus:z.bool,className:z.string,closeOnSelect:z.bool,dayOfWeekFormatter:z.func,defaultValue:z.object,disabled:z.bool,disableFuture:z.bool,disableHighlightToday:z.bool,disableOpenPicker:z.bool,disablePast:z.bool,displayWeekNumber:z.bool,enableAccessibleFieldDOMStructure:z.any,fixedWeekNumber:z.number,format:z.string,formatDensity:z.oneOf(["dense","spacious"]),inputRef:$b,label:z.node,loading:z.bool,localeText:z.object,maxDate:z.object,minDate:z.object,monthsPerRow:z.oneOf([3,4]),name:z.string,onAccept:z.func,onChange:z.func,onClose:z.func,onError:z.func,onMonthChange:z.func,onOpen:z.func,onSelectedSectionsChange:z.func,onViewChange:z.func,onYearChange:z.func,open:z.bool,openTo:z.oneOf(["day","month","year"]),orientation:z.oneOf(["landscape","portrait"]),readOnly:z.bool,reduceAnimations:z.bool,referenceDate:z.object,renderLoading:z.func,selectedSections:z.oneOfType([z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),z.number]),shouldDisableDate:z.func,shouldDisableMonth:z.func,shouldDisableYear:z.func,showDaysOutsideCurrentMonth:z.bool,slotProps:z.object,slots:z.object,sx:z.oneOfType([z.arrayOf(z.oneOfType([z.func,z.object,z.bool])),z.func,z.object]),timezone:z.string,value:z.object,view:z.oneOf(["day","month","year"]),viewRenderers:z.shape({day:z.func,month:z.func,year:z.func}),views:z.arrayOf(z.oneOf(["day","month","year"]).isRequired),yearsPerRow:z.oneOf([3,4])};const rae=["desktopModeMediaQuery"],nae=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=yA}=n,s=me(n,rae);return dC(i,{defaultMatches:!0})?x.jsx(GA,T({ref:r},s)):x.jsx(YA,T({ref:r},s))});function iae(t){return Ge("MuiPickersToolbarText",t)}const iM=je("MuiPickersToolbarText",["root","selected"]),sae=["className","selected","value"],aae=t=>{const{classes:e,selected:r}=t;return He({root:["root",r&&"selected"]},iae,e)},oae=Q(cr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${iM.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${iM.selected}`]:{color:(t.vars||t).palette.text.primary}})),XA=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbarText"}),{className:i,value:s}=n,a=me(n,sae),o=aae(n);return x.jsx(oae,T({ref:r,className:Se(i,o.root),component:"span"},a,{children:s}))}),lae=["align","className","selected","typographyClassName","value","variant","width"],cae=t=>{const{classes:e}=t;return He({root:["root"]},AA,e)},uae=Q(Ri,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),Uh=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbarButton"}),{align:i,className:s,selected:a,typographyClassName:o,value:l,variant:c,width:u}=n,d=me(n,lae),h=cae(n);return x.jsx(uae,T({variant:"text",ref:r,className:Se(s,h.root)},u?{sx:{width:u}}:{},d,{children:x.jsx(XA,{align:i,className:o,variant:c,value:l,selected:a})}))});function dae(t){return Ge("MuiTimePickerToolbar",t)}const Rf=je("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),hae=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],fae=t=>{const{isLandscape:e,classes:r,isRtl:n}=t;return He({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},dae,r)},pae=Q(OA,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mae=Q(XA,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),gae=Q("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${Rf.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${Rf.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),yae=Q("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${Rf.ampmLabel}`]:e.ampmLabel},{[`&.${Rf.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Rf.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function bae(t){const e=Fe({props:t,name:"MuiTimePickerToolbar"}),{ampm:r,ampmInClock:n,value:i,isLandscape:s,onChange:a,view:o,onViewChange:l,views:c,disabled:u,readOnly:d,className:h}=e,p=me(e,hae),f=nr(),m=wi(),g=qn(),y=!!(r&&!n&&c.includes("hours")),{meridiemMode:b,handleMeridiemChange:v}=XC(i,r,a),k=B=>r?f.format(B,"hours12h"):f.format(B,"hours24h"),C=T({},e,{isRtl:g}),S=fae(C),_=x.jsx(mae,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:S.separator});return x.jsxs(pae,T({landscapeDirection:"row",toolbarTitle:m.timePickerToolbarTitle,isLandscape:s,ownerState:C,className:Se(S.root,h)},p,{children:[x.jsxs(gae,{className:S.hourMinuteLabel,ownerState:C,children:[Wu(c,"hours")&&x.jsx(Uh,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:o==="hours",value:i?k(i):"--"}),Wu(c,["hours","minutes"])&&_,Wu(c,"minutes")&&x.jsx(Uh,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:o==="minutes",value:i?f.format(i,"minutes"):"--"}),Wu(c,["minutes","seconds"])&&_,Wu(c,"seconds")&&x.jsx(Uh,{variant:"h3",onClick:()=>l("seconds"),selected:o==="seconds",value:i?f.format(i,"seconds"):"--"})]}),y&&x.jsxs(yae,{className:S.ampmSelection,ownerState:C,children:[x.jsx(Uh,{disableRipple:!0,variant:"subtitle2",selected:b==="am",typographyClassName:S.ampmLabel,value:Nl(f,"am"),onClick:d?void 0:()=>v("am"),disabled:u}),x.jsx(Uh,{disableRipple:!0,variant:"subtitle2",selected:b==="pm",typographyClassName:S.ampmLabel,value:Nl(f,"pm"),onClick:d?void 0:()=>v("pm"),disabled:u})]})]}))}function qA(t,e){var a;const r=nr(),n=Fe({props:t,name:e}),i=n.ampm??r.is12HourCycleInCurrentLocale(),s=w.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:T({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return T({},n,{ampm:i,localeText:s},eA({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,slots:T({toolbar:bae},n.slots),slotProps:T({},n.slotProps,{toolbar:T({ampm:i,ampmInClock:n.ampmInClock},(a=n.slotProps)==null?void 0:a.toolbar)})})}const zw=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,ampmInClock:b,slots:v,slotProps:k,readOnly:C,disabled:S,sx:_,autoFocus:B,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:E,timezone:R})=>x.jsx(pre,{view:t,onViewChange:e,focusedView:r&&gp(r)?r:null,onFocusedViewChange:n,views:i.filter(gp),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,ampmInClock:b,slots:v,slotProps:k,readOnly:C,disabled:S,sx:_,autoFocus:B,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:E,timezone:R}),vae=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R})=>x.jsx(xre,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(gp),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeStep:D==null?void 0:D.minutes,skipDisabled:E,timezone:R}),sM=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R})=>x.jsx(Dre,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(gp),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R}),wae=(t,e,r)=>r?e.filter(n=>!cte(n)||n==="hours"):t?[...e,"meridiem"]:e,xae=(t,e)=>24*60/((t.hours??1)*(t.minutes??5))<=e;function Sae({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:r,views:n}){const i=t??24,s=T({hours:1,minutes:5,seconds:5},r),a=xae(s,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:s,shouldRenderTimeInASingleColumn:a,views:wae(e,n,a)}}const KA=w.forwardRef(function(e,r){var y,b,v,k;const n=wi(),i=nr(),s=qA(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:o,timeSteps:l}=Sae(s),c=a?vae:sM,u=T({hours:c,minutes:c,seconds:c,meridiem:c},s.viewRenderers),d=s.ampmInClock??!0,h=a?[]:["accept"],f=((y=u.hours)==null?void 0:y.name)===sM.name?o:o.filter(C=>C!=="meridiem"),m=T({},s,{ampmInClock:d,timeSteps:l,viewRenderers:u,format:rA(i,s),views:a?["hours"]:f,slots:T({field:RA,openPickerIcon:ete},s.slots),slotProps:T({},s.slotProps,{field:C=>{var S;return T({},um((S=s.slotProps)==null?void 0:S.field,C),bv(s),{ref:r})},toolbar:T({hidden:!0,ampmInClock:d},(b=s.slotProps)==null?void 0:b.toolbar),actionBar:T({actions:h},(v=s.slotProps)==null?void 0:v.actionBar)})}),{renderPicker:g}=UA({props:m,valueManager:vi,valueType:"time",getOpenDialogAriaText:((k=m.localeText)==null?void 0:k.openTimePickerDialogue)??n.openTimePickerDialogue,validator:sT});return g()});KA.propTypes={ampm:z.bool,ampmInClock:z.bool,autoFocus:z.bool,className:z.string,closeOnSelect:z.bool,defaultValue:z.object,disabled:z.bool,disableFuture:z.bool,disableIgnoringDatePartForTimeValidation:z.bool,disableOpenPicker:z.bool,disablePast:z.bool,enableAccessibleFieldDOMStructure:z.any,format:z.string,formatDensity:z.oneOf(["dense","spacious"]),inputRef:$b,label:z.node,localeText:z.object,maxTime:z.object,minTime:z.object,minutesStep:z.number,name:z.string,onAccept:z.func,onChange:z.func,onClose:z.func,onError:z.func,onOpen:z.func,onSelectedSectionsChange:z.func,onViewChange:z.func,open:z.bool,openTo:z.oneOf(["hours","meridiem","minutes","seconds"]),orientation:z.oneOf(["landscape","portrait"]),readOnly:z.bool,reduceAnimations:z.bool,referenceDate:z.object,selectedSections:z.oneOfType([z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),z.number]),shouldDisableTime:z.func,skipDisabled:z.bool,slotProps:z.object,slots:z.object,sx:z.oneOfType([z.arrayOf(z.oneOfType([z.func,z.object,z.bool])),z.func,z.object]),thresholdToRenderTimeInASingleColumn:z.number,timeSteps:z.shape({hours:z.number,minutes:z.number,seconds:z.number}),timezone:z.string,value:z.object,view:z.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:z.shape({hours:z.func,meridiem:z.func,minutes:z.func,seconds:z.func}),views:z.arrayOf(z.oneOf(["hours","minutes","seconds"]).isRequired)};const QA=w.forwardRef(function(e,r){var u,d;const n=wi(),i=nr(),s=qA(e,"MuiMobileTimePicker"),a=T({hours:zw,minutes:zw,seconds:zw},s.viewRenderers),o=s.ampmInClock??!1,l=T({},s,{ampmInClock:o,viewRenderers:a,format:rA(i,s),slots:T({field:RA},s.slots),slotProps:T({},s.slotProps,{field:h=>{var p;return T({},um((p=s.slotProps)==null?void 0:p.field,h),bv(s),{ref:r})},toolbar:T({hidden:!1,ampmInClock:o},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:c}=jA({props:l,valueManager:vi,valueType:"time",getOpenDialogAriaText:((d=l.localeText)==null?void 0:d.openTimePickerDialogue)??n.openTimePickerDialogue,validator:sT});return c()});QA.propTypes={ampm:z.bool,ampmInClock:z.bool,autoFocus:z.bool,className:z.string,closeOnSelect:z.bool,defaultValue:z.object,disabled:z.bool,disableFuture:z.bool,disableIgnoringDatePartForTimeValidation:z.bool,disableOpenPicker:z.bool,disablePast:z.bool,enableAccessibleFieldDOMStructure:z.any,format:z.string,formatDensity:z.oneOf(["dense","spacious"]),inputRef:$b,label:z.node,localeText:z.object,maxTime:z.object,minTime:z.object,minutesStep:z.number,name:z.string,onAccept:z.func,onChange:z.func,onClose:z.func,onError:z.func,onOpen:z.func,onSelectedSectionsChange:z.func,onViewChange:z.func,open:z.bool,openTo:z.oneOf(["hours","minutes","seconds"]),orientation:z.oneOf(["landscape","portrait"]),readOnly:z.bool,reduceAnimations:z.bool,referenceDate:z.object,selectedSections:z.oneOfType([z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),z.number]),shouldDisableTime:z.func,slotProps:z.object,slots:z.object,sx:z.oneOfType([z.arrayOf(z.oneOfType([z.func,z.object,z.bool])),z.func,z.object]),timezone:z.string,value:z.object,view:z.oneOf(["hours","minutes","seconds"]),viewRenderers:z.shape({hours:z.func,minutes:z.func,seconds:z.func}),views:z.arrayOf(z.oneOf(["hours","minutes","seconds"]).isRequired)};const kae=["desktopModeMediaQuery"],aM=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=yA}=n,s=me(n,kae);return dC(i,{defaultMatches:!0})?x.jsx(KA,T({ref:r},s)):x.jsx(QA,T({ref:r},s))});var vm=t=>t.type==="checkbox",od=t=>t instanceof Date,Pi=t=>t==null;const JA=t=>typeof t=="object";var Xn=t=>!Pi(t)&&!Array.isArray(t)&&JA(t)&&!od(t),ZA=t=>Xn(t)&&t.target?vm(t.target)?t.target.checked:t.target.value:t,Cae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,eO=(t,e)=>t.has(Cae(e)),Tae=t=>{const e=t.constructor&&t.constructor.prototype;return Xn(e)&&e.hasOwnProperty("isPrototypeOf")},aT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vi(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(aT&&(t instanceof Blob||t instanceof FileList))&&(r||Xn(t)))if(e=r?[]:{},!r&&!Tae(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Vi(t[n]));else return t;return e}var wm=t=>Array.isArray(t)?t.filter(Boolean):[],yn=t=>t===void 0,qe=(t,e,r)=>{if(!e||!Xn(t))return r;const n=wm(e.split(/[,[\].]+?/)).reduce((i,s)=>Pi(i)?i:i[s],t);return yn(n)||n===t?yn(t[e])?r:t[e]:n},ro=t=>typeof t=="boolean",oT=t=>/^\w*$/.test(t),tO=t=>wm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Mr=(t,e,r)=>{let n=-1;const i=oT(e)?[e]:tO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Xn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const s0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},So={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_ae=Ct.createContext(null),lT=()=>Ct.useContext(_ae);var rO=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==_a.all&&(e._proxyFormState[a]=!n||_a.all),r&&(r[a]=!0),t[a]}});return i},ls=t=>Xn(t)&&!Object.keys(t).length,nO=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return ls(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||_a.all))},iy=t=>Array.isArray(t)?t:[t],iO=(t,e,r)=>!t||!e||t===e||iy(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function cT(t){const e=Ct.useRef(t);e.current=t,Ct.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Pae(t){const e=lT(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ct.useState(r._formState),l=Ct.useRef(!0),c=Ct.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ct.useRef(i);return u.current=i,cT({disabled:n,next:d=>l.current&&iO(u.current,d.name,s)&&nO(d,c.current,r._updateFormState)&&o({...r._formState,...d}),subject:r._subjects.state}),Ct.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),rO(a,r,c.current,!1)}var ao=t=>typeof t=="string",sO=(t,e,r,n,i)=>ao(t)?(n&&e.watch.add(t),qe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),qe(r,s))):(n&&(e.watchAll=!0),r);function Bae(t){const e=lT(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=Ct.useRef(n);o.current=n,cT({disabled:s,subject:r._subjects.values,next:u=>{iO(o.current,u.name,a)&&c(Vi(sO(o.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=Ct.useState(r._getWatch(n,i));return Ct.useEffect(()=>r._removeUnmounted()),l}function Nae(t){const e=lT(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=eO(i._names.array,r),o=Bae({control:i,name:r,defaultValue:qe(i._formValues,r,qe(i._defaultValues,r,t.defaultValue)),exact:!0}),l=Pae({control:i,name:r}),c=Ct.useRef(i.register(r,{...t.rules,value:o,...ro(t.disabled)?{disabled:t.disabled}:{}}));return Ct.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(h,p)=>{const f=qe(i._fields,h);f&&f._f&&(f._f.mount=p)};if(d(r,!0),u){const h=Vi(qe(i._options.defaultValues,r));Mr(i._defaultValues,r,h),yn(qe(i._formValues,r))&&Mr(i._formValues,r,h)}return()=>{(a?u&&!i._state.action:u)?i.unregister(r):d(r,!1)}},[r,i,a,s]),Ct.useEffect(()=>{qe(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:qe(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:o,...ro(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:Ct.useCallback(u=>c.current.onChange({target:{value:ZA(u),name:r},type:s0.CHANGE}),[r]),onBlur:Ct.useCallback(()=>c.current.onBlur({target:{value:qe(i._formValues,r),name:r},type:s0.BLUR}),[r,i]),ref:u=>{const d=qe(i._fields,r);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!qe(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!qe(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!qe(l.validatingFields,r)},error:{enumerable:!0,get:()=>qe(l.errors,r)}})}}const sy=t=>t.render(Nae(t));var Mae=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},oM=t=>({isOnSubmit:!t||t===_a.onSubmit,isOnBlur:t===_a.onBlur,isOnChange:t===_a.onChange,isOnAll:t===_a.all,isOnTouch:t===_a.onTouched}),lM=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Df=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=qe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;Df(o,e)}else Xn(o)&&Df(o,e)}}};var Eae=(t,e,r)=>{const n=wm(qe(t,r));return Mr(n,"root",e[r]),Mr(t,r,n),t},uT=t=>t.type==="file",Ml=t=>typeof t=="function",a0=t=>{if(!aT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ay=t=>ao(t),dT=t=>t.type==="radio",o0=t=>t instanceof RegExp;const cM={value:!1,isValid:!1},uM={value:!0,isValid:!0};var aO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yn(t[0].attributes.value)?yn(t[0].value)||t[0].value===""?uM:{value:t[0].value,isValid:!0}:uM:cM}return cM};const dM={isValid:!1,value:null};var oO=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,dM):dM;function hM(t,e,r="validate"){if(ay(t)||Array.isArray(t)&&t.every(ay)||ro(t)&&!t)return{type:r,message:ay(t)?t:"",ref:e}}var Du=t=>Xn(t)&&!o0(t)?t:{value:t,message:""},fM=async(t,e,r,n,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:p,name:f,valueAsNumber:m,mount:g,disabled:y}=t._f,b=qe(e,f);if(!g||y)return{};const v=a?a[0]:s,k=O=>{n&&v.reportValidity&&(v.setCustomValidity(ro(O)?"":O||""),v.reportValidity())},C={},S=dT(s),_=vm(s),B=S||_,D=(m||uT(s))&&yn(s.value)&&yn(b)||a0(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,E=Mae.bind(null,f,r,C),R=(O,L,I,N=So.maxLength,F=So.minLength)=>{const A=O?L:I;C[f]={type:O?N:F,message:A,ref:s,...E(O?N:F,A)}};if(i?!Array.isArray(b)||!b.length:o&&(!B&&(D||Pi(b))||ro(b)&&!b||_&&!aO(a).isValid||S&&!oO(a).isValid)){const{value:O,message:L}=ay(o)?{value:!!o,message:o}:Du(o);if(O&&(C[f]={type:So.required,message:L,ref:v,...E(So.required,L)},!r))return k(L),C}if(!D&&(!Pi(u)||!Pi(d))){let O,L;const I=Du(d),N=Du(u);if(!Pi(b)&&!isNaN(b)){const F=s.valueAsNumber||b&&+b;Pi(I.value)||(O=F>I.value),Pi(N.value)||(L=F<N.value)}else{const F=s.valueAsDate||new Date(b),A=W=>new Date(new Date().toDateString()+" "+W),M=s.type=="time",V=s.type=="week";ao(I.value)&&b&&(O=M?A(b)>A(I.value):V?b>I.value:F>new Date(I.value)),ao(N.value)&&b&&(L=M?A(b)<A(N.value):V?b<N.value:F<new Date(N.value))}if((O||L)&&(R(!!O,I.message,N.message,So.max,So.min),!r))return k(C[f].message),C}if((l||c)&&!D&&(ao(b)||i&&Array.isArray(b))){const O=Du(l),L=Du(c),I=!Pi(O.value)&&b.length>+O.value,N=!Pi(L.value)&&b.length<+L.value;if((I||N)&&(R(I,O.message,L.message),!r))return k(C[f].message),C}if(h&&!D&&ao(b)){const{value:O,message:L}=Du(h);if(o0(O)&&!b.match(O)&&(C[f]={type:So.pattern,message:L,ref:s,...E(So.pattern,L)},!r))return k(L),C}if(p){if(Ml(p)){const O=await p(b,e),L=hM(O,v);if(L&&(C[f]={...L,...E(So.validate,L.message)},!r))return k(L.message),C}else if(Xn(p)){let O={};for(const L in p){if(!ls(O)&&!r)break;const I=hM(await p[L](b,e),v,L);I&&(O={...I,...E(L,I.message)},k(I.message),r&&(C[f]=O))}if(!ls(O)&&(C[f]={ref:v,...O},!r))return C}}return k(!0),C};function Rae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=yn(t)?n++:t[e[n++]];return t}function Dae(t){for(const e in t)if(t.hasOwnProperty(e)&&!yn(t[e]))return!1;return!0}function zn(t,e){const r=Array.isArray(e)?e:oT(e)?[e]:tO(e),n=r.length===1?t:Rae(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Xn(n)&&ls(n)||Array.isArray(n)&&Dae(n))&&zn(t,r.slice(0,-1)),t}var Ww=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},l0=t=>Pi(t)||!JA(t);function Ec(t,e){if(l0(t)||l0(e))return t===e;if(od(t)&&od(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(od(s)&&od(a)||Xn(s)&&Xn(a)||Array.isArray(s)&&Array.isArray(a)?!Ec(s,a):s!==a)return!1}}return!0}var lO=t=>t.type==="select-multiple",Iae=t=>dT(t)||vm(t),Hw=t=>a0(t)&&t.isConnected,cO=t=>{for(const e in t)if(Ml(t[e]))return!0;return!1};function c0(t,e={}){const r=Array.isArray(t);if(Xn(t)||r)for(const n in t)Array.isArray(t[n])||Xn(t[n])&&!cO(t[n])?(e[n]=Array.isArray(t[n])?[]:{},c0(t[n],e[n])):Pi(t[n])||(e[n]=!0);return e}function uO(t,e,r){const n=Array.isArray(t);if(Xn(t)||n)for(const i in t)Array.isArray(t[i])||Xn(t[i])&&!cO(t[i])?yn(e)||l0(r[i])?r[i]=Array.isArray(t[i])?c0(t[i],[]):{...c0(t[i])}:uO(t[i],Pi(e)?{}:e[i],r[i]):r[i]=!Ec(t[i],e[i]);return r}var fg=(t,e)=>uO(t,e,c0(e)),dO=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>yn(t)?t:e?t===""?NaN:t&&+t:r&&ao(t)?new Date(t):n?n(t):t;function Uw(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return uT(e)?e.files:dT(e)?oO(t.refs).value:lO(e)?[...e.selectedOptions].map(({value:r})=>r):vm(e)?aO(t.refs).value:dO(yn(e.value)?t.ref.value:e.value,t)}var Lae=(t,e,r,n)=>{const i={};for(const s of t){const a=qe(e,s);a&&Mr(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Gh=t=>yn(t)?t:o0(t)?t.source:Xn(t)?o0(t.value)?t.value.source:t.value:t,Fae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function pM(t,e,r){const n=qe(t,r);if(n||oT(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=qe(e,s),o=qe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var Aae=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Oae=(t,e)=>!wm(qe(t,e)).length&&zn(t,e);const $ae={mode:_a.onSubmit,reValidateMode:_a.onChange,shouldFocusError:!0};function Vae(t={}){let e={...$ae,...t},r={submitCount:0,isDirty:!1,isLoading:Ml(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Xn(e.defaultValues)||Xn(e.values)?Vi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Vi(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Ww(),array:Ww(),state:Ww()},h=oM(e.mode),p=oM(e.reValidateMode),f=e.criteriaMode===_a.all,m=$=>U=>{clearTimeout(c),c=setTimeout($,U)},g=async $=>{if(u.isValid||$){const U=e.resolver?ls((await B()).errors):await E(n,!0);U!==r.isValid&&d.state.next({isValid:U})}},y=($,U)=>{(u.isValidating||u.validatingFields)&&(($||Array.from(o.mount)).forEach(j=>{j&&(U?Mr(r.validatingFields,j,U):zn(r.validatingFields,j))}),d.state.next({validatingFields:r.validatingFields,isValidating:!ls(r.validatingFields)}))},b=($,U=[],j,ae,Be=!0,ke=!0)=>{if(ae&&j){if(a.action=!0,ke&&Array.isArray(qe(n,$))){const De=j(qe(n,$),ae.argA,ae.argB);Be&&Mr(n,$,De)}if(ke&&Array.isArray(qe(r.errors,$))){const De=j(qe(r.errors,$),ae.argA,ae.argB);Be&&Mr(r.errors,$,De),Oae(r.errors,$)}if(u.touchedFields&&ke&&Array.isArray(qe(r.touchedFields,$))){const De=j(qe(r.touchedFields,$),ae.argA,ae.argB);Be&&Mr(r.touchedFields,$,De)}u.dirtyFields&&(r.dirtyFields=fg(i,s)),d.state.next({name:$,isDirty:O($,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mr(s,$,U)},v=($,U)=>{Mr(r.errors,$,U),d.state.next({errors:r.errors})},k=$=>{r.errors=$,d.state.next({errors:r.errors,isValid:!1})},C=($,U,j,ae)=>{const Be=qe(n,$);if(Be){const ke=qe(s,$,yn(j)?qe(i,$):j);yn(ke)||ae&&ae.defaultChecked||U?Mr(s,$,U?ke:Uw(Be._f)):N($,ke),a.mount&&g()}},S=($,U,j,ae,Be)=>{let ke=!1,De=!1;const Je={name:$},ht=!!(qe(n,$)&&qe(n,$)._f&&qe(n,$)._f.disabled);if(!j||ae){u.isDirty&&(De=r.isDirty,r.isDirty=Je.isDirty=O(),ke=De!==Je.isDirty);const It=ht||Ec(qe(i,$),U);De=!!(!ht&&qe(r.dirtyFields,$)),It||ht?zn(r.dirtyFields,$):Mr(r.dirtyFields,$,!0),Je.dirtyFields=r.dirtyFields,ke=ke||u.dirtyFields&&De!==!It}if(j){const It=qe(r.touchedFields,$);It||(Mr(r.touchedFields,$,j),Je.touchedFields=r.touchedFields,ke=ke||u.touchedFields&&It!==j)}return ke&&Be&&d.state.next(Je),ke?Je:{}},_=($,U,j,ae)=>{const Be=qe(r.errors,$),ke=u.isValid&&ro(U)&&r.isValid!==U;if(t.delayError&&j?(l=m(()=>v($,j)),l(t.delayError)):(clearTimeout(c),l=null,j?Mr(r.errors,$,j):zn(r.errors,$)),(j?!Ec(Be,j):Be)||!ls(ae)||ke){const De={...ae,...ke&&ro(U)?{isValid:U}:{},errors:r.errors,name:$};r={...r,...De},d.state.next(De)}},B=async $=>{y($,!0);const U=await e.resolver(s,e.context,Lae($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y($),U},D=async $=>{const{errors:U}=await B($);if($)for(const j of $){const ae=qe(U,j);ae?Mr(r.errors,j,ae):zn(r.errors,j)}else r.errors=U;return U},E=async($,U,j={valid:!0})=>{for(const ae in $){const Be=$[ae];if(Be){const{_f:ke,...De}=Be;if(ke){const Je=o.array.has(ke.name);y([ae],!0);const ht=await fM(Be,s,f,e.shouldUseNativeValidation&&!U,Je);if(y([ae]),ht[ke.name]&&(j.valid=!1,U))break;!U&&(qe(ht,ke.name)?Je?Eae(r.errors,ht,ke.name):Mr(r.errors,ke.name,ht[ke.name]):zn(r.errors,ke.name))}De&&await E(De,U,j)}}return j.valid},R=()=>{for(const $ of o.unMount){const U=qe(n,$);U&&(U._f.refs?U._f.refs.every(j=>!Hw(j)):!Hw(U._f.ref))&&Z($)}o.unMount=new Set},O=($,U)=>($&&U&&Mr(s,$,U),!Ec(K(),i)),L=($,U,j)=>sO($,o,{...a.mount?s:yn(U)?i:ao($)?{[$]:U}:U},j,U),I=$=>wm(qe(a.mount?s:i,$,t.shouldUnregister?qe(i,$,[]):[])),N=($,U,j={})=>{const ae=qe(n,$);let Be=U;if(ae){const ke=ae._f;ke&&(!ke.disabled&&Mr(s,$,dO(U,ke)),Be=a0(ke.ref)&&Pi(U)?"":U,lO(ke.ref)?[...ke.ref.options].forEach(De=>De.selected=Be.includes(De.value)):ke.refs?vm(ke.ref)?ke.refs.length>1?ke.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(Be)?!!Be.find(Je=>Je===De.value):Be===De.value)):ke.refs[0]&&(ke.refs[0].checked=!!Be):ke.refs.forEach(De=>De.checked=De.value===Be):uT(ke.ref)?ke.ref.value="":(ke.ref.value=Be,ke.ref.type||d.values.next({name:$,values:{...s}})))}(j.shouldDirty||j.shouldTouch)&&S($,Be,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&W($)},F=($,U,j)=>{for(const ae in U){const Be=U[ae],ke=`${$}.${ae}`,De=qe(n,ke);(o.array.has($)||!l0(Be)||De&&!De._f)&&!od(Be)?F(ke,Be,j):N(ke,Be,j)}},A=($,U,j={})=>{const ae=qe(n,$),Be=o.array.has($),ke=Vi(U);Mr(s,$,ke),Be?(d.array.next({name:$,values:{...s}}),(u.isDirty||u.dirtyFields)&&j.shouldDirty&&d.state.next({name:$,dirtyFields:fg(i,s),isDirty:O($,ke)})):ae&&!ae._f&&!Pi(ke)?F($,ke,j):N($,ke,j),lM($,o)&&d.state.next({...r}),d.values.next({name:a.mount?$:void 0,values:{...s}})},M=async $=>{a.mount=!0;const U=$.target;let j=U.name,ae=!0;const Be=qe(n,j),ke=()=>U.type?Uw(Be._f):ZA($),De=Je=>{ae=Number.isNaN(Je)||Je===qe(s,j,Je)};if(Be){let Je,ht;const It=ke(),_e=$.type===s0.BLUR||$.type===s0.FOCUS_OUT,ye=!Fae(Be._f)&&!e.resolver&&!qe(r.errors,j)&&!Be._f.deps||Aae(_e,qe(r.touchedFields,j),r.isSubmitted,p,h),Ze=lM(j,o,_e);Mr(s,j,It),_e?(Be._f.onBlur&&Be._f.onBlur($),l&&l(0)):Be._f.onChange&&Be._f.onChange($);const kt=S(j,It,_e,!1),Et=!ls(kt)||Ze;if(!_e&&d.values.next({name:j,type:$.type,values:{...s}}),ye)return u.isValid&&g(),Et&&d.state.next({name:j,...Ze?{}:kt});if(!_e&&Ze&&d.state.next({...r}),e.resolver){const{errors:Oe}=await B([j]);if(De(It),ae){const Bt=pM(r.errors,n,j),Le=pM(Oe,n,Bt.name||j);Je=Le.error,j=Le.name,ht=ls(Oe)}}else y([j],!0),Je=(await fM(Be,s,f,e.shouldUseNativeValidation))[j],y([j]),De(It),ae&&(Je?ht=!1:u.isValid&&(ht=await E(n,!0)));ae&&(Be._f.deps&&W(Be._f.deps),_(j,ht,Je,kt))}},V=($,U)=>{if(qe(r.errors,U)&&$.focus)return $.focus(),1},W=async($,U={})=>{let j,ae;const Be=iy($);if(e.resolver){const ke=await D(yn($)?$:Be);j=ls(ke),ae=$?!Be.some(De=>qe(ke,De)):j}else $?(ae=(await Promise.all(Be.map(async ke=>{const De=qe(n,ke);return await E(De&&De._f?{[ke]:De}:De)}))).every(Boolean),!(!ae&&!r.isValid)&&g()):ae=j=await E(n);return d.state.next({...!ao($)||u.isValid&&j!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:j}:{},errors:r.errors}),U.shouldFocus&&!ae&&Df(n,V,$?Be:o.mount),ae},K=$=>{const U={...a.mount?s:i};return yn($)?U:ao($)?qe(U,$):$.map(j=>qe(U,j))},ie=($,U)=>({invalid:!!qe((U||r).errors,$),isDirty:!!qe((U||r).dirtyFields,$),error:qe((U||r).errors,$),isValidating:!!qe(r.validatingFields,$),isTouched:!!qe((U||r).touchedFields,$)}),se=$=>{$&&iy($).forEach(U=>zn(r.errors,U)),d.state.next({errors:$?r.errors:{}})},te=($,U,j)=>{const ae=(qe(n,$,{_f:{}})._f||{}).ref,Be=qe(r.errors,$)||{},{ref:ke,message:De,type:Je,...ht}=Be;Mr(r.errors,$,{...ht,...U,ref:ae}),d.state.next({name:$,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&ae&&ae.focus&&ae.focus()},G=($,U)=>Ml($)?d.values.subscribe({next:j=>$(L(void 0,U),j)}):L($,U,!0),Z=($,U={})=>{for(const j of $?iy($):o.mount)o.mount.delete(j),o.array.delete(j),U.keepValue||(zn(n,j),zn(s,j)),!U.keepError&&zn(r.errors,j),!U.keepDirty&&zn(r.dirtyFields,j),!U.keepTouched&&zn(r.touchedFields,j),!U.keepIsValidating&&zn(r.validatingFields,j),!e.shouldUnregister&&!U.keepDefaultValue&&zn(i,j);d.values.next({values:{...s}}),d.state.next({...r,...U.keepDirty?{isDirty:O()}:{}}),!U.keepIsValid&&g()},he=({disabled:$,name:U,field:j,fields:ae,value:Be})=>{if(ro($)&&a.mount||$){const ke=$?void 0:yn(Be)?Uw(j?j._f:qe(ae,U)._f):Be;Mr(s,U,ke),S(U,ke,!1,!1,!0)}},pe=($,U={})=>{let j=qe(n,$);const ae=ro(U.disabled);return Mr(n,$,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:$}},name:$,mount:!0,...U}}),o.mount.add($),j?he({field:j,disabled:U.disabled,name:$,value:U.value}):C($,!0,U.value),{...ae?{disabled:U.disabled}:{},...e.progressive?{required:!!U.required,min:Gh(U.min),max:Gh(U.max),minLength:Gh(U.minLength),maxLength:Gh(U.maxLength),pattern:Gh(U.pattern)}:{},name:$,onChange:M,onBlur:M,ref:Be=>{if(Be){pe($,U),j=qe(n,$);const ke=yn(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,De=Iae(ke),Je=j._f.refs||[];if(De?Je.find(ht=>ht===ke):ke===j._f.ref)return;Mr(n,$,{_f:{...j._f,...De?{refs:[...Je.filter(Hw),ke,...Array.isArray(qe(i,$))?[{}]:[]],ref:{type:ke.type,name:$}}:{ref:ke}}}),C($,!1,void 0,ke)}else j=qe(n,$,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(eO(o.array,$)&&a.action)&&o.unMount.add($)}}},ne=()=>e.shouldFocusError&&Df(n,V,o.mount),le=$=>{ro($)&&(d.state.next({disabled:$}),Df(n,(U,j)=>{const ae=qe(n,j);ae&&(U.disabled=ae._f.disabled||$,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(Be=>{Be.disabled=ae._f.disabled||$}))},0,!1))},oe=($,U)=>async j=>{let ae;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let Be=Vi(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:De}=await B();r.errors=ke,Be=De}else await E(n);if(zn(r.errors,"root"),ls(r.errors)){d.state.next({errors:{}});try{await $(Be,j)}catch(ke){ae=ke}}else U&&await U({...r.errors},j),ne(),setTimeout(ne);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ls(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},q=($,U={})=>{qe(n,$)&&(yn(U.defaultValue)?A($,Vi(qe(i,$))):(A($,U.defaultValue),Mr(i,$,Vi(U.defaultValue))),U.keepTouched||zn(r.touchedFields,$),U.keepDirty||(zn(r.dirtyFields,$),r.isDirty=U.defaultValue?O($,Vi(qe(i,$))):O()),U.keepError||(zn(r.errors,$),u.isValid&&g()),d.state.next({...r}))},X=($,U={})=>{const j=$?Vi($):i,ae=Vi(j),Be=ls($),ke=Be?i:ae;if(U.keepDefaultValues||(i=j),!U.keepValues){if(U.keepDirtyValues)for(const De of o.mount)qe(r.dirtyFields,De)?Mr(ke,De,qe(s,De)):A(De,qe(ke,De));else{if(aT&&yn($))for(const De of o.mount){const Je=qe(n,De);if(Je&&Je._f){const ht=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(a0(ht)){const It=ht.closest("form");if(It){It.reset();break}}}}n={}}s=t.shouldUnregister?U.keepDefaultValues?Vi(i):{}:Vi(ke),d.array.next({values:{...ke}}),d.values.next({values:{...ke}})}o={mount:U.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,a.watch=!!t.shouldUnregister,d.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:Be?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Ec($,i)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Be?[]:U.keepDirtyValues?U.keepDefaultValues&&s?fg(i,s):r.dirtyFields:U.keepDefaultValues&&$?fg(i,$):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},J=($,U)=>X(Ml($)?$(s):$,U);return{control:{register:pe,unregister:Z,getFieldState:ie,handleSubmit:oe,setError:te,_executeSchema:B,_getWatch:L,_getDirty:O,_updateValid:g,_removeUnmounted:R,_updateFieldArray:b,_updateDisabledField:he,_getFieldArray:I,_reset:X,_resetDefaultValues:()=>Ml(e.defaultValues)&&e.defaultValues().then($=>{J($,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:le,_subjects:d,_proxyFormState:u,_setErrors:k,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:W,register:pe,handleSubmit:oe,watch:G,setValue:A,getValues:K,reset:J,resetField:q,clearErrors:se,unregister:Z,setError:te,setFocus:($,U={})=>{const j=qe(n,$),ae=j&&j._f;if(ae){const Be=ae.refs?ae.refs[0]:ae.ref;Be.focus&&(Be.focus(),U.shouldSelect&&Be.select())}},getFieldState:ie}}function hO(t={}){const e=Ct.useRef(),r=Ct.useRef(),[n,i]=Ct.useState({isDirty:!1,isValidating:!1,isLoading:Ml(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ml(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Vae(t),formState:n});const s=e.current.control;return s._options=t,cT({subject:s._subjects.state,next:a=>{nO(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ct.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ct.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ct.useEffect(()=>{t.values&&!Ec(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Ct.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ct.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ct.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=rO(n,s),e.current}var fO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",f="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var N=["th","st","nd","rd"],F=I%100;return"["+I+(N[(F-20)%10]||N[F]||N[0])+"]"}},v=function(I,N,F){var A=String(I);return!A||A.length>=N?I:""+Array(N+1-A.length).join(F)+I},k={s:v,z:function(I){var N=-I.utcOffset(),F=Math.abs(N),A=Math.floor(F/60),M=F%60;return(N<=0?"+":"-")+v(A,2,"0")+":"+v(M,2,"0")},m:function I(N,F){if(N.date()<F.date())return-I(F,N);var A=12*(F.year()-N.year())+(F.month()-N.month()),M=N.clone().add(A,d),V=F-M<0,W=N.clone().add(A+(V?-1:1),d);return+(-(A+(F-M)/(V?M-W:W-M))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:d,y:p,w:u,d:c,D:f,h:l,m:o,s:a,ms:s,Q:h}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},C="en",S={};S[C]=b;var _="$isDayjsObject",B=function(I){return I instanceof O||!(!I||!I[_])},D=function I(N,F,A){var M;if(!N)return C;if(typeof N=="string"){var V=N.toLowerCase();S[V]&&(M=V),F&&(S[V]=F,M=V);var W=N.split("-");if(!M&&W.length>1)return I(W[0])}else{var K=N.name;S[K]=N,M=K}return!A&&M&&(C=M),M||!A&&C},E=function(I,N){if(B(I))return I.clone();var F=typeof N=="object"?N:{};return F.date=I,F.args=arguments,new O(F)},R=k;R.l=D,R.i=B,R.w=function(I,N){return E(I,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var O=function(){function I(F){this.$L=D(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[_]=!0}var N=I.prototype;return N.parse=function(F){this.$d=function(A){var M=A.date,V=A.utc;if(M===null)return new Date(NaN);if(R.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var W=M.match(g);if(W){var K=W[2]-1||0,ie=(W[7]||"0").substring(0,3);return V?new Date(Date.UTC(W[1],K,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ie)):new Date(W[1],K,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ie)}}return new Date(M)}(F),this.init()},N.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},N.$utils=function(){return R},N.isValid=function(){return this.$d.toString()!==m},N.isSame=function(F,A){var M=E(F);return this.startOf(A)<=M&&M<=this.endOf(A)},N.isAfter=function(F,A){return E(F)<this.startOf(A)},N.isBefore=function(F,A){return this.endOf(A)<E(F)},N.$g=function(F,A,M){return R.u(F)?this[A]:this.set(M,F)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(F,A){var M=this,V=!!R.u(A)||A,W=R.p(F),K=function(ne,le){var oe=R.w(M.$u?Date.UTC(M.$y,le,ne):new Date(M.$y,le,ne),M);return V?oe:oe.endOf(c)},ie=function(ne,le){return R.w(M.toDate()[ne].apply(M.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(le)),M)},se=this.$W,te=this.$M,G=this.$D,Z="set"+(this.$u?"UTC":"");switch(W){case p:return V?K(1,0):K(31,11);case d:return V?K(1,te):K(0,te+1);case u:var he=this.$locale().weekStart||0,pe=(se<he?se+7:se)-he;return K(V?G-pe:G+(6-pe),te);case c:case f:return ie(Z+"Hours",0);case l:return ie(Z+"Minutes",1);case o:return ie(Z+"Seconds",2);case a:return ie(Z+"Milliseconds",3);default:return this.clone()}},N.endOf=function(F){return this.startOf(F,!1)},N.$set=function(F,A){var M,V=R.p(F),W="set"+(this.$u?"UTC":""),K=(M={},M[c]=W+"Date",M[f]=W+"Date",M[d]=W+"Month",M[p]=W+"FullYear",M[l]=W+"Hours",M[o]=W+"Minutes",M[a]=W+"Seconds",M[s]=W+"Milliseconds",M)[V],ie=V===c?this.$D+(A-this.$W):A;if(V===d||V===p){var se=this.clone().set(f,1);se.$d[K](ie),se.init(),this.$d=se.set(f,Math.min(this.$D,se.daysInMonth())).$d}else K&&this.$d[K](ie);return this.init(),this},N.set=function(F,A){return this.clone().$set(F,A)},N.get=function(F){return this[R.p(F)]()},N.add=function(F,A){var M,V=this;F=Number(F);var W=R.p(A),K=function(te){var G=E(V);return R.w(G.date(G.date()+Math.round(te*F)),V)};if(W===d)return this.set(d,this.$M+F);if(W===p)return this.set(p,this.$y+F);if(W===c)return K(1);if(W===u)return K(7);var ie=(M={},M[o]=n,M[l]=i,M[a]=r,M)[W]||1,se=this.$d.getTime()+F*ie;return R.w(se,this)},N.subtract=function(F,A){return this.add(-1*F,A)},N.format=function(F){var A=this,M=this.$locale();if(!this.isValid())return M.invalidDate||m;var V=F||"YYYY-MM-DDTHH:mm:ssZ",W=R.z(this),K=this.$H,ie=this.$m,se=this.$M,te=M.weekdays,G=M.months,Z=M.meridiem,he=function(le,oe,q,X){return le&&(le[oe]||le(A,V))||q[oe].slice(0,X)},pe=function(le){return R.s(K%12||12,le,"0")},ne=Z||function(le,oe,q){var X=le<12?"AM":"PM";return q?X.toLowerCase():X};return V.replace(y,function(le,oe){return oe||function(q){switch(q){case"YY":return String(A.$y).slice(-2);case"YYYY":return R.s(A.$y,4,"0");case"M":return se+1;case"MM":return R.s(se+1,2,"0");case"MMM":return he(M.monthsShort,se,G,3);case"MMMM":return he(G,se);case"D":return A.$D;case"DD":return R.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return he(M.weekdaysMin,A.$W,te,2);case"ddd":return he(M.weekdaysShort,A.$W,te,3);case"dddd":return te[A.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ne(K,ie,!0);case"A":return ne(K,ie,!1);case"m":return String(ie);case"mm":return R.s(ie,2,"0");case"s":return String(A.$s);case"ss":return R.s(A.$s,2,"0");case"SSS":return R.s(A.$ms,3,"0");case"Z":return W}return null}(le)||W.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(F,A,M){var V,W=this,K=R.p(A),ie=E(F),se=(ie.utcOffset()-this.utcOffset())*n,te=this-ie,G=function(){return R.m(W,ie)};switch(K){case p:V=G()/12;break;case d:V=G();break;case h:V=G()/3;break;case u:V=(te-se)/6048e5;break;case c:V=(te-se)/864e5;break;case l:V=te/i;break;case o:V=te/n;break;case a:V=te/r;break;default:V=te}return M?V:R.a(V)},N.daysInMonth=function(){return this.endOf(d).$D},N.$locale=function(){return S[this.$L]},N.locale=function(F,A){if(!F)return this.$L;var M=this.clone(),V=D(F,A,!0);return V&&(M.$L=V),M},N.clone=function(){return R.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},I}(),L=O.prototype;return E.prototype=L,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",d],["$y",p],["$D",f]].forEach(function(I){L[I[1]]=function(N){return this.$g(N,I[0],I[1])}}),E.extend=function(I,N){return I.$i||(I(N,O,E),I.$i=!0),E},E.locale=D,E.isDayjs=B,E.unix=function(I){return E(1e3*I)},E.en=S[C],E.Ls=S,E.p={},E})})(fO);var zae=fO.exports;const kn=aa(zae),Wae={day:kn(),startTime:kn(),endTime:kn()};function mM({open:t,onClose:e,shift:r,_handleSubmit:n}){const{control:i,handleSubmit:s}=hO({defaultValues:r||Wae});return x.jsxs(fm,{open:t,onClose:e,children:[x.jsxs(nF,{children:[r?"Edit":"Add"," Shift"]}),x.jsxs(rF,{children:[x.jsx(sy,{name:"day",control:i,render:({field:a})=>x.jsx(nae,{value:a.value,onChange:a.onChange})}),x.jsxs("div",{children:[x.jsx(sy,{name:"startTime",control:i,render:({field:a})=>x.jsx(aM,{value:a.value,onChange:a.onChange})}),x.jsx(sy,{name:"endTime",control:i,render:({field:a})=>x.jsx(aM,{value:a.value,onChange:a.onChange})})]})]}),x.jsx(tF,{children:x.jsx(Ri,{onClick:s(n),children:"Submit"})})]})}function Hae(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),[i,s]=w.useState(null);function a(l){var c=[...t];c[i]=l,e(c),s(null)}function o(l){e([...t,l]),n(!1)}return x.jsxs(il,{title:"Shifts",children:[x.jsx(pm,{children:t.map((l,c)=>x.jsxs(x.Fragment,{children:[x.jsx(H9,{title:l.day.format("dddd, MMMM D")+" - "+l.endTime.diff(l.startTime,"hours")+" hours",action:x.jsx(fi,{onClick:()=>s(c),children:x.jsx(EF,{})})}),x.jsx(hp,{children:l.startTime.format("h:mm a")+" to "+l.endTime.format("h:mm a")})]}))}),x.jsx(hX,{color:"primary",sx:{position:"absolute",right:16,bottom:16},onClick:()=>{n(!0)},children:x.jsx(VC,{})}),x.jsx(mM,{open:r,onClose:()=>{n(!1)},_handleSubmit:o}),x.jsx(mM,{open:i!==null,onClose:()=>{s(null)},shift:i!==null?t[i]:void 0,_handleSubmit:a})]})}var pO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){var r="week",n="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(n).add(1,n).date(c),d=a(this).endOf(r);if(u.isBefore(d))return 1}var h=a(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),p=this.diff(h,r,!0);return p<0?a(this).startOf("week").week():Math.ceil(p)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(pO);var Uae=pO.exports;const Gae=aa(Uae);var mO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(g){this[m]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(m)}],d=function(m){var g=o[m];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(m,g){var y,b=o.meridiem;if(b){for(var v=1;v<=24;v+=1)if(m.indexOf(b(v,0,g))>-1){y=v>12;break}}else y=m===(g?"pm":"PM");return y},p={A:[a,function(m){this.afternoon=h(m,!1)}],a:[a,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[i,c("day")],Do:[a,function(m){var g=o.ordinal,y=m.match(/\d+/);if(this.day=y[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[s,c("month")],MM:[i,c("month")],MMM:[a,function(m){var g=d("months"),y=(d("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(m){var g=d("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function f(m){var g,y;g=m,y=o&&o.formats;for(var b=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,E,R){var O=R&&R.toUpperCase();return E||y[R]||r[R]||y[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,I,N){return I||N.slice(1)})})).match(n),v=b.length,k=0;k<v;k+=1){var C=b[k],S=p[C],_=S&&S[0],B=S&&S[1];b[k]=B?{regex:_,parser:B}:C.replace(/^\[|\]$/g,"")}return function(D){for(var E={},R=0,O=0;R<v;R+=1){var L=b[R];if(typeof L=="string")O+=L.length;else{var I=L.regex,N=L.parser,F=D.slice(O),A=I.exec(F)[0];N.call(E,A),D=D.replace(A,"")}}return function(M){var V=M.afternoon;if(V!==void 0){var W=M.hours;V?W<12&&(M.hours+=12):W===12&&(M.hours=0),delete M.afternoon}}(E),E}}return function(m,g,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var b=g.prototype,v=b.parse;b.parse=function(k){var C=k.date,S=k.utc,_=k.args;this.$u=S;var B=_[1];if(typeof B=="string"){var D=_[2]===!0,E=_[3]===!0,R=D||E,O=_[2];E&&(O=_[2]),o=this.$locale(),!D&&O&&(o=y.Ls[O]),this.$d=function(F,A,M){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*F);var V=f(A)(F),W=V.year,K=V.month,ie=V.day,se=V.hours,te=V.minutes,G=V.seconds,Z=V.milliseconds,he=V.zone,pe=new Date,ne=ie||(W||K?1:pe.getDate()),le=W||pe.getFullYear(),oe=0;W&&!K||(oe=K>0?K-1:pe.getMonth());var q=se||0,X=te||0,J=G||0,Y=Z||0;return he?new Date(Date.UTC(le,oe,ne,q,X,J,Y+60*he.offset*1e3)):M?new Date(Date.UTC(le,oe,ne,q,X,J,Y)):new Date(le,oe,ne,q,X,J,Y)}catch{return new Date("")}}(C,B,S),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),R&&C!=this.format(B)&&(this.$d=new Date("")),o={}}else if(B instanceof Array)for(var L=B.length,I=1;I<=L;I+=1){_[1]=B[I-1];var N=y.apply(this,_);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}I===L&&(this.$d=new Date(""))}else v.call(this,k)}}})})(mO);var jae=mO.exports;const Yae=aa(jae);var gO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var a=i.prototype,o=a.format;s.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,f,m){var g=m&&m.toUpperCase();return f||h[m]||r[m]||h[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,b,v){return b||v.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})})(gO);var Xae=gO.exports;const qae=aa(Xae);var yO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){return function(r,n,i){n.prototype.isBetween=function(s,a,o,l){var c=i(s),u=i(a),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(d?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}})})(yO);var Kae=yO.exports;const Qae=aa(Kae);var bO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(so,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(bO);var Jae=bO.exports;const Zae=aa(Jae);kn.extend(qae);kn.extend(Gae);kn.extend(Qae);kn.extend(Zae);const eoe=VA(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),toe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},roe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Gw=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),gM=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),noe=(t,e)=>e?(...r)=>t(...r).locale(e):t;class ioe{constructor({locale:e,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=toe,this.setLocaleToValue=n=>{const i=this.getCurrentLocaleCode();return i===n.locale()?n:n.locale(i)},this.hasUTCPlugin=()=>typeof kn.utc<"u",this.hasTimezonePlugin=()=>typeof kn.tz<"u",this.isSame=(n,i,s)=>{const a=this.setTimezone(i,this.getTimezone(n));return n.format(s)===a.format(s)},this.cleanTimezone=n=>{switch(n){case"default":return;case"system":return kn.tz.guess();default:return n}},this.createSystemDate=n=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=kn.tz.guess();return i!=="UTC"?kn.tz(n,i):kn(n)}return kn(n)},this.createUTCDate=n=>{if(!this.hasUTCPlugin())throw new Error(Gw);return kn.utc(n)},this.createTZDate=(n,i)=>{if(!this.hasUTCPlugin())throw new Error(Gw);if(!this.hasTimezonePlugin())throw new Error(gM);const s=n!==void 0&&!n.endsWith("Z");return kn(n).tz(this.cleanTimezone(i),s)},this.getLocaleFormats=()=>{const n=kn.Ls,i=this.locale||"en";let s=n[i];return s===void 0&&(eoe(),s=n.en),s.formats},this.adjustOffset=n=>{if(!this.hasTimezonePlugin())return n;const i=this.getTimezone(n);if(i!=="UTC"){const s=n.tz(this.cleanTimezone(i),!0);if((s.$offset??0)===(n.$offset??0))return n;n.$offset=s.$offset}return n},this.date=(n,i="default")=>{if(n===null)return null;let s;return i==="UTC"?s=this.createUTCDate(n):i==="system"||i==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(n):s=this.createTZDate(n,i),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>kn(new Date("Invalid date")),this.getTimezone=n=>{var i;if(this.hasTimezonePlugin()){const s=(i=n.$x)==null?void 0:i.$timezone;if(s)return s}return this.hasUTCPlugin()&&n.isUTC()?"UTC":"system"},this.setTimezone=(n,i)=>{if(this.getTimezone(n)===i)return n;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(Gw);return n.utc()}if(i==="system")return n.local();if(!this.hasTimezonePlugin()){if(i==="default")return n;throw new Error(gM)}return kn.tz(n,this.cleanTimezone(i))},this.toJsDate=n=>n.toDate(),this.parse=(n,i)=>n===""?null:this.dayjs(n,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=n=>{const i=this.getLocaleFormats(),s=a=>a.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(o,l,c)=>l||c.slice(1));return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(a,o,l)=>{const c=l&&l.toUpperCase();return o||i[l]||s(i[c])})},this.isValid=n=>n==null?!1:n.isValid(),this.format=(n,i)=>this.formatByString(n,this.formats[i]),this.formatByString=(n,i)=>this.dayjs(n).format(i),this.formatNumber=n=>n,this.isEqual=(n,i)=>n===null&&i===null?!0:n===null||i===null?!1:n.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(n,i)=>this.isSame(n,i,"YYYY"),this.isSameMonth=(n,i)=>this.isSame(n,i,"YYYY-MM"),this.isSameDay=(n,i)=>this.isSame(n,i,"YYYY-MM-DD"),this.isSameHour=(n,i)=>n.isSame(i,"hour"),this.isAfter=(n,i)=>n>i,this.isAfterYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()>i.utc():n.isAfter(i,"year"),this.isAfterDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()>i.utc():n.isAfter(i,"day"),this.isBefore=(n,i)=>n<i,this.isBeforeYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()<i.utc():n.isBefore(i,"year"),this.isBeforeDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()<i.utc():n.isBefore(i,"day"),this.isWithinRange=(n,[i,s])=>n>=i&&n<=s,this.startOfYear=n=>this.adjustOffset(n.startOf("year")),this.startOfMonth=n=>this.adjustOffset(n.startOf("month")),this.startOfWeek=n=>this.adjustOffset(n.startOf("week")),this.startOfDay=n=>this.adjustOffset(n.startOf("day")),this.endOfYear=n=>this.adjustOffset(n.endOf("year")),this.endOfMonth=n=>this.adjustOffset(n.endOf("month")),this.endOfWeek=n=>this.adjustOffset(n.endOf("week")),this.endOfDay=n=>this.adjustOffset(n.endOf("day")),this.addYears=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"year"):n.add(i,"year")),this.addMonths=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"month"):n.add(i,"month")),this.addWeeks=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"week"):n.add(i,"week")),this.addDays=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"day"):n.add(i,"day")),this.addHours=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"hour"):n.add(i,"hour")),this.addMinutes=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"minute"):n.add(i,"minute")),this.addSeconds=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"second"):n.add(i,"second")),this.getYear=n=>n.year(),this.getMonth=n=>n.month(),this.getDate=n=>n.date(),this.getHours=n=>n.hour(),this.getMinutes=n=>n.minute(),this.getSeconds=n=>n.second(),this.getMilliseconds=n=>n.millisecond(),this.setYear=(n,i)=>this.adjustOffset(n.set("year",i)),this.setMonth=(n,i)=>this.adjustOffset(n.set("month",i)),this.setDate=(n,i)=>this.adjustOffset(n.set("date",i)),this.setHours=(n,i)=>this.adjustOffset(n.set("hour",i)),this.setMinutes=(n,i)=>this.adjustOffset(n.set("minute",i)),this.setSeconds=(n,i)=>this.adjustOffset(n.set("second",i)),this.setMilliseconds=(n,i)=>this.adjustOffset(n.set("millisecond",i)),this.getDaysInMonth=n=>n.daysInMonth(),this.getWeekArray=n=>{const i=this.setLocaleToValue(n),s=this.startOfWeek(this.startOfMonth(i)),a=this.endOfWeek(this.endOfMonth(i));let o=0,l=s;const c=[];for(;l<a;){const u=Math.floor(o/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),o+=1}return c},this.getWeekNumber=n=>n.week(),this.getYearRange=([n,i])=>{const s=this.startOfYear(n),a=this.endOfYear(i),o=[];let l=s;for(;this.isBefore(l,a);)o.push(l),l=this.addYears(l,1);return o},this.dayjs=noe(kn,e),this.locale=e,this.formats=T({},roe,r),kn.extend(Yae)}getDayOfWeek(e){return e.day()+1}}function vO(t,e){let r=[...e];if(r.length<2)return r;for(let n=0;n<t;n++)r.push(r.shift());return r}var tr;(t=>{t.unison={n:1,offset:0},t.octave={n:8,offset:0};function e(c){const u=c.offset;switch(c.n){case 1:return 0+u;case 2:return 2+u;case 3:return 4+u;case 4:return 5+u;case 5:return 7+u;case 6:return 9+u;case 7:return 11+u;default:return e({n:c.n-7,offset:c.offset})+12}}t.halfSteps=e;function r(c){return{n:9-c.n,offset:i(c)?c.offset*-1:c.offset*-1-1}}t.invert=r;function n(c){return{n:c.n%7===0?7:c.n%7,offset:c.offset}}t.toSimple=n;function i(c){const u=c.n%7;return u==1||u==4||u==5}t.isPerfect=i;function s(c,u){const d=c.n+u.n-1;var h;return i({n:d,offset:0})?h=c.offset+u.offset+1:h=c.offset+u.offset,{n:d,offset:h}}t.add2=s;function a(c,u){const d=c.n-u.n+1;var h;return!i(u)&&i(c)?h=c.offset-u.offset-1:h=c.offset-u.offset,{n:d,offset:h}}t.subtract=a;function o(c){return c.length==0?t.unison:c.length==1?c[0]:c.reduce(s)}t.add=o;function l(c){const u=t.isPerfect(c);var d="";switch(c.offset){case 0:u?d="p":d="M";break;case-1:u?d="dim":d="m";break;case 1:d="aug";break;case-2:u?d="-2_":d="dim";break;default:d=`${c.offset}_`}return`${d}${c.n}`}t.name=l})(tr||(tr={}));function Gt(t){const e=t.match(/\d+/);if(!e)throw new Error("Invalid interval format");const r=parseInt(e[0]);var n=!1;const i=r%7;(i==1||i==4||i==5)&&(n=!0);const s=t.replace(/[0-9]/g,"");var a;switch(n){case!0:switch(s){case"p":a=0;break;case"aug":a=1;break;case"dim":a=-1;break;default:throw new Error("Prefix is invalid")}break;case!1:switch(s){case"M":a=0;break;case"m":a=-1;break;case"dim":a=-2;break;case"aug":a=1;break;default:throw new Error(`Prefix is invalid: ${s} for ${t}`)}}return{n:r,offset:a}}var wp;(t=>{t.validLetters=["A","B","C","D","E","F","G"];function e(i){switch(i){case"C":return 0;case"D":return 2;case"E":return 4;case"F":return 5;case"G":return 7;case"A":return 9;case"B":return 11}}t.toNoteNumber=e;function r(i){switch(i){case"C":return"D";case"D":return"E";case"E":return"F";case"F":return"G";case"G":return"A";case"A":return"B";case"B":return"C"}}t.next=r;function n(i,s){switch(i){case 0:return s;default:return n(i-1,r(s))}}t.shift=n})(wp||(wp={}));var Yi=(t=>(t[t.Natural=0]="Natural",t[t.Sharp=1]="Sharp",t[t.Flat=-1]="Flat",t[t.DoubleSharp=2]="DoubleSharp",t[t.DoubleFlat=-2]="DoubleFlat",t))(Yi||{});(t=>{function e(n){switch(n){case 0:return"";case-2:return"bb";case-1:return"b";case 1:return"#";case 2:return"##"}}t.toDisplayString=e;function r(n){switch(n){case"b":return-1;case"bb":return-2;case"#":return 1;case"##":return 2;default:throw new Error(`Accidental was ${n}`)}}t.fromString=r})(Yi||(Yi={}));const Hc={increaseBy(t,e){return Math.abs((e+t)%12)},toNote(t){switch(t){case 0:return lt("C");case 1:return lt("D",-1);case 2:return lt("D");case 3:return lt("E",-1);case 4:return lt("E");case 5:return lt("F");case 6:return lt("G",-1);case 7:return lt("G");case 8:return lt("A",-1);case 9:return lt("A");case 10:return lt("B",-1);case 11:return lt("B")}},toNoteSharp(t){switch(t){case 0:return lt("C");case 1:return lt("C",1);case 2:return lt("D");case 3:return lt("D",1);case 4:return lt("E");case 5:return lt("F");case 6:return lt("F",1);case 7:return lt("G");case 8:return lt("G",1);case 9:return lt("A");case 10:return lt("A",1);case 11:return lt("B")}}},soe=[0,1,2,3,4,5,6],yr={toNoteNumber(t){return Hc.increaseBy(t.accidental,wp.toNoteNumber(t.letter))},interval(t,e){return console.log(t,e),console.log("interval:",Xs.interval({note:t,octave:1},{note:e,octave:2})),console.log("simple interval:",tr.toSimple(Xs.interval({note:t,octave:1},{note:e,octave:2}))),tr.toSimple(Xs.interval({note:t,octave:1},{note:e,octave:2}))},toDisplayString(t){return`${t.letter}${Yi.toDisplayString(t.accidental)}`},transpose(t,e){const r=wp.shift(t.n-1,e.letter),n=Hc.increaseBy(tr.halfSteps(t),yr.toNoteNumber(e))-yr.toNoteNumber(lt(r));return lt(r,n)},toMidiNumber(t,e){return yr.toNoteNumber(t)+12+e*12},toMidiNumbersForAllOctaves(t){return soe.map(e=>yr.toMidiNumber(t,e))},fromMidiNumber(t){return Hc.toNote(t%12)}};function lt(t,e){return{letter:t,accidental:e||0}}var Xs;(t=>{function e(s){return{note:Hc.toNote(s%12),octave:Math.floor(s/12)}}t.fromMidiNumber=e;function r(s){return{note:Hc.toNoteSharp(s%12),octave:Math.floor(s/12)}}t.fromMidiNumberSharp=r;function n(s){return yr.toNoteNumber(s.note)+s.octave*12}t.toMidiNumber=n;function i(s,a){for(var o=1,l=s.note.letter;l!==a.note.letter;)l=wp.next(l),o++;const c=n(a)-n(s),u=tr.halfSteps({n:o,offset:0}),d=c-u;return{n:o,offset:d}}t.interval=i})(Xs||(Xs={}));var gt=(t=>(t[t.Root=0]="Root",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third",t))(gt||{});(t=>{function e(r){switch(r){case 0:return 1;case 1:return 3;case 2:return 5;case 3:return 7}}t.toN=e})(gt||(gt={}));var vr=(t=>(t.Maj7="Maj7",t.Dom7="Dom7",t.Min7="Min7",t.Half="Half-Dim7",t.Full="Dim7",t.Maj="Maj",t.Min="Min",t.Dim="Dim",t.Aug="Aug",t))(vr||{});(t=>{function e(a){switch(a){case"Maj7":return"7";case"Dom7":return"7";case"Min7":return"m7";case"Half-Dim7":return"7";case"Dim7":return"7";case"Maj":return"";case"Min":return"m";case"Dim":return"";case"Aug":return"+"}}t.toLeadSheet=e;function r(a){return tr.name(t.toIntervals(a)[0])==="M3"}t.isMajor=r;function n(a){return tr.name(t.toIntervals(a)[0])==="m3"}t.isMinor=n;function i(a){return t.toIntervals(a).length===3}t.isSeventh=i;function s(a){switch(a){case"Maj7":return[Gt("M3"),Gt("m3"),Gt("M3")];case"Dom7":return[Gt("M3"),Gt("m3"),Gt("m3")];case"Min7":return[Gt("m3"),Gt("M3"),Gt("m3")];case"Half-Dim7":return[Gt("m3"),Gt("m3"),Gt("m3")];case"Dim7":return[Gt("m3"),Gt("m3"),Gt("dim3")];case"Maj":return[Gt("M3"),Gt("m3")];case"Min":return[Gt("m3"),Gt("M3")];case"Dim":return[Gt("m3"),Gt("m3")];case"Aug":return[Gt("M3"),Gt("M3")]}}t.toIntervals=s})(vr||(vr={}));var h1=(t=>(t[t.Ionian=0]="Ionian",t[t.Dorian=1]="Dorian",t[t.Phrygian=2]="Phrygian",t[t.Lydian=3]="Lydian",t[t.Mixolydian=4]="Mixolydian",t[t.Aeloian=5]="Aeloian",t[t.Locrian=6]="Locrian",t))(h1||{}),zl;(t=>{t.MajorScale=[Gt("M2"),Gt("M2"),Gt("m2"),Gt("M2"),Gt("M2"),Gt("M2"),Gt("m2")],t.HarmonicMinor=[Gt("M2"),Gt("m2"),Gt("M2"),Gt("M2"),Gt("m2"),Gt("aug2"),Gt("m2")],t.MinorScale=e(5);function e(n){return vO(n,t.MajorScale)}t.mode=e;function r(n){var i="";return n.forEach(s=>i+=tr.name(s)+" "),i}t.toDisplayString=r})(zl||(zl={}));const oo={isTriad(t){return t.length===2},isSeventh(t){return t.length===3},isShell(t){return t.length===2&&t[0].n===3&&t[1].n===5},toQuality(t){if(this.isSeventh(t))switch(tr.name(t[0])){case"m3":switch(tr.name(t[1])){case"m3":switch(tr.name(t[2])){case"m3":return"Dim7";case"M3":return"Half-Dim7";default:return null}case"M3":switch(tr.name(t[2])){case"m3":return"Min7";default:return null}default:return null}case"M3":switch(tr.name(t[1])){case"m3":switch(tr.name(t[2])){case"m3":return"Dom7";case"M3":return"Maj7";default:return null}default:return null}default:return null}else if(this.isTriad(t))switch(tr.name(t[0])){case"m3":switch(tr.name(t[1])){case"m3":return"Dim";case"M3":return"Min";default:return null}case"M3":switch(tr.name(t[1])){case"m3":return"Maj";case"M3":return"Aug";default:return null}default:return null}else return null},nextInversion(t){const e=t.slice(1,t.length),r=tr.subtract(tr.invert(t[0]),tr.add(t.slice(1,t.length)));return console.log("interval to add on top",r),console.log({remainingIntervals:e}),[...e,r]},applyInversion(t,e){var r=e;for(let n=0;n<t;n++)r=this.nextInversion(r);return r}};console.log("Apply inversion",oo.applyInversion(2,[Gt("M3"),Gt("m3")]));console.log("TESTING shell",oo.isShell([Gt("m3"),Gt("p5")]));function aoe(t,e){const r=vO(t-1,e);return[tr.add2(r[0],r[1]),tr.add2(r[2],r[3]),tr.add2(r[4],r[5])]}function ooe(t){return t.map((e,r)=>aoe(r+1,t))}const wO={toLeadSheet(t){return yr.toDisplayString(t.root)+vr.toLeadSheet(t.quality)}};function loe(t,e){var r=t;return[t,...e.map(n=>(r=yr.transpose(n,r),r))]}function yM(t,e){return ooe(e).filter(r=>oo.toQuality(r)).map((r,n)=>({root:yr.transpose(e.slice(0,n).reduce((i,s)=>tr.add2(i,s),tr.unison),t),quality:oo.toQuality(r)}))}function coe(t){if(t.length<2)return[];const e=[];for(let r=0;r<t.length-1;r++)e.push(Xs.interval(t[r],t[r+1]));return e}function f1(t){const e=t[0],r=tr.subtract(Gt("p5"),t[0]),n=tr.subtract(t[1],r);return[e,r,n]}console.log("TESTING SHELL",zl.toDisplayString(f1([{n:3,offset:0},{n:5,offset:0}])));function uoe(t){if(t.every(r=>r.n==3))return{intervals:t,inversion:0,rootNum:0};if(oo.isShell(t))return{intervals:f1(t),inversion:0,rootNum:0};var e=t;for(let r=0;r<t.length;r++){console.log("inverted",tr.invert(e[0]));const n=tr.subtract(tr.invert(e[0]),tr.add(e.slice(1,e.length)));console.log("interval to add on top",n);const i=e.slice(1,t.length);console.log({remainingIntervals:i}),e=[...e.slice(1,t.length),n];const s=oo.isSeventh(e),a=oo.isShell(e),o=r+1,l=o===0?0:s?4-o:a?o===1?3:1:3-o;if(e.every(c=>c.n==3))return{intervals:e,inversion:l,rootNum:o};if(oo.isShell(e))return{intervals:f1(e),inversion:l,rootNum:o}}return null}var u0;(t=>{function e(s){return`${wO.toLeadSheet(s.chord)}
      ${s.inversion>0?`/
      ${yr.toDisplayString(t.bassNote(s))}`:""}`}t.toLeadSheet=e;let r;(s=>{s[s.Bass=0]="Bass",s[s.Tenor=1]="Tenor",s[s.Alto=2]="Alto",s[s.Soprano=3]="Soprano"})(r||(r={}));function n(s,{chord:a,inversion:o}){const l=a.root,c=vr.toIntervals(a.quality),u=oo.applyInversion(o,c);var d=[];for(let f=0;f<o;f++)d.push(c[f]),console.log("Is this undefined",c[f]);const h=yr.transpose(tr.add(d),l);var p=[];for(let f=0;f<s;f++)p.push(u[f]);return yr.transpose(tr.add(p),h)}t.voice=n;function i(s){return n(0,s)}t.bassNote=i})(u0||(u0={}));function bM(t){const e=t.length>0?t[0]:null;var r=e?[e]:[];t.forEach(a=>{if(!r.some(l=>yr.toNoteNumber(l.note)===yr.toNoteNumber(a.note))){for(var o=a;e&&Xs.toMidiNumber(a)>Xs.toMidiNumber(e)+11;)o.octave--;r.push(o),console.log({simplifiedOctavedNotes:r})}}),r.sort((a,o)=>Xs.toMidiNumber(a)-Xs.toMidiNumber(o)),console.log("Finished notes",r);const n=uoe(coe(r)),i=n&&oo.toQuality(n.intervals),s=n&&r[n.rootNum]&&{root:r[n.rootNum].note,quality:i};return s&&s.quality&&{chord:{root:s.root,quality:s.quality},inversion:n.inversion}}function doe(t,e){return{interval:yr.interval(e.note,t.chord.root),quality:t.chord.quality,inversion:t.inversion}}var p1;(t=>{function e(r){if(r.interval.n<1||r.interval.n>7)throw new Error(`Interval has to be a possible scale degree but was ${tr.name(r.interval)}`);const n=vr.isMajor(r.quality),i=vr.isSeventh(r.quality);var s;switch(r.interval.n){case 1:s=n?"I":"i";break;case 2:s=n?"II":"ii";break;case 3:s=n?"III":"iii";break;case 4:s=n?"IV":"iv";break;case 5:s=n?"V":"v";break;case 6:s=n?"VI":"vi";break;case 7:s=n?"VII":"vii";break;default:throw new Error}r.quality==="Dim7"||r.quality==="Dim"?s+="":r.quality==="Half-Dim7"&&(s+="");var a;if(i)switch(r.inversion){case 0:a="7";break;case 1:a="65";break;case 2:a="43";break;case 3:a="2";break}else switch(r.inversion){case 0:a="";break;case 1:a="6";break;case 2:a="64";break;default:throw new Error("Can't have a third inversion on a triad")}return s+a}t.toDisplayString=e})(p1||(p1={}));var Wo;(function(t){t[t.Page=0]="Page",t[t.Horizontal=1]="Horizontal"})(Wo||(Wo={}));var Gi;(function(t){t[t.Default=0]="Default",t[t.ScoreTab=1]="ScoreTab",t[t.Score=2]="Score",t[t.Tab=3]="Tab",t[t.TabMixed=4]="TabMixed"})(Gi||(Gi={}));class Io{static getValue(e){return Io._values||(Io._values=new Map),e=e.toLowerCase().replaceAll(" ",""),Io._values.has(e)?Io._values.get(e):0}static isPiano(e){return e<=7||e>=16&&e<=23}static isGuitar(e){return e>=24&&e<=39||e===105||e===43}}Io._values=new Map([["acousticgrandpiano",0],["brightacousticpiano",1],["electricgrandpiano",2],["honkytonkpiano",3],["electricpiano1",4],["electricpiano2",5],["harpsichord",6],["clavinet",7],["celesta",8],["glockenspiel",9],["musicbox",10],["vibraphone",11],["marimba",12],["xylophone",13],["tubularbells",14],["dulcimer",15],["drawbarorgan",16],["percussiveorgan",17],["rockorgan",18],["churchorgan",19],["reedorgan",20],["accordion",21],["harmonica",22],["tangoaccordion",23],["acousticguitarnylon",24],["acousticguitarsteel",25],["electricguitarjazz",26],["electricguitarclean",27],["electricguitarmuted",28],["overdrivenguitar",29],["distortionguitar",30],["guitarharmonics",31],["acousticbass",32],["electricbassfinger",33],["electricbasspick",34],["fretlessbass",35],["slapbass1",36],["slapbass2",37],["synthbass1",38],["synthbass2",39],["violin",40],["viola",41],["cello",42],["contrabass",43],["tremolostrings",44],["pizzicatostrings",45],["orchestralharp",46],["timpani",47],["stringensemble1",48],["stringensemble2",49],["synthstrings1",50],["synthstrings2",51],["choiraahs",52],["voiceoohs",53],["synthvoice",54],["orchestrahit",55],["trumpet",56],["trombone",57],["tuba",58],["mutedtrumpet",59],["frenchhorn",60],["brasssection",61],["synthbrass1",62],["synthbrass2",63],["sopranosax",64],["altosax",65],["tenorsax",66],["baritonesax",67],["oboe",68],["englishhorn",69],["bassoon",70],["clarinet",71],["piccolo",72],["flute",73],["recorder",74],["panflute",75],["blownbottle",76],["shakuhachi",77],["whistle",78],["ocarina",79],["lead1square",80],["lead2sawtooth",81],["lead3calliope",82],["lead4chiff",83],["lead5charang",84],["lead6voice",85],["lead7fifths",86],["lead8bassandlead",87],["pad1newage",88],["pad2warm",89],["pad3polysynth",90],["pad4choir",91],["pad5bowed",92],["pad6metallic",93],["pad7halo",94],["pad8sweep",95],["fx1rain",96],["fx2soundtrack",97],["fx3crystal",98],["fx4atmosphere",99],["fx5brightness",100],["fx6goblins",101],["fx7echoes",102],["fx8scifi",103],["sitar",104],["banjo",105],["shamisen",106],["koto",107],["kalimba",108],["bagpipe",109],["fiddle",110],["shanai",111],["tinklebell",112],["agogo",113],["steeldrums",114],["woodblock",115],["taikodrum",116],["melodictom",117],["synthdrum",118],["reversecymbal",119],["guitarfretnoise",120],["breathnoise",121],["seashore",122],["birdtweet",123],["telephonering",124],["helicopter",125],["applause",126],["gunshot",127]]);class dh{init(e,r){this.data=e,this.settings=r}}var Bn;(function(t){t[t.General=0]="General",t[t.Format=1]="Format",t[t.AlphaTex=2]="AlphaTex"})(Bn||(Bn={}));class Nn extends Error{constructor(e,r="",n){super(r??"",{cause:n}),this.type=e,this.inner=n??null,Object.setPrototypeOf(this,Nn.prototype)}}class nn extends Nn{constructor(e=null,r=null){super(Bn.Format,e??"Unsupported format"),this.inner=r,Object.setPrototypeOf(this,nn.prototype)}}var sn;(function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Heavy=2]="Heavy"})(sn||(sn={}));var vn;(function(t){t[t.Tempo=0]="Tempo",t[t.Volume=1]="Volume",t[t.Instrument=2]="Instrument",t[t.Balance=3]="Balance"})(vn||(vn={}));class Un{constructor(){this.isLinear=!1,this.type=vn.Tempo,this.value=0,this.ratioPosition=0,this.text=""}static buildTempoAutomation(e,r,n,i){(i<1||i>5)&&(i=2);let s=new Float32Array([1,.5,1,1.5,2,3]),a=new Un;return a.type=vn.Tempo,a.isLinear=e,a.ratioPosition=r,a.value=n*s[i],a}static buildInstrumentAutomation(e,r,n){let i=new Un;return i.type=vn.Instrument,i.isLinear=e,i.ratioPosition=r,i.value=n,i}}var ut;(function(t){t[t.Neutral=0]="Neutral",t[t.C3=1]="C3",t[t.C4=2]="C4",t[t.F4=3]="F4",t[t.G2=4]="G2"})(ut||(ut={}));var zt;(function(t){t[t._15ma=0]="_15ma",t[t._8va=1]="_8va",t[t.Regular=2]="Regular",t[t._8vb=3]="_8vb",t[t._15mb=4]="_15mb"})(zt||(zt={}));var vs;(function(t){t[t.None=0]="None",t[t.Simple=1]="Simple",t[t.FirstOfDouble=2]="FirstOfDouble",t[t.SecondOfDouble=3]="SecondOfDouble"})(vs||(vs={}));class sl{constructor(){this.id=sl._globalBarId++,this.index=0,this.nextBar=null,this.previousBar=null,this.clef=ut.G2,this.clefOttava=zt.Regular,this.voices=[],this.simileMark=vs.None,this.isMultiVoice=!1,this.displayScale=1,this.displayWidth=-1}get masterBar(){return this.staff.track.score.masterBars[this.index]}get isEmpty(){for(let e=0,r=this.voices.length;e<r;e++)if(!this.voices[e].isEmpty)return!1;return!0}addVoice(e){e.bar=this,e.index=this.voices.length,this.voices.push(e)}finish(e,r=null){this.isMultiVoice=!1;for(let n=0,i=this.voices.length;n<i;n++){let s=this.voices[n];s.finish(e,r),n>0&&!s.isEmpty&&(this.isMultiVoice=!0)}}calculateDuration(){let e=0;for(let r of this.voices){let n=r.calculateDuration();n>e&&(e=n)}return e}}sl._globalBarId=0;class dt{static ticksToMillis(e,r){return e*(6e4/(r*dt.QuarterTime))|0}static millisToTicks(e,r){return e/(6e4/(r*dt.QuarterTime))|0}static toTicks(e){return dt.valueToTicks(e)}static valueToTicks(e){let r=e;return r<0&&(r=1/-r),dt.QuarterTime*(4/r)|0}static applyDot(e,r){return r?e+(e/4|0)*3:e+(e/2|0)}static applyTuplet(e,r,n){return e*n/r|0}static removeTuplet(e,r,n){return e*r/n|0}static dynamicToVelocity(e){return dt.MinVelocity+e*dt.VelocityIncrement}}dt.QuarterTime=960;dt.MinVelocity=15;dt.VelocityIncrement=16;class Ie{constructor(e=0,r=0){this.offset=e,this.value=r}}Ie.MaxPosition=60;Ie.MaxValue=12;var Zt;(function(t){t[t.Default=0]="Default",t[t.Gradual=1]="Gradual",t[t.Fast=2]="Fast"})(Zt||(Zt={}));var Ue;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Bend=2]="Bend",t[t.Release=3]="Release",t[t.BendRelease=4]="BendRelease",t[t.Hold=5]="Hold",t[t.Prebend=6]="Prebend",t[t.PrebendBend=7]="PrebendBend",t[t.PrebendRelease=8]="PrebendRelease"})(Ue||(Ue={}));var dr;(function(t){t[t.None=0]="None",t[t.BrushUp=1]="BrushUp",t[t.BrushDown=2]="BrushDown",t[t.ArpeggioUp=3]="ArpeggioUp",t[t.ArpeggioDown=4]="ArpeggioDown"})(dr||(dr={}));var Di;(function(t){t[t.None=0]="None",t[t.Crescendo=1]="Crescendo",t[t.Decrescendo=2]="Decrescendo"})(Di||(Di={}));var H;(function(t){t[t.QuadrupleWhole=-4]="QuadrupleWhole",t[t.DoubleWhole=-2]="DoubleWhole",t[t.Whole=1]="Whole",t[t.Half=2]="Half",t[t.Quarter=4]="Quarter",t[t.Eighth=8]="Eighth",t[t.Sixteenth=16]="Sixteenth",t[t.ThirtySecond=32]="ThirtySecond",t[t.SixtyFourth=64]="SixtyFourth",t[t.OneHundredTwentyEighth=128]="OneHundredTwentyEighth",t[t.TwoHundredFiftySixth=256]="TwoHundredFiftySixth"})(H||(H={}));var St;(function(t){t[t.PPP=0]="PPP",t[t.PP=1]="PP",t[t.P=2]="P",t[t.MP=3]="MP",t[t.MF=4]="MF",t[t.F=5]="F",t[t.FF=6]="FF",t[t.FFF=7]="FFF"})(St||(St={}));var tt;(function(t){t[t.None=0]="None",t[t.OnBeat=1]="OnBeat",t[t.BeforeBeat=2]="BeforeBeat",t[t.BendGrace=3]="BendGrace"})(tt||(tt={}));var ct;(function(t){t[t.Unknown=-2]="Unknown",t[t.NoOrDead=-1]="NoOrDead",t[t.Thumb=0]="Thumb",t[t.IndexFinger=1]="IndexFinger",t[t.MiddleFinger=2]="MiddleFinger",t[t.AnnularFinger=3]="AnnularFinger",t[t.LittleFinger=4]="LittleFinger"})(ct||(ct={}));var Qe;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Artificial=2]="Artificial",t[t.Pinch=3]="Pinch",t[t.Tap=4]="Tap",t[t.Semi=5]="Semi",t[t.Feedback=6]="Feedback"})(Qe||(Qe={}));var Kr;(function(t){t[t.Default=0]="Default",t[t.ForceNone=1]="ForceNone",t[t.ForceNatural=2]="ForceNatural",t[t.ForceSharp=3]="ForceSharp",t[t.ForceDoubleSharp=4]="ForceDoubleSharp",t[t.ForceFlat=5]="ForceFlat",t[t.ForceDoubleFlat=6]="ForceDoubleFlat"})(Kr||(Kr={}));var Pn;(function(t){t[t.None=0]="None",t[t.IntoFromBelow=1]="IntoFromBelow",t[t.IntoFromAbove=2]="IntoFromAbove"})(Pn||(Pn={}));var pt;(function(t){t[t.None=0]="None",t[t.Shift=1]="Shift",t[t.Legato=2]="Legato",t[t.OutUp=3]="OutUp",t[t.OutDown=4]="OutDown",t[t.PickSlideDown=5]="PickSlideDown",t[t.PickSlideUp=6]="PickSlideUp"})(pt||(pt={}));var $t;(function(t){t[t.None=0]="None",t[t.Slight=1]="Slight",t[t.Wide=2]="Wide"})($t||($t={}));var Lo;(function(t){t[t.Hidden=0]="Hidden",t[t.ShowWithBeams=1]="ShowWithBeams",t[t.ShowWithBars=2]="ShowWithBars"})(Lo||(Lo={}));var za;(function(t){t[t.ScoreDefault=0]="ScoreDefault",t[t.ScoreForcePiano=1]="ScoreForcePiano",t[t.SingleNoteEffectBand=2]="SingleNoteEffectBand",t[t.SingleNoteEffectBandForcePiano=3]="SingleNoteEffectBandForcePiano"})(za||(za={}));var bn;(function(t){t[t.GuitarPro=0]="GuitarPro",t[t.SongBook=1]="SongBook"})(bn||(bn={}));var it;(function(t){t[t.ScoreTitle=0]="ScoreTitle",t[t.ScoreSubTitle=1]="ScoreSubTitle",t[t.ScoreArtist=2]="ScoreArtist",t[t.ScoreAlbum=3]="ScoreAlbum",t[t.ScoreWords=4]="ScoreWords",t[t.ScoreMusic=5]="ScoreMusic",t[t.ScoreWordsAndMusic=6]="ScoreWordsAndMusic",t[t.ScoreCopyright=7]="ScoreCopyright",t[t.GuitarTuning=8]="GuitarTuning",t[t.TrackNames=9]="TrackNames",t[t.ChordDiagrams=10]="ChordDiagrams",t[t.ParenthesisOnTiedBends=11]="ParenthesisOnTiedBends",t[t.TabNotesOnTiedBends=12]="TabNotesOnTiedBends",t[t.ZerosOnDiveWhammys=13]="ZerosOnDiveWhammys",t[t.EffectAlternateEndings=14]="EffectAlternateEndings",t[t.EffectCapo=15]="EffectCapo",t[t.EffectChordNames=16]="EffectChordNames",t[t.EffectCrescendo=17]="EffectCrescendo",t[t.EffectDynamics=18]="EffectDynamics",t[t.EffectFadeIn=19]="EffectFadeIn",t[t.EffectFermata=20]="EffectFermata",t[t.EffectFingering=21]="EffectFingering",t[t.EffectHarmonics=22]="EffectHarmonics",t[t.EffectLetRing=23]="EffectLetRing",t[t.EffectLyrics=24]="EffectLyrics",t[t.EffectMarker=25]="EffectMarker",t[t.EffectOttavia=26]="EffectOttavia",t[t.EffectPalmMute=27]="EffectPalmMute",t[t.EffectPickSlide=28]="EffectPickSlide",t[t.EffectPickStroke=29]="EffectPickStroke",t[t.EffectSlightBeatVibrato=30]="EffectSlightBeatVibrato",t[t.EffectSlightNoteVibrato=31]="EffectSlightNoteVibrato",t[t.EffectTap=32]="EffectTap",t[t.EffectTempo=33]="EffectTempo",t[t.EffectText=34]="EffectText",t[t.EffectTrill=35]="EffectTrill",t[t.EffectTripletFeel=36]="EffectTripletFeel",t[t.EffectWhammyBar=37]="EffectWhammyBar",t[t.EffectWideBeatVibrato=38]="EffectWideBeatVibrato",t[t.EffectWideNoteVibrato=39]="EffectWideNoteVibrato",t[t.EffectLeftHandTap=40]="EffectLeftHandTap"})(it||(it={}));class xp{constructor(){this.notationMode=bn.GuitarPro,this.fingeringMode=za.ScoreDefault,this.elements=new Map,this.rhythmMode=Lo.Hidden,this.rhythmHeight=15,this.transpositionPitches=[],this.displayTranspositionPitches=[],this.smallGraceTabNotes=!0,this.extendBendArrowsOnTiedNotes=!0,this.extendLineEffectsToBeatEnd=!1,this.slurHeight=5}isNotationElementVisible(e){return this.elements.has(e)?this.elements.get(e):xp.defaultElements.has(e)?xp.defaultElements.get(e):!0}}xp.defaultElements=new Map([[it.ZerosOnDiveWhammys,!1]]);class xO{constructor(e){this._value=void 0,this._factory=e}get value(){return this._value===void 0&&(this._value=this._factory()),this._value}}var Pa;(function(t){t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"})(Pa||(Pa={}));class Rc{static format(e,r){return`[AlphaTab][${e}] ${r}`}debug(e,r,...n){console.debug(Rc.format(e,r),...n)}warning(e,r,...n){console.warn(Rc.format(e,r),...n)}info(e,r,...n){console.info(Rc.format(e,r),...n)}error(e,r,...n){console.error(Rc.format(e,r),...n)}}Rc.logLevel=Pa.Info;class ve{static shouldLog(e){return ve.logLevel!==Pa.None&&e>=ve.logLevel}static debug(e,r,...n){ve.shouldLog(Pa.Debug)&&ve.log.debug(e,r,...n)}static warning(e,r,...n){ve.shouldLog(Pa.Warning)&&ve.log.warning(e,r,...n)}static info(e,r,...n){ve.shouldLog(Pa.Info)&&ve.log.info(e,r,...n)}static error(e,r,...n){ve.shouldLog(Pa.Error)&&ve.log.error(e,r,...n)}}ve.logLevel=Pa.Info;ve.log=new Rc;class hoe{constructor(){this.note=null,this.noteValue=0,this.octave=0}get realValue(){return this.octave*12+this.noteValue}}class or{static getIndex(e){let r=0;return e<0?r:Math.log2(e)|0}static keySignatureIsFlat(e){return e<0}static keySignatureIsNatural(e){return e===0}static keySignatureIsSharp(e){return e>0}static applyPitchOffsets(e,r){for(let n=0;n<r.tracks.length;n++){if(n<e.notation.displayTranspositionPitches.length)for(let i of r.tracks[n].staves)i.displayTranspositionPitch=-e.notation.displayTranspositionPitches[n];if(n<e.notation.transpositionPitches.length)for(let i of r.tracks[n].staves)i.transpositionPitch=-e.notation.transpositionPitches[n]}}static fingerToString(e,r,n,i){if(e.notation.fingeringMode===za.ScoreForcePiano||e.notation.fingeringMode===za.SingleNoteEffectBandForcePiano||Io.isPiano(r.voice.bar.staff.track.playbackInfo.program))switch(n){case ct.Unknown:case ct.NoOrDead:return null;case ct.Thumb:return"1";case ct.IndexFinger:return"2";case ct.MiddleFinger:return"3";case ct.AnnularFinger:return"4";case ct.LittleFinger:return"5";default:return null}if(i)switch(n){case ct.Unknown:case ct.NoOrDead:return"0";case ct.Thumb:return"T";case ct.IndexFinger:return"1";case ct.MiddleFinger:return"2";case ct.AnnularFinger:return"3";case ct.LittleFinger:return"4";default:return null}switch(n){case ct.Unknown:case ct.NoOrDead:return null;case ct.Thumb:return"p";case ct.IndexFinger:return"i";case ct.MiddleFinger:return"m";case ct.AnnularFinger:return"a";case ct.LittleFinger:return"c";default:return null}}static isTuning(e){return!!or.parseTuning(e)}static parseTuning(e){let r="",n="";for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=48&&a<=57){if(!r)return null;n+=String.fromCharCode(a)}else if(a>=65&&a<=90||a>=97&&a<=122||a===35)r+=String.fromCharCode(a);else return null}if(!n||!r)return null;let i=new hoe;return i.octave=parseInt(n)+1,i.note=r.toLowerCase(),i.noteValue=or.getToneForText(i.note),i}static getTuningForText(e){let r=or.parseTuning(e);return r?r.realValue:-1}static getToneForText(e){switch(e.toLowerCase()){case"c":return 0;case"c#":case"db":return 1;case"d":return 2;case"d#":case"eb":return 3;case"e":return 4;case"f":return 5;case"f#":case"gb":return 6;case"g":return 7;case"g#":case"ab":return 8;case"a":return 9;case"a#":case"bb":return 10;case"b":return 11;default:return 0}}static newGuid(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)}static isAlmostEqualTo(e,r){return Math.abs(e-r)<1e-5}static toHexString(e,r=0){let n="",i="0123456789ABCDEF";do n=String.fromCharCode(i.charCodeAt(e&15))+n,e=e>>4;while(e>0);for(;n.length<r;)n="0"+n;return n}}var Vn;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"})(Vn||(Vn={}));var P;(function(t){t[t.None=-1]="None",t[t.GClef=57424]="GClef",t[t.CClef=57436]="CClef",t[t.FClef=57442]="FClef",t[t.UnpitchedPercussionClef1=57449]="UnpitchedPercussionClef1",t[t.SixStringTabClef=57453]="SixStringTabClef",t[t.FourStringTabClef=57454]="FourStringTabClef",t[t.TimeSig0=57472]="TimeSig0",t[t.TimeSig1=57473]="TimeSig1",t[t.TimeSig2=57474]="TimeSig2",t[t.TimeSig3=57475]="TimeSig3",t[t.TimeSig4=57476]="TimeSig4",t[t.TimeSig5=57477]="TimeSig5",t[t.TimeSig6=57478]="TimeSig6",t[t.TimeSig7=57479]="TimeSig7",t[t.TimeSig8=57480]="TimeSig8",t[t.TimeSig9=57481]="TimeSig9",t[t.TimeSigCommon=57482]="TimeSigCommon",t[t.TimeSigCutCommon=57483]="TimeSigCutCommon",t[t.NoteheadDoubleWholeSquare=57505]="NoteheadDoubleWholeSquare",t[t.NoteheadDoubleWhole=57504]="NoteheadDoubleWhole",t[t.NoteheadWhole=57506]="NoteheadWhole",t[t.NoteheadHalf=57507]="NoteheadHalf",t[t.NoteheadBlack=57508]="NoteheadBlack",t[t.NoteheadNull=57509]="NoteheadNull",t[t.NoteheadXOrnate=57514]="NoteheadXOrnate",t[t.NoteheadTriangleUpWhole=57531]="NoteheadTriangleUpWhole",t[t.NoteheadTriangleUpHalf=57532]="NoteheadTriangleUpHalf",t[t.NoteheadTriangleUpBlack=57534]="NoteheadTriangleUpBlack",t[t.NoteheadDiamondBlackWide=57564]="NoteheadDiamondBlackWide",t[t.NoteheadDiamondWhite=57565]="NoteheadDiamondWhite",t[t.NoteheadDiamondWhiteWide=57566]="NoteheadDiamondWhiteWide",t[t.NoteheadCircleX=57523]="NoteheadCircleX",t[t.NoteheadXWhole=57511]="NoteheadXWhole",t[t.NoteheadXHalf=57512]="NoteheadXHalf",t[t.NoteheadXBlack=57513]="NoteheadXBlack",t[t.NoteheadParenthesis=57550]="NoteheadParenthesis",t[t.NoteheadSlashedBlack2=57552]="NoteheadSlashedBlack2",t[t.NoteheadCircleSlash=57591]="NoteheadCircleSlash",t[t.NoteheadHeavyX=57592]="NoteheadHeavyX",t[t.NoteheadHeavyXHat=57593]="NoteheadHeavyXHat",t[t.NoteQuarterUp=57813]="NoteQuarterUp",t[t.NoteEighthUp=57815]="NoteEighthUp",t[t.Tremolo3=57890]="Tremolo3",t[t.Tremolo2=57889]="Tremolo2",t[t.Tremolo1=57888]="Tremolo1",t[t.FlagEighthUp=57920]="FlagEighthUp",t[t.FlagEighthDown=57921]="FlagEighthDown",t[t.FlagSixteenthUp=57922]="FlagSixteenthUp",t[t.FlagSixteenthDown=57923]="FlagSixteenthDown",t[t.FlagThirtySecondUp=57924]="FlagThirtySecondUp",t[t.FlagThirtySecondDown=57925]="FlagThirtySecondDown",t[t.FlagSixtyFourthUp=57926]="FlagSixtyFourthUp",t[t.FlagSixtyFourthDown=57927]="FlagSixtyFourthDown",t[t.FlagOneHundredTwentyEighthUp=57928]="FlagOneHundredTwentyEighthUp",t[t.FlagOneHundredTwentyEighthDown=57929]="FlagOneHundredTwentyEighthDown",t[t.FlagTwoHundredFiftySixthUp=57930]="FlagTwoHundredFiftySixthUp",t[t.FlagTwoHundredFiftySixthDown=57931]="FlagTwoHundredFiftySixthDown",t[t.AccidentalFlat=57952]="AccidentalFlat",t[t.AccidentalNatural=57953]="AccidentalNatural",t[t.AccidentalSharp=57954]="AccidentalSharp",t[t.AccidentalDoubleSharp=57955]="AccidentalDoubleSharp",t[t.AccidentalDoubleFlat=57956]="AccidentalDoubleFlat",t[t.AccidentalQuarterToneFlatArrowUp=57968]="AccidentalQuarterToneFlatArrowUp",t[t.AccidentalQuarterToneSharpArrowUp=57972]="AccidentalQuarterToneSharpArrowUp",t[t.AccidentalQuarterToneNaturalArrowUp=57970]="AccidentalQuarterToneNaturalArrowUp",t[t.ArticAccentAbove=58528]="ArticAccentAbove",t[t.ArticStaccatoAbove=58530]="ArticStaccatoAbove",t[t.ArticMarcatoAbove=58540]="ArticMarcatoAbove",t[t.FermataAbove=58560]="FermataAbove",t[t.FermataShortAbove=58564]="FermataShortAbove",t[t.FermataLongAbove=58566]="FermataLongAbove",t[t.RestLonga=58593]="RestLonga",t[t.RestDoubleWhole=58594]="RestDoubleWhole",t[t.RestWhole=58595]="RestWhole",t[t.RestHalf=58596]="RestHalf",t[t.RestQuarter=58597]="RestQuarter",t[t.RestEighth=58598]="RestEighth",t[t.RestSixteenth=58599]="RestSixteenth",t[t.RestThirtySecond=58600]="RestThirtySecond",t[t.RestSixtyFourth=58601]="RestSixtyFourth",t[t.RestOneHundredTwentyEighth=58602]="RestOneHundredTwentyEighth",t[t.RestTwoHundredFiftySixth=58603]="RestTwoHundredFiftySixth",t[t.Repeat1Bar=58624]="Repeat1Bar",t[t.Repeat2Bars=58625]="Repeat2Bars",t[t.Ottava=58640]="Ottava",t[t.OttavaAlta=58641]="OttavaAlta",t[t.OttavaBassaVb=58652]="OttavaBassaVb",t[t.Quindicesima=58644]="Quindicesima",t[t.QuindicesimaAlta=58645]="QuindicesimaAlta",t[t.DynamicPPP=58666]="DynamicPPP",t[t.DynamicPP=58667]="DynamicPP",t[t.DynamicPiano=58656]="DynamicPiano",t[t.DynamicMP=58668]="DynamicMP",t[t.DynamicMF=58669]="DynamicMF",t[t.DynamicForte=58658]="DynamicForte",t[t.DynamicFF=58671]="DynamicFF",t[t.DynamicFFF=58672]="DynamicFFF",t[t.OrnamentTrill=58726]="OrnamentTrill",t[t.StringsDownBow=58896]="StringsDownBow",t[t.StringsUpBow=58898]="StringsUpBow",t[t.PictEdgeOfCymbal=59177]="PictEdgeOfCymbal",t[t.GuitarString0=59443]="GuitarString0",t[t.GuitarString1=59444]="GuitarString1",t[t.GuitarString2=59445]="GuitarString2",t[t.GuitarString3=59446]="GuitarString3",t[t.GuitarString4=59447]="GuitarString4",t[t.GuitarString5=59448]="GuitarString5",t[t.GuitarString6=59449]="GuitarString6",t[t.GuitarString7=59450]="GuitarString7",t[t.GuitarString8=59451]="GuitarString8",t[t.GuitarString9=59452]="GuitarString9",t[t.GuitarGolpe=59458]="GuitarGolpe",t[t.FretboardX=59481]="FretboardX",t[t.FretboardO=59482]="FretboardO",t[t.WiggleTrill=60068]="WiggleTrill",t[t.WiggleVibratoMediumFast=60126]="WiggleVibratoMediumFast",t[t.OctaveBaselineM=60565]="OctaveBaselineM",t[t.OctaveBaselineB=60563]="OctaveBaselineB"})(P||(P={}));var et;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(et||(et={}));var bt;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(bt||(bt={}));class Ae{constructor(e="",r=0,n=0,i=P.None,s=P.None,a=P.None,o=P.None,l=bt.Middle){this.elementType=e,this.outputMidiNumber=n,this.staffLine=r,this.noteHeadDefault=i,this.noteHeadHalf=s!==P.None?s:i,this.noteHeadWhole=a!==P.None?a:i,this.techniqueSymbol=o,this.techniqueSymbolPlacement=l}getSymbol(e){switch(e){case H.Whole:return this.noteHeadWhole;case H.Half:return this.noteHeadHalf;default:return this.noteHeadDefault}}}class Fn{static articulationFromElementVariation(e,r){return e<Fn.gp6ElementAndVariationToArticulation.length?(r>=Fn.gp6ElementAndVariationToArticulation.length&&(r=0),Fn.gp6ElementAndVariationToArticulation[e][r]):38}static getArticulation(e){const r=e.percussionArticulation,n=e.beat.voice.bar.staff.track.percussionArticulations;return r<n.length?n[r]:Fn.getArticulationByValue(r)}static getElementAndVariation(e){const r=Fn.getArticulation(e);if(!r)return[-1,-1];for(let n=0;n<Fn.gp6ElementAndVariationToArticulation.length;n++){const i=Fn.gp6ElementAndVariationToArticulation[n];for(let s=0;s<i.length;s++){const a=Fn.getArticulationByValue(i[s]);if((a==null?void 0:a.outputMidiNumber)===r.outputMidiNumber)return[n,s]}}return[-1,-1]}static getArticulationByValue(e){return Fn.instrumentArticulations.has(e)?Fn.instrumentArticulations.get(e):null}}Fn.gp6ElementAndVariationToArticulation=[[35,35,35],[38,91,37],[99,100,99],[56,100,56],[102,103,102],[43,43,43],[45,45,45],[47,47,47],[48,48,48],[50,50,50],[42,92,46],[44,44,44],[57,98,57],[49,97,49],[55,95,55],[51,93,127],[52,96,52]];Fn.instrumentArticulations=new Map([[38,new Ae("snare",3,38,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[37,new Ae("snare",3,37,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[91,new Ae("snare",3,38,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[42,new Ae("hiHat",-1,42,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[92,new Ae("hiHat",-1,46,P.NoteheadCircleSlash,P.NoteheadCircleSlash,P.NoteheadCircleSlash)],[46,new Ae("hiHat",-1,46,P.NoteheadCircleX,P.NoteheadCircleX,P.NoteheadCircleX)],[44,new Ae("hiHat",9,44,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[35,new Ae("kickDrum",8,35,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[36,new Ae("kickDrum",7,36,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[50,new Ae("tom",1,50,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[48,new Ae("tom",2,48,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[47,new Ae("tom",4,47,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[45,new Ae("tom",5,45,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[43,new Ae("tom",6,43,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[93,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.PictEdgeOfCymbal,bt.Bottom)],[51,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[53,new Ae("ride",0,53,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[94,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,bt.Top)],[55,new Ae("splash",-2,55,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[95,new Ae("splash",-2,55,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,bt.Bottom)],[52,new Ae("china",-3,52,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat)],[96,new Ae("china",-3,52,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat)],[49,new Ae("crash",-2,49,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX)],[97,new Ae("crash",-2,49,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX,P.ArticStaccatoAbove,bt.Bottom)],[57,new Ae("crash",-1,57,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX)],[98,new Ae("crash",-1,57,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX,P.ArticStaccatoAbove,bt.Bottom)],[99,new Ae("cowbell",1,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[100,new Ae("cowbell",1,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[56,new Ae("cowbell",0,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[101,new Ae("cowbell",0,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[102,new Ae("cowbell",-1,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[103,new Ae("cowbell",-1,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[77,new Ae("woodblock",-9,77,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[76,new Ae("woodblock",-10,76,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[60,new Ae("bongo",-4,60,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[104,new Ae("bongo",-5,60,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,bt.Middle)],[105,new Ae("bongo",-6,60,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[61,new Ae("bongo",-7,61,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[106,new Ae("bongo",-8,61,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,bt.Middle)],[107,new Ae("bongo",-16,61,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[66,new Ae("timbale",10,66,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[65,new Ae("timbale",9,65,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[68,new Ae("agogo",12,68,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[67,new Ae("agogo",11,67,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[64,new Ae("conga",17,64,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[108,new Ae("conga",16,64,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[109,new Ae("conga",15,64,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,bt.Middle)],[63,new Ae("conga",14,63,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[110,new Ae("conga",13,63,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[62,new Ae("conga",19,62,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,bt.Middle)],[72,new Ae("whistle",-11,72,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[71,new Ae("whistle",-17,71,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[73,new Ae("guiro",38,73,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[74,new Ae("guiro",37,74,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[86,new Ae("surdo",36,86,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[87,new Ae("surdo",35,87,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadParenthesis,bt.Middle)],[54,new Ae("tambourine",3,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[111,new Ae("tambourine",2,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.StringsUpBow,bt.Bottom)],[112,new Ae("tambourine",1,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.StringsDownBow,bt.Bottom)],[113,new Ae("tambourine",-7,54,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[79,new Ae("cuica",30,79,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[78,new Ae("cuica",29,78,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[58,new Ae("vibraslap",28,58,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[81,new Ae("triangle",27,81,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[80,new Ae("triangle",26,80,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadParenthesis,bt.Middle)],[114,new Ae("grancassa",25,43,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[115,new Ae("piatti",18,49,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[116,new Ae("piatti",24,49,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[69,new Ae("cabasa",23,69,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[117,new Ae("cabasa",22,69,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,bt.Bottom)],[85,new Ae("castanets",21,85,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[75,new Ae("claves",20,75,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[70,new Ae("maraca",-12,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[118,new Ae("maraca",-13,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,bt.Bottom)],[119,new Ae("maraca",-14,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[120,new Ae("maraca",-15,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,bt.Bottom)],[82,new Ae("shaker",-23,54,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[122,new Ae("shaker",-24,54,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,bt.Bottom)],[84,new Ae("bellTree",-18,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[123,new Ae("bellTree",-19,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,bt.Bottom)],[83,new Ae("jingleBell",-20,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[124,new Ae("unpitched",-21,62,P.NoteheadNull,P.NoteheadNull,P.NoteheadNull,P.GuitarGolpe,bt.Top)],[125,new Ae("unpitched",-22,62,P.NoteheadNull,P.NoteheadNull,P.NoteheadNull,P.GuitarGolpe,bt.Bottom)],[39,new Ae("handClap",3,39,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[40,new Ae("snare",3,40,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[31,new Ae("snare",3,40,P.NoteheadSlashedBlack2,P.NoteheadSlashedBlack2,P.NoteheadSlashedBlack2)],[41,new Ae("tom",5,41,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[59,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.PictEdgeOfCymbal,bt.Bottom)],[126,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[127,new Ae("ride",2,59,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[29,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,bt.Top)],[30,new Ae("crash",-3,49,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[33,new Ae("snare",3,37,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[34,new Ae("snare",3,38,P.NoteheadBlack,P.NoteheadBlack,P.NoteheadBlack)]]);class Iu{constructor(){this.tieDestinationNoteId=-1,this.tieOriginNoteId=-1,this.slurDestinationNoteId=-1,this.slurOriginNoteId=-1,this.hammerPullDestinationNoteId=-1,this.hammerPullOriginNoteId=-1}}class Fr{constructor(){this.id=Fr.GlobalNoteId++,this.index=0,this.accentuated=sn.None,this.bendType=Ue.None,this.bendStyle=Zt.Default,this.bendOrigin=null,this.isContinuedBend=!1,this.bendPoints=null,this.maxBendPoint=null,this.fret=-1,this.string=-1,this.octave=-1,this.tone=-1,this.percussionArticulation=-1,this.isVisible=!0,this.isLeftHandTapped=!1,this.isHammerPullOrigin=!1,this.hammerPullOrigin=null,this.hammerPullDestination=null,this.isSlurDestination=!1,this.slurOrigin=null,this.slurDestination=null,this.harmonicType=Qe.None,this.harmonicValue=0,this.isGhost=!1,this.isLetRing=!1,this.letRingDestination=null,this.isPalmMute=!1,this.palmMuteDestination=null,this.isDead=!1,this.isStaccato=!1,this.slideInType=Pn.None,this.slideOutType=pt.None,this.slideTarget=null,this.slideOrigin=null,this.vibrato=$t.None,this.tieOrigin=null,this.tieDestination=null,this.isTieDestination=!1,this.leftHandFinger=ct.Unknown,this.rightHandFinger=ct.Unknown,this.isFingering=!1,this.trillValue=-1,this.trillSpeed=H.ThirtySecond,this.durationPercent=1,this.accidentalMode=Kr.Default,this.dynamics=St.F,this.isEffectSlurOrigin=!1,this.hasEffectSlur=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this._noteIdBag=null}get hasBend(){return this.bendPoints!==null&&this.bendType!==Ue.None}get isStringed(){return this.string>=0}get isPiano(){return!this.isStringed&&this.octave>=0&&this.tone>=0}get isPercussion(){return!this.isStringed&&this.percussionArticulation>=0}get element(){return this.isPercussion?Fn.getElementAndVariation(this)[0]:-1}get variation(){return this.isPercussion?Fn.getElementAndVariation(this)[1]:-1}get isHammerPullDestination(){return!!this.hammerPullOrigin}get isSlurOrigin(){return!!this.slurDestination}get isHarmonic(){return this.harmonicType!==Qe.None}get isTieOrigin(){return this.tieDestination!==null}get trillFret(){return this.trillValue-this.stringTuning}get isTrill(){return this.trillValue>=0}get isEffectSlurDestination(){return!!this.effectSlurOrigin}get stringTuning(){return this.beat.voice.bar.staff.capo+Fr.getStringTuning(this.beat.voice.bar.staff,this.string)}static getStringTuning(e,r){return e.tuning.length>0?e.tuning[e.tuning.length-(r-1)-1]:0}get realValue(){return this.calculateRealValue(!0,!0)}get realValueWithoutHarmonic(){return this.calculateRealValue(!0,!1)}calculateRealValue(e,r){const n=e?this.beat.voice.bar.staff.transpositionPitch:0;if(r){let i=this.calculateRealValue(e,!1);return this.isStringed&&(this.harmonicType===Qe.Natural?i=this.harmonicPitch+this.stringTuning-n:i+=this.harmonicPitch),i}else return this.isPercussion?this.percussionArticulation:this.isStringed?this.fret+this.stringTuning-n:this.isPiano?this.octave*12+this.tone-n:0}get harmonicPitch(){if(this.harmonicType===Qe.None||!this.isStringed)return 0;let e=this.harmonicValue;return or.isAlmostEqualTo(e,2.4)?36:or.isAlmostEqualTo(e,2.7)?34:e<3?0:e<=3.5?31:e<=4?28:e<=5?24:e<=6?34:e<=7?19:e<=8.5?36:e<=9?28:e<=10?34:e<=11?0:e<=12?12:e<14?0:e<=15?34:e<=16?28:e<=17?36:e<=18?0:e<=19?19:e<=21?0:e<=22?36:e<=24?24:0}get initialBendValue(){return this.hasBend?Math.floor(this.bendPoints[0].value/2):this.bendOrigin?Math.floor(this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value/2):this.isTieDestination&&this.tieOrigin.bendOrigin?Math.floor(this.tieOrigin.bendOrigin.bendPoints[this.tieOrigin.bendOrigin.bendPoints.length-1].value/2):this.beat.hasWhammyBar?Math.floor(this.beat.whammyBarPoints[0].value/2):this.beat.isContinuedWhammy?Math.floor(this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value/2):0}get displayValue(){return this.displayValueWithoutBend+this.initialBendValue}get displayValueWithoutBend(){let e=this.realValue;switch(this.harmonicType!==Qe.Natural&&this.harmonicType!==Qe.None&&(e-=this.harmonicPitch),this.beat.ottava){case zt._15ma:e-=24;break;case zt._8va:e-=12;break;case zt.Regular:break;case zt._8vb:e+=12;break;case zt._15mb:e+=24;break}switch(this.beat.voice.bar.clefOttava){case zt._15ma:e-=24;break;case zt._8va:e-=12;break;case zt.Regular:break;case zt._8vb:e+=12;break;case zt._15mb:e+=24;break}return e-this.beat.voice.bar.staff.displayTranspositionPitch}get hasQuarterToneOffset(){return this.hasBend?this.bendPoints[0].value%2!==0:this.bendOrigin?this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value%2!==0:this.beat.hasWhammyBar?this.beat.whammyBarPoints[0].value%2!==0:this.beat.isContinuedWhammy?this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value%2!==0:!1}addBendPoint(e){let r=this.bendPoints;r===null&&(r=[],this.bendPoints=r),r.push(e),(!this.maxBendPoint||e.value>this.maxBendPoint.value)&&(this.maxBendPoint=e),this.bendType===Ue.None&&(this.bendType=Ue.Custom)}finish(e,r=null){let n=new xO(()=>Fr.nextNoteOnSameLine(this)),i=e&&e.notation.notationMode===bn.SongBook;if(this.isTieDestination&&(this.chain(r),i&&this.tieOrigin&&this.tieOrigin.isLetRing&&(this.isLetRing=!0)),this.isLetRing&&(!n.value||!n.value.isLetRing?this.letRingDestination=this:this.letRingDestination=n.value,i&&this.isTieDestination&&!this.tieOrigin.hasBend&&(this.isVisible=!1)),this.isPalmMute&&(!n.value||!n.value.isPalmMute?this.palmMuteDestination=this:this.palmMuteDestination=n.value),this.isHammerPullOrigin){let o=Fr.findHammerPullDestination(this);o?(this.hammerPullDestination=o,o.hammerPullOrigin=this):this.isHammerPullOrigin=!1}switch(this.slideOutType){case pt.Shift:case pt.Legato:this.slideTarget=n.value,this.slideTarget?this.slideTarget.slideOrigin=this:this.slideOutType=pt.None;break}let s=null;this.isHammerPullOrigin&&this.hammerPullDestination?s=this.hammerPullDestination:this.slideOutType===pt.Legato&&this.slideTarget&&(s=this.slideTarget),s&&(this.hasEffectSlur=!0,this.effectSlurOrigin&&this.beat.pickStroke===Vn.None?(this.effectSlurOrigin.effectSlurDestination=s,this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin,this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=s,this.effectSlurDestination.effectSlurOrigin=this));const a=this.bendPoints;if(a!=null&&a.length>0&&this.bendType===Ue.Custom){let o=this.isTieDestination&&this.tieOrigin.hasBend;if(this.isContinuedBend=o,a.length===4){let l=a[0],c=a[1],u=a[2],d=a[3];c.value===u.value?d.value>l.value?c.value>d.value?this.bendType=Ue.BendRelease:!o&&l.value>0?(this.bendType=Ue.PrebendBend,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.Bend,a.splice(2,1),a.splice(1,1)):d.value<l.value?o?(this.bendType=Ue.Release,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.PrebendRelease,a.splice(2,1),a.splice(1,1)):c.value>l.value?this.bendType=Ue.BendRelease:l.value>0&&!o?(this.bendType=Ue.Prebend,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.Hold,a.splice(2,1),a.splice(1,1)):ve.warning("Model","Unsupported bend type detected, fallback to custom",null)}else if(a.length===2){let l=a[0],c=a[1];c.value>l.value?!o&&l.value>0?this.bendType=Ue.PrebendBend:this.bendType=Ue.Bend:c.value<l.value?o?this.bendType=Ue.Release:this.bendType=Ue.PrebendRelease:this.bendType=Ue.Hold}}else(a===null||a.length===0)&&(this.bendType=Ue.None);this.initialBendValue>0&&(this.accidentalMode=Kr.Default)}static nextNoteOnSameLine(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+Fr.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;r=r.nextBeat}return null}static findHammerPullDestination(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+Fr.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;for(let i=e.string;i>0;i--)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}for(let i=e.string;i<=e.beat.voice.bar.staff.tuning.length;i++)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}r=r.nextBeat}return null}static findTieOrigin(e){let r=e.beat.previousBeat;for(;r&&r.voice.bar.index>=e.beat.voice.bar.index-Fr.MaxOffsetForSameLineSearch;){if(e.isStringed){let n=r.getNoteOnString(e.string);if(n)return n}else if(e.octave===-1&&e.tone===-1){if(e.index<r.notes.length)return r.notes[e.index]}else{let n=r.getNoteWithRealValue(e.realValue);if(n)return n}r=r.previousBeat}return null}chain(e=null){if(e!==null)if(this._noteIdBag!==null){let r;e.has(Fr.NoteIdLookupKey)?r=e.get(Fr.NoteIdLookupKey):(r=new Map,e.set(Fr.NoteIdLookupKey,r)),(this._noteIdBag.hammerPullDestinationNoteId!==-1||this._noteIdBag.tieDestinationNoteId!==-1||this._noteIdBag.slurDestinationNoteId!==-1)&&r.set(this.id,this),this._noteIdBag.hammerPullOriginNoteId!==-1&&(this.hammerPullOrigin=r.get(this._noteIdBag.hammerPullOriginNoteId),this.hammerPullOrigin.hammerPullDestination=this),this._noteIdBag.tieOriginNoteId!==-1&&(this.tieOrigin=r.get(this._noteIdBag.tieOriginNoteId),this.tieOrigin.tieDestination=this),this._noteIdBag.slurOriginNoteId!==-1&&(this.slurOrigin=r.get(this._noteIdBag.slurOriginNoteId),this.slurOrigin.slurDestination=this),this._noteIdBag=null}else{if(!this.isTieDestination&&this.tieOrigin===null)return;let r=this.tieOrigin??Fr.findTieOrigin(this);r?(r.tieDestination=this,this.tieOrigin=r,this.fret=r.fret,this.octave=r.octave,this.tone=r.tone,r.hasBend&&(this.bendOrigin=this.tieOrigin)):this.isTieDestination=!1}}toJson(e){this.tieDestination!==null&&e.set("tiedestinationnoteid",this.tieDestination.id),this.tieOrigin!==null&&e.set("tieoriginnoteid",this.tieOrigin.id),this.slurDestination!==null&&e.set("slurdestinationnoteid",this.slurDestination.id),this.slurOrigin!==null&&e.set("sluroriginnoteid",this.slurOrigin.id),this.hammerPullOrigin!==null&&e.set("hammerpulloriginnoteid",this.hammerPullOrigin.id),this.hammerPullDestination!==null&&e.set("hammerpulldestinationnoteid",this.hammerPullDestination.id)}setProperty(e,r){switch(e){case"tiedestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.tieDestinationNoteId=r,!0;case"tieoriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.tieOriginNoteId=r,!0;case"slurdestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.slurDestinationNoteId=r,!0;case"sluroriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.slurOriginNoteId=r,!0;case"hammerpulloriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.hammerPullOriginNoteId=r,!0;case"hammerpulldestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Iu),this._noteIdBag.hammerPullDestinationNoteId=r,!0}return!1}}Fr.GlobalNoteId=0;Fr.MaxOffsetForSameLineSearch=3;Fr.NoteIdLookupKey="NoteIdLookup";class An{constructor(e){this._isEqualLengthTuplet=!0,this.totalDuration=0,this.beats=[],this.isFull=!1,this.voice=e}check(e){if(this.beats.length===0)return this.beats.push(e),this.totalDuration+=e.playbackDuration,!0;if(e.graceType!==tt.None)return!0;if(e.voice!==this.voice||this.isFull||e.tupletNumerator!==this.beats[0].tupletNumerator||e.tupletDenominator!==this.beats[0].tupletDenominator)return!1;if(e.playbackDuration!==this.beats[0].playbackDuration&&(this._isEqualLengthTuplet=!1),this.beats.push(e),this.totalDuration+=e.playbackDuration,this._isEqualLengthTuplet)this.beats.length===this.beats[0].tupletNumerator&&(this.isFull=!0);else{let r=this.beats[0].tupletNumerator/this.beats[0].tupletDenominator|0;for(let n of An.AllTicks)if(this.totalDuration===n*r){this.isFull=!0;break}}return!0}}An.HalfTicks=1920;An.QuarterTicks=960;An.EighthTicks=480;An.SixteenthTicks=240;An.ThirtySecondTicks=120;An.SixtyFourthTicks=60;An.OneHundredTwentyEighthTicks=30;An.TwoHundredFiftySixthTicks=15;An.AllTicks=[An.HalfTicks,An.QuarterTicks,An.EighthTicks,An.SixteenthTicks,An.ThirtySecondTicks,An.SixtyFourthTicks,An.OneHundredTwentyEighthTicks,An.TwoHundredFiftySixthTicks];var Vt;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Dive=2]="Dive",t[t.Dip=3]="Dip",t[t.Hold=4]="Hold",t[t.Predive=5]="Predive",t[t.PrediveDive=6]="PrediveDive"})(Vt||(Vt={}));class SO{static clone(e){const r=new Ie;return r.offset=e.offset,r.value=e.value,r}}class kO{static clone(e){const r=new Fr;if(r.index=e.index,r.accentuated=e.accentuated,r.bendType=e.bendType,r.bendStyle=e.bendStyle,r.isContinuedBend=e.isContinuedBend,e.bendPoints){r.bendPoints=[];for(const n of e.bendPoints)r.addBendPoint(SO.clone(n))}return r.fret=e.fret,r.string=e.string,r.octave=e.octave,r.tone=e.tone,r.percussionArticulation=e.percussionArticulation,r.isVisible=e.isVisible,r.isLeftHandTapped=e.isLeftHandTapped,r.isHammerPullOrigin=e.isHammerPullOrigin,r.isSlurDestination=e.isSlurDestination,r.harmonicType=e.harmonicType,r.harmonicValue=e.harmonicValue,r.isGhost=e.isGhost,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.isDead=e.isDead,r.isStaccato=e.isStaccato,r.slideInType=e.slideInType,r.slideOutType=e.slideOutType,r.vibrato=e.vibrato,r.isTieDestination=e.isTieDestination,r.leftHandFinger=e.leftHandFinger,r.rightHandFinger=e.rightHandFinger,r.isFingering=e.isFingering,r.trillValue=e.trillValue,r.trillSpeed=e.trillSpeed,r.durationPercent=e.durationPercent,r.accidentalMode=e.accidentalMode,r.dynamics=e.dynamics,r}}class foe{static clone(e){const r=new Un;return r.isLinear=e.isLinear,r.type=e.type,r.value=e.value,r.ratioPosition=e.ratioPosition,r.text=e.text,r}}class hT{static clone(e){const r=new jn;r.index=e.index,r.notes=[];for(const n of e.notes)r.addNote(kO.clone(n));r.isEmpty=e.isEmpty,r.whammyStyle=e.whammyStyle,r.ottava=e.ottava,r.isLegatoOrigin=e.isLegatoOrigin,r.duration=e.duration,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.automations=[];for(const n of e.automations)r.automations.push(foe.clone(n));if(r.dots=e.dots,r.fadeIn=e.fadeIn,r.lyrics=e.lyrics?e.lyrics.slice():null,r.hasRasgueado=e.hasRasgueado,r.pop=e.pop,r.slap=e.slap,r.tap=e.tap,r.text=e.text,r.brushType=e.brushType,r.brushDuration=e.brushDuration,r.tupletDenominator=e.tupletDenominator,r.tupletNumerator=e.tupletNumerator,r.isContinuedWhammy=e.isContinuedWhammy,r.whammyBarType=e.whammyBarType,e.whammyBarPoints){r.whammyBarPoints=[];for(const n of e.whammyBarPoints)r.addWhammyBarPoint(SO.clone(n))}return r.vibrato=e.vibrato,r.chordId=e.chordId,r.graceType=e.graceType,r.pickStroke=e.pickStroke,r.tremoloSpeed=e.tremoloSpeed,r.crescendo=e.crescendo,r.displayStart=e.displayStart,r.playbackStart=e.playbackStart,r.displayDuration=e.displayDuration,r.playbackDuration=e.playbackDuration,r.dynamics=e.dynamics,r.invertBeamDirection=e.invertBeamDirection,r.preferredBeamDirection=e.preferredBeamDirection,r.isEffectSlurOrigin=e.isEffectSlurOrigin,r.beamingMode=e.beamingMode,r}}class m1{constructor(){this.beats=[],this.id="empty",this.isComplete=!1}addBeat(e){e.graceIndex=this.beats.length,e.graceGroup=this,this.beats.push(e)}finish(){this.beats.length>0&&(this.id=this.beats[0].absoluteDisplayStart+"_"+this.beats[0].voice.index)}}var Ma;(function(t){t[t.Auto=0]="Auto",t[t.ForceSplitToNext=1]="ForceSplitToNext",t[t.ForceMergeWithNext=2]="ForceMergeWithNext"})(Ma||(Ma={}));class jn{constructor(){this.id=jn._globalBeatId++,this.index=0,this.previousBeat=null,this.nextBeat=null,this.notes=[],this.noteStringLookup=new Map,this.noteValueLookup=new Map,this.isEmpty=!1,this.whammyStyle=Zt.Default,this.ottava=zt.Regular,this.fermata=null,this.isLegatoOrigin=!1,this.minNote=null,this.maxNote=null,this.maxStringNote=null,this.minStringNote=null,this.duration=H.Quarter,this.isLetRing=!1,this.isPalmMute=!1,this.automations=[],this.dots=0,this.fadeIn=!1,this.lyrics=null,this.hasRasgueado=!1,this.pop=!1,this.slap=!1,this.tap=!1,this.text=null,this.brushType=dr.None,this.brushDuration=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.tupletGroup=null,this.isContinuedWhammy=!1,this.whammyBarType=Vt.None,this.whammyBarPoints=null,this.maxWhammyPoint=null,this.minWhammyPoint=null,this.vibrato=$t.None,this.chordId=null,this.graceType=tt.None,this.graceGroup=null,this.graceIndex=-1,this.pickStroke=Vn.None,this.tremoloSpeed=null,this.crescendo=Di.None,this.displayStart=0,this.playbackStart=0,this.displayDuration=0,this.playbackDuration=0,this.dynamics=St.F,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isEffectSlurOrigin=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this.beamingMode=Ma.Auto}get isLastOfVoice(){return this.index===this.voice.beats.length-1}get isLegatoDestination(){return!!this.previousBeat&&this.previousBeat.isLegatoOrigin}get isRest(){return this.isEmpty||this.notes.length===0}get isFullBarRest(){return this.isRest&&this.voice.beats.length===1&&this.duration===H.Whole}get hasTuplet(){return!(this.tupletDenominator===-1&&this.tupletNumerator===-1)&&!(this.tupletDenominator===1&&this.tupletNumerator===1)}get hasWhammyBar(){return this.whammyBarPoints!==null&&this.whammyBarType!==Vt.None}get hasChord(){return!!this.chordId}get chord(){return this.chordId?this.voice.bar.staff.getChord(this.chordId):null}get isTremolo(){return!!this.tremoloSpeed}get absoluteDisplayStart(){return this.voice.bar.masterBar.start+this.displayStart}get absolutePlaybackStart(){return this.voice.bar.masterBar.start+this.playbackStart}get isEffectSlurDestination(){return!!this.effectSlurOrigin}addWhammyBarPoint(e){let r=this.whammyBarPoints;r===null&&(r=[],this.whammyBarPoints=r),r.push(e),(!this.maxWhammyPoint||e.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=e),(!this.minWhammyPoint||e.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=e),this.whammyBarType===Vt.None&&(this.whammyBarType=Vt.Custom)}removeWhammyBarPoint(e){const r=this.whammyBarPoints;if(r===null||e<0||e>=r.length)return;r.splice(e,1);let n=r[e];if(n===this.maxWhammyPoint){this.maxWhammyPoint=null;for(let i of r)(!this.maxWhammyPoint||i.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=i)}if(n===this.minWhammyPoint){this.minWhammyPoint=null;for(let i of r)(!this.minWhammyPoint||i.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=i)}}addNote(e){e.beat=this,e.index=this.notes.length,this.notes.push(e),e.isStringed&&this.noteStringLookup.set(e.string,e)}removeNote(e){let r=this.notes.indexOf(e);r>=0&&(this.notes.splice(r,1),e.isStringed&&this.noteStringLookup.delete(e.string))}getAutomation(e){for(let r=0,n=this.automations.length;r<n;r++){let i=this.automations[r];if(i.type===e)return i}return null}getNoteOnString(e){return this.noteStringLookup.has(e)?this.noteStringLookup.get(e):null}calculateDuration(){if(this.isFullBarRest)return this.voice.bar.masterBar.calculateDuration();let e=dt.toTicks(this.duration);return this.dots===2?e=dt.applyDot(e,!0):this.dots===1&&(e=dt.applyDot(e,!1)),this.tupletDenominator>0&&this.tupletNumerator>=0&&(e=dt.applyTuplet(e,this.tupletNumerator,this.tupletDenominator)),e}updateDurations(){let e=this.calculateDuration();switch(this.playbackDuration=e,this.graceType){case tt.BeforeBeat:case tt.OnBeat:switch(this.duration){case H.Sixteenth:this.playbackDuration=dt.toTicks(H.SixtyFourth);break;case H.ThirtySecond:this.playbackDuration=dt.toTicks(H.OneHundredTwentyEighth);break;default:this.playbackDuration=dt.toTicks(H.ThirtySecond);break}this.displayDuration=0;break;case tt.BendGrace:this.playbackDuration/=2,this.displayDuration=0;break;default:this.displayDuration=e;let r=this.previousBeat;r&&r.graceType===tt.BendGrace&&(this.playbackDuration=r.playbackDuration);break}}finishTuplet(){let e=this.previousBeat,r=e?e.tupletGroup:null;(this.hasTuplet||this.graceType!==tt.None&&r)&&((!e||!r||!r.check(this))&&(r=new An(this.voice),r.check(this)),this.tupletGroup=r)}finish(e,r=null){switch(this.getAutomation(vn.Instrument)===null&&this.index===0&&this.voice.index===0&&this.voice.bar.index===0&&this.voice.bar.staff.index===0&&this.automations.push(Un.buildInstrumentAutomation(!1,0,this.voice.bar.staff.track.playbackInfo.program)),this.graceType){case tt.OnBeat:case tt.BeforeBeat:let c=this.graceGroup.beats.length;c===1?this.duration=H.Eighth:c===2?this.duration=H.Sixteenth:this.duration=H.ThirtySecond;break}let n=e?e.notation.notationMode:bn.GuitarPro,i=this.text==="grad"||this.text==="grad.";i&&n===bn.SongBook&&(this.text="");let s=!1;this.minNote=null,this.maxNote=null,this.minStringNote=null,this.maxStringNote=null;let a=0,o=!1;for(let c=0,u=this.notes.length;c<u;c++){let d=this.notes[c];if(d.dynamics=this.dynamics,d.finish(e,r),d.isLetRing&&(this.isLetRing=!0),d.isPalmMute&&(this.isPalmMute=!0),n===bn.SongBook&&d.hasBend&&this.graceType!==tt.BendGrace){if(!d.isTieOrigin)switch(d.bendType){case Ue.Bend:case Ue.PrebendRelease:case Ue.PrebendBend:s=!0;break}i||d.bendStyle===Zt.Gradual?(i=!0,d.bendStyle=Zt.Gradual,s=!1):d.bendStyle=Zt.Fast}d.isVisible&&(a++,(!this.minNote||d.realValue<this.minNote.realValue)&&(this.minNote=d),(!this.maxNote||d.realValue>this.maxNote.realValue)&&(this.maxNote=d),(!this.minStringNote||d.string<this.minStringNote.string)&&(this.minStringNote=d),(!this.maxStringNote||d.string>this.maxStringNote.string)&&(this.maxStringNote=d),d.hasEffectSlur&&(o=!0))}if(o&&(this.effectSlurOrigin?(this.effectSlurOrigin.effectSlurDestination=this.nextBeat,this.effectSlurOrigin.effectSlurDestination&&(this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin),this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=this.nextBeat,this.effectSlurDestination&&(this.effectSlurDestination.effectSlurOrigin=this))),this.notes.length>0&&a===0&&(this.isEmpty=!0),!this.isRest&&(!this.isLetRing||!this.isPalmMute)){let c=this.previousBeat;for(;c&&c.isRest;)this.isLetRing||(c.isLetRing=!1),this.isPalmMute||(c.isPalmMute=!1),c=c.previousBeat}else this.isRest&&this.previousBeat&&e&&e.notation.notationMode===bn.GuitarPro&&(this.previousBeat.isLetRing&&(this.isLetRing=!0),this.previousBeat.isPalmMute&&(this.isPalmMute=!0));const l=this.whammyBarPoints;if(l!==null&&l.length>0&&this.whammyBarType===Vt.Custom){n===bn.SongBook&&(this.whammyStyle=i?Zt.Gradual:Zt.Fast);let c=!!this.previousBeat&&this.previousBeat.hasWhammyBar;if(this.isContinuedWhammy=c,l.length===4){let u=l[0],d=l[1],h=l[2],p=l[3];d.value===h.value&&(u.value<d.value&&d.value<p.value||u.value>d.value&&d.value>p.value?(u.value!==0&&!c?this.whammyBarType=Vt.PrediveDive:this.whammyBarType=Vt.Dive,l.splice(2,1),l.splice(1,1)):u.value>d.value&&d.value<p.value||u.value<d.value&&d.value>p.value?(this.whammyBarType=Vt.Dip,(d.offset===h.offset||n===bn.SongBook)&&l.splice(2,1)):u.value===d.value&&d.value===p.value&&(u.value!==0&&!c?this.whammyBarType=Vt.Predive:this.whammyBarType=Vt.Hold,l.splice(2,1),l.splice(1,1)))}}if(this.updateDurations(),s){let c=hT.clone(this);c.id=jn._globalBeatId++,c.pickStroke=Vn.None;for(let u=0,d=c.notes.length;u<d;u++){let h=c.notes[u],p=this.notes[u];if(h.bendType=Ue.None,h.maxBendPoint=null,h.bendPoints=null,h.bendStyle=Zt.Default,h.id=Fr.GlobalNoteId++,p.isTieOrigin&&(h.tieDestination=p.tieDestination,p.tieDestination.tieOrigin=h),p.isTieDestination&&(h.tieOrigin=p.tieOrigin?p.tieOrigin:null,p.tieOrigin.tieDestination=h),p.hasBend&&p.isTieOrigin){let f=Fr.findTieOrigin(p);if(f&&f.hasBend){h.bendType=Ue.Hold;let m=p.bendPoints[p.bendPoints.length-1];h.addBendPoint(new Ie(0,m.value)),h.addBendPoint(new Ie(Ie.MaxPosition,m.value))}}h.isTieDestination=!0}this.graceType=tt.BendGrace,this.graceGroup=new m1,this.graceGroup.addBeat(this),this.graceGroup.isComplete=!0,this.graceGroup.finish(),this.updateDurations(),this.voice.insertBeat(this,c),c.graceGroup=new m1,c.graceGroup.addBeat(this),c.graceGroup.isComplete=!0,c.graceGroup.finish()}}isBefore(e){return this.voice.bar.index<e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index<e.index}isAfter(e){return this.voice.bar.index>e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index>e.index}hasNoteOnString(e){return this.noteStringLookup.has(e)}getNoteWithRealValue(e){return this.noteValueLookup.has(e)?this.noteValueLookup.get(e):null}chain(e=null){for(const r of this.notes)this.noteValueLookup.set(r.realValue,r),r.chain(e)}}jn._globalBeatId=0;class Kl{constructor(){this.name="",this.firstFret=1,this.strings=[],this.barreFrets=[],this.showName=!0,this.showDiagram=!0,this.showFingering=!0}get uniqueId(){return[this.name,this.firstFret.toString(),this.strings.join(","),this.barreFrets.join(","),this.showDiagram.toString(),this.showFingering.toString(),this.showName.toString()].join("|")}}var hn;(function(t){t[t.Cb=-7]="Cb",t[t.Gb=-6]="Gb",t[t.Db=-5]="Db",t[t.Ab=-4]="Ab",t[t.Eb=-3]="Eb",t[t.Bb=-2]="Bb",t[t.F=-1]="F",t[t.C=0]="C",t[t.G=1]="G",t[t.D=2]="D",t[t.A=3]="A",t[t.E=4]="E",t[t.B=5]="B",t[t.FSharp=6]="FSharp",t[t.CSharp=7]="CSharp"})(hn||(hn={}));var Qn;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Dash=4]="Dash"})(Qn||(Qn={}));class tn{constructor(){this.startBar=0,this.text=""}finish(e=!1){this.chunks=[],this.parse(this.text,0,this.chunks,e)}parse(e,r,n,i){if(!e)return;let s=Qn.Begin,a=Qn.Begin,o=!1,l=0;for(;r<e.length;){let c=e.charCodeAt(r);switch(s){case Qn.IgnoreSpaces:switch(c){case tn.CharCodeLF:case tn.CharCodeCR:case tn.CharCodeTab:break;case tn.CharCodeSpace:if(!o){s=a;continue}break;default:o=!1,s=a;continue}break;case Qn.Begin:switch(c){case tn.CharCodeBrackedOpen:s=Qn.Comment;break;default:l=r,s=Qn.Text;continue}break;case Qn.Comment:switch(c){case tn.CharCodeBrackedClose:s=Qn.Begin;break}break;case Qn.Text:switch(c){case tn.CharCodeDash:s=Qn.Dash;break;case tn.CharCodeCR:case tn.CharCodeLF:case tn.CharCodeSpace:let u=e.substr(l,r-l);this.addChunk(u,i),s=Qn.IgnoreSpaces,a=Qn.Begin;break}break;case Qn.Dash:switch(c){case tn.CharCodeDash:break;default:let u=e.substr(l,r-l);this.addChunk(u,i),o=!0,s=Qn.IgnoreSpaces,a=Qn.Begin;continue}break}r+=1}s===Qn.Text&&r!==l&&this.addChunk(e.substr(l,r-l),i)}addChunk(e,r){e=this.prepareChunk(e),(!r||e.length>0&&e!=="-")&&this.chunks.push(e)}prepareChunk(e){let r=e.split("+").join(" "),n=r.length;for(;n>0&&r.charAt(n-1)==="_";)n--;return n!==r.length?r.substr(0,n):r}}tn.CharCodeLF=10;tn.CharCodeTab=9;tn.CharCodeCR=13;tn.CharCodeSpace=32;tn.CharCodeBrackedClose=93;tn.CharCodeBrackedOpen=91;tn.CharCodeDash=45;var Ql;(function(t){t[t.Major=0]="Major",t[t.Minor=1]="Minor"})(Ql||(Ql={}));var xt;(function(t){t[t.NoTripletFeel=0]="NoTripletFeel",t[t.Triplet16th=1]="Triplet16th",t[t.Triplet8th=2]="Triplet8th",t[t.Dotted16th=3]="Dotted16th",t[t.Dotted8th=4]="Dotted8th",t[t.Scottish16th=5]="Scottish16th",t[t.Scottish8th=6]="Scottish8th"})(xt||(xt={}));class Qo{constructor(){this.alternateEndings=0,this.nextMasterBar=null,this.previousMasterBar=null,this.index=0,this.keySignature=hn.C,this.keySignatureType=Ql.Major,this.isDoubleBar=!1,this.isRepeatStart=!1,this.repeatCount=0,this.timeSignatureNumerator=4,this.timeSignatureDenominator=4,this.timeSignatureCommon=!1,this.tripletFeel=xt.NoTripletFeel,this.section=null,this.tempoAutomation=null,this.fermata=null,this.start=0,this.isAnacrusis=!1,this.displayScale=1,this.displayWidth=-1}get isRepeatEnd(){return this.repeatCount>0}get isSectionStart(){return!!this.section}calculateDuration(e=!0){if(this.isAnacrusis&&e){let r=0;for(let n of this.score.tracks)for(let i of n.staves){let s=this.index<i.bars.length?i.bars[this.index].calculateDuration():0;s>r&&(r=s)}return r}return this.timeSignatureNumerator*dt.valueToTicks(this.timeSignatureDenominator)}addFermata(e,r){let n=this.fermata;n===null&&(n=new Map,this.fermata=n),n.set(e,r)}getFermata(e){const r=this.fermata;return r===null?null:r.has(e.playbackStart)?r.get(e.playbackStart):null}}Qo.MaxAlternateEndings=8;class poe{constructor(){this.hideDynamics=!1}}class vM{constructor(){this.masterBars=[],this.opening=null,this.closings=[],this.isClosed=!1}get openings(){const e=this.opening;return e?[e]:[]}get isOpened(){var e;return((e=this.opening)==null?void 0:e.isRepeatStart)===!0}addMasterBar(e){this.opening===null&&(this.opening=e),this.masterBars.push(e),e.repeatGroup=this,e.isRepeatEnd&&(this.closings.push(e),this.isClosed=!0)}}class bu{constructor(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0,this.album="",this.artist="",this.copyright="",this.instructions="",this.music="",this.notices="",this.subTitle="",this.title="",this.words="",this.tab="",this.tempo=120,this.tempoLabel="",this.masterBars=[],this.tracks=[],this.defaultSystemsLayout=3,this.systemsLayout=[],this.stylesheet=new poe}rebuildRepeatGroups(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0;for(const e of this.masterBars)this.addMasterBarToRepeatGroups(e)}addMasterBar(e){e.score=this,e.index=this.masterBars.length,this.masterBars.length!==0&&(e.previousMasterBar=this.masterBars[this.masterBars.length-1],e.previousMasterBar.nextMasterBar=e,e.start=e.previousMasterBar.start+(e.previousMasterBar.isAnacrusis?0:e.previousMasterBar.calculateDuration())),this.addMasterBarToRepeatGroups(e),this.masterBars.push(e)}addMasterBarToRepeatGroups(e){var r;e.isRepeatStart?((r=this._currentRepeatGroup)!=null&&r.isClosed&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--),this._currentRepeatGroup=new vM,this._openedRepeatGroups.push(this._currentRepeatGroup),this._properlyOpenedRepeatGroups++):this._currentRepeatGroup||(this._currentRepeatGroup=new vM,this._openedRepeatGroups.push(this._currentRepeatGroup)),this._currentRepeatGroup.addMasterBar(e),e.isRepeatEnd&&this._properlyOpenedRepeatGroups>1&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--,this._currentRepeatGroup=this._openedRepeatGroups.length>0?this._openedRepeatGroups[this._openedRepeatGroups.length-1]:null)}addTrack(e){e.score=this,e.index=this.tracks.length,this.tracks.push(e)}finish(e){const r=new Map;for(let n=0,i=this.tracks.length;n<i;n++)this.tracks[n].finish(e,r)}}class wv{constructor(){this.marker="",this.text=""}}class en extends Nn{constructor(e){super(Bn.Format,e),Object.setPrototypeOf(this,en.prototype)}}let _r=class ko{constructor(e,r,n,i=255){this.raw=0,this.raw=(i&255)<<24|(e&255)<<16|(r&255)<<8|n&255,this.updateRgba()}updateRgba(){this.a===255?this.rgba="#"+or.toHexString(this.r,2)+or.toHexString(this.g,2)+or.toHexString(this.b,2):this.rgba=`rgba(${this.r},${this.g},${this.b},${this.a/255})`}get a(){return this.raw>>24&255}get r(){return this.raw>>16&255}get g(){return this.raw>>8&255}get b(){return this.raw&255}static random(e=100){return new ko(Math.random()*255|0,Math.random()*255|0,Math.random()*255|0,e)}static fromJson(e){switch(typeof e){case"number":{const r=new ko(0,0,0,0);return r.raw=e,r.updateRgba(),r}case"string":{const r=e;if(r.startsWith("#")){if(r.length===4)return new ko(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17);if(r.length===5)return new ko(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17,parseInt(r[4],16)*17);if(r.length===7)return new ko(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16));if(r.length===9)return new ko(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16),parseInt(r.substring(7,9),16))}else if(r.startsWith("rgba")||r.startsWith("rgb")){const n=r.indexOf("("),i=r.lastIndexOf(")");if(n===-1||i===-1)throw new en("No values specified for rgb/rgba function");const s=r.substring(n+1,i).split(",");if(s.length===3)return new ko(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));if(s.length===4)return new ko(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseFloat(s[3])*255)}return null}}throw new en("Unsupported format for color")}static toJson(e){return e.raw}};_r.BlackRgb="#000000";class CO{constructor(){this.volume=15,this.balance=8,this.port=1,this.program=0,this.primaryChannel=0,this.secondaryChannel=0,this.isMute=!1,this.isSolo=!1}}class Te{static getTextForTuning(e,r){let n=Te.getTextPartsForTuning(e);return r?n.join(""):n[0]}static getTextPartsForTuning(e,r=-1){let n=e/12|0,i=e%12;return[["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][i],(n+r).toString()]}static getDefaultTuningFor(e){return Te._defaultTunings.has(e)?Te._defaultTunings.get(e):null}static getPresetsFor(e){switch(e){case 7:return Te._sevenStrings;case 6:return Te._sixStrings;case 5:return Te._fiveStrings;case 4:return Te._fourStrings}return[]}static initialize(){Te._defaultTunings.set(7,new Te("Guitar 7 strings",[64,59,55,50,45,40,35],!0)),Te._sevenStrings.push(Te._defaultTunings.get(7)),Te._defaultTunings.set(6,new Te("Guitar Standard Tuning",[64,59,55,50,45,40],!0)),Te._sixStrings.push(Te._defaultTunings.get(6)),Te._sixStrings.push(new Te("Guitar Tune down  step",[63,58,54,49,44,39],!1)),Te._sixStrings.push(new Te("Guitar Tune down 1 step",[62,57,53,48,43,38],!1)),Te._sixStrings.push(new Te("Guitar Tune down 2 step",[60,55,51,46,41,36],!1)),Te._sixStrings.push(new Te("Guitar Dropped D Tuning",[64,59,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Dropped D Tuning variant",[64,57,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Double Dropped D Tuning",[62,59,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Dropped E Tuning",[66,61,57,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Dropped C Tuning",[62,57,53,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open C Tuning",[64,60,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open Cm Tuning",[63,60,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open C6 Tuning",[64,57,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open Cmaj7 Tuning",[64,59,55,52,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open D Tuning",[62,57,54,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open Dm Tuning",[62,57,53,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open D5 Tuning",[62,57,50,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open D6 Tuning",[62,59,54,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open Dsus4 Tuning",[62,57,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open E Tuning",[64,59,56,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Open Em Tuning",[64,59,55,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Open Esus11 Tuning",[64,59,55,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Open F Tuning",[65,60,53,48,45,41],!1)),Te._sixStrings.push(new Te("Guitar Open G Tuning",[62,59,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open Gm Tuning",[62,58,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open G6 Tuning",[64,59,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open Gsus4 Tuning",[62,60,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open A Tuning",[64,61,57,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Open Am Tuning",[64,60,57,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Nashville Tuning",[64,59,67,62,57,52],!1)),Te._sixStrings.push(new Te("Bass 6 Strings Tuning",[48,43,38,33,28,23],!1)),Te._sixStrings.push(new Te("Lute or Vihuela Tuning",[64,59,54,50,45,40],!1)),Te._defaultTunings.set(5,new Te("Bass 5 Strings Tuning",[43,38,33,28,23],!0)),Te._fiveStrings.push(Te._defaultTunings.get(5)),Te._fiveStrings.push(new Te("Banjo Dropped C Tuning",[62,59,55,48,67],!1)),Te._fiveStrings.push(new Te("Banjo Open D Tuning",[62,57,54,50,69],!1)),Te._fiveStrings.push(new Te("Banjo Open G Tuning",[62,59,55,50,67],!1)),Te._fiveStrings.push(new Te("Banjo G Minor Tuning",[62,58,55,50,67],!1)),Te._fiveStrings.push(new Te("Banjo G Modal Tuning",[62,57,55,50,67],!1)),Te._defaultTunings.set(4,new Te("Bass Standard Tuning",[43,38,33,28],!0)),Te._fourStrings.push(Te._defaultTunings.get(4)),Te._fourStrings.push(new Te("Bass Tune down  step",[42,37,32,27],!1)),Te._fourStrings.push(new Te("Bass Tune down 1 step",[41,36,31,26],!1)),Te._fourStrings.push(new Te("Bass Tune down 2 step",[39,34,29,24],!1)),Te._fourStrings.push(new Te("Bass Dropped D Tuning",[43,38,33,26],!1)),Te._fourStrings.push(new Te("Ukulele C Tuning",[45,40,36,43],!1)),Te._fourStrings.push(new Te("Ukulele G Tuning",[52,47,43,38],!1)),Te._fourStrings.push(new Te("Mandolin Standard Tuning",[64,57,50,43],!1)),Te._fourStrings.push(new Te("Mandolin or Violin Tuning",[76,69,62,55],!1)),Te._fourStrings.push(new Te("Viola Tuning",[69,62,55,48],!1)),Te._fourStrings.push(new Te("Cello Tuning",[57,50,43,36],!1))}static findTuning(e){let r=Te.getPresetsFor(e.length);for(let n=0,i=r.length;n<i;n++){let s=r[n],a=!0;for(let o=0,l=e.length;o<l;o++)if(e[o]!==s.tunings[o]){a=!1;break}if(a)return s}return null}constructor(e="",r=null,n=!1){this.isStandard=n,this.name=e,this.tunings=r??[]}finish(){const e=Te.findTuning(this.tunings);e&&(this.name=e.name,this.isStandard=e.isStandard),this.name=this.name.trim()}}Te._sevenStrings=[];Te._sixStrings=[];Te._fiveStrings=[];Te._fourStrings=[];Te._defaultTunings=new Map;Te.defaultAccidentals=["","#","","#","","","#","","#","","#",""];Te.defaultSteps=["C","C","D","D","E","F","F","G","G","A","A","B"];Te.initialize();class TO{constructor(){this.index=0,this.bars=[],this.chords=null,this.capo=0,this.transpositionPitch=0,this.displayTranspositionPitch=0,this.stringTuning=new Te("",[],!1),this.showTablature=!0,this.showStandardNotation=!0,this.isPercussion=!1,this.standardNotationLineCount=5}get tuning(){return this.stringTuning.tunings}get tuningName(){return this.stringTuning.name}get isStringed(){return this.stringTuning.tunings.length>0}finish(e,r=null){this.stringTuning.finish();for(let n=0,i=this.bars.length;n<i;n++)this.bars[n].finish(e,r)}addChord(e,r){r.staff=this;let n=this.chords;n===null&&(n=new Map,this.chords=n),n.set(e,r)}hasChord(e){var r;return((r=this.chords)==null?void 0:r.has(e))??!1}getChord(e){var r;return((r=this.chords)==null?void 0:r.get(e))??null}addBar(e){let r=this.bars;e.staff=this,e.index=r.length,r.length>0&&(e.previousBar=r[r.length-1],e.previousBar.nextBar=e),r.push(e)}}class bo{constructor(){this.index=0,this.staves=[],this.playbackInfo=new CO,this.color=new _r(200,0,0,255),this.name="",this.shortName="",this.defaultSystemsLayout=3,this.systemsLayout=[],this.percussionArticulations=[]}ensureStaveCount(e){for(;this.staves.length<e;)this.addStaff(new TO)}addStaff(e){e.index=this.staves.length,e.track=this,this.staves.push(e)}finish(e,r=null){this.shortName||(this.shortName=this.name,this.shortName.length>bo.ShortNameMaxLength&&(this.shortName=this.shortName.substr(0,bo.ShortNameMaxLength)));for(let n=0,i=this.staves.length;n<i;n++)this.staves[n].finish(e,r)}applyLyrics(e){for(let n of e)n.finish();let r=this.staves[0];for(let n=0;n<e.length;n++){let i=e[n];if(i.startBar>=0&&i.startBar<r.bars.length){let s=r.bars[i.startBar].voices[0].beats[0];for(let a=0;a<i.chunks.length&&s;a++){for(;s&&(s.isEmpty||s.isRest);)s=s.nextBeat;s&&(s.lyrics||(s.lyrics=new Array(e.length),s.lyrics.fill("")),s.lyrics[n]=i.chunks[a],s=s.nextBeat)}}}}}bo.ShortNameMaxLength=10;let vo=class _O{constructor(){this.id=_O._globalBarId++,this.index=0,this.beats=[],this.isEmpty=!0}insertBeat(e,r){r.nextBeat=e.nextBeat,r.nextBeat&&(r.nextBeat.previousBeat=r),r.previousBeat=e,r.voice=this,e.nextBeat=r,this.beats.splice(e.index+1,0,r)}addBeat(e){e.voice=this,e.index=this.beats.length,this.beats.push(e),e.isEmpty||(this.isEmpty=!1)}chain(e,r=null){if(this.bar){if(e.index<this.beats.length-1)e.nextBeat=this.beats[e.index+1],e.nextBeat.previousBeat=e;else if(e.isLastOfVoice&&e.voice.bar.nextBar){let n=this.bar.nextBar.voices[this.index];n.beats.length>0&&(e.nextBeat=n.beats[0]),e.nextBeat.previousBeat=e}e.chain(r)}}addGraceBeat(e){if(this.beats.length===0){this.addBeat(e);return}let r=this.beats[this.beats.length-1];this.beats.splice(this.beats.length-1,1),this.addBeat(e),this.addBeat(r),this.isEmpty=!1}getBeatAtPlaybackStart(e){return this._beatLookup.has(e)?this._beatLookup.get(e):null}finish(e,r=null){this._beatLookup=new Map;let n=null;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];o.index=a,this.chain(o,r),o.graceType===tt.None?(o.graceGroup=n,n&&(n.isComplete=!0),n=null):(n||(n=new m1),n.addBeat(o))}let i=0,s=0;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];if(o.index=a,o.finish(e,r),o.graceType===tt.None){if(o.graceGroup){const l=o.graceGroup.beats[0],c=o.graceGroup.beats[o.graceGroup.beats.length-1];if(l.graceType!==tt.BendGrace){let u=c.playbackStart+c.playbackDuration-l.playbackStart;switch(l.graceType){case tt.BeforeBeat:l.previousBeat?(l.previousBeat.playbackDuration-=u,l.previousBeat.voice==this?s=l.previousBeat.playbackStart+l.previousBeat.playbackDuration:s=-u):s=-u;for(const d of o.graceGroup.beats)this._beatLookup.delete(d.playbackStart),d.playbackStart=s,this._beatLookup.set(d.playbackStart,o),s+=d.playbackDuration;break;case tt.OnBeat:o.playbackDuration-=u,c.voice===this?s=c.playbackStart+c.playbackDuration:s=-u;break}}}o.displayStart=i,o.playbackStart=s,o.fermata?this.bar.masterBar.addFermata(o.playbackStart,o.fermata):o.fermata=this.bar.masterBar.getFermata(o),this._beatLookup.set(o.playbackStart,o)}else o.displayStart=i,o.playbackStart=s;o.finishTuplet(),o.graceGroup&&o.graceGroup.finish(),i+=o.displayDuration,s+=o.playbackDuration}}calculateDuration(){if(this.isEmpty||this.beats.length===0)return 0;let e=this.beats[this.beats.length-1],r=this.beats[0];return e.playbackStart+e.playbackDuration-r.playbackStart}};vo._globalBarId=0;class vt{static float64ToBytes(e){return vt._dataView.setFloat64(0,e,!0),this._conversionByteArray}static bytesToFloat64(e){throw vt._conversionByteArray.set(e,0),vt._dataView.getFloat64(0,!0)}static uint16ToInt16(e){return vt._dataView.setUint16(0,e,!0),vt._dataView.getInt16(0,!0)}static int16ToUint32(e){return vt._dataView.setInt16(0,e,!0),vt._dataView.getUint32(0,!0)}static int32ToUint16(e){return vt._dataView.setInt32(0,e,!0),vt._dataView.getUint16(0,!0)}static int32ToInt16(e){return vt._dataView.setInt32(0,e,!0),vt._dataView.getInt16(0,!0)}static int32ToUint32(e){return vt._dataView.setInt32(0,e,!0),vt._dataView.getUint32(0,!0)}static uint8ToInt8(e){return vt._dataView.setUint8(0,e),vt._dataView.getInt8(0)}}vt._conversionBuffer=new ArrayBuffer(8);vt._conversionByteArray=new Uint8Array(vt._conversionBuffer);vt._dataView=new DataView(vt._conversionBuffer);class ue{static readInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return r<<24|n<<16|i<<8|s}static readInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static readUInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static decodeUInt32LE(e,r){let n=e[r],i=e[r+1],s=e[r+2];return e[r+3]<<24|s<<16|i<<8|n}static readUInt16LE(e){let r=e.readByte(),n=e.readByte();return vt.int32ToUint16(n<<8|r)}static readInt16LE(e){let r=e.readByte(),n=e.readByte();return vt.int32ToInt16(n<<8|r)}static readUInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return vt.int32ToUint32(r<<24|n<<16|i<<8|s)}static readUInt16BE(e){let r=e.readByte(),n=e.readByte();return vt.int32ToInt16(r<<8|n)}static readInt16BE(e){let r=e.readByte(),n=e.readByte();return vt.int32ToInt16(r<<8|n)}static readByteArray(e,r){let n=new Uint8Array(r);return e.read(n,0,r),n}static read8BitChars(e,r){let n=new Uint8Array(r);return e.read(n,0,n.length),ue.toString(n,"utf-8")}static read8BitString(e){let r="",n=e.readByte();for(;n!==0;)r+=String.fromCharCode(n),n=e.readByte();return r}static read8BitStringLength(e,r){let n="",i=-1;for(let a=0;a<r;a++){let o=e.readByte();o===0&&i===-1&&(i=a),n+=String.fromCharCode(o)}let s=n;return i>=0?s.substr(0,i):s}static readSInt8(e){let r=e.readByte();return((r&255)>>7)*-256+(r&255)}static readInt24(e,r){let n=e[r]|e[r+1]<<8|e[r+2]<<16;return(n&8388608)===8388608&&(n=n|255<<24),n}static readInt16(e,r){return vt.int32ToInt16(e[r]|e[r+1]<<8)}static toString(e,r){let n=ue.detectEncoding(e);return n&&(r=n),r||(r="utf-8"),new TextDecoder(r).decode(e.buffer)}static detectEncoding(e){return e.length>2&&e[0]===254&&e[1]===255?"utf-16be":e.length>2&&e[0]===255&&e[1]===254?"utf-16le":e.length>4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255?"utf-32be":e.length>4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0?"utf-32le":null}static stringToBytes(e){return new TextEncoder().encode(e)}static writeInt32BE(e,r){e.writeByte(r>>24&255),e.writeByte(r>>16&255),e.writeByte(r>>8&255),e.writeByte(r>>0&255)}static writeInt32LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255),e.writeByte(r>>16&255),e.writeByte(r>>24&255)}static writeUInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16BE(e,r){e.writeByte(r>>8&255),e.writeByte(r>>0&255)}}class Yn{constructor(){this.length=0,this.position=0}get bytesWritten(){return this.position}getBuffer(){return this._buffer}static empty(){return Yn.withCapacity(0)}static withCapacity(e){let r=new Yn;return r._buffer=new Uint8Array(e),r}static fromBuffer(e){let r=new Yn;return r._buffer=e,r.length=e.length,r}static fromString(e){let r=ue.stringToBytes(e);return Yn.fromBuffer(r)}reset(){this.position=0}skip(e){this.position+=e}readByte(){return this.length-this.position<=0?-1:this._buffer[this.position++]}read(e,r,n){let i=this.length-this.position;return i>n&&(i=n),i<=0?0:(e.set(this._buffer.subarray(this.position,this.position+i),r),this.position+=i,i)}writeByte(e){let r=this.position+1;this.ensureCapacity(r),this._buffer[this.position]=e&255,r>this.length&&(this.length=r),this.position=r}write(e,r,n){let i=this.position+n;this.ensureCapacity(i);let s=Math.min(n,e.length-r);this._buffer.set(e.subarray(r,r+s),this.position),i>this.length&&(this.length=i),this.position=i}ensureCapacity(e){if(e>this._buffer.length){let r=e;r<256&&(r=256),r<this._buffer.length*2&&(r=this._buffer.length*2);let n=new Uint8Array(r);this.length>0&&n.set(this._buffer.subarray(0,0+this.length),0),this._buffer=n}}readAll(){return this.toArray()}toArray(){let e=new Uint8Array(this.length);return e.set(this._buffer.subarray(0,0+this.length),0),e}copyTo(e){e.write(this._buffer,0,this.length)}}var ee;(function(t){t[t.No=0]="No",t[t.Eof=1]="Eof",t[t.Number=2]="Number",t[t.DoubleDot=3]="DoubleDot",t[t.Dot=4]="Dot",t[t.String=5]="String",t[t.Tuning=6]="Tuning",t[t.LParensis=7]="LParensis",t[t.RParensis=8]="RParensis",t[t.LBrace=9]="LBrace",t[t.RBrace=10]="RBrace",t[t.Pipe=11]="Pipe",t[t.MetaCommand=12]="MetaCommand",t[t.Multiply=13]="Multiply",t[t.LowerThan=14]="LowerThan"})(ee||(ee={}));class Uc extends Nn{constructor(e,r,n,i,s,a,o,l=null){super(Bn.AlphaTex,e),this.position=r,this.line=n,this.col=i,this.nonTerm=s??"",this.expected=a??ee.No,this.symbol=o??ee.No,this.symbolData=l,Object.setPrototypeOf(this,Uc.prototype)}static symbolError(e,r,n,i,s,a,o=null){let l=`MalFormed AlphaTex: @${e} (line ${r}, col ${n}): Error on block ${i}`;return s!==a?(l+=`, expected a ${ee[s]} found a ${ee[a]}`,o!==null&&(l+=`: '${o}'`)):l+=`, invalid value: '${o}'`,new Uc(l,e,r,n,i,s,a,o)}static errorMessage(e,r,n,i){return e=`MalFormed AlphaTex: @${r} (line ${n}, col ${i}): ${e}`,new Uc(e,r,n,i,null,null,null,null)}}class oi extends dh{constructor(){super(),this._trackChannel=0,this._input="",this._ch=oi.Eof,this._curChPos=0,this._line=1,this._col=0,this._lastValidSpot=[0,1,0],this._sy=ee.No,this._syData="",this._allowNegatives=!1,this._allowFloat=!1,this._allowTuning=!1,this._currentDuration=H.QuadrupleWhole,this._currentDynamics=St.PPP,this._currentTuplet=0,this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this.logErrors=!1}get name(){return"AlphaTex"}initFromString(e,r){this.data=Yn.empty(),this._input=e,this.settings=r}readScore(){try{if(this.data.length>0&&(this._input=ue.toString(this.data.readAll(),this.settings.importer.encoding)),this._allowTuning=!0,this._lyrics=new Map,this.createDefaultScore(),this._curChPos=0,this._line=1,this._col=0,this.saveValidSpot(),this._currentDuration=H.Quarter,this._currentDynamics=St.F,this._currentTuplet=1,this._ch=this.nextChar(),this._sy=this.newSy(),this._sy===ee.LowerThan)throw new nn("Unknown start sign '<' (meant to import as XML?)");if(this._sy===ee.Eof)throw new nn("Unexpected end of file");const e=this.metaData(),r=this.bars();if(!e&&!r)throw new nn("No alphaTex data found");this.consolidate(),this._score.finish(this.settings),this._score.rebuildRepeatGroups();for(const[n,i]of this._lyrics)this._score.tracks[n].applyLyrics(i);return this._score}catch(e){throw e instanceof Uc?new nn(e.message,e):e}}consolidate(){for(let e of this._score.tracks)for(let r of e.staves)for(;r.bars.length<this._score.masterBars.length;){let n=this.newBar(r),i=new jn;i.isEmpty=!0,n.voices[0].addBeat(i)}}error(e,r,n=!0){let i,s=!1;n?(i=this._sy,(i===ee.String||i===ee.Number||i===ee.MetaCommand)&&(s=!0)):i=r;let a=Uc.symbolError(this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2],e,r,i,s?this._syData:null);throw this.logErrors&&ve.error(this.name,a.message),a}errorMessage(e){let r=Uc.errorMessage(e,this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2]);throw this.logErrors&&ve.error(this.name,r.message),r}createDefaultScore(){this._score=new bu,this._score.tempo=120,this._score.tempoLabel="",this.newTrack()}newTrack(){this._currentTrack=new bo,this._currentTrack.ensureStaveCount(1),this._currentTrack.playbackInfo.program=25,this._currentTrack.playbackInfo.primaryChannel=this._trackChannel++,this._currentTrack.playbackInfo.secondaryChannel=this._trackChannel++,this._currentStaff=this._currentTrack.staves[0],this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=Te.getDefaultTuningFor(6).tunings,this._score.addTrack(this._currentTrack),this._lyrics.set(this._currentTrack.index,[]),this._currentDynamics=St.F}parseClefFromString(e){switch(e.toLowerCase()){case"g2":case"treble":return ut.G2;case"f4":case"bass":return ut.F4;case"c3":case"tenor":return ut.C3;case"c4":case"alto":return ut.C4;case"n":case"neutral":return ut.Neutral;default:return ut.G2}}parseClefFromInt(e){switch(e){case 43:return ut.G2;case 65:return ut.F4;case 48:return ut.C3;case 60:return ut.C4;default:return ut.G2}}parseTripletFeelFromString(e){switch(e.toLowerCase()){case"no":case"none":return xt.NoTripletFeel;case"t16":case"triplet-16th":return xt.Triplet16th;case"t8":case"triplet-8th":return xt.Triplet8th;case"d16":case"dotted-16th":return xt.Dotted16th;case"d8":case"dotted-8th":return xt.Dotted8th;case"s16":case"scottish-16th":return xt.Scottish16th;case"s8":case"scottish-8th":return xt.Scottish8th;default:return xt.NoTripletFeel}}parseTripletFeelFromInt(e){switch(e){case 0:return xt.NoTripletFeel;case 1:return xt.Triplet16th;case 2:return xt.Triplet8th;case 3:return xt.Dotted16th;case 4:return xt.Dotted8th;case 5:return xt.Scottish16th;case 6:return xt.Scottish8th;default:return xt.NoTripletFeel}}parseKeySignature(e){switch(e.toLowerCase()){case"cb":case"cbmajor":return hn.Cb;case"gb":case"gbmajor":case"d#minor":return hn.Gb;case"db":case"dbmajor":case"bbminor":return hn.Db;case"ab":case"abmajor":case"fminor":return hn.Ab;case"eb":case"ebmajor":case"cminor":return hn.Eb;case"bb":case"bbmajor":case"gminor":return hn.Bb;case"f":case"fmajor":case"dminor":return hn.F;case"c":case"cmajor":case"aminor":return hn.C;case"g":case"gmajor":case"eminor":return hn.G;case"d":case"dmajor":case"bminor":return hn.D;case"a":case"amajor":case"f#minor":return hn.A;case"e":case"emajor":case"c#minor":return hn.E;case"b":case"bmajor":case"g#minor":return hn.B;case"f#":case"f#major":case"ebminor":return hn.FSharp;case"c#":case"c#major":return hn.CSharp;default:return hn.C}}nextChar(){return this._curChPos<this._input.length?(this._ch=this._input.charCodeAt(this._curChPos++),this._ch===10?(this._line++,this._col=0):this._col++):this._ch=oi.Eof,this._ch}saveValidSpot(){this._lastValidSpot=[this._curChPos,this._line,this._col]}newSy(){for(this.saveValidSpot(),this._sy=ee.No;this._sy===ee.No;)if(this._ch===oi.Eof)this._sy=ee.Eof;else if(oi.isWhiteSpace(this._ch))this._ch=this.nextChar(),this.saveValidSpot();else if(this._ch===47){if(this._ch=this.nextChar(),this._ch===47)for(;this._ch!==13&&this._ch!==10&&this._ch!==oi.Eof;)this._ch=this.nextChar();else if(this._ch===42)for(;this._ch!==oi.Eof;)if(this._ch===42){if(this._ch=this.nextChar(),this._ch===47){this._ch=this.nextChar();break}}else this._ch=this.nextChar();else this.error("comment",ee.String,!1);this.saveValidSpot()}else if(this._ch===34||this._ch===39){let e=this._ch;this._ch=this.nextChar();let r="";for(this._sy=ee.String;this._ch!==e&&this._ch!==oi.Eof;)r+=String.fromCharCode(this._ch),this._ch=this.nextChar();this._ch===oi.Eof&&this.errorMessage("String opened but never closed"),this._syData=r,this._ch=this.nextChar()}else if(this._ch===45)this._allowNegatives?(this._sy=ee.Number,this._syData=this.readNumber()):(this._sy=ee.String,this._syData=this.readName());else if(this._ch===46)this._sy=ee.Dot,this._ch=this.nextChar();else if(this._ch===58)this._sy=ee.DoubleDot,this._ch=this.nextChar();else if(this._ch===40)this._sy=ee.LParensis,this._ch=this.nextChar();else if(this._ch===92)this._ch=this.nextChar(),this._sy=ee.MetaCommand,this._syData=this.readName();else if(this._ch===41)this._sy=ee.RParensis,this._ch=this.nextChar();else if(this._ch===123)this._sy=ee.LBrace,this._ch=this.nextChar();else if(this._ch===125)this._sy=ee.RBrace,this._ch=this.nextChar();else if(this._ch===124)this._sy=ee.Pipe,this._ch=this.nextChar();else if(this._ch===42)this._sy=ee.Multiply,this._ch=this.nextChar();else if(this._ch===60)this._sy=ee.LowerThan,this._ch=this.nextChar();else if(this.isDigit(this._ch))this._sy=ee.Number,this._syData=this.readNumber();else if(oi.isNameLetter(this._ch)){let e=this.readName(),r=this._allowTuning?or.parseTuning(e):null;r?(this._sy=ee.Tuning,this._syData=r):(this._sy=ee.String,this._syData=e)}else this.error("symbol",ee.String,!1);return this._sy}static isNameLetter(e){return!oi.isTerminal(e)&&(33<=e&&e<=47||58<=e&&e<=126||128<=e)}static isTerminal(e){return e===46||e===123||e===125||e===91||e===93||e===40||e===41||e===124||e===39||e===34||e===92}static isWhiteSpace(e){return e===9||e===10||e===11||e===13||e===32}isDigit(e){return e>=48&&e<=57||this._allowNegatives&&e===45||this._allowFloat&&e===46}readName(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(oi.isNameLetter(this._ch)||this.isDigit(this._ch));return e}readNumber(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(this.isDigit(this._ch));return this._allowFloat?parseFloat(e):parseInt(e)}metaData(){let e=!1,r=!0;for(;this._sy===ee.MetaCommand&&r;){let n=this._syData.toLowerCase();switch(n){case"title":case"subtitle":case"artist":case"album":case"words":case"music":case"copyright":this._sy=this.newSy(),this._sy!==ee.String&&this.error(n,ee.String,!0);let i=this._syData;switch(n){case"title":this._score.title=i;break;case"subtitle":this._score.subTitle=i;break;case"artist":this._score.artist=i;break;case"album":this._score.album=i;break;case"words":this._score.words=i;break;case"music":this._score.music=i;break;case"copyright":this._score.copyright=i;break}this._sy=this.newSy(),e=!0;break;case"tempo":this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy===ee.Number?this._score.tempo=this._syData:this.error("tempo",ee.Number,!0),this._sy=this.newSy(),e=!0;break;default:this.handleStaffMeta()?e=!0:e?this.error("metaDataTags",ee.String,!1):r=!1;break}}return e?(this._sy!==ee.Dot&&this.error("song",ee.Dot,!0),this._sy=this.newSy()):this._sy===ee.Dot&&(this._sy=this.newSy()),e}handleStaffMeta(){var e;switch(this._syData.toLowerCase()){case"capo":return this._sy=this.newSy(),this._sy===ee.Number?this._currentStaff.capo=this._syData:this.error("capo",ee.Number,!0),this._sy=this.newSy(),!0;case"tuning":this._sy=this.newSy();let r=this._currentStaff.tuning.length;switch(this._staffHasExplicitTuning=!0,this._staffTuningApplied=!1,this._sy){case ee.String:let s=this._syData.toLowerCase();s==="piano"||s==="none"||s==="voice"?(this._currentStaff.stringTuning.tunings=[],this._currentStaff.displayTranspositionPitch=0):this.error("tuning",ee.Tuning,!0),this._sy=this.newSy();break;case ee.Tuning:let a=[];do{let o=this._syData;a.push(o.realValue),this._sy=this.newSy()}while(this._sy===ee.Tuning);this._currentStaff.stringTuning.tunings=a;break;default:this.error("tuning",ee.Tuning,!0);break}return r!==this._currentStaff.tuning.length&&(((e=this._currentStaff.chords)==null?void 0:e.size)??0)>0&&this.errorMessage("Tuning must be defined before any chord"),!0;case"instrument":if(this._sy=this.newSy(),this._staffTuningApplied=!1,this._sy===ee.Number){let s=this._syData;s>=0&&s<=127?this._currentTrack.playbackInfo.program=this._syData:this.error("instrument",ee.Number,!1)}else if(this._sy===ee.String){let s=this._syData.toLowerCase();this._currentTrack.playbackInfo.program=Io.getValue(s)}else this.error("instrument",ee.Number,!0);return this._sy=this.newSy(),!0;case"lyrics":this._sy=this.newSy();let n=new tn;return n.startBar=0,n.text="",this._sy===ee.Number&&(n.startBar=this._syData,this._sy=this.newSy()),this._sy===ee.String?(n.text=this._syData,this._sy=this.newSy()):this.error("lyrics",ee.String,!0),this._lyrics.get(this._currentTrack.index).push(n),!0;case"chord":this._sy=this.newSy();let i=new Kl;this.chordProperties(i),this._sy===ee.String?(i.name=this._syData,this._sy=this.newSy()):this.error("chord-name",ee.Number,!0);for(let s=0;s<this._currentStaff.tuning.length;s++)this._sy===ee.Number?i.strings.push(this._syData):this._sy===ee.String&&this._syData.toLowerCase()==="x"&&i.strings.push(-1),this._sy=this.newSy();return this._currentStaff.addChord(this.getChordId(this._currentStaff,i.name),i),!0;default:return!1}}chordProperties(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;)switch(this._syData.toLowerCase()){case"firstfret":switch(this._sy=this.newSy(),this._sy){case ee.Number:e.firstFret=this._syData;break;default:this.error("chord-firstfret",ee.Number,!0);break}this._sy=this.newSy();break;case"showdiagram":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showDiagram=this._syData!==0;break;default:this.error("chord-showdiagram",ee.String,!0);break}this._sy=this.newSy();break;case"showfingering":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showFingering=this._syData!==0;break;default:this.error("chord-showfingering",ee.String,!0);break}this._sy=this.newSy();break;case"showname":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showName=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showName=this._syData!==0;break;default:this.error("chord-showname",ee.String,!0);break}this._sy=this.newSy();break;case"barre":for(this._sy=this.newSy();this._sy===ee.Number;)e.barreFrets.push(this._syData),this._sy=this.newSy();break;default:this.error("chord-properties",ee.String,!1);break}this._sy!==ee.RBrace&&this.error("chord-properties",ee.RBrace,!0),this._sy=this.newSy()}}bars(){let e=this.bar();for(;this._sy!==ee.Eof;)if(this._sy===ee.Pipe)this._sy=this.newSy(),this.bar();else if(this._sy===ee.MetaCommand)this.bar();else break;return e}trackStaffMeta(){return this._sy!==ee.MetaCommand?!1:(this._syData.toLowerCase()==="track"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._score.masterBars.length>0&&this.newTrack(),this._sy===ee.String&&(this._currentTrack.name=this._syData,this._sy=this.newSy()),this._sy===ee.String&&(this._currentTrack.shortName=this._syData,this._sy=this.newSy())),this._sy===ee.MetaCommand&&this._syData.toLowerCase()==="staff"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._currentTrack.staves[0].bars.length>0&&(this._currentTrack.ensureStaveCount(this._currentTrack.staves.length+1),this._currentStaff=this._currentTrack.staves[this._currentTrack.staves.length-1],this._currentDynamics=St.F),this.staffProperties()),!0)}staffProperties(){if(this._sy!==ee.LBrace)return;this._sy=this.newSy();let e=!1,r=!1;for(;this._sy===ee.String;)switch(this._syData.toLowerCase()){case"score":e=!0,this._sy=this.newSy();break;case"tabs":r=!0,this._sy=this.newSy();break;default:this.error("staff-properties",ee.String,!1);break}(e||r)&&(this._currentStaff.showStandardNotation=e,this._currentStaff.showTablature=r),this._sy!==ee.RBrace&&this.error("staff-properties",ee.RBrace,!0),this._sy=this.newSy()}bar(){const e=this.trackStaffMeta();let r=this.newBar(this._currentStaff);if(this._currentStaff.bars.length>this._score.masterBars.length){let a=new Qo;this._score.addMasterBar(a),a.index>0&&(a.keySignature=a.previousMasterBar.keySignature,a.keySignatureType=a.previousMasterBar.keySignatureType,a.timeSignatureDenominator=a.previousMasterBar.timeSignatureDenominator,a.timeSignatureNumerator=a.previousMasterBar.timeSignatureNumerator,a.tripletFeel=a.previousMasterBar.tripletFeel)}const n=this.barMeta(r);if(!this._staffTuningApplied&&!this._staffHasExplicitTuning){const a=this._currentTrack.playbackInfo.program;this._currentStaff.displayTranspositionPitch=0,this._currentStaff.stringTuning.tunings=[],a==15||a>=24&&a<=31?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=Te.getDefaultTuningFor(6).tunings):a>=32&&a<=39?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==40||a==44||a==45||a==48||a==49||a==50||a==51?this._currentStaff.stringTuning.tunings=[52,57,50,43]:a==41?this._currentStaff.stringTuning.tunings=[57,50,43,36]:a==42?this._currentStaff.stringTuning.tunings=[45,38,31,24]:a==43?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==105?this._currentStaff.stringTuning.tunings=[50,47,43,38,55]:a==106?this._currentStaff.stringTuning.tunings=[57,52,45]:a==107?this._currentStaff.stringTuning.tunings=[52,45,38,31]:a==110&&(this._currentStaff.stringTuning.tunings=[64,57,50,43]),this._staffTuningApplied=!0}let i=!1,s=r.voices[0];for(;this._sy!==ee.Pipe&&this._sy!==ee.Eof&&this.beat(s);)i=!0;if(s.beats.length===0){let a=new jn;a.isEmpty=!0,s.addBeat(a)}return e||n||i}newBar(e){let r=new sl;e.addBar(r),r.index>0&&(r.clef=r.previousBar.clef);let n=new vo;return r.addVoice(n),r}beat(e){this.beatDuration();let r=new jn;if(e.addBeat(r),this._sy===ee.LParensis){for(this._sy=this.newSy(),this.note(r);this._sy!==ee.RParensis&&this._sy!==ee.Eof&&this.note(r););this._sy!==ee.RParensis&&this.error("note-list",ee.RParensis,!0),this._sy=this.newSy()}else if(this._sy===ee.String&&this._syData.toLowerCase()==="r")this._sy=this.newSy();else if(!this.note(r))return e.beats.splice(e.beats.length-1,1),!1;this._sy===ee.Dot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ee.Number&&this.error("duration",ee.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._sy=this.newSy()),r.duration=this._currentDuration,r.dynamics=this._currentDynamics,this._currentTuplet!==1&&!r.hasTuplet&&oi.applyTuplet(r,this._currentTuplet);let n=1;this._sy===ee.Multiply&&(this._sy=this.newSy(),this._sy!==ee.Number?this.error("multiplier",ee.Number,!0):n=this._syData,this._sy=this.newSy()),this.beatEffects(r);for(let i=0;i<n-1;i++)e.addBeat(hT.clone(r));return!0}beatDuration(){if(this._sy===ee.DoubleDot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ee.Number&&this.error("duration",ee.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._currentTuplet=1,this._sy=this.newSy(),this._sy===ee.LBrace)){for(this._sy=this.newSy();this._sy===ee.String;)switch(this._syData.toLowerCase()){case"tu":this._sy=this.newSy(),this._sy!==ee.Number&&this.error("duration-tuplet",ee.Number,!0),this._currentTuplet=this._syData,this._sy=this.newSy();break;default:this.error("beat-duration",ee.String,!1);break}this._sy!==ee.RBrace&&this.error("beat-duration",ee.RBrace,!0),this._sy=this.newSy()}}beatEffects(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;)this.applyBeatEffect(e)||this.error("beat-effects",ee.String,!1);this._sy!==ee.RBrace&&this.error("beat-effects",ee.RBrace,!0),this._sy=this.newSy()}}applyBeatEffect(e){let r=this._syData.toLowerCase();if(r==="f")e.fadeIn=!0;else if(r==="v")e.vibrato=$t.Slight;else if(r==="s")e.slap=!0;else if(r==="p")e.pop=!0;else if(r==="tt")e.tap=!0;else if(r==="dd")e.dots=2;else if(r==="d")e.dots=1;else if(r==="su")e.pickStroke=Vn.Up;else if(r==="sd")e.pickStroke=Vn.Down;else if(r==="tu"){if(this._sy=this.newSy(),this._sy!==ee.Number)return this.error("tuplet",ee.Number,!0),!1;oi.applyTuplet(e,this._syData)}else if(r==="tb"||r==="tbe"){let n=r==="tbe";for(this._sy=this.newSy(),this._sy!==ee.LParensis&&this.error("tremolobar-effect",ee.LParensis,!0),this._allowNegatives=!0,this._sy=this.newSy();this._sy!==ee.RParensis&&this._sy!==ee.Eof;){let i=0,s=0;n?(this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),i=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),s=this._syData):(this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),i=0,s=this._syData),e.addWhammyBarPoint(new Ie(i,s)),this._sy=this.newSy()}if(e.whammyBarPoints!=null){for(;e.whammyBarPoints.length>60;)e.removeWhammyBarPoint(e.whammyBarPoints.length-1);if(n)e.whammyBarPoints.sort((i,s)=>i.offset-s.offset);else{let i=e.whammyBarPoints.length,s=60/i|0,a=0;for(;a<i;)e.whammyBarPoints[a].offset=Math.min(60,a*s),a++}}this._allowNegatives=!1,this._sy!==ee.RParensis&&this.error("tremolobar-effect",ee.RParensis,!0)}else if(r==="bu"||r==="bd"||r==="au"||r==="ad"){switch(r){case"bu":e.brushType=dr.BrushUp;break;case"bd":e.brushType=dr.BrushDown;break;case"au":e.brushType=dr.ArpeggioUp;break;case"ad":e.brushType=dr.ArpeggioDown;break}return this._sy=this.newSy(),this._sy===ee.Number?(e.brushDuration=this._syData,this._sy=this.newSy(),!0):(e.updateDurations(),r==="bu"||r==="bd"?e.brushDuration=e.playbackDuration/4/e.notes.length:(r==="au"||r==="ad")&&(e.brushDuration=e.playbackDuration/e.notes.length),!0)}else if(r==="ch"){this._sy=this.newSy();let n=this._syData,i=this.getChordId(this._currentStaff,n);if(!this._currentStaff.hasChord(i)){let s=new Kl;s.showDiagram=!1,s.name=n,this._currentStaff.addChord(i,s)}e.chordId=i}else{if(r==="gr")return this._sy=this.newSy(),this._syData.toLowerCase()==="ob"?(e.graceType=tt.OnBeat,this._sy=this.newSy()):this._syData.toLowerCase()==="b"?(e.graceType=tt.BendGrace,this._sy=this.newSy()):e.graceType=tt.BeforeBeat,!0;if(r==="dy"){switch(this._sy=this.newSy(),this._syData.toLowerCase()){case"ppp":e.dynamics=St.PPP;break;case"pp":e.dynamics=St.PP;break;case"p":e.dynamics=St.P;break;case"mp":e.dynamics=St.MP;break;case"mf":e.dynamics=St.MF;break;case"f":e.dynamics=St.F;break;case"ff":e.dynamics=St.FF;break;case"fff":e.dynamics=St.FFF;break}this._currentDynamics=e.dynamics}else if(r==="cre")e.crescendo=Di.Crescendo;else if(r==="dec")e.crescendo=Di.Decrescendo;else if(r==="tp"){if(this._sy=this.newSy(),e.tremoloSpeed=H.Eighth,this._sy===ee.Number){switch(this._syData){case 8:e.tremoloSpeed=H.Eighth;break;case 16:e.tremoloSpeed=H.Sixteenth;break;case 32:e.tremoloSpeed=H.ThirtySecond;break;default:e.tremoloSpeed=H.Eighth;break}this._sy=this.newSy()}return!0}else return!1}return this._sy=this.newSy(),!0}getChordId(e,r){return r.toLowerCase()+e.index+e.track.index}static applyTuplet(e,r){switch(r){case 3:e.tupletNumerator=3,e.tupletDenominator=2;break;case 5:e.tupletNumerator=5,e.tupletDenominator=4;break;case 6:e.tupletNumerator=6,e.tupletDenominator=4;break;case 7:e.tupletNumerator=7,e.tupletDenominator=4;break;case 9:e.tupletNumerator=9,e.tupletDenominator=8;break;case 10:e.tupletNumerator=10,e.tupletDenominator=8;break;case 11:e.tupletNumerator=11,e.tupletDenominator=8;break;case 12:e.tupletNumerator=12,e.tupletDenominator=8;break;default:e.tupletNumerator=1,e.tupletDenominator=1;break}}isNoteText(e){return e==="x"||e==="-"||e==="r"}note(e){let r=!1,n=!1,i=-1,s=-1,a=-1;switch(this._sy){case ee.Number:i=this._syData;break;case ee.String:r=this._syData==="x",n=this._syData==="-",n||r?i=0:this.error("note-fret",ee.Number,!0);break;case ee.Tuning:let u=this._syData;s=u.octave,a=u.noteValue;break;default:return!1}this._sy=this.newSy();let o=s===-1&&this._currentStaff.tuning.length>0,l=-1;o&&(this._sy!==ee.Dot&&this.error("note",ee.Dot,!0),this._sy=this.newSy(),this._sy!==ee.Number&&this.error("note-string",ee.Number,!0),l=this._syData,(l<1||l>this._currentStaff.tuning.length)&&this.error("note-string",ee.Number,!1),this._sy=this.newSy());let c=new Fr;return o?(c.string=this._currentStaff.tuning.length-(l-1),c.isDead=r,c.isTieDestination=n,n||(c.fret=i)):(c.octave=s,c.tone=a,c.isTieDestination=n),e.addNote(c),this.noteEffects(c),!0}noteEffects(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;){let r=this._syData.toLowerCase();if(r==="b"||r==="be"){let n=r==="be";for(this._sy=this.newSy(),this._sy!==ee.LParensis&&this.error("bend-effect",ee.LParensis,!0),this._sy=this.newSy();this._sy!==ee.RParensis&&this._sy!==ee.Eof;){let s=0,a=0;n?(this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),s=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),a=this._syData):(this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),a=this._syData),e.addBendPoint(new Ie(s,a)),this._sy=this.newSy()}const i=e.bendPoints;if(i!=null){for(;i.length>60;)i.splice(i.length-1,1);if(n)i.sort((s,a)=>s.offset-a.offset);else{let s=i.length,a=60/(s-1)|0,o=0;for(;o<s;)i[o].offset=Math.min(60,o*a),o++}}this._sy!==ee.RParensis&&this.error("bend-effect",ee.RParensis,!0),this._sy=this.newSy()}else if(r==="nh")e.harmonicType=Qe.Natural,this._sy=this.newSy();else if(r==="ah")e.harmonicType=Qe.Artificial,this._sy=this.newSy();else if(r==="th")e.harmonicType=Qe.Tap,this._sy=this.newSy();else if(r==="ph")e.harmonicType=Qe.Pinch,this._sy=this.newSy();else if(r==="sh")e.harmonicType=Qe.Semi,this._sy=this.newSy();else if(r==="tr"){this._sy=this.newSy(),this._sy!==ee.Number&&this.error("trill-effect",ee.Number,!0);let n=this._syData;this._sy=this.newSy();let i=H.Sixteenth;if(this._sy===ee.Number){switch(this._syData){case 16:i=H.Sixteenth;break;case 32:i=H.ThirtySecond;break;case 64:i=H.SixtyFourth;break;default:i=H.Sixteenth;break}this._sy=this.newSy()}e.trillValue=n+e.stringTuning,e.trillSpeed=i}else if(r==="v")this._sy=this.newSy(),e.vibrato=$t.Slight;else if(r==="sl")this._sy=this.newSy(),e.slideOutType=pt.Legato;else if(r==="ss")this._sy=this.newSy(),e.slideOutType=pt.Shift;else if(r==="sib")this._sy=this.newSy(),e.slideInType=Pn.IntoFromBelow;else if(r==="sia")this._sy=this.newSy(),e.slideInType=Pn.IntoFromAbove;else if(r==="sou")this._sy=this.newSy(),e.slideOutType=pt.OutUp;else if(r==="sod")this._sy=this.newSy(),e.slideOutType=pt.OutDown;else if(r==="psd")this._sy=this.newSy(),e.slideOutType=pt.PickSlideDown;else if(r==="psu")this._sy=this.newSy(),e.slideOutType=pt.PickSlideUp;else if(r==="h")this._sy=this.newSy(),e.isHammerPullOrigin=!0;else if(r==="lht")this._sy=this.newSy(),e.isLeftHandTapped=!0;else if(r==="g")this._sy=this.newSy(),e.isGhost=!0;else if(r==="ac")this._sy=this.newSy(),e.accentuated=sn.Normal;else if(r==="hac")this._sy=this.newSy(),e.accentuated=sn.Heavy;else if(r==="pm")this._sy=this.newSy(),e.isPalmMute=!0;else if(r==="st")this._sy=this.newSy(),e.isStaccato=!0;else if(r==="lr")this._sy=this.newSy(),e.isLetRing=!0;else if(r==="x")this._sy=this.newSy(),e.fret=0,e.isDead=!0;else if(r==="-"||r==="t")this._sy=this.newSy(),e.isTieDestination=!0;else if(r==="lf"){this._sy=this.newSy();let n=ct.Thumb;this._sy===ee.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.leftHandFinger=n}else if(r==="rf"){this._sy=this.newSy();let n=ct.Thumb;this._sy===ee.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.rightHandFinger=n}else this.applyBeatEffect(e.beat)||this.error(r,ee.String,!1)}this._sy!==ee.RBrace&&this.error("note-effect",ee.RBrace,!1),this._sy=this.newSy()}}toFinger(e){switch(e){case 1:return ct.Thumb;case 2:return ct.IndexFinger;case 3:return ct.MiddleFinger;case 4:return ct.AnnularFinger;case 5:return ct.LittleFinger}return ct.Thumb}parseDuration(e){switch(e){case-4:return H.QuadrupleWhole;case-2:return H.DoubleWhole;case 1:return H.Whole;case 2:return H.Half;case 4:return H.Quarter;case 8:return H.Eighth;case 16:return H.Sixteenth;case 32:return H.ThirtySecond;case 64:return H.SixtyFourth;case 128:return H.OneHundredTwentyEighth;case 256:return H.TwoHundredFiftySixth;default:return H.Quarter}}barMeta(e){let r=!1,n=e.masterBar;for(;this._sy===ee.MetaCommand;){r=!0;let i=this._syData.toLowerCase();if(i==="ts")this._sy=this.newSy(),this._sy!==ee.Number&&this.error("timesignature-numerator",ee.Number,!0),n.timeSignatureNumerator=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("timesignature-denominator",ee.Number,!0),n.timeSignatureDenominator=this._syData,this._sy=this.newSy();else if(i==="ro")n.isRepeatStart=!0,this._sy=this.newSy();else if(i==="rc")this._sy=this.newSy(),this._sy!==ee.Number&&this.error("repeatclose",ee.Number,!0),this._syData>2048&&this.error("repeatclose",ee.Number,!1),n.repeatCount=this._syData,this._sy=this.newSy();else if(i==="ae")if(this._sy=this.newSy(),this._sy===ee.LParensis){for(this._sy=this.newSy(),this._sy!==ee.Number&&this.error("alternateending",ee.Number,!0),this.applyAlternateEnding(n);this._sy===ee.Number;)this.applyAlternateEnding(n);this._sy!==ee.RParensis&&this.error("alternateending-list",ee.RParensis,!0),this._sy=this.newSy()}else this._sy!==ee.Number&&this.error("alternateending",ee.Number,!0),this.applyAlternateEnding(n);else if(i==="ks")this._sy=this.newSy(),this._sy!==ee.String&&this.error("keysignature",ee.String,!0),n.keySignature=this.parseKeySignature(this._syData),this._sy=this.newSy();else if(i==="clef"){switch(this._sy=this.newSy(),this._sy){case ee.String:e.clef=this.parseClefFromString(this._syData);break;case ee.Number:e.clef=this.parseClefFromInt(this._syData);break;case ee.Tuning:let s=this._syData;e.clef=this.parseClefFromInt(s.realValue);break;default:this.error("clef",ee.String,!0);break}this._sy=this.newSy()}else if(i==="tempo"){this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy!==ee.Number&&this.error("tempo",ee.Number,!0);let s=new Un;s.isLinear=!1,s.type=vn.Tempo,s.value=this._syData,n.tempoAutomation=s,this._sy=this.newSy()}else if(i==="section"){this._sy=this.newSy(),this._sy!==ee.String&&this.error("section",ee.String,!0);let s=this._syData;this._sy=this.newSy();let a="";this._sy===ee.String&&!this.isNoteText(this._syData.toLowerCase())&&(a=s,s=this._syData,this._sy=this.newSy());let o=new wv;o.marker=a,o.text=s,n.section=o}else if(i==="tf"){switch(this._allowTuning=!1,this._sy=this.newSy(),this._allowTuning=!0,this._sy){case ee.String:n.tripletFeel=this.parseTripletFeelFromString(this._syData);break;case ee.Number:n.tripletFeel=this.parseTripletFeelFromInt(this._syData);break;default:this.error("triplet-feel",ee.String,!0);break}this._sy=this.newSy()}else i==="ac"?(n.isAnacrusis=!0,this._sy=this.newSy()):e.index===0?this.handleStaffMeta()||this.error("measure-effects",ee.String,!1):this.error("measure-effects",ee.String,!1)}if(n.index===0&&!n.tempoAutomation){let i=new Un;i.isLinear=!1,i.type=vn.Tempo,i.value=this._score.tempo,n.tempoAutomation=i}return r}applyAlternateEnding(e){let r=this._syData;r<1&&this.error("alternateending",ee.Number,!0),e.alternateEndings|=1<<r-1,this._sy=this.newSy()}}oi.Eof=0;class Za extends dh{get name(){return"Guitar Pro 3-5"}constructor(){super(),this._versionNumber=0,this._globalTripletFeel=xt.NoTripletFeel,this._lyricsTrack=0,this._lyrics=[],this._barCount=0,this._trackCount=0,this._playbackInfos=[],this._beatTextChunksByTrack=new Map}readScore(){return this.readVersion(),this._score=new bu,this.readScoreInformation(),this._versionNumber<500&&(this._globalTripletFeel=At.gpReadBool(this.data)?xt.Triplet8th:xt.NoTripletFeel),this._versionNumber>=400&&this.readLyrics(),this._versionNumber>=510&&this.data.skip(19),this._versionNumber>=500&&(this.readPageSetup(),this._score.tempoLabel=At.gpReadStringIntByte(this.data,this.settings.importer.encoding)),this._score.tempo=ue.readInt32LE(this.data),this._versionNumber>=510&&At.gpReadBool(this.data),ue.readInt32LE(this.data),this._versionNumber>=400&&this.data.readByte(),this.readPlaybackInfos(),this._versionNumber>=500&&(this.data.skip(38),this.data.skip(4)),this._barCount=ue.readInt32LE(this.data),this._trackCount=ue.readInt32LE(this.data),this.readMasterBars(),this.readTracks(),this.readBars(),this._score.masterBars.length>0&&(this._score.masterBars[0].tempoAutomation=Un.buildTempoAutomation(!1,0,this._score.tempo,2),this._score.masterBars[0].tempoAutomation.text=this._score.tempoLabel),this._score.finish(this.settings),this._lyrics&&this._lyricsTrack>=0&&this._score.tracks[this._lyricsTrack].applyLyrics(this._lyrics),this._score}readVersion(){let e=At.gpReadStringByteLength(this.data,30,this.settings.importer.encoding);if(!e.startsWith(Za.VersionString))throw new nn("Unsupported format");e=e.substr(Za.VersionString.length+1);let r=e.indexOf(".");this._versionNumber=100*parseInt(e.substr(0,r))+parseInt(e.substr(r+1)),ve.debug(this.name,"Guitar Pro version "+e+" detected")}readScoreInformation(){var n;this._score.title=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.subTitle=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.artist=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.album=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.words=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.music=this._versionNumber>=500?At.gpReadStringIntUnused(this.data,this.settings.importer.encoding):this._score.words,this._score.copyright=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.tab=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.instructions=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding);let e=ue.readInt32LE(this.data),r="";for(let i=0;i<e;i++)i>0&&(r+=`\r
`),r+=(n=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding))==null?void 0:n.toString();this._score.notices=r}readLyrics(){this._lyrics=[],this._lyricsTrack=ue.readInt32LE(this.data)-1;for(let e=0;e<5;e++){let r=new tn;r.startBar=ue.readInt32LE(this.data)-1,r.text=At.gpReadStringInt(this.data,this.settings.importer.encoding),this._lyrics.push(r)}}readPageSetup(){this.data.skip(30);for(let e=0;e<10;e++)At.gpReadStringIntByte(this.data,this.settings.importer.encoding)}readPlaybackInfos(){this._playbackInfos=[];for(let e=0;e<64;e++){let r=new CO;r.primaryChannel=e,r.secondaryChannel=e,r.program=ue.readInt32LE(this.data),r.volume=this.data.readByte(),r.balance=this.data.readByte(),this.data.skip(6),this._playbackInfos.push(r)}}readMasterBars(){for(let e=0;e<this._barCount;e++)this.readMasterBar()}readMasterBar(){let e=null;this._score.masterBars.length>0&&(e=this._score.masterBars[this._score.masterBars.length-1]);let r=new Qo,n=this.data.readByte();if(n&1?r.timeSignatureNumerator=this.data.readByte():e&&(r.timeSignatureNumerator=e.timeSignatureNumerator),n&2?r.timeSignatureDenominator=this.data.readByte():e&&(r.timeSignatureDenominator=e.timeSignatureDenominator),r.isRepeatStart=(n&4)!==0,n&8&&(r.repeatCount=this.data.readByte()+(this._versionNumber>=500?0:1)),n&16&&this._versionNumber<500){let i=e,s=0;for(;i&&!(i.isRepeatEnd&&i!==e||i.isRepeatStart);)s=s|i.alternateEndings,i=i.previousMasterBar;let a=0,o=this.data.readByte();for(let l=0;l<8;l++){let c=1<<l;o>l&&!(s&c)&&(a=a|c)}r.alternateEndings=a}if(n&32){let i=new wv;i.text=At.gpReadStringIntByte(this.data,this.settings.importer.encoding),i.marker="",At.gpReadColor(this.data,!1),r.section=i}if(n&64?(r.keySignature=ue.readSInt8(this.data),r.keySignatureType=this.data.readByte()):e&&(r.keySignature=e.keySignature,r.keySignatureType=e.keySignatureType),this._versionNumber>=500&&n&3&&this.data.skip(4),this._versionNumber>=500&&(r.alternateEndings=this.data.readByte()),this._versionNumber>=500){switch(this.data.readByte()){case 1:r.tripletFeel=xt.Triplet8th;break;case 2:r.tripletFeel=xt.Triplet16th;break}this.data.readByte()}else r.tripletFeel=this._globalTripletFeel;r.isDoubleBar=(n&128)!==0,this._score.addMasterBar(r)}readTracks(){for(let e=0;e<this._trackCount;e++)this.readTrack()}readTrack(){let e=new bo;e.ensureStaveCount(1),this._score.addTrack(e);let r=e.staves[0],n=this.data.readByte();e.name=At.gpReadStringByteLength(this.data,40,this.settings.importer.encoding),n&1&&(r.isPercussion=!0);let i=ue.readInt32LE(this.data),s=[];for(let c=0;c<7;c++){let u=ue.readInt32LE(this.data);i>c&&s.push(u)}r.stringTuning.tunings=s;let a=ue.readInt32LE(this.data),o=ue.readInt32LE(this.data)-1,l=ue.readInt32LE(this.data)-1;if(this.data.skip(4),o>=0&&o<this._playbackInfos.length){let c=this._playbackInfos[o];c.port=a,c.isSolo=(n&16)!==0,c.isMute=(n&32)!==0,c.secondaryChannel=l,Io.isGuitar(c.program)&&(r.displayTranspositionPitch=-12),e.playbackInfo=c}r.capo=ue.readInt32LE(this.data),e.color=At.gpReadColor(this.data,!1),this._versionNumber>=500&&(this.data.readByte(),this.data.readByte(),this.data.skip(43)),this._versionNumber>=510&&(this.data.skip(4),At.gpReadStringIntByte(this.data,this.settings.importer.encoding),At.gpReadStringIntByte(this.data,this.settings.importer.encoding))}readBars(){for(let e=0;e<this._barCount;e++)for(let r=0;r<this._trackCount;r++)this.readBar(this._score.tracks[r])}readBar(e){let r=new sl,n=e.staves[0];n.isPercussion&&(r.clef=ut.Neutral),n.addBar(r);let i=1;this._versionNumber>=500&&(this.data.readByte(),i=2);for(let s=0;s<i;s++)this.readVoice(e,r)}readVoice(e,r){let n=ue.readInt32LE(this.data);if(n===0)return;let i=new vo;r.addVoice(i);for(let s=0;s<n;s++)this.readBeat(e,r,i)}readBeat(e,r,n){let i=new jn,s=this.data.readByte();if(s&1&&(i.dots=1),s&64){let u=this.data.readByte();i.isEmpty=(u&2)===0}switch(n.addBeat(i),ue.readSInt8(this.data)){case-2:i.duration=H.Whole;break;case-1:i.duration=H.Half;break;case 0:i.duration=H.Quarter;break;case 1:i.duration=H.Eighth;break;case 2:i.duration=H.Sixteenth;break;case 3:i.duration=H.ThirtySecond;break;case 4:i.duration=H.SixtyFourth;break;default:i.duration=H.Quarter;break}if(s&32)switch(i.tupletNumerator=ue.readInt32LE(this.data),i.tupletNumerator){case 1:i.tupletDenominator=1;break;case 3:i.tupletDenominator=2;break;case 5:case 6:case 7:i.tupletDenominator=4;break;case 9:case 10:case 11:case 12:case 13:i.tupletDenominator=8;break;case 2:case 4:case 8:break;default:i.tupletNumerator=1,i.tupletDenominator=1;break}s&2&&this.readChord(i);let o=this.settings.importer.beatTextAsLyrics&&e.index!==this._lyricsTrack;if(s&4){const u=At.gpReadStringIntUnused(this.data,this.settings.importer.encoding);if(o){const d=new tn;d.text=u.trim(),d.finish(!0);const h=[];for(let p=d.chunks.length-1;p>=0;p--)h.push(d.chunks[p]);this._beatTextChunksByTrack.set(e.index,h)}else i.text=u}let l=Qe.None;s&8&&(l=this.readBeatEffects(i)),s&16&&this.readMixTableChange(i);let c=this.data.readByte();for(let u=6;u>=0;u--)if(c&1<<u&&6-u<r.staff.tuning.length){const d=this.readNote(e,r,n,i,6-u);l!==Qe.None&&(d.harmonicType=l,d.harmonicType===Qe.Natural&&(d.harmonicValue=this.deltaFretToHarmonicValue(d.fret)))}this._versionNumber>=500&&(this.data.readByte(),this.data.readByte()&8&&this.data.readByte()),o&&!i.isRest&&this._beatTextChunksByTrack.has(e.index)&&this._beatTextChunksByTrack.get(e.index).length>0&&(i.lyrics=[this._beatTextChunksByTrack.get(e.index).pop()])}readChord(e){let r=new Kl,n=or.newGuid();if(this._versionNumber>=500){this.data.skip(17),r.name=At.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=ue.readInt32LE(this.data);for(let a=0;a<7;a++){let o=ue.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else if(this.data.readByte()!==0)if(this._versionNumber>=400){this.data.skip(16),r.name=At.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=ue.readInt32LE(this.data);for(let a=0;a<7;a++){let o=ue.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else{this.data.skip(25),r.name=At.gpReadStringByteLength(this.data,34,this.settings.importer.encoding),r.firstFret=ue.readInt32LE(this.data);for(let i=0;i<6;i++){let s=ue.readInt32LE(this.data);i<e.voice.bar.staff.tuning.length&&r.strings.push(s)}this.data.skip(36)}else{let i=this._versionNumber>=406?7:6;if(r.name=At.gpReadStringIntByte(this.data,this.settings.importer.encoding),r.firstFret=ue.readInt32LE(this.data),r.firstFret>0)for(let s=0;s<i;s++){let a=ue.readInt32LE(this.data);s<e.voice.bar.staff.tuning.length&&r.strings.push(a)}}r.name&&(e.chordId=n,e.voice.bar.staff.addChord(e.chordId,r))}readBeatEffects(e){let r=this.data.readByte(),n=0;if(this._versionNumber>=400&&(n=this.data.readByte()),e.fadeIn=(r&16)!==0,(this._versionNumber<400&&r&1||r&2)&&(e.vibrato=$t.Slight),e.hasRasgueado=(n&1)!==0,r&32&&this._versionNumber>=400)switch(ue.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}else if(r&32){switch(ue.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}this.data.skip(4)}if(n&4&&this.readTremoloBarEffect(e),r&64){let i=0,s=0;this._versionNumber<500?(s=this.data.readByte(),i=this.data.readByte()):(i=this.data.readByte(),s=this.data.readByte()),i>0?(e.brushType=dr.BrushUp,e.brushDuration=Za.toStrokeValue(i)):s>0&&(e.brushType=dr.BrushDown,e.brushDuration=Za.toStrokeValue(s))}if(n&2)switch(ue.readSInt8(this.data)){case 0:e.pickStroke=Vn.None;break;case 1:e.pickStroke=Vn.Up;break;case 2:e.pickStroke=Vn.Down;break}if(this._versionNumber<400){if(r&4)return Qe.Natural;if(r&8)return Qe.Artificial}return Qe.None}readTremoloBarEffect(e){this.data.readByte(),ue.readInt32LE(this.data);let r=ue.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Ie(0,0);i.offset=ue.readInt32LE(this.data),i.value=ue.readInt32LE(this.data)/Za.BendStep|0,At.gpReadBool(this.data),e.addWhammyBarPoint(i)}}static toStrokeValue(e){switch(e){case 1:return 30;case 2:return 30;case 3:return 60;case 4:return 120;case 5:return 240;case 6:return 480;default:return 0}}readMixTableChange(e){let r=new moe;r.instrument=ue.readSInt8(this.data),this._versionNumber>=500&&this.data.skip(16),r.volume=ue.readSInt8(this.data),r.balance=ue.readSInt8(this.data);let n=ue.readSInt8(this.data),i=ue.readSInt8(this.data),s=ue.readSInt8(this.data),a=ue.readSInt8(this.data);if(this._versionNumber>=500&&(r.tempoName=At.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.tempo=ue.readInt32LE(this.data),r.volume>=0&&this.data.readByte(),r.balance>=0&&this.data.readByte(),n>=0&&this.data.readByte(),i>=0&&this.data.readByte(),s>=0&&this.data.readByte(),a>=0&&this.data.readByte(),r.tempo>=0&&(r.duration=ue.readSInt8(this.data),this._versionNumber>=510&&this.data.readByte()),this._versionNumber>=400&&this.data.readByte(),this._versionNumber>=500&&this.data.readByte(),this._versionNumber>=510&&(At.gpReadStringIntByte(this.data,this.settings.importer.encoding),At.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.volume>=0){let o=new Un;o.isLinear=!0,o.type=vn.Volume,o.value=r.volume,e.automations.push(o)}if(r.balance>=0){let o=new Un;o.isLinear=!0,o.type=vn.Balance,o.value=r.balance,e.automations.push(o)}if(r.instrument>=0){let o=new Un;o.isLinear=!0,o.type=vn.Instrument,o.value=r.instrument,e.automations.push(o)}if(r.tempo>=0){let o=new Un;o.isLinear=!0,o.type=vn.Tempo,o.value=r.tempo,e.automations.push(o),e.voice.bar.masterBar.tempoAutomation=o}}readNote(e,r,n,i,s){let a=new Fr;a.string=r.staff.tuning.length-s;let o=this.data.readByte();if(o&2?a.accentuated=sn.Heavy:o&64&&(a.accentuated=sn.Normal),a.isGhost=(o&4)!==0,o&32){let c=this.data.readByte();c===3?a.isDead=!0:c===2&&(a.isTieDestination=!0)}if(o&1&&this._versionNumber<500&&(this.data.readByte(),this.data.readByte()),o&16){let c=ue.readSInt8(this.data);a.dynamics=this.toDynamicValue(c),i.dynamics=a.dynamics}o&32&&(a.fret=ue.readSInt8(this.data)),o&128&&(a.leftHandFinger=ue.readSInt8(this.data),a.rightHandFinger=ue.readSInt8(this.data),a.isFingering=!0);let l=!1;if(this._versionNumber>=500&&(o&1&&(a.durationPercent=At.gpReadDouble(this.data)),l=(this.data.readByte()&2)!==0),i.addNote(a),o&8&&this.readNoteEffects(e,n,i,a),r.staff.isPercussion&&(a.percussionArticulation=a.fret,a.string=-1,a.fret=-1),l){const c=Te.defaultAccidentals[a.realValueWithoutHarmonic%12];c==="#"?a.accidentalMode=Kr.ForceFlat:c==="b"&&(a.accidentalMode=Kr.ForceSharp)}return a}toDynamicValue(e){switch(e){case 1:return St.PPP;case 2:return St.PP;case 3:return St.P;case 4:return St.MP;case 5:return St.MF;case 6:return St.F;case 7:return St.FF;case 8:return St.FFF;default:return St.F}}readNoteEffects(e,r,n,i){let s=this.data.readByte(),a=0;this._versionNumber>=400&&(a=this.data.readByte()),s&1&&this.readBend(i),s&16&&this.readGrace(r,i),a&4&&this.readTremoloPicking(n),a&8?this.readSlide(i):this._versionNumber<400&&s&4&&(i.slideOutType=pt.Shift),a&16&&this.readArtificialHarmonic(i),a&32&&this.readTrill(i),i.isLetRing=(s&8)!==0,i.isHammerPullOrigin=(s&2)!==0,a&64&&(i.vibrato=$t.Slight),i.isPalmMute=(a&2)!==0,i.isStaccato=(a&1)!==0}readBend(e){this.data.readByte(),ue.readInt32LE(this.data);let r=ue.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Ie(0,0);i.offset=ue.readInt32LE(this.data),i.value=ue.readInt32LE(this.data)/Za.BendStep|0,At.gpReadBool(this.data),e.addBendPoint(i)}}readGrace(e,r){let n=new jn,i=new Fr;switch(i.string=r.string,i.fret=ue.readSInt8(this.data),n.duration=H.ThirtySecond,n.dynamics=this.toDynamicValue(ue.readSInt8(this.data)),ue.readSInt8(this.data)){case 0:break;case 1:i.slideOutType=pt.Legato,i.slideTarget=r;break;case 2:break;case 3:i.isHammerPullOrigin=!0;break}if(i.dynamics=n.dynamics,this.data.skip(1),this._versionNumber<500)n.graceType=tt.BeforeBeat;else{let a=this.data.readByte();i.isDead=(a&1)!==0,n.graceType=a&2?tt.OnBeat:tt.BeforeBeat}e.addGraceBeat(n),n.addNote(i)}readTremoloPicking(e){switch(this.data.readByte()){case 1:e.tremoloSpeed=H.Eighth;break;case 2:e.tremoloSpeed=H.Sixteenth;break;case 3:e.tremoloSpeed=H.ThirtySecond;break}}readSlide(e){if(this._versionNumber>=500){let r=ue.readSInt8(this.data);r&1?e.slideOutType=pt.Shift:r&2?e.slideOutType=pt.Legato:r&4?e.slideOutType=pt.OutDown:r&8&&(e.slideOutType=pt.OutUp),r&16?e.slideInType=Pn.IntoFromBelow:r&32&&(e.slideInType=Pn.IntoFromAbove)}else switch(ue.readSInt8(this.data)){case 1:e.slideOutType=pt.Shift;break;case 2:e.slideOutType=pt.Legato;break;case 3:e.slideOutType=pt.OutDown;break;case 4:e.slideOutType=pt.OutUp;break;case-1:e.slideInType=Pn.IntoFromBelow;break;case-2:e.slideInType=Pn.IntoFromAbove;break}}readArtificialHarmonic(e){let r=this.data.readByte();if(this._versionNumber>=500)switch(r){case 1:e.harmonicType=Qe.Natural,e.harmonicValue=this.deltaFretToHarmonicValue(e.fret);break;case 2:this.data.readByte(),this.data.readByte(),this.data.readByte(),e.harmonicType=Qe.Artificial;break;case 3:e.harmonicType=Qe.Tap,e.harmonicValue=this.deltaFretToHarmonicValue(this.data.readByte());break;case 4:e.harmonicType=Qe.Pinch,e.harmonicValue=12;break;case 5:e.harmonicType=Qe.Semi,e.harmonicValue=12;break}else if(this._versionNumber>=400)switch(r){case 1:e.harmonicType=Qe.Natural;break;case 3:e.harmonicType=Qe.Tap;break;case 4:e.harmonicType=Qe.Pinch;break;case 5:e.harmonicType=Qe.Semi;break;case 15:e.harmonicType=Qe.Artificial;break;case 17:e.harmonicType=Qe.Artificial;break;case 22:e.harmonicType=Qe.Artificial;break}}deltaFretToHarmonicValue(e){switch(e){case 2:return 2.4;case 3:return 3.2;case 4:case 5:case 7:case 9:case 12:case 16:case 17:case 19:case 24:return e;case 8:return 8.2;case 10:return 9.6;case 14:case 15:return 14.7;case 21:case 22:return 21.7;default:return 12}}readTrill(e){switch(e.trillValue=this.data.readByte()+e.stringTuning,this.data.readByte()){case 1:e.trillSpeed=H.Sixteenth;break;case 2:e.trillSpeed=H.ThirtySecond;break;case 3:e.trillSpeed=H.SixtyFourth;break}}}Za.VersionString="FICHIER GUITAR PRO ";Za.BendStep=25;class At{static gpReadDouble(e){let r=new Uint8Array(8);return e.read(r,0,r.length),new Float64Array(r.buffer)[0]}static gpReadFloat(e){let r=new Uint8Array(4);return r[3]=e.readByte(),r[2]=e.readByte(),r[2]=e.readByte(),r[1]=e.readByte(),new Float32Array(r.buffer)[0]}static gpReadColor(e,r=!1){let n=e.readByte(),i=e.readByte(),s=e.readByte(),a=255;return r?a=e.readByte():e.skip(1),new _r(n,i,s,a)}static gpReadBool(e){return e.readByte()!==0}static gpReadStringIntUnused(e,r){return e.skip(4),At.gpReadString(e,e.readByte(),r)}static gpReadStringInt(e,r){return At.gpReadString(e,ue.readInt32LE(e),r)}static gpReadStringIntByte(e,r){let n=ue.readInt32LE(e)-1;return e.readByte(),At.gpReadString(e,n,r)}static gpReadString(e,r,n){let i=new Uint8Array(r);return e.read(i,0,i.length),ue.toString(i,n)}static gpWriteString(e,r){const n=ue.stringToBytes(r);e.writeByte(r.length),e.write(n,0,n.length)}static gpReadStringByteLength(e,r,n){let i=e.readByte(),s=At.gpReadString(e,i,n);return i<r&&e.skip(r-i),s}}class moe{constructor(){this.volume=-1,this.balance=-1,this.instrument=-1,this.tempoName="",this.tempo=-1,this.duration=-1}}class Ni{constructor(){this.x=0,this.y=0,this.w=0,this.h=0}}var ma;(function(t){t[t.Boolean=0]="Boolean",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Point=4]="Point",t[t.Size=5]="Size",t[t.Rectangle=6]="Rectangle",t[t.Color=7]="Color"})(ma||(ma={}));class xv{constructor(e){this.raw=new Map;let r=Yn.fromBuffer(e),n=ue.readInt32BE(r);for(let i=0;i<n;i++){let s=At.gpReadString(r,r.readByte(),"utf-8");switch(r.readByte()){case ma.Boolean:let o=r.readByte()===1;this.addValue(s,o);break;case ma.Integer:let l=ue.readInt32BE(r);this.addValue(s,l);break;case ma.Float:let c=At.gpReadFloat(r);this.addValue(s,c);break;case ma.String:let u=At.gpReadString(r,ue.readInt16BE(r),"utf-8");this.addValue(s,u);break;case ma.Point:let d=ue.readInt32BE(r),h=ue.readInt32BE(r);this.addValue(s,new Ie(d,h));break;case ma.Size:let p=ue.readInt32BE(r),f=ue.readInt32BE(r);this.addValue(s,new Ie(p,f));break;case ma.Rectangle:let m=new Ni;m.x=ue.readInt32BE(r),m.y=ue.readInt32BE(r),m.w=ue.readInt32BE(r),m.h=ue.readInt32BE(r),this.addValue(s,m);break;case ma.Color:let g=At.gpReadColor(r,!0);this.addValue(s,g);break}}}apply(e){for(const[r,n]of this.raw)switch(r){case"StandardNotation/hideDynamics":e.stylesheet.hideDynamics=n;break}}addValue(e,r){this.raw.set(e,r)}static writeForScore(e){const r=Yn.withCapacity(128);return ue.writeInt32BE(r,1),xv.writeBooleanEntry(r,"StandardNotation/hideDynamics",e.stylesheet.hideDynamics),r.toArray()}static writeBooleanEntry(e,r,n){At.gpWriteString(e,r),e.writeByte(ma.Boolean),e.writeByte(n?1:0)}}var Fa;(function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long"})(Fa||(Fa={}));class fT{constructor(){this.type=Fa.Short,this.length=0}}var be;(function(t){t[t.None=0]="None",t[t.Element=1]="Element",t[t.Text=2]="Text",t[t.CDATA=3]="CDATA",t[t.Document=4]="Document",t[t.DocumentType=5]="DocumentType"})(be||(be={}));class ka{constructor(){this.nodeType=be.None,this.localName=null,this.value=null,this.childNodes=[],this.attributes=new Map,this.firstChild=null,this.firstElement=null}addChild(e){this.childNodes.push(e),this.firstChild=e,(e.nodeType===be.Element||e.nodeType===be.CDATA)&&(this.firstElement=e)}getAttribute(e){return this.attributes.has(e)?this.attributes.get(e):""}getElementsByTagName(e,r=!1){let n=[];return this.searchElementsByTagName(this.childNodes,n,e,r),n}searchElementsByTagName(e,r,n,i=!1){for(let s of e)s&&s.nodeType===be.Element&&s.localName===n&&r.push(s),i&&this.searchElementsByTagName(s.childNodes,r,n,!0)}findChildElement(e){for(let r of this.childNodes)if(r&&r.nodeType===be.Element&&r.localName===e)return r;return null}addElement(e){const r=new ka;return r.nodeType=be.Element,r.localName=e,this.addChild(r),r}get innerText(){var e;if(this.nodeType===be.Element||this.nodeType===be.Document){if(this.firstElement&&this.firstElement.nodeType===be.CDATA)return this.firstElement.innerText;let r="";for(let i of this.childNodes)r+=(e=i.innerText)==null?void 0:e.toString();return r.trim()}return this.value??""}set innerText(e){const r=new ka;r.nodeType=be.Text,r.value=e,this.childNodes=[r]}setCData(e){const r=new ka;r.nodeType=be.CDATA,r.value=e,this.childNodes=[r]}}class ki extends Nn{constructor(e,r,n){super(Bn.Format,e),this.pos=0,this.xml=r,this.pos=n,Object.setPrototypeOf(this,ki.prototype)}}var at;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.BeginNode=2]="BeginNode",t[t.TagName=3]="TagName",t[t.Body=4]="Body",t[t.AttribName=5]="AttribName",t[t.Equals=6]="Equals",t[t.AttvalBegin=7]="AttvalBegin",t[t.AttribVal=8]="AttribVal",t[t.Childs=9]="Childs",t[t.Close=10]="Close",t[t.WaitEnd=11]="WaitEnd",t[t.WaitEndRet=12]="WaitEndRet",t[t.Pcdata=13]="Pcdata",t[t.Header=14]="Header",t[t.Comment=15]="Comment",t[t.Doctype=16]="Doctype",t[t.Cdata=17]="Cdata",t[t.Escape=18]="Escape"})(at||(at={}));class We{static parse(e,r,n){let i=e.charCodeAt(r),s=at.Begin,a=at.Begin,o=0,l="",c=at.Begin,u=null,d=null,h=0,p=0;for(;r<e.length;){switch(i=e.charCodeAt(r),s){case at.IgnoreSpaces:switch(i){case We.CharCodeLF:case We.CharCodeCR:case We.CharCodeTab:case We.CharCodeSpace:break;default:s=a;continue}break;case at.Begin:switch(i){case We.CharCodeLowerThan:s=at.IgnoreSpaces,a=at.BeginNode;break;default:o=r,s=at.Pcdata;continue}break;case at.Pcdata:if(i===We.CharCodeLowerThan){l+=e.substr(o,r-o);let f=new ka;f.nodeType=be.Text,f.value=l,l="",n.addChild(f),s=at.IgnoreSpaces,a=at.BeginNode}else i===We.CharCodeAmp&&(l+=e.substr(o,r-o),s=at.Escape,c=at.Pcdata,o=r+1);break;case at.Cdata:if(i===We.CharCodeBrackedClose&&e.charCodeAt(r+1)===We.CharCodeBrackedClose&&e.charCodeAt(r+2)===We.CharCodeGreaterThan){let f=new ka;f.nodeType=be.CDATA,f.value=e.substr(o,r-o),n.addChild(f),r+=2,s=at.Begin}break;case at.BeginNode:switch(i){case We.CharCodeExclamation:if(e.charCodeAt(r+1)===We.CharCodeBrackedOpen){if(r+=2,e.substr(r,6).toUpperCase()!=="CDATA[")throw new ki("Expected <![CDATA[",e,r);r+=5,s=at.Cdata,o=r+1}else if(e.charCodeAt(r+1)===We.CharCodeUpperD||e.charCodeAt(r+1)===We.CharCodeLowerD){if(e.substr(r+2,6).toUpperCase()!=="OCTYPE")throw new ki("Expected <!DOCTYPE",e,r);r+=8,s=at.Doctype,o=r+1}else{if(e.charCodeAt(r+1)!==We.CharCodeMinus||e.charCodeAt(r+2)!==We.CharCodeMinus)throw new ki("Expected <!--",e,r);r+=2,s=at.Comment,o=r+1}break;case We.CharCodeQuestion:s=at.Header,o=r;break;case We.CharCodeSlash:if(!n)throw new ki("Expected node name",e,r);o=r+1,s=at.IgnoreSpaces,a=at.Close;break;default:s=at.TagName,o=r;continue}break;case at.TagName:if(!We.isValidChar(i)){if(r===o)throw new ki("Expected node name",e,r);u=new ka,u.nodeType=be.Element,u.localName=e.substr(o,r-o),n.addChild(u),s=at.IgnoreSpaces,a=at.Body;continue}break;case at.Body:switch(i){case We.CharCodeSlash:s=at.WaitEnd;break;case We.CharCodeGreaterThan:s=at.Childs;break;default:s=at.AttribName,o=r;continue}break;case at.AttribName:if(!We.isValidChar(i)){if(o===r)throw new ki("Expected attribute name",e,r);if(d=e.substr(o,r-o),u.attributes.has(d))throw new ki(`Duplicate attribute [${d}]`,e,r);s=at.IgnoreSpaces,a=at.Equals;continue}break;case at.Equals:switch(i){case We.CharCodeEquals:s=at.IgnoreSpaces,a=at.AttvalBegin;break;default:throw new ki("Expected =",e,r)}break;case at.AttvalBegin:switch(i){case We.CharCodeDoubleQuote:case We.CharCodeSingleQuote:l="",s=at.AttribVal,o=r+1,p=i;break}break;case at.AttribVal:switch(i){case We.CharCodeAmp:l+=e.substr(o,r-o),s=at.Escape,c=at.AttribVal,o=r+1;break;default:if(i===p){l+=e.substr(o,r-o);let f=l;l="",u.attributes.set(d,f),s=at.IgnoreSpaces,a=at.Body}break}break;case at.Childs:r=We.parse(e,r,u),o=r,s=at.Begin;break;case at.WaitEnd:switch(i){case We.CharCodeGreaterThan:s=at.Begin;break;default:throw new ki("Expected >",e,r)}break;case at.WaitEndRet:switch(i){case We.CharCodeGreaterThan:return r;default:throw new ki("Expected >",e,r)}case at.Close:if(!We.isValidChar(i)){if(o===r)throw new ki("Expected node name",e,r);if(e.substr(o,r-o)!==n.localName)throw new ki("Expected </"+n.localName+">",e,r);s=at.IgnoreSpaces,a=at.WaitEndRet;continue}break;case at.Comment:i===We.CharCodeMinus&&e.charCodeAt(r+1)===We.CharCodeMinus&&e.charCodeAt(r+2)===We.CharCodeGreaterThan&&(r+=2,s=at.Begin);break;case at.Doctype:if(i===We.CharCodeBrackedOpen)h++;else if(i===We.CharCodeBrackedClose)h--;else if(i===We.CharCodeGreaterThan&&h===0){let f=new ka;f.nodeType=be.DocumentType,f.value=e.substr(o,r-o),n.addChild(f),s=at.Begin}break;case at.Header:i===We.CharCodeQuestion&&e.charCodeAt(r+1)===We.CharCodeGreaterThan&&(r++,s=at.Begin);break;case at.Escape:if(i===We.CharCodeSemi){let f=e.substr(o,r-o);if(f.charCodeAt(0)===We.CharCodeSharp){let m=f.charCodeAt(1)===We.CharCodeLowerX?parseInt("0"+f.substr(1,f.length-1)):parseInt(f.substr(1,f.length-1));l+=String.fromCharCode(m)}else We.Escapes.has(f)?l+=We.Escapes.get(f):l+=("&"+f+";").toString();o=r+1,s=c}else!We.isValidChar(i)&&i!==We.CharCodeSharp&&(l+="&",l+=e.substr(o,r-o),r--,o=r+1,s=c);break}r++}if(s===at.Begin&&(o=r,s=at.Pcdata),s===at.Pcdata){if(r!==o){l+=e.substr(o,r-o);let f=new ka;f.nodeType=be.Text,f.value=l,n.addChild(f)}return r}if(s===at.Escape&&c===at.Pcdata){l+="&",l+=e.substr(o,r-o);let f=new ka;return f.nodeType=be.Text,f.value=l,n.addChild(f),r}throw new ki("Unexpected end",e,r)}static isValidChar(e){return e>=We.CharCodeLowerA&&e<=We.CharCodeLowerZ||e>=We.CharCodeUpperA&&e<=We.CharCodeUpperZ||e>=We.CharCode0&&e<=We.CharCode9||e===We.CharCodeColon||e===We.CharCodeDot||e===We.CharCodeUnderscore||e===We.CharCodeMinus}}We.CharCodeLF=10;We.CharCodeTab=9;We.CharCodeCR=13;We.CharCodeSpace=32;We.CharCodeLowerThan=60;We.CharCodeAmp=38;We.CharCodeBrackedClose=93;We.CharCodeBrackedOpen=91;We.CharCodeGreaterThan=62;We.CharCodeExclamation=33;We.CharCodeUpperD=68;We.CharCodeLowerD=100;We.CharCodeMinus=45;We.CharCodeQuestion=63;We.CharCodeSlash=47;We.CharCodeEquals=61;We.CharCodeDoubleQuote=34;We.CharCodeSingleQuote=39;We.CharCodeSharp=35;We.CharCodeLowerX=120;We.CharCodeLowerA=97;We.CharCodeLowerZ=122;We.CharCodeUpperA=65;We.CharCodeUpperZ=90;We.CharCode0=48;We.CharCode9=57;We.CharCodeColon=58;We.CharCodeDot=46;We.CharCodeUnderscore=95;We.CharCodeSemi=59;We.Escapes=new Map([["lt","<"],["gt",">"],["amp","&"],["quot",'"'],["apos","'"]]);class pT{static write(e,r,n){const i=new pT(r,n);return i.writeNode(e),i.toString()}constructor(e,r){this._result=[],this._indention=e,this._xmlHeader=r,this._currentIndention="",this._isStartOfLine=!0}writeNode(e){switch(e.nodeType){case be.None:break;case be.Element:this._result.length>0&&this.writeLine(),this.write(`<${e.localName}`);for(const[r,n]of e.attributes)this.write(` ${r}="`),this.writeAttributeValue(n),this.write('"');if(e.childNodes.length===0)this.write("/>");else{if(this.write(">"),e.childNodes.length===1&&!e.firstElement)this.writeNode(e.childNodes[0]);else{this.indent();for(const r of e.childNodes)r.nodeType===be.Element&&this.writeNode(r);this.unindend(),this.writeLine()}this.write(`</${e.localName}>`)}break;case be.Text:e.value&&this.write(e.value);break;case be.CDATA:e.value!==null&&this.write(`<![CDATA[${e.value}]]>`);break;case be.Document:this._xmlHeader&&this.write('<?xml version="1.0" encoding="utf-8"?>');for(const r of e.childNodes)this.writeNode(r);break;case be.DocumentType:this.write(`<!DOCTYPE ${e.value}>`);break}}unindend(){this._currentIndention=this._currentIndention.substr(0,this._currentIndention.length-this._indention.length)}indent(){this._currentIndention+=this._indention}writeAttributeValue(e){for(let r=0;r<e.length;r++){const n=e.charAt(r);switch(n){case"<":this._result.push("&lt;");break;case">":this._result.push("&gt;");break;case"&":this._result.push("&amp;");break;case"'":this._result.push("&apos;");break;case'"':this._result.push("&quot;");break;default:this._result.push(n);break}}}write(e){this._isStartOfLine&&this._result.push(this._currentIndention),this._result.push(e),this._isStartOfLine=!1}writeLine(e=null){e&&this.write(e),this._indention.length>0&&!this._isStartOfLine&&(this._result.push(`
`),this._isStartOfLine=!0)}toString(){return this._result.join("").trimRight()}}class mT extends ka{constructor(){super(),this.nodeType=be.Document}parse(e){We.parse(e,0,this)}toString(){return this.toFormattedString()}toFormattedString(e="",r=!1){return pT.write(this,e,r)}}var Pe;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(Pe||(Pe={}));class goe{constructor(){this.id="",this.dots=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.value=H.Quarter}}class yoe{constructor(){this.name="",this.path="",this.role="",this.program=0}get uniqueId(){return this.path+";"+this.name+";"+this.role}}class $s{constructor(){this._hasAnacrusis=!1,this._skipApplyLyrics=!1}parseXml(e,r){this._masterTrackAutomations=new Map,this._automationsPerTrackIdAndBarIndex=new Map,this._tracksMapping=[],this._tracksById=new Map,this._masterBars=[],this._barsOfMasterBar=[],this._voicesOfBar=new Map,this._barsById=new Map,this._voiceById=new Map,this._beatsOfVoice=new Map,this._beatById=new Map,this._rhythmOfBeat=new Map,this._rhythmById=new Map,this._notesOfBeat=new Map,this._noteById=new Map,this._tappedNotes=new Map,this._lyricsByTrack=new Map,this._soundsByTrack=new Map,this._skipApplyLyrics=!1;let n=new mT;try{n.parse(e)}catch(i){throw new nn("Could not parse XML",i)}if(this.parseDom(n),this.buildModel(),this.score.finish(r),!this._skipApplyLyrics&&this._lyricsByTrack.size>0)for(const[i,s]of this._lyricsByTrack)this._tracksById.get(i).applyLyrics(s)}parseDom(e){let r=e.firstElement;if(r)if(r.localName==="GPIF"){this.score=new bu;for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Score":this.parseScoreNode(n);break;case"MasterTrack":this.parseMasterTrackNode(n);break;case"Tracks":this.parseTracksNode(n);break;case"MasterBars":this.parseMasterBarsNode(n);break;case"Bars":this.parseBars(n);break;case"Voices":this.parseVoices(n);break;case"Beats":this.parseBeats(n);break;case"Notes":this.parseNotes(n);break;case"Rhythms":this.parseRhythms(n);break}}else throw new nn("Root node of XML was not GPIF")}parseScoreNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Title":this.score.title=r.firstChild.innerText;break;case"SubTitle":this.score.subTitle=r.firstChild.innerText;break;case"Artist":this.score.artist=r.firstChild.innerText;break;case"Album":this.score.album=r.firstChild.innerText;break;case"Words":this.score.words=r.firstChild.innerText;break;case"Music":this.score.music=r.firstChild.innerText;break;case"WordsAndMusic":if(r.firstChild&&r.firstChild.innerText!==""){let n=r.firstChild.innerText;n&&!this.score.words&&(this.score.words=n),n&&!this.score.music&&(this.score.music=n)}break;case"Copyright":this.score.copyright=r.firstChild.innerText;break;case"Tabber":this.score.tab=r.firstChild.innerText;break;case"Instructions":this.score.instructions=r.firstChild.innerText;break;case"Notices":this.score.notices=r.firstChild.innerText;break;case"ScoreSystemsDefaultLayout":this.score.defaultSystemsLayout=parseInt(r.innerText);break;case"ScoreSystemsLayout":this.score.systemsLayout=r.innerText.split(" ").map(n=>parseInt(n));break}}parseMasterTrackNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Automations":this.parseAutomations(r,this._masterTrackAutomations,null);break;case"Tracks":this._tracksMapping=r.innerText.split(" ");break;case"Anacrusis":this._hasAnacrusis=!0;break}}parseAutomations(e,r,n){for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Automation":this.parseAutomation(i,r,n);break}}parseAutomation(e,r,n){let i=null,s=!1,a=-1,o=0,l=0,c=null,u=0,d=null;for(let p of e.childNodes)if(p.nodeType===be.Element)switch(p.localName){case"Type":i=p.innerText;break;case"Linear":s=p.innerText.toLowerCase()==="true";break;case"Bar":a=parseInt(p.innerText);break;case"Position":o=parseFloat(p.innerText);break;case"Value":if(p.firstElement&&p.firstElement.nodeType===be.CDATA)c=p.innerText;else{let f=p.innerText.split(" ");f.length===1?(l=parseFloat(f[0]),u=1):(l=parseFloat(f[0]),u=parseInt(f[1]))}break;case"Text":d=p.innerText;break}if(!i)return;let h=null;switch(i){case"Tempo":h=Un.buildTempoAutomation(s,o,l,u);break;case"Sound":c&&n&&n.has(c)&&(h=Un.buildInstrumentAutomation(s,o,n.get(c).program));break}h&&(d&&(h.text=d),a>=0&&(r.has(a)||r.set(a,[]),r.get(a).push(h)))}parseTracksNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Track":this.parseTrack(r);break}}parseTrack(e){this._articulationByName=new Map;let r=new bo;r.ensureStaveCount(1);let n=r.staves[0];n.showStandardNotation=!0;let i=e.getAttribute("id");for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":r.name=s.innerText;break;case"Color":let a=s.innerText.split(" ");if(a.length>=3){let c=parseInt(a[0]),u=parseInt(a[1]),d=parseInt(a[2]);r.color=new _r(c,u,d,255)}break;case"Instrument":let o=s.getAttribute("ref");(o.endsWith("-gs")||o.endsWith("GrandStaff"))&&(r.ensureStaveCount(2),r.staves[1].showStandardNotation=!0);break;case"InstrumentSet":this.parseInstrumentSet(r,s);break;case"NotationPatch":this.parseNotationPatch(r,s);break;case"ShortName":r.shortName=s.innerText;break;case"SystemsDefautLayout":r.defaultSystemsLayout=parseInt(s.innerText);break;case"SystemsLayout":r.systemsLayout=s.innerText.split(" ").map(c=>parseInt(c));break;case"Lyrics":this.parseLyrics(i,s);break;case"Properties":this.parseTrackProperties(r,s);break;case"GeneralMidi":case"MidiConnection":case"MIDISettings":this.parseGeneralMidi(r,s);break;case"Sounds":this.parseSounds(i,r,s);break;case"PlaybackState":let l=s.innerText;r.playbackInfo.isSolo=l==="Solo",r.playbackInfo.isMute=l==="Mute";break;case"PartSounding":this.parsePartSounding(r,s);break;case"Staves":this.parseStaves(r,s);break;case"Transpose":this.parseTranspose(r,s);break;case"RSE":this.parseRSE(r,s);break;case"Automations":this.parseTrackAutomations(i,s);break}this._tracksById.set(i,r)}parseTrackAutomations(e,r){const n=new Map;this._automationsPerTrackIdAndBarIndex.set(e,n),this.parseAutomations(r,n,this._soundsByTrack.get(e))}parseNotationPatch(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break;case"Elements":this.parseElements(e,n);break}}parseInstrumentSet(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Type":switch(n.innerText){case"drumKit":for(let s of e.staves)s.isPercussion=!0;break}if(n.innerText==="drumKit")for(let s of e.staves)s.isPercussion=!0;break;case"Elements":this.parseElements(e,n);break;case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break}}parseElements(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Element":this.parseElement(e,n);break}}parseElement(e,r){const n=r.findChildElement("Type"),i=n?n.innerText:"";for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":case"Articulations":this.parseArticulations(e,s,i);break}}parseArticulations(e,r,n){for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Articulation":this.parseArticulation(e,i,n);break}}parseArticulation(e,r,n){const i=new Ae;i.outputMidiNumber=-1,i.elementType=n;let s="";for(let a of r.childNodes)if(a.nodeType===be.Element){const o=a.innerText;switch(a.localName){case"Name":s=a.innerText;break;case"OutputMidiNumber":o.length>0&&(i.outputMidiNumber=parseInt(o));break;case"TechniqueSymbol":i.techniqueSymbol=this.parseTechniqueSymbol(o);break;case"TechniquePlacement":switch(o){case"outside":i.techniqueSymbolPlacement=bt.Bottom;break;case"inside":i.techniqueSymbolPlacement=bt.Middle;break;case"above":i.techniqueSymbolPlacement=bt.Bottom;break;case"below":i.techniqueSymbolPlacement=bt.Top;break}break;case"Noteheads":const l=o.split(" ");l.length>=1&&(i.noteHeadDefault=this.parseNoteHead(l[0])),l.length>=2&&(i.noteHeadHalf=this.parseNoteHead(l[1])),l.length>=3&&(i.noteHeadWhole=this.parseNoteHead(l[2])),i.noteHeadHalf==P.None&&(i.noteHeadHalf=i.noteHeadDefault),i.noteHeadWhole==P.None&&(i.noteHeadWhole=i.noteHeadDefault);break;case"StaffLine":o.length>0&&(i.staffLine=parseInt(o));break}}i.outputMidiNumber!==-1?(e.percussionArticulations.push(i),s.length>0&&this._articulationByName.set(s,i)):s.length>0&&this._articulationByName.has(s)&&(this._articulationByName.get(s).staffLine=i.staffLine)}parseTechniqueSymbol(e){switch(e){case"pictEdgeOfCymbal":return P.PictEdgeOfCymbal;case"articStaccatoAbove":return P.ArticStaccatoAbove;case"noteheadParenthesis":return P.NoteheadParenthesis;case"stringsUpBow":return P.StringsUpBow;case"stringsDownBow":return P.StringsDownBow;case"guitarGolpe":return P.GuitarGolpe;default:return P.None}}parseNoteHead(e){switch(e){case"noteheadDoubleWholeSquare":return P.NoteheadDoubleWholeSquare;case"noteheadDoubleWhole":return P.NoteheadDoubleWhole;case"noteheadWhole":return P.NoteheadWhole;case"noteheadHalf":return P.NoteheadHalf;case"noteheadBlack":return P.NoteheadBlack;case"noteheadNull":return P.NoteheadNull;case"noteheadXOrnate":return P.NoteheadXOrnate;case"noteheadTriangleUpWhole":return P.NoteheadTriangleUpWhole;case"noteheadTriangleUpHalf":return P.NoteheadTriangleUpHalf;case"noteheadTriangleUpBlack":return P.NoteheadTriangleUpBlack;case"noteheadDiamondBlackWide":return P.NoteheadDiamondBlackWide;case"noteheadDiamondWhite":return P.NoteheadDiamondWhite;case"noteheadDiamondWhiteWide":return P.NoteheadDiamondWhiteWide;case"noteheadCircleX":return P.NoteheadCircleX;case"noteheadXWhole":return P.NoteheadXWhole;case"noteheadXHalf":return P.NoteheadXHalf;case"noteheadXBlack":return P.NoteheadXBlack;case"noteheadParenthesis":return P.NoteheadParenthesis;case"noteheadSlashedBlack2":return P.NoteheadSlashedBlack2;case"noteheadCircleSlash":return P.NoteheadCircleSlash;case"noteheadHeavyX":return P.NoteheadHeavyX;case"noteheadHeavyXHat":return P.NoteheadHeavyXHat;default:return ve.warning("GPIF","Unknown notehead symbol",e),P.None}}parseStaves(e,r){let n=0;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Staff":e.ensureStaveCount(n+1);let s=e.staves[n];this.parseStaff(s,i),n++;break}}parseStaff(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Properties":this.parseStaffProperties(e,n);break}}parseStaffProperties(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Property":this.parseStaffProperty(e,n);break}}parseStaffProperty(e,r){switch(r.getAttribute("name")){case"Tuning":for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Pitches":let a=r.findChildElement("Pitches").innerText.split(" "),o=new Array(a.length);for(let l=0;l<o.length;l++)o[o.length-1-l]=parseInt(a[l]);e.stringTuning.tunings=o;break;case"Label":e.stringTuning.name=s.innerText;break}e.isPercussion||(e.showTablature=!0);break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForStaff(e,r);break;case"CapoFret":let i=parseInt(r.findChildElement("Fret").innerText);e.capo=i;break}}parseLyrics(e,r){let n=[];for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Line":n.push(this.parseLyricsLine(i));break}this._lyricsByTrack.set(e,n)}parseLyricsLine(e){let r=new tn;for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Offset":r.startBar=parseInt(n.innerText);break;case"Text":r.text=n.innerText;break}return r}parseDiagramCollectionForTrack(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Item":this.parseDiagramItemForTrack(e,i);break}}parseDiagramCollectionForStaff(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Item":this.parseDiagramItemForStaff(e,i);break}}parseDiagramItemForTrack(e,r){let n=new Kl,i=r.getAttribute("id");for(let s of e.staves)s.addChord(i,n);this.parseDiagramItemForChord(n,r)}parseDiagramItemForStaff(e,r){let n=new Kl,i=r.getAttribute("id");e.addChord(i,n),this.parseDiagramItemForChord(n,r)}parseDiagramItemForChord(e,r){e.name=r.getAttribute("name");let n=r.findChildElement("Diagram");if(!n){e.showDiagram=!1,e.showFingering=!1;return}let i=parseInt(n.getAttribute("stringCount")),s=parseInt(n.getAttribute("baseFret"));e.firstFret=s+1;for(let a=0;a<i;a++)e.strings.push(-1);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"Fret":let o=parseInt(a.getAttribute("string"));e.strings[i-o-1]=s+parseInt(a.getAttribute("fret"));break;case"Fingering":let l=new Map;for(let c of a.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"Position":let u=ct.Unknown,d=s+parseInt(c.getAttribute("fret"));switch(c.getAttribute("finger")){case"Index":u=ct.IndexFinger;break;case"Middle":u=ct.MiddleFinger;break;case"Rank":u=ct.AnnularFinger;break;case"Pinky":u=ct.LittleFinger;break;case"Thumb":u=ct.Thumb;break}u!==ct.Unknown&&(l.has(u)?e.barreFrets.push(d):l.set(u,!0));break}break;case"Property":switch(a.getAttribute("name")){case"ShowName":e.showName=a.getAttribute("value")==="true";break;case"ShowDiagram":e.showDiagram=a.getAttribute("value")==="true";break;case"ShowFingering":e.showFingering=a.getAttribute("value")==="true";break}break}}parseTrackProperties(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Property":this.parseTrackProperty(e,n);break}}parseTrackProperty(e,r){switch(r.getAttribute("name")){case"Tuning":let i=r.findChildElement("Pitches").innerText.split(" "),s=new Array(i.length);for(let o=0;o<s.length;o++)s[s.length-1-o]=parseInt(i[o]);for(let o of e.staves)o.stringTuning.tunings=s,o.showStandardNotation=!0,o.showTablature=!0;break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForTrack(e,r);break;case"CapoFret":let a=parseInt(r.findChildElement("Fret").innerText);for(let o of e.staves)o.capo=a;break}}parseGeneralMidi(e,r){for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Program":e.playbackInfo.program=parseInt(i.innerText);break;case"Port":e.playbackInfo.port=parseInt(i.innerText);break;case"PrimaryChannel":e.playbackInfo.primaryChannel=parseInt(i.innerText);break;case"SecondaryChannel":e.playbackInfo.secondaryChannel=parseInt(i.innerText);break}if(r.getAttribute("table")==="Percussion")for(let i of e.staves)i.isPercussion=!0}parseSounds(e,r,n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Sound":this.parseSound(e,r,i);break}}parseSound(e,r,n){const i=new yoe;for(let s of n.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":i.name=s.innerText;break;case"Path":i.path=s.innerText;break;case"Role":i.role=s.innerText;break;case"MIDI":this.parseSoundMidi(i,s);break}(i.role==="Factory"||r.playbackInfo.program===0)&&(r.playbackInfo.program=i.program),this._soundsByTrack.has(e)||this._soundsByTrack.set(e,new Map),this._soundsByTrack.get(e).set(i.uniqueId,i)}parseSoundMidi(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Program":e.program=parseInt(n.innerText);break}}parsePartSounding(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"TranspositionPitch":for(let i of e.staves)i.displayTranspositionPitch=parseInt(n.innerText);break}}parseTranspose(e,r){let n=0,i=0;for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Chromatic":i=parseInt(s.innerText);break;case"Octave":n=parseInt(s.innerText);break}for(let s of e.staves)s.displayTranspositionPitch=n*12+i}parseRSE(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"ChannelStrip":this.parseChannelStrip(e,n);break}}parseChannelStrip(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Parameters":this.parseChannelStripParameters(e,n);break}}parseChannelStripParameters(e,r){if(r.firstChild&&r.firstChild.value){let n=r.firstChild.value.split(" ");n.length>=12&&(e.playbackInfo.balance=Math.floor(parseFloat(n[11])*16),e.playbackInfo.volume=Math.floor(parseFloat(n[12])*16))}}parseMasterBarsNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"MasterBar":this.parseMasterBar(r);break}}parseMasterBar(e){let r=new Qo;this._masterBars.length===0&&this._hasAnacrusis&&(r.isAnacrusis=!0);for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Time":let i=n.innerText.split("/");r.timeSignatureNumerator=parseInt(i[0]),r.timeSignatureDenominator=parseInt(i[1]);break;case"DoubleBar":r.isDoubleBar=!0;break;case"Section":r.section=new wv,r.section.marker=n.findChildElement("Letter").innerText,r.section.text=n.findChildElement("Text").innerText;break;case"Repeat":n.getAttribute("start").toLowerCase()==="true"&&(r.isRepeatStart=!0),n.getAttribute("end").toLowerCase()==="true"&&n.getAttribute("count")&&(r.repeatCount=parseInt(n.getAttribute("count")));break;case"AlternateEndings":let s=n.innerText.split(" "),a=0;for(let l=0;l<s.length;l++)a=a|1<<-1+parseInt(s[l]);r.alternateEndings=a;break;case"Bars":this._barsOfMasterBar.push(n.innerText.split(" "));break;case"TripletFeel":switch(n.innerText){case"NoTripletFeel":r.tripletFeel=xt.NoTripletFeel;break;case"Triplet8th":r.tripletFeel=xt.Triplet8th;break;case"Triplet16th":r.tripletFeel=xt.Triplet16th;break;case"Dotted8th":r.tripletFeel=xt.Dotted8th;break;case"Dotted16th":r.tripletFeel=xt.Dotted16th;break;case"Scottish8th":r.tripletFeel=xt.Scottish8th;break;case"Scottish16th":r.tripletFeel=xt.Scottish16th;break}break;case"Key":r.keySignature=parseInt(n.findChildElement("AccidentalCount").innerText);let o=n.findChildElement("Mode");if(o)switch(o.innerText.toLowerCase()){case"major":r.keySignatureType=Ql.Major;break;case"minor":r.keySignatureType=Ql.Minor;break}break;case"Fermatas":this.parseFermatas(r,n);break;case"XProperties":this.parseMasterBarXProperties(n,r);break}this._masterBars.push(r)}parseFermatas(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Fermata":this.parseFermata(e,n);break}}parseFermata(e,r){let n=0,i=new fT;for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Type":switch(s.innerText){case"Short":i.type=Fa.Short;break;case"Medium":i.type=Fa.Medium;break;case"Long":i.type=Fa.Long;break}break;case"Length":i.length=parseFloat(s.innerText);break;case"Offset":let a=s.innerText.split("/");if(a.length===2){let o=parseInt(a[0]),l=parseInt(a[1]);n=o/l*dt.QuarterTime|0}break}e.addFermata(n,i)}parseBars(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Bar":this.parseBar(r);break}}parseBar(e){let r=new sl,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Voices":this._voicesOfBar.set(n,i.innerText.split(" "));break;case"Clef":switch(i.innerText){case"Neutral":r.clef=ut.Neutral;break;case"G2":r.clef=ut.G2;break;case"F4":r.clef=ut.F4;break;case"C4":r.clef=ut.C4;break;case"C3":r.clef=ut.C3;break}break;case"Ottavia":switch(i.innerText){case"8va":r.clefOttava=zt._8va;break;case"15ma":r.clefOttava=zt._15ma;break;case"8vb":r.clefOttava=zt._8vb;break;case"15mb":r.clefOttava=zt._15mb;break}break;case"SimileMark":switch(i.innerText){case"Simple":r.simileMark=vs.Simple;break;case"FirstOfDouble":r.simileMark=vs.FirstOfDouble;break;case"SecondOfDouble":r.simileMark=vs.SecondOfDouble;break}break;case"XProperties":this.parseBarXProperties(i,r);break}this._barsById.set(n,r)}parseVoices(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Voice":this.parseVoice(r);break}}parseVoice(e){let r=new vo,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Beats":this._beatsOfVoice.set(n,i.innerText.split(" "));break}this._voiceById.set(n,r)}parseBeats(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Beat":this.parseBeat(r);break}}parseBeat(e){let r=new jn,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Notes":this._notesOfBeat.set(n,i.innerText.split(" "));break;case"Rhythm":this._rhythmOfBeat.set(n,i.getAttribute("ref"));break;case"Fadding":i.innerText==="FadeIn"&&(r.fadeIn=!0);break;case"Tremolo":switch(i.innerText){case"1/2":r.tremoloSpeed=H.Eighth;break;case"1/4":r.tremoloSpeed=H.Sixteenth;break;case"1/8":r.tremoloSpeed=H.ThirtySecond;break}break;case"Chord":r.chordId=i.innerText;break;case"Hairpin":switch(i.innerText){case"Crescendo":r.crescendo=Di.Crescendo;break;case"Decrescendo":r.crescendo=Di.Decrescendo;break}break;case"Arpeggio":i.innerText==="Up"?r.brushType=dr.ArpeggioUp:r.brushType=dr.ArpeggioDown;break;case"Properties":this.parseBeatProperties(i,r);break;case"XProperties":this.parseBeatXProperties(i,r);break;case"FreeText":r.text=i.innerText;break;case"TransposedPitchStemOrientation":switch(i.innerText){case"Upward":r.preferredBeamDirection=Pe.Up;break;case"Downward":r.preferredBeamDirection=Pe.Down;break}break;case"Dynamic":switch(i.innerText){case"PPP":r.dynamics=St.PPP;break;case"PP":r.dynamics=St.PP;break;case"P":r.dynamics=St.P;break;case"MP":r.dynamics=St.MP;break;case"MF":r.dynamics=St.MF;break;case"F":r.dynamics=St.F;break;case"FF":r.dynamics=St.FF;break;case"FFF":r.dynamics=St.FFF;break}break;case"GraceNotes":switch(i.innerText){case"OnBeat":r.graceType=tt.OnBeat;break;case"BeforeBeat":r.graceType=tt.BeforeBeat;break}break;case"Legato":i.getAttribute("origin")==="true"&&(r.isLegatoOrigin=!0);break;case"Whammy":let s=new Ie(0,0);s.value=this.toBendValue(parseFloat(i.getAttribute("originValue"))),s.offset=this.toBendOffset(parseFloat(i.getAttribute("originOffset"))),r.addWhammyBarPoint(s);let a=new Ie(0,0);a.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),a.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset1"))),r.addWhammyBarPoint(a);let o=new Ie(0,0);o.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),o.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset2"))),r.addWhammyBarPoint(o);let l=new Ie(0,0);l.value=this.toBendValue(parseFloat(i.getAttribute("destinationValue"))),l.offset=this.toBendOffset(parseFloat(i.getAttribute("destinationOffset"))),r.addWhammyBarPoint(l);break;case"Ottavia":switch(i.innerText){case"8va":r.ottava=zt._8va;break;case"8vb":r.ottava=zt._8vb;break;case"15ma":r.ottava=zt._15ma;break;case"15mb":r.ottava=zt._15mb;break}break;case"Lyrics":r.lyrics=this.parseBeatLyrics(i),this._skipApplyLyrics=!0;break}this._beatById.set(n,r)}parseBeatLyrics(e){const r=[];for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Line":r.push(n.innerText);break}return r}parseBeatXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":let i=n.getAttribute("id"),s=0;switch(i){case"1124204545":s=parseInt(n.findChildElement("Int").innerText),r.invertBeamDirection=s===1;break;case"687935489":s=parseInt(n.findChildElement("Int").innerText),r.brushDuration=s;break}break}}parseBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124139520":const s=n.findChildElement("Double")??n.findChildElement("Float");r.displayScale=parseFloat(s.innerText);break}break}}parseMasterBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124073984":r.displayScale=parseFloat(n.findChildElement("Double").innerText);break}break}}parseBeatProperties(e,r){let n=!1,i=null,s=null,a=null,o=null,l=null;for(let c of e.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"Property":switch(c.getAttribute("name")){case"Brush":c.findChildElement("Direction").innerText==="Up"?r.brushType=dr.BrushUp:r.brushType=dr.BrushDown;break;case"PickStroke":c.findChildElement("Direction").innerText==="Up"?r.pickStroke=Vn.Up:r.pickStroke=Vn.Down;break;case"Slapped":c.findChildElement("Enable")&&(r.slap=!0);break;case"Popped":c.findChildElement("Enable")&&(r.pop=!0);break;case"VibratoWTremBar":switch(c.findChildElement("Strength").innerText){case"Wide":r.vibrato=$t.Wide;break;case"Slight":r.vibrato=$t.Slight;break}break;case"WhammyBar":n=!0;break;case"WhammyBarExtend":break;case"WhammyBarOriginValue":i||(i=new Ie(0,0)),i.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarOriginOffset":i||(i=new Ie(0,0)),i.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleValue":s=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset1":a=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset2":o=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationValue":l||(l=new Ie(Ie.MaxPosition,0)),l.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationOffset":l||(l=new Ie(0,0)),l.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break}break}n&&(i||(i=new Ie(0,0)),l||(l=new Ie(Ie.MaxPosition,0)),r.addWhammyBarPoint(i),a&&s&&r.addWhammyBarPoint(new Ie(a,s)),o&&s&&r.addWhammyBarPoint(new Ie(o,s)),!a&&!o&&s&&r.addWhammyBarPoint(new Ie(Ie.MaxPosition/2|0,s)),r.addWhammyBarPoint(l))}parseNotes(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Note":this.parseNote(r);break}}parseNote(e){let r=new Fr,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Properties":this.parseNoteProperties(i,r,n);break;case"AntiAccent":i.innerText.toLowerCase()==="normal"&&(r.isGhost=!0);break;case"LetRing":r.isLetRing=!0;break;case"Trill":r.trillValue=parseInt(i.innerText),r.trillSpeed=H.Sixteenth;break;case"Accent":let s=parseInt(i.innerText);s&1&&(r.isStaccato=!0),s&4&&(r.accentuated=sn.Heavy),s&8&&(r.accentuated=sn.Normal);break;case"Tie":i.getAttribute("destination").toLowerCase()==="true"&&(r.isTieDestination=!0);break;case"Vibrato":switch(i.innerText){case"Slight":r.vibrato=$t.Slight;break;case"Wide":r.vibrato=$t.Wide;break}break;case"LeftFingering":switch(r.isFingering=!0,i.innerText){case"P":r.leftHandFinger=ct.Thumb;break;case"I":r.leftHandFinger=ct.IndexFinger;break;case"M":r.leftHandFinger=ct.MiddleFinger;break;case"A":r.leftHandFinger=ct.AnnularFinger;break;case"C":r.leftHandFinger=ct.LittleFinger;break}break;case"RightFingering":switch(r.isFingering=!0,i.innerText){case"P":r.rightHandFinger=ct.Thumb;break;case"I":r.rightHandFinger=ct.IndexFinger;break;case"M":r.rightHandFinger=ct.MiddleFinger;break;case"A":r.rightHandFinger=ct.AnnularFinger;break;case"C":r.rightHandFinger=ct.LittleFinger;break}break;case"InstrumentArticulation":r.percussionArticulation=parseInt(i.innerText);break}this._noteById.set(n,r)}parseNoteProperties(e,r,n){let i=!1,s=null,a=null,o=null,l=null,c=null,u=-1,d=-1;for(let h of e.childNodes)if(h.nodeType===be.Element)switch(h.localName){case"Property":switch(h.getAttribute("name")){case"String":r.string=parseInt(h.findChildElement("String").innerText)+1;break;case"Fret":r.fret=parseInt(h.findChildElement("Fret").innerText);break;case"Element":u=parseInt(h.findChildElement("Element").innerText);break;case"Variation":d=parseInt(h.findChildElement("Variation").innerText);break;case"Tapped":this._tappedNotes.set(n,!0);break;case"HarmonicType":let f=h.findChildElement("HType");if(f)switch(f.innerText){case"NoHarmonic":r.harmonicType=Qe.None;break;case"Natural":r.harmonicType=Qe.Natural;break;case"Artificial":r.harmonicType=Qe.Artificial;break;case"Pinch":r.harmonicType=Qe.Pinch;break;case"Tap":r.harmonicType=Qe.Tap;break;case"Semi":r.harmonicType=Qe.Semi;break;case"Feedback":r.harmonicType=Qe.Feedback;break}break;case"HarmonicFret":let m=h.findChildElement("HFret");m&&(r.harmonicValue=parseFloat(m.innerText));break;case"Muted":h.findChildElement("Enable")&&(r.isDead=!0);break;case"PalmMuted":h.findChildElement("Enable")&&(r.isPalmMute=!0);break;case"Octave":r.octave=parseInt(h.findChildElement("Number").innerText),r.tone===-1&&(r.tone=0);break;case"Tone":r.tone=parseInt(h.findChildElement("Step").innerText);break;case"ConcertPitch":this.parseConcertPitch(h,r);break;case"Bended":i=!0;break;case"BendOriginValue":s||(s=new Ie(0,0)),s.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendOriginOffset":s||(s=new Ie(0,0)),s.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleValue":a=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset1":o=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset2":l=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationValue":c||(c=new Ie(Ie.MaxPosition,0)),c.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationOffset":c||(c=new Ie(0,0)),c.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"HopoOrigin":h.findChildElement("Enable")&&(r.isHammerPullOrigin=!0);break;case"HopoDestination":break;case"LeftHandTapped":r.isLeftHandTapped=!0;break;case"Slide":let g=parseInt(h.findChildElement("Flags").innerText);g&1?r.slideOutType=pt.Shift:g&2?r.slideOutType=pt.Legato:g&4?r.slideOutType=pt.OutDown:g&8&&(r.slideOutType=pt.OutUp),g&16?r.slideInType=Pn.IntoFromBelow:g&32&&(r.slideInType=Pn.IntoFromAbove),g&64?r.slideOutType=pt.PickSlideDown:g&128&&(r.slideOutType=pt.PickSlideUp);break}break}i&&(s||(s=new Ie(0,0)),c||(c=new Ie(Ie.MaxPosition,0)),r.addBendPoint(s),o&&a&&r.addBendPoint(new Ie(o,a)),l&&a&&r.addBendPoint(new Ie(l,a)),!o&&!l&&a&&r.addBendPoint(new Ie(Ie.MaxPosition/2|0,a)),r.addBendPoint(c)),u!==-1&&d!==-1&&(r.percussionArticulation=Fn.articulationFromElementVariation(u,d))}parseConcertPitch(e,r){const n=e.findChildElement("Pitch");if(n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Accidental":switch(i.innerText){case"x":r.accidentalMode=Kr.ForceDoubleSharp;break;case"#":r.accidentalMode=Kr.ForceSharp;break;case"b":r.accidentalMode=Kr.ForceFlat;break;case"bb":r.accidentalMode=Kr.ForceDoubleFlat;break}break}}}toBendValue(e){return e*$s.BendPointValueFactor|0}toBendOffset(e){return e*$s.BendPointPositionFactor}parseRhythms(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Rhythm":this.parseRhythm(r);break}}parseRhythm(e){let r=new goe,n=e.getAttribute("id");r.id=n;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"NoteValue":switch(i.innerText){case"Long":r.value=H.QuadrupleWhole;break;case"DoubleWhole":r.value=H.DoubleWhole;break;case"Whole":r.value=H.Whole;break;case"Half":r.value=H.Half;break;case"Quarter":r.value=H.Quarter;break;case"Eighth":r.value=H.Eighth;break;case"16th":r.value=H.Sixteenth;break;case"32nd":r.value=H.ThirtySecond;break;case"64th":r.value=H.SixtyFourth;break;case"128th":r.value=H.OneHundredTwentyEighth;break;case"256th":r.value=H.TwoHundredFiftySixth;break}break;case"PrimaryTuplet":r.tupletNumerator=parseInt(i.getAttribute("num")),r.tupletDenominator=parseInt(i.getAttribute("den"));break;case"AugmentationDot":r.dots=parseInt(i.getAttribute("count"));break}this._rhythmById.set(n,r)}buildModel(){for(let e=0,r=this._masterBars.length;e<r;e++){let n=this._masterBars[e];this.score.addMasterBar(n)}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e);this.score.addTrack(r)}for(let e of this._barsOfMasterBar){let r=0;for(let n=0,i=0;n<e.length&&i<this.score.tracks.length;n++){let s=e[n];if(s!==$s.InvalidId){let a=this._barsById.get(s),o=this.score.tracks[i],l=o.staves[r];if(l.addBar(a),this._voicesOfBar.has(s))for(let c of this._voicesOfBar.get(s))if(c!==$s.InvalidId){let u=this._voiceById.get(c);if(a.addVoice(u),this._beatsOfVoice.has(c)){for(let d of this._beatsOfVoice.get(c))if(d!==$s.InvalidId){let h=hT.clone(this._beatById.get(d));u.addBeat(h);let p=this._rhythmOfBeat.get(d),f=this._rhythmById.get(p);if(h.duration=f.value,h.dots=f.dots,h.tupletNumerator=f.tupletNumerator,h.tupletDenominator=f.tupletDenominator,this._notesOfBeat.has(d)){for(let m of this._notesOfBeat.get(d))if(m!==$s.InvalidId){const g=kO.clone(this._noteById.get(m));l.isPercussion?(g.fret=-1,g.string=-1):g.percussionArticulation=-1,h.addNote(g),this._tappedNotes.has(m)&&(h.tap=!0)}}}}}else{let u=new vo;a.addVoice(u);let d=new jn;d.isEmpty=!0,d.duration=H.Quarter,u.addBeat(d)}r===o.staves.length-1?(i++,r=0):r++}else i++}}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e),n=!1;for(const i of r.staves)if(i.isPercussion){n=!0;break}if(n||(r.percussionArticulations=[]),this._automationsPerTrackIdAndBarIndex.has(e)){const i=this._automationsPerTrackIdAndBarIndex.get(e);for(const[s,a]of i)if(r.staves.length>0&&s<r.staves[0].bars.length){const o=r.staves[0].bars[s];if(o.voices.length>0&&o.voices[0].beats.length>0){const l=o.voices[0].beats[0];for(const c of a)l.automations.push(c)}}}}for(const[e,r]of this._masterTrackAutomations){let n=this.score.masterBars[e];for(let i=0,s=r.length;i<s;i++){let a=r[i];a.type===vn.Tempo&&(e===0&&(this.score.tempo=a.value|0,a.text&&(this.score.tempoLabel=a.text)),n.tempoAutomation=a)}}}}$s.InvalidId="-1";$s.BendPointPositionFactor=Ie.MaxPosition/100;$s.BendPointValueFactor=1/25;class jw{constructor(){this.isMultiRest=!1,this.trackViewGroups=[]}}class wM{constructor(){this.showSlash=!1,this.showStandardNotation=!1,this.showTablature=!1}}class PO{apply(e){if(this.scoreViews.length>0){let r=0;for(let n of this.scoreViews[0].trackViewGroups){if(r<e.tracks.length){const i=e.tracks[r];for(const s of i.staves)s.showTablature=n.showTablature,s.showStandardNotation=n.showStandardNotation}r++}}}constructor(e){this.scoreViews=[];let r=Yn.fromBuffer(e);const n=ue.readInt32BE(r);for(let i=0;i<n;i++){const s=new jw;this.scoreViews.push(s),s.isMultiRest=At.gpReadBool(r);const a=ue.readInt32BE(r);for(let o=0;o<a;o++){let l=r.readByte();l===0&&(l=1);let c=new wM;c.showStandardNotation=(l&1)!==0,c.showTablature=(l&2)!==0,c.showSlash=(l&4)!==0,s.trackViewGroups.push(c)}}}static writeForScore(e){const r=Yn.withCapacity(128),n=[new jw];for(const i of e.tracks){const s=new wM;s.showStandardNotation=i.staves[0].showStandardNotation,s.showTablature=i.staves[0].showTablature,n[0].trackViewGroups.push(s);const a=new jw;a.trackViewGroups.push(s),n.push(a)}ue.writeInt32BE(r,n.length);for(const i of n){r.writeByte(i.isMultiRest?1:0),ue.writeInt32BE(r,i.trackViewGroups.length);for(const s of i.trackViewGroups){let a=0;s.showStandardNotation&&(a=a|1),s.showTablature&&(a=a|2),s.showSlash&&(a=a|4),r.writeByte(a)}}return ue.writeInt32BE(r,1),r.toArray()}}class gT{}class oy extends gT{constructor(e){super(),this.n=e}}class wc extends gT{constructor(e,r){super(),this.left=e,this.right=r}}class g1 extends gT{constructor(e,r){super(),this.n=e,this.table=r}}class In{static make(e,r,n,i){let s=[],a=[];if(i>32)throw new en("Invalid huffman");for(let c=0;c<i;c++)s.push(0),a.push(0);for(let c=0;c<n;c++){let u=e[c+r];if(u>=i)throw new en("Invalid huffman");s[u]++}let o=0;for(let c=1;c<i-1;c++)o=o+s[c]<<1,a[c]=o;let l=new Map;for(let c=0;c<n;c++){let u=e[c+r];if(u!==0){let d=a[u-1];a[u-1]=d+1,l.set(d<<5|u,c)}}return In.treeCompress(new wc(In.treeMake(l,i,0,1),In.treeMake(l,i,1,1)))}static treeMake(e,r,n,i){if(i>r)throw new en("Invalid huffman");let s=n<<5|i;return e.has(s)?new oy(e.get(s)):(n=n<<1,i+=1,new wc(In.treeMake(e,r,n,i),In.treeMake(e,r,n|1,i)))}static treeCompress(e){let r=In.treeDepth(e);if(r===0)return e;if(r===1){if(e instanceof wc)return new wc(In.treeCompress(e.left),In.treeCompress(e.right));throw new en("assert")}let n=1<<r,i=[];for(let s=0;s<n;s++)i.push(new oy(-1));return In.treeWalk(i,0,0,r,e),new g1(r,i)}static treeWalk(e,r,n,i,s){s instanceof wc&&i>0?(In.treeWalk(e,r,n+1,i-1,s.left),In.treeWalk(e,r|1<<n,n+1,i-1,s.right)):e[r]=In.treeCompress(s)}static treeDepth(e){if(e instanceof oy)return 0;if(e instanceof g1)throw new en("assert");if(e instanceof wc){let r=In.treeDepth(e.left),n=In.treeDepth(e.right);return 1+(r<n?r:n)}return 0}}var Xr;(function(t){t[t.Head=0]="Head",t[t.Block=1]="Block",t[t.CData=2]="CData",t[t.Flat=3]="Flat",t[t.Crc=4]="Crc",t[t.Dist=5]="Dist",t[t.DistOne=6]="DistOne",t[t.Done=7]="Done"})(Xr||(Xr={}));class va{constructor(){this.buffer=new Uint8Array(va.BufferSize),this.pos=0}slide(){let e=new Uint8Array(va.BufferSize);this.pos-=va.Size,e.set(this.buffer.subarray(va.Size,va.Size+this.pos),0),this.buffer=e}addBytes(e,r,n){this.pos+n>va.BufferSize&&this.slide(),this.buffer.set(e.subarray(r,r+n),this.pos),this.pos+=n}addByte(e){this.pos===va.BufferSize&&this.slide(),this.buffer[this.pos]=e,this.pos++}getLastChar(){return this.buffer[this.pos-1]}available(){return this.pos}}va.Size=32768;va.BufferSize=65536;class ci{static buildFixedHuffman(){let e=[];for(let r=0;r<288;r++)e.push(r<=143?8:r<=255?9:r<=279?7:8);return In.make(e,0,288,10)}constructor(e){this._nbits=0,this._bits=0,this._state=Xr.Block,this._isFinal=!1,this._huffman=ci._fixedHuffman,this._huffdist=null,this._len=0,this._dist=0,this._needed=0,this._output=null,this._outpos=0,this._lengths=[],this._window=new va,this._input=e;for(let r=0;r<19;r++)this._lengths.push(-1)}readBytes(e,r,n){if(this._needed=n,this._outpos=r,this._output=e,n>0)for(;this.inflateLoop(););return n-this._needed}inflateLoop(){switch(this._state){case Xr.Head:let e=this._input.readByte();if((e&15)!==8)throw new en("Invalid data");let n=this._input.readByte(),i=(n&32)!==0;if(((e<<8)+n)%31!==0)throw new en("Invalid data");if(i)throw new en("Unsupported dictionary");return this._state=Xr.Block,!0;case Xr.Crc:return this._state=Xr.Done,!0;case Xr.Done:return!1;case Xr.Block:switch(this._isFinal=this.getBit(),this.getBits(2)){case 0:if(this._len=ue.readUInt16LE(this._input),ue.readUInt16LE(this._input)!==65535-this._len)throw new en("Invalid data");this._state=Xr.Flat;let o=this.inflateLoop();return this.resetBits(),o;case 1:return this._huffman=ci._fixedHuffman,this._huffdist=null,this._state=Xr.CData,!0;case 2:let l=this.getBits(5)+257,c=this.getBits(5)+1,u=this.getBits(4)+4;for(let h=0;h<u;h++)this._lengths[ci.CodeLengthsPos[h]]=this.getBits(3);for(let h=u;h<19;h++)this._lengths[ci.CodeLengthsPos[h]]=0;this._huffman=In.make(this._lengths,0,19,8);let d=[];for(let h=0;h<l+c;h++)d.push(0);return this.inflateLengths(d,l+c),this._huffdist=In.make(d,l,c,16),this._huffman=In.make(d,0,l,16),this._state=Xr.CData,!0;default:throw new en("Invalid data")}case Xr.Flat:{let a=this._len<this._needed?this._len:this._needed,o=ue.readByteArray(this._input,a);return this._len-=a,this.addBytes(o,0,a),this._len===0&&(this._state=this._isFinal?Xr.Crc:Xr.Block),this._needed>0}case Xr.DistOne:{let a=this._len<this._needed?this._len:this._needed;return this.addDistOne(a),this._len-=a,this._len===0&&(this._state=Xr.CData),this._needed>0}case Xr.Dist:for(;this._len>0&&this._needed>0;){let a=this._len<this._dist?this._len:this._dist,o=this._needed<a?this._needed:a;this.addDist(this._dist,o),this._len-=o}return this._len===0&&(this._state=Xr.CData),this._needed>0;case Xr.CData:let s=this.applyHuffman(this._huffman);if(s<256)return this.addByte(s),this._needed>0;if(s===256)return this._state=this._isFinal?Xr.Crc:Xr.Block,!0;{s=s-257&255;let a=ci.LenExtraBitsTbl[s];if(a===-1)throw new en("Invalid data");this._len=ci.LenBaseValTbl[s]+this.getBits(a);let o=this._huffdist,l=o?this.applyHuffman(o):this.getRevBits(5);if(a=ci.DistExtraBitsTbl[l],a===-1)throw new en("Invalid data");if(this._dist=ci.DistBaseValTbl[l]+this.getBits(a),this._dist>this._window.available())throw new en("Invalid data");return this._state=this._dist===1?Xr.DistOne:Xr.Dist,!0}}return!1}addDistOne(e){let r=this._window.getLastChar();for(let n=0;n<e;n++)this.addByte(r)}addByte(e){this._window.addByte(e),this._output[this._outpos]=e,this._needed--,this._outpos++}addDist(e,r){this.addBytes(this._window.buffer,this._window.pos-e,r)}getBit(){this._nbits===0&&(this._nbits=8,this._bits=this._input.readByte());let e=(this._bits&1)===1;return this._nbits--,this._bits=this._bits>>1,e}getBits(e){for(;this._nbits<e;)this._bits=this._bits|this._input.readByte()<<this._nbits,this._nbits+=8;let r=this._bits&(1<<e)-1;return this._nbits-=e,this._bits=this._bits>>e,r}getRevBits(e){return e===0?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)}resetBits(){this._bits=0,this._nbits=0}addBytes(e,r,n){this._window.addBytes(e,r,n),this._output.set(e.subarray(r,r+n),this._outpos),this._needed-=n,this._outpos+=n}inflateLengths(e,r){let n=0,i=0;for(;n<r;){let s=this.applyHuffman(this._huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[n]=s,n++;break;case 16:let a=n+3+this.getBits(2);if(a>r)throw new en("Invalid data");for(;n<a;)e[n]=i,n++;break;case 17:if(n+=3+this.getBits(3),n>r)throw new en("Invalid data");break;case 18:if(n+=11+this.getBits(7),n>r)throw new en("Invalid data");break;default:throw new en("Invalid data")}}}applyHuffman(e){if(e instanceof oy)return e.n;if(e instanceof wc)return this.applyHuffman(this.getBit()?e.right:e.left);if(e instanceof g1)return this.applyHuffman(e.table[this.getBits(e.n)]);throw new en("Invalid data")}}ci.LenExtraBitsTbl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];ci.LenBaseValTbl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];ci.DistExtraBitsTbl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];ci.DistBaseValTbl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];ci.CodeLengthsPos=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];ci._fixedHuffman=ci.buildFixedHuffman();class Fo{constructor(e,r){this.fullName=e;let n=e.lastIndexOf("/");this.fileName=n===-1||n===e.length-1?this.fullName:e.substr(n+1),this.data=r}}Fo.OptionalDataDescriptorSignature=134695760;Fo.CompressionMethodDeflate=8;Fo.LocalFileHeaderSignature=67324752;Fo.CentralFileHeaderSignature=33639248;Fo.EndOfCentralDirSignature=101010256;class BO{constructor(e){this._readable=e}read(){let e=[];for(;;){let r=this.readEntry();if(!r)break;e.push(r)}return e}readEntry(){let e=this._readable;if(ue.readInt32LE(e)!==Fo.LocalFileHeaderSignature)return null;ue.readUInt16LE(e);let n=ue.readUInt16LE(e),i=ue.readUInt16LE(e),s=i!==0;if(s&&i!==Fo.CompressionMethodDeflate)return null;ue.readInt16LE(this._readable),ue.readInt16LE(this._readable),ue.readInt32LE(e),ue.readInt32LE(e);let a=ue.readInt32LE(e),o=ue.readInt16LE(e),l=ue.readInt16LE(e),c=ue.toString(ue.readByteArray(e,o),"utf-8");e.skip(l);let u;if(s){let d=Yn.empty(),h=new ci(this._readable),p=new Uint8Array(65536);for(;;){let f=h.readBytes(p,0,p.length);if(d.write(p,0,f),f<p.length)break}u=d.toArray()}else u=ue.readByteArray(this._readable,a);return n&8&&(ue.readInt32LE(this._readable)===Fo.OptionalDataDescriptorSignature&&ue.readInt32LE(this._readable),ue.readInt32LE(this._readable),ue.readInt32LE(this._readable)),new Fo(c,u)}}class boe extends dh{get name(){return"Guitar Pro 7"}constructor(){super()}readScore(){ve.debug(this.name,"Loading ZIP entries");let e=new BO(this.data),r;try{r=e.read()}catch(l){throw new nn("No Zip archive",l)}ve.debug(this.name,"Zip entries loaded");let n=null,i=null,s=null;for(let l of r)switch(l.fileName){case"score.gpif":n=ue.toString(l.data,this.settings.importer.encoding);break;case"BinaryStylesheet":i=l.data;break;case"PartConfiguration":s=l.data;break}if(!n)throw new nn("No score.gpif found in zip archive");ve.debug(this.name,"Start Parsing score.gpif");let a=new $s;a.parseXml(n,this.settings),ve.debug(this.name,"score.gpif parsed");let o=a.score;return i&&(ve.debug(this.name,"Start Parsing BinaryStylesheet"),new xv(i).apply(o),ve.debug(this.name,"BinaryStylesheet parsed")),s&&(ve.debug(this.name,"Start Parsing Part Configuration"),new PO(s).apply(o),ve.debug(this.name,"Part Configuration parsed")),o}}class Sp extends Nn{constructor(){super(Bn.Format,"Unexpected end of data within reader"),Object.setPrototypeOf(this,Sp.prototype)}}class kp{constructor(e){this._currentByte=0,this._position=kp.ByteSize,this._source=e}readByte(){return this.readBits(8)}readBytes(e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=this.readByte()&255;return r}readBits(e){let r=0,n=e-1;for(;n>=0;)r=r|this.readBit()<<n,n--;return r}readBitsReversed(e){let r=0;for(let n=0;n<e;n++)r=r|this.readBit()<<n;return r}readBit(){if(this._position>=8){if(this._currentByte=this._source.readByte(),this._currentByte===-1)throw new Sp;this._position=0}const e=this._currentByte>>kp.ByteSize-this._position-1&1;return this._position++,e}readAll(){let e=Yn.empty();try{for(;;)e.writeByte(this.readByte()&255)}catch(r){if(!(r instanceof Sp))throw r}return e.toArray()}}kp.ByteSize=8;class voe{constructor(){this.fileName="",this.fileSize=0,this.data=null}}class hh{constructor(){this.files=[],this.files=[],this.fileFilter=e=>!0}load(e){let r=new kp(e);this.readBlock(r)}readHeader(e){return this.getString(e.readBytes(4),0,4)}decompress(e,r=!1){let n=Yn.empty(),i,s=this.getInteger(e.readBytes(4),0);try{for(;n.length<s;)if(e.readBits(1)===1){let d=e.readBits(4),h=e.readBitsReversed(d),p=e.readBitsReversed(d),f=n.length-h,m=Math.min(h,p);i=n.getBuffer(),n.write(i,f,m)}else{let d=e.readBitsReversed(2);for(let h=0;h<d;h++)n.writeByte(e.readByte())}}catch(u){if(!(u instanceof Sp))throw u}i=n.getBuffer();let a=r?4:0,o=n.length-a,l=new Uint8Array(o),c=o;return l.set(i.subarray(a,a+c),0),l}readBlock(e){let r=this.readHeader(e);if(r==="BCFZ")this.readUncompressedBlock(this.decompress(e,!0));else if(r==="BCFS")this.readUncompressedBlock(e.readAll());else throw new nn("Unsupported format")}readUncompressedBlock(e){let r=4096,n=r;for(;n+3<e.length;){if(this.getInteger(e,n)===2){let s=new voe;s.fileName=this.getString(e,n+4,127),s.fileSize=this.getInteger(e,n+140);let a=!this.fileFilter||this.fileFilter(s.fileName);a&&this.files.push(s);let o=n+148,l=0,c=0,u=a?Yn.withCapacity(s.fileSize):null;for(;l=this.getInteger(e,o+4*c++),l!==0;)n=l*r,a&&u.write(e,n,r);if(a){s.data=new Uint8Array(Math.min(s.fileSize,u.length));let d=u.toArray();s.data.set(d.subarray(0,0+s.data.length),0)}}n+=r}}getString(e,r,n){let i="";for(let s=0;s<n;s++){let a=e[r+s]&255;if(a===0)break;i+=String.fromCharCode(a)}return i}getInteger(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}}hh.HeaderBcFs="BCFS";hh.HeaderBcFz="BCFZ";hh.ScoreGpif="score.gpif";hh.BinaryStylesheet="BinaryStylesheet";hh.PartConfiguration="PartConfiguration";class woe extends dh{get name(){return"Guitar Pro 6"}constructor(){super()}readScore(){ve.debug(this.name,"Loading GPX filesystem");let e=new hh;e.fileFilter=o=>o.endsWith("score.gpif")||o.endsWith("BinaryStylesheet")||o.endsWith("PartConfiguration"),e.load(this.data),ve.debug(this.name,"GPX filesystem loaded");let r=null,n=null,i=null;for(let o of e.files)switch(o.fileName){case"score.gpif":r=ue.toString(o.data,this.settings.importer.encoding);break;case"BinaryStylesheet":n=o.data;break;case"PartConfiguration":i=o.data;break}if(!r)throw new nn("No score.gpif found in GPX");ve.debug(this.name,"Start Parsing score.gpif");let s=new $s;s.parseXml(r,this.settings),ve.debug(this.name,"score.gpif parsed");let a=s.score;return n&&(ve.debug(this.name,"Start Parsing BinaryStylesheet"),new xv(n).apply(a),ve.debug(this.name,"BinaryStylesheet parsed")),i&&(ve.debug(this.name,"Start Parsing Part Configuration"),new PO(i).apply(a),ve.debug(this.name,"Part Configuration parsed")),a}}class xoe extends dh{get name(){return"MusicXML"}constructor(){super(),this._currentPartGroup=null,this._trackFirstMeasureNumber=0,this._maxVoices=0,this._currentDirection=null,this._currentChord=null,this._divisionsPerQuarterNote=0,this._voiceOfStaff=new Map,this._isBeamContinue=!1,this._previousBeatWasPulled=!1,this._previousBeat=null}readScore(){this._trackById=new Map,this._partGroups=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._slurStarts=new Map;let e=ue.toString(this.data.readAll(),this.settings.importer.encoding),r=new mT;try{r.parse(e)}catch{throw new nn("Unsupported format")}return this._score=new bu,this._score.tempo=120,this.parseDom(r),this.settings.importer.mergePartGroupsInMusicXml&&this.mergePartGroups(),this._score.finish(this.settings),this._score.rebuildRepeatGroups(),this._score}mergePartGroups(){let e=!1;for(const r of this._partGroups.values())r.length>1&&(this.mergeGroup(r),e=!0);if(e)for(let r=0;r<this._score.tracks.length;r++)this._score.tracks[r].index=r}mergeGroup(e){let r=e[0];for(let n=1;n<e.length;n++){let i=e[n];for(let a of i.staves)r.addStaff(a);let s=this._score.tracks.indexOf(i);this._score.tracks.splice(s,1)}}parseDom(e){let r=e.firstElement;if(!r)throw new nn("Unsupported format");switch(r.localName){case"score-partwise":this.parsePartwise(r);break;case"score-timewise":break;default:throw new nn("Unsupported format")}}parsePartwise(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"work":this.parseWork(r);break;case"movement-title":this._score.title=r.innerText;break;case"identification":this.parseIdentification(r);break;case"part-list":this.parsePartList(r);break;case"part":this.parsePart(r);break}}parseWork(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"work-title":this._score.title=r.innerText;break}}parsePart(e){let r=e.getAttribute("id");if(!this._trackById.has(r))if(this._trackById.size===1){for(const[s,a]of this._trackById)(a.staves.length===0||a.staves[0].bars.length===0)&&(r=s);if(!this._trackById.has(r))return}else return;let n=this._trackById.get(r),i=!0;this._maxVoices=0;for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"measure":this.parseMeasure(s,n,i)&&(i=!1);break}for(let s of n.staves)for(let a of s.bars)this.ensureVoices(a)}parseMeasure(e,r,n){if(e.getAttribute("implicit")==="yes"&&e.getElementsByTagName("note",!1).length===0)return!1;let i=0;if(n)this._divisionsPerQuarterNote=0,this._trackFirstMeasureNumber=parseInt(e.getAttribute("number")),this._trackFirstMeasureNumber||(this._trackFirstMeasureNumber=0),i=0;else{if(i=parseInt(e.getAttribute("number")),!i)return!1;i-=this._trackFirstMeasureNumber}if(n){let l=e.getElementsByTagName("attributes",!1);if(l.length>0){let c=l[0].getElementsByTagName("staves",!1);if(c.length>0){let u=parseInt(c[0].innerText);r.ensureStaveCount(u)}}}let s=new Array(r.staves.length),a=null;for(let l=r.staves[0].bars.length;l<=i;l++)for(let c=0;c<r.staves.length;c++){let u=new sl;if(s[c]=u,r.staves[c].bars.length>0){let d=r.staves[c].bars[r.staves[c].bars.length-1];u.clef=d.clef}a=this.getOrCreateMasterBar(i),r.staves[c].addBar(u),this.ensureVoices(u)}let o=new Map;if(a){let l=!1;for(let c of e.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"note":this.parseNoteBeat(c,s);break;case"forward":this.parseForward(c,s);break;case"direction":this.parseDirection(c,a);break;case"attributes":l||(this.parseAttributes(c,s,a,r),l=!0);break;case"harmony":this.parseHarmony(c,r,o);break;case"sound":break;case"barline":this.parseBarline(c,a);break}}return!0}ensureVoices(e){for(;e.voices.length<this._maxVoices;){let r=new vo;e.addVoice(r);let n=new jn;n.isEmpty=!0,n.chordId=this._currentChord,r.addBeat(n)}}getOrCreateBeat(e,r,n){let i=0,s=e.getElementsByTagName("voice",!1);s.length>0&&(i=parseInt(s[0].innerText)-1);let a=this._previousBeatWasPulled;this._previousBeatWasPulled=!1;let o=e.getElementsByTagName("staff",!1),l=1;if(o.length>0){l=parseInt(o[0].innerText),(this._isBeamContinue||a)&&this._previousBeat.voice.bar.staff.index!==l-1&&(l=this._previousBeat.voice.bar.staff.index+1,this._previousBeatWasPulled=!0);let h=r[0].staff.track.index+"-"+l;this._voiceOfStaff.has(h)||this._voiceOfStaff.set(h,i)}l--;let c;l<0?c=r[0]:l>=r.length?c=r[r.length-1]:c=r[l];let u,d=this.getOrCreateVoice(c,i);return n&&d.beats.length>0||d.beats.length===1&&d.isEmpty?u=d.beats[d.beats.length-1]:(u=new jn,u.isEmpty=!1,d.addBeat(u)),this._isBeamContinue=!1,this._previousBeat=u,u}parseForward(e,r){let n=this.getOrCreateBeat(e,r,!1),s=parseInt(e.findChildElement("duration").innerText)*H.Quarter/this._divisionsPerQuarterNote,a=[H.SixtyFourth,H.ThirtySecond,H.Sixteenth,H.Eighth,H.Quarter,H.Half,H.Whole];for(let o of a)if(s>=o){n.duration=o,s-=o;break}n.isEmpty=!1}parseStaffDetails(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"staff-lines":for(let i of r.staves)i.stringTuning.tunings=new Array(parseInt(n.innerText)).fill(0);break;case"staff-tuning":this.parseStaffTuning(n,r);break}for(let n of r.staves)this.isEmptyTuning(n.tuning)&&(n.stringTuning.tunings=[])}parseStaffTuning(e,r){let n=parseInt(e.getAttribute("line")),i="C",s="",a=0;for(let l of e.childNodes)if(l.nodeType===be.Element)switch(l.localName){case"tuning-step":i=l.innerText;break;case"tuning-alter":a=parseInt(l.innerText);break;case"tuning-octave":s=l.innerText;break}let o=or.getTuningForText(i+s)+a;for(let l of r.staves)l.tuning[l.tuning.length-n]=o}parseHarmony(e,r,n){let i=new Kl;for(let a of e.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"root":i.name=this.parseHarmonyRoot(a);break;case"kind":i.name=i.name+this.parseHarmonyKind(a);break;case"frame":this.parseHarmonyFrame(a,i);break}this._currentChord=or.newGuid();const s=i.uniqueId;n.has(s)&&(i.showDiagram=!1);for(let a of r.staves)a.addChord(this._currentChord,i);n.set(s,i)}parseHarmonyRoot(e){let r="",n="";for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"root-step":r=i.innerText;break;case"root-alter":switch(parseInt(e.innerText)){case-2:n="bb";break;case-1:n="b";break;case 0:n="";break;case 1:n="#";break;case 2:n="##";break}break}return r+n}parseHarmonyKind(e){const r=e.getAttribute("text");let n="";if(r)n=r;else switch(e.innerText){case"major":n="";break;case"minor":n="m";break;case"augmented":n="+";break;case"diminished":n="";break;case"dominant":n="7";break;case"major-seventh":n="7M";break;case"minor-seventh":n="m7";break;case"diminished-seventh":n="7";break;case"augmented-seventh":n="+7";break;case"half-diminished":n="";break;case"major-minor":n="mMaj";break;case"major-sixth":n="maj6";break;case"minor-sixth":n="m6";break;case"dominant-ninth":n="9";break;case"major-ninth":n="maj9";break;case"minor-ninth":n="m9";break;case"dominant-11th":n="11";break;case"major-11th":n="maj11";break;case"minor-11th":n="m11";break;case"dominant-13th":n="13";break;case"major-13th":n="maj13";break;case"minor-13th":n="m13";break;case"suspended-second":n="sus2";break;case"suspended-fourth":n="sus4";break}return n}parseHarmonyFrame(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"frame-strings":const i=parseInt(n.innerText);r.strings=new Array(i);for(let o=0;o<i;o++)r.strings[o]=-1;break;case"first-fret":r.firstFret=parseInt(n.innerText);break;case"frame-note":let s=null,a=null;for(let o of n.childNodes)switch(o.localName){case"string":s=parseInt(o.innerText);break;case"fret":a=parseInt(o.innerText),s&&a>=0&&(r.strings[s-1]=a);break;case"barre":s&&a&&o.getAttribute("type")==="start"&&r.barreFrets.push(a);break}break}}parseBarline(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"repeat":this.parseRepeat(n,r);break;case"ending":this.parseEnding(n,r);break}}parseEnding(e,r){let n=parseInt(e.getAttribute("number"));n>0&&(--n,r.alternateEndings=r.alternateEndings|1<<n&255)}parseRepeat(e,r){let n=e.getAttribute("direction"),i=parseInt(e.getAttribute("times"));(i<0||isNaN(i))&&(i=2),n==="backward"?r.repeatCount=i:n==="forward"&&(r.isRepeatStart=!0)}parseNoteBeat(e,r){let n=e.getElementsByTagName("chord",!1).length>0,i=this.getOrCreateBeat(e,r,n);!i.chordId&&this._currentChord&&(i.chordId=this._currentChord,this._currentChord=null),this._currentDirection&&(i.text=this._currentDirection,this._currentDirection=null);let s=new Fr;i.voice.isEmpty=!1,i.isEmpty=!1,i.addNote(s),i.dots=0;let a=!1;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"grace":i.graceType=tt.BeforeBeat,i.duration=H.ThirtySecond;break;case"duration":if(i.isRest&&!a)switch(parseInt(o.innerText)){case 1:i.duration=H.Whole;break;case 2:i.duration=H.Half;break;case 4:i.duration=H.Quarter;break;case 8:i.duration=H.Eighth;break;case 16:i.duration=H.Sixteenth;break;case 32:i.duration=H.ThirtySecond;break;case 64:i.duration=H.SixtyFourth;break;default:i.duration=H.Quarter;break}break;case"tie":this.parseTied(o,s);break;case"cue":break;case"instrument":break;case"type":i.duration=this.getDuration(o.innerText),i.graceType!==tt.None&&i.duration<H.Sixteenth&&(i.duration=H.Eighth);break;case"dot":i.dots++;break;case"accidental":this.parseAccidental(o,s);break;case"time-modification":this.parseTimeModification(o,i);break;case"stem":break;case"notehead":o.getAttribute("parentheses")==="yes"&&(s.isGhost=!0);break;case"beam":o.innerText==="continue"&&(this._isBeamContinue=!0);break;case"notations":this.parseNotations(o,i,s);break;case"lyric":this.parseLyric(o,i);break;case"pitch":this.parsePitch(o,s);break;case"unpitched":this.parseUnpitched(o,s);break;case"rest":a=o.getAttribute("measure")==="yes",i.isEmpty=!1,i.notes=[],i.duration=H.Whole;break}if(s.isStringed){for(let o=0;o<i.notes.length;o++)if(i.notes[o].string===s.string&&i.notes[o]!==s){i.removeNote(s);break}}}getDuration(e){switch(e){case"256th":case"128th":case"64th":return H.SixtyFourth;case"32nd":return H.ThirtySecond;case"16th":return H.Sixteenth;case"eighth":return H.Eighth;case"quarter":return H.Quarter;case"half":return H.Half;case"long":case"breve":case"whole":return H.Whole}return H.Quarter}parseLyric(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"text":r.text?r.text+=" "+n.innerText:r.text=n.innerText;break}}parseAccidental(e,r){switch(e.innerText){case"sharp":r.accidentalMode=Kr.ForceSharp;break;case"natural":r.accidentalMode=Kr.ForceNatural;break;case"flat":r.accidentalMode=Kr.ForceFlat;break}}parseTied(e,r){if(e.getAttribute("type")==="start")this._tieStartIds.has(r.id)||(this._tieStartIds.set(r.id,!0),this._tieStarts.push(r));else if(e.getAttribute("type")==="stop"&&this._tieStarts.length>0&&!r.isTieDestination){const n=this._tieStarts[0];n.beat.voice.index===r.beat.voice.index&&n.beat.voice.bar.staff.index===r.beat.voice.bar.staff.index&&n.beat.voice.bar.staff.track.index===r.beat.voice.bar.staff.track.index&&(r.isTieDestination=!0,r.tieOrigin=this._tieStarts[0]),this._tieStarts.splice(0,1),this._tieStartIds.delete(r.id)}}parseNotations(e,r,n){for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"articulations":this.parseArticulations(i,n);break;case"tied":this.parseTied(i,n);break;case"slide":case"glissando":i.getAttribute("type")==="start"&&(n.slideOutType=pt.Shift);break;case"dynamics":this.parseDynamics(i,r);break;case"technical":this.parseTechnical(i,n);break;case"ornaments":this.parseOrnaments(i,n);break;case"slur":let s=i.getAttribute("number");switch(s||(s="1"),s=r.voice.bar.staff.index+"_"+s,i.getAttribute("type")){case"start":this._slurStarts.set(s,n);break;case"stop":if(this._slurStarts.has(s)){n.isSlurDestination=!0;let a=this._slurStarts.get(s);a.slurDestination=n,n.slurOrigin=a}break}break}}parseOrnaments(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"tremolo":switch(parseInt(n.innerText)){case 1:r.beat.tremoloSpeed=H.Eighth;break;case 2:r.beat.tremoloSpeed=H.Sixteenth;break;case 3:r.beat.tremoloSpeed=H.ThirtySecond;break}break}}parseTechnical(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"string":r.string=parseInt(n.innerText),r.string!==-2147483648&&(r.string=r.beat.voice.bar.staff.tuning.length-r.string+1);break;case"fret":r.fret=parseInt(n.innerText);break;case"down-bow":r.beat.pickStroke=Vn.Down;break;case"up-bow":r.beat.pickStroke=Vn.Up;break}(r.string===-2147483648||r.fret===-2147483648)&&(r.string=-1,r.fret=-1)}parseArticulations(e,r){for(let n of e.childNodes)switch(n.localName){case"accent":r.accentuated=sn.Normal;break;case"strong-accent":r.accentuated=sn.Heavy;break;case"staccato":case"detached-legato":r.isStaccato=!0;break}}parseDynamics(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"p":r.dynamics=St.P;break;case"pp":r.dynamics=St.PP;break;case"ppp":r.dynamics=St.PPP;break;case"f":r.dynamics=St.F;break;case"ff":r.dynamics=St.FF;break;case"fff":r.dynamics=St.FFF;break;case"mp":r.dynamics=St.MP;break;case"mf":r.dynamics=St.MF;break}}parseTimeModification(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"actual-notes":r.tupletNumerator=parseInt(n.innerText);break;case"normal-notes":r.tupletDenominator=parseInt(n.innerText);break}}parseUnpitched(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"display-step":n=o.innerText;break;case"display-alter":i=parseInt(o.innerText);break;case"display-octave":s=parseInt(o.innerText);break}let a=s*12+or.getToneForText(n)+i;r.octave=a/12|0,r.tone=a-r.octave*12}parsePitch(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"step":n=o.innerText;break;case"alter":i=parseFloat(o.innerText),isNaN(i)&&(i=0);break;case"octave":s=parseInt(o.innerText)+1;break}let a=s*12+or.getToneForText(n)+(i|0);r.octave=a/12|0,r.tone=a-r.octave*12}getOrCreateVoice(e,r){if(r<e.voices.length)return e.voices[r];for(let n=e.voices.length;n<=r;n++)e.addVoice(new vo);return this._maxVoices=Math.max(this._maxVoices,e.voices.length),e.voices[r]}parseDirection(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"sound":let i=n.getAttribute("tempo");if(i){let a=new Un;a.isLinear=!0,a.type=vn.Tempo,a.value=parseInt(i),r.tempoAutomation=a,r.index===0&&(r.score.tempo=a.value)}break;case"direction-type":let s=n.firstElement;switch(s.localName){case"words":this._currentDirection=s.innerText;break;case"metronome":this.parseMetronome(s,r);break}break}}parseMetronome(e,r){let n=H.Quarter,i=120;for(let a of e.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"beat-unit":n=this.getDuration(a.innerText);break;case"per-minute":i=parseInt(a.innerText);break}let s=new Un;s.type=vn.Tempo,s.value=i*(n/4|0),r.tempoAutomation=s,r.index===0&&(r.score.tempo=s.value)}parseAttributes(e,r,n,i){let s=0,a=!1;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"divisions":this._divisionsPerQuarterNote=parseInt(o.innerText);break;case"key":this.parseKey(o,n);break;case"time":this.parseTime(o,n),a=!0;break;case"clef":s=parseInt(o.getAttribute("number")),isNaN(s)&&(s=1),this.parseClef(o,r[s-1]);break;case"staff-details":this.parseStaffDetails(o,i);break;case"transpose":this.parseTranspose(o,i);break}a||(n.timeSignatureCommon=!0)}parseTranspose(e,r){let n=0;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"chromatic":n+=parseInt(i.innerText);break;case"octave-change":n+=parseInt(i.innerText)*12;break}for(let i of r.staves)i.transpositionPitch=n}parseClef(e,r){let n="s",i=0;for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"sign":n=s.innerText.toLowerCase();break;case"line":i=parseInt(s.innerText);break;case"clef-octave-change":switch(parseInt(s.innerText)){case-2:r.clefOttava=zt._15mb;break;case-1:r.clefOttava=zt._8vb;break;case 1:r.clefOttava=zt._8va;break;case 2:r.clefOttava=zt._15mb;break}break}switch(n){case"g":r.clef=ut.G2;break;case"f":r.clef=ut.F4;break;case"c":i===3?r.clef=ut.C3:r.clef=ut.C4;break;case"percussion":r.clef=ut.Neutral,r.staff.isPercussion=!0;break;case"tab":r.clef=ut.G2,r.staff.showTablature=!0;break;default:r.clef=ut.G2;break}}parseTime(e,r){e.getAttribute("symbol")==="common"&&(r.timeSignatureCommon=!0);let n=!1,i=!1;for(let s of e.childNodes)if(s.nodeType===be.Element){let a=s.innerText;switch(s.localName){case"beats":n||(a.indexOf("+")===-1?r.timeSignatureNumerator=parseInt(a):r.timeSignatureNumerator=4,n=!0);break;case"beat-type":i||(a.indexOf("+")===-1?r.timeSignatureDenominator=parseInt(a):r.timeSignatureDenominator=4,i=!0);break}}}parseKey(e,r){let n=-2147483648,i="";for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"fifths":n=parseInt(s.innerText);break;case"key-step":break;case"key-alter":break;case"mode":i=s.innerText;break}-7<=n&&n<=7?r.keySignature=n:r.keySignature=hn.C,i==="minor"?r.keySignatureType=Ql.Minor:r.keySignatureType=Ql.Major}getOrCreateMasterBar(e){if(e<this._score.masterBars.length)return this._score.masterBars[e];for(let r=this._score.masterBars.length;r<=e;r++){let n=new Qo;if(this._score.masterBars.length>0){let i=this._score.masterBars[this._score.masterBars.length-1];n.timeSignatureDenominator=i.timeSignatureDenominator,n.timeSignatureNumerator=i.timeSignatureNumerator,n.keySignature=i.keySignature,n.keySignatureType=i.keySignatureType}this._score.addMasterBar(n)}return this._score.masterBars[e]}parseIdentification(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"creator":r.getAttribute("type")==="composer"&&(this._score.music=r.innerText);break;case"rights":this._score.copyright&&(this._score.copyright+=`
`),this._score.copyright+=r.innerText;break}}parsePartList(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"part-group":this.parsePartGroup(r);break;case"score-part":this.parseScorePart(r);break}}parsePartGroup(e){switch(e.getAttribute("type")){case"start":this._currentPartGroup=e.getAttribute("number"),this._partGroups.set(this._currentPartGroup,[]);break;case"stop":this._currentPartGroup=null;break}}parseScorePart(e){let r=e.getAttribute("id"),n=new bo;n.ensureStaveCount(1);let i=n.staves[0];i.showStandardNotation=!0,this._trackById.set(r,n),this._score.addTrack(n),this._currentPartGroup&&this._partGroups.get(this._currentPartGroup).push(n);for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"part-name":n.name=s.innerText;break;case"part-abbreviation":n.shortName=s.innerText;break;case"midi-instrument":this.parseMidiInstrument(s,n);break}this.isEmptyTuning(n.staves[0].tuning)&&(n.staves[0].stringTuning.tunings=[])}isEmptyTuning(e){if(!e)return!0;for(let r=0;r<e.length;r++)if(e[r]!==0)return!1;return!0}parseMidiInstrument(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"midi-channel":r.playbackInfo.primaryChannel=parseInt(n.innerText);break;case"midi-program":r.playbackInfo.program=parseInt(n.innerText);break;case"volume":r.playbackInfo.volume=Math.floor(parseInt(n.innerText)/100*16);break;case"pan":r.playbackInfo.balance=Math.max(0,Math.min(16,Math.floor((parseInt(n.innerText)+90)/180*16)));break}}}var zd;(function(t){t[t.SingleTrackMultiChannel=0]="SingleTrackMultiChannel",t[t.MultiTrack=1]="MultiTrack"})(zd||(zd={}));class NO{constructor(){this.events=[]}addEvent(e){if(this.events.length===0||e.tick>=this.events[this.events.length-1].tick)this.events.push(e);else{let r=this.events.length;for(;r>0&&this.events[r-1].tick>e.tick;)r--;this.events.splice(r,0,e)}}writeTo(e){let r=Yn.empty(),n=0;for(let a of this.events){let o=a.tick-n;Wl.writeVariableInt(r,o),a.writeTo(r),n=a.tick}const i=new Uint8Array([77,84,114,107]);e.write(i,0,i.length);let s=r.toArray();ue.writeInt32BE(e,s.length),e.write(s,0,s.length)}}class Wl{constructor(){this.format=zd.SingleTrackMultiChannel,this.division=dt.QuarterTime,this.tracks=[]}get events(){if(this.tracks.length==1)return this.tracks[0].events;{const e=[];for(const r of this.tracks)this.events.push(...r.events);return e.sort((r,n)=>r.tick-n.tick),e}}ensureTracks(e){for(;this.tracks.length<e;)this.tracks.push(new NO)}addEvent(e){this.format==zd.SingleTrackMultiChannel?(this.ensureTracks(1),this.tracks[0].addEvent(e)):(this.ensureTracks(e.track+1),this.tracks[e.track].addEvent(e))}toBinary(){let e=Yn.empty();return this.writeTo(e),e.toArray()}writeTo(e){let r=new Uint8Array([77,84,104,100]);e.write(r,0,r.length),ue.writeInt32BE(e,6),ue.writeInt16BE(e,this.format),ue.writeInt16BE(e,this.tracks.length),ue.writeInt16BE(e,this.division);for(const n of this.tracks)n.writeTo(e)}static writeVariableInt(e,r){let n=new Uint8Array(4),i=0;do n[i++]=r&127,r>>=7;while(r>0);for(;i>0;)i--,i>0?e.writeByte(n[i]|128):e.writeByte(n[i])}}var Dt;(function(t){t[t.TimeSignature=88]="TimeSignature",t[t.NoteOn=128]="NoteOn",t[t.NoteOff=144]="NoteOff",t[t.ControlChange=176]="ControlChange",t[t.ProgramChange=192]="ProgramChange",t[t.TempoChange=81]="TempoChange",t[t.PitchBend=224]="PitchBend",t[t.PerNotePitchBend=96]="PerNotePitchBend",t[t.EndOfTrack=47]="EndOfTrack",t[t.AlphaTabRest=241]="AlphaTabRest",t[t.AlphaTabMetronome=242]="AlphaTabMetronome",t[t.SystemExclusive=240]="SystemExclusive",t[t.SystemExclusive2=247]="SystemExclusive2",t[t.Meta=255]="Meta"})(Dt||(Dt={}));class al{constructor(e,r,n){this.track=e,this.tick=r,this.type=n}get command(){return this.type}get message(){return 0}get data1(){return 0}get data2(){return 0}}class MO extends al{constructor(e,r,n,i,s,a){super(e,r,Dt.TimeSignature),this.track=e,this.tick=r,this.numerator=n,this.denominatorIndex=i,this.midiClocksPerMetronomeClick=s,this.thirtySecondNodesInQuarter=a}writeTo(e){e.writeByte(255),e.writeByte(88),Wl.writeVariableInt(e,4),e.writeByte(this.numerator&255),e.writeByte(this.denominatorIndex&255),e.writeByte(this.midiClocksPerMetronomeClick&255),e.writeByte(this.thirtySecondNodesInQuarter&255)}}class Jo extends al{constructor(e,r,n){super(e,r,n)}writeTo(e){e.writeByte(240);const r=Yn.withCapacity(16);r.writeByte(Jo.AlphaTabManufacturerId),this.writeEventData(r),r.writeByte(247),Wl.writeVariableInt(e,r.length),r.copyTo(e)}}Jo.AlphaTabManufacturerId=125;Jo.MetronomeEventId=0;Jo.RestEventId=1;class EO extends Jo{constructor(e,r,n,i,s){super(e,r,Dt.AlphaTabMetronome),this.isMetronome=!0,this.metronomeNumerator=n,this.metronomeDurationInMilliseconds=s,this.metronomeDurationInTicks=i}writeEventData(e){e.writeByte(Jo.MetronomeEventId),e.writeByte(this.metronomeNumerator),ue.writeInt32LE(e,this.metronomeDurationInTicks),ue.writeInt32LE(e,this.metronomeDurationInMilliseconds)}}class RO extends Jo{constructor(e,r,n){super(e,r,Dt.AlphaTabRest),this.channel=n}writeEventData(e){e.writeByte(Jo.RestEventId),e.writeByte(this.channel)}}class DO extends al{constructor(e,r,n,i,s,a){super(e,r,n),this.channel=i,this.noteKey=s,this.noteVelocity=a}get data1(){return this.noteKey}get data2(){return this.noteVelocity}}class IO extends DO{constructor(e,r,n,i,s){super(e,r,Dt.NoteOn,n,i,s)}writeTo(e){e.writeByte(this.channel&15|144),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class LO extends DO{constructor(e,r,n,i,s){super(e,r,Dt.NoteOff,n,i,s)}writeTo(e){e.writeByte(this.channel&15|128),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class FO extends al{constructor(e,r,n,i,s){super(e,r,Dt.ControlChange),this.channel=n,this.controller=i,this.value=s}writeTo(e){e.writeByte(this.channel&15|176),e.writeByte(this.controller&255),e.writeByte(this.value&255)}get data1(){return this.controller}get data2(){return this.value}}class AO extends al{constructor(e,r,n,i){super(e,r,Dt.ProgramChange),this.channel=n,this.program=i}writeTo(e){e.writeByte(this.channel&15|192),e.writeByte(this.program&255)}get data1(){return this.program}}class OO extends al{constructor(e,r){super(0,e,Dt.TempoChange),this.microSecondsPerQuarterNote=r}writeTo(e){e.writeByte(255),e.writeByte(81),e.writeByte(3),e.writeByte(this.microSecondsPerQuarterNote>>16&255),e.writeByte(this.microSecondsPerQuarterNote>>8&255),e.writeByte(this.microSecondsPerQuarterNote&255)}}class $O extends al{constructor(e,r,n,i){super(e,r,Dt.PitchBend),this.channel=n,this.value=i}writeTo(e){e.writeByte(this.channel&15|224),e.writeByte(this.value&127),e.writeByte(this.value>>7&127)}get data1(){return this.value&127}get data2(){return this.value>>7&127}}class VO extends al{constructor(e,r,n,i,s){super(e,r,Dt.PerNotePitchBend),this.channel=n,this.noteKey=i,this.value=s}writeTo(e){throw new Nn(Bn.General,"Note Bend (Midi2.0) events cannot be exported to SMF1.0")}}class zO extends al{constructor(e,r){super(e,r,Dt.EndOfTrack)}writeTo(e){e.writeByte(255),e.writeByte(47),e.writeByte(0)}}class If{constructor(e,r){this.time=0,this.eventIndex=e,this.event=r,this.isMetronome=this.event.type==Dt.AlphaTabMetronome}static newMetronomeEvent(e,r,n,i,s){const a=new EO(0,r,n,i,s);return new If(e,a)}}class yt{}yt.DefaultChannelCount=17;yt.MetronomeChannel=yt.DefaultChannelCount-1;yt.AudioChannels=2;yt.MinVolume=0;yt.MinProgram=0;yt.MaxProgram=127;yt.MinPlaybackSpeed=.125;yt.MaxPlaybackSpeed=8;yt.MaxPitchWheel=16384;yt.MaxPitchWheel20=4294967296;yt.DefaultPitchWheel=yt.MaxPitchWheel/2;yt.MicroBufferCount=32;yt.MicroBufferSize=64;class xM{constructor(e,r,n){this.bpm=e,this.ticks=r,this.time=n}}class Yw{constructor(){this.tempoChanges=[],this.firstProgramEventPerChannel=new Map,this.firstTimeSignatureNumerator=0,this.firstTimeSignatureDenominator=0,this.synthData=[],this.division=dt.QuarterTime,this.eventIndex=0,this.currentTime=0,this.playbackRange=null,this.playbackRangeStartTime=0,this.playbackRangeEndTime=0,this.endTick=0,this.endTime=0}}class Soe{get isPlayingMain(){return this._currentState==this._mainState}get isPlayingOneTimeMidi(){return this._currentState==this._oneTimeState}get isPlayingCountIn(){return this._currentState==this._countInState}constructor(e){this._oneTimeState=null,this._countInState=null,this.isLooping=!1,this.playbackSpeed=1,this._synthesizer=e,this._mainState=new Yw,this._currentState=this._mainState}get mainPlaybackRange(){return this._mainState.playbackRange}set mainPlaybackRange(e){this._mainState.playbackRange=e,e&&(this._mainState.playbackRangeStartTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.startTick,1),this._mainState.playbackRangeEndTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.endTick,1))}get currentTime(){return this._currentState.currentTime/this.playbackSpeed}get currentEndTick(){return this._currentState.endTick}get currentEndTime(){return this._currentState.endTime/this.playbackSpeed}mainSeek(e){if(e*=this.playbackSpeed,this.mainPlaybackRange&&(e<this._mainState.playbackRangeStartTime?e=this._mainState.playbackRangeStartTime:e>this._mainState.playbackRangeEndTime&&(e=this._mainState.playbackRangeEndTime)),e>this._mainState.currentTime)this.mainSilentProcess(e-this._mainState.currentTime);else if(e<this._mainState.currentTime){if(this._mainState.currentTime=0,this._mainState.eventIndex=0,this.isPlayingMain){let r=this._synthesizer.metronomeVolume;this._synthesizer.noteOffAll(!0),this._synthesizer.resetSoft(),this._synthesizer.setupMetronomeChannel(r)}this.mainSilentProcess(e)}}mainSilentProcess(e){if(e<=0)return;let r=Date.now(),n=this._mainState.currentTime+e;if(this.isPlayingMain)for(;this._mainState.currentTime<n;)this.fillMidiEventQueueLimited(n-this._mainState.currentTime)&&this._synthesizer.synthesizeSilent(yt.MicroBufferSize);this._mainState.currentTime=n;let i=Date.now()-r;ve.debug("Sequencer","Silent seek finished in "+i+"ms (main)")}loadOneTimeMidi(e){this._oneTimeState=this.createStateFromFile(e),this._currentState=this._oneTimeState}loadMidi(e){this._mainState=this.createStateFromFile(e),this._currentState=this._mainState}createStateFromFile(e){const r=new Yw;r.tempoChanges=[],r.division=e.division,r.eventIndex=0,r.currentTime=0,r.synthData=[];let n=120,i=0,s=0,a=0,o=0,l=0,c=0,u=0,d=0;for(let h of e.events){let p=new If(r.synthData.length,h);r.synthData.push(p);let f=h.tick-d;if(i+=f,s+=f*(6e4/(n*e.division)),p.time=s,d=h.tick,o>0)for(;c<i;){let m=If.newMetronomeEvent(r.synthData.length,c,Math.floor(c/o)%a,o,l);r.synthData.push(m),m.time=u,c+=o,u+=l}if(h.type===Dt.TempoChange)n=6e7/h.microSecondsPerQuarterNote,r.tempoChanges.push(new xM(n,i,s)),l=o*(6e4/(n*e.division));else if(h.type===Dt.TimeSignature){let m=h,g=Math.pow(2,m.denominatorIndex);a=m.numerator,o=r.division*(4/g)|0,l=o*(6e4/(n*e.division)),r.firstTimeSignatureDenominator===0&&(r.firstTimeSignatureNumerator=m.numerator,r.firstTimeSignatureDenominator=g)}else if(h.type===Dt.ProgramChange){let m=h.channel;r.firstProgramEventPerChannel.has(m)||r.firstProgramEventPerChannel.set(m,p)}}return r.synthData.sort((h,p)=>h.time>p.time?1:h.time<p.time?-1:h.eventIndex-p.eventIndex),r.endTime=s,r.endTick=i,r}fillMidiEventQueue(){return this.fillMidiEventQueueLimited(-1)}fillMidiEventQueueLimited(e){let r=yt.MicroBufferSize/this._synthesizer.outSampleRate*1e3*this.playbackSpeed,n=this.internalEndTime;e>0&&(e<r&&(r=e),n=Math.min(this.internalEndTime,this._currentState.currentTime+e));let i=!1;for(this._currentState.currentTime+=r;this._currentState.eventIndex<this._currentState.synthData.length&&this._currentState.synthData[this._currentState.eventIndex].time<this._currentState.currentTime&&this._currentState.currentTime<n;)this._synthesizer.dispatchEvent(this._currentState.synthData[this._currentState.eventIndex]),this._currentState.eventIndex++,i=!0;return i}mainTickPositionToTimePosition(e){return this.tickPositionToTimePositionWithSpeed(this._mainState,e,this.playbackSpeed)}mainTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._mainState,e,this.playbackSpeed)}currentTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._currentState,e,this.playbackSpeed)}tickPositionToTimePositionWithSpeed(e,r,n){let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.ticks)break;i=o.time,s=o.bpm,a=o.ticks}return r-=a,i+=r*(6e4/(s*e.division)),i/n}timePositionToTickPositionWithSpeed(e,r,n){r*=n;let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.time)break;i=o.ticks,s=o.bpm,a=o.time}return r-=a,i+=r/(6e4/(s*e.division))|0,i+1}get internalEndTime(){return this.isPlayingMain?this.mainPlaybackRange?this._currentState.playbackRangeEndTime:this._currentState.endTime:this._currentState.endTime}get isFinished(){return this._currentState.currentTime>=this.internalEndTime}stop(){this.isPlayingMain&&this.mainPlaybackRange?this._currentState.currentTime=this.mainPlaybackRange.startTick:this._currentState.currentTime=0,this._currentState.eventIndex=0}resetOneTimeMidi(){this._oneTimeState=null,this._currentState=this._mainState}resetCountIn(){this._countInState=null,this._currentState=this._mainState}startCountIn(){this.generateCountInMidi(),this._currentState=this._countInState,this.stop(),this._synthesizer.noteOffAll(!0)}generateCountInMidi(){const e=new Yw;e.division=this._mainState.division;let r=120,n=4,i=4;this._mainState.eventIndex===0?(r=this._mainState.tempoChanges[0].bpm,n=this._mainState.firstTimeSignatureNumerator,i=this._mainState.firstTimeSignatureDenominator):(r=this._synthesizer.currentTempo,n=this._synthesizer.timeSignatureNumerator,i=this._synthesizer.timeSignatureDenominator),e.tempoChanges.push(new xM(r,0,0));let s=e.division*(4/i)|0,a=s*(6e4/(r*this._mainState.division)),o=0,l=0;for(let c=0;c<n;c++){let u=If.newMetronomeEvent(e.synthData.length,o,c,s,a);e.synthData.push(u),u.time=l,o+=s,l+=a}e.synthData.sort((c,u)=>c.time>u.time?1:c.time<u.time?-1:c.eventIndex-u.eventIndex),e.endTime=l,e.endTick=o,this._countInState=e}}var pn;(function(t){t[t.Paused=0]="Paused",t[t.Playing=1]="Playing"})(pn||(pn={}));class ly{constructor(e,r){this.state=e,this.stopped=r}}class d0{constructor(e,r,n,i,s){this.currentTime=e,this.endTime=r,this.currentTick=n,this.endTick=i,this.isSeek=s}}class us{constructor(){this.id="",this.size=0}static load(e,r,n){if(e&&us.HeaderSize>e.size||n.position+us.HeaderSize>=n.length||(r.id=ue.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122)||(r.size=ue.readUInt32LE(n),e&&us.HeaderSize+r.size>e.size))return!1;e&&(e.size-=us.HeaderSize+r.size);let i=r.id==="RIFF",s=r.id==="LIST";return i&&e?!1:!i&&!s?!0:(r.id=ue.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122?!1:(r.size-=4,!0))}}us.HeaderSize=8;class yT{constructor(){this.phdrs=[],this.pbags=[],this.pmods=[],this.pgens=[],this.insts=[],this.ibags=[],this.imods=[],this.igens=[],this.sHdrs=[],this.fontSamples=new Float32Array(0)}load(e){const r=new us,n=new us;if(!us.load(null,r,e)||r.id!=="sfbk")throw new en("Soundfont is not a valid Soundfont2 file");for(;us.load(r,n,e);){let i=new us;if(n.id==="pdta")for(;us.load(n,i,e);)switch(i.id){case"phdr":for(let s=0,a=i.size/S1.SizeInFile|0;s<a;s++)this.phdrs.push(new S1(e));break;case"pbag":for(let s=0,a=i.size/x1.SizeInFile|0;s<a;s++)this.pbags.push(new x1(e));break;case"pmod":for(let s=0,a=i.size/k1.SizeInFile|0;s<a;s++)this.pmods.push(new k1(e));break;case"pgen":for(let s=0,a=i.size/zi.SizeInFile|0;s<a;s++)this.pgens.push(new zi(e));break;case"inst":for(let s=0,a=i.size/w1.SizeInFile|0;s<a;s++)this.insts.push(new w1(e));break;case"ibag":for(let s=0,a=i.size/y1.SizeInFile|0;s<a;s++)this.ibags.push(new y1(e));break;case"imod":for(let s=0,a=i.size/b1.SizeInFile|0;s<a;s++)this.imods.push(new b1(e));break;case"igen":for(let s=0,a=i.size/v1.SizeInFile|0;s<a;s++)this.igens.push(new v1(e));break;case"shdr":for(let s=0,a=i.size/C1.SizeInFile|0;s<a;s++)this.sHdrs.push(new C1(e));break;default:e.position+=i.size;break}else if(n.id==="sdta")for(;us.load(n,i,e);)switch(i.id){case"smpl":this.fontSamples=yT.loadSamples(i,e);break;default:e.position+=i.size;break}else e.position+=n.size}}static loadSamples(e,r){let n=e.size/2|0;const i=new Float32Array(n);let s=0;const a=new Uint8Array(16*1024);for(;n>0;){let o=Math.min(n,a.length/2|0);r.read(a,0,o*2);for(let l=0;l<o;l++){const c=vt.int32ToInt16(a[l*2+1]<<8|a[l*2]);i[s+l]=c/32767}n-=o,s+=o}return i}}class y1{constructor(e){this.instGenNdx=ue.readUInt16LE(e),this.instModNdx=ue.readUInt16LE(e)}}y1.SizeInFile=4;class b1{constructor(e){this.modSrcOper=ue.readUInt16LE(e),this.modDestOper=ue.readUInt16LE(e),this.modAmount=ue.readInt16LE(e),this.modAmtSrcOper=ue.readUInt16LE(e),this.modTransOper=ue.readUInt16LE(e)}}b1.SizeInFile=10;class v1{constructor(e){this.genOper=ue.readUInt16LE(e),this.genAmount=new WO(e)}}v1.SizeInFile=4;class w1{constructor(e){this.instName=ue.read8BitStringLength(e,20),this.instBagNdx=ue.readUInt16LE(e)}}w1.SizeInFile=22;class x1{constructor(e){this.genNdx=ue.readUInt16LE(e),this.modNdx=ue.readUInt16LE(e)}}x1.SizeInFile=4;class zi{constructor(e){this.genOper=ue.readUInt16LE(e),this.genAmount=new WO(e)}}zi.SizeInFile=4;zi.GenInstrument=41;zi.GenKeyRange=43;zi.GenVelRange=44;zi.GenSampleId=53;class S1{constructor(e){this.presetName=ue.read8BitStringLength(e,20),this.preset=ue.readUInt16LE(e),this.bank=ue.readUInt16LE(e),this.presetBagNdx=ue.readUInt16LE(e),this.library=ue.readUInt32LE(e),this.genre=ue.readUInt32LE(e),this.morphology=ue.readUInt32LE(e)}}S1.SizeInFile=38;class k1{constructor(e){this.modSrcOper=ue.readUInt16LE(e),this.modDestOper=ue.readUInt16LE(e),this.modAmount=ue.readUInt16LE(e),this.modAmtSrcOper=ue.readUInt16LE(e),this.modTransOper=ue.readUInt16LE(e)}}k1.SizeInFile=10;class C1{constructor(e){this.sampleName=ue.read8BitStringLength(e,20),this.start=ue.readUInt32LE(e),this.end=ue.readUInt32LE(e),this.startLoop=ue.readUInt32LE(e),this.endLoop=ue.readUInt32LE(e),this.sampleRate=ue.readUInt32LE(e),this.originalPitch=e.readByte(),this.pitchCorrection=ue.readSInt8(e),this.sampleLink=ue.readUInt16LE(e),this.sampleType=ue.readUInt16LE(e)}}C1.SizeInFile=46;class WO{get shortAmount(){return vt.uint16ToInt16(this.wordAmount)}get lowByteAmount(){return this.wordAmount&255}get highByteAmount(){return(this.wordAmount&65280)>>8&255}constructor(e){this.wordAmount=ue.readUInt16LE(e)}}let koe=class{constructor(){this.presetIndex=0,this.bank=0,this.pitchWheel=0,this.perNotePitchWheel=new Map,this.midiPan=0,this.midiVolume=0,this.midiExpression=0,this.midiRpn=0,this.midiData=0,this.panOffset=0,this.gainDb=0,this.pitchRange=0,this.tuning=0,this.mixVolume=0,this.mute=!1,this.solo=!1}};class Coe{constructor(){this.activeChannel=0,this.channelList=[]}setupVoice(e,r){const n=this.channelList[this.activeChannel],i=r.region.pan+n.panOffset;r.playingChannel=this.activeChannel,r.mixVolume=n.mixVolume,r.noteGainDb+=n.gainDb,r.updatePitchRatio(n,e.outSampleRate),i<=-.5?(r.panFactorLeft=1,r.panFactorRight=0):i>=.5?(r.panFactorLeft=0,r.panFactorRight=1):(r.panFactorLeft=Math.sqrt(.5-i),r.panFactorRight=Math.sqrt(.5+i))}}var Mo;(function(t){t[t.None=0]="None",t[t.Continuous=1]="Continuous",t[t.Sustain=2]="Sustain"})(Mo||(Mo={}));var Dc;(function(t){t[t.StereoInterleaved=0]="StereoInterleaved",t[t.StereoUnweaved=1]="StereoUnweaved",t[t.Mono=2]="Mono"})(Dc||(Dc={}));class Toe{constructor(){this.name="",this.presetNumber=0,this.bank=0,this.regions=null,this.fontSamples=null}}class zr{static timecents2Secs(e){return Math.pow(2,e/1200)}static decibelsToGain(e){return e>-100?Math.pow(10,e*.05):0}static gainToDecibels(e){return e<=1e-5?-100:20*Math.log10(e)}static cents2Hertz(e){return 8.176*Math.pow(2,e/1200)}static clamp(e,r,n){return e<=r?r:e>=n?n:e}}class lf{constructor(e){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0,e&&(this.delay=e.delay,this.attack=e.attack,this.hold=e.hold,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.keynumToHold=e.keynumToHold,this.keynumToDecay=e.keynumToDecay)}clear(){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0}envToSecs(e){this.delay=this.delay<-11950?0:zr.timecents2Secs(this.delay),this.attack=this.attack<-11950?0:zr.timecents2Secs(this.attack),this.release=this.release<-11950?0:zr.timecents2Secs(this.release),this.keynumToHold===0&&(this.hold=this.hold<-11950?0:zr.timecents2Secs(this.hold)),this.keynumToDecay===0&&(this.decay=this.decay<-11950?0:zr.timecents2Secs(this.decay)),this.sustain<0?this.sustain=0:e?this.sustain=zr.decibelsToGain(-this.sustain/10):this.sustain=1-this.sustain/1e3}}var Rt;(function(t){t[t.StartAddrsOffset=0]="StartAddrsOffset",t[t.EndAddrsOffset=1]="EndAddrsOffset",t[t.StartloopAddrsOffset=2]="StartloopAddrsOffset",t[t.EndloopAddrsOffset=3]="EndloopAddrsOffset",t[t.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",t[t.ModLfoToPitch=5]="ModLfoToPitch",t[t.VibLfoToPitch=6]="VibLfoToPitch",t[t.ModEnvToPitch=7]="ModEnvToPitch",t[t.InitialFilterFc=8]="InitialFilterFc",t[t.InitialFilterQ=9]="InitialFilterQ",t[t.ModLfoToFilterFc=10]="ModLfoToFilterFc",t[t.ModEnvToFilterFc=11]="ModEnvToFilterFc",t[t.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",t[t.ModLfoToVolume=13]="ModLfoToVolume",t[t.Unused1=14]="Unused1",t[t.ChorusEffectsSend=15]="ChorusEffectsSend",t[t.ReverbEffectsSend=16]="ReverbEffectsSend",t[t.Pan=17]="Pan",t[t.Unused2=18]="Unused2",t[t.Unused3=19]="Unused3",t[t.Unused4=20]="Unused4",t[t.DelayModLFO=21]="DelayModLFO",t[t.FreqModLFO=22]="FreqModLFO",t[t.DelayVibLFO=23]="DelayVibLFO",t[t.FreqVibLFO=24]="FreqVibLFO",t[t.DelayModEnv=25]="DelayModEnv",t[t.AttackModEnv=26]="AttackModEnv",t[t.HoldModEnv=27]="HoldModEnv",t[t.DecayModEnv=28]="DecayModEnv",t[t.SustainModEnv=29]="SustainModEnv",t[t.ReleaseModEnv=30]="ReleaseModEnv",t[t.KeynumToModEnvHold=31]="KeynumToModEnvHold",t[t.KeynumToModEnvDecay=32]="KeynumToModEnvDecay",t[t.DelayVolEnv=33]="DelayVolEnv",t[t.AttackVolEnv=34]="AttackVolEnv",t[t.HoldVolEnv=35]="HoldVolEnv",t[t.DecayVolEnv=36]="DecayVolEnv",t[t.SustainVolEnv=37]="SustainVolEnv",t[t.ReleaseVolEnv=38]="ReleaseVolEnv",t[t.KeynumToVolEnvHold=39]="KeynumToVolEnvHold",t[t.KeynumToVolEnvDecay=40]="KeynumToVolEnvDecay",t[t.Instrument=41]="Instrument",t[t.Reserved1=42]="Reserved1",t[t.KeyRange=43]="KeyRange",t[t.VelRange=44]="VelRange",t[t.StartloopAddrsCoarseOffset=45]="StartloopAddrsCoarseOffset",t[t.Keynum=46]="Keynum",t[t.Velocity=47]="Velocity",t[t.InitialAttenuation=48]="InitialAttenuation",t[t.Reserved2=49]="Reserved2",t[t.EndloopAddrsCoarseOffset=50]="EndloopAddrsCoarseOffset",t[t.CoarseTune=51]="CoarseTune",t[t.FineTune=52]="FineTune",t[t.SampleID=53]="SampleID",t[t.SampleModes=54]="SampleModes",t[t.Reserved3=55]="Reserved3",t[t.ScaleTuning=56]="ScaleTuning",t[t.ExclusiveClass=57]="ExclusiveClass",t[t.OverridingRootKey=58]="OverridingRootKey",t[t.Unused5=59]="Unused5",t[t.EndOper=60]="EndOper"})(Rt||(Rt={}));class Lu{constructor(e){this.loopMode=Mo.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv=new lf,this.modEnv=new lf,this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,e&&(this.loopMode=e.loopMode,this.sampleRate=e.sampleRate,this.loKey=e.loKey,this.hiKey=e.hiKey,this.loVel=e.loVel,this.hiVel=e.hiVel,this.group=e.group,this.offset=e.offset,this.end=e.end,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.transpose=e.transpose,this.tune=e.tune,this.pitchKeyCenter=e.pitchKeyCenter,this.pitchKeyTrack=e.pitchKeyTrack,this.attenuation=e.attenuation,this.pan=e.pan,this.ampEnv=new lf(e.ampEnv),this.modEnv=new lf(e.modEnv),this.initialFilterQ=e.initialFilterQ,this.initialFilterFc=e.initialFilterFc,this.modEnvToPitch=e.modEnvToPitch,this.modEnvToFilterFc=e.modEnvToFilterFc,this.modLfoToFilterFc=e.modLfoToFilterFc,this.modLfoToVolume=e.modLfoToVolume,this.delayModLFO=e.delayModLFO,this.freqModLFO=e.freqModLFO,this.modLfoToPitch=e.modLfoToPitch,this.delayVibLFO=e.delayVibLFO,this.freqVibLFO=e.freqVibLFO,this.vibLfoToPitch=e.vibLfoToPitch)}clear(e){this.loopMode=Mo.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv.clear(),this.modEnv.clear(),this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,this.hiKey=127,this.hiVel=127,this.pitchKeyCenter=60,!e&&(this.pitchKeyTrack=100,this.pitchKeyCenter=-1,this.ampEnv.delay=-12e3,this.ampEnv.attack=-12e3,this.ampEnv.hold=-12e3,this.ampEnv.decay=-12e3,this.ampEnv.release=-12e3,this.modEnv.delay=-12e3,this.modEnv.attack=-12e3,this.modEnv.hold=-12e3,this.modEnv.decay=-12e3,this.modEnv.release=-12e3,this.initialFilterFc=13500,this.delayModLFO=-12e3,this.delayVibLFO=-12e3)}operator(e,r){switch(e){case Rt.StartAddrsOffset:this.offset+=vt.int16ToUint32(r.shortAmount);break;case Rt.EndAddrsOffset:this.end+=vt.int16ToUint32(r.shortAmount);break;case Rt.StartloopAddrsOffset:this.loopStart+=vt.int16ToUint32(r.shortAmount);break;case Rt.EndloopAddrsOffset:this.loopEnd+=vt.int16ToUint32(r.shortAmount);break;case Rt.StartAddrsCoarseOffset:this.offset+=vt.int16ToUint32(r.shortAmount)*32768;break;case Rt.ModLfoToPitch:this.modLfoToPitch=r.shortAmount;break;case Rt.VibLfoToPitch:this.vibLfoToPitch=r.shortAmount;break;case Rt.ModEnvToPitch:this.modEnvToPitch=r.shortAmount;break;case Rt.InitialFilterFc:this.initialFilterFc=r.shortAmount;break;case Rt.InitialFilterQ:this.initialFilterQ=r.shortAmount;break;case Rt.ModLfoToFilterFc:this.modLfoToFilterFc=r.shortAmount;break;case Rt.ModEnvToFilterFc:this.modEnvToFilterFc=r.shortAmount;break;case Rt.EndAddrsCoarseOffset:this.end+=vt.int16ToUint32(r.shortAmount)*32768;break;case Rt.ModLfoToVolume:this.modLfoToVolume=r.shortAmount;break;case Rt.Pan:this.pan=r.shortAmount/1e3;break;case Rt.DelayModLFO:this.delayModLFO=r.shortAmount;break;case Rt.FreqModLFO:this.freqModLFO=r.shortAmount;break;case Rt.DelayVibLFO:this.delayVibLFO=r.shortAmount;break;case Rt.FreqVibLFO:this.freqVibLFO=r.shortAmount;break;case Rt.DelayModEnv:this.modEnv.delay=r.shortAmount;break;case Rt.AttackModEnv:this.modEnv.attack=r.shortAmount;break;case Rt.HoldModEnv:this.modEnv.hold=r.shortAmount;break;case Rt.DecayModEnv:this.modEnv.decay=r.shortAmount;break;case Rt.SustainModEnv:this.modEnv.sustain=r.shortAmount;break;case Rt.ReleaseModEnv:this.modEnv.release=r.shortAmount;break;case Rt.KeynumToModEnvHold:this.modEnv.keynumToHold=r.shortAmount;break;case Rt.KeynumToModEnvDecay:this.modEnv.keynumToDecay=r.shortAmount;break;case Rt.DelayVolEnv:this.ampEnv.delay=r.shortAmount;break;case Rt.AttackVolEnv:this.ampEnv.attack=r.shortAmount;break;case Rt.HoldVolEnv:this.ampEnv.hold=r.shortAmount;break;case Rt.DecayVolEnv:this.ampEnv.decay=r.shortAmount;break;case Rt.SustainVolEnv:this.ampEnv.sustain=r.shortAmount;break;case Rt.ReleaseVolEnv:this.ampEnv.release=r.shortAmount;break;case Rt.KeynumToVolEnvHold:this.ampEnv.keynumToHold=r.shortAmount;break;case Rt.KeynumToVolEnvDecay:this.ampEnv.keynumToDecay=r.shortAmount;break;case Rt.KeyRange:this.loKey=r.lowByteAmount,this.hiKey=r.highByteAmount;break;case Rt.VelRange:this.loVel=r.lowByteAmount,this.hiVel=r.highByteAmount;break;case Rt.StartloopAddrsCoarseOffset:this.loopStart+=vt.int16ToUint32(r.shortAmount)*32768;break;case Rt.InitialAttenuation:this.attenuation+=r.shortAmount*.1;break;case Rt.EndloopAddrsCoarseOffset:this.loopEnd+=vt.int16ToUint32(r.shortAmount)*32768;break;case Rt.CoarseTune:this.transpose+=r.shortAmount;break;case Rt.FineTune:this.tune+=r.shortAmount;break;case Rt.SampleModes:this.loopMode=(r.wordAmount&3)===3?Mo.Sustain:(r.wordAmount&3)===1?Mo.Continuous:Mo.None;break;case Rt.ScaleTuning:this.pitchKeyTrack=r.shortAmount;break;case Rt.ExclusiveClass:this.group=r.wordAmount;break;case Rt.OverridingRootKey:this.pitchKeyCenter=r.shortAmount;break}}}var ar;(function(t){t[t.None=0]="None",t[t.Delay=1]="Delay",t[t.Attack=2]="Attack",t[t.Hold=3]="Hold",t[t.Decay=4]="Decay",t[t.Sustain=5]="Sustain",t[t.Release=6]="Release",t[t.Done=7]="Done"})(ar||(ar={}));class Cp{constructor(){this.level=0,this.slope=0,this.samplesUntilNextSegment=0,this.segment=ar.None,this.midiVelocity=0,this.parameters=null,this.segmentIsExponential=!1,this.isAmpEnv=!1}nextSegment(e,r){if(this.parameters)for(;;)switch(e){case ar.None:if(this.samplesUntilNextSegment=this.parameters.delay*r|0,this.samplesUntilNextSegment>0){this.segment=ar.Delay,this.segmentIsExponential=!1,this.level=0,this.slope=0;return}e=ar.Delay;break;case ar.Delay:if(this.samplesUntilNextSegment=this.parameters.attack*r|0,this.samplesUntilNextSegment>0){this.isAmpEnv||(this.samplesUntilNextSegment=this.parameters.attack*((145-this.midiVelocity)/144)*r|0),this.segment=ar.Attack,this.segmentIsExponential=!1,this.level=0,this.slope=1/this.samplesUntilNextSegment;return}e=ar.Attack;break;case ar.Attack:if(this.samplesUntilNextSegment=this.parameters.hold*r|0,this.samplesUntilNextSegment>0){this.segment=ar.Hold,this.segmentIsExponential=!1,this.level=1,this.slope=0;return}e=ar.Hold;break;case ar.Hold:if(this.samplesUntilNextSegment=this.parameters.decay*r|0,this.samplesUntilNextSegment>0){if(this.segment=ar.Decay,this.level=1,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0,this.parameters.sustain>0&&(this.samplesUntilNextSegment=Math.log(this.parameters.sustain)/n|0)}else this.slope=-1/this.samplesUntilNextSegment,this.samplesUntilNextSegment=this.parameters.decay*(1-this.parameters.sustain)*r|0,this.segmentIsExponential=!1;return}e=ar.Decay;break;case ar.Decay:this.segment=ar.Sustain,this.level=this.parameters.sustain,this.slope=0,this.samplesUntilNextSegment=2147483647,this.segmentIsExponential=!1;return;case ar.Sustain:if(this.segment=ar.Release,this.samplesUntilNextSegment=(this.parameters.release<=0?Cp.FastReleaseTime:this.parameters.release)*r|0,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0}else this.slope=-this.level/this.samplesUntilNextSegment,this.segmentIsExponential=!1;return;default:this.segment=ar.Done,this.segmentIsExponential=!1,this.level=0,this.slope=0,this.samplesUntilNextSegment=134217727;return}}setup(e,r,n,i,s){this.parameters=new lf(e),this.parameters.keynumToHold>0&&(this.parameters.hold+=this.parameters.keynumToHold*(60-r),this.parameters.hold=this.parameters.hold<-1e4?0:zr.timecents2Secs(this.parameters.hold)),this.parameters.keynumToDecay>0&&(this.parameters.decay+=this.parameters.keynumToDecay*(60-r),this.parameters.decay=this.parameters.decay<-1e4?0:zr.timecents2Secs(this.parameters.decay)),this.midiVelocity=n|0,this.isAmpEnv=i,this.nextSegment(ar.None,s)}process(e,r){this.slope>0&&(this.segmentIsExponential?this.level*=Math.pow(this.slope,e):this.level+=this.slope*e),this.samplesUntilNextSegment-=e,this.samplesUntilNextSegment<=0&&this.nextSegment(this.segment,r)}}Cp.FastReleaseTime=.01;class SM{constructor(){this.samplesUntil=0,this.level=0,this.delta=0}setup(e,r,n){this.samplesUntil=e*n|0,this.delta=4*zr.cents2Hertz(r)/n,this.level=0}process(e){if(this.samplesUntil>e){this.samplesUntil-=e;return}this.level+=this.delta*e,this.level>1?(this.delta=-this.delta,this.level=2-this.level):this.level<-1&&(this.delta=-this.delta,this.level=-2-this.level)}}class kM{constructor(e){this.qInv=0,this.a0=0,this.a1=0,this.b1=0,this.b2=0,this.z1=0,this.z2=0,this.active=!1,e&&(this.qInv=e.qInv,this.a0=e.a0,this.a1=e.a1,this.b1=e.b1,this.b2=e.b2,this.z1=e.z1,this.z2=e.z2,this.active=e.active)}setup(e){let r=Math.tan(Math.PI*e),n=r*r,i=1/(1+r*this.qInv+n);this.a0=n*i,this.a1=2*this.a0,this.b1=2*(n-1)*i,this.b2=(1-r*this.qInv+n)*i}process(e){let r=e*this.a0+this.z1;return this.z1=e*this.a1+this.z2-this.b1*r,this.z2=e*this.a0-this.b2*r,r}}class Tp{constructor(){this.playingPreset=0,this.playingKey=0,this.playingChannel=0,this.region=null,this.pitchInputTimecents=0,this.pitchOutputFactor=0,this.sourceSamplePosition=0,this.noteGainDb=0,this.panFactorLeft=0,this.panFactorRight=0,this.playIndex=0,this.loopStart=0,this.loopEnd=0,this.ampEnv=new Cp,this.modEnv=new Cp,this.lowPass=new kM,this.modLfo=new SM,this.vibLfo=new SM,this.mixVolume=0,this.mute=!1}updatePitchRatio(e,r){let n=e.pitchWheel;e.perNotePitchWheel.has(this.playingKey)&&(n+=e.perNotePitchWheel.get(this.playingKey)-8192);const i=n===8192?e.tuning:n/16383*e.pitchRange*2-e.pitchRange+e.tuning;this.calcPitchRatio(i,r)}calcPitchRatio(e,r){if(!this.region)return;const n=this.playingKey+this.region.transpose+this.region.tune/100;let i=this.region.pitchKeyCenter+(n-this.region.pitchKeyCenter)*(this.region.pitchKeyTrack/100);e!==0&&(i+=e),this.pitchInputTimecents=i*100,this.pitchOutputFactor=this.region.sampleRate/(zr.timecents2Secs(this.region.pitchKeyCenter*100)*r)}end(e){this.region&&(this.ampEnv.nextSegment(ar.Sustain,e),this.modEnv.nextSegment(ar.Sustain,e),this.region.loopMode===Mo.Sustain&&(this.loopEnd=this.loopStart))}endQuick(e){this.ampEnv.parameters.release=0,this.ampEnv.nextSegment(ar.Sustain,e),this.modEnv.parameters.release=0,this.modEnv.nextSegment(ar.Sustain,e)}render(e,r,n,i,s){if(!this.region)return;let a=this.region,l=e.presets[this.playingPreset].fontSamples,c=0,u=e.outputMode===Dc.StereoUnweaved?i:-1,d=a.modEnvToPitch!==0||a.modEnvToFilterFc!==0,h=this.modLfo.delta>0&&(a.modLfoToPitch!==0||a.modLfoToFilterFc!==0||a.modLfoToVolume!==0),p=this.vibLfo.delta>0&&a.vibLfoToPitch!==0,f=this.loopStart<this.loopEnd,m=this.loopStart,g=this.loopEnd,y=a.end,b=g+1,v=this.sourceSamplePosition,k=new kM(this.lowPass),C=a.modLfoToFilterFc!==0||a.modEnvToFilterFc!==0,S=0,_=0,B=0,D=0,E=a.modLfoToPitch!==0||a.modEnvToPitch!==0||a.vibLfoToPitch!==0,R=0,O=0,L=0,I=0,N=a.modLfoToVolume!==0,F=0,A=0;for(C?(S=e.outSampleRate,_=a.initialFilterFc,B=a.modLfoToFilterFc,D=a.modEnvToFilterFc):(S=0,_=0,B=0,D=0),E?(R=0,O=a.modLfoToPitch,L=a.vibLfoToPitch,I=a.modEnvToPitch):(R=zr.timecents2Secs(this.pitchInputTimecents)*this.pitchOutputFactor,O=0,L=0,I=0),N?A=a.modLfoToVolume*.1:(F=zr.decibelsToGain(this.noteGainDb),A=0);i>0;){let M,V,W=0,K=i>Tp.RenderEffectSampleBlock?Tp.RenderEffectSampleBlock:i;if(i-=K,C){let ie=_+this.modLfo.level*B+this.modEnv.level*D;k.active=ie<=13500,k.active&&k.setup(zr.cents2Hertz(ie)/S)}switch(E&&(R=zr.timecents2Secs(this.pitchInputTimecents+(this.modLfo.level*O+this.vibLfo.level*L+this.modEnv.level*I))*this.pitchOutputFactor),N&&(F=zr.decibelsToGain(this.noteGainDb+this.modLfo.level*A)),M=F*this.ampEnv.level,s?M=0:M*=this.mixVolume,this.ampEnv.process(K,e.outSampleRate),d&&this.modEnv.process(K,e.outSampleRate),h&&this.modLfo.process(K),p&&this.vibLfo.process(K),e.outputMode){case Dc.StereoInterleaved:for(V=M*this.panFactorLeft,W=M*this.panFactorRight;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]+=G*V,c++,r[n+c]+=G*W,c++,v+=R,v>=b&&f&&(v-=g-m+1)}break;case Dc.StereoUnweaved:for(V=M*this.panFactorLeft,W=M*this.panFactorRight;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]+=G*V,c++,r[n+u]+=G*W,u++,v+=R,v>=b&&f&&(v-=g-m+1)}break;case Dc.Mono:for(;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]=G*M,c++,v+=R,v>=b&&f&&(v-=g-m+1)}break}if(v>=y||this.ampEnv.segment===ar.Done){this.kill();return}}this.sourceSamplePosition=v,(k.active||C)&&(this.lowPass=k)}kill(){this.playingPreset=-1}}Tp.RenderEffectSampleBlock=yt.MicroBufferSize;class T1{constructor(){this._items=[],this._position=0,this.isEmpty=!0}clear(){this._items=[],this._position=0,this.isEmpty=!0}enqueue(e){this.isEmpty=!1,this._items.push(e)}peek(){return this._items[this._position]}dequeue(){const e=this._items[this._position];return this._position++,this._position>=this._items.length/2&&(this._items=this._items.slice(this._position),this._position=0),this.isEmpty=this._items.length==0,e}toArray(){const e=this._items.slice(this._position);return e.reverse(),e}}var er;(function(t){t[t.BankSelectCoarse=0]="BankSelectCoarse",t[t.ModulationCoarse=1]="ModulationCoarse",t[t.DataEntryCoarse=6]="DataEntryCoarse",t[t.VolumeCoarse=7]="VolumeCoarse",t[t.PanCoarse=10]="PanCoarse",t[t.ExpressionControllerCoarse=11]="ExpressionControllerCoarse",t[t.BankSelectFine=32]="BankSelectFine",t[t.ModulationFine=33]="ModulationFine",t[t.DataEntryFine=38]="DataEntryFine",t[t.VolumeFine=39]="VolumeFine",t[t.PanFine=42]="PanFine",t[t.ExpressionControllerFine=43]="ExpressionControllerFine",t[t.HoldPedal=64]="HoldPedal",t[t.LegatoPedal=68]="LegatoPedal",t[t.NonRegisteredParameterFine=98]="NonRegisteredParameterFine",t[t.NonRegisteredParameterCourse=99]="NonRegisteredParameterCourse",t[t.RegisteredParameterFine=100]="RegisteredParameterFine",t[t.RegisteredParameterCourse=101]="RegisteredParameterCourse",t[t.AllSoundOff=120]="AllSoundOff",t[t.ResetControllers=121]="ResetControllers",t[t.AllNotesOff=123]="AllNotesOff"})(er||(er={}));class _oe{constructor(e){this._midiEventQueue=new T1,this._mutedChannels=new Map,this._soloChannels=new Map,this._isAnySolo=!1,this._transpositionPitches=new Map,this.currentTempo=0,this.timeSignatureNumerator=0,this.timeSignatureDenominator=0,this.presets=null,this._voices=[],this._channels=null,this._voicePlayIndex=0,this.outputMode=Dc.StereoInterleaved,this.outSampleRate=0,this.globalGainDb=0,this.outSampleRate=e}synthesize(e,r,n){return this.fillWorkingBuffer(e,r,n)}synthesizeSilent(e){this.fillWorkingBuffer(null,0,e)}channelGetMixVolume(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].mixVolume:1}channelSetMixVolume(e,r){let n=this.channelInit(e);for(let i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(i.mixVolume=r);n.mixVolume=r}channelSetMute(e,r){r?this._mutedChannels.set(e,!0):this._mutedChannels.delete(e)}channelSetSolo(e,r){r?this._soloChannels.set(e,!0):this._soloChannels.delete(e),this._isAnySolo=this._soloChannels.size>0}resetChannelStates(){this._mutedChannels=new Map,this._soloChannels=new Map,this.applyTranspositionPitches(new Map),this._isAnySolo=!1}applyTranspositionPitches(e){const r=this._transpositionPitches;for(const n of this._voices)if(n.playingChannel>=0&&n.playingChannel!==9){let i=0;r.has(n.playingChannel)&&(i-=r.get(n.playingChannel)),e.has(n.playingChannel)&&(i+=e.get(n.playingChannel)),n.playingKey+=i,this._channels&&n.updatePitchRatio(this._channels.channelList[n.playingChannel],this.outSampleRate)}this._transpositionPitches=e}dispatchEvent(e){this._midiEventQueue.enqueue(e)}fillWorkingBuffer(e,r,n){const i=this._isAnySolo,s=[];for(;!this._midiEventQueue.isEmpty;){let a=this._midiEventQueue.dequeue();a.isMetronome&&this.metronomeVolume>0?(this.channelNoteOff(yt.MetronomeChannel,33),this.channelNoteOn(yt.MetronomeChannel,33,95/127)):a.event&&this.processMidiMessage(a.event),s.push(a)}for(const a of this._voices)if(a.playingPreset!==-1){const o=a.playingChannel,l=this._mutedChannels.has(o)||i&&o!=yt.MetronomeChannel&&!this._soloChannels.has(o);e?a.render(this,e,r,n,l):a.kill()}return s}processMidiMessage(e){switch(ve.debug("MIdi","Processing Midi message "+Dt[e.type]+"/"+e.tick),e.type){case Dt.TimeSignature:const n=e;this.timeSignatureNumerator=n.numerator,this.timeSignatureDenominator=Math.pow(2,n.denominatorIndex);break;case Dt.NoteOn:const i=e;this.channelNoteOn(i.channel,i.noteKey,i.noteVelocity/127);break;case Dt.NoteOff:const s=e;this.channelNoteOff(s.channel,s.noteKey);break;case Dt.ControlChange:const a=e;this.channelMidiControl(a.channel,a.controller,a.value);break;case Dt.ProgramChange:const o=e;this.channelSetPresetNumber(o.channel,o.program,o.channel===9);break;case Dt.TempoChange:const l=e;this.currentTempo=6e7/l.microSecondsPerQuarterNote;break;case Dt.PitchBend:const c=e;this.channelSetPitchWheel(c.channel,c.value);break;case Dt.PerNotePitchBend:const u=e;let d=u.value;d=d*yt.MaxPitchWheel/yt.MaxPitchWheel20,this.channelSetPerNotePitchWheel(u.channel,u.noteKey,d);break}}get metronomeVolume(){return this.channelGetMixVolume(yt.MetronomeChannel)}set metronomeVolume(e){this.setupMetronomeChannel(e)}setupMetronomeChannel(e){this.channelSetMixVolume(yt.MetronomeChannel,e),e>0&&(this.channelSetVolume(yt.MetronomeChannel,1),this.channelSetPresetNumber(yt.MetronomeChannel,0,!0))}get masterVolume(){return zr.decibelsToGain(this.globalGainDb)}set masterVolume(e){var r=zr.gainToDecibels(e);const n=r-this.globalGainDb;if(n!==0){for(const i of this._voices)i.playingPreset!==-1&&(i.noteGainDb+=n);this.globalGainDb=r}}resetSoft(){for(const e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<ar.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);if(this._channels)for(const e of this._channels.channelList)e.presetIndex=0,e.bank=0,e.pitchWheel=8192,e.midiPan=8192,e.perNotePitchWheel.clear(),e.midiVolume=16383,e.midiExpression=16383,e.midiRpn=65535,e.midiData=0,e.panOffset=0,e.gainDb=0,e.pitchRange=2,e.tuning=0}get presetCount(){var e;return((e=this.presets)==null?void 0:e.length)??0}reset(){for(let e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<ar.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);this._channels=null}setOutput(e,r,n){this.outputMode=e,this.outSampleRate=r>=1?r:44100,this.globalGainDb=n}noteOn(e,r,n){if(!this.presets)return;const i=n*127|0;if(e<0||e>=this.presets.length)return;if(n<=0){this.noteOff(e,r);return}const s=this._voicePlayIndex++;for(const a of this.presets[e].regions){if(r<a.loKey||r>a.hiKey||i<a.loVel||i>a.hiVel)continue;let o=null;if(a.group!==0)for(const u of this._voices)u.playingPreset===e&&u.region.group===a.group?u.endQuick(this.outSampleRate):u.playingPreset===-1&&!o&&(o=u);else for(let u of this._voices)u.playingPreset===-1&&(o=u);if(!o){for(let u=0;u<4;u++){const d=new Tp;d.playingPreset=-1,this._voices.push(d)}o=this._voices[this._voices.length-4]}o.region=a,o.playingPreset=e,o.playingKey=r,o.playIndex=s,o.noteGainDb=this.globalGainDb-a.attenuation-zr.gainToDecibels(1/n),this._channels?this._channels.setupVoice(this,o):(o.calcPitchRatio(0,this.outSampleRate),o.panFactorLeft=Math.sqrt(.5-a.pan),o.panFactorRight=Math.sqrt(.5+a.pan)),o.sourceSamplePosition=a.offset;const l=a.loopMode!==Mo.None&&a.loopStart<a.loopEnd;o.loopStart=l?a.loopStart:0,o.loopEnd=l?a.loopEnd:0,o.ampEnv.setup(a.ampEnv,r,i,!0,this.outSampleRate),o.modEnv.setup(a.modEnv,r,i,!1,this.outSampleRate);const c=a.initialFilterQ/10;o.lowPass.qInv=1/Math.pow(10,c/20),o.lowPass.z1=0,o.lowPass.z2=0,o.lowPass.active=a.initialFilterFc<=13500,o.lowPass.active&&o.lowPass.setup(zr.cents2Hertz(a.initialFilterFc)/this.outSampleRate),o.modLfo.setup(a.delayModLFO,a.freqModLFO,this.outSampleRate),o.vibLfo.setup(a.delayVibLFO,a.freqVibLFO,this.outSampleRate)}}bankNoteOn(e,r,n,i){let s=this.getPresetIndex(e,r);return s===-1?!1:(this.noteOn(s,n,i),!0)}noteOff(e,r){let n=null,i=null,s=[];for(let a of this._voices)a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=ar.Release||(!n||a.playIndex<n.playIndex?(n=a,i=a,s.push(a)):a.playIndex===n.playIndex&&(i=a,s.push(a)));if(n)for(const a of s)a!==n&&a!==i&&(a.playIndex!==n.playIndex||a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=ar.Release)||a.end(this.outSampleRate)}bankNoteOff(e,r,n){const i=this.getPresetIndex(e,r);return i===-1?!1:(this.noteOff(i,n),!0)}noteOffAll(e){for(const r of this._voices)r.playingPreset!==-1&&r.ampEnv.segment<ar.Release&&(e?r.endQuick(this.outSampleRate):r.end(this.outSampleRate))}get activeVoiceCount(){let e=0;for(const r of this._voices)r.playingPreset!==-1&&e++;return e}channelInit(e){if(this._channels&&e<this._channels.channelList.length)return this._channels.channelList[e];this._channels||(this._channels=new Coe);for(let r=this._channels.channelList.length;r<=e;r++){let n=new koe;n.presetIndex=0,n.bank=0,n.pitchWheel=8192,n.midiPan=8192,n.midiVolume=16383,n.midiExpression=16383,n.midiRpn=65535,n.midiData=0,n.panOffset=0,n.gainDb=0,n.pitchRange=2,n.tuning=0,n.mixVolume=1,this._channels.channelList.push(n)}return this._channels.channelList[e]}getPresetIndex(e,r){if(!this.presets)return-1;for(let n=this.presets.length-1;n>=0;n--){let i=this.presets[n];if(i.presetNumber===r&&i.bank===e)return n}return-1}getPresetName(e){return this.presets?e<0||e>=this.presets.length?null:this.presets[e].name:null}bankGetPresetName(e,r){return this.getPresetName(this.getPresetIndex(e,r))}channelNoteOn(e,r,n){!this._channels||e>this._channels.channelList.length||(this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e)),this._channels.activeChannel=e,this.noteOn(this._channels.channelList[e].presetIndex,r,n))}channelNoteOff(e,r){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const n=[];let i=null,s=null;for(const o of this._voices)o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=ar.Release||(!i||o.playIndex<i.playIndex?(i=o,s=o,n.push(o)):o.playIndex===i.playIndex&&(s=o,n.push(o)));if(this.channelInit(e).perNotePitchWheel.delete(r),!!i)for(const o of n)o!==i&&o!==s&&(o.playIndex!==i.playIndex||o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=ar.Release)||o.end(this.outSampleRate)}channelNoteOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(const n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&n.ampEnv.segment<ar.Release&&n.end(this.outSampleRate)}channelSoundsOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(let n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&(n.ampEnv.segment<ar.Release||n.ampEnv.parameters.release===0)&&n.endQuick(this.outSampleRate)}channelSetPresetIndex(e,r){this.channelInit(e).presetIndex=vt.int32ToUint16(r)}channelSetPresetNumber(e,r,n=!1){const i=this.channelInit(e);let s=0;return n?(s=this.getPresetIndex(128|i.bank&32767,r),s===-1&&(s=this.getPresetIndex(128,r)),s===-1&&(s=this.getPresetIndex(128,0)),s===-1&&(s=this.getPresetIndex(i.bank&2047,r))):s=this.getPresetIndex(i.bank&2047,r),i.presetIndex=s,s!==-1}channelSetBank(e,r){this.channelInit(e).bank=vt.int32ToUint16(r)}channelSetBankPreset(e,r,n){const i=this.channelInit(e),s=this.getPresetIndex(r,n);return s===-1?!1:(i.presetIndex=vt.int32ToUint16(s),i.bank=vt.int32ToUint16(r),!0)}channelSetPan(e,r){for(const n of this._voices)if(n.playingChannel===e&&n.playingPreset!==-1){let i=n.region.pan+r-.5;i<=-.5?(n.panFactorLeft=1,n.panFactorRight=0):i>=.5?(n.panFactorLeft=0,n.panFactorRight=1):(n.panFactorLeft=Math.sqrt(.5-i),n.panFactorRight=Math.sqrt(.5+i))}this.channelInit(e).panOffset=r-.5}channelSetVolume(e,r){const n=this.channelInit(e),i=zr.gainToDecibels(r),s=i-n.gainDb;if(s!==0){for(const a of this._voices)a.playingChannel===e&&a.playingPreset!==-1&&(a.noteGainDb+=s);n.gainDb=i}}channelSetPitchWheel(e,r){const n=this.channelInit(e);n.pitchWheel!==r&&(n.pitchWheel=vt.int32ToUint16(r),this.channelApplyPitch(e,n))}channelSetPerNotePitchWheel(e,r,n){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const i=this.channelInit(e);i.perNotePitchWheel.has(r)&&i.perNotePitchWheel.get(r)===n||(i.perNotePitchWheel.set(r,n),this.channelApplyPitch(e,i,r))}channelApplyPitch(e,r,n=-1){for(const i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(n==-1||i.playingKey===n)&&i.updatePitchRatio(r,this.outSampleRate)}channelSetPitchRange(e,r){const n=this.channelInit(e);n.pitchRange!==r&&(n.pitchRange=r,n.pitchWheel!==8192&&this.channelApplyPitch(e,n))}channelSetTuning(e,r){const n=this.channelInit(e);n.tuning!==r&&(n.tuning=r,this.channelApplyPitch(e,n))}channelMidiControl(e,r,n){let i=this.channelInit(e);switch(r){case er.DataEntryFine:i.midiData=vt.int32ToUint16(i.midiData&16256|n),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case er.VolumeCoarse:i.midiVolume=vt.int32ToUint16(i.midiVolume&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case er.VolumeFine:i.midiVolume=vt.int32ToUint16(i.midiVolume&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case er.ExpressionControllerCoarse:i.midiExpression=vt.int32ToUint16(i.midiExpression&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case er.ExpressionControllerFine:i.midiExpression=vt.int32ToUint16(i.midiExpression&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case er.PanCoarse:i.midiPan=vt.int32ToUint16(i.midiPan&127|n<<7),this.channelSetPan(e,i.midiPan/16383);return;case er.PanFine:i.midiPan=vt.int32ToUint16(i.midiPan&16256|n),this.channelSetPan(e,i.midiPan/16383);return;case er.DataEntryCoarse:i.midiData=vt.int32ToUint16(i.midiData&127|n<<7),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&r===er.DataEntryCoarse&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case er.BankSelectCoarse:i.bank=vt.int32ToUint16(32768|n);return;case er.BankSelectFine:i.bank=vt.int32ToUint16((i.bank&32768?(i.bank&127)<<7:0)|n);return;case er.RegisteredParameterCourse:i.midiRpn=vt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&127|n<<7);return;case er.RegisteredParameterFine:i.midiRpn=vt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&16256|n);return;case er.NonRegisteredParameterFine:i.midiRpn=65535;return;case er.NonRegisteredParameterCourse:i.midiRpn=65535;return;case er.AllSoundOff:this.channelSoundsOffAll(e);return;case er.AllNotesOff:this.channelNoteOffAll(e);return;case er.ResetControllers:i.midiVolume=16383,i.midiExpression=16383,i.midiPan=8192,i.bank=0,this.channelSetVolume(e,1),this.channelSetPan(e,.5),this.channelSetPitchRange(e,2);return}}channelGetPresetIndex(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].presetIndex:0}channelGetPresetBank(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].bank&32767:0}channelGetPan(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].panOffset-.5:.5}channelGetVolume(e){return this._channels&&e<this._channels.channelList.length?zr.decibelsToGain(this._channels.channelList[e].gainDb):1}channelGetPitchWheel(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchWheel:8192}channelGetPitchRange(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchRange:2}channelGetTuning(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].tuning:0}resetPresets(){this.presets=[]}loadPresets(e,r){const n=[];for(let i=0;i<e.phdrs.length-1;i++){const s=e.phdrs[i];let a=0;const o=new Toe;n.push(o),o.name=s.presetName,o.bank=s.bank,o.presetNumber=s.preset,o.fontSamples=e.fontSamples;let l=0;for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u];let h=0,p=127,f=0,m=127;for(let g=d.genNdx;g<e.pbags[u+1].genNdx;g++){let y=e.pgens[g];if(y.genOper===zi.GenKeyRange){h=y.genAmount.lowByteAmount,p=y.genAmount.highByteAmount;continue}if(y.genOper===zi.GenVelRange){f=y.genAmount.lowByteAmount,m=y.genAmount.highByteAmount;continue}if(y.genOper!==zi.GenInstrument||y.genAmount.wordAmount>=e.insts.length)continue;let b=e.insts[y.genAmount.wordAmount];for(let v=b.instBagNdx;v<e.insts[y.genAmount.wordAmount+1].instBagNdx;v++){let k=e.ibags[v],C=0,S=127,_=0,B=127;for(let D=k.instGenNdx;D<e.ibags[v+1].instGenNdx;D++){let E=e.igens[D];if(E.genOper===zi.GenKeyRange){C=E.genAmount.lowByteAmount,S=E.genAmount.highByteAmount;continue}if(E.genOper===zi.GenVelRange){_=E.genAmount.lowByteAmount,B=E.genAmount.highByteAmount;continue}E.genOper===53&&S>=h&&C<=p&&B>=f&&_<=m&&l++}}}}o.regions=new Array(l);let c=new Lu;c.clear(!0);for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u],h=new Lu(c);let p=!1;for(let f=d.genNdx;f<e.pbags[u+1].genNdx;f++){const m=e.pgens[f];if(m.genOper===zi.GenInstrument){let g=m.genAmount.wordAmount;if(g>=e.insts.length)continue;let y=new Lu;y.clear(!1);let b=e.insts[g];for(let v=b.instBagNdx;v<e.insts[g+1].instBagNdx;v++){let k=e.ibags[v],C=new Lu(y),S=!1;for(let _=k.instGenNdx;_<e.ibags[v+1].instGenNdx;_++){let B=e.igens[_];if(B.genOper===zi.GenSampleId){if(C.hiKey<h.loKey||C.loKey>h.hiKey||C.hiVel<h.loVel||C.loVel>h.hiVel)continue;h.loKey>C.loKey&&(C.loKey=h.loKey),h.hiKey<C.hiKey&&(C.hiKey=h.hiKey),h.loVel>C.loVel&&(C.loVel=h.loVel),h.hiVel<C.hiVel&&(C.hiVel=h.hiVel),C.offset+=h.offset,C.end+=h.end,C.loopStart+=h.loopStart,C.loopEnd+=h.loopEnd,C.transpose+=h.transpose,C.tune+=h.tune,C.pitchKeyTrack+=h.pitchKeyTrack,C.attenuation+=h.attenuation,C.pan+=h.pan,C.ampEnv.delay+=h.ampEnv.delay,C.ampEnv.attack+=h.ampEnv.attack,C.ampEnv.hold+=h.ampEnv.hold,C.ampEnv.decay+=h.ampEnv.decay,C.ampEnv.sustain+=h.ampEnv.sustain,C.ampEnv.release+=h.ampEnv.release,C.modEnv.delay+=h.modEnv.delay,C.modEnv.attack+=h.modEnv.attack,C.modEnv.hold+=h.modEnv.hold,C.modEnv.decay+=h.modEnv.decay,C.modEnv.sustain+=h.modEnv.sustain,C.modEnv.release+=h.modEnv.release,C.initialFilterQ+=h.initialFilterQ,C.initialFilterFc+=h.initialFilterFc,C.modEnvToPitch+=h.modEnvToPitch,C.modEnvToFilterFc+=h.modEnvToFilterFc,C.delayModLFO+=h.delayModLFO,C.freqModLFO+=h.freqModLFO,C.modLfoToPitch+=h.modLfoToPitch,C.modLfoToFilterFc+=h.modLfoToFilterFc,C.modLfoToVolume+=h.modLfoToVolume,C.delayVibLFO+=h.delayVibLFO,C.freqVibLFO+=h.freqVibLFO,C.vibLfoToPitch+=h.vibLfoToPitch,C.ampEnv.envToSecs(!0),C.modEnv.envToSecs(!1),C.delayModLFO=C.delayModLFO<-11950?0:zr.timecents2Secs(C.delayModLFO),C.delayVibLFO=C.delayVibLFO<-11950?0:zr.timecents2Secs(C.delayVibLFO),C.pan<-.5?C.pan=-.5:C.pan>.5&&(C.pan=.5),(C.initialFilterQ<1500||C.initialFilterQ>13500)&&(C.initialFilterQ=0);let D=e.sHdrs[B.genAmount.wordAmount];C.offset+=D.start,C.end+=D.end,C.loopStart+=D.startLoop,C.loopEnd+=D.endLoop,D.endLoop>0&&(C.loopEnd-=1),C.pitchKeyCenter===-1&&(C.pitchKeyCenter=D.originalPitch),C.tune+=D.pitchCorrection,C.sampleRate=D.sampleRate,C.end!==0&&C.end<o.fontSamples.length?C.end++:C.end=o.fontSamples.length,o.regions[a]=new Lu(C),a++,S=!0}else C.operator(B.genOper,B.genAmount)}k===e.ibags[b.instBagNdx]&&!S&&(y=new Lu(C))}p=!0}else h.operator(m.genOper,m.genAmount)}d===e.pbags[s.presetBagNdx]&&!p&&(c=h)}}if(!r||!this.presets)this.presets=n;else for(const i of n)this.presets.push(i)}}class wn{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(){for(const e of this._listeners)e()}}class Lt{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(e){for(const r of this._listeners)r(e)}}class HO{constructor(e){this.events=e}}class UO{constructor(e){this.playbackRange=e}}class Poe{get isReadyForPlayback(){return this.isReady&&this._isSoundFontLoaded&&this._isMidiLoaded}get logLevel(){return ve.logLevel}set logLevel(e){ve.logLevel=e}get masterVolume(){return this._synthesizer.masterVolume}set masterVolume(e){e=Math.max(e,yt.MinVolume),this._synthesizer.masterVolume=e}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,yt.MinVolume),this._metronomeVolume=e,this._synthesizer.metronomeVolume=e}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,yt.MinVolume),this._countInVolume=e}get midiEventsPlayedFilter(){return Array.from(this._midiEventsPlayedFilter)}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=new Set(e)}get playbackSpeed(){return this._sequencer.playbackSpeed}set playbackSpeed(e){e=zr.clamp(e,yt.MinPlaybackSpeed,yt.MaxPlaybackSpeed);let r=this._sequencer.playbackSpeed;this._sequencer.playbackSpeed=e,this.timePosition=this.timePosition*(r/e)}get tickPosition(){return this._tickPosition}set tickPosition(e){this.timePosition=this._sequencer.mainTickPositionToTimePosition(e)}get timePosition(){return this._timePosition}set timePosition(e){ve.debug("AlphaSynth",`Seeking to position ${e}ms (main)`),this._sequencer.mainSeek(e),this.updateTimePosition(e,!0),this._sequencer.isPlayingMain&&(this._notPlayedSamples=0,this.output.resetSamples())}get playbackRange(){return this._sequencer.mainPlaybackRange}set playbackRange(e){this._sequencer.mainPlaybackRange=e,e&&(this.tickPosition=e.startTick),this.playbackRangeChanged.trigger(new UO(e))}get isLooping(){return this._sequencer.isLooping}set isLooping(e){this._sequencer.isLooping=e}destroy(){ve.debug("AlphaSynth","Destroying player"),this.stop(),this.output.destroy()}constructor(e,r){this._isSoundFontLoaded=!1,this._isMidiLoaded=!1,this._tickPosition=0,this._timePosition=0,this._metronomeVolume=0,this._countInVolume=0,this._playedEventsQueue=new T1,this._midiEventsPlayedFilter=new Set,this._notPlayedSamples=0,this.isReady=!1,this.state=pn.Paused,this.ready=new wn,this.readyForPlayback=new wn,this.finished=new wn,this.soundFontLoaded=new wn,this.soundFontLoadFailed=new Lt,this.midiLoaded=new Lt,this.midiLoadFailed=new Lt,this.stateChanged=new Lt,this.positionChanged=new Lt,this.midiEventsPlayed=new Lt,this.playbackRangeChanged=new Lt,ve.debug("AlphaSynth","Initializing player"),this.state=pn.Paused,ve.debug("AlphaSynth","Creating output"),this.output=e,ve.debug("AlphaSynth","Creating synthesizer"),this._synthesizer=new _oe(this.output.sampleRate),this._sequencer=new Soe(this._synthesizer),ve.debug("AlphaSynth","Opening output"),this.output.ready.on(()=>{this.isReady=!0,this.ready.trigger(),this.checkReadyForPlayback()}),this.output.sampleRequest.on(()=>{if(this.state==pn.Playing&&!this._sequencer.isFinished){let n=new Float32Array(yt.MicroBufferSize*yt.MicroBufferCount*yt.AudioChannels),i=0;for(let s=0;s<yt.MicroBufferCount;s++){this._sequencer.fillMidiEventQueue();const a=this._synthesizer.synthesize(n,i,yt.MicroBufferSize);i+=yt.MicroBufferSize*yt.AudioChannels;for(const o of a)this._midiEventsPlayedFilter.has(o.event.type)&&this._playedEventsQueue.enqueue(o);if(this._sequencer.isFinished)break}i<n.length&&(n=n.subarray(0,i)),this._notPlayedSamples+=n.length,this.output.addSamples(n)}else{let n=new Float32Array(0);this.output.addSamples(n)}}),this.output.samplesPlayed.on(this.onSamplesPlayed.bind(this)),this.output.open(r)}play(){return this.state!==pn.Paused||!this._isMidiLoaded?!1:(this.output.activate(),this.playInternal(),this._countInVolume>0&&(ve.debug("AlphaSynth","Starting countin"),this._sequencer.startCountIn(),this._synthesizer.setupMetronomeChannel(this._countInVolume),this.updateTimePosition(0,!0)),this.output.play(),!0)}playInternal(){this._sequencer.isPlayingOneTimeMidi&&(ve.debug("AlphaSynth","Cancelling one time midi"),this.stopOneTimeMidi()),ve.debug("AlphaSynth","Starting playback"),this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.state=pn.Playing,this.stateChanged.trigger(new ly(this.state,!1))}pause(){this.state===pn.Paused||!this._isMidiLoaded||(ve.debug("AlphaSynth","Pausing playback"),this.state=pn.Paused,this.stateChanged.trigger(new ly(this.state,!1)),this.output.pause(),this._synthesizer.noteOffAll(!1))}playPause(){this.state!==pn.Paused||!this._isMidiLoaded?this.pause():this.play()}stop(){this._isMidiLoaded&&(ve.debug("AlphaSynth","Stopping playback"),this.state=pn.Paused,this.output.pause(),this._notPlayedSamples=0,this._sequencer.stop(),this._synthesizer.noteOffAll(!0),this.tickPosition=this._sequencer.mainPlaybackRange?this._sequencer.mainPlaybackRange.startTick:0,this.stateChanged.trigger(new ly(this.state,!0)))}playOneTimeMidiFile(e){this._sequencer.isPlayingOneTimeMidi?this.stopOneTimeMidi():this.pause(),this._sequencer.loadOneTimeMidi(e),this._synthesizer.noteOffAll(!0),this.updateTimePosition(0,!0),this._notPlayedSamples=0,this.output.resetSamples(),this.output.play()}resetSoundFonts(){this.stop(),this._synthesizer.resetPresets(),this._isSoundFontLoaded=!1,this.soundFontLoaded.trigger()}loadSoundFont(e,r){this.pause();let n=Yn.fromBuffer(e);try{ve.debug("AlphaSynth","Loading soundfont from bytes");let i=new yT;i.load(n),this._synthesizer.loadPresets(i,r),this._isSoundFontLoaded=!0,this.soundFontLoaded.trigger(),ve.debug("AlphaSynth","soundFont successfully loaded"),this.checkReadyForPlayback()}catch(i){ve.error("AlphaSynth","Could not load soundfont from bytes "+i),this.soundFontLoadFailed.trigger(i)}}checkReadyForPlayback(){this.isReadyForPlayback&&(this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.readyForPlayback.trigger())}loadMidiFile(e){this.stop();try{ve.debug("AlphaSynth","Loading midi from model"),this._sequencer.loadMidi(e),this._isMidiLoaded=!0,this.midiLoaded.trigger(new d0(0,this._sequencer.currentEndTime,0,this._sequencer.currentEndTick,!1)),ve.debug("AlphaSynth","Midi successfully loaded"),this.checkReadyForPlayback(),this.tickPosition=0}catch(r){ve.error("AlphaSynth","Could not load midi from model "+r),this.midiLoadFailed.trigger(r)}}applyTranspositionPitches(e){this._synthesizer.applyTranspositionPitches(e)}setChannelMute(e,r){this._synthesizer.channelSetMute(e,r)}resetChannelStates(){this._synthesizer.resetChannelStates()}setChannelSolo(e,r){this._synthesizer.channelSetSolo(e,r)}setChannelVolume(e,r){r=Math.max(r,yt.MinVolume),this._synthesizer.channelSetMixVolume(e,r)}onSamplesPlayed(e){if(e===0)return;let r=e/this._synthesizer.outSampleRate*1e3;this._notPlayedSamples-=e*yt.AudioChannels,this.updateTimePosition(this._timePosition+r,!1),this.checkForFinish()}checkForFinish(){let e=0,r=0;this.playbackRange&&this._sequencer.isPlayingMain?(e=this.playbackRange.startTick,r=this.playbackRange.endTick):r=this._sequencer.currentEndTick,this._tickPosition>=r&&this._notPlayedSamples<=0&&(this._notPlayedSamples=0,this._sequencer.isPlayingCountIn?(ve.debug("AlphaSynth","Finished playback (count-in)"),this._sequencer.resetCountIn(),this.timePosition=this._sequencer.currentTime,this.playInternal(),this.output.resetSamples()):this._sequencer.isPlayingOneTimeMidi?(ve.debug("AlphaSynth","Finished playback (one time)"),this.output.resetSamples(),this.state=pn.Paused,this.stopOneTimeMidi()):(ve.debug("AlphaSynth","Finished playback (main)"),this.finished.trigger(),this.isLooping?this.tickPosition=e:this.stop()))}stopOneTimeMidi(){this.output.pause(),this._synthesizer.noteOffAll(!0),this._sequencer.resetOneTimeMidi(),this.timePosition=this._sequencer.currentTime}updateTimePosition(e,r){const n=e;this._timePosition=n;const i=this._sequencer.currentTimePositionToTickPosition(n);this._tickPosition=i;const s=this._sequencer.currentEndTime,a=this._sequencer.currentEndTick,o=this._sequencer.isPlayingMain?"main":this._sequencer.isPlayingCountIn?"count-in":"one-time";if(ve.debug("AlphaSynth",`Position changed: (time: ${n}/${s}, tick: ${i}/${a}, Active Voices: ${this._synthesizer.activeVoiceCount} (${o})`),this._sequencer.isPlayingMain&&this.positionChanged.trigger(new d0(n,s,i,a,r)),r)this._playedEventsQueue.clear();else{const l=new T1;for(;!this._playedEventsQueue.isEmpty&&this._playedEventsQueue.peek().time<n;){const c=this._playedEventsQueue.dequeue();l.enqueue(c.event)}l.isEmpty||this.midiEventsPlayed.trigger(new HO(l.toArray()))}}}class Re{static parseEnum(e,r){switch(typeof e){case"string":const n=parseInt(e);return isNaN(n)?r[Object.keys(r).find(i=>i.toLowerCase()===e.toLowerCase())]:n;case"number":return e;case"undefined":case"object":return null}throw new Nn(Bn.Format,`Could not parse enum value '${e}'`)}static forEach(e,r){if(e instanceof Map)e.forEach(r);else if(typeof e=="object")for(const n in e)r(e[n],n)}static getValue(e,r){return e instanceof Map?e.get(r):typeof e=="object"?e[r]:null}}class Boe{constructor(e,r,n){this.text=e,this.startPos=r,this.endPos=n}}class ld{constructor(e){this.style="normal",this.variant="normal",this.weight="normal",this.stretch="normal",this.lineHeight="normal",this.size="1rem",this.families=[],this.parseOnlyFamilies=!1,this._currentTokenIndex=-1,this._input="",this._currentToken=null,this._input=e,this._tokens=this.splitToTokens(e)}splitToTokens(e){const r=[];let n=0;for(;n<e.length;){let i=n;for(;i<e.length&&e.charAt(i)!==" ";)i++;i>n&&r.push(new Boe(e.substring(n,i),n,i)),n=i+1}return r}parse(){var e;if(this.reset(),this._tokens.length===1)switch((e=this._currentToken)==null?void 0:e.text){case"caption":case"icon":case"menu":case"message-box":case"small-caption":case"status-bar":case"inherit":return}this.parseOnlyFamilies||(this.fontStyleVariantWeight(),this.fontSizeLineHeight()),this.fontFamily()}static parseFamilies(e){const r=new ld(e);return r.parseOnlyFamilies=!0,r.parse(),r.families}fontFamily(){if(!this._currentToken){if(this.parseOnlyFamilies)return;throw new Error("Missing font list")}const e=this._input.substr(this._currentToken.startPos).trim();let r=0;for(;r<e.length;){let n=e.charAt(r);if(n===" "||n==",")r++;else if(n==='"'||n==="'"){const i=this.findEndOfQuote(e,r+1,n);this.families.push(e.substring(r+1,i).split("\\"+n).join(n)),r=i+1}else{const i=this.findEndOfQuote(e,r+1,",");this.families.push(e.substring(r,i).trim()),r=i+1}}}findEndOfQuote(e,r,n){let i=!1;for(;r<e.length;){const s=e.charAt(r);if(!i&&s===n)return r;!i&&s==="\\"?i=!0:i=!1,r+=1}return e.length}fontSizeLineHeight(){if(!this._currentToken)throw new Error("Missing font size");const e=this._currentToken.text.split("/");if(e.length>=3)throw new Error(`Invalid font size '${this._currentToken}' specified`);if(this.nextToken(),e.length>=2)if(e[1]==="/"){if(!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.size=e[0],this.lineHeight=e[1];else if(e.length>=1){if(this.size=e[0],this._currentToken&&this._currentToken.text.indexOf("/")===0)if(this._currentToken.text==="/"){if(this.nextToken(),!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.lineHeight=this._currentToken.text.substr(1),this.nextToken()}else throw new Error("Missing font size")}nextToken(){this._currentTokenIndex++,this._currentTokenIndex<this._tokens.length?this._currentToken=this._tokens[this._currentTokenIndex]:this._currentToken=null}fontStyleVariantWeight(){let e=!1,r=!1,n=!1,i=3,s=[];for(;;){if(!this._currentToken)return;let a=this._currentToken.text;switch(a){case"normal":case"inherit":s.push(a),i--,this.nextToken();break;case"italic":case"oblique":this.style=a,e=!0,i--,this.nextToken();break;case"small-caps":this.variant=a,r=!0,i--,this.nextToken();break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":this.weight=a,n=!0,i--,this.nextToken();break;default:return}if(i===0)break}for(;s.length>0;){const a=s.pop();n?r?e||(this.style=a):this.variant=a:this.weight=a}}reset(){this._currentTokenIndex=-1,this.nextToken()}static quoteFont(e){return e.indexOf(" ")===-1?e:`"${e.replaceAll('"','\\"')}"`}}var Rr;(function(t){t[t.Plain=0]="Plain",t[t.Italic=1]="Italic"})(Rr||(Rr={}));var ji;(function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold"})(ji||(ji={}));class Ot{reset(){this._cssScale=0,this._css=this.toCssString()}get family(){return this._families[0]}set family(e){this.families=ld.parseFamilies(e)}get families(){return this._families}set families(e){this._families=e,this.reset()}get size(){return this._size}set size(e){this._size=e,this.reset()}get style(){return this._style}set style(e){this._style=e,this.reset()}get weight(){return this._weight}set weight(e){this._weight=e,this.reset()}get isBold(){return this.weight===ji.Bold}get isItalic(){return this.style===Rr.Italic}constructor(e,r,n=Rr.Plain,i=ji.Regular){this._cssScale=0,this._families=ld.parseFamilies(e),this._size=r,this._style=n,this._weight=i,this._css=this.toCssString()}static withFamilyList(e,r,n=Rr.Plain,i=ji.Regular){const s=new Ot("",r,n,i);return s.families=e,s}toCssString(e=1){if(!this._css||!(Math.abs(e-this._cssScale)<.01)){let r="";this.isBold&&(r+="bold "),this.isItalic&&(r+="italic "),r+=this.size*e,r+="px ",r+=this.families.map(n=>ld.quoteFont(n)).join(", "),this._css=r,this._cssScale=e}return this._css}static fromJson(e){switch(typeof e){case"undefined":return null;case"object":{const r=e;let n=r.get("families"),i=r.get("size"),s=Re.parseEnum(r.get("style"),Rr),a=Re.parseEnum(r.get("weight"),ji);return Ot.withFamilyList(n,i,s,a)}case"string":{const r=new ld(e);r.parse();let n=r.families,i=r.size.toLowerCase(),s=0;switch(i){case"xx-small":s=7;break;case"x-small":s=10;break;case"small":case"smaller":s=13;break;case"medium":s=16;break;case"large":case"larger":s=18;break;case"x-large":s=24;break;case"xx-large":s=32;break;default:try{i.endsWith("em")?s=parseFloat(i.substr(0,i.length-2))*16:i.endsWith("pt")?s=parseFloat(i.substr(0,i.length-2))*16/12:i.endsWith("px")?s=parseFloat(i.substr(0,i.length-2)):s=12}catch{s=12}break}let a=Rr.Plain;r.style==="italic"&&(a=Rr.Italic);let o=ji.Regular;switch(r.weight.toLowerCase()){case"normal":case"lighter":break;default:o=ji.Bold;break}return Ot.withFamilyList(n,s,a,o)}default:return null}}static toJson(e){const r=new Map;return r.set("families",e.families),r.set("size",e.size),r.set("style",e.style),r.set("weight",e.weight),r}}class Ti{constructor(){this.copyrightFont=new Ot(Ti.sansFont,12,Rr.Plain,ji.Bold),this.titleFont=new Ot(Ti.serifFont,32,Rr.Plain),this.subTitleFont=new Ot(Ti.serifFont,20,Rr.Plain),this.wordsFont=new Ot(Ti.serifFont,15,Rr.Plain),this.effectFont=new Ot(Ti.serifFont,12,Rr.Italic),this.fretboardNumberFont=new Ot(Ti.sansFont,11,Rr.Plain),this.tablatureFont=new Ot(Ti.sansFont,13,Rr.Plain),this.graceFont=new Ot(Ti.sansFont,11,Rr.Plain),this.staffLineColor=new _r(165,165,165,255),this.barSeparatorColor=new _r(34,34,17,255),this.barNumberFont=new Ot(Ti.sansFont,11,Rr.Plain),this.barNumberColor=new _r(200,0,0,255),this.fingeringFont=new Ot(Ti.serifFont,14,Rr.Plain),this.markerFont=new Ot(Ti.serifFont,14,Rr.Plain,ji.Bold),this.mainGlyphColor=new _r(0,0,0,255),this.secondaryGlyphColor=new _r(0,0,0,100),this.scoreInfoColor=new _r(0,0,0,255)}}Ti.sansFont="Arial, sans-serif";Ti.serifFont="Georgia, serif";var Jl;(function(t){t[t.Automatic=0]="Automatic",t[t.UseModelLayout=1]="UseModelLayout"})(Jl||(Jl={}));class Noe{constructor(){this.scale=1,this.stretchForce=1,this.layoutMode=Wo.Page,this.staveProfile=Gi.Default,this.barsPerRow=-1,this.startBar=1,this.barCount=-1,this.barCountPerPartial=10,this.justifyLastSystem=!1,this.resources=new Ti,this.padding=null,this.systemsLayoutMode=Jl.Automatic}}class Moe{constructor(){this.encoding="utf-8",this.mergePartGroupsInMusicXml=!1,this.beatTextAsLyrics=!1}}var Eo;(function(t){t[t.Off=0]="Off",t[t.Continuous=1]="Continuous",t[t.OffScreen=2]="OffScreen"})(Eo||(Eo={}));class Eoe{constructor(){this.noteWideLength=480,this.noteWideAmplitude=2,this.noteSlightLength=480,this.noteSlightAmplitude=2,this.beatWideLength=240,this.beatWideAmplitude=3,this.beatSlightLength=240,this.beatSlightAmplitude=3}}class Roe{constructor(){this.simpleSlidePitchOffset=6,this.simpleSlideDurationRatio=.25,this.shiftSlideDurationRatio=.5}}var _p;(function(t){t[t.WebAudioAudioWorklets=0]="WebAudioAudioWorklets",t[t.WebAudioScriptProcessor=1]="WebAudioScriptProcessor"})(_p||(_p={}));class Doe{constructor(){this.soundFont=null,this.scrollElement="html,body",this.outputMode=_p.WebAudioAudioWorklets,this.enablePlayer=!1,this.enableCursor=!0,this.enableAnimatedBeatCursor=!0,this.enableElementHighlighting=!0,this.enableUserInteraction=!0,this.scrollOffsetX=0,this.scrollOffsetY=0,this.scrollMode=Eo.Continuous,this.scrollSpeed=300,this.nativeBrowserSmoothScroll=!0,this.songBookBendDuration=75,this.songBookDipDuration=150,this.vibrato=new Eoe,this.slide=new Roe,this.playTripletFeel=!0,this.bufferTimeInMilliseconds=500}}class Xw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scriptfile",e.scriptFile),r.set("fontdirectory",e.fontDirectory),r.set("file",e.file),r.set("tex",e.tex),r.set("tracks",e.tracks),r.set("enablelazyloading",e.enableLazyLoading),r.set("engine",e.engine),r.set("loglevel",e.logLevel),r.set("useworkers",e.useWorkers),r.set("includenotebounds",e.includeNoteBounds),r}static setProperty(e,r,n){switch(r){case"scriptfile":return e.scriptFile=n,!0;case"fontdirectory":return e.fontDirectory=n,!0;case"file":return e.file=n,!0;case"tex":return e.tex=n,!0;case"tracks":return e.tracks=n,!0;case"enablelazyloading":return e.enableLazyLoading=n,!0;case"engine":return e.engine=n,!0;case"loglevel":return e.logLevel=Re.parseEnum(n,Pa),!0;case"useworkers":return e.useWorkers=n,!0;case"includenotebounds":return e.includeNoteBounds=n,!0}return!1}}class qw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("copyrightfont",Ot.toJson(e.copyrightFont)),r.set("titlefont",Ot.toJson(e.titleFont)),r.set("subtitlefont",Ot.toJson(e.subTitleFont)),r.set("wordsfont",Ot.toJson(e.wordsFont)),r.set("effectfont",Ot.toJson(e.effectFont)),r.set("fretboardnumberfont",Ot.toJson(e.fretboardNumberFont)),r.set("tablaturefont",Ot.toJson(e.tablatureFont)),r.set("gracefont",Ot.toJson(e.graceFont)),r.set("stafflinecolor",_r.toJson(e.staffLineColor)),r.set("barseparatorcolor",_r.toJson(e.barSeparatorColor)),r.set("barnumberfont",Ot.toJson(e.barNumberFont)),r.set("barnumbercolor",_r.toJson(e.barNumberColor)),r.set("fingeringfont",Ot.toJson(e.fingeringFont)),r.set("markerfont",Ot.toJson(e.markerFont)),r.set("mainglyphcolor",_r.toJson(e.mainGlyphColor)),r.set("secondaryglyphcolor",_r.toJson(e.secondaryGlyphColor)),r.set("scoreinfocolor",_r.toJson(e.scoreInfoColor)),r}static setProperty(e,r,n){switch(r){case"copyrightfont":return e.copyrightFont=Ot.fromJson(n),!0;case"titlefont":return e.titleFont=Ot.fromJson(n),!0;case"subtitlefont":return e.subTitleFont=Ot.fromJson(n),!0;case"wordsfont":return e.wordsFont=Ot.fromJson(n),!0;case"effectfont":return e.effectFont=Ot.fromJson(n),!0;case"fretboardnumberfont":return e.fretboardNumberFont=Ot.fromJson(n),!0;case"tablaturefont":return e.tablatureFont=Ot.fromJson(n),!0;case"gracefont":return e.graceFont=Ot.fromJson(n),!0;case"stafflinecolor":return e.staffLineColor=_r.fromJson(n),!0;case"barseparatorcolor":return e.barSeparatorColor=_r.fromJson(n),!0;case"barnumberfont":return e.barNumberFont=Ot.fromJson(n),!0;case"barnumbercolor":return e.barNumberColor=_r.fromJson(n),!0;case"fingeringfont":return e.fingeringFont=Ot.fromJson(n),!0;case"markerfont":return e.markerFont=Ot.fromJson(n),!0;case"mainglyphcolor":return e.mainGlyphColor=_r.fromJson(n),!0;case"secondaryglyphcolor":return e.secondaryGlyphColor=_r.fromJson(n),!0;case"scoreinfocolor":return e.scoreInfoColor=_r.fromJson(n),!0}return!1}}class Kw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scale",e.scale),r.set("stretchforce",e.stretchForce),r.set("layoutmode",e.layoutMode),r.set("staveprofile",e.staveProfile),r.set("barsperrow",e.barsPerRow),r.set("startbar",e.startBar),r.set("barcount",e.barCount),r.set("barcountperpartial",e.barCountPerPartial),r.set("justifylastsystem",e.justifyLastSystem),r.set("resources",qw.toJson(e.resources)),r.set("padding",e.padding),r.set("systemslayoutmode",e.systemsLayoutMode),r}static setProperty(e,r,n){switch(r){case"scale":return e.scale=n,!0;case"stretchforce":return e.stretchForce=n,!0;case"layoutmode":return e.layoutMode=Re.parseEnum(n,Wo),!0;case"staveprofile":return e.staveProfile=Re.parseEnum(n,Gi),!0;case"barsperrow":return e.barsPerRow=n,!0;case"startbar":return e.startBar=n,!0;case"barcount":return e.barCount=n,!0;case"barcountperpartial":return e.barCountPerPartial=n,!0;case"justifylastsystem":return e.justifyLastSystem=n,!0;case"padding":return e.padding=n,!0;case"systemslayoutmode":return e.systemsLayoutMode=Re.parseEnum(n,Jl),!0}if(["resources"].indexOf(r)>=0)return qw.fromJson(e.resources,n),!0;for(const i of["resources"])if(r.indexOf(i)===0&&qw.setProperty(e.resources,r.substring(i.length),n))return!0;return!1}}class Qw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;r.set("notationmode",e.notationMode),r.set("fingeringmode",e.fingeringMode);{const n=new Map;r.set("elements",n);for(const[i,s]of e.elements)n.set(i.toString(),s)}return r.set("rhythmmode",e.rhythmMode),r.set("rhythmheight",e.rhythmHeight),r.set("transpositionpitches",e.transpositionPitches),r.set("displaytranspositionpitches",e.displayTranspositionPitches),r.set("smallgracetabnotes",e.smallGraceTabNotes),r.set("extendbendarrowsontiednotes",e.extendBendArrowsOnTiedNotes),r.set("extendlineeffectstobeatend",e.extendLineEffectsToBeatEnd),r.set("slurheight",e.slurHeight),r}static setProperty(e,r,n){switch(r){case"notationmode":return e.notationMode=Re.parseEnum(n,bn),!0;case"fingeringmode":return e.fingeringMode=Re.parseEnum(n,za),!0;case"elements":return e.elements=new Map,Re.forEach(n,(i,s)=>{e.elements.set(Re.parseEnum(s,it),i)}),!0;case"rhythmmode":return e.rhythmMode=Re.parseEnum(n,Lo),!0;case"rhythmheight":return e.rhythmHeight=n,!0;case"transpositionpitches":return e.transpositionPitches=n,!0;case"displaytranspositionpitches":return e.displayTranspositionPitches=n,!0;case"smallgracetabnotes":return e.smallGraceTabNotes=n,!0;case"extendbendarrowsontiednotes":return e.extendBendArrowsOnTiedNotes=n,!0;case"extendlineeffectstobeatend":return e.extendLineEffectsToBeatEnd=n,!0;case"slurheight":return e.slurHeight=n,!0}return!1}}class Jw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("encoding",e.encoding),r.set("mergepartgroupsinmusicxml",e.mergePartGroupsInMusicXml),r.set("beattextaslyrics",e.beatTextAsLyrics),r}static setProperty(e,r,n){switch(r){case"encoding":return e.encoding=n,!0;case"mergepartgroupsinmusicxml":return e.mergePartGroupsInMusicXml=n,!0;case"beattextaslyrics":return e.beatTextAsLyrics=n,!0}return!1}}class Zw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("notewidelength",e.noteWideLength),r.set("notewideamplitude",e.noteWideAmplitude),r.set("noteslightlength",e.noteSlightLength),r.set("noteslightamplitude",e.noteSlightAmplitude),r.set("beatwidelength",e.beatWideLength),r.set("beatwideamplitude",e.beatWideAmplitude),r.set("beatslightlength",e.beatSlightLength),r.set("beatslightamplitude",e.beatSlightAmplitude),r}static setProperty(e,r,n){switch(r){case"notewidelength":return e.noteWideLength=n,!0;case"notewideamplitude":return e.noteWideAmplitude=n,!0;case"noteslightlength":return e.noteSlightLength=n,!0;case"noteslightamplitude":return e.noteSlightAmplitude=n,!0;case"beatwidelength":return e.beatWideLength=n,!0;case"beatwideamplitude":return e.beatWideAmplitude=n,!0;case"beatslightlength":return e.beatSlightLength=n,!0;case"beatslightamplitude":return e.beatSlightAmplitude=n,!0}return!1}}class ex{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("simpleslidepitchoffset",e.simpleSlidePitchOffset),r.set("simpleslidedurationratio",e.simpleSlideDurationRatio),r.set("shiftslidedurationratio",e.shiftSlideDurationRatio),r}static setProperty(e,r,n){switch(r){case"simpleslidepitchoffset":return e.simpleSlidePitchOffset=n,!0;case"simpleslidedurationratio":return e.simpleSlideDurationRatio=n,!0;case"shiftslidedurationratio":return e.shiftSlideDurationRatio=n,!0}return!1}}class tx{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("soundfont",e.soundFont),r.set("outputmode",e.outputMode),r.set("enableplayer",e.enablePlayer),r.set("enablecursor",e.enableCursor),r.set("enableanimatedbeatcursor",e.enableAnimatedBeatCursor),r.set("enableelementhighlighting",e.enableElementHighlighting),r.set("enableuserinteraction",e.enableUserInteraction),r.set("scrolloffsetx",e.scrollOffsetX),r.set("scrolloffsety",e.scrollOffsetY),r.set("scrollmode",e.scrollMode),r.set("scrollspeed",e.scrollSpeed),r.set("nativebrowsersmoothscroll",e.nativeBrowserSmoothScroll),r.set("songbookbendduration",e.songBookBendDuration),r.set("songbookdipduration",e.songBookDipDuration),r.set("vibrato",Zw.toJson(e.vibrato)),r.set("slide",ex.toJson(e.slide)),r.set("playtripletfeel",e.playTripletFeel),r.set("buffertimeinmilliseconds",e.bufferTimeInMilliseconds),r}static setProperty(e,r,n){switch(r){case"soundfont":return e.soundFont=n,!0;case"scrollelement":return e.scrollElement=n,!0;case"outputmode":return e.outputMode=Re.parseEnum(n,_p),!0;case"enableplayer":return e.enablePlayer=n,!0;case"enablecursor":return e.enableCursor=n,!0;case"enableanimatedbeatcursor":return e.enableAnimatedBeatCursor=n,!0;case"enableelementhighlighting":return e.enableElementHighlighting=n,!0;case"enableuserinteraction":return e.enableUserInteraction=n,!0;case"scrolloffsetx":return e.scrollOffsetX=n,!0;case"scrolloffsety":return e.scrollOffsetY=n,!0;case"scrollmode":return e.scrollMode=Re.parseEnum(n,Eo),!0;case"scrollspeed":return e.scrollSpeed=n,!0;case"nativebrowsersmoothscroll":return e.nativeBrowserSmoothScroll=n,!0;case"songbookbendduration":return e.songBookBendDuration=n,!0;case"songbookdipduration":return e.songBookDipDuration=n,!0;case"playtripletfeel":return e.playTripletFeel=n,!0;case"buffertimeinmilliseconds":return e.bufferTimeInMilliseconds=n,!0}if(["vibrato"].indexOf(r)>=0)return Zw.fromJson(e.vibrato,n),!0;for(const i of["vibrato"])if(r.indexOf(i)===0&&Zw.setProperty(e.vibrato,r.substring(i.length),n))return!0;if(["slide"].indexOf(r)>=0)return ex.fromJson(e.slide,n),!0;for(const i of["slide"])if(r.indexOf(i)===0&&ex.setProperty(e.slide,r.substring(i.length),n))return!0;return!1}}class Wd{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("core",Xw.toJson(e.core)),r.set("display",Kw.toJson(e.display)),r.set("notation",Qw.toJson(e.notation)),r.set("importer",Jw.toJson(e.importer)),r.set("player",tx.toJson(e.player)),r}static setProperty(e,r,n){if(["core",""].indexOf(r)>=0)return Xw.fromJson(e.core,n),!0;for(const i of["core",""])if(r.indexOf(i)===0&&Xw.setProperty(e.core,r.substring(i.length),n))return!0;if(["display",""].indexOf(r)>=0)return Kw.fromJson(e.display,n),!0;for(const i of["display",""])if(r.indexOf(i)===0&&Kw.setProperty(e.display,r.substring(i.length),n))return!0;if(["notation"].indexOf(r)>=0)return Qw.fromJson(e.notation,n),!0;for(const i of["notation"])if(r.indexOf(i)===0&&Qw.setProperty(e.notation,r.substring(i.length),n))return!0;if(["importer"].indexOf(r)>=0)return Jw.fromJson(e.importer,n),!0;for(const i of["importer"])if(r.indexOf(i)===0&&Jw.setProperty(e.importer,r.substring(i.length),n))return!0;if(["player"].indexOf(r)>=0)return tx.fromJson(e.player,n),!0;for(const i of["player"])if(r.indexOf(i)===0&&tx.setProperty(e.player,r.substring(i.length),n))return!0;return!1}}class au{constructor(){this.core=new u5,this.display=new Noe,this.notation=new xp,this.importer=new Moe,this.player=new Doe}setSongBookModeSettings(){this.notation.notationMode=bn.SongBook,this.notation.smallGraceTabNotes=!1,this.notation.fingeringMode=za.SingleNoteEffectBand,this.notation.extendBendArrowsOnTiedNotes=!1,this.notation.elements.set(it.ParenthesisOnTiedBends,!1),this.notation.elements.set(it.TabNotesOnTiedBends,!1),this.notation.elements.set(it.ZerosOnDiveWhammys,!0)}static get songBook(){let e=new au;return e.setSongBookModeSettings(),e}fillFromJson(e){Wd.fromJson(this,e)}}class CM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("marker",e.marker),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"marker":return e.marker=n,!0;case"text":return e.text=n,!0}return!1}}class h0{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("islinear",e.isLinear),r.set("type",e.type),r.set("value",e.value),r.set("ratioposition",e.ratioPosition),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"islinear":return e.isLinear=n,!0;case"type":return e.type=Re.parseEnum(n,vn),!0;case"value":return e.value=n,!0;case"ratioposition":return e.ratioPosition=n,!0;case"text":return e.text=n,!0}return!1}}class TM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("type",e.type),r.set("length",e.length),r}static setProperty(e,r,n){switch(r){case"type":return e.type=Re.parseEnum(n,Fa),!0;case"length":return e.length=n,!0}return!1}}class _M{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("alternateendings",e.alternateEndings),r.set("keysignature",e.keySignature),r.set("keysignaturetype",e.keySignatureType),r.set("isdoublebar",e.isDoubleBar),r.set("isrepeatstart",e.isRepeatStart),r.set("repeatcount",e.repeatCount),r.set("timesignaturenumerator",e.timeSignatureNumerator),r.set("timesignaturedenominator",e.timeSignatureDenominator),r.set("timesignaturecommon",e.timeSignatureCommon),r.set("tripletfeel",e.tripletFeel),r.set("section",CM.toJson(e.section)),r.set("tempoautomation",h0.toJson(e.tempoAutomation)),e.fermata!==null){const n=new Map;r.set("fermata",n);for(const[i,s]of e.fermata)n.set(i.toString(),TM.toJson(s))}return r.set("start",e.start),r.set("isanacrusis",e.isAnacrusis),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"alternateendings":return e.alternateEndings=n,!0;case"keysignature":return e.keySignature=Re.parseEnum(n,hn),!0;case"keysignaturetype":return e.keySignatureType=Re.parseEnum(n,Ql),!0;case"isdoublebar":return e.isDoubleBar=n,!0;case"isrepeatstart":return e.isRepeatStart=n,!0;case"repeatcount":return e.repeatCount=n,!0;case"timesignaturenumerator":return e.timeSignatureNumerator=n,!0;case"timesignaturedenominator":return e.timeSignatureDenominator=n,!0;case"timesignaturecommon":return e.timeSignatureCommon=n,!0;case"tripletfeel":return e.tripletFeel=Re.parseEnum(n,xt),!0;case"fermata":return e.fermata=new Map,Re.forEach(n,(i,s)=>{const a=new fT;TM.fromJson(a,i),e.addFermata(parseInt(s),a)}),!0;case"start":return e.start=n,!0;case"isanacrusis":return e.isAnacrusis=n,!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return["section"].indexOf(r)>=0?(n?(e.section=new wv,CM.fromJson(e.section,n)):e.section=null,!0):["tempoautomation"].indexOf(r)>=0?(n?(e.tempoAutomation=new Un,h0.fromJson(e.tempoAutomation,n)):e.tempoAutomation=null,!0):!1}}class f0{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("offset",e.offset),r.set("value",e.value),r}static setProperty(e,r,n){switch(r){case"offset":return e.offset=n,!0;case"value":return e.value=n,!0}return!1}}class PM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("accentuated",e.accentuated),r.set("bendtype",e.bendType),r.set("bendstyle",e.bendStyle),r.set("iscontinuedbend",e.isContinuedBend),e.bendPoints!==null&&r.set("bendpoints",(n=e.bendPoints)==null?void 0:n.map(i=>f0.toJson(i))),r.set("fret",e.fret),r.set("string",e.string),r.set("octave",e.octave),r.set("tone",e.tone),r.set("percussionarticulation",e.percussionArticulation),r.set("isvisible",e.isVisible),r.set("islefthandtapped",e.isLeftHandTapped),r.set("ishammerpullorigin",e.isHammerPullOrigin),r.set("isslurdestination",e.isSlurDestination),r.set("harmonictype",e.harmonicType),r.set("harmonicvalue",e.harmonicValue),r.set("isghost",e.isGhost),r.set("isletring",e.isLetRing),r.set("ispalmmute",e.isPalmMute),r.set("isdead",e.isDead),r.set("isstaccato",e.isStaccato),r.set("slideintype",e.slideInType),r.set("slideouttype",e.slideOutType),r.set("vibrato",e.vibrato),r.set("istiedestination",e.isTieDestination),r.set("lefthandfinger",e.leftHandFinger),r.set("righthandfinger",e.rightHandFinger),r.set("isfingering",e.isFingering),r.set("trillvalue",e.trillValue),r.set("trillspeed",e.trillSpeed),r.set("durationpercent",e.durationPercent),r.set("accidentalmode",e.accidentalMode),r.set("dynamics",e.dynamics),e.toJson(r),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"accentuated":return e.accentuated=Re.parseEnum(n,sn),!0;case"bendtype":return e.bendType=Re.parseEnum(n,Ue),!0;case"bendstyle":return e.bendStyle=Re.parseEnum(n,Zt),!0;case"iscontinuedbend":return e.isContinuedBend=n,!0;case"bendpoints":if(n){e.bendPoints=[];for(const i of n){const s=new Ie;f0.fromJson(s,i),e.addBendPoint(s)}}return!0;case"fret":return e.fret=n,!0;case"string":return e.string=n,!0;case"octave":return e.octave=n,!0;case"tone":return e.tone=n,!0;case"percussionarticulation":return e.percussionArticulation=n,!0;case"isvisible":return e.isVisible=n,!0;case"islefthandtapped":return e.isLeftHandTapped=n,!0;case"ishammerpullorigin":return e.isHammerPullOrigin=n,!0;case"isslurdestination":return e.isSlurDestination=n,!0;case"harmonictype":return e.harmonicType=Re.parseEnum(n,Qe),!0;case"harmonicvalue":return e.harmonicValue=n,!0;case"isghost":return e.isGhost=n,!0;case"isletring":return e.isLetRing=n,!0;case"ispalmmute":return e.isPalmMute=n,!0;case"isdead":return e.isDead=n,!0;case"isstaccato":return e.isStaccato=n,!0;case"slideintype":return e.slideInType=Re.parseEnum(n,Pn),!0;case"slideouttype":return e.slideOutType=Re.parseEnum(n,pt),!0;case"vibrato":return e.vibrato=Re.parseEnum(n,$t),!0;case"istiedestination":return e.isTieDestination=n,!0;case"lefthandfinger":return e.leftHandFinger=Re.parseEnum(n,ct),!0;case"righthandfinger":return e.rightHandFinger=Re.parseEnum(n,ct),!0;case"isfingering":return e.isFingering=n,!0;case"trillvalue":return e.trillValue=n,!0;case"trillspeed":return e.trillSpeed=Re.parseEnum(n,H),!0;case"durationpercent":return e.durationPercent=n,!0;case"accidentalmode":return e.accidentalMode=Re.parseEnum(n,Kr),!0;case"dynamics":return e.dynamics=Re.parseEnum(n,St),!0}return e.setProperty(r,n)}}class BM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("notes",e.notes.map(i=>PM.toJson(i))),r.set("isempty",e.isEmpty),r.set("whammystyle",e.whammyStyle),r.set("ottava",e.ottava),r.set("islegatoorigin",e.isLegatoOrigin),r.set("duration",e.duration),r.set("automations",e.automations.map(i=>h0.toJson(i))),r.set("dots",e.dots),r.set("fadein",e.fadeIn),r.set("lyrics",e.lyrics),r.set("hasrasgueado",e.hasRasgueado),r.set("pop",e.pop),r.set("slap",e.slap),r.set("tap",e.tap),r.set("text",e.text),r.set("brushtype",e.brushType),r.set("brushduration",e.brushDuration),r.set("tupletdenominator",e.tupletDenominator),r.set("tupletnumerator",e.tupletNumerator),r.set("iscontinuedwhammy",e.isContinuedWhammy),r.set("whammybartype",e.whammyBarType),e.whammyBarPoints!==null&&r.set("whammybarpoints",(n=e.whammyBarPoints)==null?void 0:n.map(i=>f0.toJson(i))),r.set("vibrato",e.vibrato),r.set("chordid",e.chordId),r.set("gracetype",e.graceType),r.set("pickstroke",e.pickStroke),r.set("tremolospeed",e.tremoloSpeed),r.set("crescendo",e.crescendo),r.set("displaystart",e.displayStart),r.set("playbackstart",e.playbackStart),r.set("displayduration",e.displayDuration),r.set("playbackduration",e.playbackDuration),r.set("dynamics",e.dynamics),r.set("invertbeamdirection",e.invertBeamDirection),r.set("preferredbeamdirection",e.preferredBeamDirection),r.set("beamingmode",e.beamingMode),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"notes":e.notes=[];for(const i of n){const s=new Fr;PM.fromJson(s,i),e.addNote(s)}return!0;case"isempty":return e.isEmpty=n,!0;case"whammystyle":return e.whammyStyle=Re.parseEnum(n,Zt),!0;case"ottava":return e.ottava=Re.parseEnum(n,zt),!0;case"islegatoorigin":return e.isLegatoOrigin=n,!0;case"duration":return e.duration=Re.parseEnum(n,H),!0;case"automations":e.automations=[];for(const i of n){const s=new Un;h0.fromJson(s,i),e.automations.push(s)}return!0;case"dots":return e.dots=n,!0;case"fadein":return e.fadeIn=n,!0;case"lyrics":return e.lyrics=n,!0;case"hasrasgueado":return e.hasRasgueado=n,!0;case"pop":return e.pop=n,!0;case"slap":return e.slap=n,!0;case"tap":return e.tap=n,!0;case"text":return e.text=n,!0;case"brushtype":return e.brushType=Re.parseEnum(n,dr),!0;case"brushduration":return e.brushDuration=n,!0;case"tupletdenominator":return e.tupletDenominator=n,!0;case"tupletnumerator":return e.tupletNumerator=n,!0;case"iscontinuedwhammy":return e.isContinuedWhammy=n,!0;case"whammybartype":return e.whammyBarType=Re.parseEnum(n,Vt),!0;case"whammybarpoints":if(n){e.whammyBarPoints=[];for(const i of n){const s=new Ie;f0.fromJson(s,i),e.addWhammyBarPoint(s)}}return!0;case"vibrato":return e.vibrato=Re.parseEnum(n,$t),!0;case"chordid":return e.chordId=n,!0;case"gracetype":return e.graceType=Re.parseEnum(n,tt),!0;case"pickstroke":return e.pickStroke=Re.parseEnum(n,Vn),!0;case"tremolospeed":return e.tremoloSpeed=Re.parseEnum(n,H),!0;case"crescendo":return e.crescendo=Re.parseEnum(n,Di),!0;case"displaystart":return e.displayStart=n,!0;case"playbackstart":return e.playbackStart=n,!0;case"displayduration":return e.displayDuration=n,!0;case"playbackduration":return e.playbackDuration=n,!0;case"dynamics":return e.dynamics=Re.parseEnum(n,St),!0;case"invertbeamdirection":return e.invertBeamDirection=n,!0;case"preferredbeamdirection":return e.preferredBeamDirection=Re.parseEnum(n,Pe),!0;case"beamingmode":return e.beamingMode=Re.parseEnum(n,Ma),!0}return!1}}class NM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("beats",e.beats.map(n=>BM.toJson(n))),r.set("isempty",e.isEmpty),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"beats":e.beats=[];for(const i of n){const s=new jn;BM.fromJson(s,i),e.addBeat(s)}return!0;case"isempty":return e.isEmpty=n,!0}return!1}}class MM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("clef",e.clef),r.set("clefottava",e.clefOttava),r.set("voices",e.voices.map(n=>NM.toJson(n))),r.set("similemark",e.simileMark),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"clef":return e.clef=Re.parseEnum(n,ut),!0;case"clefottava":return e.clefOttava=Re.parseEnum(n,zt),!0;case"voices":e.voices=[];for(const i of n){const s=new vo;NM.fromJson(s,i),e.addVoice(s)}return!0;case"similemark":return e.simileMark=Re.parseEnum(n,vs),!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return!1}}class EM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("name",e.name),r.set("firstfret",e.firstFret),r.set("strings",e.strings),r.set("barrefrets",e.barreFrets),r.set("showname",e.showName),r.set("showdiagram",e.showDiagram),r.set("showfingering",e.showFingering),r}static setProperty(e,r,n){switch(r){case"name":return e.name=n,!0;case"firstfret":return e.firstFret=n,!0;case"strings":return e.strings=n,!0;case"barrefrets":return e.barreFrets=n,!0;case"showname":return e.showName=n,!0;case"showdiagram":return e.showDiagram=n,!0;case"showfingering":return e.showFingering=n,!0}return!1}}class RM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("isstandard",e.isStandard),r.set("name",e.name),r.set("tunings",e.tunings),r}static setProperty(e,r,n){switch(r){case"isstandard":return e.isStandard=n,!0;case"name":return e.name=n,!0;case"tunings":return e.tunings=n,!0}return!1}}class DM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("bars",e.bars.map(n=>MM.toJson(n))),e.chords!==null){const n=new Map;r.set("chords",n);for(const[i,s]of e.chords)n.set(i.toString(),EM.toJson(s))}return r.set("capo",e.capo),r.set("transpositionpitch",e.transpositionPitch),r.set("displaytranspositionpitch",e.displayTranspositionPitch),r.set("stringtuning",RM.toJson(e.stringTuning)),r.set("showtablature",e.showTablature),r.set("showstandardnotation",e.showStandardNotation),r.set("ispercussion",e.isPercussion),r.set("standardnotationlinecount",e.standardNotationLineCount),r}static setProperty(e,r,n){switch(r){case"bars":e.bars=[];for(const i of n){const s=new sl;MM.fromJson(s,i),e.addBar(s)}return!0;case"chords":return e.chords=new Map,Re.forEach(n,(i,s)=>{const a=new Kl;EM.fromJson(a,i),e.addChord(s,a)}),!0;case"capo":return e.capo=n,!0;case"transpositionpitch":return e.transpositionPitch=n,!0;case"displaytranspositionpitch":return e.displayTranspositionPitch=n,!0;case"showtablature":return e.showTablature=n,!0;case"showstandardnotation":return e.showStandardNotation=n,!0;case"ispercussion":return e.isPercussion=n,!0;case"standardnotationlinecount":return e.standardNotationLineCount=n,!0}return["stringtuning"].indexOf(r)>=0?(RM.fromJson(e.stringTuning,n),!0):!1}}class IM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("volume",e.volume),r.set("balance",e.balance),r.set("port",e.port),r.set("program",e.program),r.set("primarychannel",e.primaryChannel),r.set("secondarychannel",e.secondaryChannel),r.set("ismute",e.isMute),r.set("issolo",e.isSolo),r}static setProperty(e,r,n){switch(r){case"volume":return e.volume=n,!0;case"balance":return e.balance=n,!0;case"port":return e.port=n,!0;case"program":return e.program=n,!0;case"primarychannel":return e.primaryChannel=n,!0;case"secondarychannel":return e.secondaryChannel=n,!0;case"ismute":return e.isMute=n,!0;case"issolo":return e.isSolo=n,!0}return!1}}class LM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("elementtype",e.elementType),r.set("staffline",e.staffLine),r.set("noteheaddefault",e.noteHeadDefault),r.set("noteheadhalf",e.noteHeadHalf),r.set("noteheadwhole",e.noteHeadWhole),r.set("techniquesymbol",e.techniqueSymbol),r.set("techniquesymbolplacement",e.techniqueSymbolPlacement),r.set("outputmidinumber",e.outputMidiNumber),r}static setProperty(e,r,n){switch(r){case"elementtype":return e.elementType=n,!0;case"staffline":return e.staffLine=n,!0;case"noteheaddefault":return e.noteHeadDefault=Re.parseEnum(n,P),!0;case"noteheadhalf":return e.noteHeadHalf=Re.parseEnum(n,P),!0;case"noteheadwhole":return e.noteHeadWhole=Re.parseEnum(n,P),!0;case"techniquesymbol":return e.techniqueSymbol=Re.parseEnum(n,P),!0;case"techniquesymbolplacement":return e.techniqueSymbolPlacement=Re.parseEnum(n,bt),!0;case"outputmidinumber":return e.outputMidiNumber=n,!0}return!1}}class FM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("staves",e.staves.map(n=>DM.toJson(n))),r.set("playbackinfo",IM.toJson(e.playbackInfo)),r.set("color",_r.toJson(e.color)),r.set("name",e.name),r.set("shortname",e.shortName),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("percussionarticulations",e.percussionArticulations.map(n=>LM.toJson(n))),r}static setProperty(e,r,n){switch(r){case"staves":e.staves=[];for(const i of n){const s=new TO;DM.fromJson(s,i),e.addStaff(s)}return!0;case"color":return e.color=_r.fromJson(n),!0;case"name":return e.name=n,!0;case"shortname":return e.shortName=n,!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0;case"percussionarticulations":e.percussionArticulations=[];for(const i of n){const s=new Ae;LM.fromJson(s,i),e.percussionArticulations.push(s)}return!0}return["playbackinfo"].indexOf(r)>=0?(IM.fromJson(e.playbackInfo,n),!0):!1}}class AM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("hidedynamics",e.hideDynamics),r}static setProperty(e,r,n){switch(r){case"hidedynamics":return e.hideDynamics=n,!0}return!1}}class OM{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("album",e.album),r.set("artist",e.artist),r.set("copyright",e.copyright),r.set("instructions",e.instructions),r.set("music",e.music),r.set("notices",e.notices),r.set("subtitle",e.subTitle),r.set("title",e.title),r.set("words",e.words),r.set("tab",e.tab),r.set("tempo",e.tempo),r.set("tempolabel",e.tempoLabel),r.set("masterbars",e.masterBars.map(n=>_M.toJson(n))),r.set("tracks",e.tracks.map(n=>FM.toJson(n))),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("stylesheet",AM.toJson(e.stylesheet)),r}static setProperty(e,r,n){switch(r){case"album":return e.album=n,!0;case"artist":return e.artist=n,!0;case"copyright":return e.copyright=n,!0;case"instructions":return e.instructions=n,!0;case"music":return e.music=n,!0;case"notices":return e.notices=n,!0;case"subtitle":return e.subTitle=n,!0;case"title":return e.title=n,!0;case"words":return e.words=n,!0;case"tab":return e.tab=n,!0;case"tempo":return e.tempo=n,!0;case"tempolabel":return e.tempoLabel=n,!0;case"masterbars":e.masterBars=[];for(const i of n){const s=new Qo;_M.fromJson(s,i),e.addMasterBar(s)}return!0;case"tracks":e.tracks=[];for(const i of n){const s=new bo;FM.fromJson(s,i),e.addTrack(s)}return!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0}return["stylesheet"].indexOf(r)>=0?(AM.fromJson(e.stylesheet,n),!0):!1}}class Qr{static jsonReplacer(e,r){if(r instanceof Map){if("fromEntries"in Object)return Object.fromEntries(r);{const n={};for(const[i,s]of r)n[i]=s;return n}}else if(ArrayBuffer.isView(r))return Array.apply([],[r]);return r}static scoreToJson(e){let r=Qr.scoreToJsObject(e);return JSON.stringify(r,Qr.jsonReplacer)}static jsonToScore(e,r){return Qr.jsObjectToScore(JSON.parse(e),r)}static scoreToJsObject(e){return OM.toJson(e)}static jsObjectToScore(e,r){let n=new bu;return OM.fromJson(n,e),n.finish(r??new au),n}static settingsToJson(e){let r=Qr.settingsToJsObject(e);return JSON.stringify(r,Qr.jsonReplacer)}static jsonToSettings(e){return Qr.jsObjectToSettings(JSON.parse(e))}static settingsToJsObject(e){return Wd.toJson(e)}static jsObjectToSettings(e){let r=new au;return Wd.fromJson(r,e),r}static jsObjectToMidiFile(e){let r=new Wl;return Re.forEach(e,(n,i)=>{switch(i){case"division":r.division=n;break;case"tracks":for(let s of n){let a=Qr.jsObjectToMidiTrack(s);r.tracks.push(a)}break}}),r}static jsObjectToMidiTrack(e){let r=new NO;return Re.forEach(e,(n,i)=>{switch(i){case"events":for(let s of n){let a=Qr.jsObjectToMidiEvent(s);r.events.push(a)}break}}),r}static jsObjectToMidiEvent(e){let r=Re.getValue(e,"track"),n=Re.getValue(e,"tick"),i=Re.getValue(e,"type");switch(i){case Dt.TimeSignature:return new MO(r,n,Re.getValue(e,"numerator"),Re.getValue(e,"denominatorIndex"),Re.getValue(e,"midiClocksPerMetronomeClick"),Re.getValue(e,"thirdySecondNodesInQuarter"));case Dt.AlphaTabRest:return new RO(r,n,Re.getValue(e,"channel"));case Dt.AlphaTabMetronome:return new EO(r,n,Re.getValue(e,"metronomeNumerator"),Re.getValue(e,"metronomeDurationInTicks"),Re.getValue(e,"metronomeDurationInMilliseconds"));case Dt.NoteOn:return new IO(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"noteVelocity"));case Dt.NoteOff:return new LO(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"noteVelocity"));case Dt.ControlChange:return new FO(r,n,Re.getValue(e,"channel"),Re.getValue(e,"controller"),Re.getValue(e,"value"));case Dt.ProgramChange:return new AO(r,n,Re.getValue(e,"channel"),Re.getValue(e,"program"));case Dt.TempoChange:return new OO(n,Re.getValue(e,"microSecondsPerQuarterNote"));case Dt.PitchBend:return new $O(r,n,Re.getValue(e,"channel"),Re.getValue(e,"value"));case Dt.PerNotePitchBend:return new VO(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"value"));case Dt.EndOfTrack:return new zO(r,n)}throw new Nn(Bn.Format,"Unknown Midi Event type: "+i)}static midiFileToJsObject(e){const r=new Map;r.set("division",e.division);const n=[];for(let i of e.tracks)n.push(Qr.midiTrackToJsObject(i));return r.set("tracks",n),r}static midiTrackToJsObject(e){const r=new Map,n=[];for(let i of e.events)n.push(Qr.midiEventToJsObject(i));return r.set("events",n),r}static midiEventToJsObject(e){const r=new Map;switch(r.set("track",e.track),r.set("tick",e.tick),r.set("type",e.type),e.type){case Dt.TimeSignature:r.set("numerator",e.numerator),r.set("denominatorIndex",e.denominatorIndex),r.set("midiClocksPerMetronomeClick",e.midiClocksPerMetronomeClick),r.set("thirdySecondNodesInQuarter",e.thirtySecondNodesInQuarter);break;case Dt.AlphaTabRest:r.set("channel",e.channel);break;case Dt.AlphaTabMetronome:r.set("metronomeNumerator",e.metronomeNumerator),r.set("metronomeDurationInMilliseconds",e.metronomeDurationInMilliseconds),r.set("metronomeDurationInTicks",e.metronomeDurationInTicks);break;case Dt.NoteOn:case Dt.NoteOff:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("noteVelocity",e.noteVelocity);break;case Dt.ControlChange:r.set("channel",e.channel),r.set("controller",e.controller),r.set("value",e.value);break;case Dt.ProgramChange:r.set("channel",e.channel),r.set("program",e.program);break;case Dt.TempoChange:r.set("microSecondsPerQuarterNote",e.microSecondsPerQuarterNote);break;case Dt.PitchBend:r.set("channel",e.channel),r.set("value",e.value);break;case Dt.PerNotePitchBend:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("value",e.value);break;case Dt.EndOfTrack:break}return r}}class Pr{constructor(){this.ready=new wn,this.samplesPlayed=new Lt,this.sampleRequest=new wn}get sampleRate(){return Pr.preferredSampleRate}open(){ve.debug("AlphaSynth","Initializing synth worker"),this._worker=Ne.globalThis,this._worker.addEventListener("message",this.handleMessage.bind(this)),this.ready.trigger()}destroy(){this._worker.postMessage({cmd:"alphaSynth.output.destroy"})}handleMessage(e){let r=e.data;switch(r.cmd){case Pr.CmdOutputSampleRequest:this.sampleRequest.trigger();break;case Pr.CmdOutputSamplesPlayed:this.samplesPlayed.trigger(r.samples);break}}addSamples(e){this._worker.postMessage({cmd:"alphaSynth.output.addSamples",samples:e})}play(){this._worker.postMessage({cmd:"alphaSynth.output.play"})}pause(){this._worker.postMessage({cmd:"alphaSynth.output.pause"})}resetSamples(){this._worker.postMessage({cmd:"alphaSynth.output.resetSamples"})}activate(){}}Pr.CmdOutputPrefix="alphaSynth.output.";Pr.CmdOutputAddSamples=Pr.CmdOutputPrefix+"addSamples";Pr.CmdOutputPlay=Pr.CmdOutputPrefix+"play";Pr.CmdOutputPause=Pr.CmdOutputPrefix+"pause";Pr.CmdOutputResetSamples=Pr.CmdOutputPrefix+"resetSamples";Pr.CmdOutputSampleRequest=Pr.CmdOutputPrefix+"sampleRequest";Pr.CmdOutputSamplesPlayed=Pr.CmdOutputPrefix+"samplesPlayed";Pr.preferredSampleRate=0;class bT{constructor(e,r){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this)),this._player=new Poe(new Pr,r),this._player.positionChanged.on(this.onPositionChanged.bind(this)),this._player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this._player.finished.on(this.onFinished.bind(this)),this._player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.midiLoaded.on(this.onMidiLoaded.bind(this)),this._player.midiLoadFailed.on(this.onMidiLoadFailed.bind(this)),this._player.readyForPlayback.on(this.onReadyForPlayback.bind(this)),this._player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this._player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this._main.postMessage({cmd:"alphaSynth.ready"})}static init(){let e=Ne.globalThis;e.addEventListener("message",r=>{let n=r.data;switch(n.cmd){case"alphaSynth.initialize":Pr.preferredSampleRate=n.sampleRate,ve.logLevel=n.logLevel,Ne.globalThis.alphaSynthWebWorker=new bT(e,n.bufferTimeInMilliseconds);break}})}handleMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.setLogLevel":ve.logLevel=r.value;break;case"alphaSynth.setMasterVolume":this._player.masterVolume=r.value;break;case"alphaSynth.setMetronomeVolume":this._player.metronomeVolume=r.value;break;case"alphaSynth.setPlaybackSpeed":this._player.playbackSpeed=r.value;break;case"alphaSynth.setTickPosition":this._player.tickPosition=r.value;break;case"alphaSynth.setTimePosition":this._player.timePosition=r.value;break;case"alphaSynth.setPlaybackRange":this._player.playbackRange=r.value;break;case"alphaSynth.setIsLooping":this._player.isLooping=r.value;break;case"alphaSynth.setCountInVolume":this._player.countInVolume=r.value;break;case"alphaSynth.setMidiEventsPlayedFilter":this._player.midiEventsPlayedFilter=r.value;break;case"alphaSynth.play":this._player.play();break;case"alphaSynth.pause":this._player.pause();break;case"alphaSynth.playPause":this._player.playPause();break;case"alphaSynth.stop":this._player.stop();break;case"alphaSynth.playOneTimeMidiFile":this._player.playOneTimeMidiFile(Qr.jsObjectToMidiFile(r.midi));break;case"alphaSynth.loadSoundFontBytes":this._player.loadSoundFont(r.data,r.append);break;case"alphaSynth.resetSoundFonts":this._player.resetSoundFonts();break;case"alphaSynth.loadMidi":this._player.loadMidiFile(Qr.jsObjectToMidiFile(r.midi));break;case"alphaSynth.setChannelMute":this._player.setChannelMute(r.channel,r.mute);break;case"alphaSynth.setChannelSolo":this._player.setChannelSolo(r.channel,r.solo);break;case"alphaSynth.setChannelVolume":this._player.setChannelVolume(r.channel,r.volume);break;case"alphaSynth.resetChannelStates":this._player.resetChannelStates();break;case"alphaSynth.destroy":this._player.destroy(),this._main.postMessage({cmd:"alphaSynth.destroyed"});break;case"alphaSynth.applyTranspositionPitches":this._player.applyTranspositionPitches(new Map(JSON.parse(r.transpositionPitches)));break}}onPositionChanged(e){this._main.postMessage({cmd:"alphaSynth.positionChanged",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onPlayerStateChanged(e){this._main.postMessage({cmd:"alphaSynth.playerStateChanged",state:e.state,stopped:e.stopped})}onFinished(){this._main.postMessage({cmd:"alphaSynth.finished"})}onSoundFontLoaded(){this._main.postMessage({cmd:"alphaSynth.soundFontLoaded"})}onSoundFontLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.soundFontLoadFailed",error:this.serializeException(e)})}serializeException(e){let r=JSON.parse(JSON.stringify(e));return e.message&&(r.message=e.message),e.stack&&(r.stack=e.stack),e.constructor&&e.constructor.name&&(r.type=e.constructor.name),r}onMidiLoaded(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onMidiLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",error:this.serializeException(e)})}onReadyForPlayback(){this._main.postMessage({cmd:"alphaSynth.readyForPlayback"})}onMidiEventsPlayed(e){this._main.postMessage({cmd:"alphaSynth.midiEventsPlayed",events:e.events.map(Qr.midiEventToJsObject)})}onPlaybackRangeChanged(e){this._main.postMessage({cmd:"alphaSynth.playbackRangeChanged",playbackRange:e.playbackRange})}}class Jr{static generateFontLookup(e){if(!Jr.FontSizeLookupTables.has(e))if(Ne.isRunningInWorker)Jr.FontSizeLookupTables.set(e,new Uint8Array([8]));else{let n=document.createElement("canvas").getContext("2d");n.font=`11px ${e}`;let i=[];for(let a=32;a<255;a++){let o=String.fromCharCode(a);i.push(n.measureText(o).width)}let s=new Uint8Array(i);Jr.FontSizeLookupTables.set(e,s)}}static measureString(e,r,n,i,s){let a,o=11,l=r[0];for(let d=0;d<r.length;d++)if(Jr.FontSizeLookupTables.has(r[d])){l=r[d];break}Jr.FontSizeLookupTables.has(l)||Jr.generateFontLookup(l),a=Jr.FontSizeLookupTables.get(l);let c=1;i===Rr.Italic&&(c*=1.2),s===ji.Bold&&(c*=1.2);let u=0;for(let d=0;d<e.length;d++){let h=Math.min(a.length-1,e.charCodeAt(d)-32);h>=0&&(u+=a[h]*n/o)}return u*c}}Jr.Georgia=new Uint8Array([3,4,5,7,7,9,8,2,4,4,5,7,3,4,3,5,7,5,6,6,6,6,6,6,7,6,3,3,7,7,7,5,10,7,7,7,8,7,7,8,9,4,6,8,7,10,8,8,7,8,8,6,7,8,7,11,8,7,7,4,5,4,7,7,6,6,6,5,6,5,4,6,6,3,3,6,3,10,6,6,6,6,5,5,4,6,5,8,6,5,5,5,4,5,7,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,4,6,7,6,7,4,6,6,10,6,6,7,0,10,7,5,7,6,6,6,6,6,3,6,6,6,6,12,12,12,5,7,7,7,7,7,7,11,7,7,7,7,7,4,4,4,4,8,8,8,8,8,8,8,7,8,8,8,8,8,7,7,6,6,6,6,6,6,6,8,5,5,5,5,5,3,3,3,3,6,6,6,6,6,6,6,7,6,6,6,6,6,5,6]);Jr.Arial=new Uint8Array([3,3,4,6,6,10,7,2,4,4,4,6,3,4,3,3,6,6,6,6,6,6,6,6,6,6,3,3,6,6,6,6,11,7,7,8,8,7,7,9,8,3,6,7,6,9,8,9,7,9,8,7,7,8,7,10,7,7,7,3,3,3,5,6,4,6,6,6,6,6,3,6,6,2,2,6,2,9,6,6,6,6,4,6,3,6,6,8,6,6,6,4,3,4,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,4,6,6,6,6,3,6,4,8,4,6,6,0,8,6,4,6,4,4,4,6,6,4,4,4,4,6,9,9,9,7,7,7,7,7,7,7,11,8,7,7,7,7,3,3,3,3,8,8,9,9,9,9,9,6,9,8,8,8,8,7,7,7,6,6,6,6,6,6,10,6,6,6,6,6,3,3,3,3,6,6,6,6,6,6,6,6,7,6,6,6,6,6,6]);Jr.FontSizeLookupTables=new Map([["Arial",Jr.Arial],["'Arial'",Jr.Arial],['"Arial"',Jr.Arial],["Georgia",Jr.Georgia],["'Georgia'",Jr.Georgia],['"Georgia"',Jr.Georgia]]);Jr.ControlChars=32;class Ic{constructor(){this.id=or.newGuid(),this.x=0,this.y=0,this.width=0,this.height=0,this.totalWidth=0,this.totalHeight=0,this.firstMasterBarIndex=-1,this.lastMasterBarIndex=-1,this.renderResult=null}}class GO{constructor(){this.beats=[]}addBeat(e){e.barBounds=this,this.beats.push(e),this.masterBarBounds.addBeat(e)}findBeatAtPos(e){let r=null;for(let n of this.beats)if(!r||n.realBounds.x<e)r=n;else if(n.realBounds.x>e)break;return r}finish(){this.beats.sort((e,r)=>e.realBounds.x-r.realBounds.x)}}class jO{constructor(){this.notes=null}addNote(e){this.notes||(this.notes=[]),e.beatBounds=this,this.notes.push(e)}findNoteAtPos(e,r){const n=this.notes;if(!n)return null;for(let i of n){let s=i.noteHeadBounds.y+i.noteHeadBounds.h,a=i.noteHeadBounds.x+i.noteHeadBounds.w;if(i.noteHeadBounds.x<=e&&i.noteHeadBounds.y<=r&&e<=a&&r<=s)return i.note}return null}}class YO{constructor(){this.index=0,this.isFirstOfLine=!1,this.bars=[],this.staveGroupBounds=null}addBar(e){e.masterBarBounds=this,this.bars.push(e)}findBeatAtPos(e,r){let n=null,i=1e7;for(let s of this.bars){let a=s.findBeatAtPos(e);if(a&&(!n||n.realBounds.x<a.realBounds.x)){const o=Math.abs(a.realBounds.x-e);(!n||o<i)&&(n=a)}}return n?n.beat:null}finish(){this.bars.sort((e,r)=>e.realBounds.y<r.realBounds.y?-1:e.realBounds.y>r.realBounds.y?1:e.realBounds.x<r.realBounds.x?-1:e.realBounds.x>r.realBounds.x?1:0);for(const e of this.bars)e.finish()}addBeat(e){this.staveGroupBounds.boundsLookup.addBeat(e)}}class vT{}class XO{constructor(){this.index=0,this.bars=[]}finish(){for(let e of this.bars)e.finish()}addBar(e){this.boundsLookup.addMasterBar(e),e.staveGroupBounds=this,this.bars.push(e)}findBarAtPos(e){let r=null;for(let n of this.bars)if(!r||n.realBounds.x<e)r=n;else if(e>n.realBounds.x+n.realBounds.w)break;return r}}class Pp{constructor(){this._beatLookup=new Map,this._masterBarLookup=new Map,this._currentStaveGroup=null,this.staveGroups=[],this.isFinished=!1}toJson(){let e={},r=[];e.staveGroups=r;for(let n of this.staveGroups){let i={};i.visualBounds=this.boundsToJson(n.visualBounds),i.realBounds=this.boundsToJson(n.realBounds),i.bars=[];for(let s of n.bars){let a={};a.lineAlignedBounds=this.boundsToJson(s.lineAlignedBounds),a.visualBounds=this.boundsToJson(s.visualBounds),a.realBounds=this.boundsToJson(s.realBounds),a.index=s.index,a.bars=[];for(let o of s.bars){let l={};l.visualBounds=this.boundsToJson(o.visualBounds),l.realBounds=this.boundsToJson(o.realBounds),l.beats=[];for(let c of o.beats){let u={};u.visualBounds=this.boundsToJson(c.visualBounds),u.realBounds=this.boundsToJson(c.realBounds);let d=u;if(d.beatIndex=c.beat.index,d.voiceIndex=c.beat.voice.index,d.barIndex=c.beat.voice.bar.index,d.staffIndex=c.beat.voice.bar.staff.index,d.trackIndex=c.beat.voice.bar.staff.track.index,c.notes){let h=u.notes=[];for(let p of c.notes){let f={},m=f;m.index=p.note.index,f.noteHeadBounds=this.boundsToJson(p.noteHeadBounds),h.push(f)}}l.beats.push(u)}a.bars.push(l)}i.bars.push(a)}r.push(i)}return e}static fromJson(e,r){let n=new Pp,i=e.staveGroups;for(let s of i){let a=new XO;a.visualBounds=s.visualBounds,a.realBounds=s.realBounds,n.addStaveGroup(a);for(let o of s.bars){let l=new YO;l.index=o.index,l.isFirstOfLine=o.isFirstOfLine,l.lineAlignedBounds=o.lineAlignedBounds,l.visualBounds=o.visualBounds,l.realBounds=o.realBounds,a.addBar(l);for(let c of o.bars){let u=new GO;u.visualBounds=c.visualBounds,u.realBounds=c.realBounds,l.addBar(u);for(let d of c.beats){let h=new jO;h.visualBounds=d.visualBounds,h.realBounds=d.realBounds;let p=d;if(h.beat=r.tracks[p.trackIndex].staves[p.staffIndex].bars[p.barIndex].voices[p.voiceIndex].beats[p.beatIndex],d.notes){h.notes=[];for(let f of d.notes){let m=new vT,g=f;m.note=h.beat.notes[g.index],m.noteHeadBounds=f.noteHeadBounds,h.addNote(m)}}u.addBeat(h)}}}}return n}boundsToJson(e){let r={};return r.x=e.x,r.y=e.y,r.w=e.w,r.h=e.h,r}finish(){for(let e of this.staveGroups)e.finish();this.isFinished=!0}addStaveGroup(e){e.index=this.staveGroups.length,e.boundsLookup=this,this.staveGroups.push(e),this._currentStaveGroup=e}addMasterBar(e){e.staveGroupBounds?this._masterBarLookup.set(e.index,e):(e.staveGroupBounds=this._currentStaveGroup,this._masterBarLookup.set(e.index,e),this._currentStaveGroup.addBar(e))}addBeat(e){var r;this._beatLookup.has(e.beat.id)||this._beatLookup.set(e.beat.id,[]),(r=this._beatLookup.get(e.beat.id))==null||r.push(e)}findMasterBarByIndex(e){return this._masterBarLookup.has(e)?this._masterBarLookup.get(e):null}findMasterBar(e){let r=e.index;return this._masterBarLookup.has(r)?this._masterBarLookup.get(r):null}findBeat(e){const r=this.findBeats(e);return r?r[0]:null}findBeats(e){let r=e.id;return this._beatLookup.has(r)?this._beatLookup.get(r):null}getBeatAtPos(e,r){let n=0,i=this.staveGroups.length-1,s=-1;for(;n<=i;){let l=(i+n)/2|0,c=this.staveGroups[l];if(r>=c.realBounds.y&&r<=c.realBounds.y+c.realBounds.h){s=l;break}r<c.realBounds.y?i=l-1:n=l+1}if(s===-1)return null;let o=this.staveGroups[s].findBarAtPos(e);return o?o.findBeatAtPos(e,r):null}getNoteAtPos(e,r,n){const i=this.findBeats(e);if(i)for(const s of i){const a=s.findNoteAtPos(r,n);if(a)return a}return null}}class qO{constructor(e){this._currentLayoutMode=Wo.Page,this._currentRenderEngine=null,this._renderedTracks=null,this.canvas=null,this.score=null,this.tracks=null,this.layout=null,this.boundsLookup=null,this.width=0,this.preRender=new Lt,this.renderFinished=new Lt,this.partialRenderFinished=new Lt,this.partialLayoutFinished=new Lt,this.postRenderFinished=new wn,this.error=new Lt,this.settings=e,this.recreateCanvas(),this.recreateLayout()}destroy(){var e;this.score=null,(e=this.canvas)==null||e.destroy(),this.canvas=null,this.layout=null,this.boundsLookup=null,this.tracks=null}recreateCanvas(){var e;return this._currentRenderEngine!==this.settings.core.engine?((e=this.canvas)==null||e.destroy(),this.canvas=Ne.getRenderEngineFactory(this.settings.core.engine).createCanvas(),this._currentRenderEngine=this.settings.core.engine,!0):!1}recreateLayout(){return!this.layout||this._currentLayoutMode!==this.settings.display.layoutMode?(this.layout=Ne.getLayoutEngineFactory(this.settings.display.layoutMode).createLayout(this),this._currentLayoutMode=this.settings.display.layoutMode,!0):!1}renderScore(e,r){try{this.score=e;let n=null;if(e!=null&&r!=null){if(!r)n=e.tracks.slice(0);else{n=[];for(let i of r)i>=0&&i<e.tracks.length&&n.push(e.tracks[i])}n.length===0&&e.tracks.length>0&&n.push(e.tracks[0])}this.tracks=n,this.render()}catch(n){this.error.trigger(n)}}renderTracks(e){e.length===0?this.score=null:this.score=e[0].score,this.tracks=e,this.render()}updateSettings(e){this.settings=e}renderResult(e){try{const r=this.layout;r?(ve.debug("Rendering","Request render of lazy partial "+e),r.renderLazyPartial(e)):ve.warning("Rendering","Request render of lazy partial "+e+" ignored, no layout exists")}catch(r){this.error.trigger(r)}}render(){if(this.width===0){ve.warning("Rendering","AlphaTab skipped rendering because of width=0 (element invisible)",null);return}if(this.boundsLookup=new Pp,this.recreateCanvas(),this.canvas.lineWidth=this.settings.display.scale,this.canvas.settings=this.settings,!this.tracks||this.tracks.length===0||!this.score)ve.debug("Rendering","Clearing rendered tracks because no score or tracks are set"),this.preRender.trigger(!1),this._renderedTracks=null,this.onRenderFinished(),this.postRenderFinished.trigger(),ve.debug("Rendering","Clearing finished");else{ve.debug("Rendering","Rendering "+this.tracks.length+" tracks");for(let e=0;e<this.tracks.length;e++){let r=this.tracks[e];ve.debug("Rendering","Track "+e+": "+r.name)}this.preRender.trigger(!1),this.recreateLayout(),this.layoutAndRender(),ve.debug("Rendering","Rendering finished")}}resizeRender(){this.recreateLayout()||this.recreateCanvas()||this._renderedTracks!==this.tracks||!this.tracks?(ve.debug("Rendering","Starting full rerendering due to layout or canvas change",null),this.render()):this.layout.supportsResize?(ve.debug("Rendering","Starting optimized rerendering for resize"),this.boundsLookup=new Pp,this.preRender.trigger(!0),this.canvas.settings=this.settings,this.layout.resize(),this.onRenderFinished(),this.postRenderFinished.trigger()):ve.debug("Rendering","Current layout does not support dynamic resizing, nothing was done",null),ve.debug("Rendering","Resize finished")}layoutAndRender(){ve.debug("Rendering","Rendering at scale "+this.settings.display.scale+" with layout "+this.layout.name,null),this.layout.layoutAndRender(),this._renderedTracks=this.tracks,this.onRenderFinished(),this.postRenderFinished.trigger()}onRenderFinished(){var r;(r=this.boundsLookup)==null||r.finish();const e=new Ic;e.totalHeight=this.layout.height,e.totalWidth=this.layout.width,e.renderResult=this.canvas.onRenderFinished(),this.renderFinished.trigger(e)}}class wT{constructor(e){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this),!1)}static init(){Ne.globalThis.alphaTabWebWorker=new wT(Ne.globalThis)}handleMessage(e){let r=e.data;switch(r?r.cmd:""){case"alphaTab.initialize":let i=Qr.jsObjectToSettings(r.settings);ve.logLevel=i.core.logLevel,this._renderer=new qO(i),this._renderer.partialRenderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialRenderFinished",result:a})}),this._renderer.partialLayoutFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialLayoutFinished",result:a})}),this._renderer.renderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.renderFinished",result:a})}),this._renderer.postRenderFinished.on(()=>{var a;this._main.postMessage({cmd:"alphaTab.postRenderFinished",boundsLookup:((a=this._renderer.boundsLookup)==null?void 0:a.toJson())??null})}),this._renderer.preRender.on(a=>{this._main.postMessage({cmd:"alphaTab.preRender",resize:a})}),this._renderer.error.on(this.error.bind(this));break;case"alphaTab.invalidate":this._renderer.render();break;case"alphaTab.resizeRender":this._renderer.resizeRender();break;case"alphaTab.renderResult":this._renderer.renderResult(r.resultId);break;case"alphaTab.setWidth":this._renderer.width=r.width;break;case"alphaTab.renderScore":this.updateFontSizes(r.fontSizes);let s=r.score==null?null:Qr.jsObjectToScore(r.score,this._renderer.settings);this.renderMultiple(s,r.trackIndexes);break;case"alphaTab.updateSettings":this.updateSettings(r.settings);break}}updateFontSizes(e){if(e){Jr.FontSizeLookupTables||(Jr.FontSizeLookupTables=new Map);for(let r in e)Jr.FontSizeLookupTables.set(r,e[r])}}updateSettings(e){Wd.fromJson(this._renderer.settings,e)}renderMultiple(e,r){try{this._renderer.renderScore(e,r)}catch(n){this.error(n)}}error(e){ve.error("Worker","An unexpected error occurred in worker",e),this._main.postMessage({cmd:"alphaTab.error",error:e})}}class Ioe{constructor(){this._canvas=null,this._color=new _r(0,0,0,255),this._font=new Ot("Arial",10,Rr.Plain),this._lineWidth=0;let e=document.createElement("span");e.classList.add("at"),document.body.appendChild(e);let r=window.getComputedStyle(e),n=r.fontFamily;(n.startsWith('"')||n.startsWith("'"))&&(n=n.substr(1,n.length-2)),this._musicFont=new Ot(n,parseFloat(r.fontSize),Rr.Plain),this._measureCanvas=document.createElement("canvas"),this._measureCanvas.width=10,this._measureCanvas.height=10,this._measureCanvas.style.width="10px",this._measureCanvas.style.height="10px",this._measureContext=this._measureCanvas.getContext("2d"),this._measureContext.textBaseline="hanging"}destroy(){}onRenderFinished(){return null}beginRender(e,r){this._canvas=document.createElement("canvas"),this._canvas.width=e*Ne.HighDpiFactor|0,this._canvas.height=r*Ne.HighDpiFactor|0,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px",this._context=this._canvas.getContext("2d"),this._context.textBaseline="hanging",this._context.scale(Ne.HighDpiFactor,Ne.HighDpiFactor),this._context.lineWidth=this._lineWidth}endRender(){let e=this._canvas;return this._canvas=null,e}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._context.strokeStyle=e.rgba,this._context.fillStyle=e.rgba)}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._context&&(this._context.lineWidth=e)}fillRect(e,r,n,i){n>0&&this._context.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e|0,r|0,n,i)}beginPath(){this._context.beginPath()}closePath(){this._context.closePath()}moveTo(e,r){this._context.moveTo(e,r)}lineTo(e,r){this._context.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._context.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.fill()}strokeCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.stroke()}fill(){this._context.fill(),this._context.beginPath()}stroke(){this._context.stroke(),this._context.beginPath()}get font(){return this._font}set font(e){this._font=e,this._context&&(this._context.font=e.toCssString(this.settings.display.scale)),this._measureContext.font=e.toCssString(this.settings.display.scale)}get textAlign(){switch(this._context.textAlign){case"left":return et.Left;case"center":return et.Center;case"right":return et.Right;default:return et.Left}}set textAlign(e){switch(e){case et.Left:this._context.textAlign="left";break;case et.Center:this._context.textAlign="center";break;case et.Right:this._context.textAlign="right";break}}get textBaseline(){switch(this._context.textBaseline){case"hanging":return bt.Top;case"middle":return bt.Middle;case"bottom":return bt.Bottom;default:return bt.Top}}set textBaseline(e){switch(e){case bt.Top:this._context.textBaseline="hanging";break;case bt.Middle:this._context.textBaseline="middle";break;case bt.Bottom:this._context.textBaseline="bottom";break}}beginGroup(e){}endGroup(){}fillText(e,r,n){this._context.fillText(e,r,n)}measureText(e){return this._measureContext.measureText(e).width}fillMusicFontSymbol(e,r,n,i,s=!1){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s=!1){let a="";for(let o of i)o!==P.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s=!1){let a=this._context.textAlign,o=this._context.textBaseline,l=this._context.font;this._context.font=this._musicFont.toCssString(n),this._context.textBaseline="middle",s?this._context.textAlign="center":this._context.textAlign="left",this._context.fillText(i,e,r),this._context.textBaseline=o,this._context.font=l,this._context.textAlign=a}beginRotate(e,r,n){this._context.save(),this._context.translate(e,r),this._context.rotate(n*Math.PI/180)}endRotate(){this._context.restore()}}class no{constructor(e,r=!1){this._midiFile=e,this._smf1Mode=r}addTimeSignature(e,r,n){let i=0,s=n;for(;s=s>>1,s>0;)i++;this._midiFile.addEvent(new MO(0,e,r,i,48,8))}addRest(e,r,n){this._smf1Mode||this._midiFile.addEvent(new RO(e,r,n))}addNote(e,r,n,i,s,a){this._midiFile.addEvent(new IO(e,r,a,no.fixValue(i),no.fixValue(s))),this._midiFile.addEvent(new LO(e,r+n,a,no.fixValue(i),no.fixValue(s)))}static fixValue(e){return e>127?127:e<0?0:e}addControlChange(e,r,n,i,s){this._midiFile.addEvent(new FO(e,r,n,i,no.fixValue(s)))}addProgramChange(e,r,n,i){this._midiFile.addEvent(new AO(e,r,n,i))}addTempo(e,r){const n=6e7/r|0;this._midiFile.addEvent(new OO(e,n))}addBend(e,r,n,i){i>=yt.MaxPitchWheel?i=yt.MaxPitchWheel:i=Math.floor(i),this._midiFile.addEvent(new $O(e,r,n,i))}addNoteBend(e,r,n,i,s){this._smf1Mode?this.addBend(e,r,n,s):(s=s*yt.MaxPitchWheel20/yt.MaxPitchWheel,this._midiFile.addEvent(new VO(e,r,n,i,s)))}finishTrack(e,r){(this._midiFile.format==zd.MultiTrack||e==0)&&this._midiFile.addEvent(new zO(e,r))}}class Loe{constructor(e,r){this.closingIndex=0,this.group=e,this.opening=r,e.closings=e.closings.sort((n,i)=>n.index-i.index),this.iterations=e.closings.map(n=>0)}}class Foe{get finished(){return this.index>=this._score.masterBars.length}constructor(e){this._repeatStack=[],this._groupsOnStack=new Set,this._previousAlternateEndings=0,this.shouldPlay=!0,this.index=0,this.currentTick=0,this._score=e}processCurrent(){const e=this._score.masterBars[this.index];let r=e.alternateEndings;if(r===0&&(r=this._previousAlternateEndings),e===e.repeatGroup.opening&&e.repeatGroup.isClosed&&!this._groupsOnStack.has(e.repeatGroup)){const n=new Loe(e.repeatGroup,e);this._repeatStack.push(n),this._groupsOnStack.add(e.repeatGroup),this._previousAlternateEndings=0,r=e.alternateEndings}if(this._repeatStack.length===0||r===0)this.shouldPlay=!0;else{const n=this._repeatStack[this._repeatStack.length-1],i=n.iterations[n.closingIndex];this._previousAlternateEndings=r,r&1<<i?this.shouldPlay=!0:this.shouldPlay=!1}this.shouldPlay&&(this.currentTick+=e.calculateDuration())}moveNext(){const r=this._score.masterBars[this.index].repeatCount-1;if(this._repeatStack.length>0&&r>0){const n=this._repeatStack[this._repeatStack.length-1];if(n.iterations[n.closingIndex]<r){this.index=n.opening.index,n.iterations[n.closingIndex]++;for(let s=0;s<n.closingIndex;s++)n.iterations[s]=0;n.closingIndex=0,this._previousAlternateEndings=0}else n.closingIndex<n.group.closings.length-1?(n.closingIndex++,this.index++):(this._repeatStack.pop(),this._groupsOnStack.delete(n.group),this.index++)}else this.index++}}class Aoe{constructor(e,r){this.beat=e,this.playbackStart=r}}class Es{get duration(){return this.end-this.start}constructor(e,r){this._highlightedBeats=new Map,this.highlightedBeats=[],this.nextBeat=null,this.previousBeat=null,this.start=e,this.end=r}highlightBeat(e,r){e.isEmpty&&!e.voice.isEmpty||this._highlightedBeats.has(e.id)||(this._highlightedBeats.set(e.id,!0),this.highlightedBeats.push(new Aoe(e,r)))}getVisibleBeatAtStart(e){for(const r of this.highlightedBeats)if(r.playbackStart==this.start&&e.has(r.beat.voice.bar.staff.track.index))return r.beat;return null}}class KO{constructor(){this.start=0,this.end=0,this.tempo=0,this.firstBeat=null,this.lastBeat=null,this.nextMasterBar=null,this.previousMasterBar=null}insertAfter(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.nextBeat=e.nextBeat,r.previousBeat=e,e.nextBeat&&(e.nextBeat.previousBeat=r),e.nextBeat=r,e==this.lastBeat&&(this.lastBeat=r))}insertBefore(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.previousBeat=e.previousBeat,r.nextBeat=e,e.previousBeat&&(e.previousBeat.nextBeat=r),e.previousBeat=r,e==this.firstBeat&&(this.firstBeat=r))}addBeat(e,r,n,i){const s=n+i;if(this.firstBeat==null){const a=new Es(n,s);a.highlightBeat(e,r),this.insertAfter(this.firstBeat,a)}else if(n>=this.lastBeat.end){const a=new Es(this.lastBeat.end,s);a.highlightBeat(e,r),this.insertAfter(this.lastBeat,a)}else{let a=null;if(n<this.firstBeat.start)a=this.firstBeat;else{let o=this.firstBeat;for(;o!=null;){if(n>=o.start&&n<o.end){a=o;break}o=o.nextBeat}if(a===null)throw new Nn(Bn.General,"Error on building lookup, unknown variant")}if(n<a.start)if(s==a.start){const o=new Es(n,a.start);o.highlightBeat(e,r),this.insertBefore(this.firstBeat,o)}else if(s<a.end){const o=new Es(n,a.start);o.highlightBeat(e,r),this.insertBefore(a,o);const l=new Es(a.start,s);for(const c of a.highlightedBeats)l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,r),this.insertBefore(a,l),a.start=s}else if(s==a.end){const o=new Es(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o)}else{const o=new Es(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(n>a.start)if(s==a.end){const o=new Es(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o)}else if(s<a.end){const o=new Es(a.start,n);this.insertBefore(a,o);const l=new Es(n,s);this.insertBefore(a,l);for(const c of a.highlightedBeats)o.highlightBeat(c.beat,c.playbackStart),l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,r),a.start=s}else{const o=new Es(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(s===a.end)a.highlightBeat(e,r);else if(s<a.end){const o=new Es(a.start,s);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);o.highlightBeat(e,r),a.start=s,this.insertBefore(a,o)}else a.highlightBeat(e,r),this.addBeat(e,r,a.end,s-a.end)}}}class Ooe{get start(){return this.masterBar.start+this.beatLookup.start}get end(){return this.start+this.tickDuration}constructor(e){this.nextBeat=null,this.tickDuration=0,this.duration=0,this.masterBar=e}}class $oe{constructor(){this._currentMasterBar=null,this.masterBarLookup=new Map,this.masterBars=[]}findBeat(e,r,n=null){let i=null;return n&&(i=this.findBeatFast(e,n,r)),i||(i=this.findBeatSlow(e,n,r,!1)),i}findBeatFast(e,r,n){if(n>=r.start&&n<r.end)return r;if(r.nextBeat&&n>=r.nextBeat.start&&n<r.nextBeat.end){const i=r.nextBeat;return this.fillNextBeat(i,e),i}return null}fillNextBeat(e,r){e.nextBeat=this.findBeatInMasterBar(e.masterBar,e.beatLookup.nextBeat,e.end,r,!1,!0),e.nextBeat==null&&(e.nextBeat=this.findBeatSlow(r,e,e.end,!0)),e.nextBeat&&(e.tickDuration=e.nextBeat.start-e.start,e.duration=dt.ticksToMillis(e.tickDuration,e.masterBar.tempo)),e.nextBeat||(e.tickDuration=e.masterBar.end-e.start,e.duration=dt.ticksToMillis(e.tickDuration,e.masterBar.tempo))}findBeatSlow(e,r,n,i){let s=null;if(r!=null&&(r.masterBar.start<=n&&r.masterBar.end>n?s=r.masterBar:r.masterBar.nextMasterBar&&r.masterBar.nextMasterBar.start<=n&&r.masterBar.nextMasterBar.end>n&&(s=r.masterBar.nextMasterBar)),s||(s=this.findMasterBar(n)),!s)return null;for(;s;){if(s.firstBeat){let a=this.findBeatInMasterBar(s,s.firstBeat,n,e,!0,i);if(a)return a}s=s.nextMasterBar}return null}findBeatInMasterBar(e,r,n,i,s,a){if(!r)return null;let o=null,l=null;const c=n-e.start;for(;r!=null&&l==null;){if(r.start<=c&&c<r.end){if(o=r,l=r.getVisibleBeatAtStart(i),!l)if(a){let d=e;for(;d!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=d;break}r=r.nextBeat}(!l||!o)&&(d=d.nextMasterBar,r=(d==null?void 0:d.firstBeat)??null)}}else{let d=e;for(;d!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=d;break}r=r.previousBeat}(!l||!o)&&(d=d.previousMasterBar,r=(d==null?void 0:d.firstBeat)??null)}}}else if(r.end>c)break;r=(r==null?void 0:r.nextBeat)??null}return l==null?null:this.createResult(e,o,l,s,i)}createResult(e,r,n,i,s){const a=new Ooe(e);return a.beat=n,a.beatLookup=r,a.tickDuration=r.end-r.start,i&&this.fillNextBeat(a,s),a.duration=dt.ticksToMillis(a.tickDuration,e.tempo),a}findMasterBar(e){const r=this.masterBars;let n=0,i=r.length-1;for(;n<=i;){const s=(i+n)/2|0,a=r[s];if(e>=a.start&&e<a.end)return a;e<a.start?i=s-1:n=s+1}return null}getMasterBar(e){if(!this.masterBarLookup.has(e.index)){const r=new KO;return r.masterBar=e,r}return this.masterBarLookup.get(e.index)}getMasterBarStart(e){return this.masterBarLookup.has(e.index)?this.masterBarLookup.get(e.index).start:0}getBeatStart(e){return this.masterBarLookup.has(e.voice.bar.index)?this.masterBarLookup.get(e.voice.bar.index).start+e.playbackStart:0}addMasterBar(e){this.masterBars.push(e),this._currentMasterBar&&(e.previousMasterBar=this._currentMasterBar,this._currentMasterBar.nextMasterBar=e),this._currentMasterBar=e,this.masterBarLookup.has(e.masterBar.index)||this.masterBarLookup.set(e.masterBar.index,e)}addBeat(e,r,n){const i=this._currentMasterBar;if(i)if(r<0&&i.previousMasterBar){const s=i.previousMasterBar.end-i.previousMasterBar.start,a=s+r,o=a+n;if(i.previousMasterBar.addBeat(e,a,a,n),o>s){const l=n+r;i.addBeat(e,r,0,l)}}else i.addBeat(e,r,r,n)}}class Voe{constructor(){this.noteOnly=0,this.untilTieOrSlideEnd=0,this.letRingEnd=0}}class zoe{constructor(){this.firstBeatDuration=0,this.secondBeatStartOffset=0,this.secondBeatDuration=0}}class Yt{constructor(e,r,n){this._currentTempo=0,this._programsPerChannel=new Map,this.tickLookup=new $oe,this.applyTranspositionPitches=!0,this.transpositionPitches=new Map,this._currentTripletFeel=null,this.vibratoResolution=16,this._score=e,this._settings=r||new au,this._currentTempo=this._score.tempo,this._handler=n}generate(){this.transpositionPitches.clear();for(const n of this._score.tracks)this.generateTrack(n);ve.debug("Midi","Begin midi generation");const e=new Foe(this._score);let r=null;for(;!e.finished;){const n=e.index,i=this._score.masterBars[n],s=e.currentTick;if(e.processCurrent(),e.shouldPlay){this.generateMasterBar(i,r,s);for(const a of this._score.tracks)for(const o of a.staves)n<o.bars.length&&this.generateBar(o.bars[n],s)}e.moveNext(),r=i}for(const n of this._score.tracks)this._handler.finishTrack(n.index,e.currentTick);ve.debug("Midi","Midi generation done")}generateTrack(e){this.generateChannel(e,e.playbackInfo.primaryChannel,e.playbackInfo),e.playbackInfo.primaryChannel!==e.playbackInfo.secondaryChannel&&this.generateChannel(e,e.playbackInfo.secondaryChannel,e.playbackInfo)}addProgramChange(e,r,n,i){(!this._programsPerChannel.has(n)||this._programsPerChannel.get(n)!==i)&&(this._handler.addProgramChange(e.index,r,n,i),this._programsPerChannel.set(n,i))}static buildTranspositionPitches(e,r){const n=new Map;for(const i of e.tracks){const s=i.index<r.notation.transpositionPitches.length?r.notation.transpositionPitches[i.index]:0;n.set(i.playbackInfo.primaryChannel,s),n.set(i.playbackInfo.secondaryChannel,s)}return n}generateChannel(e,r,n){const i=e.index<this._settings.notation.transpositionPitches.length?this._settings.notation.transpositionPitches[e.index]:0;this.transpositionPitches.set(r,i);let s=Yt.toChannelShort(n.volume),a=Yt.toChannelShort(n.balance);this._handler.addControlChange(e.index,0,r,er.VolumeCoarse,s),this._handler.addControlChange(e.index,0,r,er.PanCoarse,a),this._handler.addControlChange(e.index,0,r,er.ExpressionControllerCoarse,127),this._handler.addControlChange(e.index,0,r,er.RegisteredParameterFine,0),this._handler.addControlChange(e.index,0,r,er.RegisteredParameterCourse,0),this._handler.addControlChange(e.index,0,r,er.DataEntryFine,0),this._handler.addControlChange(e.index,0,r,er.DataEntryCoarse,Yt.PitchBendRangeInSemitones),this.addProgramChange(e,0,r,n.program)}static toChannelShort(e){const r=Math.max(-32768,Math.min(32767,e*8-1));return Math.max(r,-1)+1}generateMasterBar(e,r,n){(!r||r.timeSignatureDenominator!==e.timeSignatureDenominator||r.timeSignatureNumerator!==e.timeSignatureNumerator)&&this._handler.addTimeSignature(n,e.timeSignatureNumerator,e.timeSignatureDenominator),e.tempoAutomation?(this._handler.addTempo(n,e.tempoAutomation.value),this._currentTempo=e.tempoAutomation.value):r||(this._handler.addTempo(n,e.score.tempo),this._currentTempo=e.score.tempo);const i=new KO;i.masterBar=e,i.start=n,i.tempo=this._currentTempo,i.end=i.start+e.calculateDuration(),this.tickLookup.addMasterBar(i)}generateBar(e,r){let n=this.getPlaybackBar(e);for(const i of n.voices)this.generateVoice(i,r,e)}getPlaybackBar(e){switch(e.simileMark){case vs.Simple:e.previousBar&&(e=this.getPlaybackBar(e.previousBar));break;case vs.FirstOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break;case vs.SecondOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break}return e}generateVoice(e,r,n){if(!(e.isEmpty&&(!e.bar.isEmpty||e.index!==0)))for(const i of e.beats)this.generateBeat(i,r,n)}generateBeat(e,r,n){let i=e.playbackStart,s=e.playbackDuration;e.voice.bar.isEmpty?s=e.voice.bar.masterBar.calculateDuration():e.voice.bar.masterBar.tripletFeel!==xt.NoTripletFeel&&this._settings.player.playTripletFeel&&(this._currentTripletFeel?(i-=this._currentTripletFeel.secondBeatStartOffset,s=this._currentTripletFeel.secondBeatDuration,this._currentTripletFeel=null):(this._currentTripletFeel=Yt.calculateTripletFeelInfo(i,s,e),this._currentTripletFeel&&(s=this._currentTripletFeel.firstBeatDuration))),n===e.voice.bar?this.tickLookup.addBeat(e,i,s):this.tickLookup.addBeat(e,0,s);const a=e.voice.bar.staff.track;for(const o of e.automations)this.generateAutomation(e,o,r);if(e.isRest)this._handler.addRest(a.index,r+i,a.playbackInfo.primaryChannel);else{let o=this.getBrushInfo(e);for(const l of e.notes)this.generateNote(l,r+i,s,o)}if(e.vibrato!==$t.None){let o=240,l=3;switch(e.vibrato){case $t.Slight:o=this._settings.player.vibrato.beatSlightLength,l=this._settings.player.vibrato.beatSlightAmplitude;break;case $t.Wide:o=this._settings.player.vibrato.beatWideLength,l=this._settings.player.vibrato.beatWideAmplitude;break}this.generateVibratorWithParams(r+i,e.playbackDuration,o,l,(c,u)=>{this._handler.addBend(e.voice.bar.staff.track.index,c,a.playbackInfo.secondaryChannel,u)})}}static calculateTripletFeelInfo(e,r,n){let i;switch(n.voice.bar.masterBar.tripletFeel){case xt.Triplet8th:case xt.Dotted8th:case xt.Scottish8th:i=H.Eighth;break;case xt.Triplet16th:case xt.Dotted16th:case xt.Scottish16th:i=H.Sixteenth;break;default:return null}const s=dt.toTicks(i);if(r!==s||e%s!==0||!n.nextBeat||n.nextBeat.voice!==n.voice||n.playbackDuration!==s)return null;const a=new zoe;switch(n.voice.bar.masterBar.tripletFeel){case xt.Triplet8th:a.firstBeatDuration=dt.applyTuplet(dt.toTicks(H.Quarter),3,2),a.secondBeatDuration=dt.applyTuplet(dt.toTicks(H.Eighth),3,2);break;case xt.Dotted8th:a.firstBeatDuration=dt.applyDot(dt.toTicks(H.Eighth),!1),a.secondBeatDuration=dt.toTicks(H.Sixteenth);break;case xt.Scottish8th:a.firstBeatDuration=dt.toTicks(H.Sixteenth),a.secondBeatDuration=dt.applyDot(dt.toTicks(H.Eighth),!1);break;case xt.Triplet16th:a.firstBeatDuration=dt.applyTuplet(dt.toTicks(H.Eighth),3,2),a.secondBeatDuration=dt.applyTuplet(dt.toTicks(H.Sixteenth),3,2);break;case xt.Dotted16th:a.firstBeatDuration=dt.applyDot(dt.toTicks(H.Sixteenth),!1),a.secondBeatDuration=dt.toTicks(H.ThirtySecond);break;case xt.Scottish16th:a.firstBeatDuration=dt.toTicks(H.ThirtySecond),a.secondBeatDuration=dt.applyDot(dt.toTicks(H.Sixteenth),!1);break}return a.secondBeatStartOffset=r-a.firstBeatDuration,a}generateNote(e,r,n,i){const s=e.beat.voice.bar.staff.track,a=e.beat.voice.bar.staff;let o=e.calculateRealValue(this.applyTranspositionPitches,!0);if(e.isPercussion){const f=Fn.getArticulation(e);f&&(o=f.outputMidiNumber)}const l=e.isStringed&&e.string<=i.length?i[e.string-1]:0,c=r+l,u=this.getNoteDuration(e,n);u.untilTieOrSlideEnd-=l,u.noteOnly-=l,u.letRingEnd-=l;const d=Yt.getNoteVelocity(e),h=e.hasBend||e.beat.hasWhammyBar||e.beat.vibrato!==$t.None?s.playbackInfo.secondaryChannel:s.playbackInfo.primaryChannel;let p=0;if(e.hasBend?p=Yt.getPitchWheel(e.bendPoints[0].value):e.beat.hasWhammyBar?p=Yt.getPitchWheel(e.beat.whammyBarPoints[0].value):e.isTieDestination||e.slideOrigin&&e.slideOrigin.slideOutType===pt.Legato?p=-1:p=Yt.getPitchWheel(0),p>=0&&this._handler.addNoteBend(s.index,c,h,o,p),e.beat.fadeIn&&this.generateFadeIn(e,c,u),e.isTrill&&!a.isPercussion){this.generateTrill(e,c,u,o,d,h);return}if(e.beat.isTremolo){this.generateTremoloPicking(e,c,u,o,d,h);return}if(e.hasBend?this.generateBend(e,c,u,o,h):e.beat.hasWhammyBar&&e.index===0?this.generateWhammy(e.beat,c,u,h):e.slideInType!==Pn.None||e.slideOutType!==pt.None?this.generateSlide(e,c,u,o,h):(e.vibrato!==$t.None||e.isTieDestination&&e.tieOrigin.vibrato!==$t.None)&&this.generateVibrato(e,c,u,o,h),!e.isTieDestination&&(!e.slideOrigin||e.slideOrigin.slideOutType!==pt.Legato)){let f=Math.max(u.untilTieOrSlideEnd,u.letRingEnd);this._handler.addNote(s.index,c,f,o,d,h)}}getNoteDuration(e,r){const n=new Voe;if(n.noteOnly=r,n.untilTieOrSlideEnd=r,n.letRingEnd=r,e.isDead)return n.noteOnly=this.applyStaticDuration(Yt.DefaultDurationDead,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isPalmMute)return n.noteOnly=this.applyStaticDuration(Yt.DefaultDurationPalmMute,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isStaccato)return n.noteOnly=r/2|0,n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isTieOrigin){const i=e.tieDestination;if(i)if(e.isTieDestination){const s=this.getNoteDuration(i,i.beat.playbackDuration);n.untilTieOrSlideEnd=r+s.untilTieOrSlideEnd}else{const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}else if(e.slideOutType===pt.Legato){const i=e.slideTarget;if(i){const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}if(e.isLetRing&&this._settings.notation.notationMode===bn.GuitarPro){let i=e.beat,s=0;const a=e.beat.voice.bar.masterBar.calculateDuration();for(;i.nextBeat;){let o=i.nextBeat;if(o.isRest||e.isStringed&&o.hasNoteOnString(e.string))break;if(i=i.nextBeat,s=i.absolutePlaybackStart-e.beat.absolutePlaybackStart+i.playbackDuration,s>a){s=a;break}}i===e.beat?n.letRingEnd=r:n.letRingEnd=s}else n.letRingEnd=n.untilTieOrSlideEnd;return n}applyStaticDuration(e,r){const n=this._currentTempo*e/Ie.MaxPosition|0;return Math.min(n,r)}static getNoteVelocity(e){let r=e.dynamics;switch(!e.beat.voice.bar.staff.isPercussion&&e.hammerPullOrigin&&r--,e.isGhost&&r--,e.accentuated){case sn.Normal:r++;break;case sn.Heavy:r+=2;break}return dt.dynamicToVelocity(r)}generateFadeIn(e,r,n){const i=e.beat.voice.bar.staff.track,a=Yt.toChannelShort(i.playbackInfo.volume)/n.noteOnly,o=120,l=n.noteOnly/o|0,c=r+n.noteOnly;for(let u=l-1;u>=0;u--){const d=c-u*o,h=(d-r)*a;u===l-1&&(this._handler.addControlChange(i.index,r,i.playbackInfo.primaryChannel,er.VolumeCoarse,h),this._handler.addControlChange(i.index,r,i.playbackInfo.secondaryChannel,er.VolumeCoarse,h)),this._handler.addControlChange(i.index,d,i.playbackInfo.primaryChannel,er.VolumeCoarse,h),this._handler.addControlChange(i.index,d,i.playbackInfo.secondaryChannel,er.VolumeCoarse,h)}}generateVibrato(e,r,n,i,s){let a=0,o=0;switch(e.vibrato!==$t.None?e.vibrato:e.isTieDestination?e.tieOrigin.vibrato:$t.Slight){case $t.Slight:a=this._settings.player.vibrato.noteSlightLength,o=this._settings.player.vibrato.noteSlightAmplitude;break;case $t.Wide:a=this._settings.player.vibrato.noteWideLength,o=this._settings.player.vibrato.noteWideAmplitude;break;default:return}const c=e.beat.voice.bar.staff.track;this.generateVibratorWithParams(r,n.noteOnly,a,o,(u,d)=>{this._handler.addNoteBend(c.index,u,s,i,d)})}generateVibratorWithParams(e,r,n,i,s){const a=this.vibratoResolution,o=n/2|0;e+=n;const l=e+r;for(;e<l;){let c=0;const u=e+n<l?n:l-e;for(;c<u;){let d=i*Math.sin(c*Math.PI/o);s(e+c|0,Yt.getPitchWheel(d)),c+=a}e+=n}}static getPitchWheel(e){return yt.DefaultPitchWheel+e/2*Yt.PitchValuePerSemitone}generateSlide(e,r,n,i,s){let a=e.slideOutType===pt.Legato?n.noteOnly:n.untilTieOrSlideEnd,o=[],l=e.beat.voice.bar.staff.track;const c=this._settings.player.slide.simpleSlidePitchOffset,u=Math.floor(Ie.MaxPosition*this._settings.player.slide.simpleSlideDurationRatio),d=Math.floor(Ie.MaxPosition*this._settings.player.slide.shiftSlideDurationRatio);switch(e.slideInType){case Pn.IntoFromAbove:o.push(new Ie(0,c)),o.push(new Ie(u,0));break;case Pn.IntoFromBelow:o.push(new Ie(0,-c)),o.push(new Ie(u,0));break}switch(e.slideOutType){case pt.Legato:case pt.Shift:o.push(new Ie(d,0));const h=(e.slideTarget.calculateRealValue(this.applyTranspositionPitches,!0)-e.calculateRealValue(this.applyTranspositionPitches,!0))*2;o.push(new Ie(Ie.MaxPosition,h));break;case pt.OutDown:o.push(new Ie(Ie.MaxPosition-u,0)),o.push(new Ie(Ie.MaxPosition,-c));break;case pt.OutUp:o.push(new Ie(Ie.MaxPosition-u,0)),o.push(new Ie(Ie.MaxPosition,c));break}this.generateWhammyOrBend(r,a,o,(h,p)=>{this._handler.addNoteBend(l.index,h,s,i,p)})}generateBend(e,r,n,i,s){let a=e.bendPoints,o=e.beat.voice.bar.staff.track;const l=(p,f)=>{this._handler.addNoteBend(o.index,p,s,i,f)};let c=null,u;if(e.isTieOrigin&&this._settings.notation.extendBendArrowsOnTiedNotes){let p=e;for(;p.isTieOrigin&&!p.tieDestination.hasBend;)p=p.tieDestination;u=p.beat.absolutePlaybackStart-e.beat.absolutePlaybackStart+this.getNoteDuration(p,p.beat.playbackDuration).noteOnly}else if(e.isTieOrigin&&e.beat.graceType!==tt.None){switch(e.tieDestination.bendType){case Ue.Bend:case Ue.BendRelease:case Ue.PrebendBend:c=e.tieDestination.bendPoints[1].value;break;case Ue.Prebend:case Ue.PrebendRelease:c=e.tieDestination.bendPoints[0].value;break}u=Math.max(n.noteOnly,dt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo))}else u=n.noteOnly;a[0].value>0&&!e.isContinuedBend&&r>0&&r--;const d=Math.min(u,dt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));let h=[];switch(e.bendType){case Ue.Custom:h=a;break;case Ue.Bend:case Ue.Release:switch(e.bendStyle){case Zt.Default:h=a;break;case Zt.Gradual:h.push(new Ie(0,e.bendPoints[0].value)),(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),h.push(new Ie(Ie.MaxPosition,c));break;case Zt.Fast:(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),e.beat.graceType===tt.BendGrace?this.generateSongBookWhammyOrBend(r,u,!0,[e.bendPoints[0].value,c],d,l):this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,c],d,l);return}break;case Ue.BendRelease:switch(e.bendStyle){case Zt.Default:h=a;break;case Zt.Gradual:h.push(new Ie(0,e.bendPoints[0].value)),h.push(new Ie(Ie.MaxPosition/2|0,e.bendPoints[1].value)),h.push(new Ie(Ie.MaxPosition,e.bendPoints[2].value));break;case Zt.Fast:this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,e.bendPoints[1].value,e.bendPoints[2].value],d,l);return}break;case Ue.Hold:h=a;break;case Ue.Prebend:h=a;break;case Ue.PrebendBend:switch(e.bendStyle){case Zt.Default:h=a;break;case Zt.Gradual:h.push(new Ie(0,e.bendPoints[0].value)),h.push(new Ie(Ie.MaxPosition,e.bendPoints[1].value));break;case Zt.Fast:const p=Yt.getPitchWheel(e.bendPoints[0].value);l(r,p|0),(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,c],d,l);return}break;case Ue.PrebendRelease:switch(e.bendStyle){case Zt.Default:h=a;break;case Zt.Gradual:h.push(new Ie(0,e.bendPoints[0].value)),h.push(new Ie(Ie.MaxPosition,e.bendPoints[1].value));break;case Zt.Fast:const p=Yt.getPitchWheel(e.bendPoints[0].value);l(r,p|0),this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,e.bendPoints[1].value],d,l);return}break}this.generateWhammyOrBend(r,u,h,l)}generateSongBookWhammyOrBend(e,r,n,i,s,a){const o=n?e:e+r-s,l=s/(i.length-1);for(let c=0;c<i.length-1;c++){const u=Yt.getPitchWheel(i[c]),d=Yt.getPitchWheel(i[c+1]),h=o+l*c;this.generateBendValues(h,l,u,d,a)}}generateWhammy(e,r,n,i){const s=e.whammyBarPoints,a=e.voice.bar.staff.track,o=n.noteOnly;s[0].value>0&&!e.isContinuedWhammy&&r--;const l=(u,d)=>{this._handler.addBend(a.index,u,i,d)};let c=[];switch(e.whammyBarType){case Vt.Custom:c=s;break;case Vt.Dive:switch(e.whammyStyle){case Zt.Default:c=s;break;case Zt.Gradual:c.push(new Ie(0,s[0].value)),c.push(new Ie(Ie.MaxPosition,s[1].value));break;case Zt.Fast:const u=Math.min(o,dt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],u,l);return}break;case Vt.Dip:switch(e.whammyStyle){case Zt.Default:c=s;break;case Zt.Gradual:c.push(new Ie(0,s[0].value)),c.push(new Ie(Ie.MaxPosition/2|0,s[1].value)),c.push(new Ie(Ie.MaxPosition,s[2].value));break;case Zt.Fast:const u=Math.min(o,dt.millisToTicks(this._settings.player.songBookDipDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!0,[s[0].value,s[1].value,s[2].value],u,l);return}break;case Vt.Hold:c=s;break;case Vt.Predive:c=s;break;case Vt.PrediveDive:switch(e.whammyStyle){case Zt.Default:c=s;break;case Zt.Gradual:c.push(new Ie(0,s[0].value)),c.push(new Ie(Ie.MaxPosition/2|0,s[0].value)),c.push(new Ie(Ie.MaxPosition,s[1].value));break;case Zt.Fast:const u=Yt.getPitchWheel(s[0].value);this._handler.addBend(a.index,r,i,u|0);const d=Math.min(o,dt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],d,l);return}break}this.generateWhammyOrBend(r,o,c,l)}generateWhammyOrBend(e,r,n,i){const s=r/Ie.MaxPosition;for(let a=0;a<n.length-1;a++){const o=n[a],l=n[a+1],c=Yt.getPitchWheel(o.value),u=Yt.getPitchWheel(l.value),d=s*(l.offset-o.offset),h=e+s*o.offset;this.generateBendValues(h,d,c,u,i)}}generateBendValues(e,r,n,i,s){const a=dt.ticksToMillis(r,this._currentTempo),o=Math.abs(i-n)/Yt.PitchValuePerSemitone,l=Math.max(Yt.MinBreakpointsPerSemitone*o,a/Yt.MillisecondsPerBreakpoint),c=r/l,u=(i-n)/l;for(let d=0;d<l;d++)s(e|0,Math.round(n)),n+=u,e+=c;n<i&&s(e|0,i)}generateTrill(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track,l=e.stringTuning+e.trillFret;let c=dt.toTicks(e.trillSpeed),u=!0,d=r,h=r+n.untilTieOrSlideEnd;for(;d+10<h;)d+c>=h&&(c=h-d),this._handler.addNote(o.index,d,c,u?l:i,s,a),u=!u,d+=c}generateTremoloPicking(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track;let l=dt.toTicks(e.beat.tremoloSpeed),c=r;const u=r+n.untilTieOrSlideEnd;for(;c+10<u;)c+l>=u&&(l=u-c),this._handler.addNote(o.index,c,l,i,s,a),c+=l}getBrushInfo(e){const r=new Int32Array(e.voice.bar.staff.tuning.length);if(e.brushType!==dr.None){let n=0,i=0;for(const s of e.notes)s.isTieDestination||(n|=1<<s.string-1,i++);if(e.notes.length>0){let s=0;const a=e.brushDuration/(i-1)|0;for(let o=0;o<e.voice.bar.staff.tuning.length;o++){let l=e.brushType===dr.ArpeggioDown||e.brushType===dr.BrushDown?o:r.length-1-o;n&1<<l&&(r[l]=s,s+=a)}}}return r}generateAutomation(e,r,n){switch(r.type){case vn.Instrument:this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,(r.value|0)&255),this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,(r.value|0)&255);break;case vn.Balance:let i=Yt.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,er.PanCoarse,i),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,er.PanCoarse,i);break;case vn.Volume:let s=Yt.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,er.VolumeCoarse,s),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,er.VolumeCoarse,s);break}}prepareSingleBeat(e){let r=-1,n=-1,i=e;for(;i&&(r===-1||n===-1);){for(const c of e.automations)switch(c.type){case vn.Instrument:n=c.value;break;case vn.Tempo:r=c.value;break}i=i.previousBeat}const s=e.voice.bar.staff.track,a=e.voice.bar.masterBar;r===-1&&(r=a.score.tempo),n===-1&&(n=s.playbackInfo.program);const o=s.playbackInfo.volume;this.generateTrack(s),this._handler.addTimeSignature(0,a.timeSignatureNumerator,a.timeSignatureDenominator),this._handler.addTempo(0,r);let l=Yt.toChannelShort(o);this._handler.addControlChange(0,0,s.playbackInfo.primaryChannel,er.VolumeCoarse,l),this._handler.addControlChange(0,0,s.playbackInfo.secondaryChannel,er.VolumeCoarse,l)}generateSingleBeat(e){this.prepareSingleBeat(e),this.generateBeat(e,-e.playbackStart,e.voice.bar)}generateSingleNote(e){this.prepareSingleBeat(e.beat),this.generateNote(e,0,e.beat.playbackDuration,new Int32Array(e.beat.voice.bar.staff.tuning.length))}}Yt.DefaultDurationDead=30;Yt.DefaultDurationPalmMute=80;Yt.PitchBendRangeInSemitones=8*2;Yt.PitchValuePerSemitone=yt.DefaultPitchWheel/Yt.PitchBendRangeInSemitones;Yt.MinBreakpointsPerSemitone=6;Yt.MillisecondsPerBreakpoint=150;class Woe{constructor(){this.startTick=0,this.endTick=0}}class jr{constructor(e,r){this.width=0,this.height=0,this.x=e,this.y=r}get scale(){return this.renderer.scale}doLayout(){}paint(e,r,n){}}class Ha extends jr{constructor(e=0,r=0){super(e,r),this.beat=null,this.nextGlyph=null,this.previousGlyph=null}}class Hr extends Ha{constructor(e,r,n,i){super(e,r),this.glyphScale=0,this.glyphScale=n,this.symbol=i}paint(e,r,n){n.fillMusicFontSymbol(e+this.x,r+this.y,this.glyphScale*this.scale,this.symbol,!1)}}class wt extends Hr{constructor(e,r,n,i){super(e,r,i?wt.GraceScale:1,wt.getSymbol(n)),this._isGrace=i,this._duration=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1)}doLayout(){let e=(this._isGrace?wt.GraceScale:1)*this.scale;switch(this._duration){case H.QuadrupleWhole:this.width=14*e;break;case H.DoubleWhole:this.width=14*(this._isGrace?wt.GraceScale:1)*this.scale;break;case H.Whole:this.width=14*(this._isGrace?wt.GraceScale:1)*this.scale;break;default:this.width=wt.QuarterNoteHeadWidth*(this._isGrace?wt.GraceScale:1)*this.scale;break}this.height=wt.NoteHeadHeight*e}static getSymbol(e){switch(e){case H.QuadrupleWhole:return P.NoteheadDoubleWholeSquare;case H.DoubleWhole:return P.NoteheadDoubleWhole;case H.Whole:return P.NoteheadWhole;case H.Half:return P.NoteheadHalf;default:return P.NoteheadBlack}}}wt.GraceScale=.75;wt.NoteHeadHeight=8;wt.QuarterNoteHeadWidth=9;class fh extends Hr{constructor(e,r,n,i,s){super(e,r,s?wt.GraceScale:1,fh.getSymbol(n,i,s))}doLayout(){this.width=0}static getSymbol(e,r,n){if(n&&(e=H.Eighth),r===Pe.Up)switch(e){case H.Eighth:return P.FlagEighthUp;case H.Sixteenth:return P.FlagSixteenthUp;case H.ThirtySecond:return P.FlagThirtySecondUp;case H.SixtyFourth:return P.FlagSixtyFourthUp;case H.OneHundredTwentyEighth:return P.FlagOneHundredTwentyEighthUp;case H.TwoHundredFiftySixth:return P.FlagTwoHundredFiftySixthUp;default:return P.FlagEighthUp}switch(e){case H.Eighth:return P.FlagEighthDown;case H.Sixteenth:return P.FlagSixteenthDown;case H.ThirtySecond:return P.FlagThirtySecondDown;case H.SixtyFourth:return P.FlagSixtyFourthDown;case H.OneHundredTwentyEighth:return P.FlagOneHundredTwentyEighthDown;case H.TwoHundredFiftySixth:return P.FlagOneHundredTwentyEighthDown;default:return P.FlagEighthDown}}}fh.FlagWidth=11;class Ea extends jr{get onTimeX(){return this.onNotes.x+this.onNotes.centerX}constructor(e,r){super(0,0),this.ties=[],this.minWidth=0,this.beat=e,this.ties=[],this.voiceContainer=r}addTie(e){e.renderer=this.renderer,this.ties.push(e)}registerLayoutingInfo(e){let r=this.preNotes.computedWidth+this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=Ea.GraceBeatPadding*this.renderer.scale);let n=this.onNotes.computedWidth-this.onNotes.centerX;const i=this.renderer.helpers.getBeamingHelperForBeat(this.beat);(i&&i.hasFlag||this.beat.graceType!==tt.None)&&(n+=fh.FlagWidth*this.scale*(this.beat.graceType!==tt.None?wt.GraceScale:1));for(const s of this.ties)n+=s.width;this.beat.graceType!==tt.None&&(n+=Ea.GraceBeatPadding*this.renderer.scale),e.addBeatSpring(this.beat,r,n),e.setPreBeatSize(this.beat,this.preNotes.computedWidth),e.setOnBeatSize(this.beat,this.onNotes.computedWidth),e.setBeatCenterX(this.beat,this.onNotes.centerX)}applyLayoutingInfo(e){let r=e.getBeatCenterX(this.beat)-this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=Ea.GraceBeatPadding*this.renderer.scale),this.preNotes.x=r,this.preNotes.width=e.getPreBeatSize(this.beat),this.onNotes.width=e.getOnBeatSize(this.beat),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.updateBeamingHelper(),this.updateWidth()}doLayout(){this.preNotes.x=0,this.preNotes.renderer=this.renderer,this.preNotes.container=this,this.preNotes.doLayout(),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.renderer=this.renderer,this.onNotes.container=this,this.onNotes.doLayout();let e=this.beat.notes.length-1;for(;e>=0;)this.createTies(this.beat.notes[e--]);this.renderer.registerTies(this.ties),this.updateWidth()}updateWidth(){if(this.minWidth=this.preNotes.width+this.onNotes.width,!this.beat.isRest)if(this.onNotes.beamingHelper.beats.length===1)this.beat.duration>=H.Eighth&&(this.minWidth+=20*this.scale);else switch(this.beat.duration){case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:this.minWidth+=10*this.scale;break}let e=0;for(let r of this.ties)r.width>e&&(e=r.width);this.minWidth+=e,this.width=this.minWidth}scaleToWidth(e){this.onNotes.updateBeamingHelper(),this.width=e}createTies(e){}static getGroupId(e){return"b"+e.id}paint(e,r,n){if(this.beat.voice.isEmpty||this.preNotes.isEmpty&&this.onNotes.isEmpty&&this.ties.length===0)return;n.beginGroup(Ea.getGroupId(this.beat)),this.preNotes.paint(e+this.x,r+this.y,n),this.onNotes.paint(e+this.x,r+this.y,n);let s=e-this.voiceContainer.x-this.renderer.x,a=r-this.voiceContainer.y-this.renderer.y;for(let o=0,l=this.ties.length;o<l;o++){let c=this.ties[o];c.renderer=this.renderer,c.paint(s,a,n)}n.endGroup()}buildBoundingsLookup(e,r,n,i){let s=new jO;s.beat=this.beat,s.visualBounds=new Ni,s.visualBounds.x=r+this.x+this.onNotes.x,s.visualBounds.y=e.visualBounds.y,s.visualBounds.w=this.onNotes.width,s.visualBounds.h=e.visualBounds.h,s.realBounds=new Ni,s.realBounds.x=r+this.x,s.realBounds.y=e.realBounds.y,s.realBounds.w=this.width,s.realBounds.h=e.realBounds.h,i&&(s.visualBounds.x=r+this.x,s.realBounds.x=s.visualBounds.x),e.addBeat(s),this.renderer.settings.core.includeNoteBounds&&this.onNotes.buildBoundingsLookup(s,r+this.x,n+this.y)}}Ea.GraceBeatPadding=3;class $M{constructor(){this.oldWidth=0,this.newWidth=0,this.settings=null}core(){return this.settings&&this.causeIssue()?this.settings.core:new u5}causeIssue(){return this.settings=null,!0}}class Hoe{constructor(e){this.activeBeats=e}}class pg{constructor(e){this.bounds=null,this.beat=e}}class Uoe{constructor(e,r){this._startTime=0,this._trackIndexes=null,this._trackIndexLookup=null,this._isDestroyed=!1,this.score=null,this.tracks=[],this._tickCache=null,this.player=null,this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null,this._previousTick=0,this._playerState=pn.Paused,this._currentBeat=null,this._currentBarBounds=null,this._previousStateForCursor=pn.Paused,this._previousCursorCache=null,this._lastScroll=0,this.playedBeatChanged=new Lt,this.activeBeatsChanged=new Lt,this._beatMouseDown=!1,this._noteMouseDown=!1,this._selectionStart=null,this._selectionEnd=null,this.beatMouseDown=new Lt,this.beatMouseMove=new Lt,this.beatMouseUp=new Lt,this.noteMouseDown=new Lt,this.noteMouseMove=new Lt,this.noteMouseUp=new Lt,this.scoreLoaded=new Lt,this.resize=new Lt,this.renderStarted=new Lt,this.renderFinished=new Lt,this.postRenderFinished=new wn,this.error=new Lt,this.playerReady=new wn,this.playerFinished=new wn,this.soundFontLoaded=new wn,this.midiLoad=new Lt,this.midiLoaded=new Lt,this.playerStateChanged=new Lt,this.playerPositionChanged=new Lt,this.midiEventsPlayed=new Lt,this.playbackRangeChanged=new Lt,this.settingsUpdated=new wn,this.uiFacade=e,this.container=e.rootContainer,e.initialize(this,r),ve.logLevel=this.settings.core.logLevel,this.canvasElement=e.createCanvasElement(),this.container.appendChild(this.canvasElement),this.settings.core.useWorkers&&this.uiFacade.areWorkersSupported&&Ne.getRenderEngineFactory(this.settings.core.engine).supportsWorkers?this.renderer=this.uiFacade.createWorkerRenderer():this.renderer=new qO(this.settings),this.container.resize.on(Ne.throttle(()=>{this._isDestroyed||this.container.width!==this.renderer.width&&this.triggerResize()},e.resizeThrottle));let n=new $M;n.oldWidth=this.renderer.width,n.newWidth=this.container.width|0,n.settings=this.settings,this.onResize(n),this.renderer.preRender.on(this.onRenderStarted.bind(this)),this.renderer.renderFinished.on(i=>{this.onRenderFinished(i)}),this.renderer.postRenderFinished.on(()=>{let i=Date.now()-this._startTime;ve.debug("rendering","Rendering completed in "+i+"ms"),this.onPostRenderFinished()}),this.renderer.preRender.on(i=>{this._startTime=Date.now()}),this.renderer.partialLayoutFinished.on(this.appendRenderResult.bind(this)),this.renderer.partialRenderFinished.on(this.updateRenderResult.bind(this)),this.renderer.renderFinished.on(i=>{this.appendRenderResult(i),this.appendRenderResult(null)}),this.renderer.error.on(this.onError.bind(this)),this.settings.player.enablePlayer&&this.setupPlayer(),this.setupClickHandling(),this.uiFacade.beginInvoke(()=>{this.uiFacade.initialRender()})}destroy(){this._isDestroyed=!0,this.player&&this.player.destroy(),this.uiFacade.destroy(),this.renderer.destroy()}updateSettings(){var r;const e=this.score;e&&or.applyPitchOffsets(this.settings,e),this.renderer.updateSettings(this.settings),this.settings.player.enablePlayer?(this.setupPlayer(),e&&((r=this.player)==null||r.applyTranspositionPitches(Yt.buildTranspositionPitches(e,this.settings)))):this.destroyPlayer(),this.onSettingsUpdated()}load(e,r){try{return this.uiFacade.load(e,n=>{this.renderScore(n,r)},n=>{this.onError(n)})}catch(n){return this.onError(n),!1}}renderScore(e,r){let n=[];if(!r)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===0)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===1&&r[0]===-1)for(let i of e.tracks)n.push(i);else for(let i of r)i>=0&&i<=e.tracks.length&&n.push(e.tracks[i]);this.internalRenderTracks(e,n)}renderTracks(e){if(e.length>0){let r=e[0].score;for(let n of e)if(n.score!==r){this.onError(new Nn(Bn.General,"All rendered tracks must belong to the same score."));return}this.internalRenderTracks(r,e)}}internalRenderTracks(e,r){if(or.applyPitchOffsets(this.settings,e),e!==this.score){this.score=e,this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.onScoreLoaded(e),this.loadMidiForScore(),this.render()}else{this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.render()}}triggerResize(){if(!this.container.isVisible)ve.warning("Rendering","AlphaTab container was invisible while autosizing, waiting for element to become visible",null),this.uiFacade.rootContainerBecameVisible.on(()=>{ve.debug("Rendering","AlphaTab container became visible, doing autosizing",null),this.triggerResize()});else{let e=new $M;e.oldWidth=this.renderer.width,e.newWidth=this.container.width,e.settings=this.settings,this.onResize(e),this.renderer.updateSettings(this.settings),this.renderer.width=this.container.width,this.renderer.resizeRender()}}appendRenderResult(e){e?(this.canvasElement.width=e.totalWidth,this.canvasElement.height=e.totalHeight,this._cursorWrapper&&(this._cursorWrapper.width=e.totalWidth,this._cursorWrapper.height=e.totalHeight),(e.width>0||e.height>0)&&this.uiFacade.beginAppendRenderResults(e)):this.uiFacade.beginAppendRenderResults(e)}updateRenderResult(e){e&&e.renderResult&&this.uiFacade.beginUpdateRenderResults(e)}tex(e,r){try{let n=new oi;n.logErrors=!0,n.initFromString(e,this.settings);let i=n.readScore();this.renderScore(i,r)}catch(n){this.onError(n)}}loadSoundFont(e,r=!1){return this.player?this.uiFacade.loadSoundFont(e,r):!1}resetSoundFonts(){this.player&&this.player.resetSoundFonts()}render(){this.renderer&&(this.uiFacade.canRender?(this.renderer.width=this.container.width,this.renderer.renderScore(this.score,this._trackIndexes)):this.uiFacade.canRenderChanged.on(()=>this.render()))}get tickCache(){return this._tickCache}get isReadyForPlayback(){return this.player?this.player.isReadyForPlayback:!1}get playerState(){return this.player?this.player.state:pn.Paused}get masterVolume(){return this.player?this.player.masterVolume:0}set masterVolume(e){this.player&&(this.player.masterVolume=e)}get metronomeVolume(){return this.player?this.player.metronomeVolume:0}set metronomeVolume(e){this.player&&(this.player.metronomeVolume=e)}get countInVolume(){return this.player?this.player.countInVolume:0}set countInVolume(e){this.player&&(this.player.countInVolume=e)}get midiEventsPlayedFilter(){return this.player?this.player.midiEventsPlayedFilter:[]}set midiEventsPlayedFilter(e){this.player&&(this.player.midiEventsPlayedFilter=e)}get tickPosition(){return this.player?this.player.tickPosition:0}set tickPosition(e){this.player&&(this.player.tickPosition=e)}get timePosition(){return this.player?this.player.timePosition:0}set timePosition(e){this.player&&(this.player.timePosition=e)}get playbackRange(){return this.player?this.player.playbackRange:null}set playbackRange(e){this.player&&(this.player.playbackRange=e,this.settings.player.enableCursor&&this.updateSelectionCursor(e))}get playbackSpeed(){return this.player?this.player.playbackSpeed:0}set playbackSpeed(e){this.player&&(this.player.playbackSpeed=e)}get isLooping(){return this.player?this.player.isLooping:!1}set isLooping(e){this.player&&(this.player.isLooping=e)}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null,this._previousTick=0,this._playerState=pn.Paused,this.destroyCursors())}setupPlayer(){this.updateCursors(),!this.player&&(this.player=this.uiFacade.createWorkerPlayer(),this.player&&(this.player.ready.on(()=>{this.loadMidiForScore()}),this.player.readyForPlayback.on(()=>{if(this.onPlayerReady(),this.tracks)for(let e of this.tracks){let r=e.playbackInfo.volume/16;this.player.setChannelVolume(e.playbackInfo.primaryChannel,r),this.player.setChannelVolume(e.playbackInfo.secondaryChannel,r)}}),this.player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this.player.soundFontLoadFailed.on(e=>{this.onError(e)}),this.player.midiLoaded.on(this.onMidiLoaded.bind(this)),this.player.midiLoadFailed.on(e=>{this.onError(e)}),this.player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this.player.positionChanged.on(this.onPlayerPositionChanged.bind(this)),this.player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this.player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this.player.finished.on(this.onPlayerFinished.bind(this)),this.setupPlayerEvents()))}loadMidiForScore(){if(!this.player||!this.score||!this.player.isReady)return;ve.debug("AlphaTab","Generating Midi");let e=new Wl,r=new no(e),n=new Yt(this.score,this.settings,r);n.applyTranspositionPitches=!1,n.generate(),this._tickCache=n.tickLookup,this.onMidiLoad(e),this.player.loadMidiFile(e),this.player.applyTranspositionPitches(n.transpositionPitches)}changeTrackVolume(e,r){if(this.player)for(let n of e)this.player.setChannelVolume(n.playbackInfo.primaryChannel,r),this.player.setChannelVolume(n.playbackInfo.secondaryChannel,r)}changeTrackSolo(e,r){if(this.player)for(let n of e)this.player.setChannelSolo(n.playbackInfo.primaryChannel,r),this.player.setChannelSolo(n.playbackInfo.secondaryChannel,r)}changeTrackMute(e,r){if(this.player)for(let n of e)this.player.setChannelMute(n.playbackInfo.primaryChannel,r),this.player.setChannelMute(n.playbackInfo.secondaryChannel,r)}play(){return this.player?this.player.play():!1}pause(){this.player&&this.player.pause()}playPause(){this.player&&this.player.playPause()}stop(){this.player&&this.player.stop()}playBeat(e){if(!this.player)return;let r=new Wl,n=new no(r);new Yt(e.voice.bar.staff.track.score,this.settings,n).generateSingleBeat(e),this.player.playOneTimeMidiFile(r)}playNote(e){if(!this.player)return;let r=new Wl,n=new no(r);new Yt(e.beat.voice.bar.staff.track.score,this.settings,n).generateSingleNote(e),this.player.playOneTimeMidiFile(r)}destroyCursors(){this._cursorWrapper&&(this.uiFacade.destroyCursors(),this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null)}updateCursors(){if(this.settings.player.enableCursor&&!this._cursorWrapper){let e=this.uiFacade.createCursors();e&&(this._cursorWrapper=e.cursorWrapper,this._barCursor=e.barCursor,this._beatCursor=e.beatCursor,this._selectionWrapper=e.selectionWrapper),this._currentBeat!==null&&this.cursorUpdateBeat(this._currentBeat,!1,this._previousTick>10,!0)}else!this.settings.player.enableCursor&&this._cursorWrapper&&this.destroyCursors()}setupPlayerEvents(){this._previousTick=0,this._playerState=pn.Paused,this.renderer.postRenderFinished.on(()=>{this._currentBeat=null,this.cursorUpdateTick(this._previousTick,!1,this._previousTick>10)}),this.player&&(this.player.positionChanged.on(e=>{this._previousTick=e.currentTick,this.uiFacade.beginInvoke(()=>{this.cursorUpdateTick(e.currentTick,!1)})}),this.player.stateChanged.on(e=>{if(this._playerState=e.state,!e.stopped&&e.state===pn.Paused){let r=this._currentBeat,n=this._tickCache;r&&n&&(this.player.tickPosition=n.getBeatStart(r.beat))}}))}cursorUpdateTick(e,r,n=!1){let i=this._tickCache;if(i){let s=this._trackIndexLookup;if(s!=null&&s.size>0){let a=i.findBeat(s,e,this._currentBeat);a&&this.cursorUpdateBeat(a,r,n)}}}cursorUpdateBeat(e,r,n,i=!1){var f;const s=e.beat,a=((f=e.nextBeat)==null?void 0:f.beat)??null,o=e.duration,l=e.beatLookup.highlightedBeats;if(!s)return;let c=this.renderer.boundsLookup;if(!c)return;let u=this._currentBeat,d=this._previousCursorCache,h=this._previousStateForCursor;if(!i&&s===(u==null?void 0:u.beat)&&c===d&&h===this._playerState)return;let p=c.findBeat(s);p&&(this._currentBeat=e,this._previousCursorCache=c,this._previousStateForCursor=this._playerState,this.uiFacade.beginInvoke(()=>{this.internalCursorUpdateBeat(s,a,o,r,l,c,p,n)}))}scrollToCursor(){const e=this._currentBarBounds;e&&this.internalScrollToCursor(e)}internalScrollToCursor(e){let r=this.uiFacade.getScrollContainer(),n=Ne.getLayoutEngineFactory(this.settings.display.layoutMode).vertical,i=this.settings.player.scrollMode;if(n){let s=e.realBounds.y+this.settings.player.scrollOffsetY;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case Eo.Continuous:let a=this.uiFacade.getOffset(r,this.container);this.uiFacade.scrollToY(r,a.y+s,this.settings.player.scrollSpeed);break;case Eo.OffScreen:let o=r.scrollTop+this.uiFacade.getOffset(null,r).h;if(e.visualBounds.y+e.visualBounds.h>=o||e.visualBounds.y<r.scrollTop){let l=e.realBounds.y+this.settings.player.scrollOffsetY;this.uiFacade.scrollToY(r,l,this.settings.player.scrollSpeed)}break}}else{let s=e.visualBounds.x;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case Eo.Continuous:let a=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,a,this.settings.player.scrollSpeed);break;case Eo.OffScreen:let o=r.scrollLeft+this.uiFacade.getOffset(null,r).w;if(e.visualBounds.x+e.visualBounds.w>=o||e.visualBounds.x<r.scrollLeft){let l=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,l,this.settings.player.scrollSpeed)}break}}}internalCursorUpdateBeat(e,r,n,i,s,a,o,l){const c=this._barCursor,u=this._beatCursor;let d=o.barBounds.masterBarBounds,h=d.visualBounds;this._currentBarBounds=d,c&&c.setBounds(h.x,h.y,h.w,h.h),u&&(this.settings.player.enableAnimatedBeatCursor&&u.stopAnimation(),u.setBounds(o.visualBounds.x,h.y,1,h.h)),this.settings.player.enableElementHighlighting&&this.uiFacade.removeHighlights();let p=!1;if(this._playerState===pn.Playing&&!i){if(this.settings.player.enableElementHighlighting)for(let f of s){let m=Ea.getGroupId(f.beat);this.uiFacade.highlightElements(m,e.voice.bar.index)}if(this.settings.player.enableAnimatedBeatCursor){let f=d.visualBounds.x+d.visualBounds.w;if(r){let m=a.findBeat(r);m&&m.barBounds.masterBarBounds.staveGroupBounds===d.staveGroupBounds&&(f=m.visualBounds.x)}this.uiFacade.beginInvoke(()=>{u&&u.transitionToX(n/this.playbackSpeed,f)})}l=!i,p=!0}l&&!this._beatMouseDown&&this.settings.player.scrollMode!==Eo.Off&&this.internalScrollToCursor(d),p&&(this.onPlayedBeatChanged(e),this.onActiveBeatsChanged(new Hoe(s.map(f=>f.beat))))}onPlayedBeatChanged(e){this._isDestroyed||(this.playedBeatChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playedBeatChanged",e))}onActiveBeatsChanged(e){this._isDestroyed||(this.activeBeatsChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"activeBeatsChanged",e))}onBeatMouseDown(e,r){this._isDestroyed||(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction&&(this._selectionStart=new pg(r),this._selectionEnd=null),this._beatMouseDown=!0,this.beatMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseDown",r,e))}onNoteMouseDown(e,r){this._isDestroyed||(this._noteMouseDown=!0,this.noteMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseDown",r,e))}onBeatMouseMove(e,r){this._isDestroyed||(this.settings.player.enableUserInteraction&&(!this._selectionEnd||this._selectionEnd.beat!==r)&&(this._selectionEnd=new pg(r),this.cursorSelectRange(this._selectionStart,this._selectionEnd)),this.beatMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseMove",r,e))}onNoteMouseMove(e,r){this._isDestroyed||(this.noteMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseMove",r,e))}onBeatMouseUp(e,r){var n,i;if(!this._isDestroyed){if(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction){if(this._selectionEnd){let s=((n=this._tickCache)==null?void 0:n.getBeatStart(this._selectionStart.beat))??this._selectionStart.beat.absolutePlaybackStart;if((((i=this._tickCache)==null?void 0:i.getBeatStart(this._selectionEnd.beat))??this._selectionEnd.beat.absolutePlaybackStart)<s){let o=this._selectionStart;this._selectionStart=this._selectionEnd,this._selectionEnd=o}}if(this._selectionStart&&this._tickCache){let s=this._tickCache,a=s.getMasterBarStart(this._selectionStart.beat.voice.bar.masterBar);if(this._currentBeat=null,this._playerState===pn.Paused&&this.cursorUpdateTick(this._tickCache.getBeatStart(this._selectionStart.beat),!1),this.tickPosition=a+this._selectionStart.beat.playbackStart,this._selectionEnd&&this._selectionStart.beat!==this._selectionEnd.beat){let o=s.getMasterBarStart(this._selectionEnd.beat.voice.bar.masterBar),l=new Woe;l.startTick=a+this._selectionStart.beat.playbackStart,l.endTick=o+this._selectionEnd.beat.playbackStart+this._selectionEnd.beat.playbackDuration-50,this.playbackRange=l}else this._selectionStart=null,this.playbackRange=null,this.cursorSelectRange(this._selectionStart,this._selectionEnd)}}this.beatMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseUp",r,e),this._beatMouseDown=!1}}onNoteMouseUp(e,r){this._isDestroyed||(this.noteMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseUp",r,e),this._noteMouseDown=!1)}updateSelectionCursor(e){if(this._tickCache)if(e){const r=this._tickCache.findBeat(this._trackIndexLookup,e.startTick),n=this._tickCache.findBeat(this._trackIndexLookup,e.endTick);if(r&&n){const i=new pg(r.beat),s=new pg(n.beat);this.cursorSelectRange(i,s)}}else this.cursorSelectRange(null,null)}setupClickHandling(){this.canvasElement.mouseDown.on(e=>{var s,a;if(!e.isLeftMouseButton)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseDown(e,i),this.settings.core.includeNoteBounds)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseDown(e,o)}}),this.canvasElement.mouseMove.on(e=>{var s,a;if(!this._beatMouseDown)return;let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseMove(e,i),this._noteMouseDown)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseMove(e,o)}}),this.canvasElement.mouseUp.on(e=>{var s,a;if(!this._beatMouseDown)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(this.onBeatMouseUp(e,i),this._noteMouseDown)if(i){const o=((a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n))??null;this.onNoteMouseUp(e,o)}else this.onNoteMouseUp(e,null)}),this.renderer.postRenderFinished.on(()=>{!this._selectionStart||!this.settings.player.enablePlayer||!this.settings.player.enableCursor||!this.settings.player.enableUserInteraction||this.cursorSelectRange(this._selectionStart,this._selectionEnd)})}cursorSelectRange(e,r){var c,u;let n=this.renderer.boundsLookup;if(!n)return;let i=this._selectionWrapper;if(!i||(i.clear(),!e||!r||e.beat===r.beat))return;e.bounds||(e.bounds=n.findBeat(e.beat)),r.bounds||(r.bounds=n.findBeat(r.beat));let s=((c=this._tickCache)==null?void 0:c.getBeatStart(e.beat))??e.beat.absolutePlaybackStart;if((((u=this._tickCache)==null?void 0:u.getBeatStart(r.beat))??r.beat.absolutePlaybackStart)<s){let d=e;e=r,r=d}let o=e.bounds.realBounds.x,l=r.bounds.realBounds.x+r.bounds.realBounds.w;if(r.beat.index===r.beat.voice.beats.length-1&&(l=r.bounds.barBounds.masterBarBounds.realBounds.x+r.bounds.barBounds.masterBarBounds.realBounds.w),e.bounds.barBounds.masterBarBounds.staveGroupBounds!==r.bounds.barBounds.masterBarBounds.staveGroupBounds){let d=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x,h=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x+e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.w,p=this.uiFacade.createSelectionElement();p.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,h-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(p);let f=e.bounds.barBounds.masterBarBounds.staveGroupBounds.index+1,m=r.bounds.barBounds.masterBarBounds.staveGroupBounds.index;for(let y=f;y<m;y++){let b=n.staveGroups[y],v=this.uiFacade.createSelectionElement();v.setBounds(d,b.visualBounds.y,h-d,b.visualBounds.h),i.appendChild(v)}let g=this.uiFacade.createSelectionElement();g.setBounds(d,r.bounds.barBounds.masterBarBounds.visualBounds.y,l-d,r.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(g)}else{let d=this.uiFacade.createSelectionElement();d.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,l-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(d)}}onScoreLoaded(e){this._isDestroyed||(this.scoreLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"scoreLoaded",e))}onResize(e){this._isDestroyed||(this.resize.trigger(e),this.uiFacade.triggerEvent(this.container,"resize",e))}onRenderStarted(e){this._isDestroyed||(this.renderStarted.trigger(e),this.uiFacade.triggerEvent(this.container,"renderStarted",e))}onRenderFinished(e){this._isDestroyed||(this.renderFinished.trigger(e),this.uiFacade.triggerEvent(this.container,"renderFinished",e))}onPostRenderFinished(){this._isDestroyed||(this.postRenderFinished.trigger(),this.uiFacade.triggerEvent(this.container,"postRenderFinished",null))}onError(e){this._isDestroyed||(ve.error("API","An unexpected error occurred",e),this.error.trigger(e),this.uiFacade.triggerEvent(this.container,"error",e))}onPlayerReady(){this._isDestroyed||(this.playerReady.trigger(),this.uiFacade.triggerEvent(this.container,"playerReady",null))}onPlayerFinished(){this._isDestroyed||(this.playerFinished.trigger(),this.uiFacade.triggerEvent(this.container,"playerFinished",null))}onSoundFontLoaded(){this._isDestroyed||(this.soundFontLoaded.trigger(),this.uiFacade.triggerEvent(this.container,"soundFontLoaded",null))}onMidiLoad(e){this._isDestroyed||(this.midiLoad.trigger(e),this.uiFacade.triggerEvent(this.container,"midiLoad",e))}onMidiLoaded(e){this._isDestroyed||(this.midiLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"midiFileLoaded",e))}onPlayerStateChanged(e){this._isDestroyed||(this.playerStateChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerStateChanged",e))}onPlayerPositionChanged(e){this._isDestroyed||this.score!==null&&this.tracks.length>0&&(this.playerPositionChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerPositionChanged",e))}onMidiEventsPlayed(e){this._isDestroyed||(this.midiEventsPlayed.trigger(e),this.uiFacade.triggerEvent(this.container,"midiEventsPlayed",e))}onPlaybackRangeChanged(e){this._isDestroyed||(this.playbackRangeChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playbackRangeChanged",e))}onSettingsUpdated(){this._isDestroyed||(this.settingsUpdated.trigger(),this.uiFacade.triggerEvent(this.container,"settingsUpdated",null))}}class Bo extends Nn{constructor(e,r){super(Bn.General,e),this.xhr=r,Object.setPrototypeOf(this,Bo.prototype)}}class cd{static loadScoreAsync(e,r,n,i){let s=new XMLHttpRequest;s.open("GET",e,!0,null,null),s.responseType="arraybuffer",s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){let a=s.response;if(s.status===200||s.status===0&&a)try{let o=s.response,l=new Uint8Array(o),c=cd.loadScoreFromBytes(l,i);r(c)}catch(o){n(o)}else s.status===0?n(new Bo(`You are offline!!
 Please Check Your Network.`,s)):s.status===404?n(new Bo("Requested URL not found.",s)):s.status===500?n(new Bo("Internel Server Error.",s)):s.statusText==="parsererror"?n(new Bo(`Error.
Parsing JSON Request failed.`,s)):s.statusText==="timeout"?n(new Bo("Request Time out.",s)):n(new Bo("Unknow Error: "+s.responseText,s))}},s.send()}static loadScoreFromBytes(e,r){r||(r=new au);let n=Ne.buildImporters();ve.debug("ScoreLoader",`Loading score from ${e.length} bytes using ${n.length} importers`);let i=null,s=Yn.fromBuffer(e);for(let a of n){s.reset();try{ve.debug("ScoreLoader","Importing using importer "+a.name),a.init(s,r),i=a.readScore(),ve.debug("ScoreLoader","Score imported using "+a.name);break}catch(o){if(o instanceof nn)ve.debug("ScoreLoader",a.name+" does not support the file");else throw ve.error("ScoreLoader","Score import failed due to unexpected error: ",o),o}}if(i)return i;throw new nn("No compatible importer found for file")}}class rx{get isLeftMouseButton(){return this.mouseEvent.button===0}getX(e){let r=e.element,i=r.getBoundingClientRect().left+r.ownerDocument.defaultView.pageXOffset;return this.mouseEvent.pageX-i}getY(e){let r=e.element,i=r.getBoundingClientRect().top+r.ownerDocument.defaultView.pageYOffset;return this.mouseEvent.pageY-i}preventDefault(){this.mouseEvent.preventDefault()}constructor(e){this.mouseEvent=e}}class io{get width(){return this.element.offsetWidth}set width(e){this.element.style.width=e+"px"}get scrollLeft(){return this.element.scrollLeft}set scrollLeft(e){this.element.scrollTop=e}get scrollTop(){return this.element.scrollLeft}set scrollTop(e){this.element.scrollTop=e}get height(){return this.element.offsetHeight}set height(e){e>=0?this.element.style.height=e+"px":this.element.style.height="100%"}get isVisible(){return!!this.element.offsetWidth||!!this.element.offsetHeight||!!this.element.getClientRects().length}constructor(e){this._resizeListeners=0,this.lastBounds=new Ni,this.element=e,this.mouseDown={on:r=>{this.element.addEventListener("mousedown",n=>{r(new rx(n))},!0)},off:r=>{}},this.mouseUp={on:r=>{this.element.addEventListener("mouseup",n=>{r(new rx(n))},!0)},off:r=>{}},this.mouseMove={on:r=>{this.element.addEventListener("mousemove",n=>{r(new rx(n))},!0)},off:r=>{}},this.resize={on:r=>{this._resizeListeners===0&&io.resizeObserver.value.observe(this.element),this.element.addEventListener("resize",r,!0),this._resizeListeners++},off:r=>{this.element.removeEventListener("resize",r,!0),this._resizeListeners--,this._resizeListeners<=0&&(this._resizeListeners=0,io.resizeObserver.value.unobserve(this.element))}}}stopAnimation(){this.element.style.transition="none"}transitionToX(e,r){this.element.style.transition=`transform ${e}ms linear`,this.setBounds(r,NaN,NaN,NaN)}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)&&(n=this.lastBounds.w),isNaN(i)&&(i=this.lastBounds.h),this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}appendChild(e){this.element.appendChild(e.element)}clear(){this.element.innerHTML=""}}io.resizeObserver=new xO(()=>new ResizeObserver(t=>{for(const e of t){let r=new CustomEvent("resize",{detail:e});e.target.dispatchEvent(r)}}));class QO{constructor(e){this._isStarted=!1,this.isFontLoaded=!1,this.fontLoaded=new Lt,this._originalFamilies=e,this._families=e}checkForFontAvailability(){if(Ne.isRunningInWorker){this.isFontLoaded=!1;return}if(this._isStarted)return;this._isStarted=!0;let e=0,r=window.setInterval(()=>{ve.warning("Rendering",`Could not load font '${this._families[0]}' within ${(e+1)*5} seconds`,null),this._families.length>1?(this._families.shift(),e=0):e++},5e3);ve.debug("Font",`Start checking for font availablility: ${this._families.join(", ")}`);let n=a=>{this._families.length>1?(ve.debug("Font",`[${this._families[0]}] Loading Failed, switching to ${this._families[1]}`,a),this._families.shift(),window.setTimeout(()=>{s()},0)):(ve.error("Font",`[${this._originalFamilies.join(",")}] Loading Failed, rendering cannot start`,a),window.clearInterval(r))},i=a=>{ve.debug("Font",`[${a}] Font API signaled available`),this.isFontLoaded=!0,window.clearInterval(r),this.fontLoaded.trigger(this._families[0])},s=async()=>{for(const a of this._families)if(await this.isFontAvailable(a,!1)){i(a);return}try{await document.fonts.load(`1em ${this._families[0]}`)}catch(a){n(a)}return ve.debug("Font",`[${this._families[0]}] Font API signaled loaded`),await this.isFontAvailable(this._families[0],!0)?i(this._families[0]):n("Font not available"),!0};document.fonts.ready.then(()=>{s()})}isFontAvailable(e,r){return new Promise(n=>{const i="1em "+e;if(document.fonts.check(i))n(!0);else if(r){ve.debug("Font",`Font ${e} not available, creating test element to trigger load`);const s=document.createElement("div");s.style.font=i,s.style.opacity="0",s.style.position="absolute",s.style.top="0",s.style.left="0",s.innerText=`Trigger ${e} load`,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.fonts.check(i)?n(!0):n(!1)},200)}else n(!1)})}}class JO{constructor(e){this._writePosition=0,this._readPosition=0,this.count=0,this._buffer=new Float32Array(e)}clear(){this._readPosition=0,this._writePosition=0,this.count=0,this._buffer=new Float32Array(this._buffer.length)}write(e,r,n){let i=0;n>this._buffer.length-this.count&&(n=this._buffer.length-this.count);const s=Math.min(this._buffer.length-this._writePosition,n);return this._buffer.set(e.subarray(r,r+s),this._writePosition),this._writePosition+=s,this._writePosition%=this._buffer.length,i+=s,i<n&&(this._buffer.set(e.subarray(r+i,r+i+n-i),this._writePosition),this._writePosition+=n-i,i=n),this.count+=i,i}read(e,r,n){n>this.count&&(n=this.count);let i=0;const s=Math.min(this._buffer.length-this._readPosition,n);return e.set(this._buffer.subarray(this._readPosition,this._readPosition+s),r),i+=s,this._readPosition+=s,this._readPosition%=this._buffer.length,i<n&&(e.set(this._buffer.subarray(this._readPosition,this._readPosition+n-i),r+i),this._readPosition+=n-i,i=n),this.count-=i,i}}class Us{constructor(){this._context=null,this._buffer=null,this._source=null,this.ready=new wn,this.samplesPlayed=new Lt,this.sampleRequest=new wn}get sampleRate(){return this._context?this._context.sampleRate:Us.PreferredSampleRate}activate(e){this._context||(this._context=this.createAudioContext()),(this._context.state==="suspended"||this._context.state==="interrupted")&&(ve.debug("WebAudio","Audio Context is suspended, trying resume"),this._context.resume().then(()=>{var r,n;ve.debug("WebAudio",`Audio Context resume success: state=${(r=this._context)==null?void 0:r.state}, sampleRate:${(n=this._context)==null?void 0:n.sampleRate}`),e&&e()},r=>{var n,i;ve.warning("WebAudio",`Audio Context resume failed: state=${(n=this._context)==null?void 0:n.state}, sampleRate:${(i=this._context)==null?void 0:i.sampleRate}, reason=${r}`)}))}patchIosSampleRate(){let e=navigator.userAgent;if(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1){let r=this.createAudioContext(),n=r.createBuffer(1,1,Us.PreferredSampleRate),i=r.createBufferSource();i.buffer=n,i.connect(r.destination),i.start(0),i.disconnect(0),r.close()}}createAudioContext(){if("AudioContext"in Ne.globalThis)return new AudioContext;if("webkitAudioContext"in Ne.globalThis)return new webkitAudioContext;throw new Nn(Bn.General,"AudioContext not found")}open(e){this.patchIosSampleRate(),this._context=this.createAudioContext(),this._context.state==="suspended"&&this.registerResumeHandler()}registerResumeHandler(){this._resumeHandler=(()=>{this.activate(()=>{this.unregisterResumeHandler()})}).bind(this),document.body.addEventListener("touchend",this._resumeHandler,!1),document.body.addEventListener("click",this._resumeHandler,!1)}unregisterResumeHandler(){const e=this._resumeHandler;e&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}play(){let e=this._context;this.activate(),this._buffer=e.createBuffer(2,Us.BufferSize,e.sampleRate),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0}pause(){this._source&&(this._source.stop(0),this._source.disconnect()),this._source=null}destroy(){var e;this.pause(),(e=this._context)==null||e.close(),this._context=null,this.unregisterResumeHandler()}onSamplesPlayed(e){this.samplesPlayed.trigger(e)}onSampleRequest(){this.sampleRequest.trigger()}onReady(){this.ready.trigger()}}Us.BufferSize=4096;Us.PreferredSampleRate=44100;class Goe extends Us{constructor(){super(...arguments),this._audioNode=null,this._bufferCount=0,this._requestedBufferCount=0,this._outputBuffer=new Float32Array(0)}open(e){super.open(e),this._bufferCount=Math.floor(e*this.sampleRate/1e3/Us.BufferSize),this._circularBuffer=new JO(Us.BufferSize*this._bufferCount),this.onReady()}play(){super.play();let e=this._context;this._audioNode=e.createScriptProcessor(4096,0,2),this._audioNode.onaudioprocess=this.generateSound.bind(this),this._circularBuffer.clear(),this.requestBuffers(),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.connect(this._audioNode,0,0),this._source.start(0),this._audioNode.connect(e.destination,0,0)}pause(){super.pause(),this._audioNode&&this._audioNode.disconnect(0),this._audioNode=null}addSamples(e){this._circularBuffer.write(e,0,e.length),this._requestedBufferCount--}resetSamples(){this._circularBuffer.clear()}requestBuffers(){const e=this._bufferCount/2|0;let r=e*Us.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*Us.BufferSize<r){for(let i=0;i<e;i++)this.onSampleRequest();this._requestedBufferCount+=e}}generateSound(e){let r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1),i=r.length+n.length,s=this._outputBuffer;s.length!==i&&(s=new Float32Array(i),this._outputBuffer=s);const a=this._circularBuffer.read(s,0,Math.min(s.length,this._circularBuffer.count));let o=0;for(let l=0;l<r.length;l++)r[l]=s[o++],n[l]=s[o++];this.onSamplesPlayed(a/yt.AudioChannels),this.requestBuffers()}}class joe{constructor(e,r){this.loaded=e,this.total=r}}class VM{get isReady(){return this._workerIsReady&&this._outputIsReady}get isReadyForPlayback(){return this._workerIsReadyForPlayback}get state(){return this._state}get logLevel(){return ve.logLevel}set logLevel(e){ve.logLevel=e,this._synth.postMessage({cmd:"alphaSynth.setLogLevel",value:e})}get masterVolume(){return this._masterVolume}set masterVolume(e){e=Math.max(e,yt.MinVolume),this._masterVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMasterVolume",value:e})}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,yt.MinVolume),this._metronomeVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMetronomeVolume",value:e})}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,yt.MinVolume),this._countInVolume=e,this._synth.postMessage({cmd:"alphaSynth.setCountInVolume",value:e})}get midiEventsPlayedFilter(){return this._midiEventsPlayedFilter}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=e,this._synth.postMessage({cmd:"alphaSynth.setMidiEventsPlayedFilter",value:e})}get playbackSpeed(){return this._playbackSpeed}set playbackSpeed(e){e=zr.clamp(e,yt.MinPlaybackSpeed,yt.MaxPlaybackSpeed),this._playbackSpeed=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackSpeed",value:e})}get tickPosition(){return this._tickPosition}set tickPosition(e){e<0&&(e=0),this._tickPosition=e,this._synth.postMessage({cmd:"alphaSynth.setTickPosition",value:e})}get timePosition(){return this._timePosition}set timePosition(e){e<0&&(e=0),this._timePosition=e,this._synth.postMessage({cmd:"alphaSynth.setTimePosition",value:e})}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this._synth.postMessage({cmd:"alphaSynth.setIsLooping",value:e})}get playbackRange(){return this._playbackRange}set playbackRange(e){e&&(e.startTick<0&&(e.startTick=0),e.endTick<0&&(e.endTick=0)),this._playbackRange=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackRange",value:e})}constructor(e,r){this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=pn.Paused,this._masterVolume=0,this._metronomeVolume=0,this._countInVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._midiEventsPlayedFilter=[],this.ready=new wn,this.readyForPlayback=new wn,this.finished=new wn,this.soundFontLoaded=new wn,this.soundFontLoadFailed=new Lt,this.midiLoaded=new Lt,this.midiLoadFailed=new Lt,this.stateChanged=new Lt,this.positionChanged=new Lt,this.midiEventsPlayed=new Lt,this.playbackRangeChanged=new Lt,this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=pn.Paused,this._masterVolume=0,this._metronomeVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._output=e,this._output.ready.on(this.onOutputReady.bind(this)),this._output.samplesPlayed.on(this.onOutputSamplesPlayed.bind(this)),this._output.sampleRequest.on(this.onOutputSampleRequest.bind(this)),this._output.open(r.player.bufferTimeInMilliseconds);try{this._synth=Ne.createWebWorker(r)}catch(n){ve.error("AlphaSynth","Failed to create WebWorker: "+n)}this._synth.addEventListener("message",this.handleWorkerMessage.bind(this),!1),this._synth.postMessage({cmd:"alphaSynth.initialize",sampleRate:this._output.sampleRate,logLevel:r.core.logLevel,bufferTimeInMilliseconds:r.player.bufferTimeInMilliseconds}),this.masterVolume=1,this.playbackSpeed=1,this.metronomeVolume=0}destroy(){this._synth.postMessage({cmd:"alphaSynth.destroy"})}play(){return this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.play"}),!0}pause(){this._synth.postMessage({cmd:"alphaSynth.pause"})}playPause(){this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.playPause"})}stop(){this._synth.postMessage({cmd:"alphaSynth.stop"})}playOneTimeMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.playOneTimeMidiFile",midi:Qr.midiFileToJsObject(e)})}loadSoundFont(e,r){this._synth.postMessage({cmd:"alphaSynth.loadSoundFontBytes",data:e,append:r})}loadSoundFontFromUrl(e,r,n){ve.debug("AlphaSynth",`Start loading Soundfont from url ${e}`);let i=new XMLHttpRequest;i.open("GET",e,!0,null,null),i.responseType="arraybuffer",i.onload=s=>{let a=new Uint8Array(i.response);this.loadSoundFont(a,r)},i.onerror=s=>{ve.error("AlphaSynth","Loading failed: "+s.message),this.soundFontLoadFailed.trigger(new Bo(s.message,i))},i.onprogress=s=>{ve.debug("AlphaSynth",`Soundfont downloading: ${s.loaded}/${s.total} bytes`),n(new joe(s.loaded,s.total))},i.send()}resetSoundFonts(){this._synth.postMessage({cmd:"alphaSynth.resetSoundFonts"})}loadMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.loadMidi",midi:Qr.midiFileToJsObject(e)})}applyTranspositionPitches(e){this._synth.postMessage({cmd:"alphaSynth.applyTranspositionPitches",transpositionPitches:JSON.stringify(Array.from(e.entries()))})}setChannelMute(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelMute",channel:e,mute:r})}resetChannelStates(){this._synth.postMessage({cmd:"alphaSynth.resetChannelStates"})}setChannelSolo(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelSolo",channel:e,solo:r})}setChannelVolume(e,r){r=Math.max(r,yt.MinVolume),this._synth.postMessage({cmd:"alphaSynth.setChannelVolume",channel:e,volume:r})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.ready":this._workerIsReady=!0,this.checkReady();break;case"alphaSynth.destroyed":this._synth.terminate();break;case"alphaSynth.readyForPlayback":this._workerIsReadyForPlayback=!0,this.checkReadyForPlayback();break;case"alphaSynth.positionChanged":this._timePosition=r.currentTime,this._tickPosition=r.currentTick,this.positionChanged.trigger(new d0(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiEventsPlayed":this.midiEventsPlayed.trigger(new HO(r.events.map(Qr.jsObjectToMidiEvent)));break;case"alphaSynth.playerStateChanged":this._state=r.state,this.stateChanged.trigger(new ly(r.state,r.stopped));break;case"alphaSynth.playbackRangeChanged":this._playbackRange=r.playbackRange,this.playbackRangeChanged.trigger(new UO(this._playbackRange));break;case"alphaSynth.finished":this.finished.trigger();break;case"alphaSynth.soundFontLoaded":this.soundFontLoaded.trigger();break;case"alphaSynth.soundFontLoadFailed":this.soundFontLoadFailed.trigger(r.error);break;case"alphaSynth.midiLoaded":this.checkReadyForPlayback(),this.midiLoaded.trigger(new d0(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiLoadFailed":this.checkReadyForPlayback(),this.midiLoadFailed.trigger(r.error);break;case"alphaSynth.output.addSamples":this._output.addSamples(r.samples);break;case"alphaSynth.output.play":this._output.play();break;case"alphaSynth.output.pause":this._output.pause();break;case"alphaSynth.output.destroy":this._output.destroy();break;case"alphaSynth.output.resetSamples":this._output.resetSamples();break}}checkReady(){this.isReady&&this.ready.trigger()}checkReadyForPlayback(){this.isReadyForPlayback&&this.readyForPlayback.trigger()}onOutputSampleRequest(){this._synth.postMessage({cmd:"alphaSynth.output.sampleRequest"})}onOutputSamplesPlayed(e){this._synth.postMessage({cmd:"alphaSynth.output.samplesPlayed",samples:e})}onOutputReady(){this._outputIsReady=!0,this.checkReady()}}class Yoe{constructor(e,r){this._width=0,this.boundsLookup=null,this.preRender=new Lt,this.partialRenderFinished=new Lt,this.partialLayoutFinished=new Lt,this.renderFinished=new Lt,this.postRenderFinished=new wn,this.error=new Lt,this._api=e;try{this._worker=Ne.createWebWorker(r)}catch(n){ve.error("Rendering",`Failed to create WebWorker: ${n}`);return}this._worker.postMessage({cmd:"alphaTab.initialize",settings:this.serializeSettingsForWorker(r)}),this._worker.addEventListener("message",this.handleWorkerMessage.bind(this))}destroy(){this._worker.terminate()}updateSettings(e){this._worker.postMessage({cmd:"alphaTab.updateSettings",settings:this.serializeSettingsForWorker(e)})}serializeSettingsForWorker(e){const r=Qr.settingsToJsObject(e);return r.delete("player"),r}render(){this._worker.postMessage({cmd:"alphaTab.render"})}resizeRender(){this._worker.postMessage({cmd:"alphaTab.resizeRender"})}renderResult(e){this._worker.postMessage({cmd:"alphaTab.renderResult",resultId:e})}get width(){return this._width}set width(e){this._width=e,this._worker.postMessage({cmd:"alphaTab.setWidth",width:e})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaTab.preRender":this.preRender.trigger(r.resize);break;case"alphaTab.partialRenderFinished":this.partialRenderFinished.trigger(r.result);break;case"alphaTab.partialLayoutFinished":this.partialLayoutFinished.trigger(r.result);break;case"alphaTab.renderFinished":this.renderFinished.trigger(r.result);break;case"alphaTab.postRenderFinished":this.boundsLookup=Pp.fromJson(r.boundsLookup,this._api.score),this.boundsLookup.finish(),this.postRenderFinished.trigger();break;case"alphaTab.error":this.error.trigger(r.error);break}}renderScore(e,r){let n=e==null?null:Qr.scoreToJsObject(e);this._worker.postMessage({cmd:"alphaTab.renderScore",score:n,trackIndexes:r,fontSizes:Jr.FontSizeLookupTables})}}class Xoe{constructor(e,r,n,i){this.cursorWrapper=e,this.barCursor=r,this.beatCursor=n,this.selectionWrapper=i}}var ps;(function(t){t[t.Browser=0]="Browser",t[t.NodeJs=1]="NodeJs",t[t.BrowserModule=2]="BrowserModule"})(ps||(ps={}));class Bp{static init(){var e;Bp._isRegistered||(Bp._isRegistered=!0,registerProcessor("alphatab",(e=class extends AudioWorkletProcessor{constructor(n){super(n),this._outputBuffer=new Float32Array(0),this._bufferCount=0,this._requestedBufferCount=0,ve.debug("WebAudio","creating processor"),this._bufferCount=Math.floor(n.processorOptions.bufferTimeInMilliseconds*sampleRate/1e3/e.BufferSize),this._circularBuffer=new JO(e.BufferSize*this._bufferCount),this.port.onmessage=this.handleMessage.bind(this)}handleMessage(n){let i=n.data;switch(i.cmd){case Pr.CmdOutputAddSamples:const a=i.samples;this._circularBuffer.write(a,0,a.length),this._requestedBufferCount--;break;case Pr.CmdOutputResetSamples:this._circularBuffer.clear();break}}process(n,i,s){if(i.length!==1&&i[0].length!==2)return!1;let a=i[0][0],o=i[0][1];if(!a||!o)return!0;let l=a.length+o.length,c=this._outputBuffer;c.length!==l&&(c=new Float32Array(l),this._outputBuffer=c);const u=this._circularBuffer.read(c,0,Math.min(c.length,this._circularBuffer.count));let d=0;for(let h=0;h<a.length;h++)a[h]=c[d++],o[h]=c[d++];return this.port.postMessage({cmd:Pr.CmdOutputSamplesPlayed,samples:u/yt.AudioChannels}),this.requestBuffers(),!0}requestBuffers(){const n=this._bufferCount/2|0;let i=n*e.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*e.BufferSize<i){for(let a=0;a<n;a++)this.port.postMessage({cmd:Pr.CmdOutputSampleRequest});this._requestedBufferCount+=n}}},e.BufferSize=4096,e)))}}Bp._isRegistered=!1;class qoe extends Us{constructor(e){super(),this._worklet=null,this._bufferTimeInMilliseconds=0,this._settings=e}open(e){super.open(e),this._bufferTimeInMilliseconds=e,this.onReady()}play(){super.play();let e=this._context;Ne.createAudioWorklet(e,this._settings).then(()=>{this._worklet=new AudioWorkletNode(e,"alphatab",{numberOfOutputs:1,outputChannelCount:[2],processorOptions:{bufferTimeInMilliseconds:this._bufferTimeInMilliseconds}}),this._worklet.port.onmessage=this.handleMessage.bind(this),this._source.connect(this._worklet),this._source.start(0),this._worklet.connect(e.destination)},r=>{ve.error("WebAudio",`Audio Worklet creation failed: reason=${r}`)})}handleMessage(e){let r=e.data;switch(r.cmd){case Pr.CmdOutputSamplesPlayed:this.onSamplesPlayed(r.samples);break;case Pr.CmdOutputSampleRequest:this.onSampleRequest();break}}pause(){super.pause(),this._worklet&&(this._worklet.port.onmessage=null,this._worklet.disconnect()),this._worklet=null}addSamples(e){var r;(r=this._worklet)==null||r.port.postMessage({cmd:Pr.CmdOutputAddSamples,samples:e})}resetSamples(){var e;(e=this._worklet)==null||e.port.postMessage({cmd:Pr.CmdOutputResetSamples})}}class Koe extends io{constructor(e,r,n){super(e),this._xscale=r,this._yscale=n}get width(){return this.element.offsetWidth/this._xscale}set width(e){this.element.style.width=e*this._xscale+"px"}get height(){return this.element.offsetHeight/this._yscale}set height(e){e>=0?this.element.style.height=e*this._yscale+"px":this.element.style.height="100%"}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)?n=this.lastBounds.w:n=n/this._xscale,isNaN(i)?i=this.lastBounds.h:i=i/this._yscale,this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}}var qa;(function(t){t[t.LayoutDone=0]="LayoutDone",t[t.RenderRequested=1]="RenderRequested",t[t.RenderDone=2]="RenderDone",t[t.Detached=3]="Detached"})(qa||(qa={}));class Qoe{get resizeThrottle(){return 10}get canRender(){return this.areAllFontsLoaded()}areAllFontsLoaded(){if(Ne.bravuraFontChecker.checkForFontAvailability(),!Ne.bravuraFontChecker.isFontLoaded)return!1;let e=!1;for(const r of this._fontCheckers.values())r.isFontLoaded||(e=!0);return e?!1:(ve.debug("Font","All fonts loaded: "+this._fontCheckers.size),!0)}onFontLoaded(e){Jr.generateFontLookup(e),this.areAllFontsLoaded()&&this.canRenderChanged.trigger()}constructor(e){if(this._fontCheckers=new Map,this._contents=null,this._file=null,this._totalResultCount=0,this._initialTrackIndexes=null,this._barToElementLookup=new Map,this._resultIdToElementLookup=new Map,this.rootContainerBecameVisible=new wn,this.canRenderChanged=new wn,this._highlightedElements=[],this._scrollContainer=null,Ne.webPlatform!==ps.Browser&&Ne.webPlatform!==ps.BrowserModule)throw new Nn(Bn.General,"Usage of AlphaTabApi is only possible in browser environments. For usage in node use the Low Level APIs");e.classList.add("alphaTab"),this.rootContainer=new io(e),this.areWorkersSupported="Worker"in window,Ne.bravuraFontChecker.fontLoaded.on(this.onFontLoaded.bind(this)),this._intersectionObserver=new IntersectionObserver(this.onElementVisibilityChanged.bind(this),{threshold:[0,.01,1]}),this._intersectionObserver.observe(e)}onElementVisibilityChanged(e){for(const r of e){const n=r.target;if(n===this.rootContainer.element)r.isIntersecting&&(this.rootContainerBecameVisible.trigger(),this._intersectionObserver.unobserve(this.rootContainer.element));else if("layoutResultId"in n&&this._api.settings.core.enableLazyLoading){const i=n;r.isIntersecting?i.renderedResultId!==i.layoutResultId?this._resultIdToElementLookup.has(i.layoutResultId)?i.resultState!==qa.RenderRequested&&(i.resultState=qa.RenderRequested,this._api.renderer.renderResult(i.layoutResultId)):n.replaceChildren():i.resultState===qa.Detached&&(n.replaceChildren(...i.renderedResult),i.resultState=qa.RenderDone):i.resultState===qa.RenderDone&&(i.resultState=qa.Detached,i.replaceChildren())}}}createWorkerRenderer(){return new Yoe(this._api,this._api.settings)}initialize(e,r){this._api=e;let n;r instanceof au?n=r:n=Qr.jsObjectToSettings(r);let i=this.getDataAttributes();Wd.fromJson(n,i),n.notation.notationMode===bn.SongBook&&n.setSongBookModeSettings(),e.settings=n,this.setupFontCheckers(n),this._initialTrackIndexes=this.parseTracks(n.core.tracks),this._contents="";let s=e.container;n.core.tex&&(this._contents=s.element.innerHTML,s.element.innerHTML=""),this.createStyleElement(n),this._file=n.core.file}setupFontCheckers(e){this.registerFontChecker(e.display.resources.copyrightFont),this.registerFontChecker(e.display.resources.effectFont),this.registerFontChecker(e.display.resources.fingeringFont),this.registerFontChecker(e.display.resources.graceFont),this.registerFontChecker(e.display.resources.markerFont),this.registerFontChecker(e.display.resources.tablatureFont),this.registerFontChecker(e.display.resources.titleFont),this.registerFontChecker(e.display.resources.wordsFont),this.registerFontChecker(e.display.resources.barNumberFont),this.registerFontChecker(e.display.resources.fretboardNumberFont),this.registerFontChecker(e.display.resources.subTitleFont)}registerFontChecker(e){if(!this._fontCheckers.has(e.families.join(", "))){let r=new QO(e.families);this._fontCheckers.set(e.families.join(", "),r),r.fontLoaded.on(this.onFontLoaded.bind(this)),r.checkForFontAvailability()}}destroy(){this.rootContainer.element.innerHTML=""}createCanvasElement(){let e=document.createElement("div");return e.className="at-surface",e.style.fontSize="0",e.style.overflow="hidden",e.style.lineHeight="0",e.style.position="relative",new io(e)}triggerEvent(e,r,n=null,i){let s=e.element;r="alphaTab."+r;let a=document.createEvent("CustomEvent"),o=i?i.mouseEvent:null;if(a.initCustomEvent(r,!1,!1,n),o&&(a.originalEvent=o),s.dispatchEvent(a),window&&"jQuery"in window){let l=window.jQuery,c=[];c.push(n),o&&c.push(o),l(s).trigger(r,c)}}load(e,r,n){if(e instanceof bu)return r(e),!0;if(e instanceof ArrayBuffer){let i=new Uint8Array(e);return r(cd.loadScoreFromBytes(i,this._api.settings)),!0}return e instanceof Uint8Array?(r(cd.loadScoreFromBytes(e,this._api.settings)),!0):typeof e=="string"?(cd.loadScoreAsync(e,r,n,this._api.settings),!0):!1}loadSoundFont(e,r){return this._api.player?e instanceof ArrayBuffer?(this._api.player.loadSoundFont(new Uint8Array(e),r),!0):e instanceof Uint8Array?(this._api.player.loadSoundFont(e,r),!0):typeof e=="string"?(this._api.loadSoundFontFromUrl(e,r),!0):!1:!1}initialRender(){this._api.renderer.preRender.on(r=>{this._totalResultCount=0,this._resultIdToElementLookup.clear(),this._barToElementLookup.clear()});const e=()=>{this._api.renderer.width=this.rootContainer.width|0,this._api.renderer.updateSettings(this._api.settings),this._contents?(this._api.tex(this._contents,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null):this._file&&cd.loadScoreAsync(this._file,r=>{this._api.renderScore(r,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null},r=>{this._api.onError(r)},this._api.settings)};this.rootContainer.isVisible?e():this.rootContainerBecameVisible.on(e)}createStyleElement(e){let r=this._api.container.element.ownerDocument;Ne.createStyleElement(r,e.core.fontDirectory)}parseTracks(e){if(!e)return[];let r=[];if(typeof e=="string")try{if(e==="all")return[-1];e=JSON.parse(e)}catch{e=[0]}if(typeof e=="number")r.push(e);else if("length"in e){let n=e.length,i=e;for(let s=0;s<n;s++){let a=i[s],o=0;typeof a=="number"?o=a:"index"in a?o=a.index:o=parseInt(a.toString()),(o>=0||o===-1)&&r.push(o)}}else"index"in e&&r.push(e.index);return r}getDataAttributes(){let e=new Map,r=this._api.container.element;if(r.dataset)for(let n of Object.keys(r.dataset)){let i=r.dataset[n];try{i=JSON.parse(i)}catch{i===""&&(i=null)}e.set(n,i)}else for(let n=0;n<r.attributes.length;n++){let i=r.attributes.item(n),s=i.nodeName;if(s.startsWith("data-")){let a=s.substr(5).split("-"),o=a[0];for(let c=1;c<a.length;c++)o+=a[c].substr(0,1).toUpperCase()+a[c].substr(1);let l=i.nodeValue;try{l=JSON.parse(l)}catch{l===""&&(l=null)}e.set(o,l)}}return e}beginUpdateRenderResults(e){if(!this._resultIdToElementLookup.has(e.id))return;const r=this._resultIdToElementLookup.get(e.id),n=e.renderResult;typeof n=="string"?r.innerHTML=n:"nodeType"in n&&r.replaceChildren(n),r.resultState=qa.RenderDone,r.renderedResultId=e.id,r.renderedResult=Array.from(r.children)}beginAppendRenderResults(e){const r=this._api.canvasElement.element;if(e){let n;this._totalResultCount<r.childElementCount?n=r.childNodes.item(this._totalResultCount):(n=document.createElement("div"),r.appendChild(n)),n.style.zIndex="1",n.style.position="absolute",n.style.left=e.x+"px",n.style.top=e.y+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.display="inline-block",n.layoutResultId=e.id,n.resultState=qa.LayoutDone,delete n.renderedResultId,delete n.renderedResult,this._resultIdToElementLookup.set(e.id,n);for(let i=e.firstMasterBarIndex;i<=e.lastMasterBarIndex;i++)i>=0&&this._barToElementLookup.set(i,n);this._api.settings.core.enableLazyLoading&&(this._intersectionObserver.unobserve(n),this._intersectionObserver.observe(n)),this._totalResultCount++}else for(;r.childElementCount>this._totalResultCount;)this._api.settings.core.enableLazyLoading&&this._intersectionObserver.unobserve(r.lastChild),r.removeChild(r.lastElementChild)}createWorkerPlayer(){let e=null,r="ScriptProcessorNode"in window;return window.isSecureContext&&"AudioWorkletNode"in window&&this._api.settings.player.outputMode===_p.WebAudioAudioWorklets?(ve.debug("Player","Will use webworkers for synthesizing and web audio api with worklets for playback"),e=new VM(new qoe(this._api.settings),this._api.settings)):r&&(ve.debug("Player","Will use webworkers for synthesizing and web audio api with ScriptProcessor for playback"),e=new VM(new Goe,this._api.settings)),e?e.ready.on(()=>{this._api.settings.player.soundFont&&this._api.loadSoundFontFromUrl(this._api.settings.player.soundFont,!1)}):ve.error("Player","Player requires webworkers and web audio api, browser unsupported",null),e}beginInvoke(e){window.requestAnimationFrame(()=>{e()})}highlightElements(e,r){const n=this._barToElementLookup.get(r);if(n){let i=n.getElementsByClassName(e);for(let s=0;s<i.length;s++)i.item(s).classList.add("at-highlight"),this._highlightedElements.push(i.item(s))}}removeHighlights(){const e=this._highlightedElements;if(e){for(const r of e)r.classList.remove("at-highlight");this._highlightedElements=[]}}destroyCursors(){let e=this._api.container.element,r=e.querySelector(".at-cursors");e.removeChild(r)}createCursors(){let e=this._api.container.element,r=document.createElement("div");r.classList.add("at-cursors");let n=document.createElement("div");n.classList.add("at-selection");const i=this.createScalingElement(),s=this.createScalingElement();let a=i.element;a.classList.add("at-cursor-bar");let o=s.element;return o.classList.add("at-cursor-beat"),e.style.position="relative",e.style.textAlign="left",r.style.position="absolute",r.style.zIndex="1000",r.style.display="inline",r.style.pointerEvents="none",n.style.position="absolute",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.willChange="transform",i.width=1,i.height=1,i.setBounds(0,0,1,1),o.style.position="absolute",o.style.transition="all 0s linear",o.style.left="0",o.style.top="0",o.style.willChange="transform",s.width=3,s.height=1,s.setBounds(0,0,1,1),e.insertBefore(r,e.firstChild),r.appendChild(n),r.appendChild(a),r.appendChild(o),new Xoe(new io(r),i,s,new io(n))}getOffset(e,r){let n=r.element,i=n.getBoundingClientRect(),s=i.top+n.ownerDocument.defaultView.pageYOffset,a=i.left+n.ownerDocument.defaultView.pageXOffset;if(e){let l=e.element,c=l.nodeName.toLowerCase();if(c!=="html"&&c!=="body"){let u=this.getOffset(null,e);s=s+l.scrollTop-u.y,a=a+l.scrollLeft-u.x}}let o=new Ni;return o.x=a,o.y=s,o.w=i.width,o.h=i.height,o}getScrollContainer(){if(this._scrollContainer)return this._scrollContainer;let e=typeof this._api.settings.player.scrollElement=="string"?document.querySelector(this._api.settings.player.scrollElement):this._api.settings.player.scrollElement,r=e.nodeName.toLowerCase();return(r==="html"||r==="body")&&("scrollingElement"in document?e=document.scrollingElement:navigator.userAgent.indexOf("WebKit")!==-1?e=document.body:e=document.documentElement),this._scrollContainer=new io(e),this._scrollContainer}createSelectionElement(){return this.createScalingElement()}createScalingElement(){const e=document.createElement("div");e.style.position="absolute";const r=new Koe(e,100,100);return r.width=1,r.height=1,r.setBounds(0,0,1,1),r}scrollToY(e,r,n){this.internalScrollToY(e.element,r,n)}scrollToX(e,r,n){this.internalScrollToX(e.element,r,n)}internalScrollToY(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({top:r,behavior:"smooth"});else{let i=e.scrollTop,s=r-i,a=0,o=l=>{a===0&&(a=l);let c=l-a,u=Math.min(c/n,1);e.scrollTop=i+s*u|0,c<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}internalScrollToX(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({left:r,behavior:"smooth"});else{let i=e.scrollLeft,s=r-i,a=0,o=l=>{a===0&&(a=l);let c=l-a,u=Math.min(c/n,1);e.scrollLeft=i+s*u|0,c<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}}class Sv extends Uoe{constructor(e,r){super(new Qoe(e),r),this.soundFontLoad=new Lt}tex(e,r){let n=this.uiFacade;super.tex(e,n.parseTracks(r))}print(e,r=null){let n=window.open("","","width=0,height=0"),i=n.document.createElement("div");e?i.style.width=e:this.settings.display.layoutMode===Wo.Horizontal?i.style.width="297mm":i.style.width="210mm",n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
            .at-surface {
                width: auto !important;
                height: auto !important;
            }
            .at-surface > div {
                position: relative!important;
                left: auto !important;
                top: auto !important;
                break-inside: avoid;
            }
            </style>
          </head>
          <body></body>
        </html>
        `);const s=this.score;s&&(s.artist&&s.title?n.document.title=`${s.title} - ${s.artist}`:s.title&&(n.document.title=`${s.title}`)),n.document.body.appendChild(i);let a=typeof window.screenLeft<"u"?window.screenLeft:window.left,o=typeof window.screenTop<"u"?window.screenTop:window.top,l="innerWidth"in window?window.innerWidth:"clientWidth"in document.documentElement?document.documentElement.clientWidth:window.screen.width,c="innerHeight"in window?window.innerHeight:"clientHeight"in document.documentElement?document.documentElement.clientHeight:window.screen.height,u=i.offsetWidth+50,d=window.innerHeight,h=(l/2|0)-(u/2|0)+a,p=(c/2|0)-(d/2|0)+o;n.resizeTo(u,d),n.moveTo(h,p),n.focus();let f=Qr.jsObjectToSettings(Qr.settingsToJsObject(this.settings));f.core.enableLazyLoading=!1,f.core.useWorkers=!0,f.core.file=null,f.core.tracks=null,f.player.enableCursor=!1,f.player.enablePlayer=!1,f.player.enableElementHighlighting=!1,f.player.enableUserInteraction=!1,f.player.soundFont=null,f.display.scale=.8,f.display.stretchForce=.8,Wd.fromJson(f,r);let m=new Sv(i,f);n.onunload=()=>{m.destroy()},m.renderer.postRenderFinished.on(()=>{n.print()}),m.renderTracks(this.tracks)}downloadMidi(e=zd.SingleTrackMultiChannel){if(!this.score)return;let r=new Wl;r.format=e;let n=new no(r,!0);new Yt(this.score,this.settings,n).generate();let s=r.toBinary(),a=this.score.title?`${this.score.title}.mid`:"File.mid",o=document.createElement("a");o.download=a;let l=new Blob([s],{type:"audio/midi"}),c=URL.createObjectURL(l);o.href=c,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}changeTrackMute(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackMute(n,r)}changeTrackSolo(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackSolo(n,r)}changeTrackVolume(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackVolume(n,r)}trackIndexesToTracks(e){if(!this.score)return[];let r=[];if(e.length===1&&e[0]===-1)for(let n of this.score.tracks)r.push(n);else for(let n of e)n>=0&&n<this.score.tracks.length&&r.push(this.score.tracks[n]);return r}loadSoundFontFromUrl(e,r){this.player&&this.player.loadSoundFontFromUrl(e,r,n=>{this.soundFontLoad.trigger(n),this.uiFacade.triggerEvent(this.container,"soundFontLoad",n)})}}class zM{constructor(){this._initListeners=[]}exec(e,r,n){if(typeof r!="string"&&(n=[r],r="init"),r.charCodeAt(0)===95||r==="exec")return null;let i=new jQuery(e),s=i.data("alphaTab");if(r==="destroy"&&!s)return null;if(r!=="init"&&!s)throw new Error("alphaTab not initialized");let a=this[r];if(a){let o=[i,s].concat(n);return a.apply(this,o)}else return ve.error("Api","Method '"+r+"' does not exist on jQuery.alphaTab"),null}init(e,r,n){if(!r){r=new Sv(e[0],n),e.data("alphaTab",r);for(let i of this._initListeners)i(e,r,n)}}destroy(e,r){e.removeData("alphaTab"),r.destroy()}print(e,r,n,i){r.print(n,i)}load(e,r,n,i){return r.load(n,i)}render(e,r){r.render()}renderScore(e,r,n,i){r.renderScore(n,i)}renderTracks(e,r,n){r.renderTracks(n)}invalidate(e,r){r.render()}tex(e,r,n,i){r.tex(n,i)}muteTrack(e,r,n,i){r.changeTrackMute(n,i)}soloTrack(e,r,n,i){r.changeTrackSolo(n,i)}trackVolume(e,r,n,i){r.changeTrackVolume(n,i)}loadSoundFont(e,r,n,i){r.loadSoundFont(n,i)}resetSoundFonts(e,r){r.resetSoundFonts()}pause(e,r){r.pause()}play(e,r){return r.play()}playPause(e,r){r.playPause()}stop(e,r){r.stop()}api(e,r){return r}player(e,r){return r.player}isReadyForPlayback(e,r){return r.isReadyForPlayback}playerState(e,r){return r.playerState}masterVolume(e,r,n){return typeof n=="number"&&(r.masterVolume=n),r.masterVolume}metronomeVolume(e,r,n){return typeof n=="number"&&(r.metronomeVolume=n),r.metronomeVolume}countInVolume(e,r,n){return typeof n=="number"&&(r.countInVolume=n),r.countInVolume}midiEventsPlayedFilter(e,r,n){return Array.isArray(n)&&(r.midiEventsPlayedFilter=n),r.midiEventsPlayedFilter}playbackSpeed(e,r,n){return typeof n=="number"&&(r.playbackSpeed=n),r.playbackSpeed}tickPosition(e,r,n){return typeof n=="number"&&(r.tickPosition=n),r.tickPosition}timePosition(e,r,n){return typeof n=="number"&&(r.timePosition=n),r.timePosition}loop(e,r,n){return typeof n=="boolean"&&(r.isLooping=n),r.isLooping}renderer(e,r){return r.renderer}score(e,r){return r.score}settings(e,r){return r.settings}tracks(e,r){return r.tracks}_oninit(e){this._initListeners.push(e)}static restore(e){new jQuery(e).empty().removeData("alphaTab")}}class xT{constructor(){this.buffer="",this._currentPath="",this._currentPathIsEmpty=!0,this.color=new _r(255,255,255,255),this.lineWidth=1,this.font=new Ot("Arial",10,Rr.Plain),this.textAlign=et.Left,this.textBaseline=bt.Top}destroy(){}beginRender(e,r){this.buffer=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${e|0}px" height="${r|0}px" class="at-surface-svg">
`,this._currentPath="",this._currentPathIsEmpty=!0,this.textBaseline=bt.Top}beginGroup(e){this.buffer+=`<g class="${e}">`}endGroup(){this.buffer+="</g>"}endRender(){return this.buffer+="</svg>",this.buffer}fillRect(e,r,n,i){n>0&&(this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" fill="${this.color.rgba}" />
`)}strokeRect(e,r,n,i){this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" stroke="${this.color.rgba}"`,this.lineWidth!==1&&(this.buffer+=` stroke-width="${this.lineWidth}"`),this.buffer+=` fill="transparent" />
`}beginPath(){}closePath(){this._currentPath+=" z"}moveTo(e,r){this._currentPath+=` M${e},${r}`}lineTo(e,r){this._currentPathIsEmpty=!1,this._currentPath+=` L${e},${r}`}quadraticCurveTo(e,r,n,i){this._currentPathIsEmpty=!1,this._currentPath+=` Q${e},${r},${n},${i}`}bezierCurveTo(e,r,n,i,s,a){this._currentPathIsEmpty=!1,this._currentPath+=` C${e},${r},${n},${i},${s},${a}`}fillCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.fill()}strokeCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.stroke()}fill(){this._currentPathIsEmpty||(this.buffer+=`<path d="${this._currentPath}"`,this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),this.buffer+=' style="stroke: none"/>'),this._currentPath="",this._currentPathIsEmpty=!0}stroke(){if(!this._currentPathIsEmpty){let e=`<path d="${this._currentPath}" stroke="${this.color.rgba}"`;this.lineWidth!==1&&(e+=` stroke-width="${this.lineWidth}"`),e+=' style="fill: none" />',this.buffer+=e}this._currentPath="",this._currentPathIsEmpty=!0}fillText(e,r,n){if(e==="")return;let i=`<text x="${r|0}" y="${n|0}" style="stroke: none; font:${this.font.toCssString(this.settings.display.scale)}" ${this.getSvgBaseLine()}`;this.color.rgba!=="#000000"&&(i+=` fill="${this.color.rgba}"`),this.textAlign!==et.Left&&(i+=` text-anchor="${this.getSvgTextAlignment(this.textAlign)}"`),i+=`>${xT.escapeText(e)}</text>`,this.buffer+=i}static escapeText(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}getSvgTextAlignment(e){switch(e){case et.Left:return"start";case et.Center:return"middle";case et.Right:return"end"}return""}getSvgBaseLine(){switch(this.textBaseline){case bt.Top:return'dominant-baseline="hanging"';case bt.Bottom:return'dominant-baseline="bottom"';default:return""}}measureText(e){return e?Jr.measureString(e,this.font.families,this.font.size,this.font.style,this.font.weight):0}onRenderFinished(){return null}beginRotate(e,r,n){this.buffer+='<g transform="translate('+e+" ,"+r+") rotate( "+n+')">'}endRotate(){this.buffer+="</g>"}}class Joe extends xT{constructor(){super()}fillMusicFontSymbol(e,r,n,i,s){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,`&#${i};`,s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==P.None&&(a+=`&#${o};`);this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this.buffer+=`<g transform="translate(${e} ${r})" class="at" ><text`,n!==1?this.buffer+=` style="font-size: ${n*100}%; stroke:none"`:this.buffer+=' style="stroke:none"',this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),s&&(this.buffer+=' text-anchor="'+this.getSvgTextAlignment(et.Center)+'"'),this.buffer+=`>${i}</text></g>`}}class ST{constructor(){this.isInAccolade=!0,this.isRelevantForBoundsLookup=!0,this.hideOnMultiTrack=!1,this.hideOnPercussionTrack=!1}canCreate(e,r){return!this.hideOnPercussionTrack||!r.isPercussion}}var Tt;(function(t){t[t.PreNotes=0]="PreNotes",t[t.OnNotes=1]="OnNotes",t[t.MiddleNotes=2]="MiddleNotes",t[t.Stem=3]="Stem",t[t.PostNotes=4]="PostNotes",t[t.EndBeat=5]="EndBeat"})(Tt||(Tt={}));class Wa extends jr{get isEmpty(){return!this.glyphs||this.glyphs.length===0}constructor(e,r){super(e,r),this.glyphs=null}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}let e=0;for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.renderer=this.renderer,i.doLayout(),e=Math.max(e,i.width)}this.width=e}addGlyph(e){this.glyphs||(this.glyphs=[]),this.renderer&&(e.renderer=this.renderer),this.glyphs.push(e)}paint(e,r,n){let i=this.glyphs;if(!(!i||i.length===0))for(let s of i)s.paint(e+this.x,r+this.y,n)}}class jh extends Wa{constructor(){super(0,0),this.glyphs=[]}addGlyph(e){e.x=this.glyphs.length===0?0:this.glyphs[this.glyphs.length-1].x+this.glyphs[this.glyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.width=e.x+e.width,super.addGlyph(e)}}class ZO extends Wa{constructor(e,r,n){super(e,r),this.voice=n,this.beatGlyphs=[],this.tupletGroups=[]}scaleToWidth(e){const r=this.renderer.scale;let n=this.renderer.layoutingInfo.spaceToForce(e/r);this.scaleToForce(n)}scaleToForce(e){const r=this.renderer.scale;this.width=this.renderer.layoutingInfo.calculateVoiceWidth(e)*r;let n=this.renderer.layoutingInfo.buildOnTimePositions(e),i=this.beatGlyphs;for(let s=0,a=i.length;s<a;s++){let o=i[s];switch(o.beat.graceType){case tt.None:o.x=n.get(o.beat.absoluteDisplayStart)*r-o.onTimeX;break;default:const l=o.beat.graceGroup.beats[0].absoluteDisplayStart,c=o.beat.graceGroup.id;if(o.beat.graceGroup.isComplete&&n.has(l)){o.x=n.get(l)*r-o.onTimeX;let u=this.renderer.layoutingInfo.allGraceRods.get(c);const d=o.beat.graceGroup.beats[o.beat.graceGroup.beats.length-1].nextBeat,h=d?this.renderer.layoutingInfo.getPreBeatSize(d)+Ea.GraceBeatPadding*this.renderer.scale:0;o.x-=h,o.x-=u[o.beat.graceIndex].postSpringWidth,o.x+=u[o.beat.graceIndex].graceBeatWidth;const p=u[o.beat.graceGroup.beats.length-1];o.x-=p.graceBeatWidth}else{let u=this.renderer.layoutingInfo.incompleteGraceRods.get(c);const d=u[o.beat.graceIndex].postSpringWidth-u[o.beat.graceIndex].preSpringWidth;s>0?o.beat.graceIndex===0?o.x=i[s-1].x+i[s-1].width:o.x=i[s-1].x+u[o.beat.graceIndex-1].postSpringWidth-u[o.beat.graceIndex-1].preSpringWidth-d:o.x=-d}break}if(s>0){let l=o.x-i[s-1].x;i[s-1].scaleToWidth(l)}if(s===a-1){let l=this.width-i[i.length-1].x;o.scaleToWidth(l)}}}registerLayoutingInfo(e){e.updateVoiceSize(this.width);let r=this.beatGlyphs;for(let n of r)n.registerLayoutingInfo(e)}applyLayoutingInfo(e){let r=this.beatGlyphs;for(let n of r)n.applyLayoutingInfo(e);this.scaleToForce(Math.max(this.renderer.settings.display.stretchForce,e.minStretchForce))}addGlyph(e){let r=e;e.x=this.beatGlyphs.length===0?0:this.beatGlyphs[this.beatGlyphs.length-1].x+this.beatGlyphs[this.beatGlyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.beatGlyphs.push(r),this.width=e.x+e.width,r.beat.hasTuplet&&r.beat.tupletGroup.beats[0].id===r.beat.id&&this.tupletGroups.push(r.beat.tupletGroup)}doLayout(){}paint(e,r,n){n.color=this.voice.index===0?this.renderer.resources.mainGlyphColor:this.renderer.resources.secondaryGlyphColor;for(let i=0,s=this.beatGlyphs.length;i<s;i++)this.beatGlyphs[i].paint(e+this.x,r+this.y,n)}}ZO.KeySizeBeat="Beat";var Xt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Sharp=2]="Sharp",t[t.Flat=3]="Flat",t[t.NaturalQuarterNoteUp=4]="NaturalQuarterNoteUp",t[t.SharpQuarterNoteUp=5]="SharpQuarterNoteUp",t[t.FlatQuarterNoteUp=6]="FlatQuarterNoteUp",t[t.DoubleSharp=7]="DoubleSharp",t[t.DoubleFlat=8]="DoubleFlat"})(Xt||(Xt={}));class Zoe{constructor(){this.maxLine=-1e3,this.minLine=-1e3}}class qr{constructor(e){this._registeredAccidentals=new Map,this._appliedScoreLines=new Map,this._appliedScoreLinesByValue=new Map,this._notesByValue=new Map,this._beatLines=new Map,this.maxLineBeat=null,this.minLineBeat=null,this.maxLine=-1e3,this.minLine=-1e3,this._barRenderer=e,this._bar=e.bar}static getPercussionLine(e,r){var n;return r<e.staff.track.percussionArticulations.length?e.staff.track.percussionArticulations[r].staffLine:((n=Fn.getArticulationByValue(r))==null?void 0:n.staffLine)??0}static getNoteValue(e){if(e.isPercussion)return e.percussionArticulation;let r=e.displayValue;switch(e.accidentalMode){case Kr.ForceDoubleFlat:r+=2;break;case Kr.ForceDoubleSharp:r-=2;break;case Kr.ForceFlat:r+=1;break;case Kr.ForceSharp:r-=1;break}return r}applyAccidental(e){const r=qr.getNoteValue(e);let n=e.hasQuarterToneOffset;return this.getAccidental(r,n,e.beat,!1,e)}applyAccidentalForValue(e,r,n,i){return this.getAccidental(r,n,e,i,null)}static computeLineWithoutAccidentals(e,r){let n=0;const i=qr.getNoteValue(r);if(e.staff.isPercussion)n=qr.getPercussionLine(e,i);else{const s=r?r.accidentalMode:Kr.Default;n=qr.calculateNoteLine(e,i,s)}return n}getAccidental(e,r,n,i,s=null){let a=Xt.None,o=0;if(this._bar.staff.isPercussion)o=qr.getPercussionLine(this._bar,e);else{const l=s?s.accidentalMode:Kr.Default;o=qr.calculateNoteLine(this._bar,e,l);let u=this._bar.masterBar.keySignature+7,d=e%12,h=u<7?Xt.Flat:Xt.Sharp,p=qr.KeySignatureLookup[u][d],f=qr.AccidentalNotes[d];if(r)switch(a=f?h:Xt.Natural,a){case Xt.Natural:a=Xt.NaturalQuarterNoteUp;break;case Xt.Sharp:a=Xt.SharpQuarterNoteUp;break;case Xt.Flat:a=Xt.FlatQuarterNoteUp;break}else{switch(l){case Kr.ForceSharp:a=Xt.Sharp;break;case Kr.ForceDoubleSharp:a=Xt.DoubleSharp;break;case Kr.ForceFlat:a=Xt.Flat;break;case Kr.ForceDoubleFlat:a=Xt.DoubleFlat;break;default:f?a=h:p&&(a=Xt.Natural);break}let m=!1;if(s&&s.isTieDestination&&s.beat.index===0){const g=this._barRenderer.previousRenderer;g&&g.accidentalHelper.getNoteLine(s.tieOrigin)===o&&(m=!0)}m?a=Xt.None:a!==Xt.None?(this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===a&&(a=Xt.None):p&&a===h&&(a=Xt.None),a!==Xt.None&&this._registeredAccidentals.set(o,a)):this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===Xt.Natural?a=Xt.None:(a=Xt.Natural,this._registeredAccidentals.set(o,a)):this._registeredAccidentals.delete(o)}}return s?(this._appliedScoreLines.set(s.id,o),this._notesByValue.set(e,s)):this._appliedScoreLinesByValue.set(e,o),(this.minLine===-1e3||this.minLine<o)&&(this.minLine=o,this.minLineBeat=n),(this.maxLine===-1e3||this.maxLine>o)&&(this.maxLine=o,this.maxLineBeat=n),i||this.registerLine(n,o),a}registerLine(e,r){let n;this._beatLines.has(e.id)?n=this._beatLines.get(e.id):(n=new Zoe,this._beatLines.set(e.id,n)),(n.minLine===-1e3||r<n.minLine)&&(n.minLine=r),(n.minLine===-1e3||r>n.maxLine)&&(n.maxLine=r)}getMaxLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).maxLine:0}getMinLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).minLine:0}static calculateNoteLine(e,r,n){let i=r,s=e.masterBar.keySignature,a=e.clef,o=i%12,l=(i/12|0)-1,c=qr.OctaveSteps[a];c-=l*qr.StepsPerOctave;let u=or.keySignatureIsSharp(s)||or.keySignatureIsNatural(s)?qr.SharpNoteSteps:qr.FlatNoteSteps;return c-=u[o],c}getNoteLine(e){return this._appliedScoreLines.get(e.id)}getNoteLineForValue(e,r=!1){return this._appliedScoreLinesByValue.has(e)?this._appliedScoreLinesByValue.get(e):r&&this._notesByValue.has(e)?this.getNoteLine(this._notesByValue.get(e)):0}}qr.KeySignatureLookup=[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]];qr.AccidentalNotes=[!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1];qr.StepsPerOctave=7;qr.OctaveSteps=[38,32,30,26,38];qr.SharpNoteSteps=[0,0,1,1,2,3,3,4,4,5,5,6];qr.FlatNoteSteps=[0,1,1,2,2,3,4,4,5,5,6,6];class ele{constructor(){this.staffId="",this.up=0,this.down=0}}class tle{constructor(){this.startBeat=null,this.startX=0,this.startY=0,this.endBeat=null,this.endX=0,this.endY=0}calcY(e){return this.startX===this.endX?this.startY:(this.endY-this.startY)/(this.endX-this.startX)*(e-this.startX)+this.startY}}class qi{get isRestBeamHelper(){return this.beats.length===1&&this.beats[0].isRest}get hasLine(){return this.beats.length===1&&this.beats[0].duration>H.Whole}get hasFlag(){return this.beats.length===1&&!this.beats[0].isRest&&(this.beats[0].duration>H.Quarter||this.beats[0].graceType!==tt.None)}constructor(e,r){this._beatLineXPositions=new Map,this._firstNonRestBeat=null,this._lastNonRestBeat=null,this.voice=null,this.beats=[],this.shortestDuration=H.QuadrupleWhole,this.fingeringCount=0,this.hasTuplet=!1,this._firstBeatLowestNoteCompareValue=-1,this._firstBeatHighestNoteCompareValue=-1,this._lastBeatLowestNoteCompareValue=-1,this._lastBeatHighestNoteCompareValue=-1,this.lowestNoteInHelper=null,this._lowestNoteCompareValueInHelper=-1,this.highestNoteInHelper=null,this._highestNoteCompareValueInHelper=-1,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isGrace=!1,this.minRestLine=null,this.beatOfMinRestLine=null,this.maxRestLine=null,this.beatOfMaxRestLine=null,this.direction=Pe.Up,this.drawingInfos=new Map,this._staff=e,this._renderer=r,this.beats=[]}getBeatLineX(e){return this.hasBeatLineX(e)?this.direction===Pe.Up?this._beatLineXPositions.get(e.index).up:this._beatLineXPositions.get(e.index).down:0}hasBeatLineX(e){return this._beatLineXPositions.has(e.index)}registerBeatLineX(e,r,n,i){let s=this.getOrCreateBeatPositions(r);s.staffId=e,s.up=n,s.down=i;for(const a of this.drawingInfos.values())a.startBeat==r?a.startX=this.getBeatLineX(r):a.endBeat==r&&(a.endX=this.getBeatLineX(r))}getOrCreateBeatPositions(e){return this._beatLineXPositions.has(e.index)||this._beatLineXPositions.set(e.index,new ele),this._beatLineXPositions.get(e.index)}finish(){this.direction=this.calculateDirection()}calculateDirection(){let e=null;if(this.voice?this.preferredBeamDirection!==null?e=this.preferredBeamDirection:this.voice.index>0?e=this.invert(Pe.Down):this.voice.bar.isMultiVoice?e=this.invert(Pe.Up):this.beats[0].graceType!==tt.None&&(e=this.invert(Pe.Up)):e=Pe.Up,this.highestNoteInHelper&&this.lowestNoteInHelper){let r=this._renderer.getNoteY(this.highestNoteInHelper,Xe.Center),n=this._renderer.getNoteY(this.lowestNoteInHelper,Xe.Center);if(e===null){const i=(r+n)/2;e=this.invert(this._renderer.middleYPosition<i?Pe.Up:Pe.Down)}this._renderer.completeBeamingHelper(this)}else e=this.invert(Pe.Up),this._renderer.completeBeamingHelper(this);return e}static computeLineHeightsForRest(e){switch(e){case H.QuadrupleWhole:return[2,2];case H.DoubleWhole:return[2,2];case H.Whole:return[0,1];case H.Half:return[1,0];case H.Quarter:return[3,3];case H.Eighth:return[2,2];case H.Sixteenth:return[2,4];case H.ThirtySecond:return[4,4];case H.SixtyFourth:return[4,6];case H.OneHundredTwentyEighth:return[6,6];case H.TwoHundredFiftySixth:return[6,8]}return[0,0]}applyRest(e,r){if(this._lastNonRestBeat&&e.index>=this._lastNonRestBeat.index||this._firstNonRestBeat&&e.index<=this._firstNonRestBeat.index)return;let n=r,i=r;const s=qi.computeLineHeightsForRest(e.duration);n-=s[0],i+=s[1];const a=this.minRestLine,o=this.maxRestLine;(a===null||a>n)&&(this.minRestLine=n,this.beatOfMinRestLine=e),(o===null||o<i)&&(this.maxRestLine=i,this.beatOfMaxRestLine=e)}invert(e){if(!this.invertBeamDirection)return e;switch(e){case Pe.Down:return Pe.Up;default:return Pe.Down}}checkBeat(e){e.invertBeamDirection&&(this.invertBeamDirection=!0),this.voice||(this.voice=e.voice);let r=!1;if(this.beats.length===0)r=!0;else switch(this.beats[this.beats.length-1].beamingMode){case Ma.Auto:r=qi.canJoin(this.beats[this.beats.length-1],e);break;case Ma.ForceSplitToNext:r=!1;break;case Ma.ForceMergeWithNext:r=!0;break}if(r){if(e.preferredBeamDirection!==null&&(this.preferredBeamDirection=e.preferredBeamDirection),e.isRest)this.beats.length===0&&this.beats.push(e);else{this.isRestBeamHelper&&(this.beats=[]),this.beats.push(e),e.graceType!==tt.None&&(this.isGrace=!0),e.hasTuplet&&(this.hasTuplet=!0);let n=0;for(let i=0;i<e.notes.length;i++){let s=e.notes[i];(s.leftHandFinger!==ct.Unknown||s.rightHandFinger!==ct.Unknown)&&n++}n>this.fingeringCount&&(this.fingeringCount=n),this.checkNote(e.minNote),this.checkNote(e.maxNote),this.shortestDuration<e.duration&&(this.shortestDuration=e.duration),this._firstNonRestBeat||(this._firstNonRestBeat=e),this._lastNonRestBeat=e}e.hasTuplet&&(this.hasTuplet=!0)}return r}checkNote(e){if(!e)return;let r,n;this.voice&&e.isPercussion?(r=-qr.getPercussionLine(this.voice.bar,qr.getNoteValue(e)),n=r):(r=qr.getNoteValue(e),n=r,e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural&&(n=e.realValue-this._staff.displayTranspositionPitch)),this.beats.length===1&&this.beats[0]===e.beat&&((this._firstBeatLowestNoteCompareValue===-1||r<this._firstBeatLowestNoteCompareValue)&&(this._firstBeatLowestNoteCompareValue=r),(this._firstBeatHighestNoteCompareValue===-1||n>this._firstBeatHighestNoteCompareValue)&&(this._firstBeatHighestNoteCompareValue=n)),(this._lastBeatLowestNoteCompareValue===-1||r<this._lastBeatLowestNoteCompareValue)&&(this._lastBeatLowestNoteCompareValue=r),(this._lastBeatHighestNoteCompareValue===-1||n>this._lastBeatHighestNoteCompareValue)&&(this._lastBeatHighestNoteCompareValue=n),(!this.lowestNoteInHelper||r<this._lowestNoteCompareValueInHelper)&&(this.lowestNoteInHelper=e,this._lowestNoteCompareValueInHelper=r),(!this.highestNoteInHelper||n>this._highestNoteCompareValueInHelper)&&(this.highestNoteInHelper=e,this._highestNoteCompareValueInHelper=n)}static canJoin(e,r){if(!e||!r||e.graceType!==r.graceType||e.graceType===tt.BendGrace||r.graceType===tt.BendGrace)return!1;if(e.graceType!==tt.None&&r.graceType!==tt.None)return!0;let n=e.voice.bar,i=r.voice.bar;if(n!==i)return!1;let s=e.playbackStart,a=r.playbackStart;if(!qi.canJoinDuration(e.duration)||!qi.canJoinDuration(r.duration))return s===a;if(e.tupletGroup!==r.tupletGroup)return!1;if(e.hasTuplet&&r.hasTuplet&&e.tupletGroup===r.tupletGroup&&e.tupletGroup.isFull)return!0;let o=dt.QuarterTime;switch(n.masterBar.timeSignatureDenominator){case 8:n.masterBar.timeSignatureNumerator%3===0&&(o+=dt.QuarterTime/2|0);break}let l=(o+s)/o|0|0,c=(o+a)/o|0|0;return l===c}static canJoinDuration(e){switch(e){case H.Whole:case H.Half:case H.Quarter:return!1;default:return!0}}static isFullBarJoin(e,r,n){return or.getIndex(e.duration)-2-n>0&&or.getIndex(r.duration)-2-n>0}get beatOfLowestNote(){return this.lowestNoteInHelper.beat}get beatOfHighestNote(){return this.highestNoteInHelper.beat}isPositionFrom(e,r){return this._beatLineXPositions.has(r.index)?this._beatLineXPositions.get(r.index).staffId===e||!this._beatLineXPositions.get(r.index).staffId:!0}}class rle{constructor(e,r){this.topY=0,this.bottomY=0,this.topY=e,this.bottomY=r}}class nle{constructor(e){this.topY=-1e3,this.bottomY=-1e3,this.slots=[],this.beat=e}addSlot(e,r){if(this.slots.push(new rle(e,r)),this.topY===-1e3)this.topY=e,this.bottomY=r;else{const n=Math.min(e,r),i=Math.max(e,r);n<this.topY&&(this.topY=n),i>this.bottomY&&(this.bottomY=i)}}}class ile{constructor(){this.reservedLayoutAreasByDisplayTime=new Map,this.restDurationsByDisplayTime=new Map}getBeatMinMaxY(){let e=-1e3,r=-1e3;for(const n of this.reservedLayoutAreasByDisplayTime.values())e===-1e3?(e=n.topY,r=n.bottomY):(e>n.topY&&(e=n.topY),r<n.bottomY&&(r=n.bottomY));return e===-1e3?[0,0]:[e,r]}reserveBeatSlot(e,r,n){r!=n&&(this.reservedLayoutAreasByDisplayTime.has(e.displayStart)||this.reservedLayoutAreasByDisplayTime.set(e.displayStart,new nle(e)),this.reservedLayoutAreasByDisplayTime.get(e.displayStart).addSlot(r,n),e.isRest&&this.registerRest(e))}registerRest(e){this.restDurationsByDisplayTime.has(e.displayStart)||this.restDurationsByDisplayTime.set(e.displayStart,new Map),this.restDurationsByDisplayTime.get(e.displayStart).has(e.playbackDuration)||this.restDurationsByDisplayTime.get(e.displayStart).set(e.playbackDuration,e.id)}applyRestCollisionOffset(e,r,n){if(e.voice.index>0&&this.reservedLayoutAreasByDisplayTime.has(e.playbackStart)){const i=qi.computeLineHeightsForRest(e.duration).map(u=>u*n);let s=r-i[0],a=r+i[1],o=s;const l=this.reservedLayoutAreasByDisplayTime.get(e.playbackStart);let c=!1;for(const u of l.slots)if(s>=u.topY&&s<=u.bottomY||a>=u.topY&&a<=u.bottomY){c=!0;break}if(c){e.voice.index==1?o=l.topY-i[1]-i[0]:o=l.bottomY;let u=o+i[0]+i[1];const d=n*2;let h=Math.ceil(Math.abs(o-s)/d);return l.addSlot(o,u),o<s?h*-d:h*d}}return 0}}class sle{constructor(e){this.beamHelpers=[],this.beamHelperLookup=[],this._renderer=e,this.collisionHelper=new ile}initialize(){var e=this._renderer,r=this._renderer.bar;let n=null,i=null;for(let s=0,a=r.voices.length;s<a;s++){let o=r.voices[s];this.beamHelpers.push([]),this.beamHelperLookup.push(new Map);for(let l=0,c=o.beats.length;l<c;l++){let u=o.beats[l],d;u.graceType!==tt.None?d=i:(d=n,i=null),(!d||!d.checkBeat(u))&&(d&&d.finish(),d=new qi(r.staff,e),d.checkBeat(u),u.graceType!==tt.None?i=d:n=d,this.beamHelpers[o.index].push(d)),this.beamHelperLookup[o.index].set(u.index,d)}n&&n.finish(),i&&i.finish(),n=null,i=null}}getBeamingHelperForBeat(e){return this.beamHelperLookup[e.voice.index].get(e.index)}}class Ln extends Ha{constructor(e,r,n){super(e,r),this._textRow=0,this._fretRow=0,this._firstFretSpacing=0,this._chord=n}doLayout(){super.doLayout();const e=this.scale;let r=this.renderer.resources;this._textRow=r.effectFont.size*1.5*e,this._fretRow=r.effectFont.size*1.5*e,this._chord.firstFret>1?this._firstFretSpacing=Ln.FretSpacing*e:this._firstFretSpacing=0,this.height=this._textRow+this._fretRow+(Ln.Frets-1)*Ln.FretSpacing*e+2*Ln.Padding*e,this.width=this._firstFretSpacing+(this._chord.staff.tuning.length-1)*Ln.StringSpacing*e+2*Ln.Padding*e}paint(e,r,n){e+=this.x+Ln.Padding*this.scale+this._firstFretSpacing,r+=this.y;let i=this.width-2*Ln.Padding*this.scale+this.scale-this._firstFretSpacing,s=Ln.StringSpacing*this.scale,a=Ln.FretSpacing*this.scale,o=this.renderer.resources,l=Ln.CircleRadius*this.scale,c=n.textAlign,u=n.textBaseline;n.font=o.effectFont,n.textAlign=et.Center,n.textBaseline=bt.Top,this._chord.showName&&n.fillText(this._chord.name,e+this.width/2,r+o.effectFont.size/2),r+=this._textRow,e+=s/2,n.font=o.fretboardNumberFont,n.textBaseline=bt.Middle;for(let h=0;h<this._chord.staff.tuning.length;h++){let p=e+h*s,f=r+this._fretRow/2,m=this._chord.strings[this._chord.staff.tuning.length-h-1];m<0?n.fillMusicFontSymbol(p,f,this.scale,P.FretboardX,!0):m===0?n.fillMusicFontSymbol(p,f,this.scale,P.FretboardO,!0):(m-=this._chord.firstFret-1,n.fillText(m.toString(),p,f))}r+=this._fretRow;for(let h=0;h<this._chord.staff.tuning.length;h++){let p=e+h*s;n.fillRect(p,r,1,a*Ln.Frets+this.scale)}this._chord.firstFret>1&&(n.textAlign=et.Left,n.fillText(this._chord.firstFret.toString(),e-this._firstFretSpacing,r+a/2)),n.fillRect(e,r-this.scale,i,2*this.scale);for(let h=0;h<=Ln.Frets;h++){let p=r+h*a;n.fillRect(e,p,i,this.scale)}let d=new Map;for(let h of this._chord.barreFrets){let p=[-1,-1];d.set(h-this._chord.firstFret,p)}for(let h=0;h<this._chord.strings.length;h++){let p=this._chord.strings[h];if(p>0){if(p-=this._chord.firstFret,d.has(p)){let g=d.get(p);(g[0]===-1||h<g[0])&&(g[0]=h),(g[1]===-1||h>g[1])&&(g[1]=h)}let f=r+p*a+a/2+.5*this.scale,m=e+(this._chord.strings.length-h-1)*s;n.fillCircle(m,f,l)}}for(const[h,p]of d){let f=r+h*a+a/2+.5*this.scale,m=e+(this._chord.strings.length-p[1]-1)*s,g=e+(this._chord.strings.length-p[0]-1)*s;n.fillRect(m,f-l,g-m,l*2)}n.textAlign=c,n.textBaseline=u}}Ln.Padding=5;Ln.Frets=5;Ln.CircleRadius=2.5;Ln.StringSpacing=10;Ln.FretSpacing=12;class WM extends Wa{constructor(e,r,n=et.Center){super(e,r),this._glyphWidth=0,this.glyphs=[],this._align=n}doLayout(){let e=0;switch(this._align){case et.Left:e=0;break;case et.Center:e=(this.width-this._glyphWidth)/2;break;case et.Right:e=this.width-this._glyphWidth;break}for(let r of this.glyphs)r.x=e,e+=r.width}addGlyphToRow(e){this.glyphs.push(e),this._glyphWidth+=e.width,e.height>this.height&&(this.height=e.height)}}class Hd extends Wa{constructor(e,r,n=et.Center){super(e,r),this._rows=[],this.height=0,this.glyphs=[],this._align=n}doLayout(){let e=0,r=0,n=2*Hd.Padding*this.scale;this._rows=[];let i=new WM(e,r,this._align);i.width=this.width;for(let s of this.glyphs)e+s.width<this.width?(i.addGlyphToRow(s),e+=s.width):(i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),e=0,i=new WM(e,r,this._align),i.width=this.width,i.addGlyphToRow(s),e+=s.width);i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),this.height=r+n}paint(e,r,n){for(let i of this._rows)i.paint(e+this.x,r+this.y+Hd.Padding*this.scale,n)}}Hd.Padding=3;class ale extends Hd{constructor(e,r){super(e,r)}addChord(e){if(e.strings.length>0){let r=new Ln(0,0,e);r.renderer=this.renderer,r.doLayout(),this.glyphs.push(r)}}}class ti extends Ha{constructor(e,r,n,i,s=et.Left){super(e,r),this._lines=n.split(`
`),this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){let i=n.color;n.color=i,n.font=this.font;let s=n.textAlign;n.textAlign=this.textAlign;let a=r+this.y;for(let o of this._lines)n.fillText(o,e+this.x,a),a+=this.font.size;n.textAlign=s}}class ole{get staveId(){return this._factory.staffId}constructor(e,r,n){this._sharedLayoutData=new Map,this.barRenderers=[],this.x=0,this.y=0,this.height=0,this.index=0,this.staffIndex=0,this.trackIndex=0,this.staveTop=0,this.topSpacing=20,this.bottomSpacing=5,this.staveBottom=0,this.isFirstInAccolade=!1,this.isLastInAccolade=!1,this._factory=n,this.trackIndex=e,this.modelStaff=r}getSharedLayoutData(e,r){return this._sharedLayoutData.has(e)?this._sharedLayoutData.get(e):r}setSharedLayoutData(e,r){this._sharedLayoutData.set(e,r)}get isInAccolade(){return this._factory.isInAccolade}get isRelevantForBoundsLookup(){return this._factory.isRelevantForBoundsLookup}registerStaffTop(e){this.staveTop=e}registerStaffBottom(e){this.staveBottom=e}addBarRenderer(e){e.staff=this,e.index=this.barRenderers.length,e.reLayout(),this.barRenderers.push(e),this.staveGroup.layout.registerBarRenderer(this.staveId,e)}addBar(e,r){let n;e?n=this._factory.create(this.staveGroup.layout.renderer,e):n=new Er(this.staveGroup.layout.renderer,e),n.staff=this,n.index=this.barRenderers.length,n.layoutingInfo=r,n.doLayout(),n.registerLayoutingInfo();const i=n.barDisplayWidth;i>0&&this.staveGroup.layout.systemsLayoutMode==Ki.FromModelWithWidths&&(n.width=i),this.barRenderers.push(n),e&&this.staveGroup.layout.registerBarRenderer(this.staveId,n)}revertLastBar(){let e=this.barRenderers[this.barRenderers.length-1];return this.barRenderers.splice(this.barRenderers.length-1,1),this.staveGroup.layout.unregisterBarRenderer(this.staveId,e),e}scaleToWidth(e){this._sharedLayoutData=new Map;let r=this.topOverflow,n=0;switch(this.staveGroup.layout.systemsLayoutMode){case Ki.Automatic:let s=(e-this.staveGroup.computedWidth)/this.barRenderers.length;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;let l=o.computedWidth+s;o.scaleToWidth(l),n+=o.width}break;case Ki.FromModelWithScale:e-=this.staveGroup.accoladeSpacing;const a=this.staveGroup.totalBarDisplayScale;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayScale*e/a;o.scaleToWidth(l),n+=o.width}break;case Ki.FromModelWithWidths:for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayWidth;l>0?o.scaleToWidth(l):o.scaleToWidth(o.computedWidth),n+=o.width}break}}get topOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.topOverflow>e&&(e=i.topOverflow)}return e}get bottomOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.bottomOverflow>e&&(e=i.bottomOverflow)}return e}finalizeStaff(){this.height=0;let e=!1,r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()&&(e=!0);if(e){r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()}this.height>0&&(this.height+=this.topSpacing+r+this.bottomOverflow+this.bottomSpacing)}paint(e,r,n,i,s){if(!(this.height===0||s===0))for(let a=i,o=Math.min(i+s,this.barRenderers.length);a<o;a++)this.barRenderers[a].paint(e+this.x,r+this.y,n)}}class HM{constructor(){this.timePosition=0,this.longestDuration=0,this.smallestDuration=0,this.force=0,this.springConstant=0,this.preBeatWidth=0,this.graceBeatWidth=0,this.postSpringWidth=0,this.allDurations=new Set}get springWidth(){return this.preSpringWidth+this.postSpringWidth}get preSpringWidth(){return this.preBeatWidth+this.graceBeatWidth}}class Ud{constructor(){this._timeSortedSprings=[],this._xMin=0,this._minTime=-1,this._onTimePositionsForce=0,this._onTimePositions=new Map,this._incompleteGraceRodsWidth=0,this.version=0,this.preBeatSizes=new Map,this.onBeatSizes=new Map,this.onBeatCenterX=new Map,this.preBeatSize=0,this.postBeatSize=0,this.voiceSize=0,this.minStretchForce=0,this.totalSpringConstant=0,this.incompleteGraceRods=new Map,this.allGraceRods=new Map,this.springs=new Map,this.height=0}updateVoiceSize(e){e>this.voiceSize&&(this.voiceSize=e,this.version++)}setPreBeatSize(e,r){(!this.preBeatSizes.has(e.id)||this.preBeatSizes.get(e.id)<r)&&(this.preBeatSizes.set(e.id,r),this.version++)}getPreBeatSize(e){return this.preBeatSizes.has(e.id)?this.preBeatSizes.get(e.id):0}setOnBeatSize(e,r){(!this.onBeatSizes.has(e.id)||this.onBeatSizes.get(e.id)<r)&&(this.onBeatSizes.set(e.id,r),this.version++)}getOnBeatSize(e){return this.onBeatSizes.has(e.id)?this.onBeatSizes.get(e.id):0}getBeatCenterX(e){return this.onBeatCenterX.has(e.id)?this.onBeatCenterX.get(e.id):0}setBeatCenterX(e,r){(!this.onBeatCenterX.has(e.id)||this.onBeatCenterX.get(e.id)<r)&&(this.onBeatCenterX.set(e.id,r),this.version++)}updateMinStretchForce(e){this.minStretchForce<e&&(this.minStretchForce=e)}addSpring(e,r,n,i,s){this.version++;let a;if(this.springs.has(e))a=this.springs.get(e),a.postSpringWidth<s&&(a.postSpringWidth=s),a.graceBeatWidth<n&&(a.graceBeatWidth=n),a.preBeatWidth<i&&(a.preBeatWidth=i),r<a.smallestDuration&&(a.smallestDuration=r),r>a.longestDuration&&(a.longestDuration=r),a.allDurations.add(r);else{if(a=new HM,a.timePosition=e,a.allDurations.add(r),this._timeSortedSprings.length>0){let c=this._timeSortedSprings[this._timeSortedSprings.length-1];for(const u of c.allDurations)c.timePosition+u}a.longestDuration=r,a.postSpringWidth=s,a.graceBeatWidth=n,a.preBeatWidth=i,this.springs.set(e,a);let o=this._timeSortedSprings,l=o.length-1;for(;l>0&&o[l].timePosition>e;)l--;this._timeSortedSprings.splice(l+1,0,a)}return(this._minTime===-1||this._minTime>e)&&(this._minTime=e),a}addBeatSpring(e,r,n){let i=e.absoluteDisplayStart;if(e.graceType!==tt.None){const s=e.graceGroup.id;this.allGraceRods.has(s)||this.allGraceRods.set(s,new Array(e.graceGroup.beats.length)),!e.graceGroup.isComplete&&!this.incompleteGraceRods.has(s)&&this.incompleteGraceRods.set(s,new Array(e.graceGroup.beats.length));let a=this.allGraceRods.get(s)[e.graceIndex];if(a)a.postSpringWidth<n&&(a.postSpringWidth=n),a.preBeatWidth<r&&(a.preBeatWidth=r);else{const o=new HM;o.timePosition=i,o.postSpringWidth=n,o.preBeatWidth=r,e.graceGroup.isComplete||(this.incompleteGraceRods.get(s)[e.graceIndex]=o),this.allGraceRods.get(s)[e.graceIndex]=o}}else{let s=0;if(e.graceGroup&&this.allGraceRods.has(e.graceGroup.id))for(const a of this.allGraceRods.get(e.graceGroup.id))s+=a.springWidth;this.addSpring(i,e.displayDuration,s,r,n)}}finish(){for(const[e,r]of this.allGraceRods){let n=0;if(this.incompleteGraceRods.has(e))for(const i of r)n+=i.preBeatWidth,i.graceBeatWidth=n,n+=i.postSpringWidth;else for(let i=r.length-1;i>=0;i--)r[i].graceBeatWidth=n,n-=r[i].preBeatWidth+r[i].postSpringWidth}this._incompleteGraceRodsWidth=0;for(const e of this.incompleteGraceRods.values())for(const r of e)this._incompleteGraceRodsWidth+=r.preBeatWidth+r.postSpringWidth;this.calculateSpringConstants(),this.version++}calculateSpringConstants(){this._xMin=0;let e=this.springs;for(const i of e.values())i.springWidth<this._xMin&&(this._xMin=i.springWidth);let r=0,n=this._timeSortedSprings;if(n.length===0){this.totalSpringConstant=-1,this.minStretchForce=-1;return}for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.longestDuration;else{let o=n[i+1];a=Math.abs(o.timePosition-s.timePosition)}s.springConstant=this.calculateSpringConstant(s,a),r+=1/s.springConstant}this.totalSpringConstant=1/r,this.minStretchForce=0;for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.postSpringWidth;else{let l=n[i+1];a=s.postSpringWidth+l.preSpringWidth}i===0&&(a+=s.preSpringWidth);let o=a*s.springConstant;this.updateMinStretchForce(o)}}paint(e,r,n){}calculateSpringConstant(e,r){r<=0&&(r=dt.toTicks(H.SixtyFourth)),e.smallestDuration===0&&(e.smallestDuration=r);let n=e.smallestDuration,i=1+.85*Math.log2(r/Ud.MinDuration);return n/r*(1/(i*Ud.MinDurationWidth))}spaceToForce(e){return this.totalSpringConstant!==-1?(this._timeSortedSprings.length>0&&(e-=this._timeSortedSprings[0].preSpringWidth),e-=this._incompleteGraceRodsWidth,Math.max(e,0)*this.totalSpringConstant):-1}calculateVoiceWidth(e){let r=0;return this.totalSpringConstant!==-1&&(r=this.calculateWidth(e,this.totalSpringConstant)),this._timeSortedSprings.length>0&&(r+=this._timeSortedSprings[0].preSpringWidth),r+=this._incompleteGraceRodsWidth,r}calculateWidth(e,r){return e/r}buildOnTimePositions(e){if(this.totalSpringConstant===-1)return new Map;if(or.isAlmostEqualTo(this._onTimePositionsForce,e)&&this._onTimePositions)return this._onTimePositions;this._onTimePositionsForce=e;let r=new Map;this._onTimePositions=r;let n=this._timeSortedSprings;if(n.length===0)return r;let i=n[0].preSpringWidth;for(let s=0;s<n.length;s++)r.set(n[s].timePosition,i),i+=this.calculateWidth(e,n[s].springConstant);return r}}Ud.MinDuration=30;Ud.MinDurationWidth=7;class lle{constructor(){this.width=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this.renderers=[]}}class cle{constructor(e,r){this.staves=[],this.stavesRelevantForBoundsLookup=[],this.firstStaffInAccolade=null,this.lastStaffInAccolade=null,this.staveGroup=e,this.track=r}addStaff(e){this.staves.push(e),e.isRelevantForBoundsLookup&&this.stavesRelevantForBoundsLookup.push(e)}}class Np{constructor(){this._allStaves=[],this._firstStaffInAccolade=null,this._lastStaffInAccolade=null,this._accoladeSpacingCalculated=!1,this.x=0,this.y=0,this.index=0,this.accoladeSpacing=0,this.isFull=!1,this.width=0,this.computedWidth=0,this.totalBarDisplayScale=0,this.isLast=!1,this.masterBarsRenderers=[],this.staves=[]}get firstBarIndex(){return this.masterBarsRenderers[0].masterBar.index}get lastBarIndex(){return this.masterBarsRenderers[this.masterBarsRenderers.length-1].masterBar.index}addMasterBarRenderers(e,r){if(e.length===0)return null;this.masterBarsRenderers.push(r),this.calculateAccoladeSpacing(e),r.layoutingInfo.preBeatSize=0;let n=0;for(let i=0,s=this.staves.length;i<s;i++){let a=this.staves[i];for(let o=0,l=a.staves.length;o<l;o++){let c=a.staves[o],u=r.renderers[n++];c.addBarRenderer(u)}}return this.updateWidthFromLastBar(),r}addBars(e,r){if(e.length===0)return null;let n=new lle;n.layoutingInfo=new Ud,n.masterBar=e[0].score.masterBars[r],this.masterBarsRenderers.push(n),this.calculateAccoladeSpacing(e);let i=n.layoutingInfo;for(let s of this.staves)for(let a of s.staves){let o=s.track.staves[a.modelStaff.index].bars[r];a.addBar(o,i);let l=a.barRenderers[a.barRenderers.length-1];n.renderers.push(l),l.isLinkedToPrevious&&(n.isLinkedToPrevious=!0),l.canWrap||(n.canWrap=!1)}return i.finish(),n.width=this.updateWidthFromLastBar(),n}revertLastBar(){if(this.masterBarsRenderers.length>1){let e=this.masterBarsRenderers[this.masterBarsRenderers.length-1];this.masterBarsRenderers.splice(this.masterBarsRenderers.length-1,1);let r=0,n=0;for(let i=0,s=this._allStaves.length;i<s;i++){let o=this._allStaves[i].revertLastBar();const l=o.computedWidth;l>r&&(r=l);const c=o.barDisplayScale;c>n&&(n=c)}return this.width-=r,this.computedWidth-=r,this.totalBarDisplayScale-=n,e}return null}updateWidthFromLastBar(){let e=0,r=0;for(let n=0,i=this._allStaves.length;n<i;n++){let s=this._allStaves[n];const a=s.barRenderers[s.barRenderers.length-1];a.applyLayoutingInfo(),a.computedWidth>e&&(e=a.computedWidth);const o=a.barDisplayScale;o>r&&(r=o)}return this.width+=e,this.computedWidth+=e,this.totalBarDisplayScale+=r,e}calculateAccoladeSpacing(e){if(!this._accoladeSpacingCalculated&&this.index===0)if(this._accoladeSpacingCalculated=!0,!this.layout.renderer.settings.notation.isNotationElementVisible(it.TrackNames))this.accoladeSpacing=0;else{let r=this.layout.renderer.canvas,n=this.layout.renderer.settings.display.resources.effectFont;r.font=n;for(let i of e)this.accoladeSpacing=Math.ceil(Math.max(this.accoladeSpacing,r.measureText(i.shortName)));this.accoladeSpacing*=this.layout.scale,this.accoladeSpacing+=2*Np.AccoladeLabelSpacing*this.layout.scale,this.width+=this.accoladeSpacing,this.computedWidth+=this.accoladeSpacing}}getStaveTrackGroup(e){for(let r=0,n=this.staves.length;r<n;r++){let i=this.staves[r];if(i.track===e)return i}return null}addStaff(e,r){let n=this.getStaveTrackGroup(e);n||(n=new cle(this,e),this.staves.push(n)),r.staveTrackGroup=n,r.staveGroup=this,r.index=this._allStaves.length,this._allStaves.push(r),n.addStaff(r),r.isInAccolade&&(this._firstStaffInAccolade||(this._firstStaffInAccolade=r,r.isFirstInAccolade=!0),n.firstStaffInAccolade||(n.firstStaffInAccolade=r),this._lastStaffInAccolade||(this._lastStaffInAccolade=r,r.isLastInAccolade=!0),this._lastStaffInAccolade&&(this._lastStaffInAccolade.isLastInAccolade=!1),this._lastStaffInAccolade=r,this._lastStaffInAccolade.isLastInAccolade=!0,n.lastStaffInAccolade=r)}get height(){return this._allStaves[this._allStaves.length-1].y+this._allStaves[this._allStaves.length-1].height}scaleToWidth(e){for(let r=0,n=this._allStaves.length;r<n;r++)this._allStaves[r].scaleToWidth(e);this.width=e}paint(e,r,n){this.paintPartial(e+this.x,r+this.y,n,0,this.masterBarsRenderers.length)}paintPartial(e,r,n,i,s){for(let o=0,l=this._allStaves.length;o<l;o++)this._allStaves[o].paint(e,r,n,i,s);let a=this.layout.renderer.settings.display.resources;if(this.staves.length>0&&i===0){if(n.color=a.barSeparatorColor,this._firstStaffInAccolade&&this._lastStaffInAccolade){let o=r+this._firstStaffInAccolade.y+this._firstStaffInAccolade.staveTop+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow,l=r+this._lastStaffInAccolade.y+this._lastStaffInAccolade.topSpacing+this._lastStaffInAccolade.topOverflow+this._lastStaffInAccolade.staveBottom,c=e+this._firstStaffInAccolade.x;n.beginPath(),n.moveTo(c,o),n.lineTo(c,l),n.stroke()}n.font=a.effectFont;for(let o=0,l=this.staves.length;o<l;o++){let c=this.staves[o];if(c.firstStaffInAccolade&&c.lastStaffInAccolade){let u=r+c.firstStaffInAccolade.y+c.firstStaffInAccolade.staveTop+c.firstStaffInAccolade.topSpacing+c.firstStaffInAccolade.topOverflow,d=r+c.lastStaffInAccolade.y+c.lastStaffInAccolade.topSpacing+c.lastStaffInAccolade.topOverflow+c.lastStaffInAccolade.staveBottom,h=e+c.firstStaffInAccolade.x,p=3*this.layout.renderer.settings.display.scale,f=p,m=u-p*4,g=d+p*4;this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(it.TrackNames)&&n.fillText(c.track.shortName,e+Np.AccoladeLabelSpacing*this.layout.scale,u),n.fillRect(h-f-p,m,p,g-m);let y=h-f-p,b=h+p*2;n.beginPath(),n.moveTo(y,m),n.bezierCurveTo(y,m,y,m,b,m-p),n.bezierCurveTo(h,m+p,y,m+p,y,m+p),n.closePath(),n.fill(),n.beginPath(),n.moveTo(y,g),n.bezierCurveTo(y,g,h,g,b,g+p),n.bezierCurveTo(h,g-p,y,g-p,y,g-p),n.closePath(),n.fill()}}}}finalizeGroup(){let e=0;for(let r of this._allStaves)r.x=this.accoladeSpacing,r.y=e,r.finalizeStaff(),e+=r.height}buildBoundingsLookup(e,r){if(this.layout.renderer.boundsLookup.isFinished||!this._firstStaffInAccolade||!this._lastStaffInAccolade)return;let n=this._allStaves[this._allStaves.length-1],i=r+this.y+this._firstStaffInAccolade.y,s=r+this.y+this._lastStaffInAccolade.y+this._lastStaffInAccolade.height,a=r+this.y+this._allStaves[0].y,o=r+this.y+n.y+n.height,l=r+this.y+this._firstStaffInAccolade.y+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow+(this._firstStaffInAccolade.barRenderers.length>0?this._firstStaffInAccolade.barRenderers[0].topPadding:0),c=r+this.y+n.y+n.height-n.bottomSpacing-n.bottomOverflow-(n.barRenderers.length>0?n.barRenderers[0].bottomPadding:0),u=s-i,d=c-l,h=o-a,p=this.x+this._firstStaffInAccolade.x,f=new XO;f.visualBounds=new Ni,f.visualBounds.x=e,f.visualBounds.y=r+this.y,f.visualBounds.w=this.width,f.visualBounds.h=this.height,f.realBounds=new Ni,f.realBounds.x=e,f.realBounds.y=r+this.y,f.realBounds.w=this.width,f.realBounds.h=this.height,this.layout.renderer.boundsLookup.addStaveGroup(f);let m=new Map;for(let g=0;g<this.staves.length;g++)for(let y of this.staves[g].stavesRelevantForBoundsLookup)for(let b of y.barRenderers){let v;m.has(b.bar.masterBar.index)?v=m.get(b.bar.masterBar.index):(v=new YO,v.index=b.bar.masterBar.index,v.isFirstOfLine=b.isFirstOfLine,v.realBounds=new Ni,v.realBounds.x=p+b.x,v.realBounds.y=a,v.realBounds.w=b.width,v.realBounds.h=h,v.visualBounds=new Ni,v.visualBounds.x=p+b.x,v.visualBounds.y=i,v.visualBounds.w=b.width,v.visualBounds.h=u,v.lineAlignedBounds=new Ni,v.lineAlignedBounds.x=p+b.x,v.lineAlignedBounds.y=l,v.lineAlignedBounds.w=b.width,v.lineAlignedBounds.h=d,this.layout.renderer.boundsLookup.addMasterBar(v),m.set(v.index,v)),b.buildBoundingsLookup(v,p,r+this.y+y.y)}}getBarX(e){if(!this._firstStaffInAccolade||this.layout.renderer.tracks.length===0)return 0;let r=this.layout.renderer.tracks[0].staves[0].bars[e];return this.layout.getRendererForBar(this._firstStaffInAccolade.staveId,r).x}}Np.AccoladeLabelSpacing=10;class kv extends Wa{constructor(e,r,n,i){super(e,r),this._tuning=n,this._trackLabel=i,this.glyphs=[]}doLayout(){if(!(this.glyphs.length>0)){this.createGlyphs(this._tuning);for(const e of this.glyphs)e.renderer=this.renderer,e.doLayout()}}createGlyphs(e){const r=this.renderer.scale,n=this.renderer.resources;this.height=0;const i=15*r;this._trackLabel.length>0&&(this.addGlyph(new ti(0,this.height,this._trackLabel,n.effectFont,et.Left)),this.height+=i),this.addGlyph(new ti(0,this.height,e.name,n.effectFont,et.Left));const s=64*r;if(this.renderer.scoreRenderer.canvas.font=n.effectFont,this.width=Math.max(this.renderer.scoreRenderer.canvas.measureText(this._trackLabel)*r,Math.max(this.renderer.scoreRenderer.canvas.measureText(e.name)*r,2*s)),this.height+=i,!e.isStandard){const o=kv.CircleNumberHeight*.7*r;let l=Math.ceil(e.tunings.length/2)|0,c=0,u=this.height;for(let d=0,h=e.tunings.length;d<h;d++){const p=P.GuitarString0+(d+1);this.addGlyph(new Hr(c,u+o/1.2,.7,p));const f="= "+Te.getTextForTuning(e.tunings[d],!1);this.addGlyph(new ti(c+o+1*r,u,f,n.effectFont,et.Left)),u+=i,d===l-1&&(u=this.height,c+=s)}this.height+=l*i}this.width+=15*r}}kv.CircleNumberHeight=20;class ule extends Hd{constructor(e,r){super(e,r,et.Left)}addTuning(e,r){if(e.tunings.length>0){let n=new kv(0,0,e,r);n.renderer=this.renderer,n.doLayout(),this.glyphs.push(n)}}}class dle{constructor(e,r){this.args=e,this.renderCallback=r}}var Ki;(function(t){t[t.Automatic=0]="Automatic",t[t.FromModelWithScale=1]="FromModelWithScale",t[t.FromModelWithWidths=2]="FromModelWithWidths"})(Ki||(Ki={}));class e5{constructor(e){this._barRendererLookup=new Map,this.width=0,this.height=0,this.scoreInfoGlyphs=new Map,this.chordDiagrams=null,this.tuningGlyph=null,this.systemsLayoutMode=Ki.Automatic,this._lazyPartials=new Map,this.firstBarIndex=0,this.lastBarIndex=0,this.renderer=e}resize(){this._lazyPartials.clear(),this.doResize()}layoutAndRender(){this._lazyPartials.clear();let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r)),this.firstBarIndex=r;let n=this.renderer.settings.display.barCount;n<0&&(n=e.masterBars.length),n=r+n-1,n=Math.min(e.masterBars.length-1,Math.max(0,n)),this.lastBarIndex=n,this.createScoreInfoGlyphs(),this.doLayoutAndRender()}registerPartial(e,r){this.renderer.settings.core.enableLazyLoading?(this._lazyPartials.set(e.id,new dle(e,r)),this.renderer.partialLayoutFinished.trigger(e)):(this.renderer.partialLayoutFinished.trigger(e),this.internalRenderLazyPartial(e,r))}internalRenderLazyPartial(e,r){const n=this.renderer.canvas;n.beginRender(e.width,e.height),r(n),e.renderResult=n.endRender(),this.renderer.partialRenderFinished.trigger(e)}renderLazyPartial(e){if(this._lazyPartials.has(e)){const r=this._lazyPartials.get(e);this.internalRenderLazyPartial(r.args,r.renderCallback)}}createScoreInfoGlyphs(){ve.debug("ScoreLayout","Creating score info glyphs");let e=this.renderer.settings.notation,r=this.renderer.score,n=this.renderer.settings.display.resources;this.scoreInfoGlyphs=new Map,r.title&&e.isNotationElementVisible(it.ScoreTitle)&&this.scoreInfoGlyphs.set(it.ScoreTitle,new ti(0,0,r.title,n.titleFont,et.Center)),r.subTitle&&e.isNotationElementVisible(it.ScoreSubTitle)&&this.scoreInfoGlyphs.set(it.ScoreSubTitle,new ti(0,0,r.subTitle,n.subTitleFont,et.Center)),r.artist&&e.isNotationElementVisible(it.ScoreArtist)&&this.scoreInfoGlyphs.set(it.ScoreArtist,new ti(0,0,r.artist,n.subTitleFont,et.Center)),r.album&&e.isNotationElementVisible(it.ScoreAlbum)&&this.scoreInfoGlyphs.set(it.ScoreAlbum,new ti(0,0,r.album,n.subTitleFont,et.Center)),r.music&&r.music===r.words&&e.isNotationElementVisible(it.ScoreWordsAndMusic)?this.scoreInfoGlyphs.set(it.ScoreWordsAndMusic,new ti(0,0,"Music and Words by "+r.words,n.wordsFont,et.Center)):(r.music&&e.isNotationElementVisible(it.ScoreMusic)&&this.scoreInfoGlyphs.set(it.ScoreMusic,new ti(0,0,"Music by "+r.music,n.wordsFont,et.Right)),r.words&&e.isNotationElementVisible(it.ScoreWords)&&this.scoreInfoGlyphs.set(it.ScoreWords,new ti(0,0,"Words by "+r.words,n.wordsFont,et.Left)));const i=new Er(this.renderer,this.renderer.tracks[0].staves[0].bars[0]);if(e.isNotationElementVisible(it.GuitarTuning)){let s=[];for(let a of this.renderer.tracks)for(let o of a.staves)if(!o.isPercussion&&o.isStringed&&o.tuning.length>0&&o.showTablature){s.push(o);break}if(s.length>0){this.tuningGlyph=new ule(0,0),this.tuningGlyph.renderer=i;for(const a of s)this.tuningGlyph.addTuning(a.stringTuning,s.length>1?a.track.name:"")}}if(e.isNotationElementVisible(it.ChordDiagrams)){this.chordDiagrams=new ale(0,0),this.chordDiagrams.renderer=i;let s=new Set;for(let a of this.renderer.tracks)for(let o of a.staves){const l=o.chords;if(l)for(const[,c]of l)s.has(c.uniqueId)||c.showDiagram&&(s.add(c.uniqueId),this.chordDiagrams.addChord(c))}}}get scale(){return this.renderer.settings.display.scale}createEmptyStaveGroup(){let e=new Np;e.layout=this;for(let r=0;r<this.renderer.tracks.length;r++){let n=this.renderer.tracks[r],i=!1;for(let s of n.staves)if(s.showStandardNotation){i=!0;break}for(let s=0;s<n.staves.length;s++){let a=n.staves[s],o;if(a.isPercussion)o=Gi.Score;else if(this.renderer.settings.display.staveProfile!==Gi.Default)o=this.renderer.settings.display.staveProfile;else if(a.showTablature&&a.showStandardNotation)o=Gi.ScoreTab;else if(a.showTablature)o=i?Gi.TabMixed:Gi.Tab;else if(a.showStandardNotation)o=Gi.Score;else continue;let l=Ne.staveProfiles.get(o);for(let c of l)c.canCreate(n,a)&&e.addStaff(n,new ole(r,a,c))}}return e}registerBarRenderer(e,r){this._barRendererLookup.has(e)||this._barRendererLookup.set(e,new Map),this._barRendererLookup.get(e).set(r.bar.id,r)}unregisterBarRenderer(e,r){this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).delete(r.bar.id)}getRendererForBar(e,r){let n=r.id;return this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).has(n)?this._barRendererLookup.get(e).get(n):null}layoutAndRenderAnnotation(e){let r="rendered by alphaTab",n=this.renderer.settings.display.resources,i=12*this.renderer.settings.display.scale,s=Math.floor(i*2);const a=new Ic,o=Ot.withFamilyList(n.copyrightFont.families,i,Rr.Plain,ji.Bold);this.renderer.canvas.font=o;const l=Ne.getLayoutEngineFactory(this.renderer.settings.display.layoutMode).vertical;return a.width=this.renderer.canvas.measureText(r),a.height=s,a.x=l?(this.width-a.width)/2:this.firstBarX,a.y=e,a.totalWidth=this.width,a.totalHeight=e+s,a.firstMasterBarIndex=-1,a.lastMasterBarIndex=-1,this.registerPartial(a,c=>{c.color=n.mainGlyphColor,c.font=o,c.textAlign=et.Left,c.fillText(r,0,i)}),e+s}}var Xe;(function(t){t[t.TopWithStem=0]="TopWithStem",t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom",t[t.BottomWithStem=4]="BottomWithStem"})(Xe||(Xe={}));var Wr;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(Wr||(Wr={}));class Er{get nextRenderer(){return!this.bar||!this.bar.nextBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.nextBar)}get previousRenderer(){return!this.bar||!this.bar.previousBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.previousBar)}constructor(e,r){this._preBeatGlyphs=new jh,this._voiceContainers=new Map,this._postBeatGlyphs=new jh,this._ties=[],this.x=0,this.y=0,this.width=0,this.computedWidth=0,this.height=0,this.index=0,this.topOverflow=0,this.bottomOverflow=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this._wasFirstOfLine=!1,this._appliedLayoutingInfo=0,this.isFinalized=!1,this.topPadding=0,this.bottomPadding=0,this.scoreRenderer=e,this.bar=r,r&&(this.helpers=new sle(this))}registerTies(e){this._ties.push(...e)}get middleYPosition(){return 0}registerOverflowTop(e){return e>this.topOverflow?(this.topOverflow=e,!0):!1}registerOverflowBottom(e){return e>this.bottomOverflow?(this.bottomOverflow=e,!0):!1}scaleToWidth(e){let r=e-this._preBeatGlyphs.width-this._postBeatGlyphs.width;for(const n of this._voiceContainers.values())n.scaleToWidth(r);this._postBeatGlyphs.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width+r,this.width=e}get resources(){return this.settings.display.resources}get settings(){return this.scoreRenderer.settings}get scale(){return this.settings.display.scale}get barDisplayScale(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayScale:this.bar.displayScale}get barDisplayWidth(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayWidth:this.bar.displayWidth}get isFirstOfLine(){return this.index===0}get isLast(){return!this.bar||this.bar.index===this.scoreRenderer.layout.lastBarIndex}registerLayoutingInfo(){let e=this.layoutingInfo,r=this._preBeatGlyphs.width;e.preBeatSize<r&&(e.preBeatSize=r);for(const i of this._voiceContainers.values())i.registerLayoutingInfo(e),i.x+i.width;let n=this._postBeatGlyphs.width;e.postBeatSize<n&&(e.postBeatSize=n)}applyLayoutingInfo(){if(this._appliedLayoutingInfo>=this.layoutingInfo.version)return!1;this._appliedLayoutingInfo=this.layoutingInfo.version,this._preBeatGlyphs.width=this.layoutingInfo.preBeatSize;let e=this._preBeatGlyphs.x+this._preBeatGlyphs.width;for(const n of this._voiceContainers.values()){n.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width,n.applyLayoutingInfo(this.layoutingInfo);let i=n.x+n.width;e<i&&(e=i)}this._postBeatGlyphs.x=Math.floor(e),this._postBeatGlyphs.width=this.layoutingInfo.postBeatSize,this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.computedWidth=this.width;const r=this.barDisplayWidth;return r>0&&this.scoreRenderer.layout.systemsLayoutMode==Ki.FromModelWithWidths&&(this.width=r,this.computedWidth=r),!0}finalizeRenderer(){this.isFinalized=!0;let e=!1;const r=this.y-this.staff.topSpacing,n=this.y+this.height+this.staff.bottomSpacing;for(const i of this._ties)if(i.doLayout(),i.height>0){const s=i.y+i.height-n;s>0&&this.registerOverflowBottom(s)&&(e=!0);const a=i.y-r;a<0&&this.registerOverflowTop(a*-1)&&(e=!0)}return e}doLayout(){if(this.bar){this.helpers.initialize(),this._ties=[],this._preBeatGlyphs=new jh,this._preBeatGlyphs.renderer=this,this._voiceContainers.clear(),this._postBeatGlyphs=new jh,this._postBeatGlyphs.renderer=this;for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];if(this.hasVoiceContainer(r)){let n=new ZO(0,0,r);n.renderer=this,this._voiceContainers.set(this.bar.voices[e].index,n)}}this.bar.simileMark===vs.SecondOfDouble&&(this.canWrap=!1),this.createPreBeatGlyphs(),this.createBeatGlyphs(),this.createPostBeatGlyphs(),this.updateSizes();for(const e of this.helpers.beamHelpers)for(const r of e)r.finish();this.computedWidth=this.width}}hasVoiceContainer(e){return!e.isEmpty||e.index===0}updateSizes(){this.staff.registerStaffTop(this.topPadding),this.staff.registerStaffBottom(this.height-this.bottomPadding);let e=this._voiceContainers,r=this.beatGlyphsStart,n=r;for(const i of e.values()){i.x=r,i.doLayout();let s=i.x+i.width;n<s&&(n=s)}this._postBeatGlyphs.x=Math.floor(n),this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.height+=this.layoutingInfo.height*this.scale}addPreBeatGlyph(e){e.renderer=this,this._preBeatGlyphs.addGlyph(e)}addBeatGlyph(e){e.renderer=this,e.preNotes.renderer=this,e.onNotes.renderer=this,e.onNotes.beamingHelper=this.helpers.beamHelperLookup[e.beat.voice.index].get(e.beat.index),this.getVoiceContainer(e.beat.voice).addGlyph(e)}getVoiceContainer(e){return this._voiceContainers.has(e.index)?this._voiceContainers.get(e.index):void 0}getBeatContainer(e){var r,n;return(n=(r=this.getVoiceContainer(e.voice))==null?void 0:r.beatGlyphs)==null?void 0:n[e.index]}getPreNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.preNotes}getOnNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.onNotes}paint(e,r,n){this.paintBackground(e,r,n),n.color=this.resources.mainGlyphColor,this._preBeatGlyphs.paint(e+this.x,r+this.y,n);for(const i of this._voiceContainers.values())n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.paint(e+this.x,r+this.y,n);n.color=this.resources.mainGlyphColor,this._postBeatGlyphs.paint(e+this.x,r+this.y,n)}paintBackground(e,r,n){this.layoutingInfo.paint(e+this.x+this._preBeatGlyphs.x+this._preBeatGlyphs.width,r+this.y+this.height,n)}buildBoundingsLookup(e,r,n){let i=new GO;i.bar=this.bar,i.visualBounds=new Ni,i.visualBounds.x=r+this.x,i.visualBounds.y=n+this.y+this.topPadding,i.visualBounds.w=this.width,i.visualBounds.h=this.height-this.topPadding-this.bottomPadding,i.realBounds=new Ni,i.realBounds.x=r+this.x,i.realBounds.y=n+this.y,i.realBounds.w=this.width,i.realBounds.h=this.height,e.addBar(i);for(const[s,a]of this._voiceContainers){let o=this.bar.isEmpty&&s===0;if(!a.voice.isEmpty||o)for(let l=0,c=a.beatGlyphs.length;l<c;l++)a.beatGlyphs[l].buildBoundingsLookup(i,r+this.x+a.x,n+this.y+a.y,o)}}addPostBeatGlyph(e){this._postBeatGlyphs.addGlyph(e)}createPreBeatGlyphs(){this._wasFirstOfLine=this.isFirstOfLine}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(this.bar.voices[e])}}createVoiceGlyphs(e){}createPostBeatGlyphs(){}get beatGlyphsStart(){return this._preBeatGlyphs.x+this._preBeatGlyphs.width}get postBeatGlyphsStart(){return this._postBeatGlyphs.x}getBeatX(e,r=Tt.PreNotes){let n=this.getBeatContainer(e);if(n)switch(r){case Tt.PreNotes:return n.voiceContainer.x+n.x;case Tt.OnNotes:return n.voiceContainer.x+n.x+n.onNotes.x;case Tt.MiddleNotes:return n.voiceContainer.x+n.x+n.onTimeX;case Tt.Stem:const i=n.onNotes.beamingHelper?n.onNotes.beamingHelper.getBeatLineX(e):n.onNotes.x+n.onNotes.width/2;return n.voiceContainer.x+i;case Tt.PostNotes:return n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.width;case Tt.EndBeat:return n.voiceContainer.x+n.x+n.width}return 0}getNoteX(e,r){let n=this.getBeatContainer(e.beat);return n?n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.getNoteX(e,r):0}getNoteY(e,r){let n=this.getOnNotesGlyphForBeat(e.beat);return n?n.getNoteY(e,r):NaN}reLayout(){(this._wasFirstOfLine&&!this.isFirstOfLine||!this._wasFirstOfLine&&this.isFirstOfLine)&&(this._preBeatGlyphs=new jh,this._preBeatGlyphs.renderer=this,this.createPreBeatGlyphs()),this.updateSizes(),this.registerLayoutingInfo()}paintSimileMark(e,r,n){switch(this.bar.simileMark){case vs.Simple:n.fillMusicFontSymbol(e+this.x+(this.width-20*this.scale)/2,r+this.y+this.height/2,1,P.Repeat1Bar,!1);break;case vs.SecondOfDouble:n.fillMusicFontSymbol(e+this.x-28*this.scale/2,r+this.y+this.height/2,1,P.Repeat2Bars,!1);break}}completeBeamingHelper(e){}}Er.LineSpacing=8;Er.StemWidth=.12*Er.LineSpacing;Er.StaffLineThickness=.13*Er.LineSpacing;Er.BeamThickness=.5*Er.LineSpacing;Er.BeamSpacing=.25*Er.LineSpacing;var Ft;(function(t){t[t.SinglePreBeat=0]="SinglePreBeat",t[t.SingleOnBeat=1]="SingleOnBeat",t[t.SingleOnBeatToEnd=2]="SingleOnBeatToEnd",t[t.GroupedOnBeat=3]="GroupedOnBeat",t[t.GroupedOnBeatToEnd=4]="GroupedOnBeatToEnd",t[t.FullBar=5]="FullBar"})(Ft||(Ft={}));class hle extends jr{constructor(e,r){super(0,0),this._uniqueEffectGlyphs=[],this._effectGlyphs=[],this.isEmpty=!0,this.previousBand=null,this.isLinkedToPrevious=!1,this.firstBeat=null,this.lastBeat=null,this.height=0,this.slot=null,this.voice=e,this.info=r}doLayout(){super.doLayout();for(let e=0;e<this.renderer.bar.voices.length;e++)this._effectGlyphs.push(new Map),this._uniqueEffectGlyphs.push([])}createGlyph(e){if(e.voice===this.voice&&this.info.shouldCreateGlyph(this.renderer.settings,e)&&(!this.info.hideOnMultiTrack||this.renderer.staff.trackIndex===0)){if(this.isEmpty=!1,(!this.firstBeat||e.isBefore(this.firstBeat))&&(this.firstBeat=e),!this.lastBeat||e.isAfter(this.lastBeat))switch(this.lastBeat=e,this.info.sizingMode){case Ft.SingleOnBeatToEnd:case Ft.GroupedOnBeatToEnd:this.lastBeat.nextBeat&&(this.lastBeat=this.lastBeat.nextBeat);break}let r=this.createOrResizeGlyph(this.info.sizingMode,e);r.height>this.height&&(this.height=r.height)}}createOrResizeGlyph(e,r){let n;switch(e){case Ft.FullBar:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case Ft.SinglePreBeat:case Ft.SingleOnBeat:case Ft.SingleOnBeatToEnd:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case Ft.GroupedOnBeat:case Ft.GroupedOnBeatToEnd:let i=e===Ft.GroupedOnBeat?Ft.SingleOnBeat:Ft.SingleOnBeatToEnd;if(r.index>0||this.renderer.index>0){let s=r.previousBeat;if(this.info.shouldCreateGlyph(this.renderer.settings,s)){let a=null;if(r.index>0&&this._effectGlyphs[r.voice.index].has(s.index))a=this._effectGlyphs[r.voice.index].get(s.index);else if(this.renderer.index>0){let c=this.renderer.previousRenderer.getBand(s.voice,this.info.effectId);if(c){let u=c._effectGlyphs[s.voice.index];u.has(s.index)&&(a=u.get(s.index))}}let o=this.createOrResizeGlyph(i,r);return a&&this.info.canExpand(s,r)&&(a.nextGlyph=o,o.previousGlyph=a,this.isLinkedToPrevious=!0),o}return this.createOrResizeGlyph(i,r)}return this.createOrResizeGlyph(i,r);default:return this.createOrResizeGlyph(Ft.SingleOnBeat,r)}}paint(e,r,n){super.paint(e,r,n);for(let i=0,s=this._uniqueEffectGlyphs.length;i<s;i++){let a=this._uniqueEffectGlyphs[i];for(let o=0,l=a.length;o<l;o++)a[o].paint(e+this.x,r+this.y,n)}}alignGlyphs(){for(let e=0;e<this._effectGlyphs.length;e++)for(const r of this._effectGlyphs[e].keys())this.alignGlyph(this.info.sizingMode,this.renderer.bar.voices[e].beats[r])}alignGlyph(e,r){let n=this._effectGlyphs[r.voice.index].get(r.index),i,s=this.renderer.getBeatContainer(r);switch(e){case Ft.SinglePreBeat:i=s.preNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case Ft.SingleOnBeat:case Ft.GroupedOnBeat:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case Ft.SingleOnBeatToEnd:case Ft.GroupedOnBeatToEnd:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,s.beat.isLastOfVoice?n.width=this.renderer.width-n.x:n.width=s.width-s.preNotes.width-s.preNotes.x;break;case Ft.FullBar:n.width=this.renderer.width;break}}}class fle{constructor(){this.uniqueEffectId=null,this.y=0,this.height=0,this.firstBeat=null,this.lastBeat=null}}class ple{constructor(){this.bands=[],this.shared=new fle}update(e){e.info.canShareBand||(this.shared.uniqueEffectId=e.info.effectId),e.slot=this,this.bands.push(e),e.height>this.shared.height&&(this.shared.height=e.height),(!this.shared.firstBeat||e.firstBeat.isBefore(this.shared.firstBeat))&&(this.shared.firstBeat=e.firstBeat),(!this.shared.lastBeat||e.lastBeat.isAfter(this.shared.lastBeat))&&(this.shared.lastBeat=e.lastBeat)}canBeUsed(e){return(!this.shared.uniqueEffectId&&e.info.canShareBand||e.info.effectId===this.shared.uniqueEffectId)&&(!this.shared.firstBeat||this.shared.lastBeat.isBefore(e.firstBeat)||this.shared.lastBeat.isBefore(this.shared.firstBeat))}}class mle{constructor(){this.slots=[],this._effectSlot=new Map}getOrCreateSlot(e){if(this._effectSlot.has(e.info.effectId)){let n=this._effectSlot.get(e.info.effectId);if(n.canBeUsed(e))return n}for(let n of this.slots)if(n.canBeUsed(e))return n;let r=new ple;return this.slots.push(r),r}register(e){let r=this.getOrCreateSlot(e);r.update(e),this._effectSlot.set(e.info.effectId,r)}}class Cv extends Wa{constructor(){super(0,0),this.computedWidth=0}doLayout(){let e=0;if(this.glyphs)for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.x=e,i.renderer=this.renderer,i.doLayout(),e+=i.width}this.width=e,this.computedWidth=e}noteLoop(e){for(let r=this.container.beat.notes.length-1;r>=0;r--)e(this.container.beat.notes[r])}}class kT extends Cv{constructor(){super(...arguments),this.centerX=0}updateBeamingHelper(){}buildBoundingsLookup(e,r,n){}getNoteX(e,r){return 0}getNoteY(e,r){return 0}}class gle extends Er{constructor(e,r,n){super(e,r),this._bands=[],this._bandLookup=new Map,this.sizingInfo=null,this._infos=n}updateSizes(){this.topOverflow=0,this.bottomOverflow=0,this.topPadding=0,this.bottomPadding=0,this.updateHeight(),super.updateSizes()}finalizeRenderer(){let e=super.finalizeRenderer();return this.updateHeight()&&(e=!0),e}updateHeight(){if(!this.sizingInfo)return!1;let e=0;for(let r of this.sizingInfo.slots){r.shared.y=e;for(let n of r.bands)n.y=e,n.height=r.shared.height;e+=r.shared.height}return e!==this.height?(this.height=e,!0):!1}applyLayoutingInfo(){if(!super.applyLayoutingInfo())return!1;if(this.index>0){let e=this.previousRenderer;this.sizingInfo=e.sizingInfo}else this.sizingInfo=new mle;for(let e of this._bands)e.alignGlyphs(),e.isEmpty||this.sizingInfo.register(e);return this.updateHeight(),!0}scaleToWidth(e){super.scaleToWidth(e);for(let r of this._bands)r.alignGlyphs()}createBeatGlyphs(){this._bands=[],this._bandLookup=new Map;for(let e of this.bar.voices)if(this.hasVoiceContainer(e))for(let r of this._infos){let n=new hle(e,r);n.renderer=this,n.doLayout(),this._bands.push(n),this._bandLookup.set(e.index+"."+r.effectId,n)}for(let e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e);for(let e of this._bands)e.isLinkedToPrevious&&(this.isLinkedToPrevious=!0)}createVoiceGlyphs(e){for(let r of e.beats){let n=new Ea(r,this.getVoiceContainer(e));n.preNotes=new Cv,n.onNotes=new kT,this.addBeatGlyph(n);for(let i of this._bands)i.createGlyph(r)}}paint(e,r,n){this.paintBackground(e,r,n);for(let i of this._bands)n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isEmpty||i.paint(e+this.x,r+this.y,n)}getBand(e,r){let n=e.index+"."+r;return this._bandLookup.has(n)?this._bandLookup.get(n):null}}class yl extends ST{get staffId(){return this._staffId}constructor(e,r){super(),this._infos=r,this._staffId=e,this.isInAccolade=!1,this.isRelevantForBoundsLookup=!1}create(e,r){return new gle(e,r,this._infos.filter(n=>e.settings.notation.isNotationElementVisible(n.notationElement)))}}class Mp extends Ha{constructor(e,r,n){super(e,r),this._endingsString="",this._endings=[];for(let i=0;i<Qo.MaxAlternateEndings;i++)n&1<<i&&this._endings.push(i)}doLayout(){super.doLayout(),this.height=this.renderer.resources.wordsFont.size+(Mp.Padding*this.scale+2);let e="";for(let r=0,n=this._endings.length;r<n;r++)e+=this._endings[r]+1,e+=". ";this._endingsString=e}paint(e,r,n){super.paint(e,r,n);let i=n.textBaseline;if(n.textBaseline=bt.Top,this._endings.length>0){let s=this.renderer.resources;n.font=s.wordsFont,n.moveTo(e+this.x,r+this.y+this.height),n.lineTo(e+this.x,r+this.y),n.lineTo(e+this.x+this.width,r+this.y),n.stroke(),n.fillText(this._endingsString,e+this.x+Mp.Padding*this.scale,r+this.y*this.scale)}n.textBaseline=i}}Mp.Padding=3;class Rn{get effectId(){return this.notationElement.toString()}}class nx extends Rn{get notationElement(){return it.EffectAlternateEndings}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Ft.FullBar}shouldCreateGlyph(e,r){return r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.alternateEndings!==0}createNewGlyph(e,r){return new Mp(0,0,r.voice.bar.masterBar.alternateEndings)}canExpand(e,r){return!0}}class UM extends Rn{get notationElement(){return it.EffectCapo}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.index===0&&r.voice.bar.index===0&&r.voice.bar.staff.capo!==0}createNewGlyph(e,r){return new ti(0,0,"Capo. fret "+r.voice.bar.staff.capo,e.resources.effectFont,et.Left)}canExpand(e,r){return!1}}class ix extends Rn{get notationElement(){return it.EffectChordNames}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.hasChord}createNewGlyph(e,r){return new ti(0,0,r.chord.name,e.resources.effectFont,et.Center)}canExpand(e,r){return!1}}class xm extends Ha{constructor(e){super(),this.forceGroupedRendering=!1,this.endOnBarLine=!1,this.endPosition=e}get isLinkedWithPrevious(){return!!this.previousGlyph&&this.previousGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}get isLinkedWithNext(){return!!this.nextGlyph&&this.nextGlyph.renderer.isFinalized&&this.nextGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}paint(e,r,n){if(this.isLinkedWithPrevious)return;if(!this.isLinkedWithNext&&!this.forceGroupedRendering){this.paintNonGrouped(e,r,n);return}let i;if(!this.isLinkedWithNext&&this.forceGroupedRendering)i=this;else for(i=this.nextGlyph;i.isLinkedWithNext;)i=i.nextGlyph;let s=i.renderer,a=i.beat,o=this.endPosition,l=e-this.renderer.x,c=this.calculateEndX(s,a,l,o);this.paintGrouped(e,r,c,n)}calculateEndX(e,r,n,i){return r?n+e.x+e.getBeatX(r,i):n+e.x+this.x+this.width}paintNonGrouped(e,r,n){let i=e-this.renderer.x,s=this.calculateEndX(this.renderer,this.beat,i,this.endPosition);this.paintGrouped(e,r,s,n)}}class Ep extends xm{constructor(e,r,n){super(Tt.EndBeat),this._crescendo=Di.None,this._crescendo=n,this.x=e,this.y=r}doLayout(){super.doLayout(),this.height=17*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=this.height*this.scale;i.beginPath(),this._crescendo===Di.Crescendo?(n-=Ep.Padding*this.scale,i.moveTo(n,r+this.y),i.lineTo(s,r+this.y+a/2),i.lineTo(n,r+this.y+a)):(n-=Ep.Padding*this.scale,i.moveTo(s,r+this.y),i.lineTo(n,r+this.y+a/2),i.lineTo(s,r+this.y+a)),i.stroke()}}Ep.Padding=wt.QuarterNoteHeadWidth/2|0;class GM extends Rn{get notationElement(){return it.EffectCrescendo}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.crescendo!==Di.None}createNewGlyph(e,r){return new Ep(0,0,r.crescendo)}canExpand(e,r){return e.crescendo===r.crescendo}}class CT extends Hr{constructor(e,r,n){super(e,r,.6,CT.getSymbol(n))}doLayout(){super.doLayout(),this.height=17*this.scale,this.y+=this.height/2}static getSymbol(e){switch(e){case St.PPP:return P.DynamicPPP;case St.PP:return P.DynamicPP;case St.P:return P.DynamicPiano;case St.MP:return P.DynamicMP;case St.MF:return P.DynamicMF;case St.F:return P.DynamicForte;case St.FF:return P.DynamicFF;case St.FFF:return P.DynamicFFF;default:return P.None}}}class jM extends Rn{get notationElement(){return it.EffectDynamics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return this.internalShouldCreateGlyph(r)}internalShouldCreateGlyph(e){if(e.voice.bar.staff.track.score.stylesheet.hideDynamics||e.isEmpty||e.voice.isEmpty||e.isRest||e.graceType!==tt.None)return!1;let r=this.getPreviousDynamicsBeat(e),n=e.voice.index===0&&!r||e.dynamics!==(r==null?void 0:r.dynamics);if(n&&e.voice.index>0){for(let i of e.voice.bar.voices)if(i.index<e.voice.index){let s=i.getBeatAtPlaybackStart(e.playbackStart);s&&e.dynamics===s.dynamics&&this.internalShouldCreateGlyph(s)&&(n=!1)}}return n}getPreviousDynamicsBeat(e){let r=e.previousBeat;for(;r!=null;){if(!r.isRest&&r.graceType===tt.None)return r;r=r.previousBeat}return null}createNewGlyph(e,r){return new CT(0,0,r.dynamics)}canExpand(e,r){return!0}}class yle extends Ha{doLayout(){super.doLayout(),this.height=17*this.scale}paint(e,r,n){let i=6*this.scale,s=Math.max(this.width,14*this.scale),a=this.height/2;n.beginPath(),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a-i),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a+i),n.stroke()}}class sx extends Rn{get notationElement(){return it.EffectFadeIn}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.fadeIn}createNewGlyph(e,r){return new yle}canExpand(e,r){return!0}}class TT extends Hr{constructor(e,r,n){super(e,r,1,TT.getSymbol(n))}static getSymbol(e){switch(e){case Fa.Short:return P.FermataShortAbove;case Fa.Medium:return P.FermataAbove;case Fa.Long:return P.FermataLongAbove;default:return P.None}}doLayout(){this.width=23*this.scale,this.height=12*this.scale}paint(e,r,n){super.paint(e-this.width/2,r+this.height,n)}}class ax extends Rn{get notationElement(){return it.EffectFermata}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index===0&&!!r.fermata}createNewGlyph(e,r){return new TT(0,0,r.fermata.type)}canExpand(e,r){return!0}}class YM extends Rn{get notationElement(){return it.EffectFingering}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index!==0||r.isRest||e.notation.fingeringMode!==za.SingleNoteEffectBand&&e.notation.fingeringMode!==za.SingleNoteEffectBandForcePiano||r.notes.length!==1?!1:r.notes[0].isFingering}createNewGlyph(e,r){let n=ct.Unknown,i=!1,s=r.notes[0];s.leftHandFinger!==ct.Unknown?(n=s.leftHandFinger,i=!0):s.rightHandFinger!==ct.Unknown&&(n=s.rightHandFinger);let a=or.fingerToString(e.settings,r,n,i)??"";return new ti(0,0,a,e.resources.fingeringFont,et.Left)}canExpand(e,r){return!0}}class vu extends Rn{constructor(){super(...arguments),this.lastCreateInfo=null}shouldCreateGlyph(e,r){this.lastCreateInfo=[];for(let n=0,i=r.notes.length;n<i;n++){let s=r.notes[n];this.shouldCreateGlyphForNote(s)&&this.lastCreateInfo.push(s)}return this.lastCreateInfo.length>0}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}canExpand(e,r){return!0}}class ol extends xm{constructor(e){super(Tt.OnNotes),this._label=e}doLayout(){this.renderer.settings.notation.extendLineEffectsToBeatEnd&&(this.endPosition=Tt.EndBeat,this.forceGroupedRendering=!0),super.doLayout(),this.height=this.renderer.resources.effectFont.size}paintNonGrouped(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=et.Center,n.fillText(this._label,e+this.x,r+this.y),n.textAlign=s}paintGrouped(e,r,n,i){this.paintNonGrouped(e,r,i);let s=3*this.scale,a=i.measureText(this._label),o=e+this.x+a/2+s,l=r+this.y+4*this.scale,c=8*this.scale;if(n>o){let u=o;for(;u<n;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,n),l|0),u+=c+s,i.stroke();i.beginPath(),i.moveTo(n,l-5*this.scale|0),i.lineTo(n,l+5*this.scale|0),i.stroke()}}}ol.LineSpacing=3;ol.LineTopPadding=4;ol.LineTopOffset=5;ol.LineSize=8;class os extends vu{get effectId(){return this._effectId}get notationElement(){return it.EffectHarmonics}constructor(e){switch(super(),this._beat=null,this._harmonicType=e,e){case Qe.None:this._effectId="harmonics-none";break;case Qe.Natural:this._effectId="harmonics-natural";break;case Qe.Artificial:this._effectId="harmonics-artificial";break;case Qe.Pinch:this._effectId="harmonics-pinch";break;case Qe.Tap:this._effectId="harmonics-tap";break;case Qe.Semi:this._effectId="harmonics-semi";break;case Qe.Feedback:this._effectId="harmonics-feedback";break;default:this._effectId="";break}}shouldCreateGlyphForNote(e){return!e.isHarmonic||e.harmonicType!==this._harmonicType?!1:(e.beat!==this._beat&&(this._beat=e.beat),!0)}get sizingMode(){return Ft.GroupedOnBeat}createNewGlyph(e,r){return new ol(os.harmonicToString(this._harmonicType))}static harmonicToString(e){switch(e){case Qe.Natural:return"N.H.";case Qe.Artificial:return"A.H.";case Qe.Pinch:return"P.H.";case Qe.Tap:return"T.H.";case Qe.Semi:return"S.H.";case Qe.Feedback:return"Fdbk."}return""}}class ox extends Rn{get notationElement(){return it.EffectLetRing}get canShareBand(){return!1}get hideOnMultiTrack(){return!1}shouldCreateGlyph(e,r){return r.isLetRing}get sizingMode(){return Ft.GroupedOnBeat}createNewGlyph(e,r){return new ol("LetRing")}canExpand(e,r){return!0}}class ble extends Ha{constructor(e,r,n,i,s=et.Center){super(e,r),this._lines=n,this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){n.font=this.font;let i=n.textAlign;n.textAlign=this.textAlign;for(let s=0;s<this._lines.length;s++)this._lines[s]&&n.fillText(this._lines[s],e+this.x,r+this.y+s*this.font.size);n.textAlign=i}}class mg extends Rn{get notationElement(){return it.EffectLyrics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.lyrics}createNewGlyph(e,r){return new ble(0,0,r.lyrics,e.resources.effectFont,et.Center)}canExpand(e,r){return!0}}class lx extends Rn{get notationElement(){return it.EffectMarker}get hideOnMultiTrack(){return!0}get canShareBand(){return!0}get sizingMode(){return Ft.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.isSectionStart}createNewGlyph(e,r){return new ti(0,0,r.voice.bar.masterBar.section.marker?"["+r.voice.bar.masterBar.section.marker+"] "+r.voice.bar.masterBar.section.text:r.voice.bar.masterBar.section.text,e.resources.markerFont,et.Left)}canExpand(e,r){return!0}}class vle extends xm{constructor(e,r){super(Tt.PostNotes),this._ottava=e,this._aboveStaff=r}doLayout(){super.doLayout(),this.height=13*this.scale}paintNonGrouped(e,r,n){this.paintOttava(e,r,n)}paintOttava(e,r,n){let i=0;switch(this._ottava){case zt._15ma:i=37*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.QuindicesimaAlta,!1);break;case zt._8va:i=26*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.OttavaAlta,!1);break;case zt._8vb:i=23*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.OttavaBassaVb,!1);break;case zt._15mb:i=36*this.scale,n.fillMusicFontSymbols(e+this.x-i/2,r+this.y+this.height,.8,[P.Quindicesima,P.OctaveBaselineM,P.OctaveBaselineB],!1);break}return i/2}paintGrouped(e,r,n,i){let s=this.paintOttava(e,r,i),a=3*this.scale,o=e+this.x+s+a,l=r+this.y;l+=this._aboveStaff?2*this.scale:this.height-2*this.scale;let c=8*this.scale;if(n>o){let u=o;for(;u<n;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,n),l|0),u+=c+a,i.stroke();i.beginPath(),this._aboveStaff?(i.moveTo(n,l),i.lineTo(n,r+this.y+this.height)):(i.moveTo(n,l),i.lineTo(n,r+this.y)),i.stroke()}}}class gg extends Rn{get effectId(){return"ottavia-"+(this._aboveStaff?"above":"below")}get notationElement(){return it.EffectOttavia}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.GroupedOnBeat}constructor(e){super(),this._aboveStaff=e}shouldCreateGlyph(e,r){switch(r.ottava){case zt._15ma:return this._aboveStaff;case zt._8va:return this._aboveStaff;case zt._8vb:return!this._aboveStaff;case zt._15mb:return!this._aboveStaff}return!1}createNewGlyph(e,r){return new vle(r.ottava,this._aboveStaff)}canExpand(e,r){return e.ottava===r.ottava}}class cx extends vu{get notationElement(){return it.EffectPalmMute}shouldCreateGlyphForNote(e){return e.isPalmMute}get sizingMode(){return Ft.GroupedOnBeat}createNewGlyph(e,r){return new ol("P.M.")}constructor(){super()}}class ux extends vu{get notationElement(){return it.EffectPickSlide}shouldCreateGlyphForNote(e){return e.slideOutType===pt.PickSlideDown||e.slideOutType===pt.PickSlideUp}get sizingMode(){return Ft.GroupedOnBeat}createNewGlyph(e,r){return new ol("P.S.")}constructor(){super()}}class Rp extends Hr{constructor(e,r,n){super(e,r,wt.GraceScale,Rp.getSymbol(n))}doLayout(){this.width=9*this.scale,this.height=13*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}static getSymbol(e){switch(e){case Vn.Up:return P.StringsUpBow;case Vn.Down:return P.StringsDownBow;default:return P.None}}}class dx extends Rn{get notationElement(){return it.EffectPickStroke}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.pickStroke!==Vn.None}createNewGlyph(e,r){return new Rp(0,0,r.pickStroke)}canExpand(e,r){return!0}}class t5 extends xm{constructor(e){super(Tt.EndBeat),this._stepSize=0,this._type=e}doLayout(){switch(super.doLayout(),this._type){case $t.Slight:this._stepSize=12*this.scale;break;case $t.Wide:this._stepSize=23*this.scale;break}this.height=18*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=Math.max(1,a/this._stepSize);i.beginPath(),i.moveTo(s,r+this.y);for(let l=0;l<o;l++)i.lineTo(s+this._stepSize/2,r+this.y+this.height),i.lineTo(s+this._stepSize,r+this.y),s+=this._stepSize;i.stroke()}}class yg extends Rn{get notationElement(){return it.EffectSlightBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===$t.Slight}createNewGlyph(e,r){return new t5($t.Slight)}canExpand(e,r){return!0}}class ou extends xm{constructor(e,r,n,i=1.2,s=!1){super(Tt.EndBeat),this._scale=0,this._symbol=P.None,this._symbolSize=0,this._type=n,this._scale=i,this.x=e,this.y=r,this._partialWaves=s}doLayout(){super.doLayout();let e=0;switch(this._type){case $t.Slight:this._symbol=P.WiggleTrill,this._symbolSize=9*this._scale,e=6*this._scale;break;case $t.Wide:this._symbol=P.WiggleVibratoMediumFast,this._symbolSize=10*this._scale,e=10*this._scale;break}this.height=e*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=this._symbolSize*this.scale,l=a/o;this._partialWaves||(l=Math.floor(l)),l<1&&(l=1);let c=0;for(let u=0;u<l;u++)i.fillMusicFontSymbol(e+this.x+c,r+this.y+this.height*2,this._scale*this.scale,this._symbol,!1),c+=o}}class bg extends vu{get notationElement(){return it.EffectSlightNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===$t.Slight||e.isTieDestination&&e.tieOrigin.vibrato===$t.Slight}get sizingMode(){return Ft.GroupedOnBeatToEnd}createNewGlyph(e,r){return new ou(0,0,$t.Slight,1.2)}constructor(){super()}}class XM extends Rn{get notationElement(){return it.EffectTap}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return r.slap||r.pop||r.tap}createNewGlyph(e,r){let n=e.resources;return r.slap?new ti(0,0,"S",n.effectFont,et.Left):r.pop?new ti(0,0,"P",n.effectFont,et.Left):new ti(0,0,"T",n.effectFont,et.Left)}canExpand(e,r){return!0}}class wle extends Ha{constructor(e,r,n){super(e,r),this._tempo=0,this._tempo=n}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont,n.fillMusicFontSymbol(e+this.x,r+this.y+this.height*.8,this.scale*wt.GraceScale,P.NoteQuarterUp,!1),n.fillText("= "+this._tempo.toString(),e+this.x+this.height/2,r+this.y+n.font.size/2)}}class hx extends Rn{get notationElement(){return it.EffectTempo}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Ft.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&(!!r.voice.bar.masterBar.tempoAutomation||r.voice.bar.index===0)}createNewGlyph(e,r){let n=0;return r.voice.bar.masterBar.tempoAutomation?n=r.voice.bar.masterBar.tempoAutomation.value:n=r.voice.bar.staff.track.score.tempo,new wle(0,0,n)}canExpand(e,r){return!0}}class fx extends Rn{get notationElement(){return it.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.text}createNewGlyph(e,r){return new ti(0,0,r.text,e.resources.effectFont,et.Left)}canExpand(e,r){return!0}}class xle extends Ha{constructor(e,r){super(e,r)}doLayout(){super.doLayout(),this.height=this.renderer.resources.markerFont.size*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont;let s=n.measureText("tr");n.fillText("tr",e+this.x,r+this.y);let a=s+3*this.scale,o=this.width-a,l=1.2,c=11*this.scale*l,u=Math.max(1,(o-a)/c),d=a,h=r+this.y+this.height*1.2;for(let p=0;p<u;p++)n.fillMusicFontSymbol(e+this.x+d,h,l,P.WiggleTrill,!1),d+=c}}class vg extends vu{get notationElement(){return it.EffectTrill}shouldCreateGlyphForNote(e){return e.isTrill}get sizingMode(){return Ft.SingleOnBeat}createNewGlyph(e,r){return new xle(0,0)}}var Tr;(function(t){t[t.Full=0]="Full",t[t.PartialLeft=1]="PartialLeft",t[t.PartialRight=2]="PartialRight"})(Tr||(Tr={}));class Kt extends Ha{constructor(e){super(0,0),this._tripletFeel=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){e+=this.x,r+=this.y;let i=r+this.height*wt.GraceScale;n.font=this.renderer.resources.effectFont,n.fillText("(",e,r+this.height*.3);let s=e+10*this.scale,a=e+40*this.scale;switch(this._tripletFeel){case xt.NoTripletFeel:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full]);break;case xt.Triplet8th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full]),n.fillMusicFontSymbol(a,i,Kt.NoteScale,P.NoteQuarterUp,!1),n.fillMusicFontSymbol(a+Kt.NoteSeparation*this.scale,i,Kt.NoteScale,P.NoteEighthUp,!1),this.renderTriplet(a,r,n);break;case xt.Triplet16th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full,Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full,Tr.PartialRight]),this.renderTriplet(a,r,n);break;case xt.Dotted8th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full,Tr.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case xt.Dotted16th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full,Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full,Tr.Full,Tr.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case xt.Scottish8th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full,Tr.PartialLeft]),n.fillCircle(a+Kt.NoteSeparation*this.scale+8*this.scale,i,this.scale);break;case xt.Scottish16th:this.renderBarNote(s,i,Kt.NoteScale,n,[Tr.Full,Tr.Full]),this.renderBarNote(a,i,Kt.NoteScale,n,[Tr.Full,Tr.Full,Tr.PartialLeft]),n.fillCircle(a+Kt.NoteSeparation*this.scale+8*this.scale,i,this.scale);break}n.fillText("=",e+30*this.scale,r+5*this.scale),n.fillText(")",e+65*this.scale,r+this.height*.3)}renderBarNote(e,r,n,i,s){i.fillMusicFontSymbol(e,r,n,P.NoteQuarterUp,!1);let a=Kt.NoteSeparation/2*this.scale;for(let o=0;o<s.length;o++)switch(s[o]){case Tr.Full:i.fillRect(e+4*this.scale,r-Kt.NoteHeight*this.scale+Kt.BarSeparation*this.scale*o,Kt.NoteSeparation*this.scale,Kt.BarHeight*this.scale);break;case Tr.PartialLeft:i.fillRect(e+4*this.scale,r-Kt.NoteHeight*this.scale+Kt.BarSeparation*this.scale*o,a,Kt.BarHeight*this.scale);break;case Tr.PartialRight:i.fillRect(e+4*this.scale+a,r-Kt.NoteHeight*this.scale+Kt.BarSeparation*this.scale*o,a,Kt.BarHeight*this.scale);break}i.fillMusicFontSymbol(e+Kt.NoteSeparation*this.scale,r,n,P.NoteQuarterUp,!1)}renderTriplet(e,r,n){r+=2*this.scale;let i=this.renderer.resources.effectFont;n.font=Ot.withFamilyList(i.families,i.size*.8,i.style);let s=e+Kt.NoteSeparation*this.scale+3*this.scale;n.beginPath(),n.moveTo(e,r+3*this.scale),n.lineTo(e,r),n.lineTo(e+5*this.scale,r),n.moveTo(s+5*this.scale,r+3*this.scale),n.lineTo(s+5*this.scale,r),n.lineTo(s,r),n.stroke(),n.fillText("3",e+7*this.scale,r-10*this.scale),n.font=i}}Kt.NoteScale=.4;Kt.NoteHeight=12;Kt.NoteSeparation=12;Kt.BarHeight=2;Kt.BarSeparation=3;class px extends Rn{get notationElement(){return it.EffectTripletFeel}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Ft.SinglePreBeat}shouldCreateGlyph(e,r){return r.index===0&&(r.voice.bar.masterBar.index===0&&r.voice.bar.masterBar.tripletFeel!==xt.NoTripletFeel||r.voice.bar.masterBar.index>0&&r.voice.bar.masterBar.tripletFeel!==r.voice.bar.masterBar.previousMasterBar.tripletFeel)}createNewGlyph(e,r){return new Kt(r.voice.bar.masterBar.tripletFeel)}canExpand(e,r){return!0}}class qM extends Rn{get notationElement(){return it.EffectWhammyBar}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Ft.GroupedOnBeat}shouldCreateGlyph(e,r){return r.hasWhammyBar}createNewGlyph(e,r){return new ol("w/bar")}canExpand(e,r){return!0}}class wg extends Rn{get notationElement(){return it.EffectWideBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Ft.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===$t.Wide}createNewGlyph(e,r){return new t5($t.Wide)}canExpand(e,r){return!0}}class xg extends vu{get notationElement(){return it.EffectWideNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===$t.Wide||e.isTieDestination&&e.tieOrigin.vibrato===$t.Wide}get sizingMode(){return Ft.GroupedOnBeatToEnd}createNewGlyph(e,r){return new ou(0,0,$t.Wide,1.2)}}class KM{constructor(){this.x=0,this.width=0,this.masterBars=[]}}class Sm extends e5{get name(){return"HorizontalScreen"}constructor(e){super(e),this._group=null,this._pagePadding=null}get supportsResize(){return!1}get firstBarX(){let e=this._pagePadding[0];return this._group&&(e+=this._group.accoladeSpacing),e}doResize(){}doLayoutAndRender(){switch(this._pagePadding=this.renderer.settings.display.padding,this.renderer.settings.display.systemsLayoutMode){case Jl.Automatic:this.systemsLayoutMode=Ki.Automatic;break;case Jl.UseModelLayout:this.systemsLayoutMode=Ki.FromModelWithWidths;break}this._pagePadding||(this._pagePadding=Sm.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r));let n=r,i=this.renderer.settings.display.barCount;i<=0&&(i=e.masterBars.length),i=r+i-1,i=Math.min(e.masterBars.length-1,Math.max(0,i)),this._group=this.createEmptyStaveGroup(),this._group.isLast=!0,this._group.x=this._pagePadding[0],this._group.y=this._pagePadding[1];let s=this.renderer.settings.display.barCountPerPartial,a=[],o=new KM,l=0;for(;n<=i;){let u=this._group.addBars(this.renderer.tracks,n);if(u)if(o.masterBars.length===0&&u.isLinkedToPrevious&&a.length>0){let d=a[a.length-1];d.masterBars.push(e.masterBars[n]),d.width+=u.width,l+=u.width,o.x+=l}else o.masterBars.push(e.masterBars[n]),o.width+=u.width,o.masterBars.length>=s&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),l+=o.width,a.push(o),ve.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null),o=new KM,o.x=l);n++}o.masterBars.length>0&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),a.push(o),ve.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null)),this.finalizeGroup(),this.height=Math.floor(this._group.y+this._group.height),this.width=this._group.x+this._group.width+this._pagePadding[2],n=0;let c=0;for(let u=0;u<a.length;u++){const d=a[u],h=new Ic;h.x=c,h.y=0,h.totalWidth=this.width,h.totalHeight=this.height,h.width=d.width,h.height=this.height,h.firstMasterBarIndex=d.masterBars[0].index,h.lastMasterBarIndex=d.masterBars[d.masterBars.length-1].index,c+=d.width;const p=n,f=u;this._group.buildBoundingsLookup(this._group.x,this._group.y),this.registerPartial(h,m=>{let g=this._group.getBarX(d.masterBars[0].index)+this._group.accoladeSpacing;f===0&&(g-=this._group.x+this._group.accoladeSpacing),m.color=this.renderer.settings.display.resources.mainGlyphColor,m.textAlign=et.Left,ve.debug(this.name,"Rendering partial from bar "+d.masterBars[0].index+" to "+d.masterBars[d.masterBars.length-1].index,null),this._group.paintPartial(-g,this._group.y,m,p,d.masterBars.length)}),n+=d.masterBars.length}this.height=this.layoutAndRenderAnnotation(this.height)+this._pagePadding[3]}finalizeGroup(){this._group.scaleToWidth(this._group.width),this._group.finalizeGroup()}}Sm.PagePadding=[20,20,20,20];Sm.GroupSpacing=20;class km extends e5{get name(){return"PageView"}constructor(e){super(e),this._groups=[],this._allMasterBarRenderers=[],this._barsFromPreviousGroup=[],this._pagePadding=null}doLayoutAndRender(){switch(this.renderer.settings.display.systemsLayoutMode){case Jl.Automatic:this.systemsLayoutMode=Ki.Automatic;break;case Jl.UseModelLayout:this.systemsLayoutMode=Ki.FromModelWithScale;break}this._pagePadding=this.renderer.settings.display.padding,this._pagePadding||(this._pagePadding=km.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=0;this.width=this.renderer.width,this._allMasterBarRenderers=[],e=this.layoutAndRenderScoreInfo(e,-1),e=this.layoutAndRenderTunings(e,-1),e=this.layoutAndRenderChordDiagrams(e,-1),e=this.layoutAndRenderScore(e),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}get supportsResize(){return!0}get firstBarX(){let e=this._pagePadding[0];return this._groups.length>0&&(e+=this._groups[0].accoladeSpacing),e}doResize(){let e=0;this.width=this.renderer.width;let r=this.height;e=this.layoutAndRenderScoreInfo(e,r),e=this.layoutAndRenderTunings(e,r),e=this.layoutAndRenderChordDiagrams(e,r),e=this.resizeAndRenderScore(e,r),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}layoutAndRenderTunings(e,r=-1){if(!this.tuningGlyph)return e;let n=this.renderer.settings.display.resources;this.tuningGlyph.x=this._pagePadding[0],this.tuningGlyph.width=this.width,this.tuningGlyph.doLayout();let i=this.tuningGlyph.height+11*this.scale;const s=new Ic;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+s.height:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=et.Center,this.tuningGlyph.paint(0,0,a)}),e+i}layoutAndRenderChordDiagrams(e,r=-1){if(!this.chordDiagrams)return e;const n=this.renderer.settings.display.resources;this.chordDiagrams.width=this.width,this.chordDiagrams.doLayout();const i=Math.floor(this.chordDiagrams.height),s=new Ic;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+i:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=et.Center,this.chordDiagrams.paint(0,0,a)}),e+i}layoutAndRenderScoreInfo(e,r=-1){ve.debug(this.name,"Layouting score info");const n=new Ic;n.x=0,n.y=e;let i=this._pagePadding[1],s=this.scale,a=this.renderer.settings.display.resources,o=[it.ScoreTitle,it.ScoreSubTitle,it.ScoreArtist,it.ScoreAlbum,it.ScoreWordsAndMusic];for(let u=0;u<o.length;u++)if(this.scoreInfoGlyphs.has(o[u])){let d=this.scoreInfoGlyphs.get(o[u]);d.x=this.width/2,d.y=i,d.textAlign=et.Center,i+=d.font.size*s}let l=!1,c=0;if(this.scoreInfoGlyphs.has(it.ScoreMusic)){let u=this.scoreInfoGlyphs.get(it.ScoreMusic);u.x=this.width-this._pagePadding[2],u.y=i,u.textAlign=et.Right,l=!0,c=u.font.size*s}if(this.scoreInfoGlyphs.has(it.ScoreWords)){let u=this.scoreInfoGlyphs.get(it.ScoreWords);u.x=this._pagePadding[0],u.y=i,u.textAlign=et.Left,l=!0,c=u.font.size*s}return l&&(i+=c),i=Math.floor(i+17*this.scale),n.width=this.width,n.height=i,n.totalWidth=this.width,n.totalHeight=r<0?e+n.height:r,this.registerPartial(n,u=>{u.color=a.scoreInfoColor,u.textAlign=et.Center;for(const d of this.scoreInfoGlyphs.values())d.paint(0,0,u)}),e+i}resizeAndRenderScore(e,r){if(this.renderer.settings.display.barsPerRow>0||this.systemsLayoutMode==Ki.FromModelWithScale)for(let i=0;i<this._groups.length;i++){let s=this._groups[i];this.fitGroup(s),e+=this.paintGroup(s,r)}else{this._groups=[];let i=0,s=this.maxWidth,a=this.createEmptyStaveGroup();for(a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e;i<this._allMasterBarRenderers.length;){let o=this._allMasterBarRenderers[i];if(a.width+o.width<=s||a.masterBarsRenderers.length===0)a.addMasterBarRenderers(this.renderer.tracks,o),i++;else{for(;o&&!o.canWrap&&a.masterBarsRenderers.length>1;)o=a.revertLastBar(),i--;a.isFull=!0,a.isLast=this.lastBarIndex===a.lastBarIndex,this._groups.push(a),this.fitGroup(a),e+=this.paintGroup(a,r),a=this.createEmptyStaveGroup(),a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e}}a.isLast=this.lastBarIndex===a.lastBarIndex,this.fitGroup(a),e+=this.paintGroup(a,r)}return e}layoutAndRenderScore(e){let n=this.firstBarIndex,i=this.lastBarIndex;for(this._groups=[];n<=i;){let s=this.createStaveGroup(n,i);this._groups.push(s),s.x=this._pagePadding[0],s.y=e,n=s.lastBarIndex+1,this.fitGroup(s),ve.debug(this.name,"Rendering partial from bar "+s.firstBarIndex+" to "+s.lastBarIndex,null),e+=this.paintGroup(s,e)}return e}paintGroup(e,r){let n=Math.floor(e.height+20*this.scale);const i=new Ic;return i.x=0,i.y=e.y,i.totalWidth=this.width,i.totalHeight=r,i.width=this.width,i.height=n,i.firstMasterBarIndex=e.firstBarIndex,i.lastMasterBarIndex=e.lastBarIndex,e.buildBoundingsLookup(0,0),this.registerPartial(i,s=>{this.renderer.canvas.color=this.renderer.settings.display.resources.mainGlyphColor,this.renderer.canvas.textAlign=et.Left,e.paint(0,-i.y,s)}),r+=n,n}fitGroup(e){e.isFull||e.width>this.maxWidth||this.renderer.settings.display.justifyLastSystem?e.scaleToWidth(this.maxWidth):e.scaleToWidth(e.width),e.finalizeGroup()}getBarsPerRow(e){let r=this.renderer.settings.display.barsPerRow;if(this.systemsLayoutMode==Ki.FromModelWithScale){let n,i;this.renderer.tracks.length>1?(n=this.renderer.score.defaultSystemsLayout,i=this.renderer.score.systemsLayout):(n=this.renderer.tracks[0].defaultSystemsLayout,i=this.renderer.tracks[0].systemsLayout),r=e<i.length?i[e]:n}return r}createStaveGroup(e,r){let n=this.createEmptyStaveGroup();n.index=this._groups.length;let i=this.getBarsPerRow(n.index),s=this.maxWidth,a=r+1,o=e;for(;o<a;){if(this._barsFromPreviousGroup.length>0)for(let c of this._barsFromPreviousGroup)n.addMasterBarRenderers(this.renderer.tracks,c),o=c.masterBar.index;else{let c=n.addBars(this.renderer.tracks,o);c&&this._allMasterBarRenderers.push(c)}this._barsFromPreviousGroup=[];let l=!1;if((i===-1&&n.width>=s&&n.masterBarsRenderers.length!==0||n.masterBarsRenderers.length===i+1)&&(l=!0),l){let c=n.revertLastBar();if(c)for(this._barsFromPreviousGroup.push(c);c&&!c.canWrap&&n.masterBarsRenderers.length>1;)c=n.revertLastBar(),c&&this._barsFromPreviousGroup.push(c);return n.isFull=!0,n.isLast=!1,this._barsFromPreviousGroup.reverse(),n}n.x=0,o++}return n.isLast=r===n.lastBarIndex,n}get maxWidth(){return this.renderer.width-this._pagePadding[0]-this._pagePadding[2]}}km.PagePadding=[40,40,40,40];km.GroupSpacing=20;class Hl extends Hr{constructor(e,r,n,i=!1){super(e,r,i?wt.GraceScale:1,Hl.getMusicSymbol(n)),this._isGrace=i,this._accidentalType=n}static getMusicSymbol(e){switch(e){case Xt.Natural:return P.AccidentalNatural;case Xt.Sharp:return P.AccidentalSharp;case Xt.Flat:return P.AccidentalFlat;case Xt.NaturalQuarterNoteUp:return P.AccidentalQuarterToneNaturalArrowUp;case Xt.SharpQuarterNoteUp:return P.AccidentalQuarterToneSharpArrowUp;case Xt.FlatQuarterNoteUp:return P.AccidentalQuarterToneFlatArrowUp;case Xt.DoubleSharp:return P.AccidentalDoubleSharp;case Xt.DoubleFlat:return P.AccidentalDoubleFlat}return P.None}doLayout(){switch(this._accidentalType){case Xt.DoubleFlat:this.width=18;break;default:this.width=8;break}this.width=this.width*(this._isGrace?wt.GraceScale:1)*this.scale}}class r5 extends jr{constructor(e,r,n){super(e,r),this._number=0,this._number=n}doLayout(){this.renderer.scoreRenderer.canvas.font=this.renderer.resources.barNumberFont,this.width=this.renderer.scoreRenderer.canvas.measureText(this._number.toString())+5*this.scale}paint(e,r,n){if(!this.renderer.staff.isFirstInAccolade)return;let i=this.renderer.resources,s=n.color;n.color=i.barNumberColor,n.font=i.barNumberFont,n.fillText(this._number.toString(),e+this.x,r+this.y),n.color=s}}class n5 extends jr{constructor(e,r){super(e,r)}doLayout(){this.renderer.isLast?this.width=15*this.scale:!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart?(this.width=2*this.scale,this.renderer.bar.masterBar.isDoubleBar&&(this.width+=2*this.scale)):this.width=2*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s;this.renderer.isLast?(n.fillRect(o+this.width-i-i,s,this.scale,l),n.fillRect(o+this.width-i,s,i,l)):(!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart)&&(n.fillRect(o+this.width-this.scale,s,this.scale,l),this.renderer.bar.masterBar.isDoubleBar&&n.fillRect(o+this.width-5*this.scale,s,this.scale,l))}}class _T extends Hr{constructor(e,r,n,i){super(e,r,1,_T.getSymbol(n)),this._clef=n,this._clefOttava=i}doLayout(){switch(this._clef){case ut.Neutral:this.width=15*this.scale;break;case ut.C3:case ut.C4:case ut.F4:case ut.G2:this.width=28*this.scale;break}}static getSymbol(e){switch(e){case ut.Neutral:return P.UnpitchedPercussionClef1;case ut.C3:return P.CClef;case ut.C4:return P.CClef;case ut.F4:return P.FClef;case ut.G2:return P.GClef;default:return P.None}}paint(e,r,n){super.paint(e,r,n);let i,s=!1;switch(this._clefOttava){case zt._15ma:i=new Hr(-4*this.scale,0,.5,P.Quindicesima),s=!0;break;case zt._8va:i=new Hr(-2*this.scale,0,.5,P.Ottava),s=!0;break;case zt._8vb:i=new Hr(-6*this.scale,0,.5,P.Ottava);break;case zt._15mb:i=new Hr(-8*this.scale,0,.5,P.Quindicesima);break;default:return}let a=0,o=0;switch(this._clef){case ut.Neutral:a=s?-12:15,o=0;break;case ut.C3:a=s?-19:27,o=0;break;case ut.C4:a=s?-19:27,o=0;break;case ut.F4:a=s?-9:27,o=-4;break;case ut.G2:a=s?-37:30,o=0;break;default:return}i.renderer=this.renderer,i.doLayout();let l=this.width/2;i.paint(e+this.x+l+o*this.scale,r+this.y+a*this.scale,n)}}class i5 extends jr{constructor(e,r){super(e,r)}doLayout(){this.width=11*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s,c=1.5*this.scale,u=(s+a)/2,d=3;n.fillCircle(o,u-c*d,c),n.fillCircle(o,u+c*d,c),o+=4*this.scale,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale+.5,n.fillRect(o,s,i,l)}}class s5 extends jr{constructor(e,r,n){super(e,r),this._count=0,this._count=0,this._count=n}doLayout(){this.width=0}paint(e,r,n){let i=this.renderer.resources,s=n.textAlign;n.font=i.barNumberFont,n.textAlign=et.Right;let a="x"+this._count,o=n.measureText(a)/1.5;n.fillText(a,e+this.x-o,r+this.y),n.textAlign=s}}class a5 extends jr{constructor(e,r,n,i){super(e,r),this._dotOffset=0,this._circleSize=0,this._dotOffset=0,this._circleSize=0,this._dotOffset=i,this._circleSize=n}doLayout(){this.width=13*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x+.5,l=a-s;n.fillRect(o,s,i,l),o+=i*2-.5,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale;let c=this._circleSize*this.scale,u=(s+a)/2;n.fillCircle(o,u-c*this._dotOffset,c),n.fillCircle(o,u+c*this._dotOffset,c)}}class p0 extends Hr{constructor(e,r,n){super(e,r,1,p0.getSymbol(n))}static getSymbol(e){switch(e){case sn.None:return P.None;case sn.Normal:return P.ArticAccentAbove;case sn.Heavy:return P.ArticMarcatoAbove;default:return P.None}}doLayout(){this.width=9*this.scale,this.height=9*this.scale}paint(e,r,n){super.paint(e-2*this.scale,r+this.height,n)}}class _1 extends jr{constructor(e,r,n){super(e,r),this._size=0,this._size=n}doLayout(){this.width=this._size+3*this.scale}paint(e,r,n){n.fillCircle(e+this.x,r+this.y,this._size)}}class Sle extends Hr{constructor(e,r,n){super(e,r,n?wt.GraceScale:1,P.NoteheadXOrnate),this._isGrace=n}doLayout(){this.width=9*(this._isGrace?wt.GraceScale:1)*this.scale,this.height=wt.NoteHeadHeight*this.scale}}class m0 extends Hr{constructor(e,r,n,i){super(e,r,i?wt.GraceScale:1,m0.getSymbol(n)),this._isGrace=i}static getSymbol(e){switch(e){case H.QuadrupleWhole:case H.DoubleWhole:case H.Whole:case H.Half:return P.NoteheadDiamondWhiteWide;default:return P.NoteheadDiamondBlackWide}}doLayout(){this.width=9*(this._isGrace?wt.GraceScale:1)*this.scale,this.height=wt.NoteHeadHeight*this.scale}}class Tn extends jr{constructor(e,r,n){super(0,0),this.yOffset=0,this.startNoteRenderer=null,this.endNoteRenderer=null,this.tieDirection=Pe.Up,this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._tieHeight=0,this._shouldDraw=!1,this.startBeat=e,this.endBeat=r,this.forEnd=n}doLayout(){if(this.width=0,!this.endBeat){this._shouldDraw=!1;return}let e=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar);this.startNoteRenderer=e;let r=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.endBeat.voice.bar);this.endNoteRenderer=r,this._startX=0,this._endX=0,this._startY=0,this._endY=0,this.height=0,this._shouldDraw=!1,this.tieDirection=e?this.getBeamDirection(this.startBeat,e):this.getBeamDirection(this.endBeat,r),!this.forEnd&&e?(e!==r?(this._startX=e.x+this.getStartX(),this._startY=e.y+this.getStartY()+this.yOffset,!r||e.staff!==r.staff?(this._endX=e.x+e.width,this._endY=this._startY):(this._endX=r.x+this.getEndX(),this._endY=r.y+this.getEndY()+this.yOffset)):(this._startX=e.x+this.getStartX(),this._endX=r.x+this.getEndX(),this._startY=e.y+this.getStartY()+this.yOffset,this._endY=r.y+this.getEndY()+this.yOffset),this._shouldDraw=!0):(!e||e.staff!==r.staff)&&(this._startX=r.x,this._endX=r.x+this.getEndX(),this._startY=r.y+this.getEndY()+this.yOffset,this._endY=this._startY,this._shouldDraw=!0),this._shouldDraw&&(this.y=Math.min(this._startY,this._endY),this.shouldDrawBendSlur()?this._tieHeight=0:(this._tieHeight=this.getTieHeight(this._startX,this._startY,this._endX,this._endY),this.height=Tn.calculateActualTieHeight(this.renderer.scale,this._startX,this._startY,this._endX,this._endY,this.tieDirection===Pe.Down,this._tieHeight,4).h),this.tieDirection===Pe.Up&&(this.y-=this.height))}paint(e,r,n){this._shouldDraw&&(this.shouldDrawBendSlur()?Tn.drawBendSlur(n,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===Pe.Down,this.scale):Tn.paintTie(n,this.scale,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===Pe.Down,this._tieHeight,4))}shouldDrawBendSlur(){return!1}getTieHeight(e,r,n,i){return 22}getBeamDirection(e,r){return Pe.Down}getStartY(){return 0}getEndY(){return 0}getStartX(){return 0}getEndX(){return 0}static calculateActualTieHeight(e,r,n,i,s,a,o,l){const c=Tn.computeBezierControlPoints(e,r,n,i,s,a,o,l);r=c[0],n=c[1];const u=c[2],d=c[3];i=c[6],s=c[7];const h=(r-u)/(r-2*u+i),p=Tn.calculateExtrema(r,n,u,d,i,s,h),f=p.length>0?Math.min(r,i,p[0]):Math.min(r,i),m=p.length>0?Math.max(r,i,p[0]):Math.max(r,i),g=(n-d)/(n-2*d+s),y=Tn.calculateExtrema(r,n,u,d,i,s,g),b=y.length>0?Math.min(n,s,y[1]):Math.min(n,s),v=y.length>0?Math.max(n,s,y[1]):Math.max(n,s),k=new Ni;return k.x=f,k.y=b,k.w=m-f,k.h=v-b,k}static calculateExtrema(e,r,n,i,s,a,o){if(o<=0||1<=o)return[];const l=e+(n-e)*o,c=r+(i-r)*o,u=n+(s-n)*o,d=i+(a-i)*o;return[l+(u-l)*o,c+(d-c)*o]}static computeBezierControlPoints(e,r,n,i,s,a,o,l){if(r===i&&n===s)return[];if(i<r){let b=r;r=i,i=b,b=n,n=s,s=b}o*=e,l*=e;let c=s-n,u=i-r,d=Math.sqrt(c*c+u*u);a?c*=-1:u*=-1,c/=d,u/=d;let h=(i+r)/2,p=(s+n)/2,f=h+o*c,m=p+o*u,g=h+(o-l)*c,y=p+(o-l)*u;return[r,n,f,m,g,y,i,s]}static paintTie(e,r,n,i,s,a,o=!1,l=22,c=4){const u=Tn.computeBezierControlPoints(r,n,i,s,a,o,l,c);e.beginPath(),e.moveTo(u[0],u[1]),e.quadraticCurveTo(u[2],u[3],u[6],u[7]),e.quadraticCurveTo(u[4],u[5],u[0],u[1]),e.closePath(),e.fill()}static drawBendSlur(e,r,n,i,s,a,o,l){let c=s-n,u=i-r,d=Math.sqrt(c*c+u*u);a?c*=-1:u*=-1,c/=d,u/=d;let h=(i+r)/2,p=(s+n)/2,f=Tn.BendSlurHeight*o;i-r<20&&(f/=2);let m=h+f*c,g=p+f*u;if(e.beginPath(),e.moveTo(r,n),e.lineTo(m,g),e.lineTo(i,s),e.stroke(),l){let y=e.measureText(l),b=a?0:-e.font.size;e.fillText(l,m-y/2,g+b)}}}Tn.BendSlurHeight=11;class Tv extends jr{constructor(e){super(0,0),this._isOpen=e}doLayout(){super.doLayout(),this.width=Tv.Size*this.scale}paint(e,r,n){this._isOpen?Tn.paintTie(n,this.scale,e+this.x+this.width,r+this.y+this.height,e+this.x+this.width,r+this.y,!1,6,3):Tn.paintTie(n,this.scale,e+this.x,r+this.y,e+this.x,r+this.y+this.height,!1,6,3)}}Tv.Size=6;class kle{constructor(e,r){this.line=0,this.line=e,this.isGhost=r}}class g0 extends jr{constructor(e){super(0,0),this._infos=[],this._glyphs=[],this.isEmpty=!0,this._isOpen=e}addParenthesis(e){let r=this.renderer,n=r.getNoteLine(e),i=e.isGhost||this.isTiedBend(e)&&r.settings.notation.isNotationElementVisible(it.ParenthesisOnTiedBends);this.addParenthesisOnLine(n,i)}addParenthesisOnLine(e,r){let n=new kle(e,r);this._infos.push(n),r&&(this.isEmpty=!1)}isTiedBend(e){return e.isTieDestination?e.tieOrigin.hasBend?!0:this.isTiedBend(e.tieOrigin):!1}doLayout(){let e=this.renderer;this._infos.sort((i,s)=>i.line-s.line);let r=null,n=e.getScoreHeight(1);for(let i=0,s=this._infos.length;i<s;i++){let a;if(!this._infos[i].isGhost)r=null;else if(!r)a=new Tv(this._isOpen),a.renderer=this.renderer,a.y=e.getScoreY(this._infos[i].line)-n,a.height=n*2,a.doLayout(),this._glyphs.push(a),r=a;else{let o=e.getScoreY(this._infos[i].line)+n;r.height=o-r.y}}this.width=this._glyphs.length>0?this._glyphs[0].width:0}paint(e,r,n){super.paint(e,r,n);for(let i of this._glyphs)i.paint(e+this.x,r+this.y,n)}}class Cle{constructor(e,r){this.line=0,this.glyph=e,this.line=r}}class o5 extends jr{constructor(){super(0,0),this._infos=[],this._noteHeadPadding=0,this.minNote=null,this.maxNote=null,this.spacingChanged=new wn,this.upLineX=0,this.downLineX=0,this.displacedX=0,this.noteStartX=0}add(e,r){let n=new Cle(e,r);this._infos.push(n),(!this.minNote||this.minNote.line>n.line)&&(this.minNote=n),(!this.maxNote||this.maxNote.line<n.line)&&(this.maxNote=n)}get hasTopOverflow(){return!!this.minNote&&this.minNote.line<=0}get hasBottomOverflow(){return!!this.maxNote&&this.maxNote.line>8}doLayout(){this._infos.sort((o,l)=>l.line-o.line);let e=0,r=!1,n=0,i=!1,s=this.direction,a=0;for(let o=0,l=this._infos.length;o<l;o++){let c=this._infos[o].glyph;c.renderer=this.renderer,c.doLayout();let u=!1;o===0?e=c.width:Math.abs(n-this._infos[o].line)<=1?r?r=!1:(u=!0,c.x=e,i=!0,r=!0):r=!1,s===Pe.Down?c.x=u?0:e:c.x=u?e:0,c.x+=this.noteStartX,n=this._infos[o].line,a=Math.max(a,c.x+c.width)}i?(this._noteHeadPadding=0,this.upLineX=e,this.downLineX=e):(this._noteHeadPadding=s===Pe.Down?-e:0,a+=this._noteHeadPadding,this.upLineX=a,this.downLineX=0),this.displacedX=e,this.width=a}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer,s=3*this.scale,a=this.width-this.noteStartX+s*2;if(this.hasTopOverflow){let c=n.color;n.color=i.resources.staffLineColor;let u=-2;for(;u>=this.minNote.line;){let d=r+i.getScoreY(u);n.fillRect(e-s+this.noteStartX,d,a,this.scale),u-=2}n.color=c}if(this.hasBottomOverflow){let c=n.color;n.color=i.resources.staffLineColor;let u=10;for(;u<=this.maxNote.line;){let d=r+i.getScoreY(u);n.fillRect(e-s+this.noteStartX,d,a,this.scale),u+=2}n.color=c}let o=this._infos,l=e+this._noteHeadPadding;for(let c of o)c.glyph.renderer=this.renderer,c.glyph.paint(l,r,n)}}class _v extends Hr{constructor(e,r,n){super(e,r,1,_v.getSymbol(n))}doLayout(){this.width=12*this.scale}static getSymbol(e){switch(e){case H.ThirtySecond:return P.Tremolo3;case H.Sixteenth:return P.Tremolo2;case H.Eighth:return P.Tremolo1;default:return P.None}}}class Tle extends o5{constructor(){super(),this._noteGlyphLookup=new Map,this._notes=[],this._tremoloPicking=null,this.aboveBeatEffects=new Map,this.belowBeatEffects=new Map}get direction(){return this.beamingHelper.direction}getNoteX(e,r){if(this._noteGlyphLookup.has(e.id)){let n=this._noteGlyphLookup.get(e.id),i=this.x+n.x+this._noteHeadPadding;switch(r){case Wr.Left:break;case Wr.Center:i+=n.width/2;break;case Wr.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this._noteGlyphLookup.has(e.id)){const n=this._noteGlyphLookup.get(e.id);let i=this.y+n.y;switch(r){case Xe.TopWithStem:i-=this.renderer.getStemSize(this.beamingHelper);break;case Xe.Top:i-=n.height/2;break;case Xe.Center:break;case Xe.Bottom:i+=n.height/2;break;case Xe.BottomWithStem:i+=this.renderer.getStemSize(this.beamingHelper);break}return i}return 0}addNoteGlyph(e,r,n){super.add(e,n),this._noteGlyphLookup.set(r.id,e),this._notes.push(r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.upLineX,e+this.x+this.downLineX)}doLayout(){super.doLayout();let e=this.direction;for(const r of this.aboveBeatEffects.values())r.renderer=this.renderer,r.doLayout();for(const r of this.belowBeatEffects.values())r.renderer=this.renderer,r.doLayout();if(this.beat.isTremolo){let r=0,n=e===Pe.Up?this.minNote:this.maxNote,i=e===Pe.Up?this.displacedX:0,s=this.beat.tremoloSpeed;switch(s){case H.ThirtySecond:r=e===Pe.Up?-15:15;break;case H.Sixteenth:r=e===Pe.Up?-12:15;break;case H.Eighth:r=e===Pe.Up?-10:10;break;default:r=e===Pe.Up?-10:15;break}this._tremoloPicking=new _v(i,n.glyph.y+r*this.scale,s),this._tremoloPicking.renderer=this.renderer,this._tremoloPicking.doLayout()}}buildBoundingsLookup(e,r,n){for(let i of this._notes)if(this._noteGlyphLookup.has(i.id)){let s=this._noteGlyphLookup.get(i.id),a=new vT;a.note=i,a.noteHeadBounds=new Ni,a.noteHeadBounds.x=r+this.x+this._noteHeadPadding+s.x,a.noteHeadBounds.y=n+this.y+s.y-s.height/2,a.noteHeadBounds.w=s.width,a.noteHeadBounds.h=s.height,e.addNote(a)}}paint(e,r,n){let i=this.renderer,s=0,a=0,o=1,l=-o;this.beamingHelper.direction===Pe.Up?(a=i.getScoreY(this.minNote.line),s=i.getScoreY(this.maxNote.line-2)):(a=i.getScoreY(this.maxNote.line-1),s=i.getScoreY(this.minNote.line+1),l*=-1,o*=-1);for(const c of this.aboveBeatEffects.values())s+=l*c.height,c.paint(e+this.x+2*this.scale,r+this.y+s,n);for(const c of this.belowBeatEffects.values())a+=o*c.height,c.paint(e+this.x+2*this.scale,r+this.y+a,n);super.paint(e,r,n),this._tremoloPicking&&this._tremoloPicking.paint(e,r,n)}}class Gd extends Hr{constructor(e,r,n){super(e,r,1,Gd.getSymbol(n)),this._duration=n}static getSymbol(e){switch(e){case H.QuadrupleWhole:return P.RestLonga;case H.DoubleWhole:return P.RestDoubleWhole;case H.Whole:return P.RestWhole;case H.Half:return P.RestHalf;case H.Quarter:return P.RestQuarter;case H.Eighth:return P.RestEighth;case H.Sixteenth:return P.RestSixteenth;case H.ThirtySecond:return P.RestThirtySecond;case H.SixtyFourth:return P.RestSixtyFourth;case H.OneHundredTwentyEighth:return P.RestOneHundredTwentyEighth;case H.TwoHundredFiftySixth:return P.RestTwoHundredFiftySixth;default:return P.None}}static getSize(e){switch(e){case H.QuadrupleWhole:case H.DoubleWhole:case H.Whole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:return 9;case H.ThirtySecond:return 12;case H.SixtyFourth:return 14;case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:return 20}return 10}doLayout(){this.width=Gd.getSize(this._duration)*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class QM{constructor(){this.x=0,this.y=-3e3,this.width=0}}class l5 extends Wa{constructor(){super(0,0)}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}this.glyphs.sort((n,i)=>n.y<i.y?-1:n.y>i.y?1:0);let e=[];e.push(new QM);let r=21*this.scale;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.renderer=this.renderer,s.doLayout();let a=0;for(;e[a].y>s.y;)a++,a===e.length&&e.push(new QM);s.x=a,e[a].y=s.y+r,e[a].width<s.width&&(e[a].width=s.width)}this.width=0;for(const n of e)this.width+=n.width,n.x=this.width;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];const a=e[s.x];s.x=this.width-a.x}}}class Mi extends o5{get direction(){return Pe.Up}constructor(e,r=!1){super(),this._showParenthesis=!1,this._noteValueLookup=new Map,this._accidentals=new l5,this._preNoteParenthesis=null,this._postNoteParenthesis=null,this.isEmpty=!0,this.noteHeadOffset=0,this._beat=e,this._showParenthesis=r,r&&(this._preNoteParenthesis=new g0(!0),this._postNoteParenthesis=new g0(!1))}containsNoteValue(e){return this._noteValueLookup.has(e)}getNoteValueY(e){return this._noteValueLookup.has(e)?this.y+this._noteValueLookup.get(e).y:0}addGlyph(e,r=!1){let n=this.renderer,i=new wt(0,0,H.Quarter,!0),s=n.accidentalHelper.applyAccidentalForValue(this._beat,e,r,!0),a=n.accidentalHelper.getNoteLineForValue(e,!1);if(i.y=n.getScoreY(a),this._showParenthesis&&(this._preNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.addParenthesisOnLine(a,!0),this._postNoteParenthesis.addParenthesisOnLine(a,!0)),s!==Xt.None){let o=new Hl(0,i.y,s,!0);o.renderer=this.renderer,this._accidentals.renderer=this.renderer,this._accidentals.addGlyph(o)}this._noteValueLookup.set(e,i),this.add(i,a),this.isEmpty=!1}doLayout(){let e=0;this._showParenthesis&&(this._preNoteParenthesis.x=e,this._preNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.doLayout(),e+=this._preNoteParenthesis.width+Mi.ElementPadding*this.scale),this._accidentals.isEmpty||(e+=this._accidentals.width+Mi.ElementPadding*this.scale,this._accidentals.x=e,this._accidentals.renderer=this.renderer,this._accidentals.doLayout(),e+=this._accidentals.width+Mi.ElementPadding*this.scale),this.noteStartX=e,super.doLayout(),this.noteHeadOffset=this.noteStartX+(this.width-this.noteStartX)/2,this._showParenthesis&&(this._postNoteParenthesis.x=this.width+Mi.ElementPadding*this.scale,this._postNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.doLayout(),this.width+=this._postNoteParenthesis.width+Mi.ElementPadding*this.scale)}paint(e,r,n){this._accidentals.isEmpty||this._accidentals.paint(e+this.x,r+this.y,n),this._showParenthesis&&(this._preNoteParenthesis.paint(e+this.x,r+this.y,n),this._postNoteParenthesis.paint(e+this.x,r+this.y,n)),super.paint(e,r,n)}}Mi.ElementPadding=2;class PT extends jr{constructor(){super(...arguments),this.BendNoteHeads=[]}drawBendSlur(e,r,n,i,s,a,o,l){Tn.drawBendSlur(e,r,n,i,s,a,o,l)}doLayout(){super.doLayout(),this.width=0;for(let e of this.BendNoteHeads)e.doLayout(),this.width+=e.width+10*this.scale}getTieDirection(e,r){switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}}PT.EndPadding=(10/2|0)+3;class bl extends Ie{constructor(e=0,r=0){super(e,r),this.lineValue=0,this.lineValue=r}}class Vs extends jr{constructor(){super(0,0),this._notes=[],this._renderPoints=new Map,this._preBendMinValue=-1,this._bendMiddleMinValue=-1,this._bendEndMinValue=-1,this._bendEndContinuedMinValue=-1,this._releaseMinValue=-1,this._releaseContinuedMinValue=-1,this._maxBendValue=-1}addBends(e){this._notes.push(e);let r=this.createRenderingPoints(e);this._renderPoints.set(e.id,r),(this._maxBendValue===-1||this._maxBendValue<e.maxBendPoint.value)&&(this._maxBendValue=e.maxBendPoint.value);let n=0;switch(e.bendType){case Ue.Bend:n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case Ue.Release:n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case Ue.BendRelease:n=r[1].value,(this._bendMiddleMinValue===-1||n<this._bendMiddleMinValue)&&(this._bendMiddleMinValue=n),n=r[2].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case Ue.Prebend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n);break;case Ue.PrebendBend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case Ue.PrebendRelease:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break}}doLayout(){super.doLayout();let e=this._maxBendValue*Vs.BendValueHeight*this.scale;this.renderer.registerOverflowTop(e);let r=0;for(let n of this._notes){let i=this._renderPoints.get(n.id);switch(n.bendType){case Ue.Bend:i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case Ue.Release:r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break;case Ue.BendRelease:i[1].lineValue=this._bendMiddleMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[2].lineValue=r);break;case Ue.Prebend:i[0].lineValue=this._preBendMinValue;break;case Ue.PrebendBend:i[0].lineValue=this._preBendMinValue,i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case Ue.PrebendRelease:i[0].lineValue=this._preBendMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break}}this.width=0,this._notes.sort((n,i)=>n.isStringed?n.string-i.string:n.realValue-i.realValue)}createRenderingPoints(e){let r=[];switch(e.bendType){case Ue.Custom:for(let n of e.bendPoints)r.push(new bl(n.offset,n.value));break;case Ue.BendRelease:r.push(new bl(0,e.bendPoints[0].value)),r.push(new bl(Ie.MaxPosition/2|0,e.bendPoints[1].value)),r.push(new bl(Ie.MaxPosition,e.bendPoints[3].value));break;case Ue.Bend:case Ue.Hold:case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:case Ue.Release:r.push(new bl(0,e.bendPoints[0].value)),r.push(new bl(Ie.MaxPosition,e.bendPoints[1].value));break}return r}paint(e,r,n){let i=n.color;this._notes.length>1&&(n.color=this.renderer.resources.secondaryGlyphColor);for(let s of this._notes){let a=this._renderPoints.get(s.id),o=this.renderer,l=s,c=!1,u=null,d=!1,h=s.bendStyle===Zt.Gradual?"grad.":"",p=null;for(;l.isTieOrigin;){let v=l.tieDestination;if(u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,v.beat.voice.bar),!u||o.staff!==u.staff)break;if(l=v,c=!0,l.hasBend||!this.renderer.settings.notation.extendBendArrowsOnTiedNotes){d=!0;break}}p=l.beat,u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,p.voice.bar),p.isLastOfVoice&&!l.hasBend&&this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&(p=null);let f=0,m=0,g=r+o.y;f=e+o.x,a[0].value>0||s.isContinuedBend?f+=o.getBeatX(s.beat,Tt.MiddleNotes):f+=o.getNoteX(s,Wr.Right),!p||p.isLastOfVoice&&!d?m=e+u.x+u.postBeatGlyphsStart:d||!p.nextBeat?m=e+u.x+u.getBeatX(p,Tt.MiddleNotes):s.bendType===Ue.Hold?m=e+u.x+u.getBeatX(p.nextBeat,Tt.OnNotes):m=e+u.x+u.getBeatX(p.nextBeat,Tt.PreNotes),c||(m-=Vs.ArrowSize*this.scale);let b=(m-f)/Ie.MaxPosition;n.beginPath();for(let v=0,k=a.length-1;v<k;v++){let C=a[v],S=a[v+1];v===0&&C.value!==0&&!s.isTieDestination&&this.paintBend(s,new bl(0,0),C,f,g,b,h,n),s.bendType!==Ue.Prebend?(v===0&&(f+=2*this.scale),this.paintBend(s,C,S,f,g,b,h,n)):s.isTieOrigin&&s.tieDestination.hasBend&&(S=new bl(Ie.MaxPosition,C.value),S.lineValue=C.lineValue,this.paintBend(s,C,S,f,g,b,h,n))}n.color=i}}paintBend(e,r,n,i,s,a,o,l){let c=this.renderer,u=this.renderer.resources,d=c.lineOffset/2,h=i+a*r.offset,p=Vs.BendValueHeight*this.scale,f=s-p*r.lineValue;r.value===0?n.offset===r.offset?f+=c.getNoteY(e.beat.maxStringNote,Xe.Top):f+=c.getNoteY(e,Xe.Center):f+=d;let m=i+a*n.offset,g=s-p*n.lineValue;n.lineValue===0?g+=c.getNoteY(e,Xe.Center):g+=d;let y=0,b=Vs.ArrowSize*this.scale;if(n.value>r.value?(g+b>f&&(g=f-b),l.beginPath(),l.moveTo(m,g),l.lineTo(m-b*.5,g+b),l.lineTo(m+b*.5,g+b),l.closePath(),l.fill(),y=b):n.value!==r.value&&(g<f&&(g=f+b),l.beginPath(),l.moveTo(m,g),l.lineTo(m-b*.5,g-b),l.lineTo(m+b*.5,g-b),l.closePath(),l.fill(),y=-b),l.stroke(),r.value===n.value){if(r.lineValue>0){let v=m,k=Vs.DashSize*this.scale,C=h+k;if((v-h)/(k*2)<1)l.moveTo(v,f),l.lineTo(h,f);else for(;v>C;)l.moveTo(v,f),l.lineTo(v-k,f),v-=k*2;l.stroke()}}else m>h?(l.moveTo(h,f),l.bezierCurveTo((h+m)/2,f,m,f,m,g+y),l.stroke()):(l.moveTo(h,f),l.lineTo(m,g),l.stroke());if(o&&r.offset<n.offset){l.font=u.graceFont;let v=l.measureText(o),k=0,C=0;if(f>g){let S=Math.abs(f-g);k=S>l.font.size*1.3?f-S/2:f,C=(h+m-v)/2}else k=f,C=m-v;l.fillText(o,C,k)}if(n.value!==0&&r.value!==n.value){let v=n.value,k=n.value>r.value;v=Math.abs(v);let C="";if(v===4)C="full",v-=4;else if(v>=4||v<=-4){let S=v/4|0;C+=S,v-=S*4}if(v>0&&(C+=Vs.getFractionSign(v)),C!==""){g=s-p*n.value;let S=g;k||(S=f+Math.abs(g-f)*1/3),l.font=u.tablatureFont;let _=l.measureText(C),B=S-u.tablatureFont.size*.5-2*this.scale,D=m-_/2;l.fillText(C,D,B)}}}static getFractionSign(e){switch(e){case 1:return"";case 2:return"";case 3:return"";default:return e+"/ 4"}}}Vs.ArrowSize=6;Vs.DashSize=3;Vs.BendValueHeight=6;class ds extends jr{constructor(e){super(0,0),this._isSimpleDip=!1,this._beat=e,this._renderPoints=this.createRenderingPoints(e)}createRenderingPoints(e){if(e.whammyBarType===Vt.Custom)return e.whammyBarPoints;let r=[];switch(e.whammyBarType){case Vt.Dive:case Vt.Hold:case Vt.PrediveDive:case Vt.Predive:r.push(new Ie(0,e.whammyBarPoints[0].value)),r.push(new Ie(Ie.MaxPosition,e.whammyBarPoints[1].value));break;case Vt.Dip:r.push(new Ie(0,e.whammyBarPoints[0].value)),r.push(new Ie(Ie.MaxPosition/2|0,e.whammyBarPoints[1].value)),r.push(new Ie(Ie.MaxPosition,e.whammyBarPoints[e.whammyBarPoints.length-1].value));break}return r}doLayout(){super.doLayout(),this._isSimpleDip=this.renderer.settings.notation.notationMode===bn.SongBook&&this._beat.whammyBarType===Vt.Dip;let e=null,r=null,n=this._beat;for(;n&&n.hasWhammyBar;)(!e||e.value>n.minWhammyPoint.value)&&(e=n.minWhammyPoint),(!r||r.value<n.maxWhammyPoint.value)&&(r=n.maxWhammyPoint),n=n.nextBeat;let i=r.value>0?Math.abs(this.getOffset(r.value)):0;(i>0||this._beat.whammyBarPoints[0].value!==0||this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys))&&(i+=this.renderer.resources.tablatureFont.size*2);let s=e.value<0?Math.abs(this.getOffset(e.value)):0;this.renderer.registerOverflowTop(i+s);let a=this.renderer.staff.getSharedLayoutData(ds.TopOffsetSharedDataKey,-1);i>a&&this.renderer.staff.setSharedLayoutData(ds.TopOffsetSharedDataKey,i)}getOffset(e){if(e===0)return 0;let r=ds.PerHalfSize*this.scale+Math.log2(Math.abs(e)/2)*ds.PerHalfSize*this.scale;return e<0&&(r=-r),r}paint(e,r,n){let i=this.renderer,s=this._beat.nextBeat,a=null,o=Tt.PreNotes;s&&(a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,s.voice.bar),!a||a.staff!==i.staff||a!==i&&!s.hasWhammyBar?(s=null,a=null):o=s.hasWhammyBar&&(i.settings.notation.notationMode!==bn.SongBook||s.whammyBarType!==Vt.Dip)?Tt.MiddleNotes:Tt.PreNotes);let l=0,c=0;this._isSimpleDip?(l=e+i.x+i.getBeatX(this._beat,Tt.OnNotes)-2*this.scale,c=e+i.x+i.getBeatX(this._beat,Tt.PostNotes)+2*this.scale):(l=e+i.x+i.getBeatX(this._beat,Tt.MiddleNotes),c=a?e+a.x+a.getBeatX(s,o):e+i.x+i.width-2*this.scale);let u=n.textAlign;if(n.textAlign=et.Center,this._renderPoints.length>=2){let d=(c-l)/Ie.MaxPosition;n.beginPath();let h=r+this.renderer.staff.getSharedLayoutData(ds.TopOffsetSharedDataKey,0),p=this._beat.whammyStyle===Zt.Gradual?"grad.":"";for(let f=0,m=this._renderPoints.length-1;f<m;f++){let g=this._renderPoints[f],y=this._renderPoints[f+1],b=f<m-2?this._renderPoints[f+2]:null,v=f===0;f===0&&g.value!==0&&!this._beat.isContinuedWhammy&&(this.paintWhammy(!1,new Ie(0,0),g,y,l,h,d,n),v=!1),this.paintWhammy(v,g,y,b,l,h,d,n,p),p=""}n.stroke()}n.textAlign=u}paintWhammy(e,r,n,i,s,a,o,l,c){let u=s+o*r.offset,d=s+o*n.offset,h=a-this.getOffset(r.value),p=a-this.getOffset(n.value);if(r.offset===n.offset){let g=ds.DashSize*this.scale;if(Math.abs(p-h)/(g*2)<1)l.moveTo(u,h),l.lineTo(d,p);else{let b=Math.max(h,p),v=Math.min(h,p);for(;b>v;)l.moveTo(u,v),l.lineTo(u,v+g),v+=g*2}l.stroke()}else if(r.value===n.value){let g=ds.DashSize*this.scale;if(Math.abs(d-u)/(g*2)<1)l.moveTo(u,h),l.lineTo(d,p);else{let b=Math.max(u,d),v=Math.min(u,d);for(;b>v;)l.moveTo(b,h),l.lineTo(b-g,h),b-=g*2}l.stroke()}else l.moveTo(u,h),l.lineTo(d,p);let f=this.renderer.resources;if(e&&!this._beat.isContinuedWhammy&&!this._isSimpleDip){let g=h;g-=f.tablatureFont.size+2*this.scale,this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys)&&l.fillText("0",u,g),c&&(g-=f.tablatureFont.size+2*this.scale,l.fillText(c,u,g))}let m=Math.abs(n.value);if((m!==0||this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys)&&!this._isSimpleDip)&&r.value!==n.value){let g="";if(n.value<0&&(g+="-"),m>=4){let v=m/4|0;g+=v,m-=v*4}else m===0&&(g+="0");m>0&&(g+=Vs.getFractionSign(m));let y=0;this._isSimpleDip?y=Math.min(h,p)-f.tablatureFont.size-2*this.scale:(y=r.offset===n.offset?Math.min(h,p):p,y-=f.tablatureFont.size+2*this.scale,i&&i.value>n.value&&(y-=2*this.scale));let b=d;l.fillText(g,b,y)}}}ds.TopOffsetSharedDataKey="tab.whammy.topoffset";ds.PerHalfSize=6;ds.DashSize=3;class Gc extends PT{constructor(e){super(0,0),this._beat=e}doLayout(){let e=this.renderer.settings.notation.notationMode;switch(this._beat.whammyBarType){case Vt.None:case Vt.Custom:case Vt.Hold:return;case Vt.Dive:case Vt.PrediveDive:{let r=new Mi(this._beat,!1);r.renderer=this.renderer;let n=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let i of this._beat.notes)i.isTieOrigin||r.addGlyph(this.getBendNoteValue(i,n),n.value%2!==0);r.doLayout(),this.BendNoteHeads.push(r)}break;case Vt.Dip:if(e===bn.SongBook){let r=this.renderer.resources;this.renderer.simpleWhammyOverflow=r.tablatureFont.size*1.5+Gc.SimpleDipHeight*this.scale+Gc.SimpleDipPadding*this.scale}else{let r=new Mi(this._beat,!1);if(r.renderer=this.renderer,this.renderer.settings.notation.notationMode===bn.GuitarPro){let i=this._beat.whammyBarPoints[1];for(let s of this._beat.notes)r.addGlyph(this.getBendNoteValue(s,this._beat.whammyBarPoints[1]),i.value%2!==0)}r.doLayout(),this.BendNoteHeads.push(r);let n=new Mi(this._beat,!1);if(n.renderer=this.renderer,this.renderer.settings.notation.notationMode===bn.GuitarPro){let i=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let s of this._beat.notes)n.addGlyph(this.getBendNoteValue(s,i),i.value%2!==0)}n.doLayout(),this.BendNoteHeads.push(n)}break;case Vt.Predive:break}super.doLayout()}paint(e,r,n){let i=this._beat;switch(i.whammyBarType){case Vt.None:case Vt.Custom:return}let s=this.renderer.settings.notation.notationMode,a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,i.voice.bar),o=e+a.x+a.getBeatX(i,Tt.MiddleNotes),l=this.getTieDirection(i,a),c=this._beat.notes.length===1?l:Pe.Up,u=n.textAlign;for(let d=0;d<i.notes.length;d++){let h=i.notes[d],p=r+a.y;d>0&&d>=(this._beat.notes.length/2|0)&&(c=Pe.Down),c===Pe.Down?p+=a.getNoteY(h,Xe.Bottom):p+=a.getNoteY(h,Xe.Top);let f=e+a.x;i.isLastOfVoice?f+=a.width:f+=a.getBeatX(i,Tt.EndBeat),f-=8*this.scale;let m=i.whammyStyle===Zt.Gradual&&d===0?"grad.":"",g=null;h.isTieOrigin&&(g=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,h.tieDestination.beat.voice.bar),g&&g.staff===a.staff?f=e+g.x+g.getBeatX(h.tieDestination.beat,Tt.MiddleNotes):g=null);let y=wt.NoteHeadHeight*this.scale*wt.GraceScale*.5;c===Pe.Up&&(y=-y);let b=i.whammyBarPoints.length>0?this.getBendNoteValue(h,i.whammyBarPoints[i.whammyBarPoints.length-1]):0,v=0,k=!1;switch(this.BendNoteHeads.length>0&&this.BendNoteHeads[0].containsNoteValue(b)?(v=this.BendNoteHeads[0].getNoteValueY(b)+y,k=!0):g&&(h.isTieOrigin&&h.tieDestination.beat.hasWhammyBar||h.beat.isContinuedWhammy)?(v=r+g.y+g.getNoteY(h.tieDestination,Xe.Top),k=!0,c===Pe.Down&&(v+=wt.NoteHeadHeight*this.scale)):h.isTieOrigin&&(g?v=r+g.y+g.getNoteY(h.tieDestination,Xe.Top):v=p,c===Pe.Down&&(v+=wt.NoteHeadHeight*this.scale)),i.whammyBarType){case Vt.Hold:h.isTieOrigin&&Tn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4);break;case Vt.Dive:d===0&&(this.BendNoteHeads[0].x=f-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.BendNoteHeads[0].containsNoteValue(b)&&(v+=this.BendNoteHeads[0].y)),k?this.drawBendSlur(n,o,p,f,v,c===Pe.Down,this.scale,m):h.isTieOrigin&&Tn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4);break;case Vt.Dip:if(s===bn.SongBook){if(d===0){let _=e+a.x+a.getBeatX(this._beat,Tt.OnNotes)-2*this.scale,B=e+a.x+a.getBeatX(this._beat,Tt.PostNotes)+2*this.scale,D=(_+B)/2,E=((this._beat.whammyBarPoints[1].value-this._beat.whammyBarPoints[0].value)/4|0).toString();n.font=this.renderer.resources.tablatureFont,n.fillText(E,D,r+this.y);let R=r+this.y+n.font.size+2*this.scale,O=R+Gc.SimpleDipHeight*this.scale;this._beat.whammyBarPoints[1].value>this._beat.whammyBarPoints[0].value?(n.moveTo(_,O),n.lineTo(D,R),n.lineTo(B,O)):(n.moveTo(_,R),n.lineTo(D,O),n.lineTo(B,R)),n.stroke()}h.isTieOrigin&&Tn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4)}else{let _=(o+f)/2;this.BendNoteHeads[0].x=_-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n);let B=this.getBendNoteValue(h,i.whammyBarPoints[1]),D=this.BendNoteHeads[0].getNoteValueY(B)+y;this.drawBendSlur(n,o,p,_,D,c===Pe.Down,this.scale,m),this.BendNoteHeads[1].x=f-this.BendNoteHeads[1].noteHeadOffset,this.BendNoteHeads[1].y=r+a.y,this.BendNoteHeads[1].paint(0,0,n),v=this.BendNoteHeads[1].getNoteValueY(b)+y,this.drawBendSlur(n,_,D,f,v,c===Pe.Down,this.scale,m)}break;case Vt.PrediveDive:case Vt.Predive:let C=e+a.x+a.getBeatX(h.beat,Tt.PreNotes);C+=a.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let S=r+a.y+a.getScoreY(a.accidentalHelper.getNoteLineForValue(h.displayValue-(h.beat.whammyBarPoints[0].value/2|0),!1))+y;this.drawBendSlur(n,C,S,o,p,c===Pe.Down,this.scale,m),this.BendNoteHeads.length>0&&(this.BendNoteHeads[0].x=f-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.drawBendSlur(n,o,p,f,v,c===Pe.Down,this.scale,m));break}}n.textAlign=u}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}Gc.SimpleDipHeight=ds.PerHalfSize*2;Gc.SimpleDipPadding=2;class Ei extends jr{constructor(e,r,n){super(e,r),this.width=n}}class _le extends Hr{constructor(e,r,n,i,s){super(e,r,s?wt.GraceScale:1,n.getSymbol(i)),this._isGrace=s,this._articulation=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1),this._articulation.techniqueSymbol!==P.None&&this._articulation.techniqueSymbolPlacement===bt.Middle&&n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this._articulation.techniqueSymbol,!1)}doLayout(){let e=(this._isGrace?wt.GraceScale:1)*this.scale;switch(this.symbol){case P.NoteheadWhole:this.width=14;break;case P.NoteheadCircleX:case P.NoteheadDiamondWhite:this.width=9;break;case P.NoteheadHeavyXHat:case P.NoteheadHeavyX:this.width=13;break;default:this.width=10;break}this.width=this.width*(this._isGrace?wt.GraceScale:1)*this.scale,this.height=wt.NoteHeadHeight*e}}class JM extends Hr{constructor(e,r){super(e,r,wt.GraceScale,P.ArticStaccatoAbove)}doLayout(){this.width=wt.QuarterNoteHeadWidth*this.scale,this.height=7*this.scale}paint(e,r,n){super.paint(e+3*this.scale,r+5*this.scale,n)}}class Ple extends Hr{constructor(e,r){super(e,r,.5,P.PictEdgeOfCymbal)}doLayout(){this.width=22*this.scale,this.height=15*this.scale}paint(e,r,n){super.paint(e-3*this.scale,r+this.height,n)}}class Ble extends Hr{constructor(e,r){super(e,r,wt.GraceScale,P.GuitarGolpe)}doLayout(){this.width=9*this.scale,this.height=10*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}}class Nle extends kT{constructor(){super(...arguments),this._collisionOffset=-1e3,this._skipPaint=!1,this.noteHeads=null,this.restGlyph=null}getNoteX(e,r){return this.noteHeads?this.noteHeads.getNoteX(e,r):0}buildBoundingsLookup(e,r,n){this.noteHeads&&this.noteHeads.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteY(e,r){return this.noteHeads?this.noteHeads.getNoteY(e,r):0}updateBeamingHelper(){if(this.noteHeads)this.noteHeads.updateBeamingHelper(this.container.x+this.x);else if(this.restGlyph&&(this.restGlyph.updateBeamingHelper(this.container.x+this.x),this.renderer.bar.isMultiVoice&&this._collisionOffset===-1e3)){this._collisionOffset=this.renderer.helpers.collisionHelper.applyRestCollisionOffset(this.container.beat,this.restGlyph.y,this.renderer.getScoreHeight(1)),this.y+=this._collisionOffset;const e=this.renderer.helpers.collisionHelper.restDurationsByDisplayTime;e.has(this.container.beat.playbackStart)&&e.get(this.container.beat.playbackStart).has(this.container.beat.playbackDuration)&&e.get(this.container.beat.playbackStart).get(this.container.beat.playbackDuration)!==this.container.beat.id&&(this._skipPaint=!0)}}paint(e,r,n){this._skipPaint||super.paint(e,r,n)}doLayout(){let e=this.renderer;if(!this.container.beat.isEmpty)if(this.container.beat.isRest){let r=Math.ceil((this.renderer.bar.staff.standardNotationLineCount-1)/2)*2;this.container.beat.duration===H.Whole&&this.renderer.bar.staff.standardNotationLineCount!==1&&this.renderer.bar.staff.standardNotationLineCount!==3&&(r-=2);const n=new Gd(0,e.getScoreY(r),this.container.beat.duration);if(this.restGlyph=n,n.beat=this.container.beat,n.beamingHelper=this.beamingHelper,this.addGlyph(n),this.renderer.bar.isMultiVoice)if(this.container.beat.voice.index===0){const i=qi.computeLineHeightsForRest(this.container.beat.duration);let s=n.y-e.getScoreHeight(i[0]),a=n.y+e.getScoreHeight(i[1]);this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}else this.renderer.helpers.collisionHelper.registerRest(this.container.beat);if(this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,r),this.container.beat.dots>0){this.addGlyph(new Ei(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new Wa(0,0);s.renderer=this.renderer,this.createBeatDot(r,s),this.addGlyph(s)}}}else{const r=new Tle;this.noteHeads=r,r.beat=this.container.beat,r.beamingHelper=this.beamingHelper;let n=new g0(!1);n.renderer=this.renderer;for(let i of this.container.beat.notes)i.isVisible&&(this.createNoteGlyph(i),n.addParenthesis(i));if(this.addGlyph(r),n.isEmpty||(this.addGlyph(new Ei(0,0,4*(this.container.beat.graceType!==tt.None?wt.GraceScale:1)*this.scale)),this.addGlyph(n)),this.container.beat.hasWhammyBar){let i=new Gc(this.container.beat);i.renderer=this.renderer,i.doLayout(),this.container.ties.push(i)}if(this.container.beat.dots>0){this.addGlyph(new Ei(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new Wa(0,0);s.renderer=this.renderer;for(let a of this.container.beat.notes)this.createBeatDot(e.getNoteLine(a),s);this.addGlyph(s)}}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}createBeatDot(e,r){let n=this.renderer;r.addGlyph(new _1(0,n.getScoreY(e),1.5*this.scale))}createNoteHeadGlyph(e){let r=this.container.beat.graceType!==tt.None;if(e.beat.voice.bar.staff.isPercussion){const n=Fn.getArticulation(e);if(n)return new _le(0,0,n,e.beat.duration,r);ve.warning("Rendering",`No articulation found for percussion instrument ${e.percussionArticulation}`)}return e.isDead?new Sle(0,0,r):e.beat.graceType===tt.BendGrace?new wt(0,0,H.Quarter,!0):e.harmonicType===Qe.Natural?new m0(0,0,e.beat.duration,r):new wt(0,0,e.beat.duration,r)}createNoteGlyph(e){if(e.beat.graceType===tt.BendGrace&&!e.hasBend)return;let r=this.renderer,n=this.createNoteHeadGlyph(e),i=r.getNoteLine(e);if(n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i),e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural){let s=e.displayValue+e.harmonicPitch;n=new m0(0,0,e.beat.duration,this.container.beat.graceType!==tt.None),i=r.accidentalHelper.getNoteLineForValue(s,!1),n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i)}if(e.isStaccato&&!this.noteHeads.aboveBeatEffects.has("Staccato")&&this.noteHeads.belowBeatEffects.set("Staccato",new JM(0,0)),e.accentuated===sn.Normal&&!this.noteHeads.aboveBeatEffects.has("Accent")&&this.noteHeads.belowBeatEffects.set("Accent",new p0(0,0,sn.Normal)),e.accentuated===sn.Heavy&&!this.noteHeads.aboveBeatEffects.has("HAccent")&&this.noteHeads.belowBeatEffects.set("HAccent",new p0(0,0,sn.Heavy)),e.isPercussion){const s=Fn.getArticulation(e);if(s&&s.techniqueSymbolPlacement!==bt.Middle){const a=s.techniqueSymbolPlacement===bt.Top?this.noteHeads.aboveBeatEffects:this.noteHeads.belowBeatEffects;switch(s.techniqueSymbol){case P.PictEdgeOfCymbal:a.set("PictEdgeOfCymbal",new Ple(0,0));break;case P.ArticStaccatoAbove:a.set("ArticStaccatoAbove",new JM(0,0));break;case P.StringsUpBow:a.set("StringsUpBow",new Rp(0,0,Vn.Up));break;case P.StringsDownBow:a.set("StringsDownBow",new Rp(0,0,Vn.Down));break;case P.GuitarGolpe:a.set("GuitarGolpe",new Ble(0,0));break}}}}}class Mle extends jr{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=this._beat.brushType===dr.ArpeggioUp||this._beat.brushType===dr.ArpeggioDown?10*this.scale:0}paint(e,r,n){if(this._beat.brushType===dr.ArpeggioUp||this._beat.brushType===dr.ArpeggioDown){let i=this.renderer,s=i.lineOffset,a=r+this.y+(i.getNoteY(this._beat.maxNote,Xe.Bottom)-s),o=r+this.y+i.getNoteY(this._beat.minNote,Xe.Top)+s,l=e+this.x+this.width/2,c=8*this.scale,u=new ou(0,0,$t.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let d=-u.height/2;if(this._beat.brushType===dr.ArpeggioUp){let h=a+c,p=o-c;u.width=Math.abs(p-h),n.beginRotate(e+this.x+5*this.scale,p,-90),u.paint(0,d,n),n.endRotate(),n.beginPath(),n.moveTo(l,o),n.lineTo(l+c/2,o-c),n.lineTo(l-c/2,o-c),n.closePath(),n.fill()}else if(this._beat.brushType===dr.ArpeggioDown){let h=a+c,p=o;u.width=Math.abs(p-h),n.beginRotate(e+this.x+5*this.scale,h,90),u.paint(0,d,n),n.endRotate(),n.beginPath(),n.moveTo(l,a),n.lineTo(l+c/2,a+c),n.lineTo(l-c/2,a+c),n.closePath(),n.fill()}}}}class Ele extends Cv{get prebendNoteHeadOffset(){return this._prebends?this._prebends.x+this._prebends.noteHeadOffset:0}doLayout(){if(!this.container.beat.isRest){let e=new l5;e.renderer=this.renderer;let r=new g0(!0);r.renderer=this.renderer;const n=new Mi(this.container.beat,!0);this._prebends=n,n.renderer=this.renderer;for(let i of this.container.beat.notes)if(i.isVisible){if(i.hasBend)switch(i.bendType){case Ue.PrebendBend:case Ue.Prebend:case Ue.PrebendRelease:n.addGlyph(i.displayValue-(i.bendPoints[0].value/2|0),!1);break}else if(i.beat.hasWhammyBar)switch(i.beat.whammyBarType){case Vt.PrediveDive:case Vt.Predive:this._prebends.addGlyph(i.displayValue-(i.beat.whammyBarPoints[0].value/2|0),!1);break}this.createAccidentalGlyph(i,e),r.addParenthesis(i)}n.isEmpty||(this.addGlyph(n),this.addGlyph(new Ei(0,0,4*(this.container.beat.graceType!==tt.None?wt.GraceScale:1)*this.scale))),this.container.beat.brushType!==dr.None&&(this.addGlyph(new Mle(this.container.beat)),this.addGlyph(new Ei(0,0,4*this.scale))),r.isEmpty||(this.addGlyph(r),this.addGlyph(new Ei(0,0,4*(this.container.beat.graceType!==tt.None?wt.GraceScale:1)*this.scale))),e.isEmpty||(this.accidentals=e,this.addGlyph(new Ei(0,0,2*(this.container.beat.graceType!==tt.None?wt.GraceScale:1)*this.scale)),this.addGlyph(e),this.addGlyph(new Ei(0,0,2*(this.container.beat.graceType!==tt.None?wt.GraceScale:1)*this.scale)))}super.doLayout()}createAccidentalGlyph(e,r){let n=this.renderer,i=n.accidentalHelper.applyAccidental(e),s=n.getNoteLine(e),a=this.container.beat.graceType!==tt.None;if(i!==Xt.None){let o=new Hl(0,n.getScoreY(s),i,a);o.renderer=this.renderer,r.addGlyph(o)}if(e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural){let o=e.displayValue+e.harmonicPitch;i=n.accidentalHelper.applyAccidentalForValue(e.beat,o,a,!1),s=n.accidentalHelper.getNoteLineForValue(o,!1);let l=new Hl(0,n.getScoreY(s),i,a);l.renderer=this.renderer,r.addGlyph(l)}}constructor(){super(),this._prebends=null,this.accidentals=null}}class BT extends Hr{constructor(e,r,n,i){super(e,r,i,BT.getSymbol(n)),this._digit=0,this._scale=0,this._digit=n,this._scale=i}doLayout(){this.width=this.getDigitWidth(this._digit)*this.scale*this._scale}getDigitWidth(e){switch(e){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return 14;case 1:return 10;default:return 0}}static getSymbol(e){switch(e){case 0:return P.TimeSig0;case 1:return P.TimeSig1;case 2:return P.TimeSig2;case 3:return P.TimeSig3;case 4:return P.TimeSig4;case 5:return P.TimeSig5;case 6:return P.TimeSig6;case 7:return P.TimeSig7;case 8:return P.TimeSig8;case 9:return P.TimeSig9;default:return P.None}}}class cy extends Wa{constructor(e,r,n,i=1){super(e,r),this._number=0,this._scale=0,this._number=n,this._scale=i}doLayout(){let e=this._number;for(;e>0;){let r=e%10,n=new BT(0,0,r,this._scale);this.addGlyph(n),e=e/10|0}if(this.glyphs){this.glyphs.reverse();let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.y=0,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r}}}cy.numberHeight=18;class c5 extends Wa{constructor(e,r,n,i,s){super(e,r),this._numerator=0,this._denominator=0,this._numerator=n,this._denominator=i,this._isCommon=s}doLayout(){if(this._isCommon&&this._numerator===2&&this._denominator===2){let e=new Hr(0,0,this.commonScale,P.TimeSigCutCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else if(this._isCommon&&this._numerator===4&&this._denominator===4){let e=new Hr(0,0,this.commonScale,P.TimeSigCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else{const e=cy.numberHeight*this.scale;let r=new cy(0,-e/2,this._numerator,this.numberScale),n=new cy(0,e/2,this._denominator,this.numberScale);this.addGlyph(r),this.addGlyph(n),super.doLayout();for(let i=0,s=this.glyphs.length;i<s;i++){let a=this.glyphs[i];a.x=(this.width-a.width)/2}}}}class Rle extends c5{get commonScale(){return 1}get numberScale(){return 1}}class Dle extends PT{constructor(e){super(0,0),this._notes=[],this._endNoteGlyph=null,this._middleNoteGlyph=null,this._beat=e}addBends(e){if(this._notes.push(e),!e.isTieOrigin)switch(e.bendType){case Ue.Bend:case Ue.PrebendRelease:case Ue.PrebendBend:{let r=this._endNoteGlyph;r||(r=new Mi(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case Ue.Release:if(!e.isTieOrigin){let r=this._endNoteGlyph;r||(r=new Mi(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case Ue.BendRelease:{let r=this._middleNoteGlyph;r||(r=new Mi(e.beat,!1),this._middleNoteGlyph=r,r.renderer=this.renderer,this.BendNoteHeads.push(r));let n=e.bendPoints[1];r.addGlyph(this.getBendNoteValue(e,e.bendPoints[1]),n.value%2!==0);let i=this._endNoteGlyph;i||(i=new Mi(e.beat,!1),i.renderer=this.renderer,this._endNoteGlyph=i,this.BendNoteHeads.push(i));let s=e.bendPoints[e.bendPoints.length-1];i.addGlyph(this.getBendNoteValue(e,s),s.value%2!==0)}break}}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._beat.voice.bar),s=e+i.x+i.getBeatX(this._beat,Tt.MiddleNotes),a=e+i.x;this._beat.isLastOfVoice?a+=i.postBeatGlyphsStart:a+=i.getBeatX(this._beat.nextBeat,Tt.PreNotes),a-=8*this.scale;let o=(s+a)/2;this._middleNoteGlyph&&(this._middleNoteGlyph.x=o-this._middleNoteGlyph.noteHeadOffset,this._middleNoteGlyph.y=r+i.y,this._middleNoteGlyph.paint(0,0,n)),this._endNoteGlyph&&(this._endNoteGlyph.x=a-this._endNoteGlyph.noteHeadOffset,this._endNoteGlyph.y=r+i.y,this._endNoteGlyph.paint(0,0,n)),this._notes.sort((u,d)=>d.displayValue-u.displayValue);let l=this._beat.graceType===tt.BendGrace?this._beat.nextBeat:this._beat,c=this._notes.length===1?this.getTieDirection(l,i):Pe.Up;for(let u=0;u<this._notes.length;u++){let d=this._notes[u];u>0&&u>=(this._notes.length/2|0)&&(c=Pe.Down);let h=r+i.y+i.getNoteY(d,Xe.Top),p=wt.NoteHeadHeight*this.scale*wt.GraceScale*.5;c===Pe.Down&&(h+=wt.NoteHeadHeight*this.scale);let f=d.bendStyle===Zt.Gradual?"grad.":"";if(d.isTieOrigin){let m=d.tieDestination,g=m?this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,m.beat.voice.bar):null;if(!g||g.staff!==i.staff){let y=e+i.x+i.width,b=d.tieDestination.realValue;i.accidentalHelper.applyAccidentalForValue(d.beat,b,!1,!0);let v=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(b,!1));d.bendType===Ue.Hold||d.bendType===Ue.Prebend?Tn.paintTie(n,this.scale,s,h,y,v,c===Pe.Down,22,4):this.drawBendSlur(n,s,h,y,v,c===Pe.Down,this.scale,f)}else{let y=e+g.x+g.getBeatX(m.beat,Tt.MiddleNotes),b=r+g.y+g.getNoteY(m,Xe.Top);c===Pe.Down&&(b+=wt.NoteHeadHeight*this.scale),d.bendType===Ue.Hold||d.bendType===Ue.Prebend?Tn.paintTie(n,this.scale,s,h,y,b,c===Pe.Down,22,4):this.drawBendSlur(n,s,h,y,b,c===Pe.Down,this.scale,f)}switch(d.bendType){case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:let y=e+i.x+i.getBeatX(d.beat,Tt.PreNotes);y+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let b=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+p;this.drawBendSlur(n,y,b,s,h,c===Pe.Down,this.scale);break}}else{c===Pe.Up&&(p=-p);let m=0,g=0;switch(d.bendType){case Ue.Bend:m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this._endNoteGlyph.getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f);break;case Ue.BendRelease:let y=this.getBendNoteValue(d,d.bendPoints[1]),b=this._middleNoteGlyph.getNoteValueY(y)+p;this.drawBendSlur(n,s,h,o,b,c===Pe.Down,this.scale,f),m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this._endNoteGlyph.getNoteValueY(m)+p,this.drawBendSlur(n,o,b,a,g,c===Pe.Down,this.scale,f);break;case Ue.Release:this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this.BendNoteHeads[0].getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f));break;case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:let v=e+i.x+i.getBeatX(d.beat,Tt.PreNotes);v+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let k=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+p;this.drawBendSlur(n,v,k,s,h,c===Pe.Down,this.scale),this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this.BendNoteHeads[0].getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f));break}}}}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}class P1 extends Tn{constructor(e,r,n=!1){super(e,r,n)}doLayout(){super.doLayout()}getBeamDirection(e,r){if(e.isRest)return Pe.Up;switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this.startBeat.maxNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this.startBeat.minNote,Xe.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Pe.Up:return e.getScoreY(9);default:return e.getScoreY(0)}const r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);if(r!==n&&this.startBeat.graceType===tt.None)if(n===this.tieDirection)switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.TopWithStem);default:return e.getNoteY(this.endBeat.minNote,Xe.BottomWithStem)}else switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.BottomWithStem);default:return e.getNoteY(this.endBeat.minNote,Xe.TopWithStem)}switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.Top);default:return e.getNoteY(this.endBeat.minNote,Xe.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startBeat,Tt.MiddleNotes)}getEndX(){const e=this.endNoteRenderer.getBeatDirection(this.endBeat);return this.endNoteRenderer.getBeatX(this.endBeat,this.endBeat.duration>H.Whole&&e===this.tieDirection?Tt.Stem:Tt.MiddleNotes)}}class Ile extends jr{constructor(e,r,n,i){super(0,0),this._outType=r,this._inType=e,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.drawSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=e+i.x+i.getNoteX(this._startNote,Wr.Left)-2*this.scale,o=r+i.y+i.getNoteY(this._startNote,Xe.Center),l=a-s,c=r+i.y;switch(this._inType){case Pn.IntoFromBelow:c+=i.getNoteY(this._startNote,Xe.Bottom);break;case Pn.IntoFromAbove:c+=i.getNoteY(this._startNote,Xe.Top);break;default:return}let u=this.getAccidentalsWidth(i,this._startNote.beat);l-=u,a-=u,this.paintSlideLine(n,!1,l,a,c,o)}getAccidentalsWidth(e,r){let n=e.getPreNotesGlyphForBeat(r);return n&&n.accidentals?n.accidentals.width:0}drawSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=1*this.scale,o=2*this.scale,l=0,c=0,u=0,d=0,h=!1;switch(this._outType){case pt.Shift:case pt.Legato:if(l=e+i.x+i.getBeatX(this._startNote.beat,Tt.PostNotes),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),this._startNote.slideTarget){let p=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!p||p.staff!==i.staff?(u=e+i.x+i.width,d=c):(u=e+p.x+p.getBeatX(this._startNote.slideTarget.beat,Tt.PreNotes)-a,d=r+p.y+p.getNoteY(this._startNote.slideTarget,Xe.Center)),this._startNote.slideTarget.realValue>this._startNote.realValue?(c+=o,d-=o):(c-=o,d+=o)}else u=e+i.x+this._parent.x,d=c;break;case pt.OutUp:l=e+i.x+i.getNoteX(this._startNote,Wr.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),u=l+s,d=r+i.y+i.getNoteY(this._startNote,Xe.Top);break;case pt.OutDown:l=e+i.x+i.getNoteX(this._startNote,Wr.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),u=l+s,d=r+i.y+i.getNoteY(this._startNote,Xe.Bottom);break;case pt.PickSlideUp:l=e+i.x+i.getNoteX(this._startNote,Wr.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),d=r+i.y+i.getNoteY(this._startNote,Xe.Top),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,Tt.PreNotes)),h=!0;break;case pt.PickSlideDown:l=e+i.x+i.getNoteX(this._startNote,Wr.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),d=r+i.y+i.getNoteY(this._startNote,Xe.Bottom),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,Tt.PreNotes)),h=!0;break;default:return}this.paintSlideLine(n,h,l,u,c,d)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new ou(0,0,$t.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,c=a-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));o.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(n,s,d),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Sg extends P1{constructor(e,r,n=!1){super(e.beat,r.beat,n),this._startNote=e,this._endNote=r}getTieHeight(e,r,n,i){return Math.log2(n-e+1)*this.renderer.settings.notation.slurHeight}getStartY(){if(this.isStartCentered())switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this._startNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this._startNote,Xe.Bottom)}return this.startNoteRenderer.getNoteY(this._startNote,Xe.Center)}getEndY(){if(this.isEndCentered())if(this.isEndOnStem())switch(this.tieDirection){case Pe.Up:return this.endNoteRenderer.getNoteY(this._endNote,Xe.TopWithStem);default:return this.endNoteRenderer.getNoteY(this._endNote,Xe.BottomWithStem)}else switch(this.tieDirection){case Pe.Up:return this.endNoteRenderer.getNoteY(this._endNote,Xe.Top);default:return this.endNoteRenderer.getNoteY(this._endNote,Xe.Bottom)}else return this.endNoteRenderer.getNoteY(this._endNote,Xe.Center)}isStartCentered(){return this._startNote===this._startNote.beat.maxNote&&this.tieDirection===Pe.Up||this._startNote===this._startNote.beat.minNote&&this.tieDirection===Pe.Down}isEndCentered(){return this._startNote.beat.graceType===tt.None&&(this._endNote===this._endNote.beat.maxNote&&this.tieDirection===Pe.Up||this._endNote===this._endNote.beat.minNote&&this.tieDirection===Pe.Down)}isEndOnStem(){const e=this.endNoteRenderer,r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);return r!==n&&this.startBeat.graceType===tt.None}getStartX(){return this.isStartCentered()?this.startNoteRenderer.getBeatX(this._startNote.beat,Tt.MiddleNotes):this.startNoteRenderer.getNoteX(this._startNote,Wr.Right)}getEndX(){return this.isEndCentered()?this.isEndOnStem()?this.endNoteRenderer.getBeatX(this._endNote.beat,Tt.Stem):this.endNoteRenderer.getNoteX(this._endNote,Wr.Center):this.endNoteRenderer.getBeatX(this._endNote.beat,Tt.PreNotes)}}class ZM extends Tn{constructor(e,r,n=!1){super(e?e.beat:null,r?r.beat:null,n),this.startNote=e,this.endNote=r}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,r){switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this.startNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this.startNote,Xe.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Pe.Up:return e.getScoreY(9);default:return e.getScoreY(0)}switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endNote,Xe.Top);default:return e.getNoteY(this.endNote,Xe.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startNote.beat,Tt.PostNotes)}getEndX(){return this.endNoteRenderer.getBeatX(this.endNote.beat,Tt.PreNotes)}}class Lle extends Ea{constructor(e,r){super(e,r),this._bend=null,this._effectSlur=null,this._effectEndSlur=null}doLayout(){if(this._effectSlur=null,this._effectEndSlur=null,super.doLayout(),this.beat.isLegatoOrigin){if(!this.beat.previousBeat||!this.beat.previousBeat.isLegatoOrigin){let e=this.beat.nextBeat;for(;e.nextBeat&&e.nextBeat.isLegatoDestination;)e=e.nextBeat;this.addTie(new P1(this.beat,e,!1))}}else if(this.beat.isLegatoDestination&&!this.beat.isLegatoOrigin){let e=this.beat.previousBeat;for(;e.previousBeat&&e.previousBeat.isLegatoOrigin;)e=e.previousBeat;this.addTie(new P1(e,this.beat,!0))}this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(e.isVisible){if(e.isTieOrigin&&!e.hasBend&&!e.beat.hasWhammyBar&&e.beat.graceType!==tt.BendGrace&&e.tieDestination&&e.tieDestination.isVisible){let r=new ZM(e,e.tieDestination,!1);this.addTie(r)}if(e.isTieDestination&&!e.tieOrigin.hasBend&&!e.beat.hasWhammyBar){let r=new ZM(e.tieOrigin,e,!0);this.addTie(r)}if(e.slideInType!==Pn.None||e.slideOutType!==pt.None){let r=new Ile(e.slideInType,e.slideOutType,e,this);this.addTie(r)}if(e.isSlurOrigin&&e.slurDestination&&e.slurDestination.isVisible){let r=new Sg(e,e.slurDestination,!1);this.addTie(r)}if(e.isSlurDestination){let r=new Sg(e.slurOrigin,e,!0);this.addTie(r)}if(!this._effectSlur&&e.isEffectSlurOrigin&&e.effectSlurDestination){const r=new Sg(e,e.effectSlurDestination,!1);this._effectSlur=r,this.addTie(r)}if(!this._effectEndSlur&&e.beat.isEffectSlurDestination&&e.beat.effectSlurOrigin){let r=this.onNotes.beamingHelper.direction,n=r===Pe.Up?e.beat.effectSlurOrigin.minNote:e.beat.effectSlurOrigin.maxNote,i=r===Pe.Up?e.beat.minNote:e.beat.maxNote;const s=new Sg(n,i,!0);this._effectEndSlur=s,this.addTie(s)}if(e.hasBend){if(!this._bend){const r=new Dle(e.beat);this._bend=r,r.renderer=this.renderer,this.addTie(r)}this._bend.addBends(e)}}}}class zs extends Er{constructor(e,r){super(e,r),this.simpleWhammyOverflow=0,this._firstLineY=0,this._startSpacing=!1,this.accidentalHelper=new qr(this)}getBeatDirection(e){return this.helpers.getBeamingHelperForBeat(e).direction}get lineOffset(){return(Er.LineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=e.tablatureFont.size/2+e.tablatureFont.size*.2;this.topPadding=r*this.scale,this.bottomPadding=r*this.scale,this.height=this.lineOffset*4+this.topPadding+this.bottomPadding,this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.lineOffset*4,r=(this.bar.staff.standardNotationLineCount-1)*this.lineOffset;this._firstLineY=(e-r)/2}doLayout(){if(this.updateFirstLineY(),super.doLayout(),!this.bar.isEmpty&&this.accidentalHelper.maxLineBeat){let e=this.getScoreY(-2),r=this.getScoreY(6),n=this.simpleWhammyOverflow;this.registerOverflowTop(n);let i=this.getScoreY(this.accidentalHelper.maxLine),s=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.maxLineBeat);s.direction===Pe.Up&&(i-=this.getStemSize(s),i-=s.fingeringCount*this.resources.graceFont.size,s.hasTuplet&&(i-=this.resources.effectFont.size*2)),s.hasTuplet&&(i-=this.resources.effectFont.size*1.5),i<e&&this.registerOverflowTop(Math.abs(i)+n);let a=this.getScoreY(this.accidentalHelper.minLine),o=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.minLineBeat);o.direction===Pe.Down&&(a+=this.getStemSize(o),a+=o.fingeringCount*this.resources.graceFont.size),a>r&&this.registerOverflowBottom(Math.abs(a)-r)}}paint(e,r,n){super.paint(e,r,n),this.paintBeams(e,r,n),this.paintTuplets(e,r,n)}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let c=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,c)}}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1?this.paintFlag(e,r,n,i):this.paintBar(e,r,n,i))}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=et.Center,n.textBaseline=bt.Middle;let l,c=i.beats[0].tupletNumerator,u=i.beats[0].tupletDenominator;c===2&&u===3?l="2":c===3&&u===2?l="3":c===4&&u===6?l="4":c===5&&u===4?l="5":c===6&&u===4?l="6":c===7&&u===4?l="7":c===9&&u===8?l="9":c===10&&u===8?l="10":c===11&&u===8?l="11":c===12&&u===8?l="12":c===13&&u===8?l="13":l=c+":"+u;let d=10*this.scale,h=5*this.scale;if(i.beats.length===1||!i.isFull)for(let p=0,f=i.beats.length;p<f;p++){let m=i.beats[p],g=this.helpers.beamHelperLookup[i.voice.index].get(m.index);if(!g)continue;let y=g.direction,b=g.getBeatLineX(m),v=this.calculateBeamYWithDirection(g,b,y);y===Pe.Down&&(d*=-1,h*=-1),n.font=s.effectFont,n.fillText(l,e+this.x+b,r+this.y+v-d-h)}else{let p=i.beats[0],f=i.beats[i.beats.length-1],m=null,g=null;for(let K=0;K<i.beats.length;K++)if(!i.beats[K].isRest){m=i.beats[K];break}for(let K=i.beats.length-1;K>=0;K--)if(!i.beats[K].isRest){g=i.beats[K];break}let y=!1;m||(m=p,y=!0),g||(g=f);let b=this.helpers.beamHelperLookup[i.voice.index].get(p.index),v=this.helpers.beamHelperLookup[i.voice.index].get(f.index),k=b.getBeatLineX(p),C=v.getBeatLineX(f),S=this.helpers.beamHelperLookup[i.voice.index].get(m.index),_=this.helpers.beamHelperLookup[i.voice.index].get(g.index),B=b.direction,D=this.calculateBeamYWithDirection(S,k,B),E=this.calculateBeamYWithDirection(_,C,B);y&&(D=Math.max(D,E),E=D),n.font=s.effectFont;let R=n.measureText(l),O=3*this.scale,L=(k+C)/2,I=L-R/2-O,N=L+R/2+O,F=(E-D)/(C-k),A=D-F*k,M=F*I+A,V=F*L+A,W=F*N+A;B===Pe.Down&&(d*=-1,h*=-1),n.beginPath(),n.moveTo(e+this.x+k,r+this.y+D-d|0),n.lineTo(e+this.x+k,r+this.y+D-d-h|0),n.lineTo(e+this.x+I,r+this.y+M-d-h|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+N,r+this.y+W-d-h|0),n.lineTo(e+this.x+C,r+this.y+E-d-h|0),n.lineTo(e+this.x+C,r+this.y+E-d|0),n.stroke(),n.fillText(l,e+this.x+L,r+this.y+V-d-h)}n.textAlign=a,n.textBaseline=o}getStemSize(e){let r=e.beats.length===1?this.getFlagStemSize(e.shortestDuration):this.getBarStemSize(e.shortestDuration);return e.isGrace&&(r=r*wt.GraceScale),r}getBarStemSize(e){let r=0;switch(e){case H.QuadrupleWhole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:r=6;break;case H.ThirtySecond:r=8;break;case H.SixtyFourth:r=9;break;case H.OneHundredTwentyEighth:r=9;break;case H.TwoHundredFiftySixth:r=10;break;default:r=0;break}return this.getScoreHeight(r)}getFlagStemSize(e){let r=0;switch(e){case H.QuadrupleWhole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:case H.ThirtySecond:case H.SixtyFourth:case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:r=6;break;default:r=0;break}return this.getScoreHeight(r)}get middleYPosition(){return this.getScoreY(this.bar.staff.standardNotationLineCount-1)}getNoteY(e,r){let n=super.getNoteY(e,r);if(isNaN(n)){const i=qr.computeLineWithoutAccidentals(this.bar,e);n=this.getScoreY(i)}return n}calculateBeamY(e,r){return this.calculateBeamYWithDirection(e,r,e.direction)}applyLayoutingInfo(){const e=super.applyLayoutingInfo();if(e&&this.bar.isMultiVoice){let r=this.getScoreY(-2),n=this.getScoreY(6),i=this.helpers.collisionHelper.getBeatMinMaxY();i[0]<r&&this.registerOverflowTop(Math.abs(i[0])),i[1]>n&&this.registerOverflowBottom(Math.abs(i[1])-n)}return e}calculateBeamYWithDirection(e,r,n){let i=this.getStemSize(e);if(!e.drawingInfos.has(n)){let s=new tle;e.drawingInfos.set(n,s);const a=e.beats[0],o=e.beats[e.beats.length-1];let l=e.isRestBeamHelper;s.startBeat=a,s.startX=e.getBeatLineX(a),l?s.startY=n===Pe.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.startY=n===Pe.Up?this.getScoreY(this.accidentalHelper.getMinLine(a))-i:this.getScoreY(this.accidentalHelper.getMaxLine(a))+i,s.endBeat=o,s.endX=e.getBeatLineX(o),l?s.endY=n===Pe.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.endY=n===Pe.Up?this.getScoreY(this.accidentalHelper.getMinLine(o))-i:this.getScoreY(this.accidentalHelper.getMaxLine(o))+i;let c=10*this.scale;if(n===Pe.Down&&s.startY>s.endY&&s.startY-s.endY>c&&(s.endY=s.startY-c),n===Pe.Down&&s.endY>s.startY&&s.endY-s.startY>c&&(s.startY=s.endY-c),n===Pe.Up&&s.startY<s.endY&&s.endY-s.startY>c&&(s.endY=s.startY+c),n===Pe.Up&&s.endY<s.startY&&s.startY-s.endY>c&&(s.startY=s.endY+c),e.beats.length>1){if(n===Pe.Up){let u=this.getScoreY(this.accidentalHelper.getMinLine(e.beatOfHighestNote))-i;const h=s.calcY(e.getBeatLineX(e.beatOfHighestNote))-u;h>0&&(s.startY-=h,s.endY-=h)}else{let u=this.getScoreY(this.accidentalHelper.getMaxLine(e.beatOfLowestNote))+i;const d=s.calcY(e.getBeatLineX(e.beatOfLowestNote)),h=u-d;h>0&&(s.startY+=h,s.endY+=h)}if(e.minRestLine!==null||e.maxRestLine!==null){const u=or.getIndex(e.shortestDuration)-2;let d=e.isGrace?wt.GraceScale:1,h=u*(Er.BeamSpacing+Er.BeamThickness)*this.scale*d;if(h+=Er.BeamSpacing,n===Pe.Up&&e.minRestLine!==null){let p=this.getScoreY(e.minRestLine)-h;const m=s.calcY(e.getBeatLineX(e.beatOfMinRestLine))-p;m>0&&(s.startY-=m,s.endY-=m)}else if(n===Pe.Down&&e.maxRestLine!==null){let p=this.getScoreY(e.maxRestLine)+h;const f=s.calcY(e.getBeatLineX(e.beatOfMaxRestLine)),m=p-f;m>0&&(s.startY+=m,s.endY+=m)}}}}return e.drawingInfos.get(n).calcY(r)}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s],c=o.graceType!==tt.None?wt.GraceScale:1,u=i.getBeatLineX(o),d=i.direction,h=r+this.y;h+=d===Pe.Up?this.getScoreY(this.accidentalHelper.getMaxLine(o)):this.getScoreY(this.accidentalHelper.getMinLine(o));let p=r+this.y;p+=this.calculateBeamY(i,u),n.lineWidth=Er.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+u,h),n.lineTo(e+this.x+u,p),n.stroke(),n.lineWidth=this.scale;let f=p;d===Pe.Down?f+=n.font.size*2:s!==0&&(f-=n.font.size*1.5),this.paintFingering(n,o,e+this.x+u,d,f);let m=6*this.scale*c,g=(Er.BeamSpacing+Er.BeamThickness)*this.scale*c,y=Er.BeamThickness*this.scale*c,b=or.getIndex(o.duration)-2,v=r+this.y;d===Pe.Down&&(g=-g,y=-y);for(let k=0;k<b;k++){let C=0,S=0,_=0,B=0,D=v+k*g;if(s<i.beats.length-1){if(qi.isFullBarJoin(o,i.beats[s+1],k))C=u,S=i.getBeatLineX(i.beats[s+1]);else if(s===0||!qi.isFullBarJoin(i.beats[s-1],o,k))C=u,S=C+m;else continue;_=D+this.calculateBeamY(i,C),B=D+this.calculateBeamY(i,S),zs.paintSingleBar(n,e+this.x+C,_,e+this.x+S,B,y)}else s>0&&!qi.isFullBarJoin(o,i.beats[s-1],k)&&(C=u-m,S=u,_=D+this.calculateBeamY(i,C),B=D+this.calculateBeamY(i,S),zs.paintSingleBar(n,e+this.x+C,_,e+this.x+S,B,y))}}}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s+a),e.lineTo(r,n+a),e.closePath(),e.fill()}paintFlag(e,r,n,i){let s=i.beats[0];if(s.graceType===tt.BendGrace||s.graceType!==tt.None&&this.settings.notation.notationMode===bn.SongBook)return;let a=s.graceType!==tt.None,o=a?wt.GraceScale:1,l=this.getFlagStemSize(i.shortestDuration),c=i.getBeatLineX(s),u=i.direction,d=this.getScoreY(this.accidentalHelper.getMinLine(s)),h=this.getScoreY(this.accidentalHelper.getMaxLine(s)),p=0,f=0;if(u===Pe.Down?(h+=l*o,p=h,f=r+this.y+h):(d-=l*o,p=d,f=r+this.y+d),this.paintFingering(n,s,e+this.x+c,u,f),!!i.hasLine){if(n.lineWidth=Er.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+c,r+this.y+d),n.lineTo(e+this.x+c,r+this.y+h),n.stroke(),n.lineWidth=this.scale,s.graceType===tt.BeforeBeat){let m=15*this.scale,g=12*this.scale;n.beginPath(),u===Pe.Down?(n.moveTo(e+this.x+c-g/2,r+this.y+h-m),n.lineTo(e+this.x+c+g/2,r+this.y+h)):(n.moveTo(e+this.x+c-g/2,r+this.y+d+m),n.lineTo(e+this.x+c+g/2,r+this.y+d)),n.stroke()}if(i.hasFlag){let m=new fh(c-this.scale/2,p,s.duration,u,a);m.renderer=this,m.doLayout(),m.paint(e+this.x,r+this.y,n)}}}paintFingering(e,r,n,i,s){let a=this.settings;if(a.notation.fingeringMode!==za.ScoreDefault&&a.notation.fingeringMode!==za.ScoreForcePiano)return;i===Pe.Up?n-=10*this.scale:n+=3*this.scale;let o=r.notes.slice(0);o.sort((l,c)=>l.realValue-c.realValue);for(let l=0;l<o.length;l++){let c=o[l],u=null;c.leftHandFinger!==ct.Unknown?u=or.fingerToString(a,r,c.leftHandFinger,!0):c.rightHandFinger!==ct.Unknown&&(u=or.fingerToString(a,r,c.rightHandFinger,!1)),u&&(e.fillText(u,n,s),s-=e.font.size|0)}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new a5(0,0,1.5,3)),this.isFirstOfLine||this.bar.clef!==this.bar.previousBar.clef||this.bar.clefOttava!==this.bar.previousBar.clefOttava){let e=0;switch(this.bar.clef){case ut.Neutral:e=this.bar.staff.standardNotationLineCount-1;break;case ut.F4:e=2;break;case ut.C3:e=4;break;case ut.C4:e=2;break;case ut.G2:e=6;break}this.createStartSpacing(),this.addPreBeatGlyph(new _T(0,this.getScoreY(e)+.5*Er.StaffLineThickness,this.bar.clef,this.bar.clefOttava))}(this.index===0&&this.bar.masterBar.keySignature!==hn.C||this.bar.previousBar&&this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new r5(0,this.getScoreHeight(-.5),this.bar.index+1))}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(r)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new i5(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new s5(0,this.getScoreHeight(-.5),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new n5(0,0))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Ei(0,0,2*this.scale)),this._startSpacing=!0)}createKeySignatureGlyphs(){let e=0,r=this.bar.masterBar.keySignature,n=this.bar.previousBar?this.bar.previousBar.masterBar.keySignature:0;switch(this.bar.clef){case ut.Neutral:e=0;break;case ut.G2:e=1;break;case ut.F4:e=3;break;case ut.C3:e=2;break;case ut.C4:e=0;break}let i=new Map,s=[];if(or.keySignatureIsSharp(r))for(let l=0;l<Math.abs(r);l++){let c=zs.SharpKsSteps[l]+e;s.push(new Hl(0,this.getScoreY(c),Xt.Sharp,!1)),i.set(c,!0)}else for(let l=0;l<Math.abs(r);l++){let c=zs.FlatKsSteps[l]+e;s.push(new Hl(0,this.getScoreY(c),Xt.Flat,!1)),i.set(c,!0)}let a=Math.abs(n),o=or.keySignatureIsSharp(n)?zs.SharpKsSteps:zs.FlatKsSteps;for(let l=0;l<a;l++){let c=o[l]+e;i.has(c)||this.addPreBeatGlyph(new Hl(0,this.getScoreY(o[l]+e),Xt.Natural,!1))}for(let l of s)this.addPreBeatGlyph(l)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Ei(0,0,5*this.scale));const e=this.bar.staff.standardNotationLineCount-1;this.addPreBeatGlyph(new Rle(0,this.getScoreY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Lle(i,this.getVoiceContainer(e));s.preNotes=new Ele,s.onNotes=new Nle,this.addBeatGlyph(s)}}getNoteLine(e){return this.accidentalHelper.getNoteLine(e)}getScoreY(e){return this._firstLineY+this.lineOffset+this.getScoreHeight(e)}getScoreHeight(e){return this.lineOffset/2*e}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;for(let s=0;s<this.bar.staff.standardNotationLineCount;s++){const a=r+this.y+this.getScoreY(s*2);n.fillRect(e+this.x,a|0,this.width,this.scale*Er.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}completeBeamingHelper(e){if(this.bar.isMultiVoice&&e.highestNoteInHelper&&e.lowestNoteInHelper){let r=this.getNoteY(e.highestNoteInHelper,Xe.Center),n=this.getNoteY(e.lowestNoteInHelper,Xe.Center),i=this.getStemSize(e);e.hasTuplet&&(i+=this.resources.effectFont.size*2),e.direction==Pe.Up?r-=i:n+=i;for(const s of e.beats)this.helpers.collisionHelper.reserveBeatSlot(s,r,n)}}}zs.StaffId="score";zs.SharpKsSteps=[-1,2,-2,1,4,0,3];zs.FlatKsSteps=[3,0,4,1,5,2,6];class eE extends ST{get staffId(){return zs.StaffId}create(e,r){return new zs(e,r)}constructor(){super()}}class Fle extends jr{constructor(e,r,n,i){super(0,0),this._inType=e,this._outType=r,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.paintSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,c=0,u=0;switch(this._inType){case Pn.IntoFromBelow:c=e+i.x+i.getNoteX(this._startNote,Wr.Left),u=r+i.y+i.getNoteY(this._startNote,Xe.Center),o=c-s,l=r+i.y+i.getNoteY(this._startNote,Xe.Center)+a;break;case Pn.IntoFromAbove:c=e+i.x+i.getNoteX(this._startNote,Wr.Left),u=r+i.y+i.getNoteY(this._startNote,Xe.Center),o=c-s,l=r+i.y+i.getNoteY(this._startNote,Xe.Center)-a;break;default:return}this.paintSlideLine(n,!1,o,c,l,u)}paintSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,c=0,u=0,d=!1;const h=2*this.scale;switch(this._outType){case pt.Shift:case pt.Legato:if(o=e+i.x+i.getBeatX(this._startNote.beat,Tt.PostNotes),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),this._startNote.slideTarget){let p=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!p||p.staff!==i.staff?(c=e+i.x+i.width,u=l):(c=e+p.x+p.getBeatX(this._startNote.slideTarget.beat,Tt.OnNotes)-h,u=r+p.y+p.getNoteY(this._startNote.slideTarget,Xe.Center)),this._startNote.slideTarget.fret>this._startNote.fret?(l+=a,u-=a):(l-=a,u+=a)}else c=e+i.x+this._parent.x,u=l;break;case pt.OutUp:o=e+i.x+i.getNoteX(this._startNote,Wr.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=o+s-h,u=r+i.y+i.getNoteY(this._startNote,Xe.Center)-a;break;case pt.OutDown:o=e+i.x+i.getNoteX(this._startNote,Wr.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=o+s-h,u=r+i.y+i.getNoteY(this._startNote,Xe.Center)+a;break;case pt.PickSlideDown:o=e+i.x+i.getNoteX(this._startNote,Wr.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=e+i.x+i.getBeatX(this._startNote.beat,Tt.EndBeat),u=l+a*3,d=!0;break;case pt.PickSlideUp:o=e+i.x+i.getNoteX(this._startNote,Wr.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=e+i.x+i.getBeatX(this._startNote.beat,Tt.EndBeat),u=l-a*3,d=!0;break;default:return}this.paintSlideLine(n,d,o,c,l,u)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new ou(0,0,$t.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,c=a-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));o.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(n,s,d),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Ul extends Tn{constructor(e,r,n=!1){super(e.beat,r.beat,n),this.startNote=e,this.endNote=r}getTieHeight(e,r,n,i){return this.startNote===this.endNote?15:super.getTieHeight(e,r,n,i)}getBeamDirection(e,r){return this.startNote===this.endNote?Pe.Up:Ul.getBeamDirectionForNote(this.startNote)}static getBeamDirectionForNote(e){return e.string>3?Pe.Up:Pe.Down}getStartY(){return this.startNote===this.endNote?this.startNoteRenderer.getNoteY(this.startNote,Xe.Center):this.tieDirection===Pe.Up?this.startNoteRenderer.getNoteY(this.startNote,Xe.Top):this.startNoteRenderer.getNoteY(this.startNote,Xe.Bottom)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,Wr.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,Wr.Left):this.endNoteRenderer.getNoteX(this.endNote,Wr.Center)}}class tE extends Ul{constructor(e,r,n,i=!1){super(e,r,i),this._direction=Ul.getBeamDirectionForNote(e),this._forSlide=n}getTieHeight(e,r,n,i){return Math.log(n-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,r,n,i){if(this._forSlide!==n||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==r.beat.id||this._direction!==Ul.getBeamDirectionForNote(e))return!1;switch(this._direction){case Pe.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue>this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break;case Pe.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue<this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break}return!0}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),a="tab.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,o=this.renderer;o.staff.getSharedLayoutData(a,!1)||(o.staff.setSharedLayoutData(a,!0),super.paint(e,r,n))}}class Ale extends Ea{constructor(e,r){super(e,r),this._bend=null,this._effectSlurs=[]}doLayout(){this._effectSlurs=[],super.doLayout(),this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(!e.isVisible)return;let r=this.renderer;if(e.isTieOrigin&&r.showTiedNotes&&e.tieDestination.isVisible){let n=new Ul(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination&&r.showTiedNotes){let n=new Ul(e.tieOrigin,e,!0);this.addTie(n)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let n=new Ul(e,e,!1);this.addTie(n)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e,e.effectSlurDestination,!1,!1)){n=!0;break}if(!n){let i=new tE(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(i),this.addTie(i)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e.effectSlurOrigin,e,!1,!0)){n=!0;break}if(!n){let i=new tE(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(i),this.addTie(i)}}if(e.slideInType!==Pn.None||e.slideOutType!==pt.None){let n=new Fle(e.slideInType,e.slideOutType,e,this);this.addTie(n)}if(e.hasBend){if(!this._bend){const n=new Vs;this._bend=n,n.renderer=this.renderer,this.addTie(n)}this._bend.addBends(e)}}}class Ole extends jr{constructor(e,r,n){super(e,r),this._noteString=null,this._trillNoteString=null,this._trillNoteStringWidth=0,this.isEmpty=!1,this.noteStringWidth=0,this._note=n}doLayout(){let e=this._note,r=e.fret-e.beat.voice.bar.staff.transpositionPitch;if(e.harmonicType===Qe.Natural&&e.harmonicValue!==0&&(r=e.harmonicValue-e.beat.voice.bar.staff.transpositionPitch),e.isTieDestination)e.beat.index===0&&this.renderer.settings.notation.notationMode==bn.GuitarPro||(e.bendType===Ue.Bend||e.bendType===Ue.BendRelease)&&this.renderer.settings.notation.isNotationElementVisible(it.TabNotesOnTiedBends)?this._noteString="("+(e.tieOrigin.fret-e.beat.voice.bar.staff.transpositionPitch).toString()+")":this._noteString="";else if(this._noteString=e.isDead?"x":r.toString(),e.isGhost)this._noteString="("+this._noteString+")";else if(e.harmonicType===Qe.Natural){let n=this._noteString.indexOf(".");n>=0&&(this._noteString=this._noteString.substr(0,n+2)),this._noteString="<"+this._noteString+">"}if(e.isTrill)this._trillNoteString="("+(e.trillFret-e.beat.voice.bar.staff.transpositionPitch).toString()+")";else if(or.isAlmostEqualTo(e.harmonicValue,0))this._trillNoteString="";else switch(e.harmonicType){case Qe.Artificial:case Qe.Pinch:case Qe.Tap:case Qe.Semi:case Qe.Feedback:let n=(r+e.harmonicValue).toString(),i=n.indexOf(".");i>=0&&(n=n.substr(0,i+2)),this._trillNoteString="<"+n+">";break;default:this._trillNoteString="";break}this.isEmpty=!this._noteString,this.isEmpty||(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.tablatureFont,this.noteStringWidth=this.renderer.scoreRenderer.canvas.measureText(this._noteString)*this.scale,this.width=this.noteStringWidth,this.height=this.renderer.scoreRenderer.canvas.font.size,this._trillNoteString&&(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,this._trillNoteStringWidth=3*this.scale+this.renderer.scoreRenderer.canvas.measureText(this._trillNoteString),this.width+=this._trillNoteStringWidth))}paint(e,r,n){if(this.isEmpty)return;let i=this.noteStringWidth+this._trillNoteStringWidth,s=e+this.x+(this.width-i)/2,a=this.renderer.scoreRenderer.canvas.font;this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,n.fillText(this._trillNoteString,s+this.noteStringWidth+3*this.scale,r+this.y),this.renderer.scoreRenderer.canvas.font=a,n.fillText(this._noteString,s,r+this.y)}buildBoundingsLookup(e,r,n){let i=new vT;i.note=this._note,i.noteHeadBounds=new Ni,i.noteHeadBounds.x=r+this.x,i.noteHeadBounds.y=n+this.y-this.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}class $le extends jr{constructor(e,r,n){super(e,r),this._notes=[],this.minStringNote=null,this.beatEffects=new Map,this.notesPerString=new Map,this.noteStringWidth=0,this._isGrace=n}buildBoundingsLookup(e,r,n){for(const i of this._notes)i.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteX(e,r){if(this.notesPerString.has(e.string)){let n=this.notesPerString.get(e.string),i=this.x+n.x;switch(r){case Wr.Left:break;case Wr.Center:i+=n.noteStringWidth/2;break;case Wr.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this.notesPerString.has(e.string)){const n=this.notesPerString.get(e.string);let i=this.y+n.y;switch(r){case Xe.Top:case Xe.TopWithStem:i-=n.height/2+2*this.scale;break;case Xe.Center:break;case Xe.Bottom:case Xe.BottomWithStem:i+=n.height/2;break}return i}return 0}doLayout(){let e=0,r=0;for(let a=0,o=this._notes.length;a<o;a++){let l=this._notes[a];l.renderer=this.renderer,l.doLayout(),l.width>e&&(e=l.width),l.noteStringWidth>r&&(r=l.noteStringWidth)}this.noteStringWidth=r;let n=this.renderer.resources.tablatureFont.size,i=this.getNoteY(this.minStringNote,Xe.Center)+n/2,s=7*this.scale;for(const a of this.beatEffects.values())a.y+=i,a.x+=this.width/2,a.renderer=this.renderer,i+=s,a.doLayout();this.width=e}addNoteGlyph(e,r){this._notes.push(e),this.notesPerString.set(r.string,e),(!this.minStringNote||r.string<this.minStringNote.string)&&(this.minStringNote=r)}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer.resources,s=n.textBaseline;n.textBaseline=bt.Middle,n.font=this._isGrace?i.graceFont:i.tablatureFont;let a=this._notes,o=this.width;for(let l of a)l.renderer=this.renderer,l.width=o,l.paint(e,r,n);n.textBaseline=s;for(const l of this.beatEffects.values())l.paint(e,r,n)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class Vle extends Hr{constructor(e,r,n,i){super(e,r,1,Gd.getSymbol(i)),this._isVisibleRest=n,this._duration=i}doLayout(){this._isVisibleRest?this.width=Gd.getSize(this._duration)*this.scale:this.width=10*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}paint(e,r,n){this._isVisibleRest&&super.paint(e,r,n)}}class zle extends kT{constructor(){super(...arguments),this.noteNumbers=null,this.restGlyph=null}getNoteX(e,r){return this.noteNumbers?this.noteNumbers.getNoteX(e,r):0}getNoteY(e,r){return this.noteNumbers?this.noteNumbers.getNoteY(e,r):0}buildBoundingsLookup(e,r,n){this.noteNumbers&&this.noteNumbers.buildBoundingsLookup(e,r+this.x,n+this.y)}doLayout(){let e=this.renderer;if(this.container.beat.isRest){let n=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),i=e.getTabY(n);const s=new Vle(0,i,e.showRests,this.container.beat.duration);if(this.restGlyph=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s),this.container.beat.dots>0&&e.showRests){this.addGlyph(new Ei(0,0,5*this.scale));for(let a=0;a<this.container.beat.dots;a++)this.addGlyph(new _1(0,i,1.5*this.scale))}}else{let n=this.renderer.settings.notation.smallGraceTabNotes&&this.container.beat.graceType!==tt.None;const i=new $le(0,0,n);this.noteNumbers=i,i.beat=this.container.beat,i.beamingHelper=this.beamingHelper;for(let s of this.container.beat.notes)s.isVisible&&this.createNoteGlyph(s);if(this.addGlyph(i),this.container.beat.hasWhammyBar){let s=new ds(this.container.beat);s.renderer=this.renderer,s.doLayout(),this.container.ties.push(s)}if(this.container.beat.isTremolo&&!this.noteNumbers.beatEffects.has("tremolo")){let s=0,a=this.container.beat.tremoloSpeed;switch(a){case H.ThirtySecond:s=10;break;case H.Sixteenth:s=5;break;case H.Eighth:s=0;break}this.noteNumbers.beatEffects.set("tremolo",new _v(5*this.scale,s*this.scale,a))}if(this.container.beat.dots>0&&e.settings.notation.rhythmMode!==Lo.Hidden){this.addGlyph(new Ei(0,0,5*this.scale));for(let s=0;s<this.container.beat.dots;s++)this.addGlyph(new _1(0,e.lineOffset*e.bar.staff.tuning.length+e.settings.notation.rhythmHeight*e.scale,1.5*this.scale))}}if(!this.glyphs)return;let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r,this.computedWidth=r,this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteNumbers.x+this.noteNumbers.noteStringWidth/2}updateBeamingHelper(){this.container.beat.isRest?this.restGlyph.updateBeamingHelper(this.container.x+this.x):this.noteNumbers.updateBeamingHelper(this.container.x+this.x)}createNoteGlyph(e){let r=this.renderer,n=new Ole(0,0,e),i=e.beat.voice.bar.staff.tuning.length-e.string;n.y=r.getTabY(i),n.renderer=this.renderer,n.doLayout(),this.noteNumbers.addNoteGlyph(n,e);let s=n.y-n.height/2,a=s+n.height;this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}}class Wle extends jr{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=10*this.scale}paint(e,r,n){let i=this.renderer,s=r+this.x+i.getNoteY(this._beat.maxStringNote,Xe.Top),a=r+this.y+i.getNoteY(this._beat.minStringNote,Xe.Bottom),o=e+this.x+this.width/2|0,l=8*this.scale;if(this._beat.brushType!==dr.None){if(this._beat.brushType===dr.BrushUp||this._beat.brushType===dr.BrushDown)n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke();else if(this._beat.brushType===dr.ArpeggioUp){let c=new ou(0,0,$t.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s,d=a-l;c.width=Math.abs(d-u),n.beginRotate(e+this.x+4*this.scale,d,-90),c.paint(0,-c.height/2,n),n.endRotate()}else if(this._beat.brushType===dr.ArpeggioDown){let c=new ou(0,0,$t.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s+l,d=a;c.width=Math.abs(d-u),n.beginRotate(e+this.x+4*this.scale,u,90),c.paint(0,-c.height/2,n),n.endRotate()}this._beat.brushType===dr.BrushUp||this._beat.brushType===dr.ArpeggioUp?(n.beginPath(),n.moveTo(o,a),n.lineTo(o+l/2,a-l),n.lineTo(o-l/2,a-l),n.closePath(),n.fill()):(n.beginPath(),n.moveTo(o,s),n.lineTo(o+l/2,s+l),n.lineTo(o-l/2,s+l),n.closePath(),n.fill())}}}class Hle extends Cv{doLayout(){this.container.beat.brushType!==dr.None&&!this.container.beat.isRest&&(this.addGlyph(new Wle(this.container.beat)),this.addGlyph(new Ei(0,0,4*this.scale))),super.doLayout()}constructor(){super()}}class Ule extends jr{constructor(e,r){super(e,r)}doLayout(){this.width=28*this.scale}paint(e,r,n){let i=this.renderer.bar.staff.tuning.length,s=i<=4?P.FourStringTabClef:P.SixStringTabClef,a=i<=4?i/4.5:i/6.5;n.fillMusicFontSymbol(e+this.x+5*this.scale,r+this.y,a*this.scale,s,!1)}}class Gle extends c5{get commonScale(){return 1}get numberScale(){return this.renderer.bar.staff.tuning.length<=4?wt.GraceScale:1}}class Ao extends Er{constructor(e,r){super(e,r),this._firstLineY=0,this._tupletSize=0,this.showTimeSignature=!1,this.showRests=!1,this.showTiedNotes=!1,this._startSpacing=!1}get lineOffset(){return(Ao.TabLineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale;this.topPadding=r,this.bottomPadding=r,this.height=this.lineOffset*(this.bar.staff.tuning.length-1)+r*2,this.settings.notation.rhythmMode!==Lo.Hidden&&(this.height+=this.settings.notation.rhythmHeight*this.settings.display.scale,this.bottomPadding+=this.settings.notation.rhythmHeight*this.settings.display.scale),this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.resources;this._firstLineY=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}doLayout(){if(this.updateFirstLineY(),super.doLayout(),this.settings.notation.rhythmMode!==Lo.Hidden){let e=!1;for(let r of this.bar.voices)if(this.hasVoiceContainer(r)&&this.getVoiceContainer(r).tupletGroups.length>0){e=!0;break}e&&(this._tupletSize=this.resources.effectFont.size*.8,this.registerOverflowBottom(this._tupletSize))}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new a5(0,0,1.5,3)),this.isFirstOfLine){let e=(this.bar.staff.tuning.length-1)/2;this.addPreBeatGlyph(new Ule(5*this.scale,this.getTabY(e)))}this.showTimeSignature&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new r5(0,this.getTabHeight(-.5),this.bar.index+1))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Ei(0,0,2*this.scale)),this._startSpacing=!0)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Ei(0,0,5*this.scale));const e=(this.bar.staff.tuning.length+1)/2-1;this.addPreBeatGlyph(new Gle(0,this.getTabY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Ale(i,this.getVoiceContainer(e));s.preNotes=new Hle,s.onNotes=new zle,this.addBeatGlyph(s)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new i5(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new s5(0,this.getTabY(-1),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new n5(0,0))}getTabY(e){return this._firstLineY+this.getTabHeight(e)}getTabHeight(e){return this.lineOffset*e}get middleYPosition(){return this.getTabY(this.bar.staff.tuning.length-1)}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;let s=this.scale,a=[];for(let o=0,l=this.bar.staff.tuning.length;o<l;o++)a.push([]);for(let o of this.bar.voices)if(this.hasVoiceContainer(o)){let l=this.getVoiceContainer(o);for(let c of l.beatGlyphs){let u=c.onNotes,d=u.noteNumbers;if(d)for(const[h,p]of d.notesPerString)p.isEmpty||a[this.bar.staff.tuning.length-h].push(new Float32Array([l.x+c.x+u.x+d.x,d.width+s]))}}for(let o of a)o.sort((l,c)=>l[0]>c[0]?1:l[0]<c[0]?-1:0);for(let o=0,l=this.bar.staff.tuning.length;o<l;o++){const c=this.getTabY(o);let u=0;for(let d of a[o])n.fillRect(e+this.x+u,r+this.y+c|0,d[0]-u,this.scale*Er.StaffLineThickness),u=d[0]+d[1];n.fillRect(e+this.x+u,r+this.y+c|0,this.width-u,this.scale*Er.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}paint(e,r,n){super.paint(e,r,n),this.settings.notation.rhythmMode!==Lo.Hidden&&(this.paintBeams(e,r,n),this.paintTuplets(e,r,n))}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let c=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,c)}}}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1||this.settings.notation.rhythmMode===Lo.ShowWithBeams?this.paintFooter(e,r,n,i):this.paintBar(e,r,n,i))}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s];if(i.hasBeatLineX(o)){let l=i.getBeatLineX(o),c=r+this.y,u=r+this.y+this.height-this._tupletSize,d=this.getOnNotesGlyphForBeat(o);!d.noteNumbers||o.duration===H.Half?c+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:c+=d.noteNumbers.getNoteY(d.noteNumbers.minStringNote,Xe.Bottom)+this.lineOffset/2,this.paintBeamingStem(o,r+this.y,e+this.x+l,c,u,n);let h=6*this.scale,p=-6*this.scale,f=3*this.scale,m=or.getIndex(o.duration)-2,g=u;for(let y=0;y<m;y++){let b=0,v=0,k=0,C=0,S=g+y*p;if(i.beats.length===1)b=l,v=l+h,k=S,C=S,Ao.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f);else if(s<i.beats.length-1){if(qi.isFullBarJoin(o,i.beats[s+1],y))b=l,v=i.getBeatLineX(i.beats[s+1]);else if(s===0||!qi.isFullBarJoin(i.beats[s-1],o,y))b=l,v=b+h;else continue;k=S,C=S,Ao.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f)}else s>0&&!qi.isFullBarJoin(o,i.beats[s-1],y)&&(b=l-h,v=l,k=S,C=S,Ao.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f))}}}}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=et.Center,n.textBaseline=bt.Middle;let l,c=i.beats[0].tupletNumerator,u=i.beats[0].tupletDenominator;if(c===2&&u===3?l="2":c===3&&u===2?l="3":c===4&&u===6?l="4":c===5&&u===4?l="5":c===6&&u===4?l="6":c===7&&u===4?l="7":c===9&&u===8?l="9":c===10&&u===8?l="10":c===11&&u===8?l="11":c===12&&u===8?l="12":c===13&&u===8?l="13":l=c+":"+u,i.beats.length===1||!i.isFull)for(let d=0,h=i.beats.length;d<h;d++){let p=i.beats[d],f=this.helpers.beamHelperLookup[i.voice.index].get(p.index);if(!f)continue;let m=f.getBeatLineX(p),g=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5;n.font=s.effectFont,n.fillText(l,e+this.x+m,g)}else{let d=i.beats[0],h=i.beats[i.beats.length-1],p=this.helpers.beamHelperLookup[i.voice.index].get(d.index),f=this.helpers.beamHelperLookup[i.voice.index].get(h.index);if(p&&f){let m=p.getBeatLineX(d),g=f.getBeatLineX(h);n.font=s.effectFont;let y=n.measureText(l),b=3*this.scale,v=(m+g)/2,k=v-y/2-b,C=v+y/2+b,S=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5,_=-s.effectFont.size*.25,B=-5*this.scale;n.beginPath(),n.moveTo(e+this.x+m,S-_|0),n.lineTo(e+this.x+m,S-_-B|0),n.lineTo(e+this.x+k,S-_-B|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+C,S-_-B|0),n.lineTo(e+this.x+g,S-_-B|0),n.lineTo(e+this.x+g,S-_|0),n.stroke(),n.fillText(l,e+this.x+v,S-_-B)}}n.textAlign=a,n.textBaseline=o}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s-a),e.lineTo(r,n-a),e.closePath(),e.fill()}paintBeamingStem(e,r,n,i,s,a){a.beginPath();let o=[];this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.has(e.displayStart)&&(o=this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.get(e.displayStart).slots.slice(),o.sort((c,u)=>c.topY-u.topY));let l=s;for(;l>i;){a.moveTo(n,l);let c=i;if(o.length>0&&o[o.length-1].bottomY>c){const u=o.pop();c=r+u.bottomY,a.lineTo(n,c),l=r+u.topY}else{a.lineTo(n,c);break}}a.stroke()}paintFooter(e,r,n,i){for(let s of i.beats){if(s.graceType!==tt.None||s.duration===H.Whole||s.duration===H.DoubleWhole||s.duration===H.QuadrupleWhole)return;let a=i.getBeatLineX(s),o=r+this.y,l=r+this.y+this.height-this._tupletSize,c=this.getOnNotesGlyphForBeat(s);if(!c.noteNumbers||s.duration===H.Half?o+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:o+=c.noteNumbers.getNoteY(c.noteNumbers.minStringNote,Xe.Bottom),this.paintBeamingStem(s,r+this.y,e+this.x+a,o,l,n),s.duration>H.Quarter){let u=new fh(0,0,s.duration,Pe.Down,!1);u.renderer=this,u.doLayout(),u.paint(e+this.x+a,l,n)}}}}Ao.StaffId="tab";Ao.TabLineSpacing=10;class mx extends ST{get staffId(){return Ao.StaffId}constructor(e,r,n){super(),this._showTimeSignature=e,this._showRests=r,this._showTiedNotes=n,this.hideOnPercussionTrack=!0}canCreate(e,r){return r.tuning.length>0&&super.canCreate(e,r)}create(e,r){let n=new Ao(e,r);return n.showRests=this._showRests,n.showTimeSignature=this._showTimeSignature,n.showTiedNotes=this._showTiedNotes,n}}class Dp extends Ha{constructor(){super(0,0)}doLayout(){super.doLayout();const e=this.renderer.resources.effectFont;this.height=e.size+Dp.Padding*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=et.Center,n.fillText("T",e+this.x,r+this.y+n.font.size/2),n.textAlign=s,n.strokeCircle(e+this.x,r+this.y+n.font.size/2+(Dp.Padding-1)*this.scale,n.font.size/1.6)}}Dp.Padding=4;class kg extends vu{get notationElement(){return it.EffectTap}get sizingMode(){return Ft.SingleOnBeat}shouldCreateGlyphForNote(e){return e.isLeftHandTapped}createNewGlyph(e,r){return new Dp}}class ll{constructor(){this.noteRange=1,this.x=0,this.y=0}}var Lc;(function(t){t[t.None=0]="None",t[t.Rectangle=1]="Rectangle",t[t.Ellipse=2]="Ellipse",t[t.Circle=3]="Circle"})(Lc||(Lc={}));class gx extends ll{constructor(){super(...arguments),this.align=et.Left,this.frame=Lc.None,this.text="",this.fontFace="",this.weight=0,this.height=0}}class rE extends ll{constructor(){super(...arguments),this.chord=new Kl}}class nE extends ll{}class iE extends ll{}class jle extends ll{constructor(){super(...arguments),this.number=0}}class sE extends ll{constructor(){super(...arguments),this.decrescendo=!1}}class yx extends ll{constructor(){super(...arguments),this.allNumbers=!1,this.firstNumber=0,this.lastNumber=0}}class Yle extends ll{constructor(){super(...arguments),this.octave=1}}class Xle extends ll{}class qle{constructor(){this.defaultClef=ut.G2,this.description="",this.percussion=!1,this.instrument=0,this.volume=0,this.transpose=0,this.index=0}}class Kle{constructor(){this.from=0,this.to=0,this.curly=!1}}class Qle{constructor(){this.currentBarIndex=-1,this.currentBarComplete=!0,this.currentBarDuration=0,this.currentPosition=0,this.voiceStemDir=null,this.repeatCount=0,this.repeatEnd=null}}class y0{constructor(){this._trackChannel=0,this._beamingMode=Ma.Auto,this._isFirstSystem=!0,this._staffLookup=new Map,this._brackets=[],this._staffLayoutLookup=new Map,this._staffLayouts=[],this._timeSignature=new Qo,this._voiceStates=new Map}parseXml(e,r){this._galleryObjects=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._voiceCounts=new Map,this._slurs=new Map,this._crescendo=new Map,this._isFirstSystem=!0;let n=new mT;try{n.parse(e)}catch(i){throw new nn("Could not parse XML",i)}this.parseDom(n),this.consolidate(),this.score.finish(r)}consolidate(){let e=this.score.tempo;for(const r of this.score.tracks){const n=this._voiceCounts.get(r.index);for(const i of r.staves){for(;i.bars.length<this.score.masterBars.length;)this.addNewBar(i);for(const s of i.bars){for(;s.voices.length<n;)s.addVoice(new vo);for(const o of s.voices)if(o.beats.length===0){const l=new jn;l.isEmpty=!0,o.addBeat(l)}const a=s.masterBar;a.tempoAutomation&&(a.tempoAutomation.value!==e?e=a.tempoAutomation.value:a.tempoAutomation=null)}}}y0.applyEffectRange(this._slurs,(r,n)=>{n.isLegatoOrigin=!0}),y0.applyEffectRange(this._crescendo,(r,n)=>{n.crescendo=r.decrescendo?Di.Decrescendo:Di.Crescendo})}static applyEffectRange(e,r){for(const[n,i]of e){const s=i.noteRange;let a=n;for(let o=0;o<s;o++)if(r(i,a),a.index+1<a.voice.beats.length)a=a.voice.beats[a.index+1];else if(a.voice.bar.index+1<a.voice.bar.staff.bars.length)a=a.voice.bar.staff.bars[a.voice.bar.index+1].voices[a.voice.index].beats[0];else break}}parseDom(e){let r=e.firstElement;if(!r)throw new nn("No valid XML");if(r.localName==="score"){this.score=new bu,this.score.tempo=120;for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"info":this.parseInfo(n);break;case"layout":this.parseLayout(n);break;case"gallery":this.parseGallery(n);break;case"pageObjects":this.parsePageObjects(n);break;case"systems":this.parseSystems(n);break}}else throw new nn('Root node of XML was not "score"')}parseLayout(e){for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"staves":this.parseLayoutStaves(s);break;case"brackets":this.parseBrackets(s);break}const r=this._brackets.filter(s=>!!s.curly);r.sort((s,a)=>s.from-a.from);let n=0,i=null;for(let s=0;s<this._staffLayouts.length;s++){const a=this._staffLayouts[s];for(;n<r.length&&s>r[n].to;)n++;i&&n<r.length&&s>r[n].from&&s<=r[n].to?i.ensureStaveCount(i.staves.length+1):(i=new bo,i.ensureStaveCount(1),i.name=a.description,i.playbackInfo.volume=Math.floor(a.volume/128*16),i.playbackInfo.program=a.instrument,a.percussion?(i.playbackInfo.primaryChannel=9,i.playbackInfo.secondaryChannel=9):(i.playbackInfo.primaryChannel=this._trackChannel++,i.playbackInfo.secondaryChannel=this._trackChannel++),this.score.addTrack(i));const o=i.staves[i.staves.length-1];o.isPercussion=a.percussion,o.transpositionPitch=a.transpose,o.displayTranspositionPitch=0,o.showTablature=!1,this._staffLookup.set(a.index,o)}}parseBrackets(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"bracket":this.parseBracket(r);break}}parseBracket(e){const r=new Kle;r.from=parseInt(e.getAttribute("from")),r.to=parseInt(e.getAttribute("to")),e.attributes.has("curly")&&(r.curly=e.attributes.get("curly")==="true"),this._brackets.push(r)}parseLayoutStaves(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"staffLayout":this.parseStaffLayout(r);break}}parseStaffLayout(e){const r=new qle;r.description=e.getAttribute("description");for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"notation":n.attributes.has("defaultClef")&&(r.defaultClef=this.parseClef(n.attributes.get("defaultClef")));break;case"sound":n.attributes.has("percussion")&&(r.percussion=n.attributes.get("percussion")==="true"),n.attributes.has("instr")&&(r.instrument=parseInt(n.attributes.get("instr"))),n.attributes.has("volume")&&(r.volume=parseInt(n.attributes.get("volume"))),n.attributes.has("transpose")&&(r.transpose=parseInt(n.attributes.get("transpose")));break}this._staffLayoutLookup.set(r.description,r),r.index=this._staffLayouts.length,this._staffLayouts.push(r)}parseClef(e){switch(e){case"treble":return ut.G2;case"bass":return ut.F4;case"alto":return ut.C4;case"tenor":return ut.C4}return ut.G2}parseClefOttava(e){return e.endsWith("-")?zt._8vb:e.endsWith("+")?zt._8va:zt.Regular}parseSystems(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"system":this.parseSystem(r);break}}parseSystem(e){e.attributes.has("tempo")&&this.score.masterBars.length===0&&(this.score.tempo=parseInt(e.attributes.get("tempo"))),e.getAttribute("beamGrouping")==="0"&&(this._beamingMode=Ma.ForceSplitToNext);for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"staves":this.parseStaves(e,r);break}this._isFirstSystem=!1}parseStaves(e,r){let n=this.score.masterBars.length;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"staff":this.parseStaff(e,n,i);break}}parseStaff(e,r,n){const i=n.getAttribute("layout");this._currentStaffLayout=this._staffLayoutLookup.get(i),this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!1,this.parseTime(n.getAttribute("defaultTime"));const s=this._staffLookup.get(this._currentStaffLayout.index);for(;s.bars.length<r;)this.addNewBar(s);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"voices":this.parseVoices(i,s,e,r,a);break}}parseTime(e){switch(e){case"allaBreve":case"C":this._timeSignature.timeSignatureNumerator=2,this._timeSignature.timeSignatureDenominator=2,this._timeSignature.timeSignatureCommon=!0;break;case"longAllaBreve":this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!0;break;default:if(e.indexOf("/")>0){const r=e.split("/");this._timeSignature.timeSignatureNumerator=parseInt(r[0]),this._timeSignature.timeSignatureDenominator=parseInt(r[1]),this._timeSignature.timeSignatureCommon=!1}break}}parseVoices(e,r,n,i,s){let a=0;for(let o of s.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"voice":this.parseVoice(e,r,n,a,i,o),a++;break}}getOrCreateBar(e,r){return r<e.bars.length?e.bars[r]:this.addNewBar(e)}addNewBar(e){let r=new sl;if(e.bars.length>0?(r.clef=e.bars[e.bars.length-1].clef,r.clefOttava=e.bars[e.bars.length-1].clefOttava):r.clef=this._currentStaffLayout.defaultClef,e.addBar(r),e.bars.length>this.score.masterBars.length){let n=new Qo;this.score.addMasterBar(n),n.index>0&&(n.keySignature=n.previousMasterBar.keySignature,n.keySignatureType=n.previousMasterBar.keySignatureType,n.tripletFeel=n.previousMasterBar.tripletFeel),n.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,n.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,n.timeSignatureCommon=this._timeSignature.timeSignatureCommon}return r}newBar(e,r){this._currentVoiceState.currentBarIndex++,this._currentBar=this.getOrCreateBar(e,this._currentVoiceState.currentBarIndex),this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1),this._currentVoiceState.currentBarComplete=!1,this._currentVoiceState.currentPosition=0,this.ensureVoice(e,r)}parseVoice(e,r,n,i,s,a){const o=e+"_"+i;if(this._currentVoiceState&&!this._currentVoiceState.currentBarComplete&&(this._currentBar.masterBar.isAnacrusis=!0),this._voiceStates.has(o)?(this._currentVoiceState=this._voiceStates.get(o),this._currentBar=this.getOrCreateBar(r,this._currentVoiceState.currentBarIndex),this.ensureVoice(r,i)):(this._currentVoiceState=new Qle,this._currentVoiceState.currentBarIndex=s-1,this._voiceStates.set(o,this._currentVoiceState),this.newBar(r,i)),a.attributes.has("stemDir"))switch(a.attributes.get("stemDir")){case"up":this._currentVoiceState.voiceStemDir=Pe.Up;break;case"down":this._currentVoiceState.voiceStemDir=Pe.Down;break;default:this._currentVoiceState.voiceStemDir=null;break}else this._currentVoiceState.voiceStemDir=null;const l=a.findChildElement("noteObjects");if(n.attributes.has("tempo")&&(this._currentBar.masterBar.tempoAutomation=new Un,this._currentBar.masterBar.tempoAutomation.isLinear=!0,this._currentBar.masterBar.tempoAutomation.type=vn.Tempo,this._currentBar.masterBar.tempoAutomation.value=parseInt(n.attributes.get("tempo"))),l){for(let c of l.childNodes)if(c.nodeType===be.Element)switch(this._currentVoiceState.currentBarComplete&&c.localName!=="barline"&&this.newBar(r,i),c.localName){case"clefSign":this._currentBar.clef=this.parseClef(c.getAttribute("clef")),this._currentBar.clefOttava=this.parseClefOttava(c.getAttribute("clef"));break;case"keySign":this._currentBar.masterBar.keySignature=parseInt(c.getAttribute("fifths"));break;case"timeSign":this.parseTime(c.getAttribute("time")),this._currentBar.masterBar.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,this._currentBar.masterBar.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,this._currentBar.masterBar.timeSignatureCommon=this._timeSignature.timeSignatureCommon,this._currentVoiceState.currentPosition=0,this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1);break;case"barline":switch(c.getAttribute("type")){case"double":this._currentBar.masterBar.isDoubleBar=!0,this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"end":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0);break;case"repEnd":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"repBegin":this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0,this._currentVoiceState.repeatEnd=null,this._currentVoiceState.repeatCount=0;break;case"repEndBegin":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0;break;case"dashed":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;default:this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break}break;case"chord":let u=new jn;this.initFromPreviousBeat(u,this._currentVoice),u.beamingMode=this._beamingMode,this._currentVoiceState.voiceStemDir&&(u.preferredBeamDirection=this._currentVoiceState.voiceStemDir),this.parseDuration(this._currentBar,u,c.findChildElement("duration")),u.updateDurations(),this._currentVoiceState.currentPosition+=u.playbackDuration,this._currentVoice.addBeat(u),this.parseChord(u,c),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0);break;case"rest":const d=this.parseRestDurations(this._currentBar,c.findChildElement("duration"));d&&(this.initFromPreviousBeat(d,this._currentVoice),d.updateDurations(),this._currentVoiceState.currentPosition+=d.playbackDuration,this._currentVoice.addBeat(d),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0));break}}}initFromPreviousBeat(e,r){let n=this.getLastBeat(r);n&&(e.dynamics=n.dynamics)}getLastBeat(e){if(e.beats.length>0)return e.beats[e.beats.length-1];if(e.bar.index>0){const r=e.bar.staff.bars[e.bar.index-1];if(e.index<r.voices.length){const n=r.voices[e.index];return this.getLastBeat(n)}}return null}ensureVoice(e,r){for(;this._currentBar.voices.length<r+1;)this._currentBar.addVoice(new vo);(!this._voiceCounts.has(e.track.index)||this._voiceCounts.get(e.track.index)<this._currentBar.voices.length)&&this._voiceCounts.set(e.track.index,this._currentBar.voices.length),this._currentVoice=this._currentBar.voices[r]}parseChord(e,r){const n=new Fr;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"stem":switch(i.getAttribute("dir")){case"up":e.preferredBeamDirection=Pe.Up;break;case"down":e.preferredBeamDirection=Pe.Down;break}break;case"articulation":switch(i.getAttribute("type")){case"staccato":n.isStaccato=!0;break;case"normalAccent":n.accentuated=sn.Normal;break;case"strongAccent":n.accentuated=sn.Heavy;break}break;case"lyric":this.parseLyric(e,i);break;case"drawObjects":this.parseBeatDrawObject(e,i);break;case"heads":this.parseHeads(e,n,i);break;case"beam":switch(i.getAttribute("group")){case"force":e.beamingMode=Ma.ForceMergeWithNext;break;case"divide":e.beamingMode=Ma.ForceSplitToNext;break}break}}parseHeads(e,r,n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"head":this.parseHead(e,r,i);break}}parseHead(e,r,n){const i=new Fr,s=or.parseTuning(n.getAttribute("pitch"));i.octave=s.octave-1,i.tone=s.noteValue,i.isStaccato=r.isStaccato,i.accentuated=r.accentuated,e.addNote(i);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"alter":a.attributes.has("step")&&(i.tone+=parseInt(a.attributes.get("step")));break;case"tie":a.attributes.has("begin")?this._tieStartIds.has(i.id)||(this._tieStartIds.set(i.id,!0),this._tieStarts.push(i)):a.attributes.has("end")&&this._tieStarts.length>0&&!i.isTieDestination&&(i.isTieDestination=!0,i.tieOrigin=this._tieStarts[0],this._tieStarts.splice(0,1),this._tieStartIds.delete(i.id));break}}parseBeatDrawObject(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"drawObj":const i=this.parseDrawObj(n);if(i){if(i instanceof gx)i.fontFace.startsWith("capella")?i.text==="u"?(e.fermata=new fT,e.fermata.type=Fa.Medium):i.text==="f"?e.dynamics=St.F:i.text==="j"&&(e.dynamics=St.MF):this._isFirstSystem&&this.score.title===""&&i.align===et.Center&&i.height>16&&i.weight>400?this.score.title=i.text:this._isFirstSystem&&this.score.artist===""&&i.align===et.Center&&i.y<0?this.score.artist=i.text:this._isFirstSystem&&this.score.music===""&&i.align===et.Right&&i.y<0?this.score.music=i.text:i.text.startsWith("by capella")||(e.text=i.text);else if(!(i instanceof rE))if(i instanceof iE)e.vibrato=$t.Slight;else if(i instanceof sE)e.crescendo=i.decrescendo?Di.Decrescendo:Di.Crescendo,i.noteRange++,this._crescendo.set(e,i);else if(i instanceof nE){const s=i;this._slurs.set(e,s)}else i instanceof yx&&this.applyVolta(i)}break}}parseBarDrawObject(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&n instanceof yx&&this.applyVolta(n);break}}applyVolta(e){if(e.lastNumber>0?(this._currentVoiceState.repeatCount=e.lastNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)):e.firstNumber>0&&(this._currentVoiceState.repeatCount=e.firstNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)),e.lastNumber>0&&e.firstNumber>0){let r=0;for(let n=e.firstNumber;n<=e.lastNumber;n++)r=r|1<<n-1;this._currentBar.masterBar.alternateEndings=r}else e.lastNumber>0?this._currentBar.masterBar.alternateEndings=1<<e.lastNumber-1:e.firstNumber>0&&(this._currentBar.masterBar.alternateEndings=1<<e.firstNumber-1)}parseLyric(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"verse":e.lyrics||(e.lyrics=[]);let i=n.innerText;n.getAttribute("hyphen")==="true"&&(i+="-"),e.lyrics.push(i);break}}parseRestDurations(e,r){const n=r.getAttribute("base");if(n.indexOf("/")!==-1){let s=new jn;return s.beamingMode=this._beamingMode,this.parseDuration(e,s,r),s}if(parseInt(n)===1){let s=new jn;return s.beamingMode=this._beamingMode,s.duration=H.Whole,s}else return ve.warning("Importer","Multi-Bar rests are not supported"),null}parseDurationValue(e){switch(e){case"2/1":return H.DoubleWhole;case"1/1":return H.Whole;case"1/2":return H.Half;case"1/4":return H.Quarter;case"1/8":return H.Eighth;case"1/16":return H.Sixteenth;case"1/32":return H.ThirtySecond;case"1/64":return H.SixtyFourth;case"1/128":return H.OneHundredTwentyEighth;default:return ve.warning("Importer","Unsupported duration"),H.Quarter}}parseDuration(e,r,n){const i=n.getAttribute("base");r.duration=this.parseDurationValue(i),n.attributes.has("dots")&&(r.dots=parseInt(n.attributes.get("dots")));const s=n.findChildElement("tuplet");if(s){r.tupletNumerator=parseInt(s.getAttribute("count"));const a=s.getAttribute("tripartite")==="true"?3:1,o=s.getAttribute("prolong")==="true"?0:1;let l=0;for(;a*Math.pow(2,l+o)<r.tupletNumerator;)l++;r.tupletDenominator=a*Math.pow(2,l)}}parsePageObjects(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);if(n&&n instanceof gx)switch(n.align){case et.Center:this.score.title?this.score.subTitle||(this.score.subTitle=r.innerText):this.score.title=r.innerText;break;case et.Right:this.score.artist||(this.score.artist=r.innerText);break}break}}parseGallery(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&this._galleryObjects.set(r.getAttribute("name"),n);break}}parseDrawObj(e){let r=null,n=1;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"text":r=this.parseText(i);break;case"guitar":r=this.parseGuitar(i);break;case"slur":r=this.parseSlur(i);break;case"wavyLine":r=this.parseWavyLine(i);break;case"bracket":r=this.parseTupletBracket(i);break;case"wedge":r=this.parseWedge(i);break;case"volta":r=this.parseVolta(i);break;case"octaveClef":r=this.parseOctaveClef(i);break;case"trill":r=this.parseTrill(i);break;case"basic":i.attributes.has("noteRange")&&(n=parseInt(i.attributes.get("noteRange")));break}return r&&(r.noteRange=n),r}parseTrill(e){return new Xle}parseOctaveClef(e){const r=new Yle;return e.attributes.has("octave")&&(r.octave=parseInt(e.attributes.get("octave"))),r}parseVolta(e){const r=new yx;return r.allNumbers=e.attributes.get("allNumbers")==="true",e.attributes.has("firstNumber")&&(r.firstNumber=parseInt(e.attributes.get("firstNumber"))),e.attributes.has("lastNumber")&&(r.lastNumber=parseInt(e.attributes.get("lastNumber"))),r}parseWedge(e){const r=new sE;return r.decrescendo=e.attributes.get("decrescendo")==="true",r}parseTupletBracket(e){const r=new jle;return e.attributes.has("number")&&(r.number=parseInt(e.attributes.get("number"))),r}parseWavyLine(e){return new iE}parseSlur(e){return new nE}parseGuitar(e){const r=new rE,n=e.innerText.trim();for(let i=0;i<n.length;i++)n.charAt(i)==="/"?r.chord.strings.push(0):r.chord.strings.push(parseInt(n.charAt(i)));return r}parseText(e){const r=new gx;switch(e.attributes.has("x")&&(r.x=parseFloat(e.attributes.get("x"))),e.attributes.has("x")&&(r.y=parseFloat(e.attributes.get("y"))),e.getAttribute("align")){case"left":r.align=et.Left;break;case"center":r.align=et.Center;break;case"right":r.align=et.Right;break}switch(e.getAttribute("frame")){case"rectangle":r.frame=Lc.Rectangle;break;case"ellipse":r.frame=Lc.Ellipse;break;case"circle":r.frame=Lc.Circle;break;case"none":r.frame=Lc.None;break}if(e.firstElement){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"font":r.fontFace=n.getAttribute("face"),n.attributes.has("weight")&&(r.weight=parseInt(n.attributes.get("weight"))),n.attributes.has("height")&&(r.height=parseInt(n.attributes.get("height")));break;case"content":r.text=n.innerText;break}}else r.text=e.innerText;return r}parseInfo(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"author":this.score.tab=r.firstChild.innerText;break;case"comment":this.score.notices=r.firstChild.innerText;break}}}class Jle extends dh{get name(){return"Capella"}constructor(){super()}readScore(){ve.debug(this.name,"Loading ZIP entries");let e=new BO(this.data),r,n=null;if(r=e.read(),ve.debug(this.name,"Zip entries loaded"),r.length>0)for(let i of r)switch(i.fileName){case"score.xml":n=ue.toString(i.data,this.settings.importer.encoding);break}else this.data.reset(),n=ue.toString(this.data.readAll(),this.settings.importer.encoding);if(!n)throw new nn("No valid capella file");ve.debug(this.name,"Start Parsing score.xml");try{let i=new y0;return i.parseXml(n,this.settings),ve.debug(this.name,"score.xml parsed"),i.score}catch(i){throw new nn("Failed to parse CapXML",i)}}}class Zle{constructor(e){this._targets=new Set,this._callback=e,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}observe(e){this._targets.add(e)}unobserve(e){this._targets.delete(e)}disconnect(){this._targets.clear()}onWindowResize(){const e=[];for(const r of this._targets)e.push({target:r,contentRect:void 0,borderBoxSize:void 0,contentBoxSize:[],devicePixelContentBoxSize:[]});this._callback(e,this)}}class ece{constructor(e){this._elements=[];let r=null;const n=this._check.bind(this);this._check=()=>{r||(r=setTimeout(()=>{n(),r=null},100))},this._callback=e,window.addEventListener("resize",this._check,!0),document.addEventListener("scroll",this._check,!0)}observe(e){this._elements.indexOf(e)>=0||(this._elements.push(e),this._check())}unobserve(e){this._elements=this._elements.filter(r=>r!=e)}_check(){const e=[];this._elements.forEach(r=>{const n=r.getBoundingClientRect();n.top+n.height>=0&&n.top<=window.innerHeight&&n.left+n.width>=0&&n.left<=window.innerWidth&&e.push({target:r,isIntersecting:!0})}),e.length&&this._callback(e,this)}}function aE(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var tce=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function oE(t){function e(n){t.error=t.hasError?new tce(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}class gr{static enable(e,r){gr.alphaSkia=r,gr.initializeMusicFont(gr.alphaSkia.AlphaSkiaTypeface.register(e))}static initializeMusicFont(e){gr.musicFont=e}static registerFont(e,r){const n=gr.alphaSkia.AlphaSkiaTypeface.register(e.buffer);r||(r=Ot.withFamilyList([n.familyName],12,n.isItalic?Rr.Italic:Rr.Plain,n.isBold?ji.Bold:ji.Regular));for(const i of r.families)this.customTypeFaces.set(gr.customTypefaceKey(i,r.isBold,r.isItalic),n);return r}static customTypefaceKey(e,r,n){return e.toLowerCase()+"_"+r+"_"+n}getTypeFace(){if(this._typeFaceCache!=this.font.toCssString(this.settings.display.scale)){if(this._typeFaceIsSystem){const r={stack:[],error:void 0,hasError:!1};try{const n=aE(r,this._typeFace,!1)}catch(n){r.error=n,r.hasError=!0}finally{oE(r)}}for(const r of this.font.families){var e=gr.customTypefaceKey(r,this.font.isBold,this.font.isItalic);gr.customTypeFaces.has(e)?(this._typeFaceIsSystem=!1,this._typeFace=gr.customTypeFaces.get(e)):(this._typeFaceIsSystem=!0,this._typeFace=gr.alphaSkia.AlphaSkiaTypeface.create(r,this.font.isBold,this.font.isItalic))}this._typeFaceCache=this.font.toCssString(this.settings.display.scale)}return this._typeFace}constructor(){this._color=new _r(0,0,0,0),this._lineWidth=0,this._typeFaceCache="",this._typeFaceIsSystem=!1,this._typeFace=null,this.font=new Ot("Arial",10,Rr.Plain),this.textAlign=et.Left,this.textBaseline=bt.Top,this._canvas=new gr.alphaSkia.AlphaSkiaCanvas,this.color=new _r(0,0,0,255)}destroy(){const e={stack:[],error:void 0,hasError:!1};try{const r=aE(e,this._canvas,!1)}catch(r){e.error=r,e.hasError=!0}finally{oE(e)}}onRenderFinished(){return null}beginRender(e,r){this._canvas.beginRender(e,r,Ne.HighDpiFactor)}endRender(){return this._canvas.endRender()}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._canvas.color=gr.alphaSkia.AlphaSkiaCanvas.rgbaToColor(e.r,e.g,e.b,e.a))}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._canvas.lineWidth=e}fillRect(e,r,n,i){n>0&&this._canvas.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._canvas.strokeRect(e|0,r|0,n,i)}beginPath(){this._canvas.beginPath()}closePath(){this._canvas.closePath()}moveTo(e,r){this._canvas.moveTo(e,r)}lineTo(e,r){this._canvas.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._canvas.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._canvas.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._canvas.fillCircle(e,r,n)}strokeCircle(e,r,n){this._canvas.strokeCircle(e,r,n)}fill(){this._canvas.fill()}stroke(){this._canvas.stroke()}beginGroup(e){}endGroup(){}fillText(e,r,n){if(e.length==0)return;let i=gr.alphaSkia.AlphaSkiaTextAlign.Left;switch(this.textAlign){case et.Left:i=gr.alphaSkia.AlphaSkiaTextAlign.Left;break;case et.Center:i=gr.alphaSkia.AlphaSkiaTextAlign.Center;break;case et.Right:i=gr.alphaSkia.AlphaSkiaTextAlign.Right;break}let s=gr.alphaSkia.AlphaSkiaTextBaseline.Top;switch(this.textBaseline){case bt.Top:s=gr.alphaSkia.AlphaSkiaTextBaseline.Top;break;case bt.Middle:s=gr.alphaSkia.AlphaSkiaTextBaseline.Middle;break;case bt.Bottom:s=gr.alphaSkia.AlphaSkiaTextBaseline.Bottom;break}this._canvas.fillText(e,this.getTypeFace(),this.font.size*this.settings.display.scale,r,n,i,s)}measureText(e){return this._canvas.measureText(e,this.getTypeFace(),this.font.size*this.settings.display.scale)}fillMusicFontSymbol(e,r,n,i,s){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==P.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this._canvas.fillText(i,gr.musicFont,Ne.MusicFontSize*this.settings.display.scale*n,e,r,s?gr.alphaSkia.AlphaSkiaTextAlign.Center:gr.alphaSkia.AlphaSkiaTextAlign.Left,gr.alphaSkia.AlphaSkiaTextBaseline.Alphabetic)}beginRotate(e,r,n){this._canvas.beginRotate(e,r,n)}endRotate(){this._canvas.endRotate()}}gr.musicFont=null;gr.customTypeFaces=new Map;class lE{constructor(e,r){this.vertical=e,this.createLayout=r}}class bx{constructor(e,r){this.supportsWorkers=e,this.createCanvas=r}}class Ne{static createStyleElement(e,r){let n=e.getElementById("alphaTabStyle");if(!n){if(!r){ve.error("AlphaTab","Font directory could not be detected, cannot create style element");return}n=e.createElement("style"),n.id="alphaTabStyle";let i=`
            @font-face {
                font-family: 'alphaTab';
                 src: url('${r}Bravura.eot');
                 src: url('${r}Bravura.eot?#iefix') format('embedded-opentype')
                      , url('${r}Bravura.woff') format('woff')
                      , url('${r}Bravura.otf') format('opentype')
                      , url('${r}Bravura.svg#Bravura') format('svg');
                 font-weight: normal;
                 font-style: normal;
            }
            .at-surface * {
                cursor: default;
                vertical-align: top;
                overflow: visible;
            }
            .at-surface-svg text {
                dominant-baseline: central;
            }             
            .at {
                 font-family: 'alphaTab';
                 speak: none;
                 font-style: normal;
                 font-weight: normal;
                 font-variant: normal;
                 text-transform: none;
                 line-height: 1;
                 line-height: 1;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
                 font-size: ${Ne.MusicFontSize}px;
                 overflow: visible !important;
            }`;n.innerHTML=i,e.getElementsByTagName("head").item(0).appendChild(n),Ne.bravuraFontChecker.checkForFontAvailability()}}static get globalThis(){if(Ne._globalThis===void 0){try{Ne._globalThis=globalThis}catch{}typeof Ne._globalThis>"u"&&(Ne._globalThis=self),typeof Ne._globalThis>"u"&&(Ne._globalThis=global),typeof Ne._globalThis>"u"&&(Ne._globalThis=window),typeof Ne._globalThis>"u"&&(Ne._globalThis=Function("return this")())}return this._globalThis}static get isRunningInWorker(){return"WorkerGlobalScope"in Ne.globalThis}static get isRunningInAudioWorklet(){return"AudioWorkletGlobalScope"in Ne.globalThis}static throttle(e,r){let n=0;return()=>{Ne.globalThis.clearTimeout(n),n=Ne.globalThis.setTimeout(e,r)}}static detectScriptFile(){if(!Ne.isRunningInWorker&&Ne.globalThis.ALPHATAB_ROOT){let e=Ne.globalThis.ALPHATAB_ROOT;return e=Ne.ensureFullUrl(e),e=Ne.appendScriptName(e),e}try{const e=import.meta.url;if(e&&e.indexOf("file://")===-1)return e}catch{}return"document"in Ne.globalThis&&document.currentScript?document.currentScript.src:null}static ensureFullUrl(e){var r,n,i;if(!e)return"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("file")){let s="",a=Ne.globalThis.location;if(s+=(r=a.protocol)==null?void 0:r.toString(),s+="//",a.hostname&&(s+=(n=a.hostname)==null?void 0:n.toString()),a.port&&(s+=":",s+=(i=a.port)==null?void 0:i.toString()),!e.startsWith("/")){let o=a.pathname.split("/").slice(0,-1).join("/");o.length>0&&(o.startsWith("/")||(s+="/"),s+=o==null?void 0:o.toString())}return e.startsWith("/")||(s+="/"),s+=e==null?void 0:e.toString(),s}return e}static appendScriptName(e){return e&&!e.endsWith(".js")&&(e.endsWith("/")||(e+="/"),e+="alphaTab.js"),e}static detectFontDirectory(){if(!Ne.isRunningInWorker&&Ne.globalThis.ALPHATAB_FONT)return Ne.ensureFullUrl(Ne.globalThis.ALPHATAB_FONT);const e=Ne.scriptFile;if(e){let r=e.lastIndexOf("/");if(r>=0)return e.substr(0,r)+"/font/"}return null}static registerJQueryPlugin(){if(!Ne.isRunningInWorker&&Ne.globalThis&&"jQuery"in Ne.globalThis){let e=Ne.globalThis.jQuery,r=new zM;e.fn.alphaTab=function(n){const i=Array.prototype.slice.call(arguments,1);return this.length===1?r.exec(this[0],n,i):this.each((s,a)=>{r.exec(a,n,i)})},e.alphaTab={restore:zM.restore},e.fn.alphaTab.fn=r}}static getRenderEngineFactory(e){return!e||!Ne.renderEngines.has(e)?Ne.renderEngines.get("default"):Ne.renderEngines.get(e)}static getLayoutEngineFactory(e){return!e||!Ne.layoutEngines.has(e)?Ne.layoutEngines.get(Wo.Page):Ne.layoutEngines.get(e)}static buildImporters(){return[new Za,new woe,new boe,new xoe,new Jle,new oi]}static createDefaultRenderEngines(){const e=new Map;return e.set("svg",new bx(!0,()=>new Joe)),e.set("default",e.get("svg")),e.set("skia",new bx(!1,()=>new gr)),Ne.createPlatformSpecificRenderEngines(e),e}static enableAlphaSkia(e,r){gr.enable(e,r)}static registerAlphaSkiaCustomFont(e,r){return gr.registerFont(e,r)}static createPlatformSpecificRenderEngines(e){e.set("html5",new bx(!1,()=>new Ioe))}static createDefaultStaveProfiles(){const e=new Map;e.set(Gi.ScoreTab,[new yl("score-effects",[new hx,new px,new lx,new fx,new ix,new ax,new qM,new vg,new gg(!0),new wg,new yg,new xg,new bg,new kg,new nx]),new eE,new yl("tab-effects",[new GM,new gg(!1),new jM,new mg,new vg,new wg,new yg,new xg,new bg,new XM,new sx,new os(Qe.Natural),new os(Qe.Artificial),new os(Qe.Pinch),new os(Qe.Tap),new os(Qe.Semi),new os(Qe.Feedback),new ox,new UM,new YM,new cx,new dx,new ux,new kg]),new mx(!1,!1,!1)]),e.set(Gi.Score,[new yl("score-effects",[new hx,new px,new lx,new fx,new ix,new ax,new qM,new vg,new gg(!0),new wg,new yg,new xg,new bg,new sx,new ox,new cx,new dx,new ux,new kg,new nx]),new eE,new yl("score-bottom-effects",[new GM,new gg(!1),new jM,new mg])]);let r=[new hx,new px,new lx,new fx,new ix,new ax,new vg,new wg,new yg,new xg,new bg,new XM,new sx,new os(Qe.Artificial),new os(Qe.Pinch),new os(Qe.Tap),new os(Qe.Semi),new os(Qe.Feedback),new ox,new UM,new YM,new cx,new dx,new ux,new kg,new nx];return e.set(Gi.Tab,[new yl("tab-effects",r),new mx(!0,!0,!0),new yl("tab-bottom-effects",[new mg])]),e.set(Gi.TabMixed,[new yl("tab-effects",r),new mx(!1,!1,!1),new yl("tab-bottom-effects",[new mg])]),e}static createDefaultLayoutEngines(){const e=new Map;return e.set(Wo.Page,new lE(!0,r=>new km(r))),e.set(Wo.Horizontal,new lE(!1,r=>new Sm(r))),e}static initializeMain(e,r){Ne.isRunningInWorker||Ne.isRunningInAudioWorklet||((Ne.webPlatform===ps.Browser||Ne.webPlatform===ps.BrowserModule)&&(Ne.registerJQueryPlugin(),Ne.HighDpiFactor=window.devicePixelRatio,"ResizeObserver"in Ne.globalThis||(Ne.globalThis.ResizeObserver=Zle),"IntersectionObserver"in Ne.globalThis||(Ne.globalThis.IntersectionObserver=ece),"replaceChildren"in Element.prototype||(Element.prototype.replaceChildren=function(...n){this.innerHTML="",this.append(...n)},Document.prototype.replaceChildren=Element.prototype.replaceChildren,DocumentFragment.prototype.replaceChildren=Element.prototype.replaceChildren),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(n,i){return this.replace(new RegExp(n,"g"),i)})),Ne.createWebWorker=e,Ne.createAudioWorklet=r)}static get alphaTabWorker(){return this.globalThis.Worker}static initializeWorker(){if(!Ne.isRunningInWorker)throw new Nn(Bn.General,"Not running in worker, cannot run worker initialization");wT.init(),bT.init(),Ne.createWebWorker=e=>{throw new Nn(Bn.General,"Nested workers are not supported")}}static initializeAudioWorklet(){if(!Ne.isRunningInAudioWorklet)throw new Nn(Bn.General,"Not running in audio worklet, cannot run worklet initialization");Bp.init()}static detectWebPack(){try{if(typeof __webpack_require__=="function")return!0}catch{}return!1}static detectVite(){try{if(typeof __BASE__=="string")return!0}catch{}return!1}static detectWebPlatform(){try{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return ps.NodeJs}catch{}try{const e=import.meta.url;if(e&&typeof e=="string"&&!e.startsWith("file://"))return ps.BrowserModule}catch{}return ps.Browser}}Ne.MusicFontSize=34;Ne.HighDpiFactor=1;Ne._globalThis=void 0;Ne.webPlatform=Ne.detectWebPlatform();Ne.isWebPackBundled=Ne.detectWebPack();Ne.isViteBundled=Ne.detectVite();Ne.scriptFile=Ne.detectScriptFile();Ne.fontDirectory=Ne.detectFontDirectory();Ne.bravuraFontChecker=new QO(["alphaTab"]);Ne.renderEngines=Ne.createDefaultRenderEngines();Ne.layoutEngines=Ne.createDefaultLayoutEngines();Ne.staveProfiles=Ne.createDefaultStaveProfiles();class u5{constructor(){this.scriptFile=null,this.fontDirectory=null,this.file=null,this.tex=!1,this.tracks=null,this.enableLazyLoading=!0,this.engine="default",this.logLevel=Pa.Info,this.useWorkers=!0,this.includeNoteBounds=!1,this.scriptFile=Ne.scriptFile,this.fontDirectory=Ne.fontDirectory}}var xe;(function(t){t[t.SteelGuitar=1]="SteelGuitar",t[t.AcousticGuitar=2]="AcousticGuitar",t[t.TwelveStringGuitar=3]="TwelveStringGuitar",t[t.ElectricGuitar=4]="ElectricGuitar",t[t.Bass=5]="Bass",t[t.ClassicalGuitar=23]="ClassicalGuitar",t[t.UprightBass=6]="UprightBass",t[t.Ukulele=7]="Ukulele",t[t.Banjo=8]="Banjo",t[t.Mandolin=9]="Mandolin",t[t.Piano=10]="Piano",t[t.Synth=12]="Synth",t[t.Strings=11]="Strings",t[t.Brass=13]="Brass",t[t.Reed=14]="Reed",t[t.Woodwind=15]="Woodwind",t[t.Vocal=16]="Vocal",t[t.PitchedIdiophone=17]="PitchedIdiophone",t[t.Fx=21]="Fx",t[t.PercussionKit=18]="PercussionKit",t[t.Idiophone=19]="Idiophone",t[t.Membraphone=20]="Membraphone"})(xe||(xe={}));class Ce{constructor(e,r,n=null){if(this.icon=xe.Piano,this.icon=e,this.instrumentSetName=r,n)this.instrumentSetType=n;else{const i=r.split(" ");i[0]=i[0].substr(0,1).toLowerCase()+i[0].substr(1),this.instrumentSetType=i.join("")}}}new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Harpsichord"),new Ce(xe.Piano,"Harpsichord"),new Ce(xe.PitchedIdiophone,"Celesta"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.ClassicalGuitar,"Nylon Guitar"),new Ce(xe.SteelGuitar,"Steel Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.Bass,"Acoustic Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Acoustic Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Synth,"Synth Bass"),new Ce(xe.Synth,"Synth Bass"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Viola"),new Ce(xe.Strings,"Cello"),new Ce(xe.Strings,"Contrabass"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Piano,"Harp"),new Ce(xe.Membraphone,"Timpani"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trombone"),new Ce(xe.Brass,"Tuba"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"French Horn"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Oboe"),new Ce(xe.Reed,"English Horn"),new Ce(xe.Reed,"Bassoon"),new Ce(xe.Reed,"Clarinet"),new Ce(xe.Reed,"Piccolo"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Trumpet"),new Ce(xe.ElectricGuitar,"Banjo"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.Ukulele,"Ukulele"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.Reed,"Bassoon"),new Ce(xe.Strings,"Violin"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.Idiophone,"Celesta"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.Idiophone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Idiophone,"Celesta"),new Ce(xe.Fx,"Steel Guitar"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Timpani");new Ce(xe.PercussionKit,"Drums","drumKit");class jc{static buildCrc32Lookup(){const r=new Uint32Array(256);for(let n=0;n<r.length;n++){let i=n;for(let s=0;s<8;s++)i=(i&1)===1?i>>>1^3988292384:i>>>1;r[n]=i}return r}get value(){return~this._checkValue}constructor(){this._checkValue=jc.CrcInit,this.reset()}update(e,r,n){for(let i=0;i<n;i++)this._checkValue=jc.Crc32Lookup[(this._checkValue^e[r+i])&255]^this._checkValue>>>8}reset(){this._checkValue=jc.CrcInit}}jc.Crc32Lookup=jc.buildCrc32Lookup();jc.CrcInit=4294967295;class Dr{}Dr.MAX_WBITS=15;Dr.WSIZE=1<<Dr.MAX_WBITS;Dr.WMASK=Dr.WSIZE-1;Dr.MIN_MATCH=3;Dr.MAX_MATCH=258;Dr.DEFAULT_MEM_LEVEL=8;Dr.PENDING_BUF_SIZE=1<<Dr.DEFAULT_MEM_LEVEL+8;Dr.HASH_BITS=Dr.DEFAULT_MEM_LEVEL+7;Dr.HASH_SIZE=1<<Dr.HASH_BITS;Dr.HASH_SHIFT=(Dr.HASH_BITS+Dr.MIN_MATCH-1)/Dr.MIN_MATCH;Dr.HASH_MASK=Dr.HASH_SIZE-1;Dr.MIN_LOOKAHEAD=Dr.MAX_MATCH+Dr.MIN_MATCH+1;Dr.MAX_DIST=Dr.WSIZE-Dr.MIN_LOOKAHEAD;class hs{constructor(e,r,n,i){this.length=null,this.numCodes=0,this.codes=null,this.huffman=e,this.minNumCodes=n,this.maxLength=i,this.freqs=new Int16Array(r),this.bitLengthCounts=new Int32Array(i)}reset(){for(let e=0;e<this.freqs.length;e++)this.freqs[e]=0;this.codes=null,this.length=null}buildTree(){let e=this.freqs.length,r=new Int32Array(e),n=0,i=0;for(let c=0;c<e;c++){let u=this.freqs[c];if(u!==0){let d=n++;for(;d>0;){let h=Math.floor((d-1)/2);if(this.freqs[r[h]]>u)r[d]=r[h],d=h;else break}r[d]=c,i=c}}for(;n<2;){let c=i<2?++i:0;r[n++]=c}this.numCodes=Math.max(i+1,this.minNumCodes);let s=n,a=new Int32Array(4*n-2),o=new Int32Array(2*n-1),l=s;for(let c=0;c<n;c++){let u=r[c];a[2*c]=u,a[2*c+1]=-1,o[c]=this.freqs[u]<<8,r[c]=c}do{let c=r[0],u=r[--n],d=0,h=1;for(;h<n;)h+1<n&&o[r[h]]>o[r[h+1]]&&h++,r[d]=r[h],d=h,h=h*2+1;let p=o[u];for(;h=d,d>0;)if(d=Math.floor((h-1)/2),o[r[d]]>p)r[h]=r[d];else break;r[h]=u;let f=r[0];u=l++,a[2*u]=c,a[2*u+1]=f;let m=Math.min(o[c]&255,o[f]&255);for(p=o[c]+o[f]-m+1,o[u]=p,d=0,h=1;h<n;)h+1<n&&o[r[h]]>o[r[h+1]]&&h++,r[d]=r[h],d=h,h=d*2+1;for(;h=d,h>0;)if(d=Math.floor((h-1)/2),o[r[d]]>p)r[h]=r[d];else break;r[h]=u}while(n>1);this.buildLength(a)}buildLength(e){this.length=new Uint8Array(this.freqs.length);let r=Math.floor(e.length/2),n=Math.floor((r+1)/2),i=0;for(let l=0;l<this.maxLength;l++)this.bitLengthCounts[l]=0;let s=new Int32Array(r);s[r-1]=0;for(let l=r-1;l>=0;l--)if(e[2*l+1]!=-1){let c=s[l]+1;c>this.maxLength&&(c=this.maxLength,i++),s[e[2*l]]=c,s[e[2*l+1]]=c}else{let c=s[l];this.bitLengthCounts[c-1]++,this.length[e[2*l]]=s[l]}if(i==0)return;let a=this.maxLength-1;do{for(;this.bitLengthCounts[--a]==0;);do this.bitLengthCounts[a]--,this.bitLengthCounts[++a]++,i-=1<<this.maxLength-1-a;while(i>0&&a<this.maxLength-1)}while(i>0);this.bitLengthCounts[this.maxLength-1]+=i,this.bitLengthCounts[this.maxLength-2]-=i;let o=2*n;for(let l=this.maxLength;l!=0;l--){let c=this.bitLengthCounts[l-1];for(;c>0;){let u=2*e[o++];e[u+1]==-1&&(this.length[e[u]]=l,c--)}}}getEncodedLength(){let e=0;for(let r=0;r<this.freqs.length;r++)e+=this.freqs[r]*this.length[r];return e}calcBLFreq(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.freqs[o]++,i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););i<n?e.freqs[s]+=i:s!=0?e.freqs[hs.Repeat3To6]++:i<=10?e.freqs[hs.Repeat3To10]++:e.freqs[hs.Repeat11To138]++}}setStaticCodes(e,r){this.codes=e,this.length=r}buildCodes(){let e=new Int32Array(this.maxLength),r=0;this.codes=new Int16Array(this.freqs.length);for(let n=0;n<this.maxLength;n++)e[n]=r,r+=this.bitLengthCounts[n]<<15-n;for(let n=0;n<this.numCodes;n++){let i=this.length[n];i>0&&(this.codes[n]=rt.bitReverse(e[i-1]),e[i-1]+=1<<16-i)}}writeTree(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.writeSymbol(o),i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););if(i<n)for(;i-- >0;)e.writeSymbol(s);else s!=0?(e.writeSymbol(hs.Repeat3To6),this.huffman.pending.writeBits(i-3,2)):i<=10?(e.writeSymbol(hs.Repeat3To10),this.huffman.pending.writeBits(i-3,3)):(e.writeSymbol(hs.Repeat11To138),this.huffman.pending.writeBits(i-11,7))}}writeSymbol(e){this.huffman.pending.writeBits(this.codes[e]&65535,this.length[e])}}hs.Repeat3To6=16;hs.Repeat3To10=17;hs.Repeat11To138=18;class rt{static staticInit(){let e=0;for(;e<144;)rt.staticLCodes[e]=rt.bitReverse(48+e<<8),rt.staticLLength[e++]=8;for(;e<256;)rt.staticLCodes[e]=rt.bitReverse(256+e<<7),rt.staticLLength[e++]=9;for(;e<280;)rt.staticLCodes[e]=rt.bitReverse(-256+e<<9),rt.staticLLength[e++]=7;for(;e<rt.LITERAL_NUM;)rt.staticLCodes[e]=rt.bitReverse(-88+e<<8),rt.staticLLength[e++]=8;for(e=0;e<rt.DIST_NUM;e++)rt.staticDCodes[e]=rt.bitReverse(e<<11),rt.staticDLength[e]=5}static bitReverse(e){return rt.bit4Reverse[e&15]<<12|rt.bit4Reverse[e>>4&15]<<8|rt.bit4Reverse[e>>8&15]<<4|rt.bit4Reverse[e>>12]}constructor(e){this.last_lit=0,this.extra_bits=0,this.pending=e,this.literalTree=new hs(this,rt.LITERAL_NUM,257,15),this.distTree=new hs(this,rt.DIST_NUM,1,15),this.blTree=new hs(this,rt.BITLEN_NUM,4,7),this.d_buf=new Int16Array(rt.BUFSIZE),this.l_buf=new Uint8Array(rt.BUFSIZE)}isFull(){return this.last_lit>=rt.BUFSIZE}reset(){this.last_lit=0,this.extra_bits=0,this.literalTree.reset(),this.distTree.reset(),this.blTree.reset()}flushStoredBlock(e,r,n,i){this.pending.writeBits((rt.STORED_BLOCK<<1)+(i?1:0),3),this.pending.alignToByte(),this.pending.writeShort(n),this.pending.writeShort(~n),this.pending.writeBlock(e,r,n),this.reset()}flushBlock(e,r,n,i){this.literalTree.freqs[rt.EOF_SYMBOL]++,this.literalTree.buildTree(),this.distTree.buildTree(),this.literalTree.calcBLFreq(this.blTree),this.distTree.calcBLFreq(this.blTree),this.blTree.buildTree();let s=4;for(let l=18;l>s;l--)this.blTree.length[rt.BL_ORDER[l]]>0&&(s=l+1);let a=14+s*3+this.blTree.getEncodedLength()+this.literalTree.getEncodedLength()+this.distTree.getEncodedLength()+this.extra_bits,o=this.extra_bits;for(let l=0;l<rt.LITERAL_NUM;l++)o+=this.literalTree.freqs[l]*rt.staticLLength[l];for(let l=0;l<rt.DIST_NUM;l++)o+=this.distTree.freqs[l]*rt.staticDLength[l];a>=o&&(a=o),r>=0&&n+4<a>>3?this.flushStoredBlock(e,r,n,i):a==o?(this.pending.writeBits((rt.STATIC_TREES<<1)+(i?1:0),3),this.literalTree.setStaticCodes(rt.staticLCodes,rt.staticLLength),this.distTree.setStaticCodes(rt.staticDCodes,rt.staticDLength),this.compressBlock(),this.reset()):(this.pending.writeBits((rt.DYN_TREES<<1)+(i?1:0),3),this.sendAllTrees(s),this.compressBlock(),this.reset())}sendAllTrees(e){this.blTree.buildCodes(),this.literalTree.buildCodes(),this.distTree.buildCodes(),this.pending.writeBits(this.literalTree.numCodes-257,5),this.pending.writeBits(this.distTree.numCodes-1,5),this.pending.writeBits(e-4,4);for(let r=0;r<e;r++)this.pending.writeBits(this.blTree.length[rt.BL_ORDER[r]],3);this.literalTree.writeTree(this.blTree),this.distTree.writeTree(this.blTree)}compressBlock(){for(let e=0;e<this.last_lit;e++){let r=this.l_buf[e]&255,n=this.d_buf[e];if(n--!=0){let i=rt.Lcode(r);this.literalTree.writeSymbol(i);let s=Math.floor((i-261)/4);s>0&&s<=5&&this.pending.writeBits(r&(1<<s)-1,s);let a=rt.Dcode(n);this.distTree.writeSymbol(a),s=Math.floor(a/2)-1,s>0&&this.pending.writeBits(n&(1<<s)-1,s)}else this.literalTree.writeSymbol(r)}this.literalTree.writeSymbol(rt.EOF_SYMBOL)}tallyDist(e,r){this.d_buf[this.last_lit]=e,this.l_buf[this.last_lit++]=r-3;let n=rt.Lcode(r-3);this.literalTree.freqs[n]++,n>=265&&n<285&&(this.extra_bits+=Math.floor((n-261)/4));let i=rt.Dcode(e-1);return this.distTree.freqs[i]++,i>=4&&(this.extra_bits+=Math.floor(i/2)-1),this.isFull()}tallyLit(e){return this.d_buf[this.last_lit]=0,this.l_buf[this.last_lit++]=e,this.literalTree.freqs[e]++,this.isFull()}static Lcode(e){if(e==255)return 285;let r=257;for(;e>=8;)r+=4,e=e>>1;return r+e}static Dcode(e){let r=0;for(;e>=4;)r+=2,e=e>>1;return r+e}}rt.BUFSIZE=1<<Dr.DEFAULT_MEM_LEVEL+6;rt.LITERAL_NUM=286;rt.STORED_BLOCK=0;rt.STATIC_TREES=1;rt.DYN_TREES=2;rt.DIST_NUM=30;rt.staticLCodes=new Int16Array(rt.LITERAL_NUM);rt.staticLLength=new Uint8Array(rt.LITERAL_NUM);rt.staticDCodes=new Int16Array(rt.DIST_NUM);rt.staticDLength=new Uint8Array(rt.DIST_NUM);rt.BL_ORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];rt.bit4Reverse=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]);rt.BITLEN_NUM=19;rt.EOF_SYMBOL=256;rt.staticInit();Ne.isRunningInWorker?Ne.initializeWorker():Ne.isRunningInAudioWorklet?Ne.initializeAudioWorklet():Ne.initializeMain(t=>{if(Ne.webPlatform==ps.NodeJs)throw new Nn(Bn.General,"Workers not yet supported in Node.js");if(Ne.webPlatform==ps.BrowserModule||Ne.isWebPackBundled||Ne.isViteBundled)return ve.debug("AlphaTab","Creating webworker"),new Ne.alphaTabWorker(new URL(new URL("/sandbox/assets/alphaTab.worker-CLdxKs-e.js",import.meta.url),import.meta.url),{type:"module"});if(!t.core.scriptFile)throw new Nn(Bn.General,"Could not detect alphaTab script file, cannot initialize renderer");try{ve.debug("AlphaTab","Creating Blob worker");const e=`importScripts('${t.core.scriptFile}')`,r=new Blob([e]);return new Worker(URL.createObjectURL(r))}catch{return ve.warning("Rendering","Could not create inline worker, fallback to normal worker"),new Worker(t.core.scriptFile)}},(t,e)=>{if(Ne.webPlatform==ps.NodeJs)throw new Nn(Bn.General,"Audio Worklets not yet supported in Node.js");return Ne.webPlatform==ps.BrowserModule||Ne.isWebPackBundled||Ne.isViteBundled?(ve.debug("AlphaTab","Creating Module worklet"),t.audioWorklet.addModule(new URL(new URL("/sandbox/assets/alphaTab.worklet-DYZhGsI-.js",import.meta.url),import.meta.url))):(ve.debug("AlphaTab","Creating Script worklet"),t.audioWorklet.addModule(e.core.scriptFile))});const d5=24,h5=0;var b0;(t=>{function e(r){switch(r){case 1:return lt("E");case 2:return lt("B");case 3:return lt("G");case 4:return lt("D");case 5:return lt("A");case 6:return lt("E")}}t.firstNote=e})(b0||(b0={}));const Cg={toTex(t){return`${t.fret}.${t.string}`},onString(t,e){let r=yr.toNoteNumber(e),n=r-yr.toNoteNumber(b0.firstNote(t));const i=[];for(;n<=d5;)n>=h5&&i.push(n),r+=tr.halfSteps(tr.octave),n=r-yr.toNoteNumber(b0.firstNote(t));return i.map(s=>({string:t,fret:s}))}};function de(t,e){return{string:t,fret:e}}const rce={generate(t,e,r=gt.Root){switch(t){case 6:switch(e){case vr.Maj7:switch(r){case gt.Root:return[de(6,0),de(4,1),de(3,1),de(2,0)];case gt.First:return[de(6,0),de(4,-2),de(3,0),de(2,0)];case gt.Second:return[de(6,0),de(5,0),de(4,-1),de(3,1)];case gt.Third:return[de(6,0),de(5,0),de(4,-2),de(3,-2)]}case vr.Dom7:switch(r){case gt.Root:return[de(6,0),de(4,0),de(3,1),de(2,0)];case gt.First:return[de(6,0),de(4,-2),de(3,0),de(2,-1)];case gt.Second:return[de(6,0),de(4,-1),de(3,0),de(2,-2)];case gt.Third:return[de(6,0),de(4,-1),de(3,-1),de(2,-1)]}case vr.Min7:switch(r){case gt.Root:return[de(6,0),de(4,0),de(3,0),de(2,0)];case gt.First:return[de(6,0),de(4,-1),de(3,1),de(2,0)];case gt.Second:return[de(6,0),de(4,-2),de(3,0),de(2,-2)];case gt.Third:return[de(6,0),de(4,-1),de(3,-1),de(2,-2)]}case vr.Half:switch(r){case gt.Root:return[de(6,0),de(4,0),de(3,0),de(2,-1)];case gt.First:return[de(6,0),de(4,-1),de(3,0),de(2,0)];case gt.Second:return[de(6,0),de(4,-1),de(3,1),de(2,-1)];case gt.Third:return[de(6,0),de(4,-2),de(3,-1),de(2,-2)]}case vr.Full:switch(r){case gt.Root:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case gt.First:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case gt.Second:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case gt.Third:return[de(6,0),de(4,-1),de(3,0),de(2,-1)]}}case 5:switch(e){case vr.Maj7:switch(r){case gt.Root:return[de(5,0),de(4,2),de(3,1),de(2,2)];case gt.First:return[de(5,0),de(4,2),de(3,-2),de(2,1)];case gt.Second:return[de(5,0),de(4,0),de(3,-1),de(2,2)];case gt.Third:return[de(5,0),de(4,0),de(3,-2),de(2,-1)]}case vr.Dom7:switch(r){case gt.Root:return[de(5,0),de(4,2),de(3,0),de(2,2)];case gt.First:return[de(5,0),de(4,1),de(3,-2),de(2,1)];case gt.Second:return[de(5,0),de(4,0),de(3,-1),de(2,1)];case gt.Third:return[de(5,0),de(4,1),de(3,-1),de(2,0)]}case vr.Min7:switch(r){case gt.Root:return[de(5,0),de(4,2),de(3,0),de(2,1)];case gt.First:return[de(5,0),de(4,2),de(3,-1),de(2,2)];case gt.Second:return[de(5,0),de(4,0),de(3,-2),de(2,1)];case gt.Third:return[de(5,0),de(4,0),de(3,-1),de(2,0)]}case vr.Half:switch(r){case gt.Root:return[de(5,0),de(4,1),de(3,0),de(2,1)];case gt.First:return[de(5,0),de(4,2),de(3,-1),de(2,1)];case gt.Second:return[de(5,0),de(4,1),de(3,-1),de(2,2)];case gt.Third:return[de(5,0),de(4,0),de(3,-2),de(2,0)]}case vr.Full:switch(r){case gt.Root:case gt.First:case gt.Second:case gt.Third:return[de(5,0),de(4,1),de(3,-1),de(2,1)]}}default:return[]}}},v0={toTex(t){return`(${t.notes.map(e=>Cg.toTex(e)+" ").join("")}).1${t.name&&`{ch "${t.name}"}`}|`},generate(t,e,r,n){var i=[];const s=n?[n]:[gt.Root,gt.First,gt.Second,gt.Third];for(const a of s){const o=u0.bassNote({inversion:a,chord:{root:t,quality:e}}),l=r?Cg.onString(r,o):Cg.onString(6,o).concat(Cg.onString(5,o));i=i.concat(l.map(c=>({name:`${yr.toDisplayString(t)}${vr.toLeadSheet(e)}${a===gt.Root?"":`/${yr.toDisplayString(o)}`}`,notes:rce.generate(c.string,e,a).map(u=>({string:u.string,fret:u.fret+c.fret}))})))}return i.filter(a=>!a.notes.some(o=>o.fret<h5||o.fret>d5)).sort((a,o)=>Math.min(...a.notes.map(l=>l.fret))-Math.min(...o.notes.map(l=>l.fret))).sort((a,o)=>Math.max(...o.notes.map(l=>l.string))-Math.max(...a.notes.map(l=>l.string)))}},nce={toTex(t){return`\\ks ${yr.toDisplayString(t.key.note)} ${t.chords.map(e=>v0.toTex(e)).join("")}`}};function f5(t){const e=w.useRef(null),r=w.useRef(null);w.useEffect(()=>{if(e.current){r.current=new Sv(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;yM(lt("G"),zl.mode(h1.Dorian)).concat(yM(lt("G"),zl.mode(h1.Dorian))[0]).map(l=>{const c=v0.generate(l.root,l.quality,6,gt.Root).find(u=>u.notes[0].fret>i);return i=(c==null?void 0:c.notes[0].fret)??0,c});const s=t.chords.map(l=>v0.generate(l.root,l.quality,void 0,gt.Root)[0]),a={key:{note:lt("C")},chords:s},o=`
      \\tempo 120
      
      . 
      

      ${nce.toTex(a)}`;console.log(o),r.current.metronomeVolume=1,r.current.isLooping=!0,r.current.playbackSpeed=1,r.current.countInVolume=1,r.current.tex(o)}return()=>{var i;(i=r.current)==null||i.destroy()}},[]);function n(){var i;(i=r.current)==null||i.playPause()}return x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:x.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),x.jsx("div",{style:{display:"flex"},children:x.jsx(Mf,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{r.current&&(r.current.playbackSpeed=s)},children:"Tempo"})}),x.jsx(Ri,{onClick:n,children:"Play/Pause"})]})}const ice=840;function cE(){return{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<ice}}function p5(){const[t,e]=w.useState(cE());function r(){e(cE())}return w.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t}const uE=[lt("C"),lt("D",Yi.Flat),lt("D"),lt("E",Yi.Flat),lt("E"),lt("F"),lt("G",Yi.Flat),lt("G"),lt("A",Yi.Flat),lt("A"),lt("B",Yi.Flat),lt("B")],dE=[gt.Root,gt.First,gt.Second,gt.Third],hE=[vr.Maj7,vr.Dom7,vr.Min7,vr.Half,vr.Full],Jn={container:{display:"flex",flex:1,flexDirection:"column",padding:14,fontFamily:"sans-serif"},section:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},notesSection:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},formGroup:{marginTop:16,marginBottom:16},button:{backgroundColor:"#007BFF",color:"#fff",transition:"background-color 0.3s, transform 0.1s",cursor:"pointer",flex:1},chordText:{fontSize:20,marginTop:5,textAlign:"center",textTransform:"none"},toggleButton:{maxHeight:"50px",display:"flex",flexDirection:"column",borderRadius:8,textAlign:"center",justifyContent:"center",fontSize:15,padding:7,cursor:"pointer",transition:"background-color 0.3s, transform 0.1s"},toggleButtonsContainer:{},toggleButtonChecked:{backgroundColor:"#9df"},toggleButtonUnchecked:{backgroundColor:"#eee"},toggleButtonHover:{backgroundColor:"#b3e5fc"},toggleButtonActive:{transform:"scale(0.95)"},buttonHover:{backgroundColor:"#0056b3"},buttonActive:{transform:"scale(0.95)"}};function sce(){const[t,e]=w.useState(uE),[r,n]=w.useState(dE),[i,s]=w.useState(hE),[a,o]=w.useState(!0),[l,c]=w.useState(!1),{isMobile:u}=p5(),[d,h]=w.useState(null);function p(){h({note:t[Math.floor(Math.random()*t.length)],inversion:r[Math.floor(Math.random()*r.length)],quality:i[Math.floor(Math.random()*i.length)],string:a?Math.floor(Math.random()*2)===0?6:5:null})}return d&&(lt("C"),v0.generate(d.note,d.quality,d.string??void 0,d.inversion)),x.jsxs(il,{title:"Chord Generator",children:[x.jsxs("div",{style:Jn.container,children:[x.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center"},children:x.jsx(Ri,{style:Jn.chordText,disabled:!d,onClick:()=>c(!0),children:x.jsx(cr,{children:d?`${yr.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`:"Generate a chord!"})})}),x.jsxs("div",{style:Jn.toggleButtonsContainer,children:[x.jsx("div",{style:Jn.notesSection,children:uE.map(f=>x.jsx(vx,{checked:t.includes(f),onChange:()=>t.includes(f)?e(m=>m.filter(g=>yr.toNoteNumber(g)!==yr.toNoteNumber(f))):e(m=>m.concat(f)),children:yr.toDisplayString(f)},yr.toDisplayString(f)))}),x.jsx(rN,{style:{minHeight:"5px",margin:"7px 0"}}),x.jsx("div",{style:Jn.section,children:dE.map(f=>x.jsx(vx,{checked:r.includes(f),onChange:()=>r.includes(f)?n(m=>m.filter(g=>g!==f)):n(m=>m.concat(f)),children:f},f))}),x.jsx(rN,{style:{minHeight:"5px",margin:"7px 0"}}),x.jsx("div",{style:Jn.section,children:hE.map(f=>x.jsx(vx,{checked:i.includes(f),onChange:()=>i.includes(f)?s(m=>m.filter(g=>g!==f)):s(m=>m.concat(f)),children:f},f))})]}),x.jsx(uF,{style:Jn.formGroup,children:x.jsx(e1,{control:x.jsx(uJ,{checked:a,onChange:()=>o(!a)}),label:"Include string"})}),x.jsx("div",{style:{display:"flex"},children:x.jsx(Ri,{style:Jn.button,size:"large",onMouseOver:f=>f.currentTarget.style.backgroundColor=Jn.buttonHover.backgroundColor,onMouseOut:f=>f.currentTarget.style.backgroundColor=Jn.button.backgroundColor,onMouseDown:f=>f.currentTarget.style.transform=Jn.buttonActive.transform,onMouseUp:f=>f.currentTarget.style.transform="scale(1)",onClick:p,children:"Generate"})})]}),d&&l&&x.jsxs(fm,{maxWidth:"lg",fullScreen:u,open:l,onClose:()=>c(!1),children:[x.jsx(nF,{children:`${yr.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`}),x.jsx(fi,{"aria-label":"close",onClick:()=>c(!1),sx:{position:"absolute",right:9,top:9,color:f=>f.palette.grey[600]},children:x.jsx(lv,{})}),x.jsx(f5,{note:d.note,inversion:d.inversion,string:d.string,quality:d.quality})]})]})}function vx({children:t,checked:e,onChange:r}){return x.jsx("div",{style:{...Jn.toggleButton,...e?Jn.toggleButtonChecked:Jn.toggleButtonUnchecked},onMouseOver:n=>n.currentTarget.style.backgroundColor=Jn.toggleButtonHover.backgroundColor,onMouseOut:n=>n.currentTarget.style.backgroundColor=e?Jn.toggleButtonChecked.backgroundColor:Jn.toggleButtonUnchecked.backgroundColor,onMouseDown:n=>n.currentTarget.style.transform=Jn.toggleButtonActive.transform,onMouseUp:n=>n.currentTarget.style.transform="scale(1)",onClick:()=>r(!e),children:x.jsx("div",{children:t})})}const ace=[lt("C"),lt("D",Yi.Flat),lt("D"),lt("E",Yi.Flat),lt("E"),lt("F"),lt("G",Yi.Flat),lt("G"),lt("A",Yi.Flat),lt("A"),lt("B",Yi.Flat),lt("B")],oce=[vr.Maj7,vr.Dom7,vr.Min7,vr.Half,vr.Full];function lce(){const[t,e]=w.useState(0),[r,n]=w.useState(vr.Maj7),[i,s]=w.useState([]),[a,o]=w.useState(!1),{isMobile:l}=p5();return x.jsxs(il,{title:"Progression",children:[x.jsxs("div",{style:{padding:"30px",display:"flex",flexDirection:"column"},children:[x.jsx(vN,{row:!0,value:t,onChange:(c,u)=>e(parseInt(u)),children:ace.map(c=>x.jsx(e1,{value:yr.toNoteNumber(c),control:x.jsx(bN,{}),label:yr.toDisplayString(c)}))}),x.jsx(vN,{row:!0,value:r,onChange:(c,u)=>n(u),children:oce.map(c=>x.jsx(e1,{value:c,control:x.jsx(bN,{}),label:c}))}),x.jsx(Ri,{onClick:()=>s([...i,{root:Hc.toNote(t),quality:r}]),children:"Add Chord"}),i.map(c=>x.jsx("div",{style:{backgroundColor:"greenyellow",width:100,height:30},children:wO.toLeadSheet(c)})),x.jsx(Ri,{onClick:()=>o(!0),children:"Play"}),x.jsx(fi,{onClick:()=>s([]),children:x.jsx(MF,{})})]}),a&&x.jsxs(fm,{maxWidth:"lg",fullScreen:l,open:a,onClose:()=>o(!1),children:[x.jsx(fi,{onClick:()=>o(!1),sx:{position:"absolute",right:9,top:9,color:c=>c.palette.grey[600]},children:x.jsx(lv,{})}),x.jsx(f5,{chords:i})]})]})}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(null,arguments)}function xn(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var NT=Tm(),Wt=t=>Cm(t,NT),MT=Tm();Wt.write=t=>Cm(t,MT);var Pv=Tm();Wt.onStart=t=>Cm(t,Pv);var ET=Tm();Wt.onFrame=t=>Cm(t,ET);var RT=Tm();Wt.onFinish=t=>Cm(t,RT);var xd=[];Wt.setTimeout=(t,e)=>{const r=Wt.now()+e,n=()=>{const s=xd.findIndex(a=>a.cancel==n);~s&&xd.splice(s,1),Rl-=~s?1:0},i={time:r,handler:t,cancel:n};return xd.splice(m5(r),0,i),Rl+=1,g5(),i};var m5=t=>~(~xd.findIndex(e=>e.time>t)||~xd.length);Wt.cancel=t=>{Pv.delete(t),ET.delete(t),RT.delete(t),NT.delete(t),MT.delete(t)};Wt.sync=t=>{B1=!0,Wt.batchedUpdates(t),B1=!1};Wt.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Wt.onStart(r)}return n.handler=t,n.cancel=()=>{Pv.delete(r),e=null},n};var DT=typeof window<"u"?window.requestAnimationFrame:()=>{};Wt.use=t=>DT=t;Wt.now=typeof performance<"u"?()=>performance.now():Date.now;Wt.batchedUpdates=t=>t();Wt.catch=console.error;Wt.frameLoop="always";Wt.advance=()=>{Wt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):b5()};var El=-1,Rl=0,B1=!1;function Cm(t,e){B1?(e.delete(t),t(0)):(e.add(t),g5())}function g5(){El<0&&(El=0,Wt.frameLoop!=="demand"&&DT(y5))}function cce(){El=-1}function y5(){~El&&(DT(y5),Wt.batchedUpdates(b5))}function b5(){const t=El;El=Wt.now();const e=m5(El);if(e&&(v5(xd.splice(0,e),r=>r.handler()),Rl-=e),!Rl){cce();return}Pv.flush(),NT.flush(t?Math.min(64,El-t):16.667),ET.flush(),MT.flush(),RT.flush()}function Tm(){let t=new Set,e=t;return{add(r){Rl+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Rl-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Rl-=e.size,v5(e,n=>n(r)&&t.add(n)),Rl+=t.size,e=t)}}}function v5(t,e){t.forEach(r=>{try{e(r)}catch(n){Wt.catch(n)}})}var uce=Object.defineProperty,dce=(t,e)=>{for(var r in e)uce(t,r,{get:e[r],enumerable:!0})},Ts={};dce(Ts,{assign:()=>fce,colors:()=>Gl,createStringInterpolator:()=>LT,skipAnimation:()=>x5,to:()=>w5,willAdvance:()=>FT});function N1(){}var hce=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),ze={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function _o(t,e){if(ze.arr(t)){if(!ze.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var jt=(t,e)=>t.forEach(e);function wo(t,e,r){if(ze.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var Ii=t=>ze.und(t)?[]:ze.arr(t)?t:[t];function Lf(t,e){if(t.size){const r=Array.from(t);t.clear(),jt(r,e)}}var cf=(t,...e)=>Lf(t,r=>r(...e)),IT=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),LT,w5,Gl=null,x5=!1,FT=N1,fce=t=>{t.to&&(w5=t.to),t.now&&(Wt.now=t.now),t.colors!==void 0&&(Gl=t.colors),t.skipAnimation!=null&&(x5=t.skipAnimation),t.createStringInterpolator&&(LT=t.createStringInterpolator),t.requestAnimationFrame&&Wt.use(t.requestAnimationFrame),t.batchedUpdates&&(Wt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(FT=t.willAdvance),t.frameLoop&&(Wt.frameLoop=t.frameLoop)},Ff=new Set,Gs=[],wx=[],w0=0,Bv={get idle(){return!Ff.size&&!Gs.length},start(t){w0>t.priority?(Ff.add(t),Wt.onStart(pce)):(S5(t),Wt(M1))},advance:M1,sort(t){if(w0)Wt.onFrame(()=>Bv.sort(t));else{const e=Gs.indexOf(t);~e&&(Gs.splice(e,1),k5(t))}},clear(){Gs=[],Ff.clear()}};function pce(){Ff.forEach(S5),Ff.clear(),Wt(M1)}function S5(t){Gs.includes(t)||k5(t)}function k5(t){Gs.splice(mce(Gs,e=>e.priority>t.priority),0,t)}function M1(t){const e=wx;for(let r=0;r<Gs.length;r++){const n=Gs[r];w0=n.priority,n.idle||(FT(n),n.advance(t),n.idle||e.push(n))}return w0=0,wx=Gs,wx.length=0,Gs=e,Gs.length>0}function mce(t,e){const r=t.findIndex(e);return r<0?t.length:r}var gce=(t,e,r)=>Math.min(Math.max(r,t),e),yce={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ra="[-+]?\\d*\\.?\\d+",x0=Ra+"%";function Nv(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var bce=new RegExp("rgb"+Nv(Ra,Ra,Ra)),vce=new RegExp("rgba"+Nv(Ra,Ra,Ra,Ra)),wce=new RegExp("hsl"+Nv(Ra,x0,x0)),xce=new RegExp("hsla"+Nv(Ra,x0,x0,Ra)),Sce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,kce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Cce=/^#([0-9a-fA-F]{6})$/,Tce=/^#([0-9a-fA-F]{8})$/;function _ce(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Cce.exec(t))?parseInt(e[1]+"ff",16)>>>0:Gl&&Gl[t]!==void 0?Gl[t]:(e=bce.exec(t))?(Fu(e[1])<<24|Fu(e[2])<<16|Fu(e[3])<<8|255)>>>0:(e=vce.exec(t))?(Fu(e[1])<<24|Fu(e[2])<<16|Fu(e[3])<<8|mE(e[4]))>>>0:(e=Sce.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Tce.exec(t))?parseInt(e[1],16)>>>0:(e=kce.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=wce.exec(t))?(fE(pE(e[1]),Tg(e[2]),Tg(e[3]))|255)>>>0:(e=xce.exec(t))?(fE(pE(e[1]),Tg(e[2]),Tg(e[3]))|mE(e[4]))>>>0:null}function xx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function fE(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=xx(i,n,t+1/3),a=xx(i,n,t),o=xx(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function Fu(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function pE(t){return(parseFloat(t)%360+360)%360/360}function mE(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Tg(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function gE(t){let e=_ce(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var Ip=(t,e,r)=>{if(ze.fun(t))return t;if(ze.arr(t))return Ip({range:t,output:e,extrapolate:r});if(ze.str(t.output[0]))return LT(t);const n=t,i=n.output,s=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const u=Bce(c,s);return Pce(c,s[u],s[u+1],i[u],i[u+1],l,a,o,n.map)}};function Pce(t,e,r,n,i,s,a,o,l){let c=l?l(t):t;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>r){if(o==="identity")return c;o==="clamp"&&(c=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?c=-c:r===1/0?c=c-e:c=(c-e)/(r-e),c=s(c),n===-1/0?c=-c:i===1/0?c=c+n:c=c*(i-n)+n,c)}function Bce(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var Nce=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return gce(0,1,i/t)},S0=1.70158,_g=S0*1.525,yE=S0+1,bE=2*Math.PI/3,vE=2*Math.PI/4.5,Pg=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Mce={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>yE*t*t*t-S0*t*t,easeOutBack:t=>1+yE*Math.pow(t-1,3)+S0*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((_g+1)*2*t-_g)/2:(Math.pow(2*t-2,2)*((_g+1)*(t*2-2)+_g)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*bE),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*bE)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*vE))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*vE)/2+1,easeInBounce:t=>1-Pg(1-t),easeOutBounce:Pg,easeInOutBounce:t=>t<.5?(1-Pg(1-2*t))/2:(1+Pg(2*t-1))/2,steps:Nce},Lp=Symbol.for("FluidValue.get"),jd=Symbol.for("FluidValue.observers"),Ws=t=>!!(t&&t[Lp]),Wi=t=>t&&t[Lp]?t[Lp]():t,wE=t=>t[jd]||null;function Ece(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Fp(t,e){const r=t[jd];r&&r.forEach(n=>{Ece(n,e)})}var C5=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Rce(this,t)}},Rce=(t,e)=>T5(t,Lp,e);function ph(t,e){if(t[Lp]){let r=t[jd];r||T5(t,jd,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function Ap(t,e){const r=t[jd];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[jd]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var T5=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),uy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Dce=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,xE=new RegExp(`(${uy.source})(%|[a-z]+)`,"i"),Ice=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Mv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,_5=t=>{const[e,r]=Lce(t);if(!e||IT())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Mv.test(r))return _5(r);if(r)return r}return t},Lce=t=>{const e=Mv.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},Sx,Fce=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,P5=t=>{Sx||(Sx=Gl?new RegExp(`(${Object.keys(Gl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Wi(s).replace(Mv,_5).replace(Dce,gE).replace(Sx,gE)),r=e.map(s=>s.match(uy).map(Number)),i=r[0].map((s,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>Ip({...t,output:s}));return s=>{var l;const a=!xE.test(e[0])&&((l=e.find(c=>xE.test(c)))==null?void 0:l.replace(uy,""));let o=0;return e[0].replace(uy,()=>`${i[o++](s)}${a||""}`).replace(Ice,Fce)}},AT="react-spring: ",B5=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${AT}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},Ace=B5(console.warn);function Oce(){Ace(`${AT}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var $ce=B5(console.warn);function Vce(){$ce(`${AT}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ev(t){return ze.str(t)&&(t[0]=="#"||/\d/.test(t)||!IT()&&Mv.test(t)||t in(Gl||{}))}var Fc=IT()?w.useEffect:w.useLayoutEffect,zce=()=>{const t=w.useRef(!1);return Fc(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function N5(){const t=w.useState()[1],e=zce();return()=>{e.current&&t(Math.random())}}function Wce(t,e){const[r]=w.useState(()=>({inputs:e,result:t()})),n=w.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&Hce(e,s.inputs)||(s={inputs:e,result:t()}):s=r,w.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function Hce(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var M5=t=>w.useEffect(t,Uce),Uce=[];function Gce(t){const e=w.useRef();return w.useEffect(()=>{e.current=t}),e.current}var Op=Symbol.for("Animated:node"),jce=t=>!!t&&t[Op]===t,Ka=t=>t&&t[Op],OT=(t,e)=>hce(t,Op,e),Rv=t=>t&&t[Op]&&t[Op].getPayload(),E5=class{constructor(){OT(this,this)}getPayload(){return this.payload||[]}},_m=class extends E5{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ze.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new _m(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ze.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},$p=class extends _m{constructor(t){super(0),this._string=null,this._toString=Ip({output:[t,t]})}static create(t){return new $p(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ze.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Ip({output:[this.getValue(),t]})),this._value=0,super.reset()}},k0={dependencies:null},Dv=class extends E5{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return wo(this.source,(r,n)=>{jce(r)?e[n]=r.getValue(t):Ws(r)?e[n]=Wi(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&jt(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return wo(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){k0.dependencies&&Ws(t)&&k0.dependencies.add(t);const e=Rv(t);e&&jt(e,r=>this.add(r))}},R5=class extends Dv{constructor(t){super(t)}static create(t){return new R5(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(Yce)),!0)}};function Yce(t){return(Ev(t)?$p:_m).create(t)}function E1(t){const e=Ka(t);return e?e.constructor:ze.arr(t)?R5:Ev(t)?$p:_m}var SE=(t,e)=>{const r=!ze.fun(t)||t.prototype&&t.prototype.isReactComponent;return w.forwardRef((n,i)=>{const s=w.useRef(null),a=r&&w.useCallback(f=>{s.current=Kce(i,f)},[i]),[o,l]=qce(n,e),c=N5(),u=()=>{const f=s.current;if(r&&!f)return;(f?e.applyAnimatedValues(f,o.getValue(!0)):!1)===!1&&c()},d=new Xce(u,l),h=w.useRef();Fc(()=>(h.current=d,jt(l,f=>ph(f,d)),()=>{h.current&&(jt(h.current.deps,f=>Ap(f,h.current)),Wt.cancel(h.current.update))})),w.useEffect(u,[]),M5(()=>()=>{const f=h.current;jt(f.deps,m=>Ap(m,f))});const p=e.getComponentProps(o.getValue());return w.createElement(t,{...p,ref:a})})},Xce=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Wt.write(this.update)}};function qce(t,e){const r=new Set;return k0.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Dv(t),k0.dependencies=null,[t,r]}function Kce(t,e){return t&&(ze.fun(t)?t(e):t.current=e),e}var kE=Symbol.for("AnimatedComponent"),Qce=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Dv(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=a=>{const o=CE(a)||"Anonymous";return ze.str(a)?a=s[a]||(s[a]=SE(a,i)):a=a[kE]||(a[kE]=SE(a,i)),a.displayName=`Animated(${o})`,a};return wo(t,(a,o)=>{ze.arr(t)&&(o=CE(a)),s[o]=s(a)}),{animated:s}},CE=t=>ze.str(t)?t:t&&ze.str(t.displayName)?t.displayName:ze.fun(t)&&t.name||null;function Hi(t,...e){return ze.fun(t)?t(...e):t}var Af=(t,e)=>t===!0||!!(e&&t&&(ze.fun(t)?t(e):Ii(t).includes(e))),D5=(t,e)=>ze.obj(t)?e&&t[e]:t,I5=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Jce=t=>t,$T=(t,e=Jce)=>{let r=Zce;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);ze.und(s)||(n[i]=s)}return n},Zce=["config","onProps","onStart","onChange","onPause","onResume","onRest"],eue={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tue(t){const e={};let r=0;if(wo(t,(n,i)=>{eue[i]||(e[i]=n,r++)}),r)return e}function VT(t){const e=tue(t);if(e){const r={to:e};return wo(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function Vp(t){return t=Wi(t),ze.arr(t)?t.map(Vp):Ev(t)?Ts.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function rue(t){for(const e in t)return!0;return!1}function R1(t){return ze.fun(t)||ze.arr(t)&&ze.obj(t[0])}function TE(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function nue(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var iue={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},D1={...iue.default,mass:1,damping:1,easing:Mce.linear,clamp:!1},sue=class{constructor(){this.velocity=0,Object.assign(this,D1)}};function aue(t,e,r){r&&(r={...r},_E(r,e),e={...r,...e}),_E(t,e),Object.assign(t,e);for(const a in D1)t[a]==null&&(t[a]=D1[a]);let{frequency:n,damping:i}=t;const{mass:s}=t;return ze.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function _E(t,e){if(!ze.und(e.decay))t.duration=void 0;else{const r=!ze.und(e.tension)||!ze.und(e.friction);(r||!ze.und(e.frequency)||!ze.und(e.damping)||!ze.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var PE=[],oue=class{constructor(){this.changed=!1,this.values=PE,this.toValues=null,this.fromValues=PE,this.config=new sue,this.immediate=!1}};function L5(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((a,o)=>{let l,c,u=Af(r.cancel??(n==null?void 0:n.cancel),e);if(u)p();else{ze.und(r.pause)||(i.paused=Af(r.pause,e));let f=n==null?void 0:n.pause;f!==!0&&(f=i.paused||Af(f,e)),l=Hi(r.delay||0,e),f?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-Wt.now()}function h(){l>0&&!Ts.skipAnimation?(i.delayed=!0,c=Wt.setTimeout(p,l),i.pauseQueue.add(d),i.timeouts.add(c)):p()}function p(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...r,callId:t,cancel:u},a)}catch(f){o(f)}}})}var zT=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Sd(t.get()):e.every(r=>r.noop)?F5(t.get()):Ca(t.get(),e.every(r=>r.finished)),F5=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ca=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Sd=t=>({value:t,cancelled:!0,finished:!1});function A5(t,e,r,n){const{callId:i,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=r;return!s&&t===o&&!e.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const c=$T(e,(g,y)=>y==="onRest"?void 0:g);let u,d;const h=new Promise((g,y)=>(u=g,d=y)),p=g=>{const y=i<=(r.cancelId||0)&&Sd(n)||i!==r.asyncId&&Ca(n,!1);if(y)throw g.result=y,d(g),g},f=(g,y)=>{const b=new BE,v=new NE;return(async()=>{if(Ts.skipAnimation)throw zp(r),v.result=Ca(n,!1),d(v),v;p(b);const k=ze.obj(g)?{...g}:{...y,to:g};k.parentId=i,wo(c,(S,_)=>{ze.und(k[_])&&(k[_]=S)});const C=await n.start(k);return p(b),r.paused&&await new Promise(S=>{r.resumeQueue.add(S)}),C})()};let m;if(Ts.skipAnimation)return zp(r),Ca(n,!1);try{let g;ze.arr(t)?g=(async y=>{for(const b of y)await f(b)})(t):g=Promise.resolve(t(f,n.stop.bind(n))),await Promise.all([g.then(u),h]),m=Ca(n.get(),!0,!1)}catch(g){if(g instanceof BE)m=g.result;else if(g instanceof NE)m=g.result;else throw g}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?o:void 0,r.promise=s?l:void 0)}return ze.fun(a)&&Wt.batchedUpdates(()=>{a(m,n,n.item)}),m})()}function zp(t,e){Lf(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var BE=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},NE=class extends Error{constructor(){super("SkipAnimationSignal")}},I1=t=>t instanceof WT,lue=1,WT=class extends C5{constructor(){super(...arguments),this.id=lue++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Ka(this);return t&&t.getValue()}to(...t){return Ts.to(this,t)}interpolate(...t){return Oce(),Ts.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Fp(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Bv.sort(this),Fp(this,{type:"priority",parent:this,priority:t})}},lu=Symbol.for("SpringPhase"),O5=1,L1=2,F1=4,kx=t=>(t[lu]&O5)>0,vl=t=>(t[lu]&L1)>0,Yh=t=>(t[lu]&F1)>0,ME=(t,e)=>e?t[lu]|=L1|O5:t[lu]&=~L1,EE=(t,e)=>e?t[lu]|=F1:t[lu]&=~F1,cue=class extends WT{constructor(t,e){if(super(),this.animation=new oue,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ze.und(t)||!ze.und(e)){const r=ze.obj(t)?{...t}:{...e,from:t};ze.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(vl(this)||this._state.asyncTo)||Yh(this)}get goal(){return Wi(this.animation.to)}get velocity(){const t=Ka(this);return t instanceof _m?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return kx(this)}get isAnimating(){return vl(this)}get isPaused(){return Yh(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,a=Rv(n.to);!a&&Ws(n.to)&&(i=Ii(Wi(n.to))),n.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==$p?1:a?a[u].lastPosition:i[u];let h=n.immediate,p=d;if(!h){if(p=c.lastPosition,s.tension<=0){c.done=!0;return}let f=c.elapsedTime+=t;const m=n.fromValues[u],g=c.v0!=null?c.v0:c.v0=ze.arr(s.velocity)?s.velocity[u]:s.velocity;let y;const b=s.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(ze.und(s.duration))if(s.decay){const v=s.decay===!0?.998:s.decay,k=Math.exp(-(1-v)*f);p=m+g/(1-v)*(1-k),h=Math.abs(c.lastPosition-p)<=b,y=g*k}else{y=c.lastVelocity==null?g:c.lastVelocity;const v=s.restVelocity||b/10,k=s.clamp?0:s.bounce,C=!ze.und(k),S=m==d?c.v0>0:m<d;let _,B=!1;const D=1,E=Math.ceil(t/D);for(let R=0;R<E&&(_=Math.abs(y)>v,!(!_&&(h=Math.abs(d-p)<=b,h)));++R){C&&(B=p==d||p>d==S,B&&(y=-y*k,p=d));const O=-s.tension*1e-6*(p-d),L=-s.friction*.001*y,I=(O+L)/s.mass;y=y+I*D,p=p+y*D}}else{let v=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,f=c.elapsedTime+=t)),v=(s.progress||0)+f/this._memoizedDuration,v=v>1?1:v<0?0:v,c.durationProgress=v),p=m+s.easing(v)*(d-m),y=(p-c.lastPosition)/t,h=v==1}c.lastVelocity=y,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[u].done&&(h=!1),h?c.done=!0:e=!1,c.setValue(p,s.round)&&(r=!0)});const o=Ka(this),l=o.getValue();if(e){const c=Wi(n.to);(l!==c||r)&&!s.decay?(o.setValue(c),this._onChange(c)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return Wt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(vl(this)){const{to:t,config:e}=this.animation;Wt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return ze.und(t)?(r=this.queue||[],this.queue=[]):r=[ze.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>zT(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),zp(this._state,t&&this._lastCallId),Wt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=ze.obj(r)?r[e]:r,(r==null||R1(r))&&(r=void 0),n=ze.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return kx(this)||(t.reverse&&([r,n]=[n,r]),n=Wi(n),ze.und(n)?Ka(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,$T(t,(a,o)=>/^on/.test(o)?D5(a,r):a)),DE(this,t,"onProps"),qh(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return L5(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{Yh(this)||(EE(this,!0),cf(s.pauseQueue),qh(this,"onPause",Ca(this,Xh(this,this.animation.to)),this))},resume:()=>{Yh(this)&&(EE(this,!1),vl(this)&&this._resume(),cf(s.resumeQueue),qh(this,"onResume",Ca(this,Xh(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=$5(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Sd(this));const n=!ze.und(t.to),i=!ze.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Sd(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:c}=o;let{to:u=l,from:d=c}=t;i&&!n&&(!e.default||ze.und(u))&&(u=d),e.reverse&&([u,d]=[d,u]);const h=!_o(d,c);h&&(o.from=d),d=Wi(d);const p=!_o(u,l);p&&this._focus(u);const f=R1(e.to),{config:m}=o,{decay:g,velocity:y}=m;(n||i)&&(m.velocity=0),e.config&&!f&&aue(m,Hi(e.config,s),e.config!==a.config?Hi(a.config,s):void 0);let b=Ka(this);if(!b||ze.und(u))return r(Ca(this,!0));const v=ze.und(e.reset)?i&&!e.default:!ze.und(d)&&Af(e.reset,s),k=v?d:this.get(),C=Vp(u),S=ze.num(C)||ze.arr(C)||Ev(C),_=!f&&(!S||Af(a.immediate||e.immediate,s));if(p){const R=E1(u);if(R!==b.constructor)if(_)b=this._set(C);else throw Error(`Cannot animate between ${b.constructor.name} and ${R.name}, as the "to" prop suggests`)}const B=b.constructor;let D=Ws(u),E=!1;if(!D){const R=v||!kx(this)&&h;(p||R)&&(E=_o(Vp(k),C),D=!E),(!_o(o.immediate,_)&&!_||!_o(m.decay,g)||!_o(m.velocity,y))&&(D=!0)}if(E&&vl(this)&&(o.changed&&!v?D=!0:D||this._stop(l)),!f&&((D||Ws(l))&&(o.values=b.getPayload(),o.toValues=Ws(u)?null:B==$p?[1]:Ii(C)),o.immediate!=_&&(o.immediate=_,!_&&!v&&this._set(l)),D)){const{onRest:R}=o;jt(uue,L=>DE(this,e,L));const O=Ca(this,Xh(this,l));cf(this._pendingCalls,O),this._pendingCalls.add(r),o.changed&&Wt.batchedUpdates(()=>{var L;o.changed=!v,R==null||R(O,this),v?Hi(a.onRest,O):(L=o.onStart)==null||L.call(o,O,this)})}v&&this._set(k),f?r(A5(e.to,e,this._state,this)):D?this._start():vl(this)&&!p?this._pendingCalls.add(r):r(F5(k))}_focus(t){const e=this.animation;t!==e.to&&(wE(this)&&this._detach(),e.to=t,wE(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Ws(e)&&(ph(e,this),I1(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Ws(t)&&Ap(t,this)}_set(t,e=!0){const r=Wi(t);if(!ze.und(r)){const n=Ka(this);if(!n||!_o(r,n.getValue())){const i=E1(r);!n||n.constructor!=i?OT(this,i.create(r)):n.setValue(r),n&&Wt.batchedUpdates(()=>{this._onChange(r,e)})}}return Ka(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,qh(this,"onStart",Ca(this,Xh(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Hi(this.animation.onChange,t,this)),Hi(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Ka(this).reset(Wi(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),vl(this)||(ME(this,!0),Yh(this)||this._resume())}_resume(){Ts.skipAnimation?this.finish():Bv.start(this)}_stop(t,e){if(vl(this)){ME(this,!1);const r=this.animation;jt(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Fp(this,{type:"idle",parent:this});const n=e?Sd(this.get()):Ca(this.get(),Xh(this,t??r.to));cf(this._pendingCalls,n),r.changed&&(r.changed=!1,qh(this,"onRest",n,this))}}};function Xh(t,e){const r=Vp(e),n=Vp(t.get());return _o(n,r)}function $5(t,e=t.loop,r=t.to){const n=Hi(e);if(n){const i=n!==!0&&VT(n),s=(i||t).reverse,a=!i||i.reset;return C0({...t,loop:e,default:!1,pause:void 0,to:!s||R1(r)?r:void 0,from:a?t.from:void 0,reset:a,...i})}}function C0(t){const{to:e,from:r}=t=VT(t),n=new Set;return ze.obj(e)&&RE(e,n),ze.obj(r)&&RE(r,n),t.keys=n.size?Array.from(n):null,t}function RE(t,e){wo(t,(r,n)=>r!=null&&e.add(n))}var uue=["onStart","onRest","onChange","onPause","onResume"];function DE(t,e,r){t.animation[r]=e[r]!==I5(e,r)?D5(e[r],t.key):void 0}function qh(t,e,...r){var n,i,s,a;(i=(n=t.animation)[e])==null||i.call(n,...r),(a=(s=t.defaultProps)[e])==null||a.call(s,...r)}var due=["onStart","onChange","onRest"],hue=1,fue=class{constructor(t,e){this.id=hue++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];ze.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(C0(t)),this}start(t){let{queue:e}=this;return t?e=Ii(t).map(C0):this.queue=[],this._flush?this._flush(this,e):(H5(this,e),pue(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;jt(Ii(e),n=>r[n].stop(!!t))}else zp(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ze.und(t))this.start({pause:!0});else{const e=this.springs;jt(Ii(t),r=>e[r].pause())}return this}resume(t){if(ze.und(t))this.start({pause:!1});else{const e=this.springs;jt(Ii(t),r=>e[r].resume())}return this}each(t){wo(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Lf(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!n&&this._started,a=i||s&&r.size?this.get():null;i&&e.size&&Lf(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,Lf(r,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Wt.onFrame(this._onFrame)}};function pue(t,e){return Promise.all(e.map(r=>V5(t,r))).then(r=>zT(t,r))}async function V5(t,e,r){const{keys:n,to:i,from:s,loop:a,onRest:o,onResolve:l}=e,c=ze.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=ze.arr(i)||ze.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):jt(due,m=>{const g=e[m];if(ze.fun(g)){const y=t._events[m];e[m]=({finished:b,cancelled:v})=>{const k=y.get(g);k?(b||(k.finished=!1),v&&(k.cancelled=!0)):y.set(g,{value:null,finished:b||!1,cancelled:v||!1})},c&&(c[m]=e[m])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,cf(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const h=(n||Object.keys(t.springs)).map(m=>t.springs[m].start(e)),p=e.cancel===!0||I5(e,"cancel")===!0;(u||p&&d.asyncId)&&h.push(L5(++t._lastAsyncId,{props:e,state:d,actions:{pause:N1,resume:N1,start(m,g){p?(zp(d,t._lastAsyncId),g(Sd(t))):(m.onRest=o,g(A5(u,m,d,t)))}}})),d.paused&&await new Promise(m=>{d.resumeQueue.add(m)});const f=zT(t,await Promise.all(h));if(a&&f.finished&&!(r&&f.noop)){const m=$5(e,a,i);if(m)return H5(t,[m]),V5(t,m,!0)}return l&&Wt.batchedUpdates(()=>l(f,t,t.item)),f}function mue(t,e){const r={...t.springs};return e&&jt(Ii(e),n=>{ze.und(n.keys)&&(n=C0(n)),ze.obj(n.to)||(n={...n,to:void 0}),W5(r,n,i=>z5(i))}),gue(t,r),r}function gue(t,e){wo(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,ph(r,t))})}function z5(t,e){const r=new cue;return r.key=t,e&&ph(r,e),r}function W5(t,e,r){e.keys&&jt(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function H5(t,e){jt(e,r=>{W5(t.springs,r,n=>z5(n,t))})}var Iv=({children:t,...e})=>{const r=w.useContext(T0),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=Wce(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=T0;return w.createElement(s,{value:e},t)},T0=yue(Iv,{});Iv.Provider=T0.Provider;Iv.Consumer=T0.Consumer;function yue(t,e){return Object.assign(t,w.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var bue=()=>{const t=[],e=function(n){Vce();const i=[];return jt(t,(s,a)=>{if(ze.und(n))i.push(s.start());else{const o=r(n,s,a);o&&i.push(s.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return jt(t,n=>n.pause(...arguments)),this},e.resume=function(){return jt(t,n=>n.resume(...arguments)),this},e.set=function(n){jt(t,(i,s)=>{const a=ze.fun(n)?n(s,i):n;a&&i.set(a)})},e.start=function(n){const i=[];return jt(t,(s,a)=>{if(ze.und(n))i.push(s.start());else{const o=this._getProps(n,s,a);o&&i.push(s.start(o))}}),i},e.stop=function(){return jt(t,n=>n.stop(...arguments)),this},e.update=function(n){return jt(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return ze.fun(n)?n(s,i):n};return e._getProps=r,e};function A1(t,e,r){const n=ze.fun(e)&&e,{reset:i,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:d}=n?n():e,h=w.useMemo(()=>n||arguments.length==3?bue():void 0,[]),p=Ii(t),f=[],m=w.useRef(null),g=i?null:m.current;Fc(()=>{m.current=f}),M5(()=>(jt(f,I=>{h==null||h.add(I.ctrl),I.ctrl.ref=h}),()=>{jt(m.current,I=>{I.expired&&clearTimeout(I.expirationId),TE(I.ctrl,h),I.ctrl.stop(!0)})}));const y=wue(p,n?n():e,g),b=i&&m.current||[];Fc(()=>jt(b,({ctrl:I,item:N,key:F})=>{TE(I,h),Hi(c,N,F)}));const v=[];if(g&&jt(g,(I,N)=>{I.expired?(clearTimeout(I.expirationId),b.push(I)):(N=v[N]=y.indexOf(I.key),~N&&(f[N]=I))}),jt(p,(I,N)=>{f[N]||(f[N]={key:y[N],item:I,phase:"mount",ctrl:new fue},f[N].ctrl.item=I)}),v.length){let I=-1;const{leave:N}=n?n():e;jt(v,(F,A)=>{const M=g[A];~F?(I=f.indexOf(M),f[I]={...M,item:p[F]}):N&&f.splice(++I,0,M)})}ze.fun(s)&&f.sort((I,N)=>s(I.item,N.item));let k=-a;const C=N5(),S=$T(e),_=new Map,B=w.useRef(new Map),D=w.useRef(!1);jt(f,(I,N)=>{const F=I.key,A=I.phase,M=n?n():e;let V,W;const K=Hi(M.delay||0,F);if(A=="mount")V=M.enter,W="enter";else{const G=y.indexOf(F)<0;if(A!="leave")if(G)V=M.leave,W="leave";else if(V=M.update)W="update";else return;else if(!G)V=M.enter,W="enter";else return}if(V=Hi(V,I.item,N),V=ze.obj(V)?VT(V):{to:V},!V.config){const G=d||S.config;V.config=Hi(G,I.item,N,W)}k+=a;const ie={...S,delay:K+k,ref:u,immediate:M.immediate,reset:!1,...V};if(W=="enter"&&ze.und(ie.from)){const G=n?n():e,Z=ze.und(G.initial)||g?G.from:G.initial;ie.from=Hi(Z,I.item,N)}const{onResolve:se}=ie;ie.onResolve=G=>{Hi(se,G);const Z=m.current,he=Z.find(pe=>pe.key===F);if(he&&!(G.cancelled&&he.phase!="update")&&he.ctrl.idle){const pe=Z.every(ne=>ne.ctrl.idle);if(he.phase=="leave"){const ne=Hi(o,he.item);if(ne!==!1){const le=ne===!0?0:ne;if(he.expired=!0,!pe&&le>0){le<=2147483647&&(he.expirationId=setTimeout(C,le));return}}}pe&&Z.some(ne=>ne.expired)&&(B.current.delete(he),l&&(D.current=!0),C())}};const te=mue(I.ctrl,ie);W==="leave"&&l?B.current.set(I,{phase:W,springs:te,payload:ie}):_.set(I,{phase:W,springs:te,payload:ie})});const E=w.useContext(Iv),R=Gce(E),O=E!==R&&rue(E);Fc(()=>{O&&jt(f,I=>{I.ctrl.start({default:E})})},[E]),jt(_,(I,N)=>{if(B.current.size){const F=f.findIndex(A=>A.key===N.key);f.splice(F,1)}}),Fc(()=>{jt(B.current.size?B.current:_,({phase:I,payload:N},F)=>{const{ctrl:A}=F;F.phase=I,h==null||h.add(A),O&&I=="enter"&&A.start({default:E}),N&&(nue(A,N.ref),(A.ref||h)&&!D.current?A.update(N):(A.start(N),D.current&&(D.current=!1)))})},i?void 0:r);const L=I=>w.createElement(w.Fragment,null,f.map((N,F)=>{const{springs:A}=_.get(N)||N.ctrl,M=I({...A},N.item,N,F);return M&&M.type?w.createElement(M.type,{...M.props,key:ze.str(N.key)||ze.num(N.key)?N.key:N.ctrl.id,ref:M.ref}):M}));return h?[L,h]:L}var vue=1;function wue(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(s=>{const a=n&&n.find(o=>o.item===s&&o.phase!=="leave"&&!i.has(o));return a?(i.add(a),a.key):vue++})}return ze.und(r)?t:ze.fun(r)?t.map(r):Ii(r)}var xue=class extends WT{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Ip(...e);const r=this._get(),n=E1(r);OT(this,n.create(r))}advance(t){const e=this._get(),r=this.get();_o(e,r)||(Ka(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&IE(this._active)&&Cx(this)}_get(){const t=ze.arr(this.source)?this.source.map(Wi):Ii(Wi(this.source));return this.calc(...t)}_start(){this.idle&&!IE(this._active)&&(this.idle=!1,jt(Rv(this),t=>{t.done=!1}),Ts.skipAnimation?(Wt.batchedUpdates(()=>this.advance()),Cx(this)):Bv.start(this))}_attach(){let t=1;jt(Ii(this.source),e=>{Ws(e)&&ph(e,this),I1(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){jt(Ii(this.source),t=>{Ws(t)&&Ap(t,this)}),this._active.clear(),Cx(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ii(this.source).reduce((e,r)=>Math.max(e,(I1(r)?r.priority:0)+1),0))}};function Sue(t){return t.idle!==!1}function IE(t){return!t.size||Array.from(t).every(Sue)}function Cx(t){t.idle||(t.idle=!0,jt(Rv(t),e=>{e.done=!0}),Fp(t,{type:"idle",parent:t}))}Ts.assign({createStringInterpolator:P5,to:(t,e)=>new xue(t,e)});var U5=/^--/;function kue(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!U5.test(t)&&!(Of.hasOwnProperty(t)&&Of[t])?e+"px":(""+e).trim()}var LE={};function Cue(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:a,viewBox:o,...l}=e,c=Object.values(l),u=Object.keys(l).map(d=>r||t.hasAttribute(d)?d:LE[d]||(LE[d]=d.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(t.textContent=i);for(const d in n)if(n.hasOwnProperty(d)){const h=kue(d,n[d]);U5.test(d)?t.style.setProperty(d,h):t.style[d]=h}u.forEach((d,h)=>{t.setAttribute(d,c[h])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&t.setAttribute("viewBox",o)}var Of={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tue=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),_ue=["Webkit","Ms","Moz","O"];Of=Object.keys(Of).reduce((t,e)=>(_ue.forEach(r=>t[Tue(r,e)]=t[e]),t),Of);var Pue=/^(matrix|translate|scale|rotate|skew)/,Bue=/^(translate)/,Nue=/^(rotate|skew)/,Tx=(t,e)=>ze.num(t)&&t!==0?t+e:t,dy=(t,e)=>ze.arr(t)?t.every(r=>dy(r,e)):ze.num(t)?t===e:parseFloat(t)===e,Mue=class extends Dv{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(a=>[`translate3d(${a.map(o=>Tx(o,"px")).join(",")})`,dy(a,0)])),wo(n,(a,o)=>{if(o==="transform")i.push([a||""]),s.push(l=>[l,l===""]);else if(Pue.test(o)){if(delete n[o],ze.und(a))return;const l=Bue.test(o)?"px":Nue.test(o)?"deg":"";i.push(Ii(a)),s.push(o==="rotate3d"?([c,u,d,h])=>[`rotate3d(${c},${u},${d},${Tx(h,l)})`,dy(h,0)]:c=>[`${o}(${c.map(u=>Tx(u,l)).join(",")})`,dy(c,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new Eue(i,s)),super(n)}},Eue=class extends C5{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return jt(this.inputs,(r,n)=>{const i=Wi(r[0]),[s,a]=this.transforms[n](ze.arr(i)?i:r.map(Wi));t+=" "+s,e=e&&a}),e?"none":t}observerAdded(t){t==1&&jt(this.inputs,e=>jt(e,r=>Ws(r)&&ph(r,this)))}observerRemoved(t){t==0&&jt(this.inputs,e=>jt(e,r=>Ws(r)&&Ap(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Fp(this,t)}},Rue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ts.assign({batchedUpdates:em.unstable_batchedUpdates,createStringInterpolator:P5,colors:yce});var Due=Qce(Rue,{applyAnimatedValues:Cue,createAnimatedStyle:t=>new Mue(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),HT=Due.animated;function hy(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UT(t){let e,r,n;t.length!==2?(e=hy,r=(o,l)=>hy(t(o),l),n=(o,l)=>t(o)-l):(e=t===hy||t===Iue?t:Lue,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function Lue(){return 0}function Fue(t){return t===null?NaN:+t}const Aue=UT(hy),G5=Aue.right;UT(Fue).center;class FE extends Map{constructor(e,r=Vue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(AE(this,e))}has(e){return super.has(AE(this,e))}set(e,r){return super.set(Oue(this,e),r)}delete(e){return super.delete($ue(this,e))}}function AE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Oue({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function $ue({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Vue(t){return t!==null&&typeof t=="object"?t.valueOf():t}const zue=Math.sqrt(50),Wue=Math.sqrt(10),Hue=Math.sqrt(2);function _0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=zue?10:s>=Wue?5:s>=Hue?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?_0(t,e,r*2):[o,l,c]}function O1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?_0(e,t,r):_0(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function $1(t,e,r){return e=+e,t=+t,r=+r,_0(t,e,r)[2]}function V1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?$1(e,t,r):$1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Uue(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function sc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gue(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const OE=Symbol("implicit");function P0(){var t=new FE,e=[],r=[],n=OE;function i(s){let a=t.get(s);if(a===void 0){if(n!==OE)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FE;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return P0(e,r).unknown(n)},sc.apply(i,arguments),i}function GT(){var t=P0().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<n,f=p?i:n,m=p?n:i;s=(m-f)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),f+=(m-f-s*(h-l))*u,a=s*(1-l),o&&(f=Math.round(f),a=Math.round(a));var g=Uue(h).map(function(y){return f+s*y});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return GT(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},sc.apply(d(),arguments)}function j5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j5(e())},t}function jue(){return j5(GT.apply(null,arguments).paddingInner(1))}function jT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Y5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Pm(){}var Wp=.7,B0=1/Wp,kd="\\s*([+-]?\\d+)\\s*",Hp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yue=/^#([0-9a-f]{3,8})$/,Xue=new RegExp(`^rgb\\(${kd},${kd},${kd}\\)$`),que=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),Kue=new RegExp(`^rgba\\(${kd},${kd},${kd},${Hp}\\)$`),Que=new RegExp(`^rgba\\(${mo},${mo},${mo},${Hp}\\)$`),Jue=new RegExp(`^hsl\\(${Hp},${mo},${mo}\\)$`),Zue=new RegExp(`^hsla\\(${Hp},${mo},${mo},${Hp}\\)$`),$E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jT(Pm,Yd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VE,formatHex:VE,formatHex8:ede,formatHsl:tde,formatRgb:zE,toString:zE});function VE(){return this.rgb().formatHex()}function ede(){return this.rgb().formatHex8()}function tde(){return X5(this).formatHsl()}function zE(){return this.rgb().formatRgb()}function Yd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Yue.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?WE(e):r===3?new Qi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Bg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Bg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xue.exec(t))?new Qi(e[1],e[2],e[3],1):(e=que.exec(t))?new Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kue.exec(t))?Bg(e[1],e[2],e[3],e[4]):(e=Que.exec(t))?Bg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jue.exec(t))?GE(e[1],e[2]/100,e[3]/100,1):(e=Zue.exec(t))?GE(e[1],e[2]/100,e[3]/100,e[4]):$E.hasOwnProperty(t)?WE($E[t]):t==="transparent"?new Qi(NaN,NaN,NaN,0):null}function WE(t){return new Qi(t>>16&255,t>>8&255,t&255,1)}function Bg(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qi(t,e,r,n)}function rde(t){return t instanceof Pm||(t=Yd(t)),t?(t=t.rgb(),new Qi(t.r,t.g,t.b,t.opacity)):new Qi}function z1(t,e,r,n){return arguments.length===1?rde(t):new Qi(t,e,r,n??1)}function Qi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jT(Qi,z1,Y5(Pm,{brighter(t){return t=t==null?B0:Math.pow(B0,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wp:Math.pow(Wp,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qi(Yc(this.r),Yc(this.g),Yc(this.b),N0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HE,formatHex:HE,formatHex8:nde,formatRgb:UE,toString:UE}));function HE(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function nde(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function UE(){const t=N0(this.opacity);return`${t===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${t===1?")":`, ${t})`}`}function N0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ac(t){return t=Yc(t),(t<16?"0":"")+t.toString(16)}function GE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ba(t,e,r,n)}function X5(t){if(t instanceof Ba)return new Ba(t.h,t.s,t.l,t.opacity);if(t instanceof Pm||(t=Yd(t)),!t)return new Ba;if(t instanceof Ba)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ba(a,o,l,t.opacity)}function ide(t,e,r,n){return arguments.length===1?X5(t):new Ba(t,e,r,n??1)}function Ba(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jT(Ba,ide,Y5(Pm,{brighter(t){return t=t==null?B0:Math.pow(B0,t),new Ba(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wp:Math.pow(Wp,t),new Ba(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qi(_x(t>=240?t-240:t+120,i,n),_x(t,i,n),_x(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ba(jE(this.h),Ng(this.s),Ng(this.l),N0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N0(this.opacity);return`${t===1?"hsl(":"hsla("}${jE(this.h)}, ${Ng(this.s)*100}%, ${Ng(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jE(t){return t=(t||0)%360,t<0?t+360:t}function Ng(t){return Math.max(0,Math.min(1,t||0))}function _x(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const YT=t=>()=>t;function sde(t,e){return function(r){return t+r*e}}function ade(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ode(t){return(t=+t)==1?q5:function(e,r){return r-e?ade(e,r,t):YT(isNaN(e)?r:e)}}function q5(t,e){var r=e-t;return r?sde(t,r):YT(isNaN(t)?e:t)}const YE=function t(e){var r=ode(e);function n(i,s){var a=r((i=z1(i)).r,(s=z1(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=q5(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function lde(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function cde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ude(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Lv(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function K5(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Up(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function dde(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lv(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var W1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Px=new RegExp(W1.source,"g");function hde(t){return function(){return t}}function fde(t){return function(e){return t(e)+""}}function pde(t,e){var r=W1.lastIndex=Px.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=W1.exec(t))&&(i=Px.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Up(n,i)})),r=Px.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?fde(l[0].x):hde(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Lv(t,e){var r=typeof e,n;return e==null||r==="boolean"?YT(e):(r==="number"?Up:r==="string"?(n=Yd(e))?(e=n,YE):pde:e instanceof Yd?YE:e instanceof Date?K5:cde(e)?lde:Array.isArray(e)?ude:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dde:Up)(t,e)}function Q5(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mde(t){return function(){return t}}function gde(t){return+t}var XE=[0,1];function qs(t){return t}function H1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mde(isNaN(e)?NaN:.5)}function yde(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function bde(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=H1(i,n),s=r(a,s)):(n=H1(n,i),s=r(s,a)),function(o){return s(n(o))}}function vde(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=H1(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=G5(t,o,1,n)-1;return s[l](i[l](o))}}function Fv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function XT(){var t=XE,e=XE,r=Lv,n,i,s,a=qs,o,l,c;function u(){var h=Math.min(t.length,e.length);return a!==qs&&(a=yde(t[0],t[h-1])),o=h>2?vde:bde,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,t.map(n),Up)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,gde),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=Q5,u()},d.clamp=function(h){return arguments.length?(a=h?!0:qs,u()):a!==qs},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return n=h,i=p,u()}}function J5(){return XT()(qs,qs)}function wde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xd(t){return t=M0(Math.abs(t)),t?t[1]:NaN}function xde(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Sde(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gp(t){if(!(e=kde.exec(t)))throw new Error("invalid format: "+t);var e;return new qT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gp.prototype=qT.prototype;function qT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cde(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Z5;function Tde(t,e){var r=M0(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Z5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+M0(t,Math.max(0,e+s-1))[0]}function qE(t,e){var r=M0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const KE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qE(t*100,e),r:qE,s:Tde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QE(t){return t}var JE=Array.prototype.map,ZE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _de(t){var e=t.grouping===void 0||t.thousands===void 0?QE:xde(JE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?QE:Sde(JE.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Gp(d);var h=d.fill,p=d.align,f=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,v=d.precision,k=d.trim,C=d.type;C==="n"?(b=!0,C="g"):KE[C]||(v===void 0&&(v=12),k=!0,C="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=m==="$"?n:/[%p]/.test(C)?a:"",B=KE[C],D=/[defgprs%]/.test(C);v=v===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function E(R){var O=S,L=_,I,N,F;if(C==="c")L=B(R)+L,R="";else{R=+R;var A=R<0||1/R<0;if(R=isNaN(R)?l:B(Math.abs(R),v),k&&(R=Cde(R)),A&&+R==0&&f!=="+"&&(A=!1),O=(A?f==="("?f:o:f==="-"||f==="("?"":f)+O,L=(C==="s"?ZE[8+Z5/3]:"")+L+(A&&f==="("?")":""),D){for(I=-1,N=R.length;++I<N;)if(F=R.charCodeAt(I),48>F||F>57){L=(F===46?i+R.slice(I+1):R.slice(I))+L,R=R.slice(0,I);break}}}b&&!g&&(R=e(R,1/0));var M=O.length+R.length+L.length,V=M<y?new Array(y-M+1).join(h):"";switch(b&&g&&(R=e(V+R,V.length?y-L.length:1/0),V=""),p){case"<":R=O+R+L+V;break;case"=":R=O+V+R+L;break;case"^":R=V.slice(0,M=V.length>>1)+O+R+L+V.slice(M);break;default:R=V+O+R+L;break}return s(R)}return E.toString=function(){return d+""},E}function u(d,h){var p=c((d=Gp(d),d.type="f",d)),f=Math.max(-8,Math.min(8,Math.floor(Xd(h)/3)))*3,m=Math.pow(10,-f),g=ZE[8+f/3];return function(y){return p(m*y)+g}}return{format:c,formatPrefix:u}}var Mg,KT,e$;Pde({thousands:",",grouping:[3],currency:["$",""]});function Pde(t){return Mg=_de(t),KT=Mg.format,e$=Mg.formatPrefix,Mg}function Bde(t){return Math.max(0,-Xd(Math.abs(t)))}function Nde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xd(e)/3)))*3-Xd(Math.abs(t)))}function Mde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xd(e)-Xd(t))+1}function Ede(t,e,r,n){var i=V1(t,e,r),s;switch(n=Gp(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Nde(i,a))&&(n.precision=s),e$(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Mde(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Bde(i))&&(n.precision=s-(n.type==="%")*2);break}}return KT(n)}function QT(t){var e=t.domain;return t.ticks=function(r){var n=e();return O1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Ede(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=$1(a,o,r),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function t$(){var t=J5();return t.copy=function(){return Fv(t,t$())},sc.apply(t,arguments),QT(t)}function r$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function e2(t){return Math.log(t)}function t2(t){return Math.exp(t)}function Rde(t){return-Math.log(-t)}function Dde(t){return-Math.exp(-t)}function Ide(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lde(t){return t===10?Ide:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function r2(t){return(e,r)=>-t(-e,r)}function Ade(t){const e=t(e2,t2),r=e.domain;let n=10,i,s;function a(){return i=Fde(n),s=Lde(n),r()[0]<0?(i=r2(i),s=r2(s),t(Rde,Dde)):t(e2,t2),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),f,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(f=1;f<n;++f)if(m=h<0?f/s(-h):f*s(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(f=n-1;f>=1;--f)if(m=h>0?f/s(-h):f*s(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<g&&(y=O1(c,u,g))}else y=O1(h,p,Math.min(p-h,g)).map(s);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Gp(l)).precision==null&&(l.trim=!0),l=KT(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(r$(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function n$(){const t=Ade(XT()).domain([1,10]);return t.copy=()=>Fv(t,n$()).base(t.base()),sc.apply(t,arguments),t}function n2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ode(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $de(t){return t<0?-t*t:t*t}function Vde(t){var e=t(qs,qs),r=1;function n(){return r===1?t(qs,qs):r===.5?t(Ode,$de):t(n2(r),n2(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},QT(e)}function JT(){var t=Vde(XT());return t.copy=function(){return Fv(t,JT()).exponent(t.exponent())},sc.apply(t,arguments),t}function zde(){return JT.apply(null,arguments).exponent(.5)}function i$(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[G5(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return i$().domain(t).range(e).unknown(r)},sc.apply(i,arguments)}const Bx=new Date,Nx=new Date;function Kn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Kn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Bx.setTime(+s),Nx.setTime(+a),t(Bx),t(Nx),Math.floor(r(Bx,Nx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const E0=Kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);E0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):E0);E0.range;const Oo=1e3,Ks=Oo*60,$o=Ks*60,Zo=$o*24,ZT=Zo*7,i2=Zo*30,Mx=Zo*365,Oc=Kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCSeconds());Oc.range;const e_=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oo)},(t,e)=>{t.setTime(+t+e*Ks)},(t,e)=>(e-t)/Ks,t=>t.getMinutes());e_.range;const t_=Kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ks)},(t,e)=>(e-t)/Ks,t=>t.getUTCMinutes());t_.range;const r_=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oo-t.getMinutes()*Ks)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getHours());r_.range;const n_=Kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCHours());n_.range;const Bm=Kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ks)/Zo,t=>t.getDate()-1);Bm.range;const Av=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);Av.range;const s$=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));s$.range;function wu(t){return Kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ks)/ZT)}const Ov=wu(0),R0=wu(1),Wde=wu(2),Hde=wu(3),qd=wu(4),Ude=wu(5),Gde=wu(6);Ov.range;R0.range;Wde.range;Hde.range;qd.range;Ude.range;Gde.range;function xu(t){return Kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ZT)}const $v=xu(0),D0=xu(1),jde=xu(2),Yde=xu(3),Kd=xu(4),Xde=xu(5),qde=xu(6);$v.range;D0.range;jde.range;Yde.range;Kd.range;Xde.range;qde.range;const i_=Kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());i_.range;const s_=Kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());s_.range;const el=Kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());el.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});el.range;const tl=Kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});tl.range;function a$(t,e,r,n,i,s){const a=[[Oc,1,Oo],[Oc,5,5*Oo],[Oc,15,15*Oo],[Oc,30,30*Oo],[s,1,Ks],[s,5,5*Ks],[s,15,15*Ks],[s,30,30*Ks],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[n,1,Zo],[n,2,2*Zo],[r,1,ZT],[e,1,i2],[e,3,3*i2],[t,1,Mx]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),f=p?p.range(c,+u+1):[];return h?f.reverse():f}function l(c,u,d){const h=Math.abs(u-c)/d,p=UT(([,,g])=>g).right(a,h);if(p===a.length)return t.every(V1(c/Mx,u/Mx,d));if(p===0)return E0.every(Math.max(V1(c,u,d),1));const[f,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return f.every(m)}return[o,l]}const[Kde,Qde]=a$(tl,s_,$v,s$,n_,t_),[Jde,Zde]=a$(el,i_,Ov,Bm,r_,e_);function Ex(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ehe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Qh(i),u=Jh(i),d=Qh(s),h=Jh(s),p=Qh(a),f=Jh(a),m=Qh(o),g=Jh(o),y=Qh(l),b=Jh(l),v={a:A,A:M,b:V,B:W,c:null,d:u2,e:u2,f:khe,g:Dhe,G:Lhe,H:whe,I:xhe,j:She,L:o$,m:Che,M:The,p:K,q:ie,Q:f2,s:p2,S:_he,u:Phe,U:Bhe,V:Nhe,w:Mhe,W:Ehe,x:null,X:null,y:Rhe,Y:Ihe,Z:Fhe,"%":h2},k={a:se,A:te,b:G,B:Z,c:null,d:d2,e:d2,f:Vhe,g:Khe,G:Jhe,H:Ahe,I:Ohe,j:$he,L:c$,m:zhe,M:Whe,p:he,q:pe,Q:f2,s:p2,S:Hhe,u:Uhe,U:Ghe,V:jhe,w:Yhe,W:Xhe,x:null,X:null,y:qhe,Y:Qhe,Z:Zhe,"%":h2},C={a:E,A:R,b:O,B:L,c:I,d:l2,e:l2,f:ghe,g:o2,G:a2,H:c2,I:c2,j:hhe,L:mhe,m:dhe,M:fhe,p:D,q:uhe,Q:bhe,s:vhe,S:phe,u:she,U:ahe,V:ohe,w:ihe,W:lhe,x:N,X:F,y:o2,Y:a2,Z:che,"%":yhe};v.x=S(r,v),v.X=S(n,v),v.c=S(e,v),k.x=S(r,k),k.X=S(n,k),k.c=S(e,k);function S(ne,le){return function(oe){var q=[],X=-1,J=0,Y=ne.length,we,fe,$;for(oe instanceof Date||(oe=new Date(+oe));++X<Y;)ne.charCodeAt(X)===37&&(q.push(ne.slice(J,X)),(fe=s2[we=ne.charAt(++X)])!=null?we=ne.charAt(++X):fe=we==="e"?" ":"0",($=le[we])&&(we=$(oe,fe)),q.push(we),J=X+1);return q.push(ne.slice(J,X)),q.join("")}}function _(ne,le){return function(oe){var q=Kh(1900,void 0,1),X=B(q,ne,oe+="",0),J,Y;if(X!=oe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(le&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(J=Rx(Kh(q.y,0,1)),Y=J.getUTCDay(),J=Y>4||Y===0?D0.ceil(J):D0(J),J=Av.offset(J,(q.V-1)*7),q.y=J.getUTCFullYear(),q.m=J.getUTCMonth(),q.d=J.getUTCDate()+(q.w+6)%7):(J=Ex(Kh(q.y,0,1)),Y=J.getDay(),J=Y>4||Y===0?R0.ceil(J):R0(J),J=Bm.offset(J,(q.V-1)*7),q.y=J.getFullYear(),q.m=J.getMonth(),q.d=J.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Y="Z"in q?Rx(Kh(q.y,0,1)).getUTCDay():Ex(Kh(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Y+5)%7:q.w+q.U*7-(Y+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Rx(q)):Ex(q)}}function B(ne,le,oe,q){for(var X=0,J=le.length,Y=oe.length,we,fe;X<J;){if(q>=Y)return-1;if(we=le.charCodeAt(X++),we===37){if(we=le.charAt(X++),fe=C[we in s2?le.charAt(X++):we],!fe||(q=fe(ne,oe,q))<0)return-1}else if(we!=oe.charCodeAt(q++))return-1}return q}function D(ne,le,oe){var q=c.exec(le.slice(oe));return q?(ne.p=u.get(q[0].toLowerCase()),oe+q[0].length):-1}function E(ne,le,oe){var q=p.exec(le.slice(oe));return q?(ne.w=f.get(q[0].toLowerCase()),oe+q[0].length):-1}function R(ne,le,oe){var q=d.exec(le.slice(oe));return q?(ne.w=h.get(q[0].toLowerCase()),oe+q[0].length):-1}function O(ne,le,oe){var q=y.exec(le.slice(oe));return q?(ne.m=b.get(q[0].toLowerCase()),oe+q[0].length):-1}function L(ne,le,oe){var q=m.exec(le.slice(oe));return q?(ne.m=g.get(q[0].toLowerCase()),oe+q[0].length):-1}function I(ne,le,oe){return B(ne,e,le,oe)}function N(ne,le,oe){return B(ne,r,le,oe)}function F(ne,le,oe){return B(ne,n,le,oe)}function A(ne){return a[ne.getDay()]}function M(ne){return s[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function W(ne){return o[ne.getMonth()]}function K(ne){return i[+(ne.getHours()>=12)]}function ie(ne){return 1+~~(ne.getMonth()/3)}function se(ne){return a[ne.getUTCDay()]}function te(ne){return s[ne.getUTCDay()]}function G(ne){return l[ne.getUTCMonth()]}function Z(ne){return o[ne.getUTCMonth()]}function he(ne){return i[+(ne.getUTCHours()>=12)]}function pe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var le=S(ne+="",v);return le.toString=function(){return ne},le},parse:function(ne){var le=_(ne+="",!1);return le.toString=function(){return ne},le},utcFormat:function(ne){var le=S(ne+="",k);return le.toString=function(){return ne},le},utcParse:function(ne){var le=_(ne+="",!0);return le.toString=function(){return ne},le}}}var s2={"-":"",_:" ",0:"0"},si=/^\s*\d+/,the=/^%/,rhe=/[\\^$*+?|[\]().{}]/g;function hr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function nhe(t){return t.replace(rhe,"\\$&")}function Qh(t){return new RegExp("^(?:"+t.map(nhe).join("|")+")","i")}function Jh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ihe(t,e,r){var n=si.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function she(t,e,r){var n=si.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ahe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function ohe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function lhe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function a2(t,e,r){var n=si.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function o2(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function che(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uhe(t,e,r){var n=si.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function dhe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function l2(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function hhe(t,e,r){var n=si.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function c2(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function fhe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function phe(t,e,r){var n=si.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function mhe(t,e,r){var n=si.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ghe(t,e,r){var n=si.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yhe(t,e,r){var n=the.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function bhe(t,e,r){var n=si.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function vhe(t,e,r){var n=si.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function u2(t,e){return hr(t.getDate(),e,2)}function whe(t,e){return hr(t.getHours(),e,2)}function xhe(t,e){return hr(t.getHours()%12||12,e,2)}function She(t,e){return hr(1+Bm.count(el(t),t),e,3)}function o$(t,e){return hr(t.getMilliseconds(),e,3)}function khe(t,e){return o$(t,e)+"000"}function Che(t,e){return hr(t.getMonth()+1,e,2)}function The(t,e){return hr(t.getMinutes(),e,2)}function _he(t,e){return hr(t.getSeconds(),e,2)}function Phe(t){var e=t.getDay();return e===0?7:e}function Bhe(t,e){return hr(Ov.count(el(t)-1,t),e,2)}function l$(t){var e=t.getDay();return e>=4||e===0?qd(t):qd.ceil(t)}function Nhe(t,e){return t=l$(t),hr(qd.count(el(t),t)+(el(t).getDay()===4),e,2)}function Mhe(t){return t.getDay()}function Ehe(t,e){return hr(R0.count(el(t)-1,t),e,2)}function Rhe(t,e){return hr(t.getFullYear()%100,e,2)}function Dhe(t,e){return t=l$(t),hr(t.getFullYear()%100,e,2)}function Ihe(t,e){return hr(t.getFullYear()%1e4,e,4)}function Lhe(t,e){var r=t.getDay();return t=r>=4||r===0?qd(t):qd.ceil(t),hr(t.getFullYear()%1e4,e,4)}function Fhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function d2(t,e){return hr(t.getUTCDate(),e,2)}function Ahe(t,e){return hr(t.getUTCHours(),e,2)}function Ohe(t,e){return hr(t.getUTCHours()%12||12,e,2)}function $he(t,e){return hr(1+Av.count(tl(t),t),e,3)}function c$(t,e){return hr(t.getUTCMilliseconds(),e,3)}function Vhe(t,e){return c$(t,e)+"000"}function zhe(t,e){return hr(t.getUTCMonth()+1,e,2)}function Whe(t,e){return hr(t.getUTCMinutes(),e,2)}function Hhe(t,e){return hr(t.getUTCSeconds(),e,2)}function Uhe(t){var e=t.getUTCDay();return e===0?7:e}function Ghe(t,e){return hr($v.count(tl(t)-1,t),e,2)}function u$(t){var e=t.getUTCDay();return e>=4||e===0?Kd(t):Kd.ceil(t)}function jhe(t,e){return t=u$(t),hr(Kd.count(tl(t),t)+(tl(t).getUTCDay()===4),e,2)}function Yhe(t){return t.getUTCDay()}function Xhe(t,e){return hr(D0.count(tl(t)-1,t),e,2)}function qhe(t,e){return hr(t.getUTCFullYear()%100,e,2)}function Khe(t,e){return t=u$(t),hr(t.getUTCFullYear()%100,e,2)}function Qhe(t,e){return hr(t.getUTCFullYear()%1e4,e,4)}function Jhe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Kd(t):Kd.ceil(t),hr(t.getUTCFullYear()%1e4,e,4)}function Zhe(){return"+0000"}function h2(){return"%"}function f2(t){return+t}function p2(t){return Math.floor(+t/1e3)}var Au,d$,h$;efe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function efe(t){return Au=ehe(t),d$=Au.format,Au.parse,h$=Au.utcFormat,Au.utcParse,Au}function tfe(t){return new Date(t)}function rfe(t){return t instanceof Date?+t:+new Date(+t)}function a_(t,e,r,n,i,s,a,o,l,c){var u=J5(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),k=c("%Y");function C(S){return(l(S)<S?p:o(S)<S?f:a(S)<S?m:s(S)<S?g:n(S)<S?i(S)<S?y:b:r(S)<S?v:k)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,rfe)):h().map(tfe)},u.ticks=function(S){var _=h();return t(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?C:c(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=e(_[0],_[_.length-1],S??10)),S?h(r$(_,S)):u},u.copy=function(){return Fv(u,a_(t,e,r,n,i,s,a,o,l,c))},u}function f$(){return sc.apply(a_(Jde,Zde,el,i_,Ov,Bm,r_,e_,Oc,d$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nfe(){return sc.apply(a_(Kde,Qde,tl,s_,$v,Av,n_,t_,Oc,h$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ife(){var t=0,e=1,r,n,i,s,a=qs,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var p,f;return arguments.length?([p,f]=h,a=d(p,f),c):[a(0),a(1)]}}return c.range=u(Lv),c.rangeRound=u(Q5),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function sfe(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p$(){var t=QT(ife()(qs));return t.copy=function(){return sfe(t,p$())},Gue.apply(t,arguments)}function U1(t){return t.scaleType==="band"}function m$(t){return t.scaleType==="point"}function afe(t){return t.type==="piecewise"?i$(t.thresholds,t.colors):p$([t.min??0,t.max??100],t.color)}function I0(t){return t.values?P0(t.values,t.colors).unknown(t.unknownColor??null):P0(t.colors.map((e,r)=>r),t.colors).unknown(t.unknownColor??null)}function fy(t){return t.type==="ordinal"?I0(t):afe(t)}function cu(t){return t.bandwidth!==void 0}function o_(t){return typeof t=="number"&&!Number.isFinite(t)}function ofe(t){const{tickMaxStep:e,tickMinStep:r,tickNumber:n,range:i,domain:s}=t,a=r===void 0?999:Math.floor(Math.abs(s[1]-s[0])/r),o=e===void 0?2:Math.ceil(Math.abs(s[1]-s[0])/e),l=n??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(o,l))}const Dx={start:0,extremities:0,end:1,middle:.5};function L0(t){const{scale:e,tickNumber:r,valueFormatter:n,tickInterval:i,tickPlacement:s="extremities",tickLabelPlacement:a="middle"}=t;return w.useMemo(()=>{if(cu(e)){const c=e.domain();return e.bandwidth()>0?[...(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(h=>({value:h,formattedValue:(n==null?void 0:n(h,{location:"tick"}))??`${h}`,offset:e(h)-(e.step()-e.bandwidth())/2+Dx[s]*e.step(),labelOffset:a==="tick"?0:e.step()*(Dx[a]-Dx[s])})),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(d=>({value:d,formattedValue:(n==null?void 0:n(d,{location:"tick"}))??`${d}`,offset:e(d),labelOffset:0}))}return e.domain().some(o_)?[]:(typeof i=="object"?i:e.ticks(r)).map(c=>({value:c,formattedValue:(n==null?void 0:n(c,{location:"tick"}))??e.tickFormat(r)(c),offset:e(c),labelOffset:0}))},[e,i,r,n,s,a])}function lfe(t,e,r){switch(t){case"log":return n$(e,r);case"pow":return JT(e,r);case"sqrt":return zde(e,r);case"time":return f$(e,r);case"utc":return nfe(e,r);default:return t$(e,r)}}const Ix=(t,e)=>{const r=t[1]-t[0],n=e[1]-e[0],i=t[0]-e[0]*r/n,s=t[1]+(100-e[1])*r/n;return[i,s]},cfe=(t,e,r,n,i,s,a)=>{var p;const o=n[e],l=((p=s[e])==null?void 0:p.series)??{},[c,u]=(o==null?void 0:o({series:l,axis:r,isDefaultAxis:i,getFilters:a}))??[1/0,-1/0],[d,h]=t;return[Math.min(c,d),Math.max(u,h)]},ufe=(t,e,r,n,i)=>{const a=Object.keys(e).reduce((o,l)=>cfe(o,l,t,e,r,n,i),[1/0,-1/0]);return Number.isNaN(a[0])||Number.isNaN(a[1])?[1/0,-1/0]:a},dfe=(t,e,r)=>{const n=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return r?n.reverse():n},m2=t=>(t==null?void 0:t[0])instanceof Date;function g2(t,e){const r=f$(t.data,e);return(n,{location:i})=>i==="tick"?r.tickFormat(t.tickNumber)(n):`${n.toLocaleString()}`}const hfe=.2,ffe=.1;function y2({drawingArea:t,formattedSeries:e,axis:r,extremumGetters:n,axisDirection:i,zoomData:s,zoomOptions:a,getFilters:o}){const l={};return r.forEach((c,u)=>{const d=c,h=u===0,p=a==null?void 0:a[d.id],f=s==null?void 0:s.find(({axisId:L})=>L===d.id),m=f?[f.start,f.end]:[0,100],g=dfe(t,i,d.reverse),[y,b]=ufe(d,n,h,e,f===void 0&&!p?o:void 0),v=d.data??[];if(U1(d)){const L=d.categoryGapRatio??hfe,I=d.barGapRatio??ffe,N=i==="x"?g:[g[1],g[0]],F=Ix(N,m);if(l[d.id]=ge({categoryGapRatio:L,barGapRatio:I},d,{data:v,scale:GT(d.data,F).paddingInner(L).paddingOuter(L/2),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?I0(ge({values:d.data},d.colorMap)):fy(d.colorMap))}),m2(d.data)){const A=g2(d,N);l[d.id].valueFormatter=d.valueFormatter??A}}if(m$(d)){const L=i==="x"?g:[...g].reverse(),I=Ix(L,m);if(l[d.id]=ge({},d,{data:v,scale:jue(d.data,I),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?I0(ge({values:d.data},d.colorMap)):fy(d.colorMap))}),m2(d.data)){const N=g2(d,L);l[d.id].valueFormatter=d.valueFormatter??N}}if(d.scaleType==="band"||d.scaleType==="point")return;const k=d.scaleType??"linear",C=[d.min??y,d.max??b],S=ofe(ge({},d,{range:g,domain:C})),_=S/((m[1]-m[0])/100),B=Ix(g,m),D=lfe(k,C,B).nice(S),[E,R]=D.domain(),O=[d.min??E,d.max??R];l[d.id]=ge({},d,{data:v,scaleType:k,scale:D.domain(O),tickNumber:_,colorScale:d.colorMap&&fy(d.colorMap)})}),{axis:l,axisIds:r.map(({id:c})=>c)}}let b2=0;function pfe(t){const[e,r]=w.useState(t),n=t||e;return w.useEffect(()=>{e==null&&(b2+=1,r(`mui-${b2}`))},[e]),n}const v2=Xc.useId;function g$(t){if(v2!==void 0){const e=v2();return t??e}return pfe(t)}const l_="DEFAULT_X_AXIS_KEY",c_="DEFAULT_Y_AXIS_KEY",mfe={top:50,bottom:50,left:50,right:50},gfe=(t,e,r)=>{const n=ge({},mfe,r);return w.useMemo(()=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}),[t,e,n.top,n.bottom,n.left,n.right])},Vv=w.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),y$=w.createContext({isInitialized:!1,data:{current:null}});function yfe(t){const{width:e,height:r,margin:n,svgRef:i,children:s}=t,a=gfe(e,r,n),o=g$(),l=w.useCallback(({x:d,y:h},p)=>{if(p!=null&&p.targetElement&&(p!=null&&p.targetElement.closest("[data-drawing-container]")))return!0;const f=d>=a.left-1&&d<=a.left+a.width,m=h>=a.top-1&&h<=a.top+a.height;return(p==null?void 0:p.direction)==="x"?f:((p==null?void 0:p.direction)==="y"||f)&&m},[a]),c=w.useMemo(()=>ge({chartId:o??""},a,{isPointInside:l}),[o,a,l]),u=w.useMemo(()=>({isInitialized:!0,data:i}),[i]);return x.jsx(y$.Provider,{value:u,children:x.jsx(Vv.Provider,{value:c,children:s})})}function Ua(){const{left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}=w.useContext(Vv);return w.useMemo(()=>({left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}),[n,t,e,r,i,s,a])}const bfe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function vfe(t,e,r=bfe){return t.type==="pie"?ge({},t,{data:t.data.map((n,i)=>ge({color:r[i%r.length]},n))}):ge({color:r[e%r.length]},t)}const wfe=({series:t,colors:e,seriesFormatters:r,dataset:n})=>{const i={};t.forEach((a,o)=>{var u;const{id:l=`auto-generated-id-${o}`,type:c}=a;if(i[c]===void 0&&(i[c]={series:{},seriesOrder:[]}),((u=i[c])==null?void 0:u.series[l])!==void 0)throw new Error(`MUI X: series' id "${l}" is not unique.`);i[c].series[l]=ge({id:l},vfe(a,o,e)),i[c].seriesOrder.push(l)});const s={};return Object.keys(r).forEach(a=>{var l;const o=i[a];o!==void 0&&(s[a]=((l=r[a])==null?void 0:l.call(r,o,n))??i[a])}),s},xfe=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],Sfe=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],kfe=t=>t==="dark"?Sfe:xfe,b$=w.createContext({isInitialized:!1,data:{}}),Nm=w.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}}),w2=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},v$=t=>{var l;const{axis:e,getFilters:r,isDefaultAxis:n}=t,i=r==null?void 0:r({currentAxisId:e.id,isDefaultAxis:n}),s=i?(l=e.data)==null?void 0:l.filter((c,u)=>i({x:null,y:null},u)):e.data,a=Math.min(...s??[]),o=Math.max(...s??[]);return[a,o]},w$=t=>e=>{const{series:r,axis:n,getFilters:i,isDefaultAxis:s}=e;return Object.keys(r).filter(a=>{const o=r[a].yAxisId??r[a].yAxisKey;return o===n.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:l}=r[o],c=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:s,seriesXAxisId:r[o].xAxisId??r[o].xAxisKey,seriesYAxisId:r[o].yAxisId??r[o].yAxisKey}),[u,d]=(l==null?void 0:l.reduce((h,p,f)=>c&&(!c(w2(p[0],t),f)||!c(w2(p[1],t),f))?h:[Math.min(...p,h[0]),Math.max(...p,h[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(u,a[0]),Math.max(d,a[1])]},[1/0,-1/0])},Cfe=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?w$("x")(t):v$(t),Tfe=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?v$(t):w$("y")(t);function wa(t){return function(){return t}}const _fe=Math.PI,Lx=2*_fe;function x$(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pfe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Bfe(t){return t}function Nfe(){var t=Bfe,e=Pfe,r=null,n=wa(0),i=wa(Lx),s=wa(0);function a(o){var l,c=(o=x$(o)).length,u,d,h=0,p=new Array(c),f=new Array(c),m=+n.apply(this,arguments),g=Math.min(Lx,Math.max(-Lx,i.apply(this,arguments)-m)),y,b=Math.min(Math.abs(g)/c,s.apply(this,arguments)),v=b*(g<0?-1:1),k;for(l=0;l<c;++l)(k=f[p[l]=l]=+t(o[l],l,o))>0&&(h+=k);for(e!=null?p.sort(function(C,S){return e(f[C],f[S])}):r!=null&&p.sort(function(C,S){return r(o[C],o[S])}),l=0,d=h?(g-c*v)/h:0;l<c;++l,m=y)u=p[l],k=f[u],y=m+(k>0?k*d:0)+v,f[u]={data:o[u],index:l,value:k,startAngle:m,endAngle:y,padAngle:b};return f}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:wa(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,r=null,a):e},a.sort=function(o){return arguments.length?(r=o,e=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:wa(+o),a):n},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:wa(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:wa(+o),a):s},a}function Qd(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Jd(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Mfe(t,e){return t[e]}function Efe(t){const e=[];return e.key=t,e}function S$(){var t=wa([]),e=Jd,r=Qd,n=Mfe;function i(s){var a=Array.from(t.apply(this,arguments),Efe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(d,a[o].key,c,s)]).data=d;for(o=0,u=x$(e(a));o<l;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:wa(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:wa(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Jd:typeof s=="function"?s:wa(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Qd,i):r},i}function Rfe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Qd(t,e)}}function Dfe(t,e){if((l=t.length)>0)for(var r,n=0,i,s,a,o,l,c=t[e[0]].length;n<c;++n)for(a=o=0,r=0;r<l;++r)(s=(i=t[e[r]][n])[1]-i[0])>0?(i[0]=a,i[1]=a+=s):s<0?(i[1]=o,i[0]=o+=s):(i[0]=0,i[1]=s)}function Ife(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Qd(t,e)}}function Lfe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,f=0;f<o;++f){var m=t[e[f]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Qd(t,e)}}function k$(t){var e=t.map(Ffe);return Jd(t).sort(function(r,n){return e[r]-e[n]})}function Ffe(t){for(var e=-1,r=0,n=t.length,i,s=-1/0;++e<n;)(i=+t[e][1])>s&&(s=i,r=e);return r}function C$(t){var e=t.map(T$);return Jd(t).sort(function(r,n){return e[r]-e[n]})}function T$(t){for(var e=0,r=-1,n=t.length,i;++r<n;)(i=+t[r][1])&&(e+=i);return e}function Afe(t){return C$(t).reverse()}function Ofe(t){var e=t.length,r,n,i=t.map(T$),s=k$(t),a=0,o=0,l=[],c=[];for(r=0;r<e;++r)n=s[r],a<o?(a+=i[n],l.push(n)):(o+=i[n],c.push(n));return c.reverse().concat(l)}function $fe(t){return Jd(t).reverse()}const Fx={appearance:k$,ascending:C$,descending:Afe,insideOut:Ofe,none:Jd,reverse:$fe},Ax={expand:Rfe,diverging:Dfe,none:Qd,silhouette:Ife,wiggle:Lfe},_$=t=>{const{series:e,seriesOrder:r,defaultStrategy:n}=t,i=[],s={};return r.forEach(a=>{const{stack:o,stackOrder:l,stackOffset:c}=e[a];o===void 0?i.push({ids:[a],stackingOrder:Fx.none,stackingOffset:Ax.none}):s[o]===void 0?(s[o]=i.length,i.push({ids:[a],stackingOrder:Fx[l??(n==null?void 0:n.stackOrder)??"none"],stackingOffset:Ax[c??(n==null?void 0:n.stackOffset)??"diverging"]})):(i[s[o]].ids.push(a),l!==void 0&&(i[s[o]].stackingOrder=Fx[l]),c!==void 0&&(i[s[o]].stackingOffset=Ax[c]))}),i};function u_(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=ge({},t[n],{valueFormatter:t[n].valueFormatter??e})}),r}const Vfe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=_$(t),s=e??[];r.forEach(o=>{const l=n[o].data;if(l!==void 0)l.forEach((c,u)=>{s.length<=u?s.push({[o]:c}):s[u][o]=c});else if(e===void 0)throw new Error([`MUI X: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return i.forEach(o=>{const{ids:l,stackingOffset:c,stackingOrder:u}=o,d=S$().keys(l.map(h=>{const p=n[h].dataKey;return n[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(u).offset(c)(s);l.forEach((h,p)=>{const f=n[h].dataKey;a[h]=ge({layout:"vertical"},n[h],{data:f?e.map(m=>{const g=m[f];return typeof g!="number"?0:g}):n[h].data,stackedData:d[p].map(([m,g])=>[m,g])})})}),{seriesOrder:r,stackingGroups:i,series:u_(a,o=>o==null?"":o.toLocaleString())}},zfe=Vfe,Wfe=(t,e,r)=>{const n=t.layout==="vertical",i=n?e==null?void 0:e.colorScale:r==null?void 0:r.colorScale,s=n?r==null?void 0:r.colorScale:e==null?void 0:e.colorScale,a=n?e==null?void 0:e.data:r==null?void 0:r.data;return s?o=>{const l=t.data[o],c=l===null?t.color:s(l);return c===null?t.color:c}:i&&a?o=>{const l=a[o],c=l===null?t.color:i(l);return c===null?t.color:c}:()=>t.color},P$=Wfe,Hfe={seriesType:"bar",seriesFormatter:zfe,colorProcessor:P$,xExtremumGetter:Cfe,yExtremumGetter:Tfe},F0=(t,e)=>[Math.min(t[0],e[0]),Math.max(t[1],e[1])],Ufe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].xAxisId??e[s].xAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((c,u,d)=>o&&!o(u,d)?c:F0(c,[u.x,u.x]),[1/0,-1/0]);return F0(s,l)},[1/0,-1/0])},Gfe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((c,u,d)=>o&&!o(u,d)?c:F0(c,[u.y,u.y]),[1/0,-1/0]);return F0(s,l)},[1/0,-1/0])},jfe=({series:t,seriesOrder:e})=>({series:u_(t,r=>`(${r.x}, ${r.y})`),seriesOrder:e}),Yfe=jfe,Xfe=(t,e,r,n)=>{const i=n==null?void 0:n.colorScale,s=r==null?void 0:r.colorScale,a=e==null?void 0:e.colorScale;return i?o=>{var u,d;if(((u=n==null?void 0:n.data)==null?void 0:u[o])!==void 0){const h=i((d=n==null?void 0:n.data)==null?void 0:d[o]);if(h!==null)return h}const l=t.data[o],c=l===null?t.color:i(l.z);return c===null?t.color:c}:s?o=>{const l=t.data[o],c=l===null?t.color:s(l.y);return c===null?t.color:c}:a?o=>{const l=t.data[o],c=l===null?t.color:a(l.x);return c===null?t.color:c}:()=>t.color},qfe=Xfe,Kfe={seriesType:"scatter",seriesFormatter:Yfe,colorProcessor:qfe,xExtremumGetter:Ufe,yExtremumGetter:Gfe},Qfe=t=>{const{axis:e}=t,r=Math.min(...e.data??[]),n=Math.max(...e.data??[]);return[r,n]};function Jfe(t,e,r){return e.reduce((n,i,s)=>{const[a,o]=t(i);return r&&(!r({y:a,x:null},s)||!r({y:o,x:null},s))?n:[Math.min(a,o,n[0]),Math.max(a,o,n[1])]},[1/0,-1/0])}const Zfe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||n&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:l}=e[a],c=o!==void 0,u=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),d=c&&r.scaleType!=="log"&&typeof e[a].baseline!="string"?m=>m:m=>[m[1],m[1]],h=Jfe(d,l,u),[p,f]=h;return[Math.min(p,s[0]),Math.max(f,s[1])]},[1/0,-1/0])},epe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=_$(ge({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];r.forEach(o=>{const l=n[o].data;l!==void 0&&l.forEach((c,u)=>{s.length<=u?s.push({[o]:c}):s[u][o]=c})});const a={};return i.forEach(o=>{const{ids:l,stackingOrder:c,stackingOffset:u}=o,d=S$().keys(l.map(h=>{const p=n[h].dataKey;return n[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(c).offset(u)(s);l.forEach((h,p)=>{const f=n[h].dataKey;a[h]=ge({},n[h],{data:f?e.map(m=>{const g=m[f];return typeof g!="number"?null:g}):n[h].data,stackedData:d[p].map(([m,g])=>[m,g])})})}),{seriesOrder:r,stackingGroups:i,series:u_(a,o=>o==null?"":o.toLocaleString())}},tpe=epe,rpe=(t,e,r)=>{const n=r==null?void 0:r.colorScale,i=e==null?void 0:e.colorScale;return n?s=>{const a=t.data[s],o=a===null?t.color:n(a);return o===null?t.color:o}:i?s=>{var l;const a=(l=e.data)==null?void 0:l[s],o=a===null?t.color:i(a);return o===null?t.color:o}:()=>t.color},npe=rpe,ipe={seriesType:"line",colorProcessor:npe,seriesFormatter:tpe,xExtremumGetter:Qfe,yExtremumGetter:Zfe};function Ho(t,e){return typeof t=="function"?t(e):t}const spe=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,r)=>r-e;case"asc":return(e,r)=>e-r;default:return null}},ape=t=>{const{seriesOrder:e,series:r}=t,n={};return e.forEach(i=>{const s=Nfe().startAngle(2*Math.PI*(r[i].startAngle??0)/360).endAngle(2*Math.PI*(r[i].endAngle??360)/360).padAngle(2*Math.PI*(r[i].paddingAngle??0)/360).sortValues(spe(r[i].sortingValues??"none"))(r[i].data.map(a=>a.value));n[i]=ge({valueFormatter:a=>a.value.toLocaleString()},r[i],{data:r[i].data.map((a,o)=>ge({},a,{id:a.id??`auto-generated-pie-id-${i}-${o}`},s[o])).map((a,o)=>{var l,c;return ge({},a,{formattedValue:((c=(l=r[i]).valueFormatter)==null?void 0:c.call(l,ge({},a,{label:Ho(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:n}},ope=ape,lpe=t=>e=>t.data[e].color,cpe=lpe,upe={seriesType:"pie",colorProcessor:cpe,seriesFormatter:ope},dpe=[Hfe,Kfe,ipe,upe];function hpe(t){const e=t??dpe,r={},n={},i={},s={};for(let a=0;a<e.length;a+=1){const o=e[a],l=o.seriesType;r[l]=o.seriesFormatter,n[l]=o.colorProcessor,o.xExtremumGetter&&(i[l]=o.xExtremumGetter),o.yExtremumGetter&&(s[l]=o.yExtremumGetter)}return{seriesFormatters:r,colorProcessors:n,xExtremumGetters:i,yExtremumGetters:s}}function fpe(t){const{children:e,plugins:r}=t,n=w.useMemo(()=>({isInitialized:!0,data:hpe(r)}),[r]);return x.jsx(Nm.Provider,{value:n,children:e})}function B$(t){const{isInitialized:e,data:r}=w.useContext(Nm);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.colorProcessors[t]:r.colorProcessors}function ppe(t){const{isInitialized:e,data:r}=w.useContext(Nm);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.seriesFormatters[t]:r.seriesFormatters}function mpe(t){const{isInitialized:e,data:r}=w.useContext(Nm);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.xExtremumGetters[t]:r.xExtremumGetters}function gpe(t){const{isInitialized:e,data:r}=w.useContext(Nm);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.yExtremumGetters[t]:r.yExtremumGetters}function ype(t){const{series:e,dataset:r,colors:n=kfe,children:i}=t,s=ppe(),a=Ns(),o=w.useMemo(()=>({isInitialized:!0,data:wfe({series:e,colors:typeof n=="function"?n(a.palette.mode):n,seriesFormatters:s,dataset:r})}),[e,n,a.palette.mode,s,r]);return x.jsx(b$.Provider,{value:o,children:i})}function ac(){const{isInitialized:t,data:e}=w.useContext(b$);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function bpe(){const t=ac();return w.useMemo(()=>t.bar,[t.bar])}const N$=w.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function vpe(t){const{xAxis:e,yAxis:r,children:n}=t,i=ac(),s=Ua(),a=mpe(),o=gpe(),l=w.useMemo(()=>y2({drawingArea:s,formattedSeries:i,axis:e,extremumGetters:a,axisDirection:"x"}),[s,i,e,a]),c=w.useMemo(()=>y2({drawingArea:s,formattedSeries:i,axis:r,extremumGetters:o,axisDirection:"y"}),[s,i,r,o]),u=w.useMemo(()=>({isInitialized:!0,data:{xAxis:l.axis,yAxis:c.axis,xAxisIds:l.axisIds,yAxisIds:c.axisIds}}),[l,c]);return x.jsx(N$.Provider,{value:u,children:n})}const Ga=()=>{const{data:t}=w.useContext(N$);return t};function oc(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Na.apply(null,arguments)}function wpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xpe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function M$(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{xpe(r,e)})},t)}function Spe(t){return typeof t=="string"}function kpe(t,e,r){return t===void 0||Spe(t)?e:Na({},e,{ownerState:Na({},e.ownerState,r)})}function Cpe(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function x2(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Tpe(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const p=Se(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),f=Na({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=Na({},r,i,n);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const a=Cpe(Na({},i,n)),o=x2(n),l=x2(i),c=e(a),u=Se(c==null?void 0:c.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=Na({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=Na({},c,r,l,o);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function _pe(t,e,r){return typeof t=="function"?t(e,r):t}const Ppe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Aa(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=wpe(t,Ppe),o=s?{}:_pe(n,i),{props:l,internalRef:c}=Tpe(Na({},a,{externalSlotProps:o})),u=M$(c,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return kpe(r,Na({},l,{ref:u}),i)}const S2=t=>t,Bpe=()=>{let t=S2;return{configure(e){t=e},generate(e){return t(e)},reset(){t=S2}}},Npe=Bpe(),Mpe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lc(t,e,r="Mui"){const n=Mpe[e];return n?`${r}-${n}`:`${Npe.generate(t)}-${e}`}function Su(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=lc(t,i,r)}),n}const mh=w.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),Epe=(t,e)=>{switch(e.type){case"enterItem":return ge({},t,{item:e.data});case"exitChart":return t.item===null&&t.axis.x===null&&t.axis.y===null?t:ge({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return ge({},t,{useVoronoiInteraction:e.useVoronoiInteraction});case"leaveItem":return t.item===null||Object.keys(e.data).some(r=>e.data[r]!==t.item[r])?t:ge({},t,{item:null});case"updateAxis":return e.data.x===t.axis.x&&e.data.y===t.axis.y?t:ge({},t,{axis:e.data});default:return t}};function Rpe(t){const{children:e}=t,[r,n]=w.useReducer(Epe,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=w.useMemo(()=>ge({},r,{dispatch:n}),[r]);return x.jsx(mh.Provider,{value:i,children:e})}function Dpe({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=w.useRef(t!==void 0),[s,a]=w.useState(e),o=i?t:s,l=w.useCallback(c=>{i||a(c)},[]);return[o,l]}const E$=w.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),Ipe=(t,e)=>r=>t?t.fade==="series"?r.seriesId===(e==null?void 0:e.seriesId)&&r.dataIndex!==(e==null?void 0:e.dataIndex):t.fade==="global"?r.seriesId!==(e==null?void 0:e.seriesId)||r.dataIndex!==(e==null?void 0:e.dataIndex):!1:!1,Lpe=(t,e)=>r=>t?t.highlight==="series"?r.seriesId===(e==null?void 0:e.seriesId):t.highlight==="item"?r.dataIndex===(e==null?void 0:e.dataIndex)&&r.seriesId===(e==null?void 0:e.seriesId):!1:!1,Fpe=["highlighted","faded"],Ape=t=>{const e=t??{},{highlighted:r,faded:n}=e,i=xn(e,Fpe);return ge({highlight:r,fade:n},i)};function Ope({children:t,highlightedItem:e,onHighlightChange:r}){const[n,i]=Dpe({controlled:e,default:null,name:"HighlightedProvider",state:"highlightedItem"}),s=ac(),a=w.useMemo(()=>{const c=new Map;return Object.keys(s).forEach(u=>{const d=s[u];Object.keys((d==null?void 0:d.series)??{}).forEach(h=>{const p=d==null?void 0:d.series[h];c.set(h,Ape(p==null?void 0:p.highlightScope))})}),c},[s]),o=n&&n.seriesId?a.get(n.seriesId)??void 0:void 0,l=w.useMemo(()=>({isInitialized:!0,data:{highlightScope:o,highlightedItem:n,setHighlighted:c=>{i(c),r==null||r(c)},clearHighlighted:()=>{i(null),r==null||r(null)},isHighlighted:Lpe(o,n),isFaded:Ipe(o,n)}}),[n,o,i,r]);return x.jsx(E$.Provider,{value:l,children:t})}function R$(){const{isInitialized:t,data:e}=w.useContext(E$);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function D$(t){const e=R$();if(!t)return{isHighlighted:!1,isFaded:!1};const r=e.isHighlighted(t),n=!r&&e.isFaded(t);return{isHighlighted:r,isFaded:n}}const d_=w.createContext({zAxis:{},zAxisIds:[]});function $pe(t){const{zAxis:e,dataset:r,children:n}=t,i=w.useMemo(()=>e==null?void 0:e.map(a=>{const o=a.dataKey;if(o===void 0||a.data!==void 0)return a;if(r===void 0)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return ge({},a,{data:r.map(l=>l[o])})}),[e,r]),s=w.useMemo(()=>{const a=(i==null?void 0:i.map((l,c)=>ge({id:`defaultized-z-axis-${c}`},l)))??[],o={};return a.forEach(l=>{o[l.id]=ge({},l,{colorScale:l.colorMap&&(l.colorMap.type==="ordinal"&&l.data?I0(ge({values:l.data},l.colorMap)):fy(l.colorMap.type==="continuous"?ge({min:l.min,max:l.max},l.colorMap):l.colorMap))})}),{zAxis:o,zAxisIds:a.map(({id:l})=>l)}},[i]);return x.jsx(d_.Provider,{value:s,children:n})}const Vpe=t=>{const{dispatch:e}=w.useContext(mh),{setHighlighted:r,clearHighlighted:n}=R$();return t?()=>({}):s=>({onPointerEnter:()=>{e({type:"enterItem",data:s}),r({seriesId:s.seriesId,dataIndex:s.dataIndex})},onPointerLeave:c=>{c.currentTarget.releasePointerCapture(c.pointerId),e({type:"leaveItem",data:s}),n()},onPointerDown:c=>{c.currentTarget.hasPointerCapture(c.pointerId)&&c.currentTarget.releasePointerCapture(c.pointerId)}})},zpe=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function Wpe(t){return lc("MuiBarElement",t)}Su("MuiBarElement",["root"]);const Hpe=t=>{const{classes:e,id:r}=t,n={root:["root",`series-${r}`]};return oc(n,Wpe,e)},Upe=Q(HT.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({stroke:"none",fill:t.isHighlighted?Yd(t.color).brighter(.5).formatHex():t.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded&&.3||1}));function Gpe(t){const{id:e,dataIndex:r,classes:n,color:i,slots:s,slotProps:a,style:o,onClick:l}=t,c=xn(t,zpe),u=Vpe(),{isFaded:d,isHighlighted:h}=D$({seriesId:e,dataIndex:r}),p={id:e,dataIndex:r,classes:n,color:i,isFaded:d,isHighlighted:h},f=Hpe(p),m=(s==null?void 0:s.bar)??Upe,g=Aa({elementType:m,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:c,additionalProps:ge({},u({type:"bar",seriesId:e,dataIndex:r}),{style:o,onClick:l,cursor:l?"pointer":"unset"}),className:f.root,ownerState:p});return x.jsx(m,ge({},g))}function jpe(){const{chartId:t}=w.useContext(Vv);return w.useMemo(()=>t,[t])}function k2(t){return cu(t)?e=>(t(e)??0)+t.bandwidth()/2:e=>t(e)}function h_(){const{isInitialized:t,data:e}=w.useContext(y$);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}const Eg=(t,{hasNegative:e,hasPositive:r,borderRadius:n,layout:i})=>{if(!n)return 0;const s=i==="vertical";return t==="top-left"&&(s&&r||!s&&e)||t==="top-right"&&(s&&r||!s&&r)||t==="bottom-right"&&(s&&e||!s&&r)||t==="bottom-left"&&(s&&e||!s&&e)?n:0},Ype=["style","maskId"],Xpe=t=>`inset(0px round ${t.topLeft}px ${t.topRight}px ${t.bottomRight}px ${t.bottomLeft}px)`;function qpe(t){var r,n;const e=t.ownerState;return x.jsx(HT.rect,{style:ge({},t.style,{clipPath:(t.ownerState.layout==="vertical"?(r=t.style)==null?void 0:r.height:(n=t.style)==null?void 0:n.width).to(i=>Xpe({topLeft:Math.min(i,Eg("top-left",e)),topRight:Math.min(i,Eg("top-right",e)),bottomRight:Math.min(i,Eg("bottom-right",e)),bottomLeft:Math.min(i,Eg("bottom-left",e))}))})})}function Kpe(t){const{style:e,maskId:r}=t,n=xn(t,Ype);return!t.borderRadius||t.borderRadius<=0?null:x.jsx("clipPath",{id:r,children:x.jsx(qpe,{ownerState:n,style:e})})}function Qpe(t){return lc("MuiBarLabel",t)}const Ox=Su("MuiBarLabel",["root","highlighted","faded"]),Jpe=t=>{const{classes:e,seriesId:r,isFaded:n,isHighlighted:i}=t,s={root:["root",`series-${r}`,i&&"highlighted",n&&"faded"]};return oc(s,Qpe,e)},Zpe=t=>{const{barLabel:e,value:r,dataIndex:n,seriesId:i,height:s,width:a}=t;return e==="value"?r?r==null?void 0:r.toString():null:e({seriesId:i,dataIndex:n,value:r},{bar:{height:s,width:a}})},eme=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],tme=Q(HT.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Ox.faded}`]:e.faded},{[`&.${Ox.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,r,n,i;return ge({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(i=(n=(r=t.vars||t)==null?void 0:r.palette)==null?void 0:n.text)==null?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Ox.faded}`]:{opacity:.3}})});function rme(t){const e=Fe({props:t,name:"MuiBarLabel"}),r=xn(e,eme);return x.jsx(tme,ge({},r))}const nme=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],ime=["ownerState"];function sme(t){const{seriesId:e,classes:r,color:n,style:i,dataIndex:s,barLabel:a,slots:o,slotProps:l,height:c,width:u,value:d}=t,h=xn(t,nme),{isFaded:p,isHighlighted:f}=D$({seriesId:e,dataIndex:s}),m={seriesId:e,classes:r,color:n,isFaded:p,isHighlighted:f,dataIndex:s},g=Jpe(m),y=(o==null?void 0:o.barLabel)??rme,b=Aa({elementType:y,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:ge({},h,{style:i,className:g.root}),ownerState:m}),{ownerState:v}=b,k=xn(b,ime);if(!a)return null;const C=Zpe({barLabel:a,value:d,dataIndex:s,seriesId:e,height:c,width:u});return C?x.jsx(y,ge({},k,v,{children:C})):null}const ame=["bars","skipAnimation"],ome=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>ge({},t==="vertical"?{y:e,x:r+n/2,height:0,width:n}:{y:i+a/2,x:s,height:a,width:0}),C2=({x:t,width:e,y:r,height:n})=>({x:t+e/2,y:r+n/2,height:n,width:e});function lme(t){const{bars:e,skipAnimation:r}=t,n=xn(t,ame),i=A1(e,{keys:s=>`${s.seriesId}-${s.dataIndex}`,from:ome,leave:null,enter:C2,update:C2,immediate:r});return x.jsx(w.Fragment,{children:i((s,{seriesId:a,dataIndex:o,color:l,value:c,width:u,height:d})=>x.jsx(sme,ge({seriesId:a,dataIndex:o,value:c,color:l,width:u,height:d},n,{style:s})))})}const $x=(t,e)=>{const r=`${t}-axis`,n=`${t}Axis`;return e===(t==="x"?l_:c_)?`The first \`${n}\``:`The ${r} with id "${e}"`};function cme(t,e,r,n,i,s){const a=n[r],o=s[i],l=t?a:o,c=t?o:a,u=t?r:i,d=t?i:r,h=t?"x":"y",p=t?"y":"x";if(!U1(l))throw new Error(`MUI X: ${$x(h,u)} should be of type "band" to display the bar series of id "${e}".`);if(l.data===void 0)throw new Error(`MUI X: ${$x(h,u)} should have data property.`);if(U1(c)||m$(c))throw new Error(`MUI X: ${$x(p,d)} should be a continuous type to display the bar series of id "${e}".`)}const ume=["skipAnimation","onItemClick","borderRadius","barLabel"];function dme({bandWidth:t,numberOfGroups:e,gapRatio:r}){if(r===0)return{barWidth:t/e,offset:0};const n=t/(e+(e-1)*r),i=r*n;return{barWidth:n,offset:i}}const hme=()=>{const t=bpe()??{series:{},stackingGroups:[],seriesOrder:[]},e=Ga(),r=jpe(),{series:n,stackingGroups:i}=t,{xAxis:s,yAxis:a,xAxisIds:o,yAxisIds:l}=e,c=o[0],u=l[0],d={};return{completedData:i.flatMap(({ids:p},f)=>p.flatMap(m=>{const g=n[m].xAxisId??n[m].xAxisKey??c,y=n[m].yAxisId??n[m].yAxisKey??u,b=s[g],v=a[y],k=n[m].layout==="vertical";cme(k,m,g,s,y,a);const C=k?b:v,S=b.scale,_=v.scale,B=P$(n[m],s[g],a[y]),D=C.scale.bandwidth(),{barWidth:E,offset:R}=dme({bandWidth:D,numberOfGroups:i.length,gapRatio:C.barGapRatio}),O=f*(E+R),{stackedData:L}=n[m];return L.map((I,N)=>{var ie,se;const F=I.map(te=>k?_(te):S(te)),A=Math.round(Math.min(...F)),M=Math.round(Math.max(...F)),V=n[m].stack,W={seriesId:m,dataIndex:N,layout:n[m].layout,x:k?S((ie=s[g].data)==null?void 0:ie[N])+O:A,y:k?A:_((se=a[y].data)==null?void 0:se[N])+O,xOrigin:S(0),yOrigin:_(0),height:k?M-A:E,width:k?E:M-A,color:B(N),value:n[m].data[N],maskId:`${r}_${V||m}_${f}_${N}`};d[W.maskId]||(d[W.maskId]={id:W.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:W.layout,xOrigin:S(0),yOrigin:_(0),x:0,y:0});const K=d[W.maskId];return K.width=W.layout==="vertical"?W.width:K.width+W.width,K.height=W.layout==="vertical"?K.height+W.height:W.height,K.x=Math.min(K.x===0?1/0:K.x,W.x),K.y=Math.min(K.y===0?1/0:K.y,W.y),K.hasNegative=K.hasNegative||(W.value??0)<0,K.hasPositive=K.hasPositive||(W.value??0)>0,W})})),masksData:Object.values(d)}},Rg=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>ge({},t==="vertical"?{y:e,x:r,height:0,width:n}:{y:i,x:s,height:a,width:0}),Dg=({x:t,width:e,y:r,height:n})=>({y:r,x:t,height:n,width:e});function fme(t){const{completedData:e,masksData:r}=hme(),{skipAnimation:n,onItemClick:i,borderRadius:s,barLabel:a}=t,o=xn(t,ume),l=!s||s<=0,c=A1(e,{keys:d=>`${d.seriesId}-${d.dataIndex}`,from:Rg,leave:Rg,enter:Dg,update:Dg,immediate:n}),u=A1(l?[]:r,{keys:d=>d.id,from:Rg,leave:Rg,enter:Dg,update:Dg,immediate:n});return x.jsxs(w.Fragment,{children:[!l&&u((d,{id:h,hasPositive:p,hasNegative:f,layout:m})=>x.jsx(Kpe,{maskId:h,borderRadius:s,hasNegative:f,hasPositive:p,layout:m,style:d})),c((d,{seriesId:h,dataIndex:p,color:f,maskId:m})=>{const g=x.jsx(Gpe,ge({id:h,dataIndex:p,color:f},o,{onClick:i&&(y=>{i(y,{type:"bar",seriesId:h,dataIndex:p})}),style:d}));return l?g:x.jsx("g",{clipPath:`url(#${m})`,children:g})}),a&&x.jsx(lme,ge({bars:e,skipAnimation:n,barLabel:a},o))]})}function pme(t,e){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r.matrixTransform(t.getScreenCTM().inverse())}function Ou(t){return t instanceof Date?t.getTime():t}const mme=t=>{const e=h_(),r=Ua(),{xAxis:n,yAxis:i,xAxisIds:s,yAxisIds:a}=Ga(),{dispatch:o}=w.useContext(mh),l=s[0],c=a[0],u=w.useRef({isInChart:!1,x:-1,y:-1});w.useEffect(()=>{const d=e.current;if(d===null||t)return()=>{};function h(g,y){const{scale:b,data:v,reverse:k}=g;if(!cu(b)){const S=b.invert(y);if(v===void 0)return{value:S,index:-1};const _=Ou(S),B=v==null?void 0:v.findIndex((D,E)=>{const R=Ou(D);return R>_&&(E===0||Math.abs(_-R)<=Math.abs(_-Ou(v[E-1])))||R<=_&&(E===v.length-1||Math.abs(Ou(S)-R)<Math.abs(Ou(S)-Ou(v[E+1])))});return{value:B!==void 0&&B>=0?v[B]:S,index:B}}const C=b.bandwidth()===0?Math.floor((y-Math.min(...b.range())+b.step()/2)/b.step()):Math.floor((y-Math.min(...b.range()))/b.step());if(C<0||C>=v.length)return null;if(k){const S=v.length-1-C;return{index:S,value:v[S]}}return{index:C,value:v[C]}}const p=()=>{u.current={isInChart:!1,x:-1,y:-1},o({type:"exitChart"})},f=g=>{const y="targetTouches"in g?g.targetTouches[0]:g,b=pme(d,y);if(u.current.x=b.x,u.current.y=b.y,!r.isPointInside(b,{targetElement:g.target})){u.current.isInChart&&(o({type:"exitChart"}),u.current.isInChart=!1);return}u.current.isInChart=!0;const v=h(n[l],b.x),k=h(i[c],b.y);o({type:"updateAxis",data:{x:v,y:k}})},m=g=>{const y=g.currentTarget;y&&y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId)};return d.addEventListener("pointerdown",m),d.addEventListener("pointermove",f),d.addEventListener("pointerout",p),d.addEventListener("pointercancel",p),d.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerdown",m),d.removeEventListener("pointermove",f),d.removeEventListener("pointerout",p),d.removeEventListener("pointercancel",p),d.removeEventListener("pointerleave",p)}},[e,o,c,i,l,n,t,r])},gme=["children","width","height","viewBox","disableAxisListener","className","title","desc"],yme=Q("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),bme=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiChartsSurface"}),{children:i,width:s,height:a,viewBox:o,disableAxisListener:l=!1,className:c,title:u,desc:d}=n,h=xn(n,gme),p=ge({width:s,height:a,x:0,y:0},o);return mme(l),x.jsxs(yme,ge({width:s,height:a,viewBox:`${p.x} ${p.y} ${p.width} ${p.height}`,ref:r,className:c},h,{children:[x.jsx("title",{children:u}),x.jsx("desc",{children:d}),i]}))});function T2(t){const{isReversed:e,gradientId:r,size:n,direction:i,scale:s,colorMap:a}=t;return x.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,l)=>{const c=s(o);if(c===void 0)return null;const u=e?1-c/n:c/n;return x.jsxs(w.Fragment,{children:[x.jsx("stop",{offset:u,stopColor:a.colors[l],stopOpacity:1}),x.jsx("stop",{offset:u,stopColor:a.colors[l+1],stopOpacity:1})]},o.toString()+l)})})}const vme=10;function _2(t){const{gradientUnits:e,isReversed:r,gradientId:n,size:i,direction:s,scale:a,colorScale:o,colorMap:l}=t,c=[l.min??0,l.max??100],u=c.map(a).filter(f=>f!==void 0);if(u.length!==2)return null;const d=typeof c[0]=="number"?Up(c[0],c[1]):K5(c[0],c[1]),h=Math.round((Math.max(...u)-Math.min(...u))/vme),p=`${c[0]}-${c[1]}-`;return x.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${r?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:h+1},(f,m)=>{const g=d(m/h);if(g===void 0)return null;const y=a(g);if(y===void 0)return null;const b=r?1-y/i:y/i,v=o(g);return v===null?null:x.jsx("stop",{offset:b,stopColor:v,stopOpacity:1},p+m)})})}function wme(){const{chartId:t}=w.useContext(Vv);return w.useCallback((e,r)=>`${t}-gradient-${r}-${e}`,[t])}function xme(){const{top:t,height:e,bottom:r,left:n,width:i,right:s}=Ua(),a=t+e+r,o=n+i+s,l=wme(),{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=Ga();return x.jsxs("defs",{children:[d.filter(p=>h[p].colorMap!==void 0).map(p=>{const f=l(p,"y"),{colorMap:m,scale:g,colorScale:y,reverse:b}=h[p];return(m==null?void 0:m.type)==="piecewise"?x.jsx(T2,{isReversed:!b,scale:g,colorMap:m,size:a,gradientId:f,direction:"y"},f):(m==null?void 0:m.type)==="continuous"?x.jsx(_2,{isReversed:!b,scale:g,colorScale:y,colorMap:m,size:a,gradientId:f,direction:"y"},f):null}),c.filter(p=>u[p].colorMap!==void 0).map(p=>{const f=l(p,"x"),{colorMap:m,scale:g,reverse:y,colorScale:b}=u[p];return(m==null?void 0:m.type)==="piecewise"?x.jsx(T2,{isReversed:y,scale:g,colorMap:m,size:o,gradientId:f,direction:"x"},f):(m==null?void 0:m.type)==="continuous"?x.jsx(_2,{isReversed:y,scale:g,colorScale:b,colorMap:m,size:o,gradientId:f,direction:"x"},f):null})]})}const P2=(t,e,r)=>{const n=r==="x"?l_:c_;return[...(t==null?void 0:t.map((i,s)=>ge({id:`defaultized-${r}-axis-${s}`},i)))??[],...t===void 0||t.findIndex(({id:i})=>i===n)===-1?[{id:n,scaleType:"linear"}]:[]].map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(e===void 0)throw Error(`MUI X: ${r}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return ge({},i,{data:e.map(a=>a[s])})})},Sme=(t,e,r)=>{const n=w.useMemo(()=>P2(t,r,"x"),[t,r]),i=w.useMemo(()=>P2(e,r,"y"),[e,r]);return[n,i]},kme=()=>{Fc(()=>{var r;if(!window.matchMedia)return Ts.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),e=n=>{Ts.assign({skipAnimation:n.matches||void 0})};return e(t),(r=t.addEventListener)==null||r.call(t,"change",e),()=>{var n;(n=t.removeEventListener)==null||n.call(t,"change",e)}},[])},Cme=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],Tme=(t,e)=>{const{width:r,height:n,series:i,margin:s,xAxis:a,yAxis:o,zAxis:l,colors:c,dataset:u,sx:d,title:h,desc:p,disableAxisListener:f,highlightedItem:m,onHighlightChange:g,plugins:y,children:b}=t,v=xn(t,Cme),k=w.useRef(null),C=M$(e,k);kme();const[S,_]=Sme(a,o,u),B={width:r,height:n,margin:s,svgRef:k},D={plugins:y},E={series:i,colors:c,dataset:u},R={xAxis:S,yAxis:_,dataset:u},O={zAxis:l,dataset:u},L={highlightedItem:m,onHighlightChange:g},I=ge({},v,{width:r,height:n,ref:C,sx:d,title:h,desc:p,disableAxisListener:f});return{children:b,drawingProviderProps:B,seriesProviderProps:E,cartesianProviderProps:R,zAxisContextProps:O,highlightedProviderProps:L,chartsSurfaceProps:I,pluginProviderProps:D,xAxis:S,yAxis:_}},_me=w.forwardRef(function(e,r){const{children:n,drawingProviderProps:i,seriesProviderProps:s,cartesianProviderProps:a,zAxisContextProps:o,highlightedProviderProps:l,chartsSurfaceProps:c,pluginProviderProps:u}=Tme(e,r);return x.jsx(yfe,ge({},i,{children:x.jsx(fpe,ge({},u,{children:x.jsx(ype,ge({},s,{children:x.jsx(vpe,ge({},a,{children:x.jsx($pe,ge({},o,{children:x.jsx(Rpe,{children:x.jsx(Ope,ge({},l,{children:x.jsxs(bme,ge({},c,{children:[x.jsx(xme,{}),n]}))}))})}))}))}))}))}))}),Pme=Q("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:t})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),I$=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Bme(t){return t&&t.ownerDocument||document}function Nme(t){return Bme(t).defaultView||window}const Mme=(t,e)=>{const r=w.useRef(!1),n=w.useRef(null),[i,s]=w.useState(0),[a,o]=w.useState(0),l=w.useCallback(()=>{const c=n==null?void 0:n.current;if(!c)return;const d=Nme(c).getComputedStyle(c),h=Math.floor(parseFloat(d.height))||0,p=Math.floor(parseFloat(d.width))||0;s(p),o(h)},[]);return w.useEffect(()=>{r.current=!0},[]),I$(()=>{if(t!==void 0&&e!==void 0)return()=>{};l();const c=n.current;if(typeof ResizeObserver>"u")return()=>{};let u;const d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{l()})});return c&&d.observe(c),()=>{u&&window.cancelAnimationFrame(u),c&&d.unobserve(c)}},[l,e,t]),{containerRef:n,width:t??i,height:e??a}},Eme=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],Rme=(t,e)=>{const{width:r,height:n,margin:i,children:s,series:a,colors:o,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:p,sx:f,title:m,viewBox:g,xAxis:y,yAxis:b,zAxis:v}=t,k=xn(t,Eme),{containerRef:C,width:S,height:_}=Mme(r,n),B=ge({},k,{ownerState:{width:r,height:n},ref:C});return{hasIntrinsicSize:S&&_,chartContainerProps:{margin:i,children:s,series:a,colors:o,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:p,sx:f,title:m,viewBox:g,xAxis:y,yAxis:b,zAxis:v,width:S,height:_,ref:e},resizableChartContainerProps:B}},Dme=w.forwardRef(function(e,r){const{hasIntrinsicSize:n,chartContainerProps:i,resizableChartContainerProps:s}=Rme(e,r);return x.jsx(Pme,ge({},s,{children:n?x.jsx(_me,ge({},i)):null}))});function L$(t){return lc("MuiChartsAxis",t)}const Ig=Su("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),F$=Q("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${Ig.tickLabel}`]:ge({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${Ig.label}`]:ge({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${Ig.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${Ig.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}}));function Ime(){return typeof window>"u"}const pc={widthCache:{},cacheCount:0},Lme=2e3,Fme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ame=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],B2="mui_measurement_span";function A$(t,e){return Ame.indexOf(t)>=0&&e===+e?`${e}px`:e}function O$(t){return t.split("").reduce((n,i)=>i===i.toUpperCase()?[...n,"-",i.toLowerCase()]:[...n,i],[]).join("")}const Ome=t=>Object.keys(t).sort().reduce((e,r)=>`${e}${O$(r)}:${A$(r,t[r])};`,"");let Vx;const $me=(t,e={})=>{if(t==null||Ime())return{width:0,height:0};const r=`${t}`,n=Ome(e),i=`${r}-${n}`;if(pc.widthCache[i])return pc.widthCache[i];try{let s=document.getElementById(B2);s===null&&(s=document.createElement("span"),s.setAttribute("id",B2),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const a=ge({},Fme,e);Object.keys(a).map(c=>(s.style[O$(c)]=A$(c,a[c]),c)),s.textContent=r;const o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return pc.widthCache[i]=l,pc.cacheCount+1>Lme?(pc.cacheCount=0,pc.widthCache={}):pc.cacheCount+=1,Vx&&clearTimeout(Vx),Vx=setTimeout(()=>{s.textContent=""},0),l}catch{return{width:0,height:0}}};function f_({style:t,needsComputation:e,text:r}){return r.split(`
`).map(n=>ge({text:n},e?$me(n,t):{width:0,height:0}))}const Vme=["x","y","style","text","ownerState"],zme=["angle","textAnchor","dominantBaseline"];function jp(t){const{x:e,y:r,style:n,text:i}=t,s=xn(t,Vme),a=n??{},{angle:o,textAnchor:l,dominantBaseline:c}=a,u=xn(a,zme),d=w.useMemo(()=>f_({style:u,needsComputation:i.includes(`
`),text:i}),[u,i]);let h;switch(c){case"hanging":h=0;break;case"central":h=(d.length-1)/2*-d[0].height;break;default:h=(d.length-1)*-d[0].height;break}const p=[];return o&&p.push(`rotate(${o}, ${e}, ${r})`),x.jsx("text",ge({},s,{transform:p.length>0?p.join(" "):void 0,x:e,y:r,textAnchor:l,dominantBaseline:c,style:u,children:d.map((f,m)=>x.jsx("tspan",{x:e,dy:`${m===0?h:d[0].height}px`,dominantBaseline:c,children:f.text},m))}))}const N2=5;function Wme(t,e,r=0){const n=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(n<N2)return t;if(n>90-N2)return e;const i=n*Math.PI/180,s=Math.atan2(e,t);return i<s?t/Math.cos(i):e/Math.sin(i)}function Hme(t=!1){const[e,r]=w.useState(!1);return I$(()=>{t||r(!0)},[t]),w.useEffect(()=>{t&&r(!0)},[t]),e}const Ume=["scale","tickNumber","reverse"],Gme=t=>{const{classes:e,position:r}=t;return oc({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},L$,e)};function jme(t,{tickLabelStyle:e,tickLabelInterval:r,reverse:n,isMounted:i}){const s=t.map(c=>{if(!i||c.formattedValue===void 0)return ge({},c,{width:0,height:0});const u=f_({style:e,needsComputation:!0,text:c.formattedValue});return ge({},c,{width:Math.max(...u.map(d=>d.width)),height:Math.max(u.length*u[0].height)})});if(typeof r=="function")return s.map((c,u)=>ge({},c,{skipLabel:!r(c.value,u)}));let a=0,o=0;const l=n?-1:1;return s.map((c,u)=>{const{width:d,offset:h,labelOffset:p,height:f}=c,m=Wme(d,f,e==null?void 0:e.angle),g=h+p,y=1.2;return a=g-l*(y*m)/2,u>0&&l*a<l*o?ge({},c,{skipLabel:!0}):(o=g+l*(y*m)/2,c)})}const Yme={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function M2(t){const{xAxisIds:e,xAxis:r}=Ga(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s,reverse:a}=n,o=xn(n,Ume),l=Hme(),c=Fe({props:ge({},o,t),name:"MuiChartsXAxis"}),u=ge({},Yme,c),{position:d,disableLine:h,disableTicks:p,tickLabelStyle:f,label:m,labelStyle:g,tickFontSize:y,labelFontSize:b,tickSize:v,valueFormatter:k,slots:C,slotProps:S,tickInterval:_,tickLabelInterval:B,tickPlacement:D,tickLabelPlacement:E,sx:R}=u,O=Ns(),L=Gme(ge({},u,{theme:O})),{left:I,top:N,width:F,height:A,isPointInside:M}=Ua(),V=p?4:v,W=d==="bottom"?1:-1,K=(C==null?void 0:C.axisLine)??"line",ie=(C==null?void 0:C.axisTick)??"line",se=(C==null?void 0:C.axisTickLabel)??jp,te=(C==null?void 0:C.axisLabel)??jp,G=Aa({elementType:se,externalSlotProps:S==null?void 0:S.axisTickLabel,additionalProps:{style:ge({textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto",fontSize:y??12},f)},className:L.tickLabel,ownerState:{}}),Z=L0({scale:i,tickNumber:s,valueFormatter:k,tickInterval:_,tickPlacement:D,tickLabelPlacement:E}),he=jme(Z,{tickLabelStyle:G.style,tickLabelInterval:B,reverse:a,isMounted:l}),pe={x:I+F/2,y:W*(V+22)},ne=Aa({elementType:te,externalSlotProps:S==null?void 0:S.axisLabel,additionalProps:{style:ge({fontSize:b??14,textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto"},g)},ownerState:{}}),le=i.domain(),oe=cu(i);return oe&&le.length===0||!oe&&le.some(o_)?null:x.jsxs(F$,{transform:`translate(0, ${d==="bottom"?N+A:N})`,className:L.root,sx:R,children:[!h&&x.jsx(K,ge({x1:I,x2:I+F,className:L.line},S==null?void 0:S.axisLine)),he.map(({formattedValue:q,offset:X,labelOffset:J,skipLabel:Y},we)=>{const fe=J??0,$=W*(V+3),U=M({x:X,y:-1},{direction:"x"}),j=M({x:X+fe,y:-1},{direction:"x"});return x.jsxs("g",{transform:`translate(${X}, 0)`,className:L.tickContainer,children:[!p&&U&&x.jsx(ie,ge({y2:W*V,className:L.tick},S==null?void 0:S.axisTick)),q!==void 0&&!Y&&j&&x.jsx(se,ge({x:fe,y:$},G,{text:q.toString()}))]},we)}),m&&x.jsx("g",{className:L.label,children:x.jsx(te,ge({},pe,ne,{text:m}))})]})}const Xme=["scale","tickNumber"],qme=t=>{const{classes:e,position:r}=t;return oc({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},L$,e)},Kme={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function E2(t){const{yAxisIds:e,yAxis:r}=Ga(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s}=n,a=xn(n,Xme),o=Fe({props:ge({},a,t),name:"MuiChartsYAxis"}),l=ge({},Kme,o),{position:c,disableLine:u,disableTicks:d,tickFontSize:h,label:p,labelFontSize:f,labelStyle:m,tickLabelStyle:g,tickSize:y,valueFormatter:b,slots:v,slotProps:k,tickPlacement:C,tickLabelPlacement:S,tickInterval:_,tickLabelInterval:B,sx:D}=l,E=Ns(),R=qn(),O=qme(ge({},l,{theme:E})),{left:L,top:I,width:N,height:F,isPointInside:A}=Ua(),M=d?4:y,V=L0({scale:i,tickNumber:s,valueFormatter:b,tickPlacement:C,tickLabelPlacement:S,tickInterval:_}),W=c==="right"?1:-1,K={x:W*(h+M+10),y:I+F/2},ie=(v==null?void 0:v.axisLine)??"line",se=(v==null?void 0:v.axisTick)??"line",te=(v==null?void 0:v.axisTickLabel)??jp,G=(v==null?void 0:v.axisLabel)??jp,Z=!R&&c==="right"||R&&c!=="right",he=Aa({elementType:te,externalSlotProps:k==null?void 0:k.axisTickLabel,additionalProps:{style:ge({fontSize:h,textAnchor:Z?"start":"end",dominantBaseline:"central"},g)},className:O.tickLabel,ownerState:{}}),pe=Aa({elementType:G,externalSlotProps:k==null?void 0:k.axisLabel,additionalProps:{style:ge({fontSize:f,angle:W*90,textAnchor:"middle",dominantBaseline:"auto"},m)},ownerState:{}}),ne=Aa({elementType:ie,externalSlotProps:k==null?void 0:k.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),le=i.domain(),oe=cu(i);return oe&&le.length===0||!oe&&le.some(o_)?null:x.jsxs(F$,{transform:`translate(${c==="right"?L+N:L}, 0)`,className:O.root,sx:D,children:[!u&&x.jsx(ie,ge({y1:I,y2:I+F,className:O.line},ne)),V.map(({formattedValue:q,offset:X,labelOffset:J,value:Y},we)=>{const fe=W*(M+2),$=J,U=typeof B=="function"&&!(B!=null&&B(Y,we));return A({x:-1,y:X},{direction:"y"})?x.jsxs("g",{transform:`translate(0, ${X})`,className:O.tickContainer,children:[!d&&x.jsx(se,ge({x2:W*M,className:O.tick},k==null?void 0:k.axisTick)),q!==void 0&&!U&&x.jsx(te,ge({x:fe,y:$,text:q.toString()},he))]},we):null}),p&&x.jsx("g",{className:O.label,children:x.jsx(G,ge({},K,pe,{text:p}))})]})}const Lg=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,Fg=(t,e,r)=>typeof t=="object"?ge({},t,{slots:ge({},e,t==null?void 0:t.slots),slotProps:ge({},r,t==null?void 0:t.slotProps)}):{slots:e,slotProps:r};function Qme(t){const{topAxis:e,leftAxis:r,rightAxis:n,bottomAxis:i,slots:s,slotProps:a}=t,{xAxis:o,xAxisIds:l,yAxis:c,yAxisIds:u}=Ga(),d=Lg(r===void 0?u[0]:r,u[0]),h=Lg(i===void 0?l[0]:i,l[0]),p=Lg(e,l[0]),f=Lg(n,u[0]);if(p!==null&&!o[p])throw Error([`MUI X: id used for top axis "${p}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(d!==null&&!c[d])throw Error([`MUI X: id used for left axis "${d}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(f!==null&&!c[f])throw Error([`MUI X: id used for right axis "${f}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(h!==null&&!o[h])throw Error([`MUI X: id used for bottom axis "${h}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const m=Fg(e,s,a),g=Fg(i,s,a),y=Fg(r,s,a),b=Fg(n,s,a);return x.jsxs(w.Fragment,{children:[p&&x.jsx(M2,ge({},m,{position:"top",axisId:p})),h&&x.jsx(M2,ge({},g,{position:"bottom",axisId:h})),d&&x.jsx(E2,ge({},y,{position:"left",axisId:d})),f&&x.jsx(E2,ge({},b,{position:"right",axisId:f}))]})}function Jme(t){if(t===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:e,y:r}=t,n={width:0,height:0,x:e,y:r,top:r,right:e,bottom:r,left:e};return{getBoundingClientRect:()=>ge({},n,{toJSON:()=>JSON.stringify(n)})}}function Zme(){const t=h_(),[e,r]=w.useState(null);return w.useEffect(()=>{const n=t.current;if(n===null)return()=>{};const i=a=>{a.pointerType!=="mouse"&&r(null)},s=a=>{r({x:a.clientX,y:a.clientY,height:a.height,pointerType:a.pointerType})};return n.addEventListener("pointerdown",s),n.addEventListener("pointermove",s),n.addEventListener("pointerup",i),()=>{n.removeEventListener("pointerdown",s),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",i)}},[t]),e}function ege(t,e){if(t==="item")return e!==null;const r=e.x!==null,n=e.y!==null;return r||n}function tge(t){return t instanceof Date?t.toUTCString():t.toLocaleString()}function rge(t){return lc("MuiChartsTooltip",t)}const R2=Su("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),$$=Q("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius})),V$=Q("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:t})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(t.vars||t).palette.divider} 1px`}})),G1=Q("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:t})=>({"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}})),$c=Q("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:t})=>({verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,[`&.${R2.labelCell}`]:{paddingLeft:t.spacing(1)},[`&.${R2.valueCell}`]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}})),z$=Q("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:t=>kf(t)&&t!=="color"})(({theme:t,color:e})=>({width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:e,borderColor:(t.vars||t).palette.background.paper,border:`solid ${(t.vars||t).palette.background.paper} ${t.spacing(.25)}`,boxSizing:"content-box"}));function nge(t){var u;const{series:e,itemData:r,sx:n,classes:i,getColor:s}=t;if(r.dataIndex===void 0||!e.data[r.dataIndex])return null;const{displayedLabel:a,color:o}=e.type==="pie"?{color:s(r.dataIndex),displayedLabel:Ho(e.data[r.dataIndex].label,"tooltip")}:{color:s(r.dataIndex),displayedLabel:Ho(e.label,"tooltip")},l=e.type==="pie"?ge({},e.data[r.dataIndex],{label:Ho(e.data[r.dataIndex].label,"tooltip")}):e.data[r.dataIndex],c=(u=e.valueFormatter)==null?void 0:u.call(e,l,{dataIndex:r.dataIndex});return x.jsx($$,{sx:n,className:i.root,children:x.jsx(V$,{className:i.table,children:x.jsx("tbody",{children:x.jsxs(G1,{className:i.row,children:[x.jsx($c,{className:Se(i.markCell,i.cell),children:x.jsx(z$,{color:o,className:i.mark})}),x.jsx($c,{className:Se(i.labelCell,i.cell),children:a}),x.jsx($c,{className:Se(i.valueCell,i.cell),children:c})]})})})})}function ige(t){var k;const{content:e,itemData:r,sx:n,classes:i,contentProps:s}=t,a=ac()[r.type].series[r.seriesId],{xAxis:o,yAxis:l,xAxisIds:c,yAxisIds:u}=Ga(),{zAxis:d,zAxisIds:h}=w.useContext(d_),p=B$(),f=a.xAxisId??a.xAxisKey??c[0],m=a.yAxisId??a.yAxisKey??u[0],g=a.zAxisId??a.zAxisKey??h[0],y=((k=p[a.type])==null?void 0:k.call(p,a,f&&o[f],m&&l[m],g&&d[g]))??(()=>""),b=e??nge,v=Aa({elementType:b,externalSlotProps:s,additionalProps:{itemData:r,series:a,sx:n,classes:i,getColor:y},ownerState:{}});return x.jsx(b,ge({},v))}let D2;class sge{constructor(){if(this.types=new Set,D2)throw new Error("You can only create one instance!");D2=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const zv=new sge;zv.addType("bar");zv.addType("line");zv.addType("scatter");function W$(t){return zv.getTypes().has(t)}function age(t){return W$(t.type)}function oge(t){const{series:e,axis:r,dataIndex:n,axisValue:i,sx:s,classes:a}=t;if(n==null)return null;const o=r.valueFormatter??(l=>r.scaleType==="utc"?tge(l):l.toLocaleString());return x.jsx($$,{sx:s,className:a.root,children:x.jsxs(V$,{className:a.table,children:[i!=null&&!r.hideTooltip&&x.jsx("thead",{children:x.jsx(G1,{children:x.jsx($c,{colSpan:3,children:x.jsx(cr,{children:o(i,{location:"tooltip"})})})})}),x.jsx("tbody",{children:e.filter(age).map(({id:l,label:c,valueFormatter:u,data:d,getColor:h})=>{const p=u(d[n]??null,{dataIndex:n});if(p==null)return null;const f=Ho(c,"tooltip"),m=h(n);return x.jsxs(G1,{className:a.row,children:[x.jsx($c,{className:Se(a.markCell,a.cell),children:m&&x.jsx(z$,{color:m,className:a.mark})}),x.jsx($c,{className:Se(a.labelCell,a.cell),children:f?x.jsx(cr,{children:f}):null}),x.jsx($c,{className:Se(a.valueCell,a.cell),children:x.jsx(cr,{children:p})})]},l)})})]})})}function lge(t){const{content:e,contentProps:r,axisData:n,sx:i,classes:s}=t,a=n.x&&n.x.index!==-1,o=a?n.x&&n.x.index:n.y&&n.y.index,l=a?n.x&&n.x.value:n.y&&n.y.value,{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=Ga(),{zAxisIds:p,zAxis:f}=w.useContext(d_),m=ac(),g=B$(),y=a?c[0]:d[0],b=w.useMemo(()=>{const S=[];return Object.keys(m).filter(W$).forEach(_=>{m[_].seriesOrder.forEach(B=>{var L;const D=m[_].series[B],E=D.xAxisId??D.xAxisKey,R=D.yAxisId??D.yAxisKey,O=a?E:R;if(O===void 0||O===y){const I=m[_].series[B],N=E??c[0],F=R??d[0],A=I.zAxisId??I.zAxisKey??p[0],M=((L=g[_])==null?void 0:L.call(g,I,u[N],h[F],A&&f[A]))??(()=>"");S.push(ge({},I,{getColor:M}))}})}),S},[y,g,a,m,u,c,h,d,f,p]),v=w.useMemo(()=>a?u[y]:h[y],[y,a,u,h]),k=e??oge,C=Aa({elementType:k,externalSlotProps:r,additionalProps:{axisData:n,series:b,axis:v,dataIndex:o,axisValue:l,sx:i,classes:s},ownerState:{}});return x.jsx(k,ge({},C))}const cge=t=>{const{classes:e}=t;return oc({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},rge,e)},uge=Q(KL,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",zIndex:t.zIndex.modal}));function dge(t){const e=Fe({props:t,name:"MuiChartsTooltip"}),{trigger:r="axis",itemContent:n,axisContent:i,slots:s,slotProps:a}=e,o=Zme(),{item:l,axis:c}=w.useContext(mh),u=r==="item"?l:c,d=ege(r,u),h=o!==null&&d,p=cge({classes:e.classes}),f=(s==null?void 0:s.popper)??uge,m=Aa({elementType:f,externalSlotProps:a==null?void 0:a.popper,additionalProps:{open:h,placement:(o==null?void 0:o.pointerType)==="mouse"?"right-start":"top",anchorEl:Jme(o),modifiers:[{name:"offset",options:{offset:[0,(o==null?void 0:o.pointerType)==="touch"?40-o.height:0]}}]},ownerState:{}});return r==="none"?null:x.jsx(FL,{children:h&&x.jsx(f,ge({},m,{children:r==="item"?x.jsx(ige,{itemData:u,content:(s==null?void 0:s.itemContent)??n,contentProps:a==null?void 0:a.itemContent,sx:{mx:2},classes:p}):x.jsx(lge,{axisData:u,content:(s==null?void 0:s.axisContent)??i,contentProps:a==null?void 0:a.axisContent,sx:{mx:2},classes:p})}))})}const hge=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Ho(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},fge=hge,pge=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Ho(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},mge=pge,gge=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Ho(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},yge=gge,bge=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>(r[i].data.forEach(s=>{const a=Ho(s.label,"legend");a!==void 0&&n.push({color:s.color,label:a,id:s.id})}),n),[])},vge=bge,wge={bar:fge,scatter:mge,line:yge,pie:vge};function xge(t){return Object.keys(t).flatMap(e=>{const r=wge[e];return r===void 0?[]:r(t[e])})}function Sge(t){return lc("MuiChartsLegend",t)}Su("MuiChartsLegend",["root","series","mark","label","column","row"]);const kge=["label"];function Cge(t,e,r,n,i,s,a){let o=0,l=0,c=0,u=0,d=0;const h=[0];return[t.map(f=>{let{label:m}=f,g=xn(f,kge);const y=e(m,r),b=ge({},g,{label:m,positionX:o,positionY:l,innerHeight:y.innerHeight,innerWidth:y.innerWidth,outerHeight:y.outerHeight,outerWidth:y.outerWidth,rowIndex:d});return n==="row"&&(o+y.innerWidth>i&&(o=0,l+=h[d],d+=1,h.length<=d&&h.push(0),b.positionX=o,b.positionY=l,b.rowIndex=d),c=Math.max(c,o+y.outerWidth),u=Math.max(u,l+y.outerHeight),h[d]=Math.max(h[d],y.outerHeight),o+=y.outerWidth),n==="column"&&(l+y.innerHeight>s&&(o=c+a,l=0,d=0,b.positionX=o,b.positionY=l,b.rowIndex=d),h.length<=d&&h.push(0),c=Math.max(c,o+y.outerWidth),u=Math.max(u,l+y.outerHeight),d+=1,l+=y.outerHeight),b}).map(f=>ge({},f,{positionY:f.positionY+(n==="row"?h[f.rowIndex]/2:f.outerHeight/2)})),c,u]}const Tge=["rotate","dominantBaseline"],_ge=Q("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Pge=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:ge({left:0,right:0,top:0,bottom:0},t);function Bge(t){const{hidden:e,position:r,direction:n,itemsToDisplay:i,classes:s,itemMarkWidth:a=20,itemMarkHeight:o=20,markGap:l=5,itemGap:c=10,padding:u=10,labelStyle:d}=t,h=Ns(),p=qn(),f=Ua(),m=w.useMemo(()=>ge({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},d),[d,h]),g=w.useMemo(()=>Pge(u),[u]),y=w.useCallback((R,O={})=>{const L=xn(O,Tge),I=f_({style:L,needsComputation:!0,text:R}),N={innerWidth:a+l+Math.max(...I.map(F=>F.width)),innerHeight:Math.max(o,I.length*I[0].height)};return ge({},N,{outerWidth:N.innerWidth+c,outerHeight:N.innerHeight+c})},[c,o,a,l]),b=f.left+f.width+f.right,v=f.top+f.height+f.bottom,k=b-g.left-g.right,C=v-g.top-g.bottom,[S,_,B]=w.useMemo(()=>Cge(i,y,m,n,k,C,c),[i,y,m,n,k,C,c]),D=w.useMemo(()=>{switch(r.horizontal){case"left":return g.left;case"right":return b-g.right-_;default:return(b-_)/2}},[r.horizontal,g.left,g.right,b,_]),E=w.useMemo(()=>{switch(r.vertical){case"top":return g.top;case"bottom":return v-g.bottom-B;default:return(v-B)/2}},[r.vertical,g.top,g.bottom,v,B]);return e?null:x.jsx(FL,{children:x.jsx(_ge,{className:s==null?void 0:s.root,children:S.map(({id:R,label:O,color:L,positionX:I,positionY:N})=>x.jsxs("g",{className:s==null?void 0:s.series,transform:`translate(${D+(p?_-I:I)} ${E+N})`,children:[x.jsx("rect",{className:s==null?void 0:s.mark,x:p?-a:0,y:-o/2,width:a,height:o,fill:L}),x.jsx(jp,{style:m,text:O,x:(p?-1:1)*(a+l),y:0})]},R))})})}const Nge=["drawingArea","seriesToDisplay"];function Mge(t){const{seriesToDisplay:e}=t,r=xn(t,Nge);return x.jsx(Bge,ge({},r,{itemsToDisplay:e}))}const Ege=t=>{const{classes:e,direction:r}=t;return oc({root:["root",r],mark:["mark"],label:["label"],series:["series"]},Sge,e)},Rge={position:{horizontal:"middle",vertical:"top"},direction:"row"};function Dge(t){const e=Fe({props:ge({},Rge,t),name:"MuiChartsLegend"}),{position:r,direction:n,hidden:i,slots:s,slotProps:a}=e,o=Ns(),l=Ege(ge({},e,{theme:o})),c=Ua(),u=ac(),d=xge(u),h=(s==null?void 0:s.legend)??Mge,p=Aa({elementType:h,externalSlotProps:a==null?void 0:a.legend,additionalProps:{position:r,direction:n,classes:l,drawingArea:c,series:u,hidden:i,seriesToDisplay:d},ownerState:{}});return x.jsx(h,ge({},p))}function Ige(t){return lc("MuiChartsAxisHighlight",t)}Su("MuiChartsAxisHighlight",["root"]);const Lge=()=>oc({root:["root"]},Ige),Ag=Q("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:ge({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:ge({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Fge(t){const{x:e,y:r}=t,{xAxisIds:n,xAxis:i,yAxisIds:s,yAxis:a}=Ga(),o=Lge(),l=n[0],c=s[0],u=i[l].scale,d=a[c].scale,{axis:h}=w.useContext(mh),p=k2(u),f=k2(d),m=h.x,g=h.y,y=e==="band"&&m!==null&&cu(u),b=r==="band"&&g!==null&&cu(d);return x.jsxs(w.Fragment,{children:[y&&u(m.value)!==void 0&&x.jsx(Ag,{d:`M ${u(m.value)-(u.step()-u.bandwidth())/2} ${d.range()[0]} l ${u.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-u.step()} 0 Z`,className:o.root,ownerState:{axisHighlight:"band"}}),b&&d(g.value)!==void 0&&x.jsx(Ag,{d:`M ${u.range()[0]} ${d(g.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${u.range()[1]-u.range()[0]} 0 l 0 ${-d.step()} Z`,className:o.root,ownerState:{axisHighlight:"band"}}),e==="line"&&h.x!==null&&x.jsx(Ag,{d:`M ${p(h.x.value)} ${d.range()[0]} L ${p(h.x.value)} ${d.range()[1]}`,className:o.root,ownerState:{axisHighlight:"line"}}),r==="line"&&h.y!==null&&x.jsx(Ag,{d:`M ${u.range()[0]} ${f(h.y.value)} L ${u.range()[1]} ${f(h.y.value)}`,className:o.root,ownerState:{axisHighlight:"line"}})]})}function Age(t){const{id:e,offset:r}=t,{left:n,top:i,width:s,height:a}=Ua(),o=ge({top:0,right:0,bottom:0,left:0},r);return x.jsx("clipPath",{id:e,children:x.jsx("rect",{x:n-o.left,y:i-o.top,width:s+o.left+o.right,height:a+o.top+o.bottom})})}function Oge(t){return lc("MuiChartsGrid",t)}const I2=Su("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),$ge=["vertical","horizontal"],Vge=Q("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${I2.verticalLine}`]:e.verticalLine},{[`&.${I2.horizontalLine}`]:e.horizontalLine},e.root]})({}),L2=Q("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(t,e)=>e.line})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1})),zge=({classes:t})=>oc({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Oge,t);function Wge(t){const e=Fe({props:t,name:"MuiChartsGrid"}),r=Ua(),{vertical:n,horizontal:i}=e,s=xn(e,$ge),{xAxis:a,xAxisIds:o,yAxis:l,yAxisIds:c}=Ga(),u=zge(e),d=c[0],h=o[0],{scale:p,tickNumber:f,tickInterval:m}=a[h],{scale:g,tickNumber:y,tickInterval:b}=l[d],v=L0({scale:p,tickNumber:f,tickInterval:m}),k=L0({scale:g,tickNumber:y,tickInterval:b});return x.jsxs(Vge,ge({},s,{className:u.root,children:[n&&v.map(({formattedValue:C,offset:S})=>x.jsx(L2,{y1:r.top,y2:r.top+r.height,x1:S,x2:S,className:u.verticalLine},`vertical-${C}`)),i&&k.map(({formattedValue:C,offset:S})=>x.jsx(L2,{y1:S,y2:S,x1:r.left,x2:r.left+r.width,className:u.horizontalLine},`horizontal-${C}`))]}))}function Hge(t){const{onAxisClick:e}=t,r=h_(),n=ac(),{axis:i}=w.useContext(mh),{xAxisIds:s,xAxis:a,yAxisIds:o,yAxis:l}=Ga();return w.useEffect(()=>{const c=r.current;if(c===null||!e)return()=>{};const u=d=>{var y;d.preventDefault();const h=(i.x&&i.x.index)!==void 0,p=h?s[0]:o[0],f=h?i.x&&i.x.index:i.y&&i.y.index;if(f==null)return;const m={};Object.keys(n).filter(b=>["bar","line"].includes(b)).forEach(b=>{var v;(v=n[b])==null||v.seriesOrder.forEach(k=>{const C=n[b].series[k],S=C.xAxisId??C.xAxisKey,_=C.yAxisId??C.yAxisKey,B=h?S:_;(B===void 0||B===p)&&(m[k]=C.data[f])})});const g=(y=(h?a:l)[p].data)==null?void 0:y[f];e(d,{dataIndex:f,axisValue:g,seriesValues:m})};return c.addEventListener("click",u),()=>{c.removeEventListener("click",u)}},[i.x,i.y,e,n,r,a,s,l,o]),x.jsx(w.Fragment,{})}const Uge=["message"],Gge=Q("text")(({theme:t})=>ge({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function jge(t){const{message:e}=t,r=xn(t,Uge),{top:n,left:i,height:s,width:a}=Ua();return x.jsx(Gge,ge({x:i+a/2,y:n+s/2},r,{children:e??"Loading data"}))}const Yge=["message"],Xge=Q("text")(({theme:t})=>ge({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function qge(t){const{message:e}=t,r=xn(t,Yge),{top:n,left:i,height:s,width:a}=Ua();return x.jsx(Xge,ge({x:i+a/2,y:n+s/2},r,{children:e??"No data to display"}))}function Kge(){const t=ac();return Object.values(t).every(e=>{if(!e)return!0;const{series:r,seriesOrder:n}=e;return n.every(i=>r[i].data.length===0)})}function Qge(t){var r,n,i,s;const e=Kge();if(t.loading){const a=((r=t.slots)==null?void 0:r.loadingOverlay)??jge;return x.jsx(a,ge({},(n=t.slotProps)==null?void 0:n.loadingOverlay))}if(e){const a=((i=t.slots)==null?void 0:i.noDataOverlay)??qge;return x.jsx(a,ge({},(s=t.slotProps)==null?void 0:s.noDataOverlay))}return null}const Jge=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],Zge=t=>{const{xAxis:e,yAxis:r,series:n,width:i,height:s,margin:a,colors:o,dataset:l,sx:c,tooltip:u,onAxisClick:d,axisHighlight:h,legend:p,grid:f,topAxis:m,leftAxis:g,rightAxis:y,bottomAxis:b,children:v,slots:k,slotProps:C,skipAnimation:S,loading:_,layout:B,onItemClick:D,highlightedItem:E,onHighlightChange:R,borderRadius:O,barLabel:L,className:I}=t,N=xn(t,Jge),A=`${g$()}-clip-path`,M=B==="horizontal"||B===void 0&&n.some(oe=>oe.layout==="horizontal"),V={scaleType:"band",data:Array.from({length:Math.max(...n.map(oe=>(oe.data??l??[]).length))},(oe,q)=>q)},W=ge({},N,{series:n.map(oe=>ge({type:"bar"},oe,{layout:M?"horizontal":"vertical"})),width:i,height:s,margin:a,colors:o,dataset:l,xAxis:e??(M?void 0:[ge({id:l_},V)]),yAxis:r??(M?[ge({id:c_},V)]:void 0),sx:c,highlightedItem:E,onHighlightChange:R,disableAxisListener:(u==null?void 0:u.trigger)!=="axis"&&(h==null?void 0:h.x)==="none"&&(h==null?void 0:h.y)==="none"&&!d,className:I}),K={onItemClick:D,slots:k,slotProps:C,skipAnimation:S,borderRadius:O,barLabel:L},ie={onAxisClick:d},se={vertical:f==null?void 0:f.vertical,horizontal:f==null?void 0:f.horizontal},te={clipPath:`url(#${A})`},G={id:A},Z={slots:k,slotProps:C,loading:_},he={topAxis:m,leftAxis:g,rightAxis:y,bottomAxis:b,slots:k,slotProps:C},pe=ge({},M?{y:"band"}:{x:"band"},h),ne=ge({},p,{slots:k,slotProps:C}),le=ge({},u,{slots:k,slotProps:C});return{chartContainerProps:W,barPlotProps:K,axisClickHandlerProps:ie,gridProps:se,clipPathProps:G,clipPathGroupProps:te,overlayProps:Z,chartsAxisProps:he,axisHighlightProps:pe,legendProps:ne,tooltipProps:le,children:v}},H$=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:s,axisClickHandlerProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:c,overlayProps:u,chartsAxisProps:d,axisHighlightProps:h,legendProps:p,tooltipProps:f,children:m}=Zge(n);return x.jsxs(Dme,ge({ref:r},i,{children:[n.onAxisClick&&x.jsx(Hge,ge({},a)),n.grid&&x.jsx(Wge,ge({},o)),x.jsxs("g",ge({},c,{children:[x.jsx(fme,ge({},s)),x.jsx(Qge,ge({},u)),x.jsx(Fge,ge({},h))]})),x.jsx(Qme,ge({},d)),x.jsx(Dge,ge({},p)),!n.loading&&x.jsx(dge,ge({},f)),x.jsx(Age,ge({},l)),m]}))});function py(t,e,r){const n=[];for(let s=0;s<101;s++)n.push({percentage:s/100,amount:0});for(let s=0;s<t;s++){var i=0;for(let a=0;a<r;a++)Math.random()<e&&i++;n[Math.round(i/r*100)]={...n[Math.round(i/r*100)],amount:n[Math.round(i/r*100)].amount+1}}return n}function eye(t){return Math.round(t*1e4)/100+"%"}function tye(){const[t,e]=w.useState([]),[r,n]=w.useState(0),[i,s]=w.useState(.5),[a,o]=w.useState(10),[l,c]=w.useState(0),u=1e3,d=.05,h=1e4,p=l/a,f=r/h;return w.useEffect(()=>{let m=0;t.filter(g=>p>i?g.percentage>=p:g.percentage<=p).forEach(g=>m+=g.amount),n(m)},[p,i,t]),x.jsx(il,{title:"Math",children:x.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center",padding:"10px"},children:[x.jsx(H$,{dataset:t,xAxis:[{scaleType:"band",dataKey:"percentage",colorMap:{type:"piecewise",thresholds:p>i?[0,p]:[p+1e-7],colors:["red","blue","red"]}}],series:[{dataKey:"amount"}],width:800,height:300}),x.jsxs("div",{style:{display:"flex",textAlign:"center"},children:[x.jsxs("div",{style:{margin:20},children:[x.jsxs(cr,{fontSize:25,children:[Math.round(i*100),"%"]}),x.jsx(Mf,{max:1,step:.01,value:i,onChange:(m,g)=>{s(g),py(h,i,a)}}),"Null Hypothesis"]}),x.jsxs("div",{style:{margin:20,width:400},children:[x.jsx(cr,{fontSize:25,children:a}),x.jsx(Mf,{min:1,max:u,step:1,value:a,onChange:(m,g)=>{e(py(h,i,a)),o(g)},onChangeCommitted:()=>{l>a&&c(a)}}),"Sample size",x.jsxs("div",{style:{width:a/u*400},children:[x.jsx(cr,{fontSize:25,children:l}),x.jsx(Mf,{max:a,step:1,value:l,onChange:(m,g)=>c(g)}),"Successes"]})]})]}),x.jsxs("div",{children:["Out of the ",h," simulations run, ",r," ended with a sample proportion of ",Math.round(p*1e3)/10,"% or"," ",p>i?"higher":"lower"]}),x.jsxs("div",{children:["P-value is ",f," "]}),"That is",f<d?` less than the threshold of ${d} and is therefore statistically significant`:` more than the threshold of ${d} and is therefore NOT statistically significant`,x.jsx(Ri,{onClick:()=>e(py(h,i,a)),children:"Generate"})]})})}function rye({questions:t}){const{control:e,handleSubmit:r}=hO(),[n,i]=w.useState(null);function s(a){i(t.every(o=>Number(a[o.name])===o.correct))}return x.jsxs("div",{style:{display:"flex",flexDirection:"column",width:600},children:[t.map(a=>x.jsxs(x.Fragment,{children:[x.jsxs(cr,{children:["What is the ",a.name,"? (Round to 2 decimals if necessary)"]}),x.jsxs("div",{children:[x.jsx(sy,{control:e,name:a.name,render:({field:o})=>x.jsx(fp,{type:"number",value:o.value,onChange:o.onChange})}),x.jsx(nye,{solution:a.correct})]})]})),x.jsx(Ri,{onClick:r(s),children:"Submit"}),n===!0&&x.jsx(nZ,{style:{color:"green"}}),n===!1&&x.jsx(lv,{style:{color:"red"}})]})}function nye({solution:t}){const[e,r]=w.useState(!1);return x.jsxs(x.Fragment,{children:[e===!1&&x.jsx(Ri,{onClick:()=>r(!0),style:{textTransform:"lowercase"},children:"View solution"}),e===!0&&x.jsx(x.Fragment,{children:t})]})}function iye(){const t=["people","birds","stuffed animals","clouds","girls named Vivian","clowns"],e=["hairy","white","just straight ugly","edible","downright evil","mentally insane"],r=["inside your bathroom","to the park","to Mexico","to hell","to a Trump rally","to highschool prom"],n=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)],s=r[Math.floor(Math.random()*r.length)],a=Math.round(Math.random()*1e3),o=Math.round(Math.random()*a),l=o/a,c=Math.min(100,Math.max(0,Math.round(((Math.random()-.5)/10+l)*100)/100)),u=py(1e3,c,a);var d=0;u.filter(p=>l>c?p.percentage>=l:p.percentage<=l).forEach(p=>d+=p.amount);const h=Math.round(d/1e3*100)/100;return x.jsx(il,{title:"Math Quiz",children:x.jsxs("div",{style:{padding:15},children:[x.jsxs(cr,{children:["It is common knowledge that ",eye(c)," of ",n," ","are ",i,". However, you went ",s," and saw ",a," ",n,". You noticed that ",o," were ",i,". Below is a chart that represents the null distribution."]}),x.jsx(H$,{dataset:u,xAxis:[{scaleType:"band",dataKey:"percentage"}],series:[{dataKey:"amount"}],width:800,height:300}),x.jsx(rye,{questions:[{name:"sample proportion",correct:Math.round(l*100)/100},{name:"null value",correct:Math.round(c*100)/100},{name:"p-value",correct:h}]})]})})}var sye=aye;function aye(t,e,r){if(t!=null&&typeof t!="number")throw new Error("start must be a number or null");if(e!=null&&typeof e!="number")throw new Error("stop must be a number or null");if(r!=null&&typeof r!="number")throw new Error("step must be a number or null");e==null&&(e=t||0,t=0),r==null&&(r=e>t?1:-1);for(var n=[],i=t<e;i?t<e:t>e;t+=r)n.push(t);return n}const p_=aa(sye);var U$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(U$);var oye=U$.exports;const m_=aa(oye);var lye=200,g_="__lodash_hash_undefined__",cye=9007199254740991,uye="[object Arguments]",dye="[object Function]",hye="[object GeneratorFunction]",fye=/[\\^$.*+?()[\]{}|]/g,pye=/^\[object .+?Constructor\]$/,mye=typeof so=="object"&&so&&so.Object===Object&&so,gye=typeof self=="object"&&self&&self.Object===Object&&self,y_=mye||gye||Function("return this")();function yye(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function bye(t,e){var r=t?t.length:0;return!!r&&kye(t,e,0)>-1}function vye(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function wye(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function xye(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Sye(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function kye(t,e,r){if(e!==e)return Sye(t,Cye,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Cye(t){return t!==t}function Tye(t){return function(e){return t(e)}}function _ye(t,e){return t.has(e)}function Pye(t,e){return t==null?void 0:t[e]}function Bye(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Nye=Array.prototype,Mye=Function.prototype,b_=Object.prototype,zx=y_["__core-js_shared__"],F2=function(){var t=/[^.]+$/.exec(zx&&zx.keys&&zx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),G$=Mye.toString,Wv=b_.hasOwnProperty,j$=b_.toString,Eye=RegExp("^"+G$.call(Wv).replace(fye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A2=y_.Symbol,Rye=b_.propertyIsEnumerable,Dye=Nye.splice,O2=A2?A2.isConcatSpreadable:void 0,$2=Math.max,Iye=X$(y_,"Map"),Yp=X$(Object,"create");function uu(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lye(){this.__data__=Yp?Yp(null):{}}function Fye(t){return this.has(t)&&delete this.__data__[t]}function Aye(t){var e=this.__data__;if(Yp){var r=e[t];return r===g_?void 0:r}return Wv.call(e,t)?e[t]:void 0}function Oye(t){var e=this.__data__;return Yp?e[t]!==void 0:Wv.call(e,t)}function $ye(t,e){var r=this.__data__;return r[t]=Yp&&e===void 0?g_:e,this}uu.prototype.clear=Lye;uu.prototype.delete=Fye;uu.prototype.get=Aye;uu.prototype.has=Oye;uu.prototype.set=$ye;function gh(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vye(){this.__data__=[]}function zye(t){var e=this.__data__,r=Hv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Dye.call(e,r,1),!0}function Wye(t){var e=this.__data__,r=Hv(e,t);return r<0?void 0:e[r][1]}function Hye(t){return Hv(this.__data__,t)>-1}function Uye(t,e){var r=this.__data__,n=Hv(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}gh.prototype.clear=Vye;gh.prototype.delete=zye;gh.prototype.get=Wye;gh.prototype.has=Hye;gh.prototype.set=Uye;function yh(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gye(){this.__data__={hash:new uu,map:new(Iye||gh),string:new uu}}function jye(t){return Uv(this,t).delete(t)}function Yye(t){return Uv(this,t).get(t)}function Xye(t){return Uv(this,t).has(t)}function qye(t,e){return Uv(this,t).set(t,e),this}yh.prototype.clear=Gye;yh.prototype.delete=jye;yh.prototype.get=Yye;yh.prototype.has=Xye;yh.prototype.set=qye;function A0(t){var e=-1,r=t?t.length:0;for(this.__data__=new yh;++e<r;)this.add(t[e])}function Kye(t){return this.__data__.set(t,g_),this}function Qye(t){return this.__data__.has(t)}A0.prototype.add=A0.prototype.push=Kye;A0.prototype.has=Qye;function Hv(t,e){for(var r=t.length;r--;)if(a0e(t[r][0],e))return r;return-1}function Jye(t,e,r,n){var i=-1,s=bye,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;r&&(e=wye(e,Tye(r))),n?(s=vye,a=!1):e.length>=lye&&(s=_ye,a=!1,e=new A0(e));e:for(;++i<o;){var u=t[i],d=r?r(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;l.push(u)}else s(e,d,n)||l.push(u)}return l}function Y$(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=t0e),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?Y$(o,e-1,r,n,i):xye(i,o):n||(i[i.length]=o)}return i}function Zye(t){if(!K$(t)||n0e(t))return!1;var e=q$(t)||Bye(t)?Eye:pye;return e.test(i0e(t))}function e0e(t,e){return e=$2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=$2(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=s,yye(t,this,a)}}function Uv(t,e){var r=t.__data__;return r0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function X$(t,e){var r=Pye(t,e);return Zye(r)?r:void 0}function t0e(t){return l0e(t)||o0e(t)||!!(O2&&t&&t[O2])}function r0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function n0e(t){return!!F2&&F2 in t}function i0e(t){if(t!=null){try{return G$.call(t)}catch{}try{return t+""}catch{}}return""}var s0e=e0e(function(t,e){return j1(t)?Jye(t,Y$(e,1,j1,!0)):[]});function a0e(t,e){return t===e||t!==t&&e!==e}function o0e(t){return j1(t)&&Wv.call(t,"callee")&&(!Rye.call(t,"callee")||j$.call(t)==uye)}var l0e=Array.isArray;function c0e(t){return t!=null&&u0e(t.length)&&!q$(t)}function j1(t){return d0e(t)&&c0e(t)}function q$(t){var e=K$(t)?j$.call(t):"";return e==dye||e==hye}function u0e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cye}function K$(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function d0e(t){return!!t&&typeof t=="object"}var h0e=s0e;const V2=aa(h0e);function Gv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jv(t,e,r){return e&&z2(t.prototype,e),r&&z2(t,r),t}function Vr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y1(){return Y1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y1.apply(this,arguments)}function Yv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X1(t,e)}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(t)}function X1(t,e){return X1=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},X1(t,e)}function f0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function p0e(t,e){if(t==null)return{};var r=f0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xv(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:Wn(t)}function m0e(t,e){return g0e(t)||y0e(t,e)||b0e()}function g0e(t){if(Array.isArray(t))return t}function y0e(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}function b0e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var v0e=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],w0e=["Db","Eb","Gb","Ab","Bb"],x0e={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},O0=12,v_=O0,w_=127,S0e=/([a-g])([#b]?)(\d+)/,q1=12;function k0e(t){if(!t)throw Error("Invalid note argument");var e=S0e.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var r=m0e(e,4),n=r[1],i=r[2],s=r[3],a="".concat(n.toUpperCase()).concat(i),o=x0e[a];if(o==null)throw Error("Invalid note argument");return O0+o+q1*parseInt(s,10)}function C0e(t){var e=(t-O0)%q1,r=Math.floor((t-O0)/q1),n=v0e[e];return{note:"".concat(n).concat(r),pitchName:n,octave:r,midiNumber:t,isAccidental:w0e.includes(n)}}function T0e(){return p_(v_,w_+1).reduce(function(t,e){return t[e]=C0e(e),t},{})}var _0e=T0e();function Q$(t){var e=_0e[t];if(!e)throw Error("Invalid MIDI number");return e}var P0e=p_(v_,w_+1).filter(function(t){return!Q$(t).isAccidental}),Xp={fromNote:k0e,getAttributes:Q$,MIN_MIDI_NUMBER:v_,MAX_MIDI_NUMBER:w_,NATURAL_MIDI_NUMBERS:P0e},x_=function(t){Yv(e,t);function e(){var r,n;Gv(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Xv(this,(r=Zd(e)).call.apply(r,[this].concat(s))),Vr(Wn(n),"onPlayNoteInput",function(){n.props.onPlayNoteInput(n.props.midiNumber)}),Vr(Wn(n),"onStopNoteInput",function(){n.props.onStopNoteInput(n.props.midiNumber)}),n}return jv(e,[{key:"getAbsoluteKeyPosition",value:function(n){var i=7,s=Xp.getAttributes(n),a=s.octave,o=s.pitchName,l=this.props.pitchPositions[o],c=i*a;return l+c}},{key:"getRelativeKeyPosition",value:function(n){return this.getAbsoluteKeyPosition(n)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var n=this.props,i=n.naturalKeyWidth,s=n.accidentalWidthRatio,a=n.midiNumber,o=n.gliss,l=n.useTouchEvents,c=n.accidental,u=n.active,d=n.highlighted,h=n.disabled,p=n.children;return Ct.createElement("div",{className:m_("ReactPiano__Key",{"ReactPiano__Key--accidental":c,"ReactPiano__Key--natural":!c,"ReactPiano__Key--disabled":h,"ReactPiano__Key--active":u,"ReactPiano__Key--highlighted":d}),style:{left:W2(this.getRelativeKeyPosition(a)*i),width:W2(c?s*i:i)},onMouseDown:l?null:this.onPlayNoteInput,onMouseUp:l?null:this.onStopNoteInput,onMouseEnter:o?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:l?this.onPlayNoteInput:null,onTouchCancel:l?this.onStopNoteInput:null,onTouchEnd:l?this.onStopNoteInput:null},Ct.createElement("div",{className:"ReactPiano__NoteLabelContainer"},p))}}]),e}(Ct.Component);Vr(x_,"propTypes",{midiNumber:z.number.isRequired,naturalKeyWidth:z.number.isRequired,gliss:z.bool.isRequired,useTouchEvents:z.bool.isRequired,accidental:z.bool.isRequired,active:z.bool.isRequired,highlighted:z.bool.isRequired,disabled:z.bool.isRequired,onPlayNoteInput:z.func.isRequired,onStopNoteInput:z.func.isRequired,accidentalWidthRatio:z.number.isRequired,pitchPositions:z.object.isRequired,children:z.node});Vr(x_,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function W2(t){return"".concat(t*100,"%")}var S_=function(t){Yv(e,t);function e(){return Gv(this,e),Xv(this,Zd(e).apply(this,arguments))}return jv(e,[{key:"getMidiNumbers",value:function(){return p_(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(n){var i=Xp.getAttributes(n),s=i.isAccidental;return!s}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var n=this.props.width*this.getNaturalKeyWidth();return"".concat(n/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var n=this,i=this.getNaturalKeyWidth();return Ct.createElement("div",{className:m_("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(s){var a=Xp.getAttributes(s);a.note;var o=a.isAccidental,l=!n.props.disabled&&n.props.activeNotes.includes(s),c=!n.props.disabled&&n.props.highlightedNotes.includes(s);return Ct.createElement(x_,{naturalKeyWidth:i,midiNumber:s,noteRange:n.props.noteRange,active:l,highlighted:c,accidental:o,disabled:n.props.disabled,onPlayNoteInput:n.props.onPlayNoteInput,onStopNoteInput:n.props.onStopNoteInput,gliss:n.props.gliss,useTouchEvents:n.props.useTouchEvents,key:s},n.props.disabled?null:n.props.renderNoteLabel({isActive:l,isAccidental:o,midiNumber:s}))}))}}]),e}(Ct.Component);Vr(S_,"propTypes",{noteRange:B0e,activeNotes:z.arrayOf(z.number),highlightedNotes:z.arrayOf(z.number),onPlayNoteInput:z.func.isRequired,onStopNoteInput:z.func.isRequired,renderNoteLabel:z.func.isRequired,keyWidthToHeight:z.number.isRequired,className:z.string,disabled:z.bool,gliss:z.bool,useTouchEvents:z.bool,width:z.number});Vr(S_,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function H2(t){return typeof t!="number"?!1:Xp.NATURAL_MIDI_NUMBERS.includes(t)}function B0e(t,e,r){var n=t[e],i=n.first,s=n.last;if(!i||!s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," must be an object with .first and .last values."));if(!H2(i)||!H2(s))return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(i>=s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e,".first must be smaller than ").concat(e,".last."))}var k_=function(t){Yv(e,t);function e(){var r,n;Gv(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Xv(this,(r=Zd(e)).call.apply(r,[this].concat(s))),Vr(Wn(n),"state",{isMouseDown:!1,useTouchEvents:!1}),Vr(Wn(n),"handleNoteChanges",function(o){var l=o.prevActiveNotes,c=o.nextActiveNotes;if(!n.props.disabled){var u=V2(l,c),d=V2(c,l);d.forEach(function(h){n.props.playNote(h)}),u.forEach(function(h){n.props.stopNote(h)})}}),Vr(Wn(n),"getMidiNumberForKey",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(c){return c.key===o});return l&&l.midiNumber}),Vr(Wn(n),"getKeyForMidiNumber",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(c){return c.midiNumber===o});return l&&l.key}),Vr(Wn(n),"onKeyDown",function(o){if(!(o.ctrlKey||o.metaKey||o.shiftKey)){var l=n.getMidiNumberForKey(o.key);l&&n.onPlayNoteInput(l)}}),Vr(Wn(n),"onKeyUp",function(o){var l=n.getMidiNumberForKey(o.key);l&&n.onStopNoteInput(l)}),Vr(Wn(n),"onPlayNoteInput",function(o){n.props.disabled||n.props.onPlayNoteInput(o,n.props.activeNotes)}),Vr(Wn(n),"onStopNoteInput",function(o){n.props.disabled||n.props.onStopNoteInput(o,n.props.activeNotes)}),Vr(Wn(n),"onMouseDown",function(){n.setState({isMouseDown:!0})}),Vr(Wn(n),"onMouseUp",function(){n.setState({isMouseDown:!1})}),Vr(Wn(n),"onTouchStart",function(){n.setState({useTouchEvents:!0})}),Vr(Wn(n),"renderNoteLabel",function(o){var l=o.midiNumber,c=o.isActive,u=o.isAccidental,d=n.getKeyForMidiNumber(l);return n.props.renderNoteLabel({keyboardShortcut:d,midiNumber:l,isActive:c,isAccidental:u})}),n}return jv(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(n,i){this.props.activeNotes!==n.activeNotes&&this.handleNoteChanges({prevActiveNotes:n.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Ct.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Ct.createElement(S_,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,highlightedNotes:this.props.highlightedNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(Ct.Component);Vr(k_,"propTypes",{noteRange:z.object.isRequired,activeNotes:z.arrayOf(z.number.isRequired).isRequired,highlightedNotes:z.arrayOf(z.number.isRequired).isRequired,playNote:z.func.isRequired,stopNote:z.func.isRequired,onPlayNoteInput:z.func.isRequired,onStopNoteInput:z.func.isRequired,renderNoteLabel:z.func.isRequired,className:z.string,disabled:z.bool,width:z.number,keyWidthToHeight:z.number,keyboardShortcuts:z.arrayOf(z.shape({key:z.string.isRequired,midiNumber:z.number.isRequired}))});Vr(k_,"defaultProps",{renderNoteLabel:function(e){var r=e.keyboardShortcut;e.midiNumber;var n=e.isActive,i=e.isAccidental;return r?Ct.createElement("div",{className:m_("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":n,"ReactPiano__NoteLabel--accidental":i,"ReactPiano__NoteLabel--natural":!i})},r):null}});var J$=function(t){Yv(e,t);function e(){var r,n;Gv(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Xv(this,(r=Zd(e)).call.apply(r,[this].concat(s))),Vr(Wn(n),"state",{activeNotes:n.props.activeNotes||[]}),Vr(Wn(n),"highlightedNotes",{highlightedNotes:n.props.highlightedNotes||[]}),Vr(Wn(n),"handlePlayNoteInput",function(o){n.setState(function(l){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(o,{prevActiveNotes:l.activeNotes}),l.activeNotes.includes(o)?null:{activeNotes:l.activeNotes.concat(o)}})}),Vr(Wn(n),"handleStopNoteInput",function(o){n.setState(function(l){return n.props.onStopNoteInput&&n.props.onStopNoteInput(o,{prevActiveNotes:n.state.activeNotes}),{activeNotes:l.activeNotes.filter(function(c){return o!==c})}})}),n}return jv(e,[{key:"componentDidUpdate",value:function(n){n.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]}),n.highlightedNotes!==this.props.highlightedNotes&&this.setState({highlightedNotes:this.props.highlightedNotes||[]})}},{key:"render",value:function(){var n=this.props;n.activeNotes,n.highlightedNotes,n.onPlayNoteInput,n.onStopNoteInput;var i=p0e(n,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Ct.createElement(k_,Y1({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},i))}}]),e}(Ct.Component);Vr(J$,"propTypes",{noteRange:z.object.isRequired,activeNotes:z.arrayOf(z.number.isRequired),highlightedNotes:z.arrayOf(z.number.isRequired),playNote:z.func.isRequired,stopNote:z.func.isRequired,onPlayNoteInput:z.func,onStopNoteInput:z.func,renderNoteLabel:z.func,className:z.string,disabled:z.bool,width:z.number,keyWidthToHeight:z.number,keyboardShortcuts:z.arrayOf(z.shape({key:z.string.isRequired,midiNumber:z.number.isRequired}))});function N0e(t){for(var e=t.firstNote,r=t.lastNote,n=t.keyboardConfig,i=e,s=0,a=[];s<n.length&&i<=r;){var o=n[s],l=Xp.getAttributes(i),c=l.isAccidental;c?a.push({key:o.flat,midiNumber:i}):(a.push({key:o.natural,midiNumber:i}),s+=1),i+=1}return a}var U2={create:N0e,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]},M0e=Object.defineProperty,E0e=Object.defineProperties,R0e=Object.getOwnPropertyDescriptors,G2=Object.getOwnPropertySymbols,D0e=Object.prototype.hasOwnProperty,I0e=Object.prototype.propertyIsEnumerable,j2=(t,e,r)=>e in t?M0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$f=(t,e)=>{for(var r in e||(e={}))D0e.call(e,r)&&j2(t,r,e[r]);if(G2)for(var r of G2(e))I0e.call(e,r)&&j2(t,r,e[r]);return t},my=(t,e)=>E0e(t,R0e(e)),C_=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ft=(t,e,r)=>(C_(t,e,"read from private field"),r?r.call(t):e.get(t)),Bi=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Zn=(t,e,r,n)=>(C_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),L0e=(t,e,r)=>(C_(t,e,"access private method"),r),$0=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(c){i(c)}},a=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});function gy(t){const e=t.filter(r=>!!r);return e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.connect(s),n}),()=>{e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.disconnect(s),n})}}function F0e(t){let e=t;const r=new Set;function n(a){return r.add(a),a(e),()=>{r.delete(a)}}function i(a){e=a,r.forEach(o=>o(e))}function s(){return e}return{subscribe:n,set:i,get:s}}function A0e(){const t=new Set;function e(n){return t.add(n),()=>{t.delete(n)}}function r(n){t.forEach(i=>i(n))}return{subscribe:e,trigger:r}}function O0e(t){let e=!1;return()=>{e||(e=!0,t.forEach(r=>r==null?void 0:r()))}}function Z$(t){return t*t/16129}var xc,xl,Hu,Uu,yy,Sc,kc,$0e=class{constructor(t,e){this.context=t,Bi(this,xc,void 0),Bi(this,xl,void 0),Bi(this,Hu,void 0),Bi(this,Uu,void 0),Bi(this,yy,void 0),Bi(this,Sc,void 0),Bi(this,kc,!1);var r,n,i;Zn(this,Sc,{destination:(r=e==null?void 0:e.destination)!=null?r:t.destination,volume:(n=e==null?void 0:e.volume)!=null?n:100,volumeToGain:(i=e==null?void 0:e.volumeToGain)!=null?i:Z$}),this.input=t.createGain(),Zn(this,xc,t.createGain()),Zn(this,Uu,gy([this.input,ft(this,xc),ft(this,Sc).destination]));const s=F0e(ft(this,Sc).volume);this.setVolume=s.set,Zn(this,yy,s.subscribe(a=>{ft(this,xc).gain.value=ft(this,Sc).volumeToGain(a)}))}addInsert(t){var e;if(ft(this,kc))throw Error("Can't add insert to disconnected channel");(e=ft(this,Hu))!=null||Zn(this,Hu,[]),ft(this,Hu).push(t),ft(this,Uu).call(this),Zn(this,Uu,gy([this.input,...ft(this,Hu),ft(this,xc),ft(this,Sc).destination]))}addEffect(t,e,r){var n;if(ft(this,kc))throw Error("Can't add effect to disconnected channel");const i=this.context.createGain();i.gain.value=r;const s="input"in e?e.input:e,a=gy([ft(this,xc),i,s]);(n=ft(this,xl))!=null||Zn(this,xl,[]),ft(this,xl).push({name:t,mix:i,disconnect:a})}sendEffect(t,e){var r;if(ft(this,kc))throw Error("Can't send effect to disconnected channel");const n=(r=ft(this,xl))==null?void 0:r.find(i=>i.name===t);n?n.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;ft(this,kc)||(Zn(this,kc,!0),ft(this,Uu).call(this),ft(this,yy).call(this),(t=ft(this,xl))==null||t.forEach(e=>e.disconnect()),Zn(this,xl,void 0))}};xc=new WeakMap;xl=new WeakMap;Hu=new WeakMap;Uu=new WeakMap;yy=new WeakMap;Sc=new WeakMap;kc=new WeakMap;var as,V0e=class{constructor(t){this.compare=t,Bi(this,as,[])}push(t){const e=ft(this,as).length;let r=0,n=e-1,i=e;for(;r<=n;){const s=Math.floor((r+n)/2);this.compare(t,ft(this,as)[s])<0?(i=s,n=s-1):r=s+1}ft(this,as).splice(i,0,t)}pop(){return ft(this,as).shift()}peek(){return ft(this,as)[0]}removeAll(t){const e=ft(this,as).length;return Zn(this,as,ft(this,as).filter(r=>!t(r))),ft(this,as).length!==e}clear(){Zn(this,as,[])}size(){return ft(this,as).length}};as=new WeakMap;function Y2(t,e){return t&&e?r=>{t(r),e(r)}:t??e}function z0e(t){var e,r,n;const i={disableScheduler:(e=t.disableScheduler)!=null?e:!1,scheduleLookaheadMs:(r=t.scheduleLookaheadMs)!=null?r:200,scheduleIntervalMs:(n=t.scheduleIntervalMs)!=null?n:50,onStart:t.onStart,onEnded:t.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}var Co,Rs,Cc,W0e=class{constructor(t,e={}){Bi(this,Co,void 0),Bi(this,Rs,void 0),Bi(this,Cc,void 0),Zn(this,Co,z0e(e)),Zn(this,Rs,new V0e((r,n)=>r.time-n.time)),this.player=t}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return ft(this,Cc)!==void 0}start(t){var e;if(ft(this,Co).disableScheduler)return this.player.start(t);const r=this.player.context,n=r.currentTime,i=(e=t.time)!=null?e:n,s=ft(this,Co).scheduleLookaheadMs/1e3;return t.onStart=Y2(t.onStart,ft(this,Co).onStart),t.onEnded=Y2(t.onEnded,ft(this,Co).onEnded),i<n+s?this.player.start(t):(ft(this,Rs).push(my($f({},t),{time:i})),ft(this,Cc)||Zn(this,Cc,setInterval(()=>{const a=r.currentTime+s;for(;ft(this,Rs).size()&&ft(this,Rs).peek().time<=a;){const o=ft(this,Rs).pop();o&&this.player.start(o)}ft(this,Rs).size()||(clearInterval(ft(this,Cc)),Zn(this,Cc,void 0))},ft(this,Co).scheduleIntervalMs)),a=>{!a||a<i?ft(this,Rs).removeAll(o=>o===t)||this.player.stop(my($f({},t),{time:a})):this.player.stop(my($f({},t),{time:a}))})}stop(t){var e;if(ft(this,Co).disableScheduler)return this.player.stop(t);if(this.player.stop(t),!t){ft(this,Rs).clear();return}const r=(e=t==null?void 0:t.time)!=null?e:0,n=t==null?void 0:t.stopId;n?ft(this,Rs).removeAll(i=>i.time>=r&&i.stopId?i.stopId===n:i.note===n):ft(this,Rs).removeAll(i=>i.time>=r)}disconnect(){this.player.disconnect()}};Co=new WeakMap;Rs=new WeakMap;Cc=new WeakMap;var uf,Gu,df,H0e=class{constructor(t,e){this.context=t,this.options=e,Bi(this,uf,void 0),Bi(this,Gu,!1),Bi(this,df,void 0);var r,n;Zn(this,uf,{velocityToGain:(r=e.velocityToGain)!=null?r:Z$,destination:(n=e.destination)!=null?n:t.destination}),this.buffers={},Zn(this,df,A0e())}start(t){var e,r,n,i,s,a,o,l,c,u,d,h,p,f;if(ft(this,Gu))throw new Error("Can't start a sample on disconnected player");const m=this.context,g=t.name&&this.buffers[t.name]||this.buffers[t.note];if(!g)return console.warn(`Sample not found: '${t.note}'`),()=>{};const y=m.createBufferSource();y.buffer=g;const b=(r=(e=t.detune)!=null?e:this.options.detune)!=null?r:0;y.detune?y.detune.value=b:y.playbackRate&&(y.playbackRate.value=Math.pow(2,b/1200));const v=(n=t.lpfCutoffHz)!=null?n:this.options.lpfCutoffHz,k=v?m.createBiquadFilter():void 0;v&&k&&(k.type="lowpass",k.frequency.value=v);const C=m.createGain(),S=(s=(i=t.velocity)!=null?i:this.options.velocity)!=null?s:100;C.gain.value=ft(this,uf).velocityToGain(S),((a=t.loop)!=null?a:this.options.loop)&&(y.loop=!0,y.loopStart=(o=t.loopStart)!=null?o:0,y.loopEnd=(l=t.loopEnd)!=null?l:g.duration);const B=(c=t.decayTime)!=null?c:this.options.decayTime,[D,E]=U0e(m,B);function R(A){if(A??(A=m.currentTime),A<=N)y.stop(A);else{const M=E(A);y.stop(M)}}const O=t.gainOffset?m.createGain():void 0;O&&t.gainOffset&&(O.gain.value=t.gainOffset);const L=(u=t.stopId)!=null?u:t.note,I=O0e([gy([y,k,C,D,O,ft(this,uf).destination]),(d=t.stop)==null?void 0:d.call(t,R),ft(this,df).subscribe(A=>{(!A||A.stopId===void 0||A.stopId===L)&&R(A==null?void 0:A.time)})]);y.onended=()=>{var A;I(),(A=t.onEnded)==null||A.call(t,t)},(h=t.onStart)==null||h.call(t,t);const N=Math.max((p=t.time)!=null?p:0,m.currentTime);y.start(t.time);let F=(f=t.duration)!=null?f:g.duration;return typeof t.duration=="number"&&R(N+F),R}stop(t){ft(this,df).trigger(t)}disconnect(){ft(this,Gu)||(Zn(this,Gu,!0),this.stop(),Object.keys(this.buffers).forEach(t=>{delete this.buffers[t]}))}get connected(){return!ft(this,Gu)}};uf=new WeakMap;Gu=new WeakMap;df=new WeakMap;function U0e(t,e=.2){let r=0;const n=t.createGain();n.gain.value=1;function i(s){if(r)return r;n.gain.cancelScheduledValues(s);const a=s||t.currentTime;return r=a+e,n.gain.setValueAtTime(1,a),n.gain.linearRampToValueAtTime(0,r),r}return[n,i]}var G0e=class{constructor(t,e){this.context=t;const r=new $0e(t,e);this.player=new W0e(new H0e(t,my($f({},e),{destination:r.input})),e),this.output=r}get buffers(){return this.player.buffers}start(t){return this.player.start(t)}stop(t){this.player.stop(typeof t=="object"?t:t!==void 0?{stopId:t}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function j0e(t,e,r){return $0(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const n=yield r.fetch(e);if(n.status!==200){console.warn("Error loading buffer. Invalid status: ",n.status,e);return}try{const i=yield n.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function Y0e(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let r=0;r<t.length;r++){const n=t[r],i=e.canPlayType(`audio/${n}`);if(i==="probably"||i==="maybe")return n;if(n==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return n}}return null}var X0e={fetch(t){return fetch(t)}};function q0e(t){const r=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!r)return;const n=r[1].toUpperCase();if(!n)return;const i=r[2],s=i[0]==="b"?-i.length:i.length,a=r[3]?+r[3]:4,o=(n.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][o]+s+12*(a+1)}function K0e(t){return t===void 0?void 0:typeof t=="number"?t:q0e(t)}var Q0e="https://danigb.github.io/samples/splendid-grand-piano",K1,e3,J0e=class{constructor(t,e){this.context=t,Bi(this,K1),this.options=Object.assign({baseUrl:Q0e,storage:X0e,detune:0,volume:100,velocity:100,decayTime:.5},e),this.player=new G0e(t,this.options);const r=ebe(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=r(t,this.player.buffers).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return $0(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}start(t){var e,r;const n=typeof t=="object"?$f({},t):{note:t},i=L0e(this,K1,e3).call(this,n);return i?(n.note=i[0],n.stopId=(e=n.stopId)!=null?e:i[1],n.detune=i[2]+((r=n.detune)!=null?r:this.options.detune),this.player.start(n)):()=>{}}stop(t){return this.player.stop(t)}};K1=new WeakSet;e3=function(t){var e;const r=K0e(t.note);if(!r)return;const n=(e=t.velocity)!=null?e:this.options.velocity,i=V0.findIndex(a=>n>=a.vel_range[0]&&n<=a.vel_range[1]),s=V0[i];if(s)return Z0e(s.name,r,this.player.buffers)};function Z0e(t,e,r){let n=0;for(;r[t+(e+n)]===void 0&&n<128;)n>0?n=-n:n=-n+1;return n===127?[t+e,e,0]:[t+(e+n),e,-n*100]}function ebe(t,e,r){var n;const i=(n=Y0e(["ogg","m4a"]))!=null?n:"ogg";let s=r?V0.filter(a=>a.vel_range[0]<=r.velocityRange[1]&&a.vel_range[1]>=r.velocityRange[0]):V0;return(a,o)=>$0(this,null,function*(){for(const l of s){const c=r?l.samples.filter(u=>r.notes.includes(u[0])):l.samples;yield Promise.all(c.map(u=>$0(this,[u],function*([d,h]){const p=`${t}/${h}.${i}`,f=yield j0e(a,p,e);f&&(o[l.name+d]=f)})))}})}var V0=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];function tbe(t){var e="",r="",n="";console.log("roman numeral",t.romanNumeral);for(let i=0;i<t.romanNumeral.length;i++){const s=t.romanNumeral[i];isNaN(parseInt(s))?n+=s:e===""?e=s:r=s}return console.log({superscript:e},{subscript:r}),x.jsxs("div",{style:{fontSize:200,color:"grey"},children:[n,x.jsxs("span",{style:{position:"absolute"},children:[x.jsx("sup",{style:{fontSize:80,display:"block",position:"relative"},children:e}),x.jsx("sub",{style:{fontSize:80,display:"block",position:"relative"},children:r})]})]})}const rbe=new AudioContext,X2=new J0e(rbe);function nbe(){const r=U2.create({firstNote:48,lastNote:72,keyboardConfig:U2.HOME_ROW}),n=[{name:"Major Scale",scale:zl.MajorScale},{name:"Harmonic Minor Scale",scale:zl.HarmonicMinor},{name:"Minor scale",scale:zl.MinorScale}],[i,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState([]),u=l.sort(),d=u.map(Xs.fromMidiNumber),h=u.map(Xs.fromMidiNumberSharp),p=bM(d),f=bM(h),m=p||f,g=m&&u0.toLeadSheet(m),y=(m&&i&&a&&p1.toDisplayString(doe(m,{note:i,scale:a})))??"",b=i&&a&&loe(i,a).flatMap(k=>yr.toMidiNumbersForAllOctaves(k));function v(k){if(k.data){const C=k.data[1],S=k.data[2];c(S===0?_=>_.filter(B=>B!==C):_=>[...new Set([..._,C])])}}return w.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach(_=>{_.onmidimessage=v})})().catch(console.error)},[]),x.jsxs(x.Fragment,{children:[x.jsx("div",{children:x.jsx(J$,{noteRange:{first:48,last:72},playNote:k=>{X2.start(k),c(C=>[...new Set([...C,k])]),i||s(Hc.toNote(k%12))},stopNote:k=>{X2.stop(k),c(C=>C.filter(S=>S!==k))},width:1e3,highlightedNotes:b||(i?yr.toMidiNumbersForAllOctaves(i):[]),activeNotes:l,keyboardShortcuts:r})}),!i&&x.jsx("div",{children:"Choose a root note by playing a note on the piano"}),i&&!a&&x.jsxs("div",{children:[x.jsx("div",{children:"Now select a scale!"}),x.jsx(NF,{value:"",onChange:k=>o(n[k.target.value].scale),children:n.map((k,C)=>x.jsx(AC,{value:C,children:k.name}))})]}),i&&a&&x.jsx(Ri,{onClick:()=>{s(null),o(null)},children:"Restart"}),x.jsx("div",{style:{fontSize:200},children:g}),x.jsx(tbe,{romanNumeral:y})]})}function ibe(){const t=$6([{path:"/",element:x.jsx(dZ,{}),children:[]},{path:"/todo",element:x.jsx(fZ,{})},{path:"/counter",element:x.jsx(Uee,{})},{path:"/rating",element:x.jsx(Gee,{})},{path:"/layout",element:x.jsx(jee,{})},{path:"/shifts",element:x.jsx(Hae,{})},{path:"/music",element:x.jsx(sce,{})},{path:"/progression",element:x.jsx(lce,{})},{path:"/math",element:x.jsx(tye,{})},{path:"/quiz",element:x.jsx(iye,{})},{path:"/piano",element:x.jsx(nbe,{})}]);return x.jsx(YC,{dateAdapter:ioe,children:x.jsx(X6,{router:t})})}const sbe=See({reducer:{counter:Hee}});Wx.createRoot(document.getElementById("root")).render(x.jsx(Ct.StrictMode,{children:x.jsx(IZ,{store:sbe,children:x.jsx(ibe,{})})}));
