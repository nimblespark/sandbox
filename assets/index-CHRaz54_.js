function BE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ol(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var NE={exports:{}},r0={},ME={exports:{}},rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=Symbol.for("react.element"),k5=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),T5=Symbol.for("react.strict_mode"),_5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),N5=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),E5=Symbol.for("react.memo"),R5=Symbol.for("react.lazy"),vT=Symbol.iterator;function D5(t){return t===null||typeof t!="object"?null:(t=vT&&t[vT]||t["@@iterator"],typeof t=="function"?t:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,DE={};function Ed(t,e,r){this.props=t,this.context=e,this.refs=DE,this.updater=r||EE}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ed.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=Ed.prototype;function t1(t,e,r){this.props=t,this.context=e,this.refs=DE,this.updater=r||EE}var r1=t1.prototype=new LE;r1.constructor=t1;RE(r1,Ed.prototype);r1.isPureReactComponent=!0;var wT=Array.isArray,IE=Object.prototype.hasOwnProperty,n1={current:null},FE={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)IE.call(e,n)&&!FE.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:wp,type:t,key:s,ref:a,props:i,_owner:n1.current}}function L5(t,e){return{$$typeof:wp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function i1(t){return typeof t=="object"&&t!==null&&t.$$typeof===wp}function I5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xT=/\/+/g;function nv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I5(""+t.key):e.toString(36)}function lg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wp:case k5:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+nv(a,0):n,wT(i)?(r="",t!=null&&(r=t.replace(xT,"$&/")+"/"),lg(i,e,r,"",function(c){return c})):i!=null&&(i1(i)&&(i=L5(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",wT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+nv(s,o);a+=lg(s,e,r,l,i)}else if(l=D5(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+nv(s,o++),a+=lg(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nm(t,e,r){if(t==null)return t;var n=[],i=0;return lg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function F5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ni={current:null},cg={transition:null},A5={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:cg,ReactCurrentOwner:n1};rr.Children={map:nm,forEach:function(t,e,r){nm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nm(t,function(){e++}),e},toArray:function(t){return nm(t,function(e){return e})||[]},only:function(t){if(!i1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rr.Component=Ed;rr.Fragment=C5;rr.Profiler=_5;rr.PureComponent=t1;rr.StrictMode=T5;rr.Suspense=M5;rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A5;rr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RE({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=n1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)IE.call(e,l)&&!FE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:wp,type:t.type,key:i,ref:s,props:n,_owner:a}};rr.createContext=function(t){return t={$$typeof:B5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P5,_context:t},t.Consumer=t};rr.createElement=AE;rr.createFactory=function(t){var e=AE.bind(null,t);return e.type=t,e};rr.createRef=function(){return{current:null}};rr.forwardRef=function(t){return{$$typeof:N5,render:t}};rr.isValidElement=i1;rr.lazy=function(t){return{$$typeof:R5,_payload:{_status:-1,_result:t},_init:F5}};rr.memo=function(t,e){return{$$typeof:E5,type:t,compare:e===void 0?null:e}};rr.startTransition=function(t){var e=cg.transition;cg.transition={};try{t()}finally{cg.transition=e}};rr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rr.useCallback=function(t,e){return Ni.current.useCallback(t,e)};rr.useContext=function(t){return Ni.current.useContext(t)};rr.useDebugValue=function(){};rr.useDeferredValue=function(t){return Ni.current.useDeferredValue(t)};rr.useEffect=function(t,e){return Ni.current.useEffect(t,e)};rr.useId=function(){return Ni.current.useId()};rr.useImperativeHandle=function(t,e,r){return Ni.current.useImperativeHandle(t,e,r)};rr.useInsertionEffect=function(t,e){return Ni.current.useInsertionEffect(t,e)};rr.useLayoutEffect=function(t,e){return Ni.current.useLayoutEffect(t,e)};rr.useMemo=function(t,e){return Ni.current.useMemo(t,e)};rr.useReducer=function(t,e,r){return Ni.current.useReducer(t,e,r)};rr.useRef=function(t){return Ni.current.useRef(t)};rr.useState=function(t){return Ni.current.useState(t)};rr.useSyncExternalStore=function(t,e,r){return Ni.current.useSyncExternalStore(t,e,r)};rr.useTransition=function(){return Ni.current.useTransition()};rr.version="18.2.0";ME.exports=rr;var w=ME.exports;const Ut=Ho(w),Nc=BE({__proto__:null,default:Ut},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5=w,$5=Symbol.for("react.element"),V5=Symbol.for("react.fragment"),z5=Object.prototype.hasOwnProperty,W5=O5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H5={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)z5.call(e,n)&&!H5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$5,type:t,key:s,ref:a,props:i,_owner:W5.current}}r0.Fragment=V5;r0.jsx=OE;r0.jsxs=OE;NE.exports=r0;var x=NE.exports,qw={},$E={exports:{}},ys={},VE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var z=M.length;M.push(V);e:for(;0<z;){var K=z-1>>>1,ie=M[K];if(0<i(ie,V))M[K]=V,M[z]=ie,z=K;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],z=M.pop();if(z!==V){M[0]=z;e:for(var K=0,ie=M.length,se=ie>>>1;K<se;){var te=2*(K+1)-1,G=M[te],Z=te+1,he=M[Z];if(0>i(G,z))Z<ie&&0>i(he,G)?(M[K]=he,M[Z]=z,K=Z):(M[K]=G,M[te]=z,K=te);else if(Z<ie&&0>i(he,z))M[K]=he,M[Z]=z,K=Z;else break e}}return V}function i(M,V){var z=M.sortIndex-V.sortIndex;return z!==0?z:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=M)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function k(M){if(m=!1,v(M),!f)if(r(l)!==null)f=!0,F(C);else{var V=r(c);V!==null&&O(k,V.startTime-M)}}function C(M,V){f=!1,m&&(m=!1,y(B),B=-1),p=!0;var z=h;try{for(v(V),d=r(l);d!==null&&(!(d.expirationTime>V)||M&&!R());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var ie=K(d.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(l)&&n(l),v(V)}else n(l);d=r(l)}if(d!==null)var se=!0;else{var te=r(c);te!==null&&O(k,te.startTime-V),se=!1}return se}finally{d=null,h=z,p=!1}}var S=!1,_=null,B=-1,D=5,E=-1;function R(){return!(t.unstable_now()-E<D)}function A(){if(_!==null){var M=t.unstable_now();E=M;var V=!0;try{V=_(!0,M)}finally{V?I():(S=!1,_=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,N=L.port2;L.port1.onmessage=A,I=function(){N.postMessage(null)}}else I=function(){g(A,0)};function F(M){_=M,S||(S=!0,I())}function O(M,V){B=g(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,F(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return M()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=h;h=M;try{return V()}finally{h=z}},t.unstable_scheduleCallback=function(M,V,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,M={id:u++,callback:V,priorityLevel:M,startTime:z,expirationTime:ie,sortIndex:-1},z>K?(M.sortIndex=z,e(c,M),r(l)===null&&M===r(c)&&(m?(y(B),B=-1):m=!0,O(k,z-K))):(M.sortIndex=ie,e(l,M),f||p||(f=!0,F(C))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var V=h;return function(){var z=h;h=V;try{return M.apply(this,arguments)}finally{h=z}}}})(zE);VE.exports=zE;var U5=VE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=w,ds=U5;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,ff={};function Gc(t,e){td(t,e),td(t+"Capture",e)}function td(t,e){for(ff[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kw=Object.prototype.hasOwnProperty,G5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ST={},kT={};function j5(t){return Kw.call(kT,t)?!0:Kw.call(ST,t)?!1:G5.test(t)?kT[t]=!0:(ST[t]=!0,!1)}function Y5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X5(t,e,r,n){if(e===null||typeof e>"u"||Y5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ai[t]=new Mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ai[e]=new Mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ai[t]=new Mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ai[t]=new Mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ai[t]=new Mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ai[t]=new Mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ai[t]=new Mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ai[t]=new Mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ai[t]=new Mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var s1=/[\-:]([a-z])/g;function a1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s1,a1);ai[e]=new Mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s1,a1);ai[e]=new Mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s1,a1);ai[e]=new Mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ai[t]=new Mi(t,1,!1,t.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ai[t]=new Mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function o1(t,e,r,n){var i=ai.hasOwnProperty(e)?ai[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X5(e,r,i,n)&&(r=null),n||i===null?j5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Uo=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,im=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),Qw=Symbol.for("react.profiler"),UE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),Jw=Symbol.for("react.suspense"),Zw=Symbol.for("react.suspense_list"),u1=Symbol.for("react.memo"),ll=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),CT=Symbol.iterator;function Xd(t){return t===null||typeof t!="object"?null:(t=CT&&t[CT]||t["@@iterator"],typeof t=="function"?t:null)}var nn=Object.assign,iv;function Bh(t){if(iv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);iv=e&&e[1]||""}return`
`+iv+t}var sv=!1;function av(t,e){if(!t||sv)return"";sv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{sv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bh(t):""}function q5(t){switch(t.tag){case 5:return Bh(t.type);case 16:return Bh("Lazy");case 13:return Bh("Suspense");case 19:return Bh("SuspenseList");case 0:case 2:case 15:return t=av(t.type,!1),t;case 11:return t=av(t.type.render,!1),t;case 1:return t=av(t.type,!0),t;default:return""}}function ex(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cu:return"Fragment";case ku:return"Portal";case Qw:return"Profiler";case l1:return"StrictMode";case Jw:return"Suspense";case Zw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GE:return(t.displayName||"Context")+".Consumer";case UE:return(t._context.displayName||"Context")+".Provider";case c1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u1:return e=t.displayName||null,e!==null?e:ex(t.type)||"Memo";case ll:e=t._payload,t=t._init;try{return ex(t(e))}catch{}}return null}function K5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ex(e);case 8:return e===l1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function El(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q5(t){var e=YE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sm(t){t._valueTracker||(t._valueTracker=Q5(t))}function XE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ag(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tx(t,e){var r=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function TT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=El(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qE(t,e){e=e.checked,e!=null&&o1(t,"checked",e,!1)}function rx(t,e){qE(t,e);var r=El(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nx(t,e.type,r):e.hasOwnProperty("defaultValue")&&nx(t,e.type,El(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _T(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nx(t,e,r){(e!=="number"||Ag(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Nh=Array.isArray;function zu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+El(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ix(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ve(92));if(Nh(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:El(r)}}function KE(t,e){var r=El(e.value),n=El(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function BT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var am,JE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(am=am||document.createElement("div"),am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J5=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(t){J5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$h[e]=$h[t]})});function ZE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$h.hasOwnProperty(t)&&$h[t]?(""+e).trim():e+"px"}function eR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ZE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Z5=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ax(t,e){if(e){if(Z5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lx=null;function d1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cx=null,Wu=null,Hu=null;function NT(t){if(t=kp(t)){if(typeof cx!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=o0(e),cx(t.stateNode,t.type,e))}}function tR(t){Wu?Hu?Hu.push(t):Hu=[t]:Wu=t}function rR(){if(Wu){var t=Wu,e=Hu;if(Hu=Wu=null,NT(t),e)for(t=0;t<e.length;t++)NT(e[t])}}function nR(t,e){return t(e)}function iR(){}var ov=!1;function sR(t,e,r){if(ov)return t(e,r);ov=!0;try{return nR(t,e,r)}finally{ov=!1,(Wu!==null||Hu!==null)&&(iR(),rR())}}function mf(t,e){var r=t.stateNode;if(r===null)return null;var n=o0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ve(231,e,typeof r));return r}var ux=!1;if(Eo)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){ux=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{ux=!1}function e$(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Vh=!1,Og=null,$g=!1,dx=null,t$={onError:function(t){Vh=!0,Og=t}};function r$(t,e,r,n,i,s,a,o,l){Vh=!1,Og=null,e$.apply(t$,arguments)}function n$(t,e,r,n,i,s,a,o,l){if(r$.apply(this,arguments),Vh){if(Vh){var c=Og;Vh=!1,Og=null}else throw Error(Ve(198));$g||($g=!0,dx=c)}}function jc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function aR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MT(t){if(jc(t)!==t)throw Error(Ve(188))}function i$(t){var e=t.alternate;if(!e){if(e=jc(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return MT(i),t;if(s===n)return MT(i),e;s=s.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?t:e}function oR(t){return t=i$(t),t!==null?lR(t):null}function lR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lR(t);if(e!==null)return e;t=t.sibling}return null}var cR=ds.unstable_scheduleCallback,ET=ds.unstable_cancelCallback,s$=ds.unstable_shouldYield,a$=ds.unstable_requestPaint,Sn=ds.unstable_now,o$=ds.unstable_getCurrentPriorityLevel,h1=ds.unstable_ImmediatePriority,uR=ds.unstable_UserBlockingPriority,Vg=ds.unstable_NormalPriority,l$=ds.unstable_LowPriority,dR=ds.unstable_IdlePriority,n0=null,qa=null;function c$(t){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(n0,t,void 0,(t.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:h$,u$=Math.log,d$=Math.LN2;function h$(t){return t>>>=0,t===0?32:31-(u$(t)/d$|0)|0}var om=64,lm=4194304;function Mh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Mh(o):(s&=a,s!==0&&(n=Mh(s)))}else a=r&~i,a!==0?n=Mh(a):s!==0&&(n=Mh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Sa(e),i=1<<r,n|=t[r],e&=~i;return n}function f$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p$(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Sa(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=f$(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function hx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hR(){var t=om;return om<<=1,!(om&4194240)&&(om=64),t}function lv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sa(e),t[e]=r}function m$(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Sa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function f1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Sa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var mr=0;function fR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pR,p1,mR,gR,yR,fx=!1,cm=[],vl=null,wl=null,xl=null,gf=new Map,yf=new Map,ul=[],g$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RT(t,e){switch(t){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(e.pointerId)}}function Kd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kp(e),e!==null&&p1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y$(t,e,r,n,i){switch(e){case"focusin":return vl=Kd(vl,t,e,r,n,i),!0;case"dragenter":return wl=Kd(wl,t,e,r,n,i),!0;case"mouseover":return xl=Kd(xl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return gf.set(s,Kd(gf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,yf.set(s,Kd(yf.get(s)||null,t,e,r,n,i)),!0}return!1}function bR(t){var e=oc(t.target);if(e!==null){var r=jc(e);if(r!==null){if(e=r.tag,e===13){if(e=aR(r),e!==null){t.blockedOn=e,yR(t.priority,function(){mR(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ug(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=px(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lx=n,r.target.dispatchEvent(n),lx=null}else return e=kp(r),e!==null&&p1(e),t.blockedOn=r,!1;e.shift()}return!0}function DT(t,e,r){ug(t)&&r.delete(e)}function b$(){fx=!1,vl!==null&&ug(vl)&&(vl=null),wl!==null&&ug(wl)&&(wl=null),xl!==null&&ug(xl)&&(xl=null),gf.forEach(DT),yf.forEach(DT)}function Qd(t,e){t.blockedOn===e&&(t.blockedOn=null,fx||(fx=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,b$)))}function bf(t){function e(i){return Qd(i,t)}if(0<cm.length){Qd(cm[0],t);for(var r=1;r<cm.length;r++){var n=cm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vl!==null&&Qd(vl,t),wl!==null&&Qd(wl,t),xl!==null&&Qd(xl,t),gf.forEach(e),yf.forEach(e),r=0;r<ul.length;r++)n=ul[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ul.length&&(r=ul[0],r.blockedOn===null);)bR(r),r.blockedOn===null&&ul.shift()}var Uu=Uo.ReactCurrentBatchConfig,Wg=!0;function v$(t,e,r,n){var i=mr,s=Uu.transition;Uu.transition=null;try{mr=1,m1(t,e,r,n)}finally{mr=i,Uu.transition=s}}function w$(t,e,r,n){var i=mr,s=Uu.transition;Uu.transition=null;try{mr=4,m1(t,e,r,n)}finally{mr=i,Uu.transition=s}}function m1(t,e,r,n){if(Wg){var i=px(t,e,r,n);if(i===null)bv(t,e,n,Hg,r),RT(t,n);else if(y$(i,t,e,r,n))n.stopPropagation();else if(RT(t,n),e&4&&-1<g$.indexOf(t)){for(;i!==null;){var s=kp(i);if(s!==null&&pR(s),s=px(t,e,r,n),s===null&&bv(t,e,n,Hg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else bv(t,e,n,null,r)}}var Hg=null;function px(t,e,r,n){if(Hg=null,t=d1(n),t=oc(t),t!==null)if(e=jc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=aR(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hg=t,null}function vR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o$()){case h1:return 1;case uR:return 4;case Vg:case l$:return 16;case dR:return 536870912;default:return 16}default:return 16}}var fl=null,g1=null,dg=null;function wR(){if(dg)return dg;var t,e=g1,r=e.length,n,i="value"in fl?fl.value:fl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return dg=i.slice(t,1<n?1-n:void 0)}function hg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function um(){return!0}function LT(){return!1}function bs(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?um:LT,this.isPropagationStopped=LT,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=um)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=um)},persist:function(){},isPersistent:um}),e}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=bs(Rd),Sp=nn({},Rd,{view:0,detail:0}),x$=bs(Sp),cv,uv,Jd,i0=nn({},Sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jd&&(Jd&&t.type==="mousemove"?(cv=t.screenX-Jd.screenX,uv=t.screenY-Jd.screenY):uv=cv=0,Jd=t),cv)},movementY:function(t){return"movementY"in t?t.movementY:uv}}),IT=bs(i0),S$=nn({},i0,{dataTransfer:0}),k$=bs(S$),C$=nn({},Sp,{relatedTarget:0}),dv=bs(C$),T$=nn({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),_$=bs(T$),P$=nn({},Rd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B$=bs(P$),N$=nn({},Rd,{data:0}),FT=bs(N$),M$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R$[t])?!!e[t]:!1}function b1(){return D$}var L$=nn({},Sp,{key:function(t){if(t.key){var e=M$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b1,charCode:function(t){return t.type==="keypress"?hg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I$=bs(L$),F$=nn({},i0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AT=bs(F$),A$=nn({},Sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b1}),O$=bs(A$),$$=nn({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),V$=bs($$),z$=nn({},i0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W$=bs(z$),H$=[9,13,27,32],v1=Eo&&"CompositionEvent"in window,zh=null;Eo&&"documentMode"in document&&(zh=document.documentMode);var U$=Eo&&"TextEvent"in window&&!zh,xR=Eo&&(!v1||zh&&8<zh&&11>=zh),OT=" ",$T=!1;function SR(t,e){switch(t){case"keyup":return H$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tu=!1;function G$(t,e){switch(t){case"compositionend":return kR(e);case"keypress":return e.which!==32?null:($T=!0,OT);case"textInput":return t=e.data,t===OT&&$T?null:t;default:return null}}function j$(t,e){if(Tu)return t==="compositionend"||!v1&&SR(t,e)?(t=wR(),dg=g1=fl=null,Tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xR&&e.locale!=="ko"?null:e.data;default:return null}}var Y$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y$[t.type]:e==="textarea"}function CR(t,e,r,n){tR(n),e=Ug(e,"onChange"),0<e.length&&(r=new y1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wh=null,vf=null;function X$(t){IR(t,0)}function s0(t){var e=Bu(t);if(XE(e))return t}function q$(t,e){if(t==="change")return e}var TR=!1;if(Eo){var hv;if(Eo){var fv="oninput"in document;if(!fv){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),fv=typeof zT.oninput=="function"}hv=fv}else hv=!1;TR=hv&&(!document.documentMode||9<document.documentMode)}function WT(){Wh&&(Wh.detachEvent("onpropertychange",_R),vf=Wh=null)}function _R(t){if(t.propertyName==="value"&&s0(vf)){var e=[];CR(e,vf,t,d1(t)),sR(X$,e)}}function K$(t,e,r){t==="focusin"?(WT(),Wh=e,vf=r,Wh.attachEvent("onpropertychange",_R)):t==="focusout"&&WT()}function Q$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s0(vf)}function J$(t,e){if(t==="click")return s0(e)}function Z$(t,e){if(t==="input"||t==="change")return s0(e)}function e3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pa=typeof Object.is=="function"?Object.is:e3;function wf(t,e){if(Pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Kw.call(e,i)||!Pa(t[i],e[i]))return!1}return!0}function HT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UT(t,e){var r=HT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HT(r)}}function PR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BR(){for(var t=window,e=Ag();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ag(t.document)}return e}function w1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t3(t){var e=BR(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&PR(r.ownerDocument.documentElement,r)){if(n!==null&&w1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=UT(r,s);var a=UT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r3=Eo&&"documentMode"in document&&11>=document.documentMode,_u=null,mx=null,Hh=null,gx=!1;function GT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gx||_u==null||_u!==Ag(n)||(n=_u,"selectionStart"in n&&w1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hh&&wf(Hh,n)||(Hh=n,n=Ug(mx,"onSelect"),0<n.length&&(e=new y1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_u)))}function dm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pu={animationend:dm("Animation","AnimationEnd"),animationiteration:dm("Animation","AnimationIteration"),animationstart:dm("Animation","AnimationStart"),transitionend:dm("Transition","TransitionEnd")},pv={},NR={};Eo&&(NR=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function a0(t){if(pv[t])return pv[t];if(!Pu[t])return t;var e=Pu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NR)return pv[t]=e[r];return t}var MR=a0("animationend"),ER=a0("animationiteration"),RR=a0("animationstart"),DR=a0("transitionend"),LR=new Map,jT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(t,e){LR.set(t,e),Gc(e,[t])}for(var mv=0;mv<jT.length;mv++){var gv=jT[mv],n3=gv.toLowerCase(),i3=gv[0].toUpperCase()+gv.slice(1);$l(n3,"on"+i3)}$l(MR,"onAnimationEnd");$l(ER,"onAnimationIteration");$l(RR,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(DR,"onTransitionEnd");td("onMouseEnter",["mouseout","mouseover"]);td("onMouseLeave",["mouseout","mouseover"]);td("onPointerEnter",["pointerout","pointerover"]);td("onPointerLeave",["pointerout","pointerover"]);Gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function YT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,n$(n,e,void 0,t),t.currentTarget=null}function IR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;YT(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;YT(i,o,c),s=l}}}if($g)throw t=dx,$g=!1,dx=null,t}function Fr(t,e){var r=e[xx];r===void 0&&(r=e[xx]=new Set);var n=t+"__bubble";r.has(n)||(FR(e,t,2,!1),r.add(n))}function yv(t,e,r){var n=0;e&&(n|=4),FR(r,t,n,e)}var hm="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[hm]){t[hm]=!0,HE.forEach(function(r){r!=="selectionchange"&&(s3.has(r)||yv(r,!1,t),yv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hm]||(e[hm]=!0,yv("selectionchange",!1,e))}}function FR(t,e,r,n){switch(vR(e)){case 1:var i=v$;break;case 4:i=w$;break;default:i=m1}r=i.bind(null,e,r,t),i=void 0,!ux||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function bv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=oc(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}sR(function(){var c=s,u=d1(r),d=[];e:{var h=LR.get(t);if(h!==void 0){var p=y1,f=t;switch(t){case"keypress":if(hg(r)===0)break e;case"keydown":case"keyup":p=I$;break;case"focusin":f="focus",p=dv;break;case"focusout":f="blur",p=dv;break;case"beforeblur":case"afterblur":p=dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=IT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=k$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=O$;break;case MR:case ER:case RR:p=_$;break;case DR:p=V$;break;case"scroll":p=x$;break;case"wheel":p=W$;break;case"copy":case"cut":case"paste":p=B$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=AT}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,v;b!==null;){v=b;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,y!==null&&(k=mf(b,y),k!=null&&m.push(Sf(b,k,v)))),g)break;b=b.return}0<m.length&&(h=new p(h,f,null,r,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==lx&&(f=r.relatedTarget||r.fromElement)&&(oc(f)||f[Ro]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=r.relatedTarget||r.toElement,p=c,f=f?oc(f):null,f!==null&&(g=jc(f),f!==g||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=IT,k="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=AT,k="onPointerLeave",y="onPointerEnter",b="pointer"),g=p==null?h:Bu(p),v=f==null?h:Bu(f),h=new m(k,b+"leave",p,r,u),h.target=g,h.relatedTarget=v,k=null,oc(u)===c&&(m=new m(y,b+"enter",f,r,u),m.target=v,m.relatedTarget=g,k=m),g=k,p&&f)t:{for(m=p,y=f,b=0,v=m;v;v=iu(v))b++;for(v=0,k=y;k;k=iu(k))v++;for(;0<b-v;)m=iu(m),b--;for(;0<v-b;)y=iu(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=iu(m),y=iu(y)}m=null}else m=null;p!==null&&XT(d,h,p,m,!1),f!==null&&g!==null&&XT(d,g,f,m,!0)}}e:{if(h=c?Bu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=q$;else if(VT(h))if(TR)C=Z$;else{C=Q$;var S=K$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=J$);if(C&&(C=C(t,c))){CR(d,C,r,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&nx(h,"number",h.value)}switch(S=c?Bu(c):window,t){case"focusin":(VT(S)||S.contentEditable==="true")&&(_u=S,mx=c,Hh=null);break;case"focusout":Hh=mx=_u=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,GT(d,r,u);break;case"selectionchange":if(r3)break;case"keydown":case"keyup":GT(d,r,u)}var _;if(v1)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Tu?SR(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(xR&&r.locale!=="ko"&&(Tu||B!=="onCompositionStart"?B==="onCompositionEnd"&&Tu&&(_=wR()):(fl=u,g1="value"in fl?fl.value:fl.textContent,Tu=!0)),S=Ug(c,B),0<S.length&&(B=new FT(B,t,null,r,u),d.push({event:B,listeners:S}),_?B.data=_:(_=kR(r),_!==null&&(B.data=_)))),(_=U$?G$(t,r):j$(t,r))&&(c=Ug(c,"onBeforeInput"),0<c.length&&(u=new FT("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=_))}IR(d,e)})}function Sf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ug(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mf(t,r),s!=null&&n.unshift(Sf(t,s,i)),s=mf(t,e),s!=null&&n.push(Sf(t,s,i))),t=t.return}return n}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=mf(r,s),l!=null&&a.unshift(Sf(r,l,o))):i||(l=mf(r,s),l!=null&&a.push(Sf(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var a3=/\r\n?/g,o3=/\u0000|\uFFFD/g;function qT(t){return(typeof t=="string"?t:""+t).replace(a3,`
`).replace(o3,"")}function fm(t,e,r){if(e=qT(e),qT(t)!==e&&r)throw Error(Ve(425))}function Gg(){}var yx=null,bx=null;function vx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wx=typeof setTimeout=="function"?setTimeout:void 0,l3=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,c3=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(t){return KT.resolve(null).then(t).catch(u3)}:wx;function u3(t){setTimeout(function(){throw t})}function vv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),bf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bf(e)}function Sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dd=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Dd,kf="__reactProps$"+Dd,Ro="__reactContainer$"+Dd,xx="__reactEvents$"+Dd,d3="__reactListeners$"+Dd,h3="__reactHandles$"+Dd;function oc(t){var e=t[Ha];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ro]||r[Ha]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=QT(t);t!==null;){if(r=t[Ha])return r;t=QT(t)}return e}t=r,r=t.parentNode}return null}function kp(t){return t=t[Ha]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function o0(t){return t[kf]||null}var Sx=[],Nu=-1;function Vl(t){return{current:t}}function Vr(t){0>Nu||(t.current=Sx[Nu],Sx[Nu]=null,Nu--)}function Lr(t,e){Nu++,Sx[Nu]=t.current,t.current=e}var Rl={},hi=Vl(Rl),Ui=Vl(!1),Mc=Rl;function rd(t,e){var r=t.type.contextTypes;if(!r)return Rl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(t){return t=t.childContextTypes,t!=null}function jg(){Vr(Ui),Vr(hi)}function JT(t,e,r){if(hi.current!==Rl)throw Error(Ve(168));Lr(hi,e),Lr(Ui,r)}function AR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ve(108,K5(t)||"Unknown",i));return nn({},r,n)}function Yg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rl,Mc=hi.current,Lr(hi,t),Lr(Ui,Ui.current),!0}function ZT(t,e,r){var n=t.stateNode;if(!n)throw Error(Ve(169));r?(t=AR(t,e,Mc),n.__reactInternalMemoizedMergedChildContext=t,Vr(Ui),Vr(hi),Lr(hi,t)):Vr(Ui),Lr(Ui,r)}var po=null,l0=!1,wv=!1;function OR(t){po===null?po=[t]:po.push(t)}function f3(t){l0=!0,OR(t)}function zl(){if(!wv&&po!==null){wv=!0;var t=0,e=mr;try{var r=po;for(mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}po=null,l0=!1}catch(i){throw po!==null&&(po=po.slice(t+1)),cR(h1,zl),i}finally{mr=e,wv=!1}}return null}var Mu=[],Eu=0,Xg=null,qg=0,_s=[],Ps=0,Ec=null,vo=1,wo="";function tc(t,e){Mu[Eu++]=qg,Mu[Eu++]=Xg,Xg=t,qg=e}function $R(t,e,r){_s[Ps++]=vo,_s[Ps++]=wo,_s[Ps++]=Ec,Ec=t;var n=vo;t=wo;var i=32-Sa(n)-1;n&=~(1<<i),r+=1;var s=32-Sa(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,vo=1<<32-Sa(e)+i|r<<i|n,wo=s+t}else vo=1<<s|r<<i|n,wo=t}function x1(t){t.return!==null&&(tc(t,1),$R(t,1,0))}function S1(t){for(;t===Xg;)Xg=Mu[--Eu],Mu[Eu]=null,qg=Mu[--Eu],Mu[Eu]=null;for(;t===Ec;)Ec=_s[--Ps],_s[Ps]=null,wo=_s[--Ps],_s[Ps]=null,vo=_s[--Ps],_s[Ps]=null}var ls=null,as=null,qr=!1,ua=null;function VR(t,e){var r=Fs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function e_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,as=Sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ec!==null?{id:vo,overflow:wo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ls=t,as=null,!0):!1;default:return!1}}function kx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cx(t){if(qr){var e=as;if(e){var r=e;if(!e_(t,e)){if(kx(t))throw Error(Ve(418));e=Sl(r.nextSibling);var n=ls;e&&e_(t,e)?VR(n,r):(t.flags=t.flags&-4097|2,qr=!1,ls=t)}}else{if(kx(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,qr=!1,ls=t}}}function t_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function pm(t){if(t!==ls)return!1;if(!qr)return t_(t),qr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vx(t.type,t.memoizedProps)),e&&(e=as)){if(kx(t))throw zR(),Error(Ve(418));for(;e;)VR(t,e),e=Sl(e.nextSibling)}if(t_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){as=Sl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}as=null}}else as=ls?Sl(t.stateNode.nextSibling):null;return!0}function zR(){for(var t=as;t;)t=Sl(t.nextSibling)}function nd(){as=ls=null,qr=!1}function k1(t){ua===null?ua=[t]:ua.push(t)}var p3=Uo.ReactCurrentBatchConfig;function sa(t,e){if(t&&t.defaultProps){e=nn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Kg=Vl(null),Qg=null,Ru=null,C1=null;function T1(){C1=Ru=Qg=null}function _1(t){var e=Kg.current;Vr(Kg),t._currentValue=e}function Tx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Gu(t,e){Qg=t,C1=Ru=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vi=!0),t.firstContext=null)}function Hs(t){var e=t._currentValue;if(C1!==t)if(t={context:t,memoizedValue:e,next:null},Ru===null){if(Qg===null)throw Error(Ve(308));Ru=t,Qg.dependencies={lanes:0,firstContext:t}}else Ru=Ru.next=t;return e}var lc=null;function P1(t){lc===null?lc=[t]:lc.push(t)}function WR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,P1(e)):(r.next=i.next,i.next=r),e.interleaved=r,Do(t,n)}function Do(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var cl=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,sr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Do(t,r)}return i=n.interleaved,i===null?(e.next=e,P1(n)):(e.next=i.next,i.next=e),n.interleaved=e,Do(t,r)}function fg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,f1(t,r)}}function r_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jg(t,e,r,n){var i=t.updateQueue;cl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,m=o;switch(h=e,p=r,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=nn({},d,h);break e;case 2:cl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Dc|=a,t.lanes=a,t.memoizedState=d}}function n_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var UR=new WE.Component().refs;function _x(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var c0={isMounted:function(t){return(t=t._reactInternals)?jc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pi(),i=Tl(t),s=Po(n,i);s.payload=e,r!=null&&(s.callback=r),e=kl(t,s,i),e!==null&&(ka(e,t,i,n),fg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pi(),i=Tl(t),s=Po(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=kl(t,s,i),e!==null&&(ka(e,t,i,n),fg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pi(),n=Tl(t),i=Po(r,n);i.tag=2,e!=null&&(i.callback=e),e=kl(t,i,n),e!==null&&(ka(e,t,n,r),fg(e,t,n))}};function i_(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!wf(r,n)||!wf(i,s):!0}function GR(t,e,r){var n=!1,i=Rl,s=e.contextType;return typeof s=="object"&&s!==null?s=Hs(s):(i=Gi(e)?Mc:hi.current,n=e.contextTypes,s=(n=n!=null)?rd(t,i):Rl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=c0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function s_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&c0.enqueueReplaceState(e,e.state,null)}function Px(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=UR,B1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hs(s):(s=Gi(e)?Mc:hi.current,i.context=rd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_x(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&c0.enqueueReplaceState(i,i.state,null),Jg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;o===UR&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,t))}return t}function mm(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a_(t){var e=t._init;return e(t._payload)}function jR(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=_l(y,b),y.index=0,y.sibling=null,y}function s(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,v,k){return b===null||b.tag!==6?(b=Pv(v,y.mode,k),b.return=y,b):(b=i(b,v),b.return=y,b)}function l(y,b,v,k){var C=v.type;return C===Cu?u(y,b,v.props.children,k,v.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ll&&a_(C)===b.type)?(k=i(b,v.props),k.ref=Zd(y,b,v),k.return=y,k):(k=vg(v.type,v.key,v.props,null,y.mode,k),k.ref=Zd(y,b,v),k.return=y,k)}function c(y,b,v,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Bv(v,y.mode,k),b.return=y,b):(b=i(b,v.children||[]),b.return=y,b)}function u(y,b,v,k,C){return b===null||b.tag!==7?(b=kc(v,y.mode,k,C),b.return=y,b):(b=i(b,v),b.return=y,b)}function d(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Pv(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case im:return v=vg(b.type,b.key,b.props,null,y.mode,v),v.ref=Zd(y,null,b),v.return=y,v;case ku:return b=Bv(b,y.mode,v),b.return=y,b;case ll:var k=b._init;return d(y,k(b._payload),v)}if(Nh(b)||Xd(b))return b=kc(b,y.mode,v,null),b.return=y,b;mm(y,b)}return null}function h(y,b,v,k){var C=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(y,b,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case im:return v.key===C?l(y,b,v,k):null;case ku:return v.key===C?c(y,b,v,k):null;case ll:return C=v._init,h(y,b,C(v._payload),k)}if(Nh(v)||Xd(v))return C!==null?null:u(y,b,v,k,null);mm(y,v)}return null}function p(y,b,v,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(v)||null,o(b,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case im:return y=y.get(k.key===null?v:k.key)||null,l(b,y,k,C);case ku:return y=y.get(k.key===null?v:k.key)||null,c(b,y,k,C);case ll:var S=k._init;return p(y,b,v,S(k._payload),C)}if(Nh(k)||Xd(k))return y=y.get(v)||null,u(b,y,k,C,null);mm(b,k)}return null}function f(y,b,v,k){for(var C=null,S=null,_=b,B=b=0,D=null;_!==null&&B<v.length;B++){_.index>B?(D=_,_=null):D=_.sibling;var E=h(y,_,v[B],k);if(E===null){_===null&&(_=D);break}t&&_&&E.alternate===null&&e(y,_),b=s(E,b,B),S===null?C=E:S.sibling=E,S=E,_=D}if(B===v.length)return r(y,_),qr&&tc(y,B),C;if(_===null){for(;B<v.length;B++)_=d(y,v[B],k),_!==null&&(b=s(_,b,B),S===null?C=_:S.sibling=_,S=_);return qr&&tc(y,B),C}for(_=n(y,_);B<v.length;B++)D=p(_,y,B,v[B],k),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?B:D.key),b=s(D,b,B),S===null?C=D:S.sibling=D,S=D);return t&&_.forEach(function(R){return e(y,R)}),qr&&tc(y,B),C}function m(y,b,v,k){var C=Xd(v);if(typeof C!="function")throw Error(Ve(150));if(v=C.call(v),v==null)throw Error(Ve(151));for(var S=C=null,_=b,B=b=0,D=null,E=v.next();_!==null&&!E.done;B++,E=v.next()){_.index>B?(D=_,_=null):D=_.sibling;var R=h(y,_,E.value,k);if(R===null){_===null&&(_=D);break}t&&_&&R.alternate===null&&e(y,_),b=s(R,b,B),S===null?C=R:S.sibling=R,S=R,_=D}if(E.done)return r(y,_),qr&&tc(y,B),C;if(_===null){for(;!E.done;B++,E=v.next())E=d(y,E.value,k),E!==null&&(b=s(E,b,B),S===null?C=E:S.sibling=E,S=E);return qr&&tc(y,B),C}for(_=n(y,_);!E.done;B++,E=v.next())E=p(_,y,B,E.value,k),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?B:E.key),b=s(E,b,B),S===null?C=E:S.sibling=E,S=E);return t&&_.forEach(function(A){return e(y,A)}),qr&&tc(y,B),C}function g(y,b,v,k){if(typeof v=="object"&&v!==null&&v.type===Cu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case im:e:{for(var C=v.key,S=b;S!==null;){if(S.key===C){if(C=v.type,C===Cu){if(S.tag===7){r(y,S.sibling),b=i(S,v.props.children),b.return=y,y=b;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ll&&a_(C)===S.type){r(y,S.sibling),b=i(S,v.props),b.ref=Zd(y,S,v),b.return=y,y=b;break e}r(y,S);break}else e(y,S);S=S.sibling}v.type===Cu?(b=kc(v.props.children,y.mode,k,v.key),b.return=y,y=b):(k=vg(v.type,v.key,v.props,null,y.mode,k),k.ref=Zd(y,b,v),k.return=y,y=k)}return a(y);case ku:e:{for(S=v.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=i(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=Bv(v,y.mode,k),b.return=y,y=b}return a(y);case ll:return S=v._init,g(y,b,S(v._payload),k)}if(Nh(v))return f(y,b,v,k);if(Xd(v))return m(y,b,v,k);mm(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,v),b.return=y,y=b):(r(y,b),b=Pv(v,y.mode,k),b.return=y,y=b),a(y)):r(y,b)}return g}var id=jR(!0),YR=jR(!1),Cp={},Ka=Vl(Cp),Cf=Vl(Cp),Tf=Vl(Cp);function cc(t){if(t===Cp)throw Error(Ve(174));return t}function N1(t,e){switch(Lr(Tf,e),Lr(Cf,t),Lr(Ka,Cp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sx(e,t)}Vr(Ka),Lr(Ka,e)}function sd(){Vr(Ka),Vr(Cf),Vr(Tf)}function XR(t){cc(Tf.current);var e=cc(Ka.current),r=sx(e,t.type);e!==r&&(Lr(Cf,t),Lr(Ka,r))}function M1(t){Cf.current===t&&(Vr(Ka),Vr(Cf))}var Jr=Vl(0);function Zg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xv=[];function E1(){for(var t=0;t<xv.length;t++)xv[t]._workInProgressVersionPrimary=null;xv.length=0}var pg=Uo.ReactCurrentDispatcher,Sv=Uo.ReactCurrentBatchConfig,Rc=0,tn=null,On=null,Xn=null,ey=!1,Uh=!1,_f=0,m3=0;function li(){throw Error(Ve(321))}function R1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Pa(t[r],e[r]))return!1;return!0}function D1(t,e,r,n,i,s){if(Rc=s,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pg.current=t===null||t.memoizedState===null?v3:w3,t=r(n,i),Uh){s=0;do{if(Uh=!1,_f=0,25<=s)throw Error(Ve(301));s+=1,Xn=On=null,e.updateQueue=null,pg.current=x3,t=r(n,i)}while(Uh)}if(pg.current=ty,e=On!==null&&On.next!==null,Rc=0,Xn=On=tn=null,ey=!1,e)throw Error(Ve(300));return t}function L1(){var t=_f!==0;return _f=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?tn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function Us(){if(On===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Xn===null?tn.memoizedState:Xn.next;if(e!==null)Xn=e,On=t;else{if(t===null)throw Error(Ve(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Xn===null?tn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function Pf(t,e){return typeof e=="function"?e(t):e}function kv(t){var e=Us(),r=e.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=t;var n=On,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Rc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,tn.lanes|=u,Dc|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Pa(n,e.memoizedState)||(Vi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,tn.lanes|=s,Dc|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cv(t){var e=Us(),r=e.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Pa(s,e.memoizedState)||(Vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function qR(){}function KR(t,e){var r=tn,n=Us(),i=e(),s=!Pa(n.memoizedState,i);if(s&&(n.memoizedState=i,Vi=!0),n=n.queue,I1(ZR.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Xn!==null&&Xn.memoizedState.tag&1){if(r.flags|=2048,Bf(9,JR.bind(null,r,n,i,e),void 0,null),Kn===null)throw Error(Ve(349));Rc&30||QR(r,e,i)}return i}function QR(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function JR(t,e,r,n){e.value=r,e.getSnapshot=n,e2(e)&&t2(t)}function ZR(t,e,r){return r(function(){e2(e)&&t2(t)})}function e2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Pa(t,r)}catch{return!0}}function t2(t){var e=Do(t,1);e!==null&&ka(e,t,1,-1)}function o_(t){var e=Aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},e.queue=t,t=t.dispatch=b3.bind(null,tn,t),[e.memoizedState,t]}function Bf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function r2(){return Us().memoizedState}function mg(t,e,r,n){var i=Aa();tn.flags|=t,i.memoizedState=Bf(1|e,r,void 0,n===void 0?null:n)}function u0(t,e,r,n){var i=Us();n=n===void 0?null:n;var s=void 0;if(On!==null){var a=On.memoizedState;if(s=a.destroy,n!==null&&R1(n,a.deps)){i.memoizedState=Bf(e,r,s,n);return}}tn.flags|=t,i.memoizedState=Bf(1|e,r,s,n)}function l_(t,e){return mg(8390656,8,t,e)}function I1(t,e){return u0(2048,8,t,e)}function n2(t,e){return u0(4,2,t,e)}function i2(t,e){return u0(4,4,t,e)}function s2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a2(t,e,r){return r=r!=null?r.concat([t]):null,u0(4,4,s2.bind(null,e,t),r)}function F1(){}function o2(t,e){var r=Us();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&R1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l2(t,e){var r=Us();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&R1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function c2(t,e,r){return Rc&21?(Pa(r,e)||(r=hR(),tn.lanes|=r,Dc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vi=!0),t.memoizedState=r)}function g3(t,e){var r=mr;mr=r!==0&&4>r?r:4,t(!0);var n=Sv.transition;Sv.transition={};try{t(!1),e()}finally{mr=r,Sv.transition=n}}function u2(){return Us().memoizedState}function y3(t,e,r){var n=Tl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d2(t))h2(e,r);else if(r=WR(t,e,r,n),r!==null){var i=Pi();ka(r,t,n,i),f2(r,e,n)}}function b3(t,e,r){var n=Tl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d2(t))h2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Pa(o,a)){var l=e.interleaved;l===null?(i.next=i,P1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=WR(t,e,i,n),r!==null&&(i=Pi(),ka(r,t,n,i),f2(r,e,n))}}function d2(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function h2(t,e){Uh=ey=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function f2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,f1(t,r)}}var ty={readContext:Hs,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},v3={readContext:Hs,useCallback:function(t,e){return Aa().memoizedState=[t,e===void 0?null:e],t},useContext:Hs,useEffect:l_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,mg(4194308,4,s2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return mg(4194308,4,t,e)},useInsertionEffect:function(t,e){return mg(4,2,t,e)},useMemo:function(t,e){var r=Aa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Aa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=y3.bind(null,tn,t),[n.memoizedState,t]},useRef:function(t){var e=Aa();return t={current:t},e.memoizedState=t},useState:o_,useDebugValue:F1,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=o_(!1),e=t[0];return t=g3.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=tn,i=Aa();if(qr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=e(),Kn===null)throw Error(Ve(349));Rc&30||QR(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,l_(ZR.bind(null,n,s,t),[t]),n.flags|=2048,Bf(9,JR.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Aa(),e=Kn.identifierPrefix;if(qr){var r=wo,n=vo;r=(n&~(1<<32-Sa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=_f++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w3={readContext:Hs,useCallback:o2,useContext:Hs,useEffect:I1,useImperativeHandle:a2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:l2,useReducer:kv,useRef:r2,useState:function(){return kv(Pf)},useDebugValue:F1,useDeferredValue:function(t){var e=Us();return c2(e,On.memoizedState,t)},useTransition:function(){var t=kv(Pf)[0],e=Us().memoizedState;return[t,e]},useMutableSource:qR,useSyncExternalStore:KR,useId:u2,unstable_isNewReconciler:!1},x3={readContext:Hs,useCallback:o2,useContext:Hs,useEffect:I1,useImperativeHandle:a2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:l2,useReducer:Cv,useRef:r2,useState:function(){return Cv(Pf)},useDebugValue:F1,useDeferredValue:function(t){var e=Us();return On===null?e.memoizedState=t:c2(e,On.memoizedState,t)},useTransition:function(){var t=Cv(Pf)[0],e=Us().memoizedState;return[t,e]},useMutableSource:qR,useSyncExternalStore:KR,useId:u2,unstable_isNewReconciler:!1};function ad(t,e){try{var r="",n=e;do r+=q5(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Bx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var S3=typeof WeakMap=="function"?WeakMap:Map;function p2(t,e,r){r=Po(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ny||(ny=!0,Ox=n),Bx(t,e)},r}function m2(t,e,r){r=Po(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Bx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Bx(t,e),typeof n!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function c_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new S3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=F3.bind(null,t,e,r),e.then(t,t))}function u_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Po(-1,1),e.tag=2,kl(r,e,1))),r.lanes|=1),t)}var k3=Uo.ReactCurrentOwner,Vi=!1;function wi(t,e,r,n){e.child=t===null?YR(e,null,r,n):id(e,t.child,r,n)}function h_(t,e,r,n,i){r=r.render;var s=e.ref;return Gu(e,i),n=D1(t,e,r,n,s,i),r=L1(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lo(t,e,i)):(qr&&r&&x1(e),e.flags|=1,wi(t,e,n,i),e.child)}function f_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!U1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,g2(t,e,s,n,i)):(t=vg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:wf,r(a,n)&&t.ref===e.ref)return Lo(t,e,i)}return e.flags|=1,t=_l(s,n),t.ref=e.ref,t.return=e,e.child=t}function g2(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(wf(s,n)&&t.ref===e.ref)if(Vi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Vi=!0);else return e.lanes=t.lanes,Lo(t,e,i)}return Nx(t,e,r,n,i)}function y2(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Lu,es),es|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lr(Lu,es),es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Lr(Lu,es),es|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Lr(Lu,es),es|=n;return wi(t,e,i,r),e.child}function b2(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Nx(t,e,r,n,i){var s=Gi(r)?Mc:hi.current;return s=rd(e,s),Gu(e,i),r=D1(t,e,r,n,s,i),n=L1(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lo(t,e,i)):(qr&&n&&x1(e),e.flags|=1,wi(t,e,r,i),e.child)}function p_(t,e,r,n,i){if(Gi(r)){var s=!0;Yg(e)}else s=!1;if(Gu(e,i),e.stateNode===null)gg(t,e),GR(e,r,n),Px(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hs(c):(c=Gi(r)?Mc:hi.current,c=rd(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&s_(e,a,n,c),cl=!1;var h=e.memoizedState;a.state=h,Jg(e,n,a,i),l=e.memoizedState,o!==n||h!==l||Ui.current||cl?(typeof u=="function"&&(_x(e,r,u,n),l=e.memoizedState),(o=cl||i_(e,r,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,HR(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:sa(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Hs(l):(l=Gi(r)?Mc:hi.current,l=rd(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&s_(e,a,n,l),cl=!1,h=e.memoizedState,a.state=h,Jg(e,n,a,i);var f=e.memoizedState;o!==d||h!==f||Ui.current||cl?(typeof p=="function"&&(_x(e,r,p,n),f=e.memoizedState),(c=cl||i_(e,r,c,n,h,f,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Mx(t,e,r,n,s,i)}function Mx(t,e,r,n,i,s){b2(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&ZT(e,r,!1),Lo(t,e,s);n=e.stateNode,k3.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=id(e,t.child,null,s),e.child=id(e,null,o,s)):wi(t,e,o,s),e.memoizedState=n.state,i&&ZT(e,r,!0),e.child}function v2(t){var e=t.stateNode;e.pendingContext?JT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JT(t,e.context,!1),N1(t,e.containerInfo)}function m_(t,e,r,n,i){return nd(),k1(i),e.flags|=256,wi(t,e,r,n),e.child}var Ex={dehydrated:null,treeContext:null,retryLane:0};function Rx(t){return{baseLanes:t,cachePool:null,transitions:null}}function w2(t,e,r){var n=e.pendingProps,i=Jr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Lr(Jr,i&1),t===null)return Cx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=f0(a,n,0,null),t=kc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rx(r),e.memoizedState=Ex,t):A1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return C3(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_l(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=_l(o,s):(s=kc(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Rx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Ex,n}return s=t.child,t=s.sibling,n=_l(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function A1(t,e){return e=f0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gm(t,e,r,n){return n!==null&&k1(n),id(e,t.child,null,r),t=A1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C3(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Tv(Error(Ve(422))),gm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=f0({mode:"visible",children:n.children},i,0,null),s=kc(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&id(e,t.child,null,a),e.child.memoizedState=Rx(a),e.memoizedState=Ex,s);if(!(e.mode&1))return gm(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ve(419)),n=Tv(s,n,void 0),gm(t,e,a,n)}if(o=(a&t.childLanes)!==0,Vi||o){if(n=Kn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Do(t,i),ka(n,t,i,-1))}return H1(),n=Tv(Error(Ve(421))),gm(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,as=Sl(i.nextSibling),ls=e,qr=!0,ua=null,t!==null&&(_s[Ps++]=vo,_s[Ps++]=wo,_s[Ps++]=Ec,vo=t.id,wo=t.overflow,Ec=e),e=A1(e,n.children),e.flags|=4096,e)}function g_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Tx(t.return,e,r)}function _v(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function x2(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(wi(t,e,n.children,r),n=Jr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,r,e);else if(t.tag===19)g_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Lr(Jr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Zg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_v(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_v(e,!0,r,null,s);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,r=_l(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_l(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function T3(t,e,r){switch(e.tag){case 3:v2(e),nd();break;case 5:XR(e);break;case 1:Gi(e.type)&&Yg(e);break;case 4:N1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Lr(Kg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Lr(Jr,Jr.current&1),e.flags|=128,null):r&e.child.childLanes?w2(t,e,r):(Lr(Jr,Jr.current&1),t=Lo(t,e,r),t!==null?t.sibling:null);Lr(Jr,Jr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return x2(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lr(Jr,Jr.current),n)break;return null;case 22:case 23:return e.lanes=0,y2(t,e,r)}return Lo(t,e,r)}var S2,Dx,k2,C2;S2=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dx=function(){};k2=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cc(Ka.current);var s=null;switch(r){case"input":i=tx(t,i),n=tx(t,n),s=[];break;case"select":i=nn({},i,{value:void 0}),n=nn({},n,{value:void 0}),s=[];break;case"textarea":i=ix(t,i),n=ix(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gg)}ax(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ff.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ff.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};C2=function(t,e,r,n){r!==n&&(e.flags|=4)};function eh(t,e){if(!qr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ci(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _3(t,e,r){var n=e.pendingProps;switch(S1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(e),null;case 1:return Gi(e.type)&&jg(),ci(e),null;case 3:return n=e.stateNode,sd(),Vr(Ui),Vr(hi),E1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ua!==null&&(zx(ua),ua=null))),Dx(t,e),ci(e),null;case 5:M1(e);var i=cc(Tf.current);if(r=e.type,t!==null&&e.stateNode!=null)k2(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ve(166));return ci(e),null}if(t=cc(Ka.current),pm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ha]=e,n[kf]=s,t=(e.mode&1)!==0,r){case"dialog":Fr("cancel",n),Fr("close",n);break;case"iframe":case"object":case"embed":Fr("load",n);break;case"video":case"audio":for(i=0;i<Eh.length;i++)Fr(Eh[i],n);break;case"source":Fr("error",n);break;case"img":case"image":case"link":Fr("error",n),Fr("load",n);break;case"details":Fr("toggle",n);break;case"input":TT(n,s),Fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",n);break;case"textarea":PT(n,s),Fr("invalid",n)}ax(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&fm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&fm(n.textContent,o,t),i=["children",""+o]):ff.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Fr("scroll",n)}switch(r){case"input":sm(n),_T(n,s,!0);break;case"textarea":sm(n),BT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ha]=e,t[kf]=n,S2(t,e,!1,!1),e.stateNode=t;e:{switch(a=ox(r,n),r){case"dialog":Fr("cancel",t),Fr("close",t),i=n;break;case"iframe":case"object":case"embed":Fr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Eh.length;i++)Fr(Eh[i],t);i=n;break;case"source":Fr("error",t),i=n;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=n;break;case"details":Fr("toggle",t),i=n;break;case"input":TT(t,n),i=tx(t,n),Fr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=nn({},n,{value:void 0}),Fr("invalid",t);break;case"textarea":PT(t,n),i=ix(t,n),Fr("invalid",t);break;default:i=n}ax(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?eR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JE(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pf(t,l):typeof l=="number"&&pf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fr("scroll",t):l!=null&&o1(t,s,l,a))}switch(r){case"input":sm(t),_T(t,n,!1);break;case"textarea":sm(t),BT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+El(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zu(t,!!n.multiple,s,!1):n.defaultValue!=null&&zu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ci(e),null;case 6:if(t&&e.stateNode!=null)C2(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ve(166));if(r=cc(Tf.current),cc(Ka.current),pm(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ha]=e,(s=n.nodeValue!==r)&&(t=ls,t!==null))switch(t.tag){case 3:fm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ha]=e,e.stateNode=n}return ci(e),null;case 13:if(Vr(Jr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qr&&as!==null&&e.mode&1&&!(e.flags&128))zR(),nd(),e.flags|=98560,s=!1;else if(s=pm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[Ha]=e}else nd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ci(e),s=!1}else ua!==null&&(zx(ua),ua=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jr.current&1?Vn===0&&(Vn=3):H1())),e.updateQueue!==null&&(e.flags|=4),ci(e),null);case 4:return sd(),Dx(t,e),t===null&&xf(e.stateNode.containerInfo),ci(e),null;case 10:return _1(e.type._context),ci(e),null;case 17:return Gi(e.type)&&jg(),ci(e),null;case 19:if(Vr(Jr),s=e.memoizedState,s===null)return ci(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)eh(s,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Zg(t),a!==null){for(e.flags|=128,eh(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Lr(Jr,Jr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Sn()>od&&(e.flags|=128,n=!0,eh(s,!1),e.lanes=4194304)}else{if(!n)if(t=Zg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),eh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qr)return ci(e),null}else 2*Sn()-s.renderingStartTime>od&&r!==1073741824&&(e.flags|=128,n=!0,eh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,r=Jr.current,Lr(Jr,n?r&1|2:r&1),e):(ci(e),null);case 22:case 23:return W1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?es&1073741824&&(ci(e),e.subtreeFlags&6&&(e.flags|=8192)):ci(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function P3(t,e){switch(S1(e),e.tag){case 1:return Gi(e.type)&&jg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sd(),Vr(Ui),Vr(hi),E1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M1(e),null;case 13:if(Vr(Jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));nd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vr(Jr),null;case 4:return sd(),null;case 10:return _1(e.type._context),null;case 22:case 23:return W1(),null;case 24:return null;default:return null}}var ym=!1,di=!1,B3=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Du(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dn(t,e,n)}else r.current=null}function Lx(t,e,r){try{r()}catch(n){dn(t,e,n)}}var y_=!1;function N3(t,e){if(yx=Wg,t=BR(),w1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===i&&(o=a),h===s&&++u===n&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bx={focusedElem:t,selectionRange:r},Wg=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,g=f.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:sa(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(k){dn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return f=y_,y_=!1,f}function Gh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lx(e,r,s)}i=i.next}while(i!==n)}}function d0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ix(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function T2(t){var e=t.alternate;e!==null&&(t.alternate=null,T2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[kf],delete e[xx],delete e[d3],delete e[h3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _2(t){return t.tag===5||t.tag===3||t.tag===4}function b_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gg));else if(n!==4&&(t=t.child,t!==null))for(Fx(t,e,r),t=t.sibling;t!==null;)Fx(t,e,r),t=t.sibling}function Ax(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ax(t,e,r),t=t.sibling;t!==null;)Ax(t,e,r),t=t.sibling}var ri=null,aa=!1;function Qo(t,e,r){for(r=r.child;r!==null;)P2(t,e,r),r=r.sibling}function P2(t,e,r){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(n0,r)}catch{}switch(r.tag){case 5:di||Du(r,e);case 6:var n=ri,i=aa;ri=null,Qo(t,e,r),ri=n,aa=i,ri!==null&&(aa?(t=ri,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ri.removeChild(r.stateNode));break;case 18:ri!==null&&(aa?(t=ri,r=r.stateNode,t.nodeType===8?vv(t.parentNode,r):t.nodeType===1&&vv(t,r),bf(t)):vv(ri,r.stateNode));break;case 4:n=ri,i=aa,ri=r.stateNode.containerInfo,aa=!0,Qo(t,e,r),ri=n,aa=i;break;case 0:case 11:case 14:case 15:if(!di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Lx(r,e,a),i=i.next}while(i!==n)}Qo(t,e,r);break;case 1:if(!di&&(Du(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dn(r,e,o)}Qo(t,e,r);break;case 21:Qo(t,e,r);break;case 22:r.mode&1?(di=(n=di)||r.memoizedState!==null,Qo(t,e,r),di=n):Qo(t,e,r);break;default:Qo(t,e,r)}}function v_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new B3),e.forEach(function(n){var i=O3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ra(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ri=o.stateNode,aa=!1;break e;case 3:ri=o.stateNode.containerInfo,aa=!0;break e;case 4:ri=o.stateNode.containerInfo,aa=!0;break e}o=o.return}if(ri===null)throw Error(Ve(160));P2(s,a,i),ri=null,aa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B2(e,t),e=e.sibling}function B2(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ra(e,t),Fa(t),n&4){try{Gh(3,t,t.return),d0(3,t)}catch(m){dn(t,t.return,m)}try{Gh(5,t,t.return)}catch(m){dn(t,t.return,m)}}break;case 1:ra(e,t),Fa(t),n&512&&r!==null&&Du(r,r.return);break;case 5:if(ra(e,t),Fa(t),n&512&&r!==null&&Du(r,r.return),t.flags&32){var i=t.stateNode;try{pf(i,"")}catch(m){dn(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&qE(i,s),ox(o,a);var c=ox(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?eR(i,d):u==="dangerouslySetInnerHTML"?JE(i,d):u==="children"?pf(i,d):o1(i,u,d,c)}switch(o){case"input":rx(i,s);break;case"textarea":KE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zu(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?zu(i,!!s.multiple,s.defaultValue,!0):zu(i,!!s.multiple,s.multiple?[]:"",!1))}i[kf]=s}catch(m){dn(t,t.return,m)}}break;case 6:if(ra(e,t),Fa(t),n&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){dn(t,t.return,m)}}break;case 3:if(ra(e,t),Fa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bf(e.containerInfo)}catch(m){dn(t,t.return,m)}break;case 4:ra(e,t),Fa(t);break;case 13:ra(e,t),Fa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(V1=Sn())),n&4&&v_(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(di=(c=di)||u,ra(e,t),di=c):ra(e,t),Fa(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(nt=t,u=t.child;u!==null;){for(d=nt=u;nt!==null;){switch(h=nt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gh(4,h,h.return);break;case 1:Du(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){dn(n,r,m)}}break;case 5:Du(h,h.return);break;case 22:if(h.memoizedState!==null){x_(d);continue}}p!==null?(p.return=h,nt=p):x_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ZE("display",a))}catch(m){dn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){dn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ra(e,t),Fa(t),n&4&&v_(t);break;case 21:break;default:ra(e,t),Fa(t)}}function Fa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_2(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(pf(i,""),n.flags&=-33);var s=b_(t);Ax(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=b_(t);Fx(t,o,a);break;default:throw Error(Ve(161))}}catch(l){dn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M3(t,e,r){nt=t,N2(t)}function N2(t,e,r){for(var n=(t.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ym;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||di;o=ym;var c=di;if(ym=a,(di=l)&&!c)for(nt=i;nt!==null;)a=nt,l=a.child,a.tag===22&&a.memoizedState!==null?S_(i):l!==null?(l.return=a,nt=l):S_(i);for(;s!==null;)nt=s,N2(s),s=s.sibling;nt=i,ym=o,di=c}w_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):w_(t)}}function w_(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:di||d0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!di)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:sa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&n_(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}n_(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&bf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}di||e.flags&512&&Ix(e)}catch(h){dn(e,e.return,h)}}if(e===t){nt=null;break}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}}function x_(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nt=r;break}nt=e.return}}function S_(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{d0(4,e)}catch(l){dn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dn(e,i,l)}}var s=e.return;try{Ix(e)}catch(l){dn(e,s,l)}break;case 5:var a=e.return;try{Ix(e)}catch(l){dn(e,a,l)}}}catch(l){dn(e,e.return,l)}if(e===t){nt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nt=o;break}nt=e.return}}var E3=Math.ceil,ry=Uo.ReactCurrentDispatcher,O1=Uo.ReactCurrentOwner,zs=Uo.ReactCurrentBatchConfig,sr=0,Kn=null,In=null,si=0,es=0,Lu=Vl(0),Vn=0,Nf=null,Dc=0,h0=0,$1=0,jh=null,Fi=null,V1=0,od=1/0,ho=null,ny=!1,Ox=null,Cl=null,bm=!1,pl=null,iy=0,Yh=0,$x=null,yg=-1,bg=0;function Pi(){return sr&6?Sn():yg!==-1?yg:yg=Sn()}function Tl(t){return t.mode&1?sr&2&&si!==0?si&-si:p3.transition!==null?(bg===0&&(bg=hR()),bg):(t=mr,t!==0||(t=window.event,t=t===void 0?16:vR(t.type)),t):1}function ka(t,e,r,n){if(50<Yh)throw Yh=0,$x=null,Error(Ve(185));xp(t,r,n),(!(sr&2)||t!==Kn)&&(t===Kn&&(!(sr&2)&&(h0|=r),Vn===4&&dl(t,si)),ji(t,n),r===1&&sr===0&&!(e.mode&1)&&(od=Sn()+500,l0&&zl()))}function ji(t,e){var r=t.callbackNode;p$(t,e);var n=zg(t,t===Kn?si:0);if(n===0)r!==null&&ET(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ET(r),e===1)t.tag===0?f3(k_.bind(null,t)):OR(k_.bind(null,t)),c3(function(){!(sr&6)&&zl()}),r=null;else{switch(fR(n)){case 1:r=h1;break;case 4:r=uR;break;case 16:r=Vg;break;case 536870912:r=dR;break;default:r=Vg}r=A2(r,M2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function M2(t,e){if(yg=-1,bg=0,sr&6)throw Error(Ve(327));var r=t.callbackNode;if(ju()&&t.callbackNode!==r)return null;var n=zg(t,t===Kn?si:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=sy(t,n);else{e=n;var i=sr;sr|=2;var s=R2();(Kn!==t||si!==e)&&(ho=null,od=Sn()+500,Sc(t,e));do try{L3();break}catch(o){E2(t,o)}while(!0);T1(),ry.current=s,sr=i,In!==null?e=0:(Kn=null,si=0,e=Vn)}if(e!==0){if(e===2&&(i=hx(t),i!==0&&(n=i,e=Vx(t,i))),e===1)throw r=Nf,Sc(t,0),dl(t,n),ji(t,Sn()),r;if(e===6)dl(t,n);else{if(i=t.current.alternate,!(n&30)&&!R3(i)&&(e=sy(t,n),e===2&&(s=hx(t),s!==0&&(n=s,e=Vx(t,s))),e===1))throw r=Nf,Sc(t,0),dl(t,n),ji(t,Sn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ve(345));case 2:rc(t,Fi,ho);break;case 3:if(dl(t,n),(n&130023424)===n&&(e=V1+500-Sn(),10<e)){if(zg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wx(rc.bind(null,t,Fi,ho),e);break}rc(t,Fi,ho);break;case 4:if(dl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Sa(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E3(n/1960))-n,10<n){t.timeoutHandle=wx(rc.bind(null,t,Fi,ho),n);break}rc(t,Fi,ho);break;case 5:rc(t,Fi,ho);break;default:throw Error(Ve(329))}}}return ji(t,Sn()),t.callbackNode===r?M2.bind(null,t):null}function Vx(t,e){var r=jh;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),t=sy(t,e),t!==2&&(e=Fi,Fi=r,e!==null&&zx(e)),t}function zx(t){Fi===null?Fi=t:Fi.push.apply(Fi,t)}function R3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Pa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dl(t,e){for(e&=~$1,e&=~h0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Sa(e),n=1<<r;t[r]=-1,e&=~n}}function k_(t){if(sr&6)throw Error(Ve(327));ju();var e=zg(t,0);if(!(e&1))return ji(t,Sn()),null;var r=sy(t,e);if(t.tag!==0&&r===2){var n=hx(t);n!==0&&(e=n,r=Vx(t,n))}if(r===1)throw r=Nf,Sc(t,0),dl(t,e),ji(t,Sn()),r;if(r===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rc(t,Fi,ho),ji(t,Sn()),null}function z1(t,e){var r=sr;sr|=1;try{return t(e)}finally{sr=r,sr===0&&(od=Sn()+500,l0&&zl())}}function Lc(t){pl!==null&&pl.tag===0&&!(sr&6)&&ju();var e=sr;sr|=1;var r=zs.transition,n=mr;try{if(zs.transition=null,mr=1,t)return t()}finally{mr=n,zs.transition=r,sr=e,!(sr&6)&&zl()}}function W1(){es=Lu.current,Vr(Lu)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,l3(r)),In!==null)for(r=In.return;r!==null;){var n=r;switch(S1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jg();break;case 3:sd(),Vr(Ui),Vr(hi),E1();break;case 5:M1(n);break;case 4:sd();break;case 13:Vr(Jr);break;case 19:Vr(Jr);break;case 10:_1(n.type._context);break;case 22:case 23:W1()}r=r.return}if(Kn=t,In=t=_l(t.current,null),si=es=e,Vn=0,Nf=null,$1=h0=Dc=0,Fi=jh=null,lc!==null){for(e=0;e<lc.length;e++)if(r=lc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}lc=null}return t}function E2(t,e){do{var r=In;try{if(T1(),pg.current=ty,ey){for(var n=tn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ey=!1}if(Rc=0,Xn=On=tn=null,Uh=!1,_f=0,O1.current=null,r===null||r.return===null){Vn=1,Nf=e,In=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=si,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=u_(a);if(p!==null){p.flags&=-257,d_(p,a,o,s,e),p.mode&1&&c_(s,c,e),e=p,l=c;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){c_(s,c,e),H1();break e}l=Error(Ve(426))}}else if(qr&&o.mode&1){var g=u_(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),d_(g,a,o,s,e),k1(ad(l,o));break e}}s=l=ad(l,o),Vn!==4&&(Vn=2),jh===null?jh=[s]:jh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=p2(s,l,e);r_(s,y);break e;case 1:o=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cl===null||!Cl.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=m2(s,o,e);r_(s,k);break e}}s=s.return}while(s!==null)}L2(r)}catch(C){e=C,In===r&&r!==null&&(In=r=r.return);continue}break}while(!0)}function R2(){var t=ry.current;return ry.current=ty,t===null?ty:t}function H1(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Kn===null||!(Dc&268435455)&&!(h0&268435455)||dl(Kn,si)}function sy(t,e){var r=sr;sr|=2;var n=R2();(Kn!==t||si!==e)&&(ho=null,Sc(t,e));do try{D3();break}catch(i){E2(t,i)}while(!0);if(T1(),sr=r,ry.current=n,In!==null)throw Error(Ve(261));return Kn=null,si=0,Vn}function D3(){for(;In!==null;)D2(In)}function L3(){for(;In!==null&&!s$();)D2(In)}function D2(t){var e=F2(t.alternate,t,es);t.memoizedProps=t.pendingProps,e===null?L2(t):In=e,O1.current=null}function L2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=P3(r,e),r!==null){r.flags&=32767,In=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,In=null;return}}else if(r=_3(r,e,es),r!==null){In=r;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);Vn===0&&(Vn=5)}function rc(t,e,r){var n=mr,i=zs.transition;try{zs.transition=null,mr=1,I3(t,e,r,n)}finally{zs.transition=i,mr=n}return null}function I3(t,e,r,n){do ju();while(pl!==null);if(sr&6)throw Error(Ve(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(m$(t,s),t===Kn&&(In=Kn=null,si=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bm||(bm=!0,A2(Vg,function(){return ju(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=zs.transition,zs.transition=null;var a=mr;mr=1;var o=sr;sr|=4,O1.current=null,N3(t,r),B2(r,t),t3(bx),Wg=!!yx,bx=yx=null,t.current=r,M3(r),a$(),sr=o,mr=a,zs.transition=s}else t.current=r;if(bm&&(bm=!1,pl=t,iy=i),s=t.pendingLanes,s===0&&(Cl=null),c$(r.stateNode),ji(t,Sn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ny)throw ny=!1,t=Ox,Ox=null,t;return iy&1&&t.tag!==0&&ju(),s=t.pendingLanes,s&1?t===$x?Yh++:(Yh=0,$x=t):Yh=0,zl(),null}function ju(){if(pl!==null){var t=fR(iy),e=zs.transition,r=mr;try{if(zs.transition=null,mr=16>t?16:t,pl===null)var n=!1;else{if(t=pl,pl=null,iy=0,sr&6)throw Error(Ve(331));var i=sr;for(sr|=4,nt=t.current;nt!==null;){var s=nt,a=s.child;if(nt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:Gh(8,u,s)}var d=u.child;if(d!==null)d.return=u,nt=d;else for(;nt!==null;){u=nt;var h=u.sibling,p=u.return;if(T2(u),u===c){nt=null;break}if(h!==null){h.return=p,nt=h;break}nt=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}nt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nt=a;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,nt=y;break e}nt=s.return}}var b=t.current;for(nt=b;nt!==null;){a=nt;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,nt=v;else e:for(a=b;nt!==null;){if(o=nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:d0(9,o)}}catch(C){dn(o,o.return,C)}if(o===a){nt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,nt=k;break e}nt=o.return}}if(sr=i,zl(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(n0,t)}catch{}n=!0}return n}finally{mr=r,zs.transition=e}}return!1}function C_(t,e,r){e=ad(r,e),e=p2(t,e,1),t=kl(t,e,1),e=Pi(),t!==null&&(xp(t,1,e),ji(t,e))}function dn(t,e,r){if(t.tag===3)C_(t,t,r);else for(;e!==null;){if(e.tag===3){C_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cl===null||!Cl.has(n))){t=ad(r,t),t=m2(e,t,1),e=kl(e,t,1),t=Pi(),e!==null&&(xp(e,1,t),ji(e,t));break}}e=e.return}}function F3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&r,Kn===t&&(si&r)===r&&(Vn===4||Vn===3&&(si&130023424)===si&&500>Sn()-V1?Sc(t,0):$1|=r),ji(t,e)}function I2(t,e){e===0&&(t.mode&1?(e=lm,lm<<=1,!(lm&130023424)&&(lm=4194304)):e=1);var r=Pi();t=Do(t,e),t!==null&&(xp(t,e,r),ji(t,r))}function A3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),I2(t,r)}function O3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(e),I2(t,r)}var F2;F2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ui.current)Vi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Vi=!1,T3(t,e,r);Vi=!!(t.flags&131072)}else Vi=!1,qr&&e.flags&1048576&&$R(e,qg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gg(t,e),t=e.pendingProps;var i=rd(e,hi.current);Gu(e,r),i=D1(null,e,n,t,i,r);var s=L1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(n)?(s=!0,Yg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B1(e),i.updater=c0,e.stateNode=i,i._reactInternals=e,Px(e,n,t,r),e=Mx(null,e,n,!0,s,r)):(e.tag=0,qr&&s&&x1(e),wi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=V3(n),t=sa(n,t),i){case 0:e=Nx(null,e,n,t,r);break e;case 1:e=p_(null,e,n,t,r);break e;case 11:e=h_(null,e,n,t,r);break e;case 14:e=f_(null,e,n,sa(n.type,t),r);break e}throw Error(Ve(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sa(n,i),Nx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sa(n,i),p_(t,e,n,i,r);case 3:e:{if(v2(e),t===null)throw Error(Ve(387));n=e.pendingProps,s=e.memoizedState,i=s.element,HR(t,e),Jg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ad(Error(Ve(423)),e),e=m_(t,e,n,r,i);break e}else if(n!==i){i=ad(Error(Ve(424)),e),e=m_(t,e,n,r,i);break e}else for(as=Sl(e.stateNode.containerInfo.firstChild),ls=e,qr=!0,ua=null,r=YR(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nd(),n===i){e=Lo(t,e,r);break e}wi(t,e,n,r)}e=e.child}return e;case 5:return XR(e),t===null&&Cx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,vx(n,i)?a=null:s!==null&&vx(n,s)&&(e.flags|=32),b2(t,e),wi(t,e,a,r),e.child;case 6:return t===null&&Cx(e),null;case 13:return w2(t,e,r);case 4:return N1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=id(e,null,n,r):wi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sa(n,i),h_(t,e,n,i,r);case 7:return wi(t,e,e.pendingProps,r),e.child;case 8:return wi(t,e,e.pendingProps.children,r),e.child;case 12:return wi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Lr(Kg,n._currentValue),n._currentValue=a,s!==null)if(Pa(s.value,a)){if(s.children===i.children&&!Ui.current){e=Lo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Po(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Tx(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ve(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Tx(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}wi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Gu(e,r),i=Hs(i),n=n(i),e.flags|=1,wi(t,e,n,r),e.child;case 14:return n=e.type,i=sa(n,e.pendingProps),i=sa(n.type,i),f_(t,e,n,i,r);case 15:return g2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sa(n,i),gg(t,e),e.tag=1,Gi(n)?(t=!0,Yg(e)):t=!1,Gu(e,r),GR(e,n,i),Px(e,n,i,r),Mx(null,e,n,!0,t,r);case 19:return x2(t,e,r);case 22:return y2(t,e,r)}throw Error(Ve(156,e.tag))};function A2(t,e){return cR(t,e)}function $3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,e,r,n){return new $3(t,e,r,n)}function U1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V3(t){if(typeof t=="function")return U1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c1)return 11;if(t===u1)return 14}return 2}function _l(t,e){var r=t.alternate;return r===null?(r=Fs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function vg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")U1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cu:return kc(r.children,i,s,e);case l1:a=8,i|=8;break;case Qw:return t=Fs(12,r,e,i|2),t.elementType=Qw,t.lanes=s,t;case Jw:return t=Fs(13,r,e,i),t.elementType=Jw,t.lanes=s,t;case Zw:return t=Fs(19,r,e,i),t.elementType=Zw,t.lanes=s,t;case jE:return f0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UE:a=10;break e;case GE:a=9;break e;case c1:a=11;break e;case u1:a=14;break e;case ll:a=16,n=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Fs(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function kc(t,e,r,n){return t=Fs(7,t,n,e),t.lanes=r,t}function f0(t,e,r,n){return t=Fs(22,t,n,e),t.elementType=jE,t.lanes=r,t.stateNode={isHidden:!1},t}function Pv(t,e,r){return t=Fs(6,t,null,e),t.lanes=r,t}function Bv(t,e,r){return e=Fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z3(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G1(t,e,r,n,i,s,a,o,l){return t=new z3(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(s),t}function W3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function O2(t){if(!t)return Rl;t=t._reactInternals;e:{if(jc(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var r=t.type;if(Gi(r))return AR(t,r,e)}return e}function $2(t,e,r,n,i,s,a,o,l){return t=G1(r,n,!0,t,i,s,a,o,l),t.context=O2(null),r=t.current,n=Pi(),i=Tl(r),s=Po(n,i),s.callback=e??null,kl(r,s,i),t.current.lanes=i,xp(t,i,n),ji(t,n),t}function p0(t,e,r,n){var i=e.current,s=Pi(),a=Tl(i);return r=O2(r),e.context===null?e.context=r:e.pendingContext=r,e=Po(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=kl(i,e,a),t!==null&&(ka(t,i,a,s),fg(t,i,a)),a}function ay(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function j1(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function H3(){return null}var V2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Y1(t){this._internalRoot=t}m0.prototype.render=Y1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));p0(t,e,null,null)};m0.prototype.unmount=Y1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lc(function(){p0(null,t,null,null)}),e[Ro]=null}};function m0(t){this._internalRoot=t}m0.prototype.unstable_scheduleHydration=function(t){if(t){var e=gR();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ul.length&&e!==0&&e<ul[r].priority;r++);ul.splice(r,0,t),r===0&&bR(t)}};function X1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function g0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function __(){}function U3(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=ay(a);s.call(c)}}var a=$2(e,n,t,0,null,!1,!1,"",__);return t._reactRootContainer=a,t[Ro]=a.current,xf(t.nodeType===8?t.parentNode:t),Lc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=ay(l);o.call(c)}}var l=G1(t,0,!1,null,null,!1,!1,"",__);return t._reactRootContainer=l,t[Ro]=l.current,xf(t.nodeType===8?t.parentNode:t),Lc(function(){p0(e,l,r,n)}),l}function y0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=ay(a);o.call(l)}}p0(e,a,t,i)}else a=U3(r,e,t,i,n);return ay(a)}pR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mh(e.pendingLanes);r!==0&&(f1(e,r|1),ji(e,Sn()),!(sr&6)&&(od=Sn()+500,zl()))}break;case 13:Lc(function(){var n=Do(t,1);if(n!==null){var i=Pi();ka(n,t,1,i)}}),j1(t,1)}};p1=function(t){if(t.tag===13){var e=Do(t,134217728);if(e!==null){var r=Pi();ka(e,t,134217728,r)}j1(t,134217728)}};mR=function(t){if(t.tag===13){var e=Tl(t),r=Do(t,e);if(r!==null){var n=Pi();ka(r,t,e,n)}j1(t,e)}};gR=function(){return mr};yR=function(t,e){var r=mr;try{return mr=t,e()}finally{mr=r}};cx=function(t,e,r){switch(e){case"input":if(rx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=o0(n);if(!i)throw Error(Ve(90));XE(n),rx(n,i)}}}break;case"textarea":KE(t,r);break;case"select":e=r.value,e!=null&&zu(t,!!r.multiple,e,!1)}};nR=z1;iR=Lc;var G3={usingClientEntryPoint:!1,Events:[kp,Bu,o0,tR,rR,z1]},th={findFiberByHostInstance:oc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j3={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oR(t),t===null?null:t.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||H3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{n0=vm.inject(j3),qa=vm}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;ys.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(e))throw Error(Ve(200));return W3(t,e,null,r)};ys.createRoot=function(t,e){if(!X1(t))throw Error(Ve(299));var r=!1,n="",i=V2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G1(t,1,!1,null,null,r,!1,n,i),t[Ro]=e.current,xf(t.nodeType===8?t.parentNode:t),new Y1(e)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=oR(e),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return Lc(t)};ys.hydrate=function(t,e,r){if(!g0(e))throw Error(Ve(200));return y0(null,t,e,!0,r)};ys.hydrateRoot=function(t,e,r){if(!X1(t))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=V2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=$2(e,null,t,1,r??null,i,!1,s,a),t[Ro]=e.current,xf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new m0(e)};ys.render=function(t,e,r){if(!g0(e))throw Error(Ve(200));return y0(null,t,e,!1,r)};ys.unmountComponentAtNode=function(t){if(!g0(t))throw Error(Ve(40));return t._reactRootContainer?(Lc(function(){y0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};ys.unstable_batchedUpdates=z1;ys.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!g0(r))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return y0(t,e,r,!1,n)};ys.version="18.2.0-next-9e3b772b8-20220608";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(t){console.error(t)}}z2(),$E.exports=ys;var Tp=$E.exports;const Rh=Ho(Tp),Y3=BE({__proto__:null,default:Rh},[Tp]);var P_=Tp;qw.createRoot=P_.createRoot,qw.hydrateRoot=P_.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hn.apply(this,arguments)}var wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wn||(wn={}));const B_="popstate";function X3(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=lo(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Mf("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:Fc(s))}function n(i,s){Ic(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return K3(e,r,n,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ic(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q3(){return Math.random().toString(36).substr(2,8)}function N_(t,e){return{usr:t.state,key:t.key,idx:e}}function Mf(t,e,r,n){return r===void 0&&(r=null),hn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:r,key:e&&e.key||n||q3()})}function Fc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function K3(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=wn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(hn({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=wn.Pop;let g=u(),y=g==null?null:g-c;c=g,l&&l({action:o,location:m.location,delta:y})}function h(g,y){o=wn.Push;let b=Mf(m.location,g,y);r&&r(b,g),c=u()+1;let v=N_(b,c),k=m.createHref(b);try{a.pushState(v,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(k)}s&&l&&l({action:o,location:m.location,delta:1})}function p(g,y){o=wn.Replace;let b=Mf(m.location,g,y);r&&r(b,g),c=u();let v=N_(b,c),k=m.createHref(b);a.replaceState(v,"",k),s&&l&&l({action:o,location:m.location,delta:0})}function f(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:Fc(g);return b=b.replace(/ $/,"%20"),Zt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return t(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(B_,d),l=g,()=>{i.removeEventListener(B_,d),l=null}},createHref(g){return e(i,g)},createURL:f,encodeLocation(g){let y=f(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return a.go(g)}};return m}var cn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cn||(cn={}));const Q3=new Set(["lazy","caseSensitive","path","id","index","children"]);function J3(t){return t.index===!0}function Wx(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let a=[...r,s],o=typeof i.id=="string"?i.id:a.join("-");if(Zt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Zt(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),J3(i)){let l=hn({},i,e(i),{id:o});return n[o]=l,l}else{let l=hn({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=Wx(i.children,e,a,n)),l}})}function Iu(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?lo(e):e,i=Ld(n.pathname||"/",r);if(i==null)return null;let s=W2(t);eV(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let l=hV(i);a=cV(s[o],l)}return a}function Z3(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function W2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Zt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Bo([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(Zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W2(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oV(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of H2(s.path))i(s,a,l)}),e}function H2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=H2(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function eV(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lV(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tV=/^:[\w-]+$/,rV=3,nV=2,iV=1,sV=10,aV=-2,M_=t=>t==="*";function oV(t,e){let r=t.split("/"),n=r.length;return r.some(M_)&&(n+=aV),e&&(n+=nV),r.filter(i=>!M_(i)).reduce((i,s)=>i+(tV.test(s)?rV:s===""?iV:sV),n)}function lV(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function cV(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=uV({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let d=o.route;s.push({params:n,pathname:Bo([i,u.pathname]),pathnameBase:mV(Bo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Bo([i,u.pathnameBase]))}return s}function uV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=dV(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const f=o[d];return p&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function dV(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ic(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function hV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ic(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function fV(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:r?r.startsWith("/")?r:pV(r,e):e,search:gV(n),hash:yV(i)}}function pV(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function q1(t,e){let r=U2(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function K1(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=lo(t):(i=hn({},t),Zt(!i.pathname||!i.pathname.includes("?"),Nv("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),Nv("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),Nv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=fV(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bo=t=>t.join("/").replace(/\/\/+/g,"/"),mV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Q1{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function G2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const j2=["post","put","patch","delete"],bV=new Set(j2),vV=["get",...j2],wV=new Set(vV),xV=new Set([301,302,303,307,308]),SV=new Set([307,308]),Mv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),X2="remix-router-transitions";function TV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Zt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;i=ce=>({hasErrorBoundary:re(ce)})}else i=CV;let s={},a=Wx(t.routes,i,void 0,s),o,l=t.basename||"/",c=hn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,h=null,p=null,f=null,m=t.hydrationData!=null,g=Iu(a,t.history.location,l),y=null;if(g==null){let re=ks(404,{pathname:t.history.location.pathname}),{matches:ce,route:Me}=O_(a);g=ce,y={[Me.id]:re}}let b,v=g.some(re=>re.route.lazy),k=g.some(re=>re.route.loader);if(v)b=!1;else if(!k)b=!0;else if(c.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,ce=t.hydrationData?t.hydrationData.errors:null,Me=Ye=>Ye.route.loader?Ye.route.loader.hydrate===!0?!1:re&&re[Ye.route.id]!==void 0||ce&&ce[Ye.route.id]!==void 0:!0;if(ce){let Ye=g.findIndex(st=>ce[st.route.id]!==void 0);b=g.slice(0,Ye+1).every(Me)}else b=g.every(Me)}else b=t.hydrationData!=null;let C,S={historyAction:t.history.action,location:t.history.location,matches:g,initialized:b,navigation:Mv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},_=wn.Pop,B=!1,D,E=!1,R=new Map,A=null,I=!1,L=!1,N=[],F=[],O=new Map,M=0,V=-1,z=new Map,K=new Set,ie=new Map,se=new Map,te=new Set,G=new Map,Z=new Map,he=!1;function pe(){if(u=t.history.listen(re=>{let{action:ce,location:Me,delta:Ye}=re;if(he){he=!1;return}Ic(Z.size===0||Ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let st=$e({currentLocation:S.location,nextLocation:Me,historyAction:ce});if(st&&Ye!=null){he=!0,t.history.go(Ye*-1),Ie(st,{state:"blocked",location:Me,proceed(){Ie(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),t.history.go(Ye)},reset(){let zt=new Map(S.blockers);zt.set(st,rh),oe({blockers:zt})}});return}return Y(ce,Me)}),r){FV(e,R);let re=()=>AV(e,R);e.addEventListener("pagehide",re),A=()=>e.removeEventListener("pagehide",re)}return S.initialized||Y(wn.Pop,S.location,{initialHydration:!0}),C}function ne(){u&&u(),A&&A(),d.clear(),D&&D.abort(),S.fetchers.forEach((re,ce)=>Rt(ce)),S.blockers.forEach((re,ce)=>_t(ce))}function le(re){return d.add(re),()=>d.delete(re)}function oe(re,ce){ce===void 0&&(ce={}),S=hn({},S,re);let Me=[],Ye=[];c.v7_fetcherPersist&&S.fetchers.forEach((st,zt)=>{st.state==="idle"&&(te.has(zt)?Ye.push(zt):Me.push(zt))}),[...d].forEach(st=>st(S,{deletedFetchers:Ye,unstable_viewTransitionOpts:ce.viewTransitionOpts,unstable_flushSync:ce.flushSync===!0})),c.v7_fetcherPersist&&(Me.forEach(st=>S.fetchers.delete(st)),Ye.forEach(st=>Rt(st)))}function q(re,ce,Me){var Ye,st;let{flushSync:zt}=Me===void 0?{}:Me,Pt=S.actionData!=null&&S.navigation.formMethod!=null&&oa(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Ye=re.state)==null?void 0:Ye._isRedirect)!==!0,Tt;ce.actionData?Object.keys(ce.actionData).length>0?Tt=ce.actionData:Tt=null:Pt?Tt=S.actionData:Tt=null;let pt=ce.loaderData?A_(S.loaderData,ce.loaderData,ce.matches||[],ce.errors):S.loaderData,Kt=S.blockers;Kt.size>0&&(Kt=new Map(Kt),Kt.forEach((vr,bn)=>Kt.set(bn,rh)));let Nn=B===!0||S.navigation.formMethod!=null&&oa(S.navigation.formMethod)&&((st=re.state)==null?void 0:st._isRedirect)!==!0;o&&(a=o,o=void 0),I||_===wn.Pop||(_===wn.Push?t.history.push(re,re.state):_===wn.Replace&&t.history.replace(re,re.state));let Wt;if(_===wn.Pop){let vr=R.get(S.location.pathname);vr&&vr.has(re.pathname)?Wt={currentLocation:S.location,nextLocation:re}:R.has(re.pathname)&&(Wt={currentLocation:re,nextLocation:S.location})}else if(E){let vr=R.get(S.location.pathname);vr?vr.add(re.pathname):(vr=new Set([re.pathname]),R.set(S.location.pathname,vr)),Wt={currentLocation:S.location,nextLocation:re}}oe(hn({},ce,{actionData:Tt,loaderData:pt,historyAction:_,location:re,initialized:!0,navigation:Mv,revalidation:"idle",restoreScrollPosition:Ir(re,ce.matches||S.matches),preventScrollReset:Nn,blockers:Kt}),{viewTransitionOpts:Wt,flushSync:zt===!0}),_=wn.Pop,B=!1,E=!1,I=!1,L=!1,N=[],F=[]}async function X(re,ce){if(typeof re=="number"){t.history.go(re);return}let Me=Hx(S.location,S.matches,l,c.v7_prependBasename,re,c.v7_relativeSplatPath,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:Ye,submission:st,error:zt}=E_(c.v7_normalizeFormMethod,!1,Me,ce),Pt=S.location,Tt=Mf(S.location,Ye,ce&&ce.state);Tt=hn({},Tt,t.history.encodeLocation(Tt));let pt=ce&&ce.replace!=null?ce.replace:void 0,Kt=wn.Push;pt===!0?Kt=wn.Replace:pt===!1||st!=null&&oa(st.formMethod)&&st.formAction===S.location.pathname+S.location.search&&(Kt=wn.Replace);let Nn=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,Wt=(ce&&ce.unstable_flushSync)===!0,vr=$e({currentLocation:Pt,nextLocation:Tt,historyAction:Kt});if(vr){Ie(vr,{state:"blocked",location:Tt,proceed(){Ie(vr,{state:"proceeding",proceed:void 0,reset:void 0,location:Tt}),X(re,ce)},reset(){let bn=new Map(S.blockers);bn.set(vr,rh),oe({blockers:bn})}});return}return await Y(Kt,Tt,{submission:st,pendingError:zt,preventScrollReset:Nn,replace:ce&&ce.replace,enableViewTransition:ce&&ce.unstable_viewTransition,flushSync:Wt})}function J(){if(ke(),oe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Y(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Y(_||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Y(re,ce,Me){D&&D.abort(),D=null,_=re,I=(Me&&Me.startUninterruptedRevalidation)===!0,Mr(S.location,S.matches),B=(Me&&Me.preventScrollReset)===!0,E=(Me&&Me.enableViewTransition)===!0;let Ye=o||a,st=Me&&Me.overrideNavigation,zt=Iu(Ye,ce,l),Pt=(Me&&Me.flushSync)===!0;if(!zt){let bn=ks(404,{pathname:ce.pathname}),{matches:mi,route:sn}=O_(Ye);Ct(),q(ce,{matches:mi,loaderData:{},errors:{[sn.id]:bn}},{flushSync:Pt});return}if(S.initialized&&!L&&MV(S.location,ce)&&!(Me&&Me.submission&&oa(Me.submission.formMethod))){q(ce,{matches:zt},{flushSync:Pt});return}D=new AbortController;let Tt=ih(t.history,ce,D.signal,Me&&Me.submission),pt,Kt;if(Me&&Me.pendingError)Kt={[Xh(zt).route.id]:Me.pendingError};else if(Me&&Me.submission&&oa(Me.submission.formMethod)){let bn=await we(Tt,ce,Me.submission,zt,{replace:Me.replace,flushSync:Pt});if(bn.shortCircuited)return;pt=bn.pendingActionData,Kt=bn.pendingActionError,st=Ev(ce,Me.submission),Pt=!1,Tt=new Request(Tt.url,{signal:Tt.signal})}let{shortCircuited:Nn,loaderData:Wt,errors:vr}=await fe(Tt,ce,zt,st,Me&&Me.submission,Me&&Me.fetcherSubmission,Me&&Me.replace,Me&&Me.initialHydration===!0,Pt,pt,Kt);Nn||(D=null,q(ce,hn({matches:zt},pt?{actionData:pt}:{},{loaderData:Wt,errors:vr})))}async function we(re,ce,Me,Ye,st){st===void 0&&(st={}),ke();let zt=LV(ce,Me);oe({navigation:zt},{flushSync:st.flushSync===!0});let Pt,Tt=Gx(Ye,ce);if(!Tt.route.action&&!Tt.route.lazy)Pt={type:cn.error,error:ks(405,{method:re.method,pathname:ce.pathname,routeId:Tt.route.id})};else if(Pt=await nh("action",re,Tt,Ye,s,i,l,c.v7_relativeSplatPath),re.signal.aborted)return{shortCircuited:!0};if(dc(Pt)){let pt;return st&&st.replace!=null?pt=st.replace:pt=Pt.location===S.location.pathname+S.location.search,await ae(S,Pt,{submission:Me,replace:pt}),{shortCircuited:!0}}if(Fu(Pt)){let pt=Xh(Ye,Tt.route.id);return(st&&st.replace)!==!0&&(_=wn.Push),{pendingActionData:{},pendingActionError:{[pt.route.id]:Pt.error}}}if(uc(Pt))throw ks(400,{type:"defer-action"});return{pendingActionData:{[Tt.route.id]:Pt.data}}}async function fe(re,ce,Me,Ye,st,zt,Pt,Tt,pt,Kt,Nn){let Wt=Ye||Ev(ce,st),vr=st||zt||z_(Wt),bn=o||a,[mi,sn]=R_(t.history,S,Me,vr,ce,c.v7_partialHydration&&Tt===!0,L,N,F,te,ie,K,bn,l,Kt,Nn);if(Ct(cr=>!(Me&&Me.some(wr=>wr.route.id===cr))||mi&&mi.some(wr=>wr.route.id===cr)),V=++M,mi.length===0&&sn.length===0){let cr=xt();return q(ce,hn({matches:Me,loaderData:{},errors:Nn||null},Kt?{actionData:Kt}:{},cr?{fetchers:new Map(S.fetchers)}:{}),{flushSync:pt}),{shortCircuited:!0}}if(!I&&(!c.v7_partialHydration||!Tt)){sn.forEach(wr=>{let Ei=S.fetchers.get(wr.key),rm=sh(void 0,Ei?Ei.data:void 0);S.fetchers.set(wr.key,rm)});let cr=Kt||S.actionData;oe(hn({navigation:Wt},cr?Object.keys(cr).length===0?{actionData:null}:{actionData:cr}:{},sn.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:pt})}sn.forEach(cr=>{O.has(cr.key)&&ye(cr.key),cr.controller&&O.set(cr.key,cr.controller)});let Ia=()=>sn.forEach(cr=>ye(cr.key));D&&D.signal.addEventListener("abort",Ia);let{results:Yd,loaderResults:Tr,fetcherResults:Er}=await Be(S.matches,Me,mi,sn,re);if(re.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ia),sn.forEach(cr=>O.delete(cr.key));let ta=$_(Yd);if(ta){if(ta.idx>=mi.length){let cr=sn[ta.idx-mi.length].key;K.add(cr)}return await ae(S,ta.result,{replace:Pt}),{shortCircuited:!0}}let{loaderData:Ko,errors:gi}=F_(S,Me,mi,Tr,Nn,sn,Er,G);G.forEach((cr,wr)=>{cr.subscribe(Ei=>{(Ei||cr.done)&&G.delete(wr)})}),c.v7_partialHydration&&Tt&&S.errors&&Object.entries(S.errors).filter(cr=>{let[wr]=cr;return!mi.some(Ei=>Ei.route.id===wr)}).forEach(cr=>{let[wr,Ei]=cr;gi=Object.assign(gi||{},{[wr]:Ei})});let rv=xt(),nu=Nt(V),tm=rv||nu||sn.length>0;return hn({loaderData:Ko,errors:gi},tm?{fetchers:new Map(S.fetchers)}:{})}function $(re,ce,Me,Ye){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(re)&&ye(re);let st=(Ye&&Ye.unstable_flushSync)===!0,zt=o||a,Pt=Hx(S.location,S.matches,l,c.v7_prependBasename,Me,c.v7_relativeSplatPath,ce,Ye==null?void 0:Ye.relative),Tt=Iu(zt,Pt,l);if(!Tt){Je(re,ce,ks(404,{pathname:Pt}),{flushSync:st});return}let{path:pt,submission:Kt,error:Nn}=E_(c.v7_normalizeFormMethod,!0,Pt,Ye);if(Nn){Je(re,ce,Nn,{flushSync:st});return}let Wt=Gx(Tt,pt);if(B=(Ye&&Ye.preventScrollReset)===!0,Kt&&oa(Kt.formMethod)){U(re,ce,pt,Wt,Tt,st,Kt);return}ie.set(re,{routeId:ce,path:pt}),j(re,ce,pt,Wt,Tt,st,Kt)}async function U(re,ce,Me,Ye,st,zt,Pt){if(ke(),ie.delete(re),!Ye.route.action&&!Ye.route.lazy){let wr=ks(405,{method:Pt.formMethod,pathname:Me,routeId:ce});Je(re,ce,wr,{flushSync:zt});return}let Tt=S.fetchers.get(re);De(re,IV(Pt,Tt),{flushSync:zt});let pt=new AbortController,Kt=ih(t.history,Me,pt.signal,Pt);O.set(re,pt);let Nn=M,Wt=await nh("action",Kt,Ye,st,s,i,l,c.v7_relativeSplatPath);if(Kt.signal.aborted){O.get(re)===pt&&O.delete(re);return}if(c.v7_fetcherPersist&&te.has(re)){if(dc(Wt)||Fu(Wt)){De(re,ol(void 0));return}}else{if(dc(Wt))if(O.delete(re),V>Nn){De(re,ol(void 0));return}else return K.add(re),De(re,sh(Pt)),ae(S,Wt,{fetcherSubmission:Pt});if(Fu(Wt)){Je(re,ce,Wt.error);return}}if(uc(Wt))throw ks(400,{type:"defer-action"});let vr=S.navigation.location||S.location,bn=ih(t.history,vr,pt.signal),mi=o||a,sn=S.navigation.state!=="idle"?Iu(mi,S.navigation.location,l):S.matches;Zt(sn,"Didn't find any matches after fetcher action");let Ia=++M;z.set(re,Ia);let Yd=sh(Pt,Wt.data);S.fetchers.set(re,Yd);let[Tr,Er]=R_(t.history,S,sn,Pt,vr,!1,L,N,F,te,ie,K,mi,l,{[Ye.route.id]:Wt.data},void 0);Er.filter(wr=>wr.key!==re).forEach(wr=>{let Ei=wr.key,rm=S.fetchers.get(Ei),S5=sh(void 0,rm?rm.data:void 0);S.fetchers.set(Ei,S5),O.has(Ei)&&ye(Ei),wr.controller&&O.set(Ei,wr.controller)}),oe({fetchers:new Map(S.fetchers)});let ta=()=>Er.forEach(wr=>ye(wr.key));pt.signal.addEventListener("abort",ta);let{results:Ko,loaderResults:gi,fetcherResults:rv}=await Be(S.matches,sn,Tr,Er,bn);if(pt.signal.aborted)return;pt.signal.removeEventListener("abort",ta),z.delete(re),O.delete(re),Er.forEach(wr=>O.delete(wr.key));let nu=$_(Ko);if(nu){if(nu.idx>=Tr.length){let wr=Er[nu.idx-Tr.length].key;K.add(wr)}return ae(S,nu.result)}let{loaderData:tm,errors:cr}=F_(S,S.matches,Tr,gi,void 0,Er,rv,G);if(S.fetchers.has(re)){let wr=ol(Wt.data);S.fetchers.set(re,wr)}Nt(Ia),S.navigation.state==="loading"&&Ia>V?(Zt(_,"Expected pending action"),D&&D.abort(),q(S.navigation.location,{matches:sn,loaderData:tm,errors:cr,fetchers:new Map(S.fetchers)})):(oe({errors:cr,loaderData:A_(S.loaderData,tm,sn,cr),fetchers:new Map(S.fetchers)}),L=!1)}async function j(re,ce,Me,Ye,st,zt,Pt){let Tt=S.fetchers.get(re);De(re,sh(Pt,Tt?Tt.data:void 0),{flushSync:zt});let pt=new AbortController,Kt=ih(t.history,Me,pt.signal);O.set(re,pt);let Nn=M,Wt=await nh("loader",Kt,Ye,st,s,i,l,c.v7_relativeSplatPath);if(uc(Wt)&&(Wt=await Q2(Wt,Kt.signal,!0)||Wt),O.get(re)===pt&&O.delete(re),!Kt.signal.aborted){if(te.has(re)){De(re,ol(void 0));return}if(dc(Wt))if(V>Nn){De(re,ol(void 0));return}else{K.add(re),await ae(S,Wt);return}if(Fu(Wt)){Je(re,ce,Wt.error);return}Zt(!uc(Wt),"Unhandled fetcher deferred data"),De(re,ol(Wt.data))}}async function ae(re,ce,Me){let{submission:Ye,fetcherSubmission:st,replace:zt}=Me===void 0?{}:Me;ce.revalidate&&(L=!0);let Pt=Mf(re.location,ce.location,{_isRedirect:!0});if(Zt(Pt,"Expected a location on the redirect navigation"),r){let vr=!1;if(ce.reloadDocument)vr=!0;else if(Y2.test(ce.location)){const bn=t.history.createURL(ce.location);vr=bn.origin!==e.location.origin||Ld(bn.pathname,l)==null}if(vr){zt?e.location.replace(ce.location):e.location.assign(ce.location);return}}D=null;let Tt=zt===!0?wn.Replace:wn.Push,{formMethod:pt,formAction:Kt,formEncType:Nn}=re.navigation;!Ye&&!st&&pt&&Kt&&Nn&&(Ye=z_(re.navigation));let Wt=Ye||st;if(SV.has(ce.status)&&Wt&&oa(Wt.formMethod))await Y(Tt,Pt,{submission:hn({},Wt,{formAction:ce.location}),preventScrollReset:B});else{let vr=Ev(Pt,Ye);await Y(Tt,Pt,{overrideNavigation:vr,fetcherSubmission:st,preventScrollReset:B})}}async function Be(re,ce,Me,Ye,st){let zt=await Promise.all([...Me.map(pt=>nh("loader",st,pt,ce,s,i,l,c.v7_relativeSplatPath)),...Ye.map(pt=>pt.matches&&pt.match&&pt.controller?nh("loader",ih(t.history,pt.path,pt.controller.signal),pt.match,pt.matches,s,i,l,c.v7_relativeSplatPath):{type:cn.error,error:ks(404,{pathname:pt.path})})]),Pt=zt.slice(0,Me.length),Tt=zt.slice(Me.length);return await Promise.all([V_(re,Me,Pt,Pt.map(()=>st.signal),!1,S.loaderData),V_(re,Ye.map(pt=>pt.match),Tt,Ye.map(pt=>pt.controller?pt.controller.signal:null),!0)]),{results:zt,loaderResults:Pt,fetcherResults:Tt}}function ke(){L=!0,N.push(...Ct()),ie.forEach((re,ce)=>{O.has(ce)&&(F.push(ce),ye(ce))})}function De(re,ce,Me){Me===void 0&&(Me={}),S.fetchers.set(re,ce),oe({fetchers:new Map(S.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function Je(re,ce,Me,Ye){Ye===void 0&&(Ye={});let st=Xh(S.matches,ce);Rt(re),oe({errors:{[st.route.id]:Me},fetchers:new Map(S.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function dt(re){return c.v7_fetcherPersist&&(se.set(re,(se.get(re)||0)+1),te.has(re)&&te.delete(re)),S.fetchers.get(re)||kV}function Rt(re){let ce=S.fetchers.get(re);O.has(re)&&!(ce&&ce.state==="loading"&&z.has(re))&&ye(re),ie.delete(re),z.delete(re),K.delete(re),te.delete(re),S.fetchers.delete(re)}function _e(re){if(c.v7_fetcherPersist){let ce=(se.get(re)||0)-1;ce<=0?(se.delete(re),te.add(re)):se.set(re,ce)}else Rt(re);oe({fetchers:new Map(S.fetchers)})}function ye(re){let ce=O.get(re);Zt(ce,"Expected fetch controller: "+re),ce.abort(),O.delete(re)}function Ze(re){for(let ce of re){let Me=dt(ce),Ye=ol(Me.data);S.fetchers.set(ce,Ye)}}function xt(){let re=[],ce=!1;for(let Me of K){let Ye=S.fetchers.get(Me);Zt(Ye,"Expected fetcher: "+Me),Ye.state==="loading"&&(K.delete(Me),re.push(Me),ce=!0)}return Ze(re),ce}function Nt(re){let ce=[];for(let[Me,Ye]of z)if(Ye<re){let st=S.fetchers.get(Me);Zt(st,"Expected fetcher: "+Me),st.state==="loading"&&(ye(Me),z.delete(Me),ce.push(Me))}return Ze(ce),ce.length>0}function Oe(re,ce){let Me=S.blockers.get(re)||rh;return Z.get(re)!==ce&&Z.set(re,ce),Me}function _t(re){S.blockers.delete(re),Z.delete(re)}function Ie(re,ce){let Me=S.blockers.get(re)||rh;Zt(Me.state==="unblocked"&&ce.state==="blocked"||Me.state==="blocked"&&ce.state==="blocked"||Me.state==="blocked"&&ce.state==="proceeding"||Me.state==="blocked"&&ce.state==="unblocked"||Me.state==="proceeding"&&ce.state==="unblocked","Invalid blocker state transition: "+Me.state+" -> "+ce.state);let Ye=new Map(S.blockers);Ye.set(re,ce),oe({blockers:Ye})}function $e(re){let{currentLocation:ce,nextLocation:Me,historyAction:Ye}=re;if(Z.size===0)return;Z.size>1&&Ic(!1,"A router only supports one blocker at a time");let st=Array.from(Z.entries()),[zt,Pt]=st[st.length-1],Tt=S.blockers.get(zt);if(!(Tt&&Tt.state==="proceeding")&&Pt({currentLocation:ce,nextLocation:Me,historyAction:Ye}))return zt}function Ct(re){let ce=[];return G.forEach((Me,Ye)=>{(!re||re(Ye))&&(Me.cancel(),ce.push(Ye),G.delete(Ye))}),ce}function ot(re,ce,Me){if(h=re,f=ce,p=Me||null,!m&&S.navigation===Mv){m=!0;let Ye=Ir(S.location,S.matches);Ye!=null&&oe({restoreScrollPosition:Ye})}return()=>{h=null,f=null,p=null}}function qt(re,ce){return p&&p(re,ce.map(Ye=>Z3(Ye,S.loaderData)))||re.key}function Mr(re,ce){if(h&&f){let Me=qt(re,ce);h[Me]=f()}}function Ir(re,ce){if(h){let Me=qt(re,ce),Ye=h[Me];if(typeof Ye=="number")return Ye}return null}function ea(re){s={},o=Wx(re,i,void 0,s)}return C={get basename(){return l},get future(){return c},get state(){return S},get routes(){return a},get window(){return e},initialize:pe,subscribe:le,enableScrollRestoration:ot,navigate:X,fetch:$,revalidate:J,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:dt,deleteFetcher:_e,dispose:ne,getBlocker:Oe,deleteBlocker:_t,_internalFetchControllers:O,_internalActiveDeferreds:G,_internalSetRoutes:ea},C}function _V(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hx(t,e,r,n,i,s,a,o){let l,c;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){c=d;break}}else l=e,c=e[e.length-1];let u=K1(i||".",q1(l,s),Ld(t.pathname,r)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!J1(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Bo([r,u.pathname])),Fc(u)}function E_(t,e,r,n){if(!n||!_V(n))return{path:r};if(n.formMethod&&!DV(n.formMethod))return{path:r,error:ks(405,{method:n.formMethod})};let i=()=>({path:r,error:ks(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=K2(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!oa(a))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,f)=>{let[m,g]=f;return""+p+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!oa(a))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Ux(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Ux(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=I_(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=I_(l)}catch{return i()}let u={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(oa(u.formMethod))return{path:r,submission:u};let d=lo(r);return e&&d.search&&J1(d.search)&&l.append("index",""),d.search="?"+l,{path:Fc(d),submission:u}}function PV(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function R_(t,e,r,n,i,s,a,o,l,c,u,d,h,p,f,m){let g=m?Object.values(m)[0]:f?Object.values(f)[0]:void 0,y=t.createURL(e.location),b=t.createURL(i),v=m?Object.keys(m)[0]:void 0,C=PV(r,v).filter((_,B)=>{let{route:D}=_;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(BV(e.loaderData,e.matches[B],_)||o.some(A=>A===_.route.id))return!0;let E=e.matches[B],R=_;return D_(_,hn({currentUrl:y,currentParams:E.params,nextUrl:b,nextParams:R.params},n,{actionResult:g,defaultShouldRevalidate:a||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||q2(E,R)}))}),S=[];return u.forEach((_,B)=>{if(s||!r.some(I=>I.route.id===_.routeId)||c.has(B))return;let D=Iu(h,_.path,p);if(!D){S.push({key:B,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let E=e.fetchers.get(B),R=Gx(D,_.path),A=!1;d.has(B)?A=!1:l.includes(B)?A=!0:E&&E.state!=="idle"&&E.data===void 0?A=a:A=D_(R,hn({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:r[r.length-1].params},n,{actionResult:g,defaultShouldRevalidate:a})),A&&S.push({key:B,routeId:_.routeId,path:_.path,matches:D,match:R,controller:new AbortController})}),[C,S]}function BV(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function q2(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function D_(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function L_(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Zt(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Ic(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!Q3.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,hn({},e(i),{lazy:void 0}))}async function nh(t,e,r,n,i,s,a,o,l){l===void 0&&(l={});let c,u,d,h=m=>{let g,y=new Promise((b,v)=>g=v);return d=()=>g(),e.signal.addEventListener("abort",d),Promise.race([m({request:e,params:r.params,context:l.requestContext}),y])};try{let m=r.route[t];if(r.route.lazy)if(m){let g,y=await Promise.all([h(m).catch(b=>{g=b}),L_(r.route,s,i)]);if(g)throw g;u=y[0]}else if(await L_(r.route,s,i),m=r.route[t],m)u=await h(m);else if(t==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw ks(405,{method:e.method,pathname:y,routeId:r.route.id})}else return{type:cn.data,data:void 0};else if(m)u=await h(m);else{let g=new URL(e.url),y=g.pathname+g.search;throw ks(404,{pathname:y})}Zt(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){c=cn.error,u=m}finally{d&&e.signal.removeEventListener("abort",d)}if(RV(u)){let m=u.status;if(xV.has(m)){let y=u.headers.get("Location");if(Zt(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!Y2.test(y))y=Hx(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,y,o);else if(!l.isStaticRequest){let b=new URL(e.url),v=y.startsWith("//")?new URL(b.protocol+y):new URL(y),k=Ld(v.pathname,a)!=null;v.origin===b.origin&&k&&(y=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw u.headers.set("Location",y),u;return{type:cn.redirect,status:m,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===cn.error?cn.error:cn.data,response:u};let g;try{let y=u.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?u.body==null?g=null:g=await u.json():g=await u.text()}catch(y){return{type:cn.error,error:y}}return c===cn.error?{type:c,error:new Q1(m,u.statusText,g),headers:u.headers}:{type:cn.data,data:g,statusCode:u.status,headers:u.headers}}if(c===cn.error)return{type:c,error:u};if(EV(u)){var p,f;return{type:cn.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:cn.data,data:u}}function ih(t,e,r,n){let i=t.createURL(K2(e)).toString(),s={signal:r};if(n&&oa(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=Ux(n.formData):s.body=n.formData}return new Request(i,s)}function Ux(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function I_(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function NV(t,e,r,n,i){let s={},a=null,o,l=!1,c={};return r.forEach((u,d)=>{let h=e[d].route.id;if(Zt(!dc(u),"Cannot handle redirect results in processLoaderData"),Fu(u)){let p=Xh(t,h),f=u.error;n&&(f=Object.values(n)[0],n=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=f),s[h]=void 0,l||(l=!0,o=G2(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else uc(u)?(i.set(h,u.deferredData),s[h]=u.deferredData.data):s[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(o=u.statusCode),u.headers&&(c[h]=u.headers)}),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function F_(t,e,r,n,i,s,a,o){let{loaderData:l,errors:c}=NV(e,r,n,i,o);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:p}=s[u];Zt(a!==void 0&&a[u]!==void 0,"Did not find corresponding fetcher result");let f=a[u];if(!(p&&p.signal.aborted))if(Fu(f)){let m=Xh(t.matches,h==null?void 0:h.route.id);c&&c[m.route.id]||(c=hn({},c,{[m.route.id]:f.error})),t.fetchers.delete(d)}else if(dc(f))Zt(!1,"Unhandled fetcher revalidation redirect");else if(uc(f))Zt(!1,"Unhandled fetcher deferred data");else{let m=ol(f.data);t.fetchers.set(d,m)}}return{loaderData:l,errors:c}}function A_(t,e,r,n){let i=hn({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function Xh(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function O_(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ks(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",o='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new Q1(t||500,a,new Error(o),!0)}function $_(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(dc(r))return{result:r,idx:e}}}function K2(t){let e=typeof t=="string"?lo(t):t;return Fc(hn({},e,{hash:""}))}function MV(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function uc(t){return t.type===cn.deferred}function Fu(t){return t.type===cn.error}function dc(t){return(t&&t.type)===cn.redirect}function EV(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function DV(t){return wV.has(t.toLowerCase())}function oa(t){return bV.has(t.toLowerCase())}async function V_(t,e,r,n,i,s){for(let a=0;a<r.length;a++){let o=r[a],l=e[a];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!q2(c,l)&&(s&&s[l.route.id])!==void 0;if(uc(o)&&(i||u)){let d=n[a];Zt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Q2(o,d,i).then(h=>{h&&(r[a]=h||r[a])})}}}async function Q2(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:cn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:cn.error,error:i}}return{type:cn.data,data:t.deferredData.data}}}function J1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Gx(t,e){let r=typeof e=="string"?lo(e).search:e.search;if(t[t.length-1].route.index&&J1(r||""))return t[t.length-1];let n=U2(t);return n[n.length-1]}function z_(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ev(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function sh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ol(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FV(t,e){try{let r=t.sessionStorage.getItem(X2);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function AV(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(X2,JSON.stringify(r))}catch(n){Ic(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}const b0=w.createContext(null),J2=w.createContext(null),Yc=w.createContext(null),v0=w.createContext(null),Xc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Z2=w.createContext(null);function OV(t,e){let{relative:r}=e===void 0?{}:e;_p()||Zt(!1);let{basename:n,navigator:i}=w.useContext(Yc),{hash:s,pathname:a,search:o}=tD(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Bo([n,a])),i.createHref({pathname:l,search:o,hash:s})}function _p(){return w.useContext(v0)!=null}function w0(){return _p()||Zt(!1),w.useContext(v0).location}function eD(t){w.useContext(Yc).static||w.useLayoutEffect(t)}function $V(){let{isDataRoute:t}=w.useContext(Xc);return t?QV():VV()}function VV(){_p()||Zt(!1);let t=w.useContext(b0),{basename:e,future:r,navigator:n}=w.useContext(Yc),{matches:i}=w.useContext(Xc),{pathname:s}=w0(),a=JSON.stringify(q1(i,r.v7_relativeSplatPath)),o=w.useRef(!1);return eD(()=>{o.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=K1(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bo([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function tD(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Yc),{matches:i}=w.useContext(Xc),{pathname:s}=w0(),a=JSON.stringify(q1(i,n.v7_relativeSplatPath));return w.useMemo(()=>K1(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function zV(t,e,r,n){_p()||Zt(!1);let{navigator:i}=w.useContext(Yc),{matches:s}=w.useContext(Xc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=w0(),u;if(e){var d;let g=typeof e=="string"?lo(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||Zt(!1),u=g}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Iu(t,{pathname:p}),m=jV(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Bo([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Bo([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&m?w.createElement(v0.Provider,{value:{location:Ef({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:wn.Pop}},m):m}function WV(){let t=KV(),e=G2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,null)}const HV=w.createElement(WV,null);class UV extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Xc.Provider,{value:this.props.routeContext},w.createElement(Z2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GV(t){let{routeContext:e,match:r,children:n}=t,i=w.useContext(b0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Xc.Provider,{value:e},n)}function jV(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id]));u>=0||Zt(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let p,f=!1,m=null,g=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||HV,l&&(c<0&&h===0?(JV("route-fallback",!1),f=!0,g=null):c===h&&(f=!0,g=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,h+1)),b=()=>{let v;return p?v=m:f?v=g:d.route.Component?v=w.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,w.createElement(GV,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(UV,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var rD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rD||{}),oy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oy||{});function YV(t){let e=w.useContext(b0);return e||Zt(!1),e}function XV(t){let e=w.useContext(J2);return e||Zt(!1),e}function qV(t){let e=w.useContext(Xc);return e||Zt(!1),e}function nD(t){let e=qV(),r=e.matches[e.matches.length-1];return r.route.id||Zt(!1),r.route.id}function KV(){var t;let e=w.useContext(Z2),r=XV(oy.UseRouteError),n=nD(oy.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function QV(){let{router:t}=YV(rD.UseNavigateStable),e=nD(oy.UseNavigateStable),r=w.useRef(!1);return eD(()=>{r.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ef({fromRouteId:e},s)))},[t,e])}const W_={};function JV(t,e,r){!e&&!W_[t]&&(W_[t]=!0)}function ZV(t){let{basename:e="/",children:r=null,location:n,navigationType:i=wn.Pop,navigator:s,static:a=!1,future:o}=t;_p()&&Zt(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:a,future:Ef({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=lo(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=n,m=w.useMemo(()=>{let g=Ld(u,l);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return m==null?null:w.createElement(Yc.Provider,{value:c},w.createElement(v0.Provider,{children:r,value:m}))}new Promise(()=>{});function e4(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rf.apply(this,arguments)}function t4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function r4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n4(t,e){return t.button===0&&(!e||e==="_self")&&!r4(t)}const i4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],s4="6";try{window.__reactRouterVersion=s4}catch{}function a4(t,e){return TV({basename:e==null?void 0:e.basename,future:Rf({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:X3({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||o4(),routes:t,mapRouteProperties:e4,window:e==null?void 0:e.window}).initialize()}function o4(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rf({},e,{errors:l4(e.errors)})),e}function l4(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Q1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const c4=w.createContext({isTransitioning:!1}),u4=w.createContext(new Map),d4="startTransition",H_=Nc[d4],h4="flushSync",U_=Y3[h4];function f4(t){H_?H_(t):t()}function ah(t){U_?U_(t):t()}class p4{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function m4(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=w.useState(r.state),[a,o]=w.useState(),[l,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[h,p]=w.useState(),[f,m]=w.useState(),g=w.useRef(new Map),{v7_startTransition:y}=n||{},b=w.useCallback(_=>{y?f4(_):_()},[y]),v=w.useCallback((_,B)=>{let{deletedFetchers:D,unstable_flushSync:E,unstable_viewTransitionOpts:R}=B;D.forEach(I=>g.current.delete(I)),_.fetchers.forEach((I,L)=>{I.data!==void 0&&g.current.set(L,I.data)});let A=r.window==null||typeof r.window.document.startViewTransition!="function";if(!R||A){E?ah(()=>s(_)):b(()=>s(_));return}if(E){ah(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let I=r.window.document.startViewTransition(()=>{ah(()=>s(_))});I.finished.finally(()=>{ah(()=>{d(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})}),ah(()=>p(I));return}h?(u&&u.resolve(),h.skipTransition(),m({state:_,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(_),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,h,u,g,b]);w.useLayoutEffect(()=>r.subscribe(v),[r,v]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new p4)},[l]),w.useEffect(()=>{if(u&&a&&r.window){let _=a,B=u.promise,D=r.window.document.startViewTransition(async()=>{b(()=>s(_)),await B});D.finished.finally(()=>{d(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}),p(D)}},[b,a,u,r.window]),w.useEffect(()=>{u&&a&&i.location.key===a.location.key&&u.resolve()},[u,h,i.location,a]),w.useEffect(()=>{!l.isTransitioning&&f&&(o(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[l.isTransitioning,f]),w.useEffect(()=>{},[]);let k=w.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:_=>r.navigate(_),push:(_,B,D)=>r.navigate(_,{state:B,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(_,B,D)=>r.navigate(_,{replace:!0,state:B,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[r]),C=r.basename||"/",S=w.useMemo(()=>({router:r,navigator:k,static:!1,basename:C}),[r,k,C]);return w.createElement(w.Fragment,null,w.createElement(b0.Provider,{value:S},w.createElement(J2.Provider,{value:i},w.createElement(u4.Provider,{value:g.current},w.createElement(c4.Provider,{value:l},w.createElement(ZV,{basename:C,location:i.location,navigationType:i.historyAction,navigator:k,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?w.createElement(g4,{routes:r.routes,future:r.future,state:i}):e))))),null)}function g4(t){let{routes:e,future:r,state:n}=t;return zV(e,void 0,n,r)}const y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jo=w.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=t4(e,i4),{basename:p}=w.useContext(Yc),f,m=!1;if(typeof c=="string"&&b4.test(c)&&(f=c,y4))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),C=Ld(k.pathname,p);k.origin===v.origin&&C!=null?c=C+k.search+k.hash:m=!0}catch{}let g=OV(c,{relative:i}),y=v4(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function b(v){n&&n(v),v.defaultPrevented||y(v)}return w.createElement("a",Rf({},h,{href:f||g,onClick:m||s?n:b,ref:r,target:l}))});var G_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(G_||(G_={}));var j_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j_||(j_={}));function v4(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=$V(),c=w0(),u=tD(t,{relative:a});return w.useCallback(d=>{if(n4(d,r)){d.preventDefault();let h=n!==void 0?n:Fc(c)===Fc(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}const w4={black:"#000",white:"#fff"},Df=w4,x4={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},su=x4,S4={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},au=S4,k4={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ou=k4,C4={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lu=C4,T4={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},cu=T4,_4={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},oh=_4,P4={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},B4=P4;function Io(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const N4=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Pp="$$material";function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T.apply(null,arguments)}function me(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iD(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var M4=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,E4=iD(function(t){return M4.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function R4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function D4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L4=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(D4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=R4(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ui="-ms-",ly="-moz-",ur="-webkit-",sD="comm",Z1="rule",ek="decl",I4="@import",aD="@keyframes",F4="@layer",A4=Math.abs,x0=String.fromCharCode,O4=Object.assign;function $4(t,e){return ii(t,0)^45?(((e<<2^ii(t,0))<<2^ii(t,1))<<2^ii(t,2))<<2^ii(t,3):0}function oD(t){return t.trim()}function V4(t,e){return(t=e.exec(t))?t[0]:t}function dr(t,e,r){return t.replace(e,r)}function jx(t,e){return t.indexOf(e)}function ii(t,e){return t.charCodeAt(e)|0}function Lf(t,e,r){return t.slice(e,r)}function Va(t){return t.length}function tk(t){return t.length}function wm(t,e){return e.push(t),t}function z4(t,e){return t.map(e).join("")}var S0=1,ld=1,lD=0,Ki=0,Ln=0,Id="";function k0(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:S0,column:ld,length:a,return:""}}function lh(t,e){return O4(k0("",null,null,"",null,null,0),t,{length:-t.length},e)}function W4(){return Ln}function H4(){return Ln=Ki>0?ii(Id,--Ki):0,ld--,Ln===10&&(ld=1,S0--),Ln}function cs(){return Ln=Ki<lD?ii(Id,Ki++):0,ld++,Ln===10&&(ld=1,S0++),Ln}function Qa(){return ii(Id,Ki)}function wg(){return Ki}function Bp(t,e){return Lf(Id,t,e)}function If(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cD(t){return S0=ld=1,lD=Va(Id=t),Ki=0,[]}function uD(t){return Id="",t}function xg(t){return oD(Bp(Ki-1,Yx(t===91?t+2:t===40?t+1:t)))}function U4(t){for(;(Ln=Qa())&&Ln<33;)cs();return If(t)>2||If(Ln)>3?"":" "}function G4(t,e){for(;--e&&cs()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return Bp(t,wg()+(e<6&&Qa()==32&&cs()==32))}function Yx(t){for(;cs();)switch(Ln){case t:return Ki;case 34:case 39:t!==34&&t!==39&&Yx(Ln);break;case 40:t===41&&Yx(t);break;case 92:cs();break}return Ki}function j4(t,e){for(;cs()&&t+Ln!==57;)if(t+Ln===84&&Qa()===47)break;return"/*"+Bp(e,Ki-1)+"*"+x0(t===47?t:cs())}function Y4(t){for(;!If(Qa());)cs();return Bp(t,Ki)}function X4(t){return uD(Sg("",null,null,null,[""],t=cD(t),0,[0],t))}function Sg(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,y=1,b=0,v="",k=i,C=s,S=n,_=v;g;)switch(f=b,b=cs()){case 40:if(f!=108&&ii(_,d-1)==58){jx(_+=dr(xg(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:_+=xg(b);break;case 9:case 10:case 13:case 32:_+=U4(f);break;case 92:_+=G4(wg()-1,7);continue;case 47:switch(Qa()){case 42:case 47:wm(q4(j4(cs(),wg()),e,r),l);break;default:_+="/"}break;case 123*m:o[c++]=Va(_)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:y==-1&&(_=dr(_,/\f/g,"")),p>0&&Va(_)-d&&wm(p>32?X_(_+";",n,r,d-1):X_(dr(_," ","")+";",n,r,d-2),l);break;case 59:_+=";";default:if(wm(S=Y_(_,e,r,c,u,i,o,v,k=[],C=[],d),s),b===123)if(u===0)Sg(_,e,S,S,k,s,d,o,C);else switch(h===99&&ii(_,3)===110?100:h){case 100:case 108:case 109:case 115:Sg(t,S,S,n&&wm(Y_(t,S,S,0,0,i,o,v,i,k=[],d),C),i,C,d,o,n?k:C);break;default:Sg(_,S,S,S,[""],C,0,o,C)}}c=u=p=0,m=y=1,v=_="",d=a;break;case 58:d=1+Va(_),p=f;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&H4()==125)continue}switch(_+=x0(b),b*m){case 38:y=u>0?1:(_+="\f",-1);break;case 44:o[c++]=(Va(_)-1)*y,y=1;break;case 64:Qa()===45&&(_+=xg(cs())),h=Qa(),u=d=Va(v=_+=Y4(wg())),b++;break;case 45:f===45&&Va(_)==2&&(m=0)}}return s}function Y_(t,e,r,n,i,s,a,o,l,c,u){for(var d=i-1,h=i===0?s:[""],p=tk(h),f=0,m=0,g=0;f<n;++f)for(var y=0,b=Lf(t,d+1,d=A4(m=a[f])),v=t;y<p;++y)(v=oD(m>0?h[y]+" "+b:dr(b,/&\f/g,h[y])))&&(l[g++]=v);return k0(t,e,r,i===0?Z1:o,l,c,u)}function q4(t,e,r){return k0(t,e,r,sD,x0(W4()),Lf(t,2,-2),0)}function X_(t,e,r,n){return k0(t,e,r,ek,Lf(t,0,n),Lf(t,n+1,-1),n)}function Yu(t,e){for(var r="",n=tk(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function K4(t,e,r,n){switch(t.type){case F4:if(t.children.length)break;case I4:case ek:return t.return=t.return||t.value;case sD:return"";case aD:return t.return=t.value+"{"+Yu(t.children,n)+"}";case Z1:t.value=t.props.join(",")}return Va(r=Yu(t.children,n))?t.return=t.value+"{"+r+"}":""}function Q4(t){var e=tk(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function J4(t){return function(e){e.root||(e=e.return)&&t(e)}}var Z4=function(e,r,n){for(var i=0,s=0;i=s,s=Qa(),i===38&&s===12&&(r[n]=1),!If(s);)cs();return Bp(e,Ki)},ez=function(e,r){var n=-1,i=44;do switch(If(i)){case 0:i===38&&Qa()===12&&(r[n]=1),e[n]+=Z4(Ki-1,r,n);break;case 2:e[n]+=xg(i);break;case 4:if(i===44){e[++n]=Qa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=x0(i)}while(i=cs());return e},tz=function(e,r){return uD(ez(cD(e),r))},q_=new WeakMap,rz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!q_.get(n))&&!i){q_.set(e,!0);for(var s=[],a=tz(r,s),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},nz=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function dD(t,e){switch($4(t,e)){case 5103:return ur+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ur+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ur+t+ly+t+ui+t+t;case 6828:case 4268:return ur+t+ui+t+t;case 6165:return ur+t+ui+"flex-"+t+t;case 5187:return ur+t+dr(t,/(\w+).+(:[^]+)/,ur+"box-$1$2"+ui+"flex-$1$2")+t;case 5443:return ur+t+ui+"flex-item-"+dr(t,/flex-|-self/,"")+t;case 4675:return ur+t+ui+"flex-line-pack"+dr(t,/align-content|flex-|-self/,"")+t;case 5548:return ur+t+ui+dr(t,"shrink","negative")+t;case 5292:return ur+t+ui+dr(t,"basis","preferred-size")+t;case 6060:return ur+"box-"+dr(t,"-grow","")+ur+t+ui+dr(t,"grow","positive")+t;case 4554:return ur+dr(t,/([^-])(transform)/g,"$1"+ur+"$2")+t;case 6187:return dr(dr(dr(t,/(zoom-|grab)/,ur+"$1"),/(image-set)/,ur+"$1"),t,"")+t;case 5495:case 3959:return dr(t,/(image-set\([^]*)/,ur+"$1$`$1");case 4968:return dr(dr(t,/(.+:)(flex-)?(.*)/,ur+"box-pack:$3"+ui+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ur+t+t;case 4095:case 3583:case 4068:case 2532:return dr(t,/(.+)-inline(.+)/,ur+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Va(t)-1-e>6)switch(ii(t,e+1)){case 109:if(ii(t,e+4)!==45)break;case 102:return dr(t,/(.+:)(.+)-([^]+)/,"$1"+ur+"$2-$3$1"+ly+(ii(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jx(t,"stretch")?dD(dr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ii(t,e+1)!==115)break;case 6444:switch(ii(t,Va(t)-3-(~jx(t,"!important")&&10))){case 107:return dr(t,":",":"+ur)+t;case 101:return dr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ur+(ii(t,14)===45?"inline-":"")+"box$3$1"+ur+"$2$3$1"+ui+"$2box$3")+t}break;case 5936:switch(ii(t,e+11)){case 114:return ur+t+ui+dr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ur+t+ui+dr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ur+t+ui+dr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ur+t+ui+t+t}return t}var iz=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case ek:e.return=dD(e.value,e.length);break;case aD:return Yu([lh(e,{value:dr(e.value,"@","@"+ur)})],i);case Z1:if(e.length)return z4(e.props,function(s){switch(V4(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yu([lh(e,{props:[dr(s,/:(read-\w+)/,":"+ly+"$1")]})],i);case"::placeholder":return Yu([lh(e,{props:[dr(s,/:(plac\w+)/,":"+ur+"input-$1")]}),lh(e,{props:[dr(s,/:(plac\w+)/,":"+ly+"$1")]}),lh(e,{props:[dr(s,/:(plac\w+)/,ui+"input-$1")]})],i)}return""})}},sz=[iz],hD=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||sz,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)s[g[y]]=!0;o.push(m)});var l,c=[rz,nz];{var u,d=[K4,J4(function(m){u.insert(m)})],h=Q4(c.concat(i,d)),p=function(g){return Yu(X4(g),h)};l=function(g,y,b,v){u=b,p(g?g+"{"+y.styles+"}":y.styles),v&&(f.inserted[y.name]=!0)}}var f={key:r,sheet:new L4({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(o),f},fD={exports:{}},gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=typeof Symbol=="function"&&Symbol.for,rk=Qn?Symbol.for("react.element"):60103,nk=Qn?Symbol.for("react.portal"):60106,C0=Qn?Symbol.for("react.fragment"):60107,T0=Qn?Symbol.for("react.strict_mode"):60108,_0=Qn?Symbol.for("react.profiler"):60114,P0=Qn?Symbol.for("react.provider"):60109,B0=Qn?Symbol.for("react.context"):60110,ik=Qn?Symbol.for("react.async_mode"):60111,N0=Qn?Symbol.for("react.concurrent_mode"):60111,M0=Qn?Symbol.for("react.forward_ref"):60112,E0=Qn?Symbol.for("react.suspense"):60113,az=Qn?Symbol.for("react.suspense_list"):60120,R0=Qn?Symbol.for("react.memo"):60115,D0=Qn?Symbol.for("react.lazy"):60116,oz=Qn?Symbol.for("react.block"):60121,lz=Qn?Symbol.for("react.fundamental"):60117,cz=Qn?Symbol.for("react.responder"):60118,uz=Qn?Symbol.for("react.scope"):60119;function vs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rk:switch(t=t.type,t){case ik:case N0:case C0:case _0:case T0:case E0:return t;default:switch(t=t&&t.$$typeof,t){case B0:case M0:case D0:case R0:case P0:return t;default:return e}}case nk:return e}}}function pD(t){return vs(t)===N0}gr.AsyncMode=ik;gr.ConcurrentMode=N0;gr.ContextConsumer=B0;gr.ContextProvider=P0;gr.Element=rk;gr.ForwardRef=M0;gr.Fragment=C0;gr.Lazy=D0;gr.Memo=R0;gr.Portal=nk;gr.Profiler=_0;gr.StrictMode=T0;gr.Suspense=E0;gr.isAsyncMode=function(t){return pD(t)||vs(t)===ik};gr.isConcurrentMode=pD;gr.isContextConsumer=function(t){return vs(t)===B0};gr.isContextProvider=function(t){return vs(t)===P0};gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rk};gr.isForwardRef=function(t){return vs(t)===M0};gr.isFragment=function(t){return vs(t)===C0};gr.isLazy=function(t){return vs(t)===D0};gr.isMemo=function(t){return vs(t)===R0};gr.isPortal=function(t){return vs(t)===nk};gr.isProfiler=function(t){return vs(t)===_0};gr.isStrictMode=function(t){return vs(t)===T0};gr.isSuspense=function(t){return vs(t)===E0};gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C0||t===N0||t===_0||t===T0||t===E0||t===az||typeof t=="object"&&t!==null&&(t.$$typeof===D0||t.$$typeof===R0||t.$$typeof===P0||t.$$typeof===B0||t.$$typeof===M0||t.$$typeof===lz||t.$$typeof===cz||t.$$typeof===uz||t.$$typeof===oz)};gr.typeOf=vs;fD.exports=gr;var dz=fD.exports,mD=dz,hz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gD={};gD[mD.ForwardRef]=hz;gD[mD.Memo]=fz;var pz=!0;function mz(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var yD=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||pz===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},bD=function(e,r,n){yD(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function gz(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bz=/[A-Z]|^ms/g,vz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vD=function(e){return e.charCodeAt(1)===45},K_=function(e){return e!=null&&typeof e!="boolean"},Rv=iD(function(t){return vD(t)?t:t.replace(bz,"-$&").toLowerCase()}),Q_=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(vz,function(n,i,s){return za={name:i,styles:s,next:za},i})}return yz[e]!==1&&!vD(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ff(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return za={name:r.name,styles:r.styles,next:za},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)za={name:n.name,styles:n.styles,next:za},n=n.next;var i=r.styles+";";return i}return wz(t,e,r)}case"function":{if(t!==void 0){var s=za,a=r(t);return za=s,Ff(t,e,a)}break}}if(e==null)return r;var o=e[r];return o!==void 0?o:r}function wz(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ff(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":K_(a)&&(n+=Rv(s)+":"+Q_(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)K_(a[o])&&(n+=Rv(s)+":"+Q_(s,a[o])+";");else{var l=Ff(t,e,a);switch(s){case"animation":case"animationName":{n+=Rv(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var J_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,za,sk=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";za=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Ff(n,r,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=Ff(n,r,e[o]),i&&(s+=a[o]);J_.lastIndex=0;for(var l="",c;(c=J_.exec(s))!==null;)l+="-"+c[1];var u=gz(s)+l;return{name:u,styles:s,next:za}},xz=function(e){return e()},wD=Nc.useInsertionEffect?Nc.useInsertionEffect:!1,Sz=wD||xz,Z_=wD||w.useLayoutEffect,xD=w.createContext(typeof HTMLElement<"u"?hD({key:"css"}):null),kz=xD.Provider,SD=function(e){return w.forwardRef(function(r,n){var i=w.useContext(xD);return e(r,i,n)})},L0=w.createContext({}),Dv={exports:{}},eP;function kD(){return eP||(eP=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Dv)),Dv.exports}kD();var Cz=SD(function(t,e){var r=t.styles,n=sk([r],void 0,w.useContext(L0)),i=w.useRef();return Z_(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),Z_(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&bD(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function I0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return sk(e)}var Fd=function(){var e=I0.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Tz=E4,_z=function(e){return e!=="theme"},tP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Tz:_z},rP=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},Pz=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return yD(r,n,i),Sz(function(){return bD(r,n,i)}),null},Bz=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;r!==void 0&&(s=r.label,a=r.target);var o=rP(e,r,n),l=o||tP(i),c=!l("as");return function(){var u=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var f=SD(function(m,g,y){var b=c&&m.as||i,v="",k=[],C=m;if(m.theme==null){C={};for(var S in m)C[S]=m[S];C.theme=w.useContext(L0)}typeof m.className=="string"?v=mz(g.registered,k,m.className):m.className!=null&&(v=m.className+" ");var _=sk(d.concat(k),g.registered,C);v+=g.key+"-"+_.name,a!==void 0&&(v+=" "+a);var B=c&&o===void 0?tP(b):l,D={};for(var E in m)c&&E==="as"||B(E)&&(D[E]=m[E]);return D.className=v,D.ref=y,w.createElement(w.Fragment,null,w.createElement(Pz,{cache:g,serialized:_,isStringTag:typeof b=="string"}),w.createElement(b,D))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=o,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(m,g){return t(m,T({},r,g,{shouldForwardProp:rP(f,g,!0)})).apply(void 0,d)},f}},Nz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xx=Bz.bind();Nz.forEach(function(t){Xx[t]=Xx(t)});var CD={exports:{}},Mz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ez=Mz,Rz=Ez;function TD(){}function _D(){}_D.resetWarningCache=TD;var Dz=function(){function t(n,i,s,a,o,l){if(l!==Rz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_D,resetWarningCache:TD};return r.PropTypes=r,r};CD.exports=Dz();var Lz=CD.exports;const W=Ho(Lz);let qx;typeof document=="object"&&(qx=hD({key:"css",prepend:!0}));function Iz(t){const{injectFirst:e,children:r}=t;return e&&qx?x.jsx(kz,{value:qx,children:r}):r}function Fz(t){return t==null||Object.keys(t).length===0}function PD(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(Fz(i)?r:i):e;return x.jsx(Cz,{styles:n})}function ak(t,e){return Xx(t,e)}const BD=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Az=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:PD,StyledEngineProvider:Iz,ThemeContext:L0,css:I0,default:ak,internal_processStyles:BD,keyframes:Fd},Symbol.toStringTag,{value:"Module"}));function go(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ND(t){if(!go(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=ND(t[r])}),e}function Bi(t,e,r={clone:!0}){const n=r.clone?T({},t):t;return go(t)&&go(e)&&Object.keys(e).forEach(i=>{go(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&go(t[i])?n[i]=Bi(t[i],e[i],r):r.clone?n[i]=go(e[i])?ND(e[i]):e[i]:n[i]=e[i]}),n}const Oz=Object.freeze(Object.defineProperty({__proto__:null,default:Bi,isPlainObject:go},Symbol.toStringTag,{value:"Module"})),$z=["values","unit","step"],Vz=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>T({},r,{[n.key]:n.val}),{})};function MD(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=me(t,$z),s=Vz(e),a=Object.keys(s);function o(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function c(h,p){const f=a.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(f!==-1&&typeof e[a[f]]=="number"?e[a[f]]:p)-n/100}${r})`}function u(h){return a.indexOf(h)+1<a.length?c(h,a[a.indexOf(h)+1]):o(h)}function d(h){const p=a.indexOf(h);return p===0?o(a[1]):p===a.length-1?l(a[p]):c(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return T({keys:a,values:s,up:o,down:l,between:c,only:u,not:d,unit:r},i)}const zz={borderRadius:4},Wz=zz;function qh(t,e){return e?Bi(t,e,{clone:!1}):t}const ok={xs:0,sm:600,md:900,lg:1200,xl:1536},nP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ok[t]}px)`};function Ba(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||nP;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=r(e[l]),a),{})}if(typeof e=="object"){const s=n.breakpoints||nP;return Object.keys(e).reduce((a,o)=>{if(Object.keys(s.values||ok).indexOf(o)!==-1){const l=s.up(o);a[l]=r(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return r(e)}function ED(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function RD(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function Hz(t,...e){const r=ED(t),n=[r,...e].reduce((i,s)=>Bi(i,s),{});return RD(Object.keys(r),n)}function Uz(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function Lv({values:t,breakpoints:e,base:r}){const n=r||Uz(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[s],s=o):a[o]=t,a),{})}function Ee(t){if(typeof t!="string")throw new Error(Io(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Gz=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function F0(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function cy(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=F0(t,r)||n,e&&(i=e(i,n,t)),i}function _n(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,c=F0(l,n)||{};return Ba(a,o,d=>{let h=cy(c,i,d);return d===h&&typeof d=="string"&&(h=cy(c,i,`${e}${d==="default"?"":Ee(d)}`,d)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[e],s}function jz(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const Yz={m:"margin",p:"padding"},Xz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qz=jz(t=>{if(t.length>2)if(iP[t])t=iP[t];else return[t];const[e,r]=t.split(""),n=Yz[e],i=Xz[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),lk=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ck=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...lk,...ck];function Np(t,e,r,n){var i;const s=(i=F0(t,e,!1))!=null?i:r;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function uk(t){return Np(t,"spacing",8)}function Ac(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function Kz(t,e){return r=>t.reduce((n,i)=>(n[i]=Ac(e,r),n),{})}function Qz(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=qz(r),s=Kz(i,n),a=t[r];return Ba(t,a,s)}function DD(t,e){const r=uk(t.theme);return Object.keys(t).map(n=>Qz(t,e,n,r)).reduce(qh,{})}function an(t){return DD(t,lk)}an.propTypes={};an.filterProps=lk;function on(t){return DD(t,ck)}on.propTypes={};on.filterProps=ck;function Jz(t=8){if(t.mui)return t;const e=uk({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function A0(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?qh(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Bs(t){return typeof t!="number"?t:`${t}px solid`}function Ks(t,e){return _n({prop:t,themeKey:"borders",transform:e})}const Zz=Ks("border",Bs),e6=Ks("borderTop",Bs),t6=Ks("borderRight",Bs),r6=Ks("borderBottom",Bs),n6=Ks("borderLeft",Bs),i6=Ks("borderColor"),s6=Ks("borderTopColor"),a6=Ks("borderRightColor"),o6=Ks("borderBottomColor"),l6=Ks("borderLeftColor"),c6=Ks("outline",Bs),u6=Ks("outlineColor"),O0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Np(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Ac(e,n)});return Ba(t,t.borderRadius,r)}return null};O0.propTypes={};O0.filterProps=["borderRadius"];A0(Zz,e6,t6,r6,n6,i6,s6,a6,o6,l6,O0,c6,u6);const $0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Np(t.theme,"spacing",8),r=n=>({gap:Ac(e,n)});return Ba(t,t.gap,r)}return null};$0.propTypes={};$0.filterProps=["gap"];const V0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Np(t.theme,"spacing",8),r=n=>({columnGap:Ac(e,n)});return Ba(t,t.columnGap,r)}return null};V0.propTypes={};V0.filterProps=["columnGap"];const z0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Np(t.theme,"spacing",8),r=n=>({rowGap:Ac(e,n)});return Ba(t,t.rowGap,r)}return null};z0.propTypes={};z0.filterProps=["rowGap"];const d6=_n({prop:"gridColumn"}),h6=_n({prop:"gridRow"}),f6=_n({prop:"gridAutoFlow"}),p6=_n({prop:"gridAutoColumns"}),m6=_n({prop:"gridAutoRows"}),g6=_n({prop:"gridTemplateColumns"}),y6=_n({prop:"gridTemplateRows"}),b6=_n({prop:"gridTemplateAreas"}),v6=_n({prop:"gridArea"});A0($0,V0,z0,d6,h6,f6,p6,m6,g6,y6,b6,v6);function Xu(t,e){return e==="grey"?e:t}const w6=_n({prop:"color",themeKey:"palette",transform:Xu}),x6=_n({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xu}),S6=_n({prop:"backgroundColor",themeKey:"palette",transform:Xu});A0(w6,x6,S6);function is(t){return t<=1&&t!==0?`${t*100}%`:t}const k6=_n({prop:"width",transform:is}),dk=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||ok[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:is(r)}};return Ba(t,t.maxWidth,e)}return null};dk.filterProps=["maxWidth"];const C6=_n({prop:"minWidth",transform:is}),T6=_n({prop:"height",transform:is}),_6=_n({prop:"maxHeight",transform:is}),P6=_n({prop:"minHeight",transform:is});_n({prop:"size",cssProperty:"width",transform:is});_n({prop:"size",cssProperty:"height",transform:is});const B6=_n({prop:"boxSizing"});A0(k6,dk,C6,T6,_6,P6,B6);const N6={border:{themeKey:"borders",transform:Bs},borderTop:{themeKey:"borders",transform:Bs},borderRight:{themeKey:"borders",transform:Bs},borderBottom:{themeKey:"borders",transform:Bs},borderLeft:{themeKey:"borders",transform:Bs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:O0},color:{themeKey:"palette",transform:Xu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xu},backgroundColor:{themeKey:"palette",transform:Xu},p:{style:on},pt:{style:on},pr:{style:on},pb:{style:on},pl:{style:on},px:{style:on},py:{style:on},padding:{style:on},paddingTop:{style:on},paddingRight:{style:on},paddingBottom:{style:on},paddingLeft:{style:on},paddingX:{style:on},paddingY:{style:on},paddingInline:{style:on},paddingInlineStart:{style:on},paddingInlineEnd:{style:on},paddingBlock:{style:on},paddingBlockStart:{style:on},paddingBlockEnd:{style:on},m:{style:an},mt:{style:an},mr:{style:an},mb:{style:an},ml:{style:an},mx:{style:an},my:{style:an},margin:{style:an},marginTop:{style:an},marginRight:{style:an},marginBottom:{style:an},marginLeft:{style:an},marginX:{style:an},marginY:{style:an},marginInline:{style:an},marginInlineStart:{style:an},marginInlineEnd:{style:an},marginBlock:{style:an},marginBlockStart:{style:an},marginBlockEnd:{style:an},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$0},rowGap:{style:z0},columnGap:{style:V0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:is},maxWidth:{style:dk},minWidth:{transform:is},height:{transform:is},maxHeight:{transform:is},minHeight:{transform:is},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Mp=N6;function M6(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function E6(t,e){return typeof t=="function"?t(e):t}function LD(){function t(r,n,i,s){const a={[r]:n,theme:i},o=s[r];if(!o)return{[r]:n};const{cssProperty:l=r,themeKey:c,transform:u,style:d}=o;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[r]:n};const h=F0(i,c)||{};return d?d(a):Ba(a,n,f=>{let m=cy(h,u,f);return f===m&&typeof f=="string"&&(m=cy(h,u,`${r}${f==="default"?"":Ee(f)}`,f)),l===!1?m:{[l]:m}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const a=(n=s.unstable_sxConfig)!=null?n:Mp;function o(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=ED(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const f=E6(c[p],s);if(f!=null)if(typeof f=="object")if(a[p])h=qh(h,t(p,f,s,a));else{const m=Ba({theme:s},f,g=>({[p]:g}));M6(m,f)?h[p]=e({sx:f,theme:s}):h=qh(h,m)}else h=qh(h,t(p,f,s,a))}),RD(d,h)}return Array.isArray(i)?i.map(o):o(i)}return e}const Ad=LD();Ad.filterProps=["sx"];function ID(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const R6=["breakpoints","palette","spacing","shape"];function Ep(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,a=me(t,R6),o=MD(r),l=Jz(i);let c=Bi({breakpoints:o,direction:"ltr",components:{},palette:T({mode:"light"},n),spacing:l,shape:T({},Wz,s)},a);return c.applyStyles=ID,c=e.reduce((u,d)=>Bi(u,d),c),c.unstable_sxConfig=T({},Mp,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return Ad({sx:d,theme:this})},c}const D6=Object.freeze(Object.defineProperty({__proto__:null,default:Ep,private_createBreakpoints:MD,unstable_applyStyles:ID},Symbol.toStringTag,{value:"Module"}));function L6(t){return Object.keys(t).length===0}function FD(t=null){const e=w.useContext(L0);return!e||L6(e)?t:e}const I6=Ep();function W0(t=I6){return FD(t)}function F6({styles:t,themeId:e,defaultTheme:r={}}){const n=W0(r),i=typeof t=="function"?t(e&&n[e]||n):t;return x.jsx(PD,{styles:i})}const A6=["sx"],O6=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Mp;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function H0(t){const{sx:e}=t,r=me(t,A6),{systemProps:n,otherProps:i}=O6(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return go(o)?T({},n,o):n}:s=T({},n,e),T({},i,{sx:s})}const $6=Object.freeze(Object.defineProperty({__proto__:null,default:Ad,extendSxProp:H0,unstable_createStyleFunctionSx:LD,unstable_defaultSxConfig:Mp},Symbol.toStringTag,{value:"Module"})),sP=t=>t,V6=()=>{let t=sP;return{configure(e){t=e},generate(e){return t(e)},reset(){t=sP}}},z6=V6(),AD=z6;function OD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=OD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=OD(t))&&(n&&(n+=" "),n+=e);return n}const W6=["className","component"];function H6(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=ak("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Ad);return w.forwardRef(function(l,c){const u=W0(r),d=H0(l),{className:h,component:p="div"}=d,f=me(d,W6);return x.jsx(s,T({as:p,ref:c,className:Se(h,i?i(n):n),theme:e&&u[e]||u},f))})}const $D={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ge(t,e,r="Mui"){const n=$D[e];return n?`${r}-${n}`:`${AD.generate(t)}-${e}`}function je(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Ge(t,i,r)}),n}var VD={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=Symbol.for("react.element"),fk=Symbol.for("react.portal"),U0=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),U6=Symbol.for("react.server_context"),q0=Symbol.for("react.forward_ref"),K0=Symbol.for("react.suspense"),Q0=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Z0=Symbol.for("react.lazy"),G6=Symbol.for("react.offscreen"),zD;zD=Symbol.for("react.module.reference");function Qs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hk:switch(t=t.type,t){case U0:case j0:case G0:case K0:case Q0:return t;default:switch(t=t&&t.$$typeof,t){case U6:case X0:case q0:case Z0:case J0:case Y0:return t;default:return e}}case fk:return e}}}yr.ContextConsumer=X0;yr.ContextProvider=Y0;yr.Element=hk;yr.ForwardRef=q0;yr.Fragment=U0;yr.Lazy=Z0;yr.Memo=J0;yr.Portal=fk;yr.Profiler=j0;yr.StrictMode=G0;yr.Suspense=K0;yr.SuspenseList=Q0;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(t){return Qs(t)===X0};yr.isContextProvider=function(t){return Qs(t)===Y0};yr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hk};yr.isForwardRef=function(t){return Qs(t)===q0};yr.isFragment=function(t){return Qs(t)===U0};yr.isLazy=function(t){return Qs(t)===Z0};yr.isMemo=function(t){return Qs(t)===J0};yr.isPortal=function(t){return Qs(t)===fk};yr.isProfiler=function(t){return Qs(t)===j0};yr.isStrictMode=function(t){return Qs(t)===G0};yr.isSuspense=function(t){return Qs(t)===K0};yr.isSuspenseList=function(t){return Qs(t)===Q0};yr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U0||t===j0||t===G0||t===K0||t===Q0||t===G6||typeof t=="object"&&t!==null&&(t.$$typeof===Z0||t.$$typeof===J0||t.$$typeof===Y0||t.$$typeof===X0||t.$$typeof===q0||t.$$typeof===zD||t.getModuleId!==void 0)};yr.typeOf=Qs;VD.exports=yr;var aP=VD.exports;const j6=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function WD(t){const e=`${t}`.match(j6);return e&&e[1]||""}function HD(t,e=""){return t.displayName||t.name||WD(t)||e}function oP(t,e,r){const n=HD(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function Y6(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return HD(t,"Component");if(typeof t=="object")switch(t.$$typeof){case aP.ForwardRef:return oP(t,t.render,"ForwardRef");case aP.Memo:return oP(t,t.type,"memo");default:return}}}const X6=Object.freeze(Object.defineProperty({__proto__:null,default:Y6,getFunctionName:WD},Symbol.toStringTag,{value:"Module"})),q6=["ownerState"],K6=["variants"],Q6=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function J6(t){return Object.keys(t).length===0}function Z6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Kh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const eW=Ep(),tW=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function xm({defaultTheme:t,theme:e,themeId:r}){return J6(e)?t:e[r]||e}function rW(t){return t?(e,r)=>r[t]:null}function kg(t,e){let{ownerState:r}=e,n=me(e,q6);const i=typeof t=="function"?t(T({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>kg(s,T({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=me(i,K6);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(T({ownerState:r},n,r)):Object.keys(l.props).forEach(u=>{(r==null?void 0:r[u])!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style(T({ownerState:r},n,r)):l.style))}),o}return i}function nW(t={}){const{themeId:e,defaultTheme:r=eW,rootShouldForwardProp:n=Kh,slotShouldForwardProp:i=Kh}=t,s=a=>Ad(T({},a,{theme:xm(T({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{BD(a,C=>C.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=rW(tW(c))}=o,p=me(o,Q6),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let g,y=Kh;c==="Root"||c==="root"?y=n:c?y=i:Z6(a)&&(y=void 0);const b=ak(a,T({shouldForwardProp:y,label:g},p)),v=C=>typeof C=="function"&&C.__emotion_real!==C||go(C)?S=>kg(C,T({},S,{theme:xm({theme:S.theme,defaultTheme:r,themeId:e})})):C,k=(C,...S)=>{let _=v(C);const B=S?S.map(v):[];l&&h&&B.push(R=>{const A=xm(T({},R,{defaultTheme:r,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const I=A.components[l].styleOverrides,L={};return Object.entries(I).forEach(([N,F])=>{L[N]=kg(F,T({},R,{theme:A}))}),h(R,L)}),l&&!f&&B.push(R=>{var A;const I=xm(T({},R,{defaultTheme:r,themeId:e})),L=I==null||(A=I.components)==null||(A=A[l])==null?void 0:A.variants;return kg({variants:L},T({},R,{theme:I}))}),m||B.push(s);const D=B.length-S.length;if(Array.isArray(C)&&D>0){const R=new Array(D).fill("");_=[...C,...R],_.raw=[...C.raw,...R]}const E=b(_,...B);return a.muiName&&(E.muiName=a.muiName),E};return b.withConfig&&(k.withConfig=b.withConfig),k}}const iW=nW();function pk(t,e){const r=T({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=T({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=T({},s),Object.keys(i).forEach(a=>{r[n][a]=pk(i[a],s[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function UD(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:pk(e.components[r].defaultProps,n)}function GD({props:t,name:e,defaultTheme:r,themeId:n}){let i=W0(r);return n&&(i=i[n]||i),UD({theme:i,name:e,props:t})}const zr=typeof window<"u"?w.useLayoutEffect:w.useEffect;function sW(t,e,r,n,i){const[s,a]=w.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return zr(()=>{let o=!0;if(!r)return;const l=r(t),c=()=>{o&&a(l.matches)};return c(),l.addListener(c),()=>{o=!1,l.removeListener(c)}},[t,r]),s}const jD=w.useSyncExternalStore;function aW(t,e,r,n,i){const s=w.useCallback(()=>e,[e]),a=w.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:u}=n(t);return()=>u}return s},[s,t,n,i,r]),[o,l]=w.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const u=r(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[s,r,t]);return jD(l,o,a)}function mk(t,e={}){const r=FD(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:o=!1}=UD({name:"MuiUseMediaQuery",props:e,theme:r});let l=typeof t=="function"?t(r):t;return l=l.replace(/^@media( ?)/m,""),(jD!==void 0?aW:sW)(l,i,s,a,o)}function hl(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const oW=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"}));function lW(t,e=0,r=1){return hl(t,e,r)}function cW(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function YD(t){if(t.type)return t;if(t.charAt(0)==="#")return YD(cW(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Io(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Io(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function uW(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function ro(t,e){return t=YD(t),e=lW(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,uW(t)}const dW=W.oneOfType([W.func,W.object]),eb=dW;function Kx(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function Rp(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function Cg(t,e){var r,n;return w.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function rn(t){return t&&t.ownerDocument||document}function Na(t){return rn(t).defaultView||window}function Qx(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let lP=0;function hW(t){const[e,r]=w.useState(t),n=t||e;return w.useEffect(()=>{e==null&&(lP+=1,r(`mui-${lP}`))},[e]),n}const cP=Nc.useId;function Js(t){if(cP!==void 0){const e=cP();return t??e}return hW(t)}function hs({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=w.useRef(t!==void 0),[s,a]=w.useState(e),o=i?t:s,l=w.useCallback(c=>{i||a(c)},[]);return[o,l]}function Ke(t){const e=w.useRef(t);return zr(()=>{e.current=t}),w.useRef((...r)=>(0,e.current)(...r)).current}function Yt(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{Qx(r,e)})},t)}const uP={};function fW(t,e){const r=w.useRef(uP);return r.current===uP&&(r.current=t(e)),r}const pW=[];function mW(t){w.useEffect(t,pW)}class tb{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new tb}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function XD(){const t=fW(tb.create).current;return mW(t.disposeEffect),t}let rb=!0,Jx=!1;const gW=new tb,yW={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function bW(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&yW[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function vW(t){t.metaKey||t.altKey||t.ctrlKey||(rb=!0)}function Iv(){rb=!1}function wW(){this.visibilityState==="hidden"&&Jx&&(rb=!0)}function xW(t){t.addEventListener("keydown",vW,!0),t.addEventListener("mousedown",Iv,!0),t.addEventListener("pointerdown",Iv,!0),t.addEventListener("touchstart",Iv,!0),t.addEventListener("visibilitychange",wW,!0)}function SW(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return rb||bW(e)}function gk(){const t=w.useCallback(i=>{i!=null&&xW(i.ownerDocument)},[]),e=w.useRef(!1);function r(){return e.current?(Jx=!0,gW.start(100,()=>{Jx=!1}),e.current=!1,!0):!1}function n(i){return SW(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function qD(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let uu;function KD(){if(uu)return uu;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),uu="reverse",t.scrollLeft>0?uu="default":(t.scrollLeft=1,t.scrollLeft===0&&(uu="negative")),document.body.removeChild(t),uu}function kW(t,e){const r=t.scrollLeft;if(e!=="rtl")return r;switch(KD()){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}const CW={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},yk=CW;function He(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}const TW=w.createContext(),Un=()=>{const t=w.useContext(TW);return t??!1},_W=["component","direction","spacing","divider","children","className","useFlexGap"],PW=Ep(),BW=iW("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function NW(t){return GD({props:t,name:"MuiStack",defaultTheme:PW})}function MW(t,e){const r=w.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(w.cloneElement(e,{key:`separator-${s}`})),n),[])}const EW=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],RW=({ownerState:t,theme:e})=>{let r=T({display:"flex",flexDirection:"column"},Ba({theme:e},Lv({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=uk(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Lv({values:t.direction,base:i}),a=Lv({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),r=Bi(r,Ba({theme:e},a,(l,c)=>t.useFlexGap?{gap:Ac(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${EW(c?s[c]:t.direction)}`]:Ac(n,l)}}))}return r=Hz(e.breakpoints,r),r};function DW(t={}){const{createStyledComponent:e=BW,useThemeProps:r=NW,componentName:n="MuiStack"}=t,i=()=>He({root:["root"]},l=>Ge(n,l),{}),s=e(RW);return w.forwardRef(function(l,c){const u=r(l),d=H0(u),{component:h="div",direction:p="column",spacing:f=0,divider:m,children:g,className:y,useFlexGap:b=!1}=d,v=me(d,_W),k={direction:p,spacing:f,useFlexGap:b},C=i();return x.jsx(s,T({as:h,ownerState:k,ref:c,className:Se(C.root,y)},v,{children:m?MW(g,m):g}))})}function LW(t,e){return T({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Pn={},QD={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(QD);var JD=QD.exports;const IW=Ol(N4),FW=Ol(oW);var ZD=JD;Object.defineProperty(Pn,"__esModule",{value:!0});var tr=Pn.alpha=nL;Pn.blend=YW;Pn.colorChannel=void 0;var uy=Pn.darken=vk;Pn.decomposeColor=Gs;Pn.emphasize=iL;var AW=Pn.getContrastRatio=WW;Pn.getLuminance=hy;Pn.hexToRgb=eL;Pn.hslToRgb=rL;var dy=Pn.lighten=wk;Pn.private_safeAlpha=HW;Pn.private_safeColorChannel=void 0;Pn.private_safeDarken=UW;Pn.private_safeEmphasize=jW;Pn.private_safeLighten=GW;Pn.recomposeColor=Od;Pn.rgbToHex=zW;var dP=ZD(IW),OW=ZD(FW);function bk(t,e=0,r=1){return(0,OW.default)(t,e,r)}function eL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function $W(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Gs(t){if(t.type)return t;if(t.charAt(0)==="#")return Gs(eL(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,dP.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,dP.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const tL=t=>{const e=Gs(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Pn.colorChannel=tL;const VW=(t,e)=>{try{return tL(t)}catch{return t}};Pn.private_safeColorChannel=VW;function Od(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function zW(t){if(t.indexOf("#")===0)return t;const{values:e}=Gs(t);return`#${e.map((r,n)=>$W(n===3?Math.round(255*r):r)).join("")}`}function rL(t){t=Gs(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(c,u=(c+r/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),Od({type:o,values:l})}function hy(t){t=Gs(t);let e=t.type==="hsl"||t.type==="hsla"?Gs(rL(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function WW(t,e){const r=hy(t),n=hy(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nL(t,e){return t=Gs(t),e=bk(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Od(t)}function HW(t,e,r){try{return nL(t,e)}catch{return t}}function vk(t,e){if(t=Gs(t),e=bk(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Od(t)}function UW(t,e,r){try{return vk(t,e)}catch{return t}}function wk(t,e){if(t=Gs(t),e=bk(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Od(t)}function GW(t,e,r){try{return wk(t,e)}catch{return t}}function iL(t,e=.15){return hy(t)>.5?vk(t,e):wk(t,e)}function jW(t,e,r){try{return iL(t,e)}catch{return t}}function YW(t,e,r,n=1){const i=(l,c)=>Math.round((l**(1/n)*(1-r)+c**(1/n)*r)**n),s=Gs(t),a=Gs(e),o=[i(s.values[0],a.values[0]),i(s.values[1],a.values[1]),i(s.values[2],a.values[2])];return Od({type:"rgb",values:o})}const XW=["mode","contrastThreshold","tonalOffset"],hP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Df.white,default:Df.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fv={text:{primary:Df.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Df.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fP(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=dy(t.main,i):e==="dark"&&(t.dark=uy(t.main,s)))}function qW(t="light"){return t==="dark"?{main:ou[200],light:ou[50],dark:ou[400]}:{main:ou[700],light:ou[400],dark:ou[800]}}function KW(t="light"){return t==="dark"?{main:au[200],light:au[50],dark:au[400]}:{main:au[500],light:au[300],dark:au[700]}}function QW(t="light"){return t==="dark"?{main:su[500],light:su[300],dark:su[700]}:{main:su[700],light:su[400],dark:su[800]}}function JW(t="light"){return t==="dark"?{main:lu[400],light:lu[300],dark:lu[700]}:{main:lu[700],light:lu[500],dark:lu[900]}}function ZW(t="light"){return t==="dark"?{main:cu[400],light:cu[300],dark:cu[700]}:{main:cu[800],light:cu[500],dark:cu[900]}}function eH(t="light"){return t==="dark"?{main:oh[400],light:oh[300],dark:oh[700]}:{main:"#ed6c02",light:oh[500],dark:oh[900]}}function tH(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=me(t,XW),s=t.primary||qW(e),a=t.secondary||KW(e),o=t.error||QW(e),l=t.info||JW(e),c=t.success||ZW(e),u=t.warning||eH(e);function d(m){return AW(m,Fv.text.primary)>=r?Fv.text.primary:hP.text.primary}const h=({color:m,name:g,mainShade:y=500,lightShade:b=300,darkShade:v=700})=>{if(m=T({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Io(11,g?` (${g})`:"",y));if(typeof m.main!="string")throw new Error(Io(12,g?` (${g})`:"",JSON.stringify(m.main)));return fP(m,"light",b,n),fP(m,"dark",v,n),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Fv,light:hP};return Bi(T({common:T({},Df),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:o,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:B4,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},p[e]),i)}const rH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function nH(t){return Math.round(t*1e5)/1e5}const pP={textTransform:"uppercase"},mP='"Roboto", "Helvetica", "Arial", sans-serif';function iH(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=mP,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=r,h=me(r,rH),p=i/14,f=d||(y=>`${y/c*p}rem`),m=(y,b,v,k,C)=>T({fontFamily:n,fontWeight:y,fontSize:f(b),lineHeight:v},n===mP?{letterSpacing:`${nH(k/b)}em`}:{},C,u),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(o,14,1.75,.4,pP),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,pP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Bi(T({htmlFontSize:c,pxToRem:f,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},g),h,{clone:!1})}const sH=.2,aH=.14,oH=.12;function Hr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${sH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${aH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${oH})`].join(",")}const lH=["none",Hr(0,2,1,-1,0,1,1,0,0,1,3,0),Hr(0,3,1,-2,0,2,2,0,0,1,5,0),Hr(0,3,3,-2,0,3,4,0,0,1,8,0),Hr(0,2,4,-1,0,4,5,0,0,1,10,0),Hr(0,3,5,-1,0,5,8,0,0,1,14,0),Hr(0,3,5,-1,0,6,10,0,0,1,18,0),Hr(0,4,5,-2,0,7,10,1,0,2,16,1),Hr(0,5,5,-3,0,8,10,1,0,3,14,2),Hr(0,5,6,-3,0,9,12,1,0,3,16,2),Hr(0,6,6,-3,0,10,14,1,0,4,18,3),Hr(0,6,7,-4,0,11,15,1,0,4,20,3),Hr(0,7,8,-4,0,12,17,2,0,5,22,4),Hr(0,7,8,-4,0,13,19,2,0,5,24,4),Hr(0,7,9,-4,0,14,21,2,0,5,26,4),Hr(0,8,9,-5,0,15,22,2,0,6,28,5),Hr(0,8,10,-5,0,16,24,2,0,6,30,5),Hr(0,8,11,-5,0,17,26,2,0,6,32,5),Hr(0,9,11,-5,0,18,28,2,0,7,34,6),Hr(0,9,12,-6,0,19,29,2,0,7,36,6),Hr(0,10,13,-6,0,20,31,3,0,8,38,7),Hr(0,10,13,-6,0,21,33,3,0,8,40,7),Hr(0,10,14,-6,0,22,35,3,0,8,42,7),Hr(0,11,14,-7,0,23,36,3,0,9,44,8),Hr(0,11,15,-7,0,24,38,3,0,9,46,8)],cH=["duration","easing","delay"],uH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gP(t){return`${Math.round(t)}ms`}function hH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function fH(t){const e=T({},uH,t.easing),r=T({},dH,t.duration);return T({getAutoHeightDuration:hH,create:(i=["all"],s={})=>{const{duration:a=r.standard,easing:o=e.easeInOut,delay:l=0}=s;return me(s,cH),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:gP(a)} ${o} ${typeof l=="string"?l:gP(l)}`).join(",")}},t,{easing:e,duration:r})}const pH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},mH=pH,gH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function sL(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,a=me(t,gH);if(t.vars)throw new Error(Io(18));const o=tH(n),l=Ep(t);let c=Bi(l,{mixins:LW(l.breakpoints,r),palette:o,shadows:lH.slice(),typography:iH(o,s),transitions:fH(i),zIndex:T({},mH)});return c=Bi(c,a),c=e.reduce((u,d)=>Bi(u,d),c),c.unstable_sxConfig=T({},Mp,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return Ad({sx:d,theme:this})},c}const yH=sL(),nb=yH;function ws(){const t=W0(nb);return t[Pp]||t}function Fe({props:t,name:e}){return GD({props:t,name:e,defaultTheme:nb,themeId:Pp})}var Dp={},Av={exports:{}},yP;function bH(){return yP||(yP=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Av)),Av.exports}const aL=Ol(Az),vH=Ol(Oz),wH=Ol(Gz),xH=Ol(X6),SH=Ol(D6),kH=Ol($6);var $d=JD;Object.defineProperty(Dp,"__esModule",{value:!0});var CH=Dp.default=AH;Dp.shouldForwardProp=Tg;Dp.systemDefaultTheme=void 0;var Cs=$d(kD()),Zx=$d(bH()),bP=EH(aL),TH=vH;$d(wH);$d(xH);var _H=$d(SH),PH=$d(kH);const BH=["ownerState"],NH=["variants"],MH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function oL(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(oL=function(n){return n?r:e})(t)}function EH(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=oL(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function RH(t){return Object.keys(t).length===0}function DH(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Tg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const LH=Dp.systemDefaultTheme=(0,_H.default)(),IH=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Sm({defaultTheme:t,theme:e,themeId:r}){return RH(e)?t:e[r]||e}function FH(t){return t?(e,r)=>r[t]:null}function _g(t,e){let{ownerState:r}=e,n=(0,Zx.default)(e,BH);const i=typeof t=="function"?t((0,Cs.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>_g(s,(0,Cs.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=(0,Zx.default)(i,NH);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Cs.default)({ownerState:r},n,r)):Object.keys(l.props).forEach(u=>{(r==null?void 0:r[u])!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style((0,Cs.default)({ownerState:r},n,r)):l.style))}),o}return i}function AH(t={}){const{themeId:e,defaultTheme:r=LH,rootShouldForwardProp:n=Tg,slotShouldForwardProp:i=Tg}=t,s=a=>(0,PH.default)((0,Cs.default)({},a,{theme:Sm((0,Cs.default)({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{(0,bP.internal_processStyles)(a,C=>C.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=FH(IH(c))}=o,p=(0,Zx.default)(o,MH),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let g,y=Tg;c==="Root"||c==="root"?y=n:c?y=i:DH(a)&&(y=void 0);const b=(0,bP.default)(a,(0,Cs.default)({shouldForwardProp:y,label:g},p)),v=C=>typeof C=="function"&&C.__emotion_real!==C||(0,TH.isPlainObject)(C)?S=>_g(C,(0,Cs.default)({},S,{theme:Sm({theme:S.theme,defaultTheme:r,themeId:e})})):C,k=(C,...S)=>{let _=v(C);const B=S?S.map(v):[];l&&h&&B.push(R=>{const A=Sm((0,Cs.default)({},R,{defaultTheme:r,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const I=A.components[l].styleOverrides,L={};return Object.entries(I).forEach(([N,F])=>{L[N]=_g(F,(0,Cs.default)({},R,{theme:A}))}),h(R,L)}),l&&!f&&B.push(R=>{var A;const I=Sm((0,Cs.default)({},R,{defaultTheme:r,themeId:e})),L=I==null||(A=I.components)==null||(A=A[l])==null?void 0:A.variants;return _g({variants:L},(0,Cs.default)({},R,{theme:I}))}),m||B.push(s);const D=B.length-S.length;if(Array.isArray(C)&&D>0){const R=new Array(D).fill("");_=[...C,...R],_.raw=[...C.raw,...R]}const E=b(_,...B);return a.muiName&&(E.muiName=a.muiName),E};return b.withConfig&&(k.withConfig=b.withConfig),k}}function Lp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Jn=t=>Lp(t)&&t!=="classes",Q=CH({themeId:Pp,defaultTheme:nb,rootShouldForwardProp:Jn}),vP=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function OH(t){return Ge("MuiSvgIcon",t)}je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $H=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],VH=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Ee(e)}`,`fontSize${Ee(r)}`]};return He(i,OH,n)},zH=Q("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Ee(r.color)}`],e[`fontSize${Ee(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,a,o,l,c,u,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((o=t.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[e.color]}}),eS=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=me(n,$H),f=w.isValidElement(i)&&i.type==="svg",m=T({},n,{color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),g={};u||(g.viewBox=h);const y=VH(m);return x.jsxs(zH,T({as:o,className:Se(y.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,p,f&&i.props,{ownerState:m,children:[f?i.props.children:i,d?x.jsx("title",{children:d}):null]}))});eS.muiName="SvgIcon";function br(t,e){function r(n,i){return x.jsx(eS,T({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=eS.muiName,w.memo(w.forwardRef(r))}var Cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),ib=Symbol.for("react.fragment"),sb=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),ob=Symbol.for("react.provider"),lb=Symbol.for("react.context"),WH=Symbol.for("react.server_context"),cb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.suspense_list"),hb=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),HH=Symbol.for("react.offscreen"),lL;lL=Symbol.for("react.module.reference");function Zs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xk:switch(t=t.type,t){case ib:case ab:case sb:case ub:case db:return t;default:switch(t=t&&t.$$typeof,t){case WH:case lb:case cb:case fb:case hb:case ob:return t;default:return e}}case Sk:return e}}}Cr.ContextConsumer=lb;Cr.ContextProvider=ob;Cr.Element=xk;Cr.ForwardRef=cb;Cr.Fragment=ib;Cr.Lazy=fb;Cr.Memo=hb;Cr.Portal=Sk;Cr.Profiler=ab;Cr.StrictMode=sb;Cr.Suspense=ub;Cr.SuspenseList=db;Cr.isAsyncMode=function(){return!1};Cr.isConcurrentMode=function(){return!1};Cr.isContextConsumer=function(t){return Zs(t)===lb};Cr.isContextProvider=function(t){return Zs(t)===ob};Cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xk};Cr.isForwardRef=function(t){return Zs(t)===cb};Cr.isFragment=function(t){return Zs(t)===ib};Cr.isLazy=function(t){return Zs(t)===fb};Cr.isMemo=function(t){return Zs(t)===hb};Cr.isPortal=function(t){return Zs(t)===Sk};Cr.isProfiler=function(t){return Zs(t)===ab};Cr.isStrictMode=function(t){return Zs(t)===sb};Cr.isSuspense=function(t){return Zs(t)===ub};Cr.isSuspenseList=function(t){return Zs(t)===db};Cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ib||t===ab||t===sb||t===ub||t===db||t===HH||typeof t=="object"&&t!==null&&(t.$$typeof===fb||t.$$typeof===hb||t.$$typeof===ob||t.$$typeof===lb||t.$$typeof===cb||t.$$typeof===lL||t.getModuleId!==void 0)};Cr.typeOf=Zs;function cL(t){return Fe}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},tS(t,e)}function kk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tS(t,e)}function UH(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function GH(t,e){t.classList?t.classList.add(e):UH(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function wP(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jH(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=wP(t.className,e):t.setAttribute("class",wP(t.className&&t.className.baseVal||"",e))}const xP={disabled:!1},fy=Ut.createContext(null);var uL=function(e){return e.scrollTop},Dh="unmounted",nc="exited",ic="entering",vu="entered",rS="exiting",Go=function(t){kk(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=i,o=a&&!a.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?o?(l=nc,s.appearStatus=ic):l=vu:n.unmountOnExit||n.mountOnEnter?l=Dh:l=nc,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Dh?{status:nc}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ic&&a!==vu&&(s=ic):(a===ic||a===vu)&&(s=rS)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ic){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Rh.findDOMNode(this);a&&uL(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nc&&this.setState({status:Dh})},r.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Rh.findDOMNode(this),o],c=l[0],u=l[1],d=this.getTimeouts(),h=o?d.appear:d.enter;if(!i&&!a||xP.disabled){this.safeSetState({status:vu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ic},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:vu},function(){s.props.onEntered(c,u)})})})},r.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Rh.findDOMNode(this);if(!s||xP.disabled){this.safeSetState({status:nc},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:rS},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:nc},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Rh.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Dh)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=me(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ut.createElement(fy.Provider,{value:null},typeof a=="function"?a(i,o):Ut.cloneElement(Ut.Children.only(a),o))},e}(Ut.Component);Go.contextType=fy;Go.propTypes={};function du(){}Go.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:du,onEntering:du,onEntered:du,onExit:du,onExiting:du,onExited:du};Go.UNMOUNTED=Dh;Go.EXITED=nc;Go.ENTERING=ic;Go.ENTERED=vu;Go.EXITING=rS;const pb=Go;var YH=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return GH(e,n)})},Ov=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return jH(e,n)})},Ck=function(t){kk(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(o,l)},n.onEntering=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1],h=d?"appear":"enter";n.addClass(u,h,"active"),n.props.onEntering&&n.props.onEntering(o,l)},n.onEntered=function(o,l){var c=n.resolveArguments(o,l),u=c[0],d=c[1],h=d?"appear":"enter";n.removeClasses(u,h),n.addClass(u,h,"done"),n.props.onEntered&&n.props.onEntered(o,l)},n.onExit=function(o){var l=n.resolveArguments(o),c=l[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(o)},n.onExiting=function(o){var l=n.resolveArguments(o),c=l[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(o)},n.onExited=function(o){var l=n.resolveArguments(o),c=l[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(o)},n.resolveArguments=function(o,l){return n.props.nodeRef?[n.props.nodeRef.current,o]:[o,l]},n.getClassNames=function(o){var l=n.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+o:l[o],h=c?d+"-active":l[o+"Active"],p=c?d+"-done":l[o+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:p}},n}var r=e.prototype;return r.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&a==="done"&&c&&(o+=" "+c),a==="active"&&i&&uL(i),o&&(this.appliedClasses[s][a]=o,YH(i,o))},r.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,c=a.done;this.appliedClasses[s]={},o&&Ov(i,o),l&&Ov(i,l),c&&Ov(i,c)},r.render=function(){var i=this.props;i.classNames;var s=me(i,["classNames"]);return Ut.createElement(pb,T({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Ut.Component);Ck.defaultProps={classNames:""};Ck.propTypes={};const XH=Ck;function qH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tk(t,e){var r=function(s){return e&&w.isValidElement(s)?e(s):s},n=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function KH(t,e){t=t||{},e=e||{};function r(u){return u in e?e[u]:t[u]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var c=n[l][a];o[n[l][a]]=r(c)}o[l]=r(l)}for(a=0;a<i.length;a++)o[i[a]]=r(i[a]);return o}function hc(t,e,r){return r[e]!=null?r[e]:t.props[e]}function QH(t,e){return Tk(t.children,function(r){return w.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:hc(r,"appear",t),enter:hc(r,"enter",t),exit:hc(r,"exit",t)})})}function JH(t,e,r){var n=Tk(t.children),i=KH(e,n);return Object.keys(i).forEach(function(s){var a=i[s];if(w.isValidElement(a)){var o=s in e,l=s in n,c=e[s],u=w.isValidElement(c)&&!c.props.in;l&&(!o||u)?i[s]=w.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:hc(a,"exit",t),enter:hc(a,"enter",t)}):!l&&o&&!u?i[s]=w.cloneElement(a,{in:!1}):l&&o&&w.isValidElement(c)&&(i[s]=w.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:hc(a,"exit",t),enter:hc(a,"enter",t)}))}}),i}var ZH=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},e8={component:"div",childFactory:function(e){return e}},_k=function(t){kk(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=s.handleExited.bind(qH(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?QH(i,o):JH(i,a,o),firstRender:!1}},r.handleExited=function(i,s){var a=Tk(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=T({},o.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=me(i,["component","childFactory"]),l=this.state.contextValue,c=ZH(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?Ut.createElement(fy.Provider,{value:l},c):Ut.createElement(fy.Provider,{value:l},Ut.createElement(s,o,c))},e}(Ut.Component);_k.propTypes={};_k.defaultProps=e8;const Pk=_k,Bk=t=>t.scrollTop;function cd(t,e){var r,n;const{timeout:i,easing:s,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:a.transitionDelay}}function t8(t){return Ge("MuiPaper",t)}je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const r8=["className","component","elevation","square","variant"],n8=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return He(s,t8,i)},i8=Q("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return T({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&T({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${tr("#fff",vP(e.elevation))}, ${tr("#fff",vP(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),s8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:a=1,square:o=!1,variant:l="elevation"}=n,c=me(n,r8),u=T({},n,{component:s,elevation:a,square:o,variant:l}),d=n8(u);return x.jsx(i8,T({as:s,ownerState:u,className:Se(d.root,i),ref:r},c))}),qc=s8;function Ja(t){return typeof t=="string"}function a8(t,e,r){return t===void 0||Ja(t)?e:T({},e,{ownerState:T({},e.ownerState,r)})}function o8(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const l8={disableDefaultClasses:!1},c8=w.createContext(l8);function u8(t){const{disableDefaultClasses:e}=w.useContext(c8);return r=>e?"":t(r)}function Qh(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function Ip(t,e,r){return typeof t=="function"?t(e,r):t}function SP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function d8(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const p=Se(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),f=T({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=T({},r,i,n);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const a=Qh(T({},i,n)),o=SP(n),l=SP(i),c=e(a),u=Se(c==null?void 0:c.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=T({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=T({},c,r,l,o);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const h8=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Bt(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=me(t,h8),o=s?{}:Ip(n,i),{props:l,internalRef:c}=d8(T({},a,{externalSlotProps:o})),u=Yt(c,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return a8(r,T({},l,{ref:u}),i)}function f8(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:c}=t,[u,d]=w.useState(!1),h=Se(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),p={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},f=Se(r.child,u&&r.childLeaving,n&&r.childPulsate);return!o&&!u&&d(!0),w.useEffect(()=>{if(!o&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,o,c]),x.jsx("span",{className:h,style:p,children:x.jsx("span",{className:f})})}const Ts=je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),p8=["center","classes","className"];let mb=t=>t,kP,CP,TP,_P;const nS=550,m8=80,g8=Fd(kP||(kP=mb`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),y8=Fd(CP||(CP=mb`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),b8=Fd(TP||(TP=mb`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),v8=Q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),w8=Q(f8,{name:"MuiTouchRipple",slot:"Ripple"})(_P||(_P=mb`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ts.rippleVisible,g8,nS,({theme:t})=>t.transitions.easing.easeInOut,Ts.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ts.child,Ts.childLeaving,y8,nS,({theme:t})=>t.transitions.easing.easeInOut,Ts.childPulsate,b8,({theme:t})=>t.transitions.easing.easeInOut),x8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=n,o=me(n,p8),[l,c]=w.useState([]),u=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),p=XD(),f=w.useRef(null),m=w.useRef(null),g=w.useCallback(k=>{const{pulsate:C,rippleX:S,rippleY:_,rippleSize:B,cb:D}=k;c(E=>[...E,x.jsx(w8,{classes:{ripple:Se(s.ripple,Ts.ripple),rippleVisible:Se(s.rippleVisible,Ts.rippleVisible),ripplePulsate:Se(s.ripplePulsate,Ts.ripplePulsate),child:Se(s.child,Ts.child),childLeaving:Se(s.childLeaving,Ts.childLeaving),childPulsate:Se(s.childPulsate,Ts.childPulsate)},timeout:nS,pulsate:C,rippleX:S,rippleY:_,rippleSize:B},u.current)]),u.current+=1,d.current=D},[s]),y=w.useCallback((k={},C={},S=()=>{})=>{const{pulsate:_=!1,center:B=i||C.pulsate,fakeElement:D=!1}=C;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const E=D?null:m.current,R=E?E.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,I,L;if(B||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)A=Math.round(R.width/2),I=Math.round(R.height/2);else{const{clientX:N,clientY:F}=k.touches&&k.touches.length>0?k.touches[0]:k;A=Math.round(N-R.left),I=Math.round(F-R.top)}if(B)L=Math.sqrt((2*R.width**2+R.height**2)/3),L%2===0&&(L+=1);else{const N=Math.max(Math.abs((E?E.clientWidth:0)-A),A)*2+2,F=Math.max(Math.abs((E?E.clientHeight:0)-I),I)*2+2;L=Math.sqrt(N**2+F**2)}k!=null&&k.touches?f.current===null&&(f.current=()=>{g({pulsate:_,rippleX:A,rippleY:I,rippleSize:L,cb:S})},p.start(m8,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:_,rippleX:A,rippleY:I,rippleSize:L,cb:S})},[i,g,p]),b=w.useCallback(()=>{y({},{pulsate:!0})},[y]),v=w.useCallback((k,C)=>{if(p.clear(),(k==null?void 0:k.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{v(k,C)});return}f.current=null,c(S=>S.length>0?S.slice(1):S),d.current=C},[p]);return w.useImperativeHandle(r,()=>({pulsate:b,start:y,stop:v}),[b,y,v]),x.jsx(v8,T({className:Se(Ts.root,s.root,a),ref:m},o,{children:x.jsx(Pk,{component:null,exit:!0,children:l})}))}),S8=x8;function k8(t){return Ge("MuiButtonBase",t)}const C8=je("MuiButtonBase",["root","disabled","focusVisible"]),T8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_8=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,a=He({root:["root",e&&"disabled",r&&"focusVisible"]},k8,i);return r&&n&&(a.root+=` ${n}`),a},P8=Q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${C8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),B8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:y,onFocus:b,onFocusVisible:v,onKeyDown:k,onKeyUp:C,onMouseDown:S,onMouseLeave:_,onMouseUp:B,onTouchEnd:D,onTouchMove:E,onTouchStart:R,tabIndex:A=0,TouchRippleProps:I,touchRippleRef:L,type:N}=n,F=me(n,T8),O=w.useRef(null),M=w.useRef(null),V=Yt(M,L),{isFocusVisibleRef:z,onFocus:K,onBlur:ie,ref:se}=gk(),[te,G]=w.useState(!1);c&&te&&G(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{G(!0),O.current.focus()}}),[]);const[Z,he]=w.useState(!1);w.useEffect(()=>{he(!0)},[]);const pe=Z&&!u&&!c;w.useEffect(()=>{te&&h&&!u&&Z&&M.current.pulsate()},[u,h,te,Z]);function ne(ye,Ze,xt=d){return Ke(Nt=>(Ze&&Ze(Nt),!xt&&M.current&&M.current[ye](Nt),!0))}const le=ne("start",S),oe=ne("stop",g),q=ne("stop",y),X=ne("stop",B),J=ne("stop",ye=>{te&&ye.preventDefault(),_&&_(ye)}),Y=ne("start",R),we=ne("stop",D),fe=ne("stop",E),$=ne("stop",ye=>{ie(ye),z.current===!1&&G(!1),f&&f(ye)},!1),U=Ke(ye=>{O.current||(O.current=ye.currentTarget),K(ye),z.current===!0&&(G(!0),v&&v(ye)),b&&b(ye)}),j=()=>{const ye=O.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},ae=w.useRef(!1),Be=Ke(ye=>{h&&!ae.current&&te&&M.current&&ye.key===" "&&(ae.current=!0,M.current.stop(ye,()=>{M.current.start(ye)})),ye.target===ye.currentTarget&&j()&&ye.key===" "&&ye.preventDefault(),k&&k(ye),ye.target===ye.currentTarget&&j()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),ke=Ke(ye=>{h&&ye.key===" "&&M.current&&te&&!ye.defaultPrevented&&(ae.current=!1,M.current.stop(ye,()=>{M.current.pulsate(ye)})),C&&C(ye),m&&ye.target===ye.currentTarget&&j()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let De=l;De==="button"&&(F.href||F.to)&&(De=p);const Je={};De==="button"?(Je.type=N===void 0?"button":N,Je.disabled=c):(!F.href&&!F.to&&(Je.role="button"),c&&(Je["aria-disabled"]=c));const dt=Yt(r,se,O),Rt=T({},n,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:A,focusVisible:te}),_e=_8(Rt);return x.jsxs(P8,T({as:De,className:Se(_e.root,o),ownerState:Rt,onBlur:$,onClick:m,onContextMenu:oe,onFocus:U,onKeyDown:Be,onKeyUp:ke,onMouseDown:le,onMouseLeave:J,onMouseUp:X,onDragLeave:q,onTouchEnd:we,onTouchMove:fe,onTouchStart:Y,ref:dt,tabIndex:c?-1:A,type:N},Je,F,{children:[a,pe?x.jsx(S8,T({ref:V,center:s},I)):null]}))}),js=B8;function N8(t){return Ge("MuiIconButton",t)}const M8=je("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),E8=M8,R8=["edge","children","className","color","disabled","disableFocusRipple","size"],D8=t=>{const{classes:e,disabled:r,color:n,edge:i,size:s}=t,a={root:["root",r&&"disabled",n!=="default"&&`color${Ee(n)}`,i&&`edge${Ee(i)}`,`size${Ee(s)}`]};return He(a,N8,e)},L8=Q(js,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${Ee(r.color)}`],r.edge&&e[`edge${Ee(r.edge)}`],e[`size${Ee(r.size)}`]]}})(({theme:t,ownerState:e})=>T({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return T({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&T({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":T({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${E8.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),I8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=n,d=me(n,R8),h=T({},n,{edge:i,color:o,disabled:l,disableFocusRipple:c,size:u}),p=D8(h);return x.jsx(L8,T({className:Se(p.root,a),centerRipple:!0,focusRipple:!c,disabled:l,ref:r},d,{ownerState:h,children:s}))}),oi=I8;function F8(t){return Ge("MuiTypography",t)}je("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const A8=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],O8=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:a}=t,o={root:["root",s,t.align!=="inherit"&&`align${Ee(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return He(o,F8,a)},$8=Q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Ee(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>T({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),PP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},V8={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},z8=t=>V8[t]||t,W8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTypography"}),i=z8(n.color),s=H0(T({},n,{color:i})),{align:a="inherit",className:o,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=PP}=s,f=me(s,A8),m=T({},s,{align:a,color:i,className:o,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),g=l||(d?"p":p[h]||PP[h])||"span",y=O8(m);return x.jsx($8,T({as:g,ref:r,ownerState:m,className:Se(y.root,o)},f))}),hr=W8;function H8(t){return Ge("MuiAppBar",t)}je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const U8=["className","color","enableColorOnDark","position"],G8=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${Ee(e)}`,`position${Ee(r)}`]};return He(i,H8,n)},km=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,j8=Q(qc,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ee(r.position)}`],e[`color${Ee(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return T({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&T({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&T({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&T({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:km(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:km(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:km(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:km(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Y8=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:o="fixed"}=n,l=me(n,U8),c=T({},n,{color:s,position:o,enableColorOnDark:a}),u=G8(c);return x.jsx(j8,T({square:!0,component:"header",ownerState:c,elevation:4,className:Se(u.root,i,o==="fixed"&&"mui-fixed"),ref:r},l))}),X8=Y8,dL="base";function q8(t){return`${dL}--${t}`}function K8(t,e){return`${dL}-${t}-${e}`}function hL(t,e){const r=$D[e];return r?q8(r):K8(t,e)}function Q8(t,e){const r={};return e.forEach(n=>{r[n]=hL(t,n)}),r}const J8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Z8(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function eU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function tU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||eU(t))}function rU(t){const e=[],r=[];return Array.from(t.querySelectorAll(J8)).forEach((n,i)=>{const s=Z8(n);s===-1||!tU(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function nU(){return!0}function fL(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=rU,isEnabled:a=nU,open:o}=t,l=w.useRef(!1),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),f=w.useRef(null),m=Yt(e.ref,f),g=w.useRef(null);w.useEffect(()=>{!o||!f.current||(p.current=!r)},[r,o]),w.useEffect(()=>{if(!o||!f.current)return;const v=rn(f.current);return f.current.contains(v.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[o]),w.useEffect(()=>{if(!o||!f.current)return;const v=rn(f.current),k=_=>{g.current=_,!(n||!a()||_.key!=="Tab")&&v.activeElement===f.current&&_.shiftKey&&(l.current=!0,u.current&&u.current.focus())},C=()=>{const _=f.current;if(_===null)return;if(!v.hasFocus()||!a()||l.current){l.current=!1;return}if(_.contains(v.activeElement)||n&&v.activeElement!==c.current&&v.activeElement!==u.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let B=[];if((v.activeElement===c.current||v.activeElement===u.current)&&(B=s(f.current)),B.length>0){var D,E;const R=!!((D=g.current)!=null&&D.shiftKey&&((E=g.current)==null?void 0:E.key)==="Tab"),A=B[0],I=B[B.length-1];typeof A!="string"&&typeof I!="string"&&(R?I.focus():A.focus())}else _.focus()};v.addEventListener("focusin",C),v.addEventListener("keydown",k,!0);const S=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(S),v.removeEventListener("focusin",C),v.removeEventListener("keydown",k,!0)}},[r,n,i,a,o,s]);const y=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0,h.current=v.target;const k=e.props.onFocus;k&&k(v)},b=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0};return x.jsxs(w.Fragment,{children:[x.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:m,onFocus:y}),x.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function iU(t){return typeof t=="function"?t():t}const pL=w.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[a,o]=w.useState(null),l=Yt(w.isValidElement(n)?n.ref:null,r);if(zr(()=>{s||o(iU(i)||document.body)},[i,s]),zr(()=>{if(a&&!s)return Qx(r,a),()=>{Qx(r,null)}},[r,a,s]),s){if(w.isValidElement(n)){const c={ref:l};return w.cloneElement(n,c)}return x.jsx(w.Fragment,{children:n})}return x.jsx(w.Fragment,{children:a&&Tp.createPortal(n,a)})});function sU(t){const e=rn(t);return e.body===t?Na(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Jh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function BP(t){return parseInt(Na(t).getComputedStyle(t).paddingRight,10)||0}function aU(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function NP(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,a=>{const o=s.indexOf(a)===-1,l=!aU(a);o&&l&&Jh(a,i)})}function $v(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function oU(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(sU(n)){const a=qD(rn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${BP(n)+a}px`;const o=rn(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${BP(l)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=rn(n).body;else{const a=n.parentElement,o=Na(n);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function lU(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class cU{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Jh(e.modalRef,!1);const i=lU(r);NP(r,e.mount,e.modalRef,i,!0);const s=$v(this.containers,a=>a.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=$v(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=oU(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=$v(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Jh(e.modalRef,r),NP(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&Jh(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function uU(t){return typeof t=="function"?t():t}function dU(t){return t?t.props.hasOwnProperty("in"):!1}const hU=new cU;function fU(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=hU,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:c,open:u,rootRef:d}=t,h=w.useRef({}),p=w.useRef(null),f=w.useRef(null),m=Yt(f,d),[g,y]=w.useState(!u),b=dU(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const k=()=>rn(p.current),C=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),S=()=>{i.mount(C(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},_=Ke(()=>{const F=uU(e)||k().body;i.add(C(),F),f.current&&S()}),B=w.useCallback(()=>i.isTopModal(C()),[i]),D=Ke(F=>{p.current=F,F&&(u&&B()?S():f.current&&Jh(f.current,v))}),E=w.useCallback(()=>{i.remove(C(),v)},[v,i]);w.useEffect(()=>()=>{E()},[E]),w.useEffect(()=>{u?_():(!b||!s)&&E()},[u,E,b,s,_]);const R=F=>O=>{var M;(M=F.onKeyDown)==null||M.call(F,O),!(O.key!=="Escape"||O.which===229||!B())&&(r||(O.stopPropagation(),c&&c(O,"escapeKeyDown")))},A=F=>O=>{var M;(M=F.onClick)==null||M.call(F,O),O.target===O.currentTarget&&c&&c(O,"backdropClick")};return{getRootProps:(F={})=>{const O=Qh(t);delete O.onTransitionEnter,delete O.onTransitionExited;const M=T({},O,F);return T({role:"presentation"},M,{onKeyDown:R(M),ref:m})},getBackdropProps:(F={})=>{const O=F;return T({"aria-hidden":!0},O,{onClick:A(O),open:u})},getTransitionProps:()=>{const F=()=>{y(!1),a&&a()},O=()=>{y(!0),o&&o(),s&&E()};return{onEnter:Kx(F,l==null?void 0:l.props.onEnter),onExited:Kx(O,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:D,isTopModal:B,exited:g,hasTransition:b}}function mL(t){const{children:e,defer:r=!1,fallback:n=null}=t,[i,s]=w.useState(!1);return zr(()=>{r||s(!0)},[r]),w.useEffect(()=>{r&&s(!0)},[r]),x.jsx(w.Fragment,{children:i?e:n})}var Yi="top",Ys="bottom",Xs="right",Xi="left",Nk="auto",Fp=[Yi,Ys,Xs,Xi],ud="start",Af="end",pU="clippingParents",gL="viewport",ch="popper",mU="reference",MP=Fp.reduce(function(t,e){return t.concat([e+"-"+ud,e+"-"+Af])},[]),yL=[].concat(Fp,[Nk]).reduce(function(t,e){return t.concat([e,e+"-"+ud,e+"-"+Af])},[]),gU="beforeRead",yU="read",bU="afterRead",vU="beforeMain",wU="main",xU="afterMain",SU="beforeWrite",kU="write",CU="afterWrite",TU=[gU,yU,bU,vU,wU,xU,SU,kU,CU];function no(t){return t?(t.nodeName||"").toLowerCase():null}function fs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Oc(t){var e=fs(t).Element;return t instanceof e||t instanceof Element}function Ws(t){var e=fs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mk(t){if(typeof ShadowRoot>"u")return!1;var e=fs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _U(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Ws(s)||!no(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function PU(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,c){return l[c]="",l},{});!Ws(i)||!no(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const BU={name:"applyStyles",enabled:!0,phase:"write",fn:_U,effect:PU,requires:["computeStyles"]};function Za(t){return t.split("-")[0]}var Cc=Math.max,py=Math.min,dd=Math.round;function iS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function bL(){return!/^((?!chrome|android).)*safari/i.test(iS())}function hd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&Ws(t)&&(i=t.offsetWidth>0&&dd(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&dd(n.height)/t.offsetHeight||1);var a=Oc(t)?fs(t):window,o=a.visualViewport,l=!bL()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/i,u=(n.top+(l&&o?o.offsetTop:0))/s,d=n.width/i,h=n.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function Ek(t){var e=hd(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function vL(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Mk(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Fo(t){return fs(t).getComputedStyle(t)}function NU(t){return["table","td","th"].indexOf(no(t))>=0}function Wl(t){return((Oc(t)?t.ownerDocument:t.document)||window.document).documentElement}function gb(t){return no(t)==="html"?t:t.assignedSlot||t.parentNode||(Mk(t)?t.host:null)||Wl(t)}function EP(t){return!Ws(t)||Fo(t).position==="fixed"?null:t.offsetParent}function MU(t){var e=/firefox/i.test(iS()),r=/Trident/i.test(iS());if(r&&Ws(t)){var n=Fo(t);if(n.position==="fixed")return null}var i=gb(t);for(Mk(i)&&(i=i.host);Ws(i)&&["html","body"].indexOf(no(i))<0;){var s=Fo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ap(t){for(var e=fs(t),r=EP(t);r&&NU(r)&&Fo(r).position==="static";)r=EP(r);return r&&(no(r)==="html"||no(r)==="body"&&Fo(r).position==="static")?e:r||MU(t)||e}function Rk(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zh(t,e,r){return Cc(t,py(e,r))}function EU(t,e,r){var n=Zh(t,e,r);return n>r?r:n}function wL(){return{top:0,right:0,bottom:0,left:0}}function xL(t){return Object.assign({},wL(),t)}function SL(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var RU=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,xL(typeof e!="number"?e:SL(e,Fp))};function DU(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=Za(r.placement),l=Rk(o),c=[Xi,Xs].indexOf(o)>=0,u=c?"height":"width";if(!(!s||!a)){var d=RU(i.padding,r),h=Ek(s),p=l==="y"?Yi:Xi,f=l==="y"?Ys:Xs,m=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],g=a[l]-r.rects.reference[l],y=Ap(s),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,v=m/2-g/2,k=d[p],C=b-h[u]-d[f],S=b/2-h[u]/2+v,_=Zh(k,S,C),B=l;r.modifiersData[n]=(e={},e[B]=_,e.centerOffset=_-S,e)}}function LU(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||vL(e.elements.popper,i)&&(e.elements.arrow=i))}const IU={name:"arrow",enabled:!0,phase:"main",fn:DU,effect:LU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fd(t){return t.split("-")[1]}var FU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function AU(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:dd(r*i)/i||0,y:dd(n*i)/i||0}}function RP(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=a.x,p=h===void 0?0:h,f=a.y,m=f===void 0?0:f,g=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),v=Xi,k=Yi,C=window;if(c){var S=Ap(r),_="clientHeight",B="clientWidth";if(S===fs(r)&&(S=Wl(r),Fo(S).position!=="static"&&o==="absolute"&&(_="scrollHeight",B="scrollWidth")),S=S,i===Yi||(i===Xi||i===Xs)&&s===Af){k=Ys;var D=d&&S===C&&C.visualViewport?C.visualViewport.height:S[_];m-=D-n.height,m*=l?1:-1}if(i===Xi||(i===Yi||i===Ys)&&s===Af){v=Xs;var E=d&&S===C&&C.visualViewport?C.visualViewport.width:S[B];p-=E-n.width,p*=l?1:-1}}var R=Object.assign({position:o},c&&FU),A=u===!0?AU({x:p,y:m},fs(r)):{x:p,y:m};if(p=A.x,m=A.y,l){var I;return Object.assign({},R,(I={},I[k]=b?"0":"",I[v]=y?"0":"",I.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",I))}return Object.assign({},R,(e={},e[k]=b?m+"px":"",e[v]=y?p+"px":"",e.transform="",e))}function OU(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:Za(e.placement),variation:fd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RP(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RP(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $U={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OU,data:{}};var Cm={passive:!0};function VU(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=fs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",r.update,Cm)}),o&&l.addEventListener("resize",r.update,Cm),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",r.update,Cm)}),o&&l.removeEventListener("resize",r.update,Cm)}}const zU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:VU,data:{}};var WU={left:"right",right:"left",bottom:"top",top:"bottom"};function Pg(t){return t.replace(/left|right|bottom|top/g,function(e){return WU[e]})}var HU={start:"end",end:"start"};function DP(t){return t.replace(/start|end/g,function(e){return HU[e]})}function Dk(t){var e=fs(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Lk(t){return hd(Wl(t)).left+Dk(t).scrollLeft}function UU(t,e){var r=fs(t),n=Wl(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=bL();(c||!c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+Lk(t),y:l}}function GU(t){var e,r=Wl(t),n=Dk(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Cc(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Cc(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+Lk(t),l=-n.scrollTop;return Fo(i||r).direction==="rtl"&&(o+=Cc(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function Ik(t){var e=Fo(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function kL(t){return["html","body","#document"].indexOf(no(t))>=0?t.ownerDocument.body:Ws(t)&&Ik(t)?t:kL(gb(t))}function ef(t,e){var r;e===void 0&&(e=[]);var n=kL(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=fs(n),a=i?[s].concat(s.visualViewport||[],Ik(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(ef(gb(a)))}function sS(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jU(t,e){var r=hd(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function LP(t,e,r){return e===gL?sS(UU(t,r)):Oc(e)?jU(e,r):sS(GU(Wl(t)))}function YU(t){var e=ef(gb(t)),r=["absolute","fixed"].indexOf(Fo(t).position)>=0,n=r&&Ws(t)?Ap(t):t;return Oc(n)?e.filter(function(i){return Oc(i)&&vL(i,n)&&no(i)!=="body"}):[]}function XU(t,e,r,n){var i=e==="clippingParents"?YU(t):[].concat(e),s=[].concat(i,[r]),a=s[0],o=s.reduce(function(l,c){var u=LP(t,c,n);return l.top=Cc(u.top,l.top),l.right=py(u.right,l.right),l.bottom=py(u.bottom,l.bottom),l.left=Cc(u.left,l.left),l},LP(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function CL(t){var e=t.reference,r=t.element,n=t.placement,i=n?Za(n):null,s=n?fd(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case Yi:l={x:a,y:e.y-r.height};break;case Ys:l={x:a,y:e.y+e.height};break;case Xs:l={x:e.x+e.width,y:o};break;case Xi:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?Rk(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ud:l[c]=l[c]-(e[u]/2-r[u]/2);break;case Af:l[c]=l[c]+(e[u]/2-r[u]/2);break}}return l}function Of(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,a=s===void 0?t.strategy:s,o=r.boundary,l=o===void 0?pU:o,c=r.rootBoundary,u=c===void 0?gL:c,d=r.elementContext,h=d===void 0?ch:d,p=r.altBoundary,f=p===void 0?!1:p,m=r.padding,g=m===void 0?0:m,y=xL(typeof g!="number"?g:SL(g,Fp)),b=h===ch?mU:ch,v=t.rects.popper,k=t.elements[f?b:h],C=XU(Oc(k)?k:k.contextElement||Wl(t.elements.popper),l,u,a),S=hd(t.elements.reference),_=CL({reference:S,element:v,strategy:"absolute",placement:i}),B=sS(Object.assign({},v,_)),D=h===ch?B:S,E={top:C.top-D.top+y.top,bottom:D.bottom-C.bottom+y.bottom,left:C.left-D.left+y.left,right:D.right-C.right+y.right},R=t.modifiersData.offset;if(h===ch&&R){var A=R[i];Object.keys(E).forEach(function(I){var L=[Xs,Ys].indexOf(I)>=0?1:-1,N=[Yi,Ys].indexOf(I)>=0?"y":"x";E[I]+=A[N]*L})}return E}function qU(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?yL:l,u=fd(n),d=u?o?MP:MP.filter(function(f){return fd(f)===u}):Fp,h=d.filter(function(f){return c.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,m){return f[m]=Of(t,{placement:m,boundary:i,rootBoundary:s,padding:a})[Za(m)],f},{});return Object.keys(p).sort(function(f,m){return p[f]-p[m]})}function KU(t){if(Za(t)===Nk)return[];var e=Pg(t);return[DP(t),e,DP(e)]}function QU(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,f=p===void 0?!0:p,m=r.allowedAutoPlacements,g=e.options.placement,y=Za(g),b=y===g,v=l||(b||!f?[Pg(g)]:KU(g)),k=[g].concat(v).reduce(function(te,G){return te.concat(Za(G)===Nk?qU(e,{placement:G,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):G)},[]),C=e.rects.reference,S=e.rects.popper,_=new Map,B=!0,D=k[0],E=0;E<k.length;E++){var R=k[E],A=Za(R),I=fd(R)===ud,L=[Yi,Ys].indexOf(A)>=0,N=L?"width":"height",F=Of(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),O=L?I?Xs:Xi:I?Ys:Yi;C[N]>S[N]&&(O=Pg(O));var M=Pg(O),V=[];if(s&&V.push(F[A]<=0),o&&V.push(F[O]<=0,F[M]<=0),V.every(function(te){return te})){D=R,B=!1;break}_.set(R,V)}if(B)for(var z=f?3:1,K=function(G){var Z=k.find(function(he){var pe=_.get(he);if(pe)return pe.slice(0,G).every(function(ne){return ne})});if(Z)return D=Z,"break"},ie=z;ie>0;ie--){var se=K(ie);if(se==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}const JU={name:"flip",enabled:!0,phase:"main",fn:QU,requiresIfExists:["offset"],data:{_skip:!1}};function IP(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function FP(t){return[Yi,Xs,Ys,Xi].some(function(e){return t[e]>=0})}function ZU(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Of(e,{elementContext:"reference"}),o=Of(e,{altBoundary:!0}),l=IP(a,n),c=IP(o,i,s),u=FP(l),d=FP(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const e7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZU};function t7(t,e,r){var n=Za(t),i=[Xi,Yi].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Xi,Xs].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function r7(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=yL.reduce(function(u,d){return u[d]=t7(d,e.rects,s),u},{}),o=a[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}const n7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r7};function i7(t){var e=t.state,r=t.name;e.modifiersData[r]=CL({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const s7={name:"popperOffsets",enabled:!0,phase:"read",fn:i7,data:{}};function a7(t){return t==="x"?"y":"x"}function o7(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,h=r.tether,p=h===void 0?!0:h,f=r.tetherOffset,m=f===void 0?0:f,g=Of(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Za(e.placement),b=fd(e.placement),v=!b,k=Rk(y),C=a7(k),S=e.modifiersData.popperOffsets,_=e.rects.reference,B=e.rects.popper,D=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,E=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(S){if(s){var I,L=k==="y"?Yi:Xi,N=k==="y"?Ys:Xs,F=k==="y"?"height":"width",O=S[k],M=O+g[L],V=O-g[N],z=p?-B[F]/2:0,K=b===ud?_[F]:B[F],ie=b===ud?-B[F]:-_[F],se=e.elements.arrow,te=p&&se?Ek(se):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wL(),Z=G[L],he=G[N],pe=Zh(0,_[F],te[F]),ne=v?_[F]/2-z-pe-Z-E.mainAxis:K-pe-Z-E.mainAxis,le=v?-_[F]/2+z+pe+he+E.mainAxis:ie+pe+he+E.mainAxis,oe=e.elements.arrow&&Ap(e.elements.arrow),q=oe?k==="y"?oe.clientTop||0:oe.clientLeft||0:0,X=(I=R==null?void 0:R[k])!=null?I:0,J=O+ne-X-q,Y=O+le-X,we=Zh(p?py(M,J):M,O,p?Cc(V,Y):V);S[k]=we,A[k]=we-O}if(o){var fe,$=k==="x"?Yi:Xi,U=k==="x"?Ys:Xs,j=S[C],ae=C==="y"?"height":"width",Be=j+g[$],ke=j-g[U],De=[Yi,Xi].indexOf(y)!==-1,Je=(fe=R==null?void 0:R[C])!=null?fe:0,dt=De?Be:j-_[ae]-B[ae]-Je+E.altAxis,Rt=De?j+_[ae]+B[ae]-Je-E.altAxis:ke,_e=p&&De?EU(dt,j,Rt):Zh(p?dt:Be,j,p?Rt:ke);S[C]=_e,A[C]=_e-j}e.modifiersData[n]=A}}const l7={name:"preventOverflow",enabled:!0,phase:"main",fn:o7,requiresIfExists:["offset"]};function c7(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function u7(t){return t===fs(t)||!Ws(t)?Dk(t):c7(t)}function d7(t){var e=t.getBoundingClientRect(),r=dd(e.width)/t.offsetWidth||1,n=dd(e.height)/t.offsetHeight||1;return r!==1||n!==1}function h7(t,e,r){r===void 0&&(r=!1);var n=Ws(e),i=Ws(e)&&d7(e),s=Wl(e),a=hd(t,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((no(e)!=="body"||Ik(s))&&(o=u7(e)),Ws(e)?(l=hd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Lk(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function f7(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function p7(t){var e=f7(t);return TU.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function m7(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function g7(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var AP={placement:"bottom",modifiers:[],strategy:"absolute"};function OP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function y7(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?AP:i;return function(o,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},AP,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;m(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:Oc(o)?ef(o):o.contextElement?ef(o.contextElement):[],popper:ef(l)};var v=p7(g7([].concat(n,u.options.modifiers)));return u.orderedModifiers=v.filter(function(k){return k.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,v=y.popper;if(OP(b,v)){u.rects={reference:h7(b,Ap(v),u.options.strategy==="fixed"),popper:Ek(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var C=u.orderedModifiers[k],S=C.fn,_=C.options,B=_===void 0?{}:_,D=C.name;typeof S=="function"&&(u=S({state:u,options:B,name:D,instance:p})||u)}}}},update:m7(function(){return new Promise(function(g){p.forceUpdate(),g(u)})}),destroy:function(){m(),h=!0}};if(!OP(o,l))return p;p.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function f(){u.orderedModifiers.forEach(function(g){var y=g.name,b=g.options,v=b===void 0?{}:b,k=g.effect;if(typeof k=="function"){var C=k({state:u,name:y,instance:p,options:v}),S=function(){};d.push(C||S)}})}function m(){d.forEach(function(g){return g()}),d=[]}return p}}var b7=[zU,s7,$U,BU,n7,JU,l7,IU,e7],v7=y7({defaultModifiers:b7});const TL="Popper";function w7(t){return hL(TL,t)}Q8(TL,["root"]);const x7=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],S7=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function k7(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function aS(t){return typeof t=="function"?t():t}function C7(t){return t.nodeType!==void 0}const T7=()=>He({root:["root"]},u8(w7)),_7={},P7=w.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:a,disablePortal:o,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=me(e,x7),y=w.useRef(null),b=Yt(y,r),v=w.useRef(null),k=Yt(v,h),C=w.useRef(k);zr(()=>{C.current=k},[k]),w.useImperativeHandle(h,()=>v.current,[]);const S=k7(u,a),[_,B]=w.useState(S),[D,E]=w.useState(aS(i));w.useEffect(()=>{v.current&&v.current.forceUpdate()}),w.useEffect(()=>{i&&E(aS(i))},[i]),zr(()=>{if(!D||!c)return;const N=M=>{B(M.placement)};let F=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:M})=>{N(M)}}];l!=null&&(F=F.concat(l)),d&&d.modifiers!=null&&(F=F.concat(d.modifiers));const O=v7(D,y.current,T({placement:S},d,{modifiers:F}));return C.current(O),()=>{O.destroy(),C.current(null)}},[D,o,l,c,d,S]);const R={placement:_};m!==null&&(R.TransitionProps=m);const A=T7(),I=(n=f.root)!=null?n:"div",L=Bt({elementType:I,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:A.root});return x.jsx(I,T({},L,{children:typeof s=="function"?s(R):s}))}),B7=w.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=_7,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:y={}}=e,b=me(e,S7),[v,k]=w.useState(!0),C=()=>{k(!1)},S=()=>{k(!0)};if(!l&&!u&&(!m||v))return null;let _;if(s)_=s;else if(n){const E=aS(n);_=E&&C7(E)?rn(E).body:rn(null).body}const B=!u&&l&&(!m||v)?"none":void 0,D=m?{in:u,onEnter:C,onExited:S}:void 0;return x.jsx(pL,{disablePortal:o,container:_,children:x.jsx(P7,T({anchorEl:n,direction:a,disablePortal:o,modifiers:c,ref:r,open:m?!v:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:y},b,{style:T({position:"fixed",top:0,left:0,display:B},f),TransitionProps:D,children:i}))})}),N7=2;function _L(t,e){return t-e}function $P(t,e){var r;const{index:n}=(r=t.reduce((i,s,a)=>{const o=Math.abs(e-s);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null))!=null?r:{};return n}function Tm(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function my(t,e,r){return(t-e)*100/(r-e)}function M7(t,e,r){return(r-e)*t+e}function E7(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function R7(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(E7(e)))}function VP({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(_L)}function _m({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const s=rn(t.current);if(!((n=t.current)!=null&&n.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var a;(a=t.current)==null||a.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function Pm(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?o8(t,e):!1}const D7={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},L7=t=>t;let Bm;function zP(){return Bm===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Bm=CSS.supports("touch-action","none"):Bm=!0),Bm}function I7(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:o=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:h="horizontal",rootRef:p,scale:f=L7,step:m=1,shiftStep:g=10,tabIndex:y,value:b}=t,v=w.useRef(),[k,C]=w.useState(-1),[S,_]=w.useState(-1),[B,D]=w.useState(!1),E=w.useRef(0),[R,A]=hs({controlled:b,default:r??l,name:"Slider"}),I=u&&((_e,ye,Ze)=>{const xt=_e.nativeEvent||_e,Nt=new xt.constructor(xt.type,xt);Object.defineProperty(Nt,"target",{writable:!0,value:{value:ye,name:c}}),u(Nt,ye,Ze)}),L=Array.isArray(R);let N=L?R.slice().sort(_L):[R];N=N.map(_e=>_e==null?l:hl(_e,l,o));const F=a===!0&&m!==null?[...Array(Math.floor((o-l)/m)+1)].map((_e,ye)=>({value:l+m*ye})):a||[],O=F.map(_e=>_e.value),{isFocusVisibleRef:M,onBlur:V,onFocus:z,ref:K}=gk(),[ie,se]=w.useState(-1),te=w.useRef(),G=Yt(K,te),Z=Yt(p,G),he=_e=>ye=>{var Ze;const xt=Number(ye.currentTarget.getAttribute("data-index"));z(ye),M.current===!0&&se(xt),_(xt),_e==null||(Ze=_e.onFocus)==null||Ze.call(_e,ye)},pe=_e=>ye=>{var Ze;V(ye),M.current===!1&&se(-1),_(-1),_e==null||(Ze=_e.onBlur)==null||Ze.call(_e,ye)},ne=(_e,ye)=>{const Ze=Number(_e.currentTarget.getAttribute("data-index")),xt=N[Ze],Nt=O.indexOf(xt);let Oe=ye;if(F&&m==null){const _t=O[O.length-1];Oe>_t?Oe=_t:Oe<O[0]?Oe=O[0]:Oe=Oe<xt?O[Nt-1]:O[Nt+1]}if(Oe=hl(Oe,l,o),L){i&&(Oe=hl(Oe,N[Ze-1]||-1/0,N[Ze+1]||1/0));const _t=Oe;Oe=VP({values:N,newValue:Oe,index:Ze});let Ie=Ze;i||(Ie=Oe.indexOf(_t)),_m({sliderRef:te,activeIndex:Ie})}A(Oe),se(Ze),I&&!Pm(Oe,R)&&I(_e,Oe,Ze),d&&d(_e,Oe)},le=_e=>ye=>{var Ze;if(m!==null){const xt=Number(ye.currentTarget.getAttribute("data-index")),Nt=N[xt];let Oe=null;(ye.key==="ArrowLeft"||ye.key==="ArrowDown")&&ye.shiftKey||ye.key==="PageDown"?Oe=Math.max(Nt-g,l):((ye.key==="ArrowRight"||ye.key==="ArrowUp")&&ye.shiftKey||ye.key==="PageUp")&&(Oe=Math.min(Nt+g,o)),Oe!==null&&(ne(ye,Oe),ye.preventDefault())}_e==null||(Ze=_e.onKeyDown)==null||Ze.call(_e,ye)};zr(()=>{if(n&&te.current.contains(document.activeElement)){var _e;(_e=document.activeElement)==null||_e.blur()}},[n]),n&&k!==-1&&C(-1),n&&ie!==-1&&se(-1);const oe=_e=>ye=>{var Ze;(Ze=_e.onChange)==null||Ze.call(_e,ye),ne(ye,ye.target.valueAsNumber)},q=w.useRef();let X=h;s&&h==="horizontal"&&(X+="-reverse");const J=({finger:_e,move:ye=!1})=>{const{current:Ze}=te,{width:xt,height:Nt,bottom:Oe,left:_t}=Ze.getBoundingClientRect();let Ie;X.indexOf("vertical")===0?Ie=(Oe-_e.y)/Nt:Ie=(_e.x-_t)/xt,X.indexOf("-reverse")!==-1&&(Ie=1-Ie);let $e;if($e=M7(Ie,l,o),m)$e=R7($e,m,l);else{const ot=$P(O,$e);$e=O[ot]}$e=hl($e,l,o);let Ct=0;if(L){ye?Ct=q.current:Ct=$P(N,$e),i&&($e=hl($e,N[Ct-1]||-1/0,N[Ct+1]||1/0));const ot=$e;$e=VP({values:N,newValue:$e,index:Ct}),i&&ye||(Ct=$e.indexOf(ot),q.current=Ct)}return{newValue:$e,activeIndex:Ct}},Y=Ke(_e=>{const ye=Tm(_e,v);if(!ye)return;if(E.current+=1,_e.type==="mousemove"&&_e.buttons===0){we(_e);return}const{newValue:Ze,activeIndex:xt}=J({finger:ye,move:!0});_m({sliderRef:te,activeIndex:xt,setActive:C}),A(Ze),!B&&E.current>N7&&D(!0),I&&!Pm(Ze,R)&&I(_e,Ze,xt)}),we=Ke(_e=>{const ye=Tm(_e,v);if(D(!1),!ye)return;const{newValue:Ze}=J({finger:ye,move:!0});C(-1),_e.type==="touchend"&&_(-1),d&&d(_e,Ze),v.current=void 0,$()}),fe=Ke(_e=>{if(n)return;zP()||_e.preventDefault();const ye=_e.changedTouches[0];ye!=null&&(v.current=ye.identifier);const Ze=Tm(_e,v);if(Ze!==!1){const{newValue:Nt,activeIndex:Oe}=J({finger:Ze});_m({sliderRef:te,activeIndex:Oe,setActive:C}),A(Nt),I&&!Pm(Nt,R)&&I(_e,Nt,Oe)}E.current=0;const xt=rn(te.current);xt.addEventListener("touchmove",Y,{passive:!0}),xt.addEventListener("touchend",we,{passive:!0})}),$=w.useCallback(()=>{const _e=rn(te.current);_e.removeEventListener("mousemove",Y),_e.removeEventListener("mouseup",we),_e.removeEventListener("touchmove",Y),_e.removeEventListener("touchend",we)},[we,Y]);w.useEffect(()=>{const{current:_e}=te;return _e.addEventListener("touchstart",fe,{passive:zP()}),()=>{_e.removeEventListener("touchstart",fe),$()}},[$,fe]),w.useEffect(()=>{n&&$()},[n,$]);const U=_e=>ye=>{var Ze;if((Ze=_e.onMouseDown)==null||Ze.call(_e,ye),n||ye.defaultPrevented||ye.button!==0)return;ye.preventDefault();const xt=Tm(ye,v);if(xt!==!1){const{newValue:Oe,activeIndex:_t}=J({finger:xt});_m({sliderRef:te,activeIndex:_t,setActive:C}),A(Oe),I&&!Pm(Oe,R)&&I(ye,Oe,_t)}E.current=0;const Nt=rn(te.current);Nt.addEventListener("mousemove",Y,{passive:!0}),Nt.addEventListener("mouseup",we)},j=my(L?N[0]:l,l,o),ae=my(N[N.length-1],l,o)-j,Be=(_e={})=>{const ye=Qh(_e),Ze={onMouseDown:U(ye||{})},xt=T({},ye,Ze);return T({},_e,{ref:Z},xt)},ke=_e=>ye=>{var Ze;(Ze=_e.onMouseOver)==null||Ze.call(_e,ye);const xt=Number(ye.currentTarget.getAttribute("data-index"));_(xt)},De=_e=>ye=>{var Ze;(Ze=_e.onMouseLeave)==null||Ze.call(_e,ye),_(-1)};return{active:k,axis:X,axisProps:D7,dragging:B,focusedThumbIndex:ie,getHiddenInputProps:(_e={})=>{var ye;const Ze=Qh(_e),xt={onChange:oe(Ze||{}),onFocus:he(Ze||{}),onBlur:pe(Ze||{}),onKeyDown:le(Ze||{})},Nt=T({},Ze,xt);return T({tabIndex:y,"aria-labelledby":e,"aria-orientation":h,"aria-valuemax":f(o),"aria-valuemin":f(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ye=t.step)!=null?ye:void 0,disabled:n},_e,Nt,{style:T({},yk,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Be,getThumbProps:(_e={})=>{const ye=Qh(_e),Ze={onMouseOver:ke(ye||{}),onMouseLeave:De(ye||{})};return T({},_e,ye,Ze)},marks:F,open:S,range:L,rootRef:Z,trackLeap:ae,trackOffset:j,values:N,getThumbStyle:_e=>({pointerEvents:k!==-1&&k!==_e?"none":void 0})}}const F7=["onChange","maxRows","minRows","style","value"];function Nm(t){return parseInt(t,10)||0}const A7={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function O7(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const $7=w.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:s=1,style:a,value:o}=e,l=me(e,F7),{current:c}=w.useRef(o!=null),u=w.useRef(null),d=Yt(r,u),h=w.useRef(null),p=w.useCallback(()=>{const g=u.current,b=Na(g).getComputedStyle(g);if(b.width==="0px")return{outerHeightStyle:0,overflowing:!1};const v=h.current;v.style.width=b.width,v.value=g.value||e.placeholder||"x",v.value.slice(-1)===`
`&&(v.value+=" ");const k=b.boxSizing,C=Nm(b.paddingBottom)+Nm(b.paddingTop),S=Nm(b.borderBottomWidth)+Nm(b.borderTopWidth),_=v.scrollHeight;v.value="x";const B=v.scrollHeight;let D=_;s&&(D=Math.max(Number(s)*B,D)),i&&(D=Math.min(Number(i)*B,D)),D=Math.max(D,B);const E=D+(k==="border-box"?C+S:0),R=Math.abs(D-_)<=1;return{outerHeightStyle:E,overflowing:R}},[i,s,e.placeholder]),f=w.useCallback(()=>{const g=p();if(O7(g))return;const y=u.current;y.style.height=`${g.outerHeightStyle}px`,y.style.overflow=g.overflowing?"hidden":""},[p]);zr(()=>{const g=()=>{f()};let y;const b=Rp(g),v=u.current,k=Na(v);k.addEventListener("resize",b);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(g),C.observe(v)),()=>{b.clear(),cancelAnimationFrame(y),k.removeEventListener("resize",b),C&&C.disconnect()}},[p,f]),zr(()=>{f()});const m=g=>{c||f(),n&&n(g)};return x.jsxs(w.Fragment,{children:[x.jsx("textarea",T({value:o,onChange:m,ref:d,rows:s,style:a},l)),x.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:T({},A7.shadow,a,{paddingTop:0,paddingBottom:0})})]})});var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0});var PL=Fk.default=void 0,V7=W7(w),z7=aL;function BL(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(BL=function(n){return n?r:e})(t)}function W7(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=BL(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function H7(t){return Object.keys(t).length===0}function U7(t=null){const e=V7.useContext(z7.ThemeContext);return!e||H7(e)?t:e}PL=Fk.default=U7;const G7=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],j7=Q(B7,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Y7=w.forwardRef(function(e,r){var n;const i=PL(),s=Fe({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:y,transition:b,slots:v,slotProps:k}=s,C=me(s,G7),S=(n=v==null?void 0:v.root)!=null?n:l==null?void 0:l.Root,_=T({anchorEl:a,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:y,transition:b},C);return x.jsx(j7,T({as:o,direction:i==null?void 0:i.direction,slots:{root:S},slotProps:k??c},_,{ref:r}))}),NL=Y7,X7=br(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function q7(t){return Ge("MuiChip",t)}const K7=je("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ar=K7,Q7=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],J7=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:s,onDelete:a,clickable:o,variant:l}=t,c={root:["root",l,r&&"disabled",`size${Ee(n)}`,`color${Ee(i)}`,o&&"clickable",o&&`clickableColor${Ee(i)}`,a&&"deletable",a&&`deletableColor${Ee(i)}`,`${l}${Ee(i)}`],label:["label",`label${Ee(n)}`],avatar:["avatar",`avatar${Ee(n)}`,`avatarColor${Ee(i)}`],icon:["icon",`icon${Ee(n)}`,`iconColor${Ee(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Ee(n)}`,`deleteIconColor${Ee(i)}`,`deleteIcon${Ee(l)}Color${Ee(i)}`]};return He(c,q7,e)},Z7=Q("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:s,onDelete:a,size:o,variant:l}=r;return[{[`& .${ar.avatar}`]:e.avatar},{[`& .${ar.avatar}`]:e[`avatar${Ee(o)}`]},{[`& .${ar.avatar}`]:e[`avatarColor${Ee(n)}`]},{[`& .${ar.icon}`]:e.icon},{[`& .${ar.icon}`]:e[`icon${Ee(o)}`]},{[`& .${ar.icon}`]:e[`iconColor${Ee(i)}`]},{[`& .${ar.deleteIcon}`]:e.deleteIcon},{[`& .${ar.deleteIcon}`]:e[`deleteIcon${Ee(o)}`]},{[`& .${ar.deleteIcon}`]:e[`deleteIconColor${Ee(n)}`]},{[`& .${ar.deleteIcon}`]:e[`deleteIcon${Ee(l)}Color${Ee(n)}`]},e.root,e[`size${Ee(o)}`],e[`color${Ee(n)}`],s&&e.clickable,s&&n!=="default"&&e[`clickableColor${Ee(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${Ee(n)}`],e[l],e[`${l}${Ee(n)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return T({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ar.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ar.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${ar.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ar.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ar.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ar.icon}`]:T({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&T({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},e.color!=="default"&&{color:"inherit"})),[`& .${ar.deleteIcon}`]:T({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:tr(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:tr(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:tr(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ar.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ar.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>T({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ar.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ar.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>T({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ar.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ar.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ar.avatar}`]:{marginLeft:4},[`& .${ar.avatarSmall}`]:{marginLeft:2},[`& .${ar.icon}`]:{marginLeft:4},[`& .${ar.iconSmall}`]:{marginLeft:2},[`& .${ar.deleteIcon}`]:{marginRight:5},[`& .${ar.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:tr(t.palette[e.color].main,.7)}`,[`&.${ar.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ar.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:tr(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ar.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:tr(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),eG=Q("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${Ee(n)}`]]}})(({ownerState:t})=>T({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function WP(t){return t.key==="Backspace"||t.key==="Delete"}const tG=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:o="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:y="medium",variant:b="filled",tabIndex:v,skipFocusWhenDisabled:k=!1}=n,C=me(n,Q7),S=w.useRef(null),_=Yt(S,r),B=V=>{V.stopPropagation(),f&&f(V)},D=V=>{V.currentTarget===V.target&&WP(V)&&V.preventDefault(),m&&m(V)},E=V=>{V.currentTarget===V.target&&(f&&WP(V)?f(V):V.key==="Escape"&&S.current&&S.current.blur()),g&&g(V)},R=a!==!1&&p?!0:a,A=R||f?js:l||"div",I=T({},n,{component:A,disabled:u,size:y,color:o,iconColor:w.isValidElement(d)&&d.props.color||o,onDelete:!!f,clickable:R,variant:b}),L=J7(I),N=A===js?T({component:l||"div",focusVisibleClassName:L.focusVisible},f&&{disableRipple:!0}):{};let F=null;f&&(F=c&&w.isValidElement(c)?w.cloneElement(c,{className:Se(c.props.className,L.deleteIcon),onClick:B}):x.jsx(X7,{className:Se(L.deleteIcon),onClick:B}));let O=null;i&&w.isValidElement(i)&&(O=w.cloneElement(i,{className:Se(L.avatar,i.props.className)}));let M=null;return d&&w.isValidElement(d)&&(M=w.cloneElement(d,{className:Se(L.icon,d.props.className)})),x.jsxs(Z7,T({as:A,className:Se(L.root,s),disabled:R&&u?!0:void 0,onClick:p,onKeyDown:D,onKeyUp:E,ref:_,tabIndex:k&&u?-1:v,ownerState:I},N,C,{children:[O||M,x.jsx(eG,{className:Se(L.label),ownerState:I,children:h}),F]}))}),rG=tG;function Hl({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const nG=w.createContext(void 0),yb=nG;function Qi(){return w.useContext(yb)}function iG(t){return x.jsx(F6,T({},t,{defaultTheme:nb,themeId:Pp}))}function HP(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function gy(t,e=!1){return t&&(HP(t.value)&&t.value!==""||e&&HP(t.defaultValue)&&t.defaultValue!=="")}function sG(t){return t.startAdornment}function aG(t){return Ge("MuiInputBase",t)}const oG=je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),pd=oG,lG=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],bb=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Ee(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},vb=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},cG=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=t,m={root:["root",`color${Ee(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",h&&h!=="medium"&&`size${Ee(h)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",f==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return He(m,aG,e)},wb=Q("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bb})(({theme:t,ownerState:e})=>T({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${pd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&T({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),xb=Q("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vb})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=T({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return T({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${pd.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${pd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),uG=x.jsx(iG,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),dG=w.forwardRef(function(e,r){var n;const i=Fe({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:y="input",inputProps:b={},inputRef:v,maxRows:k,minRows:C,multiline:S=!1,name:_,onBlur:B,onChange:D,onClick:E,onFocus:R,onKeyDown:A,onKeyUp:I,placeholder:L,readOnly:N,renderSuffix:F,rows:O,slotProps:M={},slots:V={},startAdornment:z,type:K="text",value:ie}=i,se=me(i,lG),te=b.value!=null?b.value:ie,{current:G}=w.useRef(te!=null),Z=w.useRef(),he=w.useCallback(_e=>{},[]),pe=Yt(Z,v,b.ref,he),[ne,le]=w.useState(!1),oe=Qi(),q=Hl({props:i,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=oe?oe.focused:ne,w.useEffect(()=>{!oe&&h&&ne&&(le(!1),B&&B())},[oe,h,ne,B]);const X=oe&&oe.onFilled,J=oe&&oe.onEmpty,Y=w.useCallback(_e=>{gy(_e)?X&&X():J&&J()},[X,J]);zr(()=>{G&&Y({value:te})},[te,Y,G]);const we=_e=>{if(q.disabled){_e.stopPropagation();return}R&&R(_e),b.onFocus&&b.onFocus(_e),oe&&oe.onFocus?oe.onFocus(_e):le(!0)},fe=_e=>{B&&B(_e),b.onBlur&&b.onBlur(_e),oe&&oe.onBlur?oe.onBlur(_e):le(!1)},$=(_e,...ye)=>{if(!G){const Ze=_e.target||Z.current;if(Ze==null)throw new Error(Io(1));Y({value:Ze.value})}b.onChange&&b.onChange(_e,...ye),D&&D(_e,...ye)};w.useEffect(()=>{Y(Z.current)},[]);const U=_e=>{Z.current&&_e.currentTarget===_e.target&&Z.current.focus(),E&&E(_e)};let j=y,ae=b;S&&j==="input"&&(O?ae=T({type:void 0,minRows:O,maxRows:O},ae):ae=T({type:void 0,maxRows:k,minRows:C},ae),j=$7);const Be=_e=>{Y(_e.animationName==="mui-auto-fill-cancel"?Z.current:{value:"x"})};w.useEffect(()=>{oe&&oe.setAdornedStart(!!z)},[oe,z]);const ke=T({},i,{color:q.color||"primary",disabled:q.disabled,endAdornment:f,error:q.error,focused:q.focused,formControl:oe,fullWidth:m,hiddenLabel:q.hiddenLabel,multiline:S,size:q.size,startAdornment:z,type:K}),De=cG(ke),Je=V.root||c.Root||wb,dt=M.root||u.root||{},Rt=V.input||c.Input||xb;return ae=T({},ae,(n=M.input)!=null?n:u.input),x.jsxs(w.Fragment,{children:[!p&&uG,x.jsxs(Je,T({},dt,!Ja(Je)&&{ownerState:T({},ke,dt.ownerState)},{ref:r,onClick:U},se,{className:Se(De.root,dt.className,l,N&&"MuiInputBase-readOnly"),children:[z,x.jsx(yb.Provider,{value:null,children:x.jsx(Rt,T({ownerState:ke,"aria-invalid":q.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:d,disabled:q.disabled,id:g,onAnimationStart:Be,name:_,placeholder:L,readOnly:N,required:q.required,rows:O,value:te,onKeyDown:A,onKeyUp:I,type:K},ae,!Ja(Rt)&&{as:j,ownerState:T({},ke,ae.ownerState)},{ref:pe,className:Se(De.input,ae.className,N&&"MuiInputBase-readOnly"),onBlur:fe,onChange:$,onFocus:we}))}),f,F?F(T({},q,{startAdornment:z})):null]}))]})}),Ak=dG;function hG(t){return Ge("MuiInput",t)}const fG=T({},pd,je("MuiInput",["root","underline","input"])),uh=fG;function pG(t){return Ge("MuiOutlinedInput",t)}const mG=T({},pd,je("MuiOutlinedInput",["root","notchedOutline","input"])),Zo=mG;function gG(t){return Ge("MuiFilledInput",t)}const yG=T({},pd,je("MuiFilledInput",["root","underline","input"])),ql=yG,bG=br(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],wG={entering:{opacity:1},entered:{opacity:1}},xG=w.forwardRef(function(e,r){const n=ws(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:y=i,TransitionComponent:b=pb}=e,v=me(e,vG),k=w.useRef(null),C=Yt(k,o.ref,r),S=L=>N=>{if(L){const F=k.current;N===void 0?L(F):L(F,N)}},_=S(h),B=S((L,N)=>{Bk(L);const F=cd({style:g,timeout:y,easing:l},{mode:"enter"});L.style.webkitTransition=n.transitions.create("opacity",F),L.style.transition=n.transitions.create("opacity",F),u&&u(L,N)}),D=S(d),E=S(m),R=S(L=>{const N=cd({style:g,timeout:y,easing:l},{mode:"exit"});L.style.webkitTransition=n.transitions.create("opacity",N),L.style.transition=n.transitions.create("opacity",N),p&&p(L)}),A=S(f),I=L=>{s&&s(k.current,L)};return x.jsx(b,T({appear:a,in:c,nodeRef:k,onEnter:B,onEntered:D,onEntering:_,onExit:R,onExited:A,onExiting:E,addEndListener:I,timeout:y},v,{children:(L,N)=>w.cloneElement(o,T({style:T({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},wG[L],g,o.props.style),ref:C},N))}))}),Vd=xG;function SG(t){return Ge("MuiBackdrop",t)}je("MuiBackdrop",["root","invisible"]);const kG=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],CG=t=>{const{classes:e,invisible:r}=t;return He({root:["root",r&&"invisible"]},SG,e)},TG=Q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>T({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),_G=w.forwardRef(function(e,r){var n,i,s;const a=Fe({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:m={},TransitionComponent:g=Vd,transitionDuration:y}=a,b=me(a,kG),v=T({},a,{component:c,invisible:h}),k=CG(v),C=(n=f.root)!=null?n:d.root;return x.jsx(g,T({in:p,timeout:y},b,{children:x.jsx(TG,T({"aria-hidden":!0},C,{as:(i=(s=m.root)!=null?s:u.Root)!=null?i:c,className:Se(k.root,l,C==null?void 0:C.className),ownerState:T({},v,C==null?void 0:C.ownerState),classes:k,ref:r,children:o}))}))}),ML=_G,PG=je("MuiBox",["root"]),BG=PG,NG=sL(),MG=H6({themeId:Pp,defaultTheme:NG,defaultClassName:BG.root,generateClassName:AD.generate}),EG=MG;function RG(t){return Ge("MuiButton",t)}const DG=je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Mm=DG,LG=w.createContext({}),IG=LG,FG=w.createContext(void 0),AG=FG,OG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],$G=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:s,classes:a}=t,o={root:["root",s,`${s}${Ee(e)}`,`size${Ee(i)}`,`${s}Size${Ee(i)}`,`color${Ee(e)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ee(i)}`],endIcon:["icon","endIcon",`iconSize${Ee(i)}`]},l=He(o,RG,a);return T({},a,l)},EL=t=>T({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),VG=Q(js,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Ee(r.color)}`],e[`size${Ee(r.size)}`],e[`${r.variant}Size${Ee(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return T({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":T({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Mm.focusVisible}`]:T({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Mm.disabled}`]:T({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${tr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Mm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Mm.disabled}`]:{boxShadow:"none"}}),zG=Q("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${Ee(r.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},EL(t))),WG=Q("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${Ee(r.size)}`]]}})(({ownerState:t})=>T({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},EL(t))),HG=w.forwardRef(function(e,r){const n=w.useContext(IG),i=w.useContext(AG),s=pk(n,e),a=Fe({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:y="medium",startIcon:b,type:v,variant:k="text"}=a,C=me(a,OG),S=T({},a,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:y,type:v,variant:k}),_=$G(S),B=b&&x.jsx(zG,{className:_.startIcon,ownerState:S,children:b}),D=f&&x.jsx(WG,{className:_.endIcon,ownerState:S,children:f}),E=i||"";return x.jsxs(VG,T({ownerState:S,className:Se(n.className,_.root,u,E),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:Se(_.focusVisible,m),ref:r,type:v},C,{classes:_,children:[B,o,D]}))}),As=HG;function UG(t){return Ge("MuiCard",t)}je("MuiCard",["root"]);const GG=["className","raised"],jG=t=>{const{classes:e}=t;return He({root:["root"]},UG,e)},YG=Q(qc,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),XG=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,a=me(n,GG),o=T({},n,{raised:s}),l=jG(o);return x.jsx(YG,T({className:Se(l.root,i),elevation:s?8:void 0,ref:r,ownerState:o},a))}),qG=XG;function KG(t){return Ge("MuiCardContent",t)}je("MuiCardContent",["root"]);const QG=["className","component"],JG=t=>{const{classes:e}=t;return He({root:["root"]},KG,e)},ZG=Q("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ej=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,a=me(n,QG),o=T({},n,{component:s}),l=JG(o);return x.jsx(ZG,T({as:s,className:Se(l.root,i),ownerState:o,ref:r},a))}),$f=ej;function tj(t){return Ge("MuiCardHeader",t)}const rj=je("MuiCardHeader",["root","avatar","action","content","title","subheader"]),UP=rj,nj=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],ij=t=>{const{classes:e}=t;return He({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},tj,e)},sj=Q("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>T({[`& .${UP.title}`]:e.title,[`& .${UP.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),aj=Q("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),oj=Q("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),lj=Q("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),cj=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:a,component:o="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:h}=n,p=me(n,nj),f=T({},n,{component:o,disableTypography:l}),m=ij(f);let g=d;g!=null&&g.type!==hr&&!l&&(g=x.jsx(hr,T({variant:s?"body2":"h5",className:m.title,component:"span",display:"block"},h,{children:g})));let y=c;return y!=null&&y.type!==hr&&!l&&(y=x.jsx(hr,T({variant:s?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:y}))),x.jsxs(sj,T({className:Se(m.root,a),as:o,ref:r,ownerState:f},p,{children:[s&&x.jsx(aj,{className:m.avatar,ownerState:f,children:s}),x.jsxs(lj,{className:m.content,ownerState:f,children:[g,y]}),i&&x.jsx(oj,{className:m.action,ownerState:f,children:i})]}))}),uj=cj;function dj(t){return Ge("PrivateSwitchBase",t)}je("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const hj=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],fj=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${Ee(i)}`],input:["input"]};return He(s,dj,e)},pj=Q(js)(({ownerState:t})=>T({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),mj=Q("input",{shouldForwardProp:Jn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),gj=w.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:s,className:a,defaultChecked:o,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:p,inputRef:f,name:m,onBlur:g,onChange:y,onFocus:b,readOnly:v,required:k=!1,tabIndex:C,type:S,value:_}=e,B=me(e,hj),[D,E]=hs({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),R=Qi(),A=V=>{b&&b(V),R&&R.onFocus&&R.onFocus(V)},I=V=>{g&&g(V),R&&R.onBlur&&R.onBlur(V)},L=V=>{if(V.nativeEvent.defaultPrevented)return;const z=V.target.checked;E(z),y&&y(V,z)};let N=l;R&&typeof N>"u"&&(N=R.disabled);const F=S==="checkbox"||S==="radio",O=T({},e,{checked:D,disabled:N,disableFocusRipple:c,edge:u}),M=fj(O);return x.jsxs(pj,T({component:"span",className:Se(M.root,a),centerRipple:!0,focusRipple:!c,disabled:N,tabIndex:null,role:void 0,onFocus:A,onBlur:I,ownerState:O,ref:r},B,{children:[x.jsx(mj,T({autoFocus:n,checked:i,defaultChecked:o,className:M.input,disabled:N,id:F?h:void 0,name:m,onChange:L,readOnly:v,ref:f,required:k,ownerState:O,tabIndex:C,type:S},S==="checkbox"&&_===void 0?{}:{value:_},p)),D?s:d]}))}),RL=gj;function yj(t){return Ge("MuiCircularProgress",t)}je("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const bj=["className","color","disableShrink","size","style","thickness","value","variant"];let Sb=t=>t,GP,jP,YP,XP;const el=44,vj=Fd(GP||(GP=Sb`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),wj=Fd(jP||(jP=Sb`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),xj=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,s={root:["root",r,`color${Ee(n)}`],svg:["svg"],circle:["circle",`circle${Ee(r)}`,i&&"circleDisableShrink"]};return He(s,yj,e)},Sj=Q("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Ee(r.color)}`]]}})(({ownerState:t,theme:e})=>T({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&I0(YP||(YP=Sb`
      animation: ${0} 1.4s linear infinite;
    `),vj)),kj=Q("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Cj=Q("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Ee(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>T({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&I0(XP||(XP=Sb`
      animation: ${0} 1.4s ease-in-out infinite;
    `),wj)),Tj=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=n,h=me(n,bj),p=T({},n,{color:s,disableShrink:a,size:o,thickness:c,value:u,variant:d}),f=xj(p),m={},g={},y={};if(d==="determinate"){const b=2*Math.PI*((el-c)/2);m.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,g.transform="rotate(-90deg)"}return x.jsx(Sj,T({className:Se(f.root,i),style:T({width:o,height:o},g,l),ownerState:p,ref:r,role:"progressbar"},y,h,{children:x.jsx(kj,{className:f.svg,ownerState:p,viewBox:`${el/2} ${el/2} ${el} ${el}`,children:x.jsx(Cj,{className:f.circle,style:m,ownerState:p,cx:el,cy:el,r:(el-c)/2,fill:"none",strokeWidth:c})})}))}),_j=Tj;function Pj(t){return Ge("MuiModal",t)}je("MuiModal",["root","hidden","backdrop"]);const Bj=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Nj=t=>{const{open:e,exited:r,classes:n}=t;return He({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},Pj,n)},Mj=Q("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>T({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Ej=Q(ML,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Rj=w.forwardRef(function(e,r){var n,i,s,a,o,l;const c=Fe({name:"MuiModal",props:e}),{BackdropComponent:u=Ej,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:y={},componentsProps:b={},disableAutoFocus:v=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:C=!1,disablePortal:S=!1,disableRestoreFocus:_=!1,disableScrollLock:B=!1,hideBackdrop:D=!1,keepMounted:E=!1,onBackdropClick:R,open:A,slotProps:I,slots:L}=c,N=me(c,Bj),F=T({},c,{closeAfterTransition:p,disableAutoFocus:v,disableEnforceFocus:k,disableEscapeKeyDown:C,disablePortal:S,disableRestoreFocus:_,disableScrollLock:B,hideBackdrop:D,keepMounted:E}),{getRootProps:O,getBackdropProps:M,getTransitionProps:V,portalRef:z,isTopModal:K,exited:ie,hasTransition:se}=fU(T({},F,{rootRef:r})),te=T({},F,{exited:ie}),G=Nj(te),Z={};if(f.props.tabIndex===void 0&&(Z.tabIndex="-1"),se){const{onEnter:X,onExited:J}=V();Z.onEnter=X,Z.onExited=J}const he=(n=(i=L==null?void 0:L.root)!=null?i:y.Root)!=null?n:Mj,pe=(s=(a=L==null?void 0:L.backdrop)!=null?a:y.Backdrop)!=null?s:u,ne=(o=I==null?void 0:I.root)!=null?o:b.root,le=(l=I==null?void 0:I.backdrop)!=null?l:b.backdrop,oe=Bt({elementType:he,externalSlotProps:ne,externalForwardedProps:N,getSlotProps:O,additionalProps:{ref:r,as:g},ownerState:te,className:Se(h,ne==null?void 0:ne.className,G==null?void 0:G.root,!te.open&&te.exited&&(G==null?void 0:G.hidden))}),q=Bt({elementType:pe,externalSlotProps:le,additionalProps:d,getSlotProps:X=>M(T({},X,{onClick:J=>{R&&R(J),X!=null&&X.onClick&&X.onClick(J)}})),className:Se(le==null?void 0:le.className,d==null?void 0:d.className,G==null?void 0:G.backdrop),ownerState:te});return!E&&!A&&(!se||ie)?null:x.jsx(pL,{ref:z,container:m,disablePortal:S,children:x.jsxs(he,T({},oe,{children:[!D&&u?x.jsx(pe,T({},q)):null,x.jsx(fL,{disableEnforceFocus:k,disableAutoFocus:v,disableRestoreFocus:_,isEnabled:K,open:A,children:w.cloneElement(f,Z)})]}))})}),Ok=Rj;function Dj(t){return Ge("MuiDialog",t)}const Lj=je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),tf=Lj,Ij=w.createContext({}),DL=Ij,Fj=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Aj=Q(ML,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Oj=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${Ee(r)}`],paper:["paper",`paperScroll${Ee(r)}`,`paperWidth${Ee(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return He(a,Dj,e)},$j=Q(Ok,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Vj=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${Ee(r.scroll)}`]]}})(({ownerState:t})=>T({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),zj=Q(qc,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${Ee(r.scroll)}`],e[`paperWidth${Ee(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>T({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${tf.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${tf.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${tf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Wj=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialog"}),i=ws(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClose:y,open:b,PaperComponent:v=qc,PaperProps:k={},scroll:C="paper",TransitionComponent:S=Vd,transitionDuration:_=s,TransitionProps:B}=n,D=me(n,Fj),E=T({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:C}),R=Oj(E),A=w.useRef(),I=O=>{A.current=O.target===O.currentTarget},L=O=>{A.current&&(A.current=null,g&&g(O),y&&y(O,"backdropClick"))},N=Js(o),F=w.useMemo(()=>({titleId:N}),[N]);return x.jsx($j,T({className:Se(R.root,d),closeAfterTransition:!0,components:{Backdrop:Aj},componentsProps:{backdrop:T({transitionDuration:_,as:l},c)},disableEscapeKeyDown:h,onClose:y,open:b,ref:r,onClick:L,ownerState:E},D,{children:x.jsx(S,T({appear:!0,in:b,timeout:_,role:"presentation"},B,{children:x.jsx(Vj,{className:Se(R.container),onMouseDown:I,ownerState:E,children:x.jsx(zj,T({as:v,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":N},k,{className:Se(R.paper,k.className),ownerState:E,children:x.jsx(DL.Provider,{value:F,children:u})}))})}))}))}),Op=Wj;function Hj(t){return Ge("MuiDialogActions",t)}je("MuiDialogActions",["root","spacing"]);const Uj=["className","disableSpacing"],Gj=t=>{const{classes:e,disableSpacing:r}=t;return He({root:["root",!r&&"spacing"]},Hj,e)},jj=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>T({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Yj=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=n,a=me(n,Uj),o=T({},n,{disableSpacing:s}),l=Gj(o);return x.jsx(jj,T({className:Se(l.root,i),ownerState:o,ref:r},a))}),LL=Yj;function Xj(t){return Ge("MuiDialogContent",t)}je("MuiDialogContent",["root","dividers"]);function qj(t){return Ge("MuiDialogTitle",t)}const Kj=je("MuiDialogTitle",["root"]),Qj=Kj,Jj=["className","dividers"],Zj=t=>{const{classes:e,dividers:r}=t;return He({root:["root",r&&"dividers"]},Xj,e)},e9=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>T({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Qj.root} + &`]:{paddingTop:0}})),t9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=n,a=me(n,Jj),o=T({},n,{dividers:s}),l=Zj(o);return x.jsx(e9,T({className:Se(l.root,i),ownerState:o,ref:r},a))}),IL=t9,r9=["className","id"],n9=t=>{const{classes:e}=t;return He({root:["root"]},qj,e)},i9=Q(hr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),s9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=n,a=me(n,r9),o=n,l=n9(o),{titleId:c=s}=w.useContext(DL);return x.jsx(i9,T({component:"h2",className:Se(l.root,i),ownerState:o,ref:r,variant:"h6",id:s??c},a))}),FL=s9;function a9(t){return Ge("MuiDivider",t)}const qP=je("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),o9=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],l9=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=t;return He({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},a9,n)},c9=Q("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>T({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:tr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>T({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>T({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>T({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>T({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),u9=Q("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>T({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),AL=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,component:o=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=o!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=n,f=me(n,o9),m=T({},n,{absolute:i,component:o,flexItem:l,light:c,orientation:u,role:d,textAlign:h,variant:p}),g=l9(m);return x.jsx(c9,T({as:o,className:Se(g.root,a),role:d,ref:r,ownerState:m},f,{children:s?x.jsx(u9,{className:g.wrapper,ownerState:m,children:s}):null}))});AL.muiSkipListHighlight=!0;const KP=AL,d9=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function h9(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=Na(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const c=s.getComputedStyle(e);a=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const c=a.split("(")[1].split(")")[0].split(",");o=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+o-n.left}px)`:`translateX(${s.innerWidth+o-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:t==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function f9(t){return typeof t=="function"?t():t}function Em(t,e,r){const n=f9(r),i=h9(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const p9=w.forwardRef(function(e,r){const n=ws(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:f,onEntering:m,onExit:g,onExited:y,onExiting:b,style:v,timeout:k=s,TransitionComponent:C=pb}=e,S=me(e,d9),_=w.useRef(null),B=Yt(l.ref,_,r),D=M=>V=>{M&&(V===void 0?M(_.current):M(_.current,V))},E=D((M,V)=>{Em(u,M,c),Bk(M),p&&p(M,V)}),R=D((M,V)=>{const z=cd({timeout:k,style:v,easing:d},{mode:"enter"});M.style.webkitTransition=n.transitions.create("-webkit-transform",T({},z)),M.style.transition=n.transitions.create("transform",T({},z)),M.style.webkitTransform="none",M.style.transform="none",m&&m(M,V)}),A=D(f),I=D(b),L=D(M=>{const V=cd({timeout:k,style:v,easing:d},{mode:"exit"});M.style.webkitTransition=n.transitions.create("-webkit-transform",V),M.style.transition=n.transitions.create("transform",V),Em(u,M,c),g&&g(M)}),N=D(M=>{M.style.webkitTransition="",M.style.transition="",y&&y(M)}),F=M=>{a&&a(_.current,M)},O=w.useCallback(()=>{_.current&&Em(u,_.current,c)},[u,c]);return w.useEffect(()=>{if(h||u==="down"||u==="right")return;const M=Rp(()=>{_.current&&Em(u,_.current,c)}),V=Na(_.current);return V.addEventListener("resize",M),()=>{M.clear(),V.removeEventListener("resize",M)}},[u,h,c]),w.useEffect(()=>{h||O()},[h,O]),x.jsx(C,T({nodeRef:_,onEnter:E,onEntered:A,onEntering:R,onExit:L,onExited:N,onExiting:I,addEndListener:F,appear:o,in:h,timeout:k},S,{children:(M,V)=>w.cloneElement(l,T({ref:B,style:T({visibility:M==="exited"&&!h?"hidden":void 0},v,l.props.style)},V))}))}),m9=p9;function g9(t){return Ge("MuiDrawer",t)}je("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const y9=["BackdropProps"],b9=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],OL=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},v9=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ee(r)}`,n!=="temporary"&&`paperAnchorDocked${Ee(r)}`]};return He(i,g9,e)},w9=Q(Ok,{name:"MuiDrawer",slot:"Root",overridesResolver:OL})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),QP=Q("div",{shouldForwardProp:Jn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:OL})({flex:"0 0 auto"}),x9=Q(qc,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Ee(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Ee(r.anchor)}`]]}})(({theme:t,ownerState:e})=>T({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),$L={left:"right",right:"left",top:"down",bottom:"up"};function S9(t){return["left","right"].indexOf(t)!==-1}function k9({direction:t},e){return t==="rtl"&&S9(e)?$L[e]:e}const C9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDrawer"}),i=ws(),s=Un(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:f,open:m=!1,PaperProps:g={},SlideProps:y,TransitionComponent:b=m9,transitionDuration:v=a,variant:k="temporary"}=n,C=me(n.ModalProps,y9),S=me(n,b9),_=w.useRef(!1);w.useEffect(()=>{_.current=!0},[]);const B=k9({direction:s?"rtl":"ltr"},o),E=T({},n,{anchor:o,elevation:d,open:m,variant:k},S),R=v9(E),A=x.jsx(x9,T({elevation:k==="temporary"?d:0,square:!0},g,{className:Se(R.paper,g.className),ownerState:E,children:c}));if(k==="permanent")return x.jsx(QP,T({className:Se(R.root,R.docked,u),ownerState:E,ref:r},S,{children:A}));const I=x.jsx(b,T({in:m,direction:$L[B],timeout:v,appear:_.current},y,{children:A}));return k==="persistent"?x.jsx(QP,T({className:Se(R.root,R.docked,u),ownerState:E,ref:r},S,{children:I})):x.jsx(w9,T({BackdropProps:T({},l,p,{transitionDuration:v}),className:Se(R.root,R.modal,u),open:m,ownerState:E,onClose:f,hideBackdrop:h,ref:r},S,C,{children:I}))}),T9=C9;function _9(t){return Ge("MuiFab",t)}const P9=je("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),JP=P9,B9=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],N9=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${Ee(i)}`,e==="inherit"?"colorInherit":e]},a=He(s,_9,n);return T({},n,a)},M9=Q(js,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Jn(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${Ee(r.size)}`],r.color==="inherit"&&e.colorInherit,e[Ee(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return T({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${JP.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>T({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${JP.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),E9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFab"}),{children:i,className:s,color:a="default",component:o="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:h="circular"}=n,p=me(n,B9),f=T({},n,{color:a,component:o,disabled:l,disableFocusRipple:c,size:d,variant:h}),m=N9(f);return x.jsx(M9,T({className:Se(m.root,s),component:o,disabled:l,focusRipple:!c,focusVisibleClassName:Se(m.focusVisible,u),ownerState:f,ref:r},p,{classes:m,children:i}))}),R9=E9,D9=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],L9=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},gG,e);return T({},e,i)},I9=Q(wb,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...bb(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return T({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ql.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ql.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ql.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ql.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ql.disabled}, .${ql.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ql.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&T({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),F9=Q(xb,{name:"MuiFilledInput",slot:"Input",overridesResolver:vb})(({theme:t,ownerState:e})=>T({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),VL=w.forwardRef(function(e,r){var n,i,s,a;const o=Fe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=o,g=me(o,D9),y=T({},o,{fullWidth:u,inputComponent:d,multiline:h,type:m}),b=L9(o),v={root:{ownerState:y},input:{ownerState:y}},k=p??c?Bi(v,p??c):v,C=(n=(i=f.root)!=null?i:l.Root)!=null?n:I9,S=(s=(a=f.input)!=null?a:l.Input)!=null?s:F9;return x.jsx(Ak,T({slots:{root:C,input:S},componentsProps:k,fullWidth:u,inputComponent:d,multiline:h,ref:r,type:m},g,{classes:b}))});VL.muiName="Input";const zL=VL;function A9(t){return Ge("MuiFormControl",t)}je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const O9=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$9=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Ee(r)}`,n&&"fullWidth"]};return He(i,A9,e)},V9=Q("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,e[`margin${Ee(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>T({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),z9=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:o="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,y=me(n,O9),b=T({},n,{color:a,component:o,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),v=$9(b),[k,C]=w.useState(()=>{let I=!1;return i&&w.Children.forEach(i,L=>{if(!Cg(L,["Input","Select"]))return;const N=Cg(L,["Select"])?L.props.input:L;N&&sG(N.props)&&(I=!0)}),I}),[S,_]=w.useState(()=>{let I=!1;return i&&w.Children.forEach(i,L=>{Cg(L,["Input","Select"])&&(gy(L.props,!0)||gy(L.props.inputProps,!0))&&(I=!0)}),I}),[B,D]=w.useState(!1);l&&B&&D(!1);const E=u!==void 0&&!l?u:B;let R;const A=w.useMemo(()=>({adornedStart:k,setAdornedStart:C,color:a,disabled:l,error:c,filled:S,focused:E,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{D(!1)},onEmpty:()=>{_(!1)},onFilled:()=>{_(!0)},onFocus:()=>{D(!0)},registerEffect:R,required:f,variant:g}),[k,a,l,c,S,E,d,h,R,f,m,g]);return x.jsx(yb.Provider,{value:A,children:x.jsx(V9,T({as:o,ownerState:b,className:Se(v.root,s),ref:r},y,{children:i}))})}),WL=z9,W9=DW({createStyledComponent:Q("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Fe({props:t,name:"MuiStack"})}),H9=W9;function U9(t){return Ge("MuiFormControlLabel",t)}const G9=je("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Lh=G9,j9=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Y9=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:s}=t,a={root:["root",r&&"disabled",`labelPlacement${Ee(n)}`,i&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return He(a,U9,e)},X9=Q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Lh.label}`]:e.label},e.root,e[`labelPlacement${Ee(r.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>T({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Lh.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Lh.label}`]:{[`&.${Lh.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),q9=Q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Lh.error}`]:{color:(t.vars||t).palette.error.main}})),K9=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:o={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=s,m=me(s,j9),g=Qi(),y=(n=c??l.props.disabled)!=null?n:g==null?void 0:g.disabled,b=p??l.props.required,v={disabled:y,required:b};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof l.props[D]>"u"&&typeof s[D]<"u"&&(v[D]=s[D])});const k=Hl({props:s,muiFormControl:g,states:["error"]}),C=T({},s,{disabled:y,labelPlacement:h,required:b,error:k.error}),S=Y9(C),_=(i=f.typography)!=null?i:o.typography;let B=d;return B!=null&&B.type!==hr&&!u&&(B=x.jsx(hr,T({component:"span"},_,{className:Se(S.label,_==null?void 0:_.className),children:B}))),x.jsxs(X9,T({className:Se(S.root,a),ownerState:C,ref:r},m,{children:[w.cloneElement(l,v),b?x.jsxs(H9,{display:"block",children:[B,x.jsxs(q9,{ownerState:C,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}):B]}))}),oS=K9;function Q9(t){return Ge("MuiFormGroup",t)}je("MuiFormGroup",["root","row","error"]);const J9=["className","row"],Z9=t=>{const{classes:e,row:r,error:n}=t;return He({root:["root",r&&"row",n&&"error"]},Q9,e)},eY=Q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})(({ownerState:t})=>T({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),tY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=n,a=me(n,J9),o=Qi(),l=Hl({props:n,muiFormControl:o,states:["error"]}),c=T({},n,{row:s,error:l.error}),u=Z9(c);return x.jsx(eY,T({className:Se(u.root,i),ownerState:c,ref:r},a))}),HL=tY;function rY(t){return Ge("MuiFormHelperText",t)}const nY=je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),ZP=nY;var eB;const iY=["children","className","component","disabled","error","filled","focused","margin","required","variant"],sY=t=>{const{classes:e,contained:r,size:n,disabled:i,error:s,filled:a,focused:o,required:l}=t,c={root:["root",i&&"disabled",s&&"error",n&&`size${Ee(n)}`,r&&"contained",o&&"focused",a&&"filled",l&&"required"]};return He(c,rY,e)},aY=Q("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Ee(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ZP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ZP.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),oY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p"}=n,o=me(n,iY),l=Qi(),c=Hl({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=T({},n,{component:a,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=sY(u);return x.jsx(aY,T({as:a,ownerState:u,className:Se(d.root,s),ref:r},o,{children:i===" "?eB||(eB=x.jsx("span",{className:"notranslate",children:""})):i}))}),UL=oY;function lY(t){return Ge("MuiFormLabel",t)}const cY=je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),rf=cY,uY=["children","className","color","component","disabled","error","filled","focused","required"],dY=t=>{const{classes:e,color:r,focused:n,disabled:i,error:s,filled:a,required:o}=t,l={root:["root",`color${Ee(r)}`,i&&"disabled",s&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return He(l,lY,e)},hY=Q("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>T({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${rf.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${rf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rf.error}`]:{color:(t.vars||t).palette.error.main}})),fY=Q("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${rf.error}`]:{color:(t.vars||t).palette.error.main}})),pY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:a="label"}=n,o=me(n,uY),l=Qi(),c=Hl({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=T({},n,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=dY(u);return x.jsxs(hY,T({as:a,ownerState:u,className:Se(d.root,s),ref:r},o,{children:[i,c.required&&x.jsxs(fY,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),mY=pY,gY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function lS(t){return`scale(${t}, ${t**2})`}const yY={entering:{opacity:1,transform:lS(1)},entered:{opacity:1,transform:"none"}},Vv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),GL=w.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:a,in:o,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=pb}=e,y=me(e,gY),b=XD(),v=w.useRef(),k=ws(),C=w.useRef(null),S=Yt(C,s.ref,r),_=N=>F=>{if(N){const O=C.current;F===void 0?N(O):N(O,F)}},B=_(u),D=_((N,F)=>{Bk(N);const{duration:O,delay:M,easing:V}=cd({style:f,timeout:m,easing:a},{mode:"enter"});let z;m==="auto"?(z=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=z):z=O,N.style.transition=[k.transitions.create("opacity",{duration:z,delay:M}),k.transitions.create("transform",{duration:Vv?z:z*.666,delay:M,easing:V})].join(","),l&&l(N,F)}),E=_(c),R=_(p),A=_(N=>{const{duration:F,delay:O,easing:M}=cd({style:f,timeout:m,easing:a},{mode:"exit"});let V;m==="auto"?(V=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=V):V=F,N.style.transition=[k.transitions.create("opacity",{duration:V,delay:O}),k.transitions.create("transform",{duration:Vv?V:V*.666,delay:Vv?O:O||V*.333,easing:M})].join(","),N.style.opacity=0,N.style.transform=lS(.75),d&&d(N)}),I=_(h),L=N=>{m==="auto"&&b.start(v.current||0,N),n&&n(C.current,N)};return x.jsx(g,T({appear:i,in:o,nodeRef:C,onEnter:D,onEntered:E,onEntering:B,onExit:A,onExited:I,onExiting:R,addEndListener:L,timeout:m==="auto"?null:m},y,{children:(N,F)=>w.cloneElement(s,T({style:T({opacity:0,transform:lS(.75),visibility:N==="exited"&&!o?"hidden":void 0},yY[N],f,s.props.style),ref:S},F))}))});GL.muiSupportAuto=!0;const jL=GL,bY=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],vY=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},hG,e);return T({},e,i)},wY=Q(wb,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...bb(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),T({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${uh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${uh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${uh.disabled}, .${uh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${uh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),xY=Q(xb,{name:"MuiInput",slot:"Input",overridesResolver:vb})({}),YL=w.forwardRef(function(e,r){var n,i,s,a;const o=Fe({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:m={},type:g="text"}=o,y=me(o,bY),b=vY(o),k={root:{ownerState:{disableUnderline:l}}},C=f??u?Bi(f??u,k):k,S=(n=(i=m.root)!=null?i:c.Root)!=null?n:wY,_=(s=(a=m.input)!=null?a:c.Input)!=null?s:xY;return x.jsx(Ak,T({slots:{root:S,input:_},slotProps:C,fullWidth:d,inputComponent:h,multiline:p,ref:r,type:g},y,{classes:b}))});YL.muiName="Input";const $k=YL;function SY(t){return Ge("MuiInputAdornment",t)}const kY=je("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),tB=kY;var rB;const CY=["children","className","component","disablePointerEvents","disableTypography","position","variant"],TY=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ee(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},_Y=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:s,variant:a}=t,o={root:["root",r&&"disablePointerEvents",i&&`position${Ee(i)}`,a,n&&"hiddenLabel",s&&`size${Ee(s)}`]};return He(o,SY,e)},PY=Q("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:TY})(({theme:t,ownerState:e})=>T({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${tB.positionStart}&:not(.${tB.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),BY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:c,variant:u}=n,d=me(n,CY),h=Qi()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f=T({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:o,position:c,variant:p}),m=_Y(f);return x.jsx(yb.Provider,{value:null,children:x.jsx(PY,T({as:a,ownerState:f,className:Se(m.root,s),ref:r},d,{children:typeof i=="string"&&!l?x.jsx(hr,{color:"text.secondary",children:i}):x.jsxs(w.Fragment,{children:[c==="start"?rB||(rB=x.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),XL=BY;function NY(t){return Ge("MuiInputLabel",t)}je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const MY=["disableAnimation","margin","shrink","variant","className"],EY=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:s,variant:a,required:o}=t,l={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Ee(n)}`,a],asterisk:[o&&"asterisk"]},c=He(l,NY,e);return T({},e,c)},RY=Q(mY,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${rf.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>T({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&T({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&T({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&T({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),DY=w.forwardRef(function(e,r){const n=Fe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:a}=n,o=me(n,MY),l=Qi();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Hl({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),d=T({},n,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=EY(d);return x.jsx(RY,T({"data-shrink":c,ownerState:d,ref:r,className:Se(h.root,a)},o,{classes:h}))}),qL=DY,LY=w.createContext({}),Ca=LY;function IY(t){return Ge("MuiList",t)}je("MuiList",["root","padding","dense","subheader"]);const FY=["children","className","component","dense","disablePadding","subheader"],AY=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return He({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},IY,e)},OY=Q("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>T({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),$Y=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:c}=n,u=me(n,FY),d=w.useMemo(()=>({dense:o}),[o]),h=T({},n,{component:a,dense:o,disablePadding:l}),p=AY(h);return x.jsx(Ca.Provider,{value:d,children:x.jsxs(OY,T({as:a,className:Se(p.root,s),ref:r,ownerState:h},u,{children:[c,i]}))})}),$p=$Y;function VY(t){return Ge("MuiListItem",t)}const zY=je("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),wu=zY;function WY(t){return Ge("MuiListItemButton",t)}const HY=je("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),xu=HY,UY=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],GY=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},jY=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:s,divider:a,selected:o}=t,c=He({root:["root",n&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},WY,r);return T({},r,c)},YY=Q(js,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:GY})(({theme:t,ownerState:e})=>T({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${xu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${xu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${xu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),XY=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p}=n,f=me(n,UY),m=w.useContext(Ca),g=w.useMemo(()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c}),[i,m.dense,l,c]),y=w.useRef(null);zr(()=>{s&&y.current&&y.current.focus()},[s]);const b=T({},n,{alignItems:i,dense:g.dense,disableGutters:c,divider:u,selected:h}),v=jY(b),k=Yt(y,r);return x.jsx(Ca.Provider,{value:g,children:x.jsx(YY,T({ref:k,href:f.href||f.to,component:(f.href||f.to)&&a==="div"?"button":a,focusVisibleClassName:Se(v.focusVisible,d),ownerState:b,className:Se(v.root,p)},f,{classes:v,children:o}))})}),tl=XY;function qY(t){return Ge("MuiListItemSecondaryAction",t)}je("MuiListItemSecondaryAction",["root","disableGutters"]);const KY=["className"],QY=t=>{const{disableGutters:e,classes:r}=t;return He({root:["root",e&&"disableGutters"]},qY,r)},JY=Q("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>T({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),KL=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,s=me(n,KY),a=w.useContext(Ca),o=T({},n,{disableGutters:a.disableGutters}),l=QY(o);return x.jsx(JY,T({className:Se(l.root,i),ownerState:o,ref:r},s))});KL.muiName="ListItemSecondaryAction";const ZY=KL,eX=["className"],tX=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],rX=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},nX=t=>{const{alignItems:e,button:r,classes:n,dense:i,disabled:s,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:c,selected:u}=t;return He({root:["root",i&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",s&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},VY,n)},iX=Q("div",{name:"MuiListItem",slot:"Root",overridesResolver:rX})(({theme:t,ownerState:e})=>T({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&T({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${xu.root}`]:{paddingRight:48}},{[`&.${wu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${wu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${wu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),sX=Q("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),aX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:a=!1,children:o,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:y=!1,divider:b=!1,focusVisibleClassName:v,secondaryAction:k,selected:C=!1,slotProps:S={},slots:_={}}=n,B=me(n.ContainerProps,eX),D=me(n,tX),E=w.useContext(Ca),R=w.useMemo(()=>({dense:f||E.dense||!1,alignItems:i,disableGutters:g}),[i,E.dense,f,g]),A=w.useRef(null);zr(()=>{s&&A.current&&A.current.focus()},[s]);const I=w.Children.toArray(o),L=I.length&&Cg(I[I.length-1],["ListItemSecondaryAction"]),N=T({},n,{alignItems:i,autoFocus:s,button:a,dense:R.dense,disabled:m,disableGutters:g,disablePadding:y,divider:b,hasSecondaryAction:L,selected:C}),F=nX(N),O=Yt(A,r),M=_.root||u.Root||iX,V=S.root||d.root||{},z=T({className:Se(F.root,V.className,l),disabled:m},D);let K=c||"li";return a&&(z.component=c||"div",z.focusVisibleClassName=Se(wu.focusVisible,v),K=js),L?(K=!z.component&&!c?"div":K,h==="li"&&(K==="li"?K="div":z.component==="li"&&(z.component="div")),x.jsx(Ca.Provider,{value:R,children:x.jsxs(sX,T({as:h,className:Se(F.container,p),ref:O,ownerState:N},B,{children:[x.jsx(M,T({},V,!Ja(M)&&{as:K,ownerState:T({},N,V.ownerState)},z,{children:I})),I.pop()]}))})):x.jsx(Ca.Provider,{value:R,children:x.jsxs(M,T({},V,{as:K,ref:O},!Ja(M)&&{ownerState:T({},N,V.ownerState)},z,{children:[I,k&&x.jsx(ZY,{children:k})]}))})}),QL=aX;function oX(t){return Ge("MuiListItemIcon",t)}const nB=je("MuiListItemIcon",["root","alignItemsFlexStart"]),lX=["className"],cX=t=>{const{alignItems:e,classes:r}=t;return He({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},oX,r)},uX=Q("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>T({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),dX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemIcon"}),{className:i}=n,s=me(n,lX),a=w.useContext(Ca),o=T({},n,{alignItems:a.alignItems}),l=cX(o);return x.jsx(uX,T({className:Se(l.root,i),ownerState:o,ref:r},s))}),rl=dX;function hX(t){return Ge("MuiListItemText",t)}const fX=je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yy=fX,pX=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],mX=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:s}=t;return He({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},hX,e)},gX=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${yy.primary}`]:e.primary},{[`& .${yy.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>T({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),yX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=me(n,pX),{dense:p}=w.useContext(Ca);let f=l??i,m=u;const g=T({},n,{disableTypography:a,inset:o,primary:!!f,secondary:!!m,dense:p}),y=mX(g);return f!=null&&f.type!==hr&&!a&&(f=x.jsx(hr,T({variant:p?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:f}))),m!=null&&m.type!==hr&&!a&&(m=x.jsx(hr,T({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},d,{children:m}))),x.jsxs(gX,T({className:Se(y.root,s),ownerState:g,ref:r},h,{children:[f,m]}))}),nl=yX,bX=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function zv(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function iB(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function JL(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function dh(t,e,r,n,i,s){let a=!1,o=i(t,e,e?r:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!JL(o,s)||l)o=i(t,o,r);else return o.focus(),!0}return!1}const vX=w.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=me(e,bX),p=w.useRef(null),f=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zr(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(v,{direction:k})=>{const C=!p.current.style.width;if(v.clientHeight<p.current.clientHeight&&C){const S=`${qD(rn(v))}px`;p.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=S,p.current.style.width=`calc(100% + ${S})`}return p.current}}),[]);const m=v=>{const k=p.current,C=v.key,S=rn(k).activeElement;if(C==="ArrowDown")v.preventDefault(),dh(k,S,c,l,zv);else if(C==="ArrowUp")v.preventDefault(),dh(k,S,c,l,iB);else if(C==="Home")v.preventDefault(),dh(k,null,c,l,zv);else if(C==="End")v.preventDefault(),dh(k,null,c,l,iB);else if(C.length===1){const _=f.current,B=C.toLowerCase(),D=performance.now();_.keys.length>0&&(D-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&B!==_.keys[0]&&(_.repeating=!1)),_.lastTime=D,_.keys.push(B);const E=S&&!_.repeating&&JL(S,_);_.previousKeyMatched&&(E||dh(k,S,!1,l,zv,_))?v.preventDefault():_.previousKeyMatched=!1}u&&u(v)},g=Yt(p,r);let y=-1;w.Children.forEach(a,(v,k)=>{if(!w.isValidElement(v)){y===k&&(y+=1,y>=a.length&&(y=-1));return}v.props.disabled||(d==="selectedMenu"&&v.props.selected||y===-1)&&(y=k),y===k&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))});const b=w.Children.map(a,(v,k)=>{if(k===y){const C={};return s&&(C.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),w.cloneElement(v,C)}return v});return x.jsx($p,T({role:"menu",ref:g,className:o,onKeyDown:m,tabIndex:i?0:-1},h,{children:b}))}),Vk=vX;function wX(t){return Ge("MuiPopover",t)}je("MuiPopover",["root","paper"]);const xX=["onEntering"],SX=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],kX=["slotProps"];function sB(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function aB(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function oB(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Wv(t){return typeof t=="function"?t():t}const CX=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"]},wX,e)},TX=Q(Ok,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ZL=Q(qc,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_X=w.forwardRef(function(e,r){var n,i,s;const a=Fe({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:y,PaperProps:b={},slots:v,slotProps:k,transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:S=jL,transitionDuration:_="auto",TransitionProps:{onEntering:B}={},disableScrollLock:D=!1}=a,E=me(a.TransitionProps,xX),R=me(a,SX),A=(n=k==null?void 0:k.paper)!=null?n:b,I=w.useRef(),L=Yt(I,A.ref),N=T({},a,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:A,transformOrigin:C,TransitionComponent:S,transitionDuration:_,TransitionProps:E}),F=CX(N),O=w.useCallback(()=>{if(d==="anchorPosition")return u;const X=Wv(l),Y=(X&&X.nodeType===1?X:rn(I.current).body).getBoundingClientRect();return{top:Y.top+sB(Y,c.vertical),left:Y.left+aB(Y,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),M=w.useCallback(X=>({vertical:sB(X,C.vertical),horizontal:aB(X,C.horizontal)}),[C.horizontal,C.vertical]),V=w.useCallback(X=>{const J={width:X.offsetWidth,height:X.offsetHeight},Y=M(J);if(d==="none")return{top:null,left:null,transformOrigin:oB(Y)};const we=O();let fe=we.top-Y.vertical,$=we.left-Y.horizontal;const U=fe+J.height,j=$+J.width,ae=Na(Wv(l)),Be=ae.innerHeight-g,ke=ae.innerWidth-g;if(g!==null&&fe<g){const De=fe-g;fe-=De,Y.vertical+=De}else if(g!==null&&U>Be){const De=U-Be;fe-=De,Y.vertical+=De}if(g!==null&&$<g){const De=$-g;$-=De,Y.horizontal+=De}else if(j>ke){const De=j-ke;$-=De,Y.horizontal+=De}return{top:`${Math.round(fe)}px`,left:`${Math.round($)}px`,transformOrigin:oB(Y)}},[l,d,O,M,g]),[z,K]=w.useState(y),ie=w.useCallback(()=>{const X=I.current;if(!X)return;const J=V(X);J.top!==null&&(X.style.top=J.top),J.left!==null&&(X.style.left=J.left),X.style.transformOrigin=J.transformOrigin,K(!0)},[V]);w.useEffect(()=>(D&&window.addEventListener("scroll",ie),()=>window.removeEventListener("scroll",ie)),[l,D,ie]);const se=(X,J)=>{B&&B(X,J),ie()},te=()=>{K(!1)};w.useEffect(()=>{y&&ie()}),w.useImperativeHandle(o,()=>y?{updatePosition:()=>{ie()}}:null,[y,ie]),w.useEffect(()=>{if(!y)return;const X=Rp(()=>{ie()}),J=Na(l);return J.addEventListener("resize",X),()=>{X.clear(),J.removeEventListener("resize",X)}},[l,y,ie]);let G=_;_==="auto"&&!S.muiSupportAuto&&(G=void 0);const Z=f||(l?rn(Wv(l)).body:void 0),he=(i=v==null?void 0:v.root)!=null?i:TX,pe=(s=v==null?void 0:v.paper)!=null?s:ZL,ne=Bt({elementType:pe,externalSlotProps:T({},A,{style:z?A.style:T({},A.style,{opacity:0})}),additionalProps:{elevation:m,ref:L},ownerState:N,className:Se(F.paper,A==null?void 0:A.className)}),le=Bt({elementType:he,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:R,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Z,open:y},ownerState:N,className:Se(F.root,p)}),{slotProps:oe}=le,q=me(le,kX);return x.jsx(he,T({},q,!Ja(he)&&{slotProps:oe,disableScrollLock:D},{children:x.jsx(S,T({appear:!0,in:y,onEntering:se,onExited:te,timeout:G},E,{children:x.jsx(pe,T({},ne,{children:h}))}))}))}),PX=_X;function BX(t){return Ge("MuiMenu",t)}je("MuiMenu",["root","paper","list"]);const NX=["onEntering"],MX=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],EX={vertical:"top",horizontal:"right"},RX={vertical:"top",horizontal:"left"},DX=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"],list:["list"]},BX,e)},LX=Q(PX,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),IX=Q(ZL,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),FX=Q(Vk,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),AX=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:y="selectedMenu",slots:b={},slotProps:v={}}=s,k=me(s.TransitionProps,NX),C=me(s,MX),S=Un(),_=T({},s,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:k,variant:y}),B=DX(_),D=a&&!c&&h,E=w.useRef(null),R=(M,V)=>{E.current&&E.current.adjustStyleForScrollbar(M,{direction:S?"rtl":"ltr"}),g&&g(M,V)},A=M=>{M.key==="Tab"&&(M.preventDefault(),d&&d(M,"tabKeyDown"))};let I=-1;w.Children.map(o,(M,V)=>{w.isValidElement(M)&&(M.props.disabled||(y==="selectedMenu"&&M.props.selected||I===-1)&&(I=V))});const L=(n=b.paper)!=null?n:IX,N=(i=v.paper)!=null?i:p,F=Bt({elementType:b.root,externalSlotProps:v.root,ownerState:_,className:[B.root,l]}),O=Bt({elementType:L,externalSlotProps:N,ownerState:_,className:B.paper});return x.jsx(LX,T({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?EX:RX,slots:{paper:L,root:b.root},slotProps:{root:F,paper:O},open:h,ref:r,transitionDuration:m,TransitionProps:T({onEntering:R},k),ownerState:_},C,{classes:f,children:x.jsx(FX,T({onKeyDown:A,actions:E,autoFocus:a&&(I===-1||c),autoFocusItem:D,variant:y},u,{className:Se(B.list,u.className),children:o}))}))}),OX=AX;function $X(t){return Ge("MuiMenuItem",t)}const VX=je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),hh=VX,zX=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],WX=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},HX=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:s,classes:a}=t,l=He({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},$X,a);return T({},a,l)},UX=Q(js,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:WX})(({theme:t,ownerState:e})=>T({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${hh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${hh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${hh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${hh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${qP.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${qP.inset}`]:{marginLeft:52},[`& .${yy.root}`]:{marginTop:0,marginBottom:0},[`& .${yy.inset}`]:{paddingLeft:36},[`& .${nB.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&T({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${nB.root} svg`]:{fontSize:"1.25rem"}}))),GX=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=me(n,zX),f=w.useContext(Ca),m=w.useMemo(()=>({dense:a||f.dense||!1,disableGutters:l}),[f.dense,a,l]),g=w.useRef(null);zr(()=>{i&&g.current&&g.current.focus()},[i]);const y=T({},n,{dense:m.dense,divider:o,disableGutters:l}),b=HX(n),v=Yt(g,r);let k;return n.disabled||(k=d!==void 0?d:-1),x.jsx(Ca.Provider,{value:m,children:x.jsx(UX,T({ref:v,role:u,tabIndex:k,component:s,focusVisibleClassName:Se(b.focusVisible,c),className:Se(b.root,h)},p,{ownerState:y,classes:b}))})}),eI=GX;function jX(t){return Ge("MuiNativeSelect",t)}const YX=je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),zk=YX,XX=["className","disabled","error","IconComponent","inputRef","variant"],qX=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ee(r)}`,s&&"iconOpen",n&&"disabled"]};return He(o,jX,e)},tI=({ownerState:t,theme:e})=>T({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":T({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${zk.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),KX=Q("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Jn,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${zk.multiple}`]:e.multiple}]}})(tI),rI=({ownerState:t,theme:e})=>T({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${zk.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),QX=Q("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ee(r.variant)}`],r.open&&e.iconOpen]}})(rI),JX=w.forwardRef(function(e,r){const{className:n,disabled:i,error:s,IconComponent:a,inputRef:o,variant:l="standard"}=e,c=me(e,XX),u=T({},e,{disabled:i,variant:l,error:s}),d=qX(u);return x.jsxs(w.Fragment,{children:[x.jsx(KX,T({ownerState:u,className:Se(d.select,n),disabled:i,ref:o||r},c)),e.multiple?null:x.jsx(QX,{as:a,ownerState:u,className:d.icon})]})}),ZX=JX;var lB;const eq=["children","classes","className","label","notched"],tq=Q("fieldset",{shouldForwardProp:Jn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),rq=Q("legend",{shouldForwardProp:Jn})(({ownerState:t,theme:e})=>T({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&T({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function nq(t){const{className:e,label:r,notched:n}=t,i=me(t,eq),s=r!=null&&r!=="",a=T({},t,{notched:n,withLabel:s});return x.jsx(tq,T({"aria-hidden":!0,className:e,ownerState:a},i,{children:x.jsx(rq,{ownerState:a,children:s?x.jsx("span",{children:r}):lB||(lB=x.jsx("span",{className:"notranslate",children:""}))})}))}const iq=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],sq=t=>{const{classes:e}=t,n=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pG,e);return T({},e,n)},aq=Q(wb,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:bb})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return T({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Zo.focused} .${Zo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Zo.error} .${Zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Zo.disabled} .${Zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&T({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),oq=Q(nq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),lq=Q(xb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vb})(({theme:t,ownerState:e})=>T({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),nI=w.forwardRef(function(e,r){var n,i,s,a,o;const l=Fe({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,y=me(l,iq),b=sq(l),v=Qi(),k=Hl({props:l,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C=T({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:v,fullWidth:u,hiddenLabel:k.hiddenLabel,multiline:p,size:k.size,type:g}),S=(n=(i=m.root)!=null?i:c.Root)!=null?n:aq,_=(s=(a=m.input)!=null?a:c.Input)!=null?s:lq;return x.jsx(Ak,T({slots:{root:S,input:_},renderSuffix:B=>x.jsx(oq,{ownerState:C,className:b.notchedOutline,label:h!=null&&h!==""&&k.required?o||(o=x.jsxs(w.Fragment,{children:[h,"","*"]})):h,notched:typeof f<"u"?f:!!(B.startAdornment||B.filled||B.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:r,type:g},y,{classes:T({},b,{notchedOutline:null})}))});nI.muiName="Input";const iI=nI,cq=br(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),uq=br(x.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),dq=Q("span",{shouldForwardProp:Jn})({position:"relative",display:"flex"}),hq=Q(cq)({transform:"scale(1)"}),fq=Q(uq)(({theme:t,ownerState:e})=>T({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function sI(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i=T({},t,{checked:e});return x.jsxs(dq,{className:r.root,ownerState:i,children:[x.jsx(hq,{fontSize:n,className:r.background,ownerState:i}),x.jsx(fq,{fontSize:n,className:r.dot,ownerState:i})]})}const pq=w.createContext(void 0),aI=pq;function mq(){return w.useContext(aI)}function gq(t){return Ge("MuiRadio",t)}const yq=je("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),cB=yq,bq=["checked","checkedIcon","color","icon","name","onChange","size","className"],vq=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${Ee(r)}`,n!=="medium"&&`size${Ee(n)}`]};return T({},e,He(i,gq,e))},wq=Q(RL,{shouldForwardProp:t=>Jn(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${Ee(r.size)}`],e[`color${Ee(r.color)}`]]}})(({theme:t,ownerState:e})=>T({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${cB.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${cB.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function xq(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const uB=x.jsx(sI,{checked:!0}),dB=x.jsx(sI,{}),Sq=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:o=uB,color:l="primary",icon:c=dB,name:u,onChange:d,size:h="medium",className:p}=s,f=me(s,bq),m=T({},s,{color:l,size:h}),g=vq(m),y=mq();let b=a;const v=Kx(d,y&&y.onChange);let k=u;return y&&(typeof b>"u"&&(b=xq(y.value,s.value)),typeof k>"u"&&(k=y.name)),x.jsx(wq,T({type:"radio",icon:w.cloneElement(c,{fontSize:(n=dB.props.fontSize)!=null?n:h}),checkedIcon:w.cloneElement(o,{fontSize:(i=uB.props.fontSize)!=null?i:h}),ownerState:m,classes:g,name:k,checked:b,onChange:v,ref:r,className:Se(g.root,p)},f))}),hB=Sq,kq=["actions","children","defaultValue","name","onChange","value"],Cq=w.forwardRef(function(e,r){const{actions:n,children:i,defaultValue:s,name:a,onChange:o,value:l}=e,c=me(e,kq),u=w.useRef(null),[d,h]=hs({controlled:l,default:s,name:"RadioGroup"});w.useImperativeHandle(n,()=>({focus:()=>{let g=u.current.querySelector("input:not(:disabled):checked");g||(g=u.current.querySelector("input:not(:disabled)")),g&&g.focus()}}),[]);const p=Yt(r,u),f=Js(a),m=w.useMemo(()=>({name:f,onChange(g){h(g.target.value),o&&o(g,g.target.value)},value:d}),[f,o,h,d]);return x.jsx(aI.Provider,{value:m,children:x.jsx(HL,T({role:"radiogroup",ref:p},c,{children:i}))})}),fB=Cq,Tq=br(x.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),_q=br(x.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Pq(t){return Ge("MuiRating",t)}const Bq=je("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),fh=Bq,Nq=["value"],Mq=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Eq(t){const e=t.toString().split(".")[1];return e?e.length:0}function Hv(t,e){if(t==null)return t;const r=Math.round(t/e)*e;return Number(r.toFixed(Eq(e)))}const Rq=t=>{const{classes:e,size:r,readOnly:n,disabled:i,emptyValueFocused:s,focusVisible:a}=t,o={root:["root",`size${Ee(r)}`,i&&"disabled",a&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return He(o,Pq,e)},Dq=Q("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${fh.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ee(r.size)}`],r.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>T({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${fh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${fh.focusVisible} .${fh.iconActive}`]:{outline:"1px solid #999"},[`& .${fh.visuallyHidden}`]:yk},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),oI=Q("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>T({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Lq=Q("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.iconEmpty&&e.iconEmpty,r.iconFilled&&e.iconFilled,r.iconHover&&e.iconHover,r.iconFocus&&e.iconFocus,r.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>T({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),Iq=Q("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Lp(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:r}=t;return[e.decimal,r&&e.iconActive]}})(({iconActive:t})=>T({position:"relative"},t&&{transform:"scale(1.2)"}));function Fq(t){const e=me(t,Nq);return x.jsx("span",T({},e))}function pB(t){const{classes:e,disabled:r,emptyIcon:n,focus:i,getLabelText:s,highlightSelectedOnly:a,hover:o,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:h,name:p,onBlur:f,onChange:m,onClick:g,onFocus:y,readOnly:b,ownerState:v,ratingValue:k,ratingValueRounded:C}=t,S=a?d===k:d<=k,_=d<=o,B=d<=i,D=d===C,E=Js(),R=x.jsx(Lq,{as:c,value:d,className:Se(e.icon,S?e.iconFilled:e.iconEmpty,_&&e.iconHover,B&&e.iconFocus,u&&e.iconActive),ownerState:T({},v,{iconEmpty:!S,iconFilled:S,iconHover:_,iconFocus:B,iconActive:u}),children:n&&!S?n:l});return b?x.jsx("span",T({},h,{children:R})):x.jsxs(w.Fragment,{children:[x.jsxs(oI,T({ownerState:T({},v,{emptyValueFocused:void 0}),htmlFor:E},h,{children:[R,x.jsx("span",{className:e.visuallyHidden,children:s(d)})]})),x.jsx("input",{className:e.visuallyHidden,onFocus:y,onBlur:f,onChange:m,onClick:g,disabled:r,value:d,id:E,type:"radio",name:p,checked:D})]})}const Aq=x.jsx(Tq,{fontSize:"inherit"}),Oq=x.jsx(_q,{fontSize:"inherit"});function $q(t){return`${t} Star${t!==1?"s":""}`}const Vq=w.forwardRef(function(e,r){const n=Fe({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:a=!1,emptyIcon:o=Oq,emptyLabelText:l="Empty",getLabelText:c=$q,highlightSelectedOnly:u=!1,icon:d=Aq,IconContainerComponent:h=Fq,max:p=5,name:f,onChange:m,onChangeActive:g,onMouseLeave:y,onMouseMove:b,precision:v=1,readOnly:k=!1,size:C="medium",value:S}=n,_=me(n,Mq),B=Js(f),[D,E]=hs({controlled:S,default:s,name:"Rating"}),R=Hv(D,v),A=Un(),[{hover:I,focus:L},N]=w.useState({hover:-1,focus:-1});let F=R;I!==-1&&(F=I),L!==-1&&(F=L);const{isFocusVisibleRef:O,onBlur:M,onFocus:V,ref:z}=gk(),[K,ie]=w.useState(!1),se=w.useRef(),te=Yt(z,se,r),G=Y=>{b&&b(Y);const we=se.current,{right:fe,left:$,width:U}=we.getBoundingClientRect();let j;A?j=(fe-Y.clientX)/U:j=(Y.clientX-$)/U;let ae=Hv(p*j+v/2,v);ae=hl(ae,v,p),N(Be=>Be.hover===ae&&Be.focus===ae?Be:{hover:ae,focus:ae}),ie(!1),g&&I!==ae&&g(Y,ae)},Z=Y=>{y&&y(Y);const we=-1;N({hover:we,focus:we}),g&&I!==we&&g(Y,we)},he=Y=>{let we=Y.target.value===""?null:parseFloat(Y.target.value);I!==-1&&(we=I),E(we),m&&m(Y,we)},pe=Y=>{Y.clientX===0&&Y.clientY===0||(N({hover:-1,focus:-1}),E(null),m&&parseFloat(Y.target.value)===R&&m(Y,null))},ne=Y=>{V(Y),O.current===!0&&ie(!0);const we=parseFloat(Y.target.value);N(fe=>({hover:fe.hover,focus:we}))},le=Y=>{if(I!==-1)return;M(Y),O.current===!1&&ie(!1);const we=-1;N(fe=>({hover:fe.hover,focus:we}))},[oe,q]=w.useState(!1),X=T({},n,{defaultValue:s,disabled:a,emptyIcon:o,emptyLabelText:l,emptyValueFocused:oe,focusVisible:K,getLabelText:c,icon:d,IconContainerComponent:h,max:p,precision:v,readOnly:k,size:C}),J=Rq(X);return x.jsxs(Dq,T({ref:te,onMouseMove:G,onMouseLeave:Z,className:Se(J.root,i,k&&"MuiRating-readOnly"),ownerState:X,role:k?"img":null,"aria-label":k?c(F):null},_,{children:[Array.from(new Array(p)).map((Y,we)=>{const fe=we+1,$={classes:J,disabled:a,emptyIcon:o,focus:L,getLabelText:c,highlightSelectedOnly:u,hover:I,icon:d,IconContainerComponent:h,name:B,onBlur:le,onChange:he,onClick:pe,onFocus:ne,ratingValue:F,ratingValueRounded:R,readOnly:k,ownerState:X},U=fe===Math.ceil(F)&&(I!==-1||L!==-1);if(v<1){const j=Array.from(new Array(1/v));return x.jsx(Iq,{className:Se(J.decimal,U&&J.iconActive),ownerState:X,iconActive:U,children:j.map((ae,Be)=>{const ke=Hv(fe-1+(Be+1)*v,v);return x.jsx(pB,T({},$,{isActive:!1,itemValue:ke,labelProps:{style:j.length-1===Be?{}:{width:ke===F?`${(Be+1)*v*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ke)})},fe)}return x.jsx(pB,T({},$,{isActive:U,itemValue:fe}),fe)}),!k&&!a&&x.jsxs(oI,{className:Se(J.label,J.labelEmptyValue),ownerState:X,children:[x.jsx("input",{className:J.visuallyHidden,value:"",id:`${B}-empty`,type:"radio",name:B,checked:R==null,onFocus:()=>q(!0),onBlur:()=>q(!1),onChange:he}),x.jsx("span",{className:J.visuallyHidden,children:l})]})]}))}),zq=Vq;function Wq(t){return Ge("MuiSelect",t)}const ph=je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var mB;const Hq=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Uq=Q("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${ph.select}`]:e.select},{[`&.${ph.select}`]:e[r.variant]},{[`&.${ph.error}`]:e.error},{[`&.${ph.multiple}`]:e.multiple}]}})(tI,{[`&.${ph.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Gq=Q("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ee(r.variant)}`],r.open&&e.iconOpen]}})(rI),jq=Q("input",{shouldForwardProp:t=>Lp(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function gB(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Yq(t){return t==null||typeof t=="string"&&!t.trim()}const Xq=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ee(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return He(o,Wq,e)},qq=w.forwardRef(function(e,r){var n;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:y,MenuProps:b={},multiple:v,name:k,onBlur:C,onChange:S,onClose:_,onFocus:B,onOpen:D,open:E,readOnly:R,renderValue:A,SelectDisplayProps:I={},tabIndex:L,value:N,variant:F="standard"}=e,O=me(e,Hq),[M,V]=hs({controlled:N,default:d,name:"Select"}),[z,K]=hs({controlled:E,default:u,name:"Select"}),ie=w.useRef(null),se=w.useRef(null),[te,G]=w.useState(null),{current:Z}=w.useRef(E!=null),[he,pe]=w.useState(),ne=Yt(r,g),le=w.useCallback(Oe=>{se.current=Oe,Oe&&G(Oe)},[]),oe=te==null?void 0:te.parentNode;w.useImperativeHandle(ne,()=>({focus:()=>{se.current.focus()},node:ie.current,value:M}),[M]),w.useEffect(()=>{u&&z&&te&&!Z&&(pe(o?null:oe.clientWidth),se.current.focus())},[te,o]),w.useEffect(()=>{a&&se.current.focus()},[a]),w.useEffect(()=>{if(!y)return;const Oe=rn(se.current).getElementById(y);if(Oe){const _t=()=>{getSelection().isCollapsed&&se.current.focus()};return Oe.addEventListener("click",_t),()=>{Oe.removeEventListener("click",_t)}}},[y]);const q=(Oe,_t)=>{Oe?D&&D(_t):_&&_(_t),Z||(pe(o?null:oe.clientWidth),K(Oe))},X=Oe=>{Oe.button===0&&(Oe.preventDefault(),se.current.focus(),q(!0,Oe))},J=Oe=>{q(!1,Oe)},Y=w.Children.toArray(l),we=Oe=>{const _t=Y.find(Ie=>Ie.props.value===Oe.target.value);_t!==void 0&&(V(_t.props.value),S&&S(Oe,_t))},fe=Oe=>_t=>{let Ie;if(_t.currentTarget.hasAttribute("tabindex")){if(v){Ie=Array.isArray(M)?M.slice():[];const $e=M.indexOf(Oe.props.value);$e===-1?Ie.push(Oe.props.value):Ie.splice($e,1)}else Ie=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(_t),M!==Ie&&(V(Ie),S)){const $e=_t.nativeEvent||_t,Ct=new $e.constructor($e.type,$e);Object.defineProperty(Ct,"target",{writable:!0,value:{value:Ie,name:k}}),S(Ct,Oe)}v||q(!1,_t)}},$=Oe=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),q(!0,Oe))},U=te!==null&&z,j=Oe=>{!U&&C&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:M,name:k}}),C(Oe))};delete O["aria-invalid"];let ae,Be;const ke=[];let De=!1;(gy({value:M})||p)&&(A?ae=A(M):De=!0);const Je=Y.map(Oe=>{if(!w.isValidElement(Oe))return null;let _t;if(v){if(!Array.isArray(M))throw new Error(Io(2));_t=M.some(Ie=>gB(Ie,Oe.props.value)),_t&&De&&ke.push(Oe.props.children)}else _t=gB(M,Oe.props.value),_t&&De&&(Be=Oe.props.children);return w.cloneElement(Oe,{"aria-selected":_t?"true":"false",onClick:fe(Oe),onKeyUp:Ie=>{Ie.key===" "&&Ie.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Ie)},role:"option",selected:_t,value:void 0,"data-value":Oe.props.value})});De&&(v?ke.length===0?ae=null:ae=ke.reduce((Oe,_t,Ie)=>(Oe.push(_t),Ie<ke.length-1&&Oe.push(", "),Oe),[]):ae=Be);let dt=he;!o&&Z&&te&&(dt=oe.clientWidth);let Rt;typeof L<"u"?Rt=L:Rt=h?null:0;const _e=I.id||(k?`mui-component-select-${k}`:void 0),ye=T({},e,{variant:F,value:M,open:U,error:f}),Ze=Xq(ye),xt=T({},b.PaperProps,(n=b.slotProps)==null?void 0:n.paper),Nt=Js();return x.jsxs(w.Fragment,{children:[x.jsx(Uq,T({ref:le,tabIndex:Rt,role:"combobox","aria-controls":Nt,"aria-disabled":h?"true":void 0,"aria-expanded":U?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[y,_e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:$,onMouseDown:h||R?null:X,onBlur:j,onFocus:B},I,{ownerState:ye,className:Se(I.className,Ze.select,c),id:_e,children:Yq(ae)?mB||(mB=x.jsx("span",{className:"notranslate",children:""})):ae})),x.jsx(jq,T({"aria-invalid":f,value:Array.isArray(M)?M.join(","):M,name:k,ref:ie,"aria-hidden":!0,onChange:we,tabIndex:-1,disabled:h,className:Ze.nativeInput,autoFocus:a,ownerState:ye},O)),x.jsx(Gq,{as:m,className:Ze.icon,ownerState:ye}),x.jsx(OX,T({id:`menu-${k||""}`,anchorEl:oe,open:U,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:T({"aria-labelledby":y,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:Nt},b.MenuListProps),slotProps:T({},b.slotProps,{paper:T({},xt,{style:T({minWidth:dt},xt!=null?xt.style:null)})}),children:Je}))]})}),Kq=qq,Qq=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Jq=["root"],Zq=t=>{const{classes:e}=t;return e},Wk={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Jn(t)&&t!=="variant",slot:"Root"},eK=Q($k,Wk)(""),tK=Q(iI,Wk)(""),rK=Q(zL,Wk)(""),lI=w.forwardRef(function(e,r){const n=Fe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=bG,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:y=!1,native:b=!1,onClose:v,onOpen:k,open:C,renderValue:S,SelectDisplayProps:_,variant:B="outlined"}=n,D=me(n,Qq),E=b?ZX:Kq,R=Qi(),A=Hl({props:n,muiFormControl:R,states:["variant","error"]}),I=A.variant||B,L=T({},n,{variant:I,classes:a}),N=Zq(L),F=me(N,Jq),O=h||{standard:x.jsx(eK,{ownerState:L}),outlined:x.jsx(tK,{label:f,ownerState:L}),filled:x.jsx(rK,{ownerState:L})}[I],M=Yt(r,O.ref);return x.jsx(w.Fragment,{children:w.cloneElement(O,T({inputComponent:E,inputProps:T({children:s,error:A.error,IconComponent:u,variant:I,type:void 0,multiple:y},b?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:v,onOpen:k,open:C,renderValue:S,SelectDisplayProps:T({id:d},_)},p,{classes:p?Bi(F,p.classes):F},h?h.props.inputProps:{})},(y&&b||c)&&I==="outlined"?{notched:!0}:{},{ref:M,className:Se(O.props.className,o,N.root)},!h&&{variant:I},D))})});lI.muiName="Select";const nK=lI,iK=t=>!t||!Ja(t);function sK(t){return Ge("MuiSlider",t)}const aK=je("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Os=aK,oK=t=>{const{open:e}=t;return{offset:Se(e&&Os.valueLabelOpen),circle:Os.valueLabelCircle,label:Os.valueLabelLabel}};function lK(t){const{children:e,className:r,value:n}=t,i=oK(t);return e?w.cloneElement(e,{className:Se(e.props.className)},x.jsxs(w.Fragment,{children:[e.props.children,x.jsx("span",{className:Se(i.offset,r),"aria-hidden":!0,children:x.jsx("span",{className:i.circle,children:x.jsx("span",{className:i.label,children:n})})})]})):null}const cK=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],uK=cL();function yB(t){return t}const dK=Q("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${Ee(r.color)}`],r.size!=="medium"&&e[`size${Ee(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Os.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Os.dragging}`]:{[`& .${Os.thumb}, & .${Os.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),hK=Q("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),fK=Q("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:T({},t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:T({backgroundColor:dy(t.palette[r].main,.62),borderColor:dy(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:uy(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:uy(t.palette[r].main,.5)})))}))]}}),pK=Q("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${Ee(r.color)}`],r.size!=="medium"&&e[`thumbSize${Ee(r.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Os.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{[`&:hover, &.${Os.focusVisible}`]:T({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${tr(t.palette[r].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Os.active}`]:T({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${tr(t.palette[r].main,.16)}`})}})),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}}),mK=Q(lK,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>T({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Os.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Os.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),gK=Q("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Lp(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),yK=Q("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Lp(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>T({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),bK=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:s,classes:a,color:o,size:l}=t,c={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",o&&`color${Ee(o)}`,l&&`size${Ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ee(l)}`,o&&`thumbColor${Ee(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return He(c,sK,a)},vK=({children:t})=>t,wK=w.forwardRef(function(e,r){var n,i,s,a,o,l,c,u,d,h,p,f,m,g,y,b,v,k,C,S,_,B,D,E;const R=uK({props:e,name:"MuiSlider"}),A=Un(),{"aria-label":I,"aria-valuetext":L,"aria-labelledby":N,component:F="span",components:O={},componentsProps:M={},color:V="primary",classes:z,className:K,disableSwap:ie=!1,disabled:se=!1,getAriaLabel:te,getAriaValueText:G,marks:Z=!1,max:he=100,min:pe=0,orientation:ne="horizontal",shiftStep:le=10,size:oe="medium",step:q=1,scale:X=yB,slotProps:J,slots:Y,track:we="normal",valueLabelDisplay:fe="off",valueLabelFormat:$=yB}=R,U=me(R,cK),j=T({},R,{isRtl:A,max:he,min:pe,classes:z,disabled:se,disableSwap:ie,orientation:ne,marks:Z,color:V,size:oe,step:q,shiftStep:le,scale:X,track:we,valueLabelDisplay:fe,valueLabelFormat:$}),{axisProps:ae,getRootProps:Be,getHiddenInputProps:ke,getThumbProps:De,open:Je,active:dt,axis:Rt,focusedThumbIndex:_e,range:ye,dragging:Ze,marks:xt,values:Nt,trackOffset:Oe,trackLeap:_t,getThumbStyle:Ie}=I7(T({},j,{rootRef:r}));j.marked=xt.length>0&&xt.some(Tr=>Tr.label),j.dragging=Ze,j.focusedThumbIndex=_e;const $e=bK(j),Ct=(n=(i=Y==null?void 0:Y.root)!=null?i:O.Root)!=null?n:dK,ot=(s=(a=Y==null?void 0:Y.rail)!=null?a:O.Rail)!=null?s:hK,qt=(o=(l=Y==null?void 0:Y.track)!=null?l:O.Track)!=null?o:fK,Mr=(c=(u=Y==null?void 0:Y.thumb)!=null?u:O.Thumb)!=null?c:pK,Ir=(d=(h=Y==null?void 0:Y.valueLabel)!=null?h:O.ValueLabel)!=null?d:mK,ea=(p=(f=Y==null?void 0:Y.mark)!=null?f:O.Mark)!=null?p:gK,re=(m=(g=Y==null?void 0:Y.markLabel)!=null?g:O.MarkLabel)!=null?m:yK,ce=(y=(b=Y==null?void 0:Y.input)!=null?b:O.Input)!=null?y:"input",Me=(v=J==null?void 0:J.root)!=null?v:M.root,Ye=(k=J==null?void 0:J.rail)!=null?k:M.rail,st=(C=J==null?void 0:J.track)!=null?C:M.track,zt=(S=J==null?void 0:J.thumb)!=null?S:M.thumb,Pt=(_=J==null?void 0:J.valueLabel)!=null?_:M.valueLabel,Tt=(B=J==null?void 0:J.mark)!=null?B:M.mark,pt=(D=J==null?void 0:J.markLabel)!=null?D:M.markLabel,Kt=(E=J==null?void 0:J.input)!=null?E:M.input,Nn=Bt({elementType:Ct,getSlotProps:Be,externalSlotProps:Me,externalForwardedProps:U,additionalProps:T({},iK(Ct)&&{as:F}),ownerState:T({},j,Me==null?void 0:Me.ownerState),className:[$e.root,K]}),Wt=Bt({elementType:ot,externalSlotProps:Ye,ownerState:j,className:$e.rail}),vr=Bt({elementType:qt,externalSlotProps:st,additionalProps:{style:T({},ae[Rt].offset(Oe),ae[Rt].leap(_t))},ownerState:T({},j,st==null?void 0:st.ownerState),className:$e.track}),bn=Bt({elementType:Mr,getSlotProps:De,externalSlotProps:zt,ownerState:T({},j,zt==null?void 0:zt.ownerState),className:$e.thumb}),mi=Bt({elementType:Ir,externalSlotProps:Pt,ownerState:T({},j,Pt==null?void 0:Pt.ownerState),className:$e.valueLabel}),sn=Bt({elementType:ea,externalSlotProps:Tt,ownerState:j,className:$e.mark}),Ia=Bt({elementType:re,externalSlotProps:pt,ownerState:j,className:$e.markLabel}),Yd=Bt({elementType:ce,getSlotProps:ke,externalSlotProps:Kt,ownerState:j});return x.jsxs(Ct,T({},Nn,{children:[x.jsx(ot,T({},Wt)),x.jsx(qt,T({},vr)),xt.filter(Tr=>Tr.value>=pe&&Tr.value<=he).map((Tr,Er)=>{const ta=my(Tr.value,pe,he),Ko=ae[Rt].offset(ta);let gi;return we===!1?gi=Nt.indexOf(Tr.value)!==-1:gi=we==="normal"&&(ye?Tr.value>=Nt[0]&&Tr.value<=Nt[Nt.length-1]:Tr.value<=Nt[0])||we==="inverted"&&(ye?Tr.value<=Nt[0]||Tr.value>=Nt[Nt.length-1]:Tr.value>=Nt[0]),x.jsxs(w.Fragment,{children:[x.jsx(ea,T({"data-index":Er},sn,!Ja(ea)&&{markActive:gi},{style:T({},Ko,sn.style),className:Se(sn.className,gi&&$e.markActive)})),Tr.label!=null?x.jsx(re,T({"aria-hidden":!0,"data-index":Er},Ia,!Ja(re)&&{markLabelActive:gi},{style:T({},Ko,Ia.style),className:Se($e.markLabel,Ia.className,gi&&$e.markLabelActive),children:Tr.label})):null]},Er)}),Nt.map((Tr,Er)=>{const ta=my(Tr,pe,he),Ko=ae[Rt].offset(ta),gi=fe==="off"?vK:Ir;return x.jsx(gi,T({},!Ja(gi)&&{valueLabelFormat:$,valueLabelDisplay:fe,value:typeof $=="function"?$(X(Tr),Er):$,index:Er,open:Je===Er||dt===Er||fe==="on",disabled:se},mi,{children:x.jsx(Mr,T({"data-index":Er},bn,{className:Se($e.thumb,bn.className,dt===Er&&$e.active,_e===Er&&$e.focusVisible),style:T({},Ko,Ie(Er),bn.style),children:x.jsx(ce,T({"data-index":Er,"aria-label":te?te(Er):I,"aria-valuenow":X(Tr),"aria-labelledby":N,"aria-valuetext":G?G(X(Tr),Er):L,value:Nt[Er]},Yd))}))}),Er)})]}))}),nf=wK;function xK(t){return Ge("MuiSwitch",t)}const bi=je("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),SK=["className","color","edge","size","sx"],kK=cL(),CK=t=>{const{classes:e,edge:r,size:n,color:i,checked:s,disabled:a}=t,o={root:["root",r&&`edge${Ee(r)}`,`size${Ee(n)}`],switchBase:["switchBase",`color${Ee(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=He(o,xK,e);return T({},e,l)},TK=Q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${Ee(r.edge)}`],e[`size${Ee(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${bi.thumb}`]:{width:16,height:16},[`& .${bi.switchBase}`]:{padding:4,[`&.${bi.checked}`]:{transform:"translateX(16px)"}}}}]}),_K=Q(RL,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${bi.input}`]:e.input},r.color!=="default"&&e[`color${Ee(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${bi.checked}`]:{transform:"translateX(20px)"},[`&.${bi.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${bi.checked} + .${bi.track}`]:{opacity:.5},[`&.${bi.disabled} + .${bi.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${bi.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${bi.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tr(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bi.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?dy(t.palette[e].main,.62):uy(t.palette[e].main,.55)}`}},[`&.${bi.checked} + .${bi.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),PK=Q("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),BK=Q("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),NK=w.forwardRef(function(e,r){const n=kK({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:o="medium",sx:l}=n,c=me(n,SK),u=T({},n,{color:s,edge:a,size:o}),d=CK(u),h=x.jsx(BK,{className:d.thumb,ownerState:u});return x.jsxs(TK,{className:Se(d.root,i),sx:l,ownerState:u,children:[x.jsx(_K,T({type:"checkbox",icon:h,checkedIcon:h,ref:r,ownerState:u},c,{classes:T({},d,{root:d.switchBase})})),x.jsx(PK,{className:d.track,ownerState:u})]})}),MK=NK;function EK(t){return Ge("MuiTab",t)}const RK=je("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Kl=RK,DK=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],LK=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:s,label:a,selected:o,disabled:l}=t,c={root:["root",s&&a&&"labelIcon",`textColor${Ee(r)}`,n&&"fullWidth",i&&"wrapped",o&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return He(c,EK,e)},IK=Q(js,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${Ee(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>T({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Kl.iconWrapper}`]:T({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Kl.selected}`]:{opacity:1},[`&.${Kl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Kl.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Kl.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Kl.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Kl.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),FK=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:y="inherit",value:b,wrapped:v=!1}=n,k=me(n,DK),C=T({},n,{disabled:s,disableFocusRipple:a,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:o,textColor:y,wrapped:v}),S=LK(C),_=l&&d&&w.isValidElement(l)?w.cloneElement(l,{className:Se(S.iconWrapper,l.props.className)}):l,B=E=>{!m&&h&&h(E,b),p&&p(E)},D=E=>{g&&!m&&h&&h(E,b),f&&f(E)};return x.jsxs(IK,T({focusRipple:!a,className:Se(S.root,i),ref:r,role:"tab","aria-selected":m,disabled:s,onClick:B,onFocus:D,ownerState:C,tabIndex:m?0:-1},k,{children:[c==="top"||c==="start"?x.jsxs(w.Fragment,{children:[_,d]}):x.jsxs(w.Fragment,{children:[d,_]}),u]}))}),AK=FK;function OK(t){return Ge("MuiToolbar",t)}je("MuiToolbar",["root","gutters","regular","dense"]);const $K=["className","component","disableGutters","variant"],VK=t=>{const{classes:e,disableGutters:r,variant:n}=t;return He({root:["root",!r&&"gutters",n]},OK,e)},zK=Q("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>T({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),WK=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:o="regular"}=n,l=me(n,$K),c=T({},n,{component:s,disableGutters:a,variant:o}),u=VK(c);return x.jsx(zK,T({as:s,className:Se(u.root,i),ref:r,ownerState:c},l))}),HK=WK,UK=br(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),GK=br(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function jK(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function YK(t,e,r,n={},i=()=>{}){const{ease:s=jK,duration:a=300}=n;let o=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=h=>{if(c){i(new Error("Animation cancelled"));return}o===null&&(o=h);const p=Math.min(1,(h-o)/a);if(e[t]=s(p)*(r-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===r?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const XK=["onChange"],qK={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function KK(t){const{onChange:e}=t,r=me(t,XK),n=w.useRef(),i=w.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return zr(()=>{const a=Rp(()=>{const l=n.current;s(),l!==n.current&&e(n.current)}),o=Na(i.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),w.useEffect(()=>{s(),e(n.current)},[e]),x.jsx("div",T({style:qK,ref:i},r))}function QK(t){return Ge("MuiTabScrollButton",t)}const JK=je("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ZK=JK,eQ=["className","slots","slotProps","direction","orientation","disabled"],tQ=t=>{const{classes:e,orientation:r,disabled:n}=t;return He({root:["root",r,n&&"disabled"]},QK,e)},rQ=Q(js,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})(({ownerState:t})=>T({width:40,flexShrink:0,opacity:.8,[`&.${ZK.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),nQ=w.forwardRef(function(e,r){var n,i;const s=Fe({props:e,name:"MuiTabScrollButton"}),{className:a,slots:o={},slotProps:l={},direction:c}=s,u=me(s,eQ),d=Un(),h=T({isRtl:d},s),p=tQ(h),f=(n=o.StartScrollButtonIcon)!=null?n:UK,m=(i=o.EndScrollButtonIcon)!=null?i:GK,g=Bt({elementType:f,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=Bt({elementType:m,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return x.jsx(rQ,T({component:"div",className:Se(p.root,a),ref:r,role:null,ownerState:h,tabIndex:null},u,{children:c==="left"?x.jsx(f,T({},g)):x.jsx(m,T({},y))}))}),iQ=nQ;function sQ(t){return Ge("MuiTabs",t)}const aQ=je("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Uv=aQ,oQ=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],bB=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,vB=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Rm=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(t,i);else{i.focus();return}}},lQ=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=t;return He({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},sQ,l)},cQ=Q("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Uv.scrollButtons}`]:e.scrollButtons},{[`& .${Uv.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>T({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${Uv.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),uQ=Q("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})(({ownerState:t})=>T({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),dQ=Q("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})(({ownerState:t})=>T({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),hQ=Q("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>T({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),fQ=Q(KK)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),wB={},pQ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTabs"}),i=ws(),s=Un(),{"aria-label":a,"aria-labelledby":o,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:y=iQ,scrollButtons:b="auto",selectionFollowsFocus:v,slots:k={},slotProps:C={},TabIndicatorProps:S={},TabScrollButtonProps:_={},textColor:B="primary",value:D,variant:E="standard",visibleScrollbar:R=!1}=n,A=me(n,oQ),I=E==="scrollable",L=g==="vertical",N=L?"scrollTop":"scrollLeft",F=L?"top":"left",O=L?"bottom":"right",M=L?"clientHeight":"clientWidth",V=L?"height":"width",z=T({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:L,scrollButtons:b,textColor:B,variant:E,visibleScrollbar:R,fixed:!I,hideScrollbar:I&&!R,scrollableX:I&&!L,scrollableY:I&&L,centered:c&&!I,scrollButtonsHideMobile:!p}),K=lQ(z),ie=Bt({elementType:k.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:z}),se=Bt({elementType:k.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:z}),[te,G]=w.useState(!1),[Z,he]=w.useState(wB),[pe,ne]=w.useState(!1),[le,oe]=w.useState(!1),[q,X]=w.useState(!1),[J,Y]=w.useState({overflow:"hidden",scrollbarWidth:0}),we=new Map,fe=w.useRef(null),$=w.useRef(null),U=()=>{const Ie=fe.current;let $e;if(Ie){const ot=Ie.getBoundingClientRect();$e={clientWidth:Ie.clientWidth,scrollLeft:Ie.scrollLeft,scrollTop:Ie.scrollTop,scrollLeftNormalized:kW(Ie,s?"rtl":"ltr"),scrollWidth:Ie.scrollWidth,top:ot.top,bottom:ot.bottom,left:ot.left,right:ot.right}}let Ct;if(Ie&&D!==!1){const ot=$.current.children;if(ot.length>0){const qt=ot[we.get(D)];Ct=qt?qt.getBoundingClientRect():null}}return{tabsMeta:$e,tabMeta:Ct}},j=Ke(()=>{const{tabsMeta:Ie,tabMeta:$e}=U();let Ct=0,ot;if(L)ot="top",$e&&Ie&&(Ct=$e.top-Ie.top+Ie.scrollTop);else if(ot=s?"right":"left",$e&&Ie){const Mr=s?Ie.scrollLeftNormalized+Ie.clientWidth-Ie.scrollWidth:Ie.scrollLeft;Ct=(s?-1:1)*($e[ot]-Ie[ot]+Mr)}const qt={[ot]:Ct,[V]:$e?$e[V]:0};if(isNaN(Z[ot])||isNaN(Z[V]))he(qt);else{const Mr=Math.abs(Z[ot]-qt[ot]),Ir=Math.abs(Z[V]-qt[V]);(Mr>=1||Ir>=1)&&he(qt)}}),ae=(Ie,{animation:$e=!0}={})=>{$e?YK(N,fe.current,Ie,{duration:i.transitions.duration.standard}):fe.current[N]=Ie},Be=Ie=>{let $e=fe.current[N];L?$e+=Ie:($e+=Ie*(s?-1:1),$e*=s&&KD()==="reverse"?-1:1),ae($e)},ke=()=>{const Ie=fe.current[M];let $e=0;const Ct=Array.from($.current.children);for(let ot=0;ot<Ct.length;ot+=1){const qt=Ct[ot];if($e+qt[M]>Ie){ot===0&&($e=Ie);break}$e+=qt[M]}return $e},De=()=>{Be(-1*ke())},Je=()=>{Be(ke())},dt=w.useCallback(Ie=>{Y({overflow:null,scrollbarWidth:Ie})},[]),Rt=()=>{const Ie={};Ie.scrollbarSizeListener=I?x.jsx(fQ,{onChange:dt,className:Se(K.scrollableX,K.hideScrollbar)}):null;const Ct=I&&(b==="auto"&&(pe||le)||b===!0);return Ie.scrollButtonStart=Ct?x.jsx(y,T({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ie},orientation:g,direction:s?"right":"left",onClick:De,disabled:!pe},_,{className:Se(K.scrollButtons,_.className)})):null,Ie.scrollButtonEnd=Ct?x.jsx(y,T({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:se},orientation:g,direction:s?"left":"right",onClick:Je,disabled:!le},_,{className:Se(K.scrollButtons,_.className)})):null,Ie},_e=Ke(Ie=>{const{tabsMeta:$e,tabMeta:Ct}=U();if(!(!Ct||!$e)){if(Ct[F]<$e[F]){const ot=$e[N]+(Ct[F]-$e[F]);ae(ot,{animation:Ie})}else if(Ct[O]>$e[O]){const ot=$e[N]+(Ct[O]-$e[O]);ae(ot,{animation:Ie})}}}),ye=Ke(()=>{I&&b!==!1&&X(!q)});w.useEffect(()=>{const Ie=Rp(()=>{fe.current&&j()});let $e;const Ct=Mr=>{Mr.forEach(Ir=>{Ir.removedNodes.forEach(ea=>{var re;(re=$e)==null||re.unobserve(ea)}),Ir.addedNodes.forEach(ea=>{var re;(re=$e)==null||re.observe(ea)})}),Ie(),ye()},ot=Na(fe.current);ot.addEventListener("resize",Ie);let qt;return typeof ResizeObserver<"u"&&($e=new ResizeObserver(Ie),Array.from($.current.children).forEach(Mr=>{$e.observe(Mr)})),typeof MutationObserver<"u"&&(qt=new MutationObserver(Ct),qt.observe($.current,{childList:!0})),()=>{var Mr,Ir;Ie.clear(),ot.removeEventListener("resize",Ie),(Mr=qt)==null||Mr.disconnect(),(Ir=$e)==null||Ir.disconnect()}},[j,ye]),w.useEffect(()=>{const Ie=Array.from($.current.children),$e=Ie.length;if(typeof IntersectionObserver<"u"&&$e>0&&I&&b!==!1){const Ct=Ie[0],ot=Ie[$e-1],qt={root:fe.current,threshold:.99},Mr=ce=>{ne(!ce[0].isIntersecting)},Ir=new IntersectionObserver(Mr,qt);Ir.observe(Ct);const ea=ce=>{oe(!ce[0].isIntersecting)},re=new IntersectionObserver(ea,qt);return re.observe(ot),()=>{Ir.disconnect(),re.disconnect()}}},[I,b,q,u==null?void 0:u.length]),w.useEffect(()=>{G(!0)},[]),w.useEffect(()=>{j()}),w.useEffect(()=>{_e(wB!==Z)},[_e,Z]),w.useImperativeHandle(l,()=>({updateIndicator:j,updateScrollButtons:ye}),[j,ye]);const Ze=x.jsx(hQ,T({},S,{className:Se(K.indicator,S.className),ownerState:z,style:T({},Z,S.style)}));let xt=0;const Nt=w.Children.map(u,Ie=>{if(!w.isValidElement(Ie))return null;const $e=Ie.props.value===void 0?xt:Ie.props.value;we.set($e,xt);const Ct=$e===D;return xt+=1,w.cloneElement(Ie,T({fullWidth:E==="fullWidth",indicator:Ct&&!te&&Ze,selected:Ct,selectionFollowsFocus:v,onChange:m,textColor:B,value:$e},xt===1&&D===!1&&!Ie.props.tabIndex?{tabIndex:0}:{}))}),Oe=Ie=>{const $e=$.current,Ct=rn($e).activeElement;if(Ct.getAttribute("role")!=="tab")return;let qt=g==="horizontal"?"ArrowLeft":"ArrowUp",Mr=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&s&&(qt="ArrowRight",Mr="ArrowLeft"),Ie.key){case qt:Ie.preventDefault(),Rm($e,Ct,vB);break;case Mr:Ie.preventDefault(),Rm($e,Ct,bB);break;case"Home":Ie.preventDefault(),Rm($e,null,bB);break;case"End":Ie.preventDefault(),Rm($e,null,vB);break}},_t=Rt();return x.jsxs(cQ,T({className:Se(K.root,d),ownerState:z,ref:r,as:h},A,{children:[_t.scrollButtonStart,_t.scrollbarSizeListener,x.jsxs(uQ,{className:K.scroller,ownerState:z,style:{overflow:J.overflow,[L?`margin${s?"Left":"Right"}`:"marginBottom"]:R?void 0:-J.scrollbarWidth},ref:fe,children:[x.jsx(dQ,{"aria-label":a,"aria-labelledby":o,"aria-orientation":g==="vertical"?"vertical":null,className:K.flexContainer,ownerState:z,onKeyDown:Oe,ref:$,role:"tablist",children:Nt}),te&&Ze]}),_t.scrollButtonEnd]}))}),mQ=pQ;function gQ(t){return Ge("MuiTextField",t)}je("MuiTextField",["root"]);const yQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bQ={standard:$k,filled:zL,outlined:iI},vQ=t=>{const{classes:e}=t;return He({root:["root"]},gQ,e)},wQ=Q(WL,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xQ=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:m,InputLabelProps:g,inputProps:y,InputProps:b,inputRef:v,label:k,maxRows:C,minRows:S,multiline:_=!1,name:B,onBlur:D,onChange:E,onFocus:R,placeholder:A,required:I=!1,rows:L,select:N=!1,SelectProps:F,type:O,value:M,variant:V="outlined"}=n,z=me(n,yQ),K=T({},n,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:_,required:I,select:N,variant:V}),ie=vQ(K),se={};V==="outlined"&&(g&&typeof g.shrink<"u"&&(se.notched=g.shrink),se.label=k),N&&((!F||!F.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const te=Js(m),G=f&&te?`${te}-helper-text`:void 0,Z=k&&te?`${te}-label`:void 0,he=bQ[V],pe=x.jsx(he,T({"aria-describedby":G,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:_,name:B,rows:L,maxRows:C,minRows:S,type:O,value:M,id:te,inputRef:v,onBlur:D,onChange:E,onFocus:R,placeholder:A,inputProps:y},se,b));return x.jsxs(wQ,T({className:Se(ie.root,o),disabled:u,error:d,fullWidth:p,ref:r,required:I,color:l,variant:V,ownerState:K},z,{children:[k!=null&&k!==""&&x.jsx(qL,T({htmlFor:te,id:Z},g,{children:k})),N?x.jsx(nK,T({"aria-describedby":G,id:te,labelId:Z,value:M,input:pe},F,{children:a})):pe,f&&x.jsx(UL,T({id:G},h,{children:f}))]}))}),by=xQ,Hk=br(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),SQ=br(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),kQ=br(x.jsx("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist"),Uk=br(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),cI=br(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),uI=br(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),CQ=br(x.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),TQ=br(x.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),xB=br(x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),_Q=br(x.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),PQ=br([x.jsx("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),x.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"MusicNoteTwoTone"),BQ=br(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers"),NQ=br(x.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove");function Ul(t){const[e,r]=w.useState(!1);return x.jsxs(x.Fragment,{children:[x.jsx(X8,{position:"static",title:"Siuuu",children:x.jsxs(HK,{sx:{display:"flex"},children:[x.jsx(oi,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:()=>{r(!0)},children:x.jsx(TQ,{})}),x.jsx(hr,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title})]})}),x.jsx("div",{style:{flex:1,display:"flex",overflow:"auto"},children:t.children}),x.jsx(T9,{open:e,onClose:()=>{r(!1)},children:x.jsxs($p,{children:[x.jsxs(tl,{component:Jo,to:"/",children:[x.jsx(rl,{children:x.jsx(CQ,{})}),x.jsx(nl,{children:"Home"})]}),x.jsxs(tl,{component:Jo,to:"/todo",children:[x.jsx(rl,{children:x.jsx(kQ,{})}),x.jsx(nl,{children:"Todo"})]}),x.jsxs(tl,{component:Jo,to:"/counter",children:[x.jsx(rl,{children:x.jsx(BQ,{})}),x.jsx(nl,{children:"Counter"})]}),x.jsxs(tl,{component:Jo,to:"/rating",children:[x.jsx(rl,{children:x.jsx(xB,{})}),x.jsx(nl,{children:"Rating"})]}),x.jsxs(tl,{component:Jo,to:"/shifts",children:[x.jsx(rl,{children:x.jsx(xB,{})}),x.jsx(nl,{children:"Shifts"})]}),x.jsxs(tl,{component:Jo,to:"/music",children:[x.jsx(rl,{children:x.jsx(_Q,{})}),x.jsx(nl,{children:"Chord Generator"})]}),x.jsxs(tl,{component:Jo,to:"/progression",children:[x.jsx(rl,{children:x.jsx(PQ,{})}),x.jsx(nl,{children:"Progression"})]}),x.jsxs(tl,{component:Jo,to:"/math",children:[x.jsx(rl,{children:x.jsx(SQ,{})}),x.jsx(nl,{children:"Math"})]})]})})]})}function MQ(){w.useEffect(()=>{setTimeout(()=>{console.log("This text will be displayed after 2 seconds."),e(!0)},500)},[]);const[t,e]=w.useState(!1);return x.jsx(Ul,{title:"Home",children:x.jsx(EG,{justifyContent:"center",alignContent:"center",children:t?"This is the content test":x.jsx("div",{style:{width:700,margin:"auto"},children:x.jsx(_j,{size:700,color:"secondary"})})})})}function EQ({todos:t,onChange:e}){const[r,n]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(-1),[l,c]=w.useState(""),u=d=>{};return x.jsxs(x.Fragment,{children:[x.jsxs($f,{children:[x.jsxs(hr,{color:"primary",children:["You have ",t.length," item",t.length<1||t.length>1?"s":""]}),x.jsx($p,{children:t.map((d,h)=>x.jsx(QL,{secondaryAction:x.jsxs(x.Fragment,{children:[x.jsx(oi,{edge:"end","aria-label":"edit",onClick:()=>{o(h),c(t[h])},children:x.jsx(uI,{})}),x.jsx(oi,{edge:"end","aria-label":"delete",onClick:()=>{e(t.filter((p,f)=>f!==h))},children:x.jsx(cI,{})})]}),children:d},h))}),x.jsx(by,{error:i,id:"outlined",value:r,label:"New item",onChange:d=>n(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(console.log("dialog"),r.length>0?(s(!1),e([...t,r]),n("")):s(!0))}})]}),x.jsx(Op,{open:a>=0,onClose:()=>o(-1),disableRestoreFocus:!0,children:x.jsx(by,{inputRef:u,autoFocus:!0,error:i,id:"outlined",value:l,onChange:d=>c(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),l.length>0?(s(!1),e(t.map((h,p)=>a===p?l:h)),console.log("setting index"),o(-1)):s(!0))}})})]})}function RQ(){const[t,e]=w.useState([[]]),[r,n]=w.useState(0),[i,s]=w.useState(["List 1"]);function a(l){const c=[...t];c[r]=l,e(c)}function o(l,c){n(c)}return x.jsxs(Ul,{title:"Todo",children:[x.jsxs("div",{style:{display:"flex"},children:[x.jsx(mQ,{value:r,onChange:o,variant:"scrollable",children:t.map((l,c)=>x.jsx(AK,{style:{textTransform:"none"},label:c==r?x.jsxs("div",{children:[x.jsx($k,{inputProps:{maxLength:15},style:{width:120,textAlign:"center"},onChange:u=>{const d=i;return d[c]=u.target.value,s(d)},disableUnderline:!0,size:"small",defaultValue:i[c]}),t.length>1&&x.jsx(oi,{onClick:()=>{e([...t].filter((u,d)=>d!==c)),r>0&&n(r-1),s([...i].filter((u,d)=>d!==c))},children:x.jsx(Uk,{})})]}):i[c]},c))}),x.jsx(oi,{onClick:()=>{e([...t,[]]),n(t.length),s([...i,`List ${t.length+1}`])},children:x.jsx(Hk,{})})]}),x.jsx(EQ,{todos:t[r],onChange:l=>a(l)})]})}var dI={exports:{}},hI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=w;function DQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LQ=typeof Object.is=="function"?Object.is:DQ,IQ=Vp.useSyncExternalStore,FQ=Vp.useRef,AQ=Vp.useEffect,OQ=Vp.useMemo,$Q=Vp.useDebugValue;hI.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=FQ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=OQ(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&a.hasValue){var f=a.value;if(i(f,p))return d=f}return d=p}if(f=d,LQ(u,p))return f;var m=n(p);return i!==void 0&&i(f,m)?f:(u=p,d=m)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=IQ(t,s[0],s[1]);return AQ(function(){a.hasValue=!0,a.value=o},[o]),$Q(o),o};dI.exports=hI;var VQ=dI.exports,os="default"in Nc?Ut:Nc,SB=Symbol.for("react-redux-context"),kB=typeof globalThis<"u"?globalThis:{};function zQ(){if(!os.createContext)return{};const t=kB[SB]??(kB[SB]=new Map);let e=t.get(os.createContext);return e||(e=os.createContext(null),t.set(os.createContext,e)),e}var Dl=zQ(),WQ=()=>{throw new Error("uSES not initialized!")};function Gk(t=Dl){return function(){return os.useContext(t)}}var fI=Gk(),pI=WQ,HQ=t=>{pI=t},UQ=(t,e)=>t===e;function GQ(t=Dl){const e=t===Dl?fI:Gk(t),r=(n,i={})=>{const{equalityFn:s=UQ,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();os.useRef(!0);const h=os.useCallback({[n.name](f){return n(f)}}[n.name],[n,u,a.stabilityCheck]),p=pI(l.addNestedSub,o.getState,c||o.getState,h,s);return os.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var jQ=GQ();function YQ(t){t()}function XQ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){YQ(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var CB={notify(){},get:()=>[]};function qQ(t,e){let r,n=CB,i=0,s=!1;function a(m){u();const g=n.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function o(){n.notify()}function l(){f.onStateChange&&f.onStateChange()}function c(){return s}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=XQ())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=CB)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const f={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return f}var KQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QQ=KQ?os.useLayoutEffect:os.useEffect;function JQ({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=os.useMemo(()=>{const c=qQ(t);return{store:t,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),o=os.useMemo(()=>t.getState(),[t]);QQ(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=e||Dl;return os.createElement(l.Provider,{value:a},r)}var ZQ=JQ;function mI(t=Dl){const e=t===Dl?fI:Gk(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var eJ=mI();function tJ(t=Dl){const e=t===Dl?eJ:mI(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var rJ=tJ();HQ(VQ.useSyncExternalStoreWithSelector);const nJ=rJ.withTypes(),iJ=jQ.withTypes();function ei(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",TB=sJ,Gv=()=>Math.random().toString(36).substring(7).split("").join("."),aJ={INIT:`@@redux/INIT${Gv()}`,REPLACE:`@@redux/REPLACE${Gv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gv()}`},vy=aJ;function jk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gI(t,e,r){if(typeof t!="function")throw new Error(ei(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ei(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ei(1));return r(gI)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((g,y)=>{a.set(y,g)}))}function u(){if(l)throw new Error(ei(3));return i}function d(g){if(typeof g!="function")throw new Error(ei(4));if(l)throw new Error(ei(5));let y=!0;c();const b=o++;return a.set(b,g),function(){if(y){if(l)throw new Error(ei(6));y=!1,c(),a.delete(b),s=null}}}function h(g){if(!jk(g))throw new Error(ei(7));if(typeof g.type>"u")throw new Error(ei(8));if(typeof g.type!="string")throw new Error(ei(17));if(l)throw new Error(ei(9));try{l=!0,i=n(i,g)}finally{l=!1}return(s=a).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(ei(10));n=g,h({type:vy.REPLACE})}function f(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ei(11));function b(){const k=y;k.next&&k.next(u())}return b(),{unsubscribe:g(b)}},[TB](){return this}}}return h({type:vy.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[TB]:f}}function oJ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:vy.INIT})>"u")throw new Error(ei(12));if(typeof r(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ei(13))})}function lJ(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{oJ(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=a[d],f=h(p,o);if(typeof f>"u")throw o&&o.type,new Error(ei(14));c[d]=f,l=l||f!==p}return l=l||n.length!==Object.keys(a).length,l?c:a}}function wy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function cJ(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(ei(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=wy(...o)(i.dispatch),{...i,dispatch:s}}}function uJ(t){return jk(t)&&"type"in t&&typeof t.type=="string"}var yI=Symbol.for("immer-nothing"),_B=Symbol.for("immer-draftable"),ps=Symbol.for("immer-state");function pa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object.getPrototypeOf;function Ll(t){return!!t&&!!t[ps]}function Ao(t){var e;return t?bI(t)||Array.isArray(t)||!!t[_B]||!!((e=t.constructor)!=null&&e[_B])||Cb(t)||Tb(t):!1}var dJ=Object.prototype.constructor.toString();function bI(t){if(!t||typeof t!="object")return!1;const e=md(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dJ}function xy(t,e){kb(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function kb(t){const e=t[ps];return e?e.type_:Array.isArray(t)?1:Cb(t)?2:Tb(t)?3:0}function cS(t,e){return kb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vI(t,e,r){const n=kb(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function hJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Cb(t){return t instanceof Map}function Tb(t){return t instanceof Set}function sc(t){return t.copy_||t.base_}function uS(t,e){if(Cb(t))return new Map(t);if(Tb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&bI(t))return md(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[ps];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(md(t),r)}function Yk(t,e=!1){return _b(t)||Ll(t)||!Ao(t)||(kb(t)>1&&(t.set=t.add=t.clear=t.delete=fJ),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Yk(n,!0))),t}function fJ(){pa(2)}function _b(t){return Object.isFrozen(t)}var pJ={};function $c(t){const e=pJ[t];return e||pa(0,t),e}var Vf;function wI(){return Vf}function mJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PB(t,e){e&&($c("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dS(t){hS(t),t.drafts_.forEach(gJ),t.drafts_=null}function hS(t){t===Vf&&(Vf=t.parent_)}function BB(t){return Vf=mJ(Vf,t)}function gJ(t){const e=t[ps];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NB(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[ps].modified_&&(dS(e),pa(4)),Ao(t)&&(t=Sy(e,t),e.parent_||ky(e,t)),e.patches_&&$c("Patches").generateReplacementPatches_(r[ps].base_,t,e.patches_,e.inversePatches_)):t=Sy(e,r,[]),dS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==yI?t:void 0}function Sy(t,e,r){if(_b(e))return e;const n=e[ps];if(!n)return xy(e,(i,s)=>MB(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return ky(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),xy(s,(o,l)=>MB(t,n,i,o,l,r,a)),ky(t,i,!1),r&&t.patches_&&$c("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function MB(t,e,r,n,i,s,a){if(Ll(i)){const o=s&&e&&e.type_!==3&&!cS(e.assigned_,n)?s.concat(n):void 0,l=Sy(t,i,o);if(vI(r,n,l),Ll(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ao(i)&&!_b(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Sy(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&ky(t,i)}}function ky(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Yk(e,r)}function yJ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:wI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Xk;r&&(i=[n],s=zf);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Xk={get(t,e){if(e===ps)return t;const r=sc(t);if(!cS(r,e))return bJ(t,r,e);const n=r[e];return t.finalized_||!Ao(n)?n:n===jv(t.base_,e)?(Yv(t),t.copy_[e]=pS(n,t)):n},has(t,e){return e in sc(t)},ownKeys(t){return Reflect.ownKeys(sc(t))},set(t,e,r){const n=xI(sc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=jv(sc(t),e),s=i==null?void 0:i[ps];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(hJ(r,i)&&(r!==void 0||cS(t.base_,e)))return!0;Yv(t),fS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Yv(t),fS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=sc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){pa(11)},getPrototypeOf(t){return md(t.base_)},setPrototypeOf(){pa(12)}},zf={};xy(Xk,(t,e)=>{zf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zf.deleteProperty=function(t,e){return zf.set.call(this,t,e,void 0)};zf.set=function(t,e,r){return Xk.set.call(this,t[0],e,r,t[0])};function jv(t,e){const r=t[ps];return(r?sc(r):t)[e]}function bJ(t,e,r){var i;const n=xI(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function xI(t,e){if(!(e in t))return;let r=md(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=md(r)}}function fS(t){t.modified_||(t.modified_=!0,t.parent_&&fS(t.parent_))}function Yv(t){t.copy_||(t.copy_=uS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&pa(6),n!==void 0&&typeof n!="function"&&pa(7);let i;if(Ao(e)){const s=BB(this),a=pS(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?dS(s):hS(s)}return PB(s,n),NB(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===yI&&(i=void 0),this.autoFreeze_&&Yk(i,!0),n){const s=[],a=[];$c("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else pa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ao(t)||pa(8),Ll(t)&&(t=SI(t));const e=BB(this),r=pS(t,void 0);return r[ps].isManual_=!0,hS(e),r}finishDraft(t,e){const r=t&&t[ps];(!r||!r.isManual_)&&pa(9);const{scope_:n}=r;return PB(n,e),NB(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=$c("Patches").applyPatches_;return Ll(t)?n(t,e):this.produce(t,i=>n(i,e))}};function pS(t,e){const r=Cb(t)?$c("MapSet").proxyMap_(t,e):Tb(t)?$c("MapSet").proxySet_(t,e):yJ(t,e);return(e?e.scope_:wI()).drafts_.push(r),r}function SI(t){return Ll(t)||pa(10,t),kI(t)}function kI(t){if(!Ao(t)||_b(t))return t;const e=t[ps];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=uS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=uS(t,!0);return xy(r,(n,i)=>{vI(r,n,kI(i))}),e&&(e.finalized_=!1),r}var ms=new vJ,CI=ms.produce;ms.produceWithPatches.bind(ms);ms.setAutoFreeze.bind(ms);ms.setUseStrictShallowCopy.bind(ms);ms.applyPatches.bind(ms);ms.createDraft.bind(ms);ms.finishDraft.bind(ms);function wJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function SJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var EB=t=>Array.isArray(t)?t:[t];function kJ(t){const e=Array.isArray(t[0])?t[0]:t;return SJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var TJ=class{constructor(t){this.value=t}deref(){return this.value}},_J=typeof WeakRef<"u"?WeakRef:TJ,PJ=0,RB=1;function Dm(){return{s:PJ,v:void 0,o:null,p:null}}function qk(t,e={}){let r=Dm();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const g=m.get(f);g===void 0?(o=Dm(),m.set(f,o)):o=g}else{let m=o.p;m===null&&(o.p=m=new Map);const g=m.get(f);g===void 0?(o=Dm(),m.set(f,o)):o=g}}const c=o;let u;if(o.s===RB?u=o.v:(u=t.apply(null,arguments),s++),c.s=RB,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new _J(u):u}return c.v=u,u}return a.clearCache=()=>{r=Dm(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function TI(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),wJ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=qk,argsMemoizeOptions:f=[],devModeChecks:m={}}=u,g=EB(h),y=EB(f),b=kJ(i),v=d(function(){return s++,c.apply(null,arguments)},...g),k=p(function(){a++;const S=CJ(b,arguments);return o=v.apply(null,S),o},...y);return Object.assign(k,{resultFunc:c,memoizedResultFunc:v,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var BJ=TI(qk),NJ=Object.assign((t,e=BJ)=>{xJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>NJ});function _I(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var MJ=_I(),EJ=_I,RJ=(...t)=>{const e=TI(...t),r=Object.assign((...n)=>{const i=e(...n),s=(a,...o)=>i(Ll(a)?SI(a):a,...o);return Object.assign(s,i),s},{withTypes:()=>r});return r};RJ(qk);var DJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wy:wy.apply(null,arguments)};function gd(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(qi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>uJ(n)&&n.type===t,r}var PI=class Ih extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ih.prototype)}static get[Symbol.species](){return Ih}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ih(...e[0].concat(this)):new Ih(...e.concat(this))}};function DB(t){return Ao(t)?CI(t,()=>{}):t}function LB(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(qi(10));const n=r.insert(e,t);return t.set(e,n),n}function LJ(t){return typeof t=="boolean"}var IJ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new PI;return r&&(LJ(r)?a.push(MJ):a.push(EJ(r.extraArgument))),a},FJ="RTK_autoBatch",BI=t=>e=>{setTimeout(e,t)},AJ=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BI(10),OJ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?AJ:t.type==="callback"?t.queueNotification:BI(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[FJ]),s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},$J=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new PI(t);return n&&i.push(OJ(typeof n=="object"?n:void 0)),i},VJ=!0;function zJ(t){const e=IJ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(jk(r))o=lJ(r);else throw new Error(qi(1));let l;typeof n=="function"?l=n(e):l=e();let c=wy;i&&(c=DJ({trace:!VJ,...typeof i=="object"&&i}));const u=cJ(...l),d=$J(u);let h=typeof a=="function"?a(d):d();const p=c(...h);return gI(o,s,p)}function NI(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(qi(28));if(o in e)throw new Error(qi(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function WJ(t){return typeof t=="function"}function HJ(t,e){let[r,n,i]=NI(e),s;if(WJ(t))s=()=>DB(t());else{const o=DB(t);s=()=>o}function a(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Ll(u)){const p=d(u,l);return p===void 0?u:p}else{if(Ao(u))return CI(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(qi(9))}return h}}return u},o)}return a.getInitialState=s,a}var UJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GJ=(t=21)=>{let e="",r=t;for(;r--;)e+=UJ[Math.random()*64|0];return e},jJ=Symbol.for("rtk-slice-createasyncthunk");function YJ(t,e){return`${t}/${e}`}function XJ({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[jJ];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(qi(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(QJ()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,k){const C=typeof v=="string"?v:v.type;if(!C)throw new Error(qi(12));if(C in c.sliceCaseReducersByType)throw new Error(qi(13));return c.sliceCaseReducersByType[C]=k,u},addMatcher(v,k){return c.sliceMatchers.push({matcher:v,reducer:k}),u},exposeAction(v,k){return c.actionCreators[v]=k,u},exposeCaseReducer(v,k){return c.sliceCaseReducersByName[v]=k,u}};l.forEach(v=>{const k=o[v],C={reducerName:v,type:YJ(s,v),createNotation:typeof i.reducers=="function"};ZJ(k)?tZ(C,k,u,e):JJ(C,k,u)});function d(){const[v={},k=[],C=void 0]=typeof i.extraReducers=="function"?NI(i.extraReducers):[i.extraReducers],S={...v,...c.sliceCaseReducersByType};return HJ(i.initialState,_=>{for(let B in S)_.addCase(B,S[B]);for(let B of c.sliceMatchers)_.addMatcher(B.matcher,B.reducer);for(let B of k)_.addMatcher(B.matcher,B.reducer);C&&_.addDefaultCase(C)})}const h=v=>v,p=new Map;let f;function m(v,k){return f||(f=d()),f(v,k)}function g(){return f||(f=d()),f.getInitialState()}function y(v,k=!1){function C(_){let B=_[v];return typeof B>"u"&&k&&(B=g()),B}function S(_=h){const B=LB(p,k,{insert:()=>new WeakMap});return LB(B,_,{insert:()=>{const D={};for(const[E,R]of Object.entries(i.selectors??{}))D[E]=qJ(R,_,g,k);return D}})}return{reducerPath:v,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const b={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...y(a),injectInto(v,{reducerPath:k,...C}={}){const S=k??a;return v.inject({reducerPath:S,reducer:m},C),{...b,...y(S,!0)}}};return b}}function qJ(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var KJ=XJ();function QJ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function JJ({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!eZ(n))throw new Error(qi(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?gd(t,a):gd(t))}function ZJ(t){return t._reducerDefinitionType==="asyncThunk"}function eZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tZ({type:t,reducerName:e},r,n,i){if(!i)throw new Error(qi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:a||Lm,pending:o||Lm,rejected:l||Lm,settled:c||Lm})}function Lm(){}var rZ=(t,e)=>{if(typeof t!="function")throw new Error(qi(32))},Kk="listenerMiddleware",nZ=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=gd(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(qi(21));return rZ(s),{predicate:i,type:e,effect:s}},iZ=Object.assign(t=>{const{type:e,predicate:r,effect:n}=nZ(t);return{id:GJ(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(qi(22))}}},{withTypes:()=>iZ}),sZ=Object.assign(gd(`${Kk}/add`),{withTypes:()=>sZ});gd(`${Kk}/removeAll`);var aZ=Object.assign(gd(`${Kk}/remove`),{withTypes:()=>aZ});function qi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const oZ={value:0,lastChange:""},MI=KJ({name:"counter",initialState:oZ,reducers:{increment(t){t.value+=1},incrementByAmount(t,e){t.value+=e.payload,t.lastChange=e.type}}}),{increment:vme,incrementByAmount:IB}=MI.actions,lZ=MI.reducer;function cZ(){const t=nJ(),[e,r]=w.useState(50),n=iJ(o=>o.counter.value);function i(){const o=IB(e);t(o)}function s(){const o=IB(-e);t(o)}const a=(o,l)=>{r(l)};return x.jsxs(Ul,{title:"Counter",children:[x.jsx(oi,{onClick:s,children:x.jsx(NQ,{})}),x.jsx(oi,{onClick:i,children:x.jsx(Hk,{})}),x.jsx($f,{children:x.jsx(nf,{value:e,onChange:a,valueLabelDisplay:"on"})}),x.jsx(hr,{variant:"h1",align:"center",children:n})]})}function uZ(){const[t,e]=w.useState(1),r=(n,i)=>{e(i)};return x.jsx(Ul,{title:"Rating",children:x.jsxs($f,{children:[x.jsx(qG,{children:x.jsx($f,{children:x.jsx(zq,{value:t,onChange:r,size:"large",max:46})})}),x.jsxs(hr,{color:"pink",variant:"h1",children:["The rating you have chosen is ",t]})]})})}function dZ(){return x.jsxs("div",{style:{flexDirection:"column",display:"flex",height:"100%",border:"10px solid green",boxSizing:"border-box"},children:[x.jsx("div",{style:{border:"3px solid blue",height:"100px"}}),x.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",border:"3px solid orange",flex:1},children:[x.jsx("div",{style:{border:"3px solid yellow",width:"100px"}}),x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",border:"3px solid red",flex:1},children:x.jsx("button",{children:"sIUUUU"})})]}),x.jsx("div",{style:{height:"100px",border:"3px solid pink"}})]})}const hZ=["localeText"],mS=w.createContext(null),Qk=function(e){const{localeText:r}=e,n=me(e,hZ),{utils:i,localeText:s}=w.useContext(mS)??{utils:void 0,localeText:void 0},a=Fe({props:n,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=a,p=w.useMemo(()=>T({},h,s,r),[h,s,r]),f=w.useMemo(()=>{if(!l)return i||null;const y=new l({locale:d,formats:c,instance:u});if(!y.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return y},[l,d,c,u,i]),m=w.useMemo(()=>f?{minDate:f.date("1900-01-01T00:00:00.000"),maxDate:f.date("2099-12-31T00:00:00.000")}:null,[f]),g=w.useMemo(()=>({utils:f,defaultDates:m,localeText:p}),[m,f,p]);return x.jsx(mS.Provider,{value:g,children:o})},fZ=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:T({},t)}}}}),EI={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,r)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${r.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},pZ=EI;fZ(EI);const Kc=()=>{const t=w.useContext(mS);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=w.useMemo(()=>T({},pZ,t.localeText),[t.localeText]);return w.useMemo(()=>T({},t,{localeText:e}),[t,e])},er=()=>Kc().utils,zp=()=>Kc().defaultDates,pi=()=>Kc().localeText,Qc=t=>{const e=er(),r=w.useRef();return r.current===void 0&&(r.current=e.date(void 0,t)),r.current},mZ=br(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gZ=br(x.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),yZ=br(x.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),bZ=br(x.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),vZ=br(x.jsxs(w.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");br(x.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");br(x.jsxs(w.Fragment,{children:[x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const wZ=br(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function xZ(t){return Ge("MuiPickersArrowSwitcher",t)}je("MuiPickersArrowSwitcher",["root","spacer","button"]);const SZ=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],kZ=["ownerState"],CZ=["ownerState"],TZ=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),_Z=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),FB=Q(oi,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),PZ=t=>{const{classes:e}=t;return He({root:["root"],spacer:["spacer"],button:["button"]},xZ,e)},RI=w.forwardRef(function(e,r){const n=Un(),i=Fe({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:a,slots:o,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:h,isPreviousDisabled:p,isPreviousHidden:f,onGoToPrevious:m,previousLabel:g,labelId:y}=i,b=me(i,SZ),v=i,k=PZ(v),C={isDisabled:c,isHidden:u,goTo:d,label:h},S={isDisabled:p,isHidden:f,goTo:m,label:g},_=(o==null?void 0:o.previousIconButton)??FB,B=Bt({elementType:_,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:T({},v,{hidden:S.isHidden}),className:k.button}),D=(o==null?void 0:o.nextIconButton)??FB,E=Bt({elementType:D,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"start",onClick:C.goTo},ownerState:T({},v,{hidden:C.isHidden}),className:k.button}),R=(o==null?void 0:o.leftArrowIcon)??gZ,A=Bt({elementType:R,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),I=me(A,kZ),L=(o==null?void 0:o.rightArrowIcon)??yZ,N=Bt({elementType:L,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),F=me(N,CZ);return x.jsxs(TZ,T({ref:r,className:Se(k.root,a),ownerState:v},b,{children:[x.jsx(_,T({},B,{children:n?x.jsx(L,T({},F)):x.jsx(R,T({},I))})),s?x.jsx(hr,{variant:"subtitle1",component:"span",id:y,children:s}):x.jsx(_Z,{className:k.spacer,ownerState:v}),x.jsx(D,T({},E,{children:n?x.jsx(R,T({},I)):x.jsx(L,T({},F))}))]}))}),Ua=(t,e)=>t.length!==e.length?!1:e.every(r=>t.includes(r)),DI=({openTo:t,defaultOpenTo:e,views:r,defaultViews:n})=>{const i=r??n;let s;if(t!=null)s=t;else if(i.includes(e))s=e;else if(i.length>0)s=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:s}},LI=["hours","minutes","seconds"],Wf=t=>LI.includes(t),BZ=t=>LI.includes(t)||t==="meridiem",NZ=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,Hf=(t,e,r)=>r&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,MZ=(t,e,r,n)=>{const i=Hf(n.getHours(t),e,r);return n.setHours(t,i)},AB=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),Wp=(t,e)=>(r,n)=>t?e.isAfter(r,n):AB(r,e)>AB(n,e),II=(t,{format:e,views:r,ampm:n})=>{if(e!=null)return e;const i=t.formats;return Ua(r,["hours"])?n?`${i.hours12h} ${i.meridiem}`:i.hours24h:Ua(r,["minutes"])?i.minutes:Ua(r,["seconds"])?i.seconds:Ua(r,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:Ua(r,["hours","minutes","seconds"])?n?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:n?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`};function Hp({onChange:t,onViewChange:e,openTo:r,view:n,views:i,autoFocus:s,focusedView:a,onFocusedViewChange:o}){const l=w.useRef(r),c=w.useRef(i),u=w.useRef(i.includes(r)?r:i[0]),[d,h]=hs({name:"useViews",state:"view",controlled:n,default:u.current}),p=w.useRef(s?d:null),[f,m]=hs({name:"useViews",state:"focusedView",controlled:a,default:p.current});w.useEffect(()=>{(l.current&&l.current!==r||c.current&&c.current.some(_=>!i.includes(_)))&&(h(i.includes(r)?r:i[0]),c.current=i,l.current=r)},[r,h,d,i]);const g=i.indexOf(d),y=i[g-1]??null,b=i[g+1]??null,v=Ke((_,B)=>{m(B?_:D=>_===D?null:D),o==null||o(_,B)}),k=Ke(_=>{v(_,!0),_!==d&&(h(_),e&&e(_))}),C=Ke(()=>{b&&k(b)}),S=Ke((_,B,D)=>{const E=B==="finish",R=D?i.indexOf(D)<i.length-1:!!b;if(t(_,E&&R?"partial":B,D),D&&D!==d){const I=i[i.indexOf(D)+1];I&&k(I)}else E&&C()});return{view:d,setView:k,focusedView:f,setFocusedView:v,nextView:b,previousView:y,defaultView:i.includes(r)?r:i[0],goToNextView:C,setValueAndGoToNextView:S}}function EZ(t,{disableFuture:e,maxDate:r,timezone:n}){const i=er();return w.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isBefore(s,r)?s:r);return!i.isAfter(a,t)},[e,r,t,i,n])}function RZ(t,{disablePast:e,minDate:r,timezone:n}){const i=er();return w.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isAfter(s,r)?s:r);return!i.isBefore(a,t)},[e,r,t,i,n])}function Jk(t,e,r,n){const i=er(),s=NZ(t,i),a=w.useCallback(o=>{const l=t==null?null:MZ(t,o,!!e,i);r(l,n??"partial")},[e,t,r,n,i]);return{meridiemMode:s,handleMeridiemChange:a}}const Uf=36,Pb=2,Bb=320,DZ=280,Zk=336,FI=232,LZ=48,Nb=Q("div")({overflow:"hidden",width:Bb,maxHeight:Zk,display:"flex",flexDirection:"column",margin:"0 auto"});function IZ(t){return Ge("MuiTimeClock",t)}je("MuiTimeClock",["root","arrowSwitcher"]);const yd=220,eo=36,Gf={x:yd/2,y:yd/2},AI={x:Gf.x,y:0},FZ=AI.x-Gf.x,AZ=AI.y-Gf.y,OZ=t=>t*(180/Math.PI),OI=(t,e,r)=>{const n=e-Gf.x,i=r-Gf.y,s=Math.atan2(FZ,AZ)-Math.atan2(n,i);let a=OZ(s);a=Math.round(a/t)*t,a%=360;const o=Math.floor(a/t)||0,l=n**2+i**2,c=Math.sqrt(l);return{value:o,distance:c}},$Z=(t,e,r=1)=>{const n=r*6;let{value:i}=OI(n,t,e);return i=i*r%60,i},VZ=(t,e,r)=>{const{value:n,distance:i}=OI(30,t,e);let s=n||12;return r?s%=12:i<yd/2-eo&&(s+=12,s%=24),s};function zZ(t){return Ge("MuiClockPointer",t)}je("MuiClockPointer",["root","thumb"]);const WZ=["className","hasSelected","isInner","type","viewValue"],HZ=t=>{const{classes:e}=t;return He({root:["root"],thumb:["thumb"]},zZ,e)},UZ=Q("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),GZ=Q("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${eo/2}px)`,border:`${(eo-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function jZ(t){const e=Fe({props:t,name:"MuiClockPointer"}),{className:r,isInner:n,type:i,viewValue:s}=e,a=me(e,WZ),o=w.useRef(i);w.useEffect(()=>{o.current=i},[i]);const l=T({},e,{shouldAnimate:o.current!==i}),c=HZ(l),u=()=>{let h=360/(i==="hours"?12:60)*s;return i==="hours"&&s>12&&(h-=360),{height:Math.round((n?.26:.4)*yd),transform:`rotateZ(${h}deg)`}};return x.jsx(UZ,T({style:u(),className:Se(r,c.root),ownerState:l},a,{children:x.jsx(GZ,{ownerState:l,className:c.thumb})}))}function YZ(t){return Ge("MuiClock",t)}je("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const Cy=(t,e,r)=>{let n=e;return n=t.setHours(n,t.getHours(r)),n=t.setMinutes(n,t.getMinutes(r)),n=t.setSeconds(n,t.getSeconds(r)),n},sf=({date:t,disableFuture:e,disablePast:r,maxDate:n,minDate:i,isDateDisabled:s,utils:a,timezone:o})=>{const l=Cy(a,a.date(void 0,o),t);r&&a.isBefore(i,l)&&(i=l),e&&a.isAfter(n,l)&&(n=l);let c=t,u=t;for(a.isBefore(t,i)&&(c=i,u=null),a.isAfter(t,n)&&(u&&(u=n),c=null);c||u;){if(c&&a.isAfter(c,n)&&(c=null),u&&a.isBefore(u,i)&&(u=null),c){if(!s(c))return c;c=a.addDays(c,1)}if(u){if(!s(u))return u;u=a.addDays(u,-1)}}return null},XZ=(t,e)=>e==null||!t.isValid(e)?null:e,qs=(t,e,r)=>e==null||!t.isValid(e)?r:e,qZ=(t,e,r)=>!t.isValid(e)&&e!=null&&!t.isValid(r)&&r!=null?!0:t.isEqual(e,r),eC=(t,e)=>{const n=[t.startOfYear(e)];for(;n.length<12;){const i=n[n.length-1];n.push(t.addMonths(i,1))}return n},tC=(t,e,r)=>r==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),ml=(t,e)=>{const r=t.setHours(t.date(),e==="am"?2:14);return t.format(r,"meridiem")},KZ=["year","month","day"],OB=t=>KZ.includes(t),rC=(t,{format:e,views:r},n)=>{if(e!=null)return e;const i=t.formats;return Ua(r,["year"])?i.year:Ua(r,["month"])?i.month:Ua(r,["day"])?i.dayOfMonth:Ua(r,["month","year"])?`${i.month} ${i.year}`:Ua(r,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},QZ=(t,e)=>{const r=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>t.addDays(r,n))},JZ=t=>{const{classes:e}=t;return He({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},YZ,e)},ZZ=Q("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),eee=Q("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),tee=Q("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),ree=Q("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),nee=Q("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),iee=Q(oi,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:eo,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),see=Q(oi,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:eo,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),$B=Q(hr,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function aee(t){const e=Fe({props:t,name:"MuiClock"}),{ampm:r,ampmInClock:n,autoFocus:i,children:s,value:a,handleMeridiemChange:o,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:h,type:p,viewValue:f,disabled:m=!1,readOnly:g,className:y}=e,b=e,v=er(),k=pi(),C=w.useRef(!1),S=JZ(b),_=l(f,p),B=!r&&p==="hours"&&(f<1||f>12),D=(V,z)=>{m||g||l(V,p)||d(V,z)},E=(V,z)=>{let{offsetX:K,offsetY:ie}=V;if(K===void 0){const te=V.target.getBoundingClientRect();K=V.changedTouches[0].clientX-te.left,ie=V.changedTouches[0].clientY-te.top}const se=p==="seconds"||p==="minutes"?$Z(K,ie,u):VZ(K,ie,!!r);D(se,z)},R=V=>{C.current=!0,E(V,"shallow")},A=V=>{C.current&&(E(V,"finish"),C.current=!1)},I=V=>{V.buttons>0&&E(V.nativeEvent,"shallow")},L=V=>{C.current&&(C.current=!1),E(V.nativeEvent,"finish")},N=w.useMemo(()=>p==="hours"?!0:f%5===0,[p,f]),F=p==="minutes"?u:1,O=w.useRef(null);zr(()=>{i&&O.current.focus()},[i]);const M=V=>{if(!C.current)switch(V.key){case"Home":D(0,"partial"),V.preventDefault();break;case"End":D(p==="minutes"?59:23,"partial"),V.preventDefault();break;case"ArrowUp":D(f+F,"partial"),V.preventDefault();break;case"ArrowDown":D(f-F,"partial"),V.preventDefault();break}};return x.jsxs(ZZ,{className:Se(y,S.root),children:[x.jsxs(eee,{className:S.clock,children:[x.jsx(ree,{onTouchMove:R,onTouchEnd:A,onMouseUp:L,onMouseMove:I,ownerState:{disabled:m},className:S.squareMask}),!_&&x.jsxs(w.Fragment,{children:[x.jsx(nee,{className:S.pin}),a!=null&&x.jsx(jZ,{type:p,viewValue:f,isInner:B,hasSelected:N})]}),x.jsx(tee,{"aria-activedescendant":h,"aria-label":k.clockLabelText(p,a,v),ref:O,role:"listbox",onKeyDown:M,tabIndex:0,className:S.wrapper,children:s})]}),r&&n&&x.jsxs(w.Fragment,{children:[x.jsx(iee,{onClick:g?void 0:()=>o("am"),disabled:m||c===null,ownerState:b,className:S.amButton,title:ml(v,"am"),children:x.jsx($B,{variant:"caption",className:S.meridiemText,children:ml(v,"am")})}),x.jsx(see,{disabled:m||c===null,onClick:g?void 0:()=>o("pm"),ownerState:b,className:S.pmButton,title:ml(v,"pm"),children:x.jsx($B,{variant:"caption",className:S.meridiemText,children:ml(v,"pm")})})]})]})}function oee(t){return Ge("MuiClockNumber",t)}const Im=je("MuiClockNumber",["root","selected","disabled"]),lee=["className","disabled","index","inner","label","selected"],cee=t=>{const{classes:e,selected:r,disabled:n}=t;return He({root:["root",r&&"selected",n&&"disabled"]},oee,e)},uee=Q("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${Im.disabled}`]:e.disabled},{[`&.${Im.selected}`]:e.selected}]})(({theme:t})=>({height:eo,width:eo,position:"absolute",left:`calc((100% - ${eo}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Im.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Im.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:T({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function $I(t){const e=Fe({props:t,name:"MuiClockNumber"}),{className:r,disabled:n,index:i,inner:s,label:a,selected:o}=e,l=me(e,lee),c=e,u=cee(c),d=i%12/12*Math.PI*2-Math.PI/2,h=(yd-eo-2)/2*(s?.65:1),p=Math.round(Math.cos(d)*h),f=Math.round(Math.sin(d)*h);return x.jsx(uee,T({className:Se(r,u.root),"aria-disabled":n?!0:void 0,"aria-selected":o?!0:void 0,role:"option",style:{transform:`translate(${p}px, ${f+(yd-eo)/2}px`},ownerState:c},l,{children:a}))}const dee=({ampm:t,value:e,getClockNumberText:r,isDisabled:n,selectedId:i,utils:s})=>{const a=e?s.getHours(e):null,o=[],l=t?1:0,c=t?12:23,u=d=>a===null?!1:t?d===12?a===12||a===0:a===d||a-12===d:a===d;for(let d=l;d<=c;d+=1){let h=d.toString();d===0&&(h="00");const p=!t&&(d===0||d>12);h=s.formatNumber(h);const f=u(d);o.push(x.jsx($I,{id:f?i:void 0,index:d,inner:p,selected:f,disabled:n(d),label:h,"aria-label":r(h)},d))}return o},VB=({utils:t,value:e,isDisabled:r,getClockNumberText:n,selectedId:i})=>{const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(([a,o],l)=>{const c=a===e;return x.jsx($I,{label:o,id:c?i:void 0,index:l+1,inner:!1,disabled:r(a),selected:c,"aria-label":n(o)},a)})},nC=({timezone:t,value:e,defaultValue:r,onChange:n,valueManager:i})=>{const s=er(),a=w.useRef(r),o=e??a.current??i.emptyValue,l=w.useMemo(()=>i.getTimezone(s,o),[s,i,o]),c=Ke(p=>l==null?p:i.setTimezone(s,l,p)),u=t??l??"default",d=w.useMemo(()=>i.setTimezone(s,u,o),[i,s,u,o]),h=Ke((p,...f)=>{const m=c(p);n==null||n(m,...f)});return{value:d,handleValueChange:h,timezone:u}},zd=({name:t,timezone:e,value:r,defaultValue:n,onChange:i,valueManager:s})=>{const[a,o]=hs({name:t,state:"value",controlled:r,default:n??s.emptyValue}),l=Ke((c,...u)=>{o(c),i==null||i(c,...u)});return nC({timezone:e,value:a,defaultValue:void 0,onChange:l,valueManager:s})},da={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},hee=t=>Math.max(...t.map(e=>da[e.type]??1)),mh=(t,e,r)=>{if(e===da.year)return t.startOfYear(r);if(e===da.month)return t.startOfMonth(r);if(e===da.day)return t.startOfDay(r);let n=r;return e<da.minutes&&(n=t.setMinutes(n,0)),e<da.seconds&&(n=t.setSeconds(n,0)),e<da.milliseconds&&(n=t.setMilliseconds(n,0)),n},fee=({props:t,utils:e,granularity:r,timezone:n,getTodayDate:i})=>{let s=i?i():mh(e,r,tC(e,n));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=mh(e,r,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=mh(e,r,t.maxDate));const a=Wp(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=mh(e,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:Cy(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=mh(e,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Cy(e,s,t.maxTime))),s},VI=(t,e)=>{const r=t.formatTokenMap[e];if(r==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},pee=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Mb=(t,e,r)=>{const n=[],i=t.date(void 0,e),s=t.startOfWeek(i),a=t.endOfWeek(i);let o=s;for(;t.isBefore(o,a);)n.push(o),o=t.addDays(o,1);return n.map(l=>t.formatByString(l,r))},zI=(t,e,r,n)=>{switch(r){case"month":return eC(t,t.date(void 0,e)).map(i=>t.formatByString(i,n));case"weekDay":return Mb(t,e,n);case"meridiem":{const i=t.date(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(s=>t.formatByString(s,n))}default:return[]}},zB="s",mee=["0","1","2","3","4","5","6","7","8","9"],gee=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),zB)==="0"?mee:Array.from({length:10}).map((n,i)=>t.formatByString(t.setSeconds(e,i),zB))},Vc=(t,e)=>{if(e[0]==="0")return t;const r=[];let n="";for(let i=0;i<t.length;i+=1){n+=t[i];const s=e.indexOf(n);s>-1&&(r.push(s.toString()),n="")}return r.join("")},iC=(t,e)=>e[0]==="0"?t:t.split("").map(r=>e[Number(r)]).join(""),WB=(t,e)=>{const r=Vc(t,e);return r!==" "&&!Number.isNaN(Number(r))},WI=(t,e)=>{let r=t;for(r=Number(r).toString();r.length<e;)r=`0${r}`;return r},HI=(t,e,r,n,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const a=t.setDate(r.longestMonth,e);return t.formatByString(a,i.format)}let s=e.toString();return i.hasLeadingZerosInInput&&(s=WI(s,i.maxLength)),iC(s,n)},yee=(t,e,r,n,i,s,a,o)=>{const l=pee(n),c=n==="Home",u=n==="End",d=r.value===""||c||u,h=()=>{const f=i[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),m=v=>HI(t,v,f,s,r),g=r.type==="minutes"&&(o!=null&&o.minutesStep)?o.minutesStep:1;let b=parseInt(Vc(r.value,s),10)+l*g;if(d){if(r.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),r.format);l>0||c?b=f.minimum:b=f.maximum}return b%g!==0&&((l<0||c)&&(b+=g-(g+b)%g),(l>0||u)&&(b-=b%g)),b>f.maximum?m(f.minimum+(b-f.maximum-1)%(f.maximum-f.minimum+1)):b<f.minimum?m(f.maximum-(f.minimum-b-1)%(f.maximum-f.minimum+1)):m(b)},p=()=>{const f=zI(t,e,r.type,r.format);if(f.length===0)return r.value;if(d)return l>0||c?f[0]:f[f.length-1];const y=((f.indexOf(r.value)+l)%f.length+f.length)%f.length;return f[y]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?h():p()},sC=(t,e,r)=>{let n=t.value||t.placeholder;const i=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(Vc(n,r)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!i&&n.length===1&&(n=`${n}`),e==="input-rtl"&&(n=`${n}`),n},HB=(t,e,r,n)=>t.formatByString(t.parse(e,r),n),UI=(t,e,r)=>t.formatByString(t.date(void 0,e),r).length===4,GI=(t,e,r,n,i)=>{if(r!=="digit")return!1;const s=t.date(void 0,e);switch(n){case"year":return UI(t,e,i)?t.formatByString(t.setYear(s,1),i)==="0001":t.formatByString(t.setYear(s,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(s),i).length>1;case"day":return t.formatByString(t.startOfMonth(s),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),i).length>1;case"hours":return t.formatByString(t.setHours(s,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},bee=(t,e,r)=>{const n=e.some(l=>l.type==="day"),i=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];n&&c.type==="weekDay"||(i.push(c.format),s.push(sC(c,"non-input",r)))}const a=i.join(" "),o=s.join(" ");return t.parse(o,a)},vee=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),wee=(t,e,r)=>{const i=t.map(s=>{const a=sC(s,r?"input-rtl":"input-ltr",e);return`${s.startSeparator}${a}${s.endSeparator}`}).join("");return r?`${i}`:i},xee=(t,e,r)=>{const n=t.date(void 0,r),i=t.endOfYear(n),s=t.endOfDay(n),{maxDaysInMonth:a,longestMonth:o}=eC(t,n).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:UI(t,r,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):a,longestMonth:o}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=Mb(t,r,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return Vc(t.formatByString(t.endOfDay(n),l),e)!==c.toString()?{minimum:1,maximum:Number(Vc(t.formatByString(t.startOfDay(n),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},See=(t,e,r,n,i)=>{switch(r.type){case"year":return t.setYear(i,t.getYear(n));case"month":return t.setMonth(i,t.getMonth(n));case"weekDay":{const s=Mb(t,e,r.format),a=t.formatByString(n,r.format),o=s.indexOf(a),c=s.indexOf(r.value)-o;return t.addDays(n,c)}case"day":return t.setDate(i,t.getDate(n));case"meridiem":{const s=t.getHours(n)<12,a=t.getHours(i);return s&&a>=12?t.addHours(i,-12):!s&&a<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(n));case"minutes":return t.setMinutes(i,t.getMinutes(n));case"seconds":return t.setSeconds(i,t.getSeconds(n));default:return i}},UB={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},GB=(t,e,r,n,i,s)=>[...n].sort((a,o)=>UB[a.type]-UB[o.type]).reduce((a,o)=>!s||o.modified?See(t,e,o,r,a):a,i),kee=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Cee=(t,e)=>{const r={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;r[c]={leftIndex:u,rightIndex:d}}),{neighbors:r,startIndex:0,endIndex:t.length-1};const n={},i={};let s=0,a=0,o=t.length-1;for(;o>=0;){a=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),a===-1&&(a=t.length-1);for(let l=a;l>=s;l-=1)i[l]=o,n[o]=l,o-=1;s=a+1}return t.forEach((l,c)=>{const u=i[c],d=u===0?null:n[u-1],h=u===t.length-1?null:n[u+1];r[c]={leftIndex:d,rightIndex:h}}),{neighbors:r,startIndex:n[0],endIndex:n[t.length-1]}},gS=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(r=>r.type===t):t,Tee=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const r=e.parse(t.value,t.format);return r?e.format(r,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},_ee=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const r=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return r?e.getHours(r)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const r=e.parse(t.value,t.format);return r?e.getMonth(r)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},Pee=["value","referenceDate"],fi={emptyValue:null,getTodayValue:tC,getInitialReferenceValue:t=>{let{value:e,referenceDate:r}=t,n=me(t,Pee);return e!=null&&n.utils.isValid(e)?e:r??fee(n)},cleanValue:XZ,areValuesEqual:qZ,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,r)=>r==null?null:t.setTimezone(r,e)},jI={updateReferenceValue:(t,e,r)=>e==null||!t.isValid(e)?r:e,getSectionsFromValue:(t,e,r,n)=>!t.isValid(e)&&!!r?r:n(e),getV7HiddenInputValueFromSections:vee,getV6InputValueFromSections:wee,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!t.isValid(r)?e.referenceValue:r})}),parseValueStr:(t,e,r)=>r(t.trim(),e)},aC=({value:t,referenceDate:e,utils:r,props:n,timezone:i})=>{const s=w.useMemo(()=>fi.getInitialReferenceValue({value:t,utils:r,props:n,referenceDate:e,granularity:da.day,timezone:i,getTodayDate:()=>tC(r,i,"date")}),[]);return t??s},Bee=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],Nee=t=>{const{classes:e}=t;return He({root:["root"],arrowSwitcher:["arrowSwitcher"]},IZ,e)},Mee=Q(Nb,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),Eee=Q(RI,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),Ree=["hours","minutes"],Dee=w.forwardRef(function(e,r){const n=er(),i=Fe({props:e,name:"MuiTimeClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:o,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:h,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:f,minTime:m,disableFuture:g,disablePast:y,minutesStep:b=1,shouldDisableTime:v,showViewSwitcher:k,onChange:C,view:S,views:_=Ree,openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:A,disabled:I,readOnly:L,timezone:N}=i,F=me(i,Bee),{value:O,handleValueChange:M,timezone:V}=zd({name:"TimeClock",timezone:N,value:u,defaultValue:d,onChange:C,valueManager:fi}),z=aC({value:O,referenceDate:h,utils:n,props:i,timezone:V}),K=pi(),ie=Qc(V),{view:se,setView:te,previousView:G,nextView:Z,setValueAndGoToNextView:he}=Hp({view:S,views:_,openTo:B,onViewChange:D,onChange:M,focusedView:E,onFocusedViewChange:R}),{meridiemMode:pe,handleMeridiemChange:ne}=Jk(z,s,he),le=w.useCallback((Y,we)=>{const fe=Wp(p,n),$=we==="hours"||we==="minutes"&&_.includes("seconds"),U=({start:ae,end:Be})=>!(m&&fe(m,Be)||f&&fe(ae,f)||g&&fe(ae,ie)||y&&fe(ie,$?Be:ae)),j=(ae,Be=1)=>{if(ae%Be!==0)return!1;if(v)switch(we){case"hours":return!v(n.setHours(z,ae),"hours");case"minutes":return!v(n.setMinutes(z,ae),"minutes");case"seconds":return!v(n.setSeconds(z,ae),"seconds");default:return!1}return!0};switch(we){case"hours":{const ae=Hf(Y,pe,s),Be=n.setHours(z,ae),ke=n.setSeconds(n.setMinutes(Be,0),0),De=n.setSeconds(n.setMinutes(Be,59),59);return!U({start:ke,end:De})||!j(ae)}case"minutes":{const ae=n.setMinutes(z,Y),Be=n.setSeconds(ae,0),ke=n.setSeconds(ae,59);return!U({start:Be,end:ke})||!j(Y,b)}case"seconds":{const ae=n.setSeconds(z,Y);return!U({start:ae,end:ae})||!j(Y)}default:throw new Error("not supported")}},[s,z,p,f,pe,m,b,v,n,g,y,ie,_]),oe=Js(),q=w.useMemo(()=>{switch(se){case"hours":{const Y=(we,fe)=>{const $=Hf(we,pe,s);he(n.setHours(z,$),fe,"hours")};return{onChange:Y,viewValue:n.getHours(z),children:dee({value:O,utils:n,ampm:s,onChange:Y,getClockNumberText:K.hoursClockNumberText,isDisabled:we=>I||le(we,"hours"),selectedId:oe})}}case"minutes":{const Y=n.getMinutes(z),we=(fe,$)=>{he(n.setMinutes(z,fe),$,"minutes")};return{viewValue:Y,onChange:we,children:VB({utils:n,value:Y,onChange:we,getClockNumberText:K.minutesClockNumberText,isDisabled:fe=>I||le(fe,"minutes"),selectedId:oe})}}case"seconds":{const Y=n.getSeconds(z),we=(fe,$)=>{he(n.setSeconds(z,fe),$,"seconds")};return{viewValue:Y,onChange:we,children:VB({utils:n,value:Y,onChange:we,getClockNumberText:K.secondsClockNumberText,isDisabled:fe=>I||le(fe,"seconds"),selectedId:oe})}}default:throw new Error("You must provide the type for ClockView")}},[se,n,O,s,K.hoursClockNumberText,K.minutesClockNumberText,K.secondsClockNumberText,pe,he,z,le,oe,I]),X=i,J=Nee(X);return x.jsxs(Mee,T({ref:r,className:Se(J.root,A),ownerState:X},F,{children:[x.jsx(aee,T({autoFocus:o??!!E,ampmInClock:a&&_.includes("hours"),value:O,type:se,ampm:s,minutesStep:b,isTimeDisabled:le,meridiemMode:pe,handleMeridiemChange:ne,selectedId:oe,disabled:I,readOnly:L},q)),k&&x.jsx(Eee,{className:J.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>te(G),isPreviousDisabled:!G,previousLabel:K.openPreviousView,onGoToNext:()=>te(Z),isNextDisabled:!Z,nextLabel:K.openNextView,ownerState:X})]}))});function Lee(t){return Ge("MuiDigitalClock",t)}je("MuiDigitalClock",["root","list","item"]);const Iee=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],Fee=t=>{const{classes:e}=t;return He({root:["root"],list:["list"],item:["item"]},Lee,e)},Aee=Q(Nb,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:FI,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Oee=Q(Vk,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),$ee=Q(eI,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ro(t.palette.primary.main,t.palette.action.focusOpacity)}})),Vee=w.forwardRef(function(e,r){const n=er(),i=w.useRef(null),s=Yt(r,i),a=Fe({props:e,name:"MuiDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:c,slots:u,slotProps:d,value:h,defaultValue:p,referenceDate:f,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:g,minTime:y,disableFuture:b,disablePast:v,minutesStep:k=1,shouldDisableTime:C,onChange:S,view:_,openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:A,disabled:I,readOnly:L,views:N=["hours"],skipDisabled:F=!1,timezone:O}=a,M=me(a,Iee),{value:V,handleValueChange:z,timezone:K}=zd({name:"DigitalClock",timezone:O,value:h,defaultValue:p,onChange:S,valueManager:fi}),ie=pi(),se=Qc(K),te=w.useMemo(()=>T({},a,{alreadyRendered:!!i.current}),[a]),G=Fee(te),Z=(u==null?void 0:u.digitalClockItem)??$ee,he=Bt({elementType:Z,externalSlotProps:d==null?void 0:d.digitalClockItem,ownerState:{},className:G.item}),pe=aC({value:V,referenceDate:f,utils:n,props:a,timezone:K}),ne=Ke(Y=>z(Y,"finish","hours")),{setValueAndGoToNextView:le}=Hp({view:_,views:N,openTo:B,onViewChange:D,onChange:ne,focusedView:E,onFocusedViewChange:R}),oe=Ke(Y=>{le(Y,"finish")});w.useEffect(()=>{if(i.current===null)return;const Y=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Y)return;const we=Y.offsetTop;(c||E)&&Y.focus(),i.current.scrollTop=we-4});const q=w.useCallback(Y=>{const we=Wp(m,n),fe=()=>!(y&&we(y,Y)||g&&we(Y,g)||b&&we(Y,se)||v&&we(se,Y)),$=()=>n.getMinutes(Y)%k!==0?!1:C?!C(Y,"hours"):!0;return!fe()||!$()},[m,n,y,g,b,se,v,k,C]),X=w.useMemo(()=>{const Y=n.startOfDay(pe);return[Y,...Array.from({length:Math.ceil(24*60/l)-1},(we,fe)=>n.addMinutes(Y,l*(fe+1)))]},[pe,l,n]),J=X.findIndex(Y=>n.isEqual(Y,pe));return x.jsx(Aee,T({ref:s,className:Se(G.root,A),ownerState:te},M,{children:x.jsx(Oee,{role:"listbox","aria-label":ie.timePickerToolbarTitle,className:G.list,children:X.map((Y,we)=>{if(F&&q(Y))return null;const fe=n.isEqual(Y,V),$=n.format(Y,o?"fullTime12h":"fullTime24h"),U=J===we||J===-1&&we===0?0:-1;return x.jsx(Z,T({onClick:()=>!L&&oe(Y),selected:fe,disabled:I||q(Y),disableRipple:L,role:"option","aria-disabled":L,"aria-selected":fe,tabIndex:U},he,{children:$}),$)})})}))});function zee(t){return Ge("MuiMultiSectionDigitalClock",t)}je("MuiMultiSectionDigitalClock",["root"]);function Wee(t){return Ge("MuiMultiSectionDigitalClockSection",t)}je("MuiMultiSectionDigitalClockSection",["root","item"]);const Hee=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Uee=t=>{const{classes:e}=t;return He({root:["root"],item:["item"]},Wee,e)},Gee=Q(Vk,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:FI,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),jee=Q(eI,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:LZ,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ro(t.palette.primary.main,t.palette.action.focusOpacity)}})),Yee=w.forwardRef(function(e,r){const n=w.useRef(null),i=Yt(r,n),s=w.useRef(null),a=Fe({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:o,onChange:l,className:c,disabled:u,readOnly:d,items:h,active:p,slots:f,slotProps:m,skipDisabled:g}=a,y=me(a,Hee),b=w.useMemo(()=>T({},a,{alreadyRendered:!!n.current}),[a]),v=Uee(b),k=(f==null?void 0:f.digitalClockSectionItem)??jee;w.useEffect(()=>{if(n.current===null)return;const S=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(p&&o&&S&&S.focus(),!S||s.current===S)return;s.current=S;const _=S.offsetTop;n.current.scrollTop=_-4});const C=h.findIndex(S=>S.isFocused(S.value));return x.jsx(Gee,T({ref:i,className:Se(v.root,c),ownerState:b,autoFocusItem:o&&p,role:"listbox"},y,{children:h.map((S,_)=>{var A;const B=(A=S.isDisabled)==null?void 0:A.call(S,S.value),D=u||B;if(g&&D)return null;const E=S.isSelected(S.value),R=C===_||C===-1&&_===0?0:-1;return x.jsx(k,T({onClick:()=>!d&&l(S.value),selected:E,disabled:D,disableRipple:d,role:"option","aria-disabled":d||D||void 0,"aria-label":S.ariaLabel,"aria-selected":E,tabIndex:R,className:v.item},m==null?void 0:m.digitalClockSectionItem,{children:S.label}),S.label)})}))}),Xee=({now:t,value:e,utils:r,ampm:n,isDisabled:i,resolveAriaLabel:s,timeStep:a,valueOrReferenceDate:o})=>{const l=e?r.getHours(e):null,c=[],u=(p,f)=>{const m=f??l;return m===null?!1:n?p===12?m===12||m===0:m===p||m-12===p:m===p},d=p=>u(p,r.getHours(o)),h=n?11:23;for(let p=0;p<=h;p+=a){let f=r.format(r.setHours(t,p),n?"hours12h":"hours24h");const m=s(parseInt(f,10).toString());f=r.formatNumber(f),c.push({value:p,label:f,isSelected:u,isDisabled:i,isFocused:d,ariaLabel:m})}return c},jB=({value:t,utils:e,isDisabled:r,timeStep:n,resolveLabel:i,resolveAriaLabel:s,hasValue:a=!0})=>{const o=c=>t===null?!1:a&&t===c,l=c=>t===c;return[...Array.from({length:Math.ceil(60/n)},(c,u)=>{const d=n*u;return{value:d,label:e.formatNumber(i(d)),isDisabled:r,isSelected:o,isFocused:l,ariaLabel:s(d.toString())}})]},qee=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Kee=t=>{const{classes:e}=t;return He({root:["root"]},zee,e)},Qee=Q(Nb,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),Jee=w.forwardRef(function(e,r){const n=er(),i=Un(),s=Fe({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:o,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:h,referenceDate:p,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:m,minTime:g,disableFuture:y,disablePast:b,minutesStep:v=1,shouldDisableTime:k,onChange:C,view:S,views:_=["hours","minutes"],openTo:B,onViewChange:D,focusedView:E,onFocusedViewChange:R,className:A,disabled:I,readOnly:L,skipDisabled:N=!1,timezone:F}=s,O=me(s,qee),{value:M,handleValueChange:V,timezone:z}=zd({name:"MultiSectionDigitalClock",timezone:F,value:d,defaultValue:h,onChange:C,valueManager:fi}),K=pi(),ie=Qc(z),se=w.useMemo(()=>T({hours:1,minutes:5,seconds:5},o),[o]),te=aC({value:M,referenceDate:p,utils:n,props:s,timezone:z}),G=Ke((U,j,ae)=>V(U,j,ae)),Z=w.useMemo(()=>!a||!_.includes("hours")||_.includes("meridiem")?_:[..._,"meridiem"],[a,_]),{view:he,setValueAndGoToNextView:pe,focusedView:ne}=Hp({view:S,views:Z,openTo:B,onViewChange:D,onChange:G,focusedView:E,onFocusedViewChange:R}),le=Ke(U=>{pe(U,"finish","meridiem")}),{meridiemMode:oe,handleMeridiemChange:q}=Jk(te,a,le,"finish"),X=w.useCallback((U,j)=>{const ae=Wp(f,n),Be=j==="hours"||j==="minutes"&&Z.includes("seconds"),ke=({start:Je,end:dt})=>!(g&&ae(g,dt)||m&&ae(Je,m)||y&&ae(Je,ie)||b&&ae(ie,Be?dt:Je)),De=(Je,dt=1)=>{if(Je%dt!==0)return!1;if(k)switch(j){case"hours":return!k(n.setHours(te,Je),"hours");case"minutes":return!k(n.setMinutes(te,Je),"minutes");case"seconds":return!k(n.setSeconds(te,Je),"seconds");default:return!1}return!0};switch(j){case"hours":{const Je=Hf(U,oe,a),dt=n.setHours(te,Je),Rt=n.setSeconds(n.setMinutes(dt,0),0),_e=n.setSeconds(n.setMinutes(dt,59),59);return!ke({start:Rt,end:_e})||!De(Je)}case"minutes":{const Je=n.setMinutes(te,U),dt=n.setSeconds(Je,0),Rt=n.setSeconds(Je,59);return!ke({start:dt,end:Rt})||!De(U,v)}case"seconds":{const Je=n.setSeconds(te,U);return!ke({start:Je,end:Je})||!De(U)}default:throw new Error("not supported")}},[a,te,f,m,oe,g,v,k,n,y,b,ie,Z]),J=w.useCallback(U=>{switch(U){case"hours":return{onChange:j=>{const ae=Hf(j,oe,a);pe(n.setHours(te,ae),"finish","hours")},items:Xee({now:ie,value:M,ampm:a,utils:n,isDisabled:j=>X(j,"hours"),timeStep:se.hours,resolveAriaLabel:K.hoursClockNumberText,valueOrReferenceDate:te})};case"minutes":return{onChange:j=>{pe(n.setMinutes(te,j),"finish","minutes")},items:jB({value:n.getMinutes(te),utils:n,isDisabled:j=>X(j,"minutes"),resolveLabel:j=>n.format(n.setMinutes(ie,j),"minutes"),timeStep:se.minutes,hasValue:!!M,resolveAriaLabel:K.minutesClockNumberText})};case"seconds":return{onChange:j=>{pe(n.setSeconds(te,j),"finish","seconds")},items:jB({value:n.getSeconds(te),utils:n,isDisabled:j=>X(j,"seconds"),resolveLabel:j=>n.format(n.setSeconds(ie,j),"seconds"),timeStep:se.seconds,hasValue:!!M,resolveAriaLabel:K.secondsClockNumberText})};case"meridiem":{const j=ml(n,"am"),ae=ml(n,"pm");return{onChange:q,items:[{value:"am",label:j,isSelected:()=>!!M&&oe==="am",isFocused:()=>!!te&&oe==="am",ariaLabel:j},{value:"pm",label:ae,isSelected:()=>!!M&&oe==="pm",isFocused:()=>!!te&&oe==="pm",ariaLabel:ae}]}}default:throw new Error(`Unknown view: ${U} found.`)}},[ie,M,a,n,se.hours,se.minutes,se.seconds,K.hoursClockNumberText,K.minutesClockNumberText,K.secondsClockNumberText,oe,pe,te,X,q]),Y=w.useMemo(()=>{if(!i)return Z;const j=Z.filter(ae=>ae!=="meridiem").toReversed();return Z.includes("meridiem")&&j.push("meridiem"),j},[i,Z]),we=w.useMemo(()=>Z.reduce((U,j)=>T({},U,{[j]:J(j)}),{}),[Z,J]),fe=s,$=Kee(fe);return x.jsx(Qee,T({ref:r,className:Se($.root,A),ownerState:fe,role:"group"},O,{children:Y.map(U=>x.jsx(Yee,{items:we[U].items,onChange:we[U].onChange,active:he===U,autoFocus:l??ne===U,disabled:I,readOnly:L,slots:c,slotProps:u,skipDisabled:N,"aria-label":K.selectViewText(U)},U))}))});function Zee(t){return Ge("MuiPickersDay",t)}const Ql=je("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),ete=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],tte=t=>{const{selected:e,disableMargin:r,disableHighlightToday:n,today:i,disabled:s,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:o,classes:l}=t,c=a&&!o;return He({root:["root",e&&!c&&"selected",s&&"disabled",!r&&"dayWithMargin",!n&&i&&"today",a&&o&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Zee,l)},YI=({theme:t})=>T({},t.typography.caption,{width:Uf,height:Uf,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ro(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Ql.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Ql.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Ql.disabled}:not(.${Ql.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ql.disabled}&.${Ql.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Pb}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Ql.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),XI=(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableMargin&&e.dayWithMargin,!r.disableHighlightToday&&r.today&&e.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},rte=Q(js,{name:"MuiPickersDay",slot:"Root",overridesResolver:XI})(YI),nte=Q("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:XI})(({theme:t})=>T({},YI({theme:t}),{opacity:0,pointerEvents:"none"})),gh=()=>{},ite=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:a,disabled:o=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=gh,onBlur:f=gh,onKeyDown:m=gh,onMouseDown:g=gh,onMouseEnter:y=gh,outsideCurrentMonth:b,selected:v=!1,showDaysOutsideCurrentMonth:k=!1,children:C,today:S=!1}=n,_=me(n,ete),B=T({},n,{autoFocus:i,disabled:o,disableHighlightToday:l,disableMargin:c,selected:v,showDaysOutsideCurrentMonth:k,today:S}),D=tte(B),E=er(),R=w.useRef(null),A=Yt(R,r);zr(()=>{i&&!o&&!u&&!b&&R.current.focus()},[i,o,u,b]);const I=N=>{g(N),b&&N.preventDefault()},L=N=>{o||h(a),b&&N.currentTarget.focus(),d&&d(N)};return b&&!k?x.jsx(nte,{className:Se(D.root,D.hiddenDaySpacingFiller,s),ownerState:B,role:_.role}):x.jsx(rte,T({className:Se(D.root,s),ref:A,centerRipple:!0,disabled:o,tabIndex:v?0:-1,onKeyDown:N=>m(N,a),onFocus:N=>p(N,a),onBlur:N=>f(N,a),onMouseEnter:N=>y(N,a),onClick:L,onMouseDown:I},_,{ownerState:B,children:C||E.format(a,"dayOfMonth")}))}),ste=w.memo(ite);function qI(t,e,r,n){const{value:i,onError:s}=t,a=Kc(),o=w.useRef(n),l=e({adapter:a,value:i,props:t});return w.useEffect(()=>{s&&!r(l,o.current)&&s(l,i),o.current=l},[r,s,o,l,i]),l}const ate=({utils:t,format:e})=>{let r=10,n=e,i=t.expandFormat(e);for(;i!==n;)if(n=i,i=t.expandFormat(n),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},ote=({utils:t,expandedFormat:e})=>{const r=[],{start:n,end:i}=t.escapedCharacters,s=new RegExp(`(\\${n}[^\\${i}]*\\${i})+`,"g");let a=null;for(;a=s.exec(e);)r.push({start:a.index,end:s.lastIndex-1});return r},lte=(t,e,r,n,i)=>{switch(n.type){case"year":return r.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),i).length,format:i});case"month":return r.fieldMonthPlaceholder({contentType:n.contentType,format:i});case"day":return r.fieldDayPlaceholder({format:i});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:n.contentType,format:i});case"hours":return r.fieldHoursPlaceholder({format:i});case"minutes":return r.fieldMinutesPlaceholder({format:i});case"seconds":return r.fieldSecondsPlaceholder({format:i});case"meridiem":return r.fieldMeridiemPlaceholder({format:i});default:return i}},cte=({utils:t,timezone:e,date:r,shouldRespectLeadingZeros:n,localeText:i,localizedDigits:s,now:a,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=VI(t,o),u=GI(t,e,c.contentType,c.type,o),d=n?u:c.contentType==="digit",h=r!=null&&t.isValid(r);let p=h?t.formatByString(r,o):"",f=null;if(d)if(u)f=p===""?t.formatByString(a,o).length:p.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxDigitNumber' property on it's adapter`);f=c.maxLength,h&&(p=iC(WI(Vc(p,s),f),s))}return T({},c,{format:o,maxLength:f,value:p,placeholder:lte(t,e,i,c,o),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},ute=t=>{var p;const{utils:e,expandedFormat:r,escapedParts:n}=t,i=e.date(void 0),s=[];let a="";const o=Object.keys(e.formatTokenMap).sort((f,m)=>m.length-f.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${o.join("|")})*$`),u=new RegExp(`^(${o.join("|")})`),d=f=>n.find(m=>m.start<=f&&m.end>=f);let h=0;for(;h<r.length;){const f=d(h),m=f!=null,g=(p=l.exec(r.slice(h)))==null?void 0:p[1];if(!m&&g!=null&&c.test(g)){let y=g;for(;y.length>0;){const b=u.exec(y)[1];y=y.slice(b.length),s.push(cte(T({},t,{now:i,token:b,startSeparator:a}))),a=""}h+=g.length}else{const y=r[h];m&&(f==null?void 0:f.start)===h||(f==null?void 0:f.end)===h||(s.length===0?a+=y:s[s.length-1].endSeparator+=y),h+=1}}return s.length===0&&a.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),s},dte=({isRtl:t,formatDensity:e,sections:r})=>r.map(n=>{const i=s=>{let a=s;return t&&a!==null&&a.includes(" ")&&(a=`${a}`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=i(n.startSeparator),n.endSeparator=i(n.endSeparator),n}),YB=t=>{let e=ate(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const r=ote(T({},t,{expandedFormat:e})),n=ute(T({},t,{expandedFormat:e,escapedParts:r}));return dte(T({},t,{sections:n}))},hte=t=>{const e=er(),r=pi(),n=Kc(),i=Un(),{valueManager:s,fieldValueManager:a,valueType:o,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:h,onChange:p,format:f,formatDensity:m="dense",selectedSections:g,onSelectedSectionsChange:y,shouldRespectLeadingZeros:b=!1,timezone:v,enableAccessibleFieldDOMStructure:k=!1}}=t,{timezone:C,value:S,handleValueChange:_}=nC({timezone:v,value:u,defaultValue:d,onChange:p,valueManager:s}),B=w.useMemo(()=>gee(e),[e]),D=w.useMemo(()=>xee(e,B,C),[e,B,C]),E=w.useCallback((G,Z=null)=>a.getSectionsFromValue(e,G,Z,he=>YB({utils:e,timezone:C,localeText:r,localizedDigits:B,format:f,date:he,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:k,isRtl:i})),[a,f,r,B,i,b,e,m,C,k]),[R,A]=w.useState(()=>{const G=E(S),Z={sections:G,value:S,referenceValue:s.emptyValue,tempValueStrAndroid:null},he=hee(G),pe=s.getInitialReferenceValue({referenceDate:h,value:S,utils:e,props:c,granularity:he,timezone:C});return T({},Z,{referenceValue:pe})}),[I,L]=hs({controlled:g,default:null,name:"useField",state:"selectedSections"}),N=G=>{L(G),y==null||y(G)},F=w.useMemo(()=>gS(I,R.sections),[I,R.sections]),O=F==="all"?0:F,M=({value:G,referenceValue:Z,sections:he})=>{if(A(ne=>T({},ne,{sections:he,value:G,referenceValue:Z,tempValueStrAndroid:null})),s.areValuesEqual(e,R.value,G))return;const pe={validationError:l({adapter:n,value:G,props:T({},c,{value:G,timezone:C})})};_(G,pe)},V=(G,Z)=>{const he=[...R.sections];return he[G]=T({},he[G],{value:Z,modified:!0}),he},z=()=>{M({value:s.emptyValue,referenceValue:R.referenceValue,sections:E(s.emptyValue)})},K=()=>{if(O==null)return;const G=R.sections[O],Z=a.getActiveDateManager(e,R,G),pe=Z.getSections(R.sections).filter(q=>q.value!=="").length===(G.value===""?0:1),ne=V(O,""),le=pe?null:e.getInvalidDate(),oe=Z.getNewValuesFromNewActiveDate(le);M(T({},oe,{sections:ne}))},ie=G=>{const Z=(ne,le)=>{const oe=e.parse(ne,f);if(oe==null||!e.isValid(oe))return null;const q=YB({utils:e,timezone:C,localeText:r,localizedDigits:B,format:f,date:oe,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:k,isRtl:i});return GB(e,C,oe,q,le,!1)},he=a.parseValueStr(G,R.referenceValue,Z),pe=a.updateReferenceValue(e,he,R.referenceValue);M({value:he,referenceValue:pe,sections:E(he,R.sections)})},se=({activeSection:G,newSectionValue:Z,shouldGoToNextSection:he})=>{he&&O<R.sections.length-1&&N(O+1);const pe=a.getActiveDateManager(e,R,G),ne=V(O,Z),le=pe.getSections(ne),oe=bee(e,le,B);let q,X;if(oe!=null&&e.isValid(oe)){const J=GB(e,C,oe,le,pe.referenceDate,!0);q=pe.getNewValuesFromNewActiveDate(J),X=!0}else q=pe.getNewValuesFromNewActiveDate(oe),X=(oe!=null&&!e.isValid(oe))!=(pe.date!=null&&!e.isValid(pe.date));return X?M(T({},q,{sections:ne})):A(J=>T({},J,q,{sections:ne,tempValueStrAndroid:null}))},te=G=>A(Z=>T({},Z,{tempValueStrAndroid:G}));return w.useEffect(()=>{const G=E(R.value);A(Z=>T({},Z,{sections:G}))},[f,e.locale,i]),w.useEffect(()=>{let G;s.areValuesEqual(e,R.value,S)?G=s.getTimezone(e,R.value)!==s.getTimezone(e,S):G=!0,G&&A(Z=>T({},Z,{value:S,referenceValue:a.updateReferenceValue(e,S,Z.referenceValue),sections:E(S)}))},[S]),{state:R,activeSectionIndex:O,parsedSelectedSections:F,setSelectedSections:N,clearValue:z,clearActiveSection:K,updateSectionValue:se,updateValueFromValueStr:ie,setTempAndroidValueStr:te,getSectionsFromValue:E,sectionsValueBoundaries:D,localizedDigits:B,timezone:C}},fte=5e3,hu=t=>t.saveQuery!=null,pte=({sections:t,updateSectionValue:e,sectionsValueBoundaries:r,localizedDigits:n,setTempAndroidValueStr:i,timezone:s})=>{const a=er(),[o,l]=w.useState(null),c=Ke(()=>l(null));w.useEffect(()=>{var f;o!=null&&((f=t[o.sectionIndex])==null?void 0:f.type)!==o.sectionType&&c()},[t,o,c]),w.useEffect(()=>{if(o!=null){const f=setTimeout(()=>c(),fte);return()=>{clearTimeout(f)}}return()=>{}},[o,c]);const u=({keyPressed:f,sectionIndex:m},g,y)=>{const b=f.toLowerCase(),v=t[m];if(o!=null&&(!y||y(o.value))&&o.sectionIndex===m){const C=`${o.value}${b}`,S=g(C,v);if(!hu(S))return l({sectionIndex:m,value:C,sectionType:v.type}),S}const k=g(b,v);return hu(k)&&!k.saveQuery?(c(),null):(l({sectionIndex:m,value:b,sectionType:v.type}),hu(k)?null:k)},d=f=>{const m=(b,v,k)=>{const C=v.filter(S=>S.toLowerCase().startsWith(k));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},g=(b,v,k,C)=>{const S=_=>zI(a,s,v.type,_);if(v.contentType==="letter")return m(v.format,S(v.format),b);if(k&&C!=null&&VI(a,k).contentType==="letter"){const _=S(k),B=m(k,_,b);return hu(B)?{saveQuery:!1}:T({},B,{sectionValue:C(B.sectionValue,_)})}return{saveQuery:!1}};return u(f,(b,v)=>{switch(v.type){case"month":{const k=C=>HB(a,C,a.formats.month,v.format);return g(b,v,a.formats.month,k)}case"weekDay":{const k=(C,S)=>S.indexOf(C).toString();return g(b,v,a.formats.weekday,k)}case"meridiem":return g(b,v);default:return{saveQuery:!1}}})},h=f=>{const m=(y,b)=>{const v=Vc(y,n),k=Number(v),C=r[b.type]({currentDate:null,format:b.format,contentType:b.contentType});if(k>C.maximum)return{saveQuery:!1};if(k<C.minimum)return{saveQuery:!0};const S=k*10>C.maximum||v.length===C.maximum.toString().length;return{sectionValue:HI(a,k,C,n,b),shouldGoToNextSection:S}};return u(f,(y,b)=>{if(b.contentType==="digit"||b.contentType==="digit-with-letter")return m(y,b);if(b.type==="month"){const v=GI(a,s,"digit","month","MM"),k=m(y,{type:b.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(hu(k))return k;const C=HB(a,k.sectionValue,"MM",b.format);return T({},k,{sectionValue:C})}if(b.type==="weekDay"){const v=m(y,b);if(hu(v))return v;const k=Mb(a,s,b.format)[Number(v.sectionValue)-1];return T({},v,{sectionValue:k})}return{saveQuery:!1}},y=>WB(y,n))};return{applyCharacterEditing:Ke(f=>{const m=t[f.sectionIndex],y=WB(f.keyPressed,n)?h(T({},f,{keyPressed:iC(f.keyPressed,n)})):d(f);if(y==null){i(null);return}e({activeSection:m,newSectionValue:y.sectionValue,shouldGoToNextSection:y.shouldGoToNextSection})}),resetCharacterQuery:c}};function Su(t,e){return Array.isArray(e)?e.every(r=>t.indexOf(r)!==-1):t.indexOf(e)!==-1}const mte=(t,e)=>r=>{(r.key==="Enter"||r.key===" ")&&(t(r),r.preventDefault(),r.stopPropagation()),e&&e(r)},Ds=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Ds(e.shadowRoot):e:null},KI="@media (pointer: fine)",gte=t=>{const{internalProps:{disabled:e,readOnly:r=!1},forwardedProps:{sectionListRef:n,onBlur:i,onClick:s,onFocus:a,onInput:o,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:p,setSelectedSections:f,parsedSelectedSections:m,state:g,clearActiveSection:y,clearValue:b,updateSectionValue:v,updateValueFromValueStr:k,sectionOrder:C,areAllSectionsEmpty:S,sectionsValueBoundaries:_}=t,B=w.useRef(null),D=Yt(n,B),E=pi(),R=er(),A=Js(),[I,L]=w.useState(!1),N=w.useMemo(()=>({syncSelectionToDOM:()=>{if(!B.current)return;const X=document.getSelection();if(!X)return;if(m==null){X.rangeCount>0&&B.current.getRoot().contains(X.getRangeAt(0).startContainer)&&X.removeAllRanges(),I&&B.current.getRoot().blur();return}if(!B.current.getRoot().contains(Ds(document)))return;const J=new window.Range;let Y;m==="all"?Y=B.current.getRoot():g.sections[m].type==="empty"?Y=B.current.getSectionContainer(m):Y=B.current.getSectionContent(m),J.selectNodeContents(Y),Y.focus(),X.removeAllRanges(),X.addRange(J)},getActiveSectionIndexFromDOM:()=>{const X=Ds(document);return!X||!B.current||!B.current.getRoot().contains(X)?null:B.current.getSectionIndexFromDOMElement(X)},focusField:(X=0)=>{if(!B.current)return;const J=gS(X,g.sections);L(!0),B.current.getSectionContent(J).focus()},setSelectedSections:X=>{if(!B.current)return;const J=gS(X,g.sections);L((J==="all"?0:J)!==null),f(X)},isFieldFocused:()=>{const X=Ds(document);return!!B.current&&B.current.getRoot().contains(X)}}),[m,f,g.sections,I]),F=Ke(X=>{if(!B.current)return;const J=g.sections[X];B.current.getSectionContent(X).innerHTML=J.value||J.placeholder,N.syncSelectionToDOM()}),O=Ke((X,...J)=>{X.isDefaultPrevented()||!B.current||(L(!0),s==null||s(X,...J),m==="all"?setTimeout(()=>{const Y=document.getSelection().getRangeAt(0).startOffset;if(Y===0){f(C.startIndex);return}let we=0,fe=0;for(;fe<Y&&we<g.sections.length;){const $=g.sections[we];we+=1,fe+=`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`.length}f(we-1)}):I?B.current.getRoot().contains(X.target)||f(C.startIndex):(L(!0),f(C.startIndex)))}),M=Ke(X=>{if(o==null||o(X),!B.current||m!=="all")return;const Y=X.target.textContent??"";B.current.getRoot().innerHTML=g.sections.map(we=>`${we.startSeparator}${we.value||we.placeholder}${we.endSeparator}`).join(""),N.syncSelectionToDOM(),Y.length===0||Y.charCodeAt(0)===10?(p(),b(),f("all")):Y.length>1?k(Y):h({keyPressed:Y,sectionIndex:0})}),V=Ke(X=>{if(l==null||l(X),r||m!=="all"){X.preventDefault();return}const J=X.clipboardData.getData("text");X.preventDefault(),p(),k(J)}),z=Ke((...X)=>{if(a==null||a(...X),I||!B.current)return;L(!0),B.current.getSectionIndexFromDOMElement(Ds(document))!=null||f(C.startIndex)}),K=Ke((...X)=>{i==null||i(...X),setTimeout(()=>{if(!B.current)return;const J=Ds(document);!B.current.getRoot().contains(J)&&(L(!1),f(null))})}),ie=Ke(X=>J=>{J.isDefaultPrevented()||r||f(X)}),se=Ke(X=>{X.preventDefault()}),te=Ke(X=>()=>{r||f(X)}),G=Ke(X=>{if(X.preventDefault(),r||typeof m!="number")return;const J=g.sections[m],Y=X.clipboardData.getData("text"),we=/^[a-zA-Z]+$/.test(Y),fe=/^[0-9]+$/.test(Y),$=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Y);J.contentType==="letter"&&we||J.contentType==="digit"&&fe||J.contentType==="digit-with-letter"&&$?(p(),v({activeSection:J,newSectionValue:Y,shouldGoToNextSection:!0})):!we&&!fe&&(p(),k(Y))}),Z=Ke(X=>{X.preventDefault(),X.dataTransfer.dropEffect="none"}),he=Ke(X=>{if(!B.current)return;const J=X.target,Y=J.textContent??"",we=B.current.getSectionIndexFromDOMElement(J),fe=g.sections[we];if(r||!B.current){F(we);return}if(Y.length===0){if(fe.value===""){F(we);return}const $=X.nativeEvent.inputType;if($==="insertParagraph"||$==="insertLineBreak"){F(we);return}p(),y();return}h({keyPressed:Y,sectionIndex:we}),F(we)});zr(()=>{if(!(!I||!B.current)){if(m==="all")B.current.getRoot().focus();else if(typeof m=="number"){const X=B.current.getSectionContent(m);X&&X.focus()}}},[m,I]);const pe=w.useMemo(()=>g.sections.reduce((X,J)=>(X[J.type]=_[J.type]({currentDate:null,contentType:J.contentType,format:J.format}),X),{}),[_,g.sections]),ne=m==="all",le=w.useMemo(()=>g.sections.map((X,J)=>{const Y=!ne&&!e&&!r;return{container:{"data-sectionindex":J,onClick:ie(J)},content:{tabIndex:ne||J>0?-1:0,contentEditable:!ne&&!e&&!r,role:"spinbutton",id:`${A}-${X.type}`,"aria-labelledby":`${A}-${X.type}`,"aria-readonly":r,"aria-valuenow":_ee(X,R),"aria-valuemin":pe[X.type].minimum,"aria-valuemax":pe[X.type].maximum,"aria-valuetext":X.value?Tee(X,R):E.empty,"aria-label":E[X.type],"aria-disabled":e,spellCheck:Y?!1:void 0,autoCapitalize:Y?"off":void 0,autoCorrect:Y?"off":void 0,[parseInt(w.version,10)>=17?"enterKeyHint":"enterkeyhint"]:Y?"next":void 0,children:X.value||X.placeholder,onInput:he,onPaste:G,onFocus:te(J),onDragOver:Z,onMouseUp:se,inputMode:X.contentType==="letter"?"text":"numeric"},before:{children:X.startSeparator},after:{children:X.endSeparator}}}),[g.sections,te,G,Z,he,ie,se,e,r,ne,E,R,pe,A]),oe=Ke(X=>{k(X.target.value)}),q=w.useMemo(()=>S?"":d.getV7HiddenInputValueFromSections(g.sections),[S,g.sections,d]);return w.useEffect(()=>{if(B.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&B.current&&B.current.getSectionContent(C.startIndex).focus()},[]),{interactions:N,returnedValue:{autoFocus:u,readOnly:r,focused:c??I,sectionListRef:D,onBlur:K,onClick:O,onFocus:z,onInput:M,onPaste:V,enableAccessibleFieldDOMStructure:!0,elements:le,tabIndex:m===0?-1:0,contentEditable:ne,value:q,onChange:oe,areAllSectionsEmpty:S}}},Au=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),yte=(t,e,r)=>{let n=0,i=r?1:0;const s=[];for(let a=0;a<t.length;a+=1){const o=t[a],l=sC(o,r?"input-rtl":"input-ltr",e),c=`${o.startSeparator}${l}${o.endSeparator}`,u=Au(c).length,d=c.length,h=Au(l),p=i+(h===""?0:l.indexOf(h[0]))+o.startSeparator.length,f=p+h.length;s.push(T({},o,{start:n,end:n+u,startInInput:p,endInInput:f})),n+=u,i+=d}return s},bte=t=>{const e=Un(),r=w.useRef(),{forwardedProps:{onFocus:n,onClick:i,onPaste:s,onBlur:a,inputRef:o,placeholder:l},internalProps:{readOnly:c=!1},parsedSelectedSections:u,activeSectionIndex:d,state:h,fieldValueManager:p,valueManager:f,applyCharacterEditing:m,resetCharacterQuery:g,updateSectionValue:y,updateValueFromValueStr:b,clearActiveSection:v,clearValue:k,setTempAndroidValueStr:C,setSelectedSections:S,getSectionsFromValue:_,areAllSectionsEmpty:B,localizedDigits:D}=t,E=w.useRef(null),R=Yt(o,E),A=w.useMemo(()=>yte(h.sections,D,e),[h.sections,D,e]),I=w.useMemo(()=>({syncSelectionToDOM:()=>{if(!E.current)return;if(u==null){E.current.scrollLeft&&(E.current.scrollLeft=0);return}if(E.current!==Ds(document))return;const G=E.current.scrollTop;if(u==="all")E.current.select();else{const Z=A[u],he=Z.type==="empty"?Z.startInInput-Z.startSeparator.length:Z.startInInput,pe=Z.type==="empty"?Z.endInInput+Z.endSeparator.length:Z.endInInput;(he!==E.current.selectionStart||pe!==E.current.selectionEnd)&&E.current===Ds(document)&&E.current.setSelectionRange(he,pe)}E.current.scrollTop=G},getActiveSectionIndexFromDOM:()=>{var ne;const G=E.current.selectionStart??0,Z=E.current.selectionEnd??0,he=!!((ne=E.current)!=null&&ne.readOnly);if(G===0&&Z===0||he)return null;const pe=G<=A[0].startInInput?1:A.findIndex(le=>le.startInInput-le.startSeparator.length>G);return pe===-1?A.length-1:pe-1},focusField:(G=0)=>{var Z;(Z=E.current)==null||Z.focus(),S(G)},setSelectedSections:G=>S(G),isFieldFocused:()=>E.current===Ds(document)}),[E,u,A,S]),L=()=>{if(c){S(null);return}const G=E.current.selectionStart??0;let Z;G<=A[0].startInInput||G>=A[A.length-1].endInInput?Z=1:Z=A.findIndex(pe=>pe.startInInput-pe.startSeparator.length>G);const he=Z===-1?A.length-1:Z-1;S(he)},N=Ke((...G)=>{n==null||n(...G);const Z=E.current;clearTimeout(r.current),r.current=setTimeout(()=>{!Z||Z!==E.current||d!=null||c||(Z.value.length&&Number(Z.selectionEnd)-Number(Z.selectionStart)===Z.value.length?S("all"):L())})}),F=Ke((G,...Z)=>{G.isDefaultPrevented()||(i==null||i(G,...Z),L())}),O=Ke(G=>{if(s==null||s(G),G.preventDefault(),c)return;const Z=G.clipboardData.getData("text");if(typeof u=="number"){const he=h.sections[u],pe=/^[a-zA-Z]+$/.test(Z),ne=/^[0-9]+$/.test(Z),le=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Z);if(he.contentType==="letter"&&pe||he.contentType==="digit"&&ne||he.contentType==="digit-with-letter"&&le){g(),y({activeSection:he,newSectionValue:Z,shouldGoToNextSection:!0});return}if(pe||ne)return}g(),b(Z)}),M=Ke((...G)=>{a==null||a(...G),S(null)}),V=Ke(G=>{if(c)return;const Z=G.target.value;if(Z===""){g(),k();return}const he=G.nativeEvent.data,pe=he&&he.length>1,ne=pe?he:Z,le=Au(ne);if(d==null||pe){b(pe?he:le);return}let oe;if(u==="all"&&le.length===1)oe=le;else{const q=Au(p.getV6InputValueFromSections(A,D,e));let X=-1,J=-1;for(let $=0;$<q.length;$+=1)X===-1&&q[$]!==le[$]&&(X=$),J===-1&&q[q.length-$-1]!==le[le.length-$-1]&&(J=$);const Y=A[d];if(X<Y.start||q.length-J-1>Y.end)return;const fe=le.length-q.length+Y.end-Au(Y.endSeparator||"").length;oe=le.slice(Y.start+Au(Y.startSeparator||"").length,fe)}if(oe.length===0){kee()?C(ne):(g(),v());return}m({keyPressed:oe,sectionIndex:d})}),z=w.useMemo(()=>l!==void 0?l:p.getV6InputValueFromSections(_(f.emptyValue),D,e),[l,p,_,f.emptyValue,D,e]),K=w.useMemo(()=>h.tempValueStrAndroid??p.getV6InputValueFromSections(h.sections,D,e),[h.sections,p,h.tempValueStrAndroid,D,e]);w.useEffect(()=>(E.current&&E.current===Ds(document)&&S("all"),()=>{clearTimeout(r.current)}),[]);const ie=w.useMemo(()=>d==null||h.sections[d].contentType==="letter"?"text":"numeric",[d,h.sections]),te=!(E.current&&E.current===Ds(document))&&B;return{interactions:I,returnedValue:{readOnly:c,onBlur:M,onClick:F,onFocus:N,onPaste:O,inputRef:R,enableAccessibleFieldDOMStructure:!1,placeholder:z,inputMode:ie,autoComplete:"off",value:te?"":K,onChange:V}}},QI=t=>{const e=er(),{internalProps:r,internalProps:{unstableFieldRef:n,minutesStep:i,enableAccessibleFieldDOMStructure:s=!1,disabled:a=!1,readOnly:o=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:p,validator:f}=t,m=Un(),g=hte(t),{state:y,activeSectionIndex:b,parsedSelectedSections:v,setSelectedSections:k,clearValue:C,clearActiveSection:S,updateSectionValue:_,setTempAndroidValueStr:B,sectionsValueBoundaries:D,localizedDigits:E,timezone:R}=g,A=pte({sections:y.sections,updateSectionValue:_,sectionsValueBoundaries:D,localizedDigits:E,setTempAndroidValueStr:B,timezone:R}),{resetCharacterQuery:I}=A,L=p.areValuesEqual(e,y.value,p.emptyValue),N=s?gte:bte,F=w.useMemo(()=>Cee(y.sections,m&&!s),[y.sections,m,s]),{returnedValue:O,interactions:M}=N(T({},t,g,A,{areAllSectionsEmpty:L,sectionOrder:F})),V=Ke(G=>{switch(l==null||l(G),!0){case((G.ctrlKey||G.metaKey)&&G.key.toLowerCase()==="a"&&!G.shiftKey&&!G.altKey):{G.preventDefault(),k("all");break}case G.key==="ArrowRight":{if(G.preventDefault(),v==null)k(F.startIndex);else if(v==="all")k(F.endIndex);else{const Z=F.neighbors[v].rightIndex;Z!==null&&k(Z)}break}case G.key==="ArrowLeft":{if(G.preventDefault(),v==null)k(F.endIndex);else if(v==="all")k(F.startIndex);else{const Z=F.neighbors[v].leftIndex;Z!==null&&k(Z)}break}case G.key==="Delete":{if(G.preventDefault(),o)break;v==null||v==="all"?C():S(),I();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(G.key):{if(G.preventDefault(),o||b==null)break;const Z=y.sections[b],he=h.getActiveDateManager(e,y,Z),pe=yee(e,R,Z,G.key,D,E,he.date,{minutesStep:i});_({activeSection:Z,newSectionValue:pe,shouldGoToNextSection:!1});break}}});zr(()=>{M.syncSelectionToDOM()});const z=qI(T({},r,{value:y.value,timezone:R}),f,p.isSameError,p.defaultErrorState),K=w.useMemo(()=>c!==void 0?c:p.hasError(z),[p,z,c]);w.useEffect(()=>{!K&&b==null&&I()},[y.referenceValue,b,K]),w.useEffect(()=>{y.tempValueStrAndroid!=null&&b!=null&&(I(),S())},[y.sections]),w.useImperativeHandle(n,()=>({getSections:()=>y.sections,getActiveSectionIndex:M.getActiveSectionIndexFromDOM,setSelectedSections:M.setSelectedSections,focusField:M.focusField,isFieldFocused:M.isFieldFocused}));const ie=Ke((G,...Z)=>{G.preventDefault(),d==null||d(G,...Z),C(),M.isFieldFocused()?k(F.startIndex):M.focusField(0)}),se={onKeyDown:V,onClear:ie,error:K,clearable:!!(u&&!L&&!o&&!a)},te={disabled:a,readOnly:o};return T({},t.forwardedProps,se,te,O)},Eb=({props:t,value:e,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:o,timezone:l}=t,c=r.utils.date(void 0,l),u=qs(r.utils,t.minDate,r.defaultDates.minDate),d=qs(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(o&&r.utils.isAfterDay(e,c)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&r.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&r.utils.isAfterDay(e,d)):return"maxDate";default:return null}},yS=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],bS=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],JI=["minDateTime","maxDateTime"],vte=[...yS,...bS,...JI],Rb=t=>vte.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{}),wte=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],ZI=(t,e)=>{const r=T({},t),n={},i=s=>{r.hasOwnProperty(s)&&(n[s]=r[s],delete r[s])};return wte.forEach(i),e==="date"?yS.forEach(i):e==="time"?bS.forEach(i):e==="date-time"&&(yS.forEach(i),bS.forEach(i),JI.forEach(i)),{forwardedProps:r,internalProps:n}},xte=t=>{const e=er(),r=zp();return T({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:qs(e,t.minDate,r.minDate),maxDate:qs(e,t.maxDate,r.maxDate)})},Ste=t=>{const e=er(),n=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return T({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??n})},kte=t=>{const e=xte(t),{forwardedProps:r,internalProps:n}=ZI(e,"date");return QI({forwardedProps:r,internalProps:n,valueManager:fi,fieldValueManager:jI,validator:Eb,valueType:"date"})},Cte=["clearable","onClear","InputProps","sx","slots","slotProps"],Tte=["ownerState"],eF=t=>{const e=pi(),{clearable:r,onClear:n,InputProps:i,sx:s,slots:a,slotProps:o}=t,l=me(t,Cte),c=(a==null?void 0:a.clearButton)??oi,u=Bt({elementType:c,externalSlotProps:o==null?void 0:o.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=me(u,Tte),h=(a==null?void 0:a.clearIcon)??wZ,p=Bt({elementType:h,externalSlotProps:o==null?void 0:o.clearIcon,ownerState:{}});return T({},l,{InputProps:T({},i,{endAdornment:x.jsxs(w.Fragment,{children:[r&&x.jsx(XL,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:x.jsx(c,T({},d,{onClick:n,children:x.jsx(h,T({fontSize:"small"},p))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function _te(t){return Ge("MuiPickersTextField",t)}je("MuiPickersTextField",["root","focused","disabled","error","required"]);function Pte(t){return Ge("MuiPickersInputBase",t)}const qu=je("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function Bte(t){return Ge("MuiPickersSectionList",t)}const yh=je("MuiPickersSectionList",["root","section","sectionContent"]),Nte=["slots","slotProps","elements","sectionListRef"],tF=Q("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),rF=Q("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),nF=Q("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),iF=Q("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),Mte=t=>{const{classes:e}=t;return He({root:["root"],section:["section"],sectionContent:["sectionContent"]},Bte,e)};function Ete(t){const{slots:e,slotProps:r,element:n,classes:i}=t,s=(e==null?void 0:e.section)??rF,a=Bt({elementType:s,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:n.container,className:i.section,ownerState:{}}),o=(e==null?void 0:e.sectionContent)??iF,l=Bt({elementType:o,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??nF,u=Bt({elementType:c,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),d=Bt({elementType:c,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return x.jsxs(s,T({},a,{children:[x.jsx(c,T({},u)),x.jsx(o,T({},l)),x.jsx(c,T({},d))]}))}const Rte=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:s,elements:a,sectionListRef:o}=n,l=me(n,Nte),c=Mte(n),u=w.useRef(null),d=Yt(r,u),h=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};w.useImperativeHandle(o,()=>({getRoot(){return h("getRoot")},getSectionContainer(m){return h("getSectionContainer").querySelector(`.${yh.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return h("getSectionContent").querySelector(`.${yh.section}[data-sectionindex="${m}"] .${yh.sectionContent}`)},getSectionIndexFromDOMElement(m){const g=h("getSectionIndexFromDOMElement");if(m==null||!g.contains(m))return null;let y=null;return m.classList.contains(yh.section)?y=m:m.classList.contains(yh.sectionContent)&&(y=m.parentElement),y==null?null:Number(y.dataset.sectionindex)}}));const p=(i==null?void 0:i.root)??tF,f=Bt({elementType:p,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return x.jsx(p,T({},f,{children:f.contentEditable?a.map(({content:m,before:g,after:y})=>`${g.children}${m.children}${y.children}`).join(""):x.jsx(w.Fragment,{children:a.map((m,g)=>x.jsx(Ete,{slots:i,slotProps:s,element:m,classes:c},g))})}))}),Dte=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Lte=t=>Math.round(t*1e5)/1e5,Db=Q("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>T({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Lte(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),oC=Q(tF,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:r,filled:n,label:i})=>!e&&!r&&!n&&i==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),Ite=Q(rF,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),Fte=Q(iF,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Ate=Q(nF,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Ote=Q("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(T({},yk)),$te=t=>{const{focused:e,disabled:r,error:n,classes:i,fullWidth:s,readOnly:a,color:o,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!r&&"focused",r&&"disabled",a&&"readOnly",n&&"error",s&&"fullWidth",`color${Ee(o)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return He(d,Pte,i)},lC=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:s,value:a,onChange:o,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:p,contentEditable:f,tabIndex:m,onInput:g,onPaste:y,onKeyDown:b,name:v,readOnly:k,inputProps:C,inputRef:S,sectionListRef:_}=n,B=me(n,Dte),D=w.useRef(null),E=Yt(r,D),R=Yt(C==null?void 0:C.ref,S),A=Un(),I=Qi();if(!I)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const L=z=>{var K;if(I.disabled){z.stopPropagation();return}(K=I.onFocus)==null||K.call(I,z)};w.useEffect(()=>{I&&I.setAdornedStart(!!u)},[I,u]),w.useEffect(()=>{I&&(s?I.onEmpty():I.onFilled())},[I,s]);const N=T({},n,I,{isRtl:A}),F=$te(N),O=(h==null?void 0:h.root)||Db,M=Bt({elementType:O,externalSlotProps:p==null?void 0:p.root,externalForwardedProps:B,additionalProps:{"aria-invalid":I.error,ref:E},className:F.root,ownerState:N}),V=(h==null?void 0:h.input)||oC;return x.jsxs(O,T({},M,{children:[u,x.jsx(Rte,{sectionListRef:_,elements:i,contentEditable:f,tabIndex:m,className:F.sectionsContainer,onFocus:L,onBlur:I.onBlur,onInput:g,onPaste:y,onKeyDown:b,slots:{root:V,section:Ite,sectionContent:Fte,sectionSeparator:Ate},slotProps:{root:{ownerState:N},sectionContent:{className:qu.sectionContent},sectionSeparator:({position:z})=>({className:z==="before"?qu.sectionBefore:qu.sectionAfter})}}),c,d?d(T({},I)):null,x.jsx(Ote,T({name:v,className:F.input,value:a,onChange:o,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:k,required:I.required,disabled:I.disabled},C,{ref:R}))]}))});function Vte(t){return Ge("MuiPickersOutlinedInput",t)}const na=T({},qu,je("MuiPickersOutlinedInput",["root","notchedOutline","input"])),zte=["children","className","label","notched","shrink"],Wte=Q("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),XB=Q("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),Hte=Q("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function Ute(t){const{className:e,label:r}=t,n=me(t,zte),i=r!=null&&r!=="",s=T({},t,{withLabel:i});return x.jsx(Wte,T({"aria-hidden":!0,className:e},n,{ownerState:s,children:x.jsx(Hte,{ownerState:s,children:i?x.jsx(XB,{children:r}):x.jsx(XB,{className:"notranslate",children:""})})}))}const Gte=["label","autoFocus","ownerState","notched"],jte=Q(Db,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${na.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${na.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${na.focused} .${na.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${na.disabled}`]:{[`& .${na.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${na.error} .${na.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(r=>{var n;return((n=(t.vars??t).palette[r])==null?void 0:n.main)??!1}).map(r=>({props:{color:r},style:{[`&.${na.focused}:not(.${na.error}) .${na.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}}))}}),Yte=Q(oC,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Xte=t=>{const{classes:e}=t,n=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Vte,e);return T({},e,n)},sF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:s,notched:a}=n,o=me(n,Gte),l=Qi(),c=T({},n,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=Xte(c);return x.jsx(lC,T({slots:{root:jte,input:Yte},renderSuffix:d=>x.jsx(Ute,{shrink:!!(a||d.adornedStart||d.focused||d.filled),notched:!!(a||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?x.jsxs(w.Fragment,{children:[i,"","*"]}):i,ownerState:c})},o,{label:i,classes:u,ref:r}))});sF.muiName="Input";function qte(t){return Ge("MuiPickersFilledInput",t)}const Jl=T({},qu,je("MuiPickersFilledInput",["root","underline","input"])),Kte=["label","autoFocus","disableUnderline","ownerState"],Qte=Q(Db,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Kh(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${Jl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${Jl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a].main).map(a=>{var o;return{props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[a])==null?void 0:o.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jl.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jl.disabled}, .${Jl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Jl.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:a})=>!!a,style:{paddingLeft:12}},{props:({endAdornment:a})=>!!a,style:{paddingRight:12}}]}}),Jte=Q(oC,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Zte=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},qte,e);return T({},e,i)},aF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=me(n,Kte),l=Qi(),c=T({},n,a,l,{color:(l==null?void 0:l.color)||"primary"}),u=Zte(c);return x.jsx(lC,T({slots:{root:Qte,input:Jte},slotProps:{root:{disableUnderline:s}}},o,{label:i,classes:u,ref:r}))});aF.muiName="Input";function ere(t){return Ge("MuiPickersFilledInput",t)}const bh=T({},qu,je("MuiPickersInput",["root","input"])),tre=["label","autoFocus","disableUnderline","ownerState"],rre=Q(Db,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bh.disabled}, .${bh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${bh.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),nre=t=>{const{classes:e,disableUnderline:r}=t,i=He({root:["root",!r&&"underline"],input:["input"]},ere,e);return T({},e,i)},oF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=me(n,tre),l=Qi(),c=T({},n,a,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=nre(c);return x.jsx(lC,T({slots:{root:rre}},o,{label:i,classes:u,ref:r}))});oF.muiName="Input";const ire=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],sre={standard:oF,filled:aF,outlined:sF},are=Q(WL,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ore=t=>{const{focused:e,disabled:r,classes:n,required:i}=t;return He({root:["root",e&&!r&&"focused",r&&"disabled",i&&"required"]},_te,n)},lF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:s,className:a,color:o="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:p,inputRef:f,sectionListRef:m,elements:g,areAllSectionsEmpty:y,onClick:b,onKeyDown:v,onPaste:k,onInput:C,endAdornment:S,startAdornment:_,tabIndex:B,contentEditable:D,focused:E,value:R,onChange:A,fullWidth:I,id:L,name:N,helperText:F,FormHelperTextProps:O,label:M,InputLabelProps:V}=n,z=me(n,ire),K=w.useRef(null),ie=Yt(r,K),se=Js(L),te=F&&se?`${se}-helper-text`:void 0,G=M&&se?`${se}-label`:void 0,Z=T({},n,{color:o,disabled:l,error:c,focused:E,required:d,variant:u}),he=ore(Z),pe=sre[u];return x.jsxs(are,T({className:Se(he.root,a),ref:ie,focused:E,onFocus:i,onBlur:s,disabled:l,variant:u,error:c,color:o,fullWidth:I,required:d,ownerState:Z},z,{children:[x.jsx(qL,T({htmlFor:se,id:G},V,{children:M})),x.jsx(pe,T({elements:g,areAllSectionsEmpty:y,onClick:b,onKeyDown:v,onInput:C,onPaste:k,endAdornment:S,startAdornment:_,tabIndex:B,contentEditable:D,value:R,onChange:A,id:se,fullWidth:I,inputProps:p,inputRef:f,sectionListRef:m,label:M,name:N,role:"group","aria-labelledby":G},h)),F&&x.jsx(UL,T({id:te},O,{children:F}))]}))}),lre=["enableAccessibleFieldDOMStructure"],cre=["InputProps","readOnly"],ure=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],cF=t=>{let{enableAccessibleFieldDOMStructure:e}=t,r=me(t,lre);if(e){const{InputProps:d,readOnly:h}=r,p=me(r,cre);return T({},p,{InputProps:T({},d??{},{readOnly:h})})}const{onPaste:n,onKeyDown:i,inputMode:s,readOnly:a,InputProps:o,inputProps:l,inputRef:c}=r,u=me(r,ure);return T({},u,{InputProps:T({},o??{},{readOnly:a}),inputProps:T({},l??{},{inputMode:s,onPaste:n,onKeyDown:i,ref:c})})},dre=["slots","slotProps","InputProps","inputProps"],uF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDateField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=me(n,dre),c=n,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?lF:by),d=Bt({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:r},ownerState:c});d.inputProps=T({},o,d.inputProps),d.InputProps=T({},a,d.InputProps);const h=kte(d),p=cF(h),f=eF(T({},p,{slots:i,slotProps:s}));return x.jsx(u,T({},f))}),cC=({adapter:t,value:e,props:r})=>{if(e===null)return null;const{minTime:n,maxTime:i,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:o=!1,disablePast:l,disableFuture:c,timezone:u}=r,d=t.utils.date(void 0,u),h=Wp(o,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&h(n,e)):return"minTime";case!!(i&&h(e,i)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},hre=t=>{const e=Ste(t),{forwardedProps:r,internalProps:n}=ZI(e,"time");return QI({forwardedProps:r,internalProps:n,valueManager:fi,fieldValueManager:jI,validator:cC,valueType:"time"})},fre=["slots","slotProps","InputProps","inputProps"],dF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTimeField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=me(n,fre),c=n,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?lF:by),d=Bt({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:r}});d.inputProps=T({},o,d.inputProps),d.InputProps=T({},a,d.InputProps);const h=hre(d),p=cF(h),f=eF(T({},p,{slots:i,slotProps:s}));return x.jsx(u,T({},f))}),hF=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o})=>{const l=Kc();return w.useCallback(c=>Eb({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o}})!==null,[l,t,e,r,n,i,s,a,o])},pre=(t,e,r)=>(n,i)=>{switch(i.type){case"changeMonth":return T({},n,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return T({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&i.focusedDay!=null&&r.isSameDay(i.focusedDay,n.focusedDay))return n;const s=i.focusedDay!=null&&!e&&!r.isSameMonth(n.currentMonth,i.focusedDay);return T({},n,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:s?r.startOfMonth(i.focusedDay):n.currentMonth,slideDirection:i.focusedDay!=null&&r.isAfterDay(i.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},mre=t=>{const{value:e,referenceDate:r,disableFuture:n,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:o,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=er(),p=w.useRef(pre(!!c,s,h)).current,f=w.useMemo(()=>fi.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:r,granularity:da.day}),[]),[m,g]=w.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:f,currentMonth:h.startOfMonth(f),slideDirection:"left"}),y=w.useCallback(S=>{g(T({type:"changeMonth"},S)),l&&l(S.newMonth)},[l]),b=w.useCallback(S=>{const _=S;h.isSameMonth(_,m.currentMonth)||y({newMonth:h.startOfMonth(_),direction:h.isAfterDay(_,m.currentMonth)?"left":"right"})},[m.currentMonth,y,h]),v=hF({shouldDisableDate:u,minDate:o,maxDate:a,disableFuture:n,disablePast:i,timezone:d}),k=w.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),C=Ke((S,_)=>{v(S)||g({type:"changeFocusedDay",focusedDay:S,withoutMonthSwitchingAnimation:_})});return{referenceDate:f,calendarState:m,changeMonth:b,changeFocusedDay:C,isDateDisabled:v,onMonthSwitchingAnimationEnd:k,handleChangeMonth:y}},gre=t=>Ge("MuiPickersFadeTransitionGroup",t);je("MuiPickersFadeTransitionGroup",["root"]);const yre=t=>{const{classes:e}=t;return He({root:["root"]},gre,e)},bre=Q(Pk,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function fF(t){const e=Fe({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=yre(e),o=ws();return i?r:x.jsx(bre,{className:Se(a.root,n),children:x.jsx(Vd,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:o.transitions.duration.enteringScreen,enter:o.transitions.duration.enteringScreen,exit:0},children:r},s)})}const vre=t=>Ge("MuiPickersSlideTransition",t),xs=je("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),wre=["children","className","reduceAnimations","slideDirection","transKey","classes"],xre=t=>{const{classes:e,slideDirection:r}=t,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return He(n,vre,e)},Sre=Q(Pk,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${xs["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${xs["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${xs.slideEnterActive}`]:e.slideEnterActive},{[`.${xs.slideExit}`]:e.slideExit},{[`.${xs["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${xs["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${xs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${xs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${xs.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${xs.slideExit}`]:{transform:"translate(0%)"},[`& .${xs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${xs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function kre(t){const e=Fe({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=me(e,wre),o=xre(e),l=ws();if(i)return x.jsx("div",{className:Se(o.root,n),children:r});const c={exit:o.exit,enterActive:o.enterActive,enter:o.enter,exitActive:o.exitActive};return x.jsx(Sre,{className:Se(o.root,n),childFactory:u=>w.cloneElement(u,{classNames:c}),role:"presentation",children:x.jsx(XH,T({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},a,{children:r}),s)})}const Cre=t=>Ge("MuiDayCalendar",t);je("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Tre=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],_re=["ownerState"],Pre=t=>{const{classes:e}=t;return He({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Cre,e)},pF=(Uf+Pb*2)*6,Bre=Q("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Nre=Q("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Mre=Q(hr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),Ere=Q(hr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),Rre=Q(hr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>T({},t.typography.caption,{width:Uf,height:Uf,padding:0,margin:`0 ${Pb}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Dre=Q("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:pF}),Lre=Q(kre,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:pF}),Ire=Q("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),Fre=Q("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Pb}px 0`,display:"flex",justifyContent:"center"});function Are(t){let{parentProps:e,day:r,focusableDay:n,selectedDays:i,isDateDisabled:s,currentMonthNumber:a,isViewFocused:o}=t,l=me(t,Tre);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:p,slotProps:f,timezone:m}=e,g=er(),y=Qc(m),b=n!==null&&g.isSameDay(r,n),v=i.some(A=>g.isSameDay(A,r)),k=g.isSameDay(r,y),C=(p==null?void 0:p.day)??ste,S=Bt({elementType:C,externalSlotProps:f==null?void 0:f.day,additionalProps:T({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":g.toJsDate(r).valueOf()},l),ownerState:T({},e,{day:r,selected:v})}),_=me(S,_re),B=w.useMemo(()=>c||s(r),[c,s,r]),D=w.useMemo(()=>g.getMonth(r)!==a,[g,r,a]),E=w.useMemo(()=>{const A=g.startOfMonth(g.setMonth(r,a));return h?g.isSameDay(r,g.startOfWeek(A)):g.isSameDay(r,A)},[a,r,h,g]),R=w.useMemo(()=>{const A=g.endOfMonth(g.setMonth(r,a));return h?g.isSameDay(r,g.endOfWeek(A)):g.isSameDay(r,A)},[a,r,h,g]);return x.jsx(C,T({},_,{day:r,disabled:B,autoFocus:o&&b,today:k,outsideCurrentMonth:D,isFirstVisibleCell:E,isLastVisibleCell:R,selected:v,tabIndex:b?0:-1,"aria-selected":v,"aria-current":k?"date":void 0}))}function Ore(t){const e=Fe({props:t,name:"MuiDayCalendar"}),r=er(),{onFocusedDayChange:n,className:i,currentMonth:s,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>x.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:y,minDate:b,maxDate:v,shouldDisableDate:k,shouldDisableMonth:C,shouldDisableYear:S,dayOfWeekFormatter:_=fe=>r.format(fe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:B,onFocusedViewChange:D,gridLabelId:E,displayWeekNumber:R,fixedWeekNumber:A,autoFocus:I,timezone:L}=e,N=Qc(L),F=Pre(e),O=Un(),M=hF({shouldDisableDate:k,shouldDisableMonth:C,shouldDisableYear:S,minDate:b,maxDate:v,disablePast:g,disableFuture:y,timezone:L}),V=pi(),[z,K]=hs({name:"DayCalendar",state:"hasFocus",controlled:B,default:I??!1}),[ie,se]=w.useState(()=>o||N),te=Ke(fe=>{d||c(fe)}),G=fe=>{M(fe)||(n(fe),se(fe),D==null||D(!0),K(!0))},Z=Ke((fe,$)=>{switch(fe.key){case"ArrowUp":G(r.addDays($,-7)),fe.preventDefault();break;case"ArrowDown":G(r.addDays($,7)),fe.preventDefault();break;case"ArrowLeft":{const U=r.addDays($,O?1:-1),j=r.addMonths($,O?1:-1),ae=sf({utils:r,date:U,minDate:O?U:r.startOfMonth(j),maxDate:O?r.endOfMonth(j):U,isDateDisabled:M,timezone:L});G(ae||U),fe.preventDefault();break}case"ArrowRight":{const U=r.addDays($,O?-1:1),j=r.addMonths($,O?-1:1),ae=sf({utils:r,date:U,minDate:O?r.startOfMonth(j):U,maxDate:O?U:r.endOfMonth(j),isDateDisabled:M,timezone:L});G(ae||U),fe.preventDefault();break}case"Home":G(r.startOfWeek($)),fe.preventDefault();break;case"End":G(r.endOfWeek($)),fe.preventDefault();break;case"PageUp":G(r.addMonths($,1)),fe.preventDefault();break;case"PageDown":G(r.addMonths($,-1)),fe.preventDefault();break}}),he=Ke((fe,$)=>G($)),pe=Ke((fe,$)=>{z&&r.isSameDay(ie,$)&&(D==null||D(!1))}),ne=r.getMonth(s),le=r.getYear(s),oe=w.useMemo(()=>a.filter(fe=>!!fe).map(fe=>r.startOfDay(fe)),[r,a]),q=`${le}-${ne}`,X=w.useMemo(()=>w.createRef(),[q]),J=r.startOfWeek(N),Y=w.useMemo(()=>{const fe=r.startOfMonth(s),$=r.endOfMonth(s);return M(ie)||r.isAfterDay(ie,$)||r.isBeforeDay(ie,fe)?sf({utils:r,date:ie,minDate:fe,maxDate:$,disablePast:g,disableFuture:y,isDateDisabled:M,timezone:L}):ie},[s,y,g,ie,M,r,L]),we=w.useMemo(()=>{const fe=r.setTimezone(s,L),$=r.getWeekArray(fe);let U=r.addMonths(fe,1);for(;A&&$.length<A;){const j=r.getWeekArray(U),ae=r.isSameDay($[$.length-1][0],j[0][0]);j.slice(ae?1:0).forEach(Be=>{$.length<A&&$.push(Be)}),U=r.addMonths(U,1)}return $},[s,A,r,L]);return x.jsxs(Bre,{role:"grid","aria-labelledby":E,className:F.root,children:[x.jsxs(Nre,{role:"row",className:F.header,children:[R&&x.jsx(Ere,{variant:"caption",role:"columnheader","aria-label":V.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:V.calendarWeekNumberHeaderText}),QZ(r,N).map((fe,$)=>x.jsx(Mre,{variant:"caption",role:"columnheader","aria-label":r.format(r.addDays(J,$),"weekday"),className:F.weekDayLabel,children:_(fe)},$.toString()))]}),l?x.jsx(Dre,{className:F.loadingContainer,children:p()}):x.jsx(Lre,T({transKey:q,onExited:u,reduceAnimations:h,slideDirection:f,className:Se(i,F.slideTransition)},m,{nodeRef:X,children:x.jsx(Ire,{ref:X,role:"rowgroup",className:F.monthContainer,children:we.map((fe,$)=>x.jsxs(Fre,{role:"row",className:F.weekContainer,"aria-rowindex":$+1,children:[R&&x.jsx(Rre,{className:F.weekNumber,role:"rowheader","aria-label":V.calendarWeekNumberAriaLabelText(r.getWeekNumber(fe[0])),children:V.calendarWeekNumberText(r.getWeekNumber(fe[0]))}),fe.map((U,j)=>x.jsx(Are,{parentProps:e,day:U,selectedDays:oe,focusableDay:Y,onKeyDown:Z,onFocus:he,onBlur:pe,onDaySelect:te,isDateDisabled:M,currentMonthNumber:ne,isViewFocused:z,"aria-colindex":j+1},U.toString()))]},`week-${fe[0]}`))})}))]})}function $re(t){return Ge("MuiPickersMonth",t)}const Fm=je("MuiPickersMonth",["root","monthButton","disabled","selected"]),Vre=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],zre=t=>{const{disabled:e,selected:r,classes:n}=t;return He({root:["root"],monthButton:["monthButton",e&&"disabled",r&&"selected"]},$re,n)},Wre=Q("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Hre=Q("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Fm.disabled}`]:e.disabled},{[`&.${Fm.selected}`]:e.selected}]})(({theme:t})=>T({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Fm.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Fm.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Ure=w.memo(function(e){const r=Fe({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f,"aria-label":m,slots:g,slotProps:y}=r,b=me(r,Vre),v=w.useRef(null),k=zre(r);zr(()=>{var _;n&&((_=v.current)==null||_.focus())},[n]);const C=(g==null?void 0:g.monthButton)??Hre,S=Bt({elementType:C,externalSlotProps:y==null?void 0:y.monthButton,additionalProps:{children:s,disabled:a,tabIndex:c,ref:v,type:"button",role:"radio","aria-current":f,"aria-checked":o,"aria-label":m,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>p(_,l)},ownerState:r,className:k.monthButton});return x.jsx(Wre,T({className:Se(k.root,i),ownerState:r},b,{children:x.jsx(C,T({},S))}))});function Gre(t){return Ge("MuiMonthCalendar",t)}je("MuiMonthCalendar",["root"]);const jre=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Yre=t=>{const{classes:e}=t;return He({root:["root"]},Gre,e)};function Xre(t,e){const r=er(),n=zp(),i=Fe({props:t,name:e});return T({disableFuture:!1,disablePast:!1},i,{minDate:qs(r,i.minDate,n.minDate),maxDate:qs(r,i.maxDate,n.maxDate)})}const qre=Q("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Bb,boxSizing:"border-box"}),Kre=w.forwardRef(function(e,r){const n=Xre(e,"MuiMonthCalendar"),{className:i,value:s,defaultValue:a,referenceDate:o,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:f,readOnly:m,autoFocus:g=!1,onMonthFocus:y,hasFocus:b,onFocusedViewChange:v,monthsPerRow:k=3,timezone:C,gridLabelId:S,slots:_,slotProps:B}=n,D=me(n,jre),{value:E,handleValueChange:R,timezone:A}=zd({name:"MonthCalendar",timezone:C,value:s,defaultValue:a,onChange:p,valueManager:fi}),I=Qc(A),L=Un(),N=er(),F=w.useMemo(()=>fi.getInitialReferenceValue({value:E,utils:N,props:n,timezone:A,referenceDate:o,granularity:da.month}),[]),O=n,M=Yre(O),V=w.useMemo(()=>N.getMonth(I),[N,I]),z=w.useMemo(()=>E!=null?N.getMonth(E):null,[E,N]),[K,ie]=w.useState(()=>z||N.getMonth(F)),[se,te]=hs({name:"MonthCalendar",state:"hasFocus",controlled:b,default:g??!1}),G=Ke(q=>{te(q),v&&v(q)}),Z=w.useCallback(q=>{const X=N.startOfMonth(u&&N.isAfter(I,h)?I:h),J=N.startOfMonth(c&&N.isBefore(I,d)?I:d),Y=N.startOfMonth(q);return N.isBefore(Y,X)||N.isAfter(Y,J)?!0:f?f(Y):!1},[c,u,d,h,I,f,N]),he=Ke((q,X)=>{if(m)return;const J=N.setMonth(E??F,X);R(J)}),pe=Ke(q=>{Z(N.setMonth(E??F,q))||(ie(q),G(!0),y&&y(q))});w.useEffect(()=>{ie(q=>z!==null&&q!==z?z:q)},[z]);const ne=Ke((q,X)=>{switch(q.key){case"ArrowUp":pe((12+X-3)%12),q.preventDefault();break;case"ArrowDown":pe((12+X+3)%12),q.preventDefault();break;case"ArrowLeft":pe((12+X+(L?1:-1))%12),q.preventDefault();break;case"ArrowRight":pe((12+X+(L?-1:1))%12),q.preventDefault();break}}),le=Ke((q,X)=>{pe(X)}),oe=Ke((q,X)=>{K===X&&G(!1)});return x.jsx(qre,T({ref:r,className:Se(M.root,i),ownerState:O,role:"radiogroup","aria-labelledby":S},D,{children:eC(N,E??F).map(q=>{const X=N.getMonth(q),J=N.format(q,"monthShort"),Y=N.format(q,"month"),we=X===z,fe=l||Z(q);return x.jsx(Ure,{selected:we,value:X,onClick:he,onKeyDown:ne,autoFocus:se&&X===K,disabled:fe,tabIndex:X===K&&!fe?0:-1,onFocus:le,onBlur:oe,"aria-current":V===X?"date":void 0,"aria-label":Y,monthsPerRow:k,slots:_,slotProps:B,children:J},J)})}))});function Qre(t){return Ge("MuiPickersYear",t)}const Am=je("MuiPickersYear",["root","yearButton","selected","disabled"]),Jre=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Zre=t=>{const{disabled:e,selected:r,classes:n}=t;return He({root:["root"],yearButton:["yearButton",e&&"disabled",r&&"selected"]},Qre,n)},ene=Q("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),tne=Q("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Am.disabled}`]:e.disabled},{[`&.${Am.selected}`]:e.selected}]})(({theme:t})=>T({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:ro(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ro(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Am.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Am.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),rne=w.memo(function(e){const r=Fe({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f,slots:m,slotProps:g}=r,y=me(r,Jre),b=w.useRef(null),v=Zre(r);zr(()=>{var S;n&&((S=b.current)==null||S.focus())},[n]);const k=(m==null?void 0:m.yearButton)??tne,C=Bt({elementType:k,externalSlotProps:g==null?void 0:g.yearButton,additionalProps:{children:s,disabled:a,tabIndex:c,ref:b,type:"button",role:"radio","aria-current":f,"aria-checked":o,onClick:S=>u(S,l),onKeyDown:S=>d(S,l),onFocus:S=>h(S,l),onBlur:S=>p(S,l)},ownerState:r,className:v.yearButton});return x.jsx(ene,T({className:Se(v.root,i),ownerState:r},y,{children:x.jsx(k,T({},C))}))});function nne(t){return Ge("MuiYearCalendar",t)}je("MuiYearCalendar",["root"]);const ine=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],sne=t=>{const{classes:e}=t;return He({root:["root"]},nne,e)};function ane(t,e){const r=er(),n=zp(),i=Fe({props:t,name:e});return T({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:qs(r,i.minDate,n.minDate),maxDate:qs(r,i.maxDate,n.maxDate)})}const one=Q("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Bb,maxHeight:DZ,boxSizing:"border-box",position:"relative"}),lne=w.forwardRef(function(e,r){const n=ane(e,"MuiYearCalendar"),{autoFocus:i,className:s,value:a,defaultValue:o,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:f,readOnly:m,shouldDisableYear:g,onYearFocus:y,hasFocus:b,onFocusedViewChange:v,yearsPerRow:k,timezone:C,gridLabelId:S,slots:_,slotProps:B}=n,D=me(n,ine),{value:E,handleValueChange:R,timezone:A}=zd({name:"YearCalendar",timezone:C,value:a,defaultValue:o,onChange:f,valueManager:fi}),I=Qc(A),L=Un(),N=er(),F=w.useMemo(()=>fi.getInitialReferenceValue({value:E,utils:N,props:n,timezone:A,referenceDate:l,granularity:da.year}),[]),O=n,M=sne(O),V=w.useMemo(()=>N.getYear(I),[N,I]),z=w.useMemo(()=>E!=null?N.getYear(E):null,[E,N]),[K,ie]=w.useState(()=>z||N.getYear(F)),[se,te]=hs({name:"YearCalendar",state:"hasFocus",controlled:b,default:i??!1}),G=Ke(J=>{te(J),v&&v(J)}),Z=w.useCallback(J=>{if(d&&N.isBeforeYear(J,I)||u&&N.isAfterYear(J,I)||p&&N.isBeforeYear(J,p)||h&&N.isAfterYear(J,h))return!0;if(!g)return!1;const Y=N.startOfYear(J);return g(Y)},[u,d,h,p,I,g,N]),he=Ke((J,Y)=>{if(m)return;const we=N.setYear(E??F,Y);R(we)}),pe=Ke(J=>{Z(N.setYear(E??F,J))||(ie(J),G(!0),y==null||y(J))});w.useEffect(()=>{ie(J=>z!==null&&J!==z?z:J)},[z]);const ne=Ke((J,Y)=>{switch(J.key){case"ArrowUp":pe(Y-k),J.preventDefault();break;case"ArrowDown":pe(Y+k),J.preventDefault();break;case"ArrowLeft":pe(Y+(L?1:-1)),J.preventDefault();break;case"ArrowRight":pe(Y+(L?-1:1)),J.preventDefault();break}}),le=Ke((J,Y)=>{pe(Y)}),oe=Ke((J,Y)=>{K===Y&&G(!1)}),q=w.useRef(null),X=Yt(r,q);return w.useEffect(()=>{if(i||q.current===null)return;const J=q.current.querySelector('[tabindex="0"]');if(!J)return;const Y=J.offsetHeight,we=J.offsetTop,fe=q.current.clientHeight,$=q.current.scrollTop,U=we+Y;Y>fe||we<$||(q.current.scrollTop=U-fe/2-Y/2)},[i]),x.jsx(one,T({ref:X,className:Se(M.root,s),ownerState:O,role:"radiogroup","aria-labelledby":S},D,{children:N.getYearRange([p,h]).map(J=>{const Y=N.getYear(J),we=Y===z,fe=c||Z(J);return x.jsx(rne,{selected:we,value:Y,onClick:he,onKeyDown:ne,autoFocus:se&&Y===K,disabled:fe,tabIndex:Y===K&&!fe?0:-1,onFocus:le,onBlur:oe,"aria-current":V===Y?"date":void 0,yearsPerRow:k,slots:_,slotProps:B,children:N.format(J,"year")},N.format(J,"year"))})}))}),cne=t=>Ge("MuiPickersCalendarHeader",t),une=je("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),dne=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],hne=["ownerState"],fne=t=>{const{classes:e}=t;return He({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},cne,e)},pne=Q("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),mne=Q("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>T({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),gne=Q("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),yne=Q(oi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${une.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),bne=Q(mZ,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),vne=w.forwardRef(function(e,r){const n=pi(),i=er(),s=Fe({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:o,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onMonthChange:f,onViewChange:m,view:g,reduceAnimations:y,views:b,labelId:v,className:k,timezone:C,format:S=`${i.formats.month} ${i.formats.year}`}=s,_=me(s,dne),B=s,D=fne(s),E=(a==null?void 0:a.switchViewButton)??yne,R=Bt({elementType:E,externalSlotProps:o==null?void 0:o.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(g)},ownerState:B,className:D.switchViewButton}),A=(a==null?void 0:a.switchViewIcon)??bne,I=Bt({elementType:A,externalSlotProps:o==null?void 0:o.switchViewIcon,ownerState:void 0,className:D.switchViewIcon}),L=me(I,hne),N=()=>f(i.addMonths(l,1),"left"),F=()=>f(i.addMonths(l,-1),"right"),O=EZ(l,{disableFuture:u,maxDate:h,timezone:C}),M=RZ(l,{disablePast:d,minDate:p,timezone:C}),V=()=>{if(!(b.length===1||!m||c))if(b.length===2)m(b.find(K=>K!==g)||b[0]);else{const K=b.indexOf(g)!==0?0:1;m(b[K])}};if(b.length===1&&b[0]==="year")return null;const z=i.formatByString(l,S);return x.jsxs(pne,T({},_,{ownerState:B,className:Se(k,D.root),ref:r,children:[x.jsxs(mne,{role:"presentation",onClick:V,ownerState:B,"aria-live":"polite",className:D.labelContainer,children:[x.jsx(fF,{reduceAnimations:y,transKey:z,children:x.jsx(gne,{id:v,ownerState:B,className:D.label,children:z})}),b.length>1&&!c&&x.jsx(E,T({},R,{children:x.jsx(A,T({},L))}))]}),x.jsx(Vd,{in:g==="day",children:x.jsx(RI,{slots:a,slotProps:o,onGoToPrevious:F,isPreviousDisabled:M,previousLabel:n.previousMonth,onGoToNext:N,isNextDisabled:O,nextLabel:n.nextMonth})})]}))}),wne="@media (prefers-reduced-motion: reduce)",Ku=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),qB=Ku&&Ku[1]?parseInt(Ku[1],10):null,KB=Ku&&Ku[2]?parseInt(Ku[2],10):null,xne=qB&&qB<10||KB&&KB<13||!1,mF=()=>mk(wne,{defaultMatches:!1})||xne,Sne=t=>Ge("MuiDateCalendar",t);je("MuiDateCalendar",["root","viewTransitionContainer"]);const kne=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Cne=t=>{const{classes:e}=t;return He({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Sne,e)};function Tne(t,e){const r=er(),n=zp(),i=mF(),s=Fe({props:t,name:e});return T({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??i,renderLoading:s.renderLoading??(()=>x.jsx("span",{children:"..."})),minDate:qs(r,s.minDate,n.minDate),maxDate:qs(r,s.maxDate,n.maxDate)})}const _ne=Q(Nb,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:Zk}),Pne=Q(fF,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),Bne=w.forwardRef(function(e,r){const n=er(),i=Js(),s=Tne(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:o,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:p,onYearChange:f,onMonthChange:m,reduceAnimations:g,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:v,view:k,views:C,openTo:S,className:_,disabled:B,readOnly:D,minDate:E,maxDate:R,disableHighlightToday:A,focusedView:I,onFocusedViewChange:L,showDaysOutsideCurrentMonth:N,fixedWeekNumber:F,dayOfWeekFormatter:O,slots:M,slotProps:V,loading:z,renderLoading:K,displayWeekNumber:ie,yearsPerRow:se,monthsPerRow:te,timezone:G}=s,Z=me(s,kne),{value:he,handleValueChange:pe,timezone:ne}=zd({name:"DateCalendar",timezone:G,value:l,defaultValue:c,onChange:p,valueManager:fi}),{view:le,setView:oe,focusedView:q,setFocusedView:X,goToNextView:J,setValueAndGoToNextView:Y}=Hp({view:k,views:C,openTo:S,onChange:pe,onViewChange:o,autoFocus:a,focusedView:I,onFocusedViewChange:L}),{referenceDate:we,calendarState:fe,changeFocusedDay:$,changeMonth:U,handleChangeMonth:j,isDateDisabled:ae,onMonthSwitchingAnimationEnd:Be}=mre({value:he,referenceDate:u,reduceAnimations:g,onMonthChange:m,minDate:E,maxDate:R,shouldDisableDate:y,disablePast:h,disableFuture:d,timezone:ne}),ke=B&&he||E,De=B&&he||R,Je=`${i}-grid-label`,dt=q!==null,Rt=(M==null?void 0:M.calendarHeader)??vne,_e=Bt({elementType:Rt,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:C,view:le,currentMonth:fe.currentMonth,onViewChange:oe,onMonthChange:(ot,qt)=>j({newMonth:ot,direction:qt}),minDate:ke,maxDate:De,disabled:B,disablePast:h,disableFuture:d,reduceAnimations:g,timezone:ne,labelId:Je},ownerState:s}),ye=Ke(ot=>{const qt=n.startOfMonth(ot),Mr=n.endOfMonth(ot),Ir=ae(ot)?sf({utils:n,date:ot,minDate:n.isBefore(E,qt)?qt:E,maxDate:n.isAfter(R,Mr)?Mr:R,disablePast:h,disableFuture:d,isDateDisabled:ae,timezone:ne}):ot;Ir?(Y(Ir,"finish"),m==null||m(qt)):(J(),U(qt)),$(Ir,!0)}),Ze=Ke(ot=>{const qt=n.startOfYear(ot),Mr=n.endOfYear(ot),Ir=ae(ot)?sf({utils:n,date:ot,minDate:n.isBefore(E,qt)?qt:E,maxDate:n.isAfter(R,Mr)?Mr:R,disablePast:h,disableFuture:d,isDateDisabled:ae,timezone:ne}):ot;Ir?(Y(Ir,"finish"),f==null||f(Ir)):(J(),U(qt)),$(Ir,!0)}),xt=Ke(ot=>pe(ot&&Cy(n,ot,he??we),"finish",le));w.useEffect(()=>{he!=null&&n.isValid(he)&&U(he)},[he]);const Nt=s,Oe=Cne(Nt),_t={disablePast:h,disableFuture:d,maxDate:R,minDate:E},Ie={disableHighlightToday:A,readOnly:D,disabled:B,timezone:ne,gridLabelId:Je,slots:M,slotProps:V},$e=w.useRef(le);w.useEffect(()=>{$e.current!==le&&(q===$e.current&&X(le,!0),$e.current=le)},[q,X,le]);const Ct=w.useMemo(()=>[he],[he]);return x.jsxs(_ne,T({ref:r,className:Se(Oe.root,_),ownerState:Nt},Z,{children:[x.jsx(Rt,T({},_e,{slots:M,slotProps:V})),x.jsx(Pne,{reduceAnimations:g,className:Oe.viewTransitionContainer,transKey:le,ownerState:Nt,children:x.jsxs("div",{children:[le==="year"&&x.jsx(lne,T({},_t,Ie,{value:he,onChange:Ze,shouldDisableYear:v,hasFocus:dt,onFocusedViewChange:ot=>X("year",ot),yearsPerRow:se,referenceDate:we})),le==="month"&&x.jsx(Kre,T({},_t,Ie,{hasFocus:dt,className:_,value:he,onChange:ye,shouldDisableMonth:b,onFocusedViewChange:ot=>X("month",ot),monthsPerRow:te,referenceDate:we})),le==="day"&&x.jsx(Ore,T({},fe,_t,Ie,{onMonthSwitchingAnimationEnd:Be,onFocusedDayChange:$,reduceAnimations:g,selectedDays:Ct,onSelectedDaysChange:xt,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:v,hasFocus:dt,onFocusedViewChange:ot=>X("day",ot),showDaysOutsideCurrentMonth:N,fixedWeekNumber:F,dayOfWeekFormatter:O,displayWeekNumber:ie,loading:z,renderLoading:K}))]})})]}))});function gF(t){return Ge("MuiPickersToolbar",t)}je("MuiPickersToolbar",["root","content"]);const Nne=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Mne=t=>{const{classes:e,isLandscape:r}=t;return He({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},gF,e)},Ene=Q("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Rne=Q("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),yF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:a,hidden:o,titleId:l}=n,c=me(n,Nne),u=n,d=Mne(u);return o?null:x.jsxs(Ene,T({ref:r,className:Se(d.root,s),ownerState:u},c,{children:[x.jsx(hr,{color:"text.secondary",variant:"overline",id:l,children:a}),x.jsx(Rne,{className:d.content,ownerState:u,children:i})]}))});function Dne(t){return Ge("MuiDatePickerToolbar",t)}je("MuiDatePickerToolbar",["root","title"]);const Lne=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Ine=t=>{const{classes:e}=t;return He({root:["root"],title:["title"]},Dne,e)},Fne=Q(yF,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ane=Q(hr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),One=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:a,toolbarPlaceholder:o="",views:l,className:c}=n,u=me(n,Lne),d=er(),h=pi(),p=Ine(n),f=w.useMemo(()=>{if(!i)return o;const g=rC(d,{format:a,views:l},!0);return d.formatByString(i,g)},[i,a,o,d,l]),m=n;return x.jsx(Fne,T({ref:r,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:Se(p.root,c)},u,{children:x.jsx(Ane,{variant:"h4",align:s?"left":"center",ownerState:m,className:p.title,children:f})}))});function bF(t,e){const r=er(),n=zp(),i=Fe({props:t,name:e}),s=w.useMemo(()=>{var a;return((a=i.localeText)==null?void 0:a.toolbarTitle)==null?i.localeText:T({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return T({},i,{localeText:s},DI({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:qs(r,i.minDate,n.minDate),maxDate:qs(r,i.maxDate,n.maxDate),slots:T({toolbar:One},i.slots)})}function $ne(t){return Ge("MuiPickersPopper",t)}je("MuiPickersPopper",["root","paper"]);const Vne=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],zne=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"]},$ne,e)},Wne=Q(NL,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),Hne=Q(qc,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function Une(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Gne(t,e){const r=w.useRef(!1),n=w.useRef(!1),i=w.useRef(null),s=w.useRef(!1);w.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const a=Ke(l=>{if(!s.current)return;const c=n.current;n.current=!1;const u=rn(i.current);if(!i.current||"clientX"in l&&Une(l,u))return;if(r.current){r.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),o=()=>{n.current=!0};return w.useEffect(()=>{if(t){const l=rn(i.current),c=()=>{r.current=!0};return l.addEventListener("touchstart",a),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchmove",c)}}},[t,a]),w.useEffect(()=>{if(t){const l=rn(i.current);return l.addEventListener("click",a),()=>{l.removeEventListener("click",a),n.current=!1}}},[t,a]),[i,o,o]}const jne=w.forwardRef((t,e)=>{const{PaperComponent:r,popperPlacement:n,ownerState:i,children:s,paperSlotProps:a,paperClasses:o,onPaperClick:l,onPaperTouchStart:c}=t,u=me(t,Vne),d=T({},i,{placement:n}),h=Bt({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:o,ownerState:d});return x.jsx(r,T({},u,h,{onClick:p=>{var f;l(p),(f=h.onClick)==null||f.call(h,p)},onTouchStart:p=>{var f;c(p),(f=h.onTouchStart)==null||f.call(h,p)},ownerState:d,children:s}))});function Yne(t){const e=Fe({props:t,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:i=null,shouldRestoreFocus:s,onBlur:a,onDismiss:o,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:p}=e;w.useEffect(()=>{function N(F){l&&F.key==="Escape"&&o()}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[o,l]);const f=w.useRef(null);w.useEffect(()=>{c==="tooltip"||s&&!s()||(l?f.current=Ds(document):f.current&&f.current instanceof HTMLElement&&setTimeout(()=>{f.current instanceof HTMLElement&&f.current.focus()}))},[l,c,s]);const[m,g,y]=Gne(l,a??o),b=w.useRef(null),v=Yt(b,i),k=Yt(v,m),C=e,S=zne(C),_=mF(),B=p??_,D=N=>{N.key==="Escape"&&(N.stopPropagation(),o())},E=(d==null?void 0:d.desktopTransition)??B?Vd:jL,R=(d==null?void 0:d.desktopTrapFocus)??fL,A=(d==null?void 0:d.desktopPaper)??Hne,I=(d==null?void 0:d.popper)??Wne,L=Bt({elementType:I,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:r,placement:u,onKeyDown:D},className:S.root,ownerState:e});return x.jsx(I,T({},L,{children:({TransitionProps:N,placement:F})=>x.jsx(R,T({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:x.jsx(E,T({},N,h==null?void 0:h.desktopTransition,{children:x.jsx(jne,{PaperComponent:A,ownerState:C,popperPlacement:F,ref:k,onPaperClick:g,onPaperTouchStart:y,paperClasses:S.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:n})}))}))}))}const Xne=({open:t,onOpen:e,onClose:r})=>{const n=w.useRef(typeof t=="boolean").current,[i,s]=w.useState(!1);w.useEffect(()=>{if(n){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[n,t]);const a=w.useCallback(o=>{n||s(o),o&&e&&e(),!o&&r&&r()},[n,e,r]);return{isOpen:i,setIsOpen:a}},qne=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i}=t,s=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:r(n.lastPublishedValue):!1},Kne=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i,closeOnSelect:s}=t,a=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?a?!0:r(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&r(n.lastCommittedValue):!1},Qne=t=>{const{action:e,closeOnSelect:r}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&r:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},Jne=({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:i})=>{const{onAccept:s,onChange:a,value:o,defaultValue:l,closeOnSelect:c=n==="desktop",timezone:u}=t,{current:d}=w.useRef(l),{current:h}=w.useRef(o!==void 0),p=er(),f=Kc(),{isOpen:m,setIsOpen:g}=Xne(t),{timezone:y,value:b,handleValueChange:v}=nC({timezone:u,value:o,defaultValue:d,onChange:a,valueManager:e}),[k,C]=w.useState(()=>{let se;return b!==void 0?se=b:d!==void 0?se=d:se=e.emptyValue,{draft:se,lastPublishedValue:se,lastCommittedValue:se,lastControlledValue:b,hasBeenModifiedSinceMount:!1}});qI(T({},t,{value:k.draft,timezone:y}),i,e.isSameError,e.defaultErrorState);const S=Ke(se=>{const te={action:se,dateState:k,hasChanged:le=>!e.areValuesEqual(p,se.value,le),isControlled:h,closeOnSelect:c},G=qne(te),Z=Kne(te),he=Qne(te);C(le=>T({},le,{draft:se.value,lastPublishedValue:G?se.value:le.lastPublishedValue,lastCommittedValue:Z?se.value:le.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let pe=null;const ne=()=>(pe||(pe={validationError:se.name==="setValueFromField"?se.context.validationError:i({adapter:f,value:se.value,props:T({},t,{value:se.value,timezone:y})})},se.name==="setValueFromShortcut"&&(pe.shortcut=se.shortcut)),pe);G&&v(se.value,ne()),Z&&s&&s(se.value,ne()),he&&g(!1)});if(b!==void 0&&(k.lastControlledValue===void 0||!e.areValuesEqual(p,k.lastControlledValue,b))){const se=e.areValuesEqual(p,k.draft,b);C(te=>T({},te,{lastControlledValue:b},se?{}:{lastCommittedValue:b,lastPublishedValue:b,draft:b,hasBeenModifiedSinceMount:!0}))}const _=Ke(()=>{S({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),B=Ke(()=>{S({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),D=Ke(()=>{S({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),E=Ke(()=>{S({value:k.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),R=Ke(()=>{S({value:e.getTodayValue(p,y,r),name:"setValueFromAction",pickerAction:"today"})}),A=Ke(se=>{se.preventDefault(),g(!0)}),I=Ke(se=>{se==null||se.preventDefault(),g(!1)}),L=Ke((se,te="partial")=>S({name:"setValueFromView",value:se,selectionState:te})),N=Ke((se,te,G)=>S({name:"setValueFromShortcut",value:se,changeImportance:te,shortcut:G})),F=Ke((se,te)=>S({name:"setValueFromField",value:se,context:te})),O={onClear:_,onAccept:B,onDismiss:D,onCancel:E,onSetToday:R,onOpen:A,onClose:I},M={value:k.draft,onChange:F},V=w.useMemo(()=>e.cleanValue(p,k.draft),[p,e,k.draft]),z={value:V,onChange:L,onClose:I,open:m},ie=T({},O,{value:V,onChange:L,onSelectShortcut:N,isValid:se=>{const te=i({adapter:f,value:se,props:T({},t,{value:se,timezone:y})});return!e.hasError(te)}});return{open:m,fieldProps:M,viewProps:z,layoutProps:ie,actions:O}},Zne=["className","sx"],eie=({props:t,propsFromPickerValue:e,additionalViewProps:r,autoFocusView:n,rendererInterceptor:i,fieldRef:s})=>{const{onChange:a,open:o,onClose:l}=e,{view:c,views:u,openTo:d,onViewChange:h,viewRenderers:p,timezone:f}=t,m=me(t,Zne),{view:g,setView:y,defaultView:b,focusedView:v,setFocusedView:k,setValueAndGoToNextView:C}=Hp({view:c,views:u,openTo:d,onChange:a,onViewChange:h,autoFocus:n}),{hasUIView:S,viewModeLookup:_}=w.useMemo(()=>u.reduce((L,N)=>{let F;return p[N]!=null?F="UI":F="field",L.viewModeLookup[N]=F,F==="UI"&&(L.hasUIView=!0),L},{hasUIView:!1,viewModeLookup:{}}),[p,u]),B=w.useMemo(()=>u.reduce((L,N)=>p[N]!=null&&Wf(N)?L+1:L,0),[p,u]),D=_[g],E=Ke(()=>D==="UI"),[R,A]=w.useState(D==="UI"?g:null);return R!==g&&_[g]==="UI"&&A(g),zr(()=>{D==="field"&&o&&(l(),setTimeout(()=>{var L,N;(L=s==null?void 0:s.current)==null||L.setSelectedSections(g),(N=s==null?void 0:s.current)==null||N.focusField(g)}))},[g]),zr(()=>{if(!o)return;let L=g;D==="field"&&R!=null&&(L=R),L!==b&&_[L]==="UI"&&_[b]==="UI"&&(L=b),L!==g&&y(L),k(L,!0)},[o]),{hasUIView:S,shouldRestoreFocus:E,layoutProps:{views:u,view:R,onViewChange:y},renderCurrentView:()=>{if(R==null)return null;const L=p[R];if(L==null)return null;const N=T({},m,r,e,{views:u,timezone:f,onChange:C,view:R,onViewChange:y,focusedView:v,onFocusedViewChange:k,showViewSwitcher:B>1,timeViewsCount:B});return i?i(p,R,N):L(N)}}};function QB(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const tie=(t,e)=>{const[r,n]=w.useState(QB);return zr(()=>{const s=()=>{n(QB())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),Su(t,["hours","minutes","seconds"])?!1:(e||r)==="landscape"},rie=({props:t,propsFromPickerValue:e,propsFromPickerViews:r,wrapperVariant:n})=>{const{orientation:i}=t,s=tie(r.views,i),a=Un();return{layoutProps:T({},r,e,{isLandscape:s,isRtl:a,wrapperVariant:n,disabled:t.disabled,readOnly:t.readOnly})}},vF=(t,e="warning")=>{let r=!1;const n=Array.isArray(t)?t.join(`
`):t;return()=>{r||(r=!0,e==="error"?console.error(n):console.warn(n))}};vF(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const wF=({props:t,valueManager:e,valueType:r,wrapperVariant:n,additionalViewProps:i,validator:s,autoFocusView:a,rendererInterceptor:o,fieldRef:l})=>{const c=Jne({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:s}),u=eie({props:t,additionalViewProps:i,autoFocusView:a,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:o}),d=rie({props:t,wrapperVariant:n,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function xF(t){return Ge("MuiPickersLayout",t)}const Zl=je("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),nie=["onAccept","onClear","onCancel","onSetToday","actions"];function iie(t){const{onAccept:e,onClear:r,onCancel:n,onSetToday:i,actions:s}=t,a=me(t,nie),o=pi();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return x.jsx(As,{onClick:r,children:o.clearButtonLabel},c);case"cancel":return x.jsx(As,{onClick:n,children:o.cancelButtonLabel},c);case"accept":return x.jsx(As,{onClick:e,children:o.okButtonLabel},c);case"today":return x.jsx(As,{onClick:i,children:o.todayButtonLabel},c);default:return null}});return x.jsx(LL,T({},a,{children:l}))}const sie=["items","changeImportance","isLandscape","onChange","isValid"],aie=["getValue"];function oie(t){const{items:e,changeImportance:r="accept",onChange:n,isValid:i}=t,s=me(t,sie);if(e==null||e.length===0)return null;const a=e.map(o=>{let{getValue:l}=o,c=me(o,aie);const u=l({isValid:i});return T({},c,{label:c.label,onClick:()=>{n(u,r,c)},disabled:!i(u)})});return x.jsx($p,T({dense:!0,sx:[{maxHeight:Zk,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:a.map(o=>x.jsx(QL,{children:x.jsx(rG,T({},o))},o.id??o.label))}))}function lie(t){return t.view!==null}const cie=t=>{const{classes:e,isLandscape:r}=t;return He({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},xF,e)},uie=t=>{const{wrapperVariant:e,onAccept:r,onClear:n,onCancel:i,onSetToday:s,view:a,views:o,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:p,disabled:f,readOnly:m,children:g,slots:y,slotProps:b}=t,v=cie(t),k=(y==null?void 0:y.actionBar)??iie,C=Bt({elementType:k,externalSlotProps:b==null?void 0:b.actionBar,additionalProps:{onAccept:r,onClear:n,onCancel:i,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"]},className:v.actionBar,ownerState:T({},t,{wrapperVariant:e})}),S=x.jsx(k,T({},C)),_=y==null?void 0:y.toolbar,B=Bt({elementType:_,externalSlotProps:b==null?void 0:b.toolbar,additionalProps:{isLandscape:p,onChange:u,value:c,view:a,onViewChange:l,views:o,disabled:f,readOnly:m},className:v.toolbar,ownerState:T({},t,{wrapperVariant:e})}),D=lie(B)&&_?x.jsx(_,T({},B)):null,E=g,R=y==null?void 0:y.tabs,A=a&&R?x.jsx(R,T({view:a,onViewChange:l,className:v.tabs},b==null?void 0:b.tabs)):null,I=(y==null?void 0:y.shortcuts)??oie,L=Bt({elementType:I,externalSlotProps:b==null?void 0:b.shortcuts,additionalProps:{isValid:h,isLandscape:p,onChange:d},className:v.shortcuts,ownerState:{isValid:h,isLandscape:p,onChange:d,wrapperVariant:e}}),N=a&&I?x.jsx(I,T({},L)):null;return{toolbar:D,content:E,tabs:A,actionBar:S,shortcuts:N}},die=t=>{const{isLandscape:e,classes:r}=t;return He({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},xF,r)},hie=Q("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Zl.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Zl.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Zl.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Zl.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Zl.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Zl.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Zl.shortcuts}`]:{gridColumn:3}}}]}),fie=Q("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),SF=function(e){const r=Fe({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:s,actionBar:a,shortcuts:o}=uie(r),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=r,p=die(r);return x.jsxs(hie,{ref:d,sx:l,className:Se(c,p.root),ownerState:r,children:[u?o:n,u?n:o,x.jsx(fie,{className:p.contentWrapper,children:h==="desktop"?x.jsxs(w.Fragment,{children:[i,s]}):x.jsxs(w.Fragment,{children:[s,i]})}),a]})},pie=["props","getOpenDialogAriaText"],mie=["ownerState"],gie=["ownerState"],kF=t=>{var X;let{props:e,getOpenDialogAriaText:r}=t,n=me(t,pie);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:y,disabled:b,autoFocus:v,localeText:k,reduceAnimations:C}=e,S=er(),_=w.useRef(null),B=w.useRef(null),D=Js(),E=((X=s==null?void 0:s.toolbar)==null?void 0:X.hidden)??!1,{open:R,actions:A,hasUIView:I,layoutProps:L,renderCurrentView:N,shouldRestoreFocus:F,fieldProps:O}=wF(T({},n,{props:e,fieldRef:B,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),M=i.inputAdornment??XL,V=Bt({elementType:M,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),z=me(V,mie),K=i.openPickerButton??oi,ie=Bt({elementType:K,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:b||y,onClick:R?A.onClose:A.onOpen,"aria-label":r(O.value,S),edge:z.position},ownerState:e}),se=me(ie,gie),te=i.openPickerIcon,G=i.field,Z=Bt({elementType:G,externalSlotProps:s==null?void 0:s.field,additionalProps:T({},O,E&&{id:D},{readOnly:y,disabled:b,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f,autoFocus:v&&!e.open,focused:R?!0:void 0},g?{inputRef:g}:{}),ownerState:e});I&&(Z.InputProps=T({},Z.InputProps,{ref:_},!e.disableOpenPicker&&{[`${z.position}Adornment`]:x.jsx(M,T({},z,{children:x.jsx(K,T({},se,{children:x.jsx(te,T({},s==null?void 0:s.openPickerIcon))}))}))}));const he=T({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},Z.slots),pe=i.layout??SF;let ne=D;E&&(m?ne=`${D}-label`:ne=void 0);const le=T({},s,{toolbar:T({},s==null?void 0:s.toolbar,{titleId:D}),popper:T({"aria-labelledby":ne},s==null?void 0:s.popper)}),oe=Yt(B,Z.unstableFieldRef);return{renderPicker:()=>x.jsxs(Qk,{localeText:k,children:[x.jsx(G,T({},Z,{slots:he,slotProps:le,unstableFieldRef:oe})),x.jsx(Yne,T({role:"dialog",placement:"bottom-start",anchorEl:_.current},A,{open:R,slots:i,slotProps:le,shouldRestoreFocus:F,reduceAnimations:C,children:x.jsx(pe,T({},L,le==null?void 0:le.layout,{slots:i,slotProps:le,children:N()}))}))]})}},Qu=({view:t,onViewChange:e,views:r,focusedView:n,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:b,onMonthChange:v,monthsPerRow:k,onYearChange:C,yearsPerRow:S,slots:_,slotProps:B,loading:D,renderLoading:E,disableHighlightToday:R,readOnly:A,disabled:I,showDaysOutsideCurrentMonth:L,dayOfWeekFormatter:N,sx:F,autoFocus:O,fixedWeekNumber:M,displayWeekNumber:V,timezone:z})=>x.jsx(Bne,{view:t,onViewChange:e,views:r.filter(OB),focusedView:n&&OB(n)?n:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:y,reduceAnimations:b,onMonthChange:v,monthsPerRow:k,onYearChange:C,yearsPerRow:S,slots:_,slotProps:B,loading:D,renderLoading:E,disableHighlightToday:R,readOnly:A,disabled:I,showDaysOutsideCurrentMonth:L,dayOfWeekFormatter:N,sx:F,autoFocus:O,fixedWeekNumber:M,displayWeekNumber:V,timezone:z}),CF=w.forwardRef(function(e,r){var c,u;const n=pi(),i=er(),s=bF(e,"MuiDesktopDatePicker"),a=T({day:Qu,month:Qu,year:Qu},s.viewRenderers),o=T({},s,{viewRenderers:a,format:rC(i,s,!1),yearsPerRow:s.yearsPerRow??4,slots:T({openPickerIcon:bZ,field:uF},s.slots),slotProps:T({},s.slotProps,{field:d=>{var h;return T({},Ip((h=s.slotProps)==null?void 0:h.field,d),Rb(s),{ref:r})},toolbar:T({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=kF({props:o,valueManager:fi,valueType:"date",getOpenDialogAriaText:((u=o.localeText)==null?void 0:u.openDatePickerDialogue)??n.openDatePickerDialogue,validator:Eb});return l()});CF.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,dayOfWeekFormatter:W.func,defaultValue:W.object,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,enableAccessibleFieldDOMStructure:W.any,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:eb,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.object,minDate:W.object,monthsPerRow:W.oneOf([3,4]),name:W.string,onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.object,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.object,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const yie=Q(Op)({[`& .${tf.container}`]:{outline:0},[`& .${tf.paper}`]:{outline:0,minWidth:Bb}}),bie=Q(IL)({"&:first-of-type":{padding:0}});function vie(t){const{children:e,onDismiss:r,open:n,slots:i,slotProps:s}=t,a=(i==null?void 0:i.dialog)??yie,o=(i==null?void 0:i.mobileTransition)??Vd;return x.jsx(a,T({open:n,onClose:r},s==null?void 0:s.dialog,{TransitionComponent:o,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:x.jsx(bie,{children:e})}))}const wie=["props","getOpenDialogAriaText"],TF=t=>{var K;let{props:e,getOpenDialogAriaText:r}=t,n=me(t,wie);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:y,disabled:b,localeText:v}=e,k=er(),C=w.useRef(null),S=Js(),_=((K=s==null?void 0:s.toolbar)==null?void 0:K.hidden)??!1,{open:B,actions:D,layoutProps:E,renderCurrentView:R,fieldProps:A}=wF(T({},n,{props:e,fieldRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),I=i.field,L=Bt({elementType:I,externalSlotProps:s==null?void 0:s.field,additionalProps:T({},A,_&&{id:S},!(b||y)&&{onClick:D.onOpen,onKeyDown:mte(D.onOpen)},{readOnly:y??!0,disabled:b,className:a,sx:o,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f},g?{inputRef:g}:{}),ownerState:e});L.inputProps=T({},L.inputProps,{"aria-label":r(A.value,k)});const N=T({textField:i.textField},L.slots),F=i.layout??SF;let O=S;_&&(m?O=`${S}-label`:O=void 0);const M=T({},s,{toolbar:T({},s==null?void 0:s.toolbar,{titleId:S}),mobilePaper:T({"aria-labelledby":O},s==null?void 0:s.mobilePaper)}),V=Yt(C,L.unstableFieldRef);return{renderPicker:()=>x.jsxs(Qk,{localeText:v,children:[x.jsx(I,T({},L,{slots:N,slotProps:M,unstableFieldRef:V})),x.jsx(vie,T({},D,{open:B,slots:i,slotProps:M,children:x.jsx(F,T({},E,M==null?void 0:M.layout,{slots:i,slotProps:M,children:R()}))}))]})}},_F=w.forwardRef(function(e,r){var c,u;const n=pi(),i=er(),s=bF(e,"MuiMobileDatePicker"),a=T({day:Qu,month:Qu,year:Qu},s.viewRenderers),o=T({},s,{viewRenderers:a,format:rC(i,s,!1),slots:T({field:uF},s.slots),slotProps:T({},s.slotProps,{field:d=>{var h;return T({},Ip((h=s.slotProps)==null?void 0:h.field,d),Rb(s),{ref:r})},toolbar:T({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=TF({props:o,valueManager:fi,valueType:"date",getOpenDialogAriaText:((u=o.localeText)==null?void 0:u.openDatePickerDialogue)??n.openDatePickerDialogue,validator:Eb});return l()});_F.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,dayOfWeekFormatter:W.func,defaultValue:W.object,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,enableAccessibleFieldDOMStructure:W.any,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:eb,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.object,minDate:W.object,monthsPerRow:W.oneOf([3,4]),name:W.string,onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.object,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.object,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const xie=["desktopModeMediaQuery"],Sie=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=KI}=n,s=me(n,xie);return mk(i,{defaultMatches:!0})?x.jsx(CF,T({ref:r},s)):x.jsx(_F,T({ref:r},s))});function kie(t){return Ge("MuiPickersToolbarText",t)}const JB=je("MuiPickersToolbarText",["root","selected"]),Cie=["className","selected","value"],Tie=t=>{const{classes:e,selected:r}=t;return He({root:["root",r&&"selected"]},kie,e)},_ie=Q(hr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${JB.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${JB.selected}`]:{color:(t.vars||t).palette.text.primary}})),PF=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbarText"}),{className:i,value:s}=n,a=me(n,Cie),o=Tie(n);return x.jsx(_ie,T({ref:r,className:Se(i,o.root),component:"span"},a,{children:s}))}),Pie=["align","className","selected","typographyClassName","value","variant","width"],Bie=t=>{const{classes:e}=t;return He({root:["root"]},gF,e)},Nie=Q(As,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),vh=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiPickersToolbarButton"}),{align:i,className:s,selected:a,typographyClassName:o,value:l,variant:c,width:u}=n,d=me(n,Pie),h=Bie(n);return x.jsx(Nie,T({variant:"text",ref:r,className:Se(s,h.root)},u?{sx:{width:u}}:{},d,{children:x.jsx(PF,{align:i,className:o,variant:c,value:l,selected:a})}))});function Mie(t){return Ge("MuiTimePickerToolbar",t)}const af=je("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Eie=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],Rie=t=>{const{isLandscape:e,classes:r,isRtl:n}=t;return He({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Mie,r)},Die=Q(yF,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Lie=Q(PF,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Iie=Q("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${af.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${af.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Fie=Q("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${af.ampmLabel}`]:e.ampmLabel},{[`&.${af.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${af.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Aie(t){const e=Fe({props:t,name:"MuiTimePickerToolbar"}),{ampm:r,ampmInClock:n,value:i,isLandscape:s,onChange:a,view:o,onViewChange:l,views:c,disabled:u,readOnly:d,className:h}=e,p=me(e,Eie),f=er(),m=pi(),g=Un(),y=!!(r&&!n&&c.includes("hours")),{meridiemMode:b,handleMeridiemChange:v}=Jk(i,r,a),k=B=>r?f.format(B,"hours12h"):f.format(B,"hours24h"),C=T({},e,{isRtl:g}),S=Rie(C),_=x.jsx(Lie,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:S.separator});return x.jsxs(Die,T({landscapeDirection:"row",toolbarTitle:m.timePickerToolbarTitle,isLandscape:s,ownerState:C,className:Se(S.root,h)},p,{children:[x.jsxs(Iie,{className:S.hourMinuteLabel,ownerState:C,children:[Su(c,"hours")&&x.jsx(vh,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:o==="hours",value:i?k(i):"--"}),Su(c,["hours","minutes"])&&_,Su(c,"minutes")&&x.jsx(vh,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:o==="minutes",value:i?f.format(i,"minutes"):"--"}),Su(c,["minutes","seconds"])&&_,Su(c,"seconds")&&x.jsx(vh,{variant:"h3",onClick:()=>l("seconds"),selected:o==="seconds",value:i?f.format(i,"seconds"):"--"})]}),y&&x.jsxs(Fie,{className:S.ampmSelection,ownerState:C,children:[x.jsx(vh,{disableRipple:!0,variant:"subtitle2",selected:b==="am",typographyClassName:S.ampmLabel,value:ml(f,"am"),onClick:d?void 0:()=>v("am"),disabled:u}),x.jsx(vh,{disableRipple:!0,variant:"subtitle2",selected:b==="pm",typographyClassName:S.ampmLabel,value:ml(f,"pm"),onClick:d?void 0:()=>v("pm"),disabled:u})]})]}))}function BF(t,e){var a;const r=er(),n=Fe({props:t,name:e}),i=n.ampm??r.is12HourCycleInCurrentLocale(),s=w.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:T({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return T({},n,{ampm:i,localeText:s},DI({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,slots:T({toolbar:Aie},n.slots),slotProps:T({},n.slotProps,{toolbar:T({ampm:i,ampmInClock:n.ampmInClock},(a=n.slotProps)==null?void 0:a.toolbar)})})}const Xv=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,ampmInClock:b,slots:v,slotProps:k,readOnly:C,disabled:S,sx:_,autoFocus:B,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:E,timezone:R})=>x.jsx(Dee,{view:t,onViewChange:e,focusedView:r&&Wf(r)?r:null,onFocusedViewChange:n,views:i.filter(Wf),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,ampmInClock:b,slots:v,slotProps:k,readOnly:C,disabled:S,sx:_,autoFocus:B,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:E,timezone:R}),Oie=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R})=>x.jsx(Vee,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(Wf),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeStep:D==null?void 0:D.minutes,skipDisabled:E,timezone:R}),ZB=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R})=>x.jsx(Jee,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(Wf),value:s,defaultValue:a,referenceDate:o,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:m,minutesStep:g,ampm:y,slots:b,slotProps:v,readOnly:k,disabled:C,sx:S,autoFocus:_,disableIgnoringDatePartForTimeValidation:B,timeSteps:D,skipDisabled:E,timezone:R}),$ie=(t,e,r)=>r?e.filter(n=>!BZ(n)||n==="hours"):t?[...e,"meridiem"]:e,Vie=(t,e)=>24*60/((t.hours??1)*(t.minutes??5))<=e;function zie({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:r,views:n}){const i=t??24,s=T({hours:1,minutes:5,seconds:5},r),a=Vie(s,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:s,shouldRenderTimeInASingleColumn:a,views:$ie(e,n,a)}}const NF=w.forwardRef(function(e,r){var y,b,v,k;const n=pi(),i=er(),s=BF(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:o,timeSteps:l}=zie(s),c=a?Oie:ZB,u=T({hours:c,minutes:c,seconds:c,meridiem:c},s.viewRenderers),d=s.ampmInClock??!0,h=a?[]:["accept"],f=((y=u.hours)==null?void 0:y.name)===ZB.name?o:o.filter(C=>C!=="meridiem"),m=T({},s,{ampmInClock:d,timeSteps:l,viewRenderers:u,format:II(i,s),views:a?["hours"]:f,slots:T({field:dF,openPickerIcon:vZ},s.slots),slotProps:T({},s.slotProps,{field:C=>{var S;return T({},Ip((S=s.slotProps)==null?void 0:S.field,C),Rb(s),{ref:r})},toolbar:T({hidden:!0,ampmInClock:d},(b=s.slotProps)==null?void 0:b.toolbar),actionBar:T({actions:h},(v=s.slotProps)==null?void 0:v.actionBar)})}),{renderPicker:g}=kF({props:m,valueManager:fi,valueType:"time",getOpenDialogAriaText:((k=m.localeText)==null?void 0:k.openTimePickerDialogue)??n.openTimePickerDialogue,validator:cC});return g()});NF.propTypes={ampm:W.bool,ampmInClock:W.bool,autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,defaultValue:W.object,disabled:W.bool,disableFuture:W.bool,disableIgnoringDatePartForTimeValidation:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,enableAccessibleFieldDOMStructure:W.any,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:eb,label:W.node,localeText:W.object,maxTime:W.object,minTime:W.object,minutesStep:W.number,name:W.string,onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,open:W.bool,openTo:W.oneOf(["hours","meridiem","minutes","seconds"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.object,selectedSections:W.oneOfType([W.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number]),shouldDisableTime:W.func,skipDisabled:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),thresholdToRenderTimeInASingleColumn:W.number,timeSteps:W.shape({hours:W.number,minutes:W.number,seconds:W.number}),timezone:W.string,value:W.object,view:W.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:W.shape({hours:W.func,meridiem:W.func,minutes:W.func,seconds:W.func}),views:W.arrayOf(W.oneOf(["hours","minutes","seconds"]).isRequired)};const MF=w.forwardRef(function(e,r){var u,d;const n=pi(),i=er(),s=BF(e,"MuiMobileTimePicker"),a=T({hours:Xv,minutes:Xv,seconds:Xv},s.viewRenderers),o=s.ampmInClock??!1,l=T({},s,{ampmInClock:o,viewRenderers:a,format:II(i,s),slots:T({field:dF},s.slots),slotProps:T({},s.slotProps,{field:h=>{var p;return T({},Ip((p=s.slotProps)==null?void 0:p.field,h),Rb(s),{ref:r})},toolbar:T({hidden:!1,ampmInClock:o},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:c}=TF({props:l,valueManager:fi,valueType:"time",getOpenDialogAriaText:((d=l.localeText)==null?void 0:d.openTimePickerDialogue)??n.openTimePickerDialogue,validator:cC});return c()});MF.propTypes={ampm:W.bool,ampmInClock:W.bool,autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,defaultValue:W.object,disabled:W.bool,disableFuture:W.bool,disableIgnoringDatePartForTimeValidation:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,enableAccessibleFieldDOMStructure:W.any,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:eb,label:W.node,localeText:W.object,maxTime:W.object,minTime:W.object,minutesStep:W.number,name:W.string,onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,open:W.bool,openTo:W.oneOf(["hours","minutes","seconds"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.object,selectedSections:W.oneOfType([W.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number]),shouldDisableTime:W.func,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.object,view:W.oneOf(["hours","minutes","seconds"]),viewRenderers:W.shape({hours:W.func,minutes:W.func,seconds:W.func}),views:W.arrayOf(W.oneOf(["hours","minutes","seconds"]).isRequired)};const Wie=["desktopModeMediaQuery"],eN=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=KI}=n,s=me(n,Wie);return mk(i,{defaultMatches:!0})?x.jsx(NF,T({ref:r},s)):x.jsx(MF,T({ref:r},s))});var Up=t=>t.type==="checkbox",Ou=t=>t instanceof Date,xi=t=>t==null;const EF=t=>typeof t=="object";var Hn=t=>!xi(t)&&!Array.isArray(t)&&EF(t)&&!Ou(t),RF=t=>Hn(t)&&t.target?Up(t.target)?t.target.checked:t.target.value:t,Hie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DF=(t,e)=>t.has(Hie(e)),Uie=t=>{const e=t.constructor&&t.constructor.prototype;return Hn(e)&&e.hasOwnProperty("isPrototypeOf")},uC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ri(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(uC&&(t instanceof Blob||t instanceof FileList))&&(r||Hn(t)))if(e=r?[]:{},!r&&!Uie(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ri(t[n]));else return t;return e}var Gp=t=>Array.isArray(t)?t.filter(Boolean):[],fn=t=>t===void 0,qe=(t,e,r)=>{if(!e||!Hn(t))return r;const n=Gp(e.split(/[,[\].]+?/)).reduce((i,s)=>xi(i)?i:i[s],t);return fn(n)||n===t?fn(t[e])?r:t[e]:n},Ga=t=>typeof t=="boolean",dC=t=>/^\w*$/.test(t),LF=t=>Gp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_r=(t,e,r)=>{let n=-1;const i=dC(e)?[e]:LF(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Hn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const Ty={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ma={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},co={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gie=Ut.createContext(null),hC=()=>Ut.useContext(Gie);var IF=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ma.all&&(e._proxyFormState[a]=!n||ma.all),r&&(r[a]=!0),t[a]}});return i},Zi=t=>Hn(t)&&!Object.keys(t).length,FF=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Zi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ma.all))},Bg=t=>Array.isArray(t)?t:[t],AF=(t,e,r)=>!t||!e||t===e||Bg(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function fC(t){const e=Ut.useRef(t);e.current=t,Ut.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function jie(t){const e=hC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ut.useState(r._formState),l=Ut.useRef(!0),c=Ut.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ut.useRef(i);return u.current=i,fC({disabled:n,next:d=>l.current&&AF(u.current,d.name,s)&&FF(d,c.current,r._updateFormState)&&o({...r._formState,...d}),subject:r._subjects.state}),Ut.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),IF(a,r,c.current,!1)}var Xa=t=>typeof t=="string",OF=(t,e,r,n,i)=>Xa(t)?(n&&e.watch.add(t),qe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),qe(r,s))):(n&&(e.watchAll=!0),r);function Yie(t){const e=hC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=Ut.useRef(n);o.current=n,fC({disabled:s,subject:r._subjects.values,next:u=>{AF(o.current,u.name,a)&&c(Ri(OF(o.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=Ut.useState(r._getWatch(n,i));return Ut.useEffect(()=>r._removeUnmounted()),l}function Xie(t){const e=hC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=DF(i._names.array,r),o=Yie({control:i,name:r,defaultValue:qe(i._formValues,r,qe(i._defaultValues,r,t.defaultValue)),exact:!0}),l=jie({control:i,name:r}),c=Ut.useRef(i.register(r,{...t.rules,value:o,...Ga(t.disabled)?{disabled:t.disabled}:{}}));return Ut.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(h,p)=>{const f=qe(i._fields,h);f&&f._f&&(f._f.mount=p)};if(d(r,!0),u){const h=Ri(qe(i._options.defaultValues,r));_r(i._defaultValues,r,h),fn(qe(i._formValues,r))&&_r(i._formValues,r,h)}return()=>{(a?u&&!i._state.action:u)?i.unregister(r):d(r,!1)}},[r,i,a,s]),Ut.useEffect(()=>{qe(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:qe(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:o,...Ga(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:Ut.useCallback(u=>c.current.onChange({target:{value:RF(u),name:r},type:Ty.CHANGE}),[r]),onBlur:Ut.useCallback(()=>c.current.onBlur({target:{value:qe(i._formValues,r),name:r},type:Ty.BLUR}),[r,i]),ref:u=>{const d=qe(i._fields,r);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!qe(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!qe(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!qe(l.validatingFields,r)},error:{enumerable:!0,get:()=>qe(l.errors,r)}})}}const qv=t=>t.render(Xie(t));var qie=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},tN=t=>({isOnSubmit:!t||t===ma.onSubmit,isOnBlur:t===ma.onBlur,isOnChange:t===ma.onChange,isOnAll:t===ma.all,isOnTouch:t===ma.onTouched}),rN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const of=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=qe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;of(o,e)}else Hn(o)&&of(o,e)}}};var Kie=(t,e,r)=>{const n=Gp(qe(t,r));return _r(n,"root",e[r]),_r(t,r,n),t},pC=t=>t.type==="file",gl=t=>typeof t=="function",_y=t=>{if(!uC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ng=t=>Xa(t),mC=t=>t.type==="radio",Py=t=>t instanceof RegExp;const nN={value:!1,isValid:!1},iN={value:!0,isValid:!0};var $F=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!fn(t[0].attributes.value)?fn(t[0].value)||t[0].value===""?iN:{value:t[0].value,isValid:!0}:iN:nN}return nN};const sN={isValid:!1,value:null};var VF=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,sN):sN;function aN(t,e,r="validate"){if(Ng(t)||Array.isArray(t)&&t.every(Ng)||Ga(t)&&!t)return{type:r,message:Ng(t)?t:"",ref:e}}var fu=t=>Hn(t)&&!Py(t)?t:{value:t,message:""},oN=async(t,e,r,n,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:p,name:f,valueAsNumber:m,mount:g,disabled:y}=t._f,b=qe(e,f);if(!g||y)return{};const v=a?a[0]:s,k=A=>{n&&v.reportValidity&&(v.setCustomValidity(Ga(A)?"":A||""),v.reportValidity())},C={},S=mC(s),_=Up(s),B=S||_,D=(m||pC(s))&&fn(s.value)&&fn(b)||_y(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,E=qie.bind(null,f,r,C),R=(A,I,L,N=co.maxLength,F=co.minLength)=>{const O=A?I:L;C[f]={type:A?N:F,message:O,ref:s,...E(A?N:F,O)}};if(i?!Array.isArray(b)||!b.length:o&&(!B&&(D||xi(b))||Ga(b)&&!b||_&&!$F(a).isValid||S&&!VF(a).isValid)){const{value:A,message:I}=Ng(o)?{value:!!o,message:o}:fu(o);if(A&&(C[f]={type:co.required,message:I,ref:v,...E(co.required,I)},!r))return k(I),C}if(!D&&(!xi(u)||!xi(d))){let A,I;const L=fu(d),N=fu(u);if(!xi(b)&&!isNaN(b)){const F=s.valueAsNumber||b&&+b;xi(L.value)||(A=F>L.value),xi(N.value)||(I=F<N.value)}else{const F=s.valueAsDate||new Date(b),O=z=>new Date(new Date().toDateString()+" "+z),M=s.type=="time",V=s.type=="week";Xa(L.value)&&b&&(A=M?O(b)>O(L.value):V?b>L.value:F>new Date(L.value)),Xa(N.value)&&b&&(I=M?O(b)<O(N.value):V?b<N.value:F<new Date(N.value))}if((A||I)&&(R(!!A,L.message,N.message,co.max,co.min),!r))return k(C[f].message),C}if((l||c)&&!D&&(Xa(b)||i&&Array.isArray(b))){const A=fu(l),I=fu(c),L=!xi(A.value)&&b.length>+A.value,N=!xi(I.value)&&b.length<+I.value;if((L||N)&&(R(L,A.message,I.message),!r))return k(C[f].message),C}if(h&&!D&&Xa(b)){const{value:A,message:I}=fu(h);if(Py(A)&&!b.match(A)&&(C[f]={type:co.pattern,message:I,ref:s,...E(co.pattern,I)},!r))return k(I),C}if(p){if(gl(p)){const A=await p(b,e),I=aN(A,v);if(I&&(C[f]={...I,...E(co.validate,I.message)},!r))return k(I.message),C}else if(Hn(p)){let A={};for(const I in p){if(!Zi(A)&&!r)break;const L=aN(await p[I](b,e),v,I);L&&(A={...L,...E(I,L.message)},k(L.message),r&&(C[f]=A))}if(!Zi(A)&&(C[f]={ref:v,...A},!r))return C}}return k(!0),C};function Qie(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=fn(t)?n++:t[e[n++]];return t}function Jie(t){for(const e in t)if(t.hasOwnProperty(e)&&!fn(t[e]))return!1;return!0}function An(t,e){const r=Array.isArray(e)?e:dC(e)?[e]:LF(e),n=r.length===1?t:Qie(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Hn(n)&&Zi(n)||Array.isArray(n)&&Jie(n))&&An(t,r.slice(0,-1)),t}var Kv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},By=t=>xi(t)||!EF(t);function fc(t,e){if(By(t)||By(e))return t===e;if(Ou(t)&&Ou(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Ou(s)&&Ou(a)||Hn(s)&&Hn(a)||Array.isArray(s)&&Array.isArray(a)?!fc(s,a):s!==a)return!1}}return!0}var zF=t=>t.type==="select-multiple",Zie=t=>mC(t)||Up(t),Qv=t=>_y(t)&&t.isConnected,WF=t=>{for(const e in t)if(gl(t[e]))return!0;return!1};function Ny(t,e={}){const r=Array.isArray(t);if(Hn(t)||r)for(const n in t)Array.isArray(t[n])||Hn(t[n])&&!WF(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ny(t[n],e[n])):xi(t[n])||(e[n]=!0);return e}function HF(t,e,r){const n=Array.isArray(t);if(Hn(t)||n)for(const i in t)Array.isArray(t[i])||Hn(t[i])&&!WF(t[i])?fn(e)||By(r[i])?r[i]=Array.isArray(t[i])?Ny(t[i],[]):{...Ny(t[i])}:HF(t[i],xi(e)?{}:e[i],r[i]):r[i]=!fc(t[i],e[i]);return r}var Om=(t,e)=>HF(t,e,Ny(e)),UF=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>fn(t)?t:e?t===""?NaN:t&&+t:r&&Xa(t)?new Date(t):n?n(t):t;function Jv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return pC(e)?e.files:mC(e)?VF(t.refs).value:zF(e)?[...e.selectedOptions].map(({value:r})=>r):Up(e)?$F(t.refs).value:UF(fn(e.value)?t.ref.value:e.value,t)}var ese=(t,e,r,n)=>{const i={};for(const s of t){const a=qe(e,s);a&&_r(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},wh=t=>fn(t)?t:Py(t)?t.source:Hn(t)?Py(t.value)?t.value.source:t.value:t,tse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function lN(t,e,r){const n=qe(t,r);if(n||dC(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=qe(e,s),o=qe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var rse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,nse=(t,e)=>!Gp(qe(t,e)).length&&An(t,e);const ise={mode:ma.onSubmit,reValidateMode:ma.onChange,shouldFocusError:!0};function sse(t={}){let e={...ise,...t},r={submitCount:0,isDirty:!1,isLoading:gl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Hn(e.defaultValues)||Hn(e.values)?Ri(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ri(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Kv(),array:Kv(),state:Kv()},h=tN(e.mode),p=tN(e.reValidateMode),f=e.criteriaMode===ma.all,m=$=>U=>{clearTimeout(c),c=setTimeout($,U)},g=async $=>{if(u.isValid||$){const U=e.resolver?Zi((await B()).errors):await E(n,!0);U!==r.isValid&&d.state.next({isValid:U})}},y=($,U)=>{(u.isValidating||u.validatingFields)&&(($||Array.from(o.mount)).forEach(j=>{j&&(U?_r(r.validatingFields,j,U):An(r.validatingFields,j))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Zi(r.validatingFields)}))},b=($,U=[],j,ae,Be=!0,ke=!0)=>{if(ae&&j){if(a.action=!0,ke&&Array.isArray(qe(n,$))){const De=j(qe(n,$),ae.argA,ae.argB);Be&&_r(n,$,De)}if(ke&&Array.isArray(qe(r.errors,$))){const De=j(qe(r.errors,$),ae.argA,ae.argB);Be&&_r(r.errors,$,De),nse(r.errors,$)}if(u.touchedFields&&ke&&Array.isArray(qe(r.touchedFields,$))){const De=j(qe(r.touchedFields,$),ae.argA,ae.argB);Be&&_r(r.touchedFields,$,De)}u.dirtyFields&&(r.dirtyFields=Om(i,s)),d.state.next({name:$,isDirty:A($,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _r(s,$,U)},v=($,U)=>{_r(r.errors,$,U),d.state.next({errors:r.errors})},k=$=>{r.errors=$,d.state.next({errors:r.errors,isValid:!1})},C=($,U,j,ae)=>{const Be=qe(n,$);if(Be){const ke=qe(s,$,fn(j)?qe(i,$):j);fn(ke)||ae&&ae.defaultChecked||U?_r(s,$,U?ke:Jv(Be._f)):N($,ke),a.mount&&g()}},S=($,U,j,ae,Be)=>{let ke=!1,De=!1;const Je={name:$},dt=!!(qe(n,$)&&qe(n,$)._f&&qe(n,$)._f.disabled);if(!j||ae){u.isDirty&&(De=r.isDirty,r.isDirty=Je.isDirty=A(),ke=De!==Je.isDirty);const Rt=dt||fc(qe(i,$),U);De=!!(!dt&&qe(r.dirtyFields,$)),Rt||dt?An(r.dirtyFields,$):_r(r.dirtyFields,$,!0),Je.dirtyFields=r.dirtyFields,ke=ke||u.dirtyFields&&De!==!Rt}if(j){const Rt=qe(r.touchedFields,$);Rt||(_r(r.touchedFields,$,j),Je.touchedFields=r.touchedFields,ke=ke||u.touchedFields&&Rt!==j)}return ke&&Be&&d.state.next(Je),ke?Je:{}},_=($,U,j,ae)=>{const Be=qe(r.errors,$),ke=u.isValid&&Ga(U)&&r.isValid!==U;if(t.delayError&&j?(l=m(()=>v($,j)),l(t.delayError)):(clearTimeout(c),l=null,j?_r(r.errors,$,j):An(r.errors,$)),(j?!fc(Be,j):Be)||!Zi(ae)||ke){const De={...ae,...ke&&Ga(U)?{isValid:U}:{},errors:r.errors,name:$};r={...r,...De},d.state.next(De)}},B=async $=>{y($,!0);const U=await e.resolver(s,e.context,ese($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y($),U},D=async $=>{const{errors:U}=await B($);if($)for(const j of $){const ae=qe(U,j);ae?_r(r.errors,j,ae):An(r.errors,j)}else r.errors=U;return U},E=async($,U,j={valid:!0})=>{for(const ae in $){const Be=$[ae];if(Be){const{_f:ke,...De}=Be;if(ke){const Je=o.array.has(ke.name);y([ae],!0);const dt=await oN(Be,s,f,e.shouldUseNativeValidation&&!U,Je);if(y([ae]),dt[ke.name]&&(j.valid=!1,U))break;!U&&(qe(dt,ke.name)?Je?Kie(r.errors,dt,ke.name):_r(r.errors,ke.name,dt[ke.name]):An(r.errors,ke.name))}De&&await E(De,U,j)}}return j.valid},R=()=>{for(const $ of o.unMount){const U=qe(n,$);U&&(U._f.refs?U._f.refs.every(j=>!Qv(j)):!Qv(U._f.ref))&&Z($)}o.unMount=new Set},A=($,U)=>($&&U&&_r(s,$,U),!fc(K(),i)),I=($,U,j)=>OF($,o,{...a.mount?s:fn(U)?i:Xa($)?{[$]:U}:U},j,U),L=$=>Gp(qe(a.mount?s:i,$,t.shouldUnregister?qe(i,$,[]):[])),N=($,U,j={})=>{const ae=qe(n,$);let Be=U;if(ae){const ke=ae._f;ke&&(!ke.disabled&&_r(s,$,UF(U,ke)),Be=_y(ke.ref)&&xi(U)?"":U,zF(ke.ref)?[...ke.ref.options].forEach(De=>De.selected=Be.includes(De.value)):ke.refs?Up(ke.ref)?ke.refs.length>1?ke.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(Be)?!!Be.find(Je=>Je===De.value):Be===De.value)):ke.refs[0]&&(ke.refs[0].checked=!!Be):ke.refs.forEach(De=>De.checked=De.value===Be):pC(ke.ref)?ke.ref.value="":(ke.ref.value=Be,ke.ref.type||d.values.next({name:$,values:{...s}})))}(j.shouldDirty||j.shouldTouch)&&S($,Be,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&z($)},F=($,U,j)=>{for(const ae in U){const Be=U[ae],ke=`${$}.${ae}`,De=qe(n,ke);(o.array.has($)||!By(Be)||De&&!De._f)&&!Ou(Be)?F(ke,Be,j):N(ke,Be,j)}},O=($,U,j={})=>{const ae=qe(n,$),Be=o.array.has($),ke=Ri(U);_r(s,$,ke),Be?(d.array.next({name:$,values:{...s}}),(u.isDirty||u.dirtyFields)&&j.shouldDirty&&d.state.next({name:$,dirtyFields:Om(i,s),isDirty:A($,ke)})):ae&&!ae._f&&!xi(ke)?F($,ke,j):N($,ke,j),rN($,o)&&d.state.next({...r}),d.values.next({name:a.mount?$:void 0,values:{...s}})},M=async $=>{a.mount=!0;const U=$.target;let j=U.name,ae=!0;const Be=qe(n,j),ke=()=>U.type?Jv(Be._f):RF($),De=Je=>{ae=Number.isNaN(Je)||Je===qe(s,j,Je)};if(Be){let Je,dt;const Rt=ke(),_e=$.type===Ty.BLUR||$.type===Ty.FOCUS_OUT,ye=!tse(Be._f)&&!e.resolver&&!qe(r.errors,j)&&!Be._f.deps||rse(_e,qe(r.touchedFields,j),r.isSubmitted,p,h),Ze=rN(j,o,_e);_r(s,j,Rt),_e?(Be._f.onBlur&&Be._f.onBlur($),l&&l(0)):Be._f.onChange&&Be._f.onChange($);const xt=S(j,Rt,_e,!1),Nt=!Zi(xt)||Ze;if(!_e&&d.values.next({name:j,type:$.type,values:{...s}}),ye)return u.isValid&&g(),Nt&&d.state.next({name:j,...Ze?{}:xt});if(!_e&&Ze&&d.state.next({...r}),e.resolver){const{errors:Oe}=await B([j]);if(De(Rt),ae){const _t=lN(r.errors,n,j),Ie=lN(Oe,n,_t.name||j);Je=Ie.error,j=Ie.name,dt=Zi(Oe)}}else y([j],!0),Je=(await oN(Be,s,f,e.shouldUseNativeValidation))[j],y([j]),De(Rt),ae&&(Je?dt=!1:u.isValid&&(dt=await E(n,!0)));ae&&(Be._f.deps&&z(Be._f.deps),_(j,dt,Je,xt))}},V=($,U)=>{if(qe(r.errors,U)&&$.focus)return $.focus(),1},z=async($,U={})=>{let j,ae;const Be=Bg($);if(e.resolver){const ke=await D(fn($)?$:Be);j=Zi(ke),ae=$?!Be.some(De=>qe(ke,De)):j}else $?(ae=(await Promise.all(Be.map(async ke=>{const De=qe(n,ke);return await E(De&&De._f?{[ke]:De}:De)}))).every(Boolean),!(!ae&&!r.isValid)&&g()):ae=j=await E(n);return d.state.next({...!Xa($)||u.isValid&&j!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:j}:{},errors:r.errors}),U.shouldFocus&&!ae&&of(n,V,$?Be:o.mount),ae},K=$=>{const U={...a.mount?s:i};return fn($)?U:Xa($)?qe(U,$):$.map(j=>qe(U,j))},ie=($,U)=>({invalid:!!qe((U||r).errors,$),isDirty:!!qe((U||r).dirtyFields,$),error:qe((U||r).errors,$),isValidating:!!qe(r.validatingFields,$),isTouched:!!qe((U||r).touchedFields,$)}),se=$=>{$&&Bg($).forEach(U=>An(r.errors,U)),d.state.next({errors:$?r.errors:{}})},te=($,U,j)=>{const ae=(qe(n,$,{_f:{}})._f||{}).ref,Be=qe(r.errors,$)||{},{ref:ke,message:De,type:Je,...dt}=Be;_r(r.errors,$,{...dt,...U,ref:ae}),d.state.next({name:$,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&ae&&ae.focus&&ae.focus()},G=($,U)=>gl($)?d.values.subscribe({next:j=>$(I(void 0,U),j)}):I($,U,!0),Z=($,U={})=>{for(const j of $?Bg($):o.mount)o.mount.delete(j),o.array.delete(j),U.keepValue||(An(n,j),An(s,j)),!U.keepError&&An(r.errors,j),!U.keepDirty&&An(r.dirtyFields,j),!U.keepTouched&&An(r.touchedFields,j),!U.keepIsValidating&&An(r.validatingFields,j),!e.shouldUnregister&&!U.keepDefaultValue&&An(i,j);d.values.next({values:{...s}}),d.state.next({...r,...U.keepDirty?{isDirty:A()}:{}}),!U.keepIsValid&&g()},he=({disabled:$,name:U,field:j,fields:ae,value:Be})=>{if(Ga($)&&a.mount||$){const ke=$?void 0:fn(Be)?Jv(j?j._f:qe(ae,U)._f):Be;_r(s,U,ke),S(U,ke,!1,!1,!0)}},pe=($,U={})=>{let j=qe(n,$);const ae=Ga(U.disabled);return _r(n,$,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:$}},name:$,mount:!0,...U}}),o.mount.add($),j?he({field:j,disabled:U.disabled,name:$,value:U.value}):C($,!0,U.value),{...ae?{disabled:U.disabled}:{},...e.progressive?{required:!!U.required,min:wh(U.min),max:wh(U.max),minLength:wh(U.minLength),maxLength:wh(U.maxLength),pattern:wh(U.pattern)}:{},name:$,onChange:M,onBlur:M,ref:Be=>{if(Be){pe($,U),j=qe(n,$);const ke=fn(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,De=Zie(ke),Je=j._f.refs||[];if(De?Je.find(dt=>dt===ke):ke===j._f.ref)return;_r(n,$,{_f:{...j._f,...De?{refs:[...Je.filter(Qv),ke,...Array.isArray(qe(i,$))?[{}]:[]],ref:{type:ke.type,name:$}}:{ref:ke}}}),C($,!1,void 0,ke)}else j=qe(n,$,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(DF(o.array,$)&&a.action)&&o.unMount.add($)}}},ne=()=>e.shouldFocusError&&of(n,V,o.mount),le=$=>{Ga($)&&(d.state.next({disabled:$}),of(n,(U,j)=>{const ae=qe(n,j);ae&&(U.disabled=ae._f.disabled||$,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(Be=>{Be.disabled=ae._f.disabled||$}))},0,!1))},oe=($,U)=>async j=>{let ae;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let Be=Ri(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:De}=await B();r.errors=ke,Be=De}else await E(n);if(An(r.errors,"root"),Zi(r.errors)){d.state.next({errors:{}});try{await $(Be,j)}catch(ke){ae=ke}}else U&&await U({...r.errors},j),ne(),setTimeout(ne);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zi(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},q=($,U={})=>{qe(n,$)&&(fn(U.defaultValue)?O($,Ri(qe(i,$))):(O($,U.defaultValue),_r(i,$,Ri(U.defaultValue))),U.keepTouched||An(r.touchedFields,$),U.keepDirty||(An(r.dirtyFields,$),r.isDirty=U.defaultValue?A($,Ri(qe(i,$))):A()),U.keepError||(An(r.errors,$),u.isValid&&g()),d.state.next({...r}))},X=($,U={})=>{const j=$?Ri($):i,ae=Ri(j),Be=Zi($),ke=Be?i:ae;if(U.keepDefaultValues||(i=j),!U.keepValues){if(U.keepDirtyValues)for(const De of o.mount)qe(r.dirtyFields,De)?_r(ke,De,qe(s,De)):O(De,qe(ke,De));else{if(uC&&fn($))for(const De of o.mount){const Je=qe(n,De);if(Je&&Je._f){const dt=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(_y(dt)){const Rt=dt.closest("form");if(Rt){Rt.reset();break}}}}n={}}s=t.shouldUnregister?U.keepDefaultValues?Ri(i):{}:Ri(ke),d.array.next({values:{...ke}}),d.values.next({values:{...ke}})}o={mount:U.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,a.watch=!!t.shouldUnregister,d.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:Be?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!fc($,i)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Be?[]:U.keepDirtyValues?U.keepDefaultValues&&s?Om(i,s):r.dirtyFields:U.keepDefaultValues&&$?Om(i,$):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},J=($,U)=>X(gl($)?$(s):$,U);return{control:{register:pe,unregister:Z,getFieldState:ie,handleSubmit:oe,setError:te,_executeSchema:B,_getWatch:I,_getDirty:A,_updateValid:g,_removeUnmounted:R,_updateFieldArray:b,_updateDisabledField:he,_getFieldArray:L,_reset:X,_resetDefaultValues:()=>gl(e.defaultValues)&&e.defaultValues().then($=>{J($,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:le,_subjects:d,_proxyFormState:u,_setErrors:k,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:z,register:pe,handleSubmit:oe,watch:G,setValue:O,getValues:K,reset:J,resetField:q,clearErrors:se,unregister:Z,setError:te,setFocus:($,U={})=>{const j=qe(n,$),ae=j&&j._f;if(ae){const Be=ae.refs?ae.refs[0]:ae.ref;Be.focus&&(Be.focus(),U.shouldSelect&&Be.select())}},getFieldState:ie}}function ase(t={}){const e=Ut.useRef(),r=Ut.useRef(),[n,i]=Ut.useState({isDirty:!1,isValidating:!1,isLoading:gl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:gl(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...sse(t),formState:n});const s=e.current.control;return s._options=t,fC({subject:s._subjects.state,next:a=>{FF(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ut.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ut.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ut.useEffect(()=>{t.values&&!fc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Ut.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ut.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ut.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=IF(n,s),e.current}var GF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",f="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var N=["th","st","nd","rd"],F=L%100;return"["+L+(N[(F-20)%10]||N[F]||N[0])+"]"}},v=function(L,N,F){var O=String(L);return!O||O.length>=N?L:""+Array(N+1-O.length).join(F)+L},k={s:v,z:function(L){var N=-L.utcOffset(),F=Math.abs(N),O=Math.floor(F/60),M=F%60;return(N<=0?"+":"-")+v(O,2,"0")+":"+v(M,2,"0")},m:function L(N,F){if(N.date()<F.date())return-L(F,N);var O=12*(F.year()-N.year())+(F.month()-N.month()),M=N.clone().add(O,d),V=F-M<0,z=N.clone().add(O+(V?-1:1),d);return+(-(O+(F-M)/(V?M-z:z-M))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:p,w:u,d:c,D:f,h:l,m:o,s:a,ms:s,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},C="en",S={};S[C]=b;var _="$isDayjsObject",B=function(L){return L instanceof A||!(!L||!L[_])},D=function L(N,F,O){var M;if(!N)return C;if(typeof N=="string"){var V=N.toLowerCase();S[V]&&(M=V),F&&(S[V]=F,M=V);var z=N.split("-");if(!M&&z.length>1)return L(z[0])}else{var K=N.name;S[K]=N,M=K}return!O&&M&&(C=M),M||!O&&C},E=function(L,N){if(B(L))return L.clone();var F=typeof N=="object"?N:{};return F.date=L,F.args=arguments,new A(F)},R=k;R.l=D,R.i=B,R.w=function(L,N){return E(L,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var A=function(){function L(F){this.$L=D(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[_]=!0}var N=L.prototype;return N.parse=function(F){this.$d=function(O){var M=O.date,V=O.utc;if(M===null)return new Date(NaN);if(R.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var z=M.match(g);if(z){var K=z[2]-1||0,ie=(z[7]||"0").substring(0,3);return V?new Date(Date.UTC(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ie)):new Date(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ie)}}return new Date(M)}(F),this.init()},N.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},N.$utils=function(){return R},N.isValid=function(){return this.$d.toString()!==m},N.isSame=function(F,O){var M=E(F);return this.startOf(O)<=M&&M<=this.endOf(O)},N.isAfter=function(F,O){return E(F)<this.startOf(O)},N.isBefore=function(F,O){return this.endOf(O)<E(F)},N.$g=function(F,O,M){return R.u(F)?this[O]:this.set(M,F)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(F,O){var M=this,V=!!R.u(O)||O,z=R.p(F),K=function(ne,le){var oe=R.w(M.$u?Date.UTC(M.$y,le,ne):new Date(M.$y,le,ne),M);return V?oe:oe.endOf(c)},ie=function(ne,le){return R.w(M.toDate()[ne].apply(M.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(le)),M)},se=this.$W,te=this.$M,G=this.$D,Z="set"+(this.$u?"UTC":"");switch(z){case p:return V?K(1,0):K(31,11);case d:return V?K(1,te):K(0,te+1);case u:var he=this.$locale().weekStart||0,pe=(se<he?se+7:se)-he;return K(V?G-pe:G+(6-pe),te);case c:case f:return ie(Z+"Hours",0);case l:return ie(Z+"Minutes",1);case o:return ie(Z+"Seconds",2);case a:return ie(Z+"Milliseconds",3);default:return this.clone()}},N.endOf=function(F){return this.startOf(F,!1)},N.$set=function(F,O){var M,V=R.p(F),z="set"+(this.$u?"UTC":""),K=(M={},M[c]=z+"Date",M[f]=z+"Date",M[d]=z+"Month",M[p]=z+"FullYear",M[l]=z+"Hours",M[o]=z+"Minutes",M[a]=z+"Seconds",M[s]=z+"Milliseconds",M)[V],ie=V===c?this.$D+(O-this.$W):O;if(V===d||V===p){var se=this.clone().set(f,1);se.$d[K](ie),se.init(),this.$d=se.set(f,Math.min(this.$D,se.daysInMonth())).$d}else K&&this.$d[K](ie);return this.init(),this},N.set=function(F,O){return this.clone().$set(F,O)},N.get=function(F){return this[R.p(F)]()},N.add=function(F,O){var M,V=this;F=Number(F);var z=R.p(O),K=function(te){var G=E(V);return R.w(G.date(G.date()+Math.round(te*F)),V)};if(z===d)return this.set(d,this.$M+F);if(z===p)return this.set(p,this.$y+F);if(z===c)return K(1);if(z===u)return K(7);var ie=(M={},M[o]=n,M[l]=i,M[a]=r,M)[z]||1,se=this.$d.getTime()+F*ie;return R.w(se,this)},N.subtract=function(F,O){return this.add(-1*F,O)},N.format=function(F){var O=this,M=this.$locale();if(!this.isValid())return M.invalidDate||m;var V=F||"YYYY-MM-DDTHH:mm:ssZ",z=R.z(this),K=this.$H,ie=this.$m,se=this.$M,te=M.weekdays,G=M.months,Z=M.meridiem,he=function(le,oe,q,X){return le&&(le[oe]||le(O,V))||q[oe].slice(0,X)},pe=function(le){return R.s(K%12||12,le,"0")},ne=Z||function(le,oe,q){var X=le<12?"AM":"PM";return q?X.toLowerCase():X};return V.replace(y,function(le,oe){return oe||function(q){switch(q){case"YY":return String(O.$y).slice(-2);case"YYYY":return R.s(O.$y,4,"0");case"M":return se+1;case"MM":return R.s(se+1,2,"0");case"MMM":return he(M.monthsShort,se,G,3);case"MMMM":return he(G,se);case"D":return O.$D;case"DD":return R.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return he(M.weekdaysMin,O.$W,te,2);case"ddd":return he(M.weekdaysShort,O.$W,te,3);case"dddd":return te[O.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ne(K,ie,!0);case"A":return ne(K,ie,!1);case"m":return String(ie);case"mm":return R.s(ie,2,"0");case"s":return String(O.$s);case"ss":return R.s(O.$s,2,"0");case"SSS":return R.s(O.$ms,3,"0");case"Z":return z}return null}(le)||z.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(F,O,M){var V,z=this,K=R.p(O),ie=E(F),se=(ie.utcOffset()-this.utcOffset())*n,te=this-ie,G=function(){return R.m(z,ie)};switch(K){case p:V=G()/12;break;case d:V=G();break;case h:V=G()/3;break;case u:V=(te-se)/6048e5;break;case c:V=(te-se)/864e5;break;case l:V=te/i;break;case o:V=te/n;break;case a:V=te/r;break;default:V=te}return M?V:R.a(V)},N.daysInMonth=function(){return this.endOf(d).$D},N.$locale=function(){return S[this.$L]},N.locale=function(F,O){if(!F)return this.$L;var M=this.clone(),V=D(F,O,!0);return V&&(M.$L=V),M},N.clone=function(){return R.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},L}(),I=A.prototype;return E.prototype=I,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",d],["$y",p],["$D",f]].forEach(function(L){I[L[1]]=function(N){return this.$g(N,L[0],L[1])}}),E.extend=function(L,N){return L.$i||(L(N,A,E),L.$i=!0),E},E.locale=D,E.isDayjs=B,E.unix=function(L){return E(1e3*L)},E.en=S[C],E.Ls=S,E.p={},E})})(GF);var ose=GF.exports;const vn=Ho(ose),lse={day:vn(),startTime:vn(),endTime:vn()};function cN({open:t,onClose:e,shift:r,_handleSubmit:n}){const{control:i,handleSubmit:s}=ase({defaultValues:r||lse});return x.jsxs(Op,{open:t,onClose:e,children:[x.jsxs(FL,{children:[r?"Edit":"Add"," Shift"]}),x.jsxs(IL,{children:[x.jsx(qv,{name:"day",control:i,render:({field:a})=>x.jsx(Sie,{value:a.value,onChange:a.onChange})}),x.jsxs("div",{children:[x.jsx(qv,{name:"startTime",control:i,render:({field:a})=>x.jsx(eN,{value:a.value,onChange:a.onChange})}),x.jsx(qv,{name:"endTime",control:i,render:({field:a})=>x.jsx(eN,{value:a.value,onChange:a.onChange})})]})]}),x.jsx(LL,{children:x.jsx(As,{onClick:s(n),children:"Submit"})})]})}function cse(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),[i,s]=w.useState(null);function a(l){var c=[...t];c[i]=l,e(c),s(null)}function o(l){e([...t,l]),n(!1)}return x.jsxs(Ul,{title:"Shifts",children:[x.jsx($p,{children:t.map((l,c)=>x.jsxs(x.Fragment,{children:[x.jsx(uj,{title:l.day.format("dddd, MMMM D")+" - "+l.endTime.diff(l.startTime,"hours")+" hours",action:x.jsx(oi,{onClick:()=>s(c),children:x.jsx(uI,{})})}),x.jsx($f,{children:l.startTime.format("h:mm a")+" to "+l.endTime.format("h:mm a")})]}))}),x.jsx(R9,{color:"primary",sx:{position:"absolute",right:16,bottom:16},onClick:()=>{n(!0)},children:x.jsx(Hk,{})}),x.jsx(cN,{open:r,onClose:()=>{n(!1)},_handleSubmit:o}),x.jsx(cN,{open:i!==null,onClose:()=>{s(null)},shift:i!==null?t[i]:void 0,_handleSubmit:a})]})}var jF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){var r="week",n="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(n).add(1,n).date(c),d=a(this).endOf(r);if(u.isBefore(d))return 1}var h=a(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),p=this.diff(h,r,!0);return p<0?a(this).startOf("week").week():Math.ceil(p)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(jF);var use=jF.exports;const dse=Ho(use);var YF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(g){this[m]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(m)}],d=function(m){var g=o[m];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(m,g){var y,b=o.meridiem;if(b){for(var v=1;v<=24;v+=1)if(m.indexOf(b(v,0,g))>-1){y=v>12;break}}else y=m===(g?"pm":"PM");return y},p={A:[a,function(m){this.afternoon=h(m,!1)}],a:[a,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[i,c("day")],Do:[a,function(m){var g=o.ordinal,y=m.match(/\d+/);if(this.day=y[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[s,c("month")],MM:[i,c("month")],MMM:[a,function(m){var g=d("months"),y=(d("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(m){var g=d("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function f(m){var g,y;g=m,y=o&&o.formats;for(var b=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,E,R){var A=R&&R.toUpperCase();return E||y[R]||r[R]||y[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,L,N){return L||N.slice(1)})})).match(n),v=b.length,k=0;k<v;k+=1){var C=b[k],S=p[C],_=S&&S[0],B=S&&S[1];b[k]=B?{regex:_,parser:B}:C.replace(/^\[|\]$/g,"")}return function(D){for(var E={},R=0,A=0;R<v;R+=1){var I=b[R];if(typeof I=="string")A+=I.length;else{var L=I.regex,N=I.parser,F=D.slice(A),O=L.exec(F)[0];N.call(E,O),D=D.replace(O,"")}}return function(M){var V=M.afternoon;if(V!==void 0){var z=M.hours;V?z<12&&(M.hours+=12):z===12&&(M.hours=0),delete M.afternoon}}(E),E}}return function(m,g,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var b=g.prototype,v=b.parse;b.parse=function(k){var C=k.date,S=k.utc,_=k.args;this.$u=S;var B=_[1];if(typeof B=="string"){var D=_[2]===!0,E=_[3]===!0,R=D||E,A=_[2];E&&(A=_[2]),o=this.$locale(),!D&&A&&(o=y.Ls[A]),this.$d=function(F,O,M){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*F);var V=f(O)(F),z=V.year,K=V.month,ie=V.day,se=V.hours,te=V.minutes,G=V.seconds,Z=V.milliseconds,he=V.zone,pe=new Date,ne=ie||(z||K?1:pe.getDate()),le=z||pe.getFullYear(),oe=0;z&&!K||(oe=K>0?K-1:pe.getMonth());var q=se||0,X=te||0,J=G||0,Y=Z||0;return he?new Date(Date.UTC(le,oe,ne,q,X,J,Y+60*he.offset*1e3)):M?new Date(Date.UTC(le,oe,ne,q,X,J,Y)):new Date(le,oe,ne,q,X,J,Y)}catch{return new Date("")}}(C,B,S),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),R&&C!=this.format(B)&&(this.$d=new Date("")),o={}}else if(B instanceof Array)for(var I=B.length,L=1;L<=I;L+=1){_[1]=B[L-1];var N=y.apply(this,_);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}L===I&&(this.$d=new Date(""))}else v.call(this,k)}}})})(YF);var hse=YF.exports;const fse=Ho(hse);var XF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var a=i.prototype,o=a.format;s.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,f,m){var g=m&&m.toUpperCase();return f||h[m]||r[m]||h[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,b,v){return b||v.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})})(XF);var pse=XF.exports;const mse=Ho(pse);var qF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){return function(r,n,i){n.prototype.isBetween=function(s,a,o,l){var c=i(s),u=i(a),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(d?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}})})(qF);var gse=qF.exports;const yse=Ho(gse);var KF={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Md,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(KF);var bse=KF.exports;const vse=Ho(bse);vn.extend(mse);vn.extend(dse);vn.extend(yse);vn.extend(vse);const wse=vF(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),xse={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Sse={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Zv=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),uN=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),kse=(t,e)=>e?(...r)=>t(...r).locale(e):t;class Cse{constructor({locale:e,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=xse,this.setLocaleToValue=n=>{const i=this.getCurrentLocaleCode();return i===n.locale()?n:n.locale(i)},this.hasUTCPlugin=()=>typeof vn.utc<"u",this.hasTimezonePlugin=()=>typeof vn.tz<"u",this.isSame=(n,i,s)=>{const a=this.setTimezone(i,this.getTimezone(n));return n.format(s)===a.format(s)},this.cleanTimezone=n=>{switch(n){case"default":return;case"system":return vn.tz.guess();default:return n}},this.createSystemDate=n=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=vn.tz.guess();return i!=="UTC"?vn.tz(n,i):vn(n)}return vn(n)},this.createUTCDate=n=>{if(!this.hasUTCPlugin())throw new Error(Zv);return vn.utc(n)},this.createTZDate=(n,i)=>{if(!this.hasUTCPlugin())throw new Error(Zv);if(!this.hasTimezonePlugin())throw new Error(uN);const s=n!==void 0&&!n.endsWith("Z");return vn(n).tz(this.cleanTimezone(i),s)},this.getLocaleFormats=()=>{const n=vn.Ls,i=this.locale||"en";let s=n[i];return s===void 0&&(wse(),s=n.en),s.formats},this.adjustOffset=n=>{if(!this.hasTimezonePlugin())return n;const i=this.getTimezone(n);if(i!=="UTC"){const s=n.tz(this.cleanTimezone(i),!0);if((s.$offset??0)===(n.$offset??0))return n;n.$offset=s.$offset}return n},this.date=(n,i="default")=>{if(n===null)return null;let s;return i==="UTC"?s=this.createUTCDate(n):i==="system"||i==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(n):s=this.createTZDate(n,i),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>vn(new Date("Invalid date")),this.getTimezone=n=>{var i;if(this.hasTimezonePlugin()){const s=(i=n.$x)==null?void 0:i.$timezone;if(s)return s}return this.hasUTCPlugin()&&n.isUTC()?"UTC":"system"},this.setTimezone=(n,i)=>{if(this.getTimezone(n)===i)return n;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(Zv);return n.utc()}if(i==="system")return n.local();if(!this.hasTimezonePlugin()){if(i==="default")return n;throw new Error(uN)}return vn.tz(n,this.cleanTimezone(i))},this.toJsDate=n=>n.toDate(),this.parse=(n,i)=>n===""?null:this.dayjs(n,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=n=>{const i=this.getLocaleFormats(),s=a=>a.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(o,l,c)=>l||c.slice(1));return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(a,o,l)=>{const c=l&&l.toUpperCase();return o||i[l]||s(i[c])})},this.isValid=n=>n==null?!1:n.isValid(),this.format=(n,i)=>this.formatByString(n,this.formats[i]),this.formatByString=(n,i)=>this.dayjs(n).format(i),this.formatNumber=n=>n,this.isEqual=(n,i)=>n===null&&i===null?!0:n===null||i===null?!1:n.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(n,i)=>this.isSame(n,i,"YYYY"),this.isSameMonth=(n,i)=>this.isSame(n,i,"YYYY-MM"),this.isSameDay=(n,i)=>this.isSame(n,i,"YYYY-MM-DD"),this.isSameHour=(n,i)=>n.isSame(i,"hour"),this.isAfter=(n,i)=>n>i,this.isAfterYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()>i.utc():n.isAfter(i,"year"),this.isAfterDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()>i.utc():n.isAfter(i,"day"),this.isBefore=(n,i)=>n<i,this.isBeforeYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()<i.utc():n.isBefore(i,"year"),this.isBeforeDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()<i.utc():n.isBefore(i,"day"),this.isWithinRange=(n,[i,s])=>n>=i&&n<=s,this.startOfYear=n=>this.adjustOffset(n.startOf("year")),this.startOfMonth=n=>this.adjustOffset(n.startOf("month")),this.startOfWeek=n=>this.adjustOffset(n.startOf("week")),this.startOfDay=n=>this.adjustOffset(n.startOf("day")),this.endOfYear=n=>this.adjustOffset(n.endOf("year")),this.endOfMonth=n=>this.adjustOffset(n.endOf("month")),this.endOfWeek=n=>this.adjustOffset(n.endOf("week")),this.endOfDay=n=>this.adjustOffset(n.endOf("day")),this.addYears=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"year"):n.add(i,"year")),this.addMonths=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"month"):n.add(i,"month")),this.addWeeks=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"week"):n.add(i,"week")),this.addDays=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"day"):n.add(i,"day")),this.addHours=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"hour"):n.add(i,"hour")),this.addMinutes=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"minute"):n.add(i,"minute")),this.addSeconds=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"second"):n.add(i,"second")),this.getYear=n=>n.year(),this.getMonth=n=>n.month(),this.getDate=n=>n.date(),this.getHours=n=>n.hour(),this.getMinutes=n=>n.minute(),this.getSeconds=n=>n.second(),this.getMilliseconds=n=>n.millisecond(),this.setYear=(n,i)=>this.adjustOffset(n.set("year",i)),this.setMonth=(n,i)=>this.adjustOffset(n.set("month",i)),this.setDate=(n,i)=>this.adjustOffset(n.set("date",i)),this.setHours=(n,i)=>this.adjustOffset(n.set("hour",i)),this.setMinutes=(n,i)=>this.adjustOffset(n.set("minute",i)),this.setSeconds=(n,i)=>this.adjustOffset(n.set("second",i)),this.setMilliseconds=(n,i)=>this.adjustOffset(n.set("millisecond",i)),this.getDaysInMonth=n=>n.daysInMonth(),this.getWeekArray=n=>{const i=this.setLocaleToValue(n),s=this.startOfWeek(this.startOfMonth(i)),a=this.endOfWeek(this.endOfMonth(i));let o=0,l=s;const c=[];for(;l<a;){const u=Math.floor(o/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),o+=1}return c},this.getWeekNumber=n=>n.week(),this.getYearRange=([n,i])=>{const s=this.startOfYear(n),a=this.endOfYear(i),o=[];let l=s;for(;this.isBefore(l,a);)o.push(l),l=this.addYears(l,1);return o},this.dayjs=kse(vn,e),this.locale=e,this.formats=T({},Sse,r),vn.extend(fse)}getDayOfWeek(e){return e.day()+1}}function gC(t,e){let r=[...e];if(r.length<2)return r;for(let n=0;n<t;n++)r.push(r.shift());return r}const vS={toNoteNumber(t){switch(t){case"C":return 0;case"D":return 2;case"E":return 4;case"F":return 5;case"G":return 7;case"A":return 9;case"B":return 11}},next(t){switch(t){case"C":return"D";case"D":return"E";case"E":return"F";case"F":return"G";case"G":return"A";case"A":return"B";case"B":return"C"}},shift(t,e){switch(t){case 0:return e;default:return this.shift(t-1,this.next(e))}}};console.log(vS.shift(5,"A"));var $i=(t=>(t[t.Natural=0]="Natural",t[t.Sharp=1]="Sharp",t[t.Flat=-1]="Flat",t[t.DoubleSharp=2]="DoubleSharp",t[t.DoubleFlat=-2]="DoubleFlat",t))($i||{});(t=>{function e(r){switch(r){case 0:return"";case-2:return"bb";case-1:return"b";case 1:return"#";case 2:return"##"}}t.toDisplayString=e})($i||($i={}));var jf=(t=>(t[t.unison=0]="unison",t[t.m2=1]="m2",t[t.M2=2]="M2",t[t.m3=3]="m3",t[t.M3=4]="M3",t[t.P4=5]="P4",t[t.aug4=6]="aug4",t[t.dim5=6]="dim5",t[t.P5=7]="P5",t[t.m6=8]="m6",t[t.M6=9]="M6",t[t.dim7=9]="dim7",t[t.m7=10]="m7",t[t.M7=11]="M7",t[t.octave=12]="octave",t[t.step=2]="step",t[t.halfStep=1]="halfStep",t))(jf||{});(t=>{function e(r){switch(r){case 0:return 0;case 1:return 1;case 2:return 1;case 3:return 2;case 4:return 2;case 5:return 3;case 6:return 3;case 6:return 4;case 7:return 4;case 8:return 5;case 9:return 5;case 9:return 6;case 10:return 6;case 11:return 6;case 12:return 7}}t.shiftAmount=e})(jf||(jf={}));const wS={increaseBy(t,e){return Math.abs((e+t)%12)},toNote(t){switch(t){case 0:return St("C");case 1:return St("D",-1);case 2:return St("D");case 3:return St("E",-1);case 4:return St("E");case 5:return St("F");case 6:return St("G",-1);case 7:return St("G");case 8:return St("A",-1);case 9:return St("A");case 10:return St("B",-1);case 11:return St("B")}}},pr={toNoteNumber(t){return wS.increaseBy(t.accidental,vS.toNoteNumber(t.letter))},toDisplayString(t){return`${t.letter}${$i.toDisplayString(t.accidental)}`},transpose(t,e){const r=vS.shift(jf.shiftAmount(t),e.letter);console.log("letter",r);const n=wS.increaseBy(t,pr.toNoteNumber(e))-pr.toNoteNumber(St(r));return St(r,n)}};console.log("interval",pr.toDisplayString(pr.transpose(6,St("C"))));function St(t,e){return{letter:t,accidental:e||0}}var ht=(t=>(t.Root="Root",t.First="1st",t.Second="2nd",t.Third="3rd",t))(ht||{});(t=>{function e(r,n,i){switch(r){case"Root":return pr.transpose(0,i);case"1st":switch(n){case"Maj7":case"Dom7":return pr.transpose(4,i);default:return pr.transpose(3,i)}case"2nd":switch(n){case"Half-Dim7":case"Dim7":return pr.transpose(6,i);default:return pr.transpose(7,i)}case"3rd":switch(n){case"Maj7":return pr.transpose(11,i);case"Dom7":case"Min7":case"Half-Dim7":return pr.transpose(10,i);default:return pr.transpose(9,i)}}}t.bassNote=e})(ht||(ht={}));var Dr=(t=>(t.Maj7="Maj7",t.Dom7="Dom7",t.Min7="Min7",t.Half="Half-Dim7",t.Full="Dim7",t.Maj="Maj",t.Min="Min",t.Dim="Dim",t.Aug="Aug",t))(Dr||{});(t=>{function e(r){switch(r){case"Maj7":return"7";case"Dom7":return"7";case"Min7":return"m7";case"Half-Dim7":return"7";case"Dim7":return"7";case"Maj":return"";case"Min":return"m";case"Dim":return"";case"Aug":return"+"}}t.toLeadSheet=e})(Dr||(Dr={}));var xS=(t=>(t[t.Ionian=0]="Ionian",t[t.Dorian=1]="Dorian",t[t.Phrygian=2]="Phrygian",t[t.Lydian=3]="Lydian",t[t.Mixolydian=4]="Mixolydian",t[t.Aeloian=5]="Aeloian",t[t.Locrian=6]="Locrian",t))(xS||{}),io;(t=>{t.MajorScale=[2,2,1,2,2,2,1],t.MinorScale=e(5);function e(r){return gC(r,t.MajorScale)}t.mode=e})(io||(io={}));console.log(io.mode(5));const Yf={isTriad(t){return t.length===2},isSeventh(t){return t.length===3},toQuality(t){if(this.isSeventh(t))switch(t[0]){case 3:switch(t[1]){case 3:switch(t[2]){case 3:return"Dim7";case 4:return"Half-Dim7";default:return null}case 4:switch(t[2]){case 3:return"Min7";default:return null}default:return null}case 4:switch(t[1]){case 3:switch(t[2]){case 3:return"Dom7";case 4:return"Maj7";default:return null}default:return null}default:return null}else if(this.isTriad(t))switch(t[0]){case 3:switch(t[1]){case 3:return"Dim";case 4:return"Min";default:return null}case 4:switch(t[1]){case 3:return"Maj";case 4:return"Aug";default:return null}default:return null}else return null}};function QF(t,e){const r=gC(t-1,e);return console.log("mode: ",t,",",r),[r[0]+r[1],r[2]+r[3]]}console.log("diatonic triad",QF(2,io.MajorScale));function Tse(t,e){const r=gC(t-1,e);return[r[0]+r[1],r[2]+r[3],r[4]+r[5]]}function JF(t){return t.map((e,r)=>QF(r+1,t))}function ZF(t){return t.map((e,r)=>Tse(r+1,t))}console.log(JF(io.MajorScale));console.log(ZF(io.mode(4)).map(t=>Yf.toQuality(t)));const SS={toLeadSheet(t){return pr.toDisplayString(t.root)+Dr.toLeadSheet(t.quality)}};function _se(t,e){return JF(e).filter(r=>Yf.toQuality(r)).map((r,n)=>({root:pr.transpose(e.slice(0,n).reduce((i,s)=>i+s,0),t),quality:Yf.toQuality(r)}))}function kS(t,e){return ZF(e).filter(r=>Yf.toQuality(r)).map((r,n)=>({root:pr.transpose(e.slice(0,n).reduce((i,s)=>i+s,0),t),quality:Yf.toQuality(r)}))}console.log("HALLELUJAH ",_se(St("C"),io.MajorScale).map(t=>SS.toLeadSheet(t)),"DOUBLE HALLELUJAH",kS(St("C"),io.MajorScale).map(t=>SS.toLeadSheet(t)));var No;(function(t){t[t.Page=0]="Page",t[t.Horizontal=1]="Horizontal"})(No||(No={}));var Ai;(function(t){t[t.Default=0]="Default",t[t.ScoreTab=1]="ScoreTab",t[t.Score=2]="Score",t[t.Tab=3]="Tab",t[t.TabMixed=4]="TabMixed"})(Ai||(Ai={}));class xo{static getValue(e){return xo._values||(xo._values=new Map),e=e.toLowerCase().replaceAll(" ",""),xo._values.has(e)?xo._values.get(e):0}static isPiano(e){return e<=7||e>=16&&e<=23}static isGuitar(e){return e>=24&&e<=39||e===105||e===43}}xo._values=new Map([["acousticgrandpiano",0],["brightacousticpiano",1],["electricgrandpiano",2],["honkytonkpiano",3],["electricpiano1",4],["electricpiano2",5],["harpsichord",6],["clavinet",7],["celesta",8],["glockenspiel",9],["musicbox",10],["vibraphone",11],["marimba",12],["xylophone",13],["tubularbells",14],["dulcimer",15],["drawbarorgan",16],["percussiveorgan",17],["rockorgan",18],["churchorgan",19],["reedorgan",20],["accordion",21],["harmonica",22],["tangoaccordion",23],["acousticguitarnylon",24],["acousticguitarsteel",25],["electricguitarjazz",26],["electricguitarclean",27],["electricguitarmuted",28],["overdrivenguitar",29],["distortionguitar",30],["guitarharmonics",31],["acousticbass",32],["electricbassfinger",33],["electricbasspick",34],["fretlessbass",35],["slapbass1",36],["slapbass2",37],["synthbass1",38],["synthbass2",39],["violin",40],["viola",41],["cello",42],["contrabass",43],["tremolostrings",44],["pizzicatostrings",45],["orchestralharp",46],["timpani",47],["stringensemble1",48],["stringensemble2",49],["synthstrings1",50],["synthstrings2",51],["choiraahs",52],["voiceoohs",53],["synthvoice",54],["orchestrahit",55],["trumpet",56],["trombone",57],["tuba",58],["mutedtrumpet",59],["frenchhorn",60],["brasssection",61],["synthbrass1",62],["synthbrass2",63],["sopranosax",64],["altosax",65],["tenorsax",66],["baritonesax",67],["oboe",68],["englishhorn",69],["bassoon",70],["clarinet",71],["piccolo",72],["flute",73],["recorder",74],["panflute",75],["blownbottle",76],["shakuhachi",77],["whistle",78],["ocarina",79],["lead1square",80],["lead2sawtooth",81],["lead3calliope",82],["lead4chiff",83],["lead5charang",84],["lead6voice",85],["lead7fifths",86],["lead8bassandlead",87],["pad1newage",88],["pad2warm",89],["pad3polysynth",90],["pad4choir",91],["pad5bowed",92],["pad6metallic",93],["pad7halo",94],["pad8sweep",95],["fx1rain",96],["fx2soundtrack",97],["fx3crystal",98],["fx4atmosphere",99],["fx5brightness",100],["fx6goblins",101],["fx7echoes",102],["fx8scifi",103],["sitar",104],["banjo",105],["shamisen",106],["koto",107],["kalimba",108],["bagpipe",109],["fiddle",110],["shanai",111],["tinklebell",112],["agogo",113],["steeldrums",114],["woodblock",115],["taikodrum",116],["melodictom",117],["synthdrum",118],["reversecymbal",119],["guitarfretnoise",120],["breathnoise",121],["seashore",122],["birdtweet",123],["telephonering",124],["helicopter",125],["applause",126],["gunshot",127]]);class Wd{init(e,r){this.data=e,this.settings=r}}var Cn;(function(t){t[t.General=0]="General",t[t.Format=1]="Format",t[t.AlphaTex=2]="AlphaTex"})(Cn||(Cn={}));class Tn extends Error{constructor(e,r="",n){super(r??"",{cause:n}),this.type=e,this.inner=n??null,Object.setPrototypeOf(this,Tn.prototype)}}class Zr extends Tn{constructor(e=null,r=null){super(Cn.Format,e??"Unsupported format"),this.inner=r,Object.setPrototypeOf(this,Zr.prototype)}}var en;(function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Heavy=2]="Heavy"})(en||(en={}));var mn;(function(t){t[t.Tempo=0]="Tempo",t[t.Volume=1]="Volume",t[t.Instrument=2]="Instrument",t[t.Balance=3]="Balance"})(mn||(mn={}));class $n{constructor(){this.isLinear=!1,this.type=mn.Tempo,this.value=0,this.ratioPosition=0,this.text=""}static buildTempoAutomation(e,r,n,i){(i<1||i>5)&&(i=2);let s=new Float32Array([1,.5,1,1.5,2,3]),a=new $n;return a.type=mn.Tempo,a.isLinear=e,a.ratioPosition=r,a.value=n*s[i],a}static buildInstrumentAutomation(e,r,n){let i=new $n;return i.type=mn.Instrument,i.isLinear=e,i.ratioPosition=r,i.value=n,i}}var ct;(function(t){t[t.Neutral=0]="Neutral",t[t.C3=1]="C3",t[t.C4=2]="C4",t[t.F4=3]="F4",t[t.G2=4]="G2"})(ct||(ct={}));var $t;(function(t){t[t._15ma=0]="_15ma",t[t._8va=1]="_8va",t[t.Regular=2]="Regular",t[t._8vb=3]="_8vb",t[t._15mb=4]="_15mb"})($t||($t={}));var us;(function(t){t[t.None=0]="None",t[t.Simple=1]="Simple",t[t.FirstOfDouble=2]="FirstOfDouble",t[t.SecondOfDouble=3]="SecondOfDouble"})(us||(us={}));class jo{constructor(){this.id=jo._globalBarId++,this.index=0,this.nextBar=null,this.previousBar=null,this.clef=ct.G2,this.clefOttava=$t.Regular,this.voices=[],this.simileMark=us.None,this.isMultiVoice=!1,this.displayScale=1,this.displayWidth=-1}get masterBar(){return this.staff.track.score.masterBars[this.index]}get isEmpty(){for(let e=0,r=this.voices.length;e<r;e++)if(!this.voices[e].isEmpty)return!1;return!0}addVoice(e){e.bar=this,e.index=this.voices.length,this.voices.push(e)}finish(e,r=null){this.isMultiVoice=!1;for(let n=0,i=this.voices.length;n<i;n++){let s=this.voices[n];s.finish(e,r),n>0&&!s.isEmpty&&(this.isMultiVoice=!0)}}calculateDuration(){let e=0;for(let r of this.voices){let n=r.calculateDuration();n>e&&(e=n)}return e}}jo._globalBarId=0;class ut{static ticksToMillis(e,r){return e*(6e4/(r*ut.QuarterTime))|0}static millisToTicks(e,r){return e/(6e4/(r*ut.QuarterTime))|0}static toTicks(e){return ut.valueToTicks(e)}static valueToTicks(e){let r=e;return r<0&&(r=1/-r),ut.QuarterTime*(4/r)|0}static applyDot(e,r){return r?e+(e/4|0)*3:e+(e/2|0)}static applyTuplet(e,r,n){return e*n/r|0}static removeTuplet(e,r,n){return e*r/n|0}static dynamicToVelocity(e){return ut.MinVelocity+e*ut.VelocityIncrement}}ut.QuarterTime=960;ut.MinVelocity=15;ut.VelocityIncrement=16;class Le{constructor(e=0,r=0){this.offset=e,this.value=r}}Le.MaxPosition=60;Le.MaxValue=12;var Qt;(function(t){t[t.Default=0]="Default",t[t.Gradual=1]="Gradual",t[t.Fast=2]="Fast"})(Qt||(Qt={}));var Ue;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Bend=2]="Bend",t[t.Release=3]="Release",t[t.BendRelease=4]="BendRelease",t[t.Hold=5]="Hold",t[t.Prebend=6]="Prebend",t[t.PrebendBend=7]="PrebendBend",t[t.PrebendRelease=8]="PrebendRelease"})(Ue||(Ue={}));var or;(function(t){t[t.None=0]="None",t[t.BrushUp=1]="BrushUp",t[t.BrushDown=2]="BrushDown",t[t.ArpeggioUp=3]="ArpeggioUp",t[t.ArpeggioDown=4]="ArpeggioDown"})(or||(or={}));var Ti;(function(t){t[t.None=0]="None",t[t.Crescendo=1]="Crescendo",t[t.Decrescendo=2]="Decrescendo"})(Ti||(Ti={}));var H;(function(t){t[t.QuadrupleWhole=-4]="QuadrupleWhole",t[t.DoubleWhole=-2]="DoubleWhole",t[t.Whole=1]="Whole",t[t.Half=2]="Half",t[t.Quarter=4]="Quarter",t[t.Eighth=8]="Eighth",t[t.Sixteenth=16]="Sixteenth",t[t.ThirtySecond=32]="ThirtySecond",t[t.SixtyFourth=64]="SixtyFourth",t[t.OneHundredTwentyEighth=128]="OneHundredTwentyEighth",t[t.TwoHundredFiftySixth=256]="TwoHundredFiftySixth"})(H||(H={}));var wt;(function(t){t[t.PPP=0]="PPP",t[t.PP=1]="PP",t[t.P=2]="P",t[t.MP=3]="MP",t[t.MF=4]="MF",t[t.F=5]="F",t[t.FF=6]="FF",t[t.FFF=7]="FFF"})(wt||(wt={}));var tt;(function(t){t[t.None=0]="None",t[t.OnBeat=1]="OnBeat",t[t.BeforeBeat=2]="BeforeBeat",t[t.BendGrace=3]="BendGrace"})(tt||(tt={}));var lt;(function(t){t[t.Unknown=-2]="Unknown",t[t.NoOrDead=-1]="NoOrDead",t[t.Thumb=0]="Thumb",t[t.IndexFinger=1]="IndexFinger",t[t.MiddleFinger=2]="MiddleFinger",t[t.AnnularFinger=3]="AnnularFinger",t[t.LittleFinger=4]="LittleFinger"})(lt||(lt={}));var Qe;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Artificial=2]="Artificial",t[t.Pinch=3]="Pinch",t[t.Tap=4]="Tap",t[t.Semi=5]="Semi",t[t.Feedback=6]="Feedback"})(Qe||(Qe={}));var jr;(function(t){t[t.Default=0]="Default",t[t.ForceNone=1]="ForceNone",t[t.ForceNatural=2]="ForceNatural",t[t.ForceSharp=3]="ForceSharp",t[t.ForceDoubleSharp=4]="ForceDoubleSharp",t[t.ForceFlat=5]="ForceFlat",t[t.ForceDoubleFlat=6]="ForceDoubleFlat"})(jr||(jr={}));var kn;(function(t){t[t.None=0]="None",t[t.IntoFromBelow=1]="IntoFromBelow",t[t.IntoFromAbove=2]="IntoFromAbove"})(kn||(kn={}));var ft;(function(t){t[t.None=0]="None",t[t.Shift=1]="Shift",t[t.Legato=2]="Legato",t[t.OutUp=3]="OutUp",t[t.OutDown=4]="OutDown",t[t.PickSlideDown=5]="PickSlideDown",t[t.PickSlideUp=6]="PickSlideUp"})(ft||(ft={}));var At;(function(t){t[t.None=0]="None",t[t.Slight=1]="Slight",t[t.Wide=2]="Wide"})(At||(At={}));var So;(function(t){t[t.Hidden=0]="Hidden",t[t.ShowWithBeams=1]="ShowWithBeams",t[t.ShowWithBars=2]="ShowWithBars"})(So||(So={}));var Ma;(function(t){t[t.ScoreDefault=0]="ScoreDefault",t[t.ScoreForcePiano=1]="ScoreForcePiano",t[t.SingleNoteEffectBand=2]="SingleNoteEffectBand",t[t.SingleNoteEffectBandForcePiano=3]="SingleNoteEffectBandForcePiano"})(Ma||(Ma={}));var pn;(function(t){t[t.GuitarPro=0]="GuitarPro",t[t.SongBook=1]="SongBook"})(pn||(pn={}));var it;(function(t){t[t.ScoreTitle=0]="ScoreTitle",t[t.ScoreSubTitle=1]="ScoreSubTitle",t[t.ScoreArtist=2]="ScoreArtist",t[t.ScoreAlbum=3]="ScoreAlbum",t[t.ScoreWords=4]="ScoreWords",t[t.ScoreMusic=5]="ScoreMusic",t[t.ScoreWordsAndMusic=6]="ScoreWordsAndMusic",t[t.ScoreCopyright=7]="ScoreCopyright",t[t.GuitarTuning=8]="GuitarTuning",t[t.TrackNames=9]="TrackNames",t[t.ChordDiagrams=10]="ChordDiagrams",t[t.ParenthesisOnTiedBends=11]="ParenthesisOnTiedBends",t[t.TabNotesOnTiedBends=12]="TabNotesOnTiedBends",t[t.ZerosOnDiveWhammys=13]="ZerosOnDiveWhammys",t[t.EffectAlternateEndings=14]="EffectAlternateEndings",t[t.EffectCapo=15]="EffectCapo",t[t.EffectChordNames=16]="EffectChordNames",t[t.EffectCrescendo=17]="EffectCrescendo",t[t.EffectDynamics=18]="EffectDynamics",t[t.EffectFadeIn=19]="EffectFadeIn",t[t.EffectFermata=20]="EffectFermata",t[t.EffectFingering=21]="EffectFingering",t[t.EffectHarmonics=22]="EffectHarmonics",t[t.EffectLetRing=23]="EffectLetRing",t[t.EffectLyrics=24]="EffectLyrics",t[t.EffectMarker=25]="EffectMarker",t[t.EffectOttavia=26]="EffectOttavia",t[t.EffectPalmMute=27]="EffectPalmMute",t[t.EffectPickSlide=28]="EffectPickSlide",t[t.EffectPickStroke=29]="EffectPickStroke",t[t.EffectSlightBeatVibrato=30]="EffectSlightBeatVibrato",t[t.EffectSlightNoteVibrato=31]="EffectSlightNoteVibrato",t[t.EffectTap=32]="EffectTap",t[t.EffectTempo=33]="EffectTempo",t[t.EffectText=34]="EffectText",t[t.EffectTrill=35]="EffectTrill",t[t.EffectTripletFeel=36]="EffectTripletFeel",t[t.EffectWhammyBar=37]="EffectWhammyBar",t[t.EffectWideBeatVibrato=38]="EffectWideBeatVibrato",t[t.EffectWideNoteVibrato=39]="EffectWideNoteVibrato",t[t.EffectLeftHandTap=40]="EffectLeftHandTap"})(it||(it={}));class Xf{constructor(){this.notationMode=pn.GuitarPro,this.fingeringMode=Ma.ScoreDefault,this.elements=new Map,this.rhythmMode=So.Hidden,this.rhythmHeight=15,this.transpositionPitches=[],this.displayTranspositionPitches=[],this.smallGraceTabNotes=!0,this.extendBendArrowsOnTiedNotes=!0,this.extendLineEffectsToBeatEnd=!1,this.slurHeight=5}isNotationElementVisible(e){return this.elements.has(e)?this.elements.get(e):Xf.defaultElements.has(e)?Xf.defaultElements.get(e):!0}}Xf.defaultElements=new Map([[it.ZerosOnDiveWhammys,!1]]);class eA{constructor(e){this._value=void 0,this._factory=e}get value(){return this._value===void 0&&(this._value=this._factory()),this._value}}var ga;(function(t){t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"})(ga||(ga={}));class pc{static format(e,r){return`[AlphaTab][${e}] ${r}`}debug(e,r,...n){console.debug(pc.format(e,r),...n)}warning(e,r,...n){console.warn(pc.format(e,r),...n)}info(e,r,...n){console.info(pc.format(e,r),...n)}error(e,r,...n){console.error(pc.format(e,r),...n)}}pc.logLevel=ga.Info;class ve{static shouldLog(e){return ve.logLevel!==ga.None&&e>=ve.logLevel}static debug(e,r,...n){ve.shouldLog(ga.Debug)&&ve.log.debug(e,r,...n)}static warning(e,r,...n){ve.shouldLog(ga.Warning)&&ve.log.warning(e,r,...n)}static info(e,r,...n){ve.shouldLog(ga.Info)&&ve.log.info(e,r,...n)}static error(e,r,...n){ve.shouldLog(ga.Error)&&ve.log.error(e,r,...n)}}ve.logLevel=ga.Info;ve.log=new pc;class Pse{constructor(){this.note=null,this.noteValue=0,this.octave=0}get realValue(){return this.octave*12+this.noteValue}}class ir{static getIndex(e){let r=0;return e<0?r:Math.log2(e)|0}static keySignatureIsFlat(e){return e<0}static keySignatureIsNatural(e){return e===0}static keySignatureIsSharp(e){return e>0}static applyPitchOffsets(e,r){for(let n=0;n<r.tracks.length;n++){if(n<e.notation.displayTranspositionPitches.length)for(let i of r.tracks[n].staves)i.displayTranspositionPitch=-e.notation.displayTranspositionPitches[n];if(n<e.notation.transpositionPitches.length)for(let i of r.tracks[n].staves)i.transpositionPitch=-e.notation.transpositionPitches[n]}}static fingerToString(e,r,n,i){if(e.notation.fingeringMode===Ma.ScoreForcePiano||e.notation.fingeringMode===Ma.SingleNoteEffectBandForcePiano||xo.isPiano(r.voice.bar.staff.track.playbackInfo.program))switch(n){case lt.Unknown:case lt.NoOrDead:return null;case lt.Thumb:return"1";case lt.IndexFinger:return"2";case lt.MiddleFinger:return"3";case lt.AnnularFinger:return"4";case lt.LittleFinger:return"5";default:return null}if(i)switch(n){case lt.Unknown:case lt.NoOrDead:return"0";case lt.Thumb:return"T";case lt.IndexFinger:return"1";case lt.MiddleFinger:return"2";case lt.AnnularFinger:return"3";case lt.LittleFinger:return"4";default:return null}switch(n){case lt.Unknown:case lt.NoOrDead:return null;case lt.Thumb:return"p";case lt.IndexFinger:return"i";case lt.MiddleFinger:return"m";case lt.AnnularFinger:return"a";case lt.LittleFinger:return"c";default:return null}}static isTuning(e){return!!ir.parseTuning(e)}static parseTuning(e){let r="",n="";for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=48&&a<=57){if(!r)return null;n+=String.fromCharCode(a)}else if(a>=65&&a<=90||a>=97&&a<=122||a===35)r+=String.fromCharCode(a);else return null}if(!n||!r)return null;let i=new Pse;return i.octave=parseInt(n)+1,i.note=r.toLowerCase(),i.noteValue=ir.getToneForText(i.note),i}static getTuningForText(e){let r=ir.parseTuning(e);return r?r.realValue:-1}static getToneForText(e){switch(e.toLowerCase()){case"c":return 0;case"c#":case"db":return 1;case"d":return 2;case"d#":case"eb":return 3;case"e":return 4;case"f":return 5;case"f#":case"gb":return 6;case"g":return 7;case"g#":case"ab":return 8;case"a":return 9;case"a#":case"bb":return 10;case"b":return 11;default:return 0}}static newGuid(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)}static isAlmostEqualTo(e,r){return Math.abs(e-r)<1e-5}static toHexString(e,r=0){let n="",i="0123456789ABCDEF";do n=String.fromCharCode(i.charCodeAt(e&15))+n,e=e>>4;while(e>0);for(;n.length<r;)n="0"+n;return n}}var Fn;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"})(Fn||(Fn={}));var P;(function(t){t[t.None=-1]="None",t[t.GClef=57424]="GClef",t[t.CClef=57436]="CClef",t[t.FClef=57442]="FClef",t[t.UnpitchedPercussionClef1=57449]="UnpitchedPercussionClef1",t[t.SixStringTabClef=57453]="SixStringTabClef",t[t.FourStringTabClef=57454]="FourStringTabClef",t[t.TimeSig0=57472]="TimeSig0",t[t.TimeSig1=57473]="TimeSig1",t[t.TimeSig2=57474]="TimeSig2",t[t.TimeSig3=57475]="TimeSig3",t[t.TimeSig4=57476]="TimeSig4",t[t.TimeSig5=57477]="TimeSig5",t[t.TimeSig6=57478]="TimeSig6",t[t.TimeSig7=57479]="TimeSig7",t[t.TimeSig8=57480]="TimeSig8",t[t.TimeSig9=57481]="TimeSig9",t[t.TimeSigCommon=57482]="TimeSigCommon",t[t.TimeSigCutCommon=57483]="TimeSigCutCommon",t[t.NoteheadDoubleWholeSquare=57505]="NoteheadDoubleWholeSquare",t[t.NoteheadDoubleWhole=57504]="NoteheadDoubleWhole",t[t.NoteheadWhole=57506]="NoteheadWhole",t[t.NoteheadHalf=57507]="NoteheadHalf",t[t.NoteheadBlack=57508]="NoteheadBlack",t[t.NoteheadNull=57509]="NoteheadNull",t[t.NoteheadXOrnate=57514]="NoteheadXOrnate",t[t.NoteheadTriangleUpWhole=57531]="NoteheadTriangleUpWhole",t[t.NoteheadTriangleUpHalf=57532]="NoteheadTriangleUpHalf",t[t.NoteheadTriangleUpBlack=57534]="NoteheadTriangleUpBlack",t[t.NoteheadDiamondBlackWide=57564]="NoteheadDiamondBlackWide",t[t.NoteheadDiamondWhite=57565]="NoteheadDiamondWhite",t[t.NoteheadDiamondWhiteWide=57566]="NoteheadDiamondWhiteWide",t[t.NoteheadCircleX=57523]="NoteheadCircleX",t[t.NoteheadXWhole=57511]="NoteheadXWhole",t[t.NoteheadXHalf=57512]="NoteheadXHalf",t[t.NoteheadXBlack=57513]="NoteheadXBlack",t[t.NoteheadParenthesis=57550]="NoteheadParenthesis",t[t.NoteheadSlashedBlack2=57552]="NoteheadSlashedBlack2",t[t.NoteheadCircleSlash=57591]="NoteheadCircleSlash",t[t.NoteheadHeavyX=57592]="NoteheadHeavyX",t[t.NoteheadHeavyXHat=57593]="NoteheadHeavyXHat",t[t.NoteQuarterUp=57813]="NoteQuarterUp",t[t.NoteEighthUp=57815]="NoteEighthUp",t[t.Tremolo3=57890]="Tremolo3",t[t.Tremolo2=57889]="Tremolo2",t[t.Tremolo1=57888]="Tremolo1",t[t.FlagEighthUp=57920]="FlagEighthUp",t[t.FlagEighthDown=57921]="FlagEighthDown",t[t.FlagSixteenthUp=57922]="FlagSixteenthUp",t[t.FlagSixteenthDown=57923]="FlagSixteenthDown",t[t.FlagThirtySecondUp=57924]="FlagThirtySecondUp",t[t.FlagThirtySecondDown=57925]="FlagThirtySecondDown",t[t.FlagSixtyFourthUp=57926]="FlagSixtyFourthUp",t[t.FlagSixtyFourthDown=57927]="FlagSixtyFourthDown",t[t.FlagOneHundredTwentyEighthUp=57928]="FlagOneHundredTwentyEighthUp",t[t.FlagOneHundredTwentyEighthDown=57929]="FlagOneHundredTwentyEighthDown",t[t.FlagTwoHundredFiftySixthUp=57930]="FlagTwoHundredFiftySixthUp",t[t.FlagTwoHundredFiftySixthDown=57931]="FlagTwoHundredFiftySixthDown",t[t.AccidentalFlat=57952]="AccidentalFlat",t[t.AccidentalNatural=57953]="AccidentalNatural",t[t.AccidentalSharp=57954]="AccidentalSharp",t[t.AccidentalDoubleSharp=57955]="AccidentalDoubleSharp",t[t.AccidentalDoubleFlat=57956]="AccidentalDoubleFlat",t[t.AccidentalQuarterToneFlatArrowUp=57968]="AccidentalQuarterToneFlatArrowUp",t[t.AccidentalQuarterToneSharpArrowUp=57972]="AccidentalQuarterToneSharpArrowUp",t[t.AccidentalQuarterToneNaturalArrowUp=57970]="AccidentalQuarterToneNaturalArrowUp",t[t.ArticAccentAbove=58528]="ArticAccentAbove",t[t.ArticStaccatoAbove=58530]="ArticStaccatoAbove",t[t.ArticMarcatoAbove=58540]="ArticMarcatoAbove",t[t.FermataAbove=58560]="FermataAbove",t[t.FermataShortAbove=58564]="FermataShortAbove",t[t.FermataLongAbove=58566]="FermataLongAbove",t[t.RestLonga=58593]="RestLonga",t[t.RestDoubleWhole=58594]="RestDoubleWhole",t[t.RestWhole=58595]="RestWhole",t[t.RestHalf=58596]="RestHalf",t[t.RestQuarter=58597]="RestQuarter",t[t.RestEighth=58598]="RestEighth",t[t.RestSixteenth=58599]="RestSixteenth",t[t.RestThirtySecond=58600]="RestThirtySecond",t[t.RestSixtyFourth=58601]="RestSixtyFourth",t[t.RestOneHundredTwentyEighth=58602]="RestOneHundredTwentyEighth",t[t.RestTwoHundredFiftySixth=58603]="RestTwoHundredFiftySixth",t[t.Repeat1Bar=58624]="Repeat1Bar",t[t.Repeat2Bars=58625]="Repeat2Bars",t[t.Ottava=58640]="Ottava",t[t.OttavaAlta=58641]="OttavaAlta",t[t.OttavaBassaVb=58652]="OttavaBassaVb",t[t.Quindicesima=58644]="Quindicesima",t[t.QuindicesimaAlta=58645]="QuindicesimaAlta",t[t.DynamicPPP=58666]="DynamicPPP",t[t.DynamicPP=58667]="DynamicPP",t[t.DynamicPiano=58656]="DynamicPiano",t[t.DynamicMP=58668]="DynamicMP",t[t.DynamicMF=58669]="DynamicMF",t[t.DynamicForte=58658]="DynamicForte",t[t.DynamicFF=58671]="DynamicFF",t[t.DynamicFFF=58672]="DynamicFFF",t[t.OrnamentTrill=58726]="OrnamentTrill",t[t.StringsDownBow=58896]="StringsDownBow",t[t.StringsUpBow=58898]="StringsUpBow",t[t.PictEdgeOfCymbal=59177]="PictEdgeOfCymbal",t[t.GuitarString0=59443]="GuitarString0",t[t.GuitarString1=59444]="GuitarString1",t[t.GuitarString2=59445]="GuitarString2",t[t.GuitarString3=59446]="GuitarString3",t[t.GuitarString4=59447]="GuitarString4",t[t.GuitarString5=59448]="GuitarString5",t[t.GuitarString6=59449]="GuitarString6",t[t.GuitarString7=59450]="GuitarString7",t[t.GuitarString8=59451]="GuitarString8",t[t.GuitarString9=59452]="GuitarString9",t[t.GuitarGolpe=59458]="GuitarGolpe",t[t.FretboardX=59481]="FretboardX",t[t.FretboardO=59482]="FretboardO",t[t.WiggleTrill=60068]="WiggleTrill",t[t.WiggleVibratoMediumFast=60126]="WiggleVibratoMediumFast",t[t.OctaveBaselineM=60565]="OctaveBaselineM",t[t.OctaveBaselineB=60563]="OctaveBaselineB"})(P||(P={}));var et;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(et||(et={}));var gt;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(gt||(gt={}));class Ae{constructor(e="",r=0,n=0,i=P.None,s=P.None,a=P.None,o=P.None,l=gt.Middle){this.elementType=e,this.outputMidiNumber=n,this.staffLine=r,this.noteHeadDefault=i,this.noteHeadHalf=s!==P.None?s:i,this.noteHeadWhole=a!==P.None?a:i,this.techniqueSymbol=o,this.techniqueSymbolPlacement=l}getSymbol(e){switch(e){case H.Whole:return this.noteHeadWhole;case H.Half:return this.noteHeadHalf;default:return this.noteHeadDefault}}}class Rn{static articulationFromElementVariation(e,r){return e<Rn.gp6ElementAndVariationToArticulation.length?(r>=Rn.gp6ElementAndVariationToArticulation.length&&(r=0),Rn.gp6ElementAndVariationToArticulation[e][r]):38}static getArticulation(e){const r=e.percussionArticulation,n=e.beat.voice.bar.staff.track.percussionArticulations;return r<n.length?n[r]:Rn.getArticulationByValue(r)}static getElementAndVariation(e){const r=Rn.getArticulation(e);if(!r)return[-1,-1];for(let n=0;n<Rn.gp6ElementAndVariationToArticulation.length;n++){const i=Rn.gp6ElementAndVariationToArticulation[n];for(let s=0;s<i.length;s++){const a=Rn.getArticulationByValue(i[s]);if((a==null?void 0:a.outputMidiNumber)===r.outputMidiNumber)return[n,s]}}return[-1,-1]}static getArticulationByValue(e){return Rn.instrumentArticulations.has(e)?Rn.instrumentArticulations.get(e):null}}Rn.gp6ElementAndVariationToArticulation=[[35,35,35],[38,91,37],[99,100,99],[56,100,56],[102,103,102],[43,43,43],[45,45,45],[47,47,47],[48,48,48],[50,50,50],[42,92,46],[44,44,44],[57,98,57],[49,97,49],[55,95,55],[51,93,127],[52,96,52]];Rn.instrumentArticulations=new Map([[38,new Ae("snare",3,38,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[37,new Ae("snare",3,37,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[91,new Ae("snare",3,38,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[42,new Ae("hiHat",-1,42,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[92,new Ae("hiHat",-1,46,P.NoteheadCircleSlash,P.NoteheadCircleSlash,P.NoteheadCircleSlash)],[46,new Ae("hiHat",-1,46,P.NoteheadCircleX,P.NoteheadCircleX,P.NoteheadCircleX)],[44,new Ae("hiHat",9,44,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[35,new Ae("kickDrum",8,35,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[36,new Ae("kickDrum",7,36,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[50,new Ae("tom",1,50,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[48,new Ae("tom",2,48,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[47,new Ae("tom",4,47,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[45,new Ae("tom",5,45,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[43,new Ae("tom",6,43,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[93,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.PictEdgeOfCymbal,gt.Bottom)],[51,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[53,new Ae("ride",0,53,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[94,new Ae("ride",0,51,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,gt.Top)],[55,new Ae("splash",-2,55,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[95,new Ae("splash",-2,55,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,gt.Bottom)],[52,new Ae("china",-3,52,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat)],[96,new Ae("china",-3,52,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat,P.NoteheadHeavyXHat)],[49,new Ae("crash",-2,49,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX)],[97,new Ae("crash",-2,49,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX,P.ArticStaccatoAbove,gt.Bottom)],[57,new Ae("crash",-1,57,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX)],[98,new Ae("crash",-1,57,P.NoteheadHeavyX,P.NoteheadHeavyX,P.NoteheadHeavyX,P.ArticStaccatoAbove,gt.Bottom)],[99,new Ae("cowbell",1,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[100,new Ae("cowbell",1,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[56,new Ae("cowbell",0,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[101,new Ae("cowbell",0,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[102,new Ae("cowbell",-1,56,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpHalf,P.NoteheadTriangleUpWhole)],[103,new Ae("cowbell",-1,56,P.NoteheadXBlack,P.NoteheadXHalf,P.NoteheadXWhole)],[77,new Ae("woodblock",-9,77,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[76,new Ae("woodblock",-10,76,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[60,new Ae("bongo",-4,60,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[104,new Ae("bongo",-5,60,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,gt.Middle)],[105,new Ae("bongo",-6,60,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[61,new Ae("bongo",-7,61,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[106,new Ae("bongo",-8,61,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,gt.Middle)],[107,new Ae("bongo",-16,61,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[66,new Ae("timbale",10,66,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[65,new Ae("timbale",9,65,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[68,new Ae("agogo",12,68,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[67,new Ae("agogo",11,67,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[64,new Ae("conga",17,64,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[108,new Ae("conga",16,64,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[109,new Ae("conga",15,64,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,gt.Middle)],[63,new Ae("conga",14,63,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[110,new Ae("conga",13,63,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[62,new Ae("conga",19,62,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.NoteheadParenthesis,gt.Middle)],[72,new Ae("whistle",-11,72,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[71,new Ae("whistle",-17,71,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[73,new Ae("guiro",38,73,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[74,new Ae("guiro",37,74,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[86,new Ae("surdo",36,86,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[87,new Ae("surdo",35,87,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadParenthesis,gt.Middle)],[54,new Ae("tambourine",3,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack)],[111,new Ae("tambourine",2,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.StringsUpBow,gt.Bottom)],[112,new Ae("tambourine",1,54,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.NoteheadTriangleUpBlack,P.StringsDownBow,gt.Bottom)],[113,new Ae("tambourine",-7,54,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[79,new Ae("cuica",30,79,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[78,new Ae("cuica",29,78,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[58,new Ae("vibraslap",28,58,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[81,new Ae("triangle",27,81,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[80,new Ae("triangle",26,80,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadParenthesis,gt.Middle)],[114,new Ae("grancassa",25,43,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[115,new Ae("piatti",18,49,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[116,new Ae("piatti",24,49,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[69,new Ae("cabasa",23,69,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[117,new Ae("cabasa",22,69,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,gt.Bottom)],[85,new Ae("castanets",21,85,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[75,new Ae("claves",20,75,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[70,new Ae("maraca",-12,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[118,new Ae("maraca",-13,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,gt.Bottom)],[119,new Ae("maraca",-14,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[120,new Ae("maraca",-15,70,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,gt.Bottom)],[82,new Ae("shaker",-23,54,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[122,new Ae("shaker",-24,54,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,gt.Bottom)],[84,new Ae("bellTree",-18,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[123,new Ae("bellTree",-19,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole,P.StringsUpBow,gt.Bottom)],[83,new Ae("jingleBell",-20,53,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[124,new Ae("unpitched",-21,62,P.NoteheadNull,P.NoteheadNull,P.NoteheadNull,P.GuitarGolpe,gt.Top)],[125,new Ae("unpitched",-22,62,P.NoteheadNull,P.NoteheadNull,P.NoteheadNull,P.GuitarGolpe,gt.Bottom)],[39,new Ae("handClap",3,39,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[40,new Ae("snare",3,40,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[31,new Ae("snare",3,40,P.NoteheadSlashedBlack2,P.NoteheadSlashedBlack2,P.NoteheadSlashedBlack2)],[41,new Ae("tom",5,41,P.NoteheadBlack,P.NoteheadHalf,P.NoteheadWhole)],[59,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.PictEdgeOfCymbal,gt.Bottom)],[126,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[127,new Ae("ride",2,59,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite,P.NoteheadDiamondWhite)],[29,new Ae("ride",2,59,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack,P.ArticStaccatoAbove,gt.Top)],[30,new Ae("crash",-3,49,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[33,new Ae("snare",3,37,P.NoteheadXBlack,P.NoteheadXBlack,P.NoteheadXBlack)],[34,new Ae("snare",3,38,P.NoteheadBlack,P.NoteheadBlack,P.NoteheadBlack)]]);class pu{constructor(){this.tieDestinationNoteId=-1,this.tieOriginNoteId=-1,this.slurDestinationNoteId=-1,this.slurOriginNoteId=-1,this.hammerPullDestinationNoteId=-1,this.hammerPullOriginNoteId=-1}}class Rr{constructor(){this.id=Rr.GlobalNoteId++,this.index=0,this.accentuated=en.None,this.bendType=Ue.None,this.bendStyle=Qt.Default,this.bendOrigin=null,this.isContinuedBend=!1,this.bendPoints=null,this.maxBendPoint=null,this.fret=-1,this.string=-1,this.octave=-1,this.tone=-1,this.percussionArticulation=-1,this.isVisible=!0,this.isLeftHandTapped=!1,this.isHammerPullOrigin=!1,this.hammerPullOrigin=null,this.hammerPullDestination=null,this.isSlurDestination=!1,this.slurOrigin=null,this.slurDestination=null,this.harmonicType=Qe.None,this.harmonicValue=0,this.isGhost=!1,this.isLetRing=!1,this.letRingDestination=null,this.isPalmMute=!1,this.palmMuteDestination=null,this.isDead=!1,this.isStaccato=!1,this.slideInType=kn.None,this.slideOutType=ft.None,this.slideTarget=null,this.slideOrigin=null,this.vibrato=At.None,this.tieOrigin=null,this.tieDestination=null,this.isTieDestination=!1,this.leftHandFinger=lt.Unknown,this.rightHandFinger=lt.Unknown,this.isFingering=!1,this.trillValue=-1,this.trillSpeed=H.ThirtySecond,this.durationPercent=1,this.accidentalMode=jr.Default,this.dynamics=wt.F,this.isEffectSlurOrigin=!1,this.hasEffectSlur=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this._noteIdBag=null}get hasBend(){return this.bendPoints!==null&&this.bendType!==Ue.None}get isStringed(){return this.string>=0}get isPiano(){return!this.isStringed&&this.octave>=0&&this.tone>=0}get isPercussion(){return!this.isStringed&&this.percussionArticulation>=0}get element(){return this.isPercussion?Rn.getElementAndVariation(this)[0]:-1}get variation(){return this.isPercussion?Rn.getElementAndVariation(this)[1]:-1}get isHammerPullDestination(){return!!this.hammerPullOrigin}get isSlurOrigin(){return!!this.slurDestination}get isHarmonic(){return this.harmonicType!==Qe.None}get isTieOrigin(){return this.tieDestination!==null}get trillFret(){return this.trillValue-this.stringTuning}get isTrill(){return this.trillValue>=0}get isEffectSlurDestination(){return!!this.effectSlurOrigin}get stringTuning(){return this.beat.voice.bar.staff.capo+Rr.getStringTuning(this.beat.voice.bar.staff,this.string)}static getStringTuning(e,r){return e.tuning.length>0?e.tuning[e.tuning.length-(r-1)-1]:0}get realValue(){return this.calculateRealValue(!0,!0)}get realValueWithoutHarmonic(){return this.calculateRealValue(!0,!1)}calculateRealValue(e,r){const n=e?this.beat.voice.bar.staff.transpositionPitch:0;if(r){let i=this.calculateRealValue(e,!1);return this.isStringed&&(this.harmonicType===Qe.Natural?i=this.harmonicPitch+this.stringTuning-n:i+=this.harmonicPitch),i}else return this.isPercussion?this.percussionArticulation:this.isStringed?this.fret+this.stringTuning-n:this.isPiano?this.octave*12+this.tone-n:0}get harmonicPitch(){if(this.harmonicType===Qe.None||!this.isStringed)return 0;let e=this.harmonicValue;return ir.isAlmostEqualTo(e,2.4)?36:ir.isAlmostEqualTo(e,2.7)?34:e<3?0:e<=3.5?31:e<=4?28:e<=5?24:e<=6?34:e<=7?19:e<=8.5?36:e<=9?28:e<=10?34:e<=11?0:e<=12?12:e<14?0:e<=15?34:e<=16?28:e<=17?36:e<=18?0:e<=19?19:e<=21?0:e<=22?36:e<=24?24:0}get initialBendValue(){return this.hasBend?Math.floor(this.bendPoints[0].value/2):this.bendOrigin?Math.floor(this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value/2):this.isTieDestination&&this.tieOrigin.bendOrigin?Math.floor(this.tieOrigin.bendOrigin.bendPoints[this.tieOrigin.bendOrigin.bendPoints.length-1].value/2):this.beat.hasWhammyBar?Math.floor(this.beat.whammyBarPoints[0].value/2):this.beat.isContinuedWhammy?Math.floor(this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value/2):0}get displayValue(){return this.displayValueWithoutBend+this.initialBendValue}get displayValueWithoutBend(){let e=this.realValue;switch(this.harmonicType!==Qe.Natural&&this.harmonicType!==Qe.None&&(e-=this.harmonicPitch),this.beat.ottava){case $t._15ma:e-=24;break;case $t._8va:e-=12;break;case $t.Regular:break;case $t._8vb:e+=12;break;case $t._15mb:e+=24;break}switch(this.beat.voice.bar.clefOttava){case $t._15ma:e-=24;break;case $t._8va:e-=12;break;case $t.Regular:break;case $t._8vb:e+=12;break;case $t._15mb:e+=24;break}return e-this.beat.voice.bar.staff.displayTranspositionPitch}get hasQuarterToneOffset(){return this.hasBend?this.bendPoints[0].value%2!==0:this.bendOrigin?this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value%2!==0:this.beat.hasWhammyBar?this.beat.whammyBarPoints[0].value%2!==0:this.beat.isContinuedWhammy?this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value%2!==0:!1}addBendPoint(e){let r=this.bendPoints;r===null&&(r=[],this.bendPoints=r),r.push(e),(!this.maxBendPoint||e.value>this.maxBendPoint.value)&&(this.maxBendPoint=e),this.bendType===Ue.None&&(this.bendType=Ue.Custom)}finish(e,r=null){let n=new eA(()=>Rr.nextNoteOnSameLine(this)),i=e&&e.notation.notationMode===pn.SongBook;if(this.isTieDestination&&(this.chain(r),i&&this.tieOrigin&&this.tieOrigin.isLetRing&&(this.isLetRing=!0)),this.isLetRing&&(!n.value||!n.value.isLetRing?this.letRingDestination=this:this.letRingDestination=n.value,i&&this.isTieDestination&&!this.tieOrigin.hasBend&&(this.isVisible=!1)),this.isPalmMute&&(!n.value||!n.value.isPalmMute?this.palmMuteDestination=this:this.palmMuteDestination=n.value),this.isHammerPullOrigin){let o=Rr.findHammerPullDestination(this);o?(this.hammerPullDestination=o,o.hammerPullOrigin=this):this.isHammerPullOrigin=!1}switch(this.slideOutType){case ft.Shift:case ft.Legato:this.slideTarget=n.value,this.slideTarget?this.slideTarget.slideOrigin=this:this.slideOutType=ft.None;break}let s=null;this.isHammerPullOrigin&&this.hammerPullDestination?s=this.hammerPullDestination:this.slideOutType===ft.Legato&&this.slideTarget&&(s=this.slideTarget),s&&(this.hasEffectSlur=!0,this.effectSlurOrigin&&this.beat.pickStroke===Fn.None?(this.effectSlurOrigin.effectSlurDestination=s,this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin,this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=s,this.effectSlurDestination.effectSlurOrigin=this));const a=this.bendPoints;if(a!=null&&a.length>0&&this.bendType===Ue.Custom){let o=this.isTieDestination&&this.tieOrigin.hasBend;if(this.isContinuedBend=o,a.length===4){let l=a[0],c=a[1],u=a[2],d=a[3];c.value===u.value?d.value>l.value?c.value>d.value?this.bendType=Ue.BendRelease:!o&&l.value>0?(this.bendType=Ue.PrebendBend,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.Bend,a.splice(2,1),a.splice(1,1)):d.value<l.value?o?(this.bendType=Ue.Release,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.PrebendRelease,a.splice(2,1),a.splice(1,1)):c.value>l.value?this.bendType=Ue.BendRelease:l.value>0&&!o?(this.bendType=Ue.Prebend,a.splice(2,1),a.splice(1,1)):(this.bendType=Ue.Hold,a.splice(2,1),a.splice(1,1)):ve.warning("Model","Unsupported bend type detected, fallback to custom",null)}else if(a.length===2){let l=a[0],c=a[1];c.value>l.value?!o&&l.value>0?this.bendType=Ue.PrebendBend:this.bendType=Ue.Bend:c.value<l.value?o?this.bendType=Ue.Release:this.bendType=Ue.PrebendRelease:this.bendType=Ue.Hold}}else(a===null||a.length===0)&&(this.bendType=Ue.None);this.initialBendValue>0&&(this.accidentalMode=jr.Default)}static nextNoteOnSameLine(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+Rr.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;r=r.nextBeat}return null}static findHammerPullDestination(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+Rr.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;for(let i=e.string;i>0;i--)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}for(let i=e.string;i<=e.beat.voice.bar.staff.tuning.length;i++)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}r=r.nextBeat}return null}static findTieOrigin(e){let r=e.beat.previousBeat;for(;r&&r.voice.bar.index>=e.beat.voice.bar.index-Rr.MaxOffsetForSameLineSearch;){if(e.isStringed){let n=r.getNoteOnString(e.string);if(n)return n}else if(e.octave===-1&&e.tone===-1){if(e.index<r.notes.length)return r.notes[e.index]}else{let n=r.getNoteWithRealValue(e.realValue);if(n)return n}r=r.previousBeat}return null}chain(e=null){if(e!==null)if(this._noteIdBag!==null){let r;e.has(Rr.NoteIdLookupKey)?r=e.get(Rr.NoteIdLookupKey):(r=new Map,e.set(Rr.NoteIdLookupKey,r)),(this._noteIdBag.hammerPullDestinationNoteId!==-1||this._noteIdBag.tieDestinationNoteId!==-1||this._noteIdBag.slurDestinationNoteId!==-1)&&r.set(this.id,this),this._noteIdBag.hammerPullOriginNoteId!==-1&&(this.hammerPullOrigin=r.get(this._noteIdBag.hammerPullOriginNoteId),this.hammerPullOrigin.hammerPullDestination=this),this._noteIdBag.tieOriginNoteId!==-1&&(this.tieOrigin=r.get(this._noteIdBag.tieOriginNoteId),this.tieOrigin.tieDestination=this),this._noteIdBag.slurOriginNoteId!==-1&&(this.slurOrigin=r.get(this._noteIdBag.slurOriginNoteId),this.slurOrigin.slurDestination=this),this._noteIdBag=null}else{if(!this.isTieDestination&&this.tieOrigin===null)return;let r=this.tieOrigin??Rr.findTieOrigin(this);r?(r.tieDestination=this,this.tieOrigin=r,this.fret=r.fret,this.octave=r.octave,this.tone=r.tone,r.hasBend&&(this.bendOrigin=this.tieOrigin)):this.isTieDestination=!1}}toJson(e){this.tieDestination!==null&&e.set("tiedestinationnoteid",this.tieDestination.id),this.tieOrigin!==null&&e.set("tieoriginnoteid",this.tieOrigin.id),this.slurDestination!==null&&e.set("slurdestinationnoteid",this.slurDestination.id),this.slurOrigin!==null&&e.set("sluroriginnoteid",this.slurOrigin.id),this.hammerPullOrigin!==null&&e.set("hammerpulloriginnoteid",this.hammerPullOrigin.id),this.hammerPullDestination!==null&&e.set("hammerpulldestinationnoteid",this.hammerPullDestination.id)}setProperty(e,r){switch(e){case"tiedestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.tieDestinationNoteId=r,!0;case"tieoriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.tieOriginNoteId=r,!0;case"slurdestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.slurDestinationNoteId=r,!0;case"sluroriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.slurOriginNoteId=r,!0;case"hammerpulloriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.hammerPullOriginNoteId=r,!0;case"hammerpulldestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new pu),this._noteIdBag.hammerPullDestinationNoteId=r,!0}return!1}}Rr.GlobalNoteId=0;Rr.MaxOffsetForSameLineSearch=3;Rr.NoteIdLookupKey="NoteIdLookup";class Dn{constructor(e){this._isEqualLengthTuplet=!0,this.totalDuration=0,this.beats=[],this.isFull=!1,this.voice=e}check(e){if(this.beats.length===0)return this.beats.push(e),this.totalDuration+=e.playbackDuration,!0;if(e.graceType!==tt.None)return!0;if(e.voice!==this.voice||this.isFull||e.tupletNumerator!==this.beats[0].tupletNumerator||e.tupletDenominator!==this.beats[0].tupletDenominator)return!1;if(e.playbackDuration!==this.beats[0].playbackDuration&&(this._isEqualLengthTuplet=!1),this.beats.push(e),this.totalDuration+=e.playbackDuration,this._isEqualLengthTuplet)this.beats.length===this.beats[0].tupletNumerator&&(this.isFull=!0);else{let r=this.beats[0].tupletNumerator/this.beats[0].tupletDenominator|0;for(let n of Dn.AllTicks)if(this.totalDuration===n*r){this.isFull=!0;break}}return!0}}Dn.HalfTicks=1920;Dn.QuarterTicks=960;Dn.EighthTicks=480;Dn.SixteenthTicks=240;Dn.ThirtySecondTicks=120;Dn.SixtyFourthTicks=60;Dn.OneHundredTwentyEighthTicks=30;Dn.TwoHundredFiftySixthTicks=15;Dn.AllTicks=[Dn.HalfTicks,Dn.QuarterTicks,Dn.EighthTicks,Dn.SixteenthTicks,Dn.ThirtySecondTicks,Dn.SixtyFourthTicks,Dn.OneHundredTwentyEighthTicks,Dn.TwoHundredFiftySixthTicks];var Ot;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Dive=2]="Dive",t[t.Dip=3]="Dip",t[t.Hold=4]="Hold",t[t.Predive=5]="Predive",t[t.PrediveDive=6]="PrediveDive"})(Ot||(Ot={}));class tA{static clone(e){const r=new Le;return r.offset=e.offset,r.value=e.value,r}}class rA{static clone(e){const r=new Rr;if(r.index=e.index,r.accentuated=e.accentuated,r.bendType=e.bendType,r.bendStyle=e.bendStyle,r.isContinuedBend=e.isContinuedBend,e.bendPoints){r.bendPoints=[];for(const n of e.bendPoints)r.addBendPoint(tA.clone(n))}return r.fret=e.fret,r.string=e.string,r.octave=e.octave,r.tone=e.tone,r.percussionArticulation=e.percussionArticulation,r.isVisible=e.isVisible,r.isLeftHandTapped=e.isLeftHandTapped,r.isHammerPullOrigin=e.isHammerPullOrigin,r.isSlurDestination=e.isSlurDestination,r.harmonicType=e.harmonicType,r.harmonicValue=e.harmonicValue,r.isGhost=e.isGhost,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.isDead=e.isDead,r.isStaccato=e.isStaccato,r.slideInType=e.slideInType,r.slideOutType=e.slideOutType,r.vibrato=e.vibrato,r.isTieDestination=e.isTieDestination,r.leftHandFinger=e.leftHandFinger,r.rightHandFinger=e.rightHandFinger,r.isFingering=e.isFingering,r.trillValue=e.trillValue,r.trillSpeed=e.trillSpeed,r.durationPercent=e.durationPercent,r.accidentalMode=e.accidentalMode,r.dynamics=e.dynamics,r}}class Bse{static clone(e){const r=new $n;return r.isLinear=e.isLinear,r.type=e.type,r.value=e.value,r.ratioPosition=e.ratioPosition,r.text=e.text,r}}class yC{static clone(e){const r=new zn;r.index=e.index,r.notes=[];for(const n of e.notes)r.addNote(rA.clone(n));r.isEmpty=e.isEmpty,r.whammyStyle=e.whammyStyle,r.ottava=e.ottava,r.isLegatoOrigin=e.isLegatoOrigin,r.duration=e.duration,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.automations=[];for(const n of e.automations)r.automations.push(Bse.clone(n));if(r.dots=e.dots,r.fadeIn=e.fadeIn,r.lyrics=e.lyrics?e.lyrics.slice():null,r.hasRasgueado=e.hasRasgueado,r.pop=e.pop,r.slap=e.slap,r.tap=e.tap,r.text=e.text,r.brushType=e.brushType,r.brushDuration=e.brushDuration,r.tupletDenominator=e.tupletDenominator,r.tupletNumerator=e.tupletNumerator,r.isContinuedWhammy=e.isContinuedWhammy,r.whammyBarType=e.whammyBarType,e.whammyBarPoints){r.whammyBarPoints=[];for(const n of e.whammyBarPoints)r.addWhammyBarPoint(tA.clone(n))}return r.vibrato=e.vibrato,r.chordId=e.chordId,r.graceType=e.graceType,r.pickStroke=e.pickStroke,r.tremoloSpeed=e.tremoloSpeed,r.crescendo=e.crescendo,r.displayStart=e.displayStart,r.playbackStart=e.playbackStart,r.displayDuration=e.displayDuration,r.playbackDuration=e.playbackDuration,r.dynamics=e.dynamics,r.invertBeamDirection=e.invertBeamDirection,r.preferredBeamDirection=e.preferredBeamDirection,r.isEffectSlurOrigin=e.isEffectSlurOrigin,r.beamingMode=e.beamingMode,r}}class CS{constructor(){this.beats=[],this.id="empty",this.isComplete=!1}addBeat(e){e.graceIndex=this.beats.length,e.graceGroup=this,this.beats.push(e)}finish(){this.beats.length>0&&(this.id=this.beats[0].absoluteDisplayStart+"_"+this.beats[0].voice.index)}}var va;(function(t){t[t.Auto=0]="Auto",t[t.ForceSplitToNext=1]="ForceSplitToNext",t[t.ForceMergeWithNext=2]="ForceMergeWithNext"})(va||(va={}));class zn{constructor(){this.id=zn._globalBeatId++,this.index=0,this.previousBeat=null,this.nextBeat=null,this.notes=[],this.noteStringLookup=new Map,this.noteValueLookup=new Map,this.isEmpty=!1,this.whammyStyle=Qt.Default,this.ottava=$t.Regular,this.fermata=null,this.isLegatoOrigin=!1,this.minNote=null,this.maxNote=null,this.maxStringNote=null,this.minStringNote=null,this.duration=H.Quarter,this.isLetRing=!1,this.isPalmMute=!1,this.automations=[],this.dots=0,this.fadeIn=!1,this.lyrics=null,this.hasRasgueado=!1,this.pop=!1,this.slap=!1,this.tap=!1,this.text=null,this.brushType=or.None,this.brushDuration=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.tupletGroup=null,this.isContinuedWhammy=!1,this.whammyBarType=Ot.None,this.whammyBarPoints=null,this.maxWhammyPoint=null,this.minWhammyPoint=null,this.vibrato=At.None,this.chordId=null,this.graceType=tt.None,this.graceGroup=null,this.graceIndex=-1,this.pickStroke=Fn.None,this.tremoloSpeed=null,this.crescendo=Ti.None,this.displayStart=0,this.playbackStart=0,this.displayDuration=0,this.playbackDuration=0,this.dynamics=wt.F,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isEffectSlurOrigin=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this.beamingMode=va.Auto}get isLastOfVoice(){return this.index===this.voice.beats.length-1}get isLegatoDestination(){return!!this.previousBeat&&this.previousBeat.isLegatoOrigin}get isRest(){return this.isEmpty||this.notes.length===0}get isFullBarRest(){return this.isRest&&this.voice.beats.length===1&&this.duration===H.Whole}get hasTuplet(){return!(this.tupletDenominator===-1&&this.tupletNumerator===-1)&&!(this.tupletDenominator===1&&this.tupletNumerator===1)}get hasWhammyBar(){return this.whammyBarPoints!==null&&this.whammyBarType!==Ot.None}get hasChord(){return!!this.chordId}get chord(){return this.chordId?this.voice.bar.staff.getChord(this.chordId):null}get isTremolo(){return!!this.tremoloSpeed}get absoluteDisplayStart(){return this.voice.bar.masterBar.start+this.displayStart}get absolutePlaybackStart(){return this.voice.bar.masterBar.start+this.playbackStart}get isEffectSlurDestination(){return!!this.effectSlurOrigin}addWhammyBarPoint(e){let r=this.whammyBarPoints;r===null&&(r=[],this.whammyBarPoints=r),r.push(e),(!this.maxWhammyPoint||e.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=e),(!this.minWhammyPoint||e.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=e),this.whammyBarType===Ot.None&&(this.whammyBarType=Ot.Custom)}removeWhammyBarPoint(e){const r=this.whammyBarPoints;if(r===null||e<0||e>=r.length)return;r.splice(e,1);let n=r[e];if(n===this.maxWhammyPoint){this.maxWhammyPoint=null;for(let i of r)(!this.maxWhammyPoint||i.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=i)}if(n===this.minWhammyPoint){this.minWhammyPoint=null;for(let i of r)(!this.minWhammyPoint||i.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=i)}}addNote(e){e.beat=this,e.index=this.notes.length,this.notes.push(e),e.isStringed&&this.noteStringLookup.set(e.string,e)}removeNote(e){let r=this.notes.indexOf(e);r>=0&&(this.notes.splice(r,1),e.isStringed&&this.noteStringLookup.delete(e.string))}getAutomation(e){for(let r=0,n=this.automations.length;r<n;r++){let i=this.automations[r];if(i.type===e)return i}return null}getNoteOnString(e){return this.noteStringLookup.has(e)?this.noteStringLookup.get(e):null}calculateDuration(){if(this.isFullBarRest)return this.voice.bar.masterBar.calculateDuration();let e=ut.toTicks(this.duration);return this.dots===2?e=ut.applyDot(e,!0):this.dots===1&&(e=ut.applyDot(e,!1)),this.tupletDenominator>0&&this.tupletNumerator>=0&&(e=ut.applyTuplet(e,this.tupletNumerator,this.tupletDenominator)),e}updateDurations(){let e=this.calculateDuration();switch(this.playbackDuration=e,this.graceType){case tt.BeforeBeat:case tt.OnBeat:switch(this.duration){case H.Sixteenth:this.playbackDuration=ut.toTicks(H.SixtyFourth);break;case H.ThirtySecond:this.playbackDuration=ut.toTicks(H.OneHundredTwentyEighth);break;default:this.playbackDuration=ut.toTicks(H.ThirtySecond);break}this.displayDuration=0;break;case tt.BendGrace:this.playbackDuration/=2,this.displayDuration=0;break;default:this.displayDuration=e;let r=this.previousBeat;r&&r.graceType===tt.BendGrace&&(this.playbackDuration=r.playbackDuration);break}}finishTuplet(){let e=this.previousBeat,r=e?e.tupletGroup:null;(this.hasTuplet||this.graceType!==tt.None&&r)&&((!e||!r||!r.check(this))&&(r=new Dn(this.voice),r.check(this)),this.tupletGroup=r)}finish(e,r=null){switch(this.getAutomation(mn.Instrument)===null&&this.index===0&&this.voice.index===0&&this.voice.bar.index===0&&this.voice.bar.staff.index===0&&this.automations.push($n.buildInstrumentAutomation(!1,0,this.voice.bar.staff.track.playbackInfo.program)),this.graceType){case tt.OnBeat:case tt.BeforeBeat:let c=this.graceGroup.beats.length;c===1?this.duration=H.Eighth:c===2?this.duration=H.Sixteenth:this.duration=H.ThirtySecond;break}let n=e?e.notation.notationMode:pn.GuitarPro,i=this.text==="grad"||this.text==="grad.";i&&n===pn.SongBook&&(this.text="");let s=!1;this.minNote=null,this.maxNote=null,this.minStringNote=null,this.maxStringNote=null;let a=0,o=!1;for(let c=0,u=this.notes.length;c<u;c++){let d=this.notes[c];if(d.dynamics=this.dynamics,d.finish(e,r),d.isLetRing&&(this.isLetRing=!0),d.isPalmMute&&(this.isPalmMute=!0),n===pn.SongBook&&d.hasBend&&this.graceType!==tt.BendGrace){if(!d.isTieOrigin)switch(d.bendType){case Ue.Bend:case Ue.PrebendRelease:case Ue.PrebendBend:s=!0;break}i||d.bendStyle===Qt.Gradual?(i=!0,d.bendStyle=Qt.Gradual,s=!1):d.bendStyle=Qt.Fast}d.isVisible&&(a++,(!this.minNote||d.realValue<this.minNote.realValue)&&(this.minNote=d),(!this.maxNote||d.realValue>this.maxNote.realValue)&&(this.maxNote=d),(!this.minStringNote||d.string<this.minStringNote.string)&&(this.minStringNote=d),(!this.maxStringNote||d.string>this.maxStringNote.string)&&(this.maxStringNote=d),d.hasEffectSlur&&(o=!0))}if(o&&(this.effectSlurOrigin?(this.effectSlurOrigin.effectSlurDestination=this.nextBeat,this.effectSlurOrigin.effectSlurDestination&&(this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin),this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=this.nextBeat,this.effectSlurDestination&&(this.effectSlurDestination.effectSlurOrigin=this))),this.notes.length>0&&a===0&&(this.isEmpty=!0),!this.isRest&&(!this.isLetRing||!this.isPalmMute)){let c=this.previousBeat;for(;c&&c.isRest;)this.isLetRing||(c.isLetRing=!1),this.isPalmMute||(c.isPalmMute=!1),c=c.previousBeat}else this.isRest&&this.previousBeat&&e&&e.notation.notationMode===pn.GuitarPro&&(this.previousBeat.isLetRing&&(this.isLetRing=!0),this.previousBeat.isPalmMute&&(this.isPalmMute=!0));const l=this.whammyBarPoints;if(l!==null&&l.length>0&&this.whammyBarType===Ot.Custom){n===pn.SongBook&&(this.whammyStyle=i?Qt.Gradual:Qt.Fast);let c=!!this.previousBeat&&this.previousBeat.hasWhammyBar;if(this.isContinuedWhammy=c,l.length===4){let u=l[0],d=l[1],h=l[2],p=l[3];d.value===h.value&&(u.value<d.value&&d.value<p.value||u.value>d.value&&d.value>p.value?(u.value!==0&&!c?this.whammyBarType=Ot.PrediveDive:this.whammyBarType=Ot.Dive,l.splice(2,1),l.splice(1,1)):u.value>d.value&&d.value<p.value||u.value<d.value&&d.value>p.value?(this.whammyBarType=Ot.Dip,(d.offset===h.offset||n===pn.SongBook)&&l.splice(2,1)):u.value===d.value&&d.value===p.value&&(u.value!==0&&!c?this.whammyBarType=Ot.Predive:this.whammyBarType=Ot.Hold,l.splice(2,1),l.splice(1,1)))}}if(this.updateDurations(),s){let c=yC.clone(this);c.id=zn._globalBeatId++,c.pickStroke=Fn.None;for(let u=0,d=c.notes.length;u<d;u++){let h=c.notes[u],p=this.notes[u];if(h.bendType=Ue.None,h.maxBendPoint=null,h.bendPoints=null,h.bendStyle=Qt.Default,h.id=Rr.GlobalNoteId++,p.isTieOrigin&&(h.tieDestination=p.tieDestination,p.tieDestination.tieOrigin=h),p.isTieDestination&&(h.tieOrigin=p.tieOrigin?p.tieOrigin:null,p.tieOrigin.tieDestination=h),p.hasBend&&p.isTieOrigin){let f=Rr.findTieOrigin(p);if(f&&f.hasBend){h.bendType=Ue.Hold;let m=p.bendPoints[p.bendPoints.length-1];h.addBendPoint(new Le(0,m.value)),h.addBendPoint(new Le(Le.MaxPosition,m.value))}}h.isTieDestination=!0}this.graceType=tt.BendGrace,this.graceGroup=new CS,this.graceGroup.addBeat(this),this.graceGroup.isComplete=!0,this.graceGroup.finish(),this.updateDurations(),this.voice.insertBeat(this,c),c.graceGroup=new CS,c.graceGroup.addBeat(this),c.graceGroup.isComplete=!0,c.graceGroup.finish()}}isBefore(e){return this.voice.bar.index<e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index<e.index}isAfter(e){return this.voice.bar.index>e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index>e.index}hasNoteOnString(e){return this.noteStringLookup.has(e)}getNoteWithRealValue(e){return this.noteValueLookup.has(e)?this.noteValueLookup.get(e):null}chain(e=null){for(const r of this.notes)this.noteValueLookup.set(r.realValue,r),r.chain(e)}}zn._globalBeatId=0;class Il{constructor(){this.name="",this.firstFret=1,this.strings=[],this.barreFrets=[],this.showName=!0,this.showDiagram=!0,this.showFingering=!0}get uniqueId(){return[this.name,this.firstFret.toString(),this.strings.join(","),this.barreFrets.join(","),this.showDiagram.toString(),this.showFingering.toString(),this.showName.toString()].join("|")}}var ln;(function(t){t[t.Cb=-7]="Cb",t[t.Gb=-6]="Gb",t[t.Db=-5]="Db",t[t.Ab=-4]="Ab",t[t.Eb=-3]="Eb",t[t.Bb=-2]="Bb",t[t.F=-1]="F",t[t.C=0]="C",t[t.G=1]="G",t[t.D=2]="D",t[t.A=3]="A",t[t.E=4]="E",t[t.B=5]="B",t[t.FSharp=6]="FSharp",t[t.CSharp=7]="CSharp"})(ln||(ln={}));var jn;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Dash=4]="Dash"})(jn||(jn={}));class Qr{constructor(){this.startBar=0,this.text=""}finish(e=!1){this.chunks=[],this.parse(this.text,0,this.chunks,e)}parse(e,r,n,i){if(!e)return;let s=jn.Begin,a=jn.Begin,o=!1,l=0;for(;r<e.length;){let c=e.charCodeAt(r);switch(s){case jn.IgnoreSpaces:switch(c){case Qr.CharCodeLF:case Qr.CharCodeCR:case Qr.CharCodeTab:break;case Qr.CharCodeSpace:if(!o){s=a;continue}break;default:o=!1,s=a;continue}break;case jn.Begin:switch(c){case Qr.CharCodeBrackedOpen:s=jn.Comment;break;default:l=r,s=jn.Text;continue}break;case jn.Comment:switch(c){case Qr.CharCodeBrackedClose:s=jn.Begin;break}break;case jn.Text:switch(c){case Qr.CharCodeDash:s=jn.Dash;break;case Qr.CharCodeCR:case Qr.CharCodeLF:case Qr.CharCodeSpace:let u=e.substr(l,r-l);this.addChunk(u,i),s=jn.IgnoreSpaces,a=jn.Begin;break}break;case jn.Dash:switch(c){case Qr.CharCodeDash:break;default:let u=e.substr(l,r-l);this.addChunk(u,i),o=!0,s=jn.IgnoreSpaces,a=jn.Begin;continue}break}r+=1}s===jn.Text&&r!==l&&this.addChunk(e.substr(l,r-l),i)}addChunk(e,r){e=this.prepareChunk(e),(!r||e.length>0&&e!=="-")&&this.chunks.push(e)}prepareChunk(e){let r=e.split("+").join(" "),n=r.length;for(;n>0&&r.charAt(n-1)==="_";)n--;return n!==r.length?r.substr(0,n):r}}Qr.CharCodeLF=10;Qr.CharCodeTab=9;Qr.CharCodeCR=13;Qr.CharCodeSpace=32;Qr.CharCodeBrackedClose=93;Qr.CharCodeBrackedOpen=91;Qr.CharCodeDash=45;var Fl;(function(t){t[t.Major=0]="Major",t[t.Minor=1]="Minor"})(Fl||(Fl={}));var vt;(function(t){t[t.NoTripletFeel=0]="NoTripletFeel",t[t.Triplet16th=1]="Triplet16th",t[t.Triplet8th=2]="Triplet8th",t[t.Dotted16th=3]="Dotted16th",t[t.Dotted8th=4]="Dotted8th",t[t.Scottish16th=5]="Scottish16th",t[t.Scottish8th=6]="Scottish8th"})(vt||(vt={}));class Oo{constructor(){this.alternateEndings=0,this.nextMasterBar=null,this.previousMasterBar=null,this.index=0,this.keySignature=ln.C,this.keySignatureType=Fl.Major,this.isDoubleBar=!1,this.isRepeatStart=!1,this.repeatCount=0,this.timeSignatureNumerator=4,this.timeSignatureDenominator=4,this.timeSignatureCommon=!1,this.tripletFeel=vt.NoTripletFeel,this.section=null,this.tempoAutomation=null,this.fermata=null,this.start=0,this.isAnacrusis=!1,this.displayScale=1,this.displayWidth=-1}get isRepeatEnd(){return this.repeatCount>0}get isSectionStart(){return!!this.section}calculateDuration(e=!0){if(this.isAnacrusis&&e){let r=0;for(let n of this.score.tracks)for(let i of n.staves){let s=this.index<i.bars.length?i.bars[this.index].calculateDuration():0;s>r&&(r=s)}return r}return this.timeSignatureNumerator*ut.valueToTicks(this.timeSignatureDenominator)}addFermata(e,r){let n=this.fermata;n===null&&(n=new Map,this.fermata=n),n.set(e,r)}getFermata(e){const r=this.fermata;return r===null?null:r.has(e.playbackStart)?r.get(e.playbackStart):null}}Oo.MaxAlternateEndings=8;class Nse{constructor(){this.hideDynamics=!1}}class dN{constructor(){this.masterBars=[],this.opening=null,this.closings=[],this.isClosed=!1}get openings(){const e=this.opening;return e?[e]:[]}get isOpened(){var e;return((e=this.opening)==null?void 0:e.isRepeatStart)===!0}addMasterBar(e){this.opening===null&&(this.opening=e),this.masterBars.push(e),e.repeatGroup=this,e.isRepeatEnd&&(this.closings.push(e),this.isClosed=!0)}}class Jc{constructor(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0,this.album="",this.artist="",this.copyright="",this.instructions="",this.music="",this.notices="",this.subTitle="",this.title="",this.words="",this.tab="",this.tempo=120,this.tempoLabel="",this.masterBars=[],this.tracks=[],this.defaultSystemsLayout=3,this.systemsLayout=[],this.stylesheet=new Nse}rebuildRepeatGroups(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0;for(const e of this.masterBars)this.addMasterBarToRepeatGroups(e)}addMasterBar(e){e.score=this,e.index=this.masterBars.length,this.masterBars.length!==0&&(e.previousMasterBar=this.masterBars[this.masterBars.length-1],e.previousMasterBar.nextMasterBar=e,e.start=e.previousMasterBar.start+(e.previousMasterBar.isAnacrusis?0:e.previousMasterBar.calculateDuration())),this.addMasterBarToRepeatGroups(e),this.masterBars.push(e)}addMasterBarToRepeatGroups(e){var r;e.isRepeatStart?((r=this._currentRepeatGroup)!=null&&r.isClosed&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--),this._currentRepeatGroup=new dN,this._openedRepeatGroups.push(this._currentRepeatGroup),this._properlyOpenedRepeatGroups++):this._currentRepeatGroup||(this._currentRepeatGroup=new dN,this._openedRepeatGroups.push(this._currentRepeatGroup)),this._currentRepeatGroup.addMasterBar(e),e.isRepeatEnd&&this._properlyOpenedRepeatGroups>1&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--,this._currentRepeatGroup=this._openedRepeatGroups.length>0?this._openedRepeatGroups[this._openedRepeatGroups.length-1]:null)}addTrack(e){e.score=this,e.index=this.tracks.length,this.tracks.push(e)}finish(e){const r=new Map;for(let n=0,i=this.tracks.length;n<i;n++)this.tracks[n].finish(e,r)}}class Lb{constructor(){this.marker="",this.text=""}}class Kr extends Tn{constructor(e){super(Cn.Format,e),Object.setPrototypeOf(this,Kr.prototype)}}let Sr=class uo{constructor(e,r,n,i=255){this.raw=0,this.raw=(i&255)<<24|(e&255)<<16|(r&255)<<8|n&255,this.updateRgba()}updateRgba(){this.a===255?this.rgba="#"+ir.toHexString(this.r,2)+ir.toHexString(this.g,2)+ir.toHexString(this.b,2):this.rgba=`rgba(${this.r},${this.g},${this.b},${this.a/255})`}get a(){return this.raw>>24&255}get r(){return this.raw>>16&255}get g(){return this.raw>>8&255}get b(){return this.raw&255}static random(e=100){return new uo(Math.random()*255|0,Math.random()*255|0,Math.random()*255|0,e)}static fromJson(e){switch(typeof e){case"number":{const r=new uo(0,0,0,0);return r.raw=e,r.updateRgba(),r}case"string":{const r=e;if(r.startsWith("#")){if(r.length===4)return new uo(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17);if(r.length===5)return new uo(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17,parseInt(r[4],16)*17);if(r.length===7)return new uo(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16));if(r.length===9)return new uo(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16),parseInt(r.substring(7,9),16))}else if(r.startsWith("rgba")||r.startsWith("rgb")){const n=r.indexOf("("),i=r.lastIndexOf(")");if(n===-1||i===-1)throw new Kr("No values specified for rgb/rgba function");const s=r.substring(n+1,i).split(",");if(s.length===3)return new uo(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));if(s.length===4)return new uo(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseFloat(s[3])*255)}return null}}throw new Kr("Unsupported format for color")}static toJson(e){return e.raw}};Sr.BlackRgb="#000000";class nA{constructor(){this.volume=15,this.balance=8,this.port=1,this.program=0,this.primaryChannel=0,this.secondaryChannel=0,this.isMute=!1,this.isSolo=!1}}class Te{static getTextForTuning(e,r){let n=Te.getTextPartsForTuning(e);return r?n.join(""):n[0]}static getTextPartsForTuning(e,r=-1){let n=e/12|0,i=e%12;return[["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][i],(n+r).toString()]}static getDefaultTuningFor(e){return Te._defaultTunings.has(e)?Te._defaultTunings.get(e):null}static getPresetsFor(e){switch(e){case 7:return Te._sevenStrings;case 6:return Te._sixStrings;case 5:return Te._fiveStrings;case 4:return Te._fourStrings}return[]}static initialize(){Te._defaultTunings.set(7,new Te("Guitar 7 strings",[64,59,55,50,45,40,35],!0)),Te._sevenStrings.push(Te._defaultTunings.get(7)),Te._defaultTunings.set(6,new Te("Guitar Standard Tuning",[64,59,55,50,45,40],!0)),Te._sixStrings.push(Te._defaultTunings.get(6)),Te._sixStrings.push(new Te("Guitar Tune down  step",[63,58,54,49,44,39],!1)),Te._sixStrings.push(new Te("Guitar Tune down 1 step",[62,57,53,48,43,38],!1)),Te._sixStrings.push(new Te("Guitar Tune down 2 step",[60,55,51,46,41,36],!1)),Te._sixStrings.push(new Te("Guitar Dropped D Tuning",[64,59,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Dropped D Tuning variant",[64,57,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Double Dropped D Tuning",[62,59,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Dropped E Tuning",[66,61,57,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Dropped C Tuning",[62,57,53,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open C Tuning",[64,60,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open Cm Tuning",[63,60,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open C6 Tuning",[64,57,55,48,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open Cmaj7 Tuning",[64,59,55,52,43,36],!1)),Te._sixStrings.push(new Te("Guitar Open D Tuning",[62,57,54,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open Dm Tuning",[62,57,53,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open D5 Tuning",[62,57,50,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open D6 Tuning",[62,59,54,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open Dsus4 Tuning",[62,57,55,50,45,38],!1)),Te._sixStrings.push(new Te("Guitar Open E Tuning",[64,59,56,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Open Em Tuning",[64,59,55,52,47,40],!1)),Te._sixStrings.push(new Te("Guitar Open Esus11 Tuning",[64,59,55,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Open F Tuning",[65,60,53,48,45,41],!1)),Te._sixStrings.push(new Te("Guitar Open G Tuning",[62,59,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open Gm Tuning",[62,58,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open G6 Tuning",[64,59,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open Gsus4 Tuning",[62,60,55,50,43,38],!1)),Te._sixStrings.push(new Te("Guitar Open A Tuning",[64,61,57,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Open Am Tuning",[64,60,57,52,45,40],!1)),Te._sixStrings.push(new Te("Guitar Nashville Tuning",[64,59,67,62,57,52],!1)),Te._sixStrings.push(new Te("Bass 6 Strings Tuning",[48,43,38,33,28,23],!1)),Te._sixStrings.push(new Te("Lute or Vihuela Tuning",[64,59,54,50,45,40],!1)),Te._defaultTunings.set(5,new Te("Bass 5 Strings Tuning",[43,38,33,28,23],!0)),Te._fiveStrings.push(Te._defaultTunings.get(5)),Te._fiveStrings.push(new Te("Banjo Dropped C Tuning",[62,59,55,48,67],!1)),Te._fiveStrings.push(new Te("Banjo Open D Tuning",[62,57,54,50,69],!1)),Te._fiveStrings.push(new Te("Banjo Open G Tuning",[62,59,55,50,67],!1)),Te._fiveStrings.push(new Te("Banjo G Minor Tuning",[62,58,55,50,67],!1)),Te._fiveStrings.push(new Te("Banjo G Modal Tuning",[62,57,55,50,67],!1)),Te._defaultTunings.set(4,new Te("Bass Standard Tuning",[43,38,33,28],!0)),Te._fourStrings.push(Te._defaultTunings.get(4)),Te._fourStrings.push(new Te("Bass Tune down  step",[42,37,32,27],!1)),Te._fourStrings.push(new Te("Bass Tune down 1 step",[41,36,31,26],!1)),Te._fourStrings.push(new Te("Bass Tune down 2 step",[39,34,29,24],!1)),Te._fourStrings.push(new Te("Bass Dropped D Tuning",[43,38,33,26],!1)),Te._fourStrings.push(new Te("Ukulele C Tuning",[45,40,36,43],!1)),Te._fourStrings.push(new Te("Ukulele G Tuning",[52,47,43,38],!1)),Te._fourStrings.push(new Te("Mandolin Standard Tuning",[64,57,50,43],!1)),Te._fourStrings.push(new Te("Mandolin or Violin Tuning",[76,69,62,55],!1)),Te._fourStrings.push(new Te("Viola Tuning",[69,62,55,48],!1)),Te._fourStrings.push(new Te("Cello Tuning",[57,50,43,36],!1))}static findTuning(e){let r=Te.getPresetsFor(e.length);for(let n=0,i=r.length;n<i;n++){let s=r[n],a=!0;for(let o=0,l=e.length;o<l;o++)if(e[o]!==s.tunings[o]){a=!1;break}if(a)return s}return null}constructor(e="",r=null,n=!1){this.isStandard=n,this.name=e,this.tunings=r??[]}finish(){const e=Te.findTuning(this.tunings);e&&(this.name=e.name,this.isStandard=e.isStandard),this.name=this.name.trim()}}Te._sevenStrings=[];Te._sixStrings=[];Te._fiveStrings=[];Te._fourStrings=[];Te._defaultTunings=new Map;Te.defaultAccidentals=["","#","","#","","","#","","#","","#",""];Te.defaultSteps=["C","C","D","D","E","F","F","G","G","A","A","B"];Te.initialize();class iA{constructor(){this.index=0,this.bars=[],this.chords=null,this.capo=0,this.transpositionPitch=0,this.displayTranspositionPitch=0,this.stringTuning=new Te("",[],!1),this.showTablature=!0,this.showStandardNotation=!0,this.isPercussion=!1,this.standardNotationLineCount=5}get tuning(){return this.stringTuning.tunings}get tuningName(){return this.stringTuning.name}get isStringed(){return this.stringTuning.tunings.length>0}finish(e,r=null){this.stringTuning.finish();for(let n=0,i=this.bars.length;n<i;n++)this.bars[n].finish(e,r)}addChord(e,r){r.staff=this;let n=this.chords;n===null&&(n=new Map,this.chords=n),n.set(e,r)}hasChord(e){var r;return((r=this.chords)==null?void 0:r.has(e))??!1}getChord(e){var r;return((r=this.chords)==null?void 0:r.get(e))??null}addBar(e){let r=this.bars;e.staff=this,e.index=r.length,r.length>0&&(e.previousBar=r[r.length-1],e.previousBar.nextBar=e),r.push(e)}}class so{constructor(){this.index=0,this.staves=[],this.playbackInfo=new nA,this.color=new Sr(200,0,0,255),this.name="",this.shortName="",this.defaultSystemsLayout=3,this.systemsLayout=[],this.percussionArticulations=[]}ensureStaveCount(e){for(;this.staves.length<e;)this.addStaff(new iA)}addStaff(e){e.index=this.staves.length,e.track=this,this.staves.push(e)}finish(e,r=null){this.shortName||(this.shortName=this.name,this.shortName.length>so.ShortNameMaxLength&&(this.shortName=this.shortName.substr(0,so.ShortNameMaxLength)));for(let n=0,i=this.staves.length;n<i;n++)this.staves[n].finish(e,r)}applyLyrics(e){for(let n of e)n.finish();let r=this.staves[0];for(let n=0;n<e.length;n++){let i=e[n];if(i.startBar>=0&&i.startBar<r.bars.length){let s=r.bars[i.startBar].voices[0].beats[0];for(let a=0;a<i.chunks.length&&s;a++){for(;s&&(s.isEmpty||s.isRest);)s=s.nextBeat;s&&(s.lyrics||(s.lyrics=new Array(e.length),s.lyrics.fill("")),s.lyrics[n]=i.chunks[a],s=s.nextBeat)}}}}}so.ShortNameMaxLength=10;let ao=class sA{constructor(){this.id=sA._globalBarId++,this.index=0,this.beats=[],this.isEmpty=!0}insertBeat(e,r){r.nextBeat=e.nextBeat,r.nextBeat&&(r.nextBeat.previousBeat=r),r.previousBeat=e,r.voice=this,e.nextBeat=r,this.beats.splice(e.index+1,0,r)}addBeat(e){e.voice=this,e.index=this.beats.length,this.beats.push(e),e.isEmpty||(this.isEmpty=!1)}chain(e,r=null){if(this.bar){if(e.index<this.beats.length-1)e.nextBeat=this.beats[e.index+1],e.nextBeat.previousBeat=e;else if(e.isLastOfVoice&&e.voice.bar.nextBar){let n=this.bar.nextBar.voices[this.index];n.beats.length>0&&(e.nextBeat=n.beats[0]),e.nextBeat.previousBeat=e}e.chain(r)}}addGraceBeat(e){if(this.beats.length===0){this.addBeat(e);return}let r=this.beats[this.beats.length-1];this.beats.splice(this.beats.length-1,1),this.addBeat(e),this.addBeat(r),this.isEmpty=!1}getBeatAtPlaybackStart(e){return this._beatLookup.has(e)?this._beatLookup.get(e):null}finish(e,r=null){this._beatLookup=new Map;let n=null;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];o.index=a,this.chain(o,r),o.graceType===tt.None?(o.graceGroup=n,n&&(n.isComplete=!0),n=null):(n||(n=new CS),n.addBeat(o))}let i=0,s=0;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];if(o.index=a,o.finish(e,r),o.graceType===tt.None){if(o.graceGroup){const l=o.graceGroup.beats[0],c=o.graceGroup.beats[o.graceGroup.beats.length-1];if(l.graceType!==tt.BendGrace){let u=c.playbackStart+c.playbackDuration-l.playbackStart;switch(l.graceType){case tt.BeforeBeat:l.previousBeat?(l.previousBeat.playbackDuration-=u,l.previousBeat.voice==this?s=l.previousBeat.playbackStart+l.previousBeat.playbackDuration:s=-u):s=-u;for(const d of o.graceGroup.beats)this._beatLookup.delete(d.playbackStart),d.playbackStart=s,this._beatLookup.set(d.playbackStart,o),s+=d.playbackDuration;break;case tt.OnBeat:o.playbackDuration-=u,c.voice===this?s=c.playbackStart+c.playbackDuration:s=-u;break}}}o.displayStart=i,o.playbackStart=s,o.fermata?this.bar.masterBar.addFermata(o.playbackStart,o.fermata):o.fermata=this.bar.masterBar.getFermata(o),this._beatLookup.set(o.playbackStart,o)}else o.displayStart=i,o.playbackStart=s;o.finishTuplet(),o.graceGroup&&o.graceGroup.finish(),i+=o.displayDuration,s+=o.playbackDuration}}calculateDuration(){if(this.isEmpty||this.beats.length===0)return 0;let e=this.beats[this.beats.length-1],r=this.beats[0];return e.playbackStart+e.playbackDuration-r.playbackStart}};ao._globalBarId=0;class yt{static float64ToBytes(e){return yt._dataView.setFloat64(0,e,!0),this._conversionByteArray}static bytesToFloat64(e){throw yt._conversionByteArray.set(e,0),yt._dataView.getFloat64(0,!0)}static uint16ToInt16(e){return yt._dataView.setUint16(0,e,!0),yt._dataView.getInt16(0,!0)}static int16ToUint32(e){return yt._dataView.setInt16(0,e,!0),yt._dataView.getUint32(0,!0)}static int32ToUint16(e){return yt._dataView.setInt32(0,e,!0),yt._dataView.getUint16(0,!0)}static int32ToInt16(e){return yt._dataView.setInt32(0,e,!0),yt._dataView.getInt16(0,!0)}static int32ToUint32(e){return yt._dataView.setInt32(0,e,!0),yt._dataView.getUint32(0,!0)}static uint8ToInt8(e){return yt._dataView.setUint8(0,e),yt._dataView.getInt8(0)}}yt._conversionBuffer=new ArrayBuffer(8);yt._conversionByteArray=new Uint8Array(yt._conversionBuffer);yt._dataView=new DataView(yt._conversionBuffer);class ue{static readInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return r<<24|n<<16|i<<8|s}static readInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static readUInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static decodeUInt32LE(e,r){let n=e[r],i=e[r+1],s=e[r+2];return e[r+3]<<24|s<<16|i<<8|n}static readUInt16LE(e){let r=e.readByte(),n=e.readByte();return yt.int32ToUint16(n<<8|r)}static readInt16LE(e){let r=e.readByte(),n=e.readByte();return yt.int32ToInt16(n<<8|r)}static readUInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return yt.int32ToUint32(r<<24|n<<16|i<<8|s)}static readUInt16BE(e){let r=e.readByte(),n=e.readByte();return yt.int32ToInt16(r<<8|n)}static readInt16BE(e){let r=e.readByte(),n=e.readByte();return yt.int32ToInt16(r<<8|n)}static readByteArray(e,r){let n=new Uint8Array(r);return e.read(n,0,r),n}static read8BitChars(e,r){let n=new Uint8Array(r);return e.read(n,0,n.length),ue.toString(n,"utf-8")}static read8BitString(e){let r="",n=e.readByte();for(;n!==0;)r+=String.fromCharCode(n),n=e.readByte();return r}static read8BitStringLength(e,r){let n="",i=-1;for(let a=0;a<r;a++){let o=e.readByte();o===0&&i===-1&&(i=a),n+=String.fromCharCode(o)}let s=n;return i>=0?s.substr(0,i):s}static readSInt8(e){let r=e.readByte();return((r&255)>>7)*-256+(r&255)}static readInt24(e,r){let n=e[r]|e[r+1]<<8|e[r+2]<<16;return(n&8388608)===8388608&&(n=n|255<<24),n}static readInt16(e,r){return yt.int32ToInt16(e[r]|e[r+1]<<8)}static toString(e,r){let n=ue.detectEncoding(e);return n&&(r=n),r||(r="utf-8"),new TextDecoder(r).decode(e.buffer)}static detectEncoding(e){return e.length>2&&e[0]===254&&e[1]===255?"utf-16be":e.length>2&&e[0]===255&&e[1]===254?"utf-16le":e.length>4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255?"utf-32be":e.length>4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0?"utf-32le":null}static stringToBytes(e){return new TextEncoder().encode(e)}static writeInt32BE(e,r){e.writeByte(r>>24&255),e.writeByte(r>>16&255),e.writeByte(r>>8&255),e.writeByte(r>>0&255)}static writeInt32LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255),e.writeByte(r>>16&255),e.writeByte(r>>24&255)}static writeUInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16BE(e,r){e.writeByte(r>>8&255),e.writeByte(r>>0&255)}}class Wn{constructor(){this.length=0,this.position=0}get bytesWritten(){return this.position}getBuffer(){return this._buffer}static empty(){return Wn.withCapacity(0)}static withCapacity(e){let r=new Wn;return r._buffer=new Uint8Array(e),r}static fromBuffer(e){let r=new Wn;return r._buffer=e,r.length=e.length,r}static fromString(e){let r=ue.stringToBytes(e);return Wn.fromBuffer(r)}reset(){this.position=0}skip(e){this.position+=e}readByte(){return this.length-this.position<=0?-1:this._buffer[this.position++]}read(e,r,n){let i=this.length-this.position;return i>n&&(i=n),i<=0?0:(e.set(this._buffer.subarray(this.position,this.position+i),r),this.position+=i,i)}writeByte(e){let r=this.position+1;this.ensureCapacity(r),this._buffer[this.position]=e&255,r>this.length&&(this.length=r),this.position=r}write(e,r,n){let i=this.position+n;this.ensureCapacity(i);let s=Math.min(n,e.length-r);this._buffer.set(e.subarray(r,r+s),this.position),i>this.length&&(this.length=i),this.position=i}ensureCapacity(e){if(e>this._buffer.length){let r=e;r<256&&(r=256),r<this._buffer.length*2&&(r=this._buffer.length*2);let n=new Uint8Array(r);this.length>0&&n.set(this._buffer.subarray(0,0+this.length),0),this._buffer=n}}readAll(){return this.toArray()}toArray(){let e=new Uint8Array(this.length);return e.set(this._buffer.subarray(0,0+this.length),0),e}copyTo(e){e.write(this._buffer,0,this.length)}}var ee;(function(t){t[t.No=0]="No",t[t.Eof=1]="Eof",t[t.Number=2]="Number",t[t.DoubleDot=3]="DoubleDot",t[t.Dot=4]="Dot",t[t.String=5]="String",t[t.Tuning=6]="Tuning",t[t.LParensis=7]="LParensis",t[t.RParensis=8]="RParensis",t[t.LBrace=9]="LBrace",t[t.RBrace=10]="RBrace",t[t.Pipe=11]="Pipe",t[t.MetaCommand=12]="MetaCommand",t[t.Multiply=13]="Multiply",t[t.LowerThan=14]="LowerThan"})(ee||(ee={}));class Tc extends Tn{constructor(e,r,n,i,s,a,o,l=null){super(Cn.AlphaTex,e),this.position=r,this.line=n,this.col=i,this.nonTerm=s??"",this.expected=a??ee.No,this.symbol=o??ee.No,this.symbolData=l,Object.setPrototypeOf(this,Tc.prototype)}static symbolError(e,r,n,i,s,a,o=null){let l=`MalFormed AlphaTex: @${e} (line ${r}, col ${n}): Error on block ${i}`;return s!==a?(l+=`, expected a ${ee[s]} found a ${ee[a]}`,o!==null&&(l+=`: '${o}'`)):l+=`, invalid value: '${o}'`,new Tc(l,e,r,n,i,s,a,o)}static errorMessage(e,r,n,i){return e=`MalFormed AlphaTex: @${r} (line ${n}, col ${i}): ${e}`,new Tc(e,r,n,i,null,null,null,null)}}class ti extends Wd{constructor(){super(),this._trackChannel=0,this._input="",this._ch=ti.Eof,this._curChPos=0,this._line=1,this._col=0,this._lastValidSpot=[0,1,0],this._sy=ee.No,this._syData="",this._allowNegatives=!1,this._allowFloat=!1,this._allowTuning=!1,this._currentDuration=H.QuadrupleWhole,this._currentDynamics=wt.PPP,this._currentTuplet=0,this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this.logErrors=!1}get name(){return"AlphaTex"}initFromString(e,r){this.data=Wn.empty(),this._input=e,this.settings=r}readScore(){try{if(this.data.length>0&&(this._input=ue.toString(this.data.readAll(),this.settings.importer.encoding)),this._allowTuning=!0,this._lyrics=new Map,this.createDefaultScore(),this._curChPos=0,this._line=1,this._col=0,this.saveValidSpot(),this._currentDuration=H.Quarter,this._currentDynamics=wt.F,this._currentTuplet=1,this._ch=this.nextChar(),this._sy=this.newSy(),this._sy===ee.LowerThan)throw new Zr("Unknown start sign '<' (meant to import as XML?)");if(this._sy===ee.Eof)throw new Zr("Unexpected end of file");const e=this.metaData(),r=this.bars();if(!e&&!r)throw new Zr("No alphaTex data found");this.consolidate(),this._score.finish(this.settings),this._score.rebuildRepeatGroups();for(const[n,i]of this._lyrics)this._score.tracks[n].applyLyrics(i);return this._score}catch(e){throw e instanceof Tc?new Zr(e.message,e):e}}consolidate(){for(let e of this._score.tracks)for(let r of e.staves)for(;r.bars.length<this._score.masterBars.length;){let n=this.newBar(r),i=new zn;i.isEmpty=!0,n.voices[0].addBeat(i)}}error(e,r,n=!0){let i,s=!1;n?(i=this._sy,(i===ee.String||i===ee.Number||i===ee.MetaCommand)&&(s=!0)):i=r;let a=Tc.symbolError(this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2],e,r,i,s?this._syData:null);throw this.logErrors&&ve.error(this.name,a.message),a}errorMessage(e){let r=Tc.errorMessage(e,this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2]);throw this.logErrors&&ve.error(this.name,r.message),r}createDefaultScore(){this._score=new Jc,this._score.tempo=120,this._score.tempoLabel="",this.newTrack()}newTrack(){this._currentTrack=new so,this._currentTrack.ensureStaveCount(1),this._currentTrack.playbackInfo.program=25,this._currentTrack.playbackInfo.primaryChannel=this._trackChannel++,this._currentTrack.playbackInfo.secondaryChannel=this._trackChannel++,this._currentStaff=this._currentTrack.staves[0],this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=Te.getDefaultTuningFor(6).tunings,this._score.addTrack(this._currentTrack),this._lyrics.set(this._currentTrack.index,[]),this._currentDynamics=wt.F}parseClefFromString(e){switch(e.toLowerCase()){case"g2":case"treble":return ct.G2;case"f4":case"bass":return ct.F4;case"c3":case"tenor":return ct.C3;case"c4":case"alto":return ct.C4;case"n":case"neutral":return ct.Neutral;default:return ct.G2}}parseClefFromInt(e){switch(e){case 43:return ct.G2;case 65:return ct.F4;case 48:return ct.C3;case 60:return ct.C4;default:return ct.G2}}parseTripletFeelFromString(e){switch(e.toLowerCase()){case"no":case"none":return vt.NoTripletFeel;case"t16":case"triplet-16th":return vt.Triplet16th;case"t8":case"triplet-8th":return vt.Triplet8th;case"d16":case"dotted-16th":return vt.Dotted16th;case"d8":case"dotted-8th":return vt.Dotted8th;case"s16":case"scottish-16th":return vt.Scottish16th;case"s8":case"scottish-8th":return vt.Scottish8th;default:return vt.NoTripletFeel}}parseTripletFeelFromInt(e){switch(e){case 0:return vt.NoTripletFeel;case 1:return vt.Triplet16th;case 2:return vt.Triplet8th;case 3:return vt.Dotted16th;case 4:return vt.Dotted8th;case 5:return vt.Scottish16th;case 6:return vt.Scottish8th;default:return vt.NoTripletFeel}}parseKeySignature(e){switch(e.toLowerCase()){case"cb":case"cbmajor":return ln.Cb;case"gb":case"gbmajor":case"d#minor":return ln.Gb;case"db":case"dbmajor":case"bbminor":return ln.Db;case"ab":case"abmajor":case"fminor":return ln.Ab;case"eb":case"ebmajor":case"cminor":return ln.Eb;case"bb":case"bbmajor":case"gminor":return ln.Bb;case"f":case"fmajor":case"dminor":return ln.F;case"c":case"cmajor":case"aminor":return ln.C;case"g":case"gmajor":case"eminor":return ln.G;case"d":case"dmajor":case"bminor":return ln.D;case"a":case"amajor":case"f#minor":return ln.A;case"e":case"emajor":case"c#minor":return ln.E;case"b":case"bmajor":case"g#minor":return ln.B;case"f#":case"f#major":case"ebminor":return ln.FSharp;case"c#":case"c#major":return ln.CSharp;default:return ln.C}}nextChar(){return this._curChPos<this._input.length?(this._ch=this._input.charCodeAt(this._curChPos++),this._ch===10?(this._line++,this._col=0):this._col++):this._ch=ti.Eof,this._ch}saveValidSpot(){this._lastValidSpot=[this._curChPos,this._line,this._col]}newSy(){for(this.saveValidSpot(),this._sy=ee.No;this._sy===ee.No;)if(this._ch===ti.Eof)this._sy=ee.Eof;else if(ti.isWhiteSpace(this._ch))this._ch=this.nextChar(),this.saveValidSpot();else if(this._ch===47){if(this._ch=this.nextChar(),this._ch===47)for(;this._ch!==13&&this._ch!==10&&this._ch!==ti.Eof;)this._ch=this.nextChar();else if(this._ch===42)for(;this._ch!==ti.Eof;)if(this._ch===42){if(this._ch=this.nextChar(),this._ch===47){this._ch=this.nextChar();break}}else this._ch=this.nextChar();else this.error("comment",ee.String,!1);this.saveValidSpot()}else if(this._ch===34||this._ch===39){let e=this._ch;this._ch=this.nextChar();let r="";for(this._sy=ee.String;this._ch!==e&&this._ch!==ti.Eof;)r+=String.fromCharCode(this._ch),this._ch=this.nextChar();this._ch===ti.Eof&&this.errorMessage("String opened but never closed"),this._syData=r,this._ch=this.nextChar()}else if(this._ch===45)this._allowNegatives?(this._sy=ee.Number,this._syData=this.readNumber()):(this._sy=ee.String,this._syData=this.readName());else if(this._ch===46)this._sy=ee.Dot,this._ch=this.nextChar();else if(this._ch===58)this._sy=ee.DoubleDot,this._ch=this.nextChar();else if(this._ch===40)this._sy=ee.LParensis,this._ch=this.nextChar();else if(this._ch===92)this._ch=this.nextChar(),this._sy=ee.MetaCommand,this._syData=this.readName();else if(this._ch===41)this._sy=ee.RParensis,this._ch=this.nextChar();else if(this._ch===123)this._sy=ee.LBrace,this._ch=this.nextChar();else if(this._ch===125)this._sy=ee.RBrace,this._ch=this.nextChar();else if(this._ch===124)this._sy=ee.Pipe,this._ch=this.nextChar();else if(this._ch===42)this._sy=ee.Multiply,this._ch=this.nextChar();else if(this._ch===60)this._sy=ee.LowerThan,this._ch=this.nextChar();else if(this.isDigit(this._ch))this._sy=ee.Number,this._syData=this.readNumber();else if(ti.isNameLetter(this._ch)){let e=this.readName(),r=this._allowTuning?ir.parseTuning(e):null;r?(this._sy=ee.Tuning,this._syData=r):(this._sy=ee.String,this._syData=e)}else this.error("symbol",ee.String,!1);return this._sy}static isNameLetter(e){return!ti.isTerminal(e)&&(33<=e&&e<=47||58<=e&&e<=126||128<=e)}static isTerminal(e){return e===46||e===123||e===125||e===91||e===93||e===40||e===41||e===124||e===39||e===34||e===92}static isWhiteSpace(e){return e===9||e===10||e===11||e===13||e===32}isDigit(e){return e>=48&&e<=57||this._allowNegatives&&e===45||this._allowFloat&&e===46}readName(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(ti.isNameLetter(this._ch)||this.isDigit(this._ch));return e}readNumber(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(this.isDigit(this._ch));return this._allowFloat?parseFloat(e):parseInt(e)}metaData(){let e=!1,r=!0;for(;this._sy===ee.MetaCommand&&r;){let n=this._syData.toLowerCase();switch(n){case"title":case"subtitle":case"artist":case"album":case"words":case"music":case"copyright":this._sy=this.newSy(),this._sy!==ee.String&&this.error(n,ee.String,!0);let i=this._syData;switch(n){case"title":this._score.title=i;break;case"subtitle":this._score.subTitle=i;break;case"artist":this._score.artist=i;break;case"album":this._score.album=i;break;case"words":this._score.words=i;break;case"music":this._score.music=i;break;case"copyright":this._score.copyright=i;break}this._sy=this.newSy(),e=!0;break;case"tempo":this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy===ee.Number?this._score.tempo=this._syData:this.error("tempo",ee.Number,!0),this._sy=this.newSy(),e=!0;break;default:this.handleStaffMeta()?e=!0:e?this.error("metaDataTags",ee.String,!1):r=!1;break}}return e?(this._sy!==ee.Dot&&this.error("song",ee.Dot,!0),this._sy=this.newSy()):this._sy===ee.Dot&&(this._sy=this.newSy()),e}handleStaffMeta(){var e;switch(this._syData.toLowerCase()){case"capo":return this._sy=this.newSy(),this._sy===ee.Number?this._currentStaff.capo=this._syData:this.error("capo",ee.Number,!0),this._sy=this.newSy(),!0;case"tuning":this._sy=this.newSy();let r=this._currentStaff.tuning.length;switch(this._staffHasExplicitTuning=!0,this._staffTuningApplied=!1,this._sy){case ee.String:let s=this._syData.toLowerCase();s==="piano"||s==="none"||s==="voice"?(this._currentStaff.stringTuning.tunings=[],this._currentStaff.displayTranspositionPitch=0):this.error("tuning",ee.Tuning,!0),this._sy=this.newSy();break;case ee.Tuning:let a=[];do{let o=this._syData;a.push(o.realValue),this._sy=this.newSy()}while(this._sy===ee.Tuning);this._currentStaff.stringTuning.tunings=a;break;default:this.error("tuning",ee.Tuning,!0);break}return r!==this._currentStaff.tuning.length&&(((e=this._currentStaff.chords)==null?void 0:e.size)??0)>0&&this.errorMessage("Tuning must be defined before any chord"),!0;case"instrument":if(this._sy=this.newSy(),this._staffTuningApplied=!1,this._sy===ee.Number){let s=this._syData;s>=0&&s<=127?this._currentTrack.playbackInfo.program=this._syData:this.error("instrument",ee.Number,!1)}else if(this._sy===ee.String){let s=this._syData.toLowerCase();this._currentTrack.playbackInfo.program=xo.getValue(s)}else this.error("instrument",ee.Number,!0);return this._sy=this.newSy(),!0;case"lyrics":this._sy=this.newSy();let n=new Qr;return n.startBar=0,n.text="",this._sy===ee.Number&&(n.startBar=this._syData,this._sy=this.newSy()),this._sy===ee.String?(n.text=this._syData,this._sy=this.newSy()):this.error("lyrics",ee.String,!0),this._lyrics.get(this._currentTrack.index).push(n),!0;case"chord":this._sy=this.newSy();let i=new Il;this.chordProperties(i),this._sy===ee.String?(i.name=this._syData,this._sy=this.newSy()):this.error("chord-name",ee.Number,!0);for(let s=0;s<this._currentStaff.tuning.length;s++)this._sy===ee.Number?i.strings.push(this._syData):this._sy===ee.String&&this._syData.toLowerCase()==="x"&&i.strings.push(-1),this._sy=this.newSy();return this._currentStaff.addChord(this.getChordId(this._currentStaff,i.name),i),!0;default:return!1}}chordProperties(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;)switch(this._syData.toLowerCase()){case"firstfret":switch(this._sy=this.newSy(),this._sy){case ee.Number:e.firstFret=this._syData;break;default:this.error("chord-firstfret",ee.Number,!0);break}this._sy=this.newSy();break;case"showdiagram":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showDiagram=this._syData!==0;break;default:this.error("chord-showdiagram",ee.String,!0);break}this._sy=this.newSy();break;case"showfingering":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showFingering=this._syData!==0;break;default:this.error("chord-showfingering",ee.String,!0);break}this._sy=this.newSy();break;case"showname":switch(this._sy=this.newSy(),this._sy){case ee.String:e.showName=this._syData.toLowerCase()!=="false";break;case ee.Number:e.showName=this._syData!==0;break;default:this.error("chord-showname",ee.String,!0);break}this._sy=this.newSy();break;case"barre":for(this._sy=this.newSy();this._sy===ee.Number;)e.barreFrets.push(this._syData),this._sy=this.newSy();break;default:this.error("chord-properties",ee.String,!1);break}this._sy!==ee.RBrace&&this.error("chord-properties",ee.RBrace,!0),this._sy=this.newSy()}}bars(){let e=this.bar();for(;this._sy!==ee.Eof;)if(this._sy===ee.Pipe)this._sy=this.newSy(),this.bar();else if(this._sy===ee.MetaCommand)this.bar();else break;return e}trackStaffMeta(){return this._sy!==ee.MetaCommand?!1:(this._syData.toLowerCase()==="track"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._score.masterBars.length>0&&this.newTrack(),this._sy===ee.String&&(this._currentTrack.name=this._syData,this._sy=this.newSy()),this._sy===ee.String&&(this._currentTrack.shortName=this._syData,this._sy=this.newSy())),this._sy===ee.MetaCommand&&this._syData.toLowerCase()==="staff"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._currentTrack.staves[0].bars.length>0&&(this._currentTrack.ensureStaveCount(this._currentTrack.staves.length+1),this._currentStaff=this._currentTrack.staves[this._currentTrack.staves.length-1],this._currentDynamics=wt.F),this.staffProperties()),!0)}staffProperties(){if(this._sy!==ee.LBrace)return;this._sy=this.newSy();let e=!1,r=!1;for(;this._sy===ee.String;)switch(this._syData.toLowerCase()){case"score":e=!0,this._sy=this.newSy();break;case"tabs":r=!0,this._sy=this.newSy();break;default:this.error("staff-properties",ee.String,!1);break}(e||r)&&(this._currentStaff.showStandardNotation=e,this._currentStaff.showTablature=r),this._sy!==ee.RBrace&&this.error("staff-properties",ee.RBrace,!0),this._sy=this.newSy()}bar(){const e=this.trackStaffMeta();let r=this.newBar(this._currentStaff);if(this._currentStaff.bars.length>this._score.masterBars.length){let a=new Oo;this._score.addMasterBar(a),a.index>0&&(a.keySignature=a.previousMasterBar.keySignature,a.keySignatureType=a.previousMasterBar.keySignatureType,a.timeSignatureDenominator=a.previousMasterBar.timeSignatureDenominator,a.timeSignatureNumerator=a.previousMasterBar.timeSignatureNumerator,a.tripletFeel=a.previousMasterBar.tripletFeel)}const n=this.barMeta(r);if(!this._staffTuningApplied&&!this._staffHasExplicitTuning){const a=this._currentTrack.playbackInfo.program;this._currentStaff.displayTranspositionPitch=0,this._currentStaff.stringTuning.tunings=[],a==15||a>=24&&a<=31?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=Te.getDefaultTuningFor(6).tunings):a>=32&&a<=39?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==40||a==44||a==45||a==48||a==49||a==50||a==51?this._currentStaff.stringTuning.tunings=[52,57,50,43]:a==41?this._currentStaff.stringTuning.tunings=[57,50,43,36]:a==42?this._currentStaff.stringTuning.tunings=[45,38,31,24]:a==43?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==105?this._currentStaff.stringTuning.tunings=[50,47,43,38,55]:a==106?this._currentStaff.stringTuning.tunings=[57,52,45]:a==107?this._currentStaff.stringTuning.tunings=[52,45,38,31]:a==110&&(this._currentStaff.stringTuning.tunings=[64,57,50,43]),this._staffTuningApplied=!0}let i=!1,s=r.voices[0];for(;this._sy!==ee.Pipe&&this._sy!==ee.Eof&&this.beat(s);)i=!0;if(s.beats.length===0){let a=new zn;a.isEmpty=!0,s.addBeat(a)}return e||n||i}newBar(e){let r=new jo;e.addBar(r),r.index>0&&(r.clef=r.previousBar.clef);let n=new ao;return r.addVoice(n),r}beat(e){this.beatDuration();let r=new zn;if(e.addBeat(r),this._sy===ee.LParensis){for(this._sy=this.newSy(),this.note(r);this._sy!==ee.RParensis&&this._sy!==ee.Eof&&this.note(r););this._sy!==ee.RParensis&&this.error("note-list",ee.RParensis,!0),this._sy=this.newSy()}else if(this._sy===ee.String&&this._syData.toLowerCase()==="r")this._sy=this.newSy();else if(!this.note(r))return e.beats.splice(e.beats.length-1,1),!1;this._sy===ee.Dot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ee.Number&&this.error("duration",ee.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._sy=this.newSy()),r.duration=this._currentDuration,r.dynamics=this._currentDynamics,this._currentTuplet!==1&&!r.hasTuplet&&ti.applyTuplet(r,this._currentTuplet);let n=1;this._sy===ee.Multiply&&(this._sy=this.newSy(),this._sy!==ee.Number?this.error("multiplier",ee.Number,!0):n=this._syData,this._sy=this.newSy()),this.beatEffects(r);for(let i=0;i<n-1;i++)e.addBeat(yC.clone(r));return!0}beatDuration(){if(this._sy===ee.DoubleDot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ee.Number&&this.error("duration",ee.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._currentTuplet=1,this._sy=this.newSy(),this._sy===ee.LBrace)){for(this._sy=this.newSy();this._sy===ee.String;)switch(this._syData.toLowerCase()){case"tu":this._sy=this.newSy(),this._sy!==ee.Number&&this.error("duration-tuplet",ee.Number,!0),this._currentTuplet=this._syData,this._sy=this.newSy();break;default:this.error("beat-duration",ee.String,!1);break}this._sy!==ee.RBrace&&this.error("beat-duration",ee.RBrace,!0),this._sy=this.newSy()}}beatEffects(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;)this.applyBeatEffect(e)||this.error("beat-effects",ee.String,!1);this._sy!==ee.RBrace&&this.error("beat-effects",ee.RBrace,!0),this._sy=this.newSy()}}applyBeatEffect(e){let r=this._syData.toLowerCase();if(r==="f")e.fadeIn=!0;else if(r==="v")e.vibrato=At.Slight;else if(r==="s")e.slap=!0;else if(r==="p")e.pop=!0;else if(r==="tt")e.tap=!0;else if(r==="dd")e.dots=2;else if(r==="d")e.dots=1;else if(r==="su")e.pickStroke=Fn.Up;else if(r==="sd")e.pickStroke=Fn.Down;else if(r==="tu"){if(this._sy=this.newSy(),this._sy!==ee.Number)return this.error("tuplet",ee.Number,!0),!1;ti.applyTuplet(e,this._syData)}else if(r==="tb"||r==="tbe"){let n=r==="tbe";for(this._sy=this.newSy(),this._sy!==ee.LParensis&&this.error("tremolobar-effect",ee.LParensis,!0),this._allowNegatives=!0,this._sy=this.newSy();this._sy!==ee.RParensis&&this._sy!==ee.Eof;){let i=0,s=0;n?(this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),i=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),s=this._syData):(this._sy!==ee.Number&&this.error("tremolobar-effect",ee.Number,!0),i=0,s=this._syData),e.addWhammyBarPoint(new Le(i,s)),this._sy=this.newSy()}if(e.whammyBarPoints!=null){for(;e.whammyBarPoints.length>60;)e.removeWhammyBarPoint(e.whammyBarPoints.length-1);if(n)e.whammyBarPoints.sort((i,s)=>i.offset-s.offset);else{let i=e.whammyBarPoints.length,s=60/i|0,a=0;for(;a<i;)e.whammyBarPoints[a].offset=Math.min(60,a*s),a++}}this._allowNegatives=!1,this._sy!==ee.RParensis&&this.error("tremolobar-effect",ee.RParensis,!0)}else if(r==="bu"||r==="bd"||r==="au"||r==="ad"){switch(r){case"bu":e.brushType=or.BrushUp;break;case"bd":e.brushType=or.BrushDown;break;case"au":e.brushType=or.ArpeggioUp;break;case"ad":e.brushType=or.ArpeggioDown;break}return this._sy=this.newSy(),this._sy===ee.Number?(e.brushDuration=this._syData,this._sy=this.newSy(),!0):(e.updateDurations(),r==="bu"||r==="bd"?e.brushDuration=e.playbackDuration/4/e.notes.length:(r==="au"||r==="ad")&&(e.brushDuration=e.playbackDuration/e.notes.length),!0)}else if(r==="ch"){this._sy=this.newSy();let n=this._syData,i=this.getChordId(this._currentStaff,n);if(!this._currentStaff.hasChord(i)){let s=new Il;s.showDiagram=!1,s.name=n,this._currentStaff.addChord(i,s)}e.chordId=i}else{if(r==="gr")return this._sy=this.newSy(),this._syData.toLowerCase()==="ob"?(e.graceType=tt.OnBeat,this._sy=this.newSy()):this._syData.toLowerCase()==="b"?(e.graceType=tt.BendGrace,this._sy=this.newSy()):e.graceType=tt.BeforeBeat,!0;if(r==="dy"){switch(this._sy=this.newSy(),this._syData.toLowerCase()){case"ppp":e.dynamics=wt.PPP;break;case"pp":e.dynamics=wt.PP;break;case"p":e.dynamics=wt.P;break;case"mp":e.dynamics=wt.MP;break;case"mf":e.dynamics=wt.MF;break;case"f":e.dynamics=wt.F;break;case"ff":e.dynamics=wt.FF;break;case"fff":e.dynamics=wt.FFF;break}this._currentDynamics=e.dynamics}else if(r==="cre")e.crescendo=Ti.Crescendo;else if(r==="dec")e.crescendo=Ti.Decrescendo;else if(r==="tp"){if(this._sy=this.newSy(),e.tremoloSpeed=H.Eighth,this._sy===ee.Number){switch(this._syData){case 8:e.tremoloSpeed=H.Eighth;break;case 16:e.tremoloSpeed=H.Sixteenth;break;case 32:e.tremoloSpeed=H.ThirtySecond;break;default:e.tremoloSpeed=H.Eighth;break}this._sy=this.newSy()}return!0}else return!1}return this._sy=this.newSy(),!0}getChordId(e,r){return r.toLowerCase()+e.index+e.track.index}static applyTuplet(e,r){switch(r){case 3:e.tupletNumerator=3,e.tupletDenominator=2;break;case 5:e.tupletNumerator=5,e.tupletDenominator=4;break;case 6:e.tupletNumerator=6,e.tupletDenominator=4;break;case 7:e.tupletNumerator=7,e.tupletDenominator=4;break;case 9:e.tupletNumerator=9,e.tupletDenominator=8;break;case 10:e.tupletNumerator=10,e.tupletDenominator=8;break;case 11:e.tupletNumerator=11,e.tupletDenominator=8;break;case 12:e.tupletNumerator=12,e.tupletDenominator=8;break;default:e.tupletNumerator=1,e.tupletDenominator=1;break}}isNoteText(e){return e==="x"||e==="-"||e==="r"}note(e){let r=!1,n=!1,i=-1,s=-1,a=-1;switch(this._sy){case ee.Number:i=this._syData;break;case ee.String:r=this._syData==="x",n=this._syData==="-",n||r?i=0:this.error("note-fret",ee.Number,!0);break;case ee.Tuning:let u=this._syData;s=u.octave,a=u.noteValue;break;default:return!1}this._sy=this.newSy();let o=s===-1&&this._currentStaff.tuning.length>0,l=-1;o&&(this._sy!==ee.Dot&&this.error("note",ee.Dot,!0),this._sy=this.newSy(),this._sy!==ee.Number&&this.error("note-string",ee.Number,!0),l=this._syData,(l<1||l>this._currentStaff.tuning.length)&&this.error("note-string",ee.Number,!1),this._sy=this.newSy());let c=new Rr;return o?(c.string=this._currentStaff.tuning.length-(l-1),c.isDead=r,c.isTieDestination=n,n||(c.fret=i)):(c.octave=s,c.tone=a,c.isTieDestination=n),e.addNote(c),this.noteEffects(c),!0}noteEffects(e){if(this._sy===ee.LBrace){for(this._sy=this.newSy();this._sy===ee.String;){let r=this._syData.toLowerCase();if(r==="b"||r==="be"){let n=r==="be";for(this._sy=this.newSy(),this._sy!==ee.LParensis&&this.error("bend-effect",ee.LParensis,!0),this._sy=this.newSy();this._sy!==ee.RParensis&&this._sy!==ee.Eof;){let s=0,a=0;n?(this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),s=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),a=this._syData):(this._sy!==ee.Number&&this.error("bend-effect-value",ee.Number,!0),a=this._syData),e.addBendPoint(new Le(s,a)),this._sy=this.newSy()}const i=e.bendPoints;if(i!=null){for(;i.length>60;)i.splice(i.length-1,1);if(n)i.sort((s,a)=>s.offset-a.offset);else{let s=i.length,a=60/(s-1)|0,o=0;for(;o<s;)i[o].offset=Math.min(60,o*a),o++}}this._sy!==ee.RParensis&&this.error("bend-effect",ee.RParensis,!0),this._sy=this.newSy()}else if(r==="nh")e.harmonicType=Qe.Natural,this._sy=this.newSy();else if(r==="ah")e.harmonicType=Qe.Artificial,this._sy=this.newSy();else if(r==="th")e.harmonicType=Qe.Tap,this._sy=this.newSy();else if(r==="ph")e.harmonicType=Qe.Pinch,this._sy=this.newSy();else if(r==="sh")e.harmonicType=Qe.Semi,this._sy=this.newSy();else if(r==="tr"){this._sy=this.newSy(),this._sy!==ee.Number&&this.error("trill-effect",ee.Number,!0);let n=this._syData;this._sy=this.newSy();let i=H.Sixteenth;if(this._sy===ee.Number){switch(this._syData){case 16:i=H.Sixteenth;break;case 32:i=H.ThirtySecond;break;case 64:i=H.SixtyFourth;break;default:i=H.Sixteenth;break}this._sy=this.newSy()}e.trillValue=n+e.stringTuning,e.trillSpeed=i}else if(r==="v")this._sy=this.newSy(),e.vibrato=At.Slight;else if(r==="sl")this._sy=this.newSy(),e.slideOutType=ft.Legato;else if(r==="ss")this._sy=this.newSy(),e.slideOutType=ft.Shift;else if(r==="sib")this._sy=this.newSy(),e.slideInType=kn.IntoFromBelow;else if(r==="sia")this._sy=this.newSy(),e.slideInType=kn.IntoFromAbove;else if(r==="sou")this._sy=this.newSy(),e.slideOutType=ft.OutUp;else if(r==="sod")this._sy=this.newSy(),e.slideOutType=ft.OutDown;else if(r==="psd")this._sy=this.newSy(),e.slideOutType=ft.PickSlideDown;else if(r==="psu")this._sy=this.newSy(),e.slideOutType=ft.PickSlideUp;else if(r==="h")this._sy=this.newSy(),e.isHammerPullOrigin=!0;else if(r==="lht")this._sy=this.newSy(),e.isLeftHandTapped=!0;else if(r==="g")this._sy=this.newSy(),e.isGhost=!0;else if(r==="ac")this._sy=this.newSy(),e.accentuated=en.Normal;else if(r==="hac")this._sy=this.newSy(),e.accentuated=en.Heavy;else if(r==="pm")this._sy=this.newSy(),e.isPalmMute=!0;else if(r==="st")this._sy=this.newSy(),e.isStaccato=!0;else if(r==="lr")this._sy=this.newSy(),e.isLetRing=!0;else if(r==="x")this._sy=this.newSy(),e.fret=0,e.isDead=!0;else if(r==="-"||r==="t")this._sy=this.newSy(),e.isTieDestination=!0;else if(r==="lf"){this._sy=this.newSy();let n=lt.Thumb;this._sy===ee.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.leftHandFinger=n}else if(r==="rf"){this._sy=this.newSy();let n=lt.Thumb;this._sy===ee.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.rightHandFinger=n}else this.applyBeatEffect(e.beat)||this.error(r,ee.String,!1)}this._sy!==ee.RBrace&&this.error("note-effect",ee.RBrace,!1),this._sy=this.newSy()}}toFinger(e){switch(e){case 1:return lt.Thumb;case 2:return lt.IndexFinger;case 3:return lt.MiddleFinger;case 4:return lt.AnnularFinger;case 5:return lt.LittleFinger}return lt.Thumb}parseDuration(e){switch(e){case-4:return H.QuadrupleWhole;case-2:return H.DoubleWhole;case 1:return H.Whole;case 2:return H.Half;case 4:return H.Quarter;case 8:return H.Eighth;case 16:return H.Sixteenth;case 32:return H.ThirtySecond;case 64:return H.SixtyFourth;case 128:return H.OneHundredTwentyEighth;case 256:return H.TwoHundredFiftySixth;default:return H.Quarter}}barMeta(e){let r=!1,n=e.masterBar;for(;this._sy===ee.MetaCommand;){r=!0;let i=this._syData.toLowerCase();if(i==="ts")this._sy=this.newSy(),this._sy!==ee.Number&&this.error("timesignature-numerator",ee.Number,!0),n.timeSignatureNumerator=this._syData,this._sy=this.newSy(),this._sy!==ee.Number&&this.error("timesignature-denominator",ee.Number,!0),n.timeSignatureDenominator=this._syData,this._sy=this.newSy();else if(i==="ro")n.isRepeatStart=!0,this._sy=this.newSy();else if(i==="rc")this._sy=this.newSy(),this._sy!==ee.Number&&this.error("repeatclose",ee.Number,!0),this._syData>2048&&this.error("repeatclose",ee.Number,!1),n.repeatCount=this._syData,this._sy=this.newSy();else if(i==="ae")if(this._sy=this.newSy(),this._sy===ee.LParensis){for(this._sy=this.newSy(),this._sy!==ee.Number&&this.error("alternateending",ee.Number,!0),this.applyAlternateEnding(n);this._sy===ee.Number;)this.applyAlternateEnding(n);this._sy!==ee.RParensis&&this.error("alternateending-list",ee.RParensis,!0),this._sy=this.newSy()}else this._sy!==ee.Number&&this.error("alternateending",ee.Number,!0),this.applyAlternateEnding(n);else if(i==="ks")this._sy=this.newSy(),this._sy!==ee.String&&this.error("keysignature",ee.String,!0),n.keySignature=this.parseKeySignature(this._syData),this._sy=this.newSy();else if(i==="clef"){switch(this._sy=this.newSy(),this._sy){case ee.String:e.clef=this.parseClefFromString(this._syData);break;case ee.Number:e.clef=this.parseClefFromInt(this._syData);break;case ee.Tuning:let s=this._syData;e.clef=this.parseClefFromInt(s.realValue);break;default:this.error("clef",ee.String,!0);break}this._sy=this.newSy()}else if(i==="tempo"){this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy!==ee.Number&&this.error("tempo",ee.Number,!0);let s=new $n;s.isLinear=!1,s.type=mn.Tempo,s.value=this._syData,n.tempoAutomation=s,this._sy=this.newSy()}else if(i==="section"){this._sy=this.newSy(),this._sy!==ee.String&&this.error("section",ee.String,!0);let s=this._syData;this._sy=this.newSy();let a="";this._sy===ee.String&&!this.isNoteText(this._syData.toLowerCase())&&(a=s,s=this._syData,this._sy=this.newSy());let o=new Lb;o.marker=a,o.text=s,n.section=o}else if(i==="tf"){switch(this._allowTuning=!1,this._sy=this.newSy(),this._allowTuning=!0,this._sy){case ee.String:n.tripletFeel=this.parseTripletFeelFromString(this._syData);break;case ee.Number:n.tripletFeel=this.parseTripletFeelFromInt(this._syData);break;default:this.error("triplet-feel",ee.String,!0);break}this._sy=this.newSy()}else i==="ac"?(n.isAnacrusis=!0,this._sy=this.newSy()):e.index===0?this.handleStaffMeta()||this.error("measure-effects",ee.String,!1):this.error("measure-effects",ee.String,!1)}if(n.index===0&&!n.tempoAutomation){let i=new $n;i.isLinear=!1,i.type=mn.Tempo,i.value=this._score.tempo,n.tempoAutomation=i}return r}applyAlternateEnding(e){let r=this._syData;r<1&&this.error("alternateending",ee.Number,!0),e.alternateEndings|=1<<r-1,this._sy=this.newSy()}}ti.Eof=0;class Wa extends Wd{get name(){return"Guitar Pro 3-5"}constructor(){super(),this._versionNumber=0,this._globalTripletFeel=vt.NoTripletFeel,this._lyricsTrack=0,this._lyrics=[],this._barCount=0,this._trackCount=0,this._playbackInfos=[],this._beatTextChunksByTrack=new Map}readScore(){return this.readVersion(),this._score=new Jc,this.readScoreInformation(),this._versionNumber<500&&(this._globalTripletFeel=It.gpReadBool(this.data)?vt.Triplet8th:vt.NoTripletFeel),this._versionNumber>=400&&this.readLyrics(),this._versionNumber>=510&&this.data.skip(19),this._versionNumber>=500&&(this.readPageSetup(),this._score.tempoLabel=It.gpReadStringIntByte(this.data,this.settings.importer.encoding)),this._score.tempo=ue.readInt32LE(this.data),this._versionNumber>=510&&It.gpReadBool(this.data),ue.readInt32LE(this.data),this._versionNumber>=400&&this.data.readByte(),this.readPlaybackInfos(),this._versionNumber>=500&&(this.data.skip(38),this.data.skip(4)),this._barCount=ue.readInt32LE(this.data),this._trackCount=ue.readInt32LE(this.data),this.readMasterBars(),this.readTracks(),this.readBars(),this._score.masterBars.length>0&&(this._score.masterBars[0].tempoAutomation=$n.buildTempoAutomation(!1,0,this._score.tempo,2),this._score.masterBars[0].tempoAutomation.text=this._score.tempoLabel),this._score.finish(this.settings),this._lyrics&&this._lyricsTrack>=0&&this._score.tracks[this._lyricsTrack].applyLyrics(this._lyrics),this._score}readVersion(){let e=It.gpReadStringByteLength(this.data,30,this.settings.importer.encoding);if(!e.startsWith(Wa.VersionString))throw new Zr("Unsupported format");e=e.substr(Wa.VersionString.length+1);let r=e.indexOf(".");this._versionNumber=100*parseInt(e.substr(0,r))+parseInt(e.substr(r+1)),ve.debug(this.name,"Guitar Pro version "+e+" detected")}readScoreInformation(){var n;this._score.title=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.subTitle=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.artist=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.album=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.words=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.music=this._versionNumber>=500?It.gpReadStringIntUnused(this.data,this.settings.importer.encoding):this._score.words,this._score.copyright=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.tab=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.instructions=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding);let e=ue.readInt32LE(this.data),r="";for(let i=0;i<e;i++)i>0&&(r+=`\r
`),r+=(n=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding))==null?void 0:n.toString();this._score.notices=r}readLyrics(){this._lyrics=[],this._lyricsTrack=ue.readInt32LE(this.data)-1;for(let e=0;e<5;e++){let r=new Qr;r.startBar=ue.readInt32LE(this.data)-1,r.text=It.gpReadStringInt(this.data,this.settings.importer.encoding),this._lyrics.push(r)}}readPageSetup(){this.data.skip(30);for(let e=0;e<10;e++)It.gpReadStringIntByte(this.data,this.settings.importer.encoding)}readPlaybackInfos(){this._playbackInfos=[];for(let e=0;e<64;e++){let r=new nA;r.primaryChannel=e,r.secondaryChannel=e,r.program=ue.readInt32LE(this.data),r.volume=this.data.readByte(),r.balance=this.data.readByte(),this.data.skip(6),this._playbackInfos.push(r)}}readMasterBars(){for(let e=0;e<this._barCount;e++)this.readMasterBar()}readMasterBar(){let e=null;this._score.masterBars.length>0&&(e=this._score.masterBars[this._score.masterBars.length-1]);let r=new Oo,n=this.data.readByte();if(n&1?r.timeSignatureNumerator=this.data.readByte():e&&(r.timeSignatureNumerator=e.timeSignatureNumerator),n&2?r.timeSignatureDenominator=this.data.readByte():e&&(r.timeSignatureDenominator=e.timeSignatureDenominator),r.isRepeatStart=(n&4)!==0,n&8&&(r.repeatCount=this.data.readByte()+(this._versionNumber>=500?0:1)),n&16&&this._versionNumber<500){let i=e,s=0;for(;i&&!(i.isRepeatEnd&&i!==e||i.isRepeatStart);)s=s|i.alternateEndings,i=i.previousMasterBar;let a=0,o=this.data.readByte();for(let l=0;l<8;l++){let c=1<<l;o>l&&!(s&c)&&(a=a|c)}r.alternateEndings=a}if(n&32){let i=new Lb;i.text=It.gpReadStringIntByte(this.data,this.settings.importer.encoding),i.marker="",It.gpReadColor(this.data,!1),r.section=i}if(n&64?(r.keySignature=ue.readSInt8(this.data),r.keySignatureType=this.data.readByte()):e&&(r.keySignature=e.keySignature,r.keySignatureType=e.keySignatureType),this._versionNumber>=500&&n&3&&this.data.skip(4),this._versionNumber>=500&&(r.alternateEndings=this.data.readByte()),this._versionNumber>=500){switch(this.data.readByte()){case 1:r.tripletFeel=vt.Triplet8th;break;case 2:r.tripletFeel=vt.Triplet16th;break}this.data.readByte()}else r.tripletFeel=this._globalTripletFeel;r.isDoubleBar=(n&128)!==0,this._score.addMasterBar(r)}readTracks(){for(let e=0;e<this._trackCount;e++)this.readTrack()}readTrack(){let e=new so;e.ensureStaveCount(1),this._score.addTrack(e);let r=e.staves[0],n=this.data.readByte();e.name=It.gpReadStringByteLength(this.data,40,this.settings.importer.encoding),n&1&&(r.isPercussion=!0);let i=ue.readInt32LE(this.data),s=[];for(let c=0;c<7;c++){let u=ue.readInt32LE(this.data);i>c&&s.push(u)}r.stringTuning.tunings=s;let a=ue.readInt32LE(this.data),o=ue.readInt32LE(this.data)-1,l=ue.readInt32LE(this.data)-1;if(this.data.skip(4),o>=0&&o<this._playbackInfos.length){let c=this._playbackInfos[o];c.port=a,c.isSolo=(n&16)!==0,c.isMute=(n&32)!==0,c.secondaryChannel=l,xo.isGuitar(c.program)&&(r.displayTranspositionPitch=-12),e.playbackInfo=c}r.capo=ue.readInt32LE(this.data),e.color=It.gpReadColor(this.data,!1),this._versionNumber>=500&&(this.data.readByte(),this.data.readByte(),this.data.skip(43)),this._versionNumber>=510&&(this.data.skip(4),It.gpReadStringIntByte(this.data,this.settings.importer.encoding),It.gpReadStringIntByte(this.data,this.settings.importer.encoding))}readBars(){for(let e=0;e<this._barCount;e++)for(let r=0;r<this._trackCount;r++)this.readBar(this._score.tracks[r])}readBar(e){let r=new jo,n=e.staves[0];n.isPercussion&&(r.clef=ct.Neutral),n.addBar(r);let i=1;this._versionNumber>=500&&(this.data.readByte(),i=2);for(let s=0;s<i;s++)this.readVoice(e,r)}readVoice(e,r){let n=ue.readInt32LE(this.data);if(n===0)return;let i=new ao;r.addVoice(i);for(let s=0;s<n;s++)this.readBeat(e,r,i)}readBeat(e,r,n){let i=new zn,s=this.data.readByte();if(s&1&&(i.dots=1),s&64){let u=this.data.readByte();i.isEmpty=(u&2)===0}switch(n.addBeat(i),ue.readSInt8(this.data)){case-2:i.duration=H.Whole;break;case-1:i.duration=H.Half;break;case 0:i.duration=H.Quarter;break;case 1:i.duration=H.Eighth;break;case 2:i.duration=H.Sixteenth;break;case 3:i.duration=H.ThirtySecond;break;case 4:i.duration=H.SixtyFourth;break;default:i.duration=H.Quarter;break}if(s&32)switch(i.tupletNumerator=ue.readInt32LE(this.data),i.tupletNumerator){case 1:i.tupletDenominator=1;break;case 3:i.tupletDenominator=2;break;case 5:case 6:case 7:i.tupletDenominator=4;break;case 9:case 10:case 11:case 12:case 13:i.tupletDenominator=8;break;case 2:case 4:case 8:break;default:i.tupletNumerator=1,i.tupletDenominator=1;break}s&2&&this.readChord(i);let o=this.settings.importer.beatTextAsLyrics&&e.index!==this._lyricsTrack;if(s&4){const u=It.gpReadStringIntUnused(this.data,this.settings.importer.encoding);if(o){const d=new Qr;d.text=u.trim(),d.finish(!0);const h=[];for(let p=d.chunks.length-1;p>=0;p--)h.push(d.chunks[p]);this._beatTextChunksByTrack.set(e.index,h)}else i.text=u}let l=Qe.None;s&8&&(l=this.readBeatEffects(i)),s&16&&this.readMixTableChange(i);let c=this.data.readByte();for(let u=6;u>=0;u--)if(c&1<<u&&6-u<r.staff.tuning.length){const d=this.readNote(e,r,n,i,6-u);l!==Qe.None&&(d.harmonicType=l,d.harmonicType===Qe.Natural&&(d.harmonicValue=this.deltaFretToHarmonicValue(d.fret)))}this._versionNumber>=500&&(this.data.readByte(),this.data.readByte()&8&&this.data.readByte()),o&&!i.isRest&&this._beatTextChunksByTrack.has(e.index)&&this._beatTextChunksByTrack.get(e.index).length>0&&(i.lyrics=[this._beatTextChunksByTrack.get(e.index).pop()])}readChord(e){let r=new Il,n=ir.newGuid();if(this._versionNumber>=500){this.data.skip(17),r.name=It.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=ue.readInt32LE(this.data);for(let a=0;a<7;a++){let o=ue.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else if(this.data.readByte()!==0)if(this._versionNumber>=400){this.data.skip(16),r.name=It.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=ue.readInt32LE(this.data);for(let a=0;a<7;a++){let o=ue.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else{this.data.skip(25),r.name=It.gpReadStringByteLength(this.data,34,this.settings.importer.encoding),r.firstFret=ue.readInt32LE(this.data);for(let i=0;i<6;i++){let s=ue.readInt32LE(this.data);i<e.voice.bar.staff.tuning.length&&r.strings.push(s)}this.data.skip(36)}else{let i=this._versionNumber>=406?7:6;if(r.name=It.gpReadStringIntByte(this.data,this.settings.importer.encoding),r.firstFret=ue.readInt32LE(this.data),r.firstFret>0)for(let s=0;s<i;s++){let a=ue.readInt32LE(this.data);s<e.voice.bar.staff.tuning.length&&r.strings.push(a)}}r.name&&(e.chordId=n,e.voice.bar.staff.addChord(e.chordId,r))}readBeatEffects(e){let r=this.data.readByte(),n=0;if(this._versionNumber>=400&&(n=this.data.readByte()),e.fadeIn=(r&16)!==0,(this._versionNumber<400&&r&1||r&2)&&(e.vibrato=At.Slight),e.hasRasgueado=(n&1)!==0,r&32&&this._versionNumber>=400)switch(ue.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}else if(r&32){switch(ue.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}this.data.skip(4)}if(n&4&&this.readTremoloBarEffect(e),r&64){let i=0,s=0;this._versionNumber<500?(s=this.data.readByte(),i=this.data.readByte()):(i=this.data.readByte(),s=this.data.readByte()),i>0?(e.brushType=or.BrushUp,e.brushDuration=Wa.toStrokeValue(i)):s>0&&(e.brushType=or.BrushDown,e.brushDuration=Wa.toStrokeValue(s))}if(n&2)switch(ue.readSInt8(this.data)){case 0:e.pickStroke=Fn.None;break;case 1:e.pickStroke=Fn.Up;break;case 2:e.pickStroke=Fn.Down;break}if(this._versionNumber<400){if(r&4)return Qe.Natural;if(r&8)return Qe.Artificial}return Qe.None}readTremoloBarEffect(e){this.data.readByte(),ue.readInt32LE(this.data);let r=ue.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Le(0,0);i.offset=ue.readInt32LE(this.data),i.value=ue.readInt32LE(this.data)/Wa.BendStep|0,It.gpReadBool(this.data),e.addWhammyBarPoint(i)}}static toStrokeValue(e){switch(e){case 1:return 30;case 2:return 30;case 3:return 60;case 4:return 120;case 5:return 240;case 6:return 480;default:return 0}}readMixTableChange(e){let r=new Mse;r.instrument=ue.readSInt8(this.data),this._versionNumber>=500&&this.data.skip(16),r.volume=ue.readSInt8(this.data),r.balance=ue.readSInt8(this.data);let n=ue.readSInt8(this.data),i=ue.readSInt8(this.data),s=ue.readSInt8(this.data),a=ue.readSInt8(this.data);if(this._versionNumber>=500&&(r.tempoName=It.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.tempo=ue.readInt32LE(this.data),r.volume>=0&&this.data.readByte(),r.balance>=0&&this.data.readByte(),n>=0&&this.data.readByte(),i>=0&&this.data.readByte(),s>=0&&this.data.readByte(),a>=0&&this.data.readByte(),r.tempo>=0&&(r.duration=ue.readSInt8(this.data),this._versionNumber>=510&&this.data.readByte()),this._versionNumber>=400&&this.data.readByte(),this._versionNumber>=500&&this.data.readByte(),this._versionNumber>=510&&(It.gpReadStringIntByte(this.data,this.settings.importer.encoding),It.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.volume>=0){let o=new $n;o.isLinear=!0,o.type=mn.Volume,o.value=r.volume,e.automations.push(o)}if(r.balance>=0){let o=new $n;o.isLinear=!0,o.type=mn.Balance,o.value=r.balance,e.automations.push(o)}if(r.instrument>=0){let o=new $n;o.isLinear=!0,o.type=mn.Instrument,o.value=r.instrument,e.automations.push(o)}if(r.tempo>=0){let o=new $n;o.isLinear=!0,o.type=mn.Tempo,o.value=r.tempo,e.automations.push(o),e.voice.bar.masterBar.tempoAutomation=o}}readNote(e,r,n,i,s){let a=new Rr;a.string=r.staff.tuning.length-s;let o=this.data.readByte();if(o&2?a.accentuated=en.Heavy:o&64&&(a.accentuated=en.Normal),a.isGhost=(o&4)!==0,o&32){let c=this.data.readByte();c===3?a.isDead=!0:c===2&&(a.isTieDestination=!0)}if(o&1&&this._versionNumber<500&&(this.data.readByte(),this.data.readByte()),o&16){let c=ue.readSInt8(this.data);a.dynamics=this.toDynamicValue(c),i.dynamics=a.dynamics}o&32&&(a.fret=ue.readSInt8(this.data)),o&128&&(a.leftHandFinger=ue.readSInt8(this.data),a.rightHandFinger=ue.readSInt8(this.data),a.isFingering=!0);let l=!1;if(this._versionNumber>=500&&(o&1&&(a.durationPercent=It.gpReadDouble(this.data)),l=(this.data.readByte()&2)!==0),i.addNote(a),o&8&&this.readNoteEffects(e,n,i,a),r.staff.isPercussion&&(a.percussionArticulation=a.fret,a.string=-1,a.fret=-1),l){const c=Te.defaultAccidentals[a.realValueWithoutHarmonic%12];c==="#"?a.accidentalMode=jr.ForceFlat:c==="b"&&(a.accidentalMode=jr.ForceSharp)}return a}toDynamicValue(e){switch(e){case 1:return wt.PPP;case 2:return wt.PP;case 3:return wt.P;case 4:return wt.MP;case 5:return wt.MF;case 6:return wt.F;case 7:return wt.FF;case 8:return wt.FFF;default:return wt.F}}readNoteEffects(e,r,n,i){let s=this.data.readByte(),a=0;this._versionNumber>=400&&(a=this.data.readByte()),s&1&&this.readBend(i),s&16&&this.readGrace(r,i),a&4&&this.readTremoloPicking(n),a&8?this.readSlide(i):this._versionNumber<400&&s&4&&(i.slideOutType=ft.Shift),a&16&&this.readArtificialHarmonic(i),a&32&&this.readTrill(i),i.isLetRing=(s&8)!==0,i.isHammerPullOrigin=(s&2)!==0,a&64&&(i.vibrato=At.Slight),i.isPalmMute=(a&2)!==0,i.isStaccato=(a&1)!==0}readBend(e){this.data.readByte(),ue.readInt32LE(this.data);let r=ue.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Le(0,0);i.offset=ue.readInt32LE(this.data),i.value=ue.readInt32LE(this.data)/Wa.BendStep|0,It.gpReadBool(this.data),e.addBendPoint(i)}}readGrace(e,r){let n=new zn,i=new Rr;switch(i.string=r.string,i.fret=ue.readSInt8(this.data),n.duration=H.ThirtySecond,n.dynamics=this.toDynamicValue(ue.readSInt8(this.data)),ue.readSInt8(this.data)){case 0:break;case 1:i.slideOutType=ft.Legato,i.slideTarget=r;break;case 2:break;case 3:i.isHammerPullOrigin=!0;break}if(i.dynamics=n.dynamics,this.data.skip(1),this._versionNumber<500)n.graceType=tt.BeforeBeat;else{let a=this.data.readByte();i.isDead=(a&1)!==0,n.graceType=a&2?tt.OnBeat:tt.BeforeBeat}e.addGraceBeat(n),n.addNote(i)}readTremoloPicking(e){switch(this.data.readByte()){case 1:e.tremoloSpeed=H.Eighth;break;case 2:e.tremoloSpeed=H.Sixteenth;break;case 3:e.tremoloSpeed=H.ThirtySecond;break}}readSlide(e){if(this._versionNumber>=500){let r=ue.readSInt8(this.data);r&1?e.slideOutType=ft.Shift:r&2?e.slideOutType=ft.Legato:r&4?e.slideOutType=ft.OutDown:r&8&&(e.slideOutType=ft.OutUp),r&16?e.slideInType=kn.IntoFromBelow:r&32&&(e.slideInType=kn.IntoFromAbove)}else switch(ue.readSInt8(this.data)){case 1:e.slideOutType=ft.Shift;break;case 2:e.slideOutType=ft.Legato;break;case 3:e.slideOutType=ft.OutDown;break;case 4:e.slideOutType=ft.OutUp;break;case-1:e.slideInType=kn.IntoFromBelow;break;case-2:e.slideInType=kn.IntoFromAbove;break}}readArtificialHarmonic(e){let r=this.data.readByte();if(this._versionNumber>=500)switch(r){case 1:e.harmonicType=Qe.Natural,e.harmonicValue=this.deltaFretToHarmonicValue(e.fret);break;case 2:this.data.readByte(),this.data.readByte(),this.data.readByte(),e.harmonicType=Qe.Artificial;break;case 3:e.harmonicType=Qe.Tap,e.harmonicValue=this.deltaFretToHarmonicValue(this.data.readByte());break;case 4:e.harmonicType=Qe.Pinch,e.harmonicValue=12;break;case 5:e.harmonicType=Qe.Semi,e.harmonicValue=12;break}else if(this._versionNumber>=400)switch(r){case 1:e.harmonicType=Qe.Natural;break;case 3:e.harmonicType=Qe.Tap;break;case 4:e.harmonicType=Qe.Pinch;break;case 5:e.harmonicType=Qe.Semi;break;case 15:e.harmonicType=Qe.Artificial;break;case 17:e.harmonicType=Qe.Artificial;break;case 22:e.harmonicType=Qe.Artificial;break}}deltaFretToHarmonicValue(e){switch(e){case 2:return 2.4;case 3:return 3.2;case 4:case 5:case 7:case 9:case 12:case 16:case 17:case 19:case 24:return e;case 8:return 8.2;case 10:return 9.6;case 14:case 15:return 14.7;case 21:case 22:return 21.7;default:return 12}}readTrill(e){switch(e.trillValue=this.data.readByte()+e.stringTuning,this.data.readByte()){case 1:e.trillSpeed=H.Sixteenth;break;case 2:e.trillSpeed=H.ThirtySecond;break;case 3:e.trillSpeed=H.SixtyFourth;break}}}Wa.VersionString="FICHIER GUITAR PRO ";Wa.BendStep=25;class It{static gpReadDouble(e){let r=new Uint8Array(8);return e.read(r,0,r.length),new Float64Array(r.buffer)[0]}static gpReadFloat(e){let r=new Uint8Array(4);return r[3]=e.readByte(),r[2]=e.readByte(),r[2]=e.readByte(),r[1]=e.readByte(),new Float32Array(r.buffer)[0]}static gpReadColor(e,r=!1){let n=e.readByte(),i=e.readByte(),s=e.readByte(),a=255;return r?a=e.readByte():e.skip(1),new Sr(n,i,s,a)}static gpReadBool(e){return e.readByte()!==0}static gpReadStringIntUnused(e,r){return e.skip(4),It.gpReadString(e,e.readByte(),r)}static gpReadStringInt(e,r){return It.gpReadString(e,ue.readInt32LE(e),r)}static gpReadStringIntByte(e,r){let n=ue.readInt32LE(e)-1;return e.readByte(),It.gpReadString(e,n,r)}static gpReadString(e,r,n){let i=new Uint8Array(r);return e.read(i,0,i.length),ue.toString(i,n)}static gpWriteString(e,r){const n=ue.stringToBytes(r);e.writeByte(r.length),e.write(n,0,n.length)}static gpReadStringByteLength(e,r,n){let i=e.readByte(),s=It.gpReadString(e,i,n);return i<r&&e.skip(r-i),s}}class Mse{constructor(){this.volume=-1,this.balance=-1,this.instrument=-1,this.tempoName="",this.tempo=-1,this.duration=-1}}class Si{constructor(){this.x=0,this.y=0,this.w=0,this.h=0}}var ia;(function(t){t[t.Boolean=0]="Boolean",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Point=4]="Point",t[t.Size=5]="Size",t[t.Rectangle=6]="Rectangle",t[t.Color=7]="Color"})(ia||(ia={}));class Ib{constructor(e){this.raw=new Map;let r=Wn.fromBuffer(e),n=ue.readInt32BE(r);for(let i=0;i<n;i++){let s=It.gpReadString(r,r.readByte(),"utf-8");switch(r.readByte()){case ia.Boolean:let o=r.readByte()===1;this.addValue(s,o);break;case ia.Integer:let l=ue.readInt32BE(r);this.addValue(s,l);break;case ia.Float:let c=It.gpReadFloat(r);this.addValue(s,c);break;case ia.String:let u=It.gpReadString(r,ue.readInt16BE(r),"utf-8");this.addValue(s,u);break;case ia.Point:let d=ue.readInt32BE(r),h=ue.readInt32BE(r);this.addValue(s,new Le(d,h));break;case ia.Size:let p=ue.readInt32BE(r),f=ue.readInt32BE(r);this.addValue(s,new Le(p,f));break;case ia.Rectangle:let m=new Si;m.x=ue.readInt32BE(r),m.y=ue.readInt32BE(r),m.w=ue.readInt32BE(r),m.h=ue.readInt32BE(r),this.addValue(s,m);break;case ia.Color:let g=It.gpReadColor(r,!0);this.addValue(s,g);break}}}apply(e){for(const[r,n]of this.raw)switch(r){case"StandardNotation/hideDynamics":e.stylesheet.hideDynamics=n;break}}addValue(e,r){this.raw.set(e,r)}static writeForScore(e){const r=Wn.withCapacity(128);return ue.writeInt32BE(r,1),Ib.writeBooleanEntry(r,"StandardNotation/hideDynamics",e.stylesheet.hideDynamics),r.toArray()}static writeBooleanEntry(e,r,n){It.gpWriteString(e,r),e.writeByte(ia.Boolean),e.writeByte(n?1:0)}}var Ta;(function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long"})(Ta||(Ta={}));class bC{constructor(){this.type=Ta.Short,this.length=0}}var be;(function(t){t[t.None=0]="None",t[t.Element=1]="Element",t[t.Text=2]="Text",t[t.CDATA=3]="CDATA",t[t.Document=4]="Document",t[t.DocumentType=5]="DocumentType"})(be||(be={}));class ha{constructor(){this.nodeType=be.None,this.localName=null,this.value=null,this.childNodes=[],this.attributes=new Map,this.firstChild=null,this.firstElement=null}addChild(e){this.childNodes.push(e),this.firstChild=e,(e.nodeType===be.Element||e.nodeType===be.CDATA)&&(this.firstElement=e)}getAttribute(e){return this.attributes.has(e)?this.attributes.get(e):""}getElementsByTagName(e,r=!1){let n=[];return this.searchElementsByTagName(this.childNodes,n,e,r),n}searchElementsByTagName(e,r,n,i=!1){for(let s of e)s&&s.nodeType===be.Element&&s.localName===n&&r.push(s),i&&this.searchElementsByTagName(s.childNodes,r,n,!0)}findChildElement(e){for(let r of this.childNodes)if(r&&r.nodeType===be.Element&&r.localName===e)return r;return null}addElement(e){const r=new ha;return r.nodeType=be.Element,r.localName=e,this.addChild(r),r}get innerText(){var e;if(this.nodeType===be.Element||this.nodeType===be.Document){if(this.firstElement&&this.firstElement.nodeType===be.CDATA)return this.firstElement.innerText;let r="";for(let i of this.childNodes)r+=(e=i.innerText)==null?void 0:e.toString();return r.trim()}return this.value??""}set innerText(e){const r=new ha;r.nodeType=be.Text,r.value=e,this.childNodes=[r]}setCData(e){const r=new ha;r.nodeType=be.CDATA,r.value=e,this.childNodes=[r]}}class yi extends Tn{constructor(e,r,n){super(Cn.Format,e),this.pos=0,this.xml=r,this.pos=n,Object.setPrototypeOf(this,yi.prototype)}}var at;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.BeginNode=2]="BeginNode",t[t.TagName=3]="TagName",t[t.Body=4]="Body",t[t.AttribName=5]="AttribName",t[t.Equals=6]="Equals",t[t.AttvalBegin=7]="AttvalBegin",t[t.AttribVal=8]="AttribVal",t[t.Childs=9]="Childs",t[t.Close=10]="Close",t[t.WaitEnd=11]="WaitEnd",t[t.WaitEndRet=12]="WaitEndRet",t[t.Pcdata=13]="Pcdata",t[t.Header=14]="Header",t[t.Comment=15]="Comment",t[t.Doctype=16]="Doctype",t[t.Cdata=17]="Cdata",t[t.Escape=18]="Escape"})(at||(at={}));class We{static parse(e,r,n){let i=e.charCodeAt(r),s=at.Begin,a=at.Begin,o=0,l="",c=at.Begin,u=null,d=null,h=0,p=0;for(;r<e.length;){switch(i=e.charCodeAt(r),s){case at.IgnoreSpaces:switch(i){case We.CharCodeLF:case We.CharCodeCR:case We.CharCodeTab:case We.CharCodeSpace:break;default:s=a;continue}break;case at.Begin:switch(i){case We.CharCodeLowerThan:s=at.IgnoreSpaces,a=at.BeginNode;break;default:o=r,s=at.Pcdata;continue}break;case at.Pcdata:if(i===We.CharCodeLowerThan){l+=e.substr(o,r-o);let f=new ha;f.nodeType=be.Text,f.value=l,l="",n.addChild(f),s=at.IgnoreSpaces,a=at.BeginNode}else i===We.CharCodeAmp&&(l+=e.substr(o,r-o),s=at.Escape,c=at.Pcdata,o=r+1);break;case at.Cdata:if(i===We.CharCodeBrackedClose&&e.charCodeAt(r+1)===We.CharCodeBrackedClose&&e.charCodeAt(r+2)===We.CharCodeGreaterThan){let f=new ha;f.nodeType=be.CDATA,f.value=e.substr(o,r-o),n.addChild(f),r+=2,s=at.Begin}break;case at.BeginNode:switch(i){case We.CharCodeExclamation:if(e.charCodeAt(r+1)===We.CharCodeBrackedOpen){if(r+=2,e.substr(r,6).toUpperCase()!=="CDATA[")throw new yi("Expected <![CDATA[",e,r);r+=5,s=at.Cdata,o=r+1}else if(e.charCodeAt(r+1)===We.CharCodeUpperD||e.charCodeAt(r+1)===We.CharCodeLowerD){if(e.substr(r+2,6).toUpperCase()!=="OCTYPE")throw new yi("Expected <!DOCTYPE",e,r);r+=8,s=at.Doctype,o=r+1}else{if(e.charCodeAt(r+1)!==We.CharCodeMinus||e.charCodeAt(r+2)!==We.CharCodeMinus)throw new yi("Expected <!--",e,r);r+=2,s=at.Comment,o=r+1}break;case We.CharCodeQuestion:s=at.Header,o=r;break;case We.CharCodeSlash:if(!n)throw new yi("Expected node name",e,r);o=r+1,s=at.IgnoreSpaces,a=at.Close;break;default:s=at.TagName,o=r;continue}break;case at.TagName:if(!We.isValidChar(i)){if(r===o)throw new yi("Expected node name",e,r);u=new ha,u.nodeType=be.Element,u.localName=e.substr(o,r-o),n.addChild(u),s=at.IgnoreSpaces,a=at.Body;continue}break;case at.Body:switch(i){case We.CharCodeSlash:s=at.WaitEnd;break;case We.CharCodeGreaterThan:s=at.Childs;break;default:s=at.AttribName,o=r;continue}break;case at.AttribName:if(!We.isValidChar(i)){if(o===r)throw new yi("Expected attribute name",e,r);if(d=e.substr(o,r-o),u.attributes.has(d))throw new yi(`Duplicate attribute [${d}]`,e,r);s=at.IgnoreSpaces,a=at.Equals;continue}break;case at.Equals:switch(i){case We.CharCodeEquals:s=at.IgnoreSpaces,a=at.AttvalBegin;break;default:throw new yi("Expected =",e,r)}break;case at.AttvalBegin:switch(i){case We.CharCodeDoubleQuote:case We.CharCodeSingleQuote:l="",s=at.AttribVal,o=r+1,p=i;break}break;case at.AttribVal:switch(i){case We.CharCodeAmp:l+=e.substr(o,r-o),s=at.Escape,c=at.AttribVal,o=r+1;break;default:if(i===p){l+=e.substr(o,r-o);let f=l;l="",u.attributes.set(d,f),s=at.IgnoreSpaces,a=at.Body}break}break;case at.Childs:r=We.parse(e,r,u),o=r,s=at.Begin;break;case at.WaitEnd:switch(i){case We.CharCodeGreaterThan:s=at.Begin;break;default:throw new yi("Expected >",e,r)}break;case at.WaitEndRet:switch(i){case We.CharCodeGreaterThan:return r;default:throw new yi("Expected >",e,r)}case at.Close:if(!We.isValidChar(i)){if(o===r)throw new yi("Expected node name",e,r);if(e.substr(o,r-o)!==n.localName)throw new yi("Expected </"+n.localName+">",e,r);s=at.IgnoreSpaces,a=at.WaitEndRet;continue}break;case at.Comment:i===We.CharCodeMinus&&e.charCodeAt(r+1)===We.CharCodeMinus&&e.charCodeAt(r+2)===We.CharCodeGreaterThan&&(r+=2,s=at.Begin);break;case at.Doctype:if(i===We.CharCodeBrackedOpen)h++;else if(i===We.CharCodeBrackedClose)h--;else if(i===We.CharCodeGreaterThan&&h===0){let f=new ha;f.nodeType=be.DocumentType,f.value=e.substr(o,r-o),n.addChild(f),s=at.Begin}break;case at.Header:i===We.CharCodeQuestion&&e.charCodeAt(r+1)===We.CharCodeGreaterThan&&(r++,s=at.Begin);break;case at.Escape:if(i===We.CharCodeSemi){let f=e.substr(o,r-o);if(f.charCodeAt(0)===We.CharCodeSharp){let m=f.charCodeAt(1)===We.CharCodeLowerX?parseInt("0"+f.substr(1,f.length-1)):parseInt(f.substr(1,f.length-1));l+=String.fromCharCode(m)}else We.Escapes.has(f)?l+=We.Escapes.get(f):l+=("&"+f+";").toString();o=r+1,s=c}else!We.isValidChar(i)&&i!==We.CharCodeSharp&&(l+="&",l+=e.substr(o,r-o),r--,o=r+1,s=c);break}r++}if(s===at.Begin&&(o=r,s=at.Pcdata),s===at.Pcdata){if(r!==o){l+=e.substr(o,r-o);let f=new ha;f.nodeType=be.Text,f.value=l,n.addChild(f)}return r}if(s===at.Escape&&c===at.Pcdata){l+="&",l+=e.substr(o,r-o);let f=new ha;return f.nodeType=be.Text,f.value=l,n.addChild(f),r}throw new yi("Unexpected end",e,r)}static isValidChar(e){return e>=We.CharCodeLowerA&&e<=We.CharCodeLowerZ||e>=We.CharCodeUpperA&&e<=We.CharCodeUpperZ||e>=We.CharCode0&&e<=We.CharCode9||e===We.CharCodeColon||e===We.CharCodeDot||e===We.CharCodeUnderscore||e===We.CharCodeMinus}}We.CharCodeLF=10;We.CharCodeTab=9;We.CharCodeCR=13;We.CharCodeSpace=32;We.CharCodeLowerThan=60;We.CharCodeAmp=38;We.CharCodeBrackedClose=93;We.CharCodeBrackedOpen=91;We.CharCodeGreaterThan=62;We.CharCodeExclamation=33;We.CharCodeUpperD=68;We.CharCodeLowerD=100;We.CharCodeMinus=45;We.CharCodeQuestion=63;We.CharCodeSlash=47;We.CharCodeEquals=61;We.CharCodeDoubleQuote=34;We.CharCodeSingleQuote=39;We.CharCodeSharp=35;We.CharCodeLowerX=120;We.CharCodeLowerA=97;We.CharCodeLowerZ=122;We.CharCodeUpperA=65;We.CharCodeUpperZ=90;We.CharCode0=48;We.CharCode9=57;We.CharCodeColon=58;We.CharCodeDot=46;We.CharCodeUnderscore=95;We.CharCodeSemi=59;We.Escapes=new Map([["lt","<"],["gt",">"],["amp","&"],["quot",'"'],["apos","'"]]);class vC{static write(e,r,n){const i=new vC(r,n);return i.writeNode(e),i.toString()}constructor(e,r){this._result=[],this._indention=e,this._xmlHeader=r,this._currentIndention="",this._isStartOfLine=!0}writeNode(e){switch(e.nodeType){case be.None:break;case be.Element:this._result.length>0&&this.writeLine(),this.write(`<${e.localName}`);for(const[r,n]of e.attributes)this.write(` ${r}="`),this.writeAttributeValue(n),this.write('"');if(e.childNodes.length===0)this.write("/>");else{if(this.write(">"),e.childNodes.length===1&&!e.firstElement)this.writeNode(e.childNodes[0]);else{this.indent();for(const r of e.childNodes)r.nodeType===be.Element&&this.writeNode(r);this.unindend(),this.writeLine()}this.write(`</${e.localName}>`)}break;case be.Text:e.value&&this.write(e.value);break;case be.CDATA:e.value!==null&&this.write(`<![CDATA[${e.value}]]>`);break;case be.Document:this._xmlHeader&&this.write('<?xml version="1.0" encoding="utf-8"?>');for(const r of e.childNodes)this.writeNode(r);break;case be.DocumentType:this.write(`<!DOCTYPE ${e.value}>`);break}}unindend(){this._currentIndention=this._currentIndention.substr(0,this._currentIndention.length-this._indention.length)}indent(){this._currentIndention+=this._indention}writeAttributeValue(e){for(let r=0;r<e.length;r++){const n=e.charAt(r);switch(n){case"<":this._result.push("&lt;");break;case">":this._result.push("&gt;");break;case"&":this._result.push("&amp;");break;case"'":this._result.push("&apos;");break;case'"':this._result.push("&quot;");break;default:this._result.push(n);break}}}write(e){this._isStartOfLine&&this._result.push(this._currentIndention),this._result.push(e),this._isStartOfLine=!1}writeLine(e=null){e&&this.write(e),this._indention.length>0&&!this._isStartOfLine&&(this._result.push(`
`),this._isStartOfLine=!0)}toString(){return this._result.join("").trimRight()}}class wC extends ha{constructor(){super(),this.nodeType=be.Document}parse(e){We.parse(e,0,this)}toString(){return this.toFormattedString()}toFormattedString(e="",r=!1){return vC.write(this,e,r)}}var Pe;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(Pe||(Pe={}));class Ese{constructor(){this.id="",this.dots=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.value=H.Quarter}}class Rse{constructor(){this.name="",this.path="",this.role="",this.program=0}get uniqueId(){return this.path+";"+this.name+";"+this.role}}class Ns{constructor(){this._hasAnacrusis=!1,this._skipApplyLyrics=!1}parseXml(e,r){this._masterTrackAutomations=new Map,this._automationsPerTrackIdAndBarIndex=new Map,this._tracksMapping=[],this._tracksById=new Map,this._masterBars=[],this._barsOfMasterBar=[],this._voicesOfBar=new Map,this._barsById=new Map,this._voiceById=new Map,this._beatsOfVoice=new Map,this._beatById=new Map,this._rhythmOfBeat=new Map,this._rhythmById=new Map,this._notesOfBeat=new Map,this._noteById=new Map,this._tappedNotes=new Map,this._lyricsByTrack=new Map,this._soundsByTrack=new Map,this._skipApplyLyrics=!1;let n=new wC;try{n.parse(e)}catch(i){throw new Zr("Could not parse XML",i)}if(this.parseDom(n),this.buildModel(),this.score.finish(r),!this._skipApplyLyrics&&this._lyricsByTrack.size>0)for(const[i,s]of this._lyricsByTrack)this._tracksById.get(i).applyLyrics(s)}parseDom(e){let r=e.firstElement;if(r)if(r.localName==="GPIF"){this.score=new Jc;for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Score":this.parseScoreNode(n);break;case"MasterTrack":this.parseMasterTrackNode(n);break;case"Tracks":this.parseTracksNode(n);break;case"MasterBars":this.parseMasterBarsNode(n);break;case"Bars":this.parseBars(n);break;case"Voices":this.parseVoices(n);break;case"Beats":this.parseBeats(n);break;case"Notes":this.parseNotes(n);break;case"Rhythms":this.parseRhythms(n);break}}else throw new Zr("Root node of XML was not GPIF")}parseScoreNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Title":this.score.title=r.firstChild.innerText;break;case"SubTitle":this.score.subTitle=r.firstChild.innerText;break;case"Artist":this.score.artist=r.firstChild.innerText;break;case"Album":this.score.album=r.firstChild.innerText;break;case"Words":this.score.words=r.firstChild.innerText;break;case"Music":this.score.music=r.firstChild.innerText;break;case"WordsAndMusic":if(r.firstChild&&r.firstChild.innerText!==""){let n=r.firstChild.innerText;n&&!this.score.words&&(this.score.words=n),n&&!this.score.music&&(this.score.music=n)}break;case"Copyright":this.score.copyright=r.firstChild.innerText;break;case"Tabber":this.score.tab=r.firstChild.innerText;break;case"Instructions":this.score.instructions=r.firstChild.innerText;break;case"Notices":this.score.notices=r.firstChild.innerText;break;case"ScoreSystemsDefaultLayout":this.score.defaultSystemsLayout=parseInt(r.innerText);break;case"ScoreSystemsLayout":this.score.systemsLayout=r.innerText.split(" ").map(n=>parseInt(n));break}}parseMasterTrackNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Automations":this.parseAutomations(r,this._masterTrackAutomations,null);break;case"Tracks":this._tracksMapping=r.innerText.split(" ");break;case"Anacrusis":this._hasAnacrusis=!0;break}}parseAutomations(e,r,n){for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Automation":this.parseAutomation(i,r,n);break}}parseAutomation(e,r,n){let i=null,s=!1,a=-1,o=0,l=0,c=null,u=0,d=null;for(let p of e.childNodes)if(p.nodeType===be.Element)switch(p.localName){case"Type":i=p.innerText;break;case"Linear":s=p.innerText.toLowerCase()==="true";break;case"Bar":a=parseInt(p.innerText);break;case"Position":o=parseFloat(p.innerText);break;case"Value":if(p.firstElement&&p.firstElement.nodeType===be.CDATA)c=p.innerText;else{let f=p.innerText.split(" ");f.length===1?(l=parseFloat(f[0]),u=1):(l=parseFloat(f[0]),u=parseInt(f[1]))}break;case"Text":d=p.innerText;break}if(!i)return;let h=null;switch(i){case"Tempo":h=$n.buildTempoAutomation(s,o,l,u);break;case"Sound":c&&n&&n.has(c)&&(h=$n.buildInstrumentAutomation(s,o,n.get(c).program));break}h&&(d&&(h.text=d),a>=0&&(r.has(a)||r.set(a,[]),r.get(a).push(h)))}parseTracksNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Track":this.parseTrack(r);break}}parseTrack(e){this._articulationByName=new Map;let r=new so;r.ensureStaveCount(1);let n=r.staves[0];n.showStandardNotation=!0;let i=e.getAttribute("id");for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":r.name=s.innerText;break;case"Color":let a=s.innerText.split(" ");if(a.length>=3){let c=parseInt(a[0]),u=parseInt(a[1]),d=parseInt(a[2]);r.color=new Sr(c,u,d,255)}break;case"Instrument":let o=s.getAttribute("ref");(o.endsWith("-gs")||o.endsWith("GrandStaff"))&&(r.ensureStaveCount(2),r.staves[1].showStandardNotation=!0);break;case"InstrumentSet":this.parseInstrumentSet(r,s);break;case"NotationPatch":this.parseNotationPatch(r,s);break;case"ShortName":r.shortName=s.innerText;break;case"SystemsDefautLayout":r.defaultSystemsLayout=parseInt(s.innerText);break;case"SystemsLayout":r.systemsLayout=s.innerText.split(" ").map(c=>parseInt(c));break;case"Lyrics":this.parseLyrics(i,s);break;case"Properties":this.parseTrackProperties(r,s);break;case"GeneralMidi":case"MidiConnection":case"MIDISettings":this.parseGeneralMidi(r,s);break;case"Sounds":this.parseSounds(i,r,s);break;case"PlaybackState":let l=s.innerText;r.playbackInfo.isSolo=l==="Solo",r.playbackInfo.isMute=l==="Mute";break;case"PartSounding":this.parsePartSounding(r,s);break;case"Staves":this.parseStaves(r,s);break;case"Transpose":this.parseTranspose(r,s);break;case"RSE":this.parseRSE(r,s);break;case"Automations":this.parseTrackAutomations(i,s);break}this._tracksById.set(i,r)}parseTrackAutomations(e,r){const n=new Map;this._automationsPerTrackIdAndBarIndex.set(e,n),this.parseAutomations(r,n,this._soundsByTrack.get(e))}parseNotationPatch(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break;case"Elements":this.parseElements(e,n);break}}parseInstrumentSet(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Type":switch(n.innerText){case"drumKit":for(let s of e.staves)s.isPercussion=!0;break}if(n.innerText==="drumKit")for(let s of e.staves)s.isPercussion=!0;break;case"Elements":this.parseElements(e,n);break;case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break}}parseElements(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Element":this.parseElement(e,n);break}}parseElement(e,r){const n=r.findChildElement("Type"),i=n?n.innerText:"";for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":case"Articulations":this.parseArticulations(e,s,i);break}}parseArticulations(e,r,n){for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Articulation":this.parseArticulation(e,i,n);break}}parseArticulation(e,r,n){const i=new Ae;i.outputMidiNumber=-1,i.elementType=n;let s="";for(let a of r.childNodes)if(a.nodeType===be.Element){const o=a.innerText;switch(a.localName){case"Name":s=a.innerText;break;case"OutputMidiNumber":o.length>0&&(i.outputMidiNumber=parseInt(o));break;case"TechniqueSymbol":i.techniqueSymbol=this.parseTechniqueSymbol(o);break;case"TechniquePlacement":switch(o){case"outside":i.techniqueSymbolPlacement=gt.Bottom;break;case"inside":i.techniqueSymbolPlacement=gt.Middle;break;case"above":i.techniqueSymbolPlacement=gt.Bottom;break;case"below":i.techniqueSymbolPlacement=gt.Top;break}break;case"Noteheads":const l=o.split(" ");l.length>=1&&(i.noteHeadDefault=this.parseNoteHead(l[0])),l.length>=2&&(i.noteHeadHalf=this.parseNoteHead(l[1])),l.length>=3&&(i.noteHeadWhole=this.parseNoteHead(l[2])),i.noteHeadHalf==P.None&&(i.noteHeadHalf=i.noteHeadDefault),i.noteHeadWhole==P.None&&(i.noteHeadWhole=i.noteHeadDefault);break;case"StaffLine":o.length>0&&(i.staffLine=parseInt(o));break}}i.outputMidiNumber!==-1?(e.percussionArticulations.push(i),s.length>0&&this._articulationByName.set(s,i)):s.length>0&&this._articulationByName.has(s)&&(this._articulationByName.get(s).staffLine=i.staffLine)}parseTechniqueSymbol(e){switch(e){case"pictEdgeOfCymbal":return P.PictEdgeOfCymbal;case"articStaccatoAbove":return P.ArticStaccatoAbove;case"noteheadParenthesis":return P.NoteheadParenthesis;case"stringsUpBow":return P.StringsUpBow;case"stringsDownBow":return P.StringsDownBow;case"guitarGolpe":return P.GuitarGolpe;default:return P.None}}parseNoteHead(e){switch(e){case"noteheadDoubleWholeSquare":return P.NoteheadDoubleWholeSquare;case"noteheadDoubleWhole":return P.NoteheadDoubleWhole;case"noteheadWhole":return P.NoteheadWhole;case"noteheadHalf":return P.NoteheadHalf;case"noteheadBlack":return P.NoteheadBlack;case"noteheadNull":return P.NoteheadNull;case"noteheadXOrnate":return P.NoteheadXOrnate;case"noteheadTriangleUpWhole":return P.NoteheadTriangleUpWhole;case"noteheadTriangleUpHalf":return P.NoteheadTriangleUpHalf;case"noteheadTriangleUpBlack":return P.NoteheadTriangleUpBlack;case"noteheadDiamondBlackWide":return P.NoteheadDiamondBlackWide;case"noteheadDiamondWhite":return P.NoteheadDiamondWhite;case"noteheadDiamondWhiteWide":return P.NoteheadDiamondWhiteWide;case"noteheadCircleX":return P.NoteheadCircleX;case"noteheadXWhole":return P.NoteheadXWhole;case"noteheadXHalf":return P.NoteheadXHalf;case"noteheadXBlack":return P.NoteheadXBlack;case"noteheadParenthesis":return P.NoteheadParenthesis;case"noteheadSlashedBlack2":return P.NoteheadSlashedBlack2;case"noteheadCircleSlash":return P.NoteheadCircleSlash;case"noteheadHeavyX":return P.NoteheadHeavyX;case"noteheadHeavyXHat":return P.NoteheadHeavyXHat;default:return ve.warning("GPIF","Unknown notehead symbol",e),P.None}}parseStaves(e,r){let n=0;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Staff":e.ensureStaveCount(n+1);let s=e.staves[n];this.parseStaff(s,i),n++;break}}parseStaff(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Properties":this.parseStaffProperties(e,n);break}}parseStaffProperties(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Property":this.parseStaffProperty(e,n);break}}parseStaffProperty(e,r){switch(r.getAttribute("name")){case"Tuning":for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Pitches":let a=r.findChildElement("Pitches").innerText.split(" "),o=new Array(a.length);for(let l=0;l<o.length;l++)o[o.length-1-l]=parseInt(a[l]);e.stringTuning.tunings=o;break;case"Label":e.stringTuning.name=s.innerText;break}e.isPercussion||(e.showTablature=!0);break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForStaff(e,r);break;case"CapoFret":let i=parseInt(r.findChildElement("Fret").innerText);e.capo=i;break}}parseLyrics(e,r){let n=[];for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Line":n.push(this.parseLyricsLine(i));break}this._lyricsByTrack.set(e,n)}parseLyricsLine(e){let r=new Qr;for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Offset":r.startBar=parseInt(n.innerText);break;case"Text":r.text=n.innerText;break}return r}parseDiagramCollectionForTrack(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Item":this.parseDiagramItemForTrack(e,i);break}}parseDiagramCollectionForStaff(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Item":this.parseDiagramItemForStaff(e,i);break}}parseDiagramItemForTrack(e,r){let n=new Il,i=r.getAttribute("id");for(let s of e.staves)s.addChord(i,n);this.parseDiagramItemForChord(n,r)}parseDiagramItemForStaff(e,r){let n=new Il,i=r.getAttribute("id");e.addChord(i,n),this.parseDiagramItemForChord(n,r)}parseDiagramItemForChord(e,r){e.name=r.getAttribute("name");let n=r.findChildElement("Diagram");if(!n){e.showDiagram=!1,e.showFingering=!1;return}let i=parseInt(n.getAttribute("stringCount")),s=parseInt(n.getAttribute("baseFret"));e.firstFret=s+1;for(let a=0;a<i;a++)e.strings.push(-1);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"Fret":let o=parseInt(a.getAttribute("string"));e.strings[i-o-1]=s+parseInt(a.getAttribute("fret"));break;case"Fingering":let l=new Map;for(let c of a.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"Position":let u=lt.Unknown,d=s+parseInt(c.getAttribute("fret"));switch(c.getAttribute("finger")){case"Index":u=lt.IndexFinger;break;case"Middle":u=lt.MiddleFinger;break;case"Rank":u=lt.AnnularFinger;break;case"Pinky":u=lt.LittleFinger;break;case"Thumb":u=lt.Thumb;break}u!==lt.Unknown&&(l.has(u)?e.barreFrets.push(d):l.set(u,!0));break}break;case"Property":switch(a.getAttribute("name")){case"ShowName":e.showName=a.getAttribute("value")==="true";break;case"ShowDiagram":e.showDiagram=a.getAttribute("value")==="true";break;case"ShowFingering":e.showFingering=a.getAttribute("value")==="true";break}break}}parseTrackProperties(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Property":this.parseTrackProperty(e,n);break}}parseTrackProperty(e,r){switch(r.getAttribute("name")){case"Tuning":let i=r.findChildElement("Pitches").innerText.split(" "),s=new Array(i.length);for(let o=0;o<s.length;o++)s[s.length-1-o]=parseInt(i[o]);for(let o of e.staves)o.stringTuning.tunings=s,o.showStandardNotation=!0,o.showTablature=!0;break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForTrack(e,r);break;case"CapoFret":let a=parseInt(r.findChildElement("Fret").innerText);for(let o of e.staves)o.capo=a;break}}parseGeneralMidi(e,r){for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Program":e.playbackInfo.program=parseInt(i.innerText);break;case"Port":e.playbackInfo.port=parseInt(i.innerText);break;case"PrimaryChannel":e.playbackInfo.primaryChannel=parseInt(i.innerText);break;case"SecondaryChannel":e.playbackInfo.secondaryChannel=parseInt(i.innerText);break}if(r.getAttribute("table")==="Percussion")for(let i of e.staves)i.isPercussion=!0}parseSounds(e,r,n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Sound":this.parseSound(e,r,i);break}}parseSound(e,r,n){const i=new Rse;for(let s of n.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Name":i.name=s.innerText;break;case"Path":i.path=s.innerText;break;case"Role":i.role=s.innerText;break;case"MIDI":this.parseSoundMidi(i,s);break}(i.role==="Factory"||r.playbackInfo.program===0)&&(r.playbackInfo.program=i.program),this._soundsByTrack.has(e)||this._soundsByTrack.set(e,new Map),this._soundsByTrack.get(e).set(i.uniqueId,i)}parseSoundMidi(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Program":e.program=parseInt(n.innerText);break}}parsePartSounding(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"TranspositionPitch":for(let i of e.staves)i.displayTranspositionPitch=parseInt(n.innerText);break}}parseTranspose(e,r){let n=0,i=0;for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Chromatic":i=parseInt(s.innerText);break;case"Octave":n=parseInt(s.innerText);break}for(let s of e.staves)s.displayTranspositionPitch=n*12+i}parseRSE(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"ChannelStrip":this.parseChannelStrip(e,n);break}}parseChannelStrip(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Parameters":this.parseChannelStripParameters(e,n);break}}parseChannelStripParameters(e,r){if(r.firstChild&&r.firstChild.value){let n=r.firstChild.value.split(" ");n.length>=12&&(e.playbackInfo.balance=Math.floor(parseFloat(n[11])*16),e.playbackInfo.volume=Math.floor(parseFloat(n[12])*16))}}parseMasterBarsNode(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"MasterBar":this.parseMasterBar(r);break}}parseMasterBar(e){let r=new Oo;this._masterBars.length===0&&this._hasAnacrusis&&(r.isAnacrusis=!0);for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Time":let i=n.innerText.split("/");r.timeSignatureNumerator=parseInt(i[0]),r.timeSignatureDenominator=parseInt(i[1]);break;case"DoubleBar":r.isDoubleBar=!0;break;case"Section":r.section=new Lb,r.section.marker=n.findChildElement("Letter").innerText,r.section.text=n.findChildElement("Text").innerText;break;case"Repeat":n.getAttribute("start").toLowerCase()==="true"&&(r.isRepeatStart=!0),n.getAttribute("end").toLowerCase()==="true"&&n.getAttribute("count")&&(r.repeatCount=parseInt(n.getAttribute("count")));break;case"AlternateEndings":let s=n.innerText.split(" "),a=0;for(let l=0;l<s.length;l++)a=a|1<<-1+parseInt(s[l]);r.alternateEndings=a;break;case"Bars":this._barsOfMasterBar.push(n.innerText.split(" "));break;case"TripletFeel":switch(n.innerText){case"NoTripletFeel":r.tripletFeel=vt.NoTripletFeel;break;case"Triplet8th":r.tripletFeel=vt.Triplet8th;break;case"Triplet16th":r.tripletFeel=vt.Triplet16th;break;case"Dotted8th":r.tripletFeel=vt.Dotted8th;break;case"Dotted16th":r.tripletFeel=vt.Dotted16th;break;case"Scottish8th":r.tripletFeel=vt.Scottish8th;break;case"Scottish16th":r.tripletFeel=vt.Scottish16th;break}break;case"Key":r.keySignature=parseInt(n.findChildElement("AccidentalCount").innerText);let o=n.findChildElement("Mode");if(o)switch(o.innerText.toLowerCase()){case"major":r.keySignatureType=Fl.Major;break;case"minor":r.keySignatureType=Fl.Minor;break}break;case"Fermatas":this.parseFermatas(r,n);break;case"XProperties":this.parseMasterBarXProperties(n,r);break}this._masterBars.push(r)}parseFermatas(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Fermata":this.parseFermata(e,n);break}}parseFermata(e,r){let n=0,i=new bC;for(let s of r.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"Type":switch(s.innerText){case"Short":i.type=Ta.Short;break;case"Medium":i.type=Ta.Medium;break;case"Long":i.type=Ta.Long;break}break;case"Length":i.length=parseFloat(s.innerText);break;case"Offset":let a=s.innerText.split("/");if(a.length===2){let o=parseInt(a[0]),l=parseInt(a[1]);n=o/l*ut.QuarterTime|0}break}e.addFermata(n,i)}parseBars(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Bar":this.parseBar(r);break}}parseBar(e){let r=new jo,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Voices":this._voicesOfBar.set(n,i.innerText.split(" "));break;case"Clef":switch(i.innerText){case"Neutral":r.clef=ct.Neutral;break;case"G2":r.clef=ct.G2;break;case"F4":r.clef=ct.F4;break;case"C4":r.clef=ct.C4;break;case"C3":r.clef=ct.C3;break}break;case"Ottavia":switch(i.innerText){case"8va":r.clefOttava=$t._8va;break;case"15ma":r.clefOttava=$t._15ma;break;case"8vb":r.clefOttava=$t._8vb;break;case"15mb":r.clefOttava=$t._15mb;break}break;case"SimileMark":switch(i.innerText){case"Simple":r.simileMark=us.Simple;break;case"FirstOfDouble":r.simileMark=us.FirstOfDouble;break;case"SecondOfDouble":r.simileMark=us.SecondOfDouble;break}break;case"XProperties":this.parseBarXProperties(i,r);break}this._barsById.set(n,r)}parseVoices(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Voice":this.parseVoice(r);break}}parseVoice(e){let r=new ao,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Beats":this._beatsOfVoice.set(n,i.innerText.split(" "));break}this._voiceById.set(n,r)}parseBeats(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Beat":this.parseBeat(r);break}}parseBeat(e){let r=new zn,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Notes":this._notesOfBeat.set(n,i.innerText.split(" "));break;case"Rhythm":this._rhythmOfBeat.set(n,i.getAttribute("ref"));break;case"Fadding":i.innerText==="FadeIn"&&(r.fadeIn=!0);break;case"Tremolo":switch(i.innerText){case"1/2":r.tremoloSpeed=H.Eighth;break;case"1/4":r.tremoloSpeed=H.Sixteenth;break;case"1/8":r.tremoloSpeed=H.ThirtySecond;break}break;case"Chord":r.chordId=i.innerText;break;case"Hairpin":switch(i.innerText){case"Crescendo":r.crescendo=Ti.Crescendo;break;case"Decrescendo":r.crescendo=Ti.Decrescendo;break}break;case"Arpeggio":i.innerText==="Up"?r.brushType=or.ArpeggioUp:r.brushType=or.ArpeggioDown;break;case"Properties":this.parseBeatProperties(i,r);break;case"XProperties":this.parseBeatXProperties(i,r);break;case"FreeText":r.text=i.innerText;break;case"TransposedPitchStemOrientation":switch(i.innerText){case"Upward":r.preferredBeamDirection=Pe.Up;break;case"Downward":r.preferredBeamDirection=Pe.Down;break}break;case"Dynamic":switch(i.innerText){case"PPP":r.dynamics=wt.PPP;break;case"PP":r.dynamics=wt.PP;break;case"P":r.dynamics=wt.P;break;case"MP":r.dynamics=wt.MP;break;case"MF":r.dynamics=wt.MF;break;case"F":r.dynamics=wt.F;break;case"FF":r.dynamics=wt.FF;break;case"FFF":r.dynamics=wt.FFF;break}break;case"GraceNotes":switch(i.innerText){case"OnBeat":r.graceType=tt.OnBeat;break;case"BeforeBeat":r.graceType=tt.BeforeBeat;break}break;case"Legato":i.getAttribute("origin")==="true"&&(r.isLegatoOrigin=!0);break;case"Whammy":let s=new Le(0,0);s.value=this.toBendValue(parseFloat(i.getAttribute("originValue"))),s.offset=this.toBendOffset(parseFloat(i.getAttribute("originOffset"))),r.addWhammyBarPoint(s);let a=new Le(0,0);a.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),a.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset1"))),r.addWhammyBarPoint(a);let o=new Le(0,0);o.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),o.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset2"))),r.addWhammyBarPoint(o);let l=new Le(0,0);l.value=this.toBendValue(parseFloat(i.getAttribute("destinationValue"))),l.offset=this.toBendOffset(parseFloat(i.getAttribute("destinationOffset"))),r.addWhammyBarPoint(l);break;case"Ottavia":switch(i.innerText){case"8va":r.ottava=$t._8va;break;case"8vb":r.ottava=$t._8vb;break;case"15ma":r.ottava=$t._15ma;break;case"15mb":r.ottava=$t._15mb;break}break;case"Lyrics":r.lyrics=this.parseBeatLyrics(i),this._skipApplyLyrics=!0;break}this._beatById.set(n,r)}parseBeatLyrics(e){const r=[];for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"Line":r.push(n.innerText);break}return r}parseBeatXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":let i=n.getAttribute("id"),s=0;switch(i){case"1124204545":s=parseInt(n.findChildElement("Int").innerText),r.invertBeamDirection=s===1;break;case"687935489":s=parseInt(n.findChildElement("Int").innerText),r.brushDuration=s;break}break}}parseBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124139520":const s=n.findChildElement("Double")??n.findChildElement("Float");r.displayScale=parseFloat(s.innerText);break}break}}parseMasterBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124073984":r.displayScale=parseFloat(n.findChildElement("Double").innerText);break}break}}parseBeatProperties(e,r){let n=!1,i=null,s=null,a=null,o=null,l=null;for(let c of e.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"Property":switch(c.getAttribute("name")){case"Brush":c.findChildElement("Direction").innerText==="Up"?r.brushType=or.BrushUp:r.brushType=or.BrushDown;break;case"PickStroke":c.findChildElement("Direction").innerText==="Up"?r.pickStroke=Fn.Up:r.pickStroke=Fn.Down;break;case"Slapped":c.findChildElement("Enable")&&(r.slap=!0);break;case"Popped":c.findChildElement("Enable")&&(r.pop=!0);break;case"VibratoWTremBar":switch(c.findChildElement("Strength").innerText){case"Wide":r.vibrato=At.Wide;break;case"Slight":r.vibrato=At.Slight;break}break;case"WhammyBar":n=!0;break;case"WhammyBarExtend":break;case"WhammyBarOriginValue":i||(i=new Le(0,0)),i.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarOriginOffset":i||(i=new Le(0,0)),i.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleValue":s=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset1":a=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset2":o=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationValue":l||(l=new Le(Le.MaxPosition,0)),l.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationOffset":l||(l=new Le(0,0)),l.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break}break}n&&(i||(i=new Le(0,0)),l||(l=new Le(Le.MaxPosition,0)),r.addWhammyBarPoint(i),a&&s&&r.addWhammyBarPoint(new Le(a,s)),o&&s&&r.addWhammyBarPoint(new Le(o,s)),!a&&!o&&s&&r.addWhammyBarPoint(new Le(Le.MaxPosition/2|0,s)),r.addWhammyBarPoint(l))}parseNotes(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Note":this.parseNote(r);break}}parseNote(e){let r=new Rr,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Properties":this.parseNoteProperties(i,r,n);break;case"AntiAccent":i.innerText.toLowerCase()==="normal"&&(r.isGhost=!0);break;case"LetRing":r.isLetRing=!0;break;case"Trill":r.trillValue=parseInt(i.innerText),r.trillSpeed=H.Sixteenth;break;case"Accent":let s=parseInt(i.innerText);s&1&&(r.isStaccato=!0),s&4&&(r.accentuated=en.Heavy),s&8&&(r.accentuated=en.Normal);break;case"Tie":i.getAttribute("destination").toLowerCase()==="true"&&(r.isTieDestination=!0);break;case"Vibrato":switch(i.innerText){case"Slight":r.vibrato=At.Slight;break;case"Wide":r.vibrato=At.Wide;break}break;case"LeftFingering":switch(r.isFingering=!0,i.innerText){case"P":r.leftHandFinger=lt.Thumb;break;case"I":r.leftHandFinger=lt.IndexFinger;break;case"M":r.leftHandFinger=lt.MiddleFinger;break;case"A":r.leftHandFinger=lt.AnnularFinger;break;case"C":r.leftHandFinger=lt.LittleFinger;break}break;case"RightFingering":switch(r.isFingering=!0,i.innerText){case"P":r.rightHandFinger=lt.Thumb;break;case"I":r.rightHandFinger=lt.IndexFinger;break;case"M":r.rightHandFinger=lt.MiddleFinger;break;case"A":r.rightHandFinger=lt.AnnularFinger;break;case"C":r.rightHandFinger=lt.LittleFinger;break}break;case"InstrumentArticulation":r.percussionArticulation=parseInt(i.innerText);break}this._noteById.set(n,r)}parseNoteProperties(e,r,n){let i=!1,s=null,a=null,o=null,l=null,c=null,u=-1,d=-1;for(let h of e.childNodes)if(h.nodeType===be.Element)switch(h.localName){case"Property":switch(h.getAttribute("name")){case"String":r.string=parseInt(h.findChildElement("String").innerText)+1;break;case"Fret":r.fret=parseInt(h.findChildElement("Fret").innerText);break;case"Element":u=parseInt(h.findChildElement("Element").innerText);break;case"Variation":d=parseInt(h.findChildElement("Variation").innerText);break;case"Tapped":this._tappedNotes.set(n,!0);break;case"HarmonicType":let f=h.findChildElement("HType");if(f)switch(f.innerText){case"NoHarmonic":r.harmonicType=Qe.None;break;case"Natural":r.harmonicType=Qe.Natural;break;case"Artificial":r.harmonicType=Qe.Artificial;break;case"Pinch":r.harmonicType=Qe.Pinch;break;case"Tap":r.harmonicType=Qe.Tap;break;case"Semi":r.harmonicType=Qe.Semi;break;case"Feedback":r.harmonicType=Qe.Feedback;break}break;case"HarmonicFret":let m=h.findChildElement("HFret");m&&(r.harmonicValue=parseFloat(m.innerText));break;case"Muted":h.findChildElement("Enable")&&(r.isDead=!0);break;case"PalmMuted":h.findChildElement("Enable")&&(r.isPalmMute=!0);break;case"Octave":r.octave=parseInt(h.findChildElement("Number").innerText),r.tone===-1&&(r.tone=0);break;case"Tone":r.tone=parseInt(h.findChildElement("Step").innerText);break;case"ConcertPitch":this.parseConcertPitch(h,r);break;case"Bended":i=!0;break;case"BendOriginValue":s||(s=new Le(0,0)),s.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendOriginOffset":s||(s=new Le(0,0)),s.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleValue":a=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset1":o=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset2":l=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationValue":c||(c=new Le(Le.MaxPosition,0)),c.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationOffset":c||(c=new Le(0,0)),c.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"HopoOrigin":h.findChildElement("Enable")&&(r.isHammerPullOrigin=!0);break;case"HopoDestination":break;case"LeftHandTapped":r.isLeftHandTapped=!0;break;case"Slide":let g=parseInt(h.findChildElement("Flags").innerText);g&1?r.slideOutType=ft.Shift:g&2?r.slideOutType=ft.Legato:g&4?r.slideOutType=ft.OutDown:g&8&&(r.slideOutType=ft.OutUp),g&16?r.slideInType=kn.IntoFromBelow:g&32&&(r.slideInType=kn.IntoFromAbove),g&64?r.slideOutType=ft.PickSlideDown:g&128&&(r.slideOutType=ft.PickSlideUp);break}break}i&&(s||(s=new Le(0,0)),c||(c=new Le(Le.MaxPosition,0)),r.addBendPoint(s),o&&a&&r.addBendPoint(new Le(o,a)),l&&a&&r.addBendPoint(new Le(l,a)),!o&&!l&&a&&r.addBendPoint(new Le(Le.MaxPosition/2|0,a)),r.addBendPoint(c)),u!==-1&&d!==-1&&(r.percussionArticulation=Rn.articulationFromElementVariation(u,d))}parseConcertPitch(e,r){const n=e.findChildElement("Pitch");if(n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"Accidental":switch(i.innerText){case"x":r.accidentalMode=jr.ForceDoubleSharp;break;case"#":r.accidentalMode=jr.ForceSharp;break;case"b":r.accidentalMode=jr.ForceFlat;break;case"bb":r.accidentalMode=jr.ForceDoubleFlat;break}break}}}toBendValue(e){return e*Ns.BendPointValueFactor|0}toBendOffset(e){return e*Ns.BendPointPositionFactor}parseRhythms(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"Rhythm":this.parseRhythm(r);break}}parseRhythm(e){let r=new Ese,n=e.getAttribute("id");r.id=n;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"NoteValue":switch(i.innerText){case"Long":r.value=H.QuadrupleWhole;break;case"DoubleWhole":r.value=H.DoubleWhole;break;case"Whole":r.value=H.Whole;break;case"Half":r.value=H.Half;break;case"Quarter":r.value=H.Quarter;break;case"Eighth":r.value=H.Eighth;break;case"16th":r.value=H.Sixteenth;break;case"32nd":r.value=H.ThirtySecond;break;case"64th":r.value=H.SixtyFourth;break;case"128th":r.value=H.OneHundredTwentyEighth;break;case"256th":r.value=H.TwoHundredFiftySixth;break}break;case"PrimaryTuplet":r.tupletNumerator=parseInt(i.getAttribute("num")),r.tupletDenominator=parseInt(i.getAttribute("den"));break;case"AugmentationDot":r.dots=parseInt(i.getAttribute("count"));break}this._rhythmById.set(n,r)}buildModel(){for(let e=0,r=this._masterBars.length;e<r;e++){let n=this._masterBars[e];this.score.addMasterBar(n)}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e);this.score.addTrack(r)}for(let e of this._barsOfMasterBar){let r=0;for(let n=0,i=0;n<e.length&&i<this.score.tracks.length;n++){let s=e[n];if(s!==Ns.InvalidId){let a=this._barsById.get(s),o=this.score.tracks[i],l=o.staves[r];if(l.addBar(a),this._voicesOfBar.has(s))for(let c of this._voicesOfBar.get(s))if(c!==Ns.InvalidId){let u=this._voiceById.get(c);if(a.addVoice(u),this._beatsOfVoice.has(c)){for(let d of this._beatsOfVoice.get(c))if(d!==Ns.InvalidId){let h=yC.clone(this._beatById.get(d));u.addBeat(h);let p=this._rhythmOfBeat.get(d),f=this._rhythmById.get(p);if(h.duration=f.value,h.dots=f.dots,h.tupletNumerator=f.tupletNumerator,h.tupletDenominator=f.tupletDenominator,this._notesOfBeat.has(d)){for(let m of this._notesOfBeat.get(d))if(m!==Ns.InvalidId){const g=rA.clone(this._noteById.get(m));l.isPercussion?(g.fret=-1,g.string=-1):g.percussionArticulation=-1,h.addNote(g),this._tappedNotes.has(m)&&(h.tap=!0)}}}}}else{let u=new ao;a.addVoice(u);let d=new zn;d.isEmpty=!0,d.duration=H.Quarter,u.addBeat(d)}r===o.staves.length-1?(i++,r=0):r++}else i++}}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e),n=!1;for(const i of r.staves)if(i.isPercussion){n=!0;break}if(n||(r.percussionArticulations=[]),this._automationsPerTrackIdAndBarIndex.has(e)){const i=this._automationsPerTrackIdAndBarIndex.get(e);for(const[s,a]of i)if(r.staves.length>0&&s<r.staves[0].bars.length){const o=r.staves[0].bars[s];if(o.voices.length>0&&o.voices[0].beats.length>0){const l=o.voices[0].beats[0];for(const c of a)l.automations.push(c)}}}}for(const[e,r]of this._masterTrackAutomations){let n=this.score.masterBars[e];for(let i=0,s=r.length;i<s;i++){let a=r[i];a.type===mn.Tempo&&(e===0&&(this.score.tempo=a.value|0,a.text&&(this.score.tempoLabel=a.text)),n.tempoAutomation=a)}}}}Ns.InvalidId="-1";Ns.BendPointPositionFactor=Le.MaxPosition/100;Ns.BendPointValueFactor=1/25;class ew{constructor(){this.isMultiRest=!1,this.trackViewGroups=[]}}class hN{constructor(){this.showSlash=!1,this.showStandardNotation=!1,this.showTablature=!1}}class aA{apply(e){if(this.scoreViews.length>0){let r=0;for(let n of this.scoreViews[0].trackViewGroups){if(r<e.tracks.length){const i=e.tracks[r];for(const s of i.staves)s.showTablature=n.showTablature,s.showStandardNotation=n.showStandardNotation}r++}}}constructor(e){this.scoreViews=[];let r=Wn.fromBuffer(e);const n=ue.readInt32BE(r);for(let i=0;i<n;i++){const s=new ew;this.scoreViews.push(s),s.isMultiRest=It.gpReadBool(r);const a=ue.readInt32BE(r);for(let o=0;o<a;o++){let l=r.readByte();l===0&&(l=1);let c=new hN;c.showStandardNotation=(l&1)!==0,c.showTablature=(l&2)!==0,c.showSlash=(l&4)!==0,s.trackViewGroups.push(c)}}}static writeForScore(e){const r=Wn.withCapacity(128),n=[new ew];for(const i of e.tracks){const s=new hN;s.showStandardNotation=i.staves[0].showStandardNotation,s.showTablature=i.staves[0].showTablature,n[0].trackViewGroups.push(s);const a=new ew;a.trackViewGroups.push(s),n.push(a)}ue.writeInt32BE(r,n.length);for(const i of n){r.writeByte(i.isMultiRest?1:0),ue.writeInt32BE(r,i.trackViewGroups.length);for(const s of i.trackViewGroups){let a=0;s.showStandardNotation&&(a=a|1),s.showTablature&&(a=a|2),s.showSlash&&(a=a|4),r.writeByte(a)}}return ue.writeInt32BE(r,1),r.toArray()}}class xC{}class Mg extends xC{constructor(e){super(),this.n=e}}class ac extends xC{constructor(e,r){super(),this.left=e,this.right=r}}class TS extends xC{constructor(e,r){super(),this.n=e,this.table=r}}class Mn{static make(e,r,n,i){let s=[],a=[];if(i>32)throw new Kr("Invalid huffman");for(let c=0;c<i;c++)s.push(0),a.push(0);for(let c=0;c<n;c++){let u=e[c+r];if(u>=i)throw new Kr("Invalid huffman");s[u]++}let o=0;for(let c=1;c<i-1;c++)o=o+s[c]<<1,a[c]=o;let l=new Map;for(let c=0;c<n;c++){let u=e[c+r];if(u!==0){let d=a[u-1];a[u-1]=d+1,l.set(d<<5|u,c)}}return Mn.treeCompress(new ac(Mn.treeMake(l,i,0,1),Mn.treeMake(l,i,1,1)))}static treeMake(e,r,n,i){if(i>r)throw new Kr("Invalid huffman");let s=n<<5|i;return e.has(s)?new Mg(e.get(s)):(n=n<<1,i+=1,new ac(Mn.treeMake(e,r,n,i),Mn.treeMake(e,r,n|1,i)))}static treeCompress(e){let r=Mn.treeDepth(e);if(r===0)return e;if(r===1){if(e instanceof ac)return new ac(Mn.treeCompress(e.left),Mn.treeCompress(e.right));throw new Kr("assert")}let n=1<<r,i=[];for(let s=0;s<n;s++)i.push(new Mg(-1));return Mn.treeWalk(i,0,0,r,e),new TS(r,i)}static treeWalk(e,r,n,i,s){s instanceof ac&&i>0?(Mn.treeWalk(e,r,n+1,i-1,s.left),Mn.treeWalk(e,r|1<<n,n+1,i-1,s.right)):e[r]=Mn.treeCompress(s)}static treeDepth(e){if(e instanceof Mg)return 0;if(e instanceof TS)throw new Kr("assert");if(e instanceof ac){let r=Mn.treeDepth(e.left),n=Mn.treeDepth(e.right);return 1+(r<n?r:n)}return 0}}var Ur;(function(t){t[t.Head=0]="Head",t[t.Block=1]="Block",t[t.CData=2]="CData",t[t.Flat=3]="Flat",t[t.Crc=4]="Crc",t[t.Dist=5]="Dist",t[t.DistOne=6]="DistOne",t[t.Done=7]="Done"})(Ur||(Ur={}));class la{constructor(){this.buffer=new Uint8Array(la.BufferSize),this.pos=0}slide(){let e=new Uint8Array(la.BufferSize);this.pos-=la.Size,e.set(this.buffer.subarray(la.Size,la.Size+this.pos),0),this.buffer=e}addBytes(e,r,n){this.pos+n>la.BufferSize&&this.slide(),this.buffer.set(e.subarray(r,r+n),this.pos),this.pos+=n}addByte(e){this.pos===la.BufferSize&&this.slide(),this.buffer[this.pos]=e,this.pos++}getLastChar(){return this.buffer[this.pos-1]}available(){return this.pos}}la.Size=32768;la.BufferSize=65536;class ni{static buildFixedHuffman(){let e=[];for(let r=0;r<288;r++)e.push(r<=143?8:r<=255?9:r<=279?7:8);return Mn.make(e,0,288,10)}constructor(e){this._nbits=0,this._bits=0,this._state=Ur.Block,this._isFinal=!1,this._huffman=ni._fixedHuffman,this._huffdist=null,this._len=0,this._dist=0,this._needed=0,this._output=null,this._outpos=0,this._lengths=[],this._window=new la,this._input=e;for(let r=0;r<19;r++)this._lengths.push(-1)}readBytes(e,r,n){if(this._needed=n,this._outpos=r,this._output=e,n>0)for(;this.inflateLoop(););return n-this._needed}inflateLoop(){switch(this._state){case Ur.Head:let e=this._input.readByte();if((e&15)!==8)throw new Kr("Invalid data");let n=this._input.readByte(),i=(n&32)!==0;if(((e<<8)+n)%31!==0)throw new Kr("Invalid data");if(i)throw new Kr("Unsupported dictionary");return this._state=Ur.Block,!0;case Ur.Crc:return this._state=Ur.Done,!0;case Ur.Done:return!1;case Ur.Block:switch(this._isFinal=this.getBit(),this.getBits(2)){case 0:if(this._len=ue.readUInt16LE(this._input),ue.readUInt16LE(this._input)!==65535-this._len)throw new Kr("Invalid data");this._state=Ur.Flat;let o=this.inflateLoop();return this.resetBits(),o;case 1:return this._huffman=ni._fixedHuffman,this._huffdist=null,this._state=Ur.CData,!0;case 2:let l=this.getBits(5)+257,c=this.getBits(5)+1,u=this.getBits(4)+4;for(let h=0;h<u;h++)this._lengths[ni.CodeLengthsPos[h]]=this.getBits(3);for(let h=u;h<19;h++)this._lengths[ni.CodeLengthsPos[h]]=0;this._huffman=Mn.make(this._lengths,0,19,8);let d=[];for(let h=0;h<l+c;h++)d.push(0);return this.inflateLengths(d,l+c),this._huffdist=Mn.make(d,l,c,16),this._huffman=Mn.make(d,0,l,16),this._state=Ur.CData,!0;default:throw new Kr("Invalid data")}case Ur.Flat:{let a=this._len<this._needed?this._len:this._needed,o=ue.readByteArray(this._input,a);return this._len-=a,this.addBytes(o,0,a),this._len===0&&(this._state=this._isFinal?Ur.Crc:Ur.Block),this._needed>0}case Ur.DistOne:{let a=this._len<this._needed?this._len:this._needed;return this.addDistOne(a),this._len-=a,this._len===0&&(this._state=Ur.CData),this._needed>0}case Ur.Dist:for(;this._len>0&&this._needed>0;){let a=this._len<this._dist?this._len:this._dist,o=this._needed<a?this._needed:a;this.addDist(this._dist,o),this._len-=o}return this._len===0&&(this._state=Ur.CData),this._needed>0;case Ur.CData:let s=this.applyHuffman(this._huffman);if(s<256)return this.addByte(s),this._needed>0;if(s===256)return this._state=this._isFinal?Ur.Crc:Ur.Block,!0;{s=s-257&255;let a=ni.LenExtraBitsTbl[s];if(a===-1)throw new Kr("Invalid data");this._len=ni.LenBaseValTbl[s]+this.getBits(a);let o=this._huffdist,l=o?this.applyHuffman(o):this.getRevBits(5);if(a=ni.DistExtraBitsTbl[l],a===-1)throw new Kr("Invalid data");if(this._dist=ni.DistBaseValTbl[l]+this.getBits(a),this._dist>this._window.available())throw new Kr("Invalid data");return this._state=this._dist===1?Ur.DistOne:Ur.Dist,!0}}return!1}addDistOne(e){let r=this._window.getLastChar();for(let n=0;n<e;n++)this.addByte(r)}addByte(e){this._window.addByte(e),this._output[this._outpos]=e,this._needed--,this._outpos++}addDist(e,r){this.addBytes(this._window.buffer,this._window.pos-e,r)}getBit(){this._nbits===0&&(this._nbits=8,this._bits=this._input.readByte());let e=(this._bits&1)===1;return this._nbits--,this._bits=this._bits>>1,e}getBits(e){for(;this._nbits<e;)this._bits=this._bits|this._input.readByte()<<this._nbits,this._nbits+=8;let r=this._bits&(1<<e)-1;return this._nbits-=e,this._bits=this._bits>>e,r}getRevBits(e){return e===0?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)}resetBits(){this._bits=0,this._nbits=0}addBytes(e,r,n){this._window.addBytes(e,r,n),this._output.set(e.subarray(r,r+n),this._outpos),this._needed-=n,this._outpos+=n}inflateLengths(e,r){let n=0,i=0;for(;n<r;){let s=this.applyHuffman(this._huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[n]=s,n++;break;case 16:let a=n+3+this.getBits(2);if(a>r)throw new Kr("Invalid data");for(;n<a;)e[n]=i,n++;break;case 17:if(n+=3+this.getBits(3),n>r)throw new Kr("Invalid data");break;case 18:if(n+=11+this.getBits(7),n>r)throw new Kr("Invalid data");break;default:throw new Kr("Invalid data")}}}applyHuffman(e){if(e instanceof Mg)return e.n;if(e instanceof ac)return this.applyHuffman(this.getBit()?e.right:e.left);if(e instanceof TS)return this.applyHuffman(e.table[this.getBits(e.n)]);throw new Kr("Invalid data")}}ni.LenExtraBitsTbl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];ni.LenBaseValTbl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];ni.DistExtraBitsTbl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];ni.DistBaseValTbl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];ni.CodeLengthsPos=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];ni._fixedHuffman=ni.buildFixedHuffman();class ko{constructor(e,r){this.fullName=e;let n=e.lastIndexOf("/");this.fileName=n===-1||n===e.length-1?this.fullName:e.substr(n+1),this.data=r}}ko.OptionalDataDescriptorSignature=134695760;ko.CompressionMethodDeflate=8;ko.LocalFileHeaderSignature=67324752;ko.CentralFileHeaderSignature=33639248;ko.EndOfCentralDirSignature=101010256;class oA{constructor(e){this._readable=e}read(){let e=[];for(;;){let r=this.readEntry();if(!r)break;e.push(r)}return e}readEntry(){let e=this._readable;if(ue.readInt32LE(e)!==ko.LocalFileHeaderSignature)return null;ue.readUInt16LE(e);let n=ue.readUInt16LE(e),i=ue.readUInt16LE(e),s=i!==0;if(s&&i!==ko.CompressionMethodDeflate)return null;ue.readInt16LE(this._readable),ue.readInt16LE(this._readable),ue.readInt32LE(e),ue.readInt32LE(e);let a=ue.readInt32LE(e),o=ue.readInt16LE(e),l=ue.readInt16LE(e),c=ue.toString(ue.readByteArray(e,o),"utf-8");e.skip(l);let u;if(s){let d=Wn.empty(),h=new ni(this._readable),p=new Uint8Array(65536);for(;;){let f=h.readBytes(p,0,p.length);if(d.write(p,0,f),f<p.length)break}u=d.toArray()}else u=ue.readByteArray(this._readable,a);return n&8&&(ue.readInt32LE(this._readable)===ko.OptionalDataDescriptorSignature&&ue.readInt32LE(this._readable),ue.readInt32LE(this._readable),ue.readInt32LE(this._readable)),new ko(c,u)}}class Dse extends Wd{get name(){return"Guitar Pro 7"}constructor(){super()}readScore(){ve.debug(this.name,"Loading ZIP entries");let e=new oA(this.data),r;try{r=e.read()}catch(l){throw new Zr("No Zip archive",l)}ve.debug(this.name,"Zip entries loaded");let n=null,i=null,s=null;for(let l of r)switch(l.fileName){case"score.gpif":n=ue.toString(l.data,this.settings.importer.encoding);break;case"BinaryStylesheet":i=l.data;break;case"PartConfiguration":s=l.data;break}if(!n)throw new Zr("No score.gpif found in zip archive");ve.debug(this.name,"Start Parsing score.gpif");let a=new Ns;a.parseXml(n,this.settings),ve.debug(this.name,"score.gpif parsed");let o=a.score;return i&&(ve.debug(this.name,"Start Parsing BinaryStylesheet"),new Ib(i).apply(o),ve.debug(this.name,"BinaryStylesheet parsed")),s&&(ve.debug(this.name,"Start Parsing Part Configuration"),new aA(s).apply(o),ve.debug(this.name,"Part Configuration parsed")),o}}class qf extends Tn{constructor(){super(Cn.Format,"Unexpected end of data within reader"),Object.setPrototypeOf(this,qf.prototype)}}class Kf{constructor(e){this._currentByte=0,this._position=Kf.ByteSize,this._source=e}readByte(){return this.readBits(8)}readBytes(e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=this.readByte()&255;return r}readBits(e){let r=0,n=e-1;for(;n>=0;)r=r|this.readBit()<<n,n--;return r}readBitsReversed(e){let r=0;for(let n=0;n<e;n++)r=r|this.readBit()<<n;return r}readBit(){if(this._position>=8){if(this._currentByte=this._source.readByte(),this._currentByte===-1)throw new qf;this._position=0}const e=this._currentByte>>Kf.ByteSize-this._position-1&1;return this._position++,e}readAll(){let e=Wn.empty();try{for(;;)e.writeByte(this.readByte()&255)}catch(r){if(!(r instanceof qf))throw r}return e.toArray()}}Kf.ByteSize=8;class Lse{constructor(){this.fileName="",this.fileSize=0,this.data=null}}class Hd{constructor(){this.files=[],this.files=[],this.fileFilter=e=>!0}load(e){let r=new Kf(e);this.readBlock(r)}readHeader(e){return this.getString(e.readBytes(4),0,4)}decompress(e,r=!1){let n=Wn.empty(),i,s=this.getInteger(e.readBytes(4),0);try{for(;n.length<s;)if(e.readBits(1)===1){let d=e.readBits(4),h=e.readBitsReversed(d),p=e.readBitsReversed(d),f=n.length-h,m=Math.min(h,p);i=n.getBuffer(),n.write(i,f,m)}else{let d=e.readBitsReversed(2);for(let h=0;h<d;h++)n.writeByte(e.readByte())}}catch(u){if(!(u instanceof qf))throw u}i=n.getBuffer();let a=r?4:0,o=n.length-a,l=new Uint8Array(o),c=o;return l.set(i.subarray(a,a+c),0),l}readBlock(e){let r=this.readHeader(e);if(r==="BCFZ")this.readUncompressedBlock(this.decompress(e,!0));else if(r==="BCFS")this.readUncompressedBlock(e.readAll());else throw new Zr("Unsupported format")}readUncompressedBlock(e){let r=4096,n=r;for(;n+3<e.length;){if(this.getInteger(e,n)===2){let s=new Lse;s.fileName=this.getString(e,n+4,127),s.fileSize=this.getInteger(e,n+140);let a=!this.fileFilter||this.fileFilter(s.fileName);a&&this.files.push(s);let o=n+148,l=0,c=0,u=a?Wn.withCapacity(s.fileSize):null;for(;l=this.getInteger(e,o+4*c++),l!==0;)n=l*r,a&&u.write(e,n,r);if(a){s.data=new Uint8Array(Math.min(s.fileSize,u.length));let d=u.toArray();s.data.set(d.subarray(0,0+s.data.length),0)}}n+=r}}getString(e,r,n){let i="";for(let s=0;s<n;s++){let a=e[r+s]&255;if(a===0)break;i+=String.fromCharCode(a)}return i}getInteger(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}}Hd.HeaderBcFs="BCFS";Hd.HeaderBcFz="BCFZ";Hd.ScoreGpif="score.gpif";Hd.BinaryStylesheet="BinaryStylesheet";Hd.PartConfiguration="PartConfiguration";class Ise extends Wd{get name(){return"Guitar Pro 6"}constructor(){super()}readScore(){ve.debug(this.name,"Loading GPX filesystem");let e=new Hd;e.fileFilter=o=>o.endsWith("score.gpif")||o.endsWith("BinaryStylesheet")||o.endsWith("PartConfiguration"),e.load(this.data),ve.debug(this.name,"GPX filesystem loaded");let r=null,n=null,i=null;for(let o of e.files)switch(o.fileName){case"score.gpif":r=ue.toString(o.data,this.settings.importer.encoding);break;case"BinaryStylesheet":n=o.data;break;case"PartConfiguration":i=o.data;break}if(!r)throw new Zr("No score.gpif found in GPX");ve.debug(this.name,"Start Parsing score.gpif");let s=new Ns;s.parseXml(r,this.settings),ve.debug(this.name,"score.gpif parsed");let a=s.score;return n&&(ve.debug(this.name,"Start Parsing BinaryStylesheet"),new Ib(n).apply(a),ve.debug(this.name,"BinaryStylesheet parsed")),i&&(ve.debug(this.name,"Start Parsing Part Configuration"),new aA(i).apply(a),ve.debug(this.name,"Part Configuration parsed")),a}}class Fse extends Wd{get name(){return"MusicXML"}constructor(){super(),this._currentPartGroup=null,this._trackFirstMeasureNumber=0,this._maxVoices=0,this._currentDirection=null,this._currentChord=null,this._divisionsPerQuarterNote=0,this._voiceOfStaff=new Map,this._isBeamContinue=!1,this._previousBeatWasPulled=!1,this._previousBeat=null}readScore(){this._trackById=new Map,this._partGroups=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._slurStarts=new Map;let e=ue.toString(this.data.readAll(),this.settings.importer.encoding),r=new wC;try{r.parse(e)}catch{throw new Zr("Unsupported format")}return this._score=new Jc,this._score.tempo=120,this.parseDom(r),this.settings.importer.mergePartGroupsInMusicXml&&this.mergePartGroups(),this._score.finish(this.settings),this._score.rebuildRepeatGroups(),this._score}mergePartGroups(){let e=!1;for(const r of this._partGroups.values())r.length>1&&(this.mergeGroup(r),e=!0);if(e)for(let r=0;r<this._score.tracks.length;r++)this._score.tracks[r].index=r}mergeGroup(e){let r=e[0];for(let n=1;n<e.length;n++){let i=e[n];for(let a of i.staves)r.addStaff(a);let s=this._score.tracks.indexOf(i);this._score.tracks.splice(s,1)}}parseDom(e){let r=e.firstElement;if(!r)throw new Zr("Unsupported format");switch(r.localName){case"score-partwise":this.parsePartwise(r);break;case"score-timewise":break;default:throw new Zr("Unsupported format")}}parsePartwise(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"work":this.parseWork(r);break;case"movement-title":this._score.title=r.innerText;break;case"identification":this.parseIdentification(r);break;case"part-list":this.parsePartList(r);break;case"part":this.parsePart(r);break}}parseWork(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"work-title":this._score.title=r.innerText;break}}parsePart(e){let r=e.getAttribute("id");if(!this._trackById.has(r))if(this._trackById.size===1){for(const[s,a]of this._trackById)(a.staves.length===0||a.staves[0].bars.length===0)&&(r=s);if(!this._trackById.has(r))return}else return;let n=this._trackById.get(r),i=!0;this._maxVoices=0;for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"measure":this.parseMeasure(s,n,i)&&(i=!1);break}for(let s of n.staves)for(let a of s.bars)this.ensureVoices(a)}parseMeasure(e,r,n){if(e.getAttribute("implicit")==="yes"&&e.getElementsByTagName("note",!1).length===0)return!1;let i=0;if(n)this._divisionsPerQuarterNote=0,this._trackFirstMeasureNumber=parseInt(e.getAttribute("number")),this._trackFirstMeasureNumber||(this._trackFirstMeasureNumber=0),i=0;else{if(i=parseInt(e.getAttribute("number")),!i)return!1;i-=this._trackFirstMeasureNumber}if(n){let l=e.getElementsByTagName("attributes",!1);if(l.length>0){let c=l[0].getElementsByTagName("staves",!1);if(c.length>0){let u=parseInt(c[0].innerText);r.ensureStaveCount(u)}}}let s=new Array(r.staves.length),a=null;for(let l=r.staves[0].bars.length;l<=i;l++)for(let c=0;c<r.staves.length;c++){let u=new jo;if(s[c]=u,r.staves[c].bars.length>0){let d=r.staves[c].bars[r.staves[c].bars.length-1];u.clef=d.clef}a=this.getOrCreateMasterBar(i),r.staves[c].addBar(u),this.ensureVoices(u)}let o=new Map;if(a){let l=!1;for(let c of e.childNodes)if(c.nodeType===be.Element)switch(c.localName){case"note":this.parseNoteBeat(c,s);break;case"forward":this.parseForward(c,s);break;case"direction":this.parseDirection(c,a);break;case"attributes":l||(this.parseAttributes(c,s,a,r),l=!0);break;case"harmony":this.parseHarmony(c,r,o);break;case"sound":break;case"barline":this.parseBarline(c,a);break}}return!0}ensureVoices(e){for(;e.voices.length<this._maxVoices;){let r=new ao;e.addVoice(r);let n=new zn;n.isEmpty=!0,n.chordId=this._currentChord,r.addBeat(n)}}getOrCreateBeat(e,r,n){let i=0,s=e.getElementsByTagName("voice",!1);s.length>0&&(i=parseInt(s[0].innerText)-1);let a=this._previousBeatWasPulled;this._previousBeatWasPulled=!1;let o=e.getElementsByTagName("staff",!1),l=1;if(o.length>0){l=parseInt(o[0].innerText),(this._isBeamContinue||a)&&this._previousBeat.voice.bar.staff.index!==l-1&&(l=this._previousBeat.voice.bar.staff.index+1,this._previousBeatWasPulled=!0);let h=r[0].staff.track.index+"-"+l;this._voiceOfStaff.has(h)||this._voiceOfStaff.set(h,i)}l--;let c;l<0?c=r[0]:l>=r.length?c=r[r.length-1]:c=r[l];let u,d=this.getOrCreateVoice(c,i);return n&&d.beats.length>0||d.beats.length===1&&d.isEmpty?u=d.beats[d.beats.length-1]:(u=new zn,u.isEmpty=!1,d.addBeat(u)),this._isBeamContinue=!1,this._previousBeat=u,u}parseForward(e,r){let n=this.getOrCreateBeat(e,r,!1),s=parseInt(e.findChildElement("duration").innerText)*H.Quarter/this._divisionsPerQuarterNote,a=[H.SixtyFourth,H.ThirtySecond,H.Sixteenth,H.Eighth,H.Quarter,H.Half,H.Whole];for(let o of a)if(s>=o){n.duration=o,s-=o;break}n.isEmpty=!1}parseStaffDetails(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"staff-lines":for(let i of r.staves)i.stringTuning.tunings=new Array(parseInt(n.innerText)).fill(0);break;case"staff-tuning":this.parseStaffTuning(n,r);break}for(let n of r.staves)this.isEmptyTuning(n.tuning)&&(n.stringTuning.tunings=[])}parseStaffTuning(e,r){let n=parseInt(e.getAttribute("line")),i="C",s="",a=0;for(let l of e.childNodes)if(l.nodeType===be.Element)switch(l.localName){case"tuning-step":i=l.innerText;break;case"tuning-alter":a=parseInt(l.innerText);break;case"tuning-octave":s=l.innerText;break}let o=ir.getTuningForText(i+s)+a;for(let l of r.staves)l.tuning[l.tuning.length-n]=o}parseHarmony(e,r,n){let i=new Il;for(let a of e.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"root":i.name=this.parseHarmonyRoot(a);break;case"kind":i.name=i.name+this.parseHarmonyKind(a);break;case"frame":this.parseHarmonyFrame(a,i);break}this._currentChord=ir.newGuid();const s=i.uniqueId;n.has(s)&&(i.showDiagram=!1);for(let a of r.staves)a.addChord(this._currentChord,i);n.set(s,i)}parseHarmonyRoot(e){let r="",n="";for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"root-step":r=i.innerText;break;case"root-alter":switch(parseInt(e.innerText)){case-2:n="bb";break;case-1:n="b";break;case 0:n="";break;case 1:n="#";break;case 2:n="##";break}break}return r+n}parseHarmonyKind(e){const r=e.getAttribute("text");let n="";if(r)n=r;else switch(e.innerText){case"major":n="";break;case"minor":n="m";break;case"augmented":n="+";break;case"diminished":n="";break;case"dominant":n="7";break;case"major-seventh":n="7M";break;case"minor-seventh":n="m7";break;case"diminished-seventh":n="7";break;case"augmented-seventh":n="+7";break;case"half-diminished":n="";break;case"major-minor":n="mMaj";break;case"major-sixth":n="maj6";break;case"minor-sixth":n="m6";break;case"dominant-ninth":n="9";break;case"major-ninth":n="maj9";break;case"minor-ninth":n="m9";break;case"dominant-11th":n="11";break;case"major-11th":n="maj11";break;case"minor-11th":n="m11";break;case"dominant-13th":n="13";break;case"major-13th":n="maj13";break;case"minor-13th":n="m13";break;case"suspended-second":n="sus2";break;case"suspended-fourth":n="sus4";break}return n}parseHarmonyFrame(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"frame-strings":const i=parseInt(n.innerText);r.strings=new Array(i);for(let o=0;o<i;o++)r.strings[o]=-1;break;case"first-fret":r.firstFret=parseInt(n.innerText);break;case"frame-note":let s=null,a=null;for(let o of n.childNodes)switch(o.localName){case"string":s=parseInt(o.innerText);break;case"fret":a=parseInt(o.innerText),s&&a>=0&&(r.strings[s-1]=a);break;case"barre":s&&a&&o.getAttribute("type")==="start"&&r.barreFrets.push(a);break}break}}parseBarline(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"repeat":this.parseRepeat(n,r);break;case"ending":this.parseEnding(n,r);break}}parseEnding(e,r){let n=parseInt(e.getAttribute("number"));n>0&&(--n,r.alternateEndings=r.alternateEndings|1<<n&255)}parseRepeat(e,r){let n=e.getAttribute("direction"),i=parseInt(e.getAttribute("times"));(i<0||isNaN(i))&&(i=2),n==="backward"?r.repeatCount=i:n==="forward"&&(r.isRepeatStart=!0)}parseNoteBeat(e,r){let n=e.getElementsByTagName("chord",!1).length>0,i=this.getOrCreateBeat(e,r,n);!i.chordId&&this._currentChord&&(i.chordId=this._currentChord,this._currentChord=null),this._currentDirection&&(i.text=this._currentDirection,this._currentDirection=null);let s=new Rr;i.voice.isEmpty=!1,i.isEmpty=!1,i.addNote(s),i.dots=0;let a=!1;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"grace":i.graceType=tt.BeforeBeat,i.duration=H.ThirtySecond;break;case"duration":if(i.isRest&&!a)switch(parseInt(o.innerText)){case 1:i.duration=H.Whole;break;case 2:i.duration=H.Half;break;case 4:i.duration=H.Quarter;break;case 8:i.duration=H.Eighth;break;case 16:i.duration=H.Sixteenth;break;case 32:i.duration=H.ThirtySecond;break;case 64:i.duration=H.SixtyFourth;break;default:i.duration=H.Quarter;break}break;case"tie":this.parseTied(o,s);break;case"cue":break;case"instrument":break;case"type":i.duration=this.getDuration(o.innerText),i.graceType!==tt.None&&i.duration<H.Sixteenth&&(i.duration=H.Eighth);break;case"dot":i.dots++;break;case"accidental":this.parseAccidental(o,s);break;case"time-modification":this.parseTimeModification(o,i);break;case"stem":break;case"notehead":o.getAttribute("parentheses")==="yes"&&(s.isGhost=!0);break;case"beam":o.innerText==="continue"&&(this._isBeamContinue=!0);break;case"notations":this.parseNotations(o,i,s);break;case"lyric":this.parseLyric(o,i);break;case"pitch":this.parsePitch(o,s);break;case"unpitched":this.parseUnpitched(o,s);break;case"rest":a=o.getAttribute("measure")==="yes",i.isEmpty=!1,i.notes=[],i.duration=H.Whole;break}if(s.isStringed){for(let o=0;o<i.notes.length;o++)if(i.notes[o].string===s.string&&i.notes[o]!==s){i.removeNote(s);break}}}getDuration(e){switch(e){case"256th":case"128th":case"64th":return H.SixtyFourth;case"32nd":return H.ThirtySecond;case"16th":return H.Sixteenth;case"eighth":return H.Eighth;case"quarter":return H.Quarter;case"half":return H.Half;case"long":case"breve":case"whole":return H.Whole}return H.Quarter}parseLyric(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"text":r.text?r.text+=" "+n.innerText:r.text=n.innerText;break}}parseAccidental(e,r){switch(e.innerText){case"sharp":r.accidentalMode=jr.ForceSharp;break;case"natural":r.accidentalMode=jr.ForceNatural;break;case"flat":r.accidentalMode=jr.ForceFlat;break}}parseTied(e,r){if(e.getAttribute("type")==="start")this._tieStartIds.has(r.id)||(this._tieStartIds.set(r.id,!0),this._tieStarts.push(r));else if(e.getAttribute("type")==="stop"&&this._tieStarts.length>0&&!r.isTieDestination){const n=this._tieStarts[0];n.beat.voice.index===r.beat.voice.index&&n.beat.voice.bar.staff.index===r.beat.voice.bar.staff.index&&n.beat.voice.bar.staff.track.index===r.beat.voice.bar.staff.track.index&&(r.isTieDestination=!0,r.tieOrigin=this._tieStarts[0]),this._tieStarts.splice(0,1),this._tieStartIds.delete(r.id)}}parseNotations(e,r,n){for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"articulations":this.parseArticulations(i,n);break;case"tied":this.parseTied(i,n);break;case"slide":case"glissando":i.getAttribute("type")==="start"&&(n.slideOutType=ft.Shift);break;case"dynamics":this.parseDynamics(i,r);break;case"technical":this.parseTechnical(i,n);break;case"ornaments":this.parseOrnaments(i,n);break;case"slur":let s=i.getAttribute("number");switch(s||(s="1"),s=r.voice.bar.staff.index+"_"+s,i.getAttribute("type")){case"start":this._slurStarts.set(s,n);break;case"stop":if(this._slurStarts.has(s)){n.isSlurDestination=!0;let a=this._slurStarts.get(s);a.slurDestination=n,n.slurOrigin=a}break}break}}parseOrnaments(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"tremolo":switch(parseInt(n.innerText)){case 1:r.beat.tremoloSpeed=H.Eighth;break;case 2:r.beat.tremoloSpeed=H.Sixteenth;break;case 3:r.beat.tremoloSpeed=H.ThirtySecond;break}break}}parseTechnical(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"string":r.string=parseInt(n.innerText),r.string!==-2147483648&&(r.string=r.beat.voice.bar.staff.tuning.length-r.string+1);break;case"fret":r.fret=parseInt(n.innerText);break;case"down-bow":r.beat.pickStroke=Fn.Down;break;case"up-bow":r.beat.pickStroke=Fn.Up;break}(r.string===-2147483648||r.fret===-2147483648)&&(r.string=-1,r.fret=-1)}parseArticulations(e,r){for(let n of e.childNodes)switch(n.localName){case"accent":r.accentuated=en.Normal;break;case"strong-accent":r.accentuated=en.Heavy;break;case"staccato":case"detached-legato":r.isStaccato=!0;break}}parseDynamics(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"p":r.dynamics=wt.P;break;case"pp":r.dynamics=wt.PP;break;case"ppp":r.dynamics=wt.PPP;break;case"f":r.dynamics=wt.F;break;case"ff":r.dynamics=wt.FF;break;case"fff":r.dynamics=wt.FFF;break;case"mp":r.dynamics=wt.MP;break;case"mf":r.dynamics=wt.MF;break}}parseTimeModification(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"actual-notes":r.tupletNumerator=parseInt(n.innerText);break;case"normal-notes":r.tupletDenominator=parseInt(n.innerText);break}}parseUnpitched(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"display-step":n=o.innerText;break;case"display-alter":i=parseInt(o.innerText);break;case"display-octave":s=parseInt(o.innerText);break}let a=s*12+ir.getToneForText(n)+i;r.octave=a/12|0,r.tone=a-r.octave*12}parsePitch(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"step":n=o.innerText;break;case"alter":i=parseFloat(o.innerText),isNaN(i)&&(i=0);break;case"octave":s=parseInt(o.innerText)+1;break}let a=s*12+ir.getToneForText(n)+(i|0);r.octave=a/12|0,r.tone=a-r.octave*12}getOrCreateVoice(e,r){if(r<e.voices.length)return e.voices[r];for(let n=e.voices.length;n<=r;n++)e.addVoice(new ao);return this._maxVoices=Math.max(this._maxVoices,e.voices.length),e.voices[r]}parseDirection(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"sound":let i=n.getAttribute("tempo");if(i){let a=new $n;a.isLinear=!0,a.type=mn.Tempo,a.value=parseInt(i),r.tempoAutomation=a,r.index===0&&(r.score.tempo=a.value)}break;case"direction-type":let s=n.firstElement;switch(s.localName){case"words":this._currentDirection=s.innerText;break;case"metronome":this.parseMetronome(s,r);break}break}}parseMetronome(e,r){let n=H.Quarter,i=120;for(let a of e.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"beat-unit":n=this.getDuration(a.innerText);break;case"per-minute":i=parseInt(a.innerText);break}let s=new $n;s.type=mn.Tempo,s.value=i*(n/4|0),r.tempoAutomation=s,r.index===0&&(r.score.tempo=s.value)}parseAttributes(e,r,n,i){let s=0,a=!1;for(let o of e.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"divisions":this._divisionsPerQuarterNote=parseInt(o.innerText);break;case"key":this.parseKey(o,n);break;case"time":this.parseTime(o,n),a=!0;break;case"clef":s=parseInt(o.getAttribute("number")),isNaN(s)&&(s=1),this.parseClef(o,r[s-1]);break;case"staff-details":this.parseStaffDetails(o,i);break;case"transpose":this.parseTranspose(o,i);break}a||(n.timeSignatureCommon=!0)}parseTranspose(e,r){let n=0;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"chromatic":n+=parseInt(i.innerText);break;case"octave-change":n+=parseInt(i.innerText)*12;break}for(let i of r.staves)i.transpositionPitch=n}parseClef(e,r){let n="s",i=0;for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"sign":n=s.innerText.toLowerCase();break;case"line":i=parseInt(s.innerText);break;case"clef-octave-change":switch(parseInt(s.innerText)){case-2:r.clefOttava=$t._15mb;break;case-1:r.clefOttava=$t._8vb;break;case 1:r.clefOttava=$t._8va;break;case 2:r.clefOttava=$t._15mb;break}break}switch(n){case"g":r.clef=ct.G2;break;case"f":r.clef=ct.F4;break;case"c":i===3?r.clef=ct.C3:r.clef=ct.C4;break;case"percussion":r.clef=ct.Neutral,r.staff.isPercussion=!0;break;case"tab":r.clef=ct.G2,r.staff.showTablature=!0;break;default:r.clef=ct.G2;break}}parseTime(e,r){e.getAttribute("symbol")==="common"&&(r.timeSignatureCommon=!0);let n=!1,i=!1;for(let s of e.childNodes)if(s.nodeType===be.Element){let a=s.innerText;switch(s.localName){case"beats":n||(a.indexOf("+")===-1?r.timeSignatureNumerator=parseInt(a):r.timeSignatureNumerator=4,n=!0);break;case"beat-type":i||(a.indexOf("+")===-1?r.timeSignatureDenominator=parseInt(a):r.timeSignatureDenominator=4,i=!0);break}}}parseKey(e,r){let n=-2147483648,i="";for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"fifths":n=parseInt(s.innerText);break;case"key-step":break;case"key-alter":break;case"mode":i=s.innerText;break}-7<=n&&n<=7?r.keySignature=n:r.keySignature=ln.C,i==="minor"?r.keySignatureType=Fl.Minor:r.keySignatureType=Fl.Major}getOrCreateMasterBar(e){if(e<this._score.masterBars.length)return this._score.masterBars[e];for(let r=this._score.masterBars.length;r<=e;r++){let n=new Oo;if(this._score.masterBars.length>0){let i=this._score.masterBars[this._score.masterBars.length-1];n.timeSignatureDenominator=i.timeSignatureDenominator,n.timeSignatureNumerator=i.timeSignatureNumerator,n.keySignature=i.keySignature,n.keySignatureType=i.keySignatureType}this._score.addMasterBar(n)}return this._score.masterBars[e]}parseIdentification(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"creator":r.getAttribute("type")==="composer"&&(this._score.music=r.innerText);break;case"rights":this._score.copyright&&(this._score.copyright+=`
`),this._score.copyright+=r.innerText;break}}parsePartList(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"part-group":this.parsePartGroup(r);break;case"score-part":this.parseScorePart(r);break}}parsePartGroup(e){switch(e.getAttribute("type")){case"start":this._currentPartGroup=e.getAttribute("number"),this._partGroups.set(this._currentPartGroup,[]);break;case"stop":this._currentPartGroup=null;break}}parseScorePart(e){let r=e.getAttribute("id"),n=new so;n.ensureStaveCount(1);let i=n.staves[0];i.showStandardNotation=!0,this._trackById.set(r,n),this._score.addTrack(n),this._currentPartGroup&&this._partGroups.get(this._currentPartGroup).push(n);for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"part-name":n.name=s.innerText;break;case"part-abbreviation":n.shortName=s.innerText;break;case"midi-instrument":this.parseMidiInstrument(s,n);break}this.isEmptyTuning(n.staves[0].tuning)&&(n.staves[0].stringTuning.tunings=[])}isEmptyTuning(e){if(!e)return!0;for(let r=0;r<e.length;r++)if(e[r]!==0)return!1;return!0}parseMidiInstrument(e,r){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"midi-channel":r.playbackInfo.primaryChannel=parseInt(n.innerText);break;case"midi-program":r.playbackInfo.program=parseInt(n.innerText);break;case"volume":r.playbackInfo.volume=Math.floor(parseInt(n.innerText)/100*16);break;case"pan":r.playbackInfo.balance=Math.max(0,Math.min(16,Math.floor((parseInt(n.innerText)+90)/180*16)));break}}}var bd;(function(t){t[t.SingleTrackMultiChannel=0]="SingleTrackMultiChannel",t[t.MultiTrack=1]="MultiTrack"})(bd||(bd={}));class lA{constructor(){this.events=[]}addEvent(e){if(this.events.length===0||e.tick>=this.events[this.events.length-1].tick)this.events.push(e);else{let r=this.events.length;for(;r>0&&this.events[r-1].tick>e.tick;)r--;this.events.splice(r,0,e)}}writeTo(e){let r=Wn.empty(),n=0;for(let a of this.events){let o=a.tick-n;Pl.writeVariableInt(r,o),a.writeTo(r),n=a.tick}const i=new Uint8Array([77,84,114,107]);e.write(i,0,i.length);let s=r.toArray();ue.writeInt32BE(e,s.length),e.write(s,0,s.length)}}class Pl{constructor(){this.format=bd.SingleTrackMultiChannel,this.division=ut.QuarterTime,this.tracks=[]}get events(){if(this.tracks.length==1)return this.tracks[0].events;{const e=[];for(const r of this.tracks)this.events.push(...r.events);return e.sort((r,n)=>r.tick-n.tick),e}}ensureTracks(e){for(;this.tracks.length<e;)this.tracks.push(new lA)}addEvent(e){this.format==bd.SingleTrackMultiChannel?(this.ensureTracks(1),this.tracks[0].addEvent(e)):(this.ensureTracks(e.track+1),this.tracks[e.track].addEvent(e))}toBinary(){let e=Wn.empty();return this.writeTo(e),e.toArray()}writeTo(e){let r=new Uint8Array([77,84,104,100]);e.write(r,0,r.length),ue.writeInt32BE(e,6),ue.writeInt16BE(e,this.format),ue.writeInt16BE(e,this.tracks.length),ue.writeInt16BE(e,this.division);for(const n of this.tracks)n.writeTo(e)}static writeVariableInt(e,r){let n=new Uint8Array(4),i=0;do n[i++]=r&127,r>>=7;while(r>0);for(;i>0;)i--,i>0?e.writeByte(n[i]|128):e.writeByte(n[i])}}var Et;(function(t){t[t.TimeSignature=88]="TimeSignature",t[t.NoteOn=128]="NoteOn",t[t.NoteOff=144]="NoteOff",t[t.ControlChange=176]="ControlChange",t[t.ProgramChange=192]="ProgramChange",t[t.TempoChange=81]="TempoChange",t[t.PitchBend=224]="PitchBend",t[t.PerNotePitchBend=96]="PerNotePitchBend",t[t.EndOfTrack=47]="EndOfTrack",t[t.AlphaTabRest=241]="AlphaTabRest",t[t.AlphaTabMetronome=242]="AlphaTabMetronome",t[t.SystemExclusive=240]="SystemExclusive",t[t.SystemExclusive2=247]="SystemExclusive2",t[t.Meta=255]="Meta"})(Et||(Et={}));class Yo{constructor(e,r,n){this.track=e,this.tick=r,this.type=n}get command(){return this.type}get message(){return 0}get data1(){return 0}get data2(){return 0}}class cA extends Yo{constructor(e,r,n,i,s,a){super(e,r,Et.TimeSignature),this.track=e,this.tick=r,this.numerator=n,this.denominatorIndex=i,this.midiClocksPerMetronomeClick=s,this.thirtySecondNodesInQuarter=a}writeTo(e){e.writeByte(255),e.writeByte(88),Pl.writeVariableInt(e,4),e.writeByte(this.numerator&255),e.writeByte(this.denominatorIndex&255),e.writeByte(this.midiClocksPerMetronomeClick&255),e.writeByte(this.thirtySecondNodesInQuarter&255)}}class $o extends Yo{constructor(e,r,n){super(e,r,n)}writeTo(e){e.writeByte(240);const r=Wn.withCapacity(16);r.writeByte($o.AlphaTabManufacturerId),this.writeEventData(r),r.writeByte(247),Pl.writeVariableInt(e,r.length),r.copyTo(e)}}$o.AlphaTabManufacturerId=125;$o.MetronomeEventId=0;$o.RestEventId=1;class uA extends $o{constructor(e,r,n,i,s){super(e,r,Et.AlphaTabMetronome),this.isMetronome=!0,this.metronomeNumerator=n,this.metronomeDurationInMilliseconds=s,this.metronomeDurationInTicks=i}writeEventData(e){e.writeByte($o.MetronomeEventId),e.writeByte(this.metronomeNumerator),ue.writeInt32LE(e,this.metronomeDurationInTicks),ue.writeInt32LE(e,this.metronomeDurationInMilliseconds)}}class dA extends $o{constructor(e,r,n){super(e,r,Et.AlphaTabRest),this.channel=n}writeEventData(e){e.writeByte($o.RestEventId),e.writeByte(this.channel)}}class hA extends Yo{constructor(e,r,n,i,s,a){super(e,r,n),this.channel=i,this.noteKey=s,this.noteVelocity=a}get data1(){return this.noteKey}get data2(){return this.noteVelocity}}class fA extends hA{constructor(e,r,n,i,s){super(e,r,Et.NoteOn,n,i,s)}writeTo(e){e.writeByte(this.channel&15|144),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class pA extends hA{constructor(e,r,n,i,s){super(e,r,Et.NoteOff,n,i,s)}writeTo(e){e.writeByte(this.channel&15|128),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class mA extends Yo{constructor(e,r,n,i,s){super(e,r,Et.ControlChange),this.channel=n,this.controller=i,this.value=s}writeTo(e){e.writeByte(this.channel&15|176),e.writeByte(this.controller&255),e.writeByte(this.value&255)}get data1(){return this.controller}get data2(){return this.value}}class gA extends Yo{constructor(e,r,n,i){super(e,r,Et.ProgramChange),this.channel=n,this.program=i}writeTo(e){e.writeByte(this.channel&15|192),e.writeByte(this.program&255)}get data1(){return this.program}}class yA extends Yo{constructor(e,r){super(0,e,Et.TempoChange),this.microSecondsPerQuarterNote=r}writeTo(e){e.writeByte(255),e.writeByte(81),e.writeByte(3),e.writeByte(this.microSecondsPerQuarterNote>>16&255),e.writeByte(this.microSecondsPerQuarterNote>>8&255),e.writeByte(this.microSecondsPerQuarterNote&255)}}class bA extends Yo{constructor(e,r,n,i){super(e,r,Et.PitchBend),this.channel=n,this.value=i}writeTo(e){e.writeByte(this.channel&15|224),e.writeByte(this.value&127),e.writeByte(this.value>>7&127)}get data1(){return this.value&127}get data2(){return this.value>>7&127}}class vA extends Yo{constructor(e,r,n,i,s){super(e,r,Et.PerNotePitchBend),this.channel=n,this.noteKey=i,this.value=s}writeTo(e){throw new Tn(Cn.General,"Note Bend (Midi2.0) events cannot be exported to SMF1.0")}}class wA extends Yo{constructor(e,r){super(e,r,Et.EndOfTrack)}writeTo(e){e.writeByte(255),e.writeByte(47),e.writeByte(0)}}class lf{constructor(e,r){this.time=0,this.eventIndex=e,this.event=r,this.isMetronome=this.event.type==Et.AlphaTabMetronome}static newMetronomeEvent(e,r,n,i,s){const a=new uA(0,r,n,i,s);return new lf(e,a)}}class mt{}mt.DefaultChannelCount=17;mt.MetronomeChannel=mt.DefaultChannelCount-1;mt.AudioChannels=2;mt.MinVolume=0;mt.MinProgram=0;mt.MaxProgram=127;mt.MinPlaybackSpeed=.125;mt.MaxPlaybackSpeed=8;mt.MaxPitchWheel=16384;mt.MaxPitchWheel20=4294967296;mt.DefaultPitchWheel=mt.MaxPitchWheel/2;mt.MicroBufferCount=32;mt.MicroBufferSize=64;class fN{constructor(e,r,n){this.bpm=e,this.ticks=r,this.time=n}}class tw{constructor(){this.tempoChanges=[],this.firstProgramEventPerChannel=new Map,this.firstTimeSignatureNumerator=0,this.firstTimeSignatureDenominator=0,this.synthData=[],this.division=ut.QuarterTime,this.eventIndex=0,this.currentTime=0,this.playbackRange=null,this.playbackRangeStartTime=0,this.playbackRangeEndTime=0,this.endTick=0,this.endTime=0}}class Ase{get isPlayingMain(){return this._currentState==this._mainState}get isPlayingOneTimeMidi(){return this._currentState==this._oneTimeState}get isPlayingCountIn(){return this._currentState==this._countInState}constructor(e){this._oneTimeState=null,this._countInState=null,this.isLooping=!1,this.playbackSpeed=1,this._synthesizer=e,this._mainState=new tw,this._currentState=this._mainState}get mainPlaybackRange(){return this._mainState.playbackRange}set mainPlaybackRange(e){this._mainState.playbackRange=e,e&&(this._mainState.playbackRangeStartTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.startTick,1),this._mainState.playbackRangeEndTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.endTick,1))}get currentTime(){return this._currentState.currentTime/this.playbackSpeed}get currentEndTick(){return this._currentState.endTick}get currentEndTime(){return this._currentState.endTime/this.playbackSpeed}mainSeek(e){if(e*=this.playbackSpeed,this.mainPlaybackRange&&(e<this._mainState.playbackRangeStartTime?e=this._mainState.playbackRangeStartTime:e>this._mainState.playbackRangeEndTime&&(e=this._mainState.playbackRangeEndTime)),e>this._mainState.currentTime)this.mainSilentProcess(e-this._mainState.currentTime);else if(e<this._mainState.currentTime){if(this._mainState.currentTime=0,this._mainState.eventIndex=0,this.isPlayingMain){let r=this._synthesizer.metronomeVolume;this._synthesizer.noteOffAll(!0),this._synthesizer.resetSoft(),this._synthesizer.setupMetronomeChannel(r)}this.mainSilentProcess(e)}}mainSilentProcess(e){if(e<=0)return;let r=Date.now(),n=this._mainState.currentTime+e;if(this.isPlayingMain)for(;this._mainState.currentTime<n;)this.fillMidiEventQueueLimited(n-this._mainState.currentTime)&&this._synthesizer.synthesizeSilent(mt.MicroBufferSize);this._mainState.currentTime=n;let i=Date.now()-r;ve.debug("Sequencer","Silent seek finished in "+i+"ms (main)")}loadOneTimeMidi(e){this._oneTimeState=this.createStateFromFile(e),this._currentState=this._oneTimeState}loadMidi(e){this._mainState=this.createStateFromFile(e),this._currentState=this._mainState}createStateFromFile(e){const r=new tw;r.tempoChanges=[],r.division=e.division,r.eventIndex=0,r.currentTime=0,r.synthData=[];let n=120,i=0,s=0,a=0,o=0,l=0,c=0,u=0,d=0;for(let h of e.events){let p=new lf(r.synthData.length,h);r.synthData.push(p);let f=h.tick-d;if(i+=f,s+=f*(6e4/(n*e.division)),p.time=s,d=h.tick,o>0)for(;c<i;){let m=lf.newMetronomeEvent(r.synthData.length,c,Math.floor(c/o)%a,o,l);r.synthData.push(m),m.time=u,c+=o,u+=l}if(h.type===Et.TempoChange)n=6e7/h.microSecondsPerQuarterNote,r.tempoChanges.push(new fN(n,i,s)),l=o*(6e4/(n*e.division));else if(h.type===Et.TimeSignature){let m=h,g=Math.pow(2,m.denominatorIndex);a=m.numerator,o=r.division*(4/g)|0,l=o*(6e4/(n*e.division)),r.firstTimeSignatureDenominator===0&&(r.firstTimeSignatureNumerator=m.numerator,r.firstTimeSignatureDenominator=g)}else if(h.type===Et.ProgramChange){let m=h.channel;r.firstProgramEventPerChannel.has(m)||r.firstProgramEventPerChannel.set(m,p)}}return r.synthData.sort((h,p)=>h.time>p.time?1:h.time<p.time?-1:h.eventIndex-p.eventIndex),r.endTime=s,r.endTick=i,r}fillMidiEventQueue(){return this.fillMidiEventQueueLimited(-1)}fillMidiEventQueueLimited(e){let r=mt.MicroBufferSize/this._synthesizer.outSampleRate*1e3*this.playbackSpeed,n=this.internalEndTime;e>0&&(e<r&&(r=e),n=Math.min(this.internalEndTime,this._currentState.currentTime+e));let i=!1;for(this._currentState.currentTime+=r;this._currentState.eventIndex<this._currentState.synthData.length&&this._currentState.synthData[this._currentState.eventIndex].time<this._currentState.currentTime&&this._currentState.currentTime<n;)this._synthesizer.dispatchEvent(this._currentState.synthData[this._currentState.eventIndex]),this._currentState.eventIndex++,i=!0;return i}mainTickPositionToTimePosition(e){return this.tickPositionToTimePositionWithSpeed(this._mainState,e,this.playbackSpeed)}mainTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._mainState,e,this.playbackSpeed)}currentTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._currentState,e,this.playbackSpeed)}tickPositionToTimePositionWithSpeed(e,r,n){let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.ticks)break;i=o.time,s=o.bpm,a=o.ticks}return r-=a,i+=r*(6e4/(s*e.division)),i/n}timePositionToTickPositionWithSpeed(e,r,n){r*=n;let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.time)break;i=o.ticks,s=o.bpm,a=o.time}return r-=a,i+=r/(6e4/(s*e.division))|0,i+1}get internalEndTime(){return this.isPlayingMain?this.mainPlaybackRange?this._currentState.playbackRangeEndTime:this._currentState.endTime:this._currentState.endTime}get isFinished(){return this._currentState.currentTime>=this.internalEndTime}stop(){this.isPlayingMain&&this.mainPlaybackRange?this._currentState.currentTime=this.mainPlaybackRange.startTick:this._currentState.currentTime=0,this._currentState.eventIndex=0}resetOneTimeMidi(){this._oneTimeState=null,this._currentState=this._mainState}resetCountIn(){this._countInState=null,this._currentState=this._mainState}startCountIn(){this.generateCountInMidi(),this._currentState=this._countInState,this.stop(),this._synthesizer.noteOffAll(!0)}generateCountInMidi(){const e=new tw;e.division=this._mainState.division;let r=120,n=4,i=4;this._mainState.eventIndex===0?(r=this._mainState.tempoChanges[0].bpm,n=this._mainState.firstTimeSignatureNumerator,i=this._mainState.firstTimeSignatureDenominator):(r=this._synthesizer.currentTempo,n=this._synthesizer.timeSignatureNumerator,i=this._synthesizer.timeSignatureDenominator),e.tempoChanges.push(new fN(r,0,0));let s=e.division*(4/i)|0,a=s*(6e4/(r*this._mainState.division)),o=0,l=0;for(let c=0;c<n;c++){let u=lf.newMetronomeEvent(e.synthData.length,o,c,s,a);e.synthData.push(u),u.time=l,o+=s,l+=a}e.synthData.sort((c,u)=>c.time>u.time?1:c.time<u.time?-1:c.eventIndex-u.eventIndex),e.endTime=l,e.endTick=o,this._countInState=e}}var un;(function(t){t[t.Paused=0]="Paused",t[t.Playing=1]="Playing"})(un||(un={}));class Eg{constructor(e,r){this.state=e,this.stopped=r}}class My{constructor(e,r,n,i,s){this.currentTime=e,this.endTime=r,this.currentTick=n,this.endTick=i,this.isSeek=s}}class ts{constructor(){this.id="",this.size=0}static load(e,r,n){if(e&&ts.HeaderSize>e.size||n.position+ts.HeaderSize>=n.length||(r.id=ue.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122)||(r.size=ue.readUInt32LE(n),e&&ts.HeaderSize+r.size>e.size))return!1;e&&(e.size-=ts.HeaderSize+r.size);let i=r.id==="RIFF",s=r.id==="LIST";return i&&e?!1:!i&&!s?!0:(r.id=ue.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122?!1:(r.size-=4,!0))}}ts.HeaderSize=8;class SC{constructor(){this.phdrs=[],this.pbags=[],this.pmods=[],this.pgens=[],this.insts=[],this.ibags=[],this.imods=[],this.igens=[],this.sHdrs=[],this.fontSamples=new Float32Array(0)}load(e){const r=new ts,n=new ts;if(!ts.load(null,r,e)||r.id!=="sfbk")throw new Kr("Soundfont is not a valid Soundfont2 file");for(;ts.load(r,n,e);){let i=new ts;if(n.id==="pdta")for(;ts.load(n,i,e);)switch(i.id){case"phdr":for(let s=0,a=i.size/ES.SizeInFile|0;s<a;s++)this.phdrs.push(new ES(e));break;case"pbag":for(let s=0,a=i.size/MS.SizeInFile|0;s<a;s++)this.pbags.push(new MS(e));break;case"pmod":for(let s=0,a=i.size/RS.SizeInFile|0;s<a;s++)this.pmods.push(new RS(e));break;case"pgen":for(let s=0,a=i.size/Di.SizeInFile|0;s<a;s++)this.pgens.push(new Di(e));break;case"inst":for(let s=0,a=i.size/NS.SizeInFile|0;s<a;s++)this.insts.push(new NS(e));break;case"ibag":for(let s=0,a=i.size/_S.SizeInFile|0;s<a;s++)this.ibags.push(new _S(e));break;case"imod":for(let s=0,a=i.size/PS.SizeInFile|0;s<a;s++)this.imods.push(new PS(e));break;case"igen":for(let s=0,a=i.size/BS.SizeInFile|0;s<a;s++)this.igens.push(new BS(e));break;case"shdr":for(let s=0,a=i.size/DS.SizeInFile|0;s<a;s++)this.sHdrs.push(new DS(e));break;default:e.position+=i.size;break}else if(n.id==="sdta")for(;ts.load(n,i,e);)switch(i.id){case"smpl":this.fontSamples=SC.loadSamples(i,e);break;default:e.position+=i.size;break}else e.position+=n.size}}static loadSamples(e,r){let n=e.size/2|0;const i=new Float32Array(n);let s=0;const a=new Uint8Array(16*1024);for(;n>0;){let o=Math.min(n,a.length/2|0);r.read(a,0,o*2);for(let l=0;l<o;l++){const c=yt.int32ToInt16(a[l*2+1]<<8|a[l*2]);i[s+l]=c/32767}n-=o,s+=o}return i}}class _S{constructor(e){this.instGenNdx=ue.readUInt16LE(e),this.instModNdx=ue.readUInt16LE(e)}}_S.SizeInFile=4;class PS{constructor(e){this.modSrcOper=ue.readUInt16LE(e),this.modDestOper=ue.readUInt16LE(e),this.modAmount=ue.readInt16LE(e),this.modAmtSrcOper=ue.readUInt16LE(e),this.modTransOper=ue.readUInt16LE(e)}}PS.SizeInFile=10;class BS{constructor(e){this.genOper=ue.readUInt16LE(e),this.genAmount=new xA(e)}}BS.SizeInFile=4;class NS{constructor(e){this.instName=ue.read8BitStringLength(e,20),this.instBagNdx=ue.readUInt16LE(e)}}NS.SizeInFile=22;class MS{constructor(e){this.genNdx=ue.readUInt16LE(e),this.modNdx=ue.readUInt16LE(e)}}MS.SizeInFile=4;class Di{constructor(e){this.genOper=ue.readUInt16LE(e),this.genAmount=new xA(e)}}Di.SizeInFile=4;Di.GenInstrument=41;Di.GenKeyRange=43;Di.GenVelRange=44;Di.GenSampleId=53;class ES{constructor(e){this.presetName=ue.read8BitStringLength(e,20),this.preset=ue.readUInt16LE(e),this.bank=ue.readUInt16LE(e),this.presetBagNdx=ue.readUInt16LE(e),this.library=ue.readUInt32LE(e),this.genre=ue.readUInt32LE(e),this.morphology=ue.readUInt32LE(e)}}ES.SizeInFile=38;class RS{constructor(e){this.modSrcOper=ue.readUInt16LE(e),this.modDestOper=ue.readUInt16LE(e),this.modAmount=ue.readUInt16LE(e),this.modAmtSrcOper=ue.readUInt16LE(e),this.modTransOper=ue.readUInt16LE(e)}}RS.SizeInFile=10;class DS{constructor(e){this.sampleName=ue.read8BitStringLength(e,20),this.start=ue.readUInt32LE(e),this.end=ue.readUInt32LE(e),this.startLoop=ue.readUInt32LE(e),this.endLoop=ue.readUInt32LE(e),this.sampleRate=ue.readUInt32LE(e),this.originalPitch=e.readByte(),this.pitchCorrection=ue.readSInt8(e),this.sampleLink=ue.readUInt16LE(e),this.sampleType=ue.readUInt16LE(e)}}DS.SizeInFile=46;class xA{get shortAmount(){return yt.uint16ToInt16(this.wordAmount)}get lowByteAmount(){return this.wordAmount&255}get highByteAmount(){return(this.wordAmount&65280)>>8&255}constructor(e){this.wordAmount=ue.readUInt16LE(e)}}class Ose{constructor(){this.presetIndex=0,this.bank=0,this.pitchWheel=0,this.perNotePitchWheel=new Map,this.midiPan=0,this.midiVolume=0,this.midiExpression=0,this.midiRpn=0,this.midiData=0,this.panOffset=0,this.gainDb=0,this.pitchRange=0,this.tuning=0,this.mixVolume=0,this.mute=!1,this.solo=!1}}class $se{constructor(){this.activeChannel=0,this.channelList=[]}setupVoice(e,r){const n=this.channelList[this.activeChannel],i=r.region.pan+n.panOffset;r.playingChannel=this.activeChannel,r.mixVolume=n.mixVolume,r.noteGainDb+=n.gainDb,r.updatePitchRatio(n,e.outSampleRate),i<=-.5?(r.panFactorLeft=1,r.panFactorRight=0):i>=.5?(r.panFactorLeft=0,r.panFactorRight=1):(r.panFactorLeft=Math.sqrt(.5-i),r.panFactorRight=Math.sqrt(.5+i))}}var yo;(function(t){t[t.None=0]="None",t[t.Continuous=1]="Continuous",t[t.Sustain=2]="Sustain"})(yo||(yo={}));var mc;(function(t){t[t.StereoInterleaved=0]="StereoInterleaved",t[t.StereoUnweaved=1]="StereoUnweaved",t[t.Mono=2]="Mono"})(mc||(mc={}));class Vse{constructor(){this.name="",this.presetNumber=0,this.bank=0,this.regions=null,this.fontSamples=null}}class Ar{static timecents2Secs(e){return Math.pow(2,e/1200)}static decibelsToGain(e){return e>-100?Math.pow(10,e*.05):0}static gainToDecibels(e){return e<=1e-5?-100:20*Math.log10(e)}static cents2Hertz(e){return 8.176*Math.pow(2,e/1200)}static clamp(e,r,n){return e<=r?r:e>=n?n:e}}class Fh{constructor(e){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0,e&&(this.delay=e.delay,this.attack=e.attack,this.hold=e.hold,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.keynumToHold=e.keynumToHold,this.keynumToDecay=e.keynumToDecay)}clear(){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0}envToSecs(e){this.delay=this.delay<-11950?0:Ar.timecents2Secs(this.delay),this.attack=this.attack<-11950?0:Ar.timecents2Secs(this.attack),this.release=this.release<-11950?0:Ar.timecents2Secs(this.release),this.keynumToHold===0&&(this.hold=this.hold<-11950?0:Ar.timecents2Secs(this.hold)),this.keynumToDecay===0&&(this.decay=this.decay<-11950?0:Ar.timecents2Secs(this.decay)),this.sustain<0?this.sustain=0:e?this.sustain=Ar.decibelsToGain(-this.sustain/10):this.sustain=1-this.sustain/1e3}}var Mt;(function(t){t[t.StartAddrsOffset=0]="StartAddrsOffset",t[t.EndAddrsOffset=1]="EndAddrsOffset",t[t.StartloopAddrsOffset=2]="StartloopAddrsOffset",t[t.EndloopAddrsOffset=3]="EndloopAddrsOffset",t[t.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",t[t.ModLfoToPitch=5]="ModLfoToPitch",t[t.VibLfoToPitch=6]="VibLfoToPitch",t[t.ModEnvToPitch=7]="ModEnvToPitch",t[t.InitialFilterFc=8]="InitialFilterFc",t[t.InitialFilterQ=9]="InitialFilterQ",t[t.ModLfoToFilterFc=10]="ModLfoToFilterFc",t[t.ModEnvToFilterFc=11]="ModEnvToFilterFc",t[t.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",t[t.ModLfoToVolume=13]="ModLfoToVolume",t[t.Unused1=14]="Unused1",t[t.ChorusEffectsSend=15]="ChorusEffectsSend",t[t.ReverbEffectsSend=16]="ReverbEffectsSend",t[t.Pan=17]="Pan",t[t.Unused2=18]="Unused2",t[t.Unused3=19]="Unused3",t[t.Unused4=20]="Unused4",t[t.DelayModLFO=21]="DelayModLFO",t[t.FreqModLFO=22]="FreqModLFO",t[t.DelayVibLFO=23]="DelayVibLFO",t[t.FreqVibLFO=24]="FreqVibLFO",t[t.DelayModEnv=25]="DelayModEnv",t[t.AttackModEnv=26]="AttackModEnv",t[t.HoldModEnv=27]="HoldModEnv",t[t.DecayModEnv=28]="DecayModEnv",t[t.SustainModEnv=29]="SustainModEnv",t[t.ReleaseModEnv=30]="ReleaseModEnv",t[t.KeynumToModEnvHold=31]="KeynumToModEnvHold",t[t.KeynumToModEnvDecay=32]="KeynumToModEnvDecay",t[t.DelayVolEnv=33]="DelayVolEnv",t[t.AttackVolEnv=34]="AttackVolEnv",t[t.HoldVolEnv=35]="HoldVolEnv",t[t.DecayVolEnv=36]="DecayVolEnv",t[t.SustainVolEnv=37]="SustainVolEnv",t[t.ReleaseVolEnv=38]="ReleaseVolEnv",t[t.KeynumToVolEnvHold=39]="KeynumToVolEnvHold",t[t.KeynumToVolEnvDecay=40]="KeynumToVolEnvDecay",t[t.Instrument=41]="Instrument",t[t.Reserved1=42]="Reserved1",t[t.KeyRange=43]="KeyRange",t[t.VelRange=44]="VelRange",t[t.StartloopAddrsCoarseOffset=45]="StartloopAddrsCoarseOffset",t[t.Keynum=46]="Keynum",t[t.Velocity=47]="Velocity",t[t.InitialAttenuation=48]="InitialAttenuation",t[t.Reserved2=49]="Reserved2",t[t.EndloopAddrsCoarseOffset=50]="EndloopAddrsCoarseOffset",t[t.CoarseTune=51]="CoarseTune",t[t.FineTune=52]="FineTune",t[t.SampleID=53]="SampleID",t[t.SampleModes=54]="SampleModes",t[t.Reserved3=55]="Reserved3",t[t.ScaleTuning=56]="ScaleTuning",t[t.ExclusiveClass=57]="ExclusiveClass",t[t.OverridingRootKey=58]="OverridingRootKey",t[t.Unused5=59]="Unused5",t[t.EndOper=60]="EndOper"})(Mt||(Mt={}));class mu{constructor(e){this.loopMode=yo.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv=new Fh,this.modEnv=new Fh,this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,e&&(this.loopMode=e.loopMode,this.sampleRate=e.sampleRate,this.loKey=e.loKey,this.hiKey=e.hiKey,this.loVel=e.loVel,this.hiVel=e.hiVel,this.group=e.group,this.offset=e.offset,this.end=e.end,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.transpose=e.transpose,this.tune=e.tune,this.pitchKeyCenter=e.pitchKeyCenter,this.pitchKeyTrack=e.pitchKeyTrack,this.attenuation=e.attenuation,this.pan=e.pan,this.ampEnv=new Fh(e.ampEnv),this.modEnv=new Fh(e.modEnv),this.initialFilterQ=e.initialFilterQ,this.initialFilterFc=e.initialFilterFc,this.modEnvToPitch=e.modEnvToPitch,this.modEnvToFilterFc=e.modEnvToFilterFc,this.modLfoToFilterFc=e.modLfoToFilterFc,this.modLfoToVolume=e.modLfoToVolume,this.delayModLFO=e.delayModLFO,this.freqModLFO=e.freqModLFO,this.modLfoToPitch=e.modLfoToPitch,this.delayVibLFO=e.delayVibLFO,this.freqVibLFO=e.freqVibLFO,this.vibLfoToPitch=e.vibLfoToPitch)}clear(e){this.loopMode=yo.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv.clear(),this.modEnv.clear(),this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,this.hiKey=127,this.hiVel=127,this.pitchKeyCenter=60,!e&&(this.pitchKeyTrack=100,this.pitchKeyCenter=-1,this.ampEnv.delay=-12e3,this.ampEnv.attack=-12e3,this.ampEnv.hold=-12e3,this.ampEnv.decay=-12e3,this.ampEnv.release=-12e3,this.modEnv.delay=-12e3,this.modEnv.attack=-12e3,this.modEnv.hold=-12e3,this.modEnv.decay=-12e3,this.modEnv.release=-12e3,this.initialFilterFc=13500,this.delayModLFO=-12e3,this.delayVibLFO=-12e3)}operator(e,r){switch(e){case Mt.StartAddrsOffset:this.offset+=yt.int16ToUint32(r.shortAmount);break;case Mt.EndAddrsOffset:this.end+=yt.int16ToUint32(r.shortAmount);break;case Mt.StartloopAddrsOffset:this.loopStart+=yt.int16ToUint32(r.shortAmount);break;case Mt.EndloopAddrsOffset:this.loopEnd+=yt.int16ToUint32(r.shortAmount);break;case Mt.StartAddrsCoarseOffset:this.offset+=yt.int16ToUint32(r.shortAmount)*32768;break;case Mt.ModLfoToPitch:this.modLfoToPitch=r.shortAmount;break;case Mt.VibLfoToPitch:this.vibLfoToPitch=r.shortAmount;break;case Mt.ModEnvToPitch:this.modEnvToPitch=r.shortAmount;break;case Mt.InitialFilterFc:this.initialFilterFc=r.shortAmount;break;case Mt.InitialFilterQ:this.initialFilterQ=r.shortAmount;break;case Mt.ModLfoToFilterFc:this.modLfoToFilterFc=r.shortAmount;break;case Mt.ModEnvToFilterFc:this.modEnvToFilterFc=r.shortAmount;break;case Mt.EndAddrsCoarseOffset:this.end+=yt.int16ToUint32(r.shortAmount)*32768;break;case Mt.ModLfoToVolume:this.modLfoToVolume=r.shortAmount;break;case Mt.Pan:this.pan=r.shortAmount/1e3;break;case Mt.DelayModLFO:this.delayModLFO=r.shortAmount;break;case Mt.FreqModLFO:this.freqModLFO=r.shortAmount;break;case Mt.DelayVibLFO:this.delayVibLFO=r.shortAmount;break;case Mt.FreqVibLFO:this.freqVibLFO=r.shortAmount;break;case Mt.DelayModEnv:this.modEnv.delay=r.shortAmount;break;case Mt.AttackModEnv:this.modEnv.attack=r.shortAmount;break;case Mt.HoldModEnv:this.modEnv.hold=r.shortAmount;break;case Mt.DecayModEnv:this.modEnv.decay=r.shortAmount;break;case Mt.SustainModEnv:this.modEnv.sustain=r.shortAmount;break;case Mt.ReleaseModEnv:this.modEnv.release=r.shortAmount;break;case Mt.KeynumToModEnvHold:this.modEnv.keynumToHold=r.shortAmount;break;case Mt.KeynumToModEnvDecay:this.modEnv.keynumToDecay=r.shortAmount;break;case Mt.DelayVolEnv:this.ampEnv.delay=r.shortAmount;break;case Mt.AttackVolEnv:this.ampEnv.attack=r.shortAmount;break;case Mt.HoldVolEnv:this.ampEnv.hold=r.shortAmount;break;case Mt.DecayVolEnv:this.ampEnv.decay=r.shortAmount;break;case Mt.SustainVolEnv:this.ampEnv.sustain=r.shortAmount;break;case Mt.ReleaseVolEnv:this.ampEnv.release=r.shortAmount;break;case Mt.KeynumToVolEnvHold:this.ampEnv.keynumToHold=r.shortAmount;break;case Mt.KeynumToVolEnvDecay:this.ampEnv.keynumToDecay=r.shortAmount;break;case Mt.KeyRange:this.loKey=r.lowByteAmount,this.hiKey=r.highByteAmount;break;case Mt.VelRange:this.loVel=r.lowByteAmount,this.hiVel=r.highByteAmount;break;case Mt.StartloopAddrsCoarseOffset:this.loopStart+=yt.int16ToUint32(r.shortAmount)*32768;break;case Mt.InitialAttenuation:this.attenuation+=r.shortAmount*.1;break;case Mt.EndloopAddrsCoarseOffset:this.loopEnd+=yt.int16ToUint32(r.shortAmount)*32768;break;case Mt.CoarseTune:this.transpose+=r.shortAmount;break;case Mt.FineTune:this.tune+=r.shortAmount;break;case Mt.SampleModes:this.loopMode=(r.wordAmount&3)===3?yo.Sustain:(r.wordAmount&3)===1?yo.Continuous:yo.None;break;case Mt.ScaleTuning:this.pitchKeyTrack=r.shortAmount;break;case Mt.ExclusiveClass:this.group=r.wordAmount;break;case Mt.OverridingRootKey:this.pitchKeyCenter=r.shortAmount;break}}}var nr;(function(t){t[t.None=0]="None",t[t.Delay=1]="Delay",t[t.Attack=2]="Attack",t[t.Hold=3]="Hold",t[t.Decay=4]="Decay",t[t.Sustain=5]="Sustain",t[t.Release=6]="Release",t[t.Done=7]="Done"})(nr||(nr={}));class Qf{constructor(){this.level=0,this.slope=0,this.samplesUntilNextSegment=0,this.segment=nr.None,this.midiVelocity=0,this.parameters=null,this.segmentIsExponential=!1,this.isAmpEnv=!1}nextSegment(e,r){if(this.parameters)for(;;)switch(e){case nr.None:if(this.samplesUntilNextSegment=this.parameters.delay*r|0,this.samplesUntilNextSegment>0){this.segment=nr.Delay,this.segmentIsExponential=!1,this.level=0,this.slope=0;return}e=nr.Delay;break;case nr.Delay:if(this.samplesUntilNextSegment=this.parameters.attack*r|0,this.samplesUntilNextSegment>0){this.isAmpEnv||(this.samplesUntilNextSegment=this.parameters.attack*((145-this.midiVelocity)/144)*r|0),this.segment=nr.Attack,this.segmentIsExponential=!1,this.level=0,this.slope=1/this.samplesUntilNextSegment;return}e=nr.Attack;break;case nr.Attack:if(this.samplesUntilNextSegment=this.parameters.hold*r|0,this.samplesUntilNextSegment>0){this.segment=nr.Hold,this.segmentIsExponential=!1,this.level=1,this.slope=0;return}e=nr.Hold;break;case nr.Hold:if(this.samplesUntilNextSegment=this.parameters.decay*r|0,this.samplesUntilNextSegment>0){if(this.segment=nr.Decay,this.level=1,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0,this.parameters.sustain>0&&(this.samplesUntilNextSegment=Math.log(this.parameters.sustain)/n|0)}else this.slope=-1/this.samplesUntilNextSegment,this.samplesUntilNextSegment=this.parameters.decay*(1-this.parameters.sustain)*r|0,this.segmentIsExponential=!1;return}e=nr.Decay;break;case nr.Decay:this.segment=nr.Sustain,this.level=this.parameters.sustain,this.slope=0,this.samplesUntilNextSegment=2147483647,this.segmentIsExponential=!1;return;case nr.Sustain:if(this.segment=nr.Release,this.samplesUntilNextSegment=(this.parameters.release<=0?Qf.FastReleaseTime:this.parameters.release)*r|0,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0}else this.slope=-this.level/this.samplesUntilNextSegment,this.segmentIsExponential=!1;return;default:this.segment=nr.Done,this.segmentIsExponential=!1,this.level=0,this.slope=0,this.samplesUntilNextSegment=134217727;return}}setup(e,r,n,i,s){this.parameters=new Fh(e),this.parameters.keynumToHold>0&&(this.parameters.hold+=this.parameters.keynumToHold*(60-r),this.parameters.hold=this.parameters.hold<-1e4?0:Ar.timecents2Secs(this.parameters.hold)),this.parameters.keynumToDecay>0&&(this.parameters.decay+=this.parameters.keynumToDecay*(60-r),this.parameters.decay=this.parameters.decay<-1e4?0:Ar.timecents2Secs(this.parameters.decay)),this.midiVelocity=n|0,this.isAmpEnv=i,this.nextSegment(nr.None,s)}process(e,r){this.slope>0&&(this.segmentIsExponential?this.level*=Math.pow(this.slope,e):this.level+=this.slope*e),this.samplesUntilNextSegment-=e,this.samplesUntilNextSegment<=0&&this.nextSegment(this.segment,r)}}Qf.FastReleaseTime=.01;class pN{constructor(){this.samplesUntil=0,this.level=0,this.delta=0}setup(e,r,n){this.samplesUntil=e*n|0,this.delta=4*Ar.cents2Hertz(r)/n,this.level=0}process(e){if(this.samplesUntil>e){this.samplesUntil-=e;return}this.level+=this.delta*e,this.level>1?(this.delta=-this.delta,this.level=2-this.level):this.level<-1&&(this.delta=-this.delta,this.level=-2-this.level)}}class mN{constructor(e){this.qInv=0,this.a0=0,this.a1=0,this.b1=0,this.b2=0,this.z1=0,this.z2=0,this.active=!1,e&&(this.qInv=e.qInv,this.a0=e.a0,this.a1=e.a1,this.b1=e.b1,this.b2=e.b2,this.z1=e.z1,this.z2=e.z2,this.active=e.active)}setup(e){let r=Math.tan(Math.PI*e),n=r*r,i=1/(1+r*this.qInv+n);this.a0=n*i,this.a1=2*this.a0,this.b1=2*(n-1)*i,this.b2=(1-r*this.qInv+n)*i}process(e){let r=e*this.a0+this.z1;return this.z1=e*this.a1+this.z2-this.b1*r,this.z2=e*this.a0-this.b2*r,r}}class Jf{constructor(){this.playingPreset=0,this.playingKey=0,this.playingChannel=0,this.region=null,this.pitchInputTimecents=0,this.pitchOutputFactor=0,this.sourceSamplePosition=0,this.noteGainDb=0,this.panFactorLeft=0,this.panFactorRight=0,this.playIndex=0,this.loopStart=0,this.loopEnd=0,this.ampEnv=new Qf,this.modEnv=new Qf,this.lowPass=new mN,this.modLfo=new pN,this.vibLfo=new pN,this.mixVolume=0,this.mute=!1}updatePitchRatio(e,r){let n=e.pitchWheel;e.perNotePitchWheel.has(this.playingKey)&&(n+=e.perNotePitchWheel.get(this.playingKey)-8192);const i=n===8192?e.tuning:n/16383*e.pitchRange*2-e.pitchRange+e.tuning;this.calcPitchRatio(i,r)}calcPitchRatio(e,r){if(!this.region)return;const n=this.playingKey+this.region.transpose+this.region.tune/100;let i=this.region.pitchKeyCenter+(n-this.region.pitchKeyCenter)*(this.region.pitchKeyTrack/100);e!==0&&(i+=e),this.pitchInputTimecents=i*100,this.pitchOutputFactor=this.region.sampleRate/(Ar.timecents2Secs(this.region.pitchKeyCenter*100)*r)}end(e){this.region&&(this.ampEnv.nextSegment(nr.Sustain,e),this.modEnv.nextSegment(nr.Sustain,e),this.region.loopMode===yo.Sustain&&(this.loopEnd=this.loopStart))}endQuick(e){this.ampEnv.parameters.release=0,this.ampEnv.nextSegment(nr.Sustain,e),this.modEnv.parameters.release=0,this.modEnv.nextSegment(nr.Sustain,e)}render(e,r,n,i,s){if(!this.region)return;let a=this.region,l=e.presets[this.playingPreset].fontSamples,c=0,u=e.outputMode===mc.StereoUnweaved?i:-1,d=a.modEnvToPitch!==0||a.modEnvToFilterFc!==0,h=this.modLfo.delta>0&&(a.modLfoToPitch!==0||a.modLfoToFilterFc!==0||a.modLfoToVolume!==0),p=this.vibLfo.delta>0&&a.vibLfoToPitch!==0,f=this.loopStart<this.loopEnd,m=this.loopStart,g=this.loopEnd,y=a.end,b=g+1,v=this.sourceSamplePosition,k=new mN(this.lowPass),C=a.modLfoToFilterFc!==0||a.modEnvToFilterFc!==0,S=0,_=0,B=0,D=0,E=a.modLfoToPitch!==0||a.modEnvToPitch!==0||a.vibLfoToPitch!==0,R=0,A=0,I=0,L=0,N=a.modLfoToVolume!==0,F=0,O=0;for(C?(S=e.outSampleRate,_=a.initialFilterFc,B=a.modLfoToFilterFc,D=a.modEnvToFilterFc):(S=0,_=0,B=0,D=0),E?(R=0,A=a.modLfoToPitch,I=a.vibLfoToPitch,L=a.modEnvToPitch):(R=Ar.timecents2Secs(this.pitchInputTimecents)*this.pitchOutputFactor,A=0,I=0,L=0),N?O=a.modLfoToVolume*.1:(F=Ar.decibelsToGain(this.noteGainDb),O=0);i>0;){let M,V,z=0,K=i>Jf.RenderEffectSampleBlock?Jf.RenderEffectSampleBlock:i;if(i-=K,C){let ie=_+this.modLfo.level*B+this.modEnv.level*D;k.active=ie<=13500,k.active&&k.setup(Ar.cents2Hertz(ie)/S)}switch(E&&(R=Ar.timecents2Secs(this.pitchInputTimecents+(this.modLfo.level*A+this.vibLfo.level*I+this.modEnv.level*L))*this.pitchOutputFactor),N&&(F=Ar.decibelsToGain(this.noteGainDb+this.modLfo.level*O)),M=F*this.ampEnv.level,s?M=0:M*=this.mixVolume,this.ampEnv.process(K,e.outSampleRate),d&&this.modEnv.process(K,e.outSampleRate),h&&this.modLfo.process(K),p&&this.vibLfo.process(K),e.outputMode){case mc.StereoInterleaved:for(V=M*this.panFactorLeft,z=M*this.panFactorRight;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]+=G*V,c++,r[n+c]+=G*z,c++,v+=R,v>=b&&f&&(v-=g-m+1)}break;case mc.StereoUnweaved:for(V=M*this.panFactorLeft,z=M*this.panFactorRight;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]+=G*V,c++,r[n+u]+=G*z,u++,v+=R,v>=b&&f&&(v-=g-m+1)}break;case mc.Mono:for(;K-- >0&&v<y;){let ie=v|0,se=ie>=g&&f?m:ie+1,te=v-ie,G=l[ie]*(1-te)+l[se]*te;k.active&&(G=k.process(G)),r[n+c]=G*M,c++,v+=R,v>=b&&f&&(v-=g-m+1)}break}if(v>=y||this.ampEnv.segment===nr.Done){this.kill();return}}this.sourceSamplePosition=v,(k.active||C)&&(this.lowPass=k)}kill(){this.playingPreset=-1}}Jf.RenderEffectSampleBlock=mt.MicroBufferSize;class LS{constructor(){this._items=[],this._position=0,this.isEmpty=!0}clear(){this._items=[],this._position=0,this.isEmpty=!0}enqueue(e){this.isEmpty=!1,this._items.push(e)}peek(){return this._items[this._position]}dequeue(){const e=this._items[this._position];return this._position++,this._position>=this._items.length/2&&(this._items=this._items.slice(this._position),this._position=0),this.isEmpty=this._items.length==0,e}toArray(){const e=this._items.slice(this._position);return e.reverse(),e}}var Jt;(function(t){t[t.BankSelectCoarse=0]="BankSelectCoarse",t[t.ModulationCoarse=1]="ModulationCoarse",t[t.DataEntryCoarse=6]="DataEntryCoarse",t[t.VolumeCoarse=7]="VolumeCoarse",t[t.PanCoarse=10]="PanCoarse",t[t.ExpressionControllerCoarse=11]="ExpressionControllerCoarse",t[t.BankSelectFine=32]="BankSelectFine",t[t.ModulationFine=33]="ModulationFine",t[t.DataEntryFine=38]="DataEntryFine",t[t.VolumeFine=39]="VolumeFine",t[t.PanFine=42]="PanFine",t[t.ExpressionControllerFine=43]="ExpressionControllerFine",t[t.HoldPedal=64]="HoldPedal",t[t.LegatoPedal=68]="LegatoPedal",t[t.NonRegisteredParameterFine=98]="NonRegisteredParameterFine",t[t.NonRegisteredParameterCourse=99]="NonRegisteredParameterCourse",t[t.RegisteredParameterFine=100]="RegisteredParameterFine",t[t.RegisteredParameterCourse=101]="RegisteredParameterCourse",t[t.AllSoundOff=120]="AllSoundOff",t[t.ResetControllers=121]="ResetControllers",t[t.AllNotesOff=123]="AllNotesOff"})(Jt||(Jt={}));class zse{constructor(e){this._midiEventQueue=new LS,this._mutedChannels=new Map,this._soloChannels=new Map,this._isAnySolo=!1,this._transpositionPitches=new Map,this.currentTempo=0,this.timeSignatureNumerator=0,this.timeSignatureDenominator=0,this.presets=null,this._voices=[],this._channels=null,this._voicePlayIndex=0,this.outputMode=mc.StereoInterleaved,this.outSampleRate=0,this.globalGainDb=0,this.outSampleRate=e}synthesize(e,r,n){return this.fillWorkingBuffer(e,r,n)}synthesizeSilent(e){this.fillWorkingBuffer(null,0,e)}channelGetMixVolume(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].mixVolume:1}channelSetMixVolume(e,r){let n=this.channelInit(e);for(let i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(i.mixVolume=r);n.mixVolume=r}channelSetMute(e,r){r?this._mutedChannels.set(e,!0):this._mutedChannels.delete(e)}channelSetSolo(e,r){r?this._soloChannels.set(e,!0):this._soloChannels.delete(e),this._isAnySolo=this._soloChannels.size>0}resetChannelStates(){this._mutedChannels=new Map,this._soloChannels=new Map,this.applyTranspositionPitches(new Map),this._isAnySolo=!1}applyTranspositionPitches(e){const r=this._transpositionPitches;for(const n of this._voices)if(n.playingChannel>=0&&n.playingChannel!==9){let i=0;r.has(n.playingChannel)&&(i-=r.get(n.playingChannel)),e.has(n.playingChannel)&&(i+=e.get(n.playingChannel)),n.playingKey+=i,this._channels&&n.updatePitchRatio(this._channels.channelList[n.playingChannel],this.outSampleRate)}this._transpositionPitches=e}dispatchEvent(e){this._midiEventQueue.enqueue(e)}fillWorkingBuffer(e,r,n){const i=this._isAnySolo,s=[];for(;!this._midiEventQueue.isEmpty;){let a=this._midiEventQueue.dequeue();a.isMetronome&&this.metronomeVolume>0?(this.channelNoteOff(mt.MetronomeChannel,33),this.channelNoteOn(mt.MetronomeChannel,33,95/127)):a.event&&this.processMidiMessage(a.event),s.push(a)}for(const a of this._voices)if(a.playingPreset!==-1){const o=a.playingChannel,l=this._mutedChannels.has(o)||i&&o!=mt.MetronomeChannel&&!this._soloChannels.has(o);e?a.render(this,e,r,n,l):a.kill()}return s}processMidiMessage(e){switch(ve.debug("MIdi","Processing Midi message "+Et[e.type]+"/"+e.tick),e.type){case Et.TimeSignature:const n=e;this.timeSignatureNumerator=n.numerator,this.timeSignatureDenominator=Math.pow(2,n.denominatorIndex);break;case Et.NoteOn:const i=e;this.channelNoteOn(i.channel,i.noteKey,i.noteVelocity/127);break;case Et.NoteOff:const s=e;this.channelNoteOff(s.channel,s.noteKey);break;case Et.ControlChange:const a=e;this.channelMidiControl(a.channel,a.controller,a.value);break;case Et.ProgramChange:const o=e;this.channelSetPresetNumber(o.channel,o.program,o.channel===9);break;case Et.TempoChange:const l=e;this.currentTempo=6e7/l.microSecondsPerQuarterNote;break;case Et.PitchBend:const c=e;this.channelSetPitchWheel(c.channel,c.value);break;case Et.PerNotePitchBend:const u=e;let d=u.value;d=d*mt.MaxPitchWheel/mt.MaxPitchWheel20,this.channelSetPerNotePitchWheel(u.channel,u.noteKey,d);break}}get metronomeVolume(){return this.channelGetMixVolume(mt.MetronomeChannel)}set metronomeVolume(e){this.setupMetronomeChannel(e)}setupMetronomeChannel(e){this.channelSetMixVolume(mt.MetronomeChannel,e),e>0&&(this.channelSetVolume(mt.MetronomeChannel,1),this.channelSetPresetNumber(mt.MetronomeChannel,0,!0))}get masterVolume(){return Ar.decibelsToGain(this.globalGainDb)}set masterVolume(e){var r=Ar.gainToDecibels(e);const n=r-this.globalGainDb;if(n!==0){for(const i of this._voices)i.playingPreset!==-1&&(i.noteGainDb+=n);this.globalGainDb=r}}resetSoft(){for(const e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<nr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);if(this._channels)for(const e of this._channels.channelList)e.presetIndex=0,e.bank=0,e.pitchWheel=8192,e.midiPan=8192,e.perNotePitchWheel.clear(),e.midiVolume=16383,e.midiExpression=16383,e.midiRpn=65535,e.midiData=0,e.panOffset=0,e.gainDb=0,e.pitchRange=2,e.tuning=0}get presetCount(){var e;return((e=this.presets)==null?void 0:e.length)??0}reset(){for(let e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<nr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);this._channels=null}setOutput(e,r,n){this.outputMode=e,this.outSampleRate=r>=1?r:44100,this.globalGainDb=n}noteOn(e,r,n){if(!this.presets)return;const i=n*127|0;if(e<0||e>=this.presets.length)return;if(n<=0){this.noteOff(e,r);return}const s=this._voicePlayIndex++;for(const a of this.presets[e].regions){if(r<a.loKey||r>a.hiKey||i<a.loVel||i>a.hiVel)continue;let o=null;if(a.group!==0)for(const u of this._voices)u.playingPreset===e&&u.region.group===a.group?u.endQuick(this.outSampleRate):u.playingPreset===-1&&!o&&(o=u);else for(let u of this._voices)u.playingPreset===-1&&(o=u);if(!o){for(let u=0;u<4;u++){const d=new Jf;d.playingPreset=-1,this._voices.push(d)}o=this._voices[this._voices.length-4]}o.region=a,o.playingPreset=e,o.playingKey=r,o.playIndex=s,o.noteGainDb=this.globalGainDb-a.attenuation-Ar.gainToDecibels(1/n),this._channels?this._channels.setupVoice(this,o):(o.calcPitchRatio(0,this.outSampleRate),o.panFactorLeft=Math.sqrt(.5-a.pan),o.panFactorRight=Math.sqrt(.5+a.pan)),o.sourceSamplePosition=a.offset;const l=a.loopMode!==yo.None&&a.loopStart<a.loopEnd;o.loopStart=l?a.loopStart:0,o.loopEnd=l?a.loopEnd:0,o.ampEnv.setup(a.ampEnv,r,i,!0,this.outSampleRate),o.modEnv.setup(a.modEnv,r,i,!1,this.outSampleRate);const c=a.initialFilterQ/10;o.lowPass.qInv=1/Math.pow(10,c/20),o.lowPass.z1=0,o.lowPass.z2=0,o.lowPass.active=a.initialFilterFc<=13500,o.lowPass.active&&o.lowPass.setup(Ar.cents2Hertz(a.initialFilterFc)/this.outSampleRate),o.modLfo.setup(a.delayModLFO,a.freqModLFO,this.outSampleRate),o.vibLfo.setup(a.delayVibLFO,a.freqVibLFO,this.outSampleRate)}}bankNoteOn(e,r,n,i){let s=this.getPresetIndex(e,r);return s===-1?!1:(this.noteOn(s,n,i),!0)}noteOff(e,r){let n=null,i=null,s=[];for(let a of this._voices)a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=nr.Release||(!n||a.playIndex<n.playIndex?(n=a,i=a,s.push(a)):a.playIndex===n.playIndex&&(i=a,s.push(a)));if(n)for(const a of s)a!==n&&a!==i&&(a.playIndex!==n.playIndex||a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=nr.Release)||a.end(this.outSampleRate)}bankNoteOff(e,r,n){const i=this.getPresetIndex(e,r);return i===-1?!1:(this.noteOff(i,n),!0)}noteOffAll(e){for(const r of this._voices)r.playingPreset!==-1&&r.ampEnv.segment<nr.Release&&(e?r.endQuick(this.outSampleRate):r.end(this.outSampleRate))}get activeVoiceCount(){let e=0;for(const r of this._voices)r.playingPreset!==-1&&e++;return e}channelInit(e){if(this._channels&&e<this._channels.channelList.length)return this._channels.channelList[e];this._channels||(this._channels=new $se);for(let r=this._channels.channelList.length;r<=e;r++){let n=new Ose;n.presetIndex=0,n.bank=0,n.pitchWheel=8192,n.midiPan=8192,n.midiVolume=16383,n.midiExpression=16383,n.midiRpn=65535,n.midiData=0,n.panOffset=0,n.gainDb=0,n.pitchRange=2,n.tuning=0,n.mixVolume=1,this._channels.channelList.push(n)}return this._channels.channelList[e]}getPresetIndex(e,r){if(!this.presets)return-1;for(let n=this.presets.length-1;n>=0;n--){let i=this.presets[n];if(i.presetNumber===r&&i.bank===e)return n}return-1}getPresetName(e){return this.presets?e<0||e>=this.presets.length?null:this.presets[e].name:null}bankGetPresetName(e,r){return this.getPresetName(this.getPresetIndex(e,r))}channelNoteOn(e,r,n){!this._channels||e>this._channels.channelList.length||(this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e)),this._channels.activeChannel=e,this.noteOn(this._channels.channelList[e].presetIndex,r,n))}channelNoteOff(e,r){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const n=[];let i=null,s=null;for(const o of this._voices)o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=nr.Release||(!i||o.playIndex<i.playIndex?(i=o,s=o,n.push(o)):o.playIndex===i.playIndex&&(s=o,n.push(o)));if(this.channelInit(e).perNotePitchWheel.delete(r),!!i)for(const o of n)o!==i&&o!==s&&(o.playIndex!==i.playIndex||o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=nr.Release)||o.end(this.outSampleRate)}channelNoteOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(const n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&n.ampEnv.segment<nr.Release&&n.end(this.outSampleRate)}channelSoundsOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(let n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&(n.ampEnv.segment<nr.Release||n.ampEnv.parameters.release===0)&&n.endQuick(this.outSampleRate)}channelSetPresetIndex(e,r){this.channelInit(e).presetIndex=yt.int32ToUint16(r)}channelSetPresetNumber(e,r,n=!1){const i=this.channelInit(e);let s=0;return n?(s=this.getPresetIndex(128|i.bank&32767,r),s===-1&&(s=this.getPresetIndex(128,r)),s===-1&&(s=this.getPresetIndex(128,0)),s===-1&&(s=this.getPresetIndex(i.bank&2047,r))):s=this.getPresetIndex(i.bank&2047,r),i.presetIndex=s,s!==-1}channelSetBank(e,r){this.channelInit(e).bank=yt.int32ToUint16(r)}channelSetBankPreset(e,r,n){const i=this.channelInit(e),s=this.getPresetIndex(r,n);return s===-1?!1:(i.presetIndex=yt.int32ToUint16(s),i.bank=yt.int32ToUint16(r),!0)}channelSetPan(e,r){for(const n of this._voices)if(n.playingChannel===e&&n.playingPreset!==-1){let i=n.region.pan+r-.5;i<=-.5?(n.panFactorLeft=1,n.panFactorRight=0):i>=.5?(n.panFactorLeft=0,n.panFactorRight=1):(n.panFactorLeft=Math.sqrt(.5-i),n.panFactorRight=Math.sqrt(.5+i))}this.channelInit(e).panOffset=r-.5}channelSetVolume(e,r){const n=this.channelInit(e),i=Ar.gainToDecibels(r),s=i-n.gainDb;if(s!==0){for(const a of this._voices)a.playingChannel===e&&a.playingPreset!==-1&&(a.noteGainDb+=s);n.gainDb=i}}channelSetPitchWheel(e,r){const n=this.channelInit(e);n.pitchWheel!==r&&(n.pitchWheel=yt.int32ToUint16(r),this.channelApplyPitch(e,n))}channelSetPerNotePitchWheel(e,r,n){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const i=this.channelInit(e);i.perNotePitchWheel.has(r)&&i.perNotePitchWheel.get(r)===n||(i.perNotePitchWheel.set(r,n),this.channelApplyPitch(e,i,r))}channelApplyPitch(e,r,n=-1){for(const i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(n==-1||i.playingKey===n)&&i.updatePitchRatio(r,this.outSampleRate)}channelSetPitchRange(e,r){const n=this.channelInit(e);n.pitchRange!==r&&(n.pitchRange=r,n.pitchWheel!==8192&&this.channelApplyPitch(e,n))}channelSetTuning(e,r){const n=this.channelInit(e);n.tuning!==r&&(n.tuning=r,this.channelApplyPitch(e,n))}channelMidiControl(e,r,n){let i=this.channelInit(e);switch(r){case Jt.DataEntryFine:i.midiData=yt.int32ToUint16(i.midiData&16256|n),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Jt.VolumeCoarse:i.midiVolume=yt.int32ToUint16(i.midiVolume&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Jt.VolumeFine:i.midiVolume=yt.int32ToUint16(i.midiVolume&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Jt.ExpressionControllerCoarse:i.midiExpression=yt.int32ToUint16(i.midiExpression&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Jt.ExpressionControllerFine:i.midiExpression=yt.int32ToUint16(i.midiExpression&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Jt.PanCoarse:i.midiPan=yt.int32ToUint16(i.midiPan&127|n<<7),this.channelSetPan(e,i.midiPan/16383);return;case Jt.PanFine:i.midiPan=yt.int32ToUint16(i.midiPan&16256|n),this.channelSetPan(e,i.midiPan/16383);return;case Jt.DataEntryCoarse:i.midiData=yt.int32ToUint16(i.midiData&127|n<<7),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&r===Jt.DataEntryCoarse&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Jt.BankSelectCoarse:i.bank=yt.int32ToUint16(32768|n);return;case Jt.BankSelectFine:i.bank=yt.int32ToUint16((i.bank&32768?(i.bank&127)<<7:0)|n);return;case Jt.RegisteredParameterCourse:i.midiRpn=yt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&127|n<<7);return;case Jt.RegisteredParameterFine:i.midiRpn=yt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&16256|n);return;case Jt.NonRegisteredParameterFine:i.midiRpn=65535;return;case Jt.NonRegisteredParameterCourse:i.midiRpn=65535;return;case Jt.AllSoundOff:this.channelSoundsOffAll(e);return;case Jt.AllNotesOff:this.channelNoteOffAll(e);return;case Jt.ResetControllers:i.midiVolume=16383,i.midiExpression=16383,i.midiPan=8192,i.bank=0,this.channelSetVolume(e,1),this.channelSetPan(e,.5),this.channelSetPitchRange(e,2);return}}channelGetPresetIndex(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].presetIndex:0}channelGetPresetBank(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].bank&32767:0}channelGetPan(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].panOffset-.5:.5}channelGetVolume(e){return this._channels&&e<this._channels.channelList.length?Ar.decibelsToGain(this._channels.channelList[e].gainDb):1}channelGetPitchWheel(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchWheel:8192}channelGetPitchRange(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchRange:2}channelGetTuning(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].tuning:0}resetPresets(){this.presets=[]}loadPresets(e,r){const n=[];for(let i=0;i<e.phdrs.length-1;i++){const s=e.phdrs[i];let a=0;const o=new Vse;n.push(o),o.name=s.presetName,o.bank=s.bank,o.presetNumber=s.preset,o.fontSamples=e.fontSamples;let l=0;for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u];let h=0,p=127,f=0,m=127;for(let g=d.genNdx;g<e.pbags[u+1].genNdx;g++){let y=e.pgens[g];if(y.genOper===Di.GenKeyRange){h=y.genAmount.lowByteAmount,p=y.genAmount.highByteAmount;continue}if(y.genOper===Di.GenVelRange){f=y.genAmount.lowByteAmount,m=y.genAmount.highByteAmount;continue}if(y.genOper!==Di.GenInstrument||y.genAmount.wordAmount>=e.insts.length)continue;let b=e.insts[y.genAmount.wordAmount];for(let v=b.instBagNdx;v<e.insts[y.genAmount.wordAmount+1].instBagNdx;v++){let k=e.ibags[v],C=0,S=127,_=0,B=127;for(let D=k.instGenNdx;D<e.ibags[v+1].instGenNdx;D++){let E=e.igens[D];if(E.genOper===Di.GenKeyRange){C=E.genAmount.lowByteAmount,S=E.genAmount.highByteAmount;continue}if(E.genOper===Di.GenVelRange){_=E.genAmount.lowByteAmount,B=E.genAmount.highByteAmount;continue}E.genOper===53&&S>=h&&C<=p&&B>=f&&_<=m&&l++}}}}o.regions=new Array(l);let c=new mu;c.clear(!0);for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u],h=new mu(c);let p=!1;for(let f=d.genNdx;f<e.pbags[u+1].genNdx;f++){const m=e.pgens[f];if(m.genOper===Di.GenInstrument){let g=m.genAmount.wordAmount;if(g>=e.insts.length)continue;let y=new mu;y.clear(!1);let b=e.insts[g];for(let v=b.instBagNdx;v<e.insts[g+1].instBagNdx;v++){let k=e.ibags[v],C=new mu(y),S=!1;for(let _=k.instGenNdx;_<e.ibags[v+1].instGenNdx;_++){let B=e.igens[_];if(B.genOper===Di.GenSampleId){if(C.hiKey<h.loKey||C.loKey>h.hiKey||C.hiVel<h.loVel||C.loVel>h.hiVel)continue;h.loKey>C.loKey&&(C.loKey=h.loKey),h.hiKey<C.hiKey&&(C.hiKey=h.hiKey),h.loVel>C.loVel&&(C.loVel=h.loVel),h.hiVel<C.hiVel&&(C.hiVel=h.hiVel),C.offset+=h.offset,C.end+=h.end,C.loopStart+=h.loopStart,C.loopEnd+=h.loopEnd,C.transpose+=h.transpose,C.tune+=h.tune,C.pitchKeyTrack+=h.pitchKeyTrack,C.attenuation+=h.attenuation,C.pan+=h.pan,C.ampEnv.delay+=h.ampEnv.delay,C.ampEnv.attack+=h.ampEnv.attack,C.ampEnv.hold+=h.ampEnv.hold,C.ampEnv.decay+=h.ampEnv.decay,C.ampEnv.sustain+=h.ampEnv.sustain,C.ampEnv.release+=h.ampEnv.release,C.modEnv.delay+=h.modEnv.delay,C.modEnv.attack+=h.modEnv.attack,C.modEnv.hold+=h.modEnv.hold,C.modEnv.decay+=h.modEnv.decay,C.modEnv.sustain+=h.modEnv.sustain,C.modEnv.release+=h.modEnv.release,C.initialFilterQ+=h.initialFilterQ,C.initialFilterFc+=h.initialFilterFc,C.modEnvToPitch+=h.modEnvToPitch,C.modEnvToFilterFc+=h.modEnvToFilterFc,C.delayModLFO+=h.delayModLFO,C.freqModLFO+=h.freqModLFO,C.modLfoToPitch+=h.modLfoToPitch,C.modLfoToFilterFc+=h.modLfoToFilterFc,C.modLfoToVolume+=h.modLfoToVolume,C.delayVibLFO+=h.delayVibLFO,C.freqVibLFO+=h.freqVibLFO,C.vibLfoToPitch+=h.vibLfoToPitch,C.ampEnv.envToSecs(!0),C.modEnv.envToSecs(!1),C.delayModLFO=C.delayModLFO<-11950?0:Ar.timecents2Secs(C.delayModLFO),C.delayVibLFO=C.delayVibLFO<-11950?0:Ar.timecents2Secs(C.delayVibLFO),C.pan<-.5?C.pan=-.5:C.pan>.5&&(C.pan=.5),(C.initialFilterQ<1500||C.initialFilterQ>13500)&&(C.initialFilterQ=0);let D=e.sHdrs[B.genAmount.wordAmount];C.offset+=D.start,C.end+=D.end,C.loopStart+=D.startLoop,C.loopEnd+=D.endLoop,D.endLoop>0&&(C.loopEnd-=1),C.pitchKeyCenter===-1&&(C.pitchKeyCenter=D.originalPitch),C.tune+=D.pitchCorrection,C.sampleRate=D.sampleRate,C.end!==0&&C.end<o.fontSamples.length?C.end++:C.end=o.fontSamples.length,o.regions[a]=new mu(C),a++,S=!0}else C.operator(B.genOper,B.genAmount)}k===e.ibags[b.instBagNdx]&&!S&&(y=new mu(C))}p=!0}else h.operator(m.genOper,m.genAmount)}d===e.pbags[s.presetBagNdx]&&!p&&(c=h)}}if(!r||!this.presets)this.presets=n;else for(const i of n)this.presets.push(i)}}class gn{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(){for(const e of this._listeners)e()}}class Dt{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(e){for(const r of this._listeners)r(e)}}class SA{constructor(e){this.events=e}}class kA{constructor(e){this.playbackRange=e}}class Wse{get isReadyForPlayback(){return this.isReady&&this._isSoundFontLoaded&&this._isMidiLoaded}get logLevel(){return ve.logLevel}set logLevel(e){ve.logLevel=e}get masterVolume(){return this._synthesizer.masterVolume}set masterVolume(e){e=Math.max(e,mt.MinVolume),this._synthesizer.masterVolume=e}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,mt.MinVolume),this._metronomeVolume=e,this._synthesizer.metronomeVolume=e}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,mt.MinVolume),this._countInVolume=e}get midiEventsPlayedFilter(){return Array.from(this._midiEventsPlayedFilter)}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=new Set(e)}get playbackSpeed(){return this._sequencer.playbackSpeed}set playbackSpeed(e){e=Ar.clamp(e,mt.MinPlaybackSpeed,mt.MaxPlaybackSpeed);let r=this._sequencer.playbackSpeed;this._sequencer.playbackSpeed=e,this.timePosition=this.timePosition*(r/e)}get tickPosition(){return this._tickPosition}set tickPosition(e){this.timePosition=this._sequencer.mainTickPositionToTimePosition(e)}get timePosition(){return this._timePosition}set timePosition(e){ve.debug("AlphaSynth",`Seeking to position ${e}ms (main)`),this._sequencer.mainSeek(e),this.updateTimePosition(e,!0),this._sequencer.isPlayingMain&&(this._notPlayedSamples=0,this.output.resetSamples())}get playbackRange(){return this._sequencer.mainPlaybackRange}set playbackRange(e){this._sequencer.mainPlaybackRange=e,e&&(this.tickPosition=e.startTick),this.playbackRangeChanged.trigger(new kA(e))}get isLooping(){return this._sequencer.isLooping}set isLooping(e){this._sequencer.isLooping=e}destroy(){ve.debug("AlphaSynth","Destroying player"),this.stop(),this.output.destroy()}constructor(e,r){this._isSoundFontLoaded=!1,this._isMidiLoaded=!1,this._tickPosition=0,this._timePosition=0,this._metronomeVolume=0,this._countInVolume=0,this._playedEventsQueue=new LS,this._midiEventsPlayedFilter=new Set,this._notPlayedSamples=0,this.isReady=!1,this.state=un.Paused,this.ready=new gn,this.readyForPlayback=new gn,this.finished=new gn,this.soundFontLoaded=new gn,this.soundFontLoadFailed=new Dt,this.midiLoaded=new Dt,this.midiLoadFailed=new Dt,this.stateChanged=new Dt,this.positionChanged=new Dt,this.midiEventsPlayed=new Dt,this.playbackRangeChanged=new Dt,ve.debug("AlphaSynth","Initializing player"),this.state=un.Paused,ve.debug("AlphaSynth","Creating output"),this.output=e,ve.debug("AlphaSynth","Creating synthesizer"),this._synthesizer=new zse(this.output.sampleRate),this._sequencer=new Ase(this._synthesizer),ve.debug("AlphaSynth","Opening output"),this.output.ready.on(()=>{this.isReady=!0,this.ready.trigger(),this.checkReadyForPlayback()}),this.output.sampleRequest.on(()=>{if(this.state==un.Playing&&!this._sequencer.isFinished){let n=new Float32Array(mt.MicroBufferSize*mt.MicroBufferCount*mt.AudioChannels),i=0;for(let s=0;s<mt.MicroBufferCount;s++){this._sequencer.fillMidiEventQueue();const a=this._synthesizer.synthesize(n,i,mt.MicroBufferSize);i+=mt.MicroBufferSize*mt.AudioChannels;for(const o of a)this._midiEventsPlayedFilter.has(o.event.type)&&this._playedEventsQueue.enqueue(o);if(this._sequencer.isFinished)break}i<n.length&&(n=n.subarray(0,i)),this._notPlayedSamples+=n.length,this.output.addSamples(n)}else{let n=new Float32Array(0);this.output.addSamples(n)}}),this.output.samplesPlayed.on(this.onSamplesPlayed.bind(this)),this.output.open(r)}play(){return this.state!==un.Paused||!this._isMidiLoaded?!1:(this.output.activate(),this.playInternal(),this._countInVolume>0&&(ve.debug("AlphaSynth","Starting countin"),this._sequencer.startCountIn(),this._synthesizer.setupMetronomeChannel(this._countInVolume),this.updateTimePosition(0,!0)),this.output.play(),!0)}playInternal(){this._sequencer.isPlayingOneTimeMidi&&(ve.debug("AlphaSynth","Cancelling one time midi"),this.stopOneTimeMidi()),ve.debug("AlphaSynth","Starting playback"),this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.state=un.Playing,this.stateChanged.trigger(new Eg(this.state,!1))}pause(){this.state===un.Paused||!this._isMidiLoaded||(ve.debug("AlphaSynth","Pausing playback"),this.state=un.Paused,this.stateChanged.trigger(new Eg(this.state,!1)),this.output.pause(),this._synthesizer.noteOffAll(!1))}playPause(){this.state!==un.Paused||!this._isMidiLoaded?this.pause():this.play()}stop(){this._isMidiLoaded&&(ve.debug("AlphaSynth","Stopping playback"),this.state=un.Paused,this.output.pause(),this._notPlayedSamples=0,this._sequencer.stop(),this._synthesizer.noteOffAll(!0),this.tickPosition=this._sequencer.mainPlaybackRange?this._sequencer.mainPlaybackRange.startTick:0,this.stateChanged.trigger(new Eg(this.state,!0)))}playOneTimeMidiFile(e){this._sequencer.isPlayingOneTimeMidi?this.stopOneTimeMidi():this.pause(),this._sequencer.loadOneTimeMidi(e),this._synthesizer.noteOffAll(!0),this.updateTimePosition(0,!0),this._notPlayedSamples=0,this.output.resetSamples(),this.output.play()}resetSoundFonts(){this.stop(),this._synthesizer.resetPresets(),this._isSoundFontLoaded=!1,this.soundFontLoaded.trigger()}loadSoundFont(e,r){this.pause();let n=Wn.fromBuffer(e);try{ve.debug("AlphaSynth","Loading soundfont from bytes");let i=new SC;i.load(n),this._synthesizer.loadPresets(i,r),this._isSoundFontLoaded=!0,this.soundFontLoaded.trigger(),ve.debug("AlphaSynth","soundFont successfully loaded"),this.checkReadyForPlayback()}catch(i){ve.error("AlphaSynth","Could not load soundfont from bytes "+i),this.soundFontLoadFailed.trigger(i)}}checkReadyForPlayback(){this.isReadyForPlayback&&(this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.readyForPlayback.trigger())}loadMidiFile(e){this.stop();try{ve.debug("AlphaSynth","Loading midi from model"),this._sequencer.loadMidi(e),this._isMidiLoaded=!0,this.midiLoaded.trigger(new My(0,this._sequencer.currentEndTime,0,this._sequencer.currentEndTick,!1)),ve.debug("AlphaSynth","Midi successfully loaded"),this.checkReadyForPlayback(),this.tickPosition=0}catch(r){ve.error("AlphaSynth","Could not load midi from model "+r),this.midiLoadFailed.trigger(r)}}applyTranspositionPitches(e){this._synthesizer.applyTranspositionPitches(e)}setChannelMute(e,r){this._synthesizer.channelSetMute(e,r)}resetChannelStates(){this._synthesizer.resetChannelStates()}setChannelSolo(e,r){this._synthesizer.channelSetSolo(e,r)}setChannelVolume(e,r){r=Math.max(r,mt.MinVolume),this._synthesizer.channelSetMixVolume(e,r)}onSamplesPlayed(e){if(e===0)return;let r=e/this._synthesizer.outSampleRate*1e3;this._notPlayedSamples-=e*mt.AudioChannels,this.updateTimePosition(this._timePosition+r,!1),this.checkForFinish()}checkForFinish(){let e=0,r=0;this.playbackRange&&this._sequencer.isPlayingMain?(e=this.playbackRange.startTick,r=this.playbackRange.endTick):r=this._sequencer.currentEndTick,this._tickPosition>=r&&this._notPlayedSamples<=0&&(this._notPlayedSamples=0,this._sequencer.isPlayingCountIn?(ve.debug("AlphaSynth","Finished playback (count-in)"),this._sequencer.resetCountIn(),this.timePosition=this._sequencer.currentTime,this.playInternal(),this.output.resetSamples()):this._sequencer.isPlayingOneTimeMidi?(ve.debug("AlphaSynth","Finished playback (one time)"),this.output.resetSamples(),this.state=un.Paused,this.stopOneTimeMidi()):(ve.debug("AlphaSynth","Finished playback (main)"),this.finished.trigger(),this.isLooping?this.tickPosition=e:this.stop()))}stopOneTimeMidi(){this.output.pause(),this._synthesizer.noteOffAll(!0),this._sequencer.resetOneTimeMidi(),this.timePosition=this._sequencer.currentTime}updateTimePosition(e,r){const n=e;this._timePosition=n;const i=this._sequencer.currentTimePositionToTickPosition(n);this._tickPosition=i;const s=this._sequencer.currentEndTime,a=this._sequencer.currentEndTick,o=this._sequencer.isPlayingMain?"main":this._sequencer.isPlayingCountIn?"count-in":"one-time";if(ve.debug("AlphaSynth",`Position changed: (time: ${n}/${s}, tick: ${i}/${a}, Active Voices: ${this._synthesizer.activeVoiceCount} (${o})`),this._sequencer.isPlayingMain&&this.positionChanged.trigger(new My(n,s,i,a,r)),r)this._playedEventsQueue.clear();else{const l=new LS;for(;!this._playedEventsQueue.isEmpty&&this._playedEventsQueue.peek().time<n;){const c=this._playedEventsQueue.dequeue();l.enqueue(c.event)}l.isEmpty||this.midiEventsPlayed.trigger(new SA(l.toArray()))}}}class Re{static parseEnum(e,r){switch(typeof e){case"string":const n=parseInt(e);return isNaN(n)?r[Object.keys(r).find(i=>i.toLowerCase()===e.toLowerCase())]:n;case"number":return e;case"undefined":case"object":return null}throw new Tn(Cn.Format,`Could not parse enum value '${e}'`)}static forEach(e,r){if(e instanceof Map)e.forEach(r);else if(typeof e=="object")for(const n in e)r(e[n],n)}static getValue(e,r){return e instanceof Map?e.get(r):typeof e=="object"?e[r]:null}}class Hse{constructor(e,r,n){this.text=e,this.startPos=r,this.endPos=n}}class $u{constructor(e){this.style="normal",this.variant="normal",this.weight="normal",this.stretch="normal",this.lineHeight="normal",this.size="1rem",this.families=[],this.parseOnlyFamilies=!1,this._currentTokenIndex=-1,this._input="",this._currentToken=null,this._input=e,this._tokens=this.splitToTokens(e)}splitToTokens(e){const r=[];let n=0;for(;n<e.length;){let i=n;for(;i<e.length&&e.charAt(i)!==" ";)i++;i>n&&r.push(new Hse(e.substring(n,i),n,i)),n=i+1}return r}parse(){var e;if(this.reset(),this._tokens.length===1)switch((e=this._currentToken)==null?void 0:e.text){case"caption":case"icon":case"menu":case"message-box":case"small-caption":case"status-bar":case"inherit":return}this.parseOnlyFamilies||(this.fontStyleVariantWeight(),this.fontSizeLineHeight()),this.fontFamily()}static parseFamilies(e){const r=new $u(e);return r.parseOnlyFamilies=!0,r.parse(),r.families}fontFamily(){if(!this._currentToken){if(this.parseOnlyFamilies)return;throw new Error("Missing font list")}const e=this._input.substr(this._currentToken.startPos).trim();let r=0;for(;r<e.length;){let n=e.charAt(r);if(n===" "||n==",")r++;else if(n==='"'||n==="'"){const i=this.findEndOfQuote(e,r+1,n);this.families.push(e.substring(r+1,i).split("\\"+n).join(n)),r=i+1}else{const i=this.findEndOfQuote(e,r+1,",");this.families.push(e.substring(r,i).trim()),r=i+1}}}findEndOfQuote(e,r,n){let i=!1;for(;r<e.length;){const s=e.charAt(r);if(!i&&s===n)return r;!i&&s==="\\"?i=!0:i=!1,r+=1}return e.length}fontSizeLineHeight(){if(!this._currentToken)throw new Error("Missing font size");const e=this._currentToken.text.split("/");if(e.length>=3)throw new Error(`Invalid font size '${this._currentToken}' specified`);if(this.nextToken(),e.length>=2)if(e[1]==="/"){if(!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.size=e[0],this.lineHeight=e[1];else if(e.length>=1){if(this.size=e[0],this._currentToken&&this._currentToken.text.indexOf("/")===0)if(this._currentToken.text==="/"){if(this.nextToken(),!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.lineHeight=this._currentToken.text.substr(1),this.nextToken()}else throw new Error("Missing font size")}nextToken(){this._currentTokenIndex++,this._currentTokenIndex<this._tokens.length?this._currentToken=this._tokens[this._currentTokenIndex]:this._currentToken=null}fontStyleVariantWeight(){let e=!1,r=!1,n=!1,i=3,s=[];for(;;){if(!this._currentToken)return;let a=this._currentToken.text;switch(a){case"normal":case"inherit":s.push(a),i--,this.nextToken();break;case"italic":case"oblique":this.style=a,e=!0,i--,this.nextToken();break;case"small-caps":this.variant=a,r=!0,i--,this.nextToken();break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":this.weight=a,n=!0,i--,this.nextToken();break;default:return}if(i===0)break}for(;s.length>0;){const a=s.pop();n?r?e||(this.style=a):this.variant=a:this.weight=a}}reset(){this._currentTokenIndex=-1,this.nextToken()}static quoteFont(e){return e.indexOf(" ")===-1?e:`"${e.replaceAll('"','\\"')}"`}}var Br;(function(t){t[t.Plain=0]="Plain",t[t.Italic=1]="Italic"})(Br||(Br={}));var Oi;(function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold"})(Oi||(Oi={}));class Ft{reset(){this._cssScale=0,this._css=this.toCssString()}get family(){return this._families[0]}set family(e){this.families=$u.parseFamilies(e)}get families(){return this._families}set families(e){this._families=e,this.reset()}get size(){return this._size}set size(e){this._size=e,this.reset()}get style(){return this._style}set style(e){this._style=e,this.reset()}get weight(){return this._weight}set weight(e){this._weight=e,this.reset()}get isBold(){return this.weight===Oi.Bold}get isItalic(){return this.style===Br.Italic}constructor(e,r,n=Br.Plain,i=Oi.Regular){this._cssScale=0,this._families=$u.parseFamilies(e),this._size=r,this._style=n,this._weight=i,this._css=this.toCssString()}static withFamilyList(e,r,n=Br.Plain,i=Oi.Regular){const s=new Ft("",r,n,i);return s.families=e,s}toCssString(e=1){if(!this._css||!(Math.abs(e-this._cssScale)<.01)){let r="";this.isBold&&(r+="bold "),this.isItalic&&(r+="italic "),r+=this.size*e,r+="px ",r+=this.families.map(n=>$u.quoteFont(n)).join(", "),this._css=r,this._cssScale=e}return this._css}static fromJson(e){switch(typeof e){case"undefined":return null;case"object":{const r=e;let n=r.get("families"),i=r.get("size"),s=Re.parseEnum(r.get("style"),Br),a=Re.parseEnum(r.get("weight"),Oi);return Ft.withFamilyList(n,i,s,a)}case"string":{const r=new $u(e);r.parse();let n=r.families,i=r.size.toLowerCase(),s=0;switch(i){case"xx-small":s=7;break;case"x-small":s=10;break;case"small":case"smaller":s=13;break;case"medium":s=16;break;case"large":case"larger":s=18;break;case"x-large":s=24;break;case"xx-large":s=32;break;default:try{i.endsWith("em")?s=parseFloat(i.substr(0,i.length-2))*16:i.endsWith("pt")?s=parseFloat(i.substr(0,i.length-2))*16/12:i.endsWith("px")?s=parseFloat(i.substr(0,i.length-2)):s=12}catch{s=12}break}let a=Br.Plain;r.style==="italic"&&(a=Br.Italic);let o=Oi.Regular;switch(r.weight.toLowerCase()){case"normal":case"lighter":break;default:o=Oi.Bold;break}return Ft.withFamilyList(n,s,a,o)}default:return null}}static toJson(e){const r=new Map;return r.set("families",e.families),r.set("size",e.size),r.set("style",e.style),r.set("weight",e.weight),r}}class vi{constructor(){this.copyrightFont=new Ft(vi.sansFont,12,Br.Plain,Oi.Bold),this.titleFont=new Ft(vi.serifFont,32,Br.Plain),this.subTitleFont=new Ft(vi.serifFont,20,Br.Plain),this.wordsFont=new Ft(vi.serifFont,15,Br.Plain),this.effectFont=new Ft(vi.serifFont,12,Br.Italic),this.fretboardNumberFont=new Ft(vi.sansFont,11,Br.Plain),this.tablatureFont=new Ft(vi.sansFont,13,Br.Plain),this.graceFont=new Ft(vi.sansFont,11,Br.Plain),this.staffLineColor=new Sr(165,165,165,255),this.barSeparatorColor=new Sr(34,34,17,255),this.barNumberFont=new Ft(vi.sansFont,11,Br.Plain),this.barNumberColor=new Sr(200,0,0,255),this.fingeringFont=new Ft(vi.serifFont,14,Br.Plain),this.markerFont=new Ft(vi.serifFont,14,Br.Plain,Oi.Bold),this.mainGlyphColor=new Sr(0,0,0,255),this.secondaryGlyphColor=new Sr(0,0,0,100),this.scoreInfoColor=new Sr(0,0,0,255)}}vi.sansFont="Arial, sans-serif";vi.serifFont="Georgia, serif";var Al;(function(t){t[t.Automatic=0]="Automatic",t[t.UseModelLayout=1]="UseModelLayout"})(Al||(Al={}));class Use{constructor(){this.scale=1,this.stretchForce=1,this.layoutMode=No.Page,this.staveProfile=Ai.Default,this.barsPerRow=-1,this.startBar=1,this.barCount=-1,this.barCountPerPartial=10,this.justifyLastSystem=!1,this.resources=new vi,this.padding=null,this.systemsLayoutMode=Al.Automatic}}class Gse{constructor(){this.encoding="utf-8",this.mergePartGroupsInMusicXml=!1,this.beatTextAsLyrics=!1}}var bo;(function(t){t[t.Off=0]="Off",t[t.Continuous=1]="Continuous",t[t.OffScreen=2]="OffScreen"})(bo||(bo={}));class jse{constructor(){this.noteWideLength=480,this.noteWideAmplitude=2,this.noteSlightLength=480,this.noteSlightAmplitude=2,this.beatWideLength=240,this.beatWideAmplitude=3,this.beatSlightLength=240,this.beatSlightAmplitude=3}}class Yse{constructor(){this.simpleSlidePitchOffset=6,this.simpleSlideDurationRatio=.25,this.shiftSlideDurationRatio=.5}}var Zf;(function(t){t[t.WebAudioAudioWorklets=0]="WebAudioAudioWorklets",t[t.WebAudioScriptProcessor=1]="WebAudioScriptProcessor"})(Zf||(Zf={}));class Xse{constructor(){this.soundFont=null,this.scrollElement="html,body",this.outputMode=Zf.WebAudioAudioWorklets,this.enablePlayer=!1,this.enableCursor=!0,this.enableAnimatedBeatCursor=!0,this.enableElementHighlighting=!0,this.enableUserInteraction=!0,this.scrollOffsetX=0,this.scrollOffsetY=0,this.scrollMode=bo.Continuous,this.scrollSpeed=300,this.nativeBrowserSmoothScroll=!0,this.songBookBendDuration=75,this.songBookDipDuration=150,this.vibrato=new jse,this.slide=new Yse,this.playTripletFeel=!0,this.bufferTimeInMilliseconds=500}}class rw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scriptfile",e.scriptFile),r.set("fontdirectory",e.fontDirectory),r.set("file",e.file),r.set("tex",e.tex),r.set("tracks",e.tracks),r.set("enablelazyloading",e.enableLazyLoading),r.set("engine",e.engine),r.set("loglevel",e.logLevel),r.set("useworkers",e.useWorkers),r.set("includenotebounds",e.includeNoteBounds),r}static setProperty(e,r,n){switch(r){case"scriptfile":return e.scriptFile=n,!0;case"fontdirectory":return e.fontDirectory=n,!0;case"file":return e.file=n,!0;case"tex":return e.tex=n,!0;case"tracks":return e.tracks=n,!0;case"enablelazyloading":return e.enableLazyLoading=n,!0;case"engine":return e.engine=n,!0;case"loglevel":return e.logLevel=Re.parseEnum(n,ga),!0;case"useworkers":return e.useWorkers=n,!0;case"includenotebounds":return e.includeNoteBounds=n,!0}return!1}}class nw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("copyrightfont",Ft.toJson(e.copyrightFont)),r.set("titlefont",Ft.toJson(e.titleFont)),r.set("subtitlefont",Ft.toJson(e.subTitleFont)),r.set("wordsfont",Ft.toJson(e.wordsFont)),r.set("effectfont",Ft.toJson(e.effectFont)),r.set("fretboardnumberfont",Ft.toJson(e.fretboardNumberFont)),r.set("tablaturefont",Ft.toJson(e.tablatureFont)),r.set("gracefont",Ft.toJson(e.graceFont)),r.set("stafflinecolor",Sr.toJson(e.staffLineColor)),r.set("barseparatorcolor",Sr.toJson(e.barSeparatorColor)),r.set("barnumberfont",Ft.toJson(e.barNumberFont)),r.set("barnumbercolor",Sr.toJson(e.barNumberColor)),r.set("fingeringfont",Ft.toJson(e.fingeringFont)),r.set("markerfont",Ft.toJson(e.markerFont)),r.set("mainglyphcolor",Sr.toJson(e.mainGlyphColor)),r.set("secondaryglyphcolor",Sr.toJson(e.secondaryGlyphColor)),r.set("scoreinfocolor",Sr.toJson(e.scoreInfoColor)),r}static setProperty(e,r,n){switch(r){case"copyrightfont":return e.copyrightFont=Ft.fromJson(n),!0;case"titlefont":return e.titleFont=Ft.fromJson(n),!0;case"subtitlefont":return e.subTitleFont=Ft.fromJson(n),!0;case"wordsfont":return e.wordsFont=Ft.fromJson(n),!0;case"effectfont":return e.effectFont=Ft.fromJson(n),!0;case"fretboardnumberfont":return e.fretboardNumberFont=Ft.fromJson(n),!0;case"tablaturefont":return e.tablatureFont=Ft.fromJson(n),!0;case"gracefont":return e.graceFont=Ft.fromJson(n),!0;case"stafflinecolor":return e.staffLineColor=Sr.fromJson(n),!0;case"barseparatorcolor":return e.barSeparatorColor=Sr.fromJson(n),!0;case"barnumberfont":return e.barNumberFont=Ft.fromJson(n),!0;case"barnumbercolor":return e.barNumberColor=Sr.fromJson(n),!0;case"fingeringfont":return e.fingeringFont=Ft.fromJson(n),!0;case"markerfont":return e.markerFont=Ft.fromJson(n),!0;case"mainglyphcolor":return e.mainGlyphColor=Sr.fromJson(n),!0;case"secondaryglyphcolor":return e.secondaryGlyphColor=Sr.fromJson(n),!0;case"scoreinfocolor":return e.scoreInfoColor=Sr.fromJson(n),!0}return!1}}class iw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scale",e.scale),r.set("stretchforce",e.stretchForce),r.set("layoutmode",e.layoutMode),r.set("staveprofile",e.staveProfile),r.set("barsperrow",e.barsPerRow),r.set("startbar",e.startBar),r.set("barcount",e.barCount),r.set("barcountperpartial",e.barCountPerPartial),r.set("justifylastsystem",e.justifyLastSystem),r.set("resources",nw.toJson(e.resources)),r.set("padding",e.padding),r.set("systemslayoutmode",e.systemsLayoutMode),r}static setProperty(e,r,n){switch(r){case"scale":return e.scale=n,!0;case"stretchforce":return e.stretchForce=n,!0;case"layoutmode":return e.layoutMode=Re.parseEnum(n,No),!0;case"staveprofile":return e.staveProfile=Re.parseEnum(n,Ai),!0;case"barsperrow":return e.barsPerRow=n,!0;case"startbar":return e.startBar=n,!0;case"barcount":return e.barCount=n,!0;case"barcountperpartial":return e.barCountPerPartial=n,!0;case"justifylastsystem":return e.justifyLastSystem=n,!0;case"padding":return e.padding=n,!0;case"systemslayoutmode":return e.systemsLayoutMode=Re.parseEnum(n,Al),!0}if(["resources"].indexOf(r)>=0)return nw.fromJson(e.resources,n),!0;for(const i of["resources"])if(r.indexOf(i)===0&&nw.setProperty(e.resources,r.substring(i.length),n))return!0;return!1}}class sw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;r.set("notationmode",e.notationMode),r.set("fingeringmode",e.fingeringMode);{const n=new Map;r.set("elements",n);for(const[i,s]of e.elements)n.set(i.toString(),s)}return r.set("rhythmmode",e.rhythmMode),r.set("rhythmheight",e.rhythmHeight),r.set("transpositionpitches",e.transpositionPitches),r.set("displaytranspositionpitches",e.displayTranspositionPitches),r.set("smallgracetabnotes",e.smallGraceTabNotes),r.set("extendbendarrowsontiednotes",e.extendBendArrowsOnTiedNotes),r.set("extendlineeffectstobeatend",e.extendLineEffectsToBeatEnd),r.set("slurheight",e.slurHeight),r}static setProperty(e,r,n){switch(r){case"notationmode":return e.notationMode=Re.parseEnum(n,pn),!0;case"fingeringmode":return e.fingeringMode=Re.parseEnum(n,Ma),!0;case"elements":return e.elements=new Map,Re.forEach(n,(i,s)=>{e.elements.set(Re.parseEnum(s,it),i)}),!0;case"rhythmmode":return e.rhythmMode=Re.parseEnum(n,So),!0;case"rhythmheight":return e.rhythmHeight=n,!0;case"transpositionpitches":return e.transpositionPitches=n,!0;case"displaytranspositionpitches":return e.displayTranspositionPitches=n,!0;case"smallgracetabnotes":return e.smallGraceTabNotes=n,!0;case"extendbendarrowsontiednotes":return e.extendBendArrowsOnTiedNotes=n,!0;case"extendlineeffectstobeatend":return e.extendLineEffectsToBeatEnd=n,!0;case"slurheight":return e.slurHeight=n,!0}return!1}}class aw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("encoding",e.encoding),r.set("mergepartgroupsinmusicxml",e.mergePartGroupsInMusicXml),r.set("beattextaslyrics",e.beatTextAsLyrics),r}static setProperty(e,r,n){switch(r){case"encoding":return e.encoding=n,!0;case"mergepartgroupsinmusicxml":return e.mergePartGroupsInMusicXml=n,!0;case"beattextaslyrics":return e.beatTextAsLyrics=n,!0}return!1}}class ow{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("notewidelength",e.noteWideLength),r.set("notewideamplitude",e.noteWideAmplitude),r.set("noteslightlength",e.noteSlightLength),r.set("noteslightamplitude",e.noteSlightAmplitude),r.set("beatwidelength",e.beatWideLength),r.set("beatwideamplitude",e.beatWideAmplitude),r.set("beatslightlength",e.beatSlightLength),r.set("beatslightamplitude",e.beatSlightAmplitude),r}static setProperty(e,r,n){switch(r){case"notewidelength":return e.noteWideLength=n,!0;case"notewideamplitude":return e.noteWideAmplitude=n,!0;case"noteslightlength":return e.noteSlightLength=n,!0;case"noteslightamplitude":return e.noteSlightAmplitude=n,!0;case"beatwidelength":return e.beatWideLength=n,!0;case"beatwideamplitude":return e.beatWideAmplitude=n,!0;case"beatslightlength":return e.beatSlightLength=n,!0;case"beatslightamplitude":return e.beatSlightAmplitude=n,!0}return!1}}class lw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("simpleslidepitchoffset",e.simpleSlidePitchOffset),r.set("simpleslidedurationratio",e.simpleSlideDurationRatio),r.set("shiftslidedurationratio",e.shiftSlideDurationRatio),r}static setProperty(e,r,n){switch(r){case"simpleslidepitchoffset":return e.simpleSlidePitchOffset=n,!0;case"simpleslidedurationratio":return e.simpleSlideDurationRatio=n,!0;case"shiftslidedurationratio":return e.shiftSlideDurationRatio=n,!0}return!1}}class cw{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("soundfont",e.soundFont),r.set("outputmode",e.outputMode),r.set("enableplayer",e.enablePlayer),r.set("enablecursor",e.enableCursor),r.set("enableanimatedbeatcursor",e.enableAnimatedBeatCursor),r.set("enableelementhighlighting",e.enableElementHighlighting),r.set("enableuserinteraction",e.enableUserInteraction),r.set("scrolloffsetx",e.scrollOffsetX),r.set("scrolloffsety",e.scrollOffsetY),r.set("scrollmode",e.scrollMode),r.set("scrollspeed",e.scrollSpeed),r.set("nativebrowsersmoothscroll",e.nativeBrowserSmoothScroll),r.set("songbookbendduration",e.songBookBendDuration),r.set("songbookdipduration",e.songBookDipDuration),r.set("vibrato",ow.toJson(e.vibrato)),r.set("slide",lw.toJson(e.slide)),r.set("playtripletfeel",e.playTripletFeel),r.set("buffertimeinmilliseconds",e.bufferTimeInMilliseconds),r}static setProperty(e,r,n){switch(r){case"soundfont":return e.soundFont=n,!0;case"scrollelement":return e.scrollElement=n,!0;case"outputmode":return e.outputMode=Re.parseEnum(n,Zf),!0;case"enableplayer":return e.enablePlayer=n,!0;case"enablecursor":return e.enableCursor=n,!0;case"enableanimatedbeatcursor":return e.enableAnimatedBeatCursor=n,!0;case"enableelementhighlighting":return e.enableElementHighlighting=n,!0;case"enableuserinteraction":return e.enableUserInteraction=n,!0;case"scrolloffsetx":return e.scrollOffsetX=n,!0;case"scrolloffsety":return e.scrollOffsetY=n,!0;case"scrollmode":return e.scrollMode=Re.parseEnum(n,bo),!0;case"scrollspeed":return e.scrollSpeed=n,!0;case"nativebrowsersmoothscroll":return e.nativeBrowserSmoothScroll=n,!0;case"songbookbendduration":return e.songBookBendDuration=n,!0;case"songbookdipduration":return e.songBookDipDuration=n,!0;case"playtripletfeel":return e.playTripletFeel=n,!0;case"buffertimeinmilliseconds":return e.bufferTimeInMilliseconds=n,!0}if(["vibrato"].indexOf(r)>=0)return ow.fromJson(e.vibrato,n),!0;for(const i of["vibrato"])if(r.indexOf(i)===0&&ow.setProperty(e.vibrato,r.substring(i.length),n))return!0;if(["slide"].indexOf(r)>=0)return lw.fromJson(e.slide,n),!0;for(const i of["slide"])if(r.indexOf(i)===0&&lw.setProperty(e.slide,r.substring(i.length),n))return!0;return!1}}class vd{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("core",rw.toJson(e.core)),r.set("display",iw.toJson(e.display)),r.set("notation",sw.toJson(e.notation)),r.set("importer",aw.toJson(e.importer)),r.set("player",cw.toJson(e.player)),r}static setProperty(e,r,n){if(["core",""].indexOf(r)>=0)return rw.fromJson(e.core,n),!0;for(const i of["core",""])if(r.indexOf(i)===0&&rw.setProperty(e.core,r.substring(i.length),n))return!0;if(["display",""].indexOf(r)>=0)return iw.fromJson(e.display,n),!0;for(const i of["display",""])if(r.indexOf(i)===0&&iw.setProperty(e.display,r.substring(i.length),n))return!0;if(["notation"].indexOf(r)>=0)return sw.fromJson(e.notation,n),!0;for(const i of["notation"])if(r.indexOf(i)===0&&sw.setProperty(e.notation,r.substring(i.length),n))return!0;if(["importer"].indexOf(r)>=0)return aw.fromJson(e.importer,n),!0;for(const i of["importer"])if(r.indexOf(i)===0&&aw.setProperty(e.importer,r.substring(i.length),n))return!0;if(["player"].indexOf(r)>=0)return cw.fromJson(e.player,n),!0;for(const i of["player"])if(r.indexOf(i)===0&&cw.setProperty(e.player,r.substring(i.length),n))return!0;return!1}}class zc{constructor(){this.core=new HA,this.display=new Use,this.notation=new Xf,this.importer=new Gse,this.player=new Xse}setSongBookModeSettings(){this.notation.notationMode=pn.SongBook,this.notation.smallGraceTabNotes=!1,this.notation.fingeringMode=Ma.SingleNoteEffectBand,this.notation.extendBendArrowsOnTiedNotes=!1,this.notation.elements.set(it.ParenthesisOnTiedBends,!1),this.notation.elements.set(it.TabNotesOnTiedBends,!1),this.notation.elements.set(it.ZerosOnDiveWhammys,!0)}static get songBook(){let e=new zc;return e.setSongBookModeSettings(),e}fillFromJson(e){vd.fromJson(this,e)}}class gN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("marker",e.marker),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"marker":return e.marker=n,!0;case"text":return e.text=n,!0}return!1}}class Ey{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("islinear",e.isLinear),r.set("type",e.type),r.set("value",e.value),r.set("ratioposition",e.ratioPosition),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"islinear":return e.isLinear=n,!0;case"type":return e.type=Re.parseEnum(n,mn),!0;case"value":return e.value=n,!0;case"ratioposition":return e.ratioPosition=n,!0;case"text":return e.text=n,!0}return!1}}class yN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("type",e.type),r.set("length",e.length),r}static setProperty(e,r,n){switch(r){case"type":return e.type=Re.parseEnum(n,Ta),!0;case"length":return e.length=n,!0}return!1}}class bN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("alternateendings",e.alternateEndings),r.set("keysignature",e.keySignature),r.set("keysignaturetype",e.keySignatureType),r.set("isdoublebar",e.isDoubleBar),r.set("isrepeatstart",e.isRepeatStart),r.set("repeatcount",e.repeatCount),r.set("timesignaturenumerator",e.timeSignatureNumerator),r.set("timesignaturedenominator",e.timeSignatureDenominator),r.set("timesignaturecommon",e.timeSignatureCommon),r.set("tripletfeel",e.tripletFeel),r.set("section",gN.toJson(e.section)),r.set("tempoautomation",Ey.toJson(e.tempoAutomation)),e.fermata!==null){const n=new Map;r.set("fermata",n);for(const[i,s]of e.fermata)n.set(i.toString(),yN.toJson(s))}return r.set("start",e.start),r.set("isanacrusis",e.isAnacrusis),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"alternateendings":return e.alternateEndings=n,!0;case"keysignature":return e.keySignature=Re.parseEnum(n,ln),!0;case"keysignaturetype":return e.keySignatureType=Re.parseEnum(n,Fl),!0;case"isdoublebar":return e.isDoubleBar=n,!0;case"isrepeatstart":return e.isRepeatStart=n,!0;case"repeatcount":return e.repeatCount=n,!0;case"timesignaturenumerator":return e.timeSignatureNumerator=n,!0;case"timesignaturedenominator":return e.timeSignatureDenominator=n,!0;case"timesignaturecommon":return e.timeSignatureCommon=n,!0;case"tripletfeel":return e.tripletFeel=Re.parseEnum(n,vt),!0;case"fermata":return e.fermata=new Map,Re.forEach(n,(i,s)=>{const a=new bC;yN.fromJson(a,i),e.addFermata(parseInt(s),a)}),!0;case"start":return e.start=n,!0;case"isanacrusis":return e.isAnacrusis=n,!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return["section"].indexOf(r)>=0?(n?(e.section=new Lb,gN.fromJson(e.section,n)):e.section=null,!0):["tempoautomation"].indexOf(r)>=0?(n?(e.tempoAutomation=new $n,Ey.fromJson(e.tempoAutomation,n)):e.tempoAutomation=null,!0):!1}}class Ry{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("offset",e.offset),r.set("value",e.value),r}static setProperty(e,r,n){switch(r){case"offset":return e.offset=n,!0;case"value":return e.value=n,!0}return!1}}class vN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("accentuated",e.accentuated),r.set("bendtype",e.bendType),r.set("bendstyle",e.bendStyle),r.set("iscontinuedbend",e.isContinuedBend),e.bendPoints!==null&&r.set("bendpoints",(n=e.bendPoints)==null?void 0:n.map(i=>Ry.toJson(i))),r.set("fret",e.fret),r.set("string",e.string),r.set("octave",e.octave),r.set("tone",e.tone),r.set("percussionarticulation",e.percussionArticulation),r.set("isvisible",e.isVisible),r.set("islefthandtapped",e.isLeftHandTapped),r.set("ishammerpullorigin",e.isHammerPullOrigin),r.set("isslurdestination",e.isSlurDestination),r.set("harmonictype",e.harmonicType),r.set("harmonicvalue",e.harmonicValue),r.set("isghost",e.isGhost),r.set("isletring",e.isLetRing),r.set("ispalmmute",e.isPalmMute),r.set("isdead",e.isDead),r.set("isstaccato",e.isStaccato),r.set("slideintype",e.slideInType),r.set("slideouttype",e.slideOutType),r.set("vibrato",e.vibrato),r.set("istiedestination",e.isTieDestination),r.set("lefthandfinger",e.leftHandFinger),r.set("righthandfinger",e.rightHandFinger),r.set("isfingering",e.isFingering),r.set("trillvalue",e.trillValue),r.set("trillspeed",e.trillSpeed),r.set("durationpercent",e.durationPercent),r.set("accidentalmode",e.accidentalMode),r.set("dynamics",e.dynamics),e.toJson(r),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"accentuated":return e.accentuated=Re.parseEnum(n,en),!0;case"bendtype":return e.bendType=Re.parseEnum(n,Ue),!0;case"bendstyle":return e.bendStyle=Re.parseEnum(n,Qt),!0;case"iscontinuedbend":return e.isContinuedBend=n,!0;case"bendpoints":if(n){e.bendPoints=[];for(const i of n){const s=new Le;Ry.fromJson(s,i),e.addBendPoint(s)}}return!0;case"fret":return e.fret=n,!0;case"string":return e.string=n,!0;case"octave":return e.octave=n,!0;case"tone":return e.tone=n,!0;case"percussionarticulation":return e.percussionArticulation=n,!0;case"isvisible":return e.isVisible=n,!0;case"islefthandtapped":return e.isLeftHandTapped=n,!0;case"ishammerpullorigin":return e.isHammerPullOrigin=n,!0;case"isslurdestination":return e.isSlurDestination=n,!0;case"harmonictype":return e.harmonicType=Re.parseEnum(n,Qe),!0;case"harmonicvalue":return e.harmonicValue=n,!0;case"isghost":return e.isGhost=n,!0;case"isletring":return e.isLetRing=n,!0;case"ispalmmute":return e.isPalmMute=n,!0;case"isdead":return e.isDead=n,!0;case"isstaccato":return e.isStaccato=n,!0;case"slideintype":return e.slideInType=Re.parseEnum(n,kn),!0;case"slideouttype":return e.slideOutType=Re.parseEnum(n,ft),!0;case"vibrato":return e.vibrato=Re.parseEnum(n,At),!0;case"istiedestination":return e.isTieDestination=n,!0;case"lefthandfinger":return e.leftHandFinger=Re.parseEnum(n,lt),!0;case"righthandfinger":return e.rightHandFinger=Re.parseEnum(n,lt),!0;case"isfingering":return e.isFingering=n,!0;case"trillvalue":return e.trillValue=n,!0;case"trillspeed":return e.trillSpeed=Re.parseEnum(n,H),!0;case"durationpercent":return e.durationPercent=n,!0;case"accidentalmode":return e.accidentalMode=Re.parseEnum(n,jr),!0;case"dynamics":return e.dynamics=Re.parseEnum(n,wt),!0}return e.setProperty(r,n)}}class wN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("notes",e.notes.map(i=>vN.toJson(i))),r.set("isempty",e.isEmpty),r.set("whammystyle",e.whammyStyle),r.set("ottava",e.ottava),r.set("islegatoorigin",e.isLegatoOrigin),r.set("duration",e.duration),r.set("automations",e.automations.map(i=>Ey.toJson(i))),r.set("dots",e.dots),r.set("fadein",e.fadeIn),r.set("lyrics",e.lyrics),r.set("hasrasgueado",e.hasRasgueado),r.set("pop",e.pop),r.set("slap",e.slap),r.set("tap",e.tap),r.set("text",e.text),r.set("brushtype",e.brushType),r.set("brushduration",e.brushDuration),r.set("tupletdenominator",e.tupletDenominator),r.set("tupletnumerator",e.tupletNumerator),r.set("iscontinuedwhammy",e.isContinuedWhammy),r.set("whammybartype",e.whammyBarType),e.whammyBarPoints!==null&&r.set("whammybarpoints",(n=e.whammyBarPoints)==null?void 0:n.map(i=>Ry.toJson(i))),r.set("vibrato",e.vibrato),r.set("chordid",e.chordId),r.set("gracetype",e.graceType),r.set("pickstroke",e.pickStroke),r.set("tremolospeed",e.tremoloSpeed),r.set("crescendo",e.crescendo),r.set("displaystart",e.displayStart),r.set("playbackstart",e.playbackStart),r.set("displayduration",e.displayDuration),r.set("playbackduration",e.playbackDuration),r.set("dynamics",e.dynamics),r.set("invertbeamdirection",e.invertBeamDirection),r.set("preferredbeamdirection",e.preferredBeamDirection),r.set("beamingmode",e.beamingMode),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"notes":e.notes=[];for(const i of n){const s=new Rr;vN.fromJson(s,i),e.addNote(s)}return!0;case"isempty":return e.isEmpty=n,!0;case"whammystyle":return e.whammyStyle=Re.parseEnum(n,Qt),!0;case"ottava":return e.ottava=Re.parseEnum(n,$t),!0;case"islegatoorigin":return e.isLegatoOrigin=n,!0;case"duration":return e.duration=Re.parseEnum(n,H),!0;case"automations":e.automations=[];for(const i of n){const s=new $n;Ey.fromJson(s,i),e.automations.push(s)}return!0;case"dots":return e.dots=n,!0;case"fadein":return e.fadeIn=n,!0;case"lyrics":return e.lyrics=n,!0;case"hasrasgueado":return e.hasRasgueado=n,!0;case"pop":return e.pop=n,!0;case"slap":return e.slap=n,!0;case"tap":return e.tap=n,!0;case"text":return e.text=n,!0;case"brushtype":return e.brushType=Re.parseEnum(n,or),!0;case"brushduration":return e.brushDuration=n,!0;case"tupletdenominator":return e.tupletDenominator=n,!0;case"tupletnumerator":return e.tupletNumerator=n,!0;case"iscontinuedwhammy":return e.isContinuedWhammy=n,!0;case"whammybartype":return e.whammyBarType=Re.parseEnum(n,Ot),!0;case"whammybarpoints":if(n){e.whammyBarPoints=[];for(const i of n){const s=new Le;Ry.fromJson(s,i),e.addWhammyBarPoint(s)}}return!0;case"vibrato":return e.vibrato=Re.parseEnum(n,At),!0;case"chordid":return e.chordId=n,!0;case"gracetype":return e.graceType=Re.parseEnum(n,tt),!0;case"pickstroke":return e.pickStroke=Re.parseEnum(n,Fn),!0;case"tremolospeed":return e.tremoloSpeed=Re.parseEnum(n,H),!0;case"crescendo":return e.crescendo=Re.parseEnum(n,Ti),!0;case"displaystart":return e.displayStart=n,!0;case"playbackstart":return e.playbackStart=n,!0;case"displayduration":return e.displayDuration=n,!0;case"playbackduration":return e.playbackDuration=n,!0;case"dynamics":return e.dynamics=Re.parseEnum(n,wt),!0;case"invertbeamdirection":return e.invertBeamDirection=n,!0;case"preferredbeamdirection":return e.preferredBeamDirection=Re.parseEnum(n,Pe),!0;case"beamingmode":return e.beamingMode=Re.parseEnum(n,va),!0}return!1}}class xN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("beats",e.beats.map(n=>wN.toJson(n))),r.set("isempty",e.isEmpty),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"beats":e.beats=[];for(const i of n){const s=new zn;wN.fromJson(s,i),e.addBeat(s)}return!0;case"isempty":return e.isEmpty=n,!0}return!1}}class SN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("clef",e.clef),r.set("clefottava",e.clefOttava),r.set("voices",e.voices.map(n=>xN.toJson(n))),r.set("similemark",e.simileMark),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"clef":return e.clef=Re.parseEnum(n,ct),!0;case"clefottava":return e.clefOttava=Re.parseEnum(n,$t),!0;case"voices":e.voices=[];for(const i of n){const s=new ao;xN.fromJson(s,i),e.addVoice(s)}return!0;case"similemark":return e.simileMark=Re.parseEnum(n,us),!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return!1}}class kN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("name",e.name),r.set("firstfret",e.firstFret),r.set("strings",e.strings),r.set("barrefrets",e.barreFrets),r.set("showname",e.showName),r.set("showdiagram",e.showDiagram),r.set("showfingering",e.showFingering),r}static setProperty(e,r,n){switch(r){case"name":return e.name=n,!0;case"firstfret":return e.firstFret=n,!0;case"strings":return e.strings=n,!0;case"barrefrets":return e.barreFrets=n,!0;case"showname":return e.showName=n,!0;case"showdiagram":return e.showDiagram=n,!0;case"showfingering":return e.showFingering=n,!0}return!1}}class CN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("isstandard",e.isStandard),r.set("name",e.name),r.set("tunings",e.tunings),r}static setProperty(e,r,n){switch(r){case"isstandard":return e.isStandard=n,!0;case"name":return e.name=n,!0;case"tunings":return e.tunings=n,!0}return!1}}class TN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("bars",e.bars.map(n=>SN.toJson(n))),e.chords!==null){const n=new Map;r.set("chords",n);for(const[i,s]of e.chords)n.set(i.toString(),kN.toJson(s))}return r.set("capo",e.capo),r.set("transpositionpitch",e.transpositionPitch),r.set("displaytranspositionpitch",e.displayTranspositionPitch),r.set("stringtuning",CN.toJson(e.stringTuning)),r.set("showtablature",e.showTablature),r.set("showstandardnotation",e.showStandardNotation),r.set("ispercussion",e.isPercussion),r.set("standardnotationlinecount",e.standardNotationLineCount),r}static setProperty(e,r,n){switch(r){case"bars":e.bars=[];for(const i of n){const s=new jo;SN.fromJson(s,i),e.addBar(s)}return!0;case"chords":return e.chords=new Map,Re.forEach(n,(i,s)=>{const a=new Il;kN.fromJson(a,i),e.addChord(s,a)}),!0;case"capo":return e.capo=n,!0;case"transpositionpitch":return e.transpositionPitch=n,!0;case"displaytranspositionpitch":return e.displayTranspositionPitch=n,!0;case"showtablature":return e.showTablature=n,!0;case"showstandardnotation":return e.showStandardNotation=n,!0;case"ispercussion":return e.isPercussion=n,!0;case"standardnotationlinecount":return e.standardNotationLineCount=n,!0}return["stringtuning"].indexOf(r)>=0?(CN.fromJson(e.stringTuning,n),!0):!1}}class _N{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("volume",e.volume),r.set("balance",e.balance),r.set("port",e.port),r.set("program",e.program),r.set("primarychannel",e.primaryChannel),r.set("secondarychannel",e.secondaryChannel),r.set("ismute",e.isMute),r.set("issolo",e.isSolo),r}static setProperty(e,r,n){switch(r){case"volume":return e.volume=n,!0;case"balance":return e.balance=n,!0;case"port":return e.port=n,!0;case"program":return e.program=n,!0;case"primarychannel":return e.primaryChannel=n,!0;case"secondarychannel":return e.secondaryChannel=n,!0;case"ismute":return e.isMute=n,!0;case"issolo":return e.isSolo=n,!0}return!1}}class PN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("elementtype",e.elementType),r.set("staffline",e.staffLine),r.set("noteheaddefault",e.noteHeadDefault),r.set("noteheadhalf",e.noteHeadHalf),r.set("noteheadwhole",e.noteHeadWhole),r.set("techniquesymbol",e.techniqueSymbol),r.set("techniquesymbolplacement",e.techniqueSymbolPlacement),r.set("outputmidinumber",e.outputMidiNumber),r}static setProperty(e,r,n){switch(r){case"elementtype":return e.elementType=n,!0;case"staffline":return e.staffLine=n,!0;case"noteheaddefault":return e.noteHeadDefault=Re.parseEnum(n,P),!0;case"noteheadhalf":return e.noteHeadHalf=Re.parseEnum(n,P),!0;case"noteheadwhole":return e.noteHeadWhole=Re.parseEnum(n,P),!0;case"techniquesymbol":return e.techniqueSymbol=Re.parseEnum(n,P),!0;case"techniquesymbolplacement":return e.techniqueSymbolPlacement=Re.parseEnum(n,gt),!0;case"outputmidinumber":return e.outputMidiNumber=n,!0}return!1}}class BN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("staves",e.staves.map(n=>TN.toJson(n))),r.set("playbackinfo",_N.toJson(e.playbackInfo)),r.set("color",Sr.toJson(e.color)),r.set("name",e.name),r.set("shortname",e.shortName),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("percussionarticulations",e.percussionArticulations.map(n=>PN.toJson(n))),r}static setProperty(e,r,n){switch(r){case"staves":e.staves=[];for(const i of n){const s=new iA;TN.fromJson(s,i),e.addStaff(s)}return!0;case"color":return e.color=Sr.fromJson(n),!0;case"name":return e.name=n,!0;case"shortname":return e.shortName=n,!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0;case"percussionarticulations":e.percussionArticulations=[];for(const i of n){const s=new Ae;PN.fromJson(s,i),e.percussionArticulations.push(s)}return!0}return["playbackinfo"].indexOf(r)>=0?(_N.fromJson(e.playbackInfo,n),!0):!1}}class NN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("hidedynamics",e.hideDynamics),r}static setProperty(e,r,n){switch(r){case"hidedynamics":return e.hideDynamics=n,!0}return!1}}class MN{static fromJson(e,r){r&&Re.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("album",e.album),r.set("artist",e.artist),r.set("copyright",e.copyright),r.set("instructions",e.instructions),r.set("music",e.music),r.set("notices",e.notices),r.set("subtitle",e.subTitle),r.set("title",e.title),r.set("words",e.words),r.set("tab",e.tab),r.set("tempo",e.tempo),r.set("tempolabel",e.tempoLabel),r.set("masterbars",e.masterBars.map(n=>bN.toJson(n))),r.set("tracks",e.tracks.map(n=>BN.toJson(n))),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("stylesheet",NN.toJson(e.stylesheet)),r}static setProperty(e,r,n){switch(r){case"album":return e.album=n,!0;case"artist":return e.artist=n,!0;case"copyright":return e.copyright=n,!0;case"instructions":return e.instructions=n,!0;case"music":return e.music=n,!0;case"notices":return e.notices=n,!0;case"subtitle":return e.subTitle=n,!0;case"title":return e.title=n,!0;case"words":return e.words=n,!0;case"tab":return e.tab=n,!0;case"tempo":return e.tempo=n,!0;case"tempolabel":return e.tempoLabel=n,!0;case"masterbars":e.masterBars=[];for(const i of n){const s=new Oo;bN.fromJson(s,i),e.addMasterBar(s)}return!0;case"tracks":e.tracks=[];for(const i of n){const s=new so;BN.fromJson(s,i),e.addTrack(s)}return!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0}return["stylesheet"].indexOf(r)>=0?(NN.fromJson(e.stylesheet,n),!0):!1}}class Yr{static jsonReplacer(e,r){if(r instanceof Map){if("fromEntries"in Object)return Object.fromEntries(r);{const n={};for(const[i,s]of r)n[i]=s;return n}}else if(ArrayBuffer.isView(r))return Array.apply([],[r]);return r}static scoreToJson(e){let r=Yr.scoreToJsObject(e);return JSON.stringify(r,Yr.jsonReplacer)}static jsonToScore(e,r){return Yr.jsObjectToScore(JSON.parse(e),r)}static scoreToJsObject(e){return MN.toJson(e)}static jsObjectToScore(e,r){let n=new Jc;return MN.fromJson(n,e),n.finish(r??new zc),n}static settingsToJson(e){let r=Yr.settingsToJsObject(e);return JSON.stringify(r,Yr.jsonReplacer)}static jsonToSettings(e){return Yr.jsObjectToSettings(JSON.parse(e))}static settingsToJsObject(e){return vd.toJson(e)}static jsObjectToSettings(e){let r=new zc;return vd.fromJson(r,e),r}static jsObjectToMidiFile(e){let r=new Pl;return Re.forEach(e,(n,i)=>{switch(i){case"division":r.division=n;break;case"tracks":for(let s of n){let a=Yr.jsObjectToMidiTrack(s);r.tracks.push(a)}break}}),r}static jsObjectToMidiTrack(e){let r=new lA;return Re.forEach(e,(n,i)=>{switch(i){case"events":for(let s of n){let a=Yr.jsObjectToMidiEvent(s);r.events.push(a)}break}}),r}static jsObjectToMidiEvent(e){let r=Re.getValue(e,"track"),n=Re.getValue(e,"tick"),i=Re.getValue(e,"type");switch(i){case Et.TimeSignature:return new cA(r,n,Re.getValue(e,"numerator"),Re.getValue(e,"denominatorIndex"),Re.getValue(e,"midiClocksPerMetronomeClick"),Re.getValue(e,"thirdySecondNodesInQuarter"));case Et.AlphaTabRest:return new dA(r,n,Re.getValue(e,"channel"));case Et.AlphaTabMetronome:return new uA(r,n,Re.getValue(e,"metronomeNumerator"),Re.getValue(e,"metronomeDurationInTicks"),Re.getValue(e,"metronomeDurationInMilliseconds"));case Et.NoteOn:return new fA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"noteVelocity"));case Et.NoteOff:return new pA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"noteVelocity"));case Et.ControlChange:return new mA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"controller"),Re.getValue(e,"value"));case Et.ProgramChange:return new gA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"program"));case Et.TempoChange:return new yA(n,Re.getValue(e,"microSecondsPerQuarterNote"));case Et.PitchBend:return new bA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"value"));case Et.PerNotePitchBend:return new vA(r,n,Re.getValue(e,"channel"),Re.getValue(e,"noteKey"),Re.getValue(e,"value"));case Et.EndOfTrack:return new wA(r,n)}throw new Tn(Cn.Format,"Unknown Midi Event type: "+i)}static midiFileToJsObject(e){const r=new Map;r.set("division",e.division);const n=[];for(let i of e.tracks)n.push(Yr.midiTrackToJsObject(i));return r.set("tracks",n),r}static midiTrackToJsObject(e){const r=new Map,n=[];for(let i of e.events)n.push(Yr.midiEventToJsObject(i));return r.set("events",n),r}static midiEventToJsObject(e){const r=new Map;switch(r.set("track",e.track),r.set("tick",e.tick),r.set("type",e.type),e.type){case Et.TimeSignature:r.set("numerator",e.numerator),r.set("denominatorIndex",e.denominatorIndex),r.set("midiClocksPerMetronomeClick",e.midiClocksPerMetronomeClick),r.set("thirdySecondNodesInQuarter",e.thirtySecondNodesInQuarter);break;case Et.AlphaTabRest:r.set("channel",e.channel);break;case Et.AlphaTabMetronome:r.set("metronomeNumerator",e.metronomeNumerator),r.set("metronomeDurationInMilliseconds",e.metronomeDurationInMilliseconds),r.set("metronomeDurationInTicks",e.metronomeDurationInTicks);break;case Et.NoteOn:case Et.NoteOff:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("noteVelocity",e.noteVelocity);break;case Et.ControlChange:r.set("channel",e.channel),r.set("controller",e.controller),r.set("value",e.value);break;case Et.ProgramChange:r.set("channel",e.channel),r.set("program",e.program);break;case Et.TempoChange:r.set("microSecondsPerQuarterNote",e.microSecondsPerQuarterNote);break;case Et.PitchBend:r.set("channel",e.channel),r.set("value",e.value);break;case Et.PerNotePitchBend:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("value",e.value);break;case Et.EndOfTrack:break}return r}}class kr{constructor(){this.ready=new gn,this.samplesPlayed=new Dt,this.sampleRequest=new gn}get sampleRate(){return kr.preferredSampleRate}open(){ve.debug("AlphaSynth","Initializing synth worker"),this._worker=Ne.globalThis,this._worker.addEventListener("message",this.handleMessage.bind(this)),this.ready.trigger()}destroy(){this._worker.postMessage({cmd:"alphaSynth.output.destroy"})}handleMessage(e){let r=e.data;switch(r.cmd){case kr.CmdOutputSampleRequest:this.sampleRequest.trigger();break;case kr.CmdOutputSamplesPlayed:this.samplesPlayed.trigger(r.samples);break}}addSamples(e){this._worker.postMessage({cmd:"alphaSynth.output.addSamples",samples:e})}play(){this._worker.postMessage({cmd:"alphaSynth.output.play"})}pause(){this._worker.postMessage({cmd:"alphaSynth.output.pause"})}resetSamples(){this._worker.postMessage({cmd:"alphaSynth.output.resetSamples"})}activate(){}}kr.CmdOutputPrefix="alphaSynth.output.";kr.CmdOutputAddSamples=kr.CmdOutputPrefix+"addSamples";kr.CmdOutputPlay=kr.CmdOutputPrefix+"play";kr.CmdOutputPause=kr.CmdOutputPrefix+"pause";kr.CmdOutputResetSamples=kr.CmdOutputPrefix+"resetSamples";kr.CmdOutputSampleRequest=kr.CmdOutputPrefix+"sampleRequest";kr.CmdOutputSamplesPlayed=kr.CmdOutputPrefix+"samplesPlayed";kr.preferredSampleRate=0;class kC{constructor(e,r){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this)),this._player=new Wse(new kr,r),this._player.positionChanged.on(this.onPositionChanged.bind(this)),this._player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this._player.finished.on(this.onFinished.bind(this)),this._player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.midiLoaded.on(this.onMidiLoaded.bind(this)),this._player.midiLoadFailed.on(this.onMidiLoadFailed.bind(this)),this._player.readyForPlayback.on(this.onReadyForPlayback.bind(this)),this._player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this._player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this._main.postMessage({cmd:"alphaSynth.ready"})}static init(){let e=Ne.globalThis;e.addEventListener("message",r=>{let n=r.data;switch(n.cmd){case"alphaSynth.initialize":kr.preferredSampleRate=n.sampleRate,ve.logLevel=n.logLevel,Ne.globalThis.alphaSynthWebWorker=new kC(e,n.bufferTimeInMilliseconds);break}})}handleMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.setLogLevel":ve.logLevel=r.value;break;case"alphaSynth.setMasterVolume":this._player.masterVolume=r.value;break;case"alphaSynth.setMetronomeVolume":this._player.metronomeVolume=r.value;break;case"alphaSynth.setPlaybackSpeed":this._player.playbackSpeed=r.value;break;case"alphaSynth.setTickPosition":this._player.tickPosition=r.value;break;case"alphaSynth.setTimePosition":this._player.timePosition=r.value;break;case"alphaSynth.setPlaybackRange":this._player.playbackRange=r.value;break;case"alphaSynth.setIsLooping":this._player.isLooping=r.value;break;case"alphaSynth.setCountInVolume":this._player.countInVolume=r.value;break;case"alphaSynth.setMidiEventsPlayedFilter":this._player.midiEventsPlayedFilter=r.value;break;case"alphaSynth.play":this._player.play();break;case"alphaSynth.pause":this._player.pause();break;case"alphaSynth.playPause":this._player.playPause();break;case"alphaSynth.stop":this._player.stop();break;case"alphaSynth.playOneTimeMidiFile":this._player.playOneTimeMidiFile(Yr.jsObjectToMidiFile(r.midi));break;case"alphaSynth.loadSoundFontBytes":this._player.loadSoundFont(r.data,r.append);break;case"alphaSynth.resetSoundFonts":this._player.resetSoundFonts();break;case"alphaSynth.loadMidi":this._player.loadMidiFile(Yr.jsObjectToMidiFile(r.midi));break;case"alphaSynth.setChannelMute":this._player.setChannelMute(r.channel,r.mute);break;case"alphaSynth.setChannelSolo":this._player.setChannelSolo(r.channel,r.solo);break;case"alphaSynth.setChannelVolume":this._player.setChannelVolume(r.channel,r.volume);break;case"alphaSynth.resetChannelStates":this._player.resetChannelStates();break;case"alphaSynth.destroy":this._player.destroy(),this._main.postMessage({cmd:"alphaSynth.destroyed"});break;case"alphaSynth.applyTranspositionPitches":this._player.applyTranspositionPitches(new Map(JSON.parse(r.transpositionPitches)));break}}onPositionChanged(e){this._main.postMessage({cmd:"alphaSynth.positionChanged",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onPlayerStateChanged(e){this._main.postMessage({cmd:"alphaSynth.playerStateChanged",state:e.state,stopped:e.stopped})}onFinished(){this._main.postMessage({cmd:"alphaSynth.finished"})}onSoundFontLoaded(){this._main.postMessage({cmd:"alphaSynth.soundFontLoaded"})}onSoundFontLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.soundFontLoadFailed",error:this.serializeException(e)})}serializeException(e){let r=JSON.parse(JSON.stringify(e));return e.message&&(r.message=e.message),e.stack&&(r.stack=e.stack),e.constructor&&e.constructor.name&&(r.type=e.constructor.name),r}onMidiLoaded(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onMidiLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",error:this.serializeException(e)})}onReadyForPlayback(){this._main.postMessage({cmd:"alphaSynth.readyForPlayback"})}onMidiEventsPlayed(e){this._main.postMessage({cmd:"alphaSynth.midiEventsPlayed",events:e.events.map(Yr.midiEventToJsObject)})}onPlaybackRangeChanged(e){this._main.postMessage({cmd:"alphaSynth.playbackRangeChanged",playbackRange:e.playbackRange})}}class Xr{static generateFontLookup(e){if(!Xr.FontSizeLookupTables.has(e))if(Ne.isRunningInWorker)Xr.FontSizeLookupTables.set(e,new Uint8Array([8]));else{let n=document.createElement("canvas").getContext("2d");n.font=`11px ${e}`;let i=[];for(let a=32;a<255;a++){let o=String.fromCharCode(a);i.push(n.measureText(o).width)}let s=new Uint8Array(i);Xr.FontSizeLookupTables.set(e,s)}}static measureString(e,r,n,i,s){let a,o=11,l=r[0];for(let d=0;d<r.length;d++)if(Xr.FontSizeLookupTables.has(r[d])){l=r[d];break}Xr.FontSizeLookupTables.has(l)||Xr.generateFontLookup(l),a=Xr.FontSizeLookupTables.get(l);let c=1;i===Br.Italic&&(c*=1.2),s===Oi.Bold&&(c*=1.2);let u=0;for(let d=0;d<e.length;d++){let h=Math.min(a.length-1,e.charCodeAt(d)-32);h>=0&&(u+=a[h]*n/o)}return u*c}}Xr.Georgia=new Uint8Array([3,4,5,7,7,9,8,2,4,4,5,7,3,4,3,5,7,5,6,6,6,6,6,6,7,6,3,3,7,7,7,5,10,7,7,7,8,7,7,8,9,4,6,8,7,10,8,8,7,8,8,6,7,8,7,11,8,7,7,4,5,4,7,7,6,6,6,5,6,5,4,6,6,3,3,6,3,10,6,6,6,6,5,5,4,6,5,8,6,5,5,5,4,5,7,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,4,6,7,6,7,4,6,6,10,6,6,7,0,10,7,5,7,6,6,6,6,6,3,6,6,6,6,12,12,12,5,7,7,7,7,7,7,11,7,7,7,7,7,4,4,4,4,8,8,8,8,8,8,8,7,8,8,8,8,8,7,7,6,6,6,6,6,6,6,8,5,5,5,5,5,3,3,3,3,6,6,6,6,6,6,6,7,6,6,6,6,6,5,6]);Xr.Arial=new Uint8Array([3,3,4,6,6,10,7,2,4,4,4,6,3,4,3,3,6,6,6,6,6,6,6,6,6,6,3,3,6,6,6,6,11,7,7,8,8,7,7,9,8,3,6,7,6,9,8,9,7,9,8,7,7,8,7,10,7,7,7,3,3,3,5,6,4,6,6,6,6,6,3,6,6,2,2,6,2,9,6,6,6,6,4,6,3,6,6,8,6,6,6,4,3,4,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,4,6,6,6,6,3,6,4,8,4,6,6,0,8,6,4,6,4,4,4,6,6,4,4,4,4,6,9,9,9,7,7,7,7,7,7,7,11,8,7,7,7,7,3,3,3,3,8,8,9,9,9,9,9,6,9,8,8,8,8,7,7,7,6,6,6,6,6,6,10,6,6,6,6,6,3,3,3,3,6,6,6,6,6,6,6,6,7,6,6,6,6,6,6]);Xr.FontSizeLookupTables=new Map([["Arial",Xr.Arial],["'Arial'",Xr.Arial],['"Arial"',Xr.Arial],["Georgia",Xr.Georgia],["'Georgia'",Xr.Georgia],['"Georgia"',Xr.Georgia]]);Xr.ControlChars=32;class gc{constructor(){this.id=ir.newGuid(),this.x=0,this.y=0,this.width=0,this.height=0,this.totalWidth=0,this.totalHeight=0,this.firstMasterBarIndex=-1,this.lastMasterBarIndex=-1,this.renderResult=null}}class CA{constructor(){this.beats=[]}addBeat(e){e.barBounds=this,this.beats.push(e),this.masterBarBounds.addBeat(e)}findBeatAtPos(e){let r=null;for(let n of this.beats)if(!r||n.realBounds.x<e)r=n;else if(n.realBounds.x>e)break;return r}finish(){this.beats.sort((e,r)=>e.realBounds.x-r.realBounds.x)}}class TA{constructor(){this.notes=null}addNote(e){this.notes||(this.notes=[]),e.beatBounds=this,this.notes.push(e)}findNoteAtPos(e,r){const n=this.notes;if(!n)return null;for(let i of n){let s=i.noteHeadBounds.y+i.noteHeadBounds.h,a=i.noteHeadBounds.x+i.noteHeadBounds.w;if(i.noteHeadBounds.x<=e&&i.noteHeadBounds.y<=r&&e<=a&&r<=s)return i.note}return null}}class _A{constructor(){this.index=0,this.isFirstOfLine=!1,this.bars=[],this.staveGroupBounds=null}addBar(e){e.masterBarBounds=this,this.bars.push(e)}findBeatAtPos(e,r){let n=null,i=1e7;for(let s of this.bars){let a=s.findBeatAtPos(e);if(a&&(!n||n.realBounds.x<a.realBounds.x)){const o=Math.abs(a.realBounds.x-e);(!n||o<i)&&(n=a)}}return n?n.beat:null}finish(){this.bars.sort((e,r)=>e.realBounds.y<r.realBounds.y?-1:e.realBounds.y>r.realBounds.y?1:e.realBounds.x<r.realBounds.x?-1:e.realBounds.x>r.realBounds.x?1:0);for(const e of this.bars)e.finish()}addBeat(e){this.staveGroupBounds.boundsLookup.addBeat(e)}}class CC{}class PA{constructor(){this.index=0,this.bars=[]}finish(){for(let e of this.bars)e.finish()}addBar(e){this.boundsLookup.addMasterBar(e),e.staveGroupBounds=this,this.bars.push(e)}findBarAtPos(e){let r=null;for(let n of this.bars)if(!r||n.realBounds.x<e)r=n;else if(e>n.realBounds.x+n.realBounds.w)break;return r}}class ep{constructor(){this._beatLookup=new Map,this._masterBarLookup=new Map,this._currentStaveGroup=null,this.staveGroups=[],this.isFinished=!1}toJson(){let e={},r=[];e.staveGroups=r;for(let n of this.staveGroups){let i={};i.visualBounds=this.boundsToJson(n.visualBounds),i.realBounds=this.boundsToJson(n.realBounds),i.bars=[];for(let s of n.bars){let a={};a.lineAlignedBounds=this.boundsToJson(s.lineAlignedBounds),a.visualBounds=this.boundsToJson(s.visualBounds),a.realBounds=this.boundsToJson(s.realBounds),a.index=s.index,a.bars=[];for(let o of s.bars){let l={};l.visualBounds=this.boundsToJson(o.visualBounds),l.realBounds=this.boundsToJson(o.realBounds),l.beats=[];for(let c of o.beats){let u={};u.visualBounds=this.boundsToJson(c.visualBounds),u.realBounds=this.boundsToJson(c.realBounds);let d=u;if(d.beatIndex=c.beat.index,d.voiceIndex=c.beat.voice.index,d.barIndex=c.beat.voice.bar.index,d.staffIndex=c.beat.voice.bar.staff.index,d.trackIndex=c.beat.voice.bar.staff.track.index,c.notes){let h=u.notes=[];for(let p of c.notes){let f={},m=f;m.index=p.note.index,f.noteHeadBounds=this.boundsToJson(p.noteHeadBounds),h.push(f)}}l.beats.push(u)}a.bars.push(l)}i.bars.push(a)}r.push(i)}return e}static fromJson(e,r){let n=new ep,i=e.staveGroups;for(let s of i){let a=new PA;a.visualBounds=s.visualBounds,a.realBounds=s.realBounds,n.addStaveGroup(a);for(let o of s.bars){let l=new _A;l.index=o.index,l.isFirstOfLine=o.isFirstOfLine,l.lineAlignedBounds=o.lineAlignedBounds,l.visualBounds=o.visualBounds,l.realBounds=o.realBounds,a.addBar(l);for(let c of o.bars){let u=new CA;u.visualBounds=c.visualBounds,u.realBounds=c.realBounds,l.addBar(u);for(let d of c.beats){let h=new TA;h.visualBounds=d.visualBounds,h.realBounds=d.realBounds;let p=d;if(h.beat=r.tracks[p.trackIndex].staves[p.staffIndex].bars[p.barIndex].voices[p.voiceIndex].beats[p.beatIndex],d.notes){h.notes=[];for(let f of d.notes){let m=new CC,g=f;m.note=h.beat.notes[g.index],m.noteHeadBounds=f.noteHeadBounds,h.addNote(m)}}u.addBeat(h)}}}}return n}boundsToJson(e){let r={};return r.x=e.x,r.y=e.y,r.w=e.w,r.h=e.h,r}finish(){for(let e of this.staveGroups)e.finish();this.isFinished=!0}addStaveGroup(e){e.index=this.staveGroups.length,e.boundsLookup=this,this.staveGroups.push(e),this._currentStaveGroup=e}addMasterBar(e){e.staveGroupBounds?this._masterBarLookup.set(e.index,e):(e.staveGroupBounds=this._currentStaveGroup,this._masterBarLookup.set(e.index,e),this._currentStaveGroup.addBar(e))}addBeat(e){var r;this._beatLookup.has(e.beat.id)||this._beatLookup.set(e.beat.id,[]),(r=this._beatLookup.get(e.beat.id))==null||r.push(e)}findMasterBarByIndex(e){return this._masterBarLookup.has(e)?this._masterBarLookup.get(e):null}findMasterBar(e){let r=e.index;return this._masterBarLookup.has(r)?this._masterBarLookup.get(r):null}findBeat(e){const r=this.findBeats(e);return r?r[0]:null}findBeats(e){let r=e.id;return this._beatLookup.has(r)?this._beatLookup.get(r):null}getBeatAtPos(e,r){let n=0,i=this.staveGroups.length-1,s=-1;for(;n<=i;){let l=(i+n)/2|0,c=this.staveGroups[l];if(r>=c.realBounds.y&&r<=c.realBounds.y+c.realBounds.h){s=l;break}r<c.realBounds.y?i=l-1:n=l+1}if(s===-1)return null;let o=this.staveGroups[s].findBarAtPos(e);return o?o.findBeatAtPos(e,r):null}getNoteAtPos(e,r,n){const i=this.findBeats(e);if(i)for(const s of i){const a=s.findNoteAtPos(r,n);if(a)return a}return null}}class BA{constructor(e){this._currentLayoutMode=No.Page,this._currentRenderEngine=null,this._renderedTracks=null,this.canvas=null,this.score=null,this.tracks=null,this.layout=null,this.boundsLookup=null,this.width=0,this.preRender=new Dt,this.renderFinished=new Dt,this.partialRenderFinished=new Dt,this.partialLayoutFinished=new Dt,this.postRenderFinished=new gn,this.error=new Dt,this.settings=e,this.recreateCanvas(),this.recreateLayout()}destroy(){var e;this.score=null,(e=this.canvas)==null||e.destroy(),this.canvas=null,this.layout=null,this.boundsLookup=null,this.tracks=null}recreateCanvas(){var e;return this._currentRenderEngine!==this.settings.core.engine?((e=this.canvas)==null||e.destroy(),this.canvas=Ne.getRenderEngineFactory(this.settings.core.engine).createCanvas(),this._currentRenderEngine=this.settings.core.engine,!0):!1}recreateLayout(){return!this.layout||this._currentLayoutMode!==this.settings.display.layoutMode?(this.layout=Ne.getLayoutEngineFactory(this.settings.display.layoutMode).createLayout(this),this._currentLayoutMode=this.settings.display.layoutMode,!0):!1}renderScore(e,r){try{this.score=e;let n=null;if(e!=null&&r!=null){if(!r)n=e.tracks.slice(0);else{n=[];for(let i of r)i>=0&&i<e.tracks.length&&n.push(e.tracks[i])}n.length===0&&e.tracks.length>0&&n.push(e.tracks[0])}this.tracks=n,this.render()}catch(n){this.error.trigger(n)}}renderTracks(e){e.length===0?this.score=null:this.score=e[0].score,this.tracks=e,this.render()}updateSettings(e){this.settings=e}renderResult(e){try{const r=this.layout;r?(ve.debug("Rendering","Request render of lazy partial "+e),r.renderLazyPartial(e)):ve.warning("Rendering","Request render of lazy partial "+e+" ignored, no layout exists")}catch(r){this.error.trigger(r)}}render(){if(this.width===0){ve.warning("Rendering","AlphaTab skipped rendering because of width=0 (element invisible)",null);return}if(this.boundsLookup=new ep,this.recreateCanvas(),this.canvas.lineWidth=this.settings.display.scale,this.canvas.settings=this.settings,!this.tracks||this.tracks.length===0||!this.score)ve.debug("Rendering","Clearing rendered tracks because no score or tracks are set"),this.preRender.trigger(!1),this._renderedTracks=null,this.onRenderFinished(),this.postRenderFinished.trigger(),ve.debug("Rendering","Clearing finished");else{ve.debug("Rendering","Rendering "+this.tracks.length+" tracks");for(let e=0;e<this.tracks.length;e++){let r=this.tracks[e];ve.debug("Rendering","Track "+e+": "+r.name)}this.preRender.trigger(!1),this.recreateLayout(),this.layoutAndRender(),ve.debug("Rendering","Rendering finished")}}resizeRender(){this.recreateLayout()||this.recreateCanvas()||this._renderedTracks!==this.tracks||!this.tracks?(ve.debug("Rendering","Starting full rerendering due to layout or canvas change",null),this.render()):this.layout.supportsResize?(ve.debug("Rendering","Starting optimized rerendering for resize"),this.boundsLookup=new ep,this.preRender.trigger(!0),this.canvas.settings=this.settings,this.layout.resize(),this.onRenderFinished(),this.postRenderFinished.trigger()):ve.debug("Rendering","Current layout does not support dynamic resizing, nothing was done",null),ve.debug("Rendering","Resize finished")}layoutAndRender(){ve.debug("Rendering","Rendering at scale "+this.settings.display.scale+" with layout "+this.layout.name,null),this.layout.layoutAndRender(),this._renderedTracks=this.tracks,this.onRenderFinished(),this.postRenderFinished.trigger()}onRenderFinished(){var r;(r=this.boundsLookup)==null||r.finish();const e=new gc;e.totalHeight=this.layout.height,e.totalWidth=this.layout.width,e.renderResult=this.canvas.onRenderFinished(),this.renderFinished.trigger(e)}}class TC{constructor(e){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this),!1)}static init(){Ne.globalThis.alphaTabWebWorker=new TC(Ne.globalThis)}handleMessage(e){let r=e.data;switch(r?r.cmd:""){case"alphaTab.initialize":let i=Yr.jsObjectToSettings(r.settings);ve.logLevel=i.core.logLevel,this._renderer=new BA(i),this._renderer.partialRenderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialRenderFinished",result:a})}),this._renderer.partialLayoutFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialLayoutFinished",result:a})}),this._renderer.renderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.renderFinished",result:a})}),this._renderer.postRenderFinished.on(()=>{var a;this._main.postMessage({cmd:"alphaTab.postRenderFinished",boundsLookup:((a=this._renderer.boundsLookup)==null?void 0:a.toJson())??null})}),this._renderer.preRender.on(a=>{this._main.postMessage({cmd:"alphaTab.preRender",resize:a})}),this._renderer.error.on(this.error.bind(this));break;case"alphaTab.invalidate":this._renderer.render();break;case"alphaTab.resizeRender":this._renderer.resizeRender();break;case"alphaTab.renderResult":this._renderer.renderResult(r.resultId);break;case"alphaTab.setWidth":this._renderer.width=r.width;break;case"alphaTab.renderScore":this.updateFontSizes(r.fontSizes);let s=r.score==null?null:Yr.jsObjectToScore(r.score,this._renderer.settings);this.renderMultiple(s,r.trackIndexes);break;case"alphaTab.updateSettings":this.updateSettings(r.settings);break}}updateFontSizes(e){if(e){Xr.FontSizeLookupTables||(Xr.FontSizeLookupTables=new Map);for(let r in e)Xr.FontSizeLookupTables.set(r,e[r])}}updateSettings(e){vd.fromJson(this._renderer.settings,e)}renderMultiple(e,r){try{this._renderer.renderScore(e,r)}catch(n){this.error(n)}}error(e){ve.error("Worker","An unexpected error occurred in worker",e),this._main.postMessage({cmd:"alphaTab.error",error:e})}}class qse{constructor(){this._canvas=null,this._color=new Sr(0,0,0,255),this._font=new Ft("Arial",10,Br.Plain),this._lineWidth=0;let e=document.createElement("span");e.classList.add("at"),document.body.appendChild(e);let r=window.getComputedStyle(e),n=r.fontFamily;(n.startsWith('"')||n.startsWith("'"))&&(n=n.substr(1,n.length-2)),this._musicFont=new Ft(n,parseFloat(r.fontSize),Br.Plain),this._measureCanvas=document.createElement("canvas"),this._measureCanvas.width=10,this._measureCanvas.height=10,this._measureCanvas.style.width="10px",this._measureCanvas.style.height="10px",this._measureContext=this._measureCanvas.getContext("2d"),this._measureContext.textBaseline="hanging"}destroy(){}onRenderFinished(){return null}beginRender(e,r){this._canvas=document.createElement("canvas"),this._canvas.width=e*Ne.HighDpiFactor|0,this._canvas.height=r*Ne.HighDpiFactor|0,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px",this._context=this._canvas.getContext("2d"),this._context.textBaseline="hanging",this._context.scale(Ne.HighDpiFactor,Ne.HighDpiFactor),this._context.lineWidth=this._lineWidth}endRender(){let e=this._canvas;return this._canvas=null,e}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._context.strokeStyle=e.rgba,this._context.fillStyle=e.rgba)}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._context&&(this._context.lineWidth=e)}fillRect(e,r,n,i){n>0&&this._context.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e|0,r|0,n,i)}beginPath(){this._context.beginPath()}closePath(){this._context.closePath()}moveTo(e,r){this._context.moveTo(e,r)}lineTo(e,r){this._context.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._context.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.fill()}strokeCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.stroke()}fill(){this._context.fill(),this._context.beginPath()}stroke(){this._context.stroke(),this._context.beginPath()}get font(){return this._font}set font(e){this._font=e,this._context&&(this._context.font=e.toCssString(this.settings.display.scale)),this._measureContext.font=e.toCssString(this.settings.display.scale)}get textAlign(){switch(this._context.textAlign){case"left":return et.Left;case"center":return et.Center;case"right":return et.Right;default:return et.Left}}set textAlign(e){switch(e){case et.Left:this._context.textAlign="left";break;case et.Center:this._context.textAlign="center";break;case et.Right:this._context.textAlign="right";break}}get textBaseline(){switch(this._context.textBaseline){case"hanging":return gt.Top;case"middle":return gt.Middle;case"bottom":return gt.Bottom;default:return gt.Top}}set textBaseline(e){switch(e){case gt.Top:this._context.textBaseline="hanging";break;case gt.Middle:this._context.textBaseline="middle";break;case gt.Bottom:this._context.textBaseline="bottom";break}}beginGroup(e){}endGroup(){}fillText(e,r,n){this._context.fillText(e,r,n)}measureText(e){return this._measureContext.measureText(e).width}fillMusicFontSymbol(e,r,n,i,s=!1){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s=!1){let a="";for(let o of i)o!==P.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s=!1){let a=this._context.textAlign,o=this._context.textBaseline,l=this._context.font;this._context.font=this._musicFont.toCssString(n),this._context.textBaseline="middle",s?this._context.textAlign="center":this._context.textAlign="left",this._context.fillText(i,e,r),this._context.textBaseline=o,this._context.font=l,this._context.textAlign=a}beginRotate(e,r,n){this._context.save(),this._context.translate(e,r),this._context.rotate(n*Math.PI/180)}endRotate(){this._context.restore()}}class ja{constructor(e,r=!1){this._midiFile=e,this._smf1Mode=r}addTimeSignature(e,r,n){let i=0,s=n;for(;s=s>>1,s>0;)i++;this._midiFile.addEvent(new cA(0,e,r,i,48,8))}addRest(e,r,n){this._smf1Mode||this._midiFile.addEvent(new dA(e,r,n))}addNote(e,r,n,i,s,a){this._midiFile.addEvent(new fA(e,r,a,ja.fixValue(i),ja.fixValue(s))),this._midiFile.addEvent(new pA(e,r+n,a,ja.fixValue(i),ja.fixValue(s)))}static fixValue(e){return e>127?127:e<0?0:e}addControlChange(e,r,n,i,s){this._midiFile.addEvent(new mA(e,r,n,i,ja.fixValue(s)))}addProgramChange(e,r,n,i){this._midiFile.addEvent(new gA(e,r,n,i))}addTempo(e,r){const n=6e7/r|0;this._midiFile.addEvent(new yA(e,n))}addBend(e,r,n,i){i>=mt.MaxPitchWheel?i=mt.MaxPitchWheel:i=Math.floor(i),this._midiFile.addEvent(new bA(e,r,n,i))}addNoteBend(e,r,n,i,s){this._smf1Mode?this.addBend(e,r,n,s):(s=s*mt.MaxPitchWheel20/mt.MaxPitchWheel,this._midiFile.addEvent(new vA(e,r,n,i,s)))}finishTrack(e,r){(this._midiFile.format==bd.MultiTrack||e==0)&&this._midiFile.addEvent(new wA(e,r))}}class Kse{constructor(e,r){this.closingIndex=0,this.group=e,this.opening=r,e.closings=e.closings.sort((n,i)=>n.index-i.index),this.iterations=e.closings.map(n=>0)}}class Qse{get finished(){return this.index>=this._score.masterBars.length}constructor(e){this._repeatStack=[],this._groupsOnStack=new Set,this._previousAlternateEndings=0,this.shouldPlay=!0,this.index=0,this.currentTick=0,this._score=e}processCurrent(){const e=this._score.masterBars[this.index];let r=e.alternateEndings;if(r===0&&(r=this._previousAlternateEndings),e===e.repeatGroup.opening&&e.repeatGroup.isClosed&&!this._groupsOnStack.has(e.repeatGroup)){const n=new Kse(e.repeatGroup,e);this._repeatStack.push(n),this._groupsOnStack.add(e.repeatGroup),this._previousAlternateEndings=0,r=e.alternateEndings}if(this._repeatStack.length===0||r===0)this.shouldPlay=!0;else{const n=this._repeatStack[this._repeatStack.length-1],i=n.iterations[n.closingIndex];this._previousAlternateEndings=r,r&1<<i?this.shouldPlay=!0:this.shouldPlay=!1}this.shouldPlay&&(this.currentTick+=e.calculateDuration())}moveNext(){const r=this._score.masterBars[this.index].repeatCount-1;if(this._repeatStack.length>0&&r>0){const n=this._repeatStack[this._repeatStack.length-1];if(n.iterations[n.closingIndex]<r){this.index=n.opening.index,n.iterations[n.closingIndex]++;for(let s=0;s<n.closingIndex;s++)n.iterations[s]=0;n.closingIndex=0,this._previousAlternateEndings=0}else n.closingIndex<n.group.closings.length-1?(n.closingIndex++,this.index++):(this._repeatStack.pop(),this._groupsOnStack.delete(n.group),this.index++)}else this.index++}}class Jse{constructor(e,r){this.beat=e,this.playbackStart=r}}class Ss{get duration(){return this.end-this.start}constructor(e,r){this._highlightedBeats=new Map,this.highlightedBeats=[],this.nextBeat=null,this.previousBeat=null,this.start=e,this.end=r}highlightBeat(e,r){e.isEmpty&&!e.voice.isEmpty||this._highlightedBeats.has(e.id)||(this._highlightedBeats.set(e.id,!0),this.highlightedBeats.push(new Jse(e,r)))}getVisibleBeatAtStart(e){for(const r of this.highlightedBeats)if(r.playbackStart==this.start&&e.has(r.beat.voice.bar.staff.track.index))return r.beat;return null}}class NA{constructor(){this.start=0,this.end=0,this.tempo=0,this.firstBeat=null,this.lastBeat=null,this.nextMasterBar=null,this.previousMasterBar=null}insertAfter(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.nextBeat=e.nextBeat,r.previousBeat=e,e.nextBeat&&(e.nextBeat.previousBeat=r),e.nextBeat=r,e==this.lastBeat&&(this.lastBeat=r))}insertBefore(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.previousBeat=e.previousBeat,r.nextBeat=e,e.previousBeat&&(e.previousBeat.nextBeat=r),e.previousBeat=r,e==this.firstBeat&&(this.firstBeat=r))}addBeat(e,r,n,i){const s=n+i;if(this.firstBeat==null){const a=new Ss(n,s);a.highlightBeat(e,r),this.insertAfter(this.firstBeat,a)}else if(n>=this.lastBeat.end){const a=new Ss(this.lastBeat.end,s);a.highlightBeat(e,r),this.insertAfter(this.lastBeat,a)}else{let a=null;if(n<this.firstBeat.start)a=this.firstBeat;else{let o=this.firstBeat;for(;o!=null;){if(n>=o.start&&n<o.end){a=o;break}o=o.nextBeat}if(a===null)throw new Tn(Cn.General,"Error on building lookup, unknown variant")}if(n<a.start)if(s==a.start){const o=new Ss(n,a.start);o.highlightBeat(e,r),this.insertBefore(this.firstBeat,o)}else if(s<a.end){const o=new Ss(n,a.start);o.highlightBeat(e,r),this.insertBefore(a,o);const l=new Ss(a.start,s);for(const c of a.highlightedBeats)l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,r),this.insertBefore(a,l),a.start=s}else if(s==a.end){const o=new Ss(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o)}else{const o=new Ss(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(n>a.start)if(s==a.end){const o=new Ss(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o)}else if(s<a.end){const o=new Ss(a.start,n);this.insertBefore(a,o);const l=new Ss(n,s);this.insertBefore(a,l);for(const c of a.highlightedBeats)o.highlightBeat(c.beat,c.playbackStart),l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,r),a.start=s}else{const o=new Ss(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(s===a.end)a.highlightBeat(e,r);else if(s<a.end){const o=new Ss(a.start,s);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);o.highlightBeat(e,r),a.start=s,this.insertBefore(a,o)}else a.highlightBeat(e,r),this.addBeat(e,r,a.end,s-a.end)}}}class Zse{get start(){return this.masterBar.start+this.beatLookup.start}get end(){return this.start+this.tickDuration}constructor(e){this.nextBeat=null,this.tickDuration=0,this.duration=0,this.masterBar=e}}class eae{constructor(){this._currentMasterBar=null,this.masterBarLookup=new Map,this.masterBars=[]}findBeat(e,r,n=null){let i=null;return n&&(i=this.findBeatFast(e,n,r)),i||(i=this.findBeatSlow(e,n,r,!1)),i}findBeatFast(e,r,n){if(n>=r.start&&n<r.end)return r;if(r.nextBeat&&n>=r.nextBeat.start&&n<r.nextBeat.end){const i=r.nextBeat;return this.fillNextBeat(i,e),i}return null}fillNextBeat(e,r){e.nextBeat=this.findBeatInMasterBar(e.masterBar,e.beatLookup.nextBeat,e.end,r,!1,!0),e.nextBeat==null&&(e.nextBeat=this.findBeatSlow(r,e,e.end,!0)),e.nextBeat&&(e.tickDuration=e.nextBeat.start-e.start,e.duration=ut.ticksToMillis(e.tickDuration,e.masterBar.tempo)),e.nextBeat||(e.tickDuration=e.masterBar.end-e.start,e.duration=ut.ticksToMillis(e.tickDuration,e.masterBar.tempo))}findBeatSlow(e,r,n,i){let s=null;if(r!=null&&(r.masterBar.start<=n&&r.masterBar.end>n?s=r.masterBar:r.masterBar.nextMasterBar&&r.masterBar.nextMasterBar.start<=n&&r.masterBar.nextMasterBar.end>n&&(s=r.masterBar.nextMasterBar)),s||(s=this.findMasterBar(n)),!s)return null;for(;s;){if(s.firstBeat){let a=this.findBeatInMasterBar(s,s.firstBeat,n,e,!0,i);if(a)return a}s=s.nextMasterBar}return null}findBeatInMasterBar(e,r,n,i,s,a){if(!r)return null;let o=null,l=null;const c=n-e.start;for(;r!=null&&l==null;){if(r.start<=c&&c<r.end){if(o=r,l=r.getVisibleBeatAtStart(i),!l)if(a){let d=e;for(;d!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=d;break}r=r.nextBeat}(!l||!o)&&(d=d.nextMasterBar,r=(d==null?void 0:d.firstBeat)??null)}}else{let d=e;for(;d!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=d;break}r=r.previousBeat}(!l||!o)&&(d=d.previousMasterBar,r=(d==null?void 0:d.firstBeat)??null)}}}else if(r.end>c)break;r=(r==null?void 0:r.nextBeat)??null}return l==null?null:this.createResult(e,o,l,s,i)}createResult(e,r,n,i,s){const a=new Zse(e);return a.beat=n,a.beatLookup=r,a.tickDuration=r.end-r.start,i&&this.fillNextBeat(a,s),a.duration=ut.ticksToMillis(a.tickDuration,e.tempo),a}findMasterBar(e){const r=this.masterBars;let n=0,i=r.length-1;for(;n<=i;){const s=(i+n)/2|0,a=r[s];if(e>=a.start&&e<a.end)return a;e<a.start?i=s-1:n=s+1}return null}getMasterBar(e){if(!this.masterBarLookup.has(e.index)){const r=new NA;return r.masterBar=e,r}return this.masterBarLookup.get(e.index)}getMasterBarStart(e){return this.masterBarLookup.has(e.index)?this.masterBarLookup.get(e.index).start:0}getBeatStart(e){return this.masterBarLookup.has(e.voice.bar.index)?this.masterBarLookup.get(e.voice.bar.index).start+e.playbackStart:0}addMasterBar(e){this.masterBars.push(e),this._currentMasterBar&&(e.previousMasterBar=this._currentMasterBar,this._currentMasterBar.nextMasterBar=e),this._currentMasterBar=e,this.masterBarLookup.has(e.masterBar.index)||this.masterBarLookup.set(e.masterBar.index,e)}addBeat(e,r,n){const i=this._currentMasterBar;if(i)if(r<0&&i.previousMasterBar){const s=i.previousMasterBar.end-i.previousMasterBar.start,a=s+r,o=a+n;if(i.previousMasterBar.addBeat(e,a,a,n),o>s){const l=n+r;i.addBeat(e,r,0,l)}}else i.addBeat(e,r,r,n)}}class tae{constructor(){this.noteOnly=0,this.untilTieOrSlideEnd=0,this.letRingEnd=0}}class rae{constructor(){this.firstBeatDuration=0,this.secondBeatStartOffset=0,this.secondBeatDuration=0}}class Gt{constructor(e,r,n){this._currentTempo=0,this._programsPerChannel=new Map,this.tickLookup=new eae,this.applyTranspositionPitches=!0,this.transpositionPitches=new Map,this._currentTripletFeel=null,this.vibratoResolution=16,this._score=e,this._settings=r||new zc,this._currentTempo=this._score.tempo,this._handler=n}generate(){this.transpositionPitches.clear();for(const n of this._score.tracks)this.generateTrack(n);ve.debug("Midi","Begin midi generation");const e=new Qse(this._score);let r=null;for(;!e.finished;){const n=e.index,i=this._score.masterBars[n],s=e.currentTick;if(e.processCurrent(),e.shouldPlay){this.generateMasterBar(i,r,s);for(const a of this._score.tracks)for(const o of a.staves)n<o.bars.length&&this.generateBar(o.bars[n],s)}e.moveNext(),r=i}for(const n of this._score.tracks)this._handler.finishTrack(n.index,e.currentTick);ve.debug("Midi","Midi generation done")}generateTrack(e){this.generateChannel(e,e.playbackInfo.primaryChannel,e.playbackInfo),e.playbackInfo.primaryChannel!==e.playbackInfo.secondaryChannel&&this.generateChannel(e,e.playbackInfo.secondaryChannel,e.playbackInfo)}addProgramChange(e,r,n,i){(!this._programsPerChannel.has(n)||this._programsPerChannel.get(n)!==i)&&(this._handler.addProgramChange(e.index,r,n,i),this._programsPerChannel.set(n,i))}static buildTranspositionPitches(e,r){const n=new Map;for(const i of e.tracks){const s=i.index<r.notation.transpositionPitches.length?r.notation.transpositionPitches[i.index]:0;n.set(i.playbackInfo.primaryChannel,s),n.set(i.playbackInfo.secondaryChannel,s)}return n}generateChannel(e,r,n){const i=e.index<this._settings.notation.transpositionPitches.length?this._settings.notation.transpositionPitches[e.index]:0;this.transpositionPitches.set(r,i);let s=Gt.toChannelShort(n.volume),a=Gt.toChannelShort(n.balance);this._handler.addControlChange(e.index,0,r,Jt.VolumeCoarse,s),this._handler.addControlChange(e.index,0,r,Jt.PanCoarse,a),this._handler.addControlChange(e.index,0,r,Jt.ExpressionControllerCoarse,127),this._handler.addControlChange(e.index,0,r,Jt.RegisteredParameterFine,0),this._handler.addControlChange(e.index,0,r,Jt.RegisteredParameterCourse,0),this._handler.addControlChange(e.index,0,r,Jt.DataEntryFine,0),this._handler.addControlChange(e.index,0,r,Jt.DataEntryCoarse,Gt.PitchBendRangeInSemitones),this.addProgramChange(e,0,r,n.program)}static toChannelShort(e){const r=Math.max(-32768,Math.min(32767,e*8-1));return Math.max(r,-1)+1}generateMasterBar(e,r,n){(!r||r.timeSignatureDenominator!==e.timeSignatureDenominator||r.timeSignatureNumerator!==e.timeSignatureNumerator)&&this._handler.addTimeSignature(n,e.timeSignatureNumerator,e.timeSignatureDenominator),e.tempoAutomation?(this._handler.addTempo(n,e.tempoAutomation.value),this._currentTempo=e.tempoAutomation.value):r||(this._handler.addTempo(n,e.score.tempo),this._currentTempo=e.score.tempo);const i=new NA;i.masterBar=e,i.start=n,i.tempo=this._currentTempo,i.end=i.start+e.calculateDuration(),this.tickLookup.addMasterBar(i)}generateBar(e,r){let n=this.getPlaybackBar(e);for(const i of n.voices)this.generateVoice(i,r,e)}getPlaybackBar(e){switch(e.simileMark){case us.Simple:e.previousBar&&(e=this.getPlaybackBar(e.previousBar));break;case us.FirstOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break;case us.SecondOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break}return e}generateVoice(e,r,n){if(!(e.isEmpty&&(!e.bar.isEmpty||e.index!==0)))for(const i of e.beats)this.generateBeat(i,r,n)}generateBeat(e,r,n){let i=e.playbackStart,s=e.playbackDuration;e.voice.bar.isEmpty?s=e.voice.bar.masterBar.calculateDuration():e.voice.bar.masterBar.tripletFeel!==vt.NoTripletFeel&&this._settings.player.playTripletFeel&&(this._currentTripletFeel?(i-=this._currentTripletFeel.secondBeatStartOffset,s=this._currentTripletFeel.secondBeatDuration,this._currentTripletFeel=null):(this._currentTripletFeel=Gt.calculateTripletFeelInfo(i,s,e),this._currentTripletFeel&&(s=this._currentTripletFeel.firstBeatDuration))),n===e.voice.bar?this.tickLookup.addBeat(e,i,s):this.tickLookup.addBeat(e,0,s);const a=e.voice.bar.staff.track;for(const o of e.automations)this.generateAutomation(e,o,r);if(e.isRest)this._handler.addRest(a.index,r+i,a.playbackInfo.primaryChannel);else{let o=this.getBrushInfo(e);for(const l of e.notes)this.generateNote(l,r+i,s,o)}if(e.vibrato!==At.None){let o=240,l=3;switch(e.vibrato){case At.Slight:o=this._settings.player.vibrato.beatSlightLength,l=this._settings.player.vibrato.beatSlightAmplitude;break;case At.Wide:o=this._settings.player.vibrato.beatWideLength,l=this._settings.player.vibrato.beatWideAmplitude;break}this.generateVibratorWithParams(r+i,e.playbackDuration,o,l,(c,u)=>{this._handler.addBend(e.voice.bar.staff.track.index,c,a.playbackInfo.secondaryChannel,u)})}}static calculateTripletFeelInfo(e,r,n){let i;switch(n.voice.bar.masterBar.tripletFeel){case vt.Triplet8th:case vt.Dotted8th:case vt.Scottish8th:i=H.Eighth;break;case vt.Triplet16th:case vt.Dotted16th:case vt.Scottish16th:i=H.Sixteenth;break;default:return null}const s=ut.toTicks(i);if(r!==s||e%s!==0||!n.nextBeat||n.nextBeat.voice!==n.voice||n.playbackDuration!==s)return null;const a=new rae;switch(n.voice.bar.masterBar.tripletFeel){case vt.Triplet8th:a.firstBeatDuration=ut.applyTuplet(ut.toTicks(H.Quarter),3,2),a.secondBeatDuration=ut.applyTuplet(ut.toTicks(H.Eighth),3,2);break;case vt.Dotted8th:a.firstBeatDuration=ut.applyDot(ut.toTicks(H.Eighth),!1),a.secondBeatDuration=ut.toTicks(H.Sixteenth);break;case vt.Scottish8th:a.firstBeatDuration=ut.toTicks(H.Sixteenth),a.secondBeatDuration=ut.applyDot(ut.toTicks(H.Eighth),!1);break;case vt.Triplet16th:a.firstBeatDuration=ut.applyTuplet(ut.toTicks(H.Eighth),3,2),a.secondBeatDuration=ut.applyTuplet(ut.toTicks(H.Sixteenth),3,2);break;case vt.Dotted16th:a.firstBeatDuration=ut.applyDot(ut.toTicks(H.Sixteenth),!1),a.secondBeatDuration=ut.toTicks(H.ThirtySecond);break;case vt.Scottish16th:a.firstBeatDuration=ut.toTicks(H.ThirtySecond),a.secondBeatDuration=ut.applyDot(ut.toTicks(H.Sixteenth),!1);break}return a.secondBeatStartOffset=r-a.firstBeatDuration,a}generateNote(e,r,n,i){const s=e.beat.voice.bar.staff.track,a=e.beat.voice.bar.staff;let o=e.calculateRealValue(this.applyTranspositionPitches,!0);if(e.isPercussion){const f=Rn.getArticulation(e);f&&(o=f.outputMidiNumber)}const l=e.isStringed&&e.string<=i.length?i[e.string-1]:0,c=r+l,u=this.getNoteDuration(e,n);u.untilTieOrSlideEnd-=l,u.noteOnly-=l,u.letRingEnd-=l;const d=Gt.getNoteVelocity(e),h=e.hasBend||e.beat.hasWhammyBar||e.beat.vibrato!==At.None?s.playbackInfo.secondaryChannel:s.playbackInfo.primaryChannel;let p=0;if(e.hasBend?p=Gt.getPitchWheel(e.bendPoints[0].value):e.beat.hasWhammyBar?p=Gt.getPitchWheel(e.beat.whammyBarPoints[0].value):e.isTieDestination||e.slideOrigin&&e.slideOrigin.slideOutType===ft.Legato?p=-1:p=Gt.getPitchWheel(0),p>=0&&this._handler.addNoteBend(s.index,c,h,o,p),e.beat.fadeIn&&this.generateFadeIn(e,c,u),e.isTrill&&!a.isPercussion){this.generateTrill(e,c,u,o,d,h);return}if(e.beat.isTremolo){this.generateTremoloPicking(e,c,u,o,d,h);return}if(e.hasBend?this.generateBend(e,c,u,o,h):e.beat.hasWhammyBar&&e.index===0?this.generateWhammy(e.beat,c,u,h):e.slideInType!==kn.None||e.slideOutType!==ft.None?this.generateSlide(e,c,u,o,h):(e.vibrato!==At.None||e.isTieDestination&&e.tieOrigin.vibrato!==At.None)&&this.generateVibrato(e,c,u,o,h),!e.isTieDestination&&(!e.slideOrigin||e.slideOrigin.slideOutType!==ft.Legato)){let f=Math.max(u.untilTieOrSlideEnd,u.letRingEnd);this._handler.addNote(s.index,c,f,o,d,h)}}getNoteDuration(e,r){const n=new tae;if(n.noteOnly=r,n.untilTieOrSlideEnd=r,n.letRingEnd=r,e.isDead)return n.noteOnly=this.applyStaticDuration(Gt.DefaultDurationDead,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isPalmMute)return n.noteOnly=this.applyStaticDuration(Gt.DefaultDurationPalmMute,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isStaccato)return n.noteOnly=r/2|0,n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isTieOrigin){const i=e.tieDestination;if(i)if(e.isTieDestination){const s=this.getNoteDuration(i,i.beat.playbackDuration);n.untilTieOrSlideEnd=r+s.untilTieOrSlideEnd}else{const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}else if(e.slideOutType===ft.Legato){const i=e.slideTarget;if(i){const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}if(e.isLetRing&&this._settings.notation.notationMode===pn.GuitarPro){let i=e.beat,s=0;const a=e.beat.voice.bar.masterBar.calculateDuration();for(;i.nextBeat;){let o=i.nextBeat;if(o.isRest||e.isStringed&&o.hasNoteOnString(e.string))break;if(i=i.nextBeat,s=i.absolutePlaybackStart-e.beat.absolutePlaybackStart+i.playbackDuration,s>a){s=a;break}}i===e.beat?n.letRingEnd=r:n.letRingEnd=s}else n.letRingEnd=n.untilTieOrSlideEnd;return n}applyStaticDuration(e,r){const n=this._currentTempo*e/Le.MaxPosition|0;return Math.min(n,r)}static getNoteVelocity(e){let r=e.dynamics;switch(!e.beat.voice.bar.staff.isPercussion&&e.hammerPullOrigin&&r--,e.isGhost&&r--,e.accentuated){case en.Normal:r++;break;case en.Heavy:r+=2;break}return ut.dynamicToVelocity(r)}generateFadeIn(e,r,n){const i=e.beat.voice.bar.staff.track,a=Gt.toChannelShort(i.playbackInfo.volume)/n.noteOnly,o=120,l=n.noteOnly/o|0,c=r+n.noteOnly;for(let u=l-1;u>=0;u--){const d=c-u*o,h=(d-r)*a;u===l-1&&(this._handler.addControlChange(i.index,r,i.playbackInfo.primaryChannel,Jt.VolumeCoarse,h),this._handler.addControlChange(i.index,r,i.playbackInfo.secondaryChannel,Jt.VolumeCoarse,h)),this._handler.addControlChange(i.index,d,i.playbackInfo.primaryChannel,Jt.VolumeCoarse,h),this._handler.addControlChange(i.index,d,i.playbackInfo.secondaryChannel,Jt.VolumeCoarse,h)}}generateVibrato(e,r,n,i,s){let a=0,o=0;switch(e.vibrato!==At.None?e.vibrato:e.isTieDestination?e.tieOrigin.vibrato:At.Slight){case At.Slight:a=this._settings.player.vibrato.noteSlightLength,o=this._settings.player.vibrato.noteSlightAmplitude;break;case At.Wide:a=this._settings.player.vibrato.noteWideLength,o=this._settings.player.vibrato.noteWideAmplitude;break;default:return}const c=e.beat.voice.bar.staff.track;this.generateVibratorWithParams(r,n.noteOnly,a,o,(u,d)=>{this._handler.addNoteBend(c.index,u,s,i,d)})}generateVibratorWithParams(e,r,n,i,s){const a=this.vibratoResolution,o=n/2|0;e+=n;const l=e+r;for(;e<l;){let c=0;const u=e+n<l?n:l-e;for(;c<u;){let d=i*Math.sin(c*Math.PI/o);s(e+c|0,Gt.getPitchWheel(d)),c+=a}e+=n}}static getPitchWheel(e){return mt.DefaultPitchWheel+e/2*Gt.PitchValuePerSemitone}generateSlide(e,r,n,i,s){let a=e.slideOutType===ft.Legato?n.noteOnly:n.untilTieOrSlideEnd,o=[],l=e.beat.voice.bar.staff.track;const c=this._settings.player.slide.simpleSlidePitchOffset,u=Math.floor(Le.MaxPosition*this._settings.player.slide.simpleSlideDurationRatio),d=Math.floor(Le.MaxPosition*this._settings.player.slide.shiftSlideDurationRatio);switch(e.slideInType){case kn.IntoFromAbove:o.push(new Le(0,c)),o.push(new Le(u,0));break;case kn.IntoFromBelow:o.push(new Le(0,-c)),o.push(new Le(u,0));break}switch(e.slideOutType){case ft.Legato:case ft.Shift:o.push(new Le(d,0));const h=(e.slideTarget.calculateRealValue(this.applyTranspositionPitches,!0)-e.calculateRealValue(this.applyTranspositionPitches,!0))*2;o.push(new Le(Le.MaxPosition,h));break;case ft.OutDown:o.push(new Le(Le.MaxPosition-u,0)),o.push(new Le(Le.MaxPosition,-c));break;case ft.OutUp:o.push(new Le(Le.MaxPosition-u,0)),o.push(new Le(Le.MaxPosition,c));break}this.generateWhammyOrBend(r,a,o,(h,p)=>{this._handler.addNoteBend(l.index,h,s,i,p)})}generateBend(e,r,n,i,s){let a=e.bendPoints,o=e.beat.voice.bar.staff.track;const l=(p,f)=>{this._handler.addNoteBend(o.index,p,s,i,f)};let c=null,u;if(e.isTieOrigin&&this._settings.notation.extendBendArrowsOnTiedNotes){let p=e;for(;p.isTieOrigin&&!p.tieDestination.hasBend;)p=p.tieDestination;u=p.beat.absolutePlaybackStart-e.beat.absolutePlaybackStart+this.getNoteDuration(p,p.beat.playbackDuration).noteOnly}else if(e.isTieOrigin&&e.beat.graceType!==tt.None){switch(e.tieDestination.bendType){case Ue.Bend:case Ue.BendRelease:case Ue.PrebendBend:c=e.tieDestination.bendPoints[1].value;break;case Ue.Prebend:case Ue.PrebendRelease:c=e.tieDestination.bendPoints[0].value;break}u=Math.max(n.noteOnly,ut.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo))}else u=n.noteOnly;a[0].value>0&&!e.isContinuedBend&&r>0&&r--;const d=Math.min(u,ut.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));let h=[];switch(e.bendType){case Ue.Custom:h=a;break;case Ue.Bend:case Ue.Release:switch(e.bendStyle){case Qt.Default:h=a;break;case Qt.Gradual:h.push(new Le(0,e.bendPoints[0].value)),(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),h.push(new Le(Le.MaxPosition,c));break;case Qt.Fast:(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),e.beat.graceType===tt.BendGrace?this.generateSongBookWhammyOrBend(r,u,!0,[e.bendPoints[0].value,c],d,l):this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,c],d,l);return}break;case Ue.BendRelease:switch(e.bendStyle){case Qt.Default:h=a;break;case Qt.Gradual:h.push(new Le(0,e.bendPoints[0].value)),h.push(new Le(Le.MaxPosition/2|0,e.bendPoints[1].value)),h.push(new Le(Le.MaxPosition,e.bendPoints[2].value));break;case Qt.Fast:this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,e.bendPoints[1].value,e.bendPoints[2].value],d,l);return}break;case Ue.Hold:h=a;break;case Ue.Prebend:h=a;break;case Ue.PrebendBend:switch(e.bendStyle){case Qt.Default:h=a;break;case Qt.Gradual:h.push(new Le(0,e.bendPoints[0].value)),h.push(new Le(Le.MaxPosition,e.bendPoints[1].value));break;case Qt.Fast:const p=Gt.getPitchWheel(e.bendPoints[0].value);l(r,p|0),(!c||c<e.bendPoints[1].value)&&(c=e.bendPoints[1].value),this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,c],d,l);return}break;case Ue.PrebendRelease:switch(e.bendStyle){case Qt.Default:h=a;break;case Qt.Gradual:h.push(new Le(0,e.bendPoints[0].value)),h.push(new Le(Le.MaxPosition,e.bendPoints[1].value));break;case Qt.Fast:const p=Gt.getPitchWheel(e.bendPoints[0].value);l(r,p|0),this.generateSongBookWhammyOrBend(r,u,!1,[e.bendPoints[0].value,e.bendPoints[1].value],d,l);return}break}this.generateWhammyOrBend(r,u,h,l)}generateSongBookWhammyOrBend(e,r,n,i,s,a){const o=n?e:e+r-s,l=s/(i.length-1);for(let c=0;c<i.length-1;c++){const u=Gt.getPitchWheel(i[c]),d=Gt.getPitchWheel(i[c+1]),h=o+l*c;this.generateBendValues(h,l,u,d,a)}}generateWhammy(e,r,n,i){const s=e.whammyBarPoints,a=e.voice.bar.staff.track,o=n.noteOnly;s[0].value>0&&!e.isContinuedWhammy&&r--;const l=(u,d)=>{this._handler.addBend(a.index,u,i,d)};let c=[];switch(e.whammyBarType){case Ot.Custom:c=s;break;case Ot.Dive:switch(e.whammyStyle){case Qt.Default:c=s;break;case Qt.Gradual:c.push(new Le(0,s[0].value)),c.push(new Le(Le.MaxPosition,s[1].value));break;case Qt.Fast:const u=Math.min(o,ut.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],u,l);return}break;case Ot.Dip:switch(e.whammyStyle){case Qt.Default:c=s;break;case Qt.Gradual:c.push(new Le(0,s[0].value)),c.push(new Le(Le.MaxPosition/2|0,s[1].value)),c.push(new Le(Le.MaxPosition,s[2].value));break;case Qt.Fast:const u=Math.min(o,ut.millisToTicks(this._settings.player.songBookDipDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!0,[s[0].value,s[1].value,s[2].value],u,l);return}break;case Ot.Hold:c=s;break;case Ot.Predive:c=s;break;case Ot.PrediveDive:switch(e.whammyStyle){case Qt.Default:c=s;break;case Qt.Gradual:c.push(new Le(0,s[0].value)),c.push(new Le(Le.MaxPosition/2|0,s[0].value)),c.push(new Le(Le.MaxPosition,s[1].value));break;case Qt.Fast:const u=Gt.getPitchWheel(s[0].value);this._handler.addBend(a.index,r,i,u|0);const d=Math.min(o,ut.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],d,l);return}break}this.generateWhammyOrBend(r,o,c,l)}generateWhammyOrBend(e,r,n,i){const s=r/Le.MaxPosition;for(let a=0;a<n.length-1;a++){const o=n[a],l=n[a+1],c=Gt.getPitchWheel(o.value),u=Gt.getPitchWheel(l.value),d=s*(l.offset-o.offset),h=e+s*o.offset;this.generateBendValues(h,d,c,u,i)}}generateBendValues(e,r,n,i,s){const a=ut.ticksToMillis(r,this._currentTempo),o=Math.abs(i-n)/Gt.PitchValuePerSemitone,l=Math.max(Gt.MinBreakpointsPerSemitone*o,a/Gt.MillisecondsPerBreakpoint),c=r/l,u=(i-n)/l;for(let d=0;d<l;d++)s(e|0,Math.round(n)),n+=u,e+=c;n<i&&s(e|0,i)}generateTrill(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track,l=e.stringTuning+e.trillFret;let c=ut.toTicks(e.trillSpeed),u=!0,d=r,h=r+n.untilTieOrSlideEnd;for(;d+10<h;)d+c>=h&&(c=h-d),this._handler.addNote(o.index,d,c,u?l:i,s,a),u=!u,d+=c}generateTremoloPicking(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track;let l=ut.toTicks(e.beat.tremoloSpeed),c=r;const u=r+n.untilTieOrSlideEnd;for(;c+10<u;)c+l>=u&&(l=u-c),this._handler.addNote(o.index,c,l,i,s,a),c+=l}getBrushInfo(e){const r=new Int32Array(e.voice.bar.staff.tuning.length);if(e.brushType!==or.None){let n=0,i=0;for(const s of e.notes)s.isTieDestination||(n|=1<<s.string-1,i++);if(e.notes.length>0){let s=0;const a=e.brushDuration/(i-1)|0;for(let o=0;o<e.voice.bar.staff.tuning.length;o++){let l=e.brushType===or.ArpeggioDown||e.brushType===or.BrushDown?o:r.length-1-o;n&1<<l&&(r[l]=s,s+=a)}}}return r}generateAutomation(e,r,n){switch(r.type){case mn.Instrument:this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,(r.value|0)&255),this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,(r.value|0)&255);break;case mn.Balance:let i=Gt.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Jt.PanCoarse,i),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Jt.PanCoarse,i);break;case mn.Volume:let s=Gt.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Jt.VolumeCoarse,s),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Jt.VolumeCoarse,s);break}}prepareSingleBeat(e){let r=-1,n=-1,i=e;for(;i&&(r===-1||n===-1);){for(const c of e.automations)switch(c.type){case mn.Instrument:n=c.value;break;case mn.Tempo:r=c.value;break}i=i.previousBeat}const s=e.voice.bar.staff.track,a=e.voice.bar.masterBar;r===-1&&(r=a.score.tempo),n===-1&&(n=s.playbackInfo.program);const o=s.playbackInfo.volume;this.generateTrack(s),this._handler.addTimeSignature(0,a.timeSignatureNumerator,a.timeSignatureDenominator),this._handler.addTempo(0,r);let l=Gt.toChannelShort(o);this._handler.addControlChange(0,0,s.playbackInfo.primaryChannel,Jt.VolumeCoarse,l),this._handler.addControlChange(0,0,s.playbackInfo.secondaryChannel,Jt.VolumeCoarse,l)}generateSingleBeat(e){this.prepareSingleBeat(e),this.generateBeat(e,-e.playbackStart,e.voice.bar)}generateSingleNote(e){this.prepareSingleBeat(e.beat),this.generateNote(e,0,e.beat.playbackDuration,new Int32Array(e.beat.voice.bar.staff.tuning.length))}}Gt.DefaultDurationDead=30;Gt.DefaultDurationPalmMute=80;Gt.PitchBendRangeInSemitones=8*2;Gt.PitchValuePerSemitone=mt.DefaultPitchWheel/Gt.PitchBendRangeInSemitones;Gt.MinBreakpointsPerSemitone=6;Gt.MillisecondsPerBreakpoint=150;class nae{constructor(){this.startTick=0,this.endTick=0}}class Wr{constructor(e,r){this.width=0,this.height=0,this.x=e,this.y=r}get scale(){return this.renderer.scale}doLayout(){}paint(e,r,n){}}class Ra extends Wr{constructor(e=0,r=0){super(e,r),this.beat=null,this.nextGlyph=null,this.previousGlyph=null}}class $r extends Ra{constructor(e,r,n,i){super(e,r),this.glyphScale=0,this.glyphScale=n,this.symbol=i}paint(e,r,n){n.fillMusicFontSymbol(e+this.x,r+this.y,this.glyphScale*this.scale,this.symbol,!1)}}class bt extends $r{constructor(e,r,n,i){super(e,r,i?bt.GraceScale:1,bt.getSymbol(n)),this._isGrace=i,this._duration=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1)}doLayout(){let e=(this._isGrace?bt.GraceScale:1)*this.scale;switch(this._duration){case H.QuadrupleWhole:this.width=14*e;break;case H.DoubleWhole:this.width=14*(this._isGrace?bt.GraceScale:1)*this.scale;break;case H.Whole:this.width=14*(this._isGrace?bt.GraceScale:1)*this.scale;break;default:this.width=bt.QuarterNoteHeadWidth*(this._isGrace?bt.GraceScale:1)*this.scale;break}this.height=bt.NoteHeadHeight*e}static getSymbol(e){switch(e){case H.QuadrupleWhole:return P.NoteheadDoubleWholeSquare;case H.DoubleWhole:return P.NoteheadDoubleWhole;case H.Whole:return P.NoteheadWhole;case H.Half:return P.NoteheadHalf;default:return P.NoteheadBlack}}}bt.GraceScale=.75;bt.NoteHeadHeight=8;bt.QuarterNoteHeadWidth=9;class Ud extends $r{constructor(e,r,n,i,s){super(e,r,s?bt.GraceScale:1,Ud.getSymbol(n,i,s))}doLayout(){this.width=0}static getSymbol(e,r,n){if(n&&(e=H.Eighth),r===Pe.Up)switch(e){case H.Eighth:return P.FlagEighthUp;case H.Sixteenth:return P.FlagSixteenthUp;case H.ThirtySecond:return P.FlagThirtySecondUp;case H.SixtyFourth:return P.FlagSixtyFourthUp;case H.OneHundredTwentyEighth:return P.FlagOneHundredTwentyEighthUp;case H.TwoHundredFiftySixth:return P.FlagTwoHundredFiftySixthUp;default:return P.FlagEighthUp}switch(e){case H.Eighth:return P.FlagEighthDown;case H.Sixteenth:return P.FlagSixteenthDown;case H.ThirtySecond:return P.FlagThirtySecondDown;case H.SixtyFourth:return P.FlagSixtyFourthDown;case H.OneHundredTwentyEighth:return P.FlagOneHundredTwentyEighthDown;case H.TwoHundredFiftySixth:return P.FlagOneHundredTwentyEighthDown;default:return P.FlagEighthDown}}}Ud.FlagWidth=11;class wa extends Wr{get onTimeX(){return this.onNotes.x+this.onNotes.centerX}constructor(e,r){super(0,0),this.ties=[],this.minWidth=0,this.beat=e,this.ties=[],this.voiceContainer=r}addTie(e){e.renderer=this.renderer,this.ties.push(e)}registerLayoutingInfo(e){let r=this.preNotes.computedWidth+this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=wa.GraceBeatPadding*this.renderer.scale);let n=this.onNotes.computedWidth-this.onNotes.centerX;const i=this.renderer.helpers.getBeamingHelperForBeat(this.beat);(i&&i.hasFlag||this.beat.graceType!==tt.None)&&(n+=Ud.FlagWidth*this.scale*(this.beat.graceType!==tt.None?bt.GraceScale:1));for(const s of this.ties)n+=s.width;this.beat.graceType!==tt.None&&(n+=wa.GraceBeatPadding*this.renderer.scale),e.addBeatSpring(this.beat,r,n),e.setPreBeatSize(this.beat,this.preNotes.computedWidth),e.setOnBeatSize(this.beat,this.onNotes.computedWidth),e.setBeatCenterX(this.beat,this.onNotes.centerX)}applyLayoutingInfo(e){let r=e.getBeatCenterX(this.beat)-this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=wa.GraceBeatPadding*this.renderer.scale),this.preNotes.x=r,this.preNotes.width=e.getPreBeatSize(this.beat),this.onNotes.width=e.getOnBeatSize(this.beat),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.updateBeamingHelper(),this.updateWidth()}doLayout(){this.preNotes.x=0,this.preNotes.renderer=this.renderer,this.preNotes.container=this,this.preNotes.doLayout(),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.renderer=this.renderer,this.onNotes.container=this,this.onNotes.doLayout();let e=this.beat.notes.length-1;for(;e>=0;)this.createTies(this.beat.notes[e--]);this.renderer.registerTies(this.ties),this.updateWidth()}updateWidth(){if(this.minWidth=this.preNotes.width+this.onNotes.width,!this.beat.isRest)if(this.onNotes.beamingHelper.beats.length===1)this.beat.duration>=H.Eighth&&(this.minWidth+=20*this.scale);else switch(this.beat.duration){case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:this.minWidth+=10*this.scale;break}let e=0;for(let r of this.ties)r.width>e&&(e=r.width);this.minWidth+=e,this.width=this.minWidth}scaleToWidth(e){this.onNotes.updateBeamingHelper(),this.width=e}createTies(e){}static getGroupId(e){return"b"+e.id}paint(e,r,n){if(this.beat.voice.isEmpty||this.preNotes.isEmpty&&this.onNotes.isEmpty&&this.ties.length===0)return;n.beginGroup(wa.getGroupId(this.beat)),this.preNotes.paint(e+this.x,r+this.y,n),this.onNotes.paint(e+this.x,r+this.y,n);let s=e-this.voiceContainer.x-this.renderer.x,a=r-this.voiceContainer.y-this.renderer.y;for(let o=0,l=this.ties.length;o<l;o++){let c=this.ties[o];c.renderer=this.renderer,c.paint(s,a,n)}n.endGroup()}buildBoundingsLookup(e,r,n,i){let s=new TA;s.beat=this.beat,s.visualBounds=new Si,s.visualBounds.x=r+this.x+this.onNotes.x,s.visualBounds.y=e.visualBounds.y,s.visualBounds.w=this.onNotes.width,s.visualBounds.h=e.visualBounds.h,s.realBounds=new Si,s.realBounds.x=r+this.x,s.realBounds.y=e.realBounds.y,s.realBounds.w=this.width,s.realBounds.h=e.realBounds.h,i&&(s.visualBounds.x=r+this.x,s.realBounds.x=s.visualBounds.x),e.addBeat(s),this.renderer.settings.core.includeNoteBounds&&this.onNotes.buildBoundingsLookup(s,r+this.x,n+this.y)}}wa.GraceBeatPadding=3;class EN{constructor(){this.oldWidth=0,this.newWidth=0,this.settings=null}core(){return this.settings&&this.causeIssue()?this.settings.core:new HA}causeIssue(){return this.settings=null,!0}}class iae{constructor(e){this.activeBeats=e}}class $m{constructor(e){this.bounds=null,this.beat=e}}class sae{constructor(e,r){this._startTime=0,this._trackIndexes=null,this._trackIndexLookup=null,this._isDestroyed=!1,this.score=null,this.tracks=[],this._tickCache=null,this.player=null,this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null,this._previousTick=0,this._playerState=un.Paused,this._currentBeat=null,this._currentBarBounds=null,this._previousStateForCursor=un.Paused,this._previousCursorCache=null,this._lastScroll=0,this.playedBeatChanged=new Dt,this.activeBeatsChanged=new Dt,this._beatMouseDown=!1,this._noteMouseDown=!1,this._selectionStart=null,this._selectionEnd=null,this.beatMouseDown=new Dt,this.beatMouseMove=new Dt,this.beatMouseUp=new Dt,this.noteMouseDown=new Dt,this.noteMouseMove=new Dt,this.noteMouseUp=new Dt,this.scoreLoaded=new Dt,this.resize=new Dt,this.renderStarted=new Dt,this.renderFinished=new Dt,this.postRenderFinished=new gn,this.error=new Dt,this.playerReady=new gn,this.playerFinished=new gn,this.soundFontLoaded=new gn,this.midiLoad=new Dt,this.midiLoaded=new Dt,this.playerStateChanged=new Dt,this.playerPositionChanged=new Dt,this.midiEventsPlayed=new Dt,this.playbackRangeChanged=new Dt,this.settingsUpdated=new gn,this.uiFacade=e,this.container=e.rootContainer,e.initialize(this,r),ve.logLevel=this.settings.core.logLevel,this.canvasElement=e.createCanvasElement(),this.container.appendChild(this.canvasElement),this.settings.core.useWorkers&&this.uiFacade.areWorkersSupported&&Ne.getRenderEngineFactory(this.settings.core.engine).supportsWorkers?this.renderer=this.uiFacade.createWorkerRenderer():this.renderer=new BA(this.settings),this.container.resize.on(Ne.throttle(()=>{this._isDestroyed||this.container.width!==this.renderer.width&&this.triggerResize()},e.resizeThrottle));let n=new EN;n.oldWidth=this.renderer.width,n.newWidth=this.container.width|0,n.settings=this.settings,this.onResize(n),this.renderer.preRender.on(this.onRenderStarted.bind(this)),this.renderer.renderFinished.on(i=>{this.onRenderFinished(i)}),this.renderer.postRenderFinished.on(()=>{let i=Date.now()-this._startTime;ve.debug("rendering","Rendering completed in "+i+"ms"),this.onPostRenderFinished()}),this.renderer.preRender.on(i=>{this._startTime=Date.now()}),this.renderer.partialLayoutFinished.on(this.appendRenderResult.bind(this)),this.renderer.partialRenderFinished.on(this.updateRenderResult.bind(this)),this.renderer.renderFinished.on(i=>{this.appendRenderResult(i),this.appendRenderResult(null)}),this.renderer.error.on(this.onError.bind(this)),this.settings.player.enablePlayer&&this.setupPlayer(),this.setupClickHandling(),this.uiFacade.beginInvoke(()=>{this.uiFacade.initialRender()})}destroy(){this._isDestroyed=!0,this.player&&this.player.destroy(),this.uiFacade.destroy(),this.renderer.destroy()}updateSettings(){var r;const e=this.score;e&&ir.applyPitchOffsets(this.settings,e),this.renderer.updateSettings(this.settings),this.settings.player.enablePlayer?(this.setupPlayer(),e&&((r=this.player)==null||r.applyTranspositionPitches(Gt.buildTranspositionPitches(e,this.settings)))):this.destroyPlayer(),this.onSettingsUpdated()}load(e,r){try{return this.uiFacade.load(e,n=>{this.renderScore(n,r)},n=>{this.onError(n)})}catch(n){return this.onError(n),!1}}renderScore(e,r){let n=[];if(!r)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===0)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===1&&r[0]===-1)for(let i of e.tracks)n.push(i);else for(let i of r)i>=0&&i<=e.tracks.length&&n.push(e.tracks[i]);this.internalRenderTracks(e,n)}renderTracks(e){if(e.length>0){let r=e[0].score;for(let n of e)if(n.score!==r){this.onError(new Tn(Cn.General,"All rendered tracks must belong to the same score."));return}this.internalRenderTracks(r,e)}}internalRenderTracks(e,r){if(ir.applyPitchOffsets(this.settings,e),e!==this.score){this.score=e,this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.onScoreLoaded(e),this.loadMidiForScore(),this.render()}else{this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.render()}}triggerResize(){if(!this.container.isVisible)ve.warning("Rendering","AlphaTab container was invisible while autosizing, waiting for element to become visible",null),this.uiFacade.rootContainerBecameVisible.on(()=>{ve.debug("Rendering","AlphaTab container became visible, doing autosizing",null),this.triggerResize()});else{let e=new EN;e.oldWidth=this.renderer.width,e.newWidth=this.container.width,e.settings=this.settings,this.onResize(e),this.renderer.updateSettings(this.settings),this.renderer.width=this.container.width,this.renderer.resizeRender()}}appendRenderResult(e){e?(this.canvasElement.width=e.totalWidth,this.canvasElement.height=e.totalHeight,this._cursorWrapper&&(this._cursorWrapper.width=e.totalWidth,this._cursorWrapper.height=e.totalHeight),(e.width>0||e.height>0)&&this.uiFacade.beginAppendRenderResults(e)):this.uiFacade.beginAppendRenderResults(e)}updateRenderResult(e){e&&e.renderResult&&this.uiFacade.beginUpdateRenderResults(e)}tex(e,r){try{let n=new ti;n.logErrors=!0,n.initFromString(e,this.settings);let i=n.readScore();this.renderScore(i,r)}catch(n){this.onError(n)}}loadSoundFont(e,r=!1){return this.player?this.uiFacade.loadSoundFont(e,r):!1}resetSoundFonts(){this.player&&this.player.resetSoundFonts()}render(){this.renderer&&(this.uiFacade.canRender?(this.renderer.width=this.container.width,this.renderer.renderScore(this.score,this._trackIndexes)):this.uiFacade.canRenderChanged.on(()=>this.render()))}get tickCache(){return this._tickCache}get isReadyForPlayback(){return this.player?this.player.isReadyForPlayback:!1}get playerState(){return this.player?this.player.state:un.Paused}get masterVolume(){return this.player?this.player.masterVolume:0}set masterVolume(e){this.player&&(this.player.masterVolume=e)}get metronomeVolume(){return this.player?this.player.metronomeVolume:0}set metronomeVolume(e){this.player&&(this.player.metronomeVolume=e)}get countInVolume(){return this.player?this.player.countInVolume:0}set countInVolume(e){this.player&&(this.player.countInVolume=e)}get midiEventsPlayedFilter(){return this.player?this.player.midiEventsPlayedFilter:[]}set midiEventsPlayedFilter(e){this.player&&(this.player.midiEventsPlayedFilter=e)}get tickPosition(){return this.player?this.player.tickPosition:0}set tickPosition(e){this.player&&(this.player.tickPosition=e)}get timePosition(){return this.player?this.player.timePosition:0}set timePosition(e){this.player&&(this.player.timePosition=e)}get playbackRange(){return this.player?this.player.playbackRange:null}set playbackRange(e){this.player&&(this.player.playbackRange=e,this.settings.player.enableCursor&&this.updateSelectionCursor(e))}get playbackSpeed(){return this.player?this.player.playbackSpeed:0}set playbackSpeed(e){this.player&&(this.player.playbackSpeed=e)}get isLooping(){return this.player?this.player.isLooping:!1}set isLooping(e){this.player&&(this.player.isLooping=e)}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null,this._previousTick=0,this._playerState=un.Paused,this.destroyCursors())}setupPlayer(){this.updateCursors(),!this.player&&(this.player=this.uiFacade.createWorkerPlayer(),this.player&&(this.player.ready.on(()=>{this.loadMidiForScore()}),this.player.readyForPlayback.on(()=>{if(this.onPlayerReady(),this.tracks)for(let e of this.tracks){let r=e.playbackInfo.volume/16;this.player.setChannelVolume(e.playbackInfo.primaryChannel,r),this.player.setChannelVolume(e.playbackInfo.secondaryChannel,r)}}),this.player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this.player.soundFontLoadFailed.on(e=>{this.onError(e)}),this.player.midiLoaded.on(this.onMidiLoaded.bind(this)),this.player.midiLoadFailed.on(e=>{this.onError(e)}),this.player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this.player.positionChanged.on(this.onPlayerPositionChanged.bind(this)),this.player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this.player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this.player.finished.on(this.onPlayerFinished.bind(this)),this.setupPlayerEvents()))}loadMidiForScore(){if(!this.player||!this.score||!this.player.isReady)return;ve.debug("AlphaTab","Generating Midi");let e=new Pl,r=new ja(e),n=new Gt(this.score,this.settings,r);n.applyTranspositionPitches=!1,n.generate(),this._tickCache=n.tickLookup,this.onMidiLoad(e),this.player.loadMidiFile(e),this.player.applyTranspositionPitches(n.transpositionPitches)}changeTrackVolume(e,r){if(this.player)for(let n of e)this.player.setChannelVolume(n.playbackInfo.primaryChannel,r),this.player.setChannelVolume(n.playbackInfo.secondaryChannel,r)}changeTrackSolo(e,r){if(this.player)for(let n of e)this.player.setChannelSolo(n.playbackInfo.primaryChannel,r),this.player.setChannelSolo(n.playbackInfo.secondaryChannel,r)}changeTrackMute(e,r){if(this.player)for(let n of e)this.player.setChannelMute(n.playbackInfo.primaryChannel,r),this.player.setChannelMute(n.playbackInfo.secondaryChannel,r)}play(){return this.player?this.player.play():!1}pause(){this.player&&this.player.pause()}playPause(){this.player&&this.player.playPause()}stop(){this.player&&this.player.stop()}playBeat(e){if(!this.player)return;let r=new Pl,n=new ja(r);new Gt(e.voice.bar.staff.track.score,this.settings,n).generateSingleBeat(e),this.player.playOneTimeMidiFile(r)}playNote(e){if(!this.player)return;let r=new Pl,n=new ja(r);new Gt(e.beat.voice.bar.staff.track.score,this.settings,n).generateSingleNote(e),this.player.playOneTimeMidiFile(r)}destroyCursors(){this._cursorWrapper&&(this.uiFacade.destroyCursors(),this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null)}updateCursors(){if(this.settings.player.enableCursor&&!this._cursorWrapper){let e=this.uiFacade.createCursors();e&&(this._cursorWrapper=e.cursorWrapper,this._barCursor=e.barCursor,this._beatCursor=e.beatCursor,this._selectionWrapper=e.selectionWrapper),this._currentBeat!==null&&this.cursorUpdateBeat(this._currentBeat,!1,this._previousTick>10,!0)}else!this.settings.player.enableCursor&&this._cursorWrapper&&this.destroyCursors()}setupPlayerEvents(){this._previousTick=0,this._playerState=un.Paused,this.renderer.postRenderFinished.on(()=>{this._currentBeat=null,this.cursorUpdateTick(this._previousTick,!1,this._previousTick>10)}),this.player&&(this.player.positionChanged.on(e=>{this._previousTick=e.currentTick,this.uiFacade.beginInvoke(()=>{this.cursorUpdateTick(e.currentTick,!1)})}),this.player.stateChanged.on(e=>{if(this._playerState=e.state,!e.stopped&&e.state===un.Paused){let r=this._currentBeat,n=this._tickCache;r&&n&&(this.player.tickPosition=n.getBeatStart(r.beat))}}))}cursorUpdateTick(e,r,n=!1){let i=this._tickCache;if(i){let s=this._trackIndexLookup;if(s!=null&&s.size>0){let a=i.findBeat(s,e,this._currentBeat);a&&this.cursorUpdateBeat(a,r,n)}}}cursorUpdateBeat(e,r,n,i=!1){var f;const s=e.beat,a=((f=e.nextBeat)==null?void 0:f.beat)??null,o=e.duration,l=e.beatLookup.highlightedBeats;if(!s)return;let c=this.renderer.boundsLookup;if(!c)return;let u=this._currentBeat,d=this._previousCursorCache,h=this._previousStateForCursor;if(!i&&s===(u==null?void 0:u.beat)&&c===d&&h===this._playerState)return;let p=c.findBeat(s);p&&(this._currentBeat=e,this._previousCursorCache=c,this._previousStateForCursor=this._playerState,this.uiFacade.beginInvoke(()=>{this.internalCursorUpdateBeat(s,a,o,r,l,c,p,n)}))}scrollToCursor(){const e=this._currentBarBounds;e&&this.internalScrollToCursor(e)}internalScrollToCursor(e){let r=this.uiFacade.getScrollContainer(),n=Ne.getLayoutEngineFactory(this.settings.display.layoutMode).vertical,i=this.settings.player.scrollMode;if(n){let s=e.realBounds.y+this.settings.player.scrollOffsetY;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case bo.Continuous:let a=this.uiFacade.getOffset(r,this.container);this.uiFacade.scrollToY(r,a.y+s,this.settings.player.scrollSpeed);break;case bo.OffScreen:let o=r.scrollTop+this.uiFacade.getOffset(null,r).h;if(e.visualBounds.y+e.visualBounds.h>=o||e.visualBounds.y<r.scrollTop){let l=e.realBounds.y+this.settings.player.scrollOffsetY;this.uiFacade.scrollToY(r,l,this.settings.player.scrollSpeed)}break}}else{let s=e.visualBounds.x;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case bo.Continuous:let a=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,a,this.settings.player.scrollSpeed);break;case bo.OffScreen:let o=r.scrollLeft+this.uiFacade.getOffset(null,r).w;if(e.visualBounds.x+e.visualBounds.w>=o||e.visualBounds.x<r.scrollLeft){let l=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,l,this.settings.player.scrollSpeed)}break}}}internalCursorUpdateBeat(e,r,n,i,s,a,o,l){const c=this._barCursor,u=this._beatCursor;let d=o.barBounds.masterBarBounds,h=d.visualBounds;this._currentBarBounds=d,c&&c.setBounds(h.x,h.y,h.w,h.h),u&&(this.settings.player.enableAnimatedBeatCursor&&u.stopAnimation(),u.setBounds(o.visualBounds.x,h.y,1,h.h)),this.settings.player.enableElementHighlighting&&this.uiFacade.removeHighlights();let p=!1;if(this._playerState===un.Playing&&!i){if(this.settings.player.enableElementHighlighting)for(let f of s){let m=wa.getGroupId(f.beat);this.uiFacade.highlightElements(m,e.voice.bar.index)}if(this.settings.player.enableAnimatedBeatCursor){let f=d.visualBounds.x+d.visualBounds.w;if(r){let m=a.findBeat(r);m&&m.barBounds.masterBarBounds.staveGroupBounds===d.staveGroupBounds&&(f=m.visualBounds.x)}this.uiFacade.beginInvoke(()=>{u&&u.transitionToX(n/this.playbackSpeed,f)})}l=!i,p=!0}l&&!this._beatMouseDown&&this.settings.player.scrollMode!==bo.Off&&this.internalScrollToCursor(d),p&&(this.onPlayedBeatChanged(e),this.onActiveBeatsChanged(new iae(s.map(f=>f.beat))))}onPlayedBeatChanged(e){this._isDestroyed||(this.playedBeatChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playedBeatChanged",e))}onActiveBeatsChanged(e){this._isDestroyed||(this.activeBeatsChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"activeBeatsChanged",e))}onBeatMouseDown(e,r){this._isDestroyed||(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction&&(this._selectionStart=new $m(r),this._selectionEnd=null),this._beatMouseDown=!0,this.beatMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseDown",r,e))}onNoteMouseDown(e,r){this._isDestroyed||(this._noteMouseDown=!0,this.noteMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseDown",r,e))}onBeatMouseMove(e,r){this._isDestroyed||(this.settings.player.enableUserInteraction&&(!this._selectionEnd||this._selectionEnd.beat!==r)&&(this._selectionEnd=new $m(r),this.cursorSelectRange(this._selectionStart,this._selectionEnd)),this.beatMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseMove",r,e))}onNoteMouseMove(e,r){this._isDestroyed||(this.noteMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseMove",r,e))}onBeatMouseUp(e,r){var n,i;if(!this._isDestroyed){if(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction){if(this._selectionEnd){let s=((n=this._tickCache)==null?void 0:n.getBeatStart(this._selectionStart.beat))??this._selectionStart.beat.absolutePlaybackStart;if((((i=this._tickCache)==null?void 0:i.getBeatStart(this._selectionEnd.beat))??this._selectionEnd.beat.absolutePlaybackStart)<s){let o=this._selectionStart;this._selectionStart=this._selectionEnd,this._selectionEnd=o}}if(this._selectionStart&&this._tickCache){let s=this._tickCache,a=s.getMasterBarStart(this._selectionStart.beat.voice.bar.masterBar);if(this._currentBeat=null,this._playerState===un.Paused&&this.cursorUpdateTick(this._tickCache.getBeatStart(this._selectionStart.beat),!1),this.tickPosition=a+this._selectionStart.beat.playbackStart,this._selectionEnd&&this._selectionStart.beat!==this._selectionEnd.beat){let o=s.getMasterBarStart(this._selectionEnd.beat.voice.bar.masterBar),l=new nae;l.startTick=a+this._selectionStart.beat.playbackStart,l.endTick=o+this._selectionEnd.beat.playbackStart+this._selectionEnd.beat.playbackDuration-50,this.playbackRange=l}else this._selectionStart=null,this.playbackRange=null,this.cursorSelectRange(this._selectionStart,this._selectionEnd)}}this.beatMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseUp",r,e),this._beatMouseDown=!1}}onNoteMouseUp(e,r){this._isDestroyed||(this.noteMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseUp",r,e),this._noteMouseDown=!1)}updateSelectionCursor(e){if(this._tickCache)if(e){const r=this._tickCache.findBeat(this._trackIndexLookup,e.startTick),n=this._tickCache.findBeat(this._trackIndexLookup,e.endTick);if(r&&n){const i=new $m(r.beat),s=new $m(n.beat);this.cursorSelectRange(i,s)}}else this.cursorSelectRange(null,null)}setupClickHandling(){this.canvasElement.mouseDown.on(e=>{var s,a;if(!e.isLeftMouseButton)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseDown(e,i),this.settings.core.includeNoteBounds)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseDown(e,o)}}),this.canvasElement.mouseMove.on(e=>{var s,a;if(!this._beatMouseDown)return;let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseMove(e,i),this._noteMouseDown)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseMove(e,o)}}),this.canvasElement.mouseUp.on(e=>{var s,a;if(!this._beatMouseDown)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(this.onBeatMouseUp(e,i),this._noteMouseDown)if(i){const o=((a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n))??null;this.onNoteMouseUp(e,o)}else this.onNoteMouseUp(e,null)}),this.renderer.postRenderFinished.on(()=>{!this._selectionStart||!this.settings.player.enablePlayer||!this.settings.player.enableCursor||!this.settings.player.enableUserInteraction||this.cursorSelectRange(this._selectionStart,this._selectionEnd)})}cursorSelectRange(e,r){var c,u;let n=this.renderer.boundsLookup;if(!n)return;let i=this._selectionWrapper;if(!i||(i.clear(),!e||!r||e.beat===r.beat))return;e.bounds||(e.bounds=n.findBeat(e.beat)),r.bounds||(r.bounds=n.findBeat(r.beat));let s=((c=this._tickCache)==null?void 0:c.getBeatStart(e.beat))??e.beat.absolutePlaybackStart;if((((u=this._tickCache)==null?void 0:u.getBeatStart(r.beat))??r.beat.absolutePlaybackStart)<s){let d=e;e=r,r=d}let o=e.bounds.realBounds.x,l=r.bounds.realBounds.x+r.bounds.realBounds.w;if(r.beat.index===r.beat.voice.beats.length-1&&(l=r.bounds.barBounds.masterBarBounds.realBounds.x+r.bounds.barBounds.masterBarBounds.realBounds.w),e.bounds.barBounds.masterBarBounds.staveGroupBounds!==r.bounds.barBounds.masterBarBounds.staveGroupBounds){let d=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x,h=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x+e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.w,p=this.uiFacade.createSelectionElement();p.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,h-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(p);let f=e.bounds.barBounds.masterBarBounds.staveGroupBounds.index+1,m=r.bounds.barBounds.masterBarBounds.staveGroupBounds.index;for(let y=f;y<m;y++){let b=n.staveGroups[y],v=this.uiFacade.createSelectionElement();v.setBounds(d,b.visualBounds.y,h-d,b.visualBounds.h),i.appendChild(v)}let g=this.uiFacade.createSelectionElement();g.setBounds(d,r.bounds.barBounds.masterBarBounds.visualBounds.y,l-d,r.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(g)}else{let d=this.uiFacade.createSelectionElement();d.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,l-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(d)}}onScoreLoaded(e){this._isDestroyed||(this.scoreLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"scoreLoaded",e))}onResize(e){this._isDestroyed||(this.resize.trigger(e),this.uiFacade.triggerEvent(this.container,"resize",e))}onRenderStarted(e){this._isDestroyed||(this.renderStarted.trigger(e),this.uiFacade.triggerEvent(this.container,"renderStarted",e))}onRenderFinished(e){this._isDestroyed||(this.renderFinished.trigger(e),this.uiFacade.triggerEvent(this.container,"renderFinished",e))}onPostRenderFinished(){this._isDestroyed||(this.postRenderFinished.trigger(),this.uiFacade.triggerEvent(this.container,"postRenderFinished",null))}onError(e){this._isDestroyed||(ve.error("API","An unexpected error occurred",e),this.error.trigger(e),this.uiFacade.triggerEvent(this.container,"error",e))}onPlayerReady(){this._isDestroyed||(this.playerReady.trigger(),this.uiFacade.triggerEvent(this.container,"playerReady",null))}onPlayerFinished(){this._isDestroyed||(this.playerFinished.trigger(),this.uiFacade.triggerEvent(this.container,"playerFinished",null))}onSoundFontLoaded(){this._isDestroyed||(this.soundFontLoaded.trigger(),this.uiFacade.triggerEvent(this.container,"soundFontLoaded",null))}onMidiLoad(e){this._isDestroyed||(this.midiLoad.trigger(e),this.uiFacade.triggerEvent(this.container,"midiLoad",e))}onMidiLoaded(e){this._isDestroyed||(this.midiLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"midiFileLoaded",e))}onPlayerStateChanged(e){this._isDestroyed||(this.playerStateChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerStateChanged",e))}onPlayerPositionChanged(e){this._isDestroyed||this.score!==null&&this.tracks.length>0&&(this.playerPositionChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerPositionChanged",e))}onMidiEventsPlayed(e){this._isDestroyed||(this.midiEventsPlayed.trigger(e),this.uiFacade.triggerEvent(this.container,"midiEventsPlayed",e))}onPlaybackRangeChanged(e){this._isDestroyed||(this.playbackRangeChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playbackRangeChanged",e))}onSettingsUpdated(){this._isDestroyed||(this.settingsUpdated.trigger(),this.uiFacade.triggerEvent(this.container,"settingsUpdated",null))}}class mo extends Tn{constructor(e,r){super(Cn.General,e),this.xhr=r,Object.setPrototypeOf(this,mo.prototype)}}class Vu{static loadScoreAsync(e,r,n,i){let s=new XMLHttpRequest;s.open("GET",e,!0,null,null),s.responseType="arraybuffer",s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){let a=s.response;if(s.status===200||s.status===0&&a)try{let o=s.response,l=new Uint8Array(o),c=Vu.loadScoreFromBytes(l,i);r(c)}catch(o){n(o)}else s.status===0?n(new mo(`You are offline!!
 Please Check Your Network.`,s)):s.status===404?n(new mo("Requested URL not found.",s)):s.status===500?n(new mo("Internel Server Error.",s)):s.statusText==="parsererror"?n(new mo(`Error.
Parsing JSON Request failed.`,s)):s.statusText==="timeout"?n(new mo("Request Time out.",s)):n(new mo("Unknow Error: "+s.responseText,s))}},s.send()}static loadScoreFromBytes(e,r){r||(r=new zc);let n=Ne.buildImporters();ve.debug("ScoreLoader",`Loading score from ${e.length} bytes using ${n.length} importers`);let i=null,s=Wn.fromBuffer(e);for(let a of n){s.reset();try{ve.debug("ScoreLoader","Importing using importer "+a.name),a.init(s,r),i=a.readScore(),ve.debug("ScoreLoader","Score imported using "+a.name);break}catch(o){if(o instanceof Zr)ve.debug("ScoreLoader",a.name+" does not support the file");else throw ve.error("ScoreLoader","Score import failed due to unexpected error: ",o),o}}if(i)return i;throw new Zr("No compatible importer found for file")}}class uw{get isLeftMouseButton(){return this.mouseEvent.button===0}getX(e){let r=e.element,i=r.getBoundingClientRect().left+r.ownerDocument.defaultView.pageXOffset;return this.mouseEvent.pageX-i}getY(e){let r=e.element,i=r.getBoundingClientRect().top+r.ownerDocument.defaultView.pageYOffset;return this.mouseEvent.pageY-i}preventDefault(){this.mouseEvent.preventDefault()}constructor(e){this.mouseEvent=e}}class Ya{get width(){return this.element.offsetWidth}set width(e){this.element.style.width=e+"px"}get scrollLeft(){return this.element.scrollLeft}set scrollLeft(e){this.element.scrollTop=e}get scrollTop(){return this.element.scrollLeft}set scrollTop(e){this.element.scrollTop=e}get height(){return this.element.offsetHeight}set height(e){e>=0?this.element.style.height=e+"px":this.element.style.height="100%"}get isVisible(){return!!this.element.offsetWidth||!!this.element.offsetHeight||!!this.element.getClientRects().length}constructor(e){this._resizeListeners=0,this.lastBounds=new Si,this.element=e,this.mouseDown={on:r=>{this.element.addEventListener("mousedown",n=>{r(new uw(n))},!0)},off:r=>{}},this.mouseUp={on:r=>{this.element.addEventListener("mouseup",n=>{r(new uw(n))},!0)},off:r=>{}},this.mouseMove={on:r=>{this.element.addEventListener("mousemove",n=>{r(new uw(n))},!0)},off:r=>{}},this.resize={on:r=>{this._resizeListeners===0&&Ya.resizeObserver.value.observe(this.element),this.element.addEventListener("resize",r,!0),this._resizeListeners++},off:r=>{this.element.removeEventListener("resize",r,!0),this._resizeListeners--,this._resizeListeners<=0&&(this._resizeListeners=0,Ya.resizeObserver.value.unobserve(this.element))}}}stopAnimation(){this.element.style.transition="none"}transitionToX(e,r){this.element.style.transition=`transform ${e}ms linear`,this.setBounds(r,NaN,NaN,NaN)}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)&&(n=this.lastBounds.w),isNaN(i)&&(i=this.lastBounds.h),this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}appendChild(e){this.element.appendChild(e.element)}clear(){this.element.innerHTML=""}}Ya.resizeObserver=new eA(()=>new ResizeObserver(t=>{for(const e of t){let r=new CustomEvent("resize",{detail:e});e.target.dispatchEvent(r)}}));class MA{constructor(e){this._isStarted=!1,this.isFontLoaded=!1,this.fontLoaded=new Dt,this._originalFamilies=e,this._families=e}checkForFontAvailability(){if(Ne.isRunningInWorker){this.isFontLoaded=!1;return}if(this._isStarted)return;this._isStarted=!0;let e=0,r=window.setInterval(()=>{ve.warning("Rendering",`Could not load font '${this._families[0]}' within ${(e+1)*5} seconds`,null),this._families.length>1?(this._families.shift(),e=0):e++},5e3);ve.debug("Font",`Start checking for font availablility: ${this._families.join(", ")}`);let n=a=>{this._families.length>1?(ve.debug("Font",`[${this._families[0]}] Loading Failed, switching to ${this._families[1]}`,a),this._families.shift(),window.setTimeout(()=>{s()},0)):(ve.error("Font",`[${this._originalFamilies.join(",")}] Loading Failed, rendering cannot start`,a),window.clearInterval(r))},i=a=>{ve.debug("Font",`[${a}] Font API signaled available`),this.isFontLoaded=!0,window.clearInterval(r),this.fontLoaded.trigger(this._families[0])},s=async()=>{for(const a of this._families)if(await this.isFontAvailable(a,!1)){i(a);return}try{await document.fonts.load(`1em ${this._families[0]}`)}catch(a){n(a)}return ve.debug("Font",`[${this._families[0]}] Font API signaled loaded`),await this.isFontAvailable(this._families[0],!0)?i(this._families[0]):n("Font not available"),!0};document.fonts.ready.then(()=>{s()})}isFontAvailable(e,r){return new Promise(n=>{const i="1em "+e;if(document.fonts.check(i))n(!0);else if(r){ve.debug("Font",`Font ${e} not available, creating test element to trigger load`);const s=document.createElement("div");s.style.font=i,s.style.opacity="0",s.style.position="absolute",s.style.top="0",s.style.left="0",s.innerText=`Trigger ${e} load`,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.fonts.check(i)?n(!0):n(!1)},200)}else n(!1)})}}class EA{constructor(e){this._writePosition=0,this._readPosition=0,this.count=0,this._buffer=new Float32Array(e)}clear(){this._readPosition=0,this._writePosition=0,this.count=0,this._buffer=new Float32Array(this._buffer.length)}write(e,r,n){let i=0;n>this._buffer.length-this.count&&(n=this._buffer.length-this.count);const s=Math.min(this._buffer.length-this._writePosition,n);return this._buffer.set(e.subarray(r,r+s),this._writePosition),this._writePosition+=s,this._writePosition%=this._buffer.length,i+=s,i<n&&(this._buffer.set(e.subarray(r+i,r+i+n-i),this._writePosition),this._writePosition+=n-i,i=n),this.count+=i,i}read(e,r,n){n>this.count&&(n=this.count);let i=0;const s=Math.min(this._buffer.length-this._readPosition,n);return e.set(this._buffer.subarray(this._readPosition,this._readPosition+s),r),i+=s,this._readPosition+=s,this._readPosition%=this._buffer.length,i<n&&(e.set(this._buffer.subarray(this._readPosition,this._readPosition+n-i),r+i),this._readPosition+=n-i,i=n),this.count-=i,i}}class Ls{constructor(){this._context=null,this._buffer=null,this._source=null,this.ready=new gn,this.samplesPlayed=new Dt,this.sampleRequest=new gn}get sampleRate(){return this._context?this._context.sampleRate:Ls.PreferredSampleRate}activate(e){this._context||(this._context=this.createAudioContext()),(this._context.state==="suspended"||this._context.state==="interrupted")&&(ve.debug("WebAudio","Audio Context is suspended, trying resume"),this._context.resume().then(()=>{var r,n;ve.debug("WebAudio",`Audio Context resume success: state=${(r=this._context)==null?void 0:r.state}, sampleRate:${(n=this._context)==null?void 0:n.sampleRate}`),e&&e()},r=>{var n,i;ve.warning("WebAudio",`Audio Context resume failed: state=${(n=this._context)==null?void 0:n.state}, sampleRate:${(i=this._context)==null?void 0:i.sampleRate}, reason=${r}`)}))}patchIosSampleRate(){let e=navigator.userAgent;if(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1){let r=this.createAudioContext(),n=r.createBuffer(1,1,Ls.PreferredSampleRate),i=r.createBufferSource();i.buffer=n,i.connect(r.destination),i.start(0),i.disconnect(0),r.close()}}createAudioContext(){if("AudioContext"in Ne.globalThis)return new AudioContext;if("webkitAudioContext"in Ne.globalThis)return new webkitAudioContext;throw new Tn(Cn.General,"AudioContext not found")}open(e){this.patchIosSampleRate(),this._context=this.createAudioContext(),this._context.state==="suspended"&&this.registerResumeHandler()}registerResumeHandler(){this._resumeHandler=(()=>{this.activate(()=>{this.unregisterResumeHandler()})}).bind(this),document.body.addEventListener("touchend",this._resumeHandler,!1),document.body.addEventListener("click",this._resumeHandler,!1)}unregisterResumeHandler(){const e=this._resumeHandler;e&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}play(){let e=this._context;this.activate(),this._buffer=e.createBuffer(2,Ls.BufferSize,e.sampleRate),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0}pause(){this._source&&(this._source.stop(0),this._source.disconnect()),this._source=null}destroy(){var e;this.pause(),(e=this._context)==null||e.close(),this._context=null,this.unregisterResumeHandler()}onSamplesPlayed(e){this.samplesPlayed.trigger(e)}onSampleRequest(){this.sampleRequest.trigger()}onReady(){this.ready.trigger()}}Ls.BufferSize=4096;Ls.PreferredSampleRate=44100;class aae extends Ls{constructor(){super(...arguments),this._audioNode=null,this._bufferCount=0,this._requestedBufferCount=0,this._outputBuffer=new Float32Array(0)}open(e){super.open(e),this._bufferCount=Math.floor(e*this.sampleRate/1e3/Ls.BufferSize),this._circularBuffer=new EA(Ls.BufferSize*this._bufferCount),this.onReady()}play(){super.play();let e=this._context;this._audioNode=e.createScriptProcessor(4096,0,2),this._audioNode.onaudioprocess=this.generateSound.bind(this),this._circularBuffer.clear(),this.requestBuffers(),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.connect(this._audioNode,0,0),this._source.start(0),this._audioNode.connect(e.destination,0,0)}pause(){super.pause(),this._audioNode&&this._audioNode.disconnect(0),this._audioNode=null}addSamples(e){this._circularBuffer.write(e,0,e.length),this._requestedBufferCount--}resetSamples(){this._circularBuffer.clear()}requestBuffers(){const e=this._bufferCount/2|0;let r=e*Ls.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*Ls.BufferSize<r){for(let i=0;i<e;i++)this.onSampleRequest();this._requestedBufferCount+=e}}generateSound(e){let r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1),i=r.length+n.length,s=this._outputBuffer;s.length!==i&&(s=new Float32Array(i),this._outputBuffer=s);const a=this._circularBuffer.read(s,0,Math.min(s.length,this._circularBuffer.count));let o=0;for(let l=0;l<r.length;l++)r[l]=s[o++],n[l]=s[o++];this.onSamplesPlayed(a/mt.AudioChannels),this.requestBuffers()}}class oae{constructor(e,r){this.loaded=e,this.total=r}}class RN{get isReady(){return this._workerIsReady&&this._outputIsReady}get isReadyForPlayback(){return this._workerIsReadyForPlayback}get state(){return this._state}get logLevel(){return ve.logLevel}set logLevel(e){ve.logLevel=e,this._synth.postMessage({cmd:"alphaSynth.setLogLevel",value:e})}get masterVolume(){return this._masterVolume}set masterVolume(e){e=Math.max(e,mt.MinVolume),this._masterVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMasterVolume",value:e})}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,mt.MinVolume),this._metronomeVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMetronomeVolume",value:e})}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,mt.MinVolume),this._countInVolume=e,this._synth.postMessage({cmd:"alphaSynth.setCountInVolume",value:e})}get midiEventsPlayedFilter(){return this._midiEventsPlayedFilter}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=e,this._synth.postMessage({cmd:"alphaSynth.setMidiEventsPlayedFilter",value:e})}get playbackSpeed(){return this._playbackSpeed}set playbackSpeed(e){e=Ar.clamp(e,mt.MinPlaybackSpeed,mt.MaxPlaybackSpeed),this._playbackSpeed=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackSpeed",value:e})}get tickPosition(){return this._tickPosition}set tickPosition(e){e<0&&(e=0),this._tickPosition=e,this._synth.postMessage({cmd:"alphaSynth.setTickPosition",value:e})}get timePosition(){return this._timePosition}set timePosition(e){e<0&&(e=0),this._timePosition=e,this._synth.postMessage({cmd:"alphaSynth.setTimePosition",value:e})}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this._synth.postMessage({cmd:"alphaSynth.setIsLooping",value:e})}get playbackRange(){return this._playbackRange}set playbackRange(e){e&&(e.startTick<0&&(e.startTick=0),e.endTick<0&&(e.endTick=0)),this._playbackRange=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackRange",value:e})}constructor(e,r){this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=un.Paused,this._masterVolume=0,this._metronomeVolume=0,this._countInVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._midiEventsPlayedFilter=[],this.ready=new gn,this.readyForPlayback=new gn,this.finished=new gn,this.soundFontLoaded=new gn,this.soundFontLoadFailed=new Dt,this.midiLoaded=new Dt,this.midiLoadFailed=new Dt,this.stateChanged=new Dt,this.positionChanged=new Dt,this.midiEventsPlayed=new Dt,this.playbackRangeChanged=new Dt,this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=un.Paused,this._masterVolume=0,this._metronomeVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._output=e,this._output.ready.on(this.onOutputReady.bind(this)),this._output.samplesPlayed.on(this.onOutputSamplesPlayed.bind(this)),this._output.sampleRequest.on(this.onOutputSampleRequest.bind(this)),this._output.open(r.player.bufferTimeInMilliseconds);try{this._synth=Ne.createWebWorker(r)}catch(n){ve.error("AlphaSynth","Failed to create WebWorker: "+n)}this._synth.addEventListener("message",this.handleWorkerMessage.bind(this),!1),this._synth.postMessage({cmd:"alphaSynth.initialize",sampleRate:this._output.sampleRate,logLevel:r.core.logLevel,bufferTimeInMilliseconds:r.player.bufferTimeInMilliseconds}),this.masterVolume=1,this.playbackSpeed=1,this.metronomeVolume=0}destroy(){this._synth.postMessage({cmd:"alphaSynth.destroy"})}play(){return this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.play"}),!0}pause(){this._synth.postMessage({cmd:"alphaSynth.pause"})}playPause(){this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.playPause"})}stop(){this._synth.postMessage({cmd:"alphaSynth.stop"})}playOneTimeMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.playOneTimeMidiFile",midi:Yr.midiFileToJsObject(e)})}loadSoundFont(e,r){this._synth.postMessage({cmd:"alphaSynth.loadSoundFontBytes",data:e,append:r})}loadSoundFontFromUrl(e,r,n){ve.debug("AlphaSynth",`Start loading Soundfont from url ${e}`);let i=new XMLHttpRequest;i.open("GET",e,!0,null,null),i.responseType="arraybuffer",i.onload=s=>{let a=new Uint8Array(i.response);this.loadSoundFont(a,r)},i.onerror=s=>{ve.error("AlphaSynth","Loading failed: "+s.message),this.soundFontLoadFailed.trigger(new mo(s.message,i))},i.onprogress=s=>{ve.debug("AlphaSynth",`Soundfont downloading: ${s.loaded}/${s.total} bytes`),n(new oae(s.loaded,s.total))},i.send()}resetSoundFonts(){this._synth.postMessage({cmd:"alphaSynth.resetSoundFonts"})}loadMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.loadMidi",midi:Yr.midiFileToJsObject(e)})}applyTranspositionPitches(e){this._synth.postMessage({cmd:"alphaSynth.applyTranspositionPitches",transpositionPitches:JSON.stringify(Array.from(e.entries()))})}setChannelMute(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelMute",channel:e,mute:r})}resetChannelStates(){this._synth.postMessage({cmd:"alphaSynth.resetChannelStates"})}setChannelSolo(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelSolo",channel:e,solo:r})}setChannelVolume(e,r){r=Math.max(r,mt.MinVolume),this._synth.postMessage({cmd:"alphaSynth.setChannelVolume",channel:e,volume:r})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.ready":this._workerIsReady=!0,this.checkReady();break;case"alphaSynth.destroyed":this._synth.terminate();break;case"alphaSynth.readyForPlayback":this._workerIsReadyForPlayback=!0,this.checkReadyForPlayback();break;case"alphaSynth.positionChanged":this._timePosition=r.currentTime,this._tickPosition=r.currentTick,this.positionChanged.trigger(new My(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiEventsPlayed":this.midiEventsPlayed.trigger(new SA(r.events.map(Yr.jsObjectToMidiEvent)));break;case"alphaSynth.playerStateChanged":this._state=r.state,this.stateChanged.trigger(new Eg(r.state,r.stopped));break;case"alphaSynth.playbackRangeChanged":this._playbackRange=r.playbackRange,this.playbackRangeChanged.trigger(new kA(this._playbackRange));break;case"alphaSynth.finished":this.finished.trigger();break;case"alphaSynth.soundFontLoaded":this.soundFontLoaded.trigger();break;case"alphaSynth.soundFontLoadFailed":this.soundFontLoadFailed.trigger(r.error);break;case"alphaSynth.midiLoaded":this.checkReadyForPlayback(),this.midiLoaded.trigger(new My(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiLoadFailed":this.checkReadyForPlayback(),this.midiLoadFailed.trigger(r.error);break;case"alphaSynth.output.addSamples":this._output.addSamples(r.samples);break;case"alphaSynth.output.play":this._output.play();break;case"alphaSynth.output.pause":this._output.pause();break;case"alphaSynth.output.destroy":this._output.destroy();break;case"alphaSynth.output.resetSamples":this._output.resetSamples();break}}checkReady(){this.isReady&&this.ready.trigger()}checkReadyForPlayback(){this.isReadyForPlayback&&this.readyForPlayback.trigger()}onOutputSampleRequest(){this._synth.postMessage({cmd:"alphaSynth.output.sampleRequest"})}onOutputSamplesPlayed(e){this._synth.postMessage({cmd:"alphaSynth.output.samplesPlayed",samples:e})}onOutputReady(){this._outputIsReady=!0,this.checkReady()}}class lae{constructor(e,r){this._width=0,this.boundsLookup=null,this.preRender=new Dt,this.partialRenderFinished=new Dt,this.partialLayoutFinished=new Dt,this.renderFinished=new Dt,this.postRenderFinished=new gn,this.error=new Dt,this._api=e;try{this._worker=Ne.createWebWorker(r)}catch(n){ve.error("Rendering",`Failed to create WebWorker: ${n}`);return}this._worker.postMessage({cmd:"alphaTab.initialize",settings:this.serializeSettingsForWorker(r)}),this._worker.addEventListener("message",this.handleWorkerMessage.bind(this))}destroy(){this._worker.terminate()}updateSettings(e){this._worker.postMessage({cmd:"alphaTab.updateSettings",settings:this.serializeSettingsForWorker(e)})}serializeSettingsForWorker(e){const r=Yr.settingsToJsObject(e);return r.delete("player"),r}render(){this._worker.postMessage({cmd:"alphaTab.render"})}resizeRender(){this._worker.postMessage({cmd:"alphaTab.resizeRender"})}renderResult(e){this._worker.postMessage({cmd:"alphaTab.renderResult",resultId:e})}get width(){return this._width}set width(e){this._width=e,this._worker.postMessage({cmd:"alphaTab.setWidth",width:e})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaTab.preRender":this.preRender.trigger(r.resize);break;case"alphaTab.partialRenderFinished":this.partialRenderFinished.trigger(r.result);break;case"alphaTab.partialLayoutFinished":this.partialLayoutFinished.trigger(r.result);break;case"alphaTab.renderFinished":this.renderFinished.trigger(r.result);break;case"alphaTab.postRenderFinished":this.boundsLookup=ep.fromJson(r.boundsLookup,this._api.score),this.boundsLookup.finish(),this.postRenderFinished.trigger();break;case"alphaTab.error":this.error.trigger(r.error);break}}renderScore(e,r){let n=e==null?null:Yr.scoreToJsObject(e);this._worker.postMessage({cmd:"alphaTab.renderScore",score:n,trackIndexes:r,fontSizes:Xr.FontSizeLookupTables})}}class cae{constructor(e,r,n,i){this.cursorWrapper=e,this.barCursor=r,this.beatCursor=n,this.selectionWrapper=i}}var ss;(function(t){t[t.Browser=0]="Browser",t[t.NodeJs=1]="NodeJs",t[t.BrowserModule=2]="BrowserModule"})(ss||(ss={}));class tp{static init(){var e;tp._isRegistered||(tp._isRegistered=!0,registerProcessor("alphatab",(e=class extends AudioWorkletProcessor{constructor(n){super(n),this._outputBuffer=new Float32Array(0),this._bufferCount=0,this._requestedBufferCount=0,ve.debug("WebAudio","creating processor"),this._bufferCount=Math.floor(n.processorOptions.bufferTimeInMilliseconds*sampleRate/1e3/e.BufferSize),this._circularBuffer=new EA(e.BufferSize*this._bufferCount),this.port.onmessage=this.handleMessage.bind(this)}handleMessage(n){let i=n.data;switch(i.cmd){case kr.CmdOutputAddSamples:const a=i.samples;this._circularBuffer.write(a,0,a.length),this._requestedBufferCount--;break;case kr.CmdOutputResetSamples:this._circularBuffer.clear();break}}process(n,i,s){if(i.length!==1&&i[0].length!==2)return!1;let a=i[0][0],o=i[0][1];if(!a||!o)return!0;let l=a.length+o.length,c=this._outputBuffer;c.length!==l&&(c=new Float32Array(l),this._outputBuffer=c);const u=this._circularBuffer.read(c,0,Math.min(c.length,this._circularBuffer.count));let d=0;for(let h=0;h<a.length;h++)a[h]=c[d++],o[h]=c[d++];return this.port.postMessage({cmd:kr.CmdOutputSamplesPlayed,samples:u/mt.AudioChannels}),this.requestBuffers(),!0}requestBuffers(){const n=this._bufferCount/2|0;let i=n*e.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*e.BufferSize<i){for(let a=0;a<n;a++)this.port.postMessage({cmd:kr.CmdOutputSampleRequest});this._requestedBufferCount+=n}}},e.BufferSize=4096,e)))}}tp._isRegistered=!1;class uae extends Ls{constructor(e){super(),this._worklet=null,this._bufferTimeInMilliseconds=0,this._settings=e}open(e){super.open(e),this._bufferTimeInMilliseconds=e,this.onReady()}play(){super.play();let e=this._context;Ne.createAudioWorklet(e,this._settings).then(()=>{this._worklet=new AudioWorkletNode(e,"alphatab",{numberOfOutputs:1,outputChannelCount:[2],processorOptions:{bufferTimeInMilliseconds:this._bufferTimeInMilliseconds}}),this._worklet.port.onmessage=this.handleMessage.bind(this),this._source.connect(this._worklet),this._source.start(0),this._worklet.connect(e.destination)},r=>{ve.error("WebAudio",`Audio Worklet creation failed: reason=${r}`)})}handleMessage(e){let r=e.data;switch(r.cmd){case kr.CmdOutputSamplesPlayed:this.onSamplesPlayed(r.samples);break;case kr.CmdOutputSampleRequest:this.onSampleRequest();break}}pause(){super.pause(),this._worklet&&(this._worklet.port.onmessage=null,this._worklet.disconnect()),this._worklet=null}addSamples(e){var r;(r=this._worklet)==null||r.port.postMessage({cmd:kr.CmdOutputAddSamples,samples:e})}resetSamples(){var e;(e=this._worklet)==null||e.port.postMessage({cmd:kr.CmdOutputResetSamples})}}class dae extends Ya{constructor(e,r,n){super(e),this._xscale=r,this._yscale=n}get width(){return this.element.offsetWidth/this._xscale}set width(e){this.element.style.width=e*this._xscale+"px"}get height(){return this.element.offsetHeight/this._yscale}set height(e){e>=0?this.element.style.height=e*this._yscale+"px":this.element.style.height="100%"}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)?n=this.lastBounds.w:n=n/this._xscale,isNaN(i)?i=this.lastBounds.h:i=i/this._yscale,this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}}var Oa;(function(t){t[t.LayoutDone=0]="LayoutDone",t[t.RenderRequested=1]="RenderRequested",t[t.RenderDone=2]="RenderDone",t[t.Detached=3]="Detached"})(Oa||(Oa={}));class hae{get resizeThrottle(){return 10}get canRender(){return this.areAllFontsLoaded()}areAllFontsLoaded(){if(Ne.bravuraFontChecker.checkForFontAvailability(),!Ne.bravuraFontChecker.isFontLoaded)return!1;let e=!1;for(const r of this._fontCheckers.values())r.isFontLoaded||(e=!0);return e?!1:(ve.debug("Font","All fonts loaded: "+this._fontCheckers.size),!0)}onFontLoaded(e){Xr.generateFontLookup(e),this.areAllFontsLoaded()&&this.canRenderChanged.trigger()}constructor(e){if(this._fontCheckers=new Map,this._contents=null,this._file=null,this._totalResultCount=0,this._initialTrackIndexes=null,this._barToElementLookup=new Map,this._resultIdToElementLookup=new Map,this.rootContainerBecameVisible=new gn,this.canRenderChanged=new gn,this._highlightedElements=[],this._scrollContainer=null,Ne.webPlatform!==ss.Browser&&Ne.webPlatform!==ss.BrowserModule)throw new Tn(Cn.General,"Usage of AlphaTabApi is only possible in browser environments. For usage in node use the Low Level APIs");e.classList.add("alphaTab"),this.rootContainer=new Ya(e),this.areWorkersSupported="Worker"in window,Ne.bravuraFontChecker.fontLoaded.on(this.onFontLoaded.bind(this)),this._intersectionObserver=new IntersectionObserver(this.onElementVisibilityChanged.bind(this),{threshold:[0,.01,1]}),this._intersectionObserver.observe(e)}onElementVisibilityChanged(e){for(const r of e){const n=r.target;if(n===this.rootContainer.element)r.isIntersecting&&(this.rootContainerBecameVisible.trigger(),this._intersectionObserver.unobserve(this.rootContainer.element));else if("layoutResultId"in n&&this._api.settings.core.enableLazyLoading){const i=n;r.isIntersecting?i.renderedResultId!==i.layoutResultId?this._resultIdToElementLookup.has(i.layoutResultId)?i.resultState!==Oa.RenderRequested&&(i.resultState=Oa.RenderRequested,this._api.renderer.renderResult(i.layoutResultId)):n.replaceChildren():i.resultState===Oa.Detached&&(n.replaceChildren(...i.renderedResult),i.resultState=Oa.RenderDone):i.resultState===Oa.RenderDone&&(i.resultState=Oa.Detached,i.replaceChildren())}}}createWorkerRenderer(){return new lae(this._api,this._api.settings)}initialize(e,r){this._api=e;let n;r instanceof zc?n=r:n=Yr.jsObjectToSettings(r);let i=this.getDataAttributes();vd.fromJson(n,i),n.notation.notationMode===pn.SongBook&&n.setSongBookModeSettings(),e.settings=n,this.setupFontCheckers(n),this._initialTrackIndexes=this.parseTracks(n.core.tracks),this._contents="";let s=e.container;n.core.tex&&(this._contents=s.element.innerHTML,s.element.innerHTML=""),this.createStyleElement(n),this._file=n.core.file}setupFontCheckers(e){this.registerFontChecker(e.display.resources.copyrightFont),this.registerFontChecker(e.display.resources.effectFont),this.registerFontChecker(e.display.resources.fingeringFont),this.registerFontChecker(e.display.resources.graceFont),this.registerFontChecker(e.display.resources.markerFont),this.registerFontChecker(e.display.resources.tablatureFont),this.registerFontChecker(e.display.resources.titleFont),this.registerFontChecker(e.display.resources.wordsFont),this.registerFontChecker(e.display.resources.barNumberFont),this.registerFontChecker(e.display.resources.fretboardNumberFont),this.registerFontChecker(e.display.resources.subTitleFont)}registerFontChecker(e){if(!this._fontCheckers.has(e.families.join(", "))){let r=new MA(e.families);this._fontCheckers.set(e.families.join(", "),r),r.fontLoaded.on(this.onFontLoaded.bind(this)),r.checkForFontAvailability()}}destroy(){this.rootContainer.element.innerHTML=""}createCanvasElement(){let e=document.createElement("div");return e.className="at-surface",e.style.fontSize="0",e.style.overflow="hidden",e.style.lineHeight="0",e.style.position="relative",new Ya(e)}triggerEvent(e,r,n=null,i){let s=e.element;r="alphaTab."+r;let a=document.createEvent("CustomEvent"),o=i?i.mouseEvent:null;if(a.initCustomEvent(r,!1,!1,n),o&&(a.originalEvent=o),s.dispatchEvent(a),window&&"jQuery"in window){let l=window.jQuery,c=[];c.push(n),o&&c.push(o),l(s).trigger(r,c)}}load(e,r,n){if(e instanceof Jc)return r(e),!0;if(e instanceof ArrayBuffer){let i=new Uint8Array(e);return r(Vu.loadScoreFromBytes(i,this._api.settings)),!0}return e instanceof Uint8Array?(r(Vu.loadScoreFromBytes(e,this._api.settings)),!0):typeof e=="string"?(Vu.loadScoreAsync(e,r,n,this._api.settings),!0):!1}loadSoundFont(e,r){return this._api.player?e instanceof ArrayBuffer?(this._api.player.loadSoundFont(new Uint8Array(e),r),!0):e instanceof Uint8Array?(this._api.player.loadSoundFont(e,r),!0):typeof e=="string"?(this._api.loadSoundFontFromUrl(e,r),!0):!1:!1}initialRender(){this._api.renderer.preRender.on(r=>{this._totalResultCount=0,this._resultIdToElementLookup.clear(),this._barToElementLookup.clear()});const e=()=>{this._api.renderer.width=this.rootContainer.width|0,this._api.renderer.updateSettings(this._api.settings),this._contents?(this._api.tex(this._contents,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null):this._file&&Vu.loadScoreAsync(this._file,r=>{this._api.renderScore(r,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null},r=>{this._api.onError(r)},this._api.settings)};this.rootContainer.isVisible?e():this.rootContainerBecameVisible.on(e)}createStyleElement(e){let r=this._api.container.element.ownerDocument;Ne.createStyleElement(r,e.core.fontDirectory)}parseTracks(e){if(!e)return[];let r=[];if(typeof e=="string")try{if(e==="all")return[-1];e=JSON.parse(e)}catch{e=[0]}if(typeof e=="number")r.push(e);else if("length"in e){let n=e.length,i=e;for(let s=0;s<n;s++){let a=i[s],o=0;typeof a=="number"?o=a:"index"in a?o=a.index:o=parseInt(a.toString()),(o>=0||o===-1)&&r.push(o)}}else"index"in e&&r.push(e.index);return r}getDataAttributes(){let e=new Map,r=this._api.container.element;if(r.dataset)for(let n of Object.keys(r.dataset)){let i=r.dataset[n];try{i=JSON.parse(i)}catch{i===""&&(i=null)}e.set(n,i)}else for(let n=0;n<r.attributes.length;n++){let i=r.attributes.item(n),s=i.nodeName;if(s.startsWith("data-")){let a=s.substr(5).split("-"),o=a[0];for(let c=1;c<a.length;c++)o+=a[c].substr(0,1).toUpperCase()+a[c].substr(1);let l=i.nodeValue;try{l=JSON.parse(l)}catch{l===""&&(l=null)}e.set(o,l)}}return e}beginUpdateRenderResults(e){if(!this._resultIdToElementLookup.has(e.id))return;const r=this._resultIdToElementLookup.get(e.id),n=e.renderResult;typeof n=="string"?r.innerHTML=n:"nodeType"in n&&r.replaceChildren(n),r.resultState=Oa.RenderDone,r.renderedResultId=e.id,r.renderedResult=Array.from(r.children)}beginAppendRenderResults(e){const r=this._api.canvasElement.element;if(e){let n;this._totalResultCount<r.childElementCount?n=r.childNodes.item(this._totalResultCount):(n=document.createElement("div"),r.appendChild(n)),n.style.zIndex="1",n.style.position="absolute",n.style.left=e.x+"px",n.style.top=e.y+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.display="inline-block",n.layoutResultId=e.id,n.resultState=Oa.LayoutDone,delete n.renderedResultId,delete n.renderedResult,this._resultIdToElementLookup.set(e.id,n);for(let i=e.firstMasterBarIndex;i<=e.lastMasterBarIndex;i++)i>=0&&this._barToElementLookup.set(i,n);this._api.settings.core.enableLazyLoading&&(this._intersectionObserver.unobserve(n),this._intersectionObserver.observe(n)),this._totalResultCount++}else for(;r.childElementCount>this._totalResultCount;)this._api.settings.core.enableLazyLoading&&this._intersectionObserver.unobserve(r.lastChild),r.removeChild(r.lastElementChild)}createWorkerPlayer(){let e=null,r="ScriptProcessorNode"in window;return window.isSecureContext&&"AudioWorkletNode"in window&&this._api.settings.player.outputMode===Zf.WebAudioAudioWorklets?(ve.debug("Player","Will use webworkers for synthesizing and web audio api with worklets for playback"),e=new RN(new uae(this._api.settings),this._api.settings)):r&&(ve.debug("Player","Will use webworkers for synthesizing and web audio api with ScriptProcessor for playback"),e=new RN(new aae,this._api.settings)),e?e.ready.on(()=>{this._api.settings.player.soundFont&&this._api.loadSoundFontFromUrl(this._api.settings.player.soundFont,!1)}):ve.error("Player","Player requires webworkers and web audio api, browser unsupported",null),e}beginInvoke(e){window.requestAnimationFrame(()=>{e()})}highlightElements(e,r){const n=this._barToElementLookup.get(r);if(n){let i=n.getElementsByClassName(e);for(let s=0;s<i.length;s++)i.item(s).classList.add("at-highlight"),this._highlightedElements.push(i.item(s))}}removeHighlights(){const e=this._highlightedElements;if(e){for(const r of e)r.classList.remove("at-highlight");this._highlightedElements=[]}}destroyCursors(){let e=this._api.container.element,r=e.querySelector(".at-cursors");e.removeChild(r)}createCursors(){let e=this._api.container.element,r=document.createElement("div");r.classList.add("at-cursors");let n=document.createElement("div");n.classList.add("at-selection");const i=this.createScalingElement(),s=this.createScalingElement();let a=i.element;a.classList.add("at-cursor-bar");let o=s.element;return o.classList.add("at-cursor-beat"),e.style.position="relative",e.style.textAlign="left",r.style.position="absolute",r.style.zIndex="1000",r.style.display="inline",r.style.pointerEvents="none",n.style.position="absolute",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.willChange="transform",i.width=1,i.height=1,i.setBounds(0,0,1,1),o.style.position="absolute",o.style.transition="all 0s linear",o.style.left="0",o.style.top="0",o.style.willChange="transform",s.width=3,s.height=1,s.setBounds(0,0,1,1),e.insertBefore(r,e.firstChild),r.appendChild(n),r.appendChild(a),r.appendChild(o),new cae(new Ya(r),i,s,new Ya(n))}getOffset(e,r){let n=r.element,i=n.getBoundingClientRect(),s=i.top+n.ownerDocument.defaultView.pageYOffset,a=i.left+n.ownerDocument.defaultView.pageXOffset;if(e){let l=e.element,c=l.nodeName.toLowerCase();if(c!=="html"&&c!=="body"){let u=this.getOffset(null,e);s=s+l.scrollTop-u.y,a=a+l.scrollLeft-u.x}}let o=new Si;return o.x=a,o.y=s,o.w=i.width,o.h=i.height,o}getScrollContainer(){if(this._scrollContainer)return this._scrollContainer;let e=typeof this._api.settings.player.scrollElement=="string"?document.querySelector(this._api.settings.player.scrollElement):this._api.settings.player.scrollElement,r=e.nodeName.toLowerCase();return(r==="html"||r==="body")&&("scrollingElement"in document?e=document.scrollingElement:navigator.userAgent.indexOf("WebKit")!==-1?e=document.body:e=document.documentElement),this._scrollContainer=new Ya(e),this._scrollContainer}createSelectionElement(){return this.createScalingElement()}createScalingElement(){const e=document.createElement("div");e.style.position="absolute";const r=new dae(e,100,100);return r.width=1,r.height=1,r.setBounds(0,0,1,1),r}scrollToY(e,r,n){this.internalScrollToY(e.element,r,n)}scrollToX(e,r,n){this.internalScrollToX(e.element,r,n)}internalScrollToY(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({top:r,behavior:"smooth"});else{let i=e.scrollTop,s=r-i,a=0,o=l=>{a===0&&(a=l);let c=l-a,u=Math.min(c/n,1);e.scrollTop=i+s*u|0,c<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}internalScrollToX(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({left:r,behavior:"smooth"});else{let i=e.scrollLeft,s=r-i,a=0,o=l=>{a===0&&(a=l);let c=l-a,u=Math.min(c/n,1);e.scrollLeft=i+s*u|0,c<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}}class Fb extends sae{constructor(e,r){super(new hae(e),r),this.soundFontLoad=new Dt}tex(e,r){let n=this.uiFacade;super.tex(e,n.parseTracks(r))}print(e,r=null){let n=window.open("","","width=0,height=0"),i=n.document.createElement("div");e?i.style.width=e:this.settings.display.layoutMode===No.Horizontal?i.style.width="297mm":i.style.width="210mm",n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
            .at-surface {
                width: auto !important;
                height: auto !important;
            }
            .at-surface > div {
                position: relative!important;
                left: auto !important;
                top: auto !important;
                break-inside: avoid;
            }
            </style>
          </head>
          <body></body>
        </html>
        `);const s=this.score;s&&(s.artist&&s.title?n.document.title=`${s.title} - ${s.artist}`:s.title&&(n.document.title=`${s.title}`)),n.document.body.appendChild(i);let a=typeof window.screenLeft<"u"?window.screenLeft:window.left,o=typeof window.screenTop<"u"?window.screenTop:window.top,l="innerWidth"in window?window.innerWidth:"clientWidth"in document.documentElement?document.documentElement.clientWidth:window.screen.width,c="innerHeight"in window?window.innerHeight:"clientHeight"in document.documentElement?document.documentElement.clientHeight:window.screen.height,u=i.offsetWidth+50,d=window.innerHeight,h=(l/2|0)-(u/2|0)+a,p=(c/2|0)-(d/2|0)+o;n.resizeTo(u,d),n.moveTo(h,p),n.focus();let f=Yr.jsObjectToSettings(Yr.settingsToJsObject(this.settings));f.core.enableLazyLoading=!1,f.core.useWorkers=!0,f.core.file=null,f.core.tracks=null,f.player.enableCursor=!1,f.player.enablePlayer=!1,f.player.enableElementHighlighting=!1,f.player.enableUserInteraction=!1,f.player.soundFont=null,f.display.scale=.8,f.display.stretchForce=.8,vd.fromJson(f,r);let m=new Fb(i,f);n.onunload=()=>{m.destroy()},m.renderer.postRenderFinished.on(()=>{n.print()}),m.renderTracks(this.tracks)}downloadMidi(e=bd.SingleTrackMultiChannel){if(!this.score)return;let r=new Pl;r.format=e;let n=new ja(r,!0);new Gt(this.score,this.settings,n).generate();let s=r.toBinary(),a=this.score.title?`${this.score.title}.mid`:"File.mid",o=document.createElement("a");o.download=a;let l=new Blob([s],{type:"audio/midi"}),c=URL.createObjectURL(l);o.href=c,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}changeTrackMute(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackMute(n,r)}changeTrackSolo(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackSolo(n,r)}changeTrackVolume(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackVolume(n,r)}trackIndexesToTracks(e){if(!this.score)return[];let r=[];if(e.length===1&&e[0]===-1)for(let n of this.score.tracks)r.push(n);else for(let n of e)n>=0&&n<this.score.tracks.length&&r.push(this.score.tracks[n]);return r}loadSoundFontFromUrl(e,r){this.player&&this.player.loadSoundFontFromUrl(e,r,n=>{this.soundFontLoad.trigger(n),this.uiFacade.triggerEvent(this.container,"soundFontLoad",n)})}}class DN{constructor(){this._initListeners=[]}exec(e,r,n){if(typeof r!="string"&&(n=[r],r="init"),r.charCodeAt(0)===95||r==="exec")return null;let i=new jQuery(e),s=i.data("alphaTab");if(r==="destroy"&&!s)return null;if(r!=="init"&&!s)throw new Error("alphaTab not initialized");let a=this[r];if(a){let o=[i,s].concat(n);return a.apply(this,o)}else return ve.error("Api","Method '"+r+"' does not exist on jQuery.alphaTab"),null}init(e,r,n){if(!r){r=new Fb(e[0],n),e.data("alphaTab",r);for(let i of this._initListeners)i(e,r,n)}}destroy(e,r){e.removeData("alphaTab"),r.destroy()}print(e,r,n,i){r.print(n,i)}load(e,r,n,i){return r.load(n,i)}render(e,r){r.render()}renderScore(e,r,n,i){r.renderScore(n,i)}renderTracks(e,r,n){r.renderTracks(n)}invalidate(e,r){r.render()}tex(e,r,n,i){r.tex(n,i)}muteTrack(e,r,n,i){r.changeTrackMute(n,i)}soloTrack(e,r,n,i){r.changeTrackSolo(n,i)}trackVolume(e,r,n,i){r.changeTrackVolume(n,i)}loadSoundFont(e,r,n,i){r.loadSoundFont(n,i)}resetSoundFonts(e,r){r.resetSoundFonts()}pause(e,r){r.pause()}play(e,r){return r.play()}playPause(e,r){r.playPause()}stop(e,r){r.stop()}api(e,r){return r}player(e,r){return r.player}isReadyForPlayback(e,r){return r.isReadyForPlayback}playerState(e,r){return r.playerState}masterVolume(e,r,n){return typeof n=="number"&&(r.masterVolume=n),r.masterVolume}metronomeVolume(e,r,n){return typeof n=="number"&&(r.metronomeVolume=n),r.metronomeVolume}countInVolume(e,r,n){return typeof n=="number"&&(r.countInVolume=n),r.countInVolume}midiEventsPlayedFilter(e,r,n){return Array.isArray(n)&&(r.midiEventsPlayedFilter=n),r.midiEventsPlayedFilter}playbackSpeed(e,r,n){return typeof n=="number"&&(r.playbackSpeed=n),r.playbackSpeed}tickPosition(e,r,n){return typeof n=="number"&&(r.tickPosition=n),r.tickPosition}timePosition(e,r,n){return typeof n=="number"&&(r.timePosition=n),r.timePosition}loop(e,r,n){return typeof n=="boolean"&&(r.isLooping=n),r.isLooping}renderer(e,r){return r.renderer}score(e,r){return r.score}settings(e,r){return r.settings}tracks(e,r){return r.tracks}_oninit(e){this._initListeners.push(e)}static restore(e){new jQuery(e).empty().removeData("alphaTab")}}class _C{constructor(){this.buffer="",this._currentPath="",this._currentPathIsEmpty=!0,this.color=new Sr(255,255,255,255),this.lineWidth=1,this.font=new Ft("Arial",10,Br.Plain),this.textAlign=et.Left,this.textBaseline=gt.Top}destroy(){}beginRender(e,r){this.buffer=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${e|0}px" height="${r|0}px" class="at-surface-svg">
`,this._currentPath="",this._currentPathIsEmpty=!0,this.textBaseline=gt.Top}beginGroup(e){this.buffer+=`<g class="${e}">`}endGroup(){this.buffer+="</g>"}endRender(){return this.buffer+="</svg>",this.buffer}fillRect(e,r,n,i){n>0&&(this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" fill="${this.color.rgba}" />
`)}strokeRect(e,r,n,i){this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" stroke="${this.color.rgba}"`,this.lineWidth!==1&&(this.buffer+=` stroke-width="${this.lineWidth}"`),this.buffer+=` fill="transparent" />
`}beginPath(){}closePath(){this._currentPath+=" z"}moveTo(e,r){this._currentPath+=` M${e},${r}`}lineTo(e,r){this._currentPathIsEmpty=!1,this._currentPath+=` L${e},${r}`}quadraticCurveTo(e,r,n,i){this._currentPathIsEmpty=!1,this._currentPath+=` Q${e},${r},${n},${i}`}bezierCurveTo(e,r,n,i,s,a){this._currentPathIsEmpty=!1,this._currentPath+=` C${e},${r},${n},${i},${s},${a}`}fillCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.fill()}strokeCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.stroke()}fill(){this._currentPathIsEmpty||(this.buffer+=`<path d="${this._currentPath}"`,this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),this.buffer+=' style="stroke: none"/>'),this._currentPath="",this._currentPathIsEmpty=!0}stroke(){if(!this._currentPathIsEmpty){let e=`<path d="${this._currentPath}" stroke="${this.color.rgba}"`;this.lineWidth!==1&&(e+=` stroke-width="${this.lineWidth}"`),e+=' style="fill: none" />',this.buffer+=e}this._currentPath="",this._currentPathIsEmpty=!0}fillText(e,r,n){if(e==="")return;let i=`<text x="${r|0}" y="${n|0}" style="stroke: none; font:${this.font.toCssString(this.settings.display.scale)}" ${this.getSvgBaseLine()}`;this.color.rgba!=="#000000"&&(i+=` fill="${this.color.rgba}"`),this.textAlign!==et.Left&&(i+=` text-anchor="${this.getSvgTextAlignment(this.textAlign)}"`),i+=`>${_C.escapeText(e)}</text>`,this.buffer+=i}static escapeText(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}getSvgTextAlignment(e){switch(e){case et.Left:return"start";case et.Center:return"middle";case et.Right:return"end"}return""}getSvgBaseLine(){switch(this.textBaseline){case gt.Top:return'dominant-baseline="hanging"';case gt.Bottom:return'dominant-baseline="bottom"';default:return""}}measureText(e){return e?Xr.measureString(e,this.font.families,this.font.size,this.font.style,this.font.weight):0}onRenderFinished(){return null}beginRotate(e,r,n){this.buffer+='<g transform="translate('+e+" ,"+r+") rotate( "+n+')">'}endRotate(){this.buffer+="</g>"}}class fae extends _C{constructor(){super()}fillMusicFontSymbol(e,r,n,i,s){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,`&#${i};`,s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==P.None&&(a+=`&#${o};`);this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this.buffer+=`<g transform="translate(${e} ${r})" class="at" ><text`,n!==1?this.buffer+=` style="font-size: ${n*100}%; stroke:none"`:this.buffer+=' style="stroke:none"',this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),s&&(this.buffer+=' text-anchor="'+this.getSvgTextAlignment(et.Center)+'"'),this.buffer+=`>${i}</text></g>`}}class PC{constructor(){this.isInAccolade=!0,this.isRelevantForBoundsLookup=!0,this.hideOnMultiTrack=!1,this.hideOnPercussionTrack=!1}canCreate(e,r){return!this.hideOnPercussionTrack||!r.isPercussion}}var kt;(function(t){t[t.PreNotes=0]="PreNotes",t[t.OnNotes=1]="OnNotes",t[t.MiddleNotes=2]="MiddleNotes",t[t.Stem=3]="Stem",t[t.PostNotes=4]="PostNotes",t[t.EndBeat=5]="EndBeat"})(kt||(kt={}));class Ea extends Wr{get isEmpty(){return!this.glyphs||this.glyphs.length===0}constructor(e,r){super(e,r),this.glyphs=null}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}let e=0;for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.renderer=this.renderer,i.doLayout(),e=Math.max(e,i.width)}this.width=e}addGlyph(e){this.glyphs||(this.glyphs=[]),this.renderer&&(e.renderer=this.renderer),this.glyphs.push(e)}paint(e,r,n){let i=this.glyphs;if(!(!i||i.length===0))for(let s of i)s.paint(e+this.x,r+this.y,n)}}class xh extends Ea{constructor(){super(0,0),this.glyphs=[]}addGlyph(e){e.x=this.glyphs.length===0?0:this.glyphs[this.glyphs.length-1].x+this.glyphs[this.glyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.width=e.x+e.width,super.addGlyph(e)}}class RA extends Ea{constructor(e,r,n){super(e,r),this.voice=n,this.beatGlyphs=[],this.tupletGroups=[]}scaleToWidth(e){const r=this.renderer.scale;let n=this.renderer.layoutingInfo.spaceToForce(e/r);this.scaleToForce(n)}scaleToForce(e){const r=this.renderer.scale;this.width=this.renderer.layoutingInfo.calculateVoiceWidth(e)*r;let n=this.renderer.layoutingInfo.buildOnTimePositions(e),i=this.beatGlyphs;for(let s=0,a=i.length;s<a;s++){let o=i[s];switch(o.beat.graceType){case tt.None:o.x=n.get(o.beat.absoluteDisplayStart)*r-o.onTimeX;break;default:const l=o.beat.graceGroup.beats[0].absoluteDisplayStart,c=o.beat.graceGroup.id;if(o.beat.graceGroup.isComplete&&n.has(l)){o.x=n.get(l)*r-o.onTimeX;let u=this.renderer.layoutingInfo.allGraceRods.get(c);const d=o.beat.graceGroup.beats[o.beat.graceGroup.beats.length-1].nextBeat,h=d?this.renderer.layoutingInfo.getPreBeatSize(d)+wa.GraceBeatPadding*this.renderer.scale:0;o.x-=h,o.x-=u[o.beat.graceIndex].postSpringWidth,o.x+=u[o.beat.graceIndex].graceBeatWidth;const p=u[o.beat.graceGroup.beats.length-1];o.x-=p.graceBeatWidth}else{let u=this.renderer.layoutingInfo.incompleteGraceRods.get(c);const d=u[o.beat.graceIndex].postSpringWidth-u[o.beat.graceIndex].preSpringWidth;s>0?o.beat.graceIndex===0?o.x=i[s-1].x+i[s-1].width:o.x=i[s-1].x+u[o.beat.graceIndex-1].postSpringWidth-u[o.beat.graceIndex-1].preSpringWidth-d:o.x=-d}break}if(s>0){let l=o.x-i[s-1].x;i[s-1].scaleToWidth(l)}if(s===a-1){let l=this.width-i[i.length-1].x;o.scaleToWidth(l)}}}registerLayoutingInfo(e){e.updateVoiceSize(this.width);let r=this.beatGlyphs;for(let n of r)n.registerLayoutingInfo(e)}applyLayoutingInfo(e){let r=this.beatGlyphs;for(let n of r)n.applyLayoutingInfo(e);this.scaleToForce(Math.max(this.renderer.settings.display.stretchForce,e.minStretchForce))}addGlyph(e){let r=e;e.x=this.beatGlyphs.length===0?0:this.beatGlyphs[this.beatGlyphs.length-1].x+this.beatGlyphs[this.beatGlyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.beatGlyphs.push(r),this.width=e.x+e.width,r.beat.hasTuplet&&r.beat.tupletGroup.beats[0].id===r.beat.id&&this.tupletGroups.push(r.beat.tupletGroup)}doLayout(){}paint(e,r,n){n.color=this.voice.index===0?this.renderer.resources.mainGlyphColor:this.renderer.resources.secondaryGlyphColor;for(let i=0,s=this.beatGlyphs.length;i<s;i++)this.beatGlyphs[i].paint(e+this.x,r+this.y,n)}}RA.KeySizeBeat="Beat";var jt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Sharp=2]="Sharp",t[t.Flat=3]="Flat",t[t.NaturalQuarterNoteUp=4]="NaturalQuarterNoteUp",t[t.SharpQuarterNoteUp=5]="SharpQuarterNoteUp",t[t.FlatQuarterNoteUp=6]="FlatQuarterNoteUp",t[t.DoubleSharp=7]="DoubleSharp",t[t.DoubleFlat=8]="DoubleFlat"})(jt||(jt={}));class pae{constructor(){this.maxLine=-1e3,this.minLine=-1e3}}class Gr{constructor(e){this._registeredAccidentals=new Map,this._appliedScoreLines=new Map,this._appliedScoreLinesByValue=new Map,this._notesByValue=new Map,this._beatLines=new Map,this.maxLineBeat=null,this.minLineBeat=null,this.maxLine=-1e3,this.minLine=-1e3,this._barRenderer=e,this._bar=e.bar}static getPercussionLine(e,r){var n;return r<e.staff.track.percussionArticulations.length?e.staff.track.percussionArticulations[r].staffLine:((n=Rn.getArticulationByValue(r))==null?void 0:n.staffLine)??0}static getNoteValue(e){if(e.isPercussion)return e.percussionArticulation;let r=e.displayValue;switch(e.accidentalMode){case jr.ForceDoubleFlat:r+=2;break;case jr.ForceDoubleSharp:r-=2;break;case jr.ForceFlat:r+=1;break;case jr.ForceSharp:r-=1;break}return r}applyAccidental(e){const r=Gr.getNoteValue(e);let n=e.hasQuarterToneOffset;return this.getAccidental(r,n,e.beat,!1,e)}applyAccidentalForValue(e,r,n,i){return this.getAccidental(r,n,e,i,null)}static computeLineWithoutAccidentals(e,r){let n=0;const i=Gr.getNoteValue(r);if(e.staff.isPercussion)n=Gr.getPercussionLine(e,i);else{const s=r?r.accidentalMode:jr.Default;n=Gr.calculateNoteLine(e,i,s)}return n}getAccidental(e,r,n,i,s=null){let a=jt.None,o=0;if(this._bar.staff.isPercussion)o=Gr.getPercussionLine(this._bar,e);else{const l=s?s.accidentalMode:jr.Default;o=Gr.calculateNoteLine(this._bar,e,l);let u=this._bar.masterBar.keySignature+7,d=e%12,h=u<7?jt.Flat:jt.Sharp,p=Gr.KeySignatureLookup[u][d],f=Gr.AccidentalNotes[d];if(r)switch(a=f?h:jt.Natural,a){case jt.Natural:a=jt.NaturalQuarterNoteUp;break;case jt.Sharp:a=jt.SharpQuarterNoteUp;break;case jt.Flat:a=jt.FlatQuarterNoteUp;break}else{switch(l){case jr.ForceSharp:a=jt.Sharp;break;case jr.ForceDoubleSharp:a=jt.DoubleSharp;break;case jr.ForceFlat:a=jt.Flat;break;case jr.ForceDoubleFlat:a=jt.DoubleFlat;break;default:f?a=h:p&&(a=jt.Natural);break}let m=!1;if(s&&s.isTieDestination&&s.beat.index===0){const g=this._barRenderer.previousRenderer;g&&g.accidentalHelper.getNoteLine(s.tieOrigin)===o&&(m=!0)}m?a=jt.None:a!==jt.None?(this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===a&&(a=jt.None):p&&a===h&&(a=jt.None),a!==jt.None&&this._registeredAccidentals.set(o,a)):this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===jt.Natural?a=jt.None:(a=jt.Natural,this._registeredAccidentals.set(o,a)):this._registeredAccidentals.delete(o)}}return s?(this._appliedScoreLines.set(s.id,o),this._notesByValue.set(e,s)):this._appliedScoreLinesByValue.set(e,o),(this.minLine===-1e3||this.minLine<o)&&(this.minLine=o,this.minLineBeat=n),(this.maxLine===-1e3||this.maxLine>o)&&(this.maxLine=o,this.maxLineBeat=n),i||this.registerLine(n,o),a}registerLine(e,r){let n;this._beatLines.has(e.id)?n=this._beatLines.get(e.id):(n=new pae,this._beatLines.set(e.id,n)),(n.minLine===-1e3||r<n.minLine)&&(n.minLine=r),(n.minLine===-1e3||r>n.maxLine)&&(n.maxLine=r)}getMaxLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).maxLine:0}getMinLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).minLine:0}static calculateNoteLine(e,r,n){let i=r,s=e.masterBar.keySignature,a=e.clef,o=i%12,l=(i/12|0)-1,c=Gr.OctaveSteps[a];c-=l*Gr.StepsPerOctave;let u=ir.keySignatureIsSharp(s)||ir.keySignatureIsNatural(s)?Gr.SharpNoteSteps:Gr.FlatNoteSteps;return c-=u[o],c}getNoteLine(e){return this._appliedScoreLines.get(e.id)}getNoteLineForValue(e,r=!1){return this._appliedScoreLinesByValue.has(e)?this._appliedScoreLinesByValue.get(e):r&&this._notesByValue.has(e)?this.getNoteLine(this._notesByValue.get(e)):0}}Gr.KeySignatureLookup=[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]];Gr.AccidentalNotes=[!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1];Gr.StepsPerOctave=7;Gr.OctaveSteps=[38,32,30,26,38];Gr.SharpNoteSteps=[0,0,1,1,2,3,3,4,4,5,5,6];Gr.FlatNoteSteps=[0,1,1,2,2,3,4,4,5,5,6,6];class mae{constructor(){this.staffId="",this.up=0,this.down=0}}class gae{constructor(){this.startBeat=null,this.startX=0,this.startY=0,this.endBeat=null,this.endX=0,this.endY=0}calcY(e){return this.startX===this.endX?this.startY:(this.endY-this.startY)/(this.endX-this.startX)*(e-this.startX)+this.startY}}class zi{get isRestBeamHelper(){return this.beats.length===1&&this.beats[0].isRest}get hasLine(){return this.beats.length===1&&this.beats[0].duration>H.Whole}get hasFlag(){return this.beats.length===1&&!this.beats[0].isRest&&(this.beats[0].duration>H.Quarter||this.beats[0].graceType!==tt.None)}constructor(e,r){this._beatLineXPositions=new Map,this._firstNonRestBeat=null,this._lastNonRestBeat=null,this.voice=null,this.beats=[],this.shortestDuration=H.QuadrupleWhole,this.fingeringCount=0,this.hasTuplet=!1,this._firstBeatLowestNoteCompareValue=-1,this._firstBeatHighestNoteCompareValue=-1,this._lastBeatLowestNoteCompareValue=-1,this._lastBeatHighestNoteCompareValue=-1,this.lowestNoteInHelper=null,this._lowestNoteCompareValueInHelper=-1,this.highestNoteInHelper=null,this._highestNoteCompareValueInHelper=-1,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isGrace=!1,this.minRestLine=null,this.beatOfMinRestLine=null,this.maxRestLine=null,this.beatOfMaxRestLine=null,this.direction=Pe.Up,this.drawingInfos=new Map,this._staff=e,this._renderer=r,this.beats=[]}getBeatLineX(e){return this.hasBeatLineX(e)?this.direction===Pe.Up?this._beatLineXPositions.get(e.index).up:this._beatLineXPositions.get(e.index).down:0}hasBeatLineX(e){return this._beatLineXPositions.has(e.index)}registerBeatLineX(e,r,n,i){let s=this.getOrCreateBeatPositions(r);s.staffId=e,s.up=n,s.down=i;for(const a of this.drawingInfos.values())a.startBeat==r?a.startX=this.getBeatLineX(r):a.endBeat==r&&(a.endX=this.getBeatLineX(r))}getOrCreateBeatPositions(e){return this._beatLineXPositions.has(e.index)||this._beatLineXPositions.set(e.index,new mae),this._beatLineXPositions.get(e.index)}finish(){this.direction=this.calculateDirection()}calculateDirection(){let e=null;if(this.voice?this.preferredBeamDirection!==null?e=this.preferredBeamDirection:this.voice.index>0?e=this.invert(Pe.Down):this.voice.bar.isMultiVoice?e=this.invert(Pe.Up):this.beats[0].graceType!==tt.None&&(e=this.invert(Pe.Up)):e=Pe.Up,this.highestNoteInHelper&&this.lowestNoteInHelper){let r=this._renderer.getNoteY(this.highestNoteInHelper,Xe.Center),n=this._renderer.getNoteY(this.lowestNoteInHelper,Xe.Center);if(e===null){const i=(r+n)/2;e=this.invert(this._renderer.middleYPosition<i?Pe.Up:Pe.Down)}this._renderer.completeBeamingHelper(this)}else e=this.invert(Pe.Up),this._renderer.completeBeamingHelper(this);return e}static computeLineHeightsForRest(e){switch(e){case H.QuadrupleWhole:return[2,2];case H.DoubleWhole:return[2,2];case H.Whole:return[0,1];case H.Half:return[1,0];case H.Quarter:return[3,3];case H.Eighth:return[2,2];case H.Sixteenth:return[2,4];case H.ThirtySecond:return[4,4];case H.SixtyFourth:return[4,6];case H.OneHundredTwentyEighth:return[6,6];case H.TwoHundredFiftySixth:return[6,8]}return[0,0]}applyRest(e,r){if(this._lastNonRestBeat&&e.index>=this._lastNonRestBeat.index||this._firstNonRestBeat&&e.index<=this._firstNonRestBeat.index)return;let n=r,i=r;const s=zi.computeLineHeightsForRest(e.duration);n-=s[0],i+=s[1];const a=this.minRestLine,o=this.maxRestLine;(a===null||a>n)&&(this.minRestLine=n,this.beatOfMinRestLine=e),(o===null||o<i)&&(this.maxRestLine=i,this.beatOfMaxRestLine=e)}invert(e){if(!this.invertBeamDirection)return e;switch(e){case Pe.Down:return Pe.Up;default:return Pe.Down}}checkBeat(e){e.invertBeamDirection&&(this.invertBeamDirection=!0),this.voice||(this.voice=e.voice);let r=!1;if(this.beats.length===0)r=!0;else switch(this.beats[this.beats.length-1].beamingMode){case va.Auto:r=zi.canJoin(this.beats[this.beats.length-1],e);break;case va.ForceSplitToNext:r=!1;break;case va.ForceMergeWithNext:r=!0;break}if(r){if(e.preferredBeamDirection!==null&&(this.preferredBeamDirection=e.preferredBeamDirection),e.isRest)this.beats.length===0&&this.beats.push(e);else{this.isRestBeamHelper&&(this.beats=[]),this.beats.push(e),e.graceType!==tt.None&&(this.isGrace=!0),e.hasTuplet&&(this.hasTuplet=!0);let n=0;for(let i=0;i<e.notes.length;i++){let s=e.notes[i];(s.leftHandFinger!==lt.Unknown||s.rightHandFinger!==lt.Unknown)&&n++}n>this.fingeringCount&&(this.fingeringCount=n),this.checkNote(e.minNote),this.checkNote(e.maxNote),this.shortestDuration<e.duration&&(this.shortestDuration=e.duration),this._firstNonRestBeat||(this._firstNonRestBeat=e),this._lastNonRestBeat=e}e.hasTuplet&&(this.hasTuplet=!0)}return r}checkNote(e){if(!e)return;let r,n;this.voice&&e.isPercussion?(r=-Gr.getPercussionLine(this.voice.bar,Gr.getNoteValue(e)),n=r):(r=Gr.getNoteValue(e),n=r,e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural&&(n=e.realValue-this._staff.displayTranspositionPitch)),this.beats.length===1&&this.beats[0]===e.beat&&((this._firstBeatLowestNoteCompareValue===-1||r<this._firstBeatLowestNoteCompareValue)&&(this._firstBeatLowestNoteCompareValue=r),(this._firstBeatHighestNoteCompareValue===-1||n>this._firstBeatHighestNoteCompareValue)&&(this._firstBeatHighestNoteCompareValue=n)),(this._lastBeatLowestNoteCompareValue===-1||r<this._lastBeatLowestNoteCompareValue)&&(this._lastBeatLowestNoteCompareValue=r),(this._lastBeatHighestNoteCompareValue===-1||n>this._lastBeatHighestNoteCompareValue)&&(this._lastBeatHighestNoteCompareValue=n),(!this.lowestNoteInHelper||r<this._lowestNoteCompareValueInHelper)&&(this.lowestNoteInHelper=e,this._lowestNoteCompareValueInHelper=r),(!this.highestNoteInHelper||n>this._highestNoteCompareValueInHelper)&&(this.highestNoteInHelper=e,this._highestNoteCompareValueInHelper=n)}static canJoin(e,r){if(!e||!r||e.graceType!==r.graceType||e.graceType===tt.BendGrace||r.graceType===tt.BendGrace)return!1;if(e.graceType!==tt.None&&r.graceType!==tt.None)return!0;let n=e.voice.bar,i=r.voice.bar;if(n!==i)return!1;let s=e.playbackStart,a=r.playbackStart;if(!zi.canJoinDuration(e.duration)||!zi.canJoinDuration(r.duration))return s===a;if(e.tupletGroup!==r.tupletGroup)return!1;if(e.hasTuplet&&r.hasTuplet&&e.tupletGroup===r.tupletGroup&&e.tupletGroup.isFull)return!0;let o=ut.QuarterTime;switch(n.masterBar.timeSignatureDenominator){case 8:n.masterBar.timeSignatureNumerator%3===0&&(o+=ut.QuarterTime/2|0);break}let l=(o+s)/o|0|0,c=(o+a)/o|0|0;return l===c}static canJoinDuration(e){switch(e){case H.Whole:case H.Half:case H.Quarter:return!1;default:return!0}}static isFullBarJoin(e,r,n){return ir.getIndex(e.duration)-2-n>0&&ir.getIndex(r.duration)-2-n>0}get beatOfLowestNote(){return this.lowestNoteInHelper.beat}get beatOfHighestNote(){return this.highestNoteInHelper.beat}isPositionFrom(e,r){return this._beatLineXPositions.has(r.index)?this._beatLineXPositions.get(r.index).staffId===e||!this._beatLineXPositions.get(r.index).staffId:!0}}class yae{constructor(e,r){this.topY=0,this.bottomY=0,this.topY=e,this.bottomY=r}}class bae{constructor(e){this.topY=-1e3,this.bottomY=-1e3,this.slots=[],this.beat=e}addSlot(e,r){if(this.slots.push(new yae(e,r)),this.topY===-1e3)this.topY=e,this.bottomY=r;else{const n=Math.min(e,r),i=Math.max(e,r);n<this.topY&&(this.topY=n),i>this.bottomY&&(this.bottomY=i)}}}class vae{constructor(){this.reservedLayoutAreasByDisplayTime=new Map,this.restDurationsByDisplayTime=new Map}getBeatMinMaxY(){let e=-1e3,r=-1e3;for(const n of this.reservedLayoutAreasByDisplayTime.values())e===-1e3?(e=n.topY,r=n.bottomY):(e>n.topY&&(e=n.topY),r<n.bottomY&&(r=n.bottomY));return e===-1e3?[0,0]:[e,r]}reserveBeatSlot(e,r,n){r!=n&&(this.reservedLayoutAreasByDisplayTime.has(e.displayStart)||this.reservedLayoutAreasByDisplayTime.set(e.displayStart,new bae(e)),this.reservedLayoutAreasByDisplayTime.get(e.displayStart).addSlot(r,n),e.isRest&&this.registerRest(e))}registerRest(e){this.restDurationsByDisplayTime.has(e.displayStart)||this.restDurationsByDisplayTime.set(e.displayStart,new Map),this.restDurationsByDisplayTime.get(e.displayStart).has(e.playbackDuration)||this.restDurationsByDisplayTime.get(e.displayStart).set(e.playbackDuration,e.id)}applyRestCollisionOffset(e,r,n){if(e.voice.index>0&&this.reservedLayoutAreasByDisplayTime.has(e.playbackStart)){const i=zi.computeLineHeightsForRest(e.duration).map(u=>u*n);let s=r-i[0],a=r+i[1],o=s;const l=this.reservedLayoutAreasByDisplayTime.get(e.playbackStart);let c=!1;for(const u of l.slots)if(s>=u.topY&&s<=u.bottomY||a>=u.topY&&a<=u.bottomY){c=!0;break}if(c){e.voice.index==1?o=l.topY-i[1]-i[0]:o=l.bottomY;let u=o+i[0]+i[1];const d=n*2;let h=Math.ceil(Math.abs(o-s)/d);return l.addSlot(o,u),o<s?h*-d:h*d}}return 0}}class wae{constructor(e){this.beamHelpers=[],this.beamHelperLookup=[],this._renderer=e,this.collisionHelper=new vae}initialize(){var e=this._renderer,r=this._renderer.bar;let n=null,i=null;for(let s=0,a=r.voices.length;s<a;s++){let o=r.voices[s];this.beamHelpers.push([]),this.beamHelperLookup.push(new Map);for(let l=0,c=o.beats.length;l<c;l++){let u=o.beats[l],d;u.graceType!==tt.None?d=i:(d=n,i=null),(!d||!d.checkBeat(u))&&(d&&d.finish(),d=new zi(r.staff,e),d.checkBeat(u),u.graceType!==tt.None?i=d:n=d,this.beamHelpers[o.index].push(d)),this.beamHelperLookup[o.index].set(u.index,d)}n&&n.finish(),i&&i.finish(),n=null,i=null}}getBeamingHelperForBeat(e){return this.beamHelperLookup[e.voice.index].get(e.index)}}class En extends Ra{constructor(e,r,n){super(e,r),this._textRow=0,this._fretRow=0,this._firstFretSpacing=0,this._chord=n}doLayout(){super.doLayout();const e=this.scale;let r=this.renderer.resources;this._textRow=r.effectFont.size*1.5*e,this._fretRow=r.effectFont.size*1.5*e,this._chord.firstFret>1?this._firstFretSpacing=En.FretSpacing*e:this._firstFretSpacing=0,this.height=this._textRow+this._fretRow+(En.Frets-1)*En.FretSpacing*e+2*En.Padding*e,this.width=this._firstFretSpacing+(this._chord.staff.tuning.length-1)*En.StringSpacing*e+2*En.Padding*e}paint(e,r,n){e+=this.x+En.Padding*this.scale+this._firstFretSpacing,r+=this.y;let i=this.width-2*En.Padding*this.scale+this.scale-this._firstFretSpacing,s=En.StringSpacing*this.scale,a=En.FretSpacing*this.scale,o=this.renderer.resources,l=En.CircleRadius*this.scale,c=n.textAlign,u=n.textBaseline;n.font=o.effectFont,n.textAlign=et.Center,n.textBaseline=gt.Top,this._chord.showName&&n.fillText(this._chord.name,e+this.width/2,r+o.effectFont.size/2),r+=this._textRow,e+=s/2,n.font=o.fretboardNumberFont,n.textBaseline=gt.Middle;for(let h=0;h<this._chord.staff.tuning.length;h++){let p=e+h*s,f=r+this._fretRow/2,m=this._chord.strings[this._chord.staff.tuning.length-h-1];m<0?n.fillMusicFontSymbol(p,f,this.scale,P.FretboardX,!0):m===0?n.fillMusicFontSymbol(p,f,this.scale,P.FretboardO,!0):(m-=this._chord.firstFret-1,n.fillText(m.toString(),p,f))}r+=this._fretRow;for(let h=0;h<this._chord.staff.tuning.length;h++){let p=e+h*s;n.fillRect(p,r,1,a*En.Frets+this.scale)}this._chord.firstFret>1&&(n.textAlign=et.Left,n.fillText(this._chord.firstFret.toString(),e-this._firstFretSpacing,r+a/2)),n.fillRect(e,r-this.scale,i,2*this.scale);for(let h=0;h<=En.Frets;h++){let p=r+h*a;n.fillRect(e,p,i,this.scale)}let d=new Map;for(let h of this._chord.barreFrets){let p=[-1,-1];d.set(h-this._chord.firstFret,p)}for(let h=0;h<this._chord.strings.length;h++){let p=this._chord.strings[h];if(p>0){if(p-=this._chord.firstFret,d.has(p)){let g=d.get(p);(g[0]===-1||h<g[0])&&(g[0]=h),(g[1]===-1||h>g[1])&&(g[1]=h)}let f=r+p*a+a/2+.5*this.scale,m=e+(this._chord.strings.length-h-1)*s;n.fillCircle(m,f,l)}}for(const[h,p]of d){let f=r+h*a+a/2+.5*this.scale,m=e+(this._chord.strings.length-p[1]-1)*s,g=e+(this._chord.strings.length-p[0]-1)*s;n.fillRect(m,f-l,g-m,l*2)}n.textAlign=c,n.textBaseline=u}}En.Padding=5;En.Frets=5;En.CircleRadius=2.5;En.StringSpacing=10;En.FretSpacing=12;class LN extends Ea{constructor(e,r,n=et.Center){super(e,r),this._glyphWidth=0,this.glyphs=[],this._align=n}doLayout(){let e=0;switch(this._align){case et.Left:e=0;break;case et.Center:e=(this.width-this._glyphWidth)/2;break;case et.Right:e=this.width-this._glyphWidth;break}for(let r of this.glyphs)r.x=e,e+=r.width}addGlyphToRow(e){this.glyphs.push(e),this._glyphWidth+=e.width,e.height>this.height&&(this.height=e.height)}}class wd extends Ea{constructor(e,r,n=et.Center){super(e,r),this._rows=[],this.height=0,this.glyphs=[],this._align=n}doLayout(){let e=0,r=0,n=2*wd.Padding*this.scale;this._rows=[];let i=new LN(e,r,this._align);i.width=this.width;for(let s of this.glyphs)e+s.width<this.width?(i.addGlyphToRow(s),e+=s.width):(i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),e=0,i=new LN(e,r,this._align),i.width=this.width,i.addGlyphToRow(s),e+=s.width);i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),this.height=r+n}paint(e,r,n){for(let i of this._rows)i.paint(e+this.x,r+this.y+wd.Padding*this.scale,n)}}wd.Padding=3;class xae extends wd{constructor(e,r){super(e,r)}addChord(e){if(e.strings.length>0){let r=new En(0,0,e);r.renderer=this.renderer,r.doLayout(),this.glyphs.push(r)}}}class qn extends Ra{constructor(e,r,n,i,s=et.Left){super(e,r),this._lines=n.split(`
`),this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){let i=n.color;n.color=i,n.font=this.font;let s=n.textAlign;n.textAlign=this.textAlign;let a=r+this.y;for(let o of this._lines)n.fillText(o,e+this.x,a),a+=this.font.size;n.textAlign=s}}class Sae{get staveId(){return this._factory.staffId}constructor(e,r,n){this._sharedLayoutData=new Map,this.barRenderers=[],this.x=0,this.y=0,this.height=0,this.index=0,this.staffIndex=0,this.trackIndex=0,this.staveTop=0,this.topSpacing=20,this.bottomSpacing=5,this.staveBottom=0,this.isFirstInAccolade=!1,this.isLastInAccolade=!1,this._factory=n,this.trackIndex=e,this.modelStaff=r}getSharedLayoutData(e,r){return this._sharedLayoutData.has(e)?this._sharedLayoutData.get(e):r}setSharedLayoutData(e,r){this._sharedLayoutData.set(e,r)}get isInAccolade(){return this._factory.isInAccolade}get isRelevantForBoundsLookup(){return this._factory.isRelevantForBoundsLookup}registerStaffTop(e){this.staveTop=e}registerStaffBottom(e){this.staveBottom=e}addBarRenderer(e){e.staff=this,e.index=this.barRenderers.length,e.reLayout(),this.barRenderers.push(e),this.staveGroup.layout.registerBarRenderer(this.staveId,e)}addBar(e,r){let n;e?n=this._factory.create(this.staveGroup.layout.renderer,e):n=new Pr(this.staveGroup.layout.renderer,e),n.staff=this,n.index=this.barRenderers.length,n.layoutingInfo=r,n.doLayout(),n.registerLayoutingInfo();const i=n.barDisplayWidth;i>0&&this.staveGroup.layout.systemsLayoutMode==Wi.FromModelWithWidths&&(n.width=i),this.barRenderers.push(n),e&&this.staveGroup.layout.registerBarRenderer(this.staveId,n)}revertLastBar(){let e=this.barRenderers[this.barRenderers.length-1];return this.barRenderers.splice(this.barRenderers.length-1,1),this.staveGroup.layout.unregisterBarRenderer(this.staveId,e),e}scaleToWidth(e){this._sharedLayoutData=new Map;let r=this.topOverflow,n=0;switch(this.staveGroup.layout.systemsLayoutMode){case Wi.Automatic:let s=(e-this.staveGroup.computedWidth)/this.barRenderers.length;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;let l=o.computedWidth+s;o.scaleToWidth(l),n+=o.width}break;case Wi.FromModelWithScale:e-=this.staveGroup.accoladeSpacing;const a=this.staveGroup.totalBarDisplayScale;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayScale*e/a;o.scaleToWidth(l),n+=o.width}break;case Wi.FromModelWithWidths:for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayWidth;l>0?o.scaleToWidth(l):o.scaleToWidth(o.computedWidth),n+=o.width}break}}get topOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.topOverflow>e&&(e=i.topOverflow)}return e}get bottomOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.bottomOverflow>e&&(e=i.bottomOverflow)}return e}finalizeStaff(){this.height=0;let e=!1,r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()&&(e=!0);if(e){r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()}this.height>0&&(this.height+=this.topSpacing+r+this.bottomOverflow+this.bottomSpacing)}paint(e,r,n,i,s){if(!(this.height===0||s===0))for(let a=i,o=Math.min(i+s,this.barRenderers.length);a<o;a++)this.barRenderers[a].paint(e+this.x,r+this.y,n)}}class IN{constructor(){this.timePosition=0,this.longestDuration=0,this.smallestDuration=0,this.force=0,this.springConstant=0,this.preBeatWidth=0,this.graceBeatWidth=0,this.postSpringWidth=0,this.allDurations=new Set}get springWidth(){return this.preSpringWidth+this.postSpringWidth}get preSpringWidth(){return this.preBeatWidth+this.graceBeatWidth}}class xd{constructor(){this._timeSortedSprings=[],this._xMin=0,this._minTime=-1,this._onTimePositionsForce=0,this._onTimePositions=new Map,this._incompleteGraceRodsWidth=0,this.version=0,this.preBeatSizes=new Map,this.onBeatSizes=new Map,this.onBeatCenterX=new Map,this.preBeatSize=0,this.postBeatSize=0,this.voiceSize=0,this.minStretchForce=0,this.totalSpringConstant=0,this.incompleteGraceRods=new Map,this.allGraceRods=new Map,this.springs=new Map,this.height=0}updateVoiceSize(e){e>this.voiceSize&&(this.voiceSize=e,this.version++)}setPreBeatSize(e,r){(!this.preBeatSizes.has(e.id)||this.preBeatSizes.get(e.id)<r)&&(this.preBeatSizes.set(e.id,r),this.version++)}getPreBeatSize(e){return this.preBeatSizes.has(e.id)?this.preBeatSizes.get(e.id):0}setOnBeatSize(e,r){(!this.onBeatSizes.has(e.id)||this.onBeatSizes.get(e.id)<r)&&(this.onBeatSizes.set(e.id,r),this.version++)}getOnBeatSize(e){return this.onBeatSizes.has(e.id)?this.onBeatSizes.get(e.id):0}getBeatCenterX(e){return this.onBeatCenterX.has(e.id)?this.onBeatCenterX.get(e.id):0}setBeatCenterX(e,r){(!this.onBeatCenterX.has(e.id)||this.onBeatCenterX.get(e.id)<r)&&(this.onBeatCenterX.set(e.id,r),this.version++)}updateMinStretchForce(e){this.minStretchForce<e&&(this.minStretchForce=e)}addSpring(e,r,n,i,s){this.version++;let a;if(this.springs.has(e))a=this.springs.get(e),a.postSpringWidth<s&&(a.postSpringWidth=s),a.graceBeatWidth<n&&(a.graceBeatWidth=n),a.preBeatWidth<i&&(a.preBeatWidth=i),r<a.smallestDuration&&(a.smallestDuration=r),r>a.longestDuration&&(a.longestDuration=r),a.allDurations.add(r);else{if(a=new IN,a.timePosition=e,a.allDurations.add(r),this._timeSortedSprings.length>0){let c=this._timeSortedSprings[this._timeSortedSprings.length-1];for(const u of c.allDurations)c.timePosition+u}a.longestDuration=r,a.postSpringWidth=s,a.graceBeatWidth=n,a.preBeatWidth=i,this.springs.set(e,a);let o=this._timeSortedSprings,l=o.length-1;for(;l>0&&o[l].timePosition>e;)l--;this._timeSortedSprings.splice(l+1,0,a)}return(this._minTime===-1||this._minTime>e)&&(this._minTime=e),a}addBeatSpring(e,r,n){let i=e.absoluteDisplayStart;if(e.graceType!==tt.None){const s=e.graceGroup.id;this.allGraceRods.has(s)||this.allGraceRods.set(s,new Array(e.graceGroup.beats.length)),!e.graceGroup.isComplete&&!this.incompleteGraceRods.has(s)&&this.incompleteGraceRods.set(s,new Array(e.graceGroup.beats.length));let a=this.allGraceRods.get(s)[e.graceIndex];if(a)a.postSpringWidth<n&&(a.postSpringWidth=n),a.preBeatWidth<r&&(a.preBeatWidth=r);else{const o=new IN;o.timePosition=i,o.postSpringWidth=n,o.preBeatWidth=r,e.graceGroup.isComplete||(this.incompleteGraceRods.get(s)[e.graceIndex]=o),this.allGraceRods.get(s)[e.graceIndex]=o}}else{let s=0;if(e.graceGroup&&this.allGraceRods.has(e.graceGroup.id))for(const a of this.allGraceRods.get(e.graceGroup.id))s+=a.springWidth;this.addSpring(i,e.displayDuration,s,r,n)}}finish(){for(const[e,r]of this.allGraceRods){let n=0;if(this.incompleteGraceRods.has(e))for(const i of r)n+=i.preBeatWidth,i.graceBeatWidth=n,n+=i.postSpringWidth;else for(let i=r.length-1;i>=0;i--)r[i].graceBeatWidth=n,n-=r[i].preBeatWidth+r[i].postSpringWidth}this._incompleteGraceRodsWidth=0;for(const e of this.incompleteGraceRods.values())for(const r of e)this._incompleteGraceRodsWidth+=r.preBeatWidth+r.postSpringWidth;this.calculateSpringConstants(),this.version++}calculateSpringConstants(){this._xMin=0;let e=this.springs;for(const i of e.values())i.springWidth<this._xMin&&(this._xMin=i.springWidth);let r=0,n=this._timeSortedSprings;if(n.length===0){this.totalSpringConstant=-1,this.minStretchForce=-1;return}for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.longestDuration;else{let o=n[i+1];a=Math.abs(o.timePosition-s.timePosition)}s.springConstant=this.calculateSpringConstant(s,a),r+=1/s.springConstant}this.totalSpringConstant=1/r,this.minStretchForce=0;for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.postSpringWidth;else{let l=n[i+1];a=s.postSpringWidth+l.preSpringWidth}i===0&&(a+=s.preSpringWidth);let o=a*s.springConstant;this.updateMinStretchForce(o)}}paint(e,r,n){}calculateSpringConstant(e,r){r<=0&&(r=ut.toTicks(H.SixtyFourth)),e.smallestDuration===0&&(e.smallestDuration=r);let n=e.smallestDuration,i=1+.85*Math.log2(r/xd.MinDuration);return n/r*(1/(i*xd.MinDurationWidth))}spaceToForce(e){return this.totalSpringConstant!==-1?(this._timeSortedSprings.length>0&&(e-=this._timeSortedSprings[0].preSpringWidth),e-=this._incompleteGraceRodsWidth,Math.max(e,0)*this.totalSpringConstant):-1}calculateVoiceWidth(e){let r=0;return this.totalSpringConstant!==-1&&(r=this.calculateWidth(e,this.totalSpringConstant)),this._timeSortedSprings.length>0&&(r+=this._timeSortedSprings[0].preSpringWidth),r+=this._incompleteGraceRodsWidth,r}calculateWidth(e,r){return e/r}buildOnTimePositions(e){if(this.totalSpringConstant===-1)return new Map;if(ir.isAlmostEqualTo(this._onTimePositionsForce,e)&&this._onTimePositions)return this._onTimePositions;this._onTimePositionsForce=e;let r=new Map;this._onTimePositions=r;let n=this._timeSortedSprings;if(n.length===0)return r;let i=n[0].preSpringWidth;for(let s=0;s<n.length;s++)r.set(n[s].timePosition,i),i+=this.calculateWidth(e,n[s].springConstant);return r}}xd.MinDuration=30;xd.MinDurationWidth=7;class kae{constructor(){this.width=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this.renderers=[]}}class Cae{constructor(e,r){this.staves=[],this.stavesRelevantForBoundsLookup=[],this.firstStaffInAccolade=null,this.lastStaffInAccolade=null,this.staveGroup=e,this.track=r}addStaff(e){this.staves.push(e),e.isRelevantForBoundsLookup&&this.stavesRelevantForBoundsLookup.push(e)}}class rp{constructor(){this._allStaves=[],this._firstStaffInAccolade=null,this._lastStaffInAccolade=null,this._accoladeSpacingCalculated=!1,this.x=0,this.y=0,this.index=0,this.accoladeSpacing=0,this.isFull=!1,this.width=0,this.computedWidth=0,this.totalBarDisplayScale=0,this.isLast=!1,this.masterBarsRenderers=[],this.staves=[]}get firstBarIndex(){return this.masterBarsRenderers[0].masterBar.index}get lastBarIndex(){return this.masterBarsRenderers[this.masterBarsRenderers.length-1].masterBar.index}addMasterBarRenderers(e,r){if(e.length===0)return null;this.masterBarsRenderers.push(r),this.calculateAccoladeSpacing(e),r.layoutingInfo.preBeatSize=0;let n=0;for(let i=0,s=this.staves.length;i<s;i++){let a=this.staves[i];for(let o=0,l=a.staves.length;o<l;o++){let c=a.staves[o],u=r.renderers[n++];c.addBarRenderer(u)}}return this.updateWidthFromLastBar(),r}addBars(e,r){if(e.length===0)return null;let n=new kae;n.layoutingInfo=new xd,n.masterBar=e[0].score.masterBars[r],this.masterBarsRenderers.push(n),this.calculateAccoladeSpacing(e);let i=n.layoutingInfo;for(let s of this.staves)for(let a of s.staves){let o=s.track.staves[a.modelStaff.index].bars[r];a.addBar(o,i);let l=a.barRenderers[a.barRenderers.length-1];n.renderers.push(l),l.isLinkedToPrevious&&(n.isLinkedToPrevious=!0),l.canWrap||(n.canWrap=!1)}return i.finish(),n.width=this.updateWidthFromLastBar(),n}revertLastBar(){if(this.masterBarsRenderers.length>1){let e=this.masterBarsRenderers[this.masterBarsRenderers.length-1];this.masterBarsRenderers.splice(this.masterBarsRenderers.length-1,1);let r=0,n=0;for(let i=0,s=this._allStaves.length;i<s;i++){let o=this._allStaves[i].revertLastBar();const l=o.computedWidth;l>r&&(r=l);const c=o.barDisplayScale;c>n&&(n=c)}return this.width-=r,this.computedWidth-=r,this.totalBarDisplayScale-=n,e}return null}updateWidthFromLastBar(){let e=0,r=0;for(let n=0,i=this._allStaves.length;n<i;n++){let s=this._allStaves[n];const a=s.barRenderers[s.barRenderers.length-1];a.applyLayoutingInfo(),a.computedWidth>e&&(e=a.computedWidth);const o=a.barDisplayScale;o>r&&(r=o)}return this.width+=e,this.computedWidth+=e,this.totalBarDisplayScale+=r,e}calculateAccoladeSpacing(e){if(!this._accoladeSpacingCalculated&&this.index===0)if(this._accoladeSpacingCalculated=!0,!this.layout.renderer.settings.notation.isNotationElementVisible(it.TrackNames))this.accoladeSpacing=0;else{let r=this.layout.renderer.canvas,n=this.layout.renderer.settings.display.resources.effectFont;r.font=n;for(let i of e)this.accoladeSpacing=Math.ceil(Math.max(this.accoladeSpacing,r.measureText(i.shortName)));this.accoladeSpacing*=this.layout.scale,this.accoladeSpacing+=2*rp.AccoladeLabelSpacing*this.layout.scale,this.width+=this.accoladeSpacing,this.computedWidth+=this.accoladeSpacing}}getStaveTrackGroup(e){for(let r=0,n=this.staves.length;r<n;r++){let i=this.staves[r];if(i.track===e)return i}return null}addStaff(e,r){let n=this.getStaveTrackGroup(e);n||(n=new Cae(this,e),this.staves.push(n)),r.staveTrackGroup=n,r.staveGroup=this,r.index=this._allStaves.length,this._allStaves.push(r),n.addStaff(r),r.isInAccolade&&(this._firstStaffInAccolade||(this._firstStaffInAccolade=r,r.isFirstInAccolade=!0),n.firstStaffInAccolade||(n.firstStaffInAccolade=r),this._lastStaffInAccolade||(this._lastStaffInAccolade=r,r.isLastInAccolade=!0),this._lastStaffInAccolade&&(this._lastStaffInAccolade.isLastInAccolade=!1),this._lastStaffInAccolade=r,this._lastStaffInAccolade.isLastInAccolade=!0,n.lastStaffInAccolade=r)}get height(){return this._allStaves[this._allStaves.length-1].y+this._allStaves[this._allStaves.length-1].height}scaleToWidth(e){for(let r=0,n=this._allStaves.length;r<n;r++)this._allStaves[r].scaleToWidth(e);this.width=e}paint(e,r,n){this.paintPartial(e+this.x,r+this.y,n,0,this.masterBarsRenderers.length)}paintPartial(e,r,n,i,s){for(let o=0,l=this._allStaves.length;o<l;o++)this._allStaves[o].paint(e,r,n,i,s);let a=this.layout.renderer.settings.display.resources;if(this.staves.length>0&&i===0){if(n.color=a.barSeparatorColor,this._firstStaffInAccolade&&this._lastStaffInAccolade){let o=r+this._firstStaffInAccolade.y+this._firstStaffInAccolade.staveTop+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow,l=r+this._lastStaffInAccolade.y+this._lastStaffInAccolade.topSpacing+this._lastStaffInAccolade.topOverflow+this._lastStaffInAccolade.staveBottom,c=e+this._firstStaffInAccolade.x;n.beginPath(),n.moveTo(c,o),n.lineTo(c,l),n.stroke()}n.font=a.effectFont;for(let o=0,l=this.staves.length;o<l;o++){let c=this.staves[o];if(c.firstStaffInAccolade&&c.lastStaffInAccolade){let u=r+c.firstStaffInAccolade.y+c.firstStaffInAccolade.staveTop+c.firstStaffInAccolade.topSpacing+c.firstStaffInAccolade.topOverflow,d=r+c.lastStaffInAccolade.y+c.lastStaffInAccolade.topSpacing+c.lastStaffInAccolade.topOverflow+c.lastStaffInAccolade.staveBottom,h=e+c.firstStaffInAccolade.x,p=3*this.layout.renderer.settings.display.scale,f=p,m=u-p*4,g=d+p*4;this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(it.TrackNames)&&n.fillText(c.track.shortName,e+rp.AccoladeLabelSpacing*this.layout.scale,u),n.fillRect(h-f-p,m,p,g-m);let y=h-f-p,b=h+p*2;n.beginPath(),n.moveTo(y,m),n.bezierCurveTo(y,m,y,m,b,m-p),n.bezierCurveTo(h,m+p,y,m+p,y,m+p),n.closePath(),n.fill(),n.beginPath(),n.moveTo(y,g),n.bezierCurveTo(y,g,h,g,b,g+p),n.bezierCurveTo(h,g-p,y,g-p,y,g-p),n.closePath(),n.fill()}}}}finalizeGroup(){let e=0;for(let r of this._allStaves)r.x=this.accoladeSpacing,r.y=e,r.finalizeStaff(),e+=r.height}buildBoundingsLookup(e,r){if(this.layout.renderer.boundsLookup.isFinished||!this._firstStaffInAccolade||!this._lastStaffInAccolade)return;let n=this._allStaves[this._allStaves.length-1],i=r+this.y+this._firstStaffInAccolade.y,s=r+this.y+this._lastStaffInAccolade.y+this._lastStaffInAccolade.height,a=r+this.y+this._allStaves[0].y,o=r+this.y+n.y+n.height,l=r+this.y+this._firstStaffInAccolade.y+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow+(this._firstStaffInAccolade.barRenderers.length>0?this._firstStaffInAccolade.barRenderers[0].topPadding:0),c=r+this.y+n.y+n.height-n.bottomSpacing-n.bottomOverflow-(n.barRenderers.length>0?n.barRenderers[0].bottomPadding:0),u=s-i,d=c-l,h=o-a,p=this.x+this._firstStaffInAccolade.x,f=new PA;f.visualBounds=new Si,f.visualBounds.x=e,f.visualBounds.y=r+this.y,f.visualBounds.w=this.width,f.visualBounds.h=this.height,f.realBounds=new Si,f.realBounds.x=e,f.realBounds.y=r+this.y,f.realBounds.w=this.width,f.realBounds.h=this.height,this.layout.renderer.boundsLookup.addStaveGroup(f);let m=new Map;for(let g=0;g<this.staves.length;g++)for(let y of this.staves[g].stavesRelevantForBoundsLookup)for(let b of y.barRenderers){let v;m.has(b.bar.masterBar.index)?v=m.get(b.bar.masterBar.index):(v=new _A,v.index=b.bar.masterBar.index,v.isFirstOfLine=b.isFirstOfLine,v.realBounds=new Si,v.realBounds.x=p+b.x,v.realBounds.y=a,v.realBounds.w=b.width,v.realBounds.h=h,v.visualBounds=new Si,v.visualBounds.x=p+b.x,v.visualBounds.y=i,v.visualBounds.w=b.width,v.visualBounds.h=u,v.lineAlignedBounds=new Si,v.lineAlignedBounds.x=p+b.x,v.lineAlignedBounds.y=l,v.lineAlignedBounds.w=b.width,v.lineAlignedBounds.h=d,this.layout.renderer.boundsLookup.addMasterBar(v),m.set(v.index,v)),b.buildBoundingsLookup(v,p,r+this.y+y.y)}}getBarX(e){if(!this._firstStaffInAccolade||this.layout.renderer.tracks.length===0)return 0;let r=this.layout.renderer.tracks[0].staves[0].bars[e];return this.layout.getRendererForBar(this._firstStaffInAccolade.staveId,r).x}}rp.AccoladeLabelSpacing=10;class Ab extends Ea{constructor(e,r,n,i){super(e,r),this._tuning=n,this._trackLabel=i,this.glyphs=[]}doLayout(){if(!(this.glyphs.length>0)){this.createGlyphs(this._tuning);for(const e of this.glyphs)e.renderer=this.renderer,e.doLayout()}}createGlyphs(e){const r=this.renderer.scale,n=this.renderer.resources;this.height=0;const i=15*r;this._trackLabel.length>0&&(this.addGlyph(new qn(0,this.height,this._trackLabel,n.effectFont,et.Left)),this.height+=i),this.addGlyph(new qn(0,this.height,e.name,n.effectFont,et.Left));const s=64*r;if(this.renderer.scoreRenderer.canvas.font=n.effectFont,this.width=Math.max(this.renderer.scoreRenderer.canvas.measureText(this._trackLabel)*r,Math.max(this.renderer.scoreRenderer.canvas.measureText(e.name)*r,2*s)),this.height+=i,!e.isStandard){const o=Ab.CircleNumberHeight*.7*r;let l=Math.ceil(e.tunings.length/2)|0,c=0,u=this.height;for(let d=0,h=e.tunings.length;d<h;d++){const p=P.GuitarString0+(d+1);this.addGlyph(new $r(c,u+o/1.2,.7,p));const f="= "+Te.getTextForTuning(e.tunings[d],!1);this.addGlyph(new qn(c+o+1*r,u,f,n.effectFont,et.Left)),u+=i,d===l-1&&(u=this.height,c+=s)}this.height+=l*i}this.width+=15*r}}Ab.CircleNumberHeight=20;class Tae extends wd{constructor(e,r){super(e,r,et.Left)}addTuning(e,r){if(e.tunings.length>0){let n=new Ab(0,0,e,r);n.renderer=this.renderer,n.doLayout(),this.glyphs.push(n)}}}class _ae{constructor(e,r){this.args=e,this.renderCallback=r}}var Wi;(function(t){t[t.Automatic=0]="Automatic",t[t.FromModelWithScale=1]="FromModelWithScale",t[t.FromModelWithWidths=2]="FromModelWithWidths"})(Wi||(Wi={}));class DA{constructor(e){this._barRendererLookup=new Map,this.width=0,this.height=0,this.scoreInfoGlyphs=new Map,this.chordDiagrams=null,this.tuningGlyph=null,this.systemsLayoutMode=Wi.Automatic,this._lazyPartials=new Map,this.firstBarIndex=0,this.lastBarIndex=0,this.renderer=e}resize(){this._lazyPartials.clear(),this.doResize()}layoutAndRender(){this._lazyPartials.clear();let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r)),this.firstBarIndex=r;let n=this.renderer.settings.display.barCount;n<0&&(n=e.masterBars.length),n=r+n-1,n=Math.min(e.masterBars.length-1,Math.max(0,n)),this.lastBarIndex=n,this.createScoreInfoGlyphs(),this.doLayoutAndRender()}registerPartial(e,r){this.renderer.settings.core.enableLazyLoading?(this._lazyPartials.set(e.id,new _ae(e,r)),this.renderer.partialLayoutFinished.trigger(e)):(this.renderer.partialLayoutFinished.trigger(e),this.internalRenderLazyPartial(e,r))}internalRenderLazyPartial(e,r){const n=this.renderer.canvas;n.beginRender(e.width,e.height),r(n),e.renderResult=n.endRender(),this.renderer.partialRenderFinished.trigger(e)}renderLazyPartial(e){if(this._lazyPartials.has(e)){const r=this._lazyPartials.get(e);this.internalRenderLazyPartial(r.args,r.renderCallback)}}createScoreInfoGlyphs(){ve.debug("ScoreLayout","Creating score info glyphs");let e=this.renderer.settings.notation,r=this.renderer.score,n=this.renderer.settings.display.resources;this.scoreInfoGlyphs=new Map,r.title&&e.isNotationElementVisible(it.ScoreTitle)&&this.scoreInfoGlyphs.set(it.ScoreTitle,new qn(0,0,r.title,n.titleFont,et.Center)),r.subTitle&&e.isNotationElementVisible(it.ScoreSubTitle)&&this.scoreInfoGlyphs.set(it.ScoreSubTitle,new qn(0,0,r.subTitle,n.subTitleFont,et.Center)),r.artist&&e.isNotationElementVisible(it.ScoreArtist)&&this.scoreInfoGlyphs.set(it.ScoreArtist,new qn(0,0,r.artist,n.subTitleFont,et.Center)),r.album&&e.isNotationElementVisible(it.ScoreAlbum)&&this.scoreInfoGlyphs.set(it.ScoreAlbum,new qn(0,0,r.album,n.subTitleFont,et.Center)),r.music&&r.music===r.words&&e.isNotationElementVisible(it.ScoreWordsAndMusic)?this.scoreInfoGlyphs.set(it.ScoreWordsAndMusic,new qn(0,0,"Music and Words by "+r.words,n.wordsFont,et.Center)):(r.music&&e.isNotationElementVisible(it.ScoreMusic)&&this.scoreInfoGlyphs.set(it.ScoreMusic,new qn(0,0,"Music by "+r.music,n.wordsFont,et.Right)),r.words&&e.isNotationElementVisible(it.ScoreWords)&&this.scoreInfoGlyphs.set(it.ScoreWords,new qn(0,0,"Words by "+r.words,n.wordsFont,et.Left)));const i=new Pr(this.renderer,this.renderer.tracks[0].staves[0].bars[0]);if(e.isNotationElementVisible(it.GuitarTuning)){let s=[];for(let a of this.renderer.tracks)for(let o of a.staves)if(!o.isPercussion&&o.isStringed&&o.tuning.length>0&&o.showTablature){s.push(o);break}if(s.length>0){this.tuningGlyph=new Tae(0,0),this.tuningGlyph.renderer=i;for(const a of s)this.tuningGlyph.addTuning(a.stringTuning,s.length>1?a.track.name:"")}}if(e.isNotationElementVisible(it.ChordDiagrams)){this.chordDiagrams=new xae(0,0),this.chordDiagrams.renderer=i;let s=new Set;for(let a of this.renderer.tracks)for(let o of a.staves){const l=o.chords;if(l)for(const[,c]of l)s.has(c.uniqueId)||c.showDiagram&&(s.add(c.uniqueId),this.chordDiagrams.addChord(c))}}}get scale(){return this.renderer.settings.display.scale}createEmptyStaveGroup(){let e=new rp;e.layout=this;for(let r=0;r<this.renderer.tracks.length;r++){let n=this.renderer.tracks[r],i=!1;for(let s of n.staves)if(s.showStandardNotation){i=!0;break}for(let s=0;s<n.staves.length;s++){let a=n.staves[s],o;if(a.isPercussion)o=Ai.Score;else if(this.renderer.settings.display.staveProfile!==Ai.Default)o=this.renderer.settings.display.staveProfile;else if(a.showTablature&&a.showStandardNotation)o=Ai.ScoreTab;else if(a.showTablature)o=i?Ai.TabMixed:Ai.Tab;else if(a.showStandardNotation)o=Ai.Score;else continue;let l=Ne.staveProfiles.get(o);for(let c of l)c.canCreate(n,a)&&e.addStaff(n,new Sae(r,a,c))}}return e}registerBarRenderer(e,r){this._barRendererLookup.has(e)||this._barRendererLookup.set(e,new Map),this._barRendererLookup.get(e).set(r.bar.id,r)}unregisterBarRenderer(e,r){this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).delete(r.bar.id)}getRendererForBar(e,r){let n=r.id;return this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).has(n)?this._barRendererLookup.get(e).get(n):null}layoutAndRenderAnnotation(e){let r="rendered by alphaTab",n=this.renderer.settings.display.resources,i=12*this.renderer.settings.display.scale,s=Math.floor(i*2);const a=new gc,o=Ft.withFamilyList(n.copyrightFont.families,i,Br.Plain,Oi.Bold);this.renderer.canvas.font=o;const l=Ne.getLayoutEngineFactory(this.renderer.settings.display.layoutMode).vertical;return a.width=this.renderer.canvas.measureText(r),a.height=s,a.x=l?(this.width-a.width)/2:this.firstBarX,a.y=e,a.totalWidth=this.width,a.totalHeight=e+s,a.firstMasterBarIndex=-1,a.lastMasterBarIndex=-1,this.registerPartial(a,c=>{c.color=n.mainGlyphColor,c.font=o,c.textAlign=et.Left,c.fillText(r,0,i)}),e+s}}var Xe;(function(t){t[t.TopWithStem=0]="TopWithStem",t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom",t[t.BottomWithStem=4]="BottomWithStem"})(Xe||(Xe={}));var Or;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(Or||(Or={}));class Pr{get nextRenderer(){return!this.bar||!this.bar.nextBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.nextBar)}get previousRenderer(){return!this.bar||!this.bar.previousBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.previousBar)}constructor(e,r){this._preBeatGlyphs=new xh,this._voiceContainers=new Map,this._postBeatGlyphs=new xh,this._ties=[],this.x=0,this.y=0,this.width=0,this.computedWidth=0,this.height=0,this.index=0,this.topOverflow=0,this.bottomOverflow=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this._wasFirstOfLine=!1,this._appliedLayoutingInfo=0,this.isFinalized=!1,this.topPadding=0,this.bottomPadding=0,this.scoreRenderer=e,this.bar=r,r&&(this.helpers=new wae(this))}registerTies(e){this._ties.push(...e)}get middleYPosition(){return 0}registerOverflowTop(e){return e>this.topOverflow?(this.topOverflow=e,!0):!1}registerOverflowBottom(e){return e>this.bottomOverflow?(this.bottomOverflow=e,!0):!1}scaleToWidth(e){let r=e-this._preBeatGlyphs.width-this._postBeatGlyphs.width;for(const n of this._voiceContainers.values())n.scaleToWidth(r);this._postBeatGlyphs.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width+r,this.width=e}get resources(){return this.settings.display.resources}get settings(){return this.scoreRenderer.settings}get scale(){return this.settings.display.scale}get barDisplayScale(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayScale:this.bar.displayScale}get barDisplayWidth(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayWidth:this.bar.displayWidth}get isFirstOfLine(){return this.index===0}get isLast(){return!this.bar||this.bar.index===this.scoreRenderer.layout.lastBarIndex}registerLayoutingInfo(){let e=this.layoutingInfo,r=this._preBeatGlyphs.width;e.preBeatSize<r&&(e.preBeatSize=r);for(const i of this._voiceContainers.values())i.registerLayoutingInfo(e),i.x+i.width;let n=this._postBeatGlyphs.width;e.postBeatSize<n&&(e.postBeatSize=n)}applyLayoutingInfo(){if(this._appliedLayoutingInfo>=this.layoutingInfo.version)return!1;this._appliedLayoutingInfo=this.layoutingInfo.version,this._preBeatGlyphs.width=this.layoutingInfo.preBeatSize;let e=this._preBeatGlyphs.x+this._preBeatGlyphs.width;for(const n of this._voiceContainers.values()){n.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width,n.applyLayoutingInfo(this.layoutingInfo);let i=n.x+n.width;e<i&&(e=i)}this._postBeatGlyphs.x=Math.floor(e),this._postBeatGlyphs.width=this.layoutingInfo.postBeatSize,this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.computedWidth=this.width;const r=this.barDisplayWidth;return r>0&&this.scoreRenderer.layout.systemsLayoutMode==Wi.FromModelWithWidths&&(this.width=r,this.computedWidth=r),!0}finalizeRenderer(){this.isFinalized=!0;let e=!1;const r=this.y-this.staff.topSpacing,n=this.y+this.height+this.staff.bottomSpacing;for(const i of this._ties)if(i.doLayout(),i.height>0){const s=i.y+i.height-n;s>0&&this.registerOverflowBottom(s)&&(e=!0);const a=i.y-r;a<0&&this.registerOverflowTop(a*-1)&&(e=!0)}return e}doLayout(){if(this.bar){this.helpers.initialize(),this._ties=[],this._preBeatGlyphs=new xh,this._preBeatGlyphs.renderer=this,this._voiceContainers.clear(),this._postBeatGlyphs=new xh,this._postBeatGlyphs.renderer=this;for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];if(this.hasVoiceContainer(r)){let n=new RA(0,0,r);n.renderer=this,this._voiceContainers.set(this.bar.voices[e].index,n)}}this.bar.simileMark===us.SecondOfDouble&&(this.canWrap=!1),this.createPreBeatGlyphs(),this.createBeatGlyphs(),this.createPostBeatGlyphs(),this.updateSizes();for(const e of this.helpers.beamHelpers)for(const r of e)r.finish();this.computedWidth=this.width}}hasVoiceContainer(e){return!e.isEmpty||e.index===0}updateSizes(){this.staff.registerStaffTop(this.topPadding),this.staff.registerStaffBottom(this.height-this.bottomPadding);let e=this._voiceContainers,r=this.beatGlyphsStart,n=r;for(const i of e.values()){i.x=r,i.doLayout();let s=i.x+i.width;n<s&&(n=s)}this._postBeatGlyphs.x=Math.floor(n),this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.height+=this.layoutingInfo.height*this.scale}addPreBeatGlyph(e){e.renderer=this,this._preBeatGlyphs.addGlyph(e)}addBeatGlyph(e){e.renderer=this,e.preNotes.renderer=this,e.onNotes.renderer=this,e.onNotes.beamingHelper=this.helpers.beamHelperLookup[e.beat.voice.index].get(e.beat.index),this.getVoiceContainer(e.beat.voice).addGlyph(e)}getVoiceContainer(e){return this._voiceContainers.has(e.index)?this._voiceContainers.get(e.index):void 0}getBeatContainer(e){var r,n;return(n=(r=this.getVoiceContainer(e.voice))==null?void 0:r.beatGlyphs)==null?void 0:n[e.index]}getPreNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.preNotes}getOnNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.onNotes}paint(e,r,n){this.paintBackground(e,r,n),n.color=this.resources.mainGlyphColor,this._preBeatGlyphs.paint(e+this.x,r+this.y,n);for(const i of this._voiceContainers.values())n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.paint(e+this.x,r+this.y,n);n.color=this.resources.mainGlyphColor,this._postBeatGlyphs.paint(e+this.x,r+this.y,n)}paintBackground(e,r,n){this.layoutingInfo.paint(e+this.x+this._preBeatGlyphs.x+this._preBeatGlyphs.width,r+this.y+this.height,n)}buildBoundingsLookup(e,r,n){let i=new CA;i.bar=this.bar,i.visualBounds=new Si,i.visualBounds.x=r+this.x,i.visualBounds.y=n+this.y+this.topPadding,i.visualBounds.w=this.width,i.visualBounds.h=this.height-this.topPadding-this.bottomPadding,i.realBounds=new Si,i.realBounds.x=r+this.x,i.realBounds.y=n+this.y,i.realBounds.w=this.width,i.realBounds.h=this.height,e.addBar(i);for(const[s,a]of this._voiceContainers){let o=this.bar.isEmpty&&s===0;if(!a.voice.isEmpty||o)for(let l=0,c=a.beatGlyphs.length;l<c;l++)a.beatGlyphs[l].buildBoundingsLookup(i,r+this.x+a.x,n+this.y+a.y,o)}}addPostBeatGlyph(e){this._postBeatGlyphs.addGlyph(e)}createPreBeatGlyphs(){this._wasFirstOfLine=this.isFirstOfLine}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(this.bar.voices[e])}}createVoiceGlyphs(e){}createPostBeatGlyphs(){}get beatGlyphsStart(){return this._preBeatGlyphs.x+this._preBeatGlyphs.width}get postBeatGlyphsStart(){return this._postBeatGlyphs.x}getBeatX(e,r=kt.PreNotes){let n=this.getBeatContainer(e);if(n)switch(r){case kt.PreNotes:return n.voiceContainer.x+n.x;case kt.OnNotes:return n.voiceContainer.x+n.x+n.onNotes.x;case kt.MiddleNotes:return n.voiceContainer.x+n.x+n.onTimeX;case kt.Stem:const i=n.onNotes.beamingHelper?n.onNotes.beamingHelper.getBeatLineX(e):n.onNotes.x+n.onNotes.width/2;return n.voiceContainer.x+i;case kt.PostNotes:return n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.width;case kt.EndBeat:return n.voiceContainer.x+n.x+n.width}return 0}getNoteX(e,r){let n=this.getBeatContainer(e.beat);return n?n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.getNoteX(e,r):0}getNoteY(e,r){let n=this.getOnNotesGlyphForBeat(e.beat);return n?n.getNoteY(e,r):NaN}reLayout(){(this._wasFirstOfLine&&!this.isFirstOfLine||!this._wasFirstOfLine&&this.isFirstOfLine)&&(this._preBeatGlyphs=new xh,this._preBeatGlyphs.renderer=this,this.createPreBeatGlyphs()),this.updateSizes(),this.registerLayoutingInfo()}paintSimileMark(e,r,n){switch(this.bar.simileMark){case us.Simple:n.fillMusicFontSymbol(e+this.x+(this.width-20*this.scale)/2,r+this.y+this.height/2,1,P.Repeat1Bar,!1);break;case us.SecondOfDouble:n.fillMusicFontSymbol(e+this.x-28*this.scale/2,r+this.y+this.height/2,1,P.Repeat2Bars,!1);break}}completeBeamingHelper(e){}}Pr.LineSpacing=8;Pr.StemWidth=.12*Pr.LineSpacing;Pr.StaffLineThickness=.13*Pr.LineSpacing;Pr.BeamThickness=.5*Pr.LineSpacing;Pr.BeamSpacing=.25*Pr.LineSpacing;var Lt;(function(t){t[t.SinglePreBeat=0]="SinglePreBeat",t[t.SingleOnBeat=1]="SingleOnBeat",t[t.SingleOnBeatToEnd=2]="SingleOnBeatToEnd",t[t.GroupedOnBeat=3]="GroupedOnBeat",t[t.GroupedOnBeatToEnd=4]="GroupedOnBeatToEnd",t[t.FullBar=5]="FullBar"})(Lt||(Lt={}));class Pae extends Wr{constructor(e,r){super(0,0),this._uniqueEffectGlyphs=[],this._effectGlyphs=[],this.isEmpty=!0,this.previousBand=null,this.isLinkedToPrevious=!1,this.firstBeat=null,this.lastBeat=null,this.height=0,this.slot=null,this.voice=e,this.info=r}doLayout(){super.doLayout();for(let e=0;e<this.renderer.bar.voices.length;e++)this._effectGlyphs.push(new Map),this._uniqueEffectGlyphs.push([])}createGlyph(e){if(e.voice===this.voice&&this.info.shouldCreateGlyph(this.renderer.settings,e)&&(!this.info.hideOnMultiTrack||this.renderer.staff.trackIndex===0)){if(this.isEmpty=!1,(!this.firstBeat||e.isBefore(this.firstBeat))&&(this.firstBeat=e),!this.lastBeat||e.isAfter(this.lastBeat))switch(this.lastBeat=e,this.info.sizingMode){case Lt.SingleOnBeatToEnd:case Lt.GroupedOnBeatToEnd:this.lastBeat.nextBeat&&(this.lastBeat=this.lastBeat.nextBeat);break}let r=this.createOrResizeGlyph(this.info.sizingMode,e);r.height>this.height&&(this.height=r.height)}}createOrResizeGlyph(e,r){let n;switch(e){case Lt.FullBar:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case Lt.SinglePreBeat:case Lt.SingleOnBeat:case Lt.SingleOnBeatToEnd:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case Lt.GroupedOnBeat:case Lt.GroupedOnBeatToEnd:let i=e===Lt.GroupedOnBeat?Lt.SingleOnBeat:Lt.SingleOnBeatToEnd;if(r.index>0||this.renderer.index>0){let s=r.previousBeat;if(this.info.shouldCreateGlyph(this.renderer.settings,s)){let a=null;if(r.index>0&&this._effectGlyphs[r.voice.index].has(s.index))a=this._effectGlyphs[r.voice.index].get(s.index);else if(this.renderer.index>0){let c=this.renderer.previousRenderer.getBand(s.voice,this.info.effectId);if(c){let u=c._effectGlyphs[s.voice.index];u.has(s.index)&&(a=u.get(s.index))}}let o=this.createOrResizeGlyph(i,r);return a&&this.info.canExpand(s,r)&&(a.nextGlyph=o,o.previousGlyph=a,this.isLinkedToPrevious=!0),o}return this.createOrResizeGlyph(i,r)}return this.createOrResizeGlyph(i,r);default:return this.createOrResizeGlyph(Lt.SingleOnBeat,r)}}paint(e,r,n){super.paint(e,r,n);for(let i=0,s=this._uniqueEffectGlyphs.length;i<s;i++){let a=this._uniqueEffectGlyphs[i];for(let o=0,l=a.length;o<l;o++)a[o].paint(e+this.x,r+this.y,n)}}alignGlyphs(){for(let e=0;e<this._effectGlyphs.length;e++)for(const r of this._effectGlyphs[e].keys())this.alignGlyph(this.info.sizingMode,this.renderer.bar.voices[e].beats[r])}alignGlyph(e,r){let n=this._effectGlyphs[r.voice.index].get(r.index),i,s=this.renderer.getBeatContainer(r);switch(e){case Lt.SinglePreBeat:i=s.preNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case Lt.SingleOnBeat:case Lt.GroupedOnBeat:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case Lt.SingleOnBeatToEnd:case Lt.GroupedOnBeatToEnd:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,s.beat.isLastOfVoice?n.width=this.renderer.width-n.x:n.width=s.width-s.preNotes.width-s.preNotes.x;break;case Lt.FullBar:n.width=this.renderer.width;break}}}class Bae{constructor(){this.uniqueEffectId=null,this.y=0,this.height=0,this.firstBeat=null,this.lastBeat=null}}class Nae{constructor(){this.bands=[],this.shared=new Bae}update(e){e.info.canShareBand||(this.shared.uniqueEffectId=e.info.effectId),e.slot=this,this.bands.push(e),e.height>this.shared.height&&(this.shared.height=e.height),(!this.shared.firstBeat||e.firstBeat.isBefore(this.shared.firstBeat))&&(this.shared.firstBeat=e.firstBeat),(!this.shared.lastBeat||e.lastBeat.isAfter(this.shared.lastBeat))&&(this.shared.lastBeat=e.lastBeat)}canBeUsed(e){return(!this.shared.uniqueEffectId&&e.info.canShareBand||e.info.effectId===this.shared.uniqueEffectId)&&(!this.shared.firstBeat||this.shared.lastBeat.isBefore(e.firstBeat)||this.shared.lastBeat.isBefore(this.shared.firstBeat))}}class Mae{constructor(){this.slots=[],this._effectSlot=new Map}getOrCreateSlot(e){if(this._effectSlot.has(e.info.effectId)){let n=this._effectSlot.get(e.info.effectId);if(n.canBeUsed(e))return n}for(let n of this.slots)if(n.canBeUsed(e))return n;let r=new Nae;return this.slots.push(r),r}register(e){let r=this.getOrCreateSlot(e);r.update(e),this._effectSlot.set(e.info.effectId,r)}}class Ob extends Ea{constructor(){super(0,0),this.computedWidth=0}doLayout(){let e=0;if(this.glyphs)for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.x=e,i.renderer=this.renderer,i.doLayout(),e+=i.width}this.width=e,this.computedWidth=e}noteLoop(e){for(let r=this.container.beat.notes.length-1;r>=0;r--)e(this.container.beat.notes[r])}}class BC extends Ob{constructor(){super(...arguments),this.centerX=0}updateBeamingHelper(){}buildBoundingsLookup(e,r,n){}getNoteX(e,r){return 0}getNoteY(e,r){return 0}}class Eae extends Pr{constructor(e,r,n){super(e,r),this._bands=[],this._bandLookup=new Map,this.sizingInfo=null,this._infos=n}updateSizes(){this.topOverflow=0,this.bottomOverflow=0,this.topPadding=0,this.bottomPadding=0,this.updateHeight(),super.updateSizes()}finalizeRenderer(){let e=super.finalizeRenderer();return this.updateHeight()&&(e=!0),e}updateHeight(){if(!this.sizingInfo)return!1;let e=0;for(let r of this.sizingInfo.slots){r.shared.y=e;for(let n of r.bands)n.y=e,n.height=r.shared.height;e+=r.shared.height}return e!==this.height?(this.height=e,!0):!1}applyLayoutingInfo(){if(!super.applyLayoutingInfo())return!1;if(this.index>0){let e=this.previousRenderer;this.sizingInfo=e.sizingInfo}else this.sizingInfo=new Mae;for(let e of this._bands)e.alignGlyphs(),e.isEmpty||this.sizingInfo.register(e);return this.updateHeight(),!0}scaleToWidth(e){super.scaleToWidth(e);for(let r of this._bands)r.alignGlyphs()}createBeatGlyphs(){this._bands=[],this._bandLookup=new Map;for(let e of this.bar.voices)if(this.hasVoiceContainer(e))for(let r of this._infos){let n=new Pae(e,r);n.renderer=this,n.doLayout(),this._bands.push(n),this._bandLookup.set(e.index+"."+r.effectId,n)}for(let e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e);for(let e of this._bands)e.isLinkedToPrevious&&(this.isLinkedToPrevious=!0)}createVoiceGlyphs(e){for(let r of e.beats){let n=new wa(r,this.getVoiceContainer(e));n.preNotes=new Ob,n.onNotes=new BC,this.addBeatGlyph(n);for(let i of this._bands)i.createGlyph(r)}}paint(e,r,n){this.paintBackground(e,r,n);for(let i of this._bands)n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isEmpty||i.paint(e+this.x,r+this.y,n)}getBand(e,r){let n=e.index+"."+r;return this._bandLookup.has(n)?this._bandLookup.get(n):null}}class il extends PC{get staffId(){return this._staffId}constructor(e,r){super(),this._infos=r,this._staffId=e,this.isInAccolade=!1,this.isRelevantForBoundsLookup=!1}create(e,r){return new Eae(e,r,this._infos.filter(n=>e.settings.notation.isNotationElementVisible(n.notationElement)))}}class np extends Ra{constructor(e,r,n){super(e,r),this._endingsString="",this._endings=[];for(let i=0;i<Oo.MaxAlternateEndings;i++)n&1<<i&&this._endings.push(i)}doLayout(){super.doLayout(),this.height=this.renderer.resources.wordsFont.size+(np.Padding*this.scale+2);let e="";for(let r=0,n=this._endings.length;r<n;r++)e+=this._endings[r]+1,e+=". ";this._endingsString=e}paint(e,r,n){super.paint(e,r,n);let i=n.textBaseline;if(n.textBaseline=gt.Top,this._endings.length>0){let s=this.renderer.resources;n.font=s.wordsFont,n.moveTo(e+this.x,r+this.y+this.height),n.lineTo(e+this.x,r+this.y),n.lineTo(e+this.x+this.width,r+this.y),n.stroke(),n.fillText(this._endingsString,e+this.x+np.Padding*this.scale,r+this.y*this.scale)}n.textBaseline=i}}np.Padding=3;class Bn{get effectId(){return this.notationElement.toString()}}class dw extends Bn{get notationElement(){return it.EffectAlternateEndings}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Lt.FullBar}shouldCreateGlyph(e,r){return r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.alternateEndings!==0}createNewGlyph(e,r){return new np(0,0,r.voice.bar.masterBar.alternateEndings)}canExpand(e,r){return!0}}class FN extends Bn{get notationElement(){return it.EffectCapo}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.index===0&&r.voice.bar.index===0&&r.voice.bar.staff.capo!==0}createNewGlyph(e,r){return new qn(0,0,"Capo. fret "+r.voice.bar.staff.capo,e.resources.effectFont,et.Left)}canExpand(e,r){return!1}}class hw extends Bn{get notationElement(){return it.EffectChordNames}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.hasChord}createNewGlyph(e,r){return new qn(0,0,r.chord.name,e.resources.effectFont,et.Center)}canExpand(e,r){return!1}}class jp extends Ra{constructor(e){super(),this.forceGroupedRendering=!1,this.endOnBarLine=!1,this.endPosition=e}get isLinkedWithPrevious(){return!!this.previousGlyph&&this.previousGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}get isLinkedWithNext(){return!!this.nextGlyph&&this.nextGlyph.renderer.isFinalized&&this.nextGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}paint(e,r,n){if(this.isLinkedWithPrevious)return;if(!this.isLinkedWithNext&&!this.forceGroupedRendering){this.paintNonGrouped(e,r,n);return}let i;if(!this.isLinkedWithNext&&this.forceGroupedRendering)i=this;else for(i=this.nextGlyph;i.isLinkedWithNext;)i=i.nextGlyph;let s=i.renderer,a=i.beat,o=this.endPosition,l=e-this.renderer.x,c=this.calculateEndX(s,a,l,o);this.paintGrouped(e,r,c,n)}calculateEndX(e,r,n,i){return r?n+e.x+e.getBeatX(r,i):n+e.x+this.x+this.width}paintNonGrouped(e,r,n){let i=e-this.renderer.x,s=this.calculateEndX(this.renderer,this.beat,i,this.endPosition);this.paintGrouped(e,r,s,n)}}class ip extends jp{constructor(e,r,n){super(kt.EndBeat),this._crescendo=Ti.None,this._crescendo=n,this.x=e,this.y=r}doLayout(){super.doLayout(),this.height=17*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=this.height*this.scale;i.beginPath(),this._crescendo===Ti.Crescendo?(n-=ip.Padding*this.scale,i.moveTo(n,r+this.y),i.lineTo(s,r+this.y+a/2),i.lineTo(n,r+this.y+a)):(n-=ip.Padding*this.scale,i.moveTo(s,r+this.y),i.lineTo(n,r+this.y+a/2),i.lineTo(s,r+this.y+a)),i.stroke()}}ip.Padding=bt.QuarterNoteHeadWidth/2|0;class AN extends Bn{get notationElement(){return it.EffectCrescendo}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.crescendo!==Ti.None}createNewGlyph(e,r){return new ip(0,0,r.crescendo)}canExpand(e,r){return e.crescendo===r.crescendo}}class NC extends $r{constructor(e,r,n){super(e,r,.6,NC.getSymbol(n))}doLayout(){super.doLayout(),this.height=17*this.scale,this.y+=this.height/2}static getSymbol(e){switch(e){case wt.PPP:return P.DynamicPPP;case wt.PP:return P.DynamicPP;case wt.P:return P.DynamicPiano;case wt.MP:return P.DynamicMP;case wt.MF:return P.DynamicMF;case wt.F:return P.DynamicForte;case wt.FF:return P.DynamicFF;case wt.FFF:return P.DynamicFFF;default:return P.None}}}class ON extends Bn{get notationElement(){return it.EffectDynamics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return this.internalShouldCreateGlyph(r)}internalShouldCreateGlyph(e){if(e.voice.bar.staff.track.score.stylesheet.hideDynamics||e.isEmpty||e.voice.isEmpty||e.isRest||e.graceType!==tt.None)return!1;let r=this.getPreviousDynamicsBeat(e),n=e.voice.index===0&&!r||e.dynamics!==(r==null?void 0:r.dynamics);if(n&&e.voice.index>0){for(let i of e.voice.bar.voices)if(i.index<e.voice.index){let s=i.getBeatAtPlaybackStart(e.playbackStart);s&&e.dynamics===s.dynamics&&this.internalShouldCreateGlyph(s)&&(n=!1)}}return n}getPreviousDynamicsBeat(e){let r=e.previousBeat;for(;r!=null;){if(!r.isRest&&r.graceType===tt.None)return r;r=r.previousBeat}return null}createNewGlyph(e,r){return new NC(0,0,r.dynamics)}canExpand(e,r){return!0}}class Rae extends Ra{doLayout(){super.doLayout(),this.height=17*this.scale}paint(e,r,n){let i=6*this.scale,s=Math.max(this.width,14*this.scale),a=this.height/2;n.beginPath(),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a-i),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a+i),n.stroke()}}class fw extends Bn{get notationElement(){return it.EffectFadeIn}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.fadeIn}createNewGlyph(e,r){return new Rae}canExpand(e,r){return!0}}class MC extends $r{constructor(e,r,n){super(e,r,1,MC.getSymbol(n))}static getSymbol(e){switch(e){case Ta.Short:return P.FermataShortAbove;case Ta.Medium:return P.FermataAbove;case Ta.Long:return P.FermataLongAbove;default:return P.None}}doLayout(){this.width=23*this.scale,this.height=12*this.scale}paint(e,r,n){super.paint(e-this.width/2,r+this.height,n)}}class pw extends Bn{get notationElement(){return it.EffectFermata}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index===0&&!!r.fermata}createNewGlyph(e,r){return new MC(0,0,r.fermata.type)}canExpand(e,r){return!0}}class $N extends Bn{get notationElement(){return it.EffectFingering}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index!==0||r.isRest||e.notation.fingeringMode!==Ma.SingleNoteEffectBand&&e.notation.fingeringMode!==Ma.SingleNoteEffectBandForcePiano||r.notes.length!==1?!1:r.notes[0].isFingering}createNewGlyph(e,r){let n=lt.Unknown,i=!1,s=r.notes[0];s.leftHandFinger!==lt.Unknown?(n=s.leftHandFinger,i=!0):s.rightHandFinger!==lt.Unknown&&(n=s.rightHandFinger);let a=ir.fingerToString(e.settings,r,n,i)??"";return new qn(0,0,a,e.resources.fingeringFont,et.Left)}canExpand(e,r){return!0}}class Zc extends Bn{constructor(){super(...arguments),this.lastCreateInfo=null}shouldCreateGlyph(e,r){this.lastCreateInfo=[];for(let n=0,i=r.notes.length;n<i;n++){let s=r.notes[n];this.shouldCreateGlyphForNote(s)&&this.lastCreateInfo.push(s)}return this.lastCreateInfo.length>0}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}canExpand(e,r){return!0}}class Xo extends jp{constructor(e){super(kt.OnNotes),this._label=e}doLayout(){this.renderer.settings.notation.extendLineEffectsToBeatEnd&&(this.endPosition=kt.EndBeat,this.forceGroupedRendering=!0),super.doLayout(),this.height=this.renderer.resources.effectFont.size}paintNonGrouped(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=et.Center,n.fillText(this._label,e+this.x,r+this.y),n.textAlign=s}paintGrouped(e,r,n,i){this.paintNonGrouped(e,r,i);let s=3*this.scale,a=i.measureText(this._label),o=e+this.x+a/2+s,l=r+this.y+4*this.scale,c=8*this.scale;if(n>o){let u=o;for(;u<n;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,n),l|0),u+=c+s,i.stroke();i.beginPath(),i.moveTo(n,l-5*this.scale|0),i.lineTo(n,l+5*this.scale|0),i.stroke()}}}Xo.LineSpacing=3;Xo.LineTopPadding=4;Xo.LineTopOffset=5;Xo.LineSize=8;class Ji extends Zc{get effectId(){return this._effectId}get notationElement(){return it.EffectHarmonics}constructor(e){switch(super(),this._beat=null,this._harmonicType=e,e){case Qe.None:this._effectId="harmonics-none";break;case Qe.Natural:this._effectId="harmonics-natural";break;case Qe.Artificial:this._effectId="harmonics-artificial";break;case Qe.Pinch:this._effectId="harmonics-pinch";break;case Qe.Tap:this._effectId="harmonics-tap";break;case Qe.Semi:this._effectId="harmonics-semi";break;case Qe.Feedback:this._effectId="harmonics-feedback";break;default:this._effectId="";break}}shouldCreateGlyphForNote(e){return!e.isHarmonic||e.harmonicType!==this._harmonicType?!1:(e.beat!==this._beat&&(this._beat=e.beat),!0)}get sizingMode(){return Lt.GroupedOnBeat}createNewGlyph(e,r){return new Xo(Ji.harmonicToString(this._harmonicType))}static harmonicToString(e){switch(e){case Qe.Natural:return"N.H.";case Qe.Artificial:return"A.H.";case Qe.Pinch:return"P.H.";case Qe.Tap:return"T.H.";case Qe.Semi:return"S.H.";case Qe.Feedback:return"Fdbk."}return""}}class mw extends Bn{get notationElement(){return it.EffectLetRing}get canShareBand(){return!1}get hideOnMultiTrack(){return!1}shouldCreateGlyph(e,r){return r.isLetRing}get sizingMode(){return Lt.GroupedOnBeat}createNewGlyph(e,r){return new Xo("LetRing")}canExpand(e,r){return!0}}class Dae extends Ra{constructor(e,r,n,i,s=et.Center){super(e,r),this._lines=n,this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){n.font=this.font;let i=n.textAlign;n.textAlign=this.textAlign;for(let s=0;s<this._lines.length;s++)this._lines[s]&&n.fillText(this._lines[s],e+this.x,r+this.y+s*this.font.size);n.textAlign=i}}class Vm extends Bn{get notationElement(){return it.EffectLyrics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.lyrics}createNewGlyph(e,r){return new Dae(0,0,r.lyrics,e.resources.effectFont,et.Center)}canExpand(e,r){return!0}}class gw extends Bn{get notationElement(){return it.EffectMarker}get hideOnMultiTrack(){return!0}get canShareBand(){return!0}get sizingMode(){return Lt.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.isSectionStart}createNewGlyph(e,r){return new qn(0,0,r.voice.bar.masterBar.section.marker?"["+r.voice.bar.masterBar.section.marker+"] "+r.voice.bar.masterBar.section.text:r.voice.bar.masterBar.section.text,e.resources.markerFont,et.Left)}canExpand(e,r){return!0}}class Lae extends jp{constructor(e,r){super(kt.PostNotes),this._ottava=e,this._aboveStaff=r}doLayout(){super.doLayout(),this.height=13*this.scale}paintNonGrouped(e,r,n){this.paintOttava(e,r,n)}paintOttava(e,r,n){let i=0;switch(this._ottava){case $t._15ma:i=37*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.QuindicesimaAlta,!1);break;case $t._8va:i=26*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.OttavaAlta,!1);break;case $t._8vb:i=23*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,P.OttavaBassaVb,!1);break;case $t._15mb:i=36*this.scale,n.fillMusicFontSymbols(e+this.x-i/2,r+this.y+this.height,.8,[P.Quindicesima,P.OctaveBaselineM,P.OctaveBaselineB],!1);break}return i/2}paintGrouped(e,r,n,i){let s=this.paintOttava(e,r,i),a=3*this.scale,o=e+this.x+s+a,l=r+this.y;l+=this._aboveStaff?2*this.scale:this.height-2*this.scale;let c=8*this.scale;if(n>o){let u=o;for(;u<n;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,n),l|0),u+=c+a,i.stroke();i.beginPath(),this._aboveStaff?(i.moveTo(n,l),i.lineTo(n,r+this.y+this.height)):(i.moveTo(n,l),i.lineTo(n,r+this.y)),i.stroke()}}}class zm extends Bn{get effectId(){return"ottavia-"+(this._aboveStaff?"above":"below")}get notationElement(){return it.EffectOttavia}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.GroupedOnBeat}constructor(e){super(),this._aboveStaff=e}shouldCreateGlyph(e,r){switch(r.ottava){case $t._15ma:return this._aboveStaff;case $t._8va:return this._aboveStaff;case $t._8vb:return!this._aboveStaff;case $t._15mb:return!this._aboveStaff}return!1}createNewGlyph(e,r){return new Lae(r.ottava,this._aboveStaff)}canExpand(e,r){return e.ottava===r.ottava}}class yw extends Zc{get notationElement(){return it.EffectPalmMute}shouldCreateGlyphForNote(e){return e.isPalmMute}get sizingMode(){return Lt.GroupedOnBeat}createNewGlyph(e,r){return new Xo("P.M.")}constructor(){super()}}class bw extends Zc{get notationElement(){return it.EffectPickSlide}shouldCreateGlyphForNote(e){return e.slideOutType===ft.PickSlideDown||e.slideOutType===ft.PickSlideUp}get sizingMode(){return Lt.GroupedOnBeat}createNewGlyph(e,r){return new Xo("P.S.")}constructor(){super()}}class sp extends $r{constructor(e,r,n){super(e,r,bt.GraceScale,sp.getSymbol(n))}doLayout(){this.width=9*this.scale,this.height=13*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}static getSymbol(e){switch(e){case Fn.Up:return P.StringsUpBow;case Fn.Down:return P.StringsDownBow;default:return P.None}}}class vw extends Bn{get notationElement(){return it.EffectPickStroke}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.pickStroke!==Fn.None}createNewGlyph(e,r){return new sp(0,0,r.pickStroke)}canExpand(e,r){return!0}}class LA extends jp{constructor(e){super(kt.EndBeat),this._stepSize=0,this._type=e}doLayout(){switch(super.doLayout(),this._type){case At.Slight:this._stepSize=12*this.scale;break;case At.Wide:this._stepSize=23*this.scale;break}this.height=18*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=Math.max(1,a/this._stepSize);i.beginPath(),i.moveTo(s,r+this.y);for(let l=0;l<o;l++)i.lineTo(s+this._stepSize/2,r+this.y+this.height),i.lineTo(s+this._stepSize,r+this.y),s+=this._stepSize;i.stroke()}}class Wm extends Bn{get notationElement(){return it.EffectSlightBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===At.Slight}createNewGlyph(e,r){return new LA(At.Slight)}canExpand(e,r){return!0}}class Wc extends jp{constructor(e,r,n,i=1.2,s=!1){super(kt.EndBeat),this._scale=0,this._symbol=P.None,this._symbolSize=0,this._type=n,this._scale=i,this.x=e,this.y=r,this._partialWaves=s}doLayout(){super.doLayout();let e=0;switch(this._type){case At.Slight:this._symbol=P.WiggleTrill,this._symbolSize=9*this._scale,e=6*this._scale;break;case At.Wide:this._symbol=P.WiggleVibratoMediumFast,this._symbolSize=10*this._scale,e=10*this._scale;break}this.height=e*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=this._symbolSize*this.scale,l=a/o;this._partialWaves||(l=Math.floor(l)),l<1&&(l=1);let c=0;for(let u=0;u<l;u++)i.fillMusicFontSymbol(e+this.x+c,r+this.y+this.height*2,this._scale*this.scale,this._symbol,!1),c+=o}}class Hm extends Zc{get notationElement(){return it.EffectSlightNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===At.Slight||e.isTieDestination&&e.tieOrigin.vibrato===At.Slight}get sizingMode(){return Lt.GroupedOnBeatToEnd}createNewGlyph(e,r){return new Wc(0,0,At.Slight,1.2)}constructor(){super()}}class VN extends Bn{get notationElement(){return it.EffectTap}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return r.slap||r.pop||r.tap}createNewGlyph(e,r){let n=e.resources;return r.slap?new qn(0,0,"S",n.effectFont,et.Left):r.pop?new qn(0,0,"P",n.effectFont,et.Left):new qn(0,0,"T",n.effectFont,et.Left)}canExpand(e,r){return!0}}class Iae extends Ra{constructor(e,r,n){super(e,r),this._tempo=0,this._tempo=n}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont,n.fillMusicFontSymbol(e+this.x,r+this.y+this.height*.8,this.scale*bt.GraceScale,P.NoteQuarterUp,!1),n.fillText("= "+this._tempo.toString(),e+this.x+this.height/2,r+this.y+n.font.size/2)}}class ww extends Bn{get notationElement(){return it.EffectTempo}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Lt.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&(!!r.voice.bar.masterBar.tempoAutomation||r.voice.bar.index===0)}createNewGlyph(e,r){let n=0;return r.voice.bar.masterBar.tempoAutomation?n=r.voice.bar.masterBar.tempoAutomation.value:n=r.voice.bar.staff.track.score.tempo,new Iae(0,0,n)}canExpand(e,r){return!0}}class xw extends Bn{get notationElement(){return it.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.text}createNewGlyph(e,r){return new qn(0,0,r.text,e.resources.effectFont,et.Left)}canExpand(e,r){return!0}}class Fae extends Ra{constructor(e,r){super(e,r)}doLayout(){super.doLayout(),this.height=this.renderer.resources.markerFont.size*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont;let s=n.measureText("tr");n.fillText("tr",e+this.x,r+this.y);let a=s+3*this.scale,o=this.width-a,l=1.2,c=11*this.scale*l,u=Math.max(1,(o-a)/c),d=a,h=r+this.y+this.height*1.2;for(let p=0;p<u;p++)n.fillMusicFontSymbol(e+this.x+d,h,l,P.WiggleTrill,!1),d+=c}}class Um extends Zc{get notationElement(){return it.EffectTrill}shouldCreateGlyphForNote(e){return e.isTrill}get sizingMode(){return Lt.SingleOnBeat}createNewGlyph(e,r){return new Fae(0,0)}}var xr;(function(t){t[t.Full=0]="Full",t[t.PartialLeft=1]="PartialLeft",t[t.PartialRight=2]="PartialRight"})(xr||(xr={}));class Xt extends Ra{constructor(e){super(0,0),this._tripletFeel=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){e+=this.x,r+=this.y;let i=r+this.height*bt.GraceScale;n.font=this.renderer.resources.effectFont,n.fillText("(",e,r+this.height*.3);let s=e+10*this.scale,a=e+40*this.scale;switch(this._tripletFeel){case vt.NoTripletFeel:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full]);break;case vt.Triplet8th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full]),n.fillMusicFontSymbol(a,i,Xt.NoteScale,P.NoteQuarterUp,!1),n.fillMusicFontSymbol(a+Xt.NoteSeparation*this.scale,i,Xt.NoteScale,P.NoteEighthUp,!1),this.renderTriplet(a,r,n);break;case vt.Triplet16th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full,xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full,xr.PartialRight]),this.renderTriplet(a,r,n);break;case vt.Dotted8th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full,xr.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case vt.Dotted16th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full,xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full,xr.Full,xr.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case vt.Scottish8th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full,xr.PartialLeft]),n.fillCircle(a+Xt.NoteSeparation*this.scale+8*this.scale,i,this.scale);break;case vt.Scottish16th:this.renderBarNote(s,i,Xt.NoteScale,n,[xr.Full,xr.Full]),this.renderBarNote(a,i,Xt.NoteScale,n,[xr.Full,xr.Full,xr.PartialLeft]),n.fillCircle(a+Xt.NoteSeparation*this.scale+8*this.scale,i,this.scale);break}n.fillText("=",e+30*this.scale,r+5*this.scale),n.fillText(")",e+65*this.scale,r+this.height*.3)}renderBarNote(e,r,n,i,s){i.fillMusicFontSymbol(e,r,n,P.NoteQuarterUp,!1);let a=Xt.NoteSeparation/2*this.scale;for(let o=0;o<s.length;o++)switch(s[o]){case xr.Full:i.fillRect(e+4*this.scale,r-Xt.NoteHeight*this.scale+Xt.BarSeparation*this.scale*o,Xt.NoteSeparation*this.scale,Xt.BarHeight*this.scale);break;case xr.PartialLeft:i.fillRect(e+4*this.scale,r-Xt.NoteHeight*this.scale+Xt.BarSeparation*this.scale*o,a,Xt.BarHeight*this.scale);break;case xr.PartialRight:i.fillRect(e+4*this.scale+a,r-Xt.NoteHeight*this.scale+Xt.BarSeparation*this.scale*o,a,Xt.BarHeight*this.scale);break}i.fillMusicFontSymbol(e+Xt.NoteSeparation*this.scale,r,n,P.NoteQuarterUp,!1)}renderTriplet(e,r,n){r+=2*this.scale;let i=this.renderer.resources.effectFont;n.font=Ft.withFamilyList(i.families,i.size*.8,i.style);let s=e+Xt.NoteSeparation*this.scale+3*this.scale;n.beginPath(),n.moveTo(e,r+3*this.scale),n.lineTo(e,r),n.lineTo(e+5*this.scale,r),n.moveTo(s+5*this.scale,r+3*this.scale),n.lineTo(s+5*this.scale,r),n.lineTo(s,r),n.stroke(),n.fillText("3",e+7*this.scale,r-10*this.scale),n.font=i}}Xt.NoteScale=.4;Xt.NoteHeight=12;Xt.NoteSeparation=12;Xt.BarHeight=2;Xt.BarSeparation=3;class Sw extends Bn{get notationElement(){return it.EffectTripletFeel}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return Lt.SinglePreBeat}shouldCreateGlyph(e,r){return r.index===0&&(r.voice.bar.masterBar.index===0&&r.voice.bar.masterBar.tripletFeel!==vt.NoTripletFeel||r.voice.bar.masterBar.index>0&&r.voice.bar.masterBar.tripletFeel!==r.voice.bar.masterBar.previousMasterBar.tripletFeel)}createNewGlyph(e,r){return new Xt(r.voice.bar.masterBar.tripletFeel)}canExpand(e,r){return!0}}class zN extends Bn{get notationElement(){return it.EffectWhammyBar}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return Lt.GroupedOnBeat}shouldCreateGlyph(e,r){return r.hasWhammyBar}createNewGlyph(e,r){return new Xo("w/bar")}canExpand(e,r){return!0}}class Gm extends Bn{get notationElement(){return it.EffectWideBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return Lt.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===At.Wide}createNewGlyph(e,r){return new LA(At.Wide)}canExpand(e,r){return!0}}class jm extends Zc{get notationElement(){return it.EffectWideNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===At.Wide||e.isTieDestination&&e.tieOrigin.vibrato===At.Wide}get sizingMode(){return Lt.GroupedOnBeatToEnd}createNewGlyph(e,r){return new Wc(0,0,At.Wide,1.2)}}class WN{constructor(){this.x=0,this.width=0,this.masterBars=[]}}class Yp extends DA{get name(){return"HorizontalScreen"}constructor(e){super(e),this._group=null,this._pagePadding=null}get supportsResize(){return!1}get firstBarX(){let e=this._pagePadding[0];return this._group&&(e+=this._group.accoladeSpacing),e}doResize(){}doLayoutAndRender(){switch(this._pagePadding=this.renderer.settings.display.padding,this.renderer.settings.display.systemsLayoutMode){case Al.Automatic:this.systemsLayoutMode=Wi.Automatic;break;case Al.UseModelLayout:this.systemsLayoutMode=Wi.FromModelWithWidths;break}this._pagePadding||(this._pagePadding=Yp.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r));let n=r,i=this.renderer.settings.display.barCount;i<=0&&(i=e.masterBars.length),i=r+i-1,i=Math.min(e.masterBars.length-1,Math.max(0,i)),this._group=this.createEmptyStaveGroup(),this._group.isLast=!0,this._group.x=this._pagePadding[0],this._group.y=this._pagePadding[1];let s=this.renderer.settings.display.barCountPerPartial,a=[],o=new WN,l=0;for(;n<=i;){let u=this._group.addBars(this.renderer.tracks,n);if(u)if(o.masterBars.length===0&&u.isLinkedToPrevious&&a.length>0){let d=a[a.length-1];d.masterBars.push(e.masterBars[n]),d.width+=u.width,l+=u.width,o.x+=l}else o.masterBars.push(e.masterBars[n]),o.width+=u.width,o.masterBars.length>=s&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),l+=o.width,a.push(o),ve.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null),o=new WN,o.x=l);n++}o.masterBars.length>0&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),a.push(o),ve.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null)),this.finalizeGroup(),this.height=Math.floor(this._group.y+this._group.height),this.width=this._group.x+this._group.width+this._pagePadding[2],n=0;let c=0;for(let u=0;u<a.length;u++){const d=a[u],h=new gc;h.x=c,h.y=0,h.totalWidth=this.width,h.totalHeight=this.height,h.width=d.width,h.height=this.height,h.firstMasterBarIndex=d.masterBars[0].index,h.lastMasterBarIndex=d.masterBars[d.masterBars.length-1].index,c+=d.width;const p=n,f=u;this._group.buildBoundingsLookup(this._group.x,this._group.y),this.registerPartial(h,m=>{let g=this._group.getBarX(d.masterBars[0].index)+this._group.accoladeSpacing;f===0&&(g-=this._group.x+this._group.accoladeSpacing),m.color=this.renderer.settings.display.resources.mainGlyphColor,m.textAlign=et.Left,ve.debug(this.name,"Rendering partial from bar "+d.masterBars[0].index+" to "+d.masterBars[d.masterBars.length-1].index,null),this._group.paintPartial(-g,this._group.y,m,p,d.masterBars.length)}),n+=d.masterBars.length}this.height=this.layoutAndRenderAnnotation(this.height)+this._pagePadding[3]}finalizeGroup(){this._group.scaleToWidth(this._group.width),this._group.finalizeGroup()}}Yp.PagePadding=[20,20,20,20];Yp.GroupSpacing=20;class Xp extends DA{get name(){return"PageView"}constructor(e){super(e),this._groups=[],this._allMasterBarRenderers=[],this._barsFromPreviousGroup=[],this._pagePadding=null}doLayoutAndRender(){switch(this.renderer.settings.display.systemsLayoutMode){case Al.Automatic:this.systemsLayoutMode=Wi.Automatic;break;case Al.UseModelLayout:this.systemsLayoutMode=Wi.FromModelWithScale;break}this._pagePadding=this.renderer.settings.display.padding,this._pagePadding||(this._pagePadding=Xp.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=0;this.width=this.renderer.width,this._allMasterBarRenderers=[],e=this.layoutAndRenderScoreInfo(e,-1),e=this.layoutAndRenderTunings(e,-1),e=this.layoutAndRenderChordDiagrams(e,-1),e=this.layoutAndRenderScore(e),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}get supportsResize(){return!0}get firstBarX(){let e=this._pagePadding[0];return this._groups.length>0&&(e+=this._groups[0].accoladeSpacing),e}doResize(){let e=0;this.width=this.renderer.width;let r=this.height;e=this.layoutAndRenderScoreInfo(e,r),e=this.layoutAndRenderTunings(e,r),e=this.layoutAndRenderChordDiagrams(e,r),e=this.resizeAndRenderScore(e,r),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}layoutAndRenderTunings(e,r=-1){if(!this.tuningGlyph)return e;let n=this.renderer.settings.display.resources;this.tuningGlyph.x=this._pagePadding[0],this.tuningGlyph.width=this.width,this.tuningGlyph.doLayout();let i=this.tuningGlyph.height+11*this.scale;const s=new gc;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+s.height:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=et.Center,this.tuningGlyph.paint(0,0,a)}),e+i}layoutAndRenderChordDiagrams(e,r=-1){if(!this.chordDiagrams)return e;const n=this.renderer.settings.display.resources;this.chordDiagrams.width=this.width,this.chordDiagrams.doLayout();const i=Math.floor(this.chordDiagrams.height),s=new gc;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+i:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=et.Center,this.chordDiagrams.paint(0,0,a)}),e+i}layoutAndRenderScoreInfo(e,r=-1){ve.debug(this.name,"Layouting score info");const n=new gc;n.x=0,n.y=e;let i=this._pagePadding[1],s=this.scale,a=this.renderer.settings.display.resources,o=[it.ScoreTitle,it.ScoreSubTitle,it.ScoreArtist,it.ScoreAlbum,it.ScoreWordsAndMusic];for(let u=0;u<o.length;u++)if(this.scoreInfoGlyphs.has(o[u])){let d=this.scoreInfoGlyphs.get(o[u]);d.x=this.width/2,d.y=i,d.textAlign=et.Center,i+=d.font.size*s}let l=!1,c=0;if(this.scoreInfoGlyphs.has(it.ScoreMusic)){let u=this.scoreInfoGlyphs.get(it.ScoreMusic);u.x=this.width-this._pagePadding[2],u.y=i,u.textAlign=et.Right,l=!0,c=u.font.size*s}if(this.scoreInfoGlyphs.has(it.ScoreWords)){let u=this.scoreInfoGlyphs.get(it.ScoreWords);u.x=this._pagePadding[0],u.y=i,u.textAlign=et.Left,l=!0,c=u.font.size*s}return l&&(i+=c),i=Math.floor(i+17*this.scale),n.width=this.width,n.height=i,n.totalWidth=this.width,n.totalHeight=r<0?e+n.height:r,this.registerPartial(n,u=>{u.color=a.scoreInfoColor,u.textAlign=et.Center;for(const d of this.scoreInfoGlyphs.values())d.paint(0,0,u)}),e+i}resizeAndRenderScore(e,r){if(this.renderer.settings.display.barsPerRow>0||this.systemsLayoutMode==Wi.FromModelWithScale)for(let i=0;i<this._groups.length;i++){let s=this._groups[i];this.fitGroup(s),e+=this.paintGroup(s,r)}else{this._groups=[];let i=0,s=this.maxWidth,a=this.createEmptyStaveGroup();for(a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e;i<this._allMasterBarRenderers.length;){let o=this._allMasterBarRenderers[i];if(a.width+o.width<=s||a.masterBarsRenderers.length===0)a.addMasterBarRenderers(this.renderer.tracks,o),i++;else{for(;o&&!o.canWrap&&a.masterBarsRenderers.length>1;)o=a.revertLastBar(),i--;a.isFull=!0,a.isLast=this.lastBarIndex===a.lastBarIndex,this._groups.push(a),this.fitGroup(a),e+=this.paintGroup(a,r),a=this.createEmptyStaveGroup(),a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e}}a.isLast=this.lastBarIndex===a.lastBarIndex,this.fitGroup(a),e+=this.paintGroup(a,r)}return e}layoutAndRenderScore(e){let n=this.firstBarIndex,i=this.lastBarIndex;for(this._groups=[];n<=i;){let s=this.createStaveGroup(n,i);this._groups.push(s),s.x=this._pagePadding[0],s.y=e,n=s.lastBarIndex+1,this.fitGroup(s),ve.debug(this.name,"Rendering partial from bar "+s.firstBarIndex+" to "+s.lastBarIndex,null),e+=this.paintGroup(s,e)}return e}paintGroup(e,r){let n=Math.floor(e.height+20*this.scale);const i=new gc;return i.x=0,i.y=e.y,i.totalWidth=this.width,i.totalHeight=r,i.width=this.width,i.height=n,i.firstMasterBarIndex=e.firstBarIndex,i.lastMasterBarIndex=e.lastBarIndex,e.buildBoundingsLookup(0,0),this.registerPartial(i,s=>{this.renderer.canvas.color=this.renderer.settings.display.resources.mainGlyphColor,this.renderer.canvas.textAlign=et.Left,e.paint(0,-i.y,s)}),r+=n,n}fitGroup(e){e.isFull||e.width>this.maxWidth||this.renderer.settings.display.justifyLastSystem?e.scaleToWidth(this.maxWidth):e.scaleToWidth(e.width),e.finalizeGroup()}getBarsPerRow(e){let r=this.renderer.settings.display.barsPerRow;if(this.systemsLayoutMode==Wi.FromModelWithScale){let n,i;this.renderer.tracks.length>1?(n=this.renderer.score.defaultSystemsLayout,i=this.renderer.score.systemsLayout):(n=this.renderer.tracks[0].defaultSystemsLayout,i=this.renderer.tracks[0].systemsLayout),r=e<i.length?i[e]:n}return r}createStaveGroup(e,r){let n=this.createEmptyStaveGroup();n.index=this._groups.length;let i=this.getBarsPerRow(n.index),s=this.maxWidth,a=r+1,o=e;for(;o<a;){if(this._barsFromPreviousGroup.length>0)for(let c of this._barsFromPreviousGroup)n.addMasterBarRenderers(this.renderer.tracks,c),o=c.masterBar.index;else{let c=n.addBars(this.renderer.tracks,o);c&&this._allMasterBarRenderers.push(c)}this._barsFromPreviousGroup=[];let l=!1;if((i===-1&&n.width>=s&&n.masterBarsRenderers.length!==0||n.masterBarsRenderers.length===i+1)&&(l=!0),l){let c=n.revertLastBar();if(c)for(this._barsFromPreviousGroup.push(c);c&&!c.canWrap&&n.masterBarsRenderers.length>1;)c=n.revertLastBar(),c&&this._barsFromPreviousGroup.push(c);return n.isFull=!0,n.isLast=!1,this._barsFromPreviousGroup.reverse(),n}n.x=0,o++}return n.isLast=r===n.lastBarIndex,n}get maxWidth(){return this.renderer.width-this._pagePadding[0]-this._pagePadding[2]}}Xp.PagePadding=[40,40,40,40];Xp.GroupSpacing=20;class Bl extends $r{constructor(e,r,n,i=!1){super(e,r,i?bt.GraceScale:1,Bl.getMusicSymbol(n)),this._isGrace=i,this._accidentalType=n}static getMusicSymbol(e){switch(e){case jt.Natural:return P.AccidentalNatural;case jt.Sharp:return P.AccidentalSharp;case jt.Flat:return P.AccidentalFlat;case jt.NaturalQuarterNoteUp:return P.AccidentalQuarterToneNaturalArrowUp;case jt.SharpQuarterNoteUp:return P.AccidentalQuarterToneSharpArrowUp;case jt.FlatQuarterNoteUp:return P.AccidentalQuarterToneFlatArrowUp;case jt.DoubleSharp:return P.AccidentalDoubleSharp;case jt.DoubleFlat:return P.AccidentalDoubleFlat}return P.None}doLayout(){switch(this._accidentalType){case jt.DoubleFlat:this.width=18;break;default:this.width=8;break}this.width=this.width*(this._isGrace?bt.GraceScale:1)*this.scale}}class IA extends Wr{constructor(e,r,n){super(e,r),this._number=0,this._number=n}doLayout(){this.renderer.scoreRenderer.canvas.font=this.renderer.resources.barNumberFont,this.width=this.renderer.scoreRenderer.canvas.measureText(this._number.toString())+5*this.scale}paint(e,r,n){if(!this.renderer.staff.isFirstInAccolade)return;let i=this.renderer.resources,s=n.color;n.color=i.barNumberColor,n.font=i.barNumberFont,n.fillText(this._number.toString(),e+this.x,r+this.y),n.color=s}}class FA extends Wr{constructor(e,r){super(e,r)}doLayout(){this.renderer.isLast?this.width=15*this.scale:!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart?(this.width=2*this.scale,this.renderer.bar.masterBar.isDoubleBar&&(this.width+=2*this.scale)):this.width=2*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s;this.renderer.isLast?(n.fillRect(o+this.width-i-i,s,this.scale,l),n.fillRect(o+this.width-i,s,i,l)):(!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart)&&(n.fillRect(o+this.width-this.scale,s,this.scale,l),this.renderer.bar.masterBar.isDoubleBar&&n.fillRect(o+this.width-5*this.scale,s,this.scale,l))}}class EC extends $r{constructor(e,r,n,i){super(e,r,1,EC.getSymbol(n)),this._clef=n,this._clefOttava=i}doLayout(){switch(this._clef){case ct.Neutral:this.width=15*this.scale;break;case ct.C3:case ct.C4:case ct.F4:case ct.G2:this.width=28*this.scale;break}}static getSymbol(e){switch(e){case ct.Neutral:return P.UnpitchedPercussionClef1;case ct.C3:return P.CClef;case ct.C4:return P.CClef;case ct.F4:return P.FClef;case ct.G2:return P.GClef;default:return P.None}}paint(e,r,n){super.paint(e,r,n);let i,s=!1;switch(this._clefOttava){case $t._15ma:i=new $r(-4*this.scale,0,.5,P.Quindicesima),s=!0;break;case $t._8va:i=new $r(-2*this.scale,0,.5,P.Ottava),s=!0;break;case $t._8vb:i=new $r(-6*this.scale,0,.5,P.Ottava);break;case $t._15mb:i=new $r(-8*this.scale,0,.5,P.Quindicesima);break;default:return}let a=0,o=0;switch(this._clef){case ct.Neutral:a=s?-12:15,o=0;break;case ct.C3:a=s?-19:27,o=0;break;case ct.C4:a=s?-19:27,o=0;break;case ct.F4:a=s?-9:27,o=-4;break;case ct.G2:a=s?-37:30,o=0;break;default:return}i.renderer=this.renderer,i.doLayout();let l=this.width/2;i.paint(e+this.x+l+o*this.scale,r+this.y+a*this.scale,n)}}class AA extends Wr{constructor(e,r){super(e,r)}doLayout(){this.width=11*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s,c=1.5*this.scale,u=(s+a)/2,d=3;n.fillCircle(o,u-c*d,c),n.fillCircle(o,u+c*d,c),o+=4*this.scale,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale+.5,n.fillRect(o,s,i,l)}}class OA extends Wr{constructor(e,r,n){super(e,r),this._count=0,this._count=0,this._count=n}doLayout(){this.width=0}paint(e,r,n){let i=this.renderer.resources,s=n.textAlign;n.font=i.barNumberFont,n.textAlign=et.Right;let a="x"+this._count,o=n.measureText(a)/1.5;n.fillText(a,e+this.x-o,r+this.y),n.textAlign=s}}class $A extends Wr{constructor(e,r,n,i){super(e,r),this._dotOffset=0,this._circleSize=0,this._dotOffset=0,this._circleSize=0,this._dotOffset=i,this._circleSize=n}doLayout(){this.width=13*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x+.5,l=a-s;n.fillRect(o,s,i,l),o+=i*2-.5,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale;let c=this._circleSize*this.scale,u=(s+a)/2;n.fillCircle(o,u-c*this._dotOffset,c),n.fillCircle(o,u+c*this._dotOffset,c)}}class Dy extends $r{constructor(e,r,n){super(e,r,1,Dy.getSymbol(n))}static getSymbol(e){switch(e){case en.None:return P.None;case en.Normal:return P.ArticAccentAbove;case en.Heavy:return P.ArticMarcatoAbove;default:return P.None}}doLayout(){this.width=9*this.scale,this.height=9*this.scale}paint(e,r,n){super.paint(e-2*this.scale,r+this.height,n)}}class IS extends Wr{constructor(e,r,n){super(e,r),this._size=0,this._size=n}doLayout(){this.width=this._size+3*this.scale}paint(e,r,n){n.fillCircle(e+this.x,r+this.y,this._size)}}class Aae extends $r{constructor(e,r,n){super(e,r,n?bt.GraceScale:1,P.NoteheadXOrnate),this._isGrace=n}doLayout(){this.width=9*(this._isGrace?bt.GraceScale:1)*this.scale,this.height=bt.NoteHeadHeight*this.scale}}class Ly extends $r{constructor(e,r,n,i){super(e,r,i?bt.GraceScale:1,Ly.getSymbol(n)),this._isGrace=i}static getSymbol(e){switch(e){case H.QuadrupleWhole:case H.DoubleWhole:case H.Whole:case H.Half:return P.NoteheadDiamondWhiteWide;default:return P.NoteheadDiamondBlackWide}}doLayout(){this.width=9*(this._isGrace?bt.GraceScale:1)*this.scale,this.height=bt.NoteHeadHeight*this.scale}}class xn extends Wr{constructor(e,r,n){super(0,0),this.yOffset=0,this.startNoteRenderer=null,this.endNoteRenderer=null,this.tieDirection=Pe.Up,this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._tieHeight=0,this._shouldDraw=!1,this.startBeat=e,this.endBeat=r,this.forEnd=n}doLayout(){if(this.width=0,!this.endBeat){this._shouldDraw=!1;return}let e=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar);this.startNoteRenderer=e;let r=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.endBeat.voice.bar);this.endNoteRenderer=r,this._startX=0,this._endX=0,this._startY=0,this._endY=0,this.height=0,this._shouldDraw=!1,this.tieDirection=e?this.getBeamDirection(this.startBeat,e):this.getBeamDirection(this.endBeat,r),!this.forEnd&&e?(e!==r?(this._startX=e.x+this.getStartX(),this._startY=e.y+this.getStartY()+this.yOffset,!r||e.staff!==r.staff?(this._endX=e.x+e.width,this._endY=this._startY):(this._endX=r.x+this.getEndX(),this._endY=r.y+this.getEndY()+this.yOffset)):(this._startX=e.x+this.getStartX(),this._endX=r.x+this.getEndX(),this._startY=e.y+this.getStartY()+this.yOffset,this._endY=r.y+this.getEndY()+this.yOffset),this._shouldDraw=!0):(!e||e.staff!==r.staff)&&(this._startX=r.x,this._endX=r.x+this.getEndX(),this._startY=r.y+this.getEndY()+this.yOffset,this._endY=this._startY,this._shouldDraw=!0),this._shouldDraw&&(this.y=Math.min(this._startY,this._endY),this.shouldDrawBendSlur()?this._tieHeight=0:(this._tieHeight=this.getTieHeight(this._startX,this._startY,this._endX,this._endY),this.height=xn.calculateActualTieHeight(this.renderer.scale,this._startX,this._startY,this._endX,this._endY,this.tieDirection===Pe.Down,this._tieHeight,4).h),this.tieDirection===Pe.Up&&(this.y-=this.height))}paint(e,r,n){this._shouldDraw&&(this.shouldDrawBendSlur()?xn.drawBendSlur(n,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===Pe.Down,this.scale):xn.paintTie(n,this.scale,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===Pe.Down,this._tieHeight,4))}shouldDrawBendSlur(){return!1}getTieHeight(e,r,n,i){return 22}getBeamDirection(e,r){return Pe.Down}getStartY(){return 0}getEndY(){return 0}getStartX(){return 0}getEndX(){return 0}static calculateActualTieHeight(e,r,n,i,s,a,o,l){const c=xn.computeBezierControlPoints(e,r,n,i,s,a,o,l);r=c[0],n=c[1];const u=c[2],d=c[3];i=c[6],s=c[7];const h=(r-u)/(r-2*u+i),p=xn.calculateExtrema(r,n,u,d,i,s,h),f=p.length>0?Math.min(r,i,p[0]):Math.min(r,i),m=p.length>0?Math.max(r,i,p[0]):Math.max(r,i),g=(n-d)/(n-2*d+s),y=xn.calculateExtrema(r,n,u,d,i,s,g),b=y.length>0?Math.min(n,s,y[1]):Math.min(n,s),v=y.length>0?Math.max(n,s,y[1]):Math.max(n,s),k=new Si;return k.x=f,k.y=b,k.w=m-f,k.h=v-b,k}static calculateExtrema(e,r,n,i,s,a,o){if(o<=0||1<=o)return[];const l=e+(n-e)*o,c=r+(i-r)*o,u=n+(s-n)*o,d=i+(a-i)*o;return[l+(u-l)*o,c+(d-c)*o]}static computeBezierControlPoints(e,r,n,i,s,a,o,l){if(r===i&&n===s)return[];if(i<r){let b=r;r=i,i=b,b=n,n=s,s=b}o*=e,l*=e;let c=s-n,u=i-r,d=Math.sqrt(c*c+u*u);a?c*=-1:u*=-1,c/=d,u/=d;let h=(i+r)/2,p=(s+n)/2,f=h+o*c,m=p+o*u,g=h+(o-l)*c,y=p+(o-l)*u;return[r,n,f,m,g,y,i,s]}static paintTie(e,r,n,i,s,a,o=!1,l=22,c=4){const u=xn.computeBezierControlPoints(r,n,i,s,a,o,l,c);e.beginPath(),e.moveTo(u[0],u[1]),e.quadraticCurveTo(u[2],u[3],u[6],u[7]),e.quadraticCurveTo(u[4],u[5],u[0],u[1]),e.closePath(),e.fill()}static drawBendSlur(e,r,n,i,s,a,o,l){let c=s-n,u=i-r,d=Math.sqrt(c*c+u*u);a?c*=-1:u*=-1,c/=d,u/=d;let h=(i+r)/2,p=(s+n)/2,f=xn.BendSlurHeight*o;i-r<20&&(f/=2);let m=h+f*c,g=p+f*u;if(e.beginPath(),e.moveTo(r,n),e.lineTo(m,g),e.lineTo(i,s),e.stroke(),l){let y=e.measureText(l),b=a?0:-e.font.size;e.fillText(l,m-y/2,g+b)}}}xn.BendSlurHeight=11;class $b extends Wr{constructor(e){super(0,0),this._isOpen=e}doLayout(){super.doLayout(),this.width=$b.Size*this.scale}paint(e,r,n){this._isOpen?xn.paintTie(n,this.scale,e+this.x+this.width,r+this.y+this.height,e+this.x+this.width,r+this.y,!1,6,3):xn.paintTie(n,this.scale,e+this.x,r+this.y,e+this.x,r+this.y+this.height,!1,6,3)}}$b.Size=6;class Oae{constructor(e,r){this.line=0,this.line=e,this.isGhost=r}}class Iy extends Wr{constructor(e){super(0,0),this._infos=[],this._glyphs=[],this.isEmpty=!0,this._isOpen=e}addParenthesis(e){let r=this.renderer,n=r.getNoteLine(e),i=e.isGhost||this.isTiedBend(e)&&r.settings.notation.isNotationElementVisible(it.ParenthesisOnTiedBends);this.addParenthesisOnLine(n,i)}addParenthesisOnLine(e,r){let n=new Oae(e,r);this._infos.push(n),r&&(this.isEmpty=!1)}isTiedBend(e){return e.isTieDestination?e.tieOrigin.hasBend?!0:this.isTiedBend(e.tieOrigin):!1}doLayout(){let e=this.renderer;this._infos.sort((i,s)=>i.line-s.line);let r=null,n=e.getScoreHeight(1);for(let i=0,s=this._infos.length;i<s;i++){let a;if(!this._infos[i].isGhost)r=null;else if(!r)a=new $b(this._isOpen),a.renderer=this.renderer,a.y=e.getScoreY(this._infos[i].line)-n,a.height=n*2,a.doLayout(),this._glyphs.push(a),r=a;else{let o=e.getScoreY(this._infos[i].line)+n;r.height=o-r.y}}this.width=this._glyphs.length>0?this._glyphs[0].width:0}paint(e,r,n){super.paint(e,r,n);for(let i of this._glyphs)i.paint(e+this.x,r+this.y,n)}}class $ae{constructor(e,r){this.line=0,this.glyph=e,this.line=r}}class VA extends Wr{constructor(){super(0,0),this._infos=[],this._noteHeadPadding=0,this.minNote=null,this.maxNote=null,this.spacingChanged=new gn,this.upLineX=0,this.downLineX=0,this.displacedX=0,this.noteStartX=0}add(e,r){let n=new $ae(e,r);this._infos.push(n),(!this.minNote||this.minNote.line>n.line)&&(this.minNote=n),(!this.maxNote||this.maxNote.line<n.line)&&(this.maxNote=n)}get hasTopOverflow(){return!!this.minNote&&this.minNote.line<=0}get hasBottomOverflow(){return!!this.maxNote&&this.maxNote.line>8}doLayout(){this._infos.sort((o,l)=>l.line-o.line);let e=0,r=!1,n=0,i=!1,s=this.direction,a=0;for(let o=0,l=this._infos.length;o<l;o++){let c=this._infos[o].glyph;c.renderer=this.renderer,c.doLayout();let u=!1;o===0?e=c.width:Math.abs(n-this._infos[o].line)<=1?r?r=!1:(u=!0,c.x=e,i=!0,r=!0):r=!1,s===Pe.Down?c.x=u?0:e:c.x=u?e:0,c.x+=this.noteStartX,n=this._infos[o].line,a=Math.max(a,c.x+c.width)}i?(this._noteHeadPadding=0,this.upLineX=e,this.downLineX=e):(this._noteHeadPadding=s===Pe.Down?-e:0,a+=this._noteHeadPadding,this.upLineX=a,this.downLineX=0),this.displacedX=e,this.width=a}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer,s=3*this.scale,a=this.width-this.noteStartX+s*2;if(this.hasTopOverflow){let c=n.color;n.color=i.resources.staffLineColor;let u=-2;for(;u>=this.minNote.line;){let d=r+i.getScoreY(u);n.fillRect(e-s+this.noteStartX,d,a,this.scale),u-=2}n.color=c}if(this.hasBottomOverflow){let c=n.color;n.color=i.resources.staffLineColor;let u=10;for(;u<=this.maxNote.line;){let d=r+i.getScoreY(u);n.fillRect(e-s+this.noteStartX,d,a,this.scale),u+=2}n.color=c}let o=this._infos,l=e+this._noteHeadPadding;for(let c of o)c.glyph.renderer=this.renderer,c.glyph.paint(l,r,n)}}class Vb extends $r{constructor(e,r,n){super(e,r,1,Vb.getSymbol(n))}doLayout(){this.width=12*this.scale}static getSymbol(e){switch(e){case H.ThirtySecond:return P.Tremolo3;case H.Sixteenth:return P.Tremolo2;case H.Eighth:return P.Tremolo1;default:return P.None}}}class Vae extends VA{constructor(){super(),this._noteGlyphLookup=new Map,this._notes=[],this._tremoloPicking=null,this.aboveBeatEffects=new Map,this.belowBeatEffects=new Map}get direction(){return this.beamingHelper.direction}getNoteX(e,r){if(this._noteGlyphLookup.has(e.id)){let n=this._noteGlyphLookup.get(e.id),i=this.x+n.x+this._noteHeadPadding;switch(r){case Or.Left:break;case Or.Center:i+=n.width/2;break;case Or.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this._noteGlyphLookup.has(e.id)){const n=this._noteGlyphLookup.get(e.id);let i=this.y+n.y;switch(r){case Xe.TopWithStem:i-=this.renderer.getStemSize(this.beamingHelper);break;case Xe.Top:i-=n.height/2;break;case Xe.Center:break;case Xe.Bottom:i+=n.height/2;break;case Xe.BottomWithStem:i+=this.renderer.getStemSize(this.beamingHelper);break}return i}return 0}addNoteGlyph(e,r,n){super.add(e,n),this._noteGlyphLookup.set(r.id,e),this._notes.push(r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.upLineX,e+this.x+this.downLineX)}doLayout(){super.doLayout();let e=this.direction;for(const r of this.aboveBeatEffects.values())r.renderer=this.renderer,r.doLayout();for(const r of this.belowBeatEffects.values())r.renderer=this.renderer,r.doLayout();if(this.beat.isTremolo){let r=0,n=e===Pe.Up?this.minNote:this.maxNote,i=e===Pe.Up?this.displacedX:0,s=this.beat.tremoloSpeed;switch(s){case H.ThirtySecond:r=e===Pe.Up?-15:15;break;case H.Sixteenth:r=e===Pe.Up?-12:15;break;case H.Eighth:r=e===Pe.Up?-10:10;break;default:r=e===Pe.Up?-10:15;break}this._tremoloPicking=new Vb(i,n.glyph.y+r*this.scale,s),this._tremoloPicking.renderer=this.renderer,this._tremoloPicking.doLayout()}}buildBoundingsLookup(e,r,n){for(let i of this._notes)if(this._noteGlyphLookup.has(i.id)){let s=this._noteGlyphLookup.get(i.id),a=new CC;a.note=i,a.noteHeadBounds=new Si,a.noteHeadBounds.x=r+this.x+this._noteHeadPadding+s.x,a.noteHeadBounds.y=n+this.y+s.y-s.height/2,a.noteHeadBounds.w=s.width,a.noteHeadBounds.h=s.height,e.addNote(a)}}paint(e,r,n){let i=this.renderer,s=0,a=0,o=1,l=-o;this.beamingHelper.direction===Pe.Up?(a=i.getScoreY(this.minNote.line),s=i.getScoreY(this.maxNote.line-2)):(a=i.getScoreY(this.maxNote.line-1),s=i.getScoreY(this.minNote.line+1),l*=-1,o*=-1);for(const c of this.aboveBeatEffects.values())s+=l*c.height,c.paint(e+this.x+2*this.scale,r+this.y+s,n);for(const c of this.belowBeatEffects.values())a+=o*c.height,c.paint(e+this.x+2*this.scale,r+this.y+a,n);super.paint(e,r,n),this._tremoloPicking&&this._tremoloPicking.paint(e,r,n)}}class Sd extends $r{constructor(e,r,n){super(e,r,1,Sd.getSymbol(n)),this._duration=n}static getSymbol(e){switch(e){case H.QuadrupleWhole:return P.RestLonga;case H.DoubleWhole:return P.RestDoubleWhole;case H.Whole:return P.RestWhole;case H.Half:return P.RestHalf;case H.Quarter:return P.RestQuarter;case H.Eighth:return P.RestEighth;case H.Sixteenth:return P.RestSixteenth;case H.ThirtySecond:return P.RestThirtySecond;case H.SixtyFourth:return P.RestSixtyFourth;case H.OneHundredTwentyEighth:return P.RestOneHundredTwentyEighth;case H.TwoHundredFiftySixth:return P.RestTwoHundredFiftySixth;default:return P.None}}static getSize(e){switch(e){case H.QuadrupleWhole:case H.DoubleWhole:case H.Whole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:return 9;case H.ThirtySecond:return 12;case H.SixtyFourth:return 14;case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:return 20}return 10}doLayout(){this.width=Sd.getSize(this._duration)*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class HN{constructor(){this.x=0,this.y=-3e3,this.width=0}}class zA extends Ea{constructor(){super(0,0)}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}this.glyphs.sort((n,i)=>n.y<i.y?-1:n.y>i.y?1:0);let e=[];e.push(new HN);let r=21*this.scale;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.renderer=this.renderer,s.doLayout();let a=0;for(;e[a].y>s.y;)a++,a===e.length&&e.push(new HN);s.x=a,e[a].y=s.y+r,e[a].width<s.width&&(e[a].width=s.width)}this.width=0;for(const n of e)this.width+=n.width,n.x=this.width;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];const a=e[s.x];s.x=this.width-a.x}}}class ki extends VA{get direction(){return Pe.Up}constructor(e,r=!1){super(),this._showParenthesis=!1,this._noteValueLookup=new Map,this._accidentals=new zA,this._preNoteParenthesis=null,this._postNoteParenthesis=null,this.isEmpty=!0,this.noteHeadOffset=0,this._beat=e,this._showParenthesis=r,r&&(this._preNoteParenthesis=new Iy(!0),this._postNoteParenthesis=new Iy(!1))}containsNoteValue(e){return this._noteValueLookup.has(e)}getNoteValueY(e){return this._noteValueLookup.has(e)?this.y+this._noteValueLookup.get(e).y:0}addGlyph(e,r=!1){let n=this.renderer,i=new bt(0,0,H.Quarter,!0),s=n.accidentalHelper.applyAccidentalForValue(this._beat,e,r,!0),a=n.accidentalHelper.getNoteLineForValue(e,!1);if(i.y=n.getScoreY(a),this._showParenthesis&&(this._preNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.addParenthesisOnLine(a,!0),this._postNoteParenthesis.addParenthesisOnLine(a,!0)),s!==jt.None){let o=new Bl(0,i.y,s,!0);o.renderer=this.renderer,this._accidentals.renderer=this.renderer,this._accidentals.addGlyph(o)}this._noteValueLookup.set(e,i),this.add(i,a),this.isEmpty=!1}doLayout(){let e=0;this._showParenthesis&&(this._preNoteParenthesis.x=e,this._preNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.doLayout(),e+=this._preNoteParenthesis.width+ki.ElementPadding*this.scale),this._accidentals.isEmpty||(e+=this._accidentals.width+ki.ElementPadding*this.scale,this._accidentals.x=e,this._accidentals.renderer=this.renderer,this._accidentals.doLayout(),e+=this._accidentals.width+ki.ElementPadding*this.scale),this.noteStartX=e,super.doLayout(),this.noteHeadOffset=this.noteStartX+(this.width-this.noteStartX)/2,this._showParenthesis&&(this._postNoteParenthesis.x=this.width+ki.ElementPadding*this.scale,this._postNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.doLayout(),this.width+=this._postNoteParenthesis.width+ki.ElementPadding*this.scale)}paint(e,r,n){this._accidentals.isEmpty||this._accidentals.paint(e+this.x,r+this.y,n),this._showParenthesis&&(this._preNoteParenthesis.paint(e+this.x,r+this.y,n),this._postNoteParenthesis.paint(e+this.x,r+this.y,n)),super.paint(e,r,n)}}ki.ElementPadding=2;class RC extends Wr{constructor(){super(...arguments),this.BendNoteHeads=[]}drawBendSlur(e,r,n,i,s,a,o,l){xn.drawBendSlur(e,r,n,i,s,a,o,l)}doLayout(){super.doLayout(),this.width=0;for(let e of this.BendNoteHeads)e.doLayout(),this.width+=e.width+10*this.scale}getTieDirection(e,r){switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}}RC.EndPadding=(10/2|0)+3;class sl extends Le{constructor(e=0,r=0){super(e,r),this.lineValue=0,this.lineValue=r}}class Ms extends Wr{constructor(){super(0,0),this._notes=[],this._renderPoints=new Map,this._preBendMinValue=-1,this._bendMiddleMinValue=-1,this._bendEndMinValue=-1,this._bendEndContinuedMinValue=-1,this._releaseMinValue=-1,this._releaseContinuedMinValue=-1,this._maxBendValue=-1}addBends(e){this._notes.push(e);let r=this.createRenderingPoints(e);this._renderPoints.set(e.id,r),(this._maxBendValue===-1||this._maxBendValue<e.maxBendPoint.value)&&(this._maxBendValue=e.maxBendPoint.value);let n=0;switch(e.bendType){case Ue.Bend:n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case Ue.Release:n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case Ue.BendRelease:n=r[1].value,(this._bendMiddleMinValue===-1||n<this._bendMiddleMinValue)&&(this._bendMiddleMinValue=n),n=r[2].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case Ue.Prebend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n);break;case Ue.PrebendBend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case Ue.PrebendRelease:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break}}doLayout(){super.doLayout();let e=this._maxBendValue*Ms.BendValueHeight*this.scale;this.renderer.registerOverflowTop(e);let r=0;for(let n of this._notes){let i=this._renderPoints.get(n.id);switch(n.bendType){case Ue.Bend:i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case Ue.Release:r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break;case Ue.BendRelease:i[1].lineValue=this._bendMiddleMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[2].lineValue=r);break;case Ue.Prebend:i[0].lineValue=this._preBendMinValue;break;case Ue.PrebendBend:i[0].lineValue=this._preBendMinValue,i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case Ue.PrebendRelease:i[0].lineValue=this._preBendMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break}}this.width=0,this._notes.sort((n,i)=>n.isStringed?n.string-i.string:n.realValue-i.realValue)}createRenderingPoints(e){let r=[];switch(e.bendType){case Ue.Custom:for(let n of e.bendPoints)r.push(new sl(n.offset,n.value));break;case Ue.BendRelease:r.push(new sl(0,e.bendPoints[0].value)),r.push(new sl(Le.MaxPosition/2|0,e.bendPoints[1].value)),r.push(new sl(Le.MaxPosition,e.bendPoints[3].value));break;case Ue.Bend:case Ue.Hold:case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:case Ue.Release:r.push(new sl(0,e.bendPoints[0].value)),r.push(new sl(Le.MaxPosition,e.bendPoints[1].value));break}return r}paint(e,r,n){let i=n.color;this._notes.length>1&&(n.color=this.renderer.resources.secondaryGlyphColor);for(let s of this._notes){let a=this._renderPoints.get(s.id),o=this.renderer,l=s,c=!1,u=null,d=!1,h=s.bendStyle===Qt.Gradual?"grad.":"",p=null;for(;l.isTieOrigin;){let v=l.tieDestination;if(u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,v.beat.voice.bar),!u||o.staff!==u.staff)break;if(l=v,c=!0,l.hasBend||!this.renderer.settings.notation.extendBendArrowsOnTiedNotes){d=!0;break}}p=l.beat,u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,p.voice.bar),p.isLastOfVoice&&!l.hasBend&&this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&(p=null);let f=0,m=0,g=r+o.y;f=e+o.x,a[0].value>0||s.isContinuedBend?f+=o.getBeatX(s.beat,kt.MiddleNotes):f+=o.getNoteX(s,Or.Right),!p||p.isLastOfVoice&&!d?m=e+u.x+u.postBeatGlyphsStart:d||!p.nextBeat?m=e+u.x+u.getBeatX(p,kt.MiddleNotes):s.bendType===Ue.Hold?m=e+u.x+u.getBeatX(p.nextBeat,kt.OnNotes):m=e+u.x+u.getBeatX(p.nextBeat,kt.PreNotes),c||(m-=Ms.ArrowSize*this.scale);let b=(m-f)/Le.MaxPosition;n.beginPath();for(let v=0,k=a.length-1;v<k;v++){let C=a[v],S=a[v+1];v===0&&C.value!==0&&!s.isTieDestination&&this.paintBend(s,new sl(0,0),C,f,g,b,h,n),s.bendType!==Ue.Prebend?(v===0&&(f+=2*this.scale),this.paintBend(s,C,S,f,g,b,h,n)):s.isTieOrigin&&s.tieDestination.hasBend&&(S=new sl(Le.MaxPosition,C.value),S.lineValue=C.lineValue,this.paintBend(s,C,S,f,g,b,h,n))}n.color=i}}paintBend(e,r,n,i,s,a,o,l){let c=this.renderer,u=this.renderer.resources,d=c.lineOffset/2,h=i+a*r.offset,p=Ms.BendValueHeight*this.scale,f=s-p*r.lineValue;r.value===0?n.offset===r.offset?f+=c.getNoteY(e.beat.maxStringNote,Xe.Top):f+=c.getNoteY(e,Xe.Center):f+=d;let m=i+a*n.offset,g=s-p*n.lineValue;n.lineValue===0?g+=c.getNoteY(e,Xe.Center):g+=d;let y=0,b=Ms.ArrowSize*this.scale;if(n.value>r.value?(g+b>f&&(g=f-b),l.beginPath(),l.moveTo(m,g),l.lineTo(m-b*.5,g+b),l.lineTo(m+b*.5,g+b),l.closePath(),l.fill(),y=b):n.value!==r.value&&(g<f&&(g=f+b),l.beginPath(),l.moveTo(m,g),l.lineTo(m-b*.5,g-b),l.lineTo(m+b*.5,g-b),l.closePath(),l.fill(),y=-b),l.stroke(),r.value===n.value){if(r.lineValue>0){let v=m,k=Ms.DashSize*this.scale,C=h+k;if((v-h)/(k*2)<1)l.moveTo(v,f),l.lineTo(h,f);else for(;v>C;)l.moveTo(v,f),l.lineTo(v-k,f),v-=k*2;l.stroke()}}else m>h?(l.moveTo(h,f),l.bezierCurveTo((h+m)/2,f,m,f,m,g+y),l.stroke()):(l.moveTo(h,f),l.lineTo(m,g),l.stroke());if(o&&r.offset<n.offset){l.font=u.graceFont;let v=l.measureText(o),k=0,C=0;if(f>g){let S=Math.abs(f-g);k=S>l.font.size*1.3?f-S/2:f,C=(h+m-v)/2}else k=f,C=m-v;l.fillText(o,C,k)}if(n.value!==0&&r.value!==n.value){let v=n.value,k=n.value>r.value;v=Math.abs(v);let C="";if(v===4)C="full",v-=4;else if(v>=4||v<=-4){let S=v/4|0;C+=S,v-=S*4}if(v>0&&(C+=Ms.getFractionSign(v)),C!==""){g=s-p*n.value;let S=g;k||(S=f+Math.abs(g-f)*1/3),l.font=u.tablatureFont;let _=l.measureText(C),B=S-u.tablatureFont.size*.5-2*this.scale,D=m-_/2;l.fillText(C,D,B)}}}static getFractionSign(e){switch(e){case 1:return"";case 2:return"";case 3:return"";default:return e+"/ 4"}}}Ms.ArrowSize=6;Ms.DashSize=3;Ms.BendValueHeight=6;class rs extends Wr{constructor(e){super(0,0),this._isSimpleDip=!1,this._beat=e,this._renderPoints=this.createRenderingPoints(e)}createRenderingPoints(e){if(e.whammyBarType===Ot.Custom)return e.whammyBarPoints;let r=[];switch(e.whammyBarType){case Ot.Dive:case Ot.Hold:case Ot.PrediveDive:case Ot.Predive:r.push(new Le(0,e.whammyBarPoints[0].value)),r.push(new Le(Le.MaxPosition,e.whammyBarPoints[1].value));break;case Ot.Dip:r.push(new Le(0,e.whammyBarPoints[0].value)),r.push(new Le(Le.MaxPosition/2|0,e.whammyBarPoints[1].value)),r.push(new Le(Le.MaxPosition,e.whammyBarPoints[e.whammyBarPoints.length-1].value));break}return r}doLayout(){super.doLayout(),this._isSimpleDip=this.renderer.settings.notation.notationMode===pn.SongBook&&this._beat.whammyBarType===Ot.Dip;let e=null,r=null,n=this._beat;for(;n&&n.hasWhammyBar;)(!e||e.value>n.minWhammyPoint.value)&&(e=n.minWhammyPoint),(!r||r.value<n.maxWhammyPoint.value)&&(r=n.maxWhammyPoint),n=n.nextBeat;let i=r.value>0?Math.abs(this.getOffset(r.value)):0;(i>0||this._beat.whammyBarPoints[0].value!==0||this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys))&&(i+=this.renderer.resources.tablatureFont.size*2);let s=e.value<0?Math.abs(this.getOffset(e.value)):0;this.renderer.registerOverflowTop(i+s);let a=this.renderer.staff.getSharedLayoutData(rs.TopOffsetSharedDataKey,-1);i>a&&this.renderer.staff.setSharedLayoutData(rs.TopOffsetSharedDataKey,i)}getOffset(e){if(e===0)return 0;let r=rs.PerHalfSize*this.scale+Math.log2(Math.abs(e)/2)*rs.PerHalfSize*this.scale;return e<0&&(r=-r),r}paint(e,r,n){let i=this.renderer,s=this._beat.nextBeat,a=null,o=kt.PreNotes;s&&(a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,s.voice.bar),!a||a.staff!==i.staff||a!==i&&!s.hasWhammyBar?(s=null,a=null):o=s.hasWhammyBar&&(i.settings.notation.notationMode!==pn.SongBook||s.whammyBarType!==Ot.Dip)?kt.MiddleNotes:kt.PreNotes);let l=0,c=0;this._isSimpleDip?(l=e+i.x+i.getBeatX(this._beat,kt.OnNotes)-2*this.scale,c=e+i.x+i.getBeatX(this._beat,kt.PostNotes)+2*this.scale):(l=e+i.x+i.getBeatX(this._beat,kt.MiddleNotes),c=a?e+a.x+a.getBeatX(s,o):e+i.x+i.width-2*this.scale);let u=n.textAlign;if(n.textAlign=et.Center,this._renderPoints.length>=2){let d=(c-l)/Le.MaxPosition;n.beginPath();let h=r+this.renderer.staff.getSharedLayoutData(rs.TopOffsetSharedDataKey,0),p=this._beat.whammyStyle===Qt.Gradual?"grad.":"";for(let f=0,m=this._renderPoints.length-1;f<m;f++){let g=this._renderPoints[f],y=this._renderPoints[f+1],b=f<m-2?this._renderPoints[f+2]:null,v=f===0;f===0&&g.value!==0&&!this._beat.isContinuedWhammy&&(this.paintWhammy(!1,new Le(0,0),g,y,l,h,d,n),v=!1),this.paintWhammy(v,g,y,b,l,h,d,n,p),p=""}n.stroke()}n.textAlign=u}paintWhammy(e,r,n,i,s,a,o,l,c){let u=s+o*r.offset,d=s+o*n.offset,h=a-this.getOffset(r.value),p=a-this.getOffset(n.value);if(r.offset===n.offset){let g=rs.DashSize*this.scale;if(Math.abs(p-h)/(g*2)<1)l.moveTo(u,h),l.lineTo(d,p);else{let b=Math.max(h,p),v=Math.min(h,p);for(;b>v;)l.moveTo(u,v),l.lineTo(u,v+g),v+=g*2}l.stroke()}else if(r.value===n.value){let g=rs.DashSize*this.scale;if(Math.abs(d-u)/(g*2)<1)l.moveTo(u,h),l.lineTo(d,p);else{let b=Math.max(u,d),v=Math.min(u,d);for(;b>v;)l.moveTo(b,h),l.lineTo(b-g,h),b-=g*2}l.stroke()}else l.moveTo(u,h),l.lineTo(d,p);let f=this.renderer.resources;if(e&&!this._beat.isContinuedWhammy&&!this._isSimpleDip){let g=h;g-=f.tablatureFont.size+2*this.scale,this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys)&&l.fillText("0",u,g),c&&(g-=f.tablatureFont.size+2*this.scale,l.fillText(c,u,g))}let m=Math.abs(n.value);if((m!==0||this.renderer.settings.notation.isNotationElementVisible(it.ZerosOnDiveWhammys)&&!this._isSimpleDip)&&r.value!==n.value){let g="";if(n.value<0&&(g+="-"),m>=4){let v=m/4|0;g+=v,m-=v*4}else m===0&&(g+="0");m>0&&(g+=Ms.getFractionSign(m));let y=0;this._isSimpleDip?y=Math.min(h,p)-f.tablatureFont.size-2*this.scale:(y=r.offset===n.offset?Math.min(h,p):p,y-=f.tablatureFont.size+2*this.scale,i&&i.value>n.value&&(y-=2*this.scale));let b=d;l.fillText(g,b,y)}}}rs.TopOffsetSharedDataKey="tab.whammy.topoffset";rs.PerHalfSize=6;rs.DashSize=3;class _c extends RC{constructor(e){super(0,0),this._beat=e}doLayout(){let e=this.renderer.settings.notation.notationMode;switch(this._beat.whammyBarType){case Ot.None:case Ot.Custom:case Ot.Hold:return;case Ot.Dive:case Ot.PrediveDive:{let r=new ki(this._beat,!1);r.renderer=this.renderer;let n=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let i of this._beat.notes)i.isTieOrigin||r.addGlyph(this.getBendNoteValue(i,n),n.value%2!==0);r.doLayout(),this.BendNoteHeads.push(r)}break;case Ot.Dip:if(e===pn.SongBook){let r=this.renderer.resources;this.renderer.simpleWhammyOverflow=r.tablatureFont.size*1.5+_c.SimpleDipHeight*this.scale+_c.SimpleDipPadding*this.scale}else{let r=new ki(this._beat,!1);if(r.renderer=this.renderer,this.renderer.settings.notation.notationMode===pn.GuitarPro){let i=this._beat.whammyBarPoints[1];for(let s of this._beat.notes)r.addGlyph(this.getBendNoteValue(s,this._beat.whammyBarPoints[1]),i.value%2!==0)}r.doLayout(),this.BendNoteHeads.push(r);let n=new ki(this._beat,!1);if(n.renderer=this.renderer,this.renderer.settings.notation.notationMode===pn.GuitarPro){let i=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let s of this._beat.notes)n.addGlyph(this.getBendNoteValue(s,i),i.value%2!==0)}n.doLayout(),this.BendNoteHeads.push(n)}break;case Ot.Predive:break}super.doLayout()}paint(e,r,n){let i=this._beat;switch(i.whammyBarType){case Ot.None:case Ot.Custom:return}let s=this.renderer.settings.notation.notationMode,a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,i.voice.bar),o=e+a.x+a.getBeatX(i,kt.MiddleNotes),l=this.getTieDirection(i,a),c=this._beat.notes.length===1?l:Pe.Up,u=n.textAlign;for(let d=0;d<i.notes.length;d++){let h=i.notes[d],p=r+a.y;d>0&&d>=(this._beat.notes.length/2|0)&&(c=Pe.Down),c===Pe.Down?p+=a.getNoteY(h,Xe.Bottom):p+=a.getNoteY(h,Xe.Top);let f=e+a.x;i.isLastOfVoice?f+=a.width:f+=a.getBeatX(i,kt.EndBeat),f-=8*this.scale;let m=i.whammyStyle===Qt.Gradual&&d===0?"grad.":"",g=null;h.isTieOrigin&&(g=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,h.tieDestination.beat.voice.bar),g&&g.staff===a.staff?f=e+g.x+g.getBeatX(h.tieDestination.beat,kt.MiddleNotes):g=null);let y=bt.NoteHeadHeight*this.scale*bt.GraceScale*.5;c===Pe.Up&&(y=-y);let b=i.whammyBarPoints.length>0?this.getBendNoteValue(h,i.whammyBarPoints[i.whammyBarPoints.length-1]):0,v=0,k=!1;switch(this.BendNoteHeads.length>0&&this.BendNoteHeads[0].containsNoteValue(b)?(v=this.BendNoteHeads[0].getNoteValueY(b)+y,k=!0):g&&(h.isTieOrigin&&h.tieDestination.beat.hasWhammyBar||h.beat.isContinuedWhammy)?(v=r+g.y+g.getNoteY(h.tieDestination,Xe.Top),k=!0,c===Pe.Down&&(v+=bt.NoteHeadHeight*this.scale)):h.isTieOrigin&&(g?v=r+g.y+g.getNoteY(h.tieDestination,Xe.Top):v=p,c===Pe.Down&&(v+=bt.NoteHeadHeight*this.scale)),i.whammyBarType){case Ot.Hold:h.isTieOrigin&&xn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4);break;case Ot.Dive:d===0&&(this.BendNoteHeads[0].x=f-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.BendNoteHeads[0].containsNoteValue(b)&&(v+=this.BendNoteHeads[0].y)),k?this.drawBendSlur(n,o,p,f,v,c===Pe.Down,this.scale,m):h.isTieOrigin&&xn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4);break;case Ot.Dip:if(s===pn.SongBook){if(d===0){let _=e+a.x+a.getBeatX(this._beat,kt.OnNotes)-2*this.scale,B=e+a.x+a.getBeatX(this._beat,kt.PostNotes)+2*this.scale,D=(_+B)/2,E=((this._beat.whammyBarPoints[1].value-this._beat.whammyBarPoints[0].value)/4|0).toString();n.font=this.renderer.resources.tablatureFont,n.fillText(E,D,r+this.y);let R=r+this.y+n.font.size+2*this.scale,A=R+_c.SimpleDipHeight*this.scale;this._beat.whammyBarPoints[1].value>this._beat.whammyBarPoints[0].value?(n.moveTo(_,A),n.lineTo(D,R),n.lineTo(B,A)):(n.moveTo(_,R),n.lineTo(D,A),n.lineTo(B,R)),n.stroke()}h.isTieOrigin&&xn.paintTie(n,this.scale,o,p,f,v,l===Pe.Down,22,4)}else{let _=(o+f)/2;this.BendNoteHeads[0].x=_-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n);let B=this.getBendNoteValue(h,i.whammyBarPoints[1]),D=this.BendNoteHeads[0].getNoteValueY(B)+y;this.drawBendSlur(n,o,p,_,D,c===Pe.Down,this.scale,m),this.BendNoteHeads[1].x=f-this.BendNoteHeads[1].noteHeadOffset,this.BendNoteHeads[1].y=r+a.y,this.BendNoteHeads[1].paint(0,0,n),v=this.BendNoteHeads[1].getNoteValueY(b)+y,this.drawBendSlur(n,_,D,f,v,c===Pe.Down,this.scale,m)}break;case Ot.PrediveDive:case Ot.Predive:let C=e+a.x+a.getBeatX(h.beat,kt.PreNotes);C+=a.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let S=r+a.y+a.getScoreY(a.accidentalHelper.getNoteLineForValue(h.displayValue-(h.beat.whammyBarPoints[0].value/2|0),!1))+y;this.drawBendSlur(n,C,S,o,p,c===Pe.Down,this.scale,m),this.BendNoteHeads.length>0&&(this.BendNoteHeads[0].x=f-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.drawBendSlur(n,o,p,f,v,c===Pe.Down,this.scale,m));break}}n.textAlign=u}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}_c.SimpleDipHeight=rs.PerHalfSize*2;_c.SimpleDipPadding=2;class Ci extends Wr{constructor(e,r,n){super(e,r),this.width=n}}class zae extends $r{constructor(e,r,n,i,s){super(e,r,s?bt.GraceScale:1,n.getSymbol(i)),this._isGrace=s,this._articulation=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1),this._articulation.techniqueSymbol!==P.None&&this._articulation.techniqueSymbolPlacement===gt.Middle&&n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this._articulation.techniqueSymbol,!1)}doLayout(){let e=(this._isGrace?bt.GraceScale:1)*this.scale;switch(this.symbol){case P.NoteheadWhole:this.width=14;break;case P.NoteheadCircleX:case P.NoteheadDiamondWhite:this.width=9;break;case P.NoteheadHeavyXHat:case P.NoteheadHeavyX:this.width=13;break;default:this.width=10;break}this.width=this.width*(this._isGrace?bt.GraceScale:1)*this.scale,this.height=bt.NoteHeadHeight*e}}class UN extends $r{constructor(e,r){super(e,r,bt.GraceScale,P.ArticStaccatoAbove)}doLayout(){this.width=bt.QuarterNoteHeadWidth*this.scale,this.height=7*this.scale}paint(e,r,n){super.paint(e+3*this.scale,r+5*this.scale,n)}}class Wae extends $r{constructor(e,r){super(e,r,.5,P.PictEdgeOfCymbal)}doLayout(){this.width=22*this.scale,this.height=15*this.scale}paint(e,r,n){super.paint(e-3*this.scale,r+this.height,n)}}class Hae extends $r{constructor(e,r){super(e,r,bt.GraceScale,P.GuitarGolpe)}doLayout(){this.width=9*this.scale,this.height=10*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}}class Uae extends BC{constructor(){super(...arguments),this._collisionOffset=-1e3,this._skipPaint=!1,this.noteHeads=null,this.restGlyph=null}getNoteX(e,r){return this.noteHeads?this.noteHeads.getNoteX(e,r):0}buildBoundingsLookup(e,r,n){this.noteHeads&&this.noteHeads.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteY(e,r){return this.noteHeads?this.noteHeads.getNoteY(e,r):0}updateBeamingHelper(){if(this.noteHeads)this.noteHeads.updateBeamingHelper(this.container.x+this.x);else if(this.restGlyph&&(this.restGlyph.updateBeamingHelper(this.container.x+this.x),this.renderer.bar.isMultiVoice&&this._collisionOffset===-1e3)){this._collisionOffset=this.renderer.helpers.collisionHelper.applyRestCollisionOffset(this.container.beat,this.restGlyph.y,this.renderer.getScoreHeight(1)),this.y+=this._collisionOffset;const e=this.renderer.helpers.collisionHelper.restDurationsByDisplayTime;e.has(this.container.beat.playbackStart)&&e.get(this.container.beat.playbackStart).has(this.container.beat.playbackDuration)&&e.get(this.container.beat.playbackStart).get(this.container.beat.playbackDuration)!==this.container.beat.id&&(this._skipPaint=!0)}}paint(e,r,n){this._skipPaint||super.paint(e,r,n)}doLayout(){let e=this.renderer;if(!this.container.beat.isEmpty)if(this.container.beat.isRest){let r=Math.ceil((this.renderer.bar.staff.standardNotationLineCount-1)/2)*2;this.container.beat.duration===H.Whole&&this.renderer.bar.staff.standardNotationLineCount!==1&&this.renderer.bar.staff.standardNotationLineCount!==3&&(r-=2);const n=new Sd(0,e.getScoreY(r),this.container.beat.duration);if(this.restGlyph=n,n.beat=this.container.beat,n.beamingHelper=this.beamingHelper,this.addGlyph(n),this.renderer.bar.isMultiVoice)if(this.container.beat.voice.index===0){const i=zi.computeLineHeightsForRest(this.container.beat.duration);let s=n.y-e.getScoreHeight(i[0]),a=n.y+e.getScoreHeight(i[1]);this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}else this.renderer.helpers.collisionHelper.registerRest(this.container.beat);if(this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,r),this.container.beat.dots>0){this.addGlyph(new Ci(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new Ea(0,0);s.renderer=this.renderer,this.createBeatDot(r,s),this.addGlyph(s)}}}else{const r=new Vae;this.noteHeads=r,r.beat=this.container.beat,r.beamingHelper=this.beamingHelper;let n=new Iy(!1);n.renderer=this.renderer;for(let i of this.container.beat.notes)i.isVisible&&(this.createNoteGlyph(i),n.addParenthesis(i));if(this.addGlyph(r),n.isEmpty||(this.addGlyph(new Ci(0,0,4*(this.container.beat.graceType!==tt.None?bt.GraceScale:1)*this.scale)),this.addGlyph(n)),this.container.beat.hasWhammyBar){let i=new _c(this.container.beat);i.renderer=this.renderer,i.doLayout(),this.container.ties.push(i)}if(this.container.beat.dots>0){this.addGlyph(new Ci(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new Ea(0,0);s.renderer=this.renderer;for(let a of this.container.beat.notes)this.createBeatDot(e.getNoteLine(a),s);this.addGlyph(s)}}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}createBeatDot(e,r){let n=this.renderer;r.addGlyph(new IS(0,n.getScoreY(e),1.5*this.scale))}createNoteHeadGlyph(e){let r=this.container.beat.graceType!==tt.None;if(e.beat.voice.bar.staff.isPercussion){const n=Rn.getArticulation(e);if(n)return new zae(0,0,n,e.beat.duration,r);ve.warning("Rendering",`No articulation found for percussion instrument ${e.percussionArticulation}`)}return e.isDead?new Aae(0,0,r):e.beat.graceType===tt.BendGrace?new bt(0,0,H.Quarter,!0):e.harmonicType===Qe.Natural?new Ly(0,0,e.beat.duration,r):new bt(0,0,e.beat.duration,r)}createNoteGlyph(e){if(e.beat.graceType===tt.BendGrace&&!e.hasBend)return;let r=this.renderer,n=this.createNoteHeadGlyph(e),i=r.getNoteLine(e);if(n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i),e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural){let s=e.displayValue+e.harmonicPitch;n=new Ly(0,0,e.beat.duration,this.container.beat.graceType!==tt.None),i=r.accidentalHelper.getNoteLineForValue(s,!1),n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i)}if(e.isStaccato&&!this.noteHeads.aboveBeatEffects.has("Staccato")&&this.noteHeads.belowBeatEffects.set("Staccato",new UN(0,0)),e.accentuated===en.Normal&&!this.noteHeads.aboveBeatEffects.has("Accent")&&this.noteHeads.belowBeatEffects.set("Accent",new Dy(0,0,en.Normal)),e.accentuated===en.Heavy&&!this.noteHeads.aboveBeatEffects.has("HAccent")&&this.noteHeads.belowBeatEffects.set("HAccent",new Dy(0,0,en.Heavy)),e.isPercussion){const s=Rn.getArticulation(e);if(s&&s.techniqueSymbolPlacement!==gt.Middle){const a=s.techniqueSymbolPlacement===gt.Top?this.noteHeads.aboveBeatEffects:this.noteHeads.belowBeatEffects;switch(s.techniqueSymbol){case P.PictEdgeOfCymbal:a.set("PictEdgeOfCymbal",new Wae(0,0));break;case P.ArticStaccatoAbove:a.set("ArticStaccatoAbove",new UN(0,0));break;case P.StringsUpBow:a.set("StringsUpBow",new sp(0,0,Fn.Up));break;case P.StringsDownBow:a.set("StringsDownBow",new sp(0,0,Fn.Down));break;case P.GuitarGolpe:a.set("GuitarGolpe",new Hae(0,0));break}}}}}class Gae extends Wr{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=this._beat.brushType===or.ArpeggioUp||this._beat.brushType===or.ArpeggioDown?10*this.scale:0}paint(e,r,n){if(this._beat.brushType===or.ArpeggioUp||this._beat.brushType===or.ArpeggioDown){let i=this.renderer,s=i.lineOffset,a=r+this.y+(i.getNoteY(this._beat.maxNote,Xe.Bottom)-s),o=r+this.y+i.getNoteY(this._beat.minNote,Xe.Top)+s,l=e+this.x+this.width/2,c=8*this.scale,u=new Wc(0,0,At.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let d=-u.height/2;if(this._beat.brushType===or.ArpeggioUp){let h=a+c,p=o-c;u.width=Math.abs(p-h),n.beginRotate(e+this.x+5*this.scale,p,-90),u.paint(0,d,n),n.endRotate(),n.beginPath(),n.moveTo(l,o),n.lineTo(l+c/2,o-c),n.lineTo(l-c/2,o-c),n.closePath(),n.fill()}else if(this._beat.brushType===or.ArpeggioDown){let h=a+c,p=o;u.width=Math.abs(p-h),n.beginRotate(e+this.x+5*this.scale,h,90),u.paint(0,d,n),n.endRotate(),n.beginPath(),n.moveTo(l,a),n.lineTo(l+c/2,a+c),n.lineTo(l-c/2,a+c),n.closePath(),n.fill()}}}}class jae extends Ob{get prebendNoteHeadOffset(){return this._prebends?this._prebends.x+this._prebends.noteHeadOffset:0}doLayout(){if(!this.container.beat.isRest){let e=new zA;e.renderer=this.renderer;let r=new Iy(!0);r.renderer=this.renderer;const n=new ki(this.container.beat,!0);this._prebends=n,n.renderer=this.renderer;for(let i of this.container.beat.notes)if(i.isVisible){if(i.hasBend)switch(i.bendType){case Ue.PrebendBend:case Ue.Prebend:case Ue.PrebendRelease:n.addGlyph(i.displayValue-(i.bendPoints[0].value/2|0),!1);break}else if(i.beat.hasWhammyBar)switch(i.beat.whammyBarType){case Ot.PrediveDive:case Ot.Predive:this._prebends.addGlyph(i.displayValue-(i.beat.whammyBarPoints[0].value/2|0),!1);break}this.createAccidentalGlyph(i,e),r.addParenthesis(i)}n.isEmpty||(this.addGlyph(n),this.addGlyph(new Ci(0,0,4*(this.container.beat.graceType!==tt.None?bt.GraceScale:1)*this.scale))),this.container.beat.brushType!==or.None&&(this.addGlyph(new Gae(this.container.beat)),this.addGlyph(new Ci(0,0,4*this.scale))),r.isEmpty||(this.addGlyph(r),this.addGlyph(new Ci(0,0,4*(this.container.beat.graceType!==tt.None?bt.GraceScale:1)*this.scale))),e.isEmpty||(this.accidentals=e,this.addGlyph(new Ci(0,0,2*(this.container.beat.graceType!==tt.None?bt.GraceScale:1)*this.scale)),this.addGlyph(e),this.addGlyph(new Ci(0,0,2*(this.container.beat.graceType!==tt.None?bt.GraceScale:1)*this.scale)))}super.doLayout()}createAccidentalGlyph(e,r){let n=this.renderer,i=n.accidentalHelper.applyAccidental(e),s=n.getNoteLine(e),a=this.container.beat.graceType!==tt.None;if(i!==jt.None){let o=new Bl(0,n.getScoreY(s),i,a);o.renderer=this.renderer,r.addGlyph(o)}if(e.harmonicType!==Qe.None&&e.harmonicType!==Qe.Natural){let o=e.displayValue+e.harmonicPitch;i=n.accidentalHelper.applyAccidentalForValue(e.beat,o,a,!1),s=n.accidentalHelper.getNoteLineForValue(o,!1);let l=new Bl(0,n.getScoreY(s),i,a);l.renderer=this.renderer,r.addGlyph(l)}}constructor(){super(),this._prebends=null,this.accidentals=null}}class DC extends $r{constructor(e,r,n,i){super(e,r,i,DC.getSymbol(n)),this._digit=0,this._scale=0,this._digit=n,this._scale=i}doLayout(){this.width=this.getDigitWidth(this._digit)*this.scale*this._scale}getDigitWidth(e){switch(e){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return 14;case 1:return 10;default:return 0}}static getSymbol(e){switch(e){case 0:return P.TimeSig0;case 1:return P.TimeSig1;case 2:return P.TimeSig2;case 3:return P.TimeSig3;case 4:return P.TimeSig4;case 5:return P.TimeSig5;case 6:return P.TimeSig6;case 7:return P.TimeSig7;case 8:return P.TimeSig8;case 9:return P.TimeSig9;default:return P.None}}}class Rg extends Ea{constructor(e,r,n,i=1){super(e,r),this._number=0,this._scale=0,this._number=n,this._scale=i}doLayout(){let e=this._number;for(;e>0;){let r=e%10,n=new DC(0,0,r,this._scale);this.addGlyph(n),e=e/10|0}if(this.glyphs){this.glyphs.reverse();let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.y=0,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r}}}Rg.numberHeight=18;class WA extends Ea{constructor(e,r,n,i,s){super(e,r),this._numerator=0,this._denominator=0,this._numerator=n,this._denominator=i,this._isCommon=s}doLayout(){if(this._isCommon&&this._numerator===2&&this._denominator===2){let e=new $r(0,0,this.commonScale,P.TimeSigCutCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else if(this._isCommon&&this._numerator===4&&this._denominator===4){let e=new $r(0,0,this.commonScale,P.TimeSigCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else{const e=Rg.numberHeight*this.scale;let r=new Rg(0,-e/2,this._numerator,this.numberScale),n=new Rg(0,e/2,this._denominator,this.numberScale);this.addGlyph(r),this.addGlyph(n),super.doLayout();for(let i=0,s=this.glyphs.length;i<s;i++){let a=this.glyphs[i];a.x=(this.width-a.width)/2}}}}class Yae extends WA{get commonScale(){return 1}get numberScale(){return 1}}class Xae extends RC{constructor(e){super(0,0),this._notes=[],this._endNoteGlyph=null,this._middleNoteGlyph=null,this._beat=e}addBends(e){if(this._notes.push(e),!e.isTieOrigin)switch(e.bendType){case Ue.Bend:case Ue.PrebendRelease:case Ue.PrebendBend:{let r=this._endNoteGlyph;r||(r=new ki(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case Ue.Release:if(!e.isTieOrigin){let r=this._endNoteGlyph;r||(r=new ki(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case Ue.BendRelease:{let r=this._middleNoteGlyph;r||(r=new ki(e.beat,!1),this._middleNoteGlyph=r,r.renderer=this.renderer,this.BendNoteHeads.push(r));let n=e.bendPoints[1];r.addGlyph(this.getBendNoteValue(e,e.bendPoints[1]),n.value%2!==0);let i=this._endNoteGlyph;i||(i=new ki(e.beat,!1),i.renderer=this.renderer,this._endNoteGlyph=i,this.BendNoteHeads.push(i));let s=e.bendPoints[e.bendPoints.length-1];i.addGlyph(this.getBendNoteValue(e,s),s.value%2!==0)}break}}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._beat.voice.bar),s=e+i.x+i.getBeatX(this._beat,kt.MiddleNotes),a=e+i.x;this._beat.isLastOfVoice?a+=i.postBeatGlyphsStart:a+=i.getBeatX(this._beat.nextBeat,kt.PreNotes),a-=8*this.scale;let o=(s+a)/2;this._middleNoteGlyph&&(this._middleNoteGlyph.x=o-this._middleNoteGlyph.noteHeadOffset,this._middleNoteGlyph.y=r+i.y,this._middleNoteGlyph.paint(0,0,n)),this._endNoteGlyph&&(this._endNoteGlyph.x=a-this._endNoteGlyph.noteHeadOffset,this._endNoteGlyph.y=r+i.y,this._endNoteGlyph.paint(0,0,n)),this._notes.sort((u,d)=>d.displayValue-u.displayValue);let l=this._beat.graceType===tt.BendGrace?this._beat.nextBeat:this._beat,c=this._notes.length===1?this.getTieDirection(l,i):Pe.Up;for(let u=0;u<this._notes.length;u++){let d=this._notes[u];u>0&&u>=(this._notes.length/2|0)&&(c=Pe.Down);let h=r+i.y+i.getNoteY(d,Xe.Top),p=bt.NoteHeadHeight*this.scale*bt.GraceScale*.5;c===Pe.Down&&(h+=bt.NoteHeadHeight*this.scale);let f=d.bendStyle===Qt.Gradual?"grad.":"";if(d.isTieOrigin){let m=d.tieDestination,g=m?this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,m.beat.voice.bar):null;if(!g||g.staff!==i.staff){let y=e+i.x+i.width,b=d.tieDestination.realValue;i.accidentalHelper.applyAccidentalForValue(d.beat,b,!1,!0);let v=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(b,!1));d.bendType===Ue.Hold||d.bendType===Ue.Prebend?xn.paintTie(n,this.scale,s,h,y,v,c===Pe.Down,22,4):this.drawBendSlur(n,s,h,y,v,c===Pe.Down,this.scale,f)}else{let y=e+g.x+g.getBeatX(m.beat,kt.MiddleNotes),b=r+g.y+g.getNoteY(m,Xe.Top);c===Pe.Down&&(b+=bt.NoteHeadHeight*this.scale),d.bendType===Ue.Hold||d.bendType===Ue.Prebend?xn.paintTie(n,this.scale,s,h,y,b,c===Pe.Down,22,4):this.drawBendSlur(n,s,h,y,b,c===Pe.Down,this.scale,f)}switch(d.bendType){case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:let y=e+i.x+i.getBeatX(d.beat,kt.PreNotes);y+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let b=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+p;this.drawBendSlur(n,y,b,s,h,c===Pe.Down,this.scale);break}}else{c===Pe.Up&&(p=-p);let m=0,g=0;switch(d.bendType){case Ue.Bend:m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this._endNoteGlyph.getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f);break;case Ue.BendRelease:let y=this.getBendNoteValue(d,d.bendPoints[1]),b=this._middleNoteGlyph.getNoteValueY(y)+p;this.drawBendSlur(n,s,h,o,b,c===Pe.Down,this.scale,f),m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this._endNoteGlyph.getNoteValueY(m)+p,this.drawBendSlur(n,o,b,a,g,c===Pe.Down,this.scale,f);break;case Ue.Release:this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this.BendNoteHeads[0].getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f));break;case Ue.Prebend:case Ue.PrebendBend:case Ue.PrebendRelease:let v=e+i.x+i.getBeatX(d.beat,kt.PreNotes);v+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let k=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+p;this.drawBendSlur(n,v,k,s,h,c===Pe.Down,this.scale),this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),g=this.BendNoteHeads[0].getNoteValueY(m)+p,this.drawBendSlur(n,s,h,a,g,c===Pe.Down,this.scale,f));break}}}}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}class FS extends xn{constructor(e,r,n=!1){super(e,r,n)}doLayout(){super.doLayout()}getBeamDirection(e,r){if(e.isRest)return Pe.Up;switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this.startBeat.maxNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this.startBeat.minNote,Xe.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Pe.Up:return e.getScoreY(9);default:return e.getScoreY(0)}const r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);if(r!==n&&this.startBeat.graceType===tt.None)if(n===this.tieDirection)switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.TopWithStem);default:return e.getNoteY(this.endBeat.minNote,Xe.BottomWithStem)}else switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.BottomWithStem);default:return e.getNoteY(this.endBeat.minNote,Xe.TopWithStem)}switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endBeat.maxNote,Xe.Top);default:return e.getNoteY(this.endBeat.minNote,Xe.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startBeat,kt.MiddleNotes)}getEndX(){const e=this.endNoteRenderer.getBeatDirection(this.endBeat);return this.endNoteRenderer.getBeatX(this.endBeat,this.endBeat.duration>H.Whole&&e===this.tieDirection?kt.Stem:kt.MiddleNotes)}}class qae extends Wr{constructor(e,r,n,i){super(0,0),this._outType=r,this._inType=e,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.drawSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=e+i.x+i.getNoteX(this._startNote,Or.Left)-2*this.scale,o=r+i.y+i.getNoteY(this._startNote,Xe.Center),l=a-s,c=r+i.y;switch(this._inType){case kn.IntoFromBelow:c+=i.getNoteY(this._startNote,Xe.Bottom);break;case kn.IntoFromAbove:c+=i.getNoteY(this._startNote,Xe.Top);break;default:return}let u=this.getAccidentalsWidth(i,this._startNote.beat);l-=u,a-=u,this.paintSlideLine(n,!1,l,a,c,o)}getAccidentalsWidth(e,r){let n=e.getPreNotesGlyphForBeat(r);return n&&n.accidentals?n.accidentals.width:0}drawSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=1*this.scale,o=2*this.scale,l=0,c=0,u=0,d=0,h=!1;switch(this._outType){case ft.Shift:case ft.Legato:if(l=e+i.x+i.getBeatX(this._startNote.beat,kt.PostNotes),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),this._startNote.slideTarget){let p=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!p||p.staff!==i.staff?(u=e+i.x+i.width,d=c):(u=e+p.x+p.getBeatX(this._startNote.slideTarget.beat,kt.PreNotes)-a,d=r+p.y+p.getNoteY(this._startNote.slideTarget,Xe.Center)),this._startNote.slideTarget.realValue>this._startNote.realValue?(c+=o,d-=o):(c-=o,d+=o)}else u=e+i.x+this._parent.x,d=c;break;case ft.OutUp:l=e+i.x+i.getNoteX(this._startNote,Or.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),u=l+s,d=r+i.y+i.getNoteY(this._startNote,Xe.Top);break;case ft.OutDown:l=e+i.x+i.getNoteX(this._startNote,Or.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),u=l+s,d=r+i.y+i.getNoteY(this._startNote,Xe.Bottom);break;case ft.PickSlideUp:l=e+i.x+i.getNoteX(this._startNote,Or.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),d=r+i.y+i.getNoteY(this._startNote,Xe.Top),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,kt.PreNotes)),h=!0;break;case ft.PickSlideDown:l=e+i.x+i.getNoteX(this._startNote,Or.Right),c=r+i.y+i.getNoteY(this._startNote,Xe.Center),d=r+i.y+i.getNoteY(this._startNote,Xe.Bottom),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,kt.PreNotes)),h=!0;break;default:return}this.paintSlideLine(n,h,l,u,c,d)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new Wc(0,0,At.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,c=a-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));o.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(n,s,d),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Ym extends FS{constructor(e,r,n=!1){super(e.beat,r.beat,n),this._startNote=e,this._endNote=r}getTieHeight(e,r,n,i){return Math.log2(n-e+1)*this.renderer.settings.notation.slurHeight}getStartY(){if(this.isStartCentered())switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this._startNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this._startNote,Xe.Bottom)}return this.startNoteRenderer.getNoteY(this._startNote,Xe.Center)}getEndY(){if(this.isEndCentered())if(this.isEndOnStem())switch(this.tieDirection){case Pe.Up:return this.endNoteRenderer.getNoteY(this._endNote,Xe.TopWithStem);default:return this.endNoteRenderer.getNoteY(this._endNote,Xe.BottomWithStem)}else switch(this.tieDirection){case Pe.Up:return this.endNoteRenderer.getNoteY(this._endNote,Xe.Top);default:return this.endNoteRenderer.getNoteY(this._endNote,Xe.Bottom)}else return this.endNoteRenderer.getNoteY(this._endNote,Xe.Center)}isStartCentered(){return this._startNote===this._startNote.beat.maxNote&&this.tieDirection===Pe.Up||this._startNote===this._startNote.beat.minNote&&this.tieDirection===Pe.Down}isEndCentered(){return this._startNote.beat.graceType===tt.None&&(this._endNote===this._endNote.beat.maxNote&&this.tieDirection===Pe.Up||this._endNote===this._endNote.beat.minNote&&this.tieDirection===Pe.Down)}isEndOnStem(){const e=this.endNoteRenderer,r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);return r!==n&&this.startBeat.graceType===tt.None}getStartX(){return this.isStartCentered()?this.startNoteRenderer.getBeatX(this._startNote.beat,kt.MiddleNotes):this.startNoteRenderer.getNoteX(this._startNote,Or.Right)}getEndX(){return this.isEndCentered()?this.isEndOnStem()?this.endNoteRenderer.getBeatX(this._endNote.beat,kt.Stem):this.endNoteRenderer.getNoteX(this._endNote,Or.Center):this.endNoteRenderer.getBeatX(this._endNote.beat,kt.PreNotes)}}class GN extends xn{constructor(e,r,n=!1){super(e?e.beat:null,r?r.beat:null,n),this.startNote=e,this.endNote=r}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,r){switch(r.getBeatDirection(e)){case Pe.Up:return Pe.Down;default:return Pe.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Pe.Up:return this.startNoteRenderer.getNoteY(this.startNote,Xe.Top);default:return this.startNoteRenderer.getNoteY(this.startNote,Xe.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Pe.Up:return e.getScoreY(9);default:return e.getScoreY(0)}switch(this.tieDirection){case Pe.Up:return e.getNoteY(this.endNote,Xe.Top);default:return e.getNoteY(this.endNote,Xe.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startNote.beat,kt.PostNotes)}getEndX(){return this.endNoteRenderer.getBeatX(this.endNote.beat,kt.PreNotes)}}class Kae extends wa{constructor(e,r){super(e,r),this._bend=null,this._effectSlur=null,this._effectEndSlur=null}doLayout(){if(this._effectSlur=null,this._effectEndSlur=null,super.doLayout(),this.beat.isLegatoOrigin){if(!this.beat.previousBeat||!this.beat.previousBeat.isLegatoOrigin){let e=this.beat.nextBeat;for(;e.nextBeat&&e.nextBeat.isLegatoDestination;)e=e.nextBeat;this.addTie(new FS(this.beat,e,!1))}}else if(this.beat.isLegatoDestination&&!this.beat.isLegatoOrigin){let e=this.beat.previousBeat;for(;e.previousBeat&&e.previousBeat.isLegatoOrigin;)e=e.previousBeat;this.addTie(new FS(e,this.beat,!0))}this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(e.isVisible){if(e.isTieOrigin&&!e.hasBend&&!e.beat.hasWhammyBar&&e.beat.graceType!==tt.BendGrace&&e.tieDestination&&e.tieDestination.isVisible){let r=new GN(e,e.tieDestination,!1);this.addTie(r)}if(e.isTieDestination&&!e.tieOrigin.hasBend&&!e.beat.hasWhammyBar){let r=new GN(e.tieOrigin,e,!0);this.addTie(r)}if(e.slideInType!==kn.None||e.slideOutType!==ft.None){let r=new qae(e.slideInType,e.slideOutType,e,this);this.addTie(r)}if(e.isSlurOrigin&&e.slurDestination&&e.slurDestination.isVisible){let r=new Ym(e,e.slurDestination,!1);this.addTie(r)}if(e.isSlurDestination){let r=new Ym(e.slurOrigin,e,!0);this.addTie(r)}if(!this._effectSlur&&e.isEffectSlurOrigin&&e.effectSlurDestination){const r=new Ym(e,e.effectSlurDestination,!1);this._effectSlur=r,this.addTie(r)}if(!this._effectEndSlur&&e.beat.isEffectSlurDestination&&e.beat.effectSlurOrigin){let r=this.onNotes.beamingHelper.direction,n=r===Pe.Up?e.beat.effectSlurOrigin.minNote:e.beat.effectSlurOrigin.maxNote,i=r===Pe.Up?e.beat.minNote:e.beat.maxNote;const s=new Ym(n,i,!0);this._effectEndSlur=s,this.addTie(s)}if(e.hasBend){if(!this._bend){const r=new Xae(e.beat);this._bend=r,r.renderer=this.renderer,this.addTie(r)}this._bend.addBends(e)}}}}class Es extends Pr{constructor(e,r){super(e,r),this.simpleWhammyOverflow=0,this._firstLineY=0,this._startSpacing=!1,this.accidentalHelper=new Gr(this)}getBeatDirection(e){return this.helpers.getBeamingHelperForBeat(e).direction}get lineOffset(){return(Pr.LineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=e.tablatureFont.size/2+e.tablatureFont.size*.2;this.topPadding=r*this.scale,this.bottomPadding=r*this.scale,this.height=this.lineOffset*4+this.topPadding+this.bottomPadding,this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.lineOffset*4,r=(this.bar.staff.standardNotationLineCount-1)*this.lineOffset;this._firstLineY=(e-r)/2}doLayout(){if(this.updateFirstLineY(),super.doLayout(),!this.bar.isEmpty&&this.accidentalHelper.maxLineBeat){let e=this.getScoreY(-2),r=this.getScoreY(6),n=this.simpleWhammyOverflow;this.registerOverflowTop(n);let i=this.getScoreY(this.accidentalHelper.maxLine),s=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.maxLineBeat);s.direction===Pe.Up&&(i-=this.getStemSize(s),i-=s.fingeringCount*this.resources.graceFont.size,s.hasTuplet&&(i-=this.resources.effectFont.size*2)),s.hasTuplet&&(i-=this.resources.effectFont.size*1.5),i<e&&this.registerOverflowTop(Math.abs(i)+n);let a=this.getScoreY(this.accidentalHelper.minLine),o=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.minLineBeat);o.direction===Pe.Down&&(a+=this.getStemSize(o),a+=o.fingeringCount*this.resources.graceFont.size),a>r&&this.registerOverflowBottom(Math.abs(a)-r)}}paint(e,r,n){super.paint(e,r,n),this.paintBeams(e,r,n),this.paintTuplets(e,r,n)}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let c=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,c)}}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1?this.paintFlag(e,r,n,i):this.paintBar(e,r,n,i))}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=et.Center,n.textBaseline=gt.Middle;let l,c=i.beats[0].tupletNumerator,u=i.beats[0].tupletDenominator;c===2&&u===3?l="2":c===3&&u===2?l="3":c===4&&u===6?l="4":c===5&&u===4?l="5":c===6&&u===4?l="6":c===7&&u===4?l="7":c===9&&u===8?l="9":c===10&&u===8?l="10":c===11&&u===8?l="11":c===12&&u===8?l="12":c===13&&u===8?l="13":l=c+":"+u;let d=10*this.scale,h=5*this.scale;if(i.beats.length===1||!i.isFull)for(let p=0,f=i.beats.length;p<f;p++){let m=i.beats[p],g=this.helpers.beamHelperLookup[i.voice.index].get(m.index);if(!g)continue;let y=g.direction,b=g.getBeatLineX(m),v=this.calculateBeamYWithDirection(g,b,y);y===Pe.Down&&(d*=-1,h*=-1),n.font=s.effectFont,n.fillText(l,e+this.x+b,r+this.y+v-d-h)}else{let p=i.beats[0],f=i.beats[i.beats.length-1],m=null,g=null;for(let K=0;K<i.beats.length;K++)if(!i.beats[K].isRest){m=i.beats[K];break}for(let K=i.beats.length-1;K>=0;K--)if(!i.beats[K].isRest){g=i.beats[K];break}let y=!1;m||(m=p,y=!0),g||(g=f);let b=this.helpers.beamHelperLookup[i.voice.index].get(p.index),v=this.helpers.beamHelperLookup[i.voice.index].get(f.index),k=b.getBeatLineX(p),C=v.getBeatLineX(f),S=this.helpers.beamHelperLookup[i.voice.index].get(m.index),_=this.helpers.beamHelperLookup[i.voice.index].get(g.index),B=b.direction,D=this.calculateBeamYWithDirection(S,k,B),E=this.calculateBeamYWithDirection(_,C,B);y&&(D=Math.max(D,E),E=D),n.font=s.effectFont;let R=n.measureText(l),A=3*this.scale,I=(k+C)/2,L=I-R/2-A,N=I+R/2+A,F=(E-D)/(C-k),O=D-F*k,M=F*L+O,V=F*I+O,z=F*N+O;B===Pe.Down&&(d*=-1,h*=-1),n.beginPath(),n.moveTo(e+this.x+k,r+this.y+D-d|0),n.lineTo(e+this.x+k,r+this.y+D-d-h|0),n.lineTo(e+this.x+L,r+this.y+M-d-h|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+N,r+this.y+z-d-h|0),n.lineTo(e+this.x+C,r+this.y+E-d-h|0),n.lineTo(e+this.x+C,r+this.y+E-d|0),n.stroke(),n.fillText(l,e+this.x+I,r+this.y+V-d-h)}n.textAlign=a,n.textBaseline=o}getStemSize(e){let r=e.beats.length===1?this.getFlagStemSize(e.shortestDuration):this.getBarStemSize(e.shortestDuration);return e.isGrace&&(r=r*bt.GraceScale),r}getBarStemSize(e){let r=0;switch(e){case H.QuadrupleWhole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:r=6;break;case H.ThirtySecond:r=8;break;case H.SixtyFourth:r=9;break;case H.OneHundredTwentyEighth:r=9;break;case H.TwoHundredFiftySixth:r=10;break;default:r=0;break}return this.getScoreHeight(r)}getFlagStemSize(e){let r=0;switch(e){case H.QuadrupleWhole:case H.Half:case H.Quarter:case H.Eighth:case H.Sixteenth:case H.ThirtySecond:case H.SixtyFourth:case H.OneHundredTwentyEighth:case H.TwoHundredFiftySixth:r=6;break;default:r=0;break}return this.getScoreHeight(r)}get middleYPosition(){return this.getScoreY(this.bar.staff.standardNotationLineCount-1)}getNoteY(e,r){let n=super.getNoteY(e,r);if(isNaN(n)){const i=Gr.computeLineWithoutAccidentals(this.bar,e);n=this.getScoreY(i)}return n}calculateBeamY(e,r){return this.calculateBeamYWithDirection(e,r,e.direction)}applyLayoutingInfo(){const e=super.applyLayoutingInfo();if(e&&this.bar.isMultiVoice){let r=this.getScoreY(-2),n=this.getScoreY(6),i=this.helpers.collisionHelper.getBeatMinMaxY();i[0]<r&&this.registerOverflowTop(Math.abs(i[0])),i[1]>n&&this.registerOverflowBottom(Math.abs(i[1])-n)}return e}calculateBeamYWithDirection(e,r,n){let i=this.getStemSize(e);if(!e.drawingInfos.has(n)){let s=new gae;e.drawingInfos.set(n,s);const a=e.beats[0],o=e.beats[e.beats.length-1];let l=e.isRestBeamHelper;s.startBeat=a,s.startX=e.getBeatLineX(a),l?s.startY=n===Pe.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.startY=n===Pe.Up?this.getScoreY(this.accidentalHelper.getMinLine(a))-i:this.getScoreY(this.accidentalHelper.getMaxLine(a))+i,s.endBeat=o,s.endX=e.getBeatLineX(o),l?s.endY=n===Pe.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.endY=n===Pe.Up?this.getScoreY(this.accidentalHelper.getMinLine(o))-i:this.getScoreY(this.accidentalHelper.getMaxLine(o))+i;let c=10*this.scale;if(n===Pe.Down&&s.startY>s.endY&&s.startY-s.endY>c&&(s.endY=s.startY-c),n===Pe.Down&&s.endY>s.startY&&s.endY-s.startY>c&&(s.startY=s.endY-c),n===Pe.Up&&s.startY<s.endY&&s.endY-s.startY>c&&(s.endY=s.startY+c),n===Pe.Up&&s.endY<s.startY&&s.startY-s.endY>c&&(s.startY=s.endY+c),e.beats.length>1){if(n===Pe.Up){let u=this.getScoreY(this.accidentalHelper.getMinLine(e.beatOfHighestNote))-i;const h=s.calcY(e.getBeatLineX(e.beatOfHighestNote))-u;h>0&&(s.startY-=h,s.endY-=h)}else{let u=this.getScoreY(this.accidentalHelper.getMaxLine(e.beatOfLowestNote))+i;const d=s.calcY(e.getBeatLineX(e.beatOfLowestNote)),h=u-d;h>0&&(s.startY+=h,s.endY+=h)}if(e.minRestLine!==null||e.maxRestLine!==null){const u=ir.getIndex(e.shortestDuration)-2;let d=e.isGrace?bt.GraceScale:1,h=u*(Pr.BeamSpacing+Pr.BeamThickness)*this.scale*d;if(h+=Pr.BeamSpacing,n===Pe.Up&&e.minRestLine!==null){let p=this.getScoreY(e.minRestLine)-h;const m=s.calcY(e.getBeatLineX(e.beatOfMinRestLine))-p;m>0&&(s.startY-=m,s.endY-=m)}else if(n===Pe.Down&&e.maxRestLine!==null){let p=this.getScoreY(e.maxRestLine)+h;const f=s.calcY(e.getBeatLineX(e.beatOfMaxRestLine)),m=p-f;m>0&&(s.startY+=m,s.endY+=m)}}}}return e.drawingInfos.get(n).calcY(r)}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s],c=o.graceType!==tt.None?bt.GraceScale:1,u=i.getBeatLineX(o),d=i.direction,h=r+this.y;h+=d===Pe.Up?this.getScoreY(this.accidentalHelper.getMaxLine(o)):this.getScoreY(this.accidentalHelper.getMinLine(o));let p=r+this.y;p+=this.calculateBeamY(i,u),n.lineWidth=Pr.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+u,h),n.lineTo(e+this.x+u,p),n.stroke(),n.lineWidth=this.scale;let f=p;d===Pe.Down?f+=n.font.size*2:s!==0&&(f-=n.font.size*1.5),this.paintFingering(n,o,e+this.x+u,d,f);let m=6*this.scale*c,g=(Pr.BeamSpacing+Pr.BeamThickness)*this.scale*c,y=Pr.BeamThickness*this.scale*c,b=ir.getIndex(o.duration)-2,v=r+this.y;d===Pe.Down&&(g=-g,y=-y);for(let k=0;k<b;k++){let C=0,S=0,_=0,B=0,D=v+k*g;if(s<i.beats.length-1){if(zi.isFullBarJoin(o,i.beats[s+1],k))C=u,S=i.getBeatLineX(i.beats[s+1]);else if(s===0||!zi.isFullBarJoin(i.beats[s-1],o,k))C=u,S=C+m;else continue;_=D+this.calculateBeamY(i,C),B=D+this.calculateBeamY(i,S),Es.paintSingleBar(n,e+this.x+C,_,e+this.x+S,B,y)}else s>0&&!zi.isFullBarJoin(o,i.beats[s-1],k)&&(C=u-m,S=u,_=D+this.calculateBeamY(i,C),B=D+this.calculateBeamY(i,S),Es.paintSingleBar(n,e+this.x+C,_,e+this.x+S,B,y))}}}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s+a),e.lineTo(r,n+a),e.closePath(),e.fill()}paintFlag(e,r,n,i){let s=i.beats[0];if(s.graceType===tt.BendGrace||s.graceType!==tt.None&&this.settings.notation.notationMode===pn.SongBook)return;let a=s.graceType!==tt.None,o=a?bt.GraceScale:1,l=this.getFlagStemSize(i.shortestDuration),c=i.getBeatLineX(s),u=i.direction,d=this.getScoreY(this.accidentalHelper.getMinLine(s)),h=this.getScoreY(this.accidentalHelper.getMaxLine(s)),p=0,f=0;if(u===Pe.Down?(h+=l*o,p=h,f=r+this.y+h):(d-=l*o,p=d,f=r+this.y+d),this.paintFingering(n,s,e+this.x+c,u,f),!!i.hasLine){if(n.lineWidth=Pr.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+c,r+this.y+d),n.lineTo(e+this.x+c,r+this.y+h),n.stroke(),n.lineWidth=this.scale,s.graceType===tt.BeforeBeat){let m=15*this.scale,g=12*this.scale;n.beginPath(),u===Pe.Down?(n.moveTo(e+this.x+c-g/2,r+this.y+h-m),n.lineTo(e+this.x+c+g/2,r+this.y+h)):(n.moveTo(e+this.x+c-g/2,r+this.y+d+m),n.lineTo(e+this.x+c+g/2,r+this.y+d)),n.stroke()}if(i.hasFlag){let m=new Ud(c-this.scale/2,p,s.duration,u,a);m.renderer=this,m.doLayout(),m.paint(e+this.x,r+this.y,n)}}}paintFingering(e,r,n,i,s){let a=this.settings;if(a.notation.fingeringMode!==Ma.ScoreDefault&&a.notation.fingeringMode!==Ma.ScoreForcePiano)return;i===Pe.Up?n-=10*this.scale:n+=3*this.scale;let o=r.notes.slice(0);o.sort((l,c)=>l.realValue-c.realValue);for(let l=0;l<o.length;l++){let c=o[l],u=null;c.leftHandFinger!==lt.Unknown?u=ir.fingerToString(a,r,c.leftHandFinger,!0):c.rightHandFinger!==lt.Unknown&&(u=ir.fingerToString(a,r,c.rightHandFinger,!1)),u&&(e.fillText(u,n,s),s-=e.font.size|0)}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new $A(0,0,1.5,3)),this.isFirstOfLine||this.bar.clef!==this.bar.previousBar.clef||this.bar.clefOttava!==this.bar.previousBar.clefOttava){let e=0;switch(this.bar.clef){case ct.Neutral:e=this.bar.staff.standardNotationLineCount-1;break;case ct.F4:e=2;break;case ct.C3:e=4;break;case ct.C4:e=2;break;case ct.G2:e=6;break}this.createStartSpacing(),this.addPreBeatGlyph(new EC(0,this.getScoreY(e)+.5*Pr.StaffLineThickness,this.bar.clef,this.bar.clefOttava))}(this.index===0&&this.bar.masterBar.keySignature!==ln.C||this.bar.previousBar&&this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new IA(0,this.getScoreHeight(-.5),this.bar.index+1))}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(r)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new AA(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new OA(0,this.getScoreHeight(-.5),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new FA(0,0))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Ci(0,0,2*this.scale)),this._startSpacing=!0)}createKeySignatureGlyphs(){let e=0,r=this.bar.masterBar.keySignature,n=this.bar.previousBar?this.bar.previousBar.masterBar.keySignature:0;switch(this.bar.clef){case ct.Neutral:e=0;break;case ct.G2:e=1;break;case ct.F4:e=3;break;case ct.C3:e=2;break;case ct.C4:e=0;break}let i=new Map,s=[];if(ir.keySignatureIsSharp(r))for(let l=0;l<Math.abs(r);l++){let c=Es.SharpKsSteps[l]+e;s.push(new Bl(0,this.getScoreY(c),jt.Sharp,!1)),i.set(c,!0)}else for(let l=0;l<Math.abs(r);l++){let c=Es.FlatKsSteps[l]+e;s.push(new Bl(0,this.getScoreY(c),jt.Flat,!1)),i.set(c,!0)}let a=Math.abs(n),o=ir.keySignatureIsSharp(n)?Es.SharpKsSteps:Es.FlatKsSteps;for(let l=0;l<a;l++){let c=o[l]+e;i.has(c)||this.addPreBeatGlyph(new Bl(0,this.getScoreY(o[l]+e),jt.Natural,!1))}for(let l of s)this.addPreBeatGlyph(l)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Ci(0,0,5*this.scale));const e=this.bar.staff.standardNotationLineCount-1;this.addPreBeatGlyph(new Yae(0,this.getScoreY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Kae(i,this.getVoiceContainer(e));s.preNotes=new jae,s.onNotes=new Uae,this.addBeatGlyph(s)}}getNoteLine(e){return this.accidentalHelper.getNoteLine(e)}getScoreY(e){return this._firstLineY+this.lineOffset+this.getScoreHeight(e)}getScoreHeight(e){return this.lineOffset/2*e}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;for(let s=0;s<this.bar.staff.standardNotationLineCount;s++){const a=r+this.y+this.getScoreY(s*2);n.fillRect(e+this.x,a|0,this.width,this.scale*Pr.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}completeBeamingHelper(e){if(this.bar.isMultiVoice&&e.highestNoteInHelper&&e.lowestNoteInHelper){let r=this.getNoteY(e.highestNoteInHelper,Xe.Center),n=this.getNoteY(e.lowestNoteInHelper,Xe.Center),i=this.getStemSize(e);e.hasTuplet&&(i+=this.resources.effectFont.size*2),e.direction==Pe.Up?r-=i:n+=i;for(const s of e.beats)this.helpers.collisionHelper.reserveBeatSlot(s,r,n)}}}Es.StaffId="score";Es.SharpKsSteps=[-1,2,-2,1,4,0,3];Es.FlatKsSteps=[3,0,4,1,5,2,6];class jN extends PC{get staffId(){return Es.StaffId}create(e,r){return new Es(e,r)}constructor(){super()}}class Qae extends Wr{constructor(e,r,n,i){super(0,0),this._inType=e,this._outType=r,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.paintSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,c=0,u=0;switch(this._inType){case kn.IntoFromBelow:c=e+i.x+i.getNoteX(this._startNote,Or.Left),u=r+i.y+i.getNoteY(this._startNote,Xe.Center),o=c-s,l=r+i.y+i.getNoteY(this._startNote,Xe.Center)+a;break;case kn.IntoFromAbove:c=e+i.x+i.getNoteX(this._startNote,Or.Left),u=r+i.y+i.getNoteY(this._startNote,Xe.Center),o=c-s,l=r+i.y+i.getNoteY(this._startNote,Xe.Center)-a;break;default:return}this.paintSlideLine(n,!1,o,c,l,u)}paintSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,c=0,u=0,d=!1;const h=2*this.scale;switch(this._outType){case ft.Shift:case ft.Legato:if(o=e+i.x+i.getBeatX(this._startNote.beat,kt.PostNotes),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),this._startNote.slideTarget){let p=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!p||p.staff!==i.staff?(c=e+i.x+i.width,u=l):(c=e+p.x+p.getBeatX(this._startNote.slideTarget.beat,kt.OnNotes)-h,u=r+p.y+p.getNoteY(this._startNote.slideTarget,Xe.Center)),this._startNote.slideTarget.fret>this._startNote.fret?(l+=a,u-=a):(l-=a,u+=a)}else c=e+i.x+this._parent.x,u=l;break;case ft.OutUp:o=e+i.x+i.getNoteX(this._startNote,Or.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=o+s-h,u=r+i.y+i.getNoteY(this._startNote,Xe.Center)-a;break;case ft.OutDown:o=e+i.x+i.getNoteX(this._startNote,Or.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=o+s-h,u=r+i.y+i.getNoteY(this._startNote,Xe.Center)+a;break;case ft.PickSlideDown:o=e+i.x+i.getNoteX(this._startNote,Or.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=e+i.x+i.getBeatX(this._startNote.beat,kt.EndBeat),u=l+a*3,d=!0;break;case ft.PickSlideUp:o=e+i.x+i.getNoteX(this._startNote,Or.Right),l=r+i.y+i.getNoteY(this._startNote,Xe.Center),c=e+i.x+i.getBeatX(this._startNote.beat,kt.EndBeat),u=l-a*3,d=!0;break;default:return}this.paintSlideLine(n,d,o,c,l,u)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new Wc(0,0,At.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,c=a-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));o.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(n,s,d),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Nl extends xn{constructor(e,r,n=!1){super(e.beat,r.beat,n),this.startNote=e,this.endNote=r}getTieHeight(e,r,n,i){return this.startNote===this.endNote?15:super.getTieHeight(e,r,n,i)}getBeamDirection(e,r){return this.startNote===this.endNote?Pe.Up:Nl.getBeamDirectionForNote(this.startNote)}static getBeamDirectionForNote(e){return e.string>3?Pe.Up:Pe.Down}getStartY(){return this.startNote===this.endNote?this.startNoteRenderer.getNoteY(this.startNote,Xe.Center):this.tieDirection===Pe.Up?this.startNoteRenderer.getNoteY(this.startNote,Xe.Top):this.startNoteRenderer.getNoteY(this.startNote,Xe.Bottom)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,Or.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,Or.Left):this.endNoteRenderer.getNoteX(this.endNote,Or.Center)}}class YN extends Nl{constructor(e,r,n,i=!1){super(e,r,i),this._direction=Nl.getBeamDirectionForNote(e),this._forSlide=n}getTieHeight(e,r,n,i){return Math.log(n-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,r,n,i){if(this._forSlide!==n||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==r.beat.id||this._direction!==Nl.getBeamDirectionForNote(e))return!1;switch(this._direction){case Pe.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue>this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break;case Pe.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue<this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break}return!0}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),a="tab.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,o=this.renderer;o.staff.getSharedLayoutData(a,!1)||(o.staff.setSharedLayoutData(a,!0),super.paint(e,r,n))}}class Jae extends wa{constructor(e,r){super(e,r),this._bend=null,this._effectSlurs=[]}doLayout(){this._effectSlurs=[],super.doLayout(),this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(!e.isVisible)return;let r=this.renderer;if(e.isTieOrigin&&r.showTiedNotes&&e.tieDestination.isVisible){let n=new Nl(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination&&r.showTiedNotes){let n=new Nl(e.tieOrigin,e,!0);this.addTie(n)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let n=new Nl(e,e,!1);this.addTie(n)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e,e.effectSlurDestination,!1,!1)){n=!0;break}if(!n){let i=new YN(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(i),this.addTie(i)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e.effectSlurOrigin,e,!1,!0)){n=!0;break}if(!n){let i=new YN(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(i),this.addTie(i)}}if(e.slideInType!==kn.None||e.slideOutType!==ft.None){let n=new Qae(e.slideInType,e.slideOutType,e,this);this.addTie(n)}if(e.hasBend){if(!this._bend){const n=new Ms;this._bend=n,n.renderer=this.renderer,this.addTie(n)}this._bend.addBends(e)}}}class Zae extends Wr{constructor(e,r,n){super(e,r),this._noteString=null,this._trillNoteString=null,this._trillNoteStringWidth=0,this.isEmpty=!1,this.noteStringWidth=0,this._note=n}doLayout(){let e=this._note,r=e.fret-e.beat.voice.bar.staff.transpositionPitch;if(e.harmonicType===Qe.Natural&&e.harmonicValue!==0&&(r=e.harmonicValue-e.beat.voice.bar.staff.transpositionPitch),e.isTieDestination)e.beat.index===0&&this.renderer.settings.notation.notationMode==pn.GuitarPro||(e.bendType===Ue.Bend||e.bendType===Ue.BendRelease)&&this.renderer.settings.notation.isNotationElementVisible(it.TabNotesOnTiedBends)?this._noteString="("+(e.tieOrigin.fret-e.beat.voice.bar.staff.transpositionPitch).toString()+")":this._noteString="";else if(this._noteString=e.isDead?"x":r.toString(),e.isGhost)this._noteString="("+this._noteString+")";else if(e.harmonicType===Qe.Natural){let n=this._noteString.indexOf(".");n>=0&&(this._noteString=this._noteString.substr(0,n+2)),this._noteString="<"+this._noteString+">"}if(e.isTrill)this._trillNoteString="("+(e.trillFret-e.beat.voice.bar.staff.transpositionPitch).toString()+")";else if(ir.isAlmostEqualTo(e.harmonicValue,0))this._trillNoteString="";else switch(e.harmonicType){case Qe.Artificial:case Qe.Pinch:case Qe.Tap:case Qe.Semi:case Qe.Feedback:let n=(r+e.harmonicValue).toString(),i=n.indexOf(".");i>=0&&(n=n.substr(0,i+2)),this._trillNoteString="<"+n+">";break;default:this._trillNoteString="";break}this.isEmpty=!this._noteString,this.isEmpty||(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.tablatureFont,this.noteStringWidth=this.renderer.scoreRenderer.canvas.measureText(this._noteString)*this.scale,this.width=this.noteStringWidth,this.height=this.renderer.scoreRenderer.canvas.font.size,this._trillNoteString&&(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,this._trillNoteStringWidth=3*this.scale+this.renderer.scoreRenderer.canvas.measureText(this._trillNoteString),this.width+=this._trillNoteStringWidth))}paint(e,r,n){if(this.isEmpty)return;let i=this.noteStringWidth+this._trillNoteStringWidth,s=e+this.x+(this.width-i)/2,a=this.renderer.scoreRenderer.canvas.font;this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,n.fillText(this._trillNoteString,s+this.noteStringWidth+3*this.scale,r+this.y),this.renderer.scoreRenderer.canvas.font=a,n.fillText(this._noteString,s,r+this.y)}buildBoundingsLookup(e,r,n){let i=new CC;i.note=this._note,i.noteHeadBounds=new Si,i.noteHeadBounds.x=r+this.x,i.noteHeadBounds.y=n+this.y-this.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}class eoe extends Wr{constructor(e,r,n){super(e,r),this._notes=[],this.minStringNote=null,this.beatEffects=new Map,this.notesPerString=new Map,this.noteStringWidth=0,this._isGrace=n}buildBoundingsLookup(e,r,n){for(const i of this._notes)i.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteX(e,r){if(this.notesPerString.has(e.string)){let n=this.notesPerString.get(e.string),i=this.x+n.x;switch(r){case Or.Left:break;case Or.Center:i+=n.noteStringWidth/2;break;case Or.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this.notesPerString.has(e.string)){const n=this.notesPerString.get(e.string);let i=this.y+n.y;switch(r){case Xe.Top:case Xe.TopWithStem:i-=n.height/2+2*this.scale;break;case Xe.Center:break;case Xe.Bottom:case Xe.BottomWithStem:i+=n.height/2;break}return i}return 0}doLayout(){let e=0,r=0;for(let a=0,o=this._notes.length;a<o;a++){let l=this._notes[a];l.renderer=this.renderer,l.doLayout(),l.width>e&&(e=l.width),l.noteStringWidth>r&&(r=l.noteStringWidth)}this.noteStringWidth=r;let n=this.renderer.resources.tablatureFont.size,i=this.getNoteY(this.minStringNote,Xe.Center)+n/2,s=7*this.scale;for(const a of this.beatEffects.values())a.y+=i,a.x+=this.width/2,a.renderer=this.renderer,i+=s,a.doLayout();this.width=e}addNoteGlyph(e,r){this._notes.push(e),this.notesPerString.set(r.string,e),(!this.minStringNote||r.string<this.minStringNote.string)&&(this.minStringNote=r)}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer.resources,s=n.textBaseline;n.textBaseline=gt.Middle,n.font=this._isGrace?i.graceFont:i.tablatureFont;let a=this._notes,o=this.width;for(let l of a)l.renderer=this.renderer,l.width=o,l.paint(e,r,n);n.textBaseline=s;for(const l of this.beatEffects.values())l.paint(e,r,n)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class toe extends $r{constructor(e,r,n,i){super(e,r,1,Sd.getSymbol(i)),this._isVisibleRest=n,this._duration=i}doLayout(){this._isVisibleRest?this.width=Sd.getSize(this._duration)*this.scale:this.width=10*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}paint(e,r,n){this._isVisibleRest&&super.paint(e,r,n)}}class roe extends BC{constructor(){super(...arguments),this.noteNumbers=null,this.restGlyph=null}getNoteX(e,r){return this.noteNumbers?this.noteNumbers.getNoteX(e,r):0}getNoteY(e,r){return this.noteNumbers?this.noteNumbers.getNoteY(e,r):0}buildBoundingsLookup(e,r,n){this.noteNumbers&&this.noteNumbers.buildBoundingsLookup(e,r+this.x,n+this.y)}doLayout(){let e=this.renderer;if(this.container.beat.isRest){let n=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),i=e.getTabY(n);const s=new toe(0,i,e.showRests,this.container.beat.duration);if(this.restGlyph=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s),this.container.beat.dots>0&&e.showRests){this.addGlyph(new Ci(0,0,5*this.scale));for(let a=0;a<this.container.beat.dots;a++)this.addGlyph(new IS(0,i,1.5*this.scale))}}else{let n=this.renderer.settings.notation.smallGraceTabNotes&&this.container.beat.graceType!==tt.None;const i=new eoe(0,0,n);this.noteNumbers=i,i.beat=this.container.beat,i.beamingHelper=this.beamingHelper;for(let s of this.container.beat.notes)s.isVisible&&this.createNoteGlyph(s);if(this.addGlyph(i),this.container.beat.hasWhammyBar){let s=new rs(this.container.beat);s.renderer=this.renderer,s.doLayout(),this.container.ties.push(s)}if(this.container.beat.isTremolo&&!this.noteNumbers.beatEffects.has("tremolo")){let s=0,a=this.container.beat.tremoloSpeed;switch(a){case H.ThirtySecond:s=10;break;case H.Sixteenth:s=5;break;case H.Eighth:s=0;break}this.noteNumbers.beatEffects.set("tremolo",new Vb(5*this.scale,s*this.scale,a))}if(this.container.beat.dots>0&&e.settings.notation.rhythmMode!==So.Hidden){this.addGlyph(new Ci(0,0,5*this.scale));for(let s=0;s<this.container.beat.dots;s++)this.addGlyph(new IS(0,e.lineOffset*e.bar.staff.tuning.length+e.settings.notation.rhythmHeight*e.scale,1.5*this.scale))}}if(!this.glyphs)return;let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r,this.computedWidth=r,this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteNumbers.x+this.noteNumbers.noteStringWidth/2}updateBeamingHelper(){this.container.beat.isRest?this.restGlyph.updateBeamingHelper(this.container.x+this.x):this.noteNumbers.updateBeamingHelper(this.container.x+this.x)}createNoteGlyph(e){let r=this.renderer,n=new Zae(0,0,e),i=e.beat.voice.bar.staff.tuning.length-e.string;n.y=r.getTabY(i),n.renderer=this.renderer,n.doLayout(),this.noteNumbers.addNoteGlyph(n,e);let s=n.y-n.height/2,a=s+n.height;this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}}class noe extends Wr{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=10*this.scale}paint(e,r,n){let i=this.renderer,s=r+this.x+i.getNoteY(this._beat.maxStringNote,Xe.Top),a=r+this.y+i.getNoteY(this._beat.minStringNote,Xe.Bottom),o=e+this.x+this.width/2|0,l=8*this.scale;if(this._beat.brushType!==or.None){if(this._beat.brushType===or.BrushUp||this._beat.brushType===or.BrushDown)n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke();else if(this._beat.brushType===or.ArpeggioUp){let c=new Wc(0,0,At.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s,d=a-l;c.width=Math.abs(d-u),n.beginRotate(e+this.x+4*this.scale,d,-90),c.paint(0,-c.height/2,n),n.endRotate()}else if(this._beat.brushType===or.ArpeggioDown){let c=new Wc(0,0,At.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s+l,d=a;c.width=Math.abs(d-u),n.beginRotate(e+this.x+4*this.scale,u,90),c.paint(0,-c.height/2,n),n.endRotate()}this._beat.brushType===or.BrushUp||this._beat.brushType===or.ArpeggioUp?(n.beginPath(),n.moveTo(o,a),n.lineTo(o+l/2,a-l),n.lineTo(o-l/2,a-l),n.closePath(),n.fill()):(n.beginPath(),n.moveTo(o,s),n.lineTo(o+l/2,s+l),n.lineTo(o-l/2,s+l),n.closePath(),n.fill())}}}class ioe extends Ob{doLayout(){this.container.beat.brushType!==or.None&&!this.container.beat.isRest&&(this.addGlyph(new noe(this.container.beat)),this.addGlyph(new Ci(0,0,4*this.scale))),super.doLayout()}constructor(){super()}}class soe extends Wr{constructor(e,r){super(e,r)}doLayout(){this.width=28*this.scale}paint(e,r,n){let i=this.renderer.bar.staff.tuning.length,s=i<=4?P.FourStringTabClef:P.SixStringTabClef,a=i<=4?i/4.5:i/6.5;n.fillMusicFontSymbol(e+this.x+5*this.scale,r+this.y,a*this.scale,s,!1)}}class aoe extends WA{get commonScale(){return 1}get numberScale(){return this.renderer.bar.staff.tuning.length<=4?bt.GraceScale:1}}class Co extends Pr{constructor(e,r){super(e,r),this._firstLineY=0,this._tupletSize=0,this.showTimeSignature=!1,this.showRests=!1,this.showTiedNotes=!1,this._startSpacing=!1}get lineOffset(){return(Co.TabLineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale;this.topPadding=r,this.bottomPadding=r,this.height=this.lineOffset*(this.bar.staff.tuning.length-1)+r*2,this.settings.notation.rhythmMode!==So.Hidden&&(this.height+=this.settings.notation.rhythmHeight*this.settings.display.scale,this.bottomPadding+=this.settings.notation.rhythmHeight*this.settings.display.scale),this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.resources;this._firstLineY=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}doLayout(){if(this.updateFirstLineY(),super.doLayout(),this.settings.notation.rhythmMode!==So.Hidden){let e=!1;for(let r of this.bar.voices)if(this.hasVoiceContainer(r)&&this.getVoiceContainer(r).tupletGroups.length>0){e=!0;break}e&&(this._tupletSize=this.resources.effectFont.size*.8,this.registerOverflowBottom(this._tupletSize))}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new $A(0,0,1.5,3)),this.isFirstOfLine){let e=(this.bar.staff.tuning.length-1)/2;this.addPreBeatGlyph(new soe(5*this.scale,this.getTabY(e)))}this.showTimeSignature&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new IA(0,this.getTabHeight(-.5),this.bar.index+1))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Ci(0,0,2*this.scale)),this._startSpacing=!0)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Ci(0,0,5*this.scale));const e=(this.bar.staff.tuning.length+1)/2-1;this.addPreBeatGlyph(new aoe(0,this.getTabY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Jae(i,this.getVoiceContainer(e));s.preNotes=new ioe,s.onNotes=new roe,this.addBeatGlyph(s)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new AA(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new OA(0,this.getTabY(-1),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new FA(0,0))}getTabY(e){return this._firstLineY+this.getTabHeight(e)}getTabHeight(e){return this.lineOffset*e}get middleYPosition(){return this.getTabY(this.bar.staff.tuning.length-1)}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;let s=this.scale,a=[];for(let o=0,l=this.bar.staff.tuning.length;o<l;o++)a.push([]);for(let o of this.bar.voices)if(this.hasVoiceContainer(o)){let l=this.getVoiceContainer(o);for(let c of l.beatGlyphs){let u=c.onNotes,d=u.noteNumbers;if(d)for(const[h,p]of d.notesPerString)p.isEmpty||a[this.bar.staff.tuning.length-h].push(new Float32Array([l.x+c.x+u.x+d.x,d.width+s]))}}for(let o of a)o.sort((l,c)=>l[0]>c[0]?1:l[0]<c[0]?-1:0);for(let o=0,l=this.bar.staff.tuning.length;o<l;o++){const c=this.getTabY(o);let u=0;for(let d of a[o])n.fillRect(e+this.x+u,r+this.y+c|0,d[0]-u,this.scale*Pr.StaffLineThickness),u=d[0]+d[1];n.fillRect(e+this.x+u,r+this.y+c|0,this.width-u,this.scale*Pr.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}paint(e,r,n){super.paint(e,r,n),this.settings.notation.rhythmMode!==So.Hidden&&(this.paintBeams(e,r,n),this.paintTuplets(e,r,n))}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let c=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,c)}}}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1||this.settings.notation.rhythmMode===So.ShowWithBeams?this.paintFooter(e,r,n,i):this.paintBar(e,r,n,i))}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s];if(i.hasBeatLineX(o)){let l=i.getBeatLineX(o),c=r+this.y,u=r+this.y+this.height-this._tupletSize,d=this.getOnNotesGlyphForBeat(o);!d.noteNumbers||o.duration===H.Half?c+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:c+=d.noteNumbers.getNoteY(d.noteNumbers.minStringNote,Xe.Bottom)+this.lineOffset/2,this.paintBeamingStem(o,r+this.y,e+this.x+l,c,u,n);let h=6*this.scale,p=-6*this.scale,f=3*this.scale,m=ir.getIndex(o.duration)-2,g=u;for(let y=0;y<m;y++){let b=0,v=0,k=0,C=0,S=g+y*p;if(i.beats.length===1)b=l,v=l+h,k=S,C=S,Co.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f);else if(s<i.beats.length-1){if(zi.isFullBarJoin(o,i.beats[s+1],y))b=l,v=i.getBeatLineX(i.beats[s+1]);else if(s===0||!zi.isFullBarJoin(i.beats[s-1],o,y))b=l,v=b+h;else continue;k=S,C=S,Co.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f)}else s>0&&!zi.isFullBarJoin(o,i.beats[s-1],y)&&(b=l-h,v=l,k=S,C=S,Co.paintSingleBar(n,e+this.x+b,k,e+this.x+v,C,f))}}}}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=et.Center,n.textBaseline=gt.Middle;let l,c=i.beats[0].tupletNumerator,u=i.beats[0].tupletDenominator;if(c===2&&u===3?l="2":c===3&&u===2?l="3":c===4&&u===6?l="4":c===5&&u===4?l="5":c===6&&u===4?l="6":c===7&&u===4?l="7":c===9&&u===8?l="9":c===10&&u===8?l="10":c===11&&u===8?l="11":c===12&&u===8?l="12":c===13&&u===8?l="13":l=c+":"+u,i.beats.length===1||!i.isFull)for(let d=0,h=i.beats.length;d<h;d++){let p=i.beats[d],f=this.helpers.beamHelperLookup[i.voice.index].get(p.index);if(!f)continue;let m=f.getBeatLineX(p),g=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5;n.font=s.effectFont,n.fillText(l,e+this.x+m,g)}else{let d=i.beats[0],h=i.beats[i.beats.length-1],p=this.helpers.beamHelperLookup[i.voice.index].get(d.index),f=this.helpers.beamHelperLookup[i.voice.index].get(h.index);if(p&&f){let m=p.getBeatLineX(d),g=f.getBeatLineX(h);n.font=s.effectFont;let y=n.measureText(l),b=3*this.scale,v=(m+g)/2,k=v-y/2-b,C=v+y/2+b,S=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5,_=-s.effectFont.size*.25,B=-5*this.scale;n.beginPath(),n.moveTo(e+this.x+m,S-_|0),n.lineTo(e+this.x+m,S-_-B|0),n.lineTo(e+this.x+k,S-_-B|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+C,S-_-B|0),n.lineTo(e+this.x+g,S-_-B|0),n.lineTo(e+this.x+g,S-_|0),n.stroke(),n.fillText(l,e+this.x+v,S-_-B)}}n.textAlign=a,n.textBaseline=o}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s-a),e.lineTo(r,n-a),e.closePath(),e.fill()}paintBeamingStem(e,r,n,i,s,a){a.beginPath();let o=[];this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.has(e.displayStart)&&(o=this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.get(e.displayStart).slots.slice(),o.sort((c,u)=>c.topY-u.topY));let l=s;for(;l>i;){a.moveTo(n,l);let c=i;if(o.length>0&&o[o.length-1].bottomY>c){const u=o.pop();c=r+u.bottomY,a.lineTo(n,c),l=r+u.topY}else{a.lineTo(n,c);break}}a.stroke()}paintFooter(e,r,n,i){for(let s of i.beats){if(s.graceType!==tt.None||s.duration===H.Whole||s.duration===H.DoubleWhole||s.duration===H.QuadrupleWhole)return;let a=i.getBeatLineX(s),o=r+this.y,l=r+this.y+this.height-this._tupletSize,c=this.getOnNotesGlyphForBeat(s);if(!c.noteNumbers||s.duration===H.Half?o+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:o+=c.noteNumbers.getNoteY(c.noteNumbers.minStringNote,Xe.Bottom),this.paintBeamingStem(s,r+this.y,e+this.x+a,o,l,n),s.duration>H.Quarter){let u=new Ud(0,0,s.duration,Pe.Down,!1);u.renderer=this,u.doLayout(),u.paint(e+this.x+a,l,n)}}}}Co.StaffId="tab";Co.TabLineSpacing=10;class kw extends PC{get staffId(){return Co.StaffId}constructor(e,r,n){super(),this._showTimeSignature=e,this._showRests=r,this._showTiedNotes=n,this.hideOnPercussionTrack=!0}canCreate(e,r){return r.tuning.length>0&&super.canCreate(e,r)}create(e,r){let n=new Co(e,r);return n.showRests=this._showRests,n.showTimeSignature=this._showTimeSignature,n.showTiedNotes=this._showTiedNotes,n}}class ap extends Ra{constructor(){super(0,0)}doLayout(){super.doLayout();const e=this.renderer.resources.effectFont;this.height=e.size+ap.Padding*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=et.Center,n.fillText("T",e+this.x,r+this.y+n.font.size/2),n.textAlign=s,n.strokeCircle(e+this.x,r+this.y+n.font.size/2+(ap.Padding-1)*this.scale,n.font.size/1.6)}}ap.Padding=4;class Xm extends Zc{get notationElement(){return it.EffectTap}get sizingMode(){return Lt.SingleOnBeat}shouldCreateGlyphForNote(e){return e.isLeftHandTapped}createNewGlyph(e,r){return new ap}}class qo{constructor(){this.noteRange=1,this.x=0,this.y=0}}var yc;(function(t){t[t.None=0]="None",t[t.Rectangle=1]="Rectangle",t[t.Ellipse=2]="Ellipse",t[t.Circle=3]="Circle"})(yc||(yc={}));class Cw extends qo{constructor(){super(...arguments),this.align=et.Left,this.frame=yc.None,this.text="",this.fontFace="",this.weight=0,this.height=0}}class XN extends qo{constructor(){super(...arguments),this.chord=new Il}}class qN extends qo{}class KN extends qo{}class ooe extends qo{constructor(){super(...arguments),this.number=0}}class QN extends qo{constructor(){super(...arguments),this.decrescendo=!1}}class Tw extends qo{constructor(){super(...arguments),this.allNumbers=!1,this.firstNumber=0,this.lastNumber=0}}class loe extends qo{constructor(){super(...arguments),this.octave=1}}class coe extends qo{}class uoe{constructor(){this.defaultClef=ct.G2,this.description="",this.percussion=!1,this.instrument=0,this.volume=0,this.transpose=0,this.index=0}}class doe{constructor(){this.from=0,this.to=0,this.curly=!1}}class hoe{constructor(){this.currentBarIndex=-1,this.currentBarComplete=!0,this.currentBarDuration=0,this.currentPosition=0,this.voiceStemDir=null,this.repeatCount=0,this.repeatEnd=null}}class Fy{constructor(){this._trackChannel=0,this._beamingMode=va.Auto,this._isFirstSystem=!0,this._staffLookup=new Map,this._brackets=[],this._staffLayoutLookup=new Map,this._staffLayouts=[],this._timeSignature=new Oo,this._voiceStates=new Map}parseXml(e,r){this._galleryObjects=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._voiceCounts=new Map,this._slurs=new Map,this._crescendo=new Map,this._isFirstSystem=!0;let n=new wC;try{n.parse(e)}catch(i){throw new Zr("Could not parse XML",i)}this.parseDom(n),this.consolidate(),this.score.finish(r)}consolidate(){let e=this.score.tempo;for(const r of this.score.tracks){const n=this._voiceCounts.get(r.index);for(const i of r.staves){for(;i.bars.length<this.score.masterBars.length;)this.addNewBar(i);for(const s of i.bars){for(;s.voices.length<n;)s.addVoice(new ao);for(const o of s.voices)if(o.beats.length===0){const l=new zn;l.isEmpty=!0,o.addBeat(l)}const a=s.masterBar;a.tempoAutomation&&(a.tempoAutomation.value!==e?e=a.tempoAutomation.value:a.tempoAutomation=null)}}}Fy.applyEffectRange(this._slurs,(r,n)=>{n.isLegatoOrigin=!0}),Fy.applyEffectRange(this._crescendo,(r,n)=>{n.crescendo=r.decrescendo?Ti.Decrescendo:Ti.Crescendo})}static applyEffectRange(e,r){for(const[n,i]of e){const s=i.noteRange;let a=n;for(let o=0;o<s;o++)if(r(i,a),a.index+1<a.voice.beats.length)a=a.voice.beats[a.index+1];else if(a.voice.bar.index+1<a.voice.bar.staff.bars.length)a=a.voice.bar.staff.bars[a.voice.bar.index+1].voices[a.voice.index].beats[0];else break}}parseDom(e){let r=e.firstElement;if(!r)throw new Zr("No valid XML");if(r.localName==="score"){this.score=new Jc,this.score.tempo=120;for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"info":this.parseInfo(n);break;case"layout":this.parseLayout(n);break;case"gallery":this.parseGallery(n);break;case"pageObjects":this.parsePageObjects(n);break;case"systems":this.parseSystems(n);break}}else throw new Zr('Root node of XML was not "score"')}parseLayout(e){for(let s of e.childNodes)if(s.nodeType===be.Element)switch(s.localName){case"staves":this.parseLayoutStaves(s);break;case"brackets":this.parseBrackets(s);break}const r=this._brackets.filter(s=>!!s.curly);r.sort((s,a)=>s.from-a.from);let n=0,i=null;for(let s=0;s<this._staffLayouts.length;s++){const a=this._staffLayouts[s];for(;n<r.length&&s>r[n].to;)n++;i&&n<r.length&&s>r[n].from&&s<=r[n].to?i.ensureStaveCount(i.staves.length+1):(i=new so,i.ensureStaveCount(1),i.name=a.description,i.playbackInfo.volume=Math.floor(a.volume/128*16),i.playbackInfo.program=a.instrument,a.percussion?(i.playbackInfo.primaryChannel=9,i.playbackInfo.secondaryChannel=9):(i.playbackInfo.primaryChannel=this._trackChannel++,i.playbackInfo.secondaryChannel=this._trackChannel++),this.score.addTrack(i));const o=i.staves[i.staves.length-1];o.isPercussion=a.percussion,o.transpositionPitch=a.transpose,o.displayTranspositionPitch=0,o.showTablature=!1,this._staffLookup.set(a.index,o)}}parseBrackets(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"bracket":this.parseBracket(r);break}}parseBracket(e){const r=new doe;r.from=parseInt(e.getAttribute("from")),r.to=parseInt(e.getAttribute("to")),e.attributes.has("curly")&&(r.curly=e.attributes.get("curly")==="true"),this._brackets.push(r)}parseLayoutStaves(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"staffLayout":this.parseStaffLayout(r);break}}parseStaffLayout(e){const r=new uoe;r.description=e.getAttribute("description");for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"notation":n.attributes.has("defaultClef")&&(r.defaultClef=this.parseClef(n.attributes.get("defaultClef")));break;case"sound":n.attributes.has("percussion")&&(r.percussion=n.attributes.get("percussion")==="true"),n.attributes.has("instr")&&(r.instrument=parseInt(n.attributes.get("instr"))),n.attributes.has("volume")&&(r.volume=parseInt(n.attributes.get("volume"))),n.attributes.has("transpose")&&(r.transpose=parseInt(n.attributes.get("transpose")));break}this._staffLayoutLookup.set(r.description,r),r.index=this._staffLayouts.length,this._staffLayouts.push(r)}parseClef(e){switch(e){case"treble":return ct.G2;case"bass":return ct.F4;case"alto":return ct.C4;case"tenor":return ct.C4}return ct.G2}parseClefOttava(e){return e.endsWith("-")?$t._8vb:e.endsWith("+")?$t._8va:$t.Regular}parseSystems(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"system":this.parseSystem(r);break}}parseSystem(e){e.attributes.has("tempo")&&this.score.masterBars.length===0&&(this.score.tempo=parseInt(e.attributes.get("tempo"))),e.getAttribute("beamGrouping")==="0"&&(this._beamingMode=va.ForceSplitToNext);for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"staves":this.parseStaves(e,r);break}this._isFirstSystem=!1}parseStaves(e,r){let n=this.score.masterBars.length;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"staff":this.parseStaff(e,n,i);break}}parseStaff(e,r,n){const i=n.getAttribute("layout");this._currentStaffLayout=this._staffLayoutLookup.get(i),this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!1,this.parseTime(n.getAttribute("defaultTime"));const s=this._staffLookup.get(this._currentStaffLayout.index);for(;s.bars.length<r;)this.addNewBar(s);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"voices":this.parseVoices(i,s,e,r,a);break}}parseTime(e){switch(e){case"allaBreve":case"C":this._timeSignature.timeSignatureNumerator=2,this._timeSignature.timeSignatureDenominator=2,this._timeSignature.timeSignatureCommon=!0;break;case"longAllaBreve":this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!0;break;default:if(e.indexOf("/")>0){const r=e.split("/");this._timeSignature.timeSignatureNumerator=parseInt(r[0]),this._timeSignature.timeSignatureDenominator=parseInt(r[1]),this._timeSignature.timeSignatureCommon=!1}break}}parseVoices(e,r,n,i,s){let a=0;for(let o of s.childNodes)if(o.nodeType===be.Element)switch(o.localName){case"voice":this.parseVoice(e,r,n,a,i,o),a++;break}}getOrCreateBar(e,r){return r<e.bars.length?e.bars[r]:this.addNewBar(e)}addNewBar(e){let r=new jo;if(e.bars.length>0?(r.clef=e.bars[e.bars.length-1].clef,r.clefOttava=e.bars[e.bars.length-1].clefOttava):r.clef=this._currentStaffLayout.defaultClef,e.addBar(r),e.bars.length>this.score.masterBars.length){let n=new Oo;this.score.addMasterBar(n),n.index>0&&(n.keySignature=n.previousMasterBar.keySignature,n.keySignatureType=n.previousMasterBar.keySignatureType,n.tripletFeel=n.previousMasterBar.tripletFeel),n.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,n.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,n.timeSignatureCommon=this._timeSignature.timeSignatureCommon}return r}newBar(e,r){this._currentVoiceState.currentBarIndex++,this._currentBar=this.getOrCreateBar(e,this._currentVoiceState.currentBarIndex),this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1),this._currentVoiceState.currentBarComplete=!1,this._currentVoiceState.currentPosition=0,this.ensureVoice(e,r)}parseVoice(e,r,n,i,s,a){const o=e+"_"+i;if(this._currentVoiceState&&!this._currentVoiceState.currentBarComplete&&(this._currentBar.masterBar.isAnacrusis=!0),this._voiceStates.has(o)?(this._currentVoiceState=this._voiceStates.get(o),this._currentBar=this.getOrCreateBar(r,this._currentVoiceState.currentBarIndex),this.ensureVoice(r,i)):(this._currentVoiceState=new hoe,this._currentVoiceState.currentBarIndex=s-1,this._voiceStates.set(o,this._currentVoiceState),this.newBar(r,i)),a.attributes.has("stemDir"))switch(a.attributes.get("stemDir")){case"up":this._currentVoiceState.voiceStemDir=Pe.Up;break;case"down":this._currentVoiceState.voiceStemDir=Pe.Down;break;default:this._currentVoiceState.voiceStemDir=null;break}else this._currentVoiceState.voiceStemDir=null;const l=a.findChildElement("noteObjects");if(n.attributes.has("tempo")&&(this._currentBar.masterBar.tempoAutomation=new $n,this._currentBar.masterBar.tempoAutomation.isLinear=!0,this._currentBar.masterBar.tempoAutomation.type=mn.Tempo,this._currentBar.masterBar.tempoAutomation.value=parseInt(n.attributes.get("tempo"))),l){for(let c of l.childNodes)if(c.nodeType===be.Element)switch(this._currentVoiceState.currentBarComplete&&c.localName!=="barline"&&this.newBar(r,i),c.localName){case"clefSign":this._currentBar.clef=this.parseClef(c.getAttribute("clef")),this._currentBar.clefOttava=this.parseClefOttava(c.getAttribute("clef"));break;case"keySign":this._currentBar.masterBar.keySignature=parseInt(c.getAttribute("fifths"));break;case"timeSign":this.parseTime(c.getAttribute("time")),this._currentBar.masterBar.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,this._currentBar.masterBar.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,this._currentBar.masterBar.timeSignatureCommon=this._timeSignature.timeSignatureCommon,this._currentVoiceState.currentPosition=0,this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1);break;case"barline":switch(c.getAttribute("type")){case"double":this._currentBar.masterBar.isDoubleBar=!0,this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"end":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0);break;case"repEnd":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"repBegin":this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0,this._currentVoiceState.repeatEnd=null,this._currentVoiceState.repeatCount=0;break;case"repEndBegin":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0;break;case"dashed":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;default:this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break}break;case"chord":let u=new zn;this.initFromPreviousBeat(u,this._currentVoice),u.beamingMode=this._beamingMode,this._currentVoiceState.voiceStemDir&&(u.preferredBeamDirection=this._currentVoiceState.voiceStemDir),this.parseDuration(this._currentBar,u,c.findChildElement("duration")),u.updateDurations(),this._currentVoiceState.currentPosition+=u.playbackDuration,this._currentVoice.addBeat(u),this.parseChord(u,c),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0);break;case"rest":const d=this.parseRestDurations(this._currentBar,c.findChildElement("duration"));d&&(this.initFromPreviousBeat(d,this._currentVoice),d.updateDurations(),this._currentVoiceState.currentPosition+=d.playbackDuration,this._currentVoice.addBeat(d),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0));break}}}initFromPreviousBeat(e,r){let n=this.getLastBeat(r);n&&(e.dynamics=n.dynamics)}getLastBeat(e){if(e.beats.length>0)return e.beats[e.beats.length-1];if(e.bar.index>0){const r=e.bar.staff.bars[e.bar.index-1];if(e.index<r.voices.length){const n=r.voices[e.index];return this.getLastBeat(n)}}return null}ensureVoice(e,r){for(;this._currentBar.voices.length<r+1;)this._currentBar.addVoice(new ao);(!this._voiceCounts.has(e.track.index)||this._voiceCounts.get(e.track.index)<this._currentBar.voices.length)&&this._voiceCounts.set(e.track.index,this._currentBar.voices.length),this._currentVoice=this._currentBar.voices[r]}parseChord(e,r){const n=new Rr;for(let i of r.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"stem":switch(i.getAttribute("dir")){case"up":e.preferredBeamDirection=Pe.Up;break;case"down":e.preferredBeamDirection=Pe.Down;break}break;case"articulation":switch(i.getAttribute("type")){case"staccato":n.isStaccato=!0;break;case"normalAccent":n.accentuated=en.Normal;break;case"strongAccent":n.accentuated=en.Heavy;break}break;case"lyric":this.parseLyric(e,i);break;case"drawObjects":this.parseBeatDrawObject(e,i);break;case"heads":this.parseHeads(e,n,i);break;case"beam":switch(i.getAttribute("group")){case"force":e.beamingMode=va.ForceMergeWithNext;break;case"divide":e.beamingMode=va.ForceSplitToNext;break}break}}parseHeads(e,r,n){for(let i of n.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"head":this.parseHead(e,r,i);break}}parseHead(e,r,n){const i=new Rr,s=ir.parseTuning(n.getAttribute("pitch"));i.octave=s.octave-1,i.tone=s.noteValue,i.isStaccato=r.isStaccato,i.accentuated=r.accentuated,e.addNote(i);for(let a of n.childNodes)if(a.nodeType===be.Element)switch(a.localName){case"alter":a.attributes.has("step")&&(i.tone+=parseInt(a.attributes.get("step")));break;case"tie":a.attributes.has("begin")?this._tieStartIds.has(i.id)||(this._tieStartIds.set(i.id,!0),this._tieStarts.push(i)):a.attributes.has("end")&&this._tieStarts.length>0&&!i.isTieDestination&&(i.isTieDestination=!0,i.tieOrigin=this._tieStarts[0],this._tieStarts.splice(0,1),this._tieStartIds.delete(i.id));break}}parseBeatDrawObject(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"drawObj":const i=this.parseDrawObj(n);if(i){if(i instanceof Cw)i.fontFace.startsWith("capella")?i.text==="u"?(e.fermata=new bC,e.fermata.type=Ta.Medium):i.text==="f"?e.dynamics=wt.F:i.text==="j"&&(e.dynamics=wt.MF):this._isFirstSystem&&this.score.title===""&&i.align===et.Center&&i.height>16&&i.weight>400?this.score.title=i.text:this._isFirstSystem&&this.score.artist===""&&i.align===et.Center&&i.y<0?this.score.artist=i.text:this._isFirstSystem&&this.score.music===""&&i.align===et.Right&&i.y<0?this.score.music=i.text:i.text.startsWith("by capella")||(e.text=i.text);else if(!(i instanceof XN))if(i instanceof KN)e.vibrato=At.Slight;else if(i instanceof QN)e.crescendo=i.decrescendo?Ti.Decrescendo:Ti.Crescendo,i.noteRange++,this._crescendo.set(e,i);else if(i instanceof qN){const s=i;this._slurs.set(e,s)}else i instanceof Tw&&this.applyVolta(i)}break}}parseBarDrawObject(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&n instanceof Tw&&this.applyVolta(n);break}}applyVolta(e){if(e.lastNumber>0?(this._currentVoiceState.repeatCount=e.lastNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)):e.firstNumber>0&&(this._currentVoiceState.repeatCount=e.firstNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)),e.lastNumber>0&&e.firstNumber>0){let r=0;for(let n=e.firstNumber;n<=e.lastNumber;n++)r=r|1<<n-1;this._currentBar.masterBar.alternateEndings=r}else e.lastNumber>0?this._currentBar.masterBar.alternateEndings=1<<e.lastNumber-1:e.firstNumber>0&&(this._currentBar.masterBar.alternateEndings=1<<e.firstNumber-1)}parseLyric(e,r){for(let n of r.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"verse":e.lyrics||(e.lyrics=[]);let i=n.innerText;n.getAttribute("hyphen")==="true"&&(i+="-"),e.lyrics.push(i);break}}parseRestDurations(e,r){const n=r.getAttribute("base");if(n.indexOf("/")!==-1){let s=new zn;return s.beamingMode=this._beamingMode,this.parseDuration(e,s,r),s}if(parseInt(n)===1){let s=new zn;return s.beamingMode=this._beamingMode,s.duration=H.Whole,s}else return ve.warning("Importer","Multi-Bar rests are not supported"),null}parseDurationValue(e){switch(e){case"2/1":return H.DoubleWhole;case"1/1":return H.Whole;case"1/2":return H.Half;case"1/4":return H.Quarter;case"1/8":return H.Eighth;case"1/16":return H.Sixteenth;case"1/32":return H.ThirtySecond;case"1/64":return H.SixtyFourth;case"1/128":return H.OneHundredTwentyEighth;default:return ve.warning("Importer","Unsupported duration"),H.Quarter}}parseDuration(e,r,n){const i=n.getAttribute("base");r.duration=this.parseDurationValue(i),n.attributes.has("dots")&&(r.dots=parseInt(n.attributes.get("dots")));const s=n.findChildElement("tuplet");if(s){r.tupletNumerator=parseInt(s.getAttribute("count"));const a=s.getAttribute("tripartite")==="true"?3:1,o=s.getAttribute("prolong")==="true"?0:1;let l=0;for(;a*Math.pow(2,l+o)<r.tupletNumerator;)l++;r.tupletDenominator=a*Math.pow(2,l)}}parsePageObjects(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);if(n&&n instanceof Cw)switch(n.align){case et.Center:this.score.title?this.score.subTitle||(this.score.subTitle=r.innerText):this.score.title=r.innerText;break;case et.Right:this.score.artist||(this.score.artist=r.innerText);break}break}}parseGallery(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&this._galleryObjects.set(r.getAttribute("name"),n);break}}parseDrawObj(e){let r=null,n=1;for(let i of e.childNodes)if(i.nodeType===be.Element)switch(i.localName){case"text":r=this.parseText(i);break;case"guitar":r=this.parseGuitar(i);break;case"slur":r=this.parseSlur(i);break;case"wavyLine":r=this.parseWavyLine(i);break;case"bracket":r=this.parseTupletBracket(i);break;case"wedge":r=this.parseWedge(i);break;case"volta":r=this.parseVolta(i);break;case"octaveClef":r=this.parseOctaveClef(i);break;case"trill":r=this.parseTrill(i);break;case"basic":i.attributes.has("noteRange")&&(n=parseInt(i.attributes.get("noteRange")));break}return r&&(r.noteRange=n),r}parseTrill(e){return new coe}parseOctaveClef(e){const r=new loe;return e.attributes.has("octave")&&(r.octave=parseInt(e.attributes.get("octave"))),r}parseVolta(e){const r=new Tw;return r.allNumbers=e.attributes.get("allNumbers")==="true",e.attributes.has("firstNumber")&&(r.firstNumber=parseInt(e.attributes.get("firstNumber"))),e.attributes.has("lastNumber")&&(r.lastNumber=parseInt(e.attributes.get("lastNumber"))),r}parseWedge(e){const r=new QN;return r.decrescendo=e.attributes.get("decrescendo")==="true",r}parseTupletBracket(e){const r=new ooe;return e.attributes.has("number")&&(r.number=parseInt(e.attributes.get("number"))),r}parseWavyLine(e){return new KN}parseSlur(e){return new qN}parseGuitar(e){const r=new XN,n=e.innerText.trim();for(let i=0;i<n.length;i++)n.charAt(i)==="/"?r.chord.strings.push(0):r.chord.strings.push(parseInt(n.charAt(i)));return r}parseText(e){const r=new Cw;switch(e.attributes.has("x")&&(r.x=parseFloat(e.attributes.get("x"))),e.attributes.has("x")&&(r.y=parseFloat(e.attributes.get("y"))),e.getAttribute("align")){case"left":r.align=et.Left;break;case"center":r.align=et.Center;break;case"right":r.align=et.Right;break}switch(e.getAttribute("frame")){case"rectangle":r.frame=yc.Rectangle;break;case"ellipse":r.frame=yc.Ellipse;break;case"circle":r.frame=yc.Circle;break;case"none":r.frame=yc.None;break}if(e.firstElement){for(let n of e.childNodes)if(n.nodeType===be.Element)switch(n.localName){case"font":r.fontFace=n.getAttribute("face"),n.attributes.has("weight")&&(r.weight=parseInt(n.attributes.get("weight"))),n.attributes.has("height")&&(r.height=parseInt(n.attributes.get("height")));break;case"content":r.text=n.innerText;break}}else r.text=e.innerText;return r}parseInfo(e){for(let r of e.childNodes)if(r.nodeType===be.Element)switch(r.localName){case"author":this.score.tab=r.firstChild.innerText;break;case"comment":this.score.notices=r.firstChild.innerText;break}}}class foe extends Wd{get name(){return"Capella"}constructor(){super()}readScore(){ve.debug(this.name,"Loading ZIP entries");let e=new oA(this.data),r,n=null;if(r=e.read(),ve.debug(this.name,"Zip entries loaded"),r.length>0)for(let i of r)switch(i.fileName){case"score.xml":n=ue.toString(i.data,this.settings.importer.encoding);break}else this.data.reset(),n=ue.toString(this.data.readAll(),this.settings.importer.encoding);if(!n)throw new Zr("No valid capella file");ve.debug(this.name,"Start Parsing score.xml");try{let i=new Fy;return i.parseXml(n,this.settings),ve.debug(this.name,"score.xml parsed"),i.score}catch(i){throw new Zr("Failed to parse CapXML",i)}}}class poe{constructor(e){this._targets=new Set,this._callback=e,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}observe(e){this._targets.add(e)}unobserve(e){this._targets.delete(e)}disconnect(){this._targets.clear()}onWindowResize(){const e=[];for(const r of this._targets)e.push({target:r,contentRect:void 0,borderBoxSize:void 0,contentBoxSize:[],devicePixelContentBoxSize:[]});this._callback(e,this)}}class moe{constructor(e){this._elements=[];let r=null;const n=this._check.bind(this);this._check=()=>{r||(r=setTimeout(()=>{n(),r=null},100))},this._callback=e,window.addEventListener("resize",this._check,!0),document.addEventListener("scroll",this._check,!0)}observe(e){this._elements.indexOf(e)>=0||(this._elements.push(e),this._check())}unobserve(e){this._elements=this._elements.filter(r=>r!=e)}_check(){const e=[];this._elements.forEach(r=>{const n=r.getBoundingClientRect();n.top+n.height>=0&&n.top<=window.innerHeight&&n.left+n.width>=0&&n.left<=window.innerWidth&&e.push({target:r,isIntersecting:!0})}),e.length&&this._callback(e,this)}}function JN(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var goe=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function ZN(t){function e(n){t.error=t.hasError?new goe(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}class fr{static enable(e,r){fr.alphaSkia=r,fr.initializeMusicFont(fr.alphaSkia.AlphaSkiaTypeface.register(e))}static initializeMusicFont(e){fr.musicFont=e}static registerFont(e,r){const n=fr.alphaSkia.AlphaSkiaTypeface.register(e.buffer);r||(r=Ft.withFamilyList([n.familyName],12,n.isItalic?Br.Italic:Br.Plain,n.isBold?Oi.Bold:Oi.Regular));for(const i of r.families)this.customTypeFaces.set(fr.customTypefaceKey(i,r.isBold,r.isItalic),n);return r}static customTypefaceKey(e,r,n){return e.toLowerCase()+"_"+r+"_"+n}getTypeFace(){if(this._typeFaceCache!=this.font.toCssString(this.settings.display.scale)){if(this._typeFaceIsSystem){const r={stack:[],error:void 0,hasError:!1};try{const n=JN(r,this._typeFace,!1)}catch(n){r.error=n,r.hasError=!0}finally{ZN(r)}}for(const r of this.font.families){var e=fr.customTypefaceKey(r,this.font.isBold,this.font.isItalic);fr.customTypeFaces.has(e)?(this._typeFaceIsSystem=!1,this._typeFace=fr.customTypeFaces.get(e)):(this._typeFaceIsSystem=!0,this._typeFace=fr.alphaSkia.AlphaSkiaTypeface.create(r,this.font.isBold,this.font.isItalic))}this._typeFaceCache=this.font.toCssString(this.settings.display.scale)}return this._typeFace}constructor(){this._color=new Sr(0,0,0,0),this._lineWidth=0,this._typeFaceCache="",this._typeFaceIsSystem=!1,this._typeFace=null,this.font=new Ft("Arial",10,Br.Plain),this.textAlign=et.Left,this.textBaseline=gt.Top,this._canvas=new fr.alphaSkia.AlphaSkiaCanvas,this.color=new Sr(0,0,0,255)}destroy(){const e={stack:[],error:void 0,hasError:!1};try{const r=JN(e,this._canvas,!1)}catch(r){e.error=r,e.hasError=!0}finally{ZN(e)}}onRenderFinished(){return null}beginRender(e,r){this._canvas.beginRender(e,r,Ne.HighDpiFactor)}endRender(){return this._canvas.endRender()}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._canvas.color=fr.alphaSkia.AlphaSkiaCanvas.rgbaToColor(e.r,e.g,e.b,e.a))}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._canvas.lineWidth=e}fillRect(e,r,n,i){n>0&&this._canvas.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._canvas.strokeRect(e|0,r|0,n,i)}beginPath(){this._canvas.beginPath()}closePath(){this._canvas.closePath()}moveTo(e,r){this._canvas.moveTo(e,r)}lineTo(e,r){this._canvas.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._canvas.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._canvas.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._canvas.fillCircle(e,r,n)}strokeCircle(e,r,n){this._canvas.strokeCircle(e,r,n)}fill(){this._canvas.fill()}stroke(){this._canvas.stroke()}beginGroup(e){}endGroup(){}fillText(e,r,n){if(e.length==0)return;let i=fr.alphaSkia.AlphaSkiaTextAlign.Left;switch(this.textAlign){case et.Left:i=fr.alphaSkia.AlphaSkiaTextAlign.Left;break;case et.Center:i=fr.alphaSkia.AlphaSkiaTextAlign.Center;break;case et.Right:i=fr.alphaSkia.AlphaSkiaTextAlign.Right;break}let s=fr.alphaSkia.AlphaSkiaTextBaseline.Top;switch(this.textBaseline){case gt.Top:s=fr.alphaSkia.AlphaSkiaTextBaseline.Top;break;case gt.Middle:s=fr.alphaSkia.AlphaSkiaTextBaseline.Middle;break;case gt.Bottom:s=fr.alphaSkia.AlphaSkiaTextBaseline.Bottom;break}this._canvas.fillText(e,this.getTypeFace(),this.font.size*this.settings.display.scale,r,n,i,s)}measureText(e){return this._canvas.measureText(e,this.getTypeFace(),this.font.size*this.settings.display.scale)}fillMusicFontSymbol(e,r,n,i,s){i!==P.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==P.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this._canvas.fillText(i,fr.musicFont,Ne.MusicFontSize*this.settings.display.scale*n,e,r,s?fr.alphaSkia.AlphaSkiaTextAlign.Center:fr.alphaSkia.AlphaSkiaTextAlign.Left,fr.alphaSkia.AlphaSkiaTextBaseline.Alphabetic)}beginRotate(e,r,n){this._canvas.beginRotate(e,r,n)}endRotate(){this._canvas.endRotate()}}fr.musicFont=null;fr.customTypeFaces=new Map;class eM{constructor(e,r){this.vertical=e,this.createLayout=r}}class _w{constructor(e,r){this.supportsWorkers=e,this.createCanvas=r}}class Ne{static createStyleElement(e,r){let n=e.getElementById("alphaTabStyle");if(!n){if(!r){ve.error("AlphaTab","Font directory could not be detected, cannot create style element");return}n=e.createElement("style"),n.id="alphaTabStyle";let i=`
            @font-face {
                font-family: 'alphaTab';
                 src: url('${r}Bravura.eot');
                 src: url('${r}Bravura.eot?#iefix') format('embedded-opentype')
                      , url('${r}Bravura.woff') format('woff')
                      , url('${r}Bravura.otf') format('opentype')
                      , url('${r}Bravura.svg#Bravura') format('svg');
                 font-weight: normal;
                 font-style: normal;
            }
            .at-surface * {
                cursor: default;
                vertical-align: top;
                overflow: visible;
            }
            .at-surface-svg text {
                dominant-baseline: central;
            }             
            .at {
                 font-family: 'alphaTab';
                 speak: none;
                 font-style: normal;
                 font-weight: normal;
                 font-variant: normal;
                 text-transform: none;
                 line-height: 1;
                 line-height: 1;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
                 font-size: ${Ne.MusicFontSize}px;
                 overflow: visible !important;
            }`;n.innerHTML=i,e.getElementsByTagName("head").item(0).appendChild(n),Ne.bravuraFontChecker.checkForFontAvailability()}}static get globalThis(){if(Ne._globalThis===void 0){try{Ne._globalThis=globalThis}catch{}typeof Ne._globalThis>"u"&&(Ne._globalThis=self),typeof Ne._globalThis>"u"&&(Ne._globalThis=global),typeof Ne._globalThis>"u"&&(Ne._globalThis=window),typeof Ne._globalThis>"u"&&(Ne._globalThis=Function("return this")())}return this._globalThis}static get isRunningInWorker(){return"WorkerGlobalScope"in Ne.globalThis}static get isRunningInAudioWorklet(){return"AudioWorkletGlobalScope"in Ne.globalThis}static throttle(e,r){let n=0;return()=>{Ne.globalThis.clearTimeout(n),n=Ne.globalThis.setTimeout(e,r)}}static detectScriptFile(){if(!Ne.isRunningInWorker&&Ne.globalThis.ALPHATAB_ROOT){let e=Ne.globalThis.ALPHATAB_ROOT;return e=Ne.ensureFullUrl(e),e=Ne.appendScriptName(e),e}try{const e=import.meta.url;if(e&&e.indexOf("file://")===-1)return e}catch{}return"document"in Ne.globalThis&&document.currentScript?document.currentScript.src:null}static ensureFullUrl(e){var r,n,i;if(!e)return"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("file")){let s="",a=Ne.globalThis.location;if(s+=(r=a.protocol)==null?void 0:r.toString(),s+="//",a.hostname&&(s+=(n=a.hostname)==null?void 0:n.toString()),a.port&&(s+=":",s+=(i=a.port)==null?void 0:i.toString()),!e.startsWith("/")){let o=a.pathname.split("/").slice(0,-1).join("/");o.length>0&&(o.startsWith("/")||(s+="/"),s+=o==null?void 0:o.toString())}return e.startsWith("/")||(s+="/"),s+=e==null?void 0:e.toString(),s}return e}static appendScriptName(e){return e&&!e.endsWith(".js")&&(e.endsWith("/")||(e+="/"),e+="alphaTab.js"),e}static detectFontDirectory(){if(!Ne.isRunningInWorker&&Ne.globalThis.ALPHATAB_FONT)return Ne.ensureFullUrl(Ne.globalThis.ALPHATAB_FONT);const e=Ne.scriptFile;if(e){let r=e.lastIndexOf("/");if(r>=0)return e.substr(0,r)+"/font/"}return null}static registerJQueryPlugin(){if(!Ne.isRunningInWorker&&Ne.globalThis&&"jQuery"in Ne.globalThis){let e=Ne.globalThis.jQuery,r=new DN;e.fn.alphaTab=function(n){const i=Array.prototype.slice.call(arguments,1);return this.length===1?r.exec(this[0],n,i):this.each((s,a)=>{r.exec(a,n,i)})},e.alphaTab={restore:DN.restore},e.fn.alphaTab.fn=r}}static getRenderEngineFactory(e){return!e||!Ne.renderEngines.has(e)?Ne.renderEngines.get("default"):Ne.renderEngines.get(e)}static getLayoutEngineFactory(e){return!e||!Ne.layoutEngines.has(e)?Ne.layoutEngines.get(No.Page):Ne.layoutEngines.get(e)}static buildImporters(){return[new Wa,new Ise,new Dse,new Fse,new foe,new ti]}static createDefaultRenderEngines(){const e=new Map;return e.set("svg",new _w(!0,()=>new fae)),e.set("default",e.get("svg")),e.set("skia",new _w(!1,()=>new fr)),Ne.createPlatformSpecificRenderEngines(e),e}static enableAlphaSkia(e,r){fr.enable(e,r)}static registerAlphaSkiaCustomFont(e,r){return fr.registerFont(e,r)}static createPlatformSpecificRenderEngines(e){e.set("html5",new _w(!1,()=>new qse))}static createDefaultStaveProfiles(){const e=new Map;e.set(Ai.ScoreTab,[new il("score-effects",[new ww,new Sw,new gw,new xw,new hw,new pw,new zN,new Um,new zm(!0),new Gm,new Wm,new jm,new Hm,new Xm,new dw]),new jN,new il("tab-effects",[new AN,new zm(!1),new ON,new Vm,new Um,new Gm,new Wm,new jm,new Hm,new VN,new fw,new Ji(Qe.Natural),new Ji(Qe.Artificial),new Ji(Qe.Pinch),new Ji(Qe.Tap),new Ji(Qe.Semi),new Ji(Qe.Feedback),new mw,new FN,new $N,new yw,new vw,new bw,new Xm]),new kw(!1,!1,!1)]),e.set(Ai.Score,[new il("score-effects",[new ww,new Sw,new gw,new xw,new hw,new pw,new zN,new Um,new zm(!0),new Gm,new Wm,new jm,new Hm,new fw,new mw,new yw,new vw,new bw,new Xm,new dw]),new jN,new il("score-bottom-effects",[new AN,new zm(!1),new ON,new Vm])]);let r=[new ww,new Sw,new gw,new xw,new hw,new pw,new Um,new Gm,new Wm,new jm,new Hm,new VN,new fw,new Ji(Qe.Artificial),new Ji(Qe.Pinch),new Ji(Qe.Tap),new Ji(Qe.Semi),new Ji(Qe.Feedback),new mw,new FN,new $N,new yw,new vw,new bw,new Xm,new dw];return e.set(Ai.Tab,[new il("tab-effects",r),new kw(!0,!0,!0),new il("tab-bottom-effects",[new Vm])]),e.set(Ai.TabMixed,[new il("tab-effects",r),new kw(!1,!1,!1),new il("tab-bottom-effects",[new Vm])]),e}static createDefaultLayoutEngines(){const e=new Map;return e.set(No.Page,new eM(!0,r=>new Xp(r))),e.set(No.Horizontal,new eM(!1,r=>new Yp(r))),e}static initializeMain(e,r){Ne.isRunningInWorker||Ne.isRunningInAudioWorklet||((Ne.webPlatform===ss.Browser||Ne.webPlatform===ss.BrowserModule)&&(Ne.registerJQueryPlugin(),Ne.HighDpiFactor=window.devicePixelRatio,"ResizeObserver"in Ne.globalThis||(Ne.globalThis.ResizeObserver=poe),"IntersectionObserver"in Ne.globalThis||(Ne.globalThis.IntersectionObserver=moe),"replaceChildren"in Element.prototype||(Element.prototype.replaceChildren=function(...n){this.innerHTML="",this.append(...n)},Document.prototype.replaceChildren=Element.prototype.replaceChildren,DocumentFragment.prototype.replaceChildren=Element.prototype.replaceChildren),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(n,i){return this.replace(new RegExp(n,"g"),i)})),Ne.createWebWorker=e,Ne.createAudioWorklet=r)}static get alphaTabWorker(){return this.globalThis.Worker}static initializeWorker(){if(!Ne.isRunningInWorker)throw new Tn(Cn.General,"Not running in worker, cannot run worker initialization");TC.init(),kC.init(),Ne.createWebWorker=e=>{throw new Tn(Cn.General,"Nested workers are not supported")}}static initializeAudioWorklet(){if(!Ne.isRunningInAudioWorklet)throw new Tn(Cn.General,"Not running in audio worklet, cannot run worklet initialization");tp.init()}static detectWebPack(){try{if(typeof __webpack_require__=="function")return!0}catch{}return!1}static detectVite(){try{if(typeof __BASE__=="string")return!0}catch{}return!1}static detectWebPlatform(){try{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return ss.NodeJs}catch{}try{const e=import.meta.url;if(e&&typeof e=="string"&&!e.startsWith("file://"))return ss.BrowserModule}catch{}return ss.Browser}}Ne.MusicFontSize=34;Ne.HighDpiFactor=1;Ne._globalThis=void 0;Ne.webPlatform=Ne.detectWebPlatform();Ne.isWebPackBundled=Ne.detectWebPack();Ne.isViteBundled=Ne.detectVite();Ne.scriptFile=Ne.detectScriptFile();Ne.fontDirectory=Ne.detectFontDirectory();Ne.bravuraFontChecker=new MA(["alphaTab"]);Ne.renderEngines=Ne.createDefaultRenderEngines();Ne.layoutEngines=Ne.createDefaultLayoutEngines();Ne.staveProfiles=Ne.createDefaultStaveProfiles();class HA{constructor(){this.scriptFile=null,this.fontDirectory=null,this.file=null,this.tex=!1,this.tracks=null,this.enableLazyLoading=!0,this.engine="default",this.logLevel=ga.Info,this.useWorkers=!0,this.includeNoteBounds=!1,this.scriptFile=Ne.scriptFile,this.fontDirectory=Ne.fontDirectory}}var xe;(function(t){t[t.SteelGuitar=1]="SteelGuitar",t[t.AcousticGuitar=2]="AcousticGuitar",t[t.TwelveStringGuitar=3]="TwelveStringGuitar",t[t.ElectricGuitar=4]="ElectricGuitar",t[t.Bass=5]="Bass",t[t.ClassicalGuitar=23]="ClassicalGuitar",t[t.UprightBass=6]="UprightBass",t[t.Ukulele=7]="Ukulele",t[t.Banjo=8]="Banjo",t[t.Mandolin=9]="Mandolin",t[t.Piano=10]="Piano",t[t.Synth=12]="Synth",t[t.Strings=11]="Strings",t[t.Brass=13]="Brass",t[t.Reed=14]="Reed",t[t.Woodwind=15]="Woodwind",t[t.Vocal=16]="Vocal",t[t.PitchedIdiophone=17]="PitchedIdiophone",t[t.Fx=21]="Fx",t[t.PercussionKit=18]="PercussionKit",t[t.Idiophone=19]="Idiophone",t[t.Membraphone=20]="Membraphone"})(xe||(xe={}));class Ce{constructor(e,r,n=null){if(this.icon=xe.Piano,this.icon=e,this.instrumentSetName=r,n)this.instrumentSetType=n;else{const i=r.split(" ");i[0]=i[0].substr(0,1).toLowerCase()+i[0].substr(1),this.instrumentSetType=i.join("")}}}new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Acoustic Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Electric Piano"),new Ce(xe.Piano,"Harpsichord"),new Ce(xe.Piano,"Harpsichord"),new Ce(xe.PitchedIdiophone,"Celesta"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Piano,"Electric Organ"),new Ce(xe.ClassicalGuitar,"Nylon Guitar"),new Ce(xe.SteelGuitar,"Steel Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.ElectricGuitar,"Electric Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.SteelGuitar,"Electric Guitar"),new Ce(xe.Bass,"Acoustic Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Acoustic Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Bass,"Electric Bass"),new Ce(xe.Synth,"Synth Bass"),new Ce(xe.Synth,"Synth Bass"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Viola"),new Ce(xe.Strings,"Cello"),new Ce(xe.Strings,"Contrabass"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Piano,"Harp"),new Ce(xe.Membraphone,"Timpani"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Strings,"Violin"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Vocal,"Voice"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trombone"),new Ce(xe.Brass,"Tuba"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"French Horn"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Brass,"Trumpet"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Saxophone"),new Ce(xe.Reed,"Oboe"),new Ce(xe.Reed,"English Horn"),new Ce(xe.Reed,"Bassoon"),new Ce(xe.Reed,"Clarinet"),new Ce(xe.Reed,"Piccolo"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Woodwind,"Recorder"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Lead Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Synth,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Pad Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Lead Synthesizer"),new Ce(xe.Fx,"Trumpet"),new Ce(xe.ElectricGuitar,"Banjo"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.Ukulele,"Ukulele"),new Ce(xe.Banjo,"Banjo"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.Reed,"Bassoon"),new Ce(xe.Strings,"Violin"),new Ce(xe.Woodwind,"Flute"),new Ce(xe.PitchedIdiophone,"Xylophone"),new Ce(xe.Idiophone,"Celesta"),new Ce(xe.PitchedIdiophone,"Vibraphone"),new Ce(xe.Idiophone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Membraphone,"Xylophone"),new Ce(xe.Idiophone,"Celesta"),new Ce(xe.Fx,"Steel Guitar"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Recorder"),new Ce(xe.Fx,"Timpani");new Ce(xe.PercussionKit,"Drums","drumKit");class Pc{static buildCrc32Lookup(){const r=new Uint32Array(256);for(let n=0;n<r.length;n++){let i=n;for(let s=0;s<8;s++)i=(i&1)===1?i>>>1^3988292384:i>>>1;r[n]=i}return r}get value(){return~this._checkValue}constructor(){this._checkValue=Pc.CrcInit,this.reset()}update(e,r,n){for(let i=0;i<n;i++)this._checkValue=Pc.Crc32Lookup[(this._checkValue^e[r+i])&255]^this._checkValue>>>8}reset(){this._checkValue=Pc.CrcInit}}Pc.Crc32Lookup=Pc.buildCrc32Lookup();Pc.CrcInit=4294967295;class Nr{}Nr.MAX_WBITS=15;Nr.WSIZE=1<<Nr.MAX_WBITS;Nr.WMASK=Nr.WSIZE-1;Nr.MIN_MATCH=3;Nr.MAX_MATCH=258;Nr.DEFAULT_MEM_LEVEL=8;Nr.PENDING_BUF_SIZE=1<<Nr.DEFAULT_MEM_LEVEL+8;Nr.HASH_BITS=Nr.DEFAULT_MEM_LEVEL+7;Nr.HASH_SIZE=1<<Nr.HASH_BITS;Nr.HASH_SHIFT=(Nr.HASH_BITS+Nr.MIN_MATCH-1)/Nr.MIN_MATCH;Nr.HASH_MASK=Nr.HASH_SIZE-1;Nr.MIN_LOOKAHEAD=Nr.MAX_MATCH+Nr.MIN_MATCH+1;Nr.MAX_DIST=Nr.WSIZE-Nr.MIN_LOOKAHEAD;class ns{constructor(e,r,n,i){this.length=null,this.numCodes=0,this.codes=null,this.huffman=e,this.minNumCodes=n,this.maxLength=i,this.freqs=new Int16Array(r),this.bitLengthCounts=new Int32Array(i)}reset(){for(let e=0;e<this.freqs.length;e++)this.freqs[e]=0;this.codes=null,this.length=null}buildTree(){let e=this.freqs.length,r=new Int32Array(e),n=0,i=0;for(let c=0;c<e;c++){let u=this.freqs[c];if(u!==0){let d=n++;for(;d>0;){let h=Math.floor((d-1)/2);if(this.freqs[r[h]]>u)r[d]=r[h],d=h;else break}r[d]=c,i=c}}for(;n<2;){let c=i<2?++i:0;r[n++]=c}this.numCodes=Math.max(i+1,this.minNumCodes);let s=n,a=new Int32Array(4*n-2),o=new Int32Array(2*n-1),l=s;for(let c=0;c<n;c++){let u=r[c];a[2*c]=u,a[2*c+1]=-1,o[c]=this.freqs[u]<<8,r[c]=c}do{let c=r[0],u=r[--n],d=0,h=1;for(;h<n;)h+1<n&&o[r[h]]>o[r[h+1]]&&h++,r[d]=r[h],d=h,h=h*2+1;let p=o[u];for(;h=d,d>0;)if(d=Math.floor((h-1)/2),o[r[d]]>p)r[h]=r[d];else break;r[h]=u;let f=r[0];u=l++,a[2*u]=c,a[2*u+1]=f;let m=Math.min(o[c]&255,o[f]&255);for(p=o[c]+o[f]-m+1,o[u]=p,d=0,h=1;h<n;)h+1<n&&o[r[h]]>o[r[h+1]]&&h++,r[d]=r[h],d=h,h=d*2+1;for(;h=d,h>0;)if(d=Math.floor((h-1)/2),o[r[d]]>p)r[h]=r[d];else break;r[h]=u}while(n>1);this.buildLength(a)}buildLength(e){this.length=new Uint8Array(this.freqs.length);let r=Math.floor(e.length/2),n=Math.floor((r+1)/2),i=0;for(let l=0;l<this.maxLength;l++)this.bitLengthCounts[l]=0;let s=new Int32Array(r);s[r-1]=0;for(let l=r-1;l>=0;l--)if(e[2*l+1]!=-1){let c=s[l]+1;c>this.maxLength&&(c=this.maxLength,i++),s[e[2*l]]=c,s[e[2*l+1]]=c}else{let c=s[l];this.bitLengthCounts[c-1]++,this.length[e[2*l]]=s[l]}if(i==0)return;let a=this.maxLength-1;do{for(;this.bitLengthCounts[--a]==0;);do this.bitLengthCounts[a]--,this.bitLengthCounts[++a]++,i-=1<<this.maxLength-1-a;while(i>0&&a<this.maxLength-1)}while(i>0);this.bitLengthCounts[this.maxLength-1]+=i,this.bitLengthCounts[this.maxLength-2]-=i;let o=2*n;for(let l=this.maxLength;l!=0;l--){let c=this.bitLengthCounts[l-1];for(;c>0;){let u=2*e[o++];e[u+1]==-1&&(this.length[e[u]]=l,c--)}}}getEncodedLength(){let e=0;for(let r=0;r<this.freqs.length;r++)e+=this.freqs[r]*this.length[r];return e}calcBLFreq(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.freqs[o]++,i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););i<n?e.freqs[s]+=i:s!=0?e.freqs[ns.Repeat3To6]++:i<=10?e.freqs[ns.Repeat3To10]++:e.freqs[ns.Repeat11To138]++}}setStaticCodes(e,r){this.codes=e,this.length=r}buildCodes(){let e=new Int32Array(this.maxLength),r=0;this.codes=new Int16Array(this.freqs.length);for(let n=0;n<this.maxLength;n++)e[n]=r,r+=this.bitLengthCounts[n]<<15-n;for(let n=0;n<this.numCodes;n++){let i=this.length[n];i>0&&(this.codes[n]=rt.bitReverse(e[i-1]),e[i-1]+=1<<16-i)}}writeTree(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.writeSymbol(o),i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););if(i<n)for(;i-- >0;)e.writeSymbol(s);else s!=0?(e.writeSymbol(ns.Repeat3To6),this.huffman.pending.writeBits(i-3,2)):i<=10?(e.writeSymbol(ns.Repeat3To10),this.huffman.pending.writeBits(i-3,3)):(e.writeSymbol(ns.Repeat11To138),this.huffman.pending.writeBits(i-11,7))}}writeSymbol(e){this.huffman.pending.writeBits(this.codes[e]&65535,this.length[e])}}ns.Repeat3To6=16;ns.Repeat3To10=17;ns.Repeat11To138=18;class rt{static staticInit(){let e=0;for(;e<144;)rt.staticLCodes[e]=rt.bitReverse(48+e<<8),rt.staticLLength[e++]=8;for(;e<256;)rt.staticLCodes[e]=rt.bitReverse(256+e<<7),rt.staticLLength[e++]=9;for(;e<280;)rt.staticLCodes[e]=rt.bitReverse(-256+e<<9),rt.staticLLength[e++]=7;for(;e<rt.LITERAL_NUM;)rt.staticLCodes[e]=rt.bitReverse(-88+e<<8),rt.staticLLength[e++]=8;for(e=0;e<rt.DIST_NUM;e++)rt.staticDCodes[e]=rt.bitReverse(e<<11),rt.staticDLength[e]=5}static bitReverse(e){return rt.bit4Reverse[e&15]<<12|rt.bit4Reverse[e>>4&15]<<8|rt.bit4Reverse[e>>8&15]<<4|rt.bit4Reverse[e>>12]}constructor(e){this.last_lit=0,this.extra_bits=0,this.pending=e,this.literalTree=new ns(this,rt.LITERAL_NUM,257,15),this.distTree=new ns(this,rt.DIST_NUM,1,15),this.blTree=new ns(this,rt.BITLEN_NUM,4,7),this.d_buf=new Int16Array(rt.BUFSIZE),this.l_buf=new Uint8Array(rt.BUFSIZE)}isFull(){return this.last_lit>=rt.BUFSIZE}reset(){this.last_lit=0,this.extra_bits=0,this.literalTree.reset(),this.distTree.reset(),this.blTree.reset()}flushStoredBlock(e,r,n,i){this.pending.writeBits((rt.STORED_BLOCK<<1)+(i?1:0),3),this.pending.alignToByte(),this.pending.writeShort(n),this.pending.writeShort(~n),this.pending.writeBlock(e,r,n),this.reset()}flushBlock(e,r,n,i){this.literalTree.freqs[rt.EOF_SYMBOL]++,this.literalTree.buildTree(),this.distTree.buildTree(),this.literalTree.calcBLFreq(this.blTree),this.distTree.calcBLFreq(this.blTree),this.blTree.buildTree();let s=4;for(let l=18;l>s;l--)this.blTree.length[rt.BL_ORDER[l]]>0&&(s=l+1);let a=14+s*3+this.blTree.getEncodedLength()+this.literalTree.getEncodedLength()+this.distTree.getEncodedLength()+this.extra_bits,o=this.extra_bits;for(let l=0;l<rt.LITERAL_NUM;l++)o+=this.literalTree.freqs[l]*rt.staticLLength[l];for(let l=0;l<rt.DIST_NUM;l++)o+=this.distTree.freqs[l]*rt.staticDLength[l];a>=o&&(a=o),r>=0&&n+4<a>>3?this.flushStoredBlock(e,r,n,i):a==o?(this.pending.writeBits((rt.STATIC_TREES<<1)+(i?1:0),3),this.literalTree.setStaticCodes(rt.staticLCodes,rt.staticLLength),this.distTree.setStaticCodes(rt.staticDCodes,rt.staticDLength),this.compressBlock(),this.reset()):(this.pending.writeBits((rt.DYN_TREES<<1)+(i?1:0),3),this.sendAllTrees(s),this.compressBlock(),this.reset())}sendAllTrees(e){this.blTree.buildCodes(),this.literalTree.buildCodes(),this.distTree.buildCodes(),this.pending.writeBits(this.literalTree.numCodes-257,5),this.pending.writeBits(this.distTree.numCodes-1,5),this.pending.writeBits(e-4,4);for(let r=0;r<e;r++)this.pending.writeBits(this.blTree.length[rt.BL_ORDER[r]],3);this.literalTree.writeTree(this.blTree),this.distTree.writeTree(this.blTree)}compressBlock(){for(let e=0;e<this.last_lit;e++){let r=this.l_buf[e]&255,n=this.d_buf[e];if(n--!=0){let i=rt.Lcode(r);this.literalTree.writeSymbol(i);let s=Math.floor((i-261)/4);s>0&&s<=5&&this.pending.writeBits(r&(1<<s)-1,s);let a=rt.Dcode(n);this.distTree.writeSymbol(a),s=Math.floor(a/2)-1,s>0&&this.pending.writeBits(n&(1<<s)-1,s)}else this.literalTree.writeSymbol(r)}this.literalTree.writeSymbol(rt.EOF_SYMBOL)}tallyDist(e,r){this.d_buf[this.last_lit]=e,this.l_buf[this.last_lit++]=r-3;let n=rt.Lcode(r-3);this.literalTree.freqs[n]++,n>=265&&n<285&&(this.extra_bits+=Math.floor((n-261)/4));let i=rt.Dcode(e-1);return this.distTree.freqs[i]++,i>=4&&(this.extra_bits+=Math.floor(i/2)-1),this.isFull()}tallyLit(e){return this.d_buf[this.last_lit]=0,this.l_buf[this.last_lit++]=e,this.literalTree.freqs[e]++,this.isFull()}static Lcode(e){if(e==255)return 285;let r=257;for(;e>=8;)r+=4,e=e>>1;return r+e}static Dcode(e){let r=0;for(;e>=4;)r+=2,e=e>>1;return r+e}}rt.BUFSIZE=1<<Nr.DEFAULT_MEM_LEVEL+6;rt.LITERAL_NUM=286;rt.STORED_BLOCK=0;rt.STATIC_TREES=1;rt.DYN_TREES=2;rt.DIST_NUM=30;rt.staticLCodes=new Int16Array(rt.LITERAL_NUM);rt.staticLLength=new Uint8Array(rt.LITERAL_NUM);rt.staticDCodes=new Int16Array(rt.DIST_NUM);rt.staticDLength=new Uint8Array(rt.DIST_NUM);rt.BL_ORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];rt.bit4Reverse=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]);rt.BITLEN_NUM=19;rt.EOF_SYMBOL=256;rt.staticInit();Ne.isRunningInWorker?Ne.initializeWorker():Ne.isRunningInAudioWorklet?Ne.initializeAudioWorklet():Ne.initializeMain(t=>{if(Ne.webPlatform==ss.NodeJs)throw new Tn(Cn.General,"Workers not yet supported in Node.js");if(Ne.webPlatform==ss.BrowserModule||Ne.isWebPackBundled||Ne.isViteBundled)return ve.debug("AlphaTab","Creating webworker"),new Ne.alphaTabWorker(new URL(new URL("/sandbox/assets/alphaTab.worker-CLdxKs-e.js",import.meta.url),import.meta.url),{type:"module"});if(!t.core.scriptFile)throw new Tn(Cn.General,"Could not detect alphaTab script file, cannot initialize renderer");try{ve.debug("AlphaTab","Creating Blob worker");const e=`importScripts('${t.core.scriptFile}')`,r=new Blob([e]);return new Worker(URL.createObjectURL(r))}catch{return ve.warning("Rendering","Could not create inline worker, fallback to normal worker"),new Worker(t.core.scriptFile)}},(t,e)=>{if(Ne.webPlatform==ss.NodeJs)throw new Tn(Cn.General,"Audio Worklets not yet supported in Node.js");return Ne.webPlatform==ss.BrowserModule||Ne.isWebPackBundled||Ne.isViteBundled?(ve.debug("AlphaTab","Creating Module worklet"),t.audioWorklet.addModule(new URL(new URL("/sandbox/assets/alphaTab.worklet-DYZhGsI-.js",import.meta.url),import.meta.url))):(ve.debug("AlphaTab","Creating Script worklet"),t.audioWorklet.addModule(e.core.scriptFile))});const UA=24,GA=0;var Ay;(t=>{function e(r){switch(r){case 1:return St("E");case 2:return St("B");case 3:return St("G");case 4:return St("D");case 5:return St("A");case 6:return St("E")}}t.firstNote=e})(Ay||(Ay={}));const Ah={toTex(t){return`${t.fret}.${t.string}`},onString(t,e){let r=pr.toNoteNumber(e),n=r-pr.toNoteNumber(Ay.firstNote(t));console.log(n);const i=[];for(;n<=UA;)n>=GA&&i.push(n),r+=jf.octave,n=r-pr.toNoteNumber(Ay.firstNote(t));return i.map(s=>({string:t,fret:s}))}};console.log(Ah.onString(2,St("B")).map(t=>t.fret));function de(t,e){return{string:t,fret:e}}const yoe={generate(t,e,r=ht.Root){switch(t){case 6:switch(e){case Dr.Maj7:switch(r){case ht.Root:return[de(6,0),de(4,1),de(3,1),de(2,0)];case ht.First:return[de(6,0),de(4,-2),de(3,0),de(2,0)];case ht.Second:return[de(6,0),de(5,0),de(4,-1),de(3,1)];case ht.Third:return[de(6,0),de(5,0),de(4,-2),de(3,-2)]}case Dr.Dom7:switch(r){case ht.Root:return[de(6,0),de(4,0),de(3,1),de(2,0)];case ht.First:return[de(6,0),de(4,-2),de(3,0),de(2,-1)];case ht.Second:return[de(6,0),de(4,-1),de(3,0),de(2,-2)];case ht.Third:return[de(6,0),de(4,-1),de(3,-1),de(2,-1)]}case Dr.Min7:switch(r){case ht.Root:return[de(6,0),de(4,0),de(3,0),de(2,0)];case ht.First:return[de(6,0),de(4,-1),de(3,1),de(2,0)];case ht.Second:return[de(6,0),de(4,-2),de(3,0),de(2,-2)];case ht.Third:return[de(6,0),de(4,-1),de(3,-1),de(2,-2)]}case Dr.Half:switch(r){case ht.Root:return[de(6,0),de(4,0),de(3,0),de(2,-1)];case ht.First:return[de(6,0),de(4,-1),de(3,0),de(2,0)];case ht.Second:return[de(6,0),de(4,-1),de(3,1),de(2,-1)];case ht.Third:return[de(6,0),de(4,-2),de(3,-1),de(2,-2)]}case Dr.Full:switch(r){case ht.Root:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case ht.First:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case ht.Second:return[de(6,0),de(4,-1),de(3,0),de(2,-1)];case ht.Third:return[de(6,0),de(4,-1),de(3,0),de(2,-1)]}}case 5:switch(e){case Dr.Maj7:switch(r){case ht.Root:return[de(5,0),de(4,2),de(3,1),de(2,2)];case ht.First:return[de(5,0),de(4,2),de(3,-2),de(2,1)];case ht.Second:return[de(5,0),de(4,0),de(3,-1),de(2,2)];case ht.Third:return[de(5,0),de(4,0),de(3,-2),de(2,-1)]}case Dr.Dom7:switch(r){case ht.Root:return[de(5,0),de(4,2),de(3,0),de(2,2)];case ht.First:return[de(5,0),de(4,1),de(3,-2),de(2,1)];case ht.Second:return[de(5,0),de(4,0),de(3,-1),de(2,1)];case ht.Third:return[de(5,0),de(4,1),de(3,-1),de(2,0)]}case Dr.Min7:switch(r){case ht.Root:return[de(5,0),de(4,2),de(3,0),de(2,1)];case ht.First:return[de(5,0),de(4,2),de(3,-1),de(2,2)];case ht.Second:return[de(5,0),de(4,0),de(3,-2),de(2,1)];case ht.Third:return[de(5,0),de(4,0),de(3,-1),de(2,0)]}case Dr.Half:switch(r){case ht.Root:return[de(5,0),de(4,1),de(3,0),de(2,1)];case ht.First:return[de(5,0),de(4,2),de(3,-1),de(2,1)];case ht.Second:return[de(5,0),de(4,1),de(3,-1),de(2,2)];case ht.Third:return[de(5,0),de(4,0),de(3,-2),de(2,0)]}case Dr.Full:switch(r){case ht.Root:case ht.First:case ht.Second:case ht.Third:return[de(5,0),de(4,1),de(3,-1),de(2,1)]}}default:return[]}}},Oy={toTex(t){return`(${t.notes.map(e=>Ah.toTex(e)+" ").join("")}).1${t.name&&`{ch "${t.name}"}`}|`},generate(t,e,r,n){var i=[];const s=n?[n]:[ht.Root,ht.First,ht.Second,ht.Third];for(const a of s){const o=ht.bassNote(a,e,t),l=r?Ah.onString(r,o):Ah.onString(6,o).concat(Ah.onString(5,o));i=i.concat(l.map(c=>({name:`${pr.toDisplayString(t)}${Dr.toLeadSheet(e)}${a===ht.Root?"":`/${pr.toDisplayString(o)}`}`,notes:yoe.generate(c.string,e,a).map(u=>({string:u.string,fret:u.fret+c.fret}))})))}return i.filter(a=>!a.notes.some(o=>o.fret<GA||o.fret>UA)).sort((a,o)=>Math.min(...a.notes.map(l=>l.fret))-Math.min(...o.notes.map(l=>l.fret))).sort((a,o)=>Math.max(...o.notes.map(l=>l.string))-Math.max(...a.notes.map(l=>l.string)))}},boe={toTex(t){return`\\ks ${pr.toDisplayString(t.key.note)} ${t.chords.map(e=>Oy.toTex(e)).join("")}`}};function jA(t){const e=w.useRef(null),r=w.useRef(null);w.useEffect(()=>{if(e.current){r.current=new Fb(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;kS(St("G"),io.mode(xS.Dorian)).concat(kS(St("G"),io.mode(xS.Dorian))[0]).map(l=>{const c=Oy.generate(l.root,l.quality,6,ht.Root).find(u=>u.notes[0].fret>i);return console.log({chosenChord:c}),i=(c==null?void 0:c.notes[0].fret)??0,c});const s=t.chords.map(l=>Oy.generate(l.root,l.quality,void 0,ht.Root)[0]),a={key:{note:St("C")},chords:s},o=`
      \\tempo 120
      
      . 
      

      ${boe.toTex(a)}`;console.log(o),r.current.metronomeVolume=1,r.current.isLooping=!0,r.current.playbackSpeed=1,r.current.countInVolume=1,r.current.tex(o)}return()=>{var i;(i=r.current)==null||i.destroy()}},[]);function n(){var i;(i=r.current)==null||i.playPause()}return x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:x.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),x.jsx("div",{style:{display:"flex"},children:x.jsx(nf,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{r.current&&(r.current.playbackSpeed=s)},children:"Tempo"})}),x.jsx(As,{onClick:n,children:"Play/Pause"})]})}const voe=840;function tM(){return{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<voe}}function YA(){const[t,e]=w.useState(tM());function r(){e(tM())}return w.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t}const rM=[St("C"),St("D",$i.Flat),St("D"),St("E",$i.Flat),St("E"),St("F"),St("G",$i.Flat),St("G"),St("A",$i.Flat),St("A"),St("B",$i.Flat),St("B")],nM=[ht.Root,ht.First,ht.Second,ht.Third],iM=[Dr.Maj7,Dr.Dom7,Dr.Min7,Dr.Half,Dr.Full],Yn={container:{display:"flex",flex:1,flexDirection:"column",padding:14,fontFamily:"sans-serif"},section:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},notesSection:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},formGroup:{marginTop:16,marginBottom:16},button:{backgroundColor:"#007BFF",color:"#fff",transition:"background-color 0.3s, transform 0.1s",cursor:"pointer",flex:1},chordText:{fontSize:20,marginTop:5,textAlign:"center",textTransform:"none"},toggleButton:{maxHeight:"50px",display:"flex",flexDirection:"column",borderRadius:8,textAlign:"center",justifyContent:"center",fontSize:15,padding:7,cursor:"pointer",transition:"background-color 0.3s, transform 0.1s"},toggleButtonsContainer:{},toggleButtonChecked:{backgroundColor:"#9df"},toggleButtonUnchecked:{backgroundColor:"#eee"},toggleButtonHover:{backgroundColor:"#b3e5fc"},toggleButtonActive:{transform:"scale(0.95)"},buttonHover:{backgroundColor:"#0056b3"},buttonActive:{transform:"scale(0.95)"}};function woe(){const[t,e]=w.useState(rM),[r,n]=w.useState(nM),[i,s]=w.useState(iM),[a,o]=w.useState(!0),[l,c]=w.useState(!1),{isMobile:u}=YA(),[d,h]=w.useState(null);function p(){h({note:t[Math.floor(Math.random()*t.length)],inversion:r[Math.floor(Math.random()*r.length)],quality:i[Math.floor(Math.random()*i.length)],string:a?Math.floor(Math.random()*2)===0?6:5:null})}return d&&(St("C"),Oy.generate(d.note,d.quality,d.string??void 0,d.inversion)),x.jsxs(Ul,{title:"Chord Generator",children:[x.jsxs("div",{style:Yn.container,children:[x.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center"},children:x.jsx(As,{style:Yn.chordText,disabled:!d,onClick:()=>c(!0),children:x.jsx(hr,{children:d?`${pr.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`:"Generate a chord!"})})}),x.jsxs("div",{style:Yn.toggleButtonsContainer,children:[x.jsx("div",{style:Yn.notesSection,children:rM.map(f=>x.jsx(Pw,{checked:t.includes(f),onChange:()=>t.includes(f)?e(m=>m.filter(g=>pr.toNoteNumber(g)!==pr.toNoteNumber(f))):e(m=>m.concat(f)),children:pr.toDisplayString(f)},pr.toDisplayString(f)))}),x.jsx(KP,{style:{minHeight:"5px",margin:"7px 0"}}),x.jsx("div",{style:Yn.section,children:nM.map(f=>x.jsx(Pw,{checked:r.includes(f),onChange:()=>r.includes(f)?n(m=>m.filter(g=>g!==f)):n(m=>m.concat(f)),children:f},f))}),x.jsx(KP,{style:{minHeight:"5px",margin:"7px 0"}}),x.jsx("div",{style:Yn.section,children:iM.map(f=>x.jsx(Pw,{checked:i.includes(f),onChange:()=>i.includes(f)?s(m=>m.filter(g=>g!==f)):s(m=>m.concat(f)),children:f},f))})]}),x.jsx(HL,{style:Yn.formGroup,children:x.jsx(oS,{control:x.jsx(MK,{checked:a,onChange:()=>o(!a)}),label:"Include string"})}),x.jsx("div",{style:{display:"flex"},children:x.jsx(As,{style:Yn.button,size:"large",onMouseOver:f=>f.currentTarget.style.backgroundColor=Yn.buttonHover.backgroundColor,onMouseOut:f=>f.currentTarget.style.backgroundColor=Yn.button.backgroundColor,onMouseDown:f=>f.currentTarget.style.transform=Yn.buttonActive.transform,onMouseUp:f=>f.currentTarget.style.transform="scale(1)",onClick:p,children:"Generate"})})]}),d&&l&&x.jsxs(Op,{maxWidth:"lg",fullScreen:u,open:l,onClose:()=>c(!1),children:[x.jsx(FL,{children:`${pr.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`}),x.jsx(oi,{"aria-label":"close",onClick:()=>c(!1),sx:{position:"absolute",right:9,top:9,color:f=>f.palette.grey[600]},children:x.jsx(Uk,{})}),x.jsx(jA,{note:d.note,inversion:d.inversion,string:d.string,quality:d.quality})]})]})}function Pw({children:t,checked:e,onChange:r}){return x.jsx("div",{style:{...Yn.toggleButton,...e?Yn.toggleButtonChecked:Yn.toggleButtonUnchecked},onMouseOver:n=>n.currentTarget.style.backgroundColor=Yn.toggleButtonHover.backgroundColor,onMouseOut:n=>n.currentTarget.style.backgroundColor=e?Yn.toggleButtonChecked.backgroundColor:Yn.toggleButtonUnchecked.backgroundColor,onMouseDown:n=>n.currentTarget.style.transform=Yn.toggleButtonActive.transform,onMouseUp:n=>n.currentTarget.style.transform="scale(1)",onClick:()=>r(!e),children:x.jsx("div",{children:t})})}const xoe=[St("C"),St("D",$i.Flat),St("D"),St("E",$i.Flat),St("E"),St("F"),St("G",$i.Flat),St("G"),St("A",$i.Flat),St("A"),St("B",$i.Flat),St("B")],Soe=[Dr.Maj7,Dr.Dom7,Dr.Min7,Dr.Half,Dr.Full];function koe(){const[t,e]=w.useState(0),[r,n]=w.useState(Dr.Maj7),[i,s]=w.useState([]),[a,o]=w.useState(!1),{isMobile:l}=YA();return x.jsxs(Ul,{title:"Progression",children:[x.jsxs("div",{style:{padding:"30px",display:"flex",flexDirection:"column"},children:[x.jsx(fB,{row:!0,value:t,onChange:(c,u)=>e(parseInt(u)),children:xoe.map(c=>x.jsx(oS,{value:pr.toNoteNumber(c),control:x.jsx(hB,{}),label:pr.toDisplayString(c)}))}),x.jsx(fB,{row:!0,value:r,onChange:(c,u)=>n(u),children:Soe.map(c=>x.jsx(oS,{value:c,control:x.jsx(hB,{}),label:c}))}),x.jsx(As,{onClick:()=>s([...i,{root:wS.toNote(t),quality:r}]),children:"Add Chord"}),i.map(c=>x.jsx("div",{style:{backgroundColor:"greenyellow",width:100,height:30},children:SS.toLeadSheet(c)})),x.jsx(As,{onClick:()=>o(!0),children:"Play"}),x.jsx(oi,{onClick:()=>s([]),children:x.jsx(cI,{})})]}),a&&x.jsxs(Op,{maxWidth:"lg",fullScreen:l,open:a,onClose:()=>o(!1),children:[x.jsx(oi,{onClick:()=>o(!1),sx:{position:"absolute",right:9,top:9,color:c=>c.palette.grey[600]},children:x.jsx(Uk,{})}),x.jsx(jA,{chords:i})]})]})}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(null,arguments)}function yn(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var LC=Kp(),Vt=t=>qp(t,LC),IC=Kp();Vt.write=t=>qp(t,IC);var zb=Kp();Vt.onStart=t=>qp(t,zb);var FC=Kp();Vt.onFrame=t=>qp(t,FC);var AC=Kp();Vt.onFinish=t=>qp(t,AC);var Ju=[];Vt.setTimeout=(t,e)=>{const r=Vt.now()+e,n=()=>{const s=Ju.findIndex(a=>a.cancel==n);~s&&Ju.splice(s,1),bl-=~s?1:0},i={time:r,handler:t,cancel:n};return Ju.splice(XA(r),0,i),bl+=1,qA(),i};var XA=t=>~(~Ju.findIndex(e=>e.time>t)||~Ju.length);Vt.cancel=t=>{zb.delete(t),FC.delete(t),AC.delete(t),LC.delete(t),IC.delete(t)};Vt.sync=t=>{AS=!0,Vt.batchedUpdates(t),AS=!1};Vt.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Vt.onStart(r)}return n.handler=t,n.cancel=()=>{zb.delete(r),e=null},n};var OC=typeof window<"u"?window.requestAnimationFrame:()=>{};Vt.use=t=>OC=t;Vt.now=typeof performance<"u"?()=>performance.now():Date.now;Vt.batchedUpdates=t=>t();Vt.catch=console.error;Vt.frameLoop="always";Vt.advance=()=>{Vt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):QA()};var yl=-1,bl=0,AS=!1;function qp(t,e){AS?(e.delete(t),t(0)):(e.add(t),qA())}function qA(){yl<0&&(yl=0,Vt.frameLoop!=="demand"&&OC(KA))}function Coe(){yl=-1}function KA(){~yl&&(OC(KA),Vt.batchedUpdates(QA))}function QA(){const t=yl;yl=Vt.now();const e=XA(yl);if(e&&(JA(Ju.splice(0,e),r=>r.handler()),bl-=e),!bl){Coe();return}zb.flush(),LC.flush(t?Math.min(64,yl-t):16.667),FC.flush(),IC.flush(),AC.flush()}function Kp(){let t=new Set,e=t;return{add(r){bl+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return bl-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,bl-=e.size,JA(e,n=>n(r)&&t.add(n)),bl+=t.size,e=t)}}}function JA(t,e){t.forEach(r=>{try{e(r)}catch(n){Vt.catch(n)}})}var Toe=Object.defineProperty,_oe=(t,e)=>{for(var r in e)Toe(t,r,{get:e[r],enumerable:!0})},gs={};_oe(gs,{assign:()=>Boe,colors:()=>Ml,createStringInterpolator:()=>VC,skipAnimation:()=>eO,to:()=>ZA,willAdvance:()=>zC});function OS(){}var Poe=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),ze={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function fo(t,e){if(ze.arr(t)){if(!ze.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Ht=(t,e)=>t.forEach(e);function oo(t,e,r){if(ze.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var _i=t=>ze.und(t)?[]:ze.arr(t)?t:[t];function cf(t,e){if(t.size){const r=Array.from(t);t.clear(),Ht(r,e)}}var Oh=(t,...e)=>cf(t,r=>r(...e)),$C=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),VC,ZA,Ml=null,eO=!1,zC=OS,Boe=t=>{t.to&&(ZA=t.to),t.now&&(Vt.now=t.now),t.colors!==void 0&&(Ml=t.colors),t.skipAnimation!=null&&(eO=t.skipAnimation),t.createStringInterpolator&&(VC=t.createStringInterpolator),t.requestAnimationFrame&&Vt.use(t.requestAnimationFrame),t.batchedUpdates&&(Vt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(zC=t.willAdvance),t.frameLoop&&(Vt.frameLoop=t.frameLoop)},uf=new Set,Is=[],Bw=[],$y=0,Wb={get idle(){return!uf.size&&!Is.length},start(t){$y>t.priority?(uf.add(t),Vt.onStart(Noe)):(tO(t),Vt($S))},advance:$S,sort(t){if($y)Vt.onFrame(()=>Wb.sort(t));else{const e=Is.indexOf(t);~e&&(Is.splice(e,1),rO(t))}},clear(){Is=[],uf.clear()}};function Noe(){uf.forEach(tO),uf.clear(),Vt($S)}function tO(t){Is.includes(t)||rO(t)}function rO(t){Is.splice(Moe(Is,e=>e.priority>t.priority),0,t)}function $S(t){const e=Bw;for(let r=0;r<Is.length;r++){const n=Is[r];$y=n.priority,n.idle||(zC(n),n.advance(t),n.idle||e.push(n))}return $y=0,Bw=Is,Bw.length=0,Is=e,Is.length>0}function Moe(t,e){const r=t.findIndex(e);return r<0?t.length:r}var Eoe=(t,e,r)=>Math.min(Math.max(r,t),e),Roe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},xa="[-+]?\\d*\\.?\\d+",Vy=xa+"%";function Hb(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Doe=new RegExp("rgb"+Hb(xa,xa,xa)),Loe=new RegExp("rgba"+Hb(xa,xa,xa,xa)),Ioe=new RegExp("hsl"+Hb(xa,Vy,Vy)),Foe=new RegExp("hsla"+Hb(xa,Vy,Vy,xa)),Aoe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ooe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$oe=/^#([0-9a-fA-F]{6})$/,Voe=/^#([0-9a-fA-F]{8})$/;function zoe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=$oe.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ml&&Ml[t]!==void 0?Ml[t]:(e=Doe.exec(t))?(gu(e[1])<<24|gu(e[2])<<16|gu(e[3])<<8|255)>>>0:(e=Loe.exec(t))?(gu(e[1])<<24|gu(e[2])<<16|gu(e[3])<<8|oM(e[4]))>>>0:(e=Aoe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Voe.exec(t))?parseInt(e[1],16)>>>0:(e=Ooe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Ioe.exec(t))?(sM(aM(e[1]),qm(e[2]),qm(e[3]))|255)>>>0:(e=Foe.exec(t))?(sM(aM(e[1]),qm(e[2]),qm(e[3]))|oM(e[4]))>>>0:null}function Nw(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function sM(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=Nw(i,n,t+1/3),a=Nw(i,n,t),o=Nw(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function gu(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function aM(t){return(parseFloat(t)%360+360)%360/360}function oM(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function qm(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function lM(t){let e=zoe(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var op=(t,e,r)=>{if(ze.fun(t))return t;if(ze.arr(t))return op({range:t,output:e,extrapolate:r});if(ze.str(t.output[0]))return VC(t);const n=t,i=n.output,s=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const u=Hoe(c,s);return Woe(c,s[u],s[u+1],i[u],i[u+1],l,a,o,n.map)}};function Woe(t,e,r,n,i,s,a,o,l){let c=l?l(t):t;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>r){if(o==="identity")return c;o==="clamp"&&(c=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?c=-c:r===1/0?c=c-e:c=(c-e)/(r-e),c=s(c),n===-1/0?c=-c:i===1/0?c=c+n:c=c*(i-n)+n,c)}function Hoe(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var Uoe=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return Eoe(0,1,i/t)},zy=1.70158,Km=zy*1.525,cM=zy+1,uM=2*Math.PI/3,dM=2*Math.PI/4.5,Qm=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Goe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>cM*t*t*t-zy*t*t,easeOutBack:t=>1+cM*Math.pow(t-1,3)+zy*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Km+1)*2*t-Km)/2:(Math.pow(2*t-2,2)*((Km+1)*(t*2-2)+Km)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*uM),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*uM)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*dM))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*dM)/2+1,easeInBounce:t=>1-Qm(1-t),easeOutBounce:Qm,easeInOutBounce:t=>t<.5?(1-Qm(1-2*t))/2:(1+Qm(2*t-1))/2,steps:Uoe},lp=Symbol.for("FluidValue.get"),kd=Symbol.for("FluidValue.observers"),Rs=t=>!!(t&&t[lp]),Li=t=>t&&t[lp]?t[lp]():t,hM=t=>t[kd]||null;function joe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function cp(t,e){const r=t[kd];r&&r.forEach(n=>{joe(n,e)})}var nO=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Yoe(this,t)}},Yoe=(t,e)=>iO(t,lp,e);function Gd(t,e){if(t[lp]){let r=t[kd];r||iO(t,kd,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function up(t,e){const r=t[kd];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[kd]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var iO=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Dg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Xoe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,fM=new RegExp(`(${Dg.source})(%|[a-z]+)`,"i"),qoe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ub=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,sO=t=>{const[e,r]=Koe(t);if(!e||$C())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Ub.test(r))return sO(r);if(r)return r}return t},Koe=t=>{const e=Ub.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},Mw,Qoe=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,aO=t=>{Mw||(Mw=Ml?new RegExp(`(${Object.keys(Ml).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Li(s).replace(Ub,sO).replace(Xoe,lM).replace(Mw,lM)),r=e.map(s=>s.match(Dg).map(Number)),i=r[0].map((s,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>op({...t,output:s}));return s=>{var l;const a=!fM.test(e[0])&&((l=e.find(c=>fM.test(c)))==null?void 0:l.replace(Dg,""));let o=0;return e[0].replace(Dg,()=>`${i[o++](s)}${a||""}`).replace(qoe,Qoe)}},WC="react-spring: ",oO=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${WC}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},Joe=oO(console.warn);function Zoe(){Joe(`${WC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var ele=oO(console.warn);function tle(){ele(`${WC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Gb(t){return ze.str(t)&&(t[0]=="#"||/\d/.test(t)||!$C()&&Ub.test(t)||t in(Ml||{}))}var bc=$C()?w.useEffect:w.useLayoutEffect,rle=()=>{const t=w.useRef(!1);return bc(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function lO(){const t=w.useState()[1],e=rle();return()=>{e.current&&t(Math.random())}}function nle(t,e){const[r]=w.useState(()=>({inputs:e,result:t()})),n=w.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&ile(e,s.inputs)||(s={inputs:e,result:t()}):s=r,w.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function ile(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var cO=t=>w.useEffect(t,sle),sle=[];function ale(t){const e=w.useRef();return w.useEffect(()=>{e.current=t}),e.current}var dp=Symbol.for("Animated:node"),ole=t=>!!t&&t[dp]===t,$a=t=>t&&t[dp],HC=(t,e)=>Poe(t,dp,e),jb=t=>t&&t[dp]&&t[dp].getPayload(),uO=class{constructor(){HC(this,this)}getPayload(){return this.payload||[]}},Qp=class extends uO{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ze.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Qp(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ze.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},hp=class extends Qp{constructor(t){super(0),this._string=null,this._toString=op({output:[t,t]})}static create(t){return new hp(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ze.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=op({output:[this.getValue(),t]})),this._value=0,super.reset()}},Wy={dependencies:null},Yb=class extends uO{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return oo(this.source,(r,n)=>{ole(r)?e[n]=r.getValue(t):Rs(r)?e[n]=Li(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Ht(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return oo(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Wy.dependencies&&Rs(t)&&Wy.dependencies.add(t);const e=jb(t);e&&Ht(e,r=>this.add(r))}},dO=class extends Yb{constructor(t){super(t)}static create(t){return new dO(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(lle)),!0)}};function lle(t){return(Gb(t)?hp:Qp).create(t)}function VS(t){const e=$a(t);return e?e.constructor:ze.arr(t)?dO:Gb(t)?hp:Qp}var pM=(t,e)=>{const r=!ze.fun(t)||t.prototype&&t.prototype.isReactComponent;return w.forwardRef((n,i)=>{const s=w.useRef(null),a=r&&w.useCallback(f=>{s.current=dle(i,f)},[i]),[o,l]=ule(n,e),c=lO(),u=()=>{const f=s.current;if(r&&!f)return;(f?e.applyAnimatedValues(f,o.getValue(!0)):!1)===!1&&c()},d=new cle(u,l),h=w.useRef();bc(()=>(h.current=d,Ht(l,f=>Gd(f,d)),()=>{h.current&&(Ht(h.current.deps,f=>up(f,h.current)),Vt.cancel(h.current.update))})),w.useEffect(u,[]),cO(()=>()=>{const f=h.current;Ht(f.deps,m=>up(m,f))});const p=e.getComponentProps(o.getValue());return w.createElement(t,{...p,ref:a})})},cle=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Vt.write(this.update)}};function ule(t,e){const r=new Set;return Wy.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Yb(t),Wy.dependencies=null,[t,r]}function dle(t,e){return t&&(ze.fun(t)?t(e):t.current=e),e}var mM=Symbol.for("AnimatedComponent"),hle=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Yb(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=a=>{const o=gM(a)||"Anonymous";return ze.str(a)?a=s[a]||(s[a]=pM(a,i)):a=a[mM]||(a[mM]=pM(a,i)),a.displayName=`Animated(${o})`,a};return oo(t,(a,o)=>{ze.arr(t)&&(o=gM(a)),s[o]=s(a)}),{animated:s}},gM=t=>ze.str(t)?t:t&&ze.str(t.displayName)?t.displayName:ze.fun(t)&&t.name||null;function Ii(t,...e){return ze.fun(t)?t(...e):t}var df=(t,e)=>t===!0||!!(e&&t&&(ze.fun(t)?t(e):_i(t).includes(e))),hO=(t,e)=>ze.obj(t)?e&&t[e]:t,fO=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,fle=t=>t,UC=(t,e=fle)=>{let r=ple;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);ze.und(s)||(n[i]=s)}return n},ple=["config","onProps","onStart","onChange","onPause","onResume","onRest"],mle={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function gle(t){const e={};let r=0;if(oo(t,(n,i)=>{mle[i]||(e[i]=n,r++)}),r)return e}function GC(t){const e=gle(t);if(e){const r={to:e};return oo(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function fp(t){return t=Li(t),ze.arr(t)?t.map(fp):Gb(t)?gs.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function yle(t){for(const e in t)return!0;return!1}function zS(t){return ze.fun(t)||ze.arr(t)&&ze.obj(t[0])}function yM(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function ble(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var vle={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},WS={...vle.default,mass:1,damping:1,easing:Goe.linear,clamp:!1},wle=class{constructor(){this.velocity=0,Object.assign(this,WS)}};function xle(t,e,r){r&&(r={...r},bM(r,e),e={...r,...e}),bM(t,e),Object.assign(t,e);for(const a in WS)t[a]==null&&(t[a]=WS[a]);let{frequency:n,damping:i}=t;const{mass:s}=t;return ze.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function bM(t,e){if(!ze.und(e.decay))t.duration=void 0;else{const r=!ze.und(e.tension)||!ze.und(e.friction);(r||!ze.und(e.frequency)||!ze.und(e.damping)||!ze.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var vM=[],Sle=class{constructor(){this.changed=!1,this.values=vM,this.toValues=null,this.fromValues=vM,this.config=new wle,this.immediate=!1}};function pO(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((a,o)=>{let l,c,u=df(r.cancel??(n==null?void 0:n.cancel),e);if(u)p();else{ze.und(r.pause)||(i.paused=df(r.pause,e));let f=n==null?void 0:n.pause;f!==!0&&(f=i.paused||df(f,e)),l=Ii(r.delay||0,e),f?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-Vt.now()}function h(){l>0&&!gs.skipAnimation?(i.delayed=!0,c=Vt.setTimeout(p,l),i.pauseQueue.add(d),i.timeouts.add(c)):p()}function p(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...r,callId:t,cancel:u},a)}catch(f){o(f)}}})}var jC=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Zu(t.get()):e.every(r=>r.noop)?mO(t.get()):fa(t.get(),e.every(r=>r.finished)),mO=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),fa=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Zu=t=>({value:t,cancelled:!0,finished:!1});function gO(t,e,r,n){const{callId:i,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=r;return!s&&t===o&&!e.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const c=UC(e,(g,y)=>y==="onRest"?void 0:g);let u,d;const h=new Promise((g,y)=>(u=g,d=y)),p=g=>{const y=i<=(r.cancelId||0)&&Zu(n)||i!==r.asyncId&&fa(n,!1);if(y)throw g.result=y,d(g),g},f=(g,y)=>{const b=new wM,v=new xM;return(async()=>{if(gs.skipAnimation)throw pp(r),v.result=fa(n,!1),d(v),v;p(b);const k=ze.obj(g)?{...g}:{...y,to:g};k.parentId=i,oo(c,(S,_)=>{ze.und(k[_])&&(k[_]=S)});const C=await n.start(k);return p(b),r.paused&&await new Promise(S=>{r.resumeQueue.add(S)}),C})()};let m;if(gs.skipAnimation)return pp(r),fa(n,!1);try{let g;ze.arr(t)?g=(async y=>{for(const b of y)await f(b)})(t):g=Promise.resolve(t(f,n.stop.bind(n))),await Promise.all([g.then(u),h]),m=fa(n.get(),!0,!1)}catch(g){if(g instanceof wM)m=g.result;else if(g instanceof xM)m=g.result;else throw g}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?o:void 0,r.promise=s?l:void 0)}return ze.fun(a)&&Vt.batchedUpdates(()=>{a(m,n,n.item)}),m})()}function pp(t,e){cf(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var wM=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},xM=class extends Error{constructor(){super("SkipAnimationSignal")}},HS=t=>t instanceof YC,kle=1,YC=class extends nO{constructor(){super(...arguments),this.id=kle++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=$a(this);return t&&t.getValue()}to(...t){return gs.to(this,t)}interpolate(...t){return Zoe(),gs.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){cp(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Wb.sort(this),cp(this,{type:"priority",parent:this,priority:t})}},Hc=Symbol.for("SpringPhase"),yO=1,US=2,GS=4,Ew=t=>(t[Hc]&yO)>0,al=t=>(t[Hc]&US)>0,Sh=t=>(t[Hc]&GS)>0,SM=(t,e)=>e?t[Hc]|=US|yO:t[Hc]&=~US,kM=(t,e)=>e?t[Hc]|=GS:t[Hc]&=~GS,Cle=class extends YC{constructor(t,e){if(super(),this.animation=new Sle,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ze.und(t)||!ze.und(e)){const r=ze.obj(t)?{...t}:{...e,from:t};ze.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(al(this)||this._state.asyncTo)||Sh(this)}get goal(){return Li(this.animation.to)}get velocity(){const t=$a(this);return t instanceof Qp?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Ew(this)}get isAnimating(){return al(this)}get isPaused(){return Sh(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,a=jb(n.to);!a&&Rs(n.to)&&(i=_i(Li(n.to))),n.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==hp?1:a?a[u].lastPosition:i[u];let h=n.immediate,p=d;if(!h){if(p=c.lastPosition,s.tension<=0){c.done=!0;return}let f=c.elapsedTime+=t;const m=n.fromValues[u],g=c.v0!=null?c.v0:c.v0=ze.arr(s.velocity)?s.velocity[u]:s.velocity;let y;const b=s.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(ze.und(s.duration))if(s.decay){const v=s.decay===!0?.998:s.decay,k=Math.exp(-(1-v)*f);p=m+g/(1-v)*(1-k),h=Math.abs(c.lastPosition-p)<=b,y=g*k}else{y=c.lastVelocity==null?g:c.lastVelocity;const v=s.restVelocity||b/10,k=s.clamp?0:s.bounce,C=!ze.und(k),S=m==d?c.v0>0:m<d;let _,B=!1;const D=1,E=Math.ceil(t/D);for(let R=0;R<E&&(_=Math.abs(y)>v,!(!_&&(h=Math.abs(d-p)<=b,h)));++R){C&&(B=p==d||p>d==S,B&&(y=-y*k,p=d));const A=-s.tension*1e-6*(p-d),I=-s.friction*.001*y,L=(A+I)/s.mass;y=y+L*D,p=p+y*D}}else{let v=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,f=c.elapsedTime+=t)),v=(s.progress||0)+f/this._memoizedDuration,v=v>1?1:v<0?0:v,c.durationProgress=v),p=m+s.easing(v)*(d-m),y=(p-c.lastPosition)/t,h=v==1}c.lastVelocity=y,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[u].done&&(h=!1),h?c.done=!0:e=!1,c.setValue(p,s.round)&&(r=!0)});const o=$a(this),l=o.getValue();if(e){const c=Li(n.to);(l!==c||r)&&!s.decay?(o.setValue(c),this._onChange(c)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return Vt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(al(this)){const{to:t,config:e}=this.animation;Vt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return ze.und(t)?(r=this.queue||[],this.queue=[]):r=[ze.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>jC(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),pp(this._state,t&&this._lastCallId),Vt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=ze.obj(r)?r[e]:r,(r==null||zS(r))&&(r=void 0),n=ze.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return Ew(this)||(t.reverse&&([r,n]=[n,r]),n=Li(n),ze.und(n)?$a(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,UC(t,(a,o)=>/^on/.test(o)?hO(a,r):a)),TM(this,t,"onProps"),Ch(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return pO(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{Sh(this)||(kM(this,!0),Oh(s.pauseQueue),Ch(this,"onPause",fa(this,kh(this,this.animation.to)),this))},resume:()=>{Sh(this)&&(kM(this,!1),al(this)&&this._resume(),Oh(s.resumeQueue),Ch(this,"onResume",fa(this,kh(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=bO(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Zu(this));const n=!ze.und(t.to),i=!ze.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Zu(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:c}=o;let{to:u=l,from:d=c}=t;i&&!n&&(!e.default||ze.und(u))&&(u=d),e.reverse&&([u,d]=[d,u]);const h=!fo(d,c);h&&(o.from=d),d=Li(d);const p=!fo(u,l);p&&this._focus(u);const f=zS(e.to),{config:m}=o,{decay:g,velocity:y}=m;(n||i)&&(m.velocity=0),e.config&&!f&&xle(m,Ii(e.config,s),e.config!==a.config?Ii(a.config,s):void 0);let b=$a(this);if(!b||ze.und(u))return r(fa(this,!0));const v=ze.und(e.reset)?i&&!e.default:!ze.und(d)&&df(e.reset,s),k=v?d:this.get(),C=fp(u),S=ze.num(C)||ze.arr(C)||Gb(C),_=!f&&(!S||df(a.immediate||e.immediate,s));if(p){const R=VS(u);if(R!==b.constructor)if(_)b=this._set(C);else throw Error(`Cannot animate between ${b.constructor.name} and ${R.name}, as the "to" prop suggests`)}const B=b.constructor;let D=Rs(u),E=!1;if(!D){const R=v||!Ew(this)&&h;(p||R)&&(E=fo(fp(k),C),D=!E),(!fo(o.immediate,_)&&!_||!fo(m.decay,g)||!fo(m.velocity,y))&&(D=!0)}if(E&&al(this)&&(o.changed&&!v?D=!0:D||this._stop(l)),!f&&((D||Rs(l))&&(o.values=b.getPayload(),o.toValues=Rs(u)?null:B==hp?[1]:_i(C)),o.immediate!=_&&(o.immediate=_,!_&&!v&&this._set(l)),D)){const{onRest:R}=o;Ht(Tle,I=>TM(this,e,I));const A=fa(this,kh(this,l));Oh(this._pendingCalls,A),this._pendingCalls.add(r),o.changed&&Vt.batchedUpdates(()=>{var I;o.changed=!v,R==null||R(A,this),v?Ii(a.onRest,A):(I=o.onStart)==null||I.call(o,A,this)})}v&&this._set(k),f?r(gO(e.to,e,this._state,this)):D?this._start():al(this)&&!p?this._pendingCalls.add(r):r(mO(k))}_focus(t){const e=this.animation;t!==e.to&&(hM(this)&&this._detach(),e.to=t,hM(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Rs(e)&&(Gd(e,this),HS(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Rs(t)&&up(t,this)}_set(t,e=!0){const r=Li(t);if(!ze.und(r)){const n=$a(this);if(!n||!fo(r,n.getValue())){const i=VS(r);!n||n.constructor!=i?HC(this,i.create(r)):n.setValue(r),n&&Vt.batchedUpdates(()=>{this._onChange(r,e)})}}return $a(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Ch(this,"onStart",fa(this,kh(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Ii(this.animation.onChange,t,this)),Ii(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;$a(this).reset(Li(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),al(this)||(SM(this,!0),Sh(this)||this._resume())}_resume(){gs.skipAnimation?this.finish():Wb.start(this)}_stop(t,e){if(al(this)){SM(this,!1);const r=this.animation;Ht(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),cp(this,{type:"idle",parent:this});const n=e?Zu(this.get()):fa(this.get(),kh(this,t??r.to));Oh(this._pendingCalls,n),r.changed&&(r.changed=!1,Ch(this,"onRest",n,this))}}};function kh(t,e){const r=fp(e),n=fp(t.get());return fo(n,r)}function bO(t,e=t.loop,r=t.to){const n=Ii(e);if(n){const i=n!==!0&&GC(n),s=(i||t).reverse,a=!i||i.reset;return Hy({...t,loop:e,default:!1,pause:void 0,to:!s||zS(r)?r:void 0,from:a?t.from:void 0,reset:a,...i})}}function Hy(t){const{to:e,from:r}=t=GC(t),n=new Set;return ze.obj(e)&&CM(e,n),ze.obj(r)&&CM(r,n),t.keys=n.size?Array.from(n):null,t}function CM(t,e){oo(t,(r,n)=>r!=null&&e.add(n))}var Tle=["onStart","onRest","onChange","onPause","onResume"];function TM(t,e,r){t.animation[r]=e[r]!==fO(e,r)?hO(e[r],t.key):void 0}function Ch(t,e,...r){var n,i,s,a;(i=(n=t.animation)[e])==null||i.call(n,...r),(a=(s=t.defaultProps)[e])==null||a.call(s,...r)}var _le=["onStart","onChange","onRest"],Ple=1,Ble=class{constructor(t,e){this.id=Ple++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];ze.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(Hy(t)),this}start(t){let{queue:e}=this;return t?e=_i(t).map(Hy):this.queue=[],this._flush?this._flush(this,e):(SO(this,e),Nle(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Ht(_i(e),n=>r[n].stop(!!t))}else pp(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ze.und(t))this.start({pause:!0});else{const e=this.springs;Ht(_i(t),r=>e[r].pause())}return this}resume(t){if(ze.und(t))this.start({pause:!1});else{const e=this.springs;Ht(_i(t),r=>e[r].resume())}return this}each(t){oo(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,cf(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!n&&this._started,a=i||s&&r.size?this.get():null;i&&e.size&&cf(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,cf(r,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Vt.onFrame(this._onFrame)}};function Nle(t,e){return Promise.all(e.map(r=>vO(t,r))).then(r=>jC(t,r))}async function vO(t,e,r){const{keys:n,to:i,from:s,loop:a,onRest:o,onResolve:l}=e,c=ze.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=ze.arr(i)||ze.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Ht(_le,m=>{const g=e[m];if(ze.fun(g)){const y=t._events[m];e[m]=({finished:b,cancelled:v})=>{const k=y.get(g);k?(b||(k.finished=!1),v&&(k.cancelled=!0)):y.set(g,{value:null,finished:b||!1,cancelled:v||!1})},c&&(c[m]=e[m])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Oh(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const h=(n||Object.keys(t.springs)).map(m=>t.springs[m].start(e)),p=e.cancel===!0||fO(e,"cancel")===!0;(u||p&&d.asyncId)&&h.push(pO(++t._lastAsyncId,{props:e,state:d,actions:{pause:OS,resume:OS,start(m,g){p?(pp(d,t._lastAsyncId),g(Zu(t))):(m.onRest=o,g(gO(u,m,d,t)))}}})),d.paused&&await new Promise(m=>{d.resumeQueue.add(m)});const f=jC(t,await Promise.all(h));if(a&&f.finished&&!(r&&f.noop)){const m=bO(e,a,i);if(m)return SO(t,[m]),vO(t,m,!0)}return l&&Vt.batchedUpdates(()=>l(f,t,t.item)),f}function Mle(t,e){const r={...t.springs};return e&&Ht(_i(e),n=>{ze.und(n.keys)&&(n=Hy(n)),ze.obj(n.to)||(n={...n,to:void 0}),xO(r,n,i=>wO(i))}),Ele(t,r),r}function Ele(t,e){oo(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Gd(r,t))})}function wO(t,e){const r=new Cle;return r.key=t,e&&Gd(r,e),r}function xO(t,e,r){e.keys&&Ht(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function SO(t,e){Ht(e,r=>{xO(t.springs,r,n=>wO(n,t))})}var Xb=({children:t,...e})=>{const r=w.useContext(Uy),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=nle(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=Uy;return w.createElement(s,{value:e},t)},Uy=Rle(Xb,{});Xb.Provider=Uy.Provider;Xb.Consumer=Uy.Consumer;function Rle(t,e){return Object.assign(t,w.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var Dle=()=>{const t=[],e=function(n){tle();const i=[];return Ht(t,(s,a)=>{if(ze.und(n))i.push(s.start());else{const o=r(n,s,a);o&&i.push(s.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Ht(t,n=>n.pause(...arguments)),this},e.resume=function(){return Ht(t,n=>n.resume(...arguments)),this},e.set=function(n){Ht(t,(i,s)=>{const a=ze.fun(n)?n(s,i):n;a&&i.set(a)})},e.start=function(n){const i=[];return Ht(t,(s,a)=>{if(ze.und(n))i.push(s.start());else{const o=this._getProps(n,s,a);o&&i.push(s.start(o))}}),i},e.stop=function(){return Ht(t,n=>n.stop(...arguments)),this},e.update=function(n){return Ht(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return ze.fun(n)?n(s,i):n};return e._getProps=r,e};function jS(t,e,r){const n=ze.fun(e)&&e,{reset:i,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:d}=n?n():e,h=w.useMemo(()=>n||arguments.length==3?Dle():void 0,[]),p=_i(t),f=[],m=w.useRef(null),g=i?null:m.current;bc(()=>{m.current=f}),cO(()=>(Ht(f,L=>{h==null||h.add(L.ctrl),L.ctrl.ref=h}),()=>{Ht(m.current,L=>{L.expired&&clearTimeout(L.expirationId),yM(L.ctrl,h),L.ctrl.stop(!0)})}));const y=Ile(p,n?n():e,g),b=i&&m.current||[];bc(()=>Ht(b,({ctrl:L,item:N,key:F})=>{yM(L,h),Ii(c,N,F)}));const v=[];if(g&&Ht(g,(L,N)=>{L.expired?(clearTimeout(L.expirationId),b.push(L)):(N=v[N]=y.indexOf(L.key),~N&&(f[N]=L))}),Ht(p,(L,N)=>{f[N]||(f[N]={key:y[N],item:L,phase:"mount",ctrl:new Ble},f[N].ctrl.item=L)}),v.length){let L=-1;const{leave:N}=n?n():e;Ht(v,(F,O)=>{const M=g[O];~F?(L=f.indexOf(M),f[L]={...M,item:p[F]}):N&&f.splice(++L,0,M)})}ze.fun(s)&&f.sort((L,N)=>s(L.item,N.item));let k=-a;const C=lO(),S=UC(e),_=new Map,B=w.useRef(new Map),D=w.useRef(!1);Ht(f,(L,N)=>{const F=L.key,O=L.phase,M=n?n():e;let V,z;const K=Ii(M.delay||0,F);if(O=="mount")V=M.enter,z="enter";else{const G=y.indexOf(F)<0;if(O!="leave")if(G)V=M.leave,z="leave";else if(V=M.update)z="update";else return;else if(!G)V=M.enter,z="enter";else return}if(V=Ii(V,L.item,N),V=ze.obj(V)?GC(V):{to:V},!V.config){const G=d||S.config;V.config=Ii(G,L.item,N,z)}k+=a;const ie={...S,delay:K+k,ref:u,immediate:M.immediate,reset:!1,...V};if(z=="enter"&&ze.und(ie.from)){const G=n?n():e,Z=ze.und(G.initial)||g?G.from:G.initial;ie.from=Ii(Z,L.item,N)}const{onResolve:se}=ie;ie.onResolve=G=>{Ii(se,G);const Z=m.current,he=Z.find(pe=>pe.key===F);if(he&&!(G.cancelled&&he.phase!="update")&&he.ctrl.idle){const pe=Z.every(ne=>ne.ctrl.idle);if(he.phase=="leave"){const ne=Ii(o,he.item);if(ne!==!1){const le=ne===!0?0:ne;if(he.expired=!0,!pe&&le>0){le<=2147483647&&(he.expirationId=setTimeout(C,le));return}}}pe&&Z.some(ne=>ne.expired)&&(B.current.delete(he),l&&(D.current=!0),C())}};const te=Mle(L.ctrl,ie);z==="leave"&&l?B.current.set(L,{phase:z,springs:te,payload:ie}):_.set(L,{phase:z,springs:te,payload:ie})});const E=w.useContext(Xb),R=ale(E),A=E!==R&&yle(E);bc(()=>{A&&Ht(f,L=>{L.ctrl.start({default:E})})},[E]),Ht(_,(L,N)=>{if(B.current.size){const F=f.findIndex(O=>O.key===N.key);f.splice(F,1)}}),bc(()=>{Ht(B.current.size?B.current:_,({phase:L,payload:N},F)=>{const{ctrl:O}=F;F.phase=L,h==null||h.add(O),A&&L=="enter"&&O.start({default:E}),N&&(ble(O,N.ref),(O.ref||h)&&!D.current?O.update(N):(O.start(N),D.current&&(D.current=!1)))})},i?void 0:r);const I=L=>w.createElement(w.Fragment,null,f.map((N,F)=>{const{springs:O}=_.get(N)||N.ctrl,M=L({...O},N.item,N,F);return M&&M.type?w.createElement(M.type,{...M.props,key:ze.str(N.key)||ze.num(N.key)?N.key:N.ctrl.id,ref:M.ref}):M}));return h?[I,h]:I}var Lle=1;function Ile(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(s=>{const a=n&&n.find(o=>o.item===s&&o.phase!=="leave"&&!i.has(o));return a?(i.add(a),a.key):Lle++})}return ze.und(r)?t:ze.fun(r)?t.map(r):_i(r)}var Fle=class extends YC{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=op(...e);const r=this._get(),n=VS(r);HC(this,n.create(r))}advance(t){const e=this._get(),r=this.get();fo(e,r)||($a(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&_M(this._active)&&Rw(this)}_get(){const t=ze.arr(this.source)?this.source.map(Li):_i(Li(this.source));return this.calc(...t)}_start(){this.idle&&!_M(this._active)&&(this.idle=!1,Ht(jb(this),t=>{t.done=!1}),gs.skipAnimation?(Vt.batchedUpdates(()=>this.advance()),Rw(this)):Wb.start(this))}_attach(){let t=1;Ht(_i(this.source),e=>{Rs(e)&&Gd(e,this),HS(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Ht(_i(this.source),t=>{Rs(t)&&up(t,this)}),this._active.clear(),Rw(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=_i(this.source).reduce((e,r)=>Math.max(e,(HS(r)?r.priority:0)+1),0))}};function Ale(t){return t.idle!==!1}function _M(t){return!t.size||Array.from(t).every(Ale)}function Rw(t){t.idle||(t.idle=!0,Ht(jb(t),e=>{e.done=!0}),cp(t,{type:"idle",parent:t}))}gs.assign({createStringInterpolator:aO,to:(t,e)=>new Fle(t,e)});var kO=/^--/;function Ole(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!kO.test(t)&&!(hf.hasOwnProperty(t)&&hf[t])?e+"px":(""+e).trim()}var PM={};function $le(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:a,viewBox:o,...l}=e,c=Object.values(l),u=Object.keys(l).map(d=>r||t.hasAttribute(d)?d:PM[d]||(PM[d]=d.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(t.textContent=i);for(const d in n)if(n.hasOwnProperty(d)){const h=Ole(d,n[d]);kO.test(d)?t.style.setProperty(d,h):t.style[d]=h}u.forEach((d,h)=>{t.setAttribute(d,c[h])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&t.setAttribute("viewBox",o)}var hf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vle=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),zle=["Webkit","Ms","Moz","O"];hf=Object.keys(hf).reduce((t,e)=>(zle.forEach(r=>t[Vle(r,e)]=t[e]),t),hf);var Wle=/^(matrix|translate|scale|rotate|skew)/,Hle=/^(translate)/,Ule=/^(rotate|skew)/,Dw=(t,e)=>ze.num(t)&&t!==0?t+e:t,Lg=(t,e)=>ze.arr(t)?t.every(r=>Lg(r,e)):ze.num(t)?t===e:parseFloat(t)===e,Gle=class extends Yb{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(a=>[`translate3d(${a.map(o=>Dw(o,"px")).join(",")})`,Lg(a,0)])),oo(n,(a,o)=>{if(o==="transform")i.push([a||""]),s.push(l=>[l,l===""]);else if(Wle.test(o)){if(delete n[o],ze.und(a))return;const l=Hle.test(o)?"px":Ule.test(o)?"deg":"";i.push(_i(a)),s.push(o==="rotate3d"?([c,u,d,h])=>[`rotate3d(${c},${u},${d},${Dw(h,l)})`,Lg(h,0)]:c=>[`${o}(${c.map(u=>Dw(u,l)).join(",")})`,Lg(c,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new jle(i,s)),super(n)}},jle=class extends nO{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Ht(this.inputs,(r,n)=>{const i=Li(r[0]),[s,a]=this.transforms[n](ze.arr(i)?i:r.map(Li));t+=" "+s,e=e&&a}),e?"none":t}observerAdded(t){t==1&&Ht(this.inputs,e=>Ht(e,r=>Rs(r)&&Gd(r,this)))}observerRemoved(t){t==0&&Ht(this.inputs,e=>Ht(e,r=>Rs(r)&&up(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),cp(this,t)}},Yle=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];gs.assign({batchedUpdates:Tp.unstable_batchedUpdates,createStringInterpolator:aO,colors:Roe});var Xle=hle(Yle,{applyAnimatedValues:$le,createAnimatedStyle:t=>new Gle(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),XC=Xle.animated;function Ig(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qC(t){let e,r,n;t.length!==2?(e=Ig,r=(o,l)=>Ig(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ig||t===qle?t:Kle,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function Kle(){return 0}function Qle(t){return t===null?NaN:+t}const Jle=qC(Ig),CO=Jle.right;qC(Qle).center;class BM extends Map{constructor(e,r=tce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(NM(this,e))}has(e){return super.has(NM(this,e))}set(e,r){return super.set(Zle(this,e),r)}delete(e){return super.delete(ece(this,e))}}function NM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Zle({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ece({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function tce(t){return t!==null&&typeof t=="object"?t.valueOf():t}const rce=Math.sqrt(50),nce=Math.sqrt(10),ice=Math.sqrt(2);function Gy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=rce?10:s>=nce?5:s>=ice?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?Gy(t,e,r*2):[o,l,c]}function YS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Gy(e,t,r):Gy(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function XS(t,e,r){return e=+e,t=+t,r=+r,Gy(t,e,r)[2]}function qS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?XS(e,t,r):XS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function sce(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Gl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ace(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const MM=Symbol("implicit");function jy(){var t=new BM,e=[],r=[],n=MM;function i(s){let a=t.get(s);if(a===void 0){if(n!==MM)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BM;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jy(e,r).unknown(n)},Gl.apply(i,arguments),i}function KC(){var t=jy().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<n,f=p?i:n,m=p?n:i;s=(m-f)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),f+=(m-f-s*(h-l))*u,a=s*(1-l),o&&(f=Math.round(f),a=Math.round(a));var g=sce(h).map(function(y){return f+s*y});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return KC(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Gl.apply(d(),arguments)}function TO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TO(e())},t}function oce(){return TO(KC.apply(null,arguments).paddingInner(1))}function QC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _O(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jp(){}var mp=.7,Yy=1/mp,ed="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lce=/^#([0-9a-f]{3,8})$/,cce=new RegExp(`^rgb\\(${ed},${ed},${ed}\\)$`),uce=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),dce=new RegExp(`^rgba\\(${ed},${ed},${ed},${gp}\\)$`),hce=new RegExp(`^rgba\\(${to},${to},${to},${gp}\\)$`),fce=new RegExp(`^hsl\\(${gp},${to},${to}\\)$`),pce=new RegExp(`^hsla\\(${gp},${to},${to},${gp}\\)$`),EM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QC(Jp,Cd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RM,formatHex:RM,formatHex8:mce,formatHsl:gce,formatRgb:DM,toString:DM});function RM(){return this.rgb().formatHex()}function mce(){return this.rgb().formatHex8()}function gce(){return PO(this).formatHsl()}function DM(){return this.rgb().formatRgb()}function Cd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lce.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?LM(e):r===3?new Hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cce.exec(t))?new Hi(e[1],e[2],e[3],1):(e=uce.exec(t))?new Hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dce.exec(t))?Jm(e[1],e[2],e[3],e[4]):(e=hce.exec(t))?Jm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fce.exec(t))?AM(e[1],e[2]/100,e[3]/100,1):(e=pce.exec(t))?AM(e[1],e[2]/100,e[3]/100,e[4]):EM.hasOwnProperty(t)?LM(EM[t]):t==="transparent"?new Hi(NaN,NaN,NaN,0):null}function LM(t){return new Hi(t>>16&255,t>>8&255,t&255,1)}function Jm(t,e,r,n){return n<=0&&(t=e=r=NaN),new Hi(t,e,r,n)}function yce(t){return t instanceof Jp||(t=Cd(t)),t?(t=t.rgb(),new Hi(t.r,t.g,t.b,t.opacity)):new Hi}function KS(t,e,r,n){return arguments.length===1?yce(t):new Hi(t,e,r,n??1)}function Hi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}QC(Hi,KS,_O(Jp,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mp:Math.pow(mp,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hi(Bc(this.r),Bc(this.g),Bc(this.b),Xy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IM,formatHex:IM,formatHex8:bce,formatRgb:FM,toString:FM}));function IM(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}`}function bce(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}${vc((isNaN(this.opacity)?1:this.opacity)*255)}`}function FM(){const t=Xy(this.opacity);return`${t===1?"rgb(":"rgba("}${Bc(this.r)}, ${Bc(this.g)}, ${Bc(this.b)}${t===1?")":`, ${t})`}`}function Xy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vc(t){return t=Bc(t),(t<16?"0":"")+t.toString(16)}function AM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ya(t,e,r,n)}function PO(t){if(t instanceof ya)return new ya(t.h,t.s,t.l,t.opacity);if(t instanceof Jp||(t=Cd(t)),!t)return new ya;if(t instanceof ya)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ya(a,o,l,t.opacity)}function vce(t,e,r,n){return arguments.length===1?PO(t):new ya(t,e,r,n??1)}function ya(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}QC(ya,vce,_O(Jp,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new ya(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mp:Math.pow(mp,t),new ya(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Hi(Lw(t>=240?t-240:t+120,i,n),Lw(t,i,n),Lw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ya(OM(this.h),Zm(this.s),Zm(this.l),Xy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xy(this.opacity);return`${t===1?"hsl(":"hsla("}${OM(this.h)}, ${Zm(this.s)*100}%, ${Zm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OM(t){return t=(t||0)%360,t<0?t+360:t}function Zm(t){return Math.max(0,Math.min(1,t||0))}function Lw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const JC=t=>()=>t;function wce(t,e){return function(r){return t+r*e}}function xce(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Sce(t){return(t=+t)==1?BO:function(e,r){return r-e?xce(e,r,t):JC(isNaN(e)?r:e)}}function BO(t,e){var r=e-t;return r?wce(t,r):JC(isNaN(t)?e:t)}const $M=function t(e){var r=Sce(e);function n(i,s){var a=r((i=KS(i)).r,(s=KS(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=BO(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function kce(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Cce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tce(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=qb(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function NO(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function yp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function _ce(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=qb(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var QS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iw=new RegExp(QS.source,"g");function Pce(t){return function(){return t}}function Bce(t){return function(e){return t(e)+""}}function Nce(t,e){var r=QS.lastIndex=Iw.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=QS.exec(t))&&(i=Iw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:yp(n,i)})),r=Iw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Bce(l[0].x):Pce(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function qb(t,e){var r=typeof e,n;return e==null||r==="boolean"?JC(e):(r==="number"?yp:r==="string"?(n=Cd(e))?(e=n,$M):Nce:e instanceof Cd?$M:e instanceof Date?NO:Cce(e)?kce:Array.isArray(e)?Tce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_ce:yp)(t,e)}function MO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mce(t){return function(){return t}}function Ece(t){return+t}var VM=[0,1];function $s(t){return t}function JS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Mce(isNaN(e)?NaN:.5)}function Rce(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Dce(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=JS(i,n),s=r(a,s)):(n=JS(n,i),s=r(s,a)),function(o){return s(n(o))}}function Lce(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=JS(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=CO(t,o,1,n)-1;return s[l](i[l](o))}}function Kb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ZC(){var t=VM,e=VM,r=qb,n,i,s,a=$s,o,l,c;function u(){var h=Math.min(t.length,e.length);return a!==$s&&(a=Rce(t[0],t[h-1])),o=h>2?Lce:Dce,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,t.map(n),yp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Ece),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=MO,u()},d.clamp=function(h){return arguments.length?(a=h?!0:$s,u()):a!==$s},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return n=h,i=p,u()}}function EO(){return ZC()($s,$s)}function Ice(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Td(t){return t=qy(Math.abs(t)),t?t[1]:NaN}function Fce(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Ace(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Oce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(t){if(!(e=Oce.exec(t)))throw new Error("invalid format: "+t);var e;return new eT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bp.prototype=eT.prototype;function eT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ce(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var RO;function Vce(t,e){var r=qy(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(RO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+qy(t,Math.max(0,e+s-1))[0]}function zM(t,e){var r=qy(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const WM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ice,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zM(t*100,e),r:zM,s:Vce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HM(t){return t}var UM=Array.prototype.map,GM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zce(t){var e=t.grouping===void 0||t.thousands===void 0?HM:Fce(UM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?HM:Ace(UM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=bp(d);var h=d.fill,p=d.align,f=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,v=d.precision,k=d.trim,C=d.type;C==="n"?(b=!0,C="g"):WM[C]||(v===void 0&&(v=12),k=!0,C="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=m==="$"?n:/[%p]/.test(C)?a:"",B=WM[C],D=/[defgprs%]/.test(C);v=v===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function E(R){var A=S,I=_,L,N,F;if(C==="c")I=B(R)+I,R="";else{R=+R;var O=R<0||1/R<0;if(R=isNaN(R)?l:B(Math.abs(R),v),k&&(R=$ce(R)),O&&+R==0&&f!=="+"&&(O=!1),A=(O?f==="("?f:o:f==="-"||f==="("?"":f)+A,I=(C==="s"?GM[8+RO/3]:"")+I+(O&&f==="("?")":""),D){for(L=-1,N=R.length;++L<N;)if(F=R.charCodeAt(L),48>F||F>57){I=(F===46?i+R.slice(L+1):R.slice(L))+I,R=R.slice(0,L);break}}}b&&!g&&(R=e(R,1/0));var M=A.length+R.length+I.length,V=M<y?new Array(y-M+1).join(h):"";switch(b&&g&&(R=e(V+R,V.length?y-I.length:1/0),V=""),p){case"<":R=A+R+I+V;break;case"=":R=A+V+R+I;break;case"^":R=V.slice(0,M=V.length>>1)+A+R+I+V.slice(M);break;default:R=V+A+R+I;break}return s(R)}return E.toString=function(){return d+""},E}function u(d,h){var p=c((d=bp(d),d.type="f",d)),f=Math.max(-8,Math.min(8,Math.floor(Td(h)/3)))*3,m=Math.pow(10,-f),g=GM[8+f/3];return function(y){return p(m*y)+g}}return{format:c,formatPrefix:u}}var eg,tT,DO;Wce({thousands:",",grouping:[3],currency:["$",""]});function Wce(t){return eg=zce(t),tT=eg.format,DO=eg.formatPrefix,eg}function Hce(t){return Math.max(0,-Td(Math.abs(t)))}function Uce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Td(e)/3)))*3-Td(Math.abs(t)))}function Gce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Td(e)-Td(t))+1}function jce(t,e,r,n){var i=qS(t,e,r),s;switch(n=bp(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Uce(i,a))&&(n.precision=s),DO(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Gce(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Hce(i))&&(n.precision=s-(n.type==="%")*2);break}}return tT(n)}function rT(t){var e=t.domain;return t.ticks=function(r){var n=e();return YS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return jce(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=XS(a,o,r),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function LO(){var t=EO();return t.copy=function(){return Kb(t,LO())},Gl.apply(t,arguments),rT(t)}function IO(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function jM(t){return Math.log(t)}function YM(t){return Math.exp(t)}function Yce(t){return-Math.log(-t)}function Xce(t){return-Math.exp(-t)}function qce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kce(t){return t===10?qce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XM(t){return(e,r)=>-t(-e,r)}function Jce(t){const e=t(jM,YM),r=e.domain;let n=10,i,s;function a(){return i=Qce(n),s=Kce(n),r()[0]<0?(i=XM(i),s=XM(s),t(Yce,Xce)):t(jM,YM),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),f,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(f=1;f<n;++f)if(m=h<0?f/s(-h):f*s(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(f=n-1;f>=1;--f)if(m=h>0?f/s(-h):f*s(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<g&&(y=YS(c,u,g))}else y=YS(h,p,Math.min(p-h,g)).map(s);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=bp(l)).precision==null&&(l.trim=!0),l=tT(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(IO(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function FO(){const t=Jce(ZC()).domain([1,10]);return t.copy=()=>Kb(t,FO()).base(t.base()),Gl.apply(t,arguments),t}function qM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eue(t){return t<0?-t*t:t*t}function tue(t){var e=t($s,$s),r=1;function n(){return r===1?t($s,$s):r===.5?t(Zce,eue):t(qM(r),qM(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},rT(e)}function nT(){var t=tue(ZC());return t.copy=function(){return Kb(t,nT()).exponent(t.exponent())},Gl.apply(t,arguments),t}function rue(){return nT.apply(null,arguments).exponent(.5)}function AO(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[CO(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return AO().domain(t).range(e).unknown(r)},Gl.apply(i,arguments)}const Fw=new Date,Aw=new Date;function Gn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Gn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Fw.setTime(+s),Aw.setTime(+a),t(Fw),t(Aw),Math.floor(r(Fw,Aw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Ky=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ky.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ky);Ky.range;const To=1e3,Vs=To*60,_o=Vs*60,Vo=_o*24,iT=Vo*7,KM=Vo*30,Ow=Vo*365,wc=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCSeconds());wc.range;const sT=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To)},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getMinutes());sT.range;const aT=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCMinutes());aT.range;const oT=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To-t.getMinutes()*Vs)},(t,e)=>{t.setTime(+t+e*_o)},(t,e)=>(e-t)/_o,t=>t.getHours());oT.range;const lT=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_o)},(t,e)=>(e-t)/_o,t=>t.getUTCHours());lT.range;const Zp=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vs)/Vo,t=>t.getDate()-1);Zp.range;const Qb=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);Qb.range;const OO=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));OO.range;function eu(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vs)/iT)}const Jb=eu(0),Qy=eu(1),nue=eu(2),iue=eu(3),_d=eu(4),sue=eu(5),aue=eu(6);Jb.range;Qy.range;nue.range;iue.range;_d.range;sue.range;aue.range;function tu(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/iT)}const Zb=tu(0),Jy=tu(1),oue=tu(2),lue=tu(3),Pd=tu(4),cue=tu(5),uue=tu(6);Zb.range;Jy.range;oue.range;lue.range;Pd.range;cue.range;uue.range;const cT=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cT.range;const uT=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uT.range;const zo=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zo.range;const Wo=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Wo.range;function $O(t,e,r,n,i,s){const a=[[wc,1,To],[wc,5,5*To],[wc,15,15*To],[wc,30,30*To],[s,1,Vs],[s,5,5*Vs],[s,15,15*Vs],[s,30,30*Vs],[i,1,_o],[i,3,3*_o],[i,6,6*_o],[i,12,12*_o],[n,1,Vo],[n,2,2*Vo],[r,1,iT],[e,1,KM],[e,3,3*KM],[t,1,Ow]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),f=p?p.range(c,+u+1):[];return h?f.reverse():f}function l(c,u,d){const h=Math.abs(u-c)/d,p=qC(([,,g])=>g).right(a,h);if(p===a.length)return t.every(qS(c/Ow,u/Ow,d));if(p===0)return Ky.every(Math.max(qS(c,u,d),1));const[f,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return f.every(m)}return[o,l]}const[due,hue]=$O(Wo,uT,Zb,OO,lT,aT),[fue,pue]=$O(zo,cT,Jb,Zp,oT,sT);function $w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Th(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function mue(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=_h(i),u=Ph(i),d=_h(s),h=Ph(s),p=_h(a),f=Ph(a),m=_h(o),g=Ph(o),y=_h(l),b=Ph(l),v={a:O,A:M,b:V,B:z,c:null,d:rE,e:rE,f:Oue,g:Xue,G:Kue,H:Iue,I:Fue,j:Aue,L:VO,m:$ue,M:Vue,p:K,q:ie,Q:sE,s:aE,S:zue,u:Wue,U:Hue,V:Uue,w:Gue,W:jue,x:null,X:null,y:Yue,Y:que,Z:Que,"%":iE},k={a:se,A:te,b:G,B:Z,c:null,d:nE,e:nE,f:tde,g:dde,G:fde,H:Jue,I:Zue,j:ede,L:WO,m:rde,M:nde,p:he,q:pe,Q:sE,s:aE,S:ide,u:sde,U:ade,V:ode,w:lde,W:cde,x:null,X:null,y:ude,Y:hde,Z:pde,"%":iE},C={a:E,A:R,b:A,B:I,c:L,d:eE,e:eE,f:Eue,g:ZM,G:JM,H:tE,I:tE,j:Pue,L:Mue,m:_ue,M:Bue,p:D,q:Tue,Q:Due,s:Lue,S:Nue,u:wue,U:xue,V:Sue,w:vue,W:kue,x:N,X:F,y:ZM,Y:JM,Z:Cue,"%":Rue};v.x=S(r,v),v.X=S(n,v),v.c=S(e,v),k.x=S(r,k),k.X=S(n,k),k.c=S(e,k);function S(ne,le){return function(oe){var q=[],X=-1,J=0,Y=ne.length,we,fe,$;for(oe instanceof Date||(oe=new Date(+oe));++X<Y;)ne.charCodeAt(X)===37&&(q.push(ne.slice(J,X)),(fe=QM[we=ne.charAt(++X)])!=null?we=ne.charAt(++X):fe=we==="e"?" ":"0",($=le[we])&&(we=$(oe,fe)),q.push(we),J=X+1);return q.push(ne.slice(J,X)),q.join("")}}function _(ne,le){return function(oe){var q=Th(1900,void 0,1),X=B(q,ne,oe+="",0),J,Y;if(X!=oe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(le&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(J=Vw(Th(q.y,0,1)),Y=J.getUTCDay(),J=Y>4||Y===0?Jy.ceil(J):Jy(J),J=Qb.offset(J,(q.V-1)*7),q.y=J.getUTCFullYear(),q.m=J.getUTCMonth(),q.d=J.getUTCDate()+(q.w+6)%7):(J=$w(Th(q.y,0,1)),Y=J.getDay(),J=Y>4||Y===0?Qy.ceil(J):Qy(J),J=Zp.offset(J,(q.V-1)*7),q.y=J.getFullYear(),q.m=J.getMonth(),q.d=J.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Y="Z"in q?Vw(Th(q.y,0,1)).getUTCDay():$w(Th(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Y+5)%7:q.w+q.U*7-(Y+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Vw(q)):$w(q)}}function B(ne,le,oe,q){for(var X=0,J=le.length,Y=oe.length,we,fe;X<J;){if(q>=Y)return-1;if(we=le.charCodeAt(X++),we===37){if(we=le.charAt(X++),fe=C[we in QM?le.charAt(X++):we],!fe||(q=fe(ne,oe,q))<0)return-1}else if(we!=oe.charCodeAt(q++))return-1}return q}function D(ne,le,oe){var q=c.exec(le.slice(oe));return q?(ne.p=u.get(q[0].toLowerCase()),oe+q[0].length):-1}function E(ne,le,oe){var q=p.exec(le.slice(oe));return q?(ne.w=f.get(q[0].toLowerCase()),oe+q[0].length):-1}function R(ne,le,oe){var q=d.exec(le.slice(oe));return q?(ne.w=h.get(q[0].toLowerCase()),oe+q[0].length):-1}function A(ne,le,oe){var q=y.exec(le.slice(oe));return q?(ne.m=b.get(q[0].toLowerCase()),oe+q[0].length):-1}function I(ne,le,oe){var q=m.exec(le.slice(oe));return q?(ne.m=g.get(q[0].toLowerCase()),oe+q[0].length):-1}function L(ne,le,oe){return B(ne,e,le,oe)}function N(ne,le,oe){return B(ne,r,le,oe)}function F(ne,le,oe){return B(ne,n,le,oe)}function O(ne){return a[ne.getDay()]}function M(ne){return s[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function z(ne){return o[ne.getMonth()]}function K(ne){return i[+(ne.getHours()>=12)]}function ie(ne){return 1+~~(ne.getMonth()/3)}function se(ne){return a[ne.getUTCDay()]}function te(ne){return s[ne.getUTCDay()]}function G(ne){return l[ne.getUTCMonth()]}function Z(ne){return o[ne.getUTCMonth()]}function he(ne){return i[+(ne.getUTCHours()>=12)]}function pe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var le=S(ne+="",v);return le.toString=function(){return ne},le},parse:function(ne){var le=_(ne+="",!1);return le.toString=function(){return ne},le},utcFormat:function(ne){var le=S(ne+="",k);return le.toString=function(){return ne},le},utcParse:function(ne){var le=_(ne+="",!0);return le.toString=function(){return ne},le}}}var QM={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,gue=/^%/,yue=/[\\^$*+?|[\]().{}]/g;function lr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function bue(t){return t.replace(yue,"\\$&")}function _h(t){return new RegExp("^(?:"+t.map(bue).join("|")+")","i")}function Ph(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function vue(t,e,r){var n=Zn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wue(t,e,r){var n=Zn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Sue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function kue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function JM(t,e,r){var n=Zn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ZM(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cue(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tue(t,e,r){var n=Zn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _ue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function eE(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Pue(t,e,r){var n=Zn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function tE(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Nue(t,e,r){var n=Zn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Mue(t,e,r){var n=Zn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Eue(t,e,r){var n=Zn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rue(t,e,r){var n=gue.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Due(t,e,r){var n=Zn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Lue(t,e,r){var n=Zn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function rE(t,e){return lr(t.getDate(),e,2)}function Iue(t,e){return lr(t.getHours(),e,2)}function Fue(t,e){return lr(t.getHours()%12||12,e,2)}function Aue(t,e){return lr(1+Zp.count(zo(t),t),e,3)}function VO(t,e){return lr(t.getMilliseconds(),e,3)}function Oue(t,e){return VO(t,e)+"000"}function $ue(t,e){return lr(t.getMonth()+1,e,2)}function Vue(t,e){return lr(t.getMinutes(),e,2)}function zue(t,e){return lr(t.getSeconds(),e,2)}function Wue(t){var e=t.getDay();return e===0?7:e}function Hue(t,e){return lr(Jb.count(zo(t)-1,t),e,2)}function zO(t){var e=t.getDay();return e>=4||e===0?_d(t):_d.ceil(t)}function Uue(t,e){return t=zO(t),lr(_d.count(zo(t),t)+(zo(t).getDay()===4),e,2)}function Gue(t){return t.getDay()}function jue(t,e){return lr(Qy.count(zo(t)-1,t),e,2)}function Yue(t,e){return lr(t.getFullYear()%100,e,2)}function Xue(t,e){return t=zO(t),lr(t.getFullYear()%100,e,2)}function que(t,e){return lr(t.getFullYear()%1e4,e,4)}function Kue(t,e){var r=t.getDay();return t=r>=4||r===0?_d(t):_d.ceil(t),lr(t.getFullYear()%1e4,e,4)}function Que(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lr(e/60|0,"0",2)+lr(e%60,"0",2)}function nE(t,e){return lr(t.getUTCDate(),e,2)}function Jue(t,e){return lr(t.getUTCHours(),e,2)}function Zue(t,e){return lr(t.getUTCHours()%12||12,e,2)}function ede(t,e){return lr(1+Qb.count(Wo(t),t),e,3)}function WO(t,e){return lr(t.getUTCMilliseconds(),e,3)}function tde(t,e){return WO(t,e)+"000"}function rde(t,e){return lr(t.getUTCMonth()+1,e,2)}function nde(t,e){return lr(t.getUTCMinutes(),e,2)}function ide(t,e){return lr(t.getUTCSeconds(),e,2)}function sde(t){var e=t.getUTCDay();return e===0?7:e}function ade(t,e){return lr(Zb.count(Wo(t)-1,t),e,2)}function HO(t){var e=t.getUTCDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function ode(t,e){return t=HO(t),lr(Pd.count(Wo(t),t)+(Wo(t).getUTCDay()===4),e,2)}function lde(t){return t.getUTCDay()}function cde(t,e){return lr(Jy.count(Wo(t)-1,t),e,2)}function ude(t,e){return lr(t.getUTCFullYear()%100,e,2)}function dde(t,e){return t=HO(t),lr(t.getUTCFullYear()%100,e,2)}function hde(t,e){return lr(t.getUTCFullYear()%1e4,e,4)}function fde(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Pd(t):Pd.ceil(t),lr(t.getUTCFullYear()%1e4,e,4)}function pde(){return"+0000"}function iE(){return"%"}function sE(t){return+t}function aE(t){return Math.floor(+t/1e3)}var yu,UO,GO;mde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mde(t){return yu=mue(t),UO=yu.format,yu.parse,GO=yu.utcFormat,yu.utcParse,yu}function gde(t){return new Date(t)}function yde(t){return t instanceof Date?+t:+new Date(+t)}function dT(t,e,r,n,i,s,a,o,l,c){var u=EO(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),k=c("%Y");function C(S){return(l(S)<S?p:o(S)<S?f:a(S)<S?m:s(S)<S?g:n(S)<S?i(S)<S?y:b:r(S)<S?v:k)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,yde)):h().map(gde)},u.ticks=function(S){var _=h();return t(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?C:c(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=e(_[0],_[_.length-1],S??10)),S?h(IO(_,S)):u},u.copy=function(){return Kb(u,dT(t,e,r,n,i,s,a,o,l,c))},u}function jO(){return Gl.apply(dT(fue,pue,zo,cT,Jb,Zp,oT,sT,wc,UO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bde(){return Gl.apply(dT(due,hue,Wo,uT,Zb,Qb,lT,aT,wc,GO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vde(){var t=0,e=1,r,n,i,s,a=$s,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var p,f;return arguments.length?([p,f]=h,a=d(p,f),c):[a(0),a(1)]}}return c.range=u(qb),c.rangeRound=u(MO),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function wde(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YO(){var t=rT(vde()($s));return t.copy=function(){return wde(t,YO())},ace.apply(t,arguments)}function ZS(t){return t.scaleType==="band"}function XO(t){return t.scaleType==="point"}function xde(t){return t.type==="piecewise"?AO(t.thresholds,t.colors):YO([t.min??0,t.max??100],t.color)}function Zy(t){return t.values?jy(t.values,t.colors).unknown(t.unknownColor??null):jy(t.colors.map((e,r)=>r),t.colors).unknown(t.unknownColor??null)}function Fg(t){return t.type==="ordinal"?Zy(t):xde(t)}function Uc(t){return t.bandwidth!==void 0}function hT(t){return typeof t=="number"&&!Number.isFinite(t)}function Sde(t){const{tickMaxStep:e,tickMinStep:r,tickNumber:n,range:i,domain:s}=t,a=r===void 0?999:Math.floor(Math.abs(s[1]-s[0])/r),o=e===void 0?2:Math.ceil(Math.abs(s[1]-s[0])/e),l=n??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(o,l))}const zw={start:0,extremities:0,end:1,middle:.5};function e0(t){const{scale:e,tickNumber:r,valueFormatter:n,tickInterval:i,tickPlacement:s="extremities",tickLabelPlacement:a="middle"}=t;return w.useMemo(()=>{if(Uc(e)){const c=e.domain();return e.bandwidth()>0?[...(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(h=>({value:h,formattedValue:(n==null?void 0:n(h,{location:"tick"}))??`${h}`,offset:e(h)-(e.step()-e.bandwidth())/2+zw[s]*e.step(),labelOffset:a==="tick"?0:e.step()*(zw[a]-zw[s])})),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(d=>({value:d,formattedValue:(n==null?void 0:n(d,{location:"tick"}))??`${d}`,offset:e(d),labelOffset:0}))}return e.domain().some(hT)?[]:(typeof i=="object"?i:e.ticks(r)).map(c=>({value:c,formattedValue:(n==null?void 0:n(c,{location:"tick"}))??e.tickFormat(r)(c),offset:e(c),labelOffset:0}))},[e,i,r,n,s,a])}function kde(t,e,r){switch(t){case"log":return FO(e,r);case"pow":return nT(e,r);case"sqrt":return rue(e,r);case"time":return jO(e,r);case"utc":return bde(e,r);default:return LO(e,r)}}const Ww=(t,e)=>{const r=t[1]-t[0],n=e[1]-e[0],i=t[0]-e[0]*r/n,s=t[1]+(100-e[1])*r/n;return[i,s]},Cde=(t,e,r,n,i,s,a)=>{var p;const o=n[e],l=((p=s[e])==null?void 0:p.series)??{},[c,u]=(o==null?void 0:o({series:l,axis:r,isDefaultAxis:i,getFilters:a}))??[1/0,-1/0],[d,h]=t;return[Math.min(c,d),Math.max(u,h)]},Tde=(t,e,r,n,i)=>{const a=Object.keys(e).reduce((o,l)=>Cde(o,l,t,e,r,n,i),[1/0,-1/0]);return Number.isNaN(a[0])||Number.isNaN(a[1])?[1/0,-1/0]:a},_de=(t,e,r)=>{const n=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return r?n.reverse():n},oE=t=>(t==null?void 0:t[0])instanceof Date;function lE(t,e){const r=jO(t.data,e);return(n,{location:i})=>i==="tick"?r.tickFormat(t.tickNumber)(n):`${n.toLocaleString()}`}const Pde=.2,Bde=.1;function cE({drawingArea:t,formattedSeries:e,axis:r,extremumGetters:n,axisDirection:i,zoomData:s,zoomOptions:a,getFilters:o}){const l={};return r.forEach((c,u)=>{const d=c,h=u===0,p=a==null?void 0:a[d.id],f=s==null?void 0:s.find(({axisId:I})=>I===d.id),m=f?[f.start,f.end]:[0,100],g=_de(t,i,d.reverse),[y,b]=Tde(d,n,h,e,f===void 0&&!p?o:void 0),v=d.data??[];if(ZS(d)){const I=d.categoryGapRatio??Pde,L=d.barGapRatio??Bde,N=i==="x"?g:[g[1],g[0]],F=Ww(N,m);if(l[d.id]=ge({categoryGapRatio:I,barGapRatio:L},d,{data:v,scale:KC(d.data,F).paddingInner(I).paddingOuter(I/2),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?Zy(ge({values:d.data},d.colorMap)):Fg(d.colorMap))}),oE(d.data)){const O=lE(d,N);l[d.id].valueFormatter=d.valueFormatter??O}}if(XO(d)){const I=i==="x"?g:[...g].reverse(),L=Ww(I,m);if(l[d.id]=ge({},d,{data:v,scale:oce(d.data,L),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?Zy(ge({values:d.data},d.colorMap)):Fg(d.colorMap))}),oE(d.data)){const N=lE(d,I);l[d.id].valueFormatter=d.valueFormatter??N}}if(d.scaleType==="band"||d.scaleType==="point")return;const k=d.scaleType??"linear",C=[d.min??y,d.max??b],S=Sde(ge({},d,{range:g,domain:C})),_=S/((m[1]-m[0])/100),B=Ww(g,m),D=kde(k,C,B).nice(S),[E,R]=D.domain(),A=[d.min??E,d.max??R];l[d.id]=ge({},d,{data:v,scaleType:k,scale:D.domain(A),tickNumber:_,colorScale:d.colorMap&&Fg(d.colorMap)})}),{axis:l,axisIds:r.map(({id:c})=>c)}}let uE=0;function Nde(t){const[e,r]=w.useState(t),n=t||e;return w.useEffect(()=>{e==null&&(uE+=1,r(`mui-${uE}`))},[e]),n}const dE=Nc.useId;function qO(t){if(dE!==void 0){const e=dE();return t??e}return Nde(t)}const fT="DEFAULT_X_AXIS_KEY",pT="DEFAULT_Y_AXIS_KEY",Mde={top:50,bottom:50,left:50,right:50},Ede=(t,e,r)=>{const n=ge({},Mde,r);return w.useMemo(()=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}),[t,e,n.top,n.bottom,n.left,n.right])},ev=w.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),KO=w.createContext({isInitialized:!1,data:{current:null}});function Rde(t){const{width:e,height:r,margin:n,svgRef:i,children:s}=t,a=Ede(e,r,n),o=qO(),l=w.useCallback(({x:d,y:h},p)=>{if(p!=null&&p.targetElement&&(p!=null&&p.targetElement.closest("[data-drawing-container]")))return!0;const f=d>=a.left-1&&d<=a.left+a.width,m=h>=a.top-1&&h<=a.top+a.height;return(p==null?void 0:p.direction)==="x"?f:((p==null?void 0:p.direction)==="y"||f)&&m},[a]),c=w.useMemo(()=>ge({chartId:o??""},a,{isPointInside:l}),[o,a,l]),u=w.useMemo(()=>({isInitialized:!0,data:i}),[i]);return x.jsx(KO.Provider,{value:u,children:x.jsx(ev.Provider,{value:c,children:s})})}function Da(){const{left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}=w.useContext(ev);return w.useMemo(()=>({left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}),[n,t,e,r,i,s,a])}const Dde=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function Lde(t,e,r=Dde){return t.type==="pie"?ge({},t,{data:t.data.map((n,i)=>ge({color:r[i%r.length]},n))}):ge({color:r[e%r.length]},t)}const Ide=({series:t,colors:e,seriesFormatters:r,dataset:n})=>{const i={};t.forEach((a,o)=>{var u;const{id:l=`auto-generated-id-${o}`,type:c}=a;if(i[c]===void 0&&(i[c]={series:{},seriesOrder:[]}),((u=i[c])==null?void 0:u.series[l])!==void 0)throw new Error(`MUI X: series' id "${l}" is not unique.`);i[c].series[l]=ge({id:l},Lde(a,o,e)),i[c].seriesOrder.push(l)});const s={};return Object.keys(r).forEach(a=>{var l;const o=i[a];o!==void 0&&(s[a]=((l=r[a])==null?void 0:l.call(r,o,n))??i[a])}),s},Fde=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],Ade=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],Ode=t=>t==="dark"?Ade:Fde,QO=w.createContext({isInitialized:!1,data:{}}),em=w.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}}),hE=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},JO=t=>{var l;const{axis:e,getFilters:r,isDefaultAxis:n}=t,i=r==null?void 0:r({currentAxisId:e.id,isDefaultAxis:n}),s=i?(l=e.data)==null?void 0:l.filter((c,u)=>i({x:null,y:null},u)):e.data,a=Math.min(...s??[]),o=Math.max(...s??[]);return[a,o]},ZO=t=>e=>{const{series:r,axis:n,getFilters:i,isDefaultAxis:s}=e;return Object.keys(r).filter(a=>{const o=r[a].yAxisId??r[a].yAxisKey;return o===n.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:l}=r[o],c=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:s,seriesXAxisId:r[o].xAxisId??r[o].xAxisKey,seriesYAxisId:r[o].yAxisId??r[o].yAxisKey}),[u,d]=(l==null?void 0:l.reduce((h,p,f)=>c&&(!c(hE(p[0],t),f)||!c(hE(p[1],t),f))?h:[Math.min(...p,h[0]),Math.max(...p,h[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(u,a[0]),Math.max(d,a[1])]},[1/0,-1/0])},$de=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?ZO("x")(t):JO(t),Vde=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?JO(t):ZO("y")(t);function ca(t){return function(){return t}}const zde=Math.PI,Hw=2*zde;function e5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wde(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Hde(t){return t}function Ude(){var t=Hde,e=Wde,r=null,n=ca(0),i=ca(Hw),s=ca(0);function a(o){var l,c=(o=e5(o)).length,u,d,h=0,p=new Array(c),f=new Array(c),m=+n.apply(this,arguments),g=Math.min(Hw,Math.max(-Hw,i.apply(this,arguments)-m)),y,b=Math.min(Math.abs(g)/c,s.apply(this,arguments)),v=b*(g<0?-1:1),k;for(l=0;l<c;++l)(k=f[p[l]=l]=+t(o[l],l,o))>0&&(h+=k);for(e!=null?p.sort(function(C,S){return e(f[C],f[S])}):r!=null&&p.sort(function(C,S){return r(o[C],o[S])}),l=0,d=h?(g-c*v)/h:0;l<c;++l,m=y)u=p[l],k=f[u],y=m+(k>0?k*d:0)+v,f[u]={data:o[u],index:l,value:k,startAngle:m,endAngle:y,padAngle:b};return f}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:ca(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,r=null,a):e},a.sort=function(o){return arguments.length?(r=o,e=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:ca(+o),a):n},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:ca(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:ca(+o),a):s},a}function Bd(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Nd(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Gde(t,e){return t[e]}function jde(t){const e=[];return e.key=t,e}function t5(){var t=ca([]),e=Nd,r=Bd,n=Gde;function i(s){var a=Array.from(t.apply(this,arguments),jde),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(d,a[o].key,c,s)]).data=d;for(o=0,u=e5(e(a));o<l;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ca(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ca(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Nd:typeof s=="function"?s:ca(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Bd,i):r},i}function Yde(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Bd(t,e)}}function Xde(t,e){if((l=t.length)>0)for(var r,n=0,i,s,a,o,l,c=t[e[0]].length;n<c;++n)for(a=o=0,r=0;r<l;++r)(s=(i=t[e[r]][n])[1]-i[0])>0?(i[0]=a,i[1]=a+=s):s<0?(i[1]=o,i[0]=o+=s):(i[0]=0,i[1]=s)}function qde(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Bd(t,e)}}function Kde(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,f=0;f<o;++f){var m=t[e[f]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Bd(t,e)}}function r5(t){var e=t.map(Qde);return Nd(t).sort(function(r,n){return e[r]-e[n]})}function Qde(t){for(var e=-1,r=0,n=t.length,i,s=-1/0;++e<n;)(i=+t[e][1])>s&&(s=i,r=e);return r}function n5(t){var e=t.map(i5);return Nd(t).sort(function(r,n){return e[r]-e[n]})}function i5(t){for(var e=0,r=-1,n=t.length,i;++r<n;)(i=+t[r][1])&&(e+=i);return e}function Jde(t){return n5(t).reverse()}function Zde(t){var e=t.length,r,n,i=t.map(i5),s=r5(t),a=0,o=0,l=[],c=[];for(r=0;r<e;++r)n=s[r],a<o?(a+=i[n],l.push(n)):(o+=i[n],c.push(n));return c.reverse().concat(l)}function ehe(t){return Nd(t).reverse()}const Uw={appearance:r5,ascending:n5,descending:Jde,insideOut:Zde,none:Nd,reverse:ehe},Gw={expand:Yde,diverging:Xde,none:Bd,silhouette:qde,wiggle:Kde},s5=t=>{const{series:e,seriesOrder:r,defaultStrategy:n}=t,i=[],s={};return r.forEach(a=>{const{stack:o,stackOrder:l,stackOffset:c}=e[a];o===void 0?i.push({ids:[a],stackingOrder:Uw.none,stackingOffset:Gw.none}):s[o]===void 0?(s[o]=i.length,i.push({ids:[a],stackingOrder:Uw[l??(n==null?void 0:n.stackOrder)??"none"],stackingOffset:Gw[c??(n==null?void 0:n.stackOffset)??"diverging"]})):(i[s[o]].ids.push(a),l!==void 0&&(i[s[o]].stackingOrder=Uw[l]),c!==void 0&&(i[s[o]].stackingOffset=Gw[c]))}),i};function mT(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=ge({},t[n],{valueFormatter:t[n].valueFormatter??e})}),r}const the=(t,e)=>{const{seriesOrder:r,series:n}=t,i=s5(t),s=e??[];r.forEach(o=>{const l=n[o].data;if(l!==void 0)l.forEach((c,u)=>{s.length<=u?s.push({[o]:c}):s[u][o]=c});else if(e===void 0)throw new Error([`MUI X: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return i.forEach(o=>{const{ids:l,stackingOffset:c,stackingOrder:u}=o,d=t5().keys(l.map(h=>{const p=n[h].dataKey;return n[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(u).offset(c)(s);l.forEach((h,p)=>{const f=n[h].dataKey;a[h]=ge({layout:"vertical"},n[h],{data:f?e.map(m=>{const g=m[f];return typeof g!="number"?0:g}):n[h].data,stackedData:d[p].map(([m,g])=>[m,g])})})}),{seriesOrder:r,stackingGroups:i,series:mT(a,o=>o==null?"":o.toLocaleString())}},rhe=the,nhe=(t,e,r)=>{const n=t.layout==="vertical",i=n?e==null?void 0:e.colorScale:r==null?void 0:r.colorScale,s=n?r==null?void 0:r.colorScale:e==null?void 0:e.colorScale,a=n?e==null?void 0:e.data:r==null?void 0:r.data;return s?o=>{const l=t.data[o],c=l===null?t.color:s(l);return c===null?t.color:c}:i&&a?o=>{const l=a[o],c=l===null?t.color:i(l);return c===null?t.color:c}:()=>t.color},a5=nhe,ihe={seriesType:"bar",seriesFormatter:rhe,colorProcessor:a5,xExtremumGetter:$de,yExtremumGetter:Vde},t0=(t,e)=>[Math.min(t[0],e[0]),Math.max(t[1],e[1])],she=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].xAxisId??e[s].xAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((c,u,d)=>o&&!o(u,d)?c:t0(c,[u.x,u.x]),[1/0,-1/0]);return t0(s,l)},[1/0,-1/0])},ahe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((c,u,d)=>o&&!o(u,d)?c:t0(c,[u.y,u.y]),[1/0,-1/0]);return t0(s,l)},[1/0,-1/0])},ohe=({series:t,seriesOrder:e})=>({series:mT(t,r=>`(${r.x}, ${r.y})`),seriesOrder:e}),lhe=ohe,che=(t,e,r,n)=>{const i=n==null?void 0:n.colorScale,s=r==null?void 0:r.colorScale,a=e==null?void 0:e.colorScale;return i?o=>{var u,d;if(((u=n==null?void 0:n.data)==null?void 0:u[o])!==void 0){const h=i((d=n==null?void 0:n.data)==null?void 0:d[o]);if(h!==null)return h}const l=t.data[o],c=l===null?t.color:i(l.z);return c===null?t.color:c}:s?o=>{const l=t.data[o],c=l===null?t.color:s(l.y);return c===null?t.color:c}:a?o=>{const l=t.data[o],c=l===null?t.color:a(l.x);return c===null?t.color:c}:()=>t.color},uhe=che,dhe={seriesType:"scatter",seriesFormatter:lhe,colorProcessor:uhe,xExtremumGetter:she,yExtremumGetter:ahe},hhe=t=>{const{axis:e}=t,r=Math.min(...e.data??[]),n=Math.max(...e.data??[]);return[r,n]};function fhe(t,e,r){return e.reduce((n,i,s)=>{const[a,o]=t(i);return r&&(!r({y:a,x:null},s)||!r({y:o,x:null},s))?n:[Math.min(a,o,n[0]),Math.max(a,o,n[1])]},[1/0,-1/0])}const phe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||n&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:l}=e[a],c=o!==void 0,u=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),d=c&&r.scaleType!=="log"&&typeof e[a].baseline!="string"?m=>m:m=>[m[1],m[1]],h=fhe(d,l,u),[p,f]=h;return[Math.min(p,s[0]),Math.max(f,s[1])]},[1/0,-1/0])},mhe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=s5(ge({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];r.forEach(o=>{const l=n[o].data;l!==void 0&&l.forEach((c,u)=>{s.length<=u?s.push({[o]:c}):s[u][o]=c})});const a={};return i.forEach(o=>{const{ids:l,stackingOrder:c,stackingOffset:u}=o,d=t5().keys(l.map(h=>{const p=n[h].dataKey;return n[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(c).offset(u)(s);l.forEach((h,p)=>{const f=n[h].dataKey;a[h]=ge({},n[h],{data:f?e.map(m=>{const g=m[f];return typeof g!="number"?null:g}):n[h].data,stackedData:d[p].map(([m,g])=>[m,g])})})}),{seriesOrder:r,stackingGroups:i,series:mT(a,o=>o==null?"":o.toLocaleString())}},ghe=mhe,yhe=(t,e,r)=>{const n=r==null?void 0:r.colorScale,i=e==null?void 0:e.colorScale;return n?s=>{const a=t.data[s],o=a===null?t.color:n(a);return o===null?t.color:o}:i?s=>{var l;const a=(l=e.data)==null?void 0:l[s],o=a===null?t.color:i(a);return o===null?t.color:o}:()=>t.color},bhe=yhe,vhe={seriesType:"line",colorProcessor:bhe,seriesFormatter:ghe,xExtremumGetter:hhe,yExtremumGetter:phe};function Mo(t,e){return typeof t=="function"?t(e):t}const whe=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,r)=>r-e;case"asc":return(e,r)=>e-r;default:return null}},xhe=t=>{const{seriesOrder:e,series:r}=t,n={};return e.forEach(i=>{const s=Ude().startAngle(2*Math.PI*(r[i].startAngle??0)/360).endAngle(2*Math.PI*(r[i].endAngle??360)/360).padAngle(2*Math.PI*(r[i].paddingAngle??0)/360).sortValues(whe(r[i].sortingValues??"none"))(r[i].data.map(a=>a.value));n[i]=ge({valueFormatter:a=>a.value.toLocaleString()},r[i],{data:r[i].data.map((a,o)=>ge({},a,{id:a.id??`auto-generated-pie-id-${i}-${o}`},s[o])).map((a,o)=>{var l,c;return ge({},a,{formattedValue:((c=(l=r[i]).valueFormatter)==null?void 0:c.call(l,ge({},a,{label:Mo(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:n}},She=xhe,khe=t=>e=>t.data[e].color,Che=khe,The={seriesType:"pie",colorProcessor:Che,seriesFormatter:She},_he=[ihe,dhe,vhe,The];function Phe(t){const e=t??_he,r={},n={},i={},s={};for(let a=0;a<e.length;a+=1){const o=e[a],l=o.seriesType;r[l]=o.seriesFormatter,n[l]=o.colorProcessor,o.xExtremumGetter&&(i[l]=o.xExtremumGetter),o.yExtremumGetter&&(s[l]=o.yExtremumGetter)}return{seriesFormatters:r,colorProcessors:n,xExtremumGetters:i,yExtremumGetters:s}}function Bhe(t){const{children:e,plugins:r}=t,n=w.useMemo(()=>({isInitialized:!0,data:Phe(r)}),[r]);return x.jsx(em.Provider,{value:n,children:e})}function o5(t){const{isInitialized:e,data:r}=w.useContext(em);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.colorProcessors[t]:r.colorProcessors}function Nhe(t){const{isInitialized:e,data:r}=w.useContext(em);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.seriesFormatters[t]:r.seriesFormatters}function Mhe(t){const{isInitialized:e,data:r}=w.useContext(em);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.xExtremumGetters[t]:r.xExtremumGetters}function Ehe(t){const{isInitialized:e,data:r}=w.useContext(em);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.yExtremumGetters[t]:r.yExtremumGetters}function Rhe(t){const{series:e,dataset:r,colors:n=Ode,children:i}=t,s=Nhe(),a=ws(),o=w.useMemo(()=>({isInitialized:!0,data:Ide({series:e,colors:typeof n=="function"?n(a.palette.mode):n,seriesFormatters:s,dataset:r})}),[e,n,a.palette.mode,s,r]);return x.jsx(QO.Provider,{value:o,children:i})}function jl(){const{isInitialized:t,data:e}=w.useContext(QO);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function Dhe(){const t=jl();return w.useMemo(()=>t.bar,[t.bar])}const l5=w.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function Lhe(t){const{xAxis:e,yAxis:r,children:n}=t,i=jl(),s=Da(),a=Mhe(),o=Ehe(),l=w.useMemo(()=>cE({drawingArea:s,formattedSeries:i,axis:e,extremumGetters:a,axisDirection:"x"}),[s,i,e,a]),c=w.useMemo(()=>cE({drawingArea:s,formattedSeries:i,axis:r,extremumGetters:o,axisDirection:"y"}),[s,i,r,o]),u=w.useMemo(()=>({isInitialized:!0,data:{xAxis:l.axis,yAxis:c.axis,xAxisIds:l.axisIds,yAxisIds:c.axisIds}}),[l,c]);return x.jsx(l5.Provider,{value:u,children:n})}const La=()=>{const{data:t}=w.useContext(l5);return t};function Yl(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ba.apply(null,arguments)}function Ihe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fhe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function c5(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{Fhe(r,e)})},t)}function Ahe(t){return typeof t=="string"}function Ohe(t,e,r){return t===void 0||Ahe(t)?e:ba({},e,{ownerState:ba({},e.ownerState,r)})}function $he(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function fE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Vhe(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const p=Se(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),f=ba({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=ba({},r,i,n);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const a=$he(ba({},i,n)),o=fE(n),l=fE(i),c=e(a),u=Se(c==null?void 0:c.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=ba({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=ba({},c,r,l,o);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function zhe(t,e,r){return typeof t=="function"?t(e,r):t}const Whe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function _a(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=Ihe(t,Whe),o=s?{}:zhe(n,i),{props:l,internalRef:c}=Vhe(ba({},a,{externalSlotProps:o})),u=c5(c,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return Ohe(r,ba({},l,{ref:u}),i)}const pE=t=>t,Hhe=()=>{let t=pE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=pE}}},Uhe=Hhe(),Ghe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xl(t,e,r="Mui"){const n=Ghe[e];return n?`${r}-${n}`:`${Uhe.generate(t)}-${e}`}function ru(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Xl(t,i,r)}),n}const jd=w.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),jhe=(t,e)=>{switch(e.type){case"enterItem":return ge({},t,{item:e.data});case"exitChart":return t.item===null&&t.axis.x===null&&t.axis.y===null?t:ge({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return ge({},t,{useVoronoiInteraction:e.useVoronoiInteraction});case"leaveItem":return t.item===null||Object.keys(e.data).some(r=>e.data[r]!==t.item[r])?t:ge({},t,{item:null});case"updateAxis":return e.data.x===t.axis.x&&e.data.y===t.axis.y?t:ge({},t,{axis:e.data});default:return t}};function Yhe(t){const{children:e}=t,[r,n]=w.useReducer(jhe,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=w.useMemo(()=>ge({},r,{dispatch:n}),[r]);return x.jsx(jd.Provider,{value:i,children:e})}function Xhe({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=w.useRef(t!==void 0),[s,a]=w.useState(e),o=i?t:s,l=w.useCallback(c=>{i||a(c)},[]);return[o,l]}const u5=w.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),qhe=(t,e)=>r=>t?t.fade==="series"?r.seriesId===(e==null?void 0:e.seriesId)&&r.dataIndex!==(e==null?void 0:e.dataIndex):t.fade==="global"?r.seriesId!==(e==null?void 0:e.seriesId)||r.dataIndex!==(e==null?void 0:e.dataIndex):!1:!1,Khe=(t,e)=>r=>t?t.highlight==="series"?r.seriesId===(e==null?void 0:e.seriesId):t.highlight==="item"?r.dataIndex===(e==null?void 0:e.dataIndex)&&r.seriesId===(e==null?void 0:e.seriesId):!1:!1,Qhe=["highlighted","faded"],Jhe=t=>{const e=t??{},{highlighted:r,faded:n}=e,i=yn(e,Qhe);return ge({highlight:r,fade:n},i)};function Zhe({children:t,highlightedItem:e,onHighlightChange:r}){const[n,i]=Xhe({controlled:e,default:null,name:"HighlightedProvider",state:"highlightedItem"}),s=jl(),a=w.useMemo(()=>{const c=new Map;return Object.keys(s).forEach(u=>{const d=s[u];Object.keys((d==null?void 0:d.series)??{}).forEach(h=>{const p=d==null?void 0:d.series[h];c.set(h,Jhe(p==null?void 0:p.highlightScope))})}),c},[s]),o=n&&n.seriesId?a.get(n.seriesId)??void 0:void 0,l=w.useMemo(()=>({isInitialized:!0,data:{highlightScope:o,highlightedItem:n,setHighlighted:c=>{i(c),r==null||r(c)},clearHighlighted:()=>{i(null),r==null||r(null)},isHighlighted:Khe(o,n),isFaded:qhe(o,n)}}),[n,o,i,r]);return x.jsx(u5.Provider,{value:l,children:t})}function d5(){const{isInitialized:t,data:e}=w.useContext(u5);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function h5(t){const e=d5();if(!t)return{isHighlighted:!1,isFaded:!1};const r=e.isHighlighted(t),n=!r&&e.isFaded(t);return{isHighlighted:r,isFaded:n}}const gT=w.createContext({zAxis:{},zAxisIds:[]});function efe(t){const{zAxis:e,dataset:r,children:n}=t,i=w.useMemo(()=>e==null?void 0:e.map(a=>{const o=a.dataKey;if(o===void 0||a.data!==void 0)return a;if(r===void 0)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return ge({},a,{data:r.map(l=>l[o])})}),[e,r]),s=w.useMemo(()=>{const a=(i==null?void 0:i.map((l,c)=>ge({id:`defaultized-z-axis-${c}`},l)))??[],o={};return a.forEach(l=>{o[l.id]=ge({},l,{colorScale:l.colorMap&&(l.colorMap.type==="ordinal"&&l.data?Zy(ge({values:l.data},l.colorMap)):Fg(l.colorMap.type==="continuous"?ge({min:l.min,max:l.max},l.colorMap):l.colorMap))})}),{zAxis:o,zAxisIds:a.map(({id:l})=>l)}},[i]);return x.jsx(gT.Provider,{value:s,children:n})}const tfe=t=>{const{dispatch:e}=w.useContext(jd),{setHighlighted:r,clearHighlighted:n}=d5();return t?()=>({}):s=>({onPointerEnter:()=>{e({type:"enterItem",data:s}),r({seriesId:s.seriesId,dataIndex:s.dataIndex})},onPointerLeave:c=>{c.currentTarget.releasePointerCapture(c.pointerId),e({type:"leaveItem",data:s}),n()},onPointerDown:c=>{c.currentTarget.hasPointerCapture(c.pointerId)&&c.currentTarget.releasePointerCapture(c.pointerId)}})},rfe=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function nfe(t){return Xl("MuiBarElement",t)}ru("MuiBarElement",["root"]);const ife=t=>{const{classes:e,id:r}=t,n={root:["root",`series-${r}`]};return Yl(n,nfe,e)},sfe=Q(XC.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({stroke:"none",fill:t.isHighlighted?Cd(t.color).brighter(.5).formatHex():t.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded&&.3||1}));function afe(t){const{id:e,dataIndex:r,classes:n,color:i,slots:s,slotProps:a,style:o,onClick:l}=t,c=yn(t,rfe),u=tfe(),{isFaded:d,isHighlighted:h}=h5({seriesId:e,dataIndex:r}),p={id:e,dataIndex:r,classes:n,color:i,isFaded:d,isHighlighted:h},f=ife(p),m=(s==null?void 0:s.bar)??sfe,g=_a({elementType:m,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:c,additionalProps:ge({},u({type:"bar",seriesId:e,dataIndex:r}),{style:o,onClick:l,cursor:l?"pointer":"unset"}),className:f.root,ownerState:p});return x.jsx(m,ge({},g))}function ofe(){const{chartId:t}=w.useContext(ev);return w.useMemo(()=>t,[t])}function mE(t){return Uc(t)?e=>(t(e)??0)+t.bandwidth()/2:e=>t(e)}function yT(){const{isInitialized:t,data:e}=w.useContext(KO);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}const tg=(t,{hasNegative:e,hasPositive:r,borderRadius:n,layout:i})=>{if(!n)return 0;const s=i==="vertical";return t==="top-left"&&(s&&r||!s&&e)||t==="top-right"&&(s&&r||!s&&r)||t==="bottom-right"&&(s&&e||!s&&r)||t==="bottom-left"&&(s&&e||!s&&e)?n:0},lfe=["style","maskId"],cfe=t=>`inset(0px round ${t.topLeft}px ${t.topRight}px ${t.bottomRight}px ${t.bottomLeft}px)`;function ufe(t){var r,n;const e=t.ownerState;return x.jsx(XC.rect,{style:ge({},t.style,{clipPath:(t.ownerState.layout==="vertical"?(r=t.style)==null?void 0:r.height:(n=t.style)==null?void 0:n.width).to(i=>cfe({topLeft:Math.min(i,tg("top-left",e)),topRight:Math.min(i,tg("top-right",e)),bottomRight:Math.min(i,tg("bottom-right",e)),bottomLeft:Math.min(i,tg("bottom-left",e))}))})})}function dfe(t){const{style:e,maskId:r}=t,n=yn(t,lfe);return!t.borderRadius||t.borderRadius<=0?null:x.jsx("clipPath",{id:r,children:x.jsx(ufe,{ownerState:n,style:e})})}function hfe(t){return Xl("MuiBarLabel",t)}const jw=ru("MuiBarLabel",["root","highlighted","faded"]),ffe=t=>{const{classes:e,seriesId:r,isFaded:n,isHighlighted:i}=t,s={root:["root",`series-${r}`,i&&"highlighted",n&&"faded"]};return Yl(s,hfe,e)},pfe=t=>{const{barLabel:e,value:r,dataIndex:n,seriesId:i,height:s,width:a}=t;return e==="value"?r?r==null?void 0:r.toString():null:e({seriesId:i,dataIndex:n,value:r},{bar:{height:s,width:a}})},mfe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],gfe=Q(XC.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${jw.faded}`]:e.faded},{[`&.${jw.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,r,n,i;return ge({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(i=(n=(r=t.vars||t)==null?void 0:r.palette)==null?void 0:n.text)==null?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${jw.faded}`]:{opacity:.3}})});function yfe(t){const e=Fe({props:t,name:"MuiBarLabel"}),r=yn(e,mfe);return x.jsx(gfe,ge({},r))}const bfe=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],vfe=["ownerState"];function wfe(t){const{seriesId:e,classes:r,color:n,style:i,dataIndex:s,barLabel:a,slots:o,slotProps:l,height:c,width:u,value:d}=t,h=yn(t,bfe),{isFaded:p,isHighlighted:f}=h5({seriesId:e,dataIndex:s}),m={seriesId:e,classes:r,color:n,isFaded:p,isHighlighted:f,dataIndex:s},g=ffe(m),y=(o==null?void 0:o.barLabel)??yfe,b=_a({elementType:y,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:ge({},h,{style:i,className:g.root}),ownerState:m}),{ownerState:v}=b,k=yn(b,vfe);if(!a)return null;const C=pfe({barLabel:a,value:d,dataIndex:s,seriesId:e,height:c,width:u});return C?x.jsx(y,ge({},k,v,{children:C})):null}const xfe=["bars","skipAnimation"],Sfe=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>ge({},t==="vertical"?{y:e,x:r+n/2,height:0,width:n}:{y:i+a/2,x:s,height:a,width:0}),gE=({x:t,width:e,y:r,height:n})=>({x:t+e/2,y:r+n/2,height:n,width:e});function kfe(t){const{bars:e,skipAnimation:r}=t,n=yn(t,xfe),i=jS(e,{keys:s=>`${s.seriesId}-${s.dataIndex}`,from:Sfe,leave:null,enter:gE,update:gE,immediate:r});return x.jsx(w.Fragment,{children:i((s,{seriesId:a,dataIndex:o,color:l,value:c,width:u,height:d})=>x.jsx(wfe,ge({seriesId:a,dataIndex:o,value:c,color:l,width:u,height:d},n,{style:s})))})}const Yw=(t,e)=>{const r=`${t}-axis`,n=`${t}Axis`;return e===(t==="x"?fT:pT)?`The first \`${n}\``:`The ${r} with id "${e}"`};function Cfe(t,e,r,n,i,s){const a=n[r],o=s[i],l=t?a:o,c=t?o:a,u=t?r:i,d=t?i:r,h=t?"x":"y",p=t?"y":"x";if(!ZS(l))throw new Error(`MUI X: ${Yw(h,u)} should be of type "band" to display the bar series of id "${e}".`);if(l.data===void 0)throw new Error(`MUI X: ${Yw(h,u)} should have data property.`);if(ZS(c)||XO(c))throw new Error(`MUI X: ${Yw(p,d)} should be a continuous type to display the bar series of id "${e}".`)}const Tfe=["skipAnimation","onItemClick","borderRadius","barLabel"];function _fe({bandWidth:t,numberOfGroups:e,gapRatio:r}){if(r===0)return{barWidth:t/e,offset:0};const n=t/(e+(e-1)*r),i=r*n;return{barWidth:n,offset:i}}const Pfe=()=>{const t=Dhe()??{series:{},stackingGroups:[],seriesOrder:[]},e=La(),r=ofe(),{series:n,stackingGroups:i}=t,{xAxis:s,yAxis:a,xAxisIds:o,yAxisIds:l}=e,c=o[0],u=l[0],d={};return{completedData:i.flatMap(({ids:p},f)=>p.flatMap(m=>{const g=n[m].xAxisId??n[m].xAxisKey??c,y=n[m].yAxisId??n[m].yAxisKey??u,b=s[g],v=a[y],k=n[m].layout==="vertical";Cfe(k,m,g,s,y,a);const C=k?b:v,S=b.scale,_=v.scale,B=a5(n[m],s[g],a[y]),D=C.scale.bandwidth(),{barWidth:E,offset:R}=_fe({bandWidth:D,numberOfGroups:i.length,gapRatio:C.barGapRatio}),A=f*(E+R),{stackedData:I}=n[m];return I.map((L,N)=>{var ie,se;const F=L.map(te=>k?_(te):S(te)),O=Math.round(Math.min(...F)),M=Math.round(Math.max(...F)),V=n[m].stack,z={seriesId:m,dataIndex:N,layout:n[m].layout,x:k?S((ie=s[g].data)==null?void 0:ie[N])+A:O,y:k?O:_((se=a[y].data)==null?void 0:se[N])+A,xOrigin:S(0),yOrigin:_(0),height:k?M-O:E,width:k?E:M-O,color:B(N),value:n[m].data[N],maskId:`${r}_${V||m}_${f}_${N}`};d[z.maskId]||(d[z.maskId]={id:z.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:z.layout,xOrigin:S(0),yOrigin:_(0),x:0,y:0});const K=d[z.maskId];return K.width=z.layout==="vertical"?z.width:K.width+z.width,K.height=z.layout==="vertical"?K.height+z.height:z.height,K.x=Math.min(K.x===0?1/0:K.x,z.x),K.y=Math.min(K.y===0?1/0:K.y,z.y),K.hasNegative=K.hasNegative||(z.value??0)<0,K.hasPositive=K.hasPositive||(z.value??0)>0,z})})),masksData:Object.values(d)}},rg=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>ge({},t==="vertical"?{y:e,x:r,height:0,width:n}:{y:i,x:s,height:a,width:0}),ng=({x:t,width:e,y:r,height:n})=>({y:r,x:t,height:n,width:e});function Bfe(t){const{completedData:e,masksData:r}=Pfe(),{skipAnimation:n,onItemClick:i,borderRadius:s,barLabel:a}=t,o=yn(t,Tfe),l=!s||s<=0,c=jS(e,{keys:d=>`${d.seriesId}-${d.dataIndex}`,from:rg,leave:rg,enter:ng,update:ng,immediate:n}),u=jS(l?[]:r,{keys:d=>d.id,from:rg,leave:rg,enter:ng,update:ng,immediate:n});return x.jsxs(w.Fragment,{children:[!l&&u((d,{id:h,hasPositive:p,hasNegative:f,layout:m})=>x.jsx(dfe,{maskId:h,borderRadius:s,hasNegative:f,hasPositive:p,layout:m,style:d})),c((d,{seriesId:h,dataIndex:p,color:f,maskId:m})=>{const g=x.jsx(afe,ge({id:h,dataIndex:p,color:f},o,{onClick:i&&(y=>{i(y,{type:"bar",seriesId:h,dataIndex:p})}),style:d}));return l?g:x.jsx("g",{clipPath:`url(#${m})`,children:g})}),a&&x.jsx(kfe,ge({bars:e,skipAnimation:n,barLabel:a},o))]})}function Nfe(t,e){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r.matrixTransform(t.getScreenCTM().inverse())}function bu(t){return t instanceof Date?t.getTime():t}const Mfe=t=>{const e=yT(),r=Da(),{xAxis:n,yAxis:i,xAxisIds:s,yAxisIds:a}=La(),{dispatch:o}=w.useContext(jd),l=s[0],c=a[0],u=w.useRef({isInChart:!1,x:-1,y:-1});w.useEffect(()=>{const d=e.current;if(d===null||t)return()=>{};function h(g,y){const{scale:b,data:v,reverse:k}=g;if(!Uc(b)){const S=b.invert(y);if(v===void 0)return{value:S,index:-1};const _=bu(S),B=v==null?void 0:v.findIndex((D,E)=>{const R=bu(D);return R>_&&(E===0||Math.abs(_-R)<=Math.abs(_-bu(v[E-1])))||R<=_&&(E===v.length-1||Math.abs(bu(S)-R)<Math.abs(bu(S)-bu(v[E+1])))});return{value:B!==void 0&&B>=0?v[B]:S,index:B}}const C=b.bandwidth()===0?Math.floor((y-Math.min(...b.range())+b.step()/2)/b.step()):Math.floor((y-Math.min(...b.range()))/b.step());if(C<0||C>=v.length)return null;if(k){const S=v.length-1-C;return{index:S,value:v[S]}}return{index:C,value:v[C]}}const p=()=>{u.current={isInChart:!1,x:-1,y:-1},o({type:"exitChart"})},f=g=>{const y="targetTouches"in g?g.targetTouches[0]:g,b=Nfe(d,y);if(u.current.x=b.x,u.current.y=b.y,!r.isPointInside(b,{targetElement:g.target})){u.current.isInChart&&(o({type:"exitChart"}),u.current.isInChart=!1);return}u.current.isInChart=!0;const v=h(n[l],b.x),k=h(i[c],b.y);o({type:"updateAxis",data:{x:v,y:k}})},m=g=>{const y=g.currentTarget;y&&y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId)};return d.addEventListener("pointerdown",m),d.addEventListener("pointermove",f),d.addEventListener("pointerout",p),d.addEventListener("pointercancel",p),d.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerdown",m),d.removeEventListener("pointermove",f),d.removeEventListener("pointerout",p),d.removeEventListener("pointercancel",p),d.removeEventListener("pointerleave",p)}},[e,o,c,i,l,n,t,r])},Efe=["children","width","height","viewBox","disableAxisListener","className","title","desc"],Rfe=Q("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),Dfe=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiChartsSurface"}),{children:i,width:s,height:a,viewBox:o,disableAxisListener:l=!1,className:c,title:u,desc:d}=n,h=yn(n,Efe),p=ge({width:s,height:a,x:0,y:0},o);return Mfe(l),x.jsxs(Rfe,ge({width:s,height:a,viewBox:`${p.x} ${p.y} ${p.width} ${p.height}`,ref:r,className:c},h,{children:[x.jsx("title",{children:u}),x.jsx("desc",{children:d}),i]}))});function yE(t){const{isReversed:e,gradientId:r,size:n,direction:i,scale:s,colorMap:a}=t;return x.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,l)=>{const c=s(o);if(c===void 0)return null;const u=e?1-c/n:c/n;return x.jsxs(w.Fragment,{children:[x.jsx("stop",{offset:u,stopColor:a.colors[l],stopOpacity:1}),x.jsx("stop",{offset:u,stopColor:a.colors[l+1],stopOpacity:1})]},o.toString()+l)})})}const Lfe=10;function bE(t){const{gradientUnits:e,isReversed:r,gradientId:n,size:i,direction:s,scale:a,colorScale:o,colorMap:l}=t,c=[l.min??0,l.max??100],u=c.map(a).filter(f=>f!==void 0);if(u.length!==2)return null;const d=typeof c[0]=="number"?yp(c[0],c[1]):NO(c[0],c[1]),h=Math.round((Math.max(...u)-Math.min(...u))/Lfe),p=`${c[0]}-${c[1]}-`;return x.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${r?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:h+1},(f,m)=>{const g=d(m/h);if(g===void 0)return null;const y=a(g);if(y===void 0)return null;const b=r?1-y/i:y/i,v=o(g);return v===null?null:x.jsx("stop",{offset:b,stopColor:v,stopOpacity:1},p+m)})})}function Ife(){const{chartId:t}=w.useContext(ev);return w.useCallback((e,r)=>`${t}-gradient-${r}-${e}`,[t])}function Ffe(){const{top:t,height:e,bottom:r,left:n,width:i,right:s}=Da(),a=t+e+r,o=n+i+s,l=Ife(),{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=La();return x.jsxs("defs",{children:[d.filter(p=>h[p].colorMap!==void 0).map(p=>{const f=l(p,"y"),{colorMap:m,scale:g,colorScale:y,reverse:b}=h[p];return(m==null?void 0:m.type)==="piecewise"?x.jsx(yE,{isReversed:!b,scale:g,colorMap:m,size:a,gradientId:f,direction:"y"},f):(m==null?void 0:m.type)==="continuous"?x.jsx(bE,{isReversed:!b,scale:g,colorScale:y,colorMap:m,size:a,gradientId:f,direction:"y"},f):null}),c.filter(p=>u[p].colorMap!==void 0).map(p=>{const f=l(p,"x"),{colorMap:m,scale:g,reverse:y,colorScale:b}=u[p];return(m==null?void 0:m.type)==="piecewise"?x.jsx(yE,{isReversed:y,scale:g,colorMap:m,size:o,gradientId:f,direction:"x"},f):(m==null?void 0:m.type)==="continuous"?x.jsx(bE,{isReversed:y,scale:g,colorScale:b,colorMap:m,size:o,gradientId:f,direction:"x"},f):null})]})}const vE=(t,e,r)=>{const n=r==="x"?fT:pT;return[...(t==null?void 0:t.map((i,s)=>ge({id:`defaultized-${r}-axis-${s}`},i)))??[],...t===void 0||t.findIndex(({id:i})=>i===n)===-1?[{id:n,scaleType:"linear"}]:[]].map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(e===void 0)throw Error(`MUI X: ${r}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return ge({},i,{data:e.map(a=>a[s])})})},Afe=(t,e,r)=>{const n=w.useMemo(()=>vE(t,r,"x"),[t,r]),i=w.useMemo(()=>vE(e,r,"y"),[e,r]);return[n,i]},Ofe=()=>{bc(()=>{var r;if(!window.matchMedia)return gs.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),e=n=>{gs.assign({skipAnimation:n.matches||void 0})};return e(t),(r=t.addEventListener)==null||r.call(t,"change",e),()=>{var n;(n=t.removeEventListener)==null||n.call(t,"change",e)}},[])},$fe=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],Vfe=(t,e)=>{const{width:r,height:n,series:i,margin:s,xAxis:a,yAxis:o,zAxis:l,colors:c,dataset:u,sx:d,title:h,desc:p,disableAxisListener:f,highlightedItem:m,onHighlightChange:g,plugins:y,children:b}=t,v=yn(t,$fe),k=w.useRef(null),C=c5(e,k);Ofe();const[S,_]=Afe(a,o,u),B={width:r,height:n,margin:s,svgRef:k},D={plugins:y},E={series:i,colors:c,dataset:u},R={xAxis:S,yAxis:_,dataset:u},A={zAxis:l,dataset:u},I={highlightedItem:m,onHighlightChange:g},L=ge({},v,{width:r,height:n,ref:C,sx:d,title:h,desc:p,disableAxisListener:f});return{children:b,drawingProviderProps:B,seriesProviderProps:E,cartesianProviderProps:R,zAxisContextProps:A,highlightedProviderProps:I,chartsSurfaceProps:L,pluginProviderProps:D,xAxis:S,yAxis:_}},zfe=w.forwardRef(function(e,r){const{children:n,drawingProviderProps:i,seriesProviderProps:s,cartesianProviderProps:a,zAxisContextProps:o,highlightedProviderProps:l,chartsSurfaceProps:c,pluginProviderProps:u}=Vfe(e,r);return x.jsx(Rde,ge({},i,{children:x.jsx(Bhe,ge({},u,{children:x.jsx(Rhe,ge({},s,{children:x.jsx(Lhe,ge({},a,{children:x.jsx(efe,ge({},o,{children:x.jsx(Yhe,{children:x.jsx(Zhe,ge({},l,{children:x.jsxs(Dfe,ge({},c,{children:[x.jsx(Ffe,{}),n]}))}))})}))}))}))}))}))}),Wfe=Q("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:t})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),f5=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Hfe(t){return t&&t.ownerDocument||document}function Ufe(t){return Hfe(t).defaultView||window}const Gfe=(t,e)=>{const r=w.useRef(!1),n=w.useRef(null),[i,s]=w.useState(0),[a,o]=w.useState(0),l=w.useCallback(()=>{const c=n==null?void 0:n.current;if(!c)return;const d=Ufe(c).getComputedStyle(c),h=Math.floor(parseFloat(d.height))||0,p=Math.floor(parseFloat(d.width))||0;s(p),o(h)},[]);return w.useEffect(()=>{r.current=!0},[]),f5(()=>{if(t!==void 0&&e!==void 0)return()=>{};l();const c=n.current;if(typeof ResizeObserver>"u")return()=>{};let u;const d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{l()})});return c&&d.observe(c),()=>{u&&window.cancelAnimationFrame(u),c&&d.unobserve(c)}},[l,e,t]),{containerRef:n,width:t??i,height:e??a}},jfe=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],Yfe=(t,e)=>{const{width:r,height:n,margin:i,children:s,series:a,colors:o,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:p,sx:f,title:m,viewBox:g,xAxis:y,yAxis:b,zAxis:v}=t,k=yn(t,jfe),{containerRef:C,width:S,height:_}=Gfe(r,n),B=ge({},k,{ownerState:{width:r,height:n},ref:C});return{hasIntrinsicSize:S&&_,chartContainerProps:{margin:i,children:s,series:a,colors:o,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:p,sx:f,title:m,viewBox:g,xAxis:y,yAxis:b,zAxis:v,width:S,height:_,ref:e},resizableChartContainerProps:B}},Xfe=w.forwardRef(function(e,r){const{hasIntrinsicSize:n,chartContainerProps:i,resizableChartContainerProps:s}=Yfe(e,r);return x.jsx(Wfe,ge({},s,{children:n?x.jsx(zfe,ge({},i)):null}))});function p5(t){return Xl("MuiChartsAxis",t)}const ig=ru("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),m5=Q("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${ig.tickLabel}`]:ge({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${ig.label}`]:ge({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${ig.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${ig.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}}));function qfe(){return typeof window>"u"}const ec={widthCache:{},cacheCount:0},Kfe=2e3,Qfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jfe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],wE="mui_measurement_span";function g5(t,e){return Jfe.indexOf(t)>=0&&e===+e?`${e}px`:e}function y5(t){return t.split("").reduce((n,i)=>i===i.toUpperCase()?[...n,"-",i.toLowerCase()]:[...n,i],[]).join("")}const Zfe=t=>Object.keys(t).sort().reduce((e,r)=>`${e}${y5(r)}:${g5(r,t[r])};`,"");let Xw;const epe=(t,e={})=>{if(t==null||qfe())return{width:0,height:0};const r=`${t}`,n=Zfe(e),i=`${r}-${n}`;if(ec.widthCache[i])return ec.widthCache[i];try{let s=document.getElementById(wE);s===null&&(s=document.createElement("span"),s.setAttribute("id",wE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const a=ge({},Qfe,e);Object.keys(a).map(c=>(s.style[y5(c)]=g5(c,a[c]),c)),s.textContent=r;const o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return ec.widthCache[i]=l,ec.cacheCount+1>Kfe?(ec.cacheCount=0,ec.widthCache={}):ec.cacheCount+=1,Xw&&clearTimeout(Xw),Xw=setTimeout(()=>{s.textContent=""},0),l}catch{return{width:0,height:0}}};function bT({style:t,needsComputation:e,text:r}){return r.split(`
`).map(n=>ge({text:n},e?epe(n,t):{width:0,height:0}))}const tpe=["x","y","style","text","ownerState"],rpe=["angle","textAnchor","dominantBaseline"];function vp(t){const{x:e,y:r,style:n,text:i}=t,s=yn(t,tpe),a=n??{},{angle:o,textAnchor:l,dominantBaseline:c}=a,u=yn(a,rpe),d=w.useMemo(()=>bT({style:u,needsComputation:i.includes(`
`),text:i}),[u,i]);let h;switch(c){case"hanging":h=0;break;case"central":h=(d.length-1)/2*-d[0].height;break;default:h=(d.length-1)*-d[0].height;break}const p=[];return o&&p.push(`rotate(${o}, ${e}, ${r})`),x.jsx("text",ge({},s,{transform:p.length>0?p.join(" "):void 0,x:e,y:r,textAnchor:l,dominantBaseline:c,style:u,children:d.map((f,m)=>x.jsx("tspan",{x:e,dy:`${m===0?h:d[0].height}px`,dominantBaseline:c,children:f.text},m))}))}const xE=5;function npe(t,e,r=0){const n=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(n<xE)return t;if(n>90-xE)return e;const i=n*Math.PI/180,s=Math.atan2(e,t);return i<s?t/Math.cos(i):e/Math.sin(i)}function ipe(t=!1){const[e,r]=w.useState(!1);return f5(()=>{t||r(!0)},[t]),w.useEffect(()=>{t&&r(!0)},[t]),e}const spe=["scale","tickNumber","reverse"],ape=t=>{const{classes:e,position:r}=t;return Yl({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},p5,e)};function ope(t,{tickLabelStyle:e,tickLabelInterval:r,reverse:n,isMounted:i}){const s=t.map(c=>{if(!i||c.formattedValue===void 0)return ge({},c,{width:0,height:0});const u=bT({style:e,needsComputation:!0,text:c.formattedValue});return ge({},c,{width:Math.max(...u.map(d=>d.width)),height:Math.max(u.length*u[0].height)})});if(typeof r=="function")return s.map((c,u)=>ge({},c,{skipLabel:!r(c.value,u)}));let a=0,o=0;const l=n?-1:1;return s.map((c,u)=>{const{width:d,offset:h,labelOffset:p,height:f}=c,m=npe(d,f,e==null?void 0:e.angle),g=h+p,y=1.2;return a=g-l*(y*m)/2,u>0&&l*a<l*o?ge({},c,{skipLabel:!0}):(o=g+l*(y*m)/2,c)})}const lpe={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function SE(t){const{xAxisIds:e,xAxis:r}=La(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s,reverse:a}=n,o=yn(n,spe),l=ipe(),c=Fe({props:ge({},o,t),name:"MuiChartsXAxis"}),u=ge({},lpe,c),{position:d,disableLine:h,disableTicks:p,tickLabelStyle:f,label:m,labelStyle:g,tickFontSize:y,labelFontSize:b,tickSize:v,valueFormatter:k,slots:C,slotProps:S,tickInterval:_,tickLabelInterval:B,tickPlacement:D,tickLabelPlacement:E,sx:R}=u,A=ws(),I=ape(ge({},u,{theme:A})),{left:L,top:N,width:F,height:O,isPointInside:M}=Da(),V=p?4:v,z=d==="bottom"?1:-1,K=(C==null?void 0:C.axisLine)??"line",ie=(C==null?void 0:C.axisTick)??"line",se=(C==null?void 0:C.axisTickLabel)??vp,te=(C==null?void 0:C.axisLabel)??vp,G=_a({elementType:se,externalSlotProps:S==null?void 0:S.axisTickLabel,additionalProps:{style:ge({textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto",fontSize:y??12},f)},className:I.tickLabel,ownerState:{}}),Z=e0({scale:i,tickNumber:s,valueFormatter:k,tickInterval:_,tickPlacement:D,tickLabelPlacement:E}),he=ope(Z,{tickLabelStyle:G.style,tickLabelInterval:B,reverse:a,isMounted:l}),pe={x:L+F/2,y:z*(V+22)},ne=_a({elementType:te,externalSlotProps:S==null?void 0:S.axisLabel,additionalProps:{style:ge({fontSize:b??14,textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto"},g)},ownerState:{}}),le=i.domain(),oe=Uc(i);return oe&&le.length===0||!oe&&le.some(hT)?null:x.jsxs(m5,{transform:`translate(0, ${d==="bottom"?N+O:N})`,className:I.root,sx:R,children:[!h&&x.jsx(K,ge({x1:L,x2:L+F,className:I.line},S==null?void 0:S.axisLine)),he.map(({formattedValue:q,offset:X,labelOffset:J,skipLabel:Y},we)=>{const fe=J??0,$=z*(V+3),U=M({x:X,y:-1},{direction:"x"}),j=M({x:X+fe,y:-1},{direction:"x"});return x.jsxs("g",{transform:`translate(${X}, 0)`,className:I.tickContainer,children:[!p&&U&&x.jsx(ie,ge({y2:z*V,className:I.tick},S==null?void 0:S.axisTick)),q!==void 0&&!Y&&j&&x.jsx(se,ge({x:fe,y:$},G,{text:q.toString()}))]},we)}),m&&x.jsx("g",{className:I.label,children:x.jsx(te,ge({},pe,ne,{text:m}))})]})}const cpe=["scale","tickNumber"],upe=t=>{const{classes:e,position:r}=t;return Yl({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},p5,e)},dpe={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function kE(t){const{yAxisIds:e,yAxis:r}=La(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s}=n,a=yn(n,cpe),o=Fe({props:ge({},a,t),name:"MuiChartsYAxis"}),l=ge({},dpe,o),{position:c,disableLine:u,disableTicks:d,tickFontSize:h,label:p,labelFontSize:f,labelStyle:m,tickLabelStyle:g,tickSize:y,valueFormatter:b,slots:v,slotProps:k,tickPlacement:C,tickLabelPlacement:S,tickInterval:_,tickLabelInterval:B,sx:D}=l,E=ws(),R=Un(),A=upe(ge({},l,{theme:E})),{left:I,top:L,width:N,height:F,isPointInside:O}=Da(),M=d?4:y,V=e0({scale:i,tickNumber:s,valueFormatter:b,tickPlacement:C,tickLabelPlacement:S,tickInterval:_}),z=c==="right"?1:-1,K={x:z*(h+M+10),y:L+F/2},ie=(v==null?void 0:v.axisLine)??"line",se=(v==null?void 0:v.axisTick)??"line",te=(v==null?void 0:v.axisTickLabel)??vp,G=(v==null?void 0:v.axisLabel)??vp,Z=!R&&c==="right"||R&&c!=="right",he=_a({elementType:te,externalSlotProps:k==null?void 0:k.axisTickLabel,additionalProps:{style:ge({fontSize:h,textAnchor:Z?"start":"end",dominantBaseline:"central"},g)},className:A.tickLabel,ownerState:{}}),pe=_a({elementType:G,externalSlotProps:k==null?void 0:k.axisLabel,additionalProps:{style:ge({fontSize:f,angle:z*90,textAnchor:"middle",dominantBaseline:"auto"},m)},ownerState:{}}),ne=_a({elementType:ie,externalSlotProps:k==null?void 0:k.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),le=i.domain(),oe=Uc(i);return oe&&le.length===0||!oe&&le.some(hT)?null:x.jsxs(m5,{transform:`translate(${c==="right"?I+N:I}, 0)`,className:A.root,sx:D,children:[!u&&x.jsx(ie,ge({y1:L,y2:L+F,className:A.line},ne)),V.map(({formattedValue:q,offset:X,labelOffset:J,value:Y},we)=>{const fe=z*(M+2),$=J,U=typeof B=="function"&&!(B!=null&&B(Y,we));return O({x:-1,y:X},{direction:"y"})?x.jsxs("g",{transform:`translate(0, ${X})`,className:A.tickContainer,children:[!d&&x.jsx(se,ge({x2:z*M,className:A.tick},k==null?void 0:k.axisTick)),q!==void 0&&!U&&x.jsx(te,ge({x:fe,y:$,text:q.toString()},he))]},we):null}),p&&x.jsx("g",{className:A.label,children:x.jsx(G,ge({},K,pe,{text:p}))})]})}const sg=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,ag=(t,e,r)=>typeof t=="object"?ge({},t,{slots:ge({},e,t==null?void 0:t.slots),slotProps:ge({},r,t==null?void 0:t.slotProps)}):{slots:e,slotProps:r};function hpe(t){const{topAxis:e,leftAxis:r,rightAxis:n,bottomAxis:i,slots:s,slotProps:a}=t,{xAxis:o,xAxisIds:l,yAxis:c,yAxisIds:u}=La(),d=sg(r===void 0?u[0]:r,u[0]),h=sg(i===void 0?l[0]:i,l[0]),p=sg(e,l[0]),f=sg(n,u[0]);if(p!==null&&!o[p])throw Error([`MUI X: id used for top axis "${p}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(d!==null&&!c[d])throw Error([`MUI X: id used for left axis "${d}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(f!==null&&!c[f])throw Error([`MUI X: id used for right axis "${f}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(h!==null&&!o[h])throw Error([`MUI X: id used for bottom axis "${h}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const m=ag(e,s,a),g=ag(i,s,a),y=ag(r,s,a),b=ag(n,s,a);return x.jsxs(w.Fragment,{children:[p&&x.jsx(SE,ge({},m,{position:"top",axisId:p})),h&&x.jsx(SE,ge({},g,{position:"bottom",axisId:h})),d&&x.jsx(kE,ge({},y,{position:"left",axisId:d})),f&&x.jsx(kE,ge({},b,{position:"right",axisId:f}))]})}function fpe(t){if(t===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:e,y:r}=t,n={width:0,height:0,x:e,y:r,top:r,right:e,bottom:r,left:e};return{getBoundingClientRect:()=>ge({},n,{toJSON:()=>JSON.stringify(n)})}}function ppe(){const t=yT(),[e,r]=w.useState(null);return w.useEffect(()=>{const n=t.current;if(n===null)return()=>{};const i=a=>{a.pointerType!=="mouse"&&r(null)},s=a=>{r({x:a.clientX,y:a.clientY,height:a.height,pointerType:a.pointerType})};return n.addEventListener("pointerdown",s),n.addEventListener("pointermove",s),n.addEventListener("pointerup",i),()=>{n.removeEventListener("pointerdown",s),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",i)}},[t]),e}function mpe(t,e){if(t==="item")return e!==null;const r=e.x!==null,n=e.y!==null;return r||n}function gpe(t){return t instanceof Date?t.toUTCString():t.toLocaleString()}function ype(t){return Xl("MuiChartsTooltip",t)}const CE=ru("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),b5=Q("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius})),v5=Q("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:t})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(t.vars||t).palette.divider} 1px`}})),e1=Q("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:t})=>({"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}})),xc=Q("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:t})=>({verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,[`&.${CE.labelCell}`]:{paddingLeft:t.spacing(1)},[`&.${CE.valueCell}`]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}})),w5=Q("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:t=>Kh(t)&&t!=="color"})(({theme:t,color:e})=>({width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:e,borderColor:(t.vars||t).palette.background.paper,border:`solid ${(t.vars||t).palette.background.paper} ${t.spacing(.25)}`,boxSizing:"content-box"}));function bpe(t){var u;const{series:e,itemData:r,sx:n,classes:i,getColor:s}=t;if(r.dataIndex===void 0||!e.data[r.dataIndex])return null;const{displayedLabel:a,color:o}=e.type==="pie"?{color:s(r.dataIndex),displayedLabel:Mo(e.data[r.dataIndex].label,"tooltip")}:{color:s(r.dataIndex),displayedLabel:Mo(e.label,"tooltip")},l=e.type==="pie"?ge({},e.data[r.dataIndex],{label:Mo(e.data[r.dataIndex].label,"tooltip")}):e.data[r.dataIndex],c=(u=e.valueFormatter)==null?void 0:u.call(e,l,{dataIndex:r.dataIndex});return x.jsx(b5,{sx:n,className:i.root,children:x.jsx(v5,{className:i.table,children:x.jsx("tbody",{children:x.jsxs(e1,{className:i.row,children:[x.jsx(xc,{className:Se(i.markCell,i.cell),children:x.jsx(w5,{color:o,className:i.mark})}),x.jsx(xc,{className:Se(i.labelCell,i.cell),children:a}),x.jsx(xc,{className:Se(i.valueCell,i.cell),children:c})]})})})})}function vpe(t){var k;const{content:e,itemData:r,sx:n,classes:i,contentProps:s}=t,a=jl()[r.type].series[r.seriesId],{xAxis:o,yAxis:l,xAxisIds:c,yAxisIds:u}=La(),{zAxis:d,zAxisIds:h}=w.useContext(gT),p=o5(),f=a.xAxisId??a.xAxisKey??c[0],m=a.yAxisId??a.yAxisKey??u[0],g=a.zAxisId??a.zAxisKey??h[0],y=((k=p[a.type])==null?void 0:k.call(p,a,f&&o[f],m&&l[m],g&&d[g]))??(()=>""),b=e??bpe,v=_a({elementType:b,externalSlotProps:s,additionalProps:{itemData:r,series:a,sx:n,classes:i,getColor:y},ownerState:{}});return x.jsx(b,ge({},v))}let TE;class wpe{constructor(){if(this.types=new Set,TE)throw new Error("You can only create one instance!");TE=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const tv=new wpe;tv.addType("bar");tv.addType("line");tv.addType("scatter");function x5(t){return tv.getTypes().has(t)}function xpe(t){return x5(t.type)}function Spe(t){const{series:e,axis:r,dataIndex:n,axisValue:i,sx:s,classes:a}=t;if(n==null)return null;const o=r.valueFormatter??(l=>r.scaleType==="utc"?gpe(l):l.toLocaleString());return x.jsx(b5,{sx:s,className:a.root,children:x.jsxs(v5,{className:a.table,children:[i!=null&&!r.hideTooltip&&x.jsx("thead",{children:x.jsx(e1,{children:x.jsx(xc,{colSpan:3,children:x.jsx(hr,{children:o(i,{location:"tooltip"})})})})}),x.jsx("tbody",{children:e.filter(xpe).map(({id:l,label:c,valueFormatter:u,data:d,getColor:h})=>{const p=u(d[n]??null,{dataIndex:n});if(p==null)return null;const f=Mo(c,"tooltip"),m=h(n);return x.jsxs(e1,{className:a.row,children:[x.jsx(xc,{className:Se(a.markCell,a.cell),children:m&&x.jsx(w5,{color:m,className:a.mark})}),x.jsx(xc,{className:Se(a.labelCell,a.cell),children:f?x.jsx(hr,{children:f}):null}),x.jsx(xc,{className:Se(a.valueCell,a.cell),children:x.jsx(hr,{children:p})})]},l)})})]})})}function kpe(t){const{content:e,contentProps:r,axisData:n,sx:i,classes:s}=t,a=n.x&&n.x.index!==-1,o=a?n.x&&n.x.index:n.y&&n.y.index,l=a?n.x&&n.x.value:n.y&&n.y.value,{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=La(),{zAxisIds:p,zAxis:f}=w.useContext(gT),m=jl(),g=o5(),y=a?c[0]:d[0],b=w.useMemo(()=>{const S=[];return Object.keys(m).filter(x5).forEach(_=>{m[_].seriesOrder.forEach(B=>{var I;const D=m[_].series[B],E=D.xAxisId??D.xAxisKey,R=D.yAxisId??D.yAxisKey,A=a?E:R;if(A===void 0||A===y){const L=m[_].series[B],N=E??c[0],F=R??d[0],O=L.zAxisId??L.zAxisKey??p[0],M=((I=g[_])==null?void 0:I.call(g,L,u[N],h[F],O&&f[O]))??(()=>"");S.push(ge({},L,{getColor:M}))}})}),S},[y,g,a,m,u,c,h,d,f,p]),v=w.useMemo(()=>a?u[y]:h[y],[y,a,u,h]),k=e??Spe,C=_a({elementType:k,externalSlotProps:r,additionalProps:{axisData:n,series:b,axis:v,dataIndex:o,axisValue:l,sx:i,classes:s},ownerState:{}});return x.jsx(k,ge({},C))}const Cpe=t=>{const{classes:e}=t;return Yl({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},ype,e)},Tpe=Q(NL,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",zIndex:t.zIndex.modal}));function _pe(t){const e=Fe({props:t,name:"MuiChartsTooltip"}),{trigger:r="axis",itemContent:n,axisContent:i,slots:s,slotProps:a}=e,o=ppe(),{item:l,axis:c}=w.useContext(jd),u=r==="item"?l:c,d=mpe(r,u),h=o!==null&&d,p=Cpe({classes:e.classes}),f=(s==null?void 0:s.popper)??Tpe,m=_a({elementType:f,externalSlotProps:a==null?void 0:a.popper,additionalProps:{open:h,placement:(o==null?void 0:o.pointerType)==="mouse"?"right-start":"top",anchorEl:fpe(o),modifiers:[{name:"offset",options:{offset:[0,(o==null?void 0:o.pointerType)==="touch"?40-o.height:0]}}]},ownerState:{}});return r==="none"?null:x.jsx(mL,{children:h&&x.jsx(f,ge({},m,{children:r==="item"?x.jsx(vpe,{itemData:u,content:(s==null?void 0:s.itemContent)??n,contentProps:a==null?void 0:a.itemContent,sx:{mx:2},classes:p}):x.jsx(kpe,{axisData:u,content:(s==null?void 0:s.axisContent)??i,contentProps:a==null?void 0:a.axisContent,sx:{mx:2},classes:p})}))})}const Ppe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Mo(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},Bpe=Ppe,Npe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Mo(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},Mpe=Npe,Epe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Mo(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},Rpe=Epe,Dpe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>(r[i].data.forEach(s=>{const a=Mo(s.label,"legend");a!==void 0&&n.push({color:s.color,label:a,id:s.id})}),n),[])},Lpe=Dpe,Ipe={bar:Bpe,scatter:Mpe,line:Rpe,pie:Lpe};function Fpe(t){return Object.keys(t).flatMap(e=>{const r=Ipe[e];return r===void 0?[]:r(t[e])})}function Ape(t){return Xl("MuiChartsLegend",t)}ru("MuiChartsLegend",["root","series","mark","label","column","row"]);const Ope=["label"];function $pe(t,e,r,n,i,s,a){let o=0,l=0,c=0,u=0,d=0;const h=[0];return[t.map(f=>{let{label:m}=f,g=yn(f,Ope);const y=e(m,r),b=ge({},g,{label:m,positionX:o,positionY:l,innerHeight:y.innerHeight,innerWidth:y.innerWidth,outerHeight:y.outerHeight,outerWidth:y.outerWidth,rowIndex:d});return n==="row"&&(o+y.innerWidth>i&&(o=0,l+=h[d],d+=1,h.length<=d&&h.push(0),b.positionX=o,b.positionY=l,b.rowIndex=d),c=Math.max(c,o+y.outerWidth),u=Math.max(u,l+y.outerHeight),h[d]=Math.max(h[d],y.outerHeight),o+=y.outerWidth),n==="column"&&(l+y.innerHeight>s&&(o=c+a,l=0,d=0,b.positionX=o,b.positionY=l,b.rowIndex=d),h.length<=d&&h.push(0),c=Math.max(c,o+y.outerWidth),u=Math.max(u,l+y.outerHeight),d+=1,l+=y.outerHeight),b}).map(f=>ge({},f,{positionY:f.positionY+(n==="row"?h[f.rowIndex]/2:f.outerHeight/2)})),c,u]}const Vpe=["rotate","dominantBaseline"],zpe=Q("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Wpe=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:ge({left:0,right:0,top:0,bottom:0},t);function Hpe(t){const{hidden:e,position:r,direction:n,itemsToDisplay:i,classes:s,itemMarkWidth:a=20,itemMarkHeight:o=20,markGap:l=5,itemGap:c=10,padding:u=10,labelStyle:d}=t,h=ws(),p=Un(),f=Da(),m=w.useMemo(()=>ge({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},d),[d,h]),g=w.useMemo(()=>Wpe(u),[u]),y=w.useCallback((R,A={})=>{const I=yn(A,Vpe),L=bT({style:I,needsComputation:!0,text:R}),N={innerWidth:a+l+Math.max(...L.map(F=>F.width)),innerHeight:Math.max(o,L.length*L[0].height)};return ge({},N,{outerWidth:N.innerWidth+c,outerHeight:N.innerHeight+c})},[c,o,a,l]),b=f.left+f.width+f.right,v=f.top+f.height+f.bottom,k=b-g.left-g.right,C=v-g.top-g.bottom,[S,_,B]=w.useMemo(()=>$pe(i,y,m,n,k,C,c),[i,y,m,n,k,C,c]),D=w.useMemo(()=>{switch(r.horizontal){case"left":return g.left;case"right":return b-g.right-_;default:return(b-_)/2}},[r.horizontal,g.left,g.right,b,_]),E=w.useMemo(()=>{switch(r.vertical){case"top":return g.top;case"bottom":return v-g.bottom-B;default:return(v-B)/2}},[r.vertical,g.top,g.bottom,v,B]);return e?null:x.jsx(mL,{children:x.jsx(zpe,{className:s==null?void 0:s.root,children:S.map(({id:R,label:A,color:I,positionX:L,positionY:N})=>x.jsxs("g",{className:s==null?void 0:s.series,transform:`translate(${D+(p?_-L:L)} ${E+N})`,children:[x.jsx("rect",{className:s==null?void 0:s.mark,x:p?-a:0,y:-o/2,width:a,height:o,fill:I}),x.jsx(vp,{style:m,text:A,x:(p?-1:1)*(a+l),y:0})]},R))})})}const Upe=["drawingArea","seriesToDisplay"];function Gpe(t){const{seriesToDisplay:e}=t,r=yn(t,Upe);return x.jsx(Hpe,ge({},r,{itemsToDisplay:e}))}const jpe=t=>{const{classes:e,direction:r}=t;return Yl({root:["root",r],mark:["mark"],label:["label"],series:["series"]},Ape,e)},Ype={position:{horizontal:"middle",vertical:"top"},direction:"row"};function Xpe(t){const e=Fe({props:ge({},Ype,t),name:"MuiChartsLegend"}),{position:r,direction:n,hidden:i,slots:s,slotProps:a}=e,o=ws(),l=jpe(ge({},e,{theme:o})),c=Da(),u=jl(),d=Fpe(u),h=(s==null?void 0:s.legend)??Gpe,p=_a({elementType:h,externalSlotProps:a==null?void 0:a.legend,additionalProps:{position:r,direction:n,classes:l,drawingArea:c,series:u,hidden:i,seriesToDisplay:d},ownerState:{}});return x.jsx(h,ge({},p))}function qpe(t){return Xl("MuiChartsAxisHighlight",t)}ru("MuiChartsAxisHighlight",["root"]);const Kpe=()=>Yl({root:["root"]},qpe),og=Q("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:ge({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:ge({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Qpe(t){const{x:e,y:r}=t,{xAxisIds:n,xAxis:i,yAxisIds:s,yAxis:a}=La(),o=Kpe(),l=n[0],c=s[0],u=i[l].scale,d=a[c].scale,{axis:h}=w.useContext(jd),p=mE(u),f=mE(d),m=h.x,g=h.y,y=e==="band"&&m!==null&&Uc(u),b=r==="band"&&g!==null&&Uc(d);return x.jsxs(w.Fragment,{children:[y&&u(m.value)!==void 0&&x.jsx(og,{d:`M ${u(m.value)-(u.step()-u.bandwidth())/2} ${d.range()[0]} l ${u.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-u.step()} 0 Z`,className:o.root,ownerState:{axisHighlight:"band"}}),b&&d(g.value)!==void 0&&x.jsx(og,{d:`M ${u.range()[0]} ${d(g.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${u.range()[1]-u.range()[0]} 0 l 0 ${-d.step()} Z`,className:o.root,ownerState:{axisHighlight:"band"}}),e==="line"&&h.x!==null&&x.jsx(og,{d:`M ${p(h.x.value)} ${d.range()[0]} L ${p(h.x.value)} ${d.range()[1]}`,className:o.root,ownerState:{axisHighlight:"line"}}),r==="line"&&h.y!==null&&x.jsx(og,{d:`M ${u.range()[0]} ${f(h.y.value)} L ${u.range()[1]} ${f(h.y.value)}`,className:o.root,ownerState:{axisHighlight:"line"}})]})}function Jpe(t){const{id:e,offset:r}=t,{left:n,top:i,width:s,height:a}=Da(),o=ge({top:0,right:0,bottom:0,left:0},r);return x.jsx("clipPath",{id:e,children:x.jsx("rect",{x:n-o.left,y:i-o.top,width:s+o.left+o.right,height:a+o.top+o.bottom})})}function Zpe(t){return Xl("MuiChartsGrid",t)}const _E=ru("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),eme=["vertical","horizontal"],tme=Q("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${_E.verticalLine}`]:e.verticalLine},{[`&.${_E.horizontalLine}`]:e.horizontalLine},e.root]})({}),PE=Q("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(t,e)=>e.line})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1})),rme=({classes:t})=>Yl({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Zpe,t);function nme(t){const e=Fe({props:t,name:"MuiChartsGrid"}),r=Da(),{vertical:n,horizontal:i}=e,s=yn(e,eme),{xAxis:a,xAxisIds:o,yAxis:l,yAxisIds:c}=La(),u=rme(e),d=c[0],h=o[0],{scale:p,tickNumber:f,tickInterval:m}=a[h],{scale:g,tickNumber:y,tickInterval:b}=l[d],v=e0({scale:p,tickNumber:f,tickInterval:m}),k=e0({scale:g,tickNumber:y,tickInterval:b});return x.jsxs(tme,ge({},s,{className:u.root,children:[n&&v.map(({formattedValue:C,offset:S})=>x.jsx(PE,{y1:r.top,y2:r.top+r.height,x1:S,x2:S,className:u.verticalLine},`vertical-${C}`)),i&&k.map(({formattedValue:C,offset:S})=>x.jsx(PE,{y1:S,y2:S,x1:r.left,x2:r.left+r.width,className:u.horizontalLine},`horizontal-${C}`))]}))}function ime(t){const{onAxisClick:e}=t,r=yT(),n=jl(),{axis:i}=w.useContext(jd),{xAxisIds:s,xAxis:a,yAxisIds:o,yAxis:l}=La();return w.useEffect(()=>{const c=r.current;if(c===null||!e)return()=>{};const u=d=>{var y;d.preventDefault();const h=(i.x&&i.x.index)!==void 0,p=h?s[0]:o[0],f=h?i.x&&i.x.index:i.y&&i.y.index;if(f==null)return;const m={};Object.keys(n).filter(b=>["bar","line"].includes(b)).forEach(b=>{var v;(v=n[b])==null||v.seriesOrder.forEach(k=>{const C=n[b].series[k],S=C.xAxisId??C.xAxisKey,_=C.yAxisId??C.yAxisKey,B=h?S:_;(B===void 0||B===p)&&(m[k]=C.data[f])})});const g=(y=(h?a:l)[p].data)==null?void 0:y[f];e(d,{dataIndex:f,axisValue:g,seriesValues:m})};return c.addEventListener("click",u),()=>{c.removeEventListener("click",u)}},[i.x,i.y,e,n,r,a,s,l,o]),x.jsx(w.Fragment,{})}const sme=["message"],ame=Q("text")(({theme:t})=>ge({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function ome(t){const{message:e}=t,r=yn(t,sme),{top:n,left:i,height:s,width:a}=Da();return x.jsx(ame,ge({x:i+a/2,y:n+s/2},r,{children:e??"Loading data"}))}const lme=["message"],cme=Q("text")(({theme:t})=>ge({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function ume(t){const{message:e}=t,r=yn(t,lme),{top:n,left:i,height:s,width:a}=Da();return x.jsx(cme,ge({x:i+a/2,y:n+s/2},r,{children:e??"No data to display"}))}function dme(){const t=jl();return Object.values(t).every(e=>{if(!e)return!0;const{series:r,seriesOrder:n}=e;return n.every(i=>r[i].data.length===0)})}function hme(t){var r,n,i,s;const e=dme();if(t.loading){const a=((r=t.slots)==null?void 0:r.loadingOverlay)??ome;return x.jsx(a,ge({},(n=t.slotProps)==null?void 0:n.loadingOverlay))}if(e){const a=((i=t.slots)==null?void 0:i.noDataOverlay)??ume;return x.jsx(a,ge({},(s=t.slotProps)==null?void 0:s.noDataOverlay))}return null}const fme=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],pme=t=>{const{xAxis:e,yAxis:r,series:n,width:i,height:s,margin:a,colors:o,dataset:l,sx:c,tooltip:u,onAxisClick:d,axisHighlight:h,legend:p,grid:f,topAxis:m,leftAxis:g,rightAxis:y,bottomAxis:b,children:v,slots:k,slotProps:C,skipAnimation:S,loading:_,layout:B,onItemClick:D,highlightedItem:E,onHighlightChange:R,borderRadius:A,barLabel:I,className:L}=t,N=yn(t,fme),O=`${qO()}-clip-path`,M=B==="horizontal"||B===void 0&&n.some(oe=>oe.layout==="horizontal"),V={scaleType:"band",data:Array.from({length:Math.max(...n.map(oe=>(oe.data??l??[]).length))},(oe,q)=>q)},z=ge({},N,{series:n.map(oe=>ge({type:"bar"},oe,{layout:M?"horizontal":"vertical"})),width:i,height:s,margin:a,colors:o,dataset:l,xAxis:e??(M?void 0:[ge({id:fT},V)]),yAxis:r??(M?[ge({id:pT},V)]:void 0),sx:c,highlightedItem:E,onHighlightChange:R,disableAxisListener:(u==null?void 0:u.trigger)!=="axis"&&(h==null?void 0:h.x)==="none"&&(h==null?void 0:h.y)==="none"&&!d,className:L}),K={onItemClick:D,slots:k,slotProps:C,skipAnimation:S,borderRadius:A,barLabel:I},ie={onAxisClick:d},se={vertical:f==null?void 0:f.vertical,horizontal:f==null?void 0:f.horizontal},te={clipPath:`url(#${O})`},G={id:O},Z={slots:k,slotProps:C,loading:_},he={topAxis:m,leftAxis:g,rightAxis:y,bottomAxis:b,slots:k,slotProps:C},pe=ge({},M?{y:"band"}:{x:"band"},h),ne=ge({},p,{slots:k,slotProps:C}),le=ge({},u,{slots:k,slotProps:C});return{chartContainerProps:z,barPlotProps:K,axisClickHandlerProps:ie,gridProps:se,clipPathProps:G,clipPathGroupProps:te,overlayProps:Z,chartsAxisProps:he,axisHighlightProps:pe,legendProps:ne,tooltipProps:le,children:v}},mme=w.forwardRef(function(e,r){const n=Fe({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:s,axisClickHandlerProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:c,overlayProps:u,chartsAxisProps:d,axisHighlightProps:h,legendProps:p,tooltipProps:f,children:m}=pme(n);return x.jsxs(Xfe,ge({ref:r},i,{children:[n.onAxisClick&&x.jsx(ime,ge({},a)),n.grid&&x.jsx(nme,ge({},o)),x.jsxs("g",ge({},c,{children:[x.jsx(Bfe,ge({},s)),x.jsx(hme,ge({},u)),x.jsx(Qpe,ge({},h))]})),x.jsx(hpe,ge({},d)),x.jsx(Xpe,ge({},p)),!n.loading&&x.jsx(_pe,ge({},f)),x.jsx(Jpe,ge({},l)),m]}))});function gme(){const[t,e]=w.useState([]),[r,n]=w.useState(0),[i,s]=w.useState(0),[a,o]=w.useState(.5),[l,c]=w.useState(.3),[u,d]=w.useState(10),h=.05,p=1e3;function f(m,g){const y=[];for(let k=0;k<101;k++)y.push({percentage:k/100,amount:0});for(let k=0;k<p;k++){var b=0;for(let C=0;C<g;C++)Math.random()<m&&b++;y[Math.round(b/g*100)]={...y[Math.round(b/g*100)],amount:y[Math.round(b/g*100)].amount+1}}console.log({data:y}),e(y);let v=0;y.filter(k=>l>m?k.percentage>=l:k.percentage<=l).forEach(k=>v+=k.amount),n(v/p),s(v)}return x.jsx(Ul,{title:"Math",children:x.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center",padding:"10px"},children:[x.jsx(mme,{dataset:t,xAxis:[{scaleType:"band",dataKey:"percentage"}],series:[{dataKey:"amount"}],width:800,height:300}),x.jsxs("div",{style:{display:"flex",textAlign:"center"},children:[x.jsxs("div",{style:{margin:20},children:[x.jsxs(hr,{fontSize:25,children:[Math.round(a*100),"%"]}),x.jsx(nf,{max:1,step:.01,value:a,onChange:(m,g)=>o(g)}),"Null Hypothesis"]}),x.jsxs("div",{style:{margin:20},children:[x.jsxs(hr,{fontSize:25,children:[Math.round(l*100),"%"]}),x.jsx(nf,{max:1,step:.01,value:l,onChange:(m,g)=>c(g)}),"Sample proportion"]}),x.jsxs("div",{style:{margin:20,width:400},children:[x.jsx(hr,{fontSize:25,children:u}),x.jsx(nf,{min:1,max:1e4,step:1,value:u,onChange:(m,g)=>d(g)}),"Sample size"]})]}),x.jsxs("div",{children:["Out of the ",p," simulations run, ",i," ended with a sample proportion of ",l," or"," ",l>a?"higher":"lower"]}),x.jsxs("div",{children:["P-value is ",r," "]}),"That is",r<h?` less than the threshold of ${h} and is therefore statistically significant`:` more than the threshold of ${h} and is therefore NOT statistically significant`,x.jsx(As,{onClick:()=>f(a,u),children:"Generate"})]})})}function yme(){const t=a4([{path:"/",element:x.jsx(MQ,{}),children:[]},{path:"/todo",element:x.jsx(RQ,{})},{path:"/counter",element:x.jsx(cZ,{})},{path:"/rating",element:x.jsx(uZ,{})},{path:"/layout",element:x.jsx(dZ,{})},{path:"/shifts",element:x.jsx(cse,{})},{path:"/music",element:x.jsx(woe,{})},{path:"/progression",element:x.jsx(koe,{})},{path:"/math",element:x.jsx(gme,{})}]);return x.jsx(Qk,{dateAdapter:Cse,children:x.jsx(m4,{router:t})})}const bme=zJ({reducer:{counter:lZ}});qw.createRoot(document.getElementById("root")).render(x.jsx(Ut.StrictMode,{children:x.jsx(ZQ,{store:bme,children:x.jsx(yme,{})})}));
