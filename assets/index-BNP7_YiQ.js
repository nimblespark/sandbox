var Bie=Object.defineProperty;var Nie=(t,e,n)=>e in t?Bie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qw=(t,e,n)=>(Nie(t,typeof e!="symbol"?e+"":e,n),n);function gH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var mH={exports:{}},_C={},yH={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),Iie=Symbol.for("react.portal"),Aie=Symbol.for("react.fragment"),Rie=Symbol.for("react.strict_mode"),Lie=Symbol.for("react.profiler"),Die=Symbol.for("react.provider"),Fie=Symbol.for("react.context"),Oie=Symbol.for("react.forward_ref"),$ie=Symbol.for("react.suspense"),Hie=Symbol.for("react.memo"),Vie=Symbol.for("react.lazy"),HR=Symbol.iterator;function zie(t){return t===null||typeof t!="object"?null:(t=HR&&t[HR]||t["@@iterator"],typeof t=="function"?t:null)}var bH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vH=Object.assign,wH={};function km(t,e,n){this.props=t,this.context=e,this.refs=wH,this.updater=n||bH}km.prototype.isReactComponent={};km.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};km.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xH(){}xH.prototype=km.prototype;function G5(t,e,n){this.props=t,this.context=e,this.refs=wH,this.updater=n||bH}var U5=G5.prototype=new xH;U5.constructor=G5;vH(U5,km.prototype);U5.isPureReactComponent=!0;var VR=Array.isArray,SH=Object.prototype.hasOwnProperty,j5={current:null},CH={key:!0,ref:!0,__self:!0,__source:!0};function kH(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SH.call(e,r)&&!CH.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gv,type:t,key:s,ref:o,props:i,_owner:j5.current}}function Wie(t,e){return{$$typeof:gv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Y5(t){return typeof t=="object"&&t!==null&&t.$$typeof===gv}function Gie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zR=/\/+/g;function d_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gie(""+t.key):e.toString(36)}function sS(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gv:case Iie:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+d_(o,0):r,VR(i)?(n="",t!=null&&(n=t.replace(zR,"$&/")+"/"),sS(i,e,n,"",function(c){return c})):i!=null&&(Y5(i)&&(i=Wie(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",VR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+d_(s,a);o+=sS(s,e,n,l,i)}else if(l=zie(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+d_(s,a++),o+=sS(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kw(t,e,n){if(t==null)return t;var r=[],i=0;return sS(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Uie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qo={current:null},oS={transition:null},jie={ReactCurrentDispatcher:Qo,ReactCurrentBatchConfig:oS,ReactCurrentOwner:j5};br.Children={map:Kw,forEach:function(t,e,n){Kw(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kw(t,function(){e++}),e},toArray:function(t){return Kw(t,function(e){return e})||[]},only:function(t){if(!Y5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};br.Component=km;br.Fragment=Aie;br.Profiler=Lie;br.PureComponent=G5;br.StrictMode=Rie;br.Suspense=$ie;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jie;br.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vH({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=j5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SH.call(e,l)&&!CH.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gv,type:t.type,key:i,ref:s,props:r,_owner:o}};br.createContext=function(t){return t={$$typeof:Fie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Die,_context:t},t.Consumer=t};br.createElement=kH;br.createFactory=function(t){var e=kH.bind(null,t);return e.type=t,e};br.createRef=function(){return{current:null}};br.forwardRef=function(t){return{$$typeof:Oie,render:t}};br.isValidElement=Y5;br.lazy=function(t){return{$$typeof:Vie,_payload:{_status:-1,_result:t},_init:Uie}};br.memo=function(t,e){return{$$typeof:Hie,type:t,compare:e===void 0?null:e}};br.startTransition=function(t){var e=oS.transition;oS.transition={};try{t()}finally{oS.transition=e}};br.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};br.useCallback=function(t,e){return Qo.current.useCallback(t,e)};br.useContext=function(t){return Qo.current.useContext(t)};br.useDebugValue=function(){};br.useDeferredValue=function(t){return Qo.current.useDeferredValue(t)};br.useEffect=function(t,e){return Qo.current.useEffect(t,e)};br.useId=function(){return Qo.current.useId()};br.useImperativeHandle=function(t,e,n){return Qo.current.useImperativeHandle(t,e,n)};br.useInsertionEffect=function(t,e){return Qo.current.useInsertionEffect(t,e)};br.useLayoutEffect=function(t,e){return Qo.current.useLayoutEffect(t,e)};br.useMemo=function(t,e){return Qo.current.useMemo(t,e)};br.useReducer=function(t,e,n){return Qo.current.useReducer(t,e,n)};br.useRef=function(t){return Qo.current.useRef(t)};br.useState=function(t){return Qo.current.useState(t)};br.useSyncExternalStore=function(t,e,n){return Qo.current.useSyncExternalStore(t,e,n)};br.useTransition=function(){return Qo.current.useTransition()};br.version="18.2.0";yH.exports=br;var b=yH.exports;const cn=Pa(b),Wh=gH({__proto__:null,default:cn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yie=b,Xie=Symbol.for("react.element"),qie=Symbol.for("react.fragment"),Kie=Object.prototype.hasOwnProperty,Qie=Yie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jie={key:!0,ref:!0,__self:!0,__source:!0};function TH(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kie.call(e,r)&&!Jie.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Xie,type:t,key:s,ref:o,props:i,_owner:Qie.current}}_C.Fragment=qie;_C.jsx=TH;_C.jsxs=TH;mH.exports=_C;var C=mH.exports,yM={},PH={exports:{}},rl={},_H={exports:{}},MH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,G){var j=O.length;O.push(G);e:for(;0<j;){var J=j-1>>>1,Z=O[J];if(0<i(Z,G))O[J]=G,O[j]=Z,j=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var G=O[0],j=O.pop();if(j!==G){O[0]=j;e:for(var J=0,Z=O.length,ae=Z>>>1;J<ae;){var z=2*(J+1)-1,$=O[z],W=z+1,oe=O[W];if(0>i($,j))W<Z&&0>i(oe,$)?(O[J]=oe,O[W]=j,J=W):(O[J]=$,O[z]=j,J=z);else if(W<Z&&0>i(oe,j))O[J]=oe,O[W]=j,J=W;else break e}}return G}function i(O,G){var j=O.sortIndex-G.sortIndex;return j!==0?j:O.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=O)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function k(O){if(m=!1,v(O),!p)if(n(l)!==null)p=!0,L(P);else{var G=n(c);G!==null&&H(k,G.startTime-O)}}function P(O,G){p=!1,m&&(m=!1,S(E),E=-1),f=!0;var j=h;try{for(v(G),d=n(l);d!==null&&(!(d.expirationTime>G)||O&&!F());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var Z=J(d.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),v(G)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var z=n(c);z!==null&&H(k,z.startTime-G),ae=!1}return ae}finally{d=null,h=j,f=!1}}var T=!1,_=null,E=-1,I=5,R=-1;function F(){return!(t.unstable_now()-R<I)}function B(){if(_!==null){var O=t.unstable_now();R=O;var G=!0;try{G=_(!0,O)}finally{G?D():(T=!1,_=null)}}else T=!1}var D;if(typeof w=="function")D=function(){w(B)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,N=A.port2;A.port1.onmessage=B,D=function(){N.postMessage(null)}}else D=function(){y(B,0)};function L(O){_=O,T||(T=!0,D())}function H(O,G){E=y(function(){O(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,L(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var j=h;h=G;try{return O()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=h;h=O;try{return G()}finally{h=j}},t.unstable_scheduleCallback=function(O,G,j){var J=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=j+Z,O={id:u++,callback:G,priorityLevel:O,startTime:j,expirationTime:Z,sortIndex:-1},j>J?(O.sortIndex=j,e(c,O),n(l)===null&&O===n(c)&&(m?(S(E),E=-1):m=!0,H(k,j-J))):(O.sortIndex=Z,e(l,O),p||f||(p=!0,L(P))),O},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(O){var G=h;return function(){var j=h;h=G;try{return O.apply(this,arguments)}finally{h=j}}}})(MH);_H.exports=MH;var Zie=_H.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EH=b,Ja=Zie;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BH=new Set,Ky={};function Hp(t,e){Hg(t,e),Hg(t+"Capture",e)}function Hg(t,e){for(Ky[t]=e,t=0;t<e.length;t++)BH.add(e[t])}var bd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bM=Object.prototype.hasOwnProperty,ese=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WR={},GR={};function tse(t){return bM.call(GR,t)?!0:bM.call(WR,t)?!1:ese.test(t)?GR[t]=!0:(WR[t]=!0,!1)}function nse(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rse(t,e,n,r){if(e===null||typeof e>"u"||nse(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jo(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bo[t]=new Jo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bo[e]=new Jo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bo[t]=new Jo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bo[t]=new Jo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bo[t]=new Jo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bo[t]=new Jo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bo[t]=new Jo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bo[t]=new Jo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bo[t]=new Jo(t,5,!1,t.toLowerCase(),null,!1,!1)});var X5=/[\-:]([a-z])/g;function q5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(X5,q5);bo[e]=new Jo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(X5,q5);bo[e]=new Jo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(X5,q5);bo[e]=new Jo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bo[t]=new Jo(t,1,!1,t.toLowerCase(),null,!1,!1)});bo.xlinkHref=new Jo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bo[t]=new Jo(t,1,!1,t.toLowerCase(),null,!0,!0)});function K5(t,e,n,r){var i=bo.hasOwnProperty(e)?bo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rse(e,n,i,r)&&(n=null),r||i===null?tse(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ad=EH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qw=Symbol.for("react.element"),tg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),Q5=Symbol.for("react.strict_mode"),vM=Symbol.for("react.profiler"),NH=Symbol.for("react.provider"),IH=Symbol.for("react.context"),J5=Symbol.for("react.forward_ref"),wM=Symbol.for("react.suspense"),xM=Symbol.for("react.suspense_list"),Z5=Symbol.for("react.memo"),ph=Symbol.for("react.lazy"),AH=Symbol.for("react.offscreen"),UR=Symbol.iterator;function m1(t){return t===null||typeof t!="object"?null:(t=UR&&t[UR]||t["@@iterator"],typeof t=="function"?t:null)}var Oi=Object.assign,h_;function ry(t){if(h_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);h_=e&&e[1]||""}return`
`+h_+t}var f_=!1;function p_(t,e){if(!t||f_)return"";f_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{f_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ry(t):""}function ise(t){switch(t.tag){case 5:return ry(t.type);case 16:return ry("Lazy");case 13:return ry("Suspense");case 19:return ry("SuspenseList");case 0:case 2:case 15:return t=p_(t.type,!1),t;case 11:return t=p_(t.type.render,!1),t;case 1:return t=p_(t.type,!0),t;default:return""}}function SM(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ng:return"Fragment";case tg:return"Portal";case vM:return"Profiler";case Q5:return"StrictMode";case wM:return"Suspense";case xM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IH:return(t.displayName||"Context")+".Consumer";case NH:return(t._context.displayName||"Context")+".Provider";case J5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z5:return e=t.displayName||null,e!==null?e:SM(t.type)||"Memo";case ph:e=t._payload,t=t._init;try{return SM(t(e))}catch{}}return null}function sse(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SM(e);case 8:return e===Q5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ose(t){var e=RH(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jw(t){t._valueTracker||(t._valueTracker=ose(t))}function LH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RH(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function XS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function CM(t,e){var n=e.checked;return Oi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DH(t,e){e=e.checked,e!=null&&K5(t,"checked",e,!1)}function kM(t,e){DH(t,e);var n=Gh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TM(t,e.type,n):e.hasOwnProperty("defaultValue")&&TM(t,e.type,Gh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function TM(t,e,n){(e!=="number"||XS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var iy=Array.isArray;function Sg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function PM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return Oi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(St(92));if(iy(n)){if(1<n.length)throw Error(St(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gh(n)}}function FH(t,e){var n=Gh(e.value),r=Gh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _M(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zw,$H=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zw=Zw||document.createElement("div"),Zw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ase=["Webkit","ms","Moz","O"];Object.keys(wy).forEach(function(t){ase.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wy[e]=wy[t]})});function HH(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wy.hasOwnProperty(t)&&wy[t]?(""+e).trim():e+"px"}function VH(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HH(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lse=Oi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MM(t,e){if(e){if(lse[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function EM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BM=null;function eB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var NM=null,Cg=null,kg=null;function KR(t){if(t=bv(t)){if(typeof NM!="function")throw Error(St(280));var e=t.stateNode;e&&(e=IC(e),NM(t.stateNode,t.type,e))}}function zH(t){Cg?kg?kg.push(t):kg=[t]:Cg=t}function WH(){if(Cg){var t=Cg,e=kg;if(kg=Cg=null,KR(t),e)for(t=0;t<e.length;t++)KR(e[t])}}function GH(t,e){return t(e)}function UH(){}var g_=!1;function jH(t,e,n){if(g_)return t(e,n);g_=!0;try{return GH(t,e,n)}finally{g_=!1,(Cg!==null||kg!==null)&&(UH(),WH())}}function Jy(t,e){var n=t.stateNode;if(n===null)return null;var r=IC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(St(231,e,typeof n));return n}var IM=!1;if(bd)try{var y1={};Object.defineProperty(y1,"passive",{get:function(){IM=!0}}),window.addEventListener("test",y1,y1),window.removeEventListener("test",y1,y1)}catch{IM=!1}function cse(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xy=!1,qS=null,KS=!1,AM=null,use={onError:function(t){xy=!0,qS=t}};function dse(t,e,n,r,i,s,o,a,l){xy=!1,qS=null,cse.apply(use,arguments)}function hse(t,e,n,r,i,s,o,a,l){if(dse.apply(this,arguments),xy){if(xy){var c=qS;xy=!1,qS=null}else throw Error(St(198));KS||(KS=!0,AM=c)}}function Vp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QR(t){if(Vp(t)!==t)throw Error(St(188))}function fse(t){var e=t.alternate;if(!e){if(e=Vp(t),e===null)throw Error(St(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return QR(i),t;if(s===r)return QR(i),e;s=s.sibling}throw Error(St(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(St(189))}}if(n.alternate!==r)throw Error(St(190))}if(n.tag!==3)throw Error(St(188));return n.stateNode.current===n?t:e}function XH(t){return t=fse(t),t!==null?qH(t):null}function qH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qH(t);if(e!==null)return e;t=t.sibling}return null}var KH=Ja.unstable_scheduleCallback,JR=Ja.unstable_cancelCallback,pse=Ja.unstable_shouldYield,gse=Ja.unstable_requestPaint,cs=Ja.unstable_now,mse=Ja.unstable_getCurrentPriorityLevel,tB=Ja.unstable_ImmediatePriority,QH=Ja.unstable_UserBlockingPriority,QS=Ja.unstable_NormalPriority,yse=Ja.unstable_LowPriority,JH=Ja.unstable_IdlePriority,MC=null,mu=null;function bse(t){if(mu&&typeof mu.onCommitFiberRoot=="function")try{mu.onCommitFiberRoot(MC,t,void 0,(t.current.flags&128)===128)}catch{}}var Nc=Math.clz32?Math.clz32:xse,vse=Math.log,wse=Math.LN2;function xse(t){return t>>>=0,t===0?32:31-(vse(t)/wse|0)|0}var ex=64,tx=4194304;function sy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function JS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sy(a):(s&=o,s!==0&&(r=sy(s)))}else o=n&~i,o!==0?r=sy(o):s!==0&&(r=sy(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nc(e),i=1<<n,r|=t[n],e&=~i;return r}function Sse(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cse(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nc(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Sse(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function RM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZH(){var t=ex;return ex<<=1,!(ex&4194240)&&(ex=64),t}function m_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nc(e),t[e]=n}function kse(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nB(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gr=0;function eV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tV,rB,nV,rV,iV,LM=!1,nx=[],Bh=null,Nh=null,Ih=null,Zy=new Map,eb=new Map,bh=[],Tse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZR(t,e){switch(t){case"focusin":case"focusout":Bh=null;break;case"dragenter":case"dragleave":Nh=null;break;case"mouseover":case"mouseout":Ih=null;break;case"pointerover":case"pointerout":Zy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eb.delete(e.pointerId)}}function b1(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bv(e),e!==null&&rB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Pse(t,e,n,r,i){switch(e){case"focusin":return Bh=b1(Bh,t,e,n,r,i),!0;case"dragenter":return Nh=b1(Nh,t,e,n,r,i),!0;case"mouseover":return Ih=b1(Ih,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zy.set(s,b1(Zy.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eb.set(s,b1(eb.get(s)||null,t,e,n,r,i)),!0}return!1}function sV(t){var e=Uf(t.target);if(e!==null){var n=Vp(e);if(n!==null){if(e=n.tag,e===13){if(e=YH(n),e!==null){t.blockedOn=e,iV(t.priority,function(){nV(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function aS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=DM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);BM=r,n.target.dispatchEvent(r),BM=null}else return e=bv(n),e!==null&&rB(e),t.blockedOn=n,!1;e.shift()}return!0}function eL(t,e,n){aS(t)&&n.delete(e)}function _se(){LM=!1,Bh!==null&&aS(Bh)&&(Bh=null),Nh!==null&&aS(Nh)&&(Nh=null),Ih!==null&&aS(Ih)&&(Ih=null),Zy.forEach(eL),eb.forEach(eL)}function v1(t,e){t.blockedOn===e&&(t.blockedOn=null,LM||(LM=!0,Ja.unstable_scheduleCallback(Ja.unstable_NormalPriority,_se)))}function tb(t){function e(i){return v1(i,t)}if(0<nx.length){v1(nx[0],t);for(var n=1;n<nx.length;n++){var r=nx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bh!==null&&v1(Bh,t),Nh!==null&&v1(Nh,t),Ih!==null&&v1(Ih,t),Zy.forEach(e),eb.forEach(e),n=0;n<bh.length;n++)r=bh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bh.length&&(n=bh[0],n.blockedOn===null);)sV(n),n.blockedOn===null&&bh.shift()}var Tg=Ad.ReactCurrentBatchConfig,ZS=!0;function Mse(t,e,n,r){var i=Gr,s=Tg.transition;Tg.transition=null;try{Gr=1,iB(t,e,n,r)}finally{Gr=i,Tg.transition=s}}function Ese(t,e,n,r){var i=Gr,s=Tg.transition;Tg.transition=null;try{Gr=4,iB(t,e,n,r)}finally{Gr=i,Tg.transition=s}}function iB(t,e,n,r){if(ZS){var i=DM(t,e,n,r);if(i===null)P_(t,e,r,e2,n),ZR(t,r);else if(Pse(i,t,e,n,r))r.stopPropagation();else if(ZR(t,r),e&4&&-1<Tse.indexOf(t)){for(;i!==null;){var s=bv(i);if(s!==null&&tV(s),s=DM(t,e,n,r),s===null&&P_(t,e,r,e2,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else P_(t,e,r,null,n)}}var e2=null;function DM(t,e,n,r){if(e2=null,t=eB(r),t=Uf(t),t!==null)if(e=Vp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YH(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return e2=t,null}function oV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mse()){case tB:return 1;case QH:return 4;case QS:case yse:return 16;case JH:return 536870912;default:return 16}default:return 16}}var Sh=null,sB=null,lS=null;function aV(){if(lS)return lS;var t,e=sB,n=e.length,r,i="value"in Sh?Sh.value:Sh.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return lS=i.slice(t,1<r?1-r:void 0)}function cS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rx(){return!0}function tL(){return!1}function il(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rx:tL,this.isPropagationStopped=tL,this}return Oi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rx)},persist:function(){},isPersistent:rx}),e}var Tm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oB=il(Tm),yv=Oi({},Tm,{view:0,detail:0}),Bse=il(yv),y_,b_,w1,EC=Oi({},yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==w1&&(w1&&t.type==="mousemove"?(y_=t.screenX-w1.screenX,b_=t.screenY-w1.screenY):b_=y_=0,w1=t),y_)},movementY:function(t){return"movementY"in t?t.movementY:b_}}),nL=il(EC),Nse=Oi({},EC,{dataTransfer:0}),Ise=il(Nse),Ase=Oi({},yv,{relatedTarget:0}),v_=il(Ase),Rse=Oi({},Tm,{animationName:0,elapsedTime:0,pseudoElement:0}),Lse=il(Rse),Dse=Oi({},Tm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fse=il(Dse),Ose=Oi({},Tm,{data:0}),rL=il(Ose),$se={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zse(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vse[t])?!!e[t]:!1}function aB(){return zse}var Wse=Oi({},yv,{key:function(t){if(t.key){var e=$se[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hse[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aB,charCode:function(t){return t.type==="keypress"?cS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gse=il(Wse),Use=Oi({},EC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iL=il(Use),jse=Oi({},yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aB}),Yse=il(jse),Xse=Oi({},Tm,{propertyName:0,elapsedTime:0,pseudoElement:0}),qse=il(Xse),Kse=Oi({},EC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qse=il(Kse),Jse=[9,13,27,32],lB=bd&&"CompositionEvent"in window,Sy=null;bd&&"documentMode"in document&&(Sy=document.documentMode);var Zse=bd&&"TextEvent"in window&&!Sy,lV=bd&&(!lB||Sy&&8<Sy&&11>=Sy),sL=" ",oL=!1;function cV(t,e){switch(t){case"keyup":return Jse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rg=!1;function eoe(t,e){switch(t){case"compositionend":return uV(e);case"keypress":return e.which!==32?null:(oL=!0,sL);case"textInput":return t=e.data,t===sL&&oL?null:t;default:return null}}function toe(t,e){if(rg)return t==="compositionend"||!lB&&cV(t,e)?(t=aV(),lS=sB=Sh=null,rg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lV&&e.locale!=="ko"?null:e.data;default:return null}}var noe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!noe[t.type]:e==="textarea"}function dV(t,e,n,r){zH(r),e=t2(e,"onChange"),0<e.length&&(n=new oB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cy=null,nb=null;function roe(t){SV(t,0)}function BC(t){var e=og(t);if(LH(e))return t}function ioe(t,e){if(t==="change")return e}var hV=!1;if(bd){var w_;if(bd){var x_="oninput"in document;if(!x_){var lL=document.createElement("div");lL.setAttribute("oninput","return;"),x_=typeof lL.oninput=="function"}w_=x_}else w_=!1;hV=w_&&(!document.documentMode||9<document.documentMode)}function cL(){Cy&&(Cy.detachEvent("onpropertychange",fV),nb=Cy=null)}function fV(t){if(t.propertyName==="value"&&BC(nb)){var e=[];dV(e,nb,t,eB(t)),jH(roe,e)}}function soe(t,e,n){t==="focusin"?(cL(),Cy=e,nb=n,Cy.attachEvent("onpropertychange",fV)):t==="focusout"&&cL()}function ooe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return BC(nb)}function aoe(t,e){if(t==="click")return BC(e)}function loe(t,e){if(t==="input"||t==="change")return BC(e)}function coe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $c=typeof Object.is=="function"?Object.is:coe;function rb(t,e){if($c(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bM.call(e,i)||!$c(t[i],e[i]))return!1}return!0}function uL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dL(t,e){var n=uL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uL(n)}}function pV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gV(){for(var t=window,e=XS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=XS(t.document)}return e}function cB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uoe(t){var e=gV(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pV(n.ownerDocument.documentElement,n)){if(r!==null&&cB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dL(n,s);var o=dL(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var doe=bd&&"documentMode"in document&&11>=document.documentMode,ig=null,FM=null,ky=null,OM=!1;function hL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OM||ig==null||ig!==XS(r)||(r=ig,"selectionStart"in r&&cB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ky&&rb(ky,r)||(ky=r,r=t2(FM,"onSelect"),0<r.length&&(e=new oB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ig)))}function ix(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sg={animationend:ix("Animation","AnimationEnd"),animationiteration:ix("Animation","AnimationIteration"),animationstart:ix("Animation","AnimationStart"),transitionend:ix("Transition","TransitionEnd")},S_={},mV={};bd&&(mV=document.createElement("div").style,"AnimationEvent"in window||(delete sg.animationend.animation,delete sg.animationiteration.animation,delete sg.animationstart.animation),"TransitionEvent"in window||delete sg.transitionend.transition);function NC(t){if(S_[t])return S_[t];if(!sg[t])return t;var e=sg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mV)return S_[t]=e[n];return t}var yV=NC("animationend"),bV=NC("animationiteration"),vV=NC("animationstart"),wV=NC("transitionend"),xV=new Map,fL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zh(t,e){xV.set(t,e),Hp(e,[t])}for(var C_=0;C_<fL.length;C_++){var k_=fL[C_],hoe=k_.toLowerCase(),foe=k_[0].toUpperCase()+k_.slice(1);Zh(hoe,"on"+foe)}Zh(yV,"onAnimationEnd");Zh(bV,"onAnimationIteration");Zh(vV,"onAnimationStart");Zh("dblclick","onDoubleClick");Zh("focusin","onFocus");Zh("focusout","onBlur");Zh(wV,"onTransitionEnd");Hg("onMouseEnter",["mouseout","mouseover"]);Hg("onMouseLeave",["mouseout","mouseover"]);Hg("onPointerEnter",["pointerout","pointerover"]);Hg("onPointerLeave",["pointerout","pointerover"]);Hp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),poe=new Set("cancel close invalid load scroll toggle".split(" ").concat(oy));function pL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hse(r,e,void 0,t),t.currentTarget=null}function SV(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pL(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pL(i,a,c),s=l}}}if(KS)throw t=AM,KS=!1,AM=null,t}function gi(t,e){var n=e[WM];n===void 0&&(n=e[WM]=new Set);var r=t+"__bubble";n.has(r)||(CV(e,t,2,!1),n.add(r))}function T_(t,e,n){var r=0;e&&(r|=4),CV(n,t,r,e)}var sx="_reactListening"+Math.random().toString(36).slice(2);function ib(t){if(!t[sx]){t[sx]=!0,BH.forEach(function(n){n!=="selectionchange"&&(poe.has(n)||T_(n,!1,t),T_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sx]||(e[sx]=!0,T_("selectionchange",!1,e))}}function CV(t,e,n,r){switch(oV(e)){case 1:var i=Mse;break;case 4:i=Ese;break;default:i=iB}n=i.bind(null,e,n,t),i=void 0,!IM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function P_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Uf(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jH(function(){var c=s,u=eB(n),d=[];e:{var h=xV.get(t);if(h!==void 0){var f=oB,p=t;switch(t){case"keypress":if(cS(n)===0)break e;case"keydown":case"keyup":f=Gse;break;case"focusin":p="focus",f=v_;break;case"focusout":p="blur",f=v_;break;case"beforeblur":case"afterblur":f=v_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Ise;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Yse;break;case yV:case bV:case vV:f=Lse;break;case wV:f=qse;break;case"scroll":f=Bse;break;case"wheel":f=Qse;break;case"copy":case"cut":case"paste":f=Fse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=iL}var m=(e&4)!==0,y=!m&&t==="scroll",S=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,v;w!==null;){v=w;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,S!==null&&(k=Jy(w,S),k!=null&&m.push(sb(w,k,v)))),y)break;w=w.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==BM&&(p=n.relatedTarget||n.fromElement)&&(Uf(p)||p[vd]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Uf(p):null,p!==null&&(y=Vp(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=nL,k="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=iL,k="onPointerLeave",S="onPointerEnter",w="pointer"),y=f==null?h:og(f),v=p==null?h:og(p),h=new m(k,w+"leave",f,n,u),h.target=y,h.relatedTarget=v,k=null,Uf(u)===c&&(m=new m(S,w+"enter",p,n,u),m.target=v,m.relatedTarget=y,k=m),y=k,f&&p)t:{for(m=f,S=p,w=0,v=m;v;v=m0(v))w++;for(v=0,k=S;k;k=m0(k))v++;for(;0<w-v;)m=m0(m),w--;for(;0<v-w;)S=m0(S),v--;for(;w--;){if(m===S||S!==null&&m===S.alternate)break t;m=m0(m),S=m0(S)}m=null}else m=null;f!==null&&gL(d,h,f,m,!1),p!==null&&y!==null&&gL(d,y,p,m,!0)}}e:{if(h=c?og(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var P=ioe;else if(aL(h))if(hV)P=loe;else{P=ooe;var T=soe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=aoe);if(P&&(P=P(t,c))){dV(d,P,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&TM(h,"number",h.value)}switch(T=c?og(c):window,t){case"focusin":(aL(T)||T.contentEditable==="true")&&(ig=T,FM=c,ky=null);break;case"focusout":ky=FM=ig=null;break;case"mousedown":OM=!0;break;case"contextmenu":case"mouseup":case"dragend":OM=!1,hL(d,n,u);break;case"selectionchange":if(doe)break;case"keydown":case"keyup":hL(d,n,u)}var _;if(lB)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else rg?cV(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(lV&&n.locale!=="ko"&&(rg||E!=="onCompositionStart"?E==="onCompositionEnd"&&rg&&(_=aV()):(Sh=u,sB="value"in Sh?Sh.value:Sh.textContent,rg=!0)),T=t2(c,E),0<T.length&&(E=new rL(E,t,null,n,u),d.push({event:E,listeners:T}),_?E.data=_:(_=uV(n),_!==null&&(E.data=_)))),(_=Zse?eoe(t,n):toe(t,n))&&(c=t2(c,"onBeforeInput"),0<c.length&&(u=new rL("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}SV(d,e)})}function sb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function t2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jy(t,n),s!=null&&r.unshift(sb(t,s,i)),s=Jy(t,e),s!=null&&r.push(sb(t,s,i))),t=t.return}return r}function m0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gL(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Jy(n,s),l!=null&&o.unshift(sb(n,l,a))):i||(l=Jy(n,s),l!=null&&o.push(sb(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var goe=/\r\n?/g,moe=/\u0000|\uFFFD/g;function mL(t){return(typeof t=="string"?t:""+t).replace(goe,`
`).replace(moe,"")}function ox(t,e,n){if(e=mL(e),mL(t)!==e&&n)throw Error(St(425))}function n2(){}var $M=null,HM=null;function VM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zM=typeof setTimeout=="function"?setTimeout:void 0,yoe=typeof clearTimeout=="function"?clearTimeout:void 0,yL=typeof Promise=="function"?Promise:void 0,boe=typeof queueMicrotask=="function"?queueMicrotask:typeof yL<"u"?function(t){return yL.resolve(null).then(t).catch(voe)}:zM;function voe(t){setTimeout(function(){throw t})}function __(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tb(e)}function Ah(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pm=Math.random().toString(36).slice(2),cu="__reactFiber$"+Pm,ob="__reactProps$"+Pm,vd="__reactContainer$"+Pm,WM="__reactEvents$"+Pm,woe="__reactListeners$"+Pm,xoe="__reactHandles$"+Pm;function Uf(t){var e=t[cu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vd]||n[cu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bL(t);t!==null;){if(n=t[cu])return n;t=bL(t)}return e}t=n,n=t.parentNode}return null}function bv(t){return t=t[cu]||t[vd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function og(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function IC(t){return t[ob]||null}var GM=[],ag=-1;function ef(t){return{current:t}}function yi(t){0>ag||(t.current=GM[ag],GM[ag]=null,ag--)}function di(t,e){ag++,GM[ag]=t.current,t.current=e}var Uh={},Eo=ef(Uh),ba=ef(!1),mp=Uh;function Vg(t,e){var n=t.type.contextTypes;if(!n)return Uh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function va(t){return t=t.childContextTypes,t!=null}function r2(){yi(ba),yi(Eo)}function vL(t,e,n){if(Eo.current!==Uh)throw Error(St(168));di(Eo,e),di(ba,n)}function kV(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(St(108,sse(t)||"Unknown",i));return Oi({},n,r)}function i2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uh,mp=Eo.current,di(Eo,t),di(ba,ba.current),!0}function wL(t,e,n){var r=t.stateNode;if(!r)throw Error(St(169));n?(t=kV(t,e,mp),r.__reactInternalMemoizedMergedChildContext=t,yi(ba),yi(Eo),di(Eo,t)):yi(ba),di(ba,n)}var Ku=null,AC=!1,M_=!1;function TV(t){Ku===null?Ku=[t]:Ku.push(t)}function Soe(t){AC=!0,TV(t)}function tf(){if(!M_&&Ku!==null){M_=!0;var t=0,e=Gr;try{var n=Ku;for(Gr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ku=null,AC=!1}catch(i){throw Ku!==null&&(Ku=Ku.slice(t+1)),KH(tB,tf),i}finally{Gr=e,M_=!1}}return null}var lg=[],cg=0,s2=null,o2=0,Cl=[],kl=0,yp=null,nd=1,rd="";function Af(t,e){lg[cg++]=o2,lg[cg++]=s2,s2=t,o2=e}function PV(t,e,n){Cl[kl++]=nd,Cl[kl++]=rd,Cl[kl++]=yp,yp=t;var r=nd;t=rd;var i=32-Nc(r)-1;r&=~(1<<i),n+=1;var s=32-Nc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nd=1<<32-Nc(e)+i|n<<i|r,rd=s+t}else nd=1<<s|n<<i|r,rd=t}function uB(t){t.return!==null&&(Af(t,1),PV(t,1,0))}function dB(t){for(;t===s2;)s2=lg[--cg],lg[cg]=null,o2=lg[--cg],lg[cg]=null;for(;t===yp;)yp=Cl[--kl],Cl[kl]=null,rd=Cl[--kl],Cl[kl]=null,nd=Cl[--kl],Cl[kl]=null}var qa=null,ja=null,_i=!1,bc=null;function _V(t,e){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qa=t,ja=Ah(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qa=t,ja=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yp!==null?{id:nd,overflow:rd}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Al(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qa=t,ja=null,!0):!1;default:return!1}}function UM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jM(t){if(_i){var e=ja;if(e){var n=e;if(!xL(t,e)){if(UM(t))throw Error(St(418));e=Ah(n.nextSibling);var r=qa;e&&xL(t,e)?_V(r,n):(t.flags=t.flags&-4097|2,_i=!1,qa=t)}}else{if(UM(t))throw Error(St(418));t.flags=t.flags&-4097|2,_i=!1,qa=t}}}function SL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qa=t}function ax(t){if(t!==qa)return!1;if(!_i)return SL(t),_i=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!VM(t.type,t.memoizedProps)),e&&(e=ja)){if(UM(t))throw MV(),Error(St(418));for(;e;)_V(t,e),e=Ah(e.nextSibling)}if(SL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ja=Ah(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ja=null}}else ja=qa?Ah(t.stateNode.nextSibling):null;return!0}function MV(){for(var t=ja;t;)t=Ah(t.nextSibling)}function zg(){ja=qa=null,_i=!1}function hB(t){bc===null?bc=[t]:bc.push(t)}var Coe=Ad.ReactCurrentBatchConfig;function hc(t,e){if(t&&t.defaultProps){e=Oi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var a2=ef(null),l2=null,ug=null,fB=null;function pB(){fB=ug=l2=null}function gB(t){var e=a2.current;yi(a2),t._currentValue=e}function YM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pg(t,e){l2=t,fB=ug=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ga=!0),t.firstContext=null)}function Vl(t){var e=t._currentValue;if(fB!==t)if(t={context:t,memoizedValue:e,next:null},ug===null){if(l2===null)throw Error(St(308));ug=t,l2.dependencies={lanes:0,firstContext:t}}else ug=ug.next=t;return e}var jf=null;function mB(t){jf===null?jf=[t]:jf.push(t)}function EV(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mB(e)):(n.next=i.next,i.next=n),e.interleaved=n,wd(t,r)}function wd(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gh=!1;function yB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ud(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wd(t,n)}return i=r.interleaved,i===null?(e.next=e,mB(r)):(e.next=i.next,i.next=e),r.interleaved=e,wd(t,n)}function uS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nB(t,n)}}function CL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function c2(t,e,n,r){var i=t.updateQueue;gh=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Oi({},d,h);break e;case 2:gh=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vp|=o,t.lanes=o,t.memoizedState=d}}function kL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(St(191,i));i.call(r)}}}var NV=new EH.Component().refs;function XM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var RC={isMounted:function(t){return(t=t._reactInternals)?Vp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qo(),i=Dh(t),s=ud(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rh(t,s,i),e!==null&&(Ic(e,t,i,r),uS(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qo(),i=Dh(t),s=ud(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rh(t,s,i),e!==null&&(Ic(e,t,i,r),uS(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qo(),r=Dh(t),i=ud(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rh(t,i,r),e!==null&&(Ic(e,t,r,n),uS(e,t,r))}};function TL(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rb(n,r)||!rb(i,s):!0}function IV(t,e,n){var r=!1,i=Uh,s=e.contextType;return typeof s=="object"&&s!==null?s=Vl(s):(i=va(e)?mp:Eo.current,r=e.contextTypes,s=(r=r!=null)?Vg(t,i):Uh),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=RC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function PL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&RC.enqueueReplaceState(e,e.state,null)}function qM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=NV,yB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vl(s):(s=va(e)?mp:Eo.current,i.context=Vg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(XM(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&RC.enqueueReplaceState(i,i.state,null),c2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function x1(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(St(309));var r=n.stateNode}if(!r)throw Error(St(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===NV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(St(284));if(!n._owner)throw Error(St(290,t))}return t}function lx(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _L(t){var e=t._init;return e(t._payload)}function AV(t){function e(S,w){if(t){var v=S.deletions;v===null?(S.deletions=[w],S.flags|=16):v.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=Fh(S,w),S.index=0,S.sibling=null,S}function s(S,w,v){return S.index=v,t?(v=S.alternate,v!==null?(v=v.index,v<w?(S.flags|=2,w):v):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,w,v,k){return w===null||w.tag!==6?(w=L_(v,S.mode,k),w.return=S,w):(w=i(w,v),w.return=S,w)}function l(S,w,v,k){var P=v.type;return P===ng?u(S,w,v.props.children,k,v.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ph&&_L(P)===w.type)?(k=i(w,v.props),k.ref=x1(S,w,v),k.return=S,k):(k=mS(v.type,v.key,v.props,null,S.mode,k),k.ref=x1(S,w,v),k.return=S,k)}function c(S,w,v,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=D_(v,S.mode,k),w.return=S,w):(w=i(w,v.children||[]),w.return=S,w)}function u(S,w,v,k,P){return w===null||w.tag!==7?(w=lp(v,S.mode,k,P),w.return=S,w):(w=i(w,v),w.return=S,w)}function d(S,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=L_(""+w,S.mode,v),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qw:return v=mS(w.type,w.key,w.props,null,S.mode,v),v.ref=x1(S,null,w),v.return=S,v;case tg:return w=D_(w,S.mode,v),w.return=S,w;case ph:var k=w._init;return d(S,k(w._payload),v)}if(iy(w)||m1(w))return w=lp(w,S.mode,v,null),w.return=S,w;lx(S,w)}return null}function h(S,w,v,k){var P=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:a(S,w,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qw:return v.key===P?l(S,w,v,k):null;case tg:return v.key===P?c(S,w,v,k):null;case ph:return P=v._init,h(S,w,P(v._payload),k)}if(iy(v)||m1(v))return P!==null?null:u(S,w,v,k,null);lx(S,v)}return null}function f(S,w,v,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(v)||null,a(w,S,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qw:return S=S.get(k.key===null?v:k.key)||null,l(w,S,k,P);case tg:return S=S.get(k.key===null?v:k.key)||null,c(w,S,k,P);case ph:var T=k._init;return f(S,w,v,T(k._payload),P)}if(iy(k)||m1(k))return S=S.get(v)||null,u(w,S,k,P,null);lx(w,k)}return null}function p(S,w,v,k){for(var P=null,T=null,_=w,E=w=0,I=null;_!==null&&E<v.length;E++){_.index>E?(I=_,_=null):I=_.sibling;var R=h(S,_,v[E],k);if(R===null){_===null&&(_=I);break}t&&_&&R.alternate===null&&e(S,_),w=s(R,w,E),T===null?P=R:T.sibling=R,T=R,_=I}if(E===v.length)return n(S,_),_i&&Af(S,E),P;if(_===null){for(;E<v.length;E++)_=d(S,v[E],k),_!==null&&(w=s(_,w,E),T===null?P=_:T.sibling=_,T=_);return _i&&Af(S,E),P}for(_=r(S,_);E<v.length;E++)I=f(_,S,E,v[E],k),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?E:I.key),w=s(I,w,E),T===null?P=I:T.sibling=I,T=I);return t&&_.forEach(function(F){return e(S,F)}),_i&&Af(S,E),P}function m(S,w,v,k){var P=m1(v);if(typeof P!="function")throw Error(St(150));if(v=P.call(v),v==null)throw Error(St(151));for(var T=P=null,_=w,E=w=0,I=null,R=v.next();_!==null&&!R.done;E++,R=v.next()){_.index>E?(I=_,_=null):I=_.sibling;var F=h(S,_,R.value,k);if(F===null){_===null&&(_=I);break}t&&_&&F.alternate===null&&e(S,_),w=s(F,w,E),T===null?P=F:T.sibling=F,T=F,_=I}if(R.done)return n(S,_),_i&&Af(S,E),P;if(_===null){for(;!R.done;E++,R=v.next())R=d(S,R.value,k),R!==null&&(w=s(R,w,E),T===null?P=R:T.sibling=R,T=R);return _i&&Af(S,E),P}for(_=r(S,_);!R.done;E++,R=v.next())R=f(_,S,E,R.value,k),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?E:R.key),w=s(R,w,E),T===null?P=R:T.sibling=R,T=R);return t&&_.forEach(function(B){return e(S,B)}),_i&&Af(S,E),P}function y(S,w,v,k){if(typeof v=="object"&&v!==null&&v.type===ng&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qw:e:{for(var P=v.key,T=w;T!==null;){if(T.key===P){if(P=v.type,P===ng){if(T.tag===7){n(S,T.sibling),w=i(T,v.props.children),w.return=S,S=w;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ph&&_L(P)===T.type){n(S,T.sibling),w=i(T,v.props),w.ref=x1(S,T,v),w.return=S,S=w;break e}n(S,T);break}else e(S,T);T=T.sibling}v.type===ng?(w=lp(v.props.children,S.mode,k,v.key),w.return=S,S=w):(k=mS(v.type,v.key,v.props,null,S.mode,k),k.ref=x1(S,w,v),k.return=S,S=k)}return o(S);case tg:e:{for(T=v.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(S,w.sibling),w=i(w,v.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=D_(v,S.mode,k),w.return=S,S=w}return o(S);case ph:return T=v._init,y(S,w,T(v._payload),k)}if(iy(v))return p(S,w,v,k);if(m1(v))return m(S,w,v,k);lx(S,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,v),w.return=S,S=w):(n(S,w),w=L_(v,S.mode,k),w.return=S,S=w),o(S)):n(S,w)}return y}var Wg=AV(!0),RV=AV(!1),vv={},yu=ef(vv),ab=ef(vv),lb=ef(vv);function Yf(t){if(t===vv)throw Error(St(174));return t}function bB(t,e){switch(di(lb,e),di(ab,t),di(yu,vv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_M(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_M(e,t)}yi(yu),di(yu,e)}function Gg(){yi(yu),yi(ab),yi(lb)}function LV(t){Yf(lb.current);var e=Yf(yu.current),n=_M(e,t.type);e!==n&&(di(ab,t),di(yu,n))}function vB(t){ab.current===t&&(yi(yu),yi(ab))}var Ri=ef(0);function u2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E_=[];function wB(){for(var t=0;t<E_.length;t++)E_[t]._workInProgressVersionPrimary=null;E_.length=0}var dS=Ad.ReactCurrentDispatcher,B_=Ad.ReactCurrentBatchConfig,bp=0,Fi=null,Rs=null,Zs=null,d2=!1,Ty=!1,cb=0,koe=0;function So(){throw Error(St(321))}function xB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$c(t[n],e[n]))return!1;return!0}function SB(t,e,n,r,i,s){if(bp=s,Fi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dS.current=t===null||t.memoizedState===null?Moe:Eoe,t=n(r,i),Ty){s=0;do{if(Ty=!1,cb=0,25<=s)throw Error(St(301));s+=1,Zs=Rs=null,e.updateQueue=null,dS.current=Boe,t=n(r,i)}while(Ty)}if(dS.current=h2,e=Rs!==null&&Rs.next!==null,bp=0,Zs=Rs=Fi=null,d2=!1,e)throw Error(St(300));return t}function CB(){var t=cb!==0;return cb=0,t}function nu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zs===null?Fi.memoizedState=Zs=t:Zs=Zs.next=t,Zs}function zl(){if(Rs===null){var t=Fi.alternate;t=t!==null?t.memoizedState:null}else t=Rs.next;var e=Zs===null?Fi.memoizedState:Zs.next;if(e!==null)Zs=e,Rs=t;else{if(t===null)throw Error(St(310));Rs=t,t={memoizedState:Rs.memoizedState,baseState:Rs.baseState,baseQueue:Rs.baseQueue,queue:Rs.queue,next:null},Zs===null?Fi.memoizedState=Zs=t:Zs=Zs.next=t}return Zs}function ub(t,e){return typeof e=="function"?e(t):e}function N_(t){var e=zl(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=Rs,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((bp&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Fi.lanes|=u,vp|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$c(r,e.memoizedState)||(ga=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fi.lanes|=s,vp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I_(t){var e=zl(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$c(s,e.memoizedState)||(ga=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DV(){}function FV(t,e){var n=Fi,r=zl(),i=e(),s=!$c(r.memoizedState,i);if(s&&(r.memoizedState=i,ga=!0),r=r.queue,kB(HV.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zs!==null&&Zs.memoizedState.tag&1){if(n.flags|=2048,db(9,$V.bind(null,n,r,i,e),void 0,null),eo===null)throw Error(St(349));bp&30||OV(n,e,i)}return i}function OV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fi.updateQueue,e===null?(e={lastEffect:null,stores:null},Fi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $V(t,e,n,r){e.value=n,e.getSnapshot=r,VV(e)&&zV(t)}function HV(t,e,n){return n(function(){VV(e)&&zV(t)})}function VV(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$c(t,n)}catch{return!0}}function zV(t){var e=wd(t,1);e!==null&&Ic(e,t,1,-1)}function ML(t){var e=nu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ub,lastRenderedState:t},e.queue=t,t=t.dispatch=_oe.bind(null,Fi,t),[e.memoizedState,t]}function db(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fi.updateQueue,e===null?(e={lastEffect:null,stores:null},Fi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WV(){return zl().memoizedState}function hS(t,e,n,r){var i=nu();Fi.flags|=t,i.memoizedState=db(1|e,n,void 0,r===void 0?null:r)}function LC(t,e,n,r){var i=zl();r=r===void 0?null:r;var s=void 0;if(Rs!==null){var o=Rs.memoizedState;if(s=o.destroy,r!==null&&xB(r,o.deps)){i.memoizedState=db(e,n,s,r);return}}Fi.flags|=t,i.memoizedState=db(1|e,n,s,r)}function EL(t,e){return hS(8390656,8,t,e)}function kB(t,e){return LC(2048,8,t,e)}function GV(t,e){return LC(4,2,t,e)}function UV(t,e){return LC(4,4,t,e)}function jV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YV(t,e,n){return n=n!=null?n.concat([t]):null,LC(4,4,jV.bind(null,e,t),n)}function TB(){}function XV(t,e){var n=zl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qV(t,e){var n=zl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KV(t,e,n){return bp&21?($c(n,e)||(n=ZH(),Fi.lanes|=n,vp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ga=!0),t.memoizedState=n)}function Toe(t,e){var n=Gr;Gr=n!==0&&4>n?n:4,t(!0);var r=B_.transition;B_.transition={};try{t(!1),e()}finally{Gr=n,B_.transition=r}}function QV(){return zl().memoizedState}function Poe(t,e,n){var r=Dh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JV(t))ZV(e,n);else if(n=EV(t,e,n,r),n!==null){var i=qo();Ic(n,t,r,i),ez(n,e,r)}}function _oe(t,e,n){var r=Dh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JV(t))ZV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$c(a,o)){var l=e.interleaved;l===null?(i.next=i,mB(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EV(t,e,i,r),n!==null&&(i=qo(),Ic(n,t,r,i),ez(n,e,r))}}function JV(t){var e=t.alternate;return t===Fi||e!==null&&e===Fi}function ZV(t,e){Ty=d2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ez(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nB(t,n)}}var h2={readContext:Vl,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},Moe={readContext:Vl,useCallback:function(t,e){return nu().memoizedState=[t,e===void 0?null:e],t},useContext:Vl,useEffect:EL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hS(4194308,4,jV.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hS(4194308,4,t,e)},useInsertionEffect:function(t,e){return hS(4,2,t,e)},useMemo:function(t,e){var n=nu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Poe.bind(null,Fi,t),[r.memoizedState,t]},useRef:function(t){var e=nu();return t={current:t},e.memoizedState=t},useState:ML,useDebugValue:TB,useDeferredValue:function(t){return nu().memoizedState=t},useTransition:function(){var t=ML(!1),e=t[0];return t=Toe.bind(null,t[1]),nu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fi,i=nu();if(_i){if(n===void 0)throw Error(St(407));n=n()}else{if(n=e(),eo===null)throw Error(St(349));bp&30||OV(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,EL(HV.bind(null,r,s,t),[t]),r.flags|=2048,db(9,$V.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nu(),e=eo.identifierPrefix;if(_i){var n=rd,r=nd;n=(r&~(1<<32-Nc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=koe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Eoe={readContext:Vl,useCallback:XV,useContext:Vl,useEffect:kB,useImperativeHandle:YV,useInsertionEffect:GV,useLayoutEffect:UV,useMemo:qV,useReducer:N_,useRef:WV,useState:function(){return N_(ub)},useDebugValue:TB,useDeferredValue:function(t){var e=zl();return KV(e,Rs.memoizedState,t)},useTransition:function(){var t=N_(ub)[0],e=zl().memoizedState;return[t,e]},useMutableSource:DV,useSyncExternalStore:FV,useId:QV,unstable_isNewReconciler:!1},Boe={readContext:Vl,useCallback:XV,useContext:Vl,useEffect:kB,useImperativeHandle:YV,useInsertionEffect:GV,useLayoutEffect:UV,useMemo:qV,useReducer:I_,useRef:WV,useState:function(){return I_(ub)},useDebugValue:TB,useDeferredValue:function(t){var e=zl();return Rs===null?e.memoizedState=t:KV(e,Rs.memoizedState,t)},useTransition:function(){var t=I_(ub)[0],e=zl().memoizedState;return[t,e]},useMutableSource:DV,useSyncExternalStore:FV,useId:QV,unstable_isNewReconciler:!1};function Ug(t,e){try{var n="",r=e;do n+=ise(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function A_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function KM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Noe=typeof WeakMap=="function"?WeakMap:Map;function tz(t,e,n){n=ud(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){p2||(p2=!0,oE=r),KM(t,e)},n}function nz(t,e,n){n=ud(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){KM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){KM(t,e),typeof r!="function"&&(Lh===null?Lh=new Set([this]):Lh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function BL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Noe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Uoe.bind(null,t,e,n),e.then(t,t))}function NL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ud(-1,1),e.tag=2,Rh(n,e,1))),n.lanes|=1),t)}var Ioe=Ad.ReactCurrentOwner,ga=!1;function zo(t,e,n,r){e.child=t===null?RV(e,null,n,r):Wg(e,t.child,n,r)}function AL(t,e,n,r,i){n=n.render;var s=e.ref;return Pg(e,i),r=SB(t,e,n,r,s,i),n=CB(),t!==null&&!ga?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xd(t,e,i)):(_i&&n&&uB(e),e.flags|=1,zo(t,e,r,i),e.child)}function RL(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!AB(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rz(t,e,s,r,i)):(t=mS(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rb,n(o,r)&&t.ref===e.ref)return xd(t,e,i)}return e.flags|=1,t=Fh(s,r),t.ref=e.ref,t.return=e,e.child=t}function rz(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rb(s,r)&&t.ref===e.ref)if(ga=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ga=!0);else return e.lanes=t.lanes,xd(t,e,i)}return QM(t,e,n,r,i)}function iz(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},di(hg,$a),$a|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,di(hg,$a),$a|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,di(hg,$a),$a|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,di(hg,$a),$a|=r;return zo(t,e,i,n),e.child}function sz(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function QM(t,e,n,r,i){var s=va(n)?mp:Eo.current;return s=Vg(e,s),Pg(e,i),n=SB(t,e,n,r,s,i),r=CB(),t!==null&&!ga?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xd(t,e,i)):(_i&&r&&uB(e),e.flags|=1,zo(t,e,n,i),e.child)}function LL(t,e,n,r,i){if(va(n)){var s=!0;i2(e)}else s=!1;if(Pg(e,i),e.stateNode===null)fS(t,e),IV(e,n,r),qM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vl(c):(c=va(n)?mp:Eo.current,c=Vg(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&PL(e,o,r,c),gh=!1;var h=e.memoizedState;o.state=h,c2(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ba.current||gh?(typeof u=="function"&&(XM(e,n,u,r),l=e.memoizedState),(a=gh||TL(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BV(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hc(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vl(l):(l=va(n)?mp:Eo.current,l=Vg(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&PL(e,o,r,l),gh=!1,h=e.memoizedState,o.state=h,c2(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||ba.current||gh?(typeof f=="function"&&(XM(e,n,f,r),p=e.memoizedState),(c=gh||TL(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return JM(t,e,n,r,s,i)}function JM(t,e,n,r,i,s){sz(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wL(e,n,!1),xd(t,e,s);r=e.stateNode,Ioe.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wg(e,t.child,null,s),e.child=Wg(e,null,a,s)):zo(t,e,a,s),e.memoizedState=r.state,i&&wL(e,n,!0),e.child}function oz(t){var e=t.stateNode;e.pendingContext?vL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vL(t,e.context,!1),bB(t,e.containerInfo)}function DL(t,e,n,r,i){return zg(),hB(i),e.flags|=256,zo(t,e,n,r),e.child}var ZM={dehydrated:null,treeContext:null,retryLane:0};function eE(t){return{baseLanes:t,cachePool:null,transitions:null}}function az(t,e,n){var r=e.pendingProps,i=Ri.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),di(Ri,i&1),t===null)return jM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=OC(o,r,0,null),t=lp(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=eE(n),e.memoizedState=ZM,t):PB(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Aoe(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fh(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fh(a,s):(s=lp(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?eE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ZM,r}return s=t.child,t=s.sibling,r=Fh(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function PB(t,e){return e=OC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cx(t,e,n,r){return r!==null&&hB(r),Wg(e,t.child,null,n),t=PB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Aoe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=A_(Error(St(422))),cx(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=OC({mode:"visible",children:r.children},i,0,null),s=lp(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wg(e,t.child,null,o),e.child.memoizedState=eE(o),e.memoizedState=ZM,s);if(!(e.mode&1))return cx(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(St(419)),r=A_(s,r,void 0),cx(t,e,o,r)}if(a=(o&t.childLanes)!==0,ga||a){if(r=eo,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wd(t,i),Ic(r,t,i,-1))}return IB(),r=A_(Error(St(421))),cx(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=joe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ja=Ah(i.nextSibling),qa=e,_i=!0,bc=null,t!==null&&(Cl[kl++]=nd,Cl[kl++]=rd,Cl[kl++]=yp,nd=t.id,rd=t.overflow,yp=e),e=PB(e,r.children),e.flags|=4096,e)}function FL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),YM(t.return,e,n)}function R_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lz(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zo(t,e,r.children,n),r=Ri.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FL(t,n,e);else if(t.tag===19)FL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(di(Ri,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&u2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),R_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&u2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}R_(e,!0,n,null,s);break;case"together":R_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,n=Fh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Roe(t,e,n){switch(e.tag){case 3:oz(e),zg();break;case 5:LV(e);break;case 1:va(e.type)&&i2(e);break;case 4:bB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;di(a2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(di(Ri,Ri.current&1),e.flags|=128,null):n&e.child.childLanes?az(t,e,n):(di(Ri,Ri.current&1),t=xd(t,e,n),t!==null?t.sibling:null);di(Ri,Ri.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lz(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Ri,Ri.current),r)break;return null;case 22:case 23:return e.lanes=0,iz(t,e,n)}return xd(t,e,n)}var cz,tE,uz,dz;cz=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tE=function(){};uz=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yf(yu.current);var s=null;switch(n){case"input":i=CM(t,i),r=CM(t,r),s=[];break;case"select":i=Oi({},i,{value:void 0}),r=Oi({},r,{value:void 0}),s=[];break;case"textarea":i=PM(t,i),r=PM(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=n2)}MM(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ky.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ky.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gi("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dz=function(t,e,n,r){n!==r&&(e.flags|=4)};function S1(t,e){if(!_i)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Co(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Loe(t,e,n){var r=e.pendingProps;switch(dB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(e),null;case 1:return va(e.type)&&r2(),Co(e),null;case 3:return r=e.stateNode,Gg(),yi(ba),yi(Eo),wB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ax(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bc!==null&&(cE(bc),bc=null))),tE(t,e),Co(e),null;case 5:vB(e);var i=Yf(lb.current);if(n=e.type,t!==null&&e.stateNode!=null)uz(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(St(166));return Co(e),null}if(t=Yf(yu.current),ax(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cu]=e,r[ob]=s,t=(e.mode&1)!==0,n){case"dialog":gi("cancel",r),gi("close",r);break;case"iframe":case"object":case"embed":gi("load",r);break;case"video":case"audio":for(i=0;i<oy.length;i++)gi(oy[i],r);break;case"source":gi("error",r);break;case"img":case"image":case"link":gi("error",r),gi("load",r);break;case"details":gi("toggle",r);break;case"input":jR(r,s),gi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gi("invalid",r);break;case"textarea":XR(r,s),gi("invalid",r)}MM(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ox(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ox(r.textContent,a,t),i=["children",""+a]):Ky.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gi("scroll",r)}switch(n){case"input":Jw(r),YR(r,s,!0);break;case"textarea":Jw(r),qR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=n2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OH(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cu]=e,t[ob]=r,cz(t,e,!1,!1),e.stateNode=t;e:{switch(o=EM(n,r),n){case"dialog":gi("cancel",t),gi("close",t),i=r;break;case"iframe":case"object":case"embed":gi("load",t),i=r;break;case"video":case"audio":for(i=0;i<oy.length;i++)gi(oy[i],t);i=r;break;case"source":gi("error",t),i=r;break;case"img":case"image":case"link":gi("error",t),gi("load",t),i=r;break;case"details":gi("toggle",t),i=r;break;case"input":jR(t,r),i=CM(t,r),gi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oi({},r,{value:void 0}),gi("invalid",t);break;case"textarea":XR(t,r),i=PM(t,r),gi("invalid",t);break;default:i=r}MM(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?VH(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$H(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qy(t,l):typeof l=="number"&&Qy(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ky.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gi("scroll",t):l!=null&&K5(t,s,l,o))}switch(n){case"input":Jw(t),YR(t,r,!1);break;case"textarea":Jw(t),qR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sg(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=n2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Co(e),null;case 6:if(t&&e.stateNode!=null)dz(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(St(166));if(n=Yf(lb.current),Yf(yu.current),ax(e)){if(r=e.stateNode,n=e.memoizedProps,r[cu]=e,(s=r.nodeValue!==n)&&(t=qa,t!==null))switch(t.tag){case 3:ox(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ox(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cu]=e,e.stateNode=r}return Co(e),null;case 13:if(yi(Ri),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_i&&ja!==null&&e.mode&1&&!(e.flags&128))MV(),zg(),e.flags|=98560,s=!1;else if(s=ax(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(St(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(St(317));s[cu]=e}else zg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Co(e),s=!1}else bc!==null&&(cE(bc),bc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ri.current&1?Ds===0&&(Ds=3):IB())),e.updateQueue!==null&&(e.flags|=4),Co(e),null);case 4:return Gg(),tE(t,e),t===null&&ib(e.stateNode.containerInfo),Co(e),null;case 10:return gB(e.type._context),Co(e),null;case 17:return va(e.type)&&r2(),Co(e),null;case 19:if(yi(Ri),s=e.memoizedState,s===null)return Co(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)S1(s,!1);else{if(Ds!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=u2(t),o!==null){for(e.flags|=128,S1(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return di(Ri,Ri.current&1|2),e.child}t=t.sibling}s.tail!==null&&cs()>jg&&(e.flags|=128,r=!0,S1(s,!1),e.lanes=4194304)}else{if(!r)if(t=u2(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),S1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_i)return Co(e),null}else 2*cs()-s.renderingStartTime>jg&&n!==1073741824&&(e.flags|=128,r=!0,S1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=cs(),e.sibling=null,n=Ri.current,di(Ri,r?n&1|2:n&1),e):(Co(e),null);case 22:case 23:return NB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$a&1073741824&&(Co(e),e.subtreeFlags&6&&(e.flags|=8192)):Co(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function Doe(t,e){switch(dB(e),e.tag){case 1:return va(e.type)&&r2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gg(),yi(ba),yi(Eo),wB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vB(e),null;case 13:if(yi(Ri),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));zg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yi(Ri),null;case 4:return Gg(),null;case 10:return gB(e.type._context),null;case 22:case 23:return NB(),null;case 24:return null;default:return null}}var ux=!1,Po=!1,Foe=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function dg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ji(t,e,r)}else n.current=null}function nE(t,e,n){try{n()}catch(r){ji(t,e,r)}}var OL=!1;function Ooe(t,e){if($M=ZS,t=gV(),cB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(HM={focusedElem:t,selectionRange:n},ZS=!1,Qt=e;Qt!==null;)if(e=Qt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qt=t;else for(;Qt!==null;){e=Qt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?m:hc(e.type,m),y);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(k){ji(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Qt=t;break}Qt=e.return}return p=OL,OL=!1,p}function Py(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nE(e,n,s)}i=i.next}while(i!==r)}}function DC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hz(t){var e=t.alternate;e!==null&&(t.alternate=null,hz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cu],delete e[ob],delete e[WM],delete e[woe],delete e[xoe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fz(t){return t.tag===5||t.tag===3||t.tag===4}function $L(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=n2));else if(r!==4&&(t=t.child,t!==null))for(iE(t,e,n),t=t.sibling;t!==null;)iE(t,e,n),t=t.sibling}function sE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sE(t,e,n),t=t.sibling;t!==null;)sE(t,e,n),t=t.sibling}var ao=null,pc=!1;function th(t,e,n){for(n=n.child;n!==null;)pz(t,e,n),n=n.sibling}function pz(t,e,n){if(mu&&typeof mu.onCommitFiberUnmount=="function")try{mu.onCommitFiberUnmount(MC,n)}catch{}switch(n.tag){case 5:Po||dg(n,e);case 6:var r=ao,i=pc;ao=null,th(t,e,n),ao=r,pc=i,ao!==null&&(pc?(t=ao,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ao.removeChild(n.stateNode));break;case 18:ao!==null&&(pc?(t=ao,n=n.stateNode,t.nodeType===8?__(t.parentNode,n):t.nodeType===1&&__(t,n),tb(t)):__(ao,n.stateNode));break;case 4:r=ao,i=pc,ao=n.stateNode.containerInfo,pc=!0,th(t,e,n),ao=r,pc=i;break;case 0:case 11:case 14:case 15:if(!Po&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nE(n,e,o),i=i.next}while(i!==r)}th(t,e,n);break;case 1:if(!Po&&(dg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ji(n,e,a)}th(t,e,n);break;case 21:th(t,e,n);break;case 22:n.mode&1?(Po=(r=Po)||n.memoizedState!==null,th(t,e,n),Po=r):th(t,e,n);break;default:th(t,e,n)}}function HL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Foe),e.forEach(function(r){var i=Yoe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ao=a.stateNode,pc=!1;break e;case 3:ao=a.stateNode.containerInfo,pc=!0;break e;case 4:ao=a.stateNode.containerInfo,pc=!0;break e}a=a.return}if(ao===null)throw Error(St(160));pz(s,o,i),ao=null,pc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ji(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gz(e,t),e=e.sibling}function gz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oc(e,t),Qc(t),r&4){try{Py(3,t,t.return),DC(3,t)}catch(m){ji(t,t.return,m)}try{Py(5,t,t.return)}catch(m){ji(t,t.return,m)}}break;case 1:oc(e,t),Qc(t),r&512&&n!==null&&dg(n,n.return);break;case 5:if(oc(e,t),Qc(t),r&512&&n!==null&&dg(n,n.return),t.flags&32){var i=t.stateNode;try{Qy(i,"")}catch(m){ji(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DH(i,s),EM(a,o);var c=EM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?VH(i,d):u==="dangerouslySetInnerHTML"?$H(i,d):u==="children"?Qy(i,d):K5(i,u,d,c)}switch(a){case"input":kM(i,s);break;case"textarea":FH(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Sg(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Sg(i,!!s.multiple,s.defaultValue,!0):Sg(i,!!s.multiple,s.multiple?[]:"",!1))}i[ob]=s}catch(m){ji(t,t.return,m)}}break;case 6:if(oc(e,t),Qc(t),r&4){if(t.stateNode===null)throw Error(St(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ji(t,t.return,m)}}break;case 3:if(oc(e,t),Qc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tb(e.containerInfo)}catch(m){ji(t,t.return,m)}break;case 4:oc(e,t),Qc(t);break;case 13:oc(e,t),Qc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(EB=cs())),r&4&&HL(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Po=(c=Po)||u,oc(e,t),Po=c):oc(e,t),Qc(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Qt=t,u=t.child;u!==null;){for(d=Qt=u;Qt!==null;){switch(h=Qt,f=h.child,h.tag){case 0:case 11:case 14:case 15:Py(4,h,h.return);break;case 1:dg(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ji(r,n,m)}}break;case 5:dg(h,h.return);break;case 22:if(h.memoizedState!==null){zL(d);continue}}f!==null?(f.return=h,Qt=f):zL(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HH("display",o))}catch(m){ji(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ji(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oc(e,t),Qc(t),r&4&&HL(t);break;case 21:break;default:oc(e,t),Qc(t)}}function Qc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fz(n)){var r=n;break e}n=n.return}throw Error(St(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qy(i,""),r.flags&=-33);var s=$L(t);sE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$L(t);iE(t,a,o);break;default:throw Error(St(161))}}catch(l){ji(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $oe(t,e,n){Qt=t,mz(t)}function mz(t,e,n){for(var r=(t.mode&1)!==0;Qt!==null;){var i=Qt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ux;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Po;a=ux;var c=Po;if(ux=o,(Po=l)&&!c)for(Qt=i;Qt!==null;)o=Qt,l=o.child,o.tag===22&&o.memoizedState!==null?WL(i):l!==null?(l.return=o,Qt=l):WL(i);for(;s!==null;)Qt=s,mz(s),s=s.sibling;Qt=i,ux=a,Po=c}VL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qt=s):VL(t)}}function VL(t){for(;Qt!==null;){var e=Qt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Po||DC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Po)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kL(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kL(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&tb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Po||e.flags&512&&rE(e)}catch(h){ji(e,e.return,h)}}if(e===t){Qt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qt=n;break}Qt=e.return}}function zL(t){for(;Qt!==null;){var e=Qt;if(e===t){Qt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qt=n;break}Qt=e.return}}function WL(t){for(;Qt!==null;){var e=Qt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{DC(4,e)}catch(l){ji(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ji(e,i,l)}}var s=e.return;try{rE(e)}catch(l){ji(e,s,l)}break;case 5:var o=e.return;try{rE(e)}catch(l){ji(e,o,l)}}}catch(l){ji(e,e.return,l)}if(e===t){Qt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qt=a;break}Qt=e.return}}var Hoe=Math.ceil,f2=Ad.ReactCurrentDispatcher,_B=Ad.ReactCurrentOwner,Ol=Ad.ReactCurrentBatchConfig,kr=0,eo=null,Ts=null,mo=0,$a=0,hg=ef(0),Ds=0,hb=null,vp=0,FC=0,MB=0,_y=null,da=null,EB=0,jg=1/0,Yu=null,p2=!1,oE=null,Lh=null,dx=!1,Ch=null,g2=0,My=0,aE=null,pS=-1,gS=0;function qo(){return kr&6?cs():pS!==-1?pS:pS=cs()}function Dh(t){return t.mode&1?kr&2&&mo!==0?mo&-mo:Coe.transition!==null?(gS===0&&(gS=ZH()),gS):(t=Gr,t!==0||(t=window.event,t=t===void 0?16:oV(t.type)),t):1}function Ic(t,e,n,r){if(50<My)throw My=0,aE=null,Error(St(185));mv(t,n,r),(!(kr&2)||t!==eo)&&(t===eo&&(!(kr&2)&&(FC|=n),Ds===4&&vh(t,mo)),wa(t,r),n===1&&kr===0&&!(e.mode&1)&&(jg=cs()+500,AC&&tf()))}function wa(t,e){var n=t.callbackNode;Cse(t,e);var r=JS(t,t===eo?mo:0);if(r===0)n!==null&&JR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&JR(n),e===1)t.tag===0?Soe(GL.bind(null,t)):TV(GL.bind(null,t)),boe(function(){!(kr&6)&&tf()}),n=null;else{switch(eV(r)){case 1:n=tB;break;case 4:n=QH;break;case 16:n=QS;break;case 536870912:n=JH;break;default:n=QS}n=kz(n,yz.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yz(t,e){if(pS=-1,gS=0,kr&6)throw Error(St(327));var n=t.callbackNode;if(_g()&&t.callbackNode!==n)return null;var r=JS(t,t===eo?mo:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=m2(t,r);else{e=r;var i=kr;kr|=2;var s=vz();(eo!==t||mo!==e)&&(Yu=null,jg=cs()+500,ap(t,e));do try{Woe();break}catch(a){bz(t,a)}while(!0);pB(),f2.current=s,kr=i,Ts!==null?e=0:(eo=null,mo=0,e=Ds)}if(e!==0){if(e===2&&(i=RM(t),i!==0&&(r=i,e=lE(t,i))),e===1)throw n=hb,ap(t,0),vh(t,r),wa(t,cs()),n;if(e===6)vh(t,r);else{if(i=t.current.alternate,!(r&30)&&!Voe(i)&&(e=m2(t,r),e===2&&(s=RM(t),s!==0&&(r=s,e=lE(t,s))),e===1))throw n=hb,ap(t,0),vh(t,r),wa(t,cs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(St(345));case 2:Rf(t,da,Yu);break;case 3:if(vh(t,r),(r&130023424)===r&&(e=EB+500-cs(),10<e)){if(JS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zM(Rf.bind(null,t,da,Yu),e);break}Rf(t,da,Yu);break;case 4:if(vh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=cs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hoe(r/1960))-r,10<r){t.timeoutHandle=zM(Rf.bind(null,t,da,Yu),r);break}Rf(t,da,Yu);break;case 5:Rf(t,da,Yu);break;default:throw Error(St(329))}}}return wa(t,cs()),t.callbackNode===n?yz.bind(null,t):null}function lE(t,e){var n=_y;return t.current.memoizedState.isDehydrated&&(ap(t,e).flags|=256),t=m2(t,e),t!==2&&(e=da,da=n,e!==null&&cE(e)),t}function cE(t){da===null?da=t:da.push.apply(da,t)}function Voe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$c(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vh(t,e){for(e&=~MB,e&=~FC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nc(e),r=1<<n;t[n]=-1,e&=~r}}function GL(t){if(kr&6)throw Error(St(327));_g();var e=JS(t,0);if(!(e&1))return wa(t,cs()),null;var n=m2(t,e);if(t.tag!==0&&n===2){var r=RM(t);r!==0&&(e=r,n=lE(t,r))}if(n===1)throw n=hb,ap(t,0),vh(t,e),wa(t,cs()),n;if(n===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rf(t,da,Yu),wa(t,cs()),null}function BB(t,e){var n=kr;kr|=1;try{return t(e)}finally{kr=n,kr===0&&(jg=cs()+500,AC&&tf())}}function wp(t){Ch!==null&&Ch.tag===0&&!(kr&6)&&_g();var e=kr;kr|=1;var n=Ol.transition,r=Gr;try{if(Ol.transition=null,Gr=1,t)return t()}finally{Gr=r,Ol.transition=n,kr=e,!(kr&6)&&tf()}}function NB(){$a=hg.current,yi(hg)}function ap(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yoe(n)),Ts!==null)for(n=Ts.return;n!==null;){var r=n;switch(dB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&r2();break;case 3:Gg(),yi(ba),yi(Eo),wB();break;case 5:vB(r);break;case 4:Gg();break;case 13:yi(Ri);break;case 19:yi(Ri);break;case 10:gB(r.type._context);break;case 22:case 23:NB()}n=n.return}if(eo=t,Ts=t=Fh(t.current,null),mo=$a=e,Ds=0,hb=null,MB=FC=vp=0,da=_y=null,jf!==null){for(e=0;e<jf.length;e++)if(n=jf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jf=null}return t}function bz(t,e){do{var n=Ts;try{if(pB(),dS.current=h2,d2){for(var r=Fi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}d2=!1}if(bp=0,Zs=Rs=Fi=null,Ty=!1,cb=0,_B.current=null,n===null||n.return===null){Ds=1,hb=e,Ts=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=NL(o);if(f!==null){f.flags&=-257,IL(f,o,a,s,e),f.mode&1&&BL(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){BL(s,c,e),IB();break e}l=Error(St(426))}}else if(_i&&a.mode&1){var y=NL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),IL(y,o,a,s,e),hB(Ug(l,a));break e}}s=l=Ug(l,a),Ds!==4&&(Ds=2),_y===null?_y=[s]:_y.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=tz(s,l,e);CL(s,S);break e;case 1:a=l;var w=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lh===null||!Lh.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=nz(s,a,e);CL(s,k);break e}}s=s.return}while(s!==null)}xz(n)}catch(P){e=P,Ts===n&&n!==null&&(Ts=n=n.return);continue}break}while(!0)}function vz(){var t=f2.current;return f2.current=h2,t===null?h2:t}function IB(){(Ds===0||Ds===3||Ds===2)&&(Ds=4),eo===null||!(vp&268435455)&&!(FC&268435455)||vh(eo,mo)}function m2(t,e){var n=kr;kr|=2;var r=vz();(eo!==t||mo!==e)&&(Yu=null,ap(t,e));do try{zoe();break}catch(i){bz(t,i)}while(!0);if(pB(),kr=n,f2.current=r,Ts!==null)throw Error(St(261));return eo=null,mo=0,Ds}function zoe(){for(;Ts!==null;)wz(Ts)}function Woe(){for(;Ts!==null&&!pse();)wz(Ts)}function wz(t){var e=Cz(t.alternate,t,$a);t.memoizedProps=t.pendingProps,e===null?xz(t):Ts=e,_B.current=null}function xz(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Doe(n,e),n!==null){n.flags&=32767,Ts=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ds=6,Ts=null;return}}else if(n=Loe(n,e,$a),n!==null){Ts=n;return}if(e=e.sibling,e!==null){Ts=e;return}Ts=e=t}while(e!==null);Ds===0&&(Ds=5)}function Rf(t,e,n){var r=Gr,i=Ol.transition;try{Ol.transition=null,Gr=1,Goe(t,e,n,r)}finally{Ol.transition=i,Gr=r}return null}function Goe(t,e,n,r){do _g();while(Ch!==null);if(kr&6)throw Error(St(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kse(t,s),t===eo&&(Ts=eo=null,mo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dx||(dx=!0,kz(QS,function(){return _g(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ol.transition,Ol.transition=null;var o=Gr;Gr=1;var a=kr;kr|=4,_B.current=null,Ooe(t,n),gz(n,t),uoe(HM),ZS=!!$M,HM=$M=null,t.current=n,$oe(n),gse(),kr=a,Gr=o,Ol.transition=s}else t.current=n;if(dx&&(dx=!1,Ch=t,g2=i),s=t.pendingLanes,s===0&&(Lh=null),bse(n.stateNode),wa(t,cs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(p2)throw p2=!1,t=oE,oE=null,t;return g2&1&&t.tag!==0&&_g(),s=t.pendingLanes,s&1?t===aE?My++:(My=0,aE=t):My=0,tf(),null}function _g(){if(Ch!==null){var t=eV(g2),e=Ol.transition,n=Gr;try{if(Ol.transition=null,Gr=16>t?16:t,Ch===null)var r=!1;else{if(t=Ch,Ch=null,g2=0,kr&6)throw Error(St(331));var i=kr;for(kr|=4,Qt=t.current;Qt!==null;){var s=Qt,o=s.child;if(Qt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Qt=c;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:Py(8,u,s)}var d=u.child;if(d!==null)d.return=u,Qt=d;else for(;Qt!==null;){u=Qt;var h=u.sibling,f=u.return;if(hz(u),u===c){Qt=null;break}if(h!==null){h.return=f,Qt=h;break}Qt=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Qt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qt=o;else e:for(;Qt!==null;){if(s=Qt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Py(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Qt=S;break e}Qt=s.return}}var w=t.current;for(Qt=w;Qt!==null;){o=Qt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Qt=v;else e:for(o=w;Qt!==null;){if(a=Qt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:DC(9,a)}}catch(P){ji(a,a.return,P)}if(a===o){Qt=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Qt=k;break e}Qt=a.return}}if(kr=i,tf(),mu&&typeof mu.onPostCommitFiberRoot=="function")try{mu.onPostCommitFiberRoot(MC,t)}catch{}r=!0}return r}finally{Gr=n,Ol.transition=e}}return!1}function UL(t,e,n){e=Ug(n,e),e=tz(t,e,1),t=Rh(t,e,1),e=qo(),t!==null&&(mv(t,1,e),wa(t,e))}function ji(t,e,n){if(t.tag===3)UL(t,t,n);else for(;e!==null;){if(e.tag===3){UL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lh===null||!Lh.has(r))){t=Ug(n,t),t=nz(e,t,1),e=Rh(e,t,1),t=qo(),e!==null&&(mv(e,1,t),wa(e,t));break}}e=e.return}}function Uoe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qo(),t.pingedLanes|=t.suspendedLanes&n,eo===t&&(mo&n)===n&&(Ds===4||Ds===3&&(mo&130023424)===mo&&500>cs()-EB?ap(t,0):MB|=n),wa(t,e)}function Sz(t,e){e===0&&(t.mode&1?(e=tx,tx<<=1,!(tx&130023424)&&(tx=4194304)):e=1);var n=qo();t=wd(t,e),t!==null&&(mv(t,e,n),wa(t,n))}function joe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sz(t,n)}function Yoe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(St(314))}r!==null&&r.delete(e),Sz(t,n)}var Cz;Cz=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ba.current)ga=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ga=!1,Roe(t,e,n);ga=!!(t.flags&131072)}else ga=!1,_i&&e.flags&1048576&&PV(e,o2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fS(t,e),t=e.pendingProps;var i=Vg(e,Eo.current);Pg(e,n),i=SB(null,e,r,t,i,n);var s=CB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,va(r)?(s=!0,i2(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yB(e),i.updater=RC,e.stateNode=i,i._reactInternals=e,qM(e,r,t,n),e=JM(null,e,r,!0,s,n)):(e.tag=0,_i&&s&&uB(e),zo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fS(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qoe(r),t=hc(r,t),i){case 0:e=QM(null,e,r,t,n);break e;case 1:e=LL(null,e,r,t,n);break e;case 11:e=AL(null,e,r,t,n);break e;case 14:e=RL(null,e,r,hc(r.type,t),n);break e}throw Error(St(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),QM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),LL(t,e,r,i,n);case 3:e:{if(oz(e),t===null)throw Error(St(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BV(t,e),c2(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ug(Error(St(423)),e),e=DL(t,e,r,n,i);break e}else if(r!==i){i=Ug(Error(St(424)),e),e=DL(t,e,r,n,i);break e}else for(ja=Ah(e.stateNode.containerInfo.firstChild),qa=e,_i=!0,bc=null,n=RV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zg(),r===i){e=xd(t,e,n);break e}zo(t,e,r,n)}e=e.child}return e;case 5:return LV(e),t===null&&jM(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,VM(r,i)?o=null:s!==null&&VM(r,s)&&(e.flags|=32),sz(t,e),zo(t,e,o,n),e.child;case 6:return t===null&&jM(e),null;case 13:return az(t,e,n);case 4:return bB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wg(e,null,r,n):zo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),AL(t,e,r,i,n);case 7:return zo(t,e,e.pendingProps,n),e.child;case 8:return zo(t,e,e.pendingProps.children,n),e.child;case 12:return zo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,di(a2,r._currentValue),r._currentValue=o,s!==null)if($c(s.value,o)){if(s.children===i.children&&!ba.current){e=xd(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ud(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),YM(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(St(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),YM(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pg(e,n),i=Vl(i),r=r(i),e.flags|=1,zo(t,e,r,n),e.child;case 14:return r=e.type,i=hc(r,e.pendingProps),i=hc(r.type,i),RL(t,e,r,i,n);case 15:return rz(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),fS(t,e),e.tag=1,va(r)?(t=!0,i2(e)):t=!1,Pg(e,n),IV(e,r,i),qM(e,r,i,n),JM(null,e,r,!0,t,n);case 19:return lz(t,e,n);case 22:return iz(t,e,n)}throw Error(St(156,e.tag))};function kz(t,e){return KH(t,e)}function Xoe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(t,e,n,r){return new Xoe(t,e,n,r)}function AB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qoe(t){if(typeof t=="function")return AB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J5)return 11;if(t===Z5)return 14}return 2}function Fh(t,e){var n=t.alternate;return n===null?(n=Al(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mS(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")AB(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ng:return lp(n.children,i,s,e);case Q5:o=8,i|=8;break;case vM:return t=Al(12,n,e,i|2),t.elementType=vM,t.lanes=s,t;case wM:return t=Al(13,n,e,i),t.elementType=wM,t.lanes=s,t;case xM:return t=Al(19,n,e,i),t.elementType=xM,t.lanes=s,t;case AH:return OC(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NH:o=10;break e;case IH:o=9;break e;case J5:o=11;break e;case Z5:o=14;break e;case ph:o=16,r=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=Al(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lp(t,e,n,r){return t=Al(7,t,r,e),t.lanes=n,t}function OC(t,e,n,r){return t=Al(22,t,r,e),t.elementType=AH,t.lanes=n,t.stateNode={isHidden:!1},t}function L_(t,e,n){return t=Al(6,t,null,e),t.lanes=n,t}function D_(t,e,n){return e=Al(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Koe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m_(0),this.expirationTimes=m_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RB(t,e,n,r,i,s,o,a,l){return t=new Koe(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Al(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yB(s),t}function Qoe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tz(t){if(!t)return Uh;t=t._reactInternals;e:{if(Vp(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(va(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var n=t.type;if(va(n))return kV(t,n,e)}return e}function Pz(t,e,n,r,i,s,o,a,l){return t=RB(n,r,!0,t,i,s,o,a,l),t.context=Tz(null),n=t.current,r=qo(),i=Dh(n),s=ud(r,i),s.callback=e??null,Rh(n,s,i),t.current.lanes=i,mv(t,i,r),wa(t,r),t}function $C(t,e,n,r){var i=e.current,s=qo(),o=Dh(i);return n=Tz(n),e.context===null?e.context=n:e.pendingContext=n,e=ud(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rh(i,e,o),t!==null&&(Ic(t,i,o,s),uS(t,i,o)),o}function y2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LB(t,e){jL(t,e),(t=t.alternate)&&jL(t,e)}function Joe(){return null}var _z=typeof reportError=="function"?reportError:function(t){console.error(t)};function DB(t){this._internalRoot=t}HC.prototype.render=DB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));$C(t,e,null,null)};HC.prototype.unmount=DB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wp(function(){$C(null,t,null,null)}),e[vd]=null}};function HC(t){this._internalRoot=t}HC.prototype.unstable_scheduleHydration=function(t){if(t){var e=rV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bh.length&&e!==0&&e<bh[n].priority;n++);bh.splice(n,0,t),n===0&&sV(t)}};function FB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function VC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YL(){}function Zoe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=y2(o);s.call(c)}}var o=Pz(e,r,t,0,null,!1,!1,"",YL);return t._reactRootContainer=o,t[vd]=o.current,ib(t.nodeType===8?t.parentNode:t),wp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=y2(l);a.call(c)}}var l=RB(t,0,!1,null,null,!1,!1,"",YL);return t._reactRootContainer=l,t[vd]=l.current,ib(t.nodeType===8?t.parentNode:t),wp(function(){$C(e,l,n,r)}),l}function zC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=y2(o);a.call(l)}}$C(e,o,t,i)}else o=Zoe(n,e,t,i,r);return y2(o)}tV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sy(e.pendingLanes);n!==0&&(nB(e,n|1),wa(e,cs()),!(kr&6)&&(jg=cs()+500,tf()))}break;case 13:wp(function(){var r=wd(t,1);if(r!==null){var i=qo();Ic(r,t,1,i)}}),LB(t,1)}};rB=function(t){if(t.tag===13){var e=wd(t,134217728);if(e!==null){var n=qo();Ic(e,t,134217728,n)}LB(t,134217728)}};nV=function(t){if(t.tag===13){var e=Dh(t),n=wd(t,e);if(n!==null){var r=qo();Ic(n,t,e,r)}LB(t,e)}};rV=function(){return Gr};iV=function(t,e){var n=Gr;try{return Gr=t,e()}finally{Gr=n}};NM=function(t,e,n){switch(e){case"input":if(kM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=IC(r);if(!i)throw Error(St(90));LH(r),kM(r,i)}}}break;case"textarea":FH(t,n);break;case"select":e=n.value,e!=null&&Sg(t,!!n.multiple,e,!1)}};GH=BB;UH=wp;var eae={usingClientEntryPoint:!1,Events:[bv,og,IC,zH,WH,BB]},C1={findFiberByHostInstance:Uf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tae={bundleType:C1.bundleType,version:C1.version,rendererPackageName:C1.rendererPackageName,rendererConfig:C1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ad.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XH(t),t===null?null:t.stateNode},findFiberByHostInstance:C1.findFiberByHostInstance||Joe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{MC=hx.inject(tae),mu=hx}catch{}}rl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eae;rl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FB(e))throw Error(St(200));return Qoe(t,e,null,n)};rl.createRoot=function(t,e){if(!FB(t))throw Error(St(299));var n=!1,r="",i=_z;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=RB(t,1,!1,null,null,n,!1,r,i),t[vd]=e.current,ib(t.nodeType===8?t.parentNode:t),new DB(e)};rl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=XH(e),t=t===null?null:t.stateNode,t};rl.flushSync=function(t){return wp(t)};rl.hydrate=function(t,e,n){if(!VC(e))throw Error(St(200));return zC(null,t,e,!0,n)};rl.hydrateRoot=function(t,e,n){if(!FB(t))throw Error(St(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_z;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pz(e,null,t,1,n??null,i,!1,s,o),t[vd]=e.current,ib(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new HC(e)};rl.render=function(t,e,n){if(!VC(e))throw Error(St(200));return zC(null,t,e,!1,n)};rl.unmountComponentAtNode=function(t){if(!VC(t))throw Error(St(40));return t._reactRootContainer?(wp(function(){zC(null,null,t,!1,function(){t._reactRootContainer=null,t[vd]=null})}),!0):!1};rl.unstable_batchedUpdates=BB;rl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!VC(n))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return zC(t,e,n,!1,r)};rl.version="18.2.0-next-9e3b772b8-20220608";function Mz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mz)}catch(t){console.error(t)}}Mz(),PH.exports=rl;var _m=PH.exports;const ay=Pa(_m),nae=gH({__proto__:null,default:ay},[_m]);var XL=_m;yM.createRoot=XL.createRoot,yM.hydrateRoot=XL.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yi.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const qL="popstate";function rae(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Nu(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fb("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Sp(s))}function r(i,s){xp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return sae(e,n,r,t)}function hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iae(){return Math.random().toString(36).substr(2,8)}function KL(t,e){return{usr:t.state,key:t.key,idx:e}}function fb(t,e,n,r){return n===void 0&&(n=null),Yi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:n,key:e&&e.key||r||iae()})}function Sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sae(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=os.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Yi({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=os.Pop;let y=u(),S=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:S})}function h(y,S){a=os.Push;let w=fb(m.location,y,S);n&&n(w,y),c=u()+1;let v=KL(w,c),k=m.createHref(w);try{o.pushState(v,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}s&&l&&l({action:a,location:m.location,delta:1})}function f(y,S){a=os.Replace;let w=fb(m.location,y,S);n&&n(w,y),c=u();let v=KL(w,c),k=m.createHref(w);o.replaceState(v,"",k),s&&l&&l({action:a,location:m.location,delta:0})}function p(y){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Sp(y);return w=w.replace(/ $/,"%20"),hr(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let m={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qL,d),l=y,()=>{i.removeEventListener(qL,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let S=p(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:h,replace:f,go(y){return o.go(y)}};return m}var Gi;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gi||(Gi={}));const oae=new Set(["lazy","caseSensitive","path","id","index","children"]);function aae(t){return t.index===!0}function uE(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(hr(i.index!==!0||!i.children,"Cannot specify children on an index route"),hr(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),aae(i)){let l=Yi({},i,e(i),{id:a});return r[a]=l,l}else{let l=Yi({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=uE(i.children,e,o,r)),l}})}function fg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Nu(e):e,i=Mm(r.pathname||"/",n);if(i==null)return null;let s=Ez(t);cae(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=xae(i);o=bae(s[a],l)}return o}function lae(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Ez(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(hr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=dd([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(hr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ez(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:mae(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Bz(s.path))i(s,o,l)}),e}function Bz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Bz(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yae(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uae=/^:[\w-]+$/,dae=3,hae=2,fae=1,pae=10,gae=-2,QL=t=>t==="*";function mae(t,e){let n=t.split("/"),r=n.length;return n.some(QL)&&(r+=gae),e&&(r+=hae),n.filter(i=>!QL(i)).reduce((i,s)=>i+(uae.test(s)?dae:s===""?fae:pae),r)}function yae(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bae(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=vae({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:dd([i,u.pathname]),pathnameBase:kae(dd([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=dd([i,u.pathnameBase]))}return s}function vae(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wae(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wae(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sae(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nu(t):t;return{pathname:n?n.startsWith("/")?n:Cae(n,e):e,search:Tae(r),hash:Pae(i)}}function Cae(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function F_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OB(t,e){let n=Nz(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $B(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nu(t):(i=Yi({},t),hr(!i.pathname||!i.pathname.includes("?"),F_("?","pathname","search",i)),hr(!i.pathname||!i.pathname.includes("#"),F_("#","pathname","hash",i)),hr(!i.search||!i.search.includes("#"),F_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Sae(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const dd=t=>t.join("/").replace(/\/\/+/g,"/"),kae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class HB{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Iz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Az=["post","put","patch","delete"],_ae=new Set(Az),Mae=["get",...Az],Eae=new Set(Mae),Bae=new Set([301,302,303,307,308]),Nae=new Set([307,308]),O_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},k1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aae=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Lz="remix-router-transitions";function Rae(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;hr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let _e=t.detectErrorBoundary;i=Ne=>({hasErrorBoundary:_e(Ne)})}else i=Aae;let s={},o=uE(t.routes,i,void 0,s),a,l=t.basename||"/",c=Yi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,h=null,f=null,p=null,m=t.hydrationData!=null,y=fg(o,t.history.location,l),S=null;if(y==null){let _e=bl(404,{pathname:t.history.location.pathname}),{matches:Ne,route:Ye}=sD(o);y=Ne,S={[Ye.id]:_e}}let w,v=y.some(_e=>_e.route.lazy),k=y.some(_e=>_e.route.loader);if(v)w=!1;else if(!k)w=!0;else if(c.v7_partialHydration){let _e=t.hydrationData?t.hydrationData.loaderData:null,Ne=t.hydrationData?t.hydrationData.errors:null,Ye=ct=>ct.route.loader?ct.route.loader.hydrate===!0?!1:_e&&_e[ct.route.id]!==void 0||Ne&&Ne[ct.route.id]!==void 0:!0;if(Ne){let ct=y.findIndex(Bt=>Ne[Bt.route.id]!==void 0);w=y.slice(0,ct+1).every(Ye)}else w=y.every(Ye)}else w=t.hydrationData!=null;let P,T={historyAction:t.history.action,location:t.history.location,matches:y,initialized:w,navigation:O_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},_=os.Pop,E=!1,I,R=!1,F=new Map,B=null,D=!1,A=!1,N=[],L=[],H=new Map,O=0,G=-1,j=new Map,J=new Set,Z=new Map,ae=new Map,z=new Set,$=new Map,W=new Map,oe=!1;function X(){if(u=t.history.listen(_e=>{let{action:Ne,location:Ye,delta:ct}=_e;if(oe){oe=!1;return}xp(W.size===0||ct!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Bt=He({currentLocation:T.location,nextLocation:Ye,historyAction:Ne});if(Bt&&ct!=null){oe=!0,t.history.go(ct*-1),Fe(Bt,{state:"blocked",location:Ye,proceed(){Fe(Bt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),t.history.go(ct)},reset(){let en=new Map(T.blockers);en.set(Bt,k1),le({blockers:en})}});return}return ue(Ne,Ye)}),n){Uae(e,F);let _e=()=>jae(e,F);e.addEventListener("pagehide",_e),B=()=>e.removeEventListener("pagehide",_e)}return T.initialized||ue(os.Pop,T.location,{initialHydration:!0}),P}function K(){u&&u(),B&&B(),d.clear(),I&&I.abort(),T.fetchers.forEach((_e,Ne)=>$e(Ne)),T.blockers.forEach((_e,Ne)=>et(Ne))}function Y(_e){return d.add(_e),()=>d.delete(_e)}function le(_e,Ne){Ne===void 0&&(Ne={}),T=Yi({},T,_e);let Ye=[],ct=[];c.v7_fetcherPersist&&T.fetchers.forEach((Bt,en)=>{Bt.state==="idle"&&(z.has(en)?ct.push(en):Ye.push(en))}),[...d].forEach(Bt=>Bt(T,{deletedFetchers:ct,unstable_viewTransitionOpts:Ne.viewTransitionOpts,unstable_flushSync:Ne.flushSync===!0})),c.v7_fetcherPersist&&(Ye.forEach(Bt=>T.fetchers.delete(Bt)),ct.forEach(Bt=>$e(Bt)))}function ie(_e,Ne,Ye){var ct,Bt;let{flushSync:en}=Ye===void 0?{}:Ye,Ft=T.actionData!=null&&T.navigation.formMethod!=null&&gc(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ct=_e.state)==null?void 0:ct._isRedirect)!==!0,At;Ne.actionData?Object.keys(Ne.actionData).length>0?At=Ne.actionData:At=null:Ft?At=T.actionData:At=null;let yt=Ne.loaderData?iD(T.loaderData,Ne.loaderData,Ne.matches||[],Ne.errors):T.loaderData,Ut=T.blockers;Ut.size>0&&(Ut=new Map(Ut),Ut.forEach((Rn,$n)=>Ut.set($n,k1)));let kn=E===!0||T.navigation.formMethod!=null&&gc(T.navigation.formMethod)&&((Bt=_e.state)==null?void 0:Bt._isRedirect)!==!0;a&&(o=a,a=void 0),D||_===os.Pop||(_===os.Push?t.history.push(_e,_e.state):_===os.Replace&&t.history.replace(_e,_e.state));let Yt;if(_===os.Pop){let Rn=F.get(T.location.pathname);Rn&&Rn.has(_e.pathname)?Yt={currentLocation:T.location,nextLocation:_e}:F.has(_e.pathname)&&(Yt={currentLocation:_e,nextLocation:T.location})}else if(R){let Rn=F.get(T.location.pathname);Rn?Rn.add(_e.pathname):(Rn=new Set([_e.pathname]),F.set(T.location.pathname,Rn)),Yt={currentLocation:T.location,nextLocation:_e}}le(Yi({},Ne,{actionData:At,loaderData:yt,historyAction:_,location:_e,initialized:!0,navigation:O_,revalidation:"idle",restoreScrollPosition:Jt(_e,Ne.matches||T.matches),preventScrollReset:kn,blockers:Ut}),{viewTransitionOpts:Yt,flushSync:en===!0}),_=os.Pop,E=!1,R=!1,D=!1,A=!1,N=[],L=[]}async function re(_e,Ne){if(typeof _e=="number"){t.history.go(_e);return}let Ye=dE(T.location,T.matches,l,c.v7_prependBasename,_e,c.v7_relativeSplatPath,Ne==null?void 0:Ne.fromRouteId,Ne==null?void 0:Ne.relative),{path:ct,submission:Bt,error:en}=JL(c.v7_normalizeFormMethod,!1,Ye,Ne),Ft=T.location,At=fb(T.location,ct,Ne&&Ne.state);At=Yi({},At,t.history.encodeLocation(At));let yt=Ne&&Ne.replace!=null?Ne.replace:void 0,Ut=os.Push;yt===!0?Ut=os.Replace:yt===!1||Bt!=null&&gc(Bt.formMethod)&&Bt.formAction===T.location.pathname+T.location.search&&(Ut=os.Replace);let kn=Ne&&"preventScrollReset"in Ne?Ne.preventScrollReset===!0:void 0,Yt=(Ne&&Ne.unstable_flushSync)===!0,Rn=He({currentLocation:Ft,nextLocation:At,historyAction:Ut});if(Rn){Fe(Rn,{state:"blocked",location:At,proceed(){Fe(Rn,{state:"proceeding",proceed:void 0,reset:void 0,location:At}),re(_e,Ne)},reset(){let $n=new Map(T.blockers);$n.set(Rn,k1),le({blockers:$n})}});return}return await ue(Ut,At,{submission:Bt,pendingError:en,preventScrollReset:kn,replace:Ne&&Ne.replace,enableViewTransition:Ne&&Ne.unstable_viewTransition,flushSync:Yt})}function se(){if(Ie(),le({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){ue(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}ue(_||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function ue(_e,Ne,Ye){I&&I.abort(),I=null,_=_e,D=(Ye&&Ye.startUninterruptedRevalidation)===!0,Gt(T.location,T.matches),E=(Ye&&Ye.preventScrollReset)===!0,R=(Ye&&Ye.enableViewTransition)===!0;let ct=a||o,Bt=Ye&&Ye.overrideNavigation,en=fg(ct,Ne,l),Ft=(Ye&&Ye.flushSync)===!0;if(!en){let $n=bl(404,{pathname:Ne.pathname}),{matches:Xr,route:vr}=sD(ct);ot(),ie(Ne,{matches:Xr,loaderData:{},errors:{[vr.id]:$n}},{flushSync:Ft});return}if(T.initialized&&!A&&$ae(T.location,Ne)&&!(Ye&&Ye.submission&&gc(Ye.submission.formMethod))){ie(Ne,{matches:en},{flushSync:Ft});return}I=new AbortController;let At=P1(t.history,Ne,I.signal,Ye&&Ye.submission),yt,Ut;if(Ye&&Ye.pendingError)Ut={[Ey(en).route.id]:Ye.pendingError};else if(Ye&&Ye.submission&&gc(Ye.submission.formMethod)){let $n=await we(At,Ne,Ye.submission,en,{replace:Ye.replace,flushSync:Ft});if($n.shortCircuited)return;yt=$n.pendingActionData,Ut=$n.pendingActionError,Bt=$_(Ne,Ye.submission),Ft=!1,At=new Request(At.url,{signal:At.signal})}let{shortCircuited:kn,loaderData:Yt,errors:Rn}=await Pe(At,Ne,en,Bt,Ye&&Ye.submission,Ye&&Ye.fetcherSubmission,Ye&&Ye.replace,Ye&&Ye.initialHydration===!0,Ft,yt,Ut);kn||(I=null,ie(Ne,Yi({matches:en},yt?{actionData:yt}:{},{loaderData:Yt,errors:Rn})))}async function we(_e,Ne,Ye,ct,Bt){Bt===void 0&&(Bt={}),Ie();let en=Wae(Ne,Ye);le({navigation:en},{flushSync:Bt.flushSync===!0});let Ft,At=fE(ct,Ne);if(!At.route.action&&!At.route.lazy)Ft={type:Gi.error,error:bl(405,{method:_e.method,pathname:Ne.pathname,routeId:At.route.id})};else if(Ft=await T1("action",_e,At,ct,s,i,l,c.v7_relativeSplatPath),_e.signal.aborted)return{shortCircuited:!0};if(qf(Ft)){let yt;return Bt&&Bt.replace!=null?yt=Bt.replace:yt=Ft.location===T.location.pathname+T.location.search,await Te(T,Ft,{submission:Ye,replace:yt}),{shortCircuited:!0}}if(pg(Ft)){let yt=Ey(ct,At.route.id);return(Bt&&Bt.replace)!==!0&&(_=os.Push),{pendingActionData:{},pendingActionError:{[yt.route.id]:Ft.error}}}if(Xf(Ft))throw bl(400,{type:"defer-action"});return{pendingActionData:{[At.route.id]:Ft.data}}}async function Pe(_e,Ne,Ye,ct,Bt,en,Ft,At,yt,Ut,kn){let Yt=ct||$_(Ne,Bt),Rn=Bt||en||lD(Yt),$n=a||o,[Xr,vr]=ZL(t.history,T,Ye,Rn,Ne,c.v7_partialHydration&&At===!0,A,N,L,z,Z,J,$n,l,Ut,kn);if(ot(Kn=>!(Ye&&Ye.some(Sr=>Sr.route.id===Kn))||Xr&&Xr.some(Sr=>Sr.route.id===Kn)),G=++O,Xr.length===0&&vr.length===0){let Kn=Ee();return ie(Ne,Yi({matches:Ye,loaderData:{},errors:kn||null},Ut?{actionData:Ut}:{},Kn?{fetchers:new Map(T.fetchers)}:{}),{flushSync:yt}),{shortCircuited:!0}}if(!D&&(!c.v7_partialHydration||!At)){vr.forEach(Sr=>{let es=T.fetchers.get(Sr.key),Ud=_1(void 0,es?es.data:void 0);T.fetchers.set(Sr.key,Ud)});let Kn=Ut||T.actionData;le(Yi({navigation:Yt},Kn?Object.keys(Kn).length===0?{actionData:null}:{actionData:Kn}:{},vr.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:yt})}vr.forEach(Kn=>{H.has(Kn.key)&&me(Kn.key),Kn.controller&&H.set(Kn.key,Kn.controller)});let lr=()=>vr.forEach(Kn=>me(Kn.key));I&&I.signal.addEventListener("abort",lr);let{results:Nr,loaderResults:Ve,fetcherResults:Oe}=await Re(T.matches,Ye,Xr,vr,_e);if(_e.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",lr),vr.forEach(Kn=>H.delete(Kn.key));let Tt=oD(Nr);if(Tt){if(Tt.idx>=Xr.length){let Kn=vr[Tt.idx-Xr.length].key;J.add(Kn)}return await Te(T,Tt.result,{replace:Ft}),{shortCircuited:!0}}let{loaderData:gt,errors:jt}=rD(T,Ye,Xr,Ve,kn,vr,Oe,$);$.forEach((Kn,Sr)=>{Kn.subscribe(es=>{(es||Kn.done)&&$.delete(Sr)})}),c.v7_partialHydration&&At&&T.errors&&Object.entries(T.errors).filter(Kn=>{let[Sr]=Kn;return!Xr.some(es=>es.route.id===Sr)}).forEach(Kn=>{let[Sr,es]=Kn;jt=Object.assign(jt||{},{[Sr]:es})});let Ht=Ee(),Ln=We(G),ms=Ht||Ln||vr.length>0;return Yi({loaderData:gt,errors:jt},ms?{fetchers:new Map(T.fetchers)}:{})}function te(_e,Ne,Ye,ct){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(_e)&&me(_e);let Bt=(ct&&ct.unstable_flushSync)===!0,en=a||o,Ft=dE(T.location,T.matches,l,c.v7_prependBasename,Ye,c.v7_relativeSplatPath,Ne,ct==null?void 0:ct.relative),At=fg(en,Ft,l);if(!At){Se(_e,Ne,bl(404,{pathname:Ft}),{flushSync:Bt});return}let{path:yt,submission:Ut,error:kn}=JL(c.v7_normalizeFormMethod,!0,Ft,ct);if(kn){Se(_e,Ne,kn,{flushSync:Bt});return}let Yt=fE(At,yt);if(E=(ct&&ct.preventScrollReset)===!0,Ut&&gc(Ut.formMethod)){pe(_e,Ne,yt,Yt,At,Bt,Ut);return}Z.set(_e,{routeId:Ne,path:yt}),ge(_e,Ne,yt,Yt,At,Bt,Ut)}async function pe(_e,Ne,Ye,ct,Bt,en,Ft){if(Ie(),Z.delete(_e),!ct.route.action&&!ct.route.lazy){let Sr=bl(405,{method:Ft.formMethod,pathname:Ye,routeId:Ne});Se(_e,Ne,Sr,{flushSync:en});return}let At=T.fetchers.get(_e);he(_e,Gae(Ft,At),{flushSync:en});let yt=new AbortController,Ut=P1(t.history,Ye,yt.signal,Ft);H.set(_e,yt);let kn=O,Yt=await T1("action",Ut,ct,Bt,s,i,l,c.v7_relativeSplatPath);if(Ut.signal.aborted){H.get(_e)===yt&&H.delete(_e);return}if(c.v7_fetcherPersist&&z.has(_e)){if(qf(Yt)||pg(Yt)){he(_e,uh(void 0));return}}else{if(qf(Yt))if(H.delete(_e),G>kn){he(_e,uh(void 0));return}else return J.add(_e),he(_e,_1(Ft)),Te(T,Yt,{fetcherSubmission:Ft});if(pg(Yt)){Se(_e,Ne,Yt.error);return}}if(Xf(Yt))throw bl(400,{type:"defer-action"});let Rn=T.navigation.location||T.location,$n=P1(t.history,Rn,yt.signal),Xr=a||o,vr=T.navigation.state!=="idle"?fg(Xr,T.navigation.location,l):T.matches;hr(vr,"Didn't find any matches after fetcher action");let lr=++O;j.set(_e,lr);let Nr=_1(Ft,Yt.data);T.fetchers.set(_e,Nr);let[Ve,Oe]=ZL(t.history,T,vr,Ft,Rn,!1,A,N,L,z,Z,J,Xr,l,{[ct.route.id]:Yt.data},void 0);Oe.filter(Sr=>Sr.key!==_e).forEach(Sr=>{let es=Sr.key,Ud=T.fetchers.get(es),yf=_1(void 0,Ud?Ud.data:void 0);T.fetchers.set(es,yf),H.has(es)&&me(es),Sr.controller&&H.set(es,Sr.controller)}),le({fetchers:new Map(T.fetchers)});let Tt=()=>Oe.forEach(Sr=>me(Sr.key));yt.signal.addEventListener("abort",Tt);let{results:gt,loaderResults:jt,fetcherResults:Ht}=await Re(T.matches,vr,Ve,Oe,$n);if(yt.signal.aborted)return;yt.signal.removeEventListener("abort",Tt),j.delete(_e),H.delete(_e),Oe.forEach(Sr=>H.delete(Sr.key));let Ln=oD(gt);if(Ln){if(Ln.idx>=Ve.length){let Sr=Oe[Ln.idx-Ve.length].key;J.add(Sr)}return Te(T,Ln.result)}let{loaderData:ms,errors:Kn}=rD(T,T.matches,Ve,jt,void 0,Oe,Ht,$);if(T.fetchers.has(_e)){let Sr=uh(Yt.data);T.fetchers.set(_e,Sr)}We(lr),T.navigation.state==="loading"&&lr>G?(hr(_,"Expected pending action"),I&&I.abort(),ie(T.navigation.location,{matches:vr,loaderData:ms,errors:Kn,fetchers:new Map(T.fetchers)})):(le({errors:Kn,loaderData:iD(T.loaderData,ms,vr,Kn),fetchers:new Map(T.fetchers)}),A=!1)}async function ge(_e,Ne,Ye,ct,Bt,en,Ft){let At=T.fetchers.get(_e);he(_e,_1(Ft,At?At.data:void 0),{flushSync:en});let yt=new AbortController,Ut=P1(t.history,Ye,yt.signal);H.set(_e,yt);let kn=O,Yt=await T1("loader",Ut,ct,Bt,s,i,l,c.v7_relativeSplatPath);if(Xf(Yt)&&(Yt=await Oz(Yt,Ut.signal,!0)||Yt),H.get(_e)===yt&&H.delete(_e),!Ut.signal.aborted){if(z.has(_e)){he(_e,uh(void 0));return}if(qf(Yt))if(G>kn){he(_e,uh(void 0));return}else{J.add(_e),await Te(T,Yt);return}if(pg(Yt)){Se(_e,Ne,Yt.error);return}hr(!Xf(Yt),"Unhandled fetcher deferred data"),he(_e,uh(Yt.data))}}async function Te(_e,Ne,Ye){let{submission:ct,fetcherSubmission:Bt,replace:en}=Ye===void 0?{}:Ye;Ne.revalidate&&(A=!0);let Ft=fb(_e.location,Ne.location,{_isRedirect:!0});if(hr(Ft,"Expected a location on the redirect navigation"),n){let Rn=!1;if(Ne.reloadDocument)Rn=!0;else if(Rz.test(Ne.location)){const $n=t.history.createURL(Ne.location);Rn=$n.origin!==e.location.origin||Mm($n.pathname,l)==null}if(Rn){en?e.location.replace(Ne.location):e.location.assign(Ne.location);return}}I=null;let At=en===!0?os.Replace:os.Push,{formMethod:yt,formAction:Ut,formEncType:kn}=_e.navigation;!ct&&!Bt&&yt&&Ut&&kn&&(ct=lD(_e.navigation));let Yt=ct||Bt;if(Nae.has(Ne.status)&&Yt&&gc(Yt.formMethod))await ue(At,Ft,{submission:Yi({},Yt,{formAction:Ne.location}),preventScrollReset:E});else{let Rn=$_(Ft,ct);await ue(At,Ft,{overrideNavigation:Rn,fetcherSubmission:Bt,preventScrollReset:E})}}async function Re(_e,Ne,Ye,ct,Bt){let en=await Promise.all([...Ye.map(yt=>T1("loader",Bt,yt,Ne,s,i,l,c.v7_relativeSplatPath)),...ct.map(yt=>yt.matches&&yt.match&&yt.controller?T1("loader",P1(t.history,yt.path,yt.controller.signal),yt.match,yt.matches,s,i,l,c.v7_relativeSplatPath):{type:Gi.error,error:bl(404,{pathname:yt.path})})]),Ft=en.slice(0,Ye.length),At=en.slice(Ye.length);return await Promise.all([aD(_e,Ye,Ft,Ft.map(()=>Bt.signal),!1,T.loaderData),aD(_e,ct.map(yt=>yt.match),At,ct.map(yt=>yt.controller?yt.controller.signal:null),!0)]),{results:en,loaderResults:Ft,fetcherResults:At}}function Ie(){A=!0,N.push(...ot()),Z.forEach((_e,Ne)=>{H.has(Ne)&&(L.push(Ne),me(Ne))})}function he(_e,Ne,Ye){Ye===void 0&&(Ye={}),T.fetchers.set(_e,Ne),le({fetchers:new Map(T.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function Se(_e,Ne,Ye,ct){ct===void 0&&(ct={});let Bt=Ey(T.matches,Ne);$e(_e),le({errors:{[Bt.route.id]:Ye},fetchers:new Map(T.fetchers)},{flushSync:(ct&&ct.flushSync)===!0})}function Ce(_e){return c.v7_fetcherPersist&&(ae.set(_e,(ae.get(_e)||0)+1),z.has(_e)&&z.delete(_e)),T.fetchers.get(_e)||Iae}function $e(_e){let Ne=T.fetchers.get(_e);H.has(_e)&&!(Ne&&Ne.state==="loading"&&j.has(_e))&&me(_e),Z.delete(_e),j.delete(_e),J.delete(_e),z.delete(_e),T.fetchers.delete(_e)}function ke(_e){if(c.v7_fetcherPersist){let Ne=(ae.get(_e)||0)-1;Ne<=0?(ae.delete(_e),z.add(_e)):ae.set(_e,Ne)}else $e(_e);le({fetchers:new Map(T.fetchers)})}function me(_e){let Ne=H.get(_e);hr(Ne,"Expected fetch controller: "+_e),Ne.abort(),H.delete(_e)}function ye(_e){for(let Ne of _e){let Ye=Ce(Ne),ct=uh(Ye.data);T.fetchers.set(Ne,ct)}}function Ee(){let _e=[],Ne=!1;for(let Ye of J){let ct=T.fetchers.get(Ye);hr(ct,"Expected fetcher: "+Ye),ct.state==="loading"&&(J.delete(Ye),_e.push(Ye),Ne=!0)}return ye(_e),Ne}function We(_e){let Ne=[];for(let[Ye,ct]of j)if(ct<_e){let Bt=T.fetchers.get(Ye);hr(Bt,"Expected fetcher: "+Ye),Bt.state==="loading"&&(me(Ye),j.delete(Ye),Ne.push(Ye))}return ye(Ne),Ne.length>0}function je(_e,Ne){let Ye=T.blockers.get(_e)||k1;return W.get(_e)!==Ne&&W.set(_e,Ne),Ye}function et(_e){T.blockers.delete(_e),W.delete(_e)}function Fe(_e,Ne){let Ye=T.blockers.get(_e)||k1;hr(Ye.state==="unblocked"&&Ne.state==="blocked"||Ye.state==="blocked"&&Ne.state==="blocked"||Ye.state==="blocked"&&Ne.state==="proceeding"||Ye.state==="blocked"&&Ne.state==="unblocked"||Ye.state==="proceeding"&&Ne.state==="unblocked","Invalid blocker state transition: "+Ye.state+" -> "+Ne.state);let ct=new Map(T.blockers);ct.set(_e,Ne),le({blockers:ct})}function He(_e){let{currentLocation:Ne,nextLocation:Ye,historyAction:ct}=_e;if(W.size===0)return;W.size>1&&xp(!1,"A router only supports one blocker at a time");let Bt=Array.from(W.entries()),[en,Ft]=Bt[Bt.length-1],At=T.blockers.get(en);if(!(At&&At.state==="proceeding")&&Ft({currentLocation:Ne,nextLocation:Ye,historyAction:ct}))return en}function ot(_e){let Ne=[];return $.forEach((Ye,ct)=>{(!_e||_e(ct))&&(Ye.cancel(),Ne.push(ct),$.delete(ct))}),Ne}function pt(_e,Ne,Ye){if(h=_e,p=Ne,f=Ye||null,!m&&T.navigation===O_){m=!0;let ct=Jt(T.location,T.matches);ct!=null&&le({restoreScrollPosition:ct})}return()=>{h=null,p=null,f=null}}function It(_e,Ne){return f&&f(_e,Ne.map(ct=>lae(ct,T.loaderData)))||_e.key}function Gt(_e,Ne){if(h&&p){let Ye=It(_e,Ne);h[Ye]=p()}}function Jt(_e,Ne){if(h){let Ye=It(_e,Ne),ct=h[Ye];if(typeof ct=="number")return ct}return null}function Fn(_e){s={},a=uE(_e,i,void 0,s)}return P={get basename(){return l},get future(){return c},get state(){return T},get routes(){return o},get window(){return e},initialize:X,subscribe:Y,enableScrollRestoration:pt,navigate:re,fetch:te,revalidate:se,createHref:_e=>t.history.createHref(_e),encodeLocation:_e=>t.history.encodeLocation(_e),getFetcher:Ce,deleteFetcher:ke,dispose:K,getBlocker:je,deleteBlocker:et,_internalFetchControllers:H,_internalActiveDeferreds:$,_internalSetRoutes:Fn},P}function Lae(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dE(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=$B(i||".",OB(l,s),Mm(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!VB(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:dd([n,u.pathname])),Sp(u)}function JL(t,e,n,r){if(!r||!Lae(r))return{path:n};if(r.formMethod&&!zae(r.formMethod))return{path:n,error:bl(405,{method:r.formMethod})};let i=()=>({path:n,error:bl(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Fz(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gc(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[m,y]=p;return""+f+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!gc(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}hr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=hE(r.formData),c=r.formData;else if(r.body instanceof FormData)l=hE(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=nD(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=nD(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(gc(u.formMethod))return{path:n,submission:u};let d=Nu(n);return e&&d.search&&VB(d.search)&&l.append("index",""),d.search="?"+l,{path:Sp(d),submission:u}}function Dae(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ZL(t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,m){let y=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,S=t.createURL(e.location),w=t.createURL(i),v=m?Object.keys(m)[0]:void 0,P=Dae(n,v).filter((_,E)=>{let{route:I}=_;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if(Fae(e.loaderData,e.matches[E],_)||a.some(B=>B===_.route.id))return!0;let R=e.matches[E],F=_;return eD(_,Yi({currentUrl:S,currentParams:R.params,nextUrl:w,nextParams:F.params},r,{actionResult:y,defaultShouldRevalidate:o||S.pathname+S.search===w.pathname+w.search||S.search!==w.search||Dz(R,F)}))}),T=[];return u.forEach((_,E)=>{if(s||!n.some(D=>D.route.id===_.routeId)||c.has(E))return;let I=fg(h,_.path,f);if(!I){T.push({key:E,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(E),F=fE(I,_.path),B=!1;d.has(E)?B=!1:l.includes(E)?B=!0:R&&R.state!=="idle"&&R.data===void 0?B=o:B=eD(F,Yi({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:o})),B&&T.push({key:E,routeId:_.routeId,path:_.path,matches:I,match:F,controller:new AbortController})}),[P,T]}function Fae(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Dz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function eD(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];hr(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";xp(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!oae.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Yi({},e(i),{lazy:void 0}))}async function T1(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let c,u,d,h=m=>{let y,S=new Promise((w,v)=>y=v);return d=()=>y(),e.signal.addEventListener("abort",d),Promise.race([m({request:e,params:n.params,context:l.requestContext}),S])};try{let m=n.route[t];if(n.route.lazy)if(m){let y,S=await Promise.all([h(m).catch(w=>{y=w}),tD(n.route,s,i)]);if(y)throw y;u=S[0]}else if(await tD(n.route,s,i),m=n.route[t],m)u=await h(m);else if(t==="action"){let y=new URL(e.url),S=y.pathname+y.search;throw bl(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:Gi.data,data:void 0};else if(m)u=await h(m);else{let y=new URL(e.url),S=y.pathname+y.search;throw bl(404,{pathname:S})}hr(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){c=Gi.error,u=m}finally{d&&e.signal.removeEventListener("abort",d)}if(Vae(u)){let m=u.status;if(Bae.has(m)){let S=u.headers.get("Location");if(hr(S,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rz.test(S))S=dE(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,S,a);else if(!l.isStaticRequest){let w=new URL(e.url),v=S.startsWith("//")?new URL(w.protocol+S):new URL(S),k=Mm(v.pathname,o)!=null;v.origin===w.origin&&k&&(S=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw u.headers.set("Location",S),u;return{type:Gi.redirect,status:m,location:S,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Gi.error?Gi.error:Gi.data,response:u};let y;try{let S=u.headers.get("Content-Type");S&&/\bapplication\/json\b/.test(S)?u.body==null?y=null:y=await u.json():y=await u.text()}catch(S){return{type:Gi.error,error:S}}return c===Gi.error?{type:c,error:new HB(m,u.statusText,y),headers:u.headers}:{type:Gi.data,data:y,statusCode:u.status,headers:u.headers}}if(c===Gi.error)return{type:c,error:u};if(Hae(u)){var f,p;return{type:Gi.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:Gi.data,data:u}}function P1(t,e,n,r){let i=t.createURL(Fz(e)).toString(),s={signal:n};if(r&&gc(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=hE(r.formData):s.body=r.formData}return new Request(i,s)}function hE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function nD(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Oae(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((u,d)=>{let h=e[d].route.id;if(hr(!qf(u),"Cannot handle redirect results in processLoaderData"),pg(u)){let f=Ey(t,h),p=u.error;r&&(p=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=p),s[h]=void 0,l||(l=!0,a=Iz(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else Xf(u)?(i.set(h,u.deferredData),s[h]=u.deferredData.data):s[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[h]=u.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function rD(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=Oae(e,n,r,i,a);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:f}=s[u];hr(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let p=o[u];if(!(f&&f.signal.aborted))if(pg(p)){let m=Ey(t.matches,h==null?void 0:h.route.id);c&&c[m.route.id]||(c=Yi({},c,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(qf(p))hr(!1,"Unhandled fetcher revalidation redirect");else if(Xf(p))hr(!1,"Unhandled fetcher deferred data");else{let m=uh(p.data);t.fetchers.set(d,m)}}return{loaderData:l,errors:c}}function iD(t,e,n,r){let i=Yi({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ey(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function sD(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bl(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new HB(t||500,o,new Error(a),!0)}function oD(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(qf(n))return{result:n,idx:e}}}function Fz(t){let e=typeof t=="string"?Nu(t):t;return Sp(Yi({},e,{hash:""}))}function $ae(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Xf(t){return t.type===Gi.deferred}function pg(t){return t.type===Gi.error}function qf(t){return(t&&t.type)===Gi.redirect}function Hae(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Vae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zae(t){return Eae.has(t.toLowerCase())}function gc(t){return _ae.has(t.toLowerCase())}async function aD(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!Dz(c,l)&&(s&&s[l.route.id])!==void 0;if(Xf(a)&&(i||u)){let d=r[o];hr(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Oz(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function Oz(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Gi.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Gi.error,error:i}}return{type:Gi.data,data:t.deferredData.data}}}function VB(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fE(t,e){let n=typeof e=="string"?Nu(e).search:e.search;if(t[t.length-1].route.index&&VB(n||""))return t[t.length-1];let r=Nz(t);return r[r.length-1]}function lD(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wae(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _1(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Gae(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function uh(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Uae(t,e){try{let n=t.sessionStorage.getItem(Lz);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function jae(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Lz,JSON.stringify(n))}catch(r){xp(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}const WC=b.createContext(null),$z=b.createContext(null),zp=b.createContext(null),GC=b.createContext(null),Wp=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Hz=b.createContext(null);function Yae(t,e){let{relative:n}=e===void 0?{}:e;wv()||hr(!1);let{basename:r,navigator:i}=b.useContext(zp),{hash:s,pathname:o,search:a}=zz(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:dd([r,o])),i.createHref({pathname:l,search:a,hash:s})}function wv(){return b.useContext(GC)!=null}function UC(){return wv()||hr(!1),b.useContext(GC).location}function Vz(t){b.useContext(zp).static||b.useLayoutEffect(t)}function Xae(){let{isDataRoute:t}=b.useContext(Wp);return t?ole():qae()}function qae(){wv()||hr(!1);let t=b.useContext(WC),{basename:e,future:n,navigator:r}=b.useContext(zp),{matches:i}=b.useContext(Wp),{pathname:s}=UC(),o=JSON.stringify(OB(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return Vz(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=$B(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dd([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function zz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(zp),{matches:i}=b.useContext(Wp),{pathname:s}=UC(),o=JSON.stringify(OB(i,r.v7_relativeSplatPath));return b.useMemo(()=>$B(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Kae(t,e,n,r){wv()||hr(!1);let{navigator:i}=b.useContext(zp),{matches:s}=b.useContext(Wp),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=UC(),u;if(e){var d;let y=typeof e=="string"?Nu(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||hr(!1),u=y}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=fg(t,{pathname:f}),m=tle(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:dd([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:dd([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&m?b.createElement(GC.Provider,{value:{location:pb({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:os.Pop}},m):m}function Qae(){let t=sle(),e=Iz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const Jae=b.createElement(Qae,null);class Zae extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Wp.Provider,{value:this.props.routeContext},b.createElement(Hz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ele(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(WC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Wp.Provider,{value:e},r)}function tle(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||hr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,m=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Jae,l&&(c<0&&h===0?(ale("route-fallback",!1),p=!0,y=null):c===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,h+1)),w=()=>{let v;return f?v=m:p?v=y:d.route.Component?v=b.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,b.createElement(ele,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(Zae,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var Wz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Wz||{}),b2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(b2||{});function nle(t){let e=b.useContext(WC);return e||hr(!1),e}function rle(t){let e=b.useContext($z);return e||hr(!1),e}function ile(t){let e=b.useContext(Wp);return e||hr(!1),e}function Gz(t){let e=ile(),n=e.matches[e.matches.length-1];return n.route.id||hr(!1),n.route.id}function sle(){var t;let e=b.useContext(Hz),n=rle(b2.UseRouteError),r=Gz(b2.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ole(){let{router:t}=nle(Wz.UseNavigateStable),e=Gz(b2.UseNavigateStable),n=b.useRef(!1);return Vz(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pb({fromRouteId:e},s)))},[t,e])}const cD={};function ale(t,e,n){!e&&!cD[t]&&(cD[t]=!0)}function lle(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:s,static:o=!1,future:a}=t;wv()&&hr(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:pb({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Nu(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=b.useMemo(()=>{let y=Mm(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return m==null?null:b.createElement(zp.Provider,{value:c},b.createElement(GC.Provider,{children:n,value:m}))}new Promise(()=>{});function cle(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function ule(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hle(t,e){return t.button===0&&(!e||e==="_self")&&!dle(t)}const fle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ple="6";try{window.__reactRouterVersion=ple}catch{}function gle(t,e){return Rae({basename:e==null?void 0:e.basename,future:gb({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:rae({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||mle(),routes:t,mapRouteProperties:cle,window:e==null?void 0:e.window}).initialize()}function mle(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gb({},e,{errors:yle(e.errors)})),e}function yle(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new HB(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const ble=b.createContext({isTransitioning:!1}),vle=b.createContext(new Map),wle="startTransition",uD=Wh[wle],xle="flushSync",dD=nae[xle];function Sle(t){uD?uD(t):t()}function M1(t){dD?dD(t):t()}class Cle{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function kle(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=b.useState(n.state),[o,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[h,f]=b.useState(),[p,m]=b.useState(),y=b.useRef(new Map),{v7_startTransition:S}=r||{},w=b.useCallback(_=>{S?Sle(_):_()},[S]),v=b.useCallback((_,E)=>{let{deletedFetchers:I,unstable_flushSync:R,unstable_viewTransitionOpts:F}=E;I.forEach(D=>y.current.delete(D)),_.fetchers.forEach((D,A)=>{D.data!==void 0&&y.current.set(A,D.data)});let B=n.window==null||typeof n.window.document.startViewTransition!="function";if(!F||B){R?M1(()=>s(_)):w(()=>s(_));return}if(R){M1(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let D=n.window.document.startViewTransition(()=>{M1(()=>s(_))});D.finished.finally(()=>{M1(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),M1(()=>f(D));return}h?(u&&u.resolve(),h.skipTransition(),m({state:_,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,h,u,y,w]);b.useLayoutEffect(()=>n.subscribe(v),[n,v]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Cle)},[l]),b.useEffect(()=>{if(u&&o&&n.window){let _=o,E=u.promise,I=n.window.document.startViewTransition(async()=>{w(()=>s(_)),await E});I.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(I)}},[w,o,u,n.window]),b.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),b.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),b.useEffect(()=>{},[]);let k=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,E,I)=>n.navigate(_,{state:E,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(_,E,I)=>n.navigate(_,{replace:!0,state:E,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),P=n.basename||"/",T=b.useMemo(()=>({router:n,navigator:k,static:!1,basename:P}),[n,k,P]);return b.createElement(b.Fragment,null,b.createElement(WC.Provider,{value:T},b.createElement($z.Provider,{value:i},b.createElement(vle.Provider,{value:y.current},b.createElement(ble.Provider,{value:l},b.createElement(lle,{basename:P,location:i.location,navigationType:i.historyAction,navigator:k,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?b.createElement(Tle,{routes:n.routes,future:n.future,state:i}):e))))),null)}function Tle(t){let{routes:e,future:n,state:r}=t;return Kae(e,void 0,r,n)}const Ple=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nh=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=ule(e,fle),{basename:f}=b.useContext(zp),p,m=!1;if(typeof c=="string"&&_le.test(c)&&(p=c,Ple))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),P=Mm(k.pathname,f);k.origin===v.origin&&P!=null?c=P+k.search+k.hash:m=!0}catch{}let y=Yae(c,{relative:i}),S=Mle(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(v){r&&r(v),v.defaultPrevented||S(v)}return b.createElement("a",gb({},h,{href:p||y,onClick:m||s?r:w,ref:n,target:l}))});var hD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hD||(hD={}));var fD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fD||(fD={}));function Mle(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Xae(),c=UC(),u=zz(t,{relative:o});return b.useCallback(d=>{if(hle(d,n)){d.preventDefault();let h=r!==void 0?r:Sp(c)===Sp(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const Ele={black:"#000",white:"#fff"},mb=Ele,Ble={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y0=Ble,Nle={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},b0=Nle,Ile={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v0=Ile,Ale={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},w0=Ale,Rle={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},x0=Rle,Lle={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},E1=Lle,Dle={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Fle=Dle;function Sd(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Ole=Object.freeze(Object.defineProperty({__proto__:null,default:Sd},Symbol.toStringTag,{value:"Module"})),xv="$$material";function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(null,arguments)}function Ue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uz(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $le=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Hle=Uz(function(t){return $le.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Vle(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function zle(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Wle=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zle(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Vle(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ko="-ms-",v2="-moz-",Ar="-webkit-",jz="comm",zB="rule",WB="decl",Gle="@import",Yz="@keyframes",Ule="@layer",jle=Math.abs,jC=String.fromCharCode,Yle=Object.assign;function Xle(t,e){return ho(t,0)^45?(((e<<2^ho(t,0))<<2^ho(t,1))<<2^ho(t,2))<<2^ho(t,3):0}function Xz(t){return t.trim()}function qle(t,e){return(t=e.exec(t))?t[0]:t}function Rr(t,e,n){return t.replace(e,n)}function pE(t,e){return t.indexOf(e)}function ho(t,e){return t.charCodeAt(e)|0}function yb(t,e,n){return t.slice(e,n)}function ou(t){return t.length}function GB(t){return t.length}function fx(t,e){return e.push(t),t}function Kle(t,e){return t.map(e).join("")}var YC=1,Yg=1,qz=0,Ta=0,Cs=0,Em="";function XC(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:YC,column:Yg,length:o,return:""}}function B1(t,e){return Yle(XC("",null,null,"",null,null,0),t,{length:-t.length},e)}function Qle(){return Cs}function Jle(){return Cs=Ta>0?ho(Em,--Ta):0,Yg--,Cs===10&&(Yg=1,YC--),Cs}function Ka(){return Cs=Ta<qz?ho(Em,Ta++):0,Yg++,Cs===10&&(Yg=1,YC++),Cs}function bu(){return ho(Em,Ta)}function yS(){return Ta}function Sv(t,e){return yb(Em,t,e)}function bb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kz(t){return YC=Yg=1,qz=ou(Em=t),Ta=0,[]}function Qz(t){return Em="",t}function bS(t){return Xz(Sv(Ta-1,gE(t===91?t+2:t===40?t+1:t)))}function Zle(t){for(;(Cs=bu())&&Cs<33;)Ka();return bb(t)>2||bb(Cs)>3?"":" "}function ece(t,e){for(;--e&&Ka()&&!(Cs<48||Cs>102||Cs>57&&Cs<65||Cs>70&&Cs<97););return Sv(t,yS()+(e<6&&bu()==32&&Ka()==32))}function gE(t){for(;Ka();)switch(Cs){case t:return Ta;case 34:case 39:t!==34&&t!==39&&gE(Cs);break;case 40:t===41&&gE(t);break;case 92:Ka();break}return Ta}function tce(t,e){for(;Ka()&&t+Cs!==57;)if(t+Cs===84&&bu()===47)break;return"/*"+Sv(e,Ta-1)+"*"+jC(t===47?t:Ka())}function nce(t){for(;!bb(bu());)Ka();return Sv(t,Ta)}function rce(t){return Qz(vS("",null,null,null,[""],t=Kz(t),0,[0],t))}function vS(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,m=1,y=1,S=1,w=0,v="",k=i,P=s,T=r,_=v;y;)switch(p=w,w=Ka()){case 40:if(p!=108&&ho(_,d-1)==58){pE(_+=Rr(bS(w),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:_+=bS(w);break;case 9:case 10:case 13:case 32:_+=Zle(p);break;case 92:_+=ece(yS()-1,7);continue;case 47:switch(bu()){case 42:case 47:fx(ice(tce(Ka(),yS()),e,n),l);break;default:_+="/"}break;case 123*m:a[c++]=ou(_)*S;case 125*m:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:S==-1&&(_=Rr(_,/\f/g,"")),f>0&&ou(_)-d&&fx(f>32?gD(_+";",r,n,d-1):gD(Rr(_," ","")+";",r,n,d-2),l);break;case 59:_+=";";default:if(fx(T=pD(_,e,n,c,u,i,a,v,k=[],P=[],d),s),w===123)if(u===0)vS(_,e,T,T,k,s,d,a,P);else switch(h===99&&ho(_,3)===110?100:h){case 100:case 108:case 109:case 115:vS(t,T,T,r&&fx(pD(t,T,T,0,0,i,a,v,i,k=[],d),P),i,P,d,a,r?k:P);break;default:vS(_,T,T,T,[""],P,0,a,P)}}c=u=f=0,m=S=1,v=_="",d=o;break;case 58:d=1+ou(_),f=p;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&Jle()==125)continue}switch(_+=jC(w),w*m){case 38:S=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(ou(_)-1)*S,S=1;break;case 64:bu()===45&&(_+=bS(Ka())),h=bu(),u=d=ou(v=_+=nce(yS())),w++;break;case 45:p===45&&ou(_)==2&&(m=0)}}return s}function pD(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],f=GB(h),p=0,m=0,y=0;p<r;++p)for(var S=0,w=yb(t,d+1,d=jle(m=o[p])),v=t;S<f;++S)(v=Xz(m>0?h[S]+" "+w:Rr(w,/&\f/g,h[S])))&&(l[y++]=v);return XC(t,e,n,i===0?zB:a,l,c,u)}function ice(t,e,n){return XC(t,e,n,jz,jC(Qle()),yb(t,2,-2),0)}function gD(t,e,n,r){return XC(t,e,n,WB,yb(t,0,r),yb(t,r+1,-1),r)}function Mg(t,e){for(var n="",r=GB(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function sce(t,e,n,r){switch(t.type){case Ule:if(t.children.length)break;case Gle:case WB:return t.return=t.return||t.value;case jz:return"";case Yz:return t.return=t.value+"{"+Mg(t.children,r)+"}";case zB:t.value=t.props.join(",")}return ou(n=Mg(t.children,r))?t.return=t.value+"{"+n+"}":""}function oce(t){var e=GB(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ace(t){return function(e){e.root||(e=e.return)&&t(e)}}var lce=function(e,n,r){for(var i=0,s=0;i=s,s=bu(),i===38&&s===12&&(n[r]=1),!bb(s);)Ka();return Sv(e,Ta)},cce=function(e,n){var r=-1,i=44;do switch(bb(i)){case 0:i===38&&bu()===12&&(n[r]=1),e[r]+=lce(Ta-1,n,r);break;case 2:e[r]+=bS(i);break;case 4:if(i===44){e[++r]=bu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=jC(i)}while(i=Ka());return e},uce=function(e,n){return Qz(cce(Kz(e),n))},mD=new WeakMap,dce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!mD.get(r))&&!i){mD.set(e,!0);for(var s=[],o=uce(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},hce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Jz(t,e){switch(Xle(t,e)){case 5103:return Ar+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ar+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ar+t+v2+t+ko+t+t;case 6828:case 4268:return Ar+t+ko+t+t;case 6165:return Ar+t+ko+"flex-"+t+t;case 5187:return Ar+t+Rr(t,/(\w+).+(:[^]+)/,Ar+"box-$1$2"+ko+"flex-$1$2")+t;case 5443:return Ar+t+ko+"flex-item-"+Rr(t,/flex-|-self/,"")+t;case 4675:return Ar+t+ko+"flex-line-pack"+Rr(t,/align-content|flex-|-self/,"")+t;case 5548:return Ar+t+ko+Rr(t,"shrink","negative")+t;case 5292:return Ar+t+ko+Rr(t,"basis","preferred-size")+t;case 6060:return Ar+"box-"+Rr(t,"-grow","")+Ar+t+ko+Rr(t,"grow","positive")+t;case 4554:return Ar+Rr(t,/([^-])(transform)/g,"$1"+Ar+"$2")+t;case 6187:return Rr(Rr(Rr(t,/(zoom-|grab)/,Ar+"$1"),/(image-set)/,Ar+"$1"),t,"")+t;case 5495:case 3959:return Rr(t,/(image-set\([^]*)/,Ar+"$1$`$1");case 4968:return Rr(Rr(t,/(.+:)(flex-)?(.*)/,Ar+"box-pack:$3"+ko+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ar+t+t;case 4095:case 3583:case 4068:case 2532:return Rr(t,/(.+)-inline(.+)/,Ar+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ou(t)-1-e>6)switch(ho(t,e+1)){case 109:if(ho(t,e+4)!==45)break;case 102:return Rr(t,/(.+:)(.+)-([^]+)/,"$1"+Ar+"$2-$3$1"+v2+(ho(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pE(t,"stretch")?Jz(Rr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ho(t,e+1)!==115)break;case 6444:switch(ho(t,ou(t)-3-(~pE(t,"!important")&&10))){case 107:return Rr(t,":",":"+Ar)+t;case 101:return Rr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ar+(ho(t,14)===45?"inline-":"")+"box$3$1"+Ar+"$2$3$1"+ko+"$2box$3")+t}break;case 5936:switch(ho(t,e+11)){case 114:return Ar+t+ko+Rr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ar+t+ko+Rr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ar+t+ko+Rr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ar+t+ko+t+t}return t}var fce=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case WB:e.return=Jz(e.value,e.length);break;case Yz:return Mg([B1(e,{value:Rr(e.value,"@","@"+Ar)})],i);case zB:if(e.length)return Kle(e.props,function(s){switch(qle(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mg([B1(e,{props:[Rr(s,/:(read-\w+)/,":"+v2+"$1")]})],i);case"::placeholder":return Mg([B1(e,{props:[Rr(s,/:(plac\w+)/,":"+Ar+"input-$1")]}),B1(e,{props:[Rr(s,/:(plac\w+)/,":"+v2+"$1")]}),B1(e,{props:[Rr(s,/:(plac\w+)/,ko+"input-$1")]})],i)}return""})}},pce=[fce],Zz=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||pce,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),S=1;S<y.length;S++)s[y[S]]=!0;a.push(m)});var l,c=[dce,hce];{var u,d=[sce,ace(function(m){u.insert(m)})],h=oce(c.concat(i,d)),f=function(y){return Mg(rce(y),h)};l=function(y,S,w,v){u=w,f(y?y+"{"+S.styles+"}":S.styles),v&&(p.inserted[S.name]=!0)}}var p={key:n,sheet:new Wle({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},eW={exports:{}},Ur={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=typeof Symbol=="function"&&Symbol.for,UB=no?Symbol.for("react.element"):60103,jB=no?Symbol.for("react.portal"):60106,qC=no?Symbol.for("react.fragment"):60107,KC=no?Symbol.for("react.strict_mode"):60108,QC=no?Symbol.for("react.profiler"):60114,JC=no?Symbol.for("react.provider"):60109,ZC=no?Symbol.for("react.context"):60110,YB=no?Symbol.for("react.async_mode"):60111,ek=no?Symbol.for("react.concurrent_mode"):60111,tk=no?Symbol.for("react.forward_ref"):60112,nk=no?Symbol.for("react.suspense"):60113,gce=no?Symbol.for("react.suspense_list"):60120,rk=no?Symbol.for("react.memo"):60115,ik=no?Symbol.for("react.lazy"):60116,mce=no?Symbol.for("react.block"):60121,yce=no?Symbol.for("react.fundamental"):60117,bce=no?Symbol.for("react.responder"):60118,vce=no?Symbol.for("react.scope"):60119;function sl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UB:switch(t=t.type,t){case YB:case ek:case qC:case QC:case KC:case nk:return t;default:switch(t=t&&t.$$typeof,t){case ZC:case tk:case ik:case rk:case JC:return t;default:return e}}case jB:return e}}}function tW(t){return sl(t)===ek}Ur.AsyncMode=YB;Ur.ConcurrentMode=ek;Ur.ContextConsumer=ZC;Ur.ContextProvider=JC;Ur.Element=UB;Ur.ForwardRef=tk;Ur.Fragment=qC;Ur.Lazy=ik;Ur.Memo=rk;Ur.Portal=jB;Ur.Profiler=QC;Ur.StrictMode=KC;Ur.Suspense=nk;Ur.isAsyncMode=function(t){return tW(t)||sl(t)===YB};Ur.isConcurrentMode=tW;Ur.isContextConsumer=function(t){return sl(t)===ZC};Ur.isContextProvider=function(t){return sl(t)===JC};Ur.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UB};Ur.isForwardRef=function(t){return sl(t)===tk};Ur.isFragment=function(t){return sl(t)===qC};Ur.isLazy=function(t){return sl(t)===ik};Ur.isMemo=function(t){return sl(t)===rk};Ur.isPortal=function(t){return sl(t)===jB};Ur.isProfiler=function(t){return sl(t)===QC};Ur.isStrictMode=function(t){return sl(t)===KC};Ur.isSuspense=function(t){return sl(t)===nk};Ur.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qC||t===ek||t===QC||t===KC||t===nk||t===gce||typeof t=="object"&&t!==null&&(t.$$typeof===ik||t.$$typeof===rk||t.$$typeof===JC||t.$$typeof===ZC||t.$$typeof===tk||t.$$typeof===yce||t.$$typeof===bce||t.$$typeof===vce||t.$$typeof===mce)};Ur.typeOf=sl;eW.exports=Ur;var wce=eW.exports,nW=wce,xce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rW={};rW[nW.ForwardRef]=xce;rW[nW.Memo]=Sce;var Cce=!0;function kce(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var iW=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Cce===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},sW=function(e,n,r){iW(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Tce(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Pce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_ce=/[A-Z]|^ms/g,Mce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oW=function(e){return e.charCodeAt(1)===45},yD=function(e){return e!=null&&typeof e!="boolean"},H_=Uz(function(t){return oW(t)?t:t.replace(_ce,"-$&").toLowerCase()}),bD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Mce,function(r,i,s){return au={name:i,styles:s,next:au},i})}return Pce[e]!==1&&!oW(e)&&typeof n=="number"&&n!==0?n+"px":n};function vb(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return au={name:n.name,styles:n.styles,next:au},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)au={name:r.name,styles:r.styles,next:au},r=r.next;var i=n.styles+";";return i}return Ece(t,e,n)}case"function":{if(t!==void 0){var s=au,o=n(t);return au=s,vb(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Ece(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vb(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":yD(o)&&(r+=H_(s)+":"+bD(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)yD(o[a])&&(r+=H_(s)+":"+bD(s,o[a])+";");else{var l=vb(t,e,o);switch(s){case"animation":case"animationName":{r+=H_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var vD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,au,XB=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";au=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=vb(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=vb(r,n,e[a]),i&&(s+=o[a]);vD.lastIndex=0;for(var l="",c;(c=vD.exec(s))!==null;)l+="-"+c[1];var u=Tce(s)+l;return{name:u,styles:s,next:au}},Bce=function(e){return e()},aW=Wh.useInsertionEffect?Wh.useInsertionEffect:!1,Nce=aW||Bce,wD=aW||b.useLayoutEffect,lW=b.createContext(typeof HTMLElement<"u"?Zz({key:"css"}):null),Ice=lW.Provider,cW=function(e){return b.forwardRef(function(n,r){var i=b.useContext(lW);return e(n,i,r)})},sk=b.createContext({}),V_={exports:{}},xD;function uW(){return xD||(xD=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(V_)),V_.exports}uW();var Ace=cW(function(t,e){var n=t.styles,r=XB([n],void 0,b.useContext(sk)),i=b.useRef();return wD(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),wD(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&sW(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Cd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return XB(e)}var Gc=function(){var e=Cd.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Rce=Hle,Lce=function(e){return e!=="theme"},SD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Rce:Lce},CD=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Dce=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return iW(n,r,i),Nce(function(){return sW(n,r,i)}),null},Fce=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=CD(e,n,r),l=a||SD(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,f=1;f<h;f++)d.push(u[f],u[0][f])}var p=cW(function(m,y,S){var w=c&&m.as||i,v="",k=[],P=m;if(m.theme==null){P={};for(var T in m)P[T]=m[T];P.theme=b.useContext(sk)}typeof m.className=="string"?v=kce(y.registered,k,m.className):m.className!=null&&(v=m.className+" ");var _=XB(d.concat(k),y.registered,P);v+=y.key+"-"+_.name,o!==void 0&&(v+=" "+o);var E=c&&a===void 0?SD(w):l,I={};for(var R in m)c&&R==="as"||E(R)&&(I[R]=m[R]);return I.className=v,I.ref=S,b.createElement(b.Fragment,null,b.createElement(Dce,{cache:y,serialized:_,isStringTag:typeof w=="string"}),b.createElement(w,I))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,y){return t(m,V({},n,y,{shouldForwardProp:CD(p,y,!0)})).apply(void 0,d)},p}},Oce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mE=Fce.bind();Oce.forEach(function(t){mE[t]=mE(t)});var dW={exports:{}},$ce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hce=$ce,Vce=Hce;function hW(){}function fW(){}fW.resetWarningCache=hW;var zce=function(){function t(r,i,s,o,a,l){if(l!==Vce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fW,resetWarningCache:hW};return n.PropTypes=n,n};dW.exports=zce();var pW=dW.exports;const q=Pa(pW);let yE;typeof document=="object"&&(yE=Zz({key:"css",prepend:!0}));function Wce(t){const{injectFirst:e,children:n}=t;return e&&yE?C.jsx(Ice,{value:yE,children:n}):n}function Gce(t){return t==null||Object.keys(t).length===0}function gW(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Gce(i)?n:i):e;return C.jsx(Ace,{styles:r})}function qB(t,e){return mE(t,e)}const mW=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Uce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:gW,StyledEngineProvider:Wce,ThemeContext:sk,css:Cd,default:qB,internal_processStyles:mW,keyframes:Gc},Symbol.toStringTag,{value:"Module"}));function Ju(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yW(t){if(!Ju(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=yW(t[n])}),e}function Ko(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return Ju(t)&&Ju(e)&&Object.keys(e).forEach(i=>{Ju(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ju(t[i])?r[i]=Ko(t[i],e[i],n):n.clone?r[i]=Ju(e[i])?yW(e[i]):e[i]:r[i]=e[i]}),r}const jce=Object.freeze(Object.defineProperty({__proto__:null,default:Ko,isPlainObject:Ju},Symbol.toStringTag,{value:"Module"})),Yce=["values","unit","step"],Xce=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function bW(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ue(t,Yce),s=Xce(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const qce={borderRadius:4},Kce=qce;function By(t,e){return e?Ko(t,e,{clone:!1}):t}const KB={xs:0,sm:600,md:900,lg:1200,xl:1536},kD={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${KB[t]}px)`};function Hc(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||kD;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||kD;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||KB).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function vW(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function wW(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Qce(t,...e){const n=vW(t),r=[n,...e].reduce((i,s)=>Ko(i,s),{});return wW(Object.keys(n),r)}function Jce(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function z_({values:t,breakpoints:e,base:n}){const r=n||Jce(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ge(t){if(typeof t!="string")throw new Error(Sd(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Zce=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function ok(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function w2(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=ok(t,n)||r,e&&(i=e(i,r,t)),i}function ps(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=ok(l,r)||{};return Hc(o,a,d=>{let h=w2(c,i,d);return d===h&&typeof d=="string"&&(h=w2(c,i,`${e}${d==="default"?"":Ge(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function eue(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const tue={m:"margin",p:"padding"},nue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rue=eue(t=>{if(t.length>2)if(TD[t])t=TD[t];else return[t];const[e,n]=t.split(""),r=tue[e],i=nue[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),QB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QB,...JB];function Cv(t,e,n,r){var i;const s=(i=ok(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function ZB(t){return Cv(t,"spacing",8)}function Cp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function iue(t,e){return n=>t.reduce((r,i)=>(r[i]=Cp(e,n),r),{})}function sue(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=rue(n),s=iue(i,r),o=t[n];return Hc(t,o,s)}function xW(t,e){const n=ZB(t.theme);return Object.keys(t).map(r=>sue(t,e,r,n)).reduce(By,{})}function Vi(t){return xW(t,QB)}Vi.propTypes={};Vi.filterProps=QB;function zi(t){return xW(t,JB)}zi.propTypes={};zi.filterProps=JB;function oue(t=8){if(t.mui)return t;const e=ZB({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function ak(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?By(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Tl(t){return typeof t!="number"?t:`${t}px solid`}function ql(t,e){return ps({prop:t,themeKey:"borders",transform:e})}const aue=ql("border",Tl),lue=ql("borderTop",Tl),cue=ql("borderRight",Tl),uue=ql("borderBottom",Tl),due=ql("borderLeft",Tl),hue=ql("borderColor"),fue=ql("borderTopColor"),pue=ql("borderRightColor"),gue=ql("borderBottomColor"),mue=ql("borderLeftColor"),yue=ql("outline",Tl),bue=ql("outlineColor"),lk=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Cv(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Cp(e,r)});return Hc(t,t.borderRadius,n)}return null};lk.propTypes={};lk.filterProps=["borderRadius"];ak(aue,lue,cue,uue,due,hue,fue,pue,gue,mue,lk,yue,bue);const ck=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Cv(t.theme,"spacing",8),n=r=>({gap:Cp(e,r)});return Hc(t,t.gap,n)}return null};ck.propTypes={};ck.filterProps=["gap"];const uk=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Cv(t.theme,"spacing",8),n=r=>({columnGap:Cp(e,r)});return Hc(t,t.columnGap,n)}return null};uk.propTypes={};uk.filterProps=["columnGap"];const dk=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Cv(t.theme,"spacing",8),n=r=>({rowGap:Cp(e,r)});return Hc(t,t.rowGap,n)}return null};dk.propTypes={};dk.filterProps=["rowGap"];const vue=ps({prop:"gridColumn"}),wue=ps({prop:"gridRow"}),xue=ps({prop:"gridAutoFlow"}),Sue=ps({prop:"gridAutoColumns"}),Cue=ps({prop:"gridAutoRows"}),kue=ps({prop:"gridTemplateColumns"}),Tue=ps({prop:"gridTemplateRows"}),Pue=ps({prop:"gridTemplateAreas"}),_ue=ps({prop:"gridArea"});ak(ck,uk,dk,vue,wue,xue,Sue,Cue,kue,Tue,Pue,_ue);function Eg(t,e){return e==="grey"?e:t}const Mue=ps({prop:"color",themeKey:"palette",transform:Eg}),Eue=ps({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Eg}),Bue=ps({prop:"backgroundColor",themeKey:"palette",transform:Eg});ak(Mue,Eue,Bue);function Ua(t){return t<=1&&t!==0?`${t*100}%`:t}const Nue=ps({prop:"width",transform:Ua}),eN=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||KB[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ua(n)}};return Hc(t,t.maxWidth,e)}return null};eN.filterProps=["maxWidth"];const Iue=ps({prop:"minWidth",transform:Ua}),Aue=ps({prop:"height",transform:Ua}),Rue=ps({prop:"maxHeight",transform:Ua}),Lue=ps({prop:"minHeight",transform:Ua});ps({prop:"size",cssProperty:"width",transform:Ua});ps({prop:"size",cssProperty:"height",transform:Ua});const Due=ps({prop:"boxSizing"});ak(Nue,eN,Iue,Aue,Rue,Lue,Due);const Fue={border:{themeKey:"borders",transform:Tl},borderTop:{themeKey:"borders",transform:Tl},borderRight:{themeKey:"borders",transform:Tl},borderBottom:{themeKey:"borders",transform:Tl},borderLeft:{themeKey:"borders",transform:Tl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lk},color:{themeKey:"palette",transform:Eg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Eg},backgroundColor:{themeKey:"palette",transform:Eg},p:{style:zi},pt:{style:zi},pr:{style:zi},pb:{style:zi},pl:{style:zi},px:{style:zi},py:{style:zi},padding:{style:zi},paddingTop:{style:zi},paddingRight:{style:zi},paddingBottom:{style:zi},paddingLeft:{style:zi},paddingX:{style:zi},paddingY:{style:zi},paddingInline:{style:zi},paddingInlineStart:{style:zi},paddingInlineEnd:{style:zi},paddingBlock:{style:zi},paddingBlockStart:{style:zi},paddingBlockEnd:{style:zi},m:{style:Vi},mt:{style:Vi},mr:{style:Vi},mb:{style:Vi},ml:{style:Vi},mx:{style:Vi},my:{style:Vi},margin:{style:Vi},marginTop:{style:Vi},marginRight:{style:Vi},marginBottom:{style:Vi},marginLeft:{style:Vi},marginX:{style:Vi},marginY:{style:Vi},marginInline:{style:Vi},marginInlineStart:{style:Vi},marginInlineEnd:{style:Vi},marginBlock:{style:Vi},marginBlockStart:{style:Vi},marginBlockEnd:{style:Vi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ck},rowGap:{style:dk},columnGap:{style:uk},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ua},maxWidth:{style:eN},minWidth:{transform:Ua},height:{transform:Ua},maxHeight:{transform:Ua},minHeight:{transform:Ua},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},kv=Fue;function Oue(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function $ue(t,e){return typeof t=="function"?t(e):t}function SW(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=ok(i,c)||{};return d?d(o):Hc(o,r,p=>{let m=w2(h,u,p);return p===m&&typeof p=="string"&&(m=w2(h,u,`${n}${p==="default"?"":Ge(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:kv;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=vW(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(f=>{const p=$ue(c[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=By(h,t(f,p,s,o));else{const m=Hc({theme:s},p,y=>({[f]:y}));Oue(m,p)?h[f]=e({sx:p,theme:s}):h=By(h,m)}else h=By(h,t(f,p,s,o))}),wW(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Bm=SW();Bm.filterProps=["sx"];function CW(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const Hue=["breakpoints","palette","spacing","shape"];function Tv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ue(t,Hue),a=bW(n),l=oue(i);let c=Ko({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:l,shape:V({},Kce,s)},o);return c.applyStyles=CW,c=e.reduce((u,d)=>Ko(u,d),c),c.unstable_sxConfig=V({},kv,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Bm({sx:d,theme:this})},c}const Vue=Object.freeze(Object.defineProperty({__proto__:null,default:Tv,private_createBreakpoints:bW,unstable_applyStyles:CW},Symbol.toStringTag,{value:"Module"}));function zue(t){return Object.keys(t).length===0}function kW(t=null){const e=b.useContext(sk);return!e||zue(e)?t:e}const Wue=Tv();function hk(t=Wue){return kW(t)}function Gue({styles:t,themeId:e,defaultTheme:n={}}){const r=hk(n),i=typeof t=="function"?t(e&&r[e]||r):t;return C.jsx(gW,{styles:i})}const Uue=["sx"],jue=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:kv;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function fk(t){const{sx:e}=t,n=Ue(t,Uue),{systemProps:r,otherProps:i}=jue(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ju(a)?V({},r,a):r}:s=V({},r,e),V({},i,{sx:s})}const Yue=Object.freeze(Object.defineProperty({__proto__:null,default:Bm,extendSxProp:fk,unstable_createStyleFunctionSx:SW,unstable_defaultSxConfig:kv},Symbol.toStringTag,{value:"Module"})),PD=t=>t,Xue=()=>{let t=PD;return{configure(e){t=e},generate(e){return t(e)},reset(){t=PD}}},que=Xue(),TW=que;function PW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PW(t))&&(r&&(r+=" "),r+=e);return r}const Kue=["className","component"];function Que(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=qB("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Bm);return b.forwardRef(function(l,c){const u=hk(n),d=fk(l),{className:h,component:f="div"}=d,p=Ue(d,Kue);return C.jsx(s,V({as:f,ref:c,className:Ae(h,i?i(r):r),theme:e&&u[e]||u},p))})}const _W={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wt(t,e,n="Mui"){const r=_W[e];return r?`${n}-${r}`:`${TW.generate(t)}-${e}`}function xt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=wt(t,i,n)}),r}var MW={exports:{}},jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN=Symbol.for("react.element"),nN=Symbol.for("react.portal"),pk=Symbol.for("react.fragment"),gk=Symbol.for("react.strict_mode"),mk=Symbol.for("react.profiler"),yk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),Jue=Symbol.for("react.server_context"),vk=Symbol.for("react.forward_ref"),wk=Symbol.for("react.suspense"),xk=Symbol.for("react.suspense_list"),Sk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),Zue=Symbol.for("react.offscreen"),EW;EW=Symbol.for("react.module.reference");function Kl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tN:switch(t=t.type,t){case pk:case mk:case gk:case wk:case xk:return t;default:switch(t=t&&t.$$typeof,t){case Jue:case bk:case vk:case Ck:case Sk:case yk:return t;default:return e}}case nN:return e}}}jr.ContextConsumer=bk;jr.ContextProvider=yk;jr.Element=tN;jr.ForwardRef=vk;jr.Fragment=pk;jr.Lazy=Ck;jr.Memo=Sk;jr.Portal=nN;jr.Profiler=mk;jr.StrictMode=gk;jr.Suspense=wk;jr.SuspenseList=xk;jr.isAsyncMode=function(){return!1};jr.isConcurrentMode=function(){return!1};jr.isContextConsumer=function(t){return Kl(t)===bk};jr.isContextProvider=function(t){return Kl(t)===yk};jr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tN};jr.isForwardRef=function(t){return Kl(t)===vk};jr.isFragment=function(t){return Kl(t)===pk};jr.isLazy=function(t){return Kl(t)===Ck};jr.isMemo=function(t){return Kl(t)===Sk};jr.isPortal=function(t){return Kl(t)===nN};jr.isProfiler=function(t){return Kl(t)===mk};jr.isStrictMode=function(t){return Kl(t)===gk};jr.isSuspense=function(t){return Kl(t)===wk};jr.isSuspenseList=function(t){return Kl(t)===xk};jr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pk||t===mk||t===gk||t===wk||t===xk||t===Zue||typeof t=="object"&&t!==null&&(t.$$typeof===Ck||t.$$typeof===Sk||t.$$typeof===yk||t.$$typeof===bk||t.$$typeof===vk||t.$$typeof===EW||t.getModuleId!==void 0)};jr.typeOf=Kl;MW.exports=jr;var _D=MW.exports;const ede=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function BW(t){const e=`${t}`.match(ede);return e&&e[1]||""}function NW(t,e=""){return t.displayName||t.name||BW(t)||e}function MD(t,e,n){const r=NW(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function tde(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return NW(t,"Component");if(typeof t=="object")switch(t.$$typeof){case _D.ForwardRef:return MD(t,t.render,"ForwardRef");case _D.Memo:return MD(t,t.type,"memo");default:return}}}const nde=Object.freeze(Object.defineProperty({__proto__:null,default:tde,getFunctionName:BW},Symbol.toStringTag,{value:"Module"})),rde=["ownerState"],ide=["variants"],sde=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ode(t){return Object.keys(t).length===0}function ade(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ny(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const lde=Tv(),cde=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function px({defaultTheme:t,theme:e,themeId:n}){return ode(e)?t:e[n]||e}function ude(t){return t?(e,n)=>n[t]:null}function wS(t,e){let{ownerState:n}=e,r=Ue(e,rde);const i=typeof t=="function"?t(V({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>wS(s,V({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=Ue(i,ide);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(V({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(V({ownerState:n},r,n)):l.style))}),a}return i}function dde(t={}){const{themeId:e,defaultTheme:n=lde,rootShouldForwardProp:r=Ny,slotShouldForwardProp:i=Ny}=t,s=o=>Bm(V({},o,{theme:px(V({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{mW(o,P=>P.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=ude(cde(c))}=a,f=Ue(a,sde),p=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let y,S=Ny;c==="Root"||c==="root"?S=r:c?S=i:ade(o)&&(S=void 0);const w=qB(o,V({shouldForwardProp:S,label:y},f)),v=P=>typeof P=="function"&&P.__emotion_real!==P||Ju(P)?T=>wS(P,V({},T,{theme:px({theme:T.theme,defaultTheme:n,themeId:e})})):P,k=(P,...T)=>{let _=v(P);const E=T?T.map(v):[];l&&h&&E.push(F=>{const B=px(V({},F,{defaultTheme:n,themeId:e}));if(!B.components||!B.components[l]||!B.components[l].styleOverrides)return null;const D=B.components[l].styleOverrides,A={};return Object.entries(D).forEach(([N,L])=>{A[N]=wS(L,V({},F,{theme:B}))}),h(F,A)}),l&&!p&&E.push(F=>{var B;const D=px(V({},F,{defaultTheme:n,themeId:e})),A=D==null||(B=D.components)==null||(B=B[l])==null?void 0:B.variants;return wS({variants:A},V({},F,{theme:D}))}),m||E.push(s);const I=E.length-T.length;if(Array.isArray(P)&&I>0){const F=new Array(I).fill("");_=[...P,...F],_.raw=[...P.raw,...F]}const R=w(_,...E);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(k.withConfig=w.withConfig),k}}const Hr=dde();function rN(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=rN(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function IW(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:rN(e.components[n].defaultProps,r)}function AW({props:t,name:e,defaultTheme:n,themeId:r}){let i=hk(n);return r&&(i=i[r]||i),IW({theme:i,name:e,props:t})}const vi=typeof window<"u"?b.useLayoutEffect:b.useEffect;function hde(t,e,n,r,i){const[s,o]=b.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return vi(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&o(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),s}const RW=b.useSyncExternalStore;function fde(t,e,n,r,i){const s=b.useCallback(()=>e,[e]),o=b.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return s},[s,t,r,i,n]),[a,l]=b.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[s,n,t]);return RW(l,a,o)}function iN(t,e={}){const n=kW(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=IW({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(RW!==void 0?fde:hde)(l,i,s,o,a)}function wh(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const pde=Object.freeze(Object.defineProperty({__proto__:null,default:wh},Symbol.toStringTag,{value:"Module"}));function sN(t,e=0,n=1){return wh(t,e,n)}function gde(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Xg(t){if(t.type)return t;if(t.charAt(0)==="#")return Xg(gde(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Sd(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Sd(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function kk(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function go(t,e){return t=Xg(t),e=sN(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,kk(t)}function mde(t,e){if(t=Xg(t),e=sN(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return kk(t)}function yde(t,e){if(t=Xg(t),e=sN(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return kk(t)}const bde=q.oneOfType([q.func,q.object]),Tk=bde;function bE(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Pv(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function xS(t,e){var n,r;return b.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function fi(t){return t&&t.ownerDocument||document}function Vc(t){return fi(t).defaultView||window}function x2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let ED=0;function vde(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(ED+=1,n(`mui-${ED}`))},[e]),r}const BD=Wh.useId;function Bo(t){if(BD!==void 0){const e=BD();return t??e}return vde(t)}function yo({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=b.useRef(t!==void 0),[s,o]=b.useState(e),a=i?t:s,l=b.useCallback(c=>{i||o(c)},[]);return[a,l]}function Et(t){const e=b.useRef(t);return vi(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function Qn(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{x2(n,e)})},t)}const ND={};function wde(t,e){const n=b.useRef(ND);return n.current===ND&&(n.current=t(e)),n}const xde=[];function Sde(t){b.useEffect(t,xde)}let oN=class LW{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new LW}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}};function gg(){const t=wde(oN.create).current;return Sde(t.disposeEffect),t}let Pk=!0,vE=!1;const Cde=new oN,kde={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tde(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&kde[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Pde(t){t.metaKey||t.altKey||t.ctrlKey||(Pk=!0)}function W_(){Pk=!1}function _de(){this.visibilityState==="hidden"&&vE&&(Pk=!0)}function Mde(t){t.addEventListener("keydown",Pde,!0),t.addEventListener("mousedown",W_,!0),t.addEventListener("pointerdown",W_,!0),t.addEventListener("touchstart",W_,!0),t.addEventListener("visibilitychange",_de,!0)}function Ede(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Pk||Tde(e)}function _k(){const t=b.useCallback(i=>{i!=null&&Mde(i.ownerDocument)},[]),e=b.useRef(!1);function n(){return e.current?(vE=!0,Cde.start(100,()=>{vE=!1}),e.current=!1,!0):!1}function r(i){return Ede(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function DW(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let S0;function FW(){if(S0)return S0;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),S0="reverse",t.scrollLeft>0?S0="default":(t.scrollLeft=1,t.scrollLeft===0&&(S0="negative")),document.body.removeChild(t),S0}function Bde(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(FW()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const aN=t=>{const e=b.useRef({});return b.useEffect(()=>{e.current=t}),e.current},Nde={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},lN=Nde;function vt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Ide=b.createContext(),Vr=()=>{const t=b.useContext(Ide);return t??!1},Ade=["component","direction","spacing","divider","children","className","useFlexGap"],Rde=Tv(),Lde=Hr("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Dde(t){return AW({props:t,name:"MuiStack",defaultTheme:Rde})}function Fde(t,e){const n=b.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(b.cloneElement(e,{key:`separator-${s}`})),r),[])}const Ode=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],$de=({ownerState:t,theme:e})=>{let n=V({display:"flex",flexDirection:"column"},Hc({theme:e},z_({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=ZB(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=z_({values:t.direction,base:i}),o=z_({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),n=Ko(n,Hc({theme:e},o,(l,c)=>t.useFlexGap?{gap:Cp(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Ode(c?s[c]:t.direction)}`]:Cp(r,l)}}))}return n=Qce(e.breakpoints,n),n};function Hde(t={}){const{createStyledComponent:e=Lde,useThemeProps:n=Dde,componentName:r="MuiStack"}=t,i=()=>vt({root:["root"]},l=>wt(r,l),{}),s=e($de);return b.forwardRef(function(l,c){const u=n(l),d=fk(u),{component:h="div",direction:f="column",spacing:p=0,divider:m,children:y,className:S,useFlexGap:w=!1}=d,v=Ue(d,Ade),k={direction:f,spacing:p,useFlexGap:w},P=i();return C.jsx(s,V({as:h,ownerState:k,ref:c,className:Ae(P.root,S)},v,{children:m?Fde(y,m):y}))})}function Vde(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var gs={},OW={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(OW);var $W=OW.exports;const zde=Jh(Ole),Wde=Jh(pde);var HW=$W;Object.defineProperty(gs,"__esModule",{value:!0});var zn=gs.alpha=GW;gs.blend=ehe;gs.colorChannel=void 0;var qg=gs.darken=uN;gs.decomposeColor=Wl;gs.emphasize=UW;var Gde=gs.getContrastRatio=qde;gs.getLuminance=S2;gs.hexToRgb=VW;gs.hslToRgb=WW;var Kg=gs.lighten=dN;gs.private_safeAlpha=Kde;gs.private_safeColorChannel=void 0;gs.private_safeDarken=Qde;gs.private_safeEmphasize=Zde;gs.private_safeLighten=Jde;gs.recomposeColor=Nm;gs.rgbToHex=Xde;var ID=HW(zde),Ude=HW(Wde);function cN(t,e=0,n=1){return(0,Ude.default)(t,e,n)}function VW(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function jde(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Wl(t){if(t.type)return t;if(t.charAt(0)==="#")return Wl(VW(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,ID.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,ID.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const zW=t=>{const e=Wl(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};gs.colorChannel=zW;const Yde=(t,e)=>{try{return zW(t)}catch{return t}};gs.private_safeColorChannel=Yde;function Nm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Xde(t){if(t.indexOf("#")===0)return t;const{values:e}=Wl(t);return`#${e.map((n,r)=>jde(r===3?Math.round(255*n):n)).join("")}`}function WW(t){t=Wl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Nm({type:a,values:l})}function S2(t){t=Wl(t);let e=t.type==="hsl"||t.type==="hsla"?Wl(WW(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qde(t,e){const n=S2(t),r=S2(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function GW(t,e){return t=Wl(t),e=cN(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Nm(t)}function Kde(t,e,n){try{return GW(t,e)}catch{return t}}function uN(t,e){if(t=Wl(t),e=cN(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Nm(t)}function Qde(t,e,n){try{return uN(t,e)}catch{return t}}function dN(t,e){if(t=Wl(t),e=cN(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Nm(t)}function Jde(t,e,n){try{return dN(t,e)}catch{return t}}function UW(t,e=.15){return S2(t)>.5?uN(t,e):dN(t,e)}function Zde(t,e,n){try{return UW(t,e)}catch{return t}}function ehe(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Wl(t),o=Wl(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Nm({type:"rgb",values:a})}const the=["mode","contrastThreshold","tonalOffset"],AD={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mb.white,default:mb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},G_={text:{primary:mb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function RD(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Kg(t.main,i):e==="dark"&&(t.dark=qg(t.main,s)))}function nhe(t="light"){return t==="dark"?{main:v0[200],light:v0[50],dark:v0[400]}:{main:v0[700],light:v0[400],dark:v0[800]}}function rhe(t="light"){return t==="dark"?{main:b0[200],light:b0[50],dark:b0[400]}:{main:b0[500],light:b0[300],dark:b0[700]}}function ihe(t="light"){return t==="dark"?{main:y0[500],light:y0[300],dark:y0[700]}:{main:y0[700],light:y0[400],dark:y0[800]}}function she(t="light"){return t==="dark"?{main:w0[400],light:w0[300],dark:w0[700]}:{main:w0[700],light:w0[500],dark:w0[900]}}function ohe(t="light"){return t==="dark"?{main:x0[400],light:x0[300],dark:x0[700]}:{main:x0[800],light:x0[500],dark:x0[900]}}function ahe(t="light"){return t==="dark"?{main:E1[400],light:E1[300],dark:E1[700]}:{main:"#ed6c02",light:E1[500],dark:E1[900]}}function lhe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ue(t,the),s=t.primary||nhe(e),o=t.secondary||rhe(e),a=t.error||ihe(e),l=t.info||she(e),c=t.success||ohe(e),u=t.warning||ahe(e);function d(m){return Gde(m,G_.text.primary)>=n?G_.text.primary:AD.text.primary}const h=({color:m,name:y,mainShade:S=500,lightShade:w=300,darkShade:v=700})=>{if(m=V({},m),!m.main&&m[S]&&(m.main=m[S]),!m.hasOwnProperty("main"))throw new Error(Sd(11,y?` (${y})`:"",S));if(typeof m.main!="string")throw new Error(Sd(12,y?` (${y})`:"",JSON.stringify(m.main)));return RD(m,"light",w,r),RD(m,"dark",v,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:G_,light:AD};return Ko(V({common:V({},mb),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Fle,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const che=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function uhe(t){return Math.round(t*1e5)/1e5}const LD={textTransform:"uppercase"},DD='"Roboto", "Helvetica", "Arial", sans-serif';function dhe(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=DD,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Ue(n,che),f=i/14,p=d||(S=>`${S/c*f}rem`),m=(S,w,v,k,P)=>V({fontFamily:r,fontWeight:S,fontSize:p(w),lineHeight:v},r===DD?{letterSpacing:`${uhe(k/w)}em`}:{},P,u),y={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,LD),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,LD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ko(V({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},y),h,{clone:!1})}const hhe=.2,fhe=.14,phe=.12;function xi(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hhe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${fhe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${phe})`].join(",")}const ghe=["none",xi(0,2,1,-1,0,1,1,0,0,1,3,0),xi(0,3,1,-2,0,2,2,0,0,1,5,0),xi(0,3,3,-2,0,3,4,0,0,1,8,0),xi(0,2,4,-1,0,4,5,0,0,1,10,0),xi(0,3,5,-1,0,5,8,0,0,1,14,0),xi(0,3,5,-1,0,6,10,0,0,1,18,0),xi(0,4,5,-2,0,7,10,1,0,2,16,1),xi(0,5,5,-3,0,8,10,1,0,3,14,2),xi(0,5,6,-3,0,9,12,1,0,3,16,2),xi(0,6,6,-3,0,10,14,1,0,4,18,3),xi(0,6,7,-4,0,11,15,1,0,4,20,3),xi(0,7,8,-4,0,12,17,2,0,5,22,4),xi(0,7,8,-4,0,13,19,2,0,5,24,4),xi(0,7,9,-4,0,14,21,2,0,5,26,4),xi(0,8,9,-5,0,15,22,2,0,6,28,5),xi(0,8,10,-5,0,16,24,2,0,6,30,5),xi(0,8,11,-5,0,17,26,2,0,6,32,5),xi(0,9,11,-5,0,18,28,2,0,7,34,6),xi(0,9,12,-6,0,19,29,2,0,7,36,6),xi(0,10,13,-6,0,20,31,3,0,8,38,7),xi(0,10,13,-6,0,21,33,3,0,8,40,7),xi(0,10,14,-6,0,22,35,3,0,8,42,7),xi(0,11,14,-7,0,23,36,3,0,9,44,8),xi(0,11,15,-7,0,24,38,3,0,9,46,8)],mhe=["duration","easing","delay"],yhe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bhe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function FD(t){return`${Math.round(t)}ms`}function vhe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function whe(t){const e=V({},yhe,t.easing),n=V({},bhe,t.duration);return V({getAutoHeightDuration:vhe,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Ue(s,mhe),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:FD(o)} ${a} ${typeof l=="string"?l:FD(l)}`).join(",")}},t,{easing:e,duration:n})}const xhe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},She=xhe,Che=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jW(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ue(t,Che);if(t.vars)throw new Error(Sd(18));const a=lhe(r),l=Tv(t);let c=Ko(l,{mixins:Vde(l.breakpoints,n),palette:a,shadows:ghe.slice(),typography:dhe(a,s),transitions:whe(i),zIndex:V({},She)});return c=Ko(c,o),c=e.reduce((u,d)=>Ko(u,d),c),c.unstable_sxConfig=V({},kv,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Bm({sx:d,theme:this})},c}function khe(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function The(t){return parseFloat(t)}const Phe=jW(),Mk=Phe;function _a(){const t=hk(Mk);return t[xv]||t}function ft({props:t,name:e}){return AW({props:t,name:e,defaultTheme:Mk,themeId:xv})}var _v={},U_={exports:{}},OD;function _he(){return OD||(OD=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(U_)),U_.exports}const YW=Jh(Uce),Mhe=Jh(jce),Ehe=Jh(Zce),Bhe=Jh(nde),Nhe=Jh(Vue),Ihe=Jh(Yue);var Im=$W;Object.defineProperty(_v,"__esModule",{value:!0});var Ahe=_v.default=jhe;_v.shouldForwardProp=SS;_v.systemDefaultTheme=void 0;var vl=Im(uW()),wE=Im(_he()),$D=Hhe(YW),Rhe=Mhe;Im(Ehe);Im(Bhe);var Lhe=Im(Nhe),Dhe=Im(Ihe);const Fhe=["ownerState"],Ohe=["variants"],$he=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function XW(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(XW=function(r){return r?n:e})(t)}function Hhe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=XW(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Vhe(t){return Object.keys(t).length===0}function zhe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function SS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Whe=_v.systemDefaultTheme=(0,Lhe.default)(),Ghe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function gx({defaultTheme:t,theme:e,themeId:n}){return Vhe(e)?t:e[n]||e}function Uhe(t){return t?(e,n)=>n[t]:null}function CS(t,e){let{ownerState:n}=e,r=(0,wE.default)(e,Fhe);const i=typeof t=="function"?t((0,vl.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>CS(s,(0,vl.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,wE.default)(i,Ohe);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,vl.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,vl.default)({ownerState:n},r,n)):l.style))}),a}return i}function jhe(t={}){const{themeId:e,defaultTheme:n=Whe,rootShouldForwardProp:r=SS,slotShouldForwardProp:i=SS}=t,s=o=>(0,Dhe.default)((0,vl.default)({},o,{theme:gx((0,vl.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,$D.internal_processStyles)(o,P=>P.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Uhe(Ghe(c))}=a,f=(0,wE.default)(a,$he),p=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let y,S=SS;c==="Root"||c==="root"?S=r:c?S=i:zhe(o)&&(S=void 0);const w=(0,$D.default)(o,(0,vl.default)({shouldForwardProp:S,label:y},f)),v=P=>typeof P=="function"&&P.__emotion_real!==P||(0,Rhe.isPlainObject)(P)?T=>CS(P,(0,vl.default)({},T,{theme:gx({theme:T.theme,defaultTheme:n,themeId:e})})):P,k=(P,...T)=>{let _=v(P);const E=T?T.map(v):[];l&&h&&E.push(F=>{const B=gx((0,vl.default)({},F,{defaultTheme:n,themeId:e}));if(!B.components||!B.components[l]||!B.components[l].styleOverrides)return null;const D=B.components[l].styleOverrides,A={};return Object.entries(D).forEach(([N,L])=>{A[N]=CS(L,(0,vl.default)({},F,{theme:B}))}),h(F,A)}),l&&!p&&E.push(F=>{var B;const D=gx((0,vl.default)({},F,{defaultTheme:n,themeId:e})),A=D==null||(B=D.components)==null||(B=B[l])==null?void 0:B.variants;return CS({variants:A},(0,vl.default)({},F,{theme:D}))}),m||E.push(s);const I=E.length-T.length;if(Array.isArray(P)&&I>0){const F=new Array(I).fill("");_=[...P,...F],_.raw=[...P.raw,...F]}const R=w(_,...E);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(k.withConfig=w.withConfig),k}}function Mv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Hs=t=>Mv(t)&&t!=="classes",be=Ahe({themeId:xv,defaultTheme:Mk,rootShouldForwardProp:Hs}),HD=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Yhe(t){return wt("MuiSvgIcon",t)}xt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Xhe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qhe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(n)}`]};return vt(i,Yhe,r)},Khe=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ge(n.color)}`],e[`fontSize${Ge(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),xE=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=Ue(r,Xhe),p=b.isValidElement(i)&&i.type==="svg",m=V({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p}),y={};u||(y.viewBox=h);const S=qhe(m);return C.jsxs(Khe,V({as:a,className:Ae(S.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},y,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,d?C.jsx("title",{children:d}):null]}))});xE.muiName="SvgIcon";function tn(t,e){function n(r,i){return C.jsx(xE,V({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=xE.muiName,b.memo(b.forwardRef(n))}var ri={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN=Symbol.for("react.element"),fN=Symbol.for("react.portal"),Ek=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),Nk=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Ak=Symbol.for("react.context"),Qhe=Symbol.for("react.server_context"),Rk=Symbol.for("react.forward_ref"),Lk=Symbol.for("react.suspense"),Dk=Symbol.for("react.suspense_list"),Fk=Symbol.for("react.memo"),Ok=Symbol.for("react.lazy"),Jhe=Symbol.for("react.offscreen"),qW;qW=Symbol.for("react.module.reference");function Ql(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hN:switch(t=t.type,t){case Ek:case Nk:case Bk:case Lk:case Dk:return t;default:switch(t=t&&t.$$typeof,t){case Qhe:case Ak:case Rk:case Ok:case Fk:case Ik:return t;default:return e}}case fN:return e}}}ri.ContextConsumer=Ak;ri.ContextProvider=Ik;ri.Element=hN;ri.ForwardRef=Rk;ri.Fragment=Ek;ri.Lazy=Ok;ri.Memo=Fk;ri.Portal=fN;ri.Profiler=Nk;ri.StrictMode=Bk;ri.Suspense=Lk;ri.SuspenseList=Dk;ri.isAsyncMode=function(){return!1};ri.isConcurrentMode=function(){return!1};ri.isContextConsumer=function(t){return Ql(t)===Ak};ri.isContextProvider=function(t){return Ql(t)===Ik};ri.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hN};ri.isForwardRef=function(t){return Ql(t)===Rk};ri.isFragment=function(t){return Ql(t)===Ek};ri.isLazy=function(t){return Ql(t)===Ok};ri.isMemo=function(t){return Ql(t)===Fk};ri.isPortal=function(t){return Ql(t)===fN};ri.isProfiler=function(t){return Ql(t)===Nk};ri.isStrictMode=function(t){return Ql(t)===Bk};ri.isSuspense=function(t){return Ql(t)===Lk};ri.isSuspenseList=function(t){return Ql(t)===Dk};ri.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ek||t===Nk||t===Bk||t===Lk||t===Dk||t===Jhe||typeof t=="object"&&t!==null&&(t.$$typeof===Ok||t.$$typeof===Fk||t.$$typeof===Ik||t.$$typeof===Ak||t.$$typeof===Rk||t.$$typeof===qW||t.getModuleId!==void 0)};ri.typeOf=Ql;function $k(t){return ft}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},SE(t,e)}function pN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,SE(t,e)}function Zhe(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function efe(t,e){t.classList?t.classList.add(e):Zhe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function VD(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tfe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=VD(t.className,e):t.setAttribute("class",VD(t.className&&t.className.baseVal||"",e))}const zD={disabled:!1},C2=cn.createContext(null);var KW=function(e){return e.scrollTop},ly="unmounted",Lf="exited",Df="entering",W0="entered",CE="exiting",Rd=function(t){pN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Lf,s.appearStatus=Df):l=W0:r.unmountOnExit||r.mountOnEnter?l=ly:l=Lf,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ly?{status:Lf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Df&&o!==W0&&(s=Df):(o===Df||o===W0)&&(s=CE)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Df){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ay.findDOMNode(this);o&&KW(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lf&&this.setState({status:ly})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ay.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||zD.disabled){this.safeSetState({status:W0},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Df},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:W0},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ay.findDOMNode(this);if(!s||zD.disabled){this.safeSetState({status:Lf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:CE},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Lf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ay.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ly)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ue(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return cn.createElement(C2.Provider,{value:null},typeof o=="function"?o(i,a):cn.cloneElement(cn.Children.only(o),a))},e}(cn.Component);Rd.contextType=C2;Rd.propTypes={};function C0(){}Rd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:C0,onEntering:C0,onEntered:C0,onExit:C0,onExiting:C0,onExited:C0};Rd.UNMOUNTED=ly;Rd.EXITED=Lf;Rd.ENTERING=Df;Rd.ENTERED=W0;Rd.EXITING=CE;const Hk=Rd;var nfe=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return efe(e,r)})},j_=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return tfe(e,r)})},gN=function(t){pN(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],h=c?d+"-active":l[a+"Active"],f=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:f}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&KW(i),a&&(this.appliedClasses[s][o]=a,nfe(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&j_(i,a),l&&j_(i,l),c&&j_(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Ue(i,["classNames"]);return cn.createElement(Hk,V({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(cn.Component);gN.defaultProps={classNames:""};gN.propTypes={};const rfe=gN;function ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mN(t,e){var n=function(s){return e&&b.isValidElement(s)?e(s):s},r=Object.create(null);return t&&b.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function sfe(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Kf(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ofe(t,e){return mN(t.children,function(n){return b.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Kf(n,"appear",t),enter:Kf(n,"enter",t),exit:Kf(n,"exit",t)})})}function afe(t,e,n){var r=mN(t.children),i=sfe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(b.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=b.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Kf(o,"exit",t),enter:Kf(o,"enter",t)}):!l&&a&&!u?i[s]=b.cloneElement(o,{in:!1}):l&&a&&b.isValidElement(c)&&(i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Kf(o,"exit",t),enter:Kf(o,"enter",t)}))}}),i}var lfe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},cfe={component:"div",childFactory:function(e){return e}},yN=function(t){pN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(ife(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?ofe(i,a):afe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=mN(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=V({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ue(i,["component","childFactory"]),l=this.state.contextValue,c=lfe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?cn.createElement(C2.Provider,{value:l},c):cn.createElement(C2.Provider,{value:l},cn.createElement(s,a,c))},e}(cn.Component);yN.propTypes={};yN.defaultProps=cfe;const bN=yN,vN=t=>t.scrollTop;function Qg(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function ufe(t){return wt("MuiPaper",t)}xt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const dfe=["className","component","elevation","square","variant"],hfe=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return vt(s,ufe,i)},ffe=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return V({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&V({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${zn("#fff",HD(e.elevation))}, ${zn("#fff",HD(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),pfe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Ue(r,dfe),u=V({},r,{component:s,elevation:o,square:a,variant:l}),d=hfe(u);return C.jsx(ffe,V({as:s,ownerState:u,className:Ae(d.root,i),ref:n},c))}),Uc=pfe;function Ac(t){return typeof t=="string"}function cy(t,e,n){return t===void 0||Ac(t)?e:V({},e,{ownerState:V({},e.ownerState,n)})}function gfe(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const mfe={disableDefaultClasses:!1},yfe=b.createContext(mfe);function bfe(t){const{disableDefaultClasses:e}=b.useContext(yfe);return n=>e?"":t(n)}function Iy(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Ev(t,e,n){return typeof t=="function"?t(e,n):t}function WD(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function vfe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Ae(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=V({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=V({},n,i,r);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=Iy(V({},i,r)),a=WD(r),l=WD(i),c=e(o),u=Ae(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=V({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=V({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const wfe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pn(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ue(t,wfe),a=s?{}:Ev(r,i),{props:l,internalRef:c}=vfe(V({},o,{externalSlotProps:a})),u=Qn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return cy(n,V({},l,{ref:u}),i)}function xfe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=b.useState(!1),h=Ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=Ae(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),b.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),C.jsx("span",{className:h,style:f,children:C.jsx("span",{className:p})})}const Sl=xt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sfe=["center","classes","className"];let Vk=t=>t,GD,UD,jD,YD;const kE=550,Cfe=80,kfe=Gc(GD||(GD=Vk`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Tfe=Gc(UD||(UD=Vk`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Pfe=Gc(jD||(jD=Vk`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),_fe=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Mfe=be(xfe,{name:"MuiTouchRipple",slot:"Ripple"})(YD||(YD=Vk`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Sl.rippleVisible,kfe,kE,({theme:t})=>t.transitions.easing.easeInOut,Sl.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Sl.child,Sl.childLeaving,Tfe,kE,({theme:t})=>t.transitions.easing.easeInOut,Sl.childPulsate,Pfe,({theme:t})=>t.transitions.easing.easeInOut),Efe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ue(r,Sfe),[l,c]=b.useState([]),u=b.useRef(0),d=b.useRef(null);b.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=b.useRef(!1),f=gg(),p=b.useRef(null),m=b.useRef(null),y=b.useCallback(k=>{const{pulsate:P,rippleX:T,rippleY:_,rippleSize:E,cb:I}=k;c(R=>[...R,C.jsx(Mfe,{classes:{ripple:Ae(s.ripple,Sl.ripple),rippleVisible:Ae(s.rippleVisible,Sl.rippleVisible),ripplePulsate:Ae(s.ripplePulsate,Sl.ripplePulsate),child:Ae(s.child,Sl.child),childLeaving:Ae(s.childLeaving,Sl.childLeaving),childPulsate:Ae(s.childPulsate,Sl.childPulsate)},timeout:kE,pulsate:P,rippleX:T,rippleY:_,rippleSize:E},u.current)]),u.current+=1,d.current=I},[s]),S=b.useCallback((k={},P={},T=()=>{})=>{const{pulsate:_=!1,center:E=i||P.pulsate,fakeElement:I=!1}=P;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const R=I?null:m.current,F=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,D,A;if(E||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)B=Math.round(F.width/2),D=Math.round(F.height/2);else{const{clientX:N,clientY:L}=k.touches&&k.touches.length>0?k.touches[0]:k;B=Math.round(N-F.left),D=Math.round(L-F.top)}if(E)A=Math.sqrt((2*F.width**2+F.height**2)/3),A%2===0&&(A+=1);else{const N=Math.max(Math.abs((R?R.clientWidth:0)-B),B)*2+2,L=Math.max(Math.abs((R?R.clientHeight:0)-D),D)*2+2;A=Math.sqrt(N**2+L**2)}k!=null&&k.touches?p.current===null&&(p.current=()=>{y({pulsate:_,rippleX:B,rippleY:D,rippleSize:A,cb:T})},f.start(Cfe,()=>{p.current&&(p.current(),p.current=null)})):y({pulsate:_,rippleX:B,rippleY:D,rippleSize:A,cb:T})},[i,y,f]),w=b.useCallback(()=>{S({},{pulsate:!0})},[S]),v=b.useCallback((k,P)=>{if(f.clear(),(k==null?void 0:k.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{v(k,P)});return}p.current=null,c(T=>T.length>0?T.slice(1):T),d.current=P},[f]);return b.useImperativeHandle(n,()=>({pulsate:w,start:S,stop:v}),[w,S,v]),C.jsx(_fe,V({className:Ae(Sl.root,s.root,o),ref:m},a,{children:C.jsx(bN,{component:null,exit:!0,children:l})}))}),Bfe=Efe;function Nfe(t){return wt("MuiButtonBase",t)}const Ife=xt("MuiButtonBase",["root","disabled","focusVisible"]),Afe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Rfe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=vt({root:["root",e&&"disabled",n&&"focusVisible"]},Nfe,i);return n&&r&&(o.root+=` ${r}`),o},Lfe=be("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ife.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Dfe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:y,onDragLeave:S,onFocus:w,onFocusVisible:v,onKeyDown:k,onKeyUp:P,onMouseDown:T,onMouseLeave:_,onMouseUp:E,onTouchEnd:I,onTouchMove:R,onTouchStart:F,tabIndex:B=0,TouchRippleProps:D,touchRippleRef:A,type:N}=r,L=Ue(r,Afe),H=b.useRef(null),O=b.useRef(null),G=Qn(O,A),{isFocusVisibleRef:j,onFocus:J,onBlur:Z,ref:ae}=_k(),[z,$]=b.useState(!1);c&&z&&$(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{$(!0),H.current.focus()}}),[]);const[W,oe]=b.useState(!1);b.useEffect(()=>{oe(!0)},[]);const X=W&&!u&&!c;b.useEffect(()=>{z&&h&&!u&&W&&O.current.pulsate()},[u,h,z,W]);function K(me,ye,Ee=d){return Et(We=>(ye&&ye(We),!Ee&&O.current&&O.current[me](We),!0))}const Y=K("start",T),le=K("stop",y),ie=K("stop",S),re=K("stop",E),se=K("stop",me=>{z&&me.preventDefault(),_&&_(me)}),ue=K("start",F),we=K("stop",I),Pe=K("stop",R),te=K("stop",me=>{Z(me),j.current===!1&&$(!1),p&&p(me)},!1),pe=Et(me=>{H.current||(H.current=me.currentTarget),J(me),j.current===!0&&($(!0),v&&v(me)),w&&w(me)}),ge=()=>{const me=H.current;return l&&l!=="button"&&!(me.tagName==="A"&&me.href)},Te=b.useRef(!1),Re=Et(me=>{h&&!Te.current&&z&&O.current&&me.key===" "&&(Te.current=!0,O.current.stop(me,()=>{O.current.start(me)})),me.target===me.currentTarget&&ge()&&me.key===" "&&me.preventDefault(),k&&k(me),me.target===me.currentTarget&&ge()&&me.key==="Enter"&&!c&&(me.preventDefault(),m&&m(me))}),Ie=Et(me=>{h&&me.key===" "&&O.current&&z&&!me.defaultPrevented&&(Te.current=!1,O.current.stop(me,()=>{O.current.pulsate(me)})),P&&P(me),m&&me.target===me.currentTarget&&ge()&&me.key===" "&&!me.defaultPrevented&&m(me)});let he=l;he==="button"&&(L.href||L.to)&&(he=f);const Se={};he==="button"?(Se.type=N===void 0?"button":N,Se.disabled=c):(!L.href&&!L.to&&(Se.role="button"),c&&(Se["aria-disabled"]=c));const Ce=Qn(n,ae,H),$e=V({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:B,focusVisible:z}),ke=Rfe($e);return C.jsxs(Lfe,V({as:he,className:Ae(ke.root,a),ownerState:$e,onBlur:te,onClick:m,onContextMenu:le,onFocus:pe,onKeyDown:Re,onKeyUp:Ie,onMouseDown:Y,onMouseLeave:se,onMouseUp:re,onDragLeave:ie,onTouchEnd:we,onTouchMove:Pe,onTouchStart:ue,ref:Ce,tabIndex:c?-1:B,type:N},Se,L,{children:[o,X?C.jsx(Bfe,V({ref:G,center:s},D)):null]}))}),Gl=Dfe;function Ffe(t){return wt("MuiIconButton",t)}const Ofe=xt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),$fe=Ofe,Hfe=["edge","children","className","color","disabled","disableFocusRipple","size"],Vfe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Ge(r)}`,i&&`edge${Ge(i)}`,`size${Ge(s)}`]};return vt(o,Ffe,e)},zfe=be(Gl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ge(n.color)}`],n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})(({theme:t,ownerState:e})=>V({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return V({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&V({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":V({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${$fe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Wfe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Ue(r,Hfe),h=V({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),f=Vfe(h);return C.jsx(zfe,V({className:Ae(f.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Ei=Wfe,Gfe=tn(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Ufe(t){return wt("MuiTypography",t)}xt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const jfe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Yfe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return vt(a,Ufe,o)},Xfe=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>V({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),XD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qfe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Kfe=t=>qfe[t]||t,Qfe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTypography"}),i=Kfe(r.color),s=fk(V({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=XD}=s,p=Ue(s,jfe),m=V({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:f}),y=l||(d?"p":f[h]||XD[h])||"span",S=Yfe(m);return C.jsx(Xfe,V({as:y,ref:n,ownerState:m,className:Ae(S.root,a)},p))}),Tr=Qfe;function Jfe(t){return wt("MuiAppBar",t)}xt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Zfe=["className","color","enableColorOnDark","position"],epe=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Ge(e)}`,`position${Ge(n)}`]};return vt(i,Jfe,r)},mx=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,tpe=be(Uc,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],e[`color${Ge(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return V({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&V({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&V({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&V({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:mx(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:mx(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:mx(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:mx(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),npe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Ue(r,Zfe),c=V({},r,{color:s,position:a,enableColorOnDark:o}),u=epe(c);return C.jsx(tpe,V({square:!0,component:"header",ownerState:c,elevation:4,className:Ae(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),rpe=npe;function ipe(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,s=aN({badgeContent:e,max:r});let o=n;n===!1&&e===0&&!i&&(o=!0);const{badgeContent:a,max:l=r}=o?s:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:o,max:l,displayValue:c}}const QW="base";function spe(t){return`${QW}--${t}`}function ope(t,e){return`${QW}-${t}-${e}`}function JW(t,e){const n=_W[e];return n?spe(n):ope(t,e)}function ape(t,e){const n={};return e.forEach(r=>{n[r]=JW(t,r)}),n}function qD(t){return t.substring(2).toLowerCase()}function lpe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function ZW(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=b.useRef(!1),a=b.useRef(null),l=b.useRef(!1),c=b.useRef(!1);b.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Qn(e.ref,a),d=Et(p=>{const m=c.current;c.current=!1;const y=fi(a.current);if(!l.current||!a.current||"clientX"in p&&lpe(p,y))return;if(o.current){o.current=!1;return}let S;p.composedPath?S=p.composedPath().indexOf(a.current)>-1:S=!y.documentElement.contains(p.target)||a.current.contains(p.target),!S&&(n||!m)&&i(p)}),h=p=>m=>{c.current=!0;const y=e.props[p];y&&y(m)},f={ref:u};return s!==!1&&(f[s]=h(s)),b.useEffect(()=>{if(s!==!1){const p=qD(s),m=fi(a.current),y=()=>{o.current=!0};return m.addEventListener(p,d),m.addEventListener("touchmove",y),()=>{m.removeEventListener(p,d),m.removeEventListener("touchmove",y)}}},[d,s]),r!==!1&&(f[r]=h(r)),b.useEffect(()=>{if(r!==!1){const p=qD(r),m=fi(a.current);return m.addEventListener(p,d),()=>{m.removeEventListener(p,d)}}},[d,r]),C.jsx(b.Fragment,{children:b.cloneElement(e,f)})}const cpe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function upe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dpe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function hpe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dpe(t))}function fpe(t){const e=[],n=[];return Array.from(t.querySelectorAll(cpe)).forEach((r,i)=>{const s=upe(r);s===-1||!hpe(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function ppe(){return!0}function wN(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=fpe,isEnabled:o=ppe,open:a}=t,l=b.useRef(!1),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=b.useRef(!1),p=b.useRef(null),m=Qn(e.ref,p),y=b.useRef(null);b.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),b.useEffect(()=>{if(!a||!p.current)return;const v=fi(p.current);return p.current.contains(v.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),b.useEffect(()=>{if(!a||!p.current)return;const v=fi(p.current),k=_=>{y.current=_,!(r||!o()||_.key!=="Tab")&&v.activeElement===p.current&&_.shiftKey&&(l.current=!0,u.current&&u.current.focus())},P=()=>{const _=p.current;if(_===null)return;if(!v.hasFocus()||!o()||l.current){l.current=!1;return}if(_.contains(v.activeElement)||r&&v.activeElement!==c.current&&v.activeElement!==u.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let E=[];if((v.activeElement===c.current||v.activeElement===u.current)&&(E=s(p.current)),E.length>0){var I,R;const F=!!((I=y.current)!=null&&I.shiftKey&&((R=y.current)==null?void 0:R.key)==="Tab"),B=E[0],D=E[E.length-1];typeof B!="string"&&typeof D!="string"&&(F?D.focus():B.focus())}else _.focus()};v.addEventListener("focusin",P),v.addEventListener("keydown",k,!0);const T=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(T),v.removeEventListener("focusin",P),v.removeEventListener("keydown",k,!0)}},[n,r,i,o,a,s]);const S=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0,h.current=v.target;const k=e.props.onFocus;k&&k(v)},w=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0};return C.jsxs(b.Fragment,{children:[C.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),b.cloneElement(e,{ref:m,onFocus:S}),C.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function gpe(t){return typeof t=="function"?t():t}const eG=b.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=b.useState(null),l=Qn(b.isValidElement(r)?r.ref:null,n);if(vi(()=>{s||a(gpe(i)||document.body)},[i,s]),vi(()=>{if(o&&!s)return x2(n,o),()=>{x2(n,null)}},[n,o,s]),s){if(b.isValidElement(r)){const c={ref:l};return b.cloneElement(r,c)}return C.jsx(b.Fragment,{children:r})}return C.jsx(b.Fragment,{children:o&&_m.createPortal(r,o)})});function mpe(t){const e=fi(t);return e.body===t?Vc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ay(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function KD(t){return parseInt(Vc(t).getComputedStyle(t).paddingRight,10)||0}function ype(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function QD(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!ype(o);a&&l&&Ay(o,i)})}function Y_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function bpe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(mpe(r)){const o=DW(fi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${KD(r)+o}px`;const a=fi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${KD(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=fi(r).body;else{const o=r.parentElement,a=Vc(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function vpe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class wpe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ay(e.modalRef,!1);const i=vpe(n);QD(n,e.mount,e.modalRef,i,!0);const s=Y_(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Y_(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=bpe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Y_(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ay(e.modalRef,n),QD(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ay(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function xpe(t){return typeof t=="function"?t():t}function Spe(t){return t?t.props.hasOwnProperty("in"):!1}const Cpe=new wpe;function kpe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Cpe,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,h=b.useRef({}),f=b.useRef(null),p=b.useRef(null),m=Qn(p,d),[y,S]=b.useState(!u),w=Spe(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const k=()=>fi(f.current),P=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),T=()=>{i.mount(P(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},_=Et(()=>{const L=xpe(e)||k().body;i.add(P(),L),p.current&&T()}),E=b.useCallback(()=>i.isTopModal(P()),[i]),I=Et(L=>{f.current=L,L&&(u&&E()?T():p.current&&Ay(p.current,v))}),R=b.useCallback(()=>{i.remove(P(),v)},[v,i]);b.useEffect(()=>()=>{R()},[R]),b.useEffect(()=>{u?_():(!w||!s)&&R()},[u,R,w,s,_]);const F=L=>H=>{var O;(O=L.onKeyDown)==null||O.call(L,H),!(H.key!=="Escape"||H.which===229||!E())&&(n||(H.stopPropagation(),c&&c(H,"escapeKeyDown")))},B=L=>H=>{var O;(O=L.onClick)==null||O.call(L,H),H.target===H.currentTarget&&c&&c(H,"backdropClick")};return{getRootProps:(L={})=>{const H=Iy(t);delete H.onTransitionEnter,delete H.onTransitionExited;const O=V({},H,L);return V({role:"presentation"},O,{onKeyDown:F(O),ref:m})},getBackdropProps:(L={})=>{const H=L;return V({"aria-hidden":!0},H,{onClick:B(H),open:u})},getTransitionProps:()=>{const L=()=>{S(!1),o&&o()},H=()=>{S(!0),a&&a(),s&&R()};return{onEnter:bE(L,l==null?void 0:l.props.onEnter),onExited:bE(H,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:I,isTopModal:E,exited:y,hasTransition:w}}function tG(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=b.useState(!1);return vi(()=>{n||s(!0)},[n]),b.useEffect(()=>{n&&s(!0)},[n]),C.jsx(b.Fragment,{children:i?e:r})}var xa="top",Ul="bottom",jl="right",Sa="left",xN="auto",Bv=[xa,Ul,jl,Sa],Jg="start",wb="end",Tpe="clippingParents",nG="viewport",N1="popper",Ppe="reference",JD=Bv.reduce(function(t,e){return t.concat([e+"-"+Jg,e+"-"+wb])},[]),rG=[].concat(Bv,[xN]).reduce(function(t,e){return t.concat([e,e+"-"+Jg,e+"-"+wb])},[]),_pe="beforeRead",Mpe="read",Epe="afterRead",Bpe="beforeMain",Npe="main",Ipe="afterMain",Ape="beforeWrite",Rpe="write",Lpe="afterWrite",Dpe=[_pe,Mpe,Epe,Bpe,Npe,Ipe,Ape,Rpe,Lpe];function Pu(t){return t?(t.nodeName||"").toLowerCase():null}function Za(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function kp(t){var e=Za(t).Element;return t instanceof e||t instanceof Element}function $l(t){var e=Za(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function SN(t){if(typeof ShadowRoot>"u")return!1;var e=Za(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Fpe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!$l(s)||!Pu(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ope(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!$l(i)||!Pu(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const $pe={name:"applyStyles",enabled:!0,phase:"write",fn:Fpe,effect:Ope,requires:["computeStyles"]};function vu(t){return t.split("-")[0]}var cp=Math.max,k2=Math.min,Zg=Math.round;function TE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function iG(){return!/^((?!chrome|android).)*safari/i.test(TE())}function em(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&$l(t)&&(i=t.offsetWidth>0&&Zg(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Zg(r.height)/t.offsetHeight||1);var o=kp(t)?Za(t):window,a=o.visualViewport,l=!iG()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function CN(t){var e=em(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function sG(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&SN(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kd(t){return Za(t).getComputedStyle(t)}function Hpe(t){return["table","td","th"].indexOf(Pu(t))>=0}function nf(t){return((kp(t)?t.ownerDocument:t.document)||window.document).documentElement}function zk(t){return Pu(t)==="html"?t:t.assignedSlot||t.parentNode||(SN(t)?t.host:null)||nf(t)}function ZD(t){return!$l(t)||kd(t).position==="fixed"?null:t.offsetParent}function Vpe(t){var e=/firefox/i.test(TE()),n=/Trident/i.test(TE());if(n&&$l(t)){var r=kd(t);if(r.position==="fixed")return null}var i=zk(t);for(SN(i)&&(i=i.host);$l(i)&&["html","body"].indexOf(Pu(i))<0;){var s=kd(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Nv(t){for(var e=Za(t),n=ZD(t);n&&Hpe(n)&&kd(n).position==="static";)n=ZD(n);return n&&(Pu(n)==="html"||Pu(n)==="body"&&kd(n).position==="static")?e:n||Vpe(t)||e}function kN(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ry(t,e,n){return cp(t,k2(e,n))}function zpe(t,e,n){var r=Ry(t,e,n);return r>n?n:r}function oG(){return{top:0,right:0,bottom:0,left:0}}function aG(t){return Object.assign({},oG(),t)}function lG(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Wpe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,aG(typeof e!="number"?e:lG(e,Bv))};function Gpe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=vu(n.placement),l=kN(a),c=[Sa,jl].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Wpe(i.padding,n),h=CN(s),f=l==="y"?xa:Sa,p=l==="y"?Ul:jl,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],S=Nv(s),w=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,v=m/2-y/2,k=d[f],P=w-h[u]-d[p],T=w/2-h[u]/2+v,_=Ry(k,T,P),E=l;n.modifiersData[r]=(e={},e[E]=_,e.centerOffset=_-T,e)}}function Upe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||sG(e.elements.popper,i)&&(e.elements.arrow=i))}const jpe={name:"arrow",enabled:!0,phase:"main",fn:Gpe,effect:Upe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tm(t){return t.split("-")[1]}var Ype={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xpe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Zg(n*i)/i||0,y:Zg(r*i)/i||0}}function eF(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,y=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var S=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),v=Sa,k=xa,P=window;if(c){var T=Nv(n),_="clientHeight",E="clientWidth";if(T===Za(n)&&(T=nf(n),kd(T).position!=="static"&&a==="absolute"&&(_="scrollHeight",E="scrollWidth")),T=T,i===xa||(i===Sa||i===jl)&&s===wb){k=Ul;var I=d&&T===P&&P.visualViewport?P.visualViewport.height:T[_];m-=I-r.height,m*=l?1:-1}if(i===Sa||(i===xa||i===Ul)&&s===wb){v=jl;var R=d&&T===P&&P.visualViewport?P.visualViewport.width:T[E];f-=R-r.width,f*=l?1:-1}}var F=Object.assign({position:a},c&&Ype),B=u===!0?Xpe({x:f,y:m},Za(n)):{x:f,y:m};if(f=B.x,m=B.y,l){var D;return Object.assign({},F,(D={},D[k]=w?"0":"",D[v]=S?"0":"",D.transform=(P.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",D))}return Object.assign({},F,(e={},e[k]=w?m+"px":"",e[v]=S?f+"px":"",e.transform="",e))}function qpe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:vu(e.placement),variation:tm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eF(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eF(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Kpe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qpe,data:{}};var yx={passive:!0};function Qpe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Za(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,yx)}),a&&l.addEventListener("resize",n.update,yx),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,yx)}),a&&l.removeEventListener("resize",n.update,yx)}}const Jpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qpe,data:{}};var Zpe={left:"right",right:"left",bottom:"top",top:"bottom"};function kS(t){return t.replace(/left|right|bottom|top/g,function(e){return Zpe[e]})}var e0e={start:"end",end:"start"};function tF(t){return t.replace(/start|end/g,function(e){return e0e[e]})}function TN(t){var e=Za(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function PN(t){return em(nf(t)).left+TN(t).scrollLeft}function t0e(t,e){var n=Za(t),r=nf(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=iG();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+PN(t),y:l}}function n0e(t){var e,n=nf(t),r=TN(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=cp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=cp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+PN(t),l=-r.scrollTop;return kd(i||n).direction==="rtl"&&(a+=cp(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function _N(t){var e=kd(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function cG(t){return["html","body","#document"].indexOf(Pu(t))>=0?t.ownerDocument.body:$l(t)&&_N(t)?t:cG(zk(t))}function Ly(t,e){var n;e===void 0&&(e=[]);var r=cG(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Za(r),o=i?[s].concat(s.visualViewport||[],_N(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ly(zk(o)))}function PE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function r0e(t,e){var n=em(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function nF(t,e,n){return e===nG?PE(t0e(t,n)):kp(e)?r0e(e,n):PE(n0e(nf(t)))}function i0e(t){var e=Ly(zk(t)),n=["absolute","fixed"].indexOf(kd(t).position)>=0,r=n&&$l(t)?Nv(t):t;return kp(r)?e.filter(function(i){return kp(i)&&sG(i,r)&&Pu(i)!=="body"}):[]}function s0e(t,e,n,r){var i=e==="clippingParents"?i0e(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=nF(t,c,r);return l.top=cp(u.top,l.top),l.right=k2(u.right,l.right),l.bottom=k2(u.bottom,l.bottom),l.left=cp(u.left,l.left),l},nF(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function uG(t){var e=t.reference,n=t.element,r=t.placement,i=r?vu(r):null,s=r?tm(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case xa:l={x:o,y:e.y-n.height};break;case Ul:l={x:o,y:e.y+e.height};break;case jl:l={x:e.x+e.width,y:a};break;case Sa:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?kN(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Jg:l[c]=l[c]-(e[u]/2-n[u]/2);break;case wb:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function xb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Tpe:a,c=n.rootBoundary,u=c===void 0?nG:c,d=n.elementContext,h=d===void 0?N1:d,f=n.altBoundary,p=f===void 0?!1:f,m=n.padding,y=m===void 0?0:m,S=aG(typeof y!="number"?y:lG(y,Bv)),w=h===N1?Ppe:N1,v=t.rects.popper,k=t.elements[p?w:h],P=s0e(kp(k)?k:k.contextElement||nf(t.elements.popper),l,u,o),T=em(t.elements.reference),_=uG({reference:T,element:v,strategy:"absolute",placement:i}),E=PE(Object.assign({},v,_)),I=h===N1?E:T,R={top:P.top-I.top+S.top,bottom:I.bottom-P.bottom+S.bottom,left:P.left-I.left+S.left,right:I.right-P.right+S.right},F=t.modifiersData.offset;if(h===N1&&F){var B=F[i];Object.keys(R).forEach(function(D){var A=[jl,Ul].indexOf(D)>=0?1:-1,N=[xa,Ul].indexOf(D)>=0?"y":"x";R[D]+=B[N]*A})}return R}function o0e(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?rG:l,u=tm(r),d=u?a?JD:JD.filter(function(p){return tm(p)===u}):Bv,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=xb(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[vu(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function a0e(t){if(vu(t)===xN)return[];var e=kS(t);return[tF(t),e,tF(e)]}function l0e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,m=n.allowedAutoPlacements,y=e.options.placement,S=vu(y),w=S===y,v=l||(w||!p?[kS(y)]:a0e(y)),k=[y].concat(v).reduce(function(z,$){return z.concat(vu($)===xN?o0e(e,{placement:$,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):$)},[]),P=e.rects.reference,T=e.rects.popper,_=new Map,E=!0,I=k[0],R=0;R<k.length;R++){var F=k[R],B=vu(F),D=tm(F)===Jg,A=[xa,Ul].indexOf(B)>=0,N=A?"width":"height",L=xb(e,{placement:F,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),H=A?D?jl:Sa:D?Ul:xa;P[N]>T[N]&&(H=kS(H));var O=kS(H),G=[];if(s&&G.push(L[B]<=0),a&&G.push(L[H]<=0,L[O]<=0),G.every(function(z){return z})){I=F,E=!1;break}_.set(F,G)}if(E)for(var j=p?3:1,J=function($){var W=k.find(function(oe){var X=_.get(oe);if(X)return X.slice(0,$).every(function(K){return K})});if(W)return I=W,"break"},Z=j;Z>0;Z--){var ae=J(Z);if(ae==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const c0e={name:"flip",enabled:!0,phase:"main",fn:l0e,requiresIfExists:["offset"],data:{_skip:!1}};function rF(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function iF(t){return[xa,jl,Ul,Sa].some(function(e){return t[e]>=0})}function u0e(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=xb(e,{elementContext:"reference"}),a=xb(e,{altBoundary:!0}),l=rF(o,r),c=rF(a,i,s),u=iF(l),d=iF(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const d0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:u0e};function h0e(t,e,n){var r=vu(t),i=[Sa,xa].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Sa,jl].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function f0e(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=rG.reduce(function(u,d){return u[d]=h0e(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const p0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:f0e};function g0e(t){var e=t.state,n=t.name;e.modifiersData[n]=uG({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const m0e={name:"popperOffsets",enabled:!0,phase:"read",fn:g0e,data:{}};function y0e(t){return t==="x"?"y":"x"}function b0e(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,y=xb(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),S=vu(e.placement),w=tm(e.placement),v=!w,k=kN(S),P=y0e(k),T=e.modifiersData.popperOffsets,_=e.rects.reference,E=e.rects.popper,I=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,R=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(T){if(s){var D,A=k==="y"?xa:Sa,N=k==="y"?Ul:jl,L=k==="y"?"height":"width",H=T[k],O=H+y[A],G=H-y[N],j=f?-E[L]/2:0,J=w===Jg?_[L]:E[L],Z=w===Jg?-E[L]:-_[L],ae=e.elements.arrow,z=f&&ae?CN(ae):{width:0,height:0},$=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:oG(),W=$[A],oe=$[N],X=Ry(0,_[L],z[L]),K=v?_[L]/2-j-X-W-R.mainAxis:J-X-W-R.mainAxis,Y=v?-_[L]/2+j+X+oe+R.mainAxis:Z+X+oe+R.mainAxis,le=e.elements.arrow&&Nv(e.elements.arrow),ie=le?k==="y"?le.clientTop||0:le.clientLeft||0:0,re=(D=F==null?void 0:F[k])!=null?D:0,se=H+K-re-ie,ue=H+Y-re,we=Ry(f?k2(O,se):O,H,f?cp(G,ue):G);T[k]=we,B[k]=we-H}if(a){var Pe,te=k==="x"?xa:Sa,pe=k==="x"?Ul:jl,ge=T[P],Te=P==="y"?"height":"width",Re=ge+y[te],Ie=ge-y[pe],he=[xa,Sa].indexOf(S)!==-1,Se=(Pe=F==null?void 0:F[P])!=null?Pe:0,Ce=he?Re:ge-_[Te]-E[Te]-Se+R.altAxis,$e=he?ge+_[Te]+E[Te]-Se-R.altAxis:Ie,ke=f&&he?zpe(Ce,ge,$e):Ry(f?Ce:Re,ge,f?$e:Ie);T[P]=ke,B[P]=ke-ge}e.modifiersData[r]=B}}const v0e={name:"preventOverflow",enabled:!0,phase:"main",fn:b0e,requiresIfExists:["offset"]};function w0e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function x0e(t){return t===Za(t)||!$l(t)?TN(t):w0e(t)}function S0e(t){var e=t.getBoundingClientRect(),n=Zg(e.width)/t.offsetWidth||1,r=Zg(e.height)/t.offsetHeight||1;return n!==1||r!==1}function C0e(t,e,n){n===void 0&&(n=!1);var r=$l(e),i=$l(e)&&S0e(e),s=nf(e),o=em(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Pu(e)!=="body"||_N(s))&&(a=x0e(e)),$l(e)?(l=em(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=PN(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function k0e(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function T0e(t){var e=k0e(t);return Dpe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function P0e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _0e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var sF={placement:"bottom",modifiers:[],strategy:"absolute"};function oF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function M0e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?sF:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},sF,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(S){var w=typeof S=="function"?S(u.options):S;m(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:kp(a)?Ly(a):a.contextElement?Ly(a.contextElement):[],popper:Ly(l)};var v=T0e(_0e([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(k){return k.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var S=u.elements,w=S.reference,v=S.popper;if(oF(w,v)){u.rects={reference:C0e(w,Nv(v),u.options.strategy==="fixed"),popper:CN(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var P=u.orderedModifiers[k],T=P.fn,_=P.options,E=_===void 0?{}:_,I=P.name;typeof T=="function"&&(u=T({state:u,options:E,name:I,instance:f})||u)}}}},update:P0e(function(){return new Promise(function(y){f.forceUpdate(),y(u)})}),destroy:function(){m(),h=!0}};if(!oF(a,l))return f;f.setOptions(c).then(function(y){!h&&c.onFirstUpdate&&c.onFirstUpdate(y)});function p(){u.orderedModifiers.forEach(function(y){var S=y.name,w=y.options,v=w===void 0?{}:w,k=y.effect;if(typeof k=="function"){var P=k({state:u,name:S,instance:f,options:v}),T=function(){};d.push(P||T)}})}function m(){d.forEach(function(y){return y()}),d=[]}return f}}var E0e=[Jpe,m0e,Kpe,$pe,p0e,c0e,v0e,jpe,d0e],B0e=M0e({defaultModifiers:E0e});const dG="Popper";function N0e(t){return JW(dG,t)}ape(dG,["root"]);const I0e=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],A0e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function R0e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function _E(t){return typeof t=="function"?t():t}function L0e(t){return t.nodeType!==void 0}const D0e=()=>vt({root:["root"]},bfe(N0e)),F0e={},O0e=b.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,y=Ue(e,I0e),S=b.useRef(null),w=Qn(S,n),v=b.useRef(null),k=Qn(v,h),P=b.useRef(k);vi(()=>{P.current=k},[k]),b.useImperativeHandle(h,()=>v.current,[]);const T=R0e(u,o),[_,E]=b.useState(T),[I,R]=b.useState(_E(i));b.useEffect(()=>{v.current&&v.current.forceUpdate()}),b.useEffect(()=>{i&&R(_E(i))},[i]),vi(()=>{if(!I||!c)return;const N=O=>{E(O.placement)};let L=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{N(O)}}];l!=null&&(L=L.concat(l)),d&&d.modifiers!=null&&(L=L.concat(d.modifiers));const H=B0e(I,S.current,V({placement:T},d,{modifiers:L}));return P.current(H),()=>{H.destroy(),P.current(null)}},[I,a,l,c,d,T]);const F={placement:_};m!==null&&(F.TransitionProps=m);const B=D0e(),D=(r=p.root)!=null?r:"div",A=Pn({elementType:D,externalSlotProps:f.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:B.root});return C.jsx(D,V({},A,{children:typeof s=="function"?s(F):s}))}),$0e=b.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=F0e,popperRef:f,style:p,transition:m=!1,slotProps:y={},slots:S={}}=e,w=Ue(e,A0e),[v,k]=b.useState(!0),P=()=>{k(!1)},T=()=>{k(!0)};if(!l&&!u&&(!m||v))return null;let _;if(s)_=s;else if(r){const R=_E(r);_=R&&L0e(R)?fi(R).body:fi(null).body}const E=!u&&l&&(!m||v)?"none":void 0,I=m?{in:u,onEnter:P,onExited:T}:void 0;return C.jsx(eG,{disablePortal:a,container:_,children:C.jsx(O0e,V({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:m?!v:u,placement:d,popperOptions:h,popperRef:f,slotProps:y,slots:S},w,{style:V({position:"fixed",top:0,left:0,display:E},p),TransitionProps:I,children:i}))})}),H0e=2;function hG(t,e){return t-e}function aF(t,e){var n;const{index:r}=(n=t.reduce((i,s,o)=>{const a=Math.abs(e-s);return i===null||a<i.distance||a===i.distance?{distance:a,index:o}:i},null))!=null?n:{};return r}function bx(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function T2(t,e,n){return(t-e)*100/(n-e)}function V0e(t,e,n){return(n-e)*t+e}function z0e(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function W0e(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(z0e(e)))}function lF({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(hG)}function vx({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const s=fi(t.current);if(!((r=t.current)!=null&&r.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}function wx(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?gfe(t,e):!1}const G0e={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},U0e=t=>t;let xx;function cF(){return xx===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?xx=CSS.supports("touch-action","none"):xx=!0),xx}function j0e(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:o=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:h="horizontal",rootRef:f,scale:p=U0e,step:m=1,shiftStep:y=10,tabIndex:S,value:w}=t,v=b.useRef(),[k,P]=b.useState(-1),[T,_]=b.useState(-1),[E,I]=b.useState(!1),R=b.useRef(0),[F,B]=yo({controlled:w,default:n??l,name:"Slider"}),D=u&&((ke,me,ye)=>{const Ee=ke.nativeEvent||ke,We=new Ee.constructor(Ee.type,Ee);Object.defineProperty(We,"target",{writable:!0,value:{value:me,name:c}}),u(We,me,ye)}),A=Array.isArray(F);let N=A?F.slice().sort(hG):[F];N=N.map(ke=>ke==null?l:wh(ke,l,a));const L=o===!0&&m!==null?[...Array(Math.floor((a-l)/m)+1)].map((ke,me)=>({value:l+m*me})):o||[],H=L.map(ke=>ke.value),{isFocusVisibleRef:O,onBlur:G,onFocus:j,ref:J}=_k(),[Z,ae]=b.useState(-1),z=b.useRef(),$=Qn(J,z),W=Qn(f,$),oe=ke=>me=>{var ye;const Ee=Number(me.currentTarget.getAttribute("data-index"));j(me),O.current===!0&&ae(Ee),_(Ee),ke==null||(ye=ke.onFocus)==null||ye.call(ke,me)},X=ke=>me=>{var ye;G(me),O.current===!1&&ae(-1),_(-1),ke==null||(ye=ke.onBlur)==null||ye.call(ke,me)},K=(ke,me)=>{const ye=Number(ke.currentTarget.getAttribute("data-index")),Ee=N[ye],We=H.indexOf(Ee);let je=me;if(L&&m==null){const et=H[H.length-1];je>et?je=et:je<H[0]?je=H[0]:je=je<Ee?H[We-1]:H[We+1]}if(je=wh(je,l,a),A){i&&(je=wh(je,N[ye-1]||-1/0,N[ye+1]||1/0));const et=je;je=lF({values:N,newValue:je,index:ye});let Fe=ye;i||(Fe=je.indexOf(et)),vx({sliderRef:z,activeIndex:Fe})}B(je),ae(ye),D&&!wx(je,F)&&D(ke,je,ye),d&&d(ke,je)},Y=ke=>me=>{var ye;if(m!==null){const Ee=Number(me.currentTarget.getAttribute("data-index")),We=N[Ee];let je=null;(me.key==="ArrowLeft"||me.key==="ArrowDown")&&me.shiftKey||me.key==="PageDown"?je=Math.max(We-y,l):((me.key==="ArrowRight"||me.key==="ArrowUp")&&me.shiftKey||me.key==="PageUp")&&(je=Math.min(We+y,a)),je!==null&&(K(me,je),me.preventDefault())}ke==null||(ye=ke.onKeyDown)==null||ye.call(ke,me)};vi(()=>{if(r&&z.current.contains(document.activeElement)){var ke;(ke=document.activeElement)==null||ke.blur()}},[r]),r&&k!==-1&&P(-1),r&&Z!==-1&&ae(-1);const le=ke=>me=>{var ye;(ye=ke.onChange)==null||ye.call(ke,me),K(me,me.target.valueAsNumber)},ie=b.useRef();let re=h;s&&h==="horizontal"&&(re+="-reverse");const se=({finger:ke,move:me=!1})=>{const{current:ye}=z,{width:Ee,height:We,bottom:je,left:et}=ye.getBoundingClientRect();let Fe;re.indexOf("vertical")===0?Fe=(je-ke.y)/We:Fe=(ke.x-et)/Ee,re.indexOf("-reverse")!==-1&&(Fe=1-Fe);let He;if(He=V0e(Fe,l,a),m)He=W0e(He,m,l);else{const pt=aF(H,He);He=H[pt]}He=wh(He,l,a);let ot=0;if(A){me?ot=ie.current:ot=aF(N,He),i&&(He=wh(He,N[ot-1]||-1/0,N[ot+1]||1/0));const pt=He;He=lF({values:N,newValue:He,index:ot}),i&&me||(ot=He.indexOf(pt),ie.current=ot)}return{newValue:He,activeIndex:ot}},ue=Et(ke=>{const me=bx(ke,v);if(!me)return;if(R.current+=1,ke.type==="mousemove"&&ke.buttons===0){we(ke);return}const{newValue:ye,activeIndex:Ee}=se({finger:me,move:!0});vx({sliderRef:z,activeIndex:Ee,setActive:P}),B(ye),!E&&R.current>H0e&&I(!0),D&&!wx(ye,F)&&D(ke,ye,Ee)}),we=Et(ke=>{const me=bx(ke,v);if(I(!1),!me)return;const{newValue:ye}=se({finger:me,move:!0});P(-1),ke.type==="touchend"&&_(-1),d&&d(ke,ye),v.current=void 0,te()}),Pe=Et(ke=>{if(r)return;cF()||ke.preventDefault();const me=ke.changedTouches[0];me!=null&&(v.current=me.identifier);const ye=bx(ke,v);if(ye!==!1){const{newValue:We,activeIndex:je}=se({finger:ye});vx({sliderRef:z,activeIndex:je,setActive:P}),B(We),D&&!wx(We,F)&&D(ke,We,je)}R.current=0;const Ee=fi(z.current);Ee.addEventListener("touchmove",ue,{passive:!0}),Ee.addEventListener("touchend",we,{passive:!0})}),te=b.useCallback(()=>{const ke=fi(z.current);ke.removeEventListener("mousemove",ue),ke.removeEventListener("mouseup",we),ke.removeEventListener("touchmove",ue),ke.removeEventListener("touchend",we)},[we,ue]);b.useEffect(()=>{const{current:ke}=z;return ke.addEventListener("touchstart",Pe,{passive:cF()}),()=>{ke.removeEventListener("touchstart",Pe),te()}},[te,Pe]),b.useEffect(()=>{r&&te()},[r,te]);const pe=ke=>me=>{var ye;if((ye=ke.onMouseDown)==null||ye.call(ke,me),r||me.defaultPrevented||me.button!==0)return;me.preventDefault();const Ee=bx(me,v);if(Ee!==!1){const{newValue:je,activeIndex:et}=se({finger:Ee});vx({sliderRef:z,activeIndex:et,setActive:P}),B(je),D&&!wx(je,F)&&D(me,je,et)}R.current=0;const We=fi(z.current);We.addEventListener("mousemove",ue,{passive:!0}),We.addEventListener("mouseup",we)},ge=T2(A?N[0]:l,l,a),Te=T2(N[N.length-1],l,a)-ge,Re=(ke={})=>{const me=Iy(ke),ye={onMouseDown:pe(me||{})},Ee=V({},me,ye);return V({},ke,{ref:W},Ee)},Ie=ke=>me=>{var ye;(ye=ke.onMouseOver)==null||ye.call(ke,me);const Ee=Number(me.currentTarget.getAttribute("data-index"));_(Ee)},he=ke=>me=>{var ye;(ye=ke.onMouseLeave)==null||ye.call(ke,me),_(-1)};return{active:k,axis:re,axisProps:G0e,dragging:E,focusedThumbIndex:Z,getHiddenInputProps:(ke={})=>{var me;const ye=Iy(ke),Ee={onChange:le(ye||{}),onFocus:oe(ye||{}),onBlur:X(ye||{}),onKeyDown:Y(ye||{})},We=V({},ye,Ee);return V({tabIndex:S,"aria-labelledby":e,"aria-orientation":h,"aria-valuemax":p(a),"aria-valuemin":p(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(me=t.step)!=null?me:void 0,disabled:r},ke,We,{style:V({},lN,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Re,getThumbProps:(ke={})=>{const me=Iy(ke),ye={onMouseOver:Ie(me||{}),onMouseLeave:he(me||{})};return V({},ke,me,ye)},marks:L,open:T,range:A,rootRef:W,trackLeap:Te,trackOffset:ge,values:N,getThumbStyle:ke=>({pointerEvents:k!==-1&&k!==ke?"none":void 0})}}const Y0e=["onChange","maxRows","minRows","style","value"];function Sx(t){return parseInt(t,10)||0}const X0e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function q0e(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const K0e=b.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=Ue(e,Y0e),{current:c}=b.useRef(a!=null),u=b.useRef(null),d=Qn(n,u),h=b.useRef(null),f=b.useCallback(()=>{const y=u.current,w=Vc(y).getComputedStyle(y);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const v=h.current;v.style.width=w.width,v.value=y.value||e.placeholder||"x",v.value.slice(-1)===`
`&&(v.value+=" ");const k=w.boxSizing,P=Sx(w.paddingBottom)+Sx(w.paddingTop),T=Sx(w.borderBottomWidth)+Sx(w.borderTopWidth),_=v.scrollHeight;v.value="x";const E=v.scrollHeight;let I=_;s&&(I=Math.max(Number(s)*E,I)),i&&(I=Math.min(Number(i)*E,I)),I=Math.max(I,E);const R=I+(k==="border-box"?P+T:0),F=Math.abs(I-_)<=1;return{outerHeightStyle:R,overflowing:F}},[i,s,e.placeholder]),p=b.useCallback(()=>{const y=f();if(q0e(y))return;const S=u.current;S.style.height=`${y.outerHeightStyle}px`,S.style.overflow=y.overflowing?"hidden":""},[f]);vi(()=>{const y=()=>{p()};let S;const w=Pv(y),v=u.current,k=Vc(v);k.addEventListener("resize",w);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(y),P.observe(v)),()=>{w.clear(),cancelAnimationFrame(S),k.removeEventListener("resize",w),P&&P.disconnect()}},[f,p]),vi(()=>{p()});const m=y=>{c||p(),r&&r(y)};return C.jsxs(b.Fragment,{children:[C.jsx("textarea",V({value:a,onChange:m,ref:d,rows:s,style:o},l)),C.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:V({},X0e.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function uF(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function fG(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:s,trim:o=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=o?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=uF(u));const d=u?a.filter(h=>{let f=(s||c)(h);return n&&(f=f.toLowerCase()),e&&(f=uF(f)),i==="start"?f.indexOf(u)===0:f.indexOf(u)>-1}):a;return typeof r=="number"?d.slice(0,r):d}}function Cx(t,e){for(let n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}const Q0e=fG(),dF=5,J0e=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function Z0e(t){const{unstable_isActiveElementInListbox:e=J0e,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:o=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=t.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:h=!1,disabled:f,disabledItemsFocusable:p=!1,disableListWrap:m=!1,filterOptions:y=Q0e,filterSelectedOptions:S=!1,freeSolo:w=!1,getOptionDisabled:v,getOptionKey:k,getOptionLabel:P=Ve=>{var Oe;return(Oe=Ve.label)!=null?Oe:Ve},groupBy:T,handleHomeEndKeys:_=!t.freeSolo,id:E,includeInputInList:I=!1,inputValue:R,isOptionEqualToValue:F=(Ve,Oe)=>Ve===Oe,multiple:B=!1,onChange:D,onClose:A,onHighlightChange:N,onInputChange:L,onOpen:H,open:O,openOnFocus:G=!1,options:j,readOnly:J=!1,selectOnFocus:Z=!t.freeSolo,value:ae}=t,z=Bo(E);let $=P;$=Ve=>{const Oe=P(Ve);return typeof Oe!="string"?String(Oe):Oe};const W=b.useRef(!1),oe=b.useRef(!0),X=b.useRef(null),K=b.useRef(null),[Y,le]=b.useState(null),[ie,re]=b.useState(-1),se=i?0:-1,ue=b.useRef(se),[we,Pe]=yo({controlled:ae,default:u,name:c}),[te,pe]=yo({controlled:R,default:"",name:c,state:"inputValue"}),[ge,Te]=b.useState(!1),Re=b.useCallback((Ve,Oe)=>{if(!(B?we.length<Oe.length:Oe!==null)&&!a)return;let gt;if(B)gt="";else if(Oe==null)gt="";else{const jt=$(Oe);gt=typeof jt=="string"?jt:""}te!==gt&&(pe(gt),L&&L(Ve,gt,"reset"))},[$,te,B,L,pe,a,we]),[Ie,he]=yo({controlled:O,default:!1,name:c,state:"open"}),[Se,Ce]=b.useState(!0),$e=!B&&we!=null&&te===$(we),ke=Ie&&!J,me=ke?y(j.filter(Ve=>!(S&&(B?we:[we]).some(Oe=>Oe!==null&&F(Ve,Oe)))),{inputValue:$e&&Se?"":te,getOptionLabel:$}):[],ye=aN({filteredOptions:me,value:we,inputValue:te});b.useEffect(()=>{const Ve=we!==ye.value;ge&&!Ve||w&&!Ve||Re(null,we)},[we,Re,ge,ye.value,w]);const Ee=Ie&&me.length>0&&!J,We=Et(Ve=>{Ve===-1?X.current.focus():Y.querySelector(`[data-tag-index="${Ve}"]`).focus()});b.useEffect(()=>{B&&ie>we.length-1&&(re(-1),We(-1))},[we,B,ie,We]);function je(Ve,Oe){if(!K.current||Ve<0||Ve>=me.length)return-1;let Tt=Ve;for(;;){const gt=K.current.querySelector(`[data-option-index="${Tt}"]`),jt=p?!1:!gt||gt.disabled||gt.getAttribute("aria-disabled")==="true";if(gt&&gt.hasAttribute("tabindex")&&!jt)return Tt;if(Oe==="next"?Tt=(Tt+1)%me.length:Tt=(Tt-1+me.length)%me.length,Tt===Ve)return-1}}const et=Et(({event:Ve,index:Oe,reason:Tt="auto"})=>{if(ue.current=Oe,Oe===-1?X.current.removeAttribute("aria-activedescendant"):X.current.setAttribute("aria-activedescendant",`${z}-option-${Oe}`),N&&N(Ve,Oe===-1?null:me[Oe],Tt),!K.current)return;const gt=K.current.querySelector(`[role="option"].${n}-focused`);gt&&(gt.classList.remove(`${n}-focused`),gt.classList.remove(`${n}-focusVisible`));let jt=K.current;if(K.current.getAttribute("role")!=="listbox"&&(jt=K.current.parentElement.querySelector('[role="listbox"]')),!jt)return;if(Oe===-1){jt.scrollTop=0;return}const Ht=K.current.querySelector(`[data-option-index="${Oe}"]`);if(Ht&&(Ht.classList.add(`${n}-focused`),Tt==="keyboard"&&Ht.classList.add(`${n}-focusVisible`),jt.scrollHeight>jt.clientHeight&&Tt!=="mouse"&&Tt!=="touch")){const Ln=Ht,ms=jt.clientHeight+jt.scrollTop,Kn=Ln.offsetTop+Ln.offsetHeight;Kn>ms?jt.scrollTop=Kn-jt.clientHeight:Ln.offsetTop-Ln.offsetHeight*(T?1.3:0)<jt.scrollTop&&(jt.scrollTop=Ln.offsetTop-Ln.offsetHeight*(T?1.3:0))}}),Fe=Et(({event:Ve,diff:Oe,direction:Tt="next",reason:gt="auto"})=>{if(!ke)return;const Ht=je((()=>{const Ln=me.length-1;if(Oe==="reset")return se;if(Oe==="start")return 0;if(Oe==="end")return Ln;const ms=ue.current+Oe;return ms<0?ms===-1&&I?-1:m&&ue.current!==-1||Math.abs(Oe)>1?0:Ln:ms>Ln?ms===Ln+1&&I?-1:m||Math.abs(Oe)>1?Ln:0:ms})(),Tt);if(et({index:Ht,reason:gt,event:Ve}),r&&Oe!=="reset")if(Ht===-1)X.current.value=te;else{const Ln=$(me[Ht]);X.current.value=Ln,Ln.toLowerCase().indexOf(te.toLowerCase())===0&&te.length>0&&X.current.setSelectionRange(te.length,Ln.length)}}),He=()=>{const Ve=(Oe,Tt)=>{const gt=Oe?$(Oe):"",jt=Tt?$(Tt):"";return gt===jt};if(ue.current!==-1&&ye.filteredOptions&&ye.filteredOptions.length!==me.length&&ye.inputValue===te&&(B?we.length===ye.value.length&&ye.value.every((Oe,Tt)=>$(we[Tt])===$(Oe)):Ve(ye.value,we))){const Oe=ye.filteredOptions[ue.current];if(Oe)return Cx(me,Tt=>$(Tt)===$(Oe))}return-1},ot=b.useCallback(()=>{if(!ke)return;const Ve=He();if(Ve!==-1){ue.current=Ve;return}const Oe=B?we[0]:we;if(me.length===0||Oe==null){Fe({diff:"reset"});return}if(K.current){if(Oe!=null){const Tt=me[ue.current];if(B&&Tt&&Cx(we,jt=>F(Tt,jt))!==-1)return;const gt=Cx(me,jt=>F(jt,Oe));gt===-1?Fe({diff:"reset"}):et({index:gt});return}if(ue.current>=me.length-1){et({index:me.length-1});return}et({index:ue.current})}},[me.length,B?!1:we,S,Fe,et,ke,te,B]),pt=Et(Ve=>{x2(K,Ve),Ve&&ot()});b.useEffect(()=>{ot()},[ot]);const It=Ve=>{Ie||(he(!0),Ce(!0),H&&H(Ve))},Gt=(Ve,Oe)=>{Ie&&(he(!1),A&&A(Ve,Oe))},Jt=(Ve,Oe,Tt,gt)=>{if(B){if(we.length===Oe.length&&we.every((jt,Ht)=>jt===Oe[Ht]))return}else if(we===Oe)return;D&&D(Ve,Oe,Tt,gt),Pe(Oe)},Fn=b.useRef(!1),_e=(Ve,Oe,Tt="selectOption",gt="options")=>{let jt=Tt,Ht=Oe;if(B){Ht=Array.isArray(we)?we.slice():[];const Ln=Cx(Ht,ms=>F(Oe,ms));Ln===-1?Ht.push(Oe):gt!=="freeSolo"&&(Ht.splice(Ln,1),jt="removeOption")}Re(Ve,Ht),Jt(Ve,Ht,jt,{option:Oe}),!h&&(!Ve||!Ve.ctrlKey&&!Ve.metaKey)&&Gt(Ve,jt),(o===!0||o==="touch"&&Fn.current||o==="mouse"&&!Fn.current)&&X.current.blur()};function Ne(Ve,Oe){if(Ve===-1)return-1;let Tt=Ve;for(;;){if(Oe==="next"&&Tt===we.length||Oe==="previous"&&Tt===-1)return-1;const gt=Y.querySelector(`[data-tag-index="${Tt}"]`);if(!gt||!gt.hasAttribute("tabindex")||gt.disabled||gt.getAttribute("aria-disabled")==="true")Tt+=Oe==="next"?1:-1;else return Tt}}const Ye=(Ve,Oe)=>{if(!B)return;te===""&&Gt(Ve,"toggleInput");let Tt=ie;ie===-1?te===""&&Oe==="previous"&&(Tt=we.length-1):(Tt+=Oe==="next"?1:-1,Tt<0&&(Tt=0),Tt===we.length&&(Tt=-1)),Tt=Ne(Tt,Oe),re(Tt),We(Tt)},ct=Ve=>{W.current=!0,pe(""),L&&L(Ve,"","clear"),Jt(Ve,B?[]:null,"clear")},Bt=Ve=>Oe=>{if(Ve.onKeyDown&&Ve.onKeyDown(Oe),!Oe.defaultMuiPrevented&&(ie!==-1&&["ArrowLeft","ArrowRight"].indexOf(Oe.key)===-1&&(re(-1),We(-1)),Oe.which!==229))switch(Oe.key){case"Home":ke&&_&&(Oe.preventDefault(),Fe({diff:"start",direction:"next",reason:"keyboard",event:Oe}));break;case"End":ke&&_&&(Oe.preventDefault(),Fe({diff:"end",direction:"previous",reason:"keyboard",event:Oe}));break;case"PageUp":Oe.preventDefault(),Fe({diff:-dF,direction:"previous",reason:"keyboard",event:Oe}),It(Oe);break;case"PageDown":Oe.preventDefault(),Fe({diff:dF,direction:"next",reason:"keyboard",event:Oe}),It(Oe);break;case"ArrowDown":Oe.preventDefault(),Fe({diff:1,direction:"next",reason:"keyboard",event:Oe}),It(Oe);break;case"ArrowUp":Oe.preventDefault(),Fe({diff:-1,direction:"previous",reason:"keyboard",event:Oe}),It(Oe);break;case"ArrowLeft":Ye(Oe,"previous");break;case"ArrowRight":Ye(Oe,"next");break;case"Enter":if(ue.current!==-1&&ke){const Tt=me[ue.current],gt=v?v(Tt):!1;if(Oe.preventDefault(),gt)return;_e(Oe,Tt,"selectOption"),r&&X.current.setSelectionRange(X.current.value.length,X.current.value.length)}else w&&te!==""&&$e===!1&&(B&&Oe.preventDefault(),_e(Oe,te,"createOption","freeSolo"));break;case"Escape":ke?(Oe.preventDefault(),Oe.stopPropagation(),Gt(Oe,"escape")):l&&(te!==""||B&&we.length>0)&&(Oe.preventDefault(),Oe.stopPropagation(),ct(Oe));break;case"Backspace":if(B&&!J&&te===""&&we.length>0){const Tt=ie===-1?we.length-1:ie,gt=we.slice();gt.splice(Tt,1),Jt(Oe,gt,"removeOption",{option:we[Tt]})}break;case"Delete":if(B&&!J&&te===""&&we.length>0&&ie!==-1){const Tt=ie,gt=we.slice();gt.splice(Tt,1),Jt(Oe,gt,"removeOption",{option:we[Tt]})}break}},en=Ve=>{Te(!0),G&&!W.current&&It(Ve)},Ft=Ve=>{if(e(K)){X.current.focus();return}Te(!1),oe.current=!0,W.current=!1,s&&ue.current!==-1&&ke?_e(Ve,me[ue.current],"blur"):s&&w&&te!==""?_e(Ve,te,"blur","freeSolo"):a&&Re(Ve,we),Gt(Ve,"blur")},At=Ve=>{const Oe=Ve.target.value;te!==Oe&&(pe(Oe),Ce(!1),L&&L(Ve,Oe,"input")),Oe===""?!d&&!B&&Jt(Ve,null,"clear"):It(Ve)},yt=Ve=>{const Oe=Number(Ve.currentTarget.getAttribute("data-option-index"));ue.current!==Oe&&et({event:Ve,index:Oe,reason:"mouse"})},Ut=Ve=>{et({event:Ve,index:Number(Ve.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Fn.current=!0},kn=Ve=>{const Oe=Number(Ve.currentTarget.getAttribute("data-option-index"));_e(Ve,me[Oe],"selectOption"),Fn.current=!1},Yt=Ve=>Oe=>{const Tt=we.slice();Tt.splice(Ve,1),Jt(Oe,Tt,"removeOption",{option:we[Ve]})},Rn=Ve=>{Ie?Gt(Ve,"toggleInput"):It(Ve)},$n=Ve=>{Ve.currentTarget.contains(Ve.target)&&Ve.target.getAttribute("id")!==z&&Ve.preventDefault()},Xr=Ve=>{Ve.currentTarget.contains(Ve.target)&&(X.current.focus(),Z&&oe.current&&X.current.selectionEnd-X.current.selectionStart===0&&X.current.select(),oe.current=!1)},vr=Ve=>{!f&&(te===""||!Ie)&&Rn(Ve)};let lr=w&&te.length>0;lr=lr||(B?we.length>0:we!==null);let Nr=me;return T&&(Nr=me.reduce((Ve,Oe,Tt)=>{const gt=T(Oe);return Ve.length>0&&Ve[Ve.length-1].group===gt?Ve[Ve.length-1].options.push(Oe):Ve.push({key:Tt,index:Tt,group:gt,options:[Oe]}),Ve},[])),f&&ge&&Ft(),{getRootProps:(Ve={})=>V({"aria-owns":Ee?`${z}-listbox`:null},Ve,{onKeyDown:Bt(Ve),onMouseDown:$n,onClick:Xr}),getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:te,onBlur:Ft,onFocus:en,onChange:At,onMouseDown:vr,"aria-activedescendant":ke?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Ee?`${z}-listbox`:void 0,"aria-expanded":Ee,autoComplete:"off",ref:X,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ct}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Rn}),getTagProps:({index:Ve})=>V({key:Ve,"data-tag-index":Ve,tabIndex:-1},!J&&{onDelete:Yt(Ve)}),getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:pt,onMouseDown:Ve=>{Ve.preventDefault()}}),getOptionProps:({index:Ve,option:Oe})=>{var Tt;const gt=(B?we:[we]).some(Ht=>Ht!=null&&F(Oe,Ht)),jt=v?v(Oe):!1;return{key:(Tt=k==null?void 0:k(Oe))!=null?Tt:$(Oe),tabIndex:-1,role:"option",id:`${z}-option-${Ve}`,onMouseMove:yt,onClick:kn,onTouchStart:Ut,"data-option-index":Ve,"aria-disabled":jt,"aria-selected":gt}},id:z,inputValue:te,value:we,dirty:lr,expanded:ke&&Y,popupOpen:ke,focused:ge||ie!==-1,anchorEl:Y,setAnchorEl:le,focusedTag:ie,groupedOptions:Nr}}var MN={};Object.defineProperty(MN,"__esModule",{value:!0});var pG=MN.default=void 0,ege=nge(b),tge=YW;function gG(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(gG=function(r){return r?n:e})(t)}function nge(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=gG(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function rge(t){return Object.keys(t).length===0}function ige(t=null){const e=ege.useContext(tge.ThemeContext);return!e||rge(e)?t:e}pG=MN.default=ige;const sge=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],oge=be($0e,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),age=b.forwardRef(function(e,n){var r;const i=pG(),s=ft({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:S,transition:w,slots:v,slotProps:k}=s,P=Ue(s,sge),T=(r=v==null?void 0:v.root)!=null?r:l==null?void 0:l.Root,_=V({anchorEl:o,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:S,transition:w},P);return C.jsx(oge,V({as:a,direction:i==null?void 0:i.direction,slots:{root:T},slotProps:k??c},_,{ref:n}))}),Ld=age;function lge(t){return wt("MuiListSubheader",t)}xt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const cge=["className","color","component","disableGutters","disableSticky","inset"],uge=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:s}=t,o={root:["root",n!=="default"&&`color${Ge(n)}`,!r&&"gutters",i&&"inset",!s&&"sticky"]};return vt(o,lge,e)},dge=be("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ge(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>V({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),mG=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListSubheader"}),{className:i,color:s="default",component:o="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1}=r,u=Ue(r,cge),d=V({},r,{color:s,component:o,disableGutters:a,disableSticky:l,inset:c}),h=uge(d);return C.jsx(dge,V({as:o,className:Ae(h.root,i),ref:n,ownerState:d},u))});mG.muiSkipListHighlight=!0;const hge=mG,fge=tn(C.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function pge(t){return wt("MuiChip",t)}const gge=xt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Pr=gge,mge=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],yge=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${Ge(r)}`,`color${Ge(i)}`,a&&"clickable",a&&`clickableColor${Ge(i)}`,o&&"deletable",o&&`deletableColor${Ge(i)}`,`${l}${Ge(i)}`],label:["label",`label${Ge(r)}`],avatar:["avatar",`avatar${Ge(r)}`,`avatarColor${Ge(i)}`],icon:["icon",`icon${Ge(r)}`,`iconColor${Ge(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Ge(r)}`,`deleteIconColor${Ge(i)}`,`deleteIcon${Ge(l)}Color${Ge(i)}`]};return vt(c,pge,e)},bge=be("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:o,size:a,variant:l}=n;return[{[`& .${Pr.avatar}`]:e.avatar},{[`& .${Pr.avatar}`]:e[`avatar${Ge(a)}`]},{[`& .${Pr.avatar}`]:e[`avatarColor${Ge(r)}`]},{[`& .${Pr.icon}`]:e.icon},{[`& .${Pr.icon}`]:e[`icon${Ge(a)}`]},{[`& .${Pr.icon}`]:e[`iconColor${Ge(i)}`]},{[`& .${Pr.deleteIcon}`]:e.deleteIcon},{[`& .${Pr.deleteIcon}`]:e[`deleteIcon${Ge(a)}`]},{[`& .${Pr.deleteIcon}`]:e[`deleteIconColor${Ge(r)}`]},{[`& .${Pr.deleteIcon}`]:e[`deleteIcon${Ge(l)}Color${Ge(r)}`]},e.root,e[`size${Ge(a)}`],e[`color${Ge(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${Ge(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${Ge(r)}`],e[l],e[`${l}${Ge(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return V({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Pr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Pr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Pr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Pr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Pr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Pr.icon}`]:V({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&V({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Pr.deleteIcon}`]:V({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:zn(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:zn(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:zn(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>V({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>V({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Pr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Pr.avatar}`]:{marginLeft:4},[`& .${Pr.avatarSmall}`]:{marginLeft:2},[`& .${Pr.icon}`]:{marginLeft:4},[`& .${Pr.iconSmall}`]:{marginLeft:2},[`& .${Pr.deleteIcon}`]:{marginRight:5},[`& .${Pr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:zn(t.palette[e.color].main,.7)}`,[`&.${Pr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:zn(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Pr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:zn(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),vge=be("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ge(r)}`]]}})(({ownerState:t})=>V({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function hF(t){return t.key==="Backspace"||t.key==="Delete"}const wge=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:f,onDelete:p,onKeyDown:m,onKeyUp:y,size:S="medium",variant:w="filled",tabIndex:v,skipFocusWhenDisabled:k=!1}=r,P=Ue(r,mge),T=b.useRef(null),_=Qn(T,n),E=G=>{G.stopPropagation(),p&&p(G)},I=G=>{G.currentTarget===G.target&&hF(G)&&G.preventDefault(),m&&m(G)},R=G=>{G.currentTarget===G.target&&(p&&hF(G)?p(G):G.key==="Escape"&&T.current&&T.current.blur()),y&&y(G)},F=o!==!1&&f?!0:o,B=F||p?Gl:l||"div",D=V({},r,{component:B,disabled:u,size:S,color:a,iconColor:b.isValidElement(d)&&d.props.color||a,onDelete:!!p,clickable:F,variant:w}),A=yge(D),N=B===Gl?V({component:l||"div",focusVisibleClassName:A.focusVisible},p&&{disableRipple:!0}):{};let L=null;p&&(L=c&&b.isValidElement(c)?b.cloneElement(c,{className:Ae(c.props.className,A.deleteIcon),onClick:E}):C.jsx(fge,{className:Ae(A.deleteIcon),onClick:E}));let H=null;i&&b.isValidElement(i)&&(H=b.cloneElement(i,{className:Ae(A.avatar,i.props.className)}));let O=null;return d&&b.isValidElement(d)&&(O=b.cloneElement(d,{className:Ae(A.icon,d.props.className)})),C.jsxs(bge,V({as:B,className:Ae(A.root,s),disabled:F&&u?!0:void 0,onClick:f,onKeyDown:I,onKeyUp:R,ref:_,tabIndex:k&&u?-1:v,ownerState:D},N,P,{children:[H||O,C.jsx(vge,{className:Ae(A.label),ownerState:D,children:h}),L]}))}),EN=wge;function rf({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const xge=b.createContext(void 0),Wk=xge;function Ma(){return b.useContext(Wk)}function Sge(t){return C.jsx(Gue,V({},t,{defaultTheme:Mk,themeId:xv}))}function fF(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function P2(t,e=!1){return t&&(fF(t.value)&&t.value!==""||e&&fF(t.defaultValue)&&t.defaultValue!=="")}function Cge(t){return t.startAdornment}function kge(t){return wt("MuiInputBase",t)}const Tge=xt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ha=Tge,Pge=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Gk=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Uk=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},_ge=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=t,m={root:["root",`color${Ge(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Ge(h)}`,u&&"multiline",f&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return vt(m,kge,e)},jk=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Gk})(({theme:t,ownerState:e})=>V({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ha.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&V({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Yk=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Uk})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=V({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ha.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ha.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Mge=C.jsx(Sge,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ege=b.forwardRef(function(e,n){var r;const i=ft({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:y,inputComponent:S="input",inputProps:w={},inputRef:v,maxRows:k,minRows:P,multiline:T=!1,name:_,onBlur:E,onChange:I,onClick:R,onFocus:F,onKeyDown:B,onKeyUp:D,placeholder:A,readOnly:N,renderSuffix:L,rows:H,slotProps:O={},slots:G={},startAdornment:j,type:J="text",value:Z}=i,ae=Ue(i,Pge),z=w.value!=null?w.value:Z,{current:$}=b.useRef(z!=null),W=b.useRef(),oe=b.useCallback(ke=>{},[]),X=Qn(W,v,w.ref,oe),[K,Y]=b.useState(!1),le=Ma(),ie=rf({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=le?le.focused:K,b.useEffect(()=>{!le&&h&&K&&(Y(!1),E&&E())},[le,h,K,E]);const re=le&&le.onFilled,se=le&&le.onEmpty,ue=b.useCallback(ke=>{P2(ke)?re&&re():se&&se()},[re,se]);vi(()=>{$&&ue({value:z})},[z,ue,$]);const we=ke=>{if(ie.disabled){ke.stopPropagation();return}F&&F(ke),w.onFocus&&w.onFocus(ke),le&&le.onFocus?le.onFocus(ke):Y(!0)},Pe=ke=>{E&&E(ke),w.onBlur&&w.onBlur(ke),le&&le.onBlur?le.onBlur(ke):Y(!1)},te=(ke,...me)=>{if(!$){const ye=ke.target||W.current;if(ye==null)throw new Error(Sd(1));ue({value:ye.value})}w.onChange&&w.onChange(ke,...me),I&&I(ke,...me)};b.useEffect(()=>{ue(W.current)},[]);const pe=ke=>{W.current&&ke.currentTarget===ke.target&&W.current.focus(),R&&R(ke)};let ge=S,Te=w;T&&ge==="input"&&(H?Te=V({type:void 0,minRows:H,maxRows:H},Te):Te=V({type:void 0,maxRows:k,minRows:P},Te),ge=K0e);const Re=ke=>{ue(ke.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};b.useEffect(()=>{le&&le.setAdornedStart(!!j)},[le,j]);const Ie=V({},i,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:p,error:ie.error,focused:ie.focused,formControl:le,fullWidth:m,hiddenLabel:ie.hiddenLabel,multiline:T,size:ie.size,startAdornment:j,type:J}),he=_ge(Ie),Se=G.root||c.Root||jk,Ce=O.root||u.root||{},$e=G.input||c.Input||Yk;return Te=V({},Te,(r=O.input)!=null?r:u.input),C.jsxs(b.Fragment,{children:[!f&&Mge,C.jsxs(Se,V({},Ce,!Ac(Se)&&{ownerState:V({},Ie,Ce.ownerState)},{ref:n,onClick:pe},ae,{className:Ae(he.root,Ce.className,l,N&&"MuiInputBase-readOnly"),children:[j,C.jsx(Wk.Provider,{value:null,children:C.jsx($e,V({ownerState:Ie,"aria-invalid":ie.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ie.disabled,id:y,onAnimationStart:Re,name:_,placeholder:A,readOnly:N,required:ie.required,rows:H,value:z,onKeyDown:B,onKeyUp:D,type:J},Te,!Ac($e)&&{as:ge,ownerState:V({},Ie,Te.ownerState)},{ref:X,className:Ae(he.input,Te.className,N&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:te,onFocus:we}))}),p,L?L(V({},ie,{startAdornment:j})):null]}))]})}),Am=Ege;function Bge(t){return wt("MuiInput",t)}const Nge=V({},Ha,xt("MuiInput",["root","underline","input"])),xh=Nge;function Ige(t){return wt("MuiOutlinedInput",t)}const Age=V({},Ha,xt("MuiOutlinedInput",["root","notchedOutline","input"])),ru=Age;function Rge(t){return wt("MuiFilledInput",t)}const Lge=V({},Ha,xt("MuiFilledInput",["root","underline","input"])),Va=Lge,yG=tn(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Dge(t){return wt("MuiAutocomplete",t)}const sr=xt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var pF,gF;const Fge=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Oge=["ref"],$ge=$k(),Hge=t=>{const{classes:e,disablePortal:n,expanded:r,focused:i,fullWidth:s,hasClearIcon:o,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=t,d={root:["root",r&&"expanded",i&&"focused",s&&"fullWidth",o&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Ge(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return vt(d,Dge,e)},Vge=be("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:s,inputFocused:o,size:a}=n;return[{[`& .${sr.tag}`]:e.tag},{[`& .${sr.tag}`]:e[`tagSize${Ge(a)}`]},{[`& .${sr.inputRoot}`]:e.inputRoot},{[`& .${sr.input}`]:e.input},{[`& .${sr.input}`]:o&&e.inputFocused},e.root,r&&e.fullWidth,s&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${sr.focused} .${sr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${sr.clearIndicator}`]:{visibility:"visible"}},[`& .${sr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${sr.inputRoot}`]:{flexWrap:"wrap",[`.${sr.hasPopupIcon}&, .${sr.hasClearIcon}&`]:{paddingRight:30},[`.${sr.hasPopupIcon}.${sr.hasClearIcon}&`]:{paddingRight:56},[`& .${sr.input}`]:{width:0,minWidth:30}},[`& .${xh.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${xh.root}.${Ha.sizeSmall}`]:{[`& .${xh.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ru.root}`]:{padding:9,[`.${sr.hasPopupIcon}&, .${sr.hasClearIcon}&`]:{paddingRight:39},[`.${sr.hasPopupIcon}.${sr.hasClearIcon}&`]:{paddingRight:65},[`& .${sr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${sr.endAdornment}`]:{right:9}},[`& .${ru.root}.${Ha.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${sr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Va.root}`]:{paddingTop:19,paddingLeft:8,[`.${sr.hasPopupIcon}&, .${sr.hasClearIcon}&`]:{paddingRight:39},[`.${sr.hasPopupIcon}.${sr.hasClearIcon}&`]:{paddingRight:65},[`& .${Va.input}`]:{padding:"7px 4px"},[`& .${sr.endAdornment}`]:{right:9}},[`& .${Va.root}.${Ha.sizeSmall}`]:{paddingBottom:1,[`& .${Va.input}`]:{padding:"2.5px 4px"}},[`& .${Ha.hiddenLabel}`]:{paddingTop:8},[`& .${Va.root}.${Ha.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${sr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Va.root}.${Ha.hiddenLabel}.${Ha.sizeSmall}`]:{[`& .${sr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${sr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${sr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${sr.input}`]:{opacity:1}}}]}),zge=be("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Wge=be(Ei,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Gge=be(Ei,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>V({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Uge=be(Ld,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${sr.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),jge=be(Uc,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>V({},t.typography.body1,{overflow:"auto"})),Yge=be("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),Xge=be("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),qge=be("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${sr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${sr.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${sr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${sr.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${sr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),Kge=be(hge,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),Qge=be("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${sr.option}`]:{paddingLeft:24}}),Jge=b.forwardRef(function(e,n){var r,i,s,o;const a=$ge({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:d=!1,ChipProps:h,className:f,clearIcon:p=pF||(pF=C.jsx(Gfe,{fontSize:"small"})),clearOnBlur:m=!a.freeSolo,clearOnEscape:y=!1,clearText:S="Clear",closeText:w="Close",componentsProps:v={},defaultValue:k=a.multiple?[]:null,disableClearable:P=!1,disableCloseOnSelect:T=!1,disabled:_=!1,disabledItemsFocusable:E=!1,disableListWrap:I=!1,disablePortal:R=!1,filterSelectedOptions:F=!1,forcePopupIcon:B="auto",freeSolo:D=!1,fullWidth:A=!1,getLimitTagsText:N=gt=>`+${gt}`,getOptionLabel:L,groupBy:H,handleHomeEndKeys:O=!a.freeSolo,includeInputInList:G=!1,limitTags:j=-1,ListboxComponent:J="ul",ListboxProps:Z,loading:ae=!1,loadingText:z="Loading",multiple:$=!1,noOptionsText:W="No options",openOnFocus:oe=!1,openText:X="Open",PaperComponent:K=Uc,PopperComponent:Y=Ld,popupIcon:le=gF||(gF=C.jsx(yG,{})),readOnly:ie=!1,renderGroup:re,renderInput:se,renderOption:ue,renderTags:we,selectOnFocus:Pe=!a.freeSolo,size:te="medium",slotProps:pe={}}=a,ge=Ue(a,Fge),{getRootProps:Te,getInputProps:Re,getInputLabelProps:Ie,getPopupIndicatorProps:he,getClearProps:Se,getTagProps:Ce,getListboxProps:$e,getOptionProps:ke,value:me,dirty:ye,expanded:Ee,id:We,popupOpen:je,focused:et,focusedTag:Fe,anchorEl:He,setAnchorEl:ot,inputValue:pt,groupedOptions:It}=Z0e(V({},a,{componentName:"Autocomplete"})),Gt=!P&&!_&&ye&&!ie,Jt=(!D||B===!0)&&B!==!1,{onMouseDown:Fn}=Re(),{ref:_e}=Z??{},Ne=$e(),{ref:Ye}=Ne,ct=Ue(Ne,Oge),Bt=Qn(Ye,_e),Ft=L||(gt=>{var jt;return(jt=gt.label)!=null?jt:gt}),At=V({},a,{disablePortal:R,expanded:Ee,focused:et,fullWidth:A,getOptionLabel:Ft,hasClearIcon:Gt,hasPopupIcon:Jt,inputFocused:Fe===-1,popupOpen:je,size:te}),yt=Hge(At);let Ut;if($&&me.length>0){const gt=jt=>V({className:yt.tag,disabled:_},Ce(jt));we?Ut=we(me,gt,At):Ut=me.map((jt,Ht)=>C.jsx(EN,V({label:Ft(jt),size:te},gt({index:Ht}),h)))}if(j>-1&&Array.isArray(Ut)){const gt=Ut.length-j;!et&&gt>0&&(Ut=Ut.splice(0,j),Ut.push(C.jsx("span",{className:yt.tag,children:N(gt)},Ut.length)))}const Yt=re||(gt=>C.jsxs("li",{children:[C.jsx(Kge,{className:yt.groupLabel,ownerState:At,component:"div",children:gt.group}),C.jsx(Qge,{className:yt.groupUl,ownerState:At,children:gt.children})]},gt.key)),$n=ue||((gt,jt)=>b.createElement("li",V({},gt,{key:gt.key}),Ft(jt))),Xr=(gt,jt)=>{const Ht=ke({option:gt,index:jt});return $n(V({},Ht,{className:yt.option}),gt,{selected:Ht["aria-selected"],index:jt,inputValue:pt},At)},vr=(r=pe.clearIndicator)!=null?r:v.clearIndicator,lr=(i=pe.paper)!=null?i:v.paper,Nr=(s=pe.popper)!=null?s:v.popper,Ve=(o=pe.popupIndicator)!=null?o:v.popupIndicator,Oe=gt=>C.jsx(Uge,V({as:Y,disablePortal:R,style:{width:He?He.clientWidth:null},ownerState:At,role:"presentation",anchorEl:He,open:je},Nr,{className:Ae(yt.popper,Nr==null?void 0:Nr.className),children:C.jsx(jge,V({ownerState:At,as:K},lr,{className:Ae(yt.paper,lr==null?void 0:lr.className),children:gt}))}));let Tt=null;return!ae&&It.length>0?Tt=Oe(C.jsx(qge,V({as:J,className:yt.listbox,ownerState:At},ct,Z,{ref:Bt,children:It.map((gt,jt)=>H?Yt({key:gt.key,group:gt.group,children:gt.options.map((Ht,Ln)=>Xr(Ht,gt.index+Ln))}):Xr(gt,jt))}))):ae&&It.length===0?Tt=Oe(C.jsx(Yge,{className:yt.loading,ownerState:At,children:z})):It.length===0&&!D&&!ae&&(Tt=Oe(C.jsx(Xge,{className:yt.noOptions,ownerState:At,role:"presentation",onMouseDown:gt=>{gt.preventDefault()},children:W}))),C.jsxs(b.Fragment,{children:[C.jsx(Vge,V({ref:n,className:Ae(yt.root,f),ownerState:At},Te(ge),{children:se({id:We,disabled:_,fullWidth:!0,size:te==="small"?"small":void 0,InputLabelProps:Ie(),InputProps:V({ref:ot,className:yt.inputRoot,startAdornment:Ut,onClick:gt=>{gt.target===gt.currentTarget&&Fn(gt)}},(Gt||Jt)&&{endAdornment:C.jsxs(zge,{className:yt.endAdornment,ownerState:At,children:[Gt?C.jsx(Wge,V({},Se(),{"aria-label":S,title:S,ownerState:At},vr,{className:Ae(yt.clearIndicator,vr==null?void 0:vr.className),children:p})):null,Jt?C.jsx(Gge,V({},he(),{disabled:_,"aria-label":je?w:X,title:je?w:X,ownerState:At},Ve,{className:Ae(yt.popupIndicator,Ve==null?void 0:Ve.className),children:le})):null]})}),inputProps:V({className:yt.input,disabled:_,readOnly:ie},Re())})})),He?Tt:null]})}),bG=Jge,Zge=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eme={entering:{opacity:1},entered:{opacity:1}},tme=b.forwardRef(function(e,n){const r=_a(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:y,timeout:S=i,TransitionComponent:w=Hk}=e,v=Ue(e,Zge),k=b.useRef(null),P=Qn(k,a.ref,n),T=A=>N=>{if(A){const L=k.current;N===void 0?A(L):A(L,N)}},_=T(h),E=T((A,N)=>{vN(A);const L=Qg({style:y,timeout:S,easing:l},{mode:"enter"});A.style.webkitTransition=r.transitions.create("opacity",L),A.style.transition=r.transitions.create("opacity",L),u&&u(A,N)}),I=T(d),R=T(m),F=T(A=>{const N=Qg({style:y,timeout:S,easing:l},{mode:"exit"});A.style.webkitTransition=r.transitions.create("opacity",N),A.style.transition=r.transitions.create("opacity",N),f&&f(A)}),B=T(p),D=A=>{s&&s(k.current,A)};return C.jsx(w,V({appear:o,in:c,nodeRef:k,onEnter:E,onEntered:I,onEntering:_,onExit:F,onExited:B,onExiting:R,addEndListener:D,timeout:S},v,{children:(A,N)=>b.cloneElement(a,V({style:V({opacity:0,visibility:A==="exited"&&!c?"hidden":void 0},eme[A],y,a.props.style),ref:P},N))}))}),Rm=tme;function nme(t){return wt("MuiBackdrop",t)}xt("MuiBackdrop",["root","invisible"]);const rme=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ime=t=>{const{classes:e,invisible:n}=t;return vt({root:["root",n&&"invisible"]},nme,e)},sme=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),ome=b.forwardRef(function(e,n){var r,i,s;const o=ft({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:m={},TransitionComponent:y=Rm,transitionDuration:S}=o,w=Ue(o,rme),v=V({},o,{component:c,invisible:h}),k=ime(v),P=(r=p.root)!=null?r:d.root;return C.jsx(y,V({in:f,timeout:S},w,{children:C.jsx(sme,V({"aria-hidden":!0},P,{as:(i=(s=m.root)!=null?s:u.Root)!=null?i:c,className:Ae(k.root,l,P==null?void 0:P.className),ownerState:V({},v,P==null?void 0:P.ownerState),classes:k,ref:n,children:a}))}))}),vG=ome;function ame(t){return wt("MuiBadge",t)}const lme=xt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),rh=lme,cme=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],X_=10,q_=4,ume=$k(),dme=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:s,classes:o={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`,`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}${Ge(i)}`,`overlap${Ge(i)}`,e!=="default"&&`color${Ge(e)}`]};return vt(a,ame,o)},hme=be("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),fme=be("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}${Ge(n.overlap)}`],n.color!=="default"&&e[`color${Ge(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:X_*2,lineHeight:1,padding:"0 6px",height:X_*2,borderRadius:X_,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,i;return((r=t.vars)!=null?r:t).palette[n].main&&((i=t.vars)!=null?i:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:q_,height:q_*2,minWidth:q_*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${rh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),pme=b.forwardRef(function(e,n){var r,i,s,o,a,l;const c=ume({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:f={},componentsProps:p={},children:m,overlap:y="rectangular",color:S="default",invisible:w=!1,max:v=99,badgeContent:k,slots:P,slotProps:T,showZero:_=!1,variant:E="standard"}=c,I=Ue(c,cme),{badgeContent:R,invisible:F,max:B,displayValue:D}=ipe({max:v,invisible:w,badgeContent:k,showZero:_}),A=aN({anchorOrigin:u,color:S,overlap:y,variant:E,badgeContent:k}),N=F||R==null&&E!=="dot",{color:L=S,overlap:H=y,anchorOrigin:O=u,variant:G=E}=N?A:c,j=G!=="dot"?D:void 0,J=V({},c,{badgeContent:R,invisible:N,max:B,displayValue:j,showZero:_,anchorOrigin:O,color:L,overlap:H,variant:G}),Z=dme(J),ae=(r=(i=P==null?void 0:P.root)!=null?i:f.Root)!=null?r:hme,z=(s=(o=P==null?void 0:P.badge)!=null?o:f.Badge)!=null?s:fme,$=(a=T==null?void 0:T.root)!=null?a:p.root,W=(l=T==null?void 0:T.badge)!=null?l:p.badge,oe=Pn({elementType:ae,externalSlotProps:$,externalForwardedProps:I,additionalProps:{ref:n,as:h},ownerState:J,className:Ae($==null?void 0:$.className,Z.root,d)}),X=Pn({elementType:z,externalSlotProps:W,ownerState:J,className:Ae(Z.badge,W==null?void 0:W.className)});return C.jsxs(ae,V({},oe,{children:[m,C.jsx(z,V({},X,{children:j}))]}))}),gme=pme,mme=xt("MuiBox",["root"]),yme=mme,bme=jW(),vme=Que({themeId:xv,defaultTheme:bme,defaultClassName:yme.root,generateClassName:TW.generate}),wme=vme;function xme(t){return wt("MuiButton",t)}const Sme=xt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),kx=Sme,Cme=b.createContext({}),kme=Cme,Tme=b.createContext(void 0),Pme=Tme,_me=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Mme=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ge(e)}`,`size${Ge(i)}`,`${s}Size${Ge(i)}`,`color${Ge(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ge(i)}`],endIcon:["icon","endIcon",`iconSize${Ge(i)}`]},l=vt(a,xme,o);return V({},o,l)},wG=t=>V({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Eme=be(Gl,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return V({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${kx.focusVisible}`]:V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${kx.disabled}`]:V({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${zn(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${kx.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${kx.disabled}`]:{boxShadow:"none"}}),Bme=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},wG(t))),Nme=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},wG(t))),Ime=b.forwardRef(function(e,n){const r=b.useContext(kme),i=b.useContext(Pme),s=rN(r,e),o=ft({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:y=!1,size:S="medium",startIcon:w,type:v,variant:k="text"}=o,P=Ue(o,_me),T=V({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:y,size:S,type:v,variant:k}),_=Mme(T),E=w&&C.jsx(Bme,{className:_.startIcon,ownerState:T,children:w}),I=p&&C.jsx(Nme,{className:_.endIcon,ownerState:T,children:p}),R=i||"";return C.jsxs(Eme,V({ownerState:T,className:Ae(r.className,_.root,u,R),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:Ae(_.focusVisible,m),ref:n,type:v},P,{classes:_,children:[E,a,I]}))}),ni=Ime;function Ame(t){return wt("MuiCard",t)}xt("MuiCard",["root"]);const Rme=["className","raised"],Lme=t=>{const{classes:e}=t;return vt({root:["root"]},Ame,e)},Dme=be(Uc,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Fme=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ue(r,Rme),a=V({},r,{raised:s}),l=Lme(a);return C.jsx(Dme,V({className:Ae(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))}),Ome=Fme;function $me(t){return wt("MuiCardContent",t)}xt("MuiCardContent",["root"]);const Hme=["className","component"],Vme=t=>{const{classes:e}=t;return vt({root:["root"]},$me,e)},zme=be("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Wme=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ue(r,Hme),a=V({},r,{component:s}),l=Vme(a);return C.jsx(zme,V({as:s,className:Ae(l.root,i),ownerState:a,ref:n},o))}),Sb=Wme;function Gme(t){return wt("MuiCardHeader",t)}const Ume=xt("MuiCardHeader",["root","avatar","action","content","title","subheader"]),mF=Ume,jme=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Yme=t=>{const{classes:e}=t;return vt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Gme,e)},Xme=be("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>V({[`& .${mF.title}`]:e.title,[`& .${mF.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),qme=be("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Kme=be("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Qme=be("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),Jme=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:o,component:a="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:h}=r,f=Ue(r,jme),p=V({},r,{component:a,disableTypography:l}),m=Yme(p);let y=d;y!=null&&y.type!==Tr&&!l&&(y=C.jsx(Tr,V({variant:s?"body2":"h5",className:m.title,component:"span",display:"block"},h,{children:y})));let S=c;return S!=null&&S.type!==Tr&&!l&&(S=C.jsx(Tr,V({variant:s?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:S}))),C.jsxs(Xme,V({className:Ae(m.root,o),as:a,ref:n,ownerState:p},f,{children:[s&&C.jsx(qme,{className:m.avatar,ownerState:p,children:s}),C.jsxs(Qme,{className:m.content,ownerState:p,children:[y,S]}),i&&C.jsx(Kme,{className:m.action,ownerState:p,children:i})]}))}),Zme=Jme;function e1e(t){return wt("PrivateSwitchBase",t)}xt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const t1e=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],n1e=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ge(i)}`],input:["input"]};return vt(s,e1e,e)},r1e=be(Gl)(({ownerState:t})=>V({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),i1e=be("input",{shouldForwardProp:Hs})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),s1e=b.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:f,inputRef:p,name:m,onBlur:y,onChange:S,onFocus:w,readOnly:v,required:k=!1,tabIndex:P,type:T,value:_}=e,E=Ue(e,t1e),[I,R]=yo({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),F=Ma(),B=G=>{w&&w(G),F&&F.onFocus&&F.onFocus(G)},D=G=>{y&&y(G),F&&F.onBlur&&F.onBlur(G)},A=G=>{if(G.nativeEvent.defaultPrevented)return;const j=G.target.checked;R(j),S&&S(G,j)};let N=l;F&&typeof N>"u"&&(N=F.disabled);const L=T==="checkbox"||T==="radio",H=V({},e,{checked:I,disabled:N,disableFocusRipple:c,edge:u}),O=n1e(H);return C.jsxs(r1e,V({component:"span",className:Ae(O.root,o),centerRipple:!0,focusRipple:!c,disabled:N,tabIndex:null,role:void 0,onFocus:B,onBlur:D,ownerState:H,ref:n},E,{children:[C.jsx(i1e,V({autoFocus:r,checked:i,defaultChecked:a,className:O.input,disabled:N,id:L?h:void 0,name:m,onChange:A,readOnly:v,ref:p,required:k,ownerState:H,tabIndex:P,type:T},T==="checkbox"&&_===void 0?{}:{value:_},f)),I?s:d]}))}),BN=s1e,o1e=tn(C.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),a1e=tn(C.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),l1e=tn(C.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function c1e(t){return wt("MuiCheckbox",t)}const u1e=xt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),K_=u1e,d1e=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],h1e=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s={root:["root",n&&"indeterminate",`color${Ge(r)}`,`size${Ge(i)}`]},o=vt(s,c1e,e);return V({},e,o)},f1e=be(BN,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ge(n.size)}`],n.color!=="default"&&e[`color${Ge(n.color)}`]]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${K_.checked}, &.${K_.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${K_.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),p1e=C.jsx(a1e,{}),g1e=C.jsx(o1e,{}),m1e=C.jsx(l1e,{}),y1e=b.forwardRef(function(e,n){var r,i;const s=ft({props:e,name:"MuiCheckbox"}),{checkedIcon:o=p1e,color:a="primary",icon:l=g1e,indeterminate:c=!1,indeterminateIcon:u=m1e,inputProps:d,size:h="medium",className:f}=s,p=Ue(s,d1e),m=c?u:l,y=c?u:o,S=V({},s,{color:a,indeterminate:c,size:h}),w=h1e(S);return C.jsx(f1e,V({type:"checkbox",inputProps:V({"data-indeterminate":c},d),icon:b.cloneElement(m,{fontSize:(r=m.props.fontSize)!=null?r:h}),checkedIcon:b.cloneElement(y,{fontSize:(i=y.props.fontSize)!=null?i:h}),ownerState:S,ref:n,className:Ae(w.root,f)},p,{classes:w}))}),b1e=y1e;function v1e(t){return wt("MuiCircularProgress",t)}xt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const w1e=["className","color","disableShrink","size","style","thickness","value","variant"];let Xk=t=>t,yF,bF,vF,wF;const ih=44,x1e=Gc(yF||(yF=Xk`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),S1e=Gc(bF||(bF=Xk`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),C1e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,i&&"circleDisableShrink"]};return vt(s,v1e,e)},k1e=be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ge(n.color)}`]]}})(({ownerState:t,theme:e})=>V({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Cd(vF||(vF=Xk`
      animation: ${0} 1.4s linear infinite;
    `),x1e)),T1e=be("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),P1e=be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>V({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Cd(wF||(wF=Xk`
      animation: ${0} 1.4s ease-in-out infinite;
    `),S1e)),_1e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Ue(r,w1e),f=V({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),p=C1e(f),m={},y={},S={};if(d==="determinate"){const w=2*Math.PI*((ih-c)/2);m.strokeDasharray=w.toFixed(3),S["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return C.jsx(k1e,V({className:Ae(p.root,i),style:V({width:a,height:a},y,l),ownerState:f,ref:n,role:"progressbar"},S,h,{children:C.jsx(T1e,{className:p.svg,ownerState:f,viewBox:`${ih/2} ${ih/2} ${ih} ${ih}`,children:C.jsx(P1e,{className:p.circle,style:m,ownerState:f,cx:ih,cy:ih,r:(ih-c)/2,fill:"none",strokeWidth:c})})}))}),xG=_1e;function M1e(t){return wt("MuiModal",t)}xt("MuiModal",["root","hidden","backdrop"]);const E1e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],B1e=t=>{const{open:e,exited:n,classes:r}=t;return vt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},M1e,r)},N1e=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>V({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),I1e=be(vG,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),A1e=b.forwardRef(function(e,n){var r,i,s,o,a,l;const c=ft({name:"MuiModal",props:e}),{BackdropComponent:u=I1e,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:y,components:S={},componentsProps:w={},disableAutoFocus:v=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:P=!1,disablePortal:T=!1,disableRestoreFocus:_=!1,disableScrollLock:E=!1,hideBackdrop:I=!1,keepMounted:R=!1,onBackdropClick:F,open:B,slotProps:D,slots:A}=c,N=Ue(c,E1e),L=V({},c,{closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:k,disableEscapeKeyDown:P,disablePortal:T,disableRestoreFocus:_,disableScrollLock:E,hideBackdrop:I,keepMounted:R}),{getRootProps:H,getBackdropProps:O,getTransitionProps:G,portalRef:j,isTopModal:J,exited:Z,hasTransition:ae}=kpe(V({},L,{rootRef:n})),z=V({},L,{exited:Z}),$=B1e(z),W={};if(p.props.tabIndex===void 0&&(W.tabIndex="-1"),ae){const{onEnter:re,onExited:se}=G();W.onEnter=re,W.onExited=se}const oe=(r=(i=A==null?void 0:A.root)!=null?i:S.Root)!=null?r:N1e,X=(s=(o=A==null?void 0:A.backdrop)!=null?o:S.Backdrop)!=null?s:u,K=(a=D==null?void 0:D.root)!=null?a:w.root,Y=(l=D==null?void 0:D.backdrop)!=null?l:w.backdrop,le=Pn({elementType:oe,externalSlotProps:K,externalForwardedProps:N,getSlotProps:H,additionalProps:{ref:n,as:y},ownerState:z,className:Ae(h,K==null?void 0:K.className,$==null?void 0:$.root,!z.open&&z.exited&&($==null?void 0:$.hidden))}),ie=Pn({elementType:X,externalSlotProps:Y,additionalProps:d,getSlotProps:re=>O(V({},re,{onClick:se=>{F&&F(se),re!=null&&re.onClick&&re.onClick(se)}})),className:Ae(Y==null?void 0:Y.className,d==null?void 0:d.className,$==null?void 0:$.backdrop),ownerState:z});return!R&&!B&&(!ae||Z)?null:C.jsx(eG,{ref:j,container:m,disablePortal:T,children:C.jsxs(oe,V({},le,{children:[!I&&u?C.jsx(X,V({},ie)):null,C.jsx(wN,{disableEnforceFocus:k,disableAutoFocus:v,disableRestoreFocus:_,isEnabled:J,open:B,children:b.cloneElement(p,W)})]}))})}),NN=A1e;function R1e(t){return wt("MuiDialog",t)}const L1e=xt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Dy=L1e,D1e=b.createContext({}),SG=D1e,F1e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],O1e=be(vG,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),$1e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${Ge(n)}`],paper:["paper",`paperScroll${Ge(n)}`,`paperWidth${Ge(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return vt(o,R1e,e)},H1e=be(NN,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),V1e=be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ge(n.scroll)}`]]}})(({ownerState:t})=>V({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),z1e=be(Uc,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ge(n.scroll)}`],e[`paperWidth${Ge(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>V({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Dy.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Dy.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Dy.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),W1e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDialog"}),i=_a(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:y,onClose:S,open:w,PaperComponent:v=Uc,PaperProps:k={},scroll:P="paper",TransitionComponent:T=Rm,transitionDuration:_=s,TransitionProps:E}=r,I=Ue(r,F1e),R=V({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:P}),F=$1e(R),B=b.useRef(),D=H=>{B.current=H.target===H.currentTarget},A=H=>{B.current&&(B.current=null,y&&y(H),S&&S(H,"backdropClick"))},N=Bo(a),L=b.useMemo(()=>({titleId:N}),[N]);return C.jsx(H1e,V({className:Ae(F.root,d),closeAfterTransition:!0,components:{Backdrop:O1e},componentsProps:{backdrop:V({transitionDuration:_,as:l},c)},disableEscapeKeyDown:h,onClose:S,open:w,ref:n,onClick:A,ownerState:R},I,{children:C.jsx(T,V({appear:!0,in:w,timeout:_,role:"presentation"},E,{children:C.jsx(V1e,{className:Ae(F.container),onMouseDown:D,ownerState:R,children:C.jsx(z1e,V({as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":N},k,{className:Ae(F.paper,k.className),ownerState:R,children:C.jsx(SG.Provider,{value:L,children:u})}))})}))}))}),Iv=W1e;function G1e(t){return wt("MuiDialogActions",t)}xt("MuiDialogActions",["root","spacing"]);const U1e=["className","disableSpacing"],j1e=t=>{const{classes:e,disableSpacing:n}=t;return vt({root:["root",!n&&"spacing"]},G1e,e)},Y1e=be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>V({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),X1e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=Ue(r,U1e),a=V({},r,{disableSpacing:s}),l=j1e(a);return C.jsx(Y1e,V({className:Ae(l.root,i),ownerState:a,ref:n},o))}),CG=X1e;function q1e(t){return wt("MuiDialogContent",t)}xt("MuiDialogContent",["root","dividers"]);function K1e(t){return wt("MuiDialogTitle",t)}const Q1e=xt("MuiDialogTitle",["root"]),J1e=Q1e,Z1e=["className","dividers"],eye=t=>{const{classes:e,dividers:n}=t;return vt({root:["root",n&&"dividers"]},q1e,e)},tye=be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>V({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${J1e.root} + &`]:{paddingTop:0}})),nye=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=Ue(r,Z1e),a=V({},r,{dividers:s}),l=eye(a);return C.jsx(tye,V({className:Ae(l.root,i),ownerState:a,ref:n},o))}),kG=nye,rye=["className","id"],iye=t=>{const{classes:e}=t;return vt({root:["root"]},K1e,e)},sye=be(Tr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),oye=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=Ue(r,rye),a=r,l=iye(a),{titleId:c=s}=b.useContext(SG);return C.jsx(sye,V({component:"h2",className:Ae(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),TG=oye;function aye(t){return wt("MuiDivider",t)}const lye=xt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),xF=lye,cye=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],uye=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return vt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},aye,r)},dye=be("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:zn(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>V({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),hye=be("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>V({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),PG=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth"}=r,p=Ue(r,cye),m=V({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:h,variant:f}),y=uye(m);return C.jsx(dye,V({as:a,className:Ae(y.root,o),role:d,ref:n,ownerState:m},p,{children:s?C.jsx(hye,{className:y.wrapper,ownerState:m,children:s}):null}))});PG.muiSkipListHighlight=!0;const ME=PG,fye=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function pye(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Vc(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function gye(t){return typeof t=="function"?t():t}function Tx(t,e,n){const r=gye(n),i=pye(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const mye=b.forwardRef(function(e,n){const r=_a(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:f,onEntered:p,onEntering:m,onExit:y,onExited:S,onExiting:w,style:v,timeout:k=s,TransitionComponent:P=Hk}=e,T=Ue(e,fye),_=b.useRef(null),E=Qn(l.ref,_,n),I=O=>G=>{O&&(G===void 0?O(_.current):O(_.current,G))},R=I((O,G)=>{Tx(u,O,c),vN(O),f&&f(O,G)}),F=I((O,G)=>{const j=Qg({timeout:k,style:v,easing:d},{mode:"enter"});O.style.webkitTransition=r.transitions.create("-webkit-transform",V({},j)),O.style.transition=r.transitions.create("transform",V({},j)),O.style.webkitTransform="none",O.style.transform="none",m&&m(O,G)}),B=I(p),D=I(w),A=I(O=>{const G=Qg({timeout:k,style:v,easing:d},{mode:"exit"});O.style.webkitTransition=r.transitions.create("-webkit-transform",G),O.style.transition=r.transitions.create("transform",G),Tx(u,O,c),y&&y(O)}),N=I(O=>{O.style.webkitTransition="",O.style.transition="",S&&S(O)}),L=O=>{o&&o(_.current,O)},H=b.useCallback(()=>{_.current&&Tx(u,_.current,c)},[u,c]);return b.useEffect(()=>{if(h||u==="down"||u==="right")return;const O=Pv(()=>{_.current&&Tx(u,_.current,c)}),G=Vc(_.current);return G.addEventListener("resize",O),()=>{O.clear(),G.removeEventListener("resize",O)}},[u,h,c]),b.useEffect(()=>{h||H()},[h,H]),C.jsx(P,V({nodeRef:_,onEnter:R,onEntered:B,onEntering:F,onExit:A,onExited:N,onExiting:D,addEndListener:L,appear:a,in:h,timeout:k},T,{children:(O,G)=>b.cloneElement(l,V({ref:E,style:V({visibility:O==="exited"&&!h?"hidden":void 0},v,l.props.style)},G))}))}),yye=mye;function bye(t){return wt("MuiDrawer",t)}xt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const vye=["BackdropProps"],wye=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],_G=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},xye=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ge(n)}`,r!=="temporary"&&`paperAnchorDocked${Ge(n)}`]};return vt(i,bye,e)},Sye=be(NN,{name:"MuiDrawer",slot:"Root",overridesResolver:_G})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),SF=be("div",{shouldForwardProp:Hs,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:_G})({flex:"0 0 auto"}),Cye=be(Uc,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ge(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ge(n.anchor)}`]]}})(({theme:t,ownerState:e})=>V({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),MG={left:"right",right:"left",top:"down",bottom:"up"};function kye(t){return["left","right"].indexOf(t)!==-1}function Tye({direction:t},e){return t==="rtl"&&kye(e)?MG[e]:e}const Pye=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDrawer"}),i=_a(),s=Vr(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:f}={},onClose:p,open:m=!1,PaperProps:y={},SlideProps:S,TransitionComponent:w=yye,transitionDuration:v=o,variant:k="temporary"}=r,P=Ue(r.ModalProps,vye),T=Ue(r,wye),_=b.useRef(!1);b.useEffect(()=>{_.current=!0},[]);const E=Tye({direction:s?"rtl":"ltr"},a),R=V({},r,{anchor:a,elevation:d,open:m,variant:k},T),F=xye(R),B=C.jsx(Cye,V({elevation:k==="temporary"?d:0,square:!0},y,{className:Ae(F.paper,y.className),ownerState:R,children:c}));if(k==="permanent")return C.jsx(SF,V({className:Ae(F.root,F.docked,u),ownerState:R,ref:n},T,{children:B}));const D=C.jsx(w,V({in:m,direction:MG[E],timeout:v,appear:_.current},S,{children:B}));return k==="persistent"?C.jsx(SF,V({className:Ae(F.root,F.docked,u),ownerState:R,ref:n},T,{children:D})):C.jsx(Sye,V({BackdropProps:V({},l,f,{transitionDuration:v}),className:Ae(F.root,F.modal,u),open:m,ownerState:R,onClose:p,hideBackdrop:h,ref:n},T,P,{children:D}))}),_ye=Pye;function Mye(t){return wt("MuiFab",t)}const Eye=xt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),CF=Eye,Bye=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Nye=t=>{const{color:e,variant:n,classes:r,size:i}=t,s={root:["root",n,`size${Ge(i)}`,e==="inherit"?"colorInherit":e]},o=vt(s,Mye,r);return V({},r,o)},Iye=be(Gl,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Hs(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ge(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return V({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${CF.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>V({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${CF.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),Aye=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:h="circular"}=r,f=Ue(r,Bye),p=V({},r,{color:o,component:a,disabled:l,disableFocusRipple:c,size:d,variant:h}),m=Nye(p);return C.jsx(Iye,V({className:Ae(m.root,s),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:Ae(m.focusVisible,u),ownerState:p,ref:n},f,{classes:m,children:i}))}),Rye=Aye,Lye=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Dye=t=>{const{classes:e,disableUnderline:n}=t,i=vt({root:["root",!n&&"underline"],input:["input"]},Rge,e);return V({},e,i)},Fye=be(jk,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gk(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Va.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Va.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Va.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Va.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Va.disabled}, .${Va.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Va.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&V({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Oye=be(Yk,{name:"MuiFilledInput",slot:"Input",overridesResolver:Uk})(({theme:t,ownerState:e})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),EG=b.forwardRef(function(e,n){var r,i,s,o;const a=ft({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=a,y=Ue(a,Lye),S=V({},a,{fullWidth:u,inputComponent:d,multiline:h,type:m}),w=Dye(a),v={root:{ownerState:S},input:{ownerState:S}},k=f??c?Ko(v,f??c):v,P=(r=(i=p.root)!=null?i:l.Root)!=null?r:Fye,T=(s=(o=p.input)!=null?o:l.Input)!=null?s:Oye;return C.jsx(Am,V({slots:{root:P,input:T},componentsProps:k,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:m},y,{classes:w}))});EG.muiName="Input";const BG=EG;function $ye(t){return wt("MuiFormControl",t)}xt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hye=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Vye=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return vt(i,$ye,e)},zye=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,e[`margin${Ge(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Wye=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:y="outlined"}=r,S=Ue(r,Hye),w=V({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:y}),v=Vye(w),[k,P]=b.useState(()=>{let D=!1;return i&&b.Children.forEach(i,A=>{if(!xS(A,["Input","Select"]))return;const N=xS(A,["Select"])?A.props.input:A;N&&Cge(N.props)&&(D=!0)}),D}),[T,_]=b.useState(()=>{let D=!1;return i&&b.Children.forEach(i,A=>{xS(A,["Input","Select"])&&(P2(A.props,!0)||P2(A.props.inputProps,!0))&&(D=!0)}),D}),[E,I]=b.useState(!1);l&&E&&I(!1);const R=u!==void 0&&!l?u:E;let F;const B=b.useMemo(()=>({adornedStart:k,setAdornedStart:P,color:o,disabled:l,error:c,filled:T,focused:R,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{I(!1)},onEmpty:()=>{_(!1)},onFilled:()=>{_(!0)},onFocus:()=>{I(!0)},registerEffect:F,required:p,variant:y}),[k,o,l,c,T,R,d,h,F,p,m,y]);return C.jsx(Wk.Provider,{value:B,children:C.jsx(zye,V({as:a,ownerState:w,className:Ae(v.root,s),ref:n},S,{children:i}))})}),IN=Wye,Gye=Hde({createStyledComponent:be("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>ft({props:t,name:"MuiStack"})}),Uye=Gye;function jye(t){return wt("MuiFormControlLabel",t)}const Yye=xt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),uy=Yye,Xye=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],qye=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,o={root:["root",n&&"disabled",`labelPlacement${Ge(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return vt(o,jye,e)},Kye=be("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${uy.label}`]:e.label},e.root,e[`labelPlacement${Ge(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>V({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${uy.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${uy.label}`]:{[`&.${uy.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Qye=be("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${uy.error}`]:{color:(t.vars||t).palette.error.main}})),Jye=b.forwardRef(function(e,n){var r,i;const s=ft({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:f,slotProps:p={}}=s,m=Ue(s,Xye),y=Ma(),S=(r=c??l.props.disabled)!=null?r:y==null?void 0:y.disabled,w=f??l.props.required,v={disabled:S,required:w};["checked","name","onChange","value","inputRef"].forEach(I=>{typeof l.props[I]>"u"&&typeof s[I]<"u"&&(v[I]=s[I])});const k=rf({props:s,muiFormControl:y,states:["error"]}),P=V({},s,{disabled:S,labelPlacement:h,required:w,error:k.error}),T=qye(P),_=(i=p.typography)!=null?i:a.typography;let E=d;return E!=null&&E.type!==Tr&&!u&&(E=C.jsx(Tr,V({component:"span"},_,{className:Ae(T.label,_==null?void 0:_.className),children:E}))),C.jsxs(Kye,V({className:Ae(T.root,o),ownerState:P,ref:n},m,{children:[b.cloneElement(l,v),w?C.jsxs(Uye,{display:"block",children:[E,C.jsxs(Qye,{ownerState:P,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]}):E]}))}),Cb=Jye;function Zye(t){return wt("MuiFormGroup",t)}xt("MuiFormGroup",["root","row","error"]);const ebe=["className","row"],tbe=t=>{const{classes:e,row:n,error:r}=t;return vt({root:["root",n&&"row",r&&"error"]},Zye,e)},nbe=be("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>V({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),rbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,o=Ue(r,ebe),a=Ma(),l=rf({props:r,muiFormControl:a,states:["error"]}),c=V({},r,{row:s,error:l.error}),u=tbe(c);return C.jsx(nbe,V({className:Ae(u.root,i),ownerState:c,ref:n},o))}),NG=rbe;function ibe(t){return wt("MuiFormHelperText",t)}const sbe=xt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),kF=sbe;var TF;const obe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],abe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${Ge(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return vt(c,ibe,e)},lbe=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${kF.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kF.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),cbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ue(r,obe),l=Ma(),c=rf({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=V({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=abe(u);return C.jsx(lbe,V({as:o,ownerState:u,className:Ae(d.root,s),ref:n},a,{children:i===" "?TF||(TF=C.jsx("span",{className:"notranslate",children:""})):i}))}),IG=cbe;function ube(t){return wt("MuiFormLabel",t)}const dbe=xt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Fy=dbe,hbe=["children","className","color","component","disabled","error","filled","focused","required"],fbe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${Ge(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return vt(l,ube,e)},pbe=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Fy.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Fy.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Fy.error}`]:{color:(t.vars||t).palette.error.main}})),gbe=be("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Fy.error}`]:{color:(t.vars||t).palette.error.main}})),mbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ue(r,hbe),l=Ma(),c=rf({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=V({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=fbe(u);return C.jsxs(pbe,V({as:o,ownerState:u,className:Ae(d.root,s),ref:n},a,{children:[i,c.required&&C.jsxs(gbe,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),ybe=mbe,bbe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function EE(t){return`scale(${t}, ${t**2})`}const vbe={entering:{opacity:1,transform:EE(1)},entered:{opacity:1,transform:"none"}},Q_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),AG=b.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:y=Hk}=e,S=Ue(e,bbe),w=gg(),v=b.useRef(),k=_a(),P=b.useRef(null),T=Qn(P,s.ref,n),_=N=>L=>{if(N){const H=P.current;L===void 0?N(H):N(H,L)}},E=_(u),I=_((N,L)=>{vN(N);const{duration:H,delay:O,easing:G}=Qg({style:p,timeout:m,easing:o},{mode:"enter"});let j;m==="auto"?(j=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=j):j=H,N.style.transition=[k.transitions.create("opacity",{duration:j,delay:O}),k.transitions.create("transform",{duration:Q_?j:j*.666,delay:O,easing:G})].join(","),l&&l(N,L)}),R=_(c),F=_(f),B=_(N=>{const{duration:L,delay:H,easing:O}=Qg({style:p,timeout:m,easing:o},{mode:"exit"});let G;m==="auto"?(G=k.transitions.getAutoHeightDuration(N.clientHeight),v.current=G):G=L,N.style.transition=[k.transitions.create("opacity",{duration:G,delay:H}),k.transitions.create("transform",{duration:Q_?G:G*.666,delay:Q_?H:H||G*.333,easing:O})].join(","),N.style.opacity=0,N.style.transform=EE(.75),d&&d(N)}),D=_(h),A=N=>{m==="auto"&&w.start(v.current||0,N),r&&r(P.current,N)};return C.jsx(y,V({appear:i,in:a,nodeRef:P,onEnter:I,onEntered:R,onEntering:E,onExit:B,onExited:D,onExiting:F,addEndListener:A,timeout:m==="auto"?null:m},S,{children:(N,L)=>b.cloneElement(s,V({style:V({opacity:0,transform:EE(.75),visibility:N==="exited"&&!a?"hidden":void 0},vbe[N],p,s.props.style),ref:T},L))}))});AG.muiSupportAuto=!0;const kb=AG,wbe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],xbe=t=>{const{classes:e,disableUnderline:n}=t,i=vt({root:["root",!n&&"underline"],input:["input"]},Bge,e);return V({},e,i)},Sbe=be(jk,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gk(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),V({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xh.disabled}, .${xh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${xh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Cbe=be(Yk,{name:"MuiInput",slot:"Input",overridesResolver:Uk})({}),RG=b.forwardRef(function(e,n){var r,i,s,o;const a=ft({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:m={},type:y="text"}=a,S=Ue(a,wbe),w=xbe(a),k={root:{ownerState:{disableUnderline:l}}},P=p??u?Ko(p??u,k):k,T=(r=(i=m.root)!=null?i:c.Root)!=null?r:Sbe,_=(s=(o=m.input)!=null?o:c.Input)!=null?s:Cbe;return C.jsx(Am,V({slots:{root:T,input:_},slotProps:P,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:y},S,{classes:w}))});RG.muiName="Input";const AN=RG;function kbe(t){return wt("MuiInputAdornment",t)}const Tbe=xt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),PF=Tbe;var _F;const Pbe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],_be=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},Mbe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:o}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Ge(i)}`,o,r&&"hiddenLabel",s&&`size${Ge(s)}`]};return vt(a,kbe,e)},Ebe=be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:_be})(({theme:t,ownerState:e})=>V({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${PF.positionStart}&:not(.${PF.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Bbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=Ue(r,Pbe),h=Ma()||{};let f=u;u&&h.variant,h&&!f&&(f=h.variant);const p=V({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:f}),m=Mbe(p);return C.jsx(Wk.Provider,{value:null,children:C.jsx(Ebe,V({as:o,ownerState:p,className:Ae(m.root,s),ref:n},d,{children:typeof i=="string"&&!l?C.jsx(Tr,{color:"text.secondary",children:i}):C.jsxs(b.Fragment,{children:[c==="start"?_F||(_F=C.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),RN=Bbe;function Nbe(t){return wt("MuiInputLabel",t)}xt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ibe=["disableAnimation","margin","shrink","variant","className"],Abe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ge(r)}`,o],asterisk:[a&&"asterisk"]},c=vt(l,Nbe,e);return V({},e,c)},Rbe=be(ybe,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Fy.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Lbe=b.forwardRef(function(e,n){const r=ft({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ue(r,Ibe),l=Ma();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=rf({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=V({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=Abe(d);return C.jsx(Rbe,V({"data-shrink":c,ownerState:d,ref:n,className:Ae(h.root,o)},a,{classes:h}))}),LN=Lbe;function Dbe(t){return wt("MuiLinearProgress",t)}xt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Fbe=["className","color","value","valueBuffer","variant"];let Lm=t=>t,MF,EF,BF,NF,IF,AF;const BE=4,Obe=Gc(MF||(MF=Lm`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$be=Gc(EF||(EF=Lm`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Hbe=Gc(BF||(BF=Lm`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Vbe=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${Ge(r)}`,n],dashed:["dashed",`dashedColor${Ge(r)}`],bar1:["bar",`barColor${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Ge(r)}`,n==="buffer"&&`color${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return vt(i,Dbe,e)},DN=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?Kg(t.palette[e].main,.62):qg(t.palette[e].main,.5),zbe=be("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ge(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>V({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:DN(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Wbe=be("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ge(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=DN(e,t.color);return V({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Cd(NF||(NF=Lm`
    animation: ${0} 3s infinite linear;
  `),Hbe)),Gbe=be("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>V({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${BE}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${BE}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Cd(IF||(IF=Lm`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Obe)),Ube=be("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>V({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:DN(e,t.color),transition:`transform .${BE}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Cd(AF||(AF=Lm`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$be)),jbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=Ue(r,Fbe),u=V({},r,{color:s,variant:l}),d=Vbe(u),h=Vr(),f={},p={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let m=o-100;h&&(m=-m),p.bar1.transform=`translateX(${m}%)`}if(l==="buffer"&&a!==void 0){let m=(a||0)-100;h&&(m=-m),p.bar2.transform=`translateX(${m}%)`}return C.jsxs(zbe,V({className:Ae(d.root,i),ownerState:u,role:"progressbar"},f,{ref:n},c,{children:[l==="buffer"?C.jsx(Wbe,{className:d.dashed,ownerState:u}):null,C.jsx(Gbe,{className:d.bar1,ownerState:u,style:p.bar1}),l==="determinate"?null:C.jsx(Ube,{className:d.bar2,ownerState:u,style:p.bar2})]}))}),Ybe=jbe,Xbe=b.createContext({}),Rc=Xbe;function qbe(t){return wt("MuiList",t)}xt("MuiList",["root","padding","dense","subheader"]);const Kbe=["children","className","component","dense","disablePadding","subheader"],Qbe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return vt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},qbe,e)},Jbe=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Zbe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=Ue(r,Kbe),d=b.useMemo(()=>({dense:a}),[a]),h=V({},r,{component:o,dense:a,disablePadding:l}),f=Qbe(h);return C.jsx(Rc.Provider,{value:d,children:C.jsxs(Jbe,V({as:o,className:Ae(f.root,s),ref:n,ownerState:h},u,{children:[c,i]}))})}),Av=Zbe;function eve(t){return wt("MuiListItem",t)}const tve=xt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),G0=tve;function nve(t){return wt("MuiListItemButton",t)}const rve=xt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),U0=rve,ive=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],sve=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},ove=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:a}=t,c=vt({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},nve,n);return V({},n,c)},ave=be(Gl,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:sve})(({theme:t,ownerState:e})=>V({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${U0.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${U0.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${U0.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${U0.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${U0.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),lve=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:f}=r,p=Ue(r,ive),m=b.useContext(Rc),y=b.useMemo(()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c}),[i,m.dense,l,c]),S=b.useRef(null);vi(()=>{s&&S.current&&S.current.focus()},[s]);const w=V({},r,{alignItems:i,dense:y.dense,disableGutters:c,divider:u,selected:h}),v=ove(w),k=Qn(S,n);return C.jsx(Rc.Provider,{value:y,children:C.jsx(ave,V({ref:k,href:p.href||p.to,component:(p.href||p.to)&&o==="div"?"button":o,focusVisibleClassName:Ae(v.focusVisible,d),ownerState:w,className:Ae(v.root,f)},p,{classes:v,children:a}))})}),sh=lve;function cve(t){return wt("MuiListItemSecondaryAction",t)}xt("MuiListItemSecondaryAction",["root","disableGutters"]);const uve=["className"],dve=t=>{const{disableGutters:e,classes:n}=t;return vt({root:["root",e&&"disableGutters"]},cve,n)},hve=be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),LG=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=Ue(r,uve),o=b.useContext(Rc),a=V({},r,{disableGutters:o.disableGutters}),l=dve(a);return C.jsx(hve,V({className:Ae(l.root,i),ownerState:a,ref:n},s))});LG.muiName="ListItemSecondaryAction";const fve=LG,pve=["className"],gve=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],mve=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},yve=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return vt({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},eve,r)},bve=be("div",{name:"MuiListItem",slot:"Root",overridesResolver:mve})(({theme:t,ownerState:e})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&V({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${U0.root}`]:{paddingRight:48}},{[`&.${G0.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${G0.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${G0.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${G0.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${G0.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),vve=be("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),wve=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:p=!1,disabled:m=!1,disableGutters:y=!1,disablePadding:S=!1,divider:w=!1,focusVisibleClassName:v,secondaryAction:k,selected:P=!1,slotProps:T={},slots:_={}}=r,E=Ue(r.ContainerProps,pve),I=Ue(r,gve),R=b.useContext(Rc),F=b.useMemo(()=>({dense:p||R.dense||!1,alignItems:i,disableGutters:y}),[i,R.dense,p,y]),B=b.useRef(null);vi(()=>{s&&B.current&&B.current.focus()},[s]);const D=b.Children.toArray(a),A=D.length&&xS(D[D.length-1],["ListItemSecondaryAction"]),N=V({},r,{alignItems:i,autoFocus:s,button:o,dense:F.dense,disabled:m,disableGutters:y,disablePadding:S,divider:w,hasSecondaryAction:A,selected:P}),L=yve(N),H=Qn(B,n),O=_.root||u.Root||bve,G=T.root||d.root||{},j=V({className:Ae(L.root,G.className,l),disabled:m},I);let J=c||"li";return o&&(j.component=c||"div",j.focusVisibleClassName=Ae(G0.focusVisible,v),J=Gl),A?(J=!j.component&&!c?"div":J,h==="li"&&(J==="li"?J="div":j.component==="li"&&(j.component="div")),C.jsx(Rc.Provider,{value:F,children:C.jsxs(vve,V({as:h,className:Ae(L.container,f),ref:H,ownerState:N},E,{children:[C.jsx(O,V({},G,!Ac(O)&&{as:J,ownerState:V({},N,G.ownerState)},j,{children:D})),D.pop()]}))})):C.jsx(Rc.Provider,{value:F,children:C.jsxs(O,V({},G,{as:J,ref:H},!Ac(O)&&{ownerState:V({},N,G.ownerState)},j,{children:[D,k&&C.jsx(fve,{children:k})]}))})}),DG=wve;function xve(t){return wt("MuiListItemIcon",t)}const Sve=xt("MuiListItemIcon",["root","alignItemsFlexStart"]),RF=Sve,Cve=["className"],kve=t=>{const{alignItems:e,classes:n}=t;return vt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},xve,n)},Tve=be("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>V({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Pve=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListItemIcon"}),{className:i}=r,s=Ue(r,Cve),o=b.useContext(Rc),a=V({},r,{alignItems:o.alignItems}),l=kve(a);return C.jsx(Tve,V({className:Ae(l.root,i),ownerState:a,ref:n},s))}),oa=Pve;function _ve(t){return wt("MuiListItemText",t)}const Mve=xt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_2=Mve,Eve=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Bve=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return vt({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},_ve,e)},Nve=be("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${_2.primary}`]:e.primary},{[`& .${_2.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Ive=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,h=Ue(r,Eve),{dense:f}=b.useContext(Rc);let p=l??i,m=u;const y=V({},r,{disableTypography:o,inset:a,primary:!!p,secondary:!!m,dense:f}),S=Bve(y);return p!=null&&p.type!==Tr&&!o&&(p=C.jsx(Tr,V({variant:f?"body2":"body1",className:S.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:p}))),m!=null&&m.type!==Tr&&!o&&(m=C.jsx(Tr,V({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},d,{children:m}))),C.jsxs(Nve,V({className:Ae(S.root,s),ownerState:y,ref:n},h,{children:[p,m]}))}),aa=Ive,Ave=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function J_(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function LF(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function FG(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function I1(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!FG(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Rve=b.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=Ue(e,Ave),f=b.useRef(null),p=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vi(()=>{i&&f.current.focus()},[i]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,{direction:k})=>{const P=!f.current.style.width;if(v.clientHeight<f.current.clientHeight&&P){const T=`${DW(fi(v))}px`;f.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=T,f.current.style.width=`calc(100% + ${T})`}return f.current}}),[]);const m=v=>{const k=f.current,P=v.key,T=fi(k).activeElement;if(P==="ArrowDown")v.preventDefault(),I1(k,T,c,l,J_);else if(P==="ArrowUp")v.preventDefault(),I1(k,T,c,l,LF);else if(P==="Home")v.preventDefault(),I1(k,null,c,l,J_);else if(P==="End")v.preventDefault(),I1(k,null,c,l,LF);else if(P.length===1){const _=p.current,E=P.toLowerCase(),I=performance.now();_.keys.length>0&&(I-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&E!==_.keys[0]&&(_.repeating=!1)),_.lastTime=I,_.keys.push(E);const R=T&&!_.repeating&&FG(T,_);_.previousKeyMatched&&(R||I1(k,T,!1,l,J_,_))?v.preventDefault():_.previousKeyMatched=!1}u&&u(v)},y=Qn(f,n);let S=-1;b.Children.forEach(o,(v,k)=>{if(!b.isValidElement(v)){S===k&&(S+=1,S>=o.length&&(S=-1));return}v.props.disabled||(d==="selectedMenu"&&v.props.selected||S===-1)&&(S=k),S===k&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(S+=1,S>=o.length&&(S=-1))});const w=b.Children.map(o,(v,k)=>{if(k===S){const P={};return s&&(P.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(P.tabIndex=0),b.cloneElement(v,P)}return v});return C.jsx(Av,V({role:"menu",ref:y,className:a,onKeyDown:m,tabIndex:i?0:-1},h,{children:w}))}),Dm=Rve;function Lve(t){return wt("MuiPopover",t)}xt("MuiPopover",["root","paper"]);const Dve=["onEntering"],Fve=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ove=["slotProps"];function DF(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function FF(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function OF(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Z_(t){return typeof t=="function"?t():t}const $ve=t=>{const{classes:e}=t;return vt({root:["root"],paper:["paper"]},Lve,e)},Hve=be(NN,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),OG=be(Uc,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vve=b.forwardRef(function(e,n){var r,i,s;const o=ft({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:y=16,open:S,PaperProps:w={},slots:v,slotProps:k,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:T=kb,transitionDuration:_="auto",TransitionProps:{onEntering:E}={},disableScrollLock:I=!1}=o,R=Ue(o.TransitionProps,Dve),F=Ue(o,Fve),B=(r=k==null?void 0:k.paper)!=null?r:w,D=b.useRef(),A=Qn(D,B.ref),N=V({},o,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:y,externalPaperSlotProps:B,transformOrigin:P,TransitionComponent:T,transitionDuration:_,TransitionProps:R}),L=$ve(N),H=b.useCallback(()=>{if(d==="anchorPosition")return u;const re=Z_(l),ue=(re&&re.nodeType===1?re:fi(D.current).body).getBoundingClientRect();return{top:ue.top+DF(ue,c.vertical),left:ue.left+FF(ue,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),O=b.useCallback(re=>({vertical:DF(re,P.vertical),horizontal:FF(re,P.horizontal)}),[P.horizontal,P.vertical]),G=b.useCallback(re=>{const se={width:re.offsetWidth,height:re.offsetHeight},ue=O(se);if(d==="none")return{top:null,left:null,transformOrigin:OF(ue)};const we=H();let Pe=we.top-ue.vertical,te=we.left-ue.horizontal;const pe=Pe+se.height,ge=te+se.width,Te=Vc(Z_(l)),Re=Te.innerHeight-y,Ie=Te.innerWidth-y;if(y!==null&&Pe<y){const he=Pe-y;Pe-=he,ue.vertical+=he}else if(y!==null&&pe>Re){const he=pe-Re;Pe-=he,ue.vertical+=he}if(y!==null&&te<y){const he=te-y;te-=he,ue.horizontal+=he}else if(ge>Ie){const he=ge-Ie;te-=he,ue.horizontal+=he}return{top:`${Math.round(Pe)}px`,left:`${Math.round(te)}px`,transformOrigin:OF(ue)}},[l,d,H,O,y]),[j,J]=b.useState(S),Z=b.useCallback(()=>{const re=D.current;if(!re)return;const se=G(re);se.top!==null&&(re.style.top=se.top),se.left!==null&&(re.style.left=se.left),re.style.transformOrigin=se.transformOrigin,J(!0)},[G]);b.useEffect(()=>(I&&window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)),[l,I,Z]);const ae=(re,se)=>{E&&E(re,se),Z()},z=()=>{J(!1)};b.useEffect(()=>{S&&Z()}),b.useImperativeHandle(a,()=>S?{updatePosition:()=>{Z()}}:null,[S,Z]),b.useEffect(()=>{if(!S)return;const re=Pv(()=>{Z()}),se=Vc(l);return se.addEventListener("resize",re),()=>{re.clear(),se.removeEventListener("resize",re)}},[l,S,Z]);let $=_;_==="auto"&&!T.muiSupportAuto&&($=void 0);const W=p||(l?fi(Z_(l)).body:void 0),oe=(i=v==null?void 0:v.root)!=null?i:Hve,X=(s=v==null?void 0:v.paper)!=null?s:OG,K=Pn({elementType:X,externalSlotProps:V({},B,{style:j?B.style:V({},B.style,{opacity:0})}),additionalProps:{elevation:m,ref:A},ownerState:N,className:Ae(L.paper,B==null?void 0:B.className)}),Y=Pn({elementType:oe,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:F,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:W,open:S},ownerState:N,className:Ae(L.root,f)}),{slotProps:le}=Y,ie=Ue(Y,Ove);return C.jsx(oe,V({},ie,!Ac(oe)&&{slotProps:le,disableScrollLock:I},{children:C.jsx(T,V({appear:!0,in:S,onEntering:ae,onExited:z,timeout:$},R,{children:C.jsx(X,V({},K,{children:h}))}))}))}),zve=Vve;function Wve(t){return wt("MuiMenu",t)}xt("MuiMenu",["root","paper","list"]);const Gve=["onEntering"],Uve=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],jve={vertical:"top",horizontal:"right"},Yve={vertical:"top",horizontal:"left"},Xve=t=>{const{classes:e}=t;return vt({root:["root"],paper:["paper"],list:["list"]},Wve,e)},qve=be(zve,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Kve=be(OG,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qve=be(Dm,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Jve=b.forwardRef(function(e,n){var r,i;const s=ft({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:y}={},variant:S="selectedMenu",slots:w={},slotProps:v={}}=s,k=Ue(s.TransitionProps,Gve),P=Ue(s,Uve),T=Vr(),_=V({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:k,variant:S}),E=Xve(_),I=o&&!c&&h,R=b.useRef(null),F=(O,G)=>{R.current&&R.current.adjustStyleForScrollbar(O,{direction:T?"rtl":"ltr"}),y&&y(O,G)},B=O=>{O.key==="Tab"&&(O.preventDefault(),d&&d(O,"tabKeyDown"))};let D=-1;b.Children.map(a,(O,G)=>{b.isValidElement(O)&&(O.props.disabled||(S==="selectedMenu"&&O.props.selected||D===-1)&&(D=G))});const A=(r=w.paper)!=null?r:Kve,N=(i=v.paper)!=null?i:f,L=Pn({elementType:w.root,externalSlotProps:v.root,ownerState:_,className:[E.root,l]}),H=Pn({elementType:A,externalSlotProps:N,ownerState:_,className:E.paper});return C.jsx(qve,V({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?jve:Yve,slots:{paper:A,root:w.root},slotProps:{root:L,paper:H},open:h,ref:n,transitionDuration:m,TransitionProps:V({onEntering:F},k),ownerState:_},P,{classes:p,children:C.jsx(Qve,V({onKeyDown:B,actions:R,autoFocus:o&&(D===-1||c),autoFocusItem:I,variant:S},u,{className:Ae(E.list,u.className),children:a}))}))}),Zve=Jve;function ewe(t){return wt("MuiMenuItem",t)}const twe=xt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),A1=twe,nwe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rwe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},iwe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=vt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},ewe,o);return V({},o,l)},swe=be(Gl,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:rwe})(({theme:t,ownerState:e})=>V({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A1.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${A1.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${A1.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:zn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:zn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${A1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${A1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${xF.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${xF.inset}`]:{marginLeft:52},[`& .${_2.root}`]:{marginTop:0,marginBottom:0},[`& .${_2.inset}`]:{paddingLeft:36},[`& .${RF.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${RF.root} svg`]:{fontSize:"1.25rem"}}))),owe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,f=Ue(r,nwe),p=b.useContext(Rc),m=b.useMemo(()=>({dense:o||p.dense||!1,disableGutters:l}),[p.dense,o,l]),y=b.useRef(null);vi(()=>{i&&y.current&&y.current.focus()},[i]);const S=V({},r,{dense:m.dense,divider:a,disableGutters:l}),w=iwe(r),v=Qn(y,n);let k;return r.disabled||(k=d!==void 0?d:-1),C.jsx(Rc.Provider,{value:m,children:C.jsx(swe,V({ref:v,role:u,tabIndex:k,component:s,focusVisibleClassName:Ae(w.focusVisible,c),className:Ae(w.root,h)},f,{ownerState:S,classes:w}))})}),Ca=owe;function awe(t){return wt("MuiNativeSelect",t)}const lwe=xt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),FN=lwe,cwe=["className","disabled","error","IconComponent","inputRef","variant"],uwe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,s&&"iconOpen",r&&"disabled"]};return vt(a,awe,e)},$G=({ownerState:t,theme:e})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${FN.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),dwe=be("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Hs,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${FN.multiple}`]:e.multiple}]}})($G),HG=({ownerState:t,theme:e})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${FN.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),hwe=be("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})(HG),fwe=b.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=Ue(e,cwe),u=V({},e,{disabled:i,variant:l,error:s}),d=uwe(u);return C.jsxs(b.Fragment,{children:[C.jsx(dwe,V({ownerState:u,className:Ae(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:C.jsx(hwe,{as:o,ownerState:u,className:d.icon})]})}),pwe=fwe;var $F;const gwe=["children","classes","className","label","notched"],mwe=be("fieldset",{shouldForwardProp:Hs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ywe=be("legend",{shouldForwardProp:Hs})(({ownerState:t,theme:e})=>V({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function bwe(t){const{className:e,label:n,notched:r}=t,i=Ue(t,gwe),s=n!=null&&n!=="",o=V({},t,{notched:r,withLabel:s});return C.jsx(mwe,V({"aria-hidden":!0,className:e,ownerState:o},i,{children:C.jsx(ywe,{ownerState:o,children:s?C.jsx("span",{children:n}):$F||($F=C.jsx("span",{className:"notranslate",children:""}))})}))}const vwe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],wwe=t=>{const{classes:e}=t,r=vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ige,e);return V({},e,r)},xwe=be(jk,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Gk})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ru.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ru.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ru.focused} .${ru.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ru.error} .${ru.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ru.disabled} .${ru.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&V({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Swe=be(bwe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Cwe=be(Yk,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Uk})(({theme:t,ownerState:e})=>V({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),VG=b.forwardRef(function(e,n){var r,i,s,o,a;const l=ft({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:y="text"}=l,S=Ue(l,vwe),w=wwe(l),v=Ma(),k=rf({props:l,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=V({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:v,fullWidth:u,hiddenLabel:k.hiddenLabel,multiline:f,size:k.size,type:y}),T=(r=(i=m.root)!=null?i:c.Root)!=null?r:xwe,_=(s=(o=m.input)!=null?o:c.Input)!=null?s:Cwe;return C.jsx(Am,V({slots:{root:T,input:_},renderSuffix:E=>C.jsx(Swe,{ownerState:P,className:w.notchedOutline,label:h!=null&&h!==""&&k.required?a||(a=C.jsxs(b.Fragment,{children:[h,"","*"]})):h,notched:typeof p<"u"?p:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},S,{classes:V({},w,{notchedOutline:null})}))});VG.muiName="Input";const zG=VG,kwe=tn(C.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Twe=tn(C.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Pwe=tn(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),_we=tn(C.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Mwe=be("span",{shouldForwardProp:Hs})({position:"relative",display:"flex"}),Ewe=be(Pwe)({transform:"scale(1)"}),Bwe=be(_we)(({theme:t,ownerState:e})=>V({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function WG(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=V({},t,{checked:e});return C.jsxs(Mwe,{className:n.root,ownerState:i,children:[C.jsx(Ewe,{fontSize:r,className:n.background,ownerState:i}),C.jsx(Bwe,{fontSize:r,className:n.dot,ownerState:i})]})}const Nwe=b.createContext(void 0),GG=Nwe;function Iwe(){return b.useContext(GG)}function Awe(t){return wt("MuiRadio",t)}const Rwe=xt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),HF=Rwe,Lwe=["checked","checkedIcon","color","icon","name","onChange","size","className"],Dwe=t=>{const{classes:e,color:n,size:r}=t,i={root:["root",`color${Ge(n)}`,r!=="medium"&&`size${Ge(r)}`]};return V({},e,vt(i,Awe,e))},Fwe=be(BN,{shouldForwardProp:t=>Hs(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Ge(n.size)}`],e[`color${Ge(n.color)}`]]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${HF.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${HF.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function Owe(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const VF=C.jsx(WG,{checked:!0}),zF=C.jsx(WG,{}),$we=b.forwardRef(function(e,n){var r,i;const s=ft({props:e,name:"MuiRadio"}),{checked:o,checkedIcon:a=VF,color:l="primary",icon:c=zF,name:u,onChange:d,size:h="medium",className:f}=s,p=Ue(s,Lwe),m=V({},s,{color:l,size:h}),y=Dwe(m),S=Iwe();let w=o;const v=bE(d,S&&S.onChange);let k=u;return S&&(typeof w>"u"&&(w=Owe(S.value,s.value)),typeof k>"u"&&(k=S.name)),C.jsx(Fwe,V({type:"radio",icon:b.cloneElement(c,{fontSize:(r=zF.props.fontSize)!=null?r:h}),checkedIcon:b.cloneElement(a,{fontSize:(i=VF.props.fontSize)!=null?i:h}),ownerState:m,classes:y,name:k,checked:w,onChange:v,ref:n,className:Ae(y.root,f)},p))}),WF=$we,Hwe=["actions","children","defaultValue","name","onChange","value"],Vwe=b.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:s,name:o,onChange:a,value:l}=e,c=Ue(e,Hwe),u=b.useRef(null),[d,h]=yo({controlled:l,default:s,name:"RadioGroup"});b.useImperativeHandle(r,()=>({focus:()=>{let y=u.current.querySelector("input:not(:disabled):checked");y||(y=u.current.querySelector("input:not(:disabled)")),y&&y.focus()}}),[]);const f=Qn(n,u),p=Bo(o),m=b.useMemo(()=>({name:p,onChange(y){h(y.target.value),a&&a(y,y.target.value)},value:d}),[p,a,h,d]);return C.jsx(GG.Provider,{value:m,children:C.jsx(NG,V({role:"radiogroup",ref:f},c,{children:i}))})}),GF=Vwe,zwe=tn(C.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Wwe=tn(C.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Gwe(t){return wt("MuiRating",t)}const Uwe=xt("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),R1=Uwe,jwe=["value"],Ywe=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Xwe(t){const e=t.toString().split(".")[1];return e?e.length:0}function e3(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(Xwe(e)))}const qwe=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${Ge(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return vt(a,Gwe,e)},Kwe=be("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${R1.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ge(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>V({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${R1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${R1.focusVisible} .${R1.iconActive}`]:{outline:"1px solid #999"},[`& .${R1.visuallyHidden}`]:lN},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),UG=be("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>V({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Qwe=be("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>V({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),Jwe=be("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Mv(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>V({position:"relative"},t&&{transform:"scale(1.2)"}));function Zwe(t){const e=Ue(t,jwe);return C.jsx("span",V({},e))}function UF(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:h,name:f,onBlur:p,onChange:m,onClick:y,onFocus:S,readOnly:w,ownerState:v,ratingValue:k,ratingValueRounded:P}=t,T=o?d===k:d<=k,_=d<=a,E=d<=i,I=d===P,R=Bo(),F=C.jsx(Qwe,{as:c,value:d,className:Ae(e.icon,T?e.iconFilled:e.iconEmpty,_&&e.iconHover,E&&e.iconFocus,u&&e.iconActive),ownerState:V({},v,{iconEmpty:!T,iconFilled:T,iconHover:_,iconFocus:E,iconActive:u}),children:r&&!T?r:l});return w?C.jsx("span",V({},h,{children:F})):C.jsxs(b.Fragment,{children:[C.jsxs(UG,V({ownerState:V({},v,{emptyValueFocused:void 0}),htmlFor:R},h,{children:[F,C.jsx("span",{className:e.visuallyHidden,children:s(d)})]})),C.jsx("input",{className:e.visuallyHidden,onFocus:S,onBlur:p,onChange:m,onClick:y,disabled:n,value:d,id:R,type:"radio",name:f,checked:I})]})}const exe=C.jsx(zwe,{fontSize:"inherit"}),txe=C.jsx(Wwe,{fontSize:"inherit"});function nxe(t){return`${t} Star${t!==1?"s":""}`}const rxe=b.forwardRef(function(e,n){const r=ft({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=txe,emptyLabelText:l="Empty",getLabelText:c=nxe,highlightSelectedOnly:u=!1,icon:d=exe,IconContainerComponent:h=Zwe,max:f=5,name:p,onChange:m,onChangeActive:y,onMouseLeave:S,onMouseMove:w,precision:v=1,readOnly:k=!1,size:P="medium",value:T}=r,_=Ue(r,Ywe),E=Bo(p),[I,R]=yo({controlled:T,default:s,name:"Rating"}),F=e3(I,v),B=Vr(),[{hover:D,focus:A},N]=b.useState({hover:-1,focus:-1});let L=F;D!==-1&&(L=D),A!==-1&&(L=A);const{isFocusVisibleRef:H,onBlur:O,onFocus:G,ref:j}=_k(),[J,Z]=b.useState(!1),ae=b.useRef(),z=Qn(j,ae,n),$=ue=>{w&&w(ue);const we=ae.current,{right:Pe,left:te,width:pe}=we.getBoundingClientRect();let ge;B?ge=(Pe-ue.clientX)/pe:ge=(ue.clientX-te)/pe;let Te=e3(f*ge+v/2,v);Te=wh(Te,v,f),N(Re=>Re.hover===Te&&Re.focus===Te?Re:{hover:Te,focus:Te}),Z(!1),y&&D!==Te&&y(ue,Te)},W=ue=>{S&&S(ue);const we=-1;N({hover:we,focus:we}),y&&D!==we&&y(ue,we)},oe=ue=>{let we=ue.target.value===""?null:parseFloat(ue.target.value);D!==-1&&(we=D),R(we),m&&m(ue,we)},X=ue=>{ue.clientX===0&&ue.clientY===0||(N({hover:-1,focus:-1}),R(null),m&&parseFloat(ue.target.value)===F&&m(ue,null))},K=ue=>{G(ue),H.current===!0&&Z(!0);const we=parseFloat(ue.target.value);N(Pe=>({hover:Pe.hover,focus:we}))},Y=ue=>{if(D!==-1)return;O(ue),H.current===!1&&Z(!1);const we=-1;N(Pe=>({hover:Pe.hover,focus:we}))},[le,ie]=b.useState(!1),re=V({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:le,focusVisible:J,getLabelText:c,icon:d,IconContainerComponent:h,max:f,precision:v,readOnly:k,size:P}),se=qwe(re);return C.jsxs(Kwe,V({ref:z,onMouseMove:$,onMouseLeave:W,className:Ae(se.root,i,k&&"MuiRating-readOnly"),ownerState:re,role:k?"img":null,"aria-label":k?c(L):null},_,{children:[Array.from(new Array(f)).map((ue,we)=>{const Pe=we+1,te={classes:se,disabled:o,emptyIcon:a,focus:A,getLabelText:c,highlightSelectedOnly:u,hover:D,icon:d,IconContainerComponent:h,name:E,onBlur:Y,onChange:oe,onClick:X,onFocus:K,ratingValue:L,ratingValueRounded:F,readOnly:k,ownerState:re},pe=Pe===Math.ceil(L)&&(D!==-1||A!==-1);if(v<1){const ge=Array.from(new Array(1/v));return C.jsx(Jwe,{className:Ae(se.decimal,pe&&se.iconActive),ownerState:re,iconActive:pe,children:ge.map((Te,Re)=>{const Ie=e3(Pe-1+(Re+1)*v,v);return C.jsx(UF,V({},te,{isActive:!1,itemValue:Ie,labelProps:{style:ge.length-1===Re?{}:{width:Ie===L?`${(Re+1)*v*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Ie)})},Pe)}return C.jsx(UF,V({},te,{isActive:pe,itemValue:Pe}),Pe)}),!k&&!o&&C.jsxs(UG,{className:Ae(se.label,se.labelEmptyValue),ownerState:re,children:[C.jsx("input",{className:se.visuallyHidden,value:"",id:`${E}-empty`,type:"radio",name:E,checked:F==null,onFocus:()=>ie(!0),onBlur:()=>ie(!1),onChange:oe}),C.jsx("span",{className:se.visuallyHidden,children:l})]})]}))}),ixe=rxe;function sxe(t){return wt("MuiSelect",t)}const L1=xt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var jF;const oxe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],axe=be("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${L1.select}`]:e.select},{[`&.${L1.select}`]:e[n.variant]},{[`&.${L1.error}`]:e.error},{[`&.${L1.multiple}`]:e.multiple}]}})($G,{[`&.${L1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lxe=be("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})(HG),cxe=be("input",{shouldForwardProp:t=>Mv(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function YF(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function uxe(t){return t==null||typeof t=="string"&&!t.trim()}const dxe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return vt(a,sxe,e)},hxe=b.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:y,labelId:S,MenuProps:w={},multiple:v,name:k,onBlur:P,onChange:T,onClose:_,onFocus:E,onOpen:I,open:R,readOnly:F,renderValue:B,SelectDisplayProps:D={},tabIndex:A,value:N,variant:L="standard"}=e,H=Ue(e,oxe),[O,G]=yo({controlled:N,default:d,name:"Select"}),[j,J]=yo({controlled:R,default:u,name:"Select"}),Z=b.useRef(null),ae=b.useRef(null),[z,$]=b.useState(null),{current:W}=b.useRef(R!=null),[oe,X]=b.useState(),K=Qn(n,y),Y=b.useCallback(je=>{ae.current=je,je&&$(je)},[]),le=z==null?void 0:z.parentNode;b.useImperativeHandle(K,()=>({focus:()=>{ae.current.focus()},node:Z.current,value:O}),[O]),b.useEffect(()=>{u&&j&&z&&!W&&(X(a?null:le.clientWidth),ae.current.focus())},[z,a]),b.useEffect(()=>{o&&ae.current.focus()},[o]),b.useEffect(()=>{if(!S)return;const je=fi(ae.current).getElementById(S);if(je){const et=()=>{getSelection().isCollapsed&&ae.current.focus()};return je.addEventListener("click",et),()=>{je.removeEventListener("click",et)}}},[S]);const ie=(je,et)=>{je?I&&I(et):_&&_(et),W||(X(a?null:le.clientWidth),J(je))},re=je=>{je.button===0&&(je.preventDefault(),ae.current.focus(),ie(!0,je))},se=je=>{ie(!1,je)},ue=b.Children.toArray(l),we=je=>{const et=ue.find(Fe=>Fe.props.value===je.target.value);et!==void 0&&(G(et.props.value),T&&T(je,et))},Pe=je=>et=>{let Fe;if(et.currentTarget.hasAttribute("tabindex")){if(v){Fe=Array.isArray(O)?O.slice():[];const He=O.indexOf(je.props.value);He===-1?Fe.push(je.props.value):Fe.splice(He,1)}else Fe=je.props.value;if(je.props.onClick&&je.props.onClick(et),O!==Fe&&(G(Fe),T)){const He=et.nativeEvent||et,ot=new He.constructor(He.type,He);Object.defineProperty(ot,"target",{writable:!0,value:{value:Fe,name:k}}),T(ot,je)}v||ie(!1,et)}},te=je=>{F||[" ","ArrowUp","ArrowDown","Enter"].indexOf(je.key)!==-1&&(je.preventDefault(),ie(!0,je))},pe=z!==null&&j,ge=je=>{!pe&&P&&(Object.defineProperty(je,"target",{writable:!0,value:{value:O,name:k}}),P(je))};delete H["aria-invalid"];let Te,Re;const Ie=[];let he=!1;(P2({value:O})||f)&&(B?Te=B(O):he=!0);const Se=ue.map(je=>{if(!b.isValidElement(je))return null;let et;if(v){if(!Array.isArray(O))throw new Error(Sd(2));et=O.some(Fe=>YF(Fe,je.props.value)),et&&he&&Ie.push(je.props.children)}else et=YF(O,je.props.value),et&&he&&(Re=je.props.children);return b.cloneElement(je,{"aria-selected":et?"true":"false",onClick:Pe(je),onKeyUp:Fe=>{Fe.key===" "&&Fe.preventDefault(),je.props.onKeyUp&&je.props.onKeyUp(Fe)},role:"option",selected:et,value:void 0,"data-value":je.props.value})});he&&(v?Ie.length===0?Te=null:Te=Ie.reduce((je,et,Fe)=>(je.push(et),Fe<Ie.length-1&&je.push(", "),je),[]):Te=Re);let Ce=oe;!a&&W&&z&&(Ce=le.clientWidth);let $e;typeof A<"u"?$e=A:$e=h?null:0;const ke=D.id||(k?`mui-component-select-${k}`:void 0),me=V({},e,{variant:L,value:O,open:pe,error:p}),ye=dxe(me),Ee=V({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),We=Bo();return C.jsxs(b.Fragment,{children:[C.jsx(axe,V({ref:Y,tabIndex:$e,role:"combobox","aria-controls":We,"aria-disabled":h?"true":void 0,"aria-expanded":pe?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:te,onMouseDown:h||F?null:re,onBlur:ge,onFocus:E},D,{ownerState:me,className:Ae(D.className,ye.select,c),id:ke,children:uxe(Te)?jF||(jF=C.jsx("span",{className:"notranslate",children:""})):Te})),C.jsx(cxe,V({"aria-invalid":p,value:Array.isArray(O)?O.join(","):O,name:k,ref:Z,"aria-hidden":!0,onChange:we,tabIndex:-1,disabled:h,className:ye.nativeInput,autoFocus:o,ownerState:me},H)),C.jsx(lxe,{as:m,className:ye.icon,ownerState:me}),C.jsx(Zve,V({id:`menu-${k||""}`,anchorEl:le,open:pe,onClose:se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:V({"aria-labelledby":S,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:We},w.MenuListProps),slotProps:V({},w.slotProps,{paper:V({},Ee,{style:V({minWidth:Ce},Ee!=null?Ee.style:null)})}),children:Se}))]})}),fxe=hxe,pxe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],gxe=["root"],mxe=t=>{const{classes:e}=t;return e},ON={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Hs(t)&&t!=="variant",slot:"Root"},yxe=be(AN,ON)(""),bxe=be(zG,ON)(""),vxe=be(BG,ON)(""),jG=b.forwardRef(function(e,n){const r=ft({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=yG,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:y,multiple:S=!1,native:w=!1,onClose:v,onOpen:k,open:P,renderValue:T,SelectDisplayProps:_,variant:E="outlined"}=r,I=Ue(r,pxe),R=w?pwe:fxe,F=Ma(),B=rf({props:r,muiFormControl:F,states:["variant","error"]}),D=B.variant||E,A=V({},r,{variant:D,classes:o}),N=mxe(A),L=Ue(N,gxe),H=h||{standard:C.jsx(yxe,{ownerState:A}),outlined:C.jsx(bxe,{label:p,ownerState:A}),filled:C.jsx(vxe,{ownerState:A})}[D],O=Qn(n,H.ref);return C.jsx(b.Fragment,{children:b.cloneElement(H,V({inputComponent:R,inputProps:V({children:s,error:B.error,IconComponent:u,variant:D,type:void 0,multiple:S},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:y,onClose:v,onOpen:k,open:P,renderValue:T,SelectDisplayProps:V({id:d},_)},f,{classes:f?Ko(L,f.classes):L},h?h.props.inputProps:{})},(S&&w||c)&&D==="outlined"?{notched:!0}:{},{ref:O,className:Ae(H.props.className,a,N.root)},!h&&{variant:D},I))})});jG.muiName="Select";const Rv=jG;function wxe(t){return wt("MuiSkeleton",t)}xt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const xxe=["animation","className","component","height","style","variant","width"];let M2=t=>t,XF,qF,KF,QF;const Sxe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return vt({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},wxe,e)},Cxe=Gc(XF||(XF=M2`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),kxe=Gc(qF||(qF=M2`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Txe=be("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=khe(t.shape.borderRadius)||"px",r=The(t.shape.borderRadius);return V({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:go(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Cd(KF||(KF=M2`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Cxe),({ownerState:t,theme:e})=>t.animation==="wave"&&Cd(QF||(QF=M2`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),kxe,(e.vars||e).palette.action.hover)),Pxe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=Ue(r,xxe),h=V({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),f=Sxe(h);return C.jsx(Txe,V({as:o,ref:n,className:Ae(f.root,s),ownerState:h},d,{style:V({width:u,height:a},l)}))}),_xe=Pxe,Mxe=t=>!t||!Ac(t);function Exe(t){return wt("MuiSlider",t)}const Bxe=xt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Rl=Bxe,Nxe=t=>{const{open:e}=t;return{offset:Ae(e&&Rl.valueLabelOpen),circle:Rl.valueLabelCircle,label:Rl.valueLabelLabel}};function Ixe(t){const{children:e,className:n,value:r}=t,i=Nxe(t);return e?b.cloneElement(e,{className:Ae(e.props.className)},C.jsxs(b.Fragment,{children:[e.props.children,C.jsx("span",{className:Ae(i.offset,n),"aria-hidden":!0,children:C.jsx("span",{className:i.circle,children:C.jsx("span",{className:i.label,children:r})})})]})):null}const Axe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],Rxe=$k();function JF(t){return t}const Lxe=be("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ge(n.color)}`],n.size!=="medium"&&e[`size${Ge(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Rl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Rl.dragging}`]:{[`& .${Rl.thumb}, & .${Rl.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r;return((r=t.vars)!=null?r:t).palette[n].main}).map(n=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),Dxe=be("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Fxe=be("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r;return((r=t.vars)!=null?r:t).palette[n].main}).map(n=>({props:{color:n,track:"inverted"},style:V({},t.vars?{backgroundColor:t.vars.palette.Slider[`${n}Track`],borderColor:t.vars.palette.Slider[`${n}Track`]}:V({backgroundColor:Kg(t.palette[n].main,.62),borderColor:Kg(t.palette[n].main,.62)},t.applyStyles("dark",{backgroundColor:qg(t.palette[n].main,.5)}),t.applyStyles("dark",{borderColor:qg(t.palette[n].main,.5)})))}))]}}),Oxe=be("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ge(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ge(n.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Rl.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r;return((r=t.vars)!=null?r:t).palette[n].main}).map(n=>({props:{color:n},style:{[`&:hover, &.${Rl.focusVisible}`]:V({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[n].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${zn(t.palette[n].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Rl.active}`]:V({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[n].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${zn(t.palette[n].main,.16)}`})}})),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}}),$xe=be(Ixe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>V({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Rl.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Rl.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),Hxe=be("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Mv(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),Vxe=be("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Mv(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>V({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),zxe=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:s,classes:o,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",a&&`color${Ge(a)}`,l&&`size${Ge(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ge(l)}`,a&&`thumbColor${Ge(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return vt(c,Exe,o)},Wxe=({children:t})=>t,Gxe=b.forwardRef(function(e,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,y,S,w,v,k,P,T,_,E,I,R;const F=Rxe({props:e,name:"MuiSlider"}),B=Vr(),{"aria-label":D,"aria-valuetext":A,"aria-labelledby":N,component:L="span",components:H={},componentsProps:O={},color:G="primary",classes:j,className:J,disableSwap:Z=!1,disabled:ae=!1,getAriaLabel:z,getAriaValueText:$,marks:W=!1,max:oe=100,min:X=0,orientation:K="horizontal",shiftStep:Y=10,size:le="medium",step:ie=1,scale:re=JF,slotProps:se,slots:ue,track:we="normal",valueLabelDisplay:Pe="off",valueLabelFormat:te=JF}=F,pe=Ue(F,Axe),ge=V({},F,{isRtl:B,max:oe,min:X,classes:j,disabled:ae,disableSwap:Z,orientation:K,marks:W,color:G,size:le,step:ie,shiftStep:Y,scale:re,track:we,valueLabelDisplay:Pe,valueLabelFormat:te}),{axisProps:Te,getRootProps:Re,getHiddenInputProps:Ie,getThumbProps:he,open:Se,active:Ce,axis:$e,focusedThumbIndex:ke,range:me,dragging:ye,marks:Ee,values:We,trackOffset:je,trackLeap:et,getThumbStyle:Fe}=j0e(V({},ge,{rootRef:n}));ge.marked=Ee.length>0&&Ee.some(Ve=>Ve.label),ge.dragging=ye,ge.focusedThumbIndex=ke;const He=zxe(ge),ot=(r=(i=ue==null?void 0:ue.root)!=null?i:H.Root)!=null?r:Lxe,pt=(s=(o=ue==null?void 0:ue.rail)!=null?o:H.Rail)!=null?s:Dxe,It=(a=(l=ue==null?void 0:ue.track)!=null?l:H.Track)!=null?a:Fxe,Gt=(c=(u=ue==null?void 0:ue.thumb)!=null?u:H.Thumb)!=null?c:Oxe,Jt=(d=(h=ue==null?void 0:ue.valueLabel)!=null?h:H.ValueLabel)!=null?d:$xe,Fn=(f=(p=ue==null?void 0:ue.mark)!=null?p:H.Mark)!=null?f:Hxe,_e=(m=(y=ue==null?void 0:ue.markLabel)!=null?y:H.MarkLabel)!=null?m:Vxe,Ne=(S=(w=ue==null?void 0:ue.input)!=null?w:H.Input)!=null?S:"input",Ye=(v=se==null?void 0:se.root)!=null?v:O.root,ct=(k=se==null?void 0:se.rail)!=null?k:O.rail,Bt=(P=se==null?void 0:se.track)!=null?P:O.track,en=(T=se==null?void 0:se.thumb)!=null?T:O.thumb,Ft=(_=se==null?void 0:se.valueLabel)!=null?_:O.valueLabel,At=(E=se==null?void 0:se.mark)!=null?E:O.mark,yt=(I=se==null?void 0:se.markLabel)!=null?I:O.markLabel,Ut=(R=se==null?void 0:se.input)!=null?R:O.input,kn=Pn({elementType:ot,getSlotProps:Re,externalSlotProps:Ye,externalForwardedProps:pe,additionalProps:V({},Mxe(ot)&&{as:L}),ownerState:V({},ge,Ye==null?void 0:Ye.ownerState),className:[He.root,J]}),Yt=Pn({elementType:pt,externalSlotProps:ct,ownerState:ge,className:He.rail}),Rn=Pn({elementType:It,externalSlotProps:Bt,additionalProps:{style:V({},Te[$e].offset(je),Te[$e].leap(et))},ownerState:V({},ge,Bt==null?void 0:Bt.ownerState),className:He.track}),$n=Pn({elementType:Gt,getSlotProps:he,externalSlotProps:en,ownerState:V({},ge,en==null?void 0:en.ownerState),className:He.thumb}),Xr=Pn({elementType:Jt,externalSlotProps:Ft,ownerState:V({},ge,Ft==null?void 0:Ft.ownerState),className:He.valueLabel}),vr=Pn({elementType:Fn,externalSlotProps:At,ownerState:ge,className:He.mark}),lr=Pn({elementType:_e,externalSlotProps:yt,ownerState:ge,className:He.markLabel}),Nr=Pn({elementType:Ne,getSlotProps:Ie,externalSlotProps:Ut,ownerState:ge});return C.jsxs(ot,V({},kn,{children:[C.jsx(pt,V({},Yt)),C.jsx(It,V({},Rn)),Ee.filter(Ve=>Ve.value>=X&&Ve.value<=oe).map((Ve,Oe)=>{const Tt=T2(Ve.value,X,oe),gt=Te[$e].offset(Tt);let jt;return we===!1?jt=We.indexOf(Ve.value)!==-1:jt=we==="normal"&&(me?Ve.value>=We[0]&&Ve.value<=We[We.length-1]:Ve.value<=We[0])||we==="inverted"&&(me?Ve.value<=We[0]||Ve.value>=We[We.length-1]:Ve.value>=We[0]),C.jsxs(b.Fragment,{children:[C.jsx(Fn,V({"data-index":Oe},vr,!Ac(Fn)&&{markActive:jt},{style:V({},gt,vr.style),className:Ae(vr.className,jt&&He.markActive)})),Ve.label!=null?C.jsx(_e,V({"aria-hidden":!0,"data-index":Oe},lr,!Ac(_e)&&{markLabelActive:jt},{style:V({},gt,lr.style),className:Ae(He.markLabel,lr.className,jt&&He.markLabelActive),children:Ve.label})):null]},Oe)}),We.map((Ve,Oe)=>{const Tt=T2(Ve,X,oe),gt=Te[$e].offset(Tt),jt=Pe==="off"?Wxe:Jt;return C.jsx(jt,V({},!Ac(jt)&&{valueLabelFormat:te,valueLabelDisplay:Pe,value:typeof te=="function"?te(re(Ve),Oe):te,index:Oe,open:Se===Oe||Ce===Oe||Pe==="on",disabled:ae},Xr,{children:C.jsx(Gt,V({"data-index":Oe},$n,{className:Ae(He.thumb,$n.className,Ce===Oe&&He.active,ke===Oe&&He.focusVisible),style:V({},gt,Fe(Oe),$n.style),children:C.jsx(Ne,V({"data-index":Oe,"aria-label":z?z(Oe):D,"aria-valuenow":re(Ve),"aria-labelledby":N,"aria-valuetext":$?$(re(Ve),Oe):A,value:We[Oe]},Nr))}))}),Oe)})]}))}),Oh=Gxe;function Uxe(t){return wt("MuiTooltip",t)}const jxe=xt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),kh=jxe,Yxe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Xxe(t){return Math.round(t*1e5)/1e5}const qxe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ge(s.split("-")[0])}`],arrow:["arrow"]};return vt(o,Uxe,e)},Kxe=be(Ld,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>V({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${kh.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${kh.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${kh.arrow}`]:V({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${kh.arrow}`]:V({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Qxe=be("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>V({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:zn(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Xxe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${kh.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},e.isRtl?V({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${kh.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},e.isRtl?V({marginRight:"14px"},e.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${kh.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${kh.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Jxe=be("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:zn(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Px=!1;const ZF=new oN;let D1={x:0,y:0};function _x(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Zxe=b.forwardRef(function(e,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,y,S,w,v,k,P;const T=ft({props:e,name:"MuiTooltip"}),{arrow:_=!1,children:E,components:I={},componentsProps:R={},describeChild:F=!1,disableFocusListener:B=!1,disableHoverListener:D=!1,disableInteractive:A=!1,disableTouchListener:N=!1,enterDelay:L=100,enterNextDelay:H=0,enterTouchDelay:O=700,followCursor:G=!1,id:j,leaveDelay:J=0,leaveTouchDelay:Z=1500,onClose:ae,onOpen:z,open:$,placement:W="bottom",PopperComponent:oe,PopperProps:X={},slotProps:K={},slots:Y={},title:le,TransitionComponent:ie=kb,TransitionProps:re}=T,se=Ue(T,Yxe),ue=b.isValidElement(E)?E:C.jsx("span",{children:E}),we=_a(),Pe=Vr(),[te,pe]=b.useState(),[ge,Te]=b.useState(null),Re=b.useRef(!1),Ie=A||G,he=gg(),Se=gg(),Ce=gg(),$e=gg(),[ke,me]=yo({controlled:$,default:!1,name:"Tooltip",state:"open"});let ye=ke;const Ee=Bo(j),We=b.useRef(),je=Et(()=>{We.current!==void 0&&(document.body.style.WebkitUserSelect=We.current,We.current=void 0),$e.clear()});b.useEffect(()=>je,[je]);const et=Ht=>{ZF.clear(),Px=!0,me(!0),z&&!ye&&z(Ht)},Fe=Et(Ht=>{ZF.start(800+J,()=>{Px=!1}),me(!1),ae&&ye&&ae(Ht),he.start(we.transitions.duration.shortest,()=>{Re.current=!1})}),He=Ht=>{Re.current&&Ht.type!=="touchstart"||(te&&te.removeAttribute("title"),Se.clear(),Ce.clear(),L||Px&&H?Se.start(Px?H:L,()=>{et(Ht)}):et(Ht))},ot=Ht=>{Se.clear(),Ce.start(J,()=>{Fe(Ht)})},{isFocusVisibleRef:pt,onBlur:It,onFocus:Gt,ref:Jt}=_k(),[,Fn]=b.useState(!1),_e=Ht=>{It(Ht),pt.current===!1&&(Fn(!1),ot(Ht))},Ne=Ht=>{te||pe(Ht.currentTarget),Gt(Ht),pt.current===!0&&(Fn(!0),He(Ht))},Ye=Ht=>{Re.current=!0;const Ln=ue.props;Ln.onTouchStart&&Ln.onTouchStart(Ht)},ct=Ht=>{Ye(Ht),Ce.clear(),he.clear(),je(),We.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",$e.start(O,()=>{document.body.style.WebkitUserSelect=We.current,He(Ht)})},Bt=Ht=>{ue.props.onTouchEnd&&ue.props.onTouchEnd(Ht),je(),Ce.start(Z,()=>{Fe(Ht)})};b.useEffect(()=>{if(!ye)return;function Ht(Ln){(Ln.key==="Escape"||Ln.key==="Esc")&&Fe(Ln)}return document.addEventListener("keydown",Ht),()=>{document.removeEventListener("keydown",Ht)}},[Fe,ye]);const en=Qn(ue.ref,Jt,pe,n);!le&&le!==0&&(ye=!1);const Ft=b.useRef(),At=Ht=>{const Ln=ue.props;Ln.onMouseMove&&Ln.onMouseMove(Ht),D1={x:Ht.clientX,y:Ht.clientY},Ft.current&&Ft.current.update()},yt={},Ut=typeof le=="string";F?(yt.title=!ye&&Ut&&!D?le:null,yt["aria-describedby"]=ye?Ee:null):(yt["aria-label"]=Ut?le:null,yt["aria-labelledby"]=ye&&!Ut?Ee:null);const kn=V({},yt,se,ue.props,{className:Ae(se.className,ue.props.className),onTouchStart:Ye,ref:en},G?{onMouseMove:At}:{}),Yt={};N||(kn.onTouchStart=ct,kn.onTouchEnd=Bt),D||(kn.onMouseOver=_x(He,kn.onMouseOver),kn.onMouseLeave=_x(ot,kn.onMouseLeave),Ie||(Yt.onMouseOver=He,Yt.onMouseLeave=ot)),B||(kn.onFocus=_x(Ne,kn.onFocus),kn.onBlur=_x(_e,kn.onBlur),Ie||(Yt.onFocus=Ne,Yt.onBlur=_e));const Rn=b.useMemo(()=>{var Ht;let Ln=[{name:"arrow",enabled:!!ge,options:{element:ge,padding:4}}];return(Ht=X.popperOptions)!=null&&Ht.modifiers&&(Ln=Ln.concat(X.popperOptions.modifiers)),V({},X.popperOptions,{modifiers:Ln})},[ge,X]),$n=V({},T,{isRtl:Pe,arrow:_,disableInteractive:Ie,placement:W,PopperComponentProp:oe,touch:Re.current}),Xr=qxe($n),vr=(r=(i=Y.popper)!=null?i:I.Popper)!=null?r:Kxe,lr=(s=(o=(a=Y.transition)!=null?a:I.Transition)!=null?o:ie)!=null?s:kb,Nr=(l=(c=Y.tooltip)!=null?c:I.Tooltip)!=null?l:Qxe,Ve=(u=(d=Y.arrow)!=null?d:I.Arrow)!=null?u:Jxe,Oe=cy(vr,V({},X,(h=K.popper)!=null?h:R.popper,{className:Ae(Xr.popper,X==null?void 0:X.className,(f=(p=K.popper)!=null?p:R.popper)==null?void 0:f.className)}),$n),Tt=cy(lr,V({},re,(m=K.transition)!=null?m:R.transition),$n),gt=cy(Nr,V({},(y=K.tooltip)!=null?y:R.tooltip,{className:Ae(Xr.tooltip,(S=(w=K.tooltip)!=null?w:R.tooltip)==null?void 0:S.className)}),$n),jt=cy(Ve,V({},(v=K.arrow)!=null?v:R.arrow,{className:Ae(Xr.arrow,(k=(P=K.arrow)!=null?P:R.arrow)==null?void 0:k.className)}),$n);return C.jsxs(b.Fragment,{children:[b.cloneElement(ue,kn),C.jsx(vr,V({as:oe??Ld,placement:W,anchorEl:G?{getBoundingClientRect:()=>({top:D1.y,left:D1.x,right:D1.x,bottom:D1.y,width:0,height:0})}:te,popperRef:Ft,open:te?ye:!1,id:Ee,transition:!0},Yt,Oe,{popperOptions:Rn,children:({TransitionProps:Ht})=>C.jsx(lr,V({timeout:we.transitions.duration.shorter},Ht,Tt,{children:C.jsxs(Nr,V({},gt,{children:[le,_?C.jsx(Ve,V({},jt,{ref:Te})):null]}))}))}))]})}),eSe=Zxe;function tSe(t){return wt("MuiSwitch",t)}const Vo=xt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),nSe=["className","color","edge","size","sx"],rSe=$k(),iSe=t=>{const{classes:e,edge:n,size:r,color:i,checked:s,disabled:o}=t,a={root:["root",n&&`edge${Ge(n)}`,`size${Ge(r)}`],switchBase:["switchBase",`color${Ge(i)}`,s&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=vt(a,tSe,e);return V({},e,l)},sSe=be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Vo.thumb}`]:{width:16,height:16},[`& .${Vo.switchBase}`]:{padding:4,[`&.${Vo.checked}`]:{transform:"translateX(16px)"}}}}]}),oSe=be(BN,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Vo.input}`]:e.input},n.color!=="default"&&e[`color${Ge(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Vo.checked}`]:{transform:"translateX(20px)"},[`&.${Vo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Vo.checked} + .${Vo.track}`]:{opacity:.5},[`&.${Vo.disabled} + .${Vo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Vo.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Vo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zn(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?Kg(t.palette[e].main,.62):qg(t.palette[e].main,.55)}`}},[`&.${Vo.checked} + .${Vo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),aSe=be("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),lSe=be("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),cSe=b.forwardRef(function(e,n){const r=rSe({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:o=!1,size:a="medium",sx:l}=r,c=Ue(r,nSe),u=V({},r,{color:s,edge:o,size:a}),d=iSe(u),h=C.jsx(lSe,{className:d.thumb,ownerState:u});return C.jsxs(sSe,{className:Ae(d.root,i),sx:l,ownerState:u,children:[C.jsx(oSe,V({type:"checkbox",icon:h,checkedIcon:h,ref:n,ownerState:u},c,{classes:V({},d,{root:d.switchBase})})),C.jsx(aSe,{className:d.track,ownerState:u})]})}),YG=cSe;function uSe(t){return wt("MuiTab",t)}const dSe=xt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),_f=dSe,hSe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],fSe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:o,selected:a,disabled:l}=t,c={root:["root",s&&o&&"labelIcon",`textColor${Ge(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return vt(c,uSe,e)},pSe=be(Gl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ge(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>V({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${_f.iconWrapper}`]:V({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${_f.selected}`]:{opacity:1},[`&.${_f.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${_f.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${_f.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${_f.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${_f.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),gSe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:f,onFocus:p,selected:m,selectionFollowsFocus:y,textColor:S="inherit",value:w,wrapped:v=!1}=r,k=Ue(r,hSe),P=V({},r,{disabled:s,disableFocusRipple:o,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:S,wrapped:v}),T=fSe(P),_=l&&d&&b.isValidElement(l)?b.cloneElement(l,{className:Ae(T.iconWrapper,l.props.className)}):l,E=R=>{!m&&h&&h(R,w),f&&f(R)},I=R=>{y&&!m&&h&&h(R,w),p&&p(R)};return C.jsxs(pSe,V({focusRipple:!o,className:Ae(T.root,i),ref:n,role:"tab","aria-selected":m,disabled:s,onClick:E,onFocus:I,ownerState:P,tabIndex:m?0:-1},k,{children:[c==="top"||c==="start"?C.jsxs(b.Fragment,{children:[_,d]}):C.jsxs(b.Fragment,{children:[d,_]}),u]}))}),NE=gSe,mSe=b.createContext(),ySe=mSe,bSe=b.createContext(),vSe=bSe;function wSe(t){return wt("MuiTableCell",t)}const xSe=xt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),SSe=xSe,CSe=["align","className","component","padding","scope","size","sortDirection","variant"],kSe=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Ge(r)}`,i!=="normal"&&`padding${Ge(i)}`,`size${Ge(s)}`]};return vt(a,wSe,e)},TSe=be("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ge(n.size)}`],n.padding!=="normal"&&e[`padding${Ge(n.padding)}`],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>V({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Kg(zn(t.palette.divider,1),.88):qg(zn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${SSe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),PSe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,h=Ue(r,CSe),f=b.useContext(ySe),p=b.useContext(vSe),m=p&&p.variant==="head";let y;o?y=o:y=m?"th":"td";let S=l;y==="td"?S=void 0:!S&&m&&(S="col");const w=d||p&&p.variant,v=V({},r,{align:i,component:y,padding:a||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&f&&f.stickyHeader,variant:w}),k=kSe(v);let P=null;return u&&(P=u==="asc"?"ascending":"descending"),C.jsx(TSe,V({as:y,ref:n,className:Ae(k.root,s),"aria-sort":P,scope:S,ownerState:v},h))}),IE=PSe;function _Se(t){return wt("MuiToolbar",t)}xt("MuiToolbar",["root","gutters","regular","dense"]);const MSe=["className","component","disableGutters","variant"],ESe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return vt({root:["root",!n&&"gutters",r]},_Se,e)},BSe=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>V({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),NSe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=Ue(r,MSe),c=V({},r,{component:s,disableGutters:o,variant:a}),u=ESe(c);return C.jsx(BSe,V({as:s,className:Ae(u.root,i),ref:n,ownerState:c},l))}),XG=NSe,qG=tn(C.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KG=tn(C.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),ISe=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],ASe=b.forwardRef(function(e,n){var r,i,s,o,a,l,c,u;const{backIconButtonProps:d,count:h,disabled:f=!1,getItemAriaLabel:p,nextIconButtonProps:m,onPageChange:y,page:S,rowsPerPage:w,showFirstButton:v,showLastButton:k,slots:P={},slotProps:T={}}=e,_=Ue(e,ISe),E=Vr(),I=K=>{y(K,0)},R=K=>{y(K,S-1)},F=K=>{y(K,S+1)},B=K=>{y(K,Math.max(0,Math.ceil(h/w)-1))},D=(r=P.firstButton)!=null?r:Ei,A=(i=P.lastButton)!=null?i:Ei,N=(s=P.nextButton)!=null?s:Ei,L=(o=P.previousButton)!=null?o:Ei,H=(a=P.firstButtonIcon)!=null?a:kwe,O=(l=P.lastButtonIcon)!=null?l:Twe,G=(c=P.nextButtonIcon)!=null?c:KG,j=(u=P.previousButtonIcon)!=null?u:qG,J=E?A:D,Z=E?N:L,ae=E?L:N,z=E?D:A,$=E?T.lastButton:T.firstButton,W=E?T.nextButton:T.previousButton,oe=E?T.previousButton:T.nextButton,X=E?T.firstButton:T.lastButton;return C.jsxs("div",V({ref:n},_,{children:[v&&C.jsx(J,V({onClick:I,disabled:f||S===0,"aria-label":p("first",S),title:p("first",S)},$,{children:E?C.jsx(O,V({},T.lastButtonIcon)):C.jsx(H,V({},T.firstButtonIcon))})),C.jsx(Z,V({onClick:R,disabled:f||S===0,color:"inherit","aria-label":p("previous",S),title:p("previous",S)},W??d,{children:E?C.jsx(G,V({},T.nextButtonIcon)):C.jsx(j,V({},T.previousButtonIcon))})),C.jsx(ae,V({onClick:F,disabled:f||(h!==-1?S>=Math.ceil(h/w)-1:!1),color:"inherit","aria-label":p("next",S),title:p("next",S)},oe??m,{children:E?C.jsx(j,V({},T.previousButtonIcon)):C.jsx(G,V({},T.nextButtonIcon))})),k&&C.jsx(z,V({onClick:B,disabled:f||S>=Math.ceil(h/w)-1,"aria-label":p("last",S),title:p("last",S)},X,{children:E?C.jsx(H,V({},T.firstButtonIcon)):C.jsx(O,V({},T.lastButtonIcon))}))]}))}),RSe=ASe;function LSe(t){return wt("MuiTablePagination",t)}const DSe=xt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),up=DSe;var eO;const FSe=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],OSe=be(IE,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),$Se=be(XG,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>V({[`& .${up.actions}`]:e.actions},e.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${up.actions}`]:{flexShrink:0,marginLeft:20}})),HSe=be("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})({flex:"1 1 100%"}),VSe=be("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,e)=>e.selectLabel})(({theme:t})=>V({},t.typography.body2,{flexShrink:0})),zSe=be(Rv,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>V({[`& .${up.selectIcon}`]:e.selectIcon,[`& .${up.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${up.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),WSe=be(Ca,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,e)=>e.menuItem})({}),GSe=be("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,e)=>e.displayedRows})(({theme:t})=>V({},t.typography.body2,{flexShrink:0}));function USe({from:t,to:e,count:n}){return`${t}${e} of ${n!==-1?n:`more than ${e}`}`}function jSe(t){return`Go to ${t} page`}const YSe=t=>{const{classes:e}=t;return vt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},LSe,e)},XSe=b.forwardRef(function(e,n){var r;const i=ft({props:e,name:"MuiTablePagination"}),{ActionsComponent:s=RSe,backIconButtonProps:o,className:a,colSpan:l,component:c=IE,count:u,disabled:d=!1,getItemAriaLabel:h=jSe,labelDisplayedRows:f=USe,labelRowsPerPage:p="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:S,page:w,rowsPerPage:v,rowsPerPageOptions:k=[10,25,50,100],SelectProps:P={},showFirstButton:T=!1,showLastButton:_=!1,slotProps:E={},slots:I={}}=i,R=Ue(i,FSe),F=i,B=YSe(F),D=(r=E==null?void 0:E.select)!=null?r:P,A=D.native?"option":WSe;let N;(c===IE||c==="td")&&(N=l||1e3);const L=Bo(D.id),H=Bo(D.labelId),O=()=>u===-1?(w+1)*v:v===-1?u:Math.min(u,(w+1)*v);return C.jsx(OSe,V({colSpan:N,ref:n,as:c,ownerState:F,className:Ae(B.root,a)},R,{children:C.jsxs($Se,{className:B.toolbar,children:[C.jsx(HSe,{className:B.spacer}),k.length>1&&C.jsx(VSe,{className:B.selectLabel,id:H,children:p}),k.length>1&&C.jsx(zSe,V({variant:"standard"},!D.variant&&{input:eO||(eO=C.jsx(Am,{}))},{value:v,onChange:S,id:L,labelId:H},D,{classes:V({},D.classes,{root:Ae(B.input,B.selectRoot,(D.classes||{}).root),select:Ae(B.select,(D.classes||{}).select),icon:Ae(B.selectIcon,(D.classes||{}).icon)}),disabled:d,children:k.map(G=>b.createElement(A,V({},!Ac(A)&&{ownerState:F},{className:B.menuItem,key:G.label?G.label:G,value:G.value?G.value:G}),G.label?G.label:G))})),C.jsx(GSe,{className:B.displayedRows,children:f({from:u===0?0:w*v+1,to:O(),count:u===-1?-1:u,page:w})}),C.jsx(s,{className:B.actions,backIconButtonProps:o,count:u,nextIconButtonProps:m,onPageChange:y,page:w,rowsPerPage:v,showFirstButton:T,showLastButton:_,slotProps:E.actions,slots:I.actions,getItemAriaLabel:h,disabled:d})]})}))}),qSe=XSe;function KSe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function QSe(t,e,n,r={},i=()=>{}){const{ease:s=KSe,duration:o=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const f=Math.min(1,(h-a)/o);if(e[t]=s(f)*(n-l)+l,f>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const JSe=["onChange"],ZSe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function e2e(t){const{onChange:e}=t,n=Ue(t,JSe),r=b.useRef(),i=b.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return vi(()=>{const o=Pv(()=>{const l=r.current;s(),l!==r.current&&e(r.current)}),a=Vc(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[e]),b.useEffect(()=>{s(),e(r.current)},[e]),C.jsx("div",V({style:ZSe,ref:i},n))}function t2e(t){return wt("MuiTabScrollButton",t)}const n2e=xt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),r2e=n2e,i2e=["className","slots","slotProps","direction","orientation","disabled"],s2e=t=>{const{classes:e,orientation:n,disabled:r}=t;return vt({root:["root",n,r&&"disabled"]},t2e,e)},o2e=be(Gl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>V({width:40,flexShrink:0,opacity:.8,[`&.${r2e.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),a2e=b.forwardRef(function(e,n){var r,i;const s=ft({props:e,name:"MuiTabScrollButton"}),{className:o,slots:a={},slotProps:l={},direction:c}=s,u=Ue(s,i2e),d=Vr(),h=V({isRtl:d},s),f=s2e(h),p=(r=a.StartScrollButtonIcon)!=null?r:qG,m=(i=a.EndScrollButtonIcon)!=null?i:KG,y=Pn({elementType:p,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),S=Pn({elementType:m,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return C.jsx(o2e,V({component:"div",className:Ae(f.root,o),ref:n,role:null,ownerState:h,tabIndex:null},u,{children:c==="left"?C.jsx(p,V({},y)):C.jsx(m,V({},S))}))}),l2e=a2e;function c2e(t){return wt("MuiTabs",t)}const u2e=xt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),t3=u2e,d2e=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],tO=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,nO=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Mx=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},h2e=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=t;return vt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},c2e,l)},f2e=be("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${t3.scrollButtons}`]:e.scrollButtons},{[`& .${t3.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>V({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${t3.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),p2e=be("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>V({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),g2e=be("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>V({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),m2e=be("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>V({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),y2e=be(e2e)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),rO={},b2e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTabs"}),i=_a(),s=Vr(),{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:f=!1,indicatorColor:p="primary",onChange:m,orientation:y="horizontal",ScrollButtonComponent:S=l2e,scrollButtons:w="auto",selectionFollowsFocus:v,slots:k={},slotProps:P={},TabIndicatorProps:T={},TabScrollButtonProps:_={},textColor:E="primary",value:I,variant:R="standard",visibleScrollbar:F=!1}=r,B=Ue(r,d2e),D=R==="scrollable",A=y==="vertical",N=A?"scrollTop":"scrollLeft",L=A?"top":"left",H=A?"bottom":"right",O=A?"clientHeight":"clientWidth",G=A?"height":"width",j=V({},r,{component:h,allowScrollButtonsMobile:f,indicatorColor:p,orientation:y,vertical:A,scrollButtons:w,textColor:E,variant:R,visibleScrollbar:F,fixed:!D,hideScrollbar:D&&!F,scrollableX:D&&!A,scrollableY:D&&A,centered:c&&!D,scrollButtonsHideMobile:!f}),J=h2e(j),Z=Pn({elementType:k.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:j}),ae=Pn({elementType:k.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:j}),[z,$]=b.useState(!1),[W,oe]=b.useState(rO),[X,K]=b.useState(!1),[Y,le]=b.useState(!1),[ie,re]=b.useState(!1),[se,ue]=b.useState({overflow:"hidden",scrollbarWidth:0}),we=new Map,Pe=b.useRef(null),te=b.useRef(null),pe=()=>{const Fe=Pe.current;let He;if(Fe){const pt=Fe.getBoundingClientRect();He={clientWidth:Fe.clientWidth,scrollLeft:Fe.scrollLeft,scrollTop:Fe.scrollTop,scrollLeftNormalized:Bde(Fe,s?"rtl":"ltr"),scrollWidth:Fe.scrollWidth,top:pt.top,bottom:pt.bottom,left:pt.left,right:pt.right}}let ot;if(Fe&&I!==!1){const pt=te.current.children;if(pt.length>0){const It=pt[we.get(I)];ot=It?It.getBoundingClientRect():null}}return{tabsMeta:He,tabMeta:ot}},ge=Et(()=>{const{tabsMeta:Fe,tabMeta:He}=pe();let ot=0,pt;if(A)pt="top",He&&Fe&&(ot=He.top-Fe.top+Fe.scrollTop);else if(pt=s?"right":"left",He&&Fe){const Gt=s?Fe.scrollLeftNormalized+Fe.clientWidth-Fe.scrollWidth:Fe.scrollLeft;ot=(s?-1:1)*(He[pt]-Fe[pt]+Gt)}const It={[pt]:ot,[G]:He?He[G]:0};if(isNaN(W[pt])||isNaN(W[G]))oe(It);else{const Gt=Math.abs(W[pt]-It[pt]),Jt=Math.abs(W[G]-It[G]);(Gt>=1||Jt>=1)&&oe(It)}}),Te=(Fe,{animation:He=!0}={})=>{He?QSe(N,Pe.current,Fe,{duration:i.transitions.duration.standard}):Pe.current[N]=Fe},Re=Fe=>{let He=Pe.current[N];A?He+=Fe:(He+=Fe*(s?-1:1),He*=s&&FW()==="reverse"?-1:1),Te(He)},Ie=()=>{const Fe=Pe.current[O];let He=0;const ot=Array.from(te.current.children);for(let pt=0;pt<ot.length;pt+=1){const It=ot[pt];if(He+It[O]>Fe){pt===0&&(He=Fe);break}He+=It[O]}return He},he=()=>{Re(-1*Ie())},Se=()=>{Re(Ie())},Ce=b.useCallback(Fe=>{ue({overflow:null,scrollbarWidth:Fe})},[]),$e=()=>{const Fe={};Fe.scrollbarSizeListener=D?C.jsx(y2e,{onChange:Ce,className:Ae(J.scrollableX,J.hideScrollbar)}):null;const ot=D&&(w==="auto"&&(X||Y)||w===!0);return Fe.scrollButtonStart=ot?C.jsx(S,V({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Z},orientation:y,direction:s?"right":"left",onClick:he,disabled:!X},_,{className:Ae(J.scrollButtons,_.className)})):null,Fe.scrollButtonEnd=ot?C.jsx(S,V({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ae},orientation:y,direction:s?"left":"right",onClick:Se,disabled:!Y},_,{className:Ae(J.scrollButtons,_.className)})):null,Fe},ke=Et(Fe=>{const{tabsMeta:He,tabMeta:ot}=pe();if(!(!ot||!He)){if(ot[L]<He[L]){const pt=He[N]+(ot[L]-He[L]);Te(pt,{animation:Fe})}else if(ot[H]>He[H]){const pt=He[N]+(ot[H]-He[H]);Te(pt,{animation:Fe})}}}),me=Et(()=>{D&&w!==!1&&re(!ie)});b.useEffect(()=>{const Fe=Pv(()=>{Pe.current&&ge()});let He;const ot=Gt=>{Gt.forEach(Jt=>{Jt.removedNodes.forEach(Fn=>{var _e;(_e=He)==null||_e.unobserve(Fn)}),Jt.addedNodes.forEach(Fn=>{var _e;(_e=He)==null||_e.observe(Fn)})}),Fe(),me()},pt=Vc(Pe.current);pt.addEventListener("resize",Fe);let It;return typeof ResizeObserver<"u"&&(He=new ResizeObserver(Fe),Array.from(te.current.children).forEach(Gt=>{He.observe(Gt)})),typeof MutationObserver<"u"&&(It=new MutationObserver(ot),It.observe(te.current,{childList:!0})),()=>{var Gt,Jt;Fe.clear(),pt.removeEventListener("resize",Fe),(Gt=It)==null||Gt.disconnect(),(Jt=He)==null||Jt.disconnect()}},[ge,me]),b.useEffect(()=>{const Fe=Array.from(te.current.children),He=Fe.length;if(typeof IntersectionObserver<"u"&&He>0&&D&&w!==!1){const ot=Fe[0],pt=Fe[He-1],It={root:Pe.current,threshold:.99},Gt=Ne=>{K(!Ne[0].isIntersecting)},Jt=new IntersectionObserver(Gt,It);Jt.observe(ot);const Fn=Ne=>{le(!Ne[0].isIntersecting)},_e=new IntersectionObserver(Fn,It);return _e.observe(pt),()=>{Jt.disconnect(),_e.disconnect()}}},[D,w,ie,u==null?void 0:u.length]),b.useEffect(()=>{$(!0)},[]),b.useEffect(()=>{ge()}),b.useEffect(()=>{ke(rO!==W)},[ke,W]),b.useImperativeHandle(l,()=>({updateIndicator:ge,updateScrollButtons:me}),[ge,me]);const ye=C.jsx(m2e,V({},T,{className:Ae(J.indicator,T.className),ownerState:j,style:V({},W,T.style)}));let Ee=0;const We=b.Children.map(u,Fe=>{if(!b.isValidElement(Fe))return null;const He=Fe.props.value===void 0?Ee:Fe.props.value;we.set(He,Ee);const ot=He===I;return Ee+=1,b.cloneElement(Fe,V({fullWidth:R==="fullWidth",indicator:ot&&!z&&ye,selected:ot,selectionFollowsFocus:v,onChange:m,textColor:E,value:He},Ee===1&&I===!1&&!Fe.props.tabIndex?{tabIndex:0}:{}))}),je=Fe=>{const He=te.current,ot=fi(He).activeElement;if(ot.getAttribute("role")!=="tab")return;let It=y==="horizontal"?"ArrowLeft":"ArrowUp",Gt=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&s&&(It="ArrowRight",Gt="ArrowLeft"),Fe.key){case It:Fe.preventDefault(),Mx(He,ot,nO);break;case Gt:Fe.preventDefault(),Mx(He,ot,tO);break;case"Home":Fe.preventDefault(),Mx(He,null,tO);break;case"End":Fe.preventDefault(),Mx(He,null,nO);break}},et=$e();return C.jsxs(f2e,V({className:Ae(J.root,d),ownerState:j,ref:n,as:h},B,{children:[et.scrollButtonStart,et.scrollbarSizeListener,C.jsxs(p2e,{className:J.scroller,ownerState:j,style:{overflow:se.overflow,[A?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-se.scrollbarWidth},ref:Pe,children:[C.jsx(g2e,{"aria-label":o,"aria-labelledby":a,"aria-orientation":y==="vertical"?"vertical":null,className:J.flexContainer,ownerState:j,onKeyDown:je,ref:te,role:"tablist",children:We}),z&&ye]}),et.scrollButtonEnd]}))}),QG=b2e;function v2e(t){return wt("MuiTextField",t)}xt("MuiTextField",["root"]);const w2e=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],x2e={standard:AN,filled:BG,outlined:zG},S2e=t=>{const{classes:e}=t;return vt({root:["root"]},v2e,e)},C2e=be(IN,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),k2e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:m,InputLabelProps:y,inputProps:S,InputProps:w,inputRef:v,label:k,maxRows:P,minRows:T,multiline:_=!1,name:E,onBlur:I,onChange:R,onFocus:F,placeholder:B,required:D=!1,rows:A,select:N=!1,SelectProps:L,type:H,value:O,variant:G="outlined"}=r,j=Ue(r,w2e),J=V({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:f,multiline:_,required:D,select:N,variant:G}),Z=S2e(J),ae={};G==="outlined"&&(y&&typeof y.shrink<"u"&&(ae.notched=y.shrink),ae.label=k),N&&((!L||!L.native)&&(ae.id=void 0),ae["aria-describedby"]=void 0);const z=Bo(m),$=p&&z?`${z}-helper-text`:void 0,W=k&&z?`${z}-label`:void 0,oe=x2e[G],X=C.jsx(oe,V({"aria-describedby":$,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:f,multiline:_,name:E,rows:A,maxRows:P,minRows:T,type:H,value:O,id:z,inputRef:v,onBlur:I,onChange:R,onFocus:F,placeholder:B,inputProps:S},ae,w));return C.jsxs(C2e,V({className:Ae(Z.root,a),disabled:u,error:d,fullWidth:f,ref:n,required:D,color:l,variant:G,ownerState:J},j,{children:[k!=null&&k!==""&&C.jsx(LN,V({htmlFor:z,id:W},y,{children:k})),N?C.jsx(Rv,V({"aria-describedby":$,id:z,labelId:W,value:O,input:X},L,{children:o})):X,p&&C.jsx(IG,V({id:$},h,{children:p}))]}))}),Tp=k2e,$N=tn(C.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),T2e=tn(C.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),HN=tn(C.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),P2e=tn(C.jsx("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist"),Fm=tn(C.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),JG=tn(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),ZG=tn(C.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),_2e=tn(C.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),M2e=tn(C.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),iO=tn(C.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),E2e=tn(C.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),B2e=tn([C.jsx("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),C.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"MusicNoteTwoTone"),N2e=tn(C.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers"),I2e=tn(C.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove");function Dd(t){const[e,n]=b.useState(!1);return C.jsxs(C.Fragment,{children:[C.jsx(rpe,{position:"static",title:"Siuuu",children:C.jsxs(XG,{sx:{display:"flex"},children:[C.jsx(Ei,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:()=>{n(!0)},children:C.jsx(M2e,{})}),C.jsx(Tr,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title})]})}),C.jsx("div",{id:"basic",style:{flex:1,display:"flex",overflow:"auto",flexDirection:"column"},children:t.children}),C.jsx(_ye,{open:e,onClose:()=>{n(!1)},children:C.jsxs(Av,{children:[C.jsxs(sh,{component:nh,to:"/",children:[C.jsx(oa,{children:C.jsx(_2e,{})}),C.jsx(aa,{children:"Home"})]}),C.jsxs(sh,{component:nh,to:"/todo",children:[C.jsx(oa,{children:C.jsx(P2e,{})}),C.jsx(aa,{children:"Todo"})]}),C.jsxs(sh,{component:nh,to:"/counter",children:[C.jsx(oa,{children:C.jsx(N2e,{})}),C.jsx(aa,{children:"Counter"})]}),C.jsxs(sh,{component:nh,to:"/rating",children:[C.jsx(oa,{children:C.jsx(iO,{})}),C.jsx(aa,{children:"Rating"})]}),C.jsxs(sh,{component:nh,to:"/shifts",children:[C.jsx(oa,{children:C.jsx(iO,{})}),C.jsx(aa,{children:"Shifts"})]}),C.jsxs(sh,{component:nh,to:"/music",children:[C.jsx(oa,{children:C.jsx(E2e,{})}),C.jsx(aa,{children:"Chord Generator"})]}),C.jsxs(sh,{component:nh,to:"/progression",children:[C.jsx(oa,{children:C.jsx(B2e,{})}),C.jsx(aa,{children:"Progression"})]}),C.jsxs(sh,{component:nh,to:"/math",children:[C.jsx(oa,{children:C.jsx(T2e,{})}),C.jsx(aa,{children:"Math"})]})]})})]})}function A2e(){b.useEffect(()=>{setTimeout(()=>{console.log("This text will be displayed after 2 seconds."),e(!0)},500)},[]);const[t,e]=b.useState(!1);return C.jsx(Dd,{title:"Home",children:C.jsx(wme,{justifyContent:"center",alignContent:"center",children:t?"This is the content test":C.jsx("div",{style:{width:700,margin:"auto"},children:C.jsx(xG,{size:700,color:"secondary"})})})})}function R2e({todos:t,onChange:e}){const[n,r]=b.useState(""),[i,s]=b.useState(!1),[o,a]=b.useState(-1),[l,c]=b.useState(""),u=d=>{};return C.jsxs(C.Fragment,{children:[C.jsxs(Sb,{children:[C.jsxs(Tr,{color:"primary",children:["You have ",t.length," item",t.length<1||t.length>1?"s":""]}),C.jsx(Av,{children:t.map((d,h)=>C.jsx(DG,{secondaryAction:C.jsxs(C.Fragment,{children:[C.jsx(Ei,{edge:"end","aria-label":"edit",onClick:()=>{a(h),c(t[h])},children:C.jsx(ZG,{})}),C.jsx(Ei,{edge:"end","aria-label":"delete",onClick:()=>{e(t.filter((f,p)=>p!==h))},children:C.jsx(JG,{})})]}),children:d},h))}),C.jsx(Tp,{error:i,id:"outlined",value:n,label:"New item",onChange:d=>r(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(console.log("dialog"),n.length>0?(s(!1),e([...t,n]),r("")):s(!0))}})]}),C.jsx(Iv,{open:o>=0,onClose:()=>a(-1),disableRestoreFocus:!0,children:C.jsx(Tp,{inputRef:u,autoFocus:!0,error:i,id:"outlined",value:l,onChange:d=>c(d.target.value),helperText:i&&"required",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),l.length>0?(s(!1),e(t.map((h,f)=>o===f?l:h)),console.log("setting index"),a(-1)):s(!0))}})})]})}function L2e(){const[t,e]=b.useState([[]]),[n,r]=b.useState(0),[i,s]=b.useState(["List 1"]);function o(l){const c=[...t];c[n]=l,e(c)}function a(l,c){r(c)}return C.jsxs(Dd,{title:"Todo",children:[C.jsxs("div",{style:{display:"flex"},children:[C.jsx(QG,{value:n,onChange:a,variant:"scrollable",children:t.map((l,c)=>C.jsx(NE,{style:{textTransform:"none"},label:c==n?C.jsxs("div",{children:[C.jsx(AN,{inputProps:{maxLength:15},style:{width:120,textAlign:"center"},onChange:u=>{const d=i;return d[c]=u.target.value,s(d)},disableUnderline:!0,size:"small",defaultValue:i[c]}),t.length>1&&C.jsx(Ei,{onClick:()=>{e([...t].filter((u,d)=>d!==c)),n>0&&r(n-1),s([...i].filter((u,d)=>d!==c))},children:C.jsx(Fm,{})})]}):i[c]},c))}),C.jsx(Ei,{onClick:()=>{e([...t,[]]),r(t.length),s([...i,`List ${t.length+1}`])},children:C.jsx($N,{})})]}),C.jsx(R2e,{todos:t[n],onChange:l=>o(l)})]})}var eU={exports:{}},tU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=b;function D2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F2e=typeof Object.is=="function"?Object.is:D2e,O2e=Lv.useSyncExternalStore,$2e=Lv.useRef,H2e=Lv.useEffect,V2e=Lv.useMemo,z2e=Lv.useDebugValue;tU.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$2e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=V2e(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,F2e(u,f))return p;var m=r(f);return i!==void 0&&i(p,m)?p:(u=f,d=m)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=O2e(t,s[0],s[1]);return H2e(function(){o.hasValue=!0,o.value=a},[a]),z2e(a),a};eU.exports=tU;var W2e=eU.exports,Ya="default"in Wh?cn:Wh,sO=Symbol.for("react-redux-context"),oO=typeof globalThis<"u"?globalThis:{};function G2e(){if(!Ya.createContext)return{};const t=oO[sO]??(oO[sO]=new Map);let e=t.get(Ya.createContext);return e||(e=Ya.createContext(null),t.set(Ya.createContext,e)),e}var jh=G2e(),U2e=()=>{throw new Error("uSES not initialized!")};function VN(t=jh){return function(){return Ya.useContext(t)}}var nU=VN(),rU=U2e,j2e=t=>{rU=t},Y2e=(t,e)=>t===e;function X2e(t=jh){const e=t===jh?nU:VN(t),n=(r,i={})=>{const{equalityFn:s=Y2e,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();Ya.useRef(!0);const h=Ya.useCallback({[r.name](p){return r(p)}}[r.name],[r,u,o.stabilityCheck]),f=rU(l.addNestedSub,a.getState,c||a.getState,h,s);return Ya.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var q2e=X2e();function K2e(t){t()}function Q2e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){K2e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var aO={notify(){},get:()=>[]};function J2e(t,e){let n,r=aO,i=0,s=!1;function o(m){u();const y=r.subscribe(m);let S=!1;return()=>{S||(S=!0,y(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=Q2e())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=aO)}function h(){s||(s=!0,u())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var Z2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eCe=Z2e?Ya.useLayoutEffect:Ya.useEffect;function tCe({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ya.useMemo(()=>{const c=J2e(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Ya.useMemo(()=>t.getState(),[t]);eCe(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||jh;return Ya.createElement(l.Provider,{value:o},n)}var nCe=tCe;function iU(t=jh){const e=t===jh?nU:VN(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var rCe=iU();function iCe(t=jh){const e=t===jh?rCe:iU(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var sCe=iCe();j2e(W2e.useSyncExternalStoreWithSelector);const oCe=sCe.withTypes(),aCe=q2e.withTypes();function oo(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lCe=typeof Symbol=="function"&&Symbol.observable||"@@observable",lO=lCe,n3=()=>Math.random().toString(36).substring(7).split("").join("."),cCe={INIT:`@@redux/INIT${n3()}`,REPLACE:`@@redux/REPLACE${n3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${n3()}`},E2=cCe;function zN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function sU(t,e,n){if(typeof t!="function")throw new Error(oo(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(oo(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(oo(1));return n(sU)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,S)=>{o.set(S,y)}))}function u(){if(l)throw new Error(oo(3));return i}function d(y){if(typeof y!="function")throw new Error(oo(4));if(l)throw new Error(oo(5));let S=!0;c();const w=a++;return o.set(w,y),function(){if(S){if(l)throw new Error(oo(6));S=!1,c(),o.delete(w),s=null}}}function h(y){if(!zN(y))throw new Error(oo(7));if(typeof y.type>"u")throw new Error(oo(8));if(typeof y.type!="string")throw new Error(oo(17));if(l)throw new Error(oo(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(w=>{w()}),y}function f(y){if(typeof y!="function")throw new Error(oo(10));r=y,h({type:E2.REPLACE})}function p(){const y=d;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(oo(11));function w(){const k=S;k.next&&k.next(u())}return w(),{unsubscribe:y(w)}},[lO](){return this}}}return h({type:E2.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:f,[lO]:p}}function uCe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:E2.INIT})>"u")throw new Error(oo(12));if(typeof n(void 0,{type:E2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(oo(13))})}function dCe(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{uCe(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(oo(14));c[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(o).length,l?c:o}}function B2(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hCe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(oo(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=B2(...a)(i.dispatch),{...i,dispatch:s}}}function fCe(t){return zN(t)&&"type"in t&&typeof t.type=="string"}var oU=Symbol.for("immer-nothing"),cO=Symbol.for("immer-draftable"),el=Symbol.for("immer-state");function xc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nm=Object.getPrototypeOf;function Yh(t){return!!t&&!!t[el]}function Td(t){var e;return t?aU(t)||Array.isArray(t)||!!t[cO]||!!((e=t.constructor)!=null&&e[cO])||Kk(t)||Qk(t):!1}var pCe=Object.prototype.constructor.toString();function aU(t){if(!t||typeof t!="object")return!1;const e=nm(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===pCe}function N2(t,e){qk(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qk(t){const e=t[el];return e?e.type_:Array.isArray(t)?1:Kk(t)?2:Qk(t)?3:0}function AE(t,e){return qk(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lU(t,e,n){const r=qk(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gCe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kk(t){return t instanceof Map}function Qk(t){return t instanceof Set}function Ff(t){return t.copy_||t.base_}function RE(t,e){if(Kk(t))return new Map(t);if(Qk(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&aU(t))return nm(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[el];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(nm(t),n)}function WN(t,e=!1){return Jk(t)||Yh(t)||!Td(t)||(qk(t)>1&&(t.set=t.add=t.clear=t.delete=mCe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>WN(r,!0))),t}function mCe(){xc(2)}function Jk(t){return Object.isFrozen(t)}var yCe={};function Pp(t){const e=yCe[t];return e||xc(0,t),e}var Tb;function cU(){return Tb}function bCe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uO(t,e){e&&(Pp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function LE(t){DE(t),t.drafts_.forEach(vCe),t.drafts_=null}function DE(t){t===Tb&&(Tb=t.parent_)}function dO(t){return Tb=bCe(Tb,t)}function vCe(t){const e=t[el];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[el].modified_&&(LE(e),xc(4)),Td(t)&&(t=I2(e,t),e.parent_||A2(e,t)),e.patches_&&Pp("Patches").generateReplacementPatches_(n[el].base_,t,e.patches_,e.inversePatches_)):t=I2(e,n,[]),LE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==oU?t:void 0}function I2(t,e,n){if(Jk(e))return e;const r=e[el];if(!r)return N2(e,(i,s)=>fO(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return A2(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),N2(s,(a,l)=>fO(t,r,i,a,l,n,o)),A2(t,i,!1),n&&t.patches_&&Pp("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function fO(t,e,n,r,i,s,o){if(Yh(i)){const a=s&&e&&e.type_!==3&&!AE(e.assigned_,r)?s.concat(r):void 0,l=I2(t,i,a);if(lU(n,r,l),Yh(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Td(i)&&!Jk(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;I2(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&A2(t,i)}}function A2(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&WN(e,n)}function wCe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:cU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=GN;n&&(i=[r],s=Pb);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var GN={get(t,e){if(e===el)return t;const n=Ff(t);if(!AE(n,e))return xCe(t,n,e);const r=n[e];return t.finalized_||!Td(r)?r:r===r3(t.base_,e)?(i3(t),t.copy_[e]=OE(r,t)):r},has(t,e){return e in Ff(t)},ownKeys(t){return Reflect.ownKeys(Ff(t))},set(t,e,n){const r=uU(Ff(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=r3(Ff(t),e),s=i==null?void 0:i[el];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gCe(n,i)&&(n!==void 0||AE(t.base_,e)))return!0;i3(t),FE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return r3(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,i3(t),FE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ff(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){xc(11)},getPrototypeOf(t){return nm(t.base_)},setPrototypeOf(){xc(12)}},Pb={};N2(GN,(t,e)=>{Pb[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pb.deleteProperty=function(t,e){return Pb.set.call(this,t,e,void 0)};Pb.set=function(t,e,n){return GN.set.call(this,t[0],e,n,t[0])};function r3(t,e){const n=t[el];return(n?Ff(n):t)[e]}function xCe(t,e,n){var i;const r=uU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function uU(t,e){if(!(e in t))return;let n=nm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=nm(n)}}function FE(t){t.modified_||(t.modified_=!0,t.parent_&&FE(t.parent_))}function i3(t){t.copy_||(t.copy_=RE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SCe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&xc(6),r!==void 0&&typeof r!="function"&&xc(7);let i;if(Td(e)){const s=dO(this),o=OE(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?LE(s):DE(s)}return uO(s,r),hO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===oU&&(i=void 0),this.autoFreeze_&&WN(i,!0),r){const s=[],o=[];Pp("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else xc(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Td(t)||xc(8),Yh(t)&&(t=dU(t));const e=dO(this),n=OE(t,void 0);return n[el].isManual_=!0,DE(e),n}finishDraft(t,e){const n=t&&t[el];(!n||!n.isManual_)&&xc(9);const{scope_:r}=n;return uO(r,e),hO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Pp("Patches").applyPatches_;return Yh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function OE(t,e){const n=Kk(t)?Pp("MapSet").proxyMap_(t,e):Qk(t)?Pp("MapSet").proxySet_(t,e):wCe(t,e);return(e?e.scope_:cU()).drafts_.push(n),n}function dU(t){return Yh(t)||xc(10,t),hU(t)}function hU(t){if(!Td(t)||Jk(t))return t;const e=t[el];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=RE(t,!0);return N2(n,(r,i)=>{lU(n,r,hU(i))}),e&&(e.finalized_=!1),n}var tl=new SCe,fU=tl.produce;tl.produceWithPatches.bind(tl);tl.setAutoFreeze.bind(tl);tl.setUseStrictShallowCopy.bind(tl);tl.applyPatches.bind(tl);tl.createDraft.bind(tl);tl.finishDraft.bind(tl);function CCe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function kCe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function TCe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pO=t=>Array.isArray(t)?t:[t];function PCe(t){const e=Array.isArray(t[0])?t[0]:t;return TCe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function _Ce(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var MCe=class{constructor(e){this.value=e}deref(){return this.value}},ECe=typeof WeakRef<"u"?WeakRef:MCe,BCe=0,gO=1;function Ex(){return{s:BCe,v:void 0,o:null,p:null}}function UN(t,e={}){let n=Ex();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(p);y===void 0?(a=Ex(),m.set(p,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(p);y===void 0?(a=Ex(),m.set(p,a)):a=y}}const c=a;let u;if(a.s===gO?u=a.v:(u=t.apply(null,arguments),s++),c.s=gO,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new ECe(u):u}return c.v=u,u}return o.clearCache=()=>{n=Ex(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function pU(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),CCe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=UN,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,y=pO(h),S=pO(p),w=PCe(i),v=d(function(){return s++,c.apply(null,arguments)},...y),k=f(function(){o++;const T=_Ce(w,arguments);return a=v.apply(null,T),a},...S);return Object.assign(k,{resultFunc:c,memoizedResultFunc:v,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var NCe=pU(UN),ICe=Object.assign((t,e=NCe)=>{kCe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>ICe});function gU(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var ACe=gU(),RCe=gU,LCe=(...t)=>{const e=pU(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Yh(o)?dU(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};LCe(UN);var DCe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?B2:B2.apply(null,arguments)};function rm(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ka(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fCe(r)&&r.type===t,n}var mU=class dy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dy.prototype)}static get[Symbol.species](){return dy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dy(...e[0].concat(this)):new dy(...e.concat(this))}};function mO(t){return Td(t)?fU(t,()=>{}):t}function yO(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ka(10));const r=n.insert(e,t);return t.set(e,r),r}function FCe(t){return typeof t=="boolean"}var OCe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new mU;return n&&(FCe(n)?o.push(ACe):o.push(RCe(n.extraArgument))),o},$Ce="RTK_autoBatch",yU=t=>e=>{setTimeout(e,t)},HCe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yU(10),VCe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?HCe:t.type==="callback"?t.queueNotification:yU(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[$Ce]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},zCe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new mU(t);return r&&i.push(VCe(typeof r=="object"?r:void 0)),i},WCe=!0;function GCe(t){const e=OCe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(zN(n))a=dCe(n);else throw new Error(ka(1));let l;typeof r=="function"?l=r(e):l=e();let c=B2;i&&(c=DCe({trace:!WCe,...typeof i=="object"&&i}));const u=hCe(...l),d=zCe(u);let h=typeof o=="function"?o(d):d();const f=c(...h);return sU(a,s,f)}function bU(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ka(28));if(a in e)throw new Error(ka(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function UCe(t){return typeof t=="function"}function jCe(t,e){let[n,r,i]=bU(e),s;if(UCe(t))s=()=>mO(t());else{const a=mO(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Yh(u)){const f=d(u,l);return f===void 0?u:f}else{if(Td(u))return fU(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(ka(9))}return h}}return u},a)}return o.getInitialState=s,o}var YCe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XCe=(t=21)=>{let e="",n=t;for(;n--;)e+=YCe[Math.random()*64|0];return e},qCe=Symbol.for("rtk-slice-createasyncthunk");function KCe(t,e){return`${t}/${e}`}function QCe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[qCe];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ka(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(eke()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,k){const P=typeof v=="string"?v:v.type;if(!P)throw new Error(ka(12));if(P in c.sliceCaseReducersByType)throw new Error(ka(13));return c.sliceCaseReducersByType[P]=k,u},addMatcher(v,k){return c.sliceMatchers.push({matcher:v,reducer:k}),u},exposeAction(v,k){return c.actionCreators[v]=k,u},exposeCaseReducer(v,k){return c.sliceCaseReducersByName[v]=k,u}};l.forEach(v=>{const k=a[v],P={reducerName:v,type:KCe(s,v),createNotation:typeof i.reducers=="function"};nke(k)?ike(P,k,u,e):tke(P,k,u)});function d(){const[v={},k=[],P=void 0]=typeof i.extraReducers=="function"?bU(i.extraReducers):[i.extraReducers],T={...v,...c.sliceCaseReducersByType};return jCe(i.initialState,_=>{for(let E in T)_.addCase(E,T[E]);for(let E of c.sliceMatchers)_.addMatcher(E.matcher,E.reducer);for(let E of k)_.addMatcher(E.matcher,E.reducer);P&&_.addDefaultCase(P)})}const h=v=>v,f=new Map;let p;function m(v,k){return p||(p=d()),p(v,k)}function y(){return p||(p=d()),p.getInitialState()}function S(v,k=!1){function P(_){let E=_[v];return typeof E>"u"&&k&&(E=y()),E}function T(_=h){const E=yO(f,k,{insert:()=>new WeakMap});return yO(E,_,{insert:()=>{const I={};for(const[R,F]of Object.entries(i.selectors??{}))I[R]=JCe(F,_,y,k);return I}})}return{reducerPath:v,getSelectors:T,get selectors(){return T(P)},selectSlice:P}}const w={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...S(o),injectInto(v,{reducerPath:k,...P}={}){const T=k??o;return v.inject({reducerPath:T,reducer:m},P),{...w,...S(T,!0)}}};return w}}function JCe(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var ZCe=QCe();function eke(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tke({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!rke(r))throw new Error(ka(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?rm(t,o):rm(t))}function nke(t){return t._reducerDefinitionType==="asyncThunk"}function rke(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ike({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ka(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Bx,pending:a||Bx,rejected:l||Bx,settled:c||Bx})}function Bx(){}var ske=(t,e)=>{if(typeof t!="function")throw new Error(ka(32))},jN="listenerMiddleware",oke=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=rm(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ka(21));return ske(s),{predicate:i,type:e,effect:s}},ake=Object.assign(t=>{const{type:e,predicate:n,effect:r}=oke(t);return{id:XCe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ka(22))}}},{withTypes:()=>ake}),lke=Object.assign(rm(`${jN}/add`),{withTypes:()=>lke});rm(`${jN}/removeAll`);var cke=Object.assign(rm(`${jN}/remove`),{withTypes:()=>cke});function ka(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const uke={value:0,lastChange:""},vU=ZCe({name:"counter",initialState:uke,reducers:{increment(t){t.value+=1},incrementByAmount(t,e){t.value+=e.payload,t.lastChange=e.type}}}),{increment:lQe,incrementByAmount:bO}=vU.actions,dke=vU.reducer;function hke(){const t=oCe(),[e,n]=b.useState(50),r=aCe(a=>a.counter.value);function i(){const a=bO(e);t(a)}function s(){const a=bO(-e);t(a)}const o=(a,l)=>{n(l)};return C.jsxs(Dd,{title:"Counter",children:[C.jsx(Ei,{onClick:s,children:C.jsx(I2e,{})}),C.jsx(Ei,{onClick:i,children:C.jsx($N,{})}),C.jsx(Sb,{children:C.jsx(Oh,{value:e,onChange:o,valueLabelDisplay:"on"})}),C.jsx(Tr,{variant:"h1",align:"center",children:r})]})}function fke(){const[t,e]=b.useState(1),n=(r,i)=>{e(i)};return C.jsx(Dd,{title:"Rating",children:C.jsxs(Sb,{children:[C.jsx(Ome,{children:C.jsx(Sb,{children:C.jsx(ixe,{value:t,onChange:n,size:"large",max:46})})}),C.jsxs(Tr,{color:"pink",variant:"h1",children:["The rating you have chosen is ",t]})]})})}function pke(){return C.jsxs("div",{style:{flexDirection:"column",display:"flex",height:"100%",border:"10px solid green",boxSizing:"border-box"},children:[C.jsx("div",{style:{border:"3px solid blue",height:"100px"}}),C.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",border:"3px solid orange",flex:1},children:[C.jsx("div",{style:{border:"3px solid yellow",width:"100px"}}),C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",border:"3px solid red",flex:1},children:C.jsx("button",{children:"sIUUUU"})})]}),C.jsx("div",{style:{height:"100px",border:"3px solid pink"}})]})}const gke=["localeText"],$E=b.createContext(null),YN=function(e){const{localeText:n}=e,r=Ue(e,gke),{utils:i,localeText:s}=b.useContext($E)??{utils:void 0,localeText:void 0},o=ft({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=o,f=b.useMemo(()=>V({},h,s,n),[h,s,n]),p=b.useMemo(()=>{if(!l)return i||null;const S=new l({locale:d,formats:c,instance:u});if(!S.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return S},[l,d,c,u,i]),m=b.useMemo(()=>p?{minDate:p.date("1900-01-01T00:00:00.000"),maxDate:p.date("2099-12-31T00:00:00.000")}:null,[p]),y=b.useMemo(()=>({utils:p,defaultDates:m,localeText:f}),[m,p,f]);return C.jsx($E.Provider,{value:y,children:a})},mke=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:V({},t)}}}}),wU={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},yke=wU;mke(wU);const Gp=()=>{const t=b.useContext($E);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=b.useMemo(()=>V({},yke,t.localeText),[t.localeText]);return b.useMemo(()=>V({},t,{localeText:e}),[t,e])},fr=()=>Gp().utils,Dv=()=>Gp().defaultDates,Ao=()=>Gp().localeText,Up=t=>{const e=fr(),n=b.useRef();return n.current===void 0&&(n.current=e.date(void 0,t)),n.current},bke=tn(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vke=tn(C.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),wke=tn(C.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),xke=tn(C.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Ske=tn(C.jsxs(b.Fragment,{children:[C.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),C.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");tn(C.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");tn(C.jsxs(b.Fragment,{children:[C.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),C.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Cke=tn(C.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function kke(t){return wt("MuiPickersArrowSwitcher",t)}xt("MuiPickersArrowSwitcher",["root","spacer","button"]);const Tke=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],Pke=["ownerState"],_ke=["ownerState"],Mke=be("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Eke=be("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),vO=be(Ei,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Bke=t=>{const{classes:e}=t;return vt({root:["root"],spacer:["spacer"],button:["button"]},kke,e)},xU=b.forwardRef(function(e,n){const r=Vr(),i=ft({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:o,slots:a,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:h,isPreviousDisabled:f,isPreviousHidden:p,onGoToPrevious:m,previousLabel:y,labelId:S}=i,w=Ue(i,Tke),v=i,k=Bke(v),P={isDisabled:c,isHidden:u,goTo:d,label:h},T={isDisabled:f,isHidden:p,goTo:m,label:y},_=(a==null?void 0:a.previousIconButton)??vO,E=Pn({elementType:_,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"end",onClick:T.goTo},ownerState:V({},v,{hidden:T.isHidden}),className:k.button}),I=(a==null?void 0:a.nextIconButton)??vO,R=Pn({elementType:I,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:V({},v,{hidden:P.isHidden}),className:k.button}),F=(a==null?void 0:a.leftArrowIcon)??vke,B=Pn({elementType:F,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),D=Ue(B,Pke),A=(a==null?void 0:a.rightArrowIcon)??wke,N=Pn({elementType:A,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),L=Ue(N,_ke);return C.jsxs(Mke,V({ref:n,className:Ae(k.root,o),ownerState:v},w,{children:[C.jsx(_,V({},E,{children:r?C.jsx(A,V({},L)):C.jsx(F,V({},D))})),s?C.jsx(Tr,{variant:"subtitle1",component:"span",id:S,children:s}):C.jsx(Eke,{className:k.spacer,ownerState:v}),C.jsx(I,V({},R,{children:r?C.jsx(F,V({},D)):C.jsx(A,V({},L))}))]}))}),uu=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),SU=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const i=n??r;let s;if(t!=null)s=t;else if(i.includes(e))s=e;else if(i.length>0)s=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:s}},CU=["hours","minutes","seconds"],_b=t=>CU.includes(t),Nke=t=>CU.includes(t)||t==="meridiem",Ike=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,Mb=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,Ake=(t,e,n,r)=>{const i=Mb(r.getHours(t),e,n);return r.setHours(t,i)},wO=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),Fv=(t,e)=>(n,r)=>t?e.isAfter(n,r):wO(n,e)>wO(r,e),kU=(t,{format:e,views:n,ampm:r})=>{if(e!=null)return e;const i=t.formats;return uu(n,["hours"])?r?`${i.hours12h} ${i.meridiem}`:i.hours24h:uu(n,["minutes"])?i.minutes:uu(n,["seconds"])?i.seconds:uu(n,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:uu(n,["hours","minutes","seconds"])?r?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:r?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`};function Ov({onChange:t,onViewChange:e,openTo:n,view:r,views:i,autoFocus:s,focusedView:o,onFocusedViewChange:a}){const l=b.useRef(n),c=b.useRef(i),u=b.useRef(i.includes(n)?n:i[0]),[d,h]=yo({name:"useViews",state:"view",controlled:r,default:u.current}),f=b.useRef(s?d:null),[p,m]=yo({name:"useViews",state:"focusedView",controlled:o,default:f.current});b.useEffect(()=>{(l.current&&l.current!==n||c.current&&c.current.some(_=>!i.includes(_)))&&(h(i.includes(n)?n:i[0]),c.current=i,l.current=n)},[n,h,d,i]);const y=i.indexOf(d),S=i[y-1]??null,w=i[y+1]??null,v=Et((_,E)=>{m(E?_:I=>_===I?null:I),a==null||a(_,E)}),k=Et(_=>{v(_,!0),_!==d&&(h(_),e&&e(_))}),P=Et(()=>{w&&k(w)}),T=Et((_,E,I)=>{const R=E==="finish",F=I?i.indexOf(I)<i.length-1:!!w;if(t(_,R&&F?"partial":E,I),I&&I!==d){const D=i[i.indexOf(I)+1];D&&k(D)}else R&&P()});return{view:d,setView:k,focusedView:p,setFocusedView:v,nextView:w,previousView:S,defaultView:i.includes(n)?n:i[0],goToNextView:P,setValueAndGoToNextView:T}}function Rke(t,{disableFuture:e,maxDate:n,timezone:r}){const i=fr();return b.useMemo(()=>{const s=i.date(void 0,r),o=i.startOfMonth(e&&i.isBefore(s,n)?s:n);return!i.isAfter(o,t)},[e,n,t,i,r])}function Lke(t,{disablePast:e,minDate:n,timezone:r}){const i=fr();return b.useMemo(()=>{const s=i.date(void 0,r),o=i.startOfMonth(e&&i.isAfter(s,n)?s:n);return!i.isBefore(o,t)},[e,n,t,i,r])}function XN(t,e,n,r){const i=fr(),s=Ike(t,i),o=b.useCallback(a=>{const l=t==null?null:Ake(t,a,!!e,i);n(l,r??"partial")},[e,t,n,r,i]);return{meridiemMode:s,handleMeridiemChange:o}}const Eb=36,Zk=2,eT=320,Dke=280,qN=336,TU=232,Fke=48,tT=be("div")({overflow:"hidden",width:eT,maxHeight:qN,display:"flex",flexDirection:"column",margin:"0 auto"});function Oke(t){return wt("MuiTimeClock",t)}xt("MuiTimeClock",["root","arrowSwitcher"]);const im=220,wu=36,Bb={x:im/2,y:im/2},PU={x:Bb.x,y:0},$ke=PU.x-Bb.x,Hke=PU.y-Bb.y,Vke=t=>t*(180/Math.PI),_U=(t,e,n)=>{const r=e-Bb.x,i=n-Bb.y,s=Math.atan2($ke,Hke)-Math.atan2(r,i);let o=Vke(s);o=Math.round(o/t)*t,o%=360;const a=Math.floor(o/t)||0,l=r**2+i**2,c=Math.sqrt(l);return{value:a,distance:c}},zke=(t,e,n=1)=>{const r=n*6;let{value:i}=_U(r,t,e);return i=i*n%60,i},Wke=(t,e,n)=>{const{value:r,distance:i}=_U(30,t,e);let s=r||12;return n?s%=12:i<im/2-wu&&(s+=12,s%=24),s};function Gke(t){return wt("MuiClockPointer",t)}xt("MuiClockPointer",["root","thumb"]);const Uke=["className","hasSelected","isInner","type","viewValue"],jke=t=>{const{classes:e}=t;return vt({root:["root"],thumb:["thumb"]},Gke,e)},Yke=be("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Xke=be("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${wu/2}px)`,border:`${(wu-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function qke(t){const e=ft({props:t,name:"MuiClockPointer"}),{className:n,isInner:r,type:i,viewValue:s}=e,o=Ue(e,Uke),a=b.useRef(i);b.useEffect(()=>{a.current=i},[i]);const l=V({},e,{shouldAnimate:a.current!==i}),c=jke(l),u=()=>{let h=360/(i==="hours"?12:60)*s;return i==="hours"&&s>12&&(h-=360),{height:Math.round((r?.26:.4)*im),transform:`rotateZ(${h}deg)`}};return C.jsx(Yke,V({style:u(),className:Ae(n,c.root),ownerState:l},o,{children:C.jsx(Xke,{ownerState:l,className:c.thumb})}))}function Kke(t){return wt("MuiClock",t)}xt("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const R2=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},Oy=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:i,isDateDisabled:s,utils:o,timezone:a})=>{const l=R2(o,o.date(void 0,a),t);n&&o.isBefore(i,l)&&(i=l),e&&o.isAfter(r,l)&&(r=l);let c=t,u=t;for(o.isBefore(t,i)&&(c=i,u=null),o.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&o.isAfter(c,r)&&(c=null),u&&o.isBefore(u,i)&&(u=null),c){if(!s(c))return c;c=o.addDays(c,1)}if(u){if(!s(u))return u;u=o.addDays(u,-1)}}return null},Qke=(t,e)=>e==null||!t.isValid(e)?null:e,Yl=(t,e,n)=>e==null||!t.isValid(e)?n:e,Jke=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),KN=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const i=r[r.length-1];r.push(t.addMonths(i,1))}return r},QN=(t,e,n)=>n==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),Th=(t,e)=>{const n=t.setHours(t.date(),e==="am"?2:14);return t.format(n,"meridiem")},Zke=["year","month","day"],xO=t=>Zke.includes(t),JN=(t,{format:e,views:n},r)=>{if(e!=null)return e;const i=t.formats;return uu(n,["year"])?i.year:uu(n,["month"])?i.month:uu(n,["day"])?i.dayOfMonth:uu(n,["month","year"])?`${i.month} ${i.year}`:uu(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},eTe=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},tTe=t=>{const{classes:e}=t;return vt({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},Kke,e)},nTe=be("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),rTe=be("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),iTe=be("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),sTe=be("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),oTe=be("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),aTe=be(Ei,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:wu,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),lTe=be(Ei,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:wu,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),SO=be(Tr,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function cTe(t){const e=ft({props:t,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:i,children:s,value:o,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:h,type:f,viewValue:p,disabled:m=!1,readOnly:y,className:S}=e,w=e,v=fr(),k=Ao(),P=b.useRef(!1),T=tTe(w),_=l(p,f),E=!n&&f==="hours"&&(p<1||p>12),I=(G,j)=>{m||y||l(G,f)||d(G,j)},R=(G,j)=>{let{offsetX:J,offsetY:Z}=G;if(J===void 0){const z=G.target.getBoundingClientRect();J=G.changedTouches[0].clientX-z.left,Z=G.changedTouches[0].clientY-z.top}const ae=f==="seconds"||f==="minutes"?zke(J,Z,u):Wke(J,Z,!!n);I(ae,j)},F=G=>{P.current=!0,R(G,"shallow")},B=G=>{P.current&&(R(G,"finish"),P.current=!1)},D=G=>{G.buttons>0&&R(G.nativeEvent,"shallow")},A=G=>{P.current&&(P.current=!1),R(G.nativeEvent,"finish")},N=b.useMemo(()=>f==="hours"?!0:p%5===0,[f,p]),L=f==="minutes"?u:1,H=b.useRef(null);vi(()=>{i&&H.current.focus()},[i]);const O=G=>{if(!P.current)switch(G.key){case"Home":I(0,"partial"),G.preventDefault();break;case"End":I(f==="minutes"?59:23,"partial"),G.preventDefault();break;case"ArrowUp":I(p+L,"partial"),G.preventDefault();break;case"ArrowDown":I(p-L,"partial"),G.preventDefault();break}};return C.jsxs(nTe,{className:Ae(S,T.root),children:[C.jsxs(rTe,{className:T.clock,children:[C.jsx(sTe,{onTouchMove:F,onTouchEnd:B,onMouseUp:A,onMouseMove:D,ownerState:{disabled:m},className:T.squareMask}),!_&&C.jsxs(b.Fragment,{children:[C.jsx(oTe,{className:T.pin}),o!=null&&C.jsx(qke,{type:f,viewValue:p,isInner:E,hasSelected:N})]}),C.jsx(iTe,{"aria-activedescendant":h,"aria-label":k.clockLabelText(f,o,v),ref:H,role:"listbox",onKeyDown:O,tabIndex:0,className:T.wrapper,children:s})]}),n&&r&&C.jsxs(b.Fragment,{children:[C.jsx(aTe,{onClick:y?void 0:()=>a("am"),disabled:m||c===null,ownerState:w,className:T.amButton,title:Th(v,"am"),children:C.jsx(SO,{variant:"caption",className:T.meridiemText,children:Th(v,"am")})}),C.jsx(lTe,{disabled:m||c===null,onClick:y?void 0:()=>a("pm"),ownerState:w,className:T.pmButton,title:Th(v,"pm"),children:C.jsx(SO,{variant:"caption",className:T.meridiemText,children:Th(v,"pm")})})]})]})}function uTe(t){return wt("MuiClockNumber",t)}const Nx=xt("MuiClockNumber",["root","selected","disabled"]),dTe=["className","disabled","index","inner","label","selected"],hTe=t=>{const{classes:e,selected:n,disabled:r}=t;return vt({root:["root",n&&"selected",r&&"disabled"]},uTe,e)},fTe=be("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${Nx.disabled}`]:e.disabled},{[`&.${Nx.selected}`]:e.selected}]})(({theme:t})=>({height:wu,width:wu,position:"absolute",left:`calc((100% - ${wu}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Nx.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Nx.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:V({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function MU(t){const e=ft({props:t,name:"MuiClockNumber"}),{className:n,disabled:r,index:i,inner:s,label:o,selected:a}=e,l=Ue(e,dTe),c=e,u=hTe(c),d=i%12/12*Math.PI*2-Math.PI/2,h=(im-wu-2)/2*(s?.65:1),f=Math.round(Math.cos(d)*h),p=Math.round(Math.sin(d)*h);return C.jsx(fTe,V({className:Ae(n,u.root),"aria-disabled":r?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${f}px, ${p+(im-wu)/2}px`},ownerState:c},l,{children:o}))}const pTe=({ampm:t,value:e,getClockNumberText:n,isDisabled:r,selectedId:i,utils:s})=>{const o=e?s.getHours(e):null,a=[],l=t?1:0,c=t?12:23,u=d=>o===null?!1:t?d===12?o===12||o===0:o===d||o-12===d:o===d;for(let d=l;d<=c;d+=1){let h=d.toString();d===0&&(h="00");const f=!t&&(d===0||d>12);h=s.formatNumber(h);const p=u(d);a.push(C.jsx(MU,{id:p?i:void 0,index:d,inner:f,selected:p,disabled:r(d),label:h,"aria-label":n(h)},d))}return a},CO=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:i})=>{const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(([o,a],l)=>{const c=o===e;return C.jsx(MU,{label:a,id:c?i:void 0,index:l+1,inner:!1,disabled:n(o),selected:c,"aria-label":r(a)},o)})},ZN=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:i})=>{const s=fr(),o=b.useRef(n),a=e??o.current??i.emptyValue,l=b.useMemo(()=>i.getTimezone(s,a),[s,i,a]),c=Et(f=>l==null?f:i.setTimezone(s,l,f)),u=t??l??"default",d=b.useMemo(()=>i.setTimezone(s,u,a),[i,s,u,a]),h=Et((f,...p)=>{const m=c(f);r==null||r(m,...p)});return{value:d,handleValueChange:h,timezone:u}},Om=({name:t,timezone:e,value:n,defaultValue:r,onChange:i,valueManager:s})=>{const[o,a]=yo({name:t,state:"value",controlled:n,default:r??s.emptyValue}),l=Et((c,...u)=>{a(c),i==null||i(c,...u)});return ZN({timezone:e,value:o,defaultValue:void 0,onChange:l,valueManager:s})},vc={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},gTe=t=>Math.max(...t.map(e=>vc[e.type]??1)),F1=(t,e,n)=>{if(e===vc.year)return t.startOfYear(n);if(e===vc.month)return t.startOfMonth(n);if(e===vc.day)return t.startOfDay(n);let r=n;return e<vc.minutes&&(r=t.setMinutes(r,0)),e<vc.seconds&&(r=t.setSeconds(r,0)),e<vc.milliseconds&&(r=t.setMilliseconds(r,0)),r},mTe=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:i})=>{let s=i?i():F1(e,n,QN(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=F1(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=F1(e,n,t.maxDate));const o=Fv(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&o(t.minTime,s)&&(s=F1(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:R2(e,s,t.minTime))),t.maxTime!=null&&o(s,t.maxTime)&&(s=F1(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:R2(e,s,t.maxTime))),s},EU=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},yTe=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},nT=(t,e,n)=>{const r=[],i=t.date(void 0,e),s=t.startOfWeek(i),o=t.endOfWeek(i);let a=s;for(;t.isBefore(a,o);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},BU=(t,e,n,r)=>{switch(n){case"month":return KN(t,t.date(void 0,e)).map(i=>t.formatByString(i,r));case"weekDay":return nT(t,e,r);case"meridiem":{const i=t.date(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(s=>t.formatByString(s,r))}default:return[]}},kO="s",bTe=["0","1","2","3","4","5","6","7","8","9"],vTe=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),kO)==="0"?bTe:Array.from({length:10}).map((r,i)=>t.formatByString(t.setSeconds(e,i),kO))},_p=(t,e)=>{if(e[0]==="0")return t;const n=[];let r="";for(let i=0;i<t.length;i+=1){r+=t[i];const s=e.indexOf(r);s>-1&&(n.push(s.toString()),r="")}return n.join("")},eI=(t,e)=>e[0]==="0"?t:t.split("").map(n=>e[Number(n)]).join(""),TO=(t,e)=>{const n=_p(t,e);return n!==" "&&!Number.isNaN(Number(n))},NU=(t,e)=>{let n=t;for(n=Number(n).toString();n.length<e;)n=`0${n}`;return n},IU=(t,e,n,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const o=t.setDate(n.longestMonth,e);return t.formatByString(o,i.format)}let s=e.toString();return i.hasLeadingZerosInInput&&(s=NU(s,i.maxLength)),eI(s,r)},wTe=(t,e,n,r,i,s,o,a)=>{const l=yTe(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,h=()=>{const p=i[n.type]({currentDate:o,format:n.format,contentType:n.contentType}),m=v=>IU(t,v,p,s,n),y=n.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let w=parseInt(_p(n.value,s),10)+l*y;if(d){if(n.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),n.format);l>0||c?w=p.minimum:w=p.maximum}return w%y!==0&&((l<0||c)&&(w+=y-(y+w)%y),(l>0||u)&&(w-=w%y)),w>p.maximum?m(p.minimum+(w-p.maximum-1)%(p.maximum-p.minimum+1)):w<p.minimum?m(p.maximum-(p.minimum-w-1)%(p.maximum-p.minimum+1)):m(w)},f=()=>{const p=BU(t,e,n.type,n.format);if(p.length===0)return n.value;if(d)return l>0||c?p[0]:p[p.length-1];const S=((p.indexOf(n.value)+l)%p.length+p.length)%p.length;return p[S]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?h():f()},tI=(t,e,n)=>{let r=t.value||t.placeholder;const i=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(_p(r,n)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!i&&r.length===1&&(r=`${r}`),e==="input-rtl"&&(r=`${r}`),r},PO=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),AU=(t,e,n)=>t.formatByString(t.date(void 0,e),n).length===4,RU=(t,e,n,r,i)=>{if(n!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return AU(t,e,i)?t.formatByString(t.setYear(s,1),i)==="0001":t.formatByString(t.setYear(s,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(s),i).length>1;case"day":return t.formatByString(t.startOfMonth(s),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),i).length>1;case"hours":return t.formatByString(t.setHours(s,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},xTe=(t,e,n)=>{const r=e.some(l=>l.type==="day"),i=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(i.push(c.format),s.push(tI(c,"non-input",n)))}const o=i.join(" "),a=s.join(" ");return t.parse(a,o)},STe=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),CTe=(t,e,n)=>{const i=t.map(s=>{const o=tI(s,n?"input-rtl":"input-ltr",e);return`${s.startSeparator}${o}${s.endSeparator}`}).join("");return n?`${i}`:i},kTe=(t,e,n)=>{const r=t.date(void 0,n),i=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:o,longestMonth:a}=KN(t,r).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:AU(t,n,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):o,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=nT(t,n,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return _p(t.formatByString(t.endOfDay(r),l),e)!==c.toString()?{minimum:1,maximum:Number(_p(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},TTe=(t,e,n,r,i)=>{switch(n.type){case"year":return t.setYear(i,t.getYear(r));case"month":return t.setMonth(i,t.getMonth(r));case"weekDay":{const s=nT(t,e,n.format),o=t.formatByString(r,n.format),a=s.indexOf(o),c=s.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(i,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,o=t.getHours(i);return s&&o>=12?t.addHours(i,-12):!s&&o<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(r));case"minutes":return t.setMinutes(i,t.getMinutes(r));case"seconds":return t.setSeconds(i,t.getSeconds(r));default:return i}},_O={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},MO=(t,e,n,r,i,s)=>[...r].sort((o,a)=>_O[o.type]-_O[a.type]).reduce((o,a)=>!s||a.modified?TTe(t,e,a,n,o):o,i),PTe=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,_Te=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},i={};let s=0,o=0,a=t.length-1;for(;a>=0;){o=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),o===-1&&(o=t.length-1);for(let l=o;l>=s;l-=1)i[l]=a,r[a]=l,a-=1;s=o+1}return t.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],h=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:h}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},HE=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(n=>n.type===t):t,MTe=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const n=e.parse(t.value,t.format);return n?e.format(n,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},ETe=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const n=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return n?e.getHours(n)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const n=e.parse(t.value,t.format);return n?e.getMonth(n)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},BTe=["value","referenceDate"],No={emptyValue:null,getTodayValue:QN,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=Ue(t,BTe);return e!=null&&r.utils.isValid(e)?e:n??mTe(r)},cleanValue:Qke,areValuesEqual:Jke,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},LU={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r)=>!t.isValid(e)&&!!n?n:r(e),getV7HiddenInputValueFromSections:STe,getV6InputValueFromSections:CTe,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)},nI=({value:t,referenceDate:e,utils:n,props:r,timezone:i})=>{const s=b.useMemo(()=>No.getInitialReferenceValue({value:t,utils:n,props:r,referenceDate:e,granularity:vc.day,timezone:i,getTodayDate:()=>QN(n,i,"date")}),[]);return t??s},NTe=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],ITe=t=>{const{classes:e}=t;return vt({root:["root"],arrowSwitcher:["arrowSwitcher"]},Oke,e)},ATe=be(tT,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),RTe=be(xU,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),LTe=["hours","minutes"],DTe=b.forwardRef(function(e,n){const r=fr(),i=ft({props:e,name:"MuiTimeClock"}),{ampm:s=r.is12HourCycleInCurrentLocale(),ampmInClock:o=!1,autoFocus:a,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:h,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:p,minTime:m,disableFuture:y,disablePast:S,minutesStep:w=1,shouldDisableTime:v,showViewSwitcher:k,onChange:P,view:T,views:_=LTe,openTo:E,onViewChange:I,focusedView:R,onFocusedViewChange:F,className:B,disabled:D,readOnly:A,timezone:N}=i,L=Ue(i,NTe),{value:H,handleValueChange:O,timezone:G}=Om({name:"TimeClock",timezone:N,value:u,defaultValue:d,onChange:P,valueManager:No}),j=nI({value:H,referenceDate:h,utils:r,props:i,timezone:G}),J=Ao(),Z=Up(G),{view:ae,setView:z,previousView:$,nextView:W,setValueAndGoToNextView:oe}=Ov({view:T,views:_,openTo:E,onViewChange:I,onChange:O,focusedView:R,onFocusedViewChange:F}),{meridiemMode:X,handleMeridiemChange:K}=XN(j,s,oe),Y=b.useCallback((ue,we)=>{const Pe=Fv(f,r),te=we==="hours"||we==="minutes"&&_.includes("seconds"),pe=({start:Te,end:Re})=>!(m&&Pe(m,Re)||p&&Pe(Te,p)||y&&Pe(Te,Z)||S&&Pe(Z,te?Re:Te)),ge=(Te,Re=1)=>{if(Te%Re!==0)return!1;if(v)switch(we){case"hours":return!v(r.setHours(j,Te),"hours");case"minutes":return!v(r.setMinutes(j,Te),"minutes");case"seconds":return!v(r.setSeconds(j,Te),"seconds");default:return!1}return!0};switch(we){case"hours":{const Te=Mb(ue,X,s),Re=r.setHours(j,Te),Ie=r.setSeconds(r.setMinutes(Re,0),0),he=r.setSeconds(r.setMinutes(Re,59),59);return!pe({start:Ie,end:he})||!ge(Te)}case"minutes":{const Te=r.setMinutes(j,ue),Re=r.setSeconds(Te,0),Ie=r.setSeconds(Te,59);return!pe({start:Re,end:Ie})||!ge(ue,w)}case"seconds":{const Te=r.setSeconds(j,ue);return!pe({start:Te,end:Te})||!ge(ue)}default:throw new Error("not supported")}},[s,j,f,p,X,m,w,v,r,y,S,Z,_]),le=Bo(),ie=b.useMemo(()=>{switch(ae){case"hours":{const ue=(we,Pe)=>{const te=Mb(we,X,s);oe(r.setHours(j,te),Pe,"hours")};return{onChange:ue,viewValue:r.getHours(j),children:pTe({value:H,utils:r,ampm:s,onChange:ue,getClockNumberText:J.hoursClockNumberText,isDisabled:we=>D||Y(we,"hours"),selectedId:le})}}case"minutes":{const ue=r.getMinutes(j),we=(Pe,te)=>{oe(r.setMinutes(j,Pe),te,"minutes")};return{viewValue:ue,onChange:we,children:CO({utils:r,value:ue,onChange:we,getClockNumberText:J.minutesClockNumberText,isDisabled:Pe=>D||Y(Pe,"minutes"),selectedId:le})}}case"seconds":{const ue=r.getSeconds(j),we=(Pe,te)=>{oe(r.setSeconds(j,Pe),te,"seconds")};return{viewValue:ue,onChange:we,children:CO({utils:r,value:ue,onChange:we,getClockNumberText:J.secondsClockNumberText,isDisabled:Pe=>D||Y(Pe,"seconds"),selectedId:le})}}default:throw new Error("You must provide the type for ClockView")}},[ae,r,H,s,J.hoursClockNumberText,J.minutesClockNumberText,J.secondsClockNumberText,X,oe,j,Y,le,D]),re=i,se=ITe(re);return C.jsxs(ATe,V({ref:n,className:Ae(se.root,B),ownerState:re},L,{children:[C.jsx(cTe,V({autoFocus:a??!!R,ampmInClock:o&&_.includes("hours"),value:H,type:ae,ampm:s,minutesStep:w,isTimeDisabled:Y,meridiemMode:X,handleMeridiemChange:K,selectedId:le,disabled:D,readOnly:A},ie)),k&&C.jsx(RTe,{className:se.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>z($),isPreviousDisabled:!$,previousLabel:J.openPreviousView,onGoToNext:()=>z(W),isNextDisabled:!W,nextLabel:J.openNextView,ownerState:re})]}))});function FTe(t){return wt("MuiDigitalClock",t)}xt("MuiDigitalClock",["root","list","item"]);const OTe=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],$Te=t=>{const{classes:e}=t;return vt({root:["root"],list:["list"],item:["item"]},FTe,e)},HTe=be(tT,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:TU,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),VTe=be(Dm,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),zTe=be(Ca,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity)}})),WTe=b.forwardRef(function(e,n){const r=fr(),i=b.useRef(null),s=Qn(n,i),o=ft({props:e,name:"MuiDigitalClock"}),{ampm:a=r.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:c,slots:u,slotProps:d,value:h,defaultValue:f,referenceDate:p,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:y,minTime:S,disableFuture:w,disablePast:v,minutesStep:k=1,shouldDisableTime:P,onChange:T,view:_,openTo:E,onViewChange:I,focusedView:R,onFocusedViewChange:F,className:B,disabled:D,readOnly:A,views:N=["hours"],skipDisabled:L=!1,timezone:H}=o,O=Ue(o,OTe),{value:G,handleValueChange:j,timezone:J}=Om({name:"DigitalClock",timezone:H,value:h,defaultValue:f,onChange:T,valueManager:No}),Z=Ao(),ae=Up(J),z=b.useMemo(()=>V({},o,{alreadyRendered:!!i.current}),[o]),$=$Te(z),W=(u==null?void 0:u.digitalClockItem)??zTe,oe=Pn({elementType:W,externalSlotProps:d==null?void 0:d.digitalClockItem,ownerState:{},className:$.item}),X=nI({value:G,referenceDate:p,utils:r,props:o,timezone:J}),K=Et(ue=>j(ue,"finish","hours")),{setValueAndGoToNextView:Y}=Ov({view:_,views:N,openTo:E,onViewChange:I,onChange:K,focusedView:R,onFocusedViewChange:F}),le=Et(ue=>{Y(ue,"finish")});b.useEffect(()=>{if(i.current===null)return;const ue=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!ue)return;const we=ue.offsetTop;(c||R)&&ue.focus(),i.current.scrollTop=we-4});const ie=b.useCallback(ue=>{const we=Fv(m,r),Pe=()=>!(S&&we(S,ue)||y&&we(ue,y)||w&&we(ue,ae)||v&&we(ae,ue)),te=()=>r.getMinutes(ue)%k!==0?!1:P?!P(ue,"hours"):!0;return!Pe()||!te()},[m,r,S,y,w,ae,v,k,P]),re=b.useMemo(()=>{const ue=r.startOfDay(X);return[ue,...Array.from({length:Math.ceil(24*60/l)-1},(we,Pe)=>r.addMinutes(ue,l*(Pe+1)))]},[X,l,r]),se=re.findIndex(ue=>r.isEqual(ue,X));return C.jsx(HTe,V({ref:s,className:Ae($.root,B),ownerState:z},O,{children:C.jsx(VTe,{role:"listbox","aria-label":Z.timePickerToolbarTitle,className:$.list,children:re.map((ue,we)=>{if(L&&ie(ue))return null;const Pe=r.isEqual(ue,G),te=r.format(ue,a?"fullTime12h":"fullTime24h"),pe=se===we||se===-1&&we===0?0:-1;return C.jsx(W,V({onClick:()=>!A&&le(ue),selected:Pe,disabled:D||ie(ue),disableRipple:A,role:"option","aria-disabled":A,"aria-selected":Pe,tabIndex:pe},oe,{children:te}),te)})})}))});function GTe(t){return wt("MuiMultiSectionDigitalClock",t)}xt("MuiMultiSectionDigitalClock",["root"]);function UTe(t){return wt("MuiMultiSectionDigitalClockSection",t)}xt("MuiMultiSectionDigitalClockSection",["root","item"]);const jTe=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],YTe=t=>{const{classes:e}=t;return vt({root:["root"],item:["item"]},UTe,e)},XTe=be(Dm,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:TU,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),qTe=be(Ca,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:Fke,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity)}})),KTe=b.forwardRef(function(e,n){const r=b.useRef(null),i=Qn(n,r),s=b.useRef(null),o=ft({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:a,onChange:l,className:c,disabled:u,readOnly:d,items:h,active:f,slots:p,slotProps:m,skipDisabled:y}=o,S=Ue(o,jTe),w=b.useMemo(()=>V({},o,{alreadyRendered:!!r.current}),[o]),v=YTe(w),k=(p==null?void 0:p.digitalClockSectionItem)??qTe;b.useEffect(()=>{if(r.current===null)return;const T=r.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(f&&a&&T&&T.focus(),!T||s.current===T)return;s.current=T;const _=T.offsetTop;r.current.scrollTop=_-4});const P=h.findIndex(T=>T.isFocused(T.value));return C.jsx(XTe,V({ref:i,className:Ae(v.root,c),ownerState:w,autoFocusItem:a&&f,role:"listbox"},S,{children:h.map((T,_)=>{var B;const E=(B=T.isDisabled)==null?void 0:B.call(T,T.value),I=u||E;if(y&&I)return null;const R=T.isSelected(T.value),F=P===_||P===-1&&_===0?0:-1;return C.jsx(k,V({onClick:()=>!d&&l(T.value),selected:R,disabled:I,disableRipple:d,role:"option","aria-disabled":d||I||void 0,"aria-label":T.ariaLabel,"aria-selected":R,tabIndex:F,className:v.item},m==null?void 0:m.digitalClockSectionItem,{children:T.label}),T.label)})}))}),QTe=({now:t,value:e,utils:n,ampm:r,isDisabled:i,resolveAriaLabel:s,timeStep:o,valueOrReferenceDate:a})=>{const l=e?n.getHours(e):null,c=[],u=(f,p)=>{const m=p??l;return m===null?!1:r?f===12?m===12||m===0:m===f||m-12===f:m===f},d=f=>u(f,n.getHours(a)),h=r?11:23;for(let f=0;f<=h;f+=o){let p=n.format(n.setHours(t,f),r?"hours12h":"hours24h");const m=s(parseInt(p,10).toString());p=n.formatNumber(p),c.push({value:f,label:p,isSelected:u,isDisabled:i,isFocused:d,ariaLabel:m})}return c},EO=({value:t,utils:e,isDisabled:n,timeStep:r,resolveLabel:i,resolveAriaLabel:s,hasValue:o=!0})=>{const a=c=>t===null?!1:o&&t===c,l=c=>t===c;return[...Array.from({length:Math.ceil(60/r)},(c,u)=>{const d=r*u;return{value:d,label:e.formatNumber(i(d)),isDisabled:n,isSelected:a,isFocused:l,ariaLabel:s(d.toString())}})]},JTe=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],ZTe=t=>{const{classes:e}=t;return vt({root:["root"]},GTe,e)},ePe=be(tT,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),tPe=b.forwardRef(function(e,n){const r=fr(),i=Vr(),s=ft({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:o=r.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:m,minTime:y,disableFuture:S,disablePast:w,minutesStep:v=1,shouldDisableTime:k,onChange:P,view:T,views:_=["hours","minutes"],openTo:E,onViewChange:I,focusedView:R,onFocusedViewChange:F,className:B,disabled:D,readOnly:A,skipDisabled:N=!1,timezone:L}=s,H=Ue(s,JTe),{value:O,handleValueChange:G,timezone:j}=Om({name:"MultiSectionDigitalClock",timezone:L,value:d,defaultValue:h,onChange:P,valueManager:No}),J=Ao(),Z=Up(j),ae=b.useMemo(()=>V({hours:1,minutes:5,seconds:5},a),[a]),z=nI({value:O,referenceDate:f,utils:r,props:s,timezone:j}),$=Et((pe,ge,Te)=>G(pe,ge,Te)),W=b.useMemo(()=>!o||!_.includes("hours")||_.includes("meridiem")?_:[..._,"meridiem"],[o,_]),{view:oe,setValueAndGoToNextView:X,focusedView:K}=Ov({view:T,views:W,openTo:E,onViewChange:I,onChange:$,focusedView:R,onFocusedViewChange:F}),Y=Et(pe=>{X(pe,"finish","meridiem")}),{meridiemMode:le,handleMeridiemChange:ie}=XN(z,o,Y,"finish"),re=b.useCallback((pe,ge)=>{const Te=Fv(p,r),Re=ge==="hours"||ge==="minutes"&&W.includes("seconds"),Ie=({start:Se,end:Ce})=>!(y&&Te(y,Ce)||m&&Te(Se,m)||S&&Te(Se,Z)||w&&Te(Z,Re?Ce:Se)),he=(Se,Ce=1)=>{if(Se%Ce!==0)return!1;if(k)switch(ge){case"hours":return!k(r.setHours(z,Se),"hours");case"minutes":return!k(r.setMinutes(z,Se),"minutes");case"seconds":return!k(r.setSeconds(z,Se),"seconds");default:return!1}return!0};switch(ge){case"hours":{const Se=Mb(pe,le,o),Ce=r.setHours(z,Se),$e=r.setSeconds(r.setMinutes(Ce,0),0),ke=r.setSeconds(r.setMinutes(Ce,59),59);return!Ie({start:$e,end:ke})||!he(Se)}case"minutes":{const Se=r.setMinutes(z,pe),Ce=r.setSeconds(Se,0),$e=r.setSeconds(Se,59);return!Ie({start:Ce,end:$e})||!he(pe,v)}case"seconds":{const Se=r.setSeconds(z,pe);return!Ie({start:Se,end:Se})||!he(pe)}default:throw new Error("not supported")}},[o,z,p,m,le,y,v,k,r,S,w,Z,W]),se=b.useCallback(pe=>{switch(pe){case"hours":return{onChange:ge=>{const Te=Mb(ge,le,o);X(r.setHours(z,Te),"finish","hours")},items:QTe({now:Z,value:O,ampm:o,utils:r,isDisabled:ge=>re(ge,"hours"),timeStep:ae.hours,resolveAriaLabel:J.hoursClockNumberText,valueOrReferenceDate:z})};case"minutes":return{onChange:ge=>{X(r.setMinutes(z,ge),"finish","minutes")},items:EO({value:r.getMinutes(z),utils:r,isDisabled:ge=>re(ge,"minutes"),resolveLabel:ge=>r.format(r.setMinutes(Z,ge),"minutes"),timeStep:ae.minutes,hasValue:!!O,resolveAriaLabel:J.minutesClockNumberText})};case"seconds":return{onChange:ge=>{X(r.setSeconds(z,ge),"finish","seconds")},items:EO({value:r.getSeconds(z),utils:r,isDisabled:ge=>re(ge,"seconds"),resolveLabel:ge=>r.format(r.setSeconds(Z,ge),"seconds"),timeStep:ae.seconds,hasValue:!!O,resolveAriaLabel:J.secondsClockNumberText})};case"meridiem":{const ge=Th(r,"am"),Te=Th(r,"pm");return{onChange:ie,items:[{value:"am",label:ge,isSelected:()=>!!O&&le==="am",isFocused:()=>!!z&&le==="am",ariaLabel:ge},{value:"pm",label:Te,isSelected:()=>!!O&&le==="pm",isFocused:()=>!!z&&le==="pm",ariaLabel:Te}]}}default:throw new Error(`Unknown view: ${pe} found.`)}},[Z,O,o,r,ae.hours,ae.minutes,ae.seconds,J.hoursClockNumberText,J.minutesClockNumberText,J.secondsClockNumberText,le,X,z,re,ie]),ue=b.useMemo(()=>{if(!i)return W;const ge=W.filter(Te=>Te!=="meridiem").toReversed();return W.includes("meridiem")&&ge.push("meridiem"),ge},[i,W]),we=b.useMemo(()=>W.reduce((pe,ge)=>V({},pe,{[ge]:se(ge)}),{}),[W,se]),Pe=s,te=ZTe(Pe);return C.jsx(ePe,V({ref:n,className:Ae(te.root,B),ownerState:Pe,role:"group"},H,{children:ue.map(pe=>C.jsx(KTe,{items:we[pe].items,onChange:we[pe].onChange,active:oe===pe,autoFocus:l??K===pe,disabled:D,readOnly:A,slots:c,slotProps:u,skipDisabled:N,"aria-label":J.selectViewText(pe)},pe))}))});function nPe(t){return wt("MuiPickersDay",t)}const Mf=xt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),rPe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],iPe=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:i,disabled:s,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:a,classes:l}=t,c=o&&!a;return vt({root:["root",e&&!c&&"selected",s&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",o&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},nPe,l)},DU=({theme:t})=>V({},t.typography.caption,{width:Eb,height:Eb,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Mf.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Mf.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Mf.disabled}:not(.${Mf.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Mf.disabled}&.${Mf.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Zk}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Mf.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),FU=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},sPe=be(Gl,{name:"MuiPickersDay",slot:"Root",overridesResolver:FU})(DU),oPe=be("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:FU})(({theme:t})=>V({},DU({theme:t}),{opacity:0,pointerEvents:"none"})),O1=()=>{},aPe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:o,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:f=O1,onBlur:p=O1,onKeyDown:m=O1,onMouseDown:y=O1,onMouseEnter:S=O1,outsideCurrentMonth:w,selected:v=!1,showDaysOutsideCurrentMonth:k=!1,children:P,today:T=!1}=r,_=Ue(r,rPe),E=V({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:v,showDaysOutsideCurrentMonth:k,today:T}),I=iPe(E),R=fr(),F=b.useRef(null),B=Qn(F,n);vi(()=>{i&&!a&&!u&&!w&&F.current.focus()},[i,a,u,w]);const D=N=>{y(N),w&&N.preventDefault()},A=N=>{a||h(o),w&&N.currentTarget.focus(),d&&d(N)};return w&&!k?C.jsx(oPe,{className:Ae(I.root,I.hiddenDaySpacingFiller,s),ownerState:E,role:_.role}):C.jsx(sPe,V({className:Ae(I.root,s),ref:B,centerRipple:!0,disabled:a,tabIndex:v?0:-1,onKeyDown:N=>m(N,o),onFocus:N=>f(N,o),onBlur:N=>p(N,o),onMouseEnter:N=>S(N,o),onClick:A,onMouseDown:D},_,{ownerState:E,children:P||R.format(o,"dayOfMonth")}))}),lPe=b.memo(aPe);function OU(t,e,n,r){const{value:i,onError:s}=t,o=Gp(),a=b.useRef(r),l=e({adapter:o,value:i,props:t});return b.useEffect(()=>{s&&!n(l,a.current)&&s(l,i),a.current=l},[n,s,a,l,i]),l}const cPe=({utils:t,format:e})=>{let n=10,r=e,i=t.expandFormat(e);for(;i!==r;)if(r=i,i=t.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},uPe=({utils:t,expandedFormat:e})=>{const n=[],{start:r,end:i}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let o=null;for(;o=s.exec(e);)n.push({start:o.index,end:s.lastIndex-1});return n},dPe=(t,e,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),i).length,format:i});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return n.fieldDayPlaceholder({format:i});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return n.fieldHoursPlaceholder({format:i});case"minutes":return n.fieldMinutesPlaceholder({format:i});case"seconds":return n.fieldSecondsPlaceholder({format:i});case"meridiem":return n.fieldMeridiemPlaceholder({format:i});default:return i}},hPe=({utils:t,timezone:e,date:n,shouldRespectLeadingZeros:r,localeText:i,localizedDigits:s,now:o,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=EU(t,a),u=RU(t,e,c.contentType,c.type,a),d=r?u:c.contentType==="digit",h=n!=null&&t.isValid(n);let f=h?t.formatByString(n,a):"",p=null;if(d)if(u)p=f===""?t.formatByString(o,a).length:f.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);p=c.maxLength,h&&(f=eI(NU(_p(f,s),p),s))}return V({},c,{format:a,maxLength:p,value:f,placeholder:dPe(t,e,i,c,a),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},fPe=t=>{var f;const{utils:e,expandedFormat:n,escapedParts:r}=t,i=e.date(void 0),s=[];let o="";const a=Object.keys(e.formatTokenMap).sort((p,m)=>m.length-p.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=p=>r.find(m=>m.start<=p&&m.end>=p);let h=0;for(;h<n.length;){const p=d(h),m=p!=null,y=(f=l.exec(n.slice(h)))==null?void 0:f[1];if(!m&&y!=null&&c.test(y)){let S=y;for(;S.length>0;){const w=u.exec(S)[1];S=S.slice(w.length),s.push(hPe(V({},t,{now:i,token:w,startSeparator:o}))),o=""}h+=y.length}else{const S=n[h];m&&(p==null?void 0:p.start)===h||(p==null?void 0:p.end)===h||(s.length===0?o+=S:s[s.length-1].endSeparator+=S),h+=1}}return s.length===0&&o.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),s},pPe=({isRtl:t,formatDensity:e,sections:n})=>n.map(r=>{const i=s=>{let o=s;return t&&o!==null&&o.includes(" ")&&(o=`${o}`),e==="spacious"&&["/",".","-"].includes(o)&&(o=` ${o} `),o};return r.startSeparator=i(r.startSeparator),r.endSeparator=i(r.endSeparator),r}),BO=t=>{let e=cPe(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const n=uPe(V({},t,{expandedFormat:e})),r=fPe(V({},t,{expandedFormat:e,escapedParts:n}));return pPe(V({},t,{sections:r}))},gPe=t=>{const e=fr(),n=Ao(),r=Gp(),i=Vr(),{valueManager:s,fieldValueManager:o,valueType:a,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:h,onChange:f,format:p,formatDensity:m="dense",selectedSections:y,onSelectedSectionsChange:S,shouldRespectLeadingZeros:w=!1,timezone:v,enableAccessibleFieldDOMStructure:k=!1}}=t,{timezone:P,value:T,handleValueChange:_}=ZN({timezone:v,value:u,defaultValue:d,onChange:f,valueManager:s}),E=b.useMemo(()=>vTe(e),[e]),I=b.useMemo(()=>kTe(e,E,P),[e,E,P]),R=b.useCallback(($,W=null)=>o.getSectionsFromValue(e,$,W,oe=>BO({utils:e,timezone:P,localeText:n,localizedDigits:E,format:p,date:oe,formatDensity:m,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:k,isRtl:i})),[o,p,n,E,i,w,e,m,P,k]),[F,B]=b.useState(()=>{const $=R(T),W={sections:$,value:T,referenceValue:s.emptyValue,tempValueStrAndroid:null},oe=gTe($),X=s.getInitialReferenceValue({referenceDate:h,value:T,utils:e,props:c,granularity:oe,timezone:P});return V({},W,{referenceValue:X})}),[D,A]=yo({controlled:y,default:null,name:"useField",state:"selectedSections"}),N=$=>{A($),S==null||S($)},L=b.useMemo(()=>HE(D,F.sections),[D,F.sections]),H=L==="all"?0:L,O=({value:$,referenceValue:W,sections:oe})=>{if(B(K=>V({},K,{sections:oe,value:$,referenceValue:W,tempValueStrAndroid:null})),s.areValuesEqual(e,F.value,$))return;const X={validationError:l({adapter:r,value:$,props:V({},c,{value:$,timezone:P})})};_($,X)},G=($,W)=>{const oe=[...F.sections];return oe[$]=V({},oe[$],{value:W,modified:!0}),oe},j=()=>{O({value:s.emptyValue,referenceValue:F.referenceValue,sections:R(s.emptyValue)})},J=()=>{if(H==null)return;const $=F.sections[H],W=o.getActiveDateManager(e,F,$),X=W.getSections(F.sections).filter(ie=>ie.value!=="").length===($.value===""?0:1),K=G(H,""),Y=X?null:e.getInvalidDate(),le=W.getNewValuesFromNewActiveDate(Y);O(V({},le,{sections:K}))},Z=$=>{const W=(K,Y)=>{const le=e.parse(K,p);if(le==null||!e.isValid(le))return null;const ie=BO({utils:e,timezone:P,localeText:n,localizedDigits:E,format:p,date:le,formatDensity:m,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:k,isRtl:i});return MO(e,P,le,ie,Y,!1)},oe=o.parseValueStr($,F.referenceValue,W),X=o.updateReferenceValue(e,oe,F.referenceValue);O({value:oe,referenceValue:X,sections:R(oe,F.sections)})},ae=({activeSection:$,newSectionValue:W,shouldGoToNextSection:oe})=>{oe&&H<F.sections.length-1&&N(H+1);const X=o.getActiveDateManager(e,F,$),K=G(H,W),Y=X.getSections(K),le=xTe(e,Y,E);let ie,re;if(le!=null&&e.isValid(le)){const se=MO(e,P,le,Y,X.referenceDate,!0);ie=X.getNewValuesFromNewActiveDate(se),re=!0}else ie=X.getNewValuesFromNewActiveDate(le),re=(le!=null&&!e.isValid(le))!=(X.date!=null&&!e.isValid(X.date));return re?O(V({},ie,{sections:K})):B(se=>V({},se,ie,{sections:K,tempValueStrAndroid:null}))},z=$=>B(W=>V({},W,{tempValueStrAndroid:$}));return b.useEffect(()=>{const $=R(F.value);B(W=>V({},W,{sections:$}))},[p,e.locale,i]),b.useEffect(()=>{let $;s.areValuesEqual(e,F.value,T)?$=s.getTimezone(e,F.value)!==s.getTimezone(e,T):$=!0,$&&B(W=>V({},W,{value:T,referenceValue:o.updateReferenceValue(e,T,W.referenceValue),sections:R(T)}))},[T]),{state:F,activeSectionIndex:H,parsedSelectedSections:L,setSelectedSections:N,clearValue:j,clearActiveSection:J,updateSectionValue:ae,updateValueFromValueStr:Z,setTempAndroidValueStr:z,getSectionsFromValue:R,sectionsValueBoundaries:I,localizedDigits:E,timezone:P}},mPe=5e3,k0=t=>t.saveQuery!=null,yPe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:i,timezone:s})=>{const o=fr(),[a,l]=b.useState(null),c=Et(()=>l(null));b.useEffect(()=>{var p;a!=null&&((p=t[a.sectionIndex])==null?void 0:p.type)!==a.sectionType&&c()},[t,a,c]),b.useEffect(()=>{if(a!=null){const p=setTimeout(()=>c(),mPe);return()=>{clearTimeout(p)}}return()=>{}},[a,c]);const u=({keyPressed:p,sectionIndex:m},y,S)=>{const w=p.toLowerCase(),v=t[m];if(a!=null&&(!S||S(a.value))&&a.sectionIndex===m){const P=`${a.value}${w}`,T=y(P,v);if(!k0(T))return l({sectionIndex:m,value:P,sectionType:v.type}),T}const k=y(w,v);return k0(k)&&!k.saveQuery?(c(),null):(l({sectionIndex:m,value:w,sectionType:v.type}),k0(k)?null:k)},d=p=>{const m=(w,v,k)=>{const P=v.filter(T=>T.toLowerCase().startsWith(k));return P.length===0?{saveQuery:!1}:{sectionValue:P[0],shouldGoToNextSection:P.length===1}},y=(w,v,k,P)=>{const T=_=>BU(o,s,v.type,_);if(v.contentType==="letter")return m(v.format,T(v.format),w);if(k&&P!=null&&EU(o,k).contentType==="letter"){const _=T(k),E=m(k,_,w);return k0(E)?{saveQuery:!1}:V({},E,{sectionValue:P(E.sectionValue,_)})}return{saveQuery:!1}};return u(p,(w,v)=>{switch(v.type){case"month":{const k=P=>PO(o,P,o.formats.month,v.format);return y(w,v,o.formats.month,k)}case"weekDay":{const k=(P,T)=>T.indexOf(P).toString();return y(w,v,o.formats.weekday,k)}case"meridiem":return y(w,v);default:return{saveQuery:!1}}})},h=p=>{const m=(S,w)=>{const v=_p(S,r),k=Number(v),P=n[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(k>P.maximum)return{saveQuery:!1};if(k<P.minimum)return{saveQuery:!0};const T=k*10>P.maximum||v.length===P.maximum.toString().length;return{sectionValue:IU(o,k,P,r,w),shouldGoToNextSection:T}};return u(p,(S,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return m(S,w);if(w.type==="month"){const v=RU(o,s,"digit","month","MM"),k=m(S,{type:w.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(k0(k))return k;const P=PO(o,k.sectionValue,"MM",w.format);return V({},k,{sectionValue:P})}if(w.type==="weekDay"){const v=m(S,w);if(k0(v))return v;const k=nT(o,s,w.format)[Number(v.sectionValue)-1];return V({},v,{sectionValue:k})}return{saveQuery:!1}},S=>TO(S,r))};return{applyCharacterEditing:Et(p=>{const m=t[p.sectionIndex],S=TO(p.keyPressed,r)?h(V({},p,{keyPressed:eI(p.keyPressed,r)})):d(p);if(S==null){i(null);return}e({activeSection:m,newSectionValue:S.sectionValue,shouldGoToNextSection:S.shouldGoToNextSection})}),resetCharacterQuery:c}};function j0(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const bPe=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation()),e&&e(n)},Bl=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Bl(e.shadowRoot):e:null},$U="@media (pointer: fine)",vPe=t=>{const{internalProps:{disabled:e,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:i,onClick:s,onFocus:o,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:f,setSelectedSections:p,parsedSelectedSections:m,state:y,clearActiveSection:S,clearValue:w,updateSectionValue:v,updateValueFromValueStr:k,sectionOrder:P,areAllSectionsEmpty:T,sectionsValueBoundaries:_}=t,E=b.useRef(null),I=Qn(r,E),R=Ao(),F=fr(),B=Bo(),[D,A]=b.useState(!1),N=b.useMemo(()=>({syncSelectionToDOM:()=>{if(!E.current)return;const re=document.getSelection();if(!re)return;if(m==null){re.rangeCount>0&&E.current.getRoot().contains(re.getRangeAt(0).startContainer)&&re.removeAllRanges(),D&&E.current.getRoot().blur();return}if(!E.current.getRoot().contains(Bl(document)))return;const se=new window.Range;let ue;m==="all"?ue=E.current.getRoot():y.sections[m].type==="empty"?ue=E.current.getSectionContainer(m):ue=E.current.getSectionContent(m),se.selectNodeContents(ue),ue.focus(),re.removeAllRanges(),re.addRange(se)},getActiveSectionIndexFromDOM:()=>{const re=Bl(document);return!re||!E.current||!E.current.getRoot().contains(re)?null:E.current.getSectionIndexFromDOMElement(re)},focusField:(re=0)=>{if(!E.current)return;const se=HE(re,y.sections);A(!0),E.current.getSectionContent(se).focus()},setSelectedSections:re=>{if(!E.current)return;const se=HE(re,y.sections);A((se==="all"?0:se)!==null),p(re)},isFieldFocused:()=>{const re=Bl(document);return!!E.current&&E.current.getRoot().contains(re)}}),[m,p,y.sections,D]),L=Et(re=>{if(!E.current)return;const se=y.sections[re];E.current.getSectionContent(re).innerHTML=se.value||se.placeholder,N.syncSelectionToDOM()}),H=Et((re,...se)=>{re.isDefaultPrevented()||!E.current||(A(!0),s==null||s(re,...se),m==="all"?setTimeout(()=>{const ue=document.getSelection().getRangeAt(0).startOffset;if(ue===0){p(P.startIndex);return}let we=0,Pe=0;for(;Pe<ue&&we<y.sections.length;){const te=y.sections[we];we+=1,Pe+=`${te.startSeparator}${te.value||te.placeholder}${te.endSeparator}`.length}p(we-1)}):D?E.current.getRoot().contains(re.target)||p(P.startIndex):(A(!0),p(P.startIndex)))}),O=Et(re=>{if(a==null||a(re),!E.current||m!=="all")return;const ue=re.target.textContent??"";E.current.getRoot().innerHTML=y.sections.map(we=>`${we.startSeparator}${we.value||we.placeholder}${we.endSeparator}`).join(""),N.syncSelectionToDOM(),ue.length===0||ue.charCodeAt(0)===10?(f(),w(),p("all")):ue.length>1?k(ue):h({keyPressed:ue,sectionIndex:0})}),G=Et(re=>{if(l==null||l(re),n||m!=="all"){re.preventDefault();return}const se=re.clipboardData.getData("text");re.preventDefault(),f(),k(se)}),j=Et((...re)=>{if(o==null||o(...re),D||!E.current)return;A(!0),E.current.getSectionIndexFromDOMElement(Bl(document))!=null||p(P.startIndex)}),J=Et((...re)=>{i==null||i(...re),setTimeout(()=>{if(!E.current)return;const se=Bl(document);!E.current.getRoot().contains(se)&&(A(!1),p(null))})}),Z=Et(re=>se=>{se.isDefaultPrevented()||n||p(re)}),ae=Et(re=>{re.preventDefault()}),z=Et(re=>()=>{n||p(re)}),$=Et(re=>{if(re.preventDefault(),n||typeof m!="number")return;const se=y.sections[m],ue=re.clipboardData.getData("text"),we=/^[a-zA-Z]+$/.test(ue),Pe=/^[0-9]+$/.test(ue),te=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ue);se.contentType==="letter"&&we||se.contentType==="digit"&&Pe||se.contentType==="digit-with-letter"&&te?(f(),v({activeSection:se,newSectionValue:ue,shouldGoToNextSection:!0})):!we&&!Pe&&(f(),k(ue))}),W=Et(re=>{re.preventDefault(),re.dataTransfer.dropEffect="none"}),oe=Et(re=>{if(!E.current)return;const se=re.target,ue=se.textContent??"",we=E.current.getSectionIndexFromDOMElement(se),Pe=y.sections[we];if(n||!E.current){L(we);return}if(ue.length===0){if(Pe.value===""){L(we);return}const te=re.nativeEvent.inputType;if(te==="insertParagraph"||te==="insertLineBreak"){L(we);return}f(),S();return}h({keyPressed:ue,sectionIndex:we}),L(we)});vi(()=>{if(!(!D||!E.current)){if(m==="all")E.current.getRoot().focus();else if(typeof m=="number"){const re=E.current.getSectionContent(m);re&&re.focus()}}},[m,D]);const X=b.useMemo(()=>y.sections.reduce((re,se)=>(re[se.type]=_[se.type]({currentDate:null,contentType:se.contentType,format:se.format}),re),{}),[_,y.sections]),K=m==="all",Y=b.useMemo(()=>y.sections.map((re,se)=>{const ue=!K&&!e&&!n;return{container:{"data-sectionindex":se,onClick:Z(se)},content:{tabIndex:K||se>0?-1:0,contentEditable:!K&&!e&&!n,role:"spinbutton",id:`${B}-${re.type}`,"aria-labelledby":`${B}-${re.type}`,"aria-readonly":n,"aria-valuenow":ETe(re,F),"aria-valuemin":X[re.type].minimum,"aria-valuemax":X[re.type].maximum,"aria-valuetext":re.value?MTe(re,F):R.empty,"aria-label":R[re.type],"aria-disabled":e,spellCheck:ue?!1:void 0,autoCapitalize:ue?"off":void 0,autoCorrect:ue?"off":void 0,[parseInt(b.version,10)>=17?"enterKeyHint":"enterkeyhint"]:ue?"next":void 0,children:re.value||re.placeholder,onInput:oe,onPaste:$,onFocus:z(se),onDragOver:W,onMouseUp:ae,inputMode:re.contentType==="letter"?"text":"numeric"},before:{children:re.startSeparator},after:{children:re.endSeparator}}}),[y.sections,z,$,W,oe,Z,ae,e,n,K,R,F,X,B]),le=Et(re=>{k(re.target.value)}),ie=b.useMemo(()=>T?"":d.getV7HiddenInputValueFromSections(y.sections),[T,y.sections,d]);return b.useEffect(()=>{if(E.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&E.current&&E.current.getSectionContent(P.startIndex).focus()},[]),{interactions:N,returnedValue:{autoFocus:u,readOnly:n,focused:c??D,sectionListRef:I,onBlur:J,onClick:H,onFocus:j,onInput:O,onPaste:G,enableAccessibleFieldDOMStructure:!0,elements:Y,tabIndex:m===0?-1:0,contentEditable:K,value:ie,onChange:le,areAllSectionsEmpty:T}}},mg=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),wPe=(t,e,n)=>{let r=0,i=n?1:0;const s=[];for(let o=0;o<t.length;o+=1){const a=t[o],l=tI(a,n?"input-rtl":"input-ltr",e),c=`${a.startSeparator}${l}${a.endSeparator}`,u=mg(c).length,d=c.length,h=mg(l),f=i+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,p=f+h.length;s.push(V({},a,{start:r,end:r+u,startInInput:f,endInInput:p})),r+=u,i+=d}return s},xPe=t=>{const e=Vr(),n=b.useRef(),{forwardedProps:{onFocus:r,onClick:i,onPaste:s,onBlur:o,inputRef:a,placeholder:l},internalProps:{readOnly:c=!1},parsedSelectedSections:u,activeSectionIndex:d,state:h,fieldValueManager:f,valueManager:p,applyCharacterEditing:m,resetCharacterQuery:y,updateSectionValue:S,updateValueFromValueStr:w,clearActiveSection:v,clearValue:k,setTempAndroidValueStr:P,setSelectedSections:T,getSectionsFromValue:_,areAllSectionsEmpty:E,localizedDigits:I}=t,R=b.useRef(null),F=Qn(a,R),B=b.useMemo(()=>wPe(h.sections,I,e),[h.sections,I,e]),D=b.useMemo(()=>({syncSelectionToDOM:()=>{if(!R.current)return;if(u==null){R.current.scrollLeft&&(R.current.scrollLeft=0);return}if(R.current!==Bl(document))return;const $=R.current.scrollTop;if(u==="all")R.current.select();else{const W=B[u],oe=W.type==="empty"?W.startInInput-W.startSeparator.length:W.startInInput,X=W.type==="empty"?W.endInInput+W.endSeparator.length:W.endInInput;(oe!==R.current.selectionStart||X!==R.current.selectionEnd)&&R.current===Bl(document)&&R.current.setSelectionRange(oe,X)}R.current.scrollTop=$},getActiveSectionIndexFromDOM:()=>{var K;const $=R.current.selectionStart??0,W=R.current.selectionEnd??0,oe=!!((K=R.current)!=null&&K.readOnly);if($===0&&W===0||oe)return null;const X=$<=B[0].startInInput?1:B.findIndex(Y=>Y.startInInput-Y.startSeparator.length>$);return X===-1?B.length-1:X-1},focusField:($=0)=>{var W;(W=R.current)==null||W.focus(),T($)},setSelectedSections:$=>T($),isFieldFocused:()=>R.current===Bl(document)}),[R,u,B,T]),A=()=>{if(c){T(null);return}const $=R.current.selectionStart??0;let W;$<=B[0].startInInput||$>=B[B.length-1].endInInput?W=1:W=B.findIndex(X=>X.startInInput-X.startSeparator.length>$);const oe=W===-1?B.length-1:W-1;T(oe)},N=Et((...$)=>{r==null||r(...$);const W=R.current;clearTimeout(n.current),n.current=setTimeout(()=>{!W||W!==R.current||d!=null||c||(W.value.length&&Number(W.selectionEnd)-Number(W.selectionStart)===W.value.length?T("all"):A())})}),L=Et(($,...W)=>{$.isDefaultPrevented()||(i==null||i($,...W),A())}),H=Et($=>{if(s==null||s($),$.preventDefault(),c)return;const W=$.clipboardData.getData("text");if(typeof u=="number"){const oe=h.sections[u],X=/^[a-zA-Z]+$/.test(W),K=/^[0-9]+$/.test(W),Y=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(W);if(oe.contentType==="letter"&&X||oe.contentType==="digit"&&K||oe.contentType==="digit-with-letter"&&Y){y(),S({activeSection:oe,newSectionValue:W,shouldGoToNextSection:!0});return}if(X||K)return}y(),w(W)}),O=Et((...$)=>{o==null||o(...$),T(null)}),G=Et($=>{if(c)return;const W=$.target.value;if(W===""){y(),k();return}const oe=$.nativeEvent.data,X=oe&&oe.length>1,K=X?oe:W,Y=mg(K);if(d==null||X){w(X?oe:Y);return}let le;if(u==="all"&&Y.length===1)le=Y;else{const ie=mg(f.getV6InputValueFromSections(B,I,e));let re=-1,se=-1;for(let te=0;te<ie.length;te+=1)re===-1&&ie[te]!==Y[te]&&(re=te),se===-1&&ie[ie.length-te-1]!==Y[Y.length-te-1]&&(se=te);const ue=B[d];if(re<ue.start||ie.length-se-1>ue.end)return;const Pe=Y.length-ie.length+ue.end-mg(ue.endSeparator||"").length;le=Y.slice(ue.start+mg(ue.startSeparator||"").length,Pe)}if(le.length===0){PTe()?P(K):(y(),v());return}m({keyPressed:le,sectionIndex:d})}),j=b.useMemo(()=>l!==void 0?l:f.getV6InputValueFromSections(_(p.emptyValue),I,e),[l,f,_,p.emptyValue,I,e]),J=b.useMemo(()=>h.tempValueStrAndroid??f.getV6InputValueFromSections(h.sections,I,e),[h.sections,f,h.tempValueStrAndroid,I,e]);b.useEffect(()=>(R.current&&R.current===Bl(document)&&T("all"),()=>{clearTimeout(n.current)}),[]);const Z=b.useMemo(()=>d==null||h.sections[d].contentType==="letter"?"text":"numeric",[d,h.sections]),z=!(R.current&&R.current===Bl(document))&&E;return{interactions:D,returnedValue:{readOnly:c,onBlur:O,onClick:L,onFocus:N,onPaste:H,inputRef:F,enableAccessibleFieldDOMStructure:!1,placeholder:j,inputMode:Z,autoComplete:"off",value:z?"":J,onChange:G}}},HU=t=>{const e=fr(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:i,enableAccessibleFieldDOMStructure:s=!1,disabled:o=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:f,validator:p}=t,m=Vr(),y=gPe(t),{state:S,activeSectionIndex:w,parsedSelectedSections:v,setSelectedSections:k,clearValue:P,clearActiveSection:T,updateSectionValue:_,setTempAndroidValueStr:E,sectionsValueBoundaries:I,localizedDigits:R,timezone:F}=y,B=yPe({sections:S.sections,updateSectionValue:_,sectionsValueBoundaries:I,localizedDigits:R,setTempAndroidValueStr:E,timezone:F}),{resetCharacterQuery:D}=B,A=f.areValuesEqual(e,S.value,f.emptyValue),N=s?vPe:xPe,L=b.useMemo(()=>_Te(S.sections,m&&!s),[S.sections,m,s]),{returnedValue:H,interactions:O}=N(V({},t,y,B,{areAllSectionsEmpty:A,sectionOrder:L})),G=Et($=>{switch(l==null||l($),!0){case(($.ctrlKey||$.metaKey)&&$.key.toLowerCase()==="a"&&!$.shiftKey&&!$.altKey):{$.preventDefault(),k("all");break}case $.key==="ArrowRight":{if($.preventDefault(),v==null)k(L.startIndex);else if(v==="all")k(L.endIndex);else{const W=L.neighbors[v].rightIndex;W!==null&&k(W)}break}case $.key==="ArrowLeft":{if($.preventDefault(),v==null)k(L.endIndex);else if(v==="all")k(L.startIndex);else{const W=L.neighbors[v].leftIndex;W!==null&&k(W)}break}case $.key==="Delete":{if($.preventDefault(),a)break;v==null||v==="all"?P():T(),D();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes($.key):{if($.preventDefault(),a||w==null)break;const W=S.sections[w],oe=h.getActiveDateManager(e,S,W),X=wTe(e,F,W,$.key,I,R,oe.date,{minutesStep:i});_({activeSection:W,newSectionValue:X,shouldGoToNextSection:!1});break}}});vi(()=>{O.syncSelectionToDOM()});const j=OU(V({},n,{value:S.value,timezone:F}),p,f.isSameError,f.defaultErrorState),J=b.useMemo(()=>c!==void 0?c:f.hasError(j),[f,j,c]);b.useEffect(()=>{!J&&w==null&&D()},[S.referenceValue,w,J]),b.useEffect(()=>{S.tempValueStrAndroid!=null&&w!=null&&(D(),T())},[S.sections]),b.useImperativeHandle(r,()=>({getSections:()=>S.sections,getActiveSectionIndex:O.getActiveSectionIndexFromDOM,setSelectedSections:O.setSelectedSections,focusField:O.focusField,isFieldFocused:O.isFieldFocused}));const Z=Et(($,...W)=>{$.preventDefault(),d==null||d($,...W),P(),O.isFieldFocused()?k(L.startIndex):O.focusField(0)}),ae={onKeyDown:G,onClear:Z,error:J,clearable:!!(u&&!A&&!a&&!o)},z={disabled:o,readOnly:a};return V({},t.forwardedProps,ae,z,H)},rT=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:s,disablePast:o,disableFuture:a,timezone:l}=t,c=n.utils.date(void 0,l),u=Yl(n.utils,t.minDate,n.defaultDates.minDate),d=Yl(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},VE=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],zE=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],VU=["minDateTime","maxDateTime"],SPe=[...VE,...zE,...VU],iT=t=>SPe.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),CPe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],zU=(t,e)=>{const n=V({},t),r={},i=s=>{n.hasOwnProperty(s)&&(r[s]=n[s],delete n[s])};return CPe.forEach(i),e==="date"?VE.forEach(i):e==="time"?zE.forEach(i):e==="date-time"&&(VE.forEach(i),zE.forEach(i),VU.forEach(i)),{forwardedProps:n,internalProps:r}},kPe=t=>{const e=fr(),n=Dv();return V({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:Yl(e,t.minDate,n.minDate),maxDate:Yl(e,t.maxDate,n.maxDate)})},TPe=t=>{const e=fr(),r=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return V({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??r})},PPe=t=>{const e=kPe(t),{forwardedProps:n,internalProps:r}=zU(e,"date");return HU({forwardedProps:n,internalProps:r,valueManager:No,fieldValueManager:LU,validator:rT,valueType:"date"})},_Pe=["clearable","onClear","InputProps","sx","slots","slotProps"],MPe=["ownerState"],WU=t=>{const e=Ao(),{clearable:n,onClear:r,InputProps:i,sx:s,slots:o,slotProps:a}=t,l=Ue(t,_Pe),c=(o==null?void 0:o.clearButton)??Ei,u=Pn({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=Ue(u,MPe),h=(o==null?void 0:o.clearIcon)??Cke,f=Pn({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return V({},l,{InputProps:V({},i,{endAdornment:C.jsxs(b.Fragment,{children:[n&&C.jsx(RN,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:C.jsx(c,V({},d,{onClick:r,children:C.jsx(h,V({fontSize:"small"},f))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function EPe(t){return wt("MuiPickersTextField",t)}xt("MuiPickersTextField",["root","focused","disabled","error","required"]);function BPe(t){return wt("MuiPickersInputBase",t)}const Bg=xt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function NPe(t){return wt("MuiPickersSectionList",t)}const $1=xt("MuiPickersSectionList",["root","section","sectionContent"]),IPe=["slots","slotProps","elements","sectionListRef"],GU=be("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),UU=be("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),jU=be("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),YU=be("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),APe=t=>{const{classes:e}=t;return vt({root:["root"],section:["section"],sectionContent:["sectionContent"]},NPe,e)};function RPe(t){const{slots:e,slotProps:n,element:r,classes:i}=t,s=(e==null?void 0:e.section)??UU,o=Pn({elementType:s,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:i.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??YU,l=Pn({elementType:a,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??jU,u=Pn({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=Pn({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return C.jsxs(s,V({},o,{children:[C.jsx(c,V({},u)),C.jsx(a,V({},l)),C.jsx(c,V({},d))]}))}const LPe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:s,elements:o,sectionListRef:a}=r,l=Ue(r,IPe),c=APe(r),u=b.useRef(null),d=Qn(n,u),h=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};b.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(m){return h("getSectionContainer").querySelector(`.${$1.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return h("getSectionContent").querySelector(`.${$1.section}[data-sectionindex="${m}"] .${$1.sectionContent}`)},getSectionIndexFromDOMElement(m){const y=h("getSectionIndexFromDOMElement");if(m==null||!y.contains(m))return null;let S=null;return m.classList.contains($1.section)?S=m:m.classList.contains($1.sectionContent)&&(S=m.parentElement),S==null?null:Number(S.dataset.sectionindex)}}));const f=(i==null?void 0:i.root)??GU,p=Pn({elementType:f,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return C.jsx(f,V({},p,{children:p.contentEditable?o.map(({content:m,before:y,after:S})=>`${y.children}${m.children}${S.children}`).join(""):C.jsx(b.Fragment,{children:o.map((m,y)=>C.jsx(RPe,{slots:i,slotProps:s,element:m,classes:c},y))})}))}),DPe=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],FPe=t=>Math.round(t*1e5)/1e5,sT=be("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>V({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${FPe(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),rI=be(GU,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:n,filled:r,label:i})=>!e&&!n&&!r&&i==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),OPe=be(UU,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),$Pe=be(YU,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),HPe=be(jU,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),VPe=be("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(V({},lN)),zPe=t=>{const{focused:e,disabled:n,error:r,classes:i,fullWidth:s,readOnly:o,color:a,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!n&&"focused",n&&"disabled",o&&"readOnly",r&&"error",s&&"fullWidth",`color${Ge(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return vt(d,BPe,i)},iI=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:s,value:o,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:f,contentEditable:p,tabIndex:m,onInput:y,onPaste:S,onKeyDown:w,name:v,readOnly:k,inputProps:P,inputRef:T,sectionListRef:_}=r,E=Ue(r,DPe),I=b.useRef(null),R=Qn(n,I),F=Qn(P==null?void 0:P.ref,T),B=Vr(),D=Ma();if(!D)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const A=j=>{var J;if(D.disabled){j.stopPropagation();return}(J=D.onFocus)==null||J.call(D,j)};b.useEffect(()=>{D&&D.setAdornedStart(!!u)},[D,u]),b.useEffect(()=>{D&&(s?D.onEmpty():D.onFilled())},[D,s]);const N=V({},r,D,{isRtl:B}),L=zPe(N),H=(h==null?void 0:h.root)||sT,O=Pn({elementType:H,externalSlotProps:f==null?void 0:f.root,externalForwardedProps:E,additionalProps:{"aria-invalid":D.error,ref:R},className:L.root,ownerState:N}),G=(h==null?void 0:h.input)||rI;return C.jsxs(H,V({},O,{children:[u,C.jsx(LPe,{sectionListRef:_,elements:i,contentEditable:p,tabIndex:m,className:L.sectionsContainer,onFocus:A,onBlur:D.onBlur,onInput:y,onPaste:S,onKeyDown:w,slots:{root:G,section:OPe,sectionContent:$Pe,sectionSeparator:HPe},slotProps:{root:{ownerState:N},sectionContent:{className:Bg.sectionContent},sectionSeparator:({position:j})=>({className:j==="before"?Bg.sectionBefore:Bg.sectionAfter})}}),c,d?d(V({},D)):null,C.jsx(VPe,V({name:v,className:L.input,value:o,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:k,required:D.required,disabled:D.disabled},P,{ref:F}))]}))});function WPe(t){return wt("MuiPickersOutlinedInput",t)}const ac=V({},Bg,xt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),GPe=["children","className","label","notched","shrink"],UPe=be("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),NO=be("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),jPe=be("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function YPe(t){const{className:e,label:n}=t,r=Ue(t,GPe),i=n!=null&&n!=="",s=V({},t,{withLabel:i});return C.jsx(UPe,V({"aria-hidden":!0,className:e},r,{ownerState:s,children:C.jsx(jPe,{ownerState:s,children:i?C.jsx(NO,{children:n}):C.jsx(NO,{className:"notranslate",children:""})})}))}const XPe=["label","autoFocus","ownerState","notched"],qPe=be(sT,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ac.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ac.focused} .${ac.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ac.disabled}`]:{[`& .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${ac.error} .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(n=>{var r;return((r=(t.vars??t).palette[n])==null?void 0:r.main)??!1}).map(n=>({props:{color:n},style:{[`&.${ac.focused}:not(.${ac.error}) .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}))}}),KPe=be(rI,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),QPe=t=>{const{classes:e}=t,r=vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},WPe,e);return V({},e,r)},XU=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:s,notched:o}=r,a=Ue(r,XPe),l=Ma(),c=V({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=QPe(c);return C.jsx(iI,V({slots:{root:qPe,input:KPe},renderSuffix:d=>C.jsx(YPe,{shrink:!!(o||d.adornedStart||d.focused||d.filled),notched:!!(o||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?C.jsxs(b.Fragment,{children:[i,"","*"]}):i,ownerState:c})},a,{label:i,classes:u,ref:n}))});XU.muiName="Input";function JPe(t){return wt("MuiPickersFilledInput",t)}const Ef=V({},Bg,xt("MuiPickersFilledInput",["root","underline","input"])),ZPe=["label","autoFocus","disableUnderline","ownerState"],e_e=be(sT,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ny(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Ef.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Ef.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(o=>(t.vars??t).palette[o].main).map(o=>{var a;return{props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ef.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ef.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ef.disabled}, .${Ef.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ef.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:o})=>!!o,style:{paddingLeft:12}},{props:({endAdornment:o})=>!!o,style:{paddingRight:12}}]}}),t_e=be(rI,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),n_e=t=>{const{classes:e,disableUnderline:n}=t,i=vt({root:["root",!n&&"underline"],input:["input"]},JPe,e);return V({},e,i)},qU=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:o}=r,a=Ue(r,ZPe),l=Ma(),c=V({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),u=n_e(c);return C.jsx(iI,V({slots:{root:e_e,input:t_e},slotProps:{root:{disableUnderline:s}}},a,{label:i,classes:u,ref:n}))});qU.muiName="Input";function r_e(t){return wt("MuiPickersFilledInput",t)}const H1=V({},Bg,xt("MuiPickersInput",["root","input"])),i_e=["label","autoFocus","disableUnderline","ownerState"],s_e=be(sT,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${H1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${H1.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${H1.disabled}, .${H1.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${H1.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),o_e=t=>{const{classes:e,disableUnderline:n}=t,i=vt({root:["root",!n&&"underline"],input:["input"]},r_e,e);return V({},e,i)},KU=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:o}=r,a=Ue(r,i_e),l=Ma(),c=V({},r,o,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=o_e(c);return C.jsx(iI,V({slots:{root:s_e}},a,{label:i,classes:u,ref:n}))});KU.muiName="Input";const a_e=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],l_e={standard:KU,filled:qU,outlined:XU},c_e=be(IN,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),u_e=t=>{const{focused:e,disabled:n,classes:r,required:i}=t;return vt({root:["root",e&&!n&&"focused",n&&"disabled",i&&"required"]},EPe,r)},QU=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:s,className:o,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:f,inputRef:p,sectionListRef:m,elements:y,areAllSectionsEmpty:S,onClick:w,onKeyDown:v,onPaste:k,onInput:P,endAdornment:T,startAdornment:_,tabIndex:E,contentEditable:I,focused:R,value:F,onChange:B,fullWidth:D,id:A,name:N,helperText:L,FormHelperTextProps:H,label:O,InputLabelProps:G}=r,j=Ue(r,a_e),J=b.useRef(null),Z=Qn(n,J),ae=Bo(A),z=L&&ae?`${ae}-helper-text`:void 0,$=O&&ae?`${ae}-label`:void 0,W=V({},r,{color:a,disabled:l,error:c,focused:R,required:d,variant:u}),oe=u_e(W),X=l_e[u];return C.jsxs(c_e,V({className:Ae(oe.root,o),ref:Z,focused:R,onFocus:i,onBlur:s,disabled:l,variant:u,error:c,color:a,fullWidth:D,required:d,ownerState:W},j,{children:[C.jsx(LN,V({htmlFor:ae,id:$},G,{children:O})),C.jsx(X,V({elements:y,areAllSectionsEmpty:S,onClick:w,onKeyDown:v,onInput:P,onPaste:k,endAdornment:T,startAdornment:_,tabIndex:E,contentEditable:I,value:F,onChange:B,id:ae,fullWidth:D,inputProps:f,inputRef:p,sectionListRef:m,label:O,name:N,role:"group","aria-labelledby":$},h)),L&&C.jsx(IG,V({id:z},H,{children:L}))]}))}),d_e=["enableAccessibleFieldDOMStructure"],h_e=["InputProps","readOnly"],f_e=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],JU=t=>{let{enableAccessibleFieldDOMStructure:e}=t,n=Ue(t,d_e);if(e){const{InputProps:d,readOnly:h}=n,f=Ue(n,h_e);return V({},f,{InputProps:V({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:i,inputMode:s,readOnly:o,InputProps:a,inputProps:l,inputRef:c}=n,u=Ue(n,f_e);return V({},u,{InputProps:V({},a??{},{readOnly:o}),inputProps:V({},l??{},{inputMode:s,onPaste:r,onKeyDown:i,ref:c})})},p_e=["slots","slotProps","InputProps","inputProps"],ZU=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDateField"}),{slots:i,slotProps:s,InputProps:o,inputProps:a}=r,l=Ue(r,p_e),c=r,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?QU:Tp),d=Pn({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:c});d.inputProps=V({},a,d.inputProps),d.InputProps=V({},o,d.InputProps);const h=PPe(d),f=JU(h),p=WU(V({},f,{slots:i,slotProps:s}));return C.jsx(u,V({},p))}),sI=({adapter:t,value:e,props:n})=>{if(e===null)return null;const{minTime:r,maxTime:i,minutesStep:s,shouldDisableTime:o,disableIgnoringDatePartForTimeValidation:a=!1,disablePast:l,disableFuture:c,timezone:u}=n,d=t.utils.date(void 0,u),h=Fv(a,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&h(r,e)):return"minTime";case!!(i&&h(e,i)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(o&&o(e,"hours")):return"shouldDisableTime-hours";case!!(o&&o(e,"minutes")):return"shouldDisableTime-minutes";case!!(o&&o(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},g_e=t=>{const e=TPe(t),{forwardedProps:n,internalProps:r}=zU(e,"time");return HU({forwardedProps:n,internalProps:r,valueManager:No,fieldValueManager:LU,validator:sI,valueType:"time"})},m_e=["slots","slotProps","InputProps","inputProps"],ej=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTimeField"}),{slots:i,slotProps:s,InputProps:o,inputProps:a}=r,l=Ue(r,m_e),c=r,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?QU:Tp),d=Pn({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=V({},a,d.inputProps),d.InputProps=V({},o,d.InputProps);const h=g_e(d),f=JU(h),p=WU(V({},f,{slots:i,slotProps:s}));return C.jsx(u,V({},p))}),tj=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:s,disablePast:o,timezone:a})=>{const l=Gp();return b.useCallback(c=>rT({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:s,disablePast:o,timezone:a}})!==null,[l,t,e,n,r,i,s,o,a])},y_e=(t,e,n)=>(r,i)=>{switch(i.type){case"changeMonth":return V({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return V({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const s=i.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,i.focusedDay);return V({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},b_e=t=>{const{value:e,referenceDate:n,disableFuture:r,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:o,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=fr(),f=b.useRef(y_e(!!c,s,h)).current,p=b.useMemo(()=>No.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:n,granularity:vc.day}),[]),[m,y]=b.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:p,currentMonth:h.startOfMonth(p),slideDirection:"left"}),S=b.useCallback(T=>{y(V({type:"changeMonth"},T)),l&&l(T.newMonth)},[l]),w=b.useCallback(T=>{const _=T;h.isSameMonth(_,m.currentMonth)||S({newMonth:h.startOfMonth(_),direction:h.isAfterDay(_,m.currentMonth)?"left":"right"})},[m.currentMonth,S,h]),v=tj({shouldDisableDate:u,minDate:a,maxDate:o,disableFuture:r,disablePast:i,timezone:d}),k=b.useCallback(()=>{y({type:"finishMonthSwitchingAnimation"})},[]),P=Et((T,_)=>{v(T)||y({type:"changeFocusedDay",focusedDay:T,withoutMonthSwitchingAnimation:_})});return{referenceDate:p,calendarState:m,changeMonth:w,changeFocusedDay:P,isDateDisabled:v,onMonthSwitchingAnimationEnd:k,handleChangeMonth:S}},v_e=t=>wt("MuiPickersFadeTransitionGroup",t);xt("MuiPickersFadeTransitionGroup",["root"]);const w_e=t=>{const{classes:e}=t;return vt({root:["root"]},v_e,e)},x_e=be(bN,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function nj(t){const e=ft({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:s}=e,o=w_e(e),a=_a();return i?n:C.jsx(x_e,{className:Ae(o.root,r),children:C.jsx(Rm,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},s)})}const S_e=t=>wt("MuiPickersSlideTransition",t),pl=xt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),C_e=["children","className","reduceAnimations","slideDirection","transKey","classes"],k_e=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return vt(r,S_e,e)},T_e=be(bN,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${pl["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${pl["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${pl.slideEnterActive}`]:e.slideEnterActive},{[`.${pl.slideExit}`]:e.slideExit},{[`.${pl["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${pl["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${pl["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${pl["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${pl.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${pl.slideExit}`]:{transform:"translate(0%)"},[`& .${pl["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${pl["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function P_e(t){const e=ft({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:s}=e,o=Ue(e,C_e),a=k_e(e),l=_a();if(i)return C.jsx("div",{className:Ae(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return C.jsx(T_e,{className:Ae(a.root,r),childFactory:u=>b.cloneElement(u,{classNames:c}),role:"presentation",children:C.jsx(rfe,V({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},o,{children:n}),s)})}const __e=t=>wt("MuiDayCalendar",t);xt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const M_e=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],E_e=["ownerState"],B_e=t=>{const{classes:e}=t;return vt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},__e,e)},rj=(Eb+Zk*2)*6,N_e=be("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),I_e=be("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),A_e=be(Tr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),R_e=be(Tr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),L_e=be(Tr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>V({},t.typography.caption,{width:Eb,height:Eb,padding:0,margin:`0 ${Zk}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),D_e=be("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:rj}),F_e=be(P_e,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:rj}),O_e=be("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),$_e=be("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Zk}px 0`,display:"flex",justifyContent:"center"});function H_e(t){let{parentProps:e,day:n,focusableDay:r,selectedDays:i,isDateDisabled:s,currentMonthNumber:o,isViewFocused:a}=t,l=Ue(t,M_e);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:f,slotProps:p,timezone:m}=e,y=fr(),S=Up(m),w=r!==null&&y.isSameDay(n,r),v=i.some(B=>y.isSameDay(B,n)),k=y.isSameDay(n,S),P=(f==null?void 0:f.day)??lPe,T=Pn({elementType:P,externalSlotProps:p==null?void 0:p.day,additionalProps:V({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":y.toJsDate(n).valueOf()},l),ownerState:V({},e,{day:n,selected:v})}),_=Ue(T,E_e),E=b.useMemo(()=>c||s(n),[c,s,n]),I=b.useMemo(()=>y.getMonth(n)!==o,[y,n,o]),R=b.useMemo(()=>{const B=y.startOfMonth(y.setMonth(n,o));return h?y.isSameDay(n,y.startOfWeek(B)):y.isSameDay(n,B)},[o,n,h,y]),F=b.useMemo(()=>{const B=y.endOfMonth(y.setMonth(n,o));return h?y.isSameDay(n,y.endOfWeek(B)):y.isSameDay(n,B)},[o,n,h,y]);return C.jsx(P,V({},_,{day:n,disabled:E,autoFocus:a&&w,today:k,outsideCurrentMonth:I,isFirstVisibleCell:R,isLastVisibleCell:F,selected:v,tabIndex:w?0:-1,"aria-selected":v,"aria-current":k?"date":void 0}))}function V_e(t){const e=ft({props:t,name:"MuiDayCalendar"}),n=fr(),{onFocusedDayChange:r,className:i,currentMonth:s,selectedDays:o,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:f=()=>C.jsx("span",{children:"..."}),slideDirection:p,TransitionProps:m,disablePast:y,disableFuture:S,minDate:w,maxDate:v,shouldDisableDate:k,shouldDisableMonth:P,shouldDisableYear:T,dayOfWeekFormatter:_=Pe=>n.format(Pe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:E,onFocusedViewChange:I,gridLabelId:R,displayWeekNumber:F,fixedWeekNumber:B,autoFocus:D,timezone:A}=e,N=Up(A),L=B_e(e),H=Vr(),O=tj({shouldDisableDate:k,shouldDisableMonth:P,shouldDisableYear:T,minDate:w,maxDate:v,disablePast:y,disableFuture:S,timezone:A}),G=Ao(),[j,J]=yo({name:"DayCalendar",state:"hasFocus",controlled:E,default:D??!1}),[Z,ae]=b.useState(()=>a||N),z=Et(Pe=>{d||c(Pe)}),$=Pe=>{O(Pe)||(r(Pe),ae(Pe),I==null||I(!0),J(!0))},W=Et((Pe,te)=>{switch(Pe.key){case"ArrowUp":$(n.addDays(te,-7)),Pe.preventDefault();break;case"ArrowDown":$(n.addDays(te,7)),Pe.preventDefault();break;case"ArrowLeft":{const pe=n.addDays(te,H?1:-1),ge=n.addMonths(te,H?1:-1),Te=Oy({utils:n,date:pe,minDate:H?pe:n.startOfMonth(ge),maxDate:H?n.endOfMonth(ge):pe,isDateDisabled:O,timezone:A});$(Te||pe),Pe.preventDefault();break}case"ArrowRight":{const pe=n.addDays(te,H?-1:1),ge=n.addMonths(te,H?-1:1),Te=Oy({utils:n,date:pe,minDate:H?n.startOfMonth(ge):pe,maxDate:H?pe:n.endOfMonth(ge),isDateDisabled:O,timezone:A});$(Te||pe),Pe.preventDefault();break}case"Home":$(n.startOfWeek(te)),Pe.preventDefault();break;case"End":$(n.endOfWeek(te)),Pe.preventDefault();break;case"PageUp":$(n.addMonths(te,1)),Pe.preventDefault();break;case"PageDown":$(n.addMonths(te,-1)),Pe.preventDefault();break}}),oe=Et((Pe,te)=>$(te)),X=Et((Pe,te)=>{j&&n.isSameDay(Z,te)&&(I==null||I(!1))}),K=n.getMonth(s),Y=n.getYear(s),le=b.useMemo(()=>o.filter(Pe=>!!Pe).map(Pe=>n.startOfDay(Pe)),[n,o]),ie=`${Y}-${K}`,re=b.useMemo(()=>b.createRef(),[ie]),se=n.startOfWeek(N),ue=b.useMemo(()=>{const Pe=n.startOfMonth(s),te=n.endOfMonth(s);return O(Z)||n.isAfterDay(Z,te)||n.isBeforeDay(Z,Pe)?Oy({utils:n,date:Z,minDate:Pe,maxDate:te,disablePast:y,disableFuture:S,isDateDisabled:O,timezone:A}):Z},[s,S,y,Z,O,n,A]),we=b.useMemo(()=>{const Pe=n.setTimezone(s,A),te=n.getWeekArray(Pe);let pe=n.addMonths(Pe,1);for(;B&&te.length<B;){const ge=n.getWeekArray(pe),Te=n.isSameDay(te[te.length-1][0],ge[0][0]);ge.slice(Te?1:0).forEach(Re=>{te.length<B&&te.push(Re)}),pe=n.addMonths(pe,1)}return te},[s,B,n,A]);return C.jsxs(N_e,{role:"grid","aria-labelledby":R,className:L.root,children:[C.jsxs(I_e,{role:"row",className:L.header,children:[F&&C.jsx(R_e,{variant:"caption",role:"columnheader","aria-label":G.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:G.calendarWeekNumberHeaderText}),eTe(n,N).map((Pe,te)=>C.jsx(A_e,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(se,te),"weekday"),className:L.weekDayLabel,children:_(Pe)},te.toString()))]}),l?C.jsx(D_e,{className:L.loadingContainer,children:f()}):C.jsx(F_e,V({transKey:ie,onExited:u,reduceAnimations:h,slideDirection:p,className:Ae(i,L.slideTransition)},m,{nodeRef:re,children:C.jsx(O_e,{ref:re,role:"rowgroup",className:L.monthContainer,children:we.map((Pe,te)=>C.jsxs($_e,{role:"row",className:L.weekContainer,"aria-rowindex":te+1,children:[F&&C.jsx(L_e,{className:L.weekNumber,role:"rowheader","aria-label":G.calendarWeekNumberAriaLabelText(n.getWeekNumber(Pe[0])),children:G.calendarWeekNumberText(n.getWeekNumber(Pe[0]))}),Pe.map((pe,ge)=>C.jsx(H_e,{parentProps:e,day:pe,selectedDays:le,focusableDay:ue,onKeyDown:W,onFocus:oe,onBlur:X,onDaySelect:z,isDateDisabled:O,currentMonthNumber:K,isViewFocused:j,"aria-colindex":ge+1},pe.toString()))]},`week-${Pe[0]}`))})}))]})}function z_e(t){return wt("MuiPickersMonth",t)}const Ix=xt("MuiPickersMonth",["root","monthButton","disabled","selected"]),W_e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],G_e=t=>{const{disabled:e,selected:n,classes:r}=t;return vt({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},z_e,r)},U_e=be("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),j_e=be("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Ix.disabled}`]:e.disabled},{[`&.${Ix.selected}`]:e.selected}]})(({theme:t})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ix.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Ix.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Y_e=b.memo(function(e){const n=ft({props:e,name:"MuiPickersMonth"}),{autoFocus:r,className:i,children:s,disabled:o,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p,"aria-label":m,slots:y,slotProps:S}=n,w=Ue(n,W_e),v=b.useRef(null),k=G_e(n);vi(()=>{var _;r&&((_=v.current)==null||_.focus())},[r]);const P=(y==null?void 0:y.monthButton)??j_e,T=Pn({elementType:P,externalSlotProps:S==null?void 0:S.monthButton,additionalProps:{children:s,disabled:o,tabIndex:c,ref:v,type:"button",role:"radio","aria-current":p,"aria-checked":a,"aria-label":m,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>f(_,l)},ownerState:n,className:k.monthButton});return C.jsx(U_e,V({className:Ae(k.root,i),ownerState:n},w,{children:C.jsx(P,V({},T))}))});function X_e(t){return wt("MuiMonthCalendar",t)}xt("MuiMonthCalendar",["root"]);const q_e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],K_e=t=>{const{classes:e}=t;return vt({root:["root"]},X_e,e)};function Q_e(t,e){const n=fr(),r=Dv(),i=ft({props:t,name:e});return V({disableFuture:!1,disablePast:!1},i,{minDate:Yl(n,i.minDate,r.minDate),maxDate:Yl(n,i.maxDate,r.maxDate)})}const J_e=be("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:eT,boxSizing:"border-box"}),Z_e=b.forwardRef(function(e,n){const r=Q_e(e,"MuiMonthCalendar"),{className:i,value:s,defaultValue:o,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:p,readOnly:m,autoFocus:y=!1,onMonthFocus:S,hasFocus:w,onFocusedViewChange:v,monthsPerRow:k=3,timezone:P,gridLabelId:T,slots:_,slotProps:E}=r,I=Ue(r,q_e),{value:R,handleValueChange:F,timezone:B}=Om({name:"MonthCalendar",timezone:P,value:s,defaultValue:o,onChange:f,valueManager:No}),D=Up(B),A=Vr(),N=fr(),L=b.useMemo(()=>No.getInitialReferenceValue({value:R,utils:N,props:r,timezone:B,referenceDate:a,granularity:vc.month}),[]),H=r,O=K_e(H),G=b.useMemo(()=>N.getMonth(D),[N,D]),j=b.useMemo(()=>R!=null?N.getMonth(R):null,[R,N]),[J,Z]=b.useState(()=>j||N.getMonth(L)),[ae,z]=yo({name:"MonthCalendar",state:"hasFocus",controlled:w,default:y??!1}),$=Et(ie=>{z(ie),v&&v(ie)}),W=b.useCallback(ie=>{const re=N.startOfMonth(u&&N.isAfter(D,h)?D:h),se=N.startOfMonth(c&&N.isBefore(D,d)?D:d),ue=N.startOfMonth(ie);return N.isBefore(ue,re)||N.isAfter(ue,se)?!0:p?p(ue):!1},[c,u,d,h,D,p,N]),oe=Et((ie,re)=>{if(m)return;const se=N.setMonth(R??L,re);F(se)}),X=Et(ie=>{W(N.setMonth(R??L,ie))||(Z(ie),$(!0),S&&S(ie))});b.useEffect(()=>{Z(ie=>j!==null&&ie!==j?j:ie)},[j]);const K=Et((ie,re)=>{switch(ie.key){case"ArrowUp":X((12+re-3)%12),ie.preventDefault();break;case"ArrowDown":X((12+re+3)%12),ie.preventDefault();break;case"ArrowLeft":X((12+re+(A?1:-1))%12),ie.preventDefault();break;case"ArrowRight":X((12+re+(A?-1:1))%12),ie.preventDefault();break}}),Y=Et((ie,re)=>{X(re)}),le=Et((ie,re)=>{J===re&&$(!1)});return C.jsx(J_e,V({ref:n,className:Ae(O.root,i),ownerState:H,role:"radiogroup","aria-labelledby":T},I,{children:KN(N,R??L).map(ie=>{const re=N.getMonth(ie),se=N.format(ie,"monthShort"),ue=N.format(ie,"month"),we=re===j,Pe=l||W(ie);return C.jsx(Y_e,{selected:we,value:re,onClick:oe,onKeyDown:K,autoFocus:ae&&re===J,disabled:Pe,tabIndex:re===J&&!Pe?0:-1,onFocus:Y,onBlur:le,"aria-current":G===re?"date":void 0,"aria-label":ue,monthsPerRow:k,slots:_,slotProps:E,children:se},se)})}))});function e3e(t){return wt("MuiPickersYear",t)}const Ax=xt("MuiPickersYear",["root","yearButton","selected","disabled"]),t3e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],n3e=t=>{const{disabled:e,selected:n,classes:r}=t;return vt({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},e3e,r)},r3e=be("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),i3e=be("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Ax.disabled}`]:e.disabled},{[`&.${Ax.selected}`]:e.selected}]})(({theme:t})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:go(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:go(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ax.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Ax.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),s3e=b.memo(function(e){const n=ft({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:s,disabled:o,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p,slots:m,slotProps:y}=n,S=Ue(n,t3e),w=b.useRef(null),v=n3e(n);vi(()=>{var T;r&&((T=w.current)==null||T.focus())},[r]);const k=(m==null?void 0:m.yearButton)??i3e,P=Pn({elementType:k,externalSlotProps:y==null?void 0:y.yearButton,additionalProps:{children:s,disabled:o,tabIndex:c,ref:w,type:"button",role:"radio","aria-current":p,"aria-checked":a,onClick:T=>u(T,l),onKeyDown:T=>d(T,l),onFocus:T=>h(T,l),onBlur:T=>f(T,l)},ownerState:n,className:v.yearButton});return C.jsx(r3e,V({className:Ae(v.root,i),ownerState:n},S,{children:C.jsx(k,V({},P))}))});function o3e(t){return wt("MuiYearCalendar",t)}xt("MuiYearCalendar",["root"]);const a3e=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],l3e=t=>{const{classes:e}=t;return vt({root:["root"]},o3e,e)};function c3e(t,e){const n=fr(),r=Dv(),i=ft({props:t,name:e});return V({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:Yl(n,i.minDate,r.minDate),maxDate:Yl(n,i.maxDate,r.maxDate)})}const u3e=be("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:eT,maxHeight:Dke,boxSizing:"border-box",position:"relative"}),d3e=b.forwardRef(function(e,n){const r=c3e(e,"MuiYearCalendar"),{autoFocus:i,className:s,value:o,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onChange:p,readOnly:m,shouldDisableYear:y,onYearFocus:S,hasFocus:w,onFocusedViewChange:v,yearsPerRow:k,timezone:P,gridLabelId:T,slots:_,slotProps:E}=r,I=Ue(r,a3e),{value:R,handleValueChange:F,timezone:B}=Om({name:"YearCalendar",timezone:P,value:o,defaultValue:a,onChange:p,valueManager:No}),D=Up(B),A=Vr(),N=fr(),L=b.useMemo(()=>No.getInitialReferenceValue({value:R,utils:N,props:r,timezone:B,referenceDate:l,granularity:vc.year}),[]),H=r,O=l3e(H),G=b.useMemo(()=>N.getYear(D),[N,D]),j=b.useMemo(()=>R!=null?N.getYear(R):null,[R,N]),[J,Z]=b.useState(()=>j||N.getYear(L)),[ae,z]=yo({name:"YearCalendar",state:"hasFocus",controlled:w,default:i??!1}),$=Et(se=>{z(se),v&&v(se)}),W=b.useCallback(se=>{if(d&&N.isBeforeYear(se,D)||u&&N.isAfterYear(se,D)||f&&N.isBeforeYear(se,f)||h&&N.isAfterYear(se,h))return!0;if(!y)return!1;const ue=N.startOfYear(se);return y(ue)},[u,d,h,f,D,y,N]),oe=Et((se,ue)=>{if(m)return;const we=N.setYear(R??L,ue);F(we)}),X=Et(se=>{W(N.setYear(R??L,se))||(Z(se),$(!0),S==null||S(se))});b.useEffect(()=>{Z(se=>j!==null&&se!==j?j:se)},[j]);const K=Et((se,ue)=>{switch(se.key){case"ArrowUp":X(ue-k),se.preventDefault();break;case"ArrowDown":X(ue+k),se.preventDefault();break;case"ArrowLeft":X(ue+(A?1:-1)),se.preventDefault();break;case"ArrowRight":X(ue+(A?-1:1)),se.preventDefault();break}}),Y=Et((se,ue)=>{X(ue)}),le=Et((se,ue)=>{J===ue&&$(!1)}),ie=b.useRef(null),re=Qn(n,ie);return b.useEffect(()=>{if(i||ie.current===null)return;const se=ie.current.querySelector('[tabindex="0"]');if(!se)return;const ue=se.offsetHeight,we=se.offsetTop,Pe=ie.current.clientHeight,te=ie.current.scrollTop,pe=we+ue;ue>Pe||we<te||(ie.current.scrollTop=pe-Pe/2-ue/2)},[i]),C.jsx(u3e,V({ref:re,className:Ae(O.root,s),ownerState:H,role:"radiogroup","aria-labelledby":T},I,{children:N.getYearRange([f,h]).map(se=>{const ue=N.getYear(se),we=ue===j,Pe=c||W(se);return C.jsx(s3e,{selected:we,value:ue,onClick:oe,onKeyDown:K,autoFocus:ae&&ue===J,disabled:Pe,tabIndex:ue===J&&!Pe?0:-1,onFocus:Y,onBlur:le,"aria-current":G===ue?"date":void 0,yearsPerRow:k,slots:_,slotProps:E,children:N.format(se,"year")},N.format(se,"year"))})}))}),h3e=t=>wt("MuiPickersCalendarHeader",t),f3e=xt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),p3e=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],g3e=["ownerState"],m3e=t=>{const{classes:e}=t;return vt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},h3e,e)},y3e=be("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),b3e=be("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>V({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),v3e=be("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),w3e=be(Ei,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${f3e.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),x3e=be(bke,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),S3e=b.forwardRef(function(e,n){const r=Ao(),i=fr(),s=ft({props:e,name:"MuiPickersCalendarHeader"}),{slots:o,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onMonthChange:p,onViewChange:m,view:y,reduceAnimations:S,views:w,labelId:v,className:k,timezone:P,format:T=`${i.formats.month} ${i.formats.year}`}=s,_=Ue(s,p3e),E=s,I=m3e(s),R=(o==null?void 0:o.switchViewButton)??w3e,F=Pn({elementType:R,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(y)},ownerState:E,className:I.switchViewButton}),B=(o==null?void 0:o.switchViewIcon)??x3e,D=Pn({elementType:B,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:I.switchViewIcon}),A=Ue(D,g3e),N=()=>p(i.addMonths(l,1),"left"),L=()=>p(i.addMonths(l,-1),"right"),H=Rke(l,{disableFuture:u,maxDate:h,timezone:P}),O=Lke(l,{disablePast:d,minDate:f,timezone:P}),G=()=>{if(!(w.length===1||!m||c))if(w.length===2)m(w.find(J=>J!==y)||w[0]);else{const J=w.indexOf(y)!==0?0:1;m(w[J])}};if(w.length===1&&w[0]==="year")return null;const j=i.formatByString(l,T);return C.jsxs(y3e,V({},_,{ownerState:E,className:Ae(k,I.root),ref:n,children:[C.jsxs(b3e,{role:"presentation",onClick:G,ownerState:E,"aria-live":"polite",className:I.labelContainer,children:[C.jsx(nj,{reduceAnimations:S,transKey:j,children:C.jsx(v3e,{id:v,ownerState:E,className:I.label,children:j})}),w.length>1&&!c&&C.jsx(R,V({},F,{children:C.jsx(B,V({},A))}))]}),C.jsx(Rm,{in:y==="day",children:C.jsx(xU,{slots:o,slotProps:a,onGoToPrevious:L,isPreviousDisabled:O,previousLabel:r.previousMonth,onGoToNext:N,isNextDisabled:H,nextLabel:r.nextMonth})})]}))}),C3e="@media (prefers-reduced-motion: reduce)",Ng=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),IO=Ng&&Ng[1]?parseInt(Ng[1],10):null,AO=Ng&&Ng[2]?parseInt(Ng[2],10):null,k3e=IO&&IO<10||AO&&AO<13||!1,ij=()=>iN(C3e,{defaultMatches:!1})||k3e,T3e=t=>wt("MuiDateCalendar",t);xt("MuiDateCalendar",["root","viewTransitionContainer"]);const P3e=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],_3e=t=>{const{classes:e}=t;return vt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},T3e,e)};function M3e(t,e){const n=fr(),r=Dv(),i=ij(),s=ft({props:t,name:e});return V({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??i,renderLoading:s.renderLoading??(()=>C.jsx("span",{children:"..."})),minDate:Yl(n,s.minDate,r.minDate),maxDate:Yl(n,s.maxDate,r.maxDate)})}const E3e=be(tT,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:qN}),B3e=be(nj,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),N3e=b.forwardRef(function(e,n){const r=fr(),i=Bo(),s=M3e(e,"MuiDateCalendar"),{autoFocus:o,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:f,onYearChange:p,onMonthChange:m,reduceAnimations:y,shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:v,view:k,views:P,openTo:T,className:_,disabled:E,readOnly:I,minDate:R,maxDate:F,disableHighlightToday:B,focusedView:D,onFocusedViewChange:A,showDaysOutsideCurrentMonth:N,fixedWeekNumber:L,dayOfWeekFormatter:H,slots:O,slotProps:G,loading:j,renderLoading:J,displayWeekNumber:Z,yearsPerRow:ae,monthsPerRow:z,timezone:$}=s,W=Ue(s,P3e),{value:oe,handleValueChange:X,timezone:K}=Om({name:"DateCalendar",timezone:$,value:l,defaultValue:c,onChange:f,valueManager:No}),{view:Y,setView:le,focusedView:ie,setFocusedView:re,goToNextView:se,setValueAndGoToNextView:ue}=Ov({view:k,views:P,openTo:T,onChange:X,onViewChange:a,autoFocus:o,focusedView:D,onFocusedViewChange:A}),{referenceDate:we,calendarState:Pe,changeFocusedDay:te,changeMonth:pe,handleChangeMonth:ge,isDateDisabled:Te,onMonthSwitchingAnimationEnd:Re}=b_e({value:oe,referenceDate:u,reduceAnimations:y,onMonthChange:m,minDate:R,maxDate:F,shouldDisableDate:S,disablePast:h,disableFuture:d,timezone:K}),Ie=E&&oe||R,he=E&&oe||F,Se=`${i}-grid-label`,Ce=ie!==null,$e=(O==null?void 0:O.calendarHeader)??S3e,ke=Pn({elementType:$e,externalSlotProps:G==null?void 0:G.calendarHeader,additionalProps:{views:P,view:Y,currentMonth:Pe.currentMonth,onViewChange:le,onMonthChange:(pt,It)=>ge({newMonth:pt,direction:It}),minDate:Ie,maxDate:he,disabled:E,disablePast:h,disableFuture:d,reduceAnimations:y,timezone:K,labelId:Se},ownerState:s}),me=Et(pt=>{const It=r.startOfMonth(pt),Gt=r.endOfMonth(pt),Jt=Te(pt)?Oy({utils:r,date:pt,minDate:r.isBefore(R,It)?It:R,maxDate:r.isAfter(F,Gt)?Gt:F,disablePast:h,disableFuture:d,isDateDisabled:Te,timezone:K}):pt;Jt?(ue(Jt,"finish"),m==null||m(It)):(se(),pe(It)),te(Jt,!0)}),ye=Et(pt=>{const It=r.startOfYear(pt),Gt=r.endOfYear(pt),Jt=Te(pt)?Oy({utils:r,date:pt,minDate:r.isBefore(R,It)?It:R,maxDate:r.isAfter(F,Gt)?Gt:F,disablePast:h,disableFuture:d,isDateDisabled:Te,timezone:K}):pt;Jt?(ue(Jt,"finish"),p==null||p(Jt)):(se(),pe(It)),te(Jt,!0)}),Ee=Et(pt=>X(pt&&R2(r,pt,oe??we),"finish",Y));b.useEffect(()=>{oe!=null&&r.isValid(oe)&&pe(oe)},[oe]);const We=s,je=_3e(We),et={disablePast:h,disableFuture:d,maxDate:F,minDate:R},Fe={disableHighlightToday:B,readOnly:I,disabled:E,timezone:K,gridLabelId:Se,slots:O,slotProps:G},He=b.useRef(Y);b.useEffect(()=>{He.current!==Y&&(ie===He.current&&re(Y,!0),He.current=Y)},[ie,re,Y]);const ot=b.useMemo(()=>[oe],[oe]);return C.jsxs(E3e,V({ref:n,className:Ae(je.root,_),ownerState:We},W,{children:[C.jsx($e,V({},ke,{slots:O,slotProps:G})),C.jsx(B3e,{reduceAnimations:y,className:je.viewTransitionContainer,transKey:Y,ownerState:We,children:C.jsxs("div",{children:[Y==="year"&&C.jsx(d3e,V({},et,Fe,{value:oe,onChange:ye,shouldDisableYear:v,hasFocus:Ce,onFocusedViewChange:pt=>re("year",pt),yearsPerRow:ae,referenceDate:we})),Y==="month"&&C.jsx(Z_e,V({},et,Fe,{hasFocus:Ce,className:_,value:oe,onChange:me,shouldDisableMonth:w,onFocusedViewChange:pt=>re("month",pt),monthsPerRow:z,referenceDate:we})),Y==="day"&&C.jsx(V_e,V({},Pe,et,Fe,{onMonthSwitchingAnimationEnd:Re,onFocusedDayChange:te,reduceAnimations:y,selectedDays:ot,onSelectedDaysChange:Ee,shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:v,hasFocus:Ce,onFocusedViewChange:pt=>re("day",pt),showDaysOutsideCurrentMonth:N,fixedWeekNumber:L,dayOfWeekFormatter:H,displayWeekNumber:Z,loading:j,renderLoading:J}))]})})]}))});function sj(t){return wt("MuiPickersToolbar",t)}xt("MuiPickersToolbar",["root","content"]);const I3e=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],A3e=t=>{const{classes:e,isLandscape:n}=t;return vt({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},sj,e)},R3e=be("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),L3e=be("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),oj=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:o,hidden:a,titleId:l}=r,c=Ue(r,I3e),u=r,d=A3e(u);return a?null:C.jsxs(R3e,V({ref:n,className:Ae(d.root,s),ownerState:u},c,{children:[C.jsx(Tr,{color:"text.secondary",variant:"overline",id:l,children:o}),C.jsx(L3e,{className:d.content,ownerState:u,children:i})]}))});function D3e(t){return wt("MuiDatePickerToolbar",t)}xt("MuiDatePickerToolbar",["root","title"]);const F3e=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],O3e=t=>{const{classes:e}=t;return vt({root:["root"],title:["title"]},D3e,e)},$3e=be(oj,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),H3e=be(Tr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),V3e=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:o,toolbarPlaceholder:a="",views:l,className:c}=r,u=Ue(r,F3e),d=fr(),h=Ao(),f=O3e(r),p=b.useMemo(()=>{if(!i)return a;const y=JN(d,{format:o,views:l},!0);return d.formatByString(i,y)},[i,o,a,d,l]),m=r;return C.jsx($3e,V({ref:n,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:Ae(f.root,c)},u,{children:C.jsx(H3e,{variant:"h4",align:s?"left":"center",ownerState:m,className:f.title,children:p})}))});function aj(t,e){const n=fr(),r=Dv(),i=ft({props:t,name:e}),s=b.useMemo(()=>{var o;return((o=i.localeText)==null?void 0:o.toolbarTitle)==null?i.localeText:V({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return V({},i,{localeText:s},SU({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:Yl(n,i.minDate,r.minDate),maxDate:Yl(n,i.maxDate,r.maxDate),slots:V({toolbar:V3e},i.slots)})}function z3e(t){return wt("MuiPickersPopper",t)}xt("MuiPickersPopper",["root","paper"]);const W3e=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],G3e=t=>{const{classes:e}=t;return vt({root:["root"],paper:["paper"]},z3e,e)},U3e=be(Ld,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),j3e=be(Uc,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function Y3e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function X3e(t,e){const n=b.useRef(!1),r=b.useRef(!1),i=b.useRef(null),s=b.useRef(!1);b.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const o=Et(l=>{if(!s.current)return;const c=r.current;r.current=!1;const u=fi(i.current);if(!i.current||"clientX"in l&&Y3e(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return b.useEffect(()=>{if(t){const l=fi(i.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",o),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",o),l.removeEventListener("touchmove",c)}}},[t,o]),b.useEffect(()=>{if(t){const l=fi(i.current);return l.addEventListener("click",o),()=>{l.removeEventListener("click",o),r.current=!1}}},[t,o]),[i,a,a]}const q3e=b.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:s,paperSlotProps:o,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=Ue(t,W3e),d=V({},i,{placement:r}),h=Pn({elementType:n,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return C.jsx(n,V({},u,h,{onClick:f=>{var p;l(f),(p=h.onClick)==null||p.call(h,f)},onTouchStart:f=>{var p;c(f),(p=h.onTouchStart)==null||p.call(h,f)},ownerState:d,children:s}))});function K3e(t){const e=ft({props:t,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:i=null,shouldRestoreFocus:s,onBlur:o,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:f}=e;b.useEffect(()=>{function N(L){l&&L.key==="Escape"&&a()}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[a,l]);const p=b.useRef(null);b.useEffect(()=>{c==="tooltip"||s&&!s()||(l?p.current=Bl(document):p.current&&p.current instanceof HTMLElement&&setTimeout(()=>{p.current instanceof HTMLElement&&p.current.focus()}))},[l,c,s]);const[m,y,S]=X3e(l,o??a),w=b.useRef(null),v=Qn(w,i),k=Qn(v,m),P=e,T=G3e(P),_=ij(),E=f??_,I=N=>{N.key==="Escape"&&(N.stopPropagation(),a())},R=(d==null?void 0:d.desktopTransition)??E?Rm:kb,F=(d==null?void 0:d.desktopTrapFocus)??wN,B=(d==null?void 0:d.desktopPaper)??j3e,D=(d==null?void 0:d.popper)??U3e,A=Pn({elementType:D,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:n,placement:u,onKeyDown:I},className:T.root,ownerState:e});return C.jsx(D,V({},A,{children:({TransitionProps:N,placement:L})=>C.jsx(F,V({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:C.jsx(R,V({},N,h==null?void 0:h.desktopTransition,{children:C.jsx(q3e,{PaperComponent:B,ownerState:P,popperPlacement:L,ref:k,onPaperClick:y,onPaperTouchStart:S,paperClasses:T.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const Q3e=({open:t,onOpen:e,onClose:n})=>{const r=b.useRef(typeof t=="boolean").current,[i,s]=b.useState(!1);b.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const o=b.useCallback(a=>{r||s(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:i,setIsOpen:o}},J3e=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i}=t,s=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:n(r.lastPublishedValue):!1},Z3e=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:s}=t,o=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?o?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},eMe=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},tMe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:i})=>{const{onAccept:s,onChange:o,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u}=t,{current:d}=b.useRef(l),{current:h}=b.useRef(a!==void 0),f=fr(),p=Gp(),{isOpen:m,setIsOpen:y}=Q3e(t),{timezone:S,value:w,handleValueChange:v}=ZN({timezone:u,value:a,defaultValue:d,onChange:o,valueManager:e}),[k,P]=b.useState(()=>{let ae;return w!==void 0?ae=w:d!==void 0?ae=d:ae=e.emptyValue,{draft:ae,lastPublishedValue:ae,lastCommittedValue:ae,lastControlledValue:w,hasBeenModifiedSinceMount:!1}});OU(V({},t,{value:k.draft,timezone:S}),i,e.isSameError,e.defaultErrorState);const T=Et(ae=>{const z={action:ae,dateState:k,hasChanged:Y=>!e.areValuesEqual(f,ae.value,Y),isControlled:h,closeOnSelect:c},$=J3e(z),W=Z3e(z),oe=eMe(z);P(Y=>V({},Y,{draft:ae.value,lastPublishedValue:$?ae.value:Y.lastPublishedValue,lastCommittedValue:W?ae.value:Y.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let X=null;const K=()=>(X||(X={validationError:ae.name==="setValueFromField"?ae.context.validationError:i({adapter:p,value:ae.value,props:V({},t,{value:ae.value,timezone:S})})},ae.name==="setValueFromShortcut"&&(X.shortcut=ae.shortcut)),X);$&&v(ae.value,K()),W&&s&&s(ae.value,K()),oe&&y(!1)});if(w!==void 0&&(k.lastControlledValue===void 0||!e.areValuesEqual(f,k.lastControlledValue,w))){const ae=e.areValuesEqual(f,k.draft,w);P(z=>V({},z,{lastControlledValue:w},ae?{}:{lastCommittedValue:w,lastPublishedValue:w,draft:w,hasBeenModifiedSinceMount:!0}))}const _=Et(()=>{T({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),E=Et(()=>{T({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),I=Et(()=>{T({value:k.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),R=Et(()=>{T({value:k.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),F=Et(()=>{T({value:e.getTodayValue(f,S,n),name:"setValueFromAction",pickerAction:"today"})}),B=Et(ae=>{ae.preventDefault(),y(!0)}),D=Et(ae=>{ae==null||ae.preventDefault(),y(!1)}),A=Et((ae,z="partial")=>T({name:"setValueFromView",value:ae,selectionState:z})),N=Et((ae,z,$)=>T({name:"setValueFromShortcut",value:ae,changeImportance:z,shortcut:$})),L=Et((ae,z)=>T({name:"setValueFromField",value:ae,context:z})),H={onClear:_,onAccept:E,onDismiss:I,onCancel:R,onSetToday:F,onOpen:B,onClose:D},O={value:k.draft,onChange:L},G=b.useMemo(()=>e.cleanValue(f,k.draft),[f,e,k.draft]),j={value:G,onChange:A,onClose:D,open:m},Z=V({},H,{value:G,onChange:A,onSelectShortcut:N,isValid:ae=>{const z=i({adapter:p,value:ae,props:V({},t,{value:ae,timezone:S})});return!e.hasError(z)}});return{open:m,fieldProps:O,viewProps:j,layoutProps:Z,actions:H}},nMe=["className","sx"],rMe=({props:t,propsFromPickerValue:e,additionalViewProps:n,autoFocusView:r,rendererInterceptor:i,fieldRef:s})=>{const{onChange:o,open:a,onClose:l}=e,{view:c,views:u,openTo:d,onViewChange:h,viewRenderers:f,timezone:p}=t,m=Ue(t,nMe),{view:y,setView:S,defaultView:w,focusedView:v,setFocusedView:k,setValueAndGoToNextView:P}=Ov({view:c,views:u,openTo:d,onChange:o,onViewChange:h,autoFocus:r}),{hasUIView:T,viewModeLookup:_}=b.useMemo(()=>u.reduce((A,N)=>{let L;return f[N]!=null?L="UI":L="field",A.viewModeLookup[N]=L,L==="UI"&&(A.hasUIView=!0),A},{hasUIView:!1,viewModeLookup:{}}),[f,u]),E=b.useMemo(()=>u.reduce((A,N)=>f[N]!=null&&_b(N)?A+1:A,0),[f,u]),I=_[y],R=Et(()=>I==="UI"),[F,B]=b.useState(I==="UI"?y:null);return F!==y&&_[y]==="UI"&&B(y),vi(()=>{I==="field"&&a&&(l(),setTimeout(()=>{var A,N;(A=s==null?void 0:s.current)==null||A.setSelectedSections(y),(N=s==null?void 0:s.current)==null||N.focusField(y)}))},[y]),vi(()=>{if(!a)return;let A=y;I==="field"&&F!=null&&(A=F),A!==w&&_[A]==="UI"&&_[w]==="UI"&&(A=w),A!==y&&S(A),k(A,!0)},[a]),{hasUIView:T,shouldRestoreFocus:R,layoutProps:{views:u,view:F,onViewChange:S},renderCurrentView:()=>{if(F==null)return null;const A=f[F];if(A==null)return null;const N=V({},m,n,e,{views:u,timezone:p,onChange:P,view:F,onViewChange:S,focusedView:v,onFocusedViewChange:k,showViewSwitcher:E>1,timeViewsCount:E});return i?i(f,F,N):A(N)}}};function RO(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const iMe=(t,e)=>{const[n,r]=b.useState(RO);return vi(()=>{const s=()=>{r(RO())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),j0(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},sMe=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:i}=t,s=iMe(n.views,i),o=Vr();return{layoutProps:V({},n,e,{isLandscape:s,isRtl:o,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}},lj=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};lj(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const cj=({props:t,valueManager:e,valueType:n,wrapperVariant:r,additionalViewProps:i,validator:s,autoFocusView:o,rendererInterceptor:a,fieldRef:l})=>{const c=tMe({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),u=rMe({props:t,additionalViewProps:i,autoFocusView:o,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=sMe({props:t,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function uj(t){return wt("MuiPickersLayout",t)}const Bf=xt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),oMe=["onAccept","onClear","onCancel","onSetToday","actions"];function aMe(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:i,actions:s}=t,o=Ue(t,oMe),a=Ao();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return C.jsx(ni,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return C.jsx(ni,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return C.jsx(ni,{onClick:e,children:a.okButtonLabel},c);case"today":return C.jsx(ni,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return C.jsx(CG,V({},o,{children:l}))}const lMe=["items","changeImportance","isLandscape","onChange","isValid"],cMe=["getValue"];function uMe(t){const{items:e,changeImportance:n="accept",onChange:r,isValid:i}=t,s=Ue(t,lMe);if(e==null||e.length===0)return null;const o=e.map(a=>{let{getValue:l}=a,c=Ue(a,cMe);const u=l({isValid:i});return V({},c,{label:c.label,onClick:()=>{r(u,n,c)},disabled:!i(u)})});return C.jsx(Av,V({dense:!0,sx:[{maxHeight:qN,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:o.map(a=>C.jsx(DG,{children:C.jsx(EN,V({},a))},a.id??a.label))}))}function dMe(t){return t.view!==null}const hMe=t=>{const{classes:e,isLandscape:n}=t;return vt({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},uj,e)},fMe=t=>{const{wrapperVariant:e,onAccept:n,onClear:r,onCancel:i,onSetToday:s,view:o,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:f,disabled:p,readOnly:m,children:y,slots:S,slotProps:w}=t,v=hMe(t),k=(S==null?void 0:S.actionBar)??aMe,P=Pn({elementType:k,externalSlotProps:w==null?void 0:w.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:i,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"]},className:v.actionBar,ownerState:V({},t,{wrapperVariant:e})}),T=C.jsx(k,V({},P)),_=S==null?void 0:S.toolbar,E=Pn({elementType:_,externalSlotProps:w==null?void 0:w.toolbar,additionalProps:{isLandscape:f,onChange:u,value:c,view:o,onViewChange:l,views:a,disabled:p,readOnly:m},className:v.toolbar,ownerState:V({},t,{wrapperVariant:e})}),I=dMe(E)&&_?C.jsx(_,V({},E)):null,R=y,F=S==null?void 0:S.tabs,B=o&&F?C.jsx(F,V({view:o,onViewChange:l,className:v.tabs},w==null?void 0:w.tabs)):null,D=(S==null?void 0:S.shortcuts)??uMe,A=Pn({elementType:D,externalSlotProps:w==null?void 0:w.shortcuts,additionalProps:{isValid:h,isLandscape:f,onChange:d},className:v.shortcuts,ownerState:{isValid:h,isLandscape:f,onChange:d,wrapperVariant:e}}),N=o&&D?C.jsx(D,V({},A)):null;return{toolbar:I,content:R,tabs:B,actionBar:T,shortcuts:N}},pMe=t=>{const{isLandscape:e,classes:n}=t;return vt({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},uj,n)},gMe=be("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Bf.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Bf.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Bf.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Bf.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Bf.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Bf.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Bf.shortcuts}`]:{gridColumn:3}}}]}),mMe=be("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),dj=function(e){const n=ft({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:s,actionBar:o,shortcuts:a}=fMe(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=n,f=pMe(n);return C.jsxs(gMe,{ref:d,sx:l,className:Ae(c,f.root),ownerState:n,children:[u?a:r,u?r:a,C.jsx(mMe,{className:f.contentWrapper,children:h==="desktop"?C.jsxs(b.Fragment,{children:[i,s]}):C.jsxs(b.Fragment,{children:[s,i]})}),o]})},yMe=["props","getOpenDialogAriaText"],bMe=["ownerState"],vMe=["ownerState"],hj=t=>{var re;let{props:e,getOpenDialogAriaText:n}=t,r=Ue(t,yMe);const{slots:i,slotProps:s,className:o,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:p,label:m,inputRef:y,readOnly:S,disabled:w,autoFocus:v,localeText:k,reduceAnimations:P}=e,T=fr(),_=b.useRef(null),E=b.useRef(null),I=Bo(),R=((re=s==null?void 0:s.toolbar)==null?void 0:re.hidden)??!1,{open:F,actions:B,hasUIView:D,layoutProps:A,renderCurrentView:N,shouldRestoreFocus:L,fieldProps:H}=cj(V({},r,{props:e,fieldRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),O=i.inputAdornment??RN,G=Pn({elementType:O,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),j=Ue(G,bMe),J=i.openPickerButton??Ei,Z=Pn({elementType:J,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:w||S,onClick:F?B.onClose:B.onOpen,"aria-label":n(H.value,T),edge:j.position},ownerState:e}),ae=Ue(Z,vMe),z=i.openPickerIcon,$=i.field,W=Pn({elementType:$,externalSlotProps:s==null?void 0:s.field,additionalProps:V({},H,R&&{id:I},{readOnly:S,disabled:w,className:o,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:m,name:p,autoFocus:v&&!e.open,focused:F?!0:void 0},y?{inputRef:y}:{}),ownerState:e});D&&(W.InputProps=V({},W.InputProps,{ref:_},!e.disableOpenPicker&&{[`${j.position}Adornment`]:C.jsx(O,V({},j,{children:C.jsx(J,V({},ae,{children:C.jsx(z,V({},s==null?void 0:s.openPickerIcon))}))}))}));const oe=V({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},W.slots),X=i.layout??dj;let K=I;R&&(m?K=`${I}-label`:K=void 0);const Y=V({},s,{toolbar:V({},s==null?void 0:s.toolbar,{titleId:I}),popper:V({"aria-labelledby":K},s==null?void 0:s.popper)}),le=Qn(E,W.unstableFieldRef);return{renderPicker:()=>C.jsxs(YN,{localeText:k,children:[C.jsx($,V({},W,{slots:oe,slotProps:Y,unstableFieldRef:le})),C.jsx(K3e,V({role:"dialog",placement:"bottom-start",anchorEl:_.current},B,{open:F,slots:i,slotProps:Y,shouldRestoreFocus:L,reduceAnimations:P,children:C.jsx(X,V({},A,Y==null?void 0:Y.layout,{slots:i,slotProps:Y,children:N()}))}))]})}},Ig=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:i,value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:p,shouldDisableDate:m,shouldDisableMonth:y,shouldDisableYear:S,reduceAnimations:w,onMonthChange:v,monthsPerRow:k,onYearChange:P,yearsPerRow:T,slots:_,slotProps:E,loading:I,renderLoading:R,disableHighlightToday:F,readOnly:B,disabled:D,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:N,sx:L,autoFocus:H,fixedWeekNumber:O,displayWeekNumber:G,timezone:j})=>C.jsx(N3e,{view:t,onViewChange:e,views:n.filter(xO),focusedView:r&&xO(r)?r:null,onFocusedViewChange:i,value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:p,shouldDisableDate:m,shouldDisableMonth:y,shouldDisableYear:S,reduceAnimations:w,onMonthChange:v,monthsPerRow:k,onYearChange:P,yearsPerRow:T,slots:_,slotProps:E,loading:I,renderLoading:R,disableHighlightToday:F,readOnly:B,disabled:D,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:N,sx:L,autoFocus:H,fixedWeekNumber:O,displayWeekNumber:G,timezone:j}),fj=b.forwardRef(function(e,n){var c,u;const r=Ao(),i=fr(),s=aj(e,"MuiDesktopDatePicker"),o=V({day:Ig,month:Ig,year:Ig},s.viewRenderers),a=V({},s,{viewRenderers:o,format:JN(i,s,!1),yearsPerRow:s.yearsPerRow??4,slots:V({openPickerIcon:xke,field:ZU},s.slots),slotProps:V({},s.slotProps,{field:d=>{var h;return V({},Ev((h=s.slotProps)==null?void 0:h.field,d),iT(s),{ref:n})},toolbar:V({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=hj({props:a,valueManager:No,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:rT});return l()});fj.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,dayOfWeekFormatter:q.func,defaultValue:q.object,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,enableAccessibleFieldDOMStructure:q.any,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Tk,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.object,minDate:q.object,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.object,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.object,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const wMe=be(Iv)({[`& .${Dy.container}`]:{outline:0},[`& .${Dy.paper}`]:{outline:0,minWidth:eT}}),xMe=be(kG)({"&:first-of-type":{padding:0}});function SMe(t){const{children:e,onDismiss:n,open:r,slots:i,slotProps:s}=t,o=(i==null?void 0:i.dialog)??wMe,a=(i==null?void 0:i.mobileTransition)??Rm;return C.jsx(o,V({open:r,onClose:n},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:C.jsx(xMe,{children:e})}))}const CMe=["props","getOpenDialogAriaText"],pj=t=>{var J;let{props:e,getOpenDialogAriaText:n}=t,r=Ue(t,CMe);const{slots:i,slotProps:s,className:o,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:p,label:m,inputRef:y,readOnly:S,disabled:w,localeText:v}=e,k=fr(),P=b.useRef(null),T=Bo(),_=((J=s==null?void 0:s.toolbar)==null?void 0:J.hidden)??!1,{open:E,actions:I,layoutProps:R,renderCurrentView:F,fieldProps:B}=cj(V({},r,{props:e,fieldRef:P,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),D=i.field,A=Pn({elementType:D,externalSlotProps:s==null?void 0:s.field,additionalProps:V({},B,_&&{id:T},!(w||S)&&{onClick:I.onOpen,onKeyDown:bPe(I.onOpen)},{readOnly:S??!0,disabled:w,className:o,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:m,name:p},y?{inputRef:y}:{}),ownerState:e});A.inputProps=V({},A.inputProps,{"aria-label":n(B.value,k)});const N=V({textField:i.textField},A.slots),L=i.layout??dj;let H=T;_&&(m?H=`${T}-label`:H=void 0);const O=V({},s,{toolbar:V({},s==null?void 0:s.toolbar,{titleId:T}),mobilePaper:V({"aria-labelledby":H},s==null?void 0:s.mobilePaper)}),G=Qn(P,A.unstableFieldRef);return{renderPicker:()=>C.jsxs(YN,{localeText:v,children:[C.jsx(D,V({},A,{slots:N,slotProps:O,unstableFieldRef:G})),C.jsx(SMe,V({},I,{open:E,slots:i,slotProps:O,children:C.jsx(L,V({},R,O==null?void 0:O.layout,{slots:i,slotProps:O,children:F()}))}))]})}},gj=b.forwardRef(function(e,n){var c,u;const r=Ao(),i=fr(),s=aj(e,"MuiMobileDatePicker"),o=V({day:Ig,month:Ig,year:Ig},s.viewRenderers),a=V({},s,{viewRenderers:o,format:JN(i,s,!1),slots:V({field:ZU},s.slots),slotProps:V({},s.slotProps,{field:d=>{var h;return V({},Ev((h=s.slotProps)==null?void 0:h.field,d),iT(s),{ref:n})},toolbar:V({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=pj({props:a,valueManager:No,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:rT});return l()});gj.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,dayOfWeekFormatter:q.func,defaultValue:q.object,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,enableAccessibleFieldDOMStructure:q.any,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Tk,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.object,minDate:q.object,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.object,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.object,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const kMe=["desktopModeMediaQuery"],TMe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=$U}=r,s=Ue(r,kMe);return iN(i,{defaultMatches:!0})?C.jsx(fj,V({ref:n},s)):C.jsx(gj,V({ref:n},s))});function PMe(t){return wt("MuiPickersToolbarText",t)}const LO=xt("MuiPickersToolbarText",["root","selected"]),_Me=["className","selected","value"],MMe=t=>{const{classes:e,selected:n}=t;return vt({root:["root",n&&"selected"]},PMe,e)},EMe=be(Tr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${LO.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${LO.selected}`]:{color:(t.vars||t).palette.text.primary}})),mj=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersToolbarText"}),{className:i,value:s}=r,o=Ue(r,_Me),a=MMe(r);return C.jsx(EMe,V({ref:n,className:Ae(i,a.root),component:"span"},o,{children:s}))}),BMe=["align","className","selected","typographyClassName","value","variant","width"],NMe=t=>{const{classes:e}=t;return vt({root:["root"]},sj,e)},IMe=be(ni,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),V1=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiPickersToolbarButton"}),{align:i,className:s,selected:o,typographyClassName:a,value:l,variant:c,width:u}=r,d=Ue(r,BMe),h=NMe(r);return C.jsx(IMe,V({variant:"text",ref:n,className:Ae(s,h.root)},u?{sx:{width:u}}:{},d,{children:C.jsx(mj,{align:i,className:a,variant:c,value:l,selected:o})}))});function AMe(t){return wt("MuiTimePickerToolbar",t)}const $y=xt("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),RMe=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],LMe=t=>{const{isLandscape:e,classes:n,isRtl:r}=t;return vt({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",r&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},AMe,n)},DMe=be(oj,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),FMe=be(mj,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),OMe=be("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${$y.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${$y.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),$Me=be("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${$y.ampmLabel}`]:e.ampmLabel},{[`&.${$y.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${$y.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function HMe(t){const e=ft({props:t,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:i,isLandscape:s,onChange:o,view:a,onViewChange:l,views:c,disabled:u,readOnly:d,className:h}=e,f=Ue(e,RMe),p=fr(),m=Ao(),y=Vr(),S=!!(n&&!r&&c.includes("hours")),{meridiemMode:w,handleMeridiemChange:v}=XN(i,n,o),k=E=>n?p.format(E,"hours12h"):p.format(E,"hours24h"),P=V({},e,{isRtl:y}),T=LMe(P),_=C.jsx(FMe,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:T.separator});return C.jsxs(DMe,V({landscapeDirection:"row",toolbarTitle:m.timePickerToolbarTitle,isLandscape:s,ownerState:P,className:Ae(T.root,h)},f,{children:[C.jsxs(OMe,{className:T.hourMinuteLabel,ownerState:P,children:[j0(c,"hours")&&C.jsx(V1,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:i?k(i):"--"}),j0(c,["hours","minutes"])&&_,j0(c,"minutes")&&C.jsx(V1,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:i?p.format(i,"minutes"):"--"}),j0(c,["minutes","seconds"])&&_,j0(c,"seconds")&&C.jsx(V1,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:i?p.format(i,"seconds"):"--"})]}),S&&C.jsxs($Me,{className:T.ampmSelection,ownerState:P,children:[C.jsx(V1,{disableRipple:!0,variant:"subtitle2",selected:w==="am",typographyClassName:T.ampmLabel,value:Th(p,"am"),onClick:d?void 0:()=>v("am"),disabled:u}),C.jsx(V1,{disableRipple:!0,variant:"subtitle2",selected:w==="pm",typographyClassName:T.ampmLabel,value:Th(p,"pm"),onClick:d?void 0:()=>v("pm"),disabled:u})]})]}))}function yj(t,e){var o;const n=fr(),r=ft({props:t,name:e}),i=r.ampm??n.is12HourCycleInCurrentLocale(),s=b.useMemo(()=>{var a;return((a=r.localeText)==null?void 0:a.toolbarTitle)==null?r.localeText:V({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle})},[r.localeText]);return V({},r,{ampm:i,localeText:s},SU({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:r.disableFuture??!1,disablePast:r.disablePast??!1,slots:V({toolbar:HMe},r.slots),slotProps:V({},r.slotProps,{toolbar:V({ampm:i,ampmInClock:r.ampmInClock},(o=r.slotProps)==null?void 0:o.toolbar)})})}const s3=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:i,value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,ampmInClock:w,slots:v,slotProps:k,readOnly:P,disabled:T,sx:_,autoFocus:E,showViewSwitcher:I,disableIgnoringDatePartForTimeValidation:R,timezone:F})=>C.jsx(DTe,{view:t,onViewChange:e,focusedView:n&&_b(n)?n:null,onFocusedViewChange:r,views:i.filter(_b),value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,ampmInClock:w,slots:v,slotProps:k,readOnly:P,disabled:T,sx:_,autoFocus:E,showViewSwitcher:I,disableIgnoringDatePartForTimeValidation:R,timezone:F}),VMe=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:i,value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,slots:w,slotProps:v,readOnly:k,disabled:P,sx:T,autoFocus:_,disableIgnoringDatePartForTimeValidation:E,timeSteps:I,skipDisabled:R,timezone:F})=>C.jsx(WTe,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:i.filter(_b),value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,slots:w,slotProps:v,readOnly:k,disabled:P,sx:T,autoFocus:_,disableIgnoringDatePartForTimeValidation:E,timeStep:I==null?void 0:I.minutes,skipDisabled:R,timezone:F}),DO=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:i,value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,slots:w,slotProps:v,readOnly:k,disabled:P,sx:T,autoFocus:_,disableIgnoringDatePartForTimeValidation:E,timeSteps:I,skipDisabled:R,timezone:F})=>C.jsx(tPe,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:i.filter(_b),value:s,defaultValue:o,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:f,maxTime:p,shouldDisableTime:m,minutesStep:y,ampm:S,slots:w,slotProps:v,readOnly:k,disabled:P,sx:T,autoFocus:_,disableIgnoringDatePartForTimeValidation:E,timeSteps:I,skipDisabled:R,timezone:F}),zMe=(t,e,n)=>n?e.filter(r=>!Nke(r)||r==="hours"):t?[...e,"meridiem"]:e,WMe=(t,e)=>24*60/((t.hours??1)*(t.minutes??5))<=e;function GMe({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:n,views:r}){const i=t??24,s=V({hours:1,minutes:5,seconds:5},n),o=WMe(s,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:s,shouldRenderTimeInASingleColumn:o,views:zMe(e,r,o)}}const bj=b.forwardRef(function(e,n){var S,w,v,k;const r=Ao(),i=fr(),s=yj(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:o,views:a,timeSteps:l}=GMe(s),c=o?VMe:DO,u=V({hours:c,minutes:c,seconds:c,meridiem:c},s.viewRenderers),d=s.ampmInClock??!0,h=o?[]:["accept"],p=((S=u.hours)==null?void 0:S.name)===DO.name?a:a.filter(P=>P!=="meridiem"),m=V({},s,{ampmInClock:d,timeSteps:l,viewRenderers:u,format:kU(i,s),views:o?["hours"]:p,slots:V({field:ej,openPickerIcon:Ske},s.slots),slotProps:V({},s.slotProps,{field:P=>{var T;return V({},Ev((T=s.slotProps)==null?void 0:T.field,P),iT(s),{ref:n})},toolbar:V({hidden:!0,ampmInClock:d},(w=s.slotProps)==null?void 0:w.toolbar),actionBar:V({actions:h},(v=s.slotProps)==null?void 0:v.actionBar)})}),{renderPicker:y}=hj({props:m,valueManager:No,valueType:"time",getOpenDialogAriaText:((k=m.localeText)==null?void 0:k.openTimePickerDialogue)??r.openTimePickerDialogue,validator:sI});return y()});bj.propTypes={ampm:q.bool,ampmInClock:q.bool,autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,defaultValue:q.object,disabled:q.bool,disableFuture:q.bool,disableIgnoringDatePartForTimeValidation:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,enableAccessibleFieldDOMStructure:q.any,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Tk,label:q.node,localeText:q.object,maxTime:q.object,minTime:q.object,minutesStep:q.number,name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,open:q.bool,openTo:q.oneOf(["hours","meridiem","minutes","seconds"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.object,selectedSections:q.oneOfType([q.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number]),shouldDisableTime:q.func,skipDisabled:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),thresholdToRenderTimeInASingleColumn:q.number,timeSteps:q.shape({hours:q.number,minutes:q.number,seconds:q.number}),timezone:q.string,value:q.object,view:q.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:q.shape({hours:q.func,meridiem:q.func,minutes:q.func,seconds:q.func}),views:q.arrayOf(q.oneOf(["hours","minutes","seconds"]).isRequired)};const vj=b.forwardRef(function(e,n){var u,d;const r=Ao(),i=fr(),s=yj(e,"MuiMobileTimePicker"),o=V({hours:s3,minutes:s3,seconds:s3},s.viewRenderers),a=s.ampmInClock??!1,l=V({},s,{ampmInClock:a,viewRenderers:o,format:kU(i,s),slots:V({field:ej},s.slots),slotProps:V({},s.slotProps,{field:h=>{var f;return V({},Ev((f=s.slotProps)==null?void 0:f.field,h),iT(s),{ref:n})},toolbar:V({hidden:!1,ampmInClock:a},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:c}=pj({props:l,valueManager:No,valueType:"time",getOpenDialogAriaText:((d=l.localeText)==null?void 0:d.openTimePickerDialogue)??r.openTimePickerDialogue,validator:sI});return c()});vj.propTypes={ampm:q.bool,ampmInClock:q.bool,autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,defaultValue:q.object,disabled:q.bool,disableFuture:q.bool,disableIgnoringDatePartForTimeValidation:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,enableAccessibleFieldDOMStructure:q.any,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Tk,label:q.node,localeText:q.object,maxTime:q.object,minTime:q.object,minutesStep:q.number,name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,open:q.bool,openTo:q.oneOf(["hours","minutes","seconds"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.object,selectedSections:q.oneOfType([q.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number]),shouldDisableTime:q.func,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.object,view:q.oneOf(["hours","minutes","seconds"]),viewRenderers:q.shape({hours:q.func,minutes:q.func,seconds:q.func}),views:q.arrayOf(q.oneOf(["hours","minutes","seconds"]).isRequired)};const UMe=["desktopModeMediaQuery"],FO=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=$U}=r,s=Ue(r,UMe);return iN(i,{defaultMatches:!0})?C.jsx(bj,V({ref:n},s)):C.jsx(vj,V({ref:n},s))});var $v=t=>t.type==="checkbox",yg=t=>t instanceof Date,Wo=t=>t==null;const wj=t=>typeof t=="object";var $s=t=>!Wo(t)&&!Array.isArray(t)&&wj(t)&&!yg(t),xj=t=>$s(t)&&t.target?$v(t.target)?t.target.checked:t.target.value:t,jMe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sj=(t,e)=>t.has(jMe(e)),YMe=t=>{const e=t.constructor&&t.constructor.prototype;return $s(e)&&e.hasOwnProperty("isPrototypeOf")},oI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sa(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(oI&&(t instanceof Blob||t instanceof FileList))&&(n||$s(t)))if(e=n?[]:{},!n&&!YMe(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sa(t[r]));else return t;return e}var Hv=t=>Array.isArray(t)?t.filter(Boolean):[],Xi=t=>t===void 0,Rt=(t,e,n)=>{if(!e||!$s(t))return n;const r=Hv(e.split(/[,[\].]+?/)).reduce((i,s)=>Wo(i)?i:i[s],t);return Xi(r)||r===t?Xi(t[e])?n:t[e]:r},du=t=>typeof t=="boolean",aI=t=>/^\w*$/.test(t),Cj=t=>Hv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oi=(t,e,n)=>{let r=-1;const i=aI(e)?[e]:Cj(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=$s(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const L2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XMe=cn.createContext(null),lI=()=>cn.useContext(XMe);var kj=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Sc.all&&(e._proxyFormState[o]=!r||Sc.all),n&&(n[o]=!0),t[o]}});return i},Fa=t=>$s(t)&&!Object.keys(t).length,Tj=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Fa(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Sc.all))},TS=t=>Array.isArray(t)?t:[t],Pj=(t,e,n)=>!t||!e||t===e||TS(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function cI(t){const e=cn.useRef(t);e.current=t,cn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function qMe(t){const e=lI(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=cn.useState(n._formState),l=cn.useRef(!0),c=cn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=cn.useRef(i);return u.current=i,cI({disabled:r,next:d=>l.current&&Pj(u.current,d.name,s)&&Tj(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),cn.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),kj(o,n,c.current,!1)}var pu=t=>typeof t=="string",_j=(t,e,n,r,i)=>pu(t)?(r&&e.watch.add(t),Rt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Rt(n,s))):(r&&(e.watchAll=!0),n);function KMe(t){const e=lI(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=cn.useRef(r);a.current=r,cI({disabled:s,subject:n._subjects.values,next:u=>{Pj(a.current,u.name,o)&&c(sa(_j(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=cn.useState(n._getWatch(r,i));return cn.useEffect(()=>n._removeUnmounted()),l}function QMe(t){const e=lI(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=Sj(i._names.array,n),a=KMe({control:i,name:n,defaultValue:Rt(i._formValues,n,Rt(i._defaultValues,n,t.defaultValue)),exact:!0}),l=qMe({control:i,name:n}),c=cn.useRef(i.register(n,{...t.rules,value:a,...du(t.disabled)?{disabled:t.disabled}:{}}));return cn.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(h,f)=>{const p=Rt(i._fields,h);p&&p._f&&(p._f.mount=f)};if(d(n,!0),u){const h=sa(Rt(i._options.defaultValues,n));oi(i._defaultValues,n,h),Xi(Rt(i._formValues,n))&&oi(i._formValues,n,h)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),cn.useEffect(()=>{Rt(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Rt(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...du(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:cn.useCallback(u=>c.current.onChange({target:{value:xj(u),name:n},type:L2.CHANGE}),[n]),onBlur:cn.useCallback(()=>c.current.onBlur({target:{value:Rt(i._formValues,n),name:n},type:L2.BLUR}),[n,i]),ref:u=>{const d=Rt(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Rt(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Rt(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Rt(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Rt(l.validatingFields,n)},error:{enumerable:!0,get:()=>Rt(l.errors,n)}})}}const PS=t=>t.render(QMe(t));var JMe=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},OO=t=>({isOnSubmit:!t||t===Sc.onSubmit,isOnBlur:t===Sc.onBlur,isOnChange:t===Sc.onChange,isOnAll:t===Sc.all,isOnTouch:t===Sc.onTouched}),$O=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Hy=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Rt(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Hy(a,e)}else $s(a)&&Hy(a,e)}}};var ZMe=(t,e,n)=>{const r=Hv(Rt(t,n));return oi(r,"root",e[n]),oi(t,n,r),t},uI=t=>t.type==="file",Ph=t=>typeof t=="function",D2=t=>{if(!oI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_S=t=>pu(t),dI=t=>t.type==="radio",F2=t=>t instanceof RegExp;const HO={value:!1,isValid:!1},VO={value:!0,isValid:!0};var Mj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xi(t[0].attributes.value)?Xi(t[0].value)||t[0].value===""?VO:{value:t[0].value,isValid:!0}:VO:HO}return HO};const zO={isValid:!1,value:null};var Ej=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,zO):zO;function WO(t,e,n="validate"){if(_S(t)||Array.isArray(t)&&t.every(_S)||du(t)&&!t)return{type:n,message:_S(t)?t:"",ref:e}}var T0=t=>$s(t)&&!F2(t)?t:{value:t,message:""},GO=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:y,disabled:S}=t._f,w=Rt(e,p);if(!y||S)return{};const v=o?o[0]:s,k=B=>{r&&v.reportValidity&&(v.setCustomValidity(du(B)?"":B||""),v.reportValidity())},P={},T=dI(s),_=$v(s),E=T||_,I=(m||uI(s))&&Xi(s.value)&&Xi(w)||D2(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,R=JMe.bind(null,p,n,P),F=(B,D,A,N=zu.maxLength,L=zu.minLength)=>{const H=B?D:A;P[p]={type:B?N:L,message:H,ref:s,...R(B?N:L,H)}};if(i?!Array.isArray(w)||!w.length:a&&(!E&&(I||Wo(w))||du(w)&&!w||_&&!Mj(o).isValid||T&&!Ej(o).isValid)){const{value:B,message:D}=_S(a)?{value:!!a,message:a}:T0(a);if(B&&(P[p]={type:zu.required,message:D,ref:v,...R(zu.required,D)},!n))return k(D),P}if(!I&&(!Wo(u)||!Wo(d))){let B,D;const A=T0(d),N=T0(u);if(!Wo(w)&&!isNaN(w)){const L=s.valueAsNumber||w&&+w;Wo(A.value)||(B=L>A.value),Wo(N.value)||(D=L<N.value)}else{const L=s.valueAsDate||new Date(w),H=j=>new Date(new Date().toDateString()+" "+j),O=s.type=="time",G=s.type=="week";pu(A.value)&&w&&(B=O?H(w)>H(A.value):G?w>A.value:L>new Date(A.value)),pu(N.value)&&w&&(D=O?H(w)<H(N.value):G?w<N.value:L<new Date(N.value))}if((B||D)&&(F(!!B,A.message,N.message,zu.max,zu.min),!n))return k(P[p].message),P}if((l||c)&&!I&&(pu(w)||i&&Array.isArray(w))){const B=T0(l),D=T0(c),A=!Wo(B.value)&&w.length>+B.value,N=!Wo(D.value)&&w.length<+D.value;if((A||N)&&(F(A,B.message,D.message),!n))return k(P[p].message),P}if(h&&!I&&pu(w)){const{value:B,message:D}=T0(h);if(F2(B)&&!w.match(B)&&(P[p]={type:zu.pattern,message:D,ref:s,...R(zu.pattern,D)},!n))return k(D),P}if(f){if(Ph(f)){const B=await f(w,e),D=WO(B,v);if(D&&(P[p]={...D,...R(zu.validate,D.message)},!n))return k(D.message),P}else if($s(f)){let B={};for(const D in f){if(!Fa(B)&&!n)break;const A=WO(await f[D](w,e),v,D);A&&(B={...A,...R(D,A.message)},k(A.message),n&&(P[p]=B))}if(!Fa(B)&&(P[p]={ref:v,...B},!n))return P}}return k(!0),P};function eEe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xi(t)?r++:t[e[r++]];return t}function tEe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xi(t[e]))return!1;return!0}function Is(t,e){const n=Array.isArray(e)?e:aI(e)?[e]:Cj(e),r=n.length===1?t:eEe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&($s(r)&&Fa(r)||Array.isArray(r)&&tEe(r))&&Is(t,n.slice(0,-1)),t}var o3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},O2=t=>Wo(t)||!wj(t);function Qf(t,e){if(O2(t)||O2(e))return t===e;if(yg(t)&&yg(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(yg(s)&&yg(o)||$s(s)&&$s(o)||Array.isArray(s)&&Array.isArray(o)?!Qf(s,o):s!==o)return!1}}return!0}var Bj=t=>t.type==="select-multiple",nEe=t=>dI(t)||$v(t),a3=t=>D2(t)&&t.isConnected,Nj=t=>{for(const e in t)if(Ph(t[e]))return!0;return!1};function $2(t,e={}){const n=Array.isArray(t);if($s(t)||n)for(const r in t)Array.isArray(t[r])||$s(t[r])&&!Nj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},$2(t[r],e[r])):Wo(t[r])||(e[r]=!0);return e}function Ij(t,e,n){const r=Array.isArray(t);if($s(t)||r)for(const i in t)Array.isArray(t[i])||$s(t[i])&&!Nj(t[i])?Xi(e)||O2(n[i])?n[i]=Array.isArray(t[i])?$2(t[i],[]):{...$2(t[i])}:Ij(t[i],Wo(e)?{}:e[i],n[i]):n[i]=!Qf(t[i],e[i]);return n}var Rx=(t,e)=>Ij(t,e,$2(e)),Aj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xi(t)?t:e?t===""?NaN:t&&+t:n&&pu(t)?new Date(t):r?r(t):t;function l3(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return uI(e)?e.files:dI(e)?Ej(t.refs).value:Bj(e)?[...e.selectedOptions].map(({value:n})=>n):$v(e)?Mj(t.refs).value:Aj(Xi(e.value)?t.ref.value:e.value,t)}var rEe=(t,e,n,r)=>{const i={};for(const s of t){const o=Rt(e,s);o&&oi(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},z1=t=>Xi(t)?t:F2(t)?t.source:$s(t)?F2(t.value)?t.value.source:t.value:t,iEe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function UO(t,e,n){const r=Rt(t,n);if(r||aI(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Rt(e,s),a=Rt(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var sEe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,oEe=(t,e)=>!Hv(Rt(t,e)).length&&Is(t,e);const aEe={mode:Sc.onSubmit,reValidateMode:Sc.onChange,shouldFocusError:!0};function lEe(t={}){let e={...aEe,...t},n={submitCount:0,isDirty:!1,isLoading:Ph(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=$s(e.defaultValues)||$s(e.values)?sa(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:sa(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:o3(),array:o3(),state:o3()},h=OO(e.mode),f=OO(e.reValidateMode),p=e.criteriaMode===Sc.all,m=te=>pe=>{clearTimeout(c),c=setTimeout(te,pe)},y=async te=>{if(u.isValid||te){const pe=e.resolver?Fa((await E()).errors):await R(r,!0);pe!==n.isValid&&d.state.next({isValid:pe})}},S=(te,pe)=>{(u.isValidating||u.validatingFields)&&((te||Array.from(a.mount)).forEach(ge=>{ge&&(pe?oi(n.validatingFields,ge,pe):Is(n.validatingFields,ge))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Fa(n.validatingFields)}))},w=(te,pe=[],ge,Te,Re=!0,Ie=!0)=>{if(Te&&ge){if(o.action=!0,Ie&&Array.isArray(Rt(r,te))){const he=ge(Rt(r,te),Te.argA,Te.argB);Re&&oi(r,te,he)}if(Ie&&Array.isArray(Rt(n.errors,te))){const he=ge(Rt(n.errors,te),Te.argA,Te.argB);Re&&oi(n.errors,te,he),oEe(n.errors,te)}if(u.touchedFields&&Ie&&Array.isArray(Rt(n.touchedFields,te))){const he=ge(Rt(n.touchedFields,te),Te.argA,Te.argB);Re&&oi(n.touchedFields,te,he)}u.dirtyFields&&(n.dirtyFields=Rx(i,s)),d.state.next({name:te,isDirty:B(te,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else oi(s,te,pe)},v=(te,pe)=>{oi(n.errors,te,pe),d.state.next({errors:n.errors})},k=te=>{n.errors=te,d.state.next({errors:n.errors,isValid:!1})},P=(te,pe,ge,Te)=>{const Re=Rt(r,te);if(Re){const Ie=Rt(s,te,Xi(ge)?Rt(i,te):ge);Xi(Ie)||Te&&Te.defaultChecked||pe?oi(s,te,pe?Ie:l3(Re._f)):N(te,Ie),o.mount&&y()}},T=(te,pe,ge,Te,Re)=>{let Ie=!1,he=!1;const Se={name:te},Ce=!!(Rt(r,te)&&Rt(r,te)._f&&Rt(r,te)._f.disabled);if(!ge||Te){u.isDirty&&(he=n.isDirty,n.isDirty=Se.isDirty=B(),Ie=he!==Se.isDirty);const $e=Ce||Qf(Rt(i,te),pe);he=!!(!Ce&&Rt(n.dirtyFields,te)),$e||Ce?Is(n.dirtyFields,te):oi(n.dirtyFields,te,!0),Se.dirtyFields=n.dirtyFields,Ie=Ie||u.dirtyFields&&he!==!$e}if(ge){const $e=Rt(n.touchedFields,te);$e||(oi(n.touchedFields,te,ge),Se.touchedFields=n.touchedFields,Ie=Ie||u.touchedFields&&$e!==ge)}return Ie&&Re&&d.state.next(Se),Ie?Se:{}},_=(te,pe,ge,Te)=>{const Re=Rt(n.errors,te),Ie=u.isValid&&du(pe)&&n.isValid!==pe;if(t.delayError&&ge?(l=m(()=>v(te,ge)),l(t.delayError)):(clearTimeout(c),l=null,ge?oi(n.errors,te,ge):Is(n.errors,te)),(ge?!Qf(Re,ge):Re)||!Fa(Te)||Ie){const he={...Te,...Ie&&du(pe)?{isValid:pe}:{},errors:n.errors,name:te};n={...n,...he},d.state.next(he)}},E=async te=>{S(te,!0);const pe=await e.resolver(s,e.context,rEe(te||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(te),pe},I=async te=>{const{errors:pe}=await E(te);if(te)for(const ge of te){const Te=Rt(pe,ge);Te?oi(n.errors,ge,Te):Is(n.errors,ge)}else n.errors=pe;return pe},R=async(te,pe,ge={valid:!0})=>{for(const Te in te){const Re=te[Te];if(Re){const{_f:Ie,...he}=Re;if(Ie){const Se=a.array.has(Ie.name);S([Te],!0);const Ce=await GO(Re,s,p,e.shouldUseNativeValidation&&!pe,Se);if(S([Te]),Ce[Ie.name]&&(ge.valid=!1,pe))break;!pe&&(Rt(Ce,Ie.name)?Se?ZMe(n.errors,Ce,Ie.name):oi(n.errors,Ie.name,Ce[Ie.name]):Is(n.errors,Ie.name))}he&&await R(he,pe,ge)}}return ge.valid},F=()=>{for(const te of a.unMount){const pe=Rt(r,te);pe&&(pe._f.refs?pe._f.refs.every(ge=>!a3(ge)):!a3(pe._f.ref))&&W(te)}a.unMount=new Set},B=(te,pe)=>(te&&pe&&oi(s,te,pe),!Qf(J(),i)),D=(te,pe,ge)=>_j(te,a,{...o.mount?s:Xi(pe)?i:pu(te)?{[te]:pe}:pe},ge,pe),A=te=>Hv(Rt(o.mount?s:i,te,t.shouldUnregister?Rt(i,te,[]):[])),N=(te,pe,ge={})=>{const Te=Rt(r,te);let Re=pe;if(Te){const Ie=Te._f;Ie&&(!Ie.disabled&&oi(s,te,Aj(pe,Ie)),Re=D2(Ie.ref)&&Wo(pe)?"":pe,Bj(Ie.ref)?[...Ie.ref.options].forEach(he=>he.selected=Re.includes(he.value)):Ie.refs?$v(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(Re)?!!Re.find(Se=>Se===he.value):Re===he.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!Re):Ie.refs.forEach(he=>he.checked=he.value===Re):uI(Ie.ref)?Ie.ref.value="":(Ie.ref.value=Re,Ie.ref.type||d.values.next({name:te,values:{...s}})))}(ge.shouldDirty||ge.shouldTouch)&&T(te,Re,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&j(te)},L=(te,pe,ge)=>{for(const Te in pe){const Re=pe[Te],Ie=`${te}.${Te}`,he=Rt(r,Ie);(a.array.has(te)||!O2(Re)||he&&!he._f)&&!yg(Re)?L(Ie,Re,ge):N(Ie,Re,ge)}},H=(te,pe,ge={})=>{const Te=Rt(r,te),Re=a.array.has(te),Ie=sa(pe);oi(s,te,Ie),Re?(d.array.next({name:te,values:{...s}}),(u.isDirty||u.dirtyFields)&&ge.shouldDirty&&d.state.next({name:te,dirtyFields:Rx(i,s),isDirty:B(te,Ie)})):Te&&!Te._f&&!Wo(Ie)?L(te,Ie,ge):N(te,Ie,ge),$O(te,a)&&d.state.next({...n}),d.values.next({name:o.mount?te:void 0,values:{...s}})},O=async te=>{o.mount=!0;const pe=te.target;let ge=pe.name,Te=!0;const Re=Rt(r,ge),Ie=()=>pe.type?l3(Re._f):xj(te),he=Se=>{Te=Number.isNaN(Se)||Se===Rt(s,ge,Se)};if(Re){let Se,Ce;const $e=Ie(),ke=te.type===L2.BLUR||te.type===L2.FOCUS_OUT,me=!iEe(Re._f)&&!e.resolver&&!Rt(n.errors,ge)&&!Re._f.deps||sEe(ke,Rt(n.touchedFields,ge),n.isSubmitted,f,h),ye=$O(ge,a,ke);oi(s,ge,$e),ke?(Re._f.onBlur&&Re._f.onBlur(te),l&&l(0)):Re._f.onChange&&Re._f.onChange(te);const Ee=T(ge,$e,ke,!1),We=!Fa(Ee)||ye;if(!ke&&d.values.next({name:ge,type:te.type,values:{...s}}),me)return u.isValid&&y(),We&&d.state.next({name:ge,...ye?{}:Ee});if(!ke&&ye&&d.state.next({...n}),e.resolver){const{errors:je}=await E([ge]);if(he($e),Te){const et=UO(n.errors,r,ge),Fe=UO(je,r,et.name||ge);Se=Fe.error,ge=Fe.name,Ce=Fa(je)}}else S([ge],!0),Se=(await GO(Re,s,p,e.shouldUseNativeValidation))[ge],S([ge]),he($e),Te&&(Se?Ce=!1:u.isValid&&(Ce=await R(r,!0)));Te&&(Re._f.deps&&j(Re._f.deps),_(ge,Ce,Se,Ee))}},G=(te,pe)=>{if(Rt(n.errors,pe)&&te.focus)return te.focus(),1},j=async(te,pe={})=>{let ge,Te;const Re=TS(te);if(e.resolver){const Ie=await I(Xi(te)?te:Re);ge=Fa(Ie),Te=te?!Re.some(he=>Rt(Ie,he)):ge}else te?(Te=(await Promise.all(Re.map(async Ie=>{const he=Rt(r,Ie);return await R(he&&he._f?{[Ie]:he}:he)}))).every(Boolean),!(!Te&&!n.isValid)&&y()):Te=ge=await R(r);return d.state.next({...!pu(te)||u.isValid&&ge!==n.isValid?{}:{name:te},...e.resolver||!te?{isValid:ge}:{},errors:n.errors}),pe.shouldFocus&&!Te&&Hy(r,G,te?Re:a.mount),Te},J=te=>{const pe={...o.mount?s:i};return Xi(te)?pe:pu(te)?Rt(pe,te):te.map(ge=>Rt(pe,ge))},Z=(te,pe)=>({invalid:!!Rt((pe||n).errors,te),isDirty:!!Rt((pe||n).dirtyFields,te),error:Rt((pe||n).errors,te),isValidating:!!Rt(n.validatingFields,te),isTouched:!!Rt((pe||n).touchedFields,te)}),ae=te=>{te&&TS(te).forEach(pe=>Is(n.errors,pe)),d.state.next({errors:te?n.errors:{}})},z=(te,pe,ge)=>{const Te=(Rt(r,te,{_f:{}})._f||{}).ref,Re=Rt(n.errors,te)||{},{ref:Ie,message:he,type:Se,...Ce}=Re;oi(n.errors,te,{...Ce,...pe,ref:Te}),d.state.next({name:te,errors:n.errors,isValid:!1}),ge&&ge.shouldFocus&&Te&&Te.focus&&Te.focus()},$=(te,pe)=>Ph(te)?d.values.subscribe({next:ge=>te(D(void 0,pe),ge)}):D(te,pe,!0),W=(te,pe={})=>{for(const ge of te?TS(te):a.mount)a.mount.delete(ge),a.array.delete(ge),pe.keepValue||(Is(r,ge),Is(s,ge)),!pe.keepError&&Is(n.errors,ge),!pe.keepDirty&&Is(n.dirtyFields,ge),!pe.keepTouched&&Is(n.touchedFields,ge),!pe.keepIsValidating&&Is(n.validatingFields,ge),!e.shouldUnregister&&!pe.keepDefaultValue&&Is(i,ge);d.values.next({values:{...s}}),d.state.next({...n,...pe.keepDirty?{isDirty:B()}:{}}),!pe.keepIsValid&&y()},oe=({disabled:te,name:pe,field:ge,fields:Te,value:Re})=>{if(du(te)&&o.mount||te){const Ie=te?void 0:Xi(Re)?l3(ge?ge._f:Rt(Te,pe)._f):Re;oi(s,pe,Ie),T(pe,Ie,!1,!1,!0)}},X=(te,pe={})=>{let ge=Rt(r,te);const Te=du(pe.disabled);return oi(r,te,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:te}},name:te,mount:!0,...pe}}),a.mount.add(te),ge?oe({field:ge,disabled:pe.disabled,name:te,value:pe.value}):P(te,!0,pe.value),{...Te?{disabled:pe.disabled}:{},...e.progressive?{required:!!pe.required,min:z1(pe.min),max:z1(pe.max),minLength:z1(pe.minLength),maxLength:z1(pe.maxLength),pattern:z1(pe.pattern)}:{},name:te,onChange:O,onBlur:O,ref:Re=>{if(Re){X(te,pe),ge=Rt(r,te);const Ie=Xi(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,he=nEe(Ie),Se=ge._f.refs||[];if(he?Se.find(Ce=>Ce===Ie):Ie===ge._f.ref)return;oi(r,te,{_f:{...ge._f,...he?{refs:[...Se.filter(a3),Ie,...Array.isArray(Rt(i,te))?[{}]:[]],ref:{type:Ie.type,name:te}}:{ref:Ie}}}),P(te,!1,void 0,Ie)}else ge=Rt(r,te,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||pe.shouldUnregister)&&!(Sj(a.array,te)&&o.action)&&a.unMount.add(te)}}},K=()=>e.shouldFocusError&&Hy(r,G,a.mount),Y=te=>{du(te)&&(d.state.next({disabled:te}),Hy(r,(pe,ge)=>{const Te=Rt(r,ge);Te&&(pe.disabled=Te._f.disabled||te,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Re=>{Re.disabled=Te._f.disabled||te}))},0,!1))},le=(te,pe)=>async ge=>{let Te;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let Re=sa(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:Ie,values:he}=await E();n.errors=Ie,Re=he}else await R(r);if(Is(n.errors,"root"),Fa(n.errors)){d.state.next({errors:{}});try{await te(Re,ge)}catch(Ie){Te=Ie}}else pe&&await pe({...n.errors},ge),K(),setTimeout(K);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fa(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},ie=(te,pe={})=>{Rt(r,te)&&(Xi(pe.defaultValue)?H(te,sa(Rt(i,te))):(H(te,pe.defaultValue),oi(i,te,sa(pe.defaultValue))),pe.keepTouched||Is(n.touchedFields,te),pe.keepDirty||(Is(n.dirtyFields,te),n.isDirty=pe.defaultValue?B(te,sa(Rt(i,te))):B()),pe.keepError||(Is(n.errors,te),u.isValid&&y()),d.state.next({...n}))},re=(te,pe={})=>{const ge=te?sa(te):i,Te=sa(ge),Re=Fa(te),Ie=Re?i:Te;if(pe.keepDefaultValues||(i=ge),!pe.keepValues){if(pe.keepDirtyValues)for(const he of a.mount)Rt(n.dirtyFields,he)?oi(Ie,he,Rt(s,he)):H(he,Rt(Ie,he));else{if(oI&&Xi(te))for(const he of a.mount){const Se=Rt(r,he);if(Se&&Se._f){const Ce=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(D2(Ce)){const $e=Ce.closest("form");if($e){$e.reset();break}}}}r={}}s=t.shouldUnregister?pe.keepDefaultValues?sa(i):{}:sa(Ie),d.array.next({values:{...Ie}}),d.values.next({values:{...Ie}})}a={mount:pe.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!Qf(te,i)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?[]:pe.keepDirtyValues?pe.keepDefaultValues&&s?Rx(i,s):n.dirtyFields:pe.keepDefaultValues&&te?Rx(i,te):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},se=(te,pe)=>re(Ph(te)?te(s):te,pe);return{control:{register:X,unregister:W,getFieldState:Z,handleSubmit:le,setError:z,_executeSchema:E,_getWatch:D,_getDirty:B,_updateValid:y,_removeUnmounted:F,_updateFieldArray:w,_updateDisabledField:oe,_getFieldArray:A,_reset:re,_resetDefaultValues:()=>Ph(e.defaultValues)&&e.defaultValues().then(te=>{se(te,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:te=>{n={...n,...te}},_disableForm:Y,_subjects:d,_proxyFormState:u,_setErrors:k,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(te){o=te},get _defaultValues(){return i},get _names(){return a},set _names(te){a=te},get _formState(){return n},set _formState(te){n=te},get _options(){return e},set _options(te){e={...e,...te}}},trigger:j,register:X,handleSubmit:le,watch:$,setValue:H,getValues:J,reset:se,resetField:ie,clearErrors:ae,unregister:W,setError:z,setFocus:(te,pe={})=>{const ge=Rt(r,te),Te=ge&&ge._f;if(Te){const Re=Te.refs?Te.refs[0]:Te.ref;Re.focus&&(Re.focus(),pe.shouldSelect&&Re.select())}},getFieldState:Z}}function Rj(t={}){const e=cn.useRef(),n=cn.useRef(),[r,i]=cn.useState({isDirty:!1,isValidating:!1,isLoading:Ph(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ph(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...lEe(t),formState:r});const s=e.current.control;return s._options=t,cI({subject:s._subjects.state,next:o=>{Tj(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),cn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),cn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),cn.useEffect(()=>{t.values&&!Qf(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),cn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),cn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),cn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=kj(r,s),e.current}var Lj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var N=["th","st","nd","rd"],L=A%100;return"["+A+(N[(L-20)%10]||N[L]||N[0])+"]"}},v=function(A,N,L){var H=String(A);return!H||H.length>=N?A:""+Array(N+1-H.length).join(L)+A},k={s:v,z:function(A){var N=-A.utcOffset(),L=Math.abs(N),H=Math.floor(L/60),O=L%60;return(N<=0?"+":"-")+v(H,2,"0")+":"+v(O,2,"0")},m:function A(N,L){if(N.date()<L.date())return-A(L,N);var H=12*(L.year()-N.year())+(L.month()-N.month()),O=N.clone().add(H,d),G=L-O<0,j=N.clone().add(H+(G?-1:1),d);return+(-(H+(L-O)/(G?O-j:j-O))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:d,y:f,w:u,d:c,D:p,h:l,m:a,s:o,ms:s,Q:h}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},P="en",T={};T[P]=w;var _="$isDayjsObject",E=function(A){return A instanceof B||!(!A||!A[_])},I=function A(N,L,H){var O;if(!N)return P;if(typeof N=="string"){var G=N.toLowerCase();T[G]&&(O=G),L&&(T[G]=L,O=G);var j=N.split("-");if(!O&&j.length>1)return A(j[0])}else{var J=N.name;T[J]=N,O=J}return!H&&O&&(P=O),O||!H&&P},R=function(A,N){if(E(A))return A.clone();var L=typeof N=="object"?N:{};return L.date=A,L.args=arguments,new B(L)},F=k;F.l=I,F.i=E,F.w=function(A,N){return R(A,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var B=function(){function A(L){this.$L=I(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[_]=!0}var N=A.prototype;return N.parse=function(L){this.$d=function(H){var O=H.date,G=H.utc;if(O===null)return new Date(NaN);if(F.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var j=O.match(y);if(j){var J=j[2]-1||0,Z=(j[7]||"0").substring(0,3);return G?new Date(Date.UTC(j[1],J,j[3]||1,j[4]||0,j[5]||0,j[6]||0,Z)):new Date(j[1],J,j[3]||1,j[4]||0,j[5]||0,j[6]||0,Z)}}return new Date(O)}(L),this.init()},N.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},N.$utils=function(){return F},N.isValid=function(){return this.$d.toString()!==m},N.isSame=function(L,H){var O=R(L);return this.startOf(H)<=O&&O<=this.endOf(H)},N.isAfter=function(L,H){return R(L)<this.startOf(H)},N.isBefore=function(L,H){return this.endOf(H)<R(L)},N.$g=function(L,H,O){return F.u(L)?this[H]:this.set(O,L)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(L,H){var O=this,G=!!F.u(H)||H,j=F.p(L),J=function(K,Y){var le=F.w(O.$u?Date.UTC(O.$y,Y,K):new Date(O.$y,Y,K),O);return G?le:le.endOf(c)},Z=function(K,Y){return F.w(O.toDate()[K].apply(O.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(Y)),O)},ae=this.$W,z=this.$M,$=this.$D,W="set"+(this.$u?"UTC":"");switch(j){case f:return G?J(1,0):J(31,11);case d:return G?J(1,z):J(0,z+1);case u:var oe=this.$locale().weekStart||0,X=(ae<oe?ae+7:ae)-oe;return J(G?$-X:$+(6-X),z);case c:case p:return Z(W+"Hours",0);case l:return Z(W+"Minutes",1);case a:return Z(W+"Seconds",2);case o:return Z(W+"Milliseconds",3);default:return this.clone()}},N.endOf=function(L){return this.startOf(L,!1)},N.$set=function(L,H){var O,G=F.p(L),j="set"+(this.$u?"UTC":""),J=(O={},O[c]=j+"Date",O[p]=j+"Date",O[d]=j+"Month",O[f]=j+"FullYear",O[l]=j+"Hours",O[a]=j+"Minutes",O[o]=j+"Seconds",O[s]=j+"Milliseconds",O)[G],Z=G===c?this.$D+(H-this.$W):H;if(G===d||G===f){var ae=this.clone().set(p,1);ae.$d[J](Z),ae.init(),this.$d=ae.set(p,Math.min(this.$D,ae.daysInMonth())).$d}else J&&this.$d[J](Z);return this.init(),this},N.set=function(L,H){return this.clone().$set(L,H)},N.get=function(L){return this[F.p(L)]()},N.add=function(L,H){var O,G=this;L=Number(L);var j=F.p(H),J=function(z){var $=R(G);return F.w($.date($.date()+Math.round(z*L)),G)};if(j===d)return this.set(d,this.$M+L);if(j===f)return this.set(f,this.$y+L);if(j===c)return J(1);if(j===u)return J(7);var Z=(O={},O[a]=r,O[l]=i,O[o]=n,O)[j]||1,ae=this.$d.getTime()+L*Z;return F.w(ae,this)},N.subtract=function(L,H){return this.add(-1*L,H)},N.format=function(L){var H=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var G=L||"YYYY-MM-DDTHH:mm:ssZ",j=F.z(this),J=this.$H,Z=this.$m,ae=this.$M,z=O.weekdays,$=O.months,W=O.meridiem,oe=function(Y,le,ie,re){return Y&&(Y[le]||Y(H,G))||ie[le].slice(0,re)},X=function(Y){return F.s(J%12||12,Y,"0")},K=W||function(Y,le,ie){var re=Y<12?"AM":"PM";return ie?re.toLowerCase():re};return G.replace(S,function(Y,le){return le||function(ie){switch(ie){case"YY":return String(H.$y).slice(-2);case"YYYY":return F.s(H.$y,4,"0");case"M":return ae+1;case"MM":return F.s(ae+1,2,"0");case"MMM":return oe(O.monthsShort,ae,$,3);case"MMMM":return oe($,ae);case"D":return H.$D;case"DD":return F.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return oe(O.weekdaysMin,H.$W,z,2);case"ddd":return oe(O.weekdaysShort,H.$W,z,3);case"dddd":return z[H.$W];case"H":return String(J);case"HH":return F.s(J,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return K(J,Z,!0);case"A":return K(J,Z,!1);case"m":return String(Z);case"mm":return F.s(Z,2,"0");case"s":return String(H.$s);case"ss":return F.s(H.$s,2,"0");case"SSS":return F.s(H.$ms,3,"0");case"Z":return j}return null}(Y)||j.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(L,H,O){var G,j=this,J=F.p(H),Z=R(L),ae=(Z.utcOffset()-this.utcOffset())*r,z=this-Z,$=function(){return F.m(j,Z)};switch(J){case f:G=$()/12;break;case d:G=$();break;case h:G=$()/3;break;case u:G=(z-ae)/6048e5;break;case c:G=(z-ae)/864e5;break;case l:G=z/i;break;case a:G=z/r;break;case o:G=z/n;break;default:G=z}return O?G:F.a(G)},N.daysInMonth=function(){return this.endOf(d).$D},N.$locale=function(){return T[this.$L]},N.locale=function(L,H){if(!L)return this.$L;var O=this.clone(),G=I(L,H,!0);return G&&(O.$L=G),O},N.clone=function(){return F.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},A}(),D=B.prototype;return R.prototype=D,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",p]].forEach(function(A){D[A[1]]=function(N){return this.$g(N,A[0],A[1])}}),R.extend=function(A,N){return A.$i||(A(N,B,R),A.$i=!0),R},R.locale=I,R.isDayjs=E,R.unix=function(A){return R(1e3*A)},R.en=T[P],R.Ls=T,R.p={},R})})(Lj);var cEe=Lj.exports;const ss=Pa(cEe),uEe={day:ss(),startTime:ss(),endTime:ss()};function jO({open:t,onClose:e,shift:n,_handleSubmit:r}){const{control:i,handleSubmit:s}=Rj({defaultValues:n||uEe});return C.jsxs(Iv,{open:t,onClose:e,children:[C.jsxs(TG,{children:[n?"Edit":"Add"," Shift"]}),C.jsxs(kG,{children:[C.jsx(PS,{name:"day",control:i,render:({field:o})=>C.jsx(TMe,{value:o.value,onChange:o.onChange})}),C.jsxs("div",{children:[C.jsx(PS,{name:"startTime",control:i,render:({field:o})=>C.jsx(FO,{value:o.value,onChange:o.onChange})}),C.jsx(PS,{name:"endTime",control:i,render:({field:o})=>C.jsx(FO,{value:o.value,onChange:o.onChange})})]})]}),C.jsx(CG,{children:C.jsx(ni,{onClick:s(r),children:"Submit"})})]})}function dEe(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState(null);function o(l){var c=[...t];c[i]=l,e(c),s(null)}function a(l){e([...t,l]),r(!1)}return C.jsxs(Dd,{title:"Shifts",children:[C.jsx(Av,{children:t.map((l,c)=>C.jsxs(C.Fragment,{children:[C.jsx(Zme,{title:l.day.format("dddd, MMMM D")+" - "+l.endTime.diff(l.startTime,"hours")+" hours",action:C.jsx(Ei,{onClick:()=>s(c),children:C.jsx(ZG,{})})}),C.jsx(Sb,{children:l.startTime.format("h:mm a")+" to "+l.endTime.format("h:mm a")})]}))}),C.jsx(Rye,{color:"primary",sx:{position:"absolute",right:16,bottom:16},onClick:()=>{r(!0)},children:C.jsx($N,{})}),C.jsx(jO,{open:n,onClose:()=>{r(!1)},_handleSubmit:a}),C.jsx(jO,{open:i!==null,onClose:()=>{s(null)},shift:i!==null?t[i]:void 0,_handleSubmit:o})]})}var Dj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){var n="week",r="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(r).add(1,r).date(c),d=o(this).endOf(n);if(u.isBefore(d))return 1}var h=o(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),f=this.diff(h,n,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(Dj);var hEe=Dj.exports;const fEe=Pa(hEe);var Fj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(y){this[m]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var S=y.match(/([+-]|\d\d)/g),w=60*S[1]+(+S[2]||0);return w===0?0:S[0]==="+"?-w:w}(m)}],d=function(m){var y=a[m];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(m,y){var S,w=a.meridiem;if(w){for(var v=1;v<=24;v+=1)if(m.indexOf(w(v,0,y))>-1){S=v>12;break}}else S=m===(y?"pm":"PM");return S},f={A:[o,function(m){this.afternoon=h(m,!1)}],a:[o,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[i,c("day")],Do:[o,function(m){var y=a.ordinal,S=m.match(/\d+/);if(this.day=S[0],y)for(var w=1;w<=31;w+=1)y(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[s,c("month")],MM:[i,c("month")],MMM:[o,function(m){var y=d("months"),S=(d("monthsShort")||y.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[o,function(m){var y=d("months").indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function p(m){var y,S;y=m,S=a&&a.formats;for(var w=(m=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,R,F){var B=F&&F.toUpperCase();return R||S[F]||n[F]||S[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,A,N){return A||N.slice(1)})})).match(r),v=w.length,k=0;k<v;k+=1){var P=w[k],T=f[P],_=T&&T[0],E=T&&T[1];w[k]=E?{regex:_,parser:E}:P.replace(/^\[|\]$/g,"")}return function(I){for(var R={},F=0,B=0;F<v;F+=1){var D=w[F];if(typeof D=="string")B+=D.length;else{var A=D.regex,N=D.parser,L=I.slice(B),H=A.exec(L)[0];N.call(R,H),I=I.replace(H,"")}}return function(O){var G=O.afternoon;if(G!==void 0){var j=O.hours;G?j<12&&(O.hours+=12):j===12&&(O.hours=0),delete O.afternoon}}(R),R}}return function(m,y,S){S.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var w=y.prototype,v=w.parse;w.parse=function(k){var P=k.date,T=k.utc,_=k.args;this.$u=T;var E=_[1];if(typeof E=="string"){var I=_[2]===!0,R=_[3]===!0,F=I||R,B=_[2];R&&(B=_[2]),a=this.$locale(),!I&&B&&(a=S.Ls[B]),this.$d=function(L,H,O){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*L);var G=p(H)(L),j=G.year,J=G.month,Z=G.day,ae=G.hours,z=G.minutes,$=G.seconds,W=G.milliseconds,oe=G.zone,X=new Date,K=Z||(j||J?1:X.getDate()),Y=j||X.getFullYear(),le=0;j&&!J||(le=J>0?J-1:X.getMonth());var ie=ae||0,re=z||0,se=$||0,ue=W||0;return oe?new Date(Date.UTC(Y,le,K,ie,re,se,ue+60*oe.offset*1e3)):O?new Date(Date.UTC(Y,le,K,ie,re,se,ue)):new Date(Y,le,K,ie,re,se,ue)}catch{return new Date("")}}(P,E,T),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),F&&P!=this.format(E)&&(this.$d=new Date("")),a={}}else if(E instanceof Array)for(var D=E.length,A=1;A<=D;A+=1){_[1]=E[A-1];var N=S.apply(this,_);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}A===D&&(this.$d=new Date(""))}else v.call(this,k)}}})})(Fj);var pEe=Fj.exports;const gEe=Pa(pEe);var Oj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,p,m){var y=m&&m.toUpperCase();return p||h[m]||n[m]||h[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,w,v){return w||v.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(Oj);var mEe=Oj.exports;const yEe=Pa(mEe);var $j={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),u=i(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(h?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(h?this.isAfter(u,a):!this.isBefore(u,a))}}})})($j);var bEe=$j.exports;const vEe=Pa(bEe);var Hj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Mo,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(Hj);var wEe=Hj.exports;const xEe=Pa(wEe);ss.extend(yEe);ss.extend(fEe);ss.extend(vEe);ss.extend(xEe);const SEe=lj(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),CEe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},kEe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},c3=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),YO=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),TEe=(t,e)=>e?(...n)=>t(...n).locale(e):t;class PEe{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=CEe,this.setLocaleToValue=r=>{const i=this.getCurrentLocaleCode();return i===r.locale()?r:r.locale(i)},this.hasUTCPlugin=()=>typeof ss.utc<"u",this.hasTimezonePlugin=()=>typeof ss.tz<"u",this.isSame=(r,i,s)=>{const o=this.setTimezone(i,this.getTimezone(r));return r.format(s)===o.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return ss.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=ss.tz.guess();return i!=="UTC"?ss.tz(r,i):ss(r)}return ss(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(c3);return ss.utc(r)},this.createTZDate=(r,i)=>{if(!this.hasUTCPlugin())throw new Error(c3);if(!this.hasTimezonePlugin())throw new Error(YO);const s=r!==void 0&&!r.endsWith("Z");return ss(r).tz(this.cleanTimezone(i),s)},this.getLocaleFormats=()=>{const r=ss.Ls,i=this.locale||"en";let s=r[i];return s===void 0&&(SEe(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const i=this.getTimezone(r);if(i!=="UTC"){const s=r.tz(this.cleanTimezone(i),!0);if((s.$offset??0)===(r.$offset??0))return r;r.$offset=s.$offset}return r},this.date=(r,i="default")=>{if(r===null)return null;let s;return i==="UTC"?s=this.createUTCDate(r):i==="system"||i==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,i),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>ss(new Date("Invalid date")),this.getTimezone=r=>{var i;if(this.hasTimezonePlugin()){const s=(i=r.$x)==null?void 0:i.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,i)=>{if(this.getTimezone(r)===i)return r;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(c3);return r.utc()}if(i==="system")return r.local();if(!this.hasTimezonePlugin()){if(i==="default")return r;throw new Error(YO)}return ss.tz(r,this.cleanTimezone(i))},this.toJsDate=r=>r.toDate(),this.parse=(r,i)=>r===""?null:this.dayjs(r,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const i=this.getLocaleFormats(),s=o=>o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,c)=>l||c.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(o,a,l)=>{const c=l&&l.toUpperCase();return a||i[l]||s(i[c])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>this.dayjs(r).format(i),this.formatNumber=r=>r,this.isEqual=(r,i)=>r===null&&i===null?!0:r===null||i===null?!1:r.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(r,i)=>this.isSame(r,i,"YYYY"),this.isSameMonth=(r,i)=>this.isSame(r,i,"YYYY-MM"),this.isSameDay=(r,i)=>this.isSame(r,i,"YYYY-MM-DD"),this.isSameHour=(r,i)=>r.isSame(i,"hour"),this.isAfter=(r,i)=>r>i,this.isAfterYear=(r,i)=>this.hasUTCPlugin()?!this.isSameYear(r,i)&&r.utc()>i.utc():r.isAfter(i,"year"),this.isAfterDay=(r,i)=>this.hasUTCPlugin()?!this.isSameDay(r,i)&&r.utc()>i.utc():r.isAfter(i,"day"),this.isBefore=(r,i)=>r<i,this.isBeforeYear=(r,i)=>this.hasUTCPlugin()?!this.isSameYear(r,i)&&r.utc()<i.utc():r.isBefore(i,"year"),this.isBeforeDay=(r,i)=>this.hasUTCPlugin()?!this.isSameDay(r,i)&&r.utc()<i.utc():r.isBefore(i,"day"),this.isWithinRange=(r,[i,s])=>r>=i&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"year"):r.add(i,"year")),this.addMonths=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"month"):r.add(i,"month")),this.addWeeks=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"week"):r.add(i,"week")),this.addDays=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"day"):r.add(i,"day")),this.addHours=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"hour"):r.add(i,"hour")),this.addMinutes=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"minute"):r.add(i,"minute")),this.addSeconds=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"second"):r.add(i,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,i)=>this.adjustOffset(r.set("year",i)),this.setMonth=(r,i)=>this.adjustOffset(r.set("month",i)),this.setDate=(r,i)=>this.adjustOffset(r.set("date",i)),this.setHours=(r,i)=>this.adjustOffset(r.set("hour",i)),this.setMinutes=(r,i)=>this.adjustOffset(r.set("minute",i)),this.setSeconds=(r,i)=>this.adjustOffset(r.set("second",i)),this.setMilliseconds=(r,i)=>this.adjustOffset(r.set("millisecond",i)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const i=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(i)),o=this.endOfWeek(this.endOfMonth(i));let a=0,l=s;const c=[];for(;l<o;){const u=Math.floor(a/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),a+=1}return c},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,i])=>{const s=this.startOfYear(r),o=this.endOfYear(i),a=[];let l=s;for(;this.isBefore(l,o);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=TEe(ss,e),this.locale=e,this.formats=V({},kEe,n),ss.extend(gEe)}getDayOfWeek(e){return e.day()+1}}var ei=(t=>(t[t.Natural=0]="Natural",t[t.Sharp=1]="Sharp",t[t.Flat=-1]="Flat",t[t.DoubleSharp=2]="DoubleSharp",t[t.DoubleFlat=-2]="DoubleFlat",t))(ei||{});(t=>{function e(i){switch(i){case 0:return"";case-2:return"bb";case-1:return"b";case 1:return"#";case 2:return"##"}}t.toDisplayString=e;function n(i){switch(i){case"b":return-1;case"bb":return-2;case"#":return 1;case"##":return 2;default:throw new Error(`Accidental was ${i}`)}}t.fromString=n;function r(i){switch(i){case-2:return"__";case-1:return"_";case 2:return"^^";case 1:return"^";default:return""}}t.toABC=r})(ei||(ei={}));var an;(t=>{t.unison={n:1,offset:0},t.octave={n:8,offset:0},t.whole={n:2,offset:0},t.half={n:2,offset:-1};function e(d,h){return d.n===h.n&&d.offset===h.offset}t.compare=e;function n(d=8){return{n:Math.floor(Math.random()*(d-1)+1),offset:Math.floor(Math.random()*3)-1}}t.random=n;function r(d){const h=d.offset;switch(d.n){case 1:return 0+h;case 2:return 2+h;case 3:return 4+h;case 4:return 5+h;case 5:return 7+h;case 6:return 9+h;case 7:return 11+h;default:return r({n:d.n-7,offset:d.offset})+12}}t.halfSteps=r;function i(d){return{n:9-d.n,offset:o(d)?d.offset*-1:d.offset*-1-1}}t.invert=i;function s(d){return{n:d.n%7===0?7:d.n%7,offset:d.offset}}t.toSimple=s;function o(d){const h=d.n%7;return h==1||h==4||h==5}t.isPerfect=o;function a(d,h){const f=d.n+h.n-1;var p;return o({n:f,offset:0})&&!(o(d)||o(h))?p=d.offset+h.offset+1:s(d).n===4&&s(h).n===4?p=d.offset+h.offset-1:p=d.offset+h.offset,{n:f,offset:p}}t.add2=a;function l(d,h){const f=d.n-h.n+1;var p;return!o(h)&&o(d)?p=d.offset-h.offset-1:p=d.offset-h.offset,{n:f,offset:p}}t.subtract=l;function c(d){return d.length==0?t.unison:d.length==1?d[0]:d.reduce(a)}t.add=c;function u(d){const h=t.isPerfect(d);var f="";switch(d.offset){case 0:h?f="p":f="M";break;case-1:h?f="dim":f="m";break;case 1:f="aug";break;case-2:h?f="-2_":f="dim";break;default:f=`${d.offset}_`}return`${f}${d.n}`}t.name=u})(an||(an={}));function Nn(t){const e=t.match(/\d+/);if(!e)throw new Error("Invalid interval format");const n=parseInt(e[0]);var r=!1;const i=n%7;(i==1||i==4||i==5)&&(r=!0);const s=t.replace(/[0-9]/g,"");var o;switch(r){case!0:switch(s){case"p":o=0;break;case"aug":o=1;break;case"dim":o=-1;break;default:throw new Error("Prefix is invalid")}break;case!1:switch(s){case"M":o=0;break;case"m":o=-1;break;case"dim":o=-2;break;case"aug":o=1;break;default:throw new Error(`Prefix is invalid: ${s} for ${t}`)}}return{n,offset:o}}var dp;(t=>{t.validLetters=["A","B","C","D","E","F","G"];function e(){return t.validLetters[Math.floor(Math.random()*7)]}t.random=e;function n(s){switch(s){case"C":return 0;case"D":return 2;case"E":return 4;case"F":return 5;case"G":return 7;case"A":return 9;case"B":return 11}}t.toNoteNumber=n;function r(s){switch(s){case"C":return"D";case"D":return"E";case"E":return"F";case"F":return"G";case"G":return"A";case"A":return"B";case"B":return"C"}}t.next=r;function i(s,o){switch(s){case 0:return o;default:return i(s-1,r(o))}}t.shift=i})(dp||(dp={}));const XO=[0,1,2,3,4,5,6];function Mt(t,e){return{letter:t,accidental:e||ei.Natural}}function co(t,e){if(t.length===0||!dp.validLetters.includes(t.charAt(0)))throw new Error("First letter of input string must be one of 'A B C D E F G'");const n=t.charAt(0),r=t.length>1?ei.fromString(t.slice(1,t.length)):ei.Natural;return{note:Mt(n,r),octave:e}}function _Ee(t,e){return{note:t,octave:e}}const $h={increaseBy(t,e){return(e+t+12)%12},toNote(t){switch(t){case 0:return Mt("C");case 1:return Mt("D",ei.Flat);case 2:return Mt("D");case 3:return Mt("E",ei.Flat);case 4:return Mt("E");case 5:return Mt("F");case 6:return Mt("G",ei.Flat);case 7:return Mt("G");case 8:return Mt("A",ei.Flat);case 9:return Mt("A");case 10:return Mt("B",ei.Flat);case 11:return Mt("B")}},toNoteSharp(t){switch(t){case 0:return Mt("C");case 1:return Mt("C",ei.Sharp);case 2:return Mt("D");case 3:return Mt("D",ei.Sharp);case 4:return Mt("E");case 5:return Mt("F");case 6:return Mt("F",ei.Sharp);case 7:return Mt("G");case 8:return Mt("G",ei.Sharp);case 9:return Mt("A");case 10:return Mt("A",ei.Sharp);case 11:return Mt("B")}}};var Nb=(t=>(t[t.Bass=0]="Bass",t[t.Tenor=1]="Tenor",t[t.Alto=2]="Alto",t[t.Soprano=3]="Soprano",t))(Nb||{});(t=>{function e(n){switch(n){case 0:return{low:co("E",2),high:co("C",4)};case 1:return{low:co("B",2),high:co("G",4)};case 2:return{low:co("F",3),high:co("D",5)};case 3:return{low:co("C",4),high:co("A",5)};default:throw new Error(`Somehow voice wasn't 0 to 3, range was ${n}`)}}t.range=e})(Nb||(Nb={}));const MEe={includes(t,e){const n=wn.toMidiNumber(e.low),r=wn.toMidiNumber(e.high),i=wn.toMidiNumber(t);return i>=n&&i<=r}},Sn={octavedNotesInRange(t,e){return XO.map(n=>_Ee(e,n)).filter(n=>MEe.includes(n,t))},random(){return{letter:dp.random(),accidental:Math.floor(Math.random()*3)-1}},toNoteNumber(t){return $h.increaseBy(t.accidental,dp.toNoteNumber(t.letter))},interval(t,e){return console.log(t,e),console.log("interval:",wn.interval({note:t,octave:1},{note:e,octave:2})),console.log("simple interval:",an.toSimple(wn.interval({note:t,octave:1},{note:e,octave:2}))),an.toSimple(wn.interval({note:t,octave:1},{note:e,octave:2}))},toDisplayString(t){return`${t.letter}${ei.toDisplayString(t.accidental)}`},transpose(t,e){const n=dp.shift(t.n-1,e.letter),r=$h.increaseBy(an.halfSteps(t),Sn.toNoteNumber(e))-Sn.toNoteNumber(Mt(n));return Mt(n,r)},toMidiNumber(t,e){return Sn.toNoteNumber(t)+12+e*12},toMidiNumbersForAllOctaves(t){return XO.map(e=>Sn.toMidiNumber(t,e))},fromMidiNumber(t){return $h.toNote(t%12)},toNormal(t){return t.letter==="E"&&t.accidental===1?Mt("F"):t.letter==="F"&&t.accidental===-1?Mt("E"):t.letter==="B"&&t.accidental===1?Mt("C"):t.letter==="C"&&t.accidental===-1?Mt("B"):t.accidental>1||t.accidental<-1?this.fromMidiNumber(this.toMidiNumber(t,4)):t}};var wn;(t=>{function e(c){return{note:$h.toNote(c%12),octave:Math.floor(c/12)}}t.fromMidiNumber=e;function n(c){return{note:$h.toNoteSharp(c%12),octave:Math.floor(c/12)}}t.fromMidiNumberSharp=n;function r(c){return Sn.toNoteNumber(c.note)+c.octave*12}t.toMidiNumber=r;function i(c,u){for(var d=1,h=c.note.letter,f=u.octave-c.octave;h!==u.note.letter||f>0;)h==="B"&&f--,h=dp.next(h),d++;const p=r(u)-r(c),m=an.halfSteps({n:d,offset:0}),y=p-m;return{n:d,offset:y}}t.interval=i;function s(c){return Sn.toDisplayString(c.note)+c.octave}t.toTex=s;function o(d){var u="";u="",/^__/.test(d)?u="bb":/^_/.test(d)?u="b":/^\^\^/.test(d)?u="##":/^\^/.test(d)&&(u="#");var d=d.slice(u.length);if(/^[CDEFGAB],,$/.test(d))return co(d.charAt(0)+u,2);if(/^[CDEFGAB],$/.test(d))return co(d.charAt(0)+u,3);if(/^[CDEFGAB]$/.test(d))return co(d+u,4);if(/^[cdefgab]$/.test(d))return co(d.toUpperCase()+u,5);if(/^[cdefgab]'$/.test(d))return co(d.charAt(0).toUpperCase()+u,6);throw new Error(`${d} doesn't match any case`)}t.fromABC=o;function a(c){return(c.match(/[_^]?[_^]?[A-Ga-g][',]?/g)??[]).map(d=>o(d))}t.fromManyABC=a;function l(c){const u=ei.toABC(c.note.accidental),d=c.note.letter;switch(c.octave){case 2:return`${u}${d},,`;case 3:return`${u}${d},`;case 4:return`${u}${d}`;case 5:return`${u}${d.toLowerCase()}`;case 6:return`${u}${d.toLowerCase()}'`}return`${u}`}t.toABC=l})(wn||(wn={}));var hd;(function(t){t[t.Page=0]="Page",t[t.Horizontal=1]="Horizontal"})(hd||(hd={}));var Zu;(function(t){t[t.Default=0]="Default",t[t.ScoreTab=1]="ScoreTab",t[t.Score=2]="Score",t[t.Tab=3]="Tab",t[t.TabMixed=4]="TabMixed"})(Zu||(Zu={}));class id{static getValue(e){return id._values||(id._values=new Map),e=e.toLowerCase().replaceAll(" ",""),id._values.has(e)?id._values.get(e):0}static isPiano(e){return e<=7||e>=16&&e<=23}static isGuitar(e){return e>=24&&e<=39||e===105||e===43}}id._values=new Map([["acousticgrandpiano",0],["brightacousticpiano",1],["electricgrandpiano",2],["honkytonkpiano",3],["electricpiano1",4],["electricpiano2",5],["harpsichord",6],["clavinet",7],["celesta",8],["glockenspiel",9],["musicbox",10],["vibraphone",11],["marimba",12],["xylophone",13],["tubularbells",14],["dulcimer",15],["drawbarorgan",16],["percussiveorgan",17],["rockorgan",18],["churchorgan",19],["reedorgan",20],["accordion",21],["harmonica",22],["tangoaccordion",23],["acousticguitarnylon",24],["acousticguitarsteel",25],["electricguitarjazz",26],["electricguitarclean",27],["electricguitarmuted",28],["overdrivenguitar",29],["distortionguitar",30],["guitarharmonics",31],["acousticbass",32],["electricbassfinger",33],["electricbasspick",34],["fretlessbass",35],["slapbass1",36],["slapbass2",37],["synthbass1",38],["synthbass2",39],["violin",40],["viola",41],["cello",42],["contrabass",43],["tremolostrings",44],["pizzicatostrings",45],["orchestralharp",46],["timpani",47],["stringensemble1",48],["stringensemble2",49],["synthstrings1",50],["synthstrings2",51],["choiraahs",52],["voiceoohs",53],["synthvoice",54],["orchestrahit",55],["trumpet",56],["trombone",57],["tuba",58],["mutedtrumpet",59],["frenchhorn",60],["brasssection",61],["synthbrass1",62],["synthbrass2",63],["sopranosax",64],["altosax",65],["tenorsax",66],["baritonesax",67],["oboe",68],["englishhorn",69],["bassoon",70],["clarinet",71],["piccolo",72],["flute",73],["recorder",74],["panflute",75],["blownbottle",76],["shakuhachi",77],["whistle",78],["ocarina",79],["lead1square",80],["lead2sawtooth",81],["lead3calliope",82],["lead4chiff",83],["lead5charang",84],["lead6voice",85],["lead7fifths",86],["lead8bassandlead",87],["pad1newage",88],["pad2warm",89],["pad3polysynth",90],["pad4choir",91],["pad5bowed",92],["pad6metallic",93],["pad7halo",94],["pad8sweep",95],["fx1rain",96],["fx2soundtrack",97],["fx3crystal",98],["fx4atmosphere",99],["fx5brightness",100],["fx6goblins",101],["fx7echoes",102],["fx8scifi",103],["sitar",104],["banjo",105],["shamisen",106],["koto",107],["kalimba",108],["bagpipe",109],["fiddle",110],["shanai",111],["tinklebell",112],["agogo",113],["steeldrums",114],["woodblock",115],["taikodrum",116],["melodictom",117],["synthdrum",118],["reversecymbal",119],["guitarfretnoise",120],["breathnoise",121],["seashore",122],["birdtweet",123],["telephonering",124],["helicopter",125],["applause",126],["gunshot",127]]);class $m{init(e,n){this.data=e,this.settings=n}}var hs;(function(t){t[t.General=0]="General",t[t.Format=1]="Format",t[t.AlphaTex=2]="AlphaTex"})(hs||(hs={}));class fs extends Error{constructor(e,n="",r){super(n??"",{cause:r}),this.type=e,Object.setPrototypeOf(this,fs.prototype)}}class Wr extends fs{constructor(e=null,n){super(hs.Format,e??"Unsupported format",n),Object.setPrototypeOf(this,Wr.prototype)}}var hi;(function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Heavy=2]="Heavy",t[t.Tenuto=3]="Tenuto"})(hi||(hi={}));var Di;(function(t){t[t.Tempo=0]="Tempo",t[t.Volume=1]="Volume",t[t.Instrument=2]="Instrument",t[t.Balance=3]="Balance"})(Di||(Di={}));class Ls{constructor(){this.isLinear=!1,this.type=Di.Tempo,this.value=0,this.ratioPosition=0,this.text=""}static buildTempoAutomation(e,n,r,i){(i<1||i>5)&&(i=2);let s=new Float32Array([1,.5,1,1.5,2,3]),o=new Ls;return o.type=Di.Tempo,o.isLinear=e,o.ratioPosition=n,o.value=r*s[i],o}static buildInstrumentAutomation(e,n,r){let i=new Ls;return i.type=Di.Instrument,i.isLinear=e,i.ratioPosition=n,i.value=r,i}}var ln;(function(t){t[t.Neutral=0]="Neutral",t[t.C3=1]="C3",t[t.C4=2]="C4",t[t.F4=3]="F4",t[t.G2=4]="G2"})(ln||(ln={}));var Xn;(function(t){t[t._15ma=0]="_15ma",t[t._8va=1]="_8va",t[t.Regular=2]="Regular",t[t._8vb=3]="_8vb",t[t._15mb=4]="_15mb"})(Xn||(Xn={}));var Qa;(function(t){t[t.None=0]="None",t[t.Simple=1]="Simple",t[t.FirstOfDouble=2]="FirstOfDouble",t[t.SecondOfDouble=3]="SecondOfDouble"})(Qa||(Qa={}));class Fd{constructor(){this.id=Fd._globalBarId++,this.index=0,this.nextBar=null,this.previousBar=null,this.clef=ln.G2,this.clefOttava=Xn.Regular,this.voices=[],this.simileMark=Qa.None,this.isMultiVoice=!1,this.displayScale=1,this.displayWidth=-1}get masterBar(){return this.staff.track.score.masterBars[this.index]}get isEmpty(){for(let e=0,n=this.voices.length;e<n;e++)if(!this.voices[e].isEmpty)return!1;return!0}addVoice(e){e.bar=this,e.index=this.voices.length,this.voices.push(e)}finish(e,n=null){this.isMultiVoice=!1;for(let r=0,i=this.voices.length;r<i;r++){let s=this.voices[r];s.finish(e,n),r>0&&!s.isEmpty&&(this.isMultiVoice=!0)}}calculateDuration(){let e=0;for(let n of this.voices){let r=n.calculateDuration();r>e&&(e=r)}return e}}Fd._globalBarId=0;class un{static ticksToMillis(e,n){return e*(6e4/(n*un.QuarterTime))|0}static millisToTicks(e,n){return e/(6e4/(n*un.QuarterTime))|0}static toTicks(e){return un.valueToTicks(e)}static valueToTicks(e){let n=e;return n<0&&(n=1/-n),un.QuarterTime*(4/n)|0}static applyDot(e,n){return n?e+(e/4|0)*3:e+(e/2|0)}static applyTuplet(e,n,r){return e*r/n|0}static removeTuplet(e,n,r){return e*n/r|0}static dynamicToVelocity(e){return un.MinVelocity+e*un.VelocityIncrement}}un.QuarterTime=960;un.MinVelocity=15;un.VelocityIncrement=16;class dt{constructor(e=0,n=0){this.offset=e,this.value=n}}dt.MaxPosition=60;dt.MaxValue=12;var ur;(function(t){t[t.Default=0]="Default",t[t.Gradual=1]="Gradual",t[t.Fast=2]="Fast"})(ur||(ur={}));var _t;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Bend=2]="Bend",t[t.Release=3]="Release",t[t.BendRelease=4]="BendRelease",t[t.Hold=5]="Hold",t[t.Prebend=6]="Prebend",t[t.PrebendBend=7]="PrebendBend",t[t.PrebendRelease=8]="PrebendRelease"})(_t||(_t={}));var Mr;(function(t){t[t.None=0]="None",t[t.BrushUp=1]="BrushUp",t[t.BrushDown=2]="BrushDown",t[t.ArpeggioUp=3]="ArpeggioUp",t[t.ArpeggioDown=4]="ArpeggioDown"})(Mr||(Mr={}));var Yo;(function(t){t[t.None=0]="None",t[t.Crescendo=1]="Crescendo",t[t.Decrescendo=2]="Decrescendo"})(Yo||(Yo={}));var ve;(function(t){t[t.QuadrupleWhole=-4]="QuadrupleWhole",t[t.DoubleWhole=-2]="DoubleWhole",t[t.Whole=1]="Whole",t[t.Half=2]="Half",t[t.Quarter=4]="Quarter",t[t.Eighth=8]="Eighth",t[t.Sixteenth=16]="Sixteenth",t[t.ThirtySecond=32]="ThirtySecond",t[t.SixtyFourth=64]="SixtyFourth",t[t.OneHundredTwentyEighth=128]="OneHundredTwentyEighth",t[t.TwoHundredFiftySixth=256]="TwoHundredFiftySixth"})(ve||(ve={}));var xn;(function(t){t[t.PPP=0]="PPP",t[t.PP=1]="PP",t[t.P=2]="P",t[t.MP=3]="MP",t[t.MF=4]="MF",t[t.F=5]="F",t[t.FF=6]="FF",t[t.FFF=7]="FFF"})(xn||(xn={}));var Dt;(function(t){t[t.None=0]="None",t[t.OnBeat=1]="OnBeat",t[t.BeforeBeat=2]="BeforeBeat",t[t.BendGrace=3]="BendGrace"})(Dt||(Dt={}));var pn;(function(t){t[t.Unknown=-2]="Unknown",t[t.NoOrDead=-1]="NoOrDead",t[t.Thumb=0]="Thumb",t[t.IndexFinger=1]="IndexFinger",t[t.MiddleFinger=2]="MiddleFinger",t[t.AnnularFinger=3]="AnnularFinger",t[t.LittleFinger=4]="LittleFinger"})(pn||(pn={}));var Vt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Artificial=2]="Artificial",t[t.Pinch=3]="Pinch",t[t.Tap=4]="Tap",t[t.Semi=5]="Semi",t[t.Feedback=6]="Feedback"})(Vt||(Vt={}));var Pi;(function(t){t[t.Default=0]="Default",t[t.ForceNone=1]="ForceNone",t[t.ForceNatural=2]="ForceNatural",t[t.ForceSharp=3]="ForceSharp",t[t.ForceDoubleSharp=4]="ForceDoubleSharp",t[t.ForceFlat=5]="ForceFlat",t[t.ForceDoubleFlat=6]="ForceDoubleFlat"})(Pi||(Pi={}));var us;(function(t){t[t.None=0]="None",t[t.IntoFromBelow=1]="IntoFromBelow",t[t.IntoFromAbove=2]="IntoFromAbove"})(us||(us={}));var hn;(function(t){t[t.None=0]="None",t[t.Shift=1]="Shift",t[t.Legato=2]="Legato",t[t.OutUp=3]="OutUp",t[t.OutDown=4]="OutDown",t[t.PickSlideDown=5]="PickSlideDown",t[t.PickSlideUp=6]="PickSlideUp"})(hn||(hn={}));var Wn;(function(t){t[t.None=0]="None",t[t.Slight=1]="Slight",t[t.Wide=2]="Wide"})(Wn||(Wn={}));var sd;(function(t){t[t.Hidden=0]="Hidden",t[t.ShowWithBeams=1]="ShowWithBeams",t[t.ShowWithBars=2]="ShowWithBars"})(sd||(sd={}));var zc;(function(t){t[t.ScoreDefault=0]="ScoreDefault",t[t.ScoreForcePiano=1]="ScoreForcePiano",t[t.SingleNoteEffectBand=2]="SingleNoteEffectBand",t[t.SingleNoteEffectBandForcePiano=3]="SingleNoteEffectBandForcePiano"})(zc||(zc={}));var qi;(function(t){t[t.GuitarPro=0]="GuitarPro",t[t.SongBook=1]="SongBook"})(qi||(qi={}));var Kt;(function(t){t[t.ScoreTitle=0]="ScoreTitle",t[t.ScoreSubTitle=1]="ScoreSubTitle",t[t.ScoreArtist=2]="ScoreArtist",t[t.ScoreAlbum=3]="ScoreAlbum",t[t.ScoreWords=4]="ScoreWords",t[t.ScoreMusic=5]="ScoreMusic",t[t.ScoreWordsAndMusic=6]="ScoreWordsAndMusic",t[t.ScoreCopyright=7]="ScoreCopyright",t[t.GuitarTuning=8]="GuitarTuning",t[t.TrackNames=9]="TrackNames",t[t.ChordDiagrams=10]="ChordDiagrams",t[t.ParenthesisOnTiedBends=11]="ParenthesisOnTiedBends",t[t.TabNotesOnTiedBends=12]="TabNotesOnTiedBends",t[t.ZerosOnDiveWhammys=13]="ZerosOnDiveWhammys",t[t.EffectAlternateEndings=14]="EffectAlternateEndings",t[t.EffectCapo=15]="EffectCapo",t[t.EffectChordNames=16]="EffectChordNames",t[t.EffectCrescendo=17]="EffectCrescendo",t[t.EffectDynamics=18]="EffectDynamics",t[t.EffectFadeIn=19]="EffectFadeIn",t[t.EffectFermata=20]="EffectFermata",t[t.EffectFingering=21]="EffectFingering",t[t.EffectHarmonics=22]="EffectHarmonics",t[t.EffectLetRing=23]="EffectLetRing",t[t.EffectLyrics=24]="EffectLyrics",t[t.EffectMarker=25]="EffectMarker",t[t.EffectOttavia=26]="EffectOttavia",t[t.EffectPalmMute=27]="EffectPalmMute",t[t.EffectPickSlide=28]="EffectPickSlide",t[t.EffectPickStroke=29]="EffectPickStroke",t[t.EffectSlightBeatVibrato=30]="EffectSlightBeatVibrato",t[t.EffectSlightNoteVibrato=31]="EffectSlightNoteVibrato",t[t.EffectTap=32]="EffectTap",t[t.EffectTempo=33]="EffectTempo",t[t.EffectText=34]="EffectText",t[t.EffectTrill=35]="EffectTrill",t[t.EffectTripletFeel=36]="EffectTripletFeel",t[t.EffectWhammyBar=37]="EffectWhammyBar",t[t.EffectWideBeatVibrato=38]="EffectWideBeatVibrato",t[t.EffectWideNoteVibrato=39]="EffectWideNoteVibrato",t[t.EffectLeftHandTap=40]="EffectLeftHandTap",t[t.EffectFreeTime=41]="EffectFreeTime"})(Kt||(Kt={}));class Ib{constructor(){this.notationMode=qi.GuitarPro,this.fingeringMode=zc.ScoreDefault,this.elements=new Map,this.rhythmMode=sd.Hidden,this.rhythmHeight=15,this.transpositionPitches=[],this.displayTranspositionPitches=[],this.smallGraceTabNotes=!0,this.extendBendArrowsOnTiedNotes=!0,this.extendLineEffectsToBeatEnd=!1,this.slurHeight=5}isNotationElementVisible(e){return this.elements.has(e)?this.elements.get(e):Ib.defaultElements.has(e)?Ib.defaultElements.get(e):!0}}Ib.defaultElements=new Map([[Kt.ZerosOnDiveWhammys,!1]]);class Vj{constructor(e){this._value=void 0,this._factory=e}get value(){return this._value===void 0&&(this._value=this._factory()),this._value}}var Cc;(function(t){t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"})(Cc||(Cc={}));class Jf{static format(e,n){return`[AlphaTab][${e}] ${n}`}debug(e,n,...r){console.debug(Jf.format(e,n),...r)}warning(e,n,...r){console.warn(Jf.format(e,n),...r)}info(e,n,...r){console.info(Jf.format(e,n),...r)}error(e,n,...r){console.error(Jf.format(e,n),...r)}}Jf.logLevel=Cc.Info;class Qe{static shouldLog(e){return Qe.logLevel!==Cc.None&&e>=Qe.logLevel}static debug(e,n,...r){Qe.shouldLog(Cc.Debug)&&Qe.log.debug(e,n,...r)}static warning(e,n,...r){Qe.shouldLog(Cc.Warning)&&Qe.log.warning(e,n,...r)}static info(e,n,...r){Qe.shouldLog(Cc.Info)&&Qe.log.info(e,n,...r)}static error(e,n,...r){Qe.shouldLog(Cc.Error)&&Qe.log.error(e,n,...r)}}Qe.logLevel=Cc.Info;Qe.log=new Jf;class EEe{constructor(){this.note=null,this.noteValue=0,this.octave=0}get realValue(){return this.octave*12+this.noteValue}}class yr{static getIndex(e){let n=0;return e<0?n:Math.log2(e)|0}static keySignatureIsFlat(e){return e<0}static keySignatureIsNatural(e){return e===0}static keySignatureIsSharp(e){return e>0}static applyPitchOffsets(e,n){for(let r=0;r<n.tracks.length;r++){if(r<e.notation.displayTranspositionPitches.length)for(let i of n.tracks[r].staves)i.displayTranspositionPitch=-e.notation.displayTranspositionPitches[r];if(r<e.notation.transpositionPitches.length)for(let i of n.tracks[r].staves)i.transpositionPitch=-e.notation.transpositionPitches[r]}}static fingerToString(e,n,r,i){if(e.notation.fingeringMode===zc.ScoreForcePiano||e.notation.fingeringMode===zc.SingleNoteEffectBandForcePiano||id.isPiano(n.voice.bar.staff.track.playbackInfo.program))switch(r){case pn.Unknown:case pn.NoOrDead:return null;case pn.Thumb:return"1";case pn.IndexFinger:return"2";case pn.MiddleFinger:return"3";case pn.AnnularFinger:return"4";case pn.LittleFinger:return"5";default:return null}if(i)switch(r){case pn.Unknown:return null;case pn.NoOrDead:return"0";case pn.Thumb:return"t";case pn.IndexFinger:return"1";case pn.MiddleFinger:return"2";case pn.AnnularFinger:return"3";case pn.LittleFinger:return"4";default:return null}switch(r){case pn.Unknown:case pn.NoOrDead:return null;case pn.Thumb:return"p";case pn.IndexFinger:return"i";case pn.MiddleFinger:return"m";case pn.AnnularFinger:return"a";case pn.LittleFinger:return"c";default:return null}}static isTuning(e){return!!yr.parseTuning(e)}static parseTuning(e){let n="",r="";for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);if(o>=48&&o<=57){if(!n)return null;r+=String.fromCharCode(o)}else if(o>=65&&o<=90||o>=97&&o<=122||o===35)n+=String.fromCharCode(o);else return null}if(!r||!n)return null;let i=new EEe;return i.octave=parseInt(r)+1,i.note=n.toLowerCase(),i.noteValue=yr.getToneForText(i.note),i}static getTuningForText(e){let n=yr.parseTuning(e);return n?n.realValue:-1}static getToneForText(e){switch(e.toLowerCase()){case"c":return 0;case"c#":case"db":return 1;case"d":return 2;case"d#":case"eb":return 3;case"e":return 4;case"f":return 5;case"f#":case"gb":return 6;case"g":return 7;case"g#":case"ab":return 8;case"a":return 9;case"a#":case"bb":return 10;case"b":return 11;default:return 0}}static newGuid(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)}static isAlmostEqualTo(e,n){return Math.abs(e-n)<1e-5}static toHexString(e,n=0){let r="",i="0123456789ABCDEF";do r=String.fromCharCode(i.charCodeAt(e&15))+r,e=e>>4;while(e>0);for(;r.length<n;)r="0"+r;return r}}var _s;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"})(_s||(_s={}));var Q;(function(t){t[t.None=-1]="None",t[t.GClef=57424]="GClef",t[t.CClef=57436]="CClef",t[t.FClef=57442]="FClef",t[t.UnpitchedPercussionClef1=57449]="UnpitchedPercussionClef1",t[t.SixStringTabClef=57453]="SixStringTabClef",t[t.FourStringTabClef=57454]="FourStringTabClef",t[t.TimeSig0=57472]="TimeSig0",t[t.TimeSig1=57473]="TimeSig1",t[t.TimeSig2=57474]="TimeSig2",t[t.TimeSig3=57475]="TimeSig3",t[t.TimeSig4=57476]="TimeSig4",t[t.TimeSig5=57477]="TimeSig5",t[t.TimeSig6=57478]="TimeSig6",t[t.TimeSig7=57479]="TimeSig7",t[t.TimeSig8=57480]="TimeSig8",t[t.TimeSig9=57481]="TimeSig9",t[t.TimeSigCommon=57482]="TimeSigCommon",t[t.TimeSigCutCommon=57483]="TimeSigCutCommon",t[t.NoteheadDoubleWholeSquare=57505]="NoteheadDoubleWholeSquare",t[t.NoteheadDoubleWhole=57504]="NoteheadDoubleWhole",t[t.NoteheadWhole=57506]="NoteheadWhole",t[t.NoteheadHalf=57507]="NoteheadHalf",t[t.NoteheadBlack=57508]="NoteheadBlack",t[t.NoteheadNull=57509]="NoteheadNull",t[t.NoteheadXOrnate=57514]="NoteheadXOrnate",t[t.NoteheadTriangleUpWhole=57531]="NoteheadTriangleUpWhole",t[t.NoteheadTriangleUpHalf=57532]="NoteheadTriangleUpHalf",t[t.NoteheadTriangleUpBlack=57534]="NoteheadTriangleUpBlack",t[t.NoteheadDiamondBlackWide=57564]="NoteheadDiamondBlackWide",t[t.NoteheadDiamondWhite=57565]="NoteheadDiamondWhite",t[t.NoteheadDiamondWhiteWide=57566]="NoteheadDiamondWhiteWide",t[t.NoteheadCircleX=57523]="NoteheadCircleX",t[t.NoteheadXWhole=57511]="NoteheadXWhole",t[t.NoteheadXHalf=57512]="NoteheadXHalf",t[t.NoteheadXBlack=57513]="NoteheadXBlack",t[t.NoteheadParenthesis=57550]="NoteheadParenthesis",t[t.NoteheadSlashedBlack2=57552]="NoteheadSlashedBlack2",t[t.NoteheadCircleSlash=57591]="NoteheadCircleSlash",t[t.NoteheadHeavyX=57592]="NoteheadHeavyX",t[t.NoteheadHeavyXHat=57593]="NoteheadHeavyXHat",t[t.NoteheadSlashVerticalEnds=57600]="NoteheadSlashVerticalEnds",t[t.NoteheadSlashWhiteWhole=57602]="NoteheadSlashWhiteWhole",t[t.NoteheadSlashWhiteHalf=57603]="NoteheadSlashWhiteHalf",t[t.NoteQuarterUp=57813]="NoteQuarterUp",t[t.NoteEighthUp=57815]="NoteEighthUp",t[t.Tremolo3=57890]="Tremolo3",t[t.Tremolo2=57889]="Tremolo2",t[t.Tremolo1=57888]="Tremolo1",t[t.FlagEighthUp=57920]="FlagEighthUp",t[t.FlagEighthDown=57921]="FlagEighthDown",t[t.FlagSixteenthUp=57922]="FlagSixteenthUp",t[t.FlagSixteenthDown=57923]="FlagSixteenthDown",t[t.FlagThirtySecondUp=57924]="FlagThirtySecondUp",t[t.FlagThirtySecondDown=57925]="FlagThirtySecondDown",t[t.FlagSixtyFourthUp=57926]="FlagSixtyFourthUp",t[t.FlagSixtyFourthDown=57927]="FlagSixtyFourthDown",t[t.FlagOneHundredTwentyEighthUp=57928]="FlagOneHundredTwentyEighthUp",t[t.FlagOneHundredTwentyEighthDown=57929]="FlagOneHundredTwentyEighthDown",t[t.FlagTwoHundredFiftySixthUp=57930]="FlagTwoHundredFiftySixthUp",t[t.FlagTwoHundredFiftySixthDown=57931]="FlagTwoHundredFiftySixthDown",t[t.AccidentalFlat=57952]="AccidentalFlat",t[t.AccidentalNatural=57953]="AccidentalNatural",t[t.AccidentalSharp=57954]="AccidentalSharp",t[t.AccidentalDoubleSharp=57955]="AccidentalDoubleSharp",t[t.AccidentalDoubleFlat=57956]="AccidentalDoubleFlat",t[t.AccidentalQuarterToneFlatArrowUp=57968]="AccidentalQuarterToneFlatArrowUp",t[t.AccidentalQuarterToneSharpArrowUp=57972]="AccidentalQuarterToneSharpArrowUp",t[t.AccidentalQuarterToneNaturalArrowUp=57970]="AccidentalQuarterToneNaturalArrowUp",t[t.ArticAccentAbove=58528]="ArticAccentAbove",t[t.ArticAccentBelow=58529]="ArticAccentBelow",t[t.ArticStaccatoAbove=58530]="ArticStaccatoAbove",t[t.ArticStaccatoBelow=58531]="ArticStaccatoBelow",t[t.ArticTenutoAbove=58532]="ArticTenutoAbove",t[t.ArticTenutoBelow=58533]="ArticTenutoBelow",t[t.ArticMarcatoAbove=58540]="ArticMarcatoAbove",t[t.ArticMarcatoBelow=58541]="ArticMarcatoBelow",t[t.FermataAbove=58560]="FermataAbove",t[t.FermataShortAbove=58564]="FermataShortAbove",t[t.FermataLongAbove=58566]="FermataLongAbove",t[t.RestLonga=58593]="RestLonga",t[t.RestDoubleWhole=58594]="RestDoubleWhole",t[t.RestWhole=58595]="RestWhole",t[t.RestHalf=58596]="RestHalf",t[t.RestQuarter=58597]="RestQuarter",t[t.RestEighth=58598]="RestEighth",t[t.RestSixteenth=58599]="RestSixteenth",t[t.RestThirtySecond=58600]="RestThirtySecond",t[t.RestSixtyFourth=58601]="RestSixtyFourth",t[t.RestOneHundredTwentyEighth=58602]="RestOneHundredTwentyEighth",t[t.RestTwoHundredFiftySixth=58603]="RestTwoHundredFiftySixth",t[t.Repeat1Bar=58624]="Repeat1Bar",t[t.Repeat2Bars=58625]="Repeat2Bars",t[t.Ottava=58640]="Ottava",t[t.OttavaAlta=58641]="OttavaAlta",t[t.OttavaBassaVb=58652]="OttavaBassaVb",t[t.Quindicesima=58644]="Quindicesima",t[t.QuindicesimaAlta=58645]="QuindicesimaAlta",t[t.DynamicPPP=58666]="DynamicPPP",t[t.DynamicPP=58667]="DynamicPP",t[t.DynamicPiano=58656]="DynamicPiano",t[t.DynamicMP=58668]="DynamicMP",t[t.DynamicMF=58669]="DynamicMF",t[t.DynamicForte=58658]="DynamicForte",t[t.DynamicFF=58671]="DynamicFF",t[t.DynamicFFF=58672]="DynamicFFF",t[t.OrnamentTrill=58726]="OrnamentTrill",t[t.StringsDownBow=58896]="StringsDownBow",t[t.StringsUpBow=58898]="StringsUpBow",t[t.PictEdgeOfCymbal=59177]="PictEdgeOfCymbal",t[t.GuitarString0=59443]="GuitarString0",t[t.GuitarString1=59444]="GuitarString1",t[t.GuitarString2=59445]="GuitarString2",t[t.GuitarString3=59446]="GuitarString3",t[t.GuitarString4=59447]="GuitarString4",t[t.GuitarString5=59448]="GuitarString5",t[t.GuitarString6=59449]="GuitarString6",t[t.GuitarString7=59450]="GuitarString7",t[t.GuitarString8=59451]="GuitarString8",t[t.GuitarString9=59452]="GuitarString9",t[t.GuitarGolpe=59458]="GuitarGolpe",t[t.FretboardX=59481]="FretboardX",t[t.FretboardO=59482]="FretboardO",t[t.WiggleTrill=60068]="WiggleTrill",t[t.WiggleVibratoMediumFast=60126]="WiggleVibratoMediumFast",t[t.OctaveBaselineM=60565]="OctaveBaselineM",t[t.OctaveBaselineB=60563]="OctaveBaselineB"})(Q||(Q={}));var $t;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})($t||($t={}));var on;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(on||(on={}));class oT{constructor(e,n){this.width=e,this.height=n}}class bt{constructor(e="",n=0,r=0,i=Q.None,s=Q.None,o=Q.None,a=Q.None,l=on.Middle){this.elementType=e,this.outputMidiNumber=r,this.staffLine=n,this.noteHeadDefault=i,this.noteHeadHalf=s!==Q.None?s:i,this.noteHeadWhole=o!==Q.None?o:i,this.techniqueSymbol=a,this.techniqueSymbolPlacement=l}getSymbol(e){switch(e){case ve.Whole:return this.noteHeadWhole;case ve.Half:return this.noteHeadHalf;default:return this.noteHeadDefault}}}class ki{static articulationFromElementVariation(e,n){return e<ki.gp6ElementAndVariationToArticulation.length?(n>=ki.gp6ElementAndVariationToArticulation.length&&(n=0),ki.gp6ElementAndVariationToArticulation[e][n]):38}static getArticulation(e){const n=e.percussionArticulation,r=e.beat.voice.bar.staff.track.percussionArticulations;return n<r.length?r[n]:ki.getArticulationByValue(n)}static getElementAndVariation(e){const n=ki.getArticulation(e);if(!n)return[-1,-1];for(let r=0;r<ki.gp6ElementAndVariationToArticulation.length;r++){const i=ki.gp6ElementAndVariationToArticulation[r];for(let s=0;s<i.length;s++){const o=ki.getArticulationByValue(i[s]);if((o==null?void 0:o.outputMidiNumber)===n.outputMidiNumber)return[r,s]}}return[-1,-1]}static getArticulationByValue(e){return ki.instrumentArticulations.has(e)?ki.instrumentArticulations.get(e):null}}ki.gp6ElementAndVariationToArticulation=[[35,35,35],[38,91,37],[99,100,99],[56,100,56],[102,103,102],[43,43,43],[45,45,45],[47,47,47],[48,48,48],[50,50,50],[42,92,46],[44,44,44],[57,98,57],[49,97,49],[55,95,55],[51,93,127],[52,96,52]];ki.instrumentArticulations=new Map([[38,new bt("snare",3,38,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[37,new bt("snare",3,37,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[91,new bt("snare",3,38,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite)],[42,new bt("hiHat",-1,42,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[92,new bt("hiHat",-1,46,Q.NoteheadCircleSlash,Q.NoteheadCircleSlash,Q.NoteheadCircleSlash)],[46,new bt("hiHat",-1,46,Q.NoteheadCircleX,Q.NoteheadCircleX,Q.NoteheadCircleX)],[44,new bt("hiHat",9,44,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[35,new bt("kickDrum",8,35,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[36,new bt("kickDrum",7,36,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[50,new bt("tom",1,50,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[48,new bt("tom",2,48,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[47,new bt("tom",4,47,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[45,new bt("tom",5,45,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[43,new bt("tom",6,43,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[93,new bt("ride",0,51,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.PictEdgeOfCymbal,on.Bottom)],[51,new bt("ride",0,51,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[53,new bt("ride",0,53,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite)],[94,new bt("ride",0,51,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.ArticStaccatoAbove,on.Top)],[55,new bt("splash",-2,55,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[95,new bt("splash",-2,55,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.ArticStaccatoAbove,on.Bottom)],[52,new bt("china",-3,52,Q.NoteheadHeavyXHat,Q.NoteheadHeavyXHat,Q.NoteheadHeavyXHat)],[96,new bt("china",-3,52,Q.NoteheadHeavyXHat,Q.NoteheadHeavyXHat,Q.NoteheadHeavyXHat)],[49,new bt("crash",-2,49,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.NoteheadHeavyX)],[97,new bt("crash",-2,49,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.ArticStaccatoAbove,on.Bottom)],[57,new bt("crash",-1,57,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.NoteheadHeavyX)],[98,new bt("crash",-1,57,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.NoteheadHeavyX,Q.ArticStaccatoAbove,on.Bottom)],[99,new bt("cowbell",1,56,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpHalf,Q.NoteheadTriangleUpWhole)],[100,new bt("cowbell",1,56,Q.NoteheadXBlack,Q.NoteheadXHalf,Q.NoteheadXWhole)],[56,new bt("cowbell",0,56,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpHalf,Q.NoteheadTriangleUpWhole)],[101,new bt("cowbell",0,56,Q.NoteheadXBlack,Q.NoteheadXHalf,Q.NoteheadXWhole)],[102,new bt("cowbell",-1,56,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpHalf,Q.NoteheadTriangleUpWhole)],[103,new bt("cowbell",-1,56,Q.NoteheadXBlack,Q.NoteheadXHalf,Q.NoteheadXWhole)],[77,new bt("woodblock",-9,77,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack)],[76,new bt("woodblock",-10,76,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack)],[60,new bt("bongo",-4,60,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[104,new bt("bongo",-5,60,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.NoteheadParenthesis,on.Middle)],[105,new bt("bongo",-6,60,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[61,new bt("bongo",-7,61,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[106,new bt("bongo",-8,61,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.NoteheadParenthesis,on.Middle)],[107,new bt("bongo",-16,61,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[66,new bt("timbale",10,66,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[65,new bt("timbale",9,65,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[68,new bt("agogo",12,68,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[67,new bt("agogo",11,67,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[64,new bt("conga",17,64,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[108,new bt("conga",16,64,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[109,new bt("conga",15,64,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.NoteheadParenthesis,on.Middle)],[63,new bt("conga",14,63,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[110,new bt("conga",13,63,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[62,new bt("conga",19,62,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.NoteheadParenthesis,on.Middle)],[72,new bt("whistle",-11,72,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[71,new bt("whistle",-17,71,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[73,new bt("guiro",38,73,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[74,new bt("guiro",37,74,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[86,new bt("surdo",36,86,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[87,new bt("surdo",35,87,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadParenthesis,on.Middle)],[54,new bt("tambourine",3,54,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack)],[111,new bt("tambourine",2,54,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.StringsUpBow,on.Bottom)],[112,new bt("tambourine",1,54,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.NoteheadTriangleUpBlack,Q.StringsDownBow,on.Bottom)],[113,new bt("tambourine",-7,54,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[79,new bt("cuica",30,79,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[78,new bt("cuica",29,78,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[58,new bt("vibraslap",28,58,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[81,new bt("triangle",27,81,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[80,new bt("triangle",26,80,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadParenthesis,on.Middle)],[114,new bt("grancassa",25,43,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[115,new bt("piatti",18,49,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[116,new bt("piatti",24,49,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[69,new bt("cabasa",23,69,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[117,new bt("cabasa",22,69,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.StringsUpBow,on.Bottom)],[85,new bt("castanets",21,85,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[75,new bt("claves",20,75,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[70,new bt("maraca",-12,70,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[118,new bt("maraca",-13,70,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.StringsUpBow,on.Bottom)],[119,new bt("maraca",-14,70,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[120,new bt("maraca",-15,70,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.StringsUpBow,on.Bottom)],[82,new bt("shaker",-23,54,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[122,new bt("shaker",-24,54,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.StringsUpBow,on.Bottom)],[84,new bt("bellTree",-18,53,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[123,new bt("bellTree",-19,53,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole,Q.StringsUpBow,on.Bottom)],[83,new bt("jingleBell",-20,53,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[124,new bt("unpitched",-21,62,Q.NoteheadNull,Q.NoteheadNull,Q.NoteheadNull,Q.GuitarGolpe,on.Top)],[125,new bt("unpitched",-22,62,Q.NoteheadNull,Q.NoteheadNull,Q.NoteheadNull,Q.GuitarGolpe,on.Bottom)],[39,new bt("handClap",3,39,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[40,new bt("snare",3,40,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[31,new bt("snare",3,40,Q.NoteheadSlashedBlack2,Q.NoteheadSlashedBlack2,Q.NoteheadSlashedBlack2)],[41,new bt("tom",5,41,Q.NoteheadBlack,Q.NoteheadHalf,Q.NoteheadWhole)],[59,new bt("ride",2,59,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.PictEdgeOfCymbal,on.Bottom)],[126,new bt("ride",2,59,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[127,new bt("ride",2,59,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite,Q.NoteheadDiamondWhite)],[29,new bt("ride",2,59,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.ArticStaccatoAbove,on.Top)],[30,new bt("crash",-3,49,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[33,new bt("snare",3,37,Q.NoteheadXBlack,Q.NoteheadXBlack,Q.NoteheadXBlack)],[34,new bt("snare",3,38,Q.NoteheadBlack,Q.NoteheadBlack,Q.NoteheadBlack)]]);ki.instrumentArticulationNames=new Map([["Ride (choke)",29],["Cymbal (hit)",30],["Snare (side stick)",31],["Snare (side stick) 2",33],["Snare (hit)",34],["Kick (hit)",35],["Kick (hit) 2",36],["Snare (side stick) 3",37],["Snare (hit) 2",38],["Hand Clap (hit)",39],["Snare (hit) 3",40],["Low Floor Tom (hit)",41],["Hi-Hat (closed)",42],["Very Low Tom (hit)",43],["Pedal Hi-Hat (hit)",44],["Low Tom (hit)",45],["Hi-Hat (open)",46],["Mid Tom (hit)",47],["High Tom (hit)",48],["Crash high (hit)",49],["High Floor Tom (hit)",50],["Ride (middle)",51],["China (hit)",52],["Ride (bell)",53],["Tambourine (hit)",54],["Splash (hit)",55],["Cowbell medium (hit)",56],["Crash medium (hit)",57],["Vibraslap (hit)",58],["Ride (edge)",59],["Hand (hit)",60],["Hand (hit)",61],["Conga high (mute)",62],["Conga high (hit)",63],["Conga low (hit)",64],["Timbale high (hit)",65],["Timbale low (hit)",66],["Agogo high (hit)",67],["Agogo tow (hit)",68],["Cabasa (hit)",69],["Left Maraca (hit)",70],["Whistle high (hit)",71],["Whistle low (hit)",72],["Guiro (hit)",73],["Guiro (scrap-return)",74],["Claves (hit)",75],["Woodblock high (hit)",76],["Woodblock low (hit)",77],["Cuica (mute)",78],["Cuica (open)",79],["Triangle (rnute)",80],["Triangle (hit)",81],["Shaker (hit)",82],["Tinkle Bell (hat)",83],["Jingle Bell (hit)",83],["Bell Tree (hit)",84],["Castanets (hit)",85],["Surdo (hit)",86],["Surdo (mute)",87],["Snare (rim shot)",91],["Hi-Hat (half)",92],["Ride (edge) 2",93],["Ride (choke) 2",94],["Splash (choke)",95],["China (choke)",96],["Crash high (choke)",97],["Crash medium (choke)",98],["Cowbell low (hit)",99],["Cowbell low (tip)",100],["Cowbell medium (tip)",101],["Cowbell high (hit)",102],["Cowbell high (tip)",103],["Hand (mute)",104],["Hand (slap)",105],["Hand (mute) 2",106],["Hand (slap) 2",107],["Conga low (slap)",108],["Conga low (mute)",109],["Conga high (slap)",110],["Tambourine (return)",111],["Tambourine (roll)",112],["Tambourine (hand)",113],["Grancassa (hit)",114],["Piatti (hat)",115],["Piatti (hand)",116],["Cabasa (return)",117],["Left Maraca (return)",118],["Right Maraca (hit)",119],["Right Maraca (return)",120],["Shaker (return)",122],["Bell Tee (return)",123],["Golpe (thumb)",124],["Golpe (finger)",125],["Ride (middle) 2",126],["Ride (bell) 2",127]]);class P0{constructor(){this.tieDestinationNoteId=-1,this.tieOriginNoteId=-1,this.slurDestinationNoteId=-1,this.slurOriginNoteId=-1,this.hammerPullDestinationNoteId=-1,this.hammerPullOriginNoteId=-1}}class ci{constructor(){this.id=ci.GlobalNoteId++,this.index=0,this.accentuated=hi.None,this.bendType=_t.None,this.bendStyle=ur.Default,this.bendOrigin=null,this.isContinuedBend=!1,this.bendPoints=null,this.maxBendPoint=null,this.fret=-1,this.string=-1,this.showStringNumber=!1,this.octave=-1,this.tone=-1,this.percussionArticulation=-1,this.isVisible=!0,this.isLeftHandTapped=!1,this.isHammerPullOrigin=!1,this.hammerPullOrigin=null,this.hammerPullDestination=null,this.isSlurDestination=!1,this.slurOrigin=null,this.slurDestination=null,this.harmonicType=Vt.None,this.harmonicValue=0,this.isGhost=!1,this.isLetRing=!1,this.letRingDestination=null,this.isPalmMute=!1,this.palmMuteDestination=null,this.isDead=!1,this.isStaccato=!1,this.slideInType=us.None,this.slideOutType=hn.None,this.slideTarget=null,this.slideOrigin=null,this.vibrato=Wn.None,this.tieOrigin=null,this.tieDestination=null,this.isTieDestination=!1,this.leftHandFinger=pn.Unknown,this.rightHandFinger=pn.Unknown,this.isFingering=!1,this.trillValue=-1,this.trillSpeed=ve.ThirtySecond,this.durationPercent=1,this.accidentalMode=Pi.Default,this.dynamics=xn.F,this.isEffectSlurOrigin=!1,this.hasEffectSlur=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this._noteIdBag=null}get hasBend(){return this.bendPoints!==null&&this.bendType!==_t.None}get isStringed(){return this.string>=0}get isPiano(){return!this.isStringed&&this.octave>=0&&this.tone>=0}get isPercussion(){return!this.isStringed&&this.percussionArticulation>=0}get element(){return this.isPercussion?ki.getElementAndVariation(this)[0]:-1}get variation(){return this.isPercussion?ki.getElementAndVariation(this)[1]:-1}get isHammerPullDestination(){return!!this.hammerPullOrigin}get isSlurOrigin(){return!!this.slurDestination}get isHarmonic(){return this.harmonicType!==Vt.None}get isTieOrigin(){return this.tieDestination!==null}get trillFret(){return this.trillValue-this.stringTuning}get isTrill(){return this.trillValue>=0}get isEffectSlurDestination(){return!!this.effectSlurOrigin}get stringTuning(){return this.beat.voice.bar.staff.capo+ci.getStringTuning(this.beat.voice.bar.staff,this.string)}static getStringTuning(e,n){return e.tuning.length>0?e.tuning[e.tuning.length-(n-1)-1]:0}get realValue(){return this.calculateRealValue(!0,!0)}get realValueWithoutHarmonic(){return this.calculateRealValue(!0,!1)}calculateRealValue(e,n){const r=e?this.beat.voice.bar.staff.transpositionPitch:0;if(n){let i=this.calculateRealValue(e,!1);return this.isStringed&&(this.harmonicType===Vt.Natural?i=this.harmonicPitch+this.stringTuning-r:i+=this.harmonicPitch),i}else return this.isPercussion?this.percussionArticulation:this.isStringed?this.fret+this.stringTuning-r:this.isPiano?this.octave*12+this.tone-r:0}get harmonicPitch(){if(this.harmonicType===Vt.None||!this.isStringed)return 0;let e=this.harmonicValue;return yr.isAlmostEqualTo(e,2.4)?36:yr.isAlmostEqualTo(e,2.7)?34:e<3?0:e<=3.5?31:e<=4?28:e<=5?24:e<=6?34:e<=7?19:e<=8.5?36:e<=9?28:e<=10?34:e<=11?0:e<=12?12:e<14?0:e<=15?34:e<=16?28:e<=17?36:e<=18?0:e<=19?19:e<=21?0:e<=22?36:e<=24?24:0}get initialBendValue(){return this.hasBend?Math.floor(this.bendPoints[0].value/2):this.bendOrigin?Math.floor(this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value/2):this.isTieDestination&&this.tieOrigin.bendOrigin?Math.floor(this.tieOrigin.bendOrigin.bendPoints[this.tieOrigin.bendOrigin.bendPoints.length-1].value/2):this.beat.hasWhammyBar?Math.floor(this.beat.whammyBarPoints[0].value/2):this.beat.isContinuedWhammy?Math.floor(this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value/2):0}get displayValue(){return this.displayValueWithoutBend+this.initialBendValue}get displayValueWithoutBend(){let e=this.realValue;switch(this.harmonicType!==Vt.Natural&&this.harmonicType!==Vt.None&&(e-=this.harmonicPitch),this.beat.ottava){case Xn._15ma:e-=24;break;case Xn._8va:e-=12;break;case Xn.Regular:break;case Xn._8vb:e+=12;break;case Xn._15mb:e+=24;break}switch(this.beat.voice.bar.clefOttava){case Xn._15ma:e-=24;break;case Xn._8va:e-=12;break;case Xn.Regular:break;case Xn._8vb:e+=12;break;case Xn._15mb:e+=24;break}return e-this.beat.voice.bar.staff.displayTranspositionPitch}get hasQuarterToneOffset(){return this.hasBend?this.bendPoints[0].value%2!==0:this.bendOrigin?this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value%2!==0:this.beat.hasWhammyBar?this.beat.whammyBarPoints[0].value%2!==0:this.beat.isContinuedWhammy?this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value%2!==0:!1}addBendPoint(e){let n=this.bendPoints;n===null&&(n=[],this.bendPoints=n),n.push(e),(!this.maxBendPoint||e.value>this.maxBendPoint.value)&&(this.maxBendPoint=e),this.bendType===_t.None&&(this.bendType=_t.Custom)}finish(e,n=null){let r=new Vj(()=>ci.nextNoteOnSameLine(this)),i=e&&e.notation.notationMode===qi.SongBook;if(this.isTieDestination&&(this.chain(n),i&&this.tieOrigin&&this.tieOrigin.isLetRing&&(this.isLetRing=!0)),this.isLetRing&&(!r.value||!r.value.isLetRing?this.letRingDestination=this:this.letRingDestination=r.value,i&&this.isTieDestination&&!this.tieOrigin.hasBend&&(this.isVisible=!1)),this.isPalmMute&&(!r.value||!r.value.isPalmMute?this.palmMuteDestination=this:this.palmMuteDestination=r.value),this.isHammerPullOrigin){let a=ci.findHammerPullDestination(this);a?(this.hammerPullDestination=a,a.hammerPullOrigin=this):this.isHammerPullOrigin=!1}switch(this.slideOutType){case hn.Shift:case hn.Legato:this.slideTarget=r.value,this.slideTarget?this.slideTarget.slideOrigin=this:this.slideOutType=hn.None;break}let s=null;this.isHammerPullOrigin&&this.hammerPullDestination?s=this.hammerPullDestination:this.slideOutType===hn.Legato&&this.slideTarget&&(s=this.slideTarget),s&&(this.hasEffectSlur=!0,this.effectSlurOrigin&&this.beat.pickStroke===_s.None?(this.effectSlurOrigin.effectSlurDestination=s,this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin,this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=s,this.effectSlurDestination.effectSlurOrigin=this));const o=this.bendPoints;if(o!=null&&o.length>0&&this.bendType===_t.Custom){let a=this.isTieDestination&&this.tieOrigin.hasBend;if(this.isContinuedBend=a,o.length===4){let l=o[0],c=o[1],u=o[2],d=o[3];c.value===u.value?d.value>l.value?c.value>d.value?this.bendType=_t.BendRelease:!a&&l.value>0?(this.bendType=_t.PrebendBend,o.splice(2,1),o.splice(1,1)):(this.bendType=_t.Bend,o.splice(2,1),o.splice(1,1)):d.value<l.value?a?(this.bendType=_t.Release,o.splice(2,1),o.splice(1,1)):(this.bendType=_t.PrebendRelease,o.splice(2,1),o.splice(1,1)):c.value>l.value?this.bendType=_t.BendRelease:l.value>0&&!a?(this.bendType=_t.Prebend,o.splice(2,1),o.splice(1,1)):(this.bendType=_t.Hold,o.splice(2,1),o.splice(1,1)):Qe.warning("Model","Unsupported bend type detected, fallback to custom",null)}else if(o.length===2){let l=o[0],c=o[1];c.value>l.value?!a&&l.value>0?this.bendType=_t.PrebendBend:this.bendType=_t.Bend:c.value<l.value?a?this.bendType=_t.Release:this.bendType=_t.PrebendRelease:l.value>0&&!a?this.bendType=_t.Prebend:this.bendType=_t.Hold}}else(o===null||o.length===0)&&(this.bendType=_t.None);this.initialBendValue>0&&(this.accidentalMode=Pi.Default)}static nextNoteOnSameLine(e){let n=e.beat.nextBeat;for(;n&&n.voice.bar.index<=e.beat.voice.bar.index+ci.MaxOffsetForSameLineSearch;){let r=n.getNoteOnString(e.string);if(r)return r;n=n.nextBeat}return null}static findHammerPullDestination(e){let n=e.beat.nextBeat;for(;n&&n.voice.bar.index<=e.beat.voice.bar.index+ci.MaxOffsetForSameLineSearch;){let r=n.getNoteOnString(e.string);if(r)return r;for(let i=e.string;i>0;i--)if(r=n.getNoteOnString(i),r){if(r.isLeftHandTapped)return r;break}for(let i=e.string;i<=e.beat.voice.bar.staff.tuning.length;i++)if(r=n.getNoteOnString(i),r){if(r.isLeftHandTapped)return r;break}n=n.nextBeat}return null}static findTieOrigin(e){let n=e.beat.previousBeat;for(;n&&n.voice.bar.index>=e.beat.voice.bar.index-ci.MaxOffsetForSameLineSearch;){if(e.isStringed){let r=n.getNoteOnString(e.string);if(r)return r}else if(e.octave===-1&&e.tone===-1){if(e.index<n.notes.length)return n.notes[e.index]}else{let r=n.getNoteWithRealValue(e.realValue);if(r)return r}n=n.previousBeat}return null}chain(e=null){if(e!==null)if(this._noteIdBag!==null){let n;e.has(ci.NoteIdLookupKey)?n=e.get(ci.NoteIdLookupKey):(n=new Map,e.set(ci.NoteIdLookupKey,n)),(this._noteIdBag.hammerPullDestinationNoteId!==-1||this._noteIdBag.tieDestinationNoteId!==-1||this._noteIdBag.slurDestinationNoteId!==-1)&&n.set(this.id,this),this._noteIdBag.hammerPullOriginNoteId!==-1&&(this.hammerPullOrigin=n.get(this._noteIdBag.hammerPullOriginNoteId),this.hammerPullOrigin.hammerPullDestination=this),this._noteIdBag.tieOriginNoteId!==-1&&(this.tieOrigin=n.get(this._noteIdBag.tieOriginNoteId),this.tieOrigin.tieDestination=this),this._noteIdBag.slurOriginNoteId!==-1&&(this.slurOrigin=n.get(this._noteIdBag.slurOriginNoteId),this.slurOrigin.slurDestination=this),this._noteIdBag=null}else{if(!this.isTieDestination&&this.tieOrigin===null)return;let n=this.tieOrigin??ci.findTieOrigin(this);n?(n.tieDestination=this,this.tieOrigin=n,this.fret=n.fret,this.octave=n.octave,this.tone=n.tone,n.hasBend&&(this.bendOrigin=this.tieOrigin)):this.isTieDestination=!1}}toJson(e){this.tieDestination!==null&&e.set("tiedestinationnoteid",this.tieDestination.id),this.tieOrigin!==null&&e.set("tieoriginnoteid",this.tieOrigin.id),this.slurDestination!==null&&e.set("slurdestinationnoteid",this.slurDestination.id),this.slurOrigin!==null&&e.set("sluroriginnoteid",this.slurOrigin.id),this.hammerPullOrigin!==null&&e.set("hammerpulloriginnoteid",this.hammerPullOrigin.id),this.hammerPullDestination!==null&&e.set("hammerpulldestinationnoteid",this.hammerPullDestination.id)}setProperty(e,n){switch(e){case"tiedestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.tieDestinationNoteId=n,!0;case"tieoriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.tieOriginNoteId=n,!0;case"slurdestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.slurDestinationNoteId=n,!0;case"sluroriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.slurOriginNoteId=n,!0;case"hammerpulloriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.hammerPullOriginNoteId=n,!0;case"hammerpulldestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new P0),this._noteIdBag.hammerPullDestinationNoteId=n,!0}return!1}}ci.GlobalNoteId=0;ci.MaxOffsetForSameLineSearch=3;ci.NoteIdLookupKey="NoteIdLookup";class ws{constructor(e){this._isEqualLengthTuplet=!0,this.totalDuration=0,this.beats=[],this.isFull=!1,this.voice=e}check(e){if(this.beats.length===0)return this.beats.push(e),this.totalDuration+=e.playbackDuration,!0;if(e.graceType!==Dt.None)return!0;if(e.voice!==this.voice||this.isFull||e.tupletNumerator!==this.beats[0].tupletNumerator||e.tupletDenominator!==this.beats[0].tupletDenominator)return!1;if(e.playbackDuration!==this.beats[0].playbackDuration&&(this._isEqualLengthTuplet=!1),this.beats.push(e),this.totalDuration+=e.playbackDuration,this._isEqualLengthTuplet)this.beats.length===this.beats[0].tupletNumerator&&(this.isFull=!0);else{let n=this.beats[0].tupletNumerator/this.beats[0].tupletDenominator|0;for(let r of ws.AllTicks)if(this.totalDuration===r*n){this.isFull=!0;break}}return!0}}ws.HalfTicks=1920;ws.QuarterTicks=960;ws.EighthTicks=480;ws.SixteenthTicks=240;ws.ThirtySecondTicks=120;ws.SixtyFourthTicks=60;ws.OneHundredTwentyEighthTicks=30;ws.TwoHundredFiftySixthTicks=15;ws.AllTicks=[ws.HalfTicks,ws.QuarterTicks,ws.EighthTicks,ws.SixteenthTicks,ws.ThirtySecondTicks,ws.SixtyFourthTicks,ws.OneHundredTwentyEighthTicks,ws.TwoHundredFiftySixthTicks];var Yn;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Dive=2]="Dive",t[t.Dip=3]="Dip",t[t.Hold=4]="Hold",t[t.Predive=5]="Predive",t[t.PrediveDive=6]="PrediveDive"})(Yn||(Yn={}));class zj{static clone(e){const n=new dt;return n.offset=e.offset,n.value=e.value,n}}class Wj{static clone(e){const n=new ci;if(n.index=e.index,n.accentuated=e.accentuated,n.bendType=e.bendType,n.bendStyle=e.bendStyle,n.isContinuedBend=e.isContinuedBend,e.bendPoints){n.bendPoints=[];for(const r of e.bendPoints)n.addBendPoint(zj.clone(r))}return n.fret=e.fret,n.string=e.string,n.showStringNumber=e.showStringNumber,n.octave=e.octave,n.tone=e.tone,n.percussionArticulation=e.percussionArticulation,n.isVisible=e.isVisible,n.isLeftHandTapped=e.isLeftHandTapped,n.isHammerPullOrigin=e.isHammerPullOrigin,n.isSlurDestination=e.isSlurDestination,n.harmonicType=e.harmonicType,n.harmonicValue=e.harmonicValue,n.isGhost=e.isGhost,n.isLetRing=e.isLetRing,n.isPalmMute=e.isPalmMute,n.isDead=e.isDead,n.isStaccato=e.isStaccato,n.slideInType=e.slideInType,n.slideOutType=e.slideOutType,n.vibrato=e.vibrato,n.isTieDestination=e.isTieDestination,n.leftHandFinger=e.leftHandFinger,n.rightHandFinger=e.rightHandFinger,n.isFingering=e.isFingering,n.trillValue=e.trillValue,n.trillSpeed=e.trillSpeed,n.durationPercent=e.durationPercent,n.accidentalMode=e.accidentalMode,n.dynamics=e.dynamics,n}}class BEe{static clone(e){const n=new Ls;return n.isLinear=e.isLinear,n.type=e.type,n.value=e.value,n.ratioPosition=e.ratioPosition,n.text=e.text,n}}class hI{static clone(e){const n=new Fs;n.index=e.index,n.notes=[];for(const r of e.notes)n.addNote(Wj.clone(r));n.isEmpty=e.isEmpty,n.whammyStyle=e.whammyStyle,n.ottava=e.ottava,n.isLegatoOrigin=e.isLegatoOrigin,n.duration=e.duration,n.isLetRing=e.isLetRing,n.isPalmMute=e.isPalmMute,n.automations=[];for(const r of e.automations)n.automations.push(BEe.clone(r));if(n.dots=e.dots,n.fadeIn=e.fadeIn,n.lyrics=e.lyrics?e.lyrics.slice():null,n.hasRasgueado=e.hasRasgueado,n.pop=e.pop,n.slap=e.slap,n.tap=e.tap,n.text=e.text,n.slashed=e.slashed,n.brushType=e.brushType,n.brushDuration=e.brushDuration,n.tupletDenominator=e.tupletDenominator,n.tupletNumerator=e.tupletNumerator,n.isContinuedWhammy=e.isContinuedWhammy,n.whammyBarType=e.whammyBarType,e.whammyBarPoints){n.whammyBarPoints=[];for(const r of e.whammyBarPoints)n.addWhammyBarPoint(zj.clone(r))}return n.vibrato=e.vibrato,n.chordId=e.chordId,n.graceType=e.graceType,n.pickStroke=e.pickStroke,n.tremoloSpeed=e.tremoloSpeed,n.crescendo=e.crescendo,n.displayStart=e.displayStart,n.playbackStart=e.playbackStart,n.displayDuration=e.displayDuration,n.playbackDuration=e.playbackDuration,n.dynamics=e.dynamics,n.invertBeamDirection=e.invertBeamDirection,n.preferredBeamDirection=e.preferredBeamDirection,n.isEffectSlurOrigin=e.isEffectSlurOrigin,n.beamingMode=e.beamingMode,n}}class WE{constructor(){this.beats=[],this.id="empty",this.isComplete=!1}addBeat(e){e.graceIndex=this.beats.length,e.graceGroup=this,this.beats.push(e)}finish(){this.beats.length>0&&(this.id=this.beats[0].absoluteDisplayStart+"_"+this.beats[0].voice.index)}}var _c;(function(t){t[t.Auto=0]="Auto",t[t.ForceSplitToNext=1]="ForceSplitToNext",t[t.ForceMergeWithNext=2]="ForceMergeWithNext"})(_c||(_c={}));class Fs{constructor(){this.id=Fs._globalBeatId++,this.index=0,this.previousBeat=null,this.nextBeat=null,this.notes=[],this.noteStringLookup=new Map,this.noteValueLookup=new Map,this.isEmpty=!1,this.whammyStyle=ur.Default,this.ottava=Xn.Regular,this.fermata=null,this.isLegatoOrigin=!1,this.minNote=null,this.maxNote=null,this.maxStringNote=null,this.minStringNote=null,this.duration=ve.Quarter,this.isLetRing=!1,this.isPalmMute=!1,this.automations=[],this.dots=0,this.fadeIn=!1,this.lyrics=null,this.hasRasgueado=!1,this.pop=!1,this.slap=!1,this.tap=!1,this.text=null,this.slashed=!1,this.brushType=Mr.None,this.brushDuration=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.tupletGroup=null,this.isContinuedWhammy=!1,this.whammyBarType=Yn.None,this.whammyBarPoints=null,this.maxWhammyPoint=null,this.minWhammyPoint=null,this.vibrato=Wn.None,this.chordId=null,this.graceType=Dt.None,this.graceGroup=null,this.graceIndex=-1,this.pickStroke=_s.None,this.tremoloSpeed=null,this.crescendo=Yo.None,this.displayStart=0,this.playbackStart=0,this.displayDuration=0,this.playbackDuration=0,this.dynamics=xn.F,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isEffectSlurOrigin=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this.beamingMode=_c.Auto}get isLastOfVoice(){return this.index===this.voice.beats.length-1}get isLegatoDestination(){return!!this.previousBeat&&this.previousBeat.isLegatoOrigin}get isRest(){return this.isEmpty||this.notes.length===0}get isFullBarRest(){return this.isRest&&this.voice.beats.length===1&&this.duration===ve.Whole}get hasTuplet(){return!(this.tupletDenominator===-1&&this.tupletNumerator===-1)&&!(this.tupletDenominator===1&&this.tupletNumerator===1)}get hasWhammyBar(){return this.whammyBarPoints!==null&&this.whammyBarType!==Yn.None}get hasChord(){return!!this.chordId}get chord(){return this.chordId?this.voice.bar.staff.getChord(this.chordId):null}get isTremolo(){return!!this.tremoloSpeed}get absoluteDisplayStart(){return this.voice.bar.masterBar.start+this.displayStart}get absolutePlaybackStart(){return this.voice.bar.masterBar.start+this.playbackStart}get isEffectSlurDestination(){return!!this.effectSlurOrigin}addWhammyBarPoint(e){let n=this.whammyBarPoints;n===null&&(n=[],this.whammyBarPoints=n),n.push(e),(!this.maxWhammyPoint||e.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=e),(!this.minWhammyPoint||e.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=e),this.whammyBarType===Yn.None&&(this.whammyBarType=Yn.Custom)}removeWhammyBarPoint(e){const n=this.whammyBarPoints;if(n===null||e<0||e>=n.length)return;n.splice(e,1);let r=n[e];if(r===this.maxWhammyPoint){this.maxWhammyPoint=null;for(let i of n)(!this.maxWhammyPoint||i.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=i)}if(r===this.minWhammyPoint){this.minWhammyPoint=null;for(let i of n)(!this.minWhammyPoint||i.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=i)}}addNote(e){e.beat=this,e.index=this.notes.length,this.notes.push(e),e.isStringed&&this.noteStringLookup.set(e.string,e)}removeNote(e){let n=this.notes.indexOf(e);n>=0&&(this.notes.splice(n,1),e.isStringed&&this.noteStringLookup.delete(e.string))}getAutomation(e){for(let n=0,r=this.automations.length;n<r;n++){let i=this.automations[n];if(i.type===e)return i}return null}getNoteOnString(e){return this.noteStringLookup.has(e)?this.noteStringLookup.get(e):null}calculateDuration(){if(this.isFullBarRest)return this.voice.bar.masterBar.calculateDuration();let e=un.toTicks(this.duration);return this.dots===2?e=un.applyDot(e,!0):this.dots===1&&(e=un.applyDot(e,!1)),this.tupletDenominator>0&&this.tupletNumerator>=0&&(e=un.applyTuplet(e,this.tupletNumerator,this.tupletDenominator)),e}updateDurations(){let e=this.calculateDuration();switch(this.playbackDuration=e,this.graceType){case Dt.BeforeBeat:case Dt.OnBeat:switch(this.duration){case ve.Sixteenth:this.playbackDuration=un.toTicks(ve.SixtyFourth);break;case ve.ThirtySecond:this.playbackDuration=un.toTicks(ve.OneHundredTwentyEighth);break;default:this.playbackDuration=un.toTicks(ve.ThirtySecond);break}this.displayDuration=0;break;case Dt.BendGrace:this.playbackDuration/=2,this.displayDuration=0;break;default:this.displayDuration=e;let n=this.previousBeat;n&&n.graceType===Dt.BendGrace&&(this.playbackDuration=n.playbackDuration);break}}finishTuplet(){let e=this.previousBeat,n=e?e.tupletGroup:null;if((this.hasTuplet||this.graceType!==Dt.None&&n)&&((!e||!n||!n.check(this))&&(n=new ws(this.voice),n.check(this)),this.tupletGroup=n),this.index>0){const r=this.voice.bar.masterBar.calculateDuration(),i=[];for(const s of this.automations)s.ratioPosition===0&&(s.ratioPosition=this.playbackStart/r),s.type!==Di.Volume&&i.push(s);this.automations=i}}finish(e,n=null){switch(this.getAutomation(Di.Instrument)===null&&this.index===0&&this.voice.index===0&&this.voice.bar.index===0&&this.voice.bar.staff.index===0&&this.automations.push(Ls.buildInstrumentAutomation(!1,0,this.voice.bar.staff.track.playbackInfo.program)),this.graceType){case Dt.OnBeat:case Dt.BeforeBeat:let c=this.graceGroup.beats.length;c===1?this.duration=ve.Eighth:c===2?this.duration=ve.Sixteenth:this.duration=ve.ThirtySecond;break}let r=e?e.notation.notationMode:qi.GuitarPro,i=this.text==="grad"||this.text==="grad.";i&&r===qi.SongBook&&(this.text="");let s=!1;this.minNote=null,this.maxNote=null,this.minStringNote=null,this.maxStringNote=null;let o=0,a=!1;for(let c=0,u=this.notes.length;c<u;c++){let d=this.notes[c];if(d.dynamics=this.dynamics,d.finish(e,n),d.isLetRing&&(this.isLetRing=!0),d.isPalmMute&&(this.isPalmMute=!0),r===qi.SongBook&&d.hasBend&&this.graceType!==Dt.BendGrace){if(!d.isTieOrigin)switch(d.bendType){case _t.Bend:case _t.PrebendRelease:case _t.PrebendBend:s=!0;break}i||d.bendStyle===ur.Gradual?(i=!0,d.bendStyle=ur.Gradual,s=!1):d.bendStyle=ur.Fast}d.isVisible&&(o++,(!this.minNote||d.realValue<this.minNote.realValue)&&(this.minNote=d),(!this.maxNote||d.realValue>this.maxNote.realValue)&&(this.maxNote=d),(!this.minStringNote||d.string<this.minStringNote.string)&&(this.minStringNote=d),(!this.maxStringNote||d.string>this.maxStringNote.string)&&(this.maxStringNote=d),d.hasEffectSlur&&(a=!0))}if(a&&(this.effectSlurOrigin?(this.effectSlurOrigin.effectSlurDestination=this.nextBeat,this.effectSlurOrigin.effectSlurDestination&&(this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin),this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=this.nextBeat,this.effectSlurDestination&&(this.effectSlurDestination.effectSlurOrigin=this))),this.notes.length>0&&o===0&&(this.isEmpty=!0),!this.isRest&&(!this.isLetRing||!this.isPalmMute)){let c=this.previousBeat;for(;c&&c.isRest;)this.isLetRing||(c.isLetRing=!1),this.isPalmMute||(c.isPalmMute=!1),c=c.previousBeat}else this.isRest&&this.previousBeat&&e&&e.notation.notationMode===qi.GuitarPro&&(this.previousBeat.isLetRing&&(this.isLetRing=!0),this.previousBeat.isPalmMute&&(this.isPalmMute=!0));const l=this.whammyBarPoints;if(l!==null&&l.length>0&&this.whammyBarType===Yn.Custom){r===qi.SongBook&&(this.whammyStyle=i?ur.Gradual:ur.Fast);let c=!!this.previousBeat&&this.previousBeat.hasWhammyBar;if(this.isContinuedWhammy=c,l.length===4){let u=l[0],d=l[1],h=l[2],f=l[3];d.value===h.value&&(u.value<d.value&&d.value<f.value||u.value>d.value&&d.value>f.value?(u.value!==0&&!c?this.whammyBarType=Yn.PrediveDive:this.whammyBarType=Yn.Dive,l.splice(2,1),l.splice(1,1)):u.value>d.value&&d.value<f.value||u.value<d.value&&d.value>f.value?(this.whammyBarType=Yn.Dip,(d.offset===h.offset||r===qi.SongBook)&&l.splice(2,1)):u.value===d.value&&d.value===f.value&&(u.value!==0&&!c?this.whammyBarType=Yn.Predive:this.whammyBarType=Yn.Hold,l.splice(2,1),l.splice(1,1)))}}if(this.updateDurations(),s){let c=hI.clone(this);c.id=Fs._globalBeatId++,c.pickStroke=_s.None;for(let u=0,d=c.notes.length;u<d;u++){let h=c.notes[u],f=this.notes[u];if(h.bendType=_t.None,h.maxBendPoint=null,h.bendPoints=null,h.bendStyle=ur.Default,h.id=ci.GlobalNoteId++,f.isTieOrigin&&(h.tieDestination=f.tieDestination,f.tieDestination.tieOrigin=h),f.isTieDestination&&(h.tieOrigin=f.tieOrigin?f.tieOrigin:null,f.tieOrigin.tieDestination=h),f.hasBend&&f.isTieOrigin){let p=ci.findTieOrigin(f);if(p&&p.hasBend){h.bendType=_t.Hold;let m=f.bendPoints[f.bendPoints.length-1];h.addBendPoint(new dt(0,m.value)),h.addBendPoint(new dt(dt.MaxPosition,m.value))}}h.isTieDestination=!0}this.graceType=Dt.BendGrace,this.graceGroup=new WE,this.graceGroup.addBeat(this),this.graceGroup.isComplete=!0,this.graceGroup.finish(),this.updateDurations(),this.voice.insertBeat(this,c),c.graceGroup=new WE,c.graceGroup.addBeat(this),c.graceGroup.isComplete=!0,c.graceGroup.finish()}}isBefore(e){return this.voice.bar.index<e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index<e.index}isAfter(e){return this.voice.bar.index>e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index>e.index}hasNoteOnString(e){return this.noteStringLookup.has(e)}getNoteWithRealValue(e){return this.noteValueLookup.has(e)?this.noteValueLookup.get(e):null}chain(e=null){for(const n of this.notes)this.noteValueLookup.set(n.realValue,n),n.chain(e)}}Fs._globalBeatId=0;class Xh{constructor(){this.name="",this.firstFret=1,this.strings=[],this.barreFrets=[],this.showName=!0,this.showDiagram=!0,this.showFingering=!0}get uniqueId(){return[this.name,this.firstFret.toString(),this.strings.join(","),this.barreFrets.join(","),this.showDiagram.toString(),this.showFingering.toString(),this.showName.toString()].join("|")}}var Cn;(function(t){t[t.Cb=-7]="Cb",t[t.Gb=-6]="Gb",t[t.Db=-5]="Db",t[t.Ab=-4]="Ab",t[t.Eb=-3]="Eb",t[t.Bb=-2]="Bb",t[t.F=-1]="F",t[t.C=0]="C",t[t.G=1]="G",t[t.D=2]="D",t[t.A=3]="A",t[t.E=4]="E",t[t.B=5]="B",t[t.FSharp=6]="FSharp",t[t.CSharp=7]="CSharp"})(Cn||(Cn={}));var Ys;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Dash=4]="Dash"})(Ys||(Ys={}));class Ai{constructor(){this.startBar=0,this.text=""}finish(e=!1){this.chunks=[],this.parse(this.text,0,this.chunks,e)}parse(e,n,r,i){if(!e)return;let s=Ys.Begin,o=Ys.Begin,a=!1,l=0;for(;n<e.length;){let c=e.charCodeAt(n);switch(s){case Ys.IgnoreSpaces:switch(c){case Ai.CharCodeLF:case Ai.CharCodeCR:case Ai.CharCodeTab:break;case Ai.CharCodeSpace:if(!a){s=o;continue}break;default:a=!1,s=o;continue}break;case Ys.Begin:switch(c){case Ai.CharCodeBrackedOpen:s=Ys.Comment;break;default:l=n,s=Ys.Text;continue}break;case Ys.Comment:switch(c){case Ai.CharCodeBrackedClose:s=Ys.Begin;break}break;case Ys.Text:switch(c){case Ai.CharCodeDash:s=Ys.Dash;break;case Ai.CharCodeCR:case Ai.CharCodeLF:case Ai.CharCodeSpace:let u=e.substr(l,n-l);this.addChunk(u,i),s=Ys.IgnoreSpaces,o=Ys.Begin;break}break;case Ys.Dash:switch(c){case Ai.CharCodeDash:break;default:let u=e.substr(l,n-l);this.addChunk(u,i),a=!0,s=Ys.IgnoreSpaces,o=Ys.Begin;continue}break}n+=1}s===Ys.Text&&n!==l&&this.addChunk(e.substr(l,n-l),i)}addChunk(e,n){e=this.prepareChunk(e),(!n||e.length>0&&e!=="-")&&this.chunks.push(e)}prepareChunk(e){let n=e.split("+").join(" "),r=n.length;for(;r>0&&n.charAt(r-1)==="_";)r--;return r!==n.length?n.substr(0,r):n}}Ai.CharCodeLF=10;Ai.CharCodeTab=9;Ai.CharCodeCR=13;Ai.CharCodeSpace=32;Ai.CharCodeBrackedClose=93;Ai.CharCodeBrackedOpen=91;Ai.CharCodeDash=45;var Wc;(function(t){t[t.Major=0]="Major",t[t.Minor=1]="Minor"})(Wc||(Wc={}));var vn;(function(t){t[t.NoTripletFeel=0]="NoTripletFeel",t[t.Triplet16th=1]="Triplet16th",t[t.Triplet8th=2]="Triplet8th",t[t.Dotted16th=3]="Dotted16th",t[t.Dotted8th=4]="Dotted8th",t[t.Scottish16th=5]="Scottish16th",t[t.Scottish8th=6]="Scottish8th"})(vn||(vn={}));class Pd{constructor(){this.alternateEndings=0,this.nextMasterBar=null,this.previousMasterBar=null,this.index=0,this.keySignature=Cn.C,this.keySignatureType=Wc.Major,this.isDoubleBar=!1,this.isRepeatStart=!1,this.repeatCount=0,this.timeSignatureNumerator=4,this.timeSignatureDenominator=4,this.timeSignatureCommon=!1,this.isFreeTime=!1,this.tripletFeel=vn.NoTripletFeel,this.section=null,this.tempoAutomations=[],this.fermata=null,this.start=0,this.isAnacrusis=!1,this.displayScale=1,this.displayWidth=-1}get isRepeatEnd(){return this.repeatCount>0}get isSectionStart(){return!!this.section}get tempoAutomation(){return this.tempoAutomations.length>0?this.tempoAutomations[0]:null}calculateDuration(e=!0){if(this.isAnacrusis&&e){let n=0;for(let r of this.score.tracks)for(let i of r.staves){let s=this.index<i.bars.length?i.bars[this.index].calculateDuration():0;s>n&&(n=s)}return n}return this.timeSignatureNumerator*un.valueToTicks(this.timeSignatureDenominator)}addFermata(e,n){let r=this.fermata;r===null&&(r=new Map,this.fermata=r),r.set(e,n)}getFermata(e){const n=this.fermata;return n===null?null:n.has(e.playbackStart)?n.get(e.playbackStart):null}}Pd.MaxAlternateEndings=8;class NEe{constructor(){this.hideDynamics=!1}}class qO{constructor(){this.masterBars=[],this.opening=null,this.closings=[],this.isClosed=!1}get openings(){const e=this.opening;return e?[e]:[]}get isOpened(){var e;return((e=this.opening)==null?void 0:e.isRepeatStart)===!0}addMasterBar(e){this.opening===null&&(this.opening=e),this.masterBars.push(e),e.repeatGroup=this,e.isRepeatEnd&&(this.closings.push(e),this.isClosed=!0)}}class jp{constructor(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0,this.album="",this.artist="",this.copyright="",this.instructions="",this.music="",this.notices="",this.subTitle="",this.title="",this.words="",this.tab="",this.tempo=120,this.tempoLabel="",this.masterBars=[],this.tracks=[],this.defaultSystemsLayout=3,this.systemsLayout=[],this.stylesheet=new NEe}rebuildRepeatGroups(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0;for(const e of this.masterBars)this.addMasterBarToRepeatGroups(e)}addMasterBar(e){e.score=this,e.index=this.masterBars.length,this.masterBars.length!==0&&(e.previousMasterBar=this.masterBars[this.masterBars.length-1],e.previousMasterBar.nextMasterBar=e,e.start=e.previousMasterBar.start+(e.previousMasterBar.isAnacrusis?0:e.previousMasterBar.calculateDuration())),this.addMasterBarToRepeatGroups(e),this.masterBars.push(e)}addMasterBarToRepeatGroups(e){var n;e.isRepeatStart?((n=this._currentRepeatGroup)!=null&&n.isClosed&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--),this._currentRepeatGroup=new qO,this._openedRepeatGroups.push(this._currentRepeatGroup),this._properlyOpenedRepeatGroups++):this._currentRepeatGroup||(this._currentRepeatGroup=new qO,this._openedRepeatGroups.push(this._currentRepeatGroup)),this._currentRepeatGroup.addMasterBar(e),e.isRepeatEnd&&this._properlyOpenedRepeatGroups>1&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--,this._currentRepeatGroup=this._openedRepeatGroups.length>0?this._openedRepeatGroups[this._openedRepeatGroups.length-1]:null)}addTrack(e){e.score=this,e.index=this.tracks.length,this.tracks.push(e)}finish(e){const n=new Map;for(let r=0,i=this.tracks.length;r<i;r++)this.tracks[r].finish(e,n)}}class aT{constructor(){this.marker="",this.text=""}}class Ii extends fs{constructor(e){super(hs.Format,e),Object.setPrototypeOf(this,Ii.prototype)}}let Zr=class eu{constructor(e,n,r,i=255){this.raw=0,this.raw=(i&255)<<24|(e&255)<<16|(n&255)<<8|r&255,this.updateRgba()}updateRgba(){this.a===255?this.rgba="#"+yr.toHexString(this.r,2)+yr.toHexString(this.g,2)+yr.toHexString(this.b,2):this.rgba=`rgba(${this.r},${this.g},${this.b},${this.a/255})`}get a(){return this.raw>>24&255}get r(){return this.raw>>16&255}get g(){return this.raw>>8&255}get b(){return this.raw&255}static random(e=100){return new eu(Math.random()*255|0,Math.random()*255|0,Math.random()*255|0,e)}static fromJson(e){if(e instanceof eu)return e;switch(typeof e){case"number":{const n=new eu(0,0,0,0);return n.raw=e,n.updateRgba(),n}case"string":{const n=e;if(n.startsWith("#")){if(n.length===4)return new eu(parseInt(n[1],16)*17,parseInt(n[2],16)*17,parseInt(n[3],16)*17);if(n.length===5)return new eu(parseInt(n[1],16)*17,parseInt(n[2],16)*17,parseInt(n[3],16)*17,parseInt(n[4],16)*17);if(n.length===7)return new eu(parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16));if(n.length===9)return new eu(parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16),parseInt(n.substring(7,9),16))}else if(n.startsWith("rgba")||n.startsWith("rgb")){const r=n.indexOf("("),i=n.lastIndexOf(")");if(r===-1||i===-1)throw new Ii("No values specified for rgb/rgba function");const s=n.substring(r+1,i).split(",");if(s.length===3)return new eu(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));if(s.length===4)return new eu(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseFloat(s[3])*255)}return null}}throw new Ii("Unsupported format for color")}static toJson(e){return e.raw}};Zr.BlackRgb="#000000";class Gj{constructor(){this.volume=15,this.balance=8,this.port=1,this.program=0,this.primaryChannel=0,this.secondaryChannel=0,this.isMute=!1,this.isSolo=!1}}class it{static getTextForTuning(e,n){let r=it.getTextPartsForTuning(e);return n?r.join(""):r[0]}static getTextPartsForTuning(e,n=-1){let r=e/12|0,i=e%12;return[["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][i],(r+n).toString()]}static getDefaultTuningFor(e){return it._defaultTunings.has(e)?it._defaultTunings.get(e):null}static getPresetsFor(e){switch(e){case 7:return it._sevenStrings;case 6:return it._sixStrings;case 5:return it._fiveStrings;case 4:return it._fourStrings}return[]}static initialize(){it._defaultTunings.set(7,new it("Guitar 7 strings",[64,59,55,50,45,40,35],!0)),it._sevenStrings.push(it._defaultTunings.get(7)),it._defaultTunings.set(6,new it("Guitar Standard Tuning",[64,59,55,50,45,40],!0)),it._sixStrings.push(it._defaultTunings.get(6)),it._sixStrings.push(new it("Guitar Tune down  step",[63,58,54,49,44,39],!1)),it._sixStrings.push(new it("Guitar Tune down 1 step",[62,57,53,48,43,38],!1)),it._sixStrings.push(new it("Guitar Tune down 2 step",[60,55,51,46,41,36],!1)),it._sixStrings.push(new it("Guitar Dropped D Tuning",[64,59,55,50,45,38],!1)),it._sixStrings.push(new it("Guitar Dropped D Tuning variant",[64,57,55,50,45,38],!1)),it._sixStrings.push(new it("Guitar Double Dropped D Tuning",[62,59,55,50,45,38],!1)),it._sixStrings.push(new it("Guitar Dropped E Tuning",[66,61,57,52,47,40],!1)),it._sixStrings.push(new it("Guitar Dropped C Tuning",[62,57,53,48,43,36],!1)),it._sixStrings.push(new it("Guitar Open C Tuning",[64,60,55,48,43,36],!1)),it._sixStrings.push(new it("Guitar Open Cm Tuning",[63,60,55,48,43,36],!1)),it._sixStrings.push(new it("Guitar Open C6 Tuning",[64,57,55,48,43,36],!1)),it._sixStrings.push(new it("Guitar Open Cmaj7 Tuning",[64,59,55,52,43,36],!1)),it._sixStrings.push(new it("Guitar Open D Tuning",[62,57,54,50,45,38],!1)),it._sixStrings.push(new it("Guitar Open Dm Tuning",[62,57,53,50,45,38],!1)),it._sixStrings.push(new it("Guitar Open D5 Tuning",[62,57,50,50,45,38],!1)),it._sixStrings.push(new it("Guitar Open D6 Tuning",[62,59,54,50,45,38],!1)),it._sixStrings.push(new it("Guitar Open Dsus4 Tuning",[62,57,55,50,45,38],!1)),it._sixStrings.push(new it("Guitar Open E Tuning",[64,59,56,52,47,40],!1)),it._sixStrings.push(new it("Guitar Open Em Tuning",[64,59,55,52,47,40],!1)),it._sixStrings.push(new it("Guitar Open Esus11 Tuning",[64,59,55,52,45,40],!1)),it._sixStrings.push(new it("Guitar Open F Tuning",[65,60,53,48,45,41],!1)),it._sixStrings.push(new it("Guitar Open G Tuning",[62,59,55,50,43,38],!1)),it._sixStrings.push(new it("Guitar Open Gm Tuning",[62,58,55,50,43,38],!1)),it._sixStrings.push(new it("Guitar Open G6 Tuning",[64,59,55,50,43,38],!1)),it._sixStrings.push(new it("Guitar Open Gsus4 Tuning",[62,60,55,50,43,38],!1)),it._sixStrings.push(new it("Guitar Open A Tuning",[64,61,57,52,45,40],!1)),it._sixStrings.push(new it("Guitar Open Am Tuning",[64,60,57,52,45,40],!1)),it._sixStrings.push(new it("Guitar Nashville Tuning",[64,59,67,62,57,52],!1)),it._sixStrings.push(new it("Bass 6 Strings Tuning",[48,43,38,33,28,23],!1)),it._sixStrings.push(new it("Lute or Vihuela Tuning",[64,59,54,50,45,40],!1)),it._defaultTunings.set(5,new it("Bass 5 Strings Tuning",[43,38,33,28,23],!0)),it._fiveStrings.push(it._defaultTunings.get(5)),it._fiveStrings.push(new it("Banjo Dropped C Tuning",[62,59,55,48,67],!1)),it._fiveStrings.push(new it("Banjo Open D Tuning",[62,57,54,50,69],!1)),it._fiveStrings.push(new it("Banjo Open G Tuning",[62,59,55,50,67],!1)),it._fiveStrings.push(new it("Banjo G Minor Tuning",[62,58,55,50,67],!1)),it._fiveStrings.push(new it("Banjo G Modal Tuning",[62,57,55,50,67],!1)),it._defaultTunings.set(4,new it("Bass Standard Tuning",[43,38,33,28],!0)),it._fourStrings.push(it._defaultTunings.get(4)),it._fourStrings.push(new it("Bass Tune down  step",[42,37,32,27],!1)),it._fourStrings.push(new it("Bass Tune down 1 step",[41,36,31,26],!1)),it._fourStrings.push(new it("Bass Tune down 2 step",[39,34,29,24],!1)),it._fourStrings.push(new it("Bass Dropped D Tuning",[43,38,33,26],!1)),it._fourStrings.push(new it("Ukulele C Tuning",[45,40,36,43],!1)),it._fourStrings.push(new it("Ukulele G Tuning",[52,47,43,38],!1)),it._fourStrings.push(new it("Mandolin Standard Tuning",[64,57,50,43],!1)),it._fourStrings.push(new it("Mandolin or Violin Tuning",[76,69,62,55],!1)),it._fourStrings.push(new it("Viola Tuning",[69,62,55,48],!1)),it._fourStrings.push(new it("Cello Tuning",[57,50,43,36],!1))}static findTuning(e){let n=it.getPresetsFor(e.length);for(let r=0,i=n.length;r<i;r++){let s=n[r],o=!0;for(let a=0,l=e.length;a<l;a++)if(e[a]!==s.tunings[a]){o=!1;break}if(o)return s}return null}constructor(e="",n=null,r=!1){this.isStandard=r,this.name=e,this.tunings=n??[]}finish(){const e=it.findTuning(this.tunings);e&&(this.name=e.name,this.isStandard=e.isStandard),this.name=this.name.trim()}}it._sevenStrings=[];it._sixStrings=[];it._fiveStrings=[];it._fourStrings=[];it._defaultTunings=new Map;it.defaultAccidentals=["","#","","#","","","#","","#","","#",""];it.defaultSteps=["C","C","D","D","E","F","F","G","G","A","A","B"];it.initialize();class Uj{constructor(){this.index=0,this.bars=[],this.chords=null,this.capo=0,this.transpositionPitch=0,this.displayTranspositionPitch=0,this.stringTuning=new it("",[],!1),this.showSlash=!1,this.showNumbered=!1,this.showTablature=!0,this.showStandardNotation=!0,this.isPercussion=!1,this.standardNotationLineCount=5}get tuning(){return this.stringTuning.tunings}get tuningName(){return this.stringTuning.name}get isStringed(){return this.stringTuning.tunings.length>0}finish(e,n=null){this.stringTuning.finish();for(let r=0,i=this.bars.length;r<i;r++)this.bars[r].finish(e,n)}addChord(e,n){n.staff=this;let r=this.chords;r===null&&(r=new Map,this.chords=r),r.set(e,n)}hasChord(e){var n;return((n=this.chords)==null?void 0:n.has(e))??!1}getChord(e){var n;return((n=this.chords)==null?void 0:n.get(e))??null}addBar(e){let n=this.bars;e.staff=this,e.index=n.length,n.length>0&&(e.previousBar=n[n.length-1],e.previousBar.nextBar=e),n.push(e)}}class _u{constructor(){this.index=0,this.staves=[],this.playbackInfo=new Gj,this.color=new Zr(200,0,0,255),this.name="",this.isVisibleOnMultiTrack=!0,this.shortName="",this.defaultSystemsLayout=3,this.systemsLayout=[],this.percussionArticulations=[]}ensureStaveCount(e){for(;this.staves.length<e;)this.addStaff(new Uj)}addStaff(e){e.index=this.staves.length,e.track=this,this.staves.push(e)}finish(e,n=null){this.shortName||(this.shortName=this.name,this.shortName.length>_u.ShortNameMaxLength&&(this.shortName=this.shortName.substr(0,_u.ShortNameMaxLength)));for(let r=0,i=this.staves.length;r<i;r++)this.staves[r].finish(e,n)}applyLyrics(e){for(let r of e)r.finish();let n=this.staves[0];for(let r=0;r<e.length;r++){let i=e[r];if(i.startBar>=0&&i.startBar<n.bars.length){let s=n.bars[i.startBar].voices[0].beats[0];for(let o=0;o<i.chunks.length&&s;o++){for(;s&&(s.isEmpty||s.isRest);)s=s.nextBeat;s&&(s.lyrics||(s.lyrics=new Array(e.length),s.lyrics.fill("")),s.lyrics[r]=i.chunks[o],s=s.nextBeat)}}}}}_u.ShortNameMaxLength=10;let Mu=class jj{constructor(){this.id=jj._globalBarId++,this.index=0,this.beats=[],this.isEmpty=!0}insertBeat(e,n){n.nextBeat=e.nextBeat,n.nextBeat&&(n.nextBeat.previousBeat=n),n.previousBeat=e,n.voice=this,e.nextBeat=n,this.beats.splice(e.index+1,0,n)}addBeat(e){e.voice=this,e.index=this.beats.length,this.beats.push(e),e.isEmpty||(this.isEmpty=!1)}chain(e,n=null){if(this.bar){if(e.index<this.beats.length-1)e.nextBeat=this.beats[e.index+1],e.nextBeat.previousBeat=e;else if(e.isLastOfVoice&&e.voice.bar.nextBar){let r=this.bar.nextBar.voices[this.index];r.beats.length>0&&(e.nextBeat=r.beats[0]),e.nextBeat.previousBeat=e}e.chain(n)}}addGraceBeat(e){if(this.beats.length===0){this.addBeat(e);return}let n=this.beats[this.beats.length-1];this.beats.splice(this.beats.length-1,1),this.addBeat(e),this.addBeat(n),this.isEmpty=!1}getBeatAtPlaybackStart(e){return this._beatLookup.has(e)?this._beatLookup.get(e):null}finish(e,n=null){this._beatLookup=new Map;let r=null;for(let o=0;o<this.beats.length;o++){let a=this.beats[o];a.index=o,this.chain(a,n),a.graceType===Dt.None?(a.graceGroup=r,r&&(r.isComplete=!0),r=null):(r||(r=new WE),r.addBeat(a))}let i=0,s=0;for(let o=0;o<this.beats.length;o++){let a=this.beats[o];if(a.index=o,a.finish(e,n),a.graceType===Dt.None){if(a.graceGroup){const l=a.graceGroup.beats[0],c=a.graceGroup.beats[a.graceGroup.beats.length-1];if(l.graceType!==Dt.BendGrace){let u=c.playbackStart+c.playbackDuration-l.playbackStart;switch(l.graceType){case Dt.BeforeBeat:l.previousBeat?(l.previousBeat.playbackDuration-=u,l.previousBeat.voice==this?s=l.previousBeat.playbackStart+l.previousBeat.playbackDuration:s=-u):s=-u;for(const d of a.graceGroup.beats)this._beatLookup.delete(d.playbackStart),d.playbackStart=s,this._beatLookup.set(d.playbackStart,a),s+=d.playbackDuration;break;case Dt.OnBeat:a.playbackDuration-=u,c.voice===this?s=c.playbackStart+c.playbackDuration:s=-u;break}}}a.displayStart=i,a.playbackStart=s,a.fermata?this.bar.masterBar.addFermata(a.playbackStart,a.fermata):a.fermata=this.bar.masterBar.getFermata(a),this._beatLookup.set(a.playbackStart,a)}else a.displayStart=i,a.playbackStart=s;a.finishTuplet(),a.graceGroup&&a.graceGroup.finish(),i+=a.displayDuration,s+=a.playbackDuration}}calculateDuration(){if(this.isEmpty||this.beats.length===0)return 0;let e=this.beats[this.beats.length-1],n=this.beats[0];return e.playbackStart+e.playbackDuration-n.playbackStart}};Mu._globalBarId=0;class bn{static float64ToBytes(e){return bn._dataView.setFloat64(0,e,!0),this._conversionByteArray}static bytesToFloat64(e){throw bn._conversionByteArray.set(e,0),bn._dataView.getFloat64(0,!0)}static uint16ToInt16(e){return bn._dataView.setUint16(0,e,!0),bn._dataView.getInt16(0,!0)}static int16ToUint32(e){return bn._dataView.setInt16(0,e,!0),bn._dataView.getUint32(0,!0)}static int32ToUint16(e){return bn._dataView.setInt32(0,e,!0),bn._dataView.getUint16(0,!0)}static int32ToInt16(e){return bn._dataView.setInt32(0,e,!0),bn._dataView.getInt16(0,!0)}static int32ToUint32(e){return bn._dataView.setInt32(0,e,!0),bn._dataView.getUint32(0,!0)}static uint8ToInt8(e){return bn._dataView.setUint8(0,e),bn._dataView.getInt8(0)}}bn._conversionBuffer=new ArrayBuffer(8);bn._conversionByteArray=new Uint8Array(bn._conversionBuffer);bn._dataView=new DataView(bn._conversionBuffer);class ze{static readInt32BE(e){let n=e.readByte(),r=e.readByte(),i=e.readByte(),s=e.readByte();return n<<24|r<<16|i<<8|s}static readInt32LE(e){let n=e.readByte(),r=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|r<<8|n}static readUInt32LE(e){let n=e.readByte(),r=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|r<<8|n}static decodeUInt32LE(e,n){let r=e[n],i=e[n+1],s=e[n+2];return e[n+3]<<24|s<<16|i<<8|r}static readUInt16LE(e){let n=e.readByte(),r=e.readByte();return bn.int32ToUint16(r<<8|n)}static readInt16LE(e){let n=e.readByte(),r=e.readByte();return bn.int32ToInt16(r<<8|n)}static readUInt32BE(e){let n=e.readByte(),r=e.readByte(),i=e.readByte(),s=e.readByte();return bn.int32ToUint32(n<<24|r<<16|i<<8|s)}static readUInt16BE(e){let n=e.readByte(),r=e.readByte();return bn.int32ToInt16(n<<8|r)}static readInt16BE(e){let n=e.readByte(),r=e.readByte();return bn.int32ToInt16(n<<8|r)}static readByteArray(e,n){let r=new Uint8Array(n);return e.read(r,0,n),r}static read8BitChars(e,n){let r=new Uint8Array(n);return e.read(r,0,r.length),ze.toString(r,"utf-8")}static read8BitString(e){let n="",r=e.readByte();for(;r!==0;)n+=String.fromCharCode(r),r=e.readByte();return n}static read8BitStringLength(e,n){let r="",i=-1;for(let o=0;o<n;o++){let a=e.readByte();a===0&&i===-1&&(i=o),r+=String.fromCharCode(a)}let s=r;return i>=0?s.substr(0,i):s}static readSInt8(e){let n=e.readByte();return((n&255)>>7)*-256+(n&255)}static readInt24(e,n){let r=e[n]|e[n+1]<<8|e[n+2]<<16;return(r&8388608)===8388608&&(r=r|255<<24),r}static readInt16(e,n){return bn.int32ToInt16(e[n]|e[n+1]<<8)}static toString(e,n){let r=ze.detectEncoding(e);return r&&(n=r),n||(n="utf-8"),new TextDecoder(n).decode(e.buffer)}static detectEncoding(e){return e.length>2&&e[0]===254&&e[1]===255?"utf-16be":e.length>2&&e[0]===255&&e[1]===254?"utf-16le":e.length>4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255?"utf-32be":e.length>4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0?"utf-32le":null}static stringToBytes(e){return new TextEncoder().encode(e)}static writeInt32BE(e,n){e.writeByte(n>>24&255),e.writeByte(n>>16&255),e.writeByte(n>>8&255),e.writeByte(n>>0&255)}static writeInt32LE(e,n){e.writeByte(n>>0&255),e.writeByte(n>>8&255),e.writeByte(n>>16&255),e.writeByte(n>>24&255)}static writeUInt16LE(e,n){e.writeByte(n>>0&255),e.writeByte(n>>8&255)}static writeInt16LE(e,n){e.writeByte(n>>0&255),e.writeByte(n>>8&255)}static writeInt16BE(e,n){e.writeByte(n>>8&255),e.writeByte(n>>0&255)}}class ds{constructor(){this.length=0,this.position=0}get bytesWritten(){return this.position}getBuffer(){return this._buffer}static empty(){return ds.withCapacity(0)}static withCapacity(e){let n=new ds;return n._buffer=new Uint8Array(e),n}static fromBuffer(e){let n=new ds;return n._buffer=e,n.length=e.length,n}static fromString(e){let n=ze.stringToBytes(e);return ds.fromBuffer(n)}reset(){this.position=0}skip(e){this.position+=e}readByte(){return this.length-this.position<=0?-1:this._buffer[this.position++]}read(e,n,r){let i=this.length-this.position;return i>r&&(i=r),i<=0?0:(e.set(this._buffer.subarray(this.position,this.position+i),n),this.position+=i,i)}writeByte(e){let n=this.position+1;this.ensureCapacity(n),this._buffer[this.position]=e&255,n>this.length&&(this.length=n),this.position=n}write(e,n,r){let i=this.position+r;this.ensureCapacity(i);let s=Math.min(r,e.length-n);this._buffer.set(e.subarray(n,n+s),this.position),i>this.length&&(this.length=i),this.position=i}ensureCapacity(e){if(e>this._buffer.length){let n=e;n<256&&(n=256),n<this._buffer.length*2&&(n=this._buffer.length*2);let r=new Uint8Array(n);this.length>0&&r.set(this._buffer.subarray(0,0+this.length),0),this._buffer=r}}readAll(){return this.toArray()}toArray(){let e=new Uint8Array(this.length);return e.set(this._buffer.subarray(0,0+this.length),0),e}copyTo(e){e.write(this._buffer,0,this.length)}}var Be;(function(t){t[t.No=0]="No",t[t.Eof=1]="Eof",t[t.Number=2]="Number",t[t.DoubleDot=3]="DoubleDot",t[t.Dot=4]="Dot",t[t.String=5]="String",t[t.Tuning=6]="Tuning",t[t.LParensis=7]="LParensis",t[t.RParensis=8]="RParensis",t[t.LBrace=9]="LBrace",t[t.RBrace=10]="RBrace",t[t.Pipe=11]="Pipe",t[t.MetaCommand=12]="MetaCommand",t[t.Multiply=13]="Multiply",t[t.LowerThan=14]="LowerThan"})(Be||(Be={}));class hp extends fs{constructor(e,n,r,i,s,o,a,l=null){super(hs.AlphaTex,e),this.position=n,this.line=r,this.col=i,this.nonTerm=s??"",this.expected=o??Be.No,this.symbol=a??Be.No,this.symbolData=l,Object.setPrototypeOf(this,hp.prototype)}static symbolError(e,n,r,i,s,o,a=null){let l=`MalFormed AlphaTex: @${e} (line ${n}, col ${r}): Error on block ${i}`;return s!==o?(l+=`, expected a ${Be[s]} found a ${Be[o]}`,a!==null&&(l+=`: '${a}'`)):l+=`, invalid value: '${a}'`,new hp(l,e,n,r,i,s,o,a)}static errorMessage(e,n,r,i){return e=`MalFormed AlphaTex: @${n} (line ${r}, col ${i}): ${e}`,new hp(e,n,r,i,null,null,null,null)}}class Xs extends $m{constructor(){super(),this._trackChannel=0,this._input="",this._ch=Xs.Eof,this._curChPos=0,this._line=1,this._col=0,this._lastValidSpot=[0,1,0],this._sy=Be.No,this._syData="",this._allowNegatives=!1,this._allowFloat=!1,this._allowTuning=!1,this._currentDuration=ve.QuadrupleWhole,this._currentDynamics=xn.PPP,this._currentTuplet=0,this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._percussionArticulationNames=new Map,this.logErrors=!1}get name(){return"AlphaTex"}initFromString(e,n){this.data=ds.empty(),this._input=e,this.settings=n}readScore(){try{if(this.data.length>0&&(this._input=ze.toString(this.data.readAll(),this.settings.importer.encoding)),this._allowTuning=!0,this._lyrics=new Map,this.createDefaultScore(),this._curChPos=0,this._line=1,this._col=0,this.saveValidSpot(),this._currentDuration=ve.Quarter,this._currentDynamics=xn.F,this._currentTuplet=1,this._ch=this.nextChar(),this._sy=this.newSy(),this._sy===Be.LowerThan)throw new Wr("Unknown start sign '<' (meant to import as XML?)");if(this._sy===Be.Eof)throw new Wr("Unexpected end of file");const e=this.metaData(),n=this.bars();if(!e&&!n)throw new Wr("No alphaTex data found");this.consolidate(),this._score.finish(this.settings),this._score.rebuildRepeatGroups();for(const[r,i]of this._lyrics)this._score.tracks[r].applyLyrics(i);return this._score}catch(e){throw e instanceof hp?new Wr(e.message,e):e}}consolidate(){for(let e of this._score.tracks)for(let n of e.staves)for(;n.bars.length<this._score.masterBars.length;){let r=this.newBar(n),i=new Fs;i.isEmpty=!0,r.voices[0].addBeat(i)}}error(e,n,r=!0){let i,s=!1;r?(i=this._sy,(i===Be.String||i===Be.Number||i===Be.MetaCommand)&&(s=!0)):i=n;let o=hp.symbolError(this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2],e,n,i,s?this._syData:null);throw this.logErrors&&Qe.error(this.name,o.message),o}errorMessage(e){let n=hp.errorMessage(e,this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2]);throw this.logErrors&&Qe.error(this.name,n.message),n}createDefaultScore(){this._score=new jp,this._score.tempo=120,this._score.tempoLabel="",this.newTrack()}newTrack(){this._currentTrack=new _u,this._currentTrack.ensureStaveCount(1),this._currentTrack.playbackInfo.program=25,this._currentTrack.playbackInfo.primaryChannel=this._trackChannel++,this._currentTrack.playbackInfo.secondaryChannel=this._trackChannel++,this._currentStaff=this._currentTrack.staves[0],this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=it.getDefaultTuningFor(6).tunings,this._score.addTrack(this._currentTrack),this._lyrics.set(this._currentTrack.index,[]),this._currentDynamics=xn.F}parseClefFromString(e){switch(e.toLowerCase()){case"g2":case"treble":return ln.G2;case"f4":case"bass":return ln.F4;case"c3":case"tenor":return ln.C3;case"c4":case"alto":return ln.C4;case"n":case"neutral":return ln.Neutral;default:return ln.G2}}parseClefFromInt(e){switch(e){case 43:return ln.G2;case 65:return ln.F4;case 48:return ln.C3;case 60:return ln.C4;default:return ln.G2}}parseTripletFeelFromString(e){switch(e.toLowerCase()){case"no":case"none":return vn.NoTripletFeel;case"t16":case"triplet-16th":return vn.Triplet16th;case"t8":case"triplet-8th":return vn.Triplet8th;case"d16":case"dotted-16th":return vn.Dotted16th;case"d8":case"dotted-8th":return vn.Dotted8th;case"s16":case"scottish-16th":return vn.Scottish16th;case"s8":case"scottish-8th":return vn.Scottish8th;default:return vn.NoTripletFeel}}parseTripletFeelFromInt(e){switch(e){case 0:return vn.NoTripletFeel;case 1:return vn.Triplet16th;case 2:return vn.Triplet8th;case 3:return vn.Dotted16th;case 4:return vn.Dotted8th;case 5:return vn.Scottish16th;case 6:return vn.Scottish8th;default:return vn.NoTripletFeel}}parseKeySignature(e){switch(e.toLowerCase()){case"cb":case"cbmajor":return Cn.Cb;case"gb":case"gbmajor":case"d#minor":return Cn.Gb;case"db":case"dbmajor":case"bbminor":return Cn.Db;case"ab":case"abmajor":case"fminor":return Cn.Ab;case"eb":case"ebmajor":case"cminor":return Cn.Eb;case"bb":case"bbmajor":case"gminor":return Cn.Bb;case"f":case"fmajor":case"dminor":return Cn.F;case"c":case"cmajor":case"aminor":return Cn.C;case"g":case"gmajor":case"eminor":return Cn.G;case"d":case"dmajor":case"bminor":return Cn.D;case"a":case"amajor":case"f#minor":return Cn.A;case"e":case"emajor":case"c#minor":return Cn.E;case"b":case"bmajor":case"g#minor":return Cn.B;case"f#":case"f#major":case"ebminor":return Cn.FSharp;case"c#":case"c#major":return Cn.CSharp;default:return Cn.C}}nextChar(){return this._curChPos<this._input.length?(this._ch=this._input.charCodeAt(this._curChPos++),this._ch===10?(this._line++,this._col=0):this._col++):this._ch=Xs.Eof,this._ch}saveValidSpot(){this._lastValidSpot=[this._curChPos,this._line,this._col]}newSy(){for(this.saveValidSpot(),this._sy=Be.No;this._sy===Be.No;)if(this._ch===Xs.Eof)this._sy=Be.Eof;else if(Xs.isWhiteSpace(this._ch))this._ch=this.nextChar(),this.saveValidSpot();else if(this._ch===47){if(this._ch=this.nextChar(),this._ch===47)for(;this._ch!==13&&this._ch!==10&&this._ch!==Xs.Eof;)this._ch=this.nextChar();else if(this._ch===42)for(;this._ch!==Xs.Eof;)if(this._ch===42){if(this._ch=this.nextChar(),this._ch===47){this._ch=this.nextChar();break}}else this._ch=this.nextChar();else this.error("comment",Be.String,!1);this.saveValidSpot()}else if(this._ch===34||this._ch===39){let e=this._ch;this._ch=this.nextChar();let n="";for(this._sy=Be.String;this._ch!==e&&this._ch!==Xs.Eof;)n+=String.fromCharCode(this._ch),this._ch=this.nextChar();this._ch===Xs.Eof&&this.errorMessage("String opened but never closed"),this._syData=n,this._ch=this.nextChar()}else if(this._ch===45)this._allowNegatives?(this._sy=Be.Number,this._syData=this.readNumber()):(this._sy=Be.String,this._syData=this.readName());else if(this._ch===46)this._sy=Be.Dot,this._ch=this.nextChar();else if(this._ch===58)this._sy=Be.DoubleDot,this._ch=this.nextChar();else if(this._ch===40)this._sy=Be.LParensis,this._ch=this.nextChar();else if(this._ch===92)this._ch=this.nextChar(),this._sy=Be.MetaCommand,this._syData=this.readName();else if(this._ch===41)this._sy=Be.RParensis,this._ch=this.nextChar();else if(this._ch===123)this._sy=Be.LBrace,this._ch=this.nextChar();else if(this._ch===125)this._sy=Be.RBrace,this._ch=this.nextChar();else if(this._ch===124)this._sy=Be.Pipe,this._ch=this.nextChar();else if(this._ch===42)this._sy=Be.Multiply,this._ch=this.nextChar();else if(this._ch===60)this._sy=Be.LowerThan,this._ch=this.nextChar();else if(this.isDigit(this._ch))this._sy=Be.Number,this._syData=this.readNumber();else if(Xs.isNameLetter(this._ch)){let e=this.readName(),n=this._allowTuning?yr.parseTuning(e):null;n?(this._sy=Be.Tuning,this._syData=n):(this._sy=Be.String,this._syData=e)}else this.error("symbol",Be.String,!1);return this._sy}static isNameLetter(e){return!Xs.isTerminal(e)&&(33<=e&&e<=47||58<=e&&e<=126||128<=e)}static isTerminal(e){return e===46||e===123||e===125||e===91||e===93||e===40||e===41||e===124||e===39||e===34||e===92}static isWhiteSpace(e){return e===9||e===10||e===11||e===13||e===32}isDigit(e){return e>=48&&e<=57||this._allowNegatives&&e===45||this._allowFloat&&e===46}readName(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(Xs.isNameLetter(this._ch)||this.isDigit(this._ch));return e}readNumber(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(this.isDigit(this._ch));return this._allowFloat?parseFloat(e):parseInt(e)}metaData(){let e=!1,n=!0;for(;this._sy===Be.MetaCommand&&n;){let r=this._syData.toLowerCase();switch(r){case"title":case"subtitle":case"artist":case"album":case"words":case"music":case"copyright":this._sy=this.newSy(),this._sy!==Be.String&&this.error(r,Be.String,!0);let i=this._syData;switch(r){case"title":this._score.title=i;break;case"subtitle":this._score.subTitle=i;break;case"artist":this._score.artist=i;break;case"album":this._score.album=i;break;case"words":this._score.words=i;break;case"music":this._score.music=i;break;case"copyright":this._score.copyright=i;break}this._sy=this.newSy(),e=!0;break;case"tempo":this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy===Be.Number?this._score.tempo=this._syData:this.error("tempo",Be.Number,!0),this._sy=this.newSy(),e=!0;break;default:this.handleStaffMeta()?e=!0:e?this.error("metaDataTags",Be.String,!1):n=!1;break}}return e?(this._sy!==Be.Dot&&this.error("song",Be.Dot,!0),this._sy=this.newSy()):this._sy===Be.Dot&&(this._sy=this.newSy()),e}handleStaffMeta(){var e;switch(this._syData.toLowerCase()){case"capo":return this._sy=this.newSy(),this._sy===Be.Number?this._currentStaff.capo=this._syData:this.error("capo",Be.Number,!0),this._sy=this.newSy(),!0;case"tuning":this._sy=this.newSy();let n=this._currentStaff.tuning.length;switch(this._staffHasExplicitTuning=!0,this._staffTuningApplied=!1,this._sy){case Be.String:let a=this._syData.toLowerCase();a==="piano"||a==="none"||a==="voice"?(this._currentStaff.stringTuning.tunings=[],this._currentStaff.displayTranspositionPitch=0):this.error("tuning",Be.Tuning,!0),this._sy=this.newSy();break;case Be.Tuning:let l=[];do{let c=this._syData;l.push(c.realValue),this._sy=this.newSy()}while(this._sy===Be.Tuning);this._currentStaff.stringTuning.tunings=l;break;default:this.error("tuning",Be.Tuning,!0);break}return n!==this._currentStaff.tuning.length&&(((e=this._currentStaff.chords)==null?void 0:e.size)??0)>0&&this.errorMessage("Tuning must be defined before any chord"),!0;case"instrument":if(this._sy=this.newSy(),this._staffTuningApplied=!1,this._sy===Be.Number){let a=this._syData;a>=0&&a<=127?this._currentTrack.playbackInfo.program=this._syData:this.error("instrument",Be.Number,!1)}else if(this._sy===Be.String){let a=this._syData.toLowerCase();if(a==="percussion"){for(const l of this._currentTrack.staves)this.applyPercussionStaff(l);this._currentTrack.playbackInfo.primaryChannel=9,this._currentTrack.playbackInfo.secondaryChannel=9}else this._currentTrack.playbackInfo.program=id.getValue(a)}else this.error("instrument",Be.Number,!0);return this._sy=this.newSy(),!0;case"lyrics":this._sy=this.newSy();let r=new Ai;return r.startBar=0,r.text="",this._sy===Be.Number&&(r.startBar=this._syData,this._sy=this.newSy()),this._sy===Be.String?(r.text=this._syData,this._sy=this.newSy()):this.error("lyrics",Be.String,!0),this._lyrics.get(this._currentTrack.index).push(r),!0;case"chord":this._sy=this.newSy();let i=new Xh;this.chordProperties(i),this._sy===Be.String?(i.name=this._syData,this._sy=this.newSy()):this.error("chord-name",Be.String,!0);for(let a=0;a<this._currentStaff.tuning.length;a++)this._sy===Be.Number?i.strings.push(this._syData):this._sy===Be.String&&this._syData.toLowerCase()==="x"&&i.strings.push(-1),this._sy=this.newSy();return this._currentStaff.addChord(this.getChordId(this._currentStaff,i.name),i),!0;case"articulation":this._sy=this.newSy();let s="";if(this._sy===Be.String?(s=this._syData,this._sy=this.newSy()):this.error("articulation-name",Be.String,!0),s==="defaults"){for(const[a,l]of ki.instrumentArticulationNames)this._percussionArticulationNames.set(a.toLowerCase(),l),this._percussionArticulationNames.set(Xs.toArticulationId(a),l);return!0}let o=0;return this._sy===Be.Number?(o=this._syData,this._sy=this.newSy()):this.error("articulation-number",Be.Number,!0),ki.instrumentArticulations.has(o)||this.errorMessage(`Unknown articulation ${o}. Refer to https://www.alphatab.net/docs/alphatex/percussion for available ids`),this._percussionArticulationNames.set(s.toLowerCase(),o),!0;default:return!1}}static toArticulationId(e){return e.replace(new RegExp("[^a-zA-Z0-9]","g"),"").toLowerCase()}applyPercussionStaff(e){e.isPercussion=!0,e.showTablature=!1}chordProperties(e){if(this._sy===Be.LBrace){for(this._sy=this.newSy();this._sy===Be.String;)switch(this._syData.toLowerCase()){case"firstfret":switch(this._sy=this.newSy(),this._sy){case Be.Number:e.firstFret=this._syData;break;default:this.error("chord-firstfret",Be.Number,!0);break}this._sy=this.newSy();break;case"showdiagram":switch(this._sy=this.newSy(),this._sy){case Be.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case Be.Number:e.showDiagram=this._syData!==0;break;default:this.error("chord-showdiagram",Be.String,!0);break}this._sy=this.newSy();break;case"showfingering":switch(this._sy=this.newSy(),this._sy){case Be.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case Be.Number:e.showFingering=this._syData!==0;break;default:this.error("chord-showfingering",Be.String,!0);break}this._sy=this.newSy();break;case"showname":switch(this._sy=this.newSy(),this._sy){case Be.String:e.showName=this._syData.toLowerCase()!=="false";break;case Be.Number:e.showName=this._syData!==0;break;default:this.error("chord-showname",Be.String,!0);break}this._sy=this.newSy();break;case"barre":for(this._sy=this.newSy();this._sy===Be.Number;)e.barreFrets.push(this._syData),this._sy=this.newSy();break;default:this.error("chord-properties",Be.String,!1);break}this._sy!==Be.RBrace&&this.error("chord-properties",Be.RBrace,!0),this._sy=this.newSy()}}bars(){let e=this.bar();for(;this._sy!==Be.Eof;)if(this._sy===Be.Pipe)this._sy=this.newSy(),this.bar();else if(this._sy===Be.MetaCommand)this.bar();else break;return e}trackStaffMeta(){if(this._sy!==Be.MetaCommand)return!1;if(this._syData.toLowerCase()==="track"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._score.masterBars.length>0&&this.newTrack(),this._sy===Be.String&&(this._currentTrack.name=this._syData,this._sy=this.newSy()),this._sy===Be.String&&(this._currentTrack.shortName=this._syData,this._sy=this.newSy())),this._sy===Be.MetaCommand&&this._syData.toLowerCase()==="staff"){if(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._currentTrack.staves[0].bars.length>0){this._currentTrack.ensureStaveCount(this._currentTrack.staves.length+1);const e=this._currentStaff.isPercussion;this._currentStaff=this._currentTrack.staves[this._currentTrack.staves.length-1],e&&this.applyPercussionStaff(this._currentStaff),this._currentDynamics=xn.F}this.staffProperties()}return!0}staffProperties(){if(this._sy!==Be.LBrace)return;this._sy=this.newSy();let e=!1,n=!1,r=!1,i=!1;for(;this._sy===Be.String;)switch(this._syData.toLowerCase()){case"score":e=!0,this._sy=this.newSy();break;case"tabs":n=!0,this._sy=this.newSy();break;case"slash":r=!0,this._sy=this.newSy();break;case"numbered":i=!0,this._sy=this.newSy();break;default:this.error("staff-properties",Be.String,!1);break}(e||n||r||i)&&(this._currentStaff.showStandardNotation=e,this._currentStaff.showTablature=n,this._currentStaff.showSlash=r,this._currentStaff.showNumbered=i),this._sy!==Be.RBrace&&this.error("staff-properties",Be.RBrace,!0),this._sy=this.newSy()}bar(){const e=this.trackStaffMeta();let n=this.newBar(this._currentStaff);if(this._currentStaff.bars.length>this._score.masterBars.length){let o=new Pd;this._score.addMasterBar(o),o.index>0&&(o.keySignature=o.previousMasterBar.keySignature,o.keySignatureType=o.previousMasterBar.keySignatureType,o.timeSignatureDenominator=o.previousMasterBar.timeSignatureDenominator,o.timeSignatureNumerator=o.previousMasterBar.timeSignatureNumerator,o.tripletFeel=o.previousMasterBar.tripletFeel)}const r=this.barMeta(n);if(!this._staffTuningApplied&&!this._staffHasExplicitTuning){const o=this._currentTrack.playbackInfo.program;this._currentStaff.displayTranspositionPitch=0,this._currentStaff.stringTuning.tunings=[],o==15||o>=24&&o<=31?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=it.getDefaultTuningFor(6).tunings):o>=32&&o<=39?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):o==40||o==44||o==45||o==48||o==49||o==50||o==51?this._currentStaff.stringTuning.tunings=[52,57,50,43]:o==41?this._currentStaff.stringTuning.tunings=[57,50,43,36]:o==42?this._currentStaff.stringTuning.tunings=[45,38,31,24]:o==43?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):o==105?this._currentStaff.stringTuning.tunings=[50,47,43,38,55]:o==106?this._currentStaff.stringTuning.tunings=[57,52,45]:o==107?this._currentStaff.stringTuning.tunings=[52,45,38,31]:o==110&&(this._currentStaff.stringTuning.tunings=[64,57,50,43]),this._staffTuningApplied=!0}let i=!1,s=n.voices[0];for(;this._sy!==Be.Pipe&&this._sy!==Be.Eof&&this.beat(s);)i=!0;if(s.beats.length===0){let o=new Fs;o.isEmpty=!0,s.addBeat(o)}return e||r||i}newBar(e){let n=new Fd;e.addBar(n),n.index>0&&(n.clef=n.previousBar.clef);let r=new Mu;return n.addVoice(r),n}beat(e){this.beatDuration();let n=new Fs;if(e.addBeat(n),this._allowTuning=!this._currentStaff.isPercussion,this._sy===Be.LParensis){for(this._sy=this.newSy(),this.note(n);this._sy!==Be.RParensis&&this._sy!==Be.Eof&&(this._allowTuning=!this._currentStaff.isPercussion,!!this.note(n)););this._sy!==Be.RParensis&&this.error("note-list",Be.RParensis,!0),this._sy=this.newSy()}else if(this._sy===Be.String&&this._syData.toLowerCase()==="r")this._sy=this.newSy();else if(!this.note(n))return e.beats.splice(e.beats.length-1,1),!1;this._sy===Be.Dot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==Be.Number&&this.error("duration",Be.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._sy=this.newSy()),n.duration=this._currentDuration,n.dynamics=this._currentDynamics,this._currentTuplet!==1&&!n.hasTuplet&&Xs.applyTuplet(n,this._currentTuplet);let r=1;this._sy===Be.Multiply&&(this._sy=this.newSy(),this._sy!==Be.Number?this.error("multiplier",Be.Number,!0):r=this._syData,this._sy=this.newSy()),this.beatEffects(n);for(let i=0;i<r-1;i++)e.addBeat(hI.clone(n));return!0}beatDuration(){if(this._sy===Be.DoubleDot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==Be.Number&&this.error("duration",Be.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._currentTuplet=1,this._sy=this.newSy(),this._sy===Be.LBrace)){for(this._sy=this.newSy();this._sy===Be.String;)switch(this._syData.toLowerCase()){case"tu":this._sy=this.newSy(),this._sy!==Be.Number&&this.error("duration-tuplet",Be.Number,!0),this._currentTuplet=this._syData,this._sy=this.newSy();break;default:this.error("beat-duration",Be.String,!1);break}this._sy!==Be.RBrace&&this.error("beat-duration",Be.RBrace,!0),this._sy=this.newSy()}}beatEffects(e){if(this._sy===Be.LBrace){for(this._sy=this.newSy();this._sy===Be.String;)this.applyBeatEffect(e)||this.error("beat-effects",Be.String,!1);this._sy!==Be.RBrace&&this.error("beat-effects",Be.RBrace,!0),this._sy=this.newSy()}}applyBeatEffect(e){let n=this._syData.toLowerCase();if(n==="f")e.fadeIn=!0;else if(n==="v")e.vibrato=Wn.Slight;else if(n==="s")e.slap=!0;else if(n==="p")e.pop=!0;else if(n==="tt")e.tap=!0;else if(n==="dd")e.dots=2;else if(n==="d")e.dots=1;else if(n==="su")e.pickStroke=_s.Up;else if(n==="sd")e.pickStroke=_s.Down;else if(n==="tu"){if(this._sy=this.newSy(),this._sy!==Be.Number)return this.error("tuplet",Be.Number,!0),!1;Xs.applyTuplet(e,this._syData)}else if(n==="tb"||n==="tbe"){let r=n==="tbe";for(this._sy=this.newSy(),this._sy!==Be.LParensis&&this.error("tremolobar-effect",Be.LParensis,!0),this._allowNegatives=!0,this._sy=this.newSy();this._sy!==Be.RParensis&&this._sy!==Be.Eof;){let i=0,s=0;r?(this._sy!==Be.Number&&this.error("tremolobar-effect",Be.Number,!0),i=this._syData,this._sy=this.newSy(),this._sy!==Be.Number&&this.error("tremolobar-effect",Be.Number,!0),s=this._syData):(this._sy!==Be.Number&&this.error("tremolobar-effect",Be.Number,!0),i=0,s=this._syData),e.addWhammyBarPoint(new dt(i,s)),this._sy=this.newSy()}if(e.whammyBarPoints!=null){for(;e.whammyBarPoints.length>60;)e.removeWhammyBarPoint(e.whammyBarPoints.length-1);if(r)e.whammyBarPoints.sort((i,s)=>i.offset-s.offset);else{let i=e.whammyBarPoints.length,s=60/i|0,o=0;for(;o<i;)e.whammyBarPoints[o].offset=Math.min(60,o*s),o++}}this._allowNegatives=!1,this._sy!==Be.RParensis&&this.error("tremolobar-effect",Be.RParensis,!0)}else if(n==="bu"||n==="bd"||n==="au"||n==="ad"){switch(n){case"bu":e.brushType=Mr.BrushUp;break;case"bd":e.brushType=Mr.BrushDown;break;case"au":e.brushType=Mr.ArpeggioUp;break;case"ad":e.brushType=Mr.ArpeggioDown;break}return this._sy=this.newSy(),this._sy===Be.Number?(e.brushDuration=this._syData,this._sy=this.newSy(),!0):(e.updateDurations(),n==="bu"||n==="bd"?e.brushDuration=e.playbackDuration/4/e.notes.length:(n==="au"||n==="ad")&&(e.brushDuration=e.playbackDuration/e.notes.length),!0)}else if(n==="ch"){this._sy=this.newSy();let r=this._syData,i=this.getChordId(this._currentStaff,r);if(!this._currentStaff.hasChord(i)){let s=new Xh;s.showDiagram=!1,s.name=r,this._currentStaff.addChord(i,s)}e.chordId=i}else{if(n==="gr")return this._sy=this.newSy(),this._syData.toLowerCase()==="ob"?(e.graceType=Dt.OnBeat,this._sy=this.newSy()):this._syData.toLowerCase()==="b"?(e.graceType=Dt.BendGrace,this._sy=this.newSy()):e.graceType=Dt.BeforeBeat,!0;if(n==="dy"){switch(this._sy=this.newSy(),this._syData.toLowerCase()){case"ppp":e.dynamics=xn.PPP;break;case"pp":e.dynamics=xn.PP;break;case"p":e.dynamics=xn.P;break;case"mp":e.dynamics=xn.MP;break;case"mf":e.dynamics=xn.MF;break;case"f":e.dynamics=xn.F;break;case"ff":e.dynamics=xn.FF;break;case"fff":e.dynamics=xn.FFF;break}this._currentDynamics=e.dynamics}else if(n==="cre")e.crescendo=Yo.Crescendo;else if(n==="dec")e.crescendo=Yo.Decrescendo;else if(n==="tempo"){const r=this.readTempoAutomation();return e.automations.push(r),e.voice.bar.masterBar.tempoAutomations.push(r),!0}else if(n==="tp"){if(this._sy=this.newSy(),e.tremoloSpeed=ve.Eighth,this._sy===Be.Number){switch(this._syData){case 8:e.tremoloSpeed=ve.Eighth;break;case 16:e.tremoloSpeed=ve.Sixteenth;break;case 32:e.tremoloSpeed=ve.ThirtySecond;break;default:e.tremoloSpeed=ve.Eighth;break}this._sy=this.newSy()}return!0}else return n==="slashed"?(e.slashed=!0,this._sy=this.newSy(),!0):!1}return this._sy=this.newSy(),!0}getChordId(e,n){return n.toLowerCase()+e.index+e.track.index}static applyTuplet(e,n){switch(n){case 3:e.tupletNumerator=3,e.tupletDenominator=2;break;case 5:e.tupletNumerator=5,e.tupletDenominator=4;break;case 6:e.tupletNumerator=6,e.tupletDenominator=4;break;case 7:e.tupletNumerator=7,e.tupletDenominator=4;break;case 9:e.tupletNumerator=9,e.tupletDenominator=8;break;case 10:e.tupletNumerator=10,e.tupletDenominator=8;break;case 11:e.tupletNumerator=11,e.tupletDenominator=8;break;case 12:e.tupletNumerator=12,e.tupletDenominator=8;break;default:e.tupletNumerator=1,e.tupletDenominator=1;break}}isNoteText(e){return e==="x"||e==="-"||e==="r"}note(e){let n=!1,r=!1,i=-1,s=-1,o=-1;switch(this._sy){case Be.Number:i=this._syData,this._currentStaff.isPercussion&&!ki.instrumentArticulations.has(i)&&this.errorMessage(`Unknown percussion articulation ${i}`);break;case Be.String:if(this._currentStaff.isPercussion){const d=this._syData.toLowerCase();this._percussionArticulationNames.has(d)?i=this._percussionArticulationNames.get(d):this.errorMessage(`Unknown percussion articulation '${this._syData}'`)}else n=this._syData==="x",r=this._syData==="-",r||n?i=0:this.error("note-fret",Be.Number,!0);break;case Be.Tuning:let u=this._syData;s=u.octave,o=u.noteValue;break;default:return!1}this._sy=this.newSy();let a=s===-1&&this._currentStaff.tuning.length>0&&!this._currentStaff.isPercussion,l=-1;a&&(this._sy!==Be.Dot&&this.error("note",Be.Dot,!0),this._sy=this.newSy(),this._sy!==Be.Number&&this.error("note-string",Be.Number,!0),l=this._syData,(l<1||l>this._currentStaff.tuning.length)&&this.error("note-string",Be.Number,!1),this._sy=this.newSy());let c=new ci;return a?(c.string=this._currentStaff.tuning.length-(l-1),c.isDead=n,c.isTieDestination=r,r||(c.fret=i)):this._currentStaff.isPercussion?c.percussionArticulation=i:(c.octave=s,c.tone=o,c.isTieDestination=r),e.addNote(c),this.noteEffects(c),!0}noteEffects(e){if(this._sy===Be.LBrace){for(this._sy=this.newSy();this._sy===Be.String;){let n=this._syData.toLowerCase();if(n==="b"||n==="be"){let r=n==="be";for(this._sy=this.newSy(),this._sy!==Be.LParensis&&this.error("bend-effect",Be.LParensis,!0),this._sy=this.newSy();this._sy!==Be.RParensis&&this._sy!==Be.Eof;){let s=0,o=0;r?(this._sy!==Be.Number&&this.error("bend-effect-value",Be.Number,!0),s=this._syData,this._sy=this.newSy(),this._sy!==Be.Number&&this.error("bend-effect-value",Be.Number,!0),o=this._syData):(this._sy!==Be.Number&&this.error("bend-effect-value",Be.Number,!0),o=this._syData),e.addBendPoint(new dt(s,o)),this._sy=this.newSy()}const i=e.bendPoints;if(i!=null){for(;i.length>60;)i.splice(i.length-1,1);if(r)i.sort((s,o)=>s.offset-o.offset);else{let s=i.length,o=60/(s-1)|0,a=0;for(;a<s;)i[a].offset=Math.min(60,a*o),a++}}this._sy!==Be.RParensis&&this.error("bend-effect",Be.RParensis,!0),this._sy=this.newSy()}else if(n==="nh")e.harmonicType=Vt.Natural,this._sy=this.newSy();else if(n==="ah")e.harmonicType=Vt.Artificial,this._sy=this.newSy();else if(n==="th")e.harmonicType=Vt.Tap,this._sy=this.newSy();else if(n==="ph")e.harmonicType=Vt.Pinch,this._sy=this.newSy();else if(n==="sh")e.harmonicType=Vt.Semi,this._sy=this.newSy();else if(n==="tr"){this._sy=this.newSy(),this._sy!==Be.Number&&this.error("trill-effect",Be.Number,!0);let r=this._syData;this._sy=this.newSy();let i=ve.Sixteenth;if(this._sy===Be.Number){switch(this._syData){case 16:i=ve.Sixteenth;break;case 32:i=ve.ThirtySecond;break;case 64:i=ve.SixtyFourth;break;default:i=ve.Sixteenth;break}this._sy=this.newSy()}e.trillValue=r+e.stringTuning,e.trillSpeed=i}else if(n==="v")this._sy=this.newSy(),e.vibrato=Wn.Slight;else if(n==="sl")this._sy=this.newSy(),e.slideOutType=hn.Legato;else if(n==="ss")this._sy=this.newSy(),e.slideOutType=hn.Shift;else if(n==="sib")this._sy=this.newSy(),e.slideInType=us.IntoFromBelow;else if(n==="sia")this._sy=this.newSy(),e.slideInType=us.IntoFromAbove;else if(n==="sou")this._sy=this.newSy(),e.slideOutType=hn.OutUp;else if(n==="sod")this._sy=this.newSy(),e.slideOutType=hn.OutDown;else if(n==="psd")this._sy=this.newSy(),e.slideOutType=hn.PickSlideDown;else if(n==="psu")this._sy=this.newSy(),e.slideOutType=hn.PickSlideUp;else if(n==="h")this._sy=this.newSy(),e.isHammerPullOrigin=!0;else if(n==="lht")this._sy=this.newSy(),e.isLeftHandTapped=!0;else if(n==="g")this._sy=this.newSy(),e.isGhost=!0;else if(n==="ac")this._sy=this.newSy(),e.accentuated=hi.Normal;else if(n==="hac")this._sy=this.newSy(),e.accentuated=hi.Heavy;else if(n==="ten")this._sy=this.newSy(),e.accentuated=hi.Tenuto;else if(n==="pm")this._sy=this.newSy(),e.isPalmMute=!0;else if(n==="st")this._sy=this.newSy(),e.isStaccato=!0;else if(n==="lr")this._sy=this.newSy(),e.isLetRing=!0;else if(n==="x")this._sy=this.newSy(),e.fret=0,e.isDead=!0;else if(n==="-"||n==="t")this._sy=this.newSy(),e.isTieDestination=!0;else if(n==="lf"){this._sy=this.newSy();let r=pn.Thumb;this._sy===Be.Number&&(r=this.toFinger(this._syData),this._sy=this.newSy()),e.leftHandFinger=r}else if(n==="rf"){this._sy=this.newSy();let r=pn.Thumb;this._sy===Be.Number&&(r=this.toFinger(this._syData),this._sy=this.newSy()),e.rightHandFinger=r}else this.applyBeatEffect(e.beat)||this.error(n,Be.String,!1)}this._sy!==Be.RBrace&&this.error("note-effect",Be.RBrace,!1),this._sy=this.newSy()}}toFinger(e){switch(e){case 1:return pn.Thumb;case 2:return pn.IndexFinger;case 3:return pn.MiddleFinger;case 4:return pn.AnnularFinger;case 5:return pn.LittleFinger}return pn.Thumb}parseDuration(e){switch(e){case-4:return ve.QuadrupleWhole;case-2:return ve.DoubleWhole;case 1:return ve.Whole;case 2:return ve.Half;case 4:return ve.Quarter;case 8:return ve.Eighth;case 16:return ve.Sixteenth;case 32:return ve.ThirtySecond;case 64:return ve.SixtyFourth;case 128:return ve.OneHundredTwentyEighth;case 256:return ve.TwoHundredFiftySixth;default:return ve.Quarter}}barMeta(e){let n=!1,r=e.masterBar;for(;this._sy===Be.MetaCommand;){n=!0;let i=this._syData.toLowerCase();if(i==="ts")this._sy=this.newSy(),this._sy!==Be.Number&&this.error("timesignature-numerator",Be.Number,!0),r.timeSignatureNumerator=this._syData,this._sy=this.newSy(),this._sy!==Be.Number&&this.error("timesignature-denominator",Be.Number,!0),r.timeSignatureDenominator=this._syData,this._sy=this.newSy();else if(i=="ft")r.isFreeTime=!0;else if(i==="ro")r.isRepeatStart=!0,this._sy=this.newSy();else if(i==="rc")this._sy=this.newSy(),this._sy!==Be.Number&&this.error("repeatclose",Be.Number,!0),this._syData>2048&&this.error("repeatclose",Be.Number,!1),r.repeatCount=this._syData,this._sy=this.newSy();else if(i==="ae")if(this._sy=this.newSy(),this._sy===Be.LParensis){for(this._sy=this.newSy(),this._sy!==Be.Number&&this.error("alternateending",Be.Number,!0),this.applyAlternateEnding(r);this._sy===Be.Number;)this.applyAlternateEnding(r);this._sy!==Be.RParensis&&this.error("alternateending-list",Be.RParensis,!0),this._sy=this.newSy()}else this._sy!==Be.Number&&this.error("alternateending",Be.Number,!0),this.applyAlternateEnding(r);else if(i==="ks")this._sy=this.newSy(),this._sy!==Be.String&&this.error("keysignature",Be.String,!0),r.keySignature=this.parseKeySignature(this._syData),this._sy=this.newSy();else if(i==="clef"){switch(this._sy=this.newSy(),this._sy){case Be.String:e.clef=this.parseClefFromString(this._syData);break;case Be.Number:e.clef=this.parseClefFromInt(this._syData);break;case Be.Tuning:let s=this._syData;e.clef=this.parseClefFromInt(s.realValue);break;default:this.error("clef",Be.String,!0);break}this._sy=this.newSy()}else if(i==="tempo"){const s=this.readTempoAutomation();r.tempoAutomations.push(s)}else if(i==="section"){this._sy=this.newSy(),this._sy!==Be.String&&this.error("section",Be.String,!0);let s=this._syData;this._sy=this.newSy();let o="";this._sy===Be.String&&!this.isNoteText(this._syData.toLowerCase())&&(o=s,s=this._syData,this._sy=this.newSy());let a=new aT;a.marker=o,a.text=s,r.section=a}else if(i==="tf"){switch(this._allowTuning=!1,this._sy=this.newSy(),this._allowTuning=!0,this._sy){case Be.String:r.tripletFeel=this.parseTripletFeelFromString(this._syData);break;case Be.Number:r.tripletFeel=this.parseTripletFeelFromInt(this._syData);break;default:this.error("triplet-feel",Be.String,!0);break}this._sy=this.newSy()}else i==="ac"?(r.isAnacrusis=!0,this._sy=this.newSy()):e.index===0?this.handleStaffMeta()||this.error("measure-effects",Be.String,!1):this.error("measure-effects",Be.String,!1)}if(r.index===0&&r.tempoAutomations.length===0){let i=new Ls;i.isLinear=!1,i.type=Di.Tempo,i.value=this._score.tempo,r.tempoAutomations.push(i)}return n}readTempoAutomation(){this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy!==Be.Number&&this.error("tempo",Be.Number,!0);const e=new Ls;return e.isLinear=!1,e.type=Di.Tempo,e.value=this._syData,this._sy=this.newSy(),e}applyAlternateEnding(e){let n=this._syData;n<1&&this.error("alternateending",Be.Number,!0),e.alternateEndings|=1<<n-1,this._sy=this.newSy()}}Xs.Eof=0;class lu extends $m{get name(){return"Guitar Pro 3-5"}constructor(){super(),this._versionNumber=0,this._globalTripletFeel=vn.NoTripletFeel,this._lyricsTrack=0,this._lyrics=[],this._barCount=0,this._trackCount=0,this._playbackInfos=[],this._beatTextChunksByTrack=new Map}readScore(){if(this.readVersion(),this._score=new jp,this.readScoreInformation(),this._versionNumber<500&&(this._globalTripletFeel=Vn.gpReadBool(this.data)?vn.Triplet8th:vn.NoTripletFeel),this._versionNumber>=400&&this.readLyrics(),this._versionNumber>=510&&this.data.skip(19),this._versionNumber>=500&&(this.readPageSetup(),this._score.tempoLabel=Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding)),this._score.tempo=ze.readInt32LE(this.data),this._versionNumber>=510&&Vn.gpReadBool(this.data),ze.readInt32LE(this.data),this._versionNumber>=400&&this.data.readByte(),this.readPlaybackInfos(),this._versionNumber>=500&&(this.data.skip(38),this.data.skip(4)),this._barCount=ze.readInt32LE(this.data),this._trackCount=ze.readInt32LE(this.data),this.readMasterBars(),this.readTracks(),this.readBars(),this._score.masterBars.length>0){const e=Ls.buildTempoAutomation(!1,0,this._score.tempo,2);e.text=this._score.tempoLabel,this._score.masterBars[0].tempoAutomations.push(e)}return this._score.finish(this.settings),this._lyrics&&this._lyricsTrack>=0&&this._score.tracks[this._lyricsTrack].applyLyrics(this._lyrics),this._score}readVersion(){let e=Vn.gpReadStringByteLength(this.data,30,this.settings.importer.encoding);if(!e.startsWith(lu.VersionString))throw new Wr("Unsupported format");e=e.substr(lu.VersionString.length+1);let n=e.indexOf(".");this._versionNumber=100*parseInt(e.substr(0,n))+parseInt(e.substr(n+1)),Qe.debug(this.name,"Guitar Pro version "+e+" detected")}readScoreInformation(){var r;this._score.title=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.subTitle=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.artist=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.album=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.words=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.music=this._versionNumber>=500?Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding):this._score.words,this._score.copyright=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.tab=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.instructions=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding);let e=ze.readInt32LE(this.data),n="";for(let i=0;i<e;i++)i>0&&(n+=`\r
`),n+=(r=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding))==null?void 0:r.toString();this._score.notices=n}readLyrics(){this._lyrics=[],this._lyricsTrack=ze.readInt32LE(this.data)-1;for(let e=0;e<5;e++){let n=new Ai;n.startBar=ze.readInt32LE(this.data)-1,n.text=Vn.gpReadStringInt(this.data,this.settings.importer.encoding),this._lyrics.push(n)}}readPageSetup(){this.data.skip(30);for(let e=0;e<10;e++)Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding)}readPlaybackInfos(){this._playbackInfos=[];for(let e=0;e<64;e++){let n=new Gj;n.primaryChannel=e,n.secondaryChannel=e,n.program=ze.readInt32LE(this.data),n.volume=this.data.readByte(),n.balance=this.data.readByte(),this.data.skip(6),this._playbackInfos.push(n)}}readMasterBars(){for(let e=0;e<this._barCount;e++)this.readMasterBar()}readMasterBar(){let e=null;this._score.masterBars.length>0&&(e=this._score.masterBars[this._score.masterBars.length-1]);let n=new Pd,r=this.data.readByte();if(r&1?n.timeSignatureNumerator=this.data.readByte():e&&(n.timeSignatureNumerator=e.timeSignatureNumerator),r&2?n.timeSignatureDenominator=this.data.readByte():e&&(n.timeSignatureDenominator=e.timeSignatureDenominator),n.isRepeatStart=(r&4)!==0,r&8&&(n.repeatCount=this.data.readByte()+(this._versionNumber>=500?0:1)),r&16&&this._versionNumber<500){let i=e,s=0;for(;i&&!(i.isRepeatEnd&&i!==e||i.isRepeatStart);)s=s|i.alternateEndings,i=i.previousMasterBar;let o=0,a=this.data.readByte();for(let l=0;l<8;l++){let c=1<<l;a>l&&!(s&c)&&(o=o|c)}n.alternateEndings=o}if(r&32){let i=new aT;i.text=Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding),i.marker="",Vn.gpReadColor(this.data,!1),n.section=i}if(r&64?(n.keySignature=ze.readSInt8(this.data),n.keySignatureType=this.data.readByte()):e&&(n.keySignature=e.keySignature,n.keySignatureType=e.keySignatureType),this._versionNumber>=500&&r&3&&this.data.skip(4),this._versionNumber>=500&&(n.alternateEndings=this.data.readByte()),this._versionNumber>=500){switch(this.data.readByte()){case 1:n.tripletFeel=vn.Triplet8th;break;case 2:n.tripletFeel=vn.Triplet16th;break}this.data.readByte()}else n.tripletFeel=this._globalTripletFeel;n.isDoubleBar=(r&128)!==0,this._score.addMasterBar(n)}readTracks(){for(let e=0;e<this._trackCount;e++)this.readTrack()}readTrack(){let e=new _u;e.ensureStaveCount(1),this._score.addTrack(e);let n=e.staves[0],r=this.data.readByte();e.name=Vn.gpReadStringByteLength(this.data,40,this.settings.importer.encoding),r&1&&(n.isPercussion=!0),this._versionNumber>=500&&(e.isVisibleOnMultiTrack=(r&8)!==0);let i=ze.readInt32LE(this.data),s=[];for(let c=0;c<7;c++){let u=ze.readInt32LE(this.data);i>c&&s.push(u)}n.stringTuning.tunings=s;let o=ze.readInt32LE(this.data),a=ze.readInt32LE(this.data)-1,l=ze.readInt32LE(this.data)-1;if(this.data.skip(4),a>=0&&a<this._playbackInfos.length){let c=this._playbackInfos[a];c.port=o,c.isSolo=(r&16)!==0,c.isMute=(r&32)!==0,c.secondaryChannel=l,id.isGuitar(c.program)&&(n.displayTranspositionPitch=-12),e.playbackInfo=c}n.capo=ze.readInt32LE(this.data),e.color=Vn.gpReadColor(this.data,!1),this._versionNumber>=500&&(this.data.readByte(),this.data.readByte(),this.data.skip(43)),this._versionNumber>=510&&(this.data.skip(4),Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding),Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding))}readBars(){for(let e=0;e<this._barCount;e++)for(let n=0;n<this._trackCount;n++)this.readBar(this._score.tracks[n])}readBar(e){let n=new Fd,r=e.staves[0];r.isPercussion&&(n.clef=ln.Neutral),r.addBar(n);let i=1;this._versionNumber>=500&&(this.data.readByte(),i=2);for(let s=0;s<i;s++)this.readVoice(e,n)}readVoice(e,n){let r=ze.readInt32LE(this.data);if(r===0)return;let i=new Mu;n.addVoice(i);for(let s=0;s<r;s++)this.readBeat(e,n,i)}readBeat(e,n,r){let i=new Fs,s=this.data.readByte();if(s&1&&(i.dots=1),s&64){let u=this.data.readByte();i.isEmpty=(u&2)===0}switch(r.addBeat(i),ze.readSInt8(this.data)){case-2:i.duration=ve.Whole;break;case-1:i.duration=ve.Half;break;case 0:i.duration=ve.Quarter;break;case 1:i.duration=ve.Eighth;break;case 2:i.duration=ve.Sixteenth;break;case 3:i.duration=ve.ThirtySecond;break;case 4:i.duration=ve.SixtyFourth;break;default:i.duration=ve.Quarter;break}if(s&32)switch(i.tupletNumerator=ze.readInt32LE(this.data),i.tupletNumerator){case 1:i.tupletDenominator=1;break;case 3:i.tupletDenominator=2;break;case 5:case 6:case 7:i.tupletDenominator=4;break;case 9:case 10:case 11:case 12:case 13:i.tupletDenominator=8;break;case 2:case 4:case 8:break;default:i.tupletNumerator=1,i.tupletDenominator=1;break}s&2&&this.readChord(i);let a=this.settings.importer.beatTextAsLyrics&&e.index!==this._lyricsTrack;if(s&4){const u=Vn.gpReadStringIntUnused(this.data,this.settings.importer.encoding);if(a){const d=new Ai;d.text=u.trim(),d.finish(!0);const h=[];for(let f=d.chunks.length-1;f>=0;f--)h.push(d.chunks[f]);this._beatTextChunksByTrack.set(e.index,h)}else i.text=u}let l=Vt.None;s&8&&(l=this.readBeatEffects(i)),s&16&&this.readMixTableChange(i);let c=this.data.readByte();for(let u=6;u>=0;u--)if(c&1<<u&&6-u<n.staff.tuning.length){const d=this.readNote(e,n,r,i,6-u);l!==Vt.None&&(d.harmonicType=l,d.harmonicType===Vt.Natural&&(d.harmonicValue=this.deltaFretToHarmonicValue(d.fret)))}this._versionNumber>=500&&(this.data.readByte(),this.data.readByte()&8&&this.data.readByte()),a&&!i.isRest&&this._beatTextChunksByTrack.has(e.index)&&this._beatTextChunksByTrack.get(e.index).length>0&&(i.lyrics=[this._beatTextChunksByTrack.get(e.index).pop()])}readChord(e){let n=new Xh,r=yr.newGuid();if(this._versionNumber>=500){this.data.skip(17),n.name=Vn.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),n.firstFret=ze.readInt32LE(this.data);for(let o=0;o<7;o++){let a=ze.readInt32LE(this.data);o<e.voice.bar.staff.tuning.length&&n.strings.push(a)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let o=0;o<i;o++)n.barreFrets.push(s[o]);this.data.skip(26)}else if(this.data.readByte()!==0)if(this._versionNumber>=400){this.data.skip(16),n.name=Vn.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),n.firstFret=ze.readInt32LE(this.data);for(let o=0;o<7;o++){let a=ze.readInt32LE(this.data);o<e.voice.bar.staff.tuning.length&&n.strings.push(a)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let o=0;o<i;o++)n.barreFrets.push(s[o]);this.data.skip(26)}else{this.data.skip(25),n.name=Vn.gpReadStringByteLength(this.data,34,this.settings.importer.encoding),n.firstFret=ze.readInt32LE(this.data);for(let i=0;i<6;i++){let s=ze.readInt32LE(this.data);i<e.voice.bar.staff.tuning.length&&n.strings.push(s)}this.data.skip(36)}else{let i=this._versionNumber>=406?7:6;if(n.name=Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding),n.firstFret=ze.readInt32LE(this.data),n.firstFret>0)for(let s=0;s<i;s++){let o=ze.readInt32LE(this.data);s<e.voice.bar.staff.tuning.length&&n.strings.push(o)}}n.name&&(e.chordId=r,e.voice.bar.staff.addChord(e.chordId,n))}readBeatEffects(e){let n=this.data.readByte(),r=0;if(this._versionNumber>=400&&(r=this.data.readByte()),e.fadeIn=(n&16)!==0,(this._versionNumber<400&&n&1||n&2)&&(e.vibrato=Wn.Slight),e.hasRasgueado=(r&1)!==0,n&32&&this._versionNumber>=400)switch(ze.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}else if(n&32){switch(ze.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}this.data.skip(4)}if(r&4&&this.readTremoloBarEffect(e),n&64){let i=0,s=0;this._versionNumber<500?(s=this.data.readByte(),i=this.data.readByte()):(i=this.data.readByte(),s=this.data.readByte()),i>0?(e.brushType=Mr.BrushUp,e.brushDuration=lu.toStrokeValue(i)):s>0&&(e.brushType=Mr.BrushDown,e.brushDuration=lu.toStrokeValue(s))}if(r&2)switch(ze.readSInt8(this.data)){case 0:e.pickStroke=_s.None;break;case 1:e.pickStroke=_s.Up;break;case 2:e.pickStroke=_s.Down;break}if(this._versionNumber<400){if(n&4)return Vt.Natural;if(n&8)return Vt.Artificial}return Vt.None}readTremoloBarEffect(e){this.data.readByte(),ze.readInt32LE(this.data);let n=ze.readInt32LE(this.data);if(n>0)for(let r=0;r<n;r++){let i=new dt(0,0);i.offset=ze.readInt32LE(this.data),i.value=ze.readInt32LE(this.data)/lu.BendStep|0,Vn.gpReadBool(this.data),e.addWhammyBarPoint(i)}}static toStrokeValue(e){switch(e){case 1:return 30;case 2:return 30;case 3:return 60;case 4:return 120;case 5:return 240;case 6:return 480;default:return 0}}readMixTableChange(e){let n=new IEe;n.instrument=ze.readSInt8(this.data),this._versionNumber>=500&&this.data.skip(16),n.volume=ze.readSInt8(this.data),n.balance=ze.readSInt8(this.data);let r=ze.readSInt8(this.data),i=ze.readSInt8(this.data),s=ze.readSInt8(this.data),o=ze.readSInt8(this.data);if(this._versionNumber>=500&&(n.tempoName=Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding)),n.tempo=ze.readInt32LE(this.data),n.volume>=0&&this.data.readByte(),n.balance>=0&&this.data.readByte(),r>=0&&this.data.readByte(),i>=0&&this.data.readByte(),s>=0&&this.data.readByte(),o>=0&&this.data.readByte(),n.tempo>=0&&(n.duration=ze.readSInt8(this.data),this._versionNumber>=510&&this.data.readByte()),this._versionNumber>=400&&this.data.readByte(),this._versionNumber>=500&&this.data.readByte(),this._versionNumber>=510&&(Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding),Vn.gpReadStringIntByte(this.data,this.settings.importer.encoding)),n.volume>=0){let a=new Ls;a.isLinear=!0,a.type=Di.Volume,a.value=n.volume,e.automations.push(a)}if(n.balance>=0){let a=new Ls;a.isLinear=!0,a.type=Di.Balance,a.value=n.balance,e.automations.push(a)}if(n.instrument>=0){let a=new Ls;a.isLinear=!0,a.type=Di.Instrument,a.value=n.instrument,e.automations.push(a)}if(n.tempo>=0){let a=new Ls;a.isLinear=!0,a.type=Di.Tempo,a.value=n.tempo,e.automations.push(a),e.voice.bar.masterBar.tempoAutomations.push(a)}}readNote(e,n,r,i,s){let o=new ci;o.string=n.staff.tuning.length-s;let a=this.data.readByte();if(a&2?o.accentuated=hi.Heavy:a&64&&(o.accentuated=hi.Normal),o.isGhost=(a&4)!==0,a&32){let c=this.data.readByte();c===3?o.isDead=!0:c===2&&(o.isTieDestination=!0)}if(a&1&&this._versionNumber<500&&(this.data.readByte(),this.data.readByte()),a&16){let c=ze.readSInt8(this.data);o.dynamics=this.toDynamicValue(c),i.dynamics=o.dynamics}a&32&&(o.fret=ze.readSInt8(this.data)),a&128&&(o.leftHandFinger=ze.readSInt8(this.data),o.rightHandFinger=ze.readSInt8(this.data),o.isFingering=!0);let l=!1;if(this._versionNumber>=500&&(a&1&&(o.durationPercent=Vn.gpReadDouble(this.data)),l=(this.data.readByte()&2)!==0),i.addNote(o),a&8&&this.readNoteEffects(e,r,i,o),n.staff.isPercussion&&(o.percussionArticulation=o.fret,o.string=-1,o.fret=-1),l){const c=it.defaultAccidentals[o.realValueWithoutHarmonic%12];c==="#"?o.accidentalMode=Pi.ForceFlat:c==="b"&&(o.accidentalMode=Pi.ForceSharp)}return o}toDynamicValue(e){switch(e){case 1:return xn.PPP;case 2:return xn.PP;case 3:return xn.P;case 4:return xn.MP;case 5:return xn.MF;case 6:return xn.F;case 7:return xn.FF;case 8:return xn.FFF;default:return xn.F}}readNoteEffects(e,n,r,i){let s=this.data.readByte(),o=0;this._versionNumber>=400&&(o=this.data.readByte()),s&1&&this.readBend(i),s&16&&this.readGrace(n,i),o&4&&this.readTremoloPicking(r),o&8?this.readSlide(i):this._versionNumber<400&&s&4&&(i.slideOutType=hn.Shift),o&16&&this.readArtificialHarmonic(i),o&32&&this.readTrill(i),i.isLetRing=(s&8)!==0,i.isHammerPullOrigin=(s&2)!==0,o&64&&(i.vibrato=Wn.Slight),i.isPalmMute=(o&2)!==0,i.isStaccato=(o&1)!==0}readBend(e){this.data.readByte(),ze.readInt32LE(this.data);let n=ze.readInt32LE(this.data);if(n>0)for(let r=0;r<n;r++){let i=new dt(0,0);i.offset=ze.readInt32LE(this.data),i.value=ze.readInt32LE(this.data)/lu.BendStep|0,Vn.gpReadBool(this.data),e.addBendPoint(i)}}readGrace(e,n){let r=new Fs,i=new ci;switch(i.string=n.string,i.fret=ze.readSInt8(this.data),r.duration=ve.ThirtySecond,r.dynamics=this.toDynamicValue(ze.readSInt8(this.data)),ze.readSInt8(this.data)){case 0:break;case 1:i.slideOutType=hn.Legato,i.slideTarget=n;break;case 2:break;case 3:i.isHammerPullOrigin=!0;break}if(i.dynamics=r.dynamics,this.data.skip(1),this._versionNumber<500)r.graceType=Dt.BeforeBeat;else{let o=this.data.readByte();i.isDead=(o&1)!==0,r.graceType=o&2?Dt.OnBeat:Dt.BeforeBeat}e.addGraceBeat(r),r.addNote(i)}readTremoloPicking(e){switch(this.data.readByte()){case 1:e.tremoloSpeed=ve.Eighth;break;case 2:e.tremoloSpeed=ve.Sixteenth;break;case 3:e.tremoloSpeed=ve.ThirtySecond;break}}readSlide(e){if(this._versionNumber>=500){let n=ze.readSInt8(this.data);n&1?e.slideOutType=hn.Shift:n&2?e.slideOutType=hn.Legato:n&4?e.slideOutType=hn.OutDown:n&8&&(e.slideOutType=hn.OutUp),n&16?e.slideInType=us.IntoFromBelow:n&32&&(e.slideInType=us.IntoFromAbove)}else switch(ze.readSInt8(this.data)){case 1:e.slideOutType=hn.Shift;break;case 2:e.slideOutType=hn.Legato;break;case 3:e.slideOutType=hn.OutDown;break;case 4:e.slideOutType=hn.OutUp;break;case-1:e.slideInType=us.IntoFromBelow;break;case-2:e.slideInType=us.IntoFromAbove;break}}readArtificialHarmonic(e){let n=this.data.readByte();if(this._versionNumber>=500)switch(n){case 1:e.harmonicType=Vt.Natural,e.harmonicValue=this.deltaFretToHarmonicValue(e.fret);break;case 2:this.data.readByte(),this.data.readByte(),this.data.readByte(),e.harmonicType=Vt.Artificial;break;case 3:e.harmonicType=Vt.Tap,e.harmonicValue=this.deltaFretToHarmonicValue(this.data.readByte());break;case 4:e.harmonicType=Vt.Pinch,e.harmonicValue=12;break;case 5:e.harmonicType=Vt.Semi,e.harmonicValue=12;break}else if(this._versionNumber>=400)switch(n){case 1:e.harmonicType=Vt.Natural;break;case 3:e.harmonicType=Vt.Tap;break;case 4:e.harmonicType=Vt.Pinch;break;case 5:e.harmonicType=Vt.Semi;break;case 15:e.harmonicType=Vt.Artificial;break;case 17:e.harmonicType=Vt.Artificial;break;case 22:e.harmonicType=Vt.Artificial;break}}deltaFretToHarmonicValue(e){switch(e){case 2:return 2.4;case 3:return 3.2;case 4:case 5:case 7:case 9:case 12:case 16:case 17:case 19:case 24:return e;case 8:return 8.2;case 10:return 9.6;case 14:case 15:return 14.7;case 21:case 22:return 21.7;default:return 12}}readTrill(e){switch(e.trillValue=this.data.readByte()+e.stringTuning,this.data.readByte()){case 1:e.trillSpeed=ve.Sixteenth;break;case 2:e.trillSpeed=ve.ThirtySecond;break;case 3:e.trillSpeed=ve.SixtyFourth;break}}}lu.VersionString="FICHIER GUITAR PRO ";lu.BendStep=25;class Vn{static gpReadDouble(e){let n=new Uint8Array(8);return e.read(n,0,n.length),new Float64Array(n.buffer)[0]}static gpReadFloat(e){let n=new Uint8Array(4);return n[3]=e.readByte(),n[2]=e.readByte(),n[2]=e.readByte(),n[1]=e.readByte(),new Float32Array(n.buffer)[0]}static gpReadColor(e,n=!1){let r=e.readByte(),i=e.readByte(),s=e.readByte(),o=255;return n?o=e.readByte():e.skip(1),new Zr(r,i,s,o)}static gpReadBool(e){return e.readByte()!==0}static gpReadStringIntUnused(e,n){return e.skip(4),Vn.gpReadString(e,e.readByte(),n)}static gpReadStringInt(e,n){return Vn.gpReadString(e,ze.readInt32LE(e),n)}static gpReadStringIntByte(e,n){let r=ze.readInt32LE(e)-1;return e.readByte(),Vn.gpReadString(e,r,n)}static gpReadString(e,n,r){let i=new Uint8Array(n);return e.read(i,0,i.length),ze.toString(i,r)}static gpWriteString(e,n){const r=ze.stringToBytes(n);e.writeByte(n.length),e.write(r,0,r.length)}static gpReadStringByteLength(e,n,r){let i=e.readByte(),s=Vn.gpReadString(e,i,r);return i<n&&e.skip(n-i),s}}class IEe{constructor(){this.volume=-1,this.balance=-1,this.instrument=-1,this.tempoName="",this.tempo=-1,this.duration=-1}}class po{constructor(){this.x=0,this.y=0,this.w=0,this.h=0}}var dc;(function(t){t[t.Boolean=0]="Boolean",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Point=4]="Point",t[t.Size=5]="Size",t[t.Rectangle=6]="Rectangle",t[t.Color=7]="Color"})(dc||(dc={}));class lT{constructor(e){this.raw=new Map;let n=ds.fromBuffer(e),r=ze.readInt32BE(n);for(let i=0;i<r;i++){let s=Vn.gpReadString(n,n.readByte(),"utf-8");switch(n.readByte()){case dc.Boolean:let a=n.readByte()===1;this.addValue(s,a);break;case dc.Integer:let l=ze.readInt32BE(n);this.addValue(s,l);break;case dc.Float:let c=Vn.gpReadFloat(n);this.addValue(s,c);break;case dc.String:let u=Vn.gpReadString(n,ze.readInt16BE(n),"utf-8");this.addValue(s,u);break;case dc.Point:let d=ze.readInt32BE(n),h=ze.readInt32BE(n);this.addValue(s,new dt(d,h));break;case dc.Size:let f=ze.readInt32BE(n),p=ze.readInt32BE(n);this.addValue(s,new dt(f,p));break;case dc.Rectangle:let m=new po;m.x=ze.readInt32BE(n),m.y=ze.readInt32BE(n),m.w=ze.readInt32BE(n),m.h=ze.readInt32BE(n),this.addValue(s,m);break;case dc.Color:let y=Vn.gpReadColor(n,!0);this.addValue(s,y);break}}}apply(e){for(const[n,r]of this.raw)switch(n){case"StandardNotation/hideDynamics":e.stylesheet.hideDynamics=r;break}}addValue(e,n){this.raw.set(e,n)}static writeForScore(e){const n=ds.withCapacity(128);return ze.writeInt32BE(n,1),lT.writeBooleanEntry(n,"StandardNotation/hideDynamics",e.stylesheet.hideDynamics),n.toArray()}static writeBooleanEntry(e,n,r){Vn.gpWriteString(e,n),e.writeByte(dc.Boolean),e.writeByte(r?1:0)}}var Lc;(function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long"})(Lc||(Lc={}));class fI{constructor(){this.type=Lc.Short,this.length=0}}var tt;(function(t){t[t.None=0]="None",t[t.Element=1]="Element",t[t.Text=2]="Text",t[t.CDATA=3]="CDATA",t[t.Document=4]="Document",t[t.DocumentType=5]="DocumentType"})(tt||(tt={}));let Of=class MS{constructor(){this.nodeType=tt.None,this.localName=null,this.value=null,this.childNodes=[],this.attributes=new Map,this.firstChild=null,this.firstElement=null}addChild(e){this.childNodes.push(e),this.firstChild=e,(e.nodeType===tt.Element||e.nodeType===tt.CDATA)&&(this.firstElement=e)}getAttribute(e){return this.attributes.has(e)?this.attributes.get(e):""}getElementsByTagName(e,n=!1){let r=[];return this.searchElementsByTagName(this.childNodes,r,e,n),r}searchElementsByTagName(e,n,r,i=!1){for(let s of e)s&&s.nodeType===tt.Element&&s.localName===r&&n.push(s),i&&this.searchElementsByTagName(s.childNodes,n,r,!0)}findChildElement(e){for(let n of this.childNodes)if(n&&n.nodeType===tt.Element&&n.localName===e)return n;return null}addElement(e){const n=new MS;return n.nodeType=tt.Element,n.localName=e,this.addChild(n),n}get innerText(){var e;if(this.nodeType===tt.Element||this.nodeType===tt.Document){if(this.firstElement&&this.firstElement.nodeType===tt.CDATA)return this.firstElement.innerText;let n="";for(let i of this.childNodes)n+=(e=i.innerText)==null?void 0:e.toString();return n.trim()}return this.value??""}set innerText(e){const n=new MS;n.nodeType=tt.Text,n.value=e,this.childNodes=[n]}setCData(e){const n=new MS;n.nodeType=tt.CDATA,n.value=e,this.childNodes=[n]}};class Ho extends fs{constructor(e,n,r){super(hs.Format,e),this.pos=0,this.xml=n,this.pos=r,Object.setPrototypeOf(this,Ho.prototype)}}var Zt;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.BeginNode=2]="BeginNode",t[t.TagName=3]="TagName",t[t.Body=4]="Body",t[t.AttribName=5]="AttribName",t[t.Equals=6]="Equals",t[t.AttvalBegin=7]="AttvalBegin",t[t.AttribVal=8]="AttribVal",t[t.Childs=9]="Childs",t[t.Close=10]="Close",t[t.WaitEnd=11]="WaitEnd",t[t.WaitEndRet=12]="WaitEndRet",t[t.Pcdata=13]="Pcdata",t[t.Header=14]="Header",t[t.Comment=15]="Comment",t[t.Doctype=16]="Doctype",t[t.Cdata=17]="Cdata",t[t.Escape=18]="Escape"})(Zt||(Zt={}));class Pt{static parse(e,n,r){let i=e.charCodeAt(n),s=Zt.Begin,o=Zt.Begin,a=0,l="",c=Zt.Begin,u=null,d=null,h=0,f=0;for(;n<e.length;){switch(i=e.charCodeAt(n),s){case Zt.IgnoreSpaces:switch(i){case Pt.CharCodeLF:case Pt.CharCodeCR:case Pt.CharCodeTab:case Pt.CharCodeSpace:break;default:s=o;continue}break;case Zt.Begin:switch(i){case Pt.CharCodeLowerThan:s=Zt.IgnoreSpaces,o=Zt.BeginNode;break;default:a=n,s=Zt.Pcdata;continue}break;case Zt.Pcdata:if(i===Pt.CharCodeLowerThan){l+=e.substr(a,n-a);let p=new Of;p.nodeType=tt.Text,p.value=l,l="",r.addChild(p),s=Zt.IgnoreSpaces,o=Zt.BeginNode}else i===Pt.CharCodeAmp&&(l+=e.substr(a,n-a),s=Zt.Escape,c=Zt.Pcdata,a=n+1);break;case Zt.Cdata:if(i===Pt.CharCodeBrackedClose&&e.charCodeAt(n+1)===Pt.CharCodeBrackedClose&&e.charCodeAt(n+2)===Pt.CharCodeGreaterThan){let p=new Of;p.nodeType=tt.CDATA,p.value=e.substr(a,n-a),r.addChild(p),n+=2,s=Zt.Begin}break;case Zt.BeginNode:switch(i){case Pt.CharCodeExclamation:if(e.charCodeAt(n+1)===Pt.CharCodeBrackedOpen){if(n+=2,e.substr(n,6).toUpperCase()!=="CDATA[")throw new Ho("Expected <![CDATA[",e,n);n+=5,s=Zt.Cdata,a=n+1}else if(e.charCodeAt(n+1)===Pt.CharCodeUpperD||e.charCodeAt(n+1)===Pt.CharCodeLowerD){if(e.substr(n+2,6).toUpperCase()!=="OCTYPE")throw new Ho("Expected <!DOCTYPE",e,n);n+=8,s=Zt.Doctype,a=n+1}else{if(e.charCodeAt(n+1)!==Pt.CharCodeMinus||e.charCodeAt(n+2)!==Pt.CharCodeMinus)throw new Ho("Expected <!--",e,n);n+=2,s=Zt.Comment,a=n+1}break;case Pt.CharCodeQuestion:s=Zt.Header,a=n;break;case Pt.CharCodeSlash:if(!r)throw new Ho("Expected node name",e,n);a=n+1,s=Zt.IgnoreSpaces,o=Zt.Close;break;default:s=Zt.TagName,a=n;continue}break;case Zt.TagName:if(!Pt.isValidChar(i)){if(n===a)throw new Ho("Expected node name",e,n);u=new Of,u.nodeType=tt.Element,u.localName=e.substr(a,n-a),r.addChild(u),s=Zt.IgnoreSpaces,o=Zt.Body;continue}break;case Zt.Body:switch(i){case Pt.CharCodeSlash:s=Zt.WaitEnd;break;case Pt.CharCodeGreaterThan:s=Zt.Childs;break;default:s=Zt.AttribName,a=n;continue}break;case Zt.AttribName:if(!Pt.isValidChar(i)){if(a===n)throw new Ho("Expected attribute name",e,n);if(d=e.substr(a,n-a),u.attributes.has(d))throw new Ho(`Duplicate attribute [${d}]`,e,n);s=Zt.IgnoreSpaces,o=Zt.Equals;continue}break;case Zt.Equals:switch(i){case Pt.CharCodeEquals:s=Zt.IgnoreSpaces,o=Zt.AttvalBegin;break;default:throw new Ho("Expected =",e,n)}break;case Zt.AttvalBegin:switch(i){case Pt.CharCodeDoubleQuote:case Pt.CharCodeSingleQuote:l="",s=Zt.AttribVal,a=n+1,f=i;break}break;case Zt.AttribVal:switch(i){case Pt.CharCodeAmp:l+=e.substr(a,n-a),s=Zt.Escape,c=Zt.AttribVal,a=n+1;break;default:if(i===f){l+=e.substr(a,n-a);let p=l;l="",u.attributes.set(d,p),s=Zt.IgnoreSpaces,o=Zt.Body}break}break;case Zt.Childs:n=Pt.parse(e,n,u),a=n,s=Zt.Begin;break;case Zt.WaitEnd:switch(i){case Pt.CharCodeGreaterThan:s=Zt.Begin;break;default:throw new Ho("Expected >",e,n)}break;case Zt.WaitEndRet:switch(i){case Pt.CharCodeGreaterThan:return n;default:throw new Ho("Expected >",e,n)}case Zt.Close:if(!Pt.isValidChar(i)){if(a===n)throw new Ho("Expected node name",e,n);if(e.substr(a,n-a)!==r.localName)throw new Ho("Expected </"+r.localName+">",e,n);s=Zt.IgnoreSpaces,o=Zt.WaitEndRet;continue}break;case Zt.Comment:i===Pt.CharCodeMinus&&e.charCodeAt(n+1)===Pt.CharCodeMinus&&e.charCodeAt(n+2)===Pt.CharCodeGreaterThan&&(n+=2,s=Zt.Begin);break;case Zt.Doctype:if(i===Pt.CharCodeBrackedOpen)h++;else if(i===Pt.CharCodeBrackedClose)h--;else if(i===Pt.CharCodeGreaterThan&&h===0){let p=new Of;p.nodeType=tt.DocumentType,p.value=e.substr(a,n-a),r.addChild(p),s=Zt.Begin}break;case Zt.Header:i===Pt.CharCodeQuestion&&e.charCodeAt(n+1)===Pt.CharCodeGreaterThan&&(n++,s=Zt.Begin);break;case Zt.Escape:if(i===Pt.CharCodeSemi){let p=e.substr(a,n-a);if(p.charCodeAt(0)===Pt.CharCodeSharp){let m=p.charCodeAt(1)===Pt.CharCodeLowerX?parseInt("0"+p.substr(1,p.length-1)):parseInt(p.substr(1,p.length-1));l+=String.fromCharCode(m)}else Pt.Escapes.has(p)?l+=Pt.Escapes.get(p):l+=("&"+p+";").toString();a=n+1,s=c}else!Pt.isValidChar(i)&&i!==Pt.CharCodeSharp&&(l+="&",l+=e.substr(a,n-a),n--,a=n+1,s=c);break}n++}if(s===Zt.Begin&&(a=n,s=Zt.Pcdata),s===Zt.Pcdata){if(n!==a){l+=e.substr(a,n-a);let p=new Of;p.nodeType=tt.Text,p.value=l,r.addChild(p)}return n}if(s===Zt.Escape&&c===Zt.Pcdata){l+="&",l+=e.substr(a,n-a);let p=new Of;return p.nodeType=tt.Text,p.value=l,r.addChild(p),n}throw new Ho("Unexpected end",e,n)}static isValidChar(e){return e>=Pt.CharCodeLowerA&&e<=Pt.CharCodeLowerZ||e>=Pt.CharCodeUpperA&&e<=Pt.CharCodeUpperZ||e>=Pt.CharCode0&&e<=Pt.CharCode9||e===Pt.CharCodeColon||e===Pt.CharCodeDot||e===Pt.CharCodeUnderscore||e===Pt.CharCodeMinus}}Pt.CharCodeLF=10;Pt.CharCodeTab=9;Pt.CharCodeCR=13;Pt.CharCodeSpace=32;Pt.CharCodeLowerThan=60;Pt.CharCodeAmp=38;Pt.CharCodeBrackedClose=93;Pt.CharCodeBrackedOpen=91;Pt.CharCodeGreaterThan=62;Pt.CharCodeExclamation=33;Pt.CharCodeUpperD=68;Pt.CharCodeLowerD=100;Pt.CharCodeMinus=45;Pt.CharCodeQuestion=63;Pt.CharCodeSlash=47;Pt.CharCodeEquals=61;Pt.CharCodeDoubleQuote=34;Pt.CharCodeSingleQuote=39;Pt.CharCodeSharp=35;Pt.CharCodeLowerX=120;Pt.CharCodeLowerA=97;Pt.CharCodeLowerZ=122;Pt.CharCodeUpperA=65;Pt.CharCodeUpperZ=90;Pt.CharCode0=48;Pt.CharCode9=57;Pt.CharCodeColon=58;Pt.CharCodeDot=46;Pt.CharCodeUnderscore=95;Pt.CharCodeSemi=59;Pt.Escapes=new Map([["lt","<"],["gt",">"],["amp","&"],["quot",'"'],["apos","'"]]);class pI{static write(e,n,r){const i=new pI(n,r);return i.writeNode(e),i.toString()}constructor(e,n){this._result=[],this._indention=e,this._xmlHeader=n,this._currentIndention="",this._isStartOfLine=!0}writeNode(e){switch(e.nodeType){case tt.None:break;case tt.Element:this._result.length>0&&this.writeLine(),this.write(`<${e.localName}`);for(const[n,r]of e.attributes)this.write(` ${n}="`),this.writeAttributeValue(r),this.write('"');if(e.childNodes.length===0)this.write("/>");else{if(this.write(">"),e.childNodes.length===1&&!e.firstElement)this.writeNode(e.childNodes[0]);else{this.indent();for(const n of e.childNodes)n.nodeType===tt.Element&&this.writeNode(n);this.unindend(),this.writeLine()}this.write(`</${e.localName}>`)}break;case tt.Text:e.value&&this.write(e.value);break;case tt.CDATA:e.value!==null&&this.write(`<![CDATA[${e.value}]]>`);break;case tt.Document:this._xmlHeader&&this.write('<?xml version="1.0" encoding="utf-8"?>');for(const n of e.childNodes)this.writeNode(n);break;case tt.DocumentType:this.write(`<!DOCTYPE ${e.value}>`);break}}unindend(){this._currentIndention=this._currentIndention.substr(0,this._currentIndention.length-this._indention.length)}indent(){this._currentIndention+=this._indention}writeAttributeValue(e){for(let n=0;n<e.length;n++){const r=e.charAt(n);switch(r){case"<":this._result.push("&lt;");break;case">":this._result.push("&gt;");break;case"&":this._result.push("&amp;");break;case"'":this._result.push("&apos;");break;case'"':this._result.push("&quot;");break;default:this._result.push(r);break}}}write(e){this._isStartOfLine&&this._result.push(this._currentIndention),this._result.push(e),this._isStartOfLine=!1}writeLine(e=null){e&&this.write(e),this._indention.length>0&&!this._isStartOfLine&&(this._result.push(`
`),this._isStartOfLine=!0)}toString(){return this._result.join("").trimRight()}}class H2 extends Of{constructor(){super(),this.nodeType=tt.Document}parse(e){Pt.parse(e,0,this)}toString(){return this.toFormattedString()}toFormattedString(e="",n=!1){return pI.write(this,e,n)}}var Je;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(Je||(Je={}));class AEe{constructor(){this.id="",this.dots=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.value=ve.Quarter}}class REe{constructor(){this.name="",this.path="",this.role="",this.program=0}get uniqueId(){return this.path+";"+this.name+";"+this.role}}class Pl{constructor(){this._hasAnacrusis=!1,this._skipApplyLyrics=!1}parseXml(e,n){this._masterTrackAutomations=new Map,this._automationsPerTrackIdAndBarIndex=new Map,this._tracksMapping=[],this._tracksById=new Map,this._masterBars=[],this._barsOfMasterBar=[],this._voicesOfBar=new Map,this._barsById=new Map,this._voiceById=new Map,this._beatsOfVoice=new Map,this._beatById=new Map,this._rhythmOfBeat=new Map,this._rhythmById=new Map,this._notesOfBeat=new Map,this._noteById=new Map,this._tappedNotes=new Map,this._lyricsByTrack=new Map,this._soundsByTrack=new Map,this._skipApplyLyrics=!1;let r=new H2;try{r.parse(e)}catch(i){throw new Wr("Could not parse XML",i)}if(this.parseDom(r),this.buildModel(),this.score.finish(n),!this._skipApplyLyrics&&this._lyricsByTrack.size>0)for(const[i,s]of this._lyricsByTrack)this._tracksById.get(i).applyLyrics(s)}parseDom(e){let n=e.firstElement;if(n)if(n.localName==="GPIF"){this.score=new jp;for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Score":this.parseScoreNode(r);break;case"MasterTrack":this.parseMasterTrackNode(r);break;case"Tracks":this.parseTracksNode(r);break;case"MasterBars":this.parseMasterBarsNode(r);break;case"Bars":this.parseBars(r);break;case"Voices":this.parseVoices(r);break;case"Beats":this.parseBeats(r);break;case"Notes":this.parseNotes(r);break;case"Rhythms":this.parseRhythms(r);break}}else throw new Wr("Root node of XML was not GPIF")}parseScoreNode(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Title":this.score.title=n.firstChild.innerText;break;case"SubTitle":this.score.subTitle=n.firstChild.innerText;break;case"Artist":this.score.artist=n.firstChild.innerText;break;case"Album":this.score.album=n.firstChild.innerText;break;case"Words":this.score.words=n.firstChild.innerText;break;case"Music":this.score.music=n.firstChild.innerText;break;case"WordsAndMusic":if(n.firstChild&&n.firstChild.innerText!==""){let r=n.firstChild.innerText;r&&!this.score.words&&(this.score.words=r),r&&!this.score.music&&(this.score.music=r)}break;case"Copyright":this.score.copyright=n.firstChild.innerText;break;case"Tabber":this.score.tab=n.firstChild.innerText;break;case"Instructions":this.score.instructions=n.firstChild.innerText;break;case"Notices":this.score.notices=n.firstChild.innerText;break;case"ScoreSystemsDefaultLayout":this.score.defaultSystemsLayout=parseInt(n.innerText);break;case"ScoreSystemsLayout":this.score.systemsLayout=n.innerText.split(" ").map(r=>parseInt(r));break}}parseMasterTrackNode(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Automations":this.parseAutomations(n,this._masterTrackAutomations,null);break;case"Tracks":this._tracksMapping=n.innerText.split(" ");break;case"Anacrusis":this._hasAnacrusis=!0;break}}parseAutomations(e,n,r){for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Automation":this.parseAutomation(i,n,r);break}}parseAutomation(e,n,r){let i=null,s=!1,o=-1,a=0,l=0,c=null,u=0,d=null;for(let f of e.childNodes)if(f.nodeType===tt.Element)switch(f.localName){case"Type":i=f.innerText;break;case"Linear":s=f.innerText.toLowerCase()==="true";break;case"Bar":o=parseInt(f.innerText);break;case"Position":a=parseFloat(f.innerText);break;case"Value":if(f.firstElement&&f.firstElement.nodeType===tt.CDATA)c=f.innerText;else{let p=f.innerText.split(" ");p.length===1?(l=parseFloat(p[0]),u=1):(l=parseFloat(p[0]),u=parseInt(p[1]))}break;case"Text":d=f.innerText;break}if(!i)return;let h=null;switch(i){case"Tempo":h=Ls.buildTempoAutomation(s,a,l,u);break;case"Sound":c&&r&&r.has(c)&&(h=Ls.buildInstrumentAutomation(s,a,r.get(c).program));break}h&&(d&&(h.text=d),o>=0&&(n.has(o)||n.set(o,[]),n.get(o).push(h)))}parseTracksNode(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Track":this.parseTrack(n);break}}parseTrack(e){this._articulationByName=new Map;let n=new _u;n.ensureStaveCount(1);let r=n.staves[0];r.showStandardNotation=!0;let i=e.getAttribute("id");for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Name":n.name=s.innerText;break;case"Color":let o=s.innerText.split(" ");if(o.length>=3){let c=parseInt(o[0]),u=parseInt(o[1]),d=parseInt(o[2]);n.color=new Zr(c,u,d,255)}break;case"Instrument":let a=s.getAttribute("ref");(a.endsWith("-gs")||a.endsWith("GrandStaff"))&&(n.ensureStaveCount(2),n.staves[1].showStandardNotation=!0);break;case"InstrumentSet":this.parseInstrumentSet(n,s);break;case"NotationPatch":this.parseNotationPatch(n,s);break;case"ShortName":n.shortName=s.innerText;break;case"SystemsDefautLayout":n.defaultSystemsLayout=parseInt(s.innerText);break;case"SystemsLayout":n.systemsLayout=s.innerText.split(" ").map(c=>parseInt(c));break;case"Lyrics":this.parseLyrics(i,s);break;case"Properties":this.parseTrackProperties(n,s);break;case"GeneralMidi":case"MidiConnection":case"MIDISettings":this.parseGeneralMidi(n,s);break;case"Sounds":this.parseSounds(i,n,s);break;case"PlaybackState":let l=s.innerText;n.playbackInfo.isSolo=l==="Solo",n.playbackInfo.isMute=l==="Mute";break;case"PartSounding":this.parsePartSounding(n,s);break;case"Staves":this.parseStaves(n,s);break;case"Transpose":this.parseTranspose(n,s);break;case"RSE":this.parseRSE(n,s);break;case"Automations":this.parseTrackAutomations(i,s);break}this._tracksById.set(i,n)}parseTrackAutomations(e,n){const r=new Map;this._automationsPerTrackIdAndBarIndex.set(e,r),this.parseAutomations(n,r,this._soundsByTrack.get(e))}parseNotationPatch(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"LineCount":const i=parseInt(r.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break;case"Elements":this.parseElements(e,r);break}}parseInstrumentSet(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Type":switch(r.innerText){case"drumKit":for(let s of e.staves)s.isPercussion=!0;break}if(r.innerText==="drumKit")for(let s of e.staves)s.isPercussion=!0;break;case"Elements":this.parseElements(e,r);break;case"LineCount":const i=parseInt(r.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break}}parseElements(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Element":this.parseElement(e,r);break}}parseElement(e,n){const r=n.findChildElement("Type"),i=r?r.innerText:"";for(let s of n.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Name":case"Articulations":this.parseArticulations(e,s,i);break}}parseArticulations(e,n,r){for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Articulation":this.parseArticulation(e,i,r);break}}parseArticulation(e,n,r){const i=new bt;i.outputMidiNumber=-1,i.elementType=r;let s="";for(let o of n.childNodes)if(o.nodeType===tt.Element){const a=o.innerText;switch(o.localName){case"Name":s=o.innerText;break;case"OutputMidiNumber":a.length>0&&(i.outputMidiNumber=parseInt(a));break;case"TechniqueSymbol":i.techniqueSymbol=this.parseTechniqueSymbol(a);break;case"TechniquePlacement":switch(a){case"outside":i.techniqueSymbolPlacement=on.Bottom;break;case"inside":i.techniqueSymbolPlacement=on.Middle;break;case"above":i.techniqueSymbolPlacement=on.Bottom;break;case"below":i.techniqueSymbolPlacement=on.Top;break}break;case"Noteheads":const l=a.split(" ");l.length>=1&&(i.noteHeadDefault=this.parseNoteHead(l[0])),l.length>=2&&(i.noteHeadHalf=this.parseNoteHead(l[1])),l.length>=3&&(i.noteHeadWhole=this.parseNoteHead(l[2])),i.noteHeadHalf==Q.None&&(i.noteHeadHalf=i.noteHeadDefault),i.noteHeadWhole==Q.None&&(i.noteHeadWhole=i.noteHeadDefault);break;case"StaffLine":a.length>0&&(i.staffLine=parseInt(a));break}}i.outputMidiNumber!==-1?(e.percussionArticulations.push(i),s.length>0&&this._articulationByName.set(s,i)):s.length>0&&this._articulationByName.has(s)&&(this._articulationByName.get(s).staffLine=i.staffLine)}parseTechniqueSymbol(e){switch(e){case"pictEdgeOfCymbal":return Q.PictEdgeOfCymbal;case"articStaccatoAbove":return Q.ArticStaccatoAbove;case"noteheadParenthesis":return Q.NoteheadParenthesis;case"stringsUpBow":return Q.StringsUpBow;case"stringsDownBow":return Q.StringsDownBow;case"guitarGolpe":return Q.GuitarGolpe;default:return Q.None}}parseNoteHead(e){switch(e){case"noteheadDoubleWholeSquare":return Q.NoteheadDoubleWholeSquare;case"noteheadDoubleWhole":return Q.NoteheadDoubleWhole;case"noteheadWhole":return Q.NoteheadWhole;case"noteheadHalf":return Q.NoteheadHalf;case"noteheadBlack":return Q.NoteheadBlack;case"noteheadNull":return Q.NoteheadNull;case"noteheadXOrnate":return Q.NoteheadXOrnate;case"noteheadTriangleUpWhole":return Q.NoteheadTriangleUpWhole;case"noteheadTriangleUpHalf":return Q.NoteheadTriangleUpHalf;case"noteheadTriangleUpBlack":return Q.NoteheadTriangleUpBlack;case"noteheadDiamondBlackWide":return Q.NoteheadDiamondBlackWide;case"noteheadDiamondWhite":return Q.NoteheadDiamondWhite;case"noteheadDiamondWhiteWide":return Q.NoteheadDiamondWhiteWide;case"noteheadCircleX":return Q.NoteheadCircleX;case"noteheadXWhole":return Q.NoteheadXWhole;case"noteheadXHalf":return Q.NoteheadXHalf;case"noteheadXBlack":return Q.NoteheadXBlack;case"noteheadParenthesis":return Q.NoteheadParenthesis;case"noteheadSlashedBlack2":return Q.NoteheadSlashedBlack2;case"noteheadCircleSlash":return Q.NoteheadCircleSlash;case"noteheadHeavyX":return Q.NoteheadHeavyX;case"noteheadHeavyXHat":return Q.NoteheadHeavyXHat;default:return Qe.warning("GPIF","Unknown notehead symbol",e),Q.None}}parseStaves(e,n){let r=0;for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Staff":e.ensureStaveCount(r+1);let s=e.staves[r];this.parseStaff(s,i),r++;break}}parseStaff(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Properties":this.parseStaffProperties(e,r);break}}parseStaffProperties(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Property":this.parseStaffProperty(e,r);break}}parseStaffProperty(e,n){switch(n.getAttribute("name")){case"Tuning":for(let s of n.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Pitches":let o=n.findChildElement("Pitches").innerText.split(" "),a=new Array(o.length);for(let l=0;l<a.length;l++)a[a.length-1-l]=parseInt(o[l]);e.stringTuning.tunings=a;break;case"Label":e.stringTuning.name=s.innerText;break}e.isPercussion||(e.showTablature=!0);break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForStaff(e,n);break;case"CapoFret":let i=parseInt(n.findChildElement("Fret").innerText);e.capo=i;break}}parseLyrics(e,n){let r=[];for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Line":r.push(this.parseLyricsLine(i));break}this._lyricsByTrack.set(e,r)}parseLyricsLine(e){let n=new Ai;for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Offset":n.startBar=parseInt(r.innerText);break;case"Text":n.text=r.innerText;break}return n}parseDiagramCollectionForTrack(e,n){let r=n.findChildElement("Items");for(let i of r.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Item":this.parseDiagramItemForTrack(e,i);break}}parseDiagramCollectionForStaff(e,n){let r=n.findChildElement("Items");for(let i of r.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Item":this.parseDiagramItemForStaff(e,i);break}}parseDiagramItemForTrack(e,n){let r=new Xh,i=n.getAttribute("id");for(let s of e.staves)s.addChord(i,r);this.parseDiagramItemForChord(r,n)}parseDiagramItemForStaff(e,n){let r=new Xh,i=n.getAttribute("id");e.addChord(i,r),this.parseDiagramItemForChord(r,n)}parseDiagramItemForChord(e,n){e.name=n.getAttribute("name");let r=n.findChildElement("Diagram");if(!r){e.showDiagram=!1,e.showFingering=!1;return}let i=parseInt(r.getAttribute("stringCount")),s=parseInt(r.getAttribute("baseFret"));e.firstFret=s+1;for(let o=0;o<i;o++)e.strings.push(-1);for(let o of r.childNodes)if(o.nodeType===tt.Element)switch(o.localName){case"Fret":let a=parseInt(o.getAttribute("string"));e.strings[i-a-1]=s+parseInt(o.getAttribute("fret"));break;case"Fingering":let l=new Map;for(let c of o.childNodes)if(c.nodeType===tt.Element)switch(c.localName){case"Position":let u=pn.Unknown,d=s+parseInt(c.getAttribute("fret"));switch(c.getAttribute("finger")){case"Index":u=pn.IndexFinger;break;case"Middle":u=pn.MiddleFinger;break;case"Rank":u=pn.AnnularFinger;break;case"Pinky":u=pn.LittleFinger;break;case"Thumb":u=pn.Thumb;break}u!==pn.Unknown&&(l.has(u)?e.barreFrets.push(d):l.set(u,!0));break}break;case"Property":switch(o.getAttribute("name")){case"ShowName":e.showName=o.getAttribute("value")==="true";break;case"ShowDiagram":e.showDiagram=o.getAttribute("value")==="true";break;case"ShowFingering":e.showFingering=o.getAttribute("value")==="true";break}break}}parseTrackProperties(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Property":this.parseTrackProperty(e,r);break}}parseTrackProperty(e,n){switch(n.getAttribute("name")){case"Tuning":let i=n.findChildElement("Pitches").innerText.split(" "),s=new Array(i.length);for(let a=0;a<s.length;a++)s[s.length-1-a]=parseInt(i[a]);for(let a of e.staves)a.stringTuning.tunings=s,a.showStandardNotation=!0,a.showTablature=!0;break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForTrack(e,n);break;case"CapoFret":let o=parseInt(n.findChildElement("Fret").innerText);for(let a of e.staves)a.capo=o;break}}parseGeneralMidi(e,n){for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Program":e.playbackInfo.program=parseInt(i.innerText);break;case"Port":e.playbackInfo.port=parseInt(i.innerText);break;case"PrimaryChannel":e.playbackInfo.primaryChannel=parseInt(i.innerText);break;case"SecondaryChannel":e.playbackInfo.secondaryChannel=parseInt(i.innerText);break}if(n.getAttribute("table")==="Percussion")for(let i of e.staves)i.isPercussion=!0}parseSounds(e,n,r){for(let i of r.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Sound":this.parseSound(e,n,i);break}}parseSound(e,n,r){const i=new REe;for(let s of r.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Name":i.name=s.innerText;break;case"Path":i.path=s.innerText;break;case"Role":i.role=s.innerText;break;case"MIDI":this.parseSoundMidi(i,s);break}(i.role==="Factory"||n.playbackInfo.program===0)&&(n.playbackInfo.program=i.program),this._soundsByTrack.has(e)||this._soundsByTrack.set(e,new Map),this._soundsByTrack.get(e).set(i.uniqueId,i)}parseSoundMidi(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Program":e.program=parseInt(r.innerText);break}}parsePartSounding(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"TranspositionPitch":for(let i of e.staves)i.displayTranspositionPitch=parseInt(r.innerText);break}}parseTranspose(e,n){let r=0,i=0;for(let s of n.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Chromatic":i=parseInt(s.innerText);break;case"Octave":r=parseInt(s.innerText);break}for(let s of e.staves)s.displayTranspositionPitch=r*12+i}parseRSE(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"ChannelStrip":this.parseChannelStrip(e,r);break}}parseChannelStrip(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Parameters":this.parseChannelStripParameters(e,r);break}}parseChannelStripParameters(e,n){if(n.firstChild&&n.firstChild.value){let r=n.firstChild.value.split(" ");r.length>=12&&(e.playbackInfo.balance=Math.floor(parseFloat(r[11])*16),e.playbackInfo.volume=Math.floor(parseFloat(r[12])*16))}}parseMasterBarsNode(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"MasterBar":this.parseMasterBar(n);break}}parseMasterBar(e){let n=new Pd;this._masterBars.length===0&&this._hasAnacrusis&&(n.isAnacrusis=!0);for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Time":let i=r.innerText.split("/");n.timeSignatureNumerator=parseInt(i[0]),n.timeSignatureDenominator=parseInt(i[1]);break;case"FreeTime":n.isFreeTime=!0;break;case"DoubleBar":n.isDoubleBar=!0;break;case"Section":n.section=new aT,n.section.marker=r.findChildElement("Letter").innerText,n.section.text=r.findChildElement("Text").innerText;break;case"Repeat":r.getAttribute("start").toLowerCase()==="true"&&(n.isRepeatStart=!0),r.getAttribute("end").toLowerCase()==="true"&&r.getAttribute("count")&&(n.repeatCount=parseInt(r.getAttribute("count")));break;case"AlternateEndings":let s=r.innerText.split(" "),o=0;for(let l=0;l<s.length;l++)o=o|1<<-1+parseInt(s[l]);n.alternateEndings=o;break;case"Bars":this._barsOfMasterBar.push(r.innerText.split(" "));break;case"TripletFeel":switch(r.innerText){case"NoTripletFeel":n.tripletFeel=vn.NoTripletFeel;break;case"Triplet8th":n.tripletFeel=vn.Triplet8th;break;case"Triplet16th":n.tripletFeel=vn.Triplet16th;break;case"Dotted8th":n.tripletFeel=vn.Dotted8th;break;case"Dotted16th":n.tripletFeel=vn.Dotted16th;break;case"Scottish8th":n.tripletFeel=vn.Scottish8th;break;case"Scottish16th":n.tripletFeel=vn.Scottish16th;break}break;case"Key":n.keySignature=parseInt(r.findChildElement("AccidentalCount").innerText);let a=r.findChildElement("Mode");if(a)switch(a.innerText.toLowerCase()){case"major":n.keySignatureType=Wc.Major;break;case"minor":n.keySignatureType=Wc.Minor;break}break;case"Fermatas":this.parseFermatas(n,r);break;case"XProperties":this.parseMasterBarXProperties(r,n);break}this._masterBars.push(n)}parseFermatas(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Fermata":this.parseFermata(e,r);break}}parseFermata(e,n){let r=0,i=new fI;for(let s of n.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"Type":switch(s.innerText){case"Short":i.type=Lc.Short;break;case"Medium":i.type=Lc.Medium;break;case"Long":i.type=Lc.Long;break}break;case"Length":i.length=parseFloat(s.innerText);break;case"Offset":let o=s.innerText.split("/");if(o.length===2){let a=parseInt(o[0]),l=parseInt(o[1]);r=a/l*un.QuarterTime|0}break}e.addFermata(r,i)}parseBars(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Bar":this.parseBar(n);break}}parseBar(e){let n=new Fd,r=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Voices":this._voicesOfBar.set(r,i.innerText.split(" "));break;case"Clef":switch(i.innerText){case"Neutral":n.clef=ln.Neutral;break;case"G2":n.clef=ln.G2;break;case"F4":n.clef=ln.F4;break;case"C4":n.clef=ln.C4;break;case"C3":n.clef=ln.C3;break}break;case"Ottavia":switch(i.innerText){case"8va":n.clefOttava=Xn._8va;break;case"15ma":n.clefOttava=Xn._15ma;break;case"8vb":n.clefOttava=Xn._8vb;break;case"15mb":n.clefOttava=Xn._15mb;break}break;case"SimileMark":switch(i.innerText){case"Simple":n.simileMark=Qa.Simple;break;case"FirstOfDouble":n.simileMark=Qa.FirstOfDouble;break;case"SecondOfDouble":n.simileMark=Qa.SecondOfDouble;break}break;case"XProperties":this.parseBarXProperties(i,n);break}this._barsById.set(r,n)}parseVoices(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Voice":this.parseVoice(n);break}}parseVoice(e){let n=new Mu,r=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Beats":this._beatsOfVoice.set(r,i.innerText.split(" "));break}this._voiceById.set(r,n)}parseBeats(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Beat":this.parseBeat(n);break}}parseBeat(e){let n=new Fs,r=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Notes":this._notesOfBeat.set(r,i.innerText.split(" "));break;case"Rhythm":this._rhythmOfBeat.set(r,i.getAttribute("ref"));break;case"Fadding":i.innerText==="FadeIn"&&(n.fadeIn=!0);break;case"Tremolo":switch(i.innerText){case"1/2":n.tremoloSpeed=ve.Eighth;break;case"1/4":n.tremoloSpeed=ve.Sixteenth;break;case"1/8":n.tremoloSpeed=ve.ThirtySecond;break}break;case"Chord":n.chordId=i.innerText;break;case"Hairpin":switch(i.innerText){case"Crescendo":n.crescendo=Yo.Crescendo;break;case"Decrescendo":n.crescendo=Yo.Decrescendo;break}break;case"Arpeggio":i.innerText==="Up"?n.brushType=Mr.ArpeggioUp:n.brushType=Mr.ArpeggioDown;break;case"Properties":this.parseBeatProperties(i,n);break;case"XProperties":this.parseBeatXProperties(i,n);break;case"FreeText":n.text=i.innerText;break;case"TransposedPitchStemOrientation":switch(i.innerText){case"Upward":n.preferredBeamDirection=Je.Up;break;case"Downward":n.preferredBeamDirection=Je.Down;break}break;case"Dynamic":switch(i.innerText){case"PPP":n.dynamics=xn.PPP;break;case"PP":n.dynamics=xn.PP;break;case"P":n.dynamics=xn.P;break;case"MP":n.dynamics=xn.MP;break;case"MF":n.dynamics=xn.MF;break;case"F":n.dynamics=xn.F;break;case"FF":n.dynamics=xn.FF;break;case"FFF":n.dynamics=xn.FFF;break}break;case"GraceNotes":switch(i.innerText){case"OnBeat":n.graceType=Dt.OnBeat;break;case"BeforeBeat":n.graceType=Dt.BeforeBeat;break}break;case"Legato":i.getAttribute("origin")==="true"&&(n.isLegatoOrigin=!0);break;case"Whammy":let s=new dt(0,0);s.value=this.toBendValue(parseFloat(i.getAttribute("originValue"))),s.offset=this.toBendOffset(parseFloat(i.getAttribute("originOffset"))),n.addWhammyBarPoint(s);let o=new dt(0,0);o.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),o.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset1"))),n.addWhammyBarPoint(o);let a=new dt(0,0);a.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),a.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset2"))),n.addWhammyBarPoint(a);let l=new dt(0,0);l.value=this.toBendValue(parseFloat(i.getAttribute("destinationValue"))),l.offset=this.toBendOffset(parseFloat(i.getAttribute("destinationOffset"))),n.addWhammyBarPoint(l);break;case"Ottavia":switch(i.innerText){case"8va":n.ottava=Xn._8va;break;case"8vb":n.ottava=Xn._8vb;break;case"15ma":n.ottava=Xn._15ma;break;case"15mb":n.ottava=Xn._15mb;break}break;case"Lyrics":n.lyrics=this.parseBeatLyrics(i),this._skipApplyLyrics=!0;break;case"Slashed":n.slashed=!0;break}this._beatById.set(r,n)}parseBeatLyrics(e){const n=[];for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"Line":n.push(r.innerText);break}return n}parseBeatXProperties(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"XProperty":let i=r.getAttribute("id"),s=0;switch(i){case"1124204545":s=parseInt(r.findChildElement("Int").innerText),n.invertBeamDirection=s===1;break;case"687935489":s=parseInt(r.findChildElement("Int").innerText),n.brushDuration=s;break}break}}parseBarXProperties(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"XProperty":switch(r.getAttribute("id")){case"1124139520":const s=r.findChildElement("Double")??r.findChildElement("Float");n.displayScale=parseFloat(s.innerText);break}break}}parseMasterBarXProperties(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"XProperty":switch(r.getAttribute("id")){case"1124073984":n.displayScale=parseFloat(r.findChildElement("Double").innerText);break}break}}parseBeatProperties(e,n){let r=!1,i=null,s=null,o=null,a=null,l=null;for(let c of e.childNodes)if(c.nodeType===tt.Element)switch(c.localName){case"Property":switch(c.getAttribute("name")){case"Brush":c.findChildElement("Direction").innerText==="Up"?n.brushType=Mr.BrushUp:n.brushType=Mr.BrushDown;break;case"PickStroke":c.findChildElement("Direction").innerText==="Up"?n.pickStroke=_s.Up:n.pickStroke=_s.Down;break;case"Slapped":c.findChildElement("Enable")&&(n.slap=!0);break;case"Popped":c.findChildElement("Enable")&&(n.pop=!0);break;case"VibratoWTremBar":switch(c.findChildElement("Strength").innerText){case"Wide":n.vibrato=Wn.Wide;break;case"Slight":n.vibrato=Wn.Slight;break}break;case"WhammyBar":r=!0;break;case"WhammyBarExtend":break;case"WhammyBarOriginValue":i||(i=new dt(0,0)),i.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarOriginOffset":i||(i=new dt(0,0)),i.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleValue":s=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset1":o=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset2":a=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationValue":l||(l=new dt(dt.MaxPosition,0)),l.value=this.toBendValue(parseFloat(c.findChildElement("Float").innerText));break;case"WhammyBarDestinationOffset":l||(l=new dt(0,0)),l.offset=this.toBendOffset(parseFloat(c.findChildElement("Float").innerText));break}break}r&&(i||(i=new dt(0,0)),l||(l=new dt(dt.MaxPosition,0)),n.addWhammyBarPoint(i),o&&s&&n.addWhammyBarPoint(new dt(o,s)),a&&s&&n.addWhammyBarPoint(new dt(a,s)),!o&&!a&&s&&n.addWhammyBarPoint(new dt(dt.MaxPosition/2|0,s)),n.addWhammyBarPoint(l))}parseNotes(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Note":this.parseNote(n);break}}parseNote(e){let n=new ci,r=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Properties":this.parseNoteProperties(i,n,r);break;case"AntiAccent":i.innerText.toLowerCase()==="normal"&&(n.isGhost=!0);break;case"LetRing":n.isLetRing=!0;break;case"Trill":n.trillValue=parseInt(i.innerText),n.trillSpeed=ve.Sixteenth;break;case"Accent":let s=parseInt(i.innerText);s&1&&(n.isStaccato=!0),s&4&&(n.accentuated=hi.Heavy),s&8&&(n.accentuated=hi.Normal),s&16&&(n.accentuated=hi.Tenuto);break;case"Tie":i.getAttribute("destination").toLowerCase()==="true"&&(n.isTieDestination=!0);break;case"Vibrato":switch(i.innerText){case"Slight":n.vibrato=Wn.Slight;break;case"Wide":n.vibrato=Wn.Wide;break}break;case"LeftFingering":switch(n.isFingering=!0,i.innerText){case"P":n.leftHandFinger=pn.Thumb;break;case"I":n.leftHandFinger=pn.IndexFinger;break;case"M":n.leftHandFinger=pn.MiddleFinger;break;case"A":n.leftHandFinger=pn.AnnularFinger;break;case"C":n.leftHandFinger=pn.LittleFinger;break}break;case"RightFingering":switch(n.isFingering=!0,i.innerText){case"P":n.rightHandFinger=pn.Thumb;break;case"I":n.rightHandFinger=pn.IndexFinger;break;case"M":n.rightHandFinger=pn.MiddleFinger;break;case"A":n.rightHandFinger=pn.AnnularFinger;break;case"C":n.rightHandFinger=pn.LittleFinger;break}break;case"InstrumentArticulation":n.percussionArticulation=parseInt(i.innerText);break}this._noteById.set(r,n)}parseNoteProperties(e,n,r){let i=!1,s=null,o=null,a=null,l=null,c=null,u=-1,d=-1;for(let h of e.childNodes)if(h.nodeType===tt.Element)switch(h.localName){case"Property":switch(h.getAttribute("name")){case"ShowStringNumber":h.findChildElement("Enable")&&(n.showStringNumber=!0);break;case"String":n.string=parseInt(h.findChildElement("String").innerText)+1;break;case"Fret":n.fret=parseInt(h.findChildElement("Fret").innerText);break;case"Element":u=parseInt(h.findChildElement("Element").innerText);break;case"Variation":d=parseInt(h.findChildElement("Variation").innerText);break;case"Tapped":this._tappedNotes.set(r,!0);break;case"HarmonicType":let p=h.findChildElement("HType");if(p)switch(p.innerText){case"NoHarmonic":n.harmonicType=Vt.None;break;case"Natural":n.harmonicType=Vt.Natural;break;case"Artificial":n.harmonicType=Vt.Artificial;break;case"Pinch":n.harmonicType=Vt.Pinch;break;case"Tap":n.harmonicType=Vt.Tap;break;case"Semi":n.harmonicType=Vt.Semi;break;case"Feedback":n.harmonicType=Vt.Feedback;break}break;case"HarmonicFret":let m=h.findChildElement("HFret");m&&(n.harmonicValue=parseFloat(m.innerText));break;case"Muted":h.findChildElement("Enable")&&(n.isDead=!0);break;case"PalmMuted":h.findChildElement("Enable")&&(n.isPalmMute=!0);break;case"Octave":n.octave=parseInt(h.findChildElement("Number").innerText),n.tone===-1&&(n.tone=0);break;case"Tone":n.tone=parseInt(h.findChildElement("Step").innerText);break;case"ConcertPitch":this.parseConcertPitch(h,n);break;case"Bended":i=!0;break;case"BendOriginValue":s||(s=new dt(0,0)),s.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendOriginOffset":s||(s=new dt(0,0)),s.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleValue":o=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset1":a=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendMiddleOffset2":l=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationValue":c||(c=new dt(dt.MaxPosition,0)),c.value=this.toBendValue(parseFloat(h.findChildElement("Float").innerText));break;case"BendDestinationOffset":c||(c=new dt(0,0)),c.offset=this.toBendOffset(parseFloat(h.findChildElement("Float").innerText));break;case"HopoOrigin":h.findChildElement("Enable")&&(n.isHammerPullOrigin=!0);break;case"HopoDestination":break;case"LeftHandTapped":n.isLeftHandTapped=!0;break;case"Slide":let y=parseInt(h.findChildElement("Flags").innerText);y&1?n.slideOutType=hn.Shift:y&2?n.slideOutType=hn.Legato:y&4?n.slideOutType=hn.OutDown:y&8&&(n.slideOutType=hn.OutUp),y&16?n.slideInType=us.IntoFromBelow:y&32&&(n.slideInType=us.IntoFromAbove),y&64?n.slideOutType=hn.PickSlideDown:y&128&&(n.slideOutType=hn.PickSlideUp);break}break}i&&(s||(s=new dt(0,0)),c||(c=new dt(dt.MaxPosition,0)),n.addBendPoint(s),a&&o&&n.addBendPoint(new dt(a,o)),l&&o&&n.addBendPoint(new dt(l,o)),!a&&!l&&o&&n.addBendPoint(new dt(dt.MaxPosition/2|0,o)),n.addBendPoint(c)),u!==-1&&d!==-1&&(n.percussionArticulation=ki.articulationFromElementVariation(u,d))}parseConcertPitch(e,n){const r=e.findChildElement("Pitch");if(r){for(let i of r.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"Accidental":switch(i.innerText){case"x":n.accidentalMode=Pi.ForceDoubleSharp;break;case"#":n.accidentalMode=Pi.ForceSharp;break;case"b":n.accidentalMode=Pi.ForceFlat;break;case"bb":n.accidentalMode=Pi.ForceDoubleFlat;break}break}}}toBendValue(e){return e*Pl.BendPointValueFactor|0}toBendOffset(e){return e*Pl.BendPointPositionFactor}parseRhythms(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"Rhythm":this.parseRhythm(n);break}}parseRhythm(e){let n=new AEe,r=e.getAttribute("id");n.id=r;for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"NoteValue":switch(i.innerText){case"Long":n.value=ve.QuadrupleWhole;break;case"DoubleWhole":n.value=ve.DoubleWhole;break;case"Whole":n.value=ve.Whole;break;case"Half":n.value=ve.Half;break;case"Quarter":n.value=ve.Quarter;break;case"Eighth":n.value=ve.Eighth;break;case"16th":n.value=ve.Sixteenth;break;case"32nd":n.value=ve.ThirtySecond;break;case"64th":n.value=ve.SixtyFourth;break;case"128th":n.value=ve.OneHundredTwentyEighth;break;case"256th":n.value=ve.TwoHundredFiftySixth;break}break;case"PrimaryTuplet":n.tupletNumerator=parseInt(i.getAttribute("num")),n.tupletDenominator=parseInt(i.getAttribute("den"));break;case"AugmentationDot":n.dots=parseInt(i.getAttribute("count"));break}this._rhythmById.set(r,n)}buildModel(){for(let e=0,n=this._masterBars.length;e<n;e++){let r=this._masterBars[e];this.score.addMasterBar(r)}for(let e of this._tracksMapping){if(!e)continue;let n=this._tracksById.get(e);this.score.addTrack(n)}for(let e of this._barsOfMasterBar){let n=0;for(let r=0,i=0;r<e.length&&i<this.score.tracks.length;r++){let s=e[r];if(s!==Pl.InvalidId){let o=this._barsById.get(s),a=this.score.tracks[i],l=a.staves[n];if(l.addBar(o),this._voicesOfBar.has(s))for(let c of this._voicesOfBar.get(s))if(c!==Pl.InvalidId){let u=this._voiceById.get(c);if(o.addVoice(u),this._beatsOfVoice.has(c)){for(let d of this._beatsOfVoice.get(c))if(d!==Pl.InvalidId){let h=hI.clone(this._beatById.get(d));u.addBeat(h);let f=this._rhythmOfBeat.get(d),p=this._rhythmById.get(f);if(h.duration=p.value,h.dots=p.dots,h.tupletNumerator=p.tupletNumerator,h.tupletDenominator=p.tupletDenominator,this._notesOfBeat.has(d)){for(let m of this._notesOfBeat.get(d))if(m!==Pl.InvalidId){const y=Wj.clone(this._noteById.get(m));l.isPercussion?(y.fret=-1,y.string=-1):y.percussionArticulation=-1,h.addNote(y),this._tappedNotes.has(m)&&(h.tap=!0)}}}}}else{let u=new Mu;o.addVoice(u);let d=new Fs;d.isEmpty=!0,d.duration=ve.Quarter,u.addBeat(d)}n===a.staves.length-1?(i++,n=0):n++}else i++}}for(let e of this._tracksMapping){if(!e)continue;let n=this._tracksById.get(e),r=!1;for(const i of n.staves)if(i.isPercussion){r=!0;break}if(r||(n.percussionArticulations=[]),this._automationsPerTrackIdAndBarIndex.has(e)){const i=this._automationsPerTrackIdAndBarIndex.get(e);for(const[s,o]of i)if(n.staves.length>0&&s<n.staves[0].bars.length){const a=n.staves[0].bars[s];if(a.voices.length>0&&a.voices[0].beats.length>0){const l=a.voices[0].beats[0];for(const c of o)l.automations.push(c)}}}}for(const[e,n]of this._masterTrackAutomations){let r=this.score.masterBars[e];for(let i=0,s=n.length;i<s;i++){let o=n[i];o.type===Di.Tempo&&(e===0&&(this.score.tempo=o.value|0,o.text&&(this.score.tempoLabel=o.text)),r.tempoAutomations.push(o))}}}}Pl.InvalidId="-1";Pl.BendPointPositionFactor=dt.MaxPosition/100;Pl.BendPointValueFactor=1/25;class u3{constructor(){this.isMultiRest=!1,this.trackViewGroups=[]}}class KO{constructor(){this.showNumbered=!1,this.showSlash=!1,this.showStandardNotation=!1,this.showTablature=!1}}class Yj{apply(e){if(this.scoreViews.length>0){let n=0;for(let r of this.scoreViews[0].trackViewGroups){if(n<e.tracks.length){const i=e.tracks[n];for(const s of i.staves)s.showTablature=r.showTablature,s.showStandardNotation=r.showStandardNotation,s.showSlash=r.showSlash,s.showNumbered=r.showNumbered}n++}}}constructor(e){this.scoreViews=[];let n=ds.fromBuffer(e);const r=ze.readInt32BE(n);for(let i=0;i<r;i++){const s=new u3;this.scoreViews.push(s),s.isMultiRest=Vn.gpReadBool(n);const o=ze.readInt32BE(n);for(let a=0;a<o;a++){let l=n.readByte();l===0&&(l=1);let c=new KO;c.showStandardNotation=(l&1)!==0,c.showTablature=(l&2)!==0,c.showSlash=(l&4)!==0,c.showNumbered=(l&8)!==0,s.trackViewGroups.push(c)}}}static writeForScore(e){const n=ds.withCapacity(128),r=[new u3];for(const i of e.tracks){const s=new KO;s.showStandardNotation=i.staves[0].showStandardNotation,s.showTablature=i.staves[0].showTablature,s.showSlash=i.staves[0].showSlash,s.showNumbered=i.staves[0].showNumbered,r[0].trackViewGroups.push(s);const o=new u3;o.trackViewGroups.push(s),r.push(o)}ze.writeInt32BE(n,r.length);for(const i of r){n.writeByte(i.isMultiRest?1:0),ze.writeInt32BE(n,i.trackViewGroups.length);for(const s of i.trackViewGroups){let o=0;s.showStandardNotation&&(o=o|1),s.showTablature&&(o=o|2),s.showSlash&&(o=o|4),s.showNumbered&&(o=o|8),n.writeByte(o)}}return ze.writeInt32BE(n,1),n.toArray()}}class gI{}class ES extends gI{constructor(e){super(),this.n=e}}class $f extends gI{constructor(e,n){super(),this.left=e,this.right=n}}class GE extends gI{constructor(e,n){super(),this.n=e,this.table=n}}class bs{static make(e,n,r,i){let s=[],o=[];if(i>32)throw new Ii("Invalid huffman");for(let c=0;c<i;c++)s.push(0),o.push(0);for(let c=0;c<r;c++){let u=e[c+n];if(u>=i)throw new Ii("Invalid huffman");s[u]++}let a=0;for(let c=1;c<i-1;c++)a=a+s[c]<<1,o[c]=a;let l=new Map;for(let c=0;c<r;c++){let u=e[c+n];if(u!==0){let d=o[u-1];o[u-1]=d+1,l.set(d<<5|u,c)}}return bs.treeCompress(new $f(bs.treeMake(l,i,0,1),bs.treeMake(l,i,1,1)))}static treeMake(e,n,r,i){if(i>n)throw new Ii("Invalid huffman");let s=r<<5|i;return e.has(s)?new ES(e.get(s)):(r=r<<1,i+=1,new $f(bs.treeMake(e,n,r,i),bs.treeMake(e,n,r|1,i)))}static treeCompress(e){let n=bs.treeDepth(e);if(n===0)return e;if(n===1){if(e instanceof $f)return new $f(bs.treeCompress(e.left),bs.treeCompress(e.right));throw new Ii("assert")}let r=1<<n,i=[];for(let s=0;s<r;s++)i.push(new ES(-1));return bs.treeWalk(i,0,0,n,e),new GE(n,i)}static treeWalk(e,n,r,i,s){s instanceof $f&&i>0?(bs.treeWalk(e,n,r+1,i-1,s.left),bs.treeWalk(e,n|1<<r,r+1,i-1,s.right)):e[n]=bs.treeCompress(s)}static treeDepth(e){if(e instanceof ES)return 0;if(e instanceof GE)throw new Ii("assert");if(e instanceof $f){let n=bs.treeDepth(e.left),r=bs.treeDepth(e.right);return 1+(n<r?n:r)}return 0}}var Ci;(function(t){t[t.Head=0]="Head",t[t.Block=1]="Block",t[t.CData=2]="CData",t[t.Flat=3]="Flat",t[t.Crc=4]="Crc",t[t.Dist=5]="Dist",t[t.DistOne=6]="DistOne",t[t.Done=7]="Done"})(Ci||(Ci={}));class mc{constructor(){this.buffer=new Uint8Array(mc.BufferSize),this.pos=0}slide(){let e=new Uint8Array(mc.BufferSize);this.pos-=mc.Size,e.set(this.buffer.subarray(mc.Size,mc.Size+this.pos),0),this.buffer=e}addBytes(e,n,r){this.pos+r>mc.BufferSize&&this.slide(),this.buffer.set(e.subarray(n,n+r),this.pos),this.pos+=r}addByte(e){this.pos===mc.BufferSize&&this.slide(),this.buffer[this.pos]=e,this.pos++}getLastChar(){return this.buffer[this.pos-1]}available(){return this.pos}}mc.Size=32768;mc.BufferSize=65536;class uo{static buildFixedHuffman(){let e=[];for(let n=0;n<288;n++)e.push(n<=143?8:n<=255?9:n<=279?7:8);return bs.make(e,0,288,10)}constructor(e){this._nbits=0,this._bits=0,this._state=Ci.Block,this._isFinal=!1,this._huffman=uo._fixedHuffman,this._huffdist=null,this._len=0,this._dist=0,this._needed=0,this._output=null,this._outpos=0,this._lengths=[],this._window=new mc,this._input=e;for(let n=0;n<19;n++)this._lengths.push(-1)}readBytes(e,n,r){if(this._needed=r,this._outpos=n,this._output=e,r>0)for(;this.inflateLoop(););return r-this._needed}inflateLoop(){switch(this._state){case Ci.Head:let e=this._input.readByte();if((e&15)!==8)throw new Ii("Invalid data");let r=this._input.readByte(),i=(r&32)!==0;if(((e<<8)+r)%31!==0)throw new Ii("Invalid data");if(i)throw new Ii("Unsupported dictionary");return this._state=Ci.Block,!0;case Ci.Crc:return this._state=Ci.Done,!0;case Ci.Done:return!1;case Ci.Block:switch(this._isFinal=this.getBit(),this.getBits(2)){case 0:if(this._len=ze.readUInt16LE(this._input),ze.readUInt16LE(this._input)!==65535-this._len)throw new Ii("Invalid data");this._state=Ci.Flat;let a=this.inflateLoop();return this.resetBits(),a;case 1:return this._huffman=uo._fixedHuffman,this._huffdist=null,this._state=Ci.CData,!0;case 2:let l=this.getBits(5)+257,c=this.getBits(5)+1,u=this.getBits(4)+4;for(let h=0;h<u;h++)this._lengths[uo.CodeLengthsPos[h]]=this.getBits(3);for(let h=u;h<19;h++)this._lengths[uo.CodeLengthsPos[h]]=0;this._huffman=bs.make(this._lengths,0,19,8);let d=[];for(let h=0;h<l+c;h++)d.push(0);return this.inflateLengths(d,l+c),this._huffdist=bs.make(d,l,c,16),this._huffman=bs.make(d,0,l,16),this._state=Ci.CData,!0;default:throw new Ii("Invalid data")}case Ci.Flat:{let o=this._len<this._needed?this._len:this._needed,a=ze.readByteArray(this._input,o);return this._len-=o,this.addBytes(a,0,o),this._len===0&&(this._state=this._isFinal?Ci.Crc:Ci.Block),this._needed>0}case Ci.DistOne:{let o=this._len<this._needed?this._len:this._needed;return this.addDistOne(o),this._len-=o,this._len===0&&(this._state=Ci.CData),this._needed>0}case Ci.Dist:for(;this._len>0&&this._needed>0;){let o=this._len<this._dist?this._len:this._dist,a=this._needed<o?this._needed:o;this.addDist(this._dist,a),this._len-=a}return this._len===0&&(this._state=Ci.CData),this._needed>0;case Ci.CData:let s=this.applyHuffman(this._huffman);if(s<256)return this.addByte(s),this._needed>0;if(s===256)return this._state=this._isFinal?Ci.Crc:Ci.Block,!0;{s=s-257&255;let o=uo.LenExtraBitsTbl[s];if(o===-1)throw new Ii("Invalid data");this._len=uo.LenBaseValTbl[s]+this.getBits(o);let a=this._huffdist,l=a?this.applyHuffman(a):this.getRevBits(5);if(o=uo.DistExtraBitsTbl[l],o===-1)throw new Ii("Invalid data");if(this._dist=uo.DistBaseValTbl[l]+this.getBits(o),this._dist>this._window.available())throw new Ii("Invalid data");return this._state=this._dist===1?Ci.DistOne:Ci.Dist,!0}}return!1}addDistOne(e){let n=this._window.getLastChar();for(let r=0;r<e;r++)this.addByte(n)}addByte(e){this._window.addByte(e),this._output[this._outpos]=e,this._needed--,this._outpos++}addDist(e,n){this.addBytes(this._window.buffer,this._window.pos-e,n)}getBit(){this._nbits===0&&(this._nbits=8,this._bits=this._input.readByte());let e=(this._bits&1)===1;return this._nbits--,this._bits=this._bits>>1,e}getBits(e){for(;this._nbits<e;)this._bits=this._bits|this._input.readByte()<<this._nbits,this._nbits+=8;let n=this._bits&(1<<e)-1;return this._nbits-=e,this._bits=this._bits>>e,n}getRevBits(e){return e===0?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)}resetBits(){this._bits=0,this._nbits=0}addBytes(e,n,r){this._window.addBytes(e,n,r),this._output.set(e.subarray(n,n+r),this._outpos),this._needed-=r,this._outpos+=r}inflateLengths(e,n){let r=0,i=0;for(;r<n;){let s=this.applyHuffman(this._huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[r]=s,r++;break;case 16:let o=r+3+this.getBits(2);if(o>n)throw new Ii("Invalid data");for(;r<o;)e[r]=i,r++;break;case 17:if(r+=3+this.getBits(3),r>n)throw new Ii("Invalid data");break;case 18:if(r+=11+this.getBits(7),r>n)throw new Ii("Invalid data");break;default:throw new Ii("Invalid data")}}}applyHuffman(e){if(e instanceof ES)return e.n;if(e instanceof $f)return this.applyHuffman(this.getBit()?e.right:e.left);if(e instanceof GE)return this.applyHuffman(e.table[this.getBits(e.n)]);throw new Ii("Invalid data")}}uo.LenExtraBitsTbl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];uo.LenBaseValTbl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];uo.DistExtraBitsTbl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];uo.DistBaseValTbl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];uo.CodeLengthsPos=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];uo._fixedHuffman=uo.buildFixedHuffman();class od{constructor(e,n){this.fullName=e;let r=e.lastIndexOf("/");this.fileName=r===-1||r===e.length-1?this.fullName:e.substr(r+1),this.data=n}}od.OptionalDataDescriptorSignature=134695760;od.CompressionMethodDeflate=8;od.LocalFileHeaderSignature=67324752;od.CentralFileHeaderSignature=33639248;od.EndOfCentralDirSignature=101010256;class mI{constructor(e){this._readable=e}read(){let e=[];for(;;){let n=this.readEntry();if(!n)break;e.push(n)}return e}readEntry(){let e=this._readable;if(ze.readInt32LE(e)!==od.LocalFileHeaderSignature)return null;ze.readUInt16LE(e);let r=ze.readUInt16LE(e),i=ze.readUInt16LE(e),s=i!==0;if(s&&i!==od.CompressionMethodDeflate)return null;ze.readInt16LE(this._readable),ze.readInt16LE(this._readable),ze.readInt32LE(e),ze.readInt32LE(e);let o=ze.readInt32LE(e),a=ze.readInt16LE(e),l=ze.readInt16LE(e),c=ze.toString(ze.readByteArray(e,a),"utf-8");e.skip(l);let u;if(s){let d=ds.empty(),h=new uo(this._readable),f=new Uint8Array(65536);for(;;){let p=h.readBytes(f,0,f.length);if(d.write(f,0,p),p<f.length)break}u=d.toArray()}else u=ze.readByteArray(this._readable,o);return r&8&&(ze.readInt32LE(this._readable)===od.OptionalDataDescriptorSignature&&ze.readInt32LE(this._readable),ze.readInt32LE(this._readable),ze.readInt32LE(this._readable)),new od(c,u)}}class LEe{constructor(){this.trackViewGroups=[]}}class DEe{constructor(){this.isVisible=!1}}var UE;(function(t){t[t.PageVertical=0]="PageVertical",t[t.PageGrid=1]="PageGrid",t[t.PageParchment=2]="PageParchment",t[t.ScreenVertical=3]="ScreenVertical",t[t.ScreenHorizontal=4]="ScreenHorizontal",t[t.PageHorizontal=5]="PageHorizontal"})(UE||(UE={}));class Xj{constructor(e,n){this.zoomLevel=4,this.view=UE.PageVertical,this.muiltiVoiceCursor=!1,this.scoreViews=[];const r=ds.fromBuffer(n);this.zoomLevel=ze.readInt32BE(r),this.view=r.readByte(),this.muiltiVoiceCursor=r.readByte()!=0;const i=e.scoreViews.length;for(let s=0;s<i;s++){const o=new LEe;this.scoreViews.push(o);const a=e.scoreViews[s];for(let l=0;l<a.trackViewGroups.length;l++){const c=new DEe;c.isVisible=r.readByte()!=0,o.trackViewGroups.push(c)}}}apply(e){if(this.scoreViews.length>0){let n=0;for(let r of this.scoreViews[0].trackViewGroups){if(n<e.tracks.length){const i=e.tracks[n];i.isVisibleOnMultiTrack=r.isVisible}n++}}}static writeForScore(e){const n=ds.withCapacity(128);ze.writeInt32BE(n,4),n.writeByte(0);const r=e.tracks.length>0&&e.tracks[0].staves[0].bars[0].isMultiVoice;n.writeByte(r?255:0);for(const i of e.tracks)n.writeByte(i.isVisibleOnMultiTrack?255:0);for(const i of e.tracks)n.writeByte(255);return n.toArray()}}class FEe extends $m{get name(){return"Guitar Pro 7-8"}constructor(){super()}readScore(){Qe.debug(this.name,"Loading ZIP entries");let e=new mI(this.data),n;try{n=e.read()}catch(u){throw new Wr("No Zip archive",u)}Qe.debug(this.name,"Zip entries loaded");let r=null,i=null,s=null,o=null;for(let u of n)switch(u.fileName){case"score.gpif":r=ze.toString(u.data,this.settings.importer.encoding);break;case"BinaryStylesheet":i=u.data;break;case"PartConfiguration":s=u.data;break;case"LayoutConfiguration":o=u.data;break}if(!r)throw new Wr("No score.gpif found in zip archive");Qe.debug(this.name,"Start Parsing score.gpif");let a=new Pl;a.parseXml(r,this.settings),Qe.debug(this.name,"score.gpif parsed");let l=a.score;i&&(Qe.debug(this.name,"Start Parsing BinaryStylesheet"),new lT(i).apply(l),Qe.debug(this.name,"BinaryStylesheet parsed"));let c=null;return s&&(Qe.debug(this.name,"Start Parsing Part Configuration"),c=new Yj(s),c.apply(l),Qe.debug(this.name,"Part Configuration parsed")),o&&c!=null&&(Qe.debug(this.name,"Start Parsing Layout Configuration"),new Xj(c,o).apply(l),Qe.debug(this.name,"Layout Configuration parsed")),l}}class Ab extends fs{constructor(){super(hs.Format,"Unexpected end of data within reader"),Object.setPrototypeOf(this,Ab.prototype)}}class Rb{constructor(e){this._currentByte=0,this._position=Rb.ByteSize,this._source=e}readByte(){return this.readBits(8)}readBytes(e){const n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=this.readByte()&255;return n}readBits(e){let n=0,r=e-1;for(;r>=0;)n=n|this.readBit()<<r,r--;return n}readBitsReversed(e){let n=0;for(let r=0;r<e;r++)n=n|this.readBit()<<r;return n}readBit(){if(this._position>=8){if(this._currentByte=this._source.readByte(),this._currentByte===-1)throw new Ab;this._position=0}const e=this._currentByte>>Rb.ByteSize-this._position-1&1;return this._position++,e}readAll(){let e=ds.empty();try{for(;;)e.writeByte(this.readByte()&255)}catch(n){if(!(n instanceof Ab))throw n}return e.toArray()}}Rb.ByteSize=8;class OEe{constructor(){this.fileName="",this.fileSize=0,this.data=null}}class yI{constructor(){this.files=[],this.files=[],this.fileFilter=e=>!0}load(e){let n=new Rb(e);this.readBlock(n)}readHeader(e){return this.getString(e.readBytes(4),0,4)}decompress(e,n=!1){let r=ds.empty(),i,s=this.getInteger(e.readBytes(4),0);try{for(;r.length<s;)if(e.readBits(1)===1){let d=e.readBits(4),h=e.readBitsReversed(d),f=e.readBitsReversed(d),p=r.length-h,m=Math.min(h,f);i=r.getBuffer(),r.write(i,p,m)}else{let d=e.readBitsReversed(2);for(let h=0;h<d;h++)r.writeByte(e.readByte())}}catch(u){if(!(u instanceof Ab))throw u}i=r.getBuffer();let o=n?4:0,a=r.length-o,l=new Uint8Array(a),c=a;return l.set(i.subarray(o,o+c),0),l}readBlock(e){let n=this.readHeader(e);if(n==="BCFZ")this.readUncompressedBlock(this.decompress(e,!0));else if(n==="BCFS")this.readUncompressedBlock(e.readAll());else throw new Wr("Unsupported format")}readUncompressedBlock(e){let n=4096,r=n;for(;r+3<e.length;){if(this.getInteger(e,r)===2){let s=new OEe;s.fileName=this.getString(e,r+4,127),s.fileSize=this.getInteger(e,r+140);let o=!this.fileFilter||this.fileFilter(s.fileName);o&&this.files.push(s);let a=r+148,l=0,c=0,u=o?ds.withCapacity(s.fileSize):null;for(;l=this.getInteger(e,a+4*c++),l!==0;)r=l*n,o&&u.write(e,r,n);if(o){s.data=new Uint8Array(Math.min(s.fileSize,u.length));let d=u.toArray();s.data.set(d.subarray(0,0+s.data.length),0)}}r+=n}}getString(e,n,r){let i="";for(let s=0;s<r;s++){let o=e[n+s]&255;if(o===0)break;i+=String.fromCharCode(o)}return i}getInteger(e,n){return e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}}yI.HeaderBcFs="BCFS";yI.HeaderBcFz="BCFZ";class $Ee extends $m{get name(){return"Guitar Pro 6"}constructor(){super()}readScore(){Qe.debug(this.name,"Loading GPX filesystem");let e=new yI;e.fileFilter=c=>c.endsWith("score.gpif")||c.endsWith("BinaryStylesheet")||c.endsWith("PartConfiguration")||c.endsWith("LayoutConfiguration"),e.load(this.data),Qe.debug(this.name,"GPX filesystem loaded");let n=null,r=null,i=null,s=null;for(let c of e.files)switch(c.fileName){case"score.gpif":n=ze.toString(c.data,this.settings.importer.encoding);break;case"BinaryStylesheet":r=c.data;break;case"PartConfiguration":i=c.data;break;case"LayoutConfiguration":s=c.data;break}if(!n)throw new Wr("No score.gpif found in GPX");Qe.debug(this.name,"Start Parsing score.gpif");let o=new Pl;o.parseXml(n,this.settings),Qe.debug(this.name,"score.gpif parsed");let a=o.score;r&&(Qe.debug(this.name,"Start Parsing BinaryStylesheet"),new lT(r).apply(a),Qe.debug(this.name,"BinaryStylesheet parsed"));let l=null;return i&&(Qe.debug(this.name,"Start Parsing Part Configuration"),l=new Yj(i),l.apply(a),Qe.debug(this.name,"Part Configuration parsed")),s&&l!=null&&(Qe.debug(this.name,"Start Parsing Layout Configuration"),new Xj(l,s).apply(a),Qe.debug(this.name,"Layout Configuration parsed")),a}}class HEe extends $m{get name(){return"MusicXML"}constructor(){super(),this._currentPartGroup=null,this._trackFirstMeasureNumber=0,this._maxVoices=0,this._currentDirection=null,this._currentChord=null,this._divisionsPerQuarterNote=0,this._voiceOfStaff=new Map,this._isBeamContinue=!1,this._previousBeatWasPulled=!1,this._previousBeat=null}readScore(){this._trackById=new Map,this._partGroups=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._slurStarts=new Map;let e=this.extractMusicXml(),n=new H2;try{n.parse(e)}catch{throw new Wr("Unsupported format")}return this._score=new jp,this._score.tempo=120,this.parseDom(n),this.settings.importer.mergePartGroupsInMusicXml&&this.mergePartGroups(),this._score.finish(this.settings),this._score.rebuildRepeatGroups(),this._score}extractMusicXml(){const e=new mI(this.data);let n;try{n=e.read()}catch{n=[]}if(n.length===0)return this.data.reset(),ze.toString(this.data.readAll(),this.settings.importer.encoding);const r=n.find(c=>c.fullName==="META-INF/container.xml");if(!r)throw new Wr("No compressed MusicXML");const i=new H2;try{i.parse(ze.toString(r.data,this.settings.importer.encoding))}catch(c){throw new Wr("Malformed container.xml, could not parse as XML",c)}let s=i.firstElement;if(!s||s.localName!=="container")throw new Wr("Malformed container.xml, root element not 'container'");const o=s.findChildElement("rootfiles");if(!o)throw new Wr("Malformed container.xml, 'container/rootfiles' not found");let a="";for(const c of o.childNodes)if(c.nodeType==tt.Element&&c.localName==="rootfile"){a=c.getAttribute("full-path");break}if(!a)throw new Wr("Unsupported compressed MusicXML, missing rootfile");const l=n.find(c=>c.fullName===a);if(!l)throw new Wr(`Malformed container.xml, '${a}' not contained in zip`);return ze.toString(l.data,this.settings.importer.encoding)}mergePartGroups(){let e=!1;for(const n of this._partGroups.values())n.length>1&&(this.mergeGroup(n),e=!0);if(e)for(let n=0;n<this._score.tracks.length;n++)this._score.tracks[n].index=n}mergeGroup(e){let n=e[0];for(let r=1;r<e.length;r++){let i=e[r];for(let o of i.staves)n.addStaff(o);let s=this._score.tracks.indexOf(i);this._score.tracks.splice(s,1)}}parseDom(e){let n=e.firstElement;if(!n)throw new Wr("Unsupported format");switch(n.localName){case"score-partwise":this.parsePartwise(n);break;case"score-timewise":break;default:throw new Wr("Unsupported format")}}parsePartwise(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"work":this.parseWork(n);break;case"movement-title":this._score.title=n.innerText;break;case"identification":this.parseIdentification(n);break;case"part-list":this.parsePartList(n);break;case"part":this.parsePart(n);break}}parseWork(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"work-title":this._score.title=n.innerText;break}}parsePart(e){let n=e.getAttribute("id");if(!this._trackById.has(n))if(this._trackById.size===1){for(const[s,o]of this._trackById)(o.staves.length===0||o.staves[0].bars.length===0)&&(n=s);if(!this._trackById.has(n))return}else return;let r=this._trackById.get(n),i=!0;this._maxVoices=0;for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"measure":this.parseMeasure(s,r,i)&&(i=!1);break}for(let s of r.staves)for(let o of s.bars)this.ensureVoices(o)}parseMeasure(e,n,r){if(e.getAttribute("implicit")==="yes"&&e.getElementsByTagName("note",!1).length===0)return!1;let i=0;if(r)this._divisionsPerQuarterNote=0,this._trackFirstMeasureNumber=parseInt(e.getAttribute("number")),this._trackFirstMeasureNumber||(this._trackFirstMeasureNumber=0),i=0;else{if(i=parseInt(e.getAttribute("number")),!i)return!1;i-=this._trackFirstMeasureNumber}if(r){let l=e.getElementsByTagName("attributes",!1);if(l.length>0){let c=l[0].getElementsByTagName("staves",!1);if(c.length>0){let u=parseInt(c[0].innerText);n.ensureStaveCount(u)}}}let s=new Array(n.staves.length),o=null;for(let l=n.staves[0].bars.length;l<=i;l++)for(let c=0;c<n.staves.length;c++){let u=new Fd;if(s[c]=u,n.staves[c].bars.length>0){let d=n.staves[c].bars[n.staves[c].bars.length-1];u.clef=d.clef}o=this.getOrCreateMasterBar(i),n.staves[c].addBar(u),this.ensureVoices(u)}let a=new Map;if(o){let l=!1;for(let c of e.childNodes)if(c.nodeType===tt.Element)switch(c.localName){case"note":this.parseNoteBeat(c,s);break;case"forward":this.parseForward(c,s);break;case"direction":this.parseDirection(c,o);break;case"attributes":l||(this.parseAttributes(c,s,o,n),l=!0);break;case"harmony":this.parseHarmony(c,n,a);break;case"sound":break;case"barline":this.parseBarline(c,o);break}}return!0}ensureVoices(e){for(;e.voices.length<this._maxVoices;){let n=new Mu;e.addVoice(n);let r=new Fs;r.isEmpty=!0,r.chordId=this._currentChord,n.addBeat(r)}}getOrCreateBeat(e,n,r){let i=0,s=e.getElementsByTagName("voice",!1);s.length>0&&(i=parseInt(s[0].innerText)-1);let o=this._previousBeatWasPulled;this._previousBeatWasPulled=!1;let a=e.getElementsByTagName("staff",!1),l=1;if(a.length>0){l=parseInt(a[0].innerText),(this._isBeamContinue||o)&&this._previousBeat.voice.bar.staff.index!==l-1&&(l=this._previousBeat.voice.bar.staff.index+1,this._previousBeatWasPulled=!0);let h=n[0].staff.track.index+"-"+l;this._voiceOfStaff.has(h)||this._voiceOfStaff.set(h,i)}l--;let c;l<0?c=n[0]:l>=n.length?c=n[n.length-1]:c=n[l];let u,d=this.getOrCreateVoice(c,i);return r&&d.beats.length>0||d.beats.length===1&&d.isEmpty?u=d.beats[d.beats.length-1]:(u=new Fs,u.isEmpty=!1,d.addBeat(u)),this._isBeamContinue=!1,this._previousBeat=u,u}parseForward(e,n){let r=this.getOrCreateBeat(e,n,!1),s=parseInt(e.findChildElement("duration").innerText)*ve.Quarter/this._divisionsPerQuarterNote,o=[ve.SixtyFourth,ve.ThirtySecond,ve.Sixteenth,ve.Eighth,ve.Quarter,ve.Half,ve.Whole];for(let a of o)if(s>=a){r.duration=a,s-=a;break}r.isEmpty=!1}parseStaffDetails(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"staff-lines":for(let i of n.staves)i.stringTuning.tunings=new Array(parseInt(r.innerText)).fill(0);break;case"staff-tuning":this.parseStaffTuning(r,n);break}for(let r of n.staves)this.isEmptyTuning(r.tuning)&&(r.stringTuning.tunings=[])}parseStaffTuning(e,n){let r=parseInt(e.getAttribute("line")),i="C",s="",o=0;for(let l of e.childNodes)if(l.nodeType===tt.Element)switch(l.localName){case"tuning-step":i=l.innerText;break;case"tuning-alter":o=parseInt(l.innerText);break;case"tuning-octave":s=l.innerText;break}let a=yr.getTuningForText(i+s)+o;for(let l of n.staves)l.tuning[l.tuning.length-r]=a}parseHarmony(e,n,r){let i=new Xh;for(let o of e.childNodes)if(o.nodeType===tt.Element)switch(o.localName){case"root":i.name=this.parseHarmonyRoot(o);break;case"kind":i.name=i.name+this.parseHarmonyKind(o);break;case"frame":this.parseHarmonyFrame(o,i);break}this._currentChord=yr.newGuid();const s=i.uniqueId;r.has(s)&&(i.showDiagram=!1);for(let o of n.staves)o.addChord(this._currentChord,i);r.set(s,i)}parseHarmonyRoot(e){let n="",r="";for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"root-step":n=i.innerText;break;case"root-alter":switch(parseInt(e.innerText)){case-2:r="bb";break;case-1:r="b";break;case 0:r="";break;case 1:r="#";break;case 2:r="##";break}break}return n+r}parseHarmonyKind(e){const n=e.getAttribute("text");let r="";if(n)r=n;else switch(e.innerText){case"major":r="";break;case"minor":r="m";break;case"augmented":r="+";break;case"diminished":r="";break;case"dominant":r="7";break;case"major-seventh":r="7M";break;case"minor-seventh":r="m7";break;case"diminished-seventh":r="7";break;case"augmented-seventh":r="+7";break;case"half-diminished":r="";break;case"major-minor":r="mMaj";break;case"major-sixth":r="maj6";break;case"minor-sixth":r="m6";break;case"dominant-ninth":r="9";break;case"major-ninth":r="maj9";break;case"minor-ninth":r="m9";break;case"dominant-11th":r="11";break;case"major-11th":r="maj11";break;case"minor-11th":r="m11";break;case"dominant-13th":r="13";break;case"major-13th":r="maj13";break;case"minor-13th":r="m13";break;case"suspended-second":r="sus2";break;case"suspended-fourth":r="sus4";break}return r}parseHarmonyFrame(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"frame-strings":const i=parseInt(r.innerText);n.strings=new Array(i);for(let a=0;a<i;a++)n.strings[a]=-1;break;case"first-fret":n.firstFret=parseInt(r.innerText);break;case"frame-note":let s=null,o=null;for(let a of r.childNodes)switch(a.localName){case"string":s=parseInt(a.innerText);break;case"fret":o=parseInt(a.innerText),s&&o>=0&&(n.strings[s-1]=o);break;case"barre":s&&o&&a.getAttribute("type")==="start"&&n.barreFrets.push(o);break}break}}parseBarline(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"repeat":this.parseRepeat(r,n);break;case"ending":this.parseEnding(r,n);break}}parseEnding(e,n){let r=parseInt(e.getAttribute("number"));r>0&&(--r,n.alternateEndings=n.alternateEndings|1<<r&255)}parseRepeat(e,n){let r=e.getAttribute("direction"),i=parseInt(e.getAttribute("times"));(i<0||isNaN(i))&&(i=2),r==="backward"?n.repeatCount=i:r==="forward"&&(n.isRepeatStart=!0)}parseNoteBeat(e,n){let r=e.getElementsByTagName("chord",!1).length>0,i=this.getOrCreateBeat(e,n,r);!i.chordId&&this._currentChord&&(i.chordId=this._currentChord,this._currentChord=null),this._currentDirection&&(i.text=this._currentDirection,this._currentDirection=null);let s=new ci;i.voice.isEmpty=!1,i.isEmpty=!1,i.addNote(s),i.dots=0;let o=!1;for(let a of e.childNodes)if(a.nodeType===tt.Element)switch(a.localName){case"grace":i.graceType=Dt.BeforeBeat,i.duration=ve.ThirtySecond;break;case"duration":if(i.isRest&&!o)switch(parseInt(a.innerText)){case 1:i.duration=ve.Whole;break;case 2:i.duration=ve.Half;break;case 4:i.duration=ve.Quarter;break;case 8:i.duration=ve.Eighth;break;case 16:i.duration=ve.Sixteenth;break;case 32:i.duration=ve.ThirtySecond;break;case 64:i.duration=ve.SixtyFourth;break;default:i.duration=ve.Quarter;break}break;case"tie":this.parseTied(a,s);break;case"cue":break;case"instrument":break;case"type":i.duration=this.getDuration(a.innerText),i.graceType!==Dt.None&&i.duration<ve.Sixteenth&&(i.duration=ve.Eighth);break;case"dot":i.dots++;break;case"accidental":this.parseAccidental(a,s);break;case"time-modification":this.parseTimeModification(a,i);break;case"stem":break;case"notehead":a.getAttribute("parentheses")==="yes"&&(s.isGhost=!0);break;case"beam":a.innerText==="continue"&&(this._isBeamContinue=!0);break;case"notations":this.parseNotations(a,i,s);break;case"lyric":this.parseLyric(a,i);break;case"pitch":this.parsePitch(a,s);break;case"unpitched":this.parseUnpitched(a,s);break;case"rest":o=a.getAttribute("measure")==="yes",i.isEmpty=!1,i.notes=[],i.duration=ve.Whole;break}if(s.isStringed){for(let a=0;a<i.notes.length;a++)if(i.notes[a].string===s.string&&i.notes[a]!==s){i.removeNote(s);break}}}getDuration(e){switch(e){case"256th":case"128th":case"64th":return ve.SixtyFourth;case"32nd":return ve.ThirtySecond;case"16th":return ve.Sixteenth;case"eighth":return ve.Eighth;case"quarter":return ve.Quarter;case"half":return ve.Half;case"long":case"breve":case"whole":return ve.Whole}return ve.Quarter}parseLyric(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"text":n.text?n.text+=" "+r.innerText:n.text=r.innerText;break}}parseAccidental(e,n){switch(e.innerText){case"sharp":n.accidentalMode=Pi.ForceSharp;break;case"natural":n.accidentalMode=Pi.ForceNatural;break;case"flat":n.accidentalMode=Pi.ForceFlat;break}}parseTied(e,n){if(e.getAttribute("type")==="start")this._tieStartIds.has(n.id)||(this._tieStartIds.set(n.id,!0),this._tieStarts.push(n));else if(e.getAttribute("type")==="stop"&&this._tieStarts.length>0&&!n.isTieDestination){const r=this._tieStarts[0];r.beat.voice.index===n.beat.voice.index&&r.beat.voice.bar.staff.index===n.beat.voice.bar.staff.index&&r.beat.voice.bar.staff.track.index===n.beat.voice.bar.staff.track.index&&(n.isTieDestination=!0,n.tieOrigin=this._tieStarts[0]),this._tieStarts.splice(0,1),this._tieStartIds.delete(n.id)}}parseNotations(e,n,r){for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"articulations":this.parseArticulations(i,r);break;case"tied":this.parseTied(i,r);break;case"slide":case"glissando":i.getAttribute("type")==="start"&&(r.slideOutType=hn.Shift);break;case"dynamics":this.parseDynamics(i,n);break;case"technical":this.parseTechnical(i,r);break;case"ornaments":this.parseOrnaments(i,r);break;case"slur":let s=i.getAttribute("number");switch(s||(s="1"),s=n.voice.bar.staff.index+"_"+s,i.getAttribute("type")){case"start":this._slurStarts.set(s,r);break;case"stop":if(this._slurStarts.has(s)){r.isSlurDestination=!0;let o=this._slurStarts.get(s);o.slurDestination=r,r.slurOrigin=o}break}break}}parseOrnaments(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"tremolo":switch(parseInt(r.innerText)){case 1:n.beat.tremoloSpeed=ve.Eighth;break;case 2:n.beat.tremoloSpeed=ve.Sixteenth;break;case 3:n.beat.tremoloSpeed=ve.ThirtySecond;break}break}}parseTechnical(e,n){let r=[];for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"string":n.string=parseInt(i.innerText),n.string!==-2147483648&&(n.string=n.beat.voice.bar.staff.tuning.length-n.string+1);break;case"fret":n.fret=parseInt(i.innerText);break;case"down-bow":n.beat.pickStroke=_s.Down;break;case"up-bow":n.beat.pickStroke=_s.Up;break;case"bend":r.push(i);break}r.length>0&&this.parseBends(r,n),(n.string===-2147483648||n.fret===-2147483648)&&(n.string=-1,n.fret=-1)}parseBends(e,n){let r=dt.MaxPosition/e.length,i=0,s=0,o=!0;for(let a of e){let l=a.findChildElement("bend-alter");if(l){let c=Math.round(Math.abs(parseFloat(l.innerText))*2);a.findChildElement("pre-bend")?o?(i+=c,n.addBendPoint(new dt(s,i)),s+=r,n.addBendPoint(new dt(s,i)),o=!1):s+=r:a.findChildElement("release")?(o&&(i+=c),n.addBendPoint(new dt(s,i)),s+=r,i-=c,n.addBendPoint(new dt(s,i)),o=!1):(n.addBendPoint(new dt(s,i)),i+=c,s+=r,n.addBendPoint(new dt(s,i)),o=!1)}}}parseArticulations(e,n){for(let r of e.childNodes)switch(r.localName){case"accent":n.accentuated=hi.Normal;break;case"strong-accent":n.accentuated=hi.Heavy;break;case"staccato":case"detached-legato":n.isStaccato=!0;break;case"tenuto":n.accentuated=hi.Tenuto;break}}parseDynamics(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"p":n.dynamics=xn.P;break;case"pp":n.dynamics=xn.PP;break;case"ppp":n.dynamics=xn.PPP;break;case"f":n.dynamics=xn.F;break;case"ff":n.dynamics=xn.FF;break;case"fff":n.dynamics=xn.FFF;break;case"mp":n.dynamics=xn.MP;break;case"mf":n.dynamics=xn.MF;break}}parseTimeModification(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"actual-notes":n.tupletNumerator=parseInt(r.innerText);break;case"normal-notes":n.tupletDenominator=parseInt(r.innerText);break}}parseUnpitched(e,n){let r="",i=0,s=0;for(let a of e.childNodes)if(a.nodeType===tt.Element)switch(a.localName){case"display-step":r=a.innerText;break;case"display-alter":i=parseInt(a.innerText);break;case"display-octave":s=parseInt(a.innerText);break}let o=s*12+yr.getToneForText(r)+i;n.octave=o/12|0,n.tone=o-n.octave*12}parsePitch(e,n){let r="",i=0,s=0;for(let a of e.childNodes)if(a.nodeType===tt.Element)switch(a.localName){case"step":r=a.innerText;break;case"alter":i=parseFloat(a.innerText),isNaN(i)&&(i=0);break;case"octave":s=parseInt(a.innerText)+1;break}let o=s*12+yr.getToneForText(r)+(i|0);n.octave=o/12|0,n.tone=o-n.octave*12}getOrCreateVoice(e,n){if(n<e.voices.length)return e.voices[n];for(let r=e.voices.length;r<=n;r++)e.addVoice(new Mu);return this._maxVoices=Math.max(this._maxVoices,e.voices.length),e.voices[n]}parseDirection(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"sound":let i=r.getAttribute("tempo");if(i){let o=new Ls;o.isLinear=!0,o.type=Di.Tempo,o.value=parseInt(i),n.tempoAutomations.push(o),n.index===0&&(n.score.tempo=o.value)}break;case"direction-type":let s=r.firstElement;switch(s.localName){case"words":this._currentDirection=s.innerText;break;case"metronome":this.parseMetronome(s,n);break}break}}parseMetronome(e,n){let r=ve.Quarter,i=120;for(let o of e.childNodes)if(o.nodeType===tt.Element)switch(o.localName){case"beat-unit":r=this.getDuration(o.innerText);break;case"per-minute":i=parseInt(o.innerText);break}let s=new Ls;s.type=Di.Tempo,s.value=i*(r/4)|0,this.hasSameTempo(n,s)||(n.tempoAutomations.push(s),n.index===0&&(n.score.tempo=s.value))}hasSameTempo(e,n){for(const r of e.tempoAutomations)if(n.ratioPosition===r.ratioPosition&&n.value==r.value)return!0;return!1}parseAttributes(e,n,r,i){let s=0,o=!1;for(let a of e.childNodes)if(a.nodeType===tt.Element)switch(a.localName){case"divisions":this._divisionsPerQuarterNote=parseInt(a.innerText);break;case"key":this.parseKey(a,r);break;case"time":this.parseTime(a,r),o=!0;break;case"clef":s=parseInt(a.getAttribute("number")),isNaN(s)&&(s=1),this.parseClef(a,n[s-1]);break;case"staff-details":this.parseStaffDetails(a,i);break;case"transpose":this.parseTranspose(a,i);break}o||(r.timeSignatureCommon=!0)}parseTranspose(e,n){let r=0;for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"chromatic":r+=parseInt(i.innerText);break;case"octave-change":r+=parseInt(i.innerText)*12;break}for(let i of n.staves)i.transpositionPitch=r}parseClef(e,n){let r="s",i=0;for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"sign":r=s.innerText.toLowerCase();break;case"line":i=parseInt(s.innerText);break;case"clef-octave-change":switch(parseInt(s.innerText)){case-2:n.clefOttava=Xn._15mb;break;case-1:n.clefOttava=Xn._8vb;break;case 1:n.clefOttava=Xn._8va;break;case 2:n.clefOttava=Xn._15mb;break}break}switch(r){case"g":n.clef=ln.G2;break;case"f":n.clef=ln.F4;break;case"c":i===3?n.clef=ln.C3:n.clef=ln.C4;break;case"percussion":n.clef=ln.Neutral,n.staff.isPercussion=!0;break;case"tab":n.clef=ln.G2,n.staff.showTablature=!0;break;default:n.clef=ln.G2;break}}parseTime(e,n){e.getAttribute("symbol")==="common"&&(n.timeSignatureCommon=!0);let r=!1,i=!1;for(let s of e.childNodes)if(s.nodeType===tt.Element){let o=s.innerText;switch(s.localName){case"beats":r||(o.indexOf("+")===-1?n.timeSignatureNumerator=parseInt(o):n.timeSignatureNumerator=4,r=!0);break;case"beat-type":i||(o.indexOf("+")===-1?n.timeSignatureDenominator=parseInt(o):n.timeSignatureDenominator=4,i=!0);break}}}parseKey(e,n){let r=-2147483648,i="";for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"fifths":r=parseInt(s.innerText);break;case"key-step":break;case"key-alter":break;case"mode":i=s.innerText;break}-7<=r&&r<=7?n.keySignature=r:n.keySignature=Cn.C,i==="minor"?n.keySignatureType=Wc.Minor:n.keySignatureType=Wc.Major}getOrCreateMasterBar(e){if(e<this._score.masterBars.length)return this._score.masterBars[e];for(let n=this._score.masterBars.length;n<=e;n++){let r=new Pd;if(this._score.masterBars.length>0){let i=this._score.masterBars[this._score.masterBars.length-1];r.timeSignatureDenominator=i.timeSignatureDenominator,r.timeSignatureNumerator=i.timeSignatureNumerator,r.keySignature=i.keySignature,r.keySignatureType=i.keySignatureType}this._score.addMasterBar(r)}return this._score.masterBars[e]}parseIdentification(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"creator":n.getAttribute("type")==="composer"&&(this._score.music=n.innerText);break;case"rights":this._score.copyright&&(this._score.copyright+=`
`),this._score.copyright+=n.innerText;break}}parsePartList(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"part-group":this.parsePartGroup(n);break;case"score-part":this.parseScorePart(n);break}}parsePartGroup(e){switch(e.getAttribute("type")){case"start":this._currentPartGroup=e.getAttribute("number"),this._partGroups.set(this._currentPartGroup,[]);break;case"stop":this._currentPartGroup=null;break}}parseScorePart(e){let n=e.getAttribute("id"),r=new _u;r.ensureStaveCount(1);let i=r.staves[0];i.showStandardNotation=!0,this._trackById.set(n,r),this._score.addTrack(r),this._currentPartGroup&&this._partGroups.get(this._currentPartGroup).push(r);for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"part-name":r.name=s.innerText;break;case"part-abbreviation":r.shortName=s.innerText;break;case"midi-instrument":this.parseMidiInstrument(s,r);break}this.isEmptyTuning(r.staves[0].tuning)&&(r.staves[0].stringTuning.tunings=[])}isEmptyTuning(e){if(!e)return!0;for(let n=0;n<e.length;n++)if(e[n]!==0)return!1;return!0}parseMidiInstrument(e,n){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"midi-channel":n.playbackInfo.primaryChannel=parseInt(r.innerText);break;case"midi-program":n.playbackInfo.program=parseInt(r.innerText);break;case"volume":n.playbackInfo.volume=Math.floor(parseInt(r.innerText)/100*16);break;case"pan":n.playbackInfo.balance=Math.max(0,Math.min(16,Math.floor((parseInt(r.innerText)+90)/180*16)));break}}}var sm;(function(t){t[t.SingleTrackMultiChannel=0]="SingleTrackMultiChannel",t[t.MultiTrack=1]="MultiTrack"})(sm||(sm={}));class qj{constructor(){this.events=[]}addEvent(e){if(this.events.length===0||e.tick>=this.events[this.events.length-1].tick)this.events.push(e);else{let n=this.events.length;for(;n>0&&this.events[n-1].tick>e.tick;)n--;this.events.splice(n,0,e)}}writeTo(e){let n=ds.empty(),r=0;for(let o of this.events){let a=o.tick-r;Hh.writeVariableInt(n,a),o.writeTo(n),r=o.tick}const i=new Uint8Array([77,84,114,107]);e.write(i,0,i.length);let s=n.toArray();ze.writeInt32BE(e,s.length),e.write(s,0,s.length)}}class Hh{constructor(){this.format=sm.SingleTrackMultiChannel,this.division=un.QuarterTime,this.tracks=[]}get events(){if(this.tracks.length==1)return this.tracks[0].events;{const e=[];for(const n of this.tracks)this.events.push(...n.events);return e.sort((n,r)=>n.tick-r.tick),e}}ensureTracks(e){for(;this.tracks.length<e;)this.tracks.push(new qj)}addEvent(e){this.format==sm.SingleTrackMultiChannel?(this.ensureTracks(1),this.tracks[0].addEvent(e)):(this.ensureTracks(e.track+1),this.tracks[e.track].addEvent(e))}toBinary(){let e=ds.empty();return this.writeTo(e),e.toArray()}writeTo(e){let n=new Uint8Array([77,84,104,100]);e.write(n,0,n.length),ze.writeInt32BE(e,6),ze.writeInt16BE(e,this.format),ze.writeInt16BE(e,this.tracks.length),ze.writeInt16BE(e,this.division);for(const r of this.tracks)r.writeTo(e)}static writeVariableInt(e,n){let r=new Uint8Array(4),i=0;do r[i++]=n&127,n>>=7;while(n>0);for(;i>0;)i--,i>0?e.writeByte(r[i]|128):e.writeByte(r[i])}}var In;(function(t){t[t.TimeSignature=88]="TimeSignature",t[t.NoteOn=128]="NoteOn",t[t.NoteOff=144]="NoteOff",t[t.ControlChange=176]="ControlChange",t[t.ProgramChange=192]="ProgramChange",t[t.TempoChange=81]="TempoChange",t[t.PitchBend=224]="PitchBend",t[t.PerNotePitchBend=96]="PerNotePitchBend",t[t.EndOfTrack=47]="EndOfTrack",t[t.AlphaTabRest=241]="AlphaTabRest",t[t.AlphaTabMetronome=242]="AlphaTabMetronome",t[t.SystemExclusive=240]="SystemExclusive",t[t.SystemExclusive2=247]="SystemExclusive2",t[t.Meta=255]="Meta"})(In||(In={}));class Od{constructor(e,n,r){this.track=e,this.tick=n,this.type=r}get command(){return this.type}get message(){return 0}get data1(){return 0}get data2(){return 0}}class Kj extends Od{constructor(e,n,r,i,s,o){super(e,n,In.TimeSignature),this.track=e,this.tick=n,this.numerator=r,this.denominatorIndex=i,this.midiClocksPerMetronomeClick=s,this.thirtySecondNodesInQuarter=o}writeTo(e){e.writeByte(255),e.writeByte(88),Hh.writeVariableInt(e,4),e.writeByte(this.numerator&255),e.writeByte(this.denominatorIndex&255),e.writeByte(this.midiClocksPerMetronomeClick&255),e.writeByte(this.thirtySecondNodesInQuarter&255)}}class _d extends Od{constructor(e,n,r){super(e,n,r)}writeTo(e){e.writeByte(240);const n=ds.withCapacity(16);n.writeByte(_d.AlphaTabManufacturerId),this.writeEventData(n),n.writeByte(247),Hh.writeVariableInt(e,n.length),n.copyTo(e)}}_d.AlphaTabManufacturerId=125;_d.MetronomeEventId=0;_d.RestEventId=1;class Qj extends _d{constructor(e,n,r,i,s){super(e,n,In.AlphaTabMetronome),this.isMetronome=!0,this.metronomeNumerator=r,this.metronomeDurationInMilliseconds=s,this.metronomeDurationInTicks=i}writeEventData(e){e.writeByte(_d.MetronomeEventId),e.writeByte(this.metronomeNumerator),ze.writeInt32LE(e,this.metronomeDurationInTicks),ze.writeInt32LE(e,this.metronomeDurationInMilliseconds)}}class Jj extends _d{constructor(e,n,r){super(e,n,In.AlphaTabRest),this.channel=r}writeEventData(e){e.writeByte(_d.RestEventId),e.writeByte(this.channel)}}class Zj extends Od{constructor(e,n,r,i,s,o){super(e,n,r),this.channel=i,this.noteKey=s,this.noteVelocity=o}get data1(){return this.noteKey}get data2(){return this.noteVelocity}}class eY extends Zj{constructor(e,n,r,i,s){super(e,n,In.NoteOn,r,i,s)}writeTo(e){e.writeByte(this.channel&15|144),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class tY extends Zj{constructor(e,n,r,i,s){super(e,n,In.NoteOff,r,i,s)}writeTo(e){e.writeByte(this.channel&15|128),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class nY extends Od{constructor(e,n,r,i,s){super(e,n,In.ControlChange),this.channel=r,this.controller=i,this.value=s}writeTo(e){e.writeByte(this.channel&15|176),e.writeByte(this.controller&255),e.writeByte(this.value&255)}get data1(){return this.controller}get data2(){return this.value}}class rY extends Od{constructor(e,n,r,i){super(e,n,In.ProgramChange),this.channel=r,this.program=i}writeTo(e){e.writeByte(this.channel&15|192),e.writeByte(this.program&255)}get data1(){return this.program}}class iY extends Od{constructor(e,n){super(0,e,In.TempoChange),this.microSecondsPerQuarterNote=n}writeTo(e){e.writeByte(255),e.writeByte(81),e.writeByte(3),e.writeByte(this.microSecondsPerQuarterNote>>16&255),e.writeByte(this.microSecondsPerQuarterNote>>8&255),e.writeByte(this.microSecondsPerQuarterNote&255)}}class sY extends Od{constructor(e,n,r,i){super(e,n,In.PitchBend),this.channel=r,this.value=i}writeTo(e){e.writeByte(this.channel&15|224),e.writeByte(this.value&127),e.writeByte(this.value>>7&127)}get data1(){return this.value&127}get data2(){return this.value>>7&127}}class oY extends Od{constructor(e,n,r,i,s){super(e,n,In.PerNotePitchBend),this.channel=r,this.noteKey=i,this.value=s}writeTo(e){throw new fs(hs.General,"Note Bend (Midi2.0) events cannot be exported to SMF1.0")}}class aY extends Od{constructor(e,n){super(e,n,In.EndOfTrack)}writeTo(e){e.writeByte(255),e.writeByte(47),e.writeByte(0)}}class Vy{constructor(e,n){this.time=0,this.eventIndex=e,this.event=n,this.isMetronome=this.event.type==In.AlphaTabMetronome}static newMetronomeEvent(e,n,r,i,s){const o=new Qj(0,n,r,i,s);return new Vy(e,o)}}class gn{}gn.DefaultChannelCount=17;gn.MetronomeChannel=gn.DefaultChannelCount-1;gn.AudioChannels=2;gn.MinVolume=0;gn.MinProgram=0;gn.MaxProgram=127;gn.MinPlaybackSpeed=.125;gn.MaxPlaybackSpeed=8;gn.MaxPitchWheel=16384;gn.MaxPitchWheel20=4294967296;gn.DefaultPitchWheel=gn.MaxPitchWheel/2;gn.MicroBufferCount=32;gn.MicroBufferSize=64;class QO{constructor(e,n,r){this.bpm=e,this.ticks=n,this.time=r}}class d3{constructor(){this.tempoChanges=[],this.firstProgramEventPerChannel=new Map,this.firstTimeSignatureNumerator=0,this.firstTimeSignatureDenominator=0,this.synthData=[],this.division=un.QuarterTime,this.eventIndex=0,this.currentTime=0,this.playbackRange=null,this.playbackRangeStartTime=0,this.playbackRangeEndTime=0,this.endTick=0,this.endTime=0}}class VEe{get isPlayingMain(){return this._currentState==this._mainState}get isPlayingOneTimeMidi(){return this._currentState==this._oneTimeState}get isPlayingCountIn(){return this._currentState==this._countInState}constructor(e){this._oneTimeState=null,this._countInState=null,this.isLooping=!1,this.playbackSpeed=1,this._synthesizer=e,this._mainState=new d3,this._currentState=this._mainState}get mainPlaybackRange(){return this._mainState.playbackRange}set mainPlaybackRange(e){this._mainState.playbackRange=e,e&&(this._mainState.playbackRangeStartTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.startTick,1),this._mainState.playbackRangeEndTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.endTick,1))}get currentTime(){return this._currentState.currentTime/this.playbackSpeed}get currentEndTick(){return this._currentState.endTick}get currentEndTime(){return this._currentState.endTime/this.playbackSpeed}mainSeek(e){if(e*=this.playbackSpeed,this.mainPlaybackRange&&(e<this._mainState.playbackRangeStartTime?e=this._mainState.playbackRangeStartTime:e>this._mainState.playbackRangeEndTime&&(e=this._mainState.playbackRangeEndTime)),e>this._mainState.currentTime)this.mainSilentProcess(e-this._mainState.currentTime);else if(e<this._mainState.currentTime){if(this._mainState.currentTime=0,this._mainState.eventIndex=0,this.isPlayingMain){let n=this._synthesizer.metronomeVolume;this._synthesizer.noteOffAll(!0),this._synthesizer.resetSoft(),this._synthesizer.setupMetronomeChannel(n)}this.mainSilentProcess(e)}}mainSilentProcess(e){if(e<=0)return;let n=Date.now(),r=this._mainState.currentTime+e;if(this.isPlayingMain)for(;this._mainState.currentTime<r;)this.fillMidiEventQueueLimited(r-this._mainState.currentTime)&&this._synthesizer.synthesizeSilent(gn.MicroBufferSize);this._mainState.currentTime=r;let i=Date.now()-n;Qe.debug("Sequencer","Silent seek finished in "+i+"ms (main)")}loadOneTimeMidi(e){this._oneTimeState=this.createStateFromFile(e),this._currentState=this._oneTimeState}loadMidi(e){this._mainState=this.createStateFromFile(e),this._currentState=this._mainState}createStateFromFile(e){const n=new d3;n.tempoChanges=[],n.division=e.division,n.eventIndex=0,n.currentTime=0,n.synthData=[];let r=120,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=0;for(let h of e.events){let f=new Vy(n.synthData.length,h);n.synthData.push(f);let p=h.tick-d;if(i+=p,s+=p*(6e4/(r*e.division)),f.time=s,d=h.tick,a>0)for(;c<i;){let m=Vy.newMetronomeEvent(n.synthData.length,c,Math.floor(c/a)%o,a,l);n.synthData.push(m),m.time=u,c+=a,u+=l}if(h.type===In.TempoChange)r=6e7/h.microSecondsPerQuarterNote,n.tempoChanges.push(new QO(r,i,s)),l=a*(6e4/(r*e.division));else if(h.type===In.TimeSignature){let m=h,y=Math.pow(2,m.denominatorIndex);o=m.numerator,a=n.division*(4/y)|0,l=a*(6e4/(r*e.division)),n.firstTimeSignatureDenominator===0&&(n.firstTimeSignatureNumerator=m.numerator,n.firstTimeSignatureDenominator=y)}else if(h.type===In.ProgramChange){let m=h.channel;n.firstProgramEventPerChannel.has(m)||n.firstProgramEventPerChannel.set(m,f)}}return n.synthData.sort((h,f)=>h.time>f.time?1:h.time<f.time?-1:h.eventIndex-f.eventIndex),n.endTime=s,n.endTick=i,n}fillMidiEventQueue(){return this.fillMidiEventQueueLimited(-1)}fillMidiEventQueueLimited(e){let n=gn.MicroBufferSize/this._synthesizer.outSampleRate*1e3*this.playbackSpeed,r=this.internalEndTime;e>0&&(e<n&&(n=e),r=Math.min(this.internalEndTime,this._currentState.currentTime+e));let i=!1;for(this._currentState.currentTime+=n;this._currentState.eventIndex<this._currentState.synthData.length&&this._currentState.synthData[this._currentState.eventIndex].time<this._currentState.currentTime&&this._currentState.currentTime<r;)this._synthesizer.dispatchEvent(this._currentState.synthData[this._currentState.eventIndex]),this._currentState.eventIndex++,i=!0;return i}mainTickPositionToTimePosition(e){return this.tickPositionToTimePositionWithSpeed(this._mainState,e,this.playbackSpeed)}mainTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._mainState,e,this.playbackSpeed)}currentTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._currentState,e,this.playbackSpeed)}tickPositionToTimePositionWithSpeed(e,n,r){let i=0,s=120,o=0;for(const a of e.tempoChanges){if(n<a.ticks)break;i=a.time,s=a.bpm,o=a.ticks}return n-=o,i+=n*(6e4/(s*e.division)),i/r}timePositionToTickPositionWithSpeed(e,n,r){n*=r;let i=0,s=120,o=0;for(const a of e.tempoChanges){if(n<a.time)break;i=a.ticks,s=a.bpm,o=a.time}return n-=o,i+=n/(6e4/(s*e.division))|0,i+1}get internalEndTime(){return this.isPlayingMain?this.mainPlaybackRange?this._currentState.playbackRangeEndTime:this._currentState.endTime:this._currentState.endTime}get isFinished(){return this._currentState.currentTime>=this.internalEndTime}stop(){this.isPlayingMain&&this.mainPlaybackRange?this._currentState.currentTime=this.mainPlaybackRange.startTick:this._currentState.currentTime=0,this._currentState.eventIndex=0}resetOneTimeMidi(){this._oneTimeState=null,this._currentState=this._mainState}resetCountIn(){this._countInState=null,this._currentState=this._mainState}startCountIn(){this.generateCountInMidi(),this._currentState=this._countInState,this.stop(),this._synthesizer.noteOffAll(!0)}generateCountInMidi(){const e=new d3;e.division=this._mainState.division;let n=120,r=4,i=4;this._mainState.eventIndex===0?(n=this._mainState.tempoChanges[0].bpm,r=this._mainState.firstTimeSignatureNumerator,i=this._mainState.firstTimeSignatureDenominator):(n=this._synthesizer.currentTempo,r=this._synthesizer.timeSignatureNumerator,i=this._synthesizer.timeSignatureDenominator),e.tempoChanges.push(new QO(n,0,0));let s=e.division*(4/i)|0,o=s*(6e4/(n*this._mainState.division)),a=0,l=0;for(let c=0;c<r;c++){let u=Vy.newMetronomeEvent(e.synthData.length,a,c,s,o);e.synthData.push(u),u.time=l,a+=s,l+=o}e.synthData.sort((c,u)=>c.time>u.time?1:c.time<u.time?-1:c.eventIndex-u.eventIndex),e.endTime=l,e.endTick=a,this._countInState=e}}var Ui;(function(t){t[t.Paused=0]="Paused",t[t.Playing=1]="Playing"})(Ui||(Ui={}));class BS{constructor(e,n){this.state=e,this.stopped=n}}class V2{constructor(e,n,r,i,s){this.currentTime=e,this.endTime=n,this.currentTick=r,this.endTick=i,this.isSeek=s}}class za{constructor(){this.id="",this.size=0}static load(e,n,r){if(e&&za.HeaderSize>e.size||r.position+za.HeaderSize>=r.length||(n.id=ze.read8BitStringLength(r,4),n.id.charCodeAt(0)<=32||n.id.charCodeAt(0)>=122)||(n.size=ze.readUInt32LE(r),e&&za.HeaderSize+n.size>e.size))return!1;e&&(e.size-=za.HeaderSize+n.size);let i=n.id==="RIFF",s=n.id==="LIST";return i&&e?!1:!i&&!s?!0:(n.id=ze.read8BitStringLength(r,4),n.id.charCodeAt(0)<=32||n.id.charCodeAt(0)>=122?!1:(n.size-=4,!0))}}za.HeaderSize=8;class bI{constructor(){this.phdrs=[],this.pbags=[],this.pmods=[],this.pgens=[],this.insts=[],this.ibags=[],this.imods=[],this.igens=[],this.sHdrs=[],this.fontSamples=new Float32Array(0)}load(e){const n=new za,r=new za;if(!za.load(null,n,e)||n.id!=="sfbk")throw new Ii("Soundfont is not a valid Soundfont2 file");for(;za.load(n,r,e);){let i=new za;if(r.id==="pdta")for(;za.load(r,i,e);)switch(i.id){case"phdr":for(let s=0,o=i.size/QE.SizeInFile|0;s<o;s++)this.phdrs.push(new QE(e));break;case"pbag":for(let s=0,o=i.size/KE.SizeInFile|0;s<o;s++)this.pbags.push(new KE(e));break;case"pmod":for(let s=0,o=i.size/JE.SizeInFile|0;s<o;s++)this.pmods.push(new JE(e));break;case"pgen":for(let s=0,o=i.size/la.SizeInFile|0;s<o;s++)this.pgens.push(new la(e));break;case"inst":for(let s=0,o=i.size/qE.SizeInFile|0;s<o;s++)this.insts.push(new qE(e));break;case"ibag":for(let s=0,o=i.size/jE.SizeInFile|0;s<o;s++)this.ibags.push(new jE(e));break;case"imod":for(let s=0,o=i.size/YE.SizeInFile|0;s<o;s++)this.imods.push(new YE(e));break;case"igen":for(let s=0,o=i.size/XE.SizeInFile|0;s<o;s++)this.igens.push(new XE(e));break;case"shdr":for(let s=0,o=i.size/ZE.SizeInFile|0;s<o;s++)this.sHdrs.push(new ZE(e));break;default:e.position+=i.size;break}else if(r.id==="sdta")for(;za.load(r,i,e);)switch(i.id){case"smpl":this.fontSamples=bI.loadSamples(i,e);break;default:e.position+=i.size;break}else e.position+=r.size}}static loadSamples(e,n){let r=e.size/2|0;const i=new Float32Array(r);let s=0;const o=new Uint8Array(16*1024);for(;r>0;){let a=Math.min(r,o.length/2|0);n.read(o,0,a*2);for(let l=0;l<a;l++){const c=bn.int32ToInt16(o[l*2+1]<<8|o[l*2]);i[s+l]=c/32767}r-=a,s+=a}return i}}class jE{constructor(e){this.instGenNdx=ze.readUInt16LE(e),this.instModNdx=ze.readUInt16LE(e)}}jE.SizeInFile=4;class YE{constructor(e){this.modSrcOper=ze.readUInt16LE(e),this.modDestOper=ze.readUInt16LE(e),this.modAmount=ze.readInt16LE(e),this.modAmtSrcOper=ze.readUInt16LE(e),this.modTransOper=ze.readUInt16LE(e)}}YE.SizeInFile=10;class XE{constructor(e){this.genOper=ze.readUInt16LE(e),this.genAmount=new lY(e)}}XE.SizeInFile=4;class qE{constructor(e){this.instName=ze.read8BitStringLength(e,20),this.instBagNdx=ze.readUInt16LE(e)}}qE.SizeInFile=22;class KE{constructor(e){this.genNdx=ze.readUInt16LE(e),this.modNdx=ze.readUInt16LE(e)}}KE.SizeInFile=4;class la{constructor(e){this.genOper=ze.readUInt16LE(e),this.genAmount=new lY(e)}}la.SizeInFile=4;la.GenInstrument=41;la.GenKeyRange=43;la.GenVelRange=44;la.GenSampleId=53;class QE{constructor(e){this.presetName=ze.read8BitStringLength(e,20),this.preset=ze.readUInt16LE(e),this.bank=ze.readUInt16LE(e),this.presetBagNdx=ze.readUInt16LE(e),this.library=ze.readUInt32LE(e),this.genre=ze.readUInt32LE(e),this.morphology=ze.readUInt32LE(e)}}QE.SizeInFile=38;class JE{constructor(e){this.modSrcOper=ze.readUInt16LE(e),this.modDestOper=ze.readUInt16LE(e),this.modAmount=ze.readUInt16LE(e),this.modAmtSrcOper=ze.readUInt16LE(e),this.modTransOper=ze.readUInt16LE(e)}}JE.SizeInFile=10;class ZE{constructor(e){this.sampleName=ze.read8BitStringLength(e,20),this.start=ze.readUInt32LE(e),this.end=ze.readUInt32LE(e),this.startLoop=ze.readUInt32LE(e),this.endLoop=ze.readUInt32LE(e),this.sampleRate=ze.readUInt32LE(e),this.originalPitch=e.readByte(),this.pitchCorrection=ze.readSInt8(e),this.sampleLink=ze.readUInt16LE(e),this.sampleType=ze.readUInt16LE(e)}}ZE.SizeInFile=46;class lY{get shortAmount(){return bn.uint16ToInt16(this.wordAmount)}get lowByteAmount(){return this.wordAmount&255}get highByteAmount(){return(this.wordAmount&65280)>>8&255}constructor(e){this.wordAmount=ze.readUInt16LE(e)}}let zEe=class{constructor(){this.presetIndex=0,this.bank=0,this.pitchWheel=0,this.perNotePitchWheel=new Map,this.midiPan=0,this.midiVolume=0,this.midiExpression=0,this.midiRpn=0,this.midiData=0,this.panOffset=0,this.gainDb=0,this.pitchRange=0,this.tuning=0,this.mixVolume=0,this.mute=!1,this.solo=!1}};class WEe{constructor(){this.activeChannel=0,this.channelList=[]}setupVoice(e,n){const r=this.channelList[this.activeChannel],i=n.region.pan+r.panOffset;n.playingChannel=this.activeChannel,n.mixVolume=r.mixVolume,n.noteGainDb+=r.gainDb,n.updatePitchRatio(r,e.outSampleRate),i<=-.5?(n.panFactorLeft=1,n.panFactorRight=0):i>=.5?(n.panFactorLeft=0,n.panFactorRight=1):(n.panFactorLeft=Math.sqrt(.5-i),n.panFactorRight=Math.sqrt(.5+i))}}var ed;(function(t){t[t.None=0]="None",t[t.Continuous=1]="Continuous",t[t.Sustain=2]="Sustain"})(ed||(ed={}));var Zf;(function(t){t[t.StereoInterleaved=0]="StereoInterleaved",t[t.StereoUnweaved=1]="StereoUnweaved",t[t.Mono=2]="Mono"})(Zf||(Zf={}));class GEe{constructor(){this.name="",this.presetNumber=0,this.bank=0,this.regions=null,this.fontSamples=null}}class mi{static timecents2Secs(e){return Math.pow(2,e/1200)}static decibelsToGain(e){return e>-100?Math.pow(10,e*.05):0}static gainToDecibels(e){return e<=1e-5?-100:20*Math.log10(e)}static cents2Hertz(e){return 8.176*Math.pow(2,e/1200)}static clamp(e,n,r){return e<=n?n:e>=r?r:e}}class hy{constructor(e){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0,e&&(this.delay=e.delay,this.attack=e.attack,this.hold=e.hold,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.keynumToHold=e.keynumToHold,this.keynumToDecay=e.keynumToDecay)}clear(){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0}envToSecs(e){this.delay=this.delay<-11950?0:mi.timecents2Secs(this.delay),this.attack=this.attack<-11950?0:mi.timecents2Secs(this.attack),this.release=this.release<-11950?0:mi.timecents2Secs(this.release),this.keynumToHold===0&&(this.hold=this.hold<-11950?0:mi.timecents2Secs(this.hold)),this.keynumToDecay===0&&(this.decay=this.decay<-11950?0:mi.timecents2Secs(this.decay)),this.sustain<0?this.sustain=0:e?this.sustain=mi.decibelsToGain(-this.sustain/10):this.sustain=1-this.sustain/1e3}}var Bn;(function(t){t[t.StartAddrsOffset=0]="StartAddrsOffset",t[t.EndAddrsOffset=1]="EndAddrsOffset",t[t.StartloopAddrsOffset=2]="StartloopAddrsOffset",t[t.EndloopAddrsOffset=3]="EndloopAddrsOffset",t[t.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",t[t.ModLfoToPitch=5]="ModLfoToPitch",t[t.VibLfoToPitch=6]="VibLfoToPitch",t[t.ModEnvToPitch=7]="ModEnvToPitch",t[t.InitialFilterFc=8]="InitialFilterFc",t[t.InitialFilterQ=9]="InitialFilterQ",t[t.ModLfoToFilterFc=10]="ModLfoToFilterFc",t[t.ModEnvToFilterFc=11]="ModEnvToFilterFc",t[t.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",t[t.ModLfoToVolume=13]="ModLfoToVolume",t[t.Unused1=14]="Unused1",t[t.ChorusEffectsSend=15]="ChorusEffectsSend",t[t.ReverbEffectsSend=16]="ReverbEffectsSend",t[t.Pan=17]="Pan",t[t.Unused2=18]="Unused2",t[t.Unused3=19]="Unused3",t[t.Unused4=20]="Unused4",t[t.DelayModLFO=21]="DelayModLFO",t[t.FreqModLFO=22]="FreqModLFO",t[t.DelayVibLFO=23]="DelayVibLFO",t[t.FreqVibLFO=24]="FreqVibLFO",t[t.DelayModEnv=25]="DelayModEnv",t[t.AttackModEnv=26]="AttackModEnv",t[t.HoldModEnv=27]="HoldModEnv",t[t.DecayModEnv=28]="DecayModEnv",t[t.SustainModEnv=29]="SustainModEnv",t[t.ReleaseModEnv=30]="ReleaseModEnv",t[t.KeynumToModEnvHold=31]="KeynumToModEnvHold",t[t.KeynumToModEnvDecay=32]="KeynumToModEnvDecay",t[t.DelayVolEnv=33]="DelayVolEnv",t[t.AttackVolEnv=34]="AttackVolEnv",t[t.HoldVolEnv=35]="HoldVolEnv",t[t.DecayVolEnv=36]="DecayVolEnv",t[t.SustainVolEnv=37]="SustainVolEnv",t[t.ReleaseVolEnv=38]="ReleaseVolEnv",t[t.KeynumToVolEnvHold=39]="KeynumToVolEnvHold",t[t.KeynumToVolEnvDecay=40]="KeynumToVolEnvDecay",t[t.Instrument=41]="Instrument",t[t.Reserved1=42]="Reserved1",t[t.KeyRange=43]="KeyRange",t[t.VelRange=44]="VelRange",t[t.StartloopAddrsCoarseOffset=45]="StartloopAddrsCoarseOffset",t[t.Keynum=46]="Keynum",t[t.Velocity=47]="Velocity",t[t.InitialAttenuation=48]="InitialAttenuation",t[t.Reserved2=49]="Reserved2",t[t.EndloopAddrsCoarseOffset=50]="EndloopAddrsCoarseOffset",t[t.CoarseTune=51]="CoarseTune",t[t.FineTune=52]="FineTune",t[t.SampleID=53]="SampleID",t[t.SampleModes=54]="SampleModes",t[t.Reserved3=55]="Reserved3",t[t.ScaleTuning=56]="ScaleTuning",t[t.ExclusiveClass=57]="ExclusiveClass",t[t.OverridingRootKey=58]="OverridingRootKey",t[t.Unused5=59]="Unused5",t[t.EndOper=60]="EndOper"})(Bn||(Bn={}));class _0{constructor(e){this.loopMode=ed.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv=new hy,this.modEnv=new hy,this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,e&&(this.loopMode=e.loopMode,this.sampleRate=e.sampleRate,this.loKey=e.loKey,this.hiKey=e.hiKey,this.loVel=e.loVel,this.hiVel=e.hiVel,this.group=e.group,this.offset=e.offset,this.end=e.end,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.transpose=e.transpose,this.tune=e.tune,this.pitchKeyCenter=e.pitchKeyCenter,this.pitchKeyTrack=e.pitchKeyTrack,this.attenuation=e.attenuation,this.pan=e.pan,this.ampEnv=new hy(e.ampEnv),this.modEnv=new hy(e.modEnv),this.initialFilterQ=e.initialFilterQ,this.initialFilterFc=e.initialFilterFc,this.modEnvToPitch=e.modEnvToPitch,this.modEnvToFilterFc=e.modEnvToFilterFc,this.modLfoToFilterFc=e.modLfoToFilterFc,this.modLfoToVolume=e.modLfoToVolume,this.delayModLFO=e.delayModLFO,this.freqModLFO=e.freqModLFO,this.modLfoToPitch=e.modLfoToPitch,this.delayVibLFO=e.delayVibLFO,this.freqVibLFO=e.freqVibLFO,this.vibLfoToPitch=e.vibLfoToPitch)}clear(e){this.loopMode=ed.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv.clear(),this.modEnv.clear(),this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,this.hiKey=127,this.hiVel=127,this.pitchKeyCenter=60,!e&&(this.pitchKeyTrack=100,this.pitchKeyCenter=-1,this.ampEnv.delay=-12e3,this.ampEnv.attack=-12e3,this.ampEnv.hold=-12e3,this.ampEnv.decay=-12e3,this.ampEnv.release=-12e3,this.modEnv.delay=-12e3,this.modEnv.attack=-12e3,this.modEnv.hold=-12e3,this.modEnv.decay=-12e3,this.modEnv.release=-12e3,this.initialFilterFc=13500,this.delayModLFO=-12e3,this.delayVibLFO=-12e3)}operator(e,n){switch(e){case Bn.StartAddrsOffset:this.offset+=bn.int16ToUint32(n.shortAmount);break;case Bn.EndAddrsOffset:this.end+=bn.int16ToUint32(n.shortAmount);break;case Bn.StartloopAddrsOffset:this.loopStart+=bn.int16ToUint32(n.shortAmount);break;case Bn.EndloopAddrsOffset:this.loopEnd+=bn.int16ToUint32(n.shortAmount);break;case Bn.StartAddrsCoarseOffset:this.offset+=bn.int16ToUint32(n.shortAmount)*32768;break;case Bn.ModLfoToPitch:this.modLfoToPitch=n.shortAmount;break;case Bn.VibLfoToPitch:this.vibLfoToPitch=n.shortAmount;break;case Bn.ModEnvToPitch:this.modEnvToPitch=n.shortAmount;break;case Bn.InitialFilterFc:this.initialFilterFc=n.shortAmount;break;case Bn.InitialFilterQ:this.initialFilterQ=n.shortAmount;break;case Bn.ModLfoToFilterFc:this.modLfoToFilterFc=n.shortAmount;break;case Bn.ModEnvToFilterFc:this.modEnvToFilterFc=n.shortAmount;break;case Bn.EndAddrsCoarseOffset:this.end+=bn.int16ToUint32(n.shortAmount)*32768;break;case Bn.ModLfoToVolume:this.modLfoToVolume=n.shortAmount;break;case Bn.Pan:this.pan=n.shortAmount/1e3;break;case Bn.DelayModLFO:this.delayModLFO=n.shortAmount;break;case Bn.FreqModLFO:this.freqModLFO=n.shortAmount;break;case Bn.DelayVibLFO:this.delayVibLFO=n.shortAmount;break;case Bn.FreqVibLFO:this.freqVibLFO=n.shortAmount;break;case Bn.DelayModEnv:this.modEnv.delay=n.shortAmount;break;case Bn.AttackModEnv:this.modEnv.attack=n.shortAmount;break;case Bn.HoldModEnv:this.modEnv.hold=n.shortAmount;break;case Bn.DecayModEnv:this.modEnv.decay=n.shortAmount;break;case Bn.SustainModEnv:this.modEnv.sustain=n.shortAmount;break;case Bn.ReleaseModEnv:this.modEnv.release=n.shortAmount;break;case Bn.KeynumToModEnvHold:this.modEnv.keynumToHold=n.shortAmount;break;case Bn.KeynumToModEnvDecay:this.modEnv.keynumToDecay=n.shortAmount;break;case Bn.DelayVolEnv:this.ampEnv.delay=n.shortAmount;break;case Bn.AttackVolEnv:this.ampEnv.attack=n.shortAmount;break;case Bn.HoldVolEnv:this.ampEnv.hold=n.shortAmount;break;case Bn.DecayVolEnv:this.ampEnv.decay=n.shortAmount;break;case Bn.SustainVolEnv:this.ampEnv.sustain=n.shortAmount;break;case Bn.ReleaseVolEnv:this.ampEnv.release=n.shortAmount;break;case Bn.KeynumToVolEnvHold:this.ampEnv.keynumToHold=n.shortAmount;break;case Bn.KeynumToVolEnvDecay:this.ampEnv.keynumToDecay=n.shortAmount;break;case Bn.KeyRange:this.loKey=n.lowByteAmount,this.hiKey=n.highByteAmount;break;case Bn.VelRange:this.loVel=n.lowByteAmount,this.hiVel=n.highByteAmount;break;case Bn.StartloopAddrsCoarseOffset:this.loopStart+=bn.int16ToUint32(n.shortAmount)*32768;break;case Bn.InitialAttenuation:this.attenuation+=n.shortAmount*.1;break;case Bn.EndloopAddrsCoarseOffset:this.loopEnd+=bn.int16ToUint32(n.shortAmount)*32768;break;case Bn.CoarseTune:this.transpose+=n.shortAmount;break;case Bn.FineTune:this.tune+=n.shortAmount;break;case Bn.SampleModes:this.loopMode=(n.wordAmount&3)===3?ed.Sustain:(n.wordAmount&3)===1?ed.Continuous:ed.None;break;case Bn.ScaleTuning:this.pitchKeyTrack=n.shortAmount;break;case Bn.ExclusiveClass:this.group=n.wordAmount;break;case Bn.OverridingRootKey:this.pitchKeyCenter=n.shortAmount;break}}}var xr;(function(t){t[t.None=0]="None",t[t.Delay=1]="Delay",t[t.Attack=2]="Attack",t[t.Hold=3]="Hold",t[t.Decay=4]="Decay",t[t.Sustain=5]="Sustain",t[t.Release=6]="Release",t[t.Done=7]="Done"})(xr||(xr={}));class Lb{constructor(){this.level=0,this.slope=0,this.samplesUntilNextSegment=0,this.segment=xr.None,this.midiVelocity=0,this.parameters=null,this.segmentIsExponential=!1,this.isAmpEnv=!1}nextSegment(e,n){if(this.parameters)for(;;)switch(e){case xr.None:if(this.samplesUntilNextSegment=this.parameters.delay*n|0,this.samplesUntilNextSegment>0){this.segment=xr.Delay,this.segmentIsExponential=!1,this.level=0,this.slope=0;return}e=xr.Delay;break;case xr.Delay:if(this.samplesUntilNextSegment=this.parameters.attack*n|0,this.samplesUntilNextSegment>0){this.isAmpEnv||(this.samplesUntilNextSegment=this.parameters.attack*((145-this.midiVelocity)/144)*n|0),this.segment=xr.Attack,this.segmentIsExponential=!1,this.level=0,this.slope=1/this.samplesUntilNextSegment;return}e=xr.Attack;break;case xr.Attack:if(this.samplesUntilNextSegment=this.parameters.hold*n|0,this.samplesUntilNextSegment>0){this.segment=xr.Hold,this.segmentIsExponential=!1,this.level=1,this.slope=0;return}e=xr.Hold;break;case xr.Hold:if(this.samplesUntilNextSegment=this.parameters.decay*n|0,this.samplesUntilNextSegment>0){if(this.segment=xr.Decay,this.level=1,this.isAmpEnv){let r=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(r),this.segmentIsExponential=!0,this.parameters.sustain>0&&(this.samplesUntilNextSegment=Math.log(this.parameters.sustain)/r|0)}else this.slope=-1/this.samplesUntilNextSegment,this.samplesUntilNextSegment=this.parameters.decay*(1-this.parameters.sustain)*n|0,this.segmentIsExponential=!1;return}e=xr.Decay;break;case xr.Decay:this.segment=xr.Sustain,this.level=this.parameters.sustain,this.slope=0,this.samplesUntilNextSegment=2147483647,this.segmentIsExponential=!1;return;case xr.Sustain:if(this.segment=xr.Release,this.samplesUntilNextSegment=(this.parameters.release<=0?Lb.FastReleaseTime:this.parameters.release)*n|0,this.isAmpEnv){let r=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(r),this.segmentIsExponential=!0}else this.slope=-this.level/this.samplesUntilNextSegment,this.segmentIsExponential=!1;return;default:this.segment=xr.Done,this.segmentIsExponential=!1,this.level=0,this.slope=0,this.samplesUntilNextSegment=134217727;return}}setup(e,n,r,i,s){this.parameters=new hy(e),this.parameters.keynumToHold>0&&(this.parameters.hold+=this.parameters.keynumToHold*(60-n),this.parameters.hold=this.parameters.hold<-1e4?0:mi.timecents2Secs(this.parameters.hold)),this.parameters.keynumToDecay>0&&(this.parameters.decay+=this.parameters.keynumToDecay*(60-n),this.parameters.decay=this.parameters.decay<-1e4?0:mi.timecents2Secs(this.parameters.decay)),this.midiVelocity=r|0,this.isAmpEnv=i,this.nextSegment(xr.None,s)}process(e,n){this.slope>0&&(this.segmentIsExponential?this.level*=Math.pow(this.slope,e):this.level+=this.slope*e),this.samplesUntilNextSegment-=e,this.samplesUntilNextSegment<=0&&this.nextSegment(this.segment,n)}}Lb.FastReleaseTime=.01;class JO{constructor(){this.samplesUntil=0,this.level=0,this.delta=0}setup(e,n,r){this.samplesUntil=e*r|0,this.delta=4*mi.cents2Hertz(n)/r,this.level=0}process(e){if(this.samplesUntil>e){this.samplesUntil-=e;return}this.level+=this.delta*e,this.level>1?(this.delta=-this.delta,this.level=2-this.level):this.level<-1&&(this.delta=-this.delta,this.level=-2-this.level)}}class ZO{constructor(e){this.qInv=0,this.a0=0,this.a1=0,this.b1=0,this.b2=0,this.z1=0,this.z2=0,this.active=!1,e&&(this.qInv=e.qInv,this.a0=e.a0,this.a1=e.a1,this.b1=e.b1,this.b2=e.b2,this.z1=e.z1,this.z2=e.z2,this.active=e.active)}setup(e){let n=Math.tan(Math.PI*e),r=n*n,i=1/(1+n*this.qInv+r);this.a0=r*i,this.a1=2*this.a0,this.b1=2*(r-1)*i,this.b2=(1-n*this.qInv+r)*i}process(e){let n=e*this.a0+this.z1;return this.z1=e*this.a1+this.z2-this.b1*n,this.z2=e*this.a0-this.b2*n,n}}class Db{constructor(){this.playingPreset=0,this.playingKey=0,this.playingChannel=0,this.region=null,this.pitchInputTimecents=0,this.pitchOutputFactor=0,this.sourceSamplePosition=0,this.noteGainDb=0,this.panFactorLeft=0,this.panFactorRight=0,this.playIndex=0,this.loopStart=0,this.loopEnd=0,this.ampEnv=new Lb,this.modEnv=new Lb,this.lowPass=new ZO,this.modLfo=new JO,this.vibLfo=new JO,this.mixVolume=0,this.mute=!1}updatePitchRatio(e,n){let r=e.pitchWheel;e.perNotePitchWheel.has(this.playingKey)&&(r+=e.perNotePitchWheel.get(this.playingKey)-8192);const i=r===8192?e.tuning:r/16383*e.pitchRange*2-e.pitchRange+e.tuning;this.calcPitchRatio(i,n)}calcPitchRatio(e,n){if(!this.region)return;const r=this.playingKey+this.region.transpose+this.region.tune/100;let i=this.region.pitchKeyCenter+(r-this.region.pitchKeyCenter)*(this.region.pitchKeyTrack/100);e!==0&&(i+=e),this.pitchInputTimecents=i*100,this.pitchOutputFactor=this.region.sampleRate/(mi.timecents2Secs(this.region.pitchKeyCenter*100)*n)}end(e){this.region&&(this.ampEnv.nextSegment(xr.Sustain,e),this.modEnv.nextSegment(xr.Sustain,e),this.region.loopMode===ed.Sustain&&(this.loopEnd=this.loopStart))}endQuick(e){this.ampEnv.parameters.release=0,this.ampEnv.nextSegment(xr.Sustain,e),this.modEnv.parameters.release=0,this.modEnv.nextSegment(xr.Sustain,e)}render(e,n,r,i,s){if(!this.region)return;let o=this.region,l=e.presets[this.playingPreset].fontSamples,c=0,u=e.outputMode===Zf.StereoUnweaved?i:-1,d=o.modEnvToPitch!==0||o.modEnvToFilterFc!==0,h=this.modLfo.delta>0&&(o.modLfoToPitch!==0||o.modLfoToFilterFc!==0||o.modLfoToVolume!==0),f=this.vibLfo.delta>0&&o.vibLfoToPitch!==0,p=this.loopStart<this.loopEnd,m=this.loopStart,y=this.loopEnd,S=o.end,w=y+1,v=this.sourceSamplePosition,k=new ZO(this.lowPass),P=o.modLfoToFilterFc!==0||o.modEnvToFilterFc!==0,T=0,_=0,E=0,I=0,R=o.modLfoToPitch!==0||o.modEnvToPitch!==0||o.vibLfoToPitch!==0,F=0,B=0,D=0,A=0,N=o.modLfoToVolume!==0,L=0,H=0;for(P?(T=e.outSampleRate,_=o.initialFilterFc,E=o.modLfoToFilterFc,I=o.modEnvToFilterFc):(T=0,_=0,E=0,I=0),R?(F=0,B=o.modLfoToPitch,D=o.vibLfoToPitch,A=o.modEnvToPitch):(F=mi.timecents2Secs(this.pitchInputTimecents)*this.pitchOutputFactor,B=0,D=0,A=0),N?H=o.modLfoToVolume*.1:(L=mi.decibelsToGain(this.noteGainDb),H=0);i>0;){let O,G,j=0,J=i>Db.RenderEffectSampleBlock?Db.RenderEffectSampleBlock:i;if(i-=J,P){let Z=_+this.modLfo.level*E+this.modEnv.level*I;k.active=Z<=13500,k.active&&k.setup(mi.cents2Hertz(Z)/T)}switch(R&&(F=mi.timecents2Secs(this.pitchInputTimecents+(this.modLfo.level*B+this.vibLfo.level*D+this.modEnv.level*A))*this.pitchOutputFactor),N&&(L=mi.decibelsToGain(this.noteGainDb+this.modLfo.level*H)),O=L*this.ampEnv.level,s?O=0:O*=this.mixVolume,this.ampEnv.process(J,e.outSampleRate),d&&this.modEnv.process(J,e.outSampleRate),h&&this.modLfo.process(J),f&&this.vibLfo.process(J),e.outputMode){case Zf.StereoInterleaved:for(G=O*this.panFactorLeft,j=O*this.panFactorRight;J-- >0&&v<S;){let Z=v|0,ae=Z>=y&&p?m:Z+1,z=v-Z,$=l[Z]*(1-z)+l[ae]*z;k.active&&($=k.process($)),n[r+c]+=$*G,c++,n[r+c]+=$*j,c++,v+=F,v>=w&&p&&(v-=y-m+1)}break;case Zf.StereoUnweaved:for(G=O*this.panFactorLeft,j=O*this.panFactorRight;J-- >0&&v<S;){let Z=v|0,ae=Z>=y&&p?m:Z+1,z=v-Z,$=l[Z]*(1-z)+l[ae]*z;k.active&&($=k.process($)),n[r+c]+=$*G,c++,n[r+u]+=$*j,u++,v+=F,v>=w&&p&&(v-=y-m+1)}break;case Zf.Mono:for(;J-- >0&&v<S;){let Z=v|0,ae=Z>=y&&p?m:Z+1,z=v-Z,$=l[Z]*(1-z)+l[ae]*z;k.active&&($=k.process($)),n[r+c]=$*O,c++,v+=F,v>=w&&p&&(v-=y-m+1)}break}if(v>=S||this.ampEnv.segment===xr.Done){this.kill();return}}this.sourceSamplePosition=v,(k.active||P)&&(this.lowPass=k)}kill(){this.playingPreset=-1}}Db.RenderEffectSampleBlock=gn.MicroBufferSize;class e5{constructor(){this._items=[],this._position=0,this.isEmpty=!0}clear(){this._items=[],this._position=0,this.isEmpty=!0}enqueue(e){this.isEmpty=!1,this._items.push(e)}peek(){return this._items[this._position]}dequeue(){const e=this._items[this._position];return this._position++,this._position>=this._items.length/2&&(this._items=this._items.slice(this._position),this._position=0),this.isEmpty=this._items.length==0,e}toArray(){const e=this._items.slice(this._position);return e.reverse(),e}}var dr;(function(t){t[t.BankSelectCoarse=0]="BankSelectCoarse",t[t.ModulationCoarse=1]="ModulationCoarse",t[t.DataEntryCoarse=6]="DataEntryCoarse",t[t.VolumeCoarse=7]="VolumeCoarse",t[t.PanCoarse=10]="PanCoarse",t[t.ExpressionControllerCoarse=11]="ExpressionControllerCoarse",t[t.BankSelectFine=32]="BankSelectFine",t[t.ModulationFine=33]="ModulationFine",t[t.DataEntryFine=38]="DataEntryFine",t[t.VolumeFine=39]="VolumeFine",t[t.PanFine=42]="PanFine",t[t.ExpressionControllerFine=43]="ExpressionControllerFine",t[t.HoldPedal=64]="HoldPedal",t[t.LegatoPedal=68]="LegatoPedal",t[t.NonRegisteredParameterFine=98]="NonRegisteredParameterFine",t[t.NonRegisteredParameterCourse=99]="NonRegisteredParameterCourse",t[t.RegisteredParameterFine=100]="RegisteredParameterFine",t[t.RegisteredParameterCourse=101]="RegisteredParameterCourse",t[t.AllSoundOff=120]="AllSoundOff",t[t.ResetControllers=121]="ResetControllers",t[t.AllNotesOff=123]="AllNotesOff"})(dr||(dr={}));class UEe{constructor(e){this._midiEventQueue=new e5,this._mutedChannels=new Map,this._soloChannels=new Map,this._isAnySolo=!1,this._transpositionPitches=new Map,this._liveTranspositionPitches=new Map,this.currentTempo=0,this.timeSignatureNumerator=0,this.timeSignatureDenominator=0,this.presets=null,this._voices=[],this._channels=null,this._voicePlayIndex=0,this.outputMode=Zf.StereoInterleaved,this.outSampleRate=0,this.globalGainDb=0,this.outSampleRate=e}synthesize(e,n,r){return this.fillWorkingBuffer(e,n,r)}synthesizeSilent(e){this.fillWorkingBuffer(null,0,e)}channelGetMixVolume(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].mixVolume:1}channelSetMixVolume(e,n){let r=this.channelInit(e);for(let i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(i.mixVolume=n);r.mixVolume=n}channelSetMute(e,n){n?this._mutedChannels.set(e,!0):this._mutedChannels.delete(e)}channelSetSolo(e,n){n?this._soloChannels.set(e,!0):this._soloChannels.delete(e),this._isAnySolo=this._soloChannels.size>0}resetChannelStates(){this._mutedChannels=new Map,this._soloChannels=new Map,this._liveTranspositionPitches=new Map,this.applyTranspositionPitches(new Map),this._isAnySolo=!1}setChannelTranspositionPitch(e,n){let r=0;this._liveTranspositionPitches.has(e)&&(r=this._liveTranspositionPitches.get(e)),n===0?this._liveTranspositionPitches.delete(e):this._liveTranspositionPitches.set(e,n);for(const i of this._voices)if(i.playingChannel===e&&i.playingChannel!==9){let s=0;s-=r,s+=n,i.playingKey+=s,this._channels&&i.updatePitchRatio(this._channels.channelList[i.playingChannel],this.outSampleRate)}}applyTranspositionPitches(e){const n=this._transpositionPitches;for(const r of this._voices)if(r.playingChannel>=0&&r.playingChannel!==9){let i=0;n.has(r.playingChannel)&&(i-=n.get(r.playingChannel)),e.has(r.playingChannel)&&(i+=e.get(r.playingChannel)),r.playingKey+=i,this._channels&&r.updatePitchRatio(this._channels.channelList[r.playingChannel],this.outSampleRate)}this._transpositionPitches=e}dispatchEvent(e){this._midiEventQueue.enqueue(e)}fillWorkingBuffer(e,n,r){const i=this._isAnySolo,s=[];for(;!this._midiEventQueue.isEmpty;){let o=this._midiEventQueue.dequeue();o.isMetronome&&this.metronomeVolume>0?(this.channelNoteOff(gn.MetronomeChannel,33),this.channelNoteOn(gn.MetronomeChannel,33,95/127)):o.event&&this.processMidiMessage(o.event),s.push(o)}for(const o of this._voices)if(o.playingPreset!==-1){const a=o.playingChannel,l=this._mutedChannels.has(a)||i&&a!=gn.MetronomeChannel&&!this._soloChannels.has(a);e?o.render(this,e,n,r,l):o.kill()}return s}processMidiMessage(e){switch(Qe.debug("MIdi","Processing Midi message "+In[e.type]+"/"+e.tick),e.type){case In.TimeSignature:const r=e;this.timeSignatureNumerator=r.numerator,this.timeSignatureDenominator=Math.pow(2,r.denominatorIndex);break;case In.NoteOn:const i=e;this.channelNoteOn(i.channel,i.noteKey,i.noteVelocity/127);break;case In.NoteOff:const s=e;this.channelNoteOff(s.channel,s.noteKey);break;case In.ControlChange:const o=e;this.channelMidiControl(o.channel,o.controller,o.value);break;case In.ProgramChange:const a=e;this.channelSetPresetNumber(a.channel,a.program,a.channel===9);break;case In.TempoChange:const l=e;this.currentTempo=6e7/l.microSecondsPerQuarterNote;break;case In.PitchBend:const c=e;this.channelSetPitchWheel(c.channel,c.value);break;case In.PerNotePitchBend:const u=e;let d=u.value;d=d*gn.MaxPitchWheel/gn.MaxPitchWheel20,this.channelSetPerNotePitchWheel(u.channel,u.noteKey,d);break}}get metronomeVolume(){return this.channelGetMixVolume(gn.MetronomeChannel)}set metronomeVolume(e){this.setupMetronomeChannel(e)}setupMetronomeChannel(e){this.channelSetMixVolume(gn.MetronomeChannel,e),e>0&&(this.channelSetVolume(gn.MetronomeChannel,1),this.channelSetPresetNumber(gn.MetronomeChannel,0,!0))}get masterVolume(){return mi.decibelsToGain(this.globalGainDb)}set masterVolume(e){var n=mi.gainToDecibels(e);const r=n-this.globalGainDb;if(r!==0){for(const i of this._voices)i.playingPreset!==-1&&(i.noteGainDb+=r);this.globalGainDb=n}}resetSoft(){for(const e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<xr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);if(this._channels)for(const e of this._channels.channelList)e.presetIndex=0,e.bank=0,e.pitchWheel=8192,e.midiPan=8192,e.perNotePitchWheel.clear(),e.midiVolume=16383,e.midiExpression=16383,e.midiRpn=65535,e.midiData=0,e.panOffset=0,e.gainDb=0,e.pitchRange=2,e.tuning=0}get presetCount(){var e;return((e=this.presets)==null?void 0:e.length)??0}reset(){for(let e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<xr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);this._channels=null}setOutput(e,n,r){this.outputMode=e,this.outSampleRate=n>=1?n:44100,this.globalGainDb=r}noteOn(e,n,r){if(!this.presets)return;const i=r*127|0;if(e<0||e>=this.presets.length)return;if(r<=0){this.noteOff(e,n);return}const s=this._voicePlayIndex++;for(const o of this.presets[e].regions){if(n<o.loKey||n>o.hiKey||i<o.loVel||i>o.hiVel)continue;let a=null;if(o.group!==0)for(const u of this._voices)u.playingPreset===e&&u.region.group===o.group?u.endQuick(this.outSampleRate):u.playingPreset===-1&&!a&&(a=u);else for(let u of this._voices)u.playingPreset===-1&&(a=u);if(!a){for(let u=0;u<4;u++){const d=new Db;d.playingPreset=-1,this._voices.push(d)}a=this._voices[this._voices.length-4]}a.region=o,a.playingPreset=e,a.playingKey=n,a.playIndex=s,a.noteGainDb=this.globalGainDb-o.attenuation-mi.gainToDecibels(1/r),this._channels?this._channels.setupVoice(this,a):(a.calcPitchRatio(0,this.outSampleRate),a.panFactorLeft=Math.sqrt(.5-o.pan),a.panFactorRight=Math.sqrt(.5+o.pan)),a.sourceSamplePosition=o.offset;const l=o.loopMode!==ed.None&&o.loopStart<o.loopEnd;a.loopStart=l?o.loopStart:0,a.loopEnd=l?o.loopEnd:0,a.ampEnv.setup(o.ampEnv,n,i,!0,this.outSampleRate),a.modEnv.setup(o.modEnv,n,i,!1,this.outSampleRate);const c=o.initialFilterQ/10;a.lowPass.qInv=1/Math.pow(10,c/20),a.lowPass.z1=0,a.lowPass.z2=0,a.lowPass.active=o.initialFilterFc<=13500,a.lowPass.active&&a.lowPass.setup(mi.cents2Hertz(o.initialFilterFc)/this.outSampleRate),a.modLfo.setup(o.delayModLFO,o.freqModLFO,this.outSampleRate),a.vibLfo.setup(o.delayVibLFO,o.freqVibLFO,this.outSampleRate)}}bankNoteOn(e,n,r,i){let s=this.getPresetIndex(e,n);return s===-1?!1:(this.noteOn(s,r,i),!0)}noteOff(e,n){let r=null,i=null,s=[];for(let o of this._voices)o.playingPreset!==e||o.playingKey!==n||o.ampEnv.segment>=xr.Release||(!r||o.playIndex<r.playIndex?(r=o,i=o,s.push(o)):o.playIndex===r.playIndex&&(i=o,s.push(o)));if(r)for(const o of s)o!==r&&o!==i&&(o.playIndex!==r.playIndex||o.playingPreset!==e||o.playingKey!==n||o.ampEnv.segment>=xr.Release)||o.end(this.outSampleRate)}bankNoteOff(e,n,r){const i=this.getPresetIndex(e,n);return i===-1?!1:(this.noteOff(i,r),!0)}noteOffAll(e){for(const n of this._voices)n.playingPreset!==-1&&(e?n.endQuick(this.outSampleRate):n.ampEnv.segment<xr.Release&&n.end(this.outSampleRate))}get activeVoiceCount(){let e=0;for(const n of this._voices)n.playingPreset!==-1&&e++;return e}channelInit(e){if(this._channels&&e<this._channels.channelList.length)return this._channels.channelList[e];this._channels||(this._channels=new WEe);for(let n=this._channels.channelList.length;n<=e;n++){let r=new zEe;r.presetIndex=0,r.bank=0,r.pitchWheel=8192,r.midiPan=8192,r.midiVolume=16383,r.midiExpression=16383,r.midiRpn=65535,r.midiData=0,r.panOffset=0,r.gainDb=0,r.pitchRange=2,r.tuning=0,r.mixVolume=1,this._channels.channelList.push(r)}return this._channels.channelList[e]}getPresetIndex(e,n){if(!this.presets)return-1;for(let r=this.presets.length-1;r>=0;r--){let i=this.presets[r];if(i.presetNumber===n&&i.bank===e)return r}return-1}getPresetName(e){return this.presets?e<0||e>=this.presets.length?null:this.presets[e].name:null}bankGetPresetName(e,n){return this.getPresetName(this.getPresetIndex(e,n))}channelNoteOn(e,n,r){!this._channels||e>this._channels.channelList.length||(this._transpositionPitches.has(e)&&(n+=this._transpositionPitches.get(e)),this._liveTranspositionPitches.has(e)&&(n+=this._liveTranspositionPitches.get(e)),this._channels.activeChannel=e,this.noteOn(this._channels.channelList[e].presetIndex,n,r))}channelNoteOff(e,n){this._transpositionPitches.has(e)&&(n+=this._transpositionPitches.get(e)),this._liveTranspositionPitches.has(e)&&(n+=this._liveTranspositionPitches.get(e));const r=[];let i=null,s=null;for(const a of this._voices)a.playingPreset===-1||a.playingChannel!==e||a.playingKey!==n||a.ampEnv.segment>=xr.Release||(!i||a.playIndex<i.playIndex?(i=a,s=a,r.push(a)):a.playIndex===i.playIndex&&(s=a,r.push(a)));if(this.channelInit(e).perNotePitchWheel.delete(n),!!i)for(const a of r)a!==i&&a!==s&&(a.playIndex!==i.playIndex||a.playingPreset===-1||a.playingChannel!==e||a.playingKey!==n||a.ampEnv.segment>=xr.Release)||a.end(this.outSampleRate)}channelNoteOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(const r of this._voices)r.playingPreset!==-1&&r.playingChannel===e&&r.ampEnv.segment<xr.Release&&r.end(this.outSampleRate)}channelSoundsOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(let r of this._voices)r.playingPreset!==-1&&r.playingChannel===e&&(r.ampEnv.segment<xr.Release||r.ampEnv.parameters.release===0)&&r.endQuick(this.outSampleRate)}channelSetPresetIndex(e,n){this.channelInit(e).presetIndex=bn.int32ToUint16(n)}channelSetPresetNumber(e,n,r=!1){const i=this.channelInit(e);let s=0;return r?(s=this.getPresetIndex(128|i.bank&32767,n),s===-1&&(s=this.getPresetIndex(128,n)),s===-1&&(s=this.getPresetIndex(128,0)),s===-1&&(s=this.getPresetIndex(i.bank&2047,n))):s=this.getPresetIndex(i.bank&2047,n),i.presetIndex=s,s!==-1}channelSetBank(e,n){this.channelInit(e).bank=bn.int32ToUint16(n)}channelSetBankPreset(e,n,r){const i=this.channelInit(e),s=this.getPresetIndex(n,r);return s===-1?!1:(i.presetIndex=bn.int32ToUint16(s),i.bank=bn.int32ToUint16(n),!0)}channelSetPan(e,n){for(const r of this._voices)if(r.playingChannel===e&&r.playingPreset!==-1){let i=r.region.pan+n-.5;i<=-.5?(r.panFactorLeft=1,r.panFactorRight=0):i>=.5?(r.panFactorLeft=0,r.panFactorRight=1):(r.panFactorLeft=Math.sqrt(.5-i),r.panFactorRight=Math.sqrt(.5+i))}this.channelInit(e).panOffset=n-.5}channelSetVolume(e,n){const r=this.channelInit(e),i=mi.gainToDecibels(n),s=i-r.gainDb;if(s!==0){for(const o of this._voices)o.playingChannel===e&&o.playingPreset!==-1&&(o.noteGainDb+=s);r.gainDb=i}}channelSetPitchWheel(e,n){const r=this.channelInit(e);r.pitchWheel!==n&&(r.pitchWheel=bn.int32ToUint16(n),this.channelApplyPitch(e,r))}channelSetPerNotePitchWheel(e,n,r){this._transpositionPitches.has(e)&&(n+=this._transpositionPitches.get(e)),this._liveTranspositionPitches.has(e)&&(n+=this._liveTranspositionPitches.get(e));const i=this.channelInit(e);i.perNotePitchWheel.has(n)&&i.perNotePitchWheel.get(n)===r||(i.perNotePitchWheel.set(n,r),this.channelApplyPitch(e,i,n))}channelApplyPitch(e,n,r=-1){for(const i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(r==-1||i.playingKey===r)&&i.updatePitchRatio(n,this.outSampleRate)}channelSetPitchRange(e,n){const r=this.channelInit(e);r.pitchRange!==n&&(r.pitchRange=n,r.pitchWheel!==8192&&this.channelApplyPitch(e,r))}channelSetTuning(e,n){const r=this.channelInit(e);r.tuning!==n&&(r.tuning=n,this.channelApplyPitch(e,r))}channelMidiControl(e,n,r){let i=this.channelInit(e);switch(n){case dr.DataEntryFine:i.midiData=bn.int32ToUint16(i.midiData&16256|r),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&this.channelSetTuning(e,r-64+(i.tuning-(i.tuning|0)));return;case dr.VolumeCoarse:i.midiVolume=bn.int32ToUint16(i.midiVolume&127|r<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case dr.VolumeFine:i.midiVolume=bn.int32ToUint16(i.midiVolume&16256|r),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case dr.ExpressionControllerCoarse:i.midiExpression=bn.int32ToUint16(i.midiExpression&127|r<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case dr.ExpressionControllerFine:i.midiExpression=bn.int32ToUint16(i.midiExpression&16256|r),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case dr.PanCoarse:i.midiPan=bn.int32ToUint16(i.midiPan&127|r<<7),this.channelSetPan(e,i.midiPan/16383);return;case dr.PanFine:i.midiPan=bn.int32ToUint16(i.midiPan&16256|r),this.channelSetPan(e,i.midiPan/16383);return;case dr.DataEntryCoarse:i.midiData=bn.int32ToUint16(i.midiData&127|r<<7),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&n===dr.DataEntryCoarse&&this.channelSetTuning(e,r-64+(i.tuning-(i.tuning|0)));return;case dr.BankSelectCoarse:i.bank=bn.int32ToUint16(32768|r);return;case dr.BankSelectFine:i.bank=bn.int32ToUint16((i.bank&32768?(i.bank&127)<<7:0)|r);return;case dr.RegisteredParameterCourse:i.midiRpn=bn.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&127|r<<7);return;case dr.RegisteredParameterFine:i.midiRpn=bn.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&16256|r);return;case dr.NonRegisteredParameterFine:i.midiRpn=65535;return;case dr.NonRegisteredParameterCourse:i.midiRpn=65535;return;case dr.AllSoundOff:this.channelSoundsOffAll(e);return;case dr.AllNotesOff:this.channelNoteOffAll(e);return;case dr.ResetControllers:i.midiVolume=16383,i.midiExpression=16383,i.midiPan=8192,i.bank=0,this.channelSetVolume(e,1),this.channelSetPan(e,.5),this.channelSetPitchRange(e,2);return}}channelGetPresetIndex(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].presetIndex:0}channelGetPresetBank(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].bank&32767:0}channelGetPan(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].panOffset-.5:.5}channelGetVolume(e){return this._channels&&e<this._channels.channelList.length?mi.decibelsToGain(this._channels.channelList[e].gainDb):1}channelGetPitchWheel(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchWheel:8192}channelGetPitchRange(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchRange:2}channelGetTuning(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].tuning:0}resetPresets(){this.presets=[]}loadPresets(e,n){const r=[];for(let i=0;i<e.phdrs.length-1;i++){const s=e.phdrs[i];let o=0;const a=new GEe;r.push(a),a.name=s.presetName,a.bank=s.bank,a.presetNumber=s.preset,a.fontSamples=e.fontSamples;let l=0;for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u];let h=0,f=127,p=0,m=127;for(let y=d.genNdx;y<e.pbags[u+1].genNdx;y++){let S=e.pgens[y];if(S.genOper===la.GenKeyRange){h=S.genAmount.lowByteAmount,f=S.genAmount.highByteAmount;continue}if(S.genOper===la.GenVelRange){p=S.genAmount.lowByteAmount,m=S.genAmount.highByteAmount;continue}if(S.genOper!==la.GenInstrument||S.genAmount.wordAmount>=e.insts.length)continue;let w=e.insts[S.genAmount.wordAmount];for(let v=w.instBagNdx;v<e.insts[S.genAmount.wordAmount+1].instBagNdx;v++){let k=e.ibags[v],P=0,T=127,_=0,E=127;for(let I=k.instGenNdx;I<e.ibags[v+1].instGenNdx;I++){let R=e.igens[I];if(R.genOper===la.GenKeyRange){P=R.genAmount.lowByteAmount,T=R.genAmount.highByteAmount;continue}if(R.genOper===la.GenVelRange){_=R.genAmount.lowByteAmount,E=R.genAmount.highByteAmount;continue}R.genOper===53&&T>=h&&P<=f&&E>=p&&_<=m&&l++}}}}a.regions=new Array(l);let c=new _0;c.clear(!0);for(let u=s.presetBagNdx;u<e.phdrs[i+1].presetBagNdx;u++){const d=e.pbags[u],h=new _0(c);let f=!1;for(let p=d.genNdx;p<e.pbags[u+1].genNdx;p++){const m=e.pgens[p];if(m.genOper===la.GenInstrument){let y=m.genAmount.wordAmount;if(y>=e.insts.length)continue;let S=new _0;S.clear(!1);let w=e.insts[y];for(let v=w.instBagNdx;v<e.insts[y+1].instBagNdx;v++){let k=e.ibags[v],P=new _0(S),T=!1;for(let _=k.instGenNdx;_<e.ibags[v+1].instGenNdx;_++){let E=e.igens[_];if(E.genOper===la.GenSampleId){if(P.hiKey<h.loKey||P.loKey>h.hiKey||P.hiVel<h.loVel||P.loVel>h.hiVel)continue;h.loKey>P.loKey&&(P.loKey=h.loKey),h.hiKey<P.hiKey&&(P.hiKey=h.hiKey),h.loVel>P.loVel&&(P.loVel=h.loVel),h.hiVel<P.hiVel&&(P.hiVel=h.hiVel),P.offset+=h.offset,P.end+=h.end,P.loopStart+=h.loopStart,P.loopEnd+=h.loopEnd,P.transpose+=h.transpose,P.tune+=h.tune,P.pitchKeyTrack+=h.pitchKeyTrack,P.attenuation+=h.attenuation,P.pan+=h.pan,P.ampEnv.delay+=h.ampEnv.delay,P.ampEnv.attack+=h.ampEnv.attack,P.ampEnv.hold+=h.ampEnv.hold,P.ampEnv.decay+=h.ampEnv.decay,P.ampEnv.sustain+=h.ampEnv.sustain,P.ampEnv.release+=h.ampEnv.release,P.modEnv.delay+=h.modEnv.delay,P.modEnv.attack+=h.modEnv.attack,P.modEnv.hold+=h.modEnv.hold,P.modEnv.decay+=h.modEnv.decay,P.modEnv.sustain+=h.modEnv.sustain,P.modEnv.release+=h.modEnv.release,P.initialFilterQ+=h.initialFilterQ,P.initialFilterFc+=h.initialFilterFc,P.modEnvToPitch+=h.modEnvToPitch,P.modEnvToFilterFc+=h.modEnvToFilterFc,P.delayModLFO+=h.delayModLFO,P.freqModLFO+=h.freqModLFO,P.modLfoToPitch+=h.modLfoToPitch,P.modLfoToFilterFc+=h.modLfoToFilterFc,P.modLfoToVolume+=h.modLfoToVolume,P.delayVibLFO+=h.delayVibLFO,P.freqVibLFO+=h.freqVibLFO,P.vibLfoToPitch+=h.vibLfoToPitch,P.ampEnv.envToSecs(!0),P.modEnv.envToSecs(!1),P.delayModLFO=P.delayModLFO<-11950?0:mi.timecents2Secs(P.delayModLFO),P.delayVibLFO=P.delayVibLFO<-11950?0:mi.timecents2Secs(P.delayVibLFO),P.pan<-.5?P.pan=-.5:P.pan>.5&&(P.pan=.5),(P.initialFilterQ<1500||P.initialFilterQ>13500)&&(P.initialFilterQ=0);let I=e.sHdrs[E.genAmount.wordAmount];P.offset+=I.start,P.end+=I.end,P.loopStart+=I.startLoop,P.loopEnd+=I.endLoop,I.endLoop>0&&(P.loopEnd-=1),P.pitchKeyCenter===-1&&(P.pitchKeyCenter=I.originalPitch),P.tune+=I.pitchCorrection,P.sampleRate=I.sampleRate,P.end!==0&&P.end<a.fontSamples.length?P.end++:P.end=a.fontSamples.length,a.regions[o]=new _0(P),o++,T=!0}else P.operator(E.genOper,E.genAmount)}k===e.ibags[w.instBagNdx]&&!T&&(S=new _0(P))}f=!0}else h.operator(m.genOper,m.genAmount)}d===e.pbags[s.presetBagNdx]&&!f&&(c=h)}}if(!n||!this.presets)this.presets=r;else for(const i of r)this.presets.push(i)}}class Ki{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(n=>n!==e)}trigger(){for(const e of this._listeners)e()}}class Dn{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(n=>n!==e)}trigger(e){for(const n of this._listeners)n(e)}}class cY{constructor(e){this.events=e}}class uY{constructor(e){this.playbackRange=e}}class jEe{get isReadyForPlayback(){return this.isReady&&this._isSoundFontLoaded&&this._isMidiLoaded}get logLevel(){return Qe.logLevel}set logLevel(e){Qe.logLevel=e}get masterVolume(){return this._synthesizer.masterVolume}set masterVolume(e){e=Math.max(e,gn.MinVolume),this._synthesizer.masterVolume=e}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,gn.MinVolume),this._metronomeVolume=e,this._synthesizer.metronomeVolume=e}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,gn.MinVolume),this._countInVolume=e}get midiEventsPlayedFilter(){return Array.from(this._midiEventsPlayedFilter)}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=new Set(e)}get playbackSpeed(){return this._sequencer.playbackSpeed}set playbackSpeed(e){e=mi.clamp(e,gn.MinPlaybackSpeed,gn.MaxPlaybackSpeed);let n=this._sequencer.playbackSpeed;this._sequencer.playbackSpeed=e,this.timePosition=this.timePosition*(n/e)}get tickPosition(){return this._tickPosition}set tickPosition(e){this.timePosition=this._sequencer.mainTickPositionToTimePosition(e)}get timePosition(){return this._timePosition}set timePosition(e){Qe.debug("AlphaSynth",`Seeking to position ${e}ms (main)`),this._sequencer.mainSeek(e),this.updateTimePosition(e,!0),this._sequencer.isPlayingMain&&(this._notPlayedSamples=0,this.output.resetSamples())}get playbackRange(){return this._sequencer.mainPlaybackRange}set playbackRange(e){this._sequencer.mainPlaybackRange=e,e&&(this.tickPosition=e.startTick),this.playbackRangeChanged.trigger(new uY(e))}get isLooping(){return this._sequencer.isLooping}set isLooping(e){this._sequencer.isLooping=e}destroy(){Qe.debug("AlphaSynth","Destroying player"),this.stop(),this.output.destroy()}constructor(e,n){this._isSoundFontLoaded=!1,this._isMidiLoaded=!1,this._tickPosition=0,this._timePosition=0,this._metronomeVolume=0,this._countInVolume=0,this._playedEventsQueue=new e5,this._midiEventsPlayedFilter=new Set,this._notPlayedSamples=0,this._synthStopping=!1,this.isReady=!1,this.state=Ui.Paused,this.ready=new Ki,this.readyForPlayback=new Ki,this.finished=new Ki,this.soundFontLoaded=new Ki,this.soundFontLoadFailed=new Dn,this.midiLoaded=new Dn,this.midiLoadFailed=new Dn,this.stateChanged=new Dn,this.positionChanged=new Dn,this.midiEventsPlayed=new Dn,this.playbackRangeChanged=new Dn,Qe.debug("AlphaSynth","Initializing player"),this.state=Ui.Paused,Qe.debug("AlphaSynth","Creating output"),this.output=e,Qe.debug("AlphaSynth","Creating synthesizer"),this._synthesizer=new UEe(this.output.sampleRate),this._sequencer=new VEe(this._synthesizer),Qe.debug("AlphaSynth","Opening output"),this.output.ready.on(()=>{this.isReady=!0,this.ready.trigger(),this.checkReadyForPlayback()}),this.output.sampleRequest.on(()=>{if(this.state==Ui.Playing&&(!this._sequencer.isFinished||this._synthesizer.activeVoiceCount>0)){let r=new Float32Array(gn.MicroBufferSize*gn.MicroBufferCount*gn.AudioChannels),i=0;for(let s=0;s<gn.MicroBufferCount;s++){this._sequencer.fillMidiEventQueue();const o=this._synthesizer.synthesize(r,i,gn.MicroBufferSize);i+=gn.MicroBufferSize*gn.AudioChannels;for(const a of o)this._midiEventsPlayedFilter.has(a.event.type)&&this._playedEventsQueue.enqueue(a);if(this._sequencer.isFinished)break}i<r.length&&(r=r.subarray(0,i)),this._notPlayedSamples+=r.length,this.output.addSamples(r)}else{let r=new Float32Array(0);this.output.addSamples(r)}}),this.output.samplesPlayed.on(this.onSamplesPlayed.bind(this)),this.output.open(n)}play(){return this.state!==Ui.Paused||!this._isMidiLoaded?!1:(this.output.activate(),this.playInternal(),this._countInVolume>0&&(Qe.debug("AlphaSynth","Starting countin"),this._sequencer.startCountIn(),this._synthesizer.setupMetronomeChannel(this._countInVolume),this.updateTimePosition(0,!0)),this.output.play(),!0)}playInternal(){this._sequencer.isPlayingOneTimeMidi&&(Qe.debug("AlphaSynth","Cancelling one time midi"),this.stopOneTimeMidi()),Qe.debug("AlphaSynth","Starting playback"),this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this._synthStopping=!1,this.state=Ui.Playing,this.stateChanged.trigger(new BS(this.state,!1))}pause(){this.state===Ui.Paused||!this._isMidiLoaded||(Qe.debug("AlphaSynth","Pausing playback"),this.state=Ui.Paused,this.stateChanged.trigger(new BS(this.state,!1)),this.output.pause(),this._synthesizer.noteOffAll(!1))}playPause(){this.state!==Ui.Paused||!this._isMidiLoaded?this.pause():this.play()}stop(){this._isMidiLoaded&&(Qe.debug("AlphaSynth","Stopping playback"),this.state=Ui.Paused,this.output.pause(),this._notPlayedSamples=0,this._sequencer.stop(),this._synthesizer.noteOffAll(!0),this.tickPosition=this._sequencer.mainPlaybackRange?this._sequencer.mainPlaybackRange.startTick:0,this.stateChanged.trigger(new BS(this.state,!0)))}playOneTimeMidiFile(e){this._sequencer.isPlayingOneTimeMidi?this.stopOneTimeMidi():this.pause(),this._sequencer.loadOneTimeMidi(e),this._synthesizer.noteOffAll(!0),this.updateTimePosition(0,!0),this._notPlayedSamples=0,this.output.resetSamples(),this.output.play()}resetSoundFonts(){this.stop(),this._synthesizer.resetPresets(),this._isSoundFontLoaded=!1,this.soundFontLoaded.trigger()}loadSoundFont(e,n){this.pause();let r=ds.fromBuffer(e);try{Qe.debug("AlphaSynth","Loading soundfont from bytes");let i=new bI;i.load(r),this._synthesizer.loadPresets(i,n),this._isSoundFontLoaded=!0,this.soundFontLoaded.trigger(),Qe.debug("AlphaSynth","soundFont successfully loaded"),this.checkReadyForPlayback()}catch(i){Qe.error("AlphaSynth","Could not load soundfont from bytes "+i),this.soundFontLoadFailed.trigger(i)}}checkReadyForPlayback(){this.isReadyForPlayback&&(this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.readyForPlayback.trigger())}loadMidiFile(e){this.stop();try{Qe.debug("AlphaSynth","Loading midi from model"),this._sequencer.loadMidi(e),this._isMidiLoaded=!0,this.midiLoaded.trigger(new V2(0,this._sequencer.currentEndTime,0,this._sequencer.currentEndTick,!1)),Qe.debug("AlphaSynth","Midi successfully loaded"),this.checkReadyForPlayback(),this.tickPosition=0}catch(n){Qe.error("AlphaSynth","Could not load midi from model "+n),this.midiLoadFailed.trigger(n)}}applyTranspositionPitches(e){this._synthesizer.applyTranspositionPitches(e)}setChannelTranspositionPitch(e,n){this._synthesizer.setChannelTranspositionPitch(e,n)}setChannelMute(e,n){this._synthesizer.channelSetMute(e,n)}resetChannelStates(){this._synthesizer.resetChannelStates()}setChannelSolo(e,n){this._synthesizer.channelSetSolo(e,n)}setChannelVolume(e,n){n=Math.max(n,gn.MinVolume),this._synthesizer.channelSetMixVolume(e,n)}onSamplesPlayed(e){if(e===0)return;let n=e/this._synthesizer.outSampleRate*1e3;this._notPlayedSamples-=e*gn.AudioChannels,this.updateTimePosition(this._timePosition+n,!1),this.checkForFinish()}checkForFinish(){let e=0,n=0;this.playbackRange&&this._sequencer.isPlayingMain?(e=this.playbackRange.startTick,n=this.playbackRange.endTick):n=this._sequencer.currentEndTick,this._tickPosition>=n&&this._notPlayedSamples<=0&&(this._notPlayedSamples=0,this._sequencer.isPlayingCountIn?(Qe.debug("AlphaSynth","Finished playback (count-in)"),this._sequencer.resetCountIn(),this.timePosition=this._sequencer.currentTime,this.playInternal(),this.output.resetSamples()):this._sequencer.isPlayingOneTimeMidi?(Qe.debug("AlphaSynth","Finished playback (one time)"),this.output.resetSamples(),this.state=Ui.Paused,this.stopOneTimeMidi()):this.isLooping?(Qe.debug("AlphaSynth","Finished playback (main looping)"),this.finished.trigger(),this.tickPosition=e,this._synthStopping=!1):this._synthesizer.activeVoiceCount>0?this._synthStopping||(this._synthesizer.noteOffAll(!0),this._synthStopping=!0):(this._synthStopping=!1,Qe.debug("AlphaSynth","Finished playback (main)"),this.finished.trigger(),this.stop()))}stopOneTimeMidi(){this.output.pause(),this._synthesizer.noteOffAll(!0),this._sequencer.resetOneTimeMidi(),this.timePosition=this._sequencer.currentTime}updateTimePosition(e,n){let r=e;this._timePosition=r;let i=this._sequencer.currentTimePositionToTickPosition(r);this._tickPosition=i;const s=this._sequencer.currentEndTime,o=this._sequencer.currentEndTick;r>s&&(r=s,i=o);const a=this._sequencer.isPlayingMain?"main":this._sequencer.isPlayingCountIn?"count-in":"one-time";if(Qe.debug("AlphaSynth",`Position changed: (time: ${r}/${s}, tick: ${i}/${o}, Active Voices: ${this._synthesizer.activeVoiceCount} (${a})`),this._sequencer.isPlayingMain&&this.positionChanged.trigger(new V2(r,s,i,o,n)),n)this._playedEventsQueue.clear();else{const l=new e5;for(;!this._playedEventsQueue.isEmpty&&this._playedEventsQueue.peek().time<r;){const c=this._playedEventsQueue.dequeue();l.enqueue(c.event)}l.isEmpty||this.midiEventsPlayed.trigger(new cY(l.toArray()))}}}class ht{static parseEnum(e,n){switch(typeof e){case"string":const r=parseInt(e);return isNaN(r)?n[Object.keys(n).find(i=>i.toLowerCase()===e.toLowerCase())]:r;case"number":return e;case"undefined":case"object":return null}throw new fs(hs.Format,`Could not parse enum value '${e}'`)}static forEach(e,n){if(e instanceof Map)e.forEach(n);else if(typeof e=="object")for(const r in e)n(e[r],r)}static getValue(e,n){return e instanceof Map?e.get(n):typeof e=="object"?e[n]:null}}class YEe{constructor(e,n,r){this.text=e,this.startPos=n,this.endPos=r}}class bg{constructor(e){this.style="normal",this.variant="normal",this.weight="normal",this.stretch="normal",this.lineHeight="normal",this.size="1rem",this.families=[],this.parseOnlyFamilies=!1,this._currentTokenIndex=-1,this._input="",this._currentToken=null,this._input=e,this._tokens=this.splitToTokens(e)}splitToTokens(e){const n=[];let r=0;for(;r<e.length;){let i=r;for(;i<e.length&&e.charAt(i)!==" ";)i++;i>r&&n.push(new YEe(e.substring(r,i),r,i)),r=i+1}return n}parse(){var e;if(this.reset(),this._tokens.length===1)switch((e=this._currentToken)==null?void 0:e.text){case"caption":case"icon":case"menu":case"message-box":case"small-caption":case"status-bar":case"inherit":return}this.parseOnlyFamilies||(this.fontStyleVariantWeight(),this.fontSizeLineHeight()),this.fontFamily()}static parseFamilies(e){const n=new bg(e);return n.parseOnlyFamilies=!0,n.parse(),n.families}fontFamily(){if(!this._currentToken){if(this.parseOnlyFamilies)return;throw new Error("Missing font list")}const e=this._input.substr(this._currentToken.startPos).trim();let n=0;for(;n<e.length;){let r=e.charAt(n);if(r===" "||r==",")n++;else if(r==='"'||r==="'"){const i=this.findEndOfQuote(e,n+1,r);this.families.push(e.substring(n+1,i).split("\\"+r).join(r)),n=i+1}else{const i=this.findEndOfQuote(e,n+1,",");this.families.push(e.substring(n,i).trim()),n=i+1}}}findEndOfQuote(e,n,r){let i=!1;for(;n<e.length;){const s=e.charAt(n);if(!i&&s===r)return n;!i&&s==="\\"?i=!0:i=!1,n+=1}return e.length}fontSizeLineHeight(){if(!this._currentToken)throw new Error("Missing font size");const e=this._currentToken.text.split("/");if(e.length>=3)throw new Error(`Invalid font size '${this._currentToken}' specified`);if(this.nextToken(),e.length>=2)if(e[1]==="/"){if(!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.size=e[0],this.lineHeight=e[1];else if(e.length>=1){if(this.size=e[0],this._currentToken&&this._currentToken.text.indexOf("/")===0)if(this._currentToken.text==="/"){if(this.nextToken(),!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.lineHeight=this._currentToken.text.substr(1),this.nextToken()}else throw new Error("Missing font size")}nextToken(){this._currentTokenIndex++,this._currentTokenIndex<this._tokens.length?this._currentToken=this._tokens[this._currentTokenIndex]:this._currentToken=null}fontStyleVariantWeight(){let e=!1,n=!1,r=!1,i=3,s=[];for(;;){if(!this._currentToken)return;let o=this._currentToken.text;switch(o){case"normal":case"inherit":s.push(o),i--,this.nextToken();break;case"italic":case"oblique":this.style=o,e=!0,i--,this.nextToken();break;case"small-caps":this.variant=o,n=!0,i--,this.nextToken();break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":this.weight=o,r=!0,i--,this.nextToken();break;default:return}if(i===0)break}for(;s.length>0;){const o=s.pop();r?n?e||(this.style=o):this.variant=o:this.weight=o}}reset(){this._currentTokenIndex=-1,this.nextToken()}static quoteFont(e){return e.indexOf(" ")===-1?e:`"${e.replaceAll('"','\\"')}"`}}var Or;(function(t){t[t.Plain=0]="Plain",t[t.Italic=1]="Italic"})(Or||(Or={}));var ha;(function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold"})(ha||(ha={}));class yn{reset(){this._cssScale=0,this._css=this.toCssString()}get family(){return this._families[0]}set family(e){this.families=bg.parseFamilies(e)}get families(){return this._families}set families(e){this._families=e,this.reset()}get size(){return this._size}set size(e){this._size=e,this.reset()}get style(){return this._style}set style(e){this._style=e,this.reset()}get weight(){return this._weight}set weight(e){this._weight=e,this.reset()}get isBold(){return this.weight===ha.Bold}get isItalic(){return this.style===Or.Italic}constructor(e,n,r=Or.Plain,i=ha.Regular){this._cssScale=0,this._families=bg.parseFamilies(e),this._size=n,this._style=r,this._weight=i,this._css=this.toCssString()}static withFamilyList(e,n,r=Or.Plain,i=ha.Regular){const s=new yn("",n,r,i);return s.families=e,s}toCssString(e=1){if(!this._css||!(Math.abs(e-this._cssScale)<.01)){let n="";this.isBold&&(n+="bold "),this.isItalic&&(n+="italic "),n+=this.size*e,n+="px ",n+=this.families.map(r=>bg.quoteFont(r)).join(", "),this._css=n,this._cssScale=e}return this._css}static fromJson(e){if(e instanceof yn)return e;switch(typeof e){case"undefined":return null;case"object":{const n=e;let r=n.get("families"),i=n.get("size"),s=ht.parseEnum(n.get("style"),Or),o=ht.parseEnum(n.get("weight"),ha);return yn.withFamilyList(r,i,s,o)}case"string":{const n=new bg(e);n.parse();let r=n.families,i=n.size.toLowerCase(),s=0;switch(i){case"xx-small":s=7;break;case"x-small":s=10;break;case"small":case"smaller":s=13;break;case"medium":s=16;break;case"large":case"larger":s=18;break;case"x-large":s=24;break;case"xx-large":s=32;break;default:try{i.endsWith("em")?s=parseFloat(i.substr(0,i.length-2))*16:i.endsWith("pt")?s=parseFloat(i.substr(0,i.length-2))*16/12:i.endsWith("px")?s=parseFloat(i.substr(0,i.length-2)):s=12}catch{s=12}break}let o=Or.Plain;n.style==="italic"&&(o=Or.Italic);let a=ha.Regular;switch(n.weight.toLowerCase()){case"normal":case"lighter":break;default:a=ha.Bold;break}return yn.withFamilyList(r,s,o,a)}default:return null}}static toJson(e){const n=new Map;return n.set("families",e.families),n.set("size",e.size),n.set("style",e.style),n.set("weight",e.weight),n}}class qs{constructor(){this.copyrightFont=new yn(qs.sansFont,12,Or.Plain,ha.Bold),this.titleFont=new yn(qs.serifFont,32,Or.Plain),this.subTitleFont=new yn(qs.serifFont,20,Or.Plain),this.wordsFont=new yn(qs.serifFont,15,Or.Plain),this.effectFont=new yn(qs.serifFont,12,Or.Italic),this.fretboardNumberFont=new yn(qs.sansFont,11,Or.Plain),this.numberedNotationFont=new yn(qs.sansFont,16,Or.Plain),this.numberedNotationGraceFont=new yn(qs.sansFont,14,Or.Plain),this.tablatureFont=new yn(qs.sansFont,13,Or.Plain),this.graceFont=new yn(qs.sansFont,11,Or.Plain),this.staffLineColor=new Zr(165,165,165,255),this.barSeparatorColor=new Zr(34,34,17,255),this.barNumberFont=new yn(qs.sansFont,11,Or.Plain),this.barNumberColor=new Zr(200,0,0,255),this.fingeringFont=new yn(qs.serifFont,14,Or.Plain),this.inlineFingeringFont=new yn(qs.serifFont,12,Or.Plain),this.markerFont=new yn(qs.serifFont,14,Or.Plain,ha.Bold),this.mainGlyphColor=new Zr(0,0,0,255),this.secondaryGlyphColor=new Zr(0,0,0,100),this.scoreInfoColor=new Zr(0,0,0,255)}}qs.sansFont="Arial, sans-serif";qs.serifFont="Georgia, serif";var qh;(function(t){t[t.Automatic=0]="Automatic",t[t.UseModelLayout=1]="UseModelLayout"})(qh||(qh={}));class XEe{constructor(){this.scale=1,this.stretchForce=1,this.layoutMode=hd.Page,this.staveProfile=Zu.Default,this.barsPerRow=-1,this.startBar=1,this.barCount=-1,this.barCountPerPartial=10,this.justifyLastSystem=!1,this.resources=new qs,this.padding=[35,35],this.firstSystemPaddingTop=5,this.systemPaddingTop=10,this.systemPaddingBottom=20,this.lastSystemPaddingBottom=0,this.systemLabelPaddingLeft=0,this.systemLabelPaddingRight=5,this.accoladeBarPaddingRight=3,this.notationStaffPaddingTop=5,this.notationStaffPaddingBottom=5,this.effectStaffPaddingTop=0,this.effectStaffPaddingBottom=0,this.systemsLayoutMode=qh.Automatic}}class qEe{constructor(){this.encoding="utf-8",this.mergePartGroupsInMusicXml=!1,this.beatTextAsLyrics=!1}}var td;(function(t){t[t.Off=0]="Off",t[t.Continuous=1]="Continuous",t[t.OffScreen=2]="OffScreen"})(td||(td={}));class KEe{constructor(){this.noteWideLength=480,this.noteWideAmplitude=2,this.noteSlightLength=480,this.noteSlightAmplitude=2,this.beatWideLength=240,this.beatWideAmplitude=3,this.beatSlightLength=240,this.beatSlightAmplitude=3}}class QEe{constructor(){this.simpleSlidePitchOffset=6,this.simpleSlideDurationRatio=.25,this.shiftSlideDurationRatio=.5}}var Fb;(function(t){t[t.WebAudioAudioWorklets=0]="WebAudioAudioWorklets",t[t.WebAudioScriptProcessor=1]="WebAudioScriptProcessor"})(Fb||(Fb={}));class JEe{constructor(){this.soundFont=null,this.scrollElement="html,body",this.outputMode=Fb.WebAudioAudioWorklets,this.enablePlayer=!1,this.enableCursor=!0,this.enableAnimatedBeatCursor=!0,this.enableElementHighlighting=!0,this.enableUserInteraction=!0,this.scrollOffsetX=0,this.scrollOffsetY=0,this.scrollMode=td.Continuous,this.scrollSpeed=300,this.nativeBrowserSmoothScroll=!0,this.songBookBendDuration=75,this.songBookDipDuration=150,this.vibrato=new KEe,this.slide=new QEe,this.playTripletFeel=!0,this.bufferTimeInMilliseconds=500}}class h3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("scriptfile",e.scriptFile),n.set("fontdirectory",e.fontDirectory),n.set("file",e.file),n.set("tex",e.tex),n.set("tracks",e.tracks),n.set("enablelazyloading",e.enableLazyLoading),n.set("engine",e.engine),n.set("loglevel",e.logLevel),n.set("useworkers",e.useWorkers),n.set("includenotebounds",e.includeNoteBounds),n}static setProperty(e,n,r){switch(n){case"scriptfile":return e.scriptFile=r,!0;case"fontdirectory":return e.fontDirectory=r,!0;case"file":return e.file=r,!0;case"tex":return e.tex=r,!0;case"tracks":return e.tracks=r,!0;case"enablelazyloading":return e.enableLazyLoading=r,!0;case"engine":return e.engine=r,!0;case"loglevel":return e.logLevel=ht.parseEnum(r,Cc),!0;case"useworkers":return e.useWorkers=r,!0;case"includenotebounds":return e.includeNoteBounds=r,!0}return!1}}class f3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("copyrightfont",yn.toJson(e.copyrightFont)),n.set("titlefont",yn.toJson(e.titleFont)),n.set("subtitlefont",yn.toJson(e.subTitleFont)),n.set("wordsfont",yn.toJson(e.wordsFont)),n.set("effectfont",yn.toJson(e.effectFont)),n.set("fretboardnumberfont",yn.toJson(e.fretboardNumberFont)),n.set("numberednotationfont",yn.toJson(e.numberedNotationFont)),n.set("numberednotationgracefont",yn.toJson(e.numberedNotationGraceFont)),n.set("tablaturefont",yn.toJson(e.tablatureFont)),n.set("gracefont",yn.toJson(e.graceFont)),n.set("stafflinecolor",Zr.toJson(e.staffLineColor)),n.set("barseparatorcolor",Zr.toJson(e.barSeparatorColor)),n.set("barnumberfont",yn.toJson(e.barNumberFont)),n.set("barnumbercolor",Zr.toJson(e.barNumberColor)),n.set("fingeringfont",yn.toJson(e.fingeringFont)),n.set("inlinefingeringfont",yn.toJson(e.inlineFingeringFont)),n.set("markerfont",yn.toJson(e.markerFont)),n.set("mainglyphcolor",Zr.toJson(e.mainGlyphColor)),n.set("secondaryglyphcolor",Zr.toJson(e.secondaryGlyphColor)),n.set("scoreinfocolor",Zr.toJson(e.scoreInfoColor)),n}static setProperty(e,n,r){switch(n){case"copyrightfont":return e.copyrightFont=yn.fromJson(r),!0;case"titlefont":return e.titleFont=yn.fromJson(r),!0;case"subtitlefont":return e.subTitleFont=yn.fromJson(r),!0;case"wordsfont":return e.wordsFont=yn.fromJson(r),!0;case"effectfont":return e.effectFont=yn.fromJson(r),!0;case"fretboardnumberfont":return e.fretboardNumberFont=yn.fromJson(r),!0;case"numberednotationfont":return e.numberedNotationFont=yn.fromJson(r),!0;case"numberednotationgracefont":return e.numberedNotationGraceFont=yn.fromJson(r),!0;case"tablaturefont":return e.tablatureFont=yn.fromJson(r),!0;case"gracefont":return e.graceFont=yn.fromJson(r),!0;case"stafflinecolor":return e.staffLineColor=Zr.fromJson(r),!0;case"barseparatorcolor":return e.barSeparatorColor=Zr.fromJson(r),!0;case"barnumberfont":return e.barNumberFont=yn.fromJson(r),!0;case"barnumbercolor":return e.barNumberColor=Zr.fromJson(r),!0;case"fingeringfont":return e.fingeringFont=yn.fromJson(r),!0;case"inlinefingeringfont":return e.inlineFingeringFont=yn.fromJson(r),!0;case"markerfont":return e.markerFont=yn.fromJson(r),!0;case"mainglyphcolor":return e.mainGlyphColor=Zr.fromJson(r),!0;case"secondaryglyphcolor":return e.secondaryGlyphColor=Zr.fromJson(r),!0;case"scoreinfocolor":return e.scoreInfoColor=Zr.fromJson(r),!0}return!1}}class p3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("scale",e.scale),n.set("stretchforce",e.stretchForce),n.set("layoutmode",e.layoutMode),n.set("staveprofile",e.staveProfile),n.set("barsperrow",e.barsPerRow),n.set("startbar",e.startBar),n.set("barcount",e.barCount),n.set("barcountperpartial",e.barCountPerPartial),n.set("justifylastsystem",e.justifyLastSystem),n.set("resources",f3.toJson(e.resources)),n.set("padding",e.padding),n.set("firstsystempaddingtop",e.firstSystemPaddingTop),n.set("systempaddingtop",e.systemPaddingTop),n.set("systempaddingbottom",e.systemPaddingBottom),n.set("lastsystempaddingbottom",e.lastSystemPaddingBottom),n.set("systemlabelpaddingleft",e.systemLabelPaddingLeft),n.set("systemlabelpaddingright",e.systemLabelPaddingRight),n.set("accoladebarpaddingright",e.accoladeBarPaddingRight),n.set("notationstaffpaddingtop",e.notationStaffPaddingTop),n.set("notationstaffpaddingbottom",e.notationStaffPaddingBottom),n.set("effectstaffpaddingtop",e.effectStaffPaddingTop),n.set("effectstaffpaddingbottom",e.effectStaffPaddingBottom),n.set("systemslayoutmode",e.systemsLayoutMode),n}static setProperty(e,n,r){switch(n){case"scale":return e.scale=r,!0;case"stretchforce":return e.stretchForce=r,!0;case"layoutmode":return e.layoutMode=ht.parseEnum(r,hd),!0;case"staveprofile":return e.staveProfile=ht.parseEnum(r,Zu),!0;case"barsperrow":return e.barsPerRow=r,!0;case"startbar":return e.startBar=r,!0;case"barcount":return e.barCount=r,!0;case"barcountperpartial":return e.barCountPerPartial=r,!0;case"justifylastsystem":return e.justifyLastSystem=r,!0;case"padding":return e.padding=r,!0;case"firstsystempaddingtop":return e.firstSystemPaddingTop=r,!0;case"systempaddingtop":return e.systemPaddingTop=r,!0;case"systempaddingbottom":return e.systemPaddingBottom=r,!0;case"lastsystempaddingbottom":return e.lastSystemPaddingBottom=r,!0;case"systemlabelpaddingleft":return e.systemLabelPaddingLeft=r,!0;case"systemlabelpaddingright":return e.systemLabelPaddingRight=r,!0;case"accoladebarpaddingright":return e.accoladeBarPaddingRight=r,!0;case"notationstaffpaddingtop":return e.notationStaffPaddingTop=r,!0;case"notationstaffpaddingbottom":return e.notationStaffPaddingBottom=r,!0;case"effectstaffpaddingtop":return e.effectStaffPaddingTop=r,!0;case"effectstaffpaddingbottom":return e.effectStaffPaddingBottom=r,!0;case"systemslayoutmode":return e.systemsLayoutMode=ht.parseEnum(r,qh),!0}if(["resources"].indexOf(n)>=0)return f3.fromJson(e.resources,r),!0;for(const i of["resources"])if(n.indexOf(i)===0&&f3.setProperty(e.resources,n.substring(i.length),r))return!0;return!1}}class g3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;n.set("notationmode",e.notationMode),n.set("fingeringmode",e.fingeringMode);{const r=new Map;n.set("elements",r);for(const[i,s]of e.elements)r.set(i.toString(),s)}return n.set("rhythmmode",e.rhythmMode),n.set("rhythmheight",e.rhythmHeight),n.set("transpositionpitches",e.transpositionPitches),n.set("displaytranspositionpitches",e.displayTranspositionPitches),n.set("smallgracetabnotes",e.smallGraceTabNotes),n.set("extendbendarrowsontiednotes",e.extendBendArrowsOnTiedNotes),n.set("extendlineeffectstobeatend",e.extendLineEffectsToBeatEnd),n.set("slurheight",e.slurHeight),n}static setProperty(e,n,r){switch(n){case"notationmode":return e.notationMode=ht.parseEnum(r,qi),!0;case"fingeringmode":return e.fingeringMode=ht.parseEnum(r,zc),!0;case"elements":return e.elements=new Map,ht.forEach(r,(i,s)=>{e.elements.set(ht.parseEnum(s,Kt),i)}),!0;case"rhythmmode":return e.rhythmMode=ht.parseEnum(r,sd),!0;case"rhythmheight":return e.rhythmHeight=r,!0;case"transpositionpitches":return e.transpositionPitches=r,!0;case"displaytranspositionpitches":return e.displayTranspositionPitches=r,!0;case"smallgracetabnotes":return e.smallGraceTabNotes=r,!0;case"extendbendarrowsontiednotes":return e.extendBendArrowsOnTiedNotes=r,!0;case"extendlineeffectstobeatend":return e.extendLineEffectsToBeatEnd=r,!0;case"slurheight":return e.slurHeight=r,!0}return!1}}class m3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("encoding",e.encoding),n.set("mergepartgroupsinmusicxml",e.mergePartGroupsInMusicXml),n.set("beattextaslyrics",e.beatTextAsLyrics),n}static setProperty(e,n,r){switch(n){case"encoding":return e.encoding=r,!0;case"mergepartgroupsinmusicxml":return e.mergePartGroupsInMusicXml=r,!0;case"beattextaslyrics":return e.beatTextAsLyrics=r,!0}return!1}}class y3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("notewidelength",e.noteWideLength),n.set("notewideamplitude",e.noteWideAmplitude),n.set("noteslightlength",e.noteSlightLength),n.set("noteslightamplitude",e.noteSlightAmplitude),n.set("beatwidelength",e.beatWideLength),n.set("beatwideamplitude",e.beatWideAmplitude),n.set("beatslightlength",e.beatSlightLength),n.set("beatslightamplitude",e.beatSlightAmplitude),n}static setProperty(e,n,r){switch(n){case"notewidelength":return e.noteWideLength=r,!0;case"notewideamplitude":return e.noteWideAmplitude=r,!0;case"noteslightlength":return e.noteSlightLength=r,!0;case"noteslightamplitude":return e.noteSlightAmplitude=r,!0;case"beatwidelength":return e.beatWideLength=r,!0;case"beatwideamplitude":return e.beatWideAmplitude=r,!0;case"beatslightlength":return e.beatSlightLength=r,!0;case"beatslightamplitude":return e.beatSlightAmplitude=r,!0}return!1}}class b3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("simpleslidepitchoffset",e.simpleSlidePitchOffset),n.set("simpleslidedurationratio",e.simpleSlideDurationRatio),n.set("shiftslidedurationratio",e.shiftSlideDurationRatio),n}static setProperty(e,n,r){switch(n){case"simpleslidepitchoffset":return e.simpleSlidePitchOffset=r,!0;case"simpleslidedurationratio":return e.simpleSlideDurationRatio=r,!0;case"shiftslidedurationratio":return e.shiftSlideDurationRatio=r,!0}return!1}}class v3{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("soundfont",e.soundFont),n.set("outputmode",e.outputMode),n.set("enableplayer",e.enablePlayer),n.set("enablecursor",e.enableCursor),n.set("enableanimatedbeatcursor",e.enableAnimatedBeatCursor),n.set("enableelementhighlighting",e.enableElementHighlighting),n.set("enableuserinteraction",e.enableUserInteraction),n.set("scrolloffsetx",e.scrollOffsetX),n.set("scrolloffsety",e.scrollOffsetY),n.set("scrollmode",e.scrollMode),n.set("scrollspeed",e.scrollSpeed),n.set("nativebrowsersmoothscroll",e.nativeBrowserSmoothScroll),n.set("songbookbendduration",e.songBookBendDuration),n.set("songbookdipduration",e.songBookDipDuration),n.set("vibrato",y3.toJson(e.vibrato)),n.set("slide",b3.toJson(e.slide)),n.set("playtripletfeel",e.playTripletFeel),n.set("buffertimeinmilliseconds",e.bufferTimeInMilliseconds),n}static setProperty(e,n,r){switch(n){case"soundfont":return e.soundFont=r,!0;case"scrollelement":return e.scrollElement=r,!0;case"outputmode":return e.outputMode=ht.parseEnum(r,Fb),!0;case"enableplayer":return e.enablePlayer=r,!0;case"enablecursor":return e.enableCursor=r,!0;case"enableanimatedbeatcursor":return e.enableAnimatedBeatCursor=r,!0;case"enableelementhighlighting":return e.enableElementHighlighting=r,!0;case"enableuserinteraction":return e.enableUserInteraction=r,!0;case"scrolloffsetx":return e.scrollOffsetX=r,!0;case"scrolloffsety":return e.scrollOffsetY=r,!0;case"scrollmode":return e.scrollMode=ht.parseEnum(r,td),!0;case"scrollspeed":return e.scrollSpeed=r,!0;case"nativebrowsersmoothscroll":return e.nativeBrowserSmoothScroll=r,!0;case"songbookbendduration":return e.songBookBendDuration=r,!0;case"songbookdipduration":return e.songBookDipDuration=r,!0;case"playtripletfeel":return e.playTripletFeel=r,!0;case"buffertimeinmilliseconds":return e.bufferTimeInMilliseconds=r,!0}if(["vibrato"].indexOf(n)>=0)return y3.fromJson(e.vibrato,r),!0;for(const i of["vibrato"])if(n.indexOf(i)===0&&y3.setProperty(e.vibrato,n.substring(i.length),r))return!0;if(["slide"].indexOf(n)>=0)return b3.fromJson(e.slide,r),!0;for(const i of["slide"])if(n.indexOf(i)===0&&b3.setProperty(e.slide,n.substring(i.length),r))return!0;return!1}}class om{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i.toLowerCase(),r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("core",h3.toJson(e.core)),n.set("display",p3.toJson(e.display)),n.set("notation",g3.toJson(e.notation)),n.set("importer",m3.toJson(e.importer)),n.set("player",v3.toJson(e.player)),n}static setProperty(e,n,r){if(["core",""].indexOf(n)>=0)return h3.fromJson(e.core,r),!0;for(const i of["core",""])if(n.indexOf(i)===0&&h3.setProperty(e.core,n.substring(i.length),r))return!0;if(["display",""].indexOf(n)>=0)return p3.fromJson(e.display,r),!0;for(const i of["display",""])if(n.indexOf(i)===0&&p3.setProperty(e.display,n.substring(i.length),r))return!0;if(["notation"].indexOf(n)>=0)return g3.fromJson(e.notation,r),!0;for(const i of["notation"])if(n.indexOf(i)===0&&g3.setProperty(e.notation,n.substring(i.length),r))return!0;if(["importer"].indexOf(n)>=0)return m3.fromJson(e.importer,r),!0;for(const i of["importer"])if(n.indexOf(i)===0&&m3.setProperty(e.importer,n.substring(i.length),r))return!0;if(["player"].indexOf(n)>=0)return v3.fromJson(e.player,r),!0;for(const i of["player"])if(n.indexOf(i)===0&&v3.setProperty(e.player,n.substring(i.length),r))return!0;return!1}}class Mp{constructor(){this.core=new kY,this.display=new XEe,this.notation=new Ib,this.importer=new qEe,this.player=new JEe}setSongBookModeSettings(){this.notation.notationMode=qi.SongBook,this.notation.smallGraceTabNotes=!1,this.notation.fingeringMode=zc.SingleNoteEffectBand,this.notation.extendBendArrowsOnTiedNotes=!1,this.notation.elements.set(Kt.ParenthesisOnTiedBends,!1),this.notation.elements.set(Kt.TabNotesOnTiedBends,!1),this.notation.elements.set(Kt.ZerosOnDiveWhammys,!0)}static get songBook(){let e=new Mp;return e.setSongBookModeSettings(),e}fillFromJson(e){om.fromJson(this,e)}}class e8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("marker",e.marker),n.set("text",e.text),n}static setProperty(e,n,r){switch(n){case"marker":return e.marker=r,!0;case"text":return e.text=r,!0}return!1}}class z2{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("islinear",e.isLinear),n.set("type",e.type),n.set("value",e.value),n.set("ratioposition",e.ratioPosition),n.set("text",e.text),n}static setProperty(e,n,r){switch(n){case"islinear":return e.isLinear=r,!0;case"type":return e.type=ht.parseEnum(r,Di),!0;case"value":return e.value=r,!0;case"ratioposition":return e.ratioPosition=r,!0;case"text":return e.text=r,!0}return!1}}class t8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("type",e.type),n.set("length",e.length),n}static setProperty(e,n,r){switch(n){case"type":return e.type=ht.parseEnum(r,Lc),!0;case"length":return e.length=r,!0}return!1}}class n8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;if(n.set("alternateendings",e.alternateEndings),n.set("keysignature",e.keySignature),n.set("keysignaturetype",e.keySignatureType),n.set("isdoublebar",e.isDoubleBar),n.set("isrepeatstart",e.isRepeatStart),n.set("repeatcount",e.repeatCount),n.set("timesignaturenumerator",e.timeSignatureNumerator),n.set("timesignaturedenominator",e.timeSignatureDenominator),n.set("timesignaturecommon",e.timeSignatureCommon),n.set("isfreetime",e.isFreeTime),n.set("tripletfeel",e.tripletFeel),n.set("section",e8.toJson(e.section)),n.set("tempoautomations",e.tempoAutomations.map(r=>z2.toJson(r))),e.fermata!==null){const r=new Map;n.set("fermata",r);for(const[i,s]of e.fermata)r.set(i.toString(),t8.toJson(s))}return n.set("start",e.start),n.set("isanacrusis",e.isAnacrusis),n.set("displayscale",e.displayScale),n.set("displaywidth",e.displayWidth),n}static setProperty(e,n,r){switch(n){case"alternateendings":return e.alternateEndings=r,!0;case"keysignature":return e.keySignature=ht.parseEnum(r,Cn),!0;case"keysignaturetype":return e.keySignatureType=ht.parseEnum(r,Wc),!0;case"isdoublebar":return e.isDoubleBar=r,!0;case"isrepeatstart":return e.isRepeatStart=r,!0;case"repeatcount":return e.repeatCount=r,!0;case"timesignaturenumerator":return e.timeSignatureNumerator=r,!0;case"timesignaturedenominator":return e.timeSignatureDenominator=r,!0;case"timesignaturecommon":return e.timeSignatureCommon=r,!0;case"isfreetime":return e.isFreeTime=r,!0;case"tripletfeel":return e.tripletFeel=ht.parseEnum(r,vn),!0;case"tempoautomations":e.tempoAutomations=[];for(const i of r){const s=new Ls;z2.fromJson(s,i),e.tempoAutomations.push(s)}return!0;case"fermata":return e.fermata=new Map,ht.forEach(r,(i,s)=>{const o=new fI;t8.fromJson(o,i),e.addFermata(parseInt(s),o)}),!0;case"start":return e.start=r,!0;case"isanacrusis":return e.isAnacrusis=r,!0;case"displayscale":return e.displayScale=r,!0;case"displaywidth":return e.displayWidth=r,!0}return["section"].indexOf(n)>=0?(r?(e.section=new aT,e8.fromJson(e.section,r)):e.section=null,!0):!1}}class W2{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("offset",e.offset),n.set("value",e.value),n}static setProperty(e,n,r){switch(n){case"offset":return e.offset=r,!0;case"value":return e.value=r,!0}return!1}}class r8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){var r;if(!e)return null;const n=new Map;return n.set("id",e.id),n.set("accentuated",e.accentuated),n.set("bendtype",e.bendType),n.set("bendstyle",e.bendStyle),n.set("iscontinuedbend",e.isContinuedBend),e.bendPoints!==null&&n.set("bendpoints",(r=e.bendPoints)==null?void 0:r.map(i=>W2.toJson(i))),n.set("fret",e.fret),n.set("string",e.string),n.set("showstringnumber",e.showStringNumber),n.set("octave",e.octave),n.set("tone",e.tone),n.set("percussionarticulation",e.percussionArticulation),n.set("isvisible",e.isVisible),n.set("islefthandtapped",e.isLeftHandTapped),n.set("ishammerpullorigin",e.isHammerPullOrigin),n.set("isslurdestination",e.isSlurDestination),n.set("harmonictype",e.harmonicType),n.set("harmonicvalue",e.harmonicValue),n.set("isghost",e.isGhost),n.set("isletring",e.isLetRing),n.set("ispalmmute",e.isPalmMute),n.set("isdead",e.isDead),n.set("isstaccato",e.isStaccato),n.set("slideintype",e.slideInType),n.set("slideouttype",e.slideOutType),n.set("vibrato",e.vibrato),n.set("istiedestination",e.isTieDestination),n.set("lefthandfinger",e.leftHandFinger),n.set("righthandfinger",e.rightHandFinger),n.set("isfingering",e.isFingering),n.set("trillvalue",e.trillValue),n.set("trillspeed",e.trillSpeed),n.set("durationpercent",e.durationPercent),n.set("accidentalmode",e.accidentalMode),n.set("dynamics",e.dynamics),e.toJson(n),n}static setProperty(e,n,r){switch(n){case"id":return e.id=r,!0;case"accentuated":return e.accentuated=ht.parseEnum(r,hi),!0;case"bendtype":return e.bendType=ht.parseEnum(r,_t),!0;case"bendstyle":return e.bendStyle=ht.parseEnum(r,ur),!0;case"iscontinuedbend":return e.isContinuedBend=r,!0;case"bendpoints":if(r){e.bendPoints=[];for(const i of r){const s=new dt;W2.fromJson(s,i),e.addBendPoint(s)}}return!0;case"fret":return e.fret=r,!0;case"string":return e.string=r,!0;case"showstringnumber":return e.showStringNumber=r,!0;case"octave":return e.octave=r,!0;case"tone":return e.tone=r,!0;case"percussionarticulation":return e.percussionArticulation=r,!0;case"isvisible":return e.isVisible=r,!0;case"islefthandtapped":return e.isLeftHandTapped=r,!0;case"ishammerpullorigin":return e.isHammerPullOrigin=r,!0;case"isslurdestination":return e.isSlurDestination=r,!0;case"harmonictype":return e.harmonicType=ht.parseEnum(r,Vt),!0;case"harmonicvalue":return e.harmonicValue=r,!0;case"isghost":return e.isGhost=r,!0;case"isletring":return e.isLetRing=r,!0;case"ispalmmute":return e.isPalmMute=r,!0;case"isdead":return e.isDead=r,!0;case"isstaccato":return e.isStaccato=r,!0;case"slideintype":return e.slideInType=ht.parseEnum(r,us),!0;case"slideouttype":return e.slideOutType=ht.parseEnum(r,hn),!0;case"vibrato":return e.vibrato=ht.parseEnum(r,Wn),!0;case"istiedestination":return e.isTieDestination=r,!0;case"lefthandfinger":return e.leftHandFinger=ht.parseEnum(r,pn),!0;case"righthandfinger":return e.rightHandFinger=ht.parseEnum(r,pn),!0;case"isfingering":return e.isFingering=r,!0;case"trillvalue":return e.trillValue=r,!0;case"trillspeed":return e.trillSpeed=ht.parseEnum(r,ve),!0;case"durationpercent":return e.durationPercent=r,!0;case"accidentalmode":return e.accidentalMode=ht.parseEnum(r,Pi),!0;case"dynamics":return e.dynamics=ht.parseEnum(r,xn),!0}return e.setProperty(n,r)}}class i8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){var r;if(!e)return null;const n=new Map;return n.set("id",e.id),n.set("notes",e.notes.map(i=>r8.toJson(i))),n.set("isempty",e.isEmpty),n.set("whammystyle",e.whammyStyle),n.set("ottava",e.ottava),n.set("islegatoorigin",e.isLegatoOrigin),n.set("duration",e.duration),n.set("automations",e.automations.map(i=>z2.toJson(i))),n.set("dots",e.dots),n.set("fadein",e.fadeIn),n.set("lyrics",e.lyrics),n.set("hasrasgueado",e.hasRasgueado),n.set("pop",e.pop),n.set("slap",e.slap),n.set("tap",e.tap),n.set("text",e.text),n.set("slashed",e.slashed),n.set("brushtype",e.brushType),n.set("brushduration",e.brushDuration),n.set("tupletdenominator",e.tupletDenominator),n.set("tupletnumerator",e.tupletNumerator),n.set("iscontinuedwhammy",e.isContinuedWhammy),n.set("whammybartype",e.whammyBarType),e.whammyBarPoints!==null&&n.set("whammybarpoints",(r=e.whammyBarPoints)==null?void 0:r.map(i=>W2.toJson(i))),n.set("vibrato",e.vibrato),n.set("chordid",e.chordId),n.set("gracetype",e.graceType),n.set("pickstroke",e.pickStroke),n.set("tremolospeed",e.tremoloSpeed),n.set("crescendo",e.crescendo),n.set("displaystart",e.displayStart),n.set("playbackstart",e.playbackStart),n.set("displayduration",e.displayDuration),n.set("playbackduration",e.playbackDuration),n.set("dynamics",e.dynamics),n.set("invertbeamdirection",e.invertBeamDirection),n.set("preferredbeamdirection",e.preferredBeamDirection),n.set("beamingmode",e.beamingMode),n}static setProperty(e,n,r){switch(n){case"id":return e.id=r,!0;case"notes":e.notes=[];for(const i of r){const s=new ci;r8.fromJson(s,i),e.addNote(s)}return!0;case"isempty":return e.isEmpty=r,!0;case"whammystyle":return e.whammyStyle=ht.parseEnum(r,ur),!0;case"ottava":return e.ottava=ht.parseEnum(r,Xn),!0;case"islegatoorigin":return e.isLegatoOrigin=r,!0;case"duration":return e.duration=ht.parseEnum(r,ve),!0;case"automations":e.automations=[];for(const i of r){const s=new Ls;z2.fromJson(s,i),e.automations.push(s)}return!0;case"dots":return e.dots=r,!0;case"fadein":return e.fadeIn=r,!0;case"lyrics":return e.lyrics=r,!0;case"hasrasgueado":return e.hasRasgueado=r,!0;case"pop":return e.pop=r,!0;case"slap":return e.slap=r,!0;case"tap":return e.tap=r,!0;case"text":return e.text=r,!0;case"slashed":return e.slashed=r,!0;case"brushtype":return e.brushType=ht.parseEnum(r,Mr),!0;case"brushduration":return e.brushDuration=r,!0;case"tupletdenominator":return e.tupletDenominator=r,!0;case"tupletnumerator":return e.tupletNumerator=r,!0;case"iscontinuedwhammy":return e.isContinuedWhammy=r,!0;case"whammybartype":return e.whammyBarType=ht.parseEnum(r,Yn),!0;case"whammybarpoints":if(r){e.whammyBarPoints=[];for(const i of r){const s=new dt;W2.fromJson(s,i),e.addWhammyBarPoint(s)}}return!0;case"vibrato":return e.vibrato=ht.parseEnum(r,Wn),!0;case"chordid":return e.chordId=r,!0;case"gracetype":return e.graceType=ht.parseEnum(r,Dt),!0;case"pickstroke":return e.pickStroke=ht.parseEnum(r,_s),!0;case"tremolospeed":return e.tremoloSpeed=ht.parseEnum(r,ve),!0;case"crescendo":return e.crescendo=ht.parseEnum(r,Yo),!0;case"displaystart":return e.displayStart=r,!0;case"playbackstart":return e.playbackStart=r,!0;case"displayduration":return e.displayDuration=r,!0;case"playbackduration":return e.playbackDuration=r,!0;case"dynamics":return e.dynamics=ht.parseEnum(r,xn),!0;case"invertbeamdirection":return e.invertBeamDirection=r,!0;case"preferredbeamdirection":return e.preferredBeamDirection=ht.parseEnum(r,Je),!0;case"beamingmode":return e.beamingMode=ht.parseEnum(r,_c),!0}return!1}}class s8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("id",e.id),n.set("beats",e.beats.map(r=>i8.toJson(r))),n.set("isempty",e.isEmpty),n}static setProperty(e,n,r){switch(n){case"id":return e.id=r,!0;case"beats":e.beats=[];for(const i of r){const s=new Fs;i8.fromJson(s,i),e.addBeat(s)}return!0;case"isempty":return e.isEmpty=r,!0}return!1}}class o8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("id",e.id),n.set("clef",e.clef),n.set("clefottava",e.clefOttava),n.set("voices",e.voices.map(r=>s8.toJson(r))),n.set("similemark",e.simileMark),n.set("displayscale",e.displayScale),n.set("displaywidth",e.displayWidth),n}static setProperty(e,n,r){switch(n){case"id":return e.id=r,!0;case"clef":return e.clef=ht.parseEnum(r,ln),!0;case"clefottava":return e.clefOttava=ht.parseEnum(r,Xn),!0;case"voices":e.voices=[];for(const i of r){const s=new Mu;s8.fromJson(s,i),e.addVoice(s)}return!0;case"similemark":return e.simileMark=ht.parseEnum(r,Qa),!0;case"displayscale":return e.displayScale=r,!0;case"displaywidth":return e.displayWidth=r,!0}return!1}}class a8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("name",e.name),n.set("firstfret",e.firstFret),n.set("strings",e.strings),n.set("barrefrets",e.barreFrets),n.set("showname",e.showName),n.set("showdiagram",e.showDiagram),n.set("showfingering",e.showFingering),n}static setProperty(e,n,r){switch(n){case"name":return e.name=r,!0;case"firstfret":return e.firstFret=r,!0;case"strings":return e.strings=r,!0;case"barrefrets":return e.barreFrets=r,!0;case"showname":return e.showName=r,!0;case"showdiagram":return e.showDiagram=r,!0;case"showfingering":return e.showFingering=r,!0}return!1}}class l8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("isstandard",e.isStandard),n.set("name",e.name),n.set("tunings",e.tunings),n}static setProperty(e,n,r){switch(n){case"isstandard":return e.isStandard=r,!0;case"name":return e.name=r,!0;case"tunings":return e.tunings=r,!0}return!1}}class c8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;if(n.set("bars",e.bars.map(r=>o8.toJson(r))),e.chords!==null){const r=new Map;n.set("chords",r);for(const[i,s]of e.chords)r.set(i.toString(),a8.toJson(s))}return n.set("capo",e.capo),n.set("transpositionpitch",e.transpositionPitch),n.set("displaytranspositionpitch",e.displayTranspositionPitch),n.set("stringtuning",l8.toJson(e.stringTuning)),n.set("showslash",e.showSlash),n.set("shownumbered",e.showNumbered),n.set("showtablature",e.showTablature),n.set("showstandardnotation",e.showStandardNotation),n.set("ispercussion",e.isPercussion),n.set("standardnotationlinecount",e.standardNotationLineCount),n}static setProperty(e,n,r){switch(n){case"bars":e.bars=[];for(const i of r){const s=new Fd;o8.fromJson(s,i),e.addBar(s)}return!0;case"chords":return e.chords=new Map,ht.forEach(r,(i,s)=>{const o=new Xh;a8.fromJson(o,i),e.addChord(s,o)}),!0;case"capo":return e.capo=r,!0;case"transpositionpitch":return e.transpositionPitch=r,!0;case"displaytranspositionpitch":return e.displayTranspositionPitch=r,!0;case"showslash":return e.showSlash=r,!0;case"shownumbered":return e.showNumbered=r,!0;case"showtablature":return e.showTablature=r,!0;case"showstandardnotation":return e.showStandardNotation=r,!0;case"ispercussion":return e.isPercussion=r,!0;case"standardnotationlinecount":return e.standardNotationLineCount=r,!0}return["stringtuning"].indexOf(n)>=0?(l8.fromJson(e.stringTuning,r),!0):!1}}class u8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("volume",e.volume),n.set("balance",e.balance),n.set("port",e.port),n.set("program",e.program),n.set("primarychannel",e.primaryChannel),n.set("secondarychannel",e.secondaryChannel),n.set("ismute",e.isMute),n.set("issolo",e.isSolo),n}static setProperty(e,n,r){switch(n){case"volume":return e.volume=r,!0;case"balance":return e.balance=r,!0;case"port":return e.port=r,!0;case"program":return e.program=r,!0;case"primarychannel":return e.primaryChannel=r,!0;case"secondarychannel":return e.secondaryChannel=r,!0;case"ismute":return e.isMute=r,!0;case"issolo":return e.isSolo=r,!0}return!1}}class d8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("elementtype",e.elementType),n.set("staffline",e.staffLine),n.set("noteheaddefault",e.noteHeadDefault),n.set("noteheadhalf",e.noteHeadHalf),n.set("noteheadwhole",e.noteHeadWhole),n.set("techniquesymbol",e.techniqueSymbol),n.set("techniquesymbolplacement",e.techniqueSymbolPlacement),n.set("outputmidinumber",e.outputMidiNumber),n}static setProperty(e,n,r){switch(n){case"elementtype":return e.elementType=r,!0;case"staffline":return e.staffLine=r,!0;case"noteheaddefault":return e.noteHeadDefault=ht.parseEnum(r,Q),!0;case"noteheadhalf":return e.noteHeadHalf=ht.parseEnum(r,Q),!0;case"noteheadwhole":return e.noteHeadWhole=ht.parseEnum(r,Q),!0;case"techniquesymbol":return e.techniqueSymbol=ht.parseEnum(r,Q),!0;case"techniquesymbolplacement":return e.techniqueSymbolPlacement=ht.parseEnum(r,on),!0;case"outputmidinumber":return e.outputMidiNumber=r,!0}return!1}}class h8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("staves",e.staves.map(r=>c8.toJson(r))),n.set("playbackinfo",u8.toJson(e.playbackInfo)),n.set("color",Zr.toJson(e.color)),n.set("name",e.name),n.set("isvisibleonmultitrack",e.isVisibleOnMultiTrack),n.set("shortname",e.shortName),n.set("defaultsystemslayout",e.defaultSystemsLayout),n.set("systemslayout",e.systemsLayout),n.set("percussionarticulations",e.percussionArticulations.map(r=>d8.toJson(r))),n}static setProperty(e,n,r){switch(n){case"staves":e.staves=[];for(const i of r){const s=new Uj;c8.fromJson(s,i),e.addStaff(s)}return!0;case"color":return e.color=Zr.fromJson(r),!0;case"name":return e.name=r,!0;case"isvisibleonmultitrack":return e.isVisibleOnMultiTrack=r,!0;case"shortname":return e.shortName=r,!0;case"defaultsystemslayout":return e.defaultSystemsLayout=r,!0;case"systemslayout":return e.systemsLayout=r,!0;case"percussionarticulations":e.percussionArticulations=[];for(const i of r){const s=new bt;d8.fromJson(s,i),e.percussionArticulations.push(s)}return!0}return["playbackinfo"].indexOf(n)>=0?(u8.fromJson(e.playbackInfo,r),!0):!1}}class f8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("hidedynamics",e.hideDynamics),n}static setProperty(e,n,r){switch(n){case"hidedynamics":return e.hideDynamics=r,!0}return!1}}class p8{static fromJson(e,n){n&&ht.forEach(n,(r,i)=>this.setProperty(e,i,r))}static toJson(e){if(!e)return null;const n=new Map;return n.set("album",e.album),n.set("artist",e.artist),n.set("copyright",e.copyright),n.set("instructions",e.instructions),n.set("music",e.music),n.set("notices",e.notices),n.set("subtitle",e.subTitle),n.set("title",e.title),n.set("words",e.words),n.set("tab",e.tab),n.set("tempo",e.tempo),n.set("tempolabel",e.tempoLabel),n.set("masterbars",e.masterBars.map(r=>n8.toJson(r))),n.set("tracks",e.tracks.map(r=>h8.toJson(r))),n.set("defaultsystemslayout",e.defaultSystemsLayout),n.set("systemslayout",e.systemsLayout),n.set("stylesheet",f8.toJson(e.stylesheet)),n}static setProperty(e,n,r){switch(n){case"album":return e.album=r,!0;case"artist":return e.artist=r,!0;case"copyright":return e.copyright=r,!0;case"instructions":return e.instructions=r,!0;case"music":return e.music=r,!0;case"notices":return e.notices=r,!0;case"subtitle":return e.subTitle=r,!0;case"title":return e.title=r,!0;case"words":return e.words=r,!0;case"tab":return e.tab=r,!0;case"tempo":return e.tempo=r,!0;case"tempolabel":return e.tempoLabel=r,!0;case"masterbars":e.masterBars=[];for(const i of r){const s=new Pd;n8.fromJson(s,i),e.addMasterBar(s)}return!0;case"tracks":e.tracks=[];for(const i of r){const s=new _u;h8.fromJson(s,i),e.addTrack(s)}return!0;case"defaultsystemslayout":return e.defaultSystemsLayout=r,!0;case"systemslayout":return e.systemsLayout=r,!0}return["stylesheet"].indexOf(n)>=0?(f8.fromJson(e.stylesheet,r),!0):!1}}class Ti{static jsonReplacer(e,n){if(n instanceof Map){if("fromEntries"in Object)return Object.fromEntries(n);{const r={};for(const[i,s]of n)r[i]=s;return r}}else if(ArrayBuffer.isView(n))return Array.apply([],[n]);return n}static scoreToJson(e){let n=Ti.scoreToJsObject(e);return JSON.stringify(n,Ti.jsonReplacer)}static jsonToScore(e,n){return Ti.jsObjectToScore(JSON.parse(e),n)}static scoreToJsObject(e){return p8.toJson(e)}static jsObjectToScore(e,n){let r=new jp;return p8.fromJson(r,e),r.finish(n??new Mp),r}static settingsToJson(e){let n=Ti.settingsToJsObject(e);return JSON.stringify(n,Ti.jsonReplacer)}static jsonToSettings(e){return Ti.jsObjectToSettings(JSON.parse(e))}static settingsToJsObject(e){return om.toJson(e)}static jsObjectToSettings(e){let n=new Mp;return om.fromJson(n,e),n}static jsObjectToMidiFile(e){let n=new Hh;return ht.forEach(e,(r,i)=>{switch(i){case"division":n.division=r;break;case"tracks":for(let s of r){let o=Ti.jsObjectToMidiTrack(s);n.tracks.push(o)}break}}),n}static jsObjectToMidiTrack(e){let n=new qj;return ht.forEach(e,(r,i)=>{switch(i){case"events":for(let s of r){let o=Ti.jsObjectToMidiEvent(s);n.events.push(o)}break}}),n}static jsObjectToMidiEvent(e){let n=ht.getValue(e,"track"),r=ht.getValue(e,"tick"),i=ht.getValue(e,"type");switch(i){case In.TimeSignature:return new Kj(n,r,ht.getValue(e,"numerator"),ht.getValue(e,"denominatorIndex"),ht.getValue(e,"midiClocksPerMetronomeClick"),ht.getValue(e,"thirdySecondNodesInQuarter"));case In.AlphaTabRest:return new Jj(n,r,ht.getValue(e,"channel"));case In.AlphaTabMetronome:return new Qj(n,r,ht.getValue(e,"metronomeNumerator"),ht.getValue(e,"metronomeDurationInTicks"),ht.getValue(e,"metronomeDurationInMilliseconds"));case In.NoteOn:return new eY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"noteKey"),ht.getValue(e,"noteVelocity"));case In.NoteOff:return new tY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"noteKey"),ht.getValue(e,"noteVelocity"));case In.ControlChange:return new nY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"controller"),ht.getValue(e,"value"));case In.ProgramChange:return new rY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"program"));case In.TempoChange:return new iY(r,ht.getValue(e,"microSecondsPerQuarterNote"));case In.PitchBend:return new sY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"value"));case In.PerNotePitchBend:return new oY(n,r,ht.getValue(e,"channel"),ht.getValue(e,"noteKey"),ht.getValue(e,"value"));case In.EndOfTrack:return new aY(n,r)}throw new fs(hs.Format,"Unknown Midi Event type: "+i)}static midiFileToJsObject(e){const n=new Map;n.set("division",e.division);const r=[];for(let i of e.tracks)r.push(Ti.midiTrackToJsObject(i));return n.set("tracks",r),n}static midiTrackToJsObject(e){const n=new Map,r=[];for(let i of e.events)r.push(Ti.midiEventToJsObject(i));return n.set("events",r),n}static midiEventToJsObject(e){const n=new Map;switch(n.set("track",e.track),n.set("tick",e.tick),n.set("type",e.type),e.type){case In.TimeSignature:n.set("numerator",e.numerator),n.set("denominatorIndex",e.denominatorIndex),n.set("midiClocksPerMetronomeClick",e.midiClocksPerMetronomeClick),n.set("thirdySecondNodesInQuarter",e.thirtySecondNodesInQuarter);break;case In.AlphaTabRest:n.set("channel",e.channel);break;case In.AlphaTabMetronome:n.set("metronomeNumerator",e.metronomeNumerator),n.set("metronomeDurationInMilliseconds",e.metronomeDurationInMilliseconds),n.set("metronomeDurationInTicks",e.metronomeDurationInTicks);break;case In.NoteOn:case In.NoteOff:n.set("channel",e.channel),n.set("noteKey",e.noteKey),n.set("noteVelocity",e.noteVelocity);break;case In.ControlChange:n.set("channel",e.channel),n.set("controller",e.controller),n.set("value",e.value);break;case In.ProgramChange:n.set("channel",e.channel),n.set("program",e.program);break;case In.TempoChange:n.set("microSecondsPerQuarterNote",e.microSecondsPerQuarterNote);break;case In.PitchBend:n.set("channel",e.channel),n.set("value",e.value);break;case In.PerNotePitchBend:n.set("channel",e.channel),n.set("noteKey",e.noteKey),n.set("value",e.value);break;case In.EndOfTrack:break}return n}}class Er{constructor(){this.ready=new Ki,this.samplesPlayed=new Dn,this.sampleRequest=new Ki}get sampleRate(){return Er.preferredSampleRate}open(){Qe.debug("AlphaSynth","Initializing synth worker"),this._worker=qe.globalThis,this._worker.addEventListener("message",this.handleMessage.bind(this)),this.ready.trigger()}destroy(){this._worker.postMessage({cmd:"alphaSynth.output.destroy"})}handleMessage(e){let n=e.data;switch(n.cmd){case Er.CmdOutputSampleRequest:this.sampleRequest.trigger();break;case Er.CmdOutputSamplesPlayed:this.samplesPlayed.trigger(n.samples);break}}addSamples(e){this._worker.postMessage({cmd:"alphaSynth.output.addSamples",samples:e})}play(){this._worker.postMessage({cmd:"alphaSynth.output.play"})}pause(){this._worker.postMessage({cmd:"alphaSynth.output.pause"})}resetSamples(){this._worker.postMessage({cmd:"alphaSynth.output.resetSamples"})}activate(){}}Er.CmdOutputPrefix="alphaSynth.output.";Er.CmdOutputAddSamples=Er.CmdOutputPrefix+"addSamples";Er.CmdOutputPlay=Er.CmdOutputPrefix+"play";Er.CmdOutputPause=Er.CmdOutputPrefix+"pause";Er.CmdOutputResetSamples=Er.CmdOutputPrefix+"resetSamples";Er.CmdOutputStop=Er.CmdOutputPrefix+"stop";Er.CmdOutputSampleRequest=Er.CmdOutputPrefix+"sampleRequest";Er.CmdOutputSamplesPlayed=Er.CmdOutputPrefix+"samplesPlayed";Er.preferredSampleRate=0;class vI{constructor(e,n){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this)),this._player=new jEe(new Er,n),this._player.positionChanged.on(this.onPositionChanged.bind(this)),this._player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this._player.finished.on(this.onFinished.bind(this)),this._player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.midiLoaded.on(this.onMidiLoaded.bind(this)),this._player.midiLoadFailed.on(this.onMidiLoadFailed.bind(this)),this._player.readyForPlayback.on(this.onReadyForPlayback.bind(this)),this._player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this._player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this._main.postMessage({cmd:"alphaSynth.ready"})}static init(){let e=qe.globalThis;e.addEventListener("message",n=>{let r=n.data;switch(r.cmd){case"alphaSynth.initialize":Er.preferredSampleRate=r.sampleRate,Qe.logLevel=r.logLevel,qe.globalThis.alphaSynthWebWorker=new vI(e,r.bufferTimeInMilliseconds);break}})}handleMessage(e){let n=e.data;switch(n.cmd){case"alphaSynth.setLogLevel":Qe.logLevel=n.value;break;case"alphaSynth.setMasterVolume":this._player.masterVolume=n.value;break;case"alphaSynth.setMetronomeVolume":this._player.metronomeVolume=n.value;break;case"alphaSynth.setPlaybackSpeed":this._player.playbackSpeed=n.value;break;case"alphaSynth.setTickPosition":this._player.tickPosition=n.value;break;case"alphaSynth.setTimePosition":this._player.timePosition=n.value;break;case"alphaSynth.setPlaybackRange":this._player.playbackRange=n.value;break;case"alphaSynth.setIsLooping":this._player.isLooping=n.value;break;case"alphaSynth.setCountInVolume":this._player.countInVolume=n.value;break;case"alphaSynth.setMidiEventsPlayedFilter":this._player.midiEventsPlayedFilter=n.value;break;case"alphaSynth.play":this._player.play();break;case"alphaSynth.pause":this._player.pause();break;case"alphaSynth.playPause":this._player.playPause();break;case"alphaSynth.stop":this._player.stop();break;case"alphaSynth.playOneTimeMidiFile":this._player.playOneTimeMidiFile(Ti.jsObjectToMidiFile(n.midi));break;case"alphaSynth.loadSoundFontBytes":this._player.loadSoundFont(n.data,n.append);break;case"alphaSynth.resetSoundFonts":this._player.resetSoundFonts();break;case"alphaSynth.loadMidi":this._player.loadMidiFile(Ti.jsObjectToMidiFile(n.midi));break;case"alphaSynth.setChannelMute":this._player.setChannelMute(n.channel,n.mute);break;case"alphaSynth.setChannelTranspositionPitch":this._player.setChannelTranspositionPitch(n.channel,n.semitones);break;case"alphaSynth.setChannelSolo":this._player.setChannelSolo(n.channel,n.solo);break;case"alphaSynth.setChannelVolume":this._player.setChannelVolume(n.channel,n.volume);break;case"alphaSynth.resetChannelStates":this._player.resetChannelStates();break;case"alphaSynth.destroy":this._player.destroy(),this._main.postMessage({cmd:"alphaSynth.destroyed"});break;case"alphaSynth.applyTranspositionPitches":this._player.applyTranspositionPitches(new Map(JSON.parse(n.transpositionPitches)));break}}onPositionChanged(e){this._main.postMessage({cmd:"alphaSynth.positionChanged",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onPlayerStateChanged(e){this._main.postMessage({cmd:"alphaSynth.playerStateChanged",state:e.state,stopped:e.stopped})}onFinished(){this._main.postMessage({cmd:"alphaSynth.finished"})}onSoundFontLoaded(){this._main.postMessage({cmd:"alphaSynth.soundFontLoaded"})}onSoundFontLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.soundFontLoadFailed",error:this.serializeException(e)})}serializeException(e){let n=JSON.parse(JSON.stringify(e));return e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),e.constructor&&e.constructor.name&&(n.type=e.constructor.name),n}onMidiLoaded(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onMidiLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",error:this.serializeException(e)})}onReadyForPlayback(){this._main.postMessage({cmd:"alphaSynth.readyForPlayback"})}onMidiEventsPlayed(e){this._main.postMessage({cmd:"alphaSynth.midiEventsPlayed",events:e.events.map(Ti.midiEventToJsObject)})}onPlaybackRangeChanged(e){this._main.postMessage({cmd:"alphaSynth.playbackRangeChanged",playbackRange:e.playbackRange})}}var pa;(function(t){t[t.Browser=0]="Browser",t[t.NodeJs=1]="NodeJs",t[t.BrowserModule=2]="BrowserModule"})(pa||(pa={}));class g8{constructor(e,n){this.characterWidths=e,this.fontSizeToHeight=n}}class Qs{static generateFontLookup(e){if(!Qs.FontSizeLookupTables.has(e))if(!qe.isRunningInWorker&&qe.webPlatform!=pa.NodeJs){let r=document.createElement("canvas").getContext("2d");const i=11;r.font=`${i}px ${e}`;const s=[];let o="";for(let h=Qs.ControlChars;h<255;h++){let f=String.fromCharCode(h);o+=f;const p=r.measureText(f);s.push(p.width)}const a=r.measureText(o+""),l=0-Math.abs(a.fontBoundingBoxAscent),u=0+Math.abs(a.fontBoundingBoxDescent)-l,d=new g8(new Uint8Array(s),u/i);Qs.FontSizeLookupTables.set(e,d)}else{const n=new g8(new Uint8Array([8]),1.2);Qs.FontSizeLookupTables.set(e,n)}}static measureString(e,n,r,i,s){let o,a=11,l=n[0];for(let d=0;d<n.length;d++)if(Qs.FontSizeLookupTables.has(n[d])){l=n[d];break}Qs.FontSizeLookupTables.has(l)||Qs.generateFontLookup(l),o=Qs.FontSizeLookupTables.get(l);let c=1;i===Or.Italic&&(c*=1.1),s===ha.Bold&&(c*=1.1);let u=0;for(let d=0;d<e.length;d++){let h=Math.min(o.characterWidths.length-1,e.charCodeAt(d)-Qs.ControlChars);h>=0&&(u+=o.characterWidths[h]*r/a)}return c*=1.07,new oT(u*c,r*o.fontSizeToHeight)}}Qs.FontSizeLookupTables=new Map;Qs.ControlChars=32;class ep{constructor(){this.id=yr.newGuid(),this.x=0,this.y=0,this.width=0,this.height=0,this.totalWidth=0,this.totalHeight=0,this.firstMasterBarIndex=-1,this.lastMasterBarIndex=-1,this.renderResult=null}}class dY{constructor(){this.beats=[]}addBeat(e){e.barBounds=this,this.beats.push(e),this.masterBarBounds.addBeat(e)}findBeatAtPos(e){let n=null;for(let r of this.beats)if(!n||r.realBounds.x<e)n=r;else if(r.realBounds.x>e)break;return n}finish(){this.beats.sort((e,n)=>e.realBounds.x-n.realBounds.x)}}class hY{constructor(){this.notes=null}addNote(e){this.notes||(this.notes=[]),e.beatBounds=this,this.notes.push(e)}findNoteAtPos(e,n){const r=this.notes;if(!r)return null;for(let i of r){let s=i.noteHeadBounds.y+i.noteHeadBounds.h,o=i.noteHeadBounds.x+i.noteHeadBounds.w;if(i.noteHeadBounds.x<=e&&i.noteHeadBounds.y<=n&&e<=o&&n<=s)return i.note}return null}}class fY{constructor(){this.index=0,this.isFirstOfLine=!1,this.bars=[],this.staffSystemBounds=null}get staveGroupBounds(){return this.staffSystemBounds}addBar(e){e.masterBarBounds=this,this.bars.push(e)}findBeatAtPos(e,n){let r=null,i=1e7;for(let s of this.bars){let o=s.findBeatAtPos(e);if(o&&(!r||r.realBounds.x<o.realBounds.x)){const a=Math.abs(o.realBounds.x-e);(!r||a<i)&&(r=o)}}return r?r.beat:null}finish(){this.bars.sort((e,n)=>e.realBounds.y<n.realBounds.y?-1:e.realBounds.y>n.realBounds.y?1:e.realBounds.x<n.realBounds.x?-1:e.realBounds.x>n.realBounds.x?1:0);for(const e of this.bars)e.finish()}addBeat(e){this.staffSystemBounds.boundsLookup.addBeat(e)}}class Vv{}class pY{constructor(){this.index=0,this.bars=[]}finish(){for(let e of this.bars)e.finish()}addBar(e){this.boundsLookup.addMasterBar(e),e.staffSystemBounds=this,this.bars.push(e)}findBarAtPos(e){let n=null;for(let r of this.bars)if(!n||r.realBounds.x<e)n=r;else if(e>r.realBounds.x+r.realBounds.w)break;return n}}class Ob{constructor(){this._beatLookup=new Map,this._masterBarLookup=new Map,this._currentStaffSystem=null,this.staffSystems=[],this.isFinished=!1}toJson(){let e={},n=[];e.staffSystems=n;for(let r of this.staffSystems){let i={};i.visualBounds=this.boundsToJson(r.visualBounds),i.realBounds=this.boundsToJson(r.realBounds),i.bars=[];for(let s of r.bars){let o={};o.lineAlignedBounds=this.boundsToJson(s.lineAlignedBounds),o.visualBounds=this.boundsToJson(s.visualBounds),o.realBounds=this.boundsToJson(s.realBounds),o.index=s.index,o.bars=[];for(let a of s.bars){let l={};l.visualBounds=this.boundsToJson(a.visualBounds),l.realBounds=this.boundsToJson(a.realBounds),l.beats=[];for(let c of a.beats){let u={};u.visualBounds=this.boundsToJson(c.visualBounds),u.realBounds=this.boundsToJson(c.realBounds);let d=u;if(d.beatIndex=c.beat.index,d.voiceIndex=c.beat.voice.index,d.barIndex=c.beat.voice.bar.index,d.staffIndex=c.beat.voice.bar.staff.index,d.trackIndex=c.beat.voice.bar.staff.track.index,c.notes){let h=u.notes=[];for(let f of c.notes){let p={},m=p;m.index=f.note.index,p.noteHeadBounds=this.boundsToJson(f.noteHeadBounds),h.push(p)}}l.beats.push(u)}o.bars.push(l)}i.bars.push(o)}n.push(i)}return e}static fromJson(e,n){let r=new Ob,i=e.staffSystems;for(let s of i){let o=new pY;o.visualBounds=s.visualBounds,o.realBounds=s.realBounds,r.addStaffSystem(o);for(let a of s.bars){let l=new fY;l.index=a.index,l.isFirstOfLine=a.isFirstOfLine,l.lineAlignedBounds=a.lineAlignedBounds,l.visualBounds=a.visualBounds,l.realBounds=a.realBounds,o.addBar(l);for(let c of a.bars){let u=new dY;u.visualBounds=c.visualBounds,u.realBounds=c.realBounds,l.addBar(u);for(let d of c.beats){let h=new hY;h.visualBounds=d.visualBounds,h.realBounds=d.realBounds;let f=d;if(h.beat=n.tracks[f.trackIndex].staves[f.staffIndex].bars[f.barIndex].voices[f.voiceIndex].beats[f.beatIndex],d.notes){h.notes=[];for(let p of d.notes){let m=new Vv,y=p;m.note=h.beat.notes[y.index],m.noteHeadBounds=p.noteHeadBounds,h.addNote(m)}}u.addBeat(h)}}}}return r}boundsToJson(e){let n={};return n.x=e.x,n.y=e.y,n.w=e.w,n.h=e.h,n}finish(){for(let e of this.staffSystems)e.finish();this.isFinished=!0}addStaffSystem(e){e.index=this.staffSystems.length,e.boundsLookup=this,this.staffSystems.push(e),this._currentStaffSystem=e}addMasterBar(e){e.staffSystemBounds?this._masterBarLookup.set(e.index,e):(e.staffSystemBounds=this._currentStaffSystem,this._masterBarLookup.set(e.index,e),this._currentStaffSystem.addBar(e))}addBeat(e){var n;this._beatLookup.has(e.beat.id)||this._beatLookup.set(e.beat.id,[]),(n=this._beatLookup.get(e.beat.id))==null||n.push(e)}findMasterBarByIndex(e){return this._masterBarLookup.has(e)?this._masterBarLookup.get(e):null}findMasterBar(e){let n=e.index;return this._masterBarLookup.has(n)?this._masterBarLookup.get(n):null}findBeat(e){const n=this.findBeats(e);return n?n[0]:null}findBeats(e){let n=e.id;return this._beatLookup.has(n)?this._beatLookup.get(n):null}getBeatAtPos(e,n){let r=0,i=this.staffSystems.length-1,s=-1;for(;r<=i;){let l=(i+r)/2|0,c=this.staffSystems[l];if(n>=c.realBounds.y&&n<=c.realBounds.y+c.realBounds.h){s=l;break}n<c.realBounds.y?i=l-1:r=l+1}if(s===-1)return null;let a=this.staffSystems[s].findBarAtPos(e);return a?a.findBeatAtPos(e,n):null}getNoteAtPos(e,n,r){const i=this.findBeats(e);if(i)for(const s of i){const o=s.findNoteAtPos(n,r);if(o)return o}return null}}class gY{constructor(e){this._currentLayoutMode=hd.Page,this._currentRenderEngine=null,this._renderedTracks=null,this.canvas=null,this.score=null,this.tracks=null,this.layout=null,this.boundsLookup=null,this.width=0,this.preRender=new Dn,this.renderFinished=new Dn,this.partialRenderFinished=new Dn,this.partialLayoutFinished=new Dn,this.postRenderFinished=new Ki,this.error=new Dn,this.settings=e,this.recreateCanvas(),this.recreateLayout()}destroy(){var e;this.score=null,(e=this.canvas)==null||e.destroy(),this.canvas=null,this.layout=null,this.boundsLookup=null,this.tracks=null}recreateCanvas(){var e;return this._currentRenderEngine!==this.settings.core.engine?((e=this.canvas)==null||e.destroy(),this.canvas=qe.getRenderEngineFactory(this.settings.core.engine).createCanvas(),this._currentRenderEngine=this.settings.core.engine,!0):!1}recreateLayout(){return!this.layout||this._currentLayoutMode!==this.settings.display.layoutMode?(this.layout=qe.getLayoutEngineFactory(this.settings.display.layoutMode).createLayout(this),this._currentLayoutMode=this.settings.display.layoutMode,!0):!1}renderScore(e,n){try{this.score=e;let r=null;if(e!=null&&n!=null){if(!n)r=e.tracks.slice(0);else{r=[];for(let i of n)i>=0&&i<e.tracks.length&&r.push(e.tracks[i])}r.length===0&&e.tracks.length>0&&r.push(e.tracks[0])}this.tracks=r,this.render()}catch(r){this.error.trigger(r)}}renderTracks(e){e.length===0?this.score=null:this.score=e[0].score,this.tracks=e,this.render()}updateSettings(e){this.settings=e}renderResult(e){try{const n=this.layout;n?(Qe.debug("Rendering","Request render of lazy partial "+e),n.renderLazyPartial(e)):Qe.warning("Rendering","Request render of lazy partial "+e+" ignored, no layout exists")}catch(n){this.error.trigger(n)}}render(){if(this.width===0){Qe.warning("Rendering","AlphaTab skipped rendering because of width=0 (element invisible)",null);return}if(this.boundsLookup=new Ob,this.recreateCanvas(),this.canvas.lineWidth=this.settings.display.scale,this.canvas.settings=this.settings,!this.tracks||this.tracks.length===0||!this.score)Qe.debug("Rendering","Clearing rendered tracks because no score or tracks are set"),this.preRender.trigger(!1),this._renderedTracks=null,this.onRenderFinished(),this.postRenderFinished.trigger(),Qe.debug("Rendering","Clearing finished");else{Qe.debug("Rendering","Rendering "+this.tracks.length+" tracks");for(let e=0;e<this.tracks.length;e++){let n=this.tracks[e];Qe.debug("Rendering","Track "+e+": "+n.name)}this.preRender.trigger(!1),this.recreateLayout(),this.layoutAndRender(),Qe.debug("Rendering","Rendering finished")}}resizeRender(){this.recreateLayout()||this.recreateCanvas()||this._renderedTracks!==this.tracks||!this.tracks?(Qe.debug("Rendering","Starting full rerendering due to layout or canvas change",null),this.render()):this.layout.supportsResize?(Qe.debug("Rendering","Starting optimized rerendering for resize"),this.boundsLookup=new Ob,this.preRender.trigger(!0),this.canvas.settings=this.settings,this.layout.resize(),this.onRenderFinished(),this.postRenderFinished.trigger()):Qe.debug("Rendering","Current layout does not support dynamic resizing, nothing was done",null),Qe.debug("Rendering","Resize finished")}layoutAndRender(){Qe.debug("Rendering","Rendering at scale "+this.settings.display.scale+" with layout "+this.layout.name,null),this.layout.layoutAndRender(),this._renderedTracks=this.tracks,this.onRenderFinished(),this.postRenderFinished.trigger()}onRenderFinished(){var n;(n=this.boundsLookup)==null||n.finish();const e=new ep;e.totalHeight=this.layout.height,e.totalWidth=this.layout.width,e.renderResult=this.canvas.onRenderFinished(),this.renderFinished.trigger(e)}}class wI{constructor(e){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this),!1)}static init(){qe.globalThis.alphaTabWebWorker=new wI(qe.globalThis)}handleMessage(e){let n=e.data;switch(n?n.cmd:""){case"alphaTab.initialize":let i=Ti.jsObjectToSettings(n.settings);Qe.logLevel=i.core.logLevel,this._renderer=new gY(i),this._renderer.partialRenderFinished.on(o=>{this._main.postMessage({cmd:"alphaTab.partialRenderFinished",result:o})}),this._renderer.partialLayoutFinished.on(o=>{this._main.postMessage({cmd:"alphaTab.partialLayoutFinished",result:o})}),this._renderer.renderFinished.on(o=>{this._main.postMessage({cmd:"alphaTab.renderFinished",result:o})}),this._renderer.postRenderFinished.on(()=>{var o;this._main.postMessage({cmd:"alphaTab.postRenderFinished",boundsLookup:((o=this._renderer.boundsLookup)==null?void 0:o.toJson())??null})}),this._renderer.preRender.on(o=>{this._main.postMessage({cmd:"alphaTab.preRender",resize:o})}),this._renderer.error.on(this.error.bind(this));break;case"alphaTab.invalidate":this._renderer.render();break;case"alphaTab.resizeRender":this._renderer.resizeRender();break;case"alphaTab.renderResult":this._renderer.renderResult(n.resultId);break;case"alphaTab.setWidth":this._renderer.width=n.width;break;case"alphaTab.renderScore":this.updateFontSizes(n.fontSizes);let s=n.score==null?null:Ti.jsObjectToScore(n.score,this._renderer.settings);this.renderMultiple(s,n.trackIndexes);break;case"alphaTab.updateSettings":this.updateSettings(n.settings);break}}updateFontSizes(e){if(!(e instanceof Map)){const n=e;e=new Map;for(const r in n)e.set(r,n[r])}if(e){Qs.FontSizeLookupTables||(Qs.FontSizeLookupTables=new Map);for(let[n,r]of e)Qs.FontSizeLookupTables.set(n,r)}}updateSettings(e){om.fromJson(this._renderer.settings,e)}renderMultiple(e,n){try{this._renderer.renderScore(e,n)}catch(r){this.error(r)}}error(e){Qe.error("Worker","An unexpected error occurred in worker",e),this._main.postMessage({cmd:"alphaTab.error",error:e})}}class ZEe{constructor(){this._canvas=null,this._color=new Zr(0,0,0,255),this._font=new yn("Arial",10,Or.Plain),this._lineWidth=0;let e=document.createElement("span");e.classList.add("at"),document.body.appendChild(e);let n=window.getComputedStyle(e),r=n.fontFamily;(r.startsWith('"')||r.startsWith("'"))&&(r=r.substr(1,r.length-2)),this._musicFont=new yn(r,parseFloat(n.fontSize),Or.Plain),this._measureCanvas=document.createElement("canvas"),this._measureCanvas.width=10,this._measureCanvas.height=10,this._measureCanvas.style.width="10px",this._measureCanvas.style.height="10px",this._measureContext=this._measureCanvas.getContext("2d"),this._measureContext.textBaseline="hanging"}destroy(){}onRenderFinished(){return null}beginRender(e,n){this._canvas=document.createElement("canvas"),this._canvas.width=e*qe.HighDpiFactor|0,this._canvas.height=n*qe.HighDpiFactor|0,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px",this._context=this._canvas.getContext("2d"),this._context.textBaseline="hanging",this._context.scale(qe.HighDpiFactor,qe.HighDpiFactor),this._context.lineWidth=this._lineWidth}endRender(){let e=this._canvas;return this._canvas=null,e}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._context.strokeStyle=e.rgba,this._context.fillStyle=e.rgba)}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._context&&(this._context.lineWidth=e)}fillRect(e,n,r,i){r>0&&this._context.fillRect(e|0,n|0,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e|0,n|0,r,i)}beginPath(){this._context.beginPath()}closePath(){this._context.closePath()}moveTo(e,n){this._context.moveTo(e,n)}lineTo(e,n){this._context.lineTo(e,n)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}fillCircle(e,n,r){this._context.beginPath(),this._context.arc(e,n,r,0,Math.PI*2,!0),this.fill()}strokeCircle(e,n,r){this._context.beginPath(),this._context.arc(e,n,r,0,Math.PI*2,!0),this.stroke()}fill(){this._context.fill(),this._context.beginPath()}stroke(){this._context.stroke(),this._context.beginPath()}get font(){return this._font}set font(e){this._font=e,this._context&&(this._context.font=e.toCssString(this.settings.display.scale)),this._measureContext.font=e.toCssString(this.settings.display.scale)}get textAlign(){switch(this._context.textAlign){case"left":return $t.Left;case"center":return $t.Center;case"right":return $t.Right;default:return $t.Left}}set textAlign(e){switch(e){case $t.Left:this._context.textAlign="left";break;case $t.Center:this._context.textAlign="center";break;case $t.Right:this._context.textAlign="right";break}}get textBaseline(){switch(this._context.textBaseline){case"hanging":return on.Top;case"middle":return on.Middle;case"bottom":return on.Bottom;default:return on.Top}}set textBaseline(e){switch(e){case on.Top:this._context.textBaseline="hanging";break;case on.Middle:this._context.textBaseline="middle";break;case on.Bottom:this._context.textBaseline="bottom";break}}beginGroup(e){}endGroup(){}fillText(e,n,r){this._context.fillText(e,n,r)}measureText(e){const n=this._measureContext.measureText(e);return new oT(n.width,n.actualBoundingBoxDescent-n.actualBoundingBoxAscent)}fillMusicFontSymbol(e,n,r,i,s=!1){i!==Q.None&&this.fillMusicFontSymbolText(e,n,r,String.fromCharCode(i),s)}fillMusicFontSymbols(e,n,r,i,s=!1){let o="";for(let a of i)a!==Q.None&&(o+=String.fromCharCode(a));this.fillMusicFontSymbolText(e,n,r,o,s)}fillMusicFontSymbolText(e,n,r,i,s=!1){let o=this._context.textAlign,a=this._context.textBaseline,l=this._context.font;this._context.font=this._musicFont.toCssString(r),this._context.textBaseline="middle",s?this._context.textAlign="center":this._context.textAlign="left",this._context.fillText(i,e,n),this._context.textBaseline=a,this._context.font=l,this._context.textAlign=o}beginRotate(e,n,r){this._context.save(),this._context.translate(e,n),this._context.rotate(r*Math.PI/180)}endRotate(){this._context.restore()}}class hu{constructor(e,n=!1){this._midiFile=e,this._smf1Mode=n}addTimeSignature(e,n,r){let i=0,s=r;for(;s=s>>1,s>0;)i++;this._midiFile.addEvent(new Kj(0,e,n,i,48,8))}addRest(e,n,r){this._smf1Mode||this._midiFile.addEvent(new Jj(e,n,r))}addNote(e,n,r,i,s,o){this._midiFile.addEvent(new eY(e,n,o,hu.fixValue(i),hu.fixValue(s))),this._midiFile.addEvent(new tY(e,n+r,o,hu.fixValue(i),hu.fixValue(s)))}static fixValue(e){return e>127?127:e<0?0:e}addControlChange(e,n,r,i,s){this._midiFile.addEvent(new nY(e,n,r,i,hu.fixValue(s)))}addProgramChange(e,n,r,i){this._midiFile.addEvent(new rY(e,n,r,i))}addTempo(e,n){const r=6e7/n|0;this._midiFile.addEvent(new iY(e,r))}addBend(e,n,r,i){i>=gn.MaxPitchWheel?i=gn.MaxPitchWheel:i=Math.floor(i),this._midiFile.addEvent(new sY(e,n,r,i))}addNoteBend(e,n,r,i,s){this._smf1Mode?this.addBend(e,n,r,s):(s=s*gn.MaxPitchWheel20/gn.MaxPitchWheel,this._midiFile.addEvent(new oY(e,n,r,i,s)))}finishTrack(e,n){(this._midiFile.format==sm.MultiTrack||e==0)&&this._midiFile.addEvent(new aY(e,n))}}class e5e{constructor(e,n){this.closingIndex=0,this.group=e,this.opening=n,e.closings=e.closings.sort((r,i)=>r.index-i.index),this.iterations=e.closings.map(r=>0)}}class t5e{get finished(){return this.index>=this._score.masterBars.length}constructor(e){this._repeatStack=[],this._groupsOnStack=new Set,this._previousAlternateEndings=0,this.shouldPlay=!0,this.index=0,this.currentTick=0,this._score=e}processCurrent(){const e=this._score.masterBars[this.index];let n=e.alternateEndings;if(n===0&&(n=this._previousAlternateEndings),e===e.repeatGroup.opening&&e.repeatGroup.isClosed&&!this._groupsOnStack.has(e.repeatGroup)){const r=new e5e(e.repeatGroup,e);this._repeatStack.push(r),this._groupsOnStack.add(e.repeatGroup),this._previousAlternateEndings=0,n=e.alternateEndings}if(this._repeatStack.length===0||n===0)this.shouldPlay=!0;else{const r=this._repeatStack[this._repeatStack.length-1],i=r.iterations[r.closingIndex];this._previousAlternateEndings=n,n&1<<i?this.shouldPlay=!0:this.shouldPlay=!1}this.shouldPlay&&(this.currentTick+=e.calculateDuration())}moveNext(){const n=this._score.masterBars[this.index].repeatCount-1;if(this._repeatStack.length>0&&n>0){const r=this._repeatStack[this._repeatStack.length-1];if(r.iterations[r.closingIndex]<n){this.index=r.opening.index,r.iterations[r.closingIndex]++;for(let s=0;s<r.closingIndex;s++)r.iterations[s]=0;r.closingIndex=0,this._previousAlternateEndings=0}else r.closingIndex<r.group.closings.length-1?(r.closingIndex++,this.index++):(this._repeatStack.pop(),this._groupsOnStack.delete(r.group),this.index++)}else this.index++}}class n5e{constructor(e,n){this.beat=e,this.playbackStart=n}}class gl{get duration(){return this.end-this.start}constructor(e,n){this._highlightedBeats=new Map,this.highlightedBeats=[],this.nextBeat=null,this.previousBeat=null,this.start=e,this.end=n}highlightBeat(e,n){e.isEmpty&&!e.voice.isEmpty||this._highlightedBeats.has(e.id)||(this._highlightedBeats.set(e.id,!0),this.highlightedBeats.push(new n5e(e,n)))}getVisibleBeatAtStart(e){for(const n of this.highlightedBeats)if(n.playbackStart==this.start&&e.has(n.beat.voice.bar.staff.track.index))return n.beat;return null}}class Lx{constructor(e,n){this.tick=e,this.tempo=n}}class mY{constructor(){this.start=0,this.end=0,this.tempoChanges=[],this.firstBeat=null,this.lastBeat=null,this.nextMasterBar=null,this.previousMasterBar=null}get tempo(){return this.tempoChanges[0].tempo}insertAfter(e,n){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=n,this.lastBeat=n):(n.nextBeat=e.nextBeat,n.previousBeat=e,e.nextBeat&&(e.nextBeat.previousBeat=n),e.nextBeat=n,e==this.lastBeat&&(this.lastBeat=n))}insertBefore(e,n){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=n,this.lastBeat=n):(n.previousBeat=e.previousBeat,n.nextBeat=e,e.previousBeat&&(e.previousBeat.nextBeat=n),e.previousBeat=n,e==this.firstBeat&&(this.firstBeat=n))}addBeat(e,n,r,i){const s=r+i;if(this.firstBeat==null){const o=new gl(r,s);o.highlightBeat(e,n),this.insertAfter(this.firstBeat,o)}else if(r>=this.lastBeat.end){const o=new gl(this.lastBeat.end,s);o.highlightBeat(e,n),this.insertAfter(this.lastBeat,o)}else{let o=null;if(r<this.firstBeat.start)o=this.firstBeat;else{let a=this.firstBeat;for(;a!=null;){if(r>=a.start&&r<a.end){o=a;break}a=a.nextBeat}if(o===null)throw new fs(hs.General,"Error on building lookup, unknown variant")}if(r<o.start)if(s==o.start){const a=new gl(r,o.start);a.highlightBeat(e,n),this.insertBefore(this.firstBeat,a)}else if(s<o.end){const a=new gl(r,o.start);a.highlightBeat(e,n),this.insertBefore(o,a);const l=new gl(o.start,s);for(const c of o.highlightedBeats)l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,n),this.insertBefore(o,l),o.start=s}else if(s==o.end){const a=new gl(r,o.start);a.highlightBeat(e,n),o.highlightBeat(e,n),this.insertBefore(o,a)}else{const a=new gl(r,o.start);a.highlightBeat(e,n),o.highlightBeat(e,n),this.insertBefore(o,a),this.addBeat(e,n,o.end,s-o.end)}else if(r>o.start)if(s==o.end){const a=new gl(o.start,r);for(const l of o.highlightedBeats)a.highlightBeat(l.beat,l.playbackStart);o.start=r,o.highlightBeat(e,n),this.insertBefore(o,a)}else if(s<o.end){const a=new gl(o.start,r);this.insertBefore(o,a);const l=new gl(r,s);this.insertBefore(o,l);for(const c of o.highlightedBeats)a.highlightBeat(c.beat,c.playbackStart),l.highlightBeat(c.beat,c.playbackStart);l.highlightBeat(e,n),o.start=s}else{const a=new gl(o.start,r);for(const l of o.highlightedBeats)a.highlightBeat(l.beat,l.playbackStart);o.start=r,o.highlightBeat(e,n),this.insertBefore(o,a),this.addBeat(e,n,o.end,s-o.end)}else if(s===o.end)o.highlightBeat(e,n);else if(s<o.end){const a=new gl(o.start,s);for(const l of o.highlightedBeats)a.highlightBeat(l.beat,l.playbackStart);a.highlightBeat(e,n),o.start=s,this.insertBefore(o,a)}else o.highlightBeat(e,n),this.addBeat(e,n,o.end,s-o.end)}}}class r5e{get start(){return this.masterBar.start+this.beatLookup.start}get end(){return this.start+this.tickDuration}constructor(e){this.nextBeat=null,this.tickDuration=0,this.duration=0,this.masterBar=e}calculateDuration(){if(this.masterBar.tempoChanges.length===1)this.duration=un.ticksToMillis(this.tickDuration,this.masterBar.tempoChanges[0].tempo);else{let e=0,n=this.start,r=this.masterBar.tempoChanges[0].tempo;const i=this.end;for(const s of this.masterBar.tempoChanges)if(s.tick<n)r=s.tempo;else{if(s.tick>i)break;e+=un.ticksToMillis(s.tick-n,r),r=s.tempo,n=s.tick}i>n&&(e+=un.ticksToMillis(i-n,r)),this.duration=e}}}class i5e{constructor(){this._currentMasterBar=null,this.masterBarLookup=new Map,this.masterBars=[]}findBeat(e,n,r=null){let i=null;return r&&(i=this.findBeatFast(e,r,n)),i||(i=this.findBeatSlow(e,r,n,!1)),i}findBeatFast(e,n,r){if(r>=n.start&&r<n.end)return n;if(n.nextBeat&&r>=n.nextBeat.start&&r<n.nextBeat.end){const i=n.nextBeat;return this.fillNextBeat(i,e),i}return null}fillNextBeat(e,n){e.nextBeat=this.findBeatInMasterBar(e.masterBar,e.beatLookup.nextBeat,e.end,n,!1,!0),e.nextBeat==null&&(e.nextBeat=this.findBeatSlow(n,e,e.end,!0)),e.nextBeat&&(e.tickDuration=e.nextBeat.start-e.start,e.calculateDuration()),e.nextBeat||(e.tickDuration=e.masterBar.end-e.start,e.calculateDuration())}findBeatSlow(e,n,r,i){let s=null;if(n!=null&&(n.masterBar.start<=r&&n.masterBar.end>r?s=n.masterBar:n.masterBar.nextMasterBar&&n.masterBar.nextMasterBar.start<=r&&n.masterBar.nextMasterBar.end>r&&(s=n.masterBar.nextMasterBar)),s||(s=this.findMasterBar(r)),!s)return null;for(;s;){if(s.firstBeat){let o=this.findBeatInMasterBar(s,s.firstBeat,r,e,!0,i);if(o)return o}s=s.nextMasterBar}return null}findBeatInMasterBar(e,n,r,i,s,o){if(!n)return null;let a=null,l=null;const c=r-e.start;for(;n!=null&&l==null;){if(n.start<=c&&c<n.end){if(a=n,l=n.getVisibleBeatAtStart(i),!l)if(o){let d=e;for(;d!=null&&l==null;){for(;n!=null;){if(l=n.getVisibleBeatAtStart(i),l){a=n,e=d;break}n=n.nextBeat}(!l||!a)&&(d=d.nextMasterBar,n=(d==null?void 0:d.firstBeat)??null)}}else{let d=e;for(;d!=null&&l==null;){for(;n!=null;){if(l=n.getVisibleBeatAtStart(i),l){a=n,e=d;break}n=n.previousBeat}(!l||!a)&&(d=d.previousMasterBar,n=(d==null?void 0:d.firstBeat)??null)}}}else if(n.end>c)break;n=(n==null?void 0:n.nextBeat)??null}return l==null?null:this.createResult(e,a,l,s,i)}createResult(e,n,r,i,s){const o=new r5e(e);return o.beat=r,o.beatLookup=n,o.tickDuration=n.end-n.start,i&&this.fillNextBeat(o,s),o.calculateDuration(),o}findMasterBar(e){const n=this.masterBars;let r=0,i=n.length-1;for(;r<=i;){const s=(i+r)/2|0,o=n[s];if(e>=o.start&&e<o.end)return o;e<o.start?i=s-1:r=s+1}return null}getMasterBar(e){if(!this.masterBarLookup.has(e.index)){const n=new mY;return n.masterBar=e,n}return this.masterBarLookup.get(e.index)}getMasterBarStart(e){return this.masterBarLookup.has(e.index)?this.masterBarLookup.get(e.index).start:0}getBeatStart(e){return this.masterBarLookup.has(e.voice.bar.index)?this.masterBarLookup.get(e.voice.bar.index).start+e.playbackStart:0}addMasterBar(e){this.masterBars.push(e),this._currentMasterBar&&(e.previousMasterBar=this._currentMasterBar,this._currentMasterBar.nextMasterBar=e),this._currentMasterBar=e,this.masterBarLookup.has(e.masterBar.index)||this.masterBarLookup.set(e.masterBar.index,e)}addBeat(e,n,r){const i=this._currentMasterBar;if(i)if(n<0&&i.previousMasterBar){const s=i.previousMasterBar.end-i.previousMasterBar.start,o=s+n,a=o+r;if(i.previousMasterBar.addBeat(e,o,o,r),a>s){const l=r+n;i.addBeat(e,n,0,l)}}else i.addBeat(e,n,n,r)}}class s5e{constructor(){this.noteOnly=0,this.untilTieOrSlideEnd=0,this.letRingEnd=0}}class o5e{constructor(){this.firstBeatDuration=0,this.secondBeatStartOffset=0,this.secondBeatDuration=0}}class or{constructor(e,n,r){this._programsPerChannel=new Map,this.tickLookup=new i5e,this.applyTranspositionPitches=!0,this.transpositionPitches=new Map,this._currentTripletFeel=null,this.vibratoResolution=16,this._score=e,this._settings=n||new Mp,this._handler=r}generate(){this.transpositionPitches.clear();for(const i of this._score.tracks)this.generateTrack(i);Qe.debug("Midi","Begin midi generation");const e=new t5e(this._score);let n=null,r=this._score.tempo;for(;!e.finished;){const i=e.index,s=this._score.masterBars[i],o=e.currentTick;if(e.processCurrent(),e.shouldPlay){this.generateMasterBar(s,n,o,r),s.tempoAutomations.length>0&&(r=s.tempoAutomations[0].value);for(const a of this._score.tracks)for(const l of a.staves)i<l.bars.length&&this.generateBar(l.bars[i],o,r);s.tempoAutomations.length>0&&(r=s.tempoAutomations[s.tempoAutomations.length-1].value)}e.moveNext(),n=s}for(const i of this._score.tracks)this._handler.finishTrack(i.index,e.currentTick);Qe.debug("Midi","Midi generation done")}generateTrack(e){this.generateChannel(e,e.playbackInfo.primaryChannel,e.playbackInfo),e.playbackInfo.primaryChannel!==e.playbackInfo.secondaryChannel&&this.generateChannel(e,e.playbackInfo.secondaryChannel,e.playbackInfo)}addProgramChange(e,n,r,i){(!this._programsPerChannel.has(r)||this._programsPerChannel.get(r)!==i)&&(this._handler.addProgramChange(e.index,n,r,i),this._programsPerChannel.set(r,i))}static buildTranspositionPitches(e,n){const r=new Map;for(const i of e.tracks){const s=i.index<n.notation.transpositionPitches.length?n.notation.transpositionPitches[i.index]:0;r.set(i.playbackInfo.primaryChannel,s),r.set(i.playbackInfo.secondaryChannel,s)}return r}generateChannel(e,n,r){const i=e.index<this._settings.notation.transpositionPitches.length?this._settings.notation.transpositionPitches[e.index]:0;this.transpositionPitches.set(n,i);let s=or.toChannelShort(r.volume),o=or.toChannelShort(r.balance);this._handler.addControlChange(e.index,0,n,dr.VolumeCoarse,s),this._handler.addControlChange(e.index,0,n,dr.PanCoarse,o),this._handler.addControlChange(e.index,0,n,dr.ExpressionControllerCoarse,127),this._handler.addControlChange(e.index,0,n,dr.RegisteredParameterFine,0),this._handler.addControlChange(e.index,0,n,dr.RegisteredParameterCourse,0),this._handler.addControlChange(e.index,0,n,dr.DataEntryFine,0),this._handler.addControlChange(e.index,0,n,dr.DataEntryCoarse,or.PitchBendRangeInSemitones),this.addProgramChange(e,0,n,r.program)}static toChannelShort(e){const n=Math.max(-32768,Math.min(32767,e*8-1));return Math.max(n,-1)+1}generateMasterBar(e,n,r,i){(!n||n.timeSignatureDenominator!==e.timeSignatureDenominator||n.timeSignatureNumerator!==e.timeSignatureNumerator)&&this._handler.addTimeSignature(r,e.timeSignatureNumerator,e.timeSignatureDenominator);const s=e.calculateDuration(),o=new mY;if(e.tempoAutomations.length>0){e.tempoAutomations[0].ratioPosition>0&&o.tempoChanges.push(new Lx(r,i));for(const a of e.tempoAutomations){const l=r+s*a.ratioPosition;this._handler.addTempo(l,a.value),o.tempoChanges.push(new Lx(l,a.value))}}else n?o.tempoChanges.push(new Lx(r,i)):(this._handler.addTempo(r,e.score.tempo),o.tempoChanges.push(new Lx(r,e.score.tempo)));o.masterBar=e,o.start=r,o.end=o.start+s,this.tickLookup.addMasterBar(o)}generateBar(e,n,r){let i=this.getPlaybackBar(e);for(const s of i.voices)this.generateVoice(s,n,e,r)}getPlaybackBar(e){switch(e.simileMark){case Qa.Simple:e.previousBar&&(e=this.getPlaybackBar(e.previousBar));break;case Qa.FirstOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break;case Qa.SecondOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break}return e}generateVoice(e,n,r,i){if(e.isEmpty&&(!e.bar.isEmpty||e.index!==0))return;const s=r.masterBar.tempoAutomations.slice();let o=i;const a=r.masterBar.calculateDuration();for(const l of e.beats){const c=l.playbackStart/a;for(;s.length>0&&s[0].ratioPosition<=c;)o=s.shift().value;this.generateBeat(l,n,r,o)}}generateBeat(e,n,r,i){let s=e.playbackStart,o=e.playbackDuration;const a=e.voice.bar.masterBar.calculateDuration();e.voice.bar.isEmpty?o=a:e.voice.bar.masterBar.tripletFeel!==vn.NoTripletFeel&&this._settings.player.playTripletFeel&&(this._currentTripletFeel?(s-=this._currentTripletFeel.secondBeatStartOffset,o=this._currentTripletFeel.secondBeatDuration,this._currentTripletFeel=null):(this._currentTripletFeel=or.calculateTripletFeelInfo(s,o,e),this._currentTripletFeel&&(o=this._currentTripletFeel.firstBeatDuration))),r===e.voice.bar?this.tickLookup.addBeat(e,s,o):this.tickLookup.addBeat(e,0,o);const l=e.voice.bar.staff.track;for(const c of e.automations)this.generateNonTempoAutomation(e,c,n);if(e.isRest)this._handler.addRest(l.index,n+s,l.playbackInfo.primaryChannel);else{let c=this.getBrushInfo(e);for(const u of e.notes)this.generateNote(u,n+s,o,i,c)}if(e.vibrato!==Wn.None){let c=240,u=3;switch(e.vibrato){case Wn.Slight:c=this._settings.player.vibrato.beatSlightLength,u=this._settings.player.vibrato.beatSlightAmplitude;break;case Wn.Wide:c=this._settings.player.vibrato.beatWideLength,u=this._settings.player.vibrato.beatWideAmplitude;break}this.generateVibratorWithParams(n+s,e.playbackDuration,c,u,(d,h)=>{this._handler.addBend(e.voice.bar.staff.track.index,d,l.playbackInfo.secondaryChannel,h)})}}static calculateTripletFeelInfo(e,n,r){let i;switch(r.voice.bar.masterBar.tripletFeel){case vn.Triplet8th:case vn.Dotted8th:case vn.Scottish8th:i=ve.Eighth;break;case vn.Triplet16th:case vn.Dotted16th:case vn.Scottish16th:i=ve.Sixteenth;break;default:return null}const s=un.toTicks(i);if(n!==s||e%s!==0||!r.nextBeat||r.nextBeat.voice!==r.voice||r.playbackDuration!==s)return null;const o=new o5e;switch(r.voice.bar.masterBar.tripletFeel){case vn.Triplet8th:o.firstBeatDuration=un.applyTuplet(un.toTicks(ve.Quarter),3,2),o.secondBeatDuration=un.applyTuplet(un.toTicks(ve.Eighth),3,2);break;case vn.Dotted8th:o.firstBeatDuration=un.applyDot(un.toTicks(ve.Eighth),!1),o.secondBeatDuration=un.toTicks(ve.Sixteenth);break;case vn.Scottish8th:o.firstBeatDuration=un.toTicks(ve.Sixteenth),o.secondBeatDuration=un.applyDot(un.toTicks(ve.Eighth),!1);break;case vn.Triplet16th:o.firstBeatDuration=un.applyTuplet(un.toTicks(ve.Eighth),3,2),o.secondBeatDuration=un.applyTuplet(un.toTicks(ve.Sixteenth),3,2);break;case vn.Dotted16th:o.firstBeatDuration=un.applyDot(un.toTicks(ve.Sixteenth),!1),o.secondBeatDuration=un.toTicks(ve.ThirtySecond);break;case vn.Scottish16th:o.firstBeatDuration=un.toTicks(ve.ThirtySecond),o.secondBeatDuration=un.applyDot(un.toTicks(ve.Sixteenth),!1);break}return o.secondBeatStartOffset=n-o.firstBeatDuration,o}generateNote(e,n,r,i,s){const o=e.beat.voice.bar.staff.track,a=e.beat.voice.bar.staff;let l=e.calculateRealValue(this.applyTranspositionPitches,!0);if(e.isPercussion){const m=ki.getArticulation(e);m&&(l=m.outputMidiNumber)}const c=e.isStringed&&e.string<=s.length?s[e.string-1]:0,u=n+c,d=this.getNoteDuration(e,r,i);d.untilTieOrSlideEnd-=c,d.noteOnly-=c,d.letRingEnd-=c;const h=or.getNoteVelocity(e),f=e.hasBend||e.beat.hasWhammyBar||e.beat.vibrato!==Wn.None?o.playbackInfo.secondaryChannel:o.playbackInfo.primaryChannel;let p=0;if(e.hasBend?p=or.getPitchWheel(e.bendPoints[0].value):e.beat.hasWhammyBar?p=or.getPitchWheel(e.beat.whammyBarPoints[0].value):e.isTieDestination||e.slideOrigin&&e.slideOrigin.slideOutType===hn.Legato?p=-1:p=or.getPitchWheel(0),p>=0&&this._handler.addNoteBend(o.index,u,f,l,p),e.beat.fadeIn&&this.generateFadeIn(e,u,d),e.isTrill&&!a.isPercussion){this.generateTrill(e,u,d,l,h,f);return}if(e.beat.isTremolo){this.generateTremoloPicking(e,u,d,l,h,f);return}if(e.hasBend?this.generateBend(e,u,d,l,f,i):e.beat.hasWhammyBar&&e.index===0?this.generateWhammy(e.beat,u,d,f,i):e.slideInType!==us.None||e.slideOutType!==hn.None?this.generateSlide(e,u,d,l,f,i):(e.vibrato!==Wn.None||e.isTieDestination&&e.tieOrigin.vibrato!==Wn.None)&&this.generateVibrato(e,u,d,l,f),!e.isTieDestination&&(!e.slideOrigin||e.slideOrigin.slideOutType!==hn.Legato)){let m=Math.max(d.untilTieOrSlideEnd,d.letRingEnd);this._handler.addNote(o.index,u,m,l,h,f)}}getNoteDuration(e,n,r){const i=new s5e;if(i.noteOnly=n,i.untilTieOrSlideEnd=n,i.letRingEnd=n,e.isDead)return i.noteOnly=this.applyStaticDuration(or.DefaultDurationDead,n,r),i.untilTieOrSlideEnd=i.noteOnly,i.letRingEnd=i.noteOnly,i;if(e.isPalmMute)return i.noteOnly=this.applyStaticDuration(or.DefaultDurationPalmMute,n,r),i.untilTieOrSlideEnd=i.noteOnly,i.letRingEnd=i.noteOnly,i;if(e.isStaccato)return i.noteOnly=n/2|0,i.untilTieOrSlideEnd=i.noteOnly,i.letRingEnd=i.noteOnly,i;if(e.isTieOrigin){const s=e.tieDestination;if(s)if(e.isTieDestination){const o=this.getNoteDuration(s,s.beat.playbackDuration,r);i.untilTieOrSlideEnd=n+o.untilTieOrSlideEnd}else{const o=e.beat.absolutePlaybackStart,a=this.getNoteDuration(s,s.beat.playbackDuration,r),l=s.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;i.untilTieOrSlideEnd=l-o}}else if(e.slideOutType===hn.Legato){const s=e.slideTarget;if(s){const o=e.beat.absolutePlaybackStart,a=this.getNoteDuration(s,s.beat.playbackDuration,r),l=s.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;i.untilTieOrSlideEnd=l-o}}if(e.isLetRing&&this._settings.notation.notationMode===qi.GuitarPro){let s=e.beat,o=0;const a=e.beat.voice.bar.masterBar.calculateDuration();for(;s.nextBeat;){let l=s.nextBeat;if(l.isRest||e.isStringed&&l.hasNoteOnString(e.string))break;if(s=s.nextBeat,o=s.absolutePlaybackStart-e.beat.absolutePlaybackStart+s.playbackDuration,o>a){o=a;break}}s===e.beat?i.letRingEnd=n:i.letRingEnd=o}else i.letRingEnd=i.untilTieOrSlideEnd;return i}applyStaticDuration(e,n,r){const i=r*e/dt.MaxPosition|0;return Math.min(i,n)}static getNoteVelocity(e){let n=e.dynamics;switch(!e.beat.voice.bar.staff.isPercussion&&e.hammerPullOrigin&&n--,e.isGhost&&n--,e.accentuated){case hi.Normal:n++;break;case hi.Heavy:n+=2;break}return un.dynamicToVelocity(n)}generateFadeIn(e,n,r){const i=e.beat.voice.bar.staff.track,o=or.toChannelShort(i.playbackInfo.volume)/r.noteOnly,a=120,l=r.noteOnly/a|0,c=n+r.noteOnly;for(let u=l-1;u>=0;u--){const d=c-u*a,h=(d-n)*o;u===l-1&&(this._handler.addControlChange(i.index,n,i.playbackInfo.primaryChannel,dr.VolumeCoarse,h),this._handler.addControlChange(i.index,n,i.playbackInfo.secondaryChannel,dr.VolumeCoarse,h)),this._handler.addControlChange(i.index,d,i.playbackInfo.primaryChannel,dr.VolumeCoarse,h),this._handler.addControlChange(i.index,d,i.playbackInfo.secondaryChannel,dr.VolumeCoarse,h)}}generateVibrato(e,n,r,i,s){let o=0,a=0;switch(e.vibrato!==Wn.None?e.vibrato:e.isTieDestination?e.tieOrigin.vibrato:Wn.Slight){case Wn.Slight:o=this._settings.player.vibrato.noteSlightLength,a=this._settings.player.vibrato.noteSlightAmplitude;break;case Wn.Wide:o=this._settings.player.vibrato.noteWideLength,a=this._settings.player.vibrato.noteWideAmplitude;break;default:return}const c=e.beat.voice.bar.staff.track;this.generateVibratorWithParams(n,r.noteOnly,o,a,(u,d)=>{this._handler.addNoteBend(c.index,u,s,i,d)})}generateVibratorWithParams(e,n,r,i,s){const o=this.vibratoResolution,a=r/2|0;e+=r;const l=e+n;for(;e<l;){let c=0;const u=e+r<l?r:l-e;for(;c<u;){let d=i*Math.sin(c*Math.PI/a);s(e+c|0,or.getPitchWheel(d)),c+=o}e+=r}}static getPitchWheel(e){return gn.DefaultPitchWheel+e/2*or.PitchValuePerSemitone}generateSlide(e,n,r,i,s,o){let a=e.slideOutType===hn.Legato?r.noteOnly:r.untilTieOrSlideEnd,l=[],c=e.beat.voice.bar.staff.track;const u=this._settings.player.slide.simpleSlidePitchOffset,d=Math.floor(dt.MaxPosition*this._settings.player.slide.simpleSlideDurationRatio),h=Math.floor(dt.MaxPosition*this._settings.player.slide.shiftSlideDurationRatio);switch(e.slideInType){case us.IntoFromAbove:l.push(new dt(0,u)),l.push(new dt(d,0));break;case us.IntoFromBelow:l.push(new dt(0,-u)),l.push(new dt(d,0));break}switch(e.slideOutType){case hn.Legato:case hn.Shift:l.push(new dt(h,0));const f=(e.slideTarget.calculateRealValue(this.applyTranspositionPitches,!0)-e.calculateRealValue(this.applyTranspositionPitches,!0))*2;l.push(new dt(dt.MaxPosition,f));break;case hn.OutDown:l.push(new dt(dt.MaxPosition-d,0)),l.push(new dt(dt.MaxPosition,-u));break;case hn.OutUp:l.push(new dt(dt.MaxPosition-d,0)),l.push(new dt(dt.MaxPosition,u));break}this.generateWhammyOrBend(n,a,l,o,(f,p)=>{this._handler.addNoteBend(c.index,f,s,i,p)})}generateBend(e,n,r,i,s,o){let a=e.bendPoints,l=e.beat.voice.bar.staff.track;const c=(p,m)=>{this._handler.addNoteBend(l.index,p,s,i,m)};let u=null,d;if(e.isTieOrigin&&this._settings.notation.extendBendArrowsOnTiedNotes){let p=e;for(;p.isTieOrigin&&!p.tieDestination.hasBend;)p=p.tieDestination;d=p.beat.absolutePlaybackStart-e.beat.absolutePlaybackStart+this.getNoteDuration(p,p.beat.playbackDuration,o).noteOnly}else if(e.isTieOrigin&&e.beat.graceType!==Dt.None){switch(e.tieDestination.bendType){case _t.Bend:case _t.BendRelease:case _t.PrebendBend:u=e.tieDestination.bendPoints[1].value;break;case _t.Prebend:case _t.PrebendRelease:u=e.tieDestination.bendPoints[0].value;break}d=Math.max(r.noteOnly,un.millisToTicks(this._settings.player.songBookBendDuration,o))}else d=r.noteOnly;a[0].value>0&&!e.isContinuedBend&&n>0&&n--;const h=Math.min(d,un.millisToTicks(this._settings.player.songBookBendDuration,o));let f=[];switch(e.bendType){case _t.Custom:f=a;break;case _t.Bend:case _t.Release:switch(e.bendStyle){case ur.Default:f=a;break;case ur.Gradual:f.push(new dt(0,e.bendPoints[0].value)),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),f.push(new dt(dt.MaxPosition,u));break;case ur.Fast:(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),e.beat.graceType===Dt.BendGrace?this.generateSongBookWhammyOrBend(n,d,!0,[e.bendPoints[0].value,u],h,o,c):this.generateSongBookWhammyOrBend(n,d,!1,[e.bendPoints[0].value,u],h,o,c);return}break;case _t.BendRelease:switch(e.bendStyle){case ur.Default:f=a;break;case ur.Gradual:f.push(new dt(0,e.bendPoints[0].value)),f.push(new dt(dt.MaxPosition/2|0,e.bendPoints[1].value)),f.push(new dt(dt.MaxPosition,e.bendPoints[2].value));break;case ur.Fast:this.generateSongBookWhammyOrBend(n,d,!1,[e.bendPoints[0].value,e.bendPoints[1].value,e.bendPoints[2].value],h,o,c);return}break;case _t.Hold:f=a;break;case _t.Prebend:f=a;break;case _t.PrebendBend:switch(e.bendStyle){case ur.Default:f=a;break;case ur.Gradual:f.push(new dt(0,e.bendPoints[0].value)),f.push(new dt(dt.MaxPosition,e.bendPoints[1].value));break;case ur.Fast:const p=or.getPitchWheel(e.bendPoints[0].value);c(n,p|0),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),this.generateSongBookWhammyOrBend(n,d,!1,[e.bendPoints[0].value,u],h,o,c);return}break;case _t.PrebendRelease:switch(e.bendStyle){case ur.Default:f=a;break;case ur.Gradual:f.push(new dt(0,e.bendPoints[0].value)),f.push(new dt(dt.MaxPosition,e.bendPoints[1].value));break;case ur.Fast:const p=or.getPitchWheel(e.bendPoints[0].value);c(n,p|0),this.generateSongBookWhammyOrBend(n,d,!1,[e.bendPoints[0].value,e.bendPoints[1].value],h,o,c);return}break}this.generateWhammyOrBend(n,d,f,o,c)}generateSongBookWhammyOrBend(e,n,r,i,s,o,a){const l=r?e:e+n-s,c=s/(i.length-1);for(let u=0;u<i.length-1;u++){const d=or.getPitchWheel(i[u]),h=or.getPitchWheel(i[u+1]),f=l+c*u;this.generateBendValues(f,c,d,h,o,a)}}generateWhammy(e,n,r,i,s){const o=e.whammyBarPoints,a=e.voice.bar.staff.track,l=r.noteOnly;o[0].value>0&&!e.isContinuedWhammy&&n--;const c=(d,h)=>{this._handler.addBend(a.index,d,i,h)};let u=[];switch(e.whammyBarType){case Yn.Custom:u=o;break;case Yn.Dive:switch(e.whammyStyle){case ur.Default:u=o;break;case ur.Gradual:u.push(new dt(0,o[0].value)),u.push(new dt(dt.MaxPosition,o[1].value));break;case ur.Fast:const d=Math.min(l,un.millisToTicks(this._settings.player.songBookBendDuration,s));this.generateSongBookWhammyOrBend(n,l,!1,[o[0].value,o[1].value],d,s,c);return}break;case Yn.Dip:switch(e.whammyStyle){case ur.Default:u=o;break;case ur.Gradual:u.push(new dt(0,o[0].value)),u.push(new dt(dt.MaxPosition/2|0,o[1].value)),u.push(new dt(dt.MaxPosition,o[2].value));break;case ur.Fast:const d=Math.min(l,un.millisToTicks(this._settings.player.songBookDipDuration,s));this.generateSongBookWhammyOrBend(n,l,!0,[o[0].value,o[1].value,o[2].value],d,s,c);return}break;case Yn.Hold:u=o;break;case Yn.Predive:u=o;break;case Yn.PrediveDive:switch(e.whammyStyle){case ur.Default:u=o;break;case ur.Gradual:u.push(new dt(0,o[0].value)),u.push(new dt(dt.MaxPosition/2|0,o[0].value)),u.push(new dt(dt.MaxPosition,o[1].value));break;case ur.Fast:const d=or.getPitchWheel(o[0].value);this._handler.addBend(a.index,n,i,d|0);const h=Math.min(l,un.millisToTicks(this._settings.player.songBookBendDuration,s));this.generateSongBookWhammyOrBend(n,l,!1,[o[0].value,o[1].value],h,s,c);return}break}this.generateWhammyOrBend(n,l,u,s,c)}generateWhammyOrBend(e,n,r,i,s){const o=n/dt.MaxPosition;for(let a=0;a<r.length-1;a++){const l=r[a],c=r[a+1],u=or.getPitchWheel(l.value),d=or.getPitchWheel(c.value),h=o*(c.offset-l.offset),f=e+o*l.offset;this.generateBendValues(f,h,u,d,i,s)}}generateBendValues(e,n,r,i,s,o){const a=un.ticksToMillis(n,s),l=Math.abs(i-r)/or.PitchValuePerSemitone,c=Math.max(or.MinBreakpointsPerSemitone*l,a/or.MillisecondsPerBreakpoint),u=n/c,d=(i-r)/c;for(let h=0;h<c;h++)o(e|0,Math.round(r)),r+=d,e+=u;r<i&&o(e|0,i)}generateTrill(e,n,r,i,s,o){const a=e.beat.voice.bar.staff.track,l=e.stringTuning+e.trillFret;let c=un.toTicks(e.trillSpeed),u=!0,d=n,h=n+r.untilTieOrSlideEnd;for(;d+10<h;)d+c>=h&&(c=h-d),this._handler.addNote(a.index,d,c,u?l:i,s,o),u=!u,d+=c}generateTremoloPicking(e,n,r,i,s,o){const a=e.beat.voice.bar.staff.track;let l=un.toTicks(e.beat.tremoloSpeed),c=n;const u=n+r.untilTieOrSlideEnd;for(;c+10<u;)c+l>=u&&(l=u-c),this._handler.addNote(a.index,c,l,i,s,o),c+=l}getBrushInfo(e){const n=new Int32Array(e.voice.bar.staff.tuning.length);if(e.brushType!==Mr.None){let r=0,i=0;for(const s of e.notes)s.isTieDestination||(r|=1<<s.string-1,i++);if(e.notes.length>0){let s=0;const o=e.brushDuration/(i-1)|0;for(let a=0;a<e.voice.bar.staff.tuning.length;a++){let l=e.brushType===Mr.ArpeggioDown||e.brushType===Mr.BrushDown?a:n.length-1-a;r&1<<l&&(n[l]=s,s+=o)}}}return n}generateNonTempoAutomation(e,n,r){switch(n.type){case Di.Instrument:this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.primaryChannel,(n.value|0)&255),this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.secondaryChannel,(n.value|0)&255);break;case Di.Balance:let i=or.toChannelShort(n.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.primaryChannel,dr.PanCoarse,i),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.secondaryChannel,dr.PanCoarse,i);break;case Di.Volume:let s=or.toChannelShort(n.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.primaryChannel,dr.VolumeCoarse,s),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+r,e.voice.bar.staff.track.playbackInfo.secondaryChannel,dr.VolumeCoarse,s);break}}prepareSingleBeat(e){let n=-1,r=-1,i=e;for(;i&&(n===-1||r===-1);){for(const u of e.automations)switch(u.type){case Di.Instrument:r=u.value;break;case Di.Tempo:n=u.value;break}i=i.previousBeat}const s=e.voice.bar.staff.track,o=e.voice.bar.masterBar;n===-1&&(n=o.score.tempo);const a=e.playbackStart/o.calculateDuration();for(const u of o.tempoAutomations)if(u.ratioPosition<=a)n=u.value;else break;r===-1&&(r=s.playbackInfo.program);const l=s.playbackInfo.volume;this.generateTrack(s),this._handler.addTimeSignature(0,o.timeSignatureNumerator,o.timeSignatureDenominator),this._handler.addTempo(0,n);let c=or.toChannelShort(l);return this._handler.addControlChange(0,0,s.playbackInfo.primaryChannel,dr.VolumeCoarse,c),this._handler.addControlChange(0,0,s.playbackInfo.secondaryChannel,dr.VolumeCoarse,c),n}generateSingleBeat(e){const n=this.prepareSingleBeat(e);this.generateBeat(e,-e.playbackStart,e.voice.bar,n)}generateSingleNote(e){const n=this.prepareSingleBeat(e.beat);this.generateNote(e,0,e.beat.playbackDuration,n,new Int32Array(e.beat.voice.bar.staff.tuning.length))}}or.DefaultDurationDead=30;or.DefaultDurationPalmMute=80;or.PitchBendRangeInSemitones=8*2;or.PitchValuePerSemitone=gn.DefaultPitchWheel/or.PitchBendRangeInSemitones;or.MinBreakpointsPerSemitone=6;or.MillisecondsPerBreakpoint=150;class a5e{constructor(){this.startTick=0,this.endTick=0}}class ii{constructor(e,n){this.width=0,this.height=0,this.x=e,this.y=n}get scale(){return this.renderer.scale}doLayout(){}paint(e,n,r){}}class Ea extends ii{constructor(e=0,n=0){super(e,n),this.beat=null,this.nextGlyph=null,this.previousGlyph=null}}class Mi extends Ea{constructor(e,n,r,i){super(e,n),this.glyphScale=0,this.glyphScale=r,this.symbol=i}paint(e,n,r){r.fillMusicFontSymbol(e+this.x,n+this.y,this.glyphScale*this.scale,this.symbol,!1)}}class nn extends Mi{constructor(e,n,r,i){super(e,n,i?nn.GraceScale:1,nn.getSymbol(r)),this._isGrace=i,this._duration=r}paint(e,n,r){let i=this._isGrace?this.scale:0;r.fillMusicFontSymbol(e+this.x,n+this.y+i,this.glyphScale*this.scale,this.symbol,!1)}doLayout(){let e=(this._isGrace?nn.GraceScale:1)*this.scale;switch(this._duration){case ve.QuadrupleWhole:this.width=14*e;break;case ve.DoubleWhole:this.width=14*(this._isGrace?nn.GraceScale:1)*this.scale;break;case ve.Whole:this.width=14*(this._isGrace?nn.GraceScale:1)*this.scale;break;default:this.width=nn.QuarterNoteHeadWidth*(this._isGrace?nn.GraceScale:1)*this.scale;break}this.height=nn.NoteHeadHeight*e}static getSymbol(e){switch(e){case ve.QuadrupleWhole:return Q.NoteheadDoubleWholeSquare;case ve.DoubleWhole:return Q.NoteheadDoubleWhole;case ve.Whole:return Q.NoteheadWhole;case ve.Half:return Q.NoteheadHalf;default:return Q.NoteheadBlack}}}nn.GraceScale=.75;nn.NoteHeadHeight=8;nn.QuarterNoteHeadWidth=9;class zv extends Mi{constructor(e,n,r,i,s){super(e,n,s?nn.GraceScale:1,zv.getSymbol(r,i,s))}doLayout(){this.width=0}static getSymbol(e,n,r){if(r&&(e=ve.Eighth),n===Je.Up)switch(e){case ve.Eighth:return Q.FlagEighthUp;case ve.Sixteenth:return Q.FlagSixteenthUp;case ve.ThirtySecond:return Q.FlagThirtySecondUp;case ve.SixtyFourth:return Q.FlagSixtyFourthUp;case ve.OneHundredTwentyEighth:return Q.FlagOneHundredTwentyEighthUp;case ve.TwoHundredFiftySixth:return Q.FlagTwoHundredFiftySixthUp;default:return Q.FlagEighthUp}switch(e){case ve.Eighth:return Q.FlagEighthDown;case ve.Sixteenth:return Q.FlagSixteenthDown;case ve.ThirtySecond:return Q.FlagThirtySecondDown;case ve.SixtyFourth:return Q.FlagSixtyFourthDown;case ve.OneHundredTwentyEighth:return Q.FlagOneHundredTwentyEighthDown;case ve.TwoHundredFiftySixth:return Q.FlagOneHundredTwentyEighthDown;default:return Q.FlagEighthDown}}}zv.FlagWidth=11;class Xa extends ii{get onTimeX(){return this.onNotes.x+this.onNotes.centerX}constructor(e,n){super(0,0),this.ties=[],this.minWidth=0,this.beat=e,this.ties=[],this.voiceContainer=n}addTie(e){e.renderer=this.renderer,this.ties.push(e)}drawBeamHelperAsFlags(e){return e.hasFlag(!1,void 0)}registerLayoutingInfo(e){let n=this.preNotes.computedWidth+this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(n+=Xa.GraceBeatPadding*this.renderer.scale);let r=this.onNotes.computedWidth-this.onNotes.centerX;const i=this.renderer.helpers.getBeamingHelperForBeat(this.beat);(i&&this.drawBeamHelperAsFlags(i)||this.beat.graceType!==Dt.None)&&(r+=zv.FlagWidth*this.scale*(this.beat.graceType!==Dt.None?nn.GraceScale:1));for(const s of this.ties)r+=s.width;this.beat.graceType!==Dt.None&&(r+=Xa.GraceBeatPadding*this.renderer.scale),e.addBeatSpring(this.beat,n,r),e.setPreBeatSize(this.beat,this.preNotes.computedWidth),e.setOnBeatSize(this.beat,this.onNotes.computedWidth),e.setBeatCenterX(this.beat,this.onNotes.centerX)}applyLayoutingInfo(e){let n=e.getBeatCenterX(this.beat)-this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(n+=Xa.GraceBeatPadding*this.renderer.scale),this.preNotes.x=n,this.preNotes.width=e.getPreBeatSize(this.beat),this.onNotes.width=e.getOnBeatSize(this.beat),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.updateBeamingHelper(),this.updateWidth()}doLayout(){this.preNotes.x=0,this.preNotes.renderer=this.renderer,this.preNotes.container=this,this.preNotes.doLayout(),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.renderer=this.renderer,this.onNotes.container=this,this.onNotes.doLayout();let e=this.beat.notes.length-1;for(;e>=0;)this.createTies(this.beat.notes[e--]);this.renderer.registerTies(this.ties),this.updateWidth()}updateWidth(){if(this.minWidth=this.preNotes.width+this.onNotes.width,!this.beat.isRest)if(this.onNotes.beamingHelper.beats.length===1)this.beat.duration>=ve.Eighth&&(this.minWidth+=20*this.scale);else switch(this.beat.duration){case ve.OneHundredTwentyEighth:case ve.TwoHundredFiftySixth:this.minWidth+=10*this.scale;break}let e=0;for(let n of this.ties)n.width>e&&(e=n.width);this.minWidth+=e,this.width=this.minWidth}scaleToWidth(e){this.onNotes.updateBeamingHelper(),this.width=e}createTies(e){}static getGroupId(e){return"b"+e.id}paint(e,n,r){if(this.beat.voice.isEmpty||this.preNotes.isEmpty&&this.onNotes.isEmpty&&this.ties.length===0)return;r.beginGroup(Xa.getGroupId(this.beat)),this.preNotes.paint(e+this.x,n+this.y,r),this.onNotes.paint(e+this.x,n+this.y,r);let s=e-this.voiceContainer.x-this.renderer.x,o=n-this.voiceContainer.y-this.renderer.y;for(let a=0,l=this.ties.length;a<l;a++){let c=this.ties[a];c.renderer=this.renderer,c.paint(s,o,r)}r.endGroup()}buildBoundingsLookup(e,n,r,i){let s=new hY;s.beat=this.beat,s.visualBounds=new po,s.visualBounds.x=n+this.x+this.onNotes.x,s.visualBounds.y=e.visualBounds.y,s.visualBounds.w=this.onNotes.width,s.visualBounds.h=e.visualBounds.h,s.realBounds=new po,s.realBounds.x=n+this.x,s.realBounds.y=e.realBounds.y,s.realBounds.w=this.width,s.realBounds.h=e.realBounds.h,i&&(s.visualBounds.x=n+this.x,s.realBounds.x=s.visualBounds.x),e.addBeat(s),this.renderer.settings.core.includeNoteBounds&&this.onNotes.buildBoundingsLookup(s,n+this.x,r+this.y)}}Xa.GraceBeatPadding=3;class m8{constructor(){this.oldWidth=0,this.newWidth=0,this.settings=null}core(){return this.settings&&this.causeIssue()?this.settings.core:new kY}causeIssue(){return this.settings=null,!0}}class l5e{constructor(e){this.activeBeats=e}}class Dx{constructor(e){this.bounds=null,this.beat=e}}class c5e{constructor(e,n){this._startTime=0,this._trackIndexes=null,this._trackIndexLookup=null,this._isDestroyed=!1,this.score=null,this.tracks=[],this._tickCache=null,this.player=null,this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null,this._previousTick=0,this._playerState=Ui.Paused,this._currentBeat=null,this._currentBarBounds=null,this._previousStateForCursor=Ui.Paused,this._previousCursorCache=null,this._lastScroll=0,this.playedBeatChanged=new Dn,this.activeBeatsChanged=new Dn,this._beatMouseDown=!1,this._noteMouseDown=!1,this._selectionStart=null,this._selectionEnd=null,this.beatMouseDown=new Dn,this.beatMouseMove=new Dn,this.beatMouseUp=new Dn,this.noteMouseDown=new Dn,this.noteMouseMove=new Dn,this.noteMouseUp=new Dn,this.scoreLoaded=new Dn,this.resize=new Dn,this.renderStarted=new Dn,this.renderFinished=new Dn,this.postRenderFinished=new Ki,this.error=new Dn,this.playerReady=new Ki,this.playerFinished=new Ki,this.soundFontLoaded=new Ki,this.midiLoad=new Dn,this.midiLoaded=new Dn,this.playerStateChanged=new Dn,this.playerPositionChanged=new Dn,this.midiEventsPlayed=new Dn,this.playbackRangeChanged=new Dn,this.settingsUpdated=new Ki,this.uiFacade=e,this.container=e.rootContainer,e.initialize(this,n),Qe.logLevel=this.settings.core.logLevel,this.canvasElement=e.createCanvasElement(),this.container.appendChild(this.canvasElement),this.settings.core.useWorkers&&this.uiFacade.areWorkersSupported&&qe.getRenderEngineFactory(this.settings.core.engine).supportsWorkers?this.renderer=this.uiFacade.createWorkerRenderer():this.renderer=new gY(this.settings),this.container.resize.on(qe.throttle(()=>{this._isDestroyed||this.container.width!==this.renderer.width&&this.triggerResize()},e.resizeThrottle));let r=new m8;r.oldWidth=this.renderer.width,r.newWidth=this.container.width|0,r.settings=this.settings,this.onResize(r),this.renderer.preRender.on(this.onRenderStarted.bind(this)),this.renderer.renderFinished.on(i=>{this.onRenderFinished(i)}),this.renderer.postRenderFinished.on(()=>{let i=Date.now()-this._startTime;Qe.debug("rendering","Rendering completed in "+i+"ms"),this.onPostRenderFinished()}),this.renderer.preRender.on(i=>{this._startTime=Date.now()}),this.renderer.partialLayoutFinished.on(this.appendRenderResult.bind(this)),this.renderer.partialRenderFinished.on(this.updateRenderResult.bind(this)),this.renderer.renderFinished.on(i=>{this.appendRenderResult(i),this.appendRenderResult(null)}),this.renderer.error.on(this.onError.bind(this)),this.settings.player.enablePlayer&&this.setupPlayer(),this.setupClickHandling(),this.uiFacade.beginInvoke(()=>{this.uiFacade.initialRender()})}destroy(){this._isDestroyed=!0,this.player&&this.player.destroy(),this.uiFacade.destroy(),this.renderer.destroy()}updateSettings(){var n;const e=this.score;e&&yr.applyPitchOffsets(this.settings,e),this.renderer.updateSettings(this.settings),this.settings.player.enablePlayer?(this.setupPlayer(),e&&((n=this.player)==null||n.applyTranspositionPitches(or.buildTranspositionPitches(e,this.settings)))):this.destroyPlayer(),this.onSettingsUpdated()}load(e,n){try{return this.uiFacade.load(e,r=>{this.renderScore(r,n)},r=>{this.onError(r)})}catch(r){return this.onError(r),!1}}renderScore(e,n){let r=[];if(!n)e.tracks.length>0&&r.push(e.tracks[0]);else if(n.length===0)e.tracks.length>0&&r.push(e.tracks[0]);else if(n.length===1&&n[0]===-1)for(let i of e.tracks)r.push(i);else for(let i of n)i>=0&&i<=e.tracks.length&&r.push(e.tracks[i]);this.internalRenderTracks(e,r)}renderTracks(e){if(e.length>0){let n=e[0].score;for(let r of e)if(r.score!==n){this.onError(new fs(hs.General,"All rendered tracks must belong to the same score."));return}this.internalRenderTracks(n,e)}}internalRenderTracks(e,n){if(yr.applyPitchOffsets(this.settings,e),e!==this.score){this.score=e,this.tracks=n,this._trackIndexes=[];for(let r of n)this._trackIndexes.push(r.index);this._trackIndexLookup=new Set(this._trackIndexes),this.onScoreLoaded(e),this.loadMidiForScore(),this.render()}else{this.tracks=n,this._trackIndexes=[];for(let r of n)this._trackIndexes.push(r.index);this._trackIndexLookup=new Set(this._trackIndexes),this.render()}}triggerResize(){if(!this.container.isVisible)Qe.warning("Rendering","AlphaTab container was invisible while autosizing, waiting for element to become visible",null),this.uiFacade.rootContainerBecameVisible.on(()=>{Qe.debug("Rendering","AlphaTab container became visible, doing autosizing",null),this.triggerResize()});else{let e=new m8;e.oldWidth=this.renderer.width,e.newWidth=this.container.width,e.settings=this.settings,this.onResize(e),this.renderer.updateSettings(this.settings),this.renderer.width=this.container.width,this.renderer.resizeRender()}}appendRenderResult(e){e?(this.canvasElement.width=e.totalWidth,this.canvasElement.height=e.totalHeight,this._cursorWrapper&&(this._cursorWrapper.width=e.totalWidth,this._cursorWrapper.height=e.totalHeight),(e.width>0||e.height>0)&&this.uiFacade.beginAppendRenderResults(e)):this.uiFacade.beginAppendRenderResults(e)}updateRenderResult(e){e&&e.renderResult&&this.uiFacade.beginUpdateRenderResults(e)}tex(e,n){try{let r=new Xs;r.logErrors=!0,r.initFromString(e,this.settings);let i=r.readScore();this.renderScore(i,n)}catch(r){this.onError(r)}}loadSoundFont(e,n=!1){return this.player?this.uiFacade.loadSoundFont(e,n):!1}resetSoundFonts(){this.player&&this.player.resetSoundFonts()}render(){this.renderer&&(this.uiFacade.canRender?(this.renderer.width=this.container.width,this.renderer.renderScore(this.score,this._trackIndexes)):this.uiFacade.canRenderChanged.on(()=>this.render()))}get tickCache(){return this._tickCache}get isReadyForPlayback(){return this.player?this.player.isReadyForPlayback:!1}get playerState(){return this.player?this.player.state:Ui.Paused}get masterVolume(){return this.player?this.player.masterVolume:0}set masterVolume(e){this.player&&(this.player.masterVolume=e)}get metronomeVolume(){return this.player?this.player.metronomeVolume:0}set metronomeVolume(e){this.player&&(this.player.metronomeVolume=e)}get countInVolume(){return this.player?this.player.countInVolume:0}set countInVolume(e){this.player&&(this.player.countInVolume=e)}get midiEventsPlayedFilter(){return this.player?this.player.midiEventsPlayedFilter:[]}set midiEventsPlayedFilter(e){this.player&&(this.player.midiEventsPlayedFilter=e)}get tickPosition(){return this.player?this.player.tickPosition:0}set tickPosition(e){this.player&&(this.player.tickPosition=e)}get timePosition(){return this.player?this.player.timePosition:0}set timePosition(e){this.player&&(this.player.timePosition=e)}get playbackRange(){return this.player?this.player.playbackRange:null}set playbackRange(e){this.player&&(this.player.playbackRange=e,this.settings.player.enableCursor&&this.updateSelectionCursor(e))}get playbackSpeed(){return this.player?this.player.playbackSpeed:0}set playbackSpeed(e){this.player&&(this.player.playbackSpeed=e)}get isLooping(){return this.player?this.player.isLooping:!1}set isLooping(e){this.player&&(this.player.isLooping=e)}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null,this._previousTick=0,this._playerState=Ui.Paused,this.destroyCursors())}setupPlayer(){this.updateCursors(),!this.player&&(this.player=this.uiFacade.createWorkerPlayer(),this.player&&(this.player.ready.on(()=>{this.loadMidiForScore()}),this.player.readyForPlayback.on(()=>{if(this.onPlayerReady(),this.tracks)for(let e of this.tracks){let n=e.playbackInfo.volume/16;this.player.setChannelVolume(e.playbackInfo.primaryChannel,n),this.player.setChannelVolume(e.playbackInfo.secondaryChannel,n)}}),this.player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this.player.soundFontLoadFailed.on(e=>{this.onError(e)}),this.player.midiLoaded.on(this.onMidiLoaded.bind(this)),this.player.midiLoadFailed.on(e=>{this.onError(e)}),this.player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this.player.positionChanged.on(this.onPlayerPositionChanged.bind(this)),this.player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this.player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this.player.finished.on(this.onPlayerFinished.bind(this)),this.setupPlayerEvents()))}loadMidiForScore(){if(!this.player||!this.score||!this.player.isReady)return;Qe.debug("AlphaTab","Generating Midi");let e=new Hh,n=new hu(e),r=new or(this.score,this.settings,n);r.applyTranspositionPitches=!1,r.generate(),this._tickCache=r.tickLookup,this.onMidiLoad(e),this.player.loadMidiFile(e),this.player.applyTranspositionPitches(r.transpositionPitches)}changeTrackVolume(e,n){if(this.player)for(let r of e)this.player.setChannelVolume(r.playbackInfo.primaryChannel,n),this.player.setChannelVolume(r.playbackInfo.secondaryChannel,n)}changeTrackSolo(e,n){if(this.player)for(let r of e)this.player.setChannelSolo(r.playbackInfo.primaryChannel,n),this.player.setChannelSolo(r.playbackInfo.secondaryChannel,n)}changeTrackMute(e,n){if(this.player)for(let r of e)this.player.setChannelMute(r.playbackInfo.primaryChannel,n),this.player.setChannelMute(r.playbackInfo.secondaryChannel,n)}changeTrackTranspositionPitch(e,n){if(this.player)for(let r of e)this.player.setChannelTranspositionPitch(r.playbackInfo.primaryChannel,n),this.player.setChannelTranspositionPitch(r.playbackInfo.secondaryChannel,n)}play(){return this.player?this.player.play():!1}pause(){this.player&&this.player.pause()}playPause(){this.player&&this.player.playPause()}stop(){this.player&&this.player.stop()}playBeat(e){if(!this.player)return;let n=new Hh,r=new hu(n);new or(e.voice.bar.staff.track.score,this.settings,r).generateSingleBeat(e),this.player.playOneTimeMidiFile(n)}playNote(e){if(!this.player)return;let n=new Hh,r=new hu(n);new or(e.beat.voice.bar.staff.track.score,this.settings,r).generateSingleNote(e),this.player.playOneTimeMidiFile(n)}destroyCursors(){this._cursorWrapper&&(this.uiFacade.destroyCursors(),this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null)}updateCursors(){if(this.settings.player.enableCursor&&!this._cursorWrapper){let e=this.uiFacade.createCursors();e&&(this._cursorWrapper=e.cursorWrapper,this._barCursor=e.barCursor,this._beatCursor=e.beatCursor,this._selectionWrapper=e.selectionWrapper),this._currentBeat!==null&&this.cursorUpdateBeat(this._currentBeat,!1,this._previousTick>10,!0)}else!this.settings.player.enableCursor&&this._cursorWrapper&&this.destroyCursors()}setupPlayerEvents(){this._previousTick=0,this._playerState=Ui.Paused,this.renderer.postRenderFinished.on(()=>{this._currentBeat=null,this.cursorUpdateTick(this._previousTick,!1,this._previousTick>10)}),this.player&&(this.player.positionChanged.on(e=>{this._previousTick=e.currentTick,this.uiFacade.beginInvoke(()=>{this.cursorUpdateTick(e.currentTick,!1)})}),this.player.stateChanged.on(e=>{if(this._playerState=e.state,!e.stopped&&e.state===Ui.Paused){let n=this._currentBeat,r=this._tickCache;n&&r&&(this.player.tickPosition=r.getBeatStart(n.beat))}}))}cursorUpdateTick(e,n,r=!1){let i=this._tickCache;if(i){let s=this._trackIndexLookup;if(s!=null&&s.size>0){let o=i.findBeat(s,e,this._currentBeat);o&&this.cursorUpdateBeat(o,n,r)}}}cursorUpdateBeat(e,n,r,i=!1){var p;const s=e.beat,o=((p=e.nextBeat)==null?void 0:p.beat)??null,a=e.duration,l=e.beatLookup.highlightedBeats;if(!s)return;let c=this.renderer.boundsLookup;if(!c)return;let u=this._currentBeat,d=this._previousCursorCache,h=this._previousStateForCursor;if(!i&&s===(u==null?void 0:u.beat)&&c===d&&h===this._playerState)return;let f=c.findBeat(s);f&&(this._currentBeat=e,this._previousCursorCache=c,this._previousStateForCursor=this._playerState,this.uiFacade.beginInvoke(()=>{this.internalCursorUpdateBeat(s,o,a,n,l,c,f,r)}))}scrollToCursor(){const e=this._currentBarBounds;e&&this.internalScrollToCursor(e)}internalScrollToCursor(e){let n=this.uiFacade.getScrollContainer(),r=qe.getLayoutEngineFactory(this.settings.display.layoutMode).vertical,i=this.settings.player.scrollMode;if(r){let s=e.realBounds.y+this.settings.player.scrollOffsetY;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case td.Continuous:let o=this.uiFacade.getOffset(n,this.container);this.uiFacade.scrollToY(n,o.y+s,this.settings.player.scrollSpeed);break;case td.OffScreen:let a=n.scrollTop+this.uiFacade.getOffset(null,n).h;if(e.visualBounds.y+e.visualBounds.h>=a||e.visualBounds.y<n.scrollTop){let l=e.realBounds.y+this.settings.player.scrollOffsetY;this.uiFacade.scrollToY(n,l,this.settings.player.scrollSpeed)}break}}else{let s=e.visualBounds.x;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case td.Continuous:let o=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(n,o,this.settings.player.scrollSpeed);break;case td.OffScreen:let a=n.scrollLeft+this.uiFacade.getOffset(null,n).w;if(e.visualBounds.x+e.visualBounds.w>=a||e.visualBounds.x<n.scrollLeft){let l=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(n,l,this.settings.player.scrollSpeed)}break}}}internalCursorUpdateBeat(e,n,r,i,s,o,a,l){const c=this._barCursor,u=this._beatCursor;let d=a.barBounds.masterBarBounds,h=d.visualBounds;this._currentBarBounds=d,c&&c.setBounds(h.x,h.y,h.w,h.h),u&&(this.settings.player.enableAnimatedBeatCursor&&u.stopAnimation(),u.setBounds(a.visualBounds.x,h.y,1,h.h)),this.settings.player.enableElementHighlighting&&this.uiFacade.removeHighlights();let f=!1;if(this._playerState===Ui.Playing&&!i){if(this.settings.player.enableElementHighlighting)for(let p of s){let m=Xa.getGroupId(p.beat);this.uiFacade.highlightElements(m,e.voice.bar.index)}if(this.settings.player.enableAnimatedBeatCursor){let p=d.visualBounds.x+d.visualBounds.w;if(n){let m=o.findBeat(n);m&&m.barBounds.masterBarBounds.staffSystemBounds===d.staffSystemBounds&&(p=m.visualBounds.x)}this.uiFacade.beginInvoke(()=>{u&&u.transitionToX(r/this.playbackSpeed,p)})}l=!i,f=!0}l&&!this._beatMouseDown&&this.settings.player.scrollMode!==td.Off&&this.internalScrollToCursor(d),f&&(this.onPlayedBeatChanged(e),this.onActiveBeatsChanged(new l5e(s.map(p=>p.beat))))}onPlayedBeatChanged(e){this._isDestroyed||(this.playedBeatChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playedBeatChanged",e))}onActiveBeatsChanged(e){this._isDestroyed||(this.activeBeatsChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"activeBeatsChanged",e))}onBeatMouseDown(e,n){this._isDestroyed||(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction&&(this._selectionStart=new Dx(n),this._selectionEnd=null),this._beatMouseDown=!0,this.beatMouseDown.trigger(n),this.uiFacade.triggerEvent(this.container,"beatMouseDown",n,e))}onNoteMouseDown(e,n){this._isDestroyed||(this._noteMouseDown=!0,this.noteMouseDown.trigger(n),this.uiFacade.triggerEvent(this.container,"noteMouseDown",n,e))}onBeatMouseMove(e,n){this._isDestroyed||(this.settings.player.enableUserInteraction&&(!this._selectionEnd||this._selectionEnd.beat!==n)&&(this._selectionEnd=new Dx(n),this.cursorSelectRange(this._selectionStart,this._selectionEnd)),this.beatMouseMove.trigger(n),this.uiFacade.triggerEvent(this.container,"beatMouseMove",n,e))}onNoteMouseMove(e,n){this._isDestroyed||(this.noteMouseMove.trigger(n),this.uiFacade.triggerEvent(this.container,"noteMouseMove",n,e))}onBeatMouseUp(e,n){var r,i;if(!this._isDestroyed){if(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction){if(this._selectionEnd){let s=((r=this._tickCache)==null?void 0:r.getBeatStart(this._selectionStart.beat))??this._selectionStart.beat.absolutePlaybackStart;if((((i=this._tickCache)==null?void 0:i.getBeatStart(this._selectionEnd.beat))??this._selectionEnd.beat.absolutePlaybackStart)<s){let a=this._selectionStart;this._selectionStart=this._selectionEnd,this._selectionEnd=a}}if(this._selectionStart&&this._tickCache){let s=this._tickCache,o=s.getMasterBarStart(this._selectionStart.beat.voice.bar.masterBar);if(this._currentBeat=null,this._playerState===Ui.Paused&&this.cursorUpdateTick(this._tickCache.getBeatStart(this._selectionStart.beat),!1),this.tickPosition=o+this._selectionStart.beat.playbackStart,this._selectionEnd&&this._selectionStart.beat!==this._selectionEnd.beat){let a=s.getMasterBarStart(this._selectionEnd.beat.voice.bar.masterBar),l=new a5e;l.startTick=o+this._selectionStart.beat.playbackStart,l.endTick=a+this._selectionEnd.beat.playbackStart+this._selectionEnd.beat.playbackDuration-50,this.playbackRange=l}else this._selectionStart=null,this.playbackRange=null,this.cursorSelectRange(this._selectionStart,this._selectionEnd)}}this.beatMouseUp.trigger(n),this.uiFacade.triggerEvent(this.container,"beatMouseUp",n,e),this._beatMouseDown=!1}}onNoteMouseUp(e,n){this._isDestroyed||(this.noteMouseUp.trigger(n),this.uiFacade.triggerEvent(this.container,"noteMouseUp",n,e),this._noteMouseDown=!1)}updateSelectionCursor(e){if(this._tickCache)if(e){const n=this._tickCache.findBeat(this._trackIndexLookup,e.startTick),r=this._tickCache.findBeat(this._trackIndexLookup,e.endTick);if(n&&r){const i=new Dx(n.beat),s=new Dx(r.beat);this.cursorSelectRange(i,s)}}else this.cursorSelectRange(null,null)}setupClickHandling(){this.canvasElement.mouseDown.on(e=>{var s,o;if(!e.isLeftMouseButton)return;this.settings.player.enableUserInteraction&&e.preventDefault();let n=e.getX(this.canvasElement),r=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(n,r))??null;if(i&&(this.onBeatMouseDown(e,i),this.settings.core.includeNoteBounds)){const a=(o=this.renderer.boundsLookup)==null?void 0:o.getNoteAtPos(i,n,r);a&&this.onNoteMouseDown(e,a)}}),this.canvasElement.mouseMove.on(e=>{var s,o;if(!this._beatMouseDown)return;let n=e.getX(this.canvasElement),r=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(n,r))??null;if(i&&(this.onBeatMouseMove(e,i),this._noteMouseDown)){const a=(o=this.renderer.boundsLookup)==null?void 0:o.getNoteAtPos(i,n,r);a&&this.onNoteMouseMove(e,a)}}),this.canvasElement.mouseUp.on(e=>{var s,o;if(!this._beatMouseDown)return;this.settings.player.enableUserInteraction&&e.preventDefault();let n=e.getX(this.canvasElement),r=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(n,r))??null;if(this.onBeatMouseUp(e,i),this._noteMouseDown)if(i){const a=((o=this.renderer.boundsLookup)==null?void 0:o.getNoteAtPos(i,n,r))??null;this.onNoteMouseUp(e,a)}else this.onNoteMouseUp(e,null)}),this.renderer.postRenderFinished.on(()=>{!this._selectionStart||!this.settings.player.enablePlayer||!this.settings.player.enableCursor||!this.settings.player.enableUserInteraction||this.cursorSelectRange(this._selectionStart,this._selectionEnd)})}cursorSelectRange(e,n){var c,u;let r=this.renderer.boundsLookup;if(!r)return;let i=this._selectionWrapper;if(!i||(i.clear(),!e||!n||e.beat===n.beat))return;e.bounds||(e.bounds=r.findBeat(e.beat)),n.bounds||(n.bounds=r.findBeat(n.beat));let s=((c=this._tickCache)==null?void 0:c.getBeatStart(e.beat))??e.beat.absolutePlaybackStart;if((((u=this._tickCache)==null?void 0:u.getBeatStart(n.beat))??n.beat.absolutePlaybackStart)<s){let d=e;e=n,n=d}let a=e.bounds.realBounds.x,l=n.bounds.realBounds.x+n.bounds.realBounds.w;if(n.beat.index===n.beat.voice.beats.length-1&&(l=n.bounds.barBounds.masterBarBounds.realBounds.x+n.bounds.barBounds.masterBarBounds.realBounds.w),e.bounds.barBounds.masterBarBounds.staffSystemBounds!==n.bounds.barBounds.masterBarBounds.staffSystemBounds){let d=e.bounds.barBounds.masterBarBounds.staffSystemBounds.visualBounds.x,h=e.bounds.barBounds.masterBarBounds.staffSystemBounds.visualBounds.x+e.bounds.barBounds.masterBarBounds.staffSystemBounds.visualBounds.w,f=this.uiFacade.createSelectionElement();f.setBounds(a,e.bounds.barBounds.masterBarBounds.visualBounds.y,h-a,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(f);let p=e.bounds.barBounds.masterBarBounds.staffSystemBounds.index+1,m=n.bounds.barBounds.masterBarBounds.staffSystemBounds.index;for(let S=p;S<m;S++){let w=r.staffSystems[S],v=this.uiFacade.createSelectionElement();v.setBounds(d,w.visualBounds.y,h-d,w.visualBounds.h),i.appendChild(v)}let y=this.uiFacade.createSelectionElement();y.setBounds(d,n.bounds.barBounds.masterBarBounds.visualBounds.y,l-d,n.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(y)}else{let d=this.uiFacade.createSelectionElement();d.setBounds(a,e.bounds.barBounds.masterBarBounds.visualBounds.y,l-a,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(d)}}onScoreLoaded(e){this._isDestroyed||(this.scoreLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"scoreLoaded",e))}onResize(e){this._isDestroyed||(this.resize.trigger(e),this.uiFacade.triggerEvent(this.container,"resize",e))}onRenderStarted(e){this._isDestroyed||(this.renderStarted.trigger(e),this.uiFacade.triggerEvent(this.container,"renderStarted",e))}onRenderFinished(e){this._isDestroyed||(this.renderFinished.trigger(e),this.uiFacade.triggerEvent(this.container,"renderFinished",e))}onPostRenderFinished(){this._isDestroyed||(this.postRenderFinished.trigger(),this.uiFacade.triggerEvent(this.container,"postRenderFinished",null))}onError(e){this._isDestroyed||(Qe.error("API","An unexpected error occurred",e),this.error.trigger(e),this.uiFacade.triggerEvent(this.container,"error",e))}onPlayerReady(){this._isDestroyed||(this.playerReady.trigger(),this.uiFacade.triggerEvent(this.container,"playerReady",null))}onPlayerFinished(){this._isDestroyed||(this.playerFinished.trigger(),this.uiFacade.triggerEvent(this.container,"playerFinished",null))}onSoundFontLoaded(){this._isDestroyed||(this.soundFontLoaded.trigger(),this.uiFacade.triggerEvent(this.container,"soundFontLoaded",null))}onMidiLoad(e){this._isDestroyed||(this.midiLoad.trigger(e),this.uiFacade.triggerEvent(this.container,"midiLoad",e))}onMidiLoaded(e){this._isDestroyed||(this.midiLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"midiFileLoaded",e))}onPlayerStateChanged(e){this._isDestroyed||(this.playerStateChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerStateChanged",e))}onPlayerPositionChanged(e){this._isDestroyed||this.score!==null&&this.tracks.length>0&&(this.playerPositionChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerPositionChanged",e))}onMidiEventsPlayed(e){this._isDestroyed||(this.midiEventsPlayed.trigger(e),this.uiFacade.triggerEvent(this.container,"midiEventsPlayed",e))}onPlaybackRangeChanged(e){this._isDestroyed||(this.playbackRangeChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playbackRangeChanged",e))}onSettingsUpdated(){this._isDestroyed||(this.settingsUpdated.trigger(),this.uiFacade.triggerEvent(this.container,"settingsUpdated",null))}}class Qu extends fs{constructor(e,n){super(hs.General,e),this.xhr=n,Object.setPrototypeOf(this,Qu.prototype)}}class vg{static loadScoreAsync(e,n,r,i){let s=new XMLHttpRequest;s.open("GET",e,!0,null,null),s.responseType="arraybuffer",s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){let o=s.response;if(s.status===200||s.status===0&&o)try{let a=s.response,l=new Uint8Array(a),c=vg.loadScoreFromBytes(l,i);n(c)}catch(a){r(a)}else s.status===0?r(new Qu(`You are offline!!
 Please Check Your Network.`,s)):s.status===404?r(new Qu("Requested URL not found.",s)):s.status===500?r(new Qu("Internel Server Error.",s)):s.statusText==="parsererror"?r(new Qu(`Error.
Parsing JSON Request failed.`,s)):s.statusText==="timeout"?r(new Qu("Request Time out.",s)):r(new Qu("Unknow Error: "+s.responseText,s))}},s.send()}static loadScoreFromBytes(e,n){n||(n=new Mp);let r=qe.buildImporters();Qe.debug("ScoreLoader",`Loading score from ${e.length} bytes using ${r.length} importers`);let i=null,s=ds.fromBuffer(e);for(let o of r){s.reset();try{Qe.debug("ScoreLoader","Importing using importer "+o.name),o.init(s,n),i=o.readScore(),Qe.debug("ScoreLoader","Score imported using "+o.name);break}catch(a){if(a instanceof Wr)Qe.debug("ScoreLoader",o.name+" does not support the file");else throw Qe.error("ScoreLoader","Score import failed due to unexpected error: ",a),a}}if(i)return i;throw new Wr("No compatible importer found for file")}}class w3{get isLeftMouseButton(){return this.mouseEvent.button===0}getX(e){let n=e.element,i=n.getBoundingClientRect().left+n.ownerDocument.defaultView.pageXOffset;return this.mouseEvent.pageX-i}getY(e){let n=e.element,i=n.getBoundingClientRect().top+n.ownerDocument.defaultView.pageYOffset;return this.mouseEvent.pageY-i}preventDefault(){this.mouseEvent.preventDefault()}constructor(e){this.mouseEvent=e}}class fu{get width(){return this.element.offsetWidth}set width(e){this.element.style.width=e+"px"}get scrollLeft(){return this.element.scrollLeft}set scrollLeft(e){this.element.scrollTop=e}get scrollTop(){return this.element.scrollLeft}set scrollTop(e){this.element.scrollTop=e}get height(){return this.element.offsetHeight}set height(e){e>=0?this.element.style.height=e+"px":this.element.style.height="100%"}get isVisible(){return!!this.element.offsetWidth||!!this.element.offsetHeight||!!this.element.getClientRects().length}constructor(e){this._resizeListeners=0,this.lastBounds=new po,this.element=e,this.mouseDown={on:n=>{this.element.addEventListener("mousedown",r=>{n(new w3(r))},!0)},off:n=>{}},this.mouseUp={on:n=>{this.element.addEventListener("mouseup",r=>{n(new w3(r))},!0)},off:n=>{}},this.mouseMove={on:n=>{this.element.addEventListener("mousemove",r=>{n(new w3(r))},!0)},off:n=>{}},this.resize={on:n=>{this._resizeListeners===0&&fu.resizeObserver.value.observe(this.element),this.element.addEventListener("resize",n,!0),this._resizeListeners++},off:n=>{this.element.removeEventListener("resize",n,!0),this._resizeListeners--,this._resizeListeners<=0&&(this._resizeListeners=0,fu.resizeObserver.value.unobserve(this.element))}}}stopAnimation(){this.element.style.transition="none"}transitionToX(e,n){this.element.style.transition=`transform ${e}ms linear`,this.setBounds(n,NaN,NaN,NaN)}setBounds(e,n,r,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(n)&&(n=this.lastBounds.y),isNaN(r)&&(r=this.lastBounds.w),isNaN(i)&&(i=this.lastBounds.h),this.element.style.transform=`translate(${e}px, ${n}px) scale(${r}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=n,this.lastBounds.w=r,this.lastBounds.h=i}appendChild(e){this.element.appendChild(e.element)}clear(){this.element.innerHTML=""}}fu.resizeObserver=new Vj(()=>new ResizeObserver(t=>{for(const e of t){let n=new CustomEvent("resize",{detail:e});e.target.dispatchEvent(n)}}));class yY{constructor(e){this._isStarted=!1,this.isFontLoaded=!1,this.fontLoaded=new Dn,this._originalFamilies=e,this._families=e}checkForFontAvailability(){if(qe.isRunningInWorker){this.isFontLoaded=!1;return}if(this._isStarted)return;this._isStarted=!0;let e=0,n=window.setInterval(()=>{Qe.warning("Rendering",`Could not load font '${this._families[0]}' within ${(e+1)*5} seconds`,null),this._families.length>1?(this._families.shift(),e=0):e++},5e3);Qe.debug("Font",`Start checking for font availablility: ${this._families.join(", ")}`);let r=o=>{this._families.length>1?(Qe.debug("Font",`[${this._families[0]}] Loading Failed, switching to ${this._families[1]}`,o),this._families.shift(),window.setTimeout(()=>{s()},0)):(Qe.error("Font",`[${this._originalFamilies.join(",")}] Loading Failed, rendering cannot start`,o),window.clearInterval(n))},i=o=>{Qe.debug("Font",`[${o}] Font API signaled available`),this.isFontLoaded=!0,window.clearInterval(n),this.fontLoaded.trigger(this._families[0])},s=async()=>{for(const o of this._families)if(await this.isFontAvailable(o,!1)){i(o);return}try{await document.fonts.load(`1em ${this._families[0]}`)}catch(o){r(o)}return Qe.debug("Font",`[${this._families[0]}] Font API signaled loaded`),await this.isFontAvailable(this._families[0],!0)?i(this._families[0]):r("Font not available"),!0};document.fonts.ready.then(()=>{s()})}isFontAvailable(e,n){return new Promise(r=>{const i="1em "+e;if(document.fonts.check(i))r(!0);else if(n){Qe.debug("Font",`Font ${e} not available, creating test element to trigger load`);const s=document.createElement("div");s.style.font=i,s.style.opacity="0",s.style.position="absolute",s.style.top="0",s.style.left="0",s.innerText=`Trigger ${e} load`,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.fonts.check(i)?r(!0):r(!1)},200)}else r(!1)})}}class bY{constructor(e){this._writePosition=0,this._readPosition=0,this.count=0,this._buffer=new Float32Array(e)}clear(){this._readPosition=0,this._writePosition=0,this.count=0,this._buffer=new Float32Array(this._buffer.length)}write(e,n,r){let i=0;r>this._buffer.length-this.count&&(r=this._buffer.length-this.count);const s=Math.min(this._buffer.length-this._writePosition,r);return this._buffer.set(e.subarray(n,n+s),this._writePosition),this._writePosition+=s,this._writePosition%=this._buffer.length,i+=s,i<r&&(this._buffer.set(e.subarray(n+i,n+i+r-i),this._writePosition),this._writePosition+=r-i,i=r),this.count+=i,i}read(e,n,r){r>this.count&&(r=this.count);let i=0;const s=Math.min(this._buffer.length-this._readPosition,r);return e.set(this._buffer.subarray(this._readPosition,this._readPosition+s),n),i+=s,this._readPosition+=s,this._readPosition%=this._buffer.length,i<r&&(e.set(this._buffer.subarray(this._readPosition,this._readPosition+r-i),n+i),this._readPosition+=r-i,i=r),this.count-=i,i}}class Nl{constructor(){this._context=null,this._buffer=null,this._source=null,this.ready=new Ki,this.samplesPlayed=new Dn,this.sampleRequest=new Ki}get sampleRate(){return this._context?this._context.sampleRate:Nl.PreferredSampleRate}activate(e){this._context||(this._context=this.createAudioContext()),(this._context.state==="suspended"||this._context.state==="interrupted")&&(Qe.debug("WebAudio","Audio Context is suspended, trying resume"),this._context.resume().then(()=>{var n,r;Qe.debug("WebAudio",`Audio Context resume success: state=${(n=this._context)==null?void 0:n.state}, sampleRate:${(r=this._context)==null?void 0:r.sampleRate}`),e&&e()},n=>{var r,i;Qe.warning("WebAudio",`Audio Context resume failed: state=${(r=this._context)==null?void 0:r.state}, sampleRate:${(i=this._context)==null?void 0:i.sampleRate}, reason=${n}`)}))}patchIosSampleRate(){let e=navigator.userAgent;if(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1){let n=this.createAudioContext(),r=n.createBuffer(1,1,Nl.PreferredSampleRate),i=n.createBufferSource();i.buffer=r,i.connect(n.destination),i.start(0),i.disconnect(0),n.close()}}createAudioContext(){if("AudioContext"in qe.globalThis)return new AudioContext;if("webkitAudioContext"in qe.globalThis)return new webkitAudioContext;throw new fs(hs.General,"AudioContext not found")}open(e){this.patchIosSampleRate(),this._context=this.createAudioContext(),this._context.state==="suspended"&&this.registerResumeHandler()}registerResumeHandler(){this._resumeHandler=(()=>{this.activate(()=>{this.unregisterResumeHandler()})}).bind(this),document.body.addEventListener("touchend",this._resumeHandler,!1),document.body.addEventListener("click",this._resumeHandler,!1)}unregisterResumeHandler(){const e=this._resumeHandler;e&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}play(){let e=this._context;this.activate(),this._buffer=e.createBuffer(2,Nl.BufferSize,e.sampleRate),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0}pause(){this._source&&(this._source.stop(0),this._source.disconnect()),this._source=null}destroy(){var e;this.pause(),(e=this._context)==null||e.close(),this._context=null,this.unregisterResumeHandler()}onSamplesPlayed(e){this.samplesPlayed.trigger(e)}onSampleRequest(){this.sampleRequest.trigger()}onReady(){this.ready.trigger()}}Nl.BufferSize=4096;Nl.PreferredSampleRate=44100;class u5e extends Nl{constructor(){super(...arguments),this._audioNode=null,this._bufferCount=0,this._requestedBufferCount=0,this._outputBuffer=new Float32Array(0)}open(e){super.open(e),this._bufferCount=Math.floor(e*this.sampleRate/1e3/Nl.BufferSize),this._circularBuffer=new bY(Nl.BufferSize*this._bufferCount),this.onReady()}play(){super.play();let e=this._context;this._audioNode=e.createScriptProcessor(4096,0,2),this._audioNode.onaudioprocess=this.generateSound.bind(this),this._circularBuffer.clear(),this.requestBuffers(),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.connect(this._audioNode,0,0),this._source.start(0),this._audioNode.connect(e.destination,0,0)}pause(){super.pause(),this._audioNode&&this._audioNode.disconnect(0),this._audioNode=null}addSamples(e){this._circularBuffer.write(e,0,e.length),this._requestedBufferCount--}resetSamples(){this._circularBuffer.clear()}requestBuffers(){const e=this._bufferCount/2|0;let n=e*Nl.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*Nl.BufferSize<n){for(let i=0;i<e;i++)this.onSampleRequest();this._requestedBufferCount+=e}}generateSound(e){let n=e.outputBuffer.getChannelData(0),r=e.outputBuffer.getChannelData(1),i=n.length+r.length,s=this._outputBuffer;s.length!==i&&(s=new Float32Array(i),this._outputBuffer=s);const o=this._circularBuffer.read(s,0,Math.min(s.length,this._circularBuffer.count));let a=0;const l=Math.min(n.length,o);for(let c=0;c<l;c++)n[c]=s[a++],r[c]=s[a++];if(o<n.length)for(let c=o;c<n.length;c++)n[c]=0,r[c]=0;this.onSamplesPlayed(o/gn.AudioChannels),this.requestBuffers()}}class d5e{constructor(e,n){this.loaded=e,this.total=n}}class y8{get isReady(){return this._workerIsReady&&this._outputIsReady}get isReadyForPlayback(){return this._workerIsReadyForPlayback}get state(){return this._state}get logLevel(){return Qe.logLevel}set logLevel(e){Qe.logLevel=e,this._synth.postMessage({cmd:"alphaSynth.setLogLevel",value:e})}get masterVolume(){return this._masterVolume}set masterVolume(e){e=Math.max(e,gn.MinVolume),this._masterVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMasterVolume",value:e})}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,gn.MinVolume),this._metronomeVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMetronomeVolume",value:e})}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,gn.MinVolume),this._countInVolume=e,this._synth.postMessage({cmd:"alphaSynth.setCountInVolume",value:e})}get midiEventsPlayedFilter(){return this._midiEventsPlayedFilter}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=e,this._synth.postMessage({cmd:"alphaSynth.setMidiEventsPlayedFilter",value:e})}get playbackSpeed(){return this._playbackSpeed}set playbackSpeed(e){e=mi.clamp(e,gn.MinPlaybackSpeed,gn.MaxPlaybackSpeed),this._playbackSpeed=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackSpeed",value:e})}get tickPosition(){return this._tickPosition}set tickPosition(e){e<0&&(e=0),this._tickPosition=e,this._synth.postMessage({cmd:"alphaSynth.setTickPosition",value:e})}get timePosition(){return this._timePosition}set timePosition(e){e<0&&(e=0),this._timePosition=e,this._synth.postMessage({cmd:"alphaSynth.setTimePosition",value:e})}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this._synth.postMessage({cmd:"alphaSynth.setIsLooping",value:e})}get playbackRange(){return this._playbackRange}set playbackRange(e){e&&(e.startTick<0&&(e.startTick=0),e.endTick<0&&(e.endTick=0)),this._playbackRange=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackRange",value:e})}constructor(e,n){this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=Ui.Paused,this._masterVolume=0,this._metronomeVolume=0,this._countInVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._midiEventsPlayedFilter=[],this.ready=new Ki,this.readyForPlayback=new Ki,this.finished=new Ki,this.soundFontLoaded=new Ki,this.soundFontLoadFailed=new Dn,this.midiLoaded=new Dn,this.midiLoadFailed=new Dn,this.stateChanged=new Dn,this.positionChanged=new Dn,this.midiEventsPlayed=new Dn,this.playbackRangeChanged=new Dn,this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=Ui.Paused,this._masterVolume=0,this._metronomeVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._output=e,this._output.ready.on(this.onOutputReady.bind(this)),this._output.samplesPlayed.on(this.onOutputSamplesPlayed.bind(this)),this._output.sampleRequest.on(this.onOutputSampleRequest.bind(this)),this._output.open(n.player.bufferTimeInMilliseconds);try{this._synth=qe.createWebWorker(n)}catch(r){Qe.error("AlphaSynth","Failed to create WebWorker: "+r)}this._synth.addEventListener("message",this.handleWorkerMessage.bind(this),!1),this._synth.postMessage({cmd:"alphaSynth.initialize",sampleRate:this._output.sampleRate,logLevel:n.core.logLevel,bufferTimeInMilliseconds:n.player.bufferTimeInMilliseconds}),this.masterVolume=1,this.playbackSpeed=1,this.metronomeVolume=0}destroy(){this._synth.postMessage({cmd:"alphaSynth.destroy"})}play(){return this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.play"}),!0}pause(){this._synth.postMessage({cmd:"alphaSynth.pause"})}playPause(){this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.playPause"})}stop(){this._synth.postMessage({cmd:"alphaSynth.stop"})}playOneTimeMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.playOneTimeMidiFile",midi:Ti.midiFileToJsObject(e)})}loadSoundFont(e,n){this._synth.postMessage({cmd:"alphaSynth.loadSoundFontBytes",data:e,append:n})}loadSoundFontFromUrl(e,n,r){Qe.debug("AlphaSynth",`Start loading Soundfont from url ${e}`);let i=new XMLHttpRequest;i.open("GET",e,!0,null,null),i.responseType="arraybuffer",i.onload=s=>{let o=new Uint8Array(i.response);this.loadSoundFont(o,n)},i.onerror=s=>{Qe.error("AlphaSynth","Loading failed: "+s.message),this.soundFontLoadFailed.trigger(new Qu(s.message,i))},i.onprogress=s=>{Qe.debug("AlphaSynth",`Soundfont downloading: ${s.loaded}/${s.total} bytes`),r(new d5e(s.loaded,s.total))},i.send()}resetSoundFonts(){this._synth.postMessage({cmd:"alphaSynth.resetSoundFonts"})}loadMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.loadMidi",midi:Ti.midiFileToJsObject(e)})}applyTranspositionPitches(e){this._synth.postMessage({cmd:"alphaSynth.applyTranspositionPitches",transpositionPitches:JSON.stringify(Array.from(e.entries()))})}setChannelTranspositionPitch(e,n){this._synth.postMessage({cmd:"alphaSynth.setChannelTranspositionPitch",channel:e,semitones:n})}setChannelMute(e,n){this._synth.postMessage({cmd:"alphaSynth.setChannelMute",channel:e,mute:n})}resetChannelStates(){this._synth.postMessage({cmd:"alphaSynth.resetChannelStates"})}setChannelSolo(e,n){this._synth.postMessage({cmd:"alphaSynth.setChannelSolo",channel:e,solo:n})}setChannelVolume(e,n){n=Math.max(n,gn.MinVolume),this._synth.postMessage({cmd:"alphaSynth.setChannelVolume",channel:e,volume:n})}handleWorkerMessage(e){let n=e.data;switch(n.cmd){case"alphaSynth.ready":this._workerIsReady=!0,this.checkReady();break;case"alphaSynth.destroyed":this._synth.terminate();break;case"alphaSynth.readyForPlayback":this._workerIsReadyForPlayback=!0,this.checkReadyForPlayback();break;case"alphaSynth.positionChanged":this._timePosition=n.currentTime,this._tickPosition=n.currentTick,this.positionChanged.trigger(new V2(n.currentTime,n.endTime,n.currentTick,n.endTick,n.isSeek));break;case"alphaSynth.midiEventsPlayed":this.midiEventsPlayed.trigger(new cY(n.events.map(Ti.jsObjectToMidiEvent)));break;case"alphaSynth.playerStateChanged":this._state=n.state,this.stateChanged.trigger(new BS(n.state,n.stopped));break;case"alphaSynth.playbackRangeChanged":this._playbackRange=n.playbackRange,this.playbackRangeChanged.trigger(new uY(this._playbackRange));break;case"alphaSynth.finished":this.finished.trigger();break;case"alphaSynth.soundFontLoaded":this.soundFontLoaded.trigger();break;case"alphaSynth.soundFontLoadFailed":this.soundFontLoadFailed.trigger(n.error);break;case"alphaSynth.midiLoaded":this.checkReadyForPlayback(),this.midiLoaded.trigger(new V2(n.currentTime,n.endTime,n.currentTick,n.endTick,n.isSeek));break;case"alphaSynth.midiLoadFailed":this.checkReadyForPlayback(),this.midiLoadFailed.trigger(n.error);break;case"alphaSynth.output.addSamples":this._output.addSamples(n.samples);break;case"alphaSynth.output.play":this._output.play();break;case"alphaSynth.output.pause":this._output.pause();break;case"alphaSynth.output.destroy":this._output.destroy();break;case"alphaSynth.output.resetSamples":this._output.resetSamples();break}}checkReady(){this.isReady&&this.ready.trigger()}checkReadyForPlayback(){this.isReadyForPlayback&&this.readyForPlayback.trigger()}onOutputSampleRequest(){this._synth.postMessage({cmd:"alphaSynth.output.sampleRequest"})}onOutputSamplesPlayed(e){this._synth.postMessage({cmd:"alphaSynth.output.samplesPlayed",samples:e})}onOutputReady(){this._outputIsReady=!0,this.checkReady()}}class h5e{constructor(e,n){this._width=0,this.boundsLookup=null,this.preRender=new Dn,this.partialRenderFinished=new Dn,this.partialLayoutFinished=new Dn,this.renderFinished=new Dn,this.postRenderFinished=new Ki,this.error=new Dn,this._api=e;try{this._worker=qe.createWebWorker(n)}catch(r){Qe.error("Rendering",`Failed to create WebWorker: ${r}`);return}this._worker.postMessage({cmd:"alphaTab.initialize",settings:this.serializeSettingsForWorker(n)}),this._worker.addEventListener("message",this.handleWorkerMessage.bind(this))}destroy(){this._worker.terminate()}updateSettings(e){this._worker.postMessage({cmd:"alphaTab.updateSettings",settings:this.serializeSettingsForWorker(e)})}serializeSettingsForWorker(e){const n=Ti.settingsToJsObject(e);return n.delete("player"),n}render(){this._worker.postMessage({cmd:"alphaTab.render"})}resizeRender(){this._worker.postMessage({cmd:"alphaTab.resizeRender"})}renderResult(e){this._worker.postMessage({cmd:"alphaTab.renderResult",resultId:e})}get width(){return this._width}set width(e){this._width=e,this._worker.postMessage({cmd:"alphaTab.setWidth",width:e})}handleWorkerMessage(e){let n=e.data;switch(n.cmd){case"alphaTab.preRender":this.preRender.trigger(n.resize);break;case"alphaTab.partialRenderFinished":this.partialRenderFinished.trigger(n.result);break;case"alphaTab.partialLayoutFinished":this.partialLayoutFinished.trigger(n.result);break;case"alphaTab.renderFinished":this.renderFinished.trigger(n.result);break;case"alphaTab.postRenderFinished":this.boundsLookup=Ob.fromJson(n.boundsLookup,this._api.score),this.boundsLookup.finish(),this.postRenderFinished.trigger();break;case"alphaTab.error":this.error.trigger(n.error);break}}renderScore(e,n){let r=e==null?null:Ti.scoreToJsObject(e);this._worker.postMessage({cmd:"alphaTab.renderScore",score:r,trackIndexes:n,fontSizes:Qs.FontSizeLookupTables})}}class f5e{constructor(e,n,r,i){this.cursorWrapper=e,this.barCursor=n,this.beatCursor=r,this.selectionWrapper=i}}class $b{static init(){var e;$b._isRegistered||($b._isRegistered=!0,registerProcessor("alphatab",(e=class extends AudioWorkletProcessor{constructor(r){super(r),this._outputBuffer=new Float32Array(0),this._bufferCount=0,this._requestedBufferCount=0,this._isStopped=!1,Qe.debug("WebAudio","creating processor"),this._bufferCount=Math.floor(r.processorOptions.bufferTimeInMilliseconds*sampleRate/1e3/e.BufferSize),this._circularBuffer=new bY(e.BufferSize*this._bufferCount),this.port.onmessage=this.handleMessage.bind(this)}handleMessage(r){let i=r.data;switch(i.cmd){case Er.CmdOutputAddSamples:const o=i.samples;this._circularBuffer.write(o,0,o.length),this._requestedBufferCount--;break;case Er.CmdOutputResetSamples:this._circularBuffer.clear();break;case Er.CmdOutputStop:this._isStopped=!0;break}}process(r,i,s){if(i.length!==1&&i[0].length!==2)return!1;let o=i[0][0],a=i[0][1];if(!o||!a)return!0;let l=o.length+a.length,c=this._outputBuffer;c.length!==l&&(c=new Float32Array(l),this._outputBuffer=c);const u=this._circularBuffer.read(c,0,Math.min(c.length,this._circularBuffer.count));let d=0;const h=Math.min(o.length,u);for(let f=0;f<h;f++)o[f]=c[d++],a[f]=c[d++];if(u<o.length)for(let f=u;f<o.length;f++)o[f]=0,a[f]=0;return this.port.postMessage({cmd:Er.CmdOutputSamplesPlayed,samples:u/gn.AudioChannels}),this.requestBuffers(),this._circularBuffer.count>0||!this._isStopped}requestBuffers(){const r=this._bufferCount/2|0;let i=r*e.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*e.BufferSize<i){for(let o=0;o<r;o++)this.port.postMessage({cmd:Er.CmdOutputSampleRequest});this._requestedBufferCount+=r}}},e.BufferSize=4096,e)))}}$b._isRegistered=!1;class p5e extends Nl{constructor(e){super(),this._worklet=null,this._bufferTimeInMilliseconds=0,this._settings=e}open(e){super.open(e),this._bufferTimeInMilliseconds=e,this.onReady()}play(){super.play();let e=this._context;qe.createAudioWorklet(e,this._settings).then(()=>{this._worklet=new AudioWorkletNode(e,"alphatab",{numberOfOutputs:1,outputChannelCount:[2],processorOptions:{bufferTimeInMilliseconds:this._bufferTimeInMilliseconds}}),this._worklet.port.onmessage=this.handleMessage.bind(this),this._source.connect(this._worklet),this._source.start(0),this._worklet.connect(e.destination)},n=>{Qe.error("WebAudio",`Audio Worklet creation failed: reason=${n}`)})}handleMessage(e){let n=e.data;switch(n.cmd){case Er.CmdOutputSamplesPlayed:this.onSamplesPlayed(n.samples);break;case Er.CmdOutputSampleRequest:this.onSampleRequest();break}}pause(){super.pause(),this._worklet&&(this._worklet.port.postMessage({cmd:Er.CmdOutputStop}),this._worklet.port.onmessage=null,this._worklet.disconnect()),this._worklet=null}addSamples(e){var n;(n=this._worklet)==null||n.port.postMessage({cmd:Er.CmdOutputAddSamples,samples:e})}resetSamples(){var e;(e=this._worklet)==null||e.port.postMessage({cmd:Er.CmdOutputResetSamples})}}class g5e extends fu{constructor(e,n,r){super(e),this._xscale=n,this._yscale=r}get width(){return this.element.offsetWidth/this._xscale}set width(e){this.element.style.width=e*this._xscale+"px"}get height(){return this.element.offsetHeight/this._yscale}set height(e){e>=0?this.element.style.height=e*this._yscale+"px":this.element.style.height="100%"}setBounds(e,n,r,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(n)&&(n=this.lastBounds.y),isNaN(r)?r=this.lastBounds.w:r=r/this._xscale,isNaN(i)?i=this.lastBounds.h:i=i/this._yscale,this.element.style.transform=`translate(${e}px, ${n}px) scale(${r}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=n,this.lastBounds.w=r,this.lastBounds.h=i}}var iu;(function(t){t[t.LayoutDone=0]="LayoutDone",t[t.RenderRequested=1]="RenderRequested",t[t.RenderDone=2]="RenderDone",t[t.Detached=3]="Detached"})(iu||(iu={}));class m5e{get resizeThrottle(){return 10}get canRender(){return this.areAllFontsLoaded()}areAllFontsLoaded(){if(qe.bravuraFontChecker.checkForFontAvailability(),!qe.bravuraFontChecker.isFontLoaded)return!1;let e=!1;for(const n of this._fontCheckers.values())n.isFontLoaded||(e=!0);return e?!1:(Qe.debug("Font","All fonts loaded: "+this._fontCheckers.size),!0)}onFontLoaded(e){Qs.generateFontLookup(e),this.areAllFontsLoaded()&&this.canRenderChanged.trigger()}constructor(e){if(this._fontCheckers=new Map,this._contents=null,this._file=null,this._totalResultCount=0,this._initialTrackIndexes=null,this._barToElementLookup=new Map,this._resultIdToElementLookup=new Map,this.rootContainerBecameVisible=new Ki,this.canRenderChanged=new Ki,this._highlightedElements=[],this._scrollContainer=null,qe.webPlatform!==pa.Browser&&qe.webPlatform!==pa.BrowserModule)throw new fs(hs.General,"Usage of AlphaTabApi is only possible in browser environments. For usage in node use the Low Level APIs");e.classList.add("alphaTab"),this.rootContainer=new fu(e),this.areWorkersSupported="Worker"in window,qe.bravuraFontChecker.fontLoaded.on(this.onFontLoaded.bind(this)),this._intersectionObserver=new IntersectionObserver(this.onElementVisibilityChanged.bind(this),{threshold:[0,.01,1]}),this._intersectionObserver.observe(e)}onElementVisibilityChanged(e){for(const n of e){const r=n.target;if(r===this.rootContainer.element)n.isIntersecting&&(this.rootContainerBecameVisible.trigger(),this._intersectionObserver.unobserve(this.rootContainer.element));else if("layoutResultId"in r&&this._api.settings.core.enableLazyLoading){const i=r;n.isIntersecting?i.renderedResultId!==i.layoutResultId?this._resultIdToElementLookup.has(i.layoutResultId)?i.resultState!==iu.RenderRequested&&(i.resultState=iu.RenderRequested,this._api.renderer.renderResult(i.layoutResultId)):r.replaceChildren():i.resultState===iu.Detached&&(r.replaceChildren(...i.renderedResult),i.resultState=iu.RenderDone):i.resultState===iu.RenderDone&&(i.resultState=iu.Detached,i.replaceChildren())}}}createWorkerRenderer(){return new h5e(this._api,this._api.settings)}initialize(e,n){this._api=e;let r;n instanceof Mp?r=n:r=Ti.jsObjectToSettings(n);let i=this.getDataAttributes();om.fromJson(r,i),r.notation.notationMode===qi.SongBook&&r.setSongBookModeSettings(),e.settings=r,this.setupFontCheckers(r),this._initialTrackIndexes=this.parseTracks(r.core.tracks),this._contents="";let s=e.container;r.core.tex&&(this._contents=s.element.innerHTML,s.element.innerHTML=""),this.createStyleElement(r),this._file=r.core.file}setupFontCheckers(e){this.registerFontChecker(e.display.resources.copyrightFont),this.registerFontChecker(e.display.resources.effectFont),this.registerFontChecker(e.display.resources.fingeringFont),this.registerFontChecker(e.display.resources.graceFont),this.registerFontChecker(e.display.resources.markerFont),this.registerFontChecker(e.display.resources.tablatureFont),this.registerFontChecker(e.display.resources.titleFont),this.registerFontChecker(e.display.resources.wordsFont),this.registerFontChecker(e.display.resources.barNumberFont),this.registerFontChecker(e.display.resources.fretboardNumberFont),this.registerFontChecker(e.display.resources.subTitleFont)}registerFontChecker(e){if(!this._fontCheckers.has(e.families.join(", "))){let n=new yY(e.families);this._fontCheckers.set(e.families.join(", "),n),n.fontLoaded.on(this.onFontLoaded.bind(this)),n.checkForFontAvailability()}}destroy(){this.rootContainer.element.innerHTML=""}createCanvasElement(){let e=document.createElement("div");return e.className="at-surface",e.style.fontSize="0",e.style.overflow="hidden",e.style.lineHeight="0",e.style.position="relative",new fu(e)}triggerEvent(e,n,r=null,i){let s=e.element;n="alphaTab."+n;let o=document.createEvent("CustomEvent"),a=i?i.mouseEvent:null;if(o.initCustomEvent(n,!1,!1,r),a&&(o.originalEvent=a),s.dispatchEvent(o),window&&"jQuery"in window){let l=window.jQuery,c=[];c.push(r),a&&c.push(a),l(s).trigger(n,c)}}load(e,n,r){if(e instanceof jp)return n(e),!0;if(e instanceof ArrayBuffer){let i=new Uint8Array(e);return n(vg.loadScoreFromBytes(i,this._api.settings)),!0}return e instanceof Uint8Array?(n(vg.loadScoreFromBytes(e,this._api.settings)),!0):typeof e=="string"?(vg.loadScoreAsync(e,n,r,this._api.settings),!0):!1}loadSoundFont(e,n){return this._api.player?e instanceof ArrayBuffer?(this._api.player.loadSoundFont(new Uint8Array(e),n),!0):e instanceof Uint8Array?(this._api.player.loadSoundFont(e,n),!0):typeof e=="string"?(this._api.loadSoundFontFromUrl(e,n),!0):!1:!1}initialRender(){this._api.renderer.preRender.on(n=>{this._totalResultCount=0,this._resultIdToElementLookup.clear(),this._barToElementLookup.clear()});const e=()=>{this._api.renderer.width=this.rootContainer.width|0,this._api.renderer.updateSettings(this._api.settings),this._contents?(this._api.tex(this._contents,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null):this._file&&vg.loadScoreAsync(this._file,n=>{this._api.renderScore(n,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null},n=>{this._api.onError(n)},this._api.settings)};this.rootContainer.isVisible?e():this.rootContainerBecameVisible.on(e)}createStyleElement(e){let n=this._api.container.element.ownerDocument;qe.createStyleElement(n,e.core.fontDirectory)}parseTracks(e){if(!e)return[];let n=[];if(typeof e=="string")try{if(e==="all")return[-1];e=JSON.parse(e)}catch{e=[0]}if(typeof e=="number")n.push(e);else if("length"in e){let r=e.length,i=e;for(let s=0;s<r;s++){let o=i[s],a=0;typeof o=="number"?a=o:"index"in o?a=o.index:a=parseInt(o.toString()),(a>=0||a===-1)&&n.push(a)}}else"index"in e&&n.push(e.index);return n}getDataAttributes(){let e=new Map,n=this._api.container.element;if(n.dataset)for(let r of Object.keys(n.dataset)){let i=n.dataset[r];try{i=JSON.parse(i)}catch{i===""&&(i=null)}e.set(r,i)}else for(let r=0;r<n.attributes.length;r++){let i=n.attributes.item(r),s=i.nodeName;if(s.startsWith("data-")){let o=s.substr(5).split("-"),a=o[0];for(let c=1;c<o.length;c++)a+=o[c].substr(0,1).toUpperCase()+o[c].substr(1);let l=i.nodeValue;try{l=JSON.parse(l)}catch{l===""&&(l=null)}e.set(a,l)}}return e}beginUpdateRenderResults(e){if(!this._resultIdToElementLookup.has(e.id))return;const n=this._resultIdToElementLookup.get(e.id),r=e.renderResult;typeof r=="string"?n.innerHTML=r:"nodeType"in r&&n.replaceChildren(r),n.resultState=iu.RenderDone,n.renderedResultId=e.id,n.renderedResult=Array.from(n.children)}beginAppendRenderResults(e){const n=this._api.canvasElement.element;if(e){let r;this._totalResultCount<n.childElementCount?r=n.childNodes.item(this._totalResultCount):(r=document.createElement("div"),n.appendChild(r)),r.style.zIndex="1",r.style.position="absolute",r.style.left=e.x+"px",r.style.top=e.y+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.display="inline-block",r.layoutResultId=e.id,r.resultState=iu.LayoutDone,delete r.renderedResultId,delete r.renderedResult,this._resultIdToElementLookup.set(e.id,r);for(let i=e.firstMasterBarIndex;i<=e.lastMasterBarIndex;i++)i>=0&&this._barToElementLookup.set(i,r);this._api.settings.core.enableLazyLoading&&(this._intersectionObserver.unobserve(r),this._intersectionObserver.observe(r)),this._totalResultCount++}else for(;n.childElementCount>this._totalResultCount;)this._api.settings.core.enableLazyLoading&&this._intersectionObserver.unobserve(n.lastChild),n.removeChild(n.lastElementChild)}createWorkerPlayer(){let e=null,n="ScriptProcessorNode"in window;return window.isSecureContext&&"AudioWorkletNode"in window&&this._api.settings.player.outputMode===Fb.WebAudioAudioWorklets?(Qe.debug("Player","Will use webworkers for synthesizing and web audio api with worklets for playback"),e=new y8(new p5e(this._api.settings),this._api.settings)):n&&(Qe.debug("Player","Will use webworkers for synthesizing and web audio api with ScriptProcessor for playback"),e=new y8(new u5e,this._api.settings)),e?e.ready.on(()=>{this._api.settings.player.soundFont&&this._api.loadSoundFontFromUrl(this._api.settings.player.soundFont,!1)}):Qe.error("Player","Player requires webworkers and web audio api, browser unsupported",null),e}beginInvoke(e){window.requestAnimationFrame(()=>{e()})}highlightElements(e,n){const r=this._barToElementLookup.get(n);if(r){let i=r.getElementsByClassName(e);for(let s=0;s<i.length;s++)i.item(s).classList.add("at-highlight"),this._highlightedElements.push(i.item(s))}}removeHighlights(){const e=this._highlightedElements;if(e){for(const n of e)n.classList.remove("at-highlight");this._highlightedElements=[]}}destroyCursors(){let e=this._api.container.element,n=e.querySelector(".at-cursors");e.removeChild(n)}createCursors(){let e=this._api.container.element,n=document.createElement("div");n.classList.add("at-cursors");let r=document.createElement("div");r.classList.add("at-selection");const i=this.createScalingElement(),s=this.createScalingElement();let o=i.element;o.classList.add("at-cursor-bar");let a=s.element;return a.classList.add("at-cursor-beat"),e.style.position="relative",e.style.textAlign="left",n.style.position="absolute",n.style.zIndex="1000",n.style.display="inline",n.style.pointerEvents="none",r.style.position="absolute",o.style.position="absolute",o.style.left="0",o.style.top="0",o.style.willChange="transform",i.width=1,i.height=1,i.setBounds(0,0,1,1),a.style.position="absolute",a.style.transition="all 0s linear",a.style.left="0",a.style.top="0",a.style.willChange="transform",s.width=3,s.height=1,s.setBounds(0,0,1,1),e.insertBefore(n,e.firstChild),n.appendChild(r),n.appendChild(o),n.appendChild(a),new f5e(new fu(n),i,s,new fu(r))}getOffset(e,n){let r=n.element,i=r.getBoundingClientRect(),s=i.top+r.ownerDocument.defaultView.pageYOffset,o=i.left+r.ownerDocument.defaultView.pageXOffset;if(e){let l=e.element,c=l.nodeName.toLowerCase();if(c!=="html"&&c!=="body"){let u=this.getOffset(null,e);s=s+l.scrollTop-u.y,o=o+l.scrollLeft-u.x}}let a=new po;return a.x=o,a.y=s,a.w=i.width,a.h=i.height,a}getScrollContainer(){if(this._scrollContainer)return this._scrollContainer;let e=typeof this._api.settings.player.scrollElement=="string"?document.querySelector(this._api.settings.player.scrollElement):this._api.settings.player.scrollElement,n=e.nodeName.toLowerCase();return(n==="html"||n==="body")&&("scrollingElement"in document?e=document.scrollingElement:navigator.userAgent.indexOf("WebKit")!==-1?e=document.body:e=document.documentElement),this._scrollContainer=new fu(e),this._scrollContainer}createSelectionElement(){return this.createScalingElement()}createScalingElement(){const e=document.createElement("div");e.style.position="absolute";const n=new g5e(e,100,100);return n.width=1,n.height=1,n.setBounds(0,0,1,1),n}scrollToY(e,n,r){this.internalScrollToY(e.element,n,r)}scrollToX(e,n,r){this.internalScrollToX(e.element,n,r)}internalScrollToY(e,n,r){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({top:n,behavior:"smooth"});else{let i=e.scrollTop,s=n-i,o=0,a=l=>{o===0&&(o=l);let c=l-o,u=Math.min(c/r,1);e.scrollTop=i+s*u|0,c<r&&window.requestAnimationFrame(a)};window.requestAnimationFrame(a)}}internalScrollToX(e,n,r){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({left:n,behavior:"smooth"});else{let i=e.scrollLeft,s=n-i,o=0,a=l=>{o===0&&(o=l);let c=l-o,u=Math.min(c/r,1);e.scrollLeft=i+s*u|0,c<r&&window.requestAnimationFrame(a)};window.requestAnimationFrame(a)}}}class Hm extends c5e{constructor(e,n){super(new m5e(e),n),this.soundFontLoad=new Dn}tex(e,n){let r=this.uiFacade;super.tex(e,r.parseTracks(n))}print(e,n=null){let r=window.open("","","width=0,height=0"),i=r.document.createElement("div");e?i.style.width=e:this.settings.display.layoutMode===hd.Horizontal?i.style.width="297mm":i.style.width="210mm",r.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
            .at-surface {
                width: auto !important;
                height: auto !important;
            }
            .at-surface > div {
                position: relative!important;
                left: auto !important;
                top: auto !important;
                break-inside: avoid;
            }
            </style>
          </head>
          <body></body>
        </html>
        `);const s=this.score;s&&(s.artist&&s.title?r.document.title=`${s.title} - ${s.artist}`:s.title&&(r.document.title=`${s.title}`)),r.document.body.appendChild(i);let o=typeof window.screenLeft<"u"?window.screenLeft:window.left,a=typeof window.screenTop<"u"?window.screenTop:window.top,l="innerWidth"in window?window.innerWidth:"clientWidth"in document.documentElement?document.documentElement.clientWidth:window.screen.width,c="innerHeight"in window?window.innerHeight:"clientHeight"in document.documentElement?document.documentElement.clientHeight:window.screen.height,u=i.offsetWidth+50,d=window.innerHeight,h=(l/2|0)-(u/2|0)+o,f=(c/2|0)-(d/2|0)+a;r.resizeTo(u,d),r.moveTo(h,f),r.focus();let p=Ti.jsObjectToSettings(Ti.settingsToJsObject(this.settings));p.core.enableLazyLoading=!1,p.core.useWorkers=!0,p.core.file=null,p.core.tracks=null,p.player.enableCursor=!1,p.player.enablePlayer=!1,p.player.enableElementHighlighting=!1,p.player.enableUserInteraction=!1,p.player.soundFont=null,p.display.scale=.8,p.display.stretchForce=.8,om.fromJson(p,n);let m=new Hm(i,p);r.onunload=()=>{m.destroy()},m.renderer.postRenderFinished.on(()=>{r.print()}),m.renderTracks(this.tracks)}downloadMidi(e=sm.SingleTrackMultiChannel){if(!this.score)return;let n=new Hh;n.format=e;let r=new hu(n,!0);new or(this.score,this.settings,r).generate();let s=n.toBinary(),o=this.score.title?`${this.score.title}.mid`:"File.mid",a=document.createElement("a");a.download=o;let l=new Blob([s],{type:"audio/midi"}),c=URL.createObjectURL(l);a.href=c,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}changeTrackMute(e,n){let r=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackMute(r,n)}changeTrackSolo(e,n){let r=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackSolo(r,n)}changeTrackVolume(e,n){let r=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackVolume(r,n)}trackIndexesToTracks(e){if(!this.score)return[];let n=[];if(e.length===1&&e[0]===-1)for(let r of this.score.tracks)n.push(r);else for(let r of e)r>=0&&r<this.score.tracks.length&&n.push(this.score.tracks[r]);return n}loadSoundFontFromUrl(e,n){this.player&&this.player.loadSoundFontFromUrl(e,n,r=>{this.soundFontLoad.trigger(r),this.uiFacade.triggerEvent(this.container,"soundFontLoad",r)})}}class b8{constructor(){this._initListeners=[]}exec(e,n,r){if(typeof n!="string"&&(r=[n],n="init"),n.charCodeAt(0)===95||n==="exec")return null;let i=new jQuery(e),s=i.data("alphaTab");if(n==="destroy"&&!s)return null;if(n!=="init"&&!s)throw new Error("alphaTab not initialized");let o=this[n];if(o){let a=[i,s].concat(r);return o.apply(this,a)}else return Qe.error("Api","Method '"+n+"' does not exist on jQuery.alphaTab"),null}init(e,n,r){if(!n){n=new Hm(e[0],r),e.data("alphaTab",n);for(let i of this._initListeners)i(e,n,r)}}destroy(e,n){e.removeData("alphaTab"),n.destroy()}print(e,n,r,i){n.print(r,i)}load(e,n,r,i){return n.load(r,i)}render(e,n){n.render()}renderScore(e,n,r,i){n.renderScore(r,i)}renderTracks(e,n,r){n.renderTracks(r)}invalidate(e,n){n.render()}tex(e,n,r,i){n.tex(r,i)}muteTrack(e,n,r,i){n.changeTrackMute(r,i)}soloTrack(e,n,r,i){n.changeTrackSolo(r,i)}trackVolume(e,n,r,i){n.changeTrackVolume(r,i)}loadSoundFont(e,n,r,i){n.loadSoundFont(r,i)}resetSoundFonts(e,n){n.resetSoundFonts()}pause(e,n){n.pause()}play(e,n){return n.play()}playPause(e,n){n.playPause()}stop(e,n){n.stop()}api(e,n){return n}player(e,n){return n.player}isReadyForPlayback(e,n){return n.isReadyForPlayback}playerState(e,n){return n.playerState}masterVolume(e,n,r){return typeof r=="number"&&(n.masterVolume=r),n.masterVolume}metronomeVolume(e,n,r){return typeof r=="number"&&(n.metronomeVolume=r),n.metronomeVolume}countInVolume(e,n,r){return typeof r=="number"&&(n.countInVolume=r),n.countInVolume}midiEventsPlayedFilter(e,n,r){return Array.isArray(r)&&(n.midiEventsPlayedFilter=r),n.midiEventsPlayedFilter}playbackSpeed(e,n,r){return typeof r=="number"&&(n.playbackSpeed=r),n.playbackSpeed}tickPosition(e,n,r){return typeof r=="number"&&(n.tickPosition=r),n.tickPosition}timePosition(e,n,r){return typeof r=="number"&&(n.timePosition=r),n.timePosition}loop(e,n,r){return typeof r=="boolean"&&(n.isLooping=r),n.isLooping}renderer(e,n){return n.renderer}score(e,n){return n.score}settings(e,n){return n.settings}tracks(e,n){return n.tracks}_oninit(e){this._initListeners.push(e)}static restore(e){new jQuery(e).empty().removeData("alphaTab")}}class xI{constructor(){this.buffer="",this._currentPath="",this._currentPathIsEmpty=!0,this.color=new Zr(255,255,255,255),this.lineWidth=1,this.font=new yn("Arial",10,Or.Plain),this.textAlign=$t.Left,this.textBaseline=on.Top}destroy(){}beginRender(e,n){this.buffer=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${e|0}px" height="${n|0}px" class="at-surface-svg">
`,this._currentPath="",this._currentPathIsEmpty=!0,this.textBaseline=on.Top}beginGroup(e){this.buffer+=`<g class="${e}">`}endGroup(){this.buffer+="</g>"}endRender(){return this.buffer+="</svg>",this.buffer}fillRect(e,n,r,i){r>0&&(this.buffer+=`<rect x="${e|0}" y="${n|0}" width="${r}" height="${i}" fill="${this.color.rgba}" />
`)}strokeRect(e,n,r,i){this.buffer+=`<rect x="${e|0}" y="${n|0}" width="${r}" height="${i}" stroke="${this.color.rgba}"`,this.lineWidth!==1&&(this.buffer+=` stroke-width="${this.lineWidth}"`),this.buffer+=` fill="transparent" />
`}beginPath(){}closePath(){this._currentPath+=" z"}moveTo(e,n){this._currentPath+=` M${e},${n}`}lineTo(e,n){this._currentPathIsEmpty=!1,this._currentPath+=` L${e},${n}`}quadraticCurveTo(e,n,r,i){this._currentPathIsEmpty=!1,this._currentPath+=` Q${e},${n},${r},${i}`}bezierCurveTo(e,n,r,i,s,o){this._currentPathIsEmpty=!1,this._currentPath+=` C${e},${n},${r},${i},${s},${o}`}fillCircle(e,n,r){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-r},${n} A1,1 0 0,0 ${e+r},${n} A1,1 0 0,0 ${e-r},${n} z`,this.fill()}strokeCircle(e,n,r){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-r},${n} A1,1 0 0,0 ${e+r},${n} A1,1 0 0,0 ${e-r},${n} z`,this.stroke()}fill(){this._currentPathIsEmpty||(this.buffer+=`<path d="${this._currentPath}"`,this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),this.buffer+=' style="stroke: none"/>'),this._currentPath="",this._currentPathIsEmpty=!0}stroke(){if(!this._currentPathIsEmpty){let e=`<path d="${this._currentPath}" stroke="${this.color.rgba}"`;this.lineWidth!==1&&(e+=` stroke-width="${this.lineWidth}"`),e+=' style="fill: none" />',this.buffer+=e}this._currentPath="",this._currentPathIsEmpty=!0}fillText(e,n,r){if(e==="")return;let i=`<text x="${n|0}" y="${r|0}" style="stroke: none; font:${this.font.toCssString(this.settings.display.scale)}; ${this.getSvgBaseLine()}"`;this.color.rgba!=="#000000"&&(i+=` fill="${this.color.rgba}"`),this.textAlign!==$t.Left&&(i+=` text-anchor="${this.getSvgTextAlignment(this.textAlign)}"`),i+=`>${xI.escapeText(e)}</text>`,this.buffer+=i}static escapeText(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}getSvgTextAlignment(e){switch(e){case $t.Left:return"start";case $t.Center:return"middle";case $t.Right:return"end"}return""}getSvgBaseLine(){switch(this.textBaseline){case on.Top:return"dominant-baseline: hanging";case on.Bottom:return"dominant-baseline: bottom";default:return""}}measureText(e){return e?Qs.measureString(e,this.font.families,this.font.size,this.font.style,this.font.weight):new oT(0,0)}onRenderFinished(){return null}beginRotate(e,n,r){this.buffer+='<g transform="translate('+e+" ,"+n+") rotate( "+r+')">'}endRotate(){this.buffer+="</g>"}}class y5e extends xI{constructor(){super()}fillMusicFontSymbol(e,n,r,i,s){i!==Q.None&&this.fillMusicFontSymbolText(e,n,r,`&#${i};`,s)}fillMusicFontSymbols(e,n,r,i,s){let o="";for(let a of i)a!==Q.None&&(o+=`&#${a};`);this.fillMusicFontSymbolText(e,n,r,o,s)}fillMusicFontSymbolText(e,n,r,i,s){this.buffer+=`<g transform="translate(${e} ${n})" class="at" ><text`,r!==1?this.buffer+=` style="font-size: ${r*100}%; stroke:none"`:this.buffer+=' style="stroke:none"',this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),s&&(this.buffer+=' text-anchor="'+this.getSvgTextAlignment($t.Center)+'"'),this.buffer+=`>${i}</text></g>`}}class Wv{constructor(){this.isInAccolade=!0,this.isRelevantForBoundsLookup=!0,this.hideOnMultiTrack=!1,this.hideOnPercussionTrack=!1}canCreate(e,n){return!this.hideOnPercussionTrack||!n.isPercussion}}var fn;(function(t){t[t.PreNotes=0]="PreNotes",t[t.OnNotes=1]="OnNotes",t[t.MiddleNotes=2]="MiddleNotes",t[t.Stem=3]="Stem",t[t.PostNotes=4]="PostNotes",t[t.EndBeat=5]="EndBeat"})(fn||(fn={}));class Xl extends ii{get isEmpty(){return!this.glyphs||this.glyphs.length===0}constructor(e,n){super(e,n),this.glyphs=null}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}let e=0;for(let n=0,r=this.glyphs.length;n<r;n++){let i=this.glyphs[n];i.renderer=this.renderer,i.doLayout(),e=Math.max(e,i.width)}this.width=e}addGlyph(e){this.glyphs||(this.glyphs=[]),this.renderer&&(e.renderer=this.renderer),this.glyphs.push(e)}paint(e,n,r){let i=this.glyphs;if(!(!i||i.length===0))for(let s of i)s.paint(e+this.x,n+this.y,r)}}class W1 extends Xl{constructor(){super(0,0),this.glyphs=[]}addGlyph(e){e.x=this.glyphs.length===0?0:this.glyphs[this.glyphs.length-1].x+this.glyphs[this.glyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.width=e.x+e.width,super.addGlyph(e)}}class vY extends Xl{constructor(e,n,r){super(e,n),this.voice=r,this.beatGlyphs=[],this.tupletGroups=[]}scaleToWidth(e){const n=this.renderer.scale;let r=this.renderer.layoutingInfo.spaceToForce(e/n);this.scaleToForce(r)}scaleToForce(e){const n=this.renderer.scale;this.width=this.renderer.layoutingInfo.calculateVoiceWidth(e)*n;let r=this.renderer.layoutingInfo.buildOnTimePositions(e),i=this.beatGlyphs;for(let s=0,o=i.length;s<o;s++){let a=i[s];switch(a.beat.graceType){case Dt.None:a.x=r.get(a.beat.absoluteDisplayStart)*n-a.onTimeX;break;default:const l=a.beat.graceGroup.beats[0].absoluteDisplayStart,c=a.beat.graceGroup.id;if(a.beat.graceGroup.isComplete&&r.has(l)){a.x=r.get(l)*n-a.onTimeX;let u=this.renderer.layoutingInfo.allGraceRods.get(c);const d=a.beat.graceGroup.beats[a.beat.graceGroup.beats.length-1].nextBeat,h=d?this.renderer.layoutingInfo.getPreBeatSize(d)+Xa.GraceBeatPadding*this.renderer.scale:0;a.x-=h,a.x-=u[a.beat.graceIndex].postSpringWidth,a.x+=u[a.beat.graceIndex].graceBeatWidth;const f=u[a.beat.graceGroup.beats.length-1];a.x-=f.graceBeatWidth}else{let u=this.renderer.layoutingInfo.incompleteGraceRods.get(c);const d=u[a.beat.graceIndex].postSpringWidth-u[a.beat.graceIndex].preSpringWidth;s>0?a.beat.graceIndex===0?a.x=i[s-1].x+i[s-1].width:a.x=i[s-1].x+u[a.beat.graceIndex-1].postSpringWidth-u[a.beat.graceIndex-1].preSpringWidth-d:a.x=-d}break}if(s>0){let l=a.x-i[s-1].x;i[s-1].scaleToWidth(l)}if(s===o-1){let l=this.width-i[i.length-1].x;a.scaleToWidth(l)}}}registerLayoutingInfo(e){e.updateVoiceSize(this.width);let n=this.beatGlyphs;for(let r of n)r.registerLayoutingInfo(e)}applyLayoutingInfo(e){let n=this.beatGlyphs;for(let r of n)r.applyLayoutingInfo(e);this.scaleToForce(Math.max(this.renderer.settings.display.stretchForce,e.minStretchForce))}addGlyph(e){let n=e;e.x=this.beatGlyphs.length===0?0:this.beatGlyphs[this.beatGlyphs.length-1].x+this.beatGlyphs[this.beatGlyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.beatGlyphs.push(n),this.width=e.x+e.width,n.beat.hasTuplet&&n.beat.tupletGroup.beats[0].id===n.beat.id&&this.tupletGroups.push(n.beat.tupletGroup)}doLayout(){}paint(e,n,r){r.color=this.voice.index===0?this.renderer.resources.mainGlyphColor:this.renderer.resources.secondaryGlyphColor;for(let i=0,s=this.beatGlyphs.length;i<s;i++)this.beatGlyphs[i].paint(e+this.x,n+this.y,r)}}vY.KeySizeBeat="Beat";var Nt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Sharp=2]="Sharp",t[t.Flat=3]="Flat",t[t.NaturalQuarterNoteUp=4]="NaturalQuarterNoteUp",t[t.SharpQuarterNoteUp=5]="SharpQuarterNoteUp",t[t.FlatQuarterNoteUp=6]="FlatQuarterNoteUp",t[t.DoubleSharp=7]="DoubleSharp",t[t.DoubleFlat=8]="DoubleFlat"})(Nt||(Nt={}));class b5e{constructor(){this.maxLine=-1e3,this.minLine=-1e3}}class $r{constructor(e){this._registeredAccidentals=new Map,this._appliedScoreLines=new Map,this._appliedScoreLinesByValue=new Map,this._notesByValue=new Map,this._beatLines=new Map,this.maxLineBeat=null,this.minLineBeat=null,this.maxLine=-1e3,this.minLine=-1e3,this._barRenderer=e,this._bar=e.bar}static getPercussionLine(e,n){var r;return n<e.staff.track.percussionArticulations.length?e.staff.track.percussionArticulations[n].staffLine:((r=ki.getArticulationByValue(n))==null?void 0:r.staffLine)??0}static getNoteValue(e){if(e.isPercussion)return e.percussionArticulation;let n=e.displayValue;switch(e.accidentalMode){case Pi.ForceDoubleFlat:n+=2;break;case Pi.ForceDoubleSharp:n-=2;break;case Pi.ForceFlat:n+=1;break;case Pi.ForceSharp:n-=1;break}return n}applyAccidental(e){const n=$r.getNoteValue(e);let r=e.hasQuarterToneOffset;return this.getAccidental(n,r,e.beat,!1,e)}applyAccidentalForValue(e,n,r,i){return this.getAccidental(n,r,e,i,null)}static computeLineWithoutAccidentals(e,n){let r=0;const i=$r.getNoteValue(n);return e.staff.isPercussion?r=$r.getPercussionLine(e,i):r=$r.calculateNoteLine(e,i),r}static computeAccidental(e,n,r,i,s=null){let a=e+7,l=r%12,c=a<7?Nt.Flat:Nt.Sharp,u=$r.KeySignatureLookup[a][l],d=$r.AccidentalNotes[l],h=Nt.None;if(i)switch(h=d?c:Nt.Natural,h){case Nt.Natural:h=Nt.NaturalQuarterNoteUp;break;case Nt.Sharp:h=Nt.SharpQuarterNoteUp;break;case Nt.Flat:h=Nt.FlatQuarterNoteUp;break}else{switch(n){case Pi.ForceSharp:h=Nt.Sharp;break;case Pi.ForceDoubleSharp:h=Nt.DoubleSharp;break;case Pi.ForceFlat:h=Nt.Flat;break;case Pi.ForceDoubleFlat:h=Nt.DoubleFlat;break;default:d?h=c:u&&(h=Nt.Natural);break}h!==Nt.None?s!=null?s===h&&(h=Nt.None):u&&h===c&&(h=Nt.None):s!==null&&(s===Nt.Natural?h=Nt.None:h=Nt.Natural)}return h}getAccidental(e,n,r,i,s=null){let o=0,a=Nt.None;if(this._bar.staff.isPercussion)o=$r.getPercussionLine(this._bar,e);else{const l=s?s.accidentalMode:Pi.Default;o=$r.calculateNoteLine(this._bar,e);const c=this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o):null;a=$r.computeAccidental(this._bar.masterBar.keySignature,l,e,n,c);let u=!1;switch(a){case Nt.NaturalQuarterNoteUp:case Nt.SharpQuarterNoteUp:case Nt.FlatQuarterNoteUp:break;default:if(s&&s.isTieDestination&&s.beat.index===0){const d=this._barRenderer.previousRenderer;d&&d.accidentalHelper.getNoteLine(s.tieOrigin)===o&&(u=!0)}u?a=Nt.None:a!==Nt.None&&this._registeredAccidentals.set(o,a);break}}return s?(this._appliedScoreLines.set(s.id,o),this._notesByValue.set(e,s)):this._appliedScoreLinesByValue.set(e,o),(this.minLine===-1e3||this.minLine<o)&&(this.minLine=o,this.minLineBeat=r),(this.maxLine===-1e3||this.maxLine>o)&&(this.maxLine=o,this.maxLineBeat=r),i||this.registerLine(r,o),a}registerLine(e,n){let r;this._beatLines.has(e.id)?r=this._beatLines.get(e.id):(r=new b5e,this._beatLines.set(e.id,r)),(r.minLine===-1e3||n<r.minLine)&&(r.minLine=n),(r.minLine===-1e3||n>r.maxLine)&&(r.maxLine=n)}getMaxLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).maxLine:0}getMinLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).minLine:0}static calculateNoteLine(e,n){let r=n,i=e.masterBar.keySignature,s=e.clef,o=r%12,a=(r/12|0)-1,l=$r.OctaveSteps[s];l-=a*$r.StepsPerOctave;let c=yr.keySignatureIsSharp(i)||yr.keySignatureIsNatural(i)?$r.SharpNoteSteps:$r.FlatNoteSteps;return l-=c[o],l}getNoteLine(e){return this._appliedScoreLines.get(e.id)}getNoteLineForValue(e,n=!1){return this._appliedScoreLinesByValue.has(e)?this._appliedScoreLinesByValue.get(e):n&&this._notesByValue.has(e)?this.getNoteLine(this._notesByValue.get(e)):0}}$r.KeySignatureLookup=[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]];$r.AccidentalNotes=[!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1];$r.StepsPerOctave=7;$r.OctaveSteps=[38,32,30,26,38];$r.SharpNoteSteps=[0,0,1,1,2,3,3,4,4,5,5,6];$r.FlatNoteSteps=[0,1,1,2,2,3,4,4,5,5,6,6];class v5e{constructor(){this.staffId="",this.up=0,this.down=0}}class w5e{constructor(){this.startBeat=null,this.startX=0,this.startY=0,this.endBeat=null,this.endX=0,this.endY=0}calcY(e){return this.startX===this.endX?this.startY:(this.endY-this.startY)/(this.endX-this.startX)*(e-this.startX)+this.startY}}class Mc{get isRestBeamHelper(){return this.beats.length===1&&this.beats[0].isRest}hasLine(e,n){return e&&this.beatHasLine(n)||!e&&this.beats.length===1&&this.beatHasLine(n)}beatHasLine(e){return e.duration>ve.Whole}hasFlag(e,n){return e&&this.beatHasFlag(n)||!e&&this.beats.length===1&&this.beatHasFlag(this.beats[0])}beatHasFlag(e){return!e.isRest&&(e.duration>ve.Quarter||e.graceType!==Dt.None)}constructor(e,n){this._beatLineXPositions=new Map,this._firstNonRestBeat=null,this._lastNonRestBeat=null,this.voice=null,this.beats=[],this.shortestDuration=ve.QuadrupleWhole,this.hasTuplet=!1,this.slashBeats=[],this._firstBeatLowestNoteCompareValue=-1,this._firstBeatHighestNoteCompareValue=-1,this._lastBeatLowestNoteCompareValue=-1,this._lastBeatHighestNoteCompareValue=-1,this.lowestNoteInHelper=null,this._lowestNoteCompareValueInHelper=-1,this.highestNoteInHelper=null,this._highestNoteCompareValueInHelper=-1,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isGrace=!1,this.minRestLine=null,this.beatOfMinRestLine=null,this.maxRestLine=null,this.beatOfMaxRestLine=null,this.direction=Je.Up,this.drawingInfos=new Map,this._staff=e,this._renderer=n,this.beats=[]}getBeatLineX(e,n){return n=n??this.direction,this.hasBeatLineX(e)?n===Je.Up?this._beatLineXPositions.get(e.index).up:this._beatLineXPositions.get(e.index).down:0}hasBeatLineX(e){return this._beatLineXPositions.has(e.index)}registerBeatLineX(e,n,r,i){let s=this.getOrCreateBeatPositions(n);s.staffId=e,s.up=r,s.down=i;for(const o of this.drawingInfos.values())o.startBeat==n?o.startX=this.getBeatLineX(n):o.endBeat==n&&(o.endX=this.getBeatLineX(n))}getOrCreateBeatPositions(e){return this._beatLineXPositions.has(e.index)||this._beatLineXPositions.set(e.index,new v5e),this._beatLineXPositions.get(e.index)}finish(){this.direction=this.calculateDirection()}calculateDirection(){let e=null;if(this.voice?this.preferredBeamDirection!==null?e=this.preferredBeamDirection:this.voice.index>0?e=this.invert(Je.Down):this.voice.bar.isMultiVoice?e=this.invert(Je.Up):this.beats[0].graceType!==Dt.None&&(e=this.invert(Je.Up)):e=Je.Up,this.highestNoteInHelper&&this.lowestNoteInHelper){let n=this._renderer.getNoteY(this.highestNoteInHelper,kt.Center),r=this._renderer.getNoteY(this.lowestNoteInHelper,kt.Center);if(e===null){const i=(n+r)/2;e=this.invert(this._renderer.middleYPosition<i?Je.Up:Je.Down)}this._renderer.completeBeamingHelper(this)}else e=this.invert(Je.Up),this._renderer.completeBeamingHelper(this);return e}static computeLineHeightsForRest(e){switch(e){case ve.QuadrupleWhole:return[2,2];case ve.DoubleWhole:return[2,2];case ve.Whole:return[0,1];case ve.Half:return[1,0];case ve.Quarter:return[3,3];case ve.Eighth:return[2,2];case ve.Sixteenth:return[2,4];case ve.ThirtySecond:return[4,4];case ve.SixtyFourth:return[4,6];case ve.OneHundredTwentyEighth:return[6,6];case ve.TwoHundredFiftySixth:return[6,8]}return[0,0]}applyRest(e,n){if(this._lastNonRestBeat&&e.index>=this._lastNonRestBeat.index||this._firstNonRestBeat&&e.index<=this._firstNonRestBeat.index)return;let r=n,i=n;const s=Mc.computeLineHeightsForRest(e.duration);r-=s[0],i+=s[1];const o=this.minRestLine,a=this.maxRestLine;(o===null||o>r)&&(this.minRestLine=r,this.beatOfMinRestLine=e),(a===null||a<i)&&(this.maxRestLine=i,this.beatOfMaxRestLine=e)}invert(e){if(!this.invertBeamDirection)return e;switch(e){case Je.Down:return Je.Up;default:return Je.Down}}checkBeat(e){e.invertBeamDirection&&(this.invertBeamDirection=!0),this.voice||(this.voice=e.voice);let n=!1;if(this.beats.length===0)n=!0;else switch(this.beats[this.beats.length-1].beamingMode){case _c.Auto:n=Mc.canJoin(this.beats[this.beats.length-1],e);break;case _c.ForceSplitToNext:n=!1;break;case _c.ForceMergeWithNext:n=!0;break}return n&&(this.preferredBeamDirection==null&&e.preferredBeamDirection!==null&&(this.preferredBeamDirection=e.preferredBeamDirection),e.hasTuplet&&(this.hasTuplet=!0),e.graceType!==Dt.None&&(this.isGrace=!0),e.isRest?this.beats.length===0&&this.beats.push(e):(this.isRestBeamHelper&&(this.beats=[]),this.beats.push(e),this.checkNote(e.minNote),this.checkNote(e.maxNote),this.shortestDuration<e.duration&&(this.shortestDuration=e.duration),this._firstNonRestBeat||(this._firstNonRestBeat=e),this._lastNonRestBeat=e),e.slashed&&this.slashBeats.push(e)),n}checkNote(e){if(!e)return;let n,r;this.voice&&e.isPercussion?(n=-$r.getPercussionLine(this.voice.bar,$r.getNoteValue(e)),r=n):(n=$r.getNoteValue(e),r=n,e.harmonicType!==Vt.None&&e.harmonicType!==Vt.Natural&&(r=e.realValue-this._staff.displayTranspositionPitch)),this.beats.length===1&&this.beats[0]===e.beat&&((this._firstBeatLowestNoteCompareValue===-1||n<this._firstBeatLowestNoteCompareValue)&&(this._firstBeatLowestNoteCompareValue=n),(this._firstBeatHighestNoteCompareValue===-1||r>this._firstBeatHighestNoteCompareValue)&&(this._firstBeatHighestNoteCompareValue=r)),(this._lastBeatLowestNoteCompareValue===-1||n<this._lastBeatLowestNoteCompareValue)&&(this._lastBeatLowestNoteCompareValue=n),(this._lastBeatHighestNoteCompareValue===-1||r>this._lastBeatHighestNoteCompareValue)&&(this._lastBeatHighestNoteCompareValue=r),(!this.lowestNoteInHelper||n<this._lowestNoteCompareValueInHelper)&&(this.lowestNoteInHelper=e,this._lowestNoteCompareValueInHelper=n),(!this.highestNoteInHelper||r>this._highestNoteCompareValueInHelper)&&(this.highestNoteInHelper=e,this._highestNoteCompareValueInHelper=r)}static canJoin(e,n){if(!e||!n||e.graceType!==n.graceType||e.graceType===Dt.BendGrace||n.graceType===Dt.BendGrace)return!1;if(e.graceType!==Dt.None&&n.graceType!==Dt.None)return!0;let r=e.voice.bar,i=n.voice.bar;if(r!==i)return!1;let s=e.playbackStart,o=n.playbackStart;if(!Mc.canJoinDuration(e.duration)||!Mc.canJoinDuration(n.duration))return s===o;if(e.tupletGroup!==n.tupletGroup)return!1;if(e.hasTuplet&&n.hasTuplet&&e.tupletGroup===n.tupletGroup&&e.tupletGroup.isFull)return!0;let a=un.QuarterTime;switch(r.masterBar.timeSignatureDenominator){case 8:r.masterBar.timeSignatureNumerator%3===0&&(a+=un.QuarterTime/2|0);break}let l=(a+s)/a|0|0,c=(a+o)/a|0|0;return l===c}static canJoinDuration(e){switch(e){case ve.Whole:case ve.Half:case ve.Quarter:return!1;default:return!0}}static isFullBarJoin(e,n,r){return yr.getIndex(e.duration)-2-r>0&&yr.getIndex(n.duration)-2-r>0}get beatOfLowestNote(){return this.lowestNoteInHelper.beat}get beatOfHighestNote(){return this.highestNoteInHelper.beat}isPositionFrom(e,n){return this._beatLineXPositions.has(n.index)?this._beatLineXPositions.get(n.index).staffId===e||!this._beatLineXPositions.get(n.index).staffId:!0}}class x5e{constructor(e,n){this.topY=0,this.bottomY=0,this.topY=e,this.bottomY=n}}class S5e{constructor(e){this.topY=-1e3,this.bottomY=-1e3,this.slots=[],this.beat=e}addSlot(e,n){if(this.slots.push(new x5e(e,n)),this.topY===-1e3)this.topY=e,this.bottomY=n;else{const r=Math.min(e,n),i=Math.max(e,n);r<this.topY&&(this.topY=r),i>this.bottomY&&(this.bottomY=i)}}}class C5e{constructor(){this.reservedLayoutAreasByDisplayTime=new Map,this.restDurationsByDisplayTime=new Map}getBeatMinMaxY(){let e=-1e3,n=-1e3;for(const r of this.reservedLayoutAreasByDisplayTime.values())e===-1e3?(e=r.topY,n=r.bottomY):(e>r.topY&&(e=r.topY),n<r.bottomY&&(n=r.bottomY));return e===-1e3?[0,0]:[e,n]}reserveBeatSlot(e,n,r){n!=r&&(this.reservedLayoutAreasByDisplayTime.has(e.displayStart)||this.reservedLayoutAreasByDisplayTime.set(e.displayStart,new S5e(e)),this.reservedLayoutAreasByDisplayTime.get(e.displayStart).addSlot(n,r),e.isRest&&this.registerRest(e))}registerRest(e){this.restDurationsByDisplayTime.has(e.displayStart)||this.restDurationsByDisplayTime.set(e.displayStart,new Map),this.restDurationsByDisplayTime.get(e.displayStart).has(e.playbackDuration)||this.restDurationsByDisplayTime.get(e.displayStart).set(e.playbackDuration,e.id)}applyRestCollisionOffset(e,n,r){if(e.voice.index>0&&this.reservedLayoutAreasByDisplayTime.has(e.playbackStart)){const i=Mc.computeLineHeightsForRest(e.duration).map(u=>u*r);let s=n-i[0],o=n+i[1],a=s;const l=this.reservedLayoutAreasByDisplayTime.get(e.playbackStart);let c=!1;for(const u of l.slots)if(s>=u.topY&&s<=u.bottomY||o>=u.topY&&o<=u.bottomY){c=!0;break}if(c){e.voice.index==1?a=l.topY-i[1]-i[0]:a=l.bottomY;let u=a+i[0]+i[1];const d=r*2;let h=Math.ceil(Math.abs(a-s)/d);return l.addSlot(a,u),a<s?h*-d:h*d}}return 0}}class k5e{constructor(e){this.beamHelpers=[],this.beamHelperLookup=[],this.preferredBeamDirection=null,this._renderer=e,this.collisionHelper=new C5e}initialize(){var e=this._renderer,n=this._renderer.bar;let r=null,i=null;for(let s=0,o=n.voices.length;s<o;s++){let a=n.voices[s];this.beamHelpers.push([]),this.beamHelperLookup.push(new Map);for(let l=0,c=a.beats.length;l<c;l++){let u=a.beats[l],d;u.graceType!==Dt.None?d=i:(d=r,i=null),(!d||!d.checkBeat(u))&&(d&&d.finish(),d=new Mc(n.staff,e),d.preferredBeamDirection=this.preferredBeamDirection,d.checkBeat(u),u.graceType!==Dt.None?i=d:r=d,this.beamHelpers[a.index].push(d)),this.beamHelperLookup[a.index].set(u.index,d)}r&&r.finish(),i&&i.finish(),r=null,i=null}}getBeamingHelperForBeat(e){return this.beamHelperLookup[e.voice.index].get(e.index)}}class vs extends Ea{constructor(e,n,r){super(e,n),this._textRow=0,this._fretRow=0,this._firstFretSpacing=0,this._chord=r}doLayout(){super.doLayout();const e=this.scale;let n=this.renderer.resources;this._textRow=n.effectFont.size*1.5*e,this._fretRow=n.effectFont.size*1.5*e,this._chord.firstFret>1?this._firstFretSpacing=vs.FretSpacing*e:this._firstFretSpacing=0,this.height=this._textRow+this._fretRow+(vs.Frets-1)*vs.FretSpacing*e+2*vs.Padding*e,this.width=this._firstFretSpacing+(this._chord.staff.tuning.length-1)*vs.StringSpacing*e+2*vs.Padding*e}paint(e,n,r){e+=this.x+vs.Padding*this.scale+this._firstFretSpacing,n+=this.y;let i=this.width-2*vs.Padding*this.scale+this.scale-this._firstFretSpacing,s=vs.StringSpacing*this.scale,o=vs.FretSpacing*this.scale,a=this.renderer.resources,l=vs.CircleRadius*this.scale,c=r.textAlign,u=r.textBaseline;r.font=a.effectFont,r.textAlign=$t.Center,r.textBaseline=on.Top,this._chord.showName&&r.fillText(this._chord.name,e+this.width/2,n+a.effectFont.size/2),n+=this._textRow,e+=s/2,r.font=a.fretboardNumberFont,r.textBaseline=on.Middle;for(let h=0;h<this._chord.staff.tuning.length;h++){let f=e+h*s,p=n+this._fretRow/2,m=this._chord.strings[this._chord.staff.tuning.length-h-1];m<0?r.fillMusicFontSymbol(f,p,this.scale,Q.FretboardX,!0):m===0?r.fillMusicFontSymbol(f,p,this.scale,Q.FretboardO,!0):(m-=this._chord.firstFret-1,r.fillText(m.toString(),f,p))}n+=this._fretRow;for(let h=0;h<this._chord.staff.tuning.length;h++){let f=e+h*s;r.fillRect(f,n,1,o*vs.Frets+this.scale)}this._chord.firstFret>1&&(r.textAlign=$t.Left,r.fillText(this._chord.firstFret.toString(),e-this._firstFretSpacing,n+o/2)),r.fillRect(e,n-this.scale,i,2*this.scale);for(let h=0;h<=vs.Frets;h++){let f=n+h*o;r.fillRect(e,f,i,this.scale)}let d=new Map;for(let h of this._chord.barreFrets){let f=[-1,-1];d.set(h-this._chord.firstFret,f)}for(let h=0;h<this._chord.strings.length;h++){let f=this._chord.strings[h];if(f>0){if(f-=this._chord.firstFret,d.has(f)){let y=d.get(f);(y[0]===-1||h<y[0])&&(y[0]=h),(y[1]===-1||h>y[1])&&(y[1]=h)}let p=n+f*o+o/2+.5*this.scale,m=e+(this._chord.strings.length-h-1)*s;r.fillCircle(m,p,l)}}for(const[h,f]of d){let p=n+h*o+o/2+.5*this.scale,m=e+(this._chord.strings.length-f[1]-1)*s,y=e+(this._chord.strings.length-f[0]-1)*s;r.fillRect(m,p-l,y-m,l*2)}r.textAlign=c,r.textBaseline=u}}vs.Padding=5;vs.Frets=5;vs.CircleRadius=2.5;vs.StringSpacing=10;vs.FretSpacing=12;class v8 extends Xl{constructor(e,n,r=$t.Center){super(e,n),this._glyphWidth=0,this.glyphs=[],this._align=r}doLayout(){let e=0;switch(this._align){case $t.Left:e=0;break;case $t.Center:e=(this.width-this._glyphWidth)/2;break;case $t.Right:e=this.width-this._glyphWidth;break}for(let n of this.glyphs)n.x=e,e+=n.width}addGlyphToRow(e){this.glyphs.push(e),this._glyphWidth+=e.width,e.height>this.height&&(this.height=e.height)}}class Gv extends Xl{constructor(e,n,r=$t.Center){super(e,n),this._rows=[],this.height=0,this.glyphs=[],this._align=r}doLayout(){let e=0,n=0,r=Gv.Padding*this.scale;this._rows=[];let i=new v8(e,n,this._align);i.width=this.width;for(let s of this.glyphs)e+s.width<this.width?(i.addGlyphToRow(s),e+=s.width):(i.isEmpty||(i.doLayout(),this._rows.push(i),n+=i.height+r),e=0,i=new v8(e,n,this._align),i.width=this.width,i.addGlyphToRow(s),e+=s.width);i.isEmpty||(i.doLayout(),this._rows.push(i),n+=i.height+r),this.height=n}paint(e,n,r){for(let i of this._rows)i.paint(e+this.x,n+this.y,r)}}Gv.Padding=3;class T5e extends Gv{constructor(e,n){super(e,n)}addChord(e){if(e.strings.length>0){let n=new vs(0,0,e);n.renderer=this.renderer,n.doLayout(),this.glyphs.push(n)}}}class Ss extends Ea{constructor(e,n,r,i,s=$t.Left,o=null){super(e,n),this._lineHeights=null,this._lines=r.split(`
`),this.font=i,this.textAlign=s,this.textBaseline=o}doLayout(){super.doLayout(),this._lineHeights=[];const e=this.renderer.scoreRenderer.canvas;for(const n of this._lines){e.font=this.font;const r=e.measureText(n),i=r.height*this.scale;this._lineHeights.push(i),this.height+=i,this.width=Math.max(this.width,r.width)}}paint(e,n,r){let i=r.color;r.color=i,r.font=this.font;let s=r.textAlign,o=r.textBaseline;r.textAlign=this.textAlign,this.textBaseline!==null&&(r.textBaseline=this.textBaseline);let a=n+this.y;for(let l=0;l<this._lines.length;l++)r.fillText(this._lines[l],e+this.x,a),a+=this._lineHeights[l];r.textAlign=s,r.textBaseline=o}}class P5e{get staveId(){return this._factory.staffId}constructor(e,n,r){this._sharedLayoutData=new Map,this.barRenderers=[],this.x=0,this.y=0,this.height=0,this.index=0,this.staffIndex=0,this.trackIndex=0,this.staveTop=0,this.topSpacing=0,this.bottomSpacing=0,this.staveBottom=0,this.isFirstInAccolade=!1,this.isLastInAccolade=!1,this._factory=r,this.trackIndex=e,this.modelStaff=n}getSharedLayoutData(e,n){return this._sharedLayoutData.has(e)?this._sharedLayoutData.get(e):n}setSharedLayoutData(e,n){this._sharedLayoutData.set(e,n)}get isInAccolade(){return this._factory.isInAccolade}get isRelevantForBoundsLookup(){return this._factory.isRelevantForBoundsLookup}registerStaffTop(e){this.staveTop=e}registerStaffBottom(e){this.staveBottom=e}addBarRenderer(e){e.staff=this,e.index=this.barRenderers.length,e.reLayout(),this.barRenderers.push(e),this.system.layout.registerBarRenderer(this.staveId,e)}addBar(e,n){let r;e?r=this._factory.create(this.system.layout.renderer,e):r=new Lr(this.system.layout.renderer,e),r.staff=this,r.index=this.barRenderers.length,r.layoutingInfo=n,r.doLayout(),r.registerLayoutingInfo();const i=r.barDisplayWidth;i>0&&this.system.layout.systemsLayoutMode==ma.FromModelWithWidths&&(r.width=i),this.barRenderers.push(r),e&&this.system.layout.registerBarRenderer(this.staveId,r)}revertLastBar(){let e=this.barRenderers[this.barRenderers.length-1];this.barRenderers.splice(this.barRenderers.length-1,1),this.system.layout.unregisterBarRenderer(this.staveId,e);for(const n of this.barRenderers)n.applyLayoutingInfo();return e}scaleToWidth(e){this._sharedLayoutData=new Map;let n=this.topOverflow,r=0;switch(this.system.layout.systemsLayoutMode){case ma.Automatic:let s=(e-this.system.computedWidth)/this.barRenderers.length;for(const a of this.barRenderers){a.x=r,a.y=this.topSpacing+n;let l=a.computedWidth+s;a.scaleToWidth(l),r+=a.width}break;case ma.FromModelWithScale:e-=this.system.accoladeWidth;const o=this.system.totalBarDisplayScale;for(const a of this.barRenderers){a.x=r,a.y=this.topSpacing+n;const l=a.barDisplayScale*e/o;a.scaleToWidth(l),r+=a.width}break;case ma.FromModelWithWidths:for(const a of this.barRenderers){a.x=r,a.y=this.topSpacing+n;const l=a.barDisplayWidth;l>0?a.scaleToWidth(l):a.scaleToWidth(a.computedWidth),r+=a.width}break}}get topOverflow(){let e=0;for(let n=0,r=this.barRenderers.length;n<r;n++){let i=this.barRenderers[n];i.topOverflow>e&&(e=i.topOverflow)}return e}get bottomOverflow(){let e=0;for(let n=0,r=this.barRenderers.length;n<r;n++){let i=this.barRenderers[n];i.bottomOverflow>e&&(e=i.bottomOverflow)}return e}finalizeStaff(){const e=this.system.layout.renderer.settings;this.topSpacing=this._factory.getStaffPaddingTop(this)*e.display.scale,this.bottomSpacing=this._factory.getStaffPaddingBottom(this)*e.display.scale,this.height=0;let n=!1,r=this.topOverflow;for(let i=0;i<this.barRenderers.length;i++)this.barRenderers[i].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[i].height),this.barRenderers[i].finalizeRenderer()&&(n=!0);if(n){r=this.topOverflow;for(let i=0;i<this.barRenderers.length;i++)this.barRenderers[i].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[i].height),this.barRenderers[i].finalizeRenderer()}this.height>0&&(this.height+=this.topSpacing+r+this.bottomOverflow+this.bottomSpacing)}paint(e,n,r,i,s){if(!(this.height===0||s===0))for(let o=i,a=Math.min(i+s,this.barRenderers.length);o<a;o++)this.barRenderers[o].paint(e+this.x,n+this.y,r)}}class w8{constructor(){this.timePosition=0,this.longestDuration=0,this.smallestDuration=0,this.force=0,this.springConstant=0,this.preBeatWidth=0,this.graceBeatWidth=0,this.postSpringWidth=0,this.allDurations=new Set}get springWidth(){return this.preSpringWidth+this.postSpringWidth}get preSpringWidth(){return this.preBeatWidth+this.graceBeatWidth}}class am{constructor(){this._timeSortedSprings=[],this._xMin=0,this._minTime=-1,this._onTimePositionsForce=0,this._onTimePositions=new Map,this._incompleteGraceRodsWidth=0,this.version=0,this.preBeatSizes=new Map,this.onBeatSizes=new Map,this.onBeatCenterX=new Map,this.preBeatSize=0,this.postBeatSize=0,this.voiceSize=0,this.minStretchForce=0,this.totalSpringConstant=0,this.incompleteGraceRods=new Map,this.allGraceRods=new Map,this.springs=new Map,this.height=0}updateVoiceSize(e){e>this.voiceSize&&(this.voiceSize=e,this.version++)}setPreBeatSize(e,n){(!this.preBeatSizes.has(e.id)||this.preBeatSizes.get(e.id)<n)&&(this.preBeatSizes.set(e.id,n),this.version++)}getPreBeatSize(e){return this.preBeatSizes.has(e.id)?this.preBeatSizes.get(e.id):0}setOnBeatSize(e,n){(!this.onBeatSizes.has(e.id)||this.onBeatSizes.get(e.id)<n)&&(this.onBeatSizes.set(e.id,n),this.version++)}getOnBeatSize(e){return this.onBeatSizes.has(e.id)?this.onBeatSizes.get(e.id):0}getBeatCenterX(e){return this.onBeatCenterX.has(e.id)?this.onBeatCenterX.get(e.id):0}setBeatCenterX(e,n){(!this.onBeatCenterX.has(e.id)||this.onBeatCenterX.get(e.id)<n)&&(this.onBeatCenterX.set(e.id,n),this.version++)}updateMinStretchForce(e){this.minStretchForce<e&&(this.minStretchForce=e)}addSpring(e,n,r,i,s){this.version++;let o;if(this.springs.has(e))o=this.springs.get(e),o.postSpringWidth<s&&(o.postSpringWidth=s),o.graceBeatWidth<r&&(o.graceBeatWidth=r),o.preBeatWidth<i&&(o.preBeatWidth=i),n<o.smallestDuration&&(o.smallestDuration=n),n>o.longestDuration&&(o.longestDuration=n),o.allDurations.add(n);else{if(o=new w8,o.timePosition=e,o.allDurations.add(n),this._timeSortedSprings.length>0){let c=this._timeSortedSprings[this._timeSortedSprings.length-1];for(const u of c.allDurations)c.timePosition+u}o.longestDuration=n,o.postSpringWidth=s,o.graceBeatWidth=r,o.preBeatWidth=i,this.springs.set(e,o);let a=this._timeSortedSprings,l=a.length-1;for(;l>0&&a[l].timePosition>e;)l--;this._timeSortedSprings.splice(l+1,0,o)}return(this._minTime===-1||this._minTime>e)&&(this._minTime=e),o}addBeatSpring(e,n,r){let i=e.absoluteDisplayStart;if(e.graceType!==Dt.None){const s=e.graceGroup.id;this.allGraceRods.has(s)||this.allGraceRods.set(s,new Array(e.graceGroup.beats.length)),!e.graceGroup.isComplete&&!this.incompleteGraceRods.has(s)&&this.incompleteGraceRods.set(s,new Array(e.graceGroup.beats.length));let o=this.allGraceRods.get(s)[e.graceIndex];if(o)o.postSpringWidth<r&&(o.postSpringWidth=r),o.preBeatWidth<n&&(o.preBeatWidth=n);else{const a=new w8;a.timePosition=i,a.postSpringWidth=r,a.preBeatWidth=n,e.graceGroup.isComplete||(this.incompleteGraceRods.get(s)[e.graceIndex]=a),this.allGraceRods.get(s)[e.graceIndex]=a}}else{let s=0;if(e.graceGroup&&this.allGraceRods.has(e.graceGroup.id))for(const o of this.allGraceRods.get(e.graceGroup.id))s+=o.springWidth;this.addSpring(i,e.displayDuration,s,n,r)}}finish(){for(const[e,n]of this.allGraceRods){let r=0;if(this.incompleteGraceRods.has(e))for(const i of n)r+=i.preBeatWidth,i.graceBeatWidth=r,r+=i.postSpringWidth;else for(let i=n.length-1;i>=0;i--)n[i].graceBeatWidth=r,r-=n[i].preBeatWidth+n[i].postSpringWidth}this._incompleteGraceRodsWidth=0;for(const e of this.incompleteGraceRods.values())for(const n of e)this._incompleteGraceRodsWidth+=n.preBeatWidth+n.postSpringWidth;this.calculateSpringConstants(),this.version++}calculateSpringConstants(){this._xMin=0;let e=this.springs;for(const i of e.values())i.springWidth<this._xMin&&(this._xMin=i.springWidth);let n=0,r=this._timeSortedSprings;if(r.length===0){this.totalSpringConstant=-1,this.minStretchForce=-1;return}for(let i=0;i<r.length;i++){let s=r[i],o=0;if(i===r.length-1)o=s.longestDuration;else{let a=r[i+1];o=Math.abs(a.timePosition-s.timePosition)}s.springConstant=this.calculateSpringConstant(s,o),n+=1/s.springConstant}this.totalSpringConstant=1/n,this.minStretchForce=0;for(let i=0;i<r.length;i++){let s=r[i],o=0;if(i===r.length-1)o=s.postSpringWidth;else{let l=r[i+1];o=s.postSpringWidth+l.preSpringWidth}i===0&&(o+=s.preSpringWidth);let a=o*s.springConstant;this.updateMinStretchForce(a)}}paint(e,n,r){}calculateSpringConstant(e,n){n<=0&&(n=un.toTicks(ve.SixtyFourth)),e.smallestDuration===0&&(e.smallestDuration=n);let r=e.smallestDuration,i=1+.85*Math.log2(n/am.MinDuration);return r/n*(1/(i*am.MinDurationWidth))}spaceToForce(e){return this.totalSpringConstant!==-1?(this._timeSortedSprings.length>0&&(e-=this._timeSortedSprings[0].preSpringWidth),e-=this._incompleteGraceRodsWidth,Math.max(e,0)*this.totalSpringConstant):-1}calculateVoiceWidth(e){let n=0;return this.totalSpringConstant!==-1&&(n=this.calculateWidth(e,this.totalSpringConstant)),this._timeSortedSprings.length>0&&(n+=this._timeSortedSprings[0].preSpringWidth),n+=this._incompleteGraceRodsWidth,n}calculateWidth(e,n){return e/n}buildOnTimePositions(e){if(this.totalSpringConstant===-1)return new Map;if(yr.isAlmostEqualTo(this._onTimePositionsForce,e)&&this._onTimePositions)return this._onTimePositions;this._onTimePositionsForce=e;let n=new Map;this._onTimePositions=n;let r=this._timeSortedSprings;if(r.length===0)return n;let i=r[0].preSpringWidth;for(let s=0;s<r.length;s++)n.set(r[s].timePosition,i),i+=this.calculateWidth(e,r[s].springConstant);return n}}am.MinDuration=30;am.MinDurationWidth=7;class _5e{constructor(){this.width=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this.renderers=[]}}class M5e{constructor(e,n){this.staves=[],this.stavesRelevantForBoundsLookup=[],this.firstStaffInAccolade=null,this.lastStaffInAccolade=null,this.staffSystem=e,this.track=n}addStaff(e){this.staves.push(e),e.isRelevantForBoundsLookup&&this.stavesRelevantForBoundsLookup.push(e)}}class Hb{constructor(e){this._allStaves=[],this._firstStaffInAccolade=null,this._lastStaffInAccolade=null,this._accoladeSpacingCalculated=!1,this.x=0,this.y=0,this.index=0,this.accoladeWidth=0,this.isFull=!1,this.width=0,this.computedWidth=0,this.totalBarDisplayScale=0,this.isLast=!1,this.masterBarsRenderers=[],this.staves=[],this.layout=e,this.topPadding=e.renderer.settings.display.systemPaddingTop,this.bottomPadding=e.renderer.settings.display.systemPaddingBottom}get firstBarIndex(){return this.masterBarsRenderers[0].masterBar.index}get lastBarIndex(){return this.masterBarsRenderers[this.masterBarsRenderers.length-1].masterBar.index}addMasterBarRenderers(e,n){if(e.length===0)return null;this.masterBarsRenderers.push(n),this.calculateAccoladeSpacing(e),n.layoutingInfo.preBeatSize=0;let r=0;for(let i=0,s=this.staves.length;i<s;i++){let o=this.staves[i];for(let a=0,l=o.staves.length;a<l;a++){let c=o.staves[a],u=n.renderers[r++];c.addBarRenderer(u)}}return this.updateWidthFromLastBar(),n}addBars(e,n){if(e.length===0)return null;let r=new _5e;r.layoutingInfo=new am,r.masterBar=e[0].score.masterBars[n],this.masterBarsRenderers.push(r),this.calculateAccoladeSpacing(e);let i=r.layoutingInfo;for(let s of this.staves)for(let o of s.staves){let a=s.track.staves[o.modelStaff.index].bars[n];o.addBar(a,i);let l=o.barRenderers[o.barRenderers.length-1];r.renderers.push(l),l.isLinkedToPrevious&&(r.isLinkedToPrevious=!0),l.canWrap||(r.canWrap=!1)}return i.finish(),r.width=this.updateWidthFromLastBar(),r}revertLastBar(){if(this.masterBarsRenderers.length>1){let e=this.masterBarsRenderers[this.masterBarsRenderers.length-1];this.masterBarsRenderers.splice(this.masterBarsRenderers.length-1,1);let n=0,r=0;for(let i=0,s=this._allStaves.length;i<s;i++){let a=this._allStaves[i].revertLastBar();const l=a.computedWidth;l>n&&(n=l);const c=a.barDisplayScale;c>r&&(r=c)}return this.width-=n,this.computedWidth-=n,this.totalBarDisplayScale-=r,e}return null}updateWidthFromLastBar(){let e=0,n=0;for(let r=0,i=this._allStaves.length;r<i;r++){let s=this._allStaves[r];const o=s.barRenderers[s.barRenderers.length-1];o.applyLayoutingInfo(),o.computedWidth>e&&(e=o.computedWidth);const a=o.barDisplayScale;a>n&&(n=a)}return this.width+=e,this.computedWidth+=e,this.totalBarDisplayScale+=n,e}calculateAccoladeSpacing(e){const n=this.layout.renderer.settings;if(!this._accoladeSpacingCalculated){if(this._accoladeSpacingCalculated=!0,this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(Kt.TrackNames)){let r=this.layout.renderer.canvas,i=n.display.resources.effectFont;r.font=i;for(let s of e)this.accoladeWidth=Math.ceil(Math.max(this.accoladeWidth,r.measureText(s.shortName).width));this.accoladeWidth*=this.layout.scale,this.accoladeWidth+=n.display.systemLabelPaddingLeft*this.layout.scale,this.accoladeWidth+=n.display.systemLabelPaddingRight*this.layout.scale}else this.accoladeWidth=0;this.accoladeWidth+=Hb.AccoladeBarSize*this.layout.scale,this.accoladeWidth+=n.display.accoladeBarPaddingRight*this.layout.scale,this.width+=this.accoladeWidth,this.computedWidth+=this.accoladeWidth}}getStaffTrackGroup(e){for(let n=0,r=this.staves.length;n<r;n++){let i=this.staves[n];if(i.track===e)return i}return null}addStaff(e,n){let r=this.getStaffTrackGroup(e);r||(r=new M5e(this,e),this.staves.push(r)),n.staffTrackGroup=r,n.system=this,n.index=this._allStaves.length,this._allStaves.push(n),r.addStaff(n),n.isInAccolade&&(this._firstStaffInAccolade||(this._firstStaffInAccolade=n,n.isFirstInAccolade=!0),r.firstStaffInAccolade||(r.firstStaffInAccolade=n),this._lastStaffInAccolade||(this._lastStaffInAccolade=n,n.isLastInAccolade=!0),this._lastStaffInAccolade&&(this._lastStaffInAccolade.isLastInAccolade=!1),this._lastStaffInAccolade=n,this._lastStaffInAccolade.isLastInAccolade=!0,r.lastStaffInAccolade=n)}get height(){return this._allStaves.length===0?0:this._allStaves[this._allStaves.length-1].y+this._allStaves[this._allStaves.length-1].height+this.topPadding+this.bottomPadding}scaleToWidth(e){for(let n=0,r=this._allStaves.length;n<r;n++)this._allStaves[n].scaleToWidth(e);this.width=e}paint(e,n,r){n+=this.topPadding,this.paintPartial(e+this.x,n+this.y,r,0,this.masterBarsRenderers.length)}paintPartial(e,n,r,i,s){for(let a=0,l=this._allStaves.length;a<l;a++)this._allStaves[a].paint(e,n,r,i,s);let o=this.layout.renderer.settings.display.resources;if(this.staves.length>0&&i===0){if(r.color=o.barSeparatorColor,this._firstStaffInAccolade&&this._lastStaffInAccolade){let l=n+this._firstStaffInAccolade.y+this._firstStaffInAccolade.staveTop+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow,c=n+this._lastStaffInAccolade.y+this._lastStaffInAccolade.topSpacing+this._lastStaffInAccolade.topOverflow+this._lastStaffInAccolade.staveBottom,u=e+this._firstStaffInAccolade.x;r.beginPath(),r.moveTo(u,l),r.lineTo(u,c),r.stroke()}r.font=o.effectFont;const a=this.layout.renderer.settings;for(let l=0,c=this.staves.length;l<c;l++){let u=this.staves[l];if(u.firstStaffInAccolade&&u.lastStaffInAccolade){let d=n+u.firstStaffInAccolade.y+u.firstStaffInAccolade.staveTop+u.firstStaffInAccolade.topSpacing+u.firstStaffInAccolade.topOverflow,h=n+u.lastStaffInAccolade.y+u.lastStaffInAccolade.topSpacing+u.lastStaffInAccolade.topOverflow+u.lastStaffInAccolade.staveBottom;const f=this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(Kt.TrackNames);let p=e+u.firstStaffInAccolade.x,m=Hb.AccoladeBarSize*this.layout.scale,y=a.display.accoladeBarPaddingRight*this.layout.scale,S=d-m*4,w=h+m*4;f&&r.fillText(u.track.shortName,e+a.display.systemLabelPaddingLeft*this.layout.scale,d),r.fillRect(p-y-m,S,m,w-S);let v=p-y-m,k=p+m*2;r.beginPath(),r.moveTo(v,S),r.bezierCurveTo(v,S,v,S,k,S-m),r.bezierCurveTo(p,S+m,v,S+m,v,S+m),r.closePath(),r.fill(),r.beginPath(),r.moveTo(v,w),r.bezierCurveTo(v,w,p,w,k,w+m),r.bezierCurveTo(p,w-m,v,w-m,v,w-m),r.closePath(),r.fill()}}}}finalizeSystem(){const e=this.layout.renderer.settings;this.index===0&&(this.topPadding=e.display.firstSystemPaddingTop*e.display.scale),this.isLast&&(this.bottomPadding=e.display.lastSystemPaddingBottom*e.display.scale);let n=0;for(let r of this._allStaves)r.x=this.accoladeWidth,r.y=n,r.finalizeStaff(),n+=r.height}buildBoundingsLookup(e,n){if(this.layout.renderer.boundsLookup.isFinished||!this._firstStaffInAccolade||!this._lastStaffInAccolade)return;n+=this.topPadding;let r=this._allStaves[this._allStaves.length-1],i=n+this.y+this._firstStaffInAccolade.y,s=n+this.y+this._lastStaffInAccolade.y+this._lastStaffInAccolade.height,o=n+this.y+this._allStaves[0].y,a=n+this.y+r.y+r.height,l=n+this.y+this._firstStaffInAccolade.y+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow+(this._firstStaffInAccolade.barRenderers.length>0?this._firstStaffInAccolade.barRenderers[0].topPadding:0),c=n+this.y+r.y+r.height-r.bottomSpacing-r.bottomOverflow-(r.barRenderers.length>0?r.barRenderers[0].bottomPadding:0),u=s-i,d=c-l,h=a-o,f=this.x+this._firstStaffInAccolade.x,p=new pY;p.visualBounds=new po,p.visualBounds.x=e,p.visualBounds.y=n+this.y,p.visualBounds.w=this.width,p.visualBounds.h=this.height-this.topPadding-this.bottomPadding,p.realBounds=new po,p.realBounds.x=e,p.realBounds.y=n+this.y,p.realBounds.w=this.width,p.realBounds.h=this.height,this.layout.renderer.boundsLookup.addStaffSystem(p);let m=new Map;for(let y=0;y<this.staves.length;y++)for(let S of this.staves[y].stavesRelevantForBoundsLookup)for(let w of S.barRenderers){let v;m.has(w.bar.masterBar.index)?v=m.get(w.bar.masterBar.index):(v=new fY,v.index=w.bar.masterBar.index,v.isFirstOfLine=w.isFirstOfLine,v.realBounds=new po,v.realBounds.x=f+w.x,v.realBounds.y=o,v.realBounds.w=w.width,v.realBounds.h=h,v.visualBounds=new po,v.visualBounds.x=f+w.x,v.visualBounds.y=i,v.visualBounds.w=w.width,v.visualBounds.h=u,v.lineAlignedBounds=new po,v.lineAlignedBounds.x=f+w.x,v.lineAlignedBounds.y=l,v.lineAlignedBounds.w=w.width,v.lineAlignedBounds.h=d,this.layout.renderer.boundsLookup.addMasterBar(v),m.set(v.index,v)),w.buildBoundingsLookup(v,f,n+this.y+S.y)}}getBarX(e){if(!this._firstStaffInAccolade||this.layout.renderer.tracks.length===0)return 0;let n=this.layout.renderer.tracks[0].staves[0].bars[e];return this.layout.getRendererForBar(this._firstStaffInAccolade.staveId,n).x}}Hb.AccoladeBarSize=3;class kc extends Xl{constructor(e,n,r,i){super(e,n),this._tuning=r,this._trackLabel=i,this.glyphs=[]}doLayout(){if(!(this.glyphs.length>0)){this.createGlyphs(this._tuning);for(const e of this.glyphs)e.renderer=this.renderer,e.doLayout()}}paint(e,n,r){r.textBaseline=on.Middle,super.paint(e,n,r)}createGlyphs(e){const n=this.renderer.scale,r=this.renderer.resources;this.height=0;const i=15*n;if(this._trackLabel.length>0){const a=new Ss(0,this.height,this._trackLabel,r.effectFont,$t.Left);a.renderer=this.renderer,a.doLayout(),this.height+=a.height,a.y+=a.height/2,this.addGlyph(a)}const s=new Ss(0,this.height,e.name,r.effectFont,$t.Left);s.renderer=this.renderer,s.doLayout(),this.height+=s.height,s.y+=s.height/2,this.addGlyph(s);const o=64*n;if(this.renderer.scoreRenderer.canvas.font=r.effectFont,this.width=Math.max(this.renderer.scoreRenderer.canvas.measureText(this._trackLabel).width*n,Math.max(this.renderer.scoreRenderer.canvas.measureText(e.name).width*n,2*o)),!e.isStandard){this.height+=i;const a=kc.CircleNumberScale,l=kc.CircleNumberHeight*a*n;let c=Math.ceil(e.tunings.length/2)|0,u=0,d=this.height;for(let h=0,f=e.tunings.length;h<f;h++){const p=Q.GuitarString0+(h+1);this.addGlyph(new Mi(u,d+l/2.5,a,p));const m="= "+it.getTextForTuning(e.tunings[h],!1);this.addGlyph(new Ss(u+l+1*n,d,m,r.effectFont,$t.Left)),d+=i,h===c-1&&(d=this.height,u+=o)}this.height+=c*i}this.width+=15*n}}kc.CircleNumberHeight=20;kc.CircleNumberScale=.7;class E5e extends Gv{constructor(e,n){super(e,n,$t.Left)}addTuning(e,n){if(e.tunings.length>0){let r=new kc(0,0,e,n);r.renderer=this.renderer,r.doLayout(),this.glyphs.push(r)}}}class B5e{constructor(e,n){this.args=e,this.renderCallback=n}}var ma;(function(t){t[t.Automatic=0]="Automatic",t[t.FromModelWithScale=1]="FromModelWithScale",t[t.FromModelWithWidths=2]="FromModelWithWidths"})(ma||(ma={}));class wY{constructor(e){this._barRendererLookup=new Map,this.width=0,this.height=0,this.scoreInfoGlyphs=new Map,this.chordDiagrams=null,this.tuningGlyph=null,this.systemsLayoutMode=ma.Automatic,this._lazyPartials=new Map,this.firstBarIndex=0,this.lastBarIndex=0,this.renderer=e}resize(){this._lazyPartials.clear(),this.doResize()}layoutAndRender(){this._lazyPartials.clear();let e=this.renderer.score,n=this.renderer.settings.display.startBar;n--,n=Math.min(e.masterBars.length-1,Math.max(0,n)),this.firstBarIndex=n;let r=this.renderer.settings.display.barCount;r<0&&(r=e.masterBars.length),r=n+r-1,r=Math.min(e.masterBars.length-1,Math.max(0,r)),this.lastBarIndex=r,this.createScoreInfoGlyphs(),this.doLayoutAndRender()}registerPartial(e,n){e.height!=0&&(this.renderer.settings.core.enableLazyLoading?(this._lazyPartials.set(e.id,new B5e(e,n)),this.renderer.partialLayoutFinished.trigger(e)):(this.renderer.partialLayoutFinished.trigger(e),this.internalRenderLazyPartial(e,n)))}internalRenderLazyPartial(e,n){const r=this.renderer.canvas;r.beginRender(e.width,e.height),n(r),e.renderResult=r.endRender(),this.renderer.partialRenderFinished.trigger(e)}renderLazyPartial(e){if(this._lazyPartials.has(e)){const n=this._lazyPartials.get(e);this.internalRenderLazyPartial(n.args,n.renderCallback)}}createScoreInfoGlyphs(){Qe.debug("ScoreLayout","Creating score info glyphs");let e=this.renderer.settings.notation,n=this.renderer.score,r=this.renderer.settings.display.resources;this.scoreInfoGlyphs=new Map,n.title&&e.isNotationElementVisible(Kt.ScoreTitle)&&this.scoreInfoGlyphs.set(Kt.ScoreTitle,new Ss(0,0,n.title,r.titleFont,$t.Center)),n.subTitle&&e.isNotationElementVisible(Kt.ScoreSubTitle)&&this.scoreInfoGlyphs.set(Kt.ScoreSubTitle,new Ss(0,0,n.subTitle,r.subTitleFont,$t.Center)),n.artist&&e.isNotationElementVisible(Kt.ScoreArtist)&&this.scoreInfoGlyphs.set(Kt.ScoreArtist,new Ss(0,0,n.artist,r.subTitleFont,$t.Center)),n.album&&e.isNotationElementVisible(Kt.ScoreAlbum)&&this.scoreInfoGlyphs.set(Kt.ScoreAlbum,new Ss(0,0,n.album,r.subTitleFont,$t.Center)),n.music&&n.music===n.words&&e.isNotationElementVisible(Kt.ScoreWordsAndMusic)?this.scoreInfoGlyphs.set(Kt.ScoreWordsAndMusic,new Ss(0,0,"Music and Words by "+n.words,r.wordsFont,$t.Center)):(n.music&&e.isNotationElementVisible(Kt.ScoreMusic)&&this.scoreInfoGlyphs.set(Kt.ScoreMusic,new Ss(0,0,"Music by "+n.music,r.wordsFont,$t.Right)),n.words&&e.isNotationElementVisible(Kt.ScoreWords)&&this.scoreInfoGlyphs.set(Kt.ScoreWords,new Ss(0,0,"Words by "+n.words,r.wordsFont,$t.Left)));const i=new Lr(this.renderer,this.renderer.tracks[0].staves[0].bars[0]);for(const[s,o]of this.scoreInfoGlyphs)o.renderer=i,o.doLayout();if(e.isNotationElementVisible(Kt.GuitarTuning)){let s=[];for(let o of this.renderer.tracks)for(let a of o.staves)if(!a.isPercussion&&a.isStringed&&a.tuning.length>0&&a.showTablature){s.push(a);break}if(s.length>0){this.tuningGlyph=new E5e(0,0),this.tuningGlyph.renderer=i;for(const o of s)this.tuningGlyph.addTuning(o.stringTuning,s.length>1?o.track.name:"")}}if(e.isNotationElementVisible(Kt.ChordDiagrams)){this.chordDiagrams=new T5e(0,0),this.chordDiagrams.renderer=i;let s=new Set;for(let o of this.renderer.tracks)for(let a of o.staves){const l=a.chords;if(l)for(const[,c]of l)s.has(c.uniqueId)||c.showDiagram&&(s.add(c.uniqueId),this.chordDiagrams.addChord(c))}}}get scale(){return this.renderer.settings.display.scale}createEmptyStaffSystem(){let e=new Hb(this);for(let n=0;n<this.renderer.tracks.length;n++){let r=this.renderer.tracks[n];for(let i=0;i<r.staves.length;i++){let s=r.staves[i],o=qe.staveProfiles.get(this.renderer.settings.display.staveProfile);for(let a of o)a.canCreate(r,s)&&e.addStaff(r,new P5e(n,s,a))}}return e}registerBarRenderer(e,n){this._barRendererLookup.has(e)||this._barRendererLookup.set(e,new Map),this._barRendererLookup.get(e).set(n.bar.id,n)}unregisterBarRenderer(e,n){this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).delete(n.bar.id)}getRendererForBar(e,n){let r=n.id;return this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).has(r)?this._barRendererLookup.get(e).get(r):null}layoutAndRenderAnnotation(e){let n="rendered by alphaTab",r=this.renderer.settings.display.resources,i=12*this.renderer.settings.display.scale,s=Math.floor(i);const o=new ep,a=yn.withFamilyList(r.copyrightFont.families,i,Or.Plain,ha.Bold);this.renderer.canvas.font=a;const l=qe.getLayoutEngineFactory(this.renderer.settings.display.layoutMode).vertical;return o.width=this.renderer.canvas.measureText(n).width,o.height=s,o.x=l?(this.width-o.width)/2:this.firstBarX,o.y=e,o.totalWidth=this.width,o.totalHeight=e+s,o.firstMasterBarIndex=-1,o.lastMasterBarIndex=-1,this.registerPartial(o,c=>{c.color=r.mainGlyphColor,c.font=a,c.textAlign=$t.Left,c.textBaseline=on.Top,c.fillText(n,0,0)}),e+s}}var kt;(function(t){t[t.TopWithStem=0]="TopWithStem",t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom",t[t.BottomWithStem=4]="BottomWithStem"})(kt||(kt={}));var mr;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(mr||(mr={}));class Lr{get nextRenderer(){return!this.bar||!this.bar.nextBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.nextBar)}get previousRenderer(){return!this.bar||!this.bar.previousBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.previousBar)}constructor(e,n){this._preBeatGlyphs=new W1,this._voiceContainers=new Map,this._postBeatGlyphs=new W1,this._ties=[],this.x=0,this.y=0,this.width=0,this.computedWidth=0,this.height=0,this.index=0,this.topOverflow=0,this.bottomOverflow=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this._wasFirstOfLine=!1,this._appliedLayoutingInfo=0,this.isFinalized=!1,this.topPadding=0,this.bottomPadding=0,this.scoreRenderer=e,this.bar=n,n&&(this.helpers=new k5e(this))}registerTies(e){this._ties.push(...e)}get middleYPosition(){return 0}registerOverflowTop(e){return e>this.topOverflow?(this.topOverflow=e,!0):!1}registerOverflowBottom(e){return e>this.bottomOverflow?(this.bottomOverflow=e,!0):!1}scaleToWidth(e){let n=e-this._preBeatGlyphs.width-this._postBeatGlyphs.width;for(const r of this._voiceContainers.values())r.scaleToWidth(n);this._postBeatGlyphs.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width+n,this.width=e}get resources(){return this.settings.display.resources}get settings(){return this.scoreRenderer.settings}get scale(){return this.settings.display.scale}get barDisplayScale(){return this.staff.system.staves.length>1?this.bar.masterBar.displayScale:this.bar.displayScale}get barDisplayWidth(){return this.staff.system.staves.length>1?this.bar.masterBar.displayWidth:this.bar.displayWidth}get isFirstOfLine(){return this.index===0}get isLast(){return!this.bar||this.bar.index===this.scoreRenderer.layout.lastBarIndex}registerLayoutingInfo(){let e=this.layoutingInfo,n=this._preBeatGlyphs.width;e.preBeatSize<n&&(e.preBeatSize=n);for(const i of this._voiceContainers.values())i.registerLayoutingInfo(e),i.x+i.width;let r=this._postBeatGlyphs.width;e.postBeatSize<r&&(e.postBeatSize=r)}applyLayoutingInfo(){if(this._appliedLayoutingInfo>=this.layoutingInfo.version)return!1;this._appliedLayoutingInfo=this.layoutingInfo.version,this._preBeatGlyphs.width=this.layoutingInfo.preBeatSize;let e=this._preBeatGlyphs.x+this._preBeatGlyphs.width;for(const r of this._voiceContainers.values()){r.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width,r.applyLayoutingInfo(this.layoutingInfo);let i=r.x+r.width;e<i&&(e=i)}this._postBeatGlyphs.x=Math.floor(e),this._postBeatGlyphs.width=this.layoutingInfo.postBeatSize,this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.computedWidth=this.width;const n=this.barDisplayWidth;return n>0&&this.scoreRenderer.layout.systemsLayoutMode==ma.FromModelWithWidths&&(this.width=n,this.computedWidth=n),!0}finalizeRenderer(){this.isFinalized=!0;let e=!1;const n=this.y-this.staff.topSpacing,r=this.y+this.height+this.staff.bottomSpacing;for(const i of this._ties)if(i.doLayout(),i.height>0){const s=i.y+i.height-r;s>0&&this.registerOverflowBottom(s)&&(e=!0);const o=i.y-n;o<0&&this.registerOverflowTop(o*-1)&&(e=!0)}return e}doLayout(){if(this.bar){this.helpers.initialize(),this._ties=[],this._preBeatGlyphs=new W1,this._preBeatGlyphs.renderer=this,this._voiceContainers.clear(),this._postBeatGlyphs=new W1,this._postBeatGlyphs.renderer=this;for(let e=0;e<this.bar.voices.length;e++){let n=this.bar.voices[e];if(this.hasVoiceContainer(n)){let r=new vY(0,0,n);r.renderer=this,this._voiceContainers.set(this.bar.voices[e].index,r)}}this.bar.simileMark===Qa.SecondOfDouble&&(this.canWrap=!1),this.createPreBeatGlyphs(),this.createBeatGlyphs(),this.createPostBeatGlyphs(),this.updateSizes();for(const e of this.helpers.beamHelpers)for(const n of e)n.finish();this.computedWidth=this.width}}hasVoiceContainer(e){return!e.isEmpty||e.index===0}updateSizes(){this.staff.registerStaffTop(this.topPadding),this.staff.registerStaffBottom(this.height-this.bottomPadding);let e=this._voiceContainers,n=this.beatGlyphsStart,r=n;for(const i of e.values()){i.x=n,i.doLayout();let s=i.x+i.width;r<s&&(r=s)}this._postBeatGlyphs.x=Math.floor(r),this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.height+=this.layoutingInfo.height*this.scale}addPreBeatGlyph(e){e.renderer=this,this._preBeatGlyphs.addGlyph(e)}addBeatGlyph(e){e.renderer=this,e.preNotes.renderer=this,e.onNotes.renderer=this,e.onNotes.beamingHelper=this.helpers.beamHelperLookup[e.beat.voice.index].get(e.beat.index),this.getVoiceContainer(e.beat.voice).addGlyph(e)}getVoiceContainer(e){return this._voiceContainers.has(e.index)?this._voiceContainers.get(e.index):void 0}getBeatContainer(e){var n,r;return(r=(n=this.getVoiceContainer(e.voice))==null?void 0:n.beatGlyphs)==null?void 0:r[e.index]}getPreNotesGlyphForBeat(e){var n;return(n=this.getBeatContainer(e))==null?void 0:n.preNotes}getOnNotesGlyphForBeat(e){var n;return(n=this.getBeatContainer(e))==null?void 0:n.onNotes}paint(e,n,r){this.paintBackground(e,n,r),r.color=this.resources.mainGlyphColor,this._preBeatGlyphs.paint(e+this.x,n+this.y,r);for(const i of this._voiceContainers.values())r.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.paint(e+this.x,n+this.y,r);r.color=this.resources.mainGlyphColor,this._postBeatGlyphs.paint(e+this.x,n+this.y,r)}paintBackground(e,n,r){this.layoutingInfo.paint(e+this.x+this._preBeatGlyphs.x+this._preBeatGlyphs.width,n+this.y+this.height,r)}buildBoundingsLookup(e,n,r){let i=new dY;i.bar=this.bar,i.visualBounds=new po,i.visualBounds.x=n+this.x,i.visualBounds.y=r+this.y+this.topPadding,i.visualBounds.w=this.width,i.visualBounds.h=this.height-this.topPadding-this.bottomPadding,i.realBounds=new po,i.realBounds.x=n+this.x,i.realBounds.y=r+this.y,i.realBounds.w=this.width,i.realBounds.h=this.height,e.addBar(i);for(const[s,o]of this._voiceContainers){let a=this.bar.isEmpty&&s===0;if(!o.voice.isEmpty||a)for(let l=0,c=o.beatGlyphs.length;l<c;l++)o.beatGlyphs[l].buildBoundingsLookup(i,n+this.x+o.x,r+this.y+o.y,a)}}addPostBeatGlyph(e){this._postBeatGlyphs.addGlyph(e)}createPreBeatGlyphs(){this._wasFirstOfLine=this.isFirstOfLine}createBeatGlyphs(){for(const e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e)}createVoiceGlyphs(e){}createPostBeatGlyphs(){}get beatGlyphsStart(){return this._preBeatGlyphs.x+this._preBeatGlyphs.width}get postBeatGlyphsStart(){return this._postBeatGlyphs.x}getBeatX(e,n=fn.PreNotes){let r=this.getBeatContainer(e);if(r)switch(n){case fn.PreNotes:return r.voiceContainer.x+r.x;case fn.OnNotes:return r.voiceContainer.x+r.x+r.onNotes.x;case fn.MiddleNotes:return r.voiceContainer.x+r.x+r.onTimeX;case fn.Stem:const i=r.onNotes.beamingHelper?r.onNotes.beamingHelper.getBeatLineX(e):r.onNotes.x+r.onNotes.width/2;return r.voiceContainer.x+i;case fn.PostNotes:return r.voiceContainer.x+r.x+r.onNotes.x+r.onNotes.width;case fn.EndBeat:return r.voiceContainer.x+r.x+r.width}return 0}getNoteX(e,n){let r=this.getBeatContainer(e.beat);return r?r.voiceContainer.x+r.x+r.onNotes.x+r.onNotes.getNoteX(e,n):0}getNoteY(e,n){let r=this.getOnNotesGlyphForBeat(e.beat);return r?r.getNoteY(e,n):NaN}reLayout(){(this._wasFirstOfLine&&!this.isFirstOfLine||!this._wasFirstOfLine&&this.isFirstOfLine)&&(this._preBeatGlyphs=new W1,this._preBeatGlyphs.renderer=this,this.createPreBeatGlyphs()),this.updateSizes(),this.registerLayoutingInfo()}paintSimileMark(e,n,r){switch(this.bar.simileMark){case Qa.Simple:r.fillMusicFontSymbol(e+this.x+(this.width-20*this.scale)/2,n+this.y+this.height/2,1,Q.Repeat1Bar,!1);break;case Qa.SecondOfDouble:r.fillMusicFontSymbol(e+this.x-28*this.scale/2,n+this.y+this.height/2,1,Q.Repeat2Bars,!1);break}}completeBeamingHelper(e){}getBeatDirection(e){return this.helpers.getBeamingHelperForBeat(e).direction}}Lr.RawLineSpacing=8;Lr.StemWidth=.12*Lr.RawLineSpacing;Lr.StaffLineThickness=.13*Lr.RawLineSpacing;Lr.BeamThickness=.5*Lr.RawLineSpacing;Lr.BeamSpacing=.25*Lr.RawLineSpacing;var An;(function(t){t[t.SinglePreBeat=0]="SinglePreBeat",t[t.SingleOnBeat=1]="SingleOnBeat",t[t.SingleOnBeatToEnd=2]="SingleOnBeatToEnd",t[t.GroupedOnBeat=3]="GroupedOnBeat",t[t.GroupedOnBeatToEnd=4]="GroupedOnBeatToEnd",t[t.FullBar=5]="FullBar"})(An||(An={}));class N5e extends ii{constructor(e,n){super(0,0),this._uniqueEffectGlyphs=[],this._effectGlyphs=[],this.isEmpty=!0,this.previousBand=null,this.isLinkedToPrevious=!1,this.firstBeat=null,this.lastBeat=null,this.height=0,this.originalHeight=0,this.slot=null,this.voice=e,this.info=n}doLayout(){super.doLayout();for(let e=0;e<this.renderer.bar.voices.length;e++)this._effectGlyphs.push(new Map),this._uniqueEffectGlyphs.push([])}createGlyph(e){if(e.voice===this.voice&&this.info.shouldCreateGlyph(this.renderer.settings,e)&&(!this.info.hideOnMultiTrack||this.renderer.staff.trackIndex===0)){if(this.isEmpty=!1,(!this.firstBeat||e.isBefore(this.firstBeat))&&(this.firstBeat=e),!this.lastBeat||e.isAfter(this.lastBeat))switch(this.lastBeat=e,this.info.sizingMode){case An.SingleOnBeatToEnd:case An.GroupedOnBeatToEnd:this.lastBeat.nextBeat&&(this.lastBeat=this.lastBeat.nextBeat);break}let n=this.createOrResizeGlyph(this.info.sizingMode,e);n.height>this.height&&(this.height=n.height,this.originalHeight=n.height)}}resetHeight(){this.height=this.originalHeight}createOrResizeGlyph(e,n){let r;switch(e){case An.FullBar:return r=this.info.createNewGlyph(this.renderer,n),r.renderer=this.renderer,r.beat=n,r.doLayout(),this._effectGlyphs[n.voice.index].set(n.index,r),this._uniqueEffectGlyphs[n.voice.index].push(r),r;case An.SinglePreBeat:case An.SingleOnBeat:case An.SingleOnBeatToEnd:return r=this.info.createNewGlyph(this.renderer,n),r.renderer=this.renderer,r.beat=n,r.doLayout(),this._effectGlyphs[n.voice.index].set(n.index,r),this._uniqueEffectGlyphs[n.voice.index].push(r),r;case An.GroupedOnBeat:case An.GroupedOnBeatToEnd:let i=e===An.GroupedOnBeat?An.SingleOnBeat:An.SingleOnBeatToEnd;if(n.index>0||this.renderer.index>0){let s=n.previousBeat;if(this.info.shouldCreateGlyph(this.renderer.settings,s)){let o=null;if(n.index>0&&this._effectGlyphs[n.voice.index].has(s.index))o=this._effectGlyphs[n.voice.index].get(s.index);else if(this.renderer.index>0){let c=this.renderer.previousRenderer.getBand(s.voice,this.info.effectId);if(c){let u=c._effectGlyphs[s.voice.index];u.has(s.index)&&(o=u.get(s.index))}}let a=this.createOrResizeGlyph(i,n);return o&&this.info.canExpand(s,n)&&(o.nextGlyph=a,a.previousGlyph=o,this.isLinkedToPrevious=!0),a}return this.createOrResizeGlyph(i,n)}return this.createOrResizeGlyph(i,n);default:return this.createOrResizeGlyph(An.SingleOnBeat,n)}}paint(e,n,r){super.paint(e,n,r);for(let i=0,s=this._uniqueEffectGlyphs.length;i<s;i++){let o=this._uniqueEffectGlyphs[i];for(let a=0,l=o.length;a<l;a++)o[a].paint(e+this.x,n+this.y,r)}}alignGlyphs(){for(let e=0;e<this._effectGlyphs.length;e++)for(const n of this._effectGlyphs[e].keys())this.alignGlyph(this.info.sizingMode,this.renderer.bar.voices[e].beats[n])}alignGlyph(e,n){let r=this._effectGlyphs[n.voice.index].get(n.index),i,s=this.renderer.getBeatContainer(n);switch(e){case An.SinglePreBeat:i=s.preNotes,r.x=this.renderer.beatGlyphsStart+i.x+s.x,r.width=i.width;break;case An.SingleOnBeat:case An.GroupedOnBeat:i=s.onNotes,r.x=this.renderer.beatGlyphsStart+i.x+s.x,r.width=i.width;break;case An.SingleOnBeatToEnd:case An.GroupedOnBeatToEnd:i=s.onNotes,r.x=this.renderer.beatGlyphsStart+i.x+s.x,s.beat.isLastOfVoice?r.width=this.renderer.width-r.x:r.width=s.width-s.preNotes.width-s.preNotes.x;break;case An.FullBar:r.width=this.renderer.width;break}}}class I5e{constructor(){this.uniqueEffectId=null,this.y=0,this.height=0,this.firstBeat=null,this.lastBeat=null}}class A5e{constructor(){this.bands=[],this.shared=new I5e}update(e){e.info.canShareBand||(this.shared.uniqueEffectId=e.info.effectId),e.slot=this,this.bands.push(e),e.height>this.shared.height&&(this.shared.height=e.height),(!this.shared.firstBeat||e.firstBeat.isBefore(this.shared.firstBeat))&&(this.shared.firstBeat=e.firstBeat),(!this.shared.lastBeat||e.lastBeat.isAfter(this.shared.lastBeat))&&(this.shared.lastBeat=e.lastBeat)}canBeUsed(e){return(!this.shared.uniqueEffectId&&e.info.canShareBand||e.info.effectId===this.shared.uniqueEffectId)&&(!this.shared.firstBeat||this.shared.lastBeat.isBefore(e.firstBeat)||this.shared.lastBeat.isBefore(this.shared.firstBeat))}}class R5e{constructor(){this.slots=[],this._effectSlot=new Map}getOrCreateSlot(e){if(this._effectSlot.has(e.info.effectId)){let r=this._effectSlot.get(e.info.effectId);if(r.canBeUsed(e))return r}for(let r of this.slots)if(r.canBeUsed(e))return r;let n=new A5e;return this.slots.push(n),n}register(e){let n=this.getOrCreateSlot(e);n.update(e),this._effectSlot.set(e.info.effectId,n)}}class Yp extends Xl{constructor(){super(0,0),this.computedWidth=0}doLayout(){let e=0;if(this.glyphs)for(let n=0,r=this.glyphs.length;n<r;n++){let i=this.glyphs[n];i.x=e,i.renderer=this.renderer,i.doLayout(),e+=i.width}this.width=e,this.computedWidth=e}noteLoop(e){for(let n=this.container.beat.notes.length-1;n>=0;n--)e(this.container.beat.notes[n])}}class Xp extends Yp{constructor(){super(...arguments),this.centerX=0}updateBeamingHelper(){}buildBoundingsLookup(e,n,r){}getNoteX(e,n){return 0}getNoteY(e,n){return 0}}class L5e extends Lr{constructor(e,n,r){super(e,n),this._bands=[],this._bandLookup=new Map,this.sizingInfo=null,this._infos=r}updateSizes(){this.topOverflow=0,this.bottomOverflow=0,this.topPadding=0,this.bottomPadding=0,this.updateHeight(),super.updateSizes()}finalizeRenderer(){let e=super.finalizeRenderer();return this.updateHeight()&&(e=!0),e}updateHeight(){if(!this.sizingInfo)return!1;let e=0;for(let n of this.sizingInfo.slots){n.shared.y=e;for(let r of n.bands)r.y=e,r.height=n.shared.height;e+=n.shared.height}return e!==this.height?(this.height=e,!0):!1}applyLayoutingInfo(){const e=!super.applyLayoutingInfo();if(this.index>0){let n=this.previousRenderer;this.sizingInfo=n.sizingInfo}else this.sizingInfo=new R5e;for(let n of this._bands)n.resetHeight(),n.alignGlyphs(),n.isEmpty||this.sizingInfo.register(n);return this.updateHeight(),e}scaleToWidth(e){super.scaleToWidth(e);for(let n of this._bands)n.alignGlyphs()}createBeatGlyphs(){this._bands=[],this._bandLookup=new Map;for(let e of this.bar.voices)if(this.hasVoiceContainer(e))for(let n of this._infos){let r=new N5e(e,n);r.renderer=this,r.doLayout(),this._bands.push(r),this._bandLookup.set(e.index+"."+n.effectId,r)}for(let e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e);for(let e of this._bands)e.isLinkedToPrevious&&(this.isLinkedToPrevious=!0)}createVoiceGlyphs(e){for(let n of e.beats){let r=new Xa(n,this.getVoiceContainer(e));r.preNotes=new Yp,r.onNotes=new Xp,this.addBeatGlyph(r);for(let i of this._bands)i.createGlyph(n)}}paint(e,n,r){this.paintBackground(e,n,r);for(let i of this._bands)r.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isEmpty||i.paint(e+this.x,n+this.y,r)}getBand(e,n){let r=e.index+"."+n;return this._bandLookup.has(r)?this._bandLookup.get(r):null}}class M0 extends Wv{get staffId(){return this._staffId}getStaffPaddingTop(e){return e.system.layout.renderer.settings.display.effectStaffPaddingTop}getStaffPaddingBottom(e){return e.system.layout.renderer.settings.display.effectStaffPaddingBottom}constructor(e,n,r=null){super(),this.infos=n,this._staffId=e,this.isInAccolade=!1,this.isRelevantForBoundsLookup=!1,this.shouldShow=r}canCreate(e,n){const r=this.shouldShow;return super.canCreate(e,n)&&(!r||r(e,n))}create(e,n){return new L5e(e,n,this.infos.filter(r=>e.settings.notation.isNotationElementVisible(r.notationElement)))}}class Vb extends Ea{constructor(e,n,r){super(e,n),this._endingsString="",this._endings=[];for(let i=0;i<Pd.MaxAlternateEndings;i++)r&1<<i&&this._endings.push(i)}doLayout(){super.doLayout(),this.height=this.renderer.resources.wordsFont.size+(Vb.Padding*this.scale+2);let e="";for(let n=0,r=this._endings.length;n<r;n++)e+=this._endings[n]+1,e+=". ";this._endingsString=e}paint(e,n,r){super.paint(e,n,r);let i=r.textBaseline;if(r.textBaseline=on.Top,this._endings.length>0){let s=this.renderer.resources;r.font=s.wordsFont,r.moveTo(e+this.x,n+this.y+this.height),r.lineTo(e+this.x,n+this.y),r.lineTo(e+this.x+this.width,n+this.y),r.stroke(),r.fillText(this._endingsString,e+this.x+Vb.Padding*this.scale,n+this.y*this.scale)}r.textBaseline=i}}Vb.Padding=3;class Zi{get effectId(){return this.notationElement.toString()}}class D5e extends Zi{get notationElement(){return Kt.EffectAlternateEndings}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return An.FullBar}shouldCreateGlyph(e,n){return n.voice.index===0&&n.index===0&&n.voice.bar.masterBar.alternateEndings!==0}createNewGlyph(e,n){return new Vb(0,0,n.voice.bar.masterBar.alternateEndings)}canExpand(e,n){return!0}}class F5e extends Zi{get notationElement(){return Kt.EffectCapo}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.index===0&&n.voice.bar.index===0&&n.voice.bar.staff.capo!==0}createNewGlyph(e,n){return new Ss(0,0,"Capo. fret "+n.voice.bar.staff.capo,e.resources.effectFont,$t.Left)}canExpand(e,n){return!1}}class O5e extends Zi{get notationElement(){return Kt.EffectChordNames}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.hasChord}createNewGlyph(e,n){return new Ss(0,0,n.chord.name,e.resources.effectFont,$t.Center)}canExpand(e,n){return!1}}class Uv extends Ea{constructor(e){super(),this.forceGroupedRendering=!1,this.endOnBarLine=!1,this.endPosition=e}get isLinkedWithPrevious(){return!!this.previousGlyph&&this.previousGlyph.renderer.staff.system===this.renderer.staff.system}get isLinkedWithNext(){return!!this.nextGlyph&&this.nextGlyph.renderer.isFinalized&&this.nextGlyph.renderer.staff.system===this.renderer.staff.system}paint(e,n,r){if(this.isLinkedWithPrevious)return;if(!this.isLinkedWithNext&&!this.forceGroupedRendering){this.paintNonGrouped(e,n,r);return}let i;if(!this.isLinkedWithNext&&this.forceGroupedRendering)i=this;else for(i=this.nextGlyph;i.isLinkedWithNext;)i=i.nextGlyph;let s=i.renderer,o=i.beat,a=this.endPosition,l=e-this.renderer.x,c=this.calculateEndX(s,o,l,a);this.paintGrouped(e,n,c,r)}calculateEndX(e,n,r,i){return n?r+e.x+e.getBeatX(n,i):r+e.x+this.x+this.width}paintNonGrouped(e,n,r){let i=e-this.renderer.x,s=this.calculateEndX(this.renderer,this.beat,i,this.endPosition);this.paintGrouped(e,n,s,r)}}class zb extends Uv{constructor(e,n,r){super(fn.EndBeat),this._crescendo=Yo.None,this._crescendo=r,this.x=e,this.y=n}doLayout(){super.doLayout(),this.height=17*this.scale}paintGrouped(e,n,r,i){let s=e+this.x,o=this.height*this.scale;i.beginPath(),this._crescendo===Yo.Crescendo?(r-=zb.Padding*this.scale,i.moveTo(r,n+this.y),i.lineTo(s,n+this.y+o/2),i.lineTo(r,n+this.y+o)):(r-=zb.Padding*this.scale,i.moveTo(s,n+this.y),i.lineTo(r,n+this.y+o/2),i.lineTo(s,n+this.y+o)),i.stroke()}}zb.Padding=nn.QuarterNoteHeadWidth/2|0;class $5e extends Zi{get notationElement(){return Kt.EffectCrescendo}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.GroupedOnBeatToEnd}shouldCreateGlyph(e,n){return n.crescendo!==Yo.None}createNewGlyph(e,n){return new zb(0,0,n.crescendo)}canExpand(e,n){return e.crescendo===n.crescendo}}class SI extends Mi{constructor(e,n,r){super(e,n,.6,SI.getSymbol(r))}doLayout(){super.doLayout(),this.height=17*this.scale,this.y+=this.height/2}static getSymbol(e){switch(e){case xn.PPP:return Q.DynamicPPP;case xn.PP:return Q.DynamicPP;case xn.P:return Q.DynamicPiano;case xn.MP:return Q.DynamicMP;case xn.MF:return Q.DynamicMF;case xn.F:return Q.DynamicForte;case xn.FF:return Q.DynamicFF;case xn.FFF:return Q.DynamicFFF;default:return Q.None}}}class H5e extends Zi{get notationElement(){return Kt.EffectDynamics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return this.internalShouldCreateGlyph(n)}internalShouldCreateGlyph(e){if(e.voice.bar.staff.track.score.stylesheet.hideDynamics||e.isEmpty||e.voice.isEmpty||e.isRest||e.graceType!==Dt.None)return!1;let n=this.getPreviousDynamicsBeat(e),r=e.voice.index===0&&!n||e.dynamics!==(n==null?void 0:n.dynamics);if(r&&e.voice.index>0){for(let i of e.voice.bar.voices)if(i.index<e.voice.index){let s=i.getBeatAtPlaybackStart(e.playbackStart);s&&e.dynamics===s.dynamics&&this.internalShouldCreateGlyph(s)&&(r=!1)}}return r}getPreviousDynamicsBeat(e){let n=e.previousBeat;for(;n!=null;){if(!n.isRest&&n.graceType===Dt.None)return n;n=n.previousBeat}return null}createNewGlyph(e,n){return new SI(0,0,n.dynamics)}canExpand(e,n){return!0}}class V5e extends Ea{doLayout(){super.doLayout(),this.height=17*this.scale}paint(e,n,r){let i=6*this.scale,s=Math.max(this.width,14*this.scale),o=this.height/2;r.beginPath(),r.moveTo(e+this.x,n+this.y+o),r.quadraticCurveTo(e+this.x+s/2,n+this.y+o,e+this.x+s,n+this.y+o-i),r.moveTo(e+this.x,n+this.y+o),r.quadraticCurveTo(e+this.x+s/2,n+this.y+o,e+this.x+s,n+this.y+o+i),r.stroke()}}class z5e extends Zi{get notationElement(){return Kt.EffectFadeIn}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.fadeIn}createNewGlyph(e,n){return new V5e}canExpand(e,n){return!0}}class CI extends Mi{constructor(e,n,r){super(e,n,1,CI.getSymbol(r))}static getSymbol(e){switch(e){case Lc.Short:return Q.FermataShortAbove;case Lc.Medium:return Q.FermataAbove;case Lc.Long:return Q.FermataLongAbove;default:return Q.None}}doLayout(){this.width=23*this.scale,this.height=12*this.scale}paint(e,n,r){super.paint(e-this.width/2,n+this.height,r)}}class W5e extends Zi{get notationElement(){return Kt.EffectFermata}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.voice.index===0&&!!n.fermata}createNewGlyph(e,n){return new CI(0,0,n.fermata.type)}canExpand(e,n){return!0}}class G5e extends Zi{get notationElement(){return Kt.EffectFingering}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.voice.index!==0||n.isRest||e.notation.fingeringMode!==zc.SingleNoteEffectBand&&e.notation.fingeringMode!==zc.SingleNoteEffectBandForcePiano||n.notes.length!==1?!1:n.notes[0].isFingering}createNewGlyph(e,n){let r=pn.Unknown,i=!1,s=n.notes[0];s.leftHandFinger!==pn.Unknown?(r=s.leftHandFinger,i=!0):s.rightHandFinger!==pn.Unknown&&(r=s.rightHandFinger);let o=yr.fingerToString(e.settings,n,r,i)??"";return new Ss(0,0,o,e.resources.fingeringFont,$t.Left)}canExpand(e,n){return!0}}class qp extends Zi{constructor(){super(...arguments),this.lastCreateInfo=null}shouldCreateGlyph(e,n){this.lastCreateInfo=[];for(let r=0,i=n.notes.length;r<i;r++){let s=n.notes[r];this.shouldCreateGlyphForNote(s)&&this.lastCreateInfo.push(s)}return this.lastCreateInfo.length>0}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}canExpand(e,n){return!0}}class $d extends Uv{constructor(e){super(fn.OnNotes),this._label=e}doLayout(){this.renderer.settings.notation.extendLineEffectsToBeatEnd&&(this.endPosition=fn.EndBeat,this.forceGroupedRendering=!0),super.doLayout(),this.height=this.renderer.resources.effectFont.size}paintNonGrouped(e,n,r){let i=this.renderer.resources;r.font=i.effectFont;let s=r.textAlign;r.textAlign=$t.Center,r.fillText(this._label,e+this.x,n+this.y),r.textAlign=s}paintGrouped(e,n,r,i){this.paintNonGrouped(e,n,i);let s=3*this.scale,o=i.measureText(this._label).width,a=e+this.x+o/2+s,l=n+this.y+4*this.scale,c=8*this.scale;if(r>a){let u=a;for(;u<r;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,r),l|0),u+=c+s,i.stroke();i.beginPath(),i.moveTo(r,l-5*this.scale|0),i.lineTo(r,l+5*this.scale|0),i.stroke()}}}$d.LineSpacing=3;$d.LineTopPadding=4;$d.LineTopOffset=5;$d.LineSize=8;class mh extends qp{get effectId(){return this._effectId}get notationElement(){return Kt.EffectHarmonics}constructor(e){switch(super(),this._beat=null,this._harmonicType=e,e){case Vt.None:this._effectId="harmonics-none";break;case Vt.Natural:this._effectId="harmonics-natural";break;case Vt.Artificial:this._effectId="harmonics-artificial";break;case Vt.Pinch:this._effectId="harmonics-pinch";break;case Vt.Tap:this._effectId="harmonics-tap";break;case Vt.Semi:this._effectId="harmonics-semi";break;case Vt.Feedback:this._effectId="harmonics-feedback";break;default:this._effectId="";break}}shouldCreateGlyphForNote(e){return!e.isHarmonic||e.harmonicType!==this._harmonicType?!1:(e.beat!==this._beat&&(this._beat=e.beat),!0)}get sizingMode(){return An.GroupedOnBeat}createNewGlyph(e,n){return new $d(mh.harmonicToString(this._harmonicType))}static harmonicToString(e){switch(e){case Vt.Natural:return"N.H.";case Vt.Artificial:return"A.H.";case Vt.Pinch:return"P.H.";case Vt.Tap:return"T.H.";case Vt.Semi:return"S.H.";case Vt.Feedback:return"Fdbk."}return""}}class U5e extends Zi{get notationElement(){return Kt.EffectLetRing}get canShareBand(){return!1}get hideOnMultiTrack(){return!1}shouldCreateGlyph(e,n){return n.isLetRing}get sizingMode(){return An.GroupedOnBeat}createNewGlyph(e,n){return new $d("LetRing")}canExpand(e,n){return!0}}class j5e extends Ea{constructor(e,n,r,i,s=$t.Center){super(e,n),this._lines=r,this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,n,r){r.font=this.font;let i=r.textAlign;r.textAlign=this.textAlign;for(let s=0;s<this._lines.length;s++)this._lines[s]&&r.fillText(this._lines[s],e+this.x,n+this.y+s*this.font.size);r.textAlign=i}}class Y5e extends Zi{get notationElement(){return Kt.EffectLyrics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return!!n.lyrics}createNewGlyph(e,n){return new j5e(0,0,n.lyrics,e.resources.effectFont,$t.Center)}canExpand(e,n){return!0}}class X5e extends Zi{get notationElement(){return Kt.EffectMarker}get hideOnMultiTrack(){return!0}get canShareBand(){return!0}get sizingMode(){return An.SinglePreBeat}shouldCreateGlyph(e,n){return n.voice.bar.staff.index===0&&n.voice.index===0&&n.index===0&&n.voice.bar.masterBar.isSectionStart}createNewGlyph(e,n){return new Ss(0,0,n.voice.bar.masterBar.section.marker?"["+n.voice.bar.masterBar.section.marker+"] "+n.voice.bar.masterBar.section.text:n.voice.bar.masterBar.section.text,e.resources.markerFont,$t.Left)}canExpand(e,n){return!0}}class q5e extends Uv{constructor(e,n){super(fn.PostNotes),this._ottava=e,this._aboveStaff=n}doLayout(){super.doLayout(),this.height=13*this.scale}paintNonGrouped(e,n,r){this.paintOttava(e,n,r)}paintOttava(e,n,r){let i=0;switch(this._ottava){case Xn._15ma:i=37*this.scale,r.fillMusicFontSymbol(e+this.x-i/2,n+this.y+this.height,.8,Q.QuindicesimaAlta,!1);break;case Xn._8va:i=26*this.scale,r.fillMusicFontSymbol(e+this.x-i/2,n+this.y+this.height,.8,Q.OttavaAlta,!1);break;case Xn._8vb:i=23*this.scale,r.fillMusicFontSymbol(e+this.x-i/2,n+this.y+this.height,.8,Q.OttavaBassaVb,!1);break;case Xn._15mb:i=36*this.scale,r.fillMusicFontSymbols(e+this.x-i/2,n+this.y+this.height,.8,[Q.Quindicesima,Q.OctaveBaselineM,Q.OctaveBaselineB],!1);break}return i/2}paintGrouped(e,n,r,i){let s=this.paintOttava(e,n,i),o=3*this.scale,a=e+this.x+s+o,l=n+this.y;l+=this._aboveStaff?2*this.scale:this.height-2*this.scale;let c=8*this.scale;if(r>a){let u=a;for(;u<r;)i.beginPath(),i.moveTo(u,l|0),i.lineTo(Math.min(u+c,r),l|0),u+=c+o,i.stroke();i.beginPath(),this._aboveStaff?(i.moveTo(r,l),i.lineTo(r,n+this.y+this.height)):(i.moveTo(r,l),i.lineTo(r,n+this.y)),i.stroke()}}}class x8 extends Zi{get effectId(){return"ottavia-"+(this._aboveStaff?"above":"below")}get notationElement(){return Kt.EffectOttavia}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.GroupedOnBeat}constructor(e){super(),this._aboveStaff=e}shouldCreateGlyph(e,n){switch(n.ottava){case Xn._15ma:return this._aboveStaff;case Xn._8va:return this._aboveStaff;case Xn._8vb:return!this._aboveStaff;case Xn._15mb:return!this._aboveStaff}return!1}createNewGlyph(e,n){return new q5e(n.ottava,this._aboveStaff)}canExpand(e,n){return e.ottava===n.ottava}}class K5e extends qp{get notationElement(){return Kt.EffectPalmMute}shouldCreateGlyphForNote(e){return e.isPalmMute}get sizingMode(){return An.GroupedOnBeat}createNewGlyph(e,n){return new $d("P.M.")}constructor(){super()}}class Q5e extends qp{get notationElement(){return Kt.EffectPickSlide}shouldCreateGlyphForNote(e){return e.slideOutType===hn.PickSlideDown||e.slideOutType===hn.PickSlideUp}get sizingMode(){return An.GroupedOnBeat}createNewGlyph(e,n){return new $d("P.S.")}constructor(){super()}}class Wb extends Mi{constructor(e,n,r){super(e,n,nn.GraceScale,Wb.getSymbol(r))}doLayout(){this.width=9*this.scale,this.height=13*this.scale}paint(e,n,r){super.paint(e,n+this.height,r)}static getSymbol(e){switch(e){case _s.Up:return Q.StringsUpBow;case _s.Down:return Q.StringsDownBow;default:return Q.None}}}class J5e extends Zi{get notationElement(){return Kt.EffectPickStroke}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.pickStroke!==_s.None}createNewGlyph(e,n){return new Wb(0,0,n.pickStroke)}canExpand(e,n){return!0}}class xY extends Uv{constructor(e){super(fn.EndBeat),this._stepSize=0,this._type=e}doLayout(){switch(super.doLayout(),this._type){case Wn.Slight:this._stepSize=12*this.scale;break;case Wn.Wide:this._stepSize=23*this.scale;break}this.height=18*this.scale}paintGrouped(e,n,r,i){let s=e+this.x,o=r-s,a=Math.max(1,o/this._stepSize);i.beginPath(),i.moveTo(s,n+this.y);for(let l=0;l<a;l++)i.lineTo(s+this._stepSize/2,n+this.y+this.height),i.lineTo(s+this._stepSize,n+this.y),s+=this._stepSize;i.stroke()}}class S8 extends Zi{get notationElement(){return Kt.EffectSlightBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.GroupedOnBeatToEnd}shouldCreateGlyph(e,n){return n.vibrato===Wn.Slight}createNewGlyph(e,n){return new xY(Wn.Slight)}canExpand(e,n){return!0}}class Ep extends Uv{constructor(e,n,r,i=1.2,s=!1){super(fn.EndBeat),this._scale=0,this._symbol=Q.None,this._symbolSize=0,this._type=r,this._scale=i,this.x=e,this.y=n,this._partialWaves=s}doLayout(){super.doLayout();let e=0;switch(this._type){case Wn.Slight:this._symbol=Q.WiggleTrill,this._symbolSize=9*this._scale,e=6*this._scale;break;case Wn.Wide:this._symbol=Q.WiggleVibratoMediumFast,this._symbolSize=10*this._scale,e=10*this._scale;break}this.height=e*this.scale}paintGrouped(e,n,r,i){let s=e+this.x,o=r-s,a=this._symbolSize*this.scale,l=o/a;this._partialWaves||(l=Math.floor(l)),l<1&&(l=1);let c=0;for(let u=0;u<l;u++)i.fillMusicFontSymbol(e+this.x+c,n+this.y+this.height*2,this._scale*this.scale,this._symbol,!1),c+=a}}class C8 extends qp{get notationElement(){return Kt.EffectSlightNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===Wn.Slight||e.isTieDestination&&e.tieOrigin.vibrato===Wn.Slight}get sizingMode(){return An.GroupedOnBeatToEnd}createNewGlyph(e,n){return new Ep(0,0,Wn.Slight,1.2)}constructor(){super()}}class Z5e extends Zi{get notationElement(){return Kt.EffectTap}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return n.slap||n.pop||n.tap}createNewGlyph(e,n){let r=e.resources;return n.slap?new Ss(0,0,"S",r.effectFont,$t.Left):n.pop?new Ss(0,0,"P",r.effectFont,$t.Left):new Ss(0,0,"T",r.effectFont,$t.Left)}canExpand(e,n){return!0}}class eBe extends Ea{constructor(e){super(0,0),this.tempoAutomations=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,n,r){const i=e+this.x,s=e+this.renderer.postBeatGlyphsStart;for(const o of this.tempoAutomations){const a=e+this.x+(s-i)*o.ratioPosition,l=this.renderer.resources;r.font=l.markerFont,r.fillMusicFontSymbol(a,n+this.y+this.height*.8,this.scale*nn.GraceScale,Q.NoteQuarterUp,!1),r.textBaseline=on.Top,r.fillText("= "+o.value.toString(),a+this.height/2,n+this.y+r.font.size/2)}}}class tBe extends Zi{get notationElement(){return Kt.EffectTempo}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return An.SinglePreBeat}shouldCreateGlyph(e,n){return n.voice.bar.staff.index===0&&n.voice.index===0&&n.index===0&&n.voice.bar.masterBar.tempoAutomations.length>0}createNewGlyph(e,n){return new eBe(n.voice.bar.masterBar.tempoAutomations)}canExpand(e,n){return!0}}class nBe extends Zi{get notationElement(){return Kt.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyph(e,n){return!!n.text}createNewGlyph(e,n){return new Ss(0,0,n.text,e.resources.effectFont,$t.Left)}canExpand(e,n){return!0}}class rBe extends Ea{constructor(e,n){super(e,n)}doLayout(){super.doLayout(),this.height=this.renderer.resources.markerFont.size*this.scale}paint(e,n,r){let i=this.renderer.resources;r.font=i.markerFont;let s=r.measureText("tr").width;r.fillText("tr",e+this.x,n+this.y);let o=s+3*this.scale,a=this.width-o,l=1.2,c=11*this.scale*l,u=Math.max(1,(a-o)/c),d=o,h=n+this.y+this.height*1.2;for(let f=0;f<u;f++)r.fillMusicFontSymbol(e+this.x+d,h,l,Q.WiggleTrill,!1),d+=c}}class k8 extends qp{get notationElement(){return Kt.EffectTrill}shouldCreateGlyphForNote(e){return e.isTrill}get sizingMode(){return An.SingleOnBeat}createNewGlyph(e,n){return new rBe(0,0)}}var qr;(function(t){t[t.Full=0]="Full",t[t.PartialLeft=1]="PartialLeft",t[t.PartialRight=2]="PartialRight"})(qr||(qr={}));class ar extends Ea{constructor(e){super(0,0),this._tripletFeel=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,n,r){e+=this.x,n+=this.y;let i=n+this.height*nn.GraceScale;r.font=this.renderer.resources.effectFont,r.fillText("(",e,n+this.height*.3);let s=e+10*this.scale,o=e+40*this.scale;switch(this._tripletFeel){case vn.NoTripletFeel:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full]);break;case vn.Triplet8th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full]),r.fillMusicFontSymbol(o,i,ar.NoteScale,Q.NoteQuarterUp,!1),r.fillMusicFontSymbol(o+ar.NoteSeparation*this.scale,i,ar.NoteScale,Q.NoteEighthUp,!1),this.renderTriplet(o,n,r);break;case vn.Triplet16th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full,qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full,qr.PartialRight]),this.renderTriplet(o,n,r);break;case vn.Dotted8th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full,qr.PartialRight]),r.fillCircle(o+9*this.scale,i,this.scale);break;case vn.Dotted16th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full,qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full,qr.Full,qr.PartialRight]),r.fillCircle(o+9*this.scale,i,this.scale);break;case vn.Scottish8th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full,qr.PartialLeft]),r.fillCircle(o+ar.NoteSeparation*this.scale+8*this.scale,i,this.scale);break;case vn.Scottish16th:this.renderBarNote(s,i,ar.NoteScale,r,[qr.Full,qr.Full]),this.renderBarNote(o,i,ar.NoteScale,r,[qr.Full,qr.Full,qr.PartialLeft]),r.fillCircle(o+ar.NoteSeparation*this.scale+8*this.scale,i,this.scale);break}r.fillText("=",e+30*this.scale,n+5*this.scale),r.fillText(")",e+65*this.scale,n+this.height*.3)}renderBarNote(e,n,r,i,s){i.fillMusicFontSymbol(e,n,r,Q.NoteQuarterUp,!1);let o=ar.NoteSeparation/2*this.scale;for(let a=0;a<s.length;a++)switch(s[a]){case qr.Full:i.fillRect(e+4*this.scale,n-ar.NoteHeight*this.scale+ar.BarSeparation*this.scale*a,ar.NoteSeparation*this.scale,ar.BarHeight*this.scale);break;case qr.PartialLeft:i.fillRect(e+4*this.scale,n-ar.NoteHeight*this.scale+ar.BarSeparation*this.scale*a,o,ar.BarHeight*this.scale);break;case qr.PartialRight:i.fillRect(e+4*this.scale+o,n-ar.NoteHeight*this.scale+ar.BarSeparation*this.scale*a,o,ar.BarHeight*this.scale);break}i.fillMusicFontSymbol(e+ar.NoteSeparation*this.scale,n,r,Q.NoteQuarterUp,!1)}renderTriplet(e,n,r){n+=2*this.scale;let i=this.renderer.resources.effectFont;r.font=yn.withFamilyList(i.families,i.size*.8,i.style);let s=e+ar.NoteSeparation*this.scale+3*this.scale;r.beginPath(),r.moveTo(e,n+3*this.scale),r.lineTo(e,n),r.lineTo(e+5*this.scale,n),r.moveTo(s+5*this.scale,n+3*this.scale),r.lineTo(s+5*this.scale,n),r.lineTo(s,n),r.stroke(),r.fillText("3",e+7*this.scale,n-10*this.scale),r.font=i}}ar.NoteScale=.4;ar.NoteHeight=12;ar.NoteSeparation=12;ar.BarHeight=2;ar.BarSeparation=3;class iBe extends Zi{get notationElement(){return Kt.EffectTripletFeel}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return An.SinglePreBeat}shouldCreateGlyph(e,n){return n.index===0&&(n.voice.bar.masterBar.index===0&&n.voice.bar.masterBar.tripletFeel!==vn.NoTripletFeel||n.voice.bar.masterBar.index>0&&n.voice.bar.masterBar.tripletFeel!==n.voice.bar.masterBar.previousMasterBar.tripletFeel)}createNewGlyph(e,n){return new ar(n.voice.bar.masterBar.tripletFeel)}canExpand(e,n){return!0}}class sBe extends Zi{get notationElement(){return Kt.EffectWhammyBar}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return An.GroupedOnBeat}shouldCreateGlyph(e,n){return n.hasWhammyBar}createNewGlyph(e,n){return new $d("w/bar")}canExpand(e,n){return!0}}class T8 extends Zi{get notationElement(){return Kt.EffectWideBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.GroupedOnBeatToEnd}shouldCreateGlyph(e,n){return n.vibrato===Wn.Wide}createNewGlyph(e,n){return new xY(Wn.Wide)}canExpand(e,n){return!0}}class P8 extends qp{get notationElement(){return Kt.EffectWideNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===Wn.Wide||e.isTieDestination&&e.tieOrigin.vibrato===Wn.Wide}get sizingMode(){return An.GroupedOnBeatToEnd}createNewGlyph(e,n){return new Ep(0,0,Wn.Wide,1.2)}}class _8{constructor(){this.x=0,this.width=0,this.masterBars=[]}}class oBe extends wY{get name(){return"HorizontalScreen"}constructor(e){super(e),this._system=null,this._pagePadding=null}get supportsResize(){return!1}get firstBarX(){let e=this._pagePadding[0];return this._system&&(e+=this._system.accoladeWidth),e}doResize(){}doLayoutAndRender(){switch(this._pagePadding=this.renderer.settings.display.padding,this.renderer.settings.display.systemsLayoutMode){case qh.Automatic:this.systemsLayoutMode=ma.Automatic;break;case qh.UseModelLayout:this.systemsLayoutMode=ma.FromModelWithWidths;break}this._pagePadding||(this._pagePadding=[0,0,0,0]),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this.renderer.score,n=this.renderer.settings.display.startBar;n--,n=Math.min(e.masterBars.length-1,Math.max(0,n));let r=n,i=this.renderer.settings.display.barCount;i<=0&&(i=e.masterBars.length),i=n+i-1,i=Math.min(e.masterBars.length-1,Math.max(0,i)),this._system=this.createEmptyStaffSystem(),this._system.isLast=!0,this._system.x=this._pagePadding[0],this._system.y=this._pagePadding[1];let s=this.renderer.settings.display.barCountPerPartial,o=[],a=new _8,l=0;for(;r<=i;){let u=this._system.addBars(this.renderer.tracks,r);if(u)if(a.masterBars.length===0&&u.isLinkedToPrevious&&o.length>0){let d=o[o.length-1];d.masterBars.push(e.masterBars[r]),d.width+=u.width,l+=u.width,a.x+=l}else a.masterBars.push(e.masterBars[r]),a.width+=u.width,a.masterBars.length>=s&&(o.length===0&&(a.width+=this._system.accoladeWidth+this._pagePadding[0]),l+=a.width,o.push(a),Qe.debug(this.name,"Finished partial from bar "+a.masterBars[0].index+" to "+a.masterBars[a.masterBars.length-1].index,null),a=new _8,a.x=l);r++}a.masterBars.length>0&&(o.length===0&&(a.width+=this._system.accoladeWidth+this._pagePadding[0]),o.push(a),Qe.debug(this.name,"Finished partial from bar "+a.masterBars[0].index+" to "+a.masterBars[a.masterBars.length-1].index,null)),this.finalizeStaffSystem(),this.height=Math.floor(this._system.y+this._system.height),this.width=this._system.x+this._system.width+this._pagePadding[2],r=0;let c=0;for(let u=0;u<o.length;u++){const d=o[u],h=new ep;h.x=c,h.y=0,h.totalWidth=this.width,h.totalHeight=this.height,h.width=d.width,h.height=this.height,h.firstMasterBarIndex=d.masterBars[0].index,h.lastMasterBarIndex=d.masterBars[d.masterBars.length-1].index,c+=d.width;const f=r,p=u;this._system.buildBoundingsLookup(0,0),this.registerPartial(h,m=>{let y=this._system.getBarX(d.masterBars[0].index)+this._system.accoladeWidth;p===0&&(y-=this._system.x+this._system.accoladeWidth),m.color=this.renderer.settings.display.resources.mainGlyphColor,m.textAlign=$t.Left,Qe.debug(this.name,"Rendering partial from bar "+d.masterBars[0].index+" to "+d.masterBars[d.masterBars.length-1].index,null),this._system.paintPartial(-y,this._system.y,m,f,d.masterBars.length)}),r+=d.masterBars.length}this.height=this.layoutAndRenderAnnotation(this.height)+this._pagePadding[3]}finalizeStaffSystem(){this._system.scaleToWidth(this._system.width),this._system.finalizeSystem()}}class aBe extends wY{get name(){return"PageView"}constructor(e){super(e),this._systems=[],this._allMasterBarRenderers=[],this._barsFromPreviousSystem=[],this._pagePadding=null}doLayoutAndRender(){switch(this.renderer.settings.display.systemsLayoutMode){case qh.Automatic:this.systemsLayoutMode=ma.Automatic;break;case qh.UseModelLayout:this.systemsLayoutMode=ma.FromModelWithScale;break}this._pagePadding=this.renderer.settings.display.padding,this._pagePadding||(this._pagePadding=[0,0,0,0]),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this._pagePadding[1];this.width=this.renderer.width,this._allMasterBarRenderers=[],e=this.layoutAndRenderScoreInfo(e,-1),e=this.layoutAndRenderTunings(e,-1),e=this.layoutAndRenderChordDiagrams(e,-1),e=this.layoutAndRenderScore(e),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}get supportsResize(){return!0}get firstBarX(){let e=this._pagePadding[0];return this._systems.length>0&&(e+=this._systems[0].accoladeWidth),e}doResize(){let e=this._pagePadding[1];this.width=this.renderer.width;let n=this.height;e=this.layoutAndRenderScoreInfo(e,n),e=this.layoutAndRenderTunings(e,n),e=this.layoutAndRenderChordDiagrams(e,n),e=this.resizeAndRenderScore(e,n),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}layoutAndRenderTunings(e,n=-1){if(!this.tuningGlyph)return e;let r=this.renderer.settings.display.resources;this.tuningGlyph.x=this._pagePadding[0],this.tuningGlyph.width=this.width,this.tuningGlyph.doLayout();let i=this.tuningGlyph.height;const s=new ep;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=n<0?e+s.height:n,this.registerPartial(s,o=>{o.color=r.scoreInfoColor,o.textAlign=$t.Center,this.tuningGlyph.paint(0,0,o)}),e+i}layoutAndRenderChordDiagrams(e,n=-1){if(!this.chordDiagrams)return e;const r=this.renderer.settings.display.resources;this.chordDiagrams.width=this.width,this.chordDiagrams.doLayout();const i=Math.floor(this.chordDiagrams.height),s=new ep;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=n<0?e+i:n,this.registerPartial(s,o=>{o.color=r.scoreInfoColor,o.textAlign=$t.Center,this.chordDiagrams.paint(0,0,o)}),e+i}layoutAndRenderScoreInfo(e,n=-1){Qe.debug(this.name,"Layouting score info");const r=new ep;r.x=0,r.y=e;let i=0,s=this.scale,o=this.renderer.settings.display.resources,a=[Kt.ScoreTitle,Kt.ScoreSubTitle,Kt.ScoreArtist,Kt.ScoreAlbum,Kt.ScoreWordsAndMusic];for(let u=0;u<a.length;u++)if(this.scoreInfoGlyphs.has(a[u])){let d=this.scoreInfoGlyphs.get(a[u]);d.x=this.width/2,d.y=i,d.textAlign=$t.Center,i+=d.font.size*s}let l=!1,c=0;if(this.scoreInfoGlyphs.has(Kt.ScoreMusic)){let u=this.scoreInfoGlyphs.get(Kt.ScoreMusic);u.x=this.width-this._pagePadding[2],u.y=i,u.textAlign=$t.Right,l=!0,c=u.font.size*s}if(this.scoreInfoGlyphs.has(Kt.ScoreWords)){let u=this.scoreInfoGlyphs.get(Kt.ScoreWords);u.x=this._pagePadding[0],u.y=i,u.textAlign=$t.Left,l=!0,c=u.font.size*s}return l&&(i+=c),this.scoreInfoGlyphs.size>0&&(i=Math.floor(i+17*this.scale),r.width=this.width,r.height=i,r.totalWidth=this.width,r.totalHeight=n<0?e+r.height:n,this.registerPartial(r,u=>{u.color=o.scoreInfoColor,u.textAlign=$t.Center;for(const d of this.scoreInfoGlyphs.values())d.paint(0,0,u)})),e+i}resizeAndRenderScore(e,n){if(this.renderer.settings.display.barsPerRow>0||this.systemsLayoutMode==ma.FromModelWithScale)for(let i=0;i<this._systems.length;i++){let s=this._systems[i];this.fitSystem(s),e+=this.paintSystem(s,n)}else{this._systems=[];let i=0,s=this.maxWidth,o=this.createEmptyStaffSystem();for(o.index=this._systems.length,o.x=this._pagePadding[0],o.y=e;i<this._allMasterBarRenderers.length;){let a=this._allMasterBarRenderers[i];if(o.width+a.width<=s||o.masterBarsRenderers.length===0)o.addMasterBarRenderers(this.renderer.tracks,a),i++;else{for(;a&&!a.canWrap&&o.masterBarsRenderers.length>1;)a=o.revertLastBar(),i--;o.isFull=!0,o.isLast=this.lastBarIndex===o.lastBarIndex,this._systems.push(o),this.fitSystem(o),e+=this.paintSystem(o,n),o=this.createEmptyStaffSystem(),o.index=this._systems.length,o.x=this._pagePadding[0],o.y=e}}o.isLast=this.lastBarIndex===o.lastBarIndex,this.fitSystem(o),e+=this.paintSystem(o,n)}return e}layoutAndRenderScore(e){let r=this.firstBarIndex,i=this.lastBarIndex;for(this._systems=[];r<=i;){let s=this.createStaffSystem(r,i);this._systems.push(s),s.x=this._pagePadding[0],s.y=e,r=s.lastBarIndex+1,this.fitSystem(s),Qe.debug(this.name,"Rendering partial from bar "+s.firstBarIndex+" to "+s.lastBarIndex,null),e+=this.paintSystem(s,e)}return e}paintSystem(e,n){let r=Math.floor(e.height);const i=new ep;return i.x=0,i.y=e.y,i.totalWidth=this.width,i.totalHeight=n,i.width=this.width,i.height=r,i.firstMasterBarIndex=e.firstBarIndex,i.lastMasterBarIndex=e.lastBarIndex,e.buildBoundingsLookup(0,0),this.registerPartial(i,s=>{this.renderer.canvas.color=this.renderer.settings.display.resources.mainGlyphColor,this.renderer.canvas.textAlign=$t.Left,e.paint(0,-i.y,s)}),n+=r,r}fitSystem(e){e.isFull||e.width>this.maxWidth||this.renderer.settings.display.justifyLastSystem?e.scaleToWidth(this.maxWidth):e.scaleToWidth(e.width),e.finalizeSystem()}getBarsPerSystem(e){let n=this.renderer.settings.display.barsPerRow;if(this.systemsLayoutMode==ma.FromModelWithScale){let r,i;this.renderer.tracks.length>1?(r=this.renderer.score.defaultSystemsLayout,i=this.renderer.score.systemsLayout):(r=this.renderer.tracks[0].defaultSystemsLayout,i=this.renderer.tracks[0].systemsLayout),n=e<i.length?i[e]:r}return n}createStaffSystem(e,n){let r=this.createEmptyStaffSystem();r.index=this._systems.length;let i=this.getBarsPerSystem(r.index),s=this.maxWidth,o=n+1,a=e;for(;a<o;){if(this._barsFromPreviousSystem.length>0)for(let c of this._barsFromPreviousSystem)r.addMasterBarRenderers(this.renderer.tracks,c),a=c.masterBar.index;else{let c=r.addBars(this.renderer.tracks,a);c&&this._allMasterBarRenderers.push(c)}this._barsFromPreviousSystem=[];let l=!1;if((i===-1&&r.width>=s&&r.masterBarsRenderers.length!==0||r.masterBarsRenderers.length===i+1)&&(l=!0),l){let c=r.revertLastBar();if(c)for(this._barsFromPreviousSystem.push(c);c&&!c.canWrap&&r.masterBarsRenderers.length>1;)c=r.revertLastBar(),c&&this._barsFromPreviousSystem.push(c);return r.isFull=!0,r.isLast=!1,this._barsFromPreviousSystem.reverse(),r}r.x=0,a++}return r.isLast=n===r.lastBarIndex,r}get maxWidth(){return this.renderer.width-this._pagePadding[0]-this._pagePadding[2]}}class xu extends Mi{constructor(e,n,r,i){super(e,n,i,xu.getMusicSymbol(r)),this._accidentalType=r}static getMusicSymbol(e){switch(e){case Nt.Natural:return Q.AccidentalNatural;case Nt.Sharp:return Q.AccidentalSharp;case Nt.Flat:return Q.AccidentalFlat;case Nt.NaturalQuarterNoteUp:return Q.AccidentalQuarterToneNaturalArrowUp;case Nt.SharpQuarterNoteUp:return Q.AccidentalQuarterToneSharpArrowUp;case Nt.FlatQuarterNoteUp:return Q.AccidentalQuarterToneFlatArrowUp;case Nt.DoubleSharp:return Q.AccidentalDoubleSharp;case Nt.DoubleFlat:return Q.AccidentalDoubleFlat}return Q.None}doLayout(){switch(this._accidentalType){case Nt.DoubleFlat:this.width=18;break;default:this.width=8;break}this.width=this.width*this.glyphScale*this.scale}}class kI extends Mi{constructor(e,n,r,i){super(e,n,1,kI.getSymbol(r)),this._clef=r,this._clefOttava=i}doLayout(){switch(this._clef){case ln.Neutral:this.width=15*this.scale;break;case ln.C3:case ln.C4:case ln.F4:case ln.G2:this.width=28*this.scale;break}}static getSymbol(e){switch(e){case ln.Neutral:return Q.UnpitchedPercussionClef1;case ln.C3:return Q.CClef;case ln.C4:return Q.CClef;case ln.F4:return Q.FClef;case ln.G2:return Q.GClef;default:return Q.None}}paint(e,n,r){super.paint(e,n,r);let i,s=!1;switch(this._clefOttava){case Xn._15ma:i=new Mi(-4*this.scale,0,.5,Q.Quindicesima),s=!0;break;case Xn._8va:i=new Mi(-2*this.scale,0,.5,Q.Ottava),s=!0;break;case Xn._8vb:i=new Mi(-6*this.scale,0,.5,Q.Ottava);break;case Xn._15mb:i=new Mi(-8*this.scale,0,.5,Q.Quindicesima);break;default:return}let o=0,a=0;switch(this._clef){case ln.Neutral:o=s?-12:15,a=0;break;case ln.C3:o=s?-19:27,a=0;break;case ln.C4:o=s?-19:27,a=0;break;case ln.F4:o=s?-9:27,a=-4;break;case ln.G2:o=s?-37:30,a=0;break;default:return}i.renderer=this.renderer,i.doLayout();let l=this.width/2;i.paint(e+this.x+l+a*this.scale,n+this.y+o*this.scale,r)}}class zy extends Ea{constructor(e,n,r){super(e,n),this._note=r}static getSymbol(e,n){switch(e){case hi.None:return Q.None;case hi.Normal:return n?Q.ArticAccentAbove:Q.ArticAccentBelow;case hi.Heavy:return n?Q.ArticMarcatoAbove:Q.ArticMarcatoBelow;case hi.Tenuto:return n?Q.ArticTenutoAbove:Q.ArticTenutoBelow;default:return Q.None}}doLayout(){this.width=9*this.scale,this.height=9*this.scale}paint(e,n,r){const i=this.renderer.getBeatDirection(this._note.beat),s=zy.getSymbol(this._note.accentuated,i==Je.Down),o=2*this.scale,a=i==Je.Up?n+this.y:n+this.y+this.height-o;r.fillMusicFontSymbol(e+this.x-2*this.scale,a,this.scale,s,!1)}}class Gb extends ii{constructor(e,n,r){super(e,n),this._size=0,this._size=r}doLayout(){this.width=this._size+3*this.scale}paint(e,n,r){r.fillCircle(e+this.x,n+this.y,this._size)}}class lBe extends Mi{constructor(e,n,r){super(e,n,r?nn.GraceScale:1,Q.NoteheadXOrnate),this._isGrace=r}doLayout(){this.width=9*(this._isGrace?nn.GraceScale:1)*this.scale,this.height=nn.NoteHeadHeight*this.scale}}class G2 extends Mi{constructor(e,n,r,i){super(e,n,i?nn.GraceScale:1,G2.getSymbol(r)),this._isGrace=i}static getSymbol(e){switch(e){case ve.QuadrupleWhole:case ve.DoubleWhole:case ve.Whole:case ve.Half:return Q.NoteheadDiamondWhiteWide;default:return Q.NoteheadDiamondBlackWide}}doLayout(){this.width=9*(this._isGrace?nn.GraceScale:1)*this.scale,this.height=nn.NoteHeadHeight*this.scale}}class Li extends ii{constructor(e,n,r){super(0,0),this.yOffset=0,this.startNoteRenderer=null,this.endNoteRenderer=null,this.tieDirection=Je.Up,this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._tieHeight=0,this._shouldDraw=!1,this.startBeat=e,this.endBeat=n,this.forEnd=r}doLayout(){if(this.width=0,!this.endBeat){this._shouldDraw=!1;return}let e=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar);this.startNoteRenderer=e;let n=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.endBeat.voice.bar);this.endNoteRenderer=n,this._startX=0,this._endX=0,this._startY=0,this._endY=0,this.height=0,this._shouldDraw=!1,this.tieDirection=e?this.getBeamDirection(this.startBeat,e):this.getBeamDirection(this.endBeat,n),!this.forEnd&&e?(e!==n?(this._startX=e.x+this.getStartX(),this._startY=e.y+this.getStartY()+this.yOffset,!n||e.staff!==n.staff?(this._endX=e.x+e.width,this._endY=this._startY):(this._endX=n.x+this.getEndX(),this._endY=n.y+this.getEndY()+this.yOffset)):(this._startX=e.x+this.getStartX(),this._endX=n.x+this.getEndX(),this._startY=e.y+this.getStartY()+this.yOffset,this._endY=n.y+this.getEndY()+this.yOffset),this._shouldDraw=!0):(!e||e.staff!==n.staff)&&(this._startX=n.x,this._endX=n.x+this.getEndX(),this._startY=n.y+this.getEndY()+this.yOffset,this._endY=this._startY,this._shouldDraw=!0),this._shouldDraw&&(this.y=Math.min(this._startY,this._endY),this.shouldDrawBendSlur()?this._tieHeight=0:(this._tieHeight=this.getTieHeight(this._startX,this._startY,this._endX,this._endY),this.height=Li.calculateActualTieHeight(this.renderer.scale,this._startX,this._startY,this._endX,this._endY,this.tieDirection===Je.Down,this._tieHeight,4).h),this.tieDirection===Je.Up&&(this.y-=this.height))}paint(e,n,r){this._shouldDraw&&(this.shouldDrawBendSlur()?Li.drawBendSlur(r,e+this._startX,n+this._startY,e+this._endX,n+this._endY,this.tieDirection===Je.Down,this.scale):Li.paintTie(r,this.scale,e+this._startX,n+this._startY,e+this._endX,n+this._endY,this.tieDirection===Je.Down,this._tieHeight,4))}shouldDrawBendSlur(){return!1}getTieHeight(e,n,r,i){return 22}getBeamDirection(e,n){return Je.Down}getStartY(){return 0}getEndY(){return 0}getStartX(){return 0}getEndX(){return 0}static calculateActualTieHeight(e,n,r,i,s,o,a,l){const c=Li.computeBezierControlPoints(e,n,r,i,s,o,a,l);n=c[0],r=c[1];const u=c[2],d=c[3];i=c[6],s=c[7];const h=(n-u)/(n-2*u+i),f=Li.calculateExtrema(n,r,u,d,i,s,h),p=f.length>0?Math.min(n,i,f[0]):Math.min(n,i),m=f.length>0?Math.max(n,i,f[0]):Math.max(n,i),y=(r-d)/(r-2*d+s),S=Li.calculateExtrema(n,r,u,d,i,s,y),w=S.length>0?Math.min(r,s,S[1]):Math.min(r,s),v=S.length>0?Math.max(r,s,S[1]):Math.max(r,s),k=new po;return k.x=p,k.y=w,k.w=m-p,k.h=v-w,k}static calculateExtrema(e,n,r,i,s,o,a){if(a<=0||1<=a)return[];const l=e+(r-e)*a,c=n+(i-n)*a,u=r+(s-r)*a,d=i+(o-i)*a;return[l+(u-l)*a,c+(d-c)*a]}static computeBezierControlPoints(e,n,r,i,s,o,a,l){if(n===i&&r===s)return[];if(i<n){let w=n;n=i,i=w,w=r,r=s,s=w}a*=e,l*=e;let c=s-r,u=i-n,d=Math.sqrt(c*c+u*u);o?c*=-1:u*=-1,c/=d,u/=d;let h=(i+n)/2,f=(s+r)/2,p=h+a*c,m=f+a*u,y=h+(a-l)*c,S=f+(a-l)*u;return[n,r,p,m,y,S,i,s]}static paintTie(e,n,r,i,s,o,a=!1,l=22,c=4){const u=Li.computeBezierControlPoints(n,r,i,s,o,a,l,c);e.beginPath(),e.moveTo(u[0],u[1]),e.quadraticCurveTo(u[2],u[3],u[6],u[7]),e.quadraticCurveTo(u[4],u[5],u[0],u[1]),e.closePath(),e.fill()}static drawBendSlur(e,n,r,i,s,o,a,l){let c=s-r,u=i-n,d=Math.sqrt(c*c+u*u);o?c*=-1:u*=-1,c/=d,u/=d;let h=(i+n)/2,f=(s+r)/2,p=Li.BendSlurHeight*a;i-n<20&&(p/=2);let m=h+p*c,y=f+p*u;if(e.beginPath(),e.moveTo(n,r),e.lineTo(m,y),e.lineTo(i,s),e.stroke(),l){let S=e.measureText(l).width,w=o?0:-e.font.size;e.fillText(l,m-S/2,y+w)}}}Li.BendSlurHeight=11;class lm extends ii{constructor(e){super(0,0),this._isOpen=e}doLayout(){super.doLayout(),this.width=lm.Size*this.scale}paint(e,n,r){this._isOpen?Li.paintTie(r,this.scale,e+this.x+this.width,n+this.y+this.height,e+this.x+this.width,n+this.y,!1,6,3):Li.paintTie(r,this.scale,e+this.x,n+this.y,e+this.x,n+this.y+this.height,!1,6,3)}}lm.Size=6;class cBe{constructor(e,n){this.line=0,this.line=e,this.isGhost=n}}class U2 extends ii{constructor(e){super(0,0),this._infos=[],this._glyphs=[],this.isEmpty=!0,this._isOpen=e}addParenthesis(e){let n=this.renderer,r=n.getNoteLine(e),i=e.isGhost||this.isTiedBend(e)&&n.settings.notation.isNotationElementVisible(Kt.ParenthesisOnTiedBends);this.addParenthesisOnLine(r,i)}addParenthesisOnLine(e,n){let r=new cBe(e,n);this._infos.push(r),n&&(this.isEmpty=!1)}isTiedBend(e){return e.isTieDestination?e.tieOrigin.hasBend?!0:this.isTiedBend(e.tieOrigin):!1}doLayout(){let e=this.renderer;this._infos.sort((i,s)=>i.line-s.line);let n=null,r=e.getScoreHeight(1);for(let i=0,s=this._infos.length;i<s;i++){let o;if(!this._infos[i].isGhost)n=null;else if(!n)o=new lm(this._isOpen),o.renderer=this.renderer,o.y=e.getScoreY(this._infos[i].line)-r,o.height=r*2,o.doLayout(),this._glyphs.push(o),n=o;else{let a=e.getScoreY(this._infos[i].line)+r;n.height=a-n.y}}this.width=this._glyphs.length>0?this._glyphs[0].width:0}paint(e,n,r){super.paint(e,n,r);for(let i of this._glyphs)i.paint(e+this.x,n+this.y,r)}}class uBe{constructor(e,n){this.line=0,this.glyph=e,this.line=n}}class SY extends ii{constructor(){super(0,0),this._infos=[],this._noteHeadPadding=0,this.minNote=null,this.maxNote=null,this.spacingChanged=new Ki,this.upLineX=0,this.downLineX=0,this.displacedX=0,this.noteStartX=0}add(e,n){let r=new uBe(e,n);this._infos.push(r),(!this.minNote||this.minNote.line>r.line)&&(this.minNote=r),(!this.maxNote||this.maxNote.line<r.line)&&(this.maxNote=r)}get hasTopOverflow(){return!!this.minNote&&this.minNote.line<=0}get hasBottomOverflow(){return!!this.maxNote&&this.maxNote.line>8}doLayout(){this._infos.sort((a,l)=>l.line-a.line);let e=0,n=!1,r=0,i=!1,s=this.direction,o=0;for(let a=0,l=this._infos.length;a<l;a++){let c=this._infos[a].glyph;c.renderer=this.renderer,c.doLayout();let u=!1;a===0?e=c.width:Math.abs(r-this._infos[a].line)<=1?n?n=!1:(u=!0,c.x=e,i=!0,n=!0):n=!1,s===Je.Down?c.x=u?0:e:c.x=u?e:0,c.x+=this.noteStartX,r=this._infos[a].line,o=Math.max(o,c.x+c.width)}i?(this._noteHeadPadding=0,this.upLineX=e,this.downLineX=e):(this._noteHeadPadding=s===Je.Down?-e:0,o+=this._noteHeadPadding,this.upLineX=o,this.downLineX=0),this.displacedX=e,this.width=o}paint(e,n,r){e+=this.x,n+=this.y;let i=this.renderer,s=3*this.scale,o=this.width-this.noteStartX+s*2;if(this.hasTopOverflow){let c=r.color;r.color=i.resources.staffLineColor;let u=-2;for(;u>=this.minNote.line;){let d=n+i.getScoreY(u);r.fillRect(e-s+this.noteStartX,d,o,this.scale),u-=2}r.color=c}if(this.hasBottomOverflow){let c=r.color;r.color=i.resources.staffLineColor;let u=10;for(;u<=this.maxNote.line;){let d=n+i.getScoreY(u);r.fillRect(e-s+this.noteStartX,d,o,this.scale),u+=2}r.color=c}let a=this._infos,l=e+this._noteHeadPadding;for(let c of a)c.glyph.renderer=this.renderer,c.glyph.paint(l,n,r)}}class cT extends Mi{constructor(e,n,r){super(e,n,1,cT.getSymbol(r))}doLayout(){this.width=12*this.scale}static getSymbol(e){switch(e){case ve.ThirtySecond:return Q.Tremolo3;case ve.Sixteenth:return Q.Tremolo2;case ve.Eighth:return Q.Tremolo1;default:return Q.None}}}class dBe extends SY{constructor(){super(),this._noteGlyphLookup=new Map,this._notes=[],this._tremoloPicking=null,this.aboveBeatEffects=new Map,this.belowBeatEffects=new Map}get direction(){return this.beamingHelper.direction}getNoteX(e,n){if(this._noteGlyphLookup.has(e.id)){let r=this._noteGlyphLookup.get(e.id),i=this.x+r.x+this._noteHeadPadding;switch(n){case mr.Left:break;case mr.Center:i+=r.width/2;break;case mr.Right:i+=r.width;break}return i}return 0}getNoteY(e,n){if(this._noteGlyphLookup.has(e.id)){const r=this._noteGlyphLookup.get(e.id);let i=this.y+r.y;switch(n){case kt.TopWithStem:i-=this.renderer.getStemSize(this.beamingHelper);break;case kt.Top:i-=r.height/2;break;case kt.Center:break;case kt.Bottom:i+=r.height/2;break;case kt.BottomWithStem:i+=this.renderer.getStemSize(this.beamingHelper);break}return i}return 0}addNoteGlyph(e,n,r){super.add(e,r),this._noteGlyphLookup.set(n.id,e),this._notes.push(n)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.upLineX,e+this.x+this.downLineX)}doLayout(){super.doLayout();let e=this.renderer,n=this.direction,r=0,i=0,s=1,o=-s;this.direction===Je.Up?(i=e.getScoreY(this.minNote.line),r=e.getScoreY(this.maxNote.line-2)):(i=e.getScoreY(this.minNote.line-1),r=e.getScoreY(this.maxNote.line+1),o*=-1,s*=-1);let a=null,l=null;for(const c of this.aboveBeatEffects.values())c.renderer=this.renderer,c.doLayout(),r+=o*c.height,c.y=r,(a===null||a>r)&&(a=r),(l===null||l<r)&&(l=r);for(const c of this.belowBeatEffects.values())c.renderer=this.renderer,c.doLayout(),i+=s*c.height,c.y=i,(a===null||a>i)&&(a=i),(l===null||l<i)&&(l=i);if(a!==null&&e.registerBeatEffectOverflows(a,l??0),this.beat.isTremolo){let c=0,u=n===Je.Up?this.minNote:this.maxNote,d=n===Je.Up?this.displacedX:0,h=this.beat.tremoloSpeed;switch(h){case ve.ThirtySecond:c=n===Je.Up?-15:15;break;case ve.Sixteenth:c=n===Je.Up?-12:15;break;case ve.Eighth:c=n===Je.Up?-10:10;break;default:c=n===Je.Up?-10:15;break}this.beat.duration<ve.Half&&(d=this.width/2),this._tremoloPicking=new cT(d,u.glyph.y+c*this.scale,h),this._tremoloPicking.renderer=this.renderer,this._tremoloPicking.doLayout()}}buildBoundingsLookup(e,n,r){for(let i of this._notes)if(this._noteGlyphLookup.has(i.id)){let s=this._noteGlyphLookup.get(i.id),o=new Vv;o.note=i,o.noteHeadBounds=new po,o.noteHeadBounds.x=n+this.x+this._noteHeadPadding+s.x,o.noteHeadBounds.y=r+this.y+s.y-s.height/2,o.noteHeadBounds.w=s.width,o.noteHeadBounds.h=s.height,e.addNote(o)}}paint(e,n,r){for(const i of this.aboveBeatEffects.values())i.paint(e+this.x+2*this.scale,n+this.y,r);for(const i of this.belowBeatEffects.values())i.paint(e+this.x+2*this.scale,n+this.y,r);super.paint(e,n,r),this._tremoloPicking&&this._tremoloPicking.paint(e,n,r)}}class Bp extends Mi{constructor(e,n,r){super(e,n,1,Bp.getSymbol(r)),this._duration=r}static getSymbol(e){switch(e){case ve.QuadrupleWhole:return Q.RestLonga;case ve.DoubleWhole:return Q.RestDoubleWhole;case ve.Whole:return Q.RestWhole;case ve.Half:return Q.RestHalf;case ve.Quarter:return Q.RestQuarter;case ve.Eighth:return Q.RestEighth;case ve.Sixteenth:return Q.RestSixteenth;case ve.ThirtySecond:return Q.RestThirtySecond;case ve.SixtyFourth:return Q.RestSixtyFourth;case ve.OneHundredTwentyEighth:return Q.RestOneHundredTwentyEighth;case ve.TwoHundredFiftySixth:return Q.RestTwoHundredFiftySixth;default:return Q.None}}static getSize(e){switch(e){case ve.QuadrupleWhole:case ve.DoubleWhole:case ve.Whole:case ve.Half:case ve.Quarter:case ve.Eighth:case ve.Sixteenth:return 9;case ve.ThirtySecond:return 12;case ve.SixtyFourth:return 14;case ve.OneHundredTwentyEighth:case ve.TwoHundredFiftySixth:return 20}return 10}doLayout(){this.width=Bp.getSize(this._duration)*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class M8{constructor(){this.x=0,this.y=-3e3,this.width=0}}class TI extends Xl{constructor(){super(0,0)}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}this.glyphs.sort((r,i)=>r.y<i.y?-1:r.y>i.y?1:0);let e=[];e.push(new M8);let n=21*this.scale;for(let r=0,i=this.glyphs.length;r<i;r++){let s=this.glyphs[r];s.renderer=this.renderer,s.doLayout();let o=0;for(;e[o].y>s.y;)o++,o===e.length&&e.push(new M8);s.x=o,e[o].y=s.y+n,e[o].width<s.width&&(e[o].width=s.width)}this.width=0;for(const r of e)this.width+=r.width,r.x=this.width;for(let r=0,i=this.glyphs.length;r<i;r++){let s=this.glyphs[r];const o=e[s.x];s.x=this.width-o.x}}}class jo extends SY{get direction(){return Je.Up}constructor(e,n=!1){super(),this._showParenthesis=!1,this._noteValueLookup=new Map,this._accidentals=new TI,this._preNoteParenthesis=null,this._postNoteParenthesis=null,this.isEmpty=!0,this.noteHeadOffset=0,this._beat=e,this._showParenthesis=n,n&&(this._preNoteParenthesis=new U2(!0),this._postNoteParenthesis=new U2(!1))}containsNoteValue(e){return this._noteValueLookup.has(e)}getNoteValueY(e){return this._noteValueLookup.has(e)?this.y+this._noteValueLookup.get(e).y:0}addGlyph(e,n=!1){let r=this.renderer,i=new nn(0,0,ve.Quarter,!0),s=r.accidentalHelper.applyAccidentalForValue(this._beat,e,n,!0),o=r.accidentalHelper.getNoteLineForValue(e,!1);if(i.y=r.getScoreY(o),this._showParenthesis&&(this._preNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.addParenthesisOnLine(o,!0),this._postNoteParenthesis.addParenthesisOnLine(o,!0)),s!==Nt.None){let a=new xu(0,i.y,s,nn.GraceScale);a.renderer=this.renderer,this._accidentals.renderer=this.renderer,this._accidentals.addGlyph(a)}this._noteValueLookup.set(e,i),this.add(i,o),this.isEmpty=!1}doLayout(){let e=0;this._showParenthesis&&(this._preNoteParenthesis.x=e,this._preNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.doLayout(),e+=this._preNoteParenthesis.width+jo.ElementPadding*this.scale),this._accidentals.isEmpty||(e+=this._accidentals.width+jo.ElementPadding*this.scale,this._accidentals.x=e,this._accidentals.renderer=this.renderer,this._accidentals.doLayout(),e+=this._accidentals.width+jo.ElementPadding*this.scale),this.noteStartX=e,super.doLayout(),this.noteHeadOffset=this.noteStartX+(this.width-this.noteStartX)/2,this._showParenthesis&&(this._postNoteParenthesis.x=this.width+jo.ElementPadding*this.scale,this._postNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.doLayout(),this.width+=this._postNoteParenthesis.width+jo.ElementPadding*this.scale)}paint(e,n,r){this._accidentals.isEmpty||this._accidentals.paint(e+this.x,n+this.y,r),this._showParenthesis&&(this._preNoteParenthesis.paint(e+this.x,n+this.y,r),this._postNoteParenthesis.paint(e+this.x,n+this.y,r)),super.paint(e,n,r)}}jo.ElementPadding=2;class PI extends ii{constructor(){super(...arguments),this.BendNoteHeads=[]}drawBendSlur(e,n,r,i,s,o,a,l){Li.drawBendSlur(e,n,r,i,s,o,a,l)}doLayout(){super.doLayout(),this.width=0;for(let e of this.BendNoteHeads)e.doLayout(),this.width+=e.width+10*this.scale}getTieDirection(e,n){switch(n.getBeatDirection(e)){case Je.Up:return Je.Down;default:return Je.Up}}}PI.EndPadding=(10/2|0)+3;class oh extends dt{constructor(e=0,n=0){super(e,n),this.lineValue=0,this.lineValue=n}}class _l extends ii{constructor(){super(0,0),this._notes=[],this._renderPoints=new Map,this._preBendMinValue=-1,this._bendMiddleMinValue=-1,this._bendEndMinValue=-1,this._bendEndContinuedMinValue=-1,this._releaseMinValue=-1,this._releaseContinuedMinValue=-1,this._maxBendValue=-1}addBends(e){this._notes.push(e);let n=this.createRenderingPoints(e);this._renderPoints.set(e.id,n),(this._maxBendValue===-1||this._maxBendValue<e.maxBendPoint.value)&&(this._maxBendValue=e.maxBendPoint.value);let r=0;switch(e.bendType){case _t.Bend:r=n[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||r<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=r):(this._bendEndMinValue===-1||r<this._bendEndMinValue)&&(this._bendEndMinValue=r);break;case _t.Release:r=n[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||r<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=r):r>0&&(this._releaseMinValue===-1||r<this._releaseMinValue)&&(this._releaseMinValue=r);break;case _t.BendRelease:r=n[1].value,(this._bendMiddleMinValue===-1||r<this._bendMiddleMinValue)&&(this._bendMiddleMinValue=r),r=n[2].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||r<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=r):r>0&&(this._releaseMinValue===-1||r<this._releaseMinValue)&&(this._releaseMinValue=r);break;case _t.Prebend:r=n[0].value,(this._preBendMinValue===-1||r<this._preBendMinValue)&&(this._preBendMinValue=r);break;case _t.PrebendBend:r=n[0].value,(this._preBendMinValue===-1||r<this._preBendMinValue)&&(this._preBendMinValue=r),r=n[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||r<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=r):(this._bendEndMinValue===-1||r<this._bendEndMinValue)&&(this._bendEndMinValue=r);break;case _t.PrebendRelease:r=n[0].value,(this._preBendMinValue===-1||r<this._preBendMinValue)&&(this._preBendMinValue=r),r=n[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||r<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=r):r>0&&(this._releaseMinValue===-1||r<this._releaseMinValue)&&(this._releaseMinValue=r);break}}doLayout(){super.doLayout();let e=this._maxBendValue*_l.BendValueHeight*this.scale;this.renderer.registerOverflowTop(e);let n=0;for(let r of this._notes){let i=this._renderPoints.get(r.id);switch(r.bendType){case _t.Bend:i[1].lineValue=r.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case _t.Release:n=r.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,n>=0&&(i[1].lineValue=n);break;case _t.BendRelease:i[1].lineValue=this._bendMiddleMinValue,n=r.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,n>=0&&(i[2].lineValue=n);break;case _t.Prebend:i[0].lineValue=this._preBendMinValue;break;case _t.PrebendBend:i[0].lineValue=this._preBendMinValue,i[1].lineValue=r.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case _t.PrebendRelease:i[0].lineValue=this._preBendMinValue,n=r.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,n>=0&&(i[1].lineValue=n);break}}this.width=0,this._notes.sort((r,i)=>r.isStringed?r.string-i.string:r.realValue-i.realValue)}createRenderingPoints(e){let n=[];switch(e.bendType){case _t.Custom:for(let r of e.bendPoints)n.push(new oh(r.offset,r.value));break;case _t.BendRelease:n.push(new oh(0,e.bendPoints[0].value)),n.push(new oh(dt.MaxPosition/2|0,e.bendPoints[1].value)),n.push(new oh(dt.MaxPosition,e.bendPoints[3].value));break;case _t.Bend:case _t.Hold:case _t.Prebend:case _t.PrebendBend:case _t.PrebendRelease:case _t.Release:n.push(new oh(0,e.bendPoints[0].value)),n.push(new oh(dt.MaxPosition,e.bendPoints[1].value));break}return n}paint(e,n,r){let i=r.color;this._notes.length>1&&(r.color=this.renderer.resources.secondaryGlyphColor);for(let s of this._notes){let o=this._renderPoints.get(s.id),a=this.renderer,l=s,c=!1,u=null,d=!1,h=s.bendStyle===ur.Gradual?"grad.":"",f=null;for(;l.isTieOrigin;){let v=l.tieDestination;if(u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,v.beat.voice.bar),!u||a.staff!==u.staff)break;if(l=v,c=!0,l.hasBend||!this.renderer.settings.notation.extendBendArrowsOnTiedNotes){d=!0;break}}f=l.beat,u=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,f.voice.bar),f.isLastOfVoice&&!l.hasBend&&this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&(f=null);let p=0,m=0,y=n+a.y;p=e+a.x,o[0].value>0||s.isContinuedBend?p+=a.getBeatX(s.beat,fn.MiddleNotes):p+=a.getNoteX(s,mr.Right),!f||f.isLastOfVoice&&!d?m=e+u.x+u.postBeatGlyphsStart:d||!f.nextBeat?m=e+u.x+u.getBeatX(f,fn.MiddleNotes):s.bendType===_t.Hold?m=e+u.x+u.getBeatX(f.nextBeat,fn.OnNotes):m=e+u.x+u.getBeatX(f.nextBeat,fn.PreNotes),c||(m-=_l.ArrowSize*this.scale);let w=(m-p)/dt.MaxPosition;r.beginPath();for(let v=0,k=o.length-1;v<k;v++){let P=o[v],T=o[v+1];v===0&&P.value!==0&&!s.isTieDestination&&this.paintBend(s,new oh(0,0),P,p,y,w,h,r),s.bendType!==_t.Prebend?(v===0&&(p+=2*this.scale),this.paintBend(s,P,T,p,y,w,h,r)):s.isTieOrigin&&s.tieDestination.hasBend&&(T=new oh(dt.MaxPosition,P.value),T.lineValue=P.lineValue,this.paintBend(s,P,T,p,y,w,h,r))}r.color=i}}paintBend(e,n,r,i,s,o,a,l){let c=this.renderer,u=this.renderer.resources,d=c.lineOffset/2,h=i+o*n.offset,f=_l.BendValueHeight*this.scale,p=s-f*n.lineValue;n.value===0?r.offset===n.offset?p+=c.getNoteY(e.beat.maxStringNote,kt.Top):p+=c.getNoteY(e,kt.Center):p+=d;let m=i+o*r.offset,y=s-f*r.lineValue;r.lineValue===0?y+=c.getNoteY(e,kt.Center):y+=d;let S=0,w=_l.ArrowSize*this.scale;if(r.value>n.value?(y+w>p&&(y=p-w),l.beginPath(),l.moveTo(m,y),l.lineTo(m-w*.5,y+w),l.lineTo(m+w*.5,y+w),l.closePath(),l.fill(),S=w):r.value!==n.value&&(y<p&&(y=p+w),l.beginPath(),l.moveTo(m,y),l.lineTo(m-w*.5,y-w),l.lineTo(m+w*.5,y-w),l.closePath(),l.fill(),S=-w),l.stroke(),n.value===r.value){if(n.lineValue>0){let v=m,k=_l.DashSize*this.scale,P=h+k;if((v-h)/(k*2)<1)l.moveTo(v,p),l.lineTo(h,p);else for(;v>P;)l.moveTo(v,p),l.lineTo(v-k,p),v-=k*2;l.stroke()}}else m>h?(l.moveTo(h,p),l.bezierCurveTo((h+m)/2,p,m,p,m,y+S),l.stroke()):(l.moveTo(h,p),l.lineTo(m,y),l.stroke());if(a&&n.offset<r.offset){l.font=u.graceFont;let v=l.measureText(a).width,k=0,P=0;if(p>y){let T=Math.abs(p-y);k=T>l.font.size*1.3?p-T/2:p,P=(h+m-v)/2}else k=p,P=m-v;l.fillText(a,P,k)}if(r.value!==0&&n.value!==r.value){let v=r.value,k=r.value>n.value;v=Math.abs(v);let P="";if(v===4)P="full",v-=4;else if(v>=4||v<=-4){let T=v/4|0;P+=T,v-=T*4}if(v>0&&(P+=_l.getFractionSign(v)),P!==""){y=s-f*r.value;let T=y;k||(T=p+Math.abs(y-p)*1/3),l.font=u.tablatureFont;let _=l.measureText(P).width,E=T-u.tablatureFont.size*.5-2*this.scale,I=m-_/2;l.fillText(P,I,E)}}}static getFractionSign(e){switch(e){case 1:return"";case 2:return"";case 3:return"";default:return e+"/ 4"}}}_l.ArrowSize=6;_l.DashSize=3;_l.BendValueHeight=6;class Wa extends ii{constructor(e){super(0,0),this._isSimpleDip=!1,this._beat=e,this._renderPoints=this.createRenderingPoints(e)}createRenderingPoints(e){if(e.whammyBarType===Yn.Custom)return e.whammyBarPoints;let n=[];switch(e.whammyBarType){case Yn.Dive:case Yn.Hold:case Yn.PrediveDive:case Yn.Predive:n.push(new dt(0,e.whammyBarPoints[0].value)),n.push(new dt(dt.MaxPosition,e.whammyBarPoints[1].value));break;case Yn.Dip:n.push(new dt(0,e.whammyBarPoints[0].value)),n.push(new dt(dt.MaxPosition/2|0,e.whammyBarPoints[1].value)),n.push(new dt(dt.MaxPosition,e.whammyBarPoints[e.whammyBarPoints.length-1].value));break}return n}doLayout(){super.doLayout(),this._isSimpleDip=this.renderer.settings.notation.notationMode===qi.SongBook&&this._beat.whammyBarType===Yn.Dip;let e=null,n=null,r=this._beat;for(;r&&r.hasWhammyBar;)(!e||e.value>r.minWhammyPoint.value)&&(e=r.minWhammyPoint),(!n||n.value<r.maxWhammyPoint.value)&&(n=r.maxWhammyPoint),r=r.nextBeat;let i=n.value>0?Math.abs(this.getOffset(n.value)):0;(i>0||this._beat.whammyBarPoints[0].value!==0||this.renderer.settings.notation.isNotationElementVisible(Kt.ZerosOnDiveWhammys))&&(i+=this.renderer.resources.tablatureFont.size*2);let s=e.value<0?Math.abs(this.getOffset(e.value)):0;this.renderer.registerOverflowTop(i+s);let o=this.renderer.staff.getSharedLayoutData(Wa.TopOffsetSharedDataKey,-1);i>o&&this.renderer.staff.setSharedLayoutData(Wa.TopOffsetSharedDataKey,i)}getOffset(e){if(e===0)return 0;let n=Wa.PerHalfSize*this.scale+Math.log2(Math.abs(e)/2)*Wa.PerHalfSize*this.scale;return e<0&&(n=-n),n}paint(e,n,r){let i=this.renderer,s=this._beat.nextBeat,o=null,a=fn.PreNotes;s&&(o=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,s.voice.bar),!o||o.staff!==i.staff||o!==i&&!s.hasWhammyBar?(s=null,o=null):a=s.hasWhammyBar&&(i.settings.notation.notationMode!==qi.SongBook||s.whammyBarType!==Yn.Dip)?fn.MiddleNotes:fn.PreNotes);let l=0,c=0;this._isSimpleDip?(l=e+i.x+i.getBeatX(this._beat,fn.OnNotes)-2*this.scale,c=e+i.x+i.getBeatX(this._beat,fn.PostNotes)+2*this.scale):(l=e+i.x+i.getBeatX(this._beat,fn.MiddleNotes),c=o?e+o.x+o.getBeatX(s,a):e+i.x+i.width-2*this.scale);let u=r.textAlign;if(r.textAlign=$t.Center,this._renderPoints.length>=2){let d=(c-l)/dt.MaxPosition;r.beginPath();let h=n+this.renderer.staff.getSharedLayoutData(Wa.TopOffsetSharedDataKey,0),f=this._beat.whammyStyle===ur.Gradual?"grad.":"";for(let p=0,m=this._renderPoints.length-1;p<m;p++){let y=this._renderPoints[p],S=this._renderPoints[p+1],w=p<m-2?this._renderPoints[p+2]:null,v=p===0;p===0&&y.value!==0&&!this._beat.isContinuedWhammy&&(this.paintWhammy(!1,new dt(0,0),y,S,l,h,d,r),v=!1),this.paintWhammy(v,y,S,w,l,h,d,r,f),f=""}r.stroke()}r.textAlign=u}paintWhammy(e,n,r,i,s,o,a,l,c){let u=s+a*n.offset,d=s+a*r.offset,h=o-this.getOffset(n.value),f=o-this.getOffset(r.value);if(n.offset===r.offset){let y=Wa.DashSize*this.scale;if(Math.abs(f-h)/(y*2)<1)l.moveTo(u,h),l.lineTo(d,f);else{let w=Math.max(h,f),v=Math.min(h,f);for(;w>v;)l.moveTo(u,v),l.lineTo(u,v+y),v+=y*2}l.stroke()}else if(n.value===r.value){let y=Wa.DashSize*this.scale;if(Math.abs(d-u)/(y*2)<1)l.moveTo(u,h),l.lineTo(d,f);else{let w=Math.max(u,d),v=Math.min(u,d);for(;w>v;)l.moveTo(w,h),l.lineTo(w-y,h),w-=y*2}l.stroke()}else l.moveTo(u,h),l.lineTo(d,f);let p=this.renderer.resources;if(e&&!this._beat.isContinuedWhammy&&!this._isSimpleDip){let y=h;y-=p.tablatureFont.size+2*this.scale,this.renderer.settings.notation.isNotationElementVisible(Kt.ZerosOnDiveWhammys)&&l.fillText("0",u,y),c&&(y-=p.tablatureFont.size+2*this.scale,l.fillText(c,u,y))}let m=Math.abs(r.value);if((m!==0||this.renderer.settings.notation.isNotationElementVisible(Kt.ZerosOnDiveWhammys)&&!this._isSimpleDip)&&n.value!==r.value){let y="";if(r.value<0&&(y+="-"),m>=4){let v=m/4|0;y+=v,m-=v*4}else m===0&&(y+="0");m>0&&(y+=_l.getFractionSign(m));let S=0;this._isSimpleDip?S=Math.min(h,f)-p.tablatureFont.size-2*this.scale:(S=n.offset===r.offset?Math.min(h,f):f,S-=p.tablatureFont.size+2*this.scale,i&&i.value>r.value&&(S-=2*this.scale));let w=d;l.fillText(y,w,S)}}}Wa.TopOffsetSharedDataKey="tab.whammy.topoffset";Wa.PerHalfSize=6;Wa.DashSize=3;class fp extends PI{constructor(e){super(0,0),this._beat=e}doLayout(){let e=this.renderer.settings.notation.notationMode;switch(this._beat.whammyBarType){case Yn.None:case Yn.Custom:case Yn.Hold:return;case Yn.Dive:case Yn.PrediveDive:{let n=new jo(this._beat,!1);n.renderer=this.renderer;let r=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let i of this._beat.notes)i.isTieOrigin||n.addGlyph(this.getBendNoteValue(i,r),r.value%2!==0);n.doLayout(),this.BendNoteHeads.push(n)}break;case Yn.Dip:if(e===qi.SongBook){let n=this.renderer.resources;this.renderer.simpleWhammyOverflow=n.tablatureFont.size*1.5+fp.SimpleDipHeight*this.scale+fp.SimpleDipPadding*this.scale}else{let n=new jo(this._beat,!1);if(n.renderer=this.renderer,this.renderer.settings.notation.notationMode===qi.GuitarPro){let i=this._beat.whammyBarPoints[1];for(let s of this._beat.notes)n.addGlyph(this.getBendNoteValue(s,this._beat.whammyBarPoints[1]),i.value%2!==0)}n.doLayout(),this.BendNoteHeads.push(n);let r=new jo(this._beat,!1);if(r.renderer=this.renderer,this.renderer.settings.notation.notationMode===qi.GuitarPro){let i=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let s of this._beat.notes)r.addGlyph(this.getBendNoteValue(s,i),i.value%2!==0)}r.doLayout(),this.BendNoteHeads.push(r)}break;case Yn.Predive:break}super.doLayout()}paint(e,n,r){let i=this._beat;switch(i.whammyBarType){case Yn.None:case Yn.Custom:return}let s=this.renderer.settings.notation.notationMode,o=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,i.voice.bar),a=e+o.x+o.getBeatX(i,fn.MiddleNotes),l=this.getTieDirection(i,o),c=this._beat.notes.length===1?l:Je.Up,u=r.textAlign;for(let d=0;d<i.notes.length;d++){let h=i.notes[d],f=n+o.y;d>0&&d>=(this._beat.notes.length/2|0)&&(c=Je.Down),c===Je.Down?f+=o.getNoteY(h,kt.Bottom):f+=o.getNoteY(h,kt.Top);let p=e+o.x;i.isLastOfVoice?p+=o.width:p+=o.getBeatX(i,fn.EndBeat),p-=8*this.scale;let m=i.whammyStyle===ur.Gradual&&d===0?"grad.":"",y=null;h.isTieOrigin&&(y=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,h.tieDestination.beat.voice.bar),y&&y.staff===o.staff?p=e+y.x+y.getBeatX(h.tieDestination.beat,fn.MiddleNotes):y=null);let S=nn.NoteHeadHeight*this.scale*nn.GraceScale*.5;c===Je.Up&&(S=-S);let w=i.whammyBarPoints.length>0?this.getBendNoteValue(h,i.whammyBarPoints[i.whammyBarPoints.length-1]):0,v=0,k=!1;switch(this.BendNoteHeads.length>0&&this.BendNoteHeads[0].containsNoteValue(w)?(v=this.BendNoteHeads[0].getNoteValueY(w)+S,k=!0):y&&(h.isTieOrigin&&h.tieDestination.beat.hasWhammyBar||h.beat.isContinuedWhammy)?(v=n+y.y+y.getNoteY(h.tieDestination,kt.Top),k=!0,c===Je.Down&&(v+=nn.NoteHeadHeight*this.scale)):h.isTieOrigin&&(y?v=n+y.y+y.getNoteY(h.tieDestination,kt.Top):v=f,c===Je.Down&&(v+=nn.NoteHeadHeight*this.scale)),i.whammyBarType){case Yn.Hold:h.isTieOrigin&&Li.paintTie(r,this.scale,a,f,p,v,l===Je.Down,22,4);break;case Yn.Dive:d===0&&(this.BendNoteHeads[0].x=p-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=n+o.y,this.BendNoteHeads[0].paint(0,0,r),this.BendNoteHeads[0].containsNoteValue(w)&&(v+=this.BendNoteHeads[0].y)),k?this.drawBendSlur(r,a,f,p,v,c===Je.Down,this.scale,m):h.isTieOrigin&&Li.paintTie(r,this.scale,a,f,p,v,l===Je.Down,22,4);break;case Yn.Dip:if(s===qi.SongBook){if(d===0){let _=e+o.x+o.getBeatX(this._beat,fn.OnNotes)-2*this.scale,E=e+o.x+o.getBeatX(this._beat,fn.PostNotes)+2*this.scale,I=(_+E)/2,R=((this._beat.whammyBarPoints[1].value-this._beat.whammyBarPoints[0].value)/4|0).toString();r.font=this.renderer.resources.tablatureFont,r.fillText(R,I,n+this.y);let F=n+this.y+r.font.size+2*this.scale,B=F+fp.SimpleDipHeight*this.scale;this._beat.whammyBarPoints[1].value>this._beat.whammyBarPoints[0].value?(r.moveTo(_,B),r.lineTo(I,F),r.lineTo(E,B)):(r.moveTo(_,F),r.lineTo(I,B),r.lineTo(E,F)),r.stroke()}h.isTieOrigin&&Li.paintTie(r,this.scale,a,f,p,v,l===Je.Down,22,4)}else{let _=(a+p)/2;this.BendNoteHeads[0].x=_-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=n+o.y,this.BendNoteHeads[0].paint(0,0,r);let E=this.getBendNoteValue(h,i.whammyBarPoints[1]),I=this.BendNoteHeads[0].getNoteValueY(E)+S;this.drawBendSlur(r,a,f,_,I,c===Je.Down,this.scale,m),this.BendNoteHeads[1].x=p-this.BendNoteHeads[1].noteHeadOffset,this.BendNoteHeads[1].y=n+o.y,this.BendNoteHeads[1].paint(0,0,r),v=this.BendNoteHeads[1].getNoteValueY(w)+S,this.drawBendSlur(r,_,I,p,v,c===Je.Down,this.scale,m)}break;case Yn.PrediveDive:case Yn.Predive:let P=e+o.x+o.getBeatX(h.beat,fn.PreNotes);P+=o.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let T=n+o.y+o.getScoreY(o.accidentalHelper.getNoteLineForValue(h.displayValue-(h.beat.whammyBarPoints[0].value/2|0),!1))+S;this.drawBendSlur(r,P,T,a,f,c===Je.Down,this.scale,m),this.BendNoteHeads.length>0&&(this.BendNoteHeads[0].x=p-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=n+o.y,this.BendNoteHeads[0].paint(0,0,r),this.drawBendSlur(r,a,f,p,v,c===Je.Down,this.scale,m));break}}r.textAlign=u}getBendNoteValue(e,n){return e.displayValueWithoutBend+(n.value/2|0)}}fp.SimpleDipHeight=Wa.PerHalfSize*2;fp.SimpleDipPadding=2;class ls extends ii{constructor(e,n,r){super(e,n),this.width=r}}class hBe extends Mi{constructor(e,n,r,i,s){super(e,n,s?nn.GraceScale:1,r.getSymbol(i)),this._isGrace=s,this._articulation=r}paint(e,n,r){let i=this._isGrace?this.scale:0;r.fillMusicFontSymbol(e+this.x,n+this.y+i,this.glyphScale*this.scale,this.symbol,!1),this._articulation.techniqueSymbol!==Q.None&&this._articulation.techniqueSymbolPlacement===on.Middle&&r.fillMusicFontSymbol(e+this.x,n+this.y+i,this.glyphScale*this.scale,this._articulation.techniqueSymbol,!1)}doLayout(){let e=(this._isGrace?nn.GraceScale:1)*this.scale;switch(this.symbol){case Q.NoteheadWhole:this.width=14;break;case Q.NoteheadCircleX:case Q.NoteheadDiamondWhite:this.width=9;break;case Q.NoteheadHeavyXHat:case Q.NoteheadHeavyX:this.width=13;break;default:this.width=10;break}this.width=this.width*(this._isGrace?nn.GraceScale:1)*this.scale,this.height=nn.NoteHeadHeight*e}}class E8 extends Mi{constructor(e,n){super(e,n,nn.GraceScale,Q.ArticStaccatoAbove)}doLayout(){this.width=nn.QuarterNoteHeadWidth*this.scale,this.height=7*this.scale}paint(e,n,r){super.paint(e+3*this.scale,n+5*this.scale,r)}}class fBe extends Mi{constructor(e,n){super(e,n,.5,Q.PictEdgeOfCymbal)}doLayout(){this.width=22*this.scale,this.height=15*this.scale}paint(e,n,r){super.paint(e-3*this.scale,n+this.height,r)}}class pBe extends Mi{constructor(e,n){super(e,n,nn.GraceScale,Q.GuitarGolpe)}doLayout(){this.width=9*this.scale,this.height=10*this.scale}paint(e,n,r){super.paint(e,n+this.height,r)}}class gBe extends Ea{constructor(){super(...arguments),this._strings=new Set}addString(e){this._strings.add(e)}doLayout(){const e=kc.CircleNumberHeight*kc.CircleNumberScale*this.scale;this.height=(e+3)*this._strings.size,this.width=e}paint(e,n,r){const i=this.renderer.bar.staff.tuning.length;let s=0;const o=kc.CircleNumberHeight*kc.CircleNumberScale*this.scale;for(const a of this._strings){const l=i-a,c=Q.GuitarString1+l;r.fillMusicFontSymbol(e+this.x+nn.NoteHeadHeight/2,n+this.y+o+s,kc.CircleNumberScale,c,!0),s+=o+3*this.scale}}}class ks extends Ea{constructor(e,n,r,i){super(e,n),this.beatEffects=new Map,this._isGrace=i,this._duration=r,this._symbol=ks.getSymbol(r)}paint(e,n,r){let i=this._isGrace?this.scale:0;const s=this._isGrace?nn.GraceScale:1;r.fillMusicFontSymbol(e+this.x,n+this.y+i,s*this.scale,this._symbol,!1);for(const o of this.beatEffects.values())o.paint(e+this.x,n+this.y,r)}doLayout(){const e=(this._isGrace?nn.GraceScale:1)*this.scale;switch(this._duration){case ve.QuadrupleWhole:case ve.DoubleWhole:case ve.Whole:this.width=ks.WholeNoteHeadWidth*e;break;case ve.Half:this.width=ks.HalfNoteHeadWidth*e;break;default:this.width=ks.QuarterNoteHeadWidth*e;break}this.height=ks.NoteHeadHeight*e;let n=7*this.scale,r=ks.NoteHeadHeight*this.scale;for(const i of this.beatEffects.values())i.y+=r,i.x+=this.width/2,i.renderer=this.renderer,r+=n,i.doLayout()}static getSymbol(e){switch(e){case ve.QuadrupleWhole:case ve.DoubleWhole:case ve.Whole:return Q.NoteheadSlashWhiteWhole;case ve.Half:return Q.NoteheadSlashWhiteHalf;default:return Q.NoteheadSlashVerticalEnds}}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("slash",this.beat,e+this.x+this.width,e+this.x)}}ks.NoteHeadHeight=17;ks.QuarterNoteHeadWidth=12;ks.HalfNoteHeadWidth=25;ks.WholeNoteHeadWidth=32;class mBe extends Xp{constructor(){super(...arguments),this._collisionOffset=-1e3,this._skipPaint=!1,this.slash=null,this.noteHeads=null,this.restGlyph=null}getNoteX(e,n){return this.noteHeads?this.noteHeads.getNoteX(e,n):0}buildBoundingsLookup(e,n,r){this.noteHeads&&this.noteHeads.buildBoundingsLookup(e,n+this.x,r+this.y)}getNoteY(e,n){return this.noteHeads?this.noteHeads.getNoteY(e,n):0}updateBeamingHelper(){if(this.noteHeads)this.noteHeads.updateBeamingHelper(this.container.x+this.x);else if(this.restGlyph){if(this.restGlyph.updateBeamingHelper(this.container.x+this.x),this.renderer.bar.isMultiVoice&&this._collisionOffset===-1e3){this._collisionOffset=this.renderer.helpers.collisionHelper.applyRestCollisionOffset(this.container.beat,this.restGlyph.y,this.renderer.getScoreHeight(1)),this.y+=this._collisionOffset;const e=this.renderer.helpers.collisionHelper.restDurationsByDisplayTime;e.has(this.container.beat.playbackStart)&&e.get(this.container.beat.playbackStart).has(this.container.beat.playbackDuration)&&e.get(this.container.beat.playbackStart).get(this.container.beat.playbackDuration)!==this.container.beat.id&&(this._skipPaint=!0)}}else this.slash&&this.slash.updateBeamingHelper(this.container.x+this.x)}paint(e,n,r){this._skipPaint||super.paint(e,n,r)}doLayout(){let e=this.renderer;if(!this.container.beat.isEmpty)if(this.container.beat.isRest){let n=Math.ceil((this.renderer.bar.staff.standardNotationLineCount-1)/2)*2;this.container.beat.duration===ve.Whole&&this.renderer.bar.staff.standardNotationLineCount!==1&&this.renderer.bar.staff.standardNotationLineCount!==3&&(n-=2);const r=new Bp(0,e.getScoreY(n),this.container.beat.duration);if(this.restGlyph=r,r.beat=this.container.beat,r.beamingHelper=this.beamingHelper,this.addGlyph(r),this.renderer.bar.isMultiVoice)if(this.container.beat.voice.index===0){const i=Mc.computeLineHeightsForRest(this.container.beat.duration);let s=r.y-e.getScoreHeight(i[0]),o=r.y+e.getScoreHeight(i[1]);this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,o)}else this.renderer.helpers.collisionHelper.registerRest(this.container.beat);if(this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,n),this.container.beat.dots>0){this.addGlyph(new ls(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new Xl(0,0);s.renderer=this.renderer,this.createBeatDot(n,s),this.addGlyph(s)}}}else{if(this.container.beat.slashed){const n=this.container.beat.graceType!==Dt.None,r=(e.heightLineCount-1)/2,i=e.getLineY(r),s=new ks(0,i,this.container.beat.duration,n);this.slash=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s)}else{const n=new dBe;this.noteHeads=n,n.beat=this.container.beat,n.beamingHelper=this.beamingHelper;let r=new U2(!1);r.renderer=this.renderer;for(let i of this.container.beat.notes)i.isVisible&&(this.createNoteGlyph(i),r.addParenthesis(i));this.addGlyph(n),r.isEmpty||(this.addGlyph(new ls(0,0,4*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale)),this.addGlyph(r))}if(this.container.beat.hasWhammyBar){let n=new fp(this.container.beat);n.renderer=this.renderer,n.doLayout(),this.container.ties.push(n)}if(this.container.beat.dots>0){this.addGlyph(new ls(0,0,5*this.scale));for(let n=0;n<this.container.beat.dots;n++){let r=new Xl(0,0);r.renderer=this.renderer;for(let i of this.container.beat.notes)this.createBeatDot(e.getNoteLine(i),r);this.addGlyph(r)}}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.restGlyph?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.noteHeads?this.centerX=this.noteHeads.x+this.noteHeads.width/2:this.slash&&(this.centerX=this.slash.x+this.slash.width/2)}createBeatDot(e,n){let r=this.renderer;n.addGlyph(new Gb(0,r.getScoreY(e),1.5*this.scale))}createNoteHeadGlyph(e){let n=this.container.beat.graceType!==Dt.None;if(e.beat.voice.bar.staff.isPercussion){const r=ki.getArticulation(e);if(r)return new hBe(0,0,r,e.beat.duration,n);Qe.warning("Rendering",`No articulation found for percussion instrument ${e.percussionArticulation}`)}return e.isDead?new lBe(0,0,n):e.beat.graceType===Dt.BendGrace?new nn(0,0,ve.Quarter,!0):e.harmonicType===Vt.Natural?new G2(0,0,e.beat.duration,n):new nn(0,0,e.beat.duration,n)}createNoteGlyph(e){if(e.beat.graceType===Dt.BendGrace&&!e.hasBend)return;let n=this.renderer,r=this.createNoteHeadGlyph(e),i=n.getNoteLine(e);if(r.y=n.getScoreY(i),this.noteHeads.addNoteGlyph(r,e,i),e.harmonicType!==Vt.None&&e.harmonicType!==Vt.Natural){let o=e.displayValue+e.harmonicPitch;r=new G2(0,0,e.beat.duration,this.container.beat.graceType!==Dt.None),i=n.accidentalHelper.getNoteLineForValue(o,!1),r.y=n.getScoreY(i),this.noteHeads.addNoteGlyph(r,e,i)}const s=this.noteHeads.belowBeatEffects;if(e.isStaccato&&!s.has("Staccato")&&s.set("Staccato",new E8(0,0)),e.accentuated===hi.Normal&&!s.has("Accent")&&s.set("Accent",new zy(0,0,e)),e.accentuated===hi.Heavy&&!s.has("HAccent")&&s.set("HAccent",new zy(0,0,e)),e.accentuated===hi.Tenuto&&!s.has("Tenuto")&&s.set("Tenuto",new zy(0,0,e)),e.showStringNumber&&e.isStringed){let o;s.has("StringNumber")?o=s.get("StringNumber"):(o=new gBe(0,0),s.set("StringNumber",o)),o.addString(e.string)}if(e.isPercussion){const o=ki.getArticulation(e);if(o&&o.techniqueSymbolPlacement!==on.Middle){const a=o.techniqueSymbolPlacement===on.Top?this.noteHeads.aboveBeatEffects:this.noteHeads.belowBeatEffects;switch(o.techniqueSymbol){case Q.PictEdgeOfCymbal:a.set("PictEdgeOfCymbal",new fBe(0,0));break;case Q.ArticStaccatoAbove:a.set("ArticStaccatoAbove",new E8(0,0));break;case Q.StringsUpBow:a.set("StringsUpBow",new Wb(0,0,_s.Up));break;case Q.StringsDownBow:a.set("StringsDownBow",new Wb(0,0,_s.Down));break;case Q.GuitarGolpe:a.set("GuitarGolpe",new pBe(0,0));break}}}}}class yBe extends ii{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=this._beat.brushType===Mr.ArpeggioUp||this._beat.brushType===Mr.ArpeggioDown?10*this.scale:0}paint(e,n,r){if(this._beat.brushType===Mr.ArpeggioUp||this._beat.brushType===Mr.ArpeggioDown){let i=this.renderer,s=i.lineOffset,o=n+this.y+(i.getNoteY(this._beat.maxNote,kt.Bottom)-s),a=n+this.y+i.getNoteY(this._beat.minNote,kt.Top)+s,l=e+this.x+this.width/2,c=8*this.scale,u=new Ep(0,0,Wn.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let d=-u.height/2;if(this._beat.brushType===Mr.ArpeggioUp){let h=o+c,f=a-c;u.width=Math.abs(f-h),r.beginRotate(e+this.x+5*this.scale,f,-90),u.paint(0,d,r),r.endRotate(),r.beginPath(),r.moveTo(l,a),r.lineTo(l+c/2,a-c),r.lineTo(l-c/2,a-c),r.closePath(),r.fill()}else if(this._beat.brushType===Mr.ArpeggioDown){let h=o+c,f=a;u.width=Math.abs(f-h),r.beginRotate(e+this.x+5*this.scale,h,90),u.paint(0,d,r),r.endRotate(),r.beginPath(),r.moveTo(l,o),r.lineTo(l+c/2,o+c),r.lineTo(l-c/2,o+c),r.closePath(),r.fill()}}}}class bBe{constructor(e,n){this.line=0,this.line=e,this.text=n}}class vBe extends Xl{constructor(){super(0,0),this._infos=new Map}get isEmpty(){return this._infos.size===0}addFingers(e){const n=this.renderer.settings;if(n.notation.fingeringMode!==zc.ScoreDefault&&n.notation.fingeringMode!==zc.ScoreForcePiano)return;const r=yr.fingerToString(this.renderer.settings,e.beat,e.leftHandFinger,!0);r&&this.addFinger(e,r);const i=yr.fingerToString(this.renderer.settings,e.beat,e.rightHandFinger,!1);i&&this.addFinger(e,i)}addFinger(e,n){let i=this.renderer.getNoteLine(e);if(this._infos.has(i)){const s=this._infos.get(i);s.text+=n}else{const s=new bBe(i,n);this._infos.set(i,s)}}doLayout(){let e=this.renderer;for(const[n,r]of this._infos){const i=new Ss(0,0,r.text,e.resources.inlineFingeringFont,$t.Left,on.Middle);i.renderer=e,i.y=e.getScoreY(r.line),i.doLayout(),this.addGlyph(i),this.width=Math.max(this.width,i.width)}}}class wBe extends Yp{get prebendNoteHeadOffset(){return this._prebends?this._prebends.x+this._prebends.noteHeadOffset:0}doLayout(){if(!this.container.beat.isRest){let e=new TI;e.renderer=this.renderer;let n=new vBe;n.renderer=this.renderer;let r=new U2(!0);r.renderer=this.renderer;const i=new jo(this.container.beat,!0);this._prebends=i,i.renderer=this.renderer;for(let s of this.container.beat.notes)if(s.isVisible){if(s.hasBend)switch(s.bendType){case _t.PrebendBend:case _t.Prebend:case _t.PrebendRelease:i.addGlyph(s.displayValue-(s.bendPoints[0].value/2|0),!1);break}else if(s.beat.hasWhammyBar)switch(s.beat.whammyBarType){case Yn.PrediveDive:case Yn.Predive:this._prebends.addGlyph(s.displayValue-(s.beat.whammyBarPoints[0].value/2|0),!1);break}this.createAccidentalGlyph(s,e),r.addParenthesis(s),n.addFingers(s)}i.isEmpty||(this.addGlyph(i),this.addGlyph(new ls(0,0,4*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale))),this.container.beat.brushType!==Mr.None&&(this.addGlyph(new yBe(this.container.beat)),this.addGlyph(new ls(0,0,4*this.scale))),n.isEmpty||(this.addGlyph(new ls(0,0,2*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale)),this.addGlyph(n),this.addGlyph(new ls(0,0,2*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale))),r.isEmpty||(this.addGlyph(r),this.addGlyph(new ls(0,0,4*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale))),e.isEmpty||(this.accidentals=e,this.addGlyph(new ls(0,0,2*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale)),this.addGlyph(e),this.addGlyph(new ls(0,0,2*(this.container.beat.graceType!==Dt.None?nn.GraceScale:1)*this.scale)))}super.doLayout()}createAccidentalGlyph(e,n){let r=this.renderer,i=r.accidentalHelper.applyAccidental(e),s=r.getNoteLine(e),o=this.container.beat.graceType!==Dt.None;const a=o?nn.GraceScale:1;if(i!==Nt.None){let l=new xu(0,r.getScoreY(s),i,a);l.renderer=this.renderer,n.addGlyph(l)}if(e.harmonicType!==Vt.None&&e.harmonicType!==Vt.Natural){let l=e.displayValue+e.harmonicPitch;i=r.accidentalHelper.applyAccidentalForValue(e.beat,l,o,!1),s=r.accidentalHelper.getNoteLineForValue(l,!1);let c=new xu(0,r.getScoreY(s),i,a);c.renderer=this.renderer,n.addGlyph(c)}}constructor(){super(),this._prebends=null,this.accidentals=null}}class _I extends Mi{constructor(e,n,r,i){super(e,n,i,_I.getSymbol(r)),this._digit=0,this._scale=0,this._digit=r,this._scale=i}doLayout(){this.width=this.getDigitWidth(this._digit)*this.scale*this._scale}getDigitWidth(e){switch(e){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return 14;case 1:return 10;default:return 0}}static getSymbol(e){switch(e){case 0:return Q.TimeSig0;case 1:return Q.TimeSig1;case 2:return Q.TimeSig2;case 3:return Q.TimeSig3;case 4:return Q.TimeSig4;case 5:return Q.TimeSig5;case 6:return Q.TimeSig6;case 7:return Q.TimeSig7;case 8:return Q.TimeSig8;case 9:return Q.TimeSig9;default:return Q.None}}}class NS extends Xl{constructor(e,n,r,i=1){super(e,n),this._number=0,this._scale=0,this._number=r,this._scale=i}doLayout(){let e=this._number;for(;e>0;){let n=e%10,r=new _I(0,0,n,this._scale);this.addGlyph(r),e=e/10|0}if(this.glyphs){this.glyphs.reverse();let n=0;for(let r=0,i=this.glyphs.length;r<i;r++){let s=this.glyphs[r];s.x=n,s.y=0,s.renderer=this.renderer,s.doLayout(),n+=s.width}this.width=n}}}NS.numberHeight=18;class CY extends Xl{constructor(e,n,r,i,s,o){super(e,n),this._numerator=0,this._denominator=0,this._numerator=r,this._denominator=i,this._isCommon=s,this._isFreeTime=o}doLayout(){let e=0;const n=NS.numberHeight*this.scale;if(this._isFreeTime){const r=new lm(!0);r.renderer=this.renderer,r.y=-n,r.height=n*2,r.doLayout(),this.addGlyph(r),e+=r.width+10*this.scale}if(this._isCommon&&this._numerator===2&&this._denominator===2){let r=new Mi(e,0,this.commonScale,Q.TimeSigCutCommon);r.width=14*this.scale,this.addGlyph(r),super.doLayout()}else if(this._isCommon&&this._numerator===4&&this._denominator===4){let r=new Mi(e,0,this.commonScale,Q.TimeSigCommon);r.width=14*this.scale,this.addGlyph(r),super.doLayout()}else{let r=new NS(e,-n/2,this._numerator,this.numberScale),i=new NS(e,n/2,this._denominator,this.numberScale);this.addGlyph(r),this.addGlyph(i),super.doLayout();const s=this.width-e;r.x=e+(s-r.width)/2,i.x=e+(s-i.width)/2}if(this._isFreeTime){const r=new lm(!1);r.renderer=this.renderer,r.x=this.width+13*this.scale,r.y=-n,r.height=n*2,r.doLayout(),this.addGlyph(r),this.width=r.x+r.width}}}class MI extends CY{get commonScale(){return 1}get numberScale(){return 1}}class xBe extends PI{constructor(e){super(0,0),this._notes=[],this._endNoteGlyph=null,this._middleNoteGlyph=null,this._beat=e}addBends(e){if(this._notes.push(e),!e.isTieOrigin)switch(e.bendType){case _t.Bend:case _t.PrebendRelease:case _t.PrebendBend:{let n=this._endNoteGlyph;n||(n=new jo(e.beat,!1),n.renderer=this.renderer,this._endNoteGlyph=n,this.BendNoteHeads.push(n));let r=e.bendPoints[e.bendPoints.length-1];n.addGlyph(this.getBendNoteValue(e,r),r.value%2!==0)}break;case _t.Release:if(!e.isTieOrigin){let n=this._endNoteGlyph;n||(n=new jo(e.beat,!1),n.renderer=this.renderer,this._endNoteGlyph=n,this.BendNoteHeads.push(n));let r=e.bendPoints[e.bendPoints.length-1];n.addGlyph(this.getBendNoteValue(e,r),r.value%2!==0)}break;case _t.BendRelease:{let n=this._middleNoteGlyph;n||(n=new jo(e.beat,!1),this._middleNoteGlyph=n,n.renderer=this.renderer,this.BendNoteHeads.push(n));let r=e.bendPoints[1];n.addGlyph(this.getBendNoteValue(e,e.bendPoints[1]),r.value%2!==0);let i=this._endNoteGlyph;i||(i=new jo(e.beat,!1),i.renderer=this.renderer,this._endNoteGlyph=i,this.BendNoteHeads.push(i));let s=e.bendPoints[e.bendPoints.length-1];i.addGlyph(this.getBendNoteValue(e,s),s.value%2!==0)}break}}paint(e,n,r){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._beat.voice.bar),s=e+i.x+i.getBeatX(this._beat,fn.MiddleNotes),o=e+i.x;this._beat.isLastOfVoice?o+=i.postBeatGlyphsStart:o+=i.getBeatX(this._beat.nextBeat,fn.PreNotes),o-=8*this.scale;let a=(s+o)/2;this._middleNoteGlyph&&(this._middleNoteGlyph.x=a-this._middleNoteGlyph.noteHeadOffset,this._middleNoteGlyph.y=n+i.y,this._middleNoteGlyph.paint(0,0,r)),this._endNoteGlyph&&(this._endNoteGlyph.x=o-this._endNoteGlyph.noteHeadOffset,this._endNoteGlyph.y=n+i.y,this._endNoteGlyph.paint(0,0,r)),this._notes.sort((u,d)=>d.displayValue-u.displayValue);let l=this._beat.graceType===Dt.BendGrace?this._beat.nextBeat:this._beat,c=this._notes.length===1?this.getTieDirection(l,i):Je.Up;for(let u=0;u<this._notes.length;u++){let d=this._notes[u];u>0&&u>=(this._notes.length/2|0)&&(c=Je.Down);let h=n+i.y+i.getNoteY(d,kt.Top),f=nn.NoteHeadHeight*this.scale*nn.GraceScale*.5;c===Je.Down&&(h+=nn.NoteHeadHeight*this.scale);let p=d.bendStyle===ur.Gradual?"grad.":"";if(d.isTieOrigin){let m=d.tieDestination,y=m?this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,m.beat.voice.bar):null;if(!y||y.staff!==i.staff){let S=e+i.x+i.width,w=d.tieDestination.realValue;i.accidentalHelper.applyAccidentalForValue(d.beat,w,!1,!0);let v=n+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(w,!1));d.bendType===_t.Hold||d.bendType===_t.Prebend?Li.paintTie(r,this.scale,s,h,S,v,c===Je.Down,22,4):this.drawBendSlur(r,s,h,S,v,c===Je.Down,this.scale,p)}else{let S=e+y.x+y.getBeatX(m.beat,fn.MiddleNotes),w=n+y.y+y.getNoteY(m,kt.Top);c===Je.Down&&(w+=nn.NoteHeadHeight*this.scale),d.bendType===_t.Hold||d.bendType===_t.Prebend?Li.paintTie(r,this.scale,s,h,S,w,c===Je.Down,22,4):this.drawBendSlur(r,s,h,S,w,c===Je.Down,this.scale,p)}switch(d.bendType){case _t.Prebend:case _t.PrebendBend:case _t.PrebendRelease:let S=e+i.x+i.getBeatX(d.beat,fn.PreNotes);S+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let w=n+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+f;this.drawBendSlur(r,S,w,s,h,c===Je.Down,this.scale);break}}else{c===Je.Up&&(f=-f);let m=0,y=0;switch(d.bendType){case _t.Bend:m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),y=this._endNoteGlyph.getNoteValueY(m)+f,this.drawBendSlur(r,s,h,o,y,c===Je.Down,this.scale,p);break;case _t.BendRelease:let S=this.getBendNoteValue(d,d.bendPoints[1]),w=this._middleNoteGlyph.getNoteValueY(S)+f;this.drawBendSlur(r,s,h,a,w,c===Je.Down,this.scale,p),m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),y=this._endNoteGlyph.getNoteValueY(m)+f,this.drawBendSlur(r,a,w,o,y,c===Je.Down,this.scale,p);break;case _t.Release:this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),y=this.BendNoteHeads[0].getNoteValueY(m)+f,this.drawBendSlur(r,s,h,o,y,c===Je.Down,this.scale,p));break;case _t.Prebend:case _t.PrebendBend:case _t.PrebendRelease:let v=e+i.x+i.getBeatX(d.beat,fn.PreNotes);v+=i.getPreNotesGlyphForBeat(d.beat).prebendNoteHeadOffset;let k=n+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(d.displayValue-(d.bendPoints[0].value/2|0),!1))+f;this.drawBendSlur(r,v,k,s,h,c===Je.Down,this.scale),this.BendNoteHeads.length>0&&(m=this.getBendNoteValue(d,d.bendPoints[d.bendPoints.length-1]),y=this.BendNoteHeads[0].getNoteValueY(m)+f,this.drawBendSlur(r,s,h,o,y,c===Je.Down,this.scale,p));break}}}}getBendNoteValue(e,n){return e.displayValueWithoutBend+(n.value/2|0)}}class t5 extends Li{constructor(e,n,r=!1){super(e,n,r)}doLayout(){super.doLayout()}getBeamDirection(e,n){if(e.isRest)return Je.Up;switch(n.getBeatDirection(e)){case Je.Up:return Je.Down;default:return Je.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Je.Up:return this.startNoteRenderer.getNoteY(this.startBeat.maxNote,kt.Top);default:return this.startNoteRenderer.getNoteY(this.startBeat.minNote,kt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Je.Up:return e.getScoreY(9);default:return e.getScoreY(0)}const n=this.startNoteRenderer.getBeatDirection(this.startBeat),r=e.getBeatDirection(this.endBeat);if(n!==r&&this.startBeat.graceType===Dt.None)if(r===this.tieDirection)switch(this.tieDirection){case Je.Up:return e.getNoteY(this.endBeat.maxNote,kt.TopWithStem);default:return e.getNoteY(this.endBeat.minNote,kt.BottomWithStem)}else switch(this.tieDirection){case Je.Up:return e.getNoteY(this.endBeat.maxNote,kt.BottomWithStem);default:return e.getNoteY(this.endBeat.minNote,kt.TopWithStem)}switch(this.tieDirection){case Je.Up:return e.getNoteY(this.endBeat.maxNote,kt.Top);default:return e.getNoteY(this.endBeat.minNote,kt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startBeat,fn.MiddleNotes)}getEndX(){const e=this.endNoteRenderer.getBeatDirection(this.endBeat);return this.endNoteRenderer.getBeatX(this.endBeat,this.endBeat.duration>ve.Whole&&e===this.tieDirection?fn.Stem:fn.MiddleNotes)}}class SBe extends ii{constructor(e,n,r,i){super(0,0),this._outType=n,this._inType=e,this._startNote=r,this._parent=i}doLayout(){this.width=0}paint(e,n,r){this.paintSlideIn(e,n,r),this.drawSlideOut(e,n,r)}paintSlideIn(e,n,r){let i=this.renderer,s=12*this.scale,o=e+i.x+i.getNoteX(this._startNote,mr.Left)-2*this.scale,a=n+i.y+i.getNoteY(this._startNote,kt.Center),l=o-s,c=n+i.y;switch(this._inType){case us.IntoFromBelow:c+=i.getNoteY(this._startNote,kt.Bottom);break;case us.IntoFromAbove:c+=i.getNoteY(this._startNote,kt.Top);break;default:return}let u=this.getAccidentalsWidth(i,this._startNote.beat);l-=u,o-=u,this.paintSlideLine(r,!1,l,o,c,a)}getAccidentalsWidth(e,n){let r=e.getPreNotesGlyphForBeat(n);return r&&r.accidentals?r.accidentals.width:0}drawSlideOut(e,n,r){let i=this.renderer,s=12*this.scale,o=1*this.scale,a=2*this.scale,l=0,c=0,u=0,d=0,h=!1;switch(this._outType){case hn.Shift:case hn.Legato:if(l=e+i.x+i.getBeatX(this._startNote.beat,fn.PostNotes),c=n+i.y+i.getNoteY(this._startNote,kt.Center),this._startNote.slideTarget){let f=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!f||f.staff!==i.staff?(u=e+i.x+i.width,d=c):(u=e+f.x+f.getBeatX(this._startNote.slideTarget.beat,fn.PreNotes)-o,d=n+f.y+f.getNoteY(this._startNote.slideTarget,kt.Center)),this._startNote.slideTarget.realValue>this._startNote.realValue?(c+=a,d-=a):(c-=a,d+=a)}else u=e+i.x+this._parent.x,d=c;break;case hn.OutUp:l=e+i.x+i.getNoteX(this._startNote,mr.Right),c=n+i.y+i.getNoteY(this._startNote,kt.Center),u=l+s,d=n+i.y+i.getNoteY(this._startNote,kt.Top);break;case hn.OutDown:l=e+i.x+i.getNoteX(this._startNote,mr.Right),c=n+i.y+i.getNoteY(this._startNote,kt.Center),u=l+s,d=n+i.y+i.getNoteY(this._startNote,kt.Bottom);break;case hn.PickSlideUp:l=e+i.x+i.getNoteX(this._startNote,mr.Right),c=n+i.y+i.getNoteY(this._startNote,kt.Center),d=n+i.y+i.getNoteY(this._startNote,kt.Top),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,fn.PreNotes)),h=!0;break;case hn.PickSlideDown:l=e+i.x+i.getNoteX(this._startNote,mr.Right),c=n+i.y+i.getNoteY(this._startNote,kt.Center),d=n+i.y+i.getNoteY(this._startNote,kt.Bottom),u=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(u=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,fn.PreNotes)),h=!0;break;default:return}this.paintSlideLine(r,h,l,u,c,d)}paintSlideLine(e,n,r,i,s,o){if(n){let a=new Ep(0,0,Wn.Slight,1.2);a.renderer=this.renderer,a.doLayout(),s-=a.height/2,o-=a.height/2;let l=i-r,c=o-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));a.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(r,s,d),a.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(r,s),e.lineTo(i,o),e.stroke()}}class Fx extends t5{constructor(e,n,r=!1){super(e.beat,n.beat,r),this._startNote=e,this._endNote=n}getTieHeight(e,n,r,i){return Math.log2(r-e+1)*this.renderer.settings.notation.slurHeight}getStartY(){if(this.isStartCentered())switch(this.tieDirection){case Je.Up:return this.startNoteRenderer.getNoteY(this._startNote,kt.Top);default:return this.startNoteRenderer.getNoteY(this._startNote,kt.Bottom)}return this.startNoteRenderer.getNoteY(this._startNote,kt.Center)}getEndY(){if(this.isEndCentered())if(this.isEndOnStem())switch(this.tieDirection){case Je.Up:return this.endNoteRenderer.getNoteY(this._endNote,kt.TopWithStem);default:return this.endNoteRenderer.getNoteY(this._endNote,kt.BottomWithStem)}else switch(this.tieDirection){case Je.Up:return this.endNoteRenderer.getNoteY(this._endNote,kt.Top);default:return this.endNoteRenderer.getNoteY(this._endNote,kt.Bottom)}else return this.endNoteRenderer.getNoteY(this._endNote,kt.Center)}isStartCentered(){return this._startNote===this._startNote.beat.maxNote&&this.tieDirection===Je.Up||this._startNote===this._startNote.beat.minNote&&this.tieDirection===Je.Down}isEndCentered(){return this._startNote.beat.graceType===Dt.None&&(this._endNote===this._endNote.beat.maxNote&&this.tieDirection===Je.Up||this._endNote===this._endNote.beat.minNote&&this.tieDirection===Je.Down)}isEndOnStem(){const e=this.endNoteRenderer,n=this.startNoteRenderer.getBeatDirection(this.startBeat),r=e.getBeatDirection(this.endBeat);return n!==r&&this.startBeat.graceType===Dt.None}getStartX(){return this.isStartCentered()?this.startNoteRenderer.getBeatX(this._startNote.beat,fn.MiddleNotes):this.startNoteRenderer.getNoteX(this._startNote,mr.Right)}getEndX(){return this.isEndCentered()?this.isEndOnStem()?this.endNoteRenderer.getBeatX(this._endNote.beat,fn.Stem):this.endNoteRenderer.getNoteX(this._endNote,mr.Center):this.endNoteRenderer.getBeatX(this._endNote.beat,fn.PreNotes)}}class B8 extends Li{constructor(e,n,r=!1){super(e?e.beat:null,n?n.beat:null,r),this.startNote=e,this.endNote=n}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,n){switch(n.getBeatDirection(e)){case Je.Up:return Je.Down;default:return Je.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case Je.Up:return this.startNoteRenderer.getNoteY(this.startNote,kt.Top);default:return this.startNoteRenderer.getNoteY(this.startNote,kt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case Je.Up:return e.getScoreY(9);default:return e.getScoreY(0)}switch(this.tieDirection){case Je.Up:return e.getNoteY(this.endNote,kt.Top);default:return e.getNoteY(this.endNote,kt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startNote.beat,fn.PostNotes)}getEndX(){return this.endNoteRenderer.getBeatX(this.endNote.beat,fn.PreNotes)}}class CBe extends Xa{constructor(e,n){super(e,n),this._bend=null,this._effectSlur=null,this._effectEndSlur=null}doLayout(){if(this._effectSlur=null,this._effectEndSlur=null,super.doLayout(),this.beat.isLegatoOrigin){if(!this.beat.previousBeat||!this.beat.previousBeat.isLegatoOrigin){let e=this.beat.nextBeat;for(;e.nextBeat&&e.nextBeat.isLegatoDestination;)e=e.nextBeat;this.addTie(new t5(this.beat,e,!1))}}else if(this.beat.isLegatoDestination&&!this.beat.isLegatoOrigin){let e=this.beat.previousBeat;for(;e.previousBeat&&e.previousBeat.isLegatoOrigin;)e=e.previousBeat;this.addTie(new t5(e,this.beat,!0))}this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(e.isVisible){if(e.isTieOrigin&&!e.hasBend&&!e.beat.hasWhammyBar&&e.beat.graceType!==Dt.BendGrace&&e.tieDestination&&e.tieDestination.isVisible){let n=new B8(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination&&!e.tieOrigin.hasBend&&!e.beat.hasWhammyBar){let n=new B8(e.tieOrigin,e,!0);this.addTie(n)}if(e.slideInType!==us.None||e.slideOutType!==hn.None){let n=new SBe(e.slideInType,e.slideOutType,e,this);this.addTie(n)}if(e.isSlurOrigin&&e.slurDestination&&e.slurDestination.isVisible){let n=new Fx(e,e.slurDestination,!1);this.addTie(n)}if(e.isSlurDestination){let n=new Fx(e.slurOrigin,e,!0);this.addTie(n)}if(!this._effectSlur&&e.isEffectSlurOrigin&&e.effectSlurDestination){const n=new Fx(e,e.effectSlurDestination,!1);this._effectSlur=n,this.addTie(n)}if(!this._effectEndSlur&&e.beat.isEffectSlurDestination&&e.beat.effectSlurOrigin){let n=this.onNotes.beamingHelper.direction,r=n===Je.Up?e.beat.effectSlurOrigin.minNote:e.beat.effectSlurOrigin.maxNote,i=n===Je.Up?e.beat.minNote:e.beat.maxNote;const s=new Fx(r,i,!0);this._effectEndSlur=s,this.addTie(s)}if(e.hasBend){if(!this._bend){const n=new xBe(e.beat);this._bend=n,n.renderer=this.renderer,this.addTie(n)}this._bend.addBends(e)}}}}class kBe extends ii{constructor(e,n,r,i){super(e,n),this._dotOffset=0,this._circleSize=0,this._dotOffset=0,this._circleSize=0,this._dotOffset=i,this._circleSize=r}doLayout(){this.width=13*this.scale}paint(e,n,r){let i=4*this.scale,s=n+this.y+this.renderer.topPadding,o=n+this.y+this.renderer.height-this.renderer.bottomPadding,a=e+this.x+.5,l=o-s;r.fillRect(a,s,i,l),a+=i*2-.5,r.beginPath(),r.moveTo(a,s),r.lineTo(a,o),r.stroke(),a+=3*this.scale;let c=this._circleSize*this.scale,u=(s+o)/2;r.fillCircle(a,u-c*this._dotOffset,c),r.fillCircle(a,u+c*this._dotOffset,c)}}class uT extends ii{constructor(e,n){super(e,n)}doLayout(){this.renderer.isLast?this.width=15*this.scale:!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart?(this.width=2*this.scale,this.renderer.bar.masterBar.isDoubleBar&&(this.width+=2*this.scale)):this.width=2*this.scale}paint(e,n,r){let i=4*this.scale,s=n+this.y+this.renderer.topPadding,o=n+this.y+this.renderer.height-this.renderer.bottomPadding,a=e+this.x,l=o-s;if(this.renderer.isLast)r.fillRect(a+this.width-i-i,s,this.scale,l),r.fillRect(a+this.width-i,s,i,l);else if(!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart)if(this.renderer.bar.masterBar.isFreeTime){const c=uT.DashSize*this.scale,u=(a+this.width-this.scale|0)+.5,d=Math.ceil(l/2/c);if(r.beginPath(),d<1)r.moveTo(u,s),r.lineTo(u,o);else{let h=s;const p=(l-d*c)/(d-1);for(;h<o;)r.moveTo(u,h),r.lineTo(u,h+c),h+=c+p}r.stroke()}else r.fillRect(a+this.width-this.scale,s,this.scale,l),this.renderer.bar.masterBar.isDoubleBar&&r.fillRect(a+this.width-5*this.scale,s,this.scale,l)}}uT.DashSize=4;class TBe extends ii{constructor(e,n){super(e,n)}doLayout(){this.width=11*this.scale}paint(e,n,r){let i=4*this.scale,s=n+this.y+this.renderer.topPadding,o=n+this.y+this.renderer.height-this.renderer.bottomPadding,a=e+this.x,l=o-s,c=1.5*this.scale,u=(s+o)/2,d=3;r.fillCircle(a,u-c*d,c),r.fillCircle(a,u+c*d,c),a+=4*this.scale,r.beginPath(),r.moveTo(a,s),r.lineTo(a,o),r.stroke(),a+=3*this.scale+.5,r.fillRect(a,s,i,l)}}class PBe extends ii{constructor(e,n,r){super(e,n),this._count=0,this._count=0,this._count=r}doLayout(){this.width=0}paint(e,n,r){let i=this.renderer.resources,s=r.textAlign;r.font=i.barNumberFont,r.textAlign=$t.Right;let o="x"+this._count,a=r.measureText(o).width/1.5;r.fillText(o,e+this.x-a,n+this.y),r.textAlign=s}}class _Be extends ii{constructor(e,n,r){super(e,n),this._number=0,this._number=r}doLayout(){this.renderer.scoreRenderer.canvas.font=this.renderer.resources.barNumberFont,this.width=this.renderer.scoreRenderer.canvas.measureText(this._number.toString()).width+5*this.scale}paint(e,n,r){if(!this.renderer.staff.isFirstInAccolade)return;let i=this.renderer.resources,s=r.color;const o=r.textBaseline;r.textBaseline=on.Top,r.color=i.barNumberColor,r.font=i.barNumberFont,r.fillText(this._number.toString(),e+this.x,n+this.y),r.color=s,r.textBaseline=o}}class Kh extends Lr{constructor(e,n){super(e,n),this.firstLineY=0,this._startSpacing=!1,this.tupletSize=0}get lineOffset(){return(this.lineSpacing+1)*this.scale}get tupletOffset(){return 10*this.scale}get topGlyphOverflow(){const e=this.resources;return(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}get bottomGlyphOverflow(){const e=this.resources;return(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}initLineBasedSizes(){this.topPadding=this.topGlyphOverflow,this.bottomPadding=this.bottomGlyphOverflow,this.height=this.lineOffset*(this.heightLineCount-1)+this.topPadding+this.bottomPadding}updateSizes(){this.initLineBasedSizes(),this.adjustSizes(),this.updateFirstLineY(),super.updateSizes()}adjustSizes(){}updateFirstLineY(){let e=this.lineOffset*(this.heightLineCount-1),n=(this.drawnLineCount-1)*this.lineOffset;this.firstLineY=this.topPadding+(e-n)/2}doLayout(){this.initLineBasedSizes(),this.updateFirstLineY(),this.tupletSize=15*this.scale+this.resources.effectFont.size*.3,super.doLayout()}getLineY(e){return this.firstLineY+this.getLineHeight(e)}getLineHeight(e){return this.lineOffset*e}paintBackground(e,n,r){super.paintBackground(e,n,r);const i=this.resources;r.color=i.staffLineColor;const s=[];for(let o=0,a=this.drawnLineCount;o<a;o++)s.push([]);this.collectSpaces(s);for(const o of s)o.sort((a,l)=>a[0]>l[0]?1:a[0]<l[0]?-1:0);for(let o=0;o<this.drawnLineCount;o++){const a=this.getLineY(o);let l=0;for(let c of s[o])r.fillRect(e+this.x+l,n+this.y+a|0,c[0]-l,this.scale*Lr.StaffLineThickness),l=c[0]+c[1];r.fillRect(e+this.x+l,n+this.y+a|0,this.width-l,this.scale*Lr.StaffLineThickness)}r.color=i.mainGlyphColor,this.paintSimileMark(e,n,r)}collectSpaces(e){}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new ls(0,0,2*this.scale)),this._startSpacing=!0)}paintTuplets(e,n,r,i=!1){for(const s of this.bar.voices)if(this.hasVoiceContainer(s)){const o=this.getVoiceContainer(s);for(const a of o.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,n,r,a,i)}}getTupletBeamDirection(e){return this.getBeamDirection(e)}paintTupletHelper(e,n,r,i,s){const o=this.resources;let a=r.textAlign,l=r.textBaseline;r.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,r.textAlign=$t.Center,r.textBaseline=on.Middle;let c,u=i.beats[0].tupletNumerator,d=i.beats[0].tupletDenominator;u===2&&d===3?c="2":u===3&&d===2?c="3":u===4&&d===6?c="4":u===5&&d===4?c="5":u===6&&d===4?c="6":u===7&&d===4?c="7":u===9&&d===8?c="9":u===10&&d===8?c="10":u===11&&d===8?c="11":u===12&&d===8?c="12":u===13&&d===8?c="13":c=u+":"+d;let h=this.tupletOffset,f=5*this.scale;if(i.beats.length===1||!i.isFull)for(const p of i.beats){let m=this.helpers.beamHelperLookup[i.voice.index].get(p.index);if(!m)continue;let y=this.getTupletBeamDirection(m),S=m.getBeatLineX(p),w=this.calculateBeamYWithDirection(m,S,y);y===Je.Down?w+=h+f:w-=h+f,r.font=o.effectFont,r.fillText(c,e+this.x+S,n+this.y+w)}else{let p=i.beats[0],m=i.beats[i.beats.length-1],y=null,S=null;for(let Z=0;Z<i.beats.length;Z++)if(!i.beats[Z].isRest){y=i.beats[Z];break}for(let Z=i.beats.length-1;Z>=0;Z--)if(!i.beats[Z].isRest){S=i.beats[Z];break}let w=!1;y||(y=p,w=!0),S||(S=m);let v=this.helpers.beamHelperLookup[i.voice.index].get(p.index),k=this.helpers.beamHelperLookup[i.voice.index].get(m.index),P=v.getBeatLineX(p),T=k.getBeatLineX(m),_=this.helpers.beamHelperLookup[i.voice.index].get(y.index),E=this.helpers.beamHelperLookup[i.voice.index].get(S.index),I=this.getTupletBeamDirection(v),R=this.calculateBeamYWithDirection(_,P,I),F=this.calculateBeamYWithDirection(E,T,I);w&&(R=Math.max(R,F),F=R),r.font=o.effectFont;let B=r.measureText(c).width,D=3*this.scale,A=(P+T)/2,N=A-B/2-D,L=A+B/2+D,H=(F-R)/(T-P),O=R-H*P,G=H*N+O,j=H*A+O,J=H*L+O;I===Je.Down&&(h*=-1,f*=-1),r.beginPath(),r.moveTo(e+this.x+P,n+this.y+R-h|0),s?r.quadraticCurveTo(e+this.x+(N+P)/2,n+this.y+G-h-f|0,e+this.x+N,n+this.y+G-h-f|0):(r.lineTo(e+this.x+P,n+this.y+R-h-f|0),r.lineTo(e+this.x+N,n+this.y+G-h-f|0)),r.stroke(),r.beginPath(),r.moveTo(e+this.x+L,n+this.y+J-h-f|0),s?r.quadraticCurveTo(e+this.x+(T+L)/2,n+this.y+J-h-f|0,e+this.x+T,n+this.y+F-h|0):(r.lineTo(e+this.x+T,n+this.y+F-h-f|0),r.lineTo(e+this.x+T,n+this.y+F-h|0)),r.stroke(),r.fillText(c,e+this.x+A,n+this.y+j-h-f)}r.textAlign=a,r.textBaseline=l}paintBeams(e,n,r){for(const i of this.helpers.beamHelpers)for(const s of i)this.paintBeamHelper(e+this.beatGlyphsStart,n,r,s)}drawBeamHelperAsFlags(e){return e.beats.length===1}paintBeamHelper(e,n,r,i){r.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(this.drawBeamHelperAsFlags(i)?this.paintFlag(e,n,r,i):this.paintBar(e,n,r,i))}shouldPaintFlag(e,n){return!(e.graceType===Dt.BendGrace||!n.hasBeatLineX(e)||e.graceType!==Dt.None&&this.settings.notation.notationMode===qi.SongBook||e.duration===ve.Whole||e.duration===ve.DoubleWhole||e.duration===ve.QuadrupleWhole)}paintFlag(e,n,r,i){for(const s of i.beats){if(!this.shouldPaintFlag(s,i))continue;let o=s.graceType!==Dt.None,a=o?nn.GraceScale:1,l=this.getFlagStemSize(i.shortestDuration),c=i.getBeatLineX(s),u=this.getBeamDirection(i),d=this.getFlagTopY(s,u),h=this.getFlagBottomY(s,u),f=0;if(u===Je.Down?(h+=l*a,f=h):(d-=l*a,f=d),!!i.hasLine(!0,s)){if(this.paintBeamingStem(s,n+this.y,e+this.x+c,n+this.y+d,n+this.y+h,r),s.graceType===Dt.BeforeBeat){let p=15*this.scale,m=12*this.scale;r.beginPath(),u===Je.Down?(r.moveTo(e+this.x+c-m/2,n+this.y+h-p),r.lineTo(e+this.x+c+m/2,n+this.y+h)):(r.moveTo(e+this.x+c-m/2,n+this.y+d+p),r.lineTo(e+this.x+c+m/2,n+this.y+d)),r.stroke()}if(i.hasFlag(!0,s)){let p=new zv(c-this.scale/2,f,s.duration,u,o);p.renderer=this,p.doLayout(),p.paint(e+this.x,n+this.y,r)}}}}getFlagStemSize(e){let n=0;switch(e){case ve.QuadrupleWhole:case ve.Half:case ve.Quarter:case ve.Eighth:case ve.Sixteenth:case ve.ThirtySecond:case ve.SixtyFourth:case ve.OneHundredTwentyEighth:case ve.TwoHundredFiftySixth:n=3;break;default:n=0;break}return this.getLineHeight(n)}calculateBeamY(e,n){return this.calculateBeamYWithDirection(e,n,this.getBeamDirection(e))}createPreBeatGlyphs(){super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new kBe(0,0,1.5,3)),this.createLinePreBeatGlyphs(),this.addPreBeatGlyph(new _Be(0,this.getLineHeight(-.25),this.bar.index+1))}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new TBe(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new PBe(0,this.getLineHeight(-.25),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new uT(0,0))}paintBar(e,n,r,i){for(let s=0,o=i.beats.length;s<o;s++){let a=i.beats[s];if(!i.hasBeatLineX(a))continue;let c=a.graceType!==Dt.None?nn.GraceScale:1,u=i.getBeatLineX(a),d=this.getBeamDirection(i),h=n+this.y+this.getBarLineStart(a,d),f=n+this.y+this.calculateBeamY(i,u);this.paintBeamingStem(a,n+this.y,e+this.x+u,h,f,r);let p=f;d===Je.Down?p+=r.font.size*2:s!==0&&(p-=r.font.size*1.5);let m=6*this.scale*c,y=(Lr.BeamSpacing+Lr.BeamThickness)*this.scale*c,S=Lr.BeamThickness*this.scale*c,w=yr.getIndex(a.duration)-2,v=n+this.y;d===Je.Down&&(y=-y,S=-S);for(let k=0;k<w;k++){let P=0,T=0,_=0,E=0,I=v+k*y;if(s<i.beats.length-1){if(Mc.isFullBarJoin(a,i.beats[s+1],k))P=u,T=i.getBeatLineX(i.beats[s+1]);else if(s===0||!Mc.isFullBarJoin(i.beats[s-1],a,k))P=u,T=P+m;else continue;_=I+this.calculateBeamY(i,P),E=I+this.calculateBeamY(i,T),Kh.paintSingleBar(r,e+this.x+P,_,e+this.x+T,E,S)}else s>0&&!Mc.isFullBarJoin(a,i.beats[s-1],k)&&(P=u-m,T=u,_=I+this.calculateBeamY(i,P),E=I+this.calculateBeamY(i,T),Kh.paintSingleBar(r,e+this.x+P,_,e+this.x+T,E,S))}}}static paintSingleBar(e,n,r,i,s,o){e.beginPath(),e.moveTo(n,r),e.lineTo(i,s),e.lineTo(i,s+o),e.lineTo(n,r+o),e.closePath(),e.fill()}}class Ec extends Kh{constructor(e,n){super(e,n),this.simpleWhammyOverflow=0,this.beatEffectsMinY=null,this.beatEffectsMaxY=null,this.accidentalHelper=new $r(this)}get lineSpacing(){return Lr.RawLineSpacing}get heightLineCount(){return 5}get drawnLineCount(){return this.bar.staff.standardNotationLineCount}registerBeatEffectOverflows(e,n){const r=this.beatEffectsMinY;(r==null||e<r)&&(this.beatEffectsMinY=e);const i=this.beatEffectsMaxY;(i==null||n>i)&&(this.beatEffectsMaxY=n)}getScoreY(e){return super.getLineY(e/2)}getScoreHeight(e){return super.getLineHeight(e/2)}doLayout(){if(super.doLayout(),!this.bar.isEmpty&&this.accidentalHelper.maxLineBeat){let e=this.getScoreY(-2),n=this.getScoreY(10),r=this.simpleWhammyOverflow;const i=this.beatEffectsMinY;if(i!==null){const u=e-i;u>0&&this.registerOverflowTop(u)}const s=this.beatEffectsMaxY;if(s!==null){const u=s-n;u>0&&this.registerOverflowBottom(u)}this.registerOverflowTop(r);let o=this.getScoreY(this.accidentalHelper.maxLine),a=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.maxLineBeat);a.direction===Je.Up&&(o-=this.getStemSize(a),a.hasTuplet&&(o-=this.tupletSize)),o<e&&this.registerOverflowTop(Math.abs(o)+r);let l=this.getScoreY(this.accidentalHelper.minLine),c=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.minLineBeat);c.direction===Je.Down&&(l+=this.getStemSize(c),c.hasTuplet&&(l+=this.tupletSize)),l>n&&this.registerOverflowBottom(Math.abs(l)-n)}}paint(e,n,r){super.paint(e,n,r),this.paintBeams(e,n,r),this.paintTuplets(e,n,r)}getSlashFlagY(e,n){let r=(this.heightLineCount-1)/2,i=0;switch(e){case ve.QuadrupleWhole:case ve.DoubleWhole:case ve.Whole:i+=2;break;default:i+=1;break}return n==Je.Down?r+=i:r-=i,this.getLineY(r)}getFlagTopY(e,n){return e.slashed?this.getSlashFlagY(e.duration,n):this.getScoreY(this.accidentalHelper.getMinLine(e))}getFlagBottomY(e,n){return e.slashed?this.getSlashFlagY(e.duration,n):this.getScoreY(this.accidentalHelper.getMaxLine(e))}getBeamDirection(e){return e.direction}getStemSize(e){let n=e.beats.length===1?this.getFlagStemSize(e.shortestDuration):this.getBarStemSize(e.shortestDuration);return e.isGrace&&(n=n*nn.GraceScale),n}getBarStemSize(e){let n=0;switch(e){case ve.QuadrupleWhole:case ve.Half:case ve.Quarter:case ve.Eighth:case ve.Sixteenth:n=6;break;case ve.ThirtySecond:n=8;break;case ve.SixtyFourth:n=9;break;case ve.OneHundredTwentyEighth:n=9;break;case ve.TwoHundredFiftySixth:n=10;break;default:n=0;break}return this.getScoreHeight(n)}get middleYPosition(){return this.getScoreY(this.bar.staff.standardNotationLineCount-1)}getNoteY(e,n){if(e.beat.slashed){let i=(this.heightLineCount-1)/2;return this.getLineY(i)}let r=super.getNoteY(e,n);if(isNaN(r)){const i=$r.computeLineWithoutAccidentals(this.bar,e);r=this.getScoreY(i)}return r}applyLayoutingInfo(){const e=super.applyLayoutingInfo();if(e&&this.bar.isMultiVoice){let n=this.getScoreY(-2),r=this.getScoreY(10),i=this.helpers.collisionHelper.getBeatMinMaxY();i[0]<n&&this.registerOverflowTop(Math.abs(i[0])),i[1]>r&&this.registerOverflowBottom(Math.abs(i[1])-r)}return e}calculateBeamYWithDirection(e,n,r){let i=this.getStemSize(e);if(!e.drawingInfos.has(r)){let s=new w5e;e.drawingInfos.set(r,s);const o=e.beats[0],a=e.beats[e.beats.length-1],l=e.isRestBeamHelper;s.startBeat=o,s.startX=e.getBeatLineX(o),l?s.startY=r===Je.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.startY=r===Je.Up?this.getFlagTopY(o,r)-i:this.getFlagBottomY(o,r)+i,s.endBeat=a,s.endX=e.getBeatLineX(a),l?s.endY=r===Je.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.endY=r===Je.Up?this.getFlagTopY(a,r)-i:this.getFlagBottomY(a,r)+i;let c=10*this.scale;if(r===Je.Down&&s.startY>s.endY&&s.startY-s.endY>c&&(s.endY=s.startY-c),r===Je.Down&&s.endY>s.startY&&s.endY-s.startY>c&&(s.startY=s.endY-c),r===Je.Up&&s.startY<s.endY&&s.endY-s.startY>c&&(s.endY=s.startY+c),r===Je.Up&&s.endY<s.startY&&s.startY-s.endY>c&&(s.startY=s.endY+c),e.beats.length>1){if(r===Je.Up){let u=this.getScoreY(this.accidentalHelper.getMinLine(e.beatOfHighestNote))-i;const h=s.calcY(e.getBeatLineX(e.beatOfHighestNote))-u;h>0&&(s.startY-=h,s.endY-=h)}else{let u=this.getScoreY(this.accidentalHelper.getMaxLine(e.beatOfLowestNote))+i;const d=s.calcY(e.getBeatLineX(e.beatOfLowestNote)),h=u-d;h>0&&(s.startY+=h,s.endY+=h)}if(e.minRestLine!==null||e.maxRestLine!==null){const u=yr.getIndex(e.shortestDuration)-2;let d=e.isGrace?nn.GraceScale:1,h=u*(Lr.BeamSpacing+Lr.BeamThickness)*this.scale*d;if(h+=Lr.BeamSpacing,r===Je.Up&&e.minRestLine!==null){let f=this.getScoreY(e.minRestLine)-h;const m=s.calcY(e.getBeatLineX(e.beatOfMinRestLine))-f;m>0&&(s.startY-=m,s.endY-=m)}else if(r===Je.Down&&e.maxRestLine!==null){let f=this.getScoreY(e.maxRestLine)+h;const p=s.calcY(e.getBeatLineX(e.beatOfMaxRestLine)),m=f-p;m>0&&(s.startY+=m,s.endY+=m)}}if(e.slashBeats.length>0)for(const u of e.slashBeats){const d=s.calcY(e.getBeatLineX(u));let h=this.getSlashFlagY(u.duration,r);r===Je.Up?h-=i:r===Je.Down&&(h+=i);const f=h-d;f>0&&(s.startY+=f,s.endY+=f)}}}return e.drawingInfos.get(r).calcY(n)}getBarLineStart(e,n){return e.slashed?this.getSlashFlagY(e.duration,n):n===Je.Up?this.getScoreY(this.accidentalHelper.getMaxLine(e)):this.getScoreY(this.accidentalHelper.getMinLine(e))}createLinePreBeatGlyphs(){if(this.isFirstOfLine||this.bar.clef!==this.bar.previousBar.clef||this.bar.clefOttava!==this.bar.previousBar.clefOttava){let e=0;switch(this.bar.clef){case ln.Neutral:e=this.bar.staff.standardNotationLineCount-1;break;case ln.F4:e=2;break;case ln.C3:e=4;break;case ln.C4:e=2;break;case ln.G2:e=6;break}this.createStartSpacing(),this.addPreBeatGlyph(new kI(0,this.getScoreY(e)+.5*Lr.StaffLineThickness,this.bar.clef,this.bar.clefOttava))}(this.index===0&&this.bar.masterBar.keySignature!==Cn.C||this.bar.previousBar&&this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator||this.bar.previousBar&&this.bar.masterBar.isFreeTime&&this.bar.masterBar.isFreeTime!==this.bar.previousBar.masterBar.isFreeTime)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs())}createKeySignatureGlyphs(){let e=0,n=this.bar.masterBar.keySignature,r=this.bar.previousBar?this.bar.previousBar.masterBar.keySignature:0;switch(this.bar.clef){case ln.Neutral:e=0;break;case ln.G2:e=1;break;case ln.F4:e=3;break;case ln.C3:e=2;break;case ln.C4:e=0;break}let i=new Map,s=[];if(yr.keySignatureIsSharp(n))for(let l=0;l<Math.abs(n);l++){let c=Ec.SharpKsSteps[l]+e;s.push(new xu(0,this.getScoreY(c),Nt.Sharp,1)),i.set(c,!0)}else for(let l=0;l<Math.abs(n);l++){let c=Ec.FlatKsSteps[l]+e;s.push(new xu(0,this.getScoreY(c),Nt.Flat,1)),i.set(c,!0)}let o=Math.abs(r),a=yr.keySignatureIsSharp(r)?Ec.SharpKsSteps:Ec.FlatKsSteps;for(let l=0;l<o;l++){let c=a[l]+e;i.has(c)||this.addPreBeatGlyph(new xu(0,this.getScoreY(a[l]+e),Nt.Natural,1))}for(let l of s)this.addPreBeatGlyph(l)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new ls(0,0,5*this.scale));const e=this.bar.staff.standardNotationLineCount-1;this.addPreBeatGlyph(new MI(0,this.getScoreY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon,this.bar.masterBar.isFreeTime))}createVoiceGlyphs(e){for(const n of e.beats){let r=new CBe(n,this.getVoiceContainer(e));r.preNotes=new wBe,r.onNotes=new mBe,this.addBeatGlyph(r)}}getNoteLine(e){return this.accidentalHelper.getNoteLine(e)}completeBeamingHelper(e){if(this.bar.isMultiVoice&&e.highestNoteInHelper&&e.lowestNoteInHelper){let n=this.getNoteY(e.highestNoteInHelper,kt.Center),r=this.getNoteY(e.lowestNoteInHelper,kt.Center),i=this.getStemSize(e);e.hasTuplet&&(i+=this.resources.effectFont.size*2),e.direction==Je.Up?n-=i:r+=i;for(const s of e.beats)this.helpers.collisionHelper.reserveBeatSlot(s,n,r)}}paintBeamingStem(e,n,r,i,s,o){o.lineWidth=Lr.StemWidth*this.scale,o.beginPath(),o.moveTo(r,i),o.lineTo(r,s),o.stroke(),o.lineWidth=this.scale}}Ec.StaffId="score";Ec.SharpKsSteps=[-1,2,-2,1,4,0,3];Ec.FlatKsSteps=[3,0,4,1,5,2,6];class MBe extends Wv{get staffId(){return Ec.StaffId}getStaffPaddingTop(e){return e.system.layout.renderer.settings.display.notationStaffPaddingTop}getStaffPaddingBottom(e){return e.system.layout.renderer.settings.display.notationStaffPaddingBottom}create(e,n){return new Ec(e,n)}canCreate(e,n){return super.canCreate(e,n)&&n.showStandardNotation}constructor(){super()}}class EBe extends ii{constructor(e,n,r,i){super(0,0),this._inType=e,this._outType=n,this._startNote=r,this._parent=i}doLayout(){this.width=0}paint(e,n,r){this.paintSlideIn(e,n,r),this.paintSlideOut(e,n,r)}paintSlideIn(e,n,r){let i=this.renderer,s=12*this.scale,o=3*this.scale,a=0,l=0,c=0,u=0;switch(this._inType){case us.IntoFromBelow:c=e+i.x+i.getNoteX(this._startNote,mr.Left),u=n+i.y+i.getNoteY(this._startNote,kt.Center),a=c-s,l=n+i.y+i.getNoteY(this._startNote,kt.Center)+o;break;case us.IntoFromAbove:c=e+i.x+i.getNoteX(this._startNote,mr.Left),u=n+i.y+i.getNoteY(this._startNote,kt.Center),a=c-s,l=n+i.y+i.getNoteY(this._startNote,kt.Center)-o;break;default:return}this.paintSlideLine(r,!1,a,c,l,u)}paintSlideOut(e,n,r){let i=this.renderer,s=12*this.scale,o=3*this.scale,a=0,l=0,c=0,u=0,d=!1;const h=2*this.scale;switch(this._outType){case hn.Shift:case hn.Legato:if(a=e+i.x+i.getBeatX(this._startNote.beat,fn.PostNotes),l=n+i.y+i.getNoteY(this._startNote,kt.Center),this._startNote.slideTarget){let f=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!f||f.staff!==i.staff?(c=e+i.x+i.width,u=l):(c=e+f.x+f.getBeatX(this._startNote.slideTarget.beat,fn.OnNotes)-h,u=n+f.y+f.getNoteY(this._startNote.slideTarget,kt.Center)),this._startNote.slideTarget.fret>this._startNote.fret?(l+=o,u-=o):(l-=o,u+=o)}else c=e+i.x+this._parent.x,u=l;break;case hn.OutUp:a=e+i.x+i.getNoteX(this._startNote,mr.Right),l=n+i.y+i.getNoteY(this._startNote,kt.Center),c=a+s-h,u=n+i.y+i.getNoteY(this._startNote,kt.Center)-o;break;case hn.OutDown:a=e+i.x+i.getNoteX(this._startNote,mr.Right),l=n+i.y+i.getNoteY(this._startNote,kt.Center),c=a+s-h,u=n+i.y+i.getNoteY(this._startNote,kt.Center)+o;break;case hn.PickSlideDown:a=e+i.x+i.getNoteX(this._startNote,mr.Right),l=n+i.y+i.getNoteY(this._startNote,kt.Center),c=e+i.x+i.getBeatX(this._startNote.beat,fn.EndBeat),u=l+o*3,d=!0;break;case hn.PickSlideUp:a=e+i.x+i.getNoteX(this._startNote,mr.Right),l=n+i.y+i.getNoteY(this._startNote,kt.Center),c=e+i.x+i.getBeatX(this._startNote.beat,fn.EndBeat),u=l-o*3,d=!0;break;default:return}this.paintSlideLine(r,d,a,c,l,u)}paintSlideLine(e,n,r,i,s,o){if(n){let a=new Ep(0,0,Wn.Slight,1.2);a.renderer=this.renderer,a.doLayout(),s-=a.height/2,o-=a.height/2;let l=i-r,c=o-s,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2));a.width=l;let d=Math.asin(c/u)*(180/Math.PI);e.beginRotate(r,s,d),a.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(r,s),e.lineTo(i,o),e.stroke()}}class fd extends Li{constructor(e,n,r=!1){super(e.beat,n.beat,r),this.startNote=e,this.endNote=n}getTieHeight(e,n,r,i){return this.startNote===this.endNote?15:super.getTieHeight(e,n,r,i)}getBeamDirection(e,n){return this.startNote===this.endNote?Je.Up:fd.getBeamDirectionForNote(this.startNote)}static getBeamDirectionForNote(e){return e.string>3?Je.Up:Je.Down}getStartY(){return this.startNote===this.endNote?this.startNoteRenderer.getNoteY(this.startNote,kt.Center):this.tieDirection===Je.Up?this.startNoteRenderer.getNoteY(this.startNote,kt.Top):this.startNoteRenderer.getNoteY(this.startNote,kt.Bottom)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,mr.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,mr.Left):this.endNoteRenderer.getNoteX(this.endNote,mr.Center)}}class N8 extends fd{constructor(e,n,r,i=!1){super(e,n,i),this._direction=fd.getBeamDirectionForNote(e),this._forSlide=r}getTieHeight(e,n,r,i){return Math.log(r-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,n,r,i){if(this._forSlide!==r||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==n.beat.id||this._direction!==fd.getBeamDirectionForNote(e))return!1;switch(this._direction){case Je.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),n.realValue>this.endNote.realValue&&(this.endNote=n,this.endBeat=n.beat);break;case Je.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),n.realValue<this.endNote.realValue&&(this.endNote=n,this.endBeat=n.beat);break}return!0}paint(e,n,r){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),o="tab.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,a=this.renderer;a.staff.getSharedLayoutData(o,!1)||(a.staff.setSharedLayoutData(o,!0),super.paint(e,n,r))}}class BBe extends Xa{constructor(e,n){super(e,n),this._bend=null,this._effectSlurs=[]}drawBeamHelperAsFlags(e){return e.hasFlag(this.renderer.drawBeamHelperAsFlags(e),this.beat)}doLayout(){this._effectSlurs=[],super.doLayout(),this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(!e.isVisible)return;let n=this.renderer;if(e.isTieOrigin&&n.showTiedNotes&&e.tieDestination.isVisible){let r=new fd(e,e.tieDestination,!1);this.addTie(r)}if(e.isTieDestination&&n.showTiedNotes){let r=new fd(e.tieOrigin,e,!0);this.addTie(r)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let r=new fd(e,e,!1);this.addTie(r)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let r=!1;for(let i of this._effectSlurs)if(i.tryExpand(e,e.effectSlurDestination,!1,!1)){r=!0;break}if(!r){let i=new N8(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(i),this.addTie(i)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let r=!1;for(let i of this._effectSlurs)if(i.tryExpand(e.effectSlurOrigin,e,!1,!0)){r=!0;break}if(!r){let i=new N8(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(i),this.addTie(i)}}if(e.slideInType!==us.None||e.slideOutType!==hn.None){let r=new EBe(e.slideInType,e.slideOutType,e,this);this.addTie(r)}if(e.hasBend){if(!this._bend){const r=new _l;this._bend=r,r.renderer=this.renderer,this.addTie(r)}this._bend.addBends(e)}}}class NBe extends ii{constructor(e,n,r){super(e,n),this._noteString=null,this._trillNoteString=null,this._trillNoteStringWidth=0,this.isEmpty=!1,this.noteStringWidth=0,this._note=r}doLayout(){let e=this._note,n=e.fret-e.beat.voice.bar.staff.transpositionPitch;if(e.harmonicType===Vt.Natural&&e.harmonicValue!==0&&(n=e.harmonicValue-e.beat.voice.bar.staff.transpositionPitch),e.isTieDestination)e.beat.index===0&&this.renderer.settings.notation.notationMode==qi.GuitarPro||(e.bendType===_t.Bend||e.bendType===_t.BendRelease)&&this.renderer.settings.notation.isNotationElementVisible(Kt.TabNotesOnTiedBends)?this._noteString="("+(e.tieOrigin.fret-e.beat.voice.bar.staff.transpositionPitch).toString()+")":this._noteString="";else if(this._noteString=e.isDead?"x":n.toString(),e.isGhost)this._noteString="("+this._noteString+")";else if(e.harmonicType===Vt.Natural){let r=this._noteString.indexOf(".");r>=0&&(this._noteString=this._noteString.substr(0,r+2)),this._noteString="<"+this._noteString+">"}if(e.isTrill)this._trillNoteString="("+(e.trillFret-e.beat.voice.bar.staff.transpositionPitch).toString()+")";else if(yr.isAlmostEqualTo(e.harmonicValue,0))this._trillNoteString="";else switch(e.harmonicType){case Vt.Artificial:case Vt.Pinch:case Vt.Tap:case Vt.Semi:case Vt.Feedback:let r=(n+e.harmonicValue).toString(),i=r.indexOf(".");i>=0&&(r=r.substr(0,i+2)),this._trillNoteString="<"+r+">";break;default:this._trillNoteString="";break}this.isEmpty=!this._noteString,this.isEmpty||(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.tablatureFont,this.noteStringWidth=this.renderer.scoreRenderer.canvas.measureText(this._noteString).width*this.scale,this.width=this.noteStringWidth,this.height=this.renderer.scoreRenderer.canvas.font.size,this._trillNoteString&&(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,this._trillNoteStringWidth=3*this.scale+this.renderer.scoreRenderer.canvas.measureText(this._trillNoteString).width,this.width+=this._trillNoteStringWidth))}paint(e,n,r){if(this.isEmpty)return;let i=this.noteStringWidth+this._trillNoteStringWidth,s=e+this.x+(this.width-i)/2,o=this.renderer.scoreRenderer.canvas.font;this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,r.fillText(this._trillNoteString,s+this.noteStringWidth+3*this.scale,n+this.y),this.renderer.scoreRenderer.canvas.font=o,r.fillText(this._noteString,s,n+this.y)}buildBoundingsLookup(e,n,r){let i=new Vv;i.note=this._note,i.noteHeadBounds=new po,i.noteHeadBounds.x=n+this.x,i.noteHeadBounds.y=r+this.y-this.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}class IBe extends ii{constructor(e,n,r){super(e,n),this._notes=[],this.minStringNote=null,this.beatEffects=new Map,this.notesPerString=new Map,this.noteStringWidth=0,this._isGrace=r}buildBoundingsLookup(e,n,r){for(const i of this._notes)i.buildBoundingsLookup(e,n+this.x,r+this.y)}getNoteX(e,n){if(this.notesPerString.has(e.string)){let r=this.notesPerString.get(e.string),i=this.x+r.x;switch(n){case mr.Left:break;case mr.Center:i+=r.noteStringWidth/2;break;case mr.Right:i+=r.width;break}return i}return 0}getNoteY(e,n){if(this.notesPerString.has(e.string)){const r=this.notesPerString.get(e.string);let i=this.y+r.y;switch(n){case kt.Top:case kt.TopWithStem:i-=r.height/2+2*this.scale;break;case kt.Center:break;case kt.Bottom:case kt.BottomWithStem:i+=r.height/2;break}return i}return 0}doLayout(){let e=0,n=0;for(let o=0,a=this._notes.length;o<a;o++){let l=this._notes[o];l.renderer=this.renderer,l.doLayout(),l.width>e&&(e=l.width),l.noteStringWidth>n&&(n=l.noteStringWidth)}this.noteStringWidth=n;let r=this.renderer.resources.tablatureFont.size,i=this.getNoteY(this.minStringNote,kt.Center)+r/2,s=7*this.scale;for(const o of this.beatEffects.values())o.y+=i,o.x+=this.width/2,o.renderer=this.renderer,i+=s,o.doLayout();this.width=e}addNoteGlyph(e,n){this._notes.push(e),this.notesPerString.set(n.string,e),(!this.minStringNote||n.string<this.minStringNote.string)&&(this.minStringNote=n)}paint(e,n,r){e+=this.x,n+=this.y;let i=this.renderer.resources,s=r.textBaseline;r.textBaseline=on.Middle,r.font=this._isGrace?i.graceFont:i.tablatureFont;let o=this._notes,a=this.width;for(let l of o)l.renderer=this.renderer,l.width=a,l.paint(e,n,r);r.textBaseline=s;for(const l of this.beatEffects.values())l.paint(e,n,r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class ABe extends Mi{constructor(e,n,r,i){super(e,n,1,Bp.getSymbol(i)),this._isVisibleRest=r,this._duration=i}doLayout(){this._isVisibleRest?this.width=Bp.getSize(this._duration)*this.scale:this.width=10*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}paint(e,n,r){this._isVisibleRest&&super.paint(e,n,r)}}class RBe extends Xp{constructor(){super(...arguments),this.slash=null,this.noteNumbers=null,this.restGlyph=null}getNoteX(e,n){return this.noteNumbers?this.noteNumbers.getNoteX(e,n):0}getNoteY(e,n){return this.noteNumbers?this.noteNumbers.getNoteY(e,n):0}buildBoundingsLookup(e,n,r){this.noteNumbers&&this.noteNumbers.buildBoundingsLookup(e,n+this.x,r+this.y)}doLayout(){let e=this.renderer;if(this.container.beat.isRest){let r=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),i=e.getTabY(r);const s=new ABe(0,i,e.showRests,this.container.beat.duration);if(this.restGlyph=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s),this.container.beat.dots>0&&e.showRests){this.addGlyph(new ls(0,0,5*this.scale));for(let o=0;o<this.container.beat.dots;o++)this.addGlyph(new Gb(0,i,1.5*this.scale))}}else{let r=this.renderer.settings.notation.smallGraceTabNotes&&this.container.beat.graceType!==Dt.None,i;if(this.container.beat.slashed&&!this.container.beat.notes.some(s=>s.isTieDestination)){const s=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),o=e.getLineY(s),a=new ks(0,o,this.container.beat.duration,r);this.slash=a,a.beat=this.container.beat,a.beamingHelper=this.beamingHelper,this.addGlyph(a),i=a.beatEffects}else{const s=new IBe(0,0,r);this.noteNumbers=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper;for(let o of this.container.beat.notes)o.isVisible&&this.createNoteGlyph(o);this.addGlyph(s),i=s.beatEffects}if(this.container.beat.hasWhammyBar){let s=new Wa(this.container.beat);s.renderer=this.renderer,s.doLayout(),this.container.ties.push(s)}if(this.container.beat.isTremolo&&!i.has("tremolo")){let s=0,o=this.container.beat.tremoloSpeed,a=5*this.scale;switch(o){case ve.ThirtySecond:s=10;break;case ve.Sixteenth:s=5;break;case ve.Eighth:s=0;break}this.container.beat.duration<ve.Half&&(a=0),i.set("tremolo",new cT(a,s*this.scale,o))}if(this.container.beat.dots>0&&e.settings.notation.rhythmMode!==sd.Hidden){this.addGlyph(new ls(0,0,5*this.scale));for(let s=0;s<this.container.beat.dots;s++)this.addGlyph(new Gb(0,e.lineOffset*e.bar.staff.tuning.length+e.settings.notation.rhythmHeight*e.scale,1.5*this.scale))}}if(!this.glyphs)return;let n=0;for(let r=0,i=this.glyphs.length;r<i;r++){let s=this.glyphs[r];s.x=n,s.renderer=this.renderer,s.doLayout(),n+=s.width}this.width=n,this.computedWidth=n,this.container.beat.isEmpty?this.centerX=this.width/2:this.restGlyph?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.noteNumbers?this.centerX=this.noteNumbers.x+this.noteNumbers.noteStringWidth/2:this.slash&&(this.centerX=this.slash.x+this.slash.width/2)}updateBeamingHelper(){this.noteNumbers?this.noteNumbers.updateBeamingHelper(this.container.x+this.x):this.restGlyph?this.restGlyph.updateBeamingHelper(this.container.x+this.x):this.slash&&this.slash.updateBeamingHelper(this.container.x+this.x)}createNoteGlyph(e){let n=this.renderer,r=new NBe(0,0,e),i=e.beat.voice.bar.staff.tuning.length-e.string;r.y=n.getTabY(i),r.renderer=this.renderer,r.doLayout(),this.noteNumbers.addNoteGlyph(r,e);let s=r.y-r.height/2,o=s+r.height;this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,o)}}class LBe extends ii{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=10*this.scale}paint(e,n,r){let i=this.renderer,s=n+this.x+i.getNoteY(this._beat.maxStringNote,kt.Top),o=n+this.y+i.getNoteY(this._beat.minStringNote,kt.Bottom),a=e+this.x+this.width/2|0,l=8*this.scale;if(this._beat.brushType!==Mr.None){if(this._beat.brushType===Mr.BrushUp||this._beat.brushType===Mr.BrushDown)r.beginPath(),r.moveTo(a,s),r.lineTo(a,o),r.stroke();else if(this._beat.brushType===Mr.ArpeggioUp){let c=new Ep(0,0,Wn.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s,d=o-l;c.width=Math.abs(d-u),r.beginRotate(e+this.x+4*this.scale,d,-90),c.paint(0,-c.height/2,r),r.endRotate()}else if(this._beat.brushType===Mr.ArpeggioDown){let c=new Ep(0,0,Wn.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let u=s+l,d=o;c.width=Math.abs(d-u),r.beginRotate(e+this.x+4*this.scale,u,90),c.paint(0,-c.height/2,r),r.endRotate()}this._beat.brushType===Mr.BrushUp||this._beat.brushType===Mr.ArpeggioUp?(r.beginPath(),r.moveTo(a,o),r.lineTo(a+l/2,o-l),r.lineTo(a-l/2,o-l),r.closePath(),r.fill()):(r.beginPath(),r.moveTo(a,s),r.lineTo(a+l/2,s+l),r.lineTo(a-l/2,s+l),r.closePath(),r.fill())}}}class DBe extends Yp{doLayout(){this.container.beat.brushType!==Mr.None&&!this.container.beat.isRest&&(this.addGlyph(new LBe(this.container.beat)),this.addGlyph(new ls(0,0,4*this.scale))),super.doLayout()}constructor(){super()}}class FBe extends ii{constructor(e,n){super(e,n)}doLayout(){this.width=28*this.scale}paint(e,n,r){let i=this.renderer.bar.staff.tuning.length,s=i<=4?Q.FourStringTabClef:Q.SixStringTabClef,o=i<=4?i/4.5:i/6.5;r.fillMusicFontSymbol(e+this.x+5*this.scale,n+this.y,o*this.scale,s,!1)}}class OBe extends CY{get commonScale(){return 1}get numberScale(){return this.renderer.bar.staff.tuning.length<=4?nn.GraceScale:1}}class Np extends Kh{constructor(e,n){super(e,n),this._hasTuplets=!1,this.showTimeSignature=!1,this.showRests=!1,this.showTiedNotes=!1,n.staff.showStandardNotation||(this.showTimeSignature=!0,this.showRests=!0,this.showTiedNotes=!0)}get lineSpacing(){return Np.TabLineSpacing}get heightLineCount(){return this.bar.staff.tuning.length}get drawnLineCount(){return this.bar.staff.tuning.length}getTabY(e){return super.getLineY(e)}getTabHeight(e){return super.getLineHeight(e)}collectSpaces(e){const n=this.scale;for(let r of this.bar.voices)if(this.hasVoiceContainer(r)){let i=this.getVoiceContainer(r);for(let s of i.beatGlyphs){let o=s.onNotes,a=o.noteNumbers;if(a)for(const[l,c]of a.notesPerString)c.isEmpty||e[this.bar.staff.tuning.length-l].push(new Float32Array([i.x+s.x+o.x+a.x,a.width+n]))}}}adjustSizes(){this.settings.notation.rhythmMode!==sd.Hidden&&(this.height+=this.settings.notation.rhythmHeight*this.settings.display.scale,this.bottomPadding+=this.settings.notation.rhythmHeight*this.settings.display.scale)}doLayout(){if(super.doLayout(),this.settings.notation.rhythmMode!==sd.Hidden){this._hasTuplets=!1;for(let e of this.bar.voices)if(this.hasVoiceContainer(e)&&this.getVoiceContainer(e).tupletGroups.length>0){this._hasTuplets=!0;break}this._hasTuplets&&this.registerOverflowBottom(this.tupletSize)}}createLinePreBeatGlyphs(){if(this.isFirstOfLine){let e=(this.bar.staff.tuning.length-1)/2;this.addPreBeatGlyph(new FBe(5*this.scale,this.getTabY(e)))}this.showTimeSignature&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator||this.bar.previousBar&&this.bar.masterBar.isFreeTime&&this.bar.masterBar.isFreeTime!==this.bar.previousBar.masterBar.isFreeTime)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs())}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new ls(0,0,5*this.scale));const e=(this.bar.staff.tuning.length+1)/2-1;this.addPreBeatGlyph(new OBe(0,this.getTabY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon,this.bar.masterBar.isFreeTime))}createVoiceGlyphs(e){for(const n of e.beats){let r=new BBe(n,this.getVoiceContainer(e));r.preNotes=new DBe,r.onNotes=new RBe,this.addBeatGlyph(r)}}paint(e,n,r){super.paint(e,n,r),this.settings.notation.rhythmMode!==sd.Hidden&&(this.paintBeams(e,n,r),this.paintTuplets(e,n,r))}drawBeamHelperAsFlags(e){return super.drawBeamHelperAsFlags(e)||this.settings.notation.rhythmMode===sd.ShowWithBeams}getFlagTopY(e,n){const r=this.getOnNotesGlyphForBeat(e);return!r.noteNumbers||e.duration===ve.Half?this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this.tupletSize:r.noteNumbers.getNoteY(r.noteNumbers.minStringNote,kt.Bottom)}getFlagBottomY(e,n){return this.getFlagAndBarPos()}getFlagStemSize(e){return 0}getBarLineStart(e,n){let r=this.getOnNotesGlyphForBeat(e);return!r.noteNumbers||e.duration===ve.Half?this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this.tupletSize:r.noteNumbers.getNoteY(r.noteNumbers.minStringNote,kt.Bottom)+this.lineOffset/2}getBeamDirection(e){return Je.Down}getFlagAndBarPos(){return this.height-(this._hasTuplets?this.tupletSize/2:0)}calculateBeamYWithDirection(e,n,r){return this.getFlagAndBarPos()}shouldPaintFlag(e,n){return!super.shouldPaintFlag(e,n)||e.graceType!==Dt.None?!1:this.drawBeamHelperAsFlags(n)}paintBeamingStem(e,n,r,i,s,o){if(s<i){const c=s;s=i,i=c}o.lineWidth=Lr.StemWidth*this.scale,o.beginPath();let a=[];this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.has(e.displayStart)&&(a=this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.get(e.displayStart).slots.slice(),a.sort((c,u)=>c.topY-u.topY));let l=s;for(;l>i;){o.moveTo(r,l);let c=i;if(a.length>0&&a[a.length-1].bottomY>c){const u=a.pop();c=n+u.bottomY,o.lineTo(r,c),l=n+u.topY}else{o.lineTo(r,c);break}}o.stroke(),o.lineWidth=this.scale}}Np.StaffId="tab";Np.TabLineSpacing=10;class x3 extends Wv{get staffId(){return Np.StaffId}getStaffPaddingTop(e){return e.system.layout.renderer.settings.display.notationStaffPaddingTop}getStaffPaddingBottom(e){return e.system.layout.renderer.settings.display.notationStaffPaddingBottom}constructor(){super(),this.showTimeSignature=null,this.showRests=null,this.showTiedNotes=null,this.hideOnPercussionTrack=!0}canCreate(e,n){return n.showTablature&&n.tuning.length>0&&super.canCreate(e,n)}create(e,n){let r=new Np(e,n);return this.showRests!==null&&(r.showRests=this.showRests),this.showTimeSignature!==null&&(r.showTimeSignature=this.showTimeSignature),this.showTiedNotes!==null&&(r.showTiedNotes=this.showTiedNotes),r}}class Ub extends Ea{constructor(){super(0,0)}doLayout(){super.doLayout();const e=this.renderer.resources.effectFont;this.height=e.size+Ub.Padding*this.scale}paint(e,n,r){let i=this.renderer.resources;r.font=i.effectFont;let s=r.textAlign;r.textAlign=$t.Center,r.fillText("T",e+this.x,n+this.y+r.font.size/2),r.textAlign=s,r.strokeCircle(e+this.x,n+this.y+r.font.size/2+(Ub.Padding-1)*this.scale,r.font.size/1.6)}}Ub.Padding=4;class I8 extends qp{get notationElement(){return Kt.EffectTap}get sizingMode(){return An.SingleOnBeat}shouldCreateGlyphForNote(e){return e.isLeftHandTapped}createNewGlyph(e,n){return new Ub}}class Hd{constructor(){this.noteRange=1,this.x=0,this.y=0}}var tp;(function(t){t[t.None=0]="None",t[t.Rectangle=1]="Rectangle",t[t.Ellipse=2]="Ellipse",t[t.Circle=3]="Circle"})(tp||(tp={}));class S3 extends Hd{constructor(){super(...arguments),this.align=$t.Left,this.frame=tp.None,this.text="",this.fontFace="",this.weight=0,this.height=0}}class A8 extends Hd{constructor(){super(...arguments),this.chord=new Xh}}class R8 extends Hd{}class L8 extends Hd{}class $Be extends Hd{constructor(){super(...arguments),this.number=0}}class D8 extends Hd{constructor(){super(...arguments),this.decrescendo=!1}}class C3 extends Hd{constructor(){super(...arguments),this.allNumbers=!1,this.firstNumber=0,this.lastNumber=0}}class HBe extends Hd{constructor(){super(...arguments),this.octave=1}}class VBe extends Hd{}class zBe{constructor(){this.defaultClef=ln.G2,this.description="",this.percussion=!1,this.instrument=0,this.volume=0,this.transpose=0,this.index=0}}class WBe{constructor(){this.from=0,this.to=0,this.curly=!1}}class GBe{constructor(){this.currentBarIndex=-1,this.currentBarComplete=!0,this.currentBarDuration=0,this.currentPosition=0,this.voiceStemDir=null,this.repeatCount=0,this.repeatEnd=null}}class j2{constructor(){this._trackChannel=0,this._beamingMode=_c.Auto,this._isFirstSystem=!0,this._staffLookup=new Map,this._brackets=[],this._staffLayoutLookup=new Map,this._staffLayouts=[],this._timeSignature=new Pd,this._voiceStates=new Map}parseXml(e,n){this._galleryObjects=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._voiceCounts=new Map,this._slurs=new Map,this._crescendo=new Map,this._isFirstSystem=!0;let r=new H2;try{r.parse(e)}catch(i){throw new Wr("Could not parse XML",i)}this.parseDom(r),this.consolidate(),this.score.finish(n)}consolidate(){for(const e of this.score.tracks){const n=this._voiceCounts.get(e.index);for(const r of e.staves){for(;r.bars.length<this.score.masterBars.length;)this.addNewBar(r);for(const i of r.bars){for(;i.voices.length<n;)i.addVoice(new Mu);for(const s of i.voices)if(s.beats.length===0){const o=new Fs;o.isEmpty=!0,s.addBeat(o)}}}}j2.applyEffectRange(this._slurs,(e,n)=>{n.isLegatoOrigin=!0}),j2.applyEffectRange(this._crescendo,(e,n)=>{n.crescendo=e.decrescendo?Yo.Decrescendo:Yo.Crescendo})}static applyEffectRange(e,n){for(const[r,i]of e){const s=i.noteRange;let o=r;for(let a=0;a<s;a++)if(n(i,o),o.index+1<o.voice.beats.length)o=o.voice.beats[o.index+1];else if(o.voice.bar.index+1<o.voice.bar.staff.bars.length)o=o.voice.bar.staff.bars[o.voice.bar.index+1].voices[o.voice.index].beats[0];else break}}parseDom(e){let n=e.firstElement;if(!n)throw new Wr("No valid XML");if(n.localName==="score"){this.score=new jp,this.score.tempo=120;for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"info":this.parseInfo(r);break;case"layout":this.parseLayout(r);break;case"gallery":this.parseGallery(r);break;case"pageObjects":this.parsePageObjects(r);break;case"systems":this.parseSystems(r);break}}else throw new Wr('Root node of XML was not "score"')}parseLayout(e){for(let s of e.childNodes)if(s.nodeType===tt.Element)switch(s.localName){case"staves":this.parseLayoutStaves(s);break;case"brackets":this.parseBrackets(s);break}const n=this._brackets.filter(s=>!!s.curly);n.sort((s,o)=>s.from-o.from);let r=0,i=null;for(let s=0;s<this._staffLayouts.length;s++){const o=this._staffLayouts[s];for(;r<n.length&&s>n[r].to;)r++;i&&r<n.length&&s>n[r].from&&s<=n[r].to?i.ensureStaveCount(i.staves.length+1):(i=new _u,i.ensureStaveCount(1),i.name=o.description,i.playbackInfo.volume=Math.floor(o.volume/128*16),i.playbackInfo.program=o.instrument,o.percussion?(i.playbackInfo.primaryChannel=9,i.playbackInfo.secondaryChannel=9):(i.playbackInfo.primaryChannel=this._trackChannel++,i.playbackInfo.secondaryChannel=this._trackChannel++),this.score.addTrack(i));const a=i.staves[i.staves.length-1];a.isPercussion=o.percussion,a.transpositionPitch=o.transpose,a.displayTranspositionPitch=0,a.showTablature=!1,this._staffLookup.set(o.index,a)}}parseBrackets(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"bracket":this.parseBracket(n);break}}parseBracket(e){const n=new WBe;n.from=parseInt(e.getAttribute("from")),n.to=parseInt(e.getAttribute("to")),e.attributes.has("curly")&&(n.curly=e.attributes.get("curly")==="true"),this._brackets.push(n)}parseLayoutStaves(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"staffLayout":this.parseStaffLayout(n);break}}parseStaffLayout(e){const n=new zBe;n.description=e.getAttribute("description");for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"notation":r.attributes.has("defaultClef")&&(n.defaultClef=this.parseClef(r.attributes.get("defaultClef")));break;case"sound":r.attributes.has("percussion")&&(n.percussion=r.attributes.get("percussion")==="true"),r.attributes.has("instr")&&(n.instrument=parseInt(r.attributes.get("instr"))),r.attributes.has("volume")&&(n.volume=parseInt(r.attributes.get("volume"))),r.attributes.has("transpose")&&(n.transpose=parseInt(r.attributes.get("transpose")));break}this._staffLayoutLookup.set(n.description,n),n.index=this._staffLayouts.length,this._staffLayouts.push(n)}parseClef(e){switch(e){case"treble":return ln.G2;case"bass":return ln.F4;case"alto":return ln.C4;case"tenor":return ln.C4}return ln.G2}parseClefOttava(e){return e.endsWith("-")?Xn._8vb:e.endsWith("+")?Xn._8va:Xn.Regular}parseSystems(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"system":this.parseSystem(n);break}}parseSystem(e){e.attributes.has("tempo")&&this.score.masterBars.length===0&&(this.score.tempo=parseInt(e.attributes.get("tempo"))),e.getAttribute("beamGrouping")==="0"&&(this._beamingMode=_c.ForceSplitToNext);for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"staves":this.parseStaves(e,n);break}this._isFirstSystem=!1}parseStaves(e,n){let r=this.score.masterBars.length;for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"staff":this.parseStaff(e,r,i);break}}parseStaff(e,n,r){const i=r.getAttribute("layout");this._currentStaffLayout=this._staffLayoutLookup.get(i),this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!1,this.parseTime(r.getAttribute("defaultTime"));const s=this._staffLookup.get(this._currentStaffLayout.index);for(;s.bars.length<n;)this.addNewBar(s);for(let o of r.childNodes)if(o.nodeType===tt.Element)switch(o.localName){case"voices":this.parseVoices(i,s,e,n,o);break}}parseTime(e){switch(e){case"allaBreve":case"C":this._timeSignature.timeSignatureNumerator=2,this._timeSignature.timeSignatureDenominator=2,this._timeSignature.timeSignatureCommon=!0;break;case"longAllaBreve":this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!0;break;default:if(e.indexOf("/")>0){const n=e.split("/");this._timeSignature.timeSignatureNumerator=parseInt(n[0]),this._timeSignature.timeSignatureDenominator=parseInt(n[1]),this._timeSignature.timeSignatureCommon=!1}break}}parseVoices(e,n,r,i,s){let o=0;for(let a of s.childNodes)if(a.nodeType===tt.Element)switch(a.localName){case"voice":this.parseVoice(e,n,r,o,i,a),o++;break}}getOrCreateBar(e,n){return n<e.bars.length?e.bars[n]:this.addNewBar(e)}addNewBar(e){let n=new Fd;if(e.bars.length>0?(n.clef=e.bars[e.bars.length-1].clef,n.clefOttava=e.bars[e.bars.length-1].clefOttava):n.clef=this._currentStaffLayout.defaultClef,e.addBar(n),e.bars.length>this.score.masterBars.length){let r=new Pd;this.score.addMasterBar(r),r.index>0&&(r.keySignature=r.previousMasterBar.keySignature,r.keySignatureType=r.previousMasterBar.keySignatureType,r.tripletFeel=r.previousMasterBar.tripletFeel),r.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,r.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,r.timeSignatureCommon=this._timeSignature.timeSignatureCommon}return n}newBar(e,n){this._currentVoiceState.currentBarIndex++,this._currentBar=this.getOrCreateBar(e,this._currentVoiceState.currentBarIndex),this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1),this._currentVoiceState.currentBarComplete=!1,this._currentVoiceState.currentPosition=0,this.ensureVoice(e,n)}parseVoice(e,n,r,i,s,o){const a=e+"_"+i;if(this._currentVoiceState&&!this._currentVoiceState.currentBarComplete&&(this._currentBar.masterBar.isAnacrusis=!0),this._voiceStates.has(a)?(this._currentVoiceState=this._voiceStates.get(a),this._currentBar=this.getOrCreateBar(n,this._currentVoiceState.currentBarIndex),this.ensureVoice(n,i)):(this._currentVoiceState=new GBe,this._currentVoiceState.currentBarIndex=s-1,this._voiceStates.set(a,this._currentVoiceState),this.newBar(n,i)),o.attributes.has("stemDir"))switch(o.attributes.get("stemDir")){case"up":this._currentVoiceState.voiceStemDir=Je.Up;break;case"down":this._currentVoiceState.voiceStemDir=Je.Down;break;default:this._currentVoiceState.voiceStemDir=null;break}else this._currentVoiceState.voiceStemDir=null;const l=o.findChildElement("noteObjects");if(r.attributes.has("tempo")){const c=new Ls;c.isLinear=!0,c.type=Di.Tempo,c.value=parseInt(r.attributes.get("tempo")),c.ratioPosition=this._currentVoiceState.currentPosition/this._currentVoiceState.currentBarDuration,this._currentBar.masterBar.tempoAutomations.push(c)}if(l){for(let c of l.childNodes)if(c.nodeType===tt.Element)switch(this._currentVoiceState.currentBarComplete&&c.localName!=="barline"&&this.newBar(n,i),c.localName){case"clefSign":this._currentBar.clef=this.parseClef(c.getAttribute("clef")),this._currentBar.clefOttava=this.parseClefOttava(c.getAttribute("clef"));break;case"keySign":this._currentBar.masterBar.keySignature=parseInt(c.getAttribute("fifths"));break;case"timeSign":this.parseTime(c.getAttribute("time")),this._currentBar.masterBar.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,this._currentBar.masterBar.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,this._currentBar.masterBar.timeSignatureCommon=this._timeSignature.timeSignatureCommon,this._currentVoiceState.currentPosition=0,this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1);break;case"barline":switch(c.getAttribute("type")){case"double":this._currentBar.masterBar.isDoubleBar=!0,this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"end":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0);break;case"repEnd":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"repBegin":this.newBar(n,i),this._currentBar.masterBar.isRepeatStart=!0,this._currentVoiceState.repeatEnd=null,this._currentVoiceState.repeatCount=0;break;case"repEndBegin":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(c),this.newBar(n,i),this._currentBar.masterBar.isRepeatStart=!0;break;case"dashed":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;default:this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break}break;case"chord":let u=new Fs;this.initFromPreviousBeat(u,this._currentVoice),u.beamingMode=this._beamingMode,this._currentVoiceState.voiceStemDir&&(u.preferredBeamDirection=this._currentVoiceState.voiceStemDir),this.parseDuration(this._currentBar,u,c.findChildElement("duration")),u.updateDurations(),this._currentVoiceState.currentPosition+=u.playbackDuration,this._currentVoice.addBeat(u),this.parseChord(u,c),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0);break;case"rest":const d=this.parseRestDurations(this._currentBar,c.findChildElement("duration"));d&&(this.initFromPreviousBeat(d,this._currentVoice),d.updateDurations(),this._currentVoiceState.currentPosition+=d.playbackDuration,this._currentVoice.addBeat(d),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0));break}}}initFromPreviousBeat(e,n){let r=this.getLastBeat(n);r&&(e.dynamics=r.dynamics)}getLastBeat(e){if(e.beats.length>0)return e.beats[e.beats.length-1];if(e.bar.index>0){const n=e.bar.staff.bars[e.bar.index-1];if(e.index<n.voices.length){const r=n.voices[e.index];return this.getLastBeat(r)}}return null}ensureVoice(e,n){for(;this._currentBar.voices.length<n+1;)this._currentBar.addVoice(new Mu);(!this._voiceCounts.has(e.track.index)||this._voiceCounts.get(e.track.index)<this._currentBar.voices.length)&&this._voiceCounts.set(e.track.index,this._currentBar.voices.length),this._currentVoice=this._currentBar.voices[n]}parseChord(e,n){const r=new ci;for(let i of n.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"stem":switch(i.getAttribute("dir")){case"up":e.preferredBeamDirection=Je.Up;break;case"down":e.preferredBeamDirection=Je.Down;break}break;case"articulation":switch(i.getAttribute("type")){case"staccato":r.isStaccato=!0;break;case"normalAccent":r.accentuated=hi.Normal;break;case"strongAccent":r.accentuated=hi.Heavy;break}break;case"lyric":this.parseLyric(e,i);break;case"drawObjects":this.parseBeatDrawObject(e,i);break;case"heads":this.parseHeads(e,r,i);break;case"beam":switch(i.getAttribute("group")){case"force":e.beamingMode=_c.ForceMergeWithNext;break;case"divide":e.beamingMode=_c.ForceSplitToNext;break}break}}parseHeads(e,n,r){for(let i of r.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"head":this.parseHead(e,n,i);break}}parseHead(e,n,r){const i=new ci,s=yr.parseTuning(r.getAttribute("pitch"));i.octave=s.octave-1,i.tone=s.noteValue,i.isStaccato=n.isStaccato,i.accentuated=n.accentuated,e.addNote(i);for(let o of r.childNodes)if(o.nodeType===tt.Element)switch(o.localName){case"alter":o.attributes.has("step")&&(i.tone+=parseInt(o.attributes.get("step")));break;case"tie":o.attributes.has("begin")?this._tieStartIds.has(i.id)||(this._tieStartIds.set(i.id,!0),this._tieStarts.push(i)):o.attributes.has("end")&&this._tieStarts.length>0&&!i.isTieDestination&&(i.isTieDestination=!0,i.tieOrigin=this._tieStarts[0],this._tieStarts.splice(0,1),this._tieStartIds.delete(i.id));break}}parseBeatDrawObject(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"drawObj":const i=this.parseDrawObj(r);if(i){if(i instanceof S3)i.fontFace.startsWith("capella")?i.text==="u"?(e.fermata=new fI,e.fermata.type=Lc.Medium):i.text==="f"?e.dynamics=xn.F:i.text==="j"&&(e.dynamics=xn.MF):this._isFirstSystem&&this.score.title===""&&i.align===$t.Center&&i.height>16&&i.weight>400?this.score.title=i.text:this._isFirstSystem&&this.score.artist===""&&i.align===$t.Center&&i.y<0?this.score.artist=i.text:this._isFirstSystem&&this.score.music===""&&i.align===$t.Right&&i.y<0?this.score.music=i.text:i.text.startsWith("by capella")||(e.text=i.text);else if(!(i instanceof A8))if(i instanceof L8)e.vibrato=Wn.Slight;else if(i instanceof D8)e.crescendo=i.decrescendo?Yo.Decrescendo:Yo.Crescendo,i.noteRange++,this._crescendo.set(e,i);else if(i instanceof R8){const s=i;this._slurs.set(e,s)}else i instanceof C3&&this.applyVolta(i)}break}}parseBarDrawObject(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"drawObj":const r=this.parseDrawObj(n);r&&r instanceof C3&&this.applyVolta(r);break}}applyVolta(e){if(e.lastNumber>0?(this._currentVoiceState.repeatCount=e.lastNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)):e.firstNumber>0&&(this._currentVoiceState.repeatCount=e.firstNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)),e.lastNumber>0&&e.firstNumber>0){let n=0;for(let r=e.firstNumber;r<=e.lastNumber;r++)n=n|1<<r-1;this._currentBar.masterBar.alternateEndings=n}else e.lastNumber>0?this._currentBar.masterBar.alternateEndings=1<<e.lastNumber-1:e.firstNumber>0&&(this._currentBar.masterBar.alternateEndings=1<<e.firstNumber-1)}parseLyric(e,n){for(let r of n.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"verse":e.lyrics||(e.lyrics=[]);let i=r.innerText;r.getAttribute("hyphen")==="true"&&(i+="-"),e.lyrics.push(i);break}}parseRestDurations(e,n){const r=n.getAttribute("base");if(r.indexOf("/")!==-1){let s=new Fs;return s.beamingMode=this._beamingMode,this.parseDuration(e,s,n),s}if(parseInt(r)===1){let s=new Fs;return s.beamingMode=this._beamingMode,s.duration=ve.Whole,s}else return Qe.warning("Importer","Multi-Bar rests are not supported"),null}parseDurationValue(e){switch(e){case"2/1":return ve.DoubleWhole;case"1/1":return ve.Whole;case"1/2":return ve.Half;case"1/4":return ve.Quarter;case"1/8":return ve.Eighth;case"1/16":return ve.Sixteenth;case"1/32":return ve.ThirtySecond;case"1/64":return ve.SixtyFourth;case"1/128":return ve.OneHundredTwentyEighth;default:return Qe.warning("Importer","Unsupported duration"),ve.Quarter}}parseDuration(e,n,r){const i=r.getAttribute("base");n.duration=this.parseDurationValue(i),r.attributes.has("dots")&&(n.dots=parseInt(r.attributes.get("dots")));const s=r.findChildElement("tuplet");if(s){n.tupletNumerator=parseInt(s.getAttribute("count"));const o=s.getAttribute("tripartite")==="true"?3:1,a=s.getAttribute("prolong")==="true"?0:1;let l=0;for(;o*Math.pow(2,l+a)<n.tupletNumerator;)l++;n.tupletDenominator=o*Math.pow(2,l)}}parsePageObjects(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"drawObj":const r=this.parseDrawObj(n);if(r&&r instanceof S3)switch(r.align){case $t.Center:this.score.title?this.score.subTitle||(this.score.subTitle=n.innerText):this.score.title=n.innerText;break;case $t.Right:this.score.artist||(this.score.artist=n.innerText);break}break}}parseGallery(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"drawObj":const r=this.parseDrawObj(n);r&&this._galleryObjects.set(n.getAttribute("name"),r);break}}parseDrawObj(e){let n=null,r=1;for(let i of e.childNodes)if(i.nodeType===tt.Element)switch(i.localName){case"text":n=this.parseText(i);break;case"guitar":n=this.parseGuitar(i);break;case"slur":n=this.parseSlur(i);break;case"wavyLine":n=this.parseWavyLine(i);break;case"bracket":n=this.parseTupletBracket(i);break;case"wedge":n=this.parseWedge(i);break;case"volta":n=this.parseVolta(i);break;case"octaveClef":n=this.parseOctaveClef(i);break;case"trill":n=this.parseTrill(i);break;case"basic":i.attributes.has("noteRange")&&(r=parseInt(i.attributes.get("noteRange")));break}return n&&(n.noteRange=r),n}parseTrill(e){return new VBe}parseOctaveClef(e){const n=new HBe;return e.attributes.has("octave")&&(n.octave=parseInt(e.attributes.get("octave"))),n}parseVolta(e){const n=new C3;return n.allNumbers=e.attributes.get("allNumbers")==="true",e.attributes.has("firstNumber")&&(n.firstNumber=parseInt(e.attributes.get("firstNumber"))),e.attributes.has("lastNumber")&&(n.lastNumber=parseInt(e.attributes.get("lastNumber"))),n}parseWedge(e){const n=new D8;return n.decrescendo=e.attributes.get("decrescendo")==="true",n}parseTupletBracket(e){const n=new $Be;return e.attributes.has("number")&&(n.number=parseInt(e.attributes.get("number"))),n}parseWavyLine(e){return new L8}parseSlur(e){return new R8}parseGuitar(e){const n=new A8,r=e.innerText.trim();for(let i=0;i<r.length;i++)r.charAt(i)==="/"?n.chord.strings.push(0):n.chord.strings.push(parseInt(r.charAt(i)));return n}parseText(e){const n=new S3;switch(e.attributes.has("x")&&(n.x=parseFloat(e.attributes.get("x"))),e.attributes.has("x")&&(n.y=parseFloat(e.attributes.get("y"))),e.getAttribute("align")){case"left":n.align=$t.Left;break;case"center":n.align=$t.Center;break;case"right":n.align=$t.Right;break}switch(e.getAttribute("frame")){case"rectangle":n.frame=tp.Rectangle;break;case"ellipse":n.frame=tp.Ellipse;break;case"circle":n.frame=tp.Circle;break;case"none":n.frame=tp.None;break}if(e.firstElement){for(let r of e.childNodes)if(r.nodeType===tt.Element)switch(r.localName){case"font":n.fontFace=r.getAttribute("face"),r.attributes.has("weight")&&(n.weight=parseInt(r.attributes.get("weight"))),r.attributes.has("height")&&(n.height=parseInt(r.attributes.get("height")));break;case"content":n.text=r.innerText;break}}else n.text=e.innerText;return n}parseInfo(e){for(let n of e.childNodes)if(n.nodeType===tt.Element)switch(n.localName){case"author":this.score.tab=n.firstChild.innerText;break;case"comment":this.score.notices=n.firstChild.innerText;break}}}class UBe extends $m{get name(){return"Capella"}constructor(){super()}readScore(){Qe.debug(this.name,"Loading ZIP entries");let e=new mI(this.data),n,r=null;if(n=e.read(),Qe.debug(this.name,"Zip entries loaded"),n.length>0)for(let i of n)switch(i.fileName){case"score.xml":r=ze.toString(i.data,this.settings.importer.encoding);break}else this.data.reset(),r=ze.toString(this.data.readAll(),this.settings.importer.encoding);if(!r)throw new Wr("No valid capella file");Qe.debug(this.name,"Start Parsing score.xml");try{let i=new j2;return i.parseXml(r,this.settings),Qe.debug(this.name,"score.xml parsed"),i.score}catch(i){throw new Wr("Failed to parse CapXML",i)}}}class jBe{constructor(e){this._targets=new Set,this._callback=e,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}observe(e){this._targets.add(e)}unobserve(e){this._targets.delete(e)}disconnect(){this._targets.clear()}onWindowResize(){const e=[];for(const n of this._targets)e.push({target:n,contentRect:void 0,borderBoxSize:void 0,contentBoxSize:[],devicePixelContentBoxSize:[]});this._callback(e,this)}}class YBe{constructor(e){this._elements=[];let n=null;const r=this._check.bind(this);this._check=()=>{n||(n=setTimeout(()=>{r(),n=null},100))},this._callback=e,window.addEventListener("resize",this._check,!0),document.addEventListener("scroll",this._check,!0)}observe(e){this._elements.indexOf(e)>=0||(this._elements.push(e),this._check())}unobserve(e){this._elements=this._elements.filter(n=>n!=e)}_check(){const e=[];this._elements.forEach(n=>{const r=n.getBoundingClientRect();r.top+r.height>=0&&r.top<=window.innerHeight&&r.left+r.width>=0&&r.left<=window.innerWidth&&e.push({target:n,isIntersecting:!0})}),e.length&&this._callback(e,this)}}function F8(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var XBe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function O8(t){function e(s){t.error=t.hasError?new XBe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}class _r{static enable(e,n){_r.alphaSkia=n,_r.initializeMusicFont(_r.alphaSkia.AlphaSkiaTypeface.register(e))}static initializeMusicFont(e){_r.musicFont=e}static registerFont(e,n){const r=_r.alphaSkia.AlphaSkiaTypeface.register(e.buffer);n||(n=yn.withFamilyList([r.familyName],12,r.isItalic?Or.Italic:Or.Plain,r.isBold?ha.Bold:ha.Regular));for(const i of n.families)this.customTypeFaces.set(_r.customTypefaceKey(i,n.isBold,n.isItalic),r);return n}static customTypefaceKey(e,n,r){return e.toLowerCase()+"_"+n+"_"+r}getTypeFace(){if(this._typeFaceCache!=this.font.toCssString(this.settings.display.scale)){if(this._typeFaceIsSystem){const n={stack:[],error:void 0,hasError:!1};try{const r=F8(n,this._typeFace,!1)}catch(r){n.error=r,n.hasError=!0}finally{O8(n)}}for(const n of this.font.families){var e=_r.customTypefaceKey(n,this.font.isBold,this.font.isItalic);_r.customTypeFaces.has(e)?(this._typeFaceIsSystem=!1,this._typeFace=_r.customTypeFaces.get(e)):(this._typeFaceIsSystem=!0,this._typeFace=_r.alphaSkia.AlphaSkiaTypeface.create(n,this.font.isBold,this.font.isItalic))}this._typeFaceCache=this.font.toCssString(this.settings.display.scale)}return this._typeFace}constructor(){this._color=new Zr(0,0,0,0),this._lineWidth=0,this._typeFaceCache="",this._typeFaceIsSystem=!1,this._typeFace=null,this.font=new yn("Arial",10,Or.Plain),this.textAlign=$t.Left,this.textBaseline=on.Top,this._canvas=new _r.alphaSkia.AlphaSkiaCanvas,this.color=new Zr(0,0,0,255)}destroy(){const e={stack:[],error:void 0,hasError:!1};try{const n=F8(e,this._canvas,!1)}catch(n){e.error=n,e.hasError=!0}finally{O8(e)}}onRenderFinished(){return null}beginRender(e,n){this._canvas.beginRender(e,n,qe.HighDpiFactor)}endRender(){return this._canvas.endRender()}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._canvas.color=_r.alphaSkia.AlphaSkiaCanvas.rgbaToColor(e.r,e.g,e.b,e.a))}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._canvas.lineWidth=e}fillRect(e,n,r,i){r>0&&this._canvas.fillRect(e|0,n|0,r,i)}strokeRect(e,n,r,i){this._canvas.strokeRect(e|0,n|0,r,i)}beginPath(){this._canvas.beginPath()}closePath(){this._canvas.closePath()}moveTo(e,n){this._canvas.moveTo(e,n)}lineTo(e,n){this._canvas.lineTo(e,n)}quadraticCurveTo(e,n,r,i){this._canvas.quadraticCurveTo(e,n,r,i)}bezierCurveTo(e,n,r,i,s,o){this._canvas.bezierCurveTo(e,n,r,i,s,o)}fillCircle(e,n,r){this._canvas.fillCircle(e,n,r)}strokeCircle(e,n,r){this._canvas.strokeCircle(e,n,r)}fill(){this._canvas.fill()}stroke(){this._canvas.stroke()}beginGroup(e){}endGroup(){}fillText(e,n,r){if(e.length==0)return;let i=_r.alphaSkia.AlphaSkiaTextAlign.Left;switch(this.textAlign){case $t.Left:i=_r.alphaSkia.AlphaSkiaTextAlign.Left;break;case $t.Center:i=_r.alphaSkia.AlphaSkiaTextAlign.Center;break;case $t.Right:i=_r.alphaSkia.AlphaSkiaTextAlign.Right;break}let s=_r.alphaSkia.AlphaSkiaTextBaseline.Top;switch(this.textBaseline){case on.Top:s=_r.alphaSkia.AlphaSkiaTextBaseline.Top;break;case on.Middle:s=_r.alphaSkia.AlphaSkiaTextBaseline.Middle;break;case on.Bottom:s=_r.alphaSkia.AlphaSkiaTextBaseline.Bottom;break}this._canvas.fillText(e,this.getTypeFace(),this.font.size*this.settings.display.scale,n,r,i,s)}measureText(e){return new oT(this._canvas.measureText(e,this.getTypeFace(),this.font.size*this.settings.display.scale),this.font.size*_r.FontSizeToLineHeight)}fillMusicFontSymbol(e,n,r,i,s){i!==Q.None&&this.fillMusicFontSymbolText(e,n,r,String.fromCharCode(i),s)}fillMusicFontSymbols(e,n,r,i,s){let o="";for(let a of i)a!==Q.None&&(o+=String.fromCharCode(a));this.fillMusicFontSymbolText(e,n,r,o,s)}fillMusicFontSymbolText(e,n,r,i,s){this._canvas.fillText(i,_r.musicFont,qe.MusicFontSize*this.settings.display.scale*r,e,n,s?_r.alphaSkia.AlphaSkiaTextAlign.Center:_r.alphaSkia.AlphaSkiaTextAlign.Left,_r.alphaSkia.AlphaSkiaTextBaseline.Alphabetic)}beginRotate(e,n,r){this._canvas.beginRotate(e,n,r)}endRotate(){this._canvas.endRotate()}}_r.musicFont=null;_r.customTypeFaces=new Map;_r.FontSizeToLineHeight=1.2;class $8 extends Li{constructor(e,n,r=!1){super(e.beat,n.beat,r),this.startNote=e,this.endNote=n}getTieHeight(e,n,r,i){return this.startNote===this.endNote?15:super.getTieHeight(e,n,r,i)}getBeamDirection(e,n){return Je.Down}static getBeamDirectionForNote(e){return Je.Down}getStartY(){return this.startNoteRenderer.getNoteY(this.startNote,kt.Center)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,mr.Right)}getEndX(){return this.endNoteRenderer.getNoteX(this.endNote,mr.Left)}}class qBe extends Xa{constructor(e,n){super(e,n),this._tiedNoteTie=null}createTies(e){if(e.isVisible){if(!this._tiedNoteTie&&e.isTieOrigin&&e.tieDestination.isVisible){let n=new $8(e,e.tieDestination,!1);this._tiedNoteTie=n,this.addTie(n)}if(!this._tiedNoteTie&&e.isTieDestination){let n=new $8(e.tieOrigin,e,!0);this._tiedNoteTie=n,this.addTie(n)}}}}class KBe extends Bp{constructor(e,n,r){super(e,n,r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("slash",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class QBe extends Xp{constructor(){super(...arguments),this.noteHeads=null,this.restGlyph=null}getNoteX(e,n){if(this.noteHeads){let r=this.noteHeads.x;switch(n){case mr.Left:break;case mr.Center:r+=this.noteHeads.width/2;break;case mr.Right:r+=this.noteHeads.width;break}return r}return 0}buildBoundingsLookup(e,n,r){if(this.noteHeads&&this.container.beat.notes.length>0){const i=new Vv;i.note=this.container.beat.notes[0],i.noteHeadBounds=new po,i.noteHeadBounds.x=n+this.x+this.noteHeads.x,i.noteHeadBounds.y=r+this.y+this.noteHeads.y-this.noteHeads.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}getNoteY(e,n){if(this.noteHeads){let r=this.y+this.noteHeads.y;switch(n){case kt.Top:case kt.TopWithStem:r-=this.noteHeads.height/2+2*this.scale;break;case kt.Center:break;case kt.Bottom:case kt.BottomWithStem:r+=this.noteHeads.height/2;break}return r}return 0}updateBeamingHelper(){this.noteHeads?this.noteHeads.updateBeamingHelper(this.container.x+this.x):this.restGlyph&&this.restGlyph.updateBeamingHelper(this.container.x+this.x)}doLayout(){let e=this.renderer;const n=e.getNoteLine(),r=e.getLineY(n);if(!this.container.beat.isEmpty)if(this.container.beat.isRest){const i=new KBe(0,r,this.container.beat.duration);this.restGlyph=i,i.beat=this.container.beat,i.beamingHelper=this.beamingHelper,this.addGlyph(i),this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,0)}else{const i=this.container.beat.graceType!==Dt.None,s=new ks(0,r,this.container.beat.duration,i);this.noteHeads=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s)}if(this.container.beat.dots>0){this.addGlyph(new ls(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++)this.addGlyph(new Gb(0,e.getLineY(e.getNoteLine())-e.getLineHeight(.5),1.5*this.scale))}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}}class Y2 extends Kh{constructor(e,n){super(e,n),this.simpleWhammyOverflow=0,this._isOnlySlash=!n.staff.showTablature&&!n.staff.showStandardNotation,this.helpers.preferredBeamDirection=Je.Up}get lineSpacing(){return Lr.RawLineSpacing}get heightLineCount(){return 5}get drawnLineCount(){return 1}get bottomGlyphOverflow(){return 0}paint(e,n,r){super.paint(e,n,r),this.paintBeams(e,n,r),this.paintTuplets(e,n,r)}doLayout(){super.doLayout();let e=!1;for(let n of this.bar.voices)if(this.hasVoiceContainer(n)&&this.getVoiceContainer(n).tupletGroups.length>0){e=!0;break}e&&this.registerOverflowTop(this.tupletSize)}getNoteLine(){return 0}getFlagTopY(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}getFlagBottomY(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}getBeamDirection(e){return Je.Up}getNoteY(e,n){let r=super.getNoteY(e,n);return isNaN(r)&&(r=this.getLineY(0)),r}calculateBeamYWithDirection(e,n,r){return this.getLineY(0)-this.getFlagStemSize(e.shortestDuration)}getBarLineStart(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}createLinePreBeatGlyphs(){this._isOnlySlash&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator||this.bar.previousBar&&this.bar.masterBar.isFreeTime&&this.bar.masterBar.isFreeTime!==this.bar.previousBar.masterBar.isFreeTime)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs())}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new ls(0,0,5*this.scale));const e=this.bar.masterBar;this.addPreBeatGlyph(new MI(0,this.getLineY(0),e.timeSignatureNumerator,e.timeSignatureDenominator,e.timeSignatureCommon,e.isFreeTime&&(e.previousMasterBar==null||e.isFreeTime!==e.previousMasterBar.isFreeTime)))}createVoiceGlyphs(e){for(const n of e.beats){let r=new qBe(n,this.getVoiceContainer(e));r.preNotes=new Yp,r.onNotes=e.index==0?new QBe:new Xp,this.addBeatGlyph(r)}}paintBeamingStem(e,n,r,i,s,o){o.lineWidth=Lr.StemWidth*this.scale,o.beginPath(),o.moveTo(r,i),o.lineTo(r,s),o.stroke(),o.lineWidth=this.scale}}Y2.StaffId="slash";class JBe extends Wv{get staffId(){return Y2.StaffId}getStaffPaddingTop(e){return e.system.layout.renderer.settings.display.notationStaffPaddingTop}getStaffPaddingBottom(e){return e.system.layout.renderer.settings.display.notationStaffPaddingBottom}create(e,n){return new Y2(e,n)}canCreate(e,n){return super.canCreate(e,n)&&n.showSlash}constructor(){super()}}class k3 extends Li{constructor(e,n,r=!1){super(e?e.beat:null,n?n.beat:null,r),this.startNote=e,this.endNote=n}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,n){return Je.Up}getStartY(){return this.startNoteRenderer.getNoteY(this.startNote,kt.Top)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,mr.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,mr.Left):this.endNoteRenderer.getNoteX(this.endNote,mr.Center)}}class H8 extends fd{constructor(e,n,r,i=!1){super(e,n,i),this._direction=Je.Up,this._forSlide=r}getTieHeight(e,n,r,i){return Math.log(r-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,n,r,i){if(this._forSlide!==r||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==n.beat.id)return!1;switch(this._direction){case Je.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),n.realValue>this.endNote.realValue&&(this.endNote=n,this.endBeat=n.beat);break;case Je.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),n.realValue<this.endNote.realValue&&(this.endNote=n,this.endBeat=n.beat);break}return!0}paint(e,n,r){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),o="numbered.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,a=this.renderer;a.staff.getSharedLayoutData(o,!1)||(a.staff.setSharedLayoutData(o,!0),super.paint(e,n,r))}}class ZBe extends Xa{constructor(e,n){super(e,n),this._effectSlurs=[]}createTies(e){if(e.isVisible){if(e.isTieOrigin&&e.tieDestination.isVisible){let n=new k3(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination){let n=new k3(e.tieOrigin,e,!0);this.addTie(n)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let n=new k3(e,e,!1);this.addTie(n)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let n=!1;for(let r of this._effectSlurs)if(r.tryExpand(e,e.effectSlurDestination,!1,!1)){n=!0;break}if(!n){let r=new H8(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(r),this.addTie(r)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let n=!1;for(let r of this._effectSlurs)if(r.tryExpand(e.effectSlurOrigin,e,!1,!0)){n=!0;break}if(!n){let r=new H8(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(r),this.addTie(r)}}}}}class cm extends ii{constructor(e,n,r,i){super(e,n),this._isGrace=i,this._number=r}paint(e,n,r){const i=this.renderer.resources;r.font=this._isGrace?i.numberedNotationGraceFont:i.numberedNotationFont,r.textBaseline=on.Middle,r.textAlign=$t.Left,r.fillText(this._number.toString(),e+this.x,n+this.y)}doLayout(){const e=(this._isGrace?nn.GraceScale:1)*this.scale;this.width=cm.NoteHeadWidth*e,this.height=cm.NoteHeadHeight*e}}cm.NoteHeadHeight=17;cm.NoteHeadWidth=12;class jb extends ii{doLayout(){this.width=(14+jb.Padding)*this.scale,this.height=As.BarSize*this.scale}paint(e,n,r){const i=jb.Padding*this.scale;r.fillRect(e+this.x,n+this.y,this.width-i,this.height)}}jb.Padding=3;class eNe extends Yp{constructor(){super(...arguments),this.isNaturalizeAccidental=!1,this.accidental=Nt.None}doLayout(){if(!this.container.beat.isRest&&!this.container.beat.isEmpty){let e=new TI;if(e.renderer=this.renderer,this.container.beat.notes.length>0){const n=this.container.beat.notes[0],r=n?n.accidentalMode:Pi.Default,i=$r.getNoteValue(n);let s=$r.computeAccidental(this.renderer.bar.masterBar.keySignature,r,i,n.hasQuarterToneOffset);if(s==Nt.Natural&&(s=this.renderer.bar.masterBar.keySignature+7<7?Nt.Sharp:Nt.Flat,this.isNaturalizeAccidental=!0),s!==Nt.None){this.accidental=s;let o=this.renderer,a=new xu(0,o.getLineY(0),s,n.beat.graceType!==Dt.None?nn.GraceScale*nn.GraceScale:nn.GraceScale);a.renderer=this.renderer,e.addGlyph(a),this.addGlyph(e),this.addGlyph(new ls(0,0,4*this.scale))}}}super.doLayout()}}class um extends Xp{constructor(){super(...arguments),this.noteHeads=null,this.octaveDots=0}getNoteX(e,n){if(this.noteHeads){let r=this.noteHeads.x;switch(n){case mr.Left:break;case mr.Center:r+=this.noteHeads.width/2;break;case mr.Right:r+=this.noteHeads.width;break}return r}return 0}buildBoundingsLookup(e,n,r){if(this.noteHeads&&this.container.beat.notes.length>0){const i=new Vv;i.note=this.container.beat.notes[0],i.noteHeadBounds=new po,i.noteHeadBounds.x=n+this.x+this.noteHeads.x,i.noteHeadBounds.y=r+this.y+this.noteHeads.y-this.noteHeads.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}getNoteY(e,n){if(this.noteHeads){let r=this.y+this.noteHeads.y;switch(n){case kt.Top:case kt.TopWithStem:r-=this.noteHeads.height/2+2*this.scale;break;case kt.Center:break;case kt.Bottom:case kt.BottomWithStem:r+=this.noteHeads.height/2;break}return r}return 0}updateBeamingHelper(){this.beamingHelper&&this.noteHeads&&this.beamingHelper.registerBeatLineX("numbered",this.container.beat,this.container.x+this.x+this.noteHeads.x,this.container.x+this.x+this.noteHeads.x+this.noteHeads.width)}doLayout(){let e=this.renderer;e.shortestDuration<this.container.beat.duration&&(e.shortestDuration=this.container.beat.duration);const n=e.getLineY(e.getNoteLine());if(!this.container.beat.isEmpty){let r="0";if(this.container.beat.notes.length>0){const l=this.renderer.bar.masterBar.keySignatureType,c=this.renderer.bar.masterBar.keySignature,u=c+7,h=(l===Wc.Minor?um.MinorKeySignatureOneValues:um.MajorKeySignatureOneValues)[u],f=this.container.beat.notes[0];if(f.isDead)r="X";else{let p=f.displayValue-h,m=p<0?(p%12+12)%12:p%12,y=p<0?(Math.abs(p)+12)/12|0:p/12|0;p<0&&(y*=-1),this.octaveDots=y,e.registerOctave(y);let w=(yr.keySignatureIsSharp(c)||yr.keySignatureIsNatural(c)?$r.FlatNoteSteps:$r.SharpNoteSteps)[m]+1;$r.AccidentalNotes[m]&&!this.container.preNotes.isNaturalizeAccidental&&(u<7?w++:w--),r=w.toString()}}const i=this.container.beat.graceType!==Dt.None,s=new cm(0,n,r,i);if(this.noteHeads=s,this.addGlyph(s),this.container.beat.dots>0&&this.container.beat.duration>=ve.Quarter){this.addGlyph(new ls(0,0,5*this.scale));for(let l=0;l<this.container.beat.dots;l++){const c=new Gb(0,e.getLineY(0),1.5*this.scale);c.renderer=this.renderer,this.addGlyph(c)}}let o=0;switch(this.container.beat.duration){case ve.QuadrupleWhole:o=16;break;case ve.DoubleWhole:o=8;break;case ve.Whole:o=4;break;case ve.Half:o=2;break}let a=o;for(let l=0;l<this.container.beat.dots;l++)a=a/2|0,o+=a;for(let l=0;l<o-1;l++){const c=new jb(0,e.getLineY(0));c.renderer=this.renderer,this.addGlyph(c)}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}}um.MajorKeySignatureOneValues=[59,66,61,68,63,58,65,60,67,62,69,64,71,66,61];um.MinorKeySignatureOneValues=[71,66,73,68,63,70,65,72,67,74,69,64,71,66,73];class tNe extends ii{constructor(e,n,r,i){super(e,n),this._text="",this._accidental=Nt.None,this._accidentalOffset=0,this._keySignature=r,this._keySignatureType=i}doLayout(){super.doLayout();const e="1 = ";let n="",r=Nt.None;switch(this._keySignatureType){case Wc.Major:switch(this._keySignature){case Cn.Cb:n="  C",r=Nt.Flat;break;case Cn.Gb:n="  G",r=Nt.Flat;break;case Cn.Db:n="  D",r=Nt.Flat;break;case Cn.Ab:n="  A",r=Nt.Flat;break;case Cn.Eb:n="  E",r=Nt.Flat;break;case Cn.Bb:n="  B",r=Nt.Flat;break;case Cn.F:n="F";break;case Cn.C:n="C",r=Nt.None;break;case Cn.G:n="G",r=Nt.None;break;case Cn.D:n="D",r=Nt.None;break;case Cn.A:n="A",r=Nt.None;break;case Cn.E:n="E",r=Nt.None;break;case Cn.B:n="B",r=Nt.None;break;case Cn.FSharp:n="  F",r=Nt.Sharp;break;case Cn.CSharp:n="  C",r=Nt.Sharp;break}break;case Wc.Minor:switch(this._keySignature){case Cn.Cb:n="  a",r=Nt.Flat;break;case Cn.Gb:n="  e",r=Nt.Flat;break;case Cn.Db:n="  b",r=Nt.Flat;break;case Cn.Ab:n="f",r=Nt.None;break;case Cn.Eb:n="c",r=Nt.None;break;case Cn.Bb:n="g",r=Nt.None;break;case Cn.F:n="d";break;case Cn.C:n="a",r=Nt.None;break;case Cn.G:n="e",r=Nt.None;break;case Cn.D:n="b",r=Nt.None;break;case Cn.A:n="  f",r=Nt.Sharp;break;case Cn.E:n="  c",r=Nt.Sharp;break;case Cn.B:n="  g",r=Nt.Sharp;break;case Cn.FSharp:n="  d",r=Nt.Sharp;break;case Cn.CSharp:n="  a",r=Nt.Sharp;break}break}this._text=e+n,this._accidental=r;const i=this.renderer.scoreRenderer.canvas,s=this.renderer.resources;i.font=s.numberedNotationFont,this._accidentalOffset=i.measureText(e).width,this.width=i.measureText(e+n).width}paint(e,n,r){const i=this.renderer.resources;r.font=i.numberedNotationFont,r.textBaseline=on.Middle,r.fillText(this._text,e+this.x,n+this.y),this._accidental!=Nt.None&&r.fillMusicFontSymbol(e+this.x+this._accidentalOffset,n+this.y,.7,xu.getMusicSymbol(this._accidental),!1)}}class As extends Kh{registerOctave(e){this.lowestOctave===null?(this.lowestOctave=e,this.highestOctave=e):(e<this.lowestOctave&&(this.lowestOctave=e),e>this.highestOctave&&(this.highestOctave=e))}constructor(e,n){super(e,n),this.simpleWhammyOverflow=0,this.shortestDuration=ve.QuadrupleWhole,this.lowestOctave=null,this.highestOctave=null,this._isOnlyNumbered=!n.staff.showSlash&&!n.staff.showTablature&&!n.staff.showStandardNotation}get lineSpacing(){return Lr.RawLineSpacing}get heightLineCount(){return 5}get drawnLineCount(){return 0}get bottomGlyphOverflow(){return 0}paint(e,n,r){super.paint(e,n,r),this.paintBeams(e,n,r),this.paintTuplets(e,n,r,!0)}doLayout(){super.doLayout();let e=!1;for(let n of this.bar.voices)if(this.hasVoiceContainer(n)&&this.getVoiceContainer(n).tupletGroups.length>0){e=!0;break}if(e&&this.registerOverflowTop(this.tupletSize),!this.bar.isEmpty){let n=yr.getIndex(this.shortestDuration)-2;if(n>0){let i=As.BarSpacing*this.scale,s=As.BarSize*this.scale,o=(n-1)*i+s,a=0;const l=this.lowestOctave;l!==null&&(a=(Math.abs(l)*As.DotSpacing+As.DotSize)*this.scale),this.registerOverflowBottom(o+a)}const r=this.highestOctave;if(r!==null){const i=(Math.abs(r)*As.DotSpacing+As.DotSize)*this.scale;this.registerOverflowTop(i)}}}paintFlag(e,n,r,i){this.paintBar(e,n,r,i)}paintBar(e,n,r,i){const s=this.resources;for(let a=0,l=i.beats.length;a<l;a++){let c=i.beats[a],u=As.BarSpacing*this.scale,d=As.BarSize*this.scale,h=yr.getIndex(c.duration)-2,f=n+this.y,p=this.getBeatX(c,fn.PreNotes)-this.beatGlyphsStart;var o=this.calculateBeamY(i,p);for(let k=0;k<h;k++){let P=0,T=0,_=0,E=f+k*u;a===i.beats.length-1?(P=p,T=this.getBeatX(c,fn.PostNotes)-this.beatGlyphsStart):(P=p,T=this.getBeatX(i.beats[a+1],fn.PreNotes)-this.beatGlyphsStart),_=E+o|0,Kh.paintSingleBar(r,e+this.x+P,_,e+this.x+T,_,d)}let y=this.getBeatContainer(c).onNotes.octaveDots,S=0,w=0;y>0?(S=f+this.getLineY(0)-s.numberedNotationFont.size/1.5,w=As.DotSpacing*-1*this.scale):y<0&&(S=f+o+h*u,w=As.DotSpacing*this.scale);let v=this.getBeatX(c,fn.OnNotes)+4*this.scale-this.beatGlyphsStart;y=Math.abs(y);for(let k=0;k<y;k++)r.fillCircle(e+this.x+v,S,As.DotSize*this.scale),S+=w}}getNoteLine(){return 0}get tupletOffset(){return super.tupletOffset+this.resources.numberedNotationFont.size*this.scale}getFlagTopY(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}getFlagBottomY(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}getBeamDirection(e){return Je.Down}getTupletBeamDirection(e){return Je.Up}getNoteY(e,n){let r=super.getNoteY(e,n);return isNaN(r)&&(r=this.getLineY(0)),r}calculateBeamYWithDirection(e,n,r){const i=this.resources.numberedNotationFont;return this.getLineY(0)+i.size*this.scale}getBarLineStart(e,n){return this.getLineY(0)-ks.NoteHeadHeight/2*this.scale}createLinePreBeatGlyphs(){(!this.bar.previousBar||this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),this._isOnlyNumbered&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator||this.bar.previousBar&&this.bar.masterBar.isFreeTime&&this.bar.masterBar.isFreeTime!==this.bar.previousBar.masterBar.isFreeTime)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs())}createKeySignatureGlyphs(){this.addPreBeatGlyph(new tNe(0,this.getLineY(0),this.bar.masterBar.keySignature,this.bar.masterBar.keySignatureType))}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new ls(0,0,5*this.scale));const e=this.bar.masterBar;this.addPreBeatGlyph(new MI(0,this.getLineY(0),e.timeSignatureNumerator,e.timeSignatureDenominator,e.timeSignatureCommon,e.isFreeTime&&(e.previousMasterBar==null||e.isFreeTime!==e.previousMasterBar.isFreeTime)))}createPostBeatGlyphs(){this._isOnlyNumbered&&super.createPostBeatGlyphs()}createVoiceGlyphs(e){for(const n of e.beats){let r=new ZBe(n,this.getVoiceContainer(e));r.preNotes=e.index==0?new eNe:new Yp,r.onNotes=e.index==0?new um:new Xp,this.addBeatGlyph(r)}}paintBeamingStem(e,n,r,i,s,o){o.lineWidth=Lr.StemWidth*this.scale,o.beginPath(),o.moveTo(r,i),o.lineTo(r,s),o.stroke(),o.lineWidth=this.scale}}As.StaffId="numbered";As.BarSpacing=Lr.BeamSpacing+Lr.BeamThickness;As.BarSize=2;As.DotSpacing=5;As.DotSize=2;class nNe extends Wv{get staffId(){return Y2.StaffId}getStaffPaddingTop(e){return e.system.layout.renderer.settings.display.notationStaffPaddingTop}getStaffPaddingBottom(e){return e.system.layout.renderer.settings.display.notationStaffPaddingBottom}create(e,n){return new As(e,n)}canCreate(e,n){return super.canCreate(e,n)&&n.showNumbered}constructor(){super()}}class rNe extends Zi{get notationElement(){return Kt.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return An.SinglePreBeat}shouldCreateGlyph(e,n){const r=n.voice.bar.masterBar;return n.voice.bar.staff.index===0&&n.voice.index===0&&n.index===0&&r.isFreeTime&&(r.index===0||r.isFreeTime!=r.previousMasterBar.isFreeTime)}createNewGlyph(e,n){return new Ss(0,0,"Free time",e.resources.effectFont,$t.Left)}canExpand(e,n){return!0}}class V8{constructor(e,n){this.vertical=e,this.createLayout=n}}class T3{constructor(e,n){this.supportsWorkers=e,this.createCanvas=n}}class qe{static createStyleElement(e,n){let r=e.getElementById("alphaTabStyle");if(!r){if(!n){Qe.error("AlphaTab","Font directory could not be detected, cannot create style element");return}r=e.createElement("style"),r.id="alphaTabStyle";let i=`
            @font-face {
                font-family: 'alphaTab';
                 src: url('${n}Bravura.eot');
                 src: url('${n}Bravura.eot?#iefix') format('embedded-opentype')
                      , url('${n}Bravura.woff') format('woff')
                      , url('${n}Bravura.otf') format('opentype')
                      , url('${n}Bravura.svg#Bravura') format('svg');
                 font-weight: normal;
                 font-style: normal;
            }
            .at-surface * {
                cursor: default;
                vertical-align: top;
                overflow: visible;
            }
            .at-surface-svg text {
                dominant-baseline: central;
                white-space:pre;
            }
            .at {
                 font-family: 'alphaTab';
                 speak: none;
                 font-style: normal;
                 font-weight: normal;
                 font-variant: normal;
                 text-transform: none;
                 line-height: 1;
                 line-height: 1;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
                 font-size: ${qe.MusicFontSize}px;
                 overflow: visible !important;
            }`;r.innerHTML=i,e.getElementsByTagName("head").item(0).appendChild(r),qe.bravuraFontChecker.checkForFontAvailability()}}static get globalThis(){if(qe._globalThis===void 0){try{qe._globalThis=globalThis}catch{}typeof qe._globalThis>"u"&&(qe._globalThis=self),typeof qe._globalThis>"u"&&(qe._globalThis=global),typeof qe._globalThis>"u"&&(qe._globalThis=window),typeof qe._globalThis>"u"&&(qe._globalThis=Function("return this")())}return this._globalThis}static get isRunningInWorker(){return"WorkerGlobalScope"in qe.globalThis}static get isRunningInAudioWorklet(){return"AudioWorkletGlobalScope"in qe.globalThis}static throttle(e,n){let r=0;return()=>{qe.globalThis.clearTimeout(r),r=qe.globalThis.setTimeout(e,n)}}static detectScriptFile(){if(!qe.isRunningInWorker&&qe.globalThis.ALPHATAB_ROOT){let e=qe.globalThis.ALPHATAB_ROOT;return e=qe.ensureFullUrl(e),e=qe.appendScriptName(e),e}try{const e=import.meta.url;if(e&&e.indexOf("file://")===-1)return e}catch{}return"document"in qe.globalThis&&document.currentScript?document.currentScript.src:null}static ensureFullUrl(e){var n,r,i;if(!e)return"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("file")){let s="",o=qe.globalThis.location;if(s+=(n=o.protocol)==null?void 0:n.toString(),s+="//",o.hostname&&(s+=(r=o.hostname)==null?void 0:r.toString()),o.port&&(s+=":",s+=(i=o.port)==null?void 0:i.toString()),!e.startsWith("/")){let a=o.pathname.split("/").slice(0,-1).join("/");a.length>0&&(a.startsWith("/")||(s+="/"),s+=a==null?void 0:a.toString())}return e.startsWith("/")||(s+="/"),s+=e==null?void 0:e.toString(),s}return e}static appendScriptName(e){return e&&!e.endsWith(".js")&&(e.endsWith("/")||(e+="/"),e+="alphaTab.js"),e}static detectFontDirectory(){if(!qe.isRunningInWorker&&qe.globalThis.ALPHATAB_FONT)return qe.ensureFullUrl(qe.globalThis.ALPHATAB_FONT);const e=qe.scriptFile;if(e){let n=e.lastIndexOf("/");if(n>=0)return e.substr(0,n)+"/font/"}return null}static registerJQueryPlugin(){if(!qe.isRunningInWorker&&qe.globalThis&&"jQuery"in qe.globalThis){let e=qe.globalThis.jQuery,n=new b8;e.fn.alphaTab=function(r){const i=Array.prototype.slice.call(arguments,1);return this.length===1?n.exec(this[0],r,i):this.each((s,o)=>{n.exec(o,r,i)})},e.alphaTab={restore:b8.restore},e.fn.alphaTab.fn=n}}static getRenderEngineFactory(e){return!e||!qe.renderEngines.has(e)?qe.renderEngines.get("default"):qe.renderEngines.get(e)}static getLayoutEngineFactory(e){return!e||!qe.layoutEngines.has(e)?qe.layoutEngines.get(hd.Page):qe.layoutEngines.get(e)}static buildImporters(){return[new lu,new $Ee,new FEe,new HEe,new UBe,new Xs]}static createDefaultRenderEngines(){const e=new Map;return e.set("svg",new T3(!0,()=>new y5e)),e.set("default",e.get("svg")),e.set("skia",new T3(!1,()=>new _r)),qe.createPlatformSpecificRenderEngines(e),e}static enableAlphaSkia(e,n){_r.enable(e,n)}static registerAlphaSkiaCustomFont(e,n){return _r.registerFont(e,n)}static createPlatformSpecificRenderEngines(e){e.set("html5",new T3(!1,()=>new ZEe))}static createDefaultRenderers(){return[new M0(qe.StaffIdBeforeSlashAlways,[new tBe,new iBe,new X5e,new D5e,new rNe,new nBe,new O5e]),new JBe,new M0(qe.StaffIdBeforeScoreAlways,[new W5e]),new M0(qe.StaffIdBeforeScoreHideable,[new sBe,new k8,new x8(!0),new T8,new S8,new P8,new C8,new I8],(e,n)=>n.showStandardNotation),new MBe,new M0(qe.StaffIdBeforeNumberedAlways,[new $5e,new x8(!1),new H5e]),new nNe,new M0(qe.StaffIdBeforeTabAlways,[new Y5e]),new M0(qe.StaffIdBeforeTabHideable,[new k8,new T8,new S8,new P8,new C8,new Z5e,new z5e,new mh(Vt.Natural),new mh(Vt.Artificial),new mh(Vt.Pinch),new mh(Vt.Tap),new mh(Vt.Semi),new mh(Vt.Feedback),new U5e,new F5e,new G5e,new K5e,new J5e,new Q5e,new I8],(e,n)=>n.showTablature),new x3]}static createDefaultStaveProfiles(){const e=new Map,n=qe.createDefaultRenderers();e.set(Zu.Default,n),e.set(Zu.ScoreTab,n);const r=new Set([qe.StaffIdBeforeSlashAlways,qe.StaffIdBeforeScoreAlways,qe.StaffIdBeforeNumberedAlways,qe.StaffIdBeforeTabAlways,Ec.StaffId]);e.set(Zu.Score,n.filter(s=>r.has(s.staffId)));const i=new Set([qe.StaffIdBeforeSlashAlways,qe.StaffIdBeforeScoreAlways,qe.StaffIdBeforeNumberedAlways,qe.StaffIdBeforeTabAlways,Np.StaffId]);return e.set(Zu.Tab,qe.createDefaultRenderers().filter(s=>{if(s instanceof x3){const o=s;o.showTimeSignature=!0,o.showRests=!0,o.showTiedNotes=!0}return i.has(s.staffId)})),e.set(Zu.TabMixed,qe.createDefaultRenderers().filter(s=>{if(s instanceof x3){const o=s;o.showTimeSignature=!1,o.showRests=!1,o.showTiedNotes=!1}return i.has(s.staffId)})),e}static createDefaultLayoutEngines(){const e=new Map;return e.set(hd.Page,new V8(!0,n=>new aBe(n))),e.set(hd.Horizontal,new V8(!1,n=>new oBe(n))),e}static initializeMain(e,n){qe.isRunningInWorker||qe.isRunningInAudioWorklet||((qe.webPlatform===pa.Browser||qe.webPlatform===pa.BrowserModule)&&(qe.registerJQueryPlugin(),qe.HighDpiFactor=window.devicePixelRatio,"ResizeObserver"in qe.globalThis||(qe.globalThis.ResizeObserver=jBe),"IntersectionObserver"in qe.globalThis||(qe.globalThis.IntersectionObserver=YBe),"replaceChildren"in Element.prototype||(Element.prototype.replaceChildren=function(...r){this.innerHTML="",this.append(...r)},Document.prototype.replaceChildren=Element.prototype.replaceChildren,DocumentFragment.prototype.replaceChildren=Element.prototype.replaceChildren),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(r,i){return this.replace(new RegExp(r,"g"),i)})),qe.createWebWorker=e,qe.createAudioWorklet=n)}static get alphaTabWorker(){return this.globalThis.Worker}static initializeWorker(){if(!qe.isRunningInWorker)throw new fs(hs.General,"Not running in worker, cannot run worker initialization");wI.init(),vI.init(),qe.createWebWorker=e=>{throw new fs(hs.General,"Nested workers are not supported")}}static initializeAudioWorklet(){if(!qe.isRunningInAudioWorklet)throw new fs(hs.General,"Not running in audio worklet, cannot run worklet initialization");$b.init()}static detectWebPack(){try{if(typeof __webpack_require__=="function")return!0}catch{}return!1}static detectVite(){try{if(typeof __BASE__=="string")return!0}catch{}return!1}static detectWebPlatform(){try{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return pa.NodeJs}catch{}try{const e=import.meta.url;if(e&&typeof e=="string"&&!e.startsWith("file://"))return pa.BrowserModule}catch{}return pa.Browser}}qe.StaffIdBeforeSlashAlways="before-slash-always";qe.StaffIdBeforeScoreAlways="before-score-always";qe.StaffIdBeforeScoreHideable="before-score-hideable";qe.StaffIdBeforeNumberedAlways="before-numbered-always";qe.StaffIdBeforeTabAlways="before-tab-always";qe.StaffIdBeforeTabHideable="before-tab-hideable";qe.MusicFontSize=34;qe.HighDpiFactor=1;qe._globalThis=void 0;qe.webPlatform=qe.detectWebPlatform();qe.isWebPackBundled=qe.detectWebPack();qe.isViteBundled=qe.detectVite();qe.scriptFile=qe.detectScriptFile();qe.fontDirectory=qe.detectFontDirectory();qe.bravuraFontChecker=new yY(["alphaTab"]);qe.renderEngines=qe.createDefaultRenderEngines();qe.layoutEngines=qe.createDefaultLayoutEngines();qe.staveProfiles=qe.createDefaultStaveProfiles();class kY{constructor(){this.scriptFile=null,this.fontDirectory=null,this.file=null,this.tex=!1,this.tracks=null,this.enableLazyLoading=!0,this.engine="default",this.logLevel=Cc.Info,this.useWorkers=!0,this.includeNoteBounds=!1,this.scriptFile=qe.scriptFile,this.fontDirectory=qe.fontDirectory}}var nt;(function(t){t[t.SteelGuitar=1]="SteelGuitar",t[t.AcousticGuitar=2]="AcousticGuitar",t[t.TwelveStringGuitar=3]="TwelveStringGuitar",t[t.ElectricGuitar=4]="ElectricGuitar",t[t.Bass=5]="Bass",t[t.ClassicalGuitar=23]="ClassicalGuitar",t[t.UprightBass=6]="UprightBass",t[t.Ukulele=7]="Ukulele",t[t.Banjo=8]="Banjo",t[t.Mandolin=9]="Mandolin",t[t.Piano=10]="Piano",t[t.Synth=12]="Synth",t[t.Strings=11]="Strings",t[t.Brass=13]="Brass",t[t.Reed=14]="Reed",t[t.Woodwind=15]="Woodwind",t[t.Vocal=16]="Vocal",t[t.PitchedIdiophone=17]="PitchedIdiophone",t[t.Fx=21]="Fx",t[t.PercussionKit=18]="PercussionKit",t[t.Idiophone=19]="Idiophone",t[t.Membraphone=20]="Membraphone"})(nt||(nt={}));class rt{constructor(e,n,r=null){if(this.icon=nt.Piano,this.icon=e,this.instrumentSetName=n,r)this.instrumentSetType=r;else{const i=n.split(" ");i[0]=i[0].substr(0,1).toLowerCase()+i[0].substr(1),this.instrumentSetType=i.join("")}}}new rt(nt.Piano,"Acoustic Piano"),new rt(nt.Piano,"Acoustic Piano"),new rt(nt.Piano,"Electric Piano"),new rt(nt.Piano,"Acoustic Piano"),new rt(nt.Piano,"Electric Piano"),new rt(nt.Piano,"Electric Piano"),new rt(nt.Piano,"Harpsichord"),new rt(nt.Piano,"Harpsichord"),new rt(nt.PitchedIdiophone,"Celesta"),new rt(nt.PitchedIdiophone,"Vibraphone"),new rt(nt.PitchedIdiophone,"Vibraphone"),new rt(nt.PitchedIdiophone,"Vibraphone"),new rt(nt.PitchedIdiophone,"Xylophone"),new rt(nt.PitchedIdiophone,"Xylophone"),new rt(nt.PitchedIdiophone,"Vibraphone"),new rt(nt.Banjo,"Banjo"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Piano,"Electric Organ"),new rt(nt.Woodwind,"Recorder"),new rt(nt.Piano,"Electric Organ"),new rt(nt.ClassicalGuitar,"Nylon Guitar"),new rt(nt.SteelGuitar,"Steel Guitar"),new rt(nt.SteelGuitar,"Electric Guitar"),new rt(nt.ElectricGuitar,"Electric Guitar"),new rt(nt.ElectricGuitar,"Electric Guitar"),new rt(nt.ElectricGuitar,"Electric Guitar"),new rt(nt.SteelGuitar,"Electric Guitar"),new rt(nt.SteelGuitar,"Electric Guitar"),new rt(nt.Bass,"Acoustic Bass"),new rt(nt.Bass,"Electric Bass"),new rt(nt.Bass,"Electric Bass"),new rt(nt.Bass,"Acoustic Bass"),new rt(nt.Bass,"Electric Bass"),new rt(nt.Bass,"Electric Bass"),new rt(nt.Synth,"Synth Bass"),new rt(nt.Synth,"Synth Bass"),new rt(nt.Strings,"Violin"),new rt(nt.Strings,"Viola"),new rt(nt.Strings,"Cello"),new rt(nt.Strings,"Contrabass"),new rt(nt.Strings,"Violin"),new rt(nt.Strings,"Violin"),new rt(nt.Piano,"Harp"),new rt(nt.Membraphone,"Timpani"),new rt(nt.Strings,"Violin"),new rt(nt.Strings,"Violin"),new rt(nt.Strings,"Violin"),new rt(nt.Strings,"Violin"),new rt(nt.Vocal,"Voice"),new rt(nt.Vocal,"Voice"),new rt(nt.Vocal,"Voice"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Brass,"Trumpet"),new rt(nt.Brass,"Trombone"),new rt(nt.Brass,"Tuba"),new rt(nt.Brass,"Trumpet"),new rt(nt.Brass,"French Horn"),new rt(nt.Brass,"Trumpet"),new rt(nt.Brass,"Trumpet"),new rt(nt.Brass,"Trumpet"),new rt(nt.Reed,"Saxophone"),new rt(nt.Reed,"Saxophone"),new rt(nt.Reed,"Saxophone"),new rt(nt.Reed,"Saxophone"),new rt(nt.Reed,"Oboe"),new rt(nt.Reed,"English Horn"),new rt(nt.Reed,"Bassoon"),new rt(nt.Reed,"Clarinet"),new rt(nt.Reed,"Piccolo"),new rt(nt.Woodwind,"Flute"),new rt(nt.Woodwind,"Recorder"),new rt(nt.Woodwind,"Flute"),new rt(nt.Woodwind,"Recorder"),new rt(nt.Woodwind,"Flute"),new rt(nt.Woodwind,"Recorder"),new rt(nt.Woodwind,"Flute"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Lead Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Synth,"Pad Synthesizer"),new rt(nt.Fx,"Pad Synthesizer"),new rt(nt.Fx,"Pad Synthesizer"),new rt(nt.Fx,"Pad Synthesizer"),new rt(nt.Fx,"Pad Synthesizer"),new rt(nt.Fx,"Lead Synthesizer"),new rt(nt.Fx,"Lead Synthesizer"),new rt(nt.Fx,"Lead Synthesizer"),new rt(nt.Fx,"Trumpet"),new rt(nt.ElectricGuitar,"Banjo"),new rt(nt.Banjo,"Banjo"),new rt(nt.Ukulele,"Ukulele"),new rt(nt.Banjo,"Banjo"),new rt(nt.PitchedIdiophone,"Xylophone"),new rt(nt.Reed,"Bassoon"),new rt(nt.Strings,"Violin"),new rt(nt.Woodwind,"Flute"),new rt(nt.PitchedIdiophone,"Xylophone"),new rt(nt.Idiophone,"Celesta"),new rt(nt.PitchedIdiophone,"Vibraphone"),new rt(nt.Idiophone,"Xylophone"),new rt(nt.Membraphone,"Xylophone"),new rt(nt.Membraphone,"Xylophone"),new rt(nt.Membraphone,"Xylophone"),new rt(nt.Idiophone,"Celesta"),new rt(nt.Fx,"Steel Guitar"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Recorder"),new rt(nt.Fx,"Timpani");new rt(nt.PercussionKit,"Drums","drumKit");class pp{static buildCrc32Lookup(){const n=new Uint32Array(256);for(let r=0;r<n.length;r++){let i=r;for(let s=0;s<8;s++)i=(i&1)===1?i>>>1^3988292384:i>>>1;n[r]=i}return n}get value(){return~this._checkValue}constructor(){this._checkValue=pp.CrcInit,this.reset()}update(e,n,r){for(let i=0;i<r;i++)this._checkValue=pp.Crc32Lookup[(this._checkValue^e[n+i])&255]^this._checkValue>>>8}reset(){this._checkValue=pp.CrcInit}}pp.Crc32Lookup=pp.buildCrc32Lookup();pp.CrcInit=4294967295;class ai{}ai.MAX_WBITS=15;ai.WSIZE=1<<ai.MAX_WBITS;ai.WMASK=ai.WSIZE-1;ai.MIN_MATCH=3;ai.MAX_MATCH=258;ai.DEFAULT_MEM_LEVEL=8;ai.PENDING_BUF_SIZE=1<<ai.DEFAULT_MEM_LEVEL+8;ai.HASH_BITS=ai.DEFAULT_MEM_LEVEL+7;ai.HASH_SIZE=1<<ai.HASH_BITS;ai.HASH_SHIFT=(ai.HASH_BITS+ai.MIN_MATCH-1)/ai.MIN_MATCH;ai.HASH_MASK=ai.HASH_SIZE-1;ai.MIN_LOOKAHEAD=ai.MAX_MATCH+ai.MIN_MATCH+1;ai.MAX_DIST=ai.WSIZE-ai.MIN_LOOKAHEAD;class Ga{constructor(e,n,r,i){this.length=null,this.numCodes=0,this.codes=null,this.huffman=e,this.minNumCodes=r,this.maxLength=i,this.freqs=new Int16Array(n),this.bitLengthCounts=new Int32Array(i)}reset(){for(let e=0;e<this.freqs.length;e++)this.freqs[e]=0;this.codes=null,this.length=null}buildTree(){let e=this.freqs.length,n=new Int32Array(e),r=0,i=0;for(let c=0;c<e;c++){let u=this.freqs[c];if(u!==0){let d=r++;for(;d>0;){let h=Math.floor((d-1)/2);if(this.freqs[n[h]]>u)n[d]=n[h],d=h;else break}n[d]=c,i=c}}for(;r<2;){let c=i<2?++i:0;n[r++]=c}this.numCodes=Math.max(i+1,this.minNumCodes);let s=r,o=new Int32Array(4*r-2),a=new Int32Array(2*r-1),l=s;for(let c=0;c<r;c++){let u=n[c];o[2*c]=u,o[2*c+1]=-1,a[c]=this.freqs[u]<<8,n[c]=c}do{let c=n[0],u=n[--r],d=0,h=1;for(;h<r;)h+1<r&&a[n[h]]>a[n[h+1]]&&h++,n[d]=n[h],d=h,h=h*2+1;let f=a[u];for(;h=d,d>0;)if(d=Math.floor((h-1)/2),a[n[d]]>f)n[h]=n[d];else break;n[h]=u;let p=n[0];u=l++,o[2*u]=c,o[2*u+1]=p;let m=Math.min(a[c]&255,a[p]&255);for(f=a[c]+a[p]-m+1,a[u]=f,d=0,h=1;h<r;)h+1<r&&a[n[h]]>a[n[h+1]]&&h++,n[d]=n[h],d=h,h=d*2+1;for(;h=d,h>0;)if(d=Math.floor((h-1)/2),a[n[d]]>f)n[h]=n[d];else break;n[h]=u}while(r>1);this.buildLength(o)}buildLength(e){this.length=new Uint8Array(this.freqs.length);let n=Math.floor(e.length/2),r=Math.floor((n+1)/2),i=0;for(let l=0;l<this.maxLength;l++)this.bitLengthCounts[l]=0;let s=new Int32Array(n);s[n-1]=0;for(let l=n-1;l>=0;l--)if(e[2*l+1]!=-1){let c=s[l]+1;c>this.maxLength&&(c=this.maxLength,i++),s[e[2*l]]=c,s[e[2*l+1]]=c}else{let c=s[l];this.bitLengthCounts[c-1]++,this.length[e[2*l]]=s[l]}if(i==0)return;let o=this.maxLength-1;do{for(;this.bitLengthCounts[--o]==0;);do this.bitLengthCounts[o]--,this.bitLengthCounts[++o]++,i-=1<<this.maxLength-1-o;while(i>0&&o<this.maxLength-1)}while(i>0);this.bitLengthCounts[this.maxLength-1]+=i,this.bitLengthCounts[this.maxLength-2]-=i;let a=2*r;for(let l=this.maxLength;l!=0;l--){let c=this.bitLengthCounts[l-1];for(;c>0;){let u=2*e[a++];e[u+1]==-1&&(this.length[e[u]]=l,c--)}}}getEncodedLength(){let e=0;for(let n=0;n<this.freqs.length;n++)e+=this.freqs[n]*this.length[n];return e}calcBLFreq(e){let n,r,i,s=-1,o=0;for(;o<this.numCodes;){i=1;let a=this.length[o];for(a==0?(n=138,r=3):(n=6,r=3,s!=a&&(e.freqs[a]++,i=0)),s=a,o++;o<this.numCodes&&s==this.length[o]&&(o++,!(++i>=n)););i<r?e.freqs[s]+=i:s!=0?e.freqs[Ga.Repeat3To6]++:i<=10?e.freqs[Ga.Repeat3To10]++:e.freqs[Ga.Repeat11To138]++}}setStaticCodes(e,n){this.codes=e,this.length=n}buildCodes(){let e=new Int32Array(this.maxLength),n=0;this.codes=new Int16Array(this.freqs.length);for(let r=0;r<this.maxLength;r++)e[r]=n,n+=this.bitLengthCounts[r]<<15-r;for(let r=0;r<this.numCodes;r++){let i=this.length[r];i>0&&(this.codes[r]=qt.bitReverse(e[i-1]),e[i-1]+=1<<16-i)}}writeTree(e){let n,r,i,s=-1,o=0;for(;o<this.numCodes;){i=1;let a=this.length[o];for(a==0?(n=138,r=3):(n=6,r=3,s!=a&&(e.writeSymbol(a),i=0)),s=a,o++;o<this.numCodes&&s==this.length[o]&&(o++,!(++i>=n)););if(i<r)for(;i-- >0;)e.writeSymbol(s);else s!=0?(e.writeSymbol(Ga.Repeat3To6),this.huffman.pending.writeBits(i-3,2)):i<=10?(e.writeSymbol(Ga.Repeat3To10),this.huffman.pending.writeBits(i-3,3)):(e.writeSymbol(Ga.Repeat11To138),this.huffman.pending.writeBits(i-11,7))}}writeSymbol(e){this.huffman.pending.writeBits(this.codes[e]&65535,this.length[e])}}Ga.Repeat3To6=16;Ga.Repeat3To10=17;Ga.Repeat11To138=18;class qt{static staticInit(){let e=0;for(;e<144;)qt.staticLCodes[e]=qt.bitReverse(48+e<<8),qt.staticLLength[e++]=8;for(;e<256;)qt.staticLCodes[e]=qt.bitReverse(256+e<<7),qt.staticLLength[e++]=9;for(;e<280;)qt.staticLCodes[e]=qt.bitReverse(-256+e<<9),qt.staticLLength[e++]=7;for(;e<qt.LITERAL_NUM;)qt.staticLCodes[e]=qt.bitReverse(-88+e<<8),qt.staticLLength[e++]=8;for(e=0;e<qt.DIST_NUM;e++)qt.staticDCodes[e]=qt.bitReverse(e<<11),qt.staticDLength[e]=5}static bitReverse(e){return qt.bit4Reverse[e&15]<<12|qt.bit4Reverse[e>>4&15]<<8|qt.bit4Reverse[e>>8&15]<<4|qt.bit4Reverse[e>>12]}constructor(e){this.last_lit=0,this.extra_bits=0,this.pending=e,this.literalTree=new Ga(this,qt.LITERAL_NUM,257,15),this.distTree=new Ga(this,qt.DIST_NUM,1,15),this.blTree=new Ga(this,qt.BITLEN_NUM,4,7),this.d_buf=new Int16Array(qt.BUFSIZE),this.l_buf=new Uint8Array(qt.BUFSIZE)}isFull(){return this.last_lit>=qt.BUFSIZE}reset(){this.last_lit=0,this.extra_bits=0,this.literalTree.reset(),this.distTree.reset(),this.blTree.reset()}flushStoredBlock(e,n,r,i){this.pending.writeBits((qt.STORED_BLOCK<<1)+(i?1:0),3),this.pending.alignToByte(),this.pending.writeShort(r),this.pending.writeShort(~r),this.pending.writeBlock(e,n,r),this.reset()}flushBlock(e,n,r,i){this.literalTree.freqs[qt.EOF_SYMBOL]++,this.literalTree.buildTree(),this.distTree.buildTree(),this.literalTree.calcBLFreq(this.blTree),this.distTree.calcBLFreq(this.blTree),this.blTree.buildTree();let s=4;for(let l=18;l>s;l--)this.blTree.length[qt.BL_ORDER[l]]>0&&(s=l+1);let o=14+s*3+this.blTree.getEncodedLength()+this.literalTree.getEncodedLength()+this.distTree.getEncodedLength()+this.extra_bits,a=this.extra_bits;for(let l=0;l<qt.LITERAL_NUM;l++)a+=this.literalTree.freqs[l]*qt.staticLLength[l];for(let l=0;l<qt.DIST_NUM;l++)a+=this.distTree.freqs[l]*qt.staticDLength[l];o>=a&&(o=a),n>=0&&r+4<o>>3?this.flushStoredBlock(e,n,r,i):o==a?(this.pending.writeBits((qt.STATIC_TREES<<1)+(i?1:0),3),this.literalTree.setStaticCodes(qt.staticLCodes,qt.staticLLength),this.distTree.setStaticCodes(qt.staticDCodes,qt.staticDLength),this.compressBlock(),this.reset()):(this.pending.writeBits((qt.DYN_TREES<<1)+(i?1:0),3),this.sendAllTrees(s),this.compressBlock(),this.reset())}sendAllTrees(e){this.blTree.buildCodes(),this.literalTree.buildCodes(),this.distTree.buildCodes(),this.pending.writeBits(this.literalTree.numCodes-257,5),this.pending.writeBits(this.distTree.numCodes-1,5),this.pending.writeBits(e-4,4);for(let n=0;n<e;n++)this.pending.writeBits(this.blTree.length[qt.BL_ORDER[n]],3);this.literalTree.writeTree(this.blTree),this.distTree.writeTree(this.blTree)}compressBlock(){for(let e=0;e<this.last_lit;e++){let n=this.l_buf[e]&255,r=this.d_buf[e];if(r--!=0){let i=qt.Lcode(n);this.literalTree.writeSymbol(i);let s=Math.floor((i-261)/4);s>0&&s<=5&&this.pending.writeBits(n&(1<<s)-1,s);let o=qt.Dcode(r);this.distTree.writeSymbol(o),s=Math.floor(o/2)-1,s>0&&this.pending.writeBits(r&(1<<s)-1,s)}else this.literalTree.writeSymbol(n)}this.literalTree.writeSymbol(qt.EOF_SYMBOL)}tallyDist(e,n){this.d_buf[this.last_lit]=e,this.l_buf[this.last_lit++]=n-3;let r=qt.Lcode(n-3);this.literalTree.freqs[r]++,r>=265&&r<285&&(this.extra_bits+=Math.floor((r-261)/4));let i=qt.Dcode(e-1);return this.distTree.freqs[i]++,i>=4&&(this.extra_bits+=Math.floor(i/2)-1),this.isFull()}tallyLit(e){return this.d_buf[this.last_lit]=0,this.l_buf[this.last_lit++]=e,this.literalTree.freqs[e]++,this.isFull()}static Lcode(e){if(e==255)return 285;let n=257;for(;e>=8;)n+=4,e=e>>1;return n+e}static Dcode(e){let n=0;for(;e>=4;)n+=2,e=e>>1;return n+e}}qt.BUFSIZE=1<<ai.DEFAULT_MEM_LEVEL+6;qt.LITERAL_NUM=286;qt.STORED_BLOCK=0;qt.STATIC_TREES=1;qt.DYN_TREES=2;qt.DIST_NUM=30;qt.staticLCodes=new Int16Array(qt.LITERAL_NUM);qt.staticLLength=new Uint8Array(qt.LITERAL_NUM);qt.staticDCodes=new Int16Array(qt.DIST_NUM);qt.staticDLength=new Uint8Array(qt.DIST_NUM);qt.BL_ORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];qt.bit4Reverse=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]);qt.BITLEN_NUM=19;qt.EOF_SYMBOL=256;qt.staticInit();qe.isRunningInWorker?qe.initializeWorker():qe.isRunningInAudioWorklet?qe.initializeAudioWorklet():qe.initializeMain(t=>{if(qe.webPlatform==pa.NodeJs)throw new fs(hs.General,"Workers not yet supported in Node.js");if(qe.webPlatform==pa.BrowserModule||qe.isWebPackBundled||qe.isViteBundled)return Qe.debug("AlphaTab","Creating webworker"),new qe.alphaTabWorker(new URL(new URL("/sandbox/assets/alphaTab.worker-BpPpa-Fl.js",import.meta.url),import.meta.url),{type:"module"});if(!t.core.scriptFile)throw new fs(hs.General,"Could not detect alphaTab script file, cannot initialize renderer");try{Qe.debug("AlphaTab","Creating Blob worker");const e=`importScripts('${t.core.scriptFile}')`,n=new Blob([e]);return new Worker(URL.createObjectURL(n))}catch{return Qe.warning("Rendering","Could not create inline worker, fallback to normal worker"),new Worker(t.core.scriptFile)}},(t,e)=>{if(qe.webPlatform==pa.NodeJs)throw new fs(hs.General,"Audio Worklets not yet supported in Node.js");return qe.webPlatform==pa.BrowserModule||qe.isWebPackBundled||qe.isViteBundled?(Qe.debug("AlphaTab","Creating Module worklet"),t.audioWorklet.addModule(new URL(new URL("/sandbox/assets/alphaTab.worklet-KSnaxFdU.js",import.meta.url),import.meta.url))):(Qe.debug("AlphaTab","Creating Script worklet"),t.audioWorklet.addModule(e.core.scriptFile))});function z8(t){const e=b.useRef(null),n=b.useRef(null),r=`

      
  \\track "Piano with Grand Staff" "pno."
\\staff{score} \\tuning piano \\instrument 40 \\tempo 60

${t.tex} 

`;return b.useEffect(()=>(n.current&&(e.current=new Hm(n.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}}),e.current.tex(r)),()=>{var i;(i=e.current)==null||i.destroy()}),[r]),b.useEffect(()=>{const i=e&&e.current&&e.current.score&&t.beat&&e.current.score.tracks[0].staves[0].bars[0].voices[0].beats[t.beat];e.current&&e.current.tickCache&&i&&(e.current.tickPosition=e.current.tickCache.getBeatStart(i),e.current.playbackSpeed=0)},[t.beat]),C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:800,overflow:"auto"},ref:n}),C.jsx(ni,{onClick:()=>{var i;(i=e.current)==null||i.playPause()},children:"Play / Pause"})]})}var EI={},dT={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,l){const c=[];let u=l.exec(a);for(;u;){const d=[];d.startIndex=l.lastIndex-u[0].length;const h=u.length;for(let f=0;f<h;f++)d.push(u[f]);c.push(d),u=l.exec(a)}return c},o=function(a){const l=i.exec(a);return!(l===null||typeof l>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,l,c){if(l){const u=Object.keys(l),d=u.length;for(let h=0;h<d;h++)c==="strict"?a[u[h]]=[l[u[h]]]:a[u[h]]=l[u[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=s,t.nameRegexp=r})(dT);const BI=dT,iNe={allowBooleanAttributes:!1,unpairedTags:[]};EI.validate=function(t,e){e=Object.assign({},iNe,e);const n=[];let r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=G8(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=U8(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let l="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)l+=t[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!hNe(l)){let d;return l.trim().length===0?d="Invalid space after '<'.":d="Tag '"+l+"' is an invalid name.",is("InvalidTag",d,$o(t,s))}const c=aNe(t,s);if(c===!1)return is("InvalidAttr","Attributes for '"+l+"' have open quote.",$o(t,s));let u=c.value;if(s=c.index,u[u.length-1]==="/"){const d=s-u.length;u=u.substring(0,u.length-1);const h=j8(u,e);if(h===!0)r=!0;else return is(h.err.code,h.err.msg,$o(t,d+h.err.line))}else if(a)if(c.tagClosed){if(u.trim().length>0)return is("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",$o(t,o));if(n.length===0)return is("InvalidTag","Closing tag '"+l+"' has not been opened.",$o(t,o));{const d=n.pop();if(l!==d.tagName){let h=$o(t,d.tagStartPos);return is("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",$o(t,o))}n.length==0&&(i=!0)}}else return is("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",$o(t,s));else{const d=j8(u,e);if(d!==!0)return is(d.err.code,d.err.msg,$o(t,s-u.length+d.err.line));if(i===!0)return is("InvalidXml","Multiple possible root nodes found.",$o(t,s));e.unpairedTags.indexOf(l)!==-1||n.push({tagName:l,tagStartPos:o}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=U8(t,s);continue}else if(t[s+1]==="?"){if(s=G8(t,++s),s.err)return s}else break;else if(t[s]==="&"){const d=uNe(t,s);if(d==-1)return is("InvalidChar","char '&' is not expected.",$o(t,s));s=d}else if(i===!0&&!W8(t[s]))return is("InvalidXml","Extra text at the end",$o(t,s));t[s]==="<"&&s--}}else{if(W8(t[s]))continue;return is("InvalidChar","char '"+t[s]+"' is not expected.",$o(t,s))}if(r){if(n.length==1)return is("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",$o(t,n[0].tagStartPos));if(n.length>0)return is("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return is("InvalidXml","Start tag expected.",1);return!0};function W8(t){return t===" "||t==="	"||t===`
`||t==="\r"}function G8(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return is("InvalidXml","XML declaration allowed only at the start of the document.",$o(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function U8(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const sNe='"',oNe="'";function aNe(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===sNe||t[e]===oNe)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}const lNe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function j8(t,e){const n=BI.getAllMatches(t,lNe),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return is("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",G1(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return is("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",G1(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return is("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",G1(n[i]));const s=n[i][2];if(!dNe(s))return is("InvalidAttr","Attribute '"+s+"' is an invalid name.",G1(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return is("InvalidAttr","Attribute '"+s+"' is repeated.",G1(n[i]))}return!0}function cNe(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function uNe(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,cNe(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function is(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function dNe(t){return BI.isName(t)}function hNe(t){return BI.isName(t)}function $o(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function G1(t){return t.startIndex+t[1].length}var NI={};const TY={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},fNe=function(t){return Object.assign({},TY,t)};NI.buildOptions=fNe;NI.defaultOptions=TY;class pNe{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var gNe=pNe;const mNe=dT;function yNe(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&wNe(t,e))e+=7,[entityName,val,e]=bNe(t,e+1),val.indexOf("&")===-1&&(n[kNe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&xNe(t,e))e+=8;else if(i&&SNe(t,e))e+=8;else if(i&&CNe(t,e))e+=9;else if(vNe)s=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:o+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function bNe(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function vNe(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function wNe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function xNe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function SNe(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function CNe(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function kNe(t){if(mNe.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var TNe=yNe;const PNe=/^[-+]?0x[a-fA-F0-9]+$/,_Ne=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const MNe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ENe(t,e={}){if(e=Object.assign({},MNe,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&PNe.test(n))return Number.parseInt(n,16);{const r=_Ne.exec(n);if(r){const i=r[1],s=r[2];let o=BNe(r[3]);const a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{const l=Number(n),c=""+l;return c.search(/[eE]/)!==-1||a?e.eNotation?l:t:n.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?l:t:s?o===c||i+o===c?l:t:n===c||n===i+c?l:t}}else return t}}function BNe(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var NNe=ENe;function INe(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}var PY=INe;const _Y=dT,U1=gNe,ANe=TNe,RNe=NNe,LNe=PY;let DNe=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=FNe,this.parseXml=zNe,this.parseTextData=ONe,this.resolveNameSpace=$Ne,this.buildAttributesMap=VNe,this.isItStopNode=jNe,this.replaceEntitiesValue=GNe,this.readStopNodeData=XNe,this.saveTextToParentTag=UNe,this.addChild=WNe,this.ignoreAttributesFn=LNe(this.options.ignoreAttributes)}};function FNe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function ONe(t,e,n,r,i,s,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?r5(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?r5(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function $Ne(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const HNe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function VNe(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const r=_Y.getAllMatches(t,HNe),i=r.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(a,e))continue;let l=r[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const u=this.options.attributeValueProcessor(a,l,e);u==null?s[c]=l:typeof u!=typeof l||u!==l?s[c]=u:s[c]=r5(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const zNe=function(t){t=t.replace(/\r\n?/g,`
`);const e=new U1("!xml");let n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const a=np(t,">",s,"Closing Tag is not closed.");let l=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(r=this.saveTextToParentTag(r,n,i));const c=i.substring(i.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let u=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),n=this.tagsNodeStack.pop(),r="",s=a}else if(t[s+1]==="?"){let a=n5(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const l=new U1(a.tagName);l.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(l[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,l,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const a=np(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const l=t.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=a}else if(t.substr(s+1,2)==="!D"){const a=ANe(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){const a=np(t,"]]>",s,"CDATA is not closed.")-2,l=t.substring(s+9,a);r=this.saveTextToParentTag(r,n,i);let c=this.parseTextData(l,n.tagname,i,!0,!1,!0,!0);c==null&&(c=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):n.add(this.options.textNodeName,c),s=a+2}else{let a=n5(t,s,this.options.removeNSPrefix),l=a.tagName;const c=a.rawTagName;let u=a.tagExp,d=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const f=n;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),l!==e.tagname&&(i+=i?"."+l:l),this.isItStopNode(this.options.stopNodes,i,l)){let p="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),u=l):u=u.substr(0,u.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=a.closeIndex;else{const y=this.readStopNodeData(t,c,h+1);if(!y)throw new Error(`Unexpected end of ${c}`);s=y.i,p=y.tagContent}const m=new U1(l);l!==u&&d&&(m[":@"]=this.buildAttributesMap(u,i,l)),p&&(p=this.parseTextData(p,l,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),m.add(this.options.textNodeName,p),this.addChild(n,m,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),u=l):u=u.substr(0,u.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const p=new U1(l);l!==u&&d&&(p[":@"]=this.buildAttributesMap(u,i,l)),this.addChild(n,p,i),i=i.substr(0,i.lastIndexOf("."))}else{const p=new U1(l);this.tagsNodeStack.push(n),l!==u&&d&&(p[":@"]=this.buildAttributesMap(u,i,l)),this.addChild(n,p,i),n=p}r="",s=h}}else r+=t[s];return e.child};function WNe(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}const GNe=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function UNe(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function jNe(t,e,n){const r="*."+n;for(const i in t){const s=t[i];if(r===s||e===s)return!0}return!1}function YNe(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let o=t[s];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function np(t,e,n,r){const i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function n5(t,e,n,r=">"){const i=YNe(t,e+1,r);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let l=s,c=!0;a!==-1&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());const u=l;if(n){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1),c=l!==i.data.substr(d+1))}return{tagName:l,tagExp:s,closeIndex:o,attrExpPresent:c,rawTagName:u}}function XNe(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const s=np(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=np(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=np(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=np(t,"]]>",n,"StopNode is not closed.")-2;else{const s=n5(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function r5(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:RNe(t,n)}else return _Y.isExist(t)?t:""}var qNe=DNe,MY={};function KNe(t,e){return EY(t,e)}function EY(t,e,n){let r;const i={};for(let s=0;s<t.length;s++){const o=t[s],a=QNe(o);let l="";if(n===void 0?l=a:l=n+"."+a,a===e.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=EY(o[a],e,l);const u=ZNe(c,e);o[":@"]?JNe(c,o[":@"],l,e):Object.keys(c).length===1&&c[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?c=c[e.textNodeName]:Object.keys(c).length===0&&(e.alwaysCreateTextNode?c[e.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):e.isArray(a,l,u)?i[a]=[c]:i[a]=c}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function QNe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function JNe(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){const a=i[o];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function ZNe(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}MY.prettify=KNe;const{buildOptions:eIe}=NI,tIe=qNe,{prettify:nIe}=MY,rIe=EI;let iIe=class{constructor(e){this.externalEntities={},this.options=eIe(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const s=rIe.validate(e,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const r=new tIe(this.options);r.addExternalEntities(this.externalEntities);const i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:nIe(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};var sIe=iIe;const oIe=`
`;function aIe(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=oIe),BY(t,e,"",n)}function BY(t,e,n,r){let i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o],l=lIe(a);if(l===void 0)continue;let c="";if(n.length===0?c=l:c=`${n}.${l}`,l===e.textNodeName){let p=a[l];cIe(c,e)||(p=e.tagValueProcessor(l,p),p=NY(p,e)),s&&(i+=r),i+=p,s=!1;continue}else if(l===e.cdataPropName){s&&(i+=r),i+=`<![CDATA[${a[l][0][e.textNodeName]}]]>`,s=!1;continue}else if(l===e.commentPropName){i+=r+`<!--${a[l][0][e.textNodeName]}-->`,s=!0;continue}else if(l[0]==="?"){const p=Y8(a[":@"],e),m=l==="?xml"?"":r;let y=a[l][0][e.textNodeName];y=y.length!==0?" "+y:"",i+=m+`<${l}${y}${p}?>`,s=!0;continue}let u=r;u!==""&&(u+=e.indentBy);const d=Y8(a[":@"],e),h=r+`<${l}${d}`,f=BY(a[l],e,c,u);e.unpairedTags.indexOf(l)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!f||f.length===0)&&e.suppressEmptyNode?i+=h+"/>":f&&f.endsWith(">")?i+=h+`>${f}${r}</${l}>`:(i+=h+">",f&&r!==""&&(f.includes("/>")||f.includes("</"))?i+=r+e.indentBy+f+r:i+=f,i+=`</${l}>`),s=!0}return i}function lIe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function Y8(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=NY(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function cIe(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function NY(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var uIe=aIe;const dIe=uIe,hIe=PY,fIe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function sf(t){this.options=Object.assign({},fIe,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=hIe(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=mIe),this.processTextOrObjNode=pIe,this.options.format?(this.indentate=gIe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}sf.prototype.build=function(t){return this.options.preserveOrder?dIe(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)};sf.prototype.j2x=function(t,e,n){let r="",i="";const s=n.join(".");for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(typeof t[o]>"u")this.isAttribute(o)&&(i+="");else if(t[o]===null)this.isAttribute(o)?i+="":o[0]==="?"?i+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)i+=this.buildTextValNode(t[o],o,"",e);else if(typeof t[o]!="object"){const a=this.isAttribute(o);if(a&&!this.ignoreAttributesFn(a,s))r+=this.buildAttrPairStr(a,""+t[o]);else if(!a)if(o===this.options.textNodeName){let l=this.options.tagValueProcessor(o,""+t[o]);i+=this.replaceEntitiesValue(l)}else i+=this.buildTextValNode(t[o],o,"",e)}else if(Array.isArray(t[o])){const a=t[o].length;let l="",c="";for(let u=0;u<a;u++){const d=t[o][u];if(!(typeof d>"u"))if(d===null)o[0]==="?"?i+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(typeof d=="object")if(this.options.oneListGroup){const h=this.j2x(d,e+1,n.concat(o));l+=h.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(c+=h.attrStr)}else l+=this.processTextOrObjNode(d,o,e,n);else if(this.options.oneListGroup){let h=this.options.tagValueProcessor(o,d);h=this.replaceEntitiesValue(h),l+=h}else l+=this.buildTextValNode(d,o,"",e)}this.options.oneListGroup&&(l=this.buildObjectNode(l,o,c,e)),i+=l}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const a=Object.keys(t[o]),l=a.length;for(let c=0;c<l;c++)r+=this.buildAttrPairStr(a[c],""+t[o][a[c]])}else i+=this.processTextOrObjNode(t[o],o,e,n);return{attrStr:r,val:i}};sf.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function pIe(t,e,n,r){const i=this.j2x(t,n+1,r.concat(e));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}sf.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}};sf.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};sf.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};sf.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function gIe(t){return this.options.indentBy.repeat(t)}function mIe(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var yIe=sf;const bIe=EI,vIe=sIe,wIe=yIe;var xIe={XMLParser:vIe,XMLValidator:bIe,XMLBuilder:wIe};function II(t,e){let n=[...e];if(n.length<2)return n;for(let r=0;r<t;r++)n.push(n.shift());return n}var En=(t=>(t.Maj7="Maj7",t.Dom7="Dom7",t.Min7="Min7",t.Half="Half-Dim7",t.Full="Dim7",t.Maj="Maj",t.Min="Min",t.Dim="Dim",t.Aug="Aug",t.Sus2="Sus 2",t.Sus4="Sus 4",t))(En||{});(t=>{function e(a){switch(a){case"Maj7":return"7";case"Dom7":return"7";case"Min7":return"m7";case"Half-Dim7":return"7";case"Dim7":return"7";case"Maj":return"";case"Min":return"m";case"Dim":return"";case"Aug":return"+";case"Sus 2":return"sus2";case"Sus 4":return"sus4"}}t.toLeadSheet=e;function n(a){return an.name(t.toIntervals(a)[0])==="M3"}t.isMajor=n;function r(a){return an.name(t.toIntervals(a)[0])==="m3"}t.isMinor=r;function i(a){return t.toIntervals(a).length===3}t.isSeventh=i;function s(a){return t.toIntervals(a).length===2}t.isTriad=s;function o(a){switch(a){case"Maj7":return[Nn("M3"),Nn("m3"),Nn("M3")];case"Dom7":return[Nn("M3"),Nn("m3"),Nn("m3")];case"Min7":return[Nn("m3"),Nn("M3"),Nn("m3")];case"Half-Dim7":return[Nn("m3"),Nn("m3"),Nn("M3")];case"Dim7":return[Nn("m3"),Nn("m3"),Nn("m3")];case"Maj":return[Nn("M3"),Nn("m3")];case"Min":return[Nn("m3"),Nn("M3")];case"Dim":return[Nn("m3"),Nn("m3")];case"Aug":return[Nn("M3"),Nn("M3")];case"Sus 2":return[Nn("M2"),Nn("p4")];case"Sus 4":return[Nn("p4"),Nn("M2")]}}t.toIntervals=o})(En||(En={}));const gu={isTriad(t){return t.length===2},isSeventh(t){return t.length===3},isShell(t){return t.length===2&&t[0].n===3&&t[1].n===5},toQuality(t){if(this.isSeventh(t))switch(an.name(t[0])){case"m3":switch(an.name(t[1])){case"m3":switch(an.name(t[2])){case"m3":return En.Full;case"M3":return En.Half;default:return null}case"M3":switch(an.name(t[2])){case"m3":return En.Min7;default:return null}default:return null}case"M3":switch(an.name(t[1])){case"m3":switch(an.name(t[2])){case"m3":return En.Dom7;case"M3":return En.Maj7;default:return null}default:return null}default:return null}else if(this.isTriad(t))switch(an.name(t[0])){case"m3":switch(an.name(t[1])){case"m3":return En.Dim;case"M3":return En.Min;default:return null}case"M3":switch(an.name(t[1])){case"m3":return En.Maj;case"M3":return En.Aug;default:return null}default:return null}else return null},nextInversion(t){const e=t.slice(1,t.length),n=an.subtract(an.invert(t[0]),an.add(t.slice(1,t.length)));return[...e,n]},applyInversion(t,e){var n=e;for(let r=0;r<t;r++)n=this.nextInversion(n);return n}};var zt=(t=>(t[t.Root=0]="Root",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third",t))(zt||{});(t=>{function e(n){switch(n){case 0:return 1;case 1:return 3;case 2:return 5;case 3:return 7}}t.toN=e})(zt||(zt={}));var Yb=(t=>(t[t.Ionian=0]="Ionian",t[t.Dorian=1]="Dorian",t[t.Phrygian=2]="Phrygian",t[t.Lydian=3]="Lydian",t[t.Mixolydian=4]="Mixolydian",t[t.Aeloian=5]="Aeloian",t[t.Locrian=6]="Locrian",t))(Yb||{}),to;(t=>{t.MajorScale=[Nn("M2"),Nn("M2"),Nn("m2"),Nn("M2"),Nn("M2"),Nn("M2"),Nn("m2")],t.HarmonicMinor=[Nn("M2"),Nn("m2"),Nn("M2"),Nn("M2"),Nn("m2"),Nn("aug2"),Nn("m2")],t.MinorScale=e(5);function e(r){return II(r,t.MajorScale)}t.mode=e;function n(r){var i="";return r.forEach(s=>i+=an.name(s)+" "),i}t.toDisplayString=n})(to||(to={}));function SIe(t,e){const n=II(t-1,e);return[an.add2(n[0],n[1]),an.add2(n[2],n[3])]}function CIe(t,e){const n=II(t-1,e);return[an.add2(n[0],n[1]),an.add2(n[2],n[3]),an.add2(n[4],n[5])]}function kIe(t){return t.map((e,n)=>SIe(n+1,t))}function TIe(t){return t.map((e,n)=>CIe(n+1,t))}const Ip={toSecondaryDominant(t){var e=En.Maj;return t.quality==="Maj"&&(e=En.Dom7),{root:t.root,quality:e}},toLeadSheet(t){return Sn.toDisplayString(t.root)+En.toLeadSheet(t.quality)},fromKeyAndScaleDegree(t,e,n=!1){if(typeof e=="string"){const s=Number(e.split("/")[1])+4;var r;return n?r=dm(t.note,t.scale):r=i5(t.note,t.scale),Ip.toSecondaryDominant(r[(s-1)%7])}else{var r;return n?r=dm(t.note,t.scale):r=i5(t.note,t.scale),r[e-1]}},toNotes(t){var e=t.root;const n=En.toIntervals(t.quality).map(r=>{const i=Sn.transpose(r,e);return e=i,i});return[t.root,...n]},nameToTex(t){return`{ch "${Sn.toDisplayString(t.root)}${En.toLeadSheet(t.quality)}"}`}};function IY(t,e){var n=t;return[t,...e.map(r=>(n=Sn.transpose(r,n),n))]}function i5(t,e){return kIe(e).filter(n=>gu.toQuality(n)).map((n,r)=>({root:Sn.transpose(an.add(e.slice(0,r)),t),quality:gu.toQuality(n)}))}console.log("diatonic triads in c",i5(Mt("C"),to.MajorScale));function dm(t,e){return TIe(e).filter(n=>gu.toQuality(n)).map((n,r)=>({root:Sn.transpose(e.slice(0,r).reduce((i,s)=>an.add2(i,s),an.unison),t),quality:gu.toQuality(n)}))}function PIe(t){if(t.length<2)return[];const e=[];for(let n=0;n<t.length-1;n++)e.push(wn.interval(t[n],t[n+1]));return e}function X8(t){const e=t[0],n=an.subtract(Nn("p5"),t[0]),r=an.subtract(t[1],n);return[e,n,r]}function _Ie(t){if(t.every(n=>n.n==3))return{intervals:t,inversion:zt.Root,rootNum:0};if(gu.isShell(t))return{intervals:X8(t),inversion:zt.Root,rootNum:0};var e=t;for(let n=0;n<t.length;n++){const r=an.subtract(an.invert(e[0]),an.add(e.slice(1,e.length)));e.slice(1,t.length),e=[...e.slice(1,t.length),r];const i=gu.isSeventh(e),s=gu.isShell(e),o=n+1,a=o===0?zt.Root:i?4-o:s?o===1?3:1:3-o;if(e.every(l=>l.n==3))return{intervals:e,inversion:a,rootNum:o};if(gu.isShell(e))return{intervals:X8(e),inversion:a,rootNum:o}}return null}function X2(t){const e=t.length>0?t[0]:null;var n=e?[e]:[];t.forEach(o=>{if(!n.some(l=>Sn.toNoteNumber(l.note)===Sn.toNoteNumber(o.note))){for(var a=o;e&&wn.toMidiNumber(o)>wn.toMidiNumber(e)+11;)a.octave--;n.push(a),console.log({simplifiedOctavedNotes:n})}}),n.sort((o,a)=>wn.toMidiNumber(o)-wn.toMidiNumber(a)),console.log("Finished notes",n);const r=_Ie(PIe(n)),i=r&&gu.toQuality(r.intervals),s=r&&n[r.rootNum]&&{root:n[r.rootNum].note,quality:i};return s&&s.quality&&{chord:{root:s.root,quality:s.quality},inversion:r.inversion}}function AY(t,e){return{interval:Sn.interval(e.note,t.chord.root),quality:t.chord.quality,inversion:t.inversion}}var q2;(t=>{function e(n){if(n.interval.n<1||n.interval.n>7)throw new Error(`Interval has to be a possible scale degree but was ${an.name(n.interval)}`);const r=En.isMajor(n.quality),i=En.isSeventh(n.quality);var s;switch(n.interval.n){case 1:s=r?"I":"i";break;case 2:s=r?"II":"ii";break;case 3:s=r?"III":"iii";break;case 4:s=r?"IV":"iv";break;case 5:s=r?"V":"v";break;case 6:s=r?"VI":"vi";break;case 7:s=r?"VII":"vii";break;default:throw new Error}n.quality===En.Full||n.quality===En.Dim?s+="":n.quality===En.Half&&(s+="");var o;if(i)switch(n.inversion){case zt.Root:o="7";break;case zt.First:o="65";break;case zt.Second:o="43";break;case zt.Third:o="2";break}else switch(n.inversion){case zt.Root:o="";break;case zt.First:o="6";break;case zt.Second:o="64";break;default:throw new Error("Can't have a third inversion on a triad")}return s+o}t.toDisplayString=e})(q2||(q2={}));console.log("test",Sn.transpose(to.MajorScale.slice(0,4).reduce((t,e)=>an.add2(t,e),an.unison),Mt("C")));console.log("interval",to.MajorScale.slice(0,4).reduce((t,e)=>an.add2(t,e),an.unison));console.log("intervals",to.MajorScale.slice(0,4));const MIe={1:[1,2,3,4,5,6,7,"5/1","5/4"],2:[2,5,7,"5/2","5/5"],3:[3,2,4,5,6,7,"5/3","5/6"],4:[4,2,5,6,7,"5/4"],5:[5,1,2,4,6,"5/5","5/1"],6:[6,2,4,"5/6","5/2","5/5"],7:[7,1,2,4,5],"5/1":[1],"5/2":[2],"5/3":[3],"5/4":[4],"5/5":[5],"5/6":[6],"5/7":[]};function AI(t,e,n){if(t===0)return[];if(t===1)return[[e]];var r=MIe[e].flatMap(i=>[...AI(t-1,i).map(s=>[e,...s])]);return n!=null&&n.mustHaveSecondaryDominant&&(console.log("filtering"),r=r.filter(i=>i.some(s=>typeof s=="string"))),r}function RY(t,e,n,r){var i=AI(t,e).filter(s=>s[t-1]===n);return r!=null&&r.mustHaveSecondaryDominant&&(console.log("filtering"),i=i.filter(s=>s.some(o=>typeof o=="string"))),i}function EIe(t,e){return[1,2,3,4,5,6,7].flatMap(i=>AI(t.length,i,{mustHaveSecondaryDominant:!0}).map(s=>s.map(o=>Ip.fromKeyAndScaleDegree(e,o,!1))).filter(s=>s.every((o,a)=>Ip.toNotes(o).map(Sn.toNoteNumber).includes(Sn.toNoteNumber(t[a].note)))))}var ad;(t=>{function e(i){return`${Ip.toLeadSheet(i.chord)}
      ${i.inversion>0?`/
      ${Sn.toDisplayString(t.bassNote(i))}`:""}`}t.toLeadSheet=e;function n(i,{chord:s,inversion:o}){const a=s.root;if(En.isTriad(s.quality)&&i===3)return a;const l=En.toIntervals(s.quality),c=gu.applyInversion(o,l);var u=[];for(let f=0;f<o;f++)u.push(l[f]),console.log("Is this undefined",l[f]);const d=Sn.transpose(an.add(u),a);var h=[];for(let f=0;f<i;f++)h.push(c[f]);return Sn.transpose(an.add(h),d)}t.voice=n;function r(i){return n(Nb.Bass,i)}t.bassNote=r})(ad||(ad={}));const P3={compare(t,e){return t.first===e.first&&t.second===e.second}};function BIe(t,e){let n=[];for(let r=0;r<e.length;r++)for(let i=0;i<e.length;i++)t(e[r],e[i])&&n.push({first:r,second:i});return n}function E0(t,e){return BIe((n,r)=>an.compare(wn.interval(n,r),t),e)}const Ox={containsParallelFifths(t,e){const n=E0(Nn("p5"),t);if(n.length===0)return!1;const r=E0(Nn("p5"),e),i=n.some(s=>r.some(o=>P3.compare(s,o)));return i&&console.log("parallel 5",t,e),i},containsParallelOctaves(t,e){const n=E0(Nn("p8"),t);if(n.length===0)return!1;const r=E0(Nn("p8"),e);return n.some(s=>r.some(o=>P3.compare(s,o)))},containsParallelFifteenths(t,e){const n=E0(Nn("p15"),t);if(n.length===0)return!1;const r=E0(Nn("p15"),e);return n.some(s=>r.some(o=>P3.compare(s,o)))},voiceCrossing(t,e){return e.forEach((n,r)=>{if(t[r-1]&&wn.toMidiNumber(n)<=wn.toMidiNumber(t[r-1])||t[r+1]&&wn.toMidiNumber(n)>=wn.toMidiNumber(t[r+1]))return!0}),!1}},NIe=[Ox.containsParallelFifths,Ox.containsParallelOctaves,Ox.containsParallelFifteenths,Ox.voiceCrossing],IIe={toTex(t){var e="";return t.progression.forEach((n,r)=>e+=s5.toTex(n)+Ip.nameToTex(t.chordNames[r])),e}},q8={toTex(t){var e="";return t.map(n=>e+=s5.toTex(n)),e},toABC(t){var e="";return t.map(n=>e+=s5.toABC(n)),e},toUpperAndLower(t){var e=[],n=[];return t.forEach(r=>{n.push([r[0],r[1]]),e.push([r[2],r[3]])}),{upper:e,lower:n}},individualParts(t){var e=[],n=[],r=[],i=[];return t.forEach(s=>{e.push(s[0]),n.push(s[1]),r.push(s[2]),i.push(s[3])}),{bass:e,tenor:n,alto:r,soprano:i}}},s5={toTex(t){var e="(";return t.map(n=>e+=`${wn.toTex(n)} `),e+")"},toABC(t){var e="[";return t.map(n=>e+=`${wn.toABC(n)}`),e+"]"}},pd={isValidMovement(t,e){return NIe.every(n=>n(t,e)===!1)},isValidHarmony(t){return wn.toMidiNumber(t[0])<wn.toMidiNumber(t[1])&&wn.toMidiNumber(t[1])<wn.toMidiNumber(t[2])&&wn.toMidiNumber(t[2])<wn.toMidiNumber(t[3])&&an.halfSteps(wn.interval(t[1],t[2]))<=12&&an.halfSteps(wn.interval(t[2],t[3]))<=12},harmoniesFromNamedChords(t,e){const r=this.generatePossibilities(t[0]).flatMap(o=>this.possibilitiesToOctavedHarmonyOptions(this.possibilitiesWithinRanges(o))).filter(pd.isValidHarmony).filter(o=>e?wn.toMidiNumber(o[3])===wn.toMidiNumber(e[0]):!0),s=[r[Math.floor(Math.random()*r.length)]];for(let o=0;o<t.length-1;o++)s.push(this.voiceLead(s[o],t[o+1],e?e[o+1]:void 0));return s},totalMovement(t,e){var n=0;if(t.length!==e.length)throw new Error(`Harmonies don't have the same number of parts, ${t.length}, ${e.length}`);for(let r=0;r<t.length;r++)n+=Math.pow(wn.toMidiNumber(e[r])-wn.toMidiNumber(t[r]),2);return n},voiceLead(t,e,n){const r=this.generatePossibilities(e).flatMap(a=>this.possibilitiesToOctavedHarmonyOptions(this.possibilitiesWithinRanges(a))).filter(pd.isValidHarmony).filter(a=>pd.isValidMovement(t,a)),i=n?r.filter(a=>wn.toMidiNumber(a[3])===wn.toMidiNumber(n)):r;i.sort((a,l)=>this.totalMovement(t,a)-this.totalMovement(t,l));const o=Math.floor(Math.random()*1);return i[o]},generatePossibilities(t){return RI([Sn.toNormal(ad.voice(0,{chord:t,inversion:zt.Root})),Sn.toNormal(ad.voice(1,{chord:t,inversion:zt.Root})),Sn.toNormal(ad.voice(2,{chord:t,inversion:zt.Root})),Sn.toNormal(ad.voice(3,{chord:t,inversion:zt.Root}))]).map(e=>{var n={0:Mt("C"),1:Mt("C"),2:Mt("C"),3:Mt("C")};return e.map((r,i)=>n[i]=r),n})},possibilitiesWithinRanges(t){var e=[];return Object.keys(t).map(n=>{const r=Number(n),i=Nb.range(r),s=t[r];e[r]=Sn.octavedNotesInRange(i,s)}),e},possibilitiesToOctavedHarmonyOptions(t){return t.length===0?[[]]:t[0].flatMap(e=>[...this.possibilitiesToOctavedHarmonyOptions(t.slice(1)).map(n=>[e,...n])])}};function RI(t){return t.length===0?[]:t.length===1?[t]:t.flatMap((e,n)=>{var r=[...t];return r[n]=t[0],r=r.slice(1),RI(r).map(i=>[e,...i])})}console.log("generate",pd.generatePossibilities({root:Mt("C"),quality:En.Maj7}));const AIe=[Mt("C"),Mt("B"),Mt("G"),Mt("E")],LY=pd.possibilitiesWithinRanges(AIe);console.log("within ranges",LY);console.log("harmony",pd.possibilitiesToOctavedHarmonyOptions(LY));function RIe(){const[t,e]=b.useState([co("C",4),co("D",4),co("E",4),co("F",4)]);b.useState(0),console.log("Melody:",t);const[n,r]=b.useState(null),[i,s]=b.useState(null),[o,a]=b.useState(null),l=n&&n.map(wn.toTex).join(" "),c=y=>{var w;const S=(w=y.target.files)==null?void 0:w[0];if(S){const v=new FileReader;v.onload=async()=>{if(v.result){const k=v.result.toString(),P=await u(k);r(P)}},v.readAsText(S)}},u=async y=>{const w=new xIe.XMLParser().parse(y),v=[];return console.log(w),console.log(w["score-partwise"].part.measure),w["score-partwise"].part.measure.forEach(k=>{Array.isArray(k.note)&&k.note.forEach(P=>{P.pitch&&v.push({note:{letter:P.pitch.step,accidental:0},octave:parseInt(P.pitch.octave)})})}),v},d={note:Mt("C"),scale:to.MajorScale},h=n&&EIe(n,d);console.log(h),b.useEffect(()=>{p()},[o]);function f(){a(h&&h[Math.floor(Math.random()*h.length)])}function p(){s(o&&n&&pd.harmoniesFromNamedChords(o,n))}const m=o&&i&&IIe.toTex({progression:i,chordNames:o});return console.log(m),C.jsxs("div",{children:[C.jsxs("div",{children:[C.jsx("input",{type:"file",accept:".xml",onChange:c}),n&&C.jsx("ul",{children:n.map((y,S)=>C.jsx("li",{children:`Note ${S+1}: ${Sn.toDisplayString(y.note)} in octave ${y.octave}`},S))})]}),C.jsx("div",{children:l&&C.jsx(z8,{tex:l,beat:void 0})}),m&&C.jsx(z8,{tex:m}),C.jsx(ni,{onClick:p,children:"Regenerate"}),C.jsx(ni,{onClick:f,children:"New Progresion"})]})}var o5=(t=>(t[t.A=0]="A",t[t.B=1]="B",t))(o5||{}),jn=(t=>(t[t.GO=0]="GO",t[t.MEDITERRANEAN_AVENUE=1]="MEDITERRANEAN_AVENUE",t[t.COMMUNITY_CHEST_1=2]="COMMUNITY_CHEST_1",t[t.BALTIC_AVENUE=3]="BALTIC_AVENUE",t[t.INCOME_TAX=4]="INCOME_TAX",t[t.READING_RAILROAD=5]="READING_RAILROAD",t[t.ORIENTAL_AVENUE=6]="ORIENTAL_AVENUE",t[t.CHANCE_1=7]="CHANCE_1",t[t.VERMONT_AVENUE=8]="VERMONT_AVENUE",t[t.CONNECTICUT_AVENUE=9]="CONNECTICUT_AVENUE",t[t.JAIL=10]="JAIL",t[t.ST_CHARLES_PLACE=11]="ST_CHARLES_PLACE",t[t.ELECTRIC_COMPANY=12]="ELECTRIC_COMPANY",t[t.STATES_AVENUE=13]="STATES_AVENUE",t[t.VIRGINIA_AVENUE=14]="VIRGINIA_AVENUE",t[t.PENNSYLVANIA_RAILROAD=15]="PENNSYLVANIA_RAILROAD",t[t.ST_JAMES_PLACE=16]="ST_JAMES_PLACE",t[t.COMMUNITY_CHEST_2=17]="COMMUNITY_CHEST_2",t[t.TENNESSEE_AVENUE=18]="TENNESSEE_AVENUE",t[t.NEW_YORK_AVENUE=19]="NEW_YORK_AVENUE",t[t.FREE_PARKING=20]="FREE_PARKING",t[t.KENTUCKY_AVENUE=21]="KENTUCKY_AVENUE",t[t.CHANCE_2=22]="CHANCE_2",t[t.INDIANA_AVENUE=23]="INDIANA_AVENUE",t[t.ILLINOIS_AVENUE=24]="ILLINOIS_AVENUE",t[t.B_AND_O_RAILROAD=25]="B_AND_O_RAILROAD",t[t.ATLANTIC_AVENUE=26]="ATLANTIC_AVENUE",t[t.VENTNOR_AVENUE=27]="VENTNOR_AVENUE",t[t.WATER_WORKS=28]="WATER_WORKS",t[t.MARVIN_GARDENS=29]="MARVIN_GARDENS",t[t.GO_TO_JAIL=30]="GO_TO_JAIL",t[t.PACIFIC_AVENUE=31]="PACIFIC_AVENUE",t[t.NORTH_CAROLINA_AVENUE=32]="NORTH_CAROLINA_AVENUE",t[t.COMMUNITY_CHEST_3=33]="COMMUNITY_CHEST_3",t[t.PENNSYLVANIA_AVENUE=34]="PENNSYLVANIA_AVENUE",t[t.SHORT_LINE=35]="SHORT_LINE",t[t.CHANCE_3=36]="CHANCE_3",t[t.PARK_PLACE=37]="PARK_PLACE",t[t.LUXURY_TAX=38]="LUXURY_TAX",t[t.BOARDWALK=39]="BOARDWALK",t))(jn||{}),DY=(t=>(t[t.ADVANCE_TO_GO=0]="ADVANCE_TO_GO",t[t.BANK_ERROR_IN_YOUR_FAVOR=1]="BANK_ERROR_IN_YOUR_FAVOR",t[t.DOCTORS_FEE=2]="DOCTORS_FEE",t[t.SALE_OF_STOCK=3]="SALE_OF_STOCK",t[t.GET_OUT_OF_JAIL_FREE=4]="GET_OUT_OF_JAIL_FREE",t[t.GO_TO_JAIL=5]="GO_TO_JAIL",t[t.HOLIDAY_FUND_MATURES=6]="HOLIDAY_FUND_MATURES",t[t.INCOME_TAX_REFUND=7]="INCOME_TAX_REFUND",t[t.BIRTHDAY=8]="BIRTHDAY",t[t.LIFE_INSURANCE_MATURES=9]="LIFE_INSURANCE_MATURES",t[t.HOSPITAL_FEES=10]="HOSPITAL_FEES",t[t.SCHOOL_FEES=11]="SCHOOL_FEES",t[t.CONSULTANCY_FEE=12]="CONSULTANCY_FEE",t[t.STREET_REPAIR=13]="STREET_REPAIR",t[t.BEAUTY_CONTEST=14]="BEAUTY_CONTEST",t[t.INHERITANCE=15]="INHERITANCE",t))(DY||{}),FY=(t=>(t[t.ADVANCE_TO_BOARDWALK=0]="ADVANCE_TO_BOARDWALK",t[t.ADVANCE_TO_GO=1]="ADVANCE_TO_GO",t[t.ADVANCE_TO_ILLINOIS_AVENUE=2]="ADVANCE_TO_ILLINOIS_AVENUE",t[t.ADVANCE_TO_ST_CHARLES_PLACE=3]="ADVANCE_TO_ST_CHARLES_PLACE",t[t.ADVANCE_TO_NEAREST_RAILROAD_1=4]="ADVANCE_TO_NEAREST_RAILROAD_1",t[t.ADVANCE_TO_NEAREST_RAILROAD_2=5]="ADVANCE_TO_NEAREST_RAILROAD_2",t[t.ADVANCE_TO_NEAREST_UTILITY=6]="ADVANCE_TO_NEAREST_UTILITY",t[t.BANK_DIVIDEND=7]="BANK_DIVIDEND",t[t.GET_OUT_OF_JAIL_FREE=8]="GET_OUT_OF_JAIL_FREE",t[t.GO_BACK_THREE_SPACES=9]="GO_BACK_THREE_SPACES",t[t.GO_TO_JAIL=10]="GO_TO_JAIL",t[t.GENERAL_REPAIRS=11]="GENERAL_REPAIRS",t[t.SPEEDING_FINE=12]="SPEEDING_FINE",t[t.TAKE_TRIP_TO_READING_RAILROAD=13]="TAKE_TRIP_TO_READING_RAILROAD",t[t.ELECTED_CHAIRMAN=14]="ELECTED_CHAIRMAN",t[t.BUILDING_LOAN_MATURES=15]="BUILDING_LOAN_MATURES",t))(FY||{});function OY(t){return t===28||t===12?t:OY((t+1)%40)}function $Y(t){return t===25||t===5||t===15||t===35?t:$Y((t+1)%40)}function _3(){const t=Math.floor(Math.random()*6)+1,e=Math.floor(Math.random()*6)+1;return{total:t+e,isDoubles:t===e}}function LI(t,e){function n(f){switch(h.splice(Math.floor(Math.random()*d.length),1)[0]){case 0:return 0;case 4:return u++,f;case 5:return 10;default:return f}}function r(f){switch(d.splice(Math.floor(Math.random()*d.length),1)[0]){case 0:return 39;case 1:return 0;case 2:return 24;case 3:return 11;case 4:case 5:return $Y(f);case 6:return OY(f);case 8:return u++,f;case 9:return(f-3)%40;case 10:return 10;case 13:return 5;default:return f}}function i(f){a=(a+f)%40,l.push(a);const p=s(a);a!==p&&l.push(p),a=p}function s(f){switch(f){case 2:case 17:case 33:return n(f);case 7:case 22:case 36:return r(f);case 30:return 10;default:return f}}function o(){let f=0;do{const p=_3();if(p.isDoubles?f++:f=0,f===3){a=10;break}i(p.total)}while(f>0)}let a=0,l=[0],c=0,u=0,d=[],h=[];for(let f=0;f<t;f++)if(d.length===0&&(d=Object.values(FY).filter(p=>!isNaN(Number(p)))),h.length===0&&(h=Object.values(DY).filter(p=>!isNaN(Number(p)))),a===10)if(c++,u>0&&(u--,o()),c===4||e===0)a=(a+_3().total)%40,l.push(a);else for(let p=0;p<3;p++){const m=_3();if(m.isDoubles){a=(a+m.total)%40,l.push(a);break}}else o();return l}function HY(t){let e=[];for(let n=0;n<40;n++)e[n]=0;return t.forEach(n=>{e[n]++}),e}const LIe=({width:t,height:e,originX:n,originY:r})=>{const i=t/10,s=e/10;return{[jn.GO]:{x:n+t,y:r},[jn.MEDITERRANEAN_AVENUE]:{x:n+t-i,y:r},[jn.COMMUNITY_CHEST_1]:{x:n+t-2*i,y:r},[jn.BALTIC_AVENUE]:{x:n+t-3*i,y:r},[jn.INCOME_TAX]:{x:n+t-4*i,y:r},[jn.READING_RAILROAD]:{x:n+t-5*i,y:r},[jn.ORIENTAL_AVENUE]:{x:n+t-6*i,y:r},[jn.CHANCE_1]:{x:n+t-7*i,y:r},[jn.VERMONT_AVENUE]:{x:n+t-8*i,y:r},[jn.CONNECTICUT_AVENUE]:{x:n+t-9*i,y:r},[jn.JAIL]:{x:n,y:r},[jn.ST_CHARLES_PLACE]:{x:n,y:r+s},[jn.ELECTRIC_COMPANY]:{x:n,y:r+2*s},[jn.STATES_AVENUE]:{x:n,y:r+3*s},[jn.VIRGINIA_AVENUE]:{x:n,y:r+4*s},[jn.PENNSYLVANIA_RAILROAD]:{x:n,y:r+5*s},[jn.ST_JAMES_PLACE]:{x:n,y:r+6*s},[jn.COMMUNITY_CHEST_2]:{x:n,y:r+7*s},[jn.TENNESSEE_AVENUE]:{x:n,y:r+8*s},[jn.NEW_YORK_AVENUE]:{x:n,y:r+9*s},[jn.FREE_PARKING]:{x:n,y:r+e},[jn.KENTUCKY_AVENUE]:{x:n+i,y:r+e},[jn.CHANCE_2]:{x:n+2*i,y:r+e},[jn.INDIANA_AVENUE]:{x:n+3*i,y:r+e},[jn.ILLINOIS_AVENUE]:{x:n+4*i,y:r+e},[jn.B_AND_O_RAILROAD]:{x:n+5*i,y:r+e},[jn.ATLANTIC_AVENUE]:{x:n+6*i,y:r+e},[jn.VENTNOR_AVENUE]:{x:n+7*i,y:r+e},[jn.WATER_WORKS]:{x:n+8*i,y:r+e},[jn.MARVIN_GARDENS]:{x:n+9*i,y:r+e},[jn.GO_TO_JAIL]:{x:n+t,y:r+e},[jn.PACIFIC_AVENUE]:{x:n+t,y:r+9*s},[jn.NORTH_CAROLINA_AVENUE]:{x:n+t,y:r+8*s},[jn.COMMUNITY_CHEST_3]:{x:n+t,y:r+7*s},[jn.PENNSYLVANIA_AVENUE]:{x:n+t,y:r+6*s},[jn.SHORT_LINE]:{x:n+t,y:r+5*s},[jn.CHANCE_3]:{x:n+t,y:r+4*s},[jn.PARK_PLACE]:{x:n+t,y:r+3*s},[jn.LUXURY_TAX]:{x:n+t,y:r+2*s},[jn.BOARDWALK]:{x:n+t,y:r+s}}},VY={width:600,height:600,originX:50,originY:-50},DIe=LIe(VY),FIe=({currentSquare:t})=>{const e=DIe[t]||{x:0,y:0};return C.jsxs("div",{style:{position:"relative",width:"700px",height:"700px"},children:[C.jsx("img",{src:"resources/monopoly-board.jpg",alt:"Monopoly Board",style:{width:"700px",height:"700px",position:"absolute",top:0,left:0}}),C.jsx("div",{className:"marker-icon",style:{position:"absolute",top:VY.height-e.y,left:e.x,transform:"translate(-50%, -50%)",fontSize:"30px",color:"red"},children:""})]})};function OIe(){const[t,e]=b.useState(0),[n]=b.useState(LI(100)),r=n[t];return C.jsxs("div",{children:[C.jsx(FIe,{currentSquare:r}),C.jsx(Oh,{style:{margin:"40px"},min:0,max:n.length,onChange:(i,s)=>e(s),children:"Square"})]})}const DI="DEFAULT_X_AXIS_KEY",FI="DEFAULT_Y_AXIS_KEY",$Ie={top:50,bottom:50,left:50,right:50};function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ze.apply(null,arguments)}function Ji(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function HIe({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=b.useRef(t!==void 0),[s,o]=b.useState(e),a=i?t:s,l=b.useCallback(c=>{i||o(c)},[]);return[a,l]}const zY=b.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),VIe=(t,e)=>n=>t?t.fade==="series"?n.seriesId===(e==null?void 0:e.seriesId)&&n.dataIndex!==(e==null?void 0:e.dataIndex):t.fade==="global"?n.seriesId!==(e==null?void 0:e.seriesId)||n.dataIndex!==(e==null?void 0:e.dataIndex):!1:!1,zIe=(t,e)=>n=>t?t.highlight==="series"?n.seriesId===(e==null?void 0:e.seriesId):t.highlight==="item"?n.dataIndex===(e==null?void 0:e.dataIndex)&&n.seriesId===(e==null?void 0:e.seriesId):!1:!1,WIe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function GIe(t,e,n=WIe){return t.type==="pie"?Ze({},t,{data:t.data.map((r,i)=>Ze({color:n[i%n.length]},r))}):Ze({color:n[e%n.length]},t)}const UIe=({series:t,colors:e,seriesFormatters:n,dataset:r})=>{const i={};t.forEach((o,a)=>{var u;const{id:l=`auto-generated-id-${a}`,type:c}=o;if(i[c]===void 0&&(i[c]={series:{},seriesOrder:[]}),((u=i[c])==null?void 0:u.series[l])!==void 0)throw new Error(`MUI X: series' id "${l}" is not unique.`);i[c].series[l]=Ze({id:l},GIe(o,a,e)),i[c].seriesOrder.push(l)});const s={};return Object.keys(n).forEach(o=>{var l;const a=i[o];a!==void 0&&(s[o]=((l=n[o])==null?void 0:l.call(n,a,r))??i[o])}),s},jIe=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],YIe=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],XIe=t=>t==="dark"?YIe:jIe,WY=b.createContext({isInitialized:!1,data:{}}),jv=b.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}}),K8=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},GY=t=>{var l;const{axis:e,getFilters:n,isDefaultAxis:r}=t,i=n==null?void 0:n({currentAxisId:e.id,isDefaultAxis:r}),s=i?(l=e.data)==null?void 0:l.filter((c,u)=>i({x:null,y:null},u)):e.data,o=Math.min(...s??[]),a=Math.max(...s??[]);return[o,a]},UY=t=>e=>{const{series:n,axis:r,getFilters:i,isDefaultAxis:s}=e;return Object.keys(n).filter(o=>{const a=n[o].yAxisId??n[o].yAxisKey;return a===r.id||s&&a===void 0}).reduce((o,a)=>{const{stackedData:l}=n[a],c=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:s,seriesXAxisId:n[a].xAxisId??n[a].xAxisKey,seriesYAxisId:n[a].yAxisId??n[a].yAxisKey}),[u,d]=(l==null?void 0:l.reduce((h,f,p)=>c&&(!c(K8(f[0],t),p)||!c(K8(f[1],t),p))?h:[Math.min(...f,h[0]),Math.max(...f,h[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(u,o[0]),Math.max(d,o[1])]},[1/0,-1/0])},qIe=t=>Object.keys(t.series).some(n=>t.series[n].layout==="horizontal")?UY("x")(t):GY(t),KIe=t=>Object.keys(t.series).some(n=>t.series[n].layout==="horizontal")?GY(t):UY("y")(t);function yc(t){return function(){return t}}const QIe=Math.PI,M3=2*QIe;function jY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JIe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ZIe(t){return t}function e4e(){var t=ZIe,e=JIe,n=null,r=yc(0),i=yc(M3),s=yc(0);function o(a){var l,c=(a=jY(a)).length,u,d,h=0,f=new Array(c),p=new Array(c),m=+r.apply(this,arguments),y=Math.min(M3,Math.max(-M3,i.apply(this,arguments)-m)),S,w=Math.min(Math.abs(y)/c,s.apply(this,arguments)),v=w*(y<0?-1:1),k;for(l=0;l<c;++l)(k=p[f[l]=l]=+t(a[l],l,a))>0&&(h+=k);for(e!=null?f.sort(function(P,T){return e(p[P],p[T])}):n!=null&&f.sort(function(P,T){return n(a[P],a[T])}),l=0,d=h?(y-c*v)/h:0;l<c;++l,m=S)u=f[l],k=p[u],S=m+(k>0?k*d:0)+v,p[u]={data:a[u],index:l,value:k,startAngle:m,endAngle:S,padAngle:w};return p}return o.value=function(a){return arguments.length?(t=typeof a=="function"?a:yc(+a),o):t},o.sortValues=function(a){return arguments.length?(e=a,n=null,o):e},o.sort=function(a){return arguments.length?(n=a,e=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:yc(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:yc(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:yc(+a),o):s},o}function hm(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fm(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function t4e(t,e){return t[e]}function n4e(t){const e=[];return e.key=t,e}function YY(){var t=yc([]),e=fm,n=hm,r=t4e;function i(s){var o=Array.from(t.apply(this,arguments),n4e),a,l=o.length,c=-1,u;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(d,o[a].key,c,s)]).data=d;for(a=0,u=jY(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:yc(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:yc(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fm:typeof s=="function"?s:yc(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??hm,i):n},i}function r4e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}hm(t,e)}}function i4e(t,e){if((l=t.length)>0)for(var n,r=0,i,s,o,a,l,c=t[e[0]].length;r<c;++r)for(o=a=0,n=0;n<l;++n)(s=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=s):s<0?(i[1]=a,i[0]=a+=s):(i[0]=0,i[1]=s)}function s4e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}hm(t,e)}}function o4e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],d=u[r][1]||0,h=u[r-1][1]||0,f=(d-h)/2,p=0;p<a;++p){var m=t[e[p]],y=m[r][1]||0,S=m[r-1][1]||0;f+=y-S}l+=d,c+=f*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,hm(t,e)}}function XY(t){var e=t.map(a4e);return fm(t).sort(function(n,r){return e[n]-e[r]})}function a4e(t){for(var e=-1,n=0,r=t.length,i,s=-1/0;++e<r;)(i=+t[e][1])>s&&(s=i,n=e);return n}function qY(t){var e=t.map(KY);return fm(t).sort(function(n,r){return e[n]-e[r]})}function KY(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function l4e(t){return qY(t).reverse()}function c4e(t){var e=t.length,n,r,i=t.map(KY),s=XY(t),o=0,a=0,l=[],c=[];for(n=0;n<e;++n)r=s[n],o<a?(o+=i[r],l.push(r)):(a+=i[r],c.push(r));return c.reverse().concat(l)}function u4e(t){return fm(t).reverse()}const E3={appearance:XY,ascending:qY,descending:l4e,insideOut:c4e,none:fm,reverse:u4e},B3={expand:r4e,diverging:i4e,none:hm,silhouette:s4e,wiggle:o4e},QY=t=>{const{series:e,seriesOrder:n,defaultStrategy:r}=t,i=[],s={};return n.forEach(o=>{const{stack:a,stackOrder:l,stackOffset:c}=e[o];a===void 0?i.push({ids:[o],stackingOrder:E3.none,stackingOffset:B3.none}):s[a]===void 0?(s[a]=i.length,i.push({ids:[o],stackingOrder:E3[l??(r==null?void 0:r.stackOrder)??"none"],stackingOffset:B3[c??(r==null?void 0:r.stackOffset)??"diverging"]})):(i[s[a]].ids.push(o),l!==void 0&&(i[s[a]].stackingOrder=E3[l]),c!==void 0&&(i[s[a]].stackingOffset=B3[c]))}),i};function OI(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=Ze({},t[r],{valueFormatter:t[r].valueFormatter??e})}),n}const d4e=(t,e)=>{const{seriesOrder:n,series:r}=t,i=QY(t),s=e??[];n.forEach(a=>{const l=r[a].data;if(l!==void 0)l.forEach((c,u)=>{s.length<=u?s.push({[a]:c}):s[u][a]=c});else if(e===void 0)throw new Error([`MUI X: bar series with id='${a}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const o={};return i.forEach(a=>{const{ids:l,stackingOffset:c,stackingOrder:u}=a,d=YY().keys(l.map(h=>{const f=r[h].dataKey;return r[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>h[f]??0).order(u).offset(c)(s);l.forEach((h,f)=>{const p=r[h].dataKey;o[h]=Ze({layout:"vertical"},r[h],{data:p?e.map(m=>{const y=m[p];return typeof y!="number"?0:y}):r[h].data,stackedData:d[f].map(([m,y])=>[m,y])})})}),{seriesOrder:n,stackingGroups:i,series:OI(o,a=>a==null?"":a.toLocaleString())}},h4e=d4e,f4e=(t,e,n)=>{const r=t.layout==="vertical",i=r?e==null?void 0:e.colorScale:n==null?void 0:n.colorScale,s=r?n==null?void 0:n.colorScale:e==null?void 0:e.colorScale,o=r?e==null?void 0:e.data:n==null?void 0:n.data;return s?a=>{const l=t.data[a],c=l===null?t.color:s(l);return c===null?t.color:c}:i&&o?a=>{const l=o[a],c=l===null?t.color:i(l);return c===null?t.color:c}:()=>t.color},JY=f4e,p4e={seriesType:"bar",seriesFormatter:h4e,colorProcessor:JY,xExtremumGetter:qIe,yExtremumGetter:KIe},K2=(t,e)=>[Math.min(t[0],e[0]),Math.max(t[1],e[1])],g4e=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;return Object.keys(e).filter(s=>{const o=e[s].xAxisId??e[s].xAxisKey;return o===n.id||o===void 0&&r}).reduce((s,o)=>{const a=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[o].xAxisId??e[o].xAxisKey,seriesYAxisId:e[o].yAxisId??e[o].yAxisKey}),l=e[o].data.reduce((c,u,d)=>a&&!a(u,d)?c:K2(c,[u.x,u.x]),[1/0,-1/0]);return K2(s,l)},[1/0,-1/0])},m4e=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;return Object.keys(e).filter(s=>{const o=e[s].yAxisId??e[s].yAxisKey;return o===n.id||o===void 0&&r}).reduce((s,o)=>{const a=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[o].xAxisId??e[o].xAxisKey,seriesYAxisId:e[o].yAxisId??e[o].yAxisKey}),l=e[o].data.reduce((c,u,d)=>a&&!a(u,d)?c:K2(c,[u.y,u.y]),[1/0,-1/0]);return K2(s,l)},[1/0,-1/0])},y4e=({series:t,seriesOrder:e})=>({series:OI(t,n=>`(${n.x}, ${n.y})`),seriesOrder:e}),b4e=y4e,v4e=(t,e,n,r)=>{const i=r==null?void 0:r.colorScale,s=n==null?void 0:n.colorScale,o=e==null?void 0:e.colorScale;return i?a=>{var u,d;if(((u=r==null?void 0:r.data)==null?void 0:u[a])!==void 0){const h=i((d=r==null?void 0:r.data)==null?void 0:d[a]);if(h!==null)return h}const l=t.data[a],c=l===null?t.color:i(l.z);return c===null?t.color:c}:s?a=>{const l=t.data[a],c=l===null?t.color:s(l.y);return c===null?t.color:c}:o?a=>{const l=t.data[a],c=l===null?t.color:o(l.x);return c===null?t.color:c}:()=>t.color},w4e=v4e,x4e={seriesType:"scatter",seriesFormatter:b4e,colorProcessor:w4e,xExtremumGetter:g4e,yExtremumGetter:m4e},S4e=t=>{const{axis:e}=t,n=Math.min(...e.data??[]),r=Math.max(...e.data??[]);return[n,r]};function C4e(t,e,n){return e.reduce((r,i,s)=>{const[o,a]=t(i);return n&&(!n({y:o,x:null},s)||!n({y:a,x:null},s))?r:[Math.min(o,a,r[0]),Math.max(o,a,r[1])]},[1/0,-1/0])}const k4e=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;return Object.keys(e).filter(s=>{const o=e[s].yAxisId??e[s].yAxisKey;return o===n.id||r&&o===void 0}).reduce((s,o)=>{const{area:a,stackedData:l}=e[o],c=a!==void 0,u=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[o].xAxisId??e[o].xAxisKey,seriesYAxisId:e[o].yAxisId??e[o].yAxisKey}),d=c&&n.scaleType!=="log"&&typeof e[o].baseline!="string"?m=>m:m=>[m[1],m[1]],h=C4e(d,l,u),[f,p]=h;return[Math.min(f,s[0]),Math.max(p,s[1])]},[1/0,-1/0])},T4e=(t,e)=>{const{seriesOrder:n,series:r}=t,i=QY(Ze({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];n.forEach(a=>{const l=r[a].data;l!==void 0&&l.forEach((c,u)=>{s.length<=u?s.push({[a]:c}):s[u][a]=c})});const o={};return i.forEach(a=>{const{ids:l,stackingOrder:c,stackingOffset:u}=a,d=YY().keys(l.map(h=>{const f=r[h].dataKey;return r[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>h[f]??0).order(c).offset(u)(s);l.forEach((h,f)=>{const p=r[h].dataKey;o[h]=Ze({},r[h],{data:p?e.map(m=>{const y=m[p];return typeof y!="number"?null:y}):r[h].data,stackedData:d[f].map(([m,y])=>[m,y])})})}),{seriesOrder:n,stackingGroups:i,series:OI(o,a=>a==null?"":a.toLocaleString())}},P4e=T4e,_4e=(t,e,n)=>{const r=n==null?void 0:n.colorScale,i=e==null?void 0:e.colorScale;return r?s=>{const o=t.data[s],a=o===null?t.color:r(o);return a===null?t.color:a}:i?s=>{var l;const o=(l=e.data)==null?void 0:l[s],a=o===null?t.color:i(o);return a===null?t.color:a}:()=>t.color},M4e=_4e,E4e={seriesType:"line",colorProcessor:M4e,seriesFormatter:P4e,xExtremumGetter:S4e,yExtremumGetter:k4e};function gd(t,e){return typeof t=="function"?t(e):t}const B4e=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,n)=>n-e;case"asc":return(e,n)=>e-n;default:return null}},N4e=t=>{const{seriesOrder:e,series:n}=t,r={};return e.forEach(i=>{const s=e4e().startAngle(2*Math.PI*(n[i].startAngle??0)/360).endAngle(2*Math.PI*(n[i].endAngle??360)/360).padAngle(2*Math.PI*(n[i].paddingAngle??0)/360).sortValues(B4e(n[i].sortingValues??"none"))(n[i].data.map(o=>o.value));r[i]=Ze({valueFormatter:o=>o.value.toLocaleString()},n[i],{data:n[i].data.map((o,a)=>Ze({},o,{id:o.id??`auto-generated-pie-id-${i}-${a}`},s[a])).map((o,a)=>{var l,c;return Ze({},o,{formattedValue:((c=(l=n[i]).valueFormatter)==null?void 0:c.call(l,Ze({},o,{label:gd(o.label,"arc")}),{dataIndex:a}))??o.value.toLocaleString()})})})}),{seriesOrder:e,series:r}},I4e=N4e,A4e=t=>e=>t.data[e].color,R4e=A4e,L4e={seriesType:"pie",colorProcessor:R4e,seriesFormatter:I4e},D4e=[p4e,x4e,E4e,L4e];function F4e(t){const e=t??D4e,n={},r={},i={},s={};for(let o=0;o<e.length;o+=1){const a=e[o],l=a.seriesType;n[l]=a.seriesFormatter,r[l]=a.colorProcessor,a.xExtremumGetter&&(i[l]=a.xExtremumGetter),a.yExtremumGetter&&(s[l]=a.yExtremumGetter)}return{seriesFormatters:n,colorProcessors:r,xExtremumGetters:i,yExtremumGetters:s}}function O4e(t){const{children:e,plugins:n}=t,r=b.useMemo(()=>({isInitialized:!0,data:F4e(n)}),[n]);return C.jsx(jv.Provider,{value:r,children:e})}function ZY(t){const{isInitialized:e,data:n}=b.useContext(jv);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?n.colorProcessors[t]:n.colorProcessors}function $4e(t){const{isInitialized:e,data:n}=b.useContext(jv);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?n.seriesFormatters[t]:n.seriesFormatters}function H4e(t){const{isInitialized:e,data:n}=b.useContext(jv);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?n.xExtremumGetters[t]:n.xExtremumGetters}function V4e(t){const{isInitialized:e,data:n}=b.useContext(jv);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?n.yExtremumGetters[t]:n.yExtremumGetters}function z4e(t){const{series:e,dataset:n,colors:r=XIe,children:i}=t,s=$4e(),o=_a(),a=b.useMemo(()=>({isInitialized:!0,data:UIe({series:e,colors:typeof r=="function"?r(o.palette.mode):r,seriesFormatters:s,dataset:n})}),[e,r,o.palette.mode,s,n]);return C.jsx(WY.Provider,{value:a,children:i})}function of(){const{isInitialized:t,data:e}=b.useContext(WY);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function W4e(){const t=of();return b.useMemo(()=>t.bar,[t.bar])}const G4e=["highlighted","faded"],U4e=t=>{const e=t??{},{highlighted:n,faded:r}=e,i=Ji(e,G4e);return Ze({highlight:n,fade:r},i)};function j4e({children:t,highlightedItem:e,onHighlightChange:n}){const[r,i]=HIe({controlled:e,default:null,name:"HighlightedProvider",state:"highlightedItem"}),s=of(),o=b.useMemo(()=>{const c=new Map;return Object.keys(s).forEach(u=>{const d=s[u];Object.keys((d==null?void 0:d.series)??{}).forEach(h=>{const f=d==null?void 0:d.series[h];c.set(h,U4e(f==null?void 0:f.highlightScope))})}),c},[s]),a=r&&r.seriesId?o.get(r.seriesId)??void 0:void 0,l=b.useMemo(()=>({isInitialized:!0,data:{highlightScope:a,highlightedItem:r,setHighlighted:c=>{i(c),n==null||n(c)},clearHighlighted:()=>{i(null),n==null||n(null)},isHighlighted:zIe(a,r),isFaded:VIe(a,r)}}),[r,a,i,n]);return C.jsx(zY.Provider,{value:l,children:t})}function eX(){const{isInitialized:t,data:e}=b.useContext(zY);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function tX(t){const e=eX();if(!t)return{isHighlighted:!1,isFaded:!1};const n=e.isHighlighted(t),r=!n&&e.isFaded(t);return{isHighlighted:n,isFaded:r}}function IS(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y4e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $I(t){let e,n,r;t.length!==2?(e=IS,n=(a,l)=>IS(t(a),l),r=(a,l)=>t(a)-l):(e=t===IS||t===Y4e?t:X4e,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function X4e(){return 0}function q4e(t){return t===null?NaN:+t}const K4e=$I(IS),nX=K4e.right;$I(q4e).center;class Q8 extends Map{constructor(e,n=Z4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(J8(this,e))}has(e){return super.has(J8(this,e))}set(e,n){return super.set(Q4e(this,e),n)}delete(e){return super.delete(J4e(this,e))}}function J8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Q4e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function J4e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Z4e(t){return t!==null&&typeof t=="object"?t.valueOf():t}const e6e=Math.sqrt(50),t6e=Math.sqrt(10),n6e=Math.sqrt(2);function Q2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=e6e?10:s>=t6e?5:s>=n6e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?Q2(t,e,n*2):[a,l,c]}function a5(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Q2(e,t,n):Q2(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function l5(t,e,n){return e=+e,t=+t,n=+n,Q2(t,e,n)[2]}function c5(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?l5(e,t,n):l5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r6e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function af(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function i6e(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Z8=Symbol("implicit");function J2(){var t=new Q8,e=[],n=[],r=Z8;function i(s){let o=t.get(s);if(o===void 0){if(r!==Z8)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Q8;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J2(e,n).unknown(r)},af.apply(i,arguments),i}function HI(){var t=J2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,f=i<r,p=f?i:r,m=f?r:i;s=(m-p)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),p+=(m-p-s*(h-l))*u,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var y=r6e(h).map(function(S){return p+s*S});return n(f?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return HI(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},af.apply(d(),arguments)}function rX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return rX(e())},t}function s6e(){return rX(HI.apply(null,arguments).paddingInner(1))}function VI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yv(){}var Xb=.7,Z2=1/Xb,Ag="\\s*([+-]?\\d+)\\s*",qb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o6e=/^#([0-9a-f]{3,8})$/,a6e=new RegExp(`^rgb\\(${Ag},${Ag},${Ag}\\)$`),l6e=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),c6e=new RegExp(`^rgba\\(${Ag},${Ag},${Ag},${qb}\\)$`),u6e=new RegExp(`^rgba\\(${Su},${Su},${Su},${qb}\\)$`),d6e=new RegExp(`^hsl\\(${qb},${Su},${Su}\\)$`),h6e=new RegExp(`^hsla\\(${qb},${Su},${Su},${qb}\\)$`),e9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VI(Yv,pm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:t9,formatHex:t9,formatHex8:f6e,formatHsl:p6e,formatRgb:n9,toString:n9});function t9(){return this.rgb().formatHex()}function f6e(){return this.rgb().formatHex8()}function p6e(){return sX(this).formatHsl()}function n9(){return this.rgb().formatRgb()}function pm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=o6e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?r9(e):n===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$x(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=a6e.exec(t))?new ya(e[1],e[2],e[3],1):(e=l6e.exec(t))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=c6e.exec(t))?$x(e[1],e[2],e[3],e[4]):(e=u6e.exec(t))?$x(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=d6e.exec(t))?o9(e[1],e[2]/100,e[3]/100,1):(e=h6e.exec(t))?o9(e[1],e[2]/100,e[3]/100,e[4]):e9.hasOwnProperty(t)?r9(e9[t]):t==="transparent"?new ya(NaN,NaN,NaN,0):null}function r9(t){return new ya(t>>16&255,t>>8&255,t&255,1)}function $x(t,e,n,r){return r<=0&&(t=e=n=NaN),new ya(t,e,n,r)}function g6e(t){return t instanceof Yv||(t=pm(t)),t?(t=t.rgb(),new ya(t.r,t.g,t.b,t.opacity)):new ya}function u5(t,e,n,r){return arguments.length===1?g6e(t):new ya(t,e,n,r??1)}function ya(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VI(ya,u5,iX(Yv,{brighter(t){return t=t==null?Z2:Math.pow(Z2,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xb:Math.pow(Xb,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya(gp(this.r),gp(this.g),gp(this.b),eC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i9,formatHex:i9,formatHex8:m6e,formatRgb:s9,toString:s9}));function i9(){return`#${rp(this.r)}${rp(this.g)}${rp(this.b)}`}function m6e(){return`#${rp(this.r)}${rp(this.g)}${rp(this.b)}${rp((isNaN(this.opacity)?1:this.opacity)*255)}`}function s9(){const t=eC(this.opacity);return`${t===1?"rgb(":"rgba("}${gp(this.r)}, ${gp(this.g)}, ${gp(this.b)}${t===1?")":`, ${t})`}`}function eC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rp(t){return t=gp(t),(t<16?"0":"")+t.toString(16)}function o9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tc(t,e,n,r)}function sX(t){if(t instanceof Tc)return new Tc(t.h,t.s,t.l,t.opacity);if(t instanceof Yv||(t=pm(t)),!t)return new Tc;if(t instanceof Tc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Tc(o,a,l,t.opacity)}function y6e(t,e,n,r){return arguments.length===1?sX(t):new Tc(t,e,n,r??1)}function Tc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VI(Tc,y6e,iX(Yv,{brighter(t){return t=t==null?Z2:Math.pow(Z2,t),new Tc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xb:Math.pow(Xb,t),new Tc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ya(N3(t>=240?t-240:t+120,i,r),N3(t,i,r),N3(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tc(a9(this.h),Hx(this.s),Hx(this.l),eC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eC(this.opacity);return`${t===1?"hsl(":"hsla("}${a9(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a9(t){return t=(t||0)%360,t<0?t+360:t}function Hx(t){return Math.max(0,Math.min(1,t||0))}function N3(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zI=t=>()=>t;function b6e(t,e){return function(n){return t+n*e}}function v6e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function w6e(t){return(t=+t)==1?oX:function(e,n){return n-e?v6e(e,n,t):zI(isNaN(e)?n:e)}}function oX(t,e){var n=e-t;return n?b6e(t,n):zI(isNaN(t)?e:t)}const l9=function t(e){var n=w6e(e);function r(i,s){var o=n((i=u5(i)).r,(s=u5(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=oX(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function x6e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function S6e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C6e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=hT(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function aX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function k6e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hT(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var d5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I3=new RegExp(d5.source,"g");function T6e(t){return function(){return t}}function P6e(t){return function(e){return t(e)+""}}function _6e(t,e){var n=d5.lastIndex=I3.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=d5.exec(t))&&(i=I3.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Kb(r,i)})),n=I3.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?P6e(l[0].x):T6e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function hT(t,e){var n=typeof e,r;return e==null||n==="boolean"?zI(e):(n==="number"?Kb:n==="string"?(r=pm(e))?(e=r,l9):_6e:e instanceof pm?l9:e instanceof Date?aX:S6e(e)?x6e:Array.isArray(e)?C6e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?k6e:Kb)(t,e)}function lX(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function M6e(t){return function(){return t}}function E6e(t){return+t}var c9=[0,1];function Ll(t){return t}function h5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:M6e(isNaN(e)?NaN:.5)}function B6e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function N6e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=h5(i,r),s=n(o,s)):(r=h5(r,i),s=n(s,o)),function(a){return s(r(a))}}function I6e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=h5(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=nX(t,a,1,r)-1;return s[l](i[l](a))}}function fT(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function WI(){var t=c9,e=c9,n=hT,r,i,s,o=Ll,a,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Ll&&(o=B6e(t[0],t[h-1])),a=h>2?I6e:N6e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=a(e,t.map(r),Kb)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,E6e),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=lX,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Ll,u()):o!==Ll},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return r=h,i=f,u()}}function cX(){return WI()(Ll,Ll)}function A6e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gm(t){return t=tC(Math.abs(t)),t?t[1]:NaN}function R6e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function L6e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var D6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qb(t){if(!(e=D6e.exec(t)))throw new Error("invalid format: "+t);var e;return new GI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qb.prototype=GI.prototype;function GI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F6e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uX;function O6e(t,e){var n=tC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(uX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tC(t,Math.max(0,e+s-1))[0]}function u9(t,e){var n=tC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const d9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:A6e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>u9(t*100,e),r:u9,s:O6e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function h9(t){return t}var f9=Array.prototype.map,p9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $6e(t){var e=t.grouping===void 0||t.thousands===void 0?h9:R6e(f9.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?h9:L6e(f9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Qb(d);var h=d.fill,f=d.align,p=d.sign,m=d.symbol,y=d.zero,S=d.width,w=d.comma,v=d.precision,k=d.trim,P=d.type;P==="n"?(w=!0,P="g"):d9[P]||(v===void 0&&(v=12),k=!0,P="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var T=m==="$"?n:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",_=m==="$"?r:/[%p]/.test(P)?o:"",E=d9[P],I=/[defgprs%]/.test(P);v=v===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function R(F){var B=T,D=_,A,N,L;if(P==="c")D=E(F)+D,F="";else{F=+F;var H=F<0||1/F<0;if(F=isNaN(F)?l:E(Math.abs(F),v),k&&(F=F6e(F)),H&&+F==0&&p!=="+"&&(H=!1),B=(H?p==="("?p:a:p==="-"||p==="("?"":p)+B,D=(P==="s"?p9[8+uX/3]:"")+D+(H&&p==="("?")":""),I){for(A=-1,N=F.length;++A<N;)if(L=F.charCodeAt(A),48>L||L>57){D=(L===46?i+F.slice(A+1):F.slice(A))+D,F=F.slice(0,A);break}}}w&&!y&&(F=e(F,1/0));var O=B.length+F.length+D.length,G=O<S?new Array(S-O+1).join(h):"";switch(w&&y&&(F=e(G+F,G.length?S-D.length:1/0),G=""),f){case"<":F=B+F+D+G;break;case"=":F=B+G+F+D;break;case"^":F=G.slice(0,O=G.length>>1)+B+F+D+G.slice(O);break;default:F=G+B+F+D;break}return s(F)}return R.toString=function(){return d+""},R}function u(d,h){var f=c((d=Qb(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(gm(h)/3)))*3,m=Math.pow(10,-p),y=p9[8+p/3];return function(S){return f(m*S)+y}}return{format:c,formatPrefix:u}}var Vx,UI,dX;H6e({thousands:",",grouping:[3],currency:["$",""]});function H6e(t){return Vx=$6e(t),UI=Vx.format,dX=Vx.formatPrefix,Vx}function V6e(t){return Math.max(0,-gm(Math.abs(t)))}function z6e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gm(e)/3)))*3-gm(Math.abs(t)))}function W6e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gm(e)-gm(t))+1}function G6e(t,e,n,r){var i=c5(t,e,n),s;switch(r=Qb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=z6e(i,o))&&(r.precision=s),dX(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=W6e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=V6e(i))&&(r.precision=s-(r.type==="%")*2);break}}return UI(r)}function jI(t){var e=t.domain;return t.ticks=function(n){var r=e();return a5(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return G6e(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=l5(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function hX(){var t=cX();return t.copy=function(){return fT(t,hX())},af.apply(t,arguments),jI(t)}function fX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function g9(t){return Math.log(t)}function m9(t){return Math.exp(t)}function U6e(t){return-Math.log(-t)}function j6e(t){return-Math.exp(-t)}function Y6e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function X6e(t){return t===10?Y6e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function q6e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function y9(t){return(e,n)=>-t(-e,n)}function K6e(t){const e=t(g9,m9),n=e.domain;let r=10,i,s;function o(){return i=q6e(r),s=X6e(r),n()[0]<0?(i=y9(i),s=y9(s),t(U6e,j6e)):t(g9,m9),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),p,m;const y=a==null?10:+a;let S=[];if(!(r%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(p=1;p<r;++p)if(m=h<0?p/s(-h):p*s(h),!(m<c)){if(m>u)break;S.push(m)}}else for(;h<=f;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/s(-h):p*s(h),!(m<c)){if(m>u)break;S.push(m)}S.length*2<y&&(S=a5(c,u,y))}else S=a5(h,f,Math.min(f-h,y)).map(s);return d?S.reverse():S},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qb(l)).precision==null&&(l.trim=!0),l=UI(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(fX(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function pX(){const t=K6e(WI()).domain([1,10]);return t.copy=()=>fT(t,pX()).base(t.base()),af.apply(t,arguments),t}function b9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Q6e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function J6e(t){return t<0?-t*t:t*t}function Z6e(t){var e=t(Ll,Ll),n=1;function r(){return n===1?t(Ll,Ll):n===.5?t(Q6e,J6e):t(b9(n),b9(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jI(e)}function YI(){var t=Z6e(WI());return t.copy=function(){return fT(t,YI()).exponent(t.exponent())},af.apply(t,arguments),t}function eAe(){return YI.apply(null,arguments).exponent(.5)}function gX(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[nX(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return gX().domain(t).range(e).unknown(n)},af.apply(i,arguments)}const A3=new Date,R3=new Date;function Vs(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Vs(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(A3.setTime(+s),R3.setTime(+o),t(A3),t(R3),Math.floor(n(A3,R3))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const nC=Vs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vs(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):nC);nC.range;const ld=1e3,Dl=ld*60,cd=Dl*60,Md=cd*24,XI=Md*7,v9=Md*30,L3=Md*365,ip=Vs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ld)},(t,e)=>(e-t)/ld,t=>t.getUTCSeconds());ip.range;const qI=Vs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ld)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getMinutes());qI.range;const KI=Vs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getUTCMinutes());KI.range;const QI=Vs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ld-t.getMinutes()*Dl)},(t,e)=>{t.setTime(+t+e*cd)},(t,e)=>(e-t)/cd,t=>t.getHours());QI.range;const JI=Vs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*cd)},(t,e)=>(e-t)/cd,t=>t.getUTCHours());JI.range;const Xv=Vs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dl)/Md,t=>t.getDate()-1);Xv.range;const pT=Vs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Md,t=>t.getUTCDate()-1);pT.range;const mX=Vs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Md,t=>Math.floor(t/Md));mX.range;function Kp(t){return Vs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Dl)/XI)}const gT=Kp(0),rC=Kp(1),tAe=Kp(2),nAe=Kp(3),mm=Kp(4),rAe=Kp(5),iAe=Kp(6);gT.range;rC.range;tAe.range;nAe.range;mm.range;rAe.range;iAe.range;function Qp(t){return Vs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XI)}const mT=Qp(0),iC=Qp(1),sAe=Qp(2),oAe=Qp(3),ym=Qp(4),aAe=Qp(5),lAe=Qp(6);mT.range;iC.range;sAe.range;oAe.range;ym.range;aAe.range;lAe.range;const ZI=Vs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZI.range;const e4=Vs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());e4.range;const Ed=Vs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ed.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ed.range;const Bd=Vs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bd.range;function yX(t,e,n,r,i,s){const o=[[ip,1,ld],[ip,5,5*ld],[ip,15,15*ld],[ip,30,30*ld],[s,1,Dl],[s,5,5*Dl],[s,15,15*Dl],[s,30,30*Dl],[i,1,cd],[i,3,3*cd],[i,6,6*cd],[i,12,12*cd],[r,1,Md],[r,2,2*Md],[n,1,XI],[e,1,v9],[e,3,3*v9],[t,1,L3]];function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,d){const h=Math.abs(u-c)/d,f=$I(([,,y])=>y).right(o,h);if(f===o.length)return t.every(c5(c/L3,u/L3,d));if(f===0)return nC.every(Math.max(c5(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[a,l]}const[cAe,uAe]=yX(Bd,e4,mT,mX,JI,KI),[dAe,hAe]=yX(Ed,ZI,gT,Xv,QI,qI);function D3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function F3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function j1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Y1(i),u=X1(i),d=Y1(s),h=X1(s),f=Y1(o),p=X1(o),m=Y1(a),y=X1(a),S=Y1(l),w=X1(l),v={a:H,A:O,b:G,B:j,c:null,d:T9,e:T9,f:DAe,g:jAe,G:XAe,H:AAe,I:RAe,j:LAe,L:bX,m:FAe,M:OAe,p:J,q:Z,Q:M9,s:E9,S:$Ae,u:HAe,U:VAe,V:zAe,w:WAe,W:GAe,x:null,X:null,y:UAe,Y:YAe,Z:qAe,"%":_9},k={a:ae,A:z,b:$,B:W,c:null,d:P9,e:P9,f:ZAe,g:cRe,G:dRe,H:KAe,I:QAe,j:JAe,L:wX,m:eRe,M:tRe,p:oe,q:X,Q:M9,s:E9,S:nRe,u:rRe,U:iRe,V:sRe,w:oRe,W:aRe,x:null,X:null,y:lRe,Y:uRe,Z:hRe,"%":_9},P={a:R,A:F,b:B,B:D,c:A,d:C9,e:C9,f:EAe,g:S9,G:x9,H:k9,I:k9,j:TAe,L:MAe,m:kAe,M:PAe,p:I,q:CAe,Q:NAe,s:IAe,S:_Ae,u:bAe,U:vAe,V:wAe,w:yAe,W:xAe,x:N,X:L,y:S9,Y:x9,Z:SAe,"%":BAe};v.x=T(n,v),v.X=T(r,v),v.c=T(e,v),k.x=T(n,k),k.X=T(r,k),k.c=T(e,k);function T(K,Y){return function(le){var ie=[],re=-1,se=0,ue=K.length,we,Pe,te;for(le instanceof Date||(le=new Date(+le));++re<ue;)K.charCodeAt(re)===37&&(ie.push(K.slice(se,re)),(Pe=w9[we=K.charAt(++re)])!=null?we=K.charAt(++re):Pe=we==="e"?" ":"0",(te=Y[we])&&(we=te(le,Pe)),ie.push(we),se=re+1);return ie.push(K.slice(se,re)),ie.join("")}}function _(K,Y){return function(le){var ie=j1(1900,void 0,1),re=E(ie,K,le+="",0),se,ue;if(re!=le.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Y&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(se=F3(j1(ie.y,0,1)),ue=se.getUTCDay(),se=ue>4||ue===0?iC.ceil(se):iC(se),se=pT.offset(se,(ie.V-1)*7),ie.y=se.getUTCFullYear(),ie.m=se.getUTCMonth(),ie.d=se.getUTCDate()+(ie.w+6)%7):(se=D3(j1(ie.y,0,1)),ue=se.getDay(),se=ue>4||ue===0?rC.ceil(se):rC(se),se=Xv.offset(se,(ie.V-1)*7),ie.y=se.getFullYear(),ie.m=se.getMonth(),ie.d=se.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ue="Z"in ie?F3(j1(ie.y,0,1)).getUTCDay():D3(j1(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ue+5)%7:ie.w+ie.U*7-(ue+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,F3(ie)):D3(ie)}}function E(K,Y,le,ie){for(var re=0,se=Y.length,ue=le.length,we,Pe;re<se;){if(ie>=ue)return-1;if(we=Y.charCodeAt(re++),we===37){if(we=Y.charAt(re++),Pe=P[we in w9?Y.charAt(re++):we],!Pe||(ie=Pe(K,le,ie))<0)return-1}else if(we!=le.charCodeAt(ie++))return-1}return ie}function I(K,Y,le){var ie=c.exec(Y.slice(le));return ie?(K.p=u.get(ie[0].toLowerCase()),le+ie[0].length):-1}function R(K,Y,le){var ie=f.exec(Y.slice(le));return ie?(K.w=p.get(ie[0].toLowerCase()),le+ie[0].length):-1}function F(K,Y,le){var ie=d.exec(Y.slice(le));return ie?(K.w=h.get(ie[0].toLowerCase()),le+ie[0].length):-1}function B(K,Y,le){var ie=S.exec(Y.slice(le));return ie?(K.m=w.get(ie[0].toLowerCase()),le+ie[0].length):-1}function D(K,Y,le){var ie=m.exec(Y.slice(le));return ie?(K.m=y.get(ie[0].toLowerCase()),le+ie[0].length):-1}function A(K,Y,le){return E(K,e,Y,le)}function N(K,Y,le){return E(K,n,Y,le)}function L(K,Y,le){return E(K,r,Y,le)}function H(K){return o[K.getDay()]}function O(K){return s[K.getDay()]}function G(K){return l[K.getMonth()]}function j(K){return a[K.getMonth()]}function J(K){return i[+(K.getHours()>=12)]}function Z(K){return 1+~~(K.getMonth()/3)}function ae(K){return o[K.getUTCDay()]}function z(K){return s[K.getUTCDay()]}function $(K){return l[K.getUTCMonth()]}function W(K){return a[K.getUTCMonth()]}function oe(K){return i[+(K.getUTCHours()>=12)]}function X(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Y=T(K+="",v);return Y.toString=function(){return K},Y},parse:function(K){var Y=_(K+="",!1);return Y.toString=function(){return K},Y},utcFormat:function(K){var Y=T(K+="",k);return Y.toString=function(){return K},Y},utcParse:function(K){var Y=_(K+="",!0);return Y.toString=function(){return K},Y}}}var w9={"-":"",_:" ",0:"0"},ro=/^\s*\d+/,pAe=/^%/,gAe=/[\\^$*+?|[\]().{}]/g;function Br(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function mAe(t){return t.replace(gAe,"\\$&")}function Y1(t){return new RegExp("^(?:"+t.map(mAe).join("|")+")","i")}function X1(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yAe(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bAe(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vAe(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wAe(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xAe(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function x9(t,e,n){var r=ro.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function S9(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CAe(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kAe(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function C9(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function TAe(t,e,n){var r=ro.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function k9(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function PAe(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _Ae(t,e,n){var r=ro.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function MAe(t,e,n){var r=ro.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function EAe(t,e,n){var r=ro.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BAe(t,e,n){var r=pAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function NAe(t,e,n){var r=ro.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function IAe(t,e,n){var r=ro.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function T9(t,e){return Br(t.getDate(),e,2)}function AAe(t,e){return Br(t.getHours(),e,2)}function RAe(t,e){return Br(t.getHours()%12||12,e,2)}function LAe(t,e){return Br(1+Xv.count(Ed(t),t),e,3)}function bX(t,e){return Br(t.getMilliseconds(),e,3)}function DAe(t,e){return bX(t,e)+"000"}function FAe(t,e){return Br(t.getMonth()+1,e,2)}function OAe(t,e){return Br(t.getMinutes(),e,2)}function $Ae(t,e){return Br(t.getSeconds(),e,2)}function HAe(t){var e=t.getDay();return e===0?7:e}function VAe(t,e){return Br(gT.count(Ed(t)-1,t),e,2)}function vX(t){var e=t.getDay();return e>=4||e===0?mm(t):mm.ceil(t)}function zAe(t,e){return t=vX(t),Br(mm.count(Ed(t),t)+(Ed(t).getDay()===4),e,2)}function WAe(t){return t.getDay()}function GAe(t,e){return Br(rC.count(Ed(t)-1,t),e,2)}function UAe(t,e){return Br(t.getFullYear()%100,e,2)}function jAe(t,e){return t=vX(t),Br(t.getFullYear()%100,e,2)}function YAe(t,e){return Br(t.getFullYear()%1e4,e,4)}function XAe(t,e){var n=t.getDay();return t=n>=4||n===0?mm(t):mm.ceil(t),Br(t.getFullYear()%1e4,e,4)}function qAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Br(e/60|0,"0",2)+Br(e%60,"0",2)}function P9(t,e){return Br(t.getUTCDate(),e,2)}function KAe(t,e){return Br(t.getUTCHours(),e,2)}function QAe(t,e){return Br(t.getUTCHours()%12||12,e,2)}function JAe(t,e){return Br(1+pT.count(Bd(t),t),e,3)}function wX(t,e){return Br(t.getUTCMilliseconds(),e,3)}function ZAe(t,e){return wX(t,e)+"000"}function eRe(t,e){return Br(t.getUTCMonth()+1,e,2)}function tRe(t,e){return Br(t.getUTCMinutes(),e,2)}function nRe(t,e){return Br(t.getUTCSeconds(),e,2)}function rRe(t){var e=t.getUTCDay();return e===0?7:e}function iRe(t,e){return Br(mT.count(Bd(t)-1,t),e,2)}function xX(t){var e=t.getUTCDay();return e>=4||e===0?ym(t):ym.ceil(t)}function sRe(t,e){return t=xX(t),Br(ym.count(Bd(t),t)+(Bd(t).getUTCDay()===4),e,2)}function oRe(t){return t.getUTCDay()}function aRe(t,e){return Br(iC.count(Bd(t)-1,t),e,2)}function lRe(t,e){return Br(t.getUTCFullYear()%100,e,2)}function cRe(t,e){return t=xX(t),Br(t.getUTCFullYear()%100,e,2)}function uRe(t,e){return Br(t.getUTCFullYear()%1e4,e,4)}function dRe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ym(t):ym.ceil(t),Br(t.getUTCFullYear()%1e4,e,4)}function hRe(){return"+0000"}function _9(){return"%"}function M9(t){return+t}function E9(t){return Math.floor(+t/1e3)}var B0,SX,CX;fRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fRe(t){return B0=fAe(t),SX=B0.format,B0.parse,CX=B0.utcFormat,B0.utcParse,B0}function pRe(t){return new Date(t)}function gRe(t){return t instanceof Date?+t:+new Date(+t)}function t4(t,e,n,r,i,s,o,a,l,c){var u=cX(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),S=c("%a %d"),w=c("%b %d"),v=c("%B"),k=c("%Y");function P(T){return(l(T)<T?f:a(T)<T?p:o(T)<T?m:s(T)<T?y:r(T)<T?i(T)<T?S:w:n(T)<T?v:k)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?h(Array.from(T,gRe)):h().map(pRe)},u.ticks=function(T){var _=h();return t(_[0],_[_.length-1],T??10)},u.tickFormat=function(T,_){return _==null?P:c(_)},u.nice=function(T){var _=h();return(!T||typeof T.range!="function")&&(T=e(_[0],_[_.length-1],T??10)),T?h(fX(_,T)):u},u.copy=function(){return fT(u,t4(t,e,n,r,i,s,o,a,l,c))},u}function kX(){return af.apply(t4(dAe,hAe,Ed,ZI,gT,Xv,QI,qI,ip,SX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mRe(){return af.apply(t4(cAe,uAe,Bd,e4,mT,pT,JI,KI,ip,CX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yRe(){var t=0,e=1,n,r,i,s,o=Ll,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var f,p;return arguments.length?([f,p]=h,o=d(f,p),c):[o(0),o(1)]}}return c.range=u(hT),c.rangeRound=u(lX),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function bRe(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TX(){var t=jI(yRe()(Ll));return t.copy=function(){return bRe(t,TX())},i6e.apply(t,arguments)}function vRe(t){return t.type==="piecewise"?gX(t.thresholds,t.colors):TX([t.min??0,t.max??100],t.color)}function sC(t){return t.values?J2(t.values,t.colors).unknown(t.unknownColor??null):J2(t.colors.map((e,n)=>n),t.colors).unknown(t.unknownColor??null)}function AS(t){return t.type==="ordinal"?sC(t):vRe(t)}const n4=b.createContext({zAxis:{},zAxisIds:[]});function wRe(t){const{zAxis:e,dataset:n,children:r}=t,i=b.useMemo(()=>e==null?void 0:e.map(o=>{const a=o.dataKey;if(a===void 0||o.data!==void 0)return o;if(n===void 0)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return Ze({},o,{data:n.map(l=>l[a])})}),[e,n]),s=b.useMemo(()=>{const o=(i==null?void 0:i.map((l,c)=>Ze({id:`defaultized-z-axis-${c}`},l)))??[],a={};return o.forEach(l=>{a[l.id]=Ze({},l,{colorScale:l.colorMap&&(l.colorMap.type==="ordinal"&&l.data?sC(Ze({values:l.data},l.colorMap)):AS(l.colorMap.type==="continuous"?Ze({min:l.min,max:l.max},l.colorMap):l.colorMap))})}),{zAxis:a,zAxisIds:o.map(({id:l})=>l)}},[i]);return C.jsx(n4.Provider,{value:s,children:r})}let B9=0;function xRe(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(B9+=1,n(`mui-${B9}`))},[e]),r}const N9=Wh.useId;function PX(t){if(N9!==void 0){const e=N9();return t??e}return xRe(t)}const SRe=(t,e,n)=>{const r=Ze({},$Ie,n);return b.useMemo(()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,t-r.left-r.right),height:Math.max(0,e-r.top-r.bottom)}),[t,e,r.top,r.bottom,r.left,r.right])},yT=b.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),_X=b.createContext({isInitialized:!1,data:{current:null}});function CRe(t){const{width:e,height:n,margin:r,svgRef:i,children:s}=t,o=SRe(e,n,r),a=PX(),l=b.useCallback(({x:d,y:h},f)=>{if(f!=null&&f.targetElement&&(f!=null&&f.targetElement.closest("[data-drawing-container]")))return!0;const p=d>=o.left-1&&d<=o.left+o.width,m=h>=o.top-1&&h<=o.top+o.height;return(f==null?void 0:f.direction)==="x"?p:((f==null?void 0:f.direction)==="y"||p)&&m},[o]),c=b.useMemo(()=>Ze({chartId:a??""},o,{isPointInside:l}),[a,o,l]),u=b.useMemo(()=>({isInitialized:!0,data:i}),[i]);return C.jsx(_X.Provider,{value:u,children:C.jsx(yT.Provider,{value:c,children:s})})}function jc(){const{left:t,top:e,width:n,height:r,bottom:i,right:s,isPointInside:o}=b.useContext(yT);return b.useMemo(()=>({left:t,top:e,width:n,height:r,bottom:i,right:s,isPointInside:o}),[r,t,e,n,i,s,o])}function kRe(){const{chartId:t}=b.useContext(yT);return b.useMemo(()=>t,[t])}function Ap(t){return t.bandwidth!==void 0}function f5(t){return t.scaleType==="band"}function MX(t){return t.scaleType==="point"}function r4(t){return typeof t=="number"&&!Number.isFinite(t)}function TRe(t){const{tickMaxStep:e,tickMinStep:n,tickNumber:r,range:i,domain:s}=t,o=n===void 0?999:Math.floor(Math.abs(s[1]-s[0])/n),a=e===void 0?2:Math.ceil(Math.abs(s[1]-s[0])/e),l=r??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(o,Math.max(a,l))}const O3={start:0,extremities:0,end:1,middle:.5};function oC(t){const{scale:e,tickNumber:n,valueFormatter:r,tickInterval:i,tickPlacement:s="extremities",tickLabelPlacement:o="middle"}=t;return b.useMemo(()=>{if(Ap(e)){const c=e.domain();return e.bandwidth()>0?[...(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(h=>({value:h,formattedValue:(r==null?void 0:r(h,{location:"tick"}))??`${h}`,offset:e(h)-(e.step()-e.bandwidth())/2+O3[s]*e.step(),labelOffset:o==="tick"?0:e.step()*(O3[o]-O3[s])})),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof i=="function"&&c.filter(i)||typeof i=="object"&&i||c).map(d=>({value:d,formattedValue:(r==null?void 0:r(d,{location:"tick"}))??`${d}`,offset:e(d),labelOffset:0}))}return e.domain().some(r4)?[]:(typeof i=="object"?i:e.ticks(n)).map(c=>({value:c,formattedValue:(r==null?void 0:r(c,{location:"tick"}))??e.tickFormat(n)(c),offset:e(c),labelOffset:0}))},[e,i,n,r,s,o])}function PRe(t,e,n){switch(t){case"log":return pX(e,n);case"pow":return YI(e,n);case"sqrt":return eAe(e,n);case"time":return kX(e,n);case"utc":return mRe(e,n);default:return hX(e,n)}}const $3=(t,e)=>{const n=t[1]-t[0],r=e[1]-e[0],i=t[0]-e[0]*n/r,s=t[1]+(100-e[1])*n/r;return[i,s]},_Re=(t,e,n,r,i,s,o)=>{var f;const a=r[e],l=((f=s[e])==null?void 0:f.series)??{},[c,u]=(a==null?void 0:a({series:l,axis:n,isDefaultAxis:i,getFilters:o}))??[1/0,-1/0],[d,h]=t;return[Math.min(c,d),Math.max(u,h)]},MRe=(t,e,n,r,i)=>{const o=Object.keys(e).reduce((a,l)=>_Re(a,l,t,e,n,r,i),[1/0,-1/0]);return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o},ERe=(t,e,n)=>{const r=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return n?r.reverse():r},I9=t=>(t==null?void 0:t[0])instanceof Date;function A9(t,e){const n=kX(t.data,e);return(r,{location:i})=>i==="tick"?n.tickFormat(t.tickNumber)(r):`${r.toLocaleString()}`}const BRe=.2,NRe=.1;function R9({drawingArea:t,formattedSeries:e,axis:n,extremumGetters:r,axisDirection:i,zoomData:s,zoomOptions:o,getFilters:a}){const l={};return n.forEach((c,u)=>{const d=c,h=u===0,f=o==null?void 0:o[d.id],p=s==null?void 0:s.find(({axisId:D})=>D===d.id),m=p?[p.start,p.end]:[0,100],y=ERe(t,i,d.reverse),[S,w]=MRe(d,r,h,e,p===void 0&&!f?a:void 0),v=d.data??[];if(f5(d)){const D=d.categoryGapRatio??BRe,A=d.barGapRatio??NRe,N=i==="x"?y:[y[1],y[0]],L=$3(N,m);if(l[d.id]=Ze({categoryGapRatio:D,barGapRatio:A},d,{data:v,scale:HI(d.data,L).paddingInner(D).paddingOuter(D/2),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?sC(Ze({values:d.data},d.colorMap)):AS(d.colorMap))}),I9(d.data)){const H=A9(d,N);l[d.id].valueFormatter=d.valueFormatter??H}}if(MX(d)){const D=i==="x"?y:[...y].reverse(),A=$3(D,m);if(l[d.id]=Ze({},d,{data:v,scale:s6e(d.data,A),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?sC(Ze({values:d.data},d.colorMap)):AS(d.colorMap))}),I9(d.data)){const N=A9(d,D);l[d.id].valueFormatter=d.valueFormatter??N}}if(d.scaleType==="band"||d.scaleType==="point")return;const k=d.scaleType??"linear",P=[d.min??S,d.max??w],T=TRe(Ze({},d,{range:y,domain:P})),_=T/((m[1]-m[0])/100),E=$3(y,m),I=PRe(k,P,E).nice(T),[R,F]=I.domain(),B=[d.min??R,d.max??F];l[d.id]=Ze({},d,{data:v,scaleType:k,scale:I.domain(B),tickNumber:_,colorScale:d.colorMap&&AS(d.colorMap)})}),{axis:l,axisIds:n.map(({id:c})=>c)}}const EX=b.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function IRe(t){const{xAxis:e,yAxis:n,children:r}=t,i=of(),s=jc(),o=H4e(),a=V4e(),l=b.useMemo(()=>R9({drawingArea:s,formattedSeries:i,axis:e,extremumGetters:o,axisDirection:"x"}),[s,i,e,o]),c=b.useMemo(()=>R9({drawingArea:s,formattedSeries:i,axis:n,extremumGetters:a,axisDirection:"y"}),[s,i,n,a]),u=b.useMemo(()=>({isInitialized:!0,data:{xAxis:l.axis,yAxis:c.axis,xAxisIds:l.axisIds,yAxisIds:c.axisIds}}),[l,c]);return C.jsx(EX.Provider,{value:u,children:r})}const Yc=()=>{const{data:t}=b.useContext(EX);return t};function L9(t){return Ap(t)?e=>(t(e)??0)+t.bandwidth()/2:e=>t(e)}function i4(){const{isInitialized:t,data:e}=b.useContext(_X);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function ARe(t){const{id:e,offset:n}=t,{left:r,top:i,width:s,height:o}=jc(),a=Ze({top:0,right:0,bottom:0,left:0},n);return C.jsx("clipPath",{id:e,children:C.jsx("rect",{x:r-a.left,y:i-a.top,width:s+a.left+a.right,height:o+a.top+a.bottom})})}function lf(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const D9=t=>t,RRe=()=>{let t=D9;return{configure(e){t=e},generate(e){return t(e)},reset(){t=D9}}},LRe=RRe(),DRe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function cf(t,e,n="Mui"){const r=DRe[e];return r?`${n}-${r}`:`${LRe.generate(t)}-${e}`}function Jp(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=cf(t,i,n)}),r}function FRe(){return typeof window>"u"}const Nf={widthCache:{},cacheCount:0},ORe=2e3,$Re={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HRe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],F9="mui_measurement_span";function BX(t,e){return HRe.indexOf(t)>=0&&e===+e?`${e}px`:e}function NX(t){return t.split("").reduce((r,i)=>i===i.toUpperCase()?[...r,"-",i.toLowerCase()]:[...r,i],[]).join("")}const VRe=t=>Object.keys(t).sort().reduce((e,n)=>`${e}${NX(n)}:${BX(n,t[n])};`,"");let H3;const zRe=(t,e={})=>{if(t==null||FRe())return{width:0,height:0};const n=`${t}`,r=VRe(e),i=`${n}-${r}`;if(Nf.widthCache[i])return Nf.widthCache[i];try{let s=document.getElementById(F9);s===null&&(s=document.createElement("span"),s.setAttribute("id",F9),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const o=Ze({},$Re,e);Object.keys(o).map(c=>(s.style[NX(c)]=BX(c,o[c]),c)),s.textContent=n;const a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Nf.widthCache[i]=l,Nf.cacheCount+1>ORe?(Nf.cacheCount=0,Nf.widthCache={}):Nf.cacheCount+=1,H3&&clearTimeout(H3),H3=setTimeout(()=>{s.textContent=""},0),l}catch{return{width:0,height:0}}};function s4({style:t,needsComputation:e,text:n}){return n.split(`
`).map(r=>Ze({text:r},e?zRe(r,t):{width:0,height:0}))}const WRe=["x","y","style","text","ownerState"],GRe=["angle","textAnchor","dominantBaseline"];function Jb(t){const{x:e,y:n,style:r,text:i}=t,s=Ji(t,WRe),o=r??{},{angle:a,textAnchor:l,dominantBaseline:c}=o,u=Ji(o,GRe),d=b.useMemo(()=>s4({style:u,needsComputation:i.includes(`
`),text:i}),[u,i]);let h;switch(c){case"hanging":h=0;break;case"central":h=(d.length-1)/2*-d[0].height;break;default:h=(d.length-1)*-d[0].height;break}const f=[];return a&&f.push(`rotate(${a}, ${e}, ${n})`),C.jsx("text",Ze({},s,{transform:f.length>0?f.join(" "):void 0,x:e,y:n,textAnchor:l,dominantBaseline:c,style:u,children:d.map((p,m)=>C.jsx("tspan",{x:e,dy:`${m===0?h:d[0].height}px`,dominantBaseline:c,children:p.text},m))}))}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}function URe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jRe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function IX(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{jRe(n,e)})},t)}function YRe(t){return typeof t=="string"}function XRe(t,e,n){return t===void 0||YRe(t)?e:Pc({},e,{ownerState:Pc({},e.ownerState,n)})}function qRe(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function O9(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function KRe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Ae(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=Pc({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=Pc({},n,i,r);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=qRe(Pc({},i,r)),a=O9(r),l=O9(i),c=e(o),u=Ae(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=Pc({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=Pc({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function QRe(t,e,n){return typeof t=="function"?t(e,n):t}const JRe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Dc(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=URe(t,JRe),a=s?{}:QRe(r,i),{props:l,internalRef:c}=KRe(Pc({},o,{externalSlotProps:a})),u=IX(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return XRe(n,Pc({},l,{ref:u}),i)}function ZRe(t){return t&&t.ownerDocument||document}function eLe(t){return ZRe(t).defaultView||window}const AX=typeof window<"u"?b.useLayoutEffect:b.useEffect;function RX(t){return cf("MuiChartsAxis",t)}const zx=Jp("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),LX=be("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${zx.tickLabel}`]:Ze({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${zx.label}`]:Ze({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${zx.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${zx.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),$9=5;function tLe(t,e,n=0){const r=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(r<$9)return t;if(r>90-$9)return e;const i=r*Math.PI/180,s=Math.atan2(e,t);return i<s?t/Math.cos(i):e/Math.sin(i)}function nLe(t=!1){const[e,n]=b.useState(!1);return AX(()=>{t||n(!0)},[t]),b.useEffect(()=>{t&&n(!0)},[t]),e}const rLe=["scale","tickNumber","reverse"],iLe=t=>{const{classes:e,position:n}=t;return lf({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},RX,e)};function sLe(t,{tickLabelStyle:e,tickLabelInterval:n,reverse:r,isMounted:i}){const s=t.map(c=>{if(!i||c.formattedValue===void 0)return Ze({},c,{width:0,height:0});const u=s4({style:e,needsComputation:!0,text:c.formattedValue});return Ze({},c,{width:Math.max(...u.map(d=>d.width)),height:Math.max(u.length*u[0].height)})});if(typeof n=="function")return s.map((c,u)=>Ze({},c,{skipLabel:!n(c.value,u)}));let o=0,a=0;const l=r?-1:1;return s.map((c,u)=>{const{width:d,offset:h,labelOffset:f,height:p}=c,m=tLe(d,p,e==null?void 0:e.angle),y=h+f,S=1.2;return o=y-l*(S*m)/2,u>0&&l*o<l*a?Ze({},c,{skipLabel:!0}):(a=y+l*(S*m)/2,c)})}const oLe={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function H9(t){const{xAxisIds:e,xAxis:n}=Yc(),r=n[t.axisId??e[0]],{scale:i,tickNumber:s,reverse:o}=r,a=Ji(r,rLe),l=nLe(),c=ft({props:Ze({},a,t),name:"MuiChartsXAxis"}),u=Ze({},oLe,c),{position:d,disableLine:h,disableTicks:f,tickLabelStyle:p,label:m,labelStyle:y,tickFontSize:S,labelFontSize:w,tickSize:v,valueFormatter:k,slots:P,slotProps:T,tickInterval:_,tickLabelInterval:E,tickPlacement:I,tickLabelPlacement:R,sx:F}=u,B=_a(),D=iLe(Ze({},u,{theme:B})),{left:A,top:N,width:L,height:H,isPointInside:O}=jc(),G=f?4:v,j=d==="bottom"?1:-1,J=(P==null?void 0:P.axisLine)??"line",Z=(P==null?void 0:P.axisTick)??"line",ae=(P==null?void 0:P.axisTickLabel)??Jb,z=(P==null?void 0:P.axisLabel)??Jb,$=Dc({elementType:ae,externalSlotProps:T==null?void 0:T.axisTickLabel,additionalProps:{style:Ze({textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto",fontSize:S??12},p)},className:D.tickLabel,ownerState:{}}),W=oC({scale:i,tickNumber:s,valueFormatter:k,tickInterval:_,tickPlacement:I,tickLabelPlacement:R}),oe=sLe(W,{tickLabelStyle:$.style,tickLabelInterval:E,reverse:o,isMounted:l}),X={x:A+L/2,y:j*(G+22)},K=Dc({elementType:z,externalSlotProps:T==null?void 0:T.axisLabel,additionalProps:{style:Ze({fontSize:w??14,textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto"},y)},ownerState:{}}),Y=i.domain(),le=Ap(i);return le&&Y.length===0||!le&&Y.some(r4)?null:C.jsxs(LX,{transform:`translate(0, ${d==="bottom"?N+H:N})`,className:D.root,sx:F,children:[!h&&C.jsx(J,Ze({x1:A,x2:A+L,className:D.line},T==null?void 0:T.axisLine)),oe.map(({formattedValue:ie,offset:re,labelOffset:se,skipLabel:ue},we)=>{const Pe=se??0,te=j*(G+3),pe=O({x:re,y:-1},{direction:"x"}),ge=O({x:re+Pe,y:-1},{direction:"x"});return C.jsxs("g",{transform:`translate(${re}, 0)`,className:D.tickContainer,children:[!f&&pe&&C.jsx(Z,Ze({y2:j*G,className:D.tick},T==null?void 0:T.axisTick)),ie!==void 0&&!ue&&ge&&C.jsx(ae,Ze({x:Pe,y:te},$,{text:ie.toString()}))]},we)}),m&&C.jsx("g",{className:D.label,children:C.jsx(z,Ze({},X,K,{text:m}))})]})}const aLe=["scale","tickNumber"],lLe=t=>{const{classes:e,position:n}=t;return lf({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},RX,e)},cLe={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function V9(t){const{yAxisIds:e,yAxis:n}=Yc(),r=n[t.axisId??e[0]],{scale:i,tickNumber:s}=r,o=Ji(r,aLe),a=ft({props:Ze({},o,t),name:"MuiChartsYAxis"}),l=Ze({},cLe,a),{position:c,disableLine:u,disableTicks:d,tickFontSize:h,label:f,labelFontSize:p,labelStyle:m,tickLabelStyle:y,tickSize:S,valueFormatter:w,slots:v,slotProps:k,tickPlacement:P,tickLabelPlacement:T,tickInterval:_,tickLabelInterval:E,sx:I}=l,R=_a(),F=Vr(),B=lLe(Ze({},l,{theme:R})),{left:D,top:A,width:N,height:L,isPointInside:H}=jc(),O=d?4:S,G=oC({scale:i,tickNumber:s,valueFormatter:w,tickPlacement:P,tickLabelPlacement:T,tickInterval:_}),j=c==="right"?1:-1,J={x:j*(h+O+10),y:A+L/2},Z=(v==null?void 0:v.axisLine)??"line",ae=(v==null?void 0:v.axisTick)??"line",z=(v==null?void 0:v.axisTickLabel)??Jb,$=(v==null?void 0:v.axisLabel)??Jb,W=!F&&c==="right"||F&&c!=="right",oe=Dc({elementType:z,externalSlotProps:k==null?void 0:k.axisTickLabel,additionalProps:{style:Ze({fontSize:h,textAnchor:W?"start":"end",dominantBaseline:"central"},y)},className:B.tickLabel,ownerState:{}}),X=Dc({elementType:$,externalSlotProps:k==null?void 0:k.axisLabel,additionalProps:{style:Ze({fontSize:p,angle:j*90,textAnchor:"middle",dominantBaseline:"auto"},m)},ownerState:{}}),K=Dc({elementType:Z,externalSlotProps:k==null?void 0:k.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),Y=i.domain(),le=Ap(i);return le&&Y.length===0||!le&&Y.some(r4)?null:C.jsxs(LX,{transform:`translate(${c==="right"?D+N:D}, 0)`,className:B.root,sx:I,children:[!u&&C.jsx(Z,Ze({y1:A,y2:A+L,className:B.line},K)),G.map(({formattedValue:ie,offset:re,labelOffset:se,value:ue},we)=>{const Pe=j*(O+2),te=se,pe=typeof E=="function"&&!(E!=null&&E(ue,we));return H({x:-1,y:re},{direction:"y"})?C.jsxs("g",{transform:`translate(0, ${re})`,className:B.tickContainer,children:[!d&&C.jsx(ae,Ze({x2:j*O,className:B.tick},k==null?void 0:k.axisTick)),ie!==void 0&&!pe&&C.jsx(z,Ze({x:Pe,y:te,text:ie.toString()},oe))]},we):null}),f&&C.jsx("g",{className:B.label,children:C.jsx($,Ze({},J,X,{text:f}))})]})}const Wx=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,Gx=(t,e,n)=>typeof t=="object"?Ze({},t,{slots:Ze({},e,t==null?void 0:t.slots),slotProps:Ze({},n,t==null?void 0:t.slotProps)}):{slots:e,slotProps:n};function uLe(t){const{topAxis:e,leftAxis:n,rightAxis:r,bottomAxis:i,slots:s,slotProps:o}=t,{xAxis:a,xAxisIds:l,yAxis:c,yAxisIds:u}=Yc(),d=Wx(n===void 0?u[0]:n,u[0]),h=Wx(i===void 0?l[0]:i,l[0]),f=Wx(e,l[0]),p=Wx(r,u[0]);if(f!==null&&!a[f])throw Error([`MUI X: id used for top axis "${f}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(d!==null&&!c[d])throw Error([`MUI X: id used for left axis "${d}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(p!==null&&!c[p])throw Error([`MUI X: id used for right axis "${p}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(h!==null&&!a[h])throw Error([`MUI X: id used for bottom axis "${h}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const m=Gx(e,s,o),y=Gx(i,s,o),S=Gx(n,s,o),w=Gx(r,s,o);return C.jsxs(b.Fragment,{children:[f&&C.jsx(H9,Ze({},m,{position:"top",axisId:f})),h&&C.jsx(H9,Ze({},y,{position:"bottom",axisId:h})),d&&C.jsx(V9,Ze({},S,{position:"left",axisId:d})),p&&C.jsx(V9,Ze({},w,{position:"right",axisId:p}))]})}function dLe(t){return cf("MuiChartsGrid",t)}const z9=Jp("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),hLe=["vertical","horizontal"],fLe=be("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${z9.verticalLine}`]:e.verticalLine},{[`&.${z9.horizontalLine}`]:e.horizontalLine},e.root]})({}),W9=be("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(t,e)=>e.line})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1})),pLe=({classes:t})=>lf({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},dLe,t);function gLe(t){const e=ft({props:t,name:"MuiChartsGrid"}),n=jc(),{vertical:r,horizontal:i}=e,s=Ji(e,hLe),{xAxis:o,xAxisIds:a,yAxis:l,yAxisIds:c}=Yc(),u=pLe(e),d=c[0],h=a[0],{scale:f,tickNumber:p,tickInterval:m}=o[h],{scale:y,tickNumber:S,tickInterval:w}=l[d],v=oC({scale:f,tickNumber:p,tickInterval:m}),k=oC({scale:y,tickNumber:S,tickInterval:w});return C.jsxs(fLe,Ze({},s,{className:u.root,children:[r&&v.map(({formattedValue:P,offset:T})=>C.jsx(W9,{y1:n.top,y2:n.top+n.height,x1:T,x2:T,className:u.verticalLine},`vertical-${P}`)),i&&k.map(({formattedValue:P,offset:T})=>C.jsx(W9,{y1:T,y2:T,x1:n.left,x2:n.left+n.width,className:u.horizontalLine},`horizontal-${P}`))]}))}const Vm=b.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),mLe=(t,e)=>{switch(e.type){case"enterItem":return Ze({},t,{item:e.data});case"exitChart":return t.item===null&&t.axis.x===null&&t.axis.y===null?t:Ze({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return Ze({},t,{useVoronoiInteraction:e.useVoronoiInteraction});case"leaveItem":return t.item===null||Object.keys(e.data).some(n=>e.data[n]!==t.item[n])?t:Ze({},t,{item:null});case"updateAxis":return e.data.x===t.axis.x&&e.data.y===t.axis.y?t:Ze({},t,{axis:e.data});default:return t}};function yLe(t){const{children:e}=t,[n,r]=b.useReducer(mLe,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=b.useMemo(()=>Ze({},n,{dispatch:r}),[n]);return C.jsx(Vm.Provider,{value:i,children:e})}function bLe(t){if(t===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:e,y:n}=t,r={width:0,height:0,x:e,y:n,top:n,right:e,bottom:n,left:e};return{getBoundingClientRect:()=>Ze({},r,{toJSON:()=>JSON.stringify(r)})}}function vLe(){const t=i4(),[e,n]=b.useState(null);return b.useEffect(()=>{const r=t.current;if(r===null)return()=>{};const i=o=>{o.pointerType!=="mouse"&&n(null)},s=o=>{n({x:o.clientX,y:o.clientY,height:o.height,pointerType:o.pointerType})};return r.addEventListener("pointerdown",s),r.addEventListener("pointermove",s),r.addEventListener("pointerup",i),()=>{r.removeEventListener("pointerdown",s),r.removeEventListener("pointermove",s),r.removeEventListener("pointerup",i)}},[t]),e}function wLe(t,e){if(t==="item")return e!==null;const n=e.x!==null,r=e.y!==null;return n||r}function xLe(t){return t instanceof Date?t.toUTCString():t.toLocaleString()}function SLe(t){return cf("MuiChartsTooltip",t)}const G9=Jp("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),DX=be("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius})),FX=be("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:t})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(t.vars||t).palette.divider} 1px`}})),p5=be("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:t})=>({"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}})),sp=be("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:t})=>({verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,[`&.${G9.labelCell}`]:{paddingLeft:t.spacing(1)},[`&.${G9.valueCell}`]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}})),OX=be("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:t=>Ny(t)&&t!=="color"})(({theme:t,color:e})=>({width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:e,borderColor:(t.vars||t).palette.background.paper,border:`solid ${(t.vars||t).palette.background.paper} ${t.spacing(.25)}`,boxSizing:"content-box"}));function CLe(t){var u;const{series:e,itemData:n,sx:r,classes:i,getColor:s}=t;if(n.dataIndex===void 0||!e.data[n.dataIndex])return null;const{displayedLabel:o,color:a}=e.type==="pie"?{color:s(n.dataIndex),displayedLabel:gd(e.data[n.dataIndex].label,"tooltip")}:{color:s(n.dataIndex),displayedLabel:gd(e.label,"tooltip")},l=e.type==="pie"?Ze({},e.data[n.dataIndex],{label:gd(e.data[n.dataIndex].label,"tooltip")}):e.data[n.dataIndex],c=(u=e.valueFormatter)==null?void 0:u.call(e,l,{dataIndex:n.dataIndex});return C.jsx(DX,{sx:r,className:i.root,children:C.jsx(FX,{className:i.table,children:C.jsx("tbody",{children:C.jsxs(p5,{className:i.row,children:[C.jsx(sp,{className:Ae(i.markCell,i.cell),children:C.jsx(OX,{color:a,className:i.mark})}),C.jsx(sp,{className:Ae(i.labelCell,i.cell),children:o}),C.jsx(sp,{className:Ae(i.valueCell,i.cell),children:c})]})})})})}function kLe(t){var k;const{content:e,itemData:n,sx:r,classes:i,contentProps:s}=t,o=of()[n.type].series[n.seriesId],{xAxis:a,yAxis:l,xAxisIds:c,yAxisIds:u}=Yc(),{zAxis:d,zAxisIds:h}=b.useContext(n4),f=ZY(),p=o.xAxisId??o.xAxisKey??c[0],m=o.yAxisId??o.yAxisKey??u[0],y=o.zAxisId??o.zAxisKey??h[0],S=((k=f[o.type])==null?void 0:k.call(f,o,p&&a[p],m&&l[m],y&&d[y]))??(()=>""),w=e??CLe,v=Dc({elementType:w,externalSlotProps:s,additionalProps:{itemData:n,series:o,sx:r,classes:i,getColor:S},ownerState:{}});return C.jsx(w,Ze({},v))}let U9;class TLe{constructor(){if(this.types=new Set,U9)throw new Error("You can only create one instance!");U9=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const bT=new TLe;bT.addType("bar");bT.addType("line");bT.addType("scatter");function $X(t){return bT.getTypes().has(t)}function PLe(t){return $X(t.type)}function _Le(t){const{series:e,axis:n,dataIndex:r,axisValue:i,sx:s,classes:o}=t;if(r==null)return null;const a=n.valueFormatter??(l=>n.scaleType==="utc"?xLe(l):l.toLocaleString());return C.jsx(DX,{sx:s,className:o.root,children:C.jsxs(FX,{className:o.table,children:[i!=null&&!n.hideTooltip&&C.jsx("thead",{children:C.jsx(p5,{children:C.jsx(sp,{colSpan:3,children:C.jsx(Tr,{children:a(i,{location:"tooltip"})})})})}),C.jsx("tbody",{children:e.filter(PLe).map(({id:l,label:c,valueFormatter:u,data:d,getColor:h})=>{const f=u(d[r]??null,{dataIndex:r});if(f==null)return null;const p=gd(c,"tooltip"),m=h(r);return C.jsxs(p5,{className:o.row,children:[C.jsx(sp,{className:Ae(o.markCell,o.cell),children:m&&C.jsx(OX,{color:m,className:o.mark})}),C.jsx(sp,{className:Ae(o.labelCell,o.cell),children:p?C.jsx(Tr,{children:p}):null}),C.jsx(sp,{className:Ae(o.valueCell,o.cell),children:C.jsx(Tr,{children:f})})]},l)})})]})})}function MLe(t){const{content:e,contentProps:n,axisData:r,sx:i,classes:s}=t,o=r.x&&r.x.index!==-1,a=o?r.x&&r.x.index:r.y&&r.y.index,l=o?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=Yc(),{zAxisIds:f,zAxis:p}=b.useContext(n4),m=of(),y=ZY(),S=o?c[0]:d[0],w=b.useMemo(()=>{const T=[];return Object.keys(m).filter($X).forEach(_=>{m[_].seriesOrder.forEach(E=>{var D;const I=m[_].series[E],R=I.xAxisId??I.xAxisKey,F=I.yAxisId??I.yAxisKey,B=o?R:F;if(B===void 0||B===S){const A=m[_].series[E],N=R??c[0],L=F??d[0],H=A.zAxisId??A.zAxisKey??f[0],O=((D=y[_])==null?void 0:D.call(y,A,u[N],h[L],H&&p[H]))??(()=>"");T.push(Ze({},A,{getColor:O}))}})}),T},[S,y,o,m,u,c,h,d,p,f]),v=b.useMemo(()=>o?u[S]:h[S],[S,o,u,h]),k=e??_Le,P=Dc({elementType:k,externalSlotProps:n,additionalProps:{axisData:r,series:w,axis:v,dataIndex:a,axisValue:l,sx:i,classes:s},ownerState:{}});return C.jsx(k,Ze({},P))}const ELe=t=>{const{classes:e}=t;return lf({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},SLe,e)},BLe=be(Ld,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",zIndex:t.zIndex.modal}));function NLe(t){const e=ft({props:t,name:"MuiChartsTooltip"}),{trigger:n="axis",itemContent:r,axisContent:i,slots:s,slotProps:o}=e,a=vLe(),{item:l,axis:c}=b.useContext(Vm),u=n==="item"?l:c,d=wLe(n,u),h=a!==null&&d,f=ELe({classes:e.classes}),p=(s==null?void 0:s.popper)??BLe,m=Dc({elementType:p,externalSlotProps:o==null?void 0:o.popper,additionalProps:{open:h,placement:(a==null?void 0:a.pointerType)==="mouse"?"right-start":"top",anchorEl:bLe(a),modifiers:[{name:"offset",options:{offset:[0,(a==null?void 0:a.pointerType)==="touch"?40-a.height:0]}}]},ownerState:{}});return n==="none"?null:C.jsx(tG,{children:h&&C.jsx(p,Ze({},m,{children:n==="item"?C.jsx(kLe,{itemData:u,content:(s==null?void 0:s.itemContent)??r,contentProps:o==null?void 0:o.itemContent,sx:{mx:2},classes:f}):C.jsx(MLe,{axisData:u,content:(s==null?void 0:s.axisContent)??i,contentProps:o==null?void 0:o.axisContent,sx:{mx:2},classes:f})}))})}const ILe=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=gd(n[i].label,"legend");return s===void 0||r.push({color:n[i].color,label:s,id:i}),r},[])},ALe=ILe,RLe=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=gd(n[i].label,"legend");return s===void 0||r.push({color:n[i].color,label:s,id:i}),r},[])},LLe=RLe,DLe=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=gd(n[i].label,"legend");return s===void 0||r.push({color:n[i].color,label:s,id:i}),r},[])},FLe=DLe,OLe=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>(n[i].data.forEach(s=>{const o=gd(s.label,"legend");o!==void 0&&r.push({color:s.color,label:o,id:s.id})}),r),[])},$Le=OLe,HLe={bar:ALe,scatter:LLe,line:FLe,pie:$Le};function VLe(t){return Object.keys(t).flatMap(e=>{const n=HLe[e];return n===void 0?[]:n(t[e])})}function zLe(t){return cf("MuiChartsLegend",t)}Jp("MuiChartsLegend",["root","series","mark","label","column","row"]);const WLe=["label"];function GLe(t,e,n,r,i,s,o){let a=0,l=0,c=0,u=0,d=0;const h=[0];return[t.map(p=>{let{label:m}=p,y=Ji(p,WLe);const S=e(m,n),w=Ze({},y,{label:m,positionX:a,positionY:l,innerHeight:S.innerHeight,innerWidth:S.innerWidth,outerHeight:S.outerHeight,outerWidth:S.outerWidth,rowIndex:d});return r==="row"&&(a+S.innerWidth>i&&(a=0,l+=h[d],d+=1,h.length<=d&&h.push(0),w.positionX=a,w.positionY=l,w.rowIndex=d),c=Math.max(c,a+S.outerWidth),u=Math.max(u,l+S.outerHeight),h[d]=Math.max(h[d],S.outerHeight),a+=S.outerWidth),r==="column"&&(l+S.innerHeight>s&&(a=c+o,l=0,d=0,w.positionX=a,w.positionY=l,w.rowIndex=d),h.length<=d&&h.push(0),c=Math.max(c,a+S.outerWidth),u=Math.max(u,l+S.outerHeight),d+=1,l+=S.outerHeight),w}).map(p=>Ze({},p,{positionY:p.positionY+(r==="row"?h[p.rowIndex]/2:p.outerHeight/2)})),c,u]}const ULe=["rotate","dominantBaseline"],jLe=be("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),YLe=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:Ze({left:0,right:0,top:0,bottom:0},t);function XLe(t){const{hidden:e,position:n,direction:r,itemsToDisplay:i,classes:s,itemMarkWidth:o=20,itemMarkHeight:a=20,markGap:l=5,itemGap:c=10,padding:u=10,labelStyle:d}=t,h=_a(),f=Vr(),p=jc(),m=b.useMemo(()=>Ze({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},d),[d,h]),y=b.useMemo(()=>YLe(u),[u]),S=b.useCallback((F,B={})=>{const D=Ji(B,ULe),A=s4({style:D,needsComputation:!0,text:F}),N={innerWidth:o+l+Math.max(...A.map(L=>L.width)),innerHeight:Math.max(a,A.length*A[0].height)};return Ze({},N,{outerWidth:N.innerWidth+c,outerHeight:N.innerHeight+c})},[c,a,o,l]),w=p.left+p.width+p.right,v=p.top+p.height+p.bottom,k=w-y.left-y.right,P=v-y.top-y.bottom,[T,_,E]=b.useMemo(()=>GLe(i,S,m,r,k,P,c),[i,S,m,r,k,P,c]),I=b.useMemo(()=>{switch(n.horizontal){case"left":return y.left;case"right":return w-y.right-_;default:return(w-_)/2}},[n.horizontal,y.left,y.right,w,_]),R=b.useMemo(()=>{switch(n.vertical){case"top":return y.top;case"bottom":return v-y.bottom-E;default:return(v-E)/2}},[n.vertical,y.top,y.bottom,v,E]);return e?null:C.jsx(tG,{children:C.jsx(jLe,{className:s==null?void 0:s.root,children:T.map(({id:F,label:B,color:D,positionX:A,positionY:N})=>C.jsxs("g",{className:s==null?void 0:s.series,transform:`translate(${I+(f?_-A:A)} ${R+N})`,children:[C.jsx("rect",{className:s==null?void 0:s.mark,x:f?-o:0,y:-a/2,width:o,height:a,fill:D}),C.jsx(Jb,{style:m,text:B,x:(f?-1:1)*(o+l),y:0})]},F))})})}const qLe=["drawingArea","seriesToDisplay"];function KLe(t){const{seriesToDisplay:e}=t,n=Ji(t,qLe);return C.jsx(XLe,Ze({},n,{itemsToDisplay:e}))}const QLe=t=>{const{classes:e,direction:n}=t;return lf({root:["root",n],mark:["mark"],label:["label"],series:["series"]},zLe,e)},JLe={position:{horizontal:"middle",vertical:"top"},direction:"row"};function ZLe(t){const e=ft({props:Ze({},JLe,t),name:"MuiChartsLegend"}),{position:n,direction:r,hidden:i,slots:s,slotProps:o}=e,a=_a(),l=QLe(Ze({},e,{theme:a})),c=jc(),u=of(),d=VLe(u),h=(s==null?void 0:s.legend)??KLe,f=Dc({elementType:h,externalSlotProps:o==null?void 0:o.legend,additionalProps:{position:n,direction:r,classes:l,drawingArea:c,series:u,hidden:i,seriesToDisplay:d},ownerState:{}});return C.jsx(h,Ze({},f))}const eDe=10;function j9(t){const{gradientUnits:e,isReversed:n,gradientId:r,size:i,direction:s,scale:o,colorScale:a,colorMap:l}=t,c=[l.min??0,l.max??100],u=c.map(o).filter(p=>p!==void 0);if(u.length!==2)return null;const d=typeof c[0]=="number"?Kb(c[0],c[1]):aX(c[0],c[1]),h=Math.round((Math.max(...u)-Math.min(...u))/eDe),f=`${c[0]}-${c[1]}-`;return C.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${n?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:h+1},(p,m)=>{const y=d(m/h);if(y===void 0)return null;const S=o(y);if(S===void 0)return null;const w=n?1-S/i:S/i,v=a(y);return v===null?null:C.jsx("stop",{offset:w,stopColor:v,stopOpacity:1},f+m)})})}function tDe(t){return cf("MuiChartsAxisHighlight",t)}Jp("MuiChartsAxisHighlight",["root"]);const nDe=()=>lf({root:["root"]},tDe),Ux=be("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:Ze({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:Ze({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function rDe(t){const{x:e,y:n}=t,{xAxisIds:r,xAxis:i,yAxisIds:s,yAxis:o}=Yc(),a=nDe(),l=r[0],c=s[0],u=i[l].scale,d=o[c].scale,{axis:h}=b.useContext(Vm),f=L9(u),p=L9(d),m=h.x,y=h.y,S=e==="band"&&m!==null&&Ap(u),w=n==="band"&&y!==null&&Ap(d);return C.jsxs(b.Fragment,{children:[S&&u(m.value)!==void 0&&C.jsx(Ux,{d:`M ${u(m.value)-(u.step()-u.bandwidth())/2} ${d.range()[0]} l ${u.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-u.step()} 0 Z`,className:a.root,ownerState:{axisHighlight:"band"}}),w&&d(y.value)!==void 0&&C.jsx(Ux,{d:`M ${u.range()[0]} ${d(y.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${u.range()[1]-u.range()[0]} 0 l 0 ${-d.step()} Z`,className:a.root,ownerState:{axisHighlight:"band"}}),e==="line"&&h.x!==null&&C.jsx(Ux,{d:`M ${f(h.x.value)} ${d.range()[0]} L ${f(h.x.value)} ${d.range()[1]}`,className:a.root,ownerState:{axisHighlight:"line"}}),n==="line"&&h.y!==null&&C.jsx(Ux,{d:`M ${u.range()[0]} ${p(h.y.value)} L ${u.range()[1]} ${p(h.y.value)}`,className:a.root,ownerState:{axisHighlight:"line"}})]})}function iDe(t,e){const n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n.matrixTransform(t.getScreenCTM().inverse())}function sDe(t){const{onAxisClick:e}=t,n=i4(),r=of(),{axis:i}=b.useContext(Vm),{xAxisIds:s,xAxis:o,yAxisIds:a,yAxis:l}=Yc();return b.useEffect(()=>{const c=n.current;if(c===null||!e)return()=>{};const u=d=>{var S;d.preventDefault();const h=(i.x&&i.x.index)!==void 0,f=h?s[0]:a[0],p=h?i.x&&i.x.index:i.y&&i.y.index;if(p==null)return;const m={};Object.keys(r).filter(w=>["bar","line"].includes(w)).forEach(w=>{var v;(v=r[w])==null||v.seriesOrder.forEach(k=>{const P=r[w].series[k],T=P.xAxisId??P.xAxisKey,_=P.yAxisId??P.yAxisKey,E=h?T:_;(E===void 0||E===f)&&(m[k]=P.data[p])})});const y=(S=(h?o:l)[f].data)==null?void 0:S[p];e(d,{dataIndex:p,axisValue:y,seriesValues:m})};return c.addEventListener("click",u),()=>{c.removeEventListener("click",u)}},[i.x,i.y,e,r,n,o,s,l,a]),C.jsx(b.Fragment,{})}var o4=Kv(),qn=t=>qv(t,o4),a4=Kv();qn.write=t=>qv(t,a4);var vT=Kv();qn.onStart=t=>qv(t,vT);var l4=Kv();qn.onFrame=t=>qv(t,l4);var c4=Kv();qn.onFinish=t=>qv(t,c4);var Rg=[];qn.setTimeout=(t,e)=>{const n=qn.now()+e,r=()=>{const s=Rg.findIndex(o=>o.cancel==r);~s&&Rg.splice(s,1),Mh-=~s?1:0},i={time:n,handler:t,cancel:r};return Rg.splice(HX(n),0,i),Mh+=1,VX(),i};var HX=t=>~(~Rg.findIndex(e=>e.time>t)||~Rg.length);qn.cancel=t=>{vT.delete(t),l4.delete(t),c4.delete(t),o4.delete(t),a4.delete(t)};qn.sync=t=>{g5=!0,qn.batchedUpdates(t),g5=!1};qn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,qn.onStart(n)}return r.handler=t,r.cancel=()=>{vT.delete(n),e=null},r};var u4=typeof window<"u"?window.requestAnimationFrame:()=>{};qn.use=t=>u4=t;qn.now=typeof performance<"u"?()=>performance.now():Date.now;qn.batchedUpdates=t=>t();qn.catch=console.error;qn.frameLoop="always";qn.advance=()=>{qn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):WX()};var _h=-1,Mh=0,g5=!1;function qv(t,e){g5?(e.delete(t),t(0)):(e.add(t),VX())}function VX(){_h<0&&(_h=0,qn.frameLoop!=="demand"&&u4(zX))}function oDe(){_h=-1}function zX(){~_h&&(u4(zX),qn.batchedUpdates(WX))}function WX(){const t=_h;_h=qn.now();const e=HX(_h);if(e&&(GX(Rg.splice(0,e),n=>n.handler()),Mh-=e),!Mh){oDe();return}vT.flush(),o4.flush(t?Math.min(64,_h-t):16.667),l4.flush(),a4.flush(),c4.flush()}function Kv(){let t=new Set,e=t;return{add(n){Mh+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Mh-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Mh-=e.size,GX(e,r=>r(n)&&t.add(r)),Mh+=t.size,e=t)}}}function GX(t,e){t.forEach(n=>{try{e(n)}catch(r){qn.catch(r)}})}var aDe=Object.defineProperty,lDe=(t,e)=>{for(var n in e)aDe(t,n,{get:e[n],enumerable:!0})},nl={};lDe(nl,{assign:()=>uDe,colors:()=>Vh,createStringInterpolator:()=>h4,skipAnimation:()=>jX,to:()=>UX,willAdvance:()=>f4});function m5(){}var cDe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ct={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Xu(t,e){if(Ct.arr(t)){if(!Ct.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var er=(t,e)=>t.forEach(e);function Eu(t,e,n){if(Ct.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Xo=t=>Ct.und(t)?[]:Ct.arr(t)?t:[t];function Wy(t,e){if(t.size){const n=Array.from(t);t.clear(),er(n,e)}}var fy=(t,...e)=>Wy(t,n=>n(...e)),d4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),h4,UX,Vh=null,jX=!1,f4=m5,uDe=t=>{t.to&&(UX=t.to),t.now&&(qn.now=t.now),t.colors!==void 0&&(Vh=t.colors),t.skipAnimation!=null&&(jX=t.skipAnimation),t.createStringInterpolator&&(h4=t.createStringInterpolator),t.requestAnimationFrame&&qn.use(t.requestAnimationFrame),t.batchedUpdates&&(qn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(f4=t.willAdvance),t.frameLoop&&(qn.frameLoop=t.frameLoop)},Gy=new Set,Il=[],V3=[],aC=0,wT={get idle(){return!Gy.size&&!Il.length},start(t){aC>t.priority?(Gy.add(t),qn.onStart(dDe)):(YX(t),qn(y5))},advance:y5,sort(t){if(aC)qn.onFrame(()=>wT.sort(t));else{const e=Il.indexOf(t);~e&&(Il.splice(e,1),XX(t))}},clear(){Il=[],Gy.clear()}};function dDe(){Gy.forEach(YX),Gy.clear(),qn(y5)}function YX(t){Il.includes(t)||XX(t)}function XX(t){Il.splice(hDe(Il,e=>e.priority>t.priority),0,t)}function y5(t){const e=V3;for(let n=0;n<Il.length;n++){const r=Il[n];aC=r.priority,r.idle||(f4(r),r.advance(t),r.idle||e.push(r))}return aC=0,V3=Il,V3.length=0,Il=e,Il.length>0}function hDe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var fDe=(t,e,n)=>Math.min(Math.max(n,t),e),pDe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Bc="[-+]?\\d*\\.?\\d+",lC=Bc+"%";function xT(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var gDe=new RegExp("rgb"+xT(Bc,Bc,Bc)),mDe=new RegExp("rgba"+xT(Bc,Bc,Bc,Bc)),yDe=new RegExp("hsl"+xT(Bc,lC,lC)),bDe=new RegExp("hsla"+xT(Bc,lC,lC,Bc)),vDe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wDe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,xDe=/^#([0-9a-fA-F]{6})$/,SDe=/^#([0-9a-fA-F]{8})$/;function CDe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=xDe.exec(t))?parseInt(e[1]+"ff",16)>>>0:Vh&&Vh[t]!==void 0?Vh[t]:(e=gDe.exec(t))?(N0(e[1])<<24|N0(e[2])<<16|N0(e[3])<<8|255)>>>0:(e=mDe.exec(t))?(N0(e[1])<<24|N0(e[2])<<16|N0(e[3])<<8|q9(e[4]))>>>0:(e=vDe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=SDe.exec(t))?parseInt(e[1],16)>>>0:(e=wDe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=yDe.exec(t))?(Y9(X9(e[1]),jx(e[2]),jx(e[3]))|255)>>>0:(e=bDe.exec(t))?(Y9(X9(e[1]),jx(e[2]),jx(e[3]))|q9(e[4]))>>>0:null}function z3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y9(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=z3(i,r,t+1/3),o=z3(i,r,t),a=z3(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function N0(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function X9(t){return(parseFloat(t)%360+360)%360/360}function q9(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function jx(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function K9(t){let e=CDe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Zb=(t,e,n)=>{if(Ct.fun(t))return t;if(Ct.arr(t))return Zb({range:t,output:e,extrapolate:n});if(Ct.str(t.output[0]))return h4(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=TDe(c,s);return kDe(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function kDe(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function TDe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var PDe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return fDe(0,1,i/t)},cC=1.70158,Yx=cC*1.525,Q9=cC+1,J9=2*Math.PI/3,Z9=2*Math.PI/4.5,Xx=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,_De={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Q9*t*t*t-cC*t*t,easeOutBack:t=>1+Q9*Math.pow(t-1,3)+cC*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Yx+1)*2*t-Yx)/2:(Math.pow(2*t-2,2)*((Yx+1)*(t*2-2)+Yx)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*J9),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*J9)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Z9))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Z9)/2+1,easeInBounce:t=>1-Xx(1-t),easeOutBounce:Xx,easeInOutBounce:t=>t<.5?(1-Xx(1-2*t))/2:(1+Xx(2*t-1))/2,steps:PDe},ev=Symbol.for("FluidValue.get"),bm=Symbol.for("FluidValue.observers"),Ml=t=>!!(t&&t[ev]),ca=t=>t&&t[ev]?t[ev]():t,e7=t=>t[bm]||null;function MDe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function tv(t,e){const n=t[bm];n&&n.forEach(r=>{MDe(r,e)})}var qX=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");EDe(this,t)}},EDe=(t,e)=>KX(t,ev,e);function zm(t,e){if(t[ev]){let n=t[bm];n||KX(t,bm,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function nv(t,e){const n=t[bm];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[bm]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var KX=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),RS=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,BDe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,t7=new RegExp(`(${RS.source})(%|[a-z]+)`,"i"),NDe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ST=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,QX=t=>{const[e,n]=IDe(t);if(!e||d4())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&ST.test(n))return QX(n);if(n)return n}return t},IDe=t=>{const e=ST.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},W3,ADe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,JX=t=>{W3||(W3=Vh?new RegExp(`(${Object.keys(Vh).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>ca(s).replace(ST,QX).replace(BDe,K9).replace(W3,K9)),n=e.map(s=>s.match(RS).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Zb({...t,output:s}));return s=>{var l;const o=!t7.test(e[0])&&((l=e.find(c=>t7.test(c)))==null?void 0:l.replace(RS,""));let a=0;return e[0].replace(RS,()=>`${i[a++](s)}${o||""}`).replace(NDe,ADe)}},p4="react-spring: ",ZX=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${p4}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},RDe=ZX(console.warn);function LDe(){RDe(`${p4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var DDe=ZX(console.warn);function FDe(){DDe(`${p4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function CT(t){return Ct.str(t)&&(t[0]=="#"||/\d/.test(t)||!d4()&&ST.test(t)||t in(Vh||{}))}var op=d4()?b.useEffect:b.useLayoutEffect,ODe=()=>{const t=b.useRef(!1);return op(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function eq(){const t=b.useState()[1],e=ODe();return()=>{e.current&&t(Math.random())}}function $De(t,e){const[n]=b.useState(()=>({inputs:e,result:t()})),r=b.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&HDe(e,s.inputs)||(s={inputs:e,result:t()}):s=n,b.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function HDe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var tq=t=>b.useEffect(t,VDe),VDe=[];function zDe(t){const e=b.useRef();return b.useEffect(()=>{e.current=t}),e.current}var rv=Symbol.for("Animated:node"),WDe=t=>!!t&&t[rv]===t,su=t=>t&&t[rv],g4=(t,e)=>cDe(t,rv,e),kT=t=>t&&t[rv]&&t[rv].getPayload(),nq=class{constructor(){g4(this,this)}getPayload(){return this.payload||[]}},Qv=class extends nq{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Ct.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Qv(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Ct.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Ct.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},iv=class extends Qv{constructor(t){super(0),this._string=null,this._toString=Zb({output:[t,t]})}static create(t){return new iv(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Ct.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Zb({output:[this.getValue(),t]})),this._value=0,super.reset()}},uC={dependencies:null},TT=class extends nq{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Eu(this.source,(n,r)=>{WDe(n)?e[r]=n.getValue(t):Ml(n)?e[r]=ca(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&er(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Eu(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){uC.dependencies&&Ml(t)&&uC.dependencies.add(t);const e=kT(t);e&&er(e,n=>this.add(n))}},rq=class extends TT{constructor(t){super(t)}static create(t){return new rq(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(GDe)),!0)}};function GDe(t){return(CT(t)?iv:Qv).create(t)}function b5(t){const e=su(t);return e?e.constructor:Ct.arr(t)?rq:CT(t)?iv:Qv}var n7=(t,e)=>{const n=!Ct.fun(t)||t.prototype&&t.prototype.isReactComponent;return b.forwardRef((r,i)=>{const s=b.useRef(null),o=n&&b.useCallback(p=>{s.current=YDe(i,p)},[i]),[a,l]=jDe(r,e),c=eq(),u=()=>{const p=s.current;if(n&&!p)return;(p?e.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&c()},d=new UDe(u,l),h=b.useRef();op(()=>(h.current=d,er(l,p=>zm(p,d)),()=>{h.current&&(er(h.current.deps,p=>nv(p,h.current)),qn.cancel(h.current.update))})),b.useEffect(u,[]),tq(()=>()=>{const p=h.current;er(p.deps,m=>nv(m,p))});const f=e.getComponentProps(a.getValue());return b.createElement(t,{...f,ref:o})})},UDe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&qn.write(this.update)}};function jDe(t,e){const n=new Set;return uC.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new TT(t),uC.dependencies=null,[t,n]}function YDe(t,e){return t&&(Ct.fun(t)?t(e):t.current=e),e}var r7=Symbol.for("AnimatedComponent"),XDe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new TT(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=i7(o)||"Anonymous";return Ct.str(o)?o=s[o]||(s[o]=n7(o,i)):o=o[r7]||(o[r7]=n7(o,i)),o.displayName=`Animated(${a})`,o};return Eu(t,(o,a)=>{Ct.arr(t)&&(a=i7(o)),s[a]=s(o)}),{animated:s}},i7=t=>Ct.str(t)?t:t&&Ct.str(t.displayName)?t.displayName:Ct.fun(t)&&t.name||null;function ua(t,...e){return Ct.fun(t)?t(...e):t}var Uy=(t,e)=>t===!0||!!(e&&t&&(Ct.fun(t)?t(e):Xo(t).includes(e))),iq=(t,e)=>Ct.obj(t)?e&&t[e]:t,sq=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,qDe=t=>t,m4=(t,e=qDe)=>{let n=KDe;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Ct.und(s)||(r[i]=s)}return r},KDe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],QDe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function JDe(t){const e={};let n=0;if(Eu(t,(r,i)=>{QDe[i]||(e[i]=r,n++)}),n)return e}function y4(t){const e=JDe(t);if(e){const n={to:e};return Eu(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function sv(t){return t=ca(t),Ct.arr(t)?t.map(sv):CT(t)?nl.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function ZDe(t){for(const e in t)return!0;return!1}function v5(t){return Ct.fun(t)||Ct.arr(t)&&Ct.obj(t[0])}function s7(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function eFe(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var tFe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},w5={...tFe.default,mass:1,damping:1,easing:_De.linear,clamp:!1},nFe=class{constructor(){this.velocity=0,Object.assign(this,w5)}};function rFe(t,e,n){n&&(n={...n},o7(n,e),e={...n,...e}),o7(t,e),Object.assign(t,e);for(const o in w5)t[o]==null&&(t[o]=w5[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Ct.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function o7(t,e){if(!Ct.und(e.decay))t.duration=void 0;else{const n=!Ct.und(e.tension)||!Ct.und(e.friction);(n||!Ct.und(e.frequency)||!Ct.und(e.damping)||!Ct.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var a7=[],iFe=class{constructor(){this.changed=!1,this.values=a7,this.toValues=null,this.fromValues=a7,this.config=new nFe,this.immediate=!1}};function oq(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,u=Uy(n.cancel??(r==null?void 0:r.cancel),e);if(u)f();else{Ct.und(n.pause)||(i.paused=Uy(n.pause,e));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||Uy(p,e)),l=ua(n.delay||0,e),p?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-qn.now()}function h(){l>0&&!nl.skipAnimation?(i.delayed=!0,c=qn.setTimeout(f,l),i.pauseQueue.add(d),i.timeouts.add(c)):f()}function f(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...n,callId:t,cancel:u},o)}catch(p){a(p)}}})}var b4=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Lg(t.get()):e.every(n=>n.noop)?aq(t.get()):wc(t.get(),e.every(n=>n.finished)),aq=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),wc=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Lg=t=>({value:t,cancelled:!0,finished:!1});function lq(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=m4(e,(y,S)=>S==="onRest"?void 0:y);let u,d;const h=new Promise((y,S)=>(u=y,d=S)),f=y=>{const S=i<=(n.cancelId||0)&&Lg(r)||i!==n.asyncId&&wc(r,!1);if(S)throw y.result=S,d(y),y},p=(y,S)=>{const w=new l7,v=new c7;return(async()=>{if(nl.skipAnimation)throw ov(n),v.result=wc(r,!1),d(v),v;f(w);const k=Ct.obj(y)?{...y}:{...S,to:y};k.parentId=i,Eu(c,(T,_)=>{Ct.und(k[_])&&(k[_]=T)});const P=await r.start(k);return f(w),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),P})()};let m;if(nl.skipAnimation)return ov(n),wc(r,!1);try{let y;Ct.arr(t)?y=(async S=>{for(const w of S)await p(w)})(t):y=Promise.resolve(t(p,r.stop.bind(r))),await Promise.all([y.then(u),h]),m=wc(r.get(),!0,!1)}catch(y){if(y instanceof l7)m=y.result;else if(y instanceof c7)m=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ct.fun(o)&&qn.batchedUpdates(()=>{o(m,r,r.item)}),m})()}function ov(t,e){Wy(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var l7=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},c7=class extends Error{constructor(){super("SkipAnimationSignal")}},x5=t=>t instanceof v4,sFe=1,v4=class extends qX{constructor(){super(...arguments),this.id=sFe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=su(this);return t&&t.getValue()}to(...t){return nl.to(this,t)}interpolate(...t){return LDe(),nl.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){tv(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||wT.sort(this),tv(this,{type:"priority",parent:this,priority:t})}},Rp=Symbol.for("SpringPhase"),cq=1,S5=2,C5=4,G3=t=>(t[Rp]&cq)>0,ah=t=>(t[Rp]&S5)>0,q1=t=>(t[Rp]&C5)>0,u7=(t,e)=>e?t[Rp]|=S5|cq:t[Rp]&=~S5,d7=(t,e)=>e?t[Rp]|=C5:t[Rp]&=~C5,oFe=class extends v4{constructor(t,e){if(super(),this.animation=new iFe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ct.und(t)||!Ct.und(e)){const n=Ct.obj(t)?{...t}:{...e,from:t};Ct.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(ah(this)||this._state.asyncTo)||q1(this)}get goal(){return ca(this.animation.to)}get velocity(){const t=su(this);return t instanceof Qv?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return G3(this)}get isAnimating(){return ah(this)}get isPaused(){return q1(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=kT(r.to);!o&&Ml(r.to)&&(i=Xo(ca(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==iv?1:o?o[u].lastPosition:i[u];let h=r.immediate,f=d;if(!h){if(f=c.lastPosition,s.tension<=0){c.done=!0;return}let p=c.elapsedTime+=t;const m=r.fromValues[u],y=c.v0!=null?c.v0:c.v0=Ct.arr(s.velocity)?s.velocity[u]:s.velocity;let S;const w=s.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(Ct.und(s.duration))if(s.decay){const v=s.decay===!0?.998:s.decay,k=Math.exp(-(1-v)*p);f=m+y/(1-v)*(1-k),h=Math.abs(c.lastPosition-f)<=w,S=y*k}else{S=c.lastVelocity==null?y:c.lastVelocity;const v=s.restVelocity||w/10,k=s.clamp?0:s.bounce,P=!Ct.und(k),T=m==d?c.v0>0:m<d;let _,E=!1;const I=1,R=Math.ceil(t/I);for(let F=0;F<R&&(_=Math.abs(S)>v,!(!_&&(h=Math.abs(d-f)<=w,h)));++F){P&&(E=f==d||f>d==T,E&&(S=-S*k,f=d));const B=-s.tension*1e-6*(f-d),D=-s.friction*.001*S,A=(B+D)/s.mass;S=S+A*I,f=f+S*I}}else{let v=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,p=c.elapsedTime+=t)),v=(s.progress||0)+p/this._memoizedDuration,v=v>1?1:v<0?0:v,c.durationProgress=v),f=m+s.easing(v)*(d-m),S=(f-c.lastPosition)/t,h=v==1}c.lastVelocity=S,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[u].done&&(h=!1),h?c.done=!0:e=!1,c.setValue(f,s.round)&&(n=!0)});const a=su(this),l=a.getValue();if(e){const c=ca(r.to);(l!==c||n)&&!s.decay?(a.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return qn.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ah(this)){const{to:t,config:e}=this.animation;qn.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Ct.und(t)?(n=this.queue||[],this.queue=[]):n=[Ct.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>b4(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),ov(this._state,t&&this._lastCallId),qn.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Ct.obj(n)?n[e]:n,(n==null||v5(n))&&(n=void 0),r=Ct.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return G3(this)||(t.reverse&&([n,r]=[r,n]),r=ca(r),Ct.und(r)?su(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,m4(t,(o,a)=>/^on/.test(a)?iq(o,n):o)),f7(this,t,"onProps"),Q1(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return oq(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{q1(this)||(d7(this,!0),fy(s.pauseQueue),Q1(this,"onPause",wc(this,K1(this,this.animation.to)),this))},resume:()=>{q1(this)&&(d7(this,!1),ah(this)&&this._resume(),fy(s.resumeQueue),Q1(this,"onResume",wc(this,K1(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=uq(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Lg(this));const r=!Ct.und(t.to),i=!Ct.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Lg(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:d=c}=t;i&&!r&&(!e.default||Ct.und(u))&&(u=d),e.reverse&&([u,d]=[d,u]);const h=!Xu(d,c);h&&(a.from=d),d=ca(d);const f=!Xu(u,l);f&&this._focus(u);const p=v5(e.to),{config:m}=a,{decay:y,velocity:S}=m;(r||i)&&(m.velocity=0),e.config&&!p&&rFe(m,ua(e.config,s),e.config!==o.config?ua(o.config,s):void 0);let w=su(this);if(!w||Ct.und(u))return n(wc(this,!0));const v=Ct.und(e.reset)?i&&!e.default:!Ct.und(d)&&Uy(e.reset,s),k=v?d:this.get(),P=sv(u),T=Ct.num(P)||Ct.arr(P)||CT(P),_=!p&&(!T||Uy(o.immediate||e.immediate,s));if(f){const F=b5(u);if(F!==w.constructor)if(_)w=this._set(P);else throw Error(`Cannot animate between ${w.constructor.name} and ${F.name}, as the "to" prop suggests`)}const E=w.constructor;let I=Ml(u),R=!1;if(!I){const F=v||!G3(this)&&h;(f||F)&&(R=Xu(sv(k),P),I=!R),(!Xu(a.immediate,_)&&!_||!Xu(m.decay,y)||!Xu(m.velocity,S))&&(I=!0)}if(R&&ah(this)&&(a.changed&&!v?I=!0:I||this._stop(l)),!p&&((I||Ml(l))&&(a.values=w.getPayload(),a.toValues=Ml(u)?null:E==iv?[1]:Xo(P)),a.immediate!=_&&(a.immediate=_,!_&&!v&&this._set(l)),I)){const{onRest:F}=a;er(aFe,D=>f7(this,e,D));const B=wc(this,K1(this,l));fy(this._pendingCalls,B),this._pendingCalls.add(n),a.changed&&qn.batchedUpdates(()=>{var D;a.changed=!v,F==null||F(B,this),v?ua(o.onRest,B):(D=a.onStart)==null||D.call(a,B,this)})}v&&this._set(k),p?n(lq(e.to,e,this._state,this)):I?this._start():ah(this)&&!f?this._pendingCalls.add(n):n(aq(k))}_focus(t){const e=this.animation;t!==e.to&&(e7(this)&&this._detach(),e.to=t,e7(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Ml(e)&&(zm(e,this),x5(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Ml(t)&&nv(t,this)}_set(t,e=!0){const n=ca(t);if(!Ct.und(n)){const r=su(this);if(!r||!Xu(n,r.getValue())){const i=b5(n);!r||r.constructor!=i?g4(this,i.create(n)):r.setValue(n),r&&qn.batchedUpdates(()=>{this._onChange(n,e)})}}return su(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Q1(this,"onStart",wc(this,K1(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),ua(this.animation.onChange,t,this)),ua(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;su(this).reset(ca(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),ah(this)||(u7(this,!0),q1(this)||this._resume())}_resume(){nl.skipAnimation?this.finish():wT.start(this)}_stop(t,e){if(ah(this)){u7(this,!1);const n=this.animation;er(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),tv(this,{type:"idle",parent:this});const r=e?Lg(this.get()):wc(this.get(),K1(this,t??n.to));fy(this._pendingCalls,r),n.changed&&(n.changed=!1,Q1(this,"onRest",r,this))}}};function K1(t,e){const n=sv(e),r=sv(t.get());return Xu(r,n)}function uq(t,e=t.loop,n=t.to){const r=ua(e);if(r){const i=r!==!0&&y4(r),s=(i||t).reverse,o=!i||i.reset;return dC({...t,loop:e,default:!1,pause:void 0,to:!s||v5(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function dC(t){const{to:e,from:n}=t=y4(t),r=new Set;return Ct.obj(e)&&h7(e,r),Ct.obj(n)&&h7(n,r),t.keys=r.size?Array.from(r):null,t}function h7(t,e){Eu(t,(n,r)=>n!=null&&e.add(r))}var aFe=["onStart","onRest","onChange","onPause","onResume"];function f7(t,e,n){t.animation[n]=e[n]!==sq(e,n)?iq(e[n],t.key):void 0}function Q1(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var lFe=["onStart","onChange","onRest"],cFe=1,uFe=class{constructor(t,e){this.id=cFe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];Ct.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(dC(t)),this}start(t){let{queue:e}=this;return t?e=Xo(t).map(dC):this.queue=[],this._flush?this._flush(this,e):(pq(this,e),dFe(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;er(Xo(e),r=>n[r].stop(!!t))}else ov(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(Ct.und(t))this.start({pause:!0});else{const e=this.springs;er(Xo(t),n=>e[n].pause())}return this}resume(t){if(Ct.und(t))this.start({pause:!1});else{const e=this.springs;er(Xo(t),n=>e[n].resume())}return this}each(t){Eu(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Wy(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&Wy(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Wy(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;qn.onFrame(this._onFrame)}};function dFe(t,e){return Promise.all(e.map(n=>dq(t,n))).then(n=>b4(t,n))}async function dq(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Ct.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=Ct.arr(i)||Ct.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):er(lFe,m=>{const y=e[m];if(Ct.fun(y)){const S=t._events[m];e[m]=({finished:w,cancelled:v})=>{const k=S.get(y);k?(w||(k.finished=!1),v&&(k.cancelled=!0)):S.set(y,{value:null,finished:w||!1,cancelled:v||!1})},c&&(c[m]=e[m])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,fy(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const h=(r||Object.keys(t.springs)).map(m=>t.springs[m].start(e)),f=e.cancel===!0||sq(e,"cancel")===!0;(u||f&&d.asyncId)&&h.push(oq(++t._lastAsyncId,{props:e,state:d,actions:{pause:m5,resume:m5,start(m,y){f?(ov(d,t._lastAsyncId),y(Lg(t))):(m.onRest=a,y(lq(u,m,d,t)))}}})),d.paused&&await new Promise(m=>{d.resumeQueue.add(m)});const p=b4(t,await Promise.all(h));if(o&&p.finished&&!(n&&p.noop)){const m=uq(e,o,i);if(m)return pq(t,[m]),dq(t,m,!0)}return l&&qn.batchedUpdates(()=>l(p,t,t.item)),p}function hFe(t,e){const n={...t.springs};return e&&er(Xo(e),r=>{Ct.und(r.keys)&&(r=dC(r)),Ct.obj(r.to)||(r={...r,to:void 0}),fq(n,r,i=>hq(i))}),fFe(t,n),n}function fFe(t,e){Eu(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,zm(n,t))})}function hq(t,e){const n=new oFe;return n.key=t,e&&zm(n,e),n}function fq(t,e,n){e.keys&&er(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function pq(t,e){er(e,n=>{fq(t.springs,n,r=>hq(r,t))})}var PT=({children:t,...e})=>{const n=b.useContext(hC),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=$De(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=hC;return b.createElement(s,{value:e},t)},hC=pFe(PT,{});PT.Provider=hC.Provider;PT.Consumer=hC.Consumer;function pFe(t,e){return Object.assign(t,b.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var gFe=()=>{const t=[],e=function(r){FDe();const i=[];return er(t,(s,o)=>{if(Ct.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return er(t,r=>r.pause(...arguments)),this},e.resume=function(){return er(t,r=>r.resume(...arguments)),this},e.set=function(r){er(t,(i,s)=>{const o=Ct.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return er(t,(s,o)=>{if(Ct.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return er(t,r=>r.stop(...arguments)),this},e.update=function(r){return er(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Ct.fun(r)?r(s,i):r};return e._getProps=n,e};function k5(t,e,n){const r=Ct.fun(e)&&e,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:d}=r?r():e,h=b.useMemo(()=>r||arguments.length==3?gFe():void 0,[]),f=Xo(t),p=[],m=b.useRef(null),y=i?null:m.current;op(()=>{m.current=p}),tq(()=>(er(p,A=>{h==null||h.add(A.ctrl),A.ctrl.ref=h}),()=>{er(m.current,A=>{A.expired&&clearTimeout(A.expirationId),s7(A.ctrl,h),A.ctrl.stop(!0)})}));const S=yFe(f,r?r():e,y),w=i&&m.current||[];op(()=>er(w,({ctrl:A,item:N,key:L})=>{s7(A,h),ua(c,N,L)}));const v=[];if(y&&er(y,(A,N)=>{A.expired?(clearTimeout(A.expirationId),w.push(A)):(N=v[N]=S.indexOf(A.key),~N&&(p[N]=A))}),er(f,(A,N)=>{p[N]||(p[N]={key:S[N],item:A,phase:"mount",ctrl:new uFe},p[N].ctrl.item=A)}),v.length){let A=-1;const{leave:N}=r?r():e;er(v,(L,H)=>{const O=y[H];~L?(A=p.indexOf(O),p[A]={...O,item:f[L]}):N&&p.splice(++A,0,O)})}Ct.fun(s)&&p.sort((A,N)=>s(A.item,N.item));let k=-o;const P=eq(),T=m4(e),_=new Map,E=b.useRef(new Map),I=b.useRef(!1);er(p,(A,N)=>{const L=A.key,H=A.phase,O=r?r():e;let G,j;const J=ua(O.delay||0,L);if(H=="mount")G=O.enter,j="enter";else{const $=S.indexOf(L)<0;if(H!="leave")if($)G=O.leave,j="leave";else if(G=O.update)j="update";else return;else if(!$)G=O.enter,j="enter";else return}if(G=ua(G,A.item,N),G=Ct.obj(G)?y4(G):{to:G},!G.config){const $=d||T.config;G.config=ua($,A.item,N,j)}k+=o;const Z={...T,delay:J+k,ref:u,immediate:O.immediate,reset:!1,...G};if(j=="enter"&&Ct.und(Z.from)){const $=r?r():e,W=Ct.und($.initial)||y?$.from:$.initial;Z.from=ua(W,A.item,N)}const{onResolve:ae}=Z;Z.onResolve=$=>{ua(ae,$);const W=m.current,oe=W.find(X=>X.key===L);if(oe&&!($.cancelled&&oe.phase!="update")&&oe.ctrl.idle){const X=W.every(K=>K.ctrl.idle);if(oe.phase=="leave"){const K=ua(a,oe.item);if(K!==!1){const Y=K===!0?0:K;if(oe.expired=!0,!X&&Y>0){Y<=2147483647&&(oe.expirationId=setTimeout(P,Y));return}}}X&&W.some(K=>K.expired)&&(E.current.delete(oe),l&&(I.current=!0),P())}};const z=hFe(A.ctrl,Z);j==="leave"&&l?E.current.set(A,{phase:j,springs:z,payload:Z}):_.set(A,{phase:j,springs:z,payload:Z})});const R=b.useContext(PT),F=zDe(R),B=R!==F&&ZDe(R);op(()=>{B&&er(p,A=>{A.ctrl.start({default:R})})},[R]),er(_,(A,N)=>{if(E.current.size){const L=p.findIndex(H=>H.key===N.key);p.splice(L,1)}}),op(()=>{er(E.current.size?E.current:_,({phase:A,payload:N},L)=>{const{ctrl:H}=L;L.phase=A,h==null||h.add(H),B&&A=="enter"&&H.start({default:R}),N&&(eFe(H,N.ref),(H.ref||h)&&!I.current?H.update(N):(H.start(N),I.current&&(I.current=!1)))})},i?void 0:n);const D=A=>b.createElement(b.Fragment,null,p.map((N,L)=>{const{springs:H}=_.get(N)||N.ctrl,O=A({...H},N.item,N,L);return O&&O.type?b.createElement(O.type,{...O.props,key:Ct.str(N.key)||Ct.num(N.key)?N.key:N.ctrl.id,ref:O.ref}):O}));return h?[D,h]:D}var mFe=1;function yFe(t,{key:e,keys:n=e},r){if(n===null){const i=new Set;return t.map(s=>{const o=r&&r.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):mFe++})}return Ct.und(n)?t:Ct.fun(n)?t.map(n):Xo(n)}var bFe=class extends v4{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Zb(...e);const n=this._get(),r=b5(n);g4(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Xu(e,n)||(su(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&p7(this._active)&&U3(this)}_get(){const t=Ct.arr(this.source)?this.source.map(ca):Xo(ca(this.source));return this.calc(...t)}_start(){this.idle&&!p7(this._active)&&(this.idle=!1,er(kT(this),t=>{t.done=!1}),nl.skipAnimation?(qn.batchedUpdates(()=>this.advance()),U3(this)):wT.start(this))}_attach(){let t=1;er(Xo(this.source),e=>{Ml(e)&&zm(e,this),x5(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){er(Xo(this.source),t=>{Ml(t)&&nv(t,this)}),this._active.clear(),U3(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Xo(this.source).reduce((e,n)=>Math.max(e,(x5(n)?n.priority:0)+1),0))}};function vFe(t){return t.idle!==!1}function p7(t){return!t.size||Array.from(t).every(vFe)}function U3(t){t.idle||(t.idle=!0,er(kT(t),e=>{e.done=!0}),tv(t,{type:"idle",parent:t}))}nl.assign({createStringInterpolator:JX,to:(t,e)=>new bFe(t,e)});var gq=/^--/;function wFe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!gq.test(t)&&!(jy.hasOwnProperty(t)&&jy[t])?e+"px":(""+e).trim()}var g7={};function xFe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,c=Object.values(l),u=Object.keys(l).map(d=>n||t.hasAttribute(d)?d:g7[d]||(g7[d]=d.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(t.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const h=wFe(d,r[d]);gq.test(d)?t.style.setProperty(d,h):t.style[d]=h}u.forEach((d,h)=>{t.setAttribute(d,c[h])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var jy={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SFe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),CFe=["Webkit","Ms","Moz","O"];jy=Object.keys(jy).reduce((t,e)=>(CFe.forEach(n=>t[SFe(n,e)]=t[e]),t),jy);var kFe=/^(matrix|translate|scale|rotate|skew)/,TFe=/^(translate)/,PFe=/^(rotate|skew)/,j3=(t,e)=>Ct.num(t)&&t!==0?t+e:t,LS=(t,e)=>Ct.arr(t)?t.every(n=>LS(n,e)):Ct.num(t)?t===e:parseFloat(t)===e,_Fe=class extends TT{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>j3(a,"px")).join(",")})`,LS(o,0)])),Eu(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(kFe.test(a)){if(delete r[a],Ct.und(o))return;const l=TFe.test(a)?"px":PFe.test(a)?"deg":"";i.push(Xo(o)),s.push(a==="rotate3d"?([c,u,d,h])=>[`rotate3d(${c},${u},${d},${j3(h,l)})`,LS(h,0)]:c=>[`${a}(${c.map(u=>j3(u,l)).join(",")})`,LS(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new MFe(i,s)),super(r)}},MFe=class extends qX{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return er(this.inputs,(n,r)=>{const i=ca(n[0]),[s,o]=this.transforms[r](Ct.arr(i)?i:n.map(ca));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&er(this.inputs,e=>er(e,n=>Ml(n)&&zm(n,this)))}observerRemoved(t){t==0&&er(this.inputs,e=>er(e,n=>Ml(n)&&nv(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),tv(this,t)}},EFe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];nl.assign({batchedUpdates:_m.unstable_batchedUpdates,createStringInterpolator:JX,colors:pDe});var BFe=XDe(EFe,{applyAnimatedValues:xFe,createAnimatedStyle:t=>new _Fe(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),w4=BFe.animated;const NFe=t=>{const{dispatch:e}=b.useContext(Vm),{setHighlighted:n,clearHighlighted:r}=eX();return t?()=>({}):s=>({onPointerEnter:()=>{e({type:"enterItem",data:s}),n({seriesId:s.seriesId,dataIndex:s.dataIndex})},onPointerLeave:c=>{c.currentTarget.releasePointerCapture(c.pointerId),e({type:"leaveItem",data:s}),r()},onPointerDown:c=>{c.currentTarget.hasPointerCapture(c.pointerId)&&c.currentTarget.releasePointerCapture(c.pointerId)}})},IFe=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function AFe(t){return cf("MuiBarElement",t)}Jp("MuiBarElement",["root"]);const RFe=t=>{const{classes:e,id:n}=t,r={root:["root",`series-${n}`]};return lf(r,AFe,e)},LFe=be(w4.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({stroke:"none",fill:t.isHighlighted?pm(t.color).brighter(.5).formatHex():t.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded&&.3||1}));function DFe(t){const{id:e,dataIndex:n,classes:r,color:i,slots:s,slotProps:o,style:a,onClick:l}=t,c=Ji(t,IFe),u=NFe(),{isFaded:d,isHighlighted:h}=tX({seriesId:e,dataIndex:n}),f={id:e,dataIndex:n,classes:r,color:i,isFaded:d,isHighlighted:h},p=RFe(f),m=(s==null?void 0:s.bar)??LFe,y=Dc({elementType:m,externalSlotProps:o==null?void 0:o.bar,externalForwardedProps:c,additionalProps:Ze({},u({type:"bar",seriesId:e,dataIndex:n}),{style:a,onClick:l,cursor:l?"pointer":"unset"}),className:p.root,ownerState:f});return C.jsx(m,Ze({},y))}const qx=(t,{hasNegative:e,hasPositive:n,borderRadius:r,layout:i})=>{if(!r)return 0;const s=i==="vertical";return t==="top-left"&&(s&&n||!s&&e)||t==="top-right"&&(s&&n||!s&&n)||t==="bottom-right"&&(s&&e||!s&&n)||t==="bottom-left"&&(s&&e||!s&&e)?r:0},FFe=["style","maskId"],OFe=t=>`inset(0px round ${t.topLeft}px ${t.topRight}px ${t.bottomRight}px ${t.bottomLeft}px)`;function $Fe(t){var n,r;const e=t.ownerState;return C.jsx(w4.rect,{style:Ze({},t.style,{clipPath:(t.ownerState.layout==="vertical"?(n=t.style)==null?void 0:n.height:(r=t.style)==null?void 0:r.width).to(i=>OFe({topLeft:Math.min(i,qx("top-left",e)),topRight:Math.min(i,qx("top-right",e)),bottomRight:Math.min(i,qx("bottom-right",e)),bottomLeft:Math.min(i,qx("bottom-left",e))}))})})}function HFe(t){const{style:e,maskId:n}=t,r=Ji(t,FFe);return!t.borderRadius||t.borderRadius<=0?null:C.jsx("clipPath",{id:n,children:C.jsx($Fe,{ownerState:r,style:e})})}function VFe(t){return cf("MuiBarLabel",t)}const Y3=Jp("MuiBarLabel",["root","highlighted","faded"]),zFe=t=>{const{classes:e,seriesId:n,isFaded:r,isHighlighted:i}=t,s={root:["root",`series-${n}`,i&&"highlighted",r&&"faded"]};return lf(s,VFe,e)},WFe=t=>{const{barLabel:e,value:n,dataIndex:r,seriesId:i,height:s,width:o}=t;return e==="value"?n?n==null?void 0:n.toString():null:e({seriesId:i,dataIndex:r,value:n},{bar:{height:s,width:o}})},GFe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],UFe=be(w4.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Y3.faded}`]:e.faded},{[`&.${Y3.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,n,r,i;return Ze({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(i=(r=(n=t.vars||t)==null?void 0:n.palette)==null?void 0:r.text)==null?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Y3.faded}`]:{opacity:.3}})});function jFe(t){const e=ft({props:t,name:"MuiBarLabel"}),n=Ji(e,GFe);return C.jsx(UFe,Ze({},n))}const YFe=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],XFe=["ownerState"];function qFe(t){const{seriesId:e,classes:n,color:r,style:i,dataIndex:s,barLabel:o,slots:a,slotProps:l,height:c,width:u,value:d}=t,h=Ji(t,YFe),{isFaded:f,isHighlighted:p}=tX({seriesId:e,dataIndex:s}),m={seriesId:e,classes:n,color:r,isFaded:f,isHighlighted:p,dataIndex:s},y=zFe(m),S=(a==null?void 0:a.barLabel)??jFe,w=Dc({elementType:S,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:Ze({},h,{style:i,className:y.root}),ownerState:m}),{ownerState:v}=w,k=Ji(w,XFe);if(!o)return null;const P=WFe({barLabel:o,value:d,dataIndex:s,seriesId:e,height:c,width:u});return P?C.jsx(S,Ze({},k,v,{children:P})):null}const KFe=["bars","skipAnimation"],QFe=({layout:t,yOrigin:e,x:n,width:r,y:i,xOrigin:s,height:o})=>Ze({},t==="vertical"?{y:e,x:n+r/2,height:0,width:r}:{y:i+o/2,x:s,height:o,width:0}),m7=({x:t,width:e,y:n,height:r})=>({x:t+e/2,y:n+r/2,height:r,width:e});function JFe(t){const{bars:e,skipAnimation:n}=t,r=Ji(t,KFe),i=k5(e,{keys:s=>`${s.seriesId}-${s.dataIndex}`,from:QFe,leave:null,enter:m7,update:m7,immediate:n});return C.jsx(b.Fragment,{children:i((s,{seriesId:o,dataIndex:a,color:l,value:c,width:u,height:d})=>C.jsx(qFe,Ze({seriesId:o,dataIndex:a,value:c,color:l,width:u,height:d},r,{style:s})))})}const X3=(t,e)=>{const n=`${t}-axis`,r=`${t}Axis`;return e===(t==="x"?DI:FI)?`The first \`${r}\``:`The ${n} with id "${e}"`};function ZFe(t,e,n,r,i,s){const o=r[n],a=s[i],l=t?o:a,c=t?a:o,u=t?n:i,d=t?i:n,h=t?"x":"y",f=t?"y":"x";if(!f5(l))throw new Error(`MUI X: ${X3(h,u)} should be of type "band" to display the bar series of id "${e}".`);if(l.data===void 0)throw new Error(`MUI X: ${X3(h,u)} should have data property.`);if(f5(c)||MX(c))throw new Error(`MUI X: ${X3(f,d)} should be a continuous type to display the bar series of id "${e}".`)}const eOe=["skipAnimation","onItemClick","borderRadius","barLabel"];function tOe({bandWidth:t,numberOfGroups:e,gapRatio:n}){if(n===0)return{barWidth:t/e,offset:0};const r=t/(e+(e-1)*n),i=n*r;return{barWidth:r,offset:i}}const nOe=()=>{const t=W4e()??{series:{},stackingGroups:[],seriesOrder:[]},e=Yc(),n=kRe(),{series:r,stackingGroups:i}=t,{xAxis:s,yAxis:o,xAxisIds:a,yAxisIds:l}=e,c=a[0],u=l[0],d={};return{completedData:i.flatMap(({ids:f},p)=>f.flatMap(m=>{const y=r[m].xAxisId??r[m].xAxisKey??c,S=r[m].yAxisId??r[m].yAxisKey??u,w=s[y],v=o[S],k=r[m].layout==="vertical";ZFe(k,m,y,s,S,o);const P=k?w:v,T=w.scale,_=v.scale,E=JY(r[m],s[y],o[S]),I=P.scale.bandwidth(),{barWidth:R,offset:F}=tOe({bandWidth:I,numberOfGroups:i.length,gapRatio:P.barGapRatio}),B=p*(R+F),{stackedData:D}=r[m];return D.map((A,N)=>{var Z,ae;const L=A.map(z=>k?_(z):T(z)),H=Math.round(Math.min(...L)),O=Math.round(Math.max(...L)),G=r[m].stack,j={seriesId:m,dataIndex:N,layout:r[m].layout,x:k?T((Z=s[y].data)==null?void 0:Z[N])+B:H,y:k?H:_((ae=o[S].data)==null?void 0:ae[N])+B,xOrigin:T(0),yOrigin:_(0),height:k?O-H:R,width:k?R:O-H,color:E(N),value:r[m].data[N],maskId:`${n}_${G||m}_${p}_${N}`};d[j.maskId]||(d[j.maskId]={id:j.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:j.layout,xOrigin:T(0),yOrigin:_(0),x:0,y:0});const J=d[j.maskId];return J.width=j.layout==="vertical"?j.width:J.width+j.width,J.height=j.layout==="vertical"?J.height+j.height:j.height,J.x=Math.min(J.x===0?1/0:J.x,j.x),J.y=Math.min(J.y===0?1/0:J.y,j.y),J.hasNegative=J.hasNegative||(j.value??0)<0,J.hasPositive=J.hasPositive||(j.value??0)>0,j})})),masksData:Object.values(d)}},Kx=({layout:t,yOrigin:e,x:n,width:r,y:i,xOrigin:s,height:o})=>Ze({},t==="vertical"?{y:e,x:n,height:0,width:r}:{y:i,x:s,height:o,width:0}),Qx=({x:t,width:e,y:n,height:r})=>({y:n,x:t,height:r,width:e});function rOe(t){const{completedData:e,masksData:n}=nOe(),{skipAnimation:r,onItemClick:i,borderRadius:s,barLabel:o}=t,a=Ji(t,eOe),l=!s||s<=0,c=k5(e,{keys:d=>`${d.seriesId}-${d.dataIndex}`,from:Kx,leave:Kx,enter:Qx,update:Qx,immediate:r}),u=k5(l?[]:n,{keys:d=>d.id,from:Kx,leave:Kx,enter:Qx,update:Qx,immediate:r});return C.jsxs(b.Fragment,{children:[!l&&u((d,{id:h,hasPositive:f,hasNegative:p,layout:m})=>C.jsx(HFe,{maskId:h,borderRadius:s,hasNegative:p,hasPositive:f,layout:m,style:d})),c((d,{seriesId:h,dataIndex:f,color:p,maskId:m})=>{const y=C.jsx(DFe,Ze({id:h,dataIndex:f,color:p},a,{onClick:i&&(S=>{i(S,{type:"bar",seriesId:h,dataIndex:f})}),style:d}));return l?y:C.jsx("g",{clipPath:`url(#${m})`,children:y})}),o&&C.jsx(JFe,Ze({bars:e,skipAnimation:r,barLabel:o},a))]})}function I0(t){return t instanceof Date?t.getTime():t}const iOe=t=>{const e=i4(),n=jc(),{xAxis:r,yAxis:i,xAxisIds:s,yAxisIds:o}=Yc(),{dispatch:a}=b.useContext(Vm),l=s[0],c=o[0],u=b.useRef({isInChart:!1,x:-1,y:-1});b.useEffect(()=>{const d=e.current;if(d===null||t)return()=>{};function h(y,S){const{scale:w,data:v,reverse:k}=y;if(!Ap(w)){const T=w.invert(S);if(v===void 0)return{value:T,index:-1};const _=I0(T),E=v==null?void 0:v.findIndex((I,R)=>{const F=I0(I);return F>_&&(R===0||Math.abs(_-F)<=Math.abs(_-I0(v[R-1])))||F<=_&&(R===v.length-1||Math.abs(I0(T)-F)<Math.abs(I0(T)-I0(v[R+1])))});return{value:E!==void 0&&E>=0?v[E]:T,index:E}}const P=w.bandwidth()===0?Math.floor((S-Math.min(...w.range())+w.step()/2)/w.step()):Math.floor((S-Math.min(...w.range()))/w.step());if(P<0||P>=v.length)return null;if(k){const T=v.length-1-P;return{index:T,value:v[T]}}return{index:P,value:v[P]}}const f=()=>{u.current={isInChart:!1,x:-1,y:-1},a({type:"exitChart"})},p=y=>{const S="targetTouches"in y?y.targetTouches[0]:y,w=iDe(d,S);if(u.current.x=w.x,u.current.y=w.y,!n.isPointInside(w,{targetElement:y.target})){u.current.isInChart&&(a({type:"exitChart"}),u.current.isInChart=!1);return}u.current.isInChart=!0;const v=h(r[l],w.x),k=h(i[c],w.y);a({type:"updateAxis",data:{x:v,y:k}})},m=y=>{const S=y.currentTarget;S&&S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId)};return d.addEventListener("pointerdown",m),d.addEventListener("pointermove",p),d.addEventListener("pointerout",f),d.addEventListener("pointercancel",f),d.addEventListener("pointerleave",f),()=>{d.removeEventListener("pointerdown",m),d.removeEventListener("pointermove",p),d.removeEventListener("pointerout",f),d.removeEventListener("pointercancel",f),d.removeEventListener("pointerleave",f)}},[e,a,c,i,l,r,t,n])},sOe=["children","width","height","viewBox","disableAxisListener","className","title","desc"],oOe=be("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),aOe=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiChartsSurface"}),{children:i,width:s,height:o,viewBox:a,disableAxisListener:l=!1,className:c,title:u,desc:d}=r,h=Ji(r,sOe),f=Ze({width:s,height:o,x:0,y:0},a);return iOe(l),C.jsxs(oOe,Ze({width:s,height:o,viewBox:`${f.x} ${f.y} ${f.width} ${f.height}`,ref:n,className:c},h,{children:[C.jsx("title",{children:u}),C.jsx("desc",{children:d}),i]}))});function y7(t){const{isReversed:e,gradientId:n,size:r,direction:i,scale:s,colorMap:o}=t;return C.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${r}px`,gradientUnits:"userSpaceOnUse",children:o.thresholds.map((a,l)=>{const c=s(a);if(c===void 0)return null;const u=e?1-c/r:c/r;return C.jsxs(b.Fragment,{children:[C.jsx("stop",{offset:u,stopColor:o.colors[l],stopOpacity:1}),C.jsx("stop",{offset:u,stopColor:o.colors[l+1],stopOpacity:1})]},a.toString()+l)})})}function lOe(){const{chartId:t}=b.useContext(yT);return b.useCallback((e,n)=>`${t}-gradient-${n}-${e}`,[t])}function cOe(){const{top:t,height:e,bottom:n,left:r,width:i,right:s}=jc(),o=t+e+n,a=r+i+s,l=lOe(),{xAxisIds:c,xAxis:u,yAxisIds:d,yAxis:h}=Yc();return C.jsxs("defs",{children:[d.filter(f=>h[f].colorMap!==void 0).map(f=>{const p=l(f,"y"),{colorMap:m,scale:y,colorScale:S,reverse:w}=h[f];return(m==null?void 0:m.type)==="piecewise"?C.jsx(y7,{isReversed:!w,scale:y,colorMap:m,size:o,gradientId:p,direction:"y"},p):(m==null?void 0:m.type)==="continuous"?C.jsx(j9,{isReversed:!w,scale:y,colorScale:S,colorMap:m,size:o,gradientId:p,direction:"y"},p):null}),c.filter(f=>u[f].colorMap!==void 0).map(f=>{const p=l(f,"x"),{colorMap:m,scale:y,reverse:S,colorScale:w}=u[f];return(m==null?void 0:m.type)==="piecewise"?C.jsx(y7,{isReversed:S,scale:y,colorMap:m,size:a,gradientId:p,direction:"x"},p):(m==null?void 0:m.type)==="continuous"?C.jsx(j9,{isReversed:S,scale:y,colorScale:w,colorMap:m,size:a,gradientId:p,direction:"x"},p):null})]})}const b7=(t,e,n)=>{const r=n==="x"?DI:FI;return[...(t==null?void 0:t.map((i,s)=>Ze({id:`defaultized-${n}-axis-${s}`},i)))??[],...t===void 0||t.findIndex(({id:i})=>i===r)===-1?[{id:r,scaleType:"linear"}]:[]].map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(e===void 0)throw Error(`MUI X: ${n}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return Ze({},i,{data:e.map(o=>o[s])})})},uOe=(t,e,n)=>{const r=b.useMemo(()=>b7(t,n,"x"),[t,n]),i=b.useMemo(()=>b7(e,n,"y"),[e,n]);return[r,i]},dOe=()=>{op(()=>{var n;if(!window.matchMedia)return nl.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),e=r=>{nl.assign({skipAnimation:r.matches||void 0})};return e(t),(n=t.addEventListener)==null||n.call(t,"change",e),()=>{var r;(r=t.removeEventListener)==null||r.call(t,"change",e)}},[])},hOe=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],fOe=(t,e)=>{const{width:n,height:r,series:i,margin:s,xAxis:o,yAxis:a,zAxis:l,colors:c,dataset:u,sx:d,title:h,desc:f,disableAxisListener:p,highlightedItem:m,onHighlightChange:y,plugins:S,children:w}=t,v=Ji(t,hOe),k=b.useRef(null),P=IX(e,k);dOe();const[T,_]=uOe(o,a,u),E={width:n,height:r,margin:s,svgRef:k},I={plugins:S},R={series:i,colors:c,dataset:u},F={xAxis:T,yAxis:_,dataset:u},B={zAxis:l,dataset:u},D={highlightedItem:m,onHighlightChange:y},A=Ze({},v,{width:n,height:r,ref:P,sx:d,title:h,desc:f,disableAxisListener:p});return{children:w,drawingProviderProps:E,seriesProviderProps:R,cartesianProviderProps:F,zAxisContextProps:B,highlightedProviderProps:D,chartsSurfaceProps:A,pluginProviderProps:I,xAxis:T,yAxis:_}},pOe=b.forwardRef(function(e,n){const{children:r,drawingProviderProps:i,seriesProviderProps:s,cartesianProviderProps:o,zAxisContextProps:a,highlightedProviderProps:l,chartsSurfaceProps:c,pluginProviderProps:u}=fOe(e,n);return C.jsx(CRe,Ze({},i,{children:C.jsx(O4e,Ze({},u,{children:C.jsx(z4e,Ze({},s,{children:C.jsx(IRe,Ze({},o,{children:C.jsx(wRe,Ze({},a,{children:C.jsx(yLe,{children:C.jsx(j4e,Ze({},l,{children:C.jsxs(aOe,Ze({},c,{children:[C.jsx(cOe,{}),r]}))}))})}))}))}))}))}))}),gOe=be("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:t})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),mOe=(t,e)=>{const n=b.useRef(!1),r=b.useRef(null),[i,s]=b.useState(0),[o,a]=b.useState(0),l=b.useCallback(()=>{const c=r==null?void 0:r.current;if(!c)return;const d=eLe(c).getComputedStyle(c),h=Math.floor(parseFloat(d.height))||0,f=Math.floor(parseFloat(d.width))||0;s(f),a(h)},[]);return b.useEffect(()=>{n.current=!0},[]),AX(()=>{if(t!==void 0&&e!==void 0)return()=>{};l();const c=r.current;if(typeof ResizeObserver>"u")return()=>{};let u;const d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{l()})});return c&&d.observe(c),()=>{u&&window.cancelAnimationFrame(u),c&&d.unobserve(c)}},[l,e,t]),{containerRef:r,width:t??i,height:e??o}},yOe=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],bOe=(t,e)=>{const{width:n,height:r,margin:i,children:s,series:o,colors:a,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:f,sx:p,title:m,viewBox:y,xAxis:S,yAxis:w,zAxis:v}=t,k=Ji(t,yOe),{containerRef:P,width:T,height:_}=mOe(n,r),E=Ze({},k,{ownerState:{width:n,height:r},ref:P});return{hasIntrinsicSize:T&&_,chartContainerProps:{margin:i,children:s,series:o,colors:a,dataset:l,desc:c,disableAxisListener:u,highlightedItem:d,onHighlightChange:h,plugins:f,sx:p,title:m,viewBox:y,xAxis:S,yAxis:w,zAxis:v,width:T,height:_,ref:e},resizableChartContainerProps:E}},vOe=b.forwardRef(function(e,n){const{hasIntrinsicSize:r,chartContainerProps:i,resizableChartContainerProps:s}=bOe(e,n);return C.jsx(gOe,Ze({},s,{children:r?C.jsx(pOe,Ze({},i)):null}))}),wOe=["message"],xOe=be("text")(({theme:t})=>Ze({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function SOe(t){const{message:e}=t,n=Ji(t,wOe),{top:r,left:i,height:s,width:o}=jc();return C.jsx(xOe,Ze({x:i+o/2,y:r+s/2},n,{children:e??"Loading data"}))}const COe=["message"],kOe=be("text")(({theme:t})=>Ze({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function TOe(t){const{message:e}=t,n=Ji(t,COe),{top:r,left:i,height:s,width:o}=jc();return C.jsx(kOe,Ze({x:i+o/2,y:r+s/2},n,{children:e??"No data to display"}))}function POe(){const t=of();return Object.values(t).every(e=>{if(!e)return!0;const{series:n,seriesOrder:r}=e;return r.every(i=>n[i].data.length===0)})}function _Oe(t){var n,r,i,s;const e=POe();if(t.loading){const o=((n=t.slots)==null?void 0:n.loadingOverlay)??SOe;return C.jsx(o,Ze({},(r=t.slotProps)==null?void 0:r.loadingOverlay))}if(e){const o=((i=t.slots)==null?void 0:i.noDataOverlay)??TOe;return C.jsx(o,Ze({},(s=t.slotProps)==null?void 0:s.noDataOverlay))}return null}const MOe=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],EOe=t=>{const{xAxis:e,yAxis:n,series:r,width:i,height:s,margin:o,colors:a,dataset:l,sx:c,tooltip:u,onAxisClick:d,axisHighlight:h,legend:f,grid:p,topAxis:m,leftAxis:y,rightAxis:S,bottomAxis:w,children:v,slots:k,slotProps:P,skipAnimation:T,loading:_,layout:E,onItemClick:I,highlightedItem:R,onHighlightChange:F,borderRadius:B,barLabel:D,className:A}=t,N=Ji(t,MOe),H=`${PX()}-clip-path`,O=E==="horizontal"||E===void 0&&r.some(le=>le.layout==="horizontal"),G={scaleType:"band",data:Array.from({length:Math.max(...r.map(le=>(le.data??l??[]).length))},(le,ie)=>ie)},j=Ze({},N,{series:r.map(le=>Ze({type:"bar"},le,{layout:O?"horizontal":"vertical"})),width:i,height:s,margin:o,colors:a,dataset:l,xAxis:e??(O?void 0:[Ze({id:DI},G)]),yAxis:n??(O?[Ze({id:FI},G)]:void 0),sx:c,highlightedItem:R,onHighlightChange:F,disableAxisListener:(u==null?void 0:u.trigger)!=="axis"&&(h==null?void 0:h.x)==="none"&&(h==null?void 0:h.y)==="none"&&!d,className:A}),J={onItemClick:I,slots:k,slotProps:P,skipAnimation:T,borderRadius:B,barLabel:D},Z={onAxisClick:d},ae={vertical:p==null?void 0:p.vertical,horizontal:p==null?void 0:p.horizontal},z={clipPath:`url(#${H})`},$={id:H},W={slots:k,slotProps:P,loading:_},oe={topAxis:m,leftAxis:y,rightAxis:S,bottomAxis:w,slots:k,slotProps:P},X=Ze({},O?{y:"band"}:{x:"band"},h),K=Ze({},f,{slots:k,slotProps:P}),Y=Ze({},u,{slots:k,slotProps:P});return{chartContainerProps:j,barPlotProps:J,axisClickHandlerProps:Z,gridProps:ae,clipPathProps:$,clipPathGroupProps:z,overlayProps:W,chartsAxisProps:oe,axisHighlightProps:X,legendProps:K,tooltipProps:Y,children:v}},x4=b.forwardRef(function(e,n){const r=ft({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:s,axisClickHandlerProps:o,gridProps:a,clipPathProps:l,clipPathGroupProps:c,overlayProps:u,chartsAxisProps:d,axisHighlightProps:h,legendProps:f,tooltipProps:p,children:m}=EOe(r);return C.jsxs(vOe,Ze({ref:n},i,{children:[r.onAxisClick&&C.jsx(sDe,Ze({},o)),r.grid&&C.jsx(gLe,Ze({},a)),C.jsxs("g",Ze({},c,{children:[C.jsx(rOe,Ze({},s)),C.jsx(_Oe,Ze({},u)),C.jsx(rDe,Ze({},h))]})),C.jsx(uLe,Ze({},d)),C.jsx(ZLe,Ze({},f)),!r.loading&&C.jsx(NLe,Ze({},p)),C.jsx(ARe,Ze({},l)),m]}))}),mq=b.createContext(void 0);function Jn(){const t=b.useContext(mq);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const yq=b.createContext(void 0),Wt=()=>{const t=b.useContext(yq);if(!t)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return t};function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ee.apply(null,arguments)}function nr(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function BOe(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Jv(t){if(typeof t!="string")throw new Error(BOe(7));return t.charAt(0).toUpperCase()+t.slice(1)}function zh(t){return t&&t.ownerDocument||document}function NOe(t){return zh(t).defaultView||window}function IOe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Os=typeof window<"u"?b.useLayoutEffect:b.useEffect;let v7=0;function AOe(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(v7+=1,n(`mui-${v7}`))},[e]),r}const ROe={...Wh},w7=ROe.useId;function Qi(t){if(w7!==void 0){const e=w7();return t??e}return AOe(t)}function ui(t){const e=b.useRef(t);return Os(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function uf(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{IOe(n,e)})},t)}const x7={};function Iu(t,e){const n=b.useRef(x7);return n.current===x7&&(n.current=t(e)),n}const LOe=[];function _T(t){b.useEffect(t,LOe)}class S4{constructor(){qw(this,"currentId",null);qw(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});qw(this,"disposeEffect",()=>this.clear)}static create(){return new S4}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Wm(){const t=Iu(S4.create).current;return _T(t.disposeEffect),t}function bq(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=bq(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const S7=t=>t,DOe=()=>{let t=S7;return{configure(e){t=e},generate(e){return t(e)},reset(){t=S7}}},FOe=DOe(),OOe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vq(t,e,n="Mui"){const r=OOe[e];return r?`${n}-${r}`:`${FOe.generate(t)}-${e}`}function wq(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=vq(t,i,n)}),r}const $Oe=Object.is;function xq(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;let n=0,r=0;for(const i in t)if(n+=1,!$Oe(t[i],e[i])||!(i in e))return!1;for(const i in e)r+=1;return n===r}function df(t){return b.memo(t,xq)}const HOe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:t=>t!==1?`${t.toLocaleString()} rows selected`:`${t.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(t,e)=>`${t.toLocaleString()} of ${e.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:t=>`Group by ${t}`,unGroupColumn:t=>`Stop grouping by ${t}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function rr(t){return vq("MuiDataGrid",t)}const fe=wq("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),C7=1e3;class VOe{constructor(e=C7){this.timeouts=new Map,this.cleanupTimeout=C7,this.cleanupTimeout=e}register(e,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(e){const n=this.timeouts.get(e.cleanupToken);n&&(this.timeouts.delete(e.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((e,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class zOe{constructor(){this.registry=new FinalizationRegistry(e=>{typeof e=="function"&&e()})}register(e,n,r){this.registry.register(e,n,r)}unregister(e){this.registry.unregister(e)}reset(){}}var Hl=function(t){return t.DataGrid="DataGrid",t.DataGridPro="DataGridPro",t.DataGridPremium="DataGridPremium",t}(Hl||{});class WOe{}function GOe(t){let e=0;return function(r,i,s,o){t.registry===null&&(t.registry=typeof FinalizationRegistry<"u"?new zOe:new VOe);const[a]=b.useState(new WOe),l=b.useRef(null),c=b.useRef();c.current=s;const u=b.useRef(null);if(!l.current&&c.current){const d=(h,f,p)=>{var m;f.defaultMuiPrevented||(m=c.current)==null||m.call(c,h,f,p)};l.current=r.current.subscribeEvent(i,d,o),e+=1,u.current={cleanupToken:e},t.registry.register(a,()=>{var h;(h=l.current)==null||h.call(l),l.current=null,u.current=null},u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(t.registry.unregister(u.current),u.current=null));b.useEffect(()=>{if(!l.current&&c.current){const d=(h,f,p)=>{var m;f.defaultMuiPrevented||(m=c.current)==null||m.call(c,h,f,p)};l.current=r.current.subscribeEvent(i,d,o)}return u.current&&t.registry&&(t.registry.unregister(u.current),u.current=null),()=>{var d;(d=l.current)==null||d.call(l),l.current=null}},[r,i,o])}}const UOe={registry:null},Ot=GOe(UOe),jOe={isFirst:!0};function Qr(t,e,n){Ot(t,e,n,jOe)}function YOe(t){return t.acceptsApiRef}function k7(t,e){return YOe(e)?e(t):e(t.current.state)}const XOe=Object.is,Sq=xq,qOe=()=>({state:null,equals:null,selector:null}),ut=(t,e,n=XOe)=>{const r=Iu(qOe),i=r.current.selector!==null,[s,o]=b.useState(i?null:k7(t,e));return r.current.state=s,r.current.equals=n,r.current.selector=e,_T(()=>t.current.store.subscribe(()=>{const a=k7(t,r.current.selector);r.current.equals(r.current.state,a)||(r.current.state=a,o(a))})),s},vo=t=>t.dimensions;var fC=Symbol("NOT_FOUND");function KOe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function QOe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function JOe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var T7=t=>Array.isArray(t)?t:[t];function ZOe(t){const e=Array.isArray(t[0])?t[0]:t;return JOe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function e8e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}function t8e(t){let e;return{get(n){return e&&t(e.key,n)?e.value:fC},put(n,r){e={key:n,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function n8e(t,e){let n=[];function r(a){const l=n.findIndex(c=>e(a,c.key));if(l>-1){const c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return fC}function i(a,l){r(a)===fC&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var r8e=(t,e)=>t===e;function i8e(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:i}=n;for(let s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Cq(t,e){const n=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=r8e,maxSize:i=1,resultEqualityCheck:s}=n,o=i8e(r);let a=0;const l=i<=1?t8e(o):n8e(i,o);function c(){let u=l.get(arguments);if(u===fC){if(u=t.apply(null,arguments),a++,s){const h=l.getEntries().find(f=>s(f.value,u));h&&(u=h.value,a!==0&&a--)}l.put(arguments,u)}return u}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}var s8e=class{constructor(t){this.value=t}deref(){return this.value}},o8e=typeof WeakRef<"u"?WeakRef:s8e,a8e=0,P7=1;function Jx(){return{s:a8e,v:void 0,o:null,p:null}}function kq(t,e={}){let n=Jx();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(p);y===void 0?(a=Jx(),m.set(p,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(p);y===void 0?(a=Jx(),m.set(p,a)):a=y}}const c=a;let u;if(a.s===P7)u=a.v;else if(u=t.apply(null,arguments),s++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new o8e(u):u}return c.s=P7,c.v=u,u}return o.clearCache=()=>{n=Jx(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Tq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),KOe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=kq,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,y=T7(h),S=T7(p),w=ZOe(i),v=d(function(){return s++,c.apply(null,arguments)},...y),k=f(function(){o++;const T=e8e(w,arguments);return a=v.apply(null,T),a},...S);return Object.assign(k,{resultFunc:c,memoizedResultFunc:v,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var l8e=Tq(kq),c8e=Object.assign((t,e=l8e)=>{QOe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>c8e});const u8e=Tq({memoize:Cq,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),_7=new WeakMap;function Y0(t){return"current"in t&&"instanceId"in t.current}const X0={id:"default"},mn=(t,e,n,r,i,s,...o)=>{if(o.length>0)throw new Error("Unsupported number of selectors");let a;if(t&&e&&n&&r&&i&&s)a=(l,c)=>{const u=Y0(l),d=c??(u?l.current.instanceId:X0),h=u?l.current.state:l,f=t(h,d),p=e(h,d),m=n(h,d),y=r(h,d),S=i(h,d);return s(f,p,m,y,S)};else if(t&&e&&n&&r&&i)a=(l,c)=>{const u=Y0(l),d=c??(u?l.current.instanceId:X0),h=u?l.current.state:l,f=t(h,d),p=e(h,d),m=n(h,d),y=r(h,d);return i(f,p,m,y)};else if(t&&e&&n&&r)a=(l,c)=>{const u=Y0(l),d=c??(u?l.current.instanceId:X0),h=u?l.current.state:l,f=t(h,d),p=e(h,d),m=n(h,d);return r(f,p,m)};else if(t&&e&&n)a=(l,c)=>{const u=Y0(l),d=c??(u?l.current.instanceId:X0),h=u?l.current.state:l,f=t(h,d),p=e(h,d);return n(f,p)};else if(t&&e)a=(l,c)=>{const u=Y0(l),d=c??(u?l.current.instanceId:X0),h=u?l.current.state:l,f=t(h,d);return e(f)};else throw new Error("Missing arguments");return a.acceptsApiRef=!0,a},Yr=(...t)=>{const e=(n,r)=>{const i=Y0(n),s=i?n.current.instanceId:r??X0,o=i?n.current.state:n,a=_7.get(s),l=a??new Map,c=l==null?void 0:l.get(t);if(l&&c)return c(o,s);const u=u8e(...t);return a||_7.set(s,l),l.set(t,u),u(o,s)};return e.acceptsApiRef=!0,e},d8e=.7,h8e=1.3,f8e={compact:d8e,comfortable:h8e,standard:1},wg=t=>t.density,Zv=mn(wg,t=>f8e[t]);let ti=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const T5={left:[],right:[]},p8e=t=>t.isRtl,Cu=t=>t.columns,md=mn(Cu,t=>t.orderedFields),Vd=mn(Cu,t=>t.lookup),Fc=Yr(md,Vd,(t,e)=>t.map(n=>e[n])),Fl=mn(Cu,t=>t.columnVisibilityModel),Ps=Yr(Fc,Fl,(t,e)=>t.filter(n=>e[n.field]!==!1)),Gm=Yr(Ps,t=>t.map(e=>e.field)),g8e=t=>t.pinnedColumns,ew=Yr(Cu,g8e,Gm,p8e,(t,e,n,r)=>{const i=m8e(e,n,r);return{left:i.left.map(o=>t.lookup[o]),right:i.right.map(o=>t.lookup[o])}});function m8e(t,e,n){var a,l;if(!Array.isArray(t.left)&&!Array.isArray(t.right)||((a=t.left)==null?void 0:a.length)===0&&((l=t.right)==null?void 0:l.length)===0)return T5;const r=(c,u)=>Array.isArray(c)?c.filter(d=>u.includes(d)):[],i=r(t.left,e),s=e.filter(c=>!i.includes(c)),o=r(t.right,s);return n?{left:o,right:i}:{left:i,right:o}}const hf=Yr(Ps,t=>{const e=[];let n=0;for(let r=0;r<t.length;r+=1)e.push(n),n+=t[r].computedWidth;return e}),C4=mn(Ps,hf,(t,e)=>{const n=t.length;return n===0?0:e[n-1]+t[n-1].computedWidth}),Pq=Yr(Fc,t=>t.filter(e=>e.filterable)),y8e=Yr(Fc,t=>t.reduce((e,n)=>(n.filterable&&(e[n.field]=n),e),{})),b8e=Yr(Fc,t=>t.some(e=>e.colSpan!==void 0));function rn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}const v8e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],w8e=t=>{const{classes:e}=t;return nr({root:["editInputCell"]},rr,e)},x8e=be(Am,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(t,e)=>e.editInputCell})(({theme:t})=>ee({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),S8e=b.forwardRef((t,e)=>{const n=Wt(),{id:r,value:i,field:s,colDef:o,hasFocus:a,debounceMs:l=200,isProcessingProps:c,onValueChange:u}=t,d=rn(t,v8e),h=Jn(),f=b.useRef(),[p,m]=b.useState(i),y=w8e(n),S=b.useCallback(async v=>{const k=v.target.value;u&&await u(v,k);const P=h.current.getColumn(s);let T=k;P.valueParser&&(T=P.valueParser(k,h.current.getRow(r),P,h)),m(T),h.current.setEditCellValue({id:r,field:s,value:T,debounceMs:l,unstable_skipValueParser:!0},v)},[h,l,s,r,u]),w=h.current.unstable_getEditCellMeta(r,s);return b.useEffect(()=>{(w==null?void 0:w.changeReason)!=="debouncedSetEditCellValue"&&m(i)},[w,i]),Os(()=>{a&&f.current.focus()},[a]),C.jsx(x8e,ee({ref:e,inputRef:f,className:y.root,ownerState:n,fullWidth:!0,type:o.type==="number"?o.type:"text",value:p??"",onChange:S,endAdornment:c?C.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},d))}),C8e=t=>C.jsx(S8e,ee({},t)),_q=(t,e)=>e&&t.length>1?[t[0]]:t,M7=(t,e)=>n=>ee({},n,{sorting:ee({},n.sorting,{sortModel:_q(t,e)})}),k8e=t=>t==="desc",T8e=(t,e)=>{const n=e.current.getColumn(t.field);if(!n||t.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(t.sort):r=k8e(t.sort)?(...s)=>-1*n.sortComparator(...s):n.sortComparator,r?{getSortCellParams:s=>({id:s,field:n.field,rowNode:e.current.getRowNode(s),value:e.current.getCellValue(s,n.field),api:e.current}),comparator:r}:null},P8e=(t,e,n)=>t.reduce((r,i,s)=>{if(r!==0)return r;const o=e.params[s],a=n.params[s];return r=i.comparator(o.value,a.value,o,a),r},0),_8e=(t,e)=>{const n=t.map(r=>T8e(r,e)).filter(r=>!!r);return n.length===0?null:r=>r.map(i=>({node:i,params:n.map(s=>s.getSortCellParams(i.id))})).sort((i,s)=>P8e(n,i,s)).map(i=>i.node.id)},E7=(t,e)=>{const n=t.indexOf(e);return!e||n===-1||n+1===t.length?t[0]:t[n+1]},k4=(t,e)=>t==null&&e!=null?-1:e==null&&t!=null?1:t==null&&e==null?0:null,M8e=new Intl.Collator,E8e=(t,e)=>{const n=k4(t,e);return n!==null?n:typeof t=="string"?M8e.compare(t.toString(),e.toString()):t-e},Mq=(t,e)=>{const n=k4(t,e);return n!==null?n:Number(t)-Number(e)},Eq=(t,e)=>{const n=k4(t,e);return n!==null?n:t>e?1:t<e?-1:0},B8e=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function El(t){var k;const{item:e,applyValue:n,type:r,apiRef:i,focusElementRef:s,tabIndex:o,disabled:a,clearButton:l,InputProps:c,variant:u="standard"}=t,d=rn(t,B8e),h=Wm(),[f,p]=b.useState(e.value??""),[m,y]=b.useState(!1),S=Qi(),w=Wt(),v=b.useCallback(P=>{const{value:T}=P.target;p(String(T)),y(!0),h.start(w.filterDebounceMs,()=>{const _=ee({},e,{value:r==="number"?Number(T):T,fromInput:S});n(_),y(!1)})},[h,w.filterDebounceMs,e,r,S,n]);return b.useEffect(()=>{(e.fromInput!==S||e.value===void 0)&&p(String(e.value??""))},[S,e]),C.jsx(w.slots.baseTextField,ee({id:S,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:v,variant:u,type:r||"text",InputProps:ee({},m||l?{endAdornment:m?C.jsx(w.slots.loadIcon,{fontSize:"small",color:"action"}):l}:{},{disabled:a},c,{inputProps:ee({tabIndex:o},c==null?void 0:c.inputProps)}),InputLabelProps:{shrink:!0},inputRef:s},d,(k=w.slotProps)==null?void 0:k.baseTextField))}function N8e(t){return typeof t=="number"&&!Number.isNaN(t)}function Bq(t){return typeof t=="function"}function T4(t){return typeof t=="object"&&t!==null}function I8e(){try{const t="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}function pC(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const ku=(t,e,n)=>Math.max(e,Math.min(n,t));function B7(t,e){return Array.from({length:e-t}).map((n,r)=>t+r)}function Dg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(!Dg(t[s],e[s]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let s=0;s<i.length;s+=1)if(!e.has(i[s][0]))return!1;for(let s=0;s<i.length;s+=1){const o=i[s];if(!Dg(o[1],e.get(o[0])))return!1}return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let s=0;s<i.length;s+=1)if(!e.has(i[s][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=n.length;if(r!==Object.keys(e).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=0;i<r;i+=1){const s=n[i];if(!Dg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function A8e(t){return()=>{let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function R8e(t){const e=A8e(t);return(n,r)=>n+(r-n)*e()}function Nq(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const L8e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],D8e=["key"];function Iq(t){const{item:e,applyValue:n,type:r,apiRef:i,focusElementRef:s,color:o,error:a,helperText:l,size:c,variant:u="standard"}=t,d=rn(t,L8e),h={color:o,error:a,helperText:l,size:c,variant:u},[f,p]=b.useState(e.value||[]),m=Qi(),y=Wt();b.useEffect(()=>{const w=e.value??[];p(w.map(String))},[e.value]);const S=b.useCallback((w,v)=>{p(v.map(String)),n(ee({},e,{value:[...v.map(k=>r==="number"?Number(k):k)]}))},[n,e,r]);return C.jsx(bG,ee({multiple:!0,freeSolo:!0,options:[],filterOptions:(w,v)=>{const{inputValue:k}=v;return k==null||k===""?[]:[k]},id:m,value:f,onChange:S,renderTags:(w,v)=>w.map((k,P)=>{const T=v({index:P}),{key:_}=T,E=rn(T,D8e);return C.jsx(y.slots.baseChip,ee({variant:"outlined",size:"small",label:k},E),_)}),renderInput:w=>{var v;return C.jsx(y.slots.baseTextField,ee({},w,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:ee({},w.InputLabelProps,{shrink:!0}),inputRef:s,type:r||"text"},h,(v=y.slotProps)==null?void 0:v.baseTextField))}},d))}var Bu=function(t){return t.Cell="cell",t.Row="row",t}(Bu||{}),Fr=function(t){return t.Edit="edit",t.View="view",t}(Fr||{}),Kr=function(t){return t.Edit="edit",t.View="view",t}(Kr||{}),Uo=function(t){return t.And="and",t.Or="or",t}(Uo||{}),Gu=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t.pasteKeyDown="pasteKeyDown",t}(Gu||{}),fc=function(t){return t.cellFocusOut="cellFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(fc||{}),dh=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t}(dh||{}),tu=function(t){return t.rowFocusOut="rowFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(tu||{});function Aq(t){return t.field!==void 0}const av=()=>({items:[],logicOperator:Uo.And,quickFilterValues:[],quickFilterLogicOperator:Uo.And});function Rq(t){return{current:t.current.getPublicApi()}}let J1;function F8e(){if(J1!==void 0)return J1;try{J1=new Function("return true")()}catch{J1=!1}return J1}const P5=(t,e)=>{const n=ee({},t);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=Vd(e)[n.field];n.operator=r&&r.filterOperators[0].value}return n},P4=(t,e,n)=>{const r=t.items.length>1;let i;r&&e?i=[t.items[0]]:i=t.items;const s=r&&i.some(a=>a.id==null);return i.some(a=>a.operator==null)||s?ee({},t,{items:i.map(a=>P5(a,n))}):t.items!==i?ee({},t,{items:i}):t},N7=(t,e,n)=>r=>ee({},r,{filterModel:P4(t,e,n)}),lv=t=>typeof t=="string"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,Lq=(t,e)=>{var u;if(!t.field||!t.operator)return null;const n=e.current.getColumn(t.field);if(!n)return null;let r;if(n.valueParser){const d=n.valueParser;r=Array.isArray(t.value)?(u=t.value)==null?void 0:u.map(h=>d(h,void 0,n,e)):d(t.value,void 0,n,e)}else r=t.value;const{ignoreDiacritics:i}=e.current.rootProps;i&&(r=lv(r));const s=ee({},t,{value:r}),o=n.filterOperators;if(!(o!=null&&o.length))throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=o.find(d=>d.value===s.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${s.operator}'.`);const l=Rq(e),c=a.getApplyFilterFn(s,n);return typeof c!="function"?null:{item:s,fn:d=>{let h=e.current.getRowValue(d,n);return i&&(h=lv(h)),c(h,d,n,l)}}};let I7=1;const O8e=(t,e,n)=>{const{items:r}=t,i=r.map(a=>Lq(a,e)).filter(a=>!!a);if(i.length===0)return null;if(n||!F8e())return(a,l)=>{const c={};for(let u=0;u<i.length;u+=1){const d=i[u];(!l||l(d.item.field))&&(c[d.item.id]=d.fn(a))}return c};const s=new Function("appliers","row","shouldApplyFilter",`"use strict";
${i.map((a,l)=>`const shouldApply${l} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${i.map((a,l)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${l} ? false : appliers[${l}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(I7)));return I7+=1,(a,l)=>s(i,a,l)},Dq=t=>t.quickFilterExcludeHiddenColumns??!0,$8e=(t,e)=>{var a;const n=((a=t.quickFilterValues)==null?void 0:a.filter(Boolean))??[];if(n.length===0)return null;const r=Dq(t)?Gm(e):md(e),i=[],{ignoreDiacritics:s}=e.current.rootProps,o=Rq(e);return r.forEach(l=>{const c=e.current.getColumn(l),u=c==null?void 0:c.getApplyQuickFilterFn;u&&i.push({column:c,appliers:n.map(d=>{const h=s?lv(d):d;return{fn:u(h,c,o)}})})}),function(c,u){const d={};e:for(let h=0;h<n.length;h+=1){const f=n[h];for(let p=0;p<i.length;p+=1){const{column:m,appliers:y}=i[p],{field:S}=m;if(u&&!u(S))continue;const w=y[h];let v=e.current.getRowValue(c,m);if(w.fn===null)continue;if(s&&(v=lv(v)),w.fn(v,c,m,o)){d[f]=!0;continue e}}d[f]=!1}return d}},H8e=(t,e,n)=>{const r=O8e(t,e,n),i=$8e(t,e);return function(o,a,l){l.passingFilterItems=(r==null?void 0:r(o,a))??null,l.passingQuickFilterValues=(i==null?void 0:i(o,a))??null}},A7=t=>t!=null,V8e=(t,e,n)=>(t.cleanedFilterItems||(t.cleanedFilterItems=n.filter(r=>Lq(r,e)!==null)),t.cleanedFilterItems),z8e=(t,e,n,r,i)=>{const s=V8e(i,r,n.items),o=t.filter(A7),a=e.filter(A7);if(o.length>0){const l=u=>o.some(d=>d[u.id]);if((n.logicOperator??av().logicOperator)===Uo.And){if(!s.every(l))return!1}else if(!s.some(l))return!1}if(a.length>0&&n.quickFilterValues!=null){const l=u=>a.some(d=>d[u]);if((n.quickFilterLogicOperator??av().quickFilterLogicOperator)===Uo.And){if(!n.quickFilterValues.every(l))return!1}else if(!n.quickFilterValues.some(l))return!1}return!0},W8e=t=>{if(!t)return null;const e=new RegExp(pC(t),"i");return(n,r,i,s)=>{let o=s.current.getRowFormattedValue(r,i);return s.current.ignoreDiacritics&&(o=lv(o)),o!=null?e.test(o.toString()):!1}},R7=(t,e)=>n=>{if(!n.value)return null;const r=t?n.value:n.value.trim(),i=new RegExp(pC(r),"i");return s=>{if(s==null)return e;const o=i.test(String(s));return e?!o:o}},L7=(t,e)=>n=>{if(!n.value)return null;const r=t?n.value:n.value.trim(),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return s=>{if(s==null)return e;const o=i.compare(r,s.toString())===0;return e?!o:o}},D7=t=>()=>e=>{const n=e===""||e==null;return t?!n:n},G8e=(t=!1)=>[{value:"contains",getApplyFilterFn:R7(t,!1),InputComponent:El},{value:"doesNotContain",getApplyFilterFn:R7(t,!0),InputComponent:El},{value:"equals",getApplyFilterFn:L7(t,!1),InputComponent:El},{value:"doesNotEqual",getApplyFilterFn:L7(t,!0),InputComponent:El},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const n=t?e.value:e.value.trim(),r=new RegExp(`^${pC(n)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:El},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const n=t?e.value:e.value.trim(),r=new RegExp(`.*${pC(n)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:El},{value:"isEmpty",getApplyFilterFn:D7(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:D7(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const n=t?e.value:e.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?n.some(s=>r.compare(s,i.toString()||"")===0):!1},InputComponent:Iq}],Oc={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:E8e,type:"string",align:"left",filterOperators:G8e(),renderEditCell:C8e,getApplyQuickFilterFn:W8e},U8e=["open","target","onClose","children","position","className","onExited"],j8e=t=>{const{classes:e}=t;return nr({root:["menu"]},rr,e)},Y8e=be(Ld,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(t,e)=>e.menu})(({theme:t})=>({zIndex:t.zIndex.modal,[`& .${fe.menuList}`]:{outline:0}})),X8e={"bottom-start":"top left","bottom-end":"top right"};function _4(t){var m;const{open:e,target:n,onClose:r,children:i,position:s,className:o,onExited:a}=t,l=rn(t,U8e),c=Jn(),u=Wt(),d=j8e(u),h=b.useRef(null);Os(()=>{var y,S;e?h.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((S=(y=h.current)==null?void 0:y.focus)==null||S.call(y),h.current=null)},[e]),b.useEffect(()=>{const y=e?"menuOpen":"menuClose";c.current.publishEvent(y,{target:n})},[c,e,n]);const f=y=>S=>{y&&y(),a&&a(S)},p=y=>{y.target&&(n===y.target||n!=null&&n.contains(y.target))||r(y)};return C.jsx(Y8e,ee({as:u.slots.basePopper,className:Ae(d.root,o),ownerState:u,open:e,anchorEl:n,transition:!0,placement:s},l,(m=u.slotProps)==null?void 0:m.basePopper,{children:({TransitionProps:y,placement:S})=>C.jsx(ZW,{onClickAway:p,mouseEvent:"onMouseDown",children:C.jsx(kb,ee({},y,{style:{transformOrigin:X8e[S]},onExited:f(y==null?void 0:y.onExited),children:C.jsx(Uc,{children:i})}))})}))}const q8e=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],K8e=t=>typeof t.getActions=="function";function Q8e(t){var N;const{colDef:e,id:n,hasFocus:r,tabIndex:i,position:s="bottom-end",focusElementRef:o}=t,a=rn(t,q8e),[l,c]=b.useState(-1),[u,d]=b.useState(!1),h=Jn(),f=b.useRef(null),p=b.useRef(null),m=b.useRef(!1),y=b.useRef({}),S=Vr(),w=Qi(),v=Qi(),k=Wt();if(!K8e(e))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const P=e.getActions(h.current.getRowParams(n)),T=P.filter(L=>!L.props.showInMenu),_=P.filter(L=>L.props.showInMenu),E=T.length+(_.length?1:0);b.useLayoutEffect(()=>{r||Object.entries(y.current).forEach(([L,H])=>{H==null||H.stop({},()=>{delete y.current[L]})})},[r]),b.useEffect(()=>{if(l<0||!f.current||l>=f.current.children.length)return;f.current.children[l].focus({preventScroll:!0})},[l]),b.useEffect(()=>{r||(c(-1),m.current=!1)},[r]),b.useImperativeHandle(o,()=>({focus(){if(!m.current){const L=P.findIndex(H=>!H.props.disabled);c(L)}}}),[P]),b.useEffect(()=>{l>=E&&c(E-1)},[l,E]);const I=()=>{d(!0),c(E-1),m.current=!0},R=()=>{d(!1)},F=L=>H=>{y.current[L]=H},B=(L,H)=>O=>{c(L),m.current=!0,H&&H(O)},D=L=>{if(E<=1)return;const H=(G,j)=>{var ae;if(G<0||G>P.length)return G;const Z=(j==="left"?-1:1)*(S?-1:1);return(ae=P[G+Z])!=null&&ae.props.disabled?H(G+Z,j):G+Z};let O=l;L.key==="ArrowRight"?O=H(l,"right"):L.key==="ArrowLeft"&&(O=H(l,"left")),!(O<0||O>=E)&&O!==l&&(L.preventDefault(),L.stopPropagation(),c(O))},A=L=>{L.key==="Tab"&&L.preventDefault(),["Tab","Escape"].includes(L.key)&&R()};return C.jsxs("div",ee({role:"menu",ref:f,tabIndex:-1,className:fe.actionsCell,onKeyDown:D},a,{children:[T.map((L,H)=>b.cloneElement(L,{key:H,touchRippleRef:F(H),onClick:B(H,L.props.onClick),tabIndex:l===H?i:-1})),_.length>0&&v&&C.jsx(k.slots.baseIconButton,ee({ref:p,id:v,"aria-label":h.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?w:void 0,role:"menuitem",size:"small",onClick:I,touchRippleRef:F(v),tabIndex:l===T.length?i:-1},(N=k.slotProps)==null?void 0:N.baseIconButton,{children:C.jsx(k.slots.moreActionsIcon,{fontSize:"small"})})),_.length>0&&C.jsx(_4,{open:u,target:p.current,position:s,onClose:R,children:C.jsx(Dm,{id:w,className:fe.menuList,onKeyDown:A,"aria-labelledby":v,variant:"menu",autoFocusItem:!0,children:_.map((L,H)=>b.cloneElement(L,{key:H,closeMenu:R}))})})]}))}const J8e=t=>C.jsx(Q8e,ee({},t)),MT="actions",Z8e=ee({},Oc,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:J8e,getApplyQuickFilterFn:void 0}),Jl=t=>t.rows,ET=mn(Jl,t=>t.totalRowCount),e9e=mn(Jl,t=>t.loading),t9e=mn(Jl,t=>t.totalTopLevelRowCount),Eh=mn(Jl,t=>t.dataRowIdToModelLookup),gC=mn(Jl,t=>t.dataRowIdToIdLookup),_o=mn(Jl,t=>t.tree),n9e=mn(Jl,t=>t.groupsToFetch),r9e=mn(Jl,t=>t.groupingName),F7=mn(Jl,t=>t.treeDepths),Um=Yr(Jl,t=>{const e=Object.entries(t.treeDepths);return e.length===0?1:e.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]+1}),Zx=mn(Jl,t=>t.dataRowIds),i9e=mn(Jl,t=>t==null?void 0:t.additionalRowGroups),Zp=Yr(i9e,t=>{var n,r;const e=t==null?void 0:t.pinnedRows;return{bottom:((n=e==null?void 0:e.bottom)==null?void 0:n.map(i=>({id:i.id,model:i.model??{}})))??[],top:((r=e==null?void 0:e.top)==null?void 0:r.map(i=>({id:i.id,model:i.model??{}})))??[]}}),s9e=mn(Zp,t=>{var e,n;return(((e=t==null?void 0:t.top)==null?void 0:e.length)||0)+(((n=t==null?void 0:t.bottom)==null?void 0:n.length)||0)}),fo="auto-generated-group-node-root",Fg=Symbol("mui.id_autogenerated"),o9e=()=>({type:"group",id:fo,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function a9e(t,e,n="A row was provided without id in the rows prop:"){if(t==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(e)].join(`
`))}const BT=(t,e,n)=>{const r=e?e(t):t.id;return a9e(r,t,n),r},DS=({rows:t,getRowId:e,loading:n,rowCount:r})=>{const i={type:"full",rows:[]},s={},o={};for(let a=0;a<t.length;a+=1){const l=t[a],c=BT(l,e);s[c]=l,o[c]=c,i.rows.push(c)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToIdLookup:o,dataRowIdToModelLookup:s}},Fq=({tree:t,rowCountProp:e=0})=>{const n=t[fo];return Math.max(e,n.children.length+(n.footerId==null?0:1))},Oq=({apiRef:t,rowCountProp:e=0,loadingProp:n,previousTree:r,previousTreeDepths:i,previousGroupsToFetch:s})=>{const o=t.current.caches.rows,{tree:a,treeDepths:l,dataRowIds:c,groupingName:u,groupsToFetch:d=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:o.updates,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIdToModelLookup:o.dataRowIdToModelLookup,previousGroupsToFetch:s}),h=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:l,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIds:c,dataRowIdToModelLookup:o.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},ee({},h,{totalRowCount:Math.max(e,h.dataRowIds.length),totalTopLevelRowCount:Fq({tree:h.tree,rowCountProp:e}),groupingName:u,loading:n,groupsToFetch:d})},vm=t=>t.type==="skeletonRow"||t.type==="footer"||t.type==="group"&&t.isAutoGenerated||t.type==="pinnedRow"&&t.isAutoGenerated,M4=(t,e,n)=>{const r=t[e];if(r.type!=="group")return[];const i=[];for(let s=0;s<r.children.length;s+=1){const o=r.children[s];(!n||!vm(t[o]))&&i.push(o);const a=M4(t,o,n);for(let l=0;l<a.length;l+=1)i.push(a[l])}return!n&&r.footerId!=null&&i.push(r.footerId),i},O7=({previousCache:t,getRowId:e,updates:n,groupKeys:r})=>{if(t.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const i=new Map;n.forEach(u=>{const d=BT(u,e,"A row was provided without id when calling updateRows():");i.has(d)?i.set(d,ee({},i.get(d),u)):i.set(d,u)});const s={type:"partial",actions:{insert:[...t.updates.actions.insert??[]],modify:[...t.updates.actions.modify??[]],remove:[...t.updates.actions.remove??[]]},idToActionLookup:ee({},t.updates.idToActionLookup),groupKeys:r},o=ee({},t.dataRowIdToModelLookup),a=ee({},t.dataRowIdToIdLookup),l={insert:{},modify:{},remove:{}};i.forEach((u,d)=>{const h=s.idToActionLookup[d];if(u._action==="delete"){if(h==="remove"||!o[d])return;h!=null&&(l[h][d]=!0),s.actions.remove.push(d),delete o[d],delete a[d];return}const f=o[d];if(f){h==="remove"?(l.remove[d]=!0,s.actions.modify.push(d)):h==null&&s.actions.modify.push(d),o[d]=ee({},f,u);return}h==="remove"?(l.remove[d]=!0,s.actions.insert.push(d)):h==null&&s.actions.insert.push(d),o[d]=u,a[d]=d});const c=Object.keys(l);for(let u=0;u<c.length;u+=1){const d=c[u],h=l[d];Object.keys(h).length>0&&(s.actions[d]=s.actions[d].filter(f=>!h[f]))}return{dataRowIdToModelLookup:o,dataRowIdToIdLookup:a,updates:s,rowsBeforePartialUpdates:t.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:t.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:t.rowCountPropBeforePartialUpdates}};function l9e(t){var i,s;const e=Zp(t),n=((i=e==null?void 0:e.top)==null?void 0:i.reduce((o,a)=>(o+=t.current.unstable_getRowHeight(a.id),o),0))||0,r=((s=e==null?void 0:e.bottom)==null?void 0:s.reduce((o,a)=>(o+=t.current.unstable_getRowHeight(a.id),o),0))||0;return{top:n,bottom:r}}function $q(t){return`var(--DataGrid-overlayHeight, ${2*vo(t.current.state).rowHeight}px)`}function $7(t,e,n){const r=[];return e.forEach(i=>{const s=BT(i,n,"A row was provided without id when calling updateRows():"),o=t.current.getRowNode(s);if((o==null?void 0:o.type)==="pinnedRow"){const a=t.current.caches.pinnedRows,l=a.idLookup[s];l&&(a.idLookup[s]=ee({},l,i))}else r.push(i)}),r}const Hq=(t,e,n)=>typeof t=="number"&&t>0?t:e,c9e="__tree_data_group__",Vq="__row_group_by_columns_group__",NT="__detail_panel_toggle__",u9e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],d9e=t=>{const{classes:e}=t;return nr({root:["booleanCell"]},rr,e)};function h9e(t){const{value:e,rowNode:n}=t,r=rn(t,u9e),i=Jn(),s=Wt(),o={classes:s.classes},a=d9e(o),c=ut(i,Um)>0&&n.type==="group"&&s.treeData===!1,u=b.useMemo(()=>e?s.slots.booleanCellTrueIcon:s.slots.booleanCellFalseIcon,[s.slots.booleanCellFalseIcon,s.slots.booleanCellTrueIcon,e]);return c&&e===void 0?null:C.jsx(u,ee({fontSize:"small",className:a.root,titleAccess:i.current.getLocaleText(e?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!e},r))}const f9e=b.memo(h9e),p9e=t=>t.field!==Vq&&vm(t.rowNode)?"":C.jsx(f9e,ee({},t)),g9e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],m9e=t=>{const{classes:e}=t;return nr({root:["editBooleanCell"]},rr,e)};function y9e(t){var S;const{id:e,value:n,field:r,className:i,hasFocus:s,onValueChange:o}=t,a=rn(t,g9e),l=Jn(),c=b.useRef(null),u=Qi(),[d,h]=b.useState(n),f=Wt(),p={classes:f.classes},m=m9e(p),y=b.useCallback(async w=>{const v=w.target.checked;o&&await o(w,v),h(v),await l.current.setEditCellValue({id:e,field:r,value:v},w)},[l,r,e,o]);return b.useEffect(()=>{h(n)},[n]),Os(()=>{s&&c.current.focus()},[s]),C.jsx("label",ee({htmlFor:u,className:Ae(m.root,i)},a,{children:C.jsx(f.slots.baseCheckbox,ee({id:u,inputRef:c,checked:!!d,onChange:y,size:"small"},(S=f.slotProps)==null?void 0:S.baseCheckbox))}))}const b9e=t=>C.jsx(y9e,ee({},t)),v9e=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],FS=t=>{if(String(t).toLowerCase()==="true")return!0;if(String(t).toLowerCase()==="false")return!1},w9e=be("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function x9e(t){var k,P,T;const{item:e,applyValue:n,apiRef:r,focusElementRef:i,clearButton:s,tabIndex:o,label:a,variant:l="standard"}=t,c=rn(t,v9e),[u,d]=b.useState(FS(e.value)),h=Wt(),f=Qi(),p=Qi(),m=((k=h.slotProps)==null?void 0:k.baseSelect)||{},y=m.native??!1,S=((P=h.slotProps)==null?void 0:P.baseSelectOption)||{},w=b.useCallback(_=>{const E=FS(_.target.value);d(E),n(ee({},e,{value:E}))},[n,e]);b.useEffect(()=>{d(FS(e.value))},[e.value]);const v=a??r.current.getLocaleText("filterPanelInputLabel");return C.jsxs(w9e,{children:[C.jsxs(h.slots.baseFormControl,{fullWidth:!0,children:[C.jsx(h.slots.baseInputLabel,ee({},(T=h.slotProps)==null?void 0:T.baseInputLabel,{id:f,shrink:!0,variant:l,children:v})),C.jsxs(h.slots.baseSelect,ee({labelId:f,id:p,label:v,value:u===void 0?"":String(u),onChange:w,variant:l,notched:l==="outlined"?!0:void 0,native:y,displayEmpty:!0,inputProps:{ref:i,tabIndex:o}},c,m,{children:[C.jsx(h.slots.baseSelectOption,ee({},S,{native:y,value:"",children:r.current.getLocaleText("filterValueAny")})),C.jsx(h.slots.baseSelectOption,ee({},S,{native:y,value:"true",children:r.current.getLocaleText("filterValueTrue")})),C.jsx(h.slots.baseSelectOption,ee({},S,{native:y,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]}))]}),s]})}const S9e=()=>[{value:"is",getApplyFilterFn:t=>{const e=FS(t.value);return e===void 0?null:n=>!!n===e},InputComponent:x9e}],C9e=(t,e,n,r)=>t?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),k9e=t=>{switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},zq=ee({},Oc,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:p9e,renderEditCell:b9e,sortComparator:Mq,valueFormatter:C9e,filterOperators:S9e(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:t=>k9e(t)}),Wq=t=>t.sorting,tw=mn(Wq,t=>t.sortedRows),E4=Yr(tw,Eh,_o,(t,e,n)=>t.reduce((r,i)=>{const s=e[i];s&&r.push({id:i,model:s});const o=n[i];return o&&vm(o)&&r.push({id:i,model:{[Fg]:i}}),r},[])),wl=mn(Wq,t=>t.sortModel),T9e=Yr(wl,t=>t.reduce((n,r,i)=>(n[r.field]={sortDirection:r.sort,sortIndex:t.length>1?i+1:void 0},n),{})),IT=t=>t.filter,lo=mn(IT,t=>t.filterModel);mn(lo,t=>t.quickFilterValues);const P9e=t=>t.visibleRowsLookup,jm=mn(IT,t=>t.filteredRowsLookup);mn(IT,t=>t.filteredChildrenCountLookup);mn(IT,t=>t.filteredDescendantCountLookup);const ff=Yr(P9e,E4,(t,e)=>e.filter(n=>t[n.id]!==!1)),Og=Yr(ff,t=>t.map(e=>e.id)),Gq=Yr(jm,E4,(t,e)=>e.filter(n=>t[n.id]!==!1)),Uq=Yr(Gq,t=>t.map(e=>e.id));Yr(Og,_o,(t,e)=>{const n={};let r=0;return t.reduce((i,s)=>{const o=e[s];return n[o.depth]||(n[o.depth]=0),o.depth>r&&(n[o.depth]=0),r=o.depth,n[o.depth]+=1,i[s]=n[o.depth],i},{})});const jq=Yr(ff,_o,Um,(t,e,n)=>n<2?t:t.filter(r=>{var i;return((i=e[r.id])==null?void 0:i.depth)===0})),B4=mn(ff,t=>t.length),N4=mn(jq,t=>t.length),_9e=mn(Gq,t=>t.length);mn(_9e,N4,(t,e)=>t-e);const M9e=Yr(lo,Vd,(t,e)=>{var n;return(n=t.items)==null?void 0:n.filter(r=>{var o,a;if(!r.field)return!1;const i=e[r.field];if(!(i!=null&&i.filterOperators)||((o=i==null?void 0:i.filterOperators)==null?void 0:o.length)===0)return!1;const s=i.filterOperators.find(l=>l.value===r.operator);return s?!s.InputComponent||r.value!=null&&((a=r.value)==null?void 0:a.toString())!=="":!1})}),E9e=Yr(M9e,t=>t.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{})),xl=t=>t.rowSelection,B9e=mn(xl,t=>t.length),N9e=Yr(xl,Eh,(t,e)=>new Map(t.map(n=>[n,e[n]]))),yd=Yr(xl,t=>t.reduce((e,n)=>(e[n]=n,e),{}));function Yq(t,e){var l;const n=_o(t),r=tw(t),i=jm(t),s=n[e];if(!s||s.type!=="group")return[];const o=[],a=r.findIndex(c=>c===e)+1;for(let c=a;c<r.length&&((l=n[r[c]])==null?void 0:l.depth)>s.depth;c+=1){const u=r[c];i[u]!==!1&&t.current.isRowSelectable(u)&&o.push(u)}return o}function I9e(t,e){return mn(_o,tw,jm,yd,(n,r,i,s)=>{var u;const o=n[t];if(!o||o.type!=="group")return{isIndeterminate:!1,isChecked:s[t]===t};if(s[t]===t)return{isIndeterminate:!1,isChecked:!0};let a=0,l=0;const c=r.findIndex(d=>d===t)+1;for(let d=c;d<r.length&&((u=n[r[d]])==null?void 0:u.depth)>o.depth;d+=1){const h=r[d];i[h]!==!1&&(a+=1,s[h]!==void 0&&(l+=1))}return{isIndeterminate:l>0&&(l<a||s[t]===void 0),isChecked:e?l>0:s[t]===t}})}function I4(t){return t.signature===Hl.DataGrid?t.checkboxSelection&&t.disableMultipleRowSelection!==!0:!t.disableMultipleRowSelection}const A9e=(t,e)=>{const n=[];let r=e;for(;r!=null&&r!==fo;){const i=t[r];if(!i)return n;n.push(r),r=i.parent}return n},R9e=(t,e,n)=>{const r=t[n];if(!r)return[];const i=r.parent;return i==null?[]:t[i].children.filter(o=>o!==n&&e[o])},eS=(t,e,n,r,i,s)=>{const o=jm(t),a=yd(t),l=new Set([]);if(!(!r&&!i)){if(r){const c=e[n];(c==null?void 0:c.type)==="group"&&Yq(t,n).forEach(d=>{s(d),l.add(d)})}if(i){const c=d=>{if(a[d]!==d&&!l.has(d))return!1;const h=e[d];return(h==null?void 0:h.type)!=="group"?!0:h.children.every(c)},u=d=>{const h=R9e(e,o,d);if(h.length===0||h.every(c)){const p=e[d].parent;p!=null&&p!==fo&&t.current.isRowSelectable(p)&&(s(p),l.add(p),u(p))}};u(n)}}},H7=(t,e,n,r,i,s)=>{const o=yd(t);if(!(!i&&!r)&&(i&&A9e(e,n).forEach(l=>{o[l]===l&&s(l)}),r)){const a=e[n];(a==null?void 0:a.type)==="group"&&Yq(t,n).forEach(c=>{s(c)})}},L9e=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],D9e=t=>{const{classes:e}=t;return nr({root:["checkboxInput"]},rr,e)},F9e=b.forwardRef(function(e,n){var E,I;const{field:r,id:i,rowNode:s,hasFocus:o,tabIndex:a}=e,l=rn(e,L9e),c=Jn(),u=Wt(),d={classes:u.classes},h=D9e(d),f=b.useRef(null),p=b.useRef(null),m=uf(f,n),y=R=>{const F={value:R.target.checked,id:i};c.current.publishEvent("rowSelectionCheckboxChange",F,R)};b.useLayoutEffect(()=>{if(a===0){const R=c.current.getCellElement(i,r);R&&(R.tabIndex=-1)}},[c,a,i,r]),b.useEffect(()=>{var R;if(o){const F=(R=f.current)==null?void 0:R.querySelector("input");F==null||F.focus({preventScroll:!0})}else p.current&&p.current.stop({})},[o]);const S=b.useCallback(R=>{R.key===" "&&R.stopPropagation()},[]),w=c.current.isRowSelectable(i),v=I9e(i,((E=u.rowSelectionPropagation)==null?void 0:E.parents)??!1),{isIndeterminate:k,isChecked:P}=ut(c,v);if(s.type==="footer"||s.type==="pinnedRow")return null;const T=c.current.getLocaleText(P?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow"),_=u.indeterminateCheckboxAction==="select"?P&&!k:P;return C.jsx(u.slots.baseCheckbox,ee({ref:m,tabIndex:a,checked:_,onChange:y,className:h.root,inputProps:{"aria-label":T},onKeyDown:S,indeterminate:k,disabled:!w,touchRippleRef:p},(I=u.slotProps)==null?void 0:I.baseCheckbox,l))}),O9e=F9e,AT=t=>t.focus,Oa=mn(AT,t=>t.cell),$9e=mn(AT,t=>t.columnHeader);mn(AT,t=>t.columnHeaderFilter);const mC=mn(AT,t=>t.columnGroupHeader),RT=t=>t.tabIndex,A4=mn(RT,t=>t.cell),Xq=mn(RT,t=>t.columnHeader);mn(RT,t=>t.columnHeaderFilter);const H9e=mn(RT,t=>t.columnGroupHeader);function Gn(t,e,n){const r=b.useRef(!0);Os(()=>{r.current=!1,t.current.register(n,e)},[t,n,e]),r.current&&t.current.register(n,e)}function zs(t,e){const n=b.useRef(null);if(n.current)return n.current;const r=t.current.getLogger(e);return n.current=r,r}const qq=(t,e,n,r,i)=>{const s=zs(t,"useNativeEventListener"),[o,a]=b.useState(!1),l=b.useRef(r),c=Bq(e)?e():(e==null?void 0:e.current)??null,u=b.useCallback(d=>l.current&&l.current(d),[]);b.useEffect(()=>{l.current=r},[r]),b.useEffect(()=>{if(c&&n&&!o){s.debug(`Binding native ${n} event`),c.addEventListener(n,u,i),a(!0);const d=()=>{s.debug(`Clearing native ${n} event`),c.removeEventListener(n,u,i)};t.current.subscribeEvent("unmount",d)}},[c,u,n,o,s,i,t])},nw=t=>{const e=b.useRef(!0);e.current&&(e.current=!1,t())},V9e=()=>{},z9e=(t,e)=>{const n=b.useRef(!1);Os(()=>n.current||!t?V9e:(n.current=!0,e()),[n.current||t])},W9e=100,G9e=t=>t?0:100,Kq=(t,e,n)=>e>0&&t>0?Math.ceil(t/e):t===-1?n+2:0,Qq=t=>({page:0,pageSize:t?0:100}),U9e=(t,e=0)=>e===0?t:Math.max(Math.min(t,e-1),0),Jq=(t,e)=>{if(e===Hl.DataGrid&&t>W9e)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},j9e=-1,LT=t=>t.pagination,Go=mn(LT,t=>t.paginationModel),xg=mn(LT,t=>t.rowCount),py=mn(LT,t=>t.meta),Y9e=mn(Go,t=>t.page),X9e=mn(Go,t=>t.pageSize),Zq=mn(Go,xg,(t,e)=>Kq(e,t.pageSize,t.page)),R4=Yr(Go,_o,Um,ff,jq,(t,e,n,r,i)=>{var f;const s=i.length,o=Math.min(t.pageSize*t.page,s-1),a=t.pageSize===j9e?s-1:Math.min(o+t.pageSize-1,s-1);if(o===-1||a===-1)return null;if(n<2)return{firstRowIndex:o,lastRowIndex:a};const l=i[o],c=a-o+1,u=r.findIndex(p=>p.id===l.id);let d=u,h=0;for(;d<r.length&&h<=c;){const p=r[d],m=(f=e[p.id])==null?void 0:f.depth;m===void 0?d+=1:((h<c||m>0)&&(d+=1),m===0&&(h+=1))}return{firstRowIndex:u,lastRowIndex:d-1}}),q9e=Yr(ff,R4,(t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[]),eK=Yr(Og,R4,(t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[]),K9e=["field","colDef"],Q9e=t=>{const{classes:e}=t;return nr({root:["checkboxInput"]},rr,e)},J9e=b.forwardRef(function(e,n){var E;const r=rn(e,K9e),[,i]=b.useState(!1),s=Jn(),o=Wt(),a={classes:o.classes},l=Q9e(a),c=ut(s,Xq),u=ut(s,xl),d=ut(s,Og),h=ut(s,eK),f=b.useMemo(()=>typeof o.isRowSelectable!="function"?u:u.filter(I=>s.current.getRow(I)?o.isRowSelectable(s.current.getRowParams(I)):!1),[s,o.isRowSelectable,u]),p=b.useMemo(()=>(!o.pagination||!o.checkboxSelectionVisibleOnly?d:h).reduce((R,F)=>(R[F]=!0,R),{}),[o.pagination,o.checkboxSelectionVisibleOnly,h,d]),m=b.useMemo(()=>f.filter(I=>p[I]).length,[f,p]),y=m>0&&m<Object.keys(p).length,S=m>0,w=I=>{const R={value:I.target.checked};s.current.publishEvent("headerSelectionCheckboxChange",R)},v=c!==null&&c.field===e.field?0:-1;b.useLayoutEffect(()=>{const I=s.current.getColumnHeaderElement(e.field);v===0&&I&&(I.tabIndex=-1)},[v,s,e.field]);const k=b.useCallback(I=>{I.key===" "&&s.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[s,S]),P=b.useCallback(()=>{i(I=>!I)},[]);b.useEffect(()=>s.current.subscribeEvent("rowSelectionChange",P),[s,P]);const T=s.current.getLocaleText(S?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows"),_=o.indeterminateCheckboxAction==="select"?S&&!y:S;return C.jsx(o.slots.baseCheckbox,ee({ref:n,indeterminate:y,checked:_,onChange:w,className:l.root,inputProps:{"aria-label":T},tabIndex:v,onKeyDown:k,disabled:!I4(o)},(E=o.slotProps)==null?void 0:E.baseCheckbox,r))}),qu="__check__",Ym=ee({},zq,{type:"custom",field:qu,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(t,e,n,r)=>{const i=yd(r),s=r.current.getRowId(e);return i[s]!==void 0},renderHeader:t=>C.jsx(J9e,ee({},t)),renderCell:t=>C.jsx(O9e,ee({},t))}),Z9e=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function V7(t,e){if(t==null)return"";const n=new Date(t);return Number.isNaN(n.getTime())?"":e==="date"?n.toISOString().substring(0,10):e==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function A0(t){var v;const{item:e,applyValue:n,type:r,apiRef:i,focusElementRef:s,InputProps:o,clearButton:a,tabIndex:l,disabled:c}=t,u=rn(t,Z9e),d=Wm(),[h,f]=b.useState(()=>V7(e.value,r)),[p,m]=b.useState(!1),y=Qi(),S=Wt(),w=b.useCallback(k=>{d.clear();const P=k.target.value;f(P),m(!0),d.start(S.filterDebounceMs,()=>{const T=new Date(P);n(ee({},e,{value:Number.isNaN(T.getTime())?void 0:T})),m(!1)})},[n,e,S.filterDebounceMs,d]);return b.useEffect(()=>{const k=V7(e.value,r);f(k)},[e.value,r]),C.jsx(S.slots.baseTextField,ee({fullWidth:!0,id:y,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:h,onChange:w,variant:"standard",type:r||"text",InputLabelProps:{shrink:!0},inputRef:s,InputProps:ee({},p||a?{endAdornment:p?C.jsx(S.slots.loadIcon,{fontSize:"small",color:"action"}):a}:{},{disabled:c},o,{inputProps:ee({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:l},o==null?void 0:o.inputProps)})},u,(v=S.slotProps)==null?void 0:v.baseTextField))}function R0(t,e,n,r){if(!t.value)return null;const i=new Date(t.value);n?i.setSeconds(0,0):(i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i.setHours(0,0,0,0));const s=i.getTime();return o=>{if(!o)return!1;if(r)return e(o.getTime(),s);const a=new Date(o);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),e(a.getTime(),s)}}const tK=t=>[{value:"is",getApplyFilterFn:e=>R0(e,(n,r)=>n===r,t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"not",getApplyFilterFn:e=>R0(e,(n,r)=>n!==r,t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"after",getApplyFilterFn:e=>R0(e,(n,r)=>n>r,t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:e=>R0(e,(n,r)=>n>=r,t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"before",getApplyFilterFn:e=>R0(e,(n,r)=>n<r,t,!t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:e=>R0(e,(n,r)=>n<=r,t),InputComponent:A0,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1}],e7e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],t7e=be(Am)({fontSize:"inherit"}),n7e=t=>{const{classes:e}=t;return nr({root:["editInputCell"]},rr,e)};function r7e(t){const{id:e,value:n,field:r,colDef:i,hasFocus:s,inputProps:o,onValueChange:a}=t,l=rn(t,e7e),c=i.type==="dateTime",u=Jn(),d=b.useRef(),h=b.useMemo(()=>{let k;n==null?k=null:n instanceof Date?k=n:k=new Date((n??"").toString());let P;return k==null||Number.isNaN(k.getTime())?P="":P=new Date(k.getTime()-k.getTimezoneOffset()*60*1e3).toISOString().substr(0,c?16:10),{parsed:k,formatted:P}},[n,c]),[f,p]=b.useState(h),y={classes:Wt().classes},S=n7e(y),w=b.useCallback(k=>{if(k==="")return null;const[P,T]=k.split("T"),[_,E,I]=P.split("-"),R=new Date;if(R.setFullYear(Number(_),Number(E)-1,Number(I)),R.setHours(0,0,0,0),T){const[F,B]=T.split(":");R.setHours(Number(F),Number(B),0,0)}return R},[]),v=b.useCallback(async k=>{const P=k.target.value,T=w(P);a&&await a(k,T),p({parsed:T,formatted:P}),u.current.setEditCellValue({id:e,field:r,value:T},k)},[u,r,e,a,w]);return b.useEffect(()=>{p(k=>{var P,T;return h.parsed!==k.parsed&&((P=h.parsed)==null?void 0:P.getTime())!==((T=k.parsed)==null?void 0:T.getTime())?h:k})},[h]),Os(()=>{s&&d.current.focus()},[s]),C.jsx(t7e,ee({inputRef:d,fullWidth:!0,className:S.root,type:c?"datetime-local":"date",inputProps:ee({max:c?"9999-12-31T23:59":"9999-12-31"},o),value:f.formatted,onChange:v},l))}const nK=t=>C.jsx(r7e,ee({},t));function rK({value:t,columnType:e,rowId:n,field:r}){if(!(t instanceof Date))throw new Error([`MUI X: \`${e}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const i7e=(t,e,n,r)=>{if(!t)return"";const i=r.current.getRowId(e);return rK({value:t,columnType:"date",rowId:i,field:n.field}),t.toLocaleDateString()},s7e=(t,e,n,r)=>{if(!t)return"";const i=r.current.getRowId(e);return rK({value:t,columnType:"dateTime",rowId:i,field:n.field}),t.toLocaleString()},o7e=ee({},Oc,{type:"date",sortComparator:Eq,valueFormatter:i7e,filterOperators:tK(),renderEditCell:nK,pastedValueParser:t=>new Date(t)}),a7e=ee({},Oc,{type:"dateTime",sortComparator:Eq,valueFormatter:s7e,filterOperators:tK(!0),renderEditCell:nK,pastedValueParser:t=>new Date(t)}),yh=t=>t==null?null:Number(t),l7e=t=>t==null||Number.isNaN(t)||t===""?null:e=>yh(e)===yh(t),c7e=()=>[{value:"=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>yh(e)===t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>yh(e)!==t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:yh(e)>t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:yh(e)>=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:yh(e)<t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:e=>e==null?!1:yh(e)<=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>!Array.isArray(t.value)||t.value.length===0?null:e=>e!=null&&t.value.includes(Number(e)),InputComponent:Iq,InputComponentProps:{type:"number"}}],u7e=ee({},Oc,{type:"number",align:"right",headerAlign:"right",sortComparator:Mq,valueParser:t=>t===""?null:Number(t),valueFormatter:t=>N8e(t)?t.toLocaleString():t||"",filterOperators:c7e(),getApplyQuickFilterFn:l7e});function wm(t){return(t==null?void 0:t.type)==="singleSelect"}function Lp(t,e){if(t)return typeof t.valueOptions=="function"?t.valueOptions(ee({field:t.field},e)):t.valueOptions}function yC(t,e,n){if(e===void 0)return;const r=e.find(i=>{const s=n(i);return String(s)===String(t)});return n(r)}const d7e=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],h7e=["MenuProps"];function f7e(t){return!!t.key}function p7e(t){var B,D;const e=Wt(),{id:n,value:r,field:i,row:s,colDef:o,hasFocus:a,error:l,onValueChange:c,initialOpen:u=e.editMode===Bu.Cell}=t,d=rn(t,d7e),h=Jn(),f=b.useRef(),p=b.useRef(),[m,y]=b.useState(u),w=(((B=e.slotProps)==null?void 0:B.baseSelect)||{}).native??!1,v=((D=e.slotProps)==null?void 0:D.baseSelect)||{},{MenuProps:k}=v,P=rn(v,h7e);if(Os(()=>{var A;a&&((A=p.current)==null||A.focus())},[a]),!wm(o))return null;const T=Lp(o,{id:n,row:s});if(!T)return null;const _=o.getOptionValue,E=o.getOptionLabel,I=async A=>{if(!wm(o)||!T)return;y(!1);const N=A.target,L=yC(N.value,T,_);c&&await c(A,L),await h.current.setEditCellValue({id:n,field:i,value:L},A)},R=(A,N)=>{if(e.editMode===Bu.Row){y(!1);return}if(N==="backdropClick"||A.key==="Escape"){const L=h.current.getCellParams(n,i);h.current.publishEvent("cellEditStop",ee({},L,{reason:A.key==="Escape"?fc.escapeKeyDown:fc.cellFocusOut}))}},F=A=>{f7e(A)&&A.key==="Enter"||y(!0)};return!T||!o?null:C.jsx(e.slots.baseSelect,ee({ref:f,inputRef:p,value:r,onChange:I,open:m,onOpen:F,MenuProps:ee({onClose:R},k),error:l,native:w,fullWidth:!0},d,P,{children:T.map(A=>{var L;const N=_(A);return b.createElement(e.slots.baseSelectOption,ee({},((L=e.slotProps)==null?void 0:L.baseSelectOption)||{},{native:w,key:N,value:N}),E(A))})}))}const g7e=t=>C.jsx(p7e,ee({},t)),m7e=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],y7e=({column:t,OptionComponent:e,getOptionLabel:n,getOptionValue:r,isSelectNative:i,baseSelectOptionProps:s})=>["",...Lp(t)||[]].map(a=>{const l=r(a);let c=n(a);return c===""&&(c=""),b.createElement(e,ee({},s,{native:i,key:l,value:l}),c)}),b7e=be("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function z7(t){var _,E,I,R,F;const{item:e,applyValue:n,type:r,apiRef:i,focusElementRef:s,placeholder:o,tabIndex:a,label:l,variant:c="standard",clearButton:u}=t,d=rn(t,m7e),h=e.value??"",f=Qi(),p=Qi(),m=Wt(),y=((E=(_=m.slotProps)==null?void 0:_.baseSelect)==null?void 0:E.native)??!1;let S=null;if(e.field){const B=i.current.getColumn(e.field);wm(B)&&(S=B)}const w=S==null?void 0:S.getOptionValue,v=S==null?void 0:S.getOptionLabel,k=b.useMemo(()=>Lp(S),[S]),P=b.useCallback(B=>{let D=B.target.value;D=yC(D,k,w),n(ee({},e,{value:D}))},[k,w,n,e]);if(!wm(S))return null;const T=l??i.current.getLocaleText("filterPanelInputLabel");return C.jsxs(b7e,{children:[C.jsxs(m.slots.baseFormControl,{fullWidth:!0,children:[C.jsx(m.slots.baseInputLabel,ee({},(I=m.slotProps)==null?void 0:I.baseInputLabel,{id:p,htmlFor:f,shrink:!0,variant:c,children:T})),C.jsx(m.slots.baseSelect,ee({id:f,label:T,labelId:p,value:h,onChange:P,variant:c,type:r||"text",inputProps:{tabIndex:a,ref:s,placeholder:o??i.current.getLocaleText("filterPanelInputPlaceholder")},native:y,notched:c==="outlined"?!0:void 0},d,(R=m.slotProps)==null?void 0:R.baseSelect,{children:y7e({column:S,OptionComponent:m.slots.baseSelectOption,getOptionLabel:v,getOptionValue:w,isSelectNative:y,baseSelectOptionProps:(F=m.slotProps)==null?void 0:F.baseSelectOption})}))]}),u]})}const v7e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],w7e=["key"],x7e=fG();function S7e(t){const{item:e,applyValue:n,apiRef:r,focusElementRef:i,color:s,error:o,helperText:a,size:l,variant:c="standard"}=t,u=rn(t,v7e),d={color:s,error:o,helperText:a,size:l,variant:c},h=Qi(),f=Wt();let p=null;if(e.field){const P=r.current.getColumn(e.field);wm(P)&&(p=P)}const m=p==null?void 0:p.getOptionValue,y=p==null?void 0:p.getOptionLabel,S=b.useCallback((P,T)=>m(P)===m(T),[m]),w=b.useMemo(()=>Lp(p)||[],[p]),v=b.useMemo(()=>Array.isArray(e.value)?e.value.reduce((P,T)=>{const _=w.find(E=>m(E)===T);return _!=null&&P.push(_),P},[]):[],[m,e.value,w]),k=b.useCallback((P,T)=>{n(ee({},e,{value:T.map(m)}))},[n,e,m]);return C.jsx(bG,ee({multiple:!0,options:w,isOptionEqualToValue:S,filterOptions:x7e,id:h,value:v,onChange:k,getOptionLabel:y,renderTags:(P,T)=>P.map((_,E)=>{const I=T({index:E}),{key:R}=I,F=rn(I,w7e);return C.jsx(f.slots.baseChip,ee({variant:"outlined",size:"small",label:y(_)},F),R)}),renderInput:P=>{var T;return C.jsx(f.slots.baseTextField,ee({},P,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:ee({},P.InputLabelProps,{shrink:!0}),inputRef:i,type:"singleSelect"},d,(T=f.slotProps)==null?void 0:T.baseTextField))}},u))}const L0=t=>t==null||!T4(t)?t:t.value,C7e=()=>[{value:"is",getApplyFilterFn:t=>t.value==null||t.value===""?null:e=>L0(e)===L0(t.value),InputComponent:z7},{value:"not",getApplyFilterFn:t=>t.value==null||t.value===""?null:e=>L0(e)!==L0(t.value),InputComponent:z7},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const e=t.value.map(L0);return n=>e.includes(L0(n))},InputComponent:S7e}],k7e=t=>typeof t[0]=="object",T7e=t=>T4(t)?t.value:t,P7e=t=>T4(t)?t.label:String(t),_7e=ee({},Oc,{type:"singleSelect",getOptionLabel:P7e,getOptionValue:T7e,valueFormatter(t,e,n,r){const i=r.current.getRowId(e);if(!wm(n))return"";const s=Lp(n,{id:i,row:e});if(t==null)return"";if(!s)return t;if(!k7e(s))return n.getOptionLabel(t);const o=s.find(a=>n.getOptionValue(a)===t);return o?n.getOptionLabel(o):""},renderEditCell:g7e,filterOperators:C7e(),pastedValueParser:(t,e,n)=>{const r=n,i=Lp(r)||[],s=r.getOptionValue;if(i.find(a=>s(a)===t))return t}}),M7e="string",E7e=()=>({string:Oc,number:u7e,date:o7e,dateTime:a7e,boolean:zq,singleSelect:_7e,[MT]:Z8e,custom:Oc}),L4=t=>t.headerFiltering,B7e=mn(L4,t=>(t==null?void 0:t.enabled)??!1),N7e=mn(L4,t=>t.editing),I7e=mn(L4,t=>t.menuOpen),DT=t=>t.columnGrouping,iK=Yr(DT,t=>(t==null?void 0:t.unwrappedGroupingModel)??{}),sK=Yr(DT,t=>(t==null?void 0:t.lookup)??{}),A7e=Yr(DT,t=>(t==null?void 0:t.headerStructure)??[]),rw=mn(DT,t=>(t==null?void 0:t.maxDepth)??0),oK=["maxWidth","minWidth","width","flex"],q3=E7e();function R7e({initialFreeSpace:t,totalFlexUnits:e,flexColumns:n}){const r=new Set(n.map(o=>o.field)),i={all:{},frozenFields:[],freeze:o=>{const a=i.all[o];a&&a.frozen!==!0&&(i.all[o].frozen=!0,i.frozenFields.push(o))}};function s(){if(i.frozenFields.length===r.size)return;const o={min:{},max:{}};let a=t,l=e,c=0;i.frozenFields.forEach(u=>{a-=i.all[u].computedWidth,l-=i.all[u].flex});for(let u=0;u<n.length;u+=1){const d=n[u];if(i.all[d.field]&&i.all[d.field].frozen===!0)continue;let f=a/l*d.flex;f<d.minWidth?(c+=d.minWidth-f,f=d.minWidth,o.min[d.field]=!0):f>d.maxWidth&&(c+=d.maxWidth-f,f=d.maxWidth,o.max[d.field]=!0),i.all[d.field]={frozen:!1,computedWidth:f,flex:d.flex}}c<0?Object.keys(o.max).forEach(u=>{i.freeze(u)}):c>0?Object.keys(o.min).forEach(u=>{i.freeze(u)}):n.forEach(({field:u})=>{i.freeze(u)}),s()}return s(),i.all}const _5=(t,e)=>{const n={};let r=0,i=0;const s=[];t.orderedFields.forEach(l=>{let c=t.lookup[l],u=0,d=!1;t.columnVisibilityModel[l]!==!1&&(c.flex&&c.flex>0?(r+=c.flex,d=!0):u=ku(c.width||Oc.width,c.minWidth||Oc.minWidth,c.maxWidth||Oc.maxWidth),i+=u),c.computedWidth!==u&&(c=ee({},c,{computedWidth:u})),d&&s.push(c),n[l]=c});const o=e===void 0?0:e.viewportOuterSize.width-(e.hasScrollY?e.scrollbarSize:0),a=Math.max(o-i,0);if(r>0&&o>0){const l=R7e({initialFreeSpace:a,totalFlexUnits:r,flexColumns:s});Object.keys(l).forEach(c=>{n[c].computedWidth=l[c].computedWidth})}return ee({},t,{lookup:n})},L7e=(t,e)=>{if(!e)return t;const{orderedFields:n=[],dimensions:r={}}=e,i=Object.keys(r);if(i.length===0&&n.length===0)return t;const s={},o=[];for(let u=0;u<n.length;u+=1){const d=n[u];t.lookup[d]&&(s[d]=!0,o.push(d))}const a=o.length===0?t.orderedFields:[...o,...t.orderedFields.filter(u=>!s[u])],l=ee({},t.lookup);for(let u=0;u<i.length;u+=1){const d=i[u],h=ee({},l[d],{hasBeenResized:!0});Object.entries(r[d]).forEach(([f,p])=>{h[f]=p===-1?1/0:p}),l[d]=h}return ee({},t,{orderedFields:a,lookup:l})};function W7(t){let e=q3[M7e];return t&&q3[t]&&(e=q3[t]),e}const q0=({apiRef:t,columnsToUpsert:e,initialState:n,columnVisibilityModel:r=Fl(t),keepOnlyColumnsToUpsert:i=!1})=>{var u,d;const s=!t.current.state.columns;let o;if(s)o={orderedFields:[],lookup:{},columnVisibilityModel:r};else{const h=Cu(t.current.state);o={orderedFields:i?[]:[...h.orderedFields],lookup:ee({},h.lookup),columnVisibilityModel:r}}let a={};i&&!s&&(a=Object.keys(o.lookup).reduce((h,f)=>ee({},h,{[f]:!1}),{})),e.forEach(h=>{const{field:f}=h;a[f]=!0;let p=o.lookup[f];p==null?(p=ee({},W7(h.type),{field:f,hasBeenResized:!1}),o.orderedFields.push(f)):i&&o.orderedFields.push(f),p&&p.type!==h.type&&(p=ee({},W7(h.type),{field:f}));let m=p.hasBeenResized;oK.forEach(y=>{h[y]!==void 0&&(m=!0,h[y]===-1&&(h[y]=1/0))}),o.lookup[f]=bq(p,ee({},h,{hasBeenResized:m}))}),i&&!s&&Object.keys(o.lookup).forEach(h=>{a[h]||delete o.lookup[h]});const l=t.current.unstable_applyPipeProcessors("hydrateColumns",o),c=L7e(l,n);return _5(c,((d=(u=t.current).getRootDimensions)==null?void 0:d.call(u))??void 0)};function D7e({firstColumnToRender:t,apiRef:e,firstRowToRender:n,lastRowToRender:r,visibleRows:i}){let s=t;for(let o=n;o<r;o+=1)if(i[o]){const l=i[o].id,c=e.current.unstable_getCellColSpanInfo(l,t);c&&c.spannedByColSpan&&(s=c.leftVisibleCellIndex)}return s}function D4(t,e){if(e.unstable_listView)return 0;const n=Zv(t),r=rw(t),i=B7e(t),s=Math.floor(e.columnHeaderHeight*n),o=i?Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n):0;return s*(1+(r??0))+o}const G7=1,F7e=1.5,O7e=t=>{const{scrollDirection:e,classes:n}=t,r={root:["scrollArea",`scrollArea--${e}`]};return nr(r,rr,n)},$7e=Hr("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(t,e)=>[{[`&.${fe["scrollArea--left"]}`]:e["scrollArea--left"]},{[`&.${fe["scrollArea--right"]}`]:e["scrollArea--right"]},e.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${fe["scrollArea--left"]}`]:{left:0},[`&.${fe["scrollArea--right"]}`]:{right:0}}));function H7e(t){const{scrollDirection:e}=t,n=b.useRef(null),r=Jn(),i=Wm(),s=ut(r,Zv),o=ut(r,C4),a=ut(r,vo),l=b.useRef({left:0,top:0}),c=()=>{if(e==="left")return l.current.left>0;if(e==="right"){const E=o-a.viewportInnerSize.width;return l.current.left<E}return!1},[u,d]=b.useState(!1),[h,f]=b.useState(c),p=Wt(),m=ee({},p,{scrollDirection:e}),y=O7e(m),S=D4(r,p),w=Math.floor(p.columnHeaderHeight*s),v={height:w,top:S-w};e==="left"?v.left=a.leftPinnedWidth:e==="right"&&(v.right=a.rightPinnedWidth+(a.hasScrollX?a.scrollbarSize:0));const k=E=>{l.current=E,f(c)},P=ui(E=>{let I;if(E.preventDefault(),e==="left")I=E.clientX-n.current.getBoundingClientRect().right;else if(e==="right")I=Math.max(1,E.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");I=(I-G7)*F7e+G7,i.start(0,()=>{r.current.scroll({left:l.current.left+I,top:l.current.top})})}),T=ui(()=>{d(!0)}),_=ui(()=>{d(!1)});return Ot(r,"scrollPositionChange",k),Ot(r,"columnHeaderDragStart",T),Ot(r,"columnHeaderDragEnd",_),!u||!h?null:C.jsx($7e,{ref:n,className:Ae(y.root),ownerState:m,onDragOver:P,style:v})}const U7=df(H7e),V7e=typeof window<"u"?b.useLayoutEffect:b.useEffect,z7e=()=>{};function W7e(t,e,n){const r=b.useRef(null);r.current=e,V7e(()=>{if(n===!1||typeof ResizeObserver>"u")return z7e;const i=t.current,s=new ResizeObserver(o=>{r.current(o)});return i&&s.observe(i),()=>{s.disconnect()}},[t,n])}const aK=b.createContext(void 0);function Zl(){const t=b.useContext(aK);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const $g=(t,e)=>{let n,r;return e.pagination&&e.paginationMode==="client"?(r=R4(t),n=q9e(t)):(n=ff(t),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},pf=(t,e)=>{const n=$g(t,e);return b.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},G7e=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",U7e=G7e.includes("firefox"),Xm=t=>t.rowsMeta,FT=t=>t.virtualization;mn(FT,t=>t.enabled);const F4=mn(FT,t=>t.enabledForColumns),j7e=mn(FT,t=>t.enabledForRows),OT=mn(FT,t=>t.renderContext),Y7e=Yr(t=>t.virtualization.renderContext.firstColumnIndex,t=>t.virtualization.renderContext.lastColumnIndex,(t,e)=>({firstColumnIndex:t,lastColumnIndex:e})),lK={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},X7e=(t,e)=>{const{disableVirtualization:n,autoHeight:r}=e;return ee({},t,{virtualization:{enabled:!n,enabledForColumns:!n,enabledForRows:!n&&!r,renderContext:lK}})};function q7e(t,e){const n=s=>{t.current.setState(o=>ee({},o,{virtualization:ee({},o.virtualization,{enabled:s,enabledForColumns:s,enabledForRows:s&&!e.autoHeight})}))};Gn(t,{unstable_setVirtualization:n,unstable_setColumnVirtualization:s=>{t.current.setState(o=>ee({},o,{virtualization:ee({},o.virtualization,{enabledForColumns:s})}))}},"public"),b.useEffect(()=>{n(!e.disableVirtualization)},[e.disableVirtualization,e.autoHeight])}const O4=t=>t.rowSpanning,cK=mn(O4,t=>t.hiddenCells),K7e=mn(O4,t=>t.spannedCells),Q7e=mn(O4,t=>t.hiddenCellOriginMap),xm=t=>t.listViewColumn,K3=50;var as=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t}(as||{});const j7={top:0,left:0},J7e=Object.freeze(new Map),Z7e=(t,e,n,r,i)=>({direction:as.NONE,buffer:dK(t,as.NONE,e,n,r,i)});let M5=!1;try{typeof window<"u"&&(M5=/jsdom/.test(window.navigator.userAgent))}catch{}const e$e=()=>{const t=Zl(),e=Wt(),{unstable_listView:n}=e,r=ut(t,()=>n?[xm(t.current.state)]:Ps(t)),i=ut(t,j7e)&&!M5,s=ut(t,F4)&&!M5,o=ut(t,vo),a=o.viewportOuterSize,l=ut(t,Zp),c=ut(t,ew),u=n?{left:[],right:[]}:c,d=l.bottom.length>0,[h,f]=b.useState(J7e),p=Vr(),m=ut(t,Oa),y=ut(t,A4),S=ut(t,Xm),w=ut(t,yd),v=pf(t,e),k=t.current.rootElementRef,P=t.current.mainElementRef,T=t.current.virtualScrollerRef,_=t.current.virtualScrollbarVerticalRef,E=t.current.virtualScrollbarHorizontalRef,I=o.contentSize.height,R=o.columnsTotalWidth,F=ut(t,b8e);W7e(P,()=>t.current.resize());const B=b.useRef(j7),D=b.useRef(j7),A=b.useRef(lK),N=ut(t,OT),L=Wm(),H=b.useRef(void 0),O=Iu(()=>Z7e(p,e.rowBufferPx,e.columnBufferPx,o.rowHeight*15,K3*6)).current,G={rowIndex:b.useMemo(()=>m?v.rows.findIndex(Y=>Y.id===m.id):-1,[m,v.rows]),columnIndex:b.useMemo(()=>m?r.findIndex(Y=>Y.field===m.field):-1,[m,r])},j=b.useCallback(Y=>{if(r$e(Y,t.current.state.virtualization.renderContext))return;const le=Y.firstRowIndex!==A.current.firstRowIndex||Y.lastRowIndex!==A.current.lastRowIndex;t.current.setState(ie=>ee({},ie,{virtualization:ee({},ie.virtualization,{renderContext:Y})})),o.isReady&&le&&(A.current=Y,t.current.publishEvent("renderedRowsIntervalChange",Y)),D.current=B.current},[t,o.isReady]),J=ui(()=>{const Y={top:T.current.scrollTop,left:T.current.scrollLeft},le=Y.left-B.current.left,ie=Y.top-B.current.top,re=le!==0||ie!==0;B.current=Y;const se=re?i$e(le,ie):as.NONE,ue=Math.abs(B.current.top-D.current.top),we=Math.abs(B.current.left-D.current.left),Pe=ue>=o.rowHeight||we>=K3,te=O.direction!==se;if(!(Pe||te))return N;if(te)switch(se){case as.NONE:case as.LEFT:case as.RIGHT:H.current=void 0;break;default:H.current=N;break}O.direction=se,O.buffer=dK(p,se,e.rowBufferPx,e.columnBufferPx,o.rowHeight*15,K3*6);const ge=Q3(t,e,i,s),Te=J3(ge,B.current,O);return _m.flushSync(()=>{j(Te)}),L.start(1e3,J),Te}),Z=()=>{const Y=Q3(t,e,i,s),le=J3(Y,B.current,O);H.current=void 0,j(le)},ae=ui(Y=>{const{scrollTop:le,scrollLeft:ie}=Y.currentTarget;if(le<0||!p&&ie<0||p&&ie>0)return;const re=J();t.current.publishEvent("scrollPositionChange",{top:le,left:ie,renderContext:re})}),z=ui(Y=>{t.current.publishEvent("virtualScrollerWheel",{},Y)}),$=ui(Y=>{t.current.publishEvent("virtualScrollerTouchMove",{},Y)}),W=(Y={})=>{var Ie;if(!Y.rows&&!v.range)return[];const le=Y.renderContext??N,ie=!d&&Y.position===void 0||d&&Y.position==="bottom",re=Y.position!==void 0;let se;switch(Y.position){case"top":se=0;break;case"bottom":se=l.top.length+v.rows.length;break;case void 0:se=l.top.length;break}const ue=Y.rows??v.rows,we=le.firstRowIndex,Pe=Math.min(le.lastRowIndex,ue.length),te=Y.rows?B7(0,Y.rows.length):B7(we,Pe);let pe=-1;!re&&G.rowIndex!==-1&&(G.rowIndex<we&&(pe=G.rowIndex,te.unshift(pe)),G.rowIndex>=Pe&&(pe=G.rowIndex,te.push(pe)));const ge=[],Te=(Ie=e.slotProps)==null?void 0:Ie.row,Re=hf(t);return te.forEach(he=>{var Jt,Fn,_e;const{id:Se,model:Ce}=ue[he],$e=(((Jt=v==null?void 0:v.range)==null?void 0:Jt.firstRowIndex)||0)+se+he;if(F){const Ne=u.left.length,Ye=r.length-u.right.length;t.current.calculateColSpan({rowId:Se,minFirstColumn:Ne,maxLastColumn:Ye,columns:r}),u.left.length>0&&t.current.calculateColSpan({rowId:Se,minFirstColumn:0,maxLastColumn:u.left.length,columns:r}),u.right.length>0&&t.current.calculateColSpan({rowId:Se,minFirstColumn:r.length-u.right.length,maxLastColumn:r.length,columns:r})}const ke=(m==null?void 0:m.id)===Se,me=t.current.rowHasAutoHeight(Se)?"auto":t.current.unstable_getRowHeight(Se);let ye;w[Se]==null?ye=!1:ye=t.current.isRowSelectable(Se);let Ee=!1;Y.position===void 0&&(Ee=he===0);let We=!1;const je=he===ue.length-1;if(ie)if(re)We=je;else{const Ne=v.rows.length-1;he===Ne&&(We=!0)}const Fe=he===pe;let He=null;y!==null&&y.id===Se&&(He=t.current.getCellParams(Se,y.field).cellMode==="view"?y.field:null);let ot=le;!re&&H.current&&he>=H.current.firstRowIndex&&he<H.current.lastRowIndex&&(ot=H.current);const pt=uK(Re,ot,u.left.length),It=je&&Y.position==="top";if(ge.push(C.jsx(e.slots.row,ee({row:Ce,rowId:Se,index:$e,selected:ye,offsetTop:Y.rows?void 0:S.positions[he],offsetLeft:pt,dimensions:o,rowHeight:me,tabbableCell:He,pinnedColumns:u,visibleColumns:r,renderContext:ot,focusedColumnIndex:ke?G.columnIndex:void 0,isFirstVisible:Ee,isLastVisible:We,isNotVisible:Fe,showBottomBorder:It},Te),Se)),Fe)return;const Gt=h.get(Se);Gt&&ge.push(Gt),Y.position===void 0&&je&&ge.push((_e=(Fn=t.current).getInfiniteLoadingTriggerElement)==null?void 0:_e.call(Fn,{lastRowId:Se}))}),ge},oe=a.width&&R>a.width,X=b.useMemo(()=>({overflowX:!oe||n?"hidden":void 0,overflowY:e.autoHeight?"hidden":void 0}),[oe,e.autoHeight,n]),K=b.useMemo(()=>{const Y={width:oe?R:"auto",flexBasis:I,flexShrink:0};return e.autoHeight&&v.rows.length===0&&(Y.flexBasis=$q(t)),Y},[t,R,I,oe,e.autoHeight,v.rows.length]);return b.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,K]),Os(()=>{t.current.resize()},[t,S.currentPageTotalHeight]),Os(()=>{s&&(T.current.scrollLeft=0),i&&(T.current.scrollTop=0)},[s,i,k,T]),Os(()=>{n&&(T.current.scrollLeft=0)},[n,T]),z9e(a.width!==0,()=>{const Y=Q3(t,e,i,s),le=J3(Y,B.current,O);j(le),t.current.publishEvent("scrollPositionChange",{top:B.current.top,left:B.current.left,renderContext:le})}),t.current.register("private",{updateRenderContext:Z}),Ot(t,"columnsChange",Z),Ot(t,"filteredRowsSet",Z),Ot(t,"rowExpansionChange",Z),{renderContext:N,setPanels:f,getRows:W,getContainerProps:()=>({ref:P}),getScrollerProps:()=>({ref:T,onScroll:ae,onWheel:z,onTouchMove:$,style:X,role:"presentation",tabIndex:U7e?-1:void 0}),getContentProps:()=>({style:K,role:"presentation"}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:_,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:E,role:"presentation"})}};function Q3(t,e,n,r){const i=vo(t.current.state),s=$g(t,e),o=e.unstable_listView?[xm(t.current.state)]:Ps(t),a=Q7e(t),l=t.current.state.rows.dataRowIds.at(-1),c=o.at(-1);return{enabledForRows:n,enabledForColumns:r,apiRef:t,autoHeight:e.autoHeight,rowBufferPx:e.rowBufferPx,columnBufferPx:e.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:l!==void 0?t.current.unstable_getRowHeight(l):0,lastColumnWidth:(c==null?void 0:c.computedWidth)??0,rowsMeta:Xm(t.current.state),columnPositions:hf(t),rows:s.rows,range:s.range,pinnedColumns:ew(t),visibleColumns:o,hiddenCellsOriginMap:a,listView:e.unstable_listView??!1}}function J3(t,e,n){const r={firstRowIndex:0,lastRowIndex:t.rows.length,firstColumnIndex:0,lastColumnIndex:t.visibleColumns.length},{top:i,left:s}=e,o=Math.abs(s)+t.leftPinnedWidth;if(t.enabledForRows){let l=Math.min(Y7(t,i,{atStart:!0,lastPosition:t.rowsMeta.positions[t.rowsMeta.positions.length-1]+t.lastRowHeight}),t.rowsMeta.positions.length-1);const c=t.hiddenCellsOriginMap[l];if(c){const d=Math.min(...Object.values(c));l=Math.min(l,d)}const u=t.autoHeight?l+t.rows.length:Y7(t,i+t.viewportInnerHeight);r.firstRowIndex=l,r.lastRowIndex=u}if(t.enabledForColumns){let l=0,c=t.columnPositions.length,u=!1;const[d,h]=E5({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight});for(let f=d;f<h&&!u;f+=1){const p=t.rows[f];u=t.apiRef.current.rowHasAutoHeight(p.id)}u||(l=Qh(o,t.columnPositions,{atStart:!0,lastPosition:t.columnsTotalWidth}),c=Qh(o+t.viewportInnerWidth,t.columnPositions)),r.firstColumnIndex=l,r.lastColumnIndex=c}return t$e(t,r,n)}function Y7(t,e,n){var o,a;const r=t.apiRef.current.getLastMeasuredRowIndex();let i=r===1/0;(o=t.range)!=null&&o.lastRowIndex&&!i&&(i=r>=t.range.lastRowIndex);const s=ku(r-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,t.rowsMeta.positions.length);return i||t.rowsMeta.positions[s]>=e?Qh(e,t.rowsMeta.positions,n):n$e(e,t.rowsMeta.positions,s,n)}function t$e(t,e,n){const[r,i]=E5({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight}),[s,o]=E5({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:t.pinnedColumns.left.length,maxLastIndex:t.visibleColumns.length-t.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:t.columnPositions,lastSize:t.lastColumnWidth}),a=D7e({firstColumnToRender:s,apiRef:t.apiRef,firstRowToRender:r,lastRowToRender:i,visibleRows:t.rows});return{firstRowIndex:r,lastRowIndex:i,firstColumnIndex:a,lastColumnIndex:o}}function Qh(t,e,n=void 0,r=0,i=e.length){if(e.length<=0)return-1;if(r>=i)return r;const s=r+Math.floor((i-r)/2),o=e[s];let a;if(n!=null&&n.atStart){const l=(s===e.length-1?n.lastPosition:e[s+1])-o;a=t-l<o}else a=t<=o;return a?Qh(t,e,n,r,s):Qh(t,e,n,s+1,i)}function n$e(t,e,n,r=void 0){let i=1;for(;n<e.length&&Math.abs(e[n])<t;)n+=i,i*=2;return Qh(t,e,r,Math.floor(n/2),Math.min(n,e.length))}function E5({firstIndex:t,lastIndex:e,bufferBefore:n,bufferAfter:r,minFirstIndex:i,maxLastIndex:s,positions:o,lastSize:a}){const l=o[t]-n,c=o[e]+r,u=Qh(l,o,{atStart:!0,lastPosition:o[o.length-1]+a}),d=Qh(c,o);return[ku(u,i,s),ku(d,i,s)]}function r$e(t,e){return t===e?!0:t.firstRowIndex===e.firstRowIndex&&t.lastRowIndex===e.lastRowIndex&&t.firstColumnIndex===e.firstColumnIndex&&t.lastColumnIndex===e.lastColumnIndex}function uK(t,e,n){const r=(t[e.firstColumnIndex]??0)-(t[n]??0);return Math.abs(r)}function i$e(t,e){return t===0&&e===0?as.NONE:Math.abs(e)>=Math.abs(t)?e>0?as.DOWN:as.UP:t>0?as.RIGHT:as.LEFT}function dK(t,e,n,r,i,s){if(t)switch(e){case as.LEFT:e=as.RIGHT;break;case as.RIGHT:e=as.LEFT;break}switch(e){case as.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case as.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:s};case as.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:s,columnBefore:0};case as.UP:return{rowAfter:0,rowBefore:i,columnAfter:0,columnBefore:0};case as.DOWN:return{rowAfter:i,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const s$e=()=>{var u,d;const t=Jn(),e=Wt(),n=ut(t,ET),r=ut(t,B4),i=n===0,s=ut(t,e9e),o=!s&&i,a=!s&&n>0&&r===0;let l=null,c=null;return o&&(l="noRowsOverlay"),a&&(l="noResultsOverlay"),s&&(l="loadingOverlay",c=((d=(u=e.slotProps)==null?void 0:u.loadingOverlay)==null?void 0:d[i?"noRowsVariant":"variant"])||null),{overlayType:l,loadingOverlayVariant:c}},o$e=Hr("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,e)=>e.overlayWrapper})(({overlayType:t,loadingOverlayVariant:e})=>e!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:t==="loadingOverlay"?5:4}:{}),a$e=Hr("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,e)=>e.overlayWrapperInner})({}),l$e=t=>{const{classes:e}=t;return nr({root:["overlayWrapper"],inner:["overlayWrapperInner"]},rr,e)};function c$e(t){const e=Jn(),n=Wt(),r=pf(e,n),i=ut(e,vo);let s=i.viewportOuterSize.height-i.topContainerHeight-i.bottomContainerHeight-(i.hasScrollX?i.scrollbarSize:0);(n.autoHeight&&r.rows.length===0||s===0)&&(s=$q(e));const o=l$e(ee({},t,{classes:n.classes}));return C.jsx(o$e,ee({className:Ae(o.root)},t,{children:C.jsx(a$e,ee({className:Ae(o.inner),style:{height:s,width:i.viewportOuterSize.width}},t))}))}function u$e(t){var s,o;const{overlayType:e}=t,n=Wt();if(!e)return null;const r=(s=n.slots)==null?void 0:s[e],i=(o=n.slotProps)==null?void 0:o[e];return C.jsx(c$e,ee({},t,{children:C.jsx(r,ee({},i))}))}const OS=t=>t.columnMenu;function d$e(){var y;const t=Zl(),e=Wt(),n=ut(t,Ps),r=ut(t,E9e),i=ut(t,T9e),s=ut(t,Xq),o=ut(t,A4),a=ut(t,H9e),l=ut(t,$9e),c=ut(t,mC),u=ut(t,rw),d=ut(t,OS),h=ut(t,Fl),f=ut(t,A7e),p=!(a===null&&s===null&&o===null),m=t.current.columnHeadersContainerRef;return C.jsx(e.slots.columnHeaders,ee({ref:m,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p},(y=e.slotProps)==null?void 0:y.columnHeaders))}const h$e=df(d$e),hK=b.createContext(void 0),fK=()=>{const t=b.useContext(hK);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t},f$e=Hr("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),p$e=Hr("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(t,e)=>e.main})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),g$e=b.forwardRef((t,e)=>{const n=Wt(),i=fK().hooks.useGridAriaAttributes();return C.jsxs(p$e,ee({ref:e,ownerState:n,className:t.className,tabIndex:-1},i,{children:[C.jsx(f$e,{role:"presentation","data-id":"gridPanelAnchor"}),t.children]}))}),m$e=()=>nr({root:["topContainer"]},rr,{}),y$e=Hr("div")({position:"sticky",zIndex:4,top:0});function b$e(t){const e=m$e();return C.jsx(y$e,ee({},t,{className:Ae(e.root,fe["container--top"]),role:"presentation"}))}const v$e=()=>nr({root:["bottomContainer"]},rr,{}),w$e=Hr("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function x$e(t){const e=v$e();return C.jsx(w$e,ee({},t,{className:Ae(e.root,fe["container--bottom"]),role:"presentation"}))}const S$e=(t,e)=>{const{classes:n}=t;return nr({root:["virtualScrollerContent",e&&"virtualScrollerContent--overflowed"]},rr,n)},C$e=Hr("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(t,e)=>e.virtualScrollerContent})({}),k$e=b.forwardRef(function(e,n){var o;const r=Wt(),i=!r.autoHeight&&((o=e.style)==null?void 0:o.minHeight)==="auto",s=S$e(r,i);return C.jsx(C$e,ee({ref:n},e,{ownerState:r,className:Ae(s.root,e.className)}))}),T$e=Hr("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),pK=Hr("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),P$e=Hr(pK)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),_$e=Hr(pK)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),M$e=Hr("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function E$e({rowsLength:t}){const e=Jn(),{viewportOuterSize:n,minimumSize:r,hasScrollX:i,hasScrollY:s,scrollbarSize:o,leftPinnedWidth:a,rightPinnedWidth:l}=ut(e,vo),c=i?o:0,u=n.height-r.height>0;return c===0&&!u?null:C.jsxs(T$e,{className:fe.filler,role:"presentation",style:{height:c,"--rowBorderColor":t===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&C.jsx(P$e,{className:fe["filler--pinnedLeft"],style:{width:a}}),C.jsx(M$e,{}),l>0&&C.jsx(_$e,{className:fe["filler--pinnedRight"],style:{width:l+(s?o:0)}})]})}const B$e=df(E$e),N$e=["className"],I$e=t=>{const{classes:e}=t;return nr({root:["virtualScrollerRenderZone"]},rr,e)},A$e=Hr("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(t,e)=>e.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),R$e=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,N$e),s=Jn(),o=Wt(),a=I$e(o),l=ut(s,()=>{const c=OT(s);return Xm(s.current.state).positions[c.firstRowIndex]??0});return C.jsx(A$e,ee({ref:n,className:Ae(a.root,r),ownerState:o,style:{transform:`translate3d(0, ${l}px, 0)`}},i))}),L$e={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1},Js=t=>t.editRows,cv=t=>t.preferencePanel;var Dp=function(t){return t.filters="filters",t.columns="columns",t}(Dp||{});const D$e=(t,e)=>{const{classes:n}=t,r={root:["scrollbar",`scrollbar--${e}`],content:["scrollbarContent"]};return nr(r,rr,n)},gK=Hr("div")({position:"absolute",display:"inline-block",zIndex:6,"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),F$e=Hr(gK)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),O$e=Hr(gK)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),X7=b.forwardRef(function(e,n){const r=Zl(),i=Wt(),s=b.useRef(!1),o=b.useRef(0),a=b.useRef(null),l=b.useRef(null),c=D$e(i,e.position),u=ut(r,vo),d=e.position==="vertical"?"height":"width",h=e.position==="vertical"?"scrollTop":"scrollLeft",f=e.position==="vertical"?u.hasScrollX:u.hasScrollY,p=u.minimumSize[d]+(f?u.scrollbarSize:0),y=(e.position==="vertical"?u.viewportInnerSize.height:u.viewportOuterSize.width)*(p/u.viewportOuterSize[d]),S=ui(()=>{const k=r.current.virtualScrollerRef.current,P=a.current;if(!P||k[h]===o.current)return;if(o.current=k[h],s.current){s.current=!1;return}s.current=!0;const T=k[h]/p;P[h]=T*y}),w=ui(()=>{const k=r.current.virtualScrollerRef.current,P=a.current;if(!P)return;if(s.current){s.current=!1;return}s.current=!0;const T=P[h]/y;k[h]=T*p});_T(()=>{const k=r.current.virtualScrollerRef.current,P=a.current;return k.addEventListener("scroll",S,{capture:!0}),P.addEventListener("scroll",w,{capture:!0}),()=>{k.removeEventListener("scroll",S,{capture:!0}),P.removeEventListener("scroll",w,{capture:!0})}}),b.useEffect(()=>{l.current.style.setProperty(d,`${y}px`)},[y,d]);const v=e.position==="vertical"?F$e:O$e;return C.jsx(v,{ref:uf(n,a),className:c.root,style:e.position==="vertical"&&i.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",children:C.jsx("div",{ref:l,className:c.content})})}),$$e=(t,e,n)=>{const{classes:r}=t,i={root:["main",e.rightPinnedWidth>0&&"main--hasPinnedRight",n==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",e.hasScrollX&&"virtualScroller--hasScrollX"]};return nr(i,rr,r)},H$e=Hr("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(t,e)=>e.virtualScroller})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function V$e(t){const e=Jn(),n=Wt(),r=ut(e,vo),i=s$e(),s=$$e(n,r,i.loadingOverlayVariant),o=e$e(),{getContainerProps:a,getScrollerProps:l,getContentProps:c,getRenderZoneProps:u,getScrollbarVerticalProps:d,getScrollbarHorizontalProps:h,getRows:f}=o,p=f();return C.jsxs(g$e,ee({className:s.root},a(),{children:[C.jsx(U7,{scrollDirection:"left"}),C.jsx(U7,{scrollDirection:"right"}),C.jsxs(H$e,ee({className:s.scroller},l(),{ownerState:n,children:[C.jsxs(b$e,{children:[!n.unstable_listView&&C.jsx(h$e,{}),C.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:o})]}),C.jsx(u$e,ee({},i)),C.jsx(k$e,ee({},c(),{children:C.jsxs(R$e,ee({},u(),{children:[p,C.jsx(n.slots.detailPanels,{virtualScroller:o})]}))})),C.jsx(B$e,{rowsLength:p.length}),C.jsx(x$e,{children:C.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:o})})]})),r.hasScrollY&&C.jsx(X7,ee({position:"vertical"},d())),r.hasScrollX&&!n.unstable_listView&&C.jsx(X7,ee({position:"horizontal"},h())),t.children]}))}function z$e(){var e;const t=Wt();return t.hideFooter?null:C.jsx(t.slots.footer,ee({},(e=t.slotProps)==null?void 0:e.footer))}let Z3;function W$e(){return Z3===void 0&&document.createElement("div").focus({get preventScroll(){return Z3=!0,!1}}),Z3}function G$e(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function bC(t,e){return t.closest(`.${e}`)}function zd(t){return t.replace(/["\\]/g,"\\$&")}function U$e(t,e){return t.querySelector(`[role="columnheader"][data-field="${zd(e)}"]`)}function mK(t){return`.${fe.row}[data-id="${zd(String(t))}"]`}function j$e(t,e){return t.querySelector(mK(e))}function Y$e(t,{id:e,field:n}){const r=mK(e),i=`.${fe.cell}[data-field="${zd(n)}"]`,s=`${r} ${i}`;return t.querySelector(s)}function iw(t){return t.target.nodeType===1&&!t.currentTarget.contains(t.target)}function X$e(t){return t.getAttribute("data-field")}function q$e(t,e){return t.querySelector(`[data-field="${zd(e)}"]`)}function K$e(t){return t.getAttribute("data-fields").slice(2,-2).split("-|-")}function Q$e(t,e){return Array.from(t.querySelectorAll(`[data-fields*="|-${zd(e)}-|"]`)??[])}function J$e(t,e){var o;if(!bC(t,fe.root))throw new Error("MUI X: The root element is not found.");const r=t.getAttribute("aria-colindex");if(!r)return[];const i=Number(r)-1,s=[];return(o=e.virtualScrollerRef)!=null&&o.current?(vK(e).forEach(a=>{const l=a.getAttribute("data-id");if(!l)return;let c=i;const u=e.unstable_getCellColSpanInfo(l,i);u&&u.spannedByColSpan&&(c=u.leftVisibleCellIndex);const d=a.querySelector(`[data-colindex="${c}"]`);d&&s.push(d)}),s):[]}function q7(t,e){return t.rootElementRef.current.querySelector(`.${fe[e]}`)}const yK=({api:t,colIndex:e,position:n,filterFn:r})=>{if(e===null)return[];const i=[];return vK(t).forEach(s=>{s.getAttribute("data-id")&&s.querySelectorAll(`.${fe[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const l=qm(a);l!==null&&r(l)&&i.push(a)})}),i};function Z$e(t,e,n){const r=qm(e);return yK({api:t,colIndex:r,position:n?"right":"left",filterFn:i=>n?i<r:i>r})}function eHe(t,e,n){const r=qm(e);return yK({api:t,colIndex:r,position:n?"left":"right",filterFn:i=>n?i>r:i<r})}const bK=({api:t,colIndex:e,position:n,filterFn:r})=>{var s;if(!((s=t.columnHeadersContainerRef)!=null&&s.current))return[];if(e===null)return[];const i=[];return t.columnHeadersContainerRef.current.querySelectorAll(`.${fe[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(o=>{const a=qm(o);a!==null&&r(a)&&i.push(o)}),i};function tHe(t,e,n){const r=qm(e);return bK({api:t,position:n?"right":"left",colIndex:r,filterFn:i=>n?i<r:i>r})}function nHe(t,e,n){const r=qm(e);return bK({api:t,position:n?"left":"right",colIndex:r,filterFn:i=>n?i>r:i<r})}function rHe(t,e){return t.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${zd(e)}"][role="columnheader"]`)}function iHe(t,e){const n=t.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${zd(e)}"][role="gridcell"]`))}function vK(t){return t.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${fe.row}`)}function qm(t){const e=t.getAttribute("aria-colindex");return e?Number(e)-1:null}class $S extends Error{}function sHe(t,e){const n=b.useCallback(h=>({field:h,colDef:t.current.getColumn(h)}),[t]),r=b.useCallback(h=>{const f=t.current.getRow(h);if(!f)throw new $S(`No row with id #${h} found`);return{id:h,columns:t.current.getAllColumns(),row:f}},[t]),i=b.useCallback((h,f)=>{const p=e.unstable_listView?xm(t.current.state):t.current.getColumn(f),m=t.current.getRow(h),y=t.current.getRowNode(h);if(!m||!y)throw new $S(`No row with id #${h} found`);const S=m[f],w=p!=null&&p.valueGetter?p.valueGetter(S,m,p,t):S,v=Oa(t),k=A4(t),P={id:h,field:f,row:m,rowNode:y,colDef:p,cellMode:t.current.getCellMode(h,f),hasFocus:v!==null&&v.field===f&&v.id===h,tabIndex:k&&k.field===f&&k.id===h?0:-1,value:w,formattedValue:w,isEditable:!1,api:{}};return p&&p.valueFormatter&&(P.formattedValue=p.valueFormatter(w,m,p,t)),P.isEditable=p&&t.current.isCellEditable(P),P},[t,e.unstable_listView]),s=b.useCallback((h,f)=>{const p=t.current.getColumn(f),m=t.current.getRow(h);if(!m)throw new $S(`No row with id #${h} found`);return!p||!p.valueGetter?m[f]:p.valueGetter(m[p.field],m,p,t)},[t]),o=b.useCallback((h,f)=>{const p=f.field;if(!f||!f.valueGetter)return h[p];const m=h[f.field];return f.valueGetter(m,h,f,t)},[t]),a=b.useCallback((h,f)=>{const p=o(h,f);return!f||!f.valueFormatter?p:f.valueFormatter(p,h,f,t)},[t,o]),l=b.useCallback(h=>t.current.rootElementRef.current?U$e(t.current.rootElementRef.current,h):null,[t]),c=b.useCallback(h=>t.current.rootElementRef.current?j$e(t.current.rootElementRef.current,h):null,[t]),u=b.useCallback((h,f)=>t.current.rootElementRef.current?Y$e(t.current.rootElementRef.current,{id:h,field:f}):null,[t]);Gn(t,{getCellValue:s,getCellParams:i,getCellElement:u,getRowValue:o,getRowFormattedValue:a,getRowParams:r,getRowElement:c,getColumnHeaderParams:n,getColumnHeaderElement:l},"public")}const $T=(t,e,n,r,i)=>{const s=e===n-1;return t===ti.LEFT&&s?!0:r?t===ti.LEFT?!0:t===ti.RIGHT?!s:!s||i:!1},HT=(t,e)=>t===ti.RIGHT&&e===0,oHe=["column","rowId","editCellState","align","children","colIndex","width","className","style","gridHasScrollX","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","sectionIndex","sectionLength","gridHasFiller","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],aHe=["changeReason","unstable_updateValueOnRender"];let fa=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.VIRTUAL=3]="VIRTUAL",t}({});const wK={[fa.LEFT]:ti.LEFT,[fa.RIGHT]:ti.RIGHT,[fa.NONE]:void 0,[fa.VIRTUAL]:void 0},K7={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Fr.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},lHe=t=>{const{align:e,showLeftBorder:n,showRightBorder:r,pinnedPosition:i,isEditable:s,isSelected:o,isSelectionMode:a,classes:l}=t,c={root:["cell",`cell--text${Jv(e)}`,o&&"selected",s&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",i===fa.LEFT&&"cell--pinnedLeft",i===fa.RIGHT&&"cell--pinnedRight",a&&!s&&"cell--selectionMode"]};return nr(c,rr,l)},cHe=b.forwardRef(function(e,n){var Ee,We,je;const{column:r,rowId:i,editCellState:s,align:o,colIndex:a,width:l,className:c,style:u,colSpan:d,disableDragEvents:h,isNotVisible:f,pinnedOffset:p,pinnedPosition:m,sectionIndex:y,sectionLength:S,gridHasFiller:w,onClick:v,onDoubleClick:k,onMouseDown:P,onMouseUp:T,onMouseOver:_,onKeyDown:E,onKeyUp:I,onDragEnter:R,onDragOver:F}=e,B=rn(e,oHe),D=Jn(),A=Wt(),N=Vr(),L=r.field,H=ut(D,()=>{try{const et=D.current.getCellParams(i,L);return et.api=D.current,et}catch(et){if(et instanceof $S)return K7;throw et}},Sq),O=ut(D,()=>D.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:L})),G=ut(D,cK),j=ut(D,K7e),{cellMode:J,hasFocus:Z,isEditable:ae=!1,value:z}=H,$=r.type==="actions"&&((Ee=r.getActions)==null?void 0:Ee.call(r,D.current.getRowParams(i)).some(et=>!et.props.disabled)),W=(J==="view"||!ae)&&!$?H.tabIndex:-1,{classes:oe,getCellClassName:X}=A,Y=[ut(D,()=>D.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:L}).filter(Boolean).join(" "))];r.cellClassName&&Y.push(typeof r.cellClassName=="function"?r.cellClassName(H):r.cellClassName),r.display==="flex"&&Y.push(fe["cell--flex"]),X&&Y.push(X(H));const le=H.formattedValue??z,ie=b.useRef(null),re=uf(n,ie),se=b.useRef(null),ue=A.cellSelection??!1,we=wK[m],Pe=HT(we,y),te=$T(we,y,S,A.showCellVerticalBorder,w),pe={align:o,showLeftBorder:Pe,showRightBorder:te,isEditable:ae,classes:A.classes,pinnedPosition:m,isSelected:O,isSelectionMode:ue},ge=lHe(pe),Te=b.useCallback(et=>Fe=>{const He=D.current.getCellParams(i,L||"");D.current.publishEvent(et,He,Fe),T&&T(Fe)},[D,L,T,i]),Re=b.useCallback(et=>Fe=>{const He=D.current.getCellParams(i,L||"");D.current.publishEvent(et,He,Fe),P&&P(Fe)},[D,L,P,i]),Ie=b.useCallback((et,Fe)=>He=>{if(!D.current.getRow(i))return;const ot=D.current.getCellParams(i,L||"");D.current.publishEvent(et,ot,He),Fe&&Fe(He)},[D,L,i]),he=((We=G[i])==null?void 0:We[L])??!1,Se=((je=j[i])==null?void 0:je[L])??1,Ce=b.useMemo(()=>{if(f)return{padding:0,opacity:0,width:0,border:0};const et=ee({"--width":`${l}px`},u),Fe=m===fa.LEFT,He=m===fa.RIGHT;if(Fe||He){let ot=Fe?"left":"right";N&&(ot=Fe?"right":"left"),et[ot]=p}return Se>1&&(et.height=`calc(var(--height) * ${Se})`,et.zIndex=5),et},[l,f,u,p,m,N,Se]);if(b.useEffect(()=>{if(!Z||J===Fr.Edit)return;const et=zh(D.current.rootElementRef.current);if(ie.current&&!ie.current.contains(et.activeElement)){const Fe=ie.current.querySelector('[tabindex="0"]'),He=se.current||Fe||ie.current;if(W$e())He.focus({preventScroll:!0});else{const ot=D.current.getScrollPosition();He.focus(),D.current.scroll(ot)}}},[Z,J,D]),he)return C.jsx("div",{"data-colindex":a,role:"presentation",style:ee({width:"var(--width)"},Ce)});if(H===K7)return null;let $e=B.onFocus,ke,me;if(s===null&&r.renderCell&&(ke=r.renderCell(H)),s!==null&&r.renderEditCell){const et=D.current.getRowWithUpdatedValues(i,r.field),Fe=rn(s,aHe),He=r.valueFormatter?r.valueFormatter(s.value,et,r,D):H.formattedValue,ot=ee({},H,{row:et,formattedValue:He},Fe);ke=r.renderEditCell(ot),Y.push(fe["cell--editing"]),Y.push(oe==null?void 0:oe["cell--editing"])}if(ke===void 0){const et=le==null?void 0:le.toString();ke=et,me=et}b.isValidElement(ke)&&$&&(ke=b.cloneElement(ke,{focusElementRef:se}));const ye=h?null:{onDragEnter:Ie("cellDragEnter",R),onDragOver:Ie("cellDragOver",F)};return C.jsx("div",ee({ref:re,className:Ae(ge.root,Y,c),role:"gridcell","data-field":L,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":d,"aria-rowspan":Se,style:Ce,title:me,tabIndex:W,onClick:Ie("cellClick",v),onDoubleClick:Ie("cellDoubleClick",k),onMouseOver:Ie("cellMouseOver",_),onMouseDown:Re("cellMouseDown"),onMouseUp:Te("cellMouseUp"),onKeyDown:Ie("cellKeyDown",E),onKeyUp:Ie("cellKeyUp",I)},ye,B,{onFocus:$e,children:ke}))}),uHe=df(cHe),dHe=["field","type","align","width","height","empty","style","className"],Q7="1.3em",hHe="1.2em",J7=[40,80],fHe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},pHe=t=>{const{align:e,classes:n,empty:r}=t,i={root:["cell","cellSkeleton",`cell--text${e?Jv(e):"Left"}`,r&&"cellEmpty"]};return nr(i,rr,n)},gHe=R8e(12345);function mHe(t){const{field:e,type:n,align:r,width:i,height:s,empty:o=!1,style:a,className:l}=t,c=rn(t,dHe),d={classes:Wt().classes,align:r,empty:o},h=pHe(d),f=b.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:Q7,height:Q7};const[m,y]=n?fHe[n]??J7:J7;return{variant:"text",width:`${Math.round(gHe(m,y))}%`,height:hHe}},[n]);return C.jsx("div",ee({"data-field":e,className:Ae(h.root,l),style:ee({height:s,maxWidth:i,minWidth:i},a)},c,{children:!o&&C.jsx(_xe,ee({},f))}))}const yHe=df(mHe);function bHe(t){return t.vars?t.vars.palette.TableCell.border:t.palette.mode==="light"?yde(go(t.palette.divider,1),.88):mde(go(t.palette.divider,1),.68)}const Z7={[`& .${fe.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${fe.menuIcon}`]:{width:"auto",visibility:"visible"}},vHe=10,tS=-5,D0=1,e$={width:3,rx:1.5,x:10.5},wHe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",xHe=be("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${fe.autoHeight}`]:e.autoHeight},{[`&.${fe.aggregationColumnHeader}`]:e.aggregationColumnHeader},{[`&.${fe["aggregationColumnHeader--alignLeft"]}`]:e["aggregationColumnHeader--alignLeft"]},{[`&.${fe["aggregationColumnHeader--alignCenter"]}`]:e["aggregationColumnHeader--alignCenter"]},{[`&.${fe["aggregationColumnHeader--alignRight"]}`]:e["aggregationColumnHeader--alignRight"]},{[`&.${fe.aggregationColumnHeaderLabel}`]:e.aggregationColumnHeaderLabel},{[`&.${fe["root--disableUserSelection"]} .${fe.cell}`]:e["root--disableUserSelection"]},{[`&.${fe.autosizing}`]:e.autosizing},{[`& .${fe.editBooleanCell}`]:e.editBooleanCell},{[`& .${fe.cell}`]:e.cell},{[`& .${fe["cell--editing"]}`]:e["cell--editing"]},{[`& .${fe["cell--textCenter"]}`]:e["cell--textCenter"]},{[`& .${fe["cell--textLeft"]}`]:e["cell--textLeft"]},{[`& .${fe["cell--textRight"]}`]:e["cell--textRight"]},{[`& .${fe["cell--rangeTop"]}`]:e["cell--rangeTop"]},{[`& .${fe["cell--rangeBottom"]}`]:e["cell--rangeBottom"]},{[`& .${fe["cell--rangeLeft"]}`]:e["cell--rangeLeft"]},{[`& .${fe["cell--rangeRight"]}`]:e["cell--rangeRight"]},{[`& .${fe["cell--withRightBorder"]}`]:e["cell--withRightBorder"]},{[`& .${fe.cellCheckbox}`]:e.cellCheckbox},{[`& .${fe.cellSkeleton}`]:e.cellSkeleton},{[`& .${fe.checkboxInput}`]:e.checkboxInput},{[`& .${fe["columnHeader--alignCenter"]}`]:e["columnHeader--alignCenter"]},{[`& .${fe["columnHeader--alignLeft"]}`]:e["columnHeader--alignLeft"]},{[`& .${fe["columnHeader--alignRight"]}`]:e["columnHeader--alignRight"]},{[`& .${fe["columnHeader--dragging"]}`]:e["columnHeader--dragging"]},{[`& .${fe["columnHeader--moving"]}`]:e["columnHeader--moving"]},{[`& .${fe["columnHeader--numeric"]}`]:e["columnHeader--numeric"]},{[`& .${fe["columnHeader--sortable"]}`]:e["columnHeader--sortable"]},{[`& .${fe["columnHeader--sorted"]}`]:e["columnHeader--sorted"]},{[`& .${fe["columnHeader--withRightBorder"]}`]:e["columnHeader--withRightBorder"]},{[`& .${fe.columnHeader}`]:e.columnHeader},{[`& .${fe.headerFilterRow}`]:e.headerFilterRow},{[`& .${fe.columnHeaderCheckbox}`]:e.columnHeaderCheckbox},{[`& .${fe.columnHeaderDraggableContainer}`]:e.columnHeaderDraggableContainer},{[`& .${fe.columnHeaderTitleContainer}`]:e.columnHeaderTitleContainer},{[`& .${fe["columnSeparator--resizable"]}`]:e["columnSeparator--resizable"]},{[`& .${fe["columnSeparator--resizing"]}`]:e["columnSeparator--resizing"]},{[`& .${fe.columnSeparator}`]:e.columnSeparator},{[`& .${fe.filterIcon}`]:e.filterIcon},{[`& .${fe.iconSeparator}`]:e.iconSeparator},{[`& .${fe.menuIcon}`]:e.menuIcon},{[`& .${fe.menuIconButton}`]:e.menuIconButton},{[`& .${fe.menuOpen}`]:e.menuOpen},{[`& .${fe.menuList}`]:e.menuList},{[`& .${fe["row--editable"]}`]:e["row--editable"]},{[`& .${fe["row--editing"]}`]:e["row--editing"]},{[`& .${fe["row--dragging"]}`]:e["row--dragging"]},{[`& .${fe.row}`]:e.row},{[`& .${fe.rowReorderCellPlaceholder}`]:e.rowReorderCellPlaceholder},{[`& .${fe.rowReorderCell}`]:e.rowReorderCell},{[`& .${fe["rowReorderCell--draggable"]}`]:e["rowReorderCell--draggable"]},{[`& .${fe.sortIcon}`]:e.sortIcon},{[`& .${fe.withBorderColor}`]:e.withBorderColor},{[`& .${fe.treeDataGroupingCell}`]:e.treeDataGroupingCell},{[`& .${fe.treeDataGroupingCellToggle}`]:e.treeDataGroupingCellToggle},{[`& .${fe.treeDataGroupingCellLoadingContainer}`]:e.treeDataGroupingCellLoadingContainer},{[`& .${fe.groupingCriteriaCellLoadingContainer}`]:e.groupingCriteriaCellLoadingContainer},{[`& .${fe.detailPanelToggleCell}`]:e.detailPanelToggleCell},{[`& .${fe["detailPanelToggleCell--expanded"]}`]:e["detailPanelToggleCell--expanded"]},e.root]})(({theme:t})=>{var E,I;const e=Zl(),n=ut(e,vo),r=bHe(t),i=t.shape.borderRadius,s=t.vars?t.vars.palette.background.default:((E=t.mixins.MuiDataGrid)==null?void 0:E.containerBackground)??t.palette.background.default,o=((I=t.mixins.MuiDataGrid)==null?void 0:I.pinnedBackground)??s,a=t.vars?`rgba(${t.vars.palette.background.defaultChannel} / ${t.vars.palette.action.disabledOpacity})`:go(t.palette.background.default,t.palette.action.disabledOpacity),l=(t.vars||t).palette.action.hoverOpacity,c=(t.vars||t).palette.action.hover,u=(t.vars||t).palette.action.selectedOpacity,d=t.vars?`calc(${l} + ${u})`:l+u,h=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${u})`:go(t.palette.primary.main,u),f=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${d})`:go(t.palette.primary.main,d),p=t.vars?kHe:SHe,m=R=>({[`& .${fe["cell--pinnedLeft"]}, & .${fe["cell--pinnedRight"]}`]:{backgroundColor:R,"&.Mui-selected":{backgroundColor:p(R,h,u),"&:hover":{backgroundColor:p(R,h,d)}}}}),y=p(o,c,l),S=m(y),w=p(o,h,u),v=m(w),k=p(o,f,d),P=m(k),T={backgroundColor:h,"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:h}}};return ee({"--unstable_DataGrid-radius":typeof i=="number"?`${i}px`:i,"--unstable_DataGrid-headWeight":t.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":a,"--DataGrid-containerBackground":s,"--DataGrid-pinnedBackground":o,"--DataGrid-rowBorderColor":r,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:r,borderRadius:"var(--unstable_DataGrid-radius)",color:(t.vars||t).palette.text.primary},t.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[`.${fe.main} > *:first-child${wHe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${fe.autoHeight}`]:{height:"auto"},[`&.${fe.autosizing}`]:{[`& .${fe.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${fe.iconButtonContainer}`]:{width:"0 !important",visibility:"hidden !important"},[`& .${fe.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${fe.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${fe.groupingCriteriaCell}`]:{width:"unset"},[`& .${fe.treeDataGroupingCell}`]:{width:"unset"}},[`& .${fe.columnHeader}, & .${fe.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${fe.columnHeader}:focus-within, & .${fe.cell}:focus-within`]:{outline:`solid ${t.vars?`rgba(${t.vars.palette.primary.mainChannel} / 0.5)`:go(t.palette.primary.main,.5)} ${D0}px`,outlineOffset:D0*-1},[`& .${fe.columnHeader}:focus, & .${fe.cell}:focus`]:{outline:`solid ${t.palette.primary.main} ${D0}px`,outlineOffset:D0*-1},[`& .${fe.columnHeader}:focus,
      & .${fe["columnHeader--withLeftBorder"]},
      & .${fe["columnHeader--withRightBorder"]},
      & .${fe["columnHeader--siblingFocused"]},
      & .${fe["virtualScroller--hasScrollX"]} .${fe["columnHeader--lastUnpinned"]},
      & .${fe["virtualScroller--hasScrollX"]} .${fe["columnHeader--last"]}
      `]:{[`& .${fe.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${fe["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${fe["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${fe["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${fe["root--noToolbar"]} [aria-rowindex="1"] .${fe["columnHeader--last"]}`]:{borderTopRightRadius:n.hasScrollX&&(!n.hasScrollY||n.scrollbarSize===0)?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${fe.columnHeaderCheckbox}, & .${fe.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${fe.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${fe["virtualScroller--hasScrollX"]} .${fe["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${fe["columnHeader--sorted"]} .${fe.iconButtonContainer}, & .${fe["columnHeader--filtered"]} .${fe.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${fe.columnHeader}:not(.${fe["columnHeader--sorted"]}) .${fe.sortIcon}`]:{opacity:0,transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter})},[`& .${fe.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:t.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${fe.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${fe["columnHeader--filledGroup"]} .${fe.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${fe.sortIcon}, & .${fe.filterIcon}`]:{fontSize:"inherit"},[`& .${fe["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${fe["columnHeader--alignCenter"]} .${fe.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${fe["columnHeader--alignRight"]} .${fe.columnHeaderDraggableContainer}, & .${fe["columnHeader--alignRight"]} .${fe.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${fe["columnHeader--alignCenter"]} .${fe.menuIcon}`]:{marginLeft:"auto"},[`& .${fe["columnHeader--alignRight"]} .${fe.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${fe["columnHeader--moving"]}`]:{backgroundColor:(t.vars||t).palette.action.hover},[`& .${fe["columnHeader--pinnedLeft"]}, & .${fe["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},[`& .${fe.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:vHe,color:r},[`& .${fe.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${fe.columnHeader}:hover`]:Z7,[`& .${fe.columnHeader}:not(.${fe["columnHeader--sorted"]}):hover .${fe.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${fe.columnHeader}`]:Z7,[`& .${fe.columnHeader}:focus,
        & .${fe["columnHeader--siblingFocused"]}`]:{[`.${fe["columnSeparator--resizable"]}`]:{color:(t.vars||t).palette.primary.main}}},[`& .${fe["columnSeparator--sideLeft"]}`]:{left:tS},[`& .${fe["columnSeparator--sideRight"]}`]:{right:tS},[`& .${fe["columnHeader--withRightBorder"]} .${fe["columnSeparator--sideLeft"]}`]:{left:tS-.5},[`& .${fe["columnHeader--withRightBorder"]} .${fe["columnSeparator--sideRight"]}`]:{right:tS-.5},[`& .${fe["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${fe["columnSeparator--resizing"]}`]:{color:(t.vars||t).palette.primary.main},"@media (hover: none)":{[`& .${fe.iconSeparator} rect`]:e$},"@media (hover: hover)":{"&:hover":{color:(t.vars||t).palette.primary.main,[`& .${fe.iconSeparator} rect`]:e$}},"& svg":{pointerEvents:"none"}},[`& .${fe.iconSeparator}`]:{color:"inherit",transition:t.transitions.create(["color","width"],{duration:t.transitions.duration.shortest})},[`& .${fe.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${fe.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${fe.headerFilterRow}`]:{[`& .${fe.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${fe["row--borderBottom"]} .${fe.columnHeader},
      & .${fe["row--borderBottom"]} .${fe.filler},
      & .${fe["row--borderBottom"]} .${fe.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${fe["row--borderBottom"]} .${fe.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${fe.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${fe["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fe.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":T},[`& .${fe["container--top"]}, & .${fe["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${fe.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":T},[`& .${fe["virtualScrollerContent--overflowed"]} .${fe["row--lastVisible"]} .${fe.cell}`]:{borderTopColor:"transparent"},[`& .${fe["pinnedRows--top"]} :first-of-type`]:{[`& .${fe.cell}, .${fe.scrollbarFiller}`]:{borderTop:"none"}},[`&.${fe["root--disableUserSelection"]} .${fe.cell}`]:{userSelect:"none"},[`& .${fe["row--dynamicHeight"]} > .${fe.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${fe.cellEmpty}`]:{padding:0,height:"unset"},[`& .${fe.cell}.${fe["cell--selectionMode"]}`]:{cursor:"default"},[`& .${fe.cell}.${fe["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:t.shadows[2],backgroundColor:(t.vars||t).palette.background.paper,"&:focus-within":{outline:`${D0}px solid ${(t.vars||t).palette.primary.main}`,outlineOffset:D0*-1}},[`& .${fe["row--editing"]}`]:{boxShadow:t.shadows[2]},[`& .${fe["row--editing"]} .${fe.cell}`]:{boxShadow:t.shadows[0],backgroundColor:(t.vars||t).palette.background.paper},[`& .${fe.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${fe.booleanCell}[data-value="true"]`]:{color:(t.vars||t).palette.text.secondary},[`& .${fe.booleanCell}[data-value="false"]`]:{color:(t.vars||t).palette.text.disabled},[`& .${fe.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:t.spacing(1)},[`& .${fe.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${fe["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${fe.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${fe.withBorderColor}`]:{borderColor:r},[`& .${fe["cell--withLeftBorder"]}, & .${fe["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${fe["cell--withRightBorder"]}, & .${fe["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${fe["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${fe["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${fe["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${fe["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${fe["cell--pinnedLeft"]}, & .${fe["cell--pinnedRight"]}`]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:w}},[`& .${fe.virtualScrollerContent} .${fe.row}`]:{"&:hover":S,"&.Mui-selected":v,"&.Mui-selected:hover":P},[`& .${fe.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${fe.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${fe.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${fe.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${fe["columnHeader--dragging"]}, & .${fe["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${fe["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity,[`& .${fe.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${fe.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${fe.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`& .${fe.treeDataGroupingCellLoadingContainer}, .${fe.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${fe.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${fe.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`.${fe.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${fe["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${fe["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${fe["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${fe.filler}`]:{flex:"1 0 auto"},[`& .${fe["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${fe["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${fe.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${fe["scrollbar--vertical"]}, & .${fe.pinnedRows}, & .${fe.virtualScroller} > .${fe.filler}`]:{display:"none"}}})});function SHe(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Xg(t),o=Xg(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return kk({type:"rgb",values:a})}const CHe=t=>`rgb(from ${t} r g b / 1)`;function kHe(t,e,n){return`color-mix(in srgb,${t}, ${CHe(e)} calc(${n} * 100%))`}const THe=["className"],PHe=(t,e)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:i}=t,s={root:["root",n&&"autoHeight",`root--density${Jv(e)}`,t.slots.toolbar===null&&"root--noToolbar","withBorderColor",i&&"withVerticalBorder"]};return nr(s,rr,r)},_He=b.forwardRef(function(e,n){const r=Wt(),{className:i}=e,s=rn(e,THe),o=Zl(),a=ut(o,wg),l=o.current.rootElementRef,c=uf(l,n),u=r,d=PHe(u,a),[h,f]=b.useState(!1);return Os(()=>{f(!0)},[]),h?C.jsx(xHe,ee({ref:c,className:Ae(d.root,i),ownerState:u},s)):null}),MHe=["className"],EHe=t=>{const{classes:e}=t;return nr({root:["footerContainer","withBorderColor"]},rr,e)},BHe=Hr("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(t,e)=>e.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),NHe=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,MHe),s=Wt(),o=EHe(s);return C.jsx(BHe,ee({ref:n,className:Ae(o.root,r),ownerState:s},i))}),IHe=["className"],AHe=t=>{const{classes:e}=t;return nr({root:["overlay"]},rr,e)},RHe=Hr("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(t,e)=>e.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),$4=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,IHe),s=Wt(),o=AHe(s);return C.jsx(RHe,ee({ref:n,className:Ae(o.root,r),ownerState:s},i))}),LHe=["className","children"],DHe=t=>{const{classes:e}=t;return nr({root:["toolbarContainer"]},rr,e)},FHe=Hr("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(t,e)=>e.toolbarContainer})(({theme:t})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:t.spacing(1),padding:t.spacing(.5,.5,0)})),OHe=b.forwardRef(function(e,n){const{className:r,children:i}=e,s=rn(e,LHe),o=Wt(),a=DHe(o);return i?C.jsx(FHe,ee({ref:n,className:Ae(a.root,r),ownerState:o},s,{children:i})):null}),$He=t=>{const{classes:e,open:n}=t;return nr({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},rr,e)},HHe=b.memo(t=>{var d,h;const{colDef:e,open:n,columnMenuId:r,columnMenuButtonId:i,iconButtonRef:s}=t,o=Jn(),a=Wt(),l=ee({},t,{classes:a.classes}),c=$He(l),u=b.useCallback(f=>{f.preventDefault(),f.stopPropagation(),o.current.toggleColumnMenu(e.field)},[o,e.field]);return C.jsx("div",{className:c.root,children:C.jsx(a.slots.baseTooltip,ee({title:o.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(d=a.slotProps)==null?void 0:d.baseTooltip,{children:C.jsx(a.slots.baseIconButton,ee({ref:s,tabIndex:-1,className:c.button,"aria-label":o.current.getLocaleText("columnMenuLabel"),size:"small",onClick:u,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:i},(h=a.slotProps)==null?void 0:h.baseIconButton,{children:C.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function VHe({columnMenuId:t,columnMenuButtonId:e,ContentComponent:n,contentComponentProps:r,field:i,open:s,target:o,onExited:a}){const l=Jn(),c=l.current.getColumn(i),u=ui(d=>{d&&(d.stopPropagation(),o!=null&&o.contains(d.target))||l.current.hideColumnMenu()});return!o||!c?null:C.jsx(_4,{placement:`bottom-${c.align==="right"?"start":"end"}`,open:s,target:o,onClose:u,onExited:a,children:C.jsx(n,ee({colDef:c,hideMenu:u,open:s,id:t,labelledby:e},r))})}const zHe=["className","aria-label"],WHe=t=>{const{classes:e}=t;return nr({root:["columnHeaderTitle"]},rr,e)},GHe=Hr("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(t,e)=>e.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),UHe=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,zHe),s=Wt(),o=WHe(s);return C.jsx(GHe,ee({ref:n,className:Ae(o.root,r),ownerState:s},i))});function jHe(t){var l;const{label:e,description:n}=t,r=Wt(),i=b.useRef(null),[s,o]=b.useState(""),a=b.useCallback(()=>{if(!n&&(i!=null&&i.current)){const c=G$e(i.current);o(c?e:"")}},[n,e]);return C.jsx(r.slots.baseTooltip,ee({title:n||s},(l=r.slotProps)==null?void 0:l.baseTooltip,{children:C.jsx(UHe,{onMouseOver:a,ref:i,children:e})}))}const YHe=["resizable","resizing","height","side"];var H4=function(t){return t.Left="left",t.Right="right",t}(H4||{});const XHe=t=>{const{resizable:e,resizing:n,classes:r,side:i}=t,s={root:["columnSeparator",e&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&`columnSeparator--side${Jv(i)}`],icon:["iconSeparator"]};return nr(s,rr,r)};function qHe(t){const{height:e,side:n=H4.Right}=t,r=rn(t,YHe),i=Wt(),s=ee({},t,{side:n,classes:i.classes}),o=XHe(s),a=b.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]);return C.jsx("div",ee({className:o.root,style:{minHeight:e}},r,{onClick:a,children:C.jsx(i.slots.columnResizeIcon,{className:o.icon})}))}const KHe=b.memo(qHe),QHe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],xK=b.forwardRef(function(e,n){const{classes:r,colIndex:i,height:s,isResizing:o,sortDirection:a,hasFocus:l,tabIndex:c,separatorSide:u,isDraggable:d,headerComponent:h,description:f,width:p,columnMenuIconButton:m=null,columnMenu:y=null,columnTitleIconButtons:S=null,headerClassName:w,label:v,resizable:k,draggableContainerProps:P,columnHeaderSeparatorProps:T,style:_}=e,E=rn(e,QHe),I=Zl(),R=Wt(),F=b.useRef(null),B=uf(F,n);let D="none";return a!=null&&(D=a==="asc"?"ascending":"descending"),b.useLayoutEffect(()=>{var N;const A=I.current.state.columnMenu;if(l&&!A.open){const H=F.current.querySelector('[tabindex="0"]')||F.current;H==null||H.focus(),(N=I.current.columnHeadersContainerRef)!=null&&N.current&&(I.current.columnHeadersContainerRef.current.scrollLeft=0)}},[I,l]),C.jsxs("div",ee({ref:B,className:Ae(r.root,w),style:ee({},_,{height:s,width:p}),role:"columnheader",tabIndex:c,"aria-colindex":i+1,"aria-sort":D},E,{children:[C.jsxs("div",ee({className:r.draggableContainer,draggable:d,role:"presentation"},P,{children:[C.jsxs("div",{className:r.titleContainer,role:"presentation",children:[C.jsx("div",{className:r.titleContainerContent,children:h!==void 0?h:C.jsx(jHe,{label:v,description:f,columnWidth:p})}),S]}),m]})),C.jsx(KHe,ee({resizable:!R.disableColumnResize&&!!k,resizing:o,height:s,side:u},T)),y]}))}),JHe=t=>{const{colDef:e,classes:n,isDragging:r,sortDirection:i,showRightBorder:s,showLeftBorder:o,filterItemsCounter:a,pinnedPosition:l,isLastUnpinned:c,isSiblingFocused:u}=t,d=i!=null,h=a!=null&&a>0,f=e.type==="number",p={root:["columnHeader",e.headerAlign==="left"&&"columnHeader--alignLeft",e.headerAlign==="center"&&"columnHeader--alignCenter",e.headerAlign==="right"&&"columnHeader--alignRight",e.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",d&&"columnHeader--sorted",h&&"columnHeader--filtered",f&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder",l==="left"&&"columnHeader--pinnedLeft",l==="right"&&"columnHeader--pinnedRight",c&&"columnHeader--lastUnpinned",u&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return nr(p,rr,n)};function ZHe(t){var K,Y,le;const{colDef:e,columnMenuOpen:n,colIndex:r,headerHeight:i,isResizing:s,isLast:o,sortDirection:a,sortIndex:l,filterItemsCounter:c,hasFocus:u,tabIndex:d,disableReorder:h,separatorSide:f,style:p,pinnedPosition:m,indexInSection:y,sectionLength:S,gridHasFiller:w}=t,v=Zl(),k=Wt(),P=b.useRef(null),T=Qi(),_=Qi(),E=b.useRef(null),[I,R]=b.useState(n),F=b.useMemo(()=>!k.disableColumnReorder&&!h&&!e.disableReorder,[k.disableColumnReorder,h,e.disableReorder]);let B;e.renderHeader&&(B=e.renderHeader(v.current.getColumnHeaderParams(e.field)));const D=HT(m,y),A=$T(m,y,S,k.showColumnVerticalBorder,w),N=ee({},t,{classes:k.classes,showRightBorder:A,showLeftBorder:D}),L=JHe(N),H=b.useCallback(ie=>re=>{iw(re)||v.current.publishEvent(ie,v.current.getColumnHeaderParams(e.field),re)},[v,e.field]),O=b.useMemo(()=>({onClick:H("columnHeaderClick"),onContextMenu:H("columnHeaderContextMenu"),onDoubleClick:H("columnHeaderDoubleClick"),onMouseOver:H("columnHeaderOver"),onMouseOut:H("columnHeaderOut"),onMouseEnter:H("columnHeaderEnter"),onMouseLeave:H("columnHeaderLeave"),onKeyDown:H("columnHeaderKeyDown"),onFocus:H("columnHeaderFocus"),onBlur:H("columnHeaderBlur")}),[H]),G=b.useMemo(()=>F?{onDragStart:H("columnHeaderDragStart"),onDragEnter:H("columnHeaderDragEnter"),onDragOver:H("columnHeaderDragOver"),onDragEnd:H("columnHeaderDragEnd")}:{},[F,H]),j=b.useMemo(()=>({onMouseDown:H("columnSeparatorMouseDown"),onDoubleClick:H("columnSeparatorDoubleClick")}),[H]);b.useEffect(()=>{I||R(n)},[I,n]);const J=b.useCallback(()=>{R(!1)},[]),Z=!k.disableColumnMenu&&!e.disableColumnMenu&&C.jsx(HHe,{colDef:e,columnMenuId:T,columnMenuButtonId:_,open:I,iconButtonRef:E}),ae=C.jsx(VHe,{columnMenuId:T,columnMenuButtonId:_,field:e.field,open:n,target:E.current,ContentComponent:k.slots.columnMenu,contentComponentProps:(K=k.slotProps)==null?void 0:K.columnMenu,onExited:J}),z=e.sortingOrder??k.sortingOrder,$=(e.sortable||a!=null)&&!e.hideSortIcons&&!k.disableColumnSorting,W=C.jsxs(b.Fragment,{children:[!k.disableColumnFilter&&C.jsx(k.slots.columnHeaderFilterIconButton,ee({field:e.field,counter:c},(Y=k.slotProps)==null?void 0:Y.columnHeaderFilterIconButton)),$&&C.jsx(k.slots.columnHeaderSortIcon,ee({field:e.field,direction:a,index:l,sortingOrder:z,disabled:!e.sortable},(le=k.slotProps)==null?void 0:le.columnHeaderSortIcon))]});b.useLayoutEffect(()=>{var re;const ie=v.current.state.columnMenu;if(u&&!ie.open){const ue=P.current.querySelector('[tabindex="0"]')||P.current;ue==null||ue.focus(),(re=v.current.columnHeadersContainerRef)!=null&&re.current&&(v.current.columnHeadersContainerRef.current.scrollLeft=0)}},[v,u]);const oe=typeof e.headerClassName=="function"?e.headerClassName({field:e.field,colDef:e}):e.headerClassName,X=e.headerName??e.field;return C.jsx(xK,ee({ref:P,classes:L,columnMenuOpen:n,colIndex:r,height:i,isResizing:s,sortDirection:a,hasFocus:u,tabIndex:d,separatorSide:f,isDraggable:F,headerComponent:B,description:e.description,elementId:e.field,width:e.computedWidth,columnMenuIconButton:Z,columnTitleIconButtons:W,headerClassName:Ae(oe,o&&fe["columnHeader--last"]),label:X,resizable:!k.disableColumnResize&&!!e.resizable,"data-field":e.field,columnMenu:ae,draggableContainerProps:G,columnHeaderSeparatorProps:j,style:p},O))}const eVe=df(ZHe),tVe=["className"],nVe=t=>{const{classes:e}=t;return nr({root:["iconButtonContainer"]},rr,e)},rVe=Hr("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(t,e)=>e.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),SK=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,tVe),s=Wt(),o=nVe(s);return C.jsx(rVe,ee({ref:n,className:Ae(o.root,r),ownerState:s},i))}),iVe=["direction","index","sortingOrder","disabled"],sVe=t=>{const{classes:e}=t;return nr({icon:["sortIcon"]},rr,e)};function oVe(t,e,n,r){let i;const s={};return e==="asc"?i=t.columnSortedAscendingIcon:e==="desc"?i=t.columnSortedDescendingIcon:(i=t.columnUnsortedIcon,s.sortingOrder=r),i?C.jsx(i,ee({fontSize:"small",className:n},s)):null}function aVe(t){var h;const{direction:e,index:n,sortingOrder:r,disabled:i}=t,s=rn(t,iVe),o=Jn(),a=Wt(),l=ee({},t,{classes:a.classes}),c=sVe(l),u=oVe(a.slots,e,c.icon,r);if(!u)return null;const d=C.jsx(a.slots.baseIconButton,ee({tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:i},(h=a.slotProps)==null?void 0:h.baseIconButton,s,{children:u}));return C.jsxs(SK,{children:[n!=null&&C.jsx(a.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:d}),n==null&&d]})}const lVe=b.memo(aVe),cVe=t=>{const{classes:e}=t;return nr({icon:["filterIcon"]},rr,e)};function uVe(t){var p,m;const{counter:e,field:n,onClick:r}=t,i=Jn(),s=Wt(),o=ee({},t,{classes:s.classes}),a=cVe(o),l=ut(i,cv),c=Qi(),u=Qi(),d=b.useCallback(y=>{y.preventDefault(),y.stopPropagation();const{open:S,openedPanelValue:w}=cv(i.current.state);S&&w===Dp.filters?i.current.hideFilterPanel():i.current.showFilterPanel(void 0,u,c),r&&r(i.current.getColumnHeaderParams(n),y)},[i,n,r,u,c]);if(!e)return null;const h=l.open&&l.labelId===c,f=C.jsx(s.slots.baseIconButton,ee({id:c,onClick:d,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?u:void 0},(p=s.slotProps)==null?void 0:p.baseIconButton,{children:C.jsx(s.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return C.jsx(s.slots.baseTooltip,ee({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(e),enterDelay:1e3},(m=s.slotProps)==null?void 0:m.baseTooltip,{children:C.jsxs(SK,{children:[e>1&&C.jsx(s.slots.baseBadge,{badgeContent:e,color:"default",children:f}),e===1&&f]})}))}const t$=tn(C.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),n$=tn(C.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),r$=tn(C.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),i$=tn(C.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),dVe=tn(C.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),s$=tn(C.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),hVe=tn(C.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");tn(C.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");tn(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const fVe=tn(C.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),pVe=tn(C.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),gVe=tn(C.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),mVe=tn(C.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),yVe=tn(C.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),bVe=tn(C.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),eM=tn(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),o$=tn(C.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),vVe=tn(C.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),wVe=tn(C.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),a$=tn(C.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),xVe=tn(C.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),SVe=tn(C.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),CVe=tn(C.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),kVe=tn(C.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),TVe=tn(C.jsx("g",{children:C.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),PVe=tn(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");tn(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const _Ve=tn(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");function CK(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}const vC=t=>t.indexOf("Arrow")===0||t.indexOf("Page")===0||t===" "||t==="Home"||t==="End",MVe=t=>!!t.key,kK=t=>t==="Tab"||t==="Escape";function TK(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="V"&&!t.shiftKey&&!t.altKey}function EVe(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="C"&&!t.shiftKey&&!t.altKey}const BVe=["hideMenu","colDef","id","labelledby","className","children","open"],NVe=be(Dm)(()=>({minWidth:248})),IVe=b.forwardRef(function(e,n){const{hideMenu:r,id:i,labelledby:s,className:o,children:a,open:l}=e,c=rn(e,BVe),u=b.useCallback(d=>{d.key==="Tab"&&d.preventDefault(),kK(d.key)&&r(d)},[r]);return C.jsx(NVe,ee({id:i,ref:n,className:Ae(fe.menuList,o),"aria-labelledby":s,onKeyDown:u,autoFocus:l},c,{children:a}))}),AVe=["displayOrder"],RVe=t=>{const e=Zl(),n=Wt(),{defaultSlots:r,defaultSlotProps:i,slots:s={},slotProps:o={},hideMenu:a,colDef:l,addDividers:c=!0}=t,u=b.useMemo(()=>ee({},r,s),[r,s]),d=b.useMemo(()=>{if(!o||Object.keys(o).length===0)return i;const p=ee({},o);return Object.entries(i).forEach(([m,y])=>{p[m]=ee({},y,o[m]||{})}),p},[i,o]),h=e.current.unstable_applyPipeProcessors("columnMenu",[],t.colDef),f=b.useMemo(()=>{const p=Object.keys(r);return Object.keys(s).filter(m=>!p.includes(m))},[s,r]);return b.useMemo(()=>{const y=Array.from(new Set([...h,...f])).filter(S=>u[S]!=null).sort((S,w)=>{const v=d[S],k=d[w],P=Number.isFinite(v==null?void 0:v.displayOrder)?v.displayOrder:100,T=Number.isFinite(k==null?void 0:k.displayOrder)?k.displayOrder:100;return P-T});return y.reduce((S,w,v)=>{let k={colDef:l,onClick:a};const P=d[w];if(P){const T=rn(P,AVe);k=ee({},k,T)}return c&&v!==y.length-1?[...S,[u[w],k],[n.slots.baseDivider,{}]]:[...S,[u[w],k]]},[])},[c,l,h,a,u,d,f,n.slots.baseDivider])};function LVe(t){const{colDef:e,onClick:n}=t,r=Jn(),i=Wt(),a=Ps(r).filter(c=>c.disableColumnMenu!==!0).length===1,l=b.useCallback(c=>{a||(r.current.setColumnVisibility(e.field,!1),n(c))},[r,e.field,n,a]);return i.disableColumnSelector||e.hideable===!1?null:C.jsxs(Ca,{onClick:l,disabled:a,children:[C.jsx(oa,{children:C.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),C.jsx(aa,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function DVe(t){const{onClick:e}=t,n=Jn(),r=Wt(),i=b.useCallback(s=>{e(s),n.current.showPreferences(Dp.columns)},[n,e]);return r.disableColumnSelector?null:C.jsxs(Ca,{onClick:i,children:[C.jsx(oa,{children:C.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),C.jsx(aa,{children:n.current.getLocaleText("columnMenuManageColumns")})]})}function FVe(t){return C.jsxs(b.Fragment,{children:[C.jsx(LVe,ee({},t)),C.jsx(DVe,ee({},t))]})}function OVe(t){const{colDef:e,onClick:n}=t,r=Jn(),i=Wt(),s=b.useCallback(o=>{n(o),r.current.showFilterPanel(e.field)},[r,e.field,n]);return i.disableColumnFilter||!e.filterable?null:C.jsxs(Ca,{onClick:s,children:[C.jsx(oa,{children:C.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),C.jsx(aa,{children:r.current.getLocaleText("columnMenuFilter")})]})}function $Ve(t){const{colDef:e,onClick:n}=t,r=Jn(),i=ut(r,wl),s=Wt(),o=b.useMemo(()=>{if(!e)return null;const u=i.find(d=>d.field===e.field);return u==null?void 0:u.sort},[e,i]),a=e.sortingOrder??s.sortingOrder,l=b.useCallback(u=>{n(u);const d=u.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(e.field,d===o?null:d)},[r,e,n,o]);if(s.disableColumnSorting||!e||!e.sortable||!a.some(u=>!!u))return null;const c=u=>{const d=r.current.getLocaleText(u);return typeof d=="function"?d(e):d};return C.jsxs(b.Fragment,{children:[a.includes("asc")&&o!=="asc"?C.jsxs(Ca,{onClick:l,"data-value":"asc",children:[C.jsx(oa,{children:C.jsx(s.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),C.jsx(aa,{children:c("columnMenuSortAsc")})]}):null,a.includes("desc")&&o!=="desc"?C.jsxs(Ca,{onClick:l,"data-value":"desc",children:[C.jsx(oa,{children:C.jsx(s.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),C.jsx(aa,{children:c("columnMenuSortDesc")})]}):null,a.includes(null)&&o!=null?C.jsxs(Ca,{onClick:l,children:[C.jsx(oa,{}),C.jsx(aa,{children:r.current.getLocaleText("columnMenuUnsort")})]}):null]})}const HVe=["defaultSlots","defaultSlotProps","slots","slotProps"],VVe={columnMenuSortItem:$Ve,columnMenuFilterItem:OVe,columnMenuColumnsItem:FVe},zVe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},WVe=b.forwardRef(function(e,n){const{defaultSlots:r,defaultSlotProps:i,slots:s,slotProps:o}=e,a=rn(e,HVe),l=RVe(ee({},a,{defaultSlots:r,defaultSlotProps:i,slots:s,slotProps:o}));return C.jsx(IVe,ee({ref:n},a,{children:l.map(([c,u],d)=>C.jsx(c,ee({},u),d))}))}),GVe=b.forwardRef(function(e,n){return C.jsx(WVe,ee({},e,{ref:n,defaultSlots:VVe,defaultSlotProps:zVe}))}),UVe=["className","slotProps"],jVe=t=>{const{classes:e}=t;return nr({root:["panelWrapper"]},rr,e)},YVe=be("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(t,e)=>e.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),XVe=()=>!0,PK=b.forwardRef(function(e,n){const{className:r,slotProps:i={}}=e,s=rn(e,UVe),o=Wt(),a=jVe(o);return C.jsx(wN,ee({open:!0,disableEnforceFocus:!0,isEnabled:XVe},i.TrapFocus,{children:C.jsx(YVe,ee({ref:n,tabIndex:-1,className:Ae(a.root,r),ownerState:o},s))}))}),qVe=(t,e)=>{const n=new Set(Object.keys(t).filter(s=>t[s]===!1)),r=new Set(Object.keys(e).filter(s=>e[s]===!1));if(n.size!==r.size)return!1;let i=!0;return n.forEach(s=>{r.has(s)||(i=!1)}),i},KVe=(t,e)=>(t.headerName||t.field).toLowerCase().indexOf(e)>-1,QVe=t=>{const{classes:e}=t;return nr({root:["columnsManagement"],header:["columnsManagementHeader"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},rr,e)},l$=new Intl.Collator;function _K(t){var D,A,N;const e=Jn(),n=b.useRef(null),r=ut(e,Fc),i=Iu(()=>Fl(e)).current,s=ut(e,Fl),o=Wt(),[a,l]=b.useState(""),c=QVe(o),{sort:u,searchPredicate:d=KVe,autoFocusSearchField:h=!0,disableShowHideToggle:f=!1,disableResetButton:p=!1,toggleAllMode:m="all",getTogglableColumns:y}=t,S=b.useMemo(()=>qVe(s,i),[s,i]),w=b.useMemo(()=>{switch(u){case"asc":return[...r].sort((L,H)=>l$.compare(L.headerName||L.field,H.headerName||H.field));case"desc":return[...r].sort((L,H)=>-l$.compare(L.headerName||L.field,H.headerName||H.field));default:return r}},[r,u]),v=L=>{const{name:H}=L.target;e.current.setColumnVisibility(H,s[H]===!1)},k=b.useMemo(()=>{const L=y?y(w):null,H=L?w.filter(({field:O})=>L.includes(O)):w;return a?H.filter(O=>d(O,a.toLowerCase())):H},[w,a,d,y]),P=b.useCallback(L=>{const H=Fl(e),O=ee({},H),G=y?y(r):null;return(m==="filteredOnly"?k:r).forEach(j=>{j.hideable&&(G==null||G.includes(j.field))&&(L?delete O[j.field]:O[j.field]=!1)}),e.current.setColumnVisibilityModel(O)},[e,r,y,m,k]),T=b.useCallback(L=>{l(L.target.value)},[]),_=b.useMemo(()=>k.filter(L=>L.hideable),[k]),E=b.useMemo(()=>_.every(L=>s[L.field]==null||s[L.field]!==!1),[s,_]),I=b.useMemo(()=>_.every(L=>s[L.field]===!1),[s,_]),R=b.useRef(null);b.useEffect(()=>{h?n.current.focus():R.current&&typeof R.current.focus=="function"&&R.current.focus()},[h]);let F=!1;const B=L=>F===!1&&L.hideable!==!1?(F=!0,!0):!1;return C.jsxs(b.Fragment,{children:[C.jsx(ZVe,{className:c.header,ownerState:o,children:C.jsx(o.slots.baseTextField,ee({placeholder:e.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,value:a,onChange:T,variant:"outlined",size:"small",InputProps:{startAdornment:C.jsx(o.slots.baseInputAdornment,{position:"start",children:C.jsx(o.slots.quickFilterIcon,{})}),sx:{pl:1.5}},fullWidth:!0},(D=o.slotProps)==null?void 0:D.baseTextField))}),C.jsxs(JVe,{className:c.root,ownerState:o,children:[k.map(L=>{var H;return C.jsx(Cb,{className:c.row,control:C.jsx(o.slots.baseCheckbox,ee({disabled:L.hideable===!1,checked:s[L.field]!==!1,onClick:v,name:L.field,sx:{p:.5},inputRef:B(L)?R:void 0},(H=o.slotProps)==null?void 0:H.baseCheckbox)),label:L.headerName||L.field},L.field)}),k.length===0&&C.jsx(tze,{ownerState:o,children:e.current.getLocaleText("columnsManagementNoColumns")})]}),(!f||!p)&&k.length>0?C.jsxs(eze,{ownerState:o,className:c.footer,children:[f?C.jsx("span",{}):C.jsx(Cb,{control:C.jsx(o.slots.baseCheckbox,ee({disabled:_.length===0,checked:E,indeterminate:!E&&!I,onClick:()=>P(!E),name:e.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},(A=o.slotProps)==null?void 0:A.baseCheckbox)),label:e.current.getLocaleText("columnsManagementShowHideAllText")}),p?null:C.jsx(o.slots.baseButton,ee({onClick:()=>e.current.setColumnVisibilityModel(i),disabled:S},(N=o.slotProps)==null?void 0:N.baseButton,{children:e.current.getLocaleText("columnsManagementReset")}))]}):null]})}const JVe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(t,e)=>e.columnsManagement})(({theme:t})=>({padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),ZVe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(t,e)=>e.columnsManagementHeader})(({theme:t})=>({padding:t.spacing(1.5,3)})),eze=be("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(t,e)=>e.columnsManagementFooter})(({theme:t})=>({padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${t.palette.divider}`})),tze=be("div")(({theme:t})=>({padding:t.spacing(.5,0),color:t.palette.grey[500]}));function nze(t){var n;const e=Wt();return C.jsx(PK,ee({},t,{children:C.jsx(_K,ee({},(n=e.slotProps)==null?void 0:n.columnsManagement))}))}const rze=["children","className","classes"],ize=wq("MuiDataGrid",["panel","paper"]),sze=be(Ld,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(t,e)=>e.panel})(({theme:t})=>({zIndex:t.zIndex.modal})),oze=be(Uc,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${t.spacing(.5)})`,overflow:"auto"})),aze=b.forwardRef((t,e)=>{const{children:n,className:r}=t,i=rn(t,rze),s=Jn(),o=Wt(),a=ize,[l,c]=b.useState(!1),u=b.useCallback(()=>{s.current.hidePreferences()},[s]),d=b.useCallback(m=>{m.key==="Escape"&&s.current.hidePreferences()},[s]),h=b.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{c(!0)},effect:()=>()=>{c(!1)}}],[]),[f,p]=b.useState(null);return b.useEffect(()=>{var y,S;const m=(S=(y=s.current.rootElementRef)==null?void 0:y.current)==null?void 0:S.querySelector('[data-id="gridPanelAnchor"]');m&&p(m)},[s]),f?C.jsx(sze,ee({ref:e,placement:"bottom-start",className:Ae(a.panel,r),ownerState:o,anchorEl:f,modifiers:h},i,{children:C.jsx(ZW,{mouseEvent:"onMouseUp",onClickAway:u,children:C.jsx(oze,{className:a.paper,ownerState:o,elevation:8,onKeyDown:d,children:l&&n})})})):null}),lze=["className"],cze=t=>{const{classes:e}=t;return nr({root:["panelContent"]},rr,e)},uze=Hr("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(t,e)=>e.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function dze(t){const{className:e}=t,n=rn(t,lze),r=Wt(),i=cze(r);return C.jsx(uze,ee({className:Ae(i.root,e),ownerState:r},n))}const hze=["className"],fze=t=>{const{classes:e}=t;return nr({root:["panelFooter"]},rr,e)},pze=Hr("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(t,e)=>e.panelFooter})(({theme:t})=>({padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}));function gze(t){const{className:e}=t,n=rn(t,hze),r=Wt(),i=fze(r);return C.jsx(pze,ee({className:Ae(i.root,e),ownerState:r},n))}const mze=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],yze=["InputComponentProps"],bze=t=>{const{classes:e}=t;return nr({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},rr,e)},vze=be("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(t,e)=>e.filterForm})(({theme:t})=>({display:"flex",padding:t.spacing(1)})),wze=be("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(t,e)=>e.filterFormDeleteIcon})(({theme:t})=>({flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)})),xze=be("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(t,e)=>e.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),Sze=be("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(t,e)=>e.filterFormColumnInput})({width:150}),Cze=be("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(t,e)=>e.filterFormOperatorInput})({width:150}),kze=be("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(t,e)=>e.filterFormValueInput})({width:190}),Tze=t=>{switch(t){case Uo.And:return"filterPanelOperatorAnd";case Uo.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Z1=t=>t.headerName||t.field,c$=new Intl.Collator,u$=b.forwardRef(function(e,n){var ue,we,Pe,te,pe,ge,Te,Re,Ie;const{item:r,hasMultipleFilters:i,deleteFilter:s,applyFilterChanges:o,showMultiFilterOperators:a,disableMultiFilterOperator:l,applyMultiFilterOperatorChanges:c,focusElementRef:u,logicOperators:d=[Uo.And,Uo.Or],columnsSort:h,filterColumns:f,deleteIconProps:p={},logicOperatorInputProps:m={},operatorInputProps:y={},columnInputProps:S={},valueInputProps:w={},readOnly:v}=e,k=rn(e,mze),P=Jn(),T=ut(P,Vd),_=ut(P,Pq),E=ut(P,lo),I=Qi(),R=Qi(),F=Qi(),B=Qi(),D=Wt(),A=bze(D),N=b.useRef(null),L=b.useRef(null),H=E.logicOperator??Uo.And,O=i&&d.length>0,G=((ue=D.slotProps)==null?void 0:ue.baseFormControl)||{},J=(((we=D.slotProps)==null?void 0:we.baseSelect)||{}).native??!1,Z=((Pe=D.slotProps)==null?void 0:Pe.baseInputLabel)||{},ae=((te=D.slotProps)==null?void 0:te.baseSelectOption)||{},{InputComponentProps:z}=w,$=rn(w,yze),{filteredColumns:W,selectedField:oe}=b.useMemo(()=>{let he=r.field;const Se=T[r.field].filterable===!1?T[r.field]:null;if(Se)return{filteredColumns:[Se],selectedField:he};if(f===void 0||typeof f!="function")return{filteredColumns:_,selectedField:he};const Ce=f({field:r.field,columns:_,currentFilters:(E==null?void 0:E.items)||[]});return{filteredColumns:_.filter($e=>{const ke=Ce.includes($e.field);return $e.field===r.field&&!ke&&(he=void 0),ke}),selectedField:he}},[f,E==null?void 0:E.items,_,r.field,T]),X=b.useMemo(()=>{switch(h){case"asc":return W.sort((he,Se)=>c$.compare(Z1(he),Z1(Se)));case"desc":return W.sort((he,Se)=>-c$.compare(Z1(he),Z1(Se)));default:return W}},[W,h]),K=r.field?P.current.getColumn(r.field):null,Y=b.useMemo(()=>{var he;return!r.operator||!K?null:(he=K.filterOperators)==null?void 0:he.find(Se=>Se.value===r.operator)},[r,K]),le=b.useCallback(he=>{const Se=he.target.value,Ce=P.current.getColumn(Se);if(Ce.field===K.field)return;const $e=Ce.filterOperators.find(ye=>ye.value===r.operator)||Ce.filterOperators[0];let me=!$e.InputComponent||$e.InputComponent!==(Y==null?void 0:Y.InputComponent)||Ce.type!==K.type?void 0:r.value;if(Ce.type==="singleSelect"&&me!==void 0){const ye=Ce,Ee=Lp(ye);Array.isArray(me)?me=me.filter(We=>yC(We,Ee,ye==null?void 0:ye.getOptionValue)!==void 0):yC(r.value,Ee,ye==null?void 0:ye.getOptionValue)===void 0&&(me=void 0)}o(ee({},r,{field:Se,operator:$e.value,value:me}))},[P,o,r,K,Y]),ie=b.useCallback(he=>{const Se=he.target.value,Ce=K==null?void 0:K.filterOperators.find(ke=>ke.value===Se),$e=!(Ce!=null&&Ce.InputComponent)||(Ce==null?void 0:Ce.InputComponent)!==(Y==null?void 0:Y.InputComponent);o(ee({},r,{operator:Se,value:$e?void 0:r.value}))},[o,r,K,Y]),re=b.useCallback(he=>{const Se=he.target.value===Uo.And.toString()?Uo.And:Uo.Or;c(Se)},[c]),se=()=>{s(r)};return b.useImperativeHandle(u,()=>({focus:()=>{var he;Y!=null&&Y.InputComponent?(he=N==null?void 0:N.current)==null||he.focus():L.current.focus()}}),[Y]),C.jsxs(vze,ee({ref:n,className:A.root,"data-id":r.id,ownerState:D},k,{children:[C.jsx(wze,ee({variant:"standard",as:D.slots.baseFormControl},G,p,{className:Ae(A.deleteIcon,G.className,p.className),ownerState:D,children:C.jsx(D.slots.baseIconButton,ee({"aria-label":P.current.getLocaleText("filterPanelDeleteIconLabel"),title:P.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:se,size:"small",disabled:v},(pe=D.slotProps)==null?void 0:pe.baseIconButton,{children:C.jsx(D.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),C.jsx(xze,ee({variant:"standard",as:D.slots.baseFormControl},G,m,{sx:[O?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},G.sx,m.sx],className:Ae(A.logicOperatorInput,G.className,m.className),ownerState:D,children:C.jsx(D.slots.baseSelect,ee({inputProps:{"aria-label":P.current.getLocaleText("filterPanelLogicOperator")},value:H??"",onChange:re,disabled:!!l||d.length===1,native:J},(ge=D.slotProps)==null?void 0:ge.baseSelect,{children:d.map(he=>b.createElement(D.slots.baseSelectOption,ee({},ae,{native:J,key:he.toString(),value:he.toString()}),P.current.getLocaleText(Tze(he))))}))})),C.jsxs(Sze,ee({variant:"standard",as:D.slots.baseFormControl},G,S,{className:Ae(A.columnInput,G.className,S.className),ownerState:D,children:[C.jsx(D.slots.baseInputLabel,ee({},Z,{htmlFor:I,id:R,children:P.current.getLocaleText("filterPanelColumns")})),C.jsx(D.slots.baseSelect,ee({labelId:R,id:I,label:P.current.getLocaleText("filterPanelColumns"),value:oe??"",onChange:le,native:J,disabled:v},(Te=D.slotProps)==null?void 0:Te.baseSelect,{children:X.map(he=>b.createElement(D.slots.baseSelectOption,ee({},ae,{native:J,key:he.field,value:he.field}),Z1(he)))}))]})),C.jsxs(Cze,ee({variant:"standard",as:D.slots.baseFormControl},G,y,{className:Ae(A.operatorInput,G.className,y.className),ownerState:D,children:[C.jsx(D.slots.baseInputLabel,ee({},Z,{htmlFor:F,id:B,children:P.current.getLocaleText("filterPanelOperator")})),C.jsx(D.slots.baseSelect,ee({labelId:B,label:P.current.getLocaleText("filterPanelOperator"),id:F,value:r.operator,onChange:ie,native:J,inputRef:L,disabled:v},(Re=D.slotProps)==null?void 0:Re.baseSelect,{children:(Ie=K==null?void 0:K.filterOperators)==null?void 0:Ie.map(he=>b.createElement(D.slots.baseSelectOption,ee({},ae,{native:J,key:he.value,value:he.value}),he.label||P.current.getLocaleText(`filterOperator${Jv(he.value)}`)))}))]})),C.jsx(kze,ee({variant:"standard",as:D.slots.baseFormControl},G,$,{className:Ae(A.valueInput,G.className,$.className),ownerState:D,children:Y!=null&&Y.InputComponent?C.jsx(Y.InputComponent,ee({apiRef:P,item:r,applyValue:o,focusElementRef:N,disabled:v},Y.InputComponentProps,z),r.field):null}))]}))}),Pze=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],d$=t=>({field:t.field,operator:t.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),_ze=b.forwardRef(function(e,n){var B,D;const r=Jn(),i=Wt(),s=ut(r,lo),o=ut(r,Pq),a=ut(r,y8e),l=b.useRef(null),c=b.useRef(null),{logicOperators:u=[Uo.And,Uo.Or],columnsSort:d,filterFormProps:h,getColumnForNewFilter:f,disableAddFilterButton:p=!1,disableRemoveAllButton:m=!1}=e,y=rn(e,Pze),S=r.current.upsertFilterItem,w=b.useCallback(A=>{r.current.setFilterLogicOperator(A)},[r]),v=b.useCallback(()=>{let A;if(f&&typeof f=="function"){const N=f({currentFilters:(s==null?void 0:s.items)||[],columns:o});if(N===null)return null;A=o.find(({field:L})=>L===N)}else A=o.find(N=>{var L;return(L=N.filterOperators)==null?void 0:L.length});return A?d$(A):null},[s==null?void 0:s.items,o,f]),k=b.useCallback(()=>{if(f===void 0||typeof f!="function")return v();const A=s.items.length?s.items:[v()].filter(Boolean),N=f({currentFilters:A,columns:o});if(N===null)return null;const L=o.find(({field:H})=>H===N);return L?d$(L):null},[s.items,o,f,v]),P=b.useMemo(()=>s.items.length?s.items:(c.current||(c.current=v()),c.current?[c.current]:[]),[s.items,v]),T=P.length>1,{readOnlyFilters:_,validFilters:E}=b.useMemo(()=>P.reduce((A,N)=>(a[N.field]?A.validFilters.push(N):A.readOnlyFilters.push(N),A),{readOnlyFilters:[],validFilters:[]}),[P,a]),I=b.useCallback(()=>{const A=k();A&&r.current.upsertFilterItems([...P,A])},[r,k,P]),R=b.useCallback(A=>{const N=E.length===1;r.current.deleteFilterItem(A),N&&r.current.hideFilterPanel()},[r,E.length]),F=b.useCallback(()=>E.length===1&&E[0].value===void 0?(r.current.deleteFilterItem(E[0]),r.current.hideFilterPanel()):r.current.setFilterModel(ee({},s,{items:_}),"removeAllFilterItems"),[r,_,s,E]);return b.useEffect(()=>{u.length>0&&s.logicOperator&&!u.includes(s.logicOperator)&&w(u[0])},[u,w,s.logicOperator]),b.useEffect(()=>{E.length>0&&l.current.focus()},[E.length]),C.jsxs(PK,ee({ref:n},y,{children:[C.jsxs(dze,{children:[_.map((A,N)=>C.jsx(u$,ee({item:A,applyFilterChanges:S,deleteFilter:R,hasMultipleFilters:T,showMultiFilterOperators:N>0,disableMultiFilterOperator:N!==1,applyMultiFilterOperatorChanges:w,focusElementRef:null,readOnly:!0,logicOperators:u,columnsSort:d},h),A.id==null?N:A.id)),E.map((A,N)=>C.jsx(u$,ee({item:A,applyFilterChanges:S,deleteFilter:R,hasMultipleFilters:T,showMultiFilterOperators:_.length+N>0,disableMultiFilterOperator:_.length+N!==1,applyMultiFilterOperatorChanges:w,focusElementRef:N===E.length-1?l:null,logicOperators:u,columnsSort:d},h),A.id==null?N+_.length:A.id))]}),!i.disableMultipleColumnsFiltering&&!(p&&m)?C.jsxs(gze,{children:[p?C.jsx("span",{}):C.jsx(i.slots.baseButton,ee({onClick:I,startIcon:C.jsx(i.slots.filterPanelAddIcon,{})},(B=i.slotProps)==null?void 0:B.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!m&&E.length>0?C.jsx(i.slots.baseButton,ee({onClick:F,startIcon:C.jsx(i.slots.filterPanelRemoveAllIcon,{})},(D=i.slotProps)==null?void 0:D.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),Mze=b.forwardRef(function(e,n){var w,v;const{children:r,slotProps:i={}}=e,s=i.button||{},o=i.tooltip||{},a=Jn(),l=Wt(),c=Qi(),u=Qi(),[d,h]=b.useState(!1),f=b.useRef(null),p=uf(n,f),m=k=>{var P;h(T=>!T),(P=s.onClick)==null||P.call(s,k)},y=()=>h(!1),S=k=>{k.key==="Tab"&&k.preventDefault(),kK(k.key)&&y()};return r==null?null:C.jsxs(b.Fragment,{children:[C.jsx(l.slots.baseTooltip,ee({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},o,(w=l.slotProps)==null?void 0:w.baseTooltip,{children:C.jsx(l.slots.baseButton,ee({ref:p,size:"small",startIcon:C.jsx(l.slots.exportIcon,{}),"aria-expanded":d,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":d?u:void 0,id:c},s,{onClick:m},(v=l.slotProps)==null?void 0:v.baseButton,{children:a.current.getLocaleText("toolbarExport")}))})),C.jsx(_4,{open:d,target:f.current,onClose:y,position:"bottom-start",children:C.jsx(Dm,{id:u,className:fe.menuList,"aria-labelledby":c,onKeyDown:S,autoFocusItem:d,children:b.Children.map(r,k=>b.isValidElement(k)?b.cloneElement(k,{hideMenu:y}):k)})})]})}),Eze=["hideMenu","options"],Bze=["hideMenu","options"],Nze=["csvOptions","printOptions","excelOptions"];function Ize(t){const e=Jn(),{hideMenu:n,options:r}=t,i=rn(t,Eze);return C.jsx(Ca,ee({onClick:()=>{e.current.exportDataAsCsv(r),n==null||n()}},i,{children:e.current.getLocaleText("toolbarExportCSV")}))}function Aze(t){const e=Jn(),{hideMenu:n,options:r}=t,i=rn(t,Bze);return C.jsx(Ca,ee({onClick:()=>{e.current.exportDataAsPrint(r),n==null||n()}},i,{children:e.current.getLocaleText("toolbarExportPrint")}))}const Rze=b.forwardRef(function(e,n){const{csvOptions:r={},printOptions:i={},excelOptions:s}=e,o=rn(e,Nze),l=Jn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:r,printOptions:i}).sort((c,u)=>c.componentName>u.componentName?1:-1);return l.length===0?null:C.jsx(Mze,ee({},o,{ref:n,children:l.map((c,u)=>b.cloneElement(c.component,{key:u}))}))}),Lze=["className","selectedRowCount"],Dze=t=>{const{classes:e}=t;return nr({root:["selectedRowCount"]},rr,e)},Fze=Hr("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(t,e)=>e.selectedRowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),Oze=b.forwardRef(function(e,n){const{className:r,selectedRowCount:i}=e,s=rn(e,Lze),o=Jn(),a=Wt(),l=Dze(a),c=o.current.getLocaleText("footerRowSelected")(i);return C.jsx(Fze,ee({ref:n,className:Ae(l.root,r),ownerState:a},s,{children:c}))}),$ze=b.forwardRef(function(e,n){var d,h;const r=Jn(),i=Wt(),s=ut(r,t9e),o=ut(r,B9e),a=ut(r,N4),l=!i.hideFooterSelectedRowCount&&o>0?C.jsx(Oze,{selectedRowCount:o}):C.jsx("div",{}),c=!i.hideFooterRowCount&&!i.pagination?C.jsx(i.slots.footerRowCount,ee({},(d=i.slotProps)==null?void 0:d.footerRowCount,{rowCount:s,visibleRowCount:a})):null,u=i.pagination&&!i.hideFooterPagination&&i.slots.pagination&&C.jsx(i.slots.pagination,ee({},(h=i.slotProps)==null?void 0:h.pagination));return C.jsxs(NHe,ee({ref:n},e,{children:[l,c,u]}))});function Hze(){var s,o;const t=Jn(),e=ut(t,Fc),n=Wt(),r=ut(t,cv),i=t.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??Dp.filters);return C.jsx(n.slots.panel,ee({as:n.slots.basePopper,open:e.length>0&&r.open,id:r.panelId,"aria-labelledby":r.labelId},(s=n.slotProps)==null?void 0:s.panel,(o=n.slotProps)==null?void 0:o.basePopper,{children:i}))}function Vze(){var e;const t=Wt();return C.jsxs(b.Fragment,{children:[C.jsx(Hze,{}),t.slots.toolbar&&C.jsx(t.slots.toolbar,ee({},(e=t.slotProps)==null?void 0:e.toolbar))]})}const V4=(t,e,n,r,i)=>{const s=i.hasScrollY?i.scrollbarSize:0;let o;switch(t){case ti.LEFT:o=r[n];break;case ti.RIGHT:o=i.columnsTotalWidth-r[n]-e+s;break;default:o=0;break}return o},ey={root:fe.scrollbarFiller,header:fe["scrollbarFiller--header"],borderTop:fe["scrollbarFiller--borderTop"],borderBottom:fe["scrollbarFiller--borderBottom"],pinnedRight:fe["scrollbarFiller--pinnedRight"]};function z4({header:t,borderTop:e=!0,borderBottom:n,pinnedRight:r}){return C.jsx("div",{role:"presentation",className:Ae(ey.root,t&&ey.header,e&&ey.borderTop,n&&ey.borderBottom,r&&ey.pinnedRight)})}const zze=Hr("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(t,e)=>e.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),Wze=t=>{const{classes:e}=t;return nr({root:["skeletonLoadingOverlay"]},rr,e)},h$=t=>parseInt(t.getAttribute("data-colindex"),10),Gze=b.forwardRef(function(e,n){const r=Wt(),{slots:i}=r,s=Wze({classes:r.classes}),o=b.useRef(null),a=uf(o,n),l=Jn(),c=ut(l,vo),u=(c==null?void 0:c.viewportInnerSize.height)??0,d=Math.ceil(u/c.rowHeight),h=ut(l,C4),f=ut(l,hf),p=b.useMemo(()=>f.filter(T=>T<=h).length,[h,f]),m=ut(l,Ps),y=b.useMemo(()=>m.slice(0,p),[m,p]),S=ut(l,ew),w=b.useCallback((T,_,E)=>{const I=V4(E,T,_,f,c);return{[E]:I}},[c,f]),v=b.useCallback(T=>{if(S.left.findIndex(_=>_.field===T)!==-1)return ti.LEFT;if(S.right.findIndex(_=>_.field===T)!==-1)return ti.RIGHT},[S.left,S.right]),k=b.useMemo(()=>{const T=[];for(let _=0;_<d;_+=1){const E=[];for(let I=0;I<y.length;I+=1){const R=y[I],F=v(R.field),B=F===ti.LEFT,D=F===ti.RIGHT,A=F?S[F].length:y.length-S.left.length-S.right.length,N=F?S[F].findIndex(K=>K.field===R.field):I-S.left.length,L=F&&w(R.computedWidth,I,F),H=c.columnsTotalWidth<c.viewportOuterSize.width,O=$T(F,N,A,r.showCellVerticalBorder,H),G=HT(F,N),j=I===y.length-1,J=D&&N===0,Z=J&&H,ae=j&&!J&&H,z=c.viewportOuterSize.width-c.columnsTotalWidth,$=Math.max(0,z),W=C.jsx(i.skeletonCell,{width:$,empty:!0},`skeleton-filler-column-${_}`),oe=c.hasScrollY?c.scrollbarSize:0,X=j&&oe!==0;Z&&E.push(W),E.push(C.jsx(i.skeletonCell,{field:R.field,type:R.type,align:R.align,width:"var(--width)",height:c.rowHeight,"data-colindex":I,className:Ae(B&&fe["cell--pinnedLeft"],D&&fe["cell--pinnedRight"],O&&fe["cell--withRightBorder"],G&&fe["cell--withLeftBorder"]),style:ee({"--width":`${R.computedWidth}px`},L)},`skeleton-column-${_}-${R.field}`)),ae&&E.push(W),X&&E.push(C.jsx(z4,{pinnedRight:S.right.length>0},`skeleton-scrollbar-filler-${_}`))}T.push(C.jsx("div",{className:Ae(fe.row,fe.rowSkeleton,_===0&&fe["row--firstVisible"]),children:E},`skeleton-row-${_}`))}return T},[i,y,S,d,r.showCellVerticalBorder,c.columnsTotalWidth,c.viewportOuterSize.width,c.rowHeight,c.hasScrollY,c.scrollbarSize,v,w]);return Ot(l,"columnResize",T=>{var L,H,O;const{colDef:_,width:E}=T,I=(L=o.current)==null?void 0:L.querySelectorAll(`[data-field="${zd(_.field)}"]`);if(!I)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const R=y.findIndex(G=>G.field===_.field),F=v(_.field),B=F===ti.LEFT,D=F===ti.RIGHT,A=getComputedStyle(I[0]).getPropertyValue("--width"),N=parseInt(A,10)-E;if(I&&I.forEach(G=>{G.style.setProperty("--width",`${E}px`)}),B){const G=(H=o.current)==null?void 0:H.querySelectorAll(`.${fe["cell--pinnedLeft"]}`);G==null||G.forEach(j=>{h$(j)>R&&(j.style.left=`${parseInt(getComputedStyle(j).left,10)-N}px`)})}if(D){const G=(O=o.current)==null?void 0:O.querySelectorAll(`.${fe["cell--pinnedRight"]}`);G==null||G.forEach(j=>{h$(j)<R&&(j.style.right=`${parseInt(getComputedStyle(j).right,10)+N}px`)})}}),C.jsx(zze,ee({className:s.root,ref:a},e,{children:k}))}),Uze=["variant","noRowsVariant","style"],jze={"circular-progress":{component:xG,style:{}},"linear-progress":{component:Ybe,style:{display:"block"}},skeleton:{component:Gze,style:{display:"block"}}},Yze=b.forwardRef(function(e,n){const{variant:r="circular-progress",noRowsVariant:i="circular-progress",style:s}=e,o=rn(e,Uze),a=Jn(),l=ut(a,ET),c=jze[l===0?i:r];return C.jsx($4,ee({ref:n,style:ee({},c.style,s)},o,{children:C.jsx(c.component,{})}))}),Xze=b.forwardRef(function(e,n){const i=Jn().current.getLocaleText("noRowsLabel");return C.jsx($4,ee({ref:n},e,{children:i}))}),qze=be(qSe)(({theme:t})=>({maxHeight:"calc(100% + 1px)",flexGrow:1,[`& .${up.selectLabel}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},[`& .${up.input}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}})),Kze=(t,e)=>({from:n,to:r,count:i,page:s})=>t({from:n,to:r,count:i,page:s,estimated:e}),Qze=({from:t,to:e,count:n,estimated:r})=>r?`${t}${e} of ${n!==-1?n:`more than ${r>e?r:e}`}`:`${t}${e} of ${n!==-1?n:`more than ${e}`}`,Jze=b.forwardRef(function(e,n){const r=Jn(),i=Wt(),s=ut(r,Go),o=ut(r,xg),a=ut(r,Zq),{paginationMode:l,loading:c,estimatedRowCount:u}=i,d=b.useMemo(()=>o===-1&&l==="server"&&c?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[c,l,o]),h=b.useMemo(()=>Math.max(0,a-1),[a]),f=b.useMemo(()=>o===-1||s.page<=h?s.page:h,[h,s.page,o]),p=b.useCallback(k=>{const P=Number(k.target.value);r.current.setPageSize(P)},[r]),m=b.useCallback((k,P)=>{r.current.setPage(P)},[r]),S=(k=>{for(let P=0;P<i.pageSizeOptions.length;P+=1){const T=i.pageSizeOptions[P];if(typeof T=="number"){if(T===k)return!0}else if(T.value===k)return!0}return!1})(s.pageSize)?i.pageSizeOptions:[],w=r.current.getLocaleText("MuiTablePagination"),v=Kze(w.labelDisplayedRows||Qze,u);return C.jsx(qze,ee({ref:n,component:"div",count:o,page:f,rowsPerPageOptions:S,rowsPerPage:s.pageSize,onPageChange:m,onRowsPerPageChange:p},d,w,{labelDisplayedRows:v},e))}),Zze=["className","rowCount","visibleRowCount"],eWe=t=>{const{classes:e}=t;return nr({root:["rowCount"]},rr,e)},tWe=Hr("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(t,e)=>e.rowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2)})),nWe=b.forwardRef(function(e,n){const{className:r,rowCount:i,visibleRowCount:s}=e,o=rn(e,Zze),a=Jn(),l=Wt(),c=eWe(l);if(i===0)return null;const u=s<i?a.current.getLocaleText("footerTotalVisibleRows")(s,i):i.toLocaleString();return C.jsxs(tWe,ee({ref:n,className:Ae(c.root,r),ownerState:l},o,{children:[a.current.getLocaleText("footerTotalRows")," ",u]}))});function rWe(t,e){return nr(e,rr,t)}const iWe=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","dimensions","renderContext","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function sWe({width:t}){return t?C.jsx("div",{role:"presentation",className:Ae(fe.cell,fe.cellEmpty),style:{"--width":`${t}px`}}):null}const oWe=b.forwardRef(function(e,n){var me;const{selected:r,rowId:i,row:s,index:o,style:a,rowHeight:l,className:c,visibleColumns:u,pinnedColumns:d,offsetLeft:h,dimensions:f,renderContext:p,focusedColumnIndex:m,isFirstVisible:y,isLastVisible:S,isNotVisible:w,showBottomBorder:v,onClick:k,onDoubleClick:P,onMouseEnter:T,onMouseLeave:_,onMouseOut:E,onMouseOver:I}=e,R=rn(e,iWe),F=Zl(),B=fK(),D=b.useRef(null),A=Wt(),N=pf(F,A),L=ut(F,wl),H=ut(F,Um),O=ut(F,hf),G=ut(F,Js),j=uf(D,n),J=F.current.getRowNode(i),Z=f.hasScrollY?f.scrollbarSize:0,ae=f.columnsTotalWidth<f.viewportOuterSize.width,z=F.current.getRowMode(i)===Kr.Edit,$=A.editMode===Bu.Row,W=m!==void 0,oe=W&&m>=d.left.length&&m<p.firstColumnIndex,X=W&&m<u.length-d.right.length&&m>=p.lastColumnIndex,K=rWe(A.classes,{root:["row",r&&"selected",$&&"row--editable",z&&"row--editing",y&&"row--firstVisible",S&&"row--lastVisible",v&&"row--borderBottom",l==="auto"&&"row--dynamicHeight"]}),Y=B.hooks.useGridRowAriaAttributes();b.useLayoutEffect(()=>{if(N.range){const ye=F.current.getRowIndexRelativeToVisibleRows(i);ye!==void 0&&F.current.unstable_setLastMeasuredRowIndex(ye)}if(D.current&&l==="auto")return F.current.observeRowHeight(D.current,i)},[F,N.range,l,i]);const le=b.useCallback((ye,Ee)=>We=>{iw(We)||F.current.getRow(i)&&(F.current.publishEvent(ye,F.current.getRowParams(i),We),Ee&&Ee(We))},[F,i]),ie=b.useCallback(ye=>{const Ee=bC(ye.target,fe.cell),We=Ee==null?void 0:Ee.getAttribute("data-field");if(We){if(We===Ym.field||We===NT||We==="__reorder__"||F.current.getCellMode(i,We)===Fr.Edit)return;const je=F.current.getColumn(We);if((je==null?void 0:je.type)===MT)return}le("rowClick",k)(ye)},[F,k,le,i]),{slots:re,slotProps:se,disableColumnReorder:ue}=A,we=A.rowReordering,Pe=ut(F,()=>ee({},F.current.getRowHeightEntry(i)),Sq),te=b.useMemo(()=>{if(w)return{opacity:0,width:0,height:0};const ye=ee({},a,{maxHeight:l==="auto"?"none":l,minHeight:l,"--height":typeof l=="number"?`${l}px`:l});if(Pe.spacingTop){const Ee=A.rowSpacingType==="border"?"borderTopWidth":"marginTop";ye[Ee]=Pe.spacingTop}if(Pe.spacingBottom){const Ee=A.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let We=ye[Ee];typeof We!="number"&&(We=parseInt(We||"0",10)),We+=Pe.spacingBottom,ye[Ee]=We}return ye},[w,l,a,Pe,A.rowSpacingType]),pe=F.current.unstable_applyPipeProcessors("rowClassName",[],i),ge=J?Y(J,o):void 0;if(typeof A.getRowClassName=="function"){const ye=o-(((me=N.range)==null?void 0:me.firstRowIndex)||0),Ee=ee({},F.current.getRowParams(i),{isFirstVisible:ye===0,isLastVisible:ye===N.rows.length-1,indexRelativeToCurrentPage:ye});pe.push(A.getRowClassName(Ee))}const Te=(ye,Ee,We,je,et=fa.NONE)=>{var ct;const Fe=F.current.unstable_getCellColSpanInfo(i,We);if(Fe!=null&&Fe.spannedByColSpan)return null;const He=(Fe==null?void 0:Fe.cellProps.width)??ye.computedWidth,ot=(Fe==null?void 0:Fe.cellProps.colSpan)??1,pt=V4(wK[et],ye.computedWidth,We,O,f);if((J==null?void 0:J.type)==="skeletonRow")return C.jsx(re.skeletonCell,{type:ye.type,width:He,height:l,field:ye.field,align:ye.align},ye.field);const It=((ct=G[i])==null?void 0:ct[ye.field])??null,Gt=ye.field==="__reorder__",Jt=Object.keys(G).length>0,Fn=!(ue||ye.disableReorder),_e=we&&!L.length&&H<=1&&!Jt,Ne=!(Fn||Gt&&_e),Ye=et===fa.VIRTUAL;return C.jsx(re.cell,ee({column:ye,width:He,rowId:i,align:ye.align||"left",colIndex:We,colSpan:ot,disableDragEvents:Ne,editCellState:It,isNotVisible:Ye,pinnedOffset:pt,pinnedPosition:et,sectionIndex:Ee,sectionLength:je,gridHasFiller:ae},se==null?void 0:se.cell),ye.field)};if(!J)return null;const Re=d.left.map((ye,Ee)=>Te(ye,Ee,Ee,d.left.length,fa.LEFT)),Ie=d.right.map((ye,Ee)=>{const We=u.length-d.right.length+Ee;return Te(ye,Ee,We,d.right.length,fa.RIGHT)}),he=u.length-d.left.length-d.right.length,Se=[];oe&&Se.push(Te(u[m],m-d.left.length,m,he,fa.VIRTUAL));for(let ye=p.firstColumnIndex;ye<p.lastColumnIndex;ye+=1){const Ee=u[ye],We=ye-d.left.length;Ee&&Se.push(Te(Ee,We,ye,he))}X&&Se.push(Te(u[m],m-d.left.length,m,he,fa.VIRTUAL));const Ce=s?{onClick:ie,onDoubleClick:le("rowDoubleClick",P),onMouseEnter:le("rowMouseEnter",T),onMouseLeave:le("rowMouseLeave",_),onMouseOut:le("rowMouseOut",E),onMouseOver:le("rowMouseOver",I)}:null,$e=f.viewportOuterSize.width-f.columnsTotalWidth-Z,ke=Math.max(0,$e);return C.jsxs("div",ee({ref:j,"data-id":i,"data-rowindex":o,role:"row",className:Ae(...pe,K.root,c),style:te},ge,Ce,R,{children:[Re,C.jsx("div",{role:"presentation",className:fe.cellOffsetLeft,style:{width:h}}),Se,ke>0&&C.jsx(sWe,{width:ke}),Ie.length>0&&C.jsx("div",{role:"presentation",className:fe.filler}),Ie,Z!==0&&C.jsx(z4,{pinnedRight:d.right.length>0})]}))}),aWe=df(oWe),lWe=()=>{const t=Zl(),e=Wt(),n=ut(t,Ps),r=ut(t,B4),i=ut(t,rw),s=ut(t,s9e);return{role:"grid","aria-colcount":n.length,"aria-rowcount":i+1+s+r,"aria-multiselectable":I4(e)}},cWe=()=>{const t=Zl(),e=ut(t,yd),n=ut(t,rw);return b.useCallback((r,i)=>{const s={},o=i+n+2;return s["aria-rowindex"]=o,t.current.isRowSelectable(r.id)&&(s["aria-selected"]=e[r.id]!==void 0),s},[t,e,n])};function uWe({privateApiRef:t,configuration:e,props:n,children:r}){const i=b.useRef(t.current.getPublicApi());return C.jsx(hK.Provider,{value:e,children:C.jsx(yq.Provider,{value:n,children:C.jsx(aK.Provider,{value:t,children:C.jsx(mq.Provider,{value:i,children:r})})})})}const dWe=t=>{const e=b.useRef(null),n=b.useRef(null),r=b.useRef(null),i=b.useRef(null),s=b.useRef(null),o=b.useRef(null);t.current.register("public",{rootElementRef:e}),t.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:i,virtualScrollbarHorizontalRef:s,columnHeadersContainerRef:o})},hWe=t=>{const e=Vr();t.current.state.isRtl===void 0&&(t.current.state.isRtl=e);const n=b.useRef(!0);b.useEffect(()=>{n.current?n.current=!1:t.current.setState(r=>ee({},r,{isRtl:e}))},[t,e])},fWe=I8e()&&window.localStorage.getItem("DEBUG")!=null,gy=()=>{},pWe={debug:gy,info:gy,warn:gy,error:gy},f$=["debug","info","warn","error"];function p$(t,e,n=console){const r=f$.indexOf(e);if(r===-1)throw new Error(`MUI X: Log level ${e} not recognized.`);return f$.reduce((s,o,a)=>(a>=r?s[o]=(...l)=>{const[c,...u]=l;n[o](`MUI X: ${t} - ${c}`,...u)}:s[o]=gy,s),{})}const gWe=(t,e)=>{const n=b.useCallback(r=>fWe?p$(r,"debug",e.logger):e.logLevel?p$(r,e.logLevel.toString(),e.logger):pWe,[e.logLevel,e.logger]);Gn(t,{getLogger:n},"private")};class mWe{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,n,r={}){let i=this.events[e];i||(i={highPriority:new Map,regular:new Map},this.events[e]=i),r.isFirst?i.highPriority.set(n,!0):i.regular.set(n,!0)}removeListener(e,n){this.events[e]&&(this.events[e].regular.delete(n),this.events[e].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(e,...n){const r=this.events[e];if(!r)return;const i=Array.from(r.highPriority.keys()),s=Array.from(r.regular.keys());for(let o=i.length-1;o>=0;o-=1){const a=i[o];r.highPriority.has(a)&&a.apply(this,n)}for(let o=0;o<s.length;o+=1){const a=s[o];r.regular.has(a)&&a.apply(this,n)}}once(e,n){const r=this;this.on(e,function i(...s){r.removeListener(e,i),n.apply(r,s)})}}class W4{static create(e){return new W4(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{this.value=n,this.listeners.forEach(r=>r(n))},this.value=e,this.listeners=new Set}}const MK=Symbol("mui.api_private"),yWe=t=>t.isPropagationStopped!==void 0;let g$=0;function bWe(t){var i;const e=(i=t.current)==null?void 0:i[MK];if(e)return e;const n={},r={state:n,store:W4.create(n),instanceId:{id:g$}};return g$+=1,r.getPublicApi=()=>t.current,r.register=(s,o)=>{Object.keys(o).forEach(a=>{const l=o[a],c=r[a];if((c==null?void 0:c.spying)===!0?c.target=l:r[a]=l,s==="public"){const u=t.current,d=u[a];(d==null?void 0:d.spying)===!0?d.target=l:u[a]=l}})},r.register("private",{caches:{},eventManager:new mWe}),r}function vWe(t){return{get state(){return t.current.state},get store(){return t.current.store},get instanceId(){return t.current.instanceId},[MK]:t.current}}function wWe(t,e){var o;const n=b.useRef(),r=b.useRef();r.current||(r.current=bWe(n)),n.current||(n.current=vWe(r));const i=b.useCallback((...a)=>{const[l,c,u={}]=a;if(u.defaultMuiPrevented=!1,yWe(u)&&u.isPropagationStopped())return;const d=e.signature===Hl.DataGridPro||e.signature===Hl.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(l,c,u,d)},[r,e.signature]),s=b.useCallback((a,l,c)=>{r.current.eventManager.on(a,l,c);const u=r.current;return()=>{u.eventManager.removeListener(a,l)}},[r]);return Gn(r,{subscribeEvent:s,publishEvent:i},"public"),t&&!((o=t.current)!=null&&o.state)&&(t.current=n.current),b.useImperativeHandle(t,()=>n.current,[n]),b.useEffect(()=>{const a=r.current;return()=>{a.publishEvent("unmount")}},[r]),r}const xWe=(t,e)=>{const n=b.useCallback(r=>{if(e.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return e.localeText[r]},[e.localeText]);t.current.register("public",{getLocaleText:n})};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function SWe(t,e){if(uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dv(t){var e=SWe(t,"string");return uv(e)=="symbol"?e:e+""}const CWe=t=>{const e=b.useRef({}),n=b.useRef(!1),r=b.useCallback(u=>{n.current||!u||(n.current=!0,Object.values(u.appliers).forEach(d=>{d()}),n.current=!1)},[]),i=b.useCallback((u,d,h)=>{e.current[u]||(e.current[u]={processors:new Map,processorsAsArray:[],appliers:{}});const f=e.current[u];return f.processors.get(d)!==h&&(f.processors.set(d,h),f.processorsAsArray=Array.from(e.current[u].processors.values()),r(f)),()=>{e.current[u].processors.delete(d),e.current[u].processorsAsArray=Array.from(e.current[u].processors.values())}},[r]),s=b.useCallback((u,d,h)=>(e.current[u]||(e.current[u]={processors:new Map,processorsAsArray:[],appliers:{}}),e.current[u].appliers[d]=h,()=>{const f=e.current[u].appliers,p=rn(f,[d].map(dv));e.current[u].appliers=p}),[]),o=b.useCallback(u=>{r(e.current[u])},[r]),a=b.useCallback((...u)=>{const[d,h,f]=u;if(!e.current[d])return h;const p=e.current[d].processorsAsArray;let m=h;for(let y=0;y<p.length;y+=1)m=p[y](m,f);return m},[]),l={registerPipeProcessor:i,registerPipeApplier:s,requestPipeProcessorsApplication:o},c={unstable_applyPipeProcessors:a};Gn(t,l,"private"),Gn(t,c,"public")},bi=(t,e,n)=>{const r=b.useRef(),i=b.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=b.useCallback(()=>{r.current=t.current.registerPipeProcessor(e,i.current,n)},[t,n,e]);nw(()=>{s()});const o=b.useRef(!0);b.useEffect(()=>(o.current?o.current=!1:s(),()=>{r.current&&(r.current(),r.current=null)}),[s])},G4=(t,e,n)=>{const r=b.useRef(),i=b.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=b.useCallback(()=>{r.current=t.current.registerPipeApplier(e,i.current,n)},[t,n,e]);nw(()=>{s()});const o=b.useRef(!0);b.useEffect(()=>(o.current?o.current=!1:s(),()=>{r.current&&(r.current(),r.current=null)}),[s])},wC=(t,e,n,r)=>{const i=b.useCallback(()=>{t.current.registerStrategyProcessor(e,n,r)},[t,r,n,e]);nw(()=>{i()});const s=b.useRef(!0);b.useEffect(()=>{s.current?s.current=!1:i()},[i])},Fp="none",m$={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},kWe=t=>{const e=b.useRef(new Map),n=b.useRef({}),r=b.useCallback((l,c,u)=>{const d=()=>{const p=n.current[c],m=rn(p,[l].map(dv));n.current[c]=m};n.current[c]||(n.current[c]={});const h=n.current[c],f=h[l];return h[l]=u,!f||f===u||l===t.current.getActiveStrategy(m$[c])&&t.current.publishEvent("activeStrategyProcessorChange",c),d},[t]),i=b.useCallback((l,c)=>{const u=t.current.getActiveStrategy(m$[l]);if(u==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const d=n.current[l];if(!d||!d[u])throw new Error(`No processor found for processor "${l}" on strategy "${u}"`);const h=d[u];return h(c)},[t]),s=b.useCallback(l=>{const u=Array.from(e.current.entries()).find(([,d])=>d.group!==l?!1:d.isAvailable());return(u==null?void 0:u[0])??Fp},[]),o=b.useCallback((l,c,u)=>{e.current.set(c,{group:l,isAvailable:u}),t.current.publishEvent("strategyAvailabilityChange")},[t]);Gn(t,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:s,setStrategyAvailability:o},"private")},TWe=t=>{const e=b.useRef({}),[,n]=b.useState(),r=b.useCallback(c=>{e.current[c.stateId]=c},[]),i=b.useCallback((c,u)=>{let d;if(Bq(c)?d=c(t.current.state):d=c,t.current.state===d)return!1;let h=!1;const f=[];if(Object.keys(e.current).forEach(p=>{const m=e.current[p],y=m.stateSelector(t.current.state,t.current.instanceId),S=m.stateSelector(d,t.current.instanceId);S!==y&&(f.push({stateId:m.stateId,hasPropChanged:S!==m.propModel}),m.propModel!==void 0&&S!==m.propModel&&(h=!0))}),f.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${f[0].stateId}, therefore, you're not allowed to update ${f.map(p=>p.stateId).join(", ")} in the same transaction.`);if(h||(t.current.state=d,t.current.publishEvent("stateChange",d),t.current.store.update(d)),f.length===1){const{stateId:p,hasPropChanged:m}=f[0],y=e.current[p],S=y.stateSelector(d,t.current.instanceId);y.propOnChange&&m&&y.propOnChange(S,{reason:u,api:t.current}),h||t.current.publishEvent(y.changeEvent,S,{reason:u})}return!h},[t]),s=b.useCallback((c,u,d)=>t.current.setState(h=>ee({},h,{[c]:u(h[c])}),d),[t]),o=b.useCallback(()=>n(()=>t.current.state),[t]),a={setState:i,forceUpdate:o},l={updateControlState:s,registerControlState:r};Gn(t,a,"public"),Gn(t,l,"private")},PWe=(t,e)=>{const n=wWe(t,e);return dWe(n),hWe(n),gWe(n,e),TWe(n),CWe(n),kWe(n),xWe(n,e),n.current.register("private",{rootProps:e}),n},js=(t,e,n)=>{const r=b.useRef(!1);r.current||(e.current.state=t(e.current.state,n,e),r.current=!0)};function B5(t,e){if(t==null)return"";const n=typeof t=="string"?t:`${t}`;if(e.shouldAppendQuotes||e.escapeFormulas){const r=n.replace(/"/g,'""');return e.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[e.delimiter,`
`,"\r",'"'].some(i=>n.includes(i))?`"${r}"`:r}return n}const EK=(t,e)=>{var s,o;const{csvOptions:n,ignoreValueFormatter:r}=e;let i;if(r){const a=t.colDef.type;a==="number"?i=String(t.value):a==="date"||a==="dateTime"?i=(s=t.value)==null?void 0:s.toISOString():typeof((o=t.value)==null?void 0:o.toString)=="function"?i=t.value.toString():i=t.value}else i=t.formattedValue;return B5(i,n)};class N5{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}const _We=({id:t,columns:e,getCellParams:n,csvOptions:r,ignoreValueFormatter:i})=>{const s=new N5({csvOptions:r});return e.forEach(o=>{const a=n(t,o.field);s.addValue(EK(a,{ignoreValueFormatter:i,csvOptions:r}))}),s.getRowString()};function MWe(t){const{columns:e,rowIds:n,csvOptions:r,ignoreValueFormatter:i,apiRef:s}=t,o=n.reduce((d,h)=>`${d}${_We({id:h,columns:e,getCellParams:s.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return o;const a=e.filter(d=>d.field!==Ym.field),l=[];if(r.includeColumnGroupsHeaders){const d=s.current.getAllGroupDetails();let h=0;const f=a.reduce((p,m)=>{const y=s.current.getColumnGroupPath(m.field);return p[m.field]=y,h=Math.max(h,y.length),p},{});for(let p=0;p<h;p+=1){const m=new N5({csvOptions:r,sanitizeCellValue:B5});l.push(m),a.forEach(y=>{const S=(f[y.field]||[])[p],w=d[S];m.addValue(w?w.headerName||w.groupId:"")})}}const c=new N5({csvOptions:r,sanitizeCellValue:B5});return a.forEach(d=>{c.addValue(d.headerName||d.field)}),l.push(c),`${`${l.map(d=>d.getRowString()).join(`\r
`)}\r
`}${o}`.trim()}function y$(t){const e=document.createElement("span");e.style.whiteSpace="pre",e.style.userSelect="all",e.style.opacity="0px",e.textContent=t,document.body.appendChild(e);const n=document.createRange();n.selectNode(e);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(e)}}function EWe(t){navigator.clipboard?navigator.clipboard.writeText(t).catch(()=>{y$(t)}):y$(t)}function BWe(t){var e;return!!((e=window.getSelection())!=null&&e.toString()||t&&(t.selectionEnd||0)-(t.selectionStart||0)>0)}const NWe=(t,e)=>{const n=e.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,i=e.clipboardCopyCellDelimiter,s=b.useCallback(o=>{if(!EVe(o)||BWe(o.target))return;let a="";if(t.current.getSelectedRows().size>0)a=t.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const c=Oa(t);if(c){const u=t.current.getCellParams(c.id,c.field);a=EK(u,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=t.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(EWe(a),t.current.publishEvent("clipboardCopy",a))},[t,r,i]);qq(t,t.current.rootElementRef,"keydown",s),Qr(t,"clipboardCopy",e.onClipboardCopy)},IWe=t=>ee({},t,{columnMenu:{open:!1}}),AWe=t=>{const e=zs(t,"useGridColumnMenu"),n=b.useCallback(o=>{const a=OS(t.current.state),l={open:!0,field:o};(l.open!==a.open||l.field!==a.field)&&(t.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===o?u:(e.debug("Opening Column Menu"),ee({},u,{columnMenu:{open:!0,field:o}}))),t.current.hidePreferences(),t.current.forceUpdate())},[t,e]),r=b.useCallback(()=>{const o=OS(t.current.state);if(o.field){const c=Vd(t),u=Fl(t),d=md(t);let h=o.field;if(c[h]||(h=d[0]),u[h]===!1){const f=d.filter(m=>m===h?!0:u[m]!==!1),p=f.indexOf(h);h=f[p+1]||f[p-1]}t.current.setColumnHeaderFocus(h)}const a={open:!1,field:void 0};(a.open!==o.open||a.field!==o.field)&&(t.current.setState(c=>(e.debug("Hiding Column Menu"),ee({},c,{columnMenu:a}))),t.current.forceUpdate())},[t,e]),i=b.useCallback(o=>{e.debug("Toggle Column Menu");const a=OS(t.current.state);!a.open||a.field!==o?n(o):r()},[t,e,n,r]);Gn(t,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:i},"public"),Ot(t,"columnResizeStart",r),Ot(t,"virtualScrollerWheel",t.current.hideColumnMenu),Ot(t,"virtualScrollerTouchMove",t.current.hideColumnMenu)},RWe=(t,e,n)=>{var i,s,o;const r=q0({apiRef:n,columnsToUpsert:e.columns,initialState:(i=e.initialState)==null?void 0:i.columns,columnVisibilityModel:e.columnVisibilityModel??((o=(s=e.initialState)==null?void 0:s.columns)==null?void 0:o.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return ee({},t,{columns:r,pinnedColumns:t.pinnedColumns??T5})};function LWe(t,e){var R,F;const n=zs(t,"useGridColumns"),r=b.useRef(e.columns);t.current.registerControlState({stateId:"visibleColumns",propModel:e.columnVisibilityModel,propOnChange:e.onColumnVisibilityModelChange,stateSelector:Fl,changeEvent:"columnVisibilityModelChange"});const i=b.useCallback(B=>{var D,A;n.debug("Updating columns state."),t.current.setState(b$(B)),t.current.publishEvent("columnsChange",B.orderedFields),(A=(D=t.current).updateRenderContext)==null||A.call(D),t.current.forceUpdate()},[n,t]),s=b.useCallback(B=>Vd(t)[B],[t]),o=b.useCallback(()=>Fc(t),[t]),a=b.useCallback(()=>Ps(t),[t]),l=b.useCallback((B,D=!0)=>(D?Ps(t):Fc(t)).findIndex(N=>N.field===B),[t]),c=b.useCallback(B=>{const D=l(B);return hf(t)[D]},[t,l]),u=b.useCallback(B=>{var A,N;Fl(t)!==B&&(t.current.setState(L=>ee({},L,{columns:q0({apiRef:t,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:B,keepOnlyColumnsToUpsert:!1})})),(N=(A=t.current).updateRenderContext)==null||N.call(A),t.current.forceUpdate())},[t]),d=b.useCallback(B=>{const D=q0({apiRef:t,columnsToUpsert:B,initialState:void 0,keepOnlyColumnsToUpsert:!1});i(D)},[t,i]),h=b.useCallback((B,D)=>{const A=Fl(t),N=A[B]??!0;if(D!==N){const L=ee({},A,{[B]:D});t.current.setColumnVisibilityModel(L)}},[t]),f=b.useCallback(B=>md(t).findIndex(A=>A===B),[t]),p=b.useCallback((B,D)=>{const A=md(t),N=f(B);if(N===D)return;n.debug(`Moving column ${B} to index ${D}`);const L=[...A],H=L.splice(N,1)[0];L.splice(D,0,H),i(ee({},Cu(t.current.state),{orderedFields:L}));const O={column:t.current.getColumn(B),targetIndex:t.current.getColumnIndexRelativeToVisibleColumns(B),oldIndex:N};t.current.publishEvent("columnIndexChange",O)},[t,n,i,f]),m=b.useCallback((B,D)=>{n.debug(`Updating column ${B} width to ${D}`);const A=Cu(t.current.state),N=A.lookup[B],L=ee({},N,{width:D,hasBeenResized:!0});i(_5(ee({},A,{lookup:ee({},A.lookup,{[B]:L})}),t.current.getRootDimensions())),t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(B),colDef:L,width:D})},[t,n,i]),y={getColumn:s,getAllColumns:o,getColumnIndex:l,getColumnPosition:c,getVisibleColumns:a,getColumnIndexRelativeToVisibleColumns:f,updateColumns:d,setColumnVisibilityModel:u,setColumnVisibility:h,setColumnWidth:m},S={setColumnIndex:p};Gn(t,y,"public"),Gn(t,S,e.signature===Hl.DataGrid?"private":"public");const w=b.useCallback((B,D)=>{var G,j;const A={},N=Fl(t);(!D.exportOnlyDirtyModels||e.columnVisibilityModel!=null||Object.keys(((j=(G=e.initialState)==null?void 0:G.columns)==null?void 0:j.columnVisibilityModel)??{}).length>0||Object.keys(N).length>0)&&(A.columnVisibilityModel=N),A.orderedFields=md(t);const H=Fc(t),O={};return H.forEach(J=>{if(J.hasBeenResized){const Z={};oK.forEach(ae=>{let z=J[ae];z===1/0&&(z=-1),Z[ae]=z}),O[J.field]=Z}}),Object.keys(O).length>0&&(A.dimensions=O),ee({},B,{columns:A})},[t,e.columnVisibilityModel,(R=e.initialState)==null?void 0:R.columns]),v=b.useCallback((B,D)=>{var H;const A=(H=D.stateToRestore.columns)==null?void 0:H.columnVisibilityModel,N=D.stateToRestore.columns;if(A==null&&N==null)return B;const L=q0({apiRef:t,columnsToUpsert:[],initialState:N,columnVisibilityModel:A,keepOnlyColumnsToUpsert:!1});return t.current.setState(b$(L)),N!=null&&t.current.publishEvent("columnsChange",L.orderedFields),B},[t]),k=b.useCallback((B,D)=>{var A;if(D===Dp.columns){const N=e.slots.columnsPanel;return C.jsx(N,ee({},(A=e.slotProps)==null?void 0:A.columnsPanel))}return B},[e.slots.columnsPanel,(F=e.slotProps)==null?void 0:F.columnsPanel]),P=b.useCallback(B=>e.disableColumnSelector?B:[...B,"columnMenuColumnsItem"],[e.disableColumnSelector]);bi(t,"columnMenu",P),bi(t,"exportState",w),bi(t,"restoreState",v),bi(t,"preferencePanel",k);const T=b.useRef(null);Ot(t,"viewportInnerSizeChange",B=>{T.current!==B.width&&(T.current=B.width,i(_5(Cu(t.current.state),t.current.getRootDimensions())))});const E=b.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const B=q0({apiRef:t,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});i(B)},[t,n,i]);G4(t,"hydrateColumns",E);const I=b.useRef(!0);b.useEffect(()=>{if(I.current){I.current=!1;return}if(n.info(`GridColumns have changed, new length ${e.columns.length}`),r.current===e.columns)return;const B=q0({apiRef:t,initialState:void 0,columnsToUpsert:e.columns,keepOnlyColumnsToUpsert:!0});r.current=e.columns,i(B)},[n,t,i,e.columns]),b.useEffect(()=>{e.columnVisibilityModel!==void 0&&t.current.setColumnVisibilityModel(e.columnVisibilityModel)},[t,n,e.columnVisibilityModel])}function b$(t){return e=>ee({},e,{columns:t})}const DWe=(t,e)=>{var n;return ee({},t,{density:((n=e.initialState)==null?void 0:n.density)??e.density??"standard"})},FWe=(t,e)=>{var a;const n=zs(t,"useDensity");t.current.registerControlState({stateId:"density",propModel:e.density,propOnChange:e.onDensityChange,stateSelector:wg,changeEvent:"densityChange"});const i={setDensity:ui(l=>{wg(t.current.state)!==l&&(n.debug(`Set grid density to ${l}`),t.current.setState(u=>ee({},u,{density:l})))})};Gn(t,i,"public");const s=b.useCallback((l,c)=>{var h;const u=wg(t.current.state);return!c.exportOnlyDirtyModels||e.density!=null||((h=e.initialState)==null?void 0:h.density)!=null?ee({},l,{density:u}):l},[t,e.density,(a=e.initialState)==null?void 0:a.density]),o=b.useCallback((l,c)=>{var d;const u=(d=c.stateToRestore)!=null&&d.density?c.stateToRestore.density:wg(t.current.state);return t.current.setState(h=>ee({},h,{density:u})),l},[t]);bi(t,"exportState",s),bi(t,"restoreState",o),b.useEffect(()=>{e.density&&t.current.setDensity(e.density)},[t,e.density])};function OWe(t,e="csv",n=document.title||"untitled"){const r=`${n}.${e}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=r,s.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI X: exportAs not supported.")}const BK=({apiRef:t,options:e})=>{const n=Fc(t);return e.fields?e.fields.reduce((i,s)=>{const o=n.find(a=>a.field===s);return o&&i.push(o),i},[]):(e.allColumns?n:Ps(t)).filter(i=>!i.disableExport)},NK=({apiRef:t})=>{var l,c;const e=Uq(t),n=_o(t),r=t.current.getSelectedRows(),i=e.filter(u=>n[u].type!=="footer"),s=Zp(t),o=((l=s==null?void 0:s.top)==null?void 0:l.map(u=>u.id))||[],a=((c=s==null?void 0:s.bottom)==null?void 0:c.map(u=>u.id))||[];return i.unshift(...o),i.push(...a),r.size>0?i.filter(u=>r.has(u)):i},$We=(t,e)=>{const n=zs(t,"useGridCsvExport"),r=e.ignoreValueFormatterDuringExport,i=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,s=b.useCallback((c={})=>{n.debug("Get data as CSV");const u=BK({apiRef:t,options:c}),h=(c.getRowsToExport??NK)({apiRef:t});return MWe({columns:u,rowIds:h,csvOptions:{delimiter:c.delimiter||",",shouldAppendQuotes:c.shouldAppendQuotes??!0,includeHeaders:c.includeHeaders??!0,includeColumnGroupsHeaders:c.includeColumnGroupsHeaders??!0,escapeFormulas:c.escapeFormulas??!0},ignoreValueFormatter:i,apiRef:t})},[n,t,i]),o=b.useCallback(c=>{n.debug("Export data as CSV");const u=s(c),d=new Blob([c!=null&&c.utf8WithBom?new Uint8Array([239,187,191]):"",u],{type:"text/csv"});OWe(d,"csv",c==null?void 0:c.fileName)},[n,s]);Gn(t,{getDataAsCsv:s,exportDataAsCsv:o},"public");const l=b.useCallback((c,u)=>{var d;return(d=u.csvOptions)!=null&&d.disableToolbarButton?c:[...c,{component:C.jsx(Ize,{options:u.csvOptions}),componentName:"csvExport"}]},[]);bi(t,"exportMenu",l)},HS=(t,e,n)=>{let r=t.paginationModel;const i=t.rowCount,s=(n==null?void 0:n.pageSize)??r.pageSize,o=(n==null?void 0:n.page)??r.page,a=Kq(i,s,o);n&&((n==null?void 0:n.page)!==r.page||(n==null?void 0:n.pageSize)!==r.pageSize)&&(r=n);const l=U9e(r.page,a);return l!==r.page&&(r=ee({},r,{page:l})),Jq(r.pageSize,e),r},HWe=(t,e)=>{var p,m;const n=zs(t,"useGridPaginationModel"),r=ut(t,Zv),i=Math.floor(e.rowHeight*r);t.current.registerControlState({stateId:"paginationModel",propModel:e.paginationModel,propOnChange:e.onPaginationModelChange,stateSelector:Go,changeEvent:"paginationModelChange"});const s=b.useCallback(y=>{const S=Go(t);y!==S.page&&(n.debug(`Setting page to ${y}`),t.current.setPaginationModel({page:y,pageSize:S.pageSize}))},[t,n]),o=b.useCallback(y=>{const S=Go(t);y!==S.pageSize&&(n.debug(`Setting page size to ${y}`),t.current.setPaginationModel({pageSize:y,page:S.page}))},[t,n]),a=b.useCallback(y=>{const S=Go(t);y!==S&&(n.debug("Setting 'paginationModel' to",y),t.current.setState(w=>ee({},w,{pagination:ee({},w.pagination,{paginationModel:HS(w.pagination,e.signature,y)})})))},[t,n,e.signature]);Gn(t,{setPage:s,setPageSize:o,setPaginationModel:a},"public");const c=b.useCallback((y,S)=>{var k,P;const w=Go(t);return!S.exportOnlyDirtyModels||e.paginationModel!=null||((P=(k=e.initialState)==null?void 0:k.pagination)==null?void 0:P.paginationModel)!=null||w.page!==0&&w.pageSize!==G9e(e.autoPageSize)?ee({},y,{pagination:ee({},y.pagination,{paginationModel:w})}):y},[t,e.paginationModel,(m=(p=e.initialState)==null?void 0:p.pagination)==null?void 0:m.paginationModel,e.autoPageSize]),u=b.useCallback((y,S)=>{var v,k;const w=(v=S.stateToRestore.pagination)!=null&&v.paginationModel?ee({},Qq(e.autoPageSize),(k=S.stateToRestore.pagination)==null?void 0:k.paginationModel):Go(t);return t.current.setState(P=>ee({},P,{pagination:ee({},P.pagination,{paginationModel:HS(P.pagination,e.signature,w)})})),y},[t,e.autoPageSize,e.signature]);bi(t,"exportState",c),bi(t,"restoreState",u);const d=()=>{var S;const y=Go(t);(S=t.current.virtualScrollerRef)!=null&&S.current&&t.current.scrollToIndexes({rowIndex:y.page*y.pageSize})},h=b.useCallback(()=>{if(!e.autoPageSize)return;const y=t.current.getRootDimensions(),S=Math.floor(y.viewportInnerSize.height/i);t.current.setPageSize(S)},[t,e.autoPageSize,i]),f=b.useCallback(y=>{if(y==null)return;const S=Go(t),w=Zq(t);S.page>w-1&&t.current.setPage(Math.max(0,w-1))},[t]);Ot(t,"viewportInnerSizeChange",h),Ot(t,"paginationModelChange",d),Ot(t,"rowCountChange",f),b.useEffect(()=>{t.current.setState(y=>ee({},y,{pagination:ee({},y.pagination,{paginationModel:HS(y.pagination,e.signature,e.paginationModel)})}))},[t,e.paginationModel,e.paginationMode,e.signature]),b.useEffect(h,[h])};function VWe(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}function zWe(t){const e=document.createElement("iframe");return e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.title=t||document.title,e}const WWe=(t,e)=>{const n=t.current.rootElementRef.current!==null,r=zs(t,"useGridPrintExport"),i=b.useRef(null),s=b.useRef(null),o=b.useRef({}),a=b.useRef([]),l=b.useRef();b.useEffect(()=>{i.current=zh(t.current.rootElementRef.current)},[t,n]);const c=b.useCallback((y,S,w)=>new Promise(v=>{const k=BK({apiRef:t,options:{fields:y,allColumns:S}}).map(_=>_.field),P=Fc(t),T={};P.forEach(_=>{T[_.field]=k.includes(_.field)}),w&&(T[Ym.field]=!0),t.current.setColumnVisibilityModel(T),v()}),[t]),u=b.useCallback(y=>{const w=y({apiRef:t}).reduce((v,k)=>{const P=t.current.getRow(k);return P[Fg]||v.push(P),v},[]);t.current.setRows(w)},[t]),d=b.useCallback((y,S)=>{var A,N,L,H;const w=ee({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),v=y.contentDocument;if(!v)return;const k=Xm(t.current.state),P=t.current.rootElementRef.current,T=P.cloneNode(!0),_=T.querySelector(`.${fe.main}`);_.style.overflow="visible",T.style.contain="size";let E=((A=P.querySelector(`.${fe.toolbarContainer}`))==null?void 0:A.offsetHeight)||0,I=((N=P.querySelector(`.${fe.footerContainer}`))==null?void 0:N.offsetHeight)||0;w.hideToolbar&&((L=T.querySelector(`.${fe.toolbarContainer}`))==null||L.remove(),E=0),w.hideFooter&&((H=T.querySelector(`.${fe.footerContainer}`))==null||H.remove(),I=0);const R=k.currentPageTotalHeight+D4(t,e)+E+I;if(T.style.height=`${R}px`,T.style.boxSizing="content-box",!w.hideFooter){const O=T.querySelector(`.${fe.footerContainer}`);O.style.position="absolute",O.style.width="100%",O.style.top=`${R-I}px`}const F=document.createElement("div");F.appendChild(T),v.body.style.marginTop="0px",v.body.innerHTML=F.innerHTML;const B=typeof w.pageStyle=="function"?w.pageStyle():w.pageStyle;if(typeof B=="string"){const O=v.createElement("style");O.appendChild(v.createTextNode(B)),v.head.appendChild(O)}w.bodyClassName&&v.body.classList.add(...w.bodyClassName.split(" "));const D=[];if(w.copyStyles){const O=P.getRootNode(),j=(O.constructor.name==="ShadowRoot"?O:i.current).querySelectorAll("style, link[rel='stylesheet']");for(let J=0;J<j.length;J+=1){const Z=j[J];if(Z.tagName==="STYLE"){const ae=v.createElement(Z.tagName),z=Z.sheet;if(z){let $="";for(let W=0;W<z.cssRules.length;W+=1)typeof z.cssRules[W].cssText=="string"&&($+=`${z.cssRules[W].cssText}\r
`);ae.appendChild(v.createTextNode($)),v.head.appendChild(ae)}}else if(Z.getAttribute("href")){const ae=v.createElement(Z.tagName);for(let z=0;z<Z.attributes.length;z+=1){const $=Z.attributes[z];$&&ae.setAttribute($.nodeName,$.nodeValue||"")}D.push(new Promise(z=>{ae.addEventListener("load",()=>z())})),v.head.appendChild(ae)}}}Promise.all(D).then(()=>{y.contentWindow.print()})},[t,i,e]),h=b.useCallback(y=>{var S,w;i.current.body.removeChild(y),t.current.restoreState(s.current||{}),(w=(S=s.current)==null?void 0:S.columns)!=null&&w.columnVisibilityModel||t.current.setColumnVisibilityModel(o.current),t.current.setState(v=>ee({},v,{virtualization:l.current})),t.current.setRows(a.current),s.current=null,o.current={},a.current=[]},[t]),p={exportDataAsPrint:b.useCallback(async y=>{if(r.debug("Export data as Print"),!t.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(s.current=t.current.exportState(),o.current=Fl(t),a.current=t.current.getSortedRows().filter(w=>!w[Fg]),e.pagination){const v={page:0,pageSize:B4(t)};t.current.setState(k=>ee({},k,{pagination:ee({},k.pagination,{paginationModel:HS(k.pagination,"DataGridPro",v)})}))}l.current=t.current.state.virtualization,t.current.setState(w=>ee({},w,{virtualization:ee({},w.virtualization,{enabled:!1,enabledForColumns:!1})})),await c(y==null?void 0:y.fields,y==null?void 0:y.allColumns,y==null?void 0:y.includeCheckboxes),u((y==null?void 0:y.getRowsToExport)??NK),await VWe();const S=zWe(y==null?void 0:y.fileName);S.onload=()=>{d(S,y),S.contentWindow.matchMedia("print").addEventListener("change",v=>{v.matches===!1&&h(S)})},i.current.body.appendChild(S)},[e,r,t,d,h,c,u])};Gn(t,p,"public");const m=b.useCallback((y,S)=>{var w;return(w=S.printOptions)!=null&&w.disableToolbarButton?y:[...y,{component:C.jsx(Aze,{options:S.printOptions}),componentName:"printExport"}]},[]);bi(t,"exportMenu",m)},GWe=(t,e,n)=>{var i,s;const r=e.filterModel??((s=(i=e.initialState)==null?void 0:i.filter)==null?void 0:s.filterModel)??av();return ee({},t,{filter:{filterModel:P4(r,e.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},UWe=t=>t.filteredRowsLookup;function v$(t,e){return t.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:e.rows.tree,filteredRowsLookup:e.filter.filteredRowsLookup})}function jWe(){return Cq(Object.values)}const YWe=(t,e)=>{var I,R,F;const n=zs(t,"useGridFilter");t.current.registerControlState({stateId:"filter",propModel:e.filterModel,propOnChange:e.onFilterModelChange,stateSelector:lo,changeEvent:"filterModelChange"});const r=b.useCallback(()=>{t.current.setState(B=>{const D=lo(B,t.current.instanceId),A=t.current.getFilterState(D),N=ee({},B,{filter:ee({},B.filter,A)}),L=v$(t,N);return ee({},N,{visibleRowsLookup:L})}),t.current.publishEvent("filteredRowsSet")},[t]),i=b.useCallback((B,D)=>D==null||D.filterable===!1||e.disableColumnFilter?B:[...B,"columnMenuFilterItem"],[e.disableColumnFilter]),s=b.useCallback(()=>{r(),t.current.forceUpdate()},[t,r]),o=b.useCallback(B=>{const D=lo(t),A=[...D.items],N=A.findIndex(L=>L.id===B.id);N===-1?A.push(B):A[N]=B,t.current.setFilterModel(ee({},D,{items:A}),"upsertFilterItem")},[t]),a=b.useCallback(B=>{const D=lo(t),A=[...D.items];B.forEach(N=>{const L=A.findIndex(H=>H.id===N.id);L===-1?A.push(N):A[L]=N}),t.current.setFilterModel(ee({},D,{items:A}),"upsertFilterItems")},[t]),l=b.useCallback(B=>{const D=lo(t),A=D.items.filter(N=>N.id!==B.id);A.length!==D.items.length&&t.current.setFilterModel(ee({},D,{items:A}),"deleteFilterItem")},[t]),c=b.useCallback((B,D,A)=>{if(n.debug("Displaying filter panel"),B){const N=lo(t),L=N.items.filter(j=>{var z;if(j.value!==void 0)return!(Array.isArray(j.value)&&j.value.length===0);const Z=(z=t.current.getColumn(j.field).filterOperators)==null?void 0:z.find($=>$.value===j.operator);return!(typeof(Z==null?void 0:Z.requiresFilterValue)>"u"?!0:Z==null?void 0:Z.requiresFilterValue)});let H;const O=L.find(j=>j.field===B),G=t.current.getColumn(B);O?H=L:e.disableMultipleColumnsFiltering?H=[P5({field:B,operator:G.filterOperators[0].value},t)]:H=[...L,P5({field:B,operator:G.filterOperators[0].value},t)],t.current.setFilterModel(ee({},N,{items:H}))}t.current.showPreferences(Dp.filters,D,A)},[t,n,e.disableMultipleColumnsFiltering]),u=b.useCallback(()=>{n.debug("Hiding filter panel"),t.current.hidePreferences()},[t,n]),d=b.useCallback(B=>{const D=lo(t);D.logicOperator!==B&&t.current.setFilterModel(ee({},D,{logicOperator:B}),"changeLogicOperator")},[t]),h=b.useCallback(B=>{const D=lo(t);Dg(D.quickFilterValues,B)||t.current.setFilterModel(ee({},D,{quickFilterValues:[...B]}))},[t]),f=b.useCallback((B,D)=>{lo(t)!==B&&(n.debug("Setting filter model"),t.current.updateControlState("filter",N7(B,e.disableMultipleColumnsFiltering,t),D),t.current.unstable_applyFilters())},[t,n,e.disableMultipleColumnsFiltering]),p=b.useCallback(B=>{const D=P4(B,e.disableMultipleColumnsFiltering,t),A=e.filterMode==="client"?H8e(D,t,e.disableEval):null,N=t.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:A,filterModel:D??av()});return ee({},N,{filterModel:D})},[e.disableMultipleColumnsFiltering,e.filterMode,e.disableEval,t]),m={setFilterLogicOperator:d,unstable_applyFilters:s,deleteFilterItem:l,upsertFilterItem:o,upsertFilterItems:a,setFilterModel:f,showFilterPanel:c,hideFilterPanel:u,setQuickFilterValues:h,ignoreDiacritics:e.ignoreDiacritics,getFilterState:p};Gn(t,m,"public");const y=b.useCallback((B,D)=>{var L,H;const A=lo(t);return!D.exportOnlyDirtyModels||e.filterModel!=null||((H=(L=e.initialState)==null?void 0:L.filter)==null?void 0:H.filterModel)!=null||!Dg(A,av())?ee({},B,{filter:{filterModel:A}}):B},[t,e.filterModel,(R=(I=e.initialState)==null?void 0:I.filter)==null?void 0:R.filterModel]),S=b.useCallback((B,D)=>{var N;const A=(N=D.stateToRestore.filter)==null?void 0:N.filterModel;return A==null?B:(t.current.updateControlState("filter",N7(A,e.disableMultipleColumnsFiltering,t),"restoreState"),ee({},B,{callbacks:[...B.callbacks,t.current.unstable_applyFilters]}))},[t,e.disableMultipleColumnsFiltering]),w=b.useCallback((B,D)=>{var A;if(D===Dp.filters){const N=e.slots.filterPanel;return C.jsx(N,ee({},(A=e.slotProps)==null?void 0:A.filterPanel))}return B},[e.slots.filterPanel,(F=e.slotProps)==null?void 0:F.filterPanel]),{getRowId:v}=e,k=Iu(jWe),P=b.useCallback(B=>{if(e.filterMode!=="client"||!B.isRowMatchingFilters)return{filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}};const D=Eh(t),A={},{isRowMatchingFilters:N}=B,L={},H={passingFilterItems:null,passingQuickFilterValues:null},O=k.current(t.current.state.rows.dataRowIdToModelLookup);for(let J=0;J<O.length;J+=1){const Z=O[J],ae=v?v(Z):Z.id;N(Z,void 0,H);const z=z8e([H.passingFilterItems],[H.passingQuickFilterValues],B.filterModel,t,L);A[ae]=z}const G="auto-generated-group-footer-root";return D[G]&&(A[G]=!0),{filteredRowsLookup:A,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[t,e.filterMode,v,k]);bi(t,"columnMenu",i),bi(t,"exportState",y),bi(t,"restoreState",S),bi(t,"preferencePanel",w),wC(t,Fp,"filtering",P),wC(t,Fp,"visibleRowsLookupCreation",UWe);const T=b.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const B=lo(t),D=Vd(t),A=B.items.filter(N=>N.field&&D[N.field]);A.length<B.items.length&&t.current.setFilterModel(ee({},B,{items:A}))},[t,n]),_=b.useCallback(B=>{B==="filtering"&&t.current.unstable_applyFilters()},[t]),E=b.useCallback(()=>{t.current.setState(B=>ee({},B,{visibleRowsLookup:v$(t,B)})),t.current.forceUpdate()},[t]);Ot(t,"rowsSet",r),Ot(t,"columnsChange",T),Ot(t,"activeStrategyProcessorChange",_),Ot(t,"rowExpansionChange",E),Ot(t,"columnVisibilityModelChange",()=>{const B=lo(t);B.quickFilterValues&&Dq(B)&&t.current.unstable_applyFilters()}),nw(()=>{t.current.unstable_applyFilters()}),Os(()=>{e.filterModel!==void 0&&t.current.setFilterModel(e.filterModel)},[t,n,e.filterModel])},XWe=t=>ee({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),qWe=(t,e)=>{const n=zs(t,"useGridFocus"),r=b.useRef(null),i=t.current.rootElementRef.current!==null,s=b.useCallback((E,I)=>{E&&t.current.getRow(E.id)&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(E.id,E.field),I)},[t]),o=b.useCallback((E,I)=>{const R=Oa(t);(R==null?void 0:R.id)===E&&(R==null?void 0:R.field)===I||(t.current.setState(F=>(n.debug(`Focusing on cell with id=${E} and field=${I}`),ee({},F,{tabIndex:{cell:{id:E,field:I},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:E,field:I},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),t.current.forceUpdate(),t.current.getRow(E)&&(R&&s(R,{}),t.current.publishEvent("cellFocusIn",t.current.getCellParams(E,I))))},[t,n,s]),a=b.useCallback((E,I={})=>{const R=Oa(t);s(R,I),t.current.setState(F=>(n.debug(`Focusing on column header with colIndex=${E}`),ee({},F,{tabIndex:{columnHeader:{field:E},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:E},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,n,s]),l=b.useCallback((E,I={})=>{const R=Oa(t);s(R,I),t.current.setState(F=>(n.debug(`Focusing on column header filter with colIndex=${E}`),ee({},F,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:E},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:E},cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,n,s]),c=b.useCallback((E,I,R={})=>{const F=Oa(t);F&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(F.id,F.field),R),t.current.setState(B=>ee({},B,{tabIndex:{columnGroupHeader:{field:E,depth:I},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:E,depth:I},columnHeader:null,columnHeaderFilter:null,cell:null}})),t.current.forceUpdate()},[t]),u=b.useCallback(()=>mC(t),[t]),d=b.useCallback((E,I,R)=>{let F=t.current.getColumnIndex(I);const B=Ps(t),D=$g(t,{pagination:e.pagination,paginationMode:e.paginationMode}),A=Zp(t),N=[].concat(A.top||[],D.rows,A.bottom||[]);let L=N.findIndex(j=>j.id===E);R==="right"?F+=1:R==="left"?F-=1:L+=1,F>=B.length?(L+=1,L<N.length&&(F=0)):F<0&&(L-=1,L>=0&&(F=B.length-1)),L=ku(L,0,N.length-1);const H=N[L];if(!H)return;const O=t.current.unstable_getCellColSpanInfo(H.id,F);O&&O.spannedByColSpan&&(R==="left"||R==="below"?F=O.leftVisibleCellIndex:R==="right"&&(F=O.rightVisibleCellIndex)),F=ku(F,0,B.length-1);const G=B[F];t.current.setCellFocus(H.id,G.field)},[t,e.pagination,e.paginationMode]),h=b.useCallback(({id:E,field:I})=>{t.current.setCellFocus(E,I)},[t]),f=b.useCallback((E,I)=>{I.key==="Enter"||I.key==="Tab"||I.key==="Shift"||vC(I.key)||t.current.setCellFocus(E.id,E.field)},[t]),p=b.useCallback(({field:E},I)=>{I.target===I.currentTarget&&t.current.setColumnHeaderFocus(E,I)},[t]),m=b.useCallback(({fields:E,depth:I},R)=>{if(R.target!==R.currentTarget)return;const F=mC(t);F!==null&&F.depth===I&&E.includes(F.field)||t.current.setColumnGroupHeaderFocus(E[0],I,R)},[t]),y=b.useCallback((E,I)=>{var R,F;(F=(R=I.relatedTarget)==null?void 0:R.getAttribute("class"))!=null&&F.includes(fe.columnHeader)||(n.debug("Clearing focus"),t.current.setState(B=>ee({},B,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,t]),S=b.useCallback(E=>{r.current=E},[]),w=b.useCallback(E=>{const I=r.current;r.current=null;const R=Oa(t);if(!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:E,cell:I}))return;if(!R){I&&t.current.setCellFocus(I.id,I.field);return}if((I==null?void 0:I.id)===R.id&&(I==null?void 0:I.field)===R.field)return;const B=t.current.getCellElement(R.id,R.field);B!=null&&B.contains(E.target)||(I?t.current.setCellFocus(I.id,I.field):(t.current.setState(D=>ee({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),t.current.forceUpdate(),s(R,E)))},[t,s]),v=b.useCallback(E=>{if(E.cellMode==="view")return;const I=Oa(t);((I==null?void 0:I.id)!==E.id||(I==null?void 0:I.field)!==E.field)&&t.current.setCellFocus(E.id,E.field)},[t]),k=b.useCallback(()=>{var I;const E=Oa(t);if(E&&!t.current.getRow(E.id)){const R=(I=Oa(t))==null?void 0:I.id;let F=null;if(typeof R<"u"){const B=t.current.getRowIndexRelativeToVisibleRows(R),D=$g(t,{pagination:e.pagination,paginationMode:e.paginationMode}),A=D.rows[ku(B,0,D.rows.length-1)];F=(A==null?void 0:A.id)??null}t.current.setState(B=>ee({},B,{focus:{cell:F===null?null:{id:F,field:E.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[t,e.pagination,e.paginationMode]),P=ui(()=>{const E=Oa(t);if(!E)return;const I=$g(t,{pagination:e.pagination,paginationMode:e.paginationMode});if(I.rows.find(B=>B.id===E.id))return;const F=Ps(t);t.current.setState(B=>ee({},B,{tabIndex:{cell:{id:I.rows[0].id,field:F[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),T={setCellFocus:o,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:l},_={moveFocusToRelativeCell:d,setColumnGroupHeaderFocus:c,getColumnGroupHeaderFocus:u};Gn(t,T,"public"),Gn(t,_,"private"),b.useEffect(()=>{const E=zh(t.current.rootElementRef.current);return E.addEventListener("mouseup",w),()=>{E.removeEventListener("mouseup",w)}},[t,i,w]),Ot(t,"columnHeaderBlur",y),Ot(t,"cellDoubleClick",h),Ot(t,"cellMouseDown",S),Ot(t,"cellKeyDown",f),Ot(t,"cellModeChange",v),Ot(t,"columnHeaderFocus",p),Ot(t,"columnGroupHeaderFocus",m),Ot(t,"rowsSet",k),Ot(t,"paginationModelChange",P)},KWe=t=>{const e=t.match(/^__row_group_by_columns_group_(.*)__$/);return e?e[1]:null},QWe=t=>t===Vq||KWe(t)!==null;function JWe(t,e){const n=Zp(t)||{};return[...n.top||[],...e,...n.bottom||[]]}const tM=({currentColIndex:t,firstColIndex:e,lastColIndex:n,isRtl:r})=>{if(r){if(t<n)return t+1}else if(!r&&t>e)return t-1;return null},nM=({currentColIndex:t,firstColIndex:e,lastColIndex:n,isRtl:r})=>{if(r){if(t>e)return t-1}else if(!r&&t<n)return t+1;return null};function ZWe(t,e,n,r){var a,l;const i=cK(t);if(!((a=i[e])!=null&&a[n]))return e;const s=Uq(t);let o=s.indexOf(e)+(r==="down"?1:-1);for(;o>=0&&o<s.length;){const c=s[o];if(!((l=i[c])!=null&&l[n]))return c;o+=r==="down"?1:-1}return e}const eGe=(t,e)=>{const n=zs(t,"useGridKeyboardNavigation"),r=pf(t,e).rows,i=Vr(),s=e.unstable_listView,o=b.useMemo(()=>JWe(t,r),[t,r]),a=e.signature!=="DataGrid"&&e.headerFilters,l=b.useCallback((w,v,k="left",P="up")=>{const T=ff(t),_=t.current.unstable_getCellColSpanInfo(v,w);_&&_.spannedByColSpan&&(k==="left"?w=_.leftVisibleCellIndex:k==="right"&&(w=_.rightVisibleCellIndex));const E=s?xm(t.current.state).field:Gm(t)[w],I=ZWe(t,v,E,P),R=T.findIndex(F=>F.id===I);n.debug(`Navigating to cell row ${R}, col ${w}`),t.current.scrollToIndexes({colIndex:w,rowIndex:R}),t.current.setCellFocus(I,E)},[t,n,s]),c=b.useCallback((w,v)=>{n.debug(`Navigating to header col ${w}`),t.current.scrollToIndexes({colIndex:w});const k=t.current.getVisibleColumns()[w].field;t.current.setColumnHeaderFocus(k,v)},[t,n]),u=b.useCallback((w,v)=>{n.debug(`Navigating to header filter col ${w}`),t.current.scrollToIndexes({colIndex:w});const k=t.current.getVisibleColumns()[w].field;t.current.setColumnHeaderFilterFocus(k,v)},[t,n]),d=b.useCallback((w,v,k)=>{n.debug(`Navigating to header col ${w}`),t.current.scrollToIndexes({colIndex:w});const{field:P}=t.current.getVisibleColumns()[w];t.current.setColumnGroupHeaderFocus(P,v,k)},[t,n]),h=b.useCallback(w=>{var v;return(v=o[w])==null?void 0:v.id},[o]),f=b.useCallback((w,v)=>{const k=v.currentTarget.querySelector(`.${fe.columnHeaderTitleContainerContent}`);if(!!k&&k.contains(v.target)&&w.field!==Ym.field)return;const T=t.current.getViewportPageSize(),_=w.field?t.current.getColumnIndex(w.field):0,E=o.length>0?0:null,I=o.length-1,R=0,F=Ps(t).length-1,B=rw(t);let D=!0;switch(v.key){case"ArrowDown":{E!==null&&(a?u(_,v):l(_,h(E)));break}case"ArrowRight":{const A=nM({currentColIndex:_,firstColIndex:R,lastColIndex:F,isRtl:i});A!==null&&c(A,v);break}case"ArrowLeft":{const A=tM({currentColIndex:_,firstColIndex:R,lastColIndex:F,isRtl:i});A!==null&&c(A,v);break}case"ArrowUp":{B>0&&d(_,B-1,v);break}case"PageDown":{E!==null&&I!==null&&l(_,h(Math.min(E+T,I)));break}case"Home":{c(R,v);break}case"End":{c(F,v);break}case"Enter":{(v.ctrlKey||v.metaKey)&&t.current.toggleColumnMenu(w.field);break}case" ":break;default:D=!1}D&&v.preventDefault()},[t,o.length,a,u,l,h,i,c,d]),p=b.useCallback((w,v)=>{const k=N7e(t)===w.field,P=I7e(t)===w.field;if(k||P||!vC(v.key))return;const T=t.current.getViewportPageSize(),_=w.field?t.current.getColumnIndex(w.field):0,E=0,I=o.length-1,R=0,F=Ps(t).length-1;let B=!0;switch(v.key){case"ArrowDown":{const D=h(E);D!=null&&l(_,D);break}case"ArrowRight":{const D=nM({currentColIndex:_,firstColIndex:R,lastColIndex:F,isRtl:i});D!==null&&u(D,v);break}case"ArrowLeft":{const D=tM({currentColIndex:_,firstColIndex:R,lastColIndex:F,isRtl:i});D!==null?u(D,v):t.current.setColumnHeaderFilterFocus(w.field,v);break}case"ArrowUp":{c(_,v);break}case"PageDown":{I!==null&&l(_,h(Math.min(E+T,I)));break}case"Home":{u(R,v);break}case"End":{u(F,v);break}case" ":break;default:B=!1}B&&v.preventDefault()},[t,o.length,u,i,c,l,h]),m=b.useCallback((w,v)=>{const k=mC(t);if(k===null)return;const{field:P,depth:T}=k,{fields:_,depth:E,maxDepth:I}=w,R=t.current.getViewportPageSize(),F=t.current.getColumnIndex(P),B=P?t.current.getColumnIndex(P):0,D=0,A=o.length-1,N=0,L=Ps(t).length-1;let H=!0;switch(v.key){case"ArrowDown":{E===I-1?c(F,v):d(F,T+1,v);break}case"ArrowUp":{E>0&&d(F,T-1,v);break}case"ArrowRight":{const O=_.length-_.indexOf(P)-1;F+O+1<=L&&d(F+O+1,T,v);break}case"ArrowLeft":{const O=_.indexOf(P);F-O-1>=N&&d(F-O-1,T,v);break}case"PageDown":{A!==null&&l(B,h(Math.min(D+R,A)));break}case"Home":{d(N,T,v);break}case"End":{d(L,T,v);break}case" ":break;default:H=!1}H&&v.preventDefault()},[t,o.length,c,d,l,h]),y=b.useCallback((w,v)=>{if(iw(v))return;const k=t.current.getCellParams(w.id,w.field);if(k.cellMode===Fr.Edit||!vC(v.key)||!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:v,cell:k})||o.length===0)return;const T=t.current.getViewportPageSize(),_=s?()=>0:t.current.getColumnIndex,E=w.field?_(w.field):0,I=o.findIndex(L=>L.id===w.id),R=0,F=o.length-1,B=0,A=(s?[xm(t.current.state)]:Ps(t)).length-1;let N=!0;switch(v.key){case"ArrowDown":{I<F&&l(E,h(I+1),i?"right":"left","down");break}case"ArrowUp":{I>R?l(E,h(I-1)):a?u(E,v):c(E,v);break}case"ArrowRight":{const L=nM({currentColIndex:E,firstColIndex:B,lastColIndex:A,isRtl:i});L!==null&&l(L,h(I),i?"left":"right");break}case"ArrowLeft":{const L=tM({currentColIndex:E,firstColIndex:B,lastColIndex:A,isRtl:i});L!==null&&l(L,h(I),i?"right":"left");break}case"Tab":{v.shiftKey&&E>B?l(E-1,h(I),"left"):!v.shiftKey&&E<A&&l(E+1,h(I),"right");break}case" ":{if(w.field===NT)break;const H=w.colDef;if(H&&(H.field===c9e||QWe(H.field)))break;!v.shiftKey&&I<F&&l(E,h(Math.min(I+T,F)));break}case"PageDown":{I<F&&l(E,h(Math.min(I+T,F)));break}case"PageUp":{const L=Math.max(I-T,R);L!==I&&L>=R?l(E,h(L)):c(E,v);break}case"Home":{v.ctrlKey||v.metaKey||v.shiftKey?l(B,h(R)):l(B,h(I));break}case"End":{v.ctrlKey||v.metaKey||v.shiftKey?l(A,h(F)):l(A,h(I));break}default:N=!1}N&&v.preventDefault()},[t,o,i,l,h,a,u,c,s]),S=b.useCallback((w,{event:v})=>v.key===" "?!1:w,[]);bi(t,"canStartEditing",S),Ot(t,"columnHeaderKeyDown",f),Ot(t,"headerFilterKeyDown",p),Ot(t,"columnGroupHeaderKeyDown",m),Ot(t,"cellKeyDown",y)},tGe=(t,e)=>{var p,m;const n=zs(t,"useGridRowCount"),r=ut(t,N4),i=ut(t,xg),s=ut(t,py),o=ut(t,Go),a=Iu(()=>Go(t).pageSize);t.current.registerControlState({stateId:"paginationRowCount",propModel:e.rowCount,propOnChange:e.onRowCountChange,stateSelector:xg,changeEvent:"rowCountChange"});const c={setRowCount:b.useCallback(y=>{i!==y&&(n.debug("Setting 'rowCount' to",y),t.current.setState(S=>ee({},S,{pagination:ee({},S.pagination,{rowCount:y})})))},[t,n,i])};Gn(t,c,"public");const u=b.useCallback((y,S)=>{var k,P;const w=xg(t);return!S.exportOnlyDirtyModels||e.rowCount!=null||((P=(k=e.initialState)==null?void 0:k.pagination)==null?void 0:P.rowCount)!=null?ee({},y,{pagination:ee({},y.pagination,{rowCount:w})}):y},[t,e.rowCount,(m=(p=e.initialState)==null?void 0:p.pagination)==null?void 0:m.rowCount]),d=b.useCallback((y,S)=>{var v;const w=(v=S.stateToRestore.pagination)!=null&&v.rowCount?S.stateToRestore.pagination.rowCount:xg(t);return t.current.setState(k=>ee({},k,{pagination:ee({},k.pagination,{rowCount:w})})),y},[t]);bi(t,"exportState",u),bi(t,"restoreState",d);const h=b.useCallback(y=>{e.paginationMode==="client"||!a.current||y.pageSize!==a.current&&(a.current=y.pageSize,i===-1&&t.current.setPage(0))},[e.paginationMode,a,i,t]);Ot(t,"paginationModelChange",h),b.useEffect(()=>{e.paginationMode==="client"?t.current.setRowCount(r):e.rowCount!=null&&t.current.setRowCount(e.rowCount)},[t,e.paginationMode,r,e.rowCount]);const f=s.hasNextPage===!1;b.useEffect(()=>{f&&i===-1&&t.current.setRowCount(o.pageSize*o.page+r)},[t,r,f,i,o])},nGe=(t,e)=>{var l,c;const n=zs(t,"useGridPaginationMeta"),r=ut(t,py);t.current.registerControlState({stateId:"paginationMeta",propModel:e.paginationMeta,propOnChange:e.onPaginationMetaChange,stateSelector:py,changeEvent:"paginationMetaChange"});const s={setPaginationMeta:b.useCallback(u=>{r!==u&&(n.debug("Setting 'paginationMeta' to",u),t.current.setState(d=>ee({},d,{pagination:ee({},d.pagination,{meta:u})})))},[t,n,r])};Gn(t,s,"public");const o=b.useCallback((u,d)=>{var p,m;const h=py(t);return!d.exportOnlyDirtyModels||e.paginationMeta!=null||((m=(p=e.initialState)==null?void 0:p.pagination)==null?void 0:m.meta)!=null?ee({},u,{pagination:ee({},u.pagination,{meta:h})}):u},[t,e.paginationMeta,(c=(l=e.initialState)==null?void 0:l.pagination)==null?void 0:c.meta]),a=b.useCallback((u,d)=>{var f;const h=(f=d.stateToRestore.pagination)!=null&&f.meta?d.stateToRestore.pagination.meta:py(t);return t.current.setState(p=>ee({},p,{pagination:ee({},p.pagination,{meta:h})})),u},[t]);bi(t,"exportState",o),bi(t,"restoreState",a),b.useEffect(()=>{e.paginationMeta&&t.current.setPaginationMeta(e.paginationMeta)},[t,e.paginationMeta])},rGe=(t,e)=>{var s,o,a,l,c,u;const n=ee({},Qq(e.autoPageSize),e.paginationModel??((o=(s=e.initialState)==null?void 0:s.pagination)==null?void 0:o.paginationModel));Jq(n.pageSize,e.signature);const r=e.rowCount??((l=(a=e.initialState)==null?void 0:a.pagination)==null?void 0:l.rowCount),i=e.paginationMeta??((u=(c=e.initialState)==null?void 0:c.pagination)==null?void 0:u.meta)??{};return ee({},t,{pagination:{paginationModel:n,rowCount:r,meta:i}})},iGe=(t,e)=>{nGe(t,e),HWe(t,e),tGe(t,e)},sGe=(t,e)=>{var n;return ee({},t,{preferencePanel:((n=e.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},oGe=(t,e)=>{var d;const n=zs(t,"useGridPreferencesPanel"),r=b.useRef(),i=b.useRef(),s=b.useCallback(()=>{n.debug("Hiding Preferences Panel");const h=cv(t.current.state);h.openedPanelValue&&t.current.publishEvent("preferencePanelClose",{openedPanelValue:h.openedPanelValue}),t.current.setState(f=>ee({},f,{preferencePanel:{open:!1}})),t.current.forceUpdate()},[t,n]),o=b.useCallback(()=>{i.current=setTimeout(()=>clearTimeout(r.current),0)},[]),a=b.useCallback(()=>{r.current=setTimeout(s,100)},[s]),l=b.useCallback((h,f,p)=>{n.debug("Opening Preferences Panel"),o(),t.current.setState(m=>ee({},m,{preferencePanel:ee({},m.preferencePanel,{open:!0,openedPanelValue:h,panelId:f,labelId:p})})),t.current.publishEvent("preferencePanelOpen",{openedPanelValue:h}),t.current.forceUpdate()},[n,o,t]);Gn(t,{showPreferences:l,hidePreferences:a},"public");const c=b.useCallback((h,f)=>{var y;const p=cv(t.current.state);return!f.exportOnlyDirtyModels||((y=e.initialState)==null?void 0:y.preferencePanel)!=null||p.open?ee({},h,{preferencePanel:p}):h},[t,(d=e.initialState)==null?void 0:d.preferencePanel]),u=b.useCallback((h,f)=>{const p=f.stateToRestore.preferencePanel;return p!=null&&t.current.setState(m=>ee({},m,{preferencePanel:p})),h},[t]);bi(t,"exportState",c),bi(t,"restoreState",u),b.useEffect(()=>()=>{clearTimeout(r.current),clearTimeout(i.current)},[])},I5=t=>{switch(t.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},aGe=["id","field"],lGe=["id","field"],cGe=(t,e)=>{const[n,r]=b.useState({}),i=b.useRef(n),s=b.useRef({}),{processRowUpdate:o,onProcessRowUpdateError:a,cellModesModel:l,onCellModesModelChange:c}=e,u=N=>(...L)=>{e.editMode===Bu.Cell&&N(...L)},d=b.useCallback((N,L)=>{const H=t.current.getCellParams(N,L);if(!t.current.isCellEditable(H))throw new Error(`MUI X: The cell with id=${N} and field=${L} is not editable.`)},[t]),h=b.useCallback((N,L,H)=>{if(t.current.getCellMode(N,L)!==H)throw new Error(`MUI X: The cell with id=${N} and field=${L} is not in ${H} mode.`)},[t]),f=b.useCallback((N,L)=>{if(!N.isEditable||N.cellMode===Fr.Edit)return;const H=ee({},N,{reason:Gu.cellDoubleClick});t.current.publishEvent("cellEditStart",H,L)},[t]),p=b.useCallback((N,L)=>{if(N.cellMode===Fr.View||t.current.getCellMode(N.id,N.field)===Fr.View)return;const H=ee({},N,{reason:fc.cellFocusOut});t.current.publishEvent("cellEditStop",H,L)},[t]),m=b.useCallback((N,L)=>{if(N.cellMode===Fr.Edit){if(L.which===229)return;let H;if(L.key==="Escape"?H=fc.escapeKeyDown:L.key==="Enter"?H=fc.enterKeyDown:L.key==="Tab"&&(H=L.shiftKey?fc.shiftTabKeyDown:fc.tabKeyDown,L.preventDefault()),H){const O=ee({},N,{reason:H});t.current.publishEvent("cellEditStop",O,L)}}else if(N.isEditable){let H;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:L,cellParams:N,editMode:"cell"}))return;if(CK(L)?H=Gu.printableKeyDown:TK(L)?H=Gu.pasteKeyDown:L.key==="Enter"?H=Gu.enterKeyDown:(L.key==="Backspace"||L.key==="Delete")&&(H=Gu.deleteKeyDown),H){const G=ee({},N,{reason:H,key:L.key});t.current.publishEvent("cellEditStart",G,L)}}},[t]),y=b.useCallback(N=>{const{id:L,field:H,reason:O}=N,G={id:L,field:H};(O===Gu.printableKeyDown||O===Gu.deleteKeyDown||O===Gu.pasteKeyDown)&&(G.deleteValue=!0),t.current.startCellEditMode(G)},[t]),S=b.useCallback(N=>{const{id:L,field:H,reason:O}=N;t.current.runPendingEditCellValueMutation(L,H);let G;O===fc.enterKeyDown?G="below":O===fc.tabKeyDown?G="right":O===fc.shiftTabKeyDown&&(G="left");const j=O==="escapeKeyDown";t.current.stopCellEditMode({id:L,field:H,ignoreModifications:j,cellToFocusAfter:G})},[t]),w=N=>async(...L)=>{var H;if(N){const{id:O,field:G}=L[0];((H=t.current.state.editRows[O][G])==null?void 0:H.error)||N(...L)}};Ot(t,"cellDoubleClick",u(f)),Ot(t,"cellFocusOut",u(p)),Ot(t,"cellKeyDown",u(m)),Ot(t,"cellEditStart",u(y)),Ot(t,"cellEditStop",u(S)),Qr(t,"cellEditStart",e.onCellEditStart),Qr(t,"cellEditStop",w(e.onCellEditStop));const v=b.useCallback((N,L)=>{const H=Js(t.current.state);return H[N]&&H[N][L]?Fr.Edit:Fr.View},[t]),k=ui(N=>{const L=N!==e.cellModesModel;c&&L&&c(N,{api:t.current}),!(e.cellModesModel&&L)&&(r(N),i.current=N,t.current.publishEvent("cellModesModelChange",N))}),P=b.useCallback((N,L,H)=>{const O=ee({},i.current);if(H!==null)O[N]=ee({},O[N],{[L]:ee({},H)});else{const G=O[N],j=rn(G,[L].map(dv));O[N]=j,Object.keys(O[N]).length===0&&delete O[N]}k(O)},[k]),T=b.useCallback((N,L,H)=>{t.current.setState(O=>{const G=ee({},O.editRows);return H!==null?G[N]=ee({},G[N],{[L]:ee({},H)}):(delete G[N][L],Object.keys(G[N]).length===0&&delete G[N]),ee({},O,{editRows:G})}),t.current.forceUpdate()},[t]),_=b.useCallback(N=>{const{id:L,field:H}=N,O=rn(N,aGe);d(L,H),h(L,H,Fr.View),P(L,H,ee({mode:Fr.Edit},O))},[d,h,P]),E=ui(async N=>{const{id:L,field:H,deleteValue:O,initialValue:G}=N,j=t.current.getCellValue(L,H);let J=j;O?J=I5(t.current.getColumn(H)):G&&(J=G);const Z=t.current.getColumn(H),ae=!!Z.preProcessEditCellProps&&O;let z={value:J,error:!1,isProcessingProps:ae};if(T(L,H,z),t.current.setCellFocus(L,H),ae&&(z=await Promise.resolve(Z.preProcessEditCellProps({id:L,row:t.current.getRow(L),props:z,hasChanged:J!==j})),t.current.getCellMode(L,H)===Fr.Edit)){const $=Js(t.current.state);T(L,H,ee({},z,{value:$[L][H].value,isProcessingProps:!1}))}}),I=b.useCallback(N=>{const{id:L,field:H}=N,O=rn(N,lGe);h(L,H,Fr.Edit),P(L,H,ee({mode:Fr.View},O))},[h,P]),R=ui(async N=>{const{id:L,field:H,ignoreModifications:O,cellToFocusAfter:G="none"}=N;h(L,H,Fr.Edit),t.current.runPendingEditCellValueMutation(L,H);const j=()=>{T(L,H,null),P(L,H,null),G!=="none"&&t.current.moveFocusToRelativeCell(L,H,G)};if(O){j();return}const J=Js(t.current.state),{error:Z,isProcessingProps:ae}=J[L][H];if(Z||ae){s.current[L][H].mode=Fr.Edit,P(L,H,{mode:Fr.Edit});return}const z=t.current.getRowWithUpdatedValuesFromCellEditing(L,H);if(o){const $=W=>{s.current[L][H].mode=Fr.Edit,P(L,H,{mode:Fr.Edit}),a&&a(W)};try{const W=t.current.getRow(L);Promise.resolve(o(z,W,{rowId:L})).then(oe=>{t.current.updateRows([oe]),j()}).catch($)}catch(W){$(W)}}else t.current.updateRows([z]),j()}),F=b.useCallback(async N=>{var W,oe;const{id:L,field:H,value:O,debounceMs:G,unstable_skipValueParser:j}=N;d(L,H),h(L,H,Fr.Edit);const J=t.current.getColumn(H),Z=t.current.getRow(L);let ae=O;J.valueParser&&!j&&(ae=J.valueParser(O,Z,J,t));let z=Js(t.current.state),$=ee({},z[L][H],{value:ae,changeReason:G?"debouncedSetEditCellValue":"setEditCellValue"});if(J.preProcessEditCellProps){const X=O!==z[L][H].value;$=ee({},$,{isProcessingProps:!0}),T(L,H,$),$=await Promise.resolve(J.preProcessEditCellProps({id:L,row:Z,props:$,hasChanged:X}))}return t.current.getCellMode(L,H)===Fr.View?!1:(z=Js(t.current.state),$=ee({},$,{isProcessingProps:!1}),$.value=J.preProcessEditCellProps?z[L][H].value:ae,T(L,H,$),z=Js(t.current.state),!((oe=(W=z[L])==null?void 0:W[H])!=null&&oe.error))},[t,d,h,T]),B=b.useCallback((N,L)=>{const H=t.current.getColumn(L),O=Js(t.current.state),G=t.current.getRow(N);if(!O[N]||!O[N][L])return t.current.getRow(N);const{value:j}=O[N][L];return H.valueSetter?H.valueSetter(j,G,H,t):ee({},G,{[L]:j})},[t]),D={getCellMode:v,startCellEditMode:_,stopCellEditMode:I},A={setCellEditingEditCellValue:F,getRowWithUpdatedValuesFromCellEditing:B};Gn(t,D,"public"),Gn(t,A,"private"),b.useEffect(()=>{l&&k(l)},[l,k]),Os(()=>{const N=gC(t),L=s.current;s.current=Nq(n),Object.entries(n).forEach(([H,O])=>{Object.entries(O).forEach(([G,j])=>{var ae,z;const J=((z=(ae=L[H])==null?void 0:ae[G])==null?void 0:z.mode)||Fr.View,Z=N[H]??H;j.mode===Fr.Edit&&J===Fr.View?E(ee({id:Z,field:G},j)):j.mode===Fr.View&&J===Fr.Edit&&R(ee({id:Z,field:G},j))})})},[t,n,E,R])},uGe=["id"],dGe=["id"],hGe=(t,e)=>{const[n,r]=b.useState({}),i=b.useRef(n),s=b.useRef({}),o=b.useRef(),a=b.useRef(null),{processRowUpdate:l,onProcessRowUpdateError:c,rowModesModel:u,onRowModesModelChange:d}=e,h=G=>(...j)=>{e.editMode===Bu.Row&&G(...j)},f=b.useCallback((G,j)=>{const J=t.current.getCellParams(G,j);if(!t.current.isCellEditable(J))throw new Error(`MUI X: The cell with id=${G} and field=${j} is not editable.`)},[t]),p=b.useCallback((G,j)=>{if(t.current.getRowMode(G)!==j)throw new Error(`MUI X: The row with id=${G} is not in ${j} mode.`)},[t]),m=b.useCallback(G=>{const j=Js(t.current.state);return Object.values(j[G]).some(J=>J.error)},[t]),y=b.useCallback((G,j)=>{if(!G.isEditable||t.current.getRowMode(G.id)===Kr.Edit)return;const J=t.current.getRowParams(G.id),Z=ee({},J,{field:G.field,reason:dh.cellDoubleClick});t.current.publishEvent("rowEditStart",Z,j)},[t]),S=b.useCallback(G=>{a.current=G},[]),w=b.useCallback((G,j)=>{G.isEditable&&t.current.getRowMode(G.id)!==Kr.View&&(a.current=null,o.current=setTimeout(()=>{var J;if(((J=a.current)==null?void 0:J.id)!==G.id){if(!t.current.getRow(G.id)||t.current.getRowMode(G.id)===Kr.View||m(G.id))return;const Z=t.current.getRowParams(G.id),ae=ee({},Z,{field:G.field,reason:tu.rowFocusOut});t.current.publishEvent("rowEditStop",ae,j)}}))},[t,m]);b.useEffect(()=>()=>{clearTimeout(o.current)},[]);const v=b.useCallback((G,j)=>{if(G.cellMode===Kr.Edit){if(j.which===229)return;let J;if(j.key==="Escape")J=tu.escapeKeyDown;else if(j.key==="Enter")J=tu.enterKeyDown;else if(j.key==="Tab"){const Z=Gm(t).filter(ae=>t.current.getColumn(ae).type===MT?!0:t.current.isCellEditable(t.current.getCellParams(G.id,ae)));if(j.shiftKey?G.field===Z[0]&&(J=tu.shiftTabKeyDown):G.field===Z[Z.length-1]&&(J=tu.tabKeyDown),j.preventDefault(),!J){const ae=Z.findIndex($=>$===G.field),z=Z[j.shiftKey?ae-1:ae+1];t.current.setCellFocus(G.id,z)}}if(J){if(J!==tu.escapeKeyDown&&m(G.id))return;const Z=ee({},t.current.getRowParams(G.id),{reason:J,field:G.field});t.current.publishEvent("rowEditStop",Z,j)}}else if(G.isEditable){let J;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:j,cellParams:G,editMode:"row"}))return;if(CK(j)||TK(j)?J=dh.printableKeyDown:j.key==="Enter"?J=dh.enterKeyDown:(j.key==="Backspace"||j.key==="Delete")&&(J=dh.deleteKeyDown),J){const ae=t.current.getRowParams(G.id),z=ee({},ae,{field:G.field,reason:J});t.current.publishEvent("rowEditStart",z,j)}}},[t,m]),k=b.useCallback(G=>{const{id:j,field:J,reason:Z}=G,ae={id:j,fieldToFocus:J};(Z===dh.printableKeyDown||Z===dh.deleteKeyDown)&&(ae.deleteValue=!!J),t.current.startRowEditMode(ae)},[t]),P=b.useCallback(G=>{const{id:j,reason:J,field:Z}=G;t.current.runPendingEditCellValueMutation(j);let ae;J===tu.enterKeyDown?ae="below":J===tu.tabKeyDown?ae="right":J===tu.shiftTabKeyDown&&(ae="left");const z=J==="escapeKeyDown";t.current.stopRowEditMode({id:j,ignoreModifications:z,field:Z,cellToFocusAfter:ae})},[t]);Ot(t,"cellDoubleClick",h(y)),Ot(t,"cellFocusIn",h(S)),Ot(t,"cellFocusOut",h(w)),Ot(t,"cellKeyDown",h(v)),Ot(t,"rowEditStart",h(k)),Ot(t,"rowEditStop",h(P)),Qr(t,"rowEditStart",e.onRowEditStart),Qr(t,"rowEditStop",e.onRowEditStop);const T=b.useCallback(G=>{if(e.editMode===Bu.Cell)return Kr.View;const j=Js(t.current.state);return j[G]&&Object.keys(j[G]).length>0?Kr.Edit:Kr.View},[t,e.editMode]),_=ui(G=>{const j=G!==e.rowModesModel;d&&j&&d(G,{api:t.current}),!(e.rowModesModel&&j)&&(r(G),i.current=G,t.current.publishEvent("rowModesModelChange",G))}),E=b.useCallback((G,j)=>{const J=ee({},i.current);j!==null?J[G]=ee({},j):delete J[G],_(J)},[_]),I=b.useCallback((G,j)=>{t.current.setState(J=>{const Z=ee({},J.editRows);return j!==null?Z[G]=j:delete Z[G],ee({},J,{editRows:Z})}),t.current.forceUpdate()},[t]),R=b.useCallback((G,j,J)=>{t.current.setState(Z=>{const ae=ee({},Z.editRows);return J!==null?ae[G]=ee({},ae[G],{[j]:ee({},J)}):(delete ae[G][j],Object.keys(ae[G]).length===0&&delete ae[G]),ee({},Z,{editRows:ae})}),t.current.forceUpdate()},[t]),F=b.useCallback(G=>{const{id:j}=G,J=rn(G,uGe);p(j,Kr.View),E(j,ee({mode:Kr.Edit},J))},[p,E]),B=ui(G=>{const{id:j,fieldToFocus:J,deleteValue:Z,initialValue:ae}=G,z=md(t),$=z.reduce((W,oe)=>{if(!t.current.getCellParams(j,oe).isEditable)return W;const K=t.current.getColumn(oe);let Y=t.current.getCellValue(j,oe);return J===oe&&(Z||ae)&&(Z?Y=I5(K):ae&&(Y=ae)),W[oe]={value:Y,error:!1,isProcessingProps:!!K.preProcessEditCellProps&&Z},W},{});I(j,$),J&&t.current.setCellFocus(j,J),z.filter(W=>!!t.current.getColumn(W).preProcessEditCellProps&&Z).forEach(W=>{const oe=t.current.getColumn(W),X=t.current.getCellValue(j,W),K=Z?I5(oe):ae??X;Promise.resolve(oe.preProcessEditCellProps({id:j,row:t.current.getRow(j),props:$[W],hasChanged:K!==X})).then(Y=>{if(t.current.getRowMode(j)===Kr.Edit){const le=Js(t.current.state);R(j,W,ee({},Y,{value:le[j][W].value,isProcessingProps:!1}))}})})}),D=b.useCallback(G=>{const{id:j}=G,J=rn(G,dGe);p(j,Kr.Edit),E(j,ee({mode:Kr.View},J))},[p,E]),A=ui(G=>{const{id:j,ignoreModifications:J,field:Z,cellToFocusAfter:ae="none"}=G;t.current.runPendingEditCellValueMutation(j);const z=()=>{ae!=="none"&&Z&&t.current.moveFocusToRelativeCell(j,Z,ae),I(j,null),E(j,null)};if(J){z();return}const $=Js(t.current.state),W=t.current.getRow(j);if(Object.values($[j]).some(K=>K.isProcessingProps)){s.current[j].mode=Kr.Edit;return}if(m(j)){s.current[j].mode=Kr.Edit,E(j,{mode:Kr.Edit});return}const X=t.current.getRowWithUpdatedValuesFromRowEditing(j);if(l){const K=Y=>{s.current[j].mode=Kr.Edit,E(j,{mode:Kr.Edit}),c&&c(Y)};try{Promise.resolve(l(X,W,{rowId:j})).then(Y=>{t.current.updateRows([Y]),z()}).catch(K)}catch(Y){K(Y)}}else t.current.updateRows([X]),z()}),N=b.useCallback(G=>{const{id:j,field:J,value:Z,debounceMs:ae,unstable_skipValueParser:z}=G;f(j,J);const $=t.current.getColumn(J),W=t.current.getRow(j);let oe=Z;$.valueParser&&!z&&(oe=$.valueParser(Z,W,$,t));let X=Js(t.current.state),K=ee({},X[j][J],{value:oe,changeReason:ae?"debouncedSetEditCellValue":"setEditCellValue"});return $.preProcessEditCellProps||R(j,J,K),new Promise(Y=>{const le=[];if($.preProcessEditCellProps){const ie=K.value!==X[j][J].value;K=ee({},K,{isProcessingProps:!0}),R(j,J,K);const re=X[j],se=rn(re,[J].map(dv)),ue=Promise.resolve($.preProcessEditCellProps({id:j,row:W,props:K,hasChanged:ie,otherFieldsProps:se})).then(we=>{if(t.current.getRowMode(j)===Kr.View){Y(!1);return}X=Js(t.current.state),we=ee({},we,{isProcessingProps:!1}),we.value=$.preProcessEditCellProps?X[j][J].value:oe,R(j,J,we)});le.push(ue)}Object.entries(X[j]).forEach(([ie,re])=>{if(ie===J)return;const se=t.current.getColumn(ie);if(!se.preProcessEditCellProps)return;re=ee({},re,{isProcessingProps:!0}),R(j,ie,re),X=Js(t.current.state);const ue=X[j],we=rn(ue,[ie].map(dv)),Pe=Promise.resolve(se.preProcessEditCellProps({id:j,row:W,props:re,hasChanged:!1,otherFieldsProps:we})).then(te=>{if(t.current.getRowMode(j)===Kr.View){Y(!1);return}te=ee({},te,{isProcessingProps:!1}),R(j,ie,te)});le.push(Pe)}),Promise.all(le).then(()=>{t.current.getRowMode(j)===Kr.Edit?(X=Js(t.current.state),Y(!X[j][J].error)):Y(!1)})})},[t,f,R]),L=b.useCallback(G=>{const j=Js(t.current.state),J=t.current.getRow(G);if(!j[G])return t.current.getRow(G);let Z=ee({},J);return Object.entries(j[G]).forEach(([ae,z])=>{const $=t.current.getColumn(ae);$.valueSetter?Z=$.valueSetter(z.value,Z,$,t):Z[ae]=z.value}),Z},[t]),H={getRowMode:T,startRowEditMode:F,stopRowEditMode:D},O={setRowEditingEditCellValue:N,getRowWithUpdatedValuesFromRowEditing:L};Gn(t,H,"public"),Gn(t,O,"private"),b.useEffect(()=>{u&&_(u)},[u,_]),Os(()=>{const G=gC(t),j=s.current;s.current=Nq(n);const J=new Set([...Object.keys(n),...Object.keys(j)]);Array.from(J).forEach(Z=>{var W;const ae=n[Z]??{mode:Kr.View},z=((W=j[Z])==null?void 0:W.mode)||Kr.View,$=G[Z]??Z;ae.mode===Kr.Edit&&z===Kr.View?B(ee({id:$},ae)):ae.mode===Kr.View&&z===Kr.Edit&&A(ee({id:$},ae))})},[t,n,B,A])},fGe=t=>ee({},t,{editRows:{}}),pGe=(t,e)=>{cGe(t,e),hGe(t,e);const n=b.useRef({}),{isCellEditable:r}=e,i=b.useCallback(h=>vm(h.rowNode)||!h.colDef.editable||!h.colDef.renderEditCell?!1:r?r(h):!0,[r]),s=(h,f,p,m)=>{if(!p){m();return}if(n.current[h]||(n.current[h]={}),n.current[h][f]){const[w]=n.current[h][f];clearTimeout(w)}const y=()=>{const[w]=n.current[h][f];clearTimeout(w),m(),delete n.current[h][f]},S=setTimeout(()=>{m(),delete n.current[h][f]},p);n.current[h][f]=[S,y]};b.useEffect(()=>{const h=n.current;return()=>{Object.entries(h).forEach(([f,p])=>{Object.keys(p).forEach(m=>{const[y]=h[f][m];clearTimeout(y),delete h[f][m]})})}},[]);const o=b.useCallback((h,f)=>{if(n.current[h]){if(!f)Object.keys(n.current[h]).forEach(p=>{const[,m]=n.current[h][p];m()});else if(n.current[h][f]){const[,p]=n.current[h][f];p()}}},[]),a=b.useCallback(h=>{const{id:f,field:p,debounceMs:m}=h;return new Promise(y=>{s(f,p,m,async()=>{const S=e.editMode===Bu.Row?t.current.setRowEditingEditCellValue:t.current.setCellEditingEditCellValue;if(t.current.getCellMode(f,p)===Fr.Edit){const w=await S(h);y(w)}})})},[t,e.editMode]),l=b.useCallback((h,f)=>e.editMode===Bu.Cell?t.current.getRowWithUpdatedValuesFromCellEditing(h,f):t.current.getRowWithUpdatedValuesFromRowEditing(h),[t,e.editMode]),c=b.useCallback((h,f)=>{var m;return((m=Js(t.current.state)[h])==null?void 0:m[f])??null},[t]),u={isCellEditable:i,setEditCellValue:a,getRowWithUpdatedValues:l,unstable_getEditCellMeta:c},d={runPendingEditCellValueMutation:o};Gn(t,u,"public"),Gn(t,d,"private")},gGe=(t,e,n)=>{const r=!!e.unstable_dataSource;return n.current.caches.rows=DS({rows:r?[]:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),ee({},t,{rows:Oq({apiRef:n,rowCountProp:e.rowCount,loadingProp:r?!0:e.loading,previousTree:null,previousTreeDepths:null})})},mGe=(t,e)=>{const n=zs(t,"useGridRows"),r=pf(t,e),i=b.useRef(Date.now()),s=b.useRef(e.rowCount),o=Wm(),a=b.useCallback(O=>{const G=Eh(t)[O];if(G)return G;const j=t.current.getRowNode(O);return j&&vm(j)?{[Fg]:O}:null},[t]),l=e.getRowId,c=b.useCallback(O=>Fg in O?O[Fg]:l?l(O):O.id,[l]),u=b.useMemo(()=>r.rows.reduce((O,{id:G},j)=>(O[G]=j,O),{}),[r.rows]),d=b.useCallback(({cache:O,throttle:G})=>{const j=()=>{i.current=Date.now(),t.current.setState(Z=>ee({},Z,{rows:Oq({apiRef:t,rowCountProp:e.rowCount,loadingProp:e.loading,previousTree:_o(t),previousTreeDepths:F7(t),previousGroupsToFetch:n9e(t)})})),t.current.publishEvent("rowsSet"),t.current.forceUpdate()};if(o.clear(),t.current.caches.rows=O,!G){j();return}const J=e.throttleRowsMs-(Date.now()-i.current);if(J>0){o.start(J,j);return}j()},[e.throttleRowsMs,e.rowCount,e.loading,t,o]),h=b.useCallback(O=>{n.debug(`Updating all rows, new length ${O.length}`);const G=DS({rows:O,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),j=t.current.caches.rows;G.rowsBeforePartialUpdates=j.rowsBeforePartialUpdates,d({cache:G,throttle:!0})},[n,e.getRowId,e.loading,e.rowCount,d,t]),f=b.useCallback(O=>{if(e.signature===Hl.DataGrid&&O.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const G=$7(t,O,e.getRowId),j=O7({updates:G,getRowId:e.getRowId,previousCache:t.current.caches.rows});d({cache:j,throttle:!0})},[e.signature,e.getRowId,d,t]),p=b.useCallback((O,G)=>{const j=$7(t,O,e.getRowId),J=O7({updates:j,getRowId:e.getRowId,previousCache:t.current.caches.rows,groupKeys:G??[]});d({cache:J,throttle:!1})},[e.getRowId,d,t]),m=b.useCallback(O=>{O!==e.loading&&(n.debug(`Setting loading to ${O}`),t.current.setState(G=>ee({},G,{rows:ee({},G.rows,{loading:O})})),t.current.caches.rows.loadingPropBeforePartialUpdates=O)},[e.loading,t,n]),y=b.useCallback(()=>{const O=Zx(t),G=Eh(t);return new Map(O.map(j=>[j,G[j]??{}]))},[t]),S=b.useCallback(()=>ET(t),[t]),w=b.useCallback(()=>Zx(t),[t]),v=b.useCallback(O=>u[O],[u]),k=b.useCallback((O,G)=>{const j=t.current.getRowNode(O);if(!j)throw new Error(`MUI X: No row with id #${O} found.`);if(j.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const J=ee({},j,{childrenExpanded:G});t.current.setState(Z=>ee({},Z,{rows:ee({},Z.rows,{tree:ee({},Z.rows.tree,{[O]:J})})})),t.current.forceUpdate(),t.current.publishEvent("rowExpansionChange",J)},[t]),P=b.useCallback(O=>_o(t)[O]??null,[t]),T=b.useCallback(({skipAutoGeneratedRows:O=!0,groupId:G,applySorting:j,applyFiltering:J})=>{const Z=_o(t);let ae;if(j){const z=Z[G];if(!z)return[];const $=tw(t);ae=[];const W=$.findIndex(oe=>oe===G)+1;for(let oe=W;oe<$.length&&Z[$[oe]].depth>z.depth;oe+=1){const X=$[oe];(!O||!vm(Z[X]))&&ae.push(X)}}else ae=M4(Z,G,O);if(J){const z=jm(t);ae=ae.filter($=>z[$]!==!1)}return ae},[t]),_=b.useCallback((O,G)=>{const j=t.current.getRowNode(O);if(!j)throw new Error(`MUI X: No row with id #${O} found.`);if(j.parent!==fo)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(j.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");t.current.setState(J=>{const Z=_o(J,t.current.instanceId)[fo],ae=Z.children,z=ae.findIndex(W=>W===O);if(z===-1||z===G)return J;n.debug(`Moving row ${O} to index ${G}`);const $=[...ae];return $.splice(G,0,$.splice(z,1)[0]),ee({},J,{rows:ee({},J.rows,{tree:ee({},J.rows.tree,{[fo]:ee({},Z,{children:$})})})})}),t.current.publishEvent("rowsSet")},[t,n]),E=b.useCallback((O,G)=>{if(e.signature===Hl.DataGrid&&G.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(G.length===0)return;if(Um(t)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const J=ee({},_o(t)),Z=ee({},Eh(t)),ae=ee({},gC(t)),z=J[fo],$=[...z.children],W=new Set;for(let X=0;X<G.length;X+=1){const K=G[X],Y=BT(K,e.getRowId,"A row was provided without id when calling replaceRows()."),[le]=$.splice(O+X,1,Y);W.has(le)||(delete Z[le],delete ae[le],delete J[le]);const ie={id:Y,depth:0,parent:fo,type:"leaf",groupingKey:null};Z[Y]=K,ae[Y]=Y,J[Y]=ie,W.add(Y)}J[fo]=ee({},z,{children:$});const oe=$.filter(X=>{var K;return((K=J[X])==null?void 0:K.type)==="leaf"});t.current.caches.rows.dataRowIdToModelLookup=Z,t.current.caches.rows.dataRowIdToIdLookup=ae,t.current.setState(X=>ee({},X,{rows:ee({},X.rows,{dataRowIdToModelLookup:Z,dataRowIdToIdLookup:ae,dataRowIds:oe,tree:J})})),t.current.publishEvent("rowsSet")},[t,e.signature,e.getRowId]),I={getRow:a,setLoading:m,getRowId:c,getRowModels:y,getRowsCount:S,getAllRowIds:w,setRows:h,updateRows:f,getRowNode:P,getRowIndexRelativeToVisibleRows:v,unstable_replaceRows:E},R={setRowIndex:_,setRowChildrenExpansion:k,getRowGroupChildren:T},F={updateServerRows:p},B=b.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let O;t.current.caches.rows.rowsBeforePartialUpdates===e.rows?O=ee({},t.current.caches.rows,{updates:{type:"full",rows:Zx(t)}}):O=DS({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),d({cache:O,throttle:!1})},[n,t,e.rows,e.getRowId,e.loading,e.rowCount,d]),D=Iu(()=>e.unstable_dataSource),A=b.useCallback(O=>{if(e.unstable_dataSource&&e.unstable_dataSource!==D.current){D.current=e.unstable_dataSource;return}O==="rowTreeCreation"&&B()},[B,D,e.unstable_dataSource]),N=b.useCallback(()=>{t.current.getActiveStrategy("rowTree")!==r9e(t)&&B()},[t,B]);Ot(t,"activeStrategyProcessorChange",A),Ot(t,"strategyAvailabilityChange",N);const L=b.useCallback(()=>{t.current.setState(O=>{const G=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:_o(O,t.current.instanceId),treeDepths:F7(O,t.current.instanceId),dataRowIds:Zx(O,t.current.instanceId),dataRowIdToModelLookup:Eh(O,t.current.instanceId),dataRowIdToIdLookup:gC(O,t.current.instanceId)});return ee({},O,{rows:ee({},O.rows,G,{totalTopLevelRowCount:Fq({tree:G.tree,rowCountProp:e.rowCount})})})}),t.current.publishEvent("rowsSet"),t.current.forceUpdate()},[t,e.rowCount]);G4(t,"hydrateRows",L),Gn(t,I,"public"),Gn(t,R,e.signature===Hl.DataGrid?"private":"public"),Gn(t,F,"private");const H=b.useRef(!0);b.useEffect(()=>{var Z;if(H.current){H.current=!1;return}let O=!1;e.rowCount!==s.current&&(O=!0,s.current=e.rowCount);const G=t.current.caches.rows.rowsBeforePartialUpdates===e.rows,j=t.current.caches.rows.loadingPropBeforePartialUpdates===e.loading,J=t.current.caches.rows.rowCountPropBeforePartialUpdates===e.rowCount;G&&(j||(t.current.setState(ae=>ee({},ae,{rows:ee({},ae.rows,{loading:e.loading})})),t.current.caches.rows.loadingPropBeforePartialUpdates=e.loading,t.current.forceUpdate()),J||(t.current.setState(ae=>ee({},ae,{rows:ee({},ae.rows,{totalRowCount:Math.max(e.rowCount||0,ae.rows.totalRowCount),totalTopLevelRowCount:Math.max(e.rowCount||0,ae.rows.totalTopLevelRowCount)})})),t.current.caches.rows.rowCountPropBeforePartialUpdates=e.rowCount,t.current.forceUpdate()),!O)||(n.debug(`Updating all rows, new length ${(Z=e.rows)==null?void 0:Z.length}`),d({cache:DS({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),throttle:!1}))},[e.rows,e.rowCount,e.getRowId,e.loading,n,d,t])},yGe=t=>{const e={[fo]:ee({},o9e(),{children:t})};for(let n=0;n<t.length;n+=1){const r=t[n];e[r]={id:r,depth:0,parent:fo,type:"leaf",groupingKey:null}}return{groupingName:Fp,tree:e,treeDepths:{0:t.length},dataRowIds:t}},bGe=({previousTree:t,actions:e})=>{const n=ee({},t),r={};for(let o=0;o<e.remove.length;o+=1){const a=e.remove[o];r[a]=!0,delete n[a]}for(let o=0;o<e.insert.length;o+=1){const a=e.insert[o];n[a]={id:a,depth:0,parent:fo,type:"leaf",groupingKey:null}}const i=n[fo];let s=[...i.children,...e.insert];return Object.values(r).length&&(s=s.filter(o=>!r[o])),n[fo]=ee({},i,{children:s}),{groupingName:Fp,tree:n,treeDepths:{0:s.length},dataRowIds:s}},vGe=t=>t.updates.type==="full"?yGe(t.updates.rows):bGe({previousTree:t.previousTree,actions:t.updates.actions}),wGe=t=>{wC(t,Fp,"rowTreeCreation",vGe)},IK=(t,e)=>t==null||Array.isArray(t)?t:e&&e[0]===t?e:[t],xGe=(t,e)=>ee({},t,{rowSelection:e.rowSelection?IK(e.rowSelectionModel)??[]:[]}),SGe=(t,e)=>{var H,O,G,j,J,Z,ae;const n=zs(t,"useGridSelection"),r=b.useCallback(z=>(...$)=>{e.rowSelection&&z(...$)},[e.rowSelection]),i=e.signature!==Hl.DataGrid&&(((H=e.rowSelectionPropagation)==null?void 0:H.parents)||((O=e.rowSelectionPropagation)==null?void 0:O.descendants)),s=b.useMemo(()=>IK(e.rowSelectionModel,xl(t.current.state)),[t,e.rowSelectionModel]),o=b.useRef(null);t.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:e.onRowSelectionModelChange,stateSelector:xl,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableRowSelectionOnClick:l,isRowSelectable:c}=e,u=I4(e),d=pf(t,e),h=ut(t,_o),f=ut(t,Um)>1,p=b.useCallback(z=>{let $=z;const W=o.current??z,oe=t.current.isRowSelected(z);if(oe){const X=Og(t),K=X.findIndex(le=>le===W),Y=X.findIndex(le=>le===$);if(K===Y)return;K>Y?$=X[Y+1]:$=X[Y-1]}o.current=z,t.current.selectRowRange({startId:W,endId:$},!oe)},[t]),m=b.useCallback(z=>{if(e.signature===Hl.DataGrid&&!u&&Array.isArray(z)&&z.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));xl(t.current.state)!==z&&(n.debug("Setting selection model"),t.current.setState(W=>ee({},W,{rowSelection:e.rowSelection?z:[]})),t.current.forceUpdate())},[t,n,e.rowSelection,e.signature,u]),y=b.useCallback(z=>xl(t.current.state).includes(z),[t]),S=b.useCallback(z=>{if(e.rowSelection===!1||c&&!c(t.current.getRowParams(z)))return!1;const $=t.current.getRowNode(z);return!(($==null?void 0:$.type)==="footer"||($==null?void 0:$.type)==="pinnedRow")},[t,e.rowSelection,c]),w=b.useCallback(()=>N9e(t),[t]),v=b.useCallback((z,$=!0,W=!1)=>{var oe,X,K,Y,le,ie;if(t.current.isRowSelectable(z))if(o.current=z,W){n.debug(`Setting selection for row ${z}`);const re=[],se=ue=>{re.push(ue)};$&&(se(z),i&&eS(t,h,z,((oe=e.rowSelectionPropagation)==null?void 0:oe.descendants)??!1,((X=e.rowSelectionPropagation)==null?void 0:X.parents)??!1,se)),t.current.setRowSelectionModel(re)}else{n.debug(`Toggling selection for row ${z}`);const re=xl(t.current.state),se=new Set(re);se.delete(z);const ue=te=>{se.add(te)},we=te=>{se.delete(te)};$?(ue(z),i&&eS(t,h,z,((K=e.rowSelectionPropagation)==null?void 0:K.descendants)??!1,((Y=e.rowSelectionPropagation)==null?void 0:Y.parents)??!1,ue)):i&&H7(t,h,z,((le=e.rowSelectionPropagation)==null?void 0:le.descendants)??!1,((ie=e.rowSelectionPropagation)==null?void 0:ie.parents)??!1,we),(se.size<2||u)&&t.current.setRowSelectionModel(Array.from(se))}},[t,n,i,h,(G=e.rowSelectionPropagation)==null?void 0:G.descendants,(j=e.rowSelectionPropagation)==null?void 0:j.parents,u]),k=b.useCallback((z,$=!0,W=!1)=>{n.debug("Setting selection for several rows");const oe=z.filter(Y=>t.current.isRowSelectable(Y));let X;if(W){if($){if(X=new Set(oe),i){const le=ie=>{X.add(ie)};oe.forEach(ie=>{var re,se;eS(t,h,ie,((re=e.rowSelectionPropagation)==null?void 0:re.descendants)??!1,((se=e.rowSelectionPropagation)==null?void 0:se.parents)??!1,le)})}}else X=new Set;const Y=yd(t);if(X.size===Object.keys(Y).length&&Array.from(X).every(le=>Y[le]===le))return}else{X=new Set(Object.values(yd(t)));const Y=ie=>{X.add(ie)},le=ie=>{X.delete(ie)};oe.forEach(ie=>{var re,se,ue,we;$?(X.add(ie),i&&eS(t,h,ie,((re=e.rowSelectionPropagation)==null?void 0:re.descendants)??!1,((se=e.rowSelectionPropagation)==null?void 0:se.parents)??!1,Y)):(le(ie),i&&H7(t,h,ie,((ue=e.rowSelectionPropagation)==null?void 0:ue.descendants)??!1,((we=e.rowSelectionPropagation)==null?void 0:we.parents)??!1,le))})}(X.size<2||u)&&t.current.setRowSelectionModel(Array.from(X))},[n,i,u,t,h,(J=e.rowSelectionPropagation)==null?void 0:J.descendants,(Z=e.rowSelectionPropagation)==null?void 0:Z.parents]),P=b.useCallback(({startId:z,endId:$},W=!0,oe=!1)=>{if(!t.current.getRow(z)||!t.current.getRow($))return;n.debug(`Expanding selection from row ${z} to row ${$}`);const X=Og(t),K=X.indexOf(z),Y=X.indexOf($),[le,ie]=K>Y?[Y,K]:[K,Y],re=X.slice(le,ie+1);t.current.selectRows(re,W,oe)},[t,n]),T={selectRow:v,setRowSelectionModel:m,getSelectedRows:w,isRowSelected:y,isRowSelectable:S},_={selectRows:k,selectRowRange:P};Gn(t,T,"public"),Gn(t,_,e.signature===Hl.DataGrid?"private":"public");const E=b.useRef(!0),I=b.useCallback((z=!1)=>{var ie;if(E.current)return;const $=xl(t.current.state),W=Eh(t),oe=jm(t),X=ee({},yd(t)),K=re=>e.filterMode==="server"?!W[re]:oe[re]!==!0;let Y=!1;$.forEach(re=>{var ue;if(K(re)){if(e.keepNonExistentRowsSelected)return;delete X[re],Y=!0;return}if(!((ue=e.rowSelectionPropagation)!=null&&ue.parents))return;const se=h[re];if(se.type==="group"){if(se.isAutoGenerated){delete X[re],Y=!0;return}se.children.every(Pe=>oe[Pe]===!1)||(delete X[re],Y=!0)}});const le=f&&((ie=e.rowSelectionPropagation)==null?void 0:ie.parents)&&Object.keys(X).length>0;if(Y||le&&!z){const re=Object.values(X);le?t.current.selectRows(re,!0,!0):t.current.setRowSelectionModel(re)}},[t,f,(ae=e.rowSelectionPropagation)==null?void 0:ae.parents,e.keepNonExistentRowsSelected,e.filterMode,h]),R=b.useCallback((z,$)=>{const W=$.metaKey||$.ctrlKey,oe=!a&&!W&&!MVe($),X=!u||oe,K=t.current.isRowSelected(z);X?t.current.selectRow(z,oe?!0:!K,!0):t.current.selectRow(z,!K,!1)},[t,u,a]),F=b.useCallback((z,$)=>{var X;if(l)return;const W=(X=$.target.closest(`.${fe.cell}`))==null?void 0:X.getAttribute("data-field");if(W===Ym.field||W===NT)return;if(W){const K=t.current.getColumn(W);if((K==null?void 0:K.type)===MT)return}t.current.getRowNode(z.id).type!=="pinnedRow"&&($.shiftKey&&u?p(z.id):R(z.id,$))},[l,u,t,p,R]),B=b.useCallback((z,$)=>{var W;u&&$.shiftKey&&((W=window.getSelection())==null||W.removeAllRanges())},[u]),D=b.useCallback((z,$)=>{u&&$.nativeEvent.shiftKey?p(z.id):t.current.selectRow(z.id,z.value,!u)},[t,p,u]),A=b.useCallback(z=>{const $=e.pagination&&e.checkboxSelectionVisibleOnly&&e.paginationMode==="client"?eK(t):Og(t);t.current.selectRows($,z.value)},[t,e.checkboxSelectionVisibleOnly,e.pagination,e.paginationMode]),N=b.useCallback((z,$)=>{if(t.current.getCellMode(z.id,z.field)!==Fr.Edit&&!iw($)){if(vC($.key)&&$.shiftKey){const W=Oa(t);if(W&&W.id!==z.id){$.preventDefault();const oe=t.current.isRowSelected(W.id);if(!u){t.current.selectRow(W.id,!oe,!0);return}const X=t.current.getRowIndexRelativeToVisibleRows(W.id),K=t.current.getRowIndexRelativeToVisibleRows(z.id);let Y,le;X>K?oe?(Y=K,le=X-1):(Y=K,le=X):oe?(Y=X+1,le=K):(Y=X,le=K);const ie=d.rows.slice(Y,le+1).map(re=>re.id);t.current.selectRows(ie,!oe);return}}if($.key===" "&&$.shiftKey){$.preventDefault(),R(z.id,$);return}String.fromCharCode($.keyCode)==="A"&&($.ctrlKey||$.metaKey)&&($.preventDefault(),k(t.current.getAllRowIds(),!0))}},[t,R,k,d.rows,u]);Ot(t,"sortedRowsSet",r(()=>I(!0))),Ot(t,"filteredRowsSet",r(I)),Ot(t,"rowClick",r(F)),Ot(t,"rowSelectionCheckboxChange",r(D)),Ot(t,"headerSelectionCheckboxChange",A),Ot(t,"cellMouseDown",r(B)),Ot(t,"cellKeyDown",r(N)),b.useEffect(()=>{s!==void 0&&t.current.setRowSelectionModel(s)},[t,s,e.rowSelection]),b.useEffect(()=>{e.rowSelection||t.current.setRowSelectionModel([])},[t,e.rowSelection]);const L=s!=null;b.useEffect(()=>{if(L||!e.rowSelection)return;const z=xl(t.current.state);if(S){const $=z.filter(W=>S(W));$.length<z.length&&t.current.setRowSelectionModel($)}},[t,S,L,e.rowSelection]),b.useEffect(()=>{if(!e.rowSelection||L)return;const z=xl(t.current.state);!u&&z.length>1&&t.current.setRowSelectionModel([])},[t,u,a,L,e.rowSelection]),b.useEffect(()=>{r(I)},[I,r]),b.useEffect(()=>{E.current&&(E.current=!1)},[])},CGe=t=>{const{classes:e}=t;return b.useMemo(()=>nr({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},rr,e),[e])},kGe=(t,e)=>{const n={classes:e.classes},r=CGe(n),i=b.useCallback(s=>{const o=ee({},Ym,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:t.current.getLocaleText("checkboxSelectionHeaderName")}),a=e.checkboxSelection,l=s.lookup[qu]!=null;return a&&!l?(s.lookup[qu]=o,s.orderedFields=[qu,...s.orderedFields]):!a&&l?(delete s.lookup[qu],s.orderedFields=s.orderedFields.filter(c=>c!==qu)):a&&l&&(s.lookup[qu]=ee({},o,s.lookup[qu])),s},[t,r,e.checkboxSelection]);bi(t,"hydrateColumns",i)},TGe=(t,e)=>{var r,i;const n=e.sortModel??((i=(r=e.initialState)==null?void 0:r.sorting)==null?void 0:i.sortModel)??[];return ee({},t,{sorting:{sortModel:_q(n,e.disableMultipleColumnsSorting),sortedRows:[]}})},PGe=(t,e)=>{var P,T;const n=zs(t,"useGridSorting");t.current.registerControlState({stateId:"sortModel",propModel:e.sortModel,propOnChange:e.onSortModelChange,stateSelector:wl,changeEvent:"sortModelChange"});const r=b.useCallback((_,E)=>{const I=wl(t),R=I.findIndex(B=>B.field===_);let F=[...I];return R>-1?(E==null?void 0:E.sort)==null?F.splice(R,1):F.splice(R,1,E):F=[...I,E],F},[t]),i=b.useCallback((_,E)=>{const R=wl(t).find(F=>F.field===_.field);if(R){const F=E===void 0?E7(_.sortingOrder??e.sortingOrder,R.sort):E;return F===void 0?void 0:ee({},R,{sort:F})}return{field:_.field,sort:E===void 0?E7(_.sortingOrder??e.sortingOrder):E}},[t,e.sortingOrder]),s=b.useCallback((_,E)=>E==null||E.sortable===!1||e.disableColumnSorting?_:(E.sortingOrder||e.sortingOrder).some(R=>!!R)?[..._,"columnMenuSortItem"]:_,[e.sortingOrder,e.disableColumnSorting]),o=b.useCallback(()=>{t.current.setState(_=>{if(e.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),ee({},_,{sorting:ee({},_.sorting,{sortedRows:M4(_o(t),fo,!1)})});const E=wl(_,t.current.instanceId),I=_8e(E,t),R=t.current.applyStrategyProcessor("sorting",{sortRowList:I});return ee({},_,{sorting:ee({},_.sorting,{sortedRows:R})})}),t.current.publishEvent("sortedRowsSet"),t.current.forceUpdate()},[t,n,e.sortingMode]),a=b.useCallback(_=>{wl(t)!==_&&(n.debug("Setting sort model"),t.current.setState(M7(_,e.disableMultipleColumnsSorting)),t.current.forceUpdate(),t.current.applySorting())},[t,n,e.disableMultipleColumnsSorting]),l=b.useCallback((_,E,I)=>{const R=t.current.getColumn(_),F=i(R,E);let B;!I||e.disableMultipleColumnsSorting?B=(F==null?void 0:F.sort)==null?[]:[F]:B=r(R.field,F),t.current.setSortModel(B)},[t,r,i,e.disableMultipleColumnsSorting]),c=b.useCallback(()=>wl(t),[t]),u=b.useCallback(()=>E4(t).map(E=>E.model),[t]),d=b.useCallback(()=>tw(t),[t]),h=b.useCallback(_=>t.current.getSortedRowIds()[_],[t]);Gn(t,{getSortModel:c,getSortedRows:u,getSortedRowIds:d,getRowIdFromRowIndex:h,setSortModel:a,sortColumn:l,applySorting:o},"public");const p=b.useCallback((_,E)=>{var F,B;const I=wl(t);return!E.exportOnlyDirtyModels||e.sortModel!=null||((B=(F=e.initialState)==null?void 0:F.sorting)==null?void 0:B.sortModel)!=null||I.length>0?ee({},_,{sorting:{sortModel:I}}):_},[t,e.sortModel,(T=(P=e.initialState)==null?void 0:P.sorting)==null?void 0:T.sortModel]),m=b.useCallback((_,E)=>{var R;const I=(R=E.stateToRestore.sorting)==null?void 0:R.sortModel;return I==null?_:(t.current.setState(M7(I,e.disableMultipleColumnsSorting)),ee({},_,{callbacks:[..._.callbacks,t.current.applySorting]}))},[t,e.disableMultipleColumnsSorting]),y=b.useCallback(_=>{const E=_o(t),I=E[fo],R=_.sortRowList?_.sortRowList(I.children.map(F=>E[F])):[...I.children];return I.footerId!=null&&R.push(I.footerId),R},[t]);bi(t,"exportState",p),bi(t,"restoreState",m),wC(t,Fp,"sorting",y);const S=b.useCallback(({field:_,colDef:E},I)=>{if(!E.sortable||e.disableColumnSorting)return;const R=I.shiftKey||I.metaKey||I.ctrlKey;l(_,void 0,R)},[l,e.disableColumnSorting]),w=b.useCallback(({field:_,colDef:E},I)=>{!E.sortable||e.disableColumnSorting||I.key==="Enter"&&!I.ctrlKey&&!I.metaKey&&l(_,void 0,I.shiftKey)},[l,e.disableColumnSorting]),v=b.useCallback(()=>{const _=wl(t),E=Vd(t);if(_.length>0){const I=_.filter(R=>E[R.field]);I.length<_.length&&t.current.setSortModel(I)}},[t]),k=b.useCallback(_=>{_==="sorting"&&t.current.applySorting()},[t]);bi(t,"columnMenu",s),Ot(t,"columnHeaderClick",S),Ot(t,"columnHeaderKeyDown",w),Ot(t,"rowsSet",t.current.applySorting),Ot(t,"columnsChange",v),Ot(t,"activeStrategyProcessorChange",k),nw(()=>{t.current.applySorting()}),Os(()=>{e.sortModel!==void 0&&t.current.setSortModel(e.sortModel)},[t,e.sortModel])};function w$(t){const{containerSize:e,scrollPosition:n,elementSize:r,elementOffset:i}=t,s=i+r;if(r>e)return i;if(s-e>n)return s-e;if(i<n)return i}const _Ge=(t,e)=>{const n=Vr(),r=zs(t,"useGridScroll"),i=t.current.columnHeadersContainerRef,s=t.current.virtualScrollerRef,o=ut(t,ff),a=b.useCallback(d=>{var S;const h=vo(t.current.state),f=ET(t),p=e.unstable_listView?[xm(t.current.state)]:Ps(t);if(!(d.rowIndex==null)&&f===0||p.length===0)return!1;r.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let y={};if(d.colIndex!==void 0){const w=hf(t);let v;if(typeof d.rowIndex<"u"){const k=(S=o[d.rowIndex])==null?void 0:S.id,P=t.current.unstable_getCellColSpanInfo(k,d.colIndex);P&&!P.spannedByColSpan&&(v=P.cellProps.width)}typeof v>"u"&&(v=p[d.colIndex].computedWidth),y.left=w$({containerSize:h.viewportOuterSize.width,scrollPosition:Math.abs(s.current.scrollLeft),elementSize:v,elementOffset:w[d.colIndex]})}if(d.rowIndex!==void 0){const w=Xm(t.current.state),v=Y9e(t),k=X9e(t),P=e.pagination?d.rowIndex-v*k:d.rowIndex,T=w.positions[P+1]?w.positions[P+1]-w.positions[P]:w.currentPageTotalHeight-w.positions[P];y.top=w$({containerSize:h.viewportInnerSize.height,scrollPosition:s.current.scrollTop,elementSize:T,elementOffset:w.positions[P]})}return y=t.current.unstable_applyPipeProcessors("scrollToIndexes",y,d),typeof y.left!==void 0||typeof y.top!==void 0?(t.current.scroll(y),!0):!1},[r,t,s,e.pagination,o,e.unstable_listView]),l=b.useCallback(d=>{if(s.current&&d.left!==void 0&&i.current){const h=n?-1:1;i.current.scrollLeft=d.left,s.current.scrollLeft=h*d.left,r.debug(`Scrolling left: ${d.left}`)}s.current&&d.top!==void 0&&(s.current.scrollTop=d.top,r.debug(`Scrolling top: ${d.top}`)),r.debug("Scrolling, updating container, and viewport")},[s,n,i,r]),c=b.useCallback(()=>s!=null&&s.current?{top:s.current.scrollTop,left:s.current.scrollLeft}:{top:0,left:0},[s]);Gn(t,{scroll:l,scrollToIndexes:a,getScrollPosition:c},"public")};function MGe(t,e){Qr(t,"columnHeaderClick",e.onColumnHeaderClick),Qr(t,"columnHeaderContextMenu",e.onColumnHeaderContextMenu),Qr(t,"columnHeaderDoubleClick",e.onColumnHeaderDoubleClick),Qr(t,"columnHeaderOver",e.onColumnHeaderOver),Qr(t,"columnHeaderOut",e.onColumnHeaderOut),Qr(t,"columnHeaderEnter",e.onColumnHeaderEnter),Qr(t,"columnHeaderLeave",e.onColumnHeaderLeave),Qr(t,"cellClick",e.onCellClick),Qr(t,"cellDoubleClick",e.onCellDoubleClick),Qr(t,"cellKeyDown",e.onCellKeyDown),Qr(t,"preferencePanelClose",e.onPreferencePanelClose),Qr(t,"preferencePanelOpen",e.onPreferencePanelOpen),Qr(t,"menuOpen",e.onMenuOpen),Qr(t,"menuClose",e.onMenuClose),Qr(t,"rowDoubleClick",e.onRowDoubleClick),Qr(t,"rowClick",e.onRowClick),Qr(t,"stateChange",e.onStateChange)}function EGe(t,e=166){let n,r;const i=()=>{n=void 0,t(...r)};function s(...o){r=o,n===void 0&&(n=setTimeout(i,e))}return s.clear=()=>{clearTimeout(n),n=void 0},s}const A5={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:Bu.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1},K0={width:0,height:0},BGe={isReady:!1,root:K0,viewportOuterSize:K0,viewportInnerSize:K0,contentSize:K0,minimumSize:K0,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},NGe=t=>ee({},t,{dimensions:BGe});function IGe(t,e){const n=zs(t,"useResizeContainer"),r=b.useRef(!1),i=b.useRef(K0),s=ut(t,vo),o=ut(t,Xm),a=ut(t,ew),l=ut(t,Zv),c=b.useMemo(()=>Hq(e.rowHeight,A5.rowHeight),[e.rowHeight]),u=Math.floor(c*l),d=Math.floor(e.columnHeaderHeight*l),h=Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*l),f=Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*l),p=RGe(C4(t),6),m=D4(t,e),y=a.left.reduce((L,H)=>L+H.computedWidth,0),S=a.right.reduce((L,H)=>L+H.computedWidth,0),[w,v]=b.useState(),k=b.useMemo(()=>EGe(v,e.resizeThrottleMs),[e.resizeThrottleMs]),P=b.useRef(),T=()=>t.current.state.dimensions,_=ui(L=>{t.current.setState(H=>ee({},H,{dimensions:L}))}),E=b.useCallback(()=>{const L=t.current.mainElementRef.current;if(!L)return;const H=NOe(L).getComputedStyle(L),O={width:parseFloat(H.width)||0,height:parseFloat(H.height)||0};(!P.current||!x$(P.current,O))&&(t.current.publishEvent("resize",O),P.current=O)},[t]),I=b.useCallback(()=>{const L=vo(t.current.state);if(!L.isReady)return 0;const H=$g(t,{pagination:e.pagination,paginationMode:e.paginationMode});if(e.getRowHeight){const G=OT(t),j=G.lastRowIndex-G.firstRowIndex;return Math.min(j-1,H.rows.length)}const O=Math.floor(L.viewportInnerSize.height/u);return Math.min(O,H.rows.length)},[t,e.pagination,e.paginationMode,e.getRowHeight,u]),R=b.useCallback(()=>{var le,ie;const L=t.current.rootElementRef.current,H=l9e(t),O=AGe(L,p,e.scrollbarSize),G=m+H.top,j=H.bottom,Z={width:p-y-S,height:o.currentPageTotalHeight};let ae,z,$=!1,W=!1;if(e.autoHeight)W=!1,$=Math.round(p)>Math.round(i.current.width),ae={width:i.current.width,height:G+j+Z.height},z={width:Math.max(0,ae.width-(W?O:0)),height:Math.max(0,ae.height-($?O:0))};else{ae={width:i.current.width,height:i.current.height},z={width:Math.max(0,ae.width-y-S),height:Math.max(0,ae.height-G-j)};const re=Z,se=z,ue=re.width>se.width,we=re.height>se.height;(ue||we)&&(W=we,$=re.width+(W?O:0)>se.width,$&&(W=re.height+O>se.height)),W&&(z.width-=O),$&&(z.height-=O)}const oe=Math.max(ae.width,p+(W?O:0)),X={width:p,height:G+Z.height+j},K={isReady:!0,root:i.current,viewportOuterSize:ae,viewportInnerSize:z,contentSize:Z,minimumSize:X,hasScrollX:$,hasScrollY:W,scrollbarSize:O,headerHeight:d,groupHeaderHeight:h,headerFilterHeight:f,rowWidth:oe,rowHeight:u,columnsTotalWidth:p,leftPinnedWidth:y,rightPinnedWidth:S,headersTotalHeight:m,topContainerHeight:G,bottomContainerHeight:j},Y=t.current.state.dimensions;_(K),x$(K.viewportInnerSize,Y.viewportInnerSize)||t.current.publishEvent("viewportInnerSizeChange",K.viewportInnerSize),(ie=(le=t.current).updateRenderContext)==null||ie.call(le)},[t,_,e.scrollbarSize,e.autoHeight,o.currentPageTotalHeight,u,d,h,f,p,m,y,S]),F={resize:E,getRootDimensions:T},B={updateDimensions:R,getViewportPageSize:I};Gn(t,F,"public"),Gn(t,B,"private"),Os(()=>{w&&(R(),t.current.publishEvent("debouncedResize",i.current))},[t,w,R]);const D=t.current.rootElementRef.current;Os(()=>{if(!D)return;const L=(H,O)=>D.style.setProperty(H,O);L("--DataGrid-width",`${s.viewportOuterSize.width}px`),L("--DataGrid-hasScrollX",`${Number(s.hasScrollX)}`),L("--DataGrid-hasScrollY",`${Number(s.hasScrollY)}`),L("--DataGrid-scrollbarSize",`${s.scrollbarSize}px`),L("--DataGrid-rowWidth",`${s.rowWidth}px`),L("--DataGrid-columnsTotalWidth",`${s.columnsTotalWidth}px`),L("--DataGrid-leftPinnedWidth",`${s.leftPinnedWidth}px`),L("--DataGrid-rightPinnedWidth",`${s.rightPinnedWidth}px`),L("--DataGrid-headerHeight",`${s.headerHeight}px`),L("--DataGrid-headersTotalHeight",`${s.headersTotalHeight}px`),L("--DataGrid-topContainerHeight",`${s.topContainerHeight}px`),L("--DataGrid-bottomContainerHeight",`${s.bottomContainerHeight}px`),L("--height",`${s.rowHeight}px`)},[D,s]);const A=b.useRef(!0),N=b.useCallback(L=>{i.current=L;const H=/jsdom/.test(window.navigator.userAgent);if(L.height===0&&!r.current&&!e.autoHeight&&!H&&(n.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),L.width===0&&!r.current&&!H&&(n.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),A.current){v(L),A.current=!1;return}k(L)},[e.autoHeight,k,n]);Os(R,[R]),Qr(t,"sortedRowsSet",R),Qr(t,"paginationModelChange",R),Qr(t,"columnsChange",R),Ot(t,"resize",N),Qr(t,"debouncedResize",e.onResize)}function AGe(t,e,n){if(n!==void 0)return n;if(t===null||e===0)return 0;const i=zh(t).createElement("div");i.style.width="99px",i.style.height="99px",i.style.position="absolute",i.style.overflow="scroll",i.className="scrollDiv",t.appendChild(i);const s=i.offsetWidth-i.clientWidth;return t.removeChild(i),s}function RGe(t,e){return Math.round(t*10**e)/10**e}function x$(t,e){return t.width===e.width&&t.height===e.height}const LGe=typeof globalThis.ResizeObserver<"u"?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},DGe=(t,e,n)=>(n.current.caches.rowsMeta={heights:new Map},ee({},t,{rowsMeta:{currentPageTotalHeight:0,positions:[]}})),FGe=(t,e)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:i}=e,s=t.current.caches.rowsMeta.heights,o=b.useRef(-1),a=b.useRef(!1),l=b.useRef(!1),c=ut(t,Zv),u=ut(t,lo),d=ut(t,LT),h=ut(t,wl),f=pf(t,e),p=ut(t,Zp),m=ut(t,()=>vo(t.current.state).rowHeight),y=D=>{let A=s.get(D);return A===void 0&&(A={content:m,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},s.set(D,A)),A},S=b.useCallback(D=>{const A=vo(t.current.state).rowHeight,N=t.current.getRowHeightEntry(D.id);if(!n)N.content=A,N.needsFirstMeasurement=!1;else{const L=n(ee({},D,{densityFactor:c}));if(L==="auto"){if(N.needsFirstMeasurement){const H=i?i(ee({},D,{densityFactor:c})):A;N.content=H??A}a.current=!0,N.autoHeight=!0}else N.content=Hq(L,A),N.needsFirstMeasurement=!1,N.autoHeight=!1}if(r){const L=t.current.getRowIndexRelativeToVisibleRows(D.id),H=r(ee({},D,{isFirstVisible:L===0,isLastVisible:L===f.rows.length-1,indexRelativeToCurrentPage:L}));N.spacingTop=H.top??0,N.spacingBottom=H.bottom??0}else N.spacingTop=0,N.spacingBottom=0;return t.current.unstable_applyPipeProcessors("rowHeight",N,D),N},[t,f.rows.length,n,i,m,r,c]),w=b.useCallback(()=>{a.current=!1,p.top.forEach(S),p.bottom.forEach(S);const D=[],A=f.rows.reduce((N,L)=>{D.push(N);const H=S(L),O=H.content+H.spacingTop+H.spacingBottom+H.detail;return N+O},0);a.current||(o.current=1/0),t.current.setState(N=>ee({},N,{rowsMeta:{currentPageTotalHeight:A,positions:D}})),l.current=!0},[t,p,f.rows,S]),v=D=>{var A;return((A=s.get(D))==null?void 0:A.content)??m},k=(D,A)=>{const N=t.current.getRowHeightEntry(D),L=N.content!==A;N.needsFirstMeasurement=!1,N.content=A,l.current&&(l.current=!L)},P=D=>{var A;return((A=s.get(D))==null?void 0:A.autoHeight)??!1},T=()=>o.current,_=D=>{a.current&&D>o.current&&(o.current=D)},E=()=>{s.clear(),w()},I=Iu(()=>new LGe(D=>{for(let A=0;A<D.length;A+=1){const N=D[A],L=N.borderBoxSize&&N.borderBoxSize.length>0?N.borderBoxSize[0].blockSize:N.contentRect.height,H=N.target.__mui_id;t.current.unstable_storeRowHeightMeasurement(H,L)}l.current||t.current.requestPipeProcessorsApplication("rowHeight")})).current,R=(D,A)=>(D.__mui_id=A,I.observe(D),()=>I.unobserve(D));G4(t,"rowHeight",w),b.useEffect(()=>{w()},[u,d,h,w]);const F={unstable_getRowHeight:v,unstable_setLastMeasuredRowIndex:_,unstable_storeRowHeightMeasurement:k,resetRowHeights:E},B={hydrateRowsMeta:w,observeRowHeight:R,rowHasAutoHeight:P,getRowHeightEntry:y,getLastMeasuredRowIndex:T};Gn(t,F,"public"),Gn(t,B,"private")},OGe=t=>{const e=b.useCallback((i={})=>t.current.unstable_applyPipeProcessors("exportState",{},i),[t]),n=b.useCallback(i=>{t.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(o=>{o()}),t.current.forceUpdate()},[t]);Gn(t,{exportState:e,restoreState:n},"public")},$Ge=t=>{const e=b.useRef({}),n=(a,l)=>{var c;return(c=e.current[a])==null?void 0:c[l]},r=()=>{e.current={}},i=b.useCallback(({rowId:a,minFirstColumn:l,maxLastColumn:c,columns:u})=>{for(let d=l;d<c;d+=1){const h=HGe({apiRef:t,lookup:e.current,columnIndex:d,rowId:a,minFirstColumnIndex:l,maxLastColumnIndex:c,columns:u});h.colSpan>1&&(d+=h.colSpan-1)}},[t]),s={unstable_getCellColSpanInfo:n},o={resetColSpan:r,calculateColSpan:i};Gn(t,s,"public"),Gn(t,o,"private"),Ot(t,"columnOrderChange",r)};function HGe(t){const{apiRef:e,lookup:n,columnIndex:r,rowId:i,minFirstColumnIndex:s,maxLastColumnIndex:o,columns:a}=t,l=a.length,c=a[r],u=e.current.getRow(i),d=e.current.getRowValue(u,c),h=typeof c.colSpan=="function"?c.colSpan(d,u,c,e):c.colSpan;if(!h||h===1)return rM(n,i,r,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let f=c.computedWidth;for(let p=1;p<h;p+=1){const m=r+p;if(m>=s&&m<o){const y=a[m];f+=y.computedWidth,rM(n,i,r+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(r+h,l-1),leftVisibleCellIndex:r})}rM(n,i,r,{spannedByColSpan:!1,cellProps:{colSpan:h,width:f}})}return{colSpan:h}}function rM(t,e,n,r){t[e]||(t[e]={}),t[e][n]=r}const AK=(t,e,n)=>{if(Aq(t)){if(n[t.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${t.field} occurs two times in the grouping model:`,`- ${n[t.field].join(" > ")}`,`- ${e.join(" > ")}`].join(`
`));n[t.field]=e;return}const{groupId:r,children:i}=t;i.forEach(s=>{AK(s,[...e,r],n)})},R5=t=>{if(!t)return{};const e={};return t.forEach(n=>{AK(n,[],e)}),e},L5=(t,e,n)=>{const r=l=>e[l]??[],i=[],s=Math.max(...t.map(l=>r(l).length)),o=(l,c,u)=>Dg(r(l).slice(0,u+1),r(c).slice(0,u+1)),a=(l,c)=>!!(n!=null&&n.left&&n.left.includes(l)&&!n.left.includes(c)||n!=null&&n.right&&!n.right.includes(l)&&n.right.includes(c));for(let l=0;l<s;l+=1){const c=t.reduce((u,d)=>{const h=r(d)[l]??null;if(u.length===0)return[{columnFields:[d],groupId:h}];const f=u[u.length-1],p=f.columnFields[f.columnFields.length-1];return f.groupId!==h||!o(p,d,l)||a(p,d)?[...u,{columnFields:[d],groupId:h}]:[...u.slice(0,u.length-1),{columnFields:[...f.columnFields,d],groupId:h}]},[]);i.push(c)}return i},VGe=["groupId","children"],U4=t=>{let e={};return t.forEach(n=>{if(Aq(n))return;const{groupId:r,children:i}=n,s=rn(n,VGe);if(!r)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const o=ee({},s,{groupId:r}),a=U4(i);if(a[r]!==void 0||e[r]!==void 0)throw new Error(`MUI X: The groupId ${r} is used multiple times in the columnGroupingModel.`);e=ee({},e,a,{[r]:o})}),ee({},e)},zGe=(t,e,n)=>{if(!e.columnGroupingModel)return t;const r=md(n),i=Gm(n),s=U4(e.columnGroupingModel??[]),o=R5(e.columnGroupingModel??[]),a=L5(r,o,n.current.state.pinnedColumns??{}),l=i.length===0?0:Math.max(...i.map(c=>{var u;return((u=o[c])==null?void 0:u.length)??0}));return ee({},t,{columnGrouping:{lookup:s,unwrappedGroupingModel:o,headerStructure:a,maxDepth:l}})},WGe=(t,e)=>{const n=b.useCallback(a=>iK(t)[a]??[],[t]),r=b.useCallback(()=>sK(t),[t]);Gn(t,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const s=b.useCallback(()=>{const a=R5(e.columnGroupingModel??[]);t.current.setState(l=>{var h;const c=((h=l.columns)==null?void 0:h.orderedFields)??[],u=l.pinnedColumns??{},d=L5(c,a,u);return ee({},l,{columnGrouping:ee({},l.columnGrouping,{headerStructure:d})})})},[t,e.columnGroupingModel]),o=b.useCallback(a=>{var m,y;const l=((y=(m=t.current).getPinnedColumns)==null?void 0:y.call(m))??{},c=md(t),u=Gm(t),d=U4(a??[]),h=R5(a??[]),f=L5(c,h,l),p=u.length===0?0:Math.max(...u.map(S=>{var w;return((w=h[S])==null?void 0:w.length)??0}));t.current.setState(S=>ee({},S,{columnGrouping:{lookup:d,unwrappedGroupingModel:h,headerStructure:f,maxDepth:p}}))},[t]);Ot(t,"columnIndexChange",s),Ot(t,"columnsChange",()=>{o(e.columnGroupingModel)}),Ot(t,"columnVisibilityModelChange",()=>{o(e.columnGroupingModel)}),b.useEffect(()=>{o(e.columnGroupingModel)},[o,e.columnGroupingModel])};function GGe(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function S$(t,e){if(e!==void 0&&t.changedTouches){for(let n=0;n<t.changedTouches.length;n+=1){const r=t.changedTouches[n];if(r.identifier===e)return{x:r.clientX,y:r.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function C$(t,e,n,r){let i=t;return r==="Right"?i+=e-n.left:i+=n.right-e,i}function UGe(t,e,n){return n==="Left"?t-e.left:e.right-t}function jGe(t){return t==="Right"?"Left":"Right"}function YGe(t,e){const n=t.classList.contains(fe["columnSeparator--sideRight"])?"Right":"Left";return e?jGe(n):n}function k$(t){t.preventDefault(),t.stopImmediatePropagation()}function XGe(t){const e=b.useRef(),n=()=>F4(t),r=ut(t,n);return b.useEffect(()=>{e.current&&r===!1&&(e.current.resolve(),e.current=void 0)}),()=>{if(!e.current){if(n()===!1)return Promise.resolve();e.current=GGe()}return e.current}}function qGe(t,e){if(t.length<4)return t;const n=t.slice();n.sort((a,l)=>a-l);const r=n[Math.floor(n.length*.25)],i=n[Math.floor(n.length*.75)-1],s=i-r,o=s<5?5:s*e;return n.filter(a=>a>r-o&&a<i+o)}function KGe(t,e,n){const r={},i=t.current.rootElementRef.current;return i.classList.add(fe.autosizing),n.forEach(s=>{const a=iHe(t.current,s.field).map(p=>p.getBoundingClientRect().width??0),l=e.includeOutliers?a:qGe(a,e.outliersFactor);if(e.includeHeaders){const p=rHe(t.current,s.field);if(p){const m=p.querySelector(`.${fe.columnHeaderTitle}`),y=p.querySelector(`.${fe.columnHeaderTitleContainerContent}`),S=p.querySelector(`.${fe.iconButtonContainer}`),w=p.querySelector(`.${fe.menuIcon}`),v=m??y,k=window.getComputedStyle(p,null),P=parseInt(k.paddingLeft,10)+parseInt(k.paddingRight,10),_=v.scrollWidth+1+P+((S==null?void 0:S.clientWidth)??0)+((w==null?void 0:w.clientWidth)??0);l.push(_)}}const c=s.minWidth!==-1/0&&s.minWidth!==void 0,u=s.maxWidth!==1/0&&s.maxWidth!==void 0,d=c?s.minWidth:0,h=u?s.maxWidth:1/0,f=l.length===0?0:Math.max(...l);r[s.field]=ku(f,d,h)}),i.classList.remove(fe.autosizing),r}const QGe=t=>ee({},t,{columnResize:{resizingColumnField:""}});function JGe(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const ZGe=(t,e)=>{const n=Vr(),r=zs(t,"useGridColumnResize"),i=Iu(JGe).current,s=b.useRef(),o=b.useRef(),a=Wm(),l=b.useRef(),c=I=>{var L,H;r.debug(`Updating width to ${I} for col ${i.colDef.field}`);const R=i.columnHeaderElement.offsetWidth,F=I-R,B=I-i.initialColWidth,D=i.initialTotalWidth+B;(H=(L=t.current.rootElementRef)==null?void 0:L.current)==null||H.style.setProperty("--DataGrid-rowWidth",`${D}px`),i.colDef.computedWidth=I,i.colDef.width=I,i.colDef.flex=0,i.columnHeaderElement.style.width=`${I}px`;const A=i.headerFilterElement;A&&(A.style.width=`${I}px`),i.groupHeaderElements.forEach(O=>{const G=O;let j;G.getAttribute("aria-colspan")==="1"?j=`${I}px`:j=`${G.offsetWidth+F}px`,G.style.width=j}),i.cellElements.forEach(O=>{const G=O;let j;G.getAttribute("aria-colspan")==="1"?j=`${I}px`:j=`${G.offsetWidth+F}px`,G.style.setProperty("--width",j)});const N=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);N===ti.LEFT&&(F0(i.fillerLeft,"width",F),i.leftPinnedCellsAfter.forEach(O=>{F0(O,"left",F)}),i.leftPinnedHeadersAfter.forEach(O=>{F0(O,"left",F)})),N===ti.RIGHT&&(F0(i.fillerRight,"width",F),i.rightPinnedCellsBefore.forEach(O=>{F0(O,"right",F)}),i.rightPinnedHeadersBefore.forEach(O=>{F0(O,"right",F)}))},u=I=>{if(S(),i.previousMouseClickEvent){const R=i.previousMouseClickEvent,F=R.timeStamp,B=R.clientX,D=R.clientY;if(I.timeStamp-F<300&&I.clientX===B&&I.clientY===D){i.previousMouseClickEvent=void 0,t.current.publishEvent("columnResizeStop",null,I);return}}if(i.colDef){t.current.setColumnWidth(i.colDef.field,i.colDef.width),r.debug(`Updating col ${i.colDef.field} with new width: ${i.colDef.width}`);const R=Cu(t.current.state);i.groupHeaderElements.forEach(F=>{const B=K$e(F),D=F,N=`${B.reduce((L,H)=>R.columnVisibilityModel[H]!==!1?L+R.lookup[H].computedWidth:L,0)}px`;D.style.width=N})}a.start(0,()=>{t.current.publishEvent("columnResizeStop",null,I)})},d=(I,R,F)=>{var N;const B=t.current.rootElementRef.current;i.initialColWidth=I.computedWidth,i.initialTotalWidth=t.current.getRootDimensions().rowWidth,i.colDef=I,i.columnHeaderElement=q$e(t.current.columnHeadersContainerRef.current,I.field);const D=B.querySelector(`.${fe.headerFilterRow} [data-field="${zd(I.field)}"]`);D&&(i.headerFilterElement=D),i.groupHeaderElements=Q$e((N=t.current.columnHeadersContainerRef)==null?void 0:N.current,I.field),i.cellElements=J$e(i.columnHeaderElement,t.current),i.fillerLeft=q7(t.current,n?"filler--pinnedRight":"filler--pinnedLeft"),i.fillerRight=q7(t.current,n?"filler--pinnedLeft":"filler--pinnedRight");const A=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);i.leftPinnedCellsAfter=A!==ti.LEFT?[]:Z$e(t.current,i.columnHeaderElement,n),i.rightPinnedCellsBefore=A!==ti.RIGHT?[]:eHe(t.current,i.columnHeaderElement,n),i.leftPinnedHeadersAfter=A!==ti.LEFT?[]:tHe(t.current,i.columnHeaderElement,n),i.rightPinnedHeadersBefore=A!==ti.RIGHT?[]:nHe(t.current,i.columnHeaderElement,n),o.current=YGe(R,n),s.current=UGe(F,i.columnHeaderElement.getBoundingClientRect(),o.current)},h=ui(u),f=ui(I=>{if(I.buttons===0){h(I);return}let R=C$(s.current,I.clientX,i.columnHeaderElement.getBoundingClientRect(),o.current);R=ku(R,i.colDef.minWidth,i.colDef.maxWidth),c(R);const F={element:i.columnHeaderElement,colDef:i.colDef,width:R};t.current.publishEvent("columnResize",F,I)}),p=ui(I=>{S$(I,l.current)&&u(I)}),m=ui(I=>{const R=S$(I,l.current);if(!R)return;if(I.type==="mousemove"&&I.buttons===0){p(I);return}let F=C$(s.current,R.x,i.columnHeaderElement.getBoundingClientRect(),o.current);F=ku(F,i.colDef.minWidth,i.colDef.maxWidth),c(F);const B={element:i.columnHeaderElement,colDef:i.colDef,width:F};t.current.publishEvent("columnResize",B,I)}),y=ui(I=>{const R=bC(I.target,fe["columnSeparator--resizable"]);if(!R)return;const F=I.changedTouches[0];F!=null&&(l.current=F.identifier);const B=bC(I.target,fe.columnHeader),D=X$e(B),A=t.current.getColumn(D);r.debug(`Start Resize on col ${A.field}`),t.current.publishEvent("columnResizeStart",{field:D},I),d(A,R,F.clientX);const N=zh(I.currentTarget);N.addEventListener("touchmove",m),N.addEventListener("touchend",p)}),S=b.useCallback(()=>{const I=zh(t.current.rootElementRef.current);I.body.style.removeProperty("cursor"),I.removeEventListener("mousemove",f),I.removeEventListener("mouseup",h),I.removeEventListener("touchmove",m),I.removeEventListener("touchend",p),setTimeout(()=>{I.removeEventListener("click",k$,!0)},100),i.columnHeaderElement&&(i.columnHeaderElement.style.pointerEvents="unset")},[t,i,f,h,m,p]),w=b.useCallback(({field:I})=>{t.current.setState(R=>ee({},R,{columnResize:ee({},R.columnResize,{resizingColumnField:I})})),t.current.forceUpdate()},[t]),v=b.useCallback(()=>{t.current.setState(I=>ee({},I,{columnResize:ee({},I.columnResize,{resizingColumnField:""})})),t.current.forceUpdate()},[t]),k=ui(({colDef:I},R)=>{if(R.button!==0||!R.currentTarget.classList.contains(fe["columnSeparator--resizable"]))return;R.preventDefault(),r.debug(`Start Resize on col ${I.field}`),t.current.publishEvent("columnResizeStart",{field:I.field},R),d(I,R.currentTarget,R.clientX);const F=zh(t.current.rootElementRef.current);F.body.style.cursor="col-resize",i.previousMouseClickEvent=R.nativeEvent,F.addEventListener("mousemove",f),F.addEventListener("mouseup",h),F.addEventListener("click",k$,!0)}),P=ui((I,R)=>{if(e.disableAutosize||R.button!==0)return;const F=t.current.state.columns.lookup[I.field];F.resizable!==!1&&t.current.autosizeColumns(ee({},e.autosizeOptions,{columns:[F.field]}))}),T=XGe(t),_=b.useRef(!1),E=b.useCallback(async I=>{var A;if(!((A=t.current.rootElementRef)==null?void 0:A.current)||_.current)return;_.current=!0;const F=Cu(t.current.state),B=ee({},L$e,I,{columns:(I==null?void 0:I.columns)??F.orderedFields});B.columns=B.columns.filter(N=>F.columnVisibilityModel[N]!==!1);const D=B.columns.map(N=>t.current.state.columns.lookup[N]);try{t.current.unstable_setColumnVirtualization(!1),await T();const N=KGe(t,B,D),L=D.map(H=>ee({},H,{width:N[H.field],computedWidth:N[H.field]}));if(B.expand){const O=F.orderedFields.map(J=>F.lookup[J]).filter(J=>F.columnVisibilityModel[J.field]!==!1).reduce((J,Z)=>J+(N[Z.field]??Z.computedWidth??Z.width),0),j=t.current.getRootDimensions().viewportInnerSize.width-O;if(j>0){const J=j/(L.length||1);L.forEach(Z=>{Z.width+=J,Z.computedWidth+=J})}}t.current.updateColumns(L),L.forEach((H,O)=>{if(H.width!==D[O].width){const G=H.width;t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(H.field),colDef:H,width:G})}})}finally{t.current.unstable_setColumnVirtualization(!0),_.current=!1}},[t,T]);b.useEffect(()=>S,[S]),_T(()=>{e.autosizeOnMount&&Promise.resolve().then(()=>{t.current.autosizeColumns(e.autosizeOptions)})}),qq(t,()=>{var I;return(I=t.current.columnHeadersContainerRef)==null?void 0:I.current},"touchstart",y,{passive:!0}),Gn(t,{autosizeColumns:E},"public"),Ot(t,"columnResizeStop",v),Ot(t,"columnResizeStart",w),Ot(t,"columnSeparatorMouseDown",k),Ot(t,"columnSeparatorDoubleClick",P),Qr(t,"columnResize",e.onColumnResize),Qr(t,"columnWidthChange",e.onColumnWidthChange)};function F0(t,e,n){t&&(t.style[e]=`${parseInt(t.style[e],10)+n}px`)}function eUe(t,e){return t.firstRowIndex>=e.firstRowIndex&&t.lastRowIndex<=e.lastRowIndex?null:t.firstRowIndex>=e.firstRowIndex&&t.lastRowIndex>e.lastRowIndex?{firstRowIndex:e.lastRowIndex,lastRowIndex:t.lastRowIndex}:t.firstRowIndex<e.firstRowIndex&&t.lastRowIndex<=e.lastRowIndex?{firstRowIndex:t.firstRowIndex,lastRowIndex:e.firstRowIndex-1}:t}function tUe(t){return t.firstRowIndex!==0||t.lastRowIndex!==0}function T$(t,e){return t.firstRowIndex!==e.firstRowIndex||t.lastRowIndex!==e.lastRowIndex}const iM=(t,e,n)=>{if(!t)return null;let r=t[e.field];const i=e.rowSpanValueGetter??e.valueGetter;return i&&(r=i(r,t,e,n)),r},xC={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Yy={firstRowIndex:0,lastRowIndex:0},nUe=new Set([qu,"__reorder__",NT]),RK=20,LK=(t,e,n,r,i,s,o)=>{const a=s?{}:ee({},t.current.state.rowSpanning.spannedCells),l=s?{}:ee({},t.current.state.rowSpanning.hiddenCells),c=s?{}:ee({},t.current.state.rowSpanning.hiddenCellOriginMap);return s&&(o=Yy),e.forEach(u=>{var d;if(!nUe.has(u.field)){for(let h=i.firstRowIndex;h<=i.lastRowIndex;h+=1){const f=n[h];if((d=l[f.id])!=null&&d[u.field])continue;const p=iM(f.model,u,t);if(p==null)continue;let m=f.id,y=h,S=0;const w=[];if(h===i.firstRowIndex){let k=h-1;const P=n[k];for(;k>=r.firstRowIndex&&iM(P.model,u,t)===p;){const T=n[k+1];l[T.id]?l[T.id][u.field]=!0:l[T.id]={[u.field]:!0},w.push(h),S+=1,m=P.id,y=k,k-=1}}w.forEach(k=>{c[k]?c[k][u.field]=y:c[k]={[u.field]:y}});let v=h+1;for(;v<=r.lastRowIndex&&n[v]&&iM(n[v].model,u,t)===p;){const k=n[v];l[k.id]?l[k.id][u.field]=!0:l[k.id]={[u.field]:!0},c[v]?c[v][u.field]=y:c[v]={[u.field]:y},v+=1,S+=1}S>0&&(a[m]?a[m][u.field]=S+1:a[m]={[u.field]:S+1})}o={firstRowIndex:Math.min(o.firstRowIndex,i.firstRowIndex),lastRowIndex:Math.max(o.lastRowIndex,i.lastRowIndex)}}}),{spannedCells:a,hiddenCells:l,hiddenCellOriginMap:c,processedRange:o}},rUe=(t,e,n)=>{var r;if(e.unstable_rowSpanning){const i=t.rows.dataRowIds||[],s=t.columns.orderedFields||[],o=t.rows.dataRowIdToModelLookup,a=t.columns.lookup,l=!!t.filter.filterModel.items.length||!!((r=t.filter.filterModel.quickFilterValues)!=null&&r.length);if(!i.length||!s.length||!o||!a||l)return ee({},t,{rowSpanning:xC});const c={firstRowIndex:0,lastRowIndex:Math.min(RK-1,Math.max(i.length-1,0))},u=i.map(m=>({id:m,model:o[m]})),d=s.map(m=>a[m]),{spannedCells:h,hiddenCells:f,hiddenCellOriginMap:p}=LK(n,d,u,c,c,!0,Yy);return ee({},t,{rowSpanning:{spannedCells:h,hiddenCells:f,hiddenCellOriginMap:p}})}return ee({},t,{rowSpanning:xC})},iUe=(t,e)=>{const{range:n,rows:r}=pf(t,e),i=ut(t,OT),s=ut(t,Ps),o=Iu(()=>Object.keys(t.current.state.rowSpanning.spannedCells).length>0?{firstRowIndex:0,lastRowIndex:Math.min(RK-1,Math.max(t.current.state.rows.dataRowIds.length-1,0))}:Yy),a=b.useRef(Yy),l=b.useCallback((h=!0)=>{if(!e.unstable_rowSpanning){t.current.state.rowSpanning!==xC&&t.current.setState(_=>ee({},_,{rowSpanning:xC}));return}if(n===null||!tUe(i))return;h&&(o.current=Yy);const f=eUe({firstRowIndex:i.firstRowIndex,lastRowIndex:Math.min(i.lastRowIndex-1,n.lastRowIndex)},o.current);if(f===null)return;const{spannedCells:p,hiddenCells:m,hiddenCellOriginMap:y,processedRange:S}=LK(t,s,r,n,f,h,o.current);o.current=S;const w=Object.keys(p).length,v=Object.keys(m).length,k=Object.keys(t.current.state.rowSpanning.spannedCells).length,P=Object.keys(t.current.state.rowSpanning.hiddenCells).length;(h||w!==k||v!==P)&&t.current.setState(_=>ee({},_,{rowSpanning:{spannedCells:p,hiddenCells:m,hiddenCellOriginMap:y}}))},[t,e.unstable_rowSpanning,n,i,r,s,o]),c=b.useRef(i),u=b.useRef(!0),d=b.useRef(!1);b.useEffect(()=>{const h=u.current;if(u.current&&(u.current=!1),n&&a.current&&T$(n,a.current)&&(a.current=n,d.current=!0),!h&&c.current!==i){T$(c.current,i)&&(l(d.current),d.current=!1),c.current=i;return}l()},[l,i,n,a])},sUe=(t,e,n)=>ee({},t,{listViewColumn:e.unstable_listColumn?ee({},e.unstable_listColumn,{computedWidth:D5(n)}):void 0});function oUe(t,e){const n=()=>{t.current.setState(s=>s.listViewColumn?ee({},s,{listViewColumn:ee({},s.listViewColumn,{computedWidth:D5(t)})}):s)},r=b.useRef(null);Ot(t,"viewportInnerSizeChange",s=>{r.current!==s.width&&(r.current=s.width,n())}),Ot(t,"columnVisibilityModelChange",n),b.useEffect(()=>{const s=e.unstable_listColumn;s&&t.current.setState(o=>ee({},o,{listViewColumn:ee({},s,{computedWidth:D5(t)})}))},[t,e.unstable_listColumn]),b.useEffect(()=>{e.unstable_listView&&e.unstable_listColumn},[e.unstable_listView,e.unstable_listColumn])}function D5(t){return vo(t.current.state).viewportInnerSize.width}const aUe=(t,e)=>{const n=PWe(t,e);return kGe(n,e),wGe(n),js(NGe,n,e),js(xGe,n,e),js(RWe,n,e),js(gGe,n,e),js(fGe,n,e),js(XWe,n,e),js(TGe,n,e),js(sGe,n,e),js(GWe,n,e),js(rUe,n,e),js(DWe,n,e),js(QGe,n,e),js(rGe,n,e),js(DGe,n,e),js(IWe,n,e),js(zGe,n,e),js(X7e,n,e),js(sUe,n,e),eGe(n,e),SGe(n,e),LWe(n,e),mGe(n,e),iUe(n,e),sHe(n,e),$Ge(n),WGe(n,e),pGe(n,e),qWe(n,e),oGe(n,e),YWe(n,e),PGe(n,e),FWe(n,e),ZGe(n,e),iGe(n,e),FGe(n,e),_Ge(n,e),AWe(n),$We(n,e),WWe(n,e),NWe(n,e),IGe(n,e),MGe(n,e),OGe(n),q7e(n,e),oUe(n,e),n},lUe=t=>{const{classes:e,headerAlign:n,isDragging:r,isLastColumn:i,showLeftBorder:s,showRightBorder:o,groupId:a,pinnedPosition:l}=t;return nr({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",o&&"columnHeader--withRightBorder",s&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",l==="left"&&"columnHeader--pinnedLeft",l==="right"&&"columnHeader--pinnedRight",i&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},rr,e)};function cUe(t){var J;const{groupId:e,width:n,depth:r,maxDepth:i,fields:s,height:o,colIndex:a,hasFocus:l,tabIndex:c,isLastColumn:u,pinnedPosition:d,style:h,indexInSection:f,sectionLength:p,gridHasFiller:m}=t,y=Wt(),S=b.useRef(null),w=Jn(),v=ut(w,sK),k=e?v[e]:{},{headerName:P=e??"",description:T="",headerAlign:_=void 0}=k;let E;const I=e&&((J=v[e])==null?void 0:J.renderHeaderGroup),R=b.useMemo(()=>({groupId:e,headerName:P,description:T,depth:r,maxDepth:i,fields:s,colIndex:a,isLastColumn:u}),[e,P,T,r,i,s,a,u]);e&&I&&(E=I(R));const F=HT(d,f),B=$T(d,f,p,y.showColumnVerticalBorder,m),D=ee({},t,{classes:y.classes,showLeftBorder:F,showRightBorder:B,headerAlign:_,depth:r,isDragging:!1}),A=P??e,N=Qi(),L=e===null?`empty-group-cell-${N}`:e,H=lUe(D);b.useLayoutEffect(()=>{if(l){const ae=S.current.querySelector('[tabindex="0"]')||S.current;ae==null||ae.focus()}},[w,l]);const O=b.useCallback(Z=>ae=>{iw(ae)||w.current.publishEvent(Z,R,ae)},[w,R]),G=b.useMemo(()=>({onKeyDown:O("columnGroupHeaderKeyDown"),onFocus:O("columnGroupHeaderFocus"),onBlur:O("columnGroupHeaderBlur")}),[O]),j=typeof k.headerClassName=="function"?k.headerClassName(R):k.headerClassName;return C.jsx(xK,ee({ref:S,classes:H,columnMenuOpen:!1,colIndex:a,height:o,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:c,isDraggable:!1,headerComponent:E,headerClassName:j,description:T,elementId:L,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:A,"aria-colspan":s.length,"data-fields":`|-${s.join("-|-")}-|`,style:h},G))}const P$=be("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(t,e)=>e.columnHeaderRow})({display:"flex"}),uUe=t=>{const{visibleColumns:e,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:s,columnHeaderFocus:o,columnGroupHeaderFocus:a,headerGroupingMaxDepth:l,columnMenuState:c,columnVisibility:u,columnGroupsHeaderStructure:d,hasOtherElementInTabSequence:h}=t,[f,p]=b.useState(""),[m,y]=b.useState(""),S=Zl(),w=Vr(),v=Wt(),k=ut(S,vo),P=ut(S,F4),T=ut(S,iK),_=ut(S,hf),E=ut(S,Y7e),I=ut(S,ew),R=ut(S,Vd),F=uK(_,E,I.left.length),B=k.columnsTotalWidth<k.viewportOuterSize.width;b.useEffect(()=>{S.current.columnHeadersContainerRef.current&&(S.current.columnHeadersContainerRef.current.scrollLeft=0)},[S]);const D=b.useCallback(W=>y(W.field),[]),A=b.useCallback(()=>y(""),[]),N=b.useCallback(W=>p(W.field),[]),L=b.useCallback(()=>p(""),[]),H=b.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),O=b.useMemo(()=>I.right.length?{firstColumnIndex:e.length-I.right.length,lastColumnIndex:e.length}:null,[I.right.length,e.length]);Ot(S,"columnResizeStart",D),Ot(S,"columnResizeStop",A),Ot(S,"columnHeaderDragStart",N),Ot(S,"columnHeaderDragEnd",L);const G=W=>{const{renderContext:oe=E,maxLastColumn:X=e.length}=W||{},K=oe.firstColumnIndex,Y=P?oe.lastColumnIndex:X;return{renderedColumns:e.slice(K,Y),firstColumnToRender:K,lastColumnToRender:Y}},j=(W,oe,X,K=!1)=>{const Y=(W==null?void 0:W.position)===ti.RIGHT,le=(W==null?void 0:W.position)===void 0,ie=I.right.length>0&&Y||I.right.length===0&&le,re=F-X;return C.jsxs(b.Fragment,{children:[le&&C.jsx("div",{role:"presentation",style:{width:re}}),oe,le&&C.jsx("div",{role:"presentation",className:Ae(fe.filler,K&&fe["filler--borderBottom"])}),ie&&C.jsx(z4,{header:!0,pinnedRight:Y,borderBottom:K,borderTop:!1})]})},J=({pinnedPosition:W,columnIndex:oe,computedWidth:X})=>{let K;const Y=W===ti.LEFT,le=W===ti.RIGHT;if(Y||le){const ie=V4(W,X,oe,_,k);let re=Y?"left":"right";w&&(re=Y?"right":"left"),W==="left"&&(K={[re]:ie}),W==="right"&&(K={[re]:ie})}return K},Z=(W,oe={})=>{const{renderedColumns:X,firstColumnToRender:K}=G(W),Y=[];for(let le=0;le<X.length;le+=1){const ie=X[le],re=K+le,se=re===0,ue=i!==null&&i.field===ie.field||se&&!h?0:-1,we=o!==null&&o.field===ie.field,Pe=c.open&&c.field===ie.field,te=W==null?void 0:W.position,pe=J({pinnedPosition:te,columnIndex:re,computedWidth:ie.computedWidth}),ge=te===ti.RIGHT?X[le-1]:X[le+1],Te=ge?o!==null&&o.field===ge.field:!1,Re=re+1===_.length-I.right.length;Y.push(C.jsx(eVe,ee({},n[ie.field],{columnMenuOpen:Pe,filterItemsCounter:r[ie.field]&&r[ie.field].length,headerHeight:k.headerHeight,isDragging:ie.field===f,colDef:ie,colIndex:re,isResizing:m===ie.field,isLast:re===_.length-1,hasFocus:we,tabIndex:ue,pinnedPosition:te,style:pe,indexInSection:le,sectionLength:X.length,gridHasFiller:B,isLastUnpinned:Re,isSiblingFocused:Te},oe),ie.field))}return j(W,Y,0)},ae=()=>C.jsxs(P$,{role:"row","aria-rowindex":l+1,ownerState:v,className:fe["row--borderBottom"],children:[H&&Z({position:ti.LEFT,renderContext:H,maxLastColumn:H.lastColumnIndex},{disableReorder:!0}),Z({renderContext:E,maxLastColumn:e.length-I.right.length}),O&&Z({position:ti.RIGHT,renderContext:O,maxLastColumn:O.lastColumnIndex},{disableReorder:!0,separatorSide:H4.Left})]}),z=({depth:W,params:oe})=>{var he,Se;const X=G(oe);if(X.renderedColumns.length===0)return null;const{firstColumnToRender:K,lastColumnToRender:Y}=X,le=d[W],ie=e[K].field,re=((he=T[ie])==null?void 0:he[W])??null,se=le.findIndex(({groupId:Ce,columnFields:$e})=>Ce===re&&$e.includes(ie)),ue=e[Y-1].field,we=((Se=T[ue])==null?void 0:Se[W])??null,Pe=le.findIndex(({groupId:Ce,columnFields:$e})=>Ce===we&&$e.includes(ue)),te=le.slice(se,Pe+1).map(Ce=>ee({},Ce,{columnFields:Ce.columnFields.filter($e=>u[$e]!==!1)})).filter(Ce=>Ce.columnFields.length>0),pe=te[0].columnFields.indexOf(ie),Te=te[0].columnFields.slice(0,pe).reduce((Ce,$e)=>{const ke=R[$e];return Ce+(ke.computedWidth??0)},0);let Re=K;const Ie=te.map(({groupId:Ce,columnFields:$e},ke)=>{const me=a!==null&&a.depth===W&&$e.includes(a.field),ye=s!==null&&s.depth===W&&$e.includes(s.field)?0:-1,Ee={groupId:Ce,width:$e.reduce((Fe,He)=>Fe+R[He].computedWidth,0),fields:$e,colIndex:Re,hasFocus:me,tabIndex:ye},We=oe.position,je=J({pinnedPosition:We,columnIndex:Re,computedWidth:Ee.width});Re+=$e.length;let et=ke;return We==="left"&&(et=Re-1),C.jsx(cUe,{groupId:Ce,width:Ee.width,fields:Ee.fields,colIndex:Ee.colIndex,depth:W,isLastColumn:Ee.colIndex===e.length-Ee.fields.length,maxDepth:l,height:k.groupHeaderHeight,hasFocus:me,tabIndex:ye,pinnedPosition:We,style:je,indexInSection:et,sectionLength:le.length,gridHasFiller:B},ke)});return j(oe,Ie,Te)};return{renderContext:E,leftRenderContext:H,rightRenderContext:O,pinnedColumns:I,visibleColumns:e,getCellOffsetStyle:J,getFillers:j,getColumnHeadersRow:ae,getColumnsToRender:G,getColumnGroupHeadersRows:()=>{if(l===0)return null;const W=[];for(let oe=0;oe<l;oe+=1)W.push(C.jsxs(P$,{role:"row","aria-rowindex":oe+1,ownerState:v,children:[H&&z({depth:oe,params:{position:ti.LEFT,renderContext:H,maxLastColumn:H.lastColumnIndex}}),z({depth:oe,params:{renderContext:E}}),O&&z({depth:oe,params:{position:ti.RIGHT,renderContext:O,maxLastColumn:O.lastColumnIndex}})]},oe));return W},isDragging:!!f,getInnerProps:()=>({role:"rowgroup"})}},dUe=["className"],hUe=t=>{const{classes:e}=t;return nr({root:["columnHeaders"]},rr,e)},fUe=Hr("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(t,e)=>e.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),pUe=b.forwardRef(function(e,n){const{className:r}=e,i=rn(e,dUe),s=Wt(),o=hUe(s);return C.jsx(fUe,ee({ref:n,className:Ae(o.root,r),ownerState:s},i,{role:"presentation"}))}),gUe=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],mUe=b.forwardRef(function(e,n){const{visibleColumns:r,sortColumnLookup:i,filterColumnLookup:s,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p}=e,m=rn(e,gUe),{getInnerProps:y,getColumnHeadersRow:S,getColumnGroupHeadersRows:w}=uUe({visibleColumns:r,sortColumnLookup:i,filterColumnLookup:s,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p});return C.jsxs(pUe,ee({ref:n},m,y(),{children:[w(),S()]}))}),yUe=df(mUe);function bUe(t){return null}function vUe(t){return null}const wUe=b.forwardRef(function(e,n){const i=Jn().current.getLocaleText("noResultsOverlayLabel");return C.jsx($4,ee({ref:n},e,{children:i}))}),xUe=["sortingOrder"],SUe=b.memo(function(e){const{sortingOrder:n}=e,r=rn(e,xUe),i=Wt(),[s]=n,o=s==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return o?C.jsx(o,ee({},r)):null}),CUe=["native"];function kUe(t){let{native:e}=t,n=rn(t,CUe);return e?C.jsx("option",ee({},n)):C.jsx(Ca,ee({},n))}const TUe={booleanCellTrueIcon:SVe,booleanCellFalseIcon:eM,columnMenuIcon:bVe,openFilterButtonIcon:dVe,filterPanelDeleteIcon:eM,columnFilteredIcon:s$,columnSelectorIcon:fVe,columnUnsortedIcon:SUe,columnSortedAscendingIcon:t$,columnSortedDescendingIcon:n$,columnResizeIcon:pVe,densityCompactIcon:gVe,densityStandardIcon:mVe,densityComfortableIcon:yVe,exportIcon:xVe,moreActionsIcon:CVe,treeDataCollapseIcon:i$,treeDataExpandIcon:r$,groupingCriteriaCollapseIcon:i$,groupingCriteriaExpandIcon:r$,detailPanelExpandIcon:o$,detailPanelCollapseIcon:vVe,rowReorderIcon:a$,quickFilterIcon:hVe,quickFilterClearIcon:eM,columnMenuHideIcon:kVe,columnMenuSortAscendingIcon:t$,columnMenuSortDescendingIcon:n$,columnMenuFilterIcon:s$,columnMenuManageColumnsIcon:TVe,columnMenuClearIcon:PVe,loadIcon:wVe,filterPanelAddIcon:o$,filterPanelRemoveAllIcon:_Ve,columnReorderIcon:a$},PUe=ee({},TUe,{baseBadge:gme,baseCheckbox:b1e,baseDivider:ME,baseTextField:Tp,baseFormControl:IN,baseSelect:Rv,baseButton:ni,baseIconButton:Ei,baseInputAdornment:RN,baseTooltip:eSe,basePopper:Ld,baseInputLabel:LN,baseSelectOption:kUe,baseChip:EN}),_Ue=PUe,MUe=ee({},_Ue,{cell:uHe,skeletonCell:yHe,columnHeaderFilterIconButton:uVe,columnHeaderSortIcon:lVe,columnMenu:GVe,columnHeaders:yUe,detailPanels:bUe,footer:$ze,footerRowCount:nWe,toolbar:null,pinnedRows:vUe,loadingOverlay:Yze,noResultsOverlay:wUe,noRowsOverlay:Xze,pagination:Jze,filterPanel:_ze,columnsPanel:nze,columnsManagement:_K,panel:aze,row:aWe});function EUe({defaultSlots:t,slots:e}){const n=e;if(!n||Object.keys(n).length===0)return t;const r=ee({},t);return Object.keys(n).forEach(i=>{const s=i;n[s]!==void 0&&(r[s]=n[s])}),r}function BUe(t){const e=Object.keys(t);if(!e.some(i=>i.startsWith("aria-")||i.startsWith("data-")))return t;const n={},r=t.forwardedProps??{};for(let i=0;i<e.length;i+=1){const s=e[i];s.startsWith("aria-")||s.startsWith("data-")?r[s]=t[s]:n[s]=t[s]}return n.forwardedProps=r,n}function NUe(t){return b.useMemo(()=>BUe(t),[t])}const IUe={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},AUe=MUe,RUe=t=>{const e=NUe(ft({props:t,name:"MuiDataGrid"})),n=b.useMemo(()=>ee({},HOe,e.localeText),[e.localeText]),r=b.useMemo(()=>EUe({defaultSlots:AUe,slots:e.slots}),[e.slots]),i=b.useMemo(()=>Object.keys(A5).reduce((s,o)=>(s[o]=e[o]??A5[o],s),{}),[e]);return b.useMemo(()=>ee({},e,i,{localeText:n,slots:r},IUe),[e,n,r,i])},LUe={hooks:{useGridAriaAttributes:lWe,useGridRowAriaAttributes:cWe}},DK=b.forwardRef(function(e,n){const r=RUe(e),i=aUe(r.apiRef,r);return C.jsx(uWe,{privateApiRef:i,configuration:LUe,props:r,children:C.jsxs(_He,ee({className:r.className,style:r.style,sx:r.sx,ref:n},r.forwardedProps,{children:[C.jsx(Vze,{}),C.jsx(V$e,{}),C.jsx(z$e,{})]}))})}),DUe=b.memo(DK);DK.propTypes={apiRef:q.shape({current:q.object.isRequired}),"aria-label":q.string,"aria-labelledby":q.string,autoHeight:q.bool,autoPageSize:q.bool,autosizeOnMount:q.bool,autosizeOptions:q.shape({columns:q.arrayOf(q.string),expand:q.bool,includeHeaders:q.bool,includeOutliers:q.bool,outliersFactor:q.number}),cellModesModel:q.object,checkboxSelection:q.bool,classes:q.object,clipboardCopyCellDelimiter:q.string,columnBufferPx:q.number,columnGroupHeaderHeight:q.number,columnGroupingModel:q.arrayOf(q.object),columnHeaderHeight:q.number,columns:q.arrayOf(q.object).isRequired,columnVisibilityModel:q.object,density:q.oneOf(["comfortable","compact","standard"]),disableAutosize:q.bool,disableColumnFilter:q.bool,disableColumnMenu:q.bool,disableColumnResize:q.bool,disableColumnSelector:q.bool,disableColumnSorting:q.bool,disableDensitySelector:q.bool,disableEval:q.bool,disableMultipleRowSelection:q.bool,disableRowSelectionOnClick:q.bool,disableVirtualization:q.bool,editMode:q.oneOf(["cell","row"]),estimatedRowCount:q.number,experimentalFeatures:q.shape({warnIfFocusStateIsNotSynced:q.bool}),filterDebounceMs:q.number,filterMode:q.oneOf(["client","server"]),filterModel:q.shape({items:q.arrayOf(q.shape({field:q.string.isRequired,id:q.oneOfType([q.number,q.string]),operator:q.string.isRequired,value:q.any})).isRequired,logicOperator:q.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:q.bool,quickFilterLogicOperator:q.oneOf(["and","or"]),quickFilterValues:q.array}),forwardedProps:q.object,getCellClassName:q.func,getDetailPanelContent:q.func,getEstimatedRowHeight:q.func,getRowClassName:q.func,getRowHeight:q.func,getRowId:q.func,getRowSpacing:q.func,hideFooter:q.bool,hideFooterPagination:q.bool,hideFooterSelectedRowCount:q.bool,ignoreDiacritics:q.bool,ignoreValueFormatterDuringExport:q.oneOfType([q.shape({clipboardExport:q.bool,csvExport:q.bool}),q.bool]),indeterminateCheckboxAction:q.oneOf(["deselect","select"]),initialState:q.object,isCellEditable:q.func,isRowSelectable:q.func,keepNonExistentRowsSelected:q.bool,loading:q.bool,localeText:q.object,logger:q.shape({debug:q.func.isRequired,error:q.func.isRequired,info:q.func.isRequired,warn:q.func.isRequired}),logLevel:q.oneOf(["debug","error","info","warn",!1]),nonce:q.string,onCellClick:q.func,onCellDoubleClick:q.func,onCellEditStart:q.func,onCellEditStop:q.func,onCellKeyDown:q.func,onCellModesModelChange:q.func,onClipboardCopy:q.func,onColumnHeaderClick:q.func,onColumnHeaderContextMenu:q.func,onColumnHeaderDoubleClick:q.func,onColumnHeaderEnter:q.func,onColumnHeaderLeave:q.func,onColumnHeaderOut:q.func,onColumnHeaderOver:q.func,onColumnOrderChange:q.func,onColumnResize:q.func,onColumnVisibilityModelChange:q.func,onColumnWidthChange:q.func,onDensityChange:q.func,onFilterModelChange:q.func,onMenuClose:q.func,onMenuOpen:q.func,onPaginationMetaChange:q.func,onPaginationModelChange:q.func,onPreferencePanelClose:q.func,onPreferencePanelOpen:q.func,onProcessRowUpdateError:q.func,onResize:q.func,onRowClick:q.func,onRowCountChange:q.func,onRowDoubleClick:q.func,onRowEditStart:q.func,onRowEditStop:q.func,onRowModesModelChange:q.func,onRowSelectionModelChange:q.func,onSortModelChange:q.func,onStateChange:q.func,pageSizeOptions:q.arrayOf(q.oneOfType([q.number,q.shape({label:q.string.isRequired,value:q.number.isRequired})]).isRequired),pagination:q.oneOf([!0]),paginationMeta:q.shape({hasNextPage:q.bool}),paginationMode:q.oneOf(["client","server"]),paginationModel:q.shape({page:q.number.isRequired,pageSize:q.number.isRequired}),processRowUpdate:q.func,resizeThrottleMs:q.number,rowBufferPx:q.number,rowCount:q.number,rowHeight:q.number,rowModesModel:q.object,rowPositionsDebounceMs:q.number,rows:q.arrayOf(q.object),rowSelection:q.bool,rowSelectionModel:q.oneOfType([q.arrayOf(q.oneOfType([q.number,q.string]).isRequired),q.number,q.string]),rowSpacingType:q.oneOf(["border","margin"]),scrollbarSize:q.number,showCellVerticalBorder:q.bool,showColumnVerticalBorder:q.bool,slotProps:q.object,slots:q.object,sortingMode:q.oneOf(["client","server"]),sortingOrder:q.arrayOf(q.oneOf(["asc","desc"])),sortModel:q.arrayOf(q.shape({field:q.string.isRequired,sort:q.oneOf(["asc","desc"])})),sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),unstable_rowSpanning:q.bool};function FUe(t){return console.log(t),C.jsx(OHe,{children:C.jsx(Rze,{csvOptions:t.csvOptions})})}function OUe(){const[t,e]=b.useState(1e3),[n,r]=b.useState(!0),i=Object.values(jn);var s=HY(LI(t,n?o5.A:o5.B)).map((a,l)=>({id:l,square:i[l],timesLanded:a,percentage:`${Math.floor(a/t*1e3)/10}%`}));const o=[{field:"square",headerName:"Square",width:200},{field:"timesLanded",headerName:"Count",width:80},{field:"percentage",headerName:"%",width:80}];return C.jsxs(C.Fragment,{children:[C.jsx(DUe,{slotProps:{toolbar:{csvOptions:{fileName:`${t} ${n?"A":"B"}`}}},slots:{toolbar:FUe},columns:o,rows:s}),"Sample",C.jsx(Tp,{type:"number",onChange:a=>e(Number(a.currentTarget.value))}),"Use Strategy A",C.jsx(YG,{checked:n,onChange:(a,l)=>r(l)})]})}function $Ue(){const[t,e]=b.useState(1),n=HY(LI(1e3)),r=Object.values(jn),i=n.map((s,o)=>({square:r[o],timesLanded:s}));return i.sort((s,o)=>o.timesLanded-s.timesLanded),C.jsxs(C.Fragment,{children:[C.jsxs(QG,{value:t,onChange:(s,o)=>e(o),children:[C.jsx(NE,{label:"Table",value:1}),C.jsx(NE,{label:"Chart",value:2})]}),t===2&&C.jsx(x4,{margin:{left:200},dataset:i,series:[{dataKey:"timesLanded"}],yAxis:[{scaleType:"band",dataKey:"square"}],layout:"horizontal",height:800}),t===1&&C.jsx(OUe,{})]})}function VS(t,e,n){const r=[];for(let s=0;s<101;s++)r.push({percentage:s/100,amount:0});for(let s=0;s<t;s++){var i=0;for(let o=0;o<n;o++)Math.random()<e&&i++;r[Math.round(i/n*100)]={...r[Math.round(i/n*100)],amount:r[Math.round(i/n*100)].amount+1}}return r}function HUe(t){return Math.round(t*1e4)/100+"%"}function VUe(){const[t,e]=b.useState([]),[n,r]=b.useState(0),[i,s]=b.useState(.5),[o,a]=b.useState(10),[l,c]=b.useState(0),u=1e3,d=.05,h=1e4,f=l/o,p=n/h;return b.useEffect(()=>{let m=0;t.filter(y=>f>i?y.percentage>=f:y.percentage<=f).forEach(y=>m+=y.amount),r(m)},[f,i,t]),C.jsx(Dd,{title:"Math",children:C.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center",padding:"10px"},children:[C.jsx(x4,{dataset:t,xAxis:[{scaleType:"band",dataKey:"percentage",colorMap:{type:"piecewise",thresholds:f>i?[0,f]:[f+1e-7],colors:["red","blue","red"]}}],series:[{dataKey:"amount"}],width:800,height:300}),C.jsxs("div",{style:{display:"flex",textAlign:"center"},children:[C.jsxs("div",{style:{margin:20},children:[C.jsxs(Tr,{fontSize:25,children:[Math.round(i*100),"%"]}),C.jsx(Oh,{max:1,step:.01,value:i,onChange:(m,y)=>{s(y),VS(h,i,o)}}),"Null Hypothesis"]}),C.jsxs("div",{style:{margin:20,width:400},children:[C.jsx(Tr,{fontSize:25,children:o}),C.jsx(Oh,{min:1,max:u,step:1,value:o,onChange:(m,y)=>{e(VS(h,i,o)),a(y)},onChangeCommitted:()=>{l>o&&c(o)}}),"Sample size",C.jsxs("div",{style:{width:o/u*400},children:[C.jsx(Tr,{fontSize:25,children:l}),C.jsx(Oh,{max:o,step:1,value:l,onChange:(m,y)=>c(y)}),"Successes"]})]})]}),C.jsxs("div",{children:["Out of the ",h," simulations run, ",n," ended with a sample proportion of ",Math.round(f*1e3)/10,"% or"," ",f>i?"higher":"lower"]}),C.jsxs("div",{children:["P-value is ",p," "]}),"That is",p<d?` less than the threshold of ${d} and is therefore statistically significant`:` more than the threshold of ${d} and is therefore NOT statistically significant`,C.jsx(ni,{onClick:()=>e(VS(h,i,o)),children:"Generate"})]})})}function zUe({questions:t}){const{control:e,handleSubmit:n}=Rj(),[r,i]=b.useState(null);function s(o){i(t.every(a=>Number(o[a.name])===a.correct))}return C.jsxs("div",{style:{display:"flex",flexDirection:"column",width:600},children:[t.map(o=>C.jsxs(C.Fragment,{children:[C.jsxs(Tr,{children:["What is the ",o.name,"? (Round to 2 decimals if necessary)"]}),C.jsxs("div",{children:[C.jsx(PS,{control:e,name:o.name,render:({field:a})=>C.jsx(Tp,{type:"number",value:a.value,onChange:a.onChange})}),C.jsx(WUe,{solution:o.correct})]})]})),C.jsx(ni,{onClick:n(s),children:"Submit"}),r===!0&&C.jsx(HN,{style:{color:"green"}}),r===!1&&C.jsx(Fm,{style:{color:"red"}})]})}function WUe({solution:t}){const[e,n]=b.useState(!1);return C.jsxs(C.Fragment,{children:[e===!1&&C.jsx(ni,{onClick:()=>n(!0),style:{textTransform:"lowercase"},children:"View solution"}),e===!0&&C.jsx(C.Fragment,{children:t})]})}function GUe(){const t=["people","birds","stuffed animals","clouds","girls named Vivian","clowns"],e=["hairy","white","just straight ugly","edible","downright evil","mentally insane"],n=["inside your bathroom","to the park","to Mexico","to hell","to a Trump rally","to highschool prom"],r=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)],s=n[Math.floor(Math.random()*n.length)],o=Math.round(Math.random()*1e3),a=Math.round(Math.random()*o),l=a/o,c=Math.min(100,Math.max(0,Math.round(((Math.random()-.5)/10+l)*100)/100)),u=VS(1e3,c,o);var d=0;u.filter(f=>l>c?f.percentage>=l:f.percentage<=l).forEach(f=>d+=f.amount);const h=Math.round(d/1e3*100)/100;return C.jsx(Dd,{title:"Math Quiz",children:C.jsxs("div",{style:{padding:15},children:[C.jsxs(Tr,{children:["It is common knowledge that ",HUe(c)," of ",r," ","are ",i,". However, you went ",s," and saw ",o," ",r,". You noticed that ",a," were ",i,". Below is a chart that represents the null distribution."]}),C.jsx(x4,{dataset:u,xAxis:[{scaleType:"band",dataKey:"percentage"}],series:[{dataKey:"amount"}],width:800,height:300}),C.jsx(zUe,{questions:[{name:"sample proportion",correct:Math.round(l*100)/100},{name:"null value",correct:Math.round(c*100)/100},{name:"p-value",correct:h}]})]})})}var FK={exports:{}},my={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */my.exports;var _$;function UUe(){return _$||(_$=1,function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,h=2,f=4,p=1,m=2,y=1,S=2,w=4,v=8,k=16,P=32,T=64,_=128,E=256,I=512,R=30,F="...",B=800,D=16,A=1,N=2,L=3,H=1/0,O=9007199254740991,G=17976931348623157e292,j=NaN,J=4294967295,Z=J-1,ae=J>>>1,z=[["ary",_],["bind",y],["bindKey",S],["curry",v],["curryRight",k],["flip",I],["partial",P],["partialRight",T],["rearg",E]],$="[object Arguments]",W="[object Array]",oe="[object AsyncFunction]",X="[object Boolean]",K="[object Date]",Y="[object DOMException]",le="[object Error]",ie="[object Function]",re="[object GeneratorFunction]",se="[object Map]",ue="[object Number]",we="[object Null]",Pe="[object Object]",te="[object Promise]",pe="[object Proxy]",ge="[object RegExp]",Te="[object Set]",Re="[object String]",Ie="[object Symbol]",he="[object Undefined]",Se="[object WeakMap]",Ce="[object WeakSet]",$e="[object ArrayBuffer]",ke="[object DataView]",me="[object Float32Array]",ye="[object Float64Array]",Ee="[object Int8Array]",We="[object Int16Array]",je="[object Int32Array]",et="[object Uint8Array]",Fe="[object Uint8ClampedArray]",He="[object Uint16Array]",ot="[object Uint32Array]",pt=/\b__p \+= '';/g,It=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jt=/&(?:amp|lt|gt|quot|#39);/g,Fn=/[&<>"']/g,_e=RegExp(Jt.source),Ne=RegExp(Fn.source),Ye=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,en=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,Ut=RegExp(yt.source),kn=/^\s+/,Yt=/\s/,Rn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$n=/\{\n\/\* \[wrapped with (.+)\] \*/,Xr=/,? & /,vr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lr=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Tt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,jt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Ln=/^(?:0|[1-9]\d*)$/,ms=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,Sr=/['\n\r\u2028\u2029\\]/g,es="\\ud800-\\udfff",Ud="\\u0300-\\u036f",yf="\\ufe20-\\ufe2f",Zm="\\u20d0-\\u20ff",ow=Ud+yf+Zm,aw="\\u2700-\\u27bf",lw="a-z\\xdf-\\xf6\\xf8-\\xff",e1="\\xac\\xb1\\xd7\\xf7",_Q="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",MQ="\\u2000-\\u206f",EQ=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",b6="A-Z\\xc0-\\xd6\\xd8-\\xde",v6="\\ufe0e\\ufe0f",w6=e1+_Q+MQ+EQ,tP="[']",BQ="["+es+"]",x6="["+w6+"]",cw="["+ow+"]",S6="\\d+",NQ="["+aw+"]",C6="["+lw+"]",k6="[^"+es+w6+S6+aw+lw+b6+"]",nP="\\ud83c[\\udffb-\\udfff]",IQ="(?:"+cw+"|"+nP+")",T6="[^"+es+"]",rP="(?:\\ud83c[\\udde6-\\uddff]){2}",iP="[\\ud800-\\udbff][\\udc00-\\udfff]",n0="["+b6+"]",P6="\\u200d",_6="(?:"+C6+"|"+k6+")",AQ="(?:"+n0+"|"+k6+")",M6="(?:"+tP+"(?:d|ll|m|re|s|t|ve))?",E6="(?:"+tP+"(?:D|LL|M|RE|S|T|VE))?",B6=IQ+"?",N6="["+v6+"]?",RQ="(?:"+P6+"(?:"+[T6,rP,iP].join("|")+")"+N6+B6+")*",LQ="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DQ="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",I6=N6+B6+RQ,FQ="(?:"+[NQ,rP,iP].join("|")+")"+I6,OQ="(?:"+[T6+cw+"?",cw,rP,iP,BQ].join("|")+")",$Q=RegExp(tP,"g"),HQ=RegExp(cw,"g"),sP=RegExp(nP+"(?="+nP+")|"+OQ+I6,"g"),VQ=RegExp([n0+"?"+C6+"+"+M6+"(?="+[x6,n0,"$"].join("|")+")",AQ+"+"+E6+"(?="+[x6,n0+_6,"$"].join("|")+")",n0+"?"+_6+"+"+M6,n0+"+"+E6,DQ,LQ,S6,FQ].join("|"),"g"),zQ=RegExp("["+P6+es+ow+v6+"]"),WQ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,GQ=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],UQ=-1,pi={};pi[me]=pi[ye]=pi[Ee]=pi[We]=pi[je]=pi[et]=pi[Fe]=pi[He]=pi[ot]=!0,pi[$]=pi[W]=pi[$e]=pi[X]=pi[ke]=pi[K]=pi[le]=pi[ie]=pi[se]=pi[ue]=pi[Pe]=pi[ge]=pi[Te]=pi[Re]=pi[Se]=!1;var li={};li[$]=li[W]=li[$e]=li[ke]=li[X]=li[K]=li[me]=li[ye]=li[Ee]=li[We]=li[je]=li[se]=li[ue]=li[Pe]=li[ge]=li[Te]=li[Re]=li[Ie]=li[et]=li[Fe]=li[He]=li[ot]=!0,li[le]=li[ie]=li[Se]=!1;var jQ={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},YQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XQ={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qQ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},KQ=parseFloat,QQ=parseInt,A6=typeof Mo=="object"&&Mo&&Mo.Object===Object&&Mo,JQ=typeof self=="object"&&self&&self.Object===Object&&self,io=A6||JQ||Function("return this")(),oP=e&&!e.nodeType&&e,bf=oP&&!0&&t&&!t.nodeType&&t,R6=bf&&bf.exports===oP,aP=R6&&A6.process,ol=function(){try{var Le=bf&&bf.require&&bf.require("util").types;return Le||aP&&aP.binding&&aP.binding("util")}catch{}}(),L6=ol&&ol.isArrayBuffer,D6=ol&&ol.isDate,F6=ol&&ol.isMap,O6=ol&&ol.isRegExp,$6=ol&&ol.isSet,H6=ol&&ol.isTypedArray;function Ba(Le,st,Ke){switch(Ke.length){case 0:return Le.call(st);case 1:return Le.call(st,Ke[0]);case 2:return Le.call(st,Ke[0],Ke[1]);case 3:return Le.call(st,Ke[0],Ke[1],Ke[2])}return Le.apply(st,Ke)}function ZQ(Le,st,Ke,Xt){for(var Hn=-1,Ir=Le==null?0:Le.length;++Hn<Ir;){var Es=Le[Hn];st(Xt,Es,Ke(Es),Le)}return Xt}function al(Le,st){for(var Ke=-1,Xt=Le==null?0:Le.length;++Ke<Xt&&st(Le[Ke],Ke,Le)!==!1;);return Le}function eJ(Le,st){for(var Ke=Le==null?0:Le.length;Ke--&&st(Le[Ke],Ke,Le)!==!1;);return Le}function V6(Le,st){for(var Ke=-1,Xt=Le==null?0:Le.length;++Ke<Xt;)if(!st(Le[Ke],Ke,Le))return!1;return!0}function jd(Le,st){for(var Ke=-1,Xt=Le==null?0:Le.length,Hn=0,Ir=[];++Ke<Xt;){var Es=Le[Ke];st(Es,Ke,Le)&&(Ir[Hn++]=Es)}return Ir}function uw(Le,st){var Ke=Le==null?0:Le.length;return!!Ke&&r0(Le,st,0)>-1}function lP(Le,st,Ke){for(var Xt=-1,Hn=Le==null?0:Le.length;++Xt<Hn;)if(Ke(st,Le[Xt]))return!0;return!1}function wi(Le,st){for(var Ke=-1,Xt=Le==null?0:Le.length,Hn=Array(Xt);++Ke<Xt;)Hn[Ke]=st(Le[Ke],Ke,Le);return Hn}function Yd(Le,st){for(var Ke=-1,Xt=st.length,Hn=Le.length;++Ke<Xt;)Le[Hn+Ke]=st[Ke];return Le}function cP(Le,st,Ke,Xt){var Hn=-1,Ir=Le==null?0:Le.length;for(Xt&&Ir&&(Ke=Le[++Hn]);++Hn<Ir;)Ke=st(Ke,Le[Hn],Hn,Le);return Ke}function tJ(Le,st,Ke,Xt){var Hn=Le==null?0:Le.length;for(Xt&&Hn&&(Ke=Le[--Hn]);Hn--;)Ke=st(Ke,Le[Hn],Hn,Le);return Ke}function uP(Le,st){for(var Ke=-1,Xt=Le==null?0:Le.length;++Ke<Xt;)if(st(Le[Ke],Ke,Le))return!0;return!1}var nJ=dP("length");function rJ(Le){return Le.split("")}function iJ(Le){return Le.match(vr)||[]}function z6(Le,st,Ke){var Xt;return Ke(Le,function(Hn,Ir,Es){if(st(Hn,Ir,Es))return Xt=Ir,!1}),Xt}function dw(Le,st,Ke,Xt){for(var Hn=Le.length,Ir=Ke+(Xt?1:-1);Xt?Ir--:++Ir<Hn;)if(st(Le[Ir],Ir,Le))return Ir;return-1}function r0(Le,st,Ke){return st===st?mJ(Le,st,Ke):dw(Le,W6,Ke)}function sJ(Le,st,Ke,Xt){for(var Hn=Ke-1,Ir=Le.length;++Hn<Ir;)if(Xt(Le[Hn],st))return Hn;return-1}function W6(Le){return Le!==Le}function G6(Le,st){var Ke=Le==null?0:Le.length;return Ke?fP(Le,st)/Ke:j}function dP(Le){return function(st){return st==null?n:st[Le]}}function hP(Le){return function(st){return Le==null?n:Le[st]}}function U6(Le,st,Ke,Xt,Hn){return Hn(Le,function(Ir,Es,si){Ke=Xt?(Xt=!1,Ir):st(Ke,Ir,Es,si)}),Ke}function oJ(Le,st){var Ke=Le.length;for(Le.sort(st);Ke--;)Le[Ke]=Le[Ke].value;return Le}function fP(Le,st){for(var Ke,Xt=-1,Hn=Le.length;++Xt<Hn;){var Ir=st(Le[Xt]);Ir!==n&&(Ke=Ke===n?Ir:Ke+Ir)}return Ke}function pP(Le,st){for(var Ke=-1,Xt=Array(Le);++Ke<Le;)Xt[Ke]=st(Ke);return Xt}function aJ(Le,st){return wi(st,function(Ke){return[Ke,Le[Ke]]})}function j6(Le){return Le&&Le.slice(0,K6(Le)+1).replace(kn,"")}function Na(Le){return function(st){return Le(st)}}function gP(Le,st){return wi(st,function(Ke){return Le[Ke]})}function t1(Le,st){return Le.has(st)}function Y6(Le,st){for(var Ke=-1,Xt=Le.length;++Ke<Xt&&r0(st,Le[Ke],0)>-1;);return Ke}function X6(Le,st){for(var Ke=Le.length;Ke--&&r0(st,Le[Ke],0)>-1;);return Ke}function lJ(Le,st){for(var Ke=Le.length,Xt=0;Ke--;)Le[Ke]===st&&++Xt;return Xt}var cJ=hP(jQ),uJ=hP(YQ);function dJ(Le){return"\\"+qQ[Le]}function hJ(Le,st){return Le==null?n:Le[st]}function i0(Le){return zQ.test(Le)}function fJ(Le){return WQ.test(Le)}function pJ(Le){for(var st,Ke=[];!(st=Le.next()).done;)Ke.push(st.value);return Ke}function mP(Le){var st=-1,Ke=Array(Le.size);return Le.forEach(function(Xt,Hn){Ke[++st]=[Hn,Xt]}),Ke}function q6(Le,st){return function(Ke){return Le(st(Ke))}}function Xd(Le,st){for(var Ke=-1,Xt=Le.length,Hn=0,Ir=[];++Ke<Xt;){var Es=Le[Ke];(Es===st||Es===u)&&(Le[Ke]=u,Ir[Hn++]=Ke)}return Ir}function hw(Le){var st=-1,Ke=Array(Le.size);return Le.forEach(function(Xt){Ke[++st]=Xt}),Ke}function gJ(Le){var st=-1,Ke=Array(Le.size);return Le.forEach(function(Xt){Ke[++st]=[Xt,Xt]}),Ke}function mJ(Le,st,Ke){for(var Xt=Ke-1,Hn=Le.length;++Xt<Hn;)if(Le[Xt]===st)return Xt;return-1}function yJ(Le,st,Ke){for(var Xt=Ke+1;Xt--;)if(Le[Xt]===st)return Xt;return Xt}function s0(Le){return i0(Le)?vJ(Le):nJ(Le)}function nc(Le){return i0(Le)?wJ(Le):rJ(Le)}function K6(Le){for(var st=Le.length;st--&&Yt.test(Le.charAt(st)););return st}var bJ=hP(XQ);function vJ(Le){for(var st=sP.lastIndex=0;sP.test(Le);)++st;return st}function wJ(Le){return Le.match(sP)||[]}function xJ(Le){return Le.match(VQ)||[]}var SJ=function Le(st){st=st==null?io:o0.defaults(io.Object(),st,o0.pick(io,GQ));var Ke=st.Array,Xt=st.Date,Hn=st.Error,Ir=st.Function,Es=st.Math,si=st.Object,yP=st.RegExp,CJ=st.String,ll=st.TypeError,fw=Ke.prototype,kJ=Ir.prototype,a0=si.prototype,pw=st["__core-js_shared__"],gw=kJ.toString,zr=a0.hasOwnProperty,TJ=0,Q6=function(){var g=/[^.]+$/.exec(pw&&pw.keys&&pw.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),mw=a0.toString,PJ=gw.call(si),_J=io._,MJ=yP("^"+gw.call(zr).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yw=R6?st.Buffer:n,qd=st.Symbol,bw=st.Uint8Array,J6=yw?yw.allocUnsafe:n,vw=q6(si.getPrototypeOf,si),Z6=si.create,eA=a0.propertyIsEnumerable,ww=fw.splice,tA=qd?qd.isConcatSpreadable:n,n1=qd?qd.iterator:n,vf=qd?qd.toStringTag:n,xw=function(){try{var g=kf(si,"defineProperty");return g({},"",{}),g}catch{}}(),EJ=st.clearTimeout!==io.clearTimeout&&st.clearTimeout,BJ=Xt&&Xt.now!==io.Date.now&&Xt.now,NJ=st.setTimeout!==io.setTimeout&&st.setTimeout,Sw=Es.ceil,Cw=Es.floor,bP=si.getOwnPropertySymbols,IJ=yw?yw.isBuffer:n,nA=st.isFinite,AJ=fw.join,RJ=q6(si.keys,si),Bs=Es.max,wo=Es.min,LJ=Xt.now,DJ=st.parseInt,rA=Es.random,FJ=fw.reverse,vP=kf(st,"DataView"),r1=kf(st,"Map"),wP=kf(st,"Promise"),l0=kf(st,"Set"),i1=kf(st,"WeakMap"),s1=kf(si,"create"),kw=i1&&new i1,c0={},OJ=Tf(vP),$J=Tf(r1),HJ=Tf(wP),VJ=Tf(l0),zJ=Tf(i1),Tw=qd?qd.prototype:n,o1=Tw?Tw.valueOf:n,iA=Tw?Tw.toString:n;function ce(g){if($i(g)&&!Un(g)&&!(g instanceof pr)){if(g instanceof cl)return g;if(zr.call(g,"__wrapped__"))return sR(g)}return new cl(g)}var u0=function(){function g(){}return function(x){if(!Ni(x))return{};if(Z6)return Z6(x);g.prototype=x;var M=new g;return g.prototype=n,M}}();function Pw(){}function cl(g,x){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}ce.templateSettings={escape:Ye,evaluate:ct,interpolate:Bt,variable:"",imports:{_:ce}},ce.prototype=Pw.prototype,ce.prototype.constructor=ce,cl.prototype=u0(Pw.prototype),cl.prototype.constructor=cl;function pr(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function WJ(){var g=new pr(this.__wrapped__);return g.__actions__=ea(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=ea(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=ea(this.__views__),g}function GJ(){if(this.__filtered__){var g=new pr(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function UJ(){var g=this.__wrapped__.value(),x=this.__dir__,M=Un(g),U=x<0,ne=M?g.length:0,de=ree(0,ne,this.__views__),xe=de.start,Me=de.end,De=Me-xe,at=U?Me:xe-1,lt=this.__iteratees__,mt=lt.length,Lt=0,sn=wo(De,this.__takeCount__);if(!M||!U&&ne==De&&sn==De)return MA(g,this.__actions__);var _n=[];e:for(;De--&&Lt<sn;){at+=x;for(var tr=-1,Mn=g[at];++tr<mt;){var cr=lt[tr],wr=cr.iteratee,Ra=cr.type,Fo=wr(Mn);if(Ra==N)Mn=Fo;else if(!Fo){if(Ra==A)continue e;break e}}_n[Lt++]=Mn}return _n}pr.prototype=u0(Pw.prototype),pr.prototype.constructor=pr;function wf(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var U=g[x];this.set(U[0],U[1])}}function jJ(){this.__data__=s1?s1(null):{},this.size=0}function YJ(g){var x=this.has(g)&&delete this.__data__[g];return this.size-=x?1:0,x}function XJ(g){var x=this.__data__;if(s1){var M=x[g];return M===l?n:M}return zr.call(x,g)?x[g]:n}function qJ(g){var x=this.__data__;return s1?x[g]!==n:zr.call(x,g)}function KJ(g,x){var M=this.__data__;return this.size+=this.has(g)?0:1,M[g]=s1&&x===n?l:x,this}wf.prototype.clear=jJ,wf.prototype.delete=YJ,wf.prototype.get=XJ,wf.prototype.has=qJ,wf.prototype.set=KJ;function Au(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var U=g[x];this.set(U[0],U[1])}}function QJ(){this.__data__=[],this.size=0}function JJ(g){var x=this.__data__,M=_w(x,g);if(M<0)return!1;var U=x.length-1;return M==U?x.pop():ww.call(x,M,1),--this.size,!0}function ZJ(g){var x=this.__data__,M=_w(x,g);return M<0?n:x[M][1]}function eZ(g){return _w(this.__data__,g)>-1}function tZ(g,x){var M=this.__data__,U=_w(M,g);return U<0?(++this.size,M.push([g,x])):M[U][1]=x,this}Au.prototype.clear=QJ,Au.prototype.delete=JJ,Au.prototype.get=ZJ,Au.prototype.has=eZ,Au.prototype.set=tZ;function Ru(g){var x=-1,M=g==null?0:g.length;for(this.clear();++x<M;){var U=g[x];this.set(U[0],U[1])}}function nZ(){this.size=0,this.__data__={hash:new wf,map:new(r1||Au),string:new wf}}function rZ(g){var x=$w(this,g).delete(g);return this.size-=x?1:0,x}function iZ(g){return $w(this,g).get(g)}function sZ(g){return $w(this,g).has(g)}function oZ(g,x){var M=$w(this,g),U=M.size;return M.set(g,x),this.size+=M.size==U?0:1,this}Ru.prototype.clear=nZ,Ru.prototype.delete=rZ,Ru.prototype.get=iZ,Ru.prototype.has=sZ,Ru.prototype.set=oZ;function xf(g){var x=-1,M=g==null?0:g.length;for(this.__data__=new Ru;++x<M;)this.add(g[x])}function aZ(g){return this.__data__.set(g,l),this}function lZ(g){return this.__data__.has(g)}xf.prototype.add=xf.prototype.push=aZ,xf.prototype.has=lZ;function rc(g){var x=this.__data__=new Au(g);this.size=x.size}function cZ(){this.__data__=new Au,this.size=0}function uZ(g){var x=this.__data__,M=x.delete(g);return this.size=x.size,M}function dZ(g){return this.__data__.get(g)}function hZ(g){return this.__data__.has(g)}function fZ(g,x){var M=this.__data__;if(M instanceof Au){var U=M.__data__;if(!r1||U.length<i-1)return U.push([g,x]),this.size=++M.size,this;M=this.__data__=new Ru(U)}return M.set(g,x),this.size=M.size,this}rc.prototype.clear=cZ,rc.prototype.delete=uZ,rc.prototype.get=dZ,rc.prototype.has=hZ,rc.prototype.set=fZ;function sA(g,x){var M=Un(g),U=!M&&Pf(g),ne=!M&&!U&&eh(g),de=!M&&!U&&!ne&&p0(g),xe=M||U||ne||de,Me=xe?pP(g.length,CJ):[],De=Me.length;for(var at in g)(x||zr.call(g,at))&&!(xe&&(at=="length"||ne&&(at=="offset"||at=="parent")||de&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||Ou(at,De)))&&Me.push(at);return Me}function oA(g){var x=g.length;return x?g[NP(0,x-1)]:n}function pZ(g,x){return Hw(ea(g),Sf(x,0,g.length))}function gZ(g){return Hw(ea(g))}function xP(g,x,M){(M!==n&&!ic(g[x],M)||M===n&&!(x in g))&&Lu(g,x,M)}function a1(g,x,M){var U=g[x];(!(zr.call(g,x)&&ic(U,M))||M===n&&!(x in g))&&Lu(g,x,M)}function _w(g,x){for(var M=g.length;M--;)if(ic(g[M][0],x))return M;return-1}function mZ(g,x,M,U){return Kd(g,function(ne,de,xe){x(U,ne,M(ne),xe)}),U}function aA(g,x){return g&&qc(x,Us(x),g)}function yZ(g,x){return g&&qc(x,na(x),g)}function Lu(g,x,M){x=="__proto__"&&xw?xw(g,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):g[x]=M}function SP(g,x){for(var M=-1,U=x.length,ne=Ke(U),de=g==null;++M<U;)ne[M]=de?n:n_(g,x[M]);return ne}function Sf(g,x,M){return g===g&&(M!==n&&(g=g<=M?g:M),x!==n&&(g=g>=x?g:x)),g}function ul(g,x,M,U,ne,de){var xe,Me=x&d,De=x&h,at=x&f;if(M&&(xe=ne?M(g,U,ne,de):M(g)),xe!==n)return xe;if(!Ni(g))return g;var lt=Un(g);if(lt){if(xe=see(g),!Me)return ea(g,xe)}else{var mt=xo(g),Lt=mt==ie||mt==re;if(eh(g))return NA(g,Me);if(mt==Pe||mt==$||Lt&&!ne){if(xe=De||Lt?{}:KA(g),!Me)return De?XZ(g,yZ(xe,g)):YZ(g,aA(xe,g))}else{if(!li[mt])return ne?g:{};xe=oee(g,mt,Me)}}de||(de=new rc);var sn=de.get(g);if(sn)return sn;de.set(g,xe),TR(g)?g.forEach(function(Mn){xe.add(ul(Mn,x,M,Mn,g,de))}):CR(g)&&g.forEach(function(Mn,cr){xe.set(cr,ul(Mn,x,M,cr,g,de))});var _n=at?De?zP:VP:De?na:Us,tr=lt?n:_n(g);return al(tr||g,function(Mn,cr){tr&&(cr=Mn,Mn=g[cr]),a1(xe,cr,ul(Mn,x,M,cr,g,de))}),xe}function bZ(g){var x=Us(g);return function(M){return lA(M,g,x)}}function lA(g,x,M){var U=M.length;if(g==null)return!U;for(g=si(g);U--;){var ne=M[U],de=x[ne],xe=g[ne];if(xe===n&&!(ne in g)||!de(xe))return!1}return!0}function cA(g,x,M){if(typeof g!="function")throw new ll(o);return p1(function(){g.apply(n,M)},x)}function l1(g,x,M,U){var ne=-1,de=uw,xe=!0,Me=g.length,De=[],at=x.length;if(!Me)return De;M&&(x=wi(x,Na(M))),U?(de=lP,xe=!1):x.length>=i&&(de=t1,xe=!1,x=new xf(x));e:for(;++ne<Me;){var lt=g[ne],mt=M==null?lt:M(lt);if(lt=U||lt!==0?lt:0,xe&&mt===mt){for(var Lt=at;Lt--;)if(x[Lt]===mt)continue e;De.push(lt)}else de(x,mt,U)||De.push(lt)}return De}var Kd=DA(Xc),uA=DA(kP,!0);function vZ(g,x){var M=!0;return Kd(g,function(U,ne,de){return M=!!x(U,ne,de),M}),M}function Mw(g,x,M){for(var U=-1,ne=g.length;++U<ne;){var de=g[U],xe=x(de);if(xe!=null&&(Me===n?xe===xe&&!Aa(xe):M(xe,Me)))var Me=xe,De=de}return De}function wZ(g,x,M,U){var ne=g.length;for(M=Zn(M),M<0&&(M=-M>ne?0:ne+M),U=U===n||U>ne?ne:Zn(U),U<0&&(U+=ne),U=M>U?0:_R(U);M<U;)g[M++]=x;return g}function dA(g,x){var M=[];return Kd(g,function(U,ne,de){x(U,ne,de)&&M.push(U)}),M}function so(g,x,M,U,ne){var de=-1,xe=g.length;for(M||(M=lee),ne||(ne=[]);++de<xe;){var Me=g[de];x>0&&M(Me)?x>1?so(Me,x-1,M,U,ne):Yd(ne,Me):U||(ne[ne.length]=Me)}return ne}var CP=FA(),hA=FA(!0);function Xc(g,x){return g&&CP(g,x,Us)}function kP(g,x){return g&&hA(g,x,Us)}function Ew(g,x){return jd(x,function(M){return $u(g[M])})}function Cf(g,x){x=Jd(x,g);for(var M=0,U=x.length;g!=null&&M<U;)g=g[Kc(x[M++])];return M&&M==U?g:n}function fA(g,x,M){var U=x(g);return Un(g)?U:Yd(U,M(g))}function Lo(g){return g==null?g===n?he:we:vf&&vf in si(g)?nee(g):gee(g)}function TP(g,x){return g>x}function xZ(g,x){return g!=null&&zr.call(g,x)}function SZ(g,x){return g!=null&&x in si(g)}function CZ(g,x,M){return g>=wo(x,M)&&g<Bs(x,M)}function PP(g,x,M){for(var U=M?lP:uw,ne=g[0].length,de=g.length,xe=de,Me=Ke(de),De=1/0,at=[];xe--;){var lt=g[xe];xe&&x&&(lt=wi(lt,Na(x))),De=wo(lt.length,De),Me[xe]=!M&&(x||ne>=120&&lt.length>=120)?new xf(xe&&lt):n}lt=g[0];var mt=-1,Lt=Me[0];e:for(;++mt<ne&&at.length<De;){var sn=lt[mt],_n=x?x(sn):sn;if(sn=M||sn!==0?sn:0,!(Lt?t1(Lt,_n):U(at,_n,M))){for(xe=de;--xe;){var tr=Me[xe];if(!(tr?t1(tr,_n):U(g[xe],_n,M)))continue e}Lt&&Lt.push(_n),at.push(sn)}}return at}function kZ(g,x,M,U){return Xc(g,function(ne,de,xe){x(U,M(ne),de,xe)}),U}function c1(g,x,M){x=Jd(x,g),g=eR(g,x);var U=g==null?g:g[Kc(hl(x))];return U==null?n:Ba(U,g,M)}function pA(g){return $i(g)&&Lo(g)==$}function TZ(g){return $i(g)&&Lo(g)==$e}function PZ(g){return $i(g)&&Lo(g)==K}function u1(g,x,M,U,ne){return g===x?!0:g==null||x==null||!$i(g)&&!$i(x)?g!==g&&x!==x:_Z(g,x,M,U,u1,ne)}function _Z(g,x,M,U,ne,de){var xe=Un(g),Me=Un(x),De=xe?W:xo(g),at=Me?W:xo(x);De=De==$?Pe:De,at=at==$?Pe:at;var lt=De==Pe,mt=at==Pe,Lt=De==at;if(Lt&&eh(g)){if(!eh(x))return!1;xe=!0,lt=!1}if(Lt&&!lt)return de||(de=new rc),xe||p0(g)?YA(g,x,M,U,ne,de):eee(g,x,De,M,U,ne,de);if(!(M&p)){var sn=lt&&zr.call(g,"__wrapped__"),_n=mt&&zr.call(x,"__wrapped__");if(sn||_n){var tr=sn?g.value():g,Mn=_n?x.value():x;return de||(de=new rc),ne(tr,Mn,M,U,de)}}return Lt?(de||(de=new rc),tee(g,x,M,U,ne,de)):!1}function MZ(g){return $i(g)&&xo(g)==se}function _P(g,x,M,U){var ne=M.length,de=ne,xe=!U;if(g==null)return!de;for(g=si(g);ne--;){var Me=M[ne];if(xe&&Me[2]?Me[1]!==g[Me[0]]:!(Me[0]in g))return!1}for(;++ne<de;){Me=M[ne];var De=Me[0],at=g[De],lt=Me[1];if(xe&&Me[2]){if(at===n&&!(De in g))return!1}else{var mt=new rc;if(U)var Lt=U(at,lt,De,g,x,mt);if(!(Lt===n?u1(lt,at,p|m,U,mt):Lt))return!1}}return!0}function gA(g){if(!Ni(g)||uee(g))return!1;var x=$u(g)?MJ:jt;return x.test(Tf(g))}function EZ(g){return $i(g)&&Lo(g)==ge}function BZ(g){return $i(g)&&xo(g)==Te}function NZ(g){return $i(g)&&jw(g.length)&&!!pi[Lo(g)]}function mA(g){return typeof g=="function"?g:g==null?ra:typeof g=="object"?Un(g)?vA(g[0],g[1]):bA(g):OR(g)}function MP(g){if(!f1(g))return RJ(g);var x=[];for(var M in si(g))zr.call(g,M)&&M!="constructor"&&x.push(M);return x}function IZ(g){if(!Ni(g))return pee(g);var x=f1(g),M=[];for(var U in g)U=="constructor"&&(x||!zr.call(g,U))||M.push(U);return M}function EP(g,x){return g<x}function yA(g,x){var M=-1,U=ta(g)?Ke(g.length):[];return Kd(g,function(ne,de,xe){U[++M]=x(ne,de,xe)}),U}function bA(g){var x=GP(g);return x.length==1&&x[0][2]?JA(x[0][0],x[0][1]):function(M){return M===g||_P(M,g,x)}}function vA(g,x){return jP(g)&&QA(x)?JA(Kc(g),x):function(M){var U=n_(M,g);return U===n&&U===x?r_(M,g):u1(x,U,p|m)}}function Bw(g,x,M,U,ne){g!==x&&CP(x,function(de,xe){if(ne||(ne=new rc),Ni(de))AZ(g,x,xe,M,Bw,U,ne);else{var Me=U?U(XP(g,xe),de,xe+"",g,x,ne):n;Me===n&&(Me=de),xP(g,xe,Me)}},na)}function AZ(g,x,M,U,ne,de,xe){var Me=XP(g,M),De=XP(x,M),at=xe.get(De);if(at){xP(g,M,at);return}var lt=de?de(Me,De,M+"",g,x,xe):n,mt=lt===n;if(mt){var Lt=Un(De),sn=!Lt&&eh(De),_n=!Lt&&!sn&&p0(De);lt=De,Lt||sn||_n?Un(Me)?lt=Me:ts(Me)?lt=ea(Me):sn?(mt=!1,lt=NA(De,!0)):_n?(mt=!1,lt=IA(De,!0)):lt=[]:g1(De)||Pf(De)?(lt=Me,Pf(Me)?lt=MR(Me):(!Ni(Me)||$u(Me))&&(lt=KA(De))):mt=!1}mt&&(xe.set(De,lt),ne(lt,De,U,de,xe),xe.delete(De)),xP(g,M,lt)}function wA(g,x){var M=g.length;if(M)return x+=x<0?M:0,Ou(x,M)?g[x]:n}function xA(g,x,M){x.length?x=wi(x,function(de){return Un(de)?function(xe){return Cf(xe,de.length===1?de[0]:de)}:de}):x=[ra];var U=-1;x=wi(x,Na(Tn()));var ne=yA(g,function(de,xe,Me){var De=wi(x,function(at){return at(de)});return{criteria:De,index:++U,value:de}});return oJ(ne,function(de,xe){return jZ(de,xe,M)})}function RZ(g,x){return SA(g,x,function(M,U){return r_(g,U)})}function SA(g,x,M){for(var U=-1,ne=x.length,de={};++U<ne;){var xe=x[U],Me=Cf(g,xe);M(Me,xe)&&d1(de,Jd(xe,g),Me)}return de}function LZ(g){return function(x){return Cf(x,g)}}function BP(g,x,M,U){var ne=U?sJ:r0,de=-1,xe=x.length,Me=g;for(g===x&&(x=ea(x)),M&&(Me=wi(g,Na(M)));++de<xe;)for(var De=0,at=x[de],lt=M?M(at):at;(De=ne(Me,lt,De,U))>-1;)Me!==g&&ww.call(Me,De,1),ww.call(g,De,1);return g}function CA(g,x){for(var M=g?x.length:0,U=M-1;M--;){var ne=x[M];if(M==U||ne!==de){var de=ne;Ou(ne)?ww.call(g,ne,1):RP(g,ne)}}return g}function NP(g,x){return g+Cw(rA()*(x-g+1))}function DZ(g,x,M,U){for(var ne=-1,de=Bs(Sw((x-g)/(M||1)),0),xe=Ke(de);de--;)xe[U?de:++ne]=g,g+=M;return xe}function IP(g,x){var M="";if(!g||x<1||x>O)return M;do x%2&&(M+=g),x=Cw(x/2),x&&(g+=g);while(x);return M}function ir(g,x){return qP(ZA(g,x,ra),g+"")}function FZ(g){return oA(g0(g))}function OZ(g,x){var M=g0(g);return Hw(M,Sf(x,0,M.length))}function d1(g,x,M,U){if(!Ni(g))return g;x=Jd(x,g);for(var ne=-1,de=x.length,xe=de-1,Me=g;Me!=null&&++ne<de;){var De=Kc(x[ne]),at=M;if(De==="__proto__"||De==="constructor"||De==="prototype")return g;if(ne!=xe){var lt=Me[De];at=U?U(lt,De,Me):n,at===n&&(at=Ni(lt)?lt:Ou(x[ne+1])?[]:{})}a1(Me,De,at),Me=Me[De]}return g}var kA=kw?function(g,x){return kw.set(g,x),g}:ra,$Z=xw?function(g,x){return xw(g,"toString",{configurable:!0,enumerable:!1,value:s_(x),writable:!0})}:ra;function HZ(g){return Hw(g0(g))}function dl(g,x,M){var U=-1,ne=g.length;x<0&&(x=-x>ne?0:ne+x),M=M>ne?ne:M,M<0&&(M+=ne),ne=x>M?0:M-x>>>0,x>>>=0;for(var de=Ke(ne);++U<ne;)de[U]=g[U+x];return de}function VZ(g,x){var M;return Kd(g,function(U,ne,de){return M=x(U,ne,de),!M}),!!M}function Nw(g,x,M){var U=0,ne=g==null?U:g.length;if(typeof x=="number"&&x===x&&ne<=ae){for(;U<ne;){var de=U+ne>>>1,xe=g[de];xe!==null&&!Aa(xe)&&(M?xe<=x:xe<x)?U=de+1:ne=de}return ne}return AP(g,x,ra,M)}function AP(g,x,M,U){var ne=0,de=g==null?0:g.length;if(de===0)return 0;x=M(x);for(var xe=x!==x,Me=x===null,De=Aa(x),at=x===n;ne<de;){var lt=Cw((ne+de)/2),mt=M(g[lt]),Lt=mt!==n,sn=mt===null,_n=mt===mt,tr=Aa(mt);if(xe)var Mn=U||_n;else at?Mn=_n&&(U||Lt):Me?Mn=_n&&Lt&&(U||!sn):De?Mn=_n&&Lt&&!sn&&(U||!tr):sn||tr?Mn=!1:Mn=U?mt<=x:mt<x;Mn?ne=lt+1:de=lt}return wo(de,Z)}function TA(g,x){for(var M=-1,U=g.length,ne=0,de=[];++M<U;){var xe=g[M],Me=x?x(xe):xe;if(!M||!ic(Me,De)){var De=Me;de[ne++]=xe===0?0:xe}}return de}function PA(g){return typeof g=="number"?g:Aa(g)?j:+g}function Ia(g){if(typeof g=="string")return g;if(Un(g))return wi(g,Ia)+"";if(Aa(g))return iA?iA.call(g):"";var x=g+"";return x=="0"&&1/g==-H?"-0":x}function Qd(g,x,M){var U=-1,ne=uw,de=g.length,xe=!0,Me=[],De=Me;if(M)xe=!1,ne=lP;else if(de>=i){var at=x?null:JZ(g);if(at)return hw(at);xe=!1,ne=t1,De=new xf}else De=x?[]:Me;e:for(;++U<de;){var lt=g[U],mt=x?x(lt):lt;if(lt=M||lt!==0?lt:0,xe&&mt===mt){for(var Lt=De.length;Lt--;)if(De[Lt]===mt)continue e;x&&De.push(mt),Me.push(lt)}else ne(De,mt,M)||(De!==Me&&De.push(mt),Me.push(lt))}return Me}function RP(g,x){return x=Jd(x,g),g=eR(g,x),g==null||delete g[Kc(hl(x))]}function _A(g,x,M,U){return d1(g,x,M(Cf(g,x)),U)}function Iw(g,x,M,U){for(var ne=g.length,de=U?ne:-1;(U?de--:++de<ne)&&x(g[de],de,g););return M?dl(g,U?0:de,U?de+1:ne):dl(g,U?de+1:0,U?ne:de)}function MA(g,x){var M=g;return M instanceof pr&&(M=M.value()),cP(x,function(U,ne){return ne.func.apply(ne.thisArg,Yd([U],ne.args))},M)}function LP(g,x,M){var U=g.length;if(U<2)return U?Qd(g[0]):[];for(var ne=-1,de=Ke(U);++ne<U;)for(var xe=g[ne],Me=-1;++Me<U;)Me!=ne&&(de[ne]=l1(de[ne]||xe,g[Me],x,M));return Qd(so(de,1),x,M)}function EA(g,x,M){for(var U=-1,ne=g.length,de=x.length,xe={};++U<ne;){var Me=U<de?x[U]:n;M(xe,g[U],Me)}return xe}function DP(g){return ts(g)?g:[]}function FP(g){return typeof g=="function"?g:ra}function Jd(g,x){return Un(g)?g:jP(g,x)?[g]:iR(Dr(g))}var zZ=ir;function Zd(g,x,M){var U=g.length;return M=M===n?U:M,!x&&M>=U?g:dl(g,x,M)}var BA=EJ||function(g){return io.clearTimeout(g)};function NA(g,x){if(x)return g.slice();var M=g.length,U=J6?J6(M):new g.constructor(M);return g.copy(U),U}function OP(g){var x=new g.constructor(g.byteLength);return new bw(x).set(new bw(g)),x}function WZ(g,x){var M=x?OP(g.buffer):g.buffer;return new g.constructor(M,g.byteOffset,g.byteLength)}function GZ(g){var x=new g.constructor(g.source,Oe.exec(g));return x.lastIndex=g.lastIndex,x}function UZ(g){return o1?si(o1.call(g)):{}}function IA(g,x){var M=x?OP(g.buffer):g.buffer;return new g.constructor(M,g.byteOffset,g.length)}function AA(g,x){if(g!==x){var M=g!==n,U=g===null,ne=g===g,de=Aa(g),xe=x!==n,Me=x===null,De=x===x,at=Aa(x);if(!Me&&!at&&!de&&g>x||de&&xe&&De&&!Me&&!at||U&&xe&&De||!M&&De||!ne)return 1;if(!U&&!de&&!at&&g<x||at&&M&&ne&&!U&&!de||Me&&M&&ne||!xe&&ne||!De)return-1}return 0}function jZ(g,x,M){for(var U=-1,ne=g.criteria,de=x.criteria,xe=ne.length,Me=M.length;++U<xe;){var De=AA(ne[U],de[U]);if(De){if(U>=Me)return De;var at=M[U];return De*(at=="desc"?-1:1)}}return g.index-x.index}function RA(g,x,M,U){for(var ne=-1,de=g.length,xe=M.length,Me=-1,De=x.length,at=Bs(de-xe,0),lt=Ke(De+at),mt=!U;++Me<De;)lt[Me]=x[Me];for(;++ne<xe;)(mt||ne<de)&&(lt[M[ne]]=g[ne]);for(;at--;)lt[Me++]=g[ne++];return lt}function LA(g,x,M,U){for(var ne=-1,de=g.length,xe=-1,Me=M.length,De=-1,at=x.length,lt=Bs(de-Me,0),mt=Ke(lt+at),Lt=!U;++ne<lt;)mt[ne]=g[ne];for(var sn=ne;++De<at;)mt[sn+De]=x[De];for(;++xe<Me;)(Lt||ne<de)&&(mt[sn+M[xe]]=g[ne++]);return mt}function ea(g,x){var M=-1,U=g.length;for(x||(x=Ke(U));++M<U;)x[M]=g[M];return x}function qc(g,x,M,U){var ne=!M;M||(M={});for(var de=-1,xe=x.length;++de<xe;){var Me=x[de],De=U?U(M[Me],g[Me],Me,M,g):n;De===n&&(De=g[Me]),ne?Lu(M,Me,De):a1(M,Me,De)}return M}function YZ(g,x){return qc(g,UP(g),x)}function XZ(g,x){return qc(g,XA(g),x)}function Aw(g,x){return function(M,U){var ne=Un(M)?ZQ:mZ,de=x?x():{};return ne(M,g,Tn(U,2),de)}}function d0(g){return ir(function(x,M){var U=-1,ne=M.length,de=ne>1?M[ne-1]:n,xe=ne>2?M[2]:n;for(de=g.length>3&&typeof de=="function"?(ne--,de):n,xe&&Do(M[0],M[1],xe)&&(de=ne<3?n:de,ne=1),x=si(x);++U<ne;){var Me=M[U];Me&&g(x,Me,U,de)}return x})}function DA(g,x){return function(M,U){if(M==null)return M;if(!ta(M))return g(M,U);for(var ne=M.length,de=x?ne:-1,xe=si(M);(x?de--:++de<ne)&&U(xe[de],de,xe)!==!1;);return M}}function FA(g){return function(x,M,U){for(var ne=-1,de=si(x),xe=U(x),Me=xe.length;Me--;){var De=xe[g?Me:++ne];if(M(de[De],De,de)===!1)break}return x}}function qZ(g,x,M){var U=x&y,ne=h1(g);function de(){var xe=this&&this!==io&&this instanceof de?ne:g;return xe.apply(U?M:this,arguments)}return de}function OA(g){return function(x){x=Dr(x);var M=i0(x)?nc(x):n,U=M?M[0]:x.charAt(0),ne=M?Zd(M,1).join(""):x.slice(1);return U[g]()+ne}}function h0(g){return function(x){return cP(DR(LR(x).replace($Q,"")),g,"")}}function h1(g){return function(){var x=arguments;switch(x.length){case 0:return new g;case 1:return new g(x[0]);case 2:return new g(x[0],x[1]);case 3:return new g(x[0],x[1],x[2]);case 4:return new g(x[0],x[1],x[2],x[3]);case 5:return new g(x[0],x[1],x[2],x[3],x[4]);case 6:return new g(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new g(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var M=u0(g.prototype),U=g.apply(M,x);return Ni(U)?U:M}}function KZ(g,x,M){var U=h1(g);function ne(){for(var de=arguments.length,xe=Ke(de),Me=de,De=f0(ne);Me--;)xe[Me]=arguments[Me];var at=de<3&&xe[0]!==De&&xe[de-1]!==De?[]:Xd(xe,De);if(de-=at.length,de<M)return WA(g,x,Rw,ne.placeholder,n,xe,at,n,n,M-de);var lt=this&&this!==io&&this instanceof ne?U:g;return Ba(lt,this,xe)}return ne}function $A(g){return function(x,M,U){var ne=si(x);if(!ta(x)){var de=Tn(M,3);x=Us(x),M=function(Me){return de(ne[Me],Me,ne)}}var xe=g(x,M,U);return xe>-1?ne[de?x[xe]:xe]:n}}function HA(g){return Fu(function(x){var M=x.length,U=M,ne=cl.prototype.thru;for(g&&x.reverse();U--;){var de=x[U];if(typeof de!="function")throw new ll(o);if(ne&&!xe&&Ow(de)=="wrapper")var xe=new cl([],!0)}for(U=xe?U:M;++U<M;){de=x[U];var Me=Ow(de),De=Me=="wrapper"?WP(de):n;De&&YP(De[0])&&De[1]==(_|v|P|E)&&!De[4].length&&De[9]==1?xe=xe[Ow(De[0])].apply(xe,De[3]):xe=de.length==1&&YP(de)?xe[Me]():xe.thru(de)}return function(){var at=arguments,lt=at[0];if(xe&&at.length==1&&Un(lt))return xe.plant(lt).value();for(var mt=0,Lt=M?x[mt].apply(this,at):lt;++mt<M;)Lt=x[mt].call(this,Lt);return Lt}})}function Rw(g,x,M,U,ne,de,xe,Me,De,at){var lt=x&_,mt=x&y,Lt=x&S,sn=x&(v|k),_n=x&I,tr=Lt?n:h1(g);function Mn(){for(var cr=arguments.length,wr=Ke(cr),Ra=cr;Ra--;)wr[Ra]=arguments[Ra];if(sn)var Fo=f0(Mn),La=lJ(wr,Fo);if(U&&(wr=RA(wr,U,ne,sn)),de&&(wr=LA(wr,de,xe,sn)),cr-=La,sn&&cr<at){var ns=Xd(wr,Fo);return WA(g,x,Rw,Mn.placeholder,M,wr,ns,Me,De,at-cr)}var sc=mt?M:this,Vu=Lt?sc[g]:g;return cr=wr.length,Me?wr=mee(wr,Me):_n&&cr>1&&wr.reverse(),lt&&De<cr&&(wr.length=De),this&&this!==io&&this instanceof Mn&&(Vu=tr||h1(Vu)),Vu.apply(sc,wr)}return Mn}function VA(g,x){return function(M,U){return kZ(M,g,x(U),{})}}function Lw(g,x){return function(M,U){var ne;if(M===n&&U===n)return x;if(M!==n&&(ne=M),U!==n){if(ne===n)return U;typeof M=="string"||typeof U=="string"?(M=Ia(M),U=Ia(U)):(M=PA(M),U=PA(U)),ne=g(M,U)}return ne}}function $P(g){return Fu(function(x){return x=wi(x,Na(Tn())),ir(function(M){var U=this;return g(x,function(ne){return Ba(ne,U,M)})})})}function Dw(g,x){x=x===n?" ":Ia(x);var M=x.length;if(M<2)return M?IP(x,g):x;var U=IP(x,Sw(g/s0(x)));return i0(x)?Zd(nc(U),0,g).join(""):U.slice(0,g)}function QZ(g,x,M,U){var ne=x&y,de=h1(g);function xe(){for(var Me=-1,De=arguments.length,at=-1,lt=U.length,mt=Ke(lt+De),Lt=this&&this!==io&&this instanceof xe?de:g;++at<lt;)mt[at]=U[at];for(;De--;)mt[at++]=arguments[++Me];return Ba(Lt,ne?M:this,mt)}return xe}function zA(g){return function(x,M,U){return U&&typeof U!="number"&&Do(x,M,U)&&(M=U=n),x=Hu(x),M===n?(M=x,x=0):M=Hu(M),U=U===n?x<M?1:-1:Hu(U),DZ(x,M,U,g)}}function Fw(g){return function(x,M){return typeof x=="string"&&typeof M=="string"||(x=fl(x),M=fl(M)),g(x,M)}}function WA(g,x,M,U,ne,de,xe,Me,De,at){var lt=x&v,mt=lt?xe:n,Lt=lt?n:xe,sn=lt?de:n,_n=lt?n:de;x|=lt?P:T,x&=~(lt?T:P),x&w||(x&=~(y|S));var tr=[g,x,ne,sn,mt,_n,Lt,Me,De,at],Mn=M.apply(n,tr);return YP(g)&&tR(Mn,tr),Mn.placeholder=U,nR(Mn,g,x)}function HP(g){var x=Es[g];return function(M,U){if(M=fl(M),U=U==null?0:wo(Zn(U),292),U&&nA(M)){var ne=(Dr(M)+"e").split("e"),de=x(ne[0]+"e"+(+ne[1]+U));return ne=(Dr(de)+"e").split("e"),+(ne[0]+"e"+(+ne[1]-U))}return x(M)}}var JZ=l0&&1/hw(new l0([,-0]))[1]==H?function(g){return new l0(g)}:l_;function GA(g){return function(x){var M=xo(x);return M==se?mP(x):M==Te?gJ(x):aJ(x,g(x))}}function Du(g,x,M,U,ne,de,xe,Me){var De=x&S;if(!De&&typeof g!="function")throw new ll(o);var at=U?U.length:0;if(at||(x&=~(P|T),U=ne=n),xe=xe===n?xe:Bs(Zn(xe),0),Me=Me===n?Me:Zn(Me),at-=ne?ne.length:0,x&T){var lt=U,mt=ne;U=ne=n}var Lt=De?n:WP(g),sn=[g,x,M,U,ne,lt,mt,de,xe,Me];if(Lt&&fee(sn,Lt),g=sn[0],x=sn[1],M=sn[2],U=sn[3],ne=sn[4],Me=sn[9]=sn[9]===n?De?0:g.length:Bs(sn[9]-at,0),!Me&&x&(v|k)&&(x&=~(v|k)),!x||x==y)var _n=qZ(g,x,M);else x==v||x==k?_n=KZ(g,x,Me):(x==P||x==(y|P))&&!ne.length?_n=QZ(g,x,M,U):_n=Rw.apply(n,sn);var tr=Lt?kA:tR;return nR(tr(_n,sn),g,x)}function UA(g,x,M,U){return g===n||ic(g,a0[M])&&!zr.call(U,M)?x:g}function jA(g,x,M,U,ne,de){return Ni(g)&&Ni(x)&&(de.set(x,g),Bw(g,x,n,jA,de),de.delete(x)),g}function ZZ(g){return g1(g)?n:g}function YA(g,x,M,U,ne,de){var xe=M&p,Me=g.length,De=x.length;if(Me!=De&&!(xe&&De>Me))return!1;var at=de.get(g),lt=de.get(x);if(at&&lt)return at==x&&lt==g;var mt=-1,Lt=!0,sn=M&m?new xf:n;for(de.set(g,x),de.set(x,g);++mt<Me;){var _n=g[mt],tr=x[mt];if(U)var Mn=xe?U(tr,_n,mt,x,g,de):U(_n,tr,mt,g,x,de);if(Mn!==n){if(Mn)continue;Lt=!1;break}if(sn){if(!uP(x,function(cr,wr){if(!t1(sn,wr)&&(_n===cr||ne(_n,cr,M,U,de)))return sn.push(wr)})){Lt=!1;break}}else if(!(_n===tr||ne(_n,tr,M,U,de))){Lt=!1;break}}return de.delete(g),de.delete(x),Lt}function eee(g,x,M,U,ne,de,xe){switch(M){case ke:if(g.byteLength!=x.byteLength||g.byteOffset!=x.byteOffset)return!1;g=g.buffer,x=x.buffer;case $e:return!(g.byteLength!=x.byteLength||!de(new bw(g),new bw(x)));case X:case K:case ue:return ic(+g,+x);case le:return g.name==x.name&&g.message==x.message;case ge:case Re:return g==x+"";case se:var Me=mP;case Te:var De=U&p;if(Me||(Me=hw),g.size!=x.size&&!De)return!1;var at=xe.get(g);if(at)return at==x;U|=m,xe.set(g,x);var lt=YA(Me(g),Me(x),U,ne,de,xe);return xe.delete(g),lt;case Ie:if(o1)return o1.call(g)==o1.call(x)}return!1}function tee(g,x,M,U,ne,de){var xe=M&p,Me=VP(g),De=Me.length,at=VP(x),lt=at.length;if(De!=lt&&!xe)return!1;for(var mt=De;mt--;){var Lt=Me[mt];if(!(xe?Lt in x:zr.call(x,Lt)))return!1}var sn=de.get(g),_n=de.get(x);if(sn&&_n)return sn==x&&_n==g;var tr=!0;de.set(g,x),de.set(x,g);for(var Mn=xe;++mt<De;){Lt=Me[mt];var cr=g[Lt],wr=x[Lt];if(U)var Ra=xe?U(wr,cr,Lt,x,g,de):U(cr,wr,Lt,g,x,de);if(!(Ra===n?cr===wr||ne(cr,wr,M,U,de):Ra)){tr=!1;break}Mn||(Mn=Lt=="constructor")}if(tr&&!Mn){var Fo=g.constructor,La=x.constructor;Fo!=La&&"constructor"in g&&"constructor"in x&&!(typeof Fo=="function"&&Fo instanceof Fo&&typeof La=="function"&&La instanceof La)&&(tr=!1)}return de.delete(g),de.delete(x),tr}function Fu(g){return qP(ZA(g,n,lR),g+"")}function VP(g){return fA(g,Us,UP)}function zP(g){return fA(g,na,XA)}var WP=kw?function(g){return kw.get(g)}:l_;function Ow(g){for(var x=g.name+"",M=c0[x],U=zr.call(c0,x)?M.length:0;U--;){var ne=M[U],de=ne.func;if(de==null||de==g)return ne.name}return x}function f0(g){var x=zr.call(ce,"placeholder")?ce:g;return x.placeholder}function Tn(){var g=ce.iteratee||o_;return g=g===o_?mA:g,arguments.length?g(arguments[0],arguments[1]):g}function $w(g,x){var M=g.__data__;return cee(x)?M[typeof x=="string"?"string":"hash"]:M.map}function GP(g){for(var x=Us(g),M=x.length;M--;){var U=x[M],ne=g[U];x[M]=[U,ne,QA(ne)]}return x}function kf(g,x){var M=hJ(g,x);return gA(M)?M:n}function nee(g){var x=zr.call(g,vf),M=g[vf];try{g[vf]=n;var U=!0}catch{}var ne=mw.call(g);return U&&(x?g[vf]=M:delete g[vf]),ne}var UP=bP?function(g){return g==null?[]:(g=si(g),jd(bP(g),function(x){return eA.call(g,x)}))}:c_,XA=bP?function(g){for(var x=[];g;)Yd(x,UP(g)),g=vw(g);return x}:c_,xo=Lo;(vP&&xo(new vP(new ArrayBuffer(1)))!=ke||r1&&xo(new r1)!=se||wP&&xo(wP.resolve())!=te||l0&&xo(new l0)!=Te||i1&&xo(new i1)!=Se)&&(xo=function(g){var x=Lo(g),M=x==Pe?g.constructor:n,U=M?Tf(M):"";if(U)switch(U){case OJ:return ke;case $J:return se;case HJ:return te;case VJ:return Te;case zJ:return Se}return x});function ree(g,x,M){for(var U=-1,ne=M.length;++U<ne;){var de=M[U],xe=de.size;switch(de.type){case"drop":g+=xe;break;case"dropRight":x-=xe;break;case"take":x=wo(x,g+xe);break;case"takeRight":g=Bs(g,x-xe);break}}return{start:g,end:x}}function iee(g){var x=g.match($n);return x?x[1].split(Xr):[]}function qA(g,x,M){x=Jd(x,g);for(var U=-1,ne=x.length,de=!1;++U<ne;){var xe=Kc(x[U]);if(!(de=g!=null&&M(g,xe)))break;g=g[xe]}return de||++U!=ne?de:(ne=g==null?0:g.length,!!ne&&jw(ne)&&Ou(xe,ne)&&(Un(g)||Pf(g)))}function see(g){var x=g.length,M=new g.constructor(x);return x&&typeof g[0]=="string"&&zr.call(g,"index")&&(M.index=g.index,M.input=g.input),M}function KA(g){return typeof g.constructor=="function"&&!f1(g)?u0(vw(g)):{}}function oee(g,x,M){var U=g.constructor;switch(x){case $e:return OP(g);case X:case K:return new U(+g);case ke:return WZ(g,M);case me:case ye:case Ee:case We:case je:case et:case Fe:case He:case ot:return IA(g,M);case se:return new U;case ue:case Re:return new U(g);case ge:return GZ(g);case Te:return new U;case Ie:return UZ(g)}}function aee(g,x){var M=x.length;if(!M)return g;var U=M-1;return x[U]=(M>1?"& ":"")+x[U],x=x.join(M>2?", ":" "),g.replace(Rn,`{
/* [wrapped with `+x+`] */
`)}function lee(g){return Un(g)||Pf(g)||!!(tA&&g&&g[tA])}function Ou(g,x){var M=typeof g;return x=x??O,!!x&&(M=="number"||M!="symbol"&&Ln.test(g))&&g>-1&&g%1==0&&g<x}function Do(g,x,M){if(!Ni(M))return!1;var U=typeof x;return(U=="number"?ta(M)&&Ou(x,M.length):U=="string"&&x in M)?ic(M[x],g):!1}function jP(g,x){if(Un(g))return!1;var M=typeof g;return M=="number"||M=="symbol"||M=="boolean"||g==null||Aa(g)?!0:Ft.test(g)||!en.test(g)||x!=null&&g in si(x)}function cee(g){var x=typeof g;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?g!=="__proto__":g===null}function YP(g){var x=Ow(g),M=ce[x];if(typeof M!="function"||!(x in pr.prototype))return!1;if(g===M)return!0;var U=WP(M);return!!U&&g===U[0]}function uee(g){return!!Q6&&Q6 in g}var dee=pw?$u:u_;function f1(g){var x=g&&g.constructor,M=typeof x=="function"&&x.prototype||a0;return g===M}function QA(g){return g===g&&!Ni(g)}function JA(g,x){return function(M){return M==null?!1:M[g]===x&&(x!==n||g in si(M))}}function hee(g){var x=Gw(g,function(U){return M.size===c&&M.clear(),U}),M=x.cache;return x}function fee(g,x){var M=g[1],U=x[1],ne=M|U,de=ne<(y|S|_),xe=U==_&&M==v||U==_&&M==E&&g[7].length<=x[8]||U==(_|E)&&x[7].length<=x[8]&&M==v;if(!(de||xe))return g;U&y&&(g[2]=x[2],ne|=M&y?0:w);var Me=x[3];if(Me){var De=g[3];g[3]=De?RA(De,Me,x[4]):Me,g[4]=De?Xd(g[3],u):x[4]}return Me=x[5],Me&&(De=g[5],g[5]=De?LA(De,Me,x[6]):Me,g[6]=De?Xd(g[5],u):x[6]),Me=x[7],Me&&(g[7]=Me),U&_&&(g[8]=g[8]==null?x[8]:wo(g[8],x[8])),g[9]==null&&(g[9]=x[9]),g[0]=x[0],g[1]=ne,g}function pee(g){var x=[];if(g!=null)for(var M in si(g))x.push(M);return x}function gee(g){return mw.call(g)}function ZA(g,x,M){return x=Bs(x===n?g.length-1:x,0),function(){for(var U=arguments,ne=-1,de=Bs(U.length-x,0),xe=Ke(de);++ne<de;)xe[ne]=U[x+ne];ne=-1;for(var Me=Ke(x+1);++ne<x;)Me[ne]=U[ne];return Me[x]=M(xe),Ba(g,this,Me)}}function eR(g,x){return x.length<2?g:Cf(g,dl(x,0,-1))}function mee(g,x){for(var M=g.length,U=wo(x.length,M),ne=ea(g);U--;){var de=x[U];g[U]=Ou(de,M)?ne[de]:n}return g}function XP(g,x){if(!(x==="constructor"&&typeof g[x]=="function")&&x!="__proto__")return g[x]}var tR=rR(kA),p1=NJ||function(g,x){return io.setTimeout(g,x)},qP=rR($Z);function nR(g,x,M){var U=x+"";return qP(g,aee(U,yee(iee(U),M)))}function rR(g){var x=0,M=0;return function(){var U=LJ(),ne=D-(U-M);if(M=U,ne>0){if(++x>=B)return arguments[0]}else x=0;return g.apply(n,arguments)}}function Hw(g,x){var M=-1,U=g.length,ne=U-1;for(x=x===n?U:x;++M<x;){var de=NP(M,ne),xe=g[de];g[de]=g[M],g[M]=xe}return g.length=x,g}var iR=hee(function(g){var x=[];return g.charCodeAt(0)===46&&x.push(""),g.replace(At,function(M,U,ne,de){x.push(ne?de.replace(Nr,"$1"):U||M)}),x});function Kc(g){if(typeof g=="string"||Aa(g))return g;var x=g+"";return x=="0"&&1/g==-H?"-0":x}function Tf(g){if(g!=null){try{return gw.call(g)}catch{}try{return g+""}catch{}}return""}function yee(g,x){return al(z,function(M){var U="_."+M[0];x&M[1]&&!uw(g,U)&&g.push(U)}),g.sort()}function sR(g){if(g instanceof pr)return g.clone();var x=new cl(g.__wrapped__,g.__chain__);return x.__actions__=ea(g.__actions__),x.__index__=g.__index__,x.__values__=g.__values__,x}function bee(g,x,M){(M?Do(g,x,M):x===n)?x=1:x=Bs(Zn(x),0);var U=g==null?0:g.length;if(!U||x<1)return[];for(var ne=0,de=0,xe=Ke(Sw(U/x));ne<U;)xe[de++]=dl(g,ne,ne+=x);return xe}function vee(g){for(var x=-1,M=g==null?0:g.length,U=0,ne=[];++x<M;){var de=g[x];de&&(ne[U++]=de)}return ne}function wee(){var g=arguments.length;if(!g)return[];for(var x=Ke(g-1),M=arguments[0],U=g;U--;)x[U-1]=arguments[U];return Yd(Un(M)?ea(M):[M],so(x,1))}var xee=ir(function(g,x){return ts(g)?l1(g,so(x,1,ts,!0)):[]}),See=ir(function(g,x){var M=hl(x);return ts(M)&&(M=n),ts(g)?l1(g,so(x,1,ts,!0),Tn(M,2)):[]}),Cee=ir(function(g,x){var M=hl(x);return ts(M)&&(M=n),ts(g)?l1(g,so(x,1,ts,!0),n,M):[]});function kee(g,x,M){var U=g==null?0:g.length;return U?(x=M||x===n?1:Zn(x),dl(g,x<0?0:x,U)):[]}function Tee(g,x,M){var U=g==null?0:g.length;return U?(x=M||x===n?1:Zn(x),x=U-x,dl(g,0,x<0?0:x)):[]}function Pee(g,x){return g&&g.length?Iw(g,Tn(x,3),!0,!0):[]}function _ee(g,x){return g&&g.length?Iw(g,Tn(x,3),!0):[]}function Mee(g,x,M,U){var ne=g==null?0:g.length;return ne?(M&&typeof M!="number"&&Do(g,x,M)&&(M=0,U=ne),wZ(g,x,M,U)):[]}function oR(g,x,M){var U=g==null?0:g.length;if(!U)return-1;var ne=M==null?0:Zn(M);return ne<0&&(ne=Bs(U+ne,0)),dw(g,Tn(x,3),ne)}function aR(g,x,M){var U=g==null?0:g.length;if(!U)return-1;var ne=U-1;return M!==n&&(ne=Zn(M),ne=M<0?Bs(U+ne,0):wo(ne,U-1)),dw(g,Tn(x,3),ne,!0)}function lR(g){var x=g==null?0:g.length;return x?so(g,1):[]}function Eee(g){var x=g==null?0:g.length;return x?so(g,H):[]}function Bee(g,x){var M=g==null?0:g.length;return M?(x=x===n?1:Zn(x),so(g,x)):[]}function Nee(g){for(var x=-1,M=g==null?0:g.length,U={};++x<M;){var ne=g[x];U[ne[0]]=ne[1]}return U}function cR(g){return g&&g.length?g[0]:n}function Iee(g,x,M){var U=g==null?0:g.length;if(!U)return-1;var ne=M==null?0:Zn(M);return ne<0&&(ne=Bs(U+ne,0)),r0(g,x,ne)}function Aee(g){var x=g==null?0:g.length;return x?dl(g,0,-1):[]}var Ree=ir(function(g){var x=wi(g,DP);return x.length&&x[0]===g[0]?PP(x):[]}),Lee=ir(function(g){var x=hl(g),M=wi(g,DP);return x===hl(M)?x=n:M.pop(),M.length&&M[0]===g[0]?PP(M,Tn(x,2)):[]}),Dee=ir(function(g){var x=hl(g),M=wi(g,DP);return x=typeof x=="function"?x:n,x&&M.pop(),M.length&&M[0]===g[0]?PP(M,n,x):[]});function Fee(g,x){return g==null?"":AJ.call(g,x)}function hl(g){var x=g==null?0:g.length;return x?g[x-1]:n}function Oee(g,x,M){var U=g==null?0:g.length;if(!U)return-1;var ne=U;return M!==n&&(ne=Zn(M),ne=ne<0?Bs(U+ne,0):wo(ne,U-1)),x===x?yJ(g,x,ne):dw(g,W6,ne,!0)}function $ee(g,x){return g&&g.length?wA(g,Zn(x)):n}var Hee=ir(uR);function uR(g,x){return g&&g.length&&x&&x.length?BP(g,x):g}function Vee(g,x,M){return g&&g.length&&x&&x.length?BP(g,x,Tn(M,2)):g}function zee(g,x,M){return g&&g.length&&x&&x.length?BP(g,x,n,M):g}var Wee=Fu(function(g,x){var M=g==null?0:g.length,U=SP(g,x);return CA(g,wi(x,function(ne){return Ou(ne,M)?+ne:ne}).sort(AA)),U});function Gee(g,x){var M=[];if(!(g&&g.length))return M;var U=-1,ne=[],de=g.length;for(x=Tn(x,3);++U<de;){var xe=g[U];x(xe,U,g)&&(M.push(xe),ne.push(U))}return CA(g,ne),M}function KP(g){return g==null?g:FJ.call(g)}function Uee(g,x,M){var U=g==null?0:g.length;return U?(M&&typeof M!="number"&&Do(g,x,M)?(x=0,M=U):(x=x==null?0:Zn(x),M=M===n?U:Zn(M)),dl(g,x,M)):[]}function jee(g,x){return Nw(g,x)}function Yee(g,x,M){return AP(g,x,Tn(M,2))}function Xee(g,x){var M=g==null?0:g.length;if(M){var U=Nw(g,x);if(U<M&&ic(g[U],x))return U}return-1}function qee(g,x){return Nw(g,x,!0)}function Kee(g,x,M){return AP(g,x,Tn(M,2),!0)}function Qee(g,x){var M=g==null?0:g.length;if(M){var U=Nw(g,x,!0)-1;if(ic(g[U],x))return U}return-1}function Jee(g){return g&&g.length?TA(g):[]}function Zee(g,x){return g&&g.length?TA(g,Tn(x,2)):[]}function ete(g){var x=g==null?0:g.length;return x?dl(g,1,x):[]}function tte(g,x,M){return g&&g.length?(x=M||x===n?1:Zn(x),dl(g,0,x<0?0:x)):[]}function nte(g,x,M){var U=g==null?0:g.length;return U?(x=M||x===n?1:Zn(x),x=U-x,dl(g,x<0?0:x,U)):[]}function rte(g,x){return g&&g.length?Iw(g,Tn(x,3),!1,!0):[]}function ite(g,x){return g&&g.length?Iw(g,Tn(x,3)):[]}var ste=ir(function(g){return Qd(so(g,1,ts,!0))}),ote=ir(function(g){var x=hl(g);return ts(x)&&(x=n),Qd(so(g,1,ts,!0),Tn(x,2))}),ate=ir(function(g){var x=hl(g);return x=typeof x=="function"?x:n,Qd(so(g,1,ts,!0),n,x)});function lte(g){return g&&g.length?Qd(g):[]}function cte(g,x){return g&&g.length?Qd(g,Tn(x,2)):[]}function ute(g,x){return x=typeof x=="function"?x:n,g&&g.length?Qd(g,n,x):[]}function QP(g){if(!(g&&g.length))return[];var x=0;return g=jd(g,function(M){if(ts(M))return x=Bs(M.length,x),!0}),pP(x,function(M){return wi(g,dP(M))})}function dR(g,x){if(!(g&&g.length))return[];var M=QP(g);return x==null?M:wi(M,function(U){return Ba(x,n,U)})}var dte=ir(function(g,x){return ts(g)?l1(g,x):[]}),hte=ir(function(g){return LP(jd(g,ts))}),fte=ir(function(g){var x=hl(g);return ts(x)&&(x=n),LP(jd(g,ts),Tn(x,2))}),pte=ir(function(g){var x=hl(g);return x=typeof x=="function"?x:n,LP(jd(g,ts),n,x)}),gte=ir(QP);function mte(g,x){return EA(g||[],x||[],a1)}function yte(g,x){return EA(g||[],x||[],d1)}var bte=ir(function(g){var x=g.length,M=x>1?g[x-1]:n;return M=typeof M=="function"?(g.pop(),M):n,dR(g,M)});function hR(g){var x=ce(g);return x.__chain__=!0,x}function vte(g,x){return x(g),g}function Vw(g,x){return x(g)}var wte=Fu(function(g){var x=g.length,M=x?g[0]:0,U=this.__wrapped__,ne=function(de){return SP(de,g)};return x>1||this.__actions__.length||!(U instanceof pr)||!Ou(M)?this.thru(ne):(U=U.slice(M,+M+(x?1:0)),U.__actions__.push({func:Vw,args:[ne],thisArg:n}),new cl(U,this.__chain__).thru(function(de){return x&&!de.length&&de.push(n),de}))});function xte(){return hR(this)}function Ste(){return new cl(this.value(),this.__chain__)}function Cte(){this.__values__===n&&(this.__values__=PR(this.value()));var g=this.__index__>=this.__values__.length,x=g?n:this.__values__[this.__index__++];return{done:g,value:x}}function kte(){return this}function Tte(g){for(var x,M=this;M instanceof Pw;){var U=sR(M);U.__index__=0,U.__values__=n,x?ne.__wrapped__=U:x=U;var ne=U;M=M.__wrapped__}return ne.__wrapped__=g,x}function Pte(){var g=this.__wrapped__;if(g instanceof pr){var x=g;return this.__actions__.length&&(x=new pr(this)),x=x.reverse(),x.__actions__.push({func:Vw,args:[KP],thisArg:n}),new cl(x,this.__chain__)}return this.thru(KP)}function _te(){return MA(this.__wrapped__,this.__actions__)}var Mte=Aw(function(g,x,M){zr.call(g,M)?++g[M]:Lu(g,M,1)});function Ete(g,x,M){var U=Un(g)?V6:vZ;return M&&Do(g,x,M)&&(x=n),U(g,Tn(x,3))}function Bte(g,x){var M=Un(g)?jd:dA;return M(g,Tn(x,3))}var Nte=$A(oR),Ite=$A(aR);function Ate(g,x){return so(zw(g,x),1)}function Rte(g,x){return so(zw(g,x),H)}function Lte(g,x,M){return M=M===n?1:Zn(M),so(zw(g,x),M)}function fR(g,x){var M=Un(g)?al:Kd;return M(g,Tn(x,3))}function pR(g,x){var M=Un(g)?eJ:uA;return M(g,Tn(x,3))}var Dte=Aw(function(g,x,M){zr.call(g,M)?g[M].push(x):Lu(g,M,[x])});function Fte(g,x,M,U){g=ta(g)?g:g0(g),M=M&&!U?Zn(M):0;var ne=g.length;return M<0&&(M=Bs(ne+M,0)),Yw(g)?M<=ne&&g.indexOf(x,M)>-1:!!ne&&r0(g,x,M)>-1}var Ote=ir(function(g,x,M){var U=-1,ne=typeof x=="function",de=ta(g)?Ke(g.length):[];return Kd(g,function(xe){de[++U]=ne?Ba(x,xe,M):c1(xe,x,M)}),de}),$te=Aw(function(g,x,M){Lu(g,M,x)});function zw(g,x){var M=Un(g)?wi:yA;return M(g,Tn(x,3))}function Hte(g,x,M,U){return g==null?[]:(Un(x)||(x=x==null?[]:[x]),M=U?n:M,Un(M)||(M=M==null?[]:[M]),xA(g,x,M))}var Vte=Aw(function(g,x,M){g[M?0:1].push(x)},function(){return[[],[]]});function zte(g,x,M){var U=Un(g)?cP:U6,ne=arguments.length<3;return U(g,Tn(x,4),M,ne,Kd)}function Wte(g,x,M){var U=Un(g)?tJ:U6,ne=arguments.length<3;return U(g,Tn(x,4),M,ne,uA)}function Gte(g,x){var M=Un(g)?jd:dA;return M(g,Uw(Tn(x,3)))}function Ute(g){var x=Un(g)?oA:FZ;return x(g)}function jte(g,x,M){(M?Do(g,x,M):x===n)?x=1:x=Zn(x);var U=Un(g)?pZ:OZ;return U(g,x)}function Yte(g){var x=Un(g)?gZ:HZ;return x(g)}function Xte(g){if(g==null)return 0;if(ta(g))return Yw(g)?s0(g):g.length;var x=xo(g);return x==se||x==Te?g.size:MP(g).length}function qte(g,x,M){var U=Un(g)?uP:VZ;return M&&Do(g,x,M)&&(x=n),U(g,Tn(x,3))}var Kte=ir(function(g,x){if(g==null)return[];var M=x.length;return M>1&&Do(g,x[0],x[1])?x=[]:M>2&&Do(x[0],x[1],x[2])&&(x=[x[0]]),xA(g,so(x,1),[])}),Ww=BJ||function(){return io.Date.now()};function Qte(g,x){if(typeof x!="function")throw new ll(o);return g=Zn(g),function(){if(--g<1)return x.apply(this,arguments)}}function gR(g,x,M){return x=M?n:x,x=g&&x==null?g.length:x,Du(g,_,n,n,n,n,x)}function mR(g,x){var M;if(typeof x!="function")throw new ll(o);return g=Zn(g),function(){return--g>0&&(M=x.apply(this,arguments)),g<=1&&(x=n),M}}var JP=ir(function(g,x,M){var U=y;if(M.length){var ne=Xd(M,f0(JP));U|=P}return Du(g,U,x,M,ne)}),yR=ir(function(g,x,M){var U=y|S;if(M.length){var ne=Xd(M,f0(yR));U|=P}return Du(x,U,g,M,ne)});function bR(g,x,M){x=M?n:x;var U=Du(g,v,n,n,n,n,n,x);return U.placeholder=bR.placeholder,U}function vR(g,x,M){x=M?n:x;var U=Du(g,k,n,n,n,n,n,x);return U.placeholder=vR.placeholder,U}function wR(g,x,M){var U,ne,de,xe,Me,De,at=0,lt=!1,mt=!1,Lt=!0;if(typeof g!="function")throw new ll(o);x=fl(x)||0,Ni(M)&&(lt=!!M.leading,mt="maxWait"in M,de=mt?Bs(fl(M.maxWait)||0,x):de,Lt="trailing"in M?!!M.trailing:Lt);function sn(ns){var sc=U,Vu=ne;return U=ne=n,at=ns,xe=g.apply(Vu,sc),xe}function _n(ns){return at=ns,Me=p1(cr,x),lt?sn(ns):xe}function tr(ns){var sc=ns-De,Vu=ns-at,$R=x-sc;return mt?wo($R,de-Vu):$R}function Mn(ns){var sc=ns-De,Vu=ns-at;return De===n||sc>=x||sc<0||mt&&Vu>=de}function cr(){var ns=Ww();if(Mn(ns))return wr(ns);Me=p1(cr,tr(ns))}function wr(ns){return Me=n,Lt&&U?sn(ns):(U=ne=n,xe)}function Ra(){Me!==n&&BA(Me),at=0,U=De=ne=Me=n}function Fo(){return Me===n?xe:wr(Ww())}function La(){var ns=Ww(),sc=Mn(ns);if(U=arguments,ne=this,De=ns,sc){if(Me===n)return _n(De);if(mt)return BA(Me),Me=p1(cr,x),sn(De)}return Me===n&&(Me=p1(cr,x)),xe}return La.cancel=Ra,La.flush=Fo,La}var Jte=ir(function(g,x){return cA(g,1,x)}),Zte=ir(function(g,x,M){return cA(g,fl(x)||0,M)});function ene(g){return Du(g,I)}function Gw(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new ll(o);var M=function(){var U=arguments,ne=x?x.apply(this,U):U[0],de=M.cache;if(de.has(ne))return de.get(ne);var xe=g.apply(this,U);return M.cache=de.set(ne,xe)||de,xe};return M.cache=new(Gw.Cache||Ru),M}Gw.Cache=Ru;function Uw(g){if(typeof g!="function")throw new ll(o);return function(){var x=arguments;switch(x.length){case 0:return!g.call(this);case 1:return!g.call(this,x[0]);case 2:return!g.call(this,x[0],x[1]);case 3:return!g.call(this,x[0],x[1],x[2])}return!g.apply(this,x)}}function tne(g){return mR(2,g)}var nne=zZ(function(g,x){x=x.length==1&&Un(x[0])?wi(x[0],Na(Tn())):wi(so(x,1),Na(Tn()));var M=x.length;return ir(function(U){for(var ne=-1,de=wo(U.length,M);++ne<de;)U[ne]=x[ne].call(this,U[ne]);return Ba(g,this,U)})}),ZP=ir(function(g,x){var M=Xd(x,f0(ZP));return Du(g,P,n,x,M)}),xR=ir(function(g,x){var M=Xd(x,f0(xR));return Du(g,T,n,x,M)}),rne=Fu(function(g,x){return Du(g,E,n,n,n,x)});function ine(g,x){if(typeof g!="function")throw new ll(o);return x=x===n?x:Zn(x),ir(g,x)}function sne(g,x){if(typeof g!="function")throw new ll(o);return x=x==null?0:Bs(Zn(x),0),ir(function(M){var U=M[x],ne=Zd(M,0,x);return U&&Yd(ne,U),Ba(g,this,ne)})}function one(g,x,M){var U=!0,ne=!0;if(typeof g!="function")throw new ll(o);return Ni(M)&&(U="leading"in M?!!M.leading:U,ne="trailing"in M?!!M.trailing:ne),wR(g,x,{leading:U,maxWait:x,trailing:ne})}function ane(g){return gR(g,1)}function lne(g,x){return ZP(FP(x),g)}function cne(){if(!arguments.length)return[];var g=arguments[0];return Un(g)?g:[g]}function une(g){return ul(g,f)}function dne(g,x){return x=typeof x=="function"?x:n,ul(g,f,x)}function hne(g){return ul(g,d|f)}function fne(g,x){return x=typeof x=="function"?x:n,ul(g,d|f,x)}function pne(g,x){return x==null||lA(g,x,Us(x))}function ic(g,x){return g===x||g!==g&&x!==x}var gne=Fw(TP),mne=Fw(function(g,x){return g>=x}),Pf=pA(function(){return arguments}())?pA:function(g){return $i(g)&&zr.call(g,"callee")&&!eA.call(g,"callee")},Un=Ke.isArray,yne=L6?Na(L6):TZ;function ta(g){return g!=null&&jw(g.length)&&!$u(g)}function ts(g){return $i(g)&&ta(g)}function bne(g){return g===!0||g===!1||$i(g)&&Lo(g)==X}var eh=IJ||u_,vne=D6?Na(D6):PZ;function wne(g){return $i(g)&&g.nodeType===1&&!g1(g)}function xne(g){if(g==null)return!0;if(ta(g)&&(Un(g)||typeof g=="string"||typeof g.splice=="function"||eh(g)||p0(g)||Pf(g)))return!g.length;var x=xo(g);if(x==se||x==Te)return!g.size;if(f1(g))return!MP(g).length;for(var M in g)if(zr.call(g,M))return!1;return!0}function Sne(g,x){return u1(g,x)}function Cne(g,x,M){M=typeof M=="function"?M:n;var U=M?M(g,x):n;return U===n?u1(g,x,n,M):!!U}function e_(g){if(!$i(g))return!1;var x=Lo(g);return x==le||x==Y||typeof g.message=="string"&&typeof g.name=="string"&&!g1(g)}function kne(g){return typeof g=="number"&&nA(g)}function $u(g){if(!Ni(g))return!1;var x=Lo(g);return x==ie||x==re||x==oe||x==pe}function SR(g){return typeof g=="number"&&g==Zn(g)}function jw(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=O}function Ni(g){var x=typeof g;return g!=null&&(x=="object"||x=="function")}function $i(g){return g!=null&&typeof g=="object"}var CR=F6?Na(F6):MZ;function Tne(g,x){return g===x||_P(g,x,GP(x))}function Pne(g,x,M){return M=typeof M=="function"?M:n,_P(g,x,GP(x),M)}function _ne(g){return kR(g)&&g!=+g}function Mne(g){if(dee(g))throw new Hn(s);return gA(g)}function Ene(g){return g===null}function Bne(g){return g==null}function kR(g){return typeof g=="number"||$i(g)&&Lo(g)==ue}function g1(g){if(!$i(g)||Lo(g)!=Pe)return!1;var x=vw(g);if(x===null)return!0;var M=zr.call(x,"constructor")&&x.constructor;return typeof M=="function"&&M instanceof M&&gw.call(M)==PJ}var t_=O6?Na(O6):EZ;function Nne(g){return SR(g)&&g>=-O&&g<=O}var TR=$6?Na($6):BZ;function Yw(g){return typeof g=="string"||!Un(g)&&$i(g)&&Lo(g)==Re}function Aa(g){return typeof g=="symbol"||$i(g)&&Lo(g)==Ie}var p0=H6?Na(H6):NZ;function Ine(g){return g===n}function Ane(g){return $i(g)&&xo(g)==Se}function Rne(g){return $i(g)&&Lo(g)==Ce}var Lne=Fw(EP),Dne=Fw(function(g,x){return g<=x});function PR(g){if(!g)return[];if(ta(g))return Yw(g)?nc(g):ea(g);if(n1&&g[n1])return pJ(g[n1]());var x=xo(g),M=x==se?mP:x==Te?hw:g0;return M(g)}function Hu(g){if(!g)return g===0?g:0;if(g=fl(g),g===H||g===-H){var x=g<0?-1:1;return x*G}return g===g?g:0}function Zn(g){var x=Hu(g),M=x%1;return x===x?M?x-M:x:0}function _R(g){return g?Sf(Zn(g),0,J):0}function fl(g){if(typeof g=="number")return g;if(Aa(g))return j;if(Ni(g)){var x=typeof g.valueOf=="function"?g.valueOf():g;g=Ni(x)?x+"":x}if(typeof g!="string")return g===0?g:+g;g=j6(g);var M=gt.test(g);return M||Ht.test(g)?QQ(g.slice(2),M?2:8):Tt.test(g)?j:+g}function MR(g){return qc(g,na(g))}function Fne(g){return g?Sf(Zn(g),-O,O):g===0?g:0}function Dr(g){return g==null?"":Ia(g)}var One=d0(function(g,x){if(f1(x)||ta(x)){qc(x,Us(x),g);return}for(var M in x)zr.call(x,M)&&a1(g,M,x[M])}),ER=d0(function(g,x){qc(x,na(x),g)}),Xw=d0(function(g,x,M,U){qc(x,na(x),g,U)}),$ne=d0(function(g,x,M,U){qc(x,Us(x),g,U)}),Hne=Fu(SP);function Vne(g,x){var M=u0(g);return x==null?M:aA(M,x)}var zne=ir(function(g,x){g=si(g);var M=-1,U=x.length,ne=U>2?x[2]:n;for(ne&&Do(x[0],x[1],ne)&&(U=1);++M<U;)for(var de=x[M],xe=na(de),Me=-1,De=xe.length;++Me<De;){var at=xe[Me],lt=g[at];(lt===n||ic(lt,a0[at])&&!zr.call(g,at))&&(g[at]=de[at])}return g}),Wne=ir(function(g){return g.push(n,jA),Ba(BR,n,g)});function Gne(g,x){return z6(g,Tn(x,3),Xc)}function Une(g,x){return z6(g,Tn(x,3),kP)}function jne(g,x){return g==null?g:CP(g,Tn(x,3),na)}function Yne(g,x){return g==null?g:hA(g,Tn(x,3),na)}function Xne(g,x){return g&&Xc(g,Tn(x,3))}function qne(g,x){return g&&kP(g,Tn(x,3))}function Kne(g){return g==null?[]:Ew(g,Us(g))}function Qne(g){return g==null?[]:Ew(g,na(g))}function n_(g,x,M){var U=g==null?n:Cf(g,x);return U===n?M:U}function Jne(g,x){return g!=null&&qA(g,x,xZ)}function r_(g,x){return g!=null&&qA(g,x,SZ)}var Zne=VA(function(g,x,M){x!=null&&typeof x.toString!="function"&&(x=mw.call(x)),g[x]=M},s_(ra)),ere=VA(function(g,x,M){x!=null&&typeof x.toString!="function"&&(x=mw.call(x)),zr.call(g,x)?g[x].push(M):g[x]=[M]},Tn),tre=ir(c1);function Us(g){return ta(g)?sA(g):MP(g)}function na(g){return ta(g)?sA(g,!0):IZ(g)}function nre(g,x){var M={};return x=Tn(x,3),Xc(g,function(U,ne,de){Lu(M,x(U,ne,de),U)}),M}function rre(g,x){var M={};return x=Tn(x,3),Xc(g,function(U,ne,de){Lu(M,ne,x(U,ne,de))}),M}var ire=d0(function(g,x,M){Bw(g,x,M)}),BR=d0(function(g,x,M,U){Bw(g,x,M,U)}),sre=Fu(function(g,x){var M={};if(g==null)return M;var U=!1;x=wi(x,function(de){return de=Jd(de,g),U||(U=de.length>1),de}),qc(g,zP(g),M),U&&(M=ul(M,d|h|f,ZZ));for(var ne=x.length;ne--;)RP(M,x[ne]);return M});function ore(g,x){return NR(g,Uw(Tn(x)))}var are=Fu(function(g,x){return g==null?{}:RZ(g,x)});function NR(g,x){if(g==null)return{};var M=wi(zP(g),function(U){return[U]});return x=Tn(x),SA(g,M,function(U,ne){return x(U,ne[0])})}function lre(g,x,M){x=Jd(x,g);var U=-1,ne=x.length;for(ne||(ne=1,g=n);++U<ne;){var de=g==null?n:g[Kc(x[U])];de===n&&(U=ne,de=M),g=$u(de)?de.call(g):de}return g}function cre(g,x,M){return g==null?g:d1(g,x,M)}function ure(g,x,M,U){return U=typeof U=="function"?U:n,g==null?g:d1(g,x,M,U)}var IR=GA(Us),AR=GA(na);function dre(g,x,M){var U=Un(g),ne=U||eh(g)||p0(g);if(x=Tn(x,4),M==null){var de=g&&g.constructor;ne?M=U?new de:[]:Ni(g)?M=$u(de)?u0(vw(g)):{}:M={}}return(ne?al:Xc)(g,function(xe,Me,De){return x(M,xe,Me,De)}),M}function hre(g,x){return g==null?!0:RP(g,x)}function fre(g,x,M){return g==null?g:_A(g,x,FP(M))}function pre(g,x,M,U){return U=typeof U=="function"?U:n,g==null?g:_A(g,x,FP(M),U)}function g0(g){return g==null?[]:gP(g,Us(g))}function gre(g){return g==null?[]:gP(g,na(g))}function mre(g,x,M){return M===n&&(M=x,x=n),M!==n&&(M=fl(M),M=M===M?M:0),x!==n&&(x=fl(x),x=x===x?x:0),Sf(fl(g),x,M)}function yre(g,x,M){return x=Hu(x),M===n?(M=x,x=0):M=Hu(M),g=fl(g),CZ(g,x,M)}function bre(g,x,M){if(M&&typeof M!="boolean"&&Do(g,x,M)&&(x=M=n),M===n&&(typeof x=="boolean"?(M=x,x=n):typeof g=="boolean"&&(M=g,g=n)),g===n&&x===n?(g=0,x=1):(g=Hu(g),x===n?(x=g,g=0):x=Hu(x)),g>x){var U=g;g=x,x=U}if(M||g%1||x%1){var ne=rA();return wo(g+ne*(x-g+KQ("1e-"+((ne+"").length-1))),x)}return NP(g,x)}var vre=h0(function(g,x,M){return x=x.toLowerCase(),g+(M?RR(x):x)});function RR(g){return i_(Dr(g).toLowerCase())}function LR(g){return g=Dr(g),g&&g.replace(ms,cJ).replace(HQ,"")}function wre(g,x,M){g=Dr(g),x=Ia(x);var U=g.length;M=M===n?U:Sf(Zn(M),0,U);var ne=M;return M-=x.length,M>=0&&g.slice(M,ne)==x}function xre(g){return g=Dr(g),g&&Ne.test(g)?g.replace(Fn,uJ):g}function Sre(g){return g=Dr(g),g&&Ut.test(g)?g.replace(yt,"\\$&"):g}var Cre=h0(function(g,x,M){return g+(M?"-":"")+x.toLowerCase()}),kre=h0(function(g,x,M){return g+(M?" ":"")+x.toLowerCase()}),Tre=OA("toLowerCase");function Pre(g,x,M){g=Dr(g),x=Zn(x);var U=x?s0(g):0;if(!x||U>=x)return g;var ne=(x-U)/2;return Dw(Cw(ne),M)+g+Dw(Sw(ne),M)}function _re(g,x,M){g=Dr(g),x=Zn(x);var U=x?s0(g):0;return x&&U<x?g+Dw(x-U,M):g}function Mre(g,x,M){g=Dr(g),x=Zn(x);var U=x?s0(g):0;return x&&U<x?Dw(x-U,M)+g:g}function Ere(g,x,M){return M||x==null?x=0:x&&(x=+x),DJ(Dr(g).replace(kn,""),x||0)}function Bre(g,x,M){return(M?Do(g,x,M):x===n)?x=1:x=Zn(x),IP(Dr(g),x)}function Nre(){var g=arguments,x=Dr(g[0]);return g.length<3?x:x.replace(g[1],g[2])}var Ire=h0(function(g,x,M){return g+(M?"_":"")+x.toLowerCase()});function Are(g,x,M){return M&&typeof M!="number"&&Do(g,x,M)&&(x=M=n),M=M===n?J:M>>>0,M?(g=Dr(g),g&&(typeof x=="string"||x!=null&&!t_(x))&&(x=Ia(x),!x&&i0(g))?Zd(nc(g),0,M):g.split(x,M)):[]}var Rre=h0(function(g,x,M){return g+(M?" ":"")+i_(x)});function Lre(g,x,M){return g=Dr(g),M=M==null?0:Sf(Zn(M),0,g.length),x=Ia(x),g.slice(M,M+x.length)==x}function Dre(g,x,M){var U=ce.templateSettings;M&&Do(g,x,M)&&(x=n),g=Dr(g),x=Xw({},x,U,UA);var ne=Xw({},x.imports,U.imports,UA),de=Us(ne),xe=gP(ne,de),Me,De,at=0,lt=x.interpolate||Kn,mt="__p += '",Lt=yP((x.escape||Kn).source+"|"+lt.source+"|"+(lt===Bt?Ve:Kn).source+"|"+(x.evaluate||Kn).source+"|$","g"),sn="//# sourceURL="+(zr.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++UQ+"]")+`
`;g.replace(Lt,function(Mn,cr,wr,Ra,Fo,La){return wr||(wr=Ra),mt+=g.slice(at,La).replace(Sr,dJ),cr&&(Me=!0,mt+=`' +
__e(`+cr+`) +
'`),Fo&&(De=!0,mt+=`';
`+Fo+`;
__p += '`),wr&&(mt+=`' +
((__t = (`+wr+`)) == null ? '' : __t) +
'`),at=La+Mn.length,Mn}),mt+=`';
`;var _n=zr.call(x,"variable")&&x.variable;if(!_n)mt=`with (obj) {
`+mt+`
}
`;else if(lr.test(_n))throw new Hn(a);mt=(De?mt.replace(pt,""):mt).replace(It,"$1").replace(Gt,"$1;"),mt="function("+(_n||"obj")+`) {
`+(_n?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Me?", __e = _.escape":"")+(De?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var tr=FR(function(){return Ir(de,sn+"return "+mt).apply(n,xe)});if(tr.source=mt,e_(tr))throw tr;return tr}function Fre(g){return Dr(g).toLowerCase()}function Ore(g){return Dr(g).toUpperCase()}function $re(g,x,M){if(g=Dr(g),g&&(M||x===n))return j6(g);if(!g||!(x=Ia(x)))return g;var U=nc(g),ne=nc(x),de=Y6(U,ne),xe=X6(U,ne)+1;return Zd(U,de,xe).join("")}function Hre(g,x,M){if(g=Dr(g),g&&(M||x===n))return g.slice(0,K6(g)+1);if(!g||!(x=Ia(x)))return g;var U=nc(g),ne=X6(U,nc(x))+1;return Zd(U,0,ne).join("")}function Vre(g,x,M){if(g=Dr(g),g&&(M||x===n))return g.replace(kn,"");if(!g||!(x=Ia(x)))return g;var U=nc(g),ne=Y6(U,nc(x));return Zd(U,ne).join("")}function zre(g,x){var M=R,U=F;if(Ni(x)){var ne="separator"in x?x.separator:ne;M="length"in x?Zn(x.length):M,U="omission"in x?Ia(x.omission):U}g=Dr(g);var de=g.length;if(i0(g)){var xe=nc(g);de=xe.length}if(M>=de)return g;var Me=M-s0(U);if(Me<1)return U;var De=xe?Zd(xe,0,Me).join(""):g.slice(0,Me);if(ne===n)return De+U;if(xe&&(Me+=De.length-Me),t_(ne)){if(g.slice(Me).search(ne)){var at,lt=De;for(ne.global||(ne=yP(ne.source,Dr(Oe.exec(ne))+"g")),ne.lastIndex=0;at=ne.exec(lt);)var mt=at.index;De=De.slice(0,mt===n?Me:mt)}}else if(g.indexOf(Ia(ne),Me)!=Me){var Lt=De.lastIndexOf(ne);Lt>-1&&(De=De.slice(0,Lt))}return De+U}function Wre(g){return g=Dr(g),g&&_e.test(g)?g.replace(Jt,bJ):g}var Gre=h0(function(g,x,M){return g+(M?" ":"")+x.toUpperCase()}),i_=OA("toUpperCase");function DR(g,x,M){return g=Dr(g),x=M?n:x,x===n?fJ(g)?xJ(g):iJ(g):g.match(x)||[]}var FR=ir(function(g,x){try{return Ba(g,n,x)}catch(M){return e_(M)?M:new Hn(M)}}),Ure=Fu(function(g,x){return al(x,function(M){M=Kc(M),Lu(g,M,JP(g[M],g))}),g});function jre(g){var x=g==null?0:g.length,M=Tn();return g=x?wi(g,function(U){if(typeof U[1]!="function")throw new ll(o);return[M(U[0]),U[1]]}):[],ir(function(U){for(var ne=-1;++ne<x;){var de=g[ne];if(Ba(de[0],this,U))return Ba(de[1],this,U)}})}function Yre(g){return bZ(ul(g,d))}function s_(g){return function(){return g}}function Xre(g,x){return g==null||g!==g?x:g}var qre=HA(),Kre=HA(!0);function ra(g){return g}function o_(g){return mA(typeof g=="function"?g:ul(g,d))}function Qre(g){return bA(ul(g,d))}function Jre(g,x){return vA(g,ul(x,d))}var Zre=ir(function(g,x){return function(M){return c1(M,g,x)}}),eie=ir(function(g,x){return function(M){return c1(g,M,x)}});function a_(g,x,M){var U=Us(x),ne=Ew(x,U);M==null&&!(Ni(x)&&(ne.length||!U.length))&&(M=x,x=g,g=this,ne=Ew(x,Us(x)));var de=!(Ni(M)&&"chain"in M)||!!M.chain,xe=$u(g);return al(ne,function(Me){var De=x[Me];g[Me]=De,xe&&(g.prototype[Me]=function(){var at=this.__chain__;if(de||at){var lt=g(this.__wrapped__),mt=lt.__actions__=ea(this.__actions__);return mt.push({func:De,args:arguments,thisArg:g}),lt.__chain__=at,lt}return De.apply(g,Yd([this.value()],arguments))})}),g}function tie(){return io._===this&&(io._=_J),this}function l_(){}function nie(g){return g=Zn(g),ir(function(x){return wA(x,g)})}var rie=$P(wi),iie=$P(V6),sie=$P(uP);function OR(g){return jP(g)?dP(Kc(g)):LZ(g)}function oie(g){return function(x){return g==null?n:Cf(g,x)}}var aie=zA(),lie=zA(!0);function c_(){return[]}function u_(){return!1}function cie(){return{}}function uie(){return""}function die(){return!0}function hie(g,x){if(g=Zn(g),g<1||g>O)return[];var M=J,U=wo(g,J);x=Tn(x),g-=J;for(var ne=pP(U,x);++M<g;)x(M);return ne}function fie(g){return Un(g)?wi(g,Kc):Aa(g)?[g]:ea(iR(Dr(g)))}function pie(g){var x=++TJ;return Dr(g)+x}var gie=Lw(function(g,x){return g+x},0),mie=HP("ceil"),yie=Lw(function(g,x){return g/x},1),bie=HP("floor");function vie(g){return g&&g.length?Mw(g,ra,TP):n}function wie(g,x){return g&&g.length?Mw(g,Tn(x,2),TP):n}function xie(g){return G6(g,ra)}function Sie(g,x){return G6(g,Tn(x,2))}function Cie(g){return g&&g.length?Mw(g,ra,EP):n}function kie(g,x){return g&&g.length?Mw(g,Tn(x,2),EP):n}var Tie=Lw(function(g,x){return g*x},1),Pie=HP("round"),_ie=Lw(function(g,x){return g-x},0);function Mie(g){return g&&g.length?fP(g,ra):0}function Eie(g,x){return g&&g.length?fP(g,Tn(x,2)):0}return ce.after=Qte,ce.ary=gR,ce.assign=One,ce.assignIn=ER,ce.assignInWith=Xw,ce.assignWith=$ne,ce.at=Hne,ce.before=mR,ce.bind=JP,ce.bindAll=Ure,ce.bindKey=yR,ce.castArray=cne,ce.chain=hR,ce.chunk=bee,ce.compact=vee,ce.concat=wee,ce.cond=jre,ce.conforms=Yre,ce.constant=s_,ce.countBy=Mte,ce.create=Vne,ce.curry=bR,ce.curryRight=vR,ce.debounce=wR,ce.defaults=zne,ce.defaultsDeep=Wne,ce.defer=Jte,ce.delay=Zte,ce.difference=xee,ce.differenceBy=See,ce.differenceWith=Cee,ce.drop=kee,ce.dropRight=Tee,ce.dropRightWhile=Pee,ce.dropWhile=_ee,ce.fill=Mee,ce.filter=Bte,ce.flatMap=Ate,ce.flatMapDeep=Rte,ce.flatMapDepth=Lte,ce.flatten=lR,ce.flattenDeep=Eee,ce.flattenDepth=Bee,ce.flip=ene,ce.flow=qre,ce.flowRight=Kre,ce.fromPairs=Nee,ce.functions=Kne,ce.functionsIn=Qne,ce.groupBy=Dte,ce.initial=Aee,ce.intersection=Ree,ce.intersectionBy=Lee,ce.intersectionWith=Dee,ce.invert=Zne,ce.invertBy=ere,ce.invokeMap=Ote,ce.iteratee=o_,ce.keyBy=$te,ce.keys=Us,ce.keysIn=na,ce.map=zw,ce.mapKeys=nre,ce.mapValues=rre,ce.matches=Qre,ce.matchesProperty=Jre,ce.memoize=Gw,ce.merge=ire,ce.mergeWith=BR,ce.method=Zre,ce.methodOf=eie,ce.mixin=a_,ce.negate=Uw,ce.nthArg=nie,ce.omit=sre,ce.omitBy=ore,ce.once=tne,ce.orderBy=Hte,ce.over=rie,ce.overArgs=nne,ce.overEvery=iie,ce.overSome=sie,ce.partial=ZP,ce.partialRight=xR,ce.partition=Vte,ce.pick=are,ce.pickBy=NR,ce.property=OR,ce.propertyOf=oie,ce.pull=Hee,ce.pullAll=uR,ce.pullAllBy=Vee,ce.pullAllWith=zee,ce.pullAt=Wee,ce.range=aie,ce.rangeRight=lie,ce.rearg=rne,ce.reject=Gte,ce.remove=Gee,ce.rest=ine,ce.reverse=KP,ce.sampleSize=jte,ce.set=cre,ce.setWith=ure,ce.shuffle=Yte,ce.slice=Uee,ce.sortBy=Kte,ce.sortedUniq=Jee,ce.sortedUniqBy=Zee,ce.split=Are,ce.spread=sne,ce.tail=ete,ce.take=tte,ce.takeRight=nte,ce.takeRightWhile=rte,ce.takeWhile=ite,ce.tap=vte,ce.throttle=one,ce.thru=Vw,ce.toArray=PR,ce.toPairs=IR,ce.toPairsIn=AR,ce.toPath=fie,ce.toPlainObject=MR,ce.transform=dre,ce.unary=ane,ce.union=ste,ce.unionBy=ote,ce.unionWith=ate,ce.uniq=lte,ce.uniqBy=cte,ce.uniqWith=ute,ce.unset=hre,ce.unzip=QP,ce.unzipWith=dR,ce.update=fre,ce.updateWith=pre,ce.values=g0,ce.valuesIn=gre,ce.without=dte,ce.words=DR,ce.wrap=lne,ce.xor=hte,ce.xorBy=fte,ce.xorWith=pte,ce.zip=gte,ce.zipObject=mte,ce.zipObjectDeep=yte,ce.zipWith=bte,ce.entries=IR,ce.entriesIn=AR,ce.extend=ER,ce.extendWith=Xw,a_(ce,ce),ce.add=gie,ce.attempt=FR,ce.camelCase=vre,ce.capitalize=RR,ce.ceil=mie,ce.clamp=mre,ce.clone=une,ce.cloneDeep=hne,ce.cloneDeepWith=fne,ce.cloneWith=dne,ce.conformsTo=pne,ce.deburr=LR,ce.defaultTo=Xre,ce.divide=yie,ce.endsWith=wre,ce.eq=ic,ce.escape=xre,ce.escapeRegExp=Sre,ce.every=Ete,ce.find=Nte,ce.findIndex=oR,ce.findKey=Gne,ce.findLast=Ite,ce.findLastIndex=aR,ce.findLastKey=Une,ce.floor=bie,ce.forEach=fR,ce.forEachRight=pR,ce.forIn=jne,ce.forInRight=Yne,ce.forOwn=Xne,ce.forOwnRight=qne,ce.get=n_,ce.gt=gne,ce.gte=mne,ce.has=Jne,ce.hasIn=r_,ce.head=cR,ce.identity=ra,ce.includes=Fte,ce.indexOf=Iee,ce.inRange=yre,ce.invoke=tre,ce.isArguments=Pf,ce.isArray=Un,ce.isArrayBuffer=yne,ce.isArrayLike=ta,ce.isArrayLikeObject=ts,ce.isBoolean=bne,ce.isBuffer=eh,ce.isDate=vne,ce.isElement=wne,ce.isEmpty=xne,ce.isEqual=Sne,ce.isEqualWith=Cne,ce.isError=e_,ce.isFinite=kne,ce.isFunction=$u,ce.isInteger=SR,ce.isLength=jw,ce.isMap=CR,ce.isMatch=Tne,ce.isMatchWith=Pne,ce.isNaN=_ne,ce.isNative=Mne,ce.isNil=Bne,ce.isNull=Ene,ce.isNumber=kR,ce.isObject=Ni,ce.isObjectLike=$i,ce.isPlainObject=g1,ce.isRegExp=t_,ce.isSafeInteger=Nne,ce.isSet=TR,ce.isString=Yw,ce.isSymbol=Aa,ce.isTypedArray=p0,ce.isUndefined=Ine,ce.isWeakMap=Ane,ce.isWeakSet=Rne,ce.join=Fee,ce.kebabCase=Cre,ce.last=hl,ce.lastIndexOf=Oee,ce.lowerCase=kre,ce.lowerFirst=Tre,ce.lt=Lne,ce.lte=Dne,ce.max=vie,ce.maxBy=wie,ce.mean=xie,ce.meanBy=Sie,ce.min=Cie,ce.minBy=kie,ce.stubArray=c_,ce.stubFalse=u_,ce.stubObject=cie,ce.stubString=uie,ce.stubTrue=die,ce.multiply=Tie,ce.nth=$ee,ce.noConflict=tie,ce.noop=l_,ce.now=Ww,ce.pad=Pre,ce.padEnd=_re,ce.padStart=Mre,ce.parseInt=Ere,ce.random=bre,ce.reduce=zte,ce.reduceRight=Wte,ce.repeat=Bre,ce.replace=Nre,ce.result=lre,ce.round=Pie,ce.runInContext=Le,ce.sample=Ute,ce.size=Xte,ce.snakeCase=Ire,ce.some=qte,ce.sortedIndex=jee,ce.sortedIndexBy=Yee,ce.sortedIndexOf=Xee,ce.sortedLastIndex=qee,ce.sortedLastIndexBy=Kee,ce.sortedLastIndexOf=Qee,ce.startCase=Rre,ce.startsWith=Lre,ce.subtract=_ie,ce.sum=Mie,ce.sumBy=Eie,ce.template=Dre,ce.times=hie,ce.toFinite=Hu,ce.toInteger=Zn,ce.toLength=_R,ce.toLower=Fre,ce.toNumber=fl,ce.toSafeInteger=Fne,ce.toString=Dr,ce.toUpper=Ore,ce.trim=$re,ce.trimEnd=Hre,ce.trimStart=Vre,ce.truncate=zre,ce.unescape=Wre,ce.uniqueId=pie,ce.upperCase=Gre,ce.upperFirst=i_,ce.each=fR,ce.eachRight=pR,ce.first=cR,a_(ce,function(){var g={};return Xc(ce,function(x,M){zr.call(ce.prototype,M)||(g[M]=x)}),g}(),{chain:!1}),ce.VERSION=r,al(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){ce[g].placeholder=ce}),al(["drop","take"],function(g,x){pr.prototype[g]=function(M){M=M===n?1:Bs(Zn(M),0);var U=this.__filtered__&&!x?new pr(this):this.clone();return U.__filtered__?U.__takeCount__=wo(M,U.__takeCount__):U.__views__.push({size:wo(M,J),type:g+(U.__dir__<0?"Right":"")}),U},pr.prototype[g+"Right"]=function(M){return this.reverse()[g](M).reverse()}}),al(["filter","map","takeWhile"],function(g,x){var M=x+1,U=M==A||M==L;pr.prototype[g]=function(ne){var de=this.clone();return de.__iteratees__.push({iteratee:Tn(ne,3),type:M}),de.__filtered__=de.__filtered__||U,de}}),al(["head","last"],function(g,x){var M="take"+(x?"Right":"");pr.prototype[g]=function(){return this[M](1).value()[0]}}),al(["initial","tail"],function(g,x){var M="drop"+(x?"":"Right");pr.prototype[g]=function(){return this.__filtered__?new pr(this):this[M](1)}}),pr.prototype.compact=function(){return this.filter(ra)},pr.prototype.find=function(g){return this.filter(g).head()},pr.prototype.findLast=function(g){return this.reverse().find(g)},pr.prototype.invokeMap=ir(function(g,x){return typeof g=="function"?new pr(this):this.map(function(M){return c1(M,g,x)})}),pr.prototype.reject=function(g){return this.filter(Uw(Tn(g)))},pr.prototype.slice=function(g,x){g=Zn(g);var M=this;return M.__filtered__&&(g>0||x<0)?new pr(M):(g<0?M=M.takeRight(-g):g&&(M=M.drop(g)),x!==n&&(x=Zn(x),M=x<0?M.dropRight(-x):M.take(x-g)),M)},pr.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},pr.prototype.toArray=function(){return this.take(J)},Xc(pr.prototype,function(g,x){var M=/^(?:filter|find|map|reject)|While$/.test(x),U=/^(?:head|last)$/.test(x),ne=ce[U?"take"+(x=="last"?"Right":""):x],de=U||/^find/.test(x);ne&&(ce.prototype[x]=function(){var xe=this.__wrapped__,Me=U?[1]:arguments,De=xe instanceof pr,at=Me[0],lt=De||Un(xe),mt=function(cr){var wr=ne.apply(ce,Yd([cr],Me));return U&&Lt?wr[0]:wr};lt&&M&&typeof at=="function"&&at.length!=1&&(De=lt=!1);var Lt=this.__chain__,sn=!!this.__actions__.length,_n=de&&!Lt,tr=De&&!sn;if(!de&&lt){xe=tr?xe:new pr(this);var Mn=g.apply(xe,Me);return Mn.__actions__.push({func:Vw,args:[mt],thisArg:n}),new cl(Mn,Lt)}return _n&&tr?g.apply(this,Me):(Mn=this.thru(mt),_n?U?Mn.value()[0]:Mn.value():Mn)})}),al(["pop","push","shift","sort","splice","unshift"],function(g){var x=fw[g],M=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",U=/^(?:pop|shift)$/.test(g);ce.prototype[g]=function(){var ne=arguments;if(U&&!this.__chain__){var de=this.value();return x.apply(Un(de)?de:[],ne)}return this[M](function(xe){return x.apply(Un(xe)?xe:[],ne)})}}),Xc(pr.prototype,function(g,x){var M=ce[x];if(M){var U=M.name+"";zr.call(c0,U)||(c0[U]=[]),c0[U].push({name:x,func:M})}}),c0[Rw(n,S).name]=[{name:"wrapper",func:n}],pr.prototype.clone=WJ,pr.prototype.reverse=GJ,pr.prototype.value=UJ,ce.prototype.at=wte,ce.prototype.chain=xte,ce.prototype.commit=Ste,ce.prototype.next=Cte,ce.prototype.plant=Tte,ce.prototype.reverse=Pte,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=_te,ce.prototype.first=ce.prototype.head,n1&&(ce.prototype[n1]=kte),ce},o0=SJ();bf?((bf.exports=o0)._=o0,oP._=o0):io._=o0}).call(Mo)}(my,my.exports)),my.exports}(function(t,e){(function(r,i){t.exports=i(b,UUe(),pW)})(Mo,function(n,r,i){return function(){var s={"./src/Xarrow/utils/buzzier.js":function(c,u,d){d.r(u),d.d(u,{bzFunction:function(){return h},buzzierMinSols:function(){return f}});var h=function(m,y,S,w){return function(v){return Math.pow(1-v,3)*m+3*Math.pow(1-v,2)*v*y+3*(1-v)*Math.pow(v,2)*S+Math.pow(v,3)*w}},f=function(m,y,S,w){var v=h(m,y,S,w),k=-6*m+12*y-6*S,P=Math.pow(-6*m+12*y-6*S,2)-4*(3*y-3*m)*(-3*m+9*y-9*S+3*w),T=2*(-3*m+9*y-9*S+3*w),_=v((k+Math.sqrt(P))/T),E=v((k-Math.sqrt(P))/T);return[_,E]}},"./src/Xarrow/Xarrow.tsx":function(c,u,d){var h=this&&this.__assign||function(){return h=Object.assign||function(E){for(var I,R=1,F=arguments.length;R<F;R++){I=arguments[R];for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(E[B]=I[B])}return E},h.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(E,I,R,F){F===void 0&&(F=R),Object.defineProperty(E,F,{enumerable:!0,get:function(){return I[R]}})}:function(E,I,R,F){F===void 0&&(F=R),E[F]=I[R]}),p=this&&this.__setModuleDefault||(Object.create?function(E,I){Object.defineProperty(E,"default",{enumerable:!0,value:I})}:function(E,I){E.default=I}),m=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var I={};if(E!=null)for(var R in E)R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)&&f(I,E,R);return p(I,E),I},y=this&&this.__spreadArray||function(E,I){for(var R=0,F=I.length,B=E.length;R<F;R++,B++)E[B]=I[R];return E},S=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(u,"__esModule",{value:!0});var w=m(d("react")),v=S(d("./src/Xarrow/useXarrowProps.ts")),k=d("./src/Xwrapper.tsx"),P=S(d("./src/Xarrow/propTypes.ts")),T=d("./src/Xarrow/utils/GetPosition.tsx"),_=function(E){var I,R=w.useRef({svgRef:w.useRef(null),lineRef:w.useRef(null),headRef:w.useRef(null),tailRef:w.useRef(null),lineDrawAnimRef:w.useRef(null),lineDashAnimRef:w.useRef(null),headOpacityAnimRef:w.useRef(null)}),F=R.current,B=F.svgRef,D=F.lineRef,A=F.headRef;F.tailRef;var N=F.lineDrawAnimRef,L=F.lineDashAnimRef,H=F.headOpacityAnimRef;w.useContext(k.XarrowContext);var O=v.default(E,R.current),G=O[0],j=G.labels,J=G.lineColor,Z=G.headColor,ae=G.tailColor,z=G.strokeWidth,$=G.showHead,W=G.showTail,oe=G.dashness,X=G.headShape,K=G.tailShape,Y=G.showXarrow,le=G.animateDrawing,ie=G.zIndex,re=G.passProps,se=G.arrowBodyProps,ue=G.arrowHeadProps,we=G.arrowTailProps,Pe=G.SVGcanvasProps,te=G.divContainerProps,pe=G.divContainerStyle,ge=G.SVGcanvasStyle,Te=G._debug,Re=G.shouldUpdatePosition;le=E.animateDrawing;var Ie=w.useState(!le),he=Ie[0],Se=Ie[1],Ce=w.useState({}),$e=Ce[1],ke=function(){return $e({})},me=w.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),ye=me[0],Ee=me[1];w.useLayoutEffect(function(){if(Re.current){var _e=T.getPosition(O,R);Ee(_e),Re.current=!1}});var We=ye.x2-ye.arrowHeadOffset.x,je=ye.y2-ye.arrowHeadOffset.y,et=ye.x1-ye.arrowTailOffset.x,Fe=ye.y1-ye.arrowTailOffset.y,He=oe.strokeLen+oe.nonStrokeLen,ot=1;oe.animation<0&&(oe.animation*=-1,ot=-1);var pt,It,Gt,Jt,Fn=0;return le&&he==!1?(typeof le=="boolean"&&(le=1),It=le+"s",pt=ye.lineLength,Jt=ye.lineLength,Gt=1,le<0&&(I=[Fn,Jt],Jt=I[0],Fn=I[1],It=le*-1+"s")):(pt=oe.strokeLen+" "+oe.nonStrokeLen,It=1/oe.animation+"s",Jt=He*ot,Gt="indefinite",Fn=0),w.useLayoutEffect(function(){D.current&&Ee(function(_e){var Ne,Ye;return h(h({},_e),{lineLength:(Ye=(Ne=D.current)===null||Ne===void 0?void 0:Ne.getTotalLength())!==null&&Ye!==void 0?Ye:0})})},[D.current]),w.useEffect(function(){var _e=function(){window.addEventListener("resize",ke);var Ye=function(){var Bt,en;Se(!0),(Bt=H.current)===null||Bt===void 0||Bt.beginElement(),(en=L.current)===null||en===void 0||en.beginElement()},ct=function(){return A.current.style.opacity="0"};return N.current&&A.current&&(N.current.addEventListener("endEvent",Ye),N.current.addEventListener("beginEvent",ct)),function(){window.removeEventListener("resize",ke),N.current&&(N.current.removeEventListener("endEvent",Ye),A.current&&N.current.removeEventListener("beginEvent",ct))}},Ne=_e();return function(){Se(!1),Ne()}},[Y]),w.default.createElement("div",h({},te,{style:h({position:"absolute",zIndex:ie},pe)}),Y?w.default.createElement(w.default.Fragment,null,w.default.createElement("svg",h({ref:B,width:ye.cw,height:ye.ch,style:h({position:"absolute",left:ye.cx0,top:ye.cy0,pointerEvents:"none",border:Te?"1px dashed yellow":null},ge),overflow:"auto"},Pe),w.default.createElement("path",h({ref:D,d:ye.arrowPath,stroke:J,strokeDasharray:pt,strokeWidth:z,fill:"transparent",pointerEvents:"visibleStroke"},re,se),w.default.createElement(w.default.Fragment,null,he?w.default.createElement(w.default.Fragment,null,oe.animation?w.default.createElement("animate",{ref:L,attributeName:"stroke-dashoffset",values:He*ot+";0",dur:1/oe.animation+"s",repeatCount:"indefinite"}):null):w.default.createElement(w.default.Fragment,null,le?w.default.createElement("animate",{ref:N,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:Jt+";"+Fn,dur:It,repeatCount:Gt}):null))),W?w.default.createElement("g",h({fill:ae,pointerEvents:"auto",transform:"translate("+et+","+Fe+") rotate("+ye.tailOrient+") scale("+ye.fTailSize+")"},re,we),K.svgElem):null,$?w.default.createElement("g",h({ref:A,fill:Z,pointerEvents:"auto",transform:"translate("+We+","+je+") rotate("+ye.headOrient+") scale("+ye.fHeadSize+")",opacity:le&&!he?0:1},re,ue),w.default.createElement("animate",{ref:H,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),X.svgElem):null,Te?w.default.createElement(w.default.Fragment,null,w.default.createElement("circle",{r:"5",cx:ye.cpx1,cy:ye.cpy1,fill:"green"}),w.default.createElement("circle",{r:"5",cx:ye.cpx2,cy:ye.cpy2,fill:"blue"}),w.default.createElement("rect",{x:ye.excLeft,y:ye.excUp,width:ye.absDx,height:ye.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),j.start?w.default.createElement("div",{style:{transform:ye.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:ye.cx0+ye.labelStartPos.x,top:ye.cy0+ye.labelStartPos.y-z-5}},j.start):null,j.middle?w.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:ye.cx0+ye.labelMiddlePos.x,top:ye.cy0+ye.labelMiddlePos.y}},j.middle):null,j.end?w.default.createElement("div",{style:{transform:ye.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:ye.cx0+ye.labelEndPos.x,top:ye.cy0+ye.labelEndPos.y+z+5}},j.end):null,Te?w.default.createElement(w.default.Fragment,null,y(y([],ye.startPoints),ye.endPoints).map(function(_e,Ne){return w.default.createElement("div",{key:Ne,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:_e.x-ye.mainDivPos.x,top:_e.y-ye.mainDivPos.y}})})):null):null)};_.propTypes=P.default,u.default=_},"./src/Xarrow/anchors.ts":function(c,u,d){c=d.nmd(c),Object.defineProperty(u,"__esModule",{value:!0}),u.calcAnchors=void 0;var h=function(p,m){return{middle:{x:p*.5,y:m*.5},left:{x:0,y:m*.5},right:{x:p,y:m*.5},top:{x:p*.5,y:0},bottom:{x:p*.5,y:m}}},f=function(p,m){return p.map(function(y){var S=h(m.right-m.x,m.bottom-m.y),w=S[y.position],v=w.x,k=w.y;return{x:m.x+v+y.offset.x,y:m.y+k+y.offset.y,anchor:y}})};u.calcAnchors=f,d.c[d.s]},"./src/Xarrow/propTypes.ts":function(c,u,d){var h=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(u,"__esModule",{value:!0});var f=h(d("prop-types")),p=d("./src/constants.tsx"),m=f.default.oneOf(p.cAnchorEdge),y=f.default.exact({position:m.isRequired,offset:f.default.exact({x:f.default.number,y:f.default.number}).isRequired}),S=f.default.oneOfType([m,y]),w=f.default.oneOfType([S,f.default.arrayOf(S)]),v=f.default.oneOfType([f.default.string,f.default.exact({current:f.default.any})]),k=f.default.oneOfType([f.default.element,f.default.string]),P=f.default.exact({start:k,middle:k,end:k}),T=f.default.oneOf(Object.keys(p.arrowShapes)),_=f.default.any,E=f.default.oneOfType([T,f.default.exact({svgElem:_,offsetForward:f.default.number}).isRequired]),I={start:v.isRequired,end:v.isRequired,startAnchor:w,endAnchor:w,labels:f.default.oneOfType([k,P]),color:f.default.string,lineColor:f.default.string,showHead:f.default.bool,headColor:f.default.string,headSize:f.default.number,tailSize:f.default.number,tailColor:f.default.string,strokeWidth:f.default.number,showTail:f.default.bool,path:f.default.oneOf(p.cPaths),showXarrow:f.default.bool,curveness:f.default.number,gridBreak:f.default.string,dashness:f.default.oneOfType([f.default.bool,f.default.object]),headShape:E,tailShape:E,animateDrawing:f.default.oneOfType([f.default.bool,f.default.number]),zIndex:f.default.number,passProps:f.default.object,arrowBodyProps:f.default.object,arrowHeadProps:f.default.object,arrowTailProps:f.default.object,SVGcanvasProps:f.default.object,divContainerProps:f.default.object,_extendSVGcanvas:f.default.number,_debug:f.default.bool,_cpx1Offset:f.default.number,_cpy1Offset:f.default.number,_cpx2Offset:f.default.number,_cpy2Offset:f.default.number};u.default=I},"./src/Xarrow/useXarrowProps.ts":function(c,u,d){var h=this&&this.__assign||function(){return h=Object.assign||function(X){for(var K,Y=1,le=arguments.length;Y<le;Y++){K=arguments[Y];for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&(X[ie]=K[ie])}return X},h.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(X,K,Y,le){le===void 0&&(le=Y),Object.defineProperty(X,le,{enumerable:!0,get:function(){return K[Y]}})}:function(X,K,Y,le){le===void 0&&(le=Y),X[le]=K[Y]}),p=this&&this.__setModuleDefault||(Object.create?function(X,K){Object.defineProperty(X,"default",{enumerable:!0,value:K})}:function(X,K){X.default=K}),m=this&&this.__importStar||function(X){if(X&&X.__esModule)return X;var K={};if(X!=null)for(var Y in X)Y!=="default"&&Object.prototype.hasOwnProperty.call(X,Y)&&f(K,X,Y);return p(K,X),K},y=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(u,"__esModule",{value:!0});var S=m(d("react")),w=d("./src/Xarrow/utils/index.ts"),v=y(d("lodash")),k=d("./src/constants.tsx"),P=function(X){var K={start:null,middle:null,end:null};if(X)if(typeof X=="string"||S.default.isValidElement(X))K.middle=X;else for(var Y in X)K[Y]=X[Y];return K},T=function(X){var K=Array.isArray(X)?X:[X],Y=K.map(function(re){return typeof re=="string"?{position:re}:re});Y=Y.filter(function(re){return k.cAnchorEdge.includes(re.position)}),Y.length==0&&(Y=[{position:"auto"}]);var le=Y.filter(function(re){return re.position==="auto"});le.length>0&&(Y=Y.filter(function(re){return re.position!=="auto"}),Y.push.apply(Y,le.flatMap(function(re){return["left","right","top","bottom"].map(function(se){return h(h({},re),{position:se})})})));var ie=Y.map(function(re){if(typeof re=="object"){var se=re;return se.position||(se.position="auto"),se.offset||(se.offset={x:0,y:0}),se.offset.y||(se.offset.y=0),se.offset.x||(se.offset.x=0),se=se,se}else return re});return ie},_=function(X,K){var Y=0,le=0,ie,re=1;return typeof X=="object"?(Y=X.strokeLen||K.strokeWidth*2,le=X.strokeLen?X.nonStrokeLen:K.strokeWidth,ie=X.animation?X.animation:null):typeof X=="boolean"&&X&&(Y=K.strokeWidth*2,le=K.strokeWidth,ie=null),{strokeLen:Y,nonStrokeLen:le,animation:ie,animDirection:re}},E=function(X){return typeof X=="string"&&(X in k.arrowShapes?X=k.arrowShapes[X]:(console.warn("'"+X+"' is not supported arrow shape. the supported arrow shapes is one of "+k.cArrowShapes+`.
           reverting to default shape.`),X=k.arrowShapes.arrow1)),X=X,(X==null?void 0:X.offsetForward)===void 0&&(X.offsetForward=.25),(X==null?void 0:X.svgElem)===void 0&&(X.svgElem="path"),X},I=function(X){var K=w.xStr2absRelative(X);return K||(K={relative:.5,abs:0}),K},R=function(X,K){return K&&(K.current=!0),X},F=function(X){return X},B=function(X,K,Y){return R(X,Y)},D=function(X,K,Y){return R(Number(X),Y)},A=function(X){return Number(X)},N={start:function(X){return w.getElementByPropGiven(X)},end:function(X){return w.getElementByPropGiven(X)},startAnchor:function(X,K,Y){return R(T(X),Y)},endAnchor:function(X,K,Y){return R(T(X),Y)},labels:function(X){return P(X)},color:F,lineColor:function(X,K){return X||K.color},headColor:function(X,K){return X||K.color},tailColor:function(X,K){return X||K.color},strokeWidth:D,showHead:B,headSize:D,showTail:B,tailSize:D,path:B,curveness:D,gridBreak:function(X,K,Y){return R(I(X),Y)},dashness:function(X,K){return _(X,K)},headShape:function(X){return E(X)},tailShape:function(X){return E(X)},showXarrow:F,animateDrawing:F,zIndex:A,passProps:F,arrowBodyProps:B,arrowHeadProps:B,arrowTailProps:B,SVGcanvasProps:B,divContainerProps:B,divContainerStyle:B,SVGcanvasStyle:B,_extendSVGcanvas:B,_debug:B,_cpx1Offset:B,_cpy1Offset:B,_cpx2Offset:B,_cpy2Offset:B},L={};for(var H in N)L[H]=[H];for(var O=0,G=["lineColor","headColor","tailColor"];O<G.length;O++){var H=G[O];L[H].push("color")}var j=function(X,K){for(var Y,le=0,ie=Object.entries(X);le<ie.length;le++){var re=ie[le],se=re[0],ue=re[1];K[se]=(Y=N==null?void 0:N[se])===null||Y===void 0?void 0:Y.call(N,ue,K)}return K},J={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},Z={};Z=j(J,Z);var ae={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function z(X,K){return v.default.isEqual(X,K)}function $(X){var K=S.useRef();return z(X,K.current)||(K.current=X),K.current}function W(X,K){S.useLayoutEffect(X,K.map($))}var oe=function(X,K){var Y=S.useState(Z),le=Y[0],ie=Y[1],re=S.useRef(!1);le.shouldUpdatePosition=re;var se=h(h({},J),X),ue=function(Re){S.useLayoutEffect(function(){var Ie;le[Re]=(Ie=N==null?void 0:N[Re])===null||Ie===void 0?void 0:Ie.call(N,se[Re],le,re),ie(h({},le))},L[Re].map(function(Ie){return X[Ie]}))};for(var we in J)ue(we);var Pe=S.useState(ae),te=Pe[0],pe=Pe[1],ge=w.getElemPos(le.start);W(function(){te.startPos=ge,re.current=!0,pe(h({},te))},[ge]);var Te=w.getElemPos(le.end);return W(function(){te.endPos=Te,re.current=!0,pe(h({},te))},[Te]),S.useLayoutEffect(function(){re.current=!0,pe(h({},te))},[le.headShape.svgElem,le.tailShape.svgElem]),[le,te]};u.default=oe},"./src/Xarrow/utils/GetPosition.tsx":function(c,u,d){var h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(u,"__esModule",{value:!0}),u.getPosition=void 0;var f=d("./src/Xarrow/anchors.ts"),p=d("./src/Xarrow/utils/index.ts"),m=h(d("lodash")),y=d("./src/constants.tsx"),S=d("./src/Xarrow/utils/buzzier.js"),w=function(v,k){var P,T,_,E,I=v[0],R=v[1],F=I.startAnchor,B=I.endAnchor,D=I.strokeWidth,A=I.showHead,N=I.headSize,L=I.showTail,H=I.tailSize,O=I.path,G=I.curveness,j=I.gridBreak,J=I.headShape,Z=I.tailShape,ae=I._extendSVGcanvas,z=I._cpx1Offset,$=I._cpy1Offset,W=I._cpx2Offset,oe=I._cpy2Offset,X=R.startPos,K=R.endPos,Y=k.current,le=Y.svgRef,ie=Y.lineRef,re=0,se=0,ue=f.calcAnchors(F,X),we=f.calcAnchors(B,K),Pe=p.getShortestLine(ue,we),te=Pe.chosenStart,pe=Pe.chosenEnd,ge=te.anchor.position,Te=pe.anchor.position,Re=m.default.pick(te,["x","y"]),Ie=m.default.pick(pe,["x","y"]),he=p.getSvgPos(le),Se=Math.min(Re.x,Ie.x)-he.x,Ce=Math.min(Re.y,Ie.y)-he.y,$e=Ie.x-Re.x,ke=Ie.y-Re.y,me=Math.abs(Ie.x-Re.x),ye=Math.abs(Ie.y-Re.y),Ee=$e>0?1:-1,We=ke>0?1:-1,je=[J.offsetForward,Z.offsetForward],et=je[0],Fe=je[1],He=N*D,ot=H*D,pt=0,It=0,Gt=0,Jt=0,Fn=He*et,_e=ot*Fe,Ne=Number(G);y.cPaths.includes(O)||(O="smooth"),O==="straight"&&(Ne=0,O="smooth");var Ye=N>H?N:H,ct=D+D*Ye/2,Bt=ct,en=ct,Ft=ct,At=ct;en+=Number(ae),Bt+=Number(ae),Ft+=Number(ae),At+=Number(ae);var yt=0,Ut=me,kn=0,Yt=ye;if($e<0&&(P=[Ut,yt],yt=P[0],Ut=P[1]),ke<0&&(T=[Yt,kn],kn=T[0],Yt=T[1]),Ne===0){var Rn=Math.atan(ye/me);A&&(Ut-=He*(1-et)*Ee*Math.cos(Rn),Yt-=He*(1-et)*We*Math.sin(Rn),Rn*=We,Ee<0&&(Rn=(Math.PI-Rn*Ee)*Ee),pt=Math.cos(Rn)*Fn-Math.sin(Rn)*He/2,It=Math.cos(Rn)*He/2+Math.sin(Rn)*Fn,re=Rn*180/Math.PI);var $n=Math.atan(ye/me);L&&(yt+=ot*(1-Fe)*Ee*Math.cos($n),kn+=ot*(1-Fe)*We*Math.sin($n),$n*=-We,Ee>0&&($n=(Math.PI-$n*Ee)*Ee),Gt=Math.cos($n)*_e-Math.sin($n)*ot/2,Jt=Math.cos($n)*ot/2+Math.sin($n)*_e,se=$n*180/Math.PI)}else Te==="middle"&&(me>ye?Te=Ee?"left":"right":Te=We?"top":"bottom"),A&&(["left","right"].includes(Te)?(pt+=Fn*Ee,Ut-=He*(1-et)*Ee,It+=He*Ee/2,Te==="left"?(re=0,Ee<0&&(re+=180)):(re=180,Ee>0&&(re+=180))):["top","bottom"].includes(Te)&&(pt+=He*-We/2,It+=Fn*We,Yt-=He*We-It,Te==="top"?(re=270,We>0&&(re+=180)):(re=90,We<0&&(re+=180))));L&&Ne!==0&&(["left","right"].includes(ge)?(Gt+=_e*-Ee,yt+=ot*Ee+Gt,Jt+=-(ot*Ee)/2,ge==="left"?(se=180,Ee<0&&(se+=180)):(se=0,Ee>0&&(se+=180))):["top","bottom"].includes(ge)&&(Jt+=_e*-We,kn+=ot*We+Jt,Gt+=ot*We/2,ge==="top"?(se=90,We>0&&(se+=180)):(se=270,We<0&&(se+=180))));var Xr={x:pt,y:It},vr={x:Gt,y:Jt},lr=yt,Nr=kn,Ve=Ut,Oe=Yt,Tt={};O==="smooth"?Tt={hh:function(){lr+=me*Ne*Ee,Ve-=me*Ne*Ee},vv:function(){Nr+=ye*Ne*We,Oe-=ye*Ne*We},hv:function(){lr+=me*Ne*Ee,Oe-=ye*Ne*We},vh:function(){Nr+=ye*Ne*We,Ve-=me*Ne*Ee}}:O==="grid"&&(Tt={hh:function(){lr+=(me*j.relative+j.abs)*Ee,Ve-=(me*(1-j.relative)-j.abs)*Ee,A&&(lr-=He*(1-et)/2*Ee,Ve+=He*(1-et)/2*Ee),L&&(lr-=ot*(1-Fe)/2*Ee,Ve+=ot*(1-Fe)/2*Ee)},vv:function(){Nr+=(ye*j.relative+j.abs)*We,Oe-=(ye*(1-j.relative)-j.abs)*We,A&&(Nr-=He*(1-et)/2*We,Oe+=He*(1-et)/2*We),L&&(Nr-=ot*(1-Fe)/2*We,Oe+=ot*(1-Fe)/2*We)},hv:function(){lr=Ut},vh:function(){Nr=Yt}});var gt="";["left","right"].includes(ge)?gt+="h":["bottom","top"].includes(ge)?gt+="v":ge==="middle"&&(gt+="m"),["left","right"].includes(Te)?gt+="h":["bottom","top"].includes(Te)?gt+="v":Te==="middle"&&(gt+="m"),me>ye?gt=gt.replace(/m/g,"h"):gt=gt.replace(/m/g,"v"),Tt[gt](),lr+=z,Nr+=$,Ve+=W,Oe+=oe;var jt=S.buzzierMinSols(yt,lr,Ve,Ut),Ht=jt[0],Ln=jt[1],ms=S.buzzierMinSols(kn,Nr,Oe,Yt),Kn=ms[0],Sr=ms[1];Ht<0&&(en+=-Ht),Ln>me&&(Bt+=Ln-me),Kn<0&&(Ft+=-Kn),Sr>ye&&(At+=Sr-ye),O==="grid"&&(en+=ct,Bt+=ct,Ft+=ct,At+=ct),yt+=en,Ut+=en,kn+=Ft,Yt+=Ft,lr+=en,Ve+=en,Nr+=Ft,Oe+=Ft;var es=me+en+Bt,Ud=ye+Ft+At;Se-=en,Ce-=Ft;var yf=S.bzFunction(yt,lr,Ve,Ut),Zm=S.bzFunction(kn,Nr,Oe,Yt),ow={x:yf(.01),y:Zm(.01)},aw={x:yf(.5),y:Zm(.5)},lw={x:yf(.99),y:Zm(.99)},e1;return O==="grid"?e1="M "+yt+" "+kn+" L  "+lr+" "+Nr+" L "+Ve+" "+Oe+" "+Ut+" "+Yt:O==="smooth"&&(e1="M "+yt+" "+kn+" C "+lr+" "+Nr+", "+Ve+" "+Oe+", "+Ut+" "+Yt),{cx0:Se,cy0:Ce,x1:yt,x2:Ut,y1:kn,y2:Yt,cw:es,ch:Ud,cpx1:lr,cpy1:Nr,cpx2:Ve,cpy2:Oe,dx:$e,dy:ke,absDx:me,absDy:ye,headOrient:re,tailOrient:se,labelStartPos:ow,labelMiddlePos:aw,labelEndPos:lw,excLeft:en,excRight:Bt,excUp:Ft,excDown:At,headOffset:Fn,arrowHeadOffset:Xr,arrowTailOffset:vr,startPoints:ue,endPoints:we,mainDivPos:he,xSign:Ee,ySign:We,lineLength:(E=(_=ie.current)===null||_===void 0?void 0:_.getTotalLength())!==null&&E!==void 0?E:0,fHeadSize:He,fTailSize:ot,arrowPath:e1}};u.getPosition=w},"./src/Xarrow/utils/index.ts":function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getSvgPos=u.getElemPos=u.getShortestLine=u.xStr2absRelative=u.factorDpathStr=u.getElementByPropGiven=void 0;var d=function(w){var v;return typeof w=="string"?v=document.getElementById(w):v=w==null?void 0:w.current,v};u.getElementByPropGiven=d;var h=function(w,v){var k=w.split(/(\d+(?:\.\d+)?)/);return k=k.map(function(P){return Number(P)?(Number(P)*v).toString():P}),k.join("")};u.factorDpathStr=h;var f=function(w){if(typeof w!="string")return{abs:0,relative:.5};var v=w.split("%"),k=0,P=0;if(v.length==1){var T=parseFloat(v[0]);if(!isNaN(T))return k=T,{abs:k,relative:0}}else if(v.length==2){var _=[parseFloat(v[0]),parseFloat(v[1])],E=_[0],I=_[1];if(isNaN(E)||(P=E/100),isNaN(I)||(k=I),!isNaN(E)||!isNaN(I))return{abs:k,relative:P}}};u.xStr2absRelative=f;var p=function(w,v){return Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2))},m=function(w,v){var k=1/0,P=1/0,T;return w.forEach(function(_){v.forEach(function(E){P=p(_,E),P<k&&(k=P,T={chosenStart:_,chosenEnd:E})})}),T};u.getShortestLine=m;var y=function(w){if(!w)return{x:0,y:0,right:0,bottom:0};var v=w.getBoundingClientRect();return{x:v.left,y:v.top,right:v.right,bottom:v.bottom}};u.getElemPos=y;var S=function(w){if(!w.current)return{x:0,y:0};var v=w.current.getBoundingClientRect(),k=v.left,P=v.top,T=getComputedStyle(w.current),_=Number(T.left.slice(0,-2)),E=Number(T.top.slice(0,-2));return{x:k-_,y:P-E}};u.getSvgPos=S},"./src/Xwrapper.tsx":function(c,u,d){var h=this&&this.__createBinding||(Object.create?function(P,T,_,E){E===void 0&&(E=_),Object.defineProperty(P,E,{enumerable:!0,get:function(){return T[_]}})}:function(P,T,_,E){E===void 0&&(E=_),P[E]=T[_]}),f=this&&this.__setModuleDefault||(Object.create?function(P,T){Object.defineProperty(P,"default",{enumerable:!0,value:T})}:function(P,T){P.default=T}),p=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var T={};if(P!=null)for(var _ in P)_!=="default"&&Object.prototype.hasOwnProperty.call(P,_)&&h(T,P,_);return f(T,P),T};Object.defineProperty(u,"__esModule",{value:!0}),u.XarrowContext=u.XelemContext=void 0;var m=p(d("react"));u.XelemContext=m.default.createContext(null),u.XarrowContext=m.default.createContext(null);var y={},S=0,w=function(P){var T=P.children,_=P.instanceCount,E=m.useState({}),I=E[1],R=function(){return I({})};return m.useEffect(function(){_.current=S,y[_.current]=R},[]),m.default.createElement(u.XarrowContext.Provider,{value:R},T)},v=function(P){var T=P.children,_=P.instanceCount;return m.default.createElement(u.XelemContext.Provider,{value:y[_.current]},T)},k=function(P){var T=P.children,_=m.useRef(S),E=m.useState({}),I=E[1];return m.useEffect(function(){return S++,I({}),function(){delete y[_.current]}},[]),m.default.createElement(v,{instanceCount:_},m.default.createElement(w,{instanceCount:_},T))};u.default=k},"./src/constants.tsx":function(c,u,d){var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(u,"__esModule",{value:!0}),u.cArrowShapes=u.arrowShapes=u.cSvgElems=u.cPaths=u.cAnchorEdge=void 0;var f=h(d("react"));u.cAnchorEdge=["middle","left","right","top","bottom","auto"],u.cPaths=["smooth","grid","straight"],u.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],u.arrowShapes={arrow1:{svgElem:f.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:f.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:f.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},u.cArrowShapes=Object.keys(u.arrowShapes)},"./src/index.tsx":function(c,u,d){var h=this&&this.__createBinding||(Object.create?function(w,v,k,P){P===void 0&&(P=k),Object.defineProperty(w,P,{enumerable:!0,get:function(){return v[k]}})}:function(w,v,k,P){P===void 0&&(P=k),w[P]=v[k]}),f=this&&this.__exportStar||function(w,v){for(var k in w)k!=="default"&&!Object.prototype.hasOwnProperty.call(v,k)&&h(v,w,k)},p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(u,"__esModule",{value:!0}),u.useXarrow=u.Xwrapper=u.default=void 0;var m=d("./src/Xarrow/Xarrow.tsx");Object.defineProperty(u,"default",{enumerable:!0,get:function(){return p(m).default}}),f(d("./src/types.ts"),u),f(d("./src/constants.tsx"),u);var y=d("./src/Xwrapper.tsx");Object.defineProperty(u,"Xwrapper",{enumerable:!0,get:function(){return p(y).default}});var S=d("./src/useXarrow.tsx");Object.defineProperty(u,"useXarrow",{enumerable:!0,get:function(){return p(S).default}})},"./src/types.ts":function(c,u){Object.defineProperty(u,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(c,u,d){Object.defineProperty(u,"__esModule",{value:!0});var h=d("react"),f=d("./src/Xwrapper.tsx"),p=function(){var m=h.useState({}),y=m[1],S=function(){return y({})},w=h.useContext(f.XelemContext);return w||(w=function(){}),h.useLayoutEffect(function(){w()}),S};u.default=p},lodash:function(c){c.exports=r},"prop-types":function(c){c.exports=i},react:function(c){c.exports=n}},o={};function a(c){var u=o[c];if(u!==void 0)return u.exports;var d=o[c]={id:c,loaded:!1,exports:{}};return s[c].call(d.exports,d,d.exports,a),d.loaded=!0,d.exports}a.c=o,function(){a.d=function(c,u){for(var d in u)a.o(u,d)&&!a.o(c,d)&&Object.defineProperty(c,d,{enumerable:!0,get:u[d]})}}(),function(){a.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}}(),function(){a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}}(),function(){a.nmd=function(c){return c.paths=[],c.children||(c.children=[]),c}}();var l=a(a.s="./src/index.tsx");return l}()})})(FK);var jUe=FK.exports;const OK=Pa(jUe);var YUe=Object.defineProperty,XUe=Object.defineProperties,qUe=Object.getOwnPropertyDescriptors,M$=Object.getOwnPropertySymbols,KUe=Object.prototype.hasOwnProperty,QUe=Object.prototype.propertyIsEnumerable,E$=(t,e,n)=>e in t?YUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xy=(t,e)=>{for(var n in e||(e={}))KUe.call(e,n)&&E$(t,n,e[n]);if(M$)for(var n of M$(e))QUe.call(e,n)&&E$(t,n,e[n]);return t},zS=(t,e)=>XUe(t,qUe(e)),j4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},dn=(t,e,n)=>(j4(t,e,"read from private field"),n?n.call(t):e.get(t)),To=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},xs=(t,e,n,r)=>(j4(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),JUe=(t,e,n)=>(j4(t,e,"access private method"),n),Nd=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});function WS(t){const e=t.filter(n=>!!n);return e.reduce((n,r)=>{const i="output"in n?n.output:n,s="input"in r?r.input:r;return i.connect(s),r}),()=>{e.reduce((n,r)=>{const i="output"in n?n.output:n,s="input"in r?r.input:r;return i.disconnect(s),r})}}function ZUe(t){let e=t;const n=new Set;function r(o){return n.add(o),o(e),()=>{n.delete(o)}}function i(o){e=o,n.forEach(a=>a(e))}function s(){return e}return{subscribe:r,set:i,get:s}}function eje(){const t=new Set;function e(r){return t.add(r),()=>{t.delete(r)}}function n(r){t.forEach(i=>i(r))}return{subscribe:e,trigger:n}}function tje(t){let e=!1;return()=>{e||(e=!0,t.forEach(n=>n==null?void 0:n()))}}function $K(t){return t*t/16129}function nje(t){return Math.pow(10,t/20)}var Hf,hh,Q0,J0,GS,Vf,zf,rje=class{constructor(t,e){this.context=t,To(this,Hf,void 0),To(this,hh,void 0),To(this,Q0,void 0),To(this,J0,void 0),To(this,GS,void 0),To(this,Vf,void 0),To(this,zf,!1);var n,r,i;xs(this,Vf,{destination:(n=e==null?void 0:e.destination)!=null?n:t.destination,volume:(r=e==null?void 0:e.volume)!=null?r:100,volumeToGain:(i=e==null?void 0:e.volumeToGain)!=null?i:$K}),this.input=t.createGain(),xs(this,Hf,t.createGain()),xs(this,J0,WS([this.input,dn(this,Hf),dn(this,Vf).destination]));const s=ZUe(dn(this,Vf).volume);this.setVolume=s.set,xs(this,GS,s.subscribe(o=>{dn(this,Hf).gain.value=dn(this,Vf).volumeToGain(o)}))}addInsert(t){var e;if(dn(this,zf))throw Error("Can't add insert to disconnected channel");(e=dn(this,Q0))!=null||xs(this,Q0,[]),dn(this,Q0).push(t),dn(this,J0).call(this),xs(this,J0,WS([this.input,...dn(this,Q0),dn(this,Hf),dn(this,Vf).destination]))}addEffect(t,e,n){var r;if(dn(this,zf))throw Error("Can't add effect to disconnected channel");const i=this.context.createGain();i.gain.value=n;const s="input"in e?e.input:e,o=WS([dn(this,Hf),i,s]);(r=dn(this,hh))!=null||xs(this,hh,[]),dn(this,hh).push({name:t,mix:i,disconnect:o})}sendEffect(t,e){var n;if(dn(this,zf))throw Error("Can't send effect to disconnected channel");const r=(n=dn(this,hh))==null?void 0:n.find(i=>i.name===t);r?r.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;dn(this,zf)||(xs(this,zf,!0),dn(this,J0).call(this),dn(this,GS).call(this),(t=dn(this,hh))==null||t.forEach(e=>e.disconnect()),xs(this,hh,void 0))}};Hf=new WeakMap;hh=new WeakMap;Q0=new WeakMap;J0=new WeakMap;GS=new WeakMap;Vf=new WeakMap;zf=new WeakMap;var Da,ije=class{constructor(t){this.compare=t,To(this,Da,[])}push(t){const e=dn(this,Da).length;let n=0,r=e-1,i=e;for(;n<=r;){const s=Math.floor((n+r)/2);this.compare(t,dn(this,Da)[s])<0?(i=s,r=s-1):n=s+1}dn(this,Da).splice(i,0,t)}pop(){return dn(this,Da).shift()}peek(){return dn(this,Da)[0]}removeAll(t){const e=dn(this,Da).length;return xs(this,Da,dn(this,Da).filter(n=>!t(n))),dn(this,Da).length!==e}clear(){xs(this,Da,[])}size(){return dn(this,Da).length}};Da=new WeakMap;function B$(t,e){return t&&e?n=>{t(n),e(n)}:t??e}function sje(t){var e,n,r;const i={disableScheduler:(e=t.disableScheduler)!=null?e:!1,scheduleLookaheadMs:(n=t.scheduleLookaheadMs)!=null?n:200,scheduleIntervalMs:(r=t.scheduleIntervalMs)!=null?r:50,onStart:t.onStart,onEnded:t.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}var Uu,ml,Wf,oje=class{constructor(t,e={}){To(this,Uu,void 0),To(this,ml,void 0),To(this,Wf,void 0),xs(this,Uu,sje(e)),xs(this,ml,new ije((n,r)=>n.time-r.time)),this.player=t}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return dn(this,Wf)!==void 0}start(t){var e;if(dn(this,Uu).disableScheduler)return this.player.start(t);const n=this.player.context,r=n.currentTime,i=(e=t.time)!=null?e:r,s=dn(this,Uu).scheduleLookaheadMs/1e3;return t.onStart=B$(t.onStart,dn(this,Uu).onStart),t.onEnded=B$(t.onEnded,dn(this,Uu).onEnded),i<r+s?this.player.start(t):(dn(this,ml).push(zS(Xy({},t),{time:i})),dn(this,Wf)||xs(this,Wf,setInterval(()=>{const o=n.currentTime+s;for(;dn(this,ml).size()&&dn(this,ml).peek().time<=o;){const a=dn(this,ml).pop();a&&this.player.start(a)}dn(this,ml).size()||(clearInterval(dn(this,Wf)),xs(this,Wf,void 0))},dn(this,Uu).scheduleIntervalMs)),o=>{!o||o<i?dn(this,ml).removeAll(a=>a===t)||this.player.stop(zS(Xy({},t),{time:o})):this.player.stop(zS(Xy({},t),{time:o}))})}stop(t){var e;if(dn(this,Uu).disableScheduler)return this.player.stop(t);if(this.player.stop(t),!t){dn(this,ml).clear();return}const n=(e=t==null?void 0:t.time)!=null?e:0,r=t==null?void 0:t.stopId;r?dn(this,ml).removeAll(i=>i.time>=n&&i.stopId?i.stopId===r:i.note===r):dn(this,ml).removeAll(i=>i.time>=n)}disconnect(){this.player.disconnect()}};Uu=new WeakMap;ml=new WeakMap;Wf=new WeakMap;var yy,Z0,by,aje=class{constructor(t,e){this.context=t,this.options=e,To(this,yy,void 0),To(this,Z0,!1),To(this,by,void 0);var n,r;xs(this,yy,{velocityToGain:(n=e.velocityToGain)!=null?n:$K,destination:(r=e.destination)!=null?r:t.destination}),this.buffers={},xs(this,by,eje())}start(t){var e,n,r,i,s,o,a,l,c,u,d,h,f,p;if(dn(this,Z0))throw new Error("Can't start a sample on disconnected player");const m=this.context,y=t.name&&this.buffers[t.name]||this.buffers[t.note];if(!y)return console.warn(`Sample not found: '${t.note}'`),()=>{};const S=m.createBufferSource();S.buffer=y;const w=(n=(e=t.detune)!=null?e:this.options.detune)!=null?n:0;S.detune?S.detune.value=w:S.playbackRate&&(S.playbackRate.value=Math.pow(2,w/1200));const v=(r=t.lpfCutoffHz)!=null?r:this.options.lpfCutoffHz,k=v?m.createBiquadFilter():void 0;v&&k&&(k.type="lowpass",k.frequency.value=v);const P=m.createGain(),T=(s=(i=t.velocity)!=null?i:this.options.velocity)!=null?s:100;P.gain.value=dn(this,yy).velocityToGain(T),((o=t.loop)!=null?o:this.options.loop)&&(S.loop=!0,S.loopStart=(a=t.loopStart)!=null?a:0,S.loopEnd=(l=t.loopEnd)!=null?l:y.duration);const E=(c=t.decayTime)!=null?c:this.options.decayTime,[I,R]=lje(m,E);function F(H){if(H??(H=m.currentTime),H<=N)S.stop(H);else{const O=R(H);S.stop(O)}}const B=t.gainOffset?m.createGain():void 0;B&&t.gainOffset&&(B.gain.value=t.gainOffset);const D=(u=t.stopId)!=null?u:t.note,A=tje([WS([S,k,P,I,B,dn(this,yy).destination]),(d=t.stop)==null?void 0:d.call(t,F),dn(this,by).subscribe(H=>{(!H||H.stopId===void 0||H.stopId===D)&&F(H==null?void 0:H.time)})]);S.onended=()=>{var H;A(),(H=t.onEnded)==null||H.call(t,t)},(h=t.onStart)==null||h.call(t,t);const N=Math.max((f=t.time)!=null?f:0,m.currentTime);S.start(t.time);let L=(p=t.duration)!=null?p:y.duration;return typeof t.duration=="number"&&F(N+L),F}stop(t){dn(this,by).trigger(t)}disconnect(){dn(this,Z0)||(xs(this,Z0,!0),this.stop(),Object.keys(this.buffers).forEach(t=>{delete this.buffers[t]}))}get connected(){return!dn(this,Z0)}};yy=new WeakMap;Z0=new WeakMap;by=new WeakMap;function lje(t,e=.2){let n=0;const r=t.createGain();r.gain.value=1;function i(s){if(n)return n;r.gain.cancelScheduledValues(s);const o=s||t.currentTime;return n=o+e,r.gain.setValueAtTime(1,o),r.gain.linearRampToValueAtTime(0,n),n}return[r,i]}var HK=class{constructor(t,e){this.context=t;const n=new rje(t,e);this.player=new oje(new aje(t,zS(Xy({},e),{destination:n.input})),e),this.output=n}get buffers(){return this.player.buffers}start(t){return this.player.start(t)}stop(t){this.player.stop(typeof t=="object"?t:t!==void 0?{stopId:t}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function cje(t,e,n){return Nd(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const r=yield n.fetch(e);if(r.status!==200){console.warn("Error loading buffer. Invalid status: ",r.status,e);return}try{const i=yield r.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function VK(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let n=0;n<t.length;n++){const r=t[n],i=e.canPlayType(`audio/${r}`);if(i==="probably"||i==="maybe")return r;if(r==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return r}}return null}var zK={fetch(t){return fetch(t)}};function uje(t){const n=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!n)return;const r=n[1].toUpperCase();if(!r)return;const i=n[2],s=i[0]==="b"?-i.length:i.length,o=n[3]?+n[3]:4,a=(r.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][a]+s+12*(o+1)}function VT(t){return t===void 0?void 0:typeof t=="number"?t:uje(t)}function dje(){return{regions:[]}}function hje(t,e,n,r){const i=VT(e.note);if(i!==void 0)for(const s of t.regions){const o=fje(i,n??0,e,s,r);if(o)return o}}function fje(t,e,n,r,i){var s,o,a,l,c,u,d,h,f,p,m,y,S,w,v,k,P,T,_,E,I,R,F,B,D,A,N,L;if(!(t>=((s=r.midiLow)!=null?s:0)&&t<((o=r.midiHigh)!=null?o:127)+1)||!(n.velocity===void 0||n.velocity>=((a=r.velLow)!=null?a:0)&&n.velocity<=((l=r.velHigh)!=null?l:127)))return;if(r.seqLength){const z=e%r.seqLength,$=((c=r.seqPosition)!=null?c:1)-1;if(z!==$)return}const G=t-r.midiPitch,j=(u=n.velocity)!=null?u:i==null?void 0:i.velocity,J=r.volume?nje(r.volume):0,Z=(h=(d=n.gainOffset)!=null?d:i==null?void 0:i.gainOffset)!=null?h:0,ae=(f=n.detune)!=null?f:0;return{decayTime:(y=(m=n==null?void 0:n.decayTime)!=null?m:(p=r.sample)==null?void 0:p.decayTime)!=null?y:i==null?void 0:i.decayTime,detune:100*(G+((S=r.tune)!=null?S:0))+ae,duration:(k=(v=n==null?void 0:n.duration)!=null?v:(w=r.sample)==null?void 0:w.duration)!=null?k:i==null?void 0:i.duration,gainOffset:Z+J||void 0,loop:(_=(T=n==null?void 0:n.loop)!=null?T:(P=r.sample)==null?void 0:P.loop)!=null?_:i==null?void 0:i.loop,loopEnd:(R=(I=n==null?void 0:n.loopEnd)!=null?I:(E=r.sample)==null?void 0:E.loopEnd)!=null?R:i==null?void 0:i.loopEnd,loopStart:(D=(B=n==null?void 0:n.loopStart)!=null?B:(F=r.sample)==null?void 0:F.loopStart)!=null?D:i==null?void 0:i.loopStart,lpfCutoffHz:(L=(N=n==null?void 0:n.lpfCutoffHz)!=null?N:(A=r.sample)==null?void 0:A.lpfCutoffHz)!=null?L:i==null?void 0:i.lpfCutoffHz,name:r.sampleName,note:t,onEnded:n.onEnded,onStart:n.onStart,stopId:n.name,time:n.time,velocity:j??void 0}}function pje(t){if(t.length===0)return[];if(t.sort((e,n)=>e.midiPitch-n.midiPitch),t[0].midiLow=0,t[0].midiHigh=127,t.length===1)return t;for(let e=1;e<t.length;e++){const n=t[e-1],r=t[e],i=Math.floor((n.midiPitch+r.midiPitch)/2);n.midiHigh=i,r.midiLow=i+1}return t[t.length-1].midiHigh=127,t}function gje(t,e){var n;const r=(n=VK(["ogg","mp3"]))!=null?n:"mp3";return`https://gleitz.github.io/midi-js-soundfonts/${e}/${t}-${r}.js`}function mje(t,e,n){return(r,i)=>Nd(this,null,function*(){const s=yield(yield i.fetch(t)).text(),o=yje(s),a=Object.keys(o);yield Promise.all(a.map(l=>Nd(this,null,function*(){const c=VT(l);if(!c)return;const u=vje(bje(o[l])),d=yield r.decodeAudioData(u);e[l]=d,n.regions.push({sampleName:l,midiPitch:c})}))),pje(n.regions)})}function yje(t){const e=t.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");const n=t.indexOf("=",e)+2,r=t.lastIndexOf(",");return JSON.parse(t.slice(n,r)+"}")}function bje(t){return t.slice(t.indexOf(",")+1)}function vje(t){const e=window.atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}function wje(t,e){if(!t.startsWith("http"))return`https://goldst.dev/midi-js-soundfonts/${e}/${t}-loop.json`}function xje(t,e=44100){return Nd(this,null,function*(){if(t)try{const n=yield fetch(t);if(n.status!==200)return;const r=yield n.json(),i={};return Object.keys(r).forEach(s=>{const o=VT(s);if(o){const a=r[s];i[o]=[a[0]/e,a[1]/e]}}),i}catch{return}})}var vy,Sje=class{constructor(t,e){this.context=t,To(this,vy,void 0),this.config=kje(e),this.player=new HK(t,e),this.group=dje(),xs(this,vy,!1);const n=Cje(this.config.instrumentUrl,this.config.loopDataUrl,this.player.buffers,this.group);this.load=n(t,this.config.storage).then(i=>(xs(this,vy,i),this));const r=t.createGain();r.gain.value=this.config.extraGain,this.player.output.addInsert(r)}get output(){return this.player.output}get hasLoops(){return dn(this,vy)}loaded(){return Nd(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}disconnect(){this.player.disconnect()}start(t){const e=hje(this.group,typeof t=="object"?t:{note:t});return e?this.player.start(e):()=>{}}stop(t){return this.player.stop(t)}};vy=new WeakMap;function Cje(t,e,n,r){const i=mje(t,n,r);return(s,o)=>Nd(this,null,function*(){const[a,l]=yield Promise.all([i(s,o),xje(e)]);return l&&r.regions.forEach(c=>{var u;const d=l[c.midiPitch];d&&((u=c.sample)!=null||(c.sample={}),c.sample.loop=!0,c.sample.loopStart=d[0],c.sample.loopEnd=d[1])}),!!l})}function kje(t){var e,n,r,i;if(!t.instrument&&!t.instrumentUrl)throw Error("Soundfont: instrument or instrumentUrl is required");const s={kit:"MusyngKite",instrument:t.instrument,storage:(e=t.storage)!=null?e:zK,extraGain:(n=t.extraGain)!=null?n:5,loadLoopData:(r=t.loadLoopData)!=null?r:!1,loopDataUrl:t.loopDataUrl,instrumentUrl:(i=t.instrumentUrl)!=null?i:""};return s.instrument&&s.instrument.startsWith("http")&&(console.warn("Use 'instrumentUrl' instead of 'instrument' to load from a URL"),s.instrumentUrl=s.instrument,s.instrument=void 0),s.instrument&&!s.instrumentUrl&&(s.instrumentUrl=gje(s.instrument,s.kit)),s.loadLoopData&&s.instrument&&!s.loopDataUrl&&(s.loopDataUrl=wje(s.instrument,s.kit)),s}var Tje="https://danigb.github.io/samples/splendid-grand-piano",F5,WK,Y4=class{constructor(t,e){this.context=t,To(this,F5),this.options=Object.assign({baseUrl:Tje,storage:zK,detune:0,volume:100,velocity:100,decayTime:.5},e),this.player=new HK(t,this.options);const n=_je(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=n(t,this.player.buffers).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return Nd(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}start(t){var e,n;const r=typeof t=="object"?Xy({},t):{note:t},i=JUe(this,F5,WK).call(this,r);return i?(r.note=i[0],r.stopId=(e=r.stopId)!=null?e:i[1],r.detune=i[2]+((n=r.detune)!=null?n:this.options.detune),this.player.start(r)):()=>{}}stop(t){return this.player.stop(t)}};F5=new WeakSet;WK=function(t){var e;const n=VT(t.note);if(!n)return;const r=(e=t.velocity)!=null?e:this.options.velocity,i=SC.findIndex(o=>r>=o.vel_range[0]&&r<=o.vel_range[1]),s=SC[i];if(s)return Pje(s.name,n,this.player.buffers)};function Pje(t,e,n){let r=0;for(;n[t+(e+r)]===void 0&&r<128;)r>0?r=-r:r=-r+1;return r===127?[t+e,e,0]:[t+(e+r),e,-r*100]}function _je(t,e,n){var r;const i=(r=VK(["ogg","m4a"]))!=null?r:"ogg";let s=n?SC.filter(o=>o.vel_range[0]<=n.velocityRange[1]&&o.vel_range[1]>=n.velocityRange[0]):SC;return(o,a)=>Nd(this,null,function*(){for(const l of s){const c=n?l.samples.filter(u=>n.notes.includes(u[0])):l.samples;yield Promise.all(c.map(u=>Nd(this,[u],function*([d,h]){const f=`${t}/${h}.${i}`,p=yield cje(o,f,e);p&&(a[l.name+d]=p)})))}})}var SC=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}],Mje=Eje;function Eje(t,e,n){if(t!=null&&typeof t!="number")throw new Error("start must be a number or null");if(e!=null&&typeof e!="number")throw new Error("stop must be a number or null");if(n!=null&&typeof n!="number")throw new Error("step must be a number or null");e==null&&(e=t||0,t=0),n==null&&(n=e>t?1:-1);for(var r=[],i=t<e;i?t<e:t>e;t+=n)r.push(t);return r}const X4=Pa(Mje);var GK={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GK);var Bje=GK.exports;const q4=Pa(Bje);var Nje=200,K4="__lodash_hash_undefined__",Ije=9007199254740991,Aje="[object Arguments]",Rje="[object Function]",Lje="[object GeneratorFunction]",Dje=/[\\^$.*+?()[\]{}|]/g,Fje=/^\[object .+?Constructor\]$/,Oje=typeof Mo=="object"&&Mo&&Mo.Object===Object&&Mo,$je=typeof self=="object"&&self&&self.Object===Object&&self,Q4=Oje||$je||Function("return this")();function Hje(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Vje(t,e){var n=t?t.length:0;return!!n&&jje(t,e,0)>-1}function zje(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function Wje(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Gje(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Uje(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function jje(t,e,n){if(e!==e)return Uje(t,Yje,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Yje(t){return t!==t}function Xje(t){return function(e){return t(e)}}function qje(t,e){return t.has(e)}function Kje(t,e){return t==null?void 0:t[e]}function Qje(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Jje=Array.prototype,Zje=Function.prototype,J4=Object.prototype,sM=Q4["__core-js_shared__"],N$=function(){var t=/[^.]+$/.exec(sM&&sM.keys&&sM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),UK=Zje.toString,zT=J4.hasOwnProperty,jK=J4.toString,eYe=RegExp("^"+UK.call(zT).replace(Dje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I$=Q4.Symbol,tYe=J4.propertyIsEnumerable,nYe=Jje.splice,A$=I$?I$.isConcatSpreadable:void 0,R$=Math.max,rYe=XK(Q4,"Map"),hv=XK(Object,"create");function Op(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function iYe(){this.__data__=hv?hv(null):{}}function sYe(t){return this.has(t)&&delete this.__data__[t]}function oYe(t){var e=this.__data__;if(hv){var n=e[t];return n===K4?void 0:n}return zT.call(e,t)?e[t]:void 0}function aYe(t){var e=this.__data__;return hv?e[t]!==void 0:zT.call(e,t)}function lYe(t,e){var n=this.__data__;return n[t]=hv&&e===void 0?K4:e,this}Op.prototype.clear=iYe;Op.prototype.delete=sYe;Op.prototype.get=oYe;Op.prototype.has=aYe;Op.prototype.set=lYe;function Km(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cYe(){this.__data__=[]}function uYe(t){var e=this.__data__,n=WT(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nYe.call(e,n,1),!0}function dYe(t){var e=this.__data__,n=WT(e,t);return n<0?void 0:e[n][1]}function hYe(t){return WT(this.__data__,t)>-1}function fYe(t,e){var n=this.__data__,r=WT(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Km.prototype.clear=cYe;Km.prototype.delete=uYe;Km.prototype.get=dYe;Km.prototype.has=hYe;Km.prototype.set=fYe;function Qm(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pYe(){this.__data__={hash:new Op,map:new(rYe||Km),string:new Op}}function gYe(t){return GT(this,t).delete(t)}function mYe(t){return GT(this,t).get(t)}function yYe(t){return GT(this,t).has(t)}function bYe(t,e){return GT(this,t).set(t,e),this}Qm.prototype.clear=pYe;Qm.prototype.delete=gYe;Qm.prototype.get=mYe;Qm.prototype.has=yYe;Qm.prototype.set=bYe;function CC(t){var e=-1,n=t?t.length:0;for(this.__data__=new Qm;++e<n;)this.add(t[e])}function vYe(t){return this.__data__.set(t,K4),this}function wYe(t){return this.__data__.has(t)}CC.prototype.add=CC.prototype.push=vYe;CC.prototype.has=wYe;function WT(t,e){for(var n=t.length;n--;)if(EYe(t[n][0],e))return n;return-1}function xYe(t,e,n,r){var i=-1,s=Vje,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Wje(e,Xje(n))),r?(s=zje,o=!1):e.length>=Nje&&(s=qje,o=!1,e=new CC(e));e:for(;++i<a;){var u=t[i],d=n?n(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;l.push(u)}else s(e,d,r)||l.push(u)}return l}function YK(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=kYe),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?YK(a,e-1,n,r,i):Gje(i,a):r||(i[i.length]=a)}return i}function SYe(t){if(!KK(t)||PYe(t))return!1;var e=qK(t)||Qje(t)?eYe:Fje;return e.test(_Ye(t))}function CYe(t,e){return e=R$(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=R$(n.length-e,0),s=Array(i);++r<i;)s[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=s,Hje(t,this,o)}}function GT(t,e){var n=t.__data__;return TYe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function XK(t,e){var n=Kje(t,e);return SYe(n)?n:void 0}function kYe(t){return NYe(t)||BYe(t)||!!(A$&&t&&t[A$])}function TYe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function PYe(t){return!!N$&&N$ in t}function _Ye(t){if(t!=null){try{return UK.call(t)}catch{}try{return t+""}catch{}}return""}var MYe=CYe(function(t,e){return O5(t)?xYe(t,YK(e,1,O5,!0)):[]});function EYe(t,e){return t===e||t!==t&&e!==e}function BYe(t){return O5(t)&&zT.call(t,"callee")&&(!tYe.call(t,"callee")||jK.call(t)==Aje)}var NYe=Array.isArray;function IYe(t){return t!=null&&AYe(t.length)&&!qK(t)}function O5(t){return RYe(t)&&IYe(t)}function qK(t){var e=KK(t)?jK.call(t):"";return e==Rje||e==Lje}function AYe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ije}function KK(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function RYe(t){return!!t&&typeof t=="object"}var LYe=MYe;const L$=Pa(LYe);function UT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jT(t,e,n){return e&&D$(t.prototype,e),n&&D$(t,n),t}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(){return $5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$5.apply(this,arguments)}function YT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H5(t,e)}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function H5(t,e){return H5=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},H5(t,e)}function DYe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FYe(t,e){if(t==null)return{};var n=DYe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XT(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:Wi(t)}function OYe(t,e){return $Ye(t)||HYe(t,e)||VYe()}function $Ye(t){if(Array.isArray(t))return t}function HYe(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function VYe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var zYe=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],WYe=["Db","Eb","Gb","Ab","Bb"],GYe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},kC=12,Z4=kC,e6=127,UYe=/([a-g])([#b]?)(\d+)/,V5=12;function jYe(t){if(!t)throw Error("Invalid note argument");var e=UYe.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var n=OYe(e,4),r=n[1],i=n[2],s=n[3],o="".concat(r.toUpperCase()).concat(i),a=GYe[o];if(a==null)throw Error("Invalid note argument");return kC+a+V5*parseInt(s,10)}function YYe(t){var e=(t-kC)%V5,n=Math.floor((t-kC)/V5),r=zYe[e];return{note:"".concat(r).concat(n),pitchName:r,octave:n,midiNumber:t,isAccidental:WYe.includes(r)}}function XYe(){return X4(Z4,e6+1).reduce(function(t,e){return t[e]=YYe(e),t},{})}var qYe=XYe();function QK(t){var e=qYe[t];if(!e)throw Error("Invalid MIDI number");return e}var KYe=X4(Z4,e6+1).filter(function(t){return!QK(t).isAccidental}),fv={fromNote:jYe,getAttributes:QK,MIN_MIDI_NUMBER:Z4,MAX_MIDI_NUMBER:e6,NATURAL_MIDI_NUMBERS:KYe},t6=function(t){YT(e,t);function e(){var n,r;UT(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=XT(this,(n=Sm(e)).call.apply(n,[this].concat(s))),Jr(Wi(r),"onPlayNoteInput",function(){r.props.onPlayNoteInput(r.props.midiNumber)}),Jr(Wi(r),"onHover",function(){r.props.onHover(r.props.midiNumber)}),Jr(Wi(r),"onStopNoteInput",function(){r.props.onStopNoteInput(r.props.midiNumber)}),r}return jT(e,[{key:"getAbsoluteKeyPosition",value:function(r){var i=7,s=fv.getAttributes(r),o=s.octave,a=s.pitchName,l=this.props.pitchPositions[a],c=i*o;return l+c}},{key:"getRelativeKeyPosition",value:function(r){return this.getAbsoluteKeyPosition(r)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var r=this.props,i=r.naturalKeyWidth,s=r.accidentalWidthRatio,o=r.midiNumber,a=r.gliss,l=r.useTouchEvents,c=r.accidental,u=r.active,d=r.highlighted,h=r.disabled,f=r.children;return cn.createElement("div",{className:q4("ReactPiano__Key",{"ReactPiano__Key--accidental":c,"ReactPiano__Key--natural":!c,"ReactPiano__Key--disabled":h,"ReactPiano__Key--active":u,"ReactPiano__Key--highlighted":d}),id:o,style:{left:F$(this.getRelativeKeyPosition(o)*i),width:F$(c?s*i:i)},onMouseDown:l?null:this.onPlayNoteInput,onMouseUp:l?null:this.onStopNoteInput,onMouseEnter:a?this.onPlayNoteInput:this.onHover,onMouseLeave:this.onStopNoteInput,onTouchStart:l?this.onPlayNoteInput:null,onTouchCancel:l?this.onStopNoteInput:null,onTouchEnd:l?this.onStopNoteInput:null},cn.createElement("div",{className:"ReactPiano__NoteLabelContainer"},f))}}]),e}(cn.Component);Jr(t6,"propTypes",{midiNumber:q.number.isRequired,naturalKeyWidth:q.number.isRequired,gliss:q.bool.isRequired,useTouchEvents:q.bool.isRequired,accidental:q.bool.isRequired,active:q.bool.isRequired,highlighted:q.bool.isRequired,disabled:q.bool.isRequired,onPlayNoteInput:q.func.isRequired,onHover:q.func.isRequired,onStopNoteInput:q.func.isRequired,accidentalWidthRatio:q.number.isRequired,pitchPositions:q.object.isRequired,children:q.node});Jr(t6,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function F$(t){return"".concat(t*100,"%")}var n6=function(t){YT(e,t);function e(){return UT(this,e),XT(this,Sm(e).apply(this,arguments))}return jT(e,[{key:"getMidiNumbers",value:function(){return X4(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(r){var i=fv.getAttributes(r),s=i.isAccidental;return!s}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var r=this.props.width*this.getNaturalKeyWidth();return"".concat(r/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var r=this,i=this.getNaturalKeyWidth();return cn.createElement("div",{className:q4("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(s){var o=fv.getAttributes(s);o.note;var a=o.isAccidental,l=!r.props.disabled&&r.props.activeNotes.includes(s),c=!r.props.disabled&&r.props.highlightedNotes.includes(s);return cn.createElement(t6,{naturalKeyWidth:i,midiNumber:s,noteRange:r.props.noteRange,active:l,highlighted:c,accidental:a,disabled:r.props.disabled,onPlayNoteInput:r.props.onPlayNoteInput,onHover:r.props.onHover,onStopNoteInput:r.props.onStopNoteInput,gliss:r.props.gliss,useTouchEvents:r.props.useTouchEvents,key:s},r.props.disabled?null:r.props.renderNoteLabel({isActive:l,isAccidental:a,midiNumber:s}))}))}}]),e}(cn.Component);Jr(n6,"propTypes",{noteRange:QYe,activeNotes:q.arrayOf(q.number),highlightedNotes:q.arrayOf(q.number),onPlayNoteInput:q.func.isRequired,onHover:q.func.isRequired,onStopNoteInput:q.func.isRequired,renderNoteLabel:q.func.isRequired,keyWidthToHeight:q.number.isRequired,className:q.string,disabled:q.bool,gliss:q.bool,useTouchEvents:q.bool,width:q.number});Jr(n6,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function O$(t){return typeof t!="number"?!1:fv.NATURAL_MIDI_NUMBERS.includes(t)}function QYe(t,e,n){var r=t[e],i=r.first,s=r.last;if(!i||!s)return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," must be an object with .first and .last values."));if(!O$(i)||!O$(s))return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(i>=s)return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e,".first must be smaller than ").concat(e,".last."))}var r6=function(t){YT(e,t);function e(){var n,r;UT(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=XT(this,(n=Sm(e)).call.apply(n,[this].concat(s))),Jr(Wi(r),"state",{isMouseDown:!1,useTouchEvents:!1}),Jr(Wi(r),"handleNoteChanges",function(a){var l=a.prevActiveNotes,c=a.nextActiveNotes;if(!r.props.disabled){var u=L$(l,c),d=L$(c,l);d.forEach(function(h){r.props.playNote(h)}),u.forEach(function(h){r.props.stopNote(h)})}}),Jr(Wi(r),"getMidiNumberForKey",function(a){if(!r.props.keyboardShortcuts)return null;var l=r.props.keyboardShortcuts.find(function(c){return c.key===a});return l&&l.midiNumber}),Jr(Wi(r),"getKeyForMidiNumber",function(a){if(!r.props.keyboardShortcuts)return null;var l=r.props.keyboardShortcuts.find(function(c){return c.midiNumber===a});return l&&l.key}),Jr(Wi(r),"onKeyDown",function(a){if(!(a.ctrlKey||a.metaKey||a.shiftKey)){var l=r.getMidiNumberForKey(a.key);l&&r.onPlayNoteInput(l)}}),Jr(Wi(r),"onKeyUp",function(a){var l=r.getMidiNumberForKey(a.key);l&&r.onStopNoteInput(l)}),Jr(Wi(r),"onPlayNoteInput",function(a){r.props.disabled||r.props.onPlayNoteInput(a,r.props.activeNotes)}),Jr(Wi(r),"onHover",function(a){r.props.disabled||r.props.onHover(a)}),Jr(Wi(r),"onStopNoteInput",function(a){r.props.disabled||r.props.onStopNoteInput(a,r.props.activeNotes)}),Jr(Wi(r),"onMouseDown",function(){r.setState({isMouseDown:!0})}),Jr(Wi(r),"onMouseUp",function(){r.setState({isMouseDown:!1})}),Jr(Wi(r),"onTouchStart",function(){r.setState({useTouchEvents:!0})}),Jr(Wi(r),"renderNoteLabel",function(a){var l=a.midiNumber,c=a.isActive,u=a.isAccidental,d=r.getKeyForMidiNumber(l);return r.props.renderNoteLabel({keyboardShortcut:d,midiNumber:l,isActive:c,isAccidental:u})}),r}return jT(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(r,i){this.props.activeNotes!==r.activeNotes&&this.handleNoteChanges({prevActiveNotes:r.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return cn.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},cn.createElement(n6,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onHover:this.onHover,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,highlightedNotes:this.props.highlightedNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(cn.Component);Jr(r6,"propTypes",{noteRange:q.object.isRequired,activeNotes:q.arrayOf(q.number.isRequired).isRequired,highlightedNotes:q.arrayOf(q.number.isRequired).isRequired,playNote:q.func.isRequired,stopNote:q.func.isRequired,onPlayNoteInput:q.func.isRequired,onHover:q.func.isRequired,onStopNoteInput:q.func.isRequired,renderNoteLabel:q.func.isRequired,className:q.string,disabled:q.bool,width:q.number,keyWidthToHeight:q.number,keyboardShortcuts:q.arrayOf(q.shape({key:q.string.isRequired,midiNumber:q.number.isRequired}))});Jr(r6,"defaultProps",{renderNoteLabel:function(e){var n=e.keyboardShortcut;e.midiNumber;var r=e.isActive,i=e.isAccidental;return n?cn.createElement("div",{className:q4("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":r,"ReactPiano__NoteLabel--accidental":i,"ReactPiano__NoteLabel--natural":!i})},n):null}});var i6=function(t){YT(e,t);function e(){var n,r;UT(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=XT(this,(n=Sm(e)).call.apply(n,[this].concat(s))),Jr(Wi(r),"state",{activeNotes:r.props.activeNotes||[]}),Jr(Wi(r),"highlightedNotes",{highlightedNotes:r.props.highlightedNotes||[]}),Jr(Wi(r),"handlePlayNoteInput",function(a){r.setState(function(l){return r.props.onPlayNoteInput&&r.props.onPlayNoteInput(a,{prevActiveNotes:l.activeNotes}),l.activeNotes.includes(a)?null:{activeNotes:l.activeNotes.concat(a)}})}),Jr(Wi(r),"onHover",function(a){}),Jr(Wi(r),"handleStopNoteInput",function(a){r.setState(function(l){return r.props.onStopNoteInput&&r.props.onStopNoteInput(a,{prevActiveNotes:r.state.activeNotes}),{activeNotes:l.activeNotes.filter(function(c){return a!==c})}})}),r}return jT(e,[{key:"componentDidUpdate",value:function(r){r.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]}),r.highlightedNotes!==this.props.highlightedNotes&&this.setState({highlightedNotes:this.props.highlightedNotes||[]})}},{key:"render",value:function(){var r=this.props;r.activeNotes,r.highlightedNotes,r.onPlayNoteInput,r.onHover,r.onStopNoteInput;var i=FYe(r,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return cn.createElement(r6,$5({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onHover:this.onHover,onStopNoteInput:this.handleStopNoteInput},i))}}]),e}(cn.Component);Jr(i6,"propTypes",{noteRange:q.object.isRequired,activeNotes:q.arrayOf(q.number.isRequired),highlightedNotes:q.arrayOf(q.number.isRequired),playNote:q.func.isRequired,stopNote:q.func.isRequired,onPlayNoteInput:q.func,onHover:q.func,onStopNoteInput:q.func,renderNoteLabel:q.func,className:q.string,disabled:q.bool,width:q.number,keyWidthToHeight:q.number,keyboardShortcuts:q.arrayOf(q.shape({key:q.string.isRequired,midiNumber:q.number.isRequired}))});function JYe(t){for(var e=t.firstNote,n=t.lastNote,r=t.keyboardConfig,i=e,s=0,o=[];s<r.length&&i<=n;){var a=r[s],l=fv.getAttributes(i),c=l.isAccidental;c?o.push({key:a.flat,midiNumber:i}):(o.push({key:a.natural,midiNumber:i}),s+=1),i+=1}return o}var TC={create:JYe,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]};function JK(t){var e="",n="",r="";console.log("roman numeral",t.romanNumeral);for(let i=0;i<t.romanNumeral.length;i++){const s=t.romanNumeral[i];isNaN(parseInt(s))?r+=s:e===""?e=s:n=s}return C.jsxs("div",{style:{fontSize:200,color:"grey"},children:[r,C.jsxs("span",{style:{position:"absolute"},children:[C.jsx("sup",{style:{fontSize:80,display:"block",position:"relative"},children:e}),C.jsx("sub",{style:{fontSize:80,display:"block",position:"relative"},children:n})]})]})}const ZYe=new AudioContext,$$=new Y4(ZYe);function eXe(){const n=TC.create({firstNote:48,lastNote:72,keyboardConfig:TC.HOME_ROW}),r=[{name:"Major Scale",scale:to.MajorScale},{name:"Harmonic Minor Scale",scale:to.HarmonicMinor},{name:"Minor scale",scale:to.MinorScale}],[i,s]=b.useState(null),[o,a]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState(null),[h,f]=b.useState(null),[p,m]=b.useState(1),[y,S]=b.useState([]),[w,v]=b.useState(Mt("C")),[k,P]=b.useState(an.unison),[T,_]=b.useState(0),[E,I]=b.useState(0),R=l.sort(),F=R.map(wn.fromMidiNumber),B=R.map(wn.fromMidiNumberSharp),D=X2(F),A=X2(B),N=D||A,L=N&&ad.toLeadSheet(N),H=(N&&i&&o&&q2.toDisplayString(AY(N,{note:i,scale:o})))??"",O=(u&&h&&wn.interval(wn.fromMidiNumber(u),wn.fromMidiNumber(h)))??null;console.log({interval:O});const G=u?Sn.toNoteNumber(w)===Sn.toNoteNumber(Sn.fromMidiNumber(u)):!1,j=O?an.halfSteps(O)===an.halfSteps(k):!1;console.log("random halfsteps",an.halfSteps(k)),O&&console.log("user halfsteps",an.halfSteps(O)),b.useEffect(()=>{switch(p){case 1:v(Sn.random()),P(an.random()),S([]),d(null),f(null);break;case 3:G&&j&&_(T+1),I(E+1)}},[p]),console.log({randomNote:w}),console.log({randomInterval:k}),i&&o&&IY(i,o).flatMap(Z=>Sn.toMidiNumbersForAllOctaves(Z));function J(Z){if(Z.data){const ae=Z.data[1],z=Z.data[2];console.log(ae,z),c(z===0?$=>$.filter(W=>W!==ae):$=>[...new Set([...$,ae])])}}return b.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach($=>{$.onmidimessage=J})})().catch(console.error)},[]),C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:"100%",height:"250px"},children:C.jsx(i6,{noteRange:{first:48,last:72},playNote:Z=>{switch($$.start(Z),c(ae=>[...new Set([...ae,Z])]),p){case 1:d(Z),m(2),S([...y,Z]);break;case 2:f(Z),m(3),S([...y,Z]);break;default:i||s($h.toNote(Z%12))}},stopNote:Z=>{$$.stop(Z),c(ae=>ae.filter(z=>z!==Z))},highlightedNotes:y,activeNotes:l,keyboardShortcuts:n,onHover:Z=>{p===1?d(Z):p===2&&f(Z)}})}),i&&!o&&C.jsxs("div",{children:[C.jsx("div",{children:"Now select a scale!"}),C.jsx(Rv,{value:"",onChange:Z=>a(r[Z.target.value].scale),children:r.map((Z,ae)=>C.jsx(Ca,{value:ae,children:Z.name}))})]}),i&&o&&C.jsx(ni,{onClick:()=>{s(null),a(null)},children:"Restart"}),C.jsx("div",{style:{fontSize:200},children:L}),C.jsx(JK,{romanNumeral:H}),C.jsx(OK,{start:`${u}`,end:h?`${h}`:`${u}`,color:"red",headSize:8,zIndex:1e3,startAnchor:{position:"bottom",offset:{x:0,y:-30}},endAnchor:{position:"bottom",offset:{x:0,y:-30}},path:"straight",passProps:{pointerEvents:"none"}}),C.jsxs("div",{style:{fontSize:30},children:["Find the interval of a ",an.name(k)," starting on"," ",Sn.toDisplayString(w)]}),p===3?C.jsxs("div",{children:[C.jsx(ni,{onClick:()=>{m(1)},children:"Next"}),G&&j?C.jsx(HN,{style:{color:"green",transform:"scale(2)",margin:50}}):C.jsx(Fm,{style:{color:"red",transform:"scale(2)",margin:50}})]}):C.jsx("div",{style:{margin:40}}),C.jsx("div",{style:{padding:5,fontSize:30},children:`${T} / ${E}`})]})}const tXe=840;function H$(){return{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<tXe}}function ZK(){const[t,e]=b.useState(H$());function n(){e(H$())}return b.useEffect(()=>(window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[]),t}const eQ=24,tQ=1;var PC;(t=>{function e(n){switch(n){case 1:return Mt("E");case 2:return Mt("B");case 3:return Mt("G");case 4:return Mt("D");case 5:return Mt("A");case 6:return Mt("E")}}t.firstNote=e})(PC||(PC={}));const nS={toTex(t){return`${t.fret}.${t.string}`},onString(t,e){let n=Sn.toNoteNumber(e),r=n-Sn.toNoteNumber(PC.firstNote(t));const i=[];for(;r<=eQ;)r>=tQ&&i.push(r),n+=an.halfSteps(an.octave),r=n-Sn.toNoteNumber(PC.firstNote(t));return i.map(s=>({string:t,fret:s}))}};function Xe(t,e){return{string:t,fret:e}}const nXe={generate(t,e,n=zt.Root){switch(t){case 6:switch(e){case En.Maj7:switch(n){case zt.Root:return[Xe(6,0),Xe(4,1),Xe(3,1),Xe(2,0)];case zt.First:return[Xe(6,0),Xe(4,-2),Xe(3,0),Xe(2,0)];case zt.Second:return[Xe(6,0),Xe(5,0),Xe(4,-1),Xe(3,1)];case zt.Third:return[Xe(6,0),Xe(5,0),Xe(4,-2),Xe(3,-2)]}case En.Dom7:switch(n){case zt.Root:return[Xe(6,0),Xe(4,0),Xe(3,1),Xe(2,0)];case zt.First:return[Xe(6,0),Xe(4,-2),Xe(3,0),Xe(2,-1)];case zt.Second:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,-2)];case zt.Third:return[Xe(6,0),Xe(4,-1),Xe(3,-1),Xe(2,-1)]}case En.Min7:switch(n){case zt.Root:return[Xe(6,0),Xe(4,0),Xe(3,0),Xe(2,0)];case zt.First:return[Xe(6,0),Xe(4,-1),Xe(3,1),Xe(2,0)];case zt.Second:return[Xe(6,0),Xe(4,-2),Xe(3,0),Xe(2,-2)];case zt.Third:return[Xe(6,0),Xe(4,-1),Xe(3,-1),Xe(2,-2)]}case En.Half:switch(n){case zt.Root:return[Xe(6,0),Xe(4,0),Xe(3,0),Xe(2,-1)];case zt.First:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,0)];case zt.Second:return[Xe(6,0),Xe(4,-1),Xe(3,1),Xe(2,-1)];case zt.Third:return[Xe(6,0),Xe(4,-2),Xe(3,-1),Xe(2,-2)]}case En.Full:switch(n){case zt.Root:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,-1)];case zt.First:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,-1)];case zt.Second:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,-1)];case zt.Third:return[Xe(6,0),Xe(4,-1),Xe(3,0),Xe(2,-1)]}}case 5:switch(e){case En.Maj7:switch(n){case zt.Root:return[Xe(5,0),Xe(4,2),Xe(3,1),Xe(2,2)];case zt.First:return[Xe(5,0),Xe(4,2),Xe(3,-2),Xe(2,1)];case zt.Second:return[Xe(5,0),Xe(4,0),Xe(3,-1),Xe(2,2)];case zt.Third:return[Xe(5,0),Xe(4,0),Xe(3,-2),Xe(2,-1)]}case En.Dom7:switch(n){case zt.Root:return[Xe(5,0),Xe(4,2),Xe(3,0),Xe(2,2)];case zt.First:return[Xe(5,0),Xe(4,1),Xe(3,-2),Xe(2,1)];case zt.Second:return[Xe(5,0),Xe(4,0),Xe(3,-1),Xe(2,1)];case zt.Third:return[Xe(5,0),Xe(4,1),Xe(3,-1),Xe(2,0)]}case En.Min7:switch(n){case zt.Root:return[Xe(5,0),Xe(4,2),Xe(3,0),Xe(2,1)];case zt.First:return[Xe(5,0),Xe(4,2),Xe(3,-1),Xe(2,2)];case zt.Second:return[Xe(5,0),Xe(4,0),Xe(3,-2),Xe(2,1)];case zt.Third:return[Xe(5,0),Xe(4,0),Xe(3,-1),Xe(2,0)]}case En.Half:switch(n){case zt.Root:return[Xe(5,0),Xe(4,1),Xe(3,0),Xe(2,1)];case zt.First:return[Xe(5,0),Xe(4,2),Xe(3,-1),Xe(2,1)];case zt.Second:return[Xe(5,0),Xe(4,1),Xe(3,-1),Xe(2,2)];case zt.Third:return[Xe(5,0),Xe(4,0),Xe(3,-2),Xe(2,0)]}case En.Full:switch(n){case zt.Root:case zt.First:case zt.Second:case zt.Third:return[Xe(5,0),Xe(4,1),Xe(3,-1),Xe(2,1)]}}default:return[]}}},Cm={toTex(t){return`(${t.notes.map(e=>nS.toTex(e)+" ").join("")}).1${t.name&&`{ch "${t.name}"}`}`},generate(t,e,n,r){var i=[];const s=r!==void 0?[r]:[zt.Root,zt.First,zt.Second,zt.Third];for(const o of s){const a=ad.bassNote({inversion:o,chord:{root:t,quality:e}}),l=n?nS.onString(n,a):nS.onString(6,a).concat(nS.onString(5,a));i=i.concat(l.map(c=>({name:`${Sn.toDisplayString(t)}${En.toLeadSheet(e)}${o===zt.Root?"":`/${Sn.toDisplayString(a)}`}`,notes:nXe.generate(c.string,e,o).map(u=>({string:u.string,fret:u.fret+c.fret}))})))}return i.filter(o=>!o.notes.some(a=>a.fret<tQ||a.fret>eQ)).sort((o,a)=>Math.min(...o.notes.map(l=>l.fret))-Math.min(...a.notes.map(l=>l.fret))).sort((o,a)=>Math.max(...a.notes.map(l=>l.string))-Math.max(...o.notes.map(l=>l.string)))}},rXe={toTex(t){return`\\ks ${Sn.toDisplayString(t.key.note)} ${t.chords.map(e=>Cm.toTex(e)).join("")}`}};function iXe(t){const e=b.useRef(null),n=b.useRef(null);b.useEffect(()=>{if(e.current){n.current=new Hm(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;const s=dm(Mt("G"),to.mode(Yb.Dorian)).concat(dm(Mt("G"),to.mode(Yb.Dorian))[0]).map(c=>{const u=Cm.generate(c.root,c.quality,6,zt.Root).find(d=>d.notes[0].fret>i);return i=(u==null?void 0:u.notes[0].fret)??0,u});Mt("C");const o=t.chords.map(c=>Cm.generate(c.root,c.quality,6,zt.Root)[0]),a={key:{note:Mt("C")},chords:o},l=`
      \\tempo 120
      
      . 


      ${rXe.toTex(a)}`;console.log(l),n.current.metronomeVolume=1,n.current.isLooping=!0,n.current.playbackSpeed=1,n.current.countInVolume=1,n.current.tex(l)}return()=>{var i;(i=n.current)==null||i.destroy()}},[]);function r(){var i;(i=n.current)==null||i.playPause()}return C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:C.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),C.jsx("div",{style:{display:"flex"},children:C.jsx(Oh,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{n.current&&(n.current.playbackSpeed=s)},children:"Tempo"})}),C.jsx(ni,{onClick:r,children:"Play/Pause"})]})}const V$=[Mt("C"),Mt("D",ei.Flat),Mt("D"),Mt("E",ei.Flat),Mt("E"),Mt("F"),Mt("G",ei.Flat),Mt("G"),Mt("A",ei.Flat),Mt("A"),Mt("B",ei.Flat),Mt("B")],z$=[zt.Root,zt.First,zt.Second,zt.Third],W$=[En.Maj7,En.Dom7,En.Min7,En.Half,En.Full],Ks={container:{display:"flex",flex:1,flexDirection:"column",padding:14,fontFamily:"sans-serif"},section:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},notesSection:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},formGroup:{marginTop:16,marginBottom:16},button:{backgroundColor:"#007BFF",color:"#fff",transition:"background-color 0.3s, transform 0.1s",cursor:"pointer",flex:1},chordText:{fontSize:20,marginTop:5,textAlign:"center",textTransform:"none"},toggleButton:{maxHeight:"50px",display:"flex",flexDirection:"column",borderRadius:8,textAlign:"center",justifyContent:"center",fontSize:15,padding:7,cursor:"pointer",transition:"background-color 0.3s, transform 0.1s"},toggleButtonsContainer:{},toggleButtonChecked:{backgroundColor:"#9df"},toggleButtonUnchecked:{backgroundColor:"#eee"},toggleButtonHover:{backgroundColor:"#b3e5fc"},toggleButtonActive:{transform:"scale(0.95)"},buttonHover:{backgroundColor:"#0056b3"},buttonActive:{transform:"scale(0.95)"}};function sXe(){const[t,e]=b.useState(V$),[n,r]=b.useState(z$),[i,s]=b.useState(W$),[o,a]=b.useState(!0),[l,c]=b.useState(!1),{isMobile:u}=ZK(),[d,h]=b.useState(null);function f(){h({note:t[Math.floor(Math.random()*t.length)],inversion:n[Math.floor(Math.random()*n.length)],quality:i[Math.floor(Math.random()*i.length)],string:o?Math.floor(Math.random()*2)===0?6:5:null})}return d&&(Mt("C"),Cm.generate(d.note,d.quality,d.string??void 0,d.inversion)),C.jsxs(Dd,{title:"Chord Generator",children:[C.jsxs("div",{style:Ks.container,children:[C.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center"},children:C.jsx(ni,{style:Ks.chordText,disabled:!d,onClick:()=>c(!0),children:C.jsx(Tr,{children:d?`${Sn.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`:"Generate a chord!"})})}),C.jsxs("div",{style:Ks.toggleButtonsContainer,children:[C.jsx("div",{style:Ks.notesSection,children:V$.map(p=>C.jsx(oM,{checked:t.includes(p),onChange:()=>t.includes(p)?e(m=>m.filter(y=>Sn.toNoteNumber(y)!==Sn.toNoteNumber(p))):e(m=>m.concat(p)),children:Sn.toDisplayString(p)},Sn.toDisplayString(p)))}),C.jsx(ME,{style:{minHeight:"5px",margin:"7px 0"}}),C.jsx("div",{style:Ks.section,children:z$.map(p=>C.jsx(oM,{checked:n.includes(p),onChange:()=>n.includes(p)?r(m=>m.filter(y=>y!==p)):r(m=>m.concat(p)),children:p},p))}),C.jsx(ME,{style:{minHeight:"5px",margin:"7px 0"}}),C.jsx("div",{style:Ks.section,children:W$.map(p=>C.jsx(oM,{checked:i.includes(p),onChange:()=>i.includes(p)?s(m=>m.filter(y=>y!==p)):s(m=>m.concat(p)),children:p},p))})]}),C.jsx(NG,{style:Ks.formGroup,children:C.jsx(Cb,{control:C.jsx(YG,{checked:o,onChange:()=>a(!o)}),label:"Include string"})}),C.jsx("div",{style:{display:"flex"},children:C.jsx(ni,{style:Ks.button,size:"large",onMouseOver:p=>p.currentTarget.style.backgroundColor=Ks.buttonHover.backgroundColor,onMouseOut:p=>p.currentTarget.style.backgroundColor=Ks.button.backgroundColor,onMouseDown:p=>p.currentTarget.style.transform=Ks.buttonActive.transform,onMouseUp:p=>p.currentTarget.style.transform="scale(1)",onClick:f,children:"Generate"})})]}),d&&l&&C.jsxs(Iv,{maxWidth:"lg",fullScreen:u,open:l,onClose:()=>c(!1),children:[C.jsx(TG,{children:`${Sn.toDisplayString(d.note)} ${d.quality?d.quality:""} ${d.inversion?d.inversion:""} ${d.string?` on ${d.string} string`:""}`}),C.jsx(Ei,{"aria-label":"close",onClick:()=>c(!1),sx:{position:"absolute",right:9,top:9,color:p=>p.palette.grey[600]},children:C.jsx(Fm,{})}),C.jsx(iXe,{note:d.note,inversion:d.inversion,string:d.string,quality:d.quality})]})]})}function oM({children:t,checked:e,onChange:n}){return C.jsx("div",{style:{...Ks.toggleButton,...e?Ks.toggleButtonChecked:Ks.toggleButtonUnchecked},onMouseOver:r=>r.currentTarget.style.backgroundColor=Ks.toggleButtonHover.backgroundColor,onMouseOut:r=>r.currentTarget.style.backgroundColor=e?Ks.toggleButtonChecked.backgroundColor:Ks.toggleButtonUnchecked.backgroundColor,onMouseDown:r=>r.currentTarget.style.transform=Ks.toggleButtonActive.transform,onMouseUp:r=>r.currentTarget.style.transform="scale(1)",onClick:()=>n(!e),children:C.jsx("div",{children:t})})}const oXe=new AudioContext,G$=new Y4(oXe);function aXe(){const n=TC.create({firstNote:48,lastNote:72,keyboardConfig:TC.HOME_ROW}),r=[{name:"Major Scale",scale:to.MajorScale},{name:"Harmonic Minor Scale",scale:to.HarmonicMinor},{name:"Minor scale",scale:to.MinorScale}],[i,s]=b.useState(null),[o,a]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState(null),[h,f]=b.useState(null),[p,m]=b.useState(1),[y,S]=b.useState([]),[w,v]=b.useState(Mt("C")),[k,P]=b.useState(an.unison),[T,_]=b.useState(0),[E,I]=b.useState(0),R=l.sort(),F=R.map(wn.fromMidiNumber),B=R.map(wn.fromMidiNumberSharp),D=X2(F),A=X2(B),N=D||A,L=N&&ad.toLeadSheet(N),H=(N&&i&&o&&q2.toDisplayString(AY(N,{note:i,scale:o})))??"",O=(u&&h&&wn.interval(wn.fromMidiNumber(u),wn.fromMidiNumber(h)))??null;console.log({interval:O});const G=u?Sn.toNoteNumber(w)===Sn.toNoteNumber(Sn.fromMidiNumber(u)):!1,j=O?an.halfSteps(O)===an.halfSteps(k):!1;console.log("random halfsteps",an.halfSteps(k)),O&&console.log("user halfsteps",an.halfSteps(O)),b.useEffect(()=>{switch(p){case 1:v(Sn.random()),P(an.random()),S([]),d(null),f(null);break;case 3:G&&j&&_(T+1),I(E+1)}},[p]),i&&o&&IY(i,o).flatMap(Z=>Sn.toMidiNumbersForAllOctaves(Z));function J(Z){if(Z.data){const ae=Z.data[1],z=Z.data[2];console.log(ae,z),c(z===0?$=>$.filter(W=>W!==ae):$=>[...new Set([...$,ae])])}}return b.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach($=>{$.onmidimessage=J})})().catch(console.error)},[]),C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:"100%",height:"250px"},children:C.jsx(i6,{noteRange:{first:48,last:72},playNote:Z=>{switch(G$.start(Z),c(ae=>[...new Set([...ae,Z])]),p){case 1:d(Z),m(2),S([...y,Z]);break;case 2:f(Z),m(3),S([...y,Z]);break;default:i||s($h.toNote(Z%12))}},stopNote:Z=>{G$.stop(Z),c(ae=>ae.filter(z=>z!==Z))},highlightedNotes:y,activeNotes:l,keyboardShortcuts:n,onHover:Z=>{p===1?d(Z):p===2&&f(Z)}})}),i&&!o&&C.jsxs("div",{children:[C.jsx("div",{children:"Now select a scale!"}),C.jsx(Rv,{value:"",onChange:Z=>a(r[Z.target.value].scale),children:r.map((Z,ae)=>C.jsx(Ca,{value:ae,children:Z.name}))})]}),i&&o&&C.jsx(ni,{onClick:()=>{s(null),a(null)},children:"Restart"}),C.jsx("div",{style:{fontSize:200},children:L}),C.jsx(JK,{romanNumeral:H}),C.jsx(OK,{start:`${u}`,end:h?`${h}`:`${u}`,color:"red",headSize:8,zIndex:1e3,startAnchor:{position:"bottom",offset:{x:0,y:-30}},endAnchor:{position:"bottom",offset:{x:0,y:-30}},path:"straight",passProps:{pointerEvents:"none"}}),C.jsxs("div",{style:{fontSize:30},children:["Find the interval of a ",an.name(k)," starting on"," ",Sn.toDisplayString(w)]}),p===3?C.jsxs("div",{children:[C.jsx(ni,{onClick:()=>{m(1)},children:"Next"}),G&&j?C.jsx(HN,{style:{color:"green",transform:"scale(2)",margin:50}}):C.jsx(Fm,{style:{color:"red",transform:"scale(2)",margin:50}})]}):C.jsx("div",{style:{margin:40}}),C.jsx("div",{style:{padding:5,fontSize:30},children:`${T} / ${E}`}),C.jsx(ni,{onClick:()=>console.log(RY(5,1,1)),children:"calculate n length path"})]})}var lXe="5.12.0",cXe=lXe,Id={};Id.FONTEM=360;Id.FONTSIZE=30;Id.STEP=Id.FONTSIZE*93/720;Id.SPACE=10;Id.TOPNOTE=15;Id.STAVEHEIGHT=100;Id.INDENT=50;var gf=Id,Io={};Io.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};Io.cloneArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(Io.clone(t[n]));return e};Io.cloneHashOfHash=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=Io.clone(t[n]));return e};Io.cloneHashOfArrayOfHash=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=Io.cloneArray(t[n]));return e};Io.gsub=function(t,e,n){return t.split(e).join(n)};Io.strip=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")};Io.startsWith=function(t,e){return t.indexOf(e)===0};Io.endsWith=function(t,e){var n=t.length-e.length;return n>=0&&t.lastIndexOf(e)===n};Io.each=function(t,e,n){for(var r=0,i=t.length;r<i;r++)e.apply(n,[t[r],r])};Io.last=function(t){return t.length===0?null:t[t.length-1]};Io.compact=function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e};Io.detect=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1};(function(t){t.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode!==null&&this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);var ec=Io,uXe=function(t,e){var n=this;if(e||(e={}),n.qpm=e.qpm?parseInt(e.qpm,10):null,!n.qpm){var r=t.metaText?t.metaText.tempo:null;n.qpm=t.getBpm(r)}if(n.extraMeasuresAtBeginning=e.extraMeasuresAtBeginning?parseInt(e.extraMeasuresAtBeginning,10):0,n.beatCallback=e.beatCallback,n.eventCallback=e.eventCallback,n.lineEndCallback=e.lineEndCallback,n.lineEndAnticipation=e.lineEndAnticipation?parseInt(e.lineEndAnticipation,10):0,n.beatSubdivisions=e.beatSubdivisions?parseInt(e.beatSubdivisions,10):1,n.replaceTarget=function(s){s.setTiming(n.qpm,n.extraMeasuresAtBeginning),s.noteTimings.length===0&&s.setTiming(0,0),n.lineEndCallback&&(n.lineEndTimings=U$(s.noteTimings,n.lineEndAnticipation)),n.noteTimings=s.noteTimings},n.replaceTarget(t),n.noteTimings.length===0)return;n.noteTimings=t.noteTimings,n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.isPaused=!1,n.isRunning=!1,n.pausedTime=null,n.justUnpaused=!1,n.newSeekPercent=0,n.justSeeked=!1;function i(s){var o=(s-n.startTime)/n.lastMoment,a=o-n.newSeekPercent,l=n.lastMoment*a;n.startTime=n.startTime+l;var c=s-n.startTime;c+=50;var u=n.currentBeat;for(n.currentBeat=Math.floor(c/n.millisecondsPerBeat),n.beatCallback&&u!==n.currentBeat&&n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment),n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<c;)n.currentEvent++;n.eventCallback&&n.currentEvent>0&&n.noteTimings[n.currentEvent-1].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent-1])}n.doTiming=function(s){if(!n.startTime)n.startTime=s;else if(n.justUnpaused){var o=s-n.pausedTime;n.startTime+=o}if(n.justUnpaused=!1,n.justSeeked&&(i(s),n.justSeeked=!1),n.isPaused)n.pausedTime=s;else if(n.isRunning){var a=s-n.startTime;for(a+=50;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<a;)n.eventCallback&&n.noteTimings[n.currentEvent].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent]),n.currentEvent++;a<n.lastMoment?(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<a&&(n.beatCallback&&n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment),n.currentBeat++)):n.currentBeat<=n.totalBeats&&n.beatCallback&&(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment),n.currentBeat++,requestAnimationFrame(n.doTiming)),n.lineEndCallback&&n.lineEndTimings.length&&n.lineEndTimings[0].milliseconds<=a&&(n.lineEndCallback(n.lineEndTimings[0]),n.lineEndTimings.shift()),a>=n.lastMoment&&n.eventCallback&&n.eventCallback(null)}},n.start=function(){n.isRunning=!0,n.isPaused&&(n.isPaused=!1,n.justUnpaused=!0),requestAnimationFrame(n.doTiming)},n.pause=function(){n.isPaused=!0,n.isRunning=!1},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.startTime=null,n.pausedTime=null,n.lineEndCallback&&(n.lineEndTimings=U$(n.noteTimings,n.lineEndAnticipation))},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(s){s<0&&(s=0),s>1&&(s=1),n.newSeekPercent=s,n.justSeeked=!0,requestAnimationFrame(n.doTiming)}};function U$(t,e){for(var n=[],r=null,i=0;i<t.length;i++){var s=t[i];s.top!==r&&(n.push({milliseconds:s.milliseconds-e,top:s.top,bottom:s.top+s.height}),r=s.top)}return n}var s6=uXe,dXe=s6,US={};(function(){var t,e;US.startAnimation=function(n,r,i){t&&(t.stop(),t=void 0),i.showCursor&&(e=n.querySelector(".abcjs-cursor"),e||(e=document.createElement("DIV"),e.className="abcjs-cursor cursor",e.style.position="absolute",n.appendChild(e),n.style.position="relative"));function s(h){for(var f=0;f<h.length;f++){var p=h[f];p.classList.contains("abcjs-bar")||(p.style.display="none")}}var o;function a(h){if(o){var f=n.querySelectorAll(o);s(f)}o=h}function l(h){var f=n.querySelectorAll(h);s(f)}function c(h){i.hideCurrentMeasure?l(h):i.hideFinishedMeasures&&a(h)}function u(h){return".abcjs-l"+h.line+".abcjs-m"+h.measureNumber}function d(h){if(h){if(h.measureStart){var f=u(h);f&&c(f)}e&&(e.style.left=h.left+"px",e.style.top=h.top+"px",e.style.width=h.width+"px",e.style.height=h.height+"px")}else t.stop(),t=void 0}t=new dXe(r,{qpm:i.bpm,eventCallback:d}),t.start()},US.pauseAnimation=function(n){t&&(n?t.pause():t.start())},US.stopAnimation=function(){t&&(t.stop(),t=void 0)}})();var hXe=US,j$=ec,Gf={};(function(){var t,e,n,r;Gf.initialize=function(B,D,A,N){t=B,e=D,n=A,r=N,i()};function i(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},r.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},r.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.formatting.annotationfont=n.annotationfont,r.formatting.gchordfont=n.gchordfont,r.formatting.historyfont=n.historyfont,r.formatting.infofont=n.infofont,r.formatting.measurefont=n.measurefont,r.formatting.partsfont=n.partsfont,r.formatting.repeatfont=n.repeatfont,r.formatting.textfont=n.textfont,r.formatting.tripletfont=n.tripletfont,r.formatting.vocalfont=n.vocalfont,r.formatting.wordsfont=n.wordsfont}var s={gchordfont:!0,measurefont:!0,partsfont:!0},o=function(B){switch(B){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},a=function(B,D,A,N,L){function H(){var Y=parseInt(B[0].token);return B.shift(),D?B.length===0?{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:Y}:B.length===1&&B[0].token==="box"&&s[L]?{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:Y,box:!0}:(e("Extra parameters in font definition.",A,N),{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:Y}):(e("Can't set just the size of the font since there is no default value.",A,N),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:Y})}if(B[0].token==="*"){if(B.shift(),B[0].type==="number")return H();e("Expected font size number after *.",A,N)}if(B[0].type==="number")return H();for(var O=[],G,j="normal",J="normal",Z="none",ae=!1,z="face",$=!1;B.length;){var W=B.shift(),oe=W.token.toLowerCase();switch(z){case"face":$||oe!=="utf"&&W.type!=="number"&&oe!=="bold"&&oe!=="italic"&&oe!=="underline"&&oe!=="box"?O.length>0&&W.token==="-"?($=!0,O[O.length-1]=O[O.length-1]+W.token):$?($=!1,O[O.length-1]=O[O.length-1]+W.token):O.push(W.token):W.type==="number"?(G?e("Font size specified twice in font definition.",A,N):G=W.token,z="modifier"):oe==="bold"?j="bold":oe==="italic"?J="italic":oe==="underline"?Z="underline":oe==="box"?(s[L]?ae=!0:e(`This font style doesn't support "box"`,A,N),z="finished"):oe==="utf"?(W=B.shift(),z="size"):e("Unknown parameter "+W.token+" in font definition.",A,N);break;case"size":W.type==="number"?G?e("Font size specified twice in font definition.",A,N):G=W.token:e("Expected font size in font definition.",A,N),z="modifier";break;case"modifier":oe==="bold"?j="bold":oe==="italic"?J="italic":oe==="underline"?Z="underline":oe==="box"?(s[L]?ae=!0:e(`This font style doesn't support "box"`,A,N),z="finished"):e("Unknown parameter "+W.token+" in font definition.",A,N);break;case"finished":e('Extra characters found after "box" in font definition.',A,N);break}}G===void 0?D?G=D.size:(e("Must specify the size of the font since there is no default value.",A,N),G=12):G=parseFloat(G),O=O.join(" ");var X=o(O),K={};return X?(K.face=X.face,K.weight=X.weight,K.style=X.style,K.decoration=X.decoration,K.size=G,ae&&(K.box=!0),K):(K.face=O,K.weight=j,K.style=J,K.decoration=Z,K.size=G,ae&&(K.box=!0),K)},l=function(B,D,A){return D.length===0?'Directive "'+B+'" requires a font as a parameter.':(n[B]=a(D,n[B],A,0,B),n.is_in_header&&(r.formatting[B]=n[B]),null)},c=function(B,D,A){return D.length===0?'Directive "'+B+'" requires a font as a parameter.':(r.formatting[B]=a(D,r.formatting[B],A,0,B),null)},u=function(B,D){var A="";j$.each(D,function(L){A+=L.token});var N=parseFloat(A);if(isNaN(N)||N===0)return'Directive "'+B+'" requires a number as a parameter.';r.formatting.scale=N},d=function(B,D){var A=t.getMeasurement(D);return A.used===0||D.length!==0?{error:'Directive "'+B+'" requires a measurement as a parameter.'}:A.value},h=function(B,D){var A=t.getMeasurement(D);return A.used===0||D.length!==0?'Directive "'+B+'" requires a measurement as a parameter.':(r.formatting[B]=A.value,null)},f=function(B,D,A,N,L){if(A.length!==1||A[0].type!=="number")return'Directive "'+D+'" requires a number as a parameter.';var H=A[0].intt;return N!==void 0&&H<N?'Directive "'+D+'" requires a number greater than or equal to '+N+" as a parameter.":L!==void 0&&H>L?'Directive "'+D+'" requires a number less than or equal to '+L+" as a parameter.":(n[B]=H,null)},p=function(B,D,A){if(A.length===1&&(A[0].token==="true"||A[0].token==="false"))return n[B]=A[0].token==="true",null;var N=f(B,D,A,0,1);return N!==null?N:(n[B]=n[B]===1,null)},m=function(B,D,A,N){if(A.length!==1)return'Directive "'+D+'" requires one of [ '+N.join(", ")+" ] as a parameter.";for(var L=A[0].token,H=!1,O=0;!H&&O<N.length;O++)N[O]===L&&(H=!0);return H?(n[B]=L,null):'Directive "'+D+'" requires one of [ '+N.join(", ")+" ] as a parameter."},y=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],S=["gchord","ptstress","beatstring"],w=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],v=["program"],k=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],P=["beat"],T=["drone"],_=["portamento"],E=["expand","grace","trim"],I=["drum","chordname"],R=function(B,D,A){var N=B.shift().token,L=[];if(y.indexOf(N)>=0)B.length!==0&&e("Unexpected parameter in MIDI "+N,A,0);else if(S.indexOf(N)>=0)B.length!==1?e("Expected one parameter in MIDI "+N,A,0):L.push(B[0].token);else if(w.indexOf(N)>=0)B.length!==1?e("Expected one parameter in MIDI "+N,A,0):B[0].type!=="number"?e("Expected one integer parameter in MIDI "+N,A,0):L.push(B[0].intt);else if(v.indexOf(N)>=0)B.length!==1&&B.length!==2?e("Expected one or two parameters in MIDI "+N,A,0):B[0].type!=="number"||B.length===2&&B[1].type!=="number"?e("Expected integer parameter in MIDI "+N,A,0):(L.push(B[0].intt),B.length===2&&L.push(B[1].intt));else if(k.indexOf(N)>=0)B.length!==2?e("Expected two parameters in MIDI "+N,A,0):B[0].type!=="number"||B[1].type!=="number"?e("Expected two integer parameters in MIDI "+N,A,0):(L.push(B[0].intt),L.push(B[1].intt));else if(_.indexOf(N)>=0)B.length!==2?e("Expected two parameters in MIDI "+N,A,0):B[0].type!=="alpha"||B[1].type!=="number"?e("Expected one string and one integer parameters in MIDI "+N,A,0):(L.push(B[0].token),L.push(B[1].intt));else if(N==="drummap")B.length===2&&B[0].type==="alpha"&&B[1].type==="number"?(D.formatting||(D.formatting={}),D.formatting.midi||(D.formatting.midi={}),D.formatting.midi.drummap||(D.formatting.midi.drummap={}),D.formatting.midi.drummap[B[0].token]=B[1].intt,L=D.formatting.midi.drummap):B.length===3&&B[0].type==="punct"&&B[1].type==="alpha"&&B[2].type==="number"?(D.formatting||(D.formatting={}),D.formatting.midi||(D.formatting.midi={}),D.formatting.midi.drummap||(D.formatting.midi.drummap={}),D.formatting.midi.drummap[B[0].token+B[1].token]=B[2].intt,L=D.formatting.midi.drummap):e("Expected one note name and one integer parameter in MIDI "+N,A,0);else if(E.indexOf(N)>=0)B.length!==3||B[0].type!=="number"||B[1].token!=="/"||B[2].type!=="number"?e("Expected fraction parameter in MIDI "+N,A,0):(L.push(B[0].intt),L.push(B[2].intt));else if(P.indexOf(N)>=0)B.length!==4?e("Expected four parameters in MIDI "+N,A,0):B[0].type!=="number"||B[1].type!=="number"||B[2].type!=="number"||B[3].type!=="number"?e("Expected four integer parameters in MIDI "+N,A,0):(L.push(B[0].intt),L.push(B[1].intt),L.push(B[2].intt),L.push(B[3].intt));else if(T.indexOf(N)>=0)B.length!==5?e("Expected five parameters in MIDI "+N,A,0):B[0].type!=="number"||B[1].type!=="number"||B[2].type!=="number"||B[3].type!=="number"||B[4].type!=="number"?e("Expected five integer parameters in MIDI "+N,A,0):(L.push(B[0].intt),L.push(B[1].intt),L.push(B[2].intt),L.push(B[3].intt),L.push(B[4].intt));else if(v.indexOf(N)>=0)B.length!==1||B.length!==4?e("Expected one or two parameters in MIDI "+N,A,0):B[0].type!=="number"?e("Expected integer parameter in MIDI "+N,A,0):B.length===4?(B[1].token!=="octave"&&e("Expected octave parameter in MIDI "+N,A,0),B[2].token!=="="&&e("Expected octave parameter in MIDI "+N,A,0),B[3].type!=="number"&&e("Expected integer parameter for octave in MIDI "+N,A,0)):(L.push(B[0].intt),B.length===4&&L.push(B[3].intt));else if(I.indexOf(N)>=0)if(B.length<2)e("Expected string parameter and at least one integer parameter in MIDI "+N,A,0);else if(B[0].type!=="alpha")e("Expected string parameter and at least one integer parameter in MIDI "+N,A,0);else{var H=B.shift();for(L.push(H.token);B.length>0;)H=B.shift(),H.type!=="number"&&e("Expected integer parameter in MIDI "+N,A,0),L.push(H.intt)}D.hasBeginMusic()?D.appendElement("midi",-1,-1,{cmd:N,params:L}):(D.formatting.midi===void 0&&(D.formatting.midi={}),D.formatting.midi[N]=L)};Gf.parseFontChangeLine=function(B){var D=B.split("$");if(D.length>1&&n.setfont){for(var A=[{text:D[0]}],N=1;N<D.length;N++)D[N].charAt(0)==="0"?A.push({text:D[N].substring(1)}):D[N].charAt(0)==="1"&&n.setfont[1]?A.push({font:n.setfont[1],text:D[N].substring(1)}):D[N].charAt(0)==="2"&&n.setfont[2]?A.push({font:n.setfont[2],text:D[N].substring(1)}):D[N].charAt(0)==="3"&&n.setfont[3]?A.push({font:n.setfont[3],text:D[N].substring(1)}):D[N].charAt(0)==="4"&&n.setfont[4]?A.push({font:n.setfont[4],text:D[N].substring(1)}):A[A.length-1].text+="$"+D[N];if(A.length>1)return A}return B};var F=["auto","above","below","hidden"];Gf.addDirective=function(B){var D=t.tokenize(B,0,B.length);if(D.length===0||D[0].type!=="alpha")return null;var A=B.substring(B.indexOf(D[0].token)+D[0].token.length);A=t.stripComment(A);var N=D.shift().token.toLowerCase(),L="";switch(N){case"bagpipes":r.formatting.bagpipes=!0;break;case"flatbeams":r.formatting.flatbeams=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=A;break;case"slurgraces":r.formatting.slurgraces=!0;break;case"stretchlast":r.formatting.stretchlast=!0;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":r.formatting.titleleft=!0;break;case"measurebox":r.formatting.measurebox=!0;break;case"vocal":return m("vocalPosition",N,D,F);case"dynamic":return m("dynamicPosition",N,D,F);case"gchord":return m("chordPosition",N,D,F);case"ornament":return m("ornamentPosition",N,D,F);case"volume":return m("volumePosition",N,D,F);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return h(N,D);case"voicescale":if(D.length!==1||D[0].type!=="number")return"voicescale requires one float as a parameter";var H=D.shift();return n.currentVoice&&(n.currentVoice.scale=H.floatt,r.changeVoiceScale(n.currentVoice.scale)),null;case"vskip":var O=d(N,D);return O.error?O.error:(r.addSpacing(O),null);case"scale":u(N,D);break;case"sep":if(D.length===0)r.addSeparator();else{var G=t.getMeasurement(D);if(G.used===0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var j=G.value;if(G=t.getMeasurement(D),G.used===0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var J=G.value;if(G=t.getMeasurement(D),G.used===0||D.length!==0)return'Directive "'+N+'" requires 3 numbers: space above, space below, length of line';var Z=G.value;r.addSeparator(j,J,Z)}break;case"barsperstaff":if(L=f("barsperstaff",N,D),L!==null)return L;break;case"staffnonote":if(D.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(D[0].token==="0")n.staffnonote=!0;else if(D[0].token==="1")n.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+D[0].token+")";break;case"printtempo":if(L=p("printTempo",N,D),L!==null)return L;break;case"partsbox":if(L=p("partsBox",N,D),L!==null)return L;n.partsfont.box=n.partsBox;break;case"freegchord":if(L=p("freegchord",N,D),L!==null)return L;break;case"measurenb":case"barnumbers":if(L=f("barNumbers",N,D),L!==null)return L;break;case"setbarnb":if(D.length!==1||D[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=r.setBarNumberImmediate(D[0].intt);break;case"begintext":n.inTextBlock=!0;break;case"continueall":n.continueall=!0;break;case"beginps":n.inPsBlock=!0,e("Postscript ignored",B,0);break;case"deco":A.length>0&&n.ignoredDecorations.push(A.substring(0,A.indexOf(" "))),e("Decoration redefinition ignored",B,0);break;case"text":var ae=t.translateString(A);r.addText(Gf.parseFontChangeLine(ae));break;case"center":var z=t.translateString(A);r.addCentered(Gf.parseFontChangeLine(z));break;case"font":break;case"setfont":var $=t.tokenize(A,0,A.length);if($.length>=4&&$[0].token==="-"&&$[1].type==="number"){var W=parseInt($[1].token);W>=1&&W<=4&&(n.setfont||(n.setfont=[]),$.shift(),$.shift(),n.setfont[W]=a($,n.setfont[W],B,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return l(N,D,B);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return c(N,D,B);case"barlabelfont":case"barnumberfont":case"barnumfont":return l("measurefont",D,B);case"staves":case"score":n.score_is_present=!0;for(var oe=function(me,ye,Ee,We,je){(ye||n.staves.length===0)&&n.staves.push({index:n.staves.length,numVoices:0});var et=j$.last(n.staves);Ee!==void 0&&(et.bracket=Ee),We!==void 0&&(et.brace=We),je&&(et.connectBarLines="end"),n.voices[me]===void 0&&(n.voices[me]={staffNum:et.index,index:et.numVoices},et.numVoices++)},X=!1,K=!1,Y=!1,le=!1,ie=!1,re=!1,se=!1,ue,we=function(){if(se=!0,ue){var me="start";ue.staffNum>0&&(n.staves[ue.staffNum-1].connectBarLines==="start"||n.staves[ue.staffNum-1].connectBarLines==="continue")&&(me="continue"),n.staves[ue.staffNum].connectBarLines=me}};D.length;){var Pe=D.shift();switch(Pe.token){case"(":X?e("Can't nest parenthesis in %%score",B,Pe.start):(X=!0,le=!0);break;case")":!X||le?e("Unexpected close parenthesis in %%score",B,Pe.start):X=!1;break;case"[":K?e("Can't nest brackets in %%score",B,Pe.start):(K=!0,ie=!0);break;case"]":!K||ie?e("Unexpected close bracket in %%score",B,Pe.start):(K=!1,n.staves[ue.staffNum].bracket="end");break;case"{":Y?e("Can't nest braces in %%score",B,Pe.start):(Y=!0,re=!0);break;case"}":!Y||re?e("Unexpected close brace in %%score",B,Pe.start):(Y=!1,n.staves[ue.staffNum].brace="end");break;case"|":we();break;default:for(var te="";(Pe.type==="alpha"||Pe.type==="number")&&(te+=Pe.token,Pe.continueId);)Pe=D.shift();var pe=!X||le,ge=ie?"start":K?"continue":void 0,Te=re?"start":Y?"continue":void 0;oe(te,pe,ge,Te,se),le=!1,ie=!1,re=!1,se=!1,ue=n.voices[te],N==="staves"&&we();break}}break;case"newpage":var Re=t.getInt(A);r.addNewPage(Re.digits===0?-1:Re.value);break;case"abc":var Ie=A.split(" ");switch(Ie[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var he=Ie.shift();r.addMetaText(N+he,Ie.join(" "));break;default:return"Unknown directive: "+N+Ie[0]}break;case"header":case"footer":var Se=t.getMeat(A,0,A.length);Se=A.substring(Se.start,Se.end),Se.charAt(0)==='"'&&Se.charAt(Se.length-1)==='"'&&(Se=Se.substring(1,Se.length-1));var Ce=Se.split("	"),$e={};Ce.length===1?$e={left:"",center:Ce[0],right:""}:Ce.length===2?$e={left:Ce[0],center:Ce[1],right:""}:$e={left:Ce[0],center:Ce[1],right:Ce[2]},Ce.length>3&&e("Too many tabs in "+N+": "+Ce.length+" found.",A,0),r.addMetaTextObj(N,$e);break;case"midi":var ke=t.tokenize(A,0,A.length,!0);ke.length>0&&ke[0].token==="="&&ke.shift(),ke.length===0?e("Expected midi command",A,0):R(ke,r,A);break;case"map":case"percmap":case"playtempo":case"auquality":case"continuous":case"nobarcheck":r.formatting[N]=A;break;default:return"Unknown directive: "+N}return null},Gf.globalFormatting=function(B){for(var D in B)if(B.hasOwnProperty(D)){var A=""+B[D],N=t.tokenize(A,0,A.length),L;switch(D){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":l(D,N,A);break;case"scale":u(D,N);break;case"partsbox":L=p("partsBox",D,N),L!==null&&e(L),n.partsfont.box=n.partsBox;break;case"freegchord":L=p("freegchord",D,N),L!==null&&e(L);default:e("Formatting directive unrecognized: ",D,0)}}}})();var o6=Gf,qT={},fXe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},pXe=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],gXe=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];qT.keySignature=function(t,e,n,r,i,s){s||(s=0),t.localTransposeVerticalMovement=0,t.localTransposePreferFlats=!1;var o=e[n];if(!o)return t.key;if(t.localTranspose=(t.globalTranspose?t.globalTranspose:0)+s,!t.localTranspose)return{accidentals:o,root:r,acc:i};if(t.globalTransposeOrigKeySig=o,t.localTranspose%12===0)return t.localTransposeVerticalMovement=t.localTranspose/12*7,{accidentals:o,root:r,acc:i};var a=n[0];n[1]==="b"||n[1]==="#"?(a+=n[1],n=n.substr(2)):n=n.substr(1);for(var l=fXe[a]+t.localTranspose;l<0;)l+=12;l>11&&(l=l%12);var c=n[0]==="m"?gXe[l]:pXe[l],u=c+n,d=e[u];d.length>0&&d[0].acc==="flat"&&(t.localTransposePreferFlats=!0);var h=u.charCodeAt(0)-a.charCodeAt(0);return t.localTranspose>0?(h<0||h===0&&(a[1]==="#"||u[1]==="b"))&&(h+=7):t.localTranspose<0&&(h>0||h===0&&(a[1]==="b"||u[1]==="#"))&&(h-=7),t.localTranspose>0?t.localTransposeVerticalMovement=h+Math.floor(t.localTranspose/12)*7:t.localTransposeVerticalMovement=h+Math.ceil(t.localTranspose/12)*7,{accidentals:d,root:c[0],acc:c.length>1?c[1]:""}};var mXe=["C","C","D","D","E","F","F","G","G","A","A","B"],yXe=["C","D","D","E","E","F","G","G","A","A","B","B"],bXe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],vXe=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];qT.chordName=function(t,e){if(t.localTranspose&&t.localTranspose%12!==0){for(var n=t.localTranspose;n<0;)n+=12;n>11&&(n=n%12),t.freegchord?(e=e.replace(/Cb/g,"`~11`"),e=e.replace(/Db/g,"`~1`"),e=e.replace(/Eb/g,"`~3`"),e=e.replace(/Fb/g,"`~4`"),e=e.replace(/Gb/g,"`~6`"),e=e.replace(/Ab/g,"`~8`"),e=e.replace(/Bb/g,"`~10`"),e=e.replace(/C#/g,"`~1`"),e=e.replace(/D#/g,"`~3`"),e=e.replace(/E#/g,"`~5`"),e=e.replace(/F#/g,"`~6`"),e=e.replace(/G#/g,"`~8`"),e=e.replace(/A#/g,"`~10`"),e=e.replace(/B#/g,"`~0`")):(e=e.replace(/C/g,"`~11`"),e=e.replace(/D/g,"`~1`"),e=e.replace(/E/g,"`~3`"),e=e.replace(/F/g,"`~4`"),e=e.replace(/G/g,"`~6`"),e=e.replace(/A/g,"`~8`"),e=e.replace(/B/g,"`~10`"),e=e.replace(/C/g,"`~1`"),e=e.replace(/D/g,"`~3`"),e=e.replace(/E/g,"`~5`"),e=e.replace(/F/g,"`~6`"),e=e.replace(/G/g,"`~8`"),e=e.replace(/A/g,"`~10`"),e=e.replace(/B/g,"`~0`")),e=e.replace(/C/g,"`~0`"),e=e.replace(/D/g,"`~2`"),e=e.replace(/E/g,"`~4`"),e=e.replace(/F/g,"`~5`"),e=e.replace(/G/g,"`~7`"),e=e.replace(/A/g,"`~9`"),e=e.replace(/B/g,"`~11`");for(var r=e.split("`"),i=0;i<r.length;i++)if(r[i][0]==="~"){var s=parseInt(r[i].substr(1),10);s+=n,s>11&&(s-=12),t.freegchord?r[i]=t.localTransposePreferFlats?vXe[s]:bXe[s]:r[i]=t.localTransposePreferFlats?yXe[s]:mXe[s]}e=r.join("")}return e};var Y$=["c","d","e","f","g","a","b"];function wXe(t,e,n,r,i){for(var s=Y$[(t+49)%7],o=0,a=0;a<r.length;a++)r[a].note.toLowerCase()===s&&(o=aM[r[a].acc]);for(var l=aM[n],c=l-o,u=Y$[(e+49)%7],d=0,h=0;h<i.accidentals.length;h++)i.accidentals[h].note.toLowerCase()===u&&(d=aM[i.accidentals[h].acc]);var f=c+d;return f<-2&&(e--,f+=u==="c"||u==="f"?1:2),f>2&&(e++,f-=u==="b"||u==="e"?1:2),[e,f]}var aM={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},xXe={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"};qT.note=function(t,e){if(t.localTranspose){var n=e.pitch;if(e.pitch=e.pitch+t.localTransposeVerticalMovement,e.accidental){var r=wXe(n,e.pitch,e.accidental,t.globalTransposeOrigKeySig,t.targetKey);e.pitch=r[0],e.accidental=xXe[r[1]]}}};var nQ=qT,lc=ec,X$=o6,SXe=nQ,ia={};(function(){var t,e,n,r;ia.initialize=function(u,d,h,f){t=u,e=d,n=h,r=f},ia.standardKey=function(u,d,h,f){var p={acc:"sharp",note:"f"},m={acc:"sharp",note:"c"},y={acc:"sharp",note:"g"},S={acc:"sharp",note:"d"},w={acc:"sharp",note:"A"},v={acc:"sharp",note:"e"},k={acc:"sharp",note:"B"},P={acc:"flat",note:"B"},T={acc:"flat",note:"e"},_={acc:"flat",note:"A"},E={acc:"flat",note:"d"},I={acc:"flat",note:"G"},R={acc:"flat",note:"c"},F={acc:"flat",note:"F"},B={"C#":[p,m,y,S,w,v,k],"A#m":[p,m,y,S,w,v,k],"G#Mix":[p,m,y,S,w,v,k],"D#Dor":[p,m,y,S,w,v,k],"E#Phr":[p,m,y,S,w,v,k],"F#Lyd":[p,m,y,S,w,v,k],"B#Loc":[p,m,y,S,w,v,k],"F#":[p,m,y,S,w,v],"D#m":[p,m,y,S,w,v],"C#Mix":[p,m,y,S,w,v],"G#Dor":[p,m,y,S,w,v],"A#Phr":[p,m,y,S,w,v],BLyd:[p,m,y,S,w,v],"E#Loc":[p,m,y,S,w,v],B:[p,m,y,S,w],"G#m":[p,m,y,S,w],"F#Mix":[p,m,y,S,w],"C#Dor":[p,m,y,S,w],"D#Phr":[p,m,y,S,w],ELyd:[p,m,y,S,w],"A#Loc":[p,m,y,S,w],E:[p,m,y,S],"C#m":[p,m,y,S],BMix:[p,m,y,S],"F#Dor":[p,m,y,S],"G#Phr":[p,m,y,S],ALyd:[p,m,y,S],"D#Loc":[p,m,y,S],A:[p,m,y],"F#m":[p,m,y],EMix:[p,m,y],BDor:[p,m,y],"C#Phr":[p,m,y],DLyd:[p,m,y],"G#Loc":[p,m,y],D:[p,m],Bm:[p,m],AMix:[p,m],EDor:[p,m],"F#Phr":[p,m],GLyd:[p,m],"C#Loc":[p,m],G:[p],Em:[p],DMix:[p],ADor:[p],BPhr:[p],CLyd:[p],"F#Loc":[p],C:[],Am:[],GMix:[],DDor:[],EPhr:[],FLyd:[],BLoc:[],F:[P],Dm:[P],CMix:[P],GDor:[P],APhr:[P],BbLyd:[P],ELoc:[P],Bb:[P,T],Gm:[P,T],FMix:[P,T],CDor:[P,T],DPhr:[P,T],EbLyd:[P,T],ALoc:[P,T],Eb:[P,T,_],Cm:[P,T,_],BbMix:[P,T,_],FDor:[P,T,_],GPhr:[P,T,_],AbLyd:[P,T,_],DLoc:[P,T,_],Ab:[P,T,_,E],Fm:[P,T,_,E],EbMix:[P,T,_,E],BbDor:[P,T,_,E],CPhr:[P,T,_,E],DbLyd:[P,T,_,E],GLoc:[P,T,_,E],Db:[P,T,_,E,I],Bbm:[P,T,_,E,I],AbMix:[P,T,_,E,I],EbDor:[P,T,_,E,I],FPhr:[P,T,_,E,I],GbLyd:[P,T,_,E,I],CLoc:[P,T,_,E,I],Gb:[P,T,_,E,I,R],Ebm:[P,T,_,E,I,R],DbMix:[P,T,_,E,I,R],AbDor:[P,T,_,E,I,R],BbPhr:[P,T,_,E,I,R],CbLyd:[P,T,_,E,I,R],FLoc:[P,T,_,E,I,R],Cb:[P,T,_,E,I,R,F],Abm:[P,T,_,E,I,R,F],GbMix:[P,T,_,E,I,R,F],DbDor:[P,T,_,E,I,R,F],EbPhr:[P,T,_,E,I,R,F],FbLyd:[P,T,_,E,I,R,F],BbLoc:[P,T,_,E,I,R,F],"A#":[P,T],"B#":[],"D#":[P,T,_],"E#":[P],"G#":[P,T,_,E],Gbm:[p,m,y,S,w,v,k]};return SXe.keySignature(n,B,u,d,h,f)};var i={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},s=function(u,d){var h=i[u],f=h?h.mid:0;return f+d};ia.fixClef=function(u){var d=i[u.type];d&&(u.clefPos=d.pitch,u.type=d.clef)},ia.deepCopyKey=function(u){var d={accidentals:[],root:u.root,acc:u.acc,mode:u.mode};return lc.each(u.accidentals,function(h){d.accidentals.push(lc.clone(h))}),d};var o={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};ia.addPosToKey=function(u,d){var h=u.verticalPos;lc.each(d.accidentals,function(f){var p=o[f.note];p=p-h,f.verticalPos=p}),d.impliedNaturals&&lc.each(d.impliedNaturals,function(f){var p=o[f.note];p=p-h,f.verticalPos=p}),h<-10?(lc.each(d.accidentals,function(f){f.verticalPos-=7,(f.verticalPos>=11||f.verticalPos===10&&f.acc==="flat")&&(f.verticalPos-=7),f.note==="A"&&f.acc==="sharp"&&(f.verticalPos-=7),(f.note==="G"||f.note==="F")&&f.acc==="flat"&&(f.verticalPos-=7)}),d.impliedNaturals&&lc.each(d.impliedNaturals,function(f){f.verticalPos-=7,(f.verticalPos>=11||f.verticalPos===10&&f.acc==="flat")&&(f.verticalPos-=7),f.note==="A"&&f.acc==="sharp"&&(f.verticalPos-=7),(f.note==="G"||f.note==="F")&&f.acc==="flat"&&(f.verticalPos-=7)})):h<-4?(lc.each(d.accidentals,function(f){f.verticalPos-=7,h===-8&&(f.note==="f"||f.note==="g")&&f.acc==="sharp"&&(f.verticalPos-=7)}),d.impliedNaturals&&lc.each(d.impliedNaturals,function(f){f.verticalPos-=7,h===-8&&(f.note==="f"||f.note==="g")&&f.acc==="sharp"&&(f.verticalPos-=7)})):h>=7&&(lc.each(d.accidentals,function(f){f.verticalPos+=7}),d.impliedNaturals&&lc.each(d.impliedNaturals,function(f){f.verticalPos+=7}))},ia.fixKey=function(u,d){var h=lc.clone(d);return ia.addPosToKey(u,h),h};var a=function(u){var d=0,h=u.charAt(d++);(h==="^"||h==="_")&&(h=u.charAt(d++));var f=o[h];for(f===void 0&&(f=6);d<u.length;d++)if(u.charAt(d)===",")f-=7;else if(u.charAt(d)==="'")f+=7;else break;return{mid:f-6,str:u.substring(d)}},l=function(u){for(var d=0;d<u.length;d++)u[d].note==="b"?u[d].note="B":u[d].note==="a"?u[d].note="A":u[d].note==="F"?u[d].note="f":u[d].note==="E"?u[d].note="e":u[d].note==="D"?u[d].note="d":u[d].note==="C"?u[d].note="c":u[d].note==="G"&&u[d].acc==="sharp"?u[d].note="g":u[d].note==="g"&&u[d].acc==="flat"&&(u[d].note="G")};ia.parseKey=function(u){u.length===0&&(u="none");var d=t.tokenize(u,0,u.length),h={};switch(d[0].token){case"HP":X$.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},h.foundKey=!0,d.shift();break;case"Hp":X$.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},h.foundKey=!0,d.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},h.foundKey=!0,d.shift();break;default:var f=t.getKeyPitch(d[0].token);if(f.len>0){h.foundKey=!0;var p="",m="";d[0].token.length>1?d[0].token=d[0].token.substring(1):d.shift();var y=f.token;if(d.length>0){var S=t.getSharpFlat(d[0].token);if(S.len>0&&(d[0].token.length>1?d[0].token=d[0].token.substring(1):d.shift(),y+=S.token,p=S.token),d.length>0){var w=t.getMode(d[0].token);w.len>0&&(d.shift(),y+=w.token,m=w.token)}if(ia.standardKey(y,f.token,p,0)===void 0)return e("Unsupported key signature: "+y,u,0),h}var v=ia.deepCopyKey(n.key),k=n.globalTranspose?-n.globalTranspose:0;if(n.key=ia.deepCopyKey(ia.standardKey(y,f.token,p,k)),n.key.mode=m,v){for(var P,T=0;T<n.key.accidentals.length;T++)for(P=0;P<v.accidentals.length;P++)v.accidentals[P].note&&n.key.accidentals[T].note.toLowerCase()===v.accidentals[P].note.toLowerCase()&&(v.accidentals[P].note=null);for(P=0;P<v.accidentals.length;P++)v.accidentals[P].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:v.accidentals[P].note}))}}break}if(d.length===0||(d[0].token==="exp"&&d.shift(),d.length===0)||(d[0].token==="oct"&&d.shift(),d.length===0))return h;var _=t.getKeyAccidentals2(d);if(_.warn&&e(_.warn,u,0),_.accs){h.foundKey||(h.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),l(_.accs);for(var E=0;E<_.accs.length;E++){for(var I=!1,R=0;R<n.key.accidentals.length&&!I;R++)n.key.accidentals[R].note===_.accs[E].note&&(I=!0,n.key.accidentals[R].acc!==_.accs[E].acc&&(n.key.accidentals[R].acc=_.accs[E].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(_.accs[E])));if(!I&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(_.accs[E]),n.key.accidentals.push(_.accs[E]),n.key.impliedNaturals))for(var F=0;F<n.key.impliedNaturals.length;F++)n.key.impliedNaturals[F].note===_.accs[E].note&&n.key.impliedNaturals.splice(F,1)}}for(var B;d.length>0;)switch(d[0].token){case"m":case"middle":if(d.shift(),d.length===0)return e("Expected = after middle",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after middle",u,B.start);break}if(d.length===0)return e("Expected parameter after middle=",u,0),h;var D=t.getPitchFromTokens(d);D.warn&&e(D.warn,u,0),D.position&&(n.clef.verticalPos=D.position-6);break;case"transpose":if(d.shift(),d.length===0)return e("Expected = after transpose",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after transpose",u,B.start);break}if(d.length===0)return e("Expected parameter after transpose=",u,0),h;if(d[0].type!=="number"){e("Expected number after transpose",u,d[0].start);break}n.clef.transpose=d[0].intt,d.shift();break;case"stafflines":if(d.shift(),d.length===0)return e("Expected = after stafflines",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after stafflines",u,B.start);break}if(d.length===0)return e("Expected parameter after stafflines=",u,0),h;if(d[0].type!=="number"){e("Expected number after stafflines",u,d[0].start);break}n.clef.stafflines=d[0].intt,d.shift();break;case"staffscale":if(d.shift(),d.length===0)return e("Expected = after staffscale",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after staffscale",u,B.start);break}if(d.length===0)return e("Expected parameter after staffscale=",u,0),h;if(d[0].type!=="number"){e("Expected number after staffscale",u,d[0].start);break}n.clef.staffscale=d[0].floatt,d.shift();break;case"style":if(d.shift(),d.length===0)return e("Expected = after style",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after style",u,B.start);break}if(d.length===0)return e("Expected parameter after style=",u,0),h;switch(d[0].token){case"normal":case"harmonic":case"rhythm":case"x":n.style=d[0].token,d.shift();break;default:e("error parsing style element: "+d[0].token,u,d[0].start);break}break;case"clef":if(d.shift(),d.length===0)return e("Expected = after clef",u,0),h;if(B=d.shift(),B.token!=="="){e("Expected = after clef",u,B.start);break}if(d.length===0)return e("Expected parameter after clef=",u,0),h;case"treble":case"bass":case"alto":case"tenor":case"perc":var A=d.shift();switch(A.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":A.token="alto";break;case"F":A.token="bass";break;case"G":A.token="treble";break;case"c":A.token="alto";break;case"f":A.token="bass";break;case"g":A.token="treble";break;default:e("Expected clef name. Found "+A.token,u,A.start);break}d.length>0&&d[0].type==="number"&&(A.token+=d[0].token,d.shift()),d.length>1&&(d[0].token==="-"||d[0].token==="+"||d[0].token==="^"||d[0].token==="_")&&d[1].token==="8"&&(A.token+=d[0].token+d[1].token,d.shift(),d.shift()),n.clef={type:A.token,verticalPos:s(A.token,0)},n.currentVoice&&n.currentVoice.transpose!==void 0&&(n.clef.transpose=n.currentVoice.transpose),h.foundClef=!0;break;default:e("Unknown parameter: "+d[0].token,u,d[0].start),d.shift()}return h};var c=function(u){n.currentVoice=n.voices[u],r.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)};ia.parseVoice=function(u,d,h){var f=t.getMeat(u,d,h),p=f.start,m=f.end,y=t.getToken(u,p,m);if(y.length===0){e("Expected a voice id",u,p);return}var S=!1;n.voices[y]===void 0&&(n.voices[y]={},S=!0,n.score_is_present&&e("Can't have an unknown V: id when the %score directive is present",u,p)),p+=y.length,p+=t.eatWhiteSpace(u,p);for(var w={startStaff:S},v=function(N){var L=t.getVoiceToken(u,p,m);L.warn!==void 0?e("Expected value for "+N+" in voice: "+L.warn,u,p):L.token.length===0&&u.charAt(p)!=='"'?e("Expected value for "+N+" in voice",u,p):w[N]=L.token,p+=L.len},k=function(N,L,H){var O=t.getVoiceToken(u,p,m);O.warn!==void 0?e("Expected value for "+L+" in voice: "+O.warn,u,p):O.token.length===0&&u.charAt(p)!=='"'?e("Expected value for "+L+" in voice",u,p):(H==="number"&&(O.token=parseFloat(O.token)),n.voices[N][L]=O.token),p+=O.len},P=function(N,L){var H=t.getVoiceToken(u,p,m);if(H.warn!==void 0)e("Expected value for "+N+" in voice: "+H.warn,u,p);else if(H.token.length===0&&u.charAt(p)!=='"')e("Expected value for "+N+" in voice",u,p);else return L==="number"&&(H.token=parseFloat(H.token)),H.token;p+=H.len},T=function(N,L){var H={_B:2,_E:9,_b:-10,_e:-3},O=t.getVoiceToken(u,p,m);if(O.warn!==void 0)e("Expected one of (_B, _E, _b, _e) for "+L+" in voice: "+O.warn,u,p);else if(O.token.length===0&&u.charAt(p)!=='"')e("Expected one of (_B, _E, _b, _e) for "+L+" in voice",u,p);else{var G=H[O.token];G?n.voices[N][L]=G:e("Expected one of (_B, _E, _b, _e) for "+L+" in voice",u,p)}p+=O.len};p<m;){var _=t.getVoiceToken(u,p,m);if(p+=_.len,_.warn)e("Error parsing voice: "+_.warn,u,p);else{var E=null;switch(_.token){case"clef":case"cl":v("clef");var I=0;w.clef!==void 0&&(w.clef=w.clef.replace(/[',]/g,""),w.clef.indexOf("+16")!==-1&&(I+=14,w.clef=w.clef.replace("+16","")),w.verticalPos=s(w.clef,I));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var R=0;w.clef=_.token.replace(/[',]/g,""),w.verticalPos=s(w.clef,R),n.voices[y].clef=_.token;break;case"staves":case"stave":case"stv":v("staves");break;case"brace":case"brc":v("brace");break;case"bracket":case"brk":v("bracket");break;case"name":case"nm":v("name");break;case"subname":case"sname":case"snm":v("subname");break;case"merge":w.startStaff=!1;break;case"stem":case"stems":E=t.getVoiceToken(u,p,m),E.warn!==void 0?e("Expected value for stems in voice: "+E.warn,u,p):E.token==="up"||E.token==="down"?n.voices[y].stem=E.token:e("Expected up or down for voice stem",u,p),p+=E.len;break;case"up":case"down":n.voices[y].stem=_.token;break;case"middle":case"m":v("verticalPos"),w.verticalPos=a(w.verticalPos).mid;break;case"gchords":case"gch":n.voices[y].suppressChords=!0,E=t.getVoiceToken(u,p,m),E.token==="0"&&(p=p+E.len);break;case"space":case"spc":v("spacing");break;case"scale":k(y,"scale","number");break;case"score":T(y,"scoreTranspose");break;case"transpose":k(y,"transpose","number");break;case"stafflines":k(y,"stafflines","number");break;case"staffscale":k(y,"staffscale","number");break;case"octave":k(y,"octave","number");break;case"volume":k(y,"volume","number");break;case"cue":var F=P("cue","string");F==="on"?n.voices[y].scale=.6:n.voices[y].scale=1;break;case"style":E=t.getVoiceToken(u,p,m),E.warn!==void 0?e("Expected value for style in voice: "+E.warn,u,p):E.token==="normal"||E.token==="harmonic"||E.token==="rhythm"||E.token==="x"?n.voices[y].style=E.token:e("Expected one of [normal, harmonic, rhythm, x] for voice style",u,p),p+=E.len;break}}p+=t.eatWhiteSpace(u,p)}if((w.startStaff||n.staves.length===0)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),n.voices[y].staffNum===void 0){n.voices[y].staffNum=n.staves.length-1;var B=0;for(var D in n.voices)n.voices.hasOwnProperty(D)&&n.voices[D].staffNum===n.voices[y].staffNum&&B++;n.voices[y].index=B-1}var A=n.staves[n.voices[y].staffNum];n.score_is_present||A.numVoices++,w.clef&&(A.clef={type:w.clef,verticalPos:w.verticalPos}),w.spacing&&(A.spacing_below_offset=w.spacing),w.verticalPos&&(A.verticalPos=w.verticalPos),w.name&&(A.name?A.name.push(w.name):A.name=[w.name]),w.subname&&(A.subname?A.subname.push(w.subname):A.subname=[w.subname]),c(y)}})();var a6=ia,O0=ec,ty=o6,Jc=a6,CXe=function(t,e,n,r){this.reset=function(o,a,l,c){Jc.initialize(o,a,l,c),ty.initialize(o,a,l,c)},this.reset(t,e,n,r),this.setTitle=function(o){if(n.hasMainTitle)r.addSubtitle(t.translateString(t.stripComment(o)));else{var a=t.translateString(t.theReverser(t.stripComment(o)));n.titlecaps&&(a=a.toUpperCase()),r.addMetaText("title",a),n.hasMainTitle=!0}},this.setMeter=function(o){if(o=t.stripComment(o),o==="C")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if(o==="C|")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if(o==="o")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if(o==="c")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if(o==="o.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(o==="c.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(o.length===0||o.toLowerCase()==="none")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),null;var a=t.tokenize(o,0,o.length);try{var l=function(){var p={value:0,num:""},m=a.shift();for(m.token==="("&&(m=a.shift());;){if(m.type!=="number")throw"Expected top number of meter";if(p.value+=parseInt(m.token),p.num+=m.token,a.length===0||a[0].token==="/")return p;if(m=a.shift(),m.token===")"){if(a.length===0||a[0].token==="/")return p;throw"Unexpected paren in meter"}if(m.token!=="."&&m.token!=="+"||(p.num+=m.token,a.length===0))throw"Expected top number of meter";m=a.shift()}return p},c=function(){var p=l();if(a.length===0)return p;var m=a.shift();if(m.token!=="/")throw"Expected slash in meter";if(m=a.shift(),m.type!=="number")throw"Expected bottom number of meter";return p.den=m.token,p.value=p.value/parseInt(p.den),p};if(a.length===0)throw"Expected meter definition in M: line";for(var u={type:"specified",value:[]},d=0;;){var h=c();d+=h.value;var f={num:h.num};if(h.den!==void 0&&(f.den=h.den),u.value.push(f),a.length===0)break}return n.havent_set_length===!0&&(n.default_length=d<.75?.0625:.125,n.havent_set_length=!1),u}catch(p){e(p,o,0)}return null},this.calcTempo=function(o){var a=.25;n.meter&&n.meter.type==="specified"?a=1/parseInt(n.meter.value[0].den):n.origMeter&&n.origMeter.type==="specified"&&(a=1/parseInt(n.origMeter.value[0].den));for(var l=0;l<o.duration;l++)o.duration[l]=a*o.duration[l];return o},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),r.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(o,a,l){var c=o.indexOf("=",a);if(c===-1){e("Need an = in a macro definition",o,a);return}var u=O0.strip(o.substring(a,c)),d=O0.strip(o.substring(c+1));if(u.length!==1){e("Macro definitions can only be one character",o,a);return}var h="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(h.indexOf(u)===-1){e("Macro definitions must be H-Y, h-w, or tilde",o,a);return}if(d.length===0){e("Missing macro definition",o,a);return}n.macros===void 0&&(n.macros={}),n.macros[u]=d},this.setDefaultLength=function(o,a,l){var c=O0.gsub(o.substring(a,l)," ",""),u=c.split("/");if(u.length===2){var d=parseInt(u[0]),h=parseInt(u[1]);h>0&&(n.default_length=d/h,n.havent_set_length=!1)}else u.length===1&&u[0]==="1"&&(n.default_length=1,n.havent_set_length=!1)};var i={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(o,a,l){try{var c=t.tokenize(o,a,l);if(c.length===0)throw"Missing parameter in Q: field";var u={},d=!0,h=c.shift();if(h.type==="quote"&&(u.preString=h.token,h=c.shift(),c.length===0))return i[u.preString.toLowerCase()]&&(u.bpm=i[u.preString.toLowerCase()],u.suppressBpm=!0),{type:"immediate",tempo:u};if(h.type==="alpha"&&h.token==="C"){if(c.length===0)throw"Missing tempo after C in Q: field";if(h=c.shift(),h.type==="punct"&&h.token==="="){if(c.length===0)throw"Missing tempo after = in Q: field";if(h=c.shift(),h.type!=="number")throw"Expected number after = in Q: field";u.duration=[1],u.bpm=parseInt(h.token)}else if(h.type==="number"){if(u.duration=[parseInt(h.token)],c.length===0)throw"Missing = after duration in Q: field";if(h=c.shift(),h.type!=="punct"||h.token!=="=")throw"Expected = after duration in Q: field";if(c.length===0)throw"Missing tempo after = in Q: field";if(h=c.shift(),h.type!=="number")throw"Expected number after = in Q: field";u.bpm=parseInt(h.token)}else throw"Expected number or equal after C in Q: field"}else if(h.type==="number"){var f=parseInt(h.token);if(c.length===0||c[0].type==="quote")u.duration=[1],u.bpm=f;else{if(d=!1,h=c.shift(),h.type!=="punct"&&h.token!=="/"||(h=c.shift(),h.type!=="number"))throw"Expected fraction in Q: field";var p=parseInt(h.token);for(u.duration=[f/p];c.length>0&&c[0].token!=="="&&c[0].type!=="quote";){if(h=c.shift(),h.type!=="number"||(f=parseInt(h.token),h=c.shift(),h.type!=="punct"&&h.token!=="/")||(h=c.shift(),h.type!=="number"))throw"Expected fraction in Q: field";p=parseInt(h.token),u.duration.push(f/p)}if(h=c.shift(),h.type!=="punct"&&h.token!=="=")throw"Expected = in Q: field";if(h=c.shift(),h.type!=="number")throw"Expected tempo in Q: field";u.bpm=parseInt(h.token)}}else throw"Unknown value in Q: field";if(c.length!==0&&(h=c.shift(),h.type==="quote"&&(u.postString=h.token,h=c.shift()),c.length!==0))throw"Unexpected string at end of Q: field";return n.printTempo===!1&&(u.suppress=!0),{type:d?"delaySet":"immediate",tempo:u}}catch(m){return e(m,o,a),{type:"none"}}},this.letter_to_inline_header=function(o,a){var l=t.eatWhiteSpace(o,a);if(a+=l,o.length>=a+5&&o.charAt(a)==="["&&o.charAt(a+2)===":"){var c=o.indexOf("]",a),u=n.iChar+a,d=n.iChar+c+1;switch(o.substring(a,a+3)){case"[I:":var h=ty.addDirective(o.substring(a+3,c));return h&&e(h,o,a),[c-a+1+l];case"[M:":var f=this.setMeter(o.substring(a+3,c));return r.hasBeginMusic()&&f?r.appendStartingElement("meter",u,d,f):n.meter=f,[c-a+1+l];case"[K:":var p=Jc.parseKey(o.substring(a+3,c));return p.foundClef&&r.hasBeginMusic()&&r.appendStartingElement("clef",u,d,n.clef),p.foundKey&&r.hasBeginMusic()&&r.appendStartingElement("key",u,d,Jc.fixKey(n.clef,n.key)),[c-a+1+l];case"[P:":return r.lines.length<=r.lineNum?n.partForNextLine={title:o.substring(a+3,c),startChar:u,endChar:d}:r.appendElement("part",u,d,{title:o.substring(a+3,c)}),[c-a+1+l];case"[L:":return this.setDefaultLength(o,a+3,c),[c-a+1+l];case"[Q:":if(c>0){var m=this.setTempo(o,a+3,c);return m.type==="delaySet"?r.appendElement("tempo",u,d,this.calcTempo(m.tempo)):m.type==="immediate"&&r.appendElement("tempo",u,d,m.tempo),[c-a+1+l,o.charAt(a+1),o.substring(a+3,c)]}break;case"[V:":if(c>0)return Jc.parseVoice(o,a+3,c),[c-a+1+l,o.charAt(a+1),o.substring(a+3,c)];break}}return[0]},this.letter_to_body_header=function(o,a){if(o.length>=a+3)switch(o.substring(a,a+2)){case"I:":var l=ty.addDirective(o.substring(a+2));return l&&e(l,o,a),[o.length];case"M:":var c=this.setMeter(o.substring(a+2));return r.hasBeginMusic()&&c&&r.appendStartingElement("meter",n.iChar+a,n.iChar+o.length,c),[o.length];case"K:":var u=Jc.parseKey(o.substring(a+2));return u.foundClef&&r.hasBeginMusic()&&r.appendStartingElement("clef",n.iChar+a,n.iChar+o.length,n.clef),u.foundKey&&r.hasBeginMusic()&&r.appendStartingElement("key",n.iChar+a,n.iChar+o.length,Jc.fixKey(n.clef,n.key)),[o.length];case"P:":return r.hasBeginMusic()&&r.appendElement("part",n.iChar+a,n.iChar+o.length,{title:o.substring(a+2)}),[o.length];case"L:":return this.setDefaultLength(o,a+2,o.length),[o.length];case"Q:":var d=o.indexOf("",a+2);d===-1&&(d=o.length);var h=this.setTempo(o,a+2,d);return h.type==="delaySet"?r.appendElement("tempo",n.iChar+a,n.iChar+o.length,this.calcTempo(h.tempo)):h.type==="immediate"&&r.appendElement("tempo",n.iChar+a,n.iChar+o.length,h.tempo),[d,o.charAt(a),O0.strip(o.substring(a+2))];case"V:":return Jc.parseVoice(o,a+2,o.length),[o.length,o.charAt(a),O0.strip(o.substring(a+2))]}return[0]};var s={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(o){if(O0.startsWith(o,"%%")){var a=ty.addDirective(o.substring(2));return a&&e(a,o,2),{}}var l=o.indexOf("%");if(l>=0&&(o=o.substring(0,l)),o=o.replace(/\s+$/,""),o.length===0)return{};if(o.length>=2&&o.charAt(1)===":"){var c="";o.indexOf("")>=0&&o.charAt(0)!=="w"&&(c=o.substring(o.indexOf("")+1),o=o.substring(0,o.indexOf("")));var u=s[o.charAt(0)];if(u!==void 0)return u==="unalignedWords"?r.addMetaTextArray(u,ty.parseFontChangeLine(t.translateString(t.stripComment(o.substring(2))))):r.addMetaText(u,t.translateString(t.stripComment(o.substring(2)))),{};var d=n.iChar,h=d+o.length;switch(o.charAt(0)){case"H":r.addMetaText("history",t.translateString(t.stripComment(o.substring(2)))),n.is_in_history=!0;break;case"K":this.resolveTempo();var f=Jc.parseKey(o.substring(2));!n.is_in_header&&r.hasBeginMusic()&&(f.foundClef&&r.appendStartingElement("clef",d,h,n.clef),f.foundKey&&r.appendStartingElement("key",d,h,Jc.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(o,2,o.length);break;case"M":n.origMeter=n.meter=this.setMeter(o.substring(2));break;case"P":n.is_in_header?r.addMetaText("partOrder",t.translateString(t.stripComment(o.substring(2)))):n.partForNextLine={title:t.translateString(t.stripComment(o.substring(2))),startChar:d,endChar:h};break;case"Q":var p=this.setTempo(o,2,o.length);p.type==="delaySet"?n.tempo=p.tempo:p.type==="immediate"&&(r.metaText.tempo=p.tempo);break;case"T":this.setTitle(o.substring(2));break;case"U":this.addUserDefinition(o,2,o.length);break;case"V":if(Jc.parseVoice(o,2,o.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":e("Ignored header",o,0);break;default:return c.length&&(c=""+c),{regular:!0,str:o+c}}return c.length>0?{recurse:!0,str:c}:{}}return{regular:!0,str:o}}},kXe=CXe,Ns=ec,TXe=function(){this.skipWhiteSpace=function(a){for(var l=0;l<a.length;l++)if(!this.isWhiteSpace(a.charAt(l)))return l;return a.length};var t=function(a,l){return l>=a.length};this.eatWhiteSpace=function(a,l){for(var c=l;c<a.length;c++)if(!this.isWhiteSpace(a.charAt(c)))return c-l;return c-l},this.getKeyPitch=function(a){var l=this.skipWhiteSpace(a);if(t(a,l))return{len:0};switch(a.charAt(l)){case"A":return{len:l+1,token:"A"};case"B":return{len:l+1,token:"B"};case"C":return{len:l+1,token:"C"};case"D":return{len:l+1,token:"D"};case"E":return{len:l+1,token:"E"};case"F":return{len:l+1,token:"F"};case"G":return{len:l+1,token:"G"}}return{len:0}},this.getSharpFlat=function(a){if(a==="bass")return{len:0};switch(a.charAt(0)){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(a){var l=function(d,h){for(;h<d.length&&(d.charAt(h)>="a"&&d.charAt(h)<="z"||d.charAt(h)>="A"&&d.charAt(h)<="Z");)h++;return h},c=this.skipWhiteSpace(a);if(t(a,c))return{len:0};var u=a.substring(c,c+3).toLowerCase();switch((u.length>1&&u.charAt(1)===" "||u.charAt(1)==="^"||u.charAt(1)==="_"||u.charAt(1)==="=")&&(u=u.charAt(0)),u){case"mix":return{len:l(a,c),token:"Mix"};case"dor":return{len:l(a,c),token:"Dor"};case"phr":return{len:l(a,c),token:"Phr"};case"lyd":return{len:l(a,c),token:"Lyd"};case"loc":return{len:l(a,c),token:"Loc"};case"aeo":return{len:l(a,c),token:"m"};case"maj":return{len:l(a,c),token:""};case"ion":return{len:l(a,c),token:""};case"min":return{len:l(a,c),token:"m"};case"m":return{len:l(a,c),token:"m"}}return{len:0}},this.getClef=function(a,l){var c=a,u=this.skipWhiteSpace(a);if(t(a,u))return{len:0};var d=!1,h=a.substring(u);if(Ns.startsWith(h,"clef=")&&(d=!0,h=h.substring(5),u+=5),h.length===0&&d)return{len:u+5,warn:"No clef specified: "+c};var f=this.skipWhiteSpace(h);if(t(h,f))return{len:0};f>0&&(u+=f,h=h.substring(f));var p=null;if(Ns.startsWith(h,"treble"))p="treble";else if(Ns.startsWith(h,"bass3"))p="bass3";else if(Ns.startsWith(h,"bass"))p="bass";else if(Ns.startsWith(h,"tenor"))p="tenor";else if(Ns.startsWith(h,"alto2"))p="alto2";else if(Ns.startsWith(h,"alto1"))p="alto1";else if(Ns.startsWith(h,"alto"))p="alto";else if(!l&&d&&Ns.startsWith(h,"none"))p="none";else if(Ns.startsWith(h,"perc"))p="perc";else if(!l&&d&&Ns.startsWith(h,"C"))p="tenor";else if(!l&&d&&Ns.startsWith(h,"F"))p="bass";else if(!l&&d&&Ns.startsWith(h,"G"))p="treble";else return{len:u+5,warn:"Unknown clef specified: "+c};return h=h.substring(p.length),f=this.isMatch(h,"+8"),f>0?p+="+8":(f=this.isMatch(h,"-8"),f>0&&(p+="-8")),{len:u+p.length,token:p,explicit:d}},this.getBarLine=function(a,l){switch(a.charAt(l)){case"]":switch(++l,a.charAt(l)){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++l,a.charAt(l)>="1"&&a.charAt(l)<="9"||a.charAt(l)==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++l,a.charAt(l)){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++l,a.charAt(l)){case"]":switch(++l,a.charAt(l)){case"|":return++l,a.charAt(l)===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++l,a.charAt(l)===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++l,a.charAt(l)==="|")switch(++l,a.charAt(l)){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return a.charAt(l)>="1"&&a.charAt(l)<="9"||a.charAt(l)==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++l,a.charAt(l)){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++l,a.charAt(l)===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var c=0;a.charAt(l+c)===":";)c++;return{len:1+c,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(a,l){for(var c=0;c<a.length;c++)if(l.indexOf(a.charAt(c))<0)return{len:c,token:a.substring(0,c)};return{len:c,token:a}},this.getToken=function(a,l,c){for(var u=l;u<c&&!this.isWhiteSpace(a.charAt(u));)u++;return a.substring(l,u)},this.isMatch=function(a,l){var c=this.skipWhiteSpace(a);return t(a,c)?0:Ns.startsWith(a.substring(c),l)?c+l.length:0},this.getPitchFromTokens=function(a){var l={},c={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(l.position=c[a[0].token],l.position===void 0)return{warn:"Pitch expected. Found: "+a[0].token};for(a.shift();a.length;)switch(a[0].token){case",":l.position-=7,a.shift();break;case"'":l.position+=7,a.shift();break;default:return l}return l},this.getKeyAccidentals2=function(a){for(var l;a.length>0;){var c;if(a[0].token==="^"){if(c="sharp",a.shift(),a.length===0)return{accs:l,warn:"Expected note name after "+c};switch(a[0].token){case"^":c="dblsharp",a.shift();break;case"/":c="quartersharp",a.shift();break}}else if(a[0].token==="=")c="natural",a.shift();else if(a[0].token==="_"){if(c="flat",a.shift(),a.length===0)return{accs:l,warn:"Expected note name after "+c};switch(a[0].token){case"_":c="dblflat",a.shift();break;case"/":c="quarterflat",a.shift();break}}else return{accs:l};if(a.length===0)return{accs:l,warn:"Expected note name after "+c};switch(a[0].token.charAt(0)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":l===void 0&&(l=[]),l.push({acc:c,note:a[0].token.charAt(0)}),a[0].token.length===1?a.shift():a[0].token=a[0].token.substring(1);break;default:return{accs:l,warn:"Expected note name after "+c+" Found: "+a[0].token}}}return{accs:l}},this.getKeyAccidental=function(a){var l={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},c=this.skipWhiteSpace(a);if(t(a,c))return{len:0};var u=null;switch(a.charAt(c)){case"^":case"_":case"=":u=a.charAt(c);break;default:return{len:0}}if(c++,t(a,c))return{len:1,warn:"Expected note name after accidental"};switch(a.charAt(c)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:c+1,token:{acc:l[u],note:a.charAt(c)}};case"^":case"_":case"/":if(u+=a.charAt(c),c++,t(a,c))return{len:2,warn:"Expected note name after accidental"};switch(a.charAt(c)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:c+1,token:{acc:l[u],note:a.charAt(c)}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(a){return a===" "||a==="	"||a===""},this.getMeat=function(a,l,c){var u=a.indexOf("%",l);for(u>=0&&u<c&&(c=u);l<c&&(a.charAt(l)===" "||a.charAt(l)==="	"||a.charAt(l)==="");)l++;for(;l<c&&(a.charAt(c-1)===" "||a.charAt(c-1)==="	"||a.charAt(c-1)==="");)c--;return{start:l,end:c}};var e=function(a){return a>="A"&&a<="Z"||a>="a"&&a<="z"},n=function(a){return a>="0"&&a<="9"};this.tokenize=function(a,l,c,u){var d=this.getMeat(a,l,c);l=d.start,c=d.end;for(var h=[],f;l<c;){if(a.charAt(l)==='"'){for(f=l+1;f<c&&a.charAt(f)!=='"';)f++;h.push({type:"quote",token:a.substring(l+1,f),start:l+1,end:f}),f++}else if(e(a.charAt(l))){if(f=l+1,u)for(;f<c&&!this.isWhiteSpace(a.charAt(f));)f++;else for(;f<c&&e(a.charAt(f));)f++;h.push({type:"alpha",token:a.substring(l,f),continueId:n(a.charAt(f)),start:l,end:f}),l=f+1}else if(a.charAt(l)==="."&&n(a.charAt(f+1))){f=l+1;for(var p=null,m=null;f<c&&n(a.charAt(f));)f++;m=parseFloat(a.substring(l,f)),h.push({type:"number",token:a.substring(l,f),intt:p,floatt:m,continueId:e(a.charAt(f)),start:l,end:f}),l=f+1}else if(n(a.charAt(l))||a.charAt(l)==="-"&&n(a.charAt(f+1))){f=l+1;for(var y=null,S=null;f<c&&n(a.charAt(f));)f++;if(a.charAt(f)==="."&&n(a.charAt(f+1)))for(f++;f<c&&n(a.charAt(f));)f++;else y=parseInt(a.substring(l,f));S=parseFloat(a.substring(l,f)),h.push({type:"number",token:a.substring(l,f),intt:y,floatt:S,continueId:e(a.charAt(f)),start:l,end:f}),l=f+1}else a.charAt(l)===" "||a.charAt(l)==="	"||h.push({type:"punct",token:a.charAt(l),start:l,end:l+1}),f=l+1;l=f}return h},this.getVoiceToken=function(a,l,c){for(var u=l;u<c&&this.isWhiteSpace(a.charAt(u))||a.charAt(u)==="=";)u++;if(a.charAt(u)==='"'){var d=a.indexOf('"',u+1);return d===-1||d>=c?{len:1,err:"Missing close quote"}:{len:d-l+1,token:this.translateString(a.substring(u+1,d))}}else{for(var h=u;h<c&&!this.isWhiteSpace(a.charAt(h))&&a.charAt(h)!=="=";)h++;return{len:h-l+1,token:a.substring(u,h)}}};var r={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},i={"#":"",b:"","=":""},s={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(a){var l=a.split("\\");if(l.length===1)return a;var c=null;return Ns.each(l,function(u){if(c===null)c=u;else{var d=r[u.substring(0,2)];d!==void 0?c+=d+u.substring(2):(d=s[u.substring(0,3)],d!==void 0?c+=d+u.substring(3):(d=i[u.substring(0,1)],d!==void 0?c+=d+u.substring(1):c+="\\"+u))}}),c},this.getNumber=function(a,l){for(var c=0;l<a.length;)switch(a.charAt(l)){case"0":c=c*10,l++;break;case"1":c=c*10+1,l++;break;case"2":c=c*10+2,l++;break;case"3":c=c*10+3,l++;break;case"4":c=c*10+4,l++;break;case"5":c=c*10+5,l++;break;case"6":c=c*10+6,l++;break;case"7":c=c*10+7,l++;break;case"8":c=c*10+8,l++;break;case"9":c=c*10+9,l++;break;default:return{num:c,index:l}}return{num:c,index:l}},this.getFraction=function(a,l){var c=1,u=1;if(a.charAt(l)!=="/"){var d=this.getNumber(a,l);c=d.num,l=d.index}if(a.charAt(l)==="/")if(l++,a.charAt(l)==="/"){for(var h=.5;a.charAt(l++)==="/";)h=h/2;return{value:c*h,index:l-1}}else{var f=l,p=this.getNumber(a,l);p.num===0&&f===l&&(p.num=2),p.num!==0&&(u=p.num),l=p.index}return{value:c/u,index:l}},this.theReverser=function(a){return Ns.endsWith(a,", The")?"The "+a.substring(0,a.length-5):Ns.endsWith(a,", A")?"A "+a.substring(0,a.length-3):a},this.stripComment=function(a){var l=a.indexOf("%");return l>=0?Ns.strip(a.substring(0,l)):Ns.strip(a)},this.getInt=function(a){var l=parseInt(a);if(isNaN(l))return{digits:0};var c=""+l,u=a.indexOf(c);return{value:l,digits:u+c.length}},this.getFloat=function(a){var l=parseFloat(a);if(isNaN(l))return{digits:0};var c=""+l,u=a.indexOf(c);return{value:l,digits:u+c.length}},this.getMeasurement=function(a){if(a.length===0)return{used:0};var l=1,c="";if(a[0].token==="-")a.shift(),c="-",l++;else if(a[0].type!=="number")return{used:0};if(c+=a.shift().token,a.length===0)return{used:1,value:parseInt(c)};var u=a.shift();if(u.token==="."){if(l++,a.length===0)return{used:l,value:parseInt(c)};if(a[0].type==="number"&&(u=a.shift(),c=c+"."+u.token,l++,a.length===0))return{used:l,value:parseFloat(c)};u=a.shift()}switch(u.token){case"pt":return{used:l+1,value:parseFloat(c)};case"cm":return{used:l+1,value:parseFloat(c)/2.54*72};case"in":return{used:l+1,value:parseFloat(c)*72};default:return a.unshift(u),{used:l,value:parseFloat(c)}}};var o=function(a){for(;a.indexOf("\\n")!==-1;)a=a.replace("\\n",`
`);return a};this.getBrackettedSubstring=function(a,l,c,u){for(var d=u||a.charAt(l),h=l+1;h<a.length&&a.charAt(h)!==d;)++h;return a.charAt(h)===d?[h-l+1,o(a.substring(l+1,h)),!0]:(h=l+c,h>a.length-1&&(h=a.length-1),[h-l+1,o(a.substring(l+1,h)),!1])}},PXe=TXe;function _Xe(t,e){if(!(!e||t.lines.length===0)){for(var n=[],r=[],i=[],s=[],o=[],a="",l={},c=0,u=0;u<t.lines.length;u++){var d=t.lines[u];if(d.staff){for(var h=d.staff,f=0;f<h.length;f++){r[f]===void 0&&(r[f]=[],i[f]=[],s[f]=[],o[f]=[]);for(var p=h[f],m=p.voices,y=0;y<m.length;y++){r[f][y]===void 0&&(r[f][y]=!0,i[f][y]=0,s[f][y]=0,o[f][y]=0),c>0&&(i[f][y]+=c);for(var S=m[y],w=0;w<S.length;w++){if(r[f][y]){if(n[i[f][y]]||(n[i[f][y]]={staff:[]}),!n[i[f][y]].staff[f]){n[i[f][y]].staff[f]={voices:[]};for(var v in p)p.hasOwnProperty(v)&&(v==="meter"?(n.length===1||a!==JSON.stringify(p[v]))&&(a=JSON.stringify(p[v]),n[i[f][y]].staff[f][v]=p[v]):v!=="voices"&&(n[i[f][y]].staff[f][v]=p[v]))}o[f][y]&&(n[i[f][y]].staff[f].barNumber=o[f][y]),r[f][y]=!1}var k=S[w];if(!n[i[f][y]].staff[f].voices[y]){n[i[f][y]].staff[f].voices[y]=[];for(var P in l)l.hasOwnProperty(P)&&n[i[f][y]].staff[f].voices[y].push(l[P])}n[i[f][y]].staff[f].voices[y].push(k),k.el_type==="stem"&&(l[k.el_type]=k),k.el_type==="bar"&&(s[f][y]++,e[s[f][y]]&&(r[f][y]=!0,i[f][y]++,o[f][y]=k.barNumber,delete k.barNumber))}}}c=0}else n.push(d),c++}t.lines=n}}function MXe(t,e){for(var n=[],r=[],i=0,s=0;s<t.length;s++){var o=t[s],a=i+o;if(a<e)i=a;else{var l=e-i,c=a-e;l<c&&i>0?(n.push(s-1),r.push(Math.round(i-o)),i=o):s<t.length-1&&(n.push(s),r.push(Math.round(i)),i=0)}}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function rS(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function EXe(t,e,n,r,i,s,o,a,l,c,u){for(var d=c;d<t.length;d++){var h=t[d];n+=h,r+=h;var f=Math.abs(n-e[a]),p=Math.abs(f-s)<e[0]/10;if(p)if(f<s){var m=rS(i),y=rS(l);y.push(d-1),m.push(r-h),u.push({accumulator:n,lineAccumulator:h,lineWidths:m,lastVariance:Math.abs(n-e[a+1]),highestVariance:Math.max(o,s),currLine:a+1,lineBreaks:y,startIndex:d+1})}else f>s&&d<t.length-1&&(m=rS(i),y=rS(l),u.push({accumulator:n,lineAccumulator:r,lineWidths:m,lastVariance:f,highestVariance:Math.max(o,f),currLine:a,lineBreaks:y,startIndex:d+1}));f>s?(l.push(d-1),a++,o=Math.max(o,s),s=Math.abs(n-e[a]),i.push(r-h),r=h):s=f}i.push(r)}function BXe(t,e,n,r){for(var i=Math.ceil(t.total/e)+1,s=Math.floor(t.total/i),o=[],a=0;a<i;a++)o.push(s*(a+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var c=0;c<l.length;)EXe(t.measureWidths,o,l[c].accumulator,l[c].lineAccumulator,l[c].lineWidths,l[c].lastVariance,l[c].highestVariance,l[c].currLine,l[c].lineBreaks,l[c].startIndex,l),c++;for(a=0;a<l.length;a++){var u=l[a];u.variances=[],u.aveVariance=0;for(var d=0;d<u.lineWidths.length;d++){var h=u.lineWidths[d];u.variances.push(h-o[0]),u.aveVariance+=Math.abs(h-o[0])}u.aveVariance=u.aveVariance/u.lineWidths.length,r.attempts.push({type:"optimizeLineWidths",lineBreaks:u.lineBreaks,variances:u.variances,aveVariance:u.aveVariance,widths:t.measureWidths})}var f=9999999,p=-1;for(a=0;a<l.length;a++)u=l[a],u.aveVariance<f&&(f=u.aveVariance,p=a);return{failed:!1,lineBreaks:l[p].lineBreaks,variance:l[p].highestVariance}}function NXe(t,e,n){for(var r=[],i=[],s=0,o=!1,a=0;a<t.length;a++)s+=t[a],s>e&&(o=!0),a%n===n-1&&(a!==t.length-1&&r.push(a),i.push(Math.round(s)),s=0);return{failed:o,totals:i,lineBreaks:r}}function q$(t,e,n,r,i){var s=new i,o={lineBreaks:t,staffwidth:e};for(var a in r)r.hasOwnProperty(a)&&a!=="wrap"&&a!=="staffwidth"&&(o[a]=r[a]);return s.parse(n,o),{tune:s.getTune(),revisedParams:o}}function IXe(t,e,n,r,i,s){if(r.staffwidth<e.left)return{explanation:"Staffwidth is narrower than the margin",tune:t,revisedParams:r};var o=r.scale?Math.max(r.scale,.1):1,a=r.wrap.minSpacing?Math.max(parseFloat(r.wrap.minSpacing),1):1,l=r.wrap.minSpacingLimit?Math.max(parseFloat(r.wrap.minSpacingLimit),1):a-.1,c=r.wrap.maxSpacing?Math.max(parseFloat(r.wrap.maxSpacing),1):void 0;r.wrap.lastLineLimit&&!c&&(c=Math.max(parseFloat(r.wrap.lastLineLimit),1)),r.wrap.targetHeight&&Math.max(parseInt(r.wrap.targetHeight,10),100);var u=r.wrap.preferredMeasuresPerLine?Math.max(parseInt(r.wrap.preferredMeasuresPerLine,10),1):void 0,d=(r.staffwidth-e.left)/a/o,h=(r.staffwidth-e.left)/c/o,f=(r.staffwidth-e.left)/l/o,p={widths:e,lineBreakPoint:d,minLineSize:h,attempts:[],staffWidth:r.staffwidth,minWidth:Math.round(f)},m=null;if(u){var y=NXe(e.measureWidths,d,u);p.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:u,lineBreaks:y.lineBreaks,failed:y.failed,totals:y.totals}),y.failed||(m=y.lineBreaks)}if(!m){var S=MXe(e.measureWidths,d);p.attempts.push({type:"Free Form",lineBreaks:S.lineBreaks,totals:S.totals}),m=S.lineBreaks,S=BXe(e,d,m,p),p.attempts.push({type:"Optimize",failed:S.failed,reason:S.reason,lineBreaks:S.lineBreaks,totals:S.totals}),S.failed||(m=S.lineBreaks)}var w=r.staffwidth,v=q$(m,w,n,r,i),k=s.getMeasureWidths(v.tune),P=!0;return p.attempts.push({type:"heightCheck",height:k.height}),m.length===0&&h>e.total&&(w=e.total*c*o+e.left,p.attempts.push({type:"too sparse",newWidth:Math.round(w)}),P=!1),P||(v=q$(m,w,n,r,i)),v.explanation=p,v}var rQ={wrapLines:_Xe,calcLineWraps:IXe},Hi=ec,AXe=a6,K$=gf,RXe=function(){this.getBeatLength=function(){for(var r=0;r<this.lines.length;r++)if(this.lines[r].staff){for(var i=0;i<this.lines[r].staff.length;i++)if(this.lines[r].staff[i].meter){var s=this.lines[r].staff[i].meter;if(s.type==="specified")if(s.value.length>0){var o=parseInt(s.value[0].num,10),a=parseInt(s.value[0].den,10);return o===3&&a===8||o===6&&a===8?3/8:o===6&&a===4?3/4:o===9&&a===8||o===12&&a===8?3/8:1/a}else return 1/4;else return s.type==="cut_time"?1/2:1/4}}return 1/4},this.getPickupLength=function(){for(var r=0,i=this.getBarLength(),s=0;s<this.lines.length;s++)if(this.lines[s].staff)for(var o=0;o<this.lines[s].staff.length;o++)for(var a=0;a<this.lines[s].staff[o].voices.length;a++)for(var l=this.lines[s].staff[o].voices[a],c=1,u=0;u<l.length;u++){var d=l[u].rest&&l[u].rest.type==="spacer";if(l[u].startTriplet&&(c=l[u].tripletMultiplier),l[u].duration&&!d&&(r+=l[u].duration*c),l[u].endTriplet&&(c=1),r>=i&&(r-=i),l[u].el_type==="bar")return r}return r},this.getBarLength=function(){var r=this.getMeterFraction();return r.num/r.den},this.millisecondsPerMeasure=function(r){var i;if(r)i=r;else{var s=this.metaText?this.metaText.tempo:null;i=this.getBpm(s)}i<=0&&(i=1);var o=this.getBeatsPerMeasure(),a=o/i;return a*6e4},this.getBeatsPerMeasure=function(){var r,i=this.getMeterFraction();return i.den===8?r=i.num/3:r=i.num,r<=0&&(r=1),r},this.reset=function(){this.version="1.0.1",this.media="screen",this.metaText={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0},this.resolveOverlays=function(){for(var r=!1,i=0;i<this.lines.length;i++){var s=this.lines[i];if(s.staff)for(var o=0;o<s.staff.length;o++){for(var a=s.staff[o],l=[],c=0;c<a.voices.length;c++){var u=a.voices[c];l.push({hasOverlay:!1,voice:[],snip:[]});for(var d=0,h=!1,f=-1,p=0;p<u.length;p++){var m=u[p];m.el_type==="overlay"&&!h?(r=!0,h=!0,f=p,l[c].hasOverlay=!0):m.el_type==="bar"?(h?(h=!1,l[c].snip.push({start:f,len:p-f}),l[c].voice.push(m)):(d>0&&l[c].voice.push({el_type:"note",duration:d,rest:{type:"invisible"},startChar:m.startChar,endChar:m.endChar}),l[c].voice.push(m)),d=0):m.el_type==="note"?h?l[c].voice.push(m):d+=m.duration:(m.el_type==="scale"||m.el_type==="stem"||m.el_type==="overlay"||m.el_type==="style"||m.el_type==="transpose")&&l[c].voice.push(m)}l[c].hasOverlay&&l[c].snip.length===0&&l[c].snip.push({start:f,len:u.length-f})}for(c=0;c<l.length;c++){var y=l[c];if(y.hasOverlay){a.voices.push(y.voice);for(var S=y.snip.length-1;S>=0;S--){var w=y.snip[S];a.voices[c].splice(w.start,w.len)}for(S=0;S<a.voices[a.voices.length-1].length;S++){a.voices[a.voices.length-1][S]=Hi.clone(a.voices[a.voices.length-1][S]);var v=a.voices[a.voices.length-1][S];v.el_type==="bar"&&v.startEnding&&delete v.startEnding,v.el_type==="bar"&&v.endEnding&&delete v.endEnding}}}}}return r};function t(r){for(var i=!0,s=0;s<r.length;s++){var o=r[s];if(o.staff){for(var a=0;a<o.staff.length;a++){var l=o.staff[a];if(l.title){for(var c=!1,u=0;u<l.title.length;u++)l.title[u]?(l.title[u]=i?l.title[u].name:l.title[u].subname,l.title[u]?c=!0:l.title[u]=""):l.title[u]="";c||delete l.title}}i=!1}}}this.cleanUp=function(r,i,s,o,a){this.closeLine(),this.metaText.tempo&&this.metaText.tempo.bpm&&!this.metaText.tempo.duration&&(this.metaText.tempo.duration=[this.getBeatLength()]);var l=!1,c,u,d;for(c=0;c<this.lines.length;c++)if(this.lines[c].staff!==void 0){var h=!1;for(u=0;u<this.lines[c].staff.length;u++)if(this.lines[c].staff[u]===void 0)l=!0,this.lines[c].staff[u]=null;else for(d=0;d<this.lines[c].staff[u].voices.length;d++)this.lines[c].staff[u].voices[d]===void 0?this.lines[c].staff[u].voices[d]=[]:this.containsNotes(this.lines[c].staff[u].voices[d])&&(h=!0);h||(this.lines[c]=null,l=!0)}if(l&&(this.lines=Hi.compact(this.lines),Hi.each(this.lines,function(T){T.staff&&(T.staff=Hi.compact(T.staff))})),s)for(;y(this.lines,s););if(o){for(l=!1,c=0;c<this.lines.length;c++)if(this.lines[c].staff!==void 0)for(u=0;u<this.lines[c].staff.length;u++){var f=!1;for(d=0;d<this.lines[c].staff[u].voices.length;d++)this.containsNotesStrict(this.lines[c].staff[u].voices[d])&&(f=!0);f||(l=!0,this.lines[c].staff[u]=null)}l&&Hi.each(this.lines,function(T){T.staff&&(T.staff=Hi.compact(T.staff))})}for(t(this.lines),c=0;c<this.lines.length;c++)if(this.lines[c].staff)for(u=0;u<this.lines[c].staff.length;u++)delete this.lines[c].staff[u].workingClef;for(;this.resolveOverlays(););function p(T){for(var _,E=function(j,J,Z){if(a[Z]===void 0){for(_=0;_<a.length;_++)if(a[_]!==void 0){Z=_;break}if(a[Z]===void 0){var ae=Z*100+1;Hi.each(j.endSlur,function(W){ae===W&&--ae}),a[Z]=[ae]}}for(var z,$=0;$<J;$++)z=a[Z].pop(),j.endSlur.push(z);return a[Z].length===0&&delete a[Z],z},I=function(j,J,Z,ae){j.startSlur=[],a[Z]===void 0&&(a[Z]=[]);for(var z=Z*100+1,$=0;$<J;$++)ae&&(Hi.each(ae,function(W){z===W&&++z}),Hi.each(ae,function(W){z===W&&++z}),Hi.each(ae,function(W){z===W&&++z})),Hi.each(a[Z],function(W){z===W&&++z}),Hi.each(a[Z],function(W){z===W&&++z}),a[Z].push(z),j.startSlur.push({label:z}),z++},R=0;R<T.length;R++){var F=T[R];if(F.el_type==="note"){if(F.gracenotes)for(var B=0;B<F.gracenotes.length;B++){if(F.gracenotes[B].endSlur){var D=F.gracenotes[B].endSlur;F.gracenotes[B].endSlur=[];for(var A=0;A<D;A++)E(F.gracenotes[B],1,20)}F.gracenotes[B].startSlur&&(_=F.gracenotes[B].startSlur,I(F.gracenotes[B],_,20))}if(F.endSlur&&(_=F.endSlur,F.endSlur=[],E(F,_,0)),F.startSlur&&(_=F.startSlur,I(F,_,0)),F.pitches){for(var N=[],L=0;L<F.pitches.length;L++)if(F.pitches[L].endSlur){var H=F.pitches[L].endSlur;F.pitches[L].endSlur=[];for(var O=0;O<H;O++){var G=E(F.pitches[L],1,L+1);N.push(G)}}for(L=0;L<F.pitches.length;L++)F.pitches[L].startSlur&&(_=F.pitches[L].startSlur,I(F.pitches[L],_,L+1,N));F.gracenotes&&F.pitches[0].endSlur&&F.pitches[0].endSlur[0]===100&&F.pitches[0].startSlur&&(F.gracenotes[0].endSlur?F.gracenotes[0].endSlur.push(F.pitches[0].startSlur[0].label):F.gracenotes[0].endSlur=[F.pitches[0].startSlur[0].label],F.pitches[0].endSlur.length===1?delete F.pitches[0].endSlur:F.pitches[0].endSlur[0]===100?F.pitches[0].endSlur.shift():F.pitches[0].endSlur[F.pitches[0].endSlur.length-1]===100&&F.pitches[0].endSlur.pop(),a[1].length===1?delete a[1]:a[1].pop())}}}}function m(T){AXe.fixClef(T)}function y(T,_){for(c=0;c<T.length;c++)if(T[c].staff!==void 0)for(u=0;u<T[c].staff.length;u++){var E=[];for(d=0;d<T[c].staff[u].voices.length;d++)for(var I=T[c].staff[u].voices[d],R=0,F=0;F<I.length;F++)if(I[F].el_type==="bar"){if(R++,R>=_&&F<I.length-1){var B=S(T,c);if(!B){var D=JSON.parse(JSON.stringify(T[c]));T.push(Hi.clone(D)),B=T[T.length-1];for(var A=0;A<B.staff.length;A++)for(var N=0;N<B.staff[A].voices.length;N++)B.staff[A].voices[N]=[]}var L=F+1,H=T[c].staff[u].voices[d].slice(L);return T[c].staff[u].voices[d]=T[c].staff[u].voices[d].slice(0,L),B.staff[u].voices[d]=E.concat(H.concat(B.staff[u].voices[d])),!0}}else I[F].duration||E.push(I[F])}return!1}function S(T,_){for(_++;T.length>_;){if(T[_].staff)return T[_];_++}return null}for(this.lineNum=0;this.lineNum<this.lines.length;this.lineNum++){var w=this.lines[this.lineNum].staff;if(w)for(this.staffNum=0;this.staffNum<w.length;this.staffNum++)for(w[this.staffNum].clef&&m(w[this.staffNum].clef),this.voiceNum=0;this.voiceNum<w[this.staffNum].voices.length;this.voiceNum++){var v=w[this.staffNum].voices[this.voiceNum];p(v);for(var k=0;k<v.length;k++)v[k].el_type==="clef"&&m(v[k]);if(v.length>0&&v[v.length-1].barNumber){var P=S(this.lines,this.lineNum);P&&(P.staff[0].barNumber=v[v.length-1].barNumber),delete v[v.length-1].barNumber}}}return this.formatting.pagewidth||(this.formatting.pagewidth=r),this.formatting.pageheight||(this.formatting.pageheight=i),delete this.staffNum,delete this.voiceNum,delete this.lineNum,delete this.potentialStartBeam,delete this.potentialEndBeam,delete this.vskipPending,a},this.reset(),this.getLastNote=function(){if(this.lines[this.lineNum]&&this.lines[this.lineNum].staff&&this.lines[this.lineNum].staff[this.staffNum]&&this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum])for(var r=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum].length-1;r>=0;r--){var i=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum][r];if(i.el_type==="note")return i}return null},this.addTieToLastNote=function(){var r=this.getLastNote();return r&&r.pitches&&r.pitches.length>0?(r.pitches[0].startTie={},!0):!1},this.getDuration=function(r){return r.duration?r.duration:0},this.closeLine=function(){this.potentialStartBeam&&this.potentialEndBeam&&(this.potentialStartBeam.startBeam=!0,this.potentialEndBeam.endBeam=!0),delete this.potentialStartBeam,delete this.potentialEndBeam},this.appendElement=function(r,i,s,o){var a=this,l=function(h){var f=a.lines[a.lineNum].staff[a.staffNum];if(f){if(h.pitches!==void 0){var p=f.workingClef.verticalPos;Hi.each(h.pitches,function(y){y.verticalPos=y.pitch-p})}if(h.gracenotes!==void 0){var m=f.workingClef.verticalPos;Hi.each(h.gracenotes,function(y){y.verticalPos=y.pitch-m})}f.voices[a.voiceNum].push(h)}};o.el_type=r,i!==null&&(o.startChar=i),s!==null&&(o.endChar=s);var c=function(){a.potentialStartBeam.startBeam=!0,o.endBeam=!0,delete a.potentialStartBeam,delete a.potentialEndBeam},u=function(){a.potentialStartBeam!==void 0&&a.potentialEndBeam!==void 0&&(a.potentialStartBeam.startBeam=!0,a.potentialEndBeam.endBeam=!0),delete a.potentialStartBeam,delete a.potentialEndBeam};if(r==="note"){var d=a.getDuration(o);d>=.25||o.force_end_beam_last&&a.potentialStartBeam!==void 0?u():o.end_beam&&a.potentialStartBeam!==void 0?o.rest===void 0?c():u():o.rest===void 0&&(a.potentialStartBeam===void 0?o.end_beam||(a.potentialStartBeam=o,delete a.potentialEndBeam):a.potentialEndBeam=o)}else u();delete o.end_beam,delete o.force_end_beam_last,l(o)},this.appendStartingElement=function(r,i,s,o){this.closeLine();var a;r==="key"&&(a=o.impliedNaturals,delete o.impliedNaturals,delete o.explicitAccidentals);var l=Hi.clone(o);if(this.lines[this.lineNum].staff){this.lines[this.lineNum].staff.length<=this.staffNum&&(this.lines[this.lineNum].staff[this.staffNum]={},this.lines[this.lineNum].staff[this.staffNum].clef=Hi.clone(this.lines[this.lineNum].staff[0].clef),this.lines[this.lineNum].staff[this.staffNum].key=Hi.clone(this.lines[this.lineNum].staff[0].key),this.lines[this.lineNum].staff[0].meter&&(this.lines[this.lineNum].staff[this.staffNum].meter=Hi.clone(this.lines[this.lineNum].staff[0].meter)),this.lines[this.lineNum].staff[this.staffNum].workingClef=Hi.clone(this.lines[this.lineNum].staff[0].workingClef),this.lines[this.lineNum].staff[this.staffNum].voices=[[]]),r==="clef"&&(this.lines[this.lineNum].staff[this.staffNum].workingClef=l);for(var c=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum],u=0;u<c.length;u++){if(c[u].el_type==="note"||c[u].el_type==="bar"){l.el_type=r,l.startChar=i,l.endChar=s,a&&(l.accidentals=a.concat(l.accidentals)),c.push(l);return}if(c[u].el_type===r){l.el_type=r,l.startChar=i,l.endChar=s,a&&(l.accidentals=a.concat(l.accidentals)),c[u]=l;return}}this.lines[this.lineNum].staff[this.staffNum][r]=o}},this.getNumLines=function(){return this.lines.length},this.pushLine=function(r){this.vskipPending&&(r.vskip=this.vskipPending,delete this.vskipPending),this.lines.push(r)},this.addSubtitle=function(r){this.pushLine({subtitle:r})},this.addSpacing=function(r){this.vskipPending=r},this.addNewPage=function(r){this.pushLine({newpage:r})},this.addSeparator=function(r,i,s){this.pushLine({separator:{spaceAbove:r,spaceBelow:i,lineLength:s}})},this.addText=function(r){this.pushLine({text:r})},this.addCentered=function(r){this.pushLine({text:[{text:r,center:!0}]})},this.containsNotes=function(r){for(var i=0;i<r.length;i++)if(r[i].el_type==="note"||r[i].el_type==="bar")return!0;return!1},this.containsNotesStrict=function(r){for(var i=0;i<r.length;i++)if(r[i].el_type==="note"&&r[i].rest===void 0)return!0;return!1},this.changeVoiceScale=function(r){var i=this;i.appendElement("scale",null,null,{size:r})},this.startNewLine=function(r){var i=this;this.closeLine();var s=function(l){var c=i.lines[i.lineNum].staff[i.staffNum];if(c.voices[i.voiceNum]=[],c.title||(c.title=[]),c.title[i.voiceNum]={name:l.name,subname:l.subname},l.style&&i.appendElement("style",null,null,{head:l.style}),l.stem)i.appendElement("stem",null,null,{direction:l.stem});else if(i.voiceNum>0){if(c.voices[0]!==void 0){for(var u=!1,d=0;d<c.voices[0].length;d++)c.voices[0].el_type==="stem"&&(u=!0);if(!u){var h={el_type:"stem",direction:"up"};c.voices[0].splice(0,0,h)}}i.appendElement("stem",null,null,{direction:"down"})}l.scale&&i.appendElement("scale",null,null,{size:l.scale})},o=function(l){l.key&&l.key.impliedNaturals&&(l.key.accidentals=l.key.accidentals.concat(l.key.impliedNaturals),delete l.key.impliedNaturals),i.lines[i.lineNum].staff[i.staffNum]={voices:[],clef:l.clef,key:l.key,workingClef:l.clef},l.stafflines!==void 0&&(i.lines[i.lineNum].staff[i.staffNum].clef.stafflines=l.stafflines,i.lines[i.lineNum].staff[i.staffNum].workingClef.stafflines=l.stafflines),l.staffscale&&(i.lines[i.lineNum].staff[i.staffNum].staffscale=l.staffscale),l.tripletfont&&(i.lines[i.lineNum].staff[i.staffNum].tripletfont=l.tripletfont),l.vocalfont&&(i.lines[i.lineNum].staff[i.staffNum].vocalfont=l.vocalfont),l.bracket&&(i.lines[i.lineNum].staff[i.staffNum].bracket=l.bracket),l.brace&&(i.lines[i.lineNum].staff[i.staffNum].brace=l.brace),l.connectBarLines&&(i.lines[i.lineNum].staff[i.staffNum].connectBarLines=l.connectBarLines),l.barNumber&&(i.lines[i.lineNum].staff[i.staffNum].barNumber=l.barNumber),s(l),l.part&&i.appendElement("part",l.part.startChar,l.part.endChar,{title:l.part.title}),l.meter!==void 0&&(i.lines[i.lineNum].staff[i.staffNum].meter=l.meter)},a=function(l){i.lines[i.lineNum]={staff:[]},o(l)};if(this.lines[this.lineNum]===void 0)a(r);else if(this.lines[this.lineNum].staff===void 0)this.lineNum++,this.startNewLine(r);else if(this.lines[this.lineNum].staff[this.staffNum]===void 0)o(r);else if(this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]===void 0)s(r);else if(this.containsNotes(this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]))this.lineNum++,this.startNewLine(r);else return},this.setBarNumberImmediate=function(r){var i=this.getCurrentVoice();if(i&&i.length>0){var s=i[i.length-1];if(s.el_type==="bar")s.barNumber!==void 0&&(s.barNumber=r);else return r-1}return r},this.hasBeginMusic=function(){for(var r=0;r<this.lines.length;r++)if(this.lines[r].staff)return!0;return!1},this.isFirstLine=function(r){for(var i=r-1;i>=0;i--)if(this.lines[i].staff!==void 0)return!1;return!0},this.getMeter=function(){for(var r=0;r<this.lines.length;r++){var i=this.lines[r];if(i.staff)for(var s=0;s<i.staff.length;s++){var o=i.staff[s].meter;if(o)return o}}return{type:"common_time"}},this.getMeterFraction=function(){var r=this.getMeter(),i=4,s=4;return r&&(r.type==="specified"?(i=parseInt(r.value[0].num,10),s=parseInt(r.value[0].den,10)):r.type==="cut_time"?(i=2,s=2):r.type==="common_time"&&(i=4,s=4)),this.meter={num:i,den:s},this.meter},this.getKeySignature=function(){for(var r=0;r<this.lines.length;r++){var i=this.lines[r];if(i.staff){for(var s=0;s<i.staff.length;s++)if(i.staff[s].key)return i.staff[s].key}}return{}},this.getCurrentVoice=function(){return this.lines[this.lineNum]!==void 0&&this.lines[this.lineNum].staff[this.staffNum]!==void 0&&this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]!==void 0?this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]:null},this.setCurrentVoice=function(r,i){this.staffNum=r,this.voiceNum=i;for(var s=0;s<this.lines.length;s++)if(this.lines[s].staff&&(this.lines[s].staff[r]===void 0||this.lines[s].staff[r].voices[i]===void 0||!this.containsNotes(this.lines[s].staff[r].voices[i]))){this.lineNum=s;return}this.lineNum=s},this.addMetaText=function(r,i){this.metaText[r]===void 0?this.metaText[r]=i:this.metaText[r]+=`
`+i},this.addMetaTextArray=function(r,i){this.metaText[r]===void 0?this.metaText[r]=[i]:this.metaText[r].push(i)},this.addMetaTextObj=function(r,i){this.metaText[r]=i};function e(r){for(var i,s,o,a,l=r.length-1;l>=0;l--){var c=r[l];c.type==="bar"?(c.top=o,c.nextTop=i,i=o,c.bottom=a,c.nextBottom=s,s=a):c.type==="event"&&(o=c.top,a=c.top+c.height)}}function n(r){var i=[];for(var s in r)r.hasOwnProperty(s)&&i.push(r[s]);return i=i.sort(function(o,a){var l=o.milliseconds-a.milliseconds;return l!==0?l:o.type==="bar"?-1:1}),i}this.addElementToEvents=function(r,i,s,o,a,l,c,u,d,h){if(i.hint)return{isTiedState:void 0,duration:0};var f=i.durationClass?i.durationClass:i.duration;if(i.abcelem.rest&&i.abcelem.rest.type==="spacer"&&(f=0),f>0){for(var p=[],m=0;m<i.elemset.length;m++)i.elemset[m]!==null&&p.push(i.elemset[m]);var y=i.startTie;if(d!==void 0)r["event"+d].elements.push(p),h&&(r["event"+s]||(r["event"+s]={type:"event",milliseconds:s,line:l,measureNumber:c,top:o,height:a,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),r["event"+s].measureStart=!0,h=!1),y||(d=void 0);else{if(!r["event"+s])r["event"+s]={type:"event",milliseconds:s,line:l,measureNumber:c,top:o,height:a,left:i.x,width:i.w,elements:[p],startChar:i.abcelem.startChar,endChar:i.abcelem.endChar,startCharArray:[i.abcelem.startChar],endCharArray:[i.abcelem.endChar],midiPitches:i.abcelem.midiPitches?Hi.cloneArray(i.abcelem.midiPitches):[]},i.abcelem.midiGraceNotePitches&&(r["event"+s].midiGraceNotePitches=Hi.cloneArray(i.abcelem.midiGraceNotePitches));else{if(r["event"+s].left?r["event"+s].left=Math.min(r["event"+s].left,i.x):r["event"+s].left=i.x,r["event"+s].elements.push(p),r["event"+s].startCharArray.push(i.abcelem.startChar),r["event"+s].endCharArray.push(i.abcelem.endChar),r["event"+s].startChar===null&&(r["event"+s].startChar=i.abcelem.startChar),r["event"+s].endChar===null&&(r["event"+s].endChar=i.abcelem.endChar),i.abcelem.midiPitches&&i.abcelem.midiPitches.length){r["event"+s].midiPitches||(r["event"+s].midiPitches=[]);for(var m=0;m<i.abcelem.midiPitches.length;m++)r["event"+s].midiPitches.push(i.abcelem.midiPitches[m])}if(i.abcelem.midiGraceNotePitches&&i.abcelem.midiGraceNotePitches.length){r["event"+s].midiGraceNotePitches||(r["event"+s].midiGraceNotePitches=[]);for(var S=0;S<i.abcelem.midiGraceNotePitches.length;S++)r["event"+s].midiGraceNotePitches.push(i.abcelem.midiGraceNotePitches[S])}}h&&(r["event"+s].measureStart=!0,h=!1),y&&(d=s)}}return{isTiedState:d,duration:f/u,nextIsBar:h||i.type==="bar"}},this.makeVoicesArray=function(){for(var r=[],i=0;i<this.engraver.staffgroups.length;i++){var s=this.engraver.staffgroups[i],o=s.staffs[0],a=o.absoluteY,l=a-o.top*K$.STEP,c=s.staffs[s.staffs.length-1];a=c.absoluteY;for(var u=a-c.bottom*K$.STEP,d=u-l,h=s.voices,f=0;f<h.length;f++){var p=0,m=!1;r[f]||(r[f]=[]);for(var y=h[f].children,S=0;S<y.length;S++)r[f].push({top:l,height:d,line:i,measureNumber:p,elem:y[S]}),y[S].type==="bar"&&m&&p++,(y[S].type==="note"||y[S].type==="rest")&&(m=!0)}}return r},this.setupEvents=function(r,i,s){for(var o=[],a={},l=r,c,u=!0,d=this.makeVoicesArray(),h=0;h<d.length;h++)for(var f=l,p=Math.round(f*1e3),m=0,y=-1,S=d[h],w=0;w<S.length;w++){var v=S[w].elem;if(v.abcelem.el_type==="tempo"){var s=this.getBpm(v.abcelem),k=this.getBeatLength(),P=s/60;i=k*P}var T=this.addElementToEvents(a,v,p,S[w].top,S[w].height,S[w].line,S[w].measureNumber,i,c,u);if(c=T.isTiedState,u=T.nextIsBar,f+=T.duration,p=Math.round(f*1e3),v.type==="bar"){var _=v.abcelem.type,E=_==="bar_right_repeat"||_==="bar_dbl_repeat",I=v.abcelem.startEnding==="1",R=_==="bar_left_repeat"||_==="bar_dbl_repeat"||_==="bar_right_repeat";if(E){y===-1&&(y=w);for(var F=m;F<y;F++){var B=S[F].elem;T=this.addElementToEvents(a,B,p,S[F].top,S[F].height,S[F].line,S[F].measureNumber,i,c,u),c=T.isTiedState,u=T.nextIsBar,f+=T.duration,p=Math.round(f*1e3)}u=!0,y=-1}I&&(y=w),R&&(m=w)}}return o=n(a),e(o),o.push({type:"end",milliseconds:p}),this.addUsefulCallbackInfo(o,s),o},this.addUsefulCallbackInfo=function(r,i){for(var s=this.millisecondsPerMeasure(i),o=0;o<r.length;o++){var a=r[o];a.millisecondsPerMeasure=s}},this.getBpm=function(r){var i;if(r){i=r.bpm;var s=this.getBeatLength(),o=r.duration&&r.duration.length>0?r.duration[0]:s;i=i*o/s}if(!i){i=180;var a=this.getMeterFraction();a&&a.den===8&&(i=120)}return i},this.setTiming=function(r,i){if(!r){var s=this.metaText?this.metaText.tempo:null;r=this.getBpm(s)}var o=this.getBeatLength(),a=r/60,l=this.getBarLength(),c=l/o*i/a;c&&(c-=this.getPickupLength()/o/a);var u=o*a;this.noteTimings=this.setupEvents(c,u,r)}},iQ=RXe,gr=ec,LXe=o6,DXe=kXe,Q$=a6,FXe=PXe,J$=nQ,OXe=rQ,$Xe=iQ,HXe=function(){var t=new $Xe,e=new FXe;this.getTune=function(){return{formatting:t.formatting,lines:t.lines,media:t.media,metaText:t.metaText,version:t.version,addElementToEvents:t.addElementToEvents,addUsefulCallbackInfo:t.addUsefulCallbackInfo,getBarLength:t.getBarLength,getBeatLength:t.getBeatLength,getBeatsPerMeasure:t.getBeatsPerMeasure,getBpm:t.getBpm,getMeter:t.getMeter,getMeterFraction:t.getMeterFraction,getPickupLength:t.getPickupLength,getKeySignature:t.getKeySignature,makeVoicesArray:t.makeVoicesArray,millisecondsPerMeasure:t.millisecondsPerMeasure,setupEvents:t.setupEvents,setTiming:t.setTiming}};function n(z,$,W){z.positioning||(z.positioning={}),z.positioning[$]=W}function r(z,$,W){z.fonts||(z.fonts={}),z.fonts[$]=W}var i={reset:function(){for(var z in this)this.hasOwnProperty(z)&&typeof this[z]!="function"&&delete this[z];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.is_in_history=!1,this.partForNextLine={},this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.inTextBlock=!1,this.inPsBlock=!1,this.ignoredDecorations=[],this.textBlock="",this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1},differentFont:function(z,$){return this[z].decoration!==$[z].decoration||this[z].face!==$[z].face||this[z].size!==$[z].size||this[z].style!==$[z].style||this[z].weight!==$[z].weight},addFormattingOptions:function(z,$,W){W==="note"?(this.vocalPosition!=="auto"&&n(z,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&n(z,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&n(z,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&n(z,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&n(z,"volumePosition",this.volumePosition),this.differentFont("annotationfont",$)&&r(z,"annotationfont",this.annotationfont),this.differentFont("gchordfont",$)&&r(z,"gchordfont",this.gchordfont),this.differentFont("vocalfont",$)&&r(z,"vocalfont",this.vocalfont),this.differentFont("tripletfont",$)&&r(z,"tripletfont",this.tripletfont)):W==="bar"&&(this.dynamicPosition!=="auto"&&n(z,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&n(z,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&n(z,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&n(z,"volumePosition",this.volumePosition),this.differentFont("measurefont",$)&&r(z,"measurefont",this.measurefont),this.differentFont("repeatfont",$)&&r(z,"repeatfont",this.repeatfont))}},s=function(z){i.warnings||(i.warnings=[]),i.warnings.push(z)},o=function(z){i.warningObjects||(i.warningObjects=[]),i.warningObjects.push(z)},a=function(z){var $=gr.gsub(z,""," ");return $=gr.gsub($,"&","&amp;"),$=gr.gsub($,"<","&lt;"),gr.gsub($,">","&gt;")},l=function(z,$,W){$||($=" ");var oe=$.charAt(W);oe===" "&&(oe="SPACE");var X=a($.substring(0,W))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+oe+"</span>"+a($.substring(W+1));s("Music Line:"+t.getNumLines()+":"+(W+1)+": "+z+":  "+X),o({message:z,line:$,startChar:i.iChar+W,column:W})},c=new DXe(e,l,i,t);this.getWarnings=function(){return i.warnings},this.getWarningObjects=function(){return i.warningObjects};var u=function(z,$){if(z.charAt($)==='"'){var W=e.getBrackettedSubstring(z,$,5);if(W[2]||l("Missing the closing quote while parsing the chord symbol",z,$),W[0]>0&&W[1].length>0&&W[1].charAt(0)==="^")W[1]=W[1].substring(1),W[2]="above";else if(W[0]>0&&W[1].length>0&&W[1].charAt(0)==="_")W[1]=W[1].substring(1),W[2]="below";else if(W[0]>0&&W[1].length>0&&W[1].charAt(0)==="<")W[1]=W[1].substring(1),W[2]="left";else if(W[0]>0&&W[1].length>0&&W[1].charAt(0)===">")W[1]=W[1].substring(1),W[2]="right";else if(W[0]>0&&W[1].length>0&&W[1].charAt(0)==="@"){W[1]=W[1].substring(1);var oe=e.getFloat(W[1]);oe.digits===0&&l("Missing first position in absolutely positioned annotation.",z,$),W[1]=W[1].substring(oe.digits),W[1][0]!==","&&l("Missing comma absolutely positioned annotation.",z,$),W[1]=W[1].substring(1);var X=e.getFloat(W[1]);X.digits===0&&l("Missing second position in absolutely positioned annotation.",z,$),W[1]=W[1].substring(X.digits);var K=e.skipWhiteSpace(W[1]);W[1]=W[1].substring(K),W[2]=null,W[3]={x:oe.value,y:X.value}}else i.freegchord!==!0&&(W[1]=W[1].replace(/([ABCDEFG0-9])b/g,"$1"),W[1]=W[1].replace(/([ABCDEFG0-9])#/g,"$1")),W[2]="default",W[1]=J$.chordName(i,W[1]);return W}return[0,""]},d=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","slide","^","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x"],h=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],f=["crescendo(","crescendo)","diminuendo(","diminuendo)"],p=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],m=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],y=function(z,$){var W=i.macros[z.charAt($)];if(W!==void 0)return(W.charAt(0)==="!"||W.charAt(0)==="+")&&(W=W.substring(1)),(W.charAt(W.length-1)==="!"||W.charAt(W.length-1)==="+")&&(W=W.substring(0,W.length-1)),gr.detect(d,function(X){return W===X})?[1,W]:gr.detect(h,function(X){return W===X})?(i.volumePosition==="hidden"&&(W=""),[1,W]):gr.detect(f,function(X){return i.dynamicPosition==="hidden"&&(W=""),W===X})?[1,W]:(gr.detect(i.ignoredDecorations,function(X){return W===X})||l("Unknown macro: "+W,z,$),[1,""]);switch(z.charAt($)){case".":return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var oe=e.getBrackettedSubstring(z,$,5);return oe[1].length>0&&(oe[1].charAt(0)==="^"||oe[1].charAt(0)==="_")&&(oe[1]=oe[1].substring(1)),gr.detect(d,function(X){return oe[1]===X})?oe:gr.detect(h,function(X){return oe[1]===X})?(i.volumePosition==="hidden"&&(oe[1]=""),oe):gr.detect(f,function(X){return oe[1]===X})?(i.dynamicPosition==="hidden"&&(oe[1]=""),oe):gr.detect(p,function(X){return oe[1]===X[0]?(oe[1]=X[1],!0):!1})?oe:gr.detect(m,function(X){return oe[1]===X[0]?(oe[1]=X[1],!0):!1})?(i.dynamicPosition==="hidden"&&(oe[1]=""),oe):z.charAt($)==="!"&&(oe[0]===1||z.charAt($+oe[0]-1)!=="!")?[1,null]:(l("Unknown decoration: "+oe[1],z,$),oe[1]="",oe);case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},S=function(z,$){for(var W=$;e.isWhiteSpace(z.charAt($));)$++;return[$-W]},w=function(z,$){var W=e.getBarLine(z,$);if(W.len===0)return[0,""];if(W.warn)return l(W.warn,z,$),[W.len,""];for(var oe=0;oe<z.length&&z.charAt($+W.len+oe)===" ";oe++);var X=W.len;if(z.charAt($+W.len+oe)==="["&&(W.len+=oe+1),z.charAt($+W.len)==='"'&&z.charAt($+W.len-1)==="["){var K=e.getBrackettedSubstring(z,$+W.len,5);return[W.len+K[0],W.token,K[1]]}var Y=e.getTokenOf(z.substring($+W.len),"1234567890-,");return Y.len===0||Y.token[0]==="-"?[X,W.token]:[W.len+Y.len,W.token,Y.token]},v={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2},k=function(z,$){for(var W={},oe=$;z.charAt($)==="("||e.isWhiteSpace(z.charAt($));)z.charAt($)==="("&&($+1<z.length&&z.charAt($+1)>="2"&&z.charAt($+1)<="9"?(W.triplet!==void 0?l("Can't nest triplets",z,$):(W.triplet=z.charAt($+1)-"0",W.tripletQ=v[W.triplet],W.num_notes=W.triplet,$+2<z.length&&z.charAt($+2)===":"&&($+3<z.length&&z.charAt($+3)===":"?$+4<z.length&&z.charAt($+4)>="1"&&z.charAt($+4)<="9"?(W.num_notes=z.charAt($+4)-"0",$+=3):l("expected number after the two colons after the triplet to mark the duration",z,$):$+3<z.length&&z.charAt($+3)>="1"&&z.charAt($+3)<="9"?(W.tripletQ=z.charAt($+3)-"0",$+4<z.length&&z.charAt($+4)===":"?$+5<z.length&&z.charAt($+5)>="1"&&z.charAt($+5)<="9"&&(W.num_notes=z.charAt($+5)-"0",$+=4):$+=2):l("expected number after the triplet to mark the duration",z,$))),$++):W.startSlur===void 0?W.startSlur=1:W.startSlur++),$++;return W.consumed=$-oe,W},P=function(z,$){if(!z){l("Can't add words before the first line of music",z,0);return}$=gr.strip($),$.charAt($.length-1)!=="-"&&($=$+" ");for(var W=[],oe=0,X=!1,K=function(ie){var re=gr.strip($.substring(oe,ie));if(oe=ie+1,re.length>0){X&&(re=gr.gsub(re,"~"," "));var se=$.charAt(ie);return se!=="_"&&se!=="-"&&(se=" "),W.push({syllable:e.translateString(re),divider:se}),X=!1,!0}return!1},Y=0;Y<$.length;Y++)switch($.charAt(Y)){case" ":case"":K(Y);break;case"-":!K(Y)&&W.length>0&&(gr.last(W).divider="-",W.push({skip:!0,to:"next"}));break;case"_":K(Y),W.push({skip:!0,to:"slur"});break;case"*":K(Y),W.push({skip:!0,to:"next"});break;case"|":K(Y),W.push({skip:!0,to:"bar"});break;case"~":X=!0;break}var le=!1;gr.each(z,function(ie){if(W.length!==0){if(W[0].skip){switch(W[0].to){case"next":ie.el_type==="note"&&ie.pitches!==null&&!le&&W.shift();break;case"slur":ie.el_type==="note"&&ie.pitches!==null&&W.shift();break;case"bar":ie.el_type==="bar"&&W.shift();break}ie.el_type!=="bar"&&(ie.lyric===void 0?ie.lyric=[{syllable:"",divider:" "}]:ie.lyric.push({syllable:"",divider:" "}))}else if(ie.el_type==="note"&&ie.rest===void 0&&!le){var re=W.shift();re.syllable&&(re.syllable=re.syllable.replace(/ +/g,"")),ie.lyric===void 0?ie.lyric=[re]:ie.lyric.push(re)}}})},T=function(z,$){if(!z){l("Can't add symbols before the first line of music",z,0);return}$=gr.strip($),$.charAt($.length-1)!=="-"&&($=$+" ");for(var W=[],oe=0,X=!1,K=function(ie){var re=gr.strip($.substring(oe,ie));if(oe=ie+1,re.length>0){X&&(re=gr.gsub(re,"~"," "));var se=$.charAt(ie);return se!=="_"&&se!=="-"&&(se=" "),W.push({syllable:e.translateString(re),divider:se}),X=!1,!0}return!1},Y=0;Y<$.length;Y++)switch($.charAt(Y)){case" ":case"":K(Y);break;case"-":!K(Y)&&W.length>0&&(gr.last(W).divider="-",W.push({skip:!0,to:"next"}));break;case"_":K(Y),W.push({skip:!0,to:"slur"});break;case"*":K(Y),W.push({skip:!0,to:"next"});break;case"|":K(Y),W.push({skip:!0,to:"bar"});break;case"~":X=!0;break}var le=!1;gr.each(z,function(ie){if(W.length!==0){if(W[0].skip)switch(W[0].to){case"next":ie.el_type==="note"&&ie.pitches!==null&&!le&&W.shift();break;case"slur":ie.el_type==="note"&&ie.pitches!==null&&W.shift();break;case"bar":ie.el_type==="bar"&&W.shift();break}else if(ie.el_type==="note"&&ie.rest===void 0&&!le){var re=W.shift();ie.lyric===void 0?ie.lyric=[re]:ie.lyric.push(re)}}})},_=function(z,$){switch(z.charAt($)){case">":return $<z.length-1&&z.charAt($+1)===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return $<z.length-1&&z.charAt($+1)==="<"?[2,.25,1.75]:[1,.5,1.5]}return null},E=function(z){return z.duration!==void 0&&z.duration<.25&&(z.end_beam=!0),z},I={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},R={x:"invisible",y:"spacer",z:"rest",Z:"multimeasure"},F=function(z,$,W,oe){for(var X=function(we){return we==="octave"||we==="duration"||we==="Zduration"||we==="broken_rhythm"||we==="end_slur"},K="startSlur",Y=!1;;){switch(z.charAt($)){case"(":if(K==="startSlur")W.startSlur===void 0?W.startSlur=1:W.startSlur++;else return X(K)?(W.endChar=$,W):null;break;case")":if(X(K))W.endSlur===void 0?W.endSlur=1:W.endSlur++;else return null;break;case"^":if(K==="startSlur")W.accidental="sharp",K="sharp2";else if(K==="sharp2")W.accidental="dblsharp",K="pitch";else return X(K)?(W.endChar=$,W):null;break;case"_":if(K==="startSlur")W.accidental="flat",K="flat2";else if(K==="flat2")W.accidental="dblflat",K="pitch";else return X(K)?(W.endChar=$,W):null;break;case"=":if(K==="startSlur")W.accidental="natural",K="pitch";else return X(K)?(W.endChar=$,W):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(K==="startSlur"||K==="sharp2"||K==="flat2"||K==="pitch"){if(W.pitch=I[z.charAt($)],J$.note(i,W),K="octave",oe&&i.next_note_duration!==0?(W.duration=i.default_length*i.next_note_duration,i.next_note_duration=0,Y=!0):W.duration=i.default_length,i.clef&&i.clef.type==="perc"||i.currentVoice&&i.currentVoice.clef==="perc"){var le=z.charAt($);if(W.accidental){var ie={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^"};le=ie[W.accidental]+le}t.formatting&&t.formatting.midi&&t.formatting.midi.drummap&&(W.midipitch=t.formatting.midi.drummap[le])}}else return X(K)?(W.endChar=$,W):null;break;case",":if(K==="octave")W.pitch-=7;else return X(K)?(W.endChar=$,W):null;break;case"'":if(K==="octave")W.pitch+=7;else return X(K)?(W.endChar=$,W):null;break;case"x":case"y":case"z":case"Z":if(K==="startSlur")W.rest={type:R[z.charAt($)]},delete W.accidental,delete W.startSlur,delete W.startTie,delete W.endSlur,delete W.endTie,delete W.end_beam,delete W.grace_notes,W.rest.type==="multimeasure"?(W.duration=1,K="Zduration"):(oe&&i.next_note_duration!==0?(W.duration=i.default_length*i.next_note_duration,i.next_note_duration=0,Y=!0):W.duration=i.default_length,K="duration");else return X(K)?(W.endChar=$,W):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(K==="octave"||K==="duration"){var re=e.getFraction(z,$);for(W.duration=W.duration*re.value,W.endChar=re.index;re.index<z.length&&(e.isWhiteSpace(z.charAt(re.index))||z.charAt(re.index)==="-");)z.charAt(re.index)==="-"?W.startTie={}:W=E(W),re.index++;$=re.index-1,K="broken_rhythm"}else if(K==="sharp2")W.accidental="quartersharp",K="pitch";else if(K==="flat2")W.accidental="quarterflat",K="pitch";else if(K==="Zduration"){var se=e.getNumber(z,$);return W.duration=se.num,W.endChar=se.index,W}else return null;break;case"-":if(K==="startSlur")t.addTieToLastNote(),W.endTie=!0;else if(K==="octave"||K==="duration"||K==="end_slur")if(W.startTie={},!Y&&oe)K="broken_rhythm";else return e.isWhiteSpace(z.charAt($+1))&&E(W),W.endChar=$+1,W;else return K==="broken_rhythm"?(W.endChar=$,W):null;break;case" ":case"	":if(X(K)){W.end_beam=!0;do z.charAt($)==="-"&&(W.startTie={}),$++;while($<z.length&&(e.isWhiteSpace(z.charAt($))||z.charAt($)==="-"));if(W.endChar=$,!Y&&oe&&(z.charAt($)==="<"||z.charAt($)===">"))$--,K="broken_rhythm";else return W}else return null;break;case">":case"<":if(X(K))if(oe){var ue=_(z,$);$+=ue[0]-1,i.next_note_duration=ue[2],W.duration=ue[1]*W.duration,K="end_slur"}else return W.endChar=$,W;else return null;break;default:return X(K)?(W.endChar=$,W):null}if($++,$===z.length)return X(K)?(W.endChar=$,W):null}return null};function B(){var z={startChar:-1,endChar:-1};i.partForNextLine.title&&(z.part=i.partForNextLine),z.clef=i.currentVoice&&i.staves[i.currentVoice.staffNum].clef!==void 0?gr.clone(i.staves[i.currentVoice.staffNum].clef):gr.clone(i.clef);var $=i.currentVoice?i.currentVoice.scoreTranspose:0;if(z.key=Q$.standardKey(i.key.root+i.key.acc+i.key.mode,i.key.root,i.key.acc,$),z.key.mode=i.key.mode,i.key.impliedNaturals&&(z.key.impliedNaturals=i.key.impliedNaturals),i.key.explicitAccidentals)for(var W=0;W<i.key.explicitAccidentals.length;W++){for(var oe=!1,X=0;X<z.key.accidentals.length;X++)z.key.accidentals[X].note===i.key.explicitAccidentals[W].note&&(z.key.accidentals[X].acc=i.key.explicitAccidentals[W].acc,oe=!0);oe||z.key.accidentals.push(i.key.explicitAccidentals[W])}if(i.targetKey=z.key,z.key.explicitAccidentals&&delete z.key.explicitAccidentals,Q$.addPosToKey(z.clef,z.key),i.meter!==null?(i.currentVoice?(gr.each(i.staves,function(le){le.meter=i.meter}),z.meter=i.staves[i.currentVoice.staffNum].meter,i.staves[i.currentVoice.staffNum].meter=null):z.meter=i.meter,i.meter=null):i.currentVoice&&i.staves[i.currentVoice.staffNum].meter&&(z.meter=i.staves[i.currentVoice.staffNum].meter,i.staves[i.currentVoice.staffNum].meter=null),i.currentVoice&&i.currentVoice.name&&(z.name=i.currentVoice.name),i.vocalfont&&(z.vocalfont=i.vocalfont),i.tripletfont&&(z.tripletfont=i.tripletfont),i.style&&(z.style=i.style),i.currentVoice){var K=i.staves[i.currentVoice.staffNum];K.brace&&(z.brace=K.brace),K.bracket&&(z.bracket=K.bracket),K.connectBarLines&&(z.connectBarLines=K.connectBarLines),K.name&&(z.name=K.name[i.currentVoice.index]),K.subname&&(z.subname=K.subname[i.currentVoice.index]),i.currentVoice.stem&&(z.stem=i.currentVoice.stem),i.currentVoice.stafflines&&(z.stafflines=i.currentVoice.stafflines),i.currentVoice.staffscale&&(z.staffscale=i.currentVoice.staffscale),i.currentVoice.scale&&(z.scale=i.currentVoice.scale),i.currentVoice.style&&(z.style=i.currentVoice.style),i.currentVoice.transpose&&(z.clef.transpose=i.currentVoice.transpose)}var Y=i.currentVoice===void 0||i.currentVoice.staffNum===0&&i.currentVoice.index===0;i.barNumbers===0&&Y&&i.currBarNumber!==1&&(z.barNumber=i.currBarNumber),t.startNewLine(z),i.key.impliedNaturals&&delete i.key.impliedNaturals,i.partForNextLine={}}var D=function(z,$){if(z.charAt($)==="{"){var W=e.getBrackettedSubstring(z,$,1,"}");W[2]||l("Missing the closing '}' while parsing grace note",z,$),z[$+W[0]]===")"&&(W[0]++,W[1]+=")");for(var oe=[],X=0,K=!1;X<W[1].length;){var Y=!1;W[1].charAt(X)==="/"&&(Y=!0,X++);var le=F(W[1],X,{},!1);le!==null?(le.duration=le.duration/(i.default_length*8),Y&&(le.acciaccatura=!0),oe.push(le),K&&(le.endTie=!0,K=!1),le.startTie&&(K=!0),X=le.endChar,delete le.endChar):(W[1].charAt(X)===" "?oe.length>0&&(oe[oe.length-1].end_beam=!0):l("Unknown character '"+W[1].charAt(X)+"' while parsing grace note",z,$),X++)}if(oe.length)return[W[0],oe]}return[0]};function A(z,$){if(z.charAt($)==="&"){for(var W=$;z.charAt($)&&z.charAt($)!==":"&&z.charAt($)!=="|";)$++;return[$-W,z.substring(W+1,$)]}return[0]}function N(z){var $=z.origMeter;return!$||$.type!=="specified"||!$.value||$.value.length===0?1:parseInt($.value[0].num,10)/parseInt($.value[0].den,10)}var L="ABCDEFGabcdefgxyzZ[]|^_{",H=function(z){c.resolveTempo(),i.is_in_header=!1;for(var $=0,W=i.iChar;e.isWhiteSpace(z.charAt($))&&$<z.length;)$++;if(!($===z.length||z.charAt($)==="%")){var oe=i.start_new_line;i.continueall===void 0?i.start_new_line=!0:i.start_new_line=!1;var X=0,K=c.letter_to_body_header(z,$);K[0]>0&&($+=K[0],K[1]==="V"&&(oe=!0));for(var Y={},le=0;$<z.length;){var ie=$;if(z.charAt($)==="%")break;var re=c.letter_to_inline_header(z,$);if(re[0]>0)$+=re[0],re[1]==="V"&&(oe=!0);else{oe&&(B(),oe=!1);for(var se;;)if(se=e.eatWhiteSpace(z,$),se>0&&($+=se),$>0&&z.charAt($-1)===""&&(se=c.letter_to_body_header(z,$),se[0]>0&&(se[1]==="V"&&B(),$=se[0],i.start_new_line=!1)),se=S(z,$),se[0]>0&&($+=se[0]),se=u(z,$),se[0]>0){Y.chord||(Y.chord=[]);var ue=e.translateString(se[1]);ue=ue.replace(/;/g,`
`);for(var we=!1,Pe=0;Pe<Y.chord.length;Pe++)Y.chord[Pe].position===se[2]&&(we=!0,Y.chord[Pe].name+=`
`+ue);we===!1&&(se[2]===null&&se[3]?Y.chord.push({name:ue,rel_position:se[3]}):Y.chord.push({name:ue,position:se[2]})),$+=se[0];var te=e.skipWhiteSpace(z.substring($));te>0&&(Y.force_end_beam_last=!0),$+=te}else if(L.indexOf(z.charAt($))===-1?se=y(z,$):se=[0],se[0]>0)se[1]===null?$+1<z.length&&B():se[1].length>0&&(se[1].indexOf("style=")===0?Y.style=se[1].substr(6):(Y.decoration===void 0&&(Y.decoration=[]),Y.decoration.push(se[1]))),$+=se[0];else if(se=D(z,$),se[0]>0)Y.gracenotes=se[1],$+=se[0];else break;if(se=w(z,$),se[0]>0){le=0,Y.gracenotes!==void 0&&(Y.rest={type:"spacer"},Y.duration=.125,i.addFormattingOptions(Y,t.formatting,"note"),t.appendElement("note",W+$,W+$+se[0],Y),i.measureNotEmpty=!0,Y={});var pe={type:se[1]};if(pe.type.length===0)l("Unknown bar type",z,$);else{if(i.inEnding&&pe.type!=="bar_thin"&&(pe.endEnding=!0,i.inEnding=!1),se[2]&&(pe.startEnding=se[2],i.inEnding&&(pe.endEnding=!0),i.inEnding=!0),Y.decoration!==void 0&&(pe.decoration=Y.decoration),Y.chord!==void 0&&(pe.chord=Y.chord),pe.startEnding&&i.barFirstEndingNum===void 0?i.barFirstEndingNum=i.currBarNumber:pe.startEnding&&pe.endEnding&&i.barFirstEndingNum?i.currBarNumber=i.barFirstEndingNum:pe.endEnding&&(i.barFirstEndingNum=void 0),pe.type!=="bar_invisible"&&i.measureNotEmpty){var ge=i.currentVoice===void 0||i.currentVoice.staffNum===0&&i.currentVoice.index===0;ge&&(i.currBarNumber++,i.barNumbers&&i.currBarNumber%i.barNumbers===0&&(pe.barNumber=i.currBarNumber))}i.addFormattingOptions(Y,t.formatting,"bar"),t.appendElement("bar",W+$,W+$+se[0],pe),i.measureNotEmpty=!1,Y={}}$+=se[0],i.currentVoice&&i.currentVoice.staffNum+""+i.currentVoice.index}else if(z[$]==="&")se=A(z,$),se[0]>0&&(t.appendElement("overlay",W,W+1,{}),$+=1,le++);else{if(se=k(z,$),se.consumed>0&&(se.startSlur!==void 0&&(Y.startSlur=se.startSlur),se.triplet!==void 0&&(X>0?l("Can't nest triplets",z,$):(Y.startTriplet=se.triplet,Y.tripletMultiplier=se.tripletQ/se.triplet,X=se.num_notes===void 0?se.triplet:se.num_notes)),$+=se.consumed),z.charAt($)==="["){var Te=$;$++;for(var Re=null,Ie=!1,he=!1;!he;){var Se=y(z,$);Se[0]>0&&($+=Se[0]);var Ce=F(z,$,{},!1);if(Ce!==null)Se[0]>0&&Se[1].indexOf("style=")!==0&&(Y.decoration===void 0&&(Y.decoration=[]),Y.decoration.push(Se[1])),Ce.end_beam&&(Y.end_beam=!0,delete Ce.end_beam),Y.pitches===void 0?(Y.duration=Ce.duration,Y.pitches=[Ce]):Y.pitches.push(Ce),delete Ce.duration,Se[0]>0&&Se[1].indexOf("style=")===0&&(Y.pitches[Y.pitches.length-1].style=Se[1].substr(6)),i.inTieChord[Y.pitches.length]&&(Ce.endTie=!0,i.inTieChord[Y.pitches.length]=void 0),Ce.startTie&&(i.inTieChord[Y.pitches.length]=!0),$=Ce.endChar,delete Ce.endChar;else if(z.charAt($)===" ")l("Spaces are not allowed in chords",z,$),$++;else{if($<z.length&&z.charAt($)==="]"){$++,i.next_note_duration!==0&&(Y.duration=Y.duration*i.next_note_duration,i.next_note_duration=0),O(i,le,Y)&&(gr.each(Y.pitches,function(We){We.endTie=!0}),G(i,le,!1)),X>0&&(X--,X===0&&(Y.endTriplet=!0));for(var $e=!1;$<z.length&&!$e;){switch(z.charAt($)){case" ":case"	":E(Y);break;case")":Y.endSlur===void 0?Y.endSlur=1:Y.endSlur++;break;case"-":gr.each(Y.pitches,function(We){We.startTie={}}),G(i,le,!0);break;case">":case"<":var ke=_(z,$);$+=ke[0]-1,i.next_note_duration=ke[2],Re?Re=Re*ke[1]:Re=ke[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var me=e.getFraction(z,$);Re=me.value,$=me.index,z.charAt($)===" "&&(Ie=!0),z.charAt($)==="-"||z.charAt($)===")"||z.charAt($)===" "||z.charAt($)==="<"||z.charAt($)===">"?$--:$e=!0;break;default:$e=!0;break}$e||$++}}else l("Expected ']' to end the chords",z,$);Y.pitches!==void 0&&(Re!==null&&(Y.duration=Y.duration*Re,Ie&&E(Y)),i.addFormattingOptions(Y,t.formatting,"note"),t.appendElement("note",W+Te,W+$,Y),i.measureNotEmpty=!0,Y={}),he=!0}}}else{var ye={},Ee=F(z,$,ye,!0);ye.endTie!==void 0&&G(i,le,!0),Ee!==null&&(Ee.pitch!==void 0?(Y.pitches=[{}],Ee.accidental!==void 0&&(Y.pitches[0].accidental=Ee.accidental),Y.pitches[0].pitch=Ee.pitch,Ee.midipitch&&(Y.pitches[0].midipitch=Ee.midipitch),Ee.endSlur!==void 0&&(Y.pitches[0].endSlur=Ee.endSlur),Ee.endTie!==void 0&&(Y.pitches[0].endTie=Ee.endTie),Ee.startSlur!==void 0&&(Y.pitches[0].startSlur=Ee.startSlur),Y.startSlur!==void 0&&(Y.pitches[0].startSlur=Y.startSlur),Ee.startTie!==void 0&&(Y.pitches[0].startTie=Ee.startTie),Y.startTie!==void 0&&(Y.pitches[0].startTie=Y.startTie)):(Y.rest=Ee.rest,Ee.endSlur!==void 0&&(Y.endSlur=Ee.endSlur),Ee.endTie!==void 0&&(Y.rest.endTie=Ee.endTie),Ee.startSlur!==void 0&&(Y.startSlur=Ee.startSlur),Ee.startTie!==void 0&&(Y.rest.startTie=Ee.startTie),Y.startTie!==void 0&&(Y.rest.startTie=Y.startTie)),Ee.chord!==void 0&&(Y.chord=Ee.chord),Ee.duration!==void 0&&(Y.duration=Ee.duration),Ee.decoration!==void 0&&(Y.decoration=Ee.decoration),Ee.graceNotes!==void 0&&(Y.graceNotes=Ee.graceNotes),delete Y.startSlur,O(i,le,Y)&&(Y.pitches!==void 0?Y.pitches[0].endTie=!0:Y.rest.type!=="spacer"&&(Y.rest.endTie=!0),G(i,le,!1)),(Ee.startTie||Y.startTie)&&G(i,le,!0),$=Ee.endChar,X>0&&(X--,X===0&&(Y.endTriplet=!0)),Ee.end_beam&&E(Y),Y.rest&&Y.rest.type==="rest"&&Y.duration===1&&N(i)<=1&&(Y.rest.type="whole",Y.duration=N(i)),i.addFormattingOptions(Y,t.formatting,"note"),t.appendElement("note",W+ie,W+$,Y),i.measureNotEmpty=!0,Y={})}$===ie&&(z.charAt($)!==" "&&z.charAt($)!=="`"&&l("Unknown character ignored",z,$),$++)}}}}},O=function(z,$,W){if(z.inTie[$]===void 0)return!1;var oe=z.currentVoice?z.currentVoice.index:0;return!!(z.inTie[$][oe]&&(W.pitches!==void 0||W.rest.type!=="spacer"))},G=function(z,$,W){var oe=z.currentVoice?z.currentVoice.index:0;z.inTie[$]===void 0&&(z.inTie[$]=[]),z.inTie[$][oe]=W},j=function(z){var $=c.parseHeader(z);$.regular&&H($.str),$.newline&&B(),$.words&&P(t.getCurrentVoice(),z.substring(2)),$.symbols&&T(t.getCurrentVoice(),z.substring(2)),$.recurse&&j($.str)};function J(z,$){z.push({el_type:"hint"});for(var W=0;W<$.length;W++){var oe=$[W],X=gr.clone(oe);if(z.push(X),oe.el_type==="bar")return}}function Z(z,$){for(var W=0;W<z.length;W++){var oe=z[W],X=$[W];if(X)for(var K=0;K<X.voices.length;K++){var Y=X.voices[K],le=oe.voices[K];le&&J(le,Y)}}}function ae(){for(var z=0;z<t.lines.length;z++){var $=t.lines[z].staff;if($){for(var W=z+1;W<t.lines.length&&t.lines[W].staff===void 0;)W++;if(W<t.lines.length){var oe=t.lines[W].staff;Z($,oe)}}}}this.parse=function(z,$,W){if($||($={}),W||(W=0),t.reset(),$.print&&(t.media="print"),i.reset(),i.iChar=W,$.visualTranspose?(i.globalTranspose=parseInt($.visualTranspose),i.globalTranspose===0&&(i.globalTranspose=void 0)):i.globalTranspose=void 0,$.lineBreaks){i.lineBreaks={};for(var oe=0;oe<$.lineBreaks.length;oe++)i.lineBreaks[""+($.lineBreaks[oe]+1)]=!0}c.reset(e,l,i,t),z=gr.gsub(z,`\r
`,`
`),z=gr.gsub(z,"\r",`
`),z+=`
`,z=z.replace(/\n\\.*\n/g,`
`);var X=function(re,se,ue){var we="                                                                                                                                                                                                     ",Pe=ue?we.substring(0,ue.length):"";return se+" "+Pe};z=z.replace(/\\([ \t]*)(%.*)*\n/g,X);var K=z.split(`
`);gr.last(K).length===0&&K.pop();try{$.format&&LXe.globalFormatting($.format),gr.each(K,function(re){if($.header_only&&i.is_in_header===!1||$.stop_on_warning&&i.warnings)throw"normal_abort";i.is_in_history?re.charAt(1)===":"?(i.is_in_history=!1,j(re)):t.addMetaText("history",e.translateString(e.stripComment(re))):i.inTextBlock?gr.startsWith(re,"%%endtext")?(t.addText(i.textBlock),i.inTextBlock=!1):gr.startsWith(re,"%%")?i.textBlock+=" "+re.substring(2):i.textBlock+=" "+re:i.inPsBlock?gr.startsWith(re,"%%endps")?i.inPsBlock=!1:i.textBlock+=" "+re:j(re),i.iChar+=re.length+1});var Y=11*72,le=8.5*72;switch(i.papersize){case"legal":Y=14*72,le=8.5*72;break;case"A4":Y=11.7*72,le=8.3*72;break}if(i.landscape){var ie=Y;Y=le,le=ie}i.openSlurs=t.cleanUp(le,Y,i.barsperstaff,i.staffnonote,i.openSlurs)}catch(re){if(re!=="normal_abort")throw re}$.hint_measures&&ae(),OXe.wrapLines(t,i.lineBreaks)}},l6=HXe,$0=ec,VXe=l6,ju={};(function(){ju.numberOfTunes=function(e){var n=e.split(`
X:`),r=n.length;return r===0&&(r=1),r};var t=ju.TuneBook=function(e){var n=this,r="";e=$0.strip(e);for(var i=e.split(`
X:`),s=1;s<i.length;s++)i[s]="X:"+i[s];var o=0;if(n.tunes=[],$0.each(i,function(c){n.tunes.push({abc:c,startPos:o}),o+=c.length+1}),n.tunes.length>1&&!$0.startsWith(n.tunes[0].abc,"X:")){var a=n.tunes.shift(),l=a.abc.split(`
`);$0.each(l,function(c){$0.startsWith(c,"%%")&&(r+=c+`
`)})}n.header=r,$0.each(n.tunes,function(c){var u=c.abc.indexOf(`

`);u>0&&(c.abc=c.abc.substring(0,u)),c.pure=c.abc,c.abc=r+c.abc;var d=c.pure.split("T:");d.length>1?(d=d[1].split(`
`),c.title=d[0].replace(/^\s+|\s+$/g,"")):c.title="";var h=c.pure.substring(2,c.pure.indexOf(`
`));c.id=h.replace(/^\s+|\s+$/g,"")})};t.prototype.getTuneById=function(e){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].id===""+e)return this.tunes[n];return null},t.prototype.getTuneByTitle=function(e){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].title===e)return this.tunes[n];return null},ju.parseOnly=function(e,n){for(var r=ju.numberOfTunes(e),i=[],s=0;s<r;s++)i.push(1);function o(){}return ju.renderEngine(o,i,e,n)},ju.renderEngine=function(e,n,r,i){var s=[],o=function(p){return p&&!p.propertyIsEnumerable("length")&&typeof p=="object"&&typeof p.length=="number"};if(!(n===void 0||r===void 0)){o(n)||(n=[n]),i===void 0&&(i={});for(var a=i.startingTune?parseInt(i.startingTune,10):0,l=new t(r),c=new VXe,u=0;u<n.length;u++){var d=n[u];if(d==="*"||typeof d=="string"&&(d=document.getElementById(d)),d)if(a>=0&&a<l.tunes.length){c.parse(l.tunes[a].abc,i,l.tunes[a].startPos-l.header.length);var h=c.getTune(),f=e(d,h,u,l.tunes[a].abc);s.push(f||h)}else d.hasOwnProperty("innerHTML")&&(d.innerHTML="");a++}return s}},ju.extractMeasures=function(e){for(var n=[],r=new t(e),i=0;i<r.tunes.length;i++){for(var s=r.tunes[i],o=s.abc.split("K:"),a=o[1].split(`
`),l=o[0]+"K:"+a[0]+`
`,c=null,u=null,d=null,h=[],f=!1,p=ju.parseOnly(s.abc)[0],m=p.getPickupLength()>0,y=0;y<p.lines.length;y++){var S=p.lines[y];if(S.staff)for(var w=0;w<1;w++)for(var v=S.staff[w],k=0;k<1;k++)for(var P=v.voices[k],T=0;T<P.length;T++){var _=P[T];if(d===null&&_.startChar>=0&&(d=_.startChar,_.chord===void 0?u=c:u=null),_.chord&&(c=_),_.el_type==="bar"){if(f){var E=s.abc.substring(d,_.endChar),I={abc:E};c=u&&u.chord&&u.chord.length>0?u.chord[0].name:null,c&&(I.lastChord=c),_.startEnding&&(I.startEnding=_.startEnding),_.endEnding&&(I.endEnding=_.endEnding),h.push(I),d=null,f=!1}}else _.el_type==="note"&&(f=!0)}}n.push({header:l,measures:h,hasPickup:m})}return n}})();var c6=ju,zXe=gf,Ws=function(e,n,r,i,s,o){o||(o={}),this.tuneNumber=s,this.abcelem=e,this.duration=n,this.durationClass=o.durationClassOveride?o.durationClassOveride:this.duration,this.minspacing=r||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=i,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Ws.prototype.setUpperAndLowerElements=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];for(var r in this.specialY)this.specialY.hasOwnProperty(r)&&n[r]&&(n.pitch=t[r],n.top===void 0&&(n.setUpperAndLowerElements(t),this.pushTop(n.top),this.pushBottom(n.bottom)))}};Ws.prototype.getMinWidth=function(){return this.w};Ws.prototype.getExtraWidth=function(){return-this.extraw};Ws.prototype.addExtra=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.extra[this.extra.length]=t,this.addChild(t)};Ws.prototype.addHead=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.heads[this.heads.length]=t,this.addRight(t)};Ws.prototype.addRight=function(t){t.dx+t.w>this.w&&(this.w=t.dx+t.w),this.right[this.right.length]=t,this.addChild(t)};Ws.prototype.addCentered=function(t){var e=t.w/2;-e<this.extraw&&(this.extraw=-e),this.extra[this.extra.length]=t,t.dx+e>this.w&&(this.w=t.dx+e),this.right[this.right.length]=t,this.addChild(t)};Ws.prototype.setLimit=function(t,e){e[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],e[t]):this.specialY[t]=e[t])};Ws.prototype.addChild=function(t){t.parent=this,this.children[this.children.length]=t,this.pushTop(t.top),this.pushBottom(t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};Ws.prototype.pushTop=function(t){t!==void 0&&(this.top===void 0?this.top=t:this.top=Math.max(t,this.top))};Ws.prototype.pushBottom=function(t){t!==void 0&&(this.bottom===void 0?this.bottom=t:this.bottom=Math.min(t,this.bottom))};Ws.prototype.setX=function(t){this.x=t;for(var e=0;e<this.children.length;e++)this.children[e].setX(t)};Ws.prototype.setHint=function(){this.hint=!0};Ws.prototype.draw=function(t,e){if(!this.invisible){this.elemset=[],t.beginGroup();for(var n=0;n<this.children.length;n++){var r=this.children[n].draw(t,e);r&&this.elemset.push(r)}var i=this.type;if((this.type==="note"||this.type==="rest")&&(i+=" d"+this.durationClass,i=i.replace(/\./g,"-"),this.abcelem.pitches))for(var s=0;s<this.abcelem.pitches.length;s++)i+=" p"+this.abcelem.pitches[s].pitch;var o=t.endGroup(i);o&&this.elemset.push(o),this.klass&&this.setClass("mark","","#00ff00"),this.hint&&this.setClass("abcjs-hint","",null);var a=0,l=t.printShadedBox(this.x,t.calcY(this.top),this.w,t.calcY(this.bottom)-t.calcY(this.top),"#000000",a),c=this,u=t.controller;l.addEventListener("mouseup",function(){var d=[];if(c.elemset)for(var h=0;h<c.elemset.length;h++){var f=c.elemset[h];f&&d.push(f.getAttribute("class"))}u.notifySelect(c,c.tuneNumber,d)}),this.abcelem.abselem=this,zXe.STEP}};Ws.prototype.isIE=!1;Ws.prototype.setClass=function(t,e,n){for(var r=0;r<this.elemset.length;r++){var i=this.elemset[r];i.setAttribute("fill",n);var s=i.getAttribute("class");s||(s=""),s=s.replace(e,""),s=s.replace(t,""),t.length>0&&(s.length>0&&s.charAt(s.length-1)!==" "&&(s+=" "),s+=t),i.setAttribute("class",s)}};Ws.prototype.highlight=function(t,e){t===void 0&&(t="abcjs-note_selected"),e===void 0&&(e="#ff0000"),this.setClass(t,"",e)};Ws.prototype.unhighlight=function(t,e){t===void 0&&(t="abcjs-note_selected"),e===void 0&&(e="#000000"),this.setClass("",t,e)};var sw=Ws,KT=function(e,n,r,i,s){switch(s=s||{},this.x=0,this.c=e,this.dx=n,this.w=r,this.pitch=i,this.scalex=s.scalex||1,this.scaley=s.scaley||1,this.type=s.type||"symbol",this.pitch2=s.pitch2,this.linewidth=s.linewidth,this.klass=s.klass,this.top=i,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=i,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),s.thickness&&(this.top+=s.thickness/2,this.bottom-=s.thickness/2),s.stemHeight&&(s.stemHeight>0?this.top+=s.stemHeight:this.bottom+=s.stemHeight),this.height=s.height?s.height:4,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":s.position&&s.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":s.position&&s.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?s.position&&s.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};KT.prototype.setX=function(t){this.x=t+this.dx};KT.prototype.setUpperAndLowerElements=function(t){switch(this.type){case"part":this.top=t.partHeightAbove+this.height,this.bottom=t.partHeightAbove;break;case"text":case"chord":this.chordHeightAbove?(this.top=t.chordHeightAbove,this.bottom=t.chordHeightAbove):(this.top=t.chordHeightBelow,this.bottom=t.chordHeightBelow);break;case"lyric":this.lyricHeightAbove?(this.top=t.lyricHeightAbove,this.bottom=t.lyricHeightAbove):(this.top=t.lyricHeightBelow,this.bottom=t.lyricHeightBelow);break;case"debug":this.top=t.chordHeightAbove,this.bottom=t.chordHeightAbove;break}(this.pitch===void 0||this.top===void 0)&&window.console.error("RelativeElement position not set.",this.type,this.pitch,this.top,t)};KT.prototype.draw=function(t,e){this.pitch===void 0&&window.console.error(this.type+" Relative Element y-coordinate not set.");var n=t.calcY(this.pitch);switch(this.type){case"symbol":if(this.c===null)return null;var r="symbol";this.klass&&(r+=" "+this.klass),this.graphelem=t.printSymbol(this.x,this.pitch,this.c,this.scalex,this.scaley,t.addClasses(r));break;case"debug":this.graphelem=t.renderText(this.x,t.calcY(15),""+this.c,"debugfont","debug-msg","start");break;case"barNumber":this.graphelem=t.renderText(this.x,n,""+this.c,"measurefont","bar-number","middle");break;case"lyric":this.graphelem=t.renderText(this.x,n,this.c,"vocalfont","lyric","middle");break;case"chord":this.graphelem=t.renderText(this.x,n,this.c,"gchordfont","chord","middle");break;case"decoration":this.graphelem=t.renderText(this.x,n,this.c,"annotationfont","annotation","middle",!0);break;case"text":this.graphelem=t.renderText(this.x,n,this.c,"annotationfont","annotation","start",this.centerVertically);break;case"multimeasure-text":this.graphelem=t.renderText(this.x+this.w/2,n,this.c,"tempofont","rest","middle",!1);break;case"part":this.graphelem=t.renderText(this.x,n,this.c,"partsfont","part","start");break;case"bar":this.graphelem=t.printStem(this.x,this.linewidth,n,e||t.calcY(this.pitch2));break;case"stem":this.graphelem=t.printStem(this.x,this.linewidth,n,t.calcY(this.pitch2));break;case"ledger":this.graphelem=t.printStaveLine(this.x,this.x+this.w,this.pitch);break}return this.scalex!==1&&this.graphelem&&t.scaleExistingElem(this.graphelem,this.scalex,this.scaley,this.x,n),this.graphelem};var e0=KT,WXe=e0,lM=gf,Z$=function(t){return t===void 0?0:Math.floor(Math.log(t)/Math.log(2))},uc;(function(){uc=function(h,f,p){this.isflat=p,this.isgrace=f&&f==="grace",this.forceup=this.isgrace||f&&f==="up",this.forcedown=f&&f==="down",this.elems=[],this.total=0,this.allrests=!0,this.stemHeight=h,this.beams=[]},uc.prototype.setHint=function(){this.hint=!0},uc.prototype.add=function(d){var h=d.abcelem.averagepitch;h!==void 0&&(this.allrests=this.allrests&&d.abcelem.rest,d.beam=this,this.elems.push(d),this.total+=h,(this.min===void 0||d.abcelem.minpitch<this.min)&&(this.min=d.abcelem.minpitch),(this.max===void 0||d.abcelem.maxpitch>this.max)&&(this.max=d.abcelem.maxpitch))};var t=6;uc.prototype.calcDir=function(){if(this.forceup)return!0;if(this.forcedown)return!1;var d=r(this.total,this.elems.length);return d<t},uc.prototype.layout=function(){if(!(this.elems.length===0||this.allrests)){this.stemsUp=this.calcDir();var d=s(this.stemsUp,this.isgrace),h=this.elems[0],f=this.elems[this.elems.length-1],p=0,m=this.stemsUp?h.abcelem.maxpitch:h.abcelem.minpitch;p=e(h,this.stemsUp,m,p),p=e(f,this.stemsUp,m,p),p=Math.max(this.stemHeight,p+3);var y=l(this.total,this.elems.length,p,this.stemsUp,h.abcelem.averagepitch,f.abcelem.averagepitch,this.isflat,this.min,this.max,this.isgrace),S=a(this.stemsUp,h,f);this.beams.push({startX:S[0],endX:S[1],startY:y[0],endY:y[1],dy:d});for(var w=u(this.elems,this.stemsUp,this.beams[0],this.isgrace,d),v=0;v<w.length;v++)this.beams.push(w[v]);c(this.elems,this.stemsUp,this.beams[0],d,this.mainNote)}},uc.prototype.isAbove=function(){return this.stemsUp},uc.prototype.heightAtMidpoint=function(d,h){if(this.beams.length===0)return 0;var f=this.beams[0],p=d+(h-d)/2;return i(f.startX,f.startY,f.endX,f.endY,p)},uc.prototype.yAtNote=function(d){var h=this.beams[0];return i(h.startX,h.startY,h.endX,h.endY,d.x)},uc.prototype.xAtMidpoint=function(d,h){return d+(h-d)/2},uc.prototype.draw=function(d){if(this.beams.length!==0){d.beginGroup();for(var h=0;h<this.beams.length;h++){var f=this.beams[h];o(d,f.startX,f.startY,f.endX,f.endY,f.dy,this.hint)}d.endGroup("beam-elem")}};function e(d,h,f,p){if(!d.children)return p;for(var m=0;m<d.children.length;m++){var y=d.children[m];h&&y.top!==void 0&&y.c==="flags.ugrace"?p=Math.max(p,y.top-f):!h&&y.bottom!==void 0&&y.c==="flags.ugrace"&&(p=Math.max(p,f-y.bottom+7))}return p}function n(d,h,f,p){if(p)return 0;var m=d-h,y=f/2;return m>y&&(m=y),m<-y&&(m=-y),m}function r(d,h){return h?d/h:0}function i(d,h,f,p,m){return h+(p-h)/(f-d)*(m-d)}function s(d,h){var f=d?lM.STEP:-lM.STEP;return h&&(f=f*.4),f}function o(d,h,f,p,m,y,S){var w="beam-elem";S&&(w+=" abcjs-hint"),f=d.calcY(f),m=d.calcY(m);var v="M"+h+" "+f+" L"+p+" "+m+"L"+p+" "+(m+y)+" L"+h+" "+(f+y)+"z";d.printPath({path:v,stroke:"none",fill:"#000000",class:d.addClasses(w)})}function a(d,h,f){var p=h.heads[d?0:h.heads.length-1],m=f.heads[d?0:f.heads.length-1],y=p.x;d&&(y+=p.w-.6);var S=m.x;return d&&(S+=m.w),[y,S]}function l(d,h,f,p,m,y,S,w,v,k){var P=r(d,h),T=f-2,_=f-2,E=Math.round(p?Math.max(P+T,v+_):Math.min(P-T,w-_)),I=n(m,y,h,S),R=E+Math.floor(I/2),F=E+Math.floor(-I/2);return k||(p&&E<6||!p&&E>6)&&(R=6,F=6),[R,F]}function c(d,h,f,p,m){for(var y=0;y<d.length;y++){var S=d[y];if(!S.abcelem.rest){var w=!S.addExtra,v=w?m:S,k=S.heads[h?0:S.heads.length-1],P=1/5,T=k.pitch+(h?P:-P),_=h?k.w:0,E=k.x+_,I=i(f.startX,f.startY,f.endX,f.endY,E),R=h?-.6:.6;h||(I-=p/2/lM.STEP),w&&(_+=S.heads[0].dx),k.c==="noteheads.slash.quarter"&&(h?T+=1:T-=1);var F=new WXe(null,_,0,T,{type:"stem",pitch2:I,linewidth:R});F.setX(v.x),v.addExtra(F)}}}function u(d,h,f,p,m){for(var y=[],S=[],w=0;w<d.length;w++){var v=d[w];if(!v.abcelem.rest){var k=v.heads[h?0:v.heads.length-1],P=k.x+(h?k.w:0),T=i(f.startX,f.startY,f.endX,f.endY,P),_=h?-1.5:1.5;p&&(_=_*2/3);var E=v.abcelem.duration;E===0&&(E=.25);for(var I=Z$(E);I<-3;I++)S[-4-I]?S[-4-I].single=!1:S[-4-I]={x:P+(h?-.6:0),y:T+_*(-4-I+1),durlog:I,single:!0};for(var R=S.length-1;R>=0;R--)if(w===d.length-1||Z$(d[w+1].abcelem.duration)>-R-4){var F=P,B=T+_*(R+1);S[R].single&&(F=w===0?P+5:P-5,B=i(f.startX,f.startY,f.endX,f.endY,F)+_*(R+1)),y.push({startX:S[R].x,endX:F,startY:S[R].y,endY:B,dy:m}),S=S.slice(0,R)}}}return y}})();var GXe=uc,Jm=function(){this.length=1};Jm.prototype.increaseStavesIncluded=function(){this.length++};Jm.prototype.setLocation=function(t){this.x=t};Jm.prototype.getWidth=function(){return 10};Jm.prototype.layout=function(t,e,n){this.startY=e,this.endY=n};Jm.prototype.draw=function(t,e,n){this.layout(t,e,n),t.drawBrace(this.x,this.startY,this.endY)};var UXe=Jm,jXe=gf,yl={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.33,-.03,4.89],["c",-.06,2.67,-.09,5.01,-.09,5.22],["l",0,.36],["l",.15,-.15],["c",.36,-.3,.75,-.51,1.2,-.63],["c",.33,-.09,.96,-.09,1.26,-.03],["c",.27,.09,.63,.27,.87,.45],["l",.21,.15],["l",0,-.27],["c",0,-.15,-.03,-2.43,-.09,-5.1],["c",-.09,-4.56,-.09,-4.86,-.03,-4.89],["c",.15,-.12,.39,-.15,.72,-.15],["c",.3,0,.54,.03,.69,.15],["c",.06,.03,.06,.33,-.03,4.95],["c",-.06,2.7,-.09,5.04,-.09,5.22],["l",.03,.3],["l",.21,-.15],["c",.69,-.48,1.44,-.69,2.28,-.69],["c",.51,0,.78,.03,1.2,.21],["c",1.32,.63,2.01,2.28,1.53,3.69],["c",-.21,.57,-.51,1.02,-1.05,1.56],["c",-.42,.42,-.81,.72,-1.92,1.5],["c",-1.26,.87,-1.5,1.08,-1.86,1.5],["c",-.39,.45,-.54,.54,-.81,.51],["c",-.18,0,-.21,0,-.33,-.06],["l",-.21,-.21],["l",-.06,-.12],["l",-.03,-.99],["c",-.03,-.54,-.03,-1.29,-.06,-1.68],["l",0,-.69],["l",-.21,.24],["c",-.36,.42,-.75,.75,-1.8,1.62],["c",-1.02,.84,-1.2,.99,-1.44,1.38],["c",-.36,.51,-.54,.6,-.9,.51],["c",-.15,-.03,-.39,-.27,-.42,-.42],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",2.52,10.98],["c",-.18,-.09,-.48,-.12,-.66,-.06],["c",-.39,.15,-.69,.54,-.84,1.14],["c",-.06,.24,-.06,.39,-.09,1.74],["c",-.03,1.44,0,2.73,.06,3.18],["l",.03,.15],["l",.27,-.27],["c",.93,-.96,1.5,-1.95,1.74,-3.06],["c",.06,-.27,.06,-.39,.06,-.96],["c",0,-.54,0,-.69,-.06,-.93],["c",-.09,-.51,-.27,-.81,-.51,-.93],["z"],["m",5.43,0],["c",-.18,-.09,-.51,-.12,-.72,-.06],["c",-.54,.12,-.96,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.9],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.36,-.3],["c",.42,-.36,1.02,-.96,1.29,-1.29],["c",.36,-.45,.66,-.99,.81,-1.41],["c",.42,-1.23,.15,-2.76,-.6,-3.12],["z"]],w:11.613,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:9.99,h:14.97},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};yl["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};yl["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};yl["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};var eH=function(t){for(var e=[],n=0,r=t.length;n<r;n++){e[n]=[];for(var i=0,s=t[n].length;i<s;i++)e[n][i]=t[n][i]}return e},YXe=function(t,e,n){for(var r=0,i=t.length;r<i;r++){var s=t[r],o,a;for(o=1,a=s.length;o<a;o++)s[o]*=o%2?e:n}},XXe={printSymbol:function(t,e,n,r,i){if(!yl[n])return null;var s=eH(yl[n].d);s[0][1]+=t,s[0][2]+=e;for(var o="",a=0;a<s.length;a++)o+=s[a].join(" ");return r.path({path:o,stroke:"none",fill:"#000000",class:i})},getPathForSymbol:function(t,e,n,r,i){if(r=r||1,i=i||1,!yl[n])return null;var s=eH(yl[n].d);return(r!==1||i!==1)&&YXe(s,r,i),s[0][1]+=t,s[0][2]+=e,s},getSymbolWidth:function(t){return yl[t]?yl[t].w:0},symbolHeightInPitches:function(t){var e=yl[t]?yl[t].h:0;return e/jXe.STEP},getSymbolAlign:function(t){return t.substring(0,7)==="scripts"&&t!=="scripts.roll"?"center":"left"},getYCorr:function(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(t,e){yl[t]=e}},t0=XXe,qXe=sw,iS=t0,cM=e0,sQ;(function(){sQ=function(t,e){var n,r=0,i=new qXe(t,0,10,"staff-extra",e);switch(i.isClef=!0,t.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",r=1;break;case"tenor+8":n="clefs.C",r=1;break;case"bass+8":n="clefs.F",r=1;break;case"alto+8":n="clefs.C",r=1;break;case"treble-8":n="clefs.G",r=-1;break;case"tenor-8":n="clefs.C",r=-1;break;case"bass-8":n="clefs.F",r=-1;break;case"alto-8":n="clefs.C",r=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:i.addChild(new cM("clef="+t.type,0,0,void 0,{type:"debug"}))}var s=5;if(n&&(i.addRight(new cM(n,s,iS.getSymbolWidth(n),t.clefPos)),n==="clefs.G"?(i.top=13,i.bottom=-1):(i.top=10,i.bottom=2),r!==0)){var o=.6666666666666666,a=(iS.getSymbolWidth(n)-iS.getSymbolWidth("8")*o)/2;i.addRight(new cM("8",s+a,iS.getSymbolWidth("8")*o,r>0?i.top+3:i.bottom-1,{scalex:o,scaley:o})),i.top+=2}return i}})();var KXe=sQ,QXe=sw,uM=t0,JXe=e0,ZXe=ec,oQ;(function(){oQ=function(t,e){if(!t.accidentals||t.accidentals.length===0)return null;var n=new QXe(t,0,10,"staff-extra",e);n.isKeySig=!0;var r=0;return ZXe.each(t.accidentals,function(i){var s;switch(i.acc){case"sharp":s="accidentals.sharp";break;case"natural":s="accidentals.nat";break;case"flat":s="accidentals.flat";break;case"quartersharp":s="accidentals.halfsharp";break;case"quarterflat":s="accidentals.halfflat";break;default:s="accidentals.flat"}n.addRight(new JXe(s,r,uM.getSymbolWidth(s),i.verticalPos,{thickness:uM.symbolHeightInPitches(s)})),r+=uM.getSymbolWidth(s)+2},this),n}})();var eqe=oQ,tqe=sw,rs=t0,Zc=e0,aQ;(function(){aQ=function(t,e){var n=new tqe(t,0,10,"staff-extra",e);if(t.type==="specified")for(var r=0,i=0;i<t.value.length;i++)if(i!==0&&(n.addRight(new Zc("+",r+1,rs.getSymbolWidth("+"),6,{thickness:rs.symbolHeightInPitches("+")})),r+=rs.getSymbolWidth("+")+2),t.value[i].den){for(var s=0,o=0;o<t.value[i].num.length;o++)s+=rs.getSymbolWidth(t.value[i].num.charAt(o));var a=0;for(o=0;o<t.value[i].num.length;o++)a+=rs.getSymbolWidth(t.value[i].den.charAt(o));var l=Math.max(s,a);n.addRight(new Zc(t.value[i].num,r+(l-s)/2,s,8,{thickness:rs.symbolHeightInPitches(t.value[i].num.charAt(0))})),n.addRight(new Zc(t.value[i].den,r+(l-a)/2,a,4,{thickness:rs.symbolHeightInPitches(t.value[i].den.charAt(0))})),r+=l}else{for(var c=0,u=0;u<t.value[i].num.length;u++)c+=rs.getSymbolWidth(t.value[i].num.charAt(u));n.addRight(new Zc(t.value[i].num,r,c,6,{thickness:rs.symbolHeightInPitches(t.value[i].num.charAt(0))})),r+=c}else t.type==="common_time"?n.addRight(new Zc("timesig.common",0,rs.getSymbolWidth("timesig.common"),6,{thickness:rs.symbolHeightInPitches("timesig.common")})):t.type==="cut_time"?n.addRight(new Zc("timesig.cut",0,rs.getSymbolWidth("timesig.cut"),6,{thickness:rs.symbolHeightInPitches("timesig.cut")})):t.type==="tempus_imperfectum"?n.addRight(new Zc("timesig.imperfectum",0,rs.getSymbolWidth("timesig.imperfectum"),6,{thickness:rs.symbolHeightInPitches("timesig.imperfectum")})):t.type==="tempus_imperfectum_prolatio"?n.addRight(new Zc("timesig.imperfectum2",0,rs.getSymbolWidth("timesig.imperfectum2"),6,{thickness:rs.symbolHeightInPitches("timesig.imperfectum2")})):t.type==="tempus_perfectum"?n.addRight(new Zc("timesig.perfectum",0,rs.getSymbolWidth("timesig.perfectum"),6,{thickness:rs.symbolHeightInPitches("timesig.perfectum")})):t.type==="tempus_perfectum_prolatio"?n.addRight(new Zc("timesig.perfectum2",0,rs.getSymbolWidth("timesig.perfectum2"),6,{thickness:rs.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",t);return n}})();var nqe=aQ,u6=function(e,n,r){this.anchor=e,this.dec=n,r==="below"?this.volumeHeightBelow=5:this.volumeHeightAbove=5,this.pitch=void 0};u6.prototype.setUpperAndLowerElements=function(t){this.volumeHeightAbove?this.pitch=t.volumeHeightAbove:this.pitch=t.volumeHeightBelow};u6.prototype.draw=function(t,e,n){this.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var r=1,i=1;t.printSymbol(this.anchor.x,this.pitch,this.dec,r,i,t.addClasses("decoration"))};var rqe=u6,iqe=function(){for(var t=0,e,n=arguments[t++],r=[],i,s,o,a;n;){if(i=/^[^\x25]+/.exec(n))r.push(i[0]);else if(i=/^\x25{2}/.exec(n))r.push("%");else if(i=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((e=arguments[i[1]||t++])==null||e==null)throw"Too few arguments.";if(/[^s]/.test(i[7])&&typeof e!="number")throw"Expecting number but found "+typeof e;switch(i[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e);break;case"e":e=i[6]?e.toExponential(i[6]):e.toExponential();break;case"f":e=i[6]?parseFloat(e).toFixed(i[6]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&i[6]?e.substring(0,i[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase();break}e=/[def]/.test(i[7])&&i[2]&&e>0?"+"+e:e,o=i[3]?i[3]=="0"?"0":i[3].charAt(1):" ",a=i[5]-String(e).length,s=i[5]?str_repeat(o,a):"",r.push(i[4]?e+s:s+e)}else throw"Huh ?!";n=n.substring(i[0].length)}return r.join("")},QT=iqe,sqe=QT,JT=function(e,n,r,i){this.anchor1=e,this.anchor2=n,this.dir=r,i==="above"?this.dynamicHeightAbove=4:this.dynamicHeightBelow=4,this.pitch=void 0};JT.prototype.setUpperAndLowerElements=function(t){this.dynamicHeightAbove?this.pitch=t.dynamicHeightAbove:this.pitch=t.dynamicHeightBelow};JT.prototype.draw=function(t){this.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var e=t.calcY(this.pitch)+4,n=8;this.dir==="<"?(this.drawLine(t,e+n/2,e),this.drawLine(t,e+n/2,e+n)):(this.drawLine(t,e,e+n/2),this.drawLine(t,e+n,e+n/2))};JT.prototype.drawLine=function(t,e,n){var r=this.anchor1?this.anchor1.x:0,i=this.anchor2?this.anchor2.x:800,s=sqe("M %f %f L %f %f",r,e,i,n);t.printPath({path:s,stroke:"#000000",class:t.addClasses("decoration")})};var oqe=JT,Zo=function(e){this.anchor1=e.anchor1,this.anchor2=e.anchor2,e.isGrace&&(this.isGrace=!0),e.fixedY&&(this.fixedY=!0),e.stemDir&&(this.stemDir=e.stemDir),e.voiceNumber!==void 0&&(this.voiceNumber=e.voiceNumber),this.internalNotes=[]};Zo.prototype.addInternalNote=function(t){this.internalNotes.push(t)};Zo.prototype.setEndAnchor=function(t){this.anchor2=t};Zo.prototype.setStartX=function(t){this.startLimitX=t};Zo.prototype.setEndX=function(t){this.endLimitX=t};Zo.prototype.setHint=function(){this.hint=!0};Zo.prototype.setUpperAndLowerElements=function(t){};Zo.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t;this.anchor1?t=this.anchor1.pitch:this.anchor2?t=this.anchor2.pitch:t=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=t>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=t>=6}};Zo.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var t=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(t=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(t=!0);for(var e=0;e<this.internalNotes.length;e++){var n=this.internalNotes[e];n.stemDir==="down"&&(t=!0)}this.above=t}};Zo.prototype.calcX=function(t,e){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.startX=t,this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=e};Zo.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};Zo.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var t=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,e=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!t&&e<this.startY?(this.endY=e,this.endX+=this.anchor2.w/2):this.endY=this.above&&t?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};Zo.prototype.avoidCollisionAbove=function(){if(this.above){for(var t=-50,e=0;e<this.internalNotes.length;e++)this.internalNotes[e].highestVert>t&&(t=this.internalNotes[e].highestVert);t>this.startY&&t>this.endY&&(this.startY=this.endY=t-1)}};Zo.prototype.layout=function(t,e){!this.anchor1||!this.anchor2?this.isTie=!0:this.anchor1.pitch===this.anchor2.pitch&&this.internalNotes.length===0?this.isTie=!0:this.isTie=!1,this.isTie?(this.calcTieDirection(),this.calcX(t,e),this.calcTieY()):(this.calcSlurDirection(),this.calcX(t,e),this.calcSlurY()),this.avoidCollisionAbove()};Zo.prototype.draw=function(t,e,n){this.layout(e,n);var r;this.hint&&(r="abcjs-hint");var i=this.fixedY?1.5:0;t.drawArc(this.startX,this.endX,this.startY+i,this.endY+i,this.above,r,this.isTie)};var lQ=Zo,aqe=rqe,tH=oqe,cc=t0,If=e0,lqe=lQ,jS;(function(){jS=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0};var t=function(s,o,a,l,c,u,d,h){for(var f,p=0;p<o.length;p++){if(o[p]==="staccato"||o[p]==="tenuto"||o[p]==="accent"){var m="scripts."+o[p];if(o[p]==="accent"&&(m="scripts.sforzato"),f===void 0?f=d==="down"?a+2:h-2:f=d==="down"?f+2:f-2,o[p]==="accent")d==="up"?f--:f++;else switch(f){case 2:case 4:case 6:case 8:case 10:d==="up"?f--:f++;break}a>9&&f++;var y=l/2;cc.getSymbolAlign(m)!=="center"&&(y-=cc.getSymbolWidth(m)/2),c.addChild(new If(m,y,cc.getSymbolWidth(m),f))}if(o[p]==="slide"&&c.heads[0]){var S=c.heads[0].pitch;S-=2;var w=new If("",-u-15,0,S-1),v=new If("",-u-5,0,S+1);c.addChild(w),c.addChild(v),s.addOther(new lqe({anchor1:w,anchor2:v,fixedY:!0}))}}return f===void 0&&(f=a),{above:f,below:c.bottom}},e=function(s,o,a,l){for(var c=0;c<o.length;c++)switch(o[c]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var u=new aqe(a,o[c],l);s.addOther(u)}},n=function(s,o,a,l,c){function u(){if(l.heads.length===0)return 10;for(var p=l.heads[0].pitch,m=1;m<l.heads.length;m++)p=Math.max(p,l.heads[m].pitch);return p}function d(){if(l.heads.length===0)return 2;for(var p=l.heads[0].pitch,m=1;m<l.heads.length;m++)p=Math.min(p,l.heads[m].pitch);return p}function h(p,m){var y=c==="down"?d()+1:u()+9;c!=="down"&&m===1&&y--;var S=a/2;S+=c==="down"?-5:3;for(var w=0;w<m;w++)y-=1,l.addChild(new If(p,S,cc.getSymbolWidth(p),y))}for(var f=0;f<s.length;f++)switch(s[f]){case"/":h("flags.ugrace",1);break;case"//":h("flags.ugrace",2);break;case"///":h("flags.ugrace",3);break;case"////":h("flags.ugrace",4);break}},r=function(s,o,a,l,c,u,d){function h(v,k){v==="above"?l.above+=k:l.below-=k}function f(v){var k;return v==="above"?(k=l.above,k<u&&(k=u)):(k=l.below,k>d&&(k=d)),k}function p(v,k){var P=f(k),T=2,_=5;a.addChild(new If(v,o/2,0,P+T,{type:"decoration",klass:"ornament",thickness:3})),h(k,_)}function m(v,k){var P=o/2;cc.getSymbolAlign(v)!=="center"&&(P-=cc.getSymbolWidth(v)/2);var T=cc.symbolHeightInPitches(v)+1,_=f(k);_=k==="above"?_+T/2:_-T/2,a.addChild(new If(v,P,cc.getSymbolWidth(v),_,{klass:"ornament",thickness:cc.symbolHeightInPitches(v)})),h(k,T)}for(var y={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},S=!1,w=0;w<s.length;w++)switch(s[w]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":p(s[w],c),S=!0;break;case"fine":p("FINE",c),S=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":m(y[s[w]],c),S=!0;break;case"invertedfermata":m(y[s[w]],"below"),S=!0;break;case"mark":a.klass="mark";break}return S};function i(s,o,a){for(var l=0;l<s.length;l++)switch(s[l]){case"arpeggio":for(var c=o.abcelem.minpitch-1;c<=o.abcelem.maxpitch;c+=2)o.addExtra(new If("scripts.arpeggio",-cc.getSymbolWidth("scripts.arpeggio")*2-a,0,c+2,{klass:"ornament",thickness:cc.symbolHeightInPitches("scripts.arpeggio")}));break}}jS.prototype.dynamicDecoration=function(s,o,a,l){for(var c,u,d=0;d<o.length;d++)switch(o[d]){case"diminuendo(":this.startDiminuendoX=a,c=void 0;break;case"diminuendo)":c={start:this.startDiminuendoX,stop:a},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=a,u=void 0;break;case"crescendo)":u={start:this.startCrescendoX,stop:a},this.startCrescendoX=void 0;break}c&&s.addOther(new tH(c.start,c.stop,">",l)),u&&s.addOther(new tH(u.start,u.stop,"<",l))},jS.prototype.createDecoration=function(s,o,a,l,c,u,d,h,f,p){f||(f={ornamentPosition:"above",volumePosition:p?"above":"below",dynamicPosition:p?"above":"below"}),e(s,o,c,f.volumePosition),this.dynamicDecoration(s,o,c,f.dynamicPosition),n(o,a,l,c,d);var m=t(s,o,a,l,c,u,d,h);m.above=Math.max(m.above,this.minTop),r(o,l,c,m,f.ornamentPosition,this.minTop,this.minBottom),i(o,c,u)}})();var cqe=jS,dM=QT,d6=function(e,n,r){this.text=e,this.anchor1=n,this.anchor2=r,this.endingHeightAbove=5,this.pitch=void 0};d6.prototype.setUpperAndLowerElements=function(t){this.pitch=t.endingHeightAbove-2};d6.prototype.draw=function(t,e,n){this.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var r=t.calcY(this.pitch),i=20,s;this.anchor1&&(e=this.anchor1.x+this.anchor1.w,s=dM("M %f %f L %f %f",e,r,e,r+i),t.printPath({path:s,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")}),t.renderText(e+5,t.calcY(this.pitch-.5),this.text,"repeatfont","ending","start")),this.anchor2&&(n=this.anchor2.x,s=dM("M %f %f L %f %f",n,r,n,r+i),t.printPath({path:s,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")})),s=dM("M %f %f L %f %f",e,r,n,r),t.printPath({path:s,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")})};var uqe=d6,z5=gf,Wd=function(){this.voices=[],this.staffs=[],this.brace=void 0};Wd.prototype.setLimit=function(t,e){e.specialY[t]&&(e.staff.specialY[t]?e.staff.specialY[t]=Math.max(e.staff.specialY[t],e.specialY[t]):e.staff.specialY[t]=e.specialY[t])};Wd.prototype.addVoice=function(t,e,n){var r=this.voices.length;this.voices[r]=t,this.staffs[e]?this.staffs[e].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},t.staff=this.staffs[e]};Wd.prototype.setStaffLimits=function(t){t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};Wd.prototype.setUpperAndLowerElements=function(t){for(var e,n=0;n<this.staffs.length;n++){var r=this.staffs[n],i={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};r.specialY.lyricHeightAbove&&(r.top+=r.specialY.lyricHeightAbove,i.lyricHeightAbove=r.top),r.specialY.chordHeightAbove&&(r.top+=r.specialY.chordHeightAbove,i.chordHeightAbove=r.top),r.specialY.endingHeightAbove&&(r.specialY.chordHeightAbove?r.top+=2:r.top+=r.specialY.endingHeightAbove,i.endingHeightAbove=r.top),r.specialY.dynamicHeightAbove&&r.specialY.volumeHeightAbove?(r.top+=Math.max(r.specialY.dynamicHeightAbove,r.specialY.volumeHeightAbove),i.dynamicHeightAbove=r.top,i.volumeHeightAbove=r.top):r.specialY.dynamicHeightAbove?(r.top+=r.specialY.dynamicHeightAbove,i.dynamicHeightAbove=r.top):r.specialY.volumeHeightAbove&&(r.top+=r.specialY.volumeHeightAbove,i.volumeHeightAbove=r.top),r.specialY.partHeightAbove&&(r.top+=r.specialY.partHeightAbove,i.partHeightAbove=r.top),r.specialY.tempoHeightAbove&&(r.top+=r.specialY.tempoHeightAbove,i.tempoHeightAbove=r.top),r.specialY.lyricHeightBelow&&(i.lyricHeightBelow=r.bottom,r.bottom-=r.specialY.lyricHeightBelow),r.specialY.chordHeightBelow&&(i.chordHeightBelow=r.bottom,r.bottom-=r.specialY.chordHeightBelow),r.specialY.volumeHeightBelow&&r.specialY.dynamicHeightBelow?(i.volumeHeightBelow=r.bottom,i.dynamicHeightBelow=r.bottom,r.bottom-=Math.max(r.specialY.volumeHeightBelow,r.specialY.dynamicHeightBelow)):r.specialY.volumeHeightBelow?(i.volumeHeightBelow=r.bottom,r.bottom-=r.specialY.volumeHeightBelow):r.specialY.dynamicHeightBelow&&(i.dynamicHeightBelow=r.bottom,r.bottom-=r.specialY.dynamicHeightBelow);for(var s=0;s<r.voices.length;s++){var o=this.voices[r.voices[s]];o.setUpperAndLowerElements(i)}if(e!==void 0){var a=r.top-10,l=e+a,c=t.spacing.systemStaffSeparation/z5.STEP,u=c-l;u>0&&(r.top+=u)}e=2-r.bottom}};Wd.prototype.finished=function(){for(var t=0;t<this.voices.length;t++)if(!this.voices[t].layoutEnded())return!1;return!0};function dqe(t,e,n){for(var r=t.padding.left,i=0,s=0;s<e.length;s++)if(e[s].header){var o=t.getTextSize(e[s].header,"voicefont","");i=Math.max(i,o.width)}if(i){var a=t.getTextSize("A","voicefont","");i+=a.width}return r+=i,n&&(n.setLocation(r),r+=n.getWidth()),r}Wd.prototype.layout=function(t,e,n){var r=1e-7,i=0,s=1e3,o=dqe(e,this.voices,this.brace);this.startx=o;var a,l=0;for(n&&console.log("init layout",t),a=0;a<this.voices.length;a++)this.voices[a].beginLayout(o);for(var c=0;!this.finished();){for(l=null,a=0;a<this.voices.length;a++)!this.voices[a].layoutEnded()&&(!l||this.voices[a].getDurationIndex()<l)&&(l=this.voices[a].getDurationIndex());var u=[],d=[];for(a=0;a<this.voices.length;a++){var h=this.voices[a].getDurationIndex();h-l>r?d.push(this.voices[a]):u.push(this.voices[a])}c=0;var f=0;for(a=0;a<u.length;a++)u[a].getNextX()>o&&(o=u[a].getNextX(),c=u[a].getSpacingUnits(),f=u[a].spacingduration);for(i+=c,s=Math.min(s,c),n&&console.log("currentduration: ",l,i,s),a=0;a<u.length;a++){var p=u[a].layoutOneItem(o,t),m=p-o;if(m>0){o=p;for(var y=0;y<a;y++)u[y].shiftRight(m)}}for(a=0;a<d.length;a++)d[a].spacingduration-=f,d[a].updateNextX(o,t);for(a=0;a<u.length;a++){var S=u[a];S.updateIndices()}}for(a=0;a<this.voices.length;a++)this.voices[a].getNextX()>o&&(o=this.voices[a].getNextX(),c=this.voices[a].getSpacingUnits());for(i+=c,this.w=o,a=0;a<this.voices.length;a++)this.voices[a].w=this.w;return{spacingUnits:i,minSpace:s}};Wd.prototype.calcHeight=function(){for(var t=0,e=0;e<this.voices.length;e++){var n=this.voices[e].staff;this.voices[e].duplicate||(t+=n.top,n.bottom<0&&(t+=-n.bottom))}return t};Wd.prototype.draw=function(t){t.addInvisibleMarker("abcjs-top-of-system");for(var e=t.y,n=0;n<this.staffs.length;n++){var r=this.staffs[n];t.moveY(z5.STEP,r.top),r.absoluteY=t.y,r.bottom<0&&t.moveY(z5.STEP,-r.bottom)}var i,s,o=0;t.measureNumber=null,t.noteNumber=null;for(var a=0;a<this.voices.length;a++){var l=this.voices[a].staff;t.y=l.absoluteY,t.voiceNumber=a,this.voices[a].duplicate||(i||(i=t.calcY(10)),s=t.calcY(2),l.lines!==0&&(t.measureNumber=null,t.noteNumber=null,t.printStave(this.startx,this.w,l.lines))),this.voices[a].draw(t,o),t.measureNumber=null,t.noteNumber=null,this.voices[a].duplicate||(o=t.calcY(2)),this.brace&&a===this.brace.length-1&&this.brace&&this.brace.draw(t,i,s)}t.measureNumber=null,t.noteNumber=null,this.staffs.length>1&&t.printStem(this.startx,.6,i,s),t.y=e};var hqe=Wd,fqe=sw,pqe=e0,eg;(function(){var t=5;eg=function(n,r,i){this.tempo=n,this.tuneNumber=r,this.tempoHeightAbove=t,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(i,n,r))},eg.prototype.setUpperAndLowerElements=function(e){if(this.pitch=e.tempoHeightAbove,this.top=e.tempoHeightAbove,this.bottom=e.tempoHeightAbove,this.note){var n=this.pitch-t+1;this.note.top=n,this.note.bottom=n;for(var r=0;r<this.note.children.length;r++){var i=this.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,i.pitch2!==void 0&&(i.pitch2+=n)}}},eg.prototype.setX=function(e){this.x=e},eg.prototype.createNote=function(e,n,r){var i=.75,s=n.duration[0],o=new fqe(n,s,1,"tempo",r),a,l,c;s<=1/32?(c="noteheads.quarter",l="flags.u32nd",a=0):s<=1/16?(c="noteheads.quarter",l="flags.u16th",a=0):s<=3/32?(c="noteheads.quarter",l="flags.u16nd",a=1):s<=1/8?(c="noteheads.quarter",l="flags.u8th",a=0):s<=3/16?(c="noteheads.quarter",l="flags.u8th",a=1):s<=1/4?(c="noteheads.quarter",a=0):s<=3/8?(c="noteheads.quarter",a=1):s<=1/2?(c="noteheads.half",a=0):s<=3/4?(c="noteheads.half",a=1):s<=1?(c="noteheads.whole",a=0):s<=1.5?(c="noteheads.whole",a=1):s<=2?(c="noteheads.dbl",a=0):(c="noteheads.dbl",a=1);var u=e(o,c,{verticalPos:0},"up",0,0,l,a,0,i,[],!1),d=u.notehead;o.addHead(d);var h;if(c!=="noteheads.whole"&&c!=="noteheads.dbl"){var f=.3333333333333333*i,p=7*i,m=d.dx+d.w,y=-.6;h=new pqe(null,m,0,f,{type:"stem",pitch2:p,linewidth:y}),o.addExtra(h)}return o},eg.prototype.draw=function(e){var n=this.x;this.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set.");var r=e.calcY(this.pitch),i;if(this.tempo.preString){i=e.renderText(n,r,this.tempo.preString,"tempofont","tempo","start");var s=e.getTextSize(this.tempo.preString,"tempofont","tempo",i),o=s.width,a=o/this.tempo.preString.length;n+=o+a}if(this.note){this.note&&this.note.setX(n);for(var l=0;l<this.note.children.length;l++)this.note.children[l].draw(e,n);n+=this.note.w+5;var c="= "+this.tempo.bpm;i=e.renderText(n,r,c,"tempofont","tempo","start"),s=e.getTextSize(c,"tempofont","tempo",i);var u=s.width,d=u/c.length;n+=u+d}this.tempo.postString&&e.renderText(n,r,this.tempo.postString,"tempofont","tempo","start")}})();var gqe=eg,mqe=QT,fh;(function(){fh=function(r,i,s){this.anchor1=i,this.number=r,this.duration=(""+i.parent.durationClass).replace(/\./,"-"),this.middleElems=[],this.flatBeams=s.flatBeams},fh.prototype.isClosed=function(){return this.anchor2},fh.prototype.middleNote=function(n){this.middleElems.push(n)},fh.prototype.setCloseAnchor=function(n){this.anchor2=n,this.anchor1.parent.beam&&(this.endingHeightAbove=4)},fh.prototype.setUpperAndLowerElements=function(){},fh.prototype.layout=function(){if(this.anchor1&&this.anchor2)if(this.hasBeam=this.anchor1.parent.beam&&this.anchor1.parent.beam===this.anchor2.parent.beam,this.hasBeam){var n=this.anchor1.parent.beam,r=n.isAbove()?this.anchor1.x+this.anchor1.w:this.anchor1.x;this.yTextPos=n.heightAtMidpoint(r,this.anchor2.x),this.yTextPos+=n.isAbove()?3:-2,this.top=this.yTextPos+1,this.bottom=this.yTextPos-2,n.isAbove()&&(this.endingHeightAbove=4)}else{this.startNote=Math.max(this.anchor1.parent.top,9)+4,this.endNote=Math.max(this.anchor2.parent.top,9)+4,this.anchor1.parent.type==="rest"&&this.anchor2.parent.type!=="rest"?this.startNote=this.endNote:this.anchor2.parent.type==="rest"&&this.anchor1.parent.type!=="rest"&&(this.endNote=this.startNote);for(var i=0,s=0;s<this.middleElems.length;s++)i=Math.max(i,this.middleElems[s].top);i+=4,(i>this.startNote||i>this.endNote)&&(this.startNote=i,this.endNote=i),this.flatBeams&&(this.startNote=Math.max(this.startNote,this.endNote),this.endNote=Math.max(this.startNote,this.endNote)),this.yTextPos=this.startNote+(this.endNote-this.startNote)/2,this.top=this.yTextPos+1}delete this.middleElems,delete this.flatBeams},fh.prototype.draw=function(n){var r;if(this.hasBeam){var i=this.anchor1.parent.beam.isAbove()?this.anchor1.x+this.anchor1.w:this.anchor1.x;r=this.anchor1.parent.beam.xAtMidpoint(i,this.anchor2.x)}else r=this.anchor1.x+(this.anchor2.x+this.anchor2.w-this.anchor1.x)/2,e(n,this.anchor1.x,this.startNote,this.anchor2.x+this.anchor2.w,this.endNote,this.duration);n.renderText(r,n.calcY(this.yTextPos),""+this.number,"tripletfont",n.addClasses("triplet d"+this.duration),"middle",!0)};function t(n,r,i,s,o,a){var l=mqe("M %f %f L %f %f",r,i,s,o);n.printPath({path:l,stroke:"#000000",class:n.addClasses("triplet d"+a)})}function e(n,r,i,s,o,a){i=n.calcY(i),o=n.calcY(o);var l=5;t(n,r,i,r,i+l,a),t(n,s,o,s,o+l,a);var c=r+(s-r)/2,u=8,d=(o-i)/(s-r),h=c-u,f=i+(h-r)*d;t(n,r,i,h,f,a);var p=c+u,m=i+(p-r)*d;t(n,p,m,s,o,a)}})();var yqe=fh,nH=ec,Ms=function(e,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=e,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Ms.prototype.addChild=function(t){if(t.type==="bar"){for(var e=!0,n=0;e&&n<this.children.length;n++)this.children[n].type!=="staff-extra"&&this.children[n].type!=="tempo"&&(e=!1);e||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=t,this.setRange(t)};Ms.prototype.setLimit=function(t,e){var n=e.specialY;n||(n=e),n[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],n[t]):this.specialY[t]=n[t])};Ms.prototype.moveDecorations=function(t){for(var e=1.5,n=0;n<t.elems.length;n++){var r=t.elems[n];if(r.top)for(var i=t.yAtNote(r),s=0;s<r.children.length;s++){var o=r.children[s];if(o.klass==="ornament"&&o.bottom-e<i){var a=i-o.bottom+e;o.bottom+=a,o.top+=a,o.pitch+=a,i=r.top=o.top}}}};Ms.prototype.adjustRange=function(t){t.bottom!==void 0&&(this.bottom=Math.min(this.bottom,t.bottom)),t.top!==void 0&&(this.top=Math.max(this.top,t.top))};Ms.prototype.setRange=function(t){this.adjustRange(t),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)};Ms.prototype.setUpperAndLowerElements=function(t){var e;for(e=0;e<this.children.length;e++){var n=this.children[e];n.setUpperAndLowerElements(t)}for(e=0;e<this.otherchildren.length;e++){var n=this.otherchildren[e];typeof n!="string"&&n.setUpperAndLowerElements(t)}};Ms.prototype.addOther=function(t){this.otherchildren.push(t),this.setRange(t)};Ms.prototype.addBeam=function(t){this.beams.push(t)};Ms.prototype.updateIndices=function(){this.layoutEnded()||(this.durationindex+=this.children[this.i].duration,this.children[this.i].type==="bar"&&(this.durationindex=Math.round(this.durationindex*64)/64),this.i++)};Ms.prototype.layoutEnded=function(){return this.i>=this.children.length};Ms.prototype.getDurationIndex=function(){return this.durationindex-(this.children[this.i]&&this.children[this.i].duration>0?0:5e-7)};Ms.prototype.getSpacingUnits=function(){return Math.sqrt(this.spacingduration*8)};Ms.prototype.getNextX=function(){return Math.max(this.minx,this.nextx)};Ms.prototype.beginLayout=function(t){this.i=0,this.durationindex=0,this.startx=t,this.minx=t,this.nextx=t,this.spacingduration=0};Ms.prototype.layoutOneItem=function(t,e){var n=this.children[this.i];if(!n)return 0;var r=t-this.minx,i=n.getExtraWidth();return r<i&&(this.i===0||n.type!=="bar"||this.children[this.i-1].type!=="part"&&this.children[this.i-1].type!=="tempo")&&(t+=i-r),n.setX(t),this.spacingduration=n.duration,this.minx=t+n.getMinWidth(),this.i!==this.children.length-1&&(this.minx+=n.minspacing),this.updateNextX(t,e),t};Ms.prototype.updateNextX=function(t,e){this.nextx=t+e*Math.sqrt(this.spacingduration*8)};Ms.prototype.shiftRight=function(t){var e=this.children[this.i];e&&(e.setX(e.x+t),this.minx+=t,this.nextx+=t)};function bqe(t){return t.type!=="rest"?!1:!!(t.abcelem&&t.abcelem.rest&&t.abcelem.rest.type!=="spacer")}Ms.prototype.draw=function(t,e){var n=this.w-1;if(t.staffbottom=this.staff.bottom,t.measureNumber=null,t.noteNumber=null,this.header){var r=14-(this.voicenumber+1)*(12/(this.voicetotal+1));t.renderText(t.padding.left,t.calcY(r),this.header,"voicefont","staff-extra voice-name","start")}for(var i=0,s=this.children.length;i<s;i++){var o=this.children[i],a=!1;o.type!=="staff-extra"&&t.measureNumber===null&&(t.measureNumber=0,t.noteNumber=0,a=!0),o.draw(t,this.barto||i===s-1?e:0),(o.type==="note"||bqe(o))&&t.noteNumber++,o.type==="bar"&&!a&&(t.measureNumber++,t.noteNumber=0)}t.measureNumber=0,t.noteNumber=0,nH.each(this.beams,function(c){c==="bar"?(t.measureNumber++,t.noteNumber=0):c.draw(t)}),t.measureNumber=0,t.noteNumber=0;var l=this;nH.each(this.otherchildren,function(c){c==="bar"?(t.measureNumber++,t.noteNumber=0):c.draw(t,l.startx+10,n)})};Ms.prototype.layoutBeams=function(){for(var t=0;t<this.beams.length;t++)if(this.beams[t].layout){this.beams[t].layout(),this.moveDecorations(this.beams[t]);for(var e=0;e<this.beams[t].elems.length;e++)this.adjustRange(this.beams[t].elems[e])}for(t=0;t<this.otherchildren.length;t++){var n=this.otherchildren[t];n.layout&&(n.layout(),this.adjustRange(n))}this.staff.top=Math.max(this.staff.top,this.top),this.staff.bottom=Math.min(this.staff.bottom,this.bottom)};var vqe=Ms,H0=sw,hM=GXe,wqe=UXe,rH=KXe,iH=eqe,sH=nqe,xqe=cqe,oH=uqe,Oo=t0,Cr=e0,lh=gf,Sqe=hqe,aH=gqe,V0=lQ,Cqe=yqe,kqe=vqe,Wu=ec,Si;(function(){var t=function(u){var d=0;return u.duration&&(d=u.duration),d},e=!1,n={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}};Si=function(u,d,h){this.decoration=new xqe,this.renderer=u,this.tuneNumber=d,this.isBagpipes=h.bagpipes,this.flatBeams=h.flatbeams,this.reset()},Si.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},Si.prototype.setStemHeight=function(u){this.stemHeight=u/lh.STEP},Si.prototype.getCurrentVoiceId=function(u,d){return"s"+u+"v"+d},Si.prototype.pushCrossLineElems=function(u,d){this.slursbyvoice[this.getCurrentVoiceId(u,d)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(u,d)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(u,d)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(u,d)]=this.voiceScale},Si.prototype.popCrossLineElems=function(u,d){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(u,d)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(u,d)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(u,d)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(u,d)],this.voiceScale===void 0&&(this.voiceScale=1)},Si.prototype.containsLyrics=function(u){for(var d=0;d<u.length;d++)for(var h=0;h<u[d].voices.length;h++)for(var f=0;f<u[d].voices[h].length;f++){var p=u[d].voices[h][f];if(p.lyric){(!p.positioning||p.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}},Si.prototype.createABCLine=function(u,d){this.minY=2,this.containsLyrics(u);var h=new Sqe;this.tempoSet=!1;for(var f=0;f<u.length;f++)e&&this.restoreState(),e=!1,this.createABCStaff(h,u[f],d,f);return h},Si.prototype.createABCStaff=function(u,d,h,f){for(var p=0;p<d.voices.length;p++){var m=new kqe(p,d.voices.length);p===0?(m.barfrom=d.connectBarLines==="start"||d.connectBarLines==="continue",m.barto=d.connectBarLines==="continue"||d.connectBarLines==="end"):m.duplicate=!0,d.title&&d.title[p]&&(m.header=d.title[p]);var y=rH(d.clef,this.tuneNumber);y&&(p===0&&d.barNumber&&this.addMeasureNumber(d.barNumber,y),m.addChild(y));var S=iH(d.key,this.tuneNumber);if(S&&(m.addChild(S),this.startlimitelem=S),d.meter){d.meter.type==="specified"?this.measureLength=d.meter.value[0].num/d.meter.value[0].den:this.measureLength=1;var w=sH(d.meter,this.tuneNumber);m.addChild(w),this.startlimitelem=w}m.duplicate&&(m.children=[]);var v=d.clef.stafflines||d.clef.stafflines===0?d.clef.stafflines:5;u.addVoice(m,f,v);var k=v===1;this.createABCVoice(d.voices[p],h,f,p,k,m),u.setStaffLimits(m),d.brace==="start"?u.brace=new wqe:(d.brace==="end"&&u.brace||d.brace==="continue"&&u.brace)&&u.brace.increaseStavesIncluded()}};function r(u,d){var h=u[d];if(h.el_type!=="note"||!h.startBeam||h.endBeam)return{count:1,elem:h};for(var f=[];d<u.length&&u[d].el_type==="note"&&(f.push(u[d]),!u[d].endBeam);)d++;return{count:f.length,elem:f}}Si.prototype.createABCVoice=function(u,d,h,f,p,m){this.popCrossLineElems(h,f),this.stemdir=this.isBagpipes?"down":null,this.abcline=u,this.partstartelem&&(this.partstartelem=new oH("",null,null),m.addOther(this.partstartelem));var y=m.voicetotal<2?-1:m.voicenumber;for(var S in this.slurs)this.slurs.hasOwnProperty(S)&&(this.slurs[S]=new V0({force:this.slurs[S].force,voiceNumber:y,stemDir:this.slurs[S].stemDir}),e&&this.slurs[S].setHint(),m.addOther(this.slurs[S]));for(var w=0;w<this.ties.length;w++)this.ties[w]=new V0({force:this.ties[w].force,stemDir:this.ties[w].stemDir,voiceNumber:y}),e&&this.ties[w].setHint(),m.addOther(this.ties[w]);for(var v=0;v<this.abcline.length;v++)i(this.abcline[v]),this.minY=Math.min(this.abcline[v].minpitch,this.minY);for(var k=h===0,P=0;P<this.abcline.length;){var T=r(this.abcline,P),_=this.createABCElement(k,p,m,T.elem);if(_)for(w=0;w<_.length;w++){if(!this.tempoSet&&d&&!d.suppress){this.tempoSet=!0;var E=new H0(T.elem,0,0,"tempo",this.tuneNumber,{});E.addChild(new aH(d,this.tuneNumber,c)),m.addChild(E)}m.addChild(_[w])}P+=T.count}this.pushCrossLineElems(h,f)},Si.prototype.saveState=function(){this.tiesSave=Wu.cloneArray(this.ties),this.slursSave=Wu.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=Wu.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=Wu.cloneHashOfArrayOfHash(this.tiesbyvoice)},Si.prototype.restoreState=function(){this.ties=Wu.cloneArray(this.tiesSave),this.slurs=Wu.cloneHashOfHash(this.slursSave),this.slursbyvoice=Wu.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=Wu.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},Si.prototype.createABCElement=function(u,d,h,f){var p=[];switch(f.el_type){case void 0:p=this.createBeam(d,h,f);break;case"note":p[0]=this.createNote(f,!1,d,h),this.triplet&&this.triplet.isClosed()&&(h.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":p[0]=this.createBarLine(h,f,u),h.duplicate&&p.length>0&&(p[0].invisible=!0);break;case"meter":p[0]=sH(f,this.tuneNumber),this.startlimitelem=p[0],h.duplicate&&p.length>0&&(p[0].invisible=!0);break;case"clef":if(p[0]=rH(f,this.tuneNumber),!p[0])return null;h.duplicate&&p.length>0&&(p[0].invisible=!0);break;case"key":var m=iH(f,this.tuneNumber);m&&(p[0]=m,this.startlimitelem=p[0]),h.duplicate&&p.length>0&&(p[0].invisible=!0);break;case"stem":this.stemdir=f.direction;break;case"part":var y=new H0(f,0,0,"part",this.tuneNumber),S=this.renderer.getTextSize(f.title,"partsfont","part");y.addChild(new Cr(f.title,0,0,void 0,{type:"part",height:S.height/lh.STEP})),p[0]=y;break;case"tempo":var w=new H0(f,0,0,"tempo",this.tuneNumber);w.addChild(new aH(f,this.tuneNumber,c)),p[0]=w;break;case"style":f.head==="normal"?delete this.style:this.style=f.head;break;case"hint":e=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=f.size;break;default:var v=new H0(f,0,0,"unsupported",this.tuneNumber);v.addChild(new Cr("element type "+f.el_type,0,0,void 0,{type:"debug"})),p[0]=v}return p};function i(u){if(u.pitches){s(u);for(var d=0,h=0;h<u.pitches.length;h++)d+=u.pitches[h].verticalPos;u.averagepitch=d/u.pitches.length,u.minpitch=u.pitches[0].verticalPos,u.maxpitch=u.pitches[u.pitches.length-1].verticalPos}}Si.prototype.calcBeamDir=function(u,d,h){if(this.stemdir)return this.stemdir;for(var f=new hM(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams),p=0;p<h.length;p++)f.add({abcelem:h[p]});var m=f.calcDir();return m?"up":"down"},Si.prototype.createBeam=function(u,d,h){var f=[],p=this.calcBeamDir(u,d,h),m=new hM(this.stemHeight*this.voiceScale,p,this.flatBeams);e&&m.setHint();var y=this.stemdir;this.stemdir=p;for(var S=0;S<h.length;S++){var w=h[S],v=this.createNote(w,!0,u,d);f.push(v),m.add(v),this.triplet&&this.triplet.isClosed()&&(d.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return this.stemdir=y,d.addBeam(m),f};var s=function(u){var d;do{d=!0;for(var h=0;h<u.pitches.length-1;h++)if(u.pitches[h].pitch>u.pitches[h+1].pitch){d=!1;var f=u.pitches[h];u.pitches[h]=u.pitches[h+1],u.pitches[h+1]=f}}while(!d)},o=function(u,d,h,f,p,m,y,S,w){for(var v=h;v>11;v--)v%2===0&&!f&&u.addChild(new Cr(null,S,(p+4)*w,v,{type:"ledger"}));for(v=d;v<1;v++)v%2===0&&!f&&u.addChild(new Cr(null,S,(p+4)*w,v,{type:"ledger"}));for(v=0;v<m.length;v++){var k=p;y==="down"&&(k=-k),u.addChild(new Cr(null,k+S,(p+4)*w,m[v],{type:"ledger"}))}};Si.prototype.addGraceNotes=function(u,d,h,f,p,m,y){var S=.6,w=3.5/5,v=null,k;u.gracenotes.length>1&&(v=new hM(p*w,"grace",m),e&&v.setHint(),v.mainNote=h);var P=[];for(T=u.gracenotes.length-1;T>=0;T--)y+=10,P[T]=y,u.gracenotes[T].accidental&&(y+=7);var T;for(T=0;T<u.gracenotes.length;T++){var _=u.gracenotes[T].verticalPos;k=v?null:n.uflags[m?5:3];var E=[],I=c(h,"noteheads.quarter",u.gracenotes[T],"up",-P[T],-P[T],k,0,0,S*this.voiceScale,E,!1);I.notehead.highestVert=I.notehead.pitch+p*w;var R=I.notehead;if(this.addSlursAndTies(h,u.gracenotes[T],R,d,"up",!0),h.addExtra(R),u.gracenotes[T].acciaccatura){var F=u.gracenotes[T].verticalPos+7*S,B=v?5:6;h.addRight(new Cr("flags.ugrace",-P[T]+B,0,F,{scalex:S,scaley:S}))}if(v){var D=u.gracenotes[T].duration/2;m&&(D/=2);var A={heads:[R],abcelem:{averagepitch:_,minpitch:_,maxpitch:_,duration:D}};v.add(A)}else{var N=_+.3333333333333333*S,L=_+7*S,H=R.dx+R.w,O=-.6;h.addExtra(new Cr(null,H,0,N,{type:"stem",pitch2:L,linewidth:O}))}o(h,_,_,!1,Oo.getSymbolWidth("noteheads.quarter"),[],!0,R.dx-1,.6),T===0&&!m&&!(u.rest&&(u.rest.type==="spacer"||u.rest.type==="invisible"))&&(u.gracenotes.length===1&&(R.pitch,f.pitch),d.addOther(new V0({anchor1:R,anchor2:f,isGrace:!0})))}return v&&d.addBeam(v),y};function a(u,d,h,f,p,m,y,S,w){var v,k=7,P,T,_;switch(p&&(m==="down"&&(k=3),m==="up"&&(k=11)),y&&(h<.5||h<1?k=7:k=5),d.rest.type){case"whole":v=n.rest[0],d.averagepitch=k,d.minpitch=k,d.maxpitch=k,f=0;break;case"rest":d.style==="rhythm"?v=n.rhythm[-S]:v=n.rest[-S],d.averagepitch=k,d.minpitch=k,d.maxpitch=k;break;case"invisible":case"spacer":v="",d.averagepitch=k,d.minpitch=k,d.maxpitch=k;break;case"multimeasure":v=n.rest.multi,d.averagepitch=k,d.minpitch=k,d.maxpitch=k,f=0;var E=Oo.getSymbolWidth(v);u.addHead(new Cr(v,-E,E*2,7));var I=new Cr(""+d.duration,0,E,16,{type:"multimeasure-text"});u.addExtra(I)}if(d.rest.type!=="multimeasure"){var R=c(u,v,{verticalPos:k},null,0,0,null,f,0,w,[],!1);P=R.notehead,P&&(u.addHead(P),T=R.accidentalshiftx,_=R.dotshiftx)}return{noteHead:P,roomTaken:T,roomTakenRight:_}}function l(u,d){for(var h=0;h<u.length;h++)if(JSON.stringify(u[h])===JSON.stringify(d))return;u.push(d)}Si.prototype.addNoteToAbcElement=function(u,d,h,f,p,m,y,S,w){var v=0,k,P=0,T=0,_,E,I=[],R=[],F=0,B=d.averagepitch>=6?"down":"up";f&&(B=f),p=d.style?d.style:p,(!p||p==="normal")&&(p="note");var D;m?D=n[p].nostem:D=n[p][-y],D||console.log("noteSymbol:",p,y,m);var A;for(A=B==="down"?d.pitches.length-2:1;B==="down"?A>=0:A<d.pitches.length;A=B==="down"?A-1:A+1){var N=d.pitches[B==="down"?A+1:A-1],L=d.pitches[A],H=B==="down"?N.pitch-L.pitch:L.pitch-N.pitch;H<=1&&!N.printer_shift&&(L.printer_shift=H?"different":"same",(L.verticalPos>11||L.verticalPos<1)&&I.push(L.verticalPos-L.verticalPos%2),B==="down"?P=Oo.getSymbolWidth(D)+2:v=Oo.getSymbolWidth(D)+2)}var O=d.pitches.length;for(A=0;A<d.pitches.length;A++){if(!S){var G;B==="down"&&A!==0||B==="up"&&A!==O-1?G=null:G=n[B==="down"?"dflags":"uflags"][-y]}var j;d.pitches[A].style?j=n[d.pitches[A].style][-y]:j=D,d.pitches[A].highestVert=d.pitches[A].verticalPos;var J=(f==="up"||B==="up")&&A===0,Z=(f==="down"||B==="down")&&A===O-1;if(J||Z){if((d.startSlur||O===1)&&(d.pitches[A].highestVert=d.pitches[O-1].verticalPos,t(d)<1&&(f==="up"||B==="up")&&(d.pitches[A].highestVert+=6)),d.startSlur)for(d.pitches[A].startSlur||(d.pitches[A].startSlur=[]),E=0;E<d.startSlur.length;E++)l(d.pitches[A].startSlur,d.startSlur[E]);if(d.endSlur)for(d.pitches[A].highestVert=d.pitches[O-1].verticalPos,t(d)<1&&(f==="up"||B==="up")&&(d.pitches[A].highestVert+=6),d.pitches[A].endSlur||(d.pitches[A].endSlur=[]),E=0;E<d.endSlur.length;E++)l(d.pitches[A].endSlur,d.endSlur[E])}var ae=!S&&y<=-1,z=c(u,j,d.pitches[A],B,0,-P,G,h,v,this.voiceScale,R,!f);F=Math.max(Oo.getSymbolWidth(j),F),u.extraw-=z.extraLeft,k=z.notehead,k&&(this.addSlursAndTies(u,d.pitches[A],k,w,ae?B:null,!1),d.gracenotes&&d.gracenotes.length>0&&(k.bottom=k.bottom-1),u.addHead(k)),P+=z.accidentalshiftx,T=Math.max(T,z.dotshiftx)}if(ae){var $=7*this.voiceScale,W=B==="down"?d.minpitch-$:d.minpitch+1/3;W>6&&!f&&(W=6);var oe=B==="down"?d.maxpitch-1/3:d.maxpitch+$;oe<6&&!f&&(oe=6);var X=B==="down"||u.heads.length===0?0:u.heads[0].w,K=B==="down"?1:-1;k.c==="noteheads.slash.quarter"&&(B==="down"?oe-=1:W+=1),u.addExtra(new Cr(null,X,0,W,{type:"stem",pitch2:oe,linewidth:K})),_=Math.min(W,oe)}return{noteHead:k,roomTaken:P,roomTakenRight:T,min:_,additionalLedgers:I,dir:B,symbolWidth:F}},Si.prototype.addLyric=function(u,d){var h="";Wu.each(d.lyric,function(m){var y=m.divider===" "?"":m.divider;h+=m.syllable+y+`
`});var f=this.renderer.getTextSize(h,"vocalfont","lyric"),p=d.positioning?d.positioning.vocalPosition:"below";u.addCentered(new Cr(h,0,f.width,void 0,{type:"lyric",position:p,height:f.height/lh.STEP}))},Si.prototype.addChord=function(u,d,h,f){for(var p=8,m=0;m<d.chord.length;m++){var y=0,S,w=this.renderer.getTextSize(d.chord[m].name,"annotationfont","annotation"),v=w.width,k=w.height/lh.STEP;switch(d.chord[m].position){case"left":h+=v+7,y=-h,S=d.averagepitch,u.addExtra(new Cr(d.chord[m].name,y,v+4,S,{type:"text",height:k}));break;case"right":f+=4,y=f,S=d.averagepitch,u.addRight(new Cr(d.chord[m].name,y,v+4,S,{type:"text",height:k}));break;case"below":u.addRight(new Cr(d.chord[m].name,0,v+p,void 0,{type:"text",position:"below",height:k}));break;case"above":u.addRight(new Cr(d.chord[m].name,0,v+p,void 0,{type:"text",height:k}));break;default:if(d.chord[m].rel_position){var P=d.chord[m].rel_position.y+3*lh.STEP;u.addChild(new Cr(d.chord[m].name,y+d.chord[m].rel_position.x,0,d.minpitch+P/lh.STEP,{type:"text",height:k}))}else{var T="above";d.positioning&&d.positioning.chordPosition&&(T=d.positioning.chordPosition),w=this.renderer.getTextSize(d.chord[m].name,"gchordfont","chord"),k=w.height/lh.STEP,v=w.width,u.addCentered(new Cr(d.chord[m].name,y,v,void 0,{type:"chord",position:T,height:k}))}}}return{roomTaken:h,roomTakenRight:f}},Si.prototype.createNote=function(u,d,h,f){var p=null,m=0,y=0,S=0,w=[],v,k=t(u),P=!1;k===0&&(P=!0,k=.25,d=!0);for(var T=Math.floor(Math.log(k)/Math.log(2)),_=0,E=Math.pow(2,T),I=E/2;E<k;_++,E+=I,I/=2);u.startTriplet&&(this.tripletmultiplier=u.tripletMultiplier);var R=k*this.tripletmultiplier;u.rest&&u.rest.type==="multimeasure"&&(R=1);var F=u.rest?"rest":"note",B=new H0(u,R,1,F,this.tuneNumber,{durationClassOveride:u.duration*this.tripletmultiplier});if(e&&B.setHint(),u.rest){this.measureLength===k&&u.rest.type!=="invisible"&&u.rest.type!=="spacer"&&(u.rest.type="whole");var D=a(B,u,k,_,f.voicetotal>1,this.stemdir,h,T,this.voiceScale);p=D.noteHead,m=D.roomTaken,y=D.roomTakenRight}else{var A=this.addNoteToAbcElement(B,u,_,this.stemdir,this.style,P,T,d,f);A.min!==void 0&&(this.minY=Math.min(A.min,this.minY)),p=A.noteHead,m=A.roomTaken,y=A.roomTakenRight,w=A.additionalLedgers,v=A.dir,S=A.symbolWidth}if(u.lyric!==void 0&&this.addLyric(B,u),u.gracenotes!==void 0&&(m+=this.addGraceNotes(u,f,B,p,this.stemHeight*this.voiceScale,this.isBagpipes,m)),u.decoration&&this.decoration.createDecoration(f,u.decoration,B.top,p?p.w:0,B,m,v,B.bottom,u.positioning,this.hasVocals),u.barNumber&&B.addChild(new Cr(u.barNumber,-10,0,0,{type:"barNumber"})),o(B,u.minpitch,u.maxpitch,u.rest,S,w,v,-2,1),u.chord!==void 0){var N=this.addChord(B,u,m,y);m=N.roomTaken,y=N.roomTakenRight}return u.startTriplet&&(this.triplet=new Cqe(u.startTriplet,p,{flatBeams:this.flatBeams})),u.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(p),this.triplet&&!u.startTriplet&&!u.endTriplet&&this.triplet.middleNote(p),B};var c=function(u,d,h,f,p,m,y,S,w,v,k,P){var T=h.verticalPos,_,E=0,I=0,R=0;if(d===void 0)u.addChild(new Cr("pitch is undefined",0,0,0,{type:"debug"}));else if(d==="")_=new Cr(null,0,0,T);else{var F=p;if(h.printer_shift){var B=h.printer_shift==="same"?1:0;F=f==="down"?-Oo.getSymbolWidth(d)*v+B:Oo.getSymbolWidth(d)*v-B}var D={scalex:v,scaley:v,thickness:Oo.symbolHeightInPitches(d)*v};if(_=new Cr(d,F,Oo.getSymbolWidth(d)*v,T,D),_.stemDir=f,y){var A=T+(f==="down"?-7:7)*v;P&&(f==="down"&&A>6&&(A=6),f==="up"&&A<6&&(A=6));var N=f==="down"?p:p+_.w-.6;u.addRight(new Cr(y,N,Oo.getSymbolWidth(y)*v,A,{scalex:v,scaley:v}))}for(I=_.w+w-2+5*S;S>0;S--){var L=1-Math.abs(T)%2;u.addRight(new Cr("dots.dot",_.w+w-2+5*S,Oo.getSymbolWidth("dots.dot"),T+L))}}if(_&&(_.highestVert=h.highestVert),h.accidental){var H;switch(h.accidental){case"quartersharp":H="accidentals.halfsharp";break;case"dblsharp":H="accidentals.dblsharp";break;case"sharp":H="accidentals.sharp";break;case"quarterflat":H="accidentals.halfflat";break;case"flat":H="accidentals.flat";break;case"dblflat":H="accidentals.dblflat";break;case"natural":H="accidentals.nat"}for(var O=!1,G=m,j=0;j<k.length;j++)if(T-k[j][0]>=6){k[j][0]=T,G=k[j][1],O=!0;break}O===!1&&(G-=Oo.getSymbolWidth(H)*v+2,k.push([T,G]),E=Oo.getSymbolWidth(H)*v+2),u.addExtra(new Cr(H,G,Oo.getSymbolWidth(H),T,{scalex:v,scaley:v})),R=Oo.getSymbolWidth(H)/2}return{notehead:_,accidentalshiftx:E,dotshiftx:I,extraLeft:R}};Si.prototype.addSlursAndTies=function(u,d,h,f,p,m){if(d.endTie&&this.ties.length>0){for(var y=!1,S=0;S<this.ties.length;S++)if(this.ties[S].anchor1&&this.ties[S].anchor1.pitch===h.pitch){this.ties[S].setEndAnchor(h),this.ties.splice(S,1),y=!0;break}y||(this.ties[0].setEndAnchor(h),this.ties.splice(0,1))}var w=f.voicetotal<2?-1:f.voicenumber;if(d.startTie){var v=new V0({anchor1:h,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:m,voiceNumber:w});e&&v.setHint(),this.ties[this.ties.length]=v,f.addOther(v),u.startTie=!0}if(d.endSlur)for(var k=0;k<d.endSlur.length;k++){var P=d.endSlur[k],T;this.slurs[P]?(T=this.slurs[P],T.setEndAnchor(h),delete this.slurs[P]):(T=new V0({anchor2:h,stemDir:this.stemdir,voiceNumber:w}),e&&T.setHint(),f.addOther(T)),this.startlimitelem&&T.setStartX(this.startlimitelem)}else if(!m)for(var _ in this.slurs)this.slurs.hasOwnProperty(_)&&this.slurs[_].addInternalNote(h);if(d.startSlur)for(k=0;k<d.startSlur.length;k++){var P=d.startSlur[k].label,T=new V0({anchor1:h,stemDir:this.stemdir,voiceNumber:w});e&&T.setHint(),this.slurs[P]=T,f.addOther(T)}},Si.prototype.addMeasureNumber=function(u,d){var h=this.renderer.getTextSize(u,"measurefont","bar-number");d.addChild(new Cr(u,0,0,11+h.height/lh.STEP,{type:"barNumber"}))},Si.prototype.createBarLine=function(u,d,h){var f=new H0(d,0,10,"bar",this.tuneNumber),p=null,m=0;d.barNumber&&this.addMeasureNumber(d.barNumber,f);var y=d.type==="bar_right_repeat"||d.type==="bar_dbl_repeat",S=d.type!=="bar_left_repeat"&&d.type!=="bar_thick_thin"&&d.type!=="bar_invisible",w=d.type==="bar_right_repeat"||d.type==="bar_dbl_repeat"||d.type==="bar_left_repeat"||d.type==="bar_thin_thick"||d.type==="bar_thick_thin",v=d.type==="bar_left_repeat"||d.type==="bar_thick_thin"||d.type==="bar_thin_thin"||d.type==="bar_dbl_repeat",k=d.type==="bar_left_repeat"||d.type==="bar_dbl_repeat";if(y||k){for(var P in this.slurs)this.slurs.hasOwnProperty(P)&&this.slurs[P].setEndX(f);this.startlimitelem=f}if(y&&(f.addRight(new Cr("dots.dot",m,1,7)),f.addRight(new Cr("dots.dot",m,1,5)),m+=6),S&&(p=new Cr(null,m,1,2,{type:"bar",pitch2:10,linewidth:.6}),f.addRight(p)),d.type==="bar_invisible"&&(p=new Cr(null,m,1,2,{type:"none",pitch2:10,linewidth:.6}),f.addRight(p)),d.decoration&&this.decoration.createDecoration(u,d.decoration,12,w?3:1,f,0,"down",2,d.positioning,this.hasVocals),w&&(m+=4,p=new Cr(null,m,4,2,{type:"bar",pitch2:10,linewidth:4}),f.addRight(p),m+=5),this.partstartelem&&d.endEnding&&(this.partstartelem.anchor2=p,this.partstartelem=null),v&&(m+=3,p=new Cr(null,m,1,2,{type:"bar",pitch2:10,linewidth:.6}),f.addRight(p)),k&&(m+=3,f.addRight(new Cr("dots.dot",m,1,7)),f.addRight(new Cr("dots.dot",m,1,5))),d.startEnding&&h){var T=this.renderer.getTextSize(d.startEnding,"repeatfont","").width;f.minspacing+=T+10,this.partstartelem=new oH(d.startEnding,p,null),u.addOther(this.partstartelem)}return f.extraw-=5,f}})();var Tqe=Si,$p="http://www.w3.org/2000/svg";function Gs(t){this.svg=h6(),t.appendChild(this.svg)}Gs.prototype.clear=function(){if(this.svg){var t=this.svg.parentNode;this.svg=h6(),t&&(t.innerHTML="",t.appendChild(this.svg))}};Gs.prototype.setTitle=function(t){var e=document.createElement("title"),n=document.createTextNode(t);e.appendChild(n),this.svg.insertBefore(e,this.svg.firstChild)};Gs.prototype.setResponsiveWidth=function(t,e){if(this.svg.setAttribute("viewBox","0 0 "+t+" "+e),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=e/t*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};Gs.prototype.setSize=function(t,e){this.svg.setAttribute("width",t),this.svg.setAttribute("height",e)};Gs.prototype.setScale=function(t){t!==1?(this.svg.style.transform="scale("+t+","+t+")",this.svg.style["-ms-transform"]="scale("+t+","+t+")",this.svg.style["-webkit-transform"]="scale("+t+","+t+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};Gs.prototype.setParentStyles=function(t){for(var e in t)t.hasOwnProperty(e)&&this.svg.parentNode&&(this.svg.parentNode.style[e]=t[e]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}};Gs.prototype.rect=function(t){var e=document.createElementNS($p,"rect");for(var n in t)if(t.hasOwnProperty(n)){var r=""+t[n];if(r.indexOf("NaN")>=0)debugger;e.setAttributeNS(null,n,t[n])}return this.append(e),e};Gs.prototype.text=function(t,e,n){var r=document.createElementNS($p,"text");for(var i in e)e.hasOwnProperty(i)&&r.setAttribute(i,e[i]);for(var s=(""+t).split(`
`),o=0;o<s.length;o++){var a=document.createElementNS($p,"tspan");a.textContent=s[o],a.setAttribute("x",e.x?e.x:0),o!==0&&a.setAttribute("dy","1.2em"),r.appendChild(a)}return n?n.appendChild(r):this.append(r),r};Gs.prototype.guessWidth=function(t,e){var n=this.createDummySvg(),r=this.text(t,e,n),i;try{i=r.getBBox(),isNaN(i.height)||!i.height?i={width:e["font-size"]/2,height:e["font-size"]+2}:i={width:i.width,height:i.height}}catch{i={width:e["font-size"]/2,height:e["font-size"]+2}}return n.removeChild(r),i};Gs.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=h6();var t=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",t.join(""));var e=document.querySelector("body");e.appendChild(this.dummySvg)}return this.dummySvg};Gs.prototype.getTextSize=function(t,e,n){if(typeof t=="number"&&(t=""+t),!t||t.match(/^\s+$/))return{width:0,height:0};var r=!n;n||(n=this.text(t,e));var i;try{i=n.getBBox(),isNaN(i.height)||!i.height?i=this.guessWidth(t,e):i={width:i.width,height:i.height}}catch{i=this.guessWidth(t,e)}return r&&(this.currentGroup?this.currentGroup.removeChild(n):this.svg.removeChild(n)),i};Gs.prototype.openGroup=function(t){t=t||{};var e=document.createElementNS($p,"g");return t.prepend?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this.currentGroup=e,e};Gs.prototype.closeGroup=function(){var t=this.currentGroup;return this.currentGroup=null,t};Gs.prototype.path=function(t){var e=document.createElementNS($p,"path");for(var n in t)t.hasOwnProperty(n)&&(n==="path"?e.setAttributeNS(null,"d",t.path):e.setAttributeNS(null,n,t[n]));return this.append(e),e};Gs.prototype.pathToBack=function(t){var e=document.createElementNS($p,"path");for(var n in t)t.hasOwnProperty(n)&&(n==="path"?e.setAttributeNS(null,"d",t.path):e.setAttributeNS(null,n,t[n]));return this.prepend(e),e};Gs.prototype.append=function(t){this.currentGroup?this.currentGroup.appendChild(t):this.svg.appendChild(t)};Gs.prototype.prepend=function(t){this.currentGroup?this.currentGroup.appendChild(t):this.svg.insertBefore(t,this.svg.firstChild)};Gs.prototype.setAttributeOnElement=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttributeNS(null,n,e[n])};function h6(){var t=document.createElementNS($p,"svg");return t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("role","img"),t}var Pqe=Gs,z0=t0,pv=gf,Tu=QT,_qe=Pqe,On=function(t,e,n){this.paper=new _qe(t),this.controller=null,this.space=3*pv.SPACE,this.padding={},this.doRegression=e,this.shouldAddClasses=n,this.doRegression&&(this.regressionLines=[]),this.reset()};On.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.lastM=null,this.ingroup=!1,this.path=null,this.isPrint=!1,this.initVerticalSpace(),this.doRegression&&(this.regressionLines=[])};On.prototype.newTune=function(t){this.abctune=t,this.setVerticalSpace(t.formatting),this.measureNumber=null,this.noteNumber=null,this.setPrintMode(t.media==="print"),this.setPadding(t)};On.prototype.createElemSet=function(){return this.paper.openGroup()};On.prototype.closeElemSet=function(){return this.paper.closeGroup()};On.prototype.setPrintMode=function(t){this.isPrint=t};On.prototype.setPaperSize=function(t,e,n){var r=(t+this.padding.right)*e,i=(this.y+this.padding.bottom)*e;this.isPrint&&(i=Math.max(i,1056)),this.doRegression&&this.regressionLines.push("PAPER SIZE: ("+r+","+i+")");var s="Sheet Music";this.abctune&&this.abctune.metaText&&this.abctune.metaText.title&&(s+=' for "'+this.abctune.metaText.title+'"'),this.paper.setTitle(s);var o={overflow:"hidden"};n==="resize"?this.paper.setResponsiveWidth(r,i):(o.width="",o.height=i+"px",e<1?(o.width=r+"px",this.paper.setSize(r/e,i/e)):this.paper.setSize(r,i)),this.paper.setScale(e),this.paper.setParentStyles(o)};On.prototype.setPaddingOverride=function(t){this.paddingOverride={top:t.paddingtop,bottom:t.paddingbottom,right:t.paddingright,left:t.paddingleft}};On.prototype.setPadding=function(t){function e(n,r,i,s,o){t.formatting[i]!==void 0?n.padding[r]=t.formatting[i]:n.paddingOverride[r]!==void 0?n.padding[r]=n.paddingOverride[r]:n.isPrint?n.padding[r]=s:n.padding[r]=o}e(this,"top","topmargin",38,15),e(this,"bottom","botmargin",38,15),e(this,"left","leftmargin",68,15),e(this,"right","rightmargin",68,15)};On.prototype.adjustNonScaledItems=function(t){this.padding.top/=t,this.padding.bottom/=t,this.padding.left/=t,this.padding.right/=t,this.abctune.formatting.headerfont.size/=t,this.abctune.formatting.footerfont.size/=t};On.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:30.67,words:0}};On.prototype.setVerticalSpace=function(t){t.staffsep!==void 0&&(this.spacing.staffSeparation=t.staffsep*4/3),t.composerspace!==void 0&&(this.spacing.composer=t.composerspace*4/3),t.partsspace!==void 0&&(this.spacing.parts=t.partsspace*4/3),t.textspace!==void 0&&(this.spacing.text=t.textspace*4/3),t.musicspace!==void 0&&(this.spacing.music=t.musicspace*4/3),t.titlespace!==void 0&&(this.spacing.title=t.titlespace*4/3),t.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=t.sysstaffsep*4/3),t.subtitlespace!==void 0&&(this.spacing.subtitle=t.subtitlespace*4/3),t.topspace!==void 0&&(this.spacing.top=t.topspace*4/3),t.vocalspace!==void 0&&(this.spacing.vocal=t.vocalspace*4/3),t.wordsspace!==void 0&&(this.spacing.words=t.wordsspace*4/3)};On.prototype.topMargin=function(t){this.moveY(this.padding.top)};On.prototype.addMusicPadding=function(){this.moveY(this.spacing.music)};On.prototype.addStaffPadding=function(t,e){var n=t.staffs[t.staffs.length-1],r=-(n.bottom-2),i=e.staffs[0].top-10,s=i+r,o=s*pv.STEP;o<this.spacing.staffSeparation&&this.moveY(this.spacing.staffSeparation-o)};On.prototype.engraveTopText=function(t,e){if(e.metaText.header&&this.isPrint){var n=this.getTextSize("XXXX","headerfont","abcjs-header abcjs-meta-top").height;this.y-=n,this.outputTextIf(this.padding.left,e.metaText.header.left,"headerfont","header meta-top",0,null,"start"),this.outputTextIf(this.padding.left+t/2,e.metaText.header.center,"headerfont","header meta-top",0,null,"middle"),this.outputTextIf(this.padding.left+t,e.metaText.header.right,"headerfont","header meta-top",0,null,"end"),this.y+=n}if(this.isPrint&&this.moveY(this.spacing.top),this.outputTextIf(this.padding.left+t/2,e.metaText.title,"titlefont","title meta-top",this.spacing.title,0,"middle"),e.lines[0]&&this.outputTextIf(this.padding.left+t/2,e.lines[0].subtitle,"subtitlefont","text meta-top",this.spacing.subtitle,0,"middle"),e.metaText.rhythm||e.metaText.origin||e.metaText.composer){this.moveY(this.spacing.composer);var r=this.outputTextIf(this.padding.left,e.metaText.rhythm,"infofont","meta-top",0,null,"start"),i="";if(e.metaText.composer&&(i+=e.metaText.composer),e.metaText.origin&&(i+=" ("+e.metaText.origin+")"),i.length>0){var s=this.outputTextIf(this.padding.left+t,i,"composerfont","meta-top",0,null,"end");this.moveY(s[1])}else this.moveY(r[1]);this.moveY(-6)}this.outputTextIf(this.padding.left+t,e.metaText.author,"composerfont","meta-top",0,0,"end"),this.outputTextIf(this.padding.left,e.metaText.partOrder,"partsfont","meta-bottom",0,0,"start")};On.prototype.engraveExtraText=function(t,e){if(this.lineNumber=null,this.measureNumber=null,this.noteNumber=null,this.voiceNumber=null,e.metaText.unalignedWords){var n=this.getFontAndAttr("wordsfont","meta-bottom"),r=this.getTextSize("i","wordsfont","meta-bottom");e.metaText.unalignedWords.length>0&&this.moveY(this.spacing.words,1);for(var i=0;i<e.metaText.unalignedWords.length;i++)if(e.metaText.unalignedWords[i]==="")this.moveY(n.font.size,1);else if(typeof e.metaText.unalignedWords[i]=="string")this.outputTextIf(this.padding.left+pv.INDENT,e.metaText.unalignedWords[i],"wordsfont","meta-bottom",0,0,"start");else{for(var s=0,o=0,a=0;a<e.metaText.unalignedWords[i].length;a++){var l=e.metaText.unalignedWords[i][a],c=l.font?l.font:"wordsfont";this.renderText(this.padding.left+pv.INDENT+o,this.y,l.text,c,"meta-bottom",!1);var u=this.getTextSize(l.text,c,"meta-bottom");s=Math.max(s,u.height),o+=u.width,l.text[l.text.length-1]===" "&&(o+=r.width)}this.moveY(s,1)}e.metaText.unalignedWords.length>0&&this.moveY(n.font.size,2)}var d="";e.metaText.book&&(d+="Book: "+e.metaText.book+`
`),e.metaText.source&&(d+="Source: "+e.metaText.source+`
`),e.metaText.discography&&(d+="Discography: "+e.metaText.discography+`
`),e.metaText.notes&&(d+="Notes: "+e.metaText.notes+`
`),e.metaText.transcription&&(d+="Transcription: "+e.metaText.transcription+`
`),e.metaText.history&&(d+="History: "+e.metaText.history+`
`),e.metaText["abc-copyright"]&&(d+="Copyright: "+e.metaText["abc-copyright"]+`
`),e.metaText["abc-creator"]&&(d+="Creator: "+e.metaText["abc-creator"]+`
`),e.metaText["abc-edited-by"]&&(d+="Edited By: "+e.metaText["abc-edited-by"]+`
`),this.outputTextIf(this.padding.left,d,"historyfont","meta-bottom",this.spacing.info,0,"start"),e.metaText.footer&&this.isPrint&&(this.outputTextIf(this.padding.left,e.metaText.footer.left,"footerfont","header meta-bottom",0,null,"start"),this.outputTextIf(this.padding.left+t/2,e.metaText.footer.center,"footerfont","header meta-bottom",0,null,"middle"),this.outputTextIf(this.padding.left+t,e.metaText.footer.right,"footerfont","header meta-bottom",0,null,"end"))};On.prototype.outputFreeText=function(t,e){e&&this.moveY(e);var n=this.getFontAndAttr("textfont","defined-text");if(t==="")this.moveY(n.attr["font-size"]*2);else if(typeof t=="string")this.moveY(n.attr["font-size"]/2),this.outputTextIf(this.padding.left,t,"textfont","defined-text",0,0,"start");else{for(var r="",i=!1,s=0;s<t.length;s++)t[s].font&&(r+="FONT("+t[s].font+")"),r+=t[s].text,t[s].center&&(i=!0);var o=i?"middle":"start",a=i?this.controller.width/2:this.padding.left;this.outputTextIf(a,r,"textfont","defined-text",0,1,o)}};On.prototype.outputSeparator=function(t){t.lineLength&&(this.moveY(t.spaceAbove),this.printSeparator(t.lineLength),this.moveY(t.spaceBelow))};On.prototype.outputSubtitle=function(t,e){this.outputTextIf(this.padding.left+t/2,e,"subtitlefont","text meta-top",this.spacing.subtitle,0,"middle")};On.prototype.beginGroup=function(){this.path=[],this.lastM=[0,0],this.ingroup=!0};On.prototype.addPath=function(t){if(t=t||[],t.length!==0){t[0][0]="m",t[0][1]-=this.lastM[0],t[0][2]-=this.lastM[1],this.lastM[0]+=t[0][1],this.lastM[1]+=t[0][2],this.path.push(t[0]);for(var e=1,n=t.length;e<n;e++)t[e][0]==="m"&&(this.lastM[0]+=t[e][1],this.lastM[1]+=t[e][2]),this.path.push(t[e])}};On.prototype.endGroup=function(t){if(this.ingroup=!1,this.path.length===0)return null;for(var e="",n=0;n<this.path.length;n++)e+=this.path[n].join(" ");var r=this.paper.path({path:e,stroke:"none",fill:"#000000",class:this.addClasses(t)});return this.path=[],this.doRegression&&this.addToRegression(r),r};On.prototype.printStaveLine=function(t,e,n,r){var i="staff";r!==void 0&&(i+=" "+r);var s=.35,o="#000000",a=this.calcY(n),l=Tu("M %f %f L %f %f L %f %f L %f %f z",t,a-s,e,a-s,e,a+s,t,a+s),c=this.paper.pathToBack({path:l,stroke:"none",fill:o,class:this.addClasses(i)});return this.doRegression&&this.addToRegression(c),c};On.prototype.printStem=function(t,e,n,r){if(e<0){var i=r;r=n,n=i}var s="#000000";~~t===t&&(t+=.05);var o=[["M",t,n],["L",t,r],["L",t+e,r],["L",t+e,n],["z"]];if(this.ingroup)this.addPath(o);else{for(var a="",l=0;l<o.length;l++)a+=o[l].join(" ");var c=this.paper.pathToBack({path:a,stroke:"none",fill:s,class:this.addClasses("stem")});return this.doRegression&&this.addToRegression(c),c}};function Mqe(t,e,n){var r=n;return t==="f"&&e==="f"&&(r=r*2/3),t==="p"&&e==="p"&&(r=r*5/6),t==="f"&&e==="z"&&(r=r*5/8),r}On.prototype.printSymbol=function(t,e,n,r,i,s){var o,a;if(!n)return null;if(n.length>1&&n.indexOf(".")<0){this.paper.openGroup();for(var l=0,c=0;c<n.length;c++){var u=n.charAt(c);a=z0.getYCorr(u),o=z0.printSymbol(t+l,this.calcY(e+a),u,this.paper,s),o?(this.doRegression&&this.addToRegression(o),c<n.length-1&&(l+=Mqe(u,n.charAt(c+1),z0.getSymbolWidth(u)))):this.renderText(t,this.y,"no symbol:"+n,"debugfont","debug-msg","start")}return this.paper.closeGroup()}else{if(a=z0.getYCorr(n),this.ingroup)this.addPath(z0.getPathForSymbol(t,this.calcY(e+a),n,r,i));else{if(o=z0.printSymbol(t,this.calcY(e+a),n,this.paper,s),o)return this.doRegression&&this.addToRegression(o),o;this.renderText(t,this.y,"no symbol:"+n,"debugfont","debug-msg","start")}return null}};On.prototype.scaleExistingElem=function(t,e,n,r,i){this.paper.setAttributeOnElement(t,{style:"transform:scale("+e+","+n+");transform-origin:"+r+"px "+i+"px;"})};On.prototype.printPath=function(t){var e=this.paper.path(t);return this.doRegression&&this.addToRegression(e),e};On.prototype.drawBrace=function(t,e,n){var r=n-e,i=[7.5,-8,21,0,18.5,-10.5,7.5],s=[0,r/5.5,r/3.14,r/2,r/2.93,r/4.88,0],o=Tu("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+i[0],e+s[0],t+i[1],e+s[1],t+i[2],e+s[2],t+i[3],e+s[3],t+i[4],e+s[4],t+i[5],e+s[5],t+i[6],e+s[6]),a=this.paper.path({path:o,stroke:"#000000",fill:"#000000",class:this.addClasses("brace")});i=[0,17.5,-7.5,6.6,-5,20,0],s=[r/2,r/1.46,r/1.22,r,r/1.19,r/1.42,r/2],o=Tu("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+i[0],e+s[0],t+i[1],e+s[1],t+i[2],e+s[2],t+i[3],e+s[3],t+i[4],e+s[4],t+i[5],e+s[5],t+i[6],e+s[6]);var l=this.paper.path({path:o,stroke:"#000000",fill:"#000000",class:this.addClasses("brace")});return this.doRegression&&(this.addToRegression(a),this.addToRegression(l)),a+l};On.prototype.drawArc=function(t,e,n,r,i,s,o){var a=o?1.2:1.5;t=t+6,e=e+4,n=n+(i?a:-a),r=r+(i?a:-a);var l=this.calcY(n),c=this.calcY(r),u=e-t,d=c-l,h=Math.sqrt(u*u+d*d),f=u/h,p=d/h,m=h/3.5,y=o?10:25,S=(i?-1:1)*Math.min(y,Math.max(4,m)),w=t+m*f-S*p,v=l+m*p+S*f,k=e-m*f-S*p,P=c-m*p+S*f,T=2,_=Tu("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,l,w,v,k,P,e,c,k-T*p,P+T*f,w-T*p,v+T*f,t,l);s?s+=" slur":s="slur";var E=this.paper.path({path:_,stroke:"none",fill:"#000000",class:this.addClasses(s)});return this.doRegression&&this.addToRegression(E),E};On.prototype.calcY=function(t){return this.y-t*pv.STEP};On.prototype.printStave=function(t,e,n){var r="top-line";if(this.paper.openGroup({prepend:!0}),n===1){this.printStaveLine(t,e,6,r);return}for(var i=n-1;i>=0;i--)this.printStaveLine(t,e,(i+1)*2,r),r=void 0;this.paper.closeGroup()};On.prototype.addClasses=function(t,e){if(!this.shouldAddClasses)return"";var n=[];if(t.length>0&&n.push(t),this.lineNumber!==null&&this.lineNumber!==void 0&&n.push("l"+this.lineNumber),this.measureNumber!==null&&this.measureNumber!==void 0&&n.push("m"+this.measureNumber),this.voiceNumber!==null&&this.voiceNumber!==void 0&&n.push("v"+this.voiceNumber),(t.indexOf("note")>=0||t.indexOf("rest")>=0||t.indexOf("lyric")>=0)&&this.noteNumber!==null&&this.noteNumber!==void 0&&n.push("n"+this.noteNumber),n.length>0){n=n.join(" "),n=n.split(" ");for(var r=0;r<n.length;r++)n[r].indexOf("abcjs-")!==0&&n[r].length>0&&(n[r]="abcjs-"+n[r])}return n.join(" ")};On.prototype.getFontAndAttr=function(t,e){var n;typeof t=="string"?(n=this.abctune.formatting[t],n?n={face:n.face,size:n.size*4/3,decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:12*4/3,decoration:"underline",style:"normal",weight:"normal"}):n={face:t.face,size:t.size*4/3,decoration:t.decoration,style:t.style,weight:t.weight,box:t.box};var r={"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.addClasses(e)};return r.font="",{font:n,attr:r}};On.prototype.getTextSize=function(t,e,n,r){var i=this.getFontAndAttr(e,n),s=this.paper.getTextSize(t,i.attr,r);return i.font.box&&(s.height+=8,s.width+=8),s};On.prototype.renderText=function(t,e,n,r,i,s,o){var a=this.getFontAndAttr(r,i);s&&(a.attr["text-anchor"]=s),a.attr.x=t,a.attr.y=e+7,o||(a.attr.dy="0.5em"),r==="debugfont"&&(console.log("Debug msg: "+n),a.attr.stroke="#ff0000"),n=n.replace(/\n\n/g,`
 
`),n=n.replace(/^\n/,`
`),a.font.box&&(a.attr.x+=2,a.attr.y+=4);var l=this.paper.text(n,a.attr);if(a.font.box){var c=this.getTextSize(n,r,i),u=2,d=2;this.paper.rect({x:t-u,y:e,width:c.width+u*2,height:c.height+u*2-d,stroke:"#888888",fill:"transparent"})}return this.doRegression&&this.addToRegression(l),l};On.prototype.moveY=function(t,e){e===void 0&&(e=1),this.y+=t*e};On.prototype.skipSpaceY=function(){this.y+=this.space};On.prototype.outputTextIf=function(t,e,n,r,i,s,o){if(e){i&&this.moveY(i),this.renderText(t,this.y,e,n,r,o);var a=this.getTextSize(e,n,r),l=isNaN(a.width)?0:a.width,c=isNaN(a.height)?0:a.height,u=this.getFontAndAttr(n,r);if(u.font.box&&(l+=8,c+=8),s!==null){var d=e.split(`
`).length;isNaN(a.height)||this.moveY(c/d,d+s)}return[l,c]}return[0,0]};On.prototype.addInvisibleMarker=function(t){var e=.35,n="rgba(0,0,0,0)",r=this.y;r=Math.round(r);var i=0,s=100,o=Tu("M %f %f L %f %f L %f %f L %f %f z",i,r-e,i+s,r-e,s,r+e,i,r+e);this.paper.pathToBack({path:o,stroke:"none",fill:n,"fill-opacity":0,class:this.addClasses(t),"data-vertical":r})};On.prototype.printSeparator=function(t){var e="rgba(0,0,0,255)",n="rgba(0,0,0,0)",r=Math.round(this.y),i=this.controller.width,s=(i-t)/2,o=s+t,a="M "+s+" "+r+" L "+o+" "+r+" L "+o+" "+(r+1)+" L "+s+" "+(r+1)+" L "+s+" "+r+" z";this.paper.pathToBack({path:a,stroke:n,fill:e,class:this.addClasses("defined-text")})};On.prototype.printHorizontalLine=function(t,e,n){var r=.35,i="rgba(0,0,255,.4)",s=this.y;e&&(s=e),s=Math.round(s),this.paper.text(""+Math.round(s),{x:10,y:s,"text-anchor":"start","font-size":"18px",fill:i,stroke:i});var o=50,a=t,l=Tu("M %f %f L %f %f L %f %f L %f %f z",o,s-r,o+a,s-r,a,s+r,o,s+r);this.paper.pathToBack({path:l,stroke:"none",fill:i,class:this.addClasses("staff")});for(var c=1;c<t/100;c++)l=Tu("M %f %f L %f %f L %f %f L %f %f z",c*100-r,s-5,c*100-r,s+5,c*100+r,s-5,c*100+r,s+5),this.paper.pathToBack({path:l,stroke:"none",fill:i,class:this.addClasses("staff")});n&&this.paper.text(n,{x:t+70,y:s,"text-anchor":"start","font-size":"18px",fill:i,stroke:i})};On.prototype.printShadedBox=function(t,e,n,r,i,s,o){var a=this.paper.rect({x:t,y:e,width:n,height:r,fill:i,stroke:i,"fill-opacity":s,"stroke-opacity":s});return o&&this.paper.text(o,{x:0,y:e+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),a};On.prototype.printVerticalLine=function(t,e,n){var r=.35,i="#00aaaa",s=Tu("M %f %f L %f %f L %f %f L %f %f z",t-r,e,t-r,n,t+r,e,t+r,n);this.paper.pathToBack({path:s,stroke:"none",fill:i,class:this.addClasses("staff")}),s=Tu("M %f %f L %f %f L %f %f L %f %f z",t-20,e,t-20,e+3,t,e,t,e+3),this.paper.pathToBack({path:s,stroke:"none",fill:i,class:this.addClasses("staff")}),s=Tu("M %f %f L %f %f L %f %f L %f %f z",t+20,n,t+20,n+3,t,n,t,n+3),this.paper.pathToBack({path:s,stroke:"none",fill:i,class:this.addClasses("staff")})};On.prototype.addToRegression=function(t){var e;try{e=t.getBBox()}catch{e={width:0,height:0}}var n=t.type+" "+e.toString()+" ",r=[];for(var i in t.attrs)t.attrs.hasOwnProperty(i)&&(i==="class"?n=t.attrs[i]+" "+n:r.push(i+": "+t.attrs[i]));r.sort(),n+="{ "+r.join(" ")+" }",this.regressionLines.push(n)};var Eqe=On,f6=gf,cQ=Tqe,Bqe=Eqe,tc=function(t,e){e=e||{},this.responsive=e.responsive,this.space=3*f6.SPACE,this.scale=e.scale?parseFloat(e.scale):0,this.scale>.1||(this.scale=void 0),e.staffwidth?(this.staffwidthScreen=e.staffwidth,this.staffwidthPrint=e.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.editable=e.editable||!1,this.listeners=[],e.clickListener&&this.addSelectListener(e.clickListener),this.renderer=new Bqe(t,e.regression,e.add_classes),this.renderer.setPaddingOverride(e),this.renderer.controller=this,this.reset()};tc.prototype.reset=function(){this.selected=[],this.ingroup=!1,this.staffgroups=[],this.lastStaffGroupIndex=-1,this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset()};tc.prototype.engraveABC=function(t,e){t[0]===void 0&&(t=[t]),this.reset();for(var n=0;n<t.length;n++)e===void 0&&(e=n),this.engraveTune(t[n],e);if(this.renderer.doRegression)return this.renderer.regressionLines.join(`
`)};tc.prototype.adjustNonScaledItems=function(t){this.width/=t,this.renderer.adjustNonScaledItems(t)};tc.prototype.getMeasureWidths=function(t){this.reset(),this.renderer.lineNumber=null,this.renderer.newTune(t),this.engraver=new cQ(this.renderer,0,{bagpipes:t.formatting.bagpipes,flatbeams:t.formatting.flatbeams}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),t.formatting.staffwidth?this.width=t.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var e=t.formatting.scale?t.formatting.scale:this.scale;this.responsive==="resize"&&(e=void 0),e===void 0&&(e=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(e);var n={left:0,measureWidths:[],height:0,total:0};n.height=this.renderer.padding.top+this.renderer.spacing.music+this.renderer.padding.bottom+24;for(var r=!1,i=!1,s=0;s<t.lines.length;s++){var o=t.lines[s];if(o.staff){if(o.staffGroup=this.engraver.createABCLine(o.staff,i?null:t.metaText.tempo),o.staffGroup.layout(0,this.renderer,r),o.staffGroup.voices.length>0)for(var a=o.staffGroup.voices[0],l=!1,c=0,u=0;u<a.children.length;u++){var d=a.children[u];!l&&!d.isClef&&!d.isKeySig&&(l=!0,n.left=d.x,c=d.x),d.type==="bar"&&(n.measureWidths.push(d.x-c),n.total+=d.x-c,c=d.x)}i=!0,n.height+=o.staffGroup.calcHeight()*f6.STEP}}return n};tc.prototype.engraveTune=function(t,e){this.renderer.lineNumber=null,this.renderer.newTune(t),this.engraver=new cQ(this.renderer,e,{bagpipes:t.formatting.bagpipes,flatbeams:t.formatting.flatbeams}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=t.getMeterFraction().num/t.getMeterFraction().den,t.formatting.staffwidth?this.width=t.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=t.formatting.scale?t.formatting.scale:this.scale;this.responsive==="resize"&&(n=void 0),n===void 0&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n);var r,i,s=!1;for(r=0;r<t.lines.length;r++)i=t.lines[r],i.staff&&(i.staffGroup=this.engraver.createABCLine(i.staff,s?null:t.metaText.tempo),s=!0);var o=this.width;for(r=0;r<t.lines.length;r++)i=t.lines[r],i.staff&&(this.setXSpacing(i.staffGroup,t.formatting,r===t.lines.length-1,!1),i.staffGroup.w>o&&(o=i.staffGroup.w));for(r=0;r<t.lines.length;r++)if(i=t.lines[r],i.staffGroup&&i.staffGroup.voices){for(var a=0;a<i.staffGroup.voices.length;a++)i.staffGroup.voices[a].layoutBeams();i.staffGroup.setUpperAndLowerElements(this.renderer)}for(r=0;r<t.lines.length;r++)i=t.lines[r],i.staffGroup&&(i.staffGroup.height=i.staffGroup.calcHeight());this.renderer.topMargin(t),this.renderer.engraveTopText(this.width,t),this.renderer.addMusicPadding(),this.staffgroups=[],this.lastStaffGroupIndex=-1;for(var l=0;l<t.lines.length;l++)this.renderer.lineNumber=l,i=t.lines[l],i.staff?this.engraveStaffLine(i.staffGroup):i.subtitle&&l!==0?this.renderer.outputSubtitle(this.width,i.subtitle):i.text!==void 0?this.renderer.outputFreeText(i.text,i.vskip):i.separator!==void 0&&this.renderer.outputSeparator(i.separator);this.renderer.moveY(24),this.renderer.engraveExtraText(this.width,t),this.renderer.setPaperSize(o,n,this.responsive)};function Nqe(t,e,n,r,i,s,o){if(t&&r/n<.66&&!e||Math.abs(n-r)<2)return null;var a=s*i,l=r-a;return s>0?(i=(n-l)/s,i*o>50&&(i=50/o),i):null}tc.prototype.setXSpacing=function(t,e,n,r){for(var i=this.space,s=0;s<8;s++){var o=t.layout(i,this.renderer,r),a=e.stretchlast?e.stretchlast:!1;if(i=Nqe(n,a,this.width+this.renderer.padding.left,t.w,i,o.spacingUnits,o.minSpace),r&&console.log("setXSpace",s,t.w,i,t.minspace),i===null)break}Iqe(t.voices)};tc.prototype.engraveStaffLine=function(t){this.lastStaffGroupIndex>-1&&this.renderer.addStaffPadding(this.staffgroups[this.lastStaffGroupIndex],t),this.renderer.voiceNumber=null,t.draw(this.renderer);var e=t.height*f6.STEP;this.staffgroups[this.staffgroups.length]=t,this.lastStaffGroupIndex=this.staffgroups.length-1,this.renderer.y+=e};tc.prototype.notifySelect=function(t,e,n){this.clearSelection(),t.highlight&&(this.selected=[t],t.highlight());for(var r=t.abcelem||{},i=0;i<this.listeners.length;i++)this.listeners[i](r,e,n)};tc.prototype.clearSelection=function(){for(var t=0;t<this.selected.length;t++)this.selected[t].unhighlight();this.selected=[]};tc.prototype.addSelectListener=function(t){this.listeners[this.listeners.length]=t};tc.prototype.rangeHighlight=function(t,e){this.clearSelection();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var s=r[i].children,o=0;o<s.length;o++){var a=s[o].abcelem.startChar,l=s[o].abcelem.endChar;(e>a&&t<l||e===t&&e===l)&&(this.selected[this.selected.length]=s[o],s[o].highlight())}};function Iqe(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&(i.abcelem.rest.type==="whole"||i.abcelem.rest.type==="multimeasure")){var s=n.children[r-1],o=n.children[r+1],a=(o.x-s.x)/2+s.x;i.x=a-i.w/2;for(var l=0;l<i.children.length;l++)i.children[l].x=i.x}}}var uQ=tc,Aqe=c6,Rqe=iQ,dQ=uQ,Lqe=l6,Dqe=rQ,YS={};function hQ(){var t=window.innerWidth;for(var e in YS)if(YS.hasOwnProperty(e)){var n=YS[e],r=n.offsetLeft;t-=r*2,n.style.width=t+"px"}}window.addEventListener("resize",hQ);window.addEventListener("orientationChange",hQ);function p6(t,e,n,r){n.viewportHorizontal?(t.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(t.style.overflowX="auto",t.style.overflowY="hidden"):t.style.overflow="hidden",YS[t.id]=t,t=t.children[0]):n.viewportVertical?(t.innerHTML='<div class="abcjs-inner scroll-amount"></div>',t.style.overflowX="hidden",t.style.overflowY="auto",t=t.children[0]):t.innerHTML="";var i=new dQ(t,n);if(i.engraveABC(e,r),e.engraver=i,n.viewportVertical||n.viewportHorizontal){var s=t.parentNode;s.style.width=t.style.width}}function fQ(t,e,n,r){function i(S){var w=new Rqe;return w.formatting=S.formatting,w.media=S.media,w.version=S.version,w.metaText={},w.lines=[],w}for(var s=[],o,a=0;a<e.lines.length;a++){var l=e.lines[a];o||(o=i(e)),a===0&&(o.metaText.tempo=e.metaText.tempo,o.metaText.title=e.metaText.title,o.metaText.header=e.metaText.header,o.metaText.rhythm=e.metaText.rhythm,o.metaText.origin=e.metaText.origin,o.metaText.composer=e.metaText.composer,o.metaText.author=e.metaText.author,o.metaText.partOrder=e.metaText.partOrder),o.lines.push(l),l.staff&&(s.push(o),o=void 0)}if(o)for(var c=s[s.length-1],u=0;u<o.lines.length;u++)c.lines.push(o.lines[u]);o=s[s.length-1],o.metaText.unalignedWords=e.metaText.unalignedWords,o.metaText.book=e.metaText.book,o.metaText.source=e.metaText.source,o.metaText.discography=e.metaText.discography,o.metaText.notes=e.metaText.notes,o.metaText.transcription=e.metaText.transcription,o.metaText.history=e.metaText.history,o.metaText["abc-copyright"]=e.metaText["abc-copyright"],o.metaText["abc-creator"]=e.metaText["abc-creator"],o.metaText["abc-edited-by"]=e.metaText["abc-edited-by"],o.metaText.footer=e.metaText.footer;var d={};for(var h in n)n.hasOwnProperty(h)&&(d[h]=n[h]);var f=d.paddingtop,p=d.paddingbottom;t.innerHTML="";for(var m=0;m<s.length;m++){var y=document.createElement("div");t.appendChild(y),m===0?(d.paddingtop=f,d.paddingbottom=-20):m===s.length-1?(d.paddingtop=10,d.paddingbottom=p):(d.paddingtop=10,d.paddingbottom=-20),p6(y,s[m],d,r),m===0?e.engraver=s[m].engraver:e.engraver.staffgroups?s[m].engraver.staffgroups.length>0&&e.engraver.staffgroups.push(s[m].engraver.staffgroups[0]):e.engraver.staffgroups=s[m].engraver.staffgroups}}var Fqe=function(t,e,n,r,i){var s={},o;if(n)for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);if(r)for(o in r)r.hasOwnProperty(o)&&(o==="listener"?r[o].highlight&&(s.clickListener=r[o].highlight):s[o]=r[o]);if(i)for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);function a(l,c,u,d){var h=!1;return l==="*"&&(h=!0,l=document.createElement("div"),l.setAttribute("style","display:none;"),document.body.appendChild(l)),s.afterParsing&&s.afterParsing(c,u,d),!h&&s.wrap&&s.staffwidth?(c=Oqe(l,c,u,d,s),c):(h||!s.oneSvgPerLine||c.lines.length<2?p6(l,c,s,u):fQ(l,c,s,u),h&&l.parentNode.removeChild(l),null)}return Aqe.renderEngine(a,t,e,s)};function Oqe(t,e,n,r,i){var s=new dQ(t,i),o=s.getMeasureWidths(e),a=Dqe.calcLineWraps(e,o,r,i,Lqe,s);return!i.oneSvgPerLine||a.tune.lines.length<2?p6(t,a.tune,a.revisedParams,n):fQ(t,a.tune,a.revisedParams,n),a.tune.explanation=a.explanation,a.tune}var $qe=Fqe,Hqe={},pQ=Hqe,fM=pQ,Vqe=function(t,e,n,r){return new Promise(function(i,s){fM[e]||(fM[e]={});var o=fM[e];if(o[n]==="error")return s(new Error("Unable to load sound font "+t+" "+e+" "+n));if(o[n])return i({instrument:e,name:n});o[n]="pending";var a=new XMLHttpRequest;a.open("GET",t+e+"-mp3/"+n+".mp3",!0),a.responseType="arraybuffer";var l=this;function c(d){o[n]=d,i({instrument:e,name:n})}function u(d){l.debugCallback&&l.debugCallback(d),console.log(d),s(d)}a.onload=function(d){if(this.status===200)r.decodeAudioData(this.response,c,u);else{o[n]="error";var h="Onload error loading sound: "+n+" "+t+" "+d.currentTarget.status+" "+d.currentTarget.statusText;return l.debugCallback&&l.debugCallback(h),s(new Error(h))}},a.addEventListener("error",function(){o[n]="error";var d="Error in loading sound:  "+t;return l.debugCallback&&l.debugCallback(d),s(new Error(d))},!1),a.send()})},zqe=Vqe,Wqe=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],g6=Wqe,lH=g6,Gqe=function(t){for(var e=[],n=0;n<t.tracks.length;n++)e.push([]);var r={},i=lH[0];return t.tracks.forEach(function(s,o){var a=0;s.forEach(function(l){switch(l.cmd){case"start":r[l.pitch]={time:a,instrument:i,volume:l.volume};break;case"move":a+=l.duration;break;case"stop":e[o].push({pitch:l.pitch,instrument:r[l.pitch].instrument,start:r[l.pitch].time,end:a,volume:r[l.pitch].volume}),delete r[l.pitch];break;case"program":i=lH[l.instrument];break;default:console.log("Unhanded midi event",l)}})}),e},Uqe=Gqe;function jqe(t){return window.abcjsAudioContext||(t||(t=window.AudioContext||window.webkitAudioContext||navigator.mozAudioContext||navigator.msAudioContext,t=new t),window.abcjsAudioContext=t),window.abcjsAudioContext.state!=="suspended"}var m6=jqe;function Yqe(){return window.abcjsAudioContext}var ZT=Yqe,Xqe=ZT;function qqe(){var t=Xqe();return t?t.resume!==void 0:window.Promise?window.AudioContext||window.webkitAudioContext||navigator.mozAudioContext||navigator.msAudioContext:!1}var eP=qqe,Kqe={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},gQ=Kqe,Qqe=function(t){return window.URL.createObjectURL(Jqe(t.audioBuffers))};function Jqe(t){var e=t.length,n=t[0].length*e*2+44,r=new ArrayBuffer(n),i=new DataView(r),s=[],o,a,l=0,c=0;for(d(1179011410),d(n-8),d(1163280727),d(544501094),d(16),u(1),u(e),d(t[0].sampleRate),d(t[0].sampleRate*2*e),u(e*2),u(16),d(1635017060),d(n-c-4),o=0;o<t.length;o++)s.push(t[o].getChannelData(0));for(;c<n;){for(o=0;o<s.length;o++)a=Math.max(-1,Math.min(1,s[o][l])),a=(.5+a<0?a*32768:a*32767)|0,i.setInt16(c,a,!0),c+=2;l++}return new Blob([r],{type:"audio/wav"});function u(h){i.setUint16(c,h,!0),c+=2}function d(h){i.setUint32(c,h,!0),c+=4}}var Zqe=Qqe,mQ;(function(){var t,e=128;mQ=function(i,s){s=s||{};var o=void 0,a=s.program||0,l=s.midiTranspose||0,c=s.channel||0,u=s.drum||"",d=s.drumBars||1,h=s.drumIntro||0,f=u!=="";a=parseInt(a,10),l=parseInt(l,10),c=parseInt(c,10),c===10&&(a=e),u=u.split(" "),d=parseInt(d,10),h=parseInt(h,10);var p=i.formatting.bagpipes;p&&(a=71);var m=[];if(i.formatting.midi){var y=i.formatting.midi;y.program&&y.program.length>0&&(a=y.program[0],y.program.length>1&&(a=y.program[1],c=y.program[0])),y.transpose&&(l=y.transpose[0]),y.channel&&(c=y.channel[0]),y.drum&&(u=y.drum),y.drumbars&&(d=y.drumbars[0]),y.drumon&&(f=!0),c===10&&(a=e),y.beat&&m.push({el_type:"beat",beats:y.beat}),y.nobeataccents&&m.push({el_type:"beataccents",value:!1})}s.qpm?o=parseInt(s.qpm,10):i.metaText.tempo?o=n(i.metaText.tempo):s.defaultQpm?o=s.defaultQpm:o=180;var S=[];p&&S.push({el_type:"bagpipes"}),S.push({el_type:"instrument",program:a}),c&&S.push({el_type:"channel",channel:c}),l&&S.push({el_type:"transpose",transpose:l}),S.push({el_type:"tempo",qpm:o});for(var w=0;w<m.length;w++)S.push(m[w]);for(var v=[],k=[],P=[],T=!1,_=0;_<i.lines.length;_++){var E=i.lines[_];if(E.staff)for(var I=E.staff,R=0,F=0;F<I.length;F++)for(var B=I[F],D=0;D<B.voices.length;D++){var A=B.voices[D];if(v[R]||(v[R]=[].concat(JSON.parse(JSON.stringify(S)))),B.clef&&B.clef.type==="perc")for(var N=0;N<v[R].length;N++)v[R][N].el_type==="instrument"&&(v[R][N].program=e);else B.key&&(B.key.root==="HP"?v[R].push({el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}):v[R].push({el_type:"key",accidentals:B.key.accidentals}));B.meter&&v[R].push(r(B.meter)),!T&&f&&(v[R].push({el_type:"drum",params:{pattern:u,bars:d,on:f,intro:h}}),T=!0),B.clef&&B.clef.transpose&&(B.clef.el_type="clef",v[R].push({el_type:"transpose",transpose:B.clef.transpose})),i.formatting.midi&&i.formatting.midi.drumoff&&(v[R].push({el_type:"bar"}),v[R].push({el_type:"drum",params:{pattern:"",on:!1}}));for(var L=0,H=0;H<A.length;H++){var O=A[H];switch(O.el_type){case"note":(!O.rest||O.rest.type!=="spacer")&&(O.decoration&&(O.decoration.indexOf("ppp")>=0?v[R].push({el_type:"beat",beats:[30,20,10,1]}):O.decoration.indexOf("pp")>=0?v[R].push({el_type:"beat",beats:[45,35,20,1]}):O.decoration.indexOf("p")>=0?v[R].push({el_type:"beat",beats:[60,50,35,1]}):O.decoration.indexOf("mp")>=0?v[R].push({el_type:"beat",beats:[75,65,50,1]}):O.decoration.indexOf("mf")>=0?v[R].push({el_type:"beat",beats:[90,80,65,1]}):O.decoration.indexOf("f")>=0?v[R].push({el_type:"beat",beats:[105,95,80,1]}):O.decoration.indexOf("ff")>=0?v[R].push({el_type:"beat",beats:[120,110,95,1]}):O.decoration.indexOf("fff")>=0&&v[R].push({el_type:"beat",beats:[127,125,110,1]})),v[R].push(O),L++);break;case"key":O.root==="HP"?v[R].push({el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}):v[R].push({el_type:"key",accidentals:O.accidentals});break;case"meter":v[R].push(r(O));break;case"clef":O.transpose&&v[R].push({el_type:"transpose",transpose:O.transpose});break;case"tempo":o=n(O),v[R].push({el_type:"tempo",qpm:o});break;case"bar":L>0&&v[R].push({el_type:"bar"}),L=0;var G=O.type==="bar_right_repeat"||O.type==="bar_dbl_repeat",j=O.startEnding==="1",J=O.type==="bar_left_repeat"||O.type==="bar_dbl_repeat"||O.type==="bar_right_repeat";if(G){var Z=k[R];Z||(Z=0);var ae=P[R];ae||(ae=v[R].length),v[R]=v[R].concat(v[R].slice(Z,ae)),P[R]=void 0,k[R]=void 0}j&&(P[R]=v[R].length),J&&(k[R]=v[R].length);break;case"style":break;case"part":break;case"stem":case"scale":break;case"midi":var z=!1;switch(O.cmd){case"drumon":f=!0,z=!0;break;case"drumoff":f=!1,z=!0;break;case"drum":u=O.params,z=!0;break;case"drumbars":d=O.params[0],z=!0;break;case"drummap":break;case"program":v[R].push({el_type:"instrument",program:O.params[0]});break;case"transpose":v[R].push({el_type:"transpose",transpose:O.params[0]});break;case"gchordoff":v[R].push({el_type:"gchord",tacet:!0});break;case"gchordon":v[R].push({el_type:"gchord",tacet:!1});break;case"beat":v[R].push({el_type:"beat",beats:O.params});break;case"nobeataccents":v[R].push({el_type:"beataccents",value:!1});break;case"beataccents":v[R].push({el_type:"beataccents",value:!0});break;case"vol":v[R].push({el_type:"vol",volume:O.params[0]});break;case"volinc":v[R].push({el_type:"volinc",volume:O.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",O.cmd,O)}z&&(v[0].push({el_type:"drum",params:{pattern:u,bars:d,intro:h,on:f}}),T=!0);break;default:console.log("MIDI: element type "+O.el_type+" not handled.")}}R++}}if(h)for(var $=i.getPickupLength(),W=0;W<v.length;W++){for(var oe=0;v[W][oe].el_type!=="note"&&v[W].length>oe;)oe++;if(v[W].length>oe)for(var X=0;X<h;X++)$===0||X<h-1?v[W].splice(oe,0,{el_type:"note",rest:{type:"rest"},duration:t},{el_type:"bar"}):v[W].splice(oe,0,{el_type:"note",rest:{type:"rest"},duration:t-$})}return v};function n(i){var s=.25;i.duration&&(s=i.duration[0]);var o=60;return i.bpm&&(o=i.bpm),s*o/.25}function r(i){var s;switch(i.type){case"common_time":s={el_type:"meter",num:4,den:4};break;case"cut_time":s={el_type:"meter",num:2,den:2};break;case"specified":s={el_type:"meter",num:i.value[0].num,den:i.value[0].den};break;default:s={el_type:"meter"}}return t=s.num/s.den,s}})();var eKe=mQ,yQ;(function(){var t,e,n,r,i,s,o,a=1,l,c,u,d,h,f,p={num:4,den:4},m,y,S,w=0,v=128,k,P,T,_=!1,E=!0,I=105,R=95,F=85,B=.25,D,A,N,L={},H=1/128;yQ=function(he,Se){Se||(Se={}),t=[],e=[0,0,0,0,0,0,0],r=!1,i=1,s=[],o=void 0,a=1,l=void 0,c=void 0,u=void 0,f=void 0,d={},p={num:4,den:4},m=[],S=he.length,y=!1,k=[],P=void 0,T=0,_=!!Se.chordsOff,E=!0,I=105,R=95,F=85,B=.25,D=void 0,A=void 0,N=[],L={},O(he);for(var Ce=0;Ce<he.length;Ce++){n=0,h=-1;var $e=he[Ce];u=[{cmd:"program",channel:Ce,instrument:l}],f=0,d={};for(var ke=0;ke<$e.length;ke++){var me=$e[ke];switch(me.el_type){case"note":z(me,Se.voicesOff);break;case"key":e=oe(me);break;case"meter":p=me,B=j(p);break;case"tempo":o?a=me.qpm?o/me.qpm:1:o=me.qpm;break;case"transpose":n=me.transpose;break;case"bar":m.length>0&&Ce===0&&(ge(),k=[]),T=0,t=[],Ce===0&&Ie(he.length+1);break;case"bagpipes":r=!0;break;case"instrument":if(l===void 0&&(l=me.program),c=me.program,u.length>0&&u[u.length-1].cmd==="program")u[u.length-1].instrument=me.program;else{var ye;for(ye=u.length-1;ye>=0&&u[ye].cmd!=="program";ye--);(ye<0||u[ye].instrument!==me.program)&&u.push({cmd:"program",channel:Ce,instrument:me.program})}break;case"channel":break;case"drum":L=Te(me.params);break;case"gchord":Se.chordsOff||(_=me.tacet);break;case"beat":I=me.beats[0],R=me.beats[1],F=me.beats[2];break;case"vol":D=me.volume;break;case"volinc":A=me.volume;break;case"beataccents":E=me.value;break;default:console.log("MIDI creation. Unknown el_type: "+me.el_type+`
`);break}}u[0].instrument===void 0&&(u[0].instrument=l||0),s.push(u),m.length>0&&(y=!0),N.length>0}return m.length>0&&s.push(m),N.length>0&&s.push(N),{tempo:o,instrument:l,tracks:s,totalDuration:G(s)}};function O(he){for(var Se=0;Se<he.length;Se++)for(var Ce=he[Se],$e=0;$e<Ce.length;$e++){var ke=Ce[$e];delete ke.currentTrackMilliseconds}}function G(he){for(var Se=0,Ce=0;Ce<he.length;Ce++){for(var $e=he[Ce],ke=0,me=0;me<$e.length;me++){var ye=$e[me];ye.duration&&(ke+=ye.duration)}Se=Math.max(Se,ke)}return Se}function j(he){switch(he.den){case 2:return .5;case 4:return .25;case 8:return .375;case 16:return .125}return .25}var J=["break","(break)","no chord","n.c.","tacet"];function Z(he){if(_)return"break";if(y||!he.chord||he.chord.length===0)return null;for(var Se=0;Se<he.chord.length;Se++){var Ce=he.chord[Se];if(Ce.position==="default")return Ce.name;if(J.indexOf(Ce.name.toLowerCase())>=0)return"break"}return null}function ae(){for(var he=0,Se=0;Se<u.length;Se++)u[Se].cmd==="move"&&(he+=u[Se].duration);return he}function z(he,Se){var Ce;D?(Ce=D,D=void 0):E?T===0?Ce=I:T%B<.001?Ce=R:Ce=F:Ce=R,A&&(Ce+=A,A=void 0),Ce<0&&(Ce=0),Ce>127&&(Ce=127);var $e=Se?0:Ce,ke=Z(he);if(ke){var me=se(ke);if(me){if(m.length===0){m.push({cmd:"program",channel:S,instrument:w});var ye=ae();ye>0&&m.push({cmd:"move",duration:ye*a})}P=me,k.push({chord:P,beat:T})}}he.startTriplet&&(i=he.tripletMultiplier);var Ee=(he.durationClass?he.durationClass:he.duration)*i;T+=Ee;var We;if(he.gracenotes){var je=r||h<0||u.length===0,et=je?Ee:u[h].duration;We=K(he.gracenotes,et),r||(Ee=Y(We,je,Ee,null,$e))}if(he.currentTrackMilliseconds||(he.currentTrackMilliseconds=[]),he.currentTrackMilliseconds.push(f/B/o*60*1e3),he.pitches){We&&r&&(Ee=Y(We,!0,Ee,null,$e));var Fe=[];he.midiPitches=[];for(var He=0;He<he.pitches.length;He++){var ot=he.pitches[He],pt=W(ot);if(Fe.push({pitch:pt,startTie:ot.startTie}),he.midiPitches.push({pitch:pt+60,durationInMeasures:Ee*a,volume:Ce,instrument:c}),!d[""+pt])u.push({cmd:"start",pitch:pt,volume:$e});else for(var It=u.length-1;It>=0;It--)if(u[It].cmd==="start"&&u[It].pitch===pt&&u[It].elem){for(var Gt=u[It].elem.midiPitches,Jt=0;Jt<Gt.length;Jt++)Gt[Jt].pitch-60===pt&&(Gt[Jt].durationInMeasures+=Ee*a);break}ot.startTie?(d[""+pt]=!0,u[u.length-1].elem=he):ot.endTie&&(d[""+pt]=!1)}if(he.gracenotes)for(var Fn=0;Fn<he.gracenotes.length;Fn++){he.midiGraceNotePitches=[];var _e=he.gracenotes[Fn];he.midiGraceNotePitches.push({pitch:W(_e)+60,durationInMeasures:0,volume:Ce,instrument:c})}var Ne=H,Ye=Ee-H;Ye<0&&(Ye=0,Ne=0),u.push({cmd:"move",duration:Ye*a}),h=u.length-1,f+=Ye*a;for(var ct=0;ct<Fe.length;ct++)d[""+Fe[ct].pitch]||u.push({cmd:"stop",pitch:Fe[ct].pitch});u.push({cmd:"move",duration:Ne*a}),f+=Ne*a}else he.rest&&(u.push({cmd:"move",duration:Ee*a}),f+=Ee*a);he.endTriplet&&(i=1)}var $=[0,2,4,5,7,9,11];function W(he){if(he.midipitch)return he.midipitch-60;var Se=he.pitch;if(he.accidental)switch(he.accidental){case"sharp":t[Se]=1;break;case"flat":t[Se]=-1;break;case"natural":t[Se]=0;break;case"dblsharp":t[Se]=2;break;case"dblflat":t[Se]=-2;break}var Ce=le(Se)*12+$[ie(Se)];return t[Se]!==void 0?Ce+=t[Se]:Ce+=e[ie(Se)],Ce+=n,Ce}function oe(he){var Se=[0,0,0,0,0,0,0];if(!he.accidentals)return Se;for(var Ce=0;Ce<he.accidentals.length;Ce++){var $e=he.accidentals[Ce],ke=$e.acc==="sharp"?1:$e.acc==="natural"?0:-1,me=$e.note.toLowerCase(),ye=ie(me.charCodeAt(0)-99);Se[ye]+=ke}return Se}var X=8;function K(he,Se){for(var Ce=0,$e=[],ke,me=0;me<he.length;me++)ke=he[me],Ce+=ke.duration;Ce=Ce/X;var ye=Ce*2>Se?Se/(Ce*2):1;for(me=0;me<he.length;me++){ke=he[me];var Ee=ke.midipitch?ke.midipitch-60:ke.pitch;$e.push({pitch:Ee,duration:ke.duration/X*ye})}return $e}function Y(he,Se,Ce,$e,ke){for(var me=0;me<he.length;me++){var ye=he[me];ye!==$e&&u.push({cmd:"start",pitch:ye.pitch,volume:ke}),u.push({cmd:"move",duration:he[me].duration*a}),ye!==$e&&u.push({cmd:"stop",pitch:ye.pitch}),Se||(u[h].duration-=he[me].duration),Ce-=he[me].duration}return Ce}function le(he){return Math.floor(he/7)}function ie(he){return he=he%7,he<0&&(he+=7),he}var re={A:-27,B:-25,C:-24,D:-22,E:-20,F:-19,G:-17};function se(he){if(he.length!==0){if(he==="break")return{chick:[]};var Se=he.substring(0,1);if(Se==="("){if(he=he.substring(1,he.length-2),he.length===0)return;Se=he.substring(0,1)}var Ce=re[Se];if(Ce){Ce+=n;var $e=Ce-5,ke;he.length===1&&(ke=we(Ce,""));var me=he.substring(1),ye=me.substring(0,1);ye==="b"||ye===""?(Ce--,$e--,me=me.substring(1)):(ye==="#"||ye==="")&&(Ce++,$e++,me=me.substring(1));var Ee=me.split("/");if(ke=we(Ce,Ee[0]),Ee.length===2){var We=re[Ee[1].substring(0,1)];if(We){var je=Ee[1].substring(1),et={"#":1,"":1,b:-1,"":-1}[je]||0;Ce=re[Ee[1].substring(0,1)]+et+n,$e=Ce}}return{boom:Ce,boom2:$e,chick:ke}}}}var ue={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,3,6,11],maj7b5:[0,3,6,11],"13(b5)":[0,4,6,10,14,18],"13b5":[0,4,6,10,14,18],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,16],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,4,7,10,14,16],13:[0,4,7,10,14,18],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,18],"7(9,13)":[0,4,7,10,14,18],"7(#9,b13)":[0,4,7,10,15,17],"7(#11)":[0,4,7,10,14,17],"7#11":[0,4,7,10,14,17],"7(b13)":[0,4,7,10,17],"7b13":[0,4,7,10,17],"9(#11)":[0,4,7,10,14,17],"9#11":[0,4,7,10,14,17],"13(#11)":[0,4,7,10,15,18],"13#11":[0,4,7,10,15,18],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,16],"maj7(#11)":[0,4,7,11,17],"maj7(13)":[0,4,7,11,18],"maj7(9,13)":[0,4,7,11,14,18],"7sus4":[0,5,7,10],m7sus4:[0,5,7,10],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,14],"13sus4":[0,5,7,18],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,14],"maj7#5#11":[0,4,8,11,14],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,18],"13#5":[0,4,8,10,14,18]};function we(he,Se){var Ce=ue[Se];Ce||(Ce=ue.M),he+=12;for(var $e=[],ke=0;ke<Ce.length;ke++)$e.push(he+Ce[ke]);return $e}function Pe(he,Se){he!==void 0&&m.push({cmd:"start",pitch:he,volume:64}),m.push({cmd:"move",duration:Se/2*a}),he!==void 0&&m.push({cmd:"stop",pitch:he}),m.push({cmd:"move",duration:Se/2*a})}function te(he,Se){for(var Ce=0;Ce<he.length;Ce++)m.push({cmd:"start",pitch:he[Ce],volume:48});for(m.push({cmd:"move",duration:Se/2*a}),Ce=0;Ce<he.length;Ce++)m.push({cmd:"stop",pitch:he[Ce]});m.push({cmd:"move",duration:Se/2*a})}var pe={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom2","","chick","boom2","","chick"]};function ge(){var he=p.num,Se=p.den,Ce=1/Se,$e=pe[he+"/"+Se],ke=parseInt(he,10)/parseInt(Se,10),me=Math.abs(ke-T);if(!$e||me>.0078125){$e=[];for(var ye=T/Ce,Ee=0;Ee<ye;Ee++)$e.push("chick")}if(k.length===0&&k.push({beat:0,chord:P}),k[0].beat!==0&&P&&k.unshift({beat:0,chord:P}),k.length===1){for(var We=0;We<$e.length;We++)switch($e[We]){case"boom":Pe(k[0].chord.boom,Ce);break;case"boom2":Pe(k[0].chord.boom2,Ce);break;case"chick":te(k[0].chord.chick,Ce);break;case"":m.push({cmd:"move",duration:Ce*a});break}return}for(var je={},et=0;et<k.length;et++){var Fe=k[et],He=Math.floor(Fe.beat/Ce);je[""+He]=Fe}for(var ot=0;ot<$e.length;ot++){var pt;switch(je[""+ot]&&(pt=je[""+ot]),$e[ot]){case"boom":je[""+(ot+1)]?te(pt.chord.chick,Ce):Pe(pt.chord.boom,Ce);break;case"boom2":je[""+(ot+1)]?te(pt.chord.chick,Ce):Pe(pt.chord.boom2,Ce);break;case"chick":te(pt.chord.chick,Ce);break;case"":je[""+ot]?te(pt.chord.chick,Ce):m.push({cmd:"move",duration:Ce*a});break}}}function Te(he){if(he.pattern.length===0||he.on===!1)return{on:!1};for(var Se=he.pattern[0],Ce=[],$e="",ke=0,me=0;me<Se.length;me++)if(Se[me]==="d"&&ke++,Se[me]==="d"||Se[me]==="z")$e.length!==0?(Ce.push($e),$e=Se[me]):$e=$e+Se[me];else{if($e.length===0)return{on:!1};$e=$e+Se[me]}if($e.length!==0&&Ce.push($e),he.pattern.length!==ke*2+1)return{on:!1};for(var ye={on:!0,bars:he.bars,pattern:[]},Ee=1/p.den,We=0,je=0;je<Ce.length;je++){$e=Ce[je];for(var et=1,Fe=!1,He=0,ot=1;ot<$e.length;ot++)switch($e[ot]){case"/":He!==0&&(et*=He),He=0,Fe=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":He=He*10+$e[ot];break;default:return{on:!1}}Fe?(He===0&&(He=2),et/=He):He&&(et*=He),$e[0]==="d"?(ye.pattern.push({len:et*Ee,pitch:he.pattern[1+We],velocity:he.pattern[1+We+ke]}),We++):ye.pattern.push({len:et*Ee,pitch:null})}for(var pt=0,It=p.num/p.den,Gt=0;Gt<ye.pattern.length;Gt++)pt+=ye.pattern[Gt].len;var Jt=he.bars?he.bars:1,Fn=pt/Jt/It;for(Gt=0;Gt<ye.pattern.length;Gt++)ye.pattern[Gt].len=ye.pattern[Gt].len/Fn;return ye}function Re(he,Se,Ce){N.push({cmd:"start",pitch:he-60,volume:Ce}),N.push({cmd:"move",duration:Se}),N.push({cmd:"stop",pitch:he-60})}function Ie(he){if(!(N.length===0&&!L.on)){var Se=p.num/p.den;if(N.length===0){N.push({cmd:"program",channel:he,instrument:v});var Ce=ae();if(Ce>0&&Ce<Se-.01){N.push({cmd:"move",duration:Ce*a});return}}if(!L.on){N.push({cmd:"move",duration:Se*a});return}for(var $e=0;$e<L.pattern.length;$e++){var ke=L.pattern[$e].len*a;L.pattern[$e].pitch?Re(L.pattern[$e].pitch,ke,L.pattern[$e].velocity):N.push({cmd:"move",duration:ke})}}}})();var tKe=yQ,nKe=zqe,rKe=pQ,iKe=Uqe,sKe=m6,ys=ZT,oKe=eP,pM=gQ,gM=g6,aKe=Zqe,lKe=eKe,cKe=tKe,ch="MIDI is not supported in this browser.",uKe="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/";function dKe(){var t=this;t.audioBufferPossible=void 0,t.directSource=[],t.startTimeSec=void 0,t.pausedTimeSec=void 0,t.audioBuffers=[],t.duration=void 0,t.isRunning=!1,t.init=function(e){e||(e={}),sKe(e.audioContext);var n=ys().currentTime;if(t.debugCallback=e.debugCallback,t.debugCallback&&t.debugCallback("init called"),t.audioBufferPossible=t._deviceCapable(),!t.audioBufferPossible)return Promise.reject({status:"NotSupported",message:ch});t.soundFontUrl=e.soundFontUrl?e.soundFontUrl:uKe,t.millisecondsPerMeasure=e.millisecondsPerMeasure?e.millisecondsPerMeasure:e.visualObj?e.visualObj.millisecondsPerMeasure():1e3;var r=e.options?e.options:{};if(t.meterSize=1,e.visualObj){var i=lKe(e.visualObj,r);t.flattened=cKe(i,r),t.meterSize=e.visualObj.getMeterFraction().num/e.visualObj.getMeterFraction().den}else if(e.sequence)t.flattened=e.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));t.sequenceCallback=r.sequenceCallback,t.callbackContext=r.callbackContext,t.onEnded=e.onEnded;var s={},o=gM[0];t.flattened.tracks.forEach(function(d){d.forEach(function(h){if(h.cmd==="program"&&gM[h.instrument]&&(o=gM[h.instrument]),h.pitch!==void 0){var f=h.pitch+60,p=pM[f];p?(s[o]||(s[o]={}),s[o][pM[f]]=!0):console.log("Can't find note: ",f)}})}),t.debugCallback&&t.debugCallback("note gathering time = "+Math.floor((ys().currentTime-n)*1e3)+"ms"),n=ys().currentTime;var a=[];Object.keys(s).forEach(function(d){Object.keys(s[d]).forEach(function(h){a.push({instrument:d,note:h})})});for(var l=[],c=256,u=0;u<a.length;u+=c)l.push(a.slice(u,u+c));return new Promise(function(d,h){var f=[],p=0,m=function(){p<l.length?t._loadBatch(l[p],t.soundFontUrl,n).then(function(y){n=ys().currentTime,f.push(y),p++,m()},h):d(f)};m()})},t._loadBatch=function(e,n,r){var i=[];return e.forEach(function(s){i.push(nKe(n,s.instrument,s.note,ys()))}),Promise.all(i).then(function(s){return t.debugCallback&&t.debugCallback("mp3 load time = "+Math.floor((ys().currentTime-r)*1e3)+"ms"),Promise.resolve(s)})},t.prime=function(){return t.isRunning=!1,t.audioBufferPossible?(t.debugCallback&&t.debugCallback("prime called"),new Promise(function(e){var n=ys().currentTime,r=t.millisecondsPerMeasure/1e3/t.meterSize;t.duration=t.flattened.totalDuration*r;var i=Math.floor(ys().sampleRate*t.duration);t.stop();var s=iKe(t.flattened);t.sequenceCallback&&t.sequenceCallback(s,t.callbackContext),t.audioBuffers=[],s.forEach(function(o){var a=ys().createBuffer(1,i,ys().sampleRate),l=a.getChannelData(0);o.forEach(function(c){t._placeNote(l,c,r,rKe)}),t.audioBuffers.push(a)}),t.debugCallback&&(t.debugCallback("sampleRate = "+ys().sampleRate),t.debugCallback("totalSamples = "+i),t.debugCallback("creationTime = "+Math.floor((ys().currentTime-n)*1e3)+"ms")),e({status:"ok",seconds:0})})):Promise.reject(new Error(ch))},t.start=function(){if(t.pausedTimeSec){t.resume();return}if(!t.audioBufferPossible)throw new Error(ch);t.debugCallback&&t.debugCallback("start called"),t._kickOffSound(0),t.startTimeSec=ys().currentTime,t.pausedTimeSec=void 0,t.debugCallback&&t.debugCallback("MIDI STARTED",t.startTimeSec)},t.pause=function(){if(!t.audioBufferPossible)throw new Error(ch);t.debugCallback&&t.debugCallback("pause called"),t.pausedTimeSec||(t.stop(),t.pausedTimeSec=ys().currentTime)},t.resume=function(){if(!t.audioBufferPossible)throw new Error(ch);t.debugCallback&&t.debugCallback("resume called");var e=t.pausedTimeSec-t.startTimeSec;t.startTimeSec=ys().currentTime-e,t.pausedTimeSec=void 0,t._kickOffSound(e)},t.seek=function(e){var n=t.duration*e;if(!t.audioBufferPossible)throw new Error(ch);t.debugCallback&&t.debugCallback("seek called sec="+n),t.isRunning&&(t.stop(),t._kickOffSound(n));var r=t.pausedTimeSec?t.pausedTimeSec-t.startTimeSec:void 0;t.startTimeSec=ys().currentTime-n,t.pausedTimeSec&&(t.pausedTimeSec=t.startTimeSec+r)},t.stop=function(){t.isRunning=!1,t.pausedTimeSec=void 0,t.directSource.forEach(function(e){try{e.stop()}catch(n){console.log("direct source didn't stop:",n)}}),t.directSource=[]},t.download=function(){return aKe(t)},t._deviceCapable=function(){return oKe()?!0:(console.warn(ch),t.debugCallback&&t.debugCallback(ch),!1)},t._kickOffSound=function(e){t.isRunning=!0,t.directSource=[],t.audioBuffers.forEach(function(n,r){t.directSource[r]=ys().createBufferSource(),t.directSource[r].buffer=n,t.directSource[r].connect(ys().destination)}),t.directSource.forEach(function(n){n.start(0,e)}),t.onEnded&&(t.directSource[0].onended=function(){t.onEnded(t.callbackContext)})},t._placeNote=function(e,n,r,i){var s=Math.floor(n.start*ys().sampleRate*r),o=n.end-n.start,a=o*r,l=pM[n.pitch+60];if(l)for(var c=i[n.instrument][l].getChannelData(0),u=Math.min(c.length,Math.floor(a*ys().sampleRate)),d=0;d<u;d++){var h=c[d]*n.volume/128;e[s+d]?e[s+d]=(e[s+d]+h)*.75:e[s+d]=h}}}var y6=dKe,hKe=function(){var t=this;t.tracks=[],t.totalDuration=0,t.addTrack=function(){return t.tracks.push([]),t.tracks.length-1},t.setInstrument=function(e,n){t.tracks[e].push({channel:0,cmd:"program",instrument:n})},t.appendNote=function(e,n,r,i){t.tracks[e].push({cmd:"start",pitch:n-60,volume:i}),t.tracks[e].push({cmd:"move",duration:r}),t.tracks[e].push({cmd:"stop",pitch:n-60});var s=0;t.tracks[e].forEach(function(o){o.duration&&(s+=o.duration)}),t.totalDuration=Math.max(t.totalDuration,s)}},bQ=hKe,fKe=eP,vQ=m6,qy=ZT,pKe=ec,gKe=`<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
<g transform="translate(0,700) scale(0.1,-0.1)" >
<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55 -42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128 -60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79 -50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60 -25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507 -15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21 -23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12 -47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33 -53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0 -90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51 153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48 107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57 74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52 100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45 143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29 165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34 115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33 -21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90 -277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138 115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191 50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21 7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17 -134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10 -41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66 50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73 39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53 -30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43 -131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339 -19z"></path>
<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0 -18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72 l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279 268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74 -61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19 -16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31 93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59 62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89 89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146 67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56 31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64 48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22 25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14 18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50 47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138 -61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10 -22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20 -32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19 -29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25 -15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18 -59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11 -99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168 16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71 37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108 63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65 61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86 12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030 0 -1086 -11z"></path>
</g>
</svg>
`,mKe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>`,yKe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>`,bKe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>`,vKe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>`;function wKe(t,e){var n=this;if(typeof t=="string"){var r=t;if(t=document.querySelector(r),!t)throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(t instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=t,n.options={},e&&(n.options=pKe.clone(e)),n.options.ac&&vQ(n.options.ac),xKe(n.parent,n.options),SKe(n),n.setTempo=function(s){var o=n.parent.querySelector(".abcjs-midi-current-tempo");o&&(o.innerHTML=s)},n.resetAll=function(){for(var s=n.parent.querySelectorAll(".abcjs-pushed"),o=0;o<s.length;o++){var a=s[o];a.classList.remove("abcjs-pushed")}},n.pushPlay=function(s){var o=n.parent.querySelector(".abcjs-midi-start");o&&(s?o.classList.add("abcjs-pushed"):o.classList.remove("abcjs-pushed"))},n.pushLoop=function(s){var o=n.parent.querySelector(".abcjs-midi-loop");o&&(s?o.classList.add("abcjs-pushed"):o.classList.remove("abcjs-pushed"))},n.setProgress=function(s,o){var a=n.parent.querySelector(".abcjs-midi-progress-background"),l=n.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!a||!l)){var c=a.clientWidth,u=c*s;l.style.left=u+"px";var d=n.parent.querySelector(".abcjs-midi-clock");if(d){var h=o*s/1e3,f=Math.floor(h/60),p=Math.floor(h%60),m=p<10?"0"+p:p;d.innerHTML=f+":"+m}}},n.options.afterResume){var i=!1;n.options.ac?i=n.options.ac.state!=="suspended":qy()&&(i=qy().state!=="suspended"),i&&n.options.afterResume()}}function xKe(t,e){var n=!!e.loopHandler,r=!!e.restartHandler,i=!!e.playHandler||!!e.playPromiseHandler,s=!!e.progressHandler,o=!!e.warpHandler,a=e.hasClock!==!1,l=`<div class="abcjs-inline-audio">
`;if(n){var c=e.repeatTitle?e.repeatTitle:"Click to toggle play once/repeat.",u=e.repeatAria?e.repeatAria:c;l+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+c+'" aria-label="'+u+'">'+gKe+`</button>
`}if(r){var d=e.restartTitle?e.restartTitle:"Click to go to beginning.",h=e.restartAria?e.restartAria:d;l+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+d+'" aria-label="'+h+'">'+vKe+`</button>
`}if(i){var f=e.playTitle?e.playTitle:"Click to play/pause.",p=e.playAria?e.playAria:f;l+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+f+'" aria-label="'+p+'">'+mKe+yKe+bKe+`</button>
`}if(s){var m=e.randomTitle?e.randomTitle:"Click to change the playback position.",y=e.randomAria?e.randomAria:m;l+='<button type="button" class="abcjs-midi-progress-background" title="'+m+'" aria-label="'+y+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(a&&(l+=`<span class="abcjs-midi-clock"></span>
`),o){var S=e.warpTitle?e.warpTitle:"Change the playback speed.",w=e.warpAria?e.warpAria:S,v=e.bpm?e.bpm:"BPM";l+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+S+'" aria-label="'+w+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+v+`)</span></span>
`}l+=`</div>
`,t.innerHTML=l}function ny(t,e,n,r,i){var s=!0;if(qy()?s=qy().state==="suspended":vQ(),!fKe())throw{status:"NotSupported",message:"This browser does not support audio."};(s||i)&&n&&n.classList.add("abcjs-loading"),s?qy().resume().then(function(){r?r().then(function(o){mM(t,e,n,i)}):mM(t,e,n,i)}):mM(t,e,n,i)}function mM(t,e,n,r){r?t(e).then(function(){n&&n.classList.remove("abcjs-loading")}):(t(e),n&&n.classList.remove("abcjs-loading"))}function SKe(t){var e=!!t.options.loopHandler,n=!!t.options.restartHandler,r=!!t.options.playHandler||!!t.options.playPromiseHandler,i=!!t.options.progressHandler,s=!!t.options.warpHandler,o=t.parent.querySelector(".abcjs-midi-start");e&&t.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(a){ny(t.options.loopHandler,a,o,t.options.afterResume)}),n&&t.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(a){ny(t.options.restartHandler,a,o,t.options.afterResume)}),r&&o.addEventListener("click",function(a){ny(t.options.playPromiseHandler||t.options.playHandler,a,o,t.options.afterResume,!!t.options.playPromiseHandler)}),i&&t.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(a){ny(t.options.progressHandler,a,o,t.options.afterResume)}),s&&t.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(a){ny(t.options.warpHandler,a,o,t.options.afterResume)})}var wQ=wKe,CKe=bQ,kKe=y6;function TKe(t,e,n){for(var r=new CKe,i=0;i<t.length;i++){var s=t[i],o=r.addTrack();if(r.setInstrument(o,s.instrument),i===0&&e)for(var a=0;a<e.length;a++){var l=e[a];r.appendNote(o,l.pitch,1/64,l.volume)}r.appendNote(o,s.pitch,s.durationInMeasures,s.volume)}var c=new kKe;return c.init({sequence:r,millisecondsPerMeasure:n}).then(function(){return c.prime()}).then(function(){return c.start()})}var PKe=TKe,_Ke=wQ,MKe=y6,EKe=s6;function BKe(){var t=this;t.warp=100,t.cursorControl=null,t.visualObj=null,t.timer=null,t.midiBuffer=null,t.options=null,t.currentTempo=null,t.control=null,t.isLooping=!1,t.isStarted=!1,t.isLoaded=!1,t.load=function(e,n,r){r||(r={}),t.control=new _Ke(e,{loopHandler:r.displayLoop?t.toggleLoop:void 0,restartHandler:r.displayRestart?t.restart:void 0,playPromiseHandler:r.displayPlay?t.play:void 0,progressHandler:r.displayProgress?t.randomAccess:void 0,warpHandler:r.displayWarp?t.onWarp:void 0,afterResume:t.init}),t.cursorControl=n},t.setTune=function(e,n,r){return t.isLoaded=!1,t.visualObj=e,t.options=r,t.control&&(t.pause(),t.setProgress(0,1),t.control.resetAll(),t.restart(),t.isStarted=!1),t.isLooping=!1,n?t.go():Promise.resolve({status:"no-audio-context"})},t.go=function(){var e=t.visualObj.millisecondsPerMeasure()*100/t.warp;return t.currentTempo=Math.round(t.visualObj.getBeatsPerMeasure()/e*6e4),t.control&&t.control.setTempo(t.currentTempo),t.percent=0,t.midiBuffer||(t.midiBuffer=new MKe),t.midiBuffer.init({visualObj:t.visualObj,options:t.options,millisecondsPerMeasure:e}).then(function(){return t.midiBuffer.prime()}).then(function(){var n=16;return t.cursorControl&&t.cursorControl.beatSubdivisions!==void 0&&parseInt(t.cursorControl.beatSubdivisions,10)>=1&&parseInt(t.cursorControl.beatSubdivisions,10)<=64&&(n=parseInt(t.cursorControl.beatSubdivisions,10)),t.timer=new EKe(t.visualObj,{beatCallback:t.beatCallback,eventCallback:t.eventCallback,lineEndCallback:t.lineEndCallback,qpm:t.currentTempo,extraMeasuresAtBeginning:t.cursorControl?t.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:t.cursorControl?t.cursorControl.lineEndAnticipation:void 0,beatSubdivisions:n}),t.cursorControl&&t.cursorControl.onReady&&typeof t.cursorControl.onReady=="function"&&t.cursorControl.onReady(t),t.isLoaded=!0,Promise.resolve({status:"created"})})},t.destroy=function(){t.timer&&(t.timer.reset(),t.timer.stop(),t.timer=null),t.midiBuffer&&(t.midiBuffer.stop(),t.midiBuffer=null),t.setProgress(0,1),t.control&&t.control.resetAll()},t.play=function(){return t.isLoaded?t._play():t.go().then(function(){return t._play()})},t._play=function(){return t.isStarted=!t.isStarted,t.isStarted?(t.cursorControl&&t.cursorControl.onStart&&typeof t.cursorControl.onStart=="function"&&t.cursorControl.onStart(),t.midiBuffer.start(),t.timer.start(),t.control&&t.control.pushPlay(!0)):t.pause(),Promise.resolve({status:"ok"})},t.pause=function(){t.timer&&(t.timer.pause(),t.midiBuffer.pause(),t.control&&t.control.pushPlay(!1))},t.toggleLoop=function(){t.isLooping=!t.isLooping,t.control&&t.control.pushLoop(t.isLooping)},t.restart=function(){t.timer&&(t.timer.setProgress(0),t.midiBuffer.seek(0))},t.randomAccess=function(e){return t.isLoaded?t._randomAccess(e):t.go().then(function(){return t._randomAccess(e)})},t._randomAccess=function(e){var n=e.target.classList.contains("abcjs-midi-progress-indicator")?e.target.parentNode:e.target,r=(e.x-n.offsetLeft)/n.offsetWidth;r<0&&(r=0),r>100&&(r=100),t.timer.setProgress(r),t.midiBuffer.seek(r)},t.onWarp=function(e){var n=e.target.value;if(parseInt(n,10)>0){t.warp=parseInt(n,10);var r=t.isStarted,i=t.percent;t.destroy(),t.isStarted=!1,t.go().then(function(){t.setProgress(i,t.midiBuffer.duration*1e3),r&&t.play(),t.timer.setProgress(i),t.midiBuffer.seek(i)})}},t.setProgress=function(e,n){t.percent=e,t.control&&t.control.setProgress(e,n)},t.finished=function(){t.timer.reset(),t.isLooping?(t.timer.start(),t.midiBuffer.start()):(t.timer.stop(),t.isStarted&&(t.control&&t.control.pushPlay(!1),t.isStarted=!1,t.cursorControl&&t.cursorControl.onFinished&&typeof t.cursorControl.onFinished=="function"&&t.cursorControl.onFinished(),t.setProgress(0,1)))},t.beatCallback=function(e,n,r){var i=e/n;t.setProgress(i,r),t.cursorControl&&t.cursorControl.onBeat&&typeof t.cursorControl.onBeat=="function"&&t.cursorControl.onBeat(e,n,r)},t.eventCallback=function(e){e?t.cursorControl&&t.cursorControl.onEvent&&typeof t.cursorControl.onEvent=="function"&&t.cursorControl.onEvent(e):t.finished()},t.lineEndCallback=function(e){t.cursorControl&&t.cursorControl.onLineEnd&&typeof t.cursorControl.onLineEnd=="function"&&t.cursorControl.onLineEnd(e)},t.getUrl=function(){return t.midiBuffer.download()},t.download=function(e){var n=t.getUrl(),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none;"),r.href=n,r.download=e||"output.wav",r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}}var xQ=BKe,Bi=function(t,e){this.elem=t,this.text="",this.l=1/8,this.reposition=e||!1};Bi.prototype.printString=function(t,e){this.reposition&&e&&(e.startChar=this.text.length),this.text+=t,this.reposition&&e&&(e.endChar=this.text.length)};Bi.prototype.printNewLine=function(){this.text+=`
`};Bi.prototype.printSpace=function(){this.text[this.text.length-1].match(/\s/)||(this.text+=" ")};Bi.prototype.printABC=function(t){this.text="",this.abctune=t,this.printHeader(),this.printBody(),this.elem.value=this.text};Bi.prototype.printHeader=function(){this.printHeaderLine("x","X","1"),this.printHeaderLine("title","T"),this.printHeaderLine("composer","C"),this.printHeaderLine("history","H"),this.printHeaderLine("author","A"),this.printHeaderLine("book","B"),this.printHeaderLine("discography","D"),this.printHeaderLine("url","F"),this.printHeaderLine("group","G"),this.printHeaderLine("instruction","I"),this.printHeaderLine("notes","N"),this.printHeaderLine("origin","O"),this.printHeaderLine("rhythm","R"),this.printHeaderLine("source","S"),this.printHeaderLine("unalignedwords","W"),this.printHeaderLine("transcription","Z"),this.printHeaderLine("NULL","L","1/8"),this.printHeaderLine("NULL","M",this.getMeterString(this.abctune.lines[0].staff[0].meter)),this.printHeaderLine("NULL","K",this.getKeyString(this.abctune.lines[0].staff[0].key))};Bi.prototype.getKeyString=function(t){return t.root+t.acc+t.mode};Bi.prototype.getMeterString=function(t){switch(t.type){case"cut_time":return"C|";case"common_time":return"C";case"specified":return t.value[0].den?t.value[0].num+"/"+t.value[0].den:t.value[0].num}return""};Bi.prototype.printHeaderLine=function(t,e,n){var r=this.abctune.metaText[t]||n;if(r!==void 0)for(var i=r.split(`
`),s=0;s<i.length;s++)this.printString(e+": "+i[s]),this.printNewLine()};Bi.prototype.getElem=function(){return this.abcline.length<=this.pos?null:this.abcline[this.pos]};Bi.prototype.getNextElem=function(){return this.abcline.length<=this.pos+1?null:this.abcline[this.pos+1]};Bi.prototype.printBody=function(){for(var t=0;t<this.abctune.lines.length;t++){var e=this.abctune.lines[t];e.staff?this.printABCLine(e.staff):e.subtitle&&t!==0||e.text}};Bi.prototype.printABCLine=function(t){for(this.s=0;this.s<t.length;this.s++)this.printABCStaff(t[this.s])};Bi.prototype.printABCStaff=function(t){for(this.v=0;this.v<t.voices.length;this.v++)this.printABCVoice(t.voices[this.v])};Bi.prototype.printABCVoice=function(t){for(this.abcline=t,this.pos=0;this.pos<this.abcline.length;this.pos++)this.printABCElement();this.printNewLine()};Bi.prototype.printABCElement=function(){var t=this.getElem();switch(t.el_type){case"note":this.printBeam();break;case"bar":this.printBarLine(t);break}};Bi.prototype.printBeam=function(){if(this.printSpace(),this.getElem().startBeam&&!this.getElem().endBeam)for(;this.getElem()&&(this.printNote(this.getElem()),!this.getElem().endBeam);)this.pos++;else this.printNote(this.getElem());this.printSpace()};Bi.prototype.printNote=function(t){var e="",n;if(t.chord!==void 0)for(n=0;n<t.chord.length;n++)e+='"'+t.chord[n].name+'"';var r={staccato:".",upbow:"u",downbow:"v",roll:"~",fermata:"H",slide:"J",accent:"L",mordent:"M",pralltriller:"P",trill:"T",lower:"."};if(t.decoration!==void 0)for(n=0;n<t.decoration.length;n++){var i=t.decoration[n];r[i]?e+=r[i]:(e+="!",e+=i,e+="!")}if(t.gracenotes!==void 0){for(e+="{",n=0;n<t.gracenotes.length;n++)e+=this.getNoteString(t.gracenotes[n]);e+="}"}var s=!1;if(t.pitches.length===1&&t.pitches[0].startSlur&&(s=!0,e+=this.multiplyString("(",t.pitches[0].startSlur.length)),t.startSlur&&(e+=this.multiplyString("(",t.startSlur.length)),(t.pitches.length===1&&t.pitches[0].endSlur||t.endSlur)&&(s=!0),t.startTriplet&&(e+="(3"),t.pitches){for(t.pitches.length>1&&(e+="["),n=0;n<t.pitches.length;n++)t.pitches[n].duration=t.duration,e+=this.getNoteString(t.pitches[n],s);t.pitches.length>1&&(e+="]")}t.pitches.length===1&&t.pitches[0].endSlur&&(e+=this.multiplyString(")",t.pitches[0].endSlur.length)),t.endSlur&&(e+=this.multiplyString(")",t.endSlur.length)),this.printString(e,t)};Bi.prototype.getNoteString=function(t,e){var n="";!e&&t.startSlur&&(n+="(");var r="";switch(t.accidental){case"quartersharp":r="^/";break;case"dblsharp":r="^^";break;case"sharp":r="^";break;case"quarterflat":r="_/";break;case"flat":r="_";break;case"dblflat":r="__";break;case"natural":r="="}n+=r;var i=["C","D","E","F","G","A","B"],s=i[this.extractNote(t.pitch)],o=this.extractOctave(t.pitch);if(o>0)for(s=s.toLowerCase(),o--;o>0;)s+="'",o--;else for(;o<0;)s+=",",o++;return n+=s,t.duration&&(n+=this.getDurationString(t.duration)),!e&&t.endSlur&&(n+=")"),t.startTie&&(n+="-"),n};Bi.prototype.getDurationString=function(t){if(t/this.l>1)return t/this.l;var e="";return this.l/t>1&&(e+="/",this.l/t>2&&(e+=this.l/t)),e};Bi.prototype.extractNote=function(t){var e=t%7;return e<0&&(e+=7),e};Bi.prototype.extractOctave=function(t){return Math.floor(t/7)};Bi.prototype.printBarLine=function(t){var e="";switch(t.type){case"bar_thin":e+="|";break;case"bar_thin_thick":e+="|]";break;case"bar_thin_thin":e+="||";break;case"bar_thick_thin":e+="[|";break;case"bar_dbl_repeat":e+=":||:";break;case"bar_left_repeat":e+="|:";break;case"bar_right_repeat":e+=":|";break;case"bar_invisible":e+="";break}this.printString(e,t)};Bi.prototype.multiplyString=function(t,e){for(var n="";e>0;e--)n+=t;return n};var NKe=Bi,SQ=c6.TuneBook,CQ=ec,kQ=l6,IKe=NKe,TQ=uQ,AKe=xQ,RKe=eP;if(typeof window.CustomEvent!="function"){var cH=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};cH.prototype=window.Event.prototype,window.CustomEvent=cH}var mf=function(t){this.textarea=document.getElementById(t),this.initialText=this.textarea.value,this.isDragging=!1};mf.prototype.addSelectionListener=function(t){this.textarea.onmousemove=function(e){this.isDragging&&t.fireSelectionChanged()}};mf.prototype.addChangeListener=function(t){this.changelistener=t,this.textarea.onkeyup=function(){t.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,t.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,t.fireChanged()},this.textarea.onchange=function(){t.fireChanged()}};mf.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};mf.prototype.setSelection=function(t,e){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(t,e);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}this.textarea.focus()};mf.prototype.getString=function(){return this.textarea.value};mf.prototype.setString=function(t){this.textarea.value=t,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};mf.prototype.getElem=function(){return this.textarea};var Ro=function(t,e){this.abcjsParams={};var n;if(e.abcjsParams)for(n in e.abcjsParams)e.abcjsParams.hasOwnProperty(n)&&(this.abcjsParams[n]=e.abcjsParams[n]);if(e.midi_options)for(n in e.midi_options)e.midi_options.hasOwnProperty(n)&&(this.abcjsParams[n]=e.midi_options[n]);if(e.parser_options)for(n in e.parser_options)e.parser_options.hasOwnProperty(n)&&(this.abcjsParams[n]=e.parser_options[n]);if(e.render_options)for(n in e.render_options)e.render_options.hasOwnProperty(n)&&(this.abcjsParams[n]=e.render_options[n]);e.indicate_changed&&(this.indicate_changed=!0),typeof t=="string"?this.editarea=new mf(t):this.editarea=t,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),e.canvas_id?this.div=document.getElementById(e.canvas_id):e.paper_id?this.div=document.getElementById(e.paper_id):(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),e.selectionChangeCallback&&(this.selectionChangeCallback=e.selectionChangeCallback),e.synth&&RKe()&&(this.synth={el:e.synth.el,cursorControl:e.synth.cursorControl,options:e.synth.options}),e.generate_midi&&(this.generate_midi=e.generate_midi,this.abcjsParams.generateDownload&&(typeof e.midi_download_id=="string"?this.downloadMidi=document.getElementById(e.midi_download_id):e.midi_download_id&&(this.downloadMidi=e.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof e.midi_id=="string"?this.inlineMidi=document.getElementById(e.midi_id):e.midi_id&&(this.inlineMidi=e.midi_id))),(e.generate_warnings||e.warnings_id)&&(e.warnings_id?this.warningsdiv=document.getElementById(e.warnings_id):this.warningsdiv=this.div),this.onchangeCallback=e.onchange,e.gui&&(this.target=document.getElementById(t),this.abcjsParams.editable=!0),this.oldt="",this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(r,i){var s=function(o,a){var l=o.className;return l.length>0&&(l===a||new RegExp("(^|\\s)"+a+"(\\s|$)").test(l))};return s(r,i)||(r.className+=(r.className?" ":"")+i),r},this.removeClassName=function(r,i){return r.className=CQ.strip(r.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," ")),r},this.setReadOnly=function(r){var i="abc_textarea_readonly",s=this.editarea.getElem();r?(s.setAttribute("readonly","yes"),this.addClassName(s,i)):(s.removeAttribute("readonly"),this.removeClassName(s,i))}};Ro.prototype.renderTune=function(t,e,n){var r=new SQ(t),i=kQ();i.parse(r.tunes[0].abc,e,r.tunes[0].startPos-r.header.length);var s=i.getTune(),o=new TQ(n,this.abcjsParams);o.engraveABC(s)};Ro.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var t=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(t)}this.synth&&(this.synth.synthControl||(this.synth.synthControl=new AKe,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],!1))};Ro.prototype.modelChanged=function(){if(this.tunes===void 0){this.downloadMidi!==void 0&&(this.downloadMidi.innerHTML=""),this.inlineMidi!==void 0&&(this.inlineMidi.innerHTML=""),this.div.innerHTML="";return}if(!this.bReentry){if(this.bReentry=!0,this.timerId=null,this.div.innerHTML="",this.engraver_controller=new TQ(this.div,this.abcjsParams),this.engraver_controller.engraveABC(this.tunes),this.tunes[0].engraver=this.engraver_controller,this.redrawMidi(),this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.target){var t=new IKe(this.target,!0);t.printABC(this.tunes[0])}this.engraver_controller.addSelectListener(this.highlight.bind(this)),this.updateSelection(),this.bReentry=!1}};Ro.prototype.paramChanged=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this.abcjsParams[e]=t[e]);this.oldt="",this.fireChanged()};Ro.prototype.parseABC=function(){var t=this.editarea.getString();if(t===this.oldt)return this.updateSelection(),!1;if(this.oldt=t,t==="")return this.tunes=void 0,this.warnings="",!0;var e=new SQ(t);this.tunes=[],this.startPos=[],this.warnings=[];for(var n=0;n<e.tunes.length;n++){var r=new kQ;r.parse(e.tunes[n].abc,this.abcjsParams,e.tunes[n].startPos-e.header.length),this.tunes[n]=r.getTune(),this.startPos[n]=e.tunes[n].startPos;for(var i=r.getWarnings()||[],s=0;s<i.length;s++)this.warnings.push(i[s])}return!0};Ro.prototype.updateSelection=function(){var t=this.editarea.getSelection();try{this.engraver_controller.rangeHighlight(t.start,t.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(t.start,t.end)};Ro.prototype.fireSelectionChanged=function(){this.updateSelection()};Ro.prototype.setDirtyStyle=function(t){if(this.indicate_changed!==void 0){var e=function(s,o){var a=function(l,c){var u=l.className;return u.length>0&&(u===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(u))};return a(s,o)||(s.className+=(s.className?" ":"")+o),s},n=function(s,o){return s.className=CQ.strip(s.className.replace(new RegExp("(^|\\s+)"+o+"(\\s+|$)")," ")),s},r="abc_textarea_dirty",i=this.editarea.getElem();t?e(i,r):n(i,r)}};Ro.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){t.modelChanged()},300);var e=this.isDirty();this.wasDirty!==e&&(this.wasDirty=e,this.setDirtyStyle(e)),this.onchangeCallback&&this.onchangeCallback(this)}};Ro.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};Ro.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};Ro.prototype.highlight=function(t,e,n){this.editarea.setSelection(t.startChar,t.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(t.startChar,t.endChar)};Ro.prototype.pause=function(t){this.bIsPaused=t,t||this.fireChanged()};Ro.prototype.millisecondsPerMeasure=function(){return this.synth.synthControl.visualObj.millisecondsPerMeasure()};Ro.prototype.pauseMidi=function(t){this.midiPause=t,t||this.redrawMidi()};var LKe=Ro,DKe=cXe,uH=hXe,dH=c6,Gd={};Gd.signature="abcjs-basic v"+DKe;Object.keys(uH).forEach(function(t){Gd[t]=uH[t]});Object.keys(dH).forEach(function(t){Gd[t]=dH[t]});Gd.renderAbc=$qe;Gd.TimingCallbacks=s6;var FKe=t0;Gd.setGlyph=FKe.setSymbol;var OKe=y6,$Ke=g6,HKe=gQ,VKe=bQ,zKe=wQ,WKe=m6,GKe=ZT,UKe=eP,jKe=PKe,YKe=xQ;Gd.synth={CreateSynth:OKe,instrumentIndexToName:$Ke,pitchToNoteName:HKe,SynthController:YKe,SynthSequence:VKe,CreateSynthControl:zKe,registerAudioContext:WKe,activeAudioContext:GKe,supportsAudio:UKe,playEvent:jKe};var XKe=LKe;Gd.Editor=XKe;var qKe=Gd;const hH=Pa(qKe);function W5(){return W5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W5.apply(this,arguments)}var PQ=function(e){var n=e.isPlaying,r=e.notation,i=e.bpm,s=e.scale,o=s===void 0?1:s,a=e.className,l=e.onBeat,c=e.onEvent,u=e.onLineEnd,d=cn.useRef();return r?(cn.useEffect(function(){var h=hH.renderAbc("paper",r,{add_classes:!0,scale:o,staffwidth:1200});d.current=new hH.TimingCallbacks(h[0],{qpm:i,beatSubdivisions:4,beatCallback:function(p,m,y){typeof l=="function"&&l(p,m,y)},lineEndCallback:function(p){typeof u=="function"&&u(p)},eventCallback:function(p){if(typeof c=="function")if(p===null)c(null);else{var m=r.slice(p.startChar,p.endChar);c(W5({},p,{note:m}))}return null}})},[JSON.stringify(r)]),cn.useEffect(function(){d&&d.current&&(n?d.current.start():d.current.stop())},[n]),cn.createElement(cn.Fragment,null,cn.createElement("div",{id:"paper",className:a||""}),cn.createElement("style",null,`
          #paper .abcjs-note, #paper .abcjs-rest {
            transition: 0.2s;
          }

          #paper .abcjs-note-playing {
            fill: #d10fc9;
          }
        `))):null};const KKe=new AudioContext,fH=new Sje(KKe,{instrument:"choir_aahs"});function QKe(t){const e=b.useRef(null),n=b.useRef(null),[r,i]=b.useState(!1),[s,o]=b.useState(pd.harmoniesFromNamedChords(t.chords)),{bass:a,tenor:l,alto:c,soprano:u}=q8.individualParts(s),d=`
  K:C
    %%score V1 V2 VA CL
    V:S clef=treble name="Soprano"
    V:A clef=treble name="Alto"
    V:T clef=bass name="Tenor"
    V:B clef=bass name="Bass"
  [V:S]     ${u.map(wn.toABC).join("")}
  [V:A]     ${c.map(wn.toABC).join("")}
  [V:T]     ${l.map(wn.toABC).join("")}
  [V:B]     ${a.map(wn.toABC).join("")}`;return b.useEffect(()=>{var h;if(e.current){n.current=new Hm(e.current,{core:{fontDirectory:"./font/",includeNoteBounds:!0},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let f=0;const p=dm(Mt("G"),to.mode(Yb.Dorian)).concat(dm(Mt("G"),to.mode(Yb.Dorian))[0]).map(S=>{const w=Cm.generate(S.root,S.quality,6,zt.Root).find(v=>v.notes[0].fret>f);return f=(w==null?void 0:w.notes[0].fret)??0,w});Mt("C");const m=t.chords.map(S=>Cm.generate(S.root,S.quality,6,zt.Root)[0]);console.log("Bounds: ",(h=n.current.renderer.boundsLookup)==null?void 0:h.findMasterBarByIndex(0)),Mt("C");const y=`

      
      \\track "Piano with Grand Staff" "pno."
    \\staff{score} \\tuning piano \\instrument 52 \\tempo 60
    
    ${q8.toTex(s)} 
    
    `;console.log(y),n.current.isLooping=!0,n.current.playbackSpeed=1,n.current.tex(y),console.log("api",n.current)}return()=>{var f;(f=n.current)==null||f.destroy()}},[s]),console.log({abc:d}),C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:C.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),C.jsxs("div",{style:{display:"flex"},children:[C.jsx(Oh,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(h,f)=>{n.current&&(n.current.playbackSpeed=f)},children:"Tempo"}),C.jsx(PQ,{onEvent:h=>{console.log(h),fH.stop(),h&&wn.fromManyABC(h.note).forEach(f=>fH.start(wn.toMidiNumber(f)))},onBeat:h=>console.log("beat",h),isPlaying:r,notation:d,bpm:30})]}),C.jsx(ni,{onClick:()=>{var h;(h=n.current)==null||h.playPause()},children:"Play/Pause"}),C.jsx(ni,{onClick:()=>o(pd.harmoniesFromNamedChords(t.chords)),children:"Regenerate"})]})}const JKe=[Mt("C"),Mt("D",ei.Flat),Mt("D"),Mt("E",ei.Flat),Mt("E"),Mt("F"),Mt("G",ei.Flat),Mt("G"),Mt("A",ei.Flat),Mt("A"),Mt("B",ei.Flat),Mt("B")],ZKe=[En.Maj7,En.Dom7,En.Min7,En.Half,En.Full,En.Maj,En.Min];function eQe(){const[t,e]=b.useState(0),[n,r]=b.useState(En.Maj7),[i,s]=b.useState([]),[o,a]=b.useState(!1),[l,c]=b.useState(4),{isMobile:u}=ZK();function d(){const h=RY(l+1,1,1,{mustHaveSecondaryDominant:!0}),f=h[Math.floor(Math.random()*h.length)];f.pop(),s(f.map(p=>Ip.fromKeyAndScaleDegree({note:Mt("C"),scale:to.MajorScale},p)))}return C.jsxs(Dd,{title:"Progression",children:[C.jsxs("div",{style:{padding:"30px",display:"flex",flexDirection:"column"},children:[C.jsx(GF,{row:!0,value:t,onChange:(h,f)=>e(parseInt(f)),children:JKe.map(h=>C.jsx(Cb,{value:Sn.toNoteNumber(h),control:C.jsx(WF,{}),label:Sn.toDisplayString(h)}))}),C.jsx(GF,{row:!0,value:n,onChange:(h,f)=>r(f),children:ZKe.map(h=>C.jsx(Cb,{value:h,control:C.jsx(WF,{}),label:h}))}),C.jsx(ni,{onClick:()=>s([...i,{root:$h.toNote(t),quality:n}]),children:"Add Chord"}),i.map(h=>C.jsx("div",{style:{backgroundColor:"greenyellow",width:100,height:30},children:Ip.toLeadSheet(h)})),C.jsx(ni,{onClick:()=>a(!0),children:"Play"}),C.jsx(Ei,{onClick:()=>s([]),children:C.jsx(JG,{})}),C.jsx(ni,{onClick:d,children:"Random"}),C.jsx("div",{style:{height:40}}),C.jsx(Oh,{min:1,max:8,valueLabelDisplay:"on",value:l,onChange:(h,f)=>c(f),children:"Length"}),C.jsx(ni,{onClick:()=>console.log(RI([1,2,3])),children:"Generate possibilities"})]}),o&&C.jsxs(Iv,{maxWidth:"lg",fullScreen:u,open:o,onClose:()=>a(!1),children:[C.jsx(Ei,{onClick:()=>a(!1),sx:{position:"absolute",right:9,top:9,color:h=>h.palette.grey[600]},children:C.jsx(Fm,{})}),C.jsx(QKe,{chords:i})]})]})}const tQe=new AudioContext,pH=new Y4(tQe);function nQe(){const[t,e]=b.useState(!1);return C.jsxs(C.Fragment,{children:[C.jsx(PQ,{onEvent:n=>{console.log(n),pH.stop(),n&&wn.fromManyABC(n.note).forEach(r=>pH.start(wn.toMidiNumber(r)))},isPlaying:t,notation:"|[FAce]| A| B",bpm:70}),C.jsx(ni,{onClick:()=>e(!t),children:"Play/Pause"})]})}function rQe(){function t(n){if(n.data){const r=n.data[1],i=n.data[2];if(console.log(r,i),i>0)switch(r){case 48:e("resources/bro2.mp3");break;case 45:e("resources/GET OUT (sound effect).mp3");break;case 51:e("resources/let him cook.mp3");break;case 49:e("resources/RIZZ Sound Effect-[AudioTrimmer.com].mp3")}}}const e=n=>{new Audio(n).play()};return b.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach(s=>{s.onmidimessage=t})})().catch(console.error)},[]),C.jsx("div",{children:"Podcast"})}function iQe(){const t=gle([{path:"/",element:C.jsx(A2e,{}),children:[]},{path:"/todo",element:C.jsx(L2e,{})},{path:"/counter",element:C.jsx(hke,{})},{path:"/rating",element:C.jsx(fke,{})},{path:"/layout",element:C.jsx(pke,{})},{path:"/shifts",element:C.jsx(dEe,{})},{path:"/music",element:C.jsx(sXe,{})},{path:"/progression",element:C.jsx(eQe,{})},{path:"/math",element:C.jsx(VUe,{})},{path:"/quiz",element:C.jsx(GUe,{})},{path:"/piano",element:C.jsx(aXe,{})},{path:"/interval",element:C.jsx(eXe,{})},{path:"/sheet",element:C.jsx(nQe,{})},{path:"/melody",element:C.jsx(RIe,{})},{path:"/monopoly",element:C.jsx(OIe,{})},{path:"/monopoly-results",element:C.jsx($Ue,{})},{path:"/podcast",element:C.jsx(rQe,{})}]);return C.jsx(YN,{dateAdapter:PEe,children:C.jsx(kle,{router:t})})}const sQe=GCe({reducer:{counter:dke}});yM.createRoot(document.getElementById("root")).render(C.jsx(cn.StrictMode,{children:C.jsx(nCe,{store:sQe,children:C.jsx(iQe,{})})}));
