function o5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var l5={exports:{}},mx={},u5={exports:{}},Hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=Symbol.for("react.element"),kX=Symbol.for("react.portal"),CX=Symbol.for("react.fragment"),_X=Symbol.for("react.strict_mode"),TX=Symbol.for("react.profiler"),PX=Symbol.for("react.provider"),BX=Symbol.for("react.context"),MX=Symbol.for("react.forward_ref"),NX=Symbol.for("react.suspense"),EX=Symbol.for("react.memo"),RX=Symbol.for("react.lazy"),I2=Symbol.iterator;function DX(t){return t===null||typeof t!="object"?null:(t=I2&&t[I2]||t["@@iterator"],typeof t=="function"?t:null)}var c5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d5=Object.assign,h5={};function Sp(t,e,r){this.props=t,this.context=e,this.refs=h5,this.updater=r||c5}Sp.prototype.isReactComponent={};Sp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f5(){}f5.prototype=Sp.prototype;function IP(t,e,r){this.props=t,this.context=e,this.refs=h5,this.updater=r||c5}var LP=IP.prototype=new f5;LP.constructor=IP;d5(LP,Sp.prototype);LP.isPureReactComponent=!0;var L2=Array.isArray,p5=Object.prototype.hasOwnProperty,FP={current:null},g5={key:!0,ref:!0,__self:!0,__source:!0};function m5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)p5.call(e,n)&&!g5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Iy,type:t,key:s,ref:a,props:i,_owner:FP.current}}function IX(t,e){return{$$typeof:Iy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function AP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iy}function LX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var F2=/\/+/g;function Ik(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LX(""+t.key):e.toString(36)}function dv(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Iy:case kX:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ik(a,0):n,L2(i)?(r="",t!=null&&(r=t.replace(F2,"$&/")+"/"),dv(i,e,r,"",function(u){return u})):i!=null&&(AP(i)&&(i=IX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(F2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",L2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Ik(s,o);a+=dv(s,e,r,l,i)}else if(l=DX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Ik(s,o++),a+=dv(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sb(t,e,r){if(t==null)return t;var n=[],i=0;return dv(t,n,"","",function(s){return e.call(r,s,i++)}),n}function FX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hs={current:null},hv={transition:null},AX={ReactCurrentDispatcher:Hs,ReactCurrentBatchConfig:hv,ReactCurrentOwner:FP};Hr.Children={map:sb,forEach:function(t,e,r){sb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return sb(t,function(){e++}),e},toArray:function(t){return sb(t,function(e){return e})||[]},only:function(t){if(!AP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Hr.Component=Sp;Hr.Fragment=CX;Hr.Profiler=TX;Hr.PureComponent=IP;Hr.StrictMode=_X;Hr.Suspense=NX;Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AX;Hr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=d5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=FP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)p5.call(e,l)&&!g5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Iy,type:t.type,key:i,ref:s,props:n,_owner:a}};Hr.createContext=function(t){return t={$$typeof:BX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PX,_context:t},t.Consumer=t};Hr.createElement=m5;Hr.createFactory=function(t){var e=m5.bind(null,t);return e.type=t,e};Hr.createRef=function(){return{current:null}};Hr.forwardRef=function(t){return{$$typeof:MX,render:t}};Hr.isValidElement=AP;Hr.lazy=function(t){return{$$typeof:RX,_payload:{_status:-1,_result:t},_init:FX}};Hr.memo=function(t,e){return{$$typeof:EX,type:t,compare:e===void 0?null:e}};Hr.startTransition=function(t){var e=hv.transition;hv.transition={};try{t()}finally{hv.transition=e}};Hr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Hr.useCallback=function(t,e){return Hs.current.useCallback(t,e)};Hr.useContext=function(t){return Hs.current.useContext(t)};Hr.useDebugValue=function(){};Hr.useDeferredValue=function(t){return Hs.current.useDeferredValue(t)};Hr.useEffect=function(t,e){return Hs.current.useEffect(t,e)};Hr.useId=function(){return Hs.current.useId()};Hr.useImperativeHandle=function(t,e,r){return Hs.current.useImperativeHandle(t,e,r)};Hr.useInsertionEffect=function(t,e){return Hs.current.useInsertionEffect(t,e)};Hr.useLayoutEffect=function(t,e){return Hs.current.useLayoutEffect(t,e)};Hr.useMemo=function(t,e){return Hs.current.useMemo(t,e)};Hr.useReducer=function(t,e,r){return Hs.current.useReducer(t,e,r)};Hr.useRef=function(t){return Hs.current.useRef(t)};Hr.useState=function(t){return Hs.current.useState(t)};Hr.useSyncExternalStore=function(t,e,r){return Hs.current.useSyncExternalStore(t,e,r)};Hr.useTransition=function(){return Hs.current.useTransition()};Hr.version="18.2.0";u5.exports=Hr;var C=u5.exports;const Lt=za(C),eh=o5({__proto__:null,default:Lt},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OX=C,$X=Symbol.for("react.element"),VX=Symbol.for("react.fragment"),zX=Object.prototype.hasOwnProperty,WX=OX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HX={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)zX.call(e,n)&&!HX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$X,type:t,key:s,ref:a,props:i,_owner:WX.current}}mx.Fragment=VX;mx.jsx=y5;mx.jsxs=y5;l5.exports=mx;var k=l5.exports,T_={},b5={exports:{}},Wa={},v5={exports:{}},w5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,U){var q=A.length;A.push(U);e:for(;0<q;){var ae=q-1>>>1,ne=A[ae];if(0<i(ne,U))A[ae]=U,A[q]=ne,q=ae;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],q=A.pop();if(q!==U){A[0]=q;e:for(var ae=0,ne=A.length,ge=ne>>>1;ae<ge;){var fe=2*(ae+1)-1,J=A[fe],ce=fe+1,Se=A[ce];if(0>i(J,q))ce<ne&&0>i(Se,J)?(A[ae]=Se,A[ce]=q,ae=ce):(A[ae]=J,A[fe]=q,ae=fe);else if(ce<ne&&0>i(Se,q))A[ae]=Se,A[ce]=q,ae=ce;else break e}}return U}function i(A,U){var q=A.sortIndex-U.sortIndex;return q!==0?q:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,g=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=A)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function P(A){if(y=!1,w(A),!m)if(r(l)!==null)m=!0,H(T);else{var U=r(u);U!==null&&W(P,U.startTime-A)}}function T(A,U){m=!1,y&&(y=!1,x(E),E=-1),g=!0;var q=f;try{for(w(U),h=r(l);h!==null&&(!(h.expirationTime>U)||A&&!F());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ne=ae(h.expirationTime<=U);U=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(l)&&n(l),w(U)}else n(l);h=r(l)}if(h!==null)var ge=!0;else{var fe=r(u);fe!==null&&W(P,fe.startTime-U),ge=!1}return ge}finally{h=null,f=q,g=!1}}var _=!1,M=null,E=-1,D=5,L=-1;function F(){return!(t.unstable_now()-L<D)}function z(){if(M!==null){var A=t.unstable_now();L=A;var U=!0;try{U=M(!0,A)}finally{U?V():(_=!1,M=null)}}else _=!1}var V;if(typeof v=="function")V=function(){v(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,I=O.port2;O.port1.onmessage=z,V=function(){I.postMessage(null)}}else V=function(){b(z,0)};function H(A){M=A,_||(_=!0,V())}function W(A,U){E=b(function(){A(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,H(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return A()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=f;f=A;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(A,U,q){var ae=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=q+ne,A={id:c++,callback:U,priorityLevel:A,startTime:q,expirationTime:ne,sortIndex:-1},q>ae?(A.sortIndex=q,e(u,A),r(l)===null&&A===r(u)&&(y?(x(E),E=-1):y=!0,W(P,q-ae))):(A.sortIndex=ne,e(l,A),m||g||(m=!0,H(T))),A},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(A){var U=f;return function(){var q=f;f=U;try{return A.apply(this,arguments)}finally{f=q}}}})(w5);v5.exports=w5;var UX=v5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5=C,La=UX;function it(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S5=new Set,Cm={};function yh(t,e){Gf(t,e),Gf(t+"Capture",e)}function Gf(t,e){for(Cm[t]=e,t=0;t<e.length;t++)S5.add(e[t])}var Bu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P_=Object.prototype.hasOwnProperty,GX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A2={},O2={};function jX(t){return P_.call(O2,t)?!0:P_.call(A2,t)?!1:GX.test(t)?O2[t]=!0:(A2[t]=!0,!1)}function YX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XX(t,e,r,n){if(e===null||typeof e>"u"||YX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Us(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var gs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gs[t]=new Us(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gs[e]=new Us(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gs[t]=new Us(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gs[t]=new Us(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gs[t]=new Us(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gs[t]=new Us(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gs[t]=new Us(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gs[t]=new Us(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gs[t]=new Us(t,5,!1,t.toLowerCase(),null,!1,!1)});var OP=/[\-:]([a-z])/g;function $P(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OP,$P);gs[e]=new Us(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OP,$P);gs[e]=new Us(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OP,$P);gs[e]=new Us(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gs[t]=new Us(t,1,!1,t.toLowerCase(),null,!1,!1)});gs.xlinkHref=new Us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gs[t]=new Us(t,1,!1,t.toLowerCase(),null,!0,!0)});function VP(t,e,r,n){var i=gs.hasOwnProperty(e)?gs[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XX(e,r,i,n)&&(r=null),n||i===null?jX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vu=x5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ab=Symbol.for("react.element"),hf=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),zP=Symbol.for("react.strict_mode"),B_=Symbol.for("react.profiler"),k5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),WP=Symbol.for("react.forward_ref"),M_=Symbol.for("react.suspense"),N_=Symbol.for("react.suspense_list"),HP=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),_5=Symbol.for("react.offscreen"),$2=Symbol.iterator;function ig(t){return t===null||typeof t!="object"?null:(t=$2&&t[$2]||t["@@iterator"],typeof t=="function"?t:null)}var Jn=Object.assign,Lk;function Og(t){if(Lk===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Lk=e&&e[1]||""}return`
`+Lk+t}var Fk=!1;function Ak(t,e){if(!t||Fk)return"";Fk=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Fk=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Og(t):""}function qX(t){switch(t.tag){case 5:return Og(t.type);case 16:return Og("Lazy");case 13:return Og("Suspense");case 19:return Og("SuspenseList");case 0:case 2:case 15:return t=Ak(t.type,!1),t;case 11:return t=Ak(t.type.render,!1),t;case 1:return t=Ak(t.type,!0),t;default:return""}}function E_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ff:return"Fragment";case hf:return"Portal";case B_:return"Profiler";case zP:return"StrictMode";case M_:return"Suspense";case N_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C5:return(t.displayName||"Context")+".Consumer";case k5:return(t._context.displayName||"Context")+".Provider";case WP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case HP:return e=t.displayName||null,e!==null?e:E_(t.type)||"Memo";case yc:e=t._payload,t=t._init;try{return E_(t(e))}catch{}}return null}function KX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E_(e);case 8:return e===zP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QX(t){var e=T5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ob(t){t._valueTracker||(t._valueTracker=QX(t))}function P5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=T5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function R_(t,e){var r=e.checked;return Jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function V2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B5(t,e){e=e.checked,e!=null&&VP(t,"checked",e,!1)}function D_(t,e){B5(t,e);var r=zc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I_(t,e.type,r):e.hasOwnProperty("defaultValue")&&I_(t,e.type,zc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function I_(t,e,r){(e!=="number"||Gv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $g=Array.isArray;function Nf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function L_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(it(91));return Jn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(it(92));if($g(r)){if(1<r.length)throw Error(it(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zc(r)}}function M5(t,e){var r=zc(e.value),n=zc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function H2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lb,E5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lb=lb||document.createElement("div"),lb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _m(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JX=["Webkit","ms","Moz","O"];Object.keys(Qg).forEach(function(t){JX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qg[e]=Qg[t]})});function R5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qg.hasOwnProperty(t)&&Qg[t]?(""+e).trim():e+"px"}function D5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=R5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var ZX=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A_(t,e){if(e){if(ZX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(it(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(it(61))}if(e.style!=null&&typeof e.style!="object")throw Error(it(62))}}function O_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $_=null;function UP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V_=null,Ef=null,Rf=null;function U2(t){if(t=Ay(t)){if(typeof V_!="function")throw Error(it(280));var e=t.stateNode;e&&(e=xx(e),V_(t.stateNode,t.type,e))}}function I5(t){Ef?Rf?Rf.push(t):Rf=[t]:Ef=t}function L5(){if(Ef){var t=Ef,e=Rf;if(Rf=Ef=null,U2(t),e)for(t=0;t<e.length;t++)U2(e[t])}}function F5(t,e){return t(e)}function A5(){}var Ok=!1;function O5(t,e,r){if(Ok)return t(e,r);Ok=!0;try{return F5(t,e,r)}finally{Ok=!1,(Ef!==null||Rf!==null)&&(A5(),L5())}}function Tm(t,e){var r=t.stateNode;if(r===null)return null;var n=xx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(it(231,e,typeof r));return r}var z_=!1;if(Bu)try{var sg={};Object.defineProperty(sg,"passive",{get:function(){z_=!0}}),window.addEventListener("test",sg,sg),window.removeEventListener("test",sg,sg)}catch{z_=!1}function eq(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Jg=!1,jv=null,Yv=!1,W_=null,tq={onError:function(t){Jg=!0,jv=t}};function rq(t,e,r,n,i,s,a,o,l){Jg=!1,jv=null,eq.apply(tq,arguments)}function nq(t,e,r,n,i,s,a,o,l){if(rq.apply(this,arguments),Jg){if(Jg){var u=jv;Jg=!1,jv=null}else throw Error(it(198));Yv||(Yv=!0,W_=u)}}function bh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G2(t){if(bh(t)!==t)throw Error(it(188))}function iq(t){var e=t.alternate;if(!e){if(e=bh(t),e===null)throw Error(it(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return G2(i),t;if(s===n)return G2(i),e;s=s.sibling}throw Error(it(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(it(189))}}if(r.alternate!==n)throw Error(it(190))}if(r.tag!==3)throw Error(it(188));return r.stateNode.current===r?t:e}function V5(t){return t=iq(t),t!==null?z5(t):null}function z5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z5(t);if(e!==null)return e;t=t.sibling}return null}var W5=La.unstable_scheduleCallback,j2=La.unstable_cancelCallback,sq=La.unstable_shouldYield,aq=La.unstable_requestPaint,Si=La.unstable_now,oq=La.unstable_getCurrentPriorityLevel,GP=La.unstable_ImmediatePriority,H5=La.unstable_UserBlockingPriority,Xv=La.unstable_NormalPriority,lq=La.unstable_LowPriority,U5=La.unstable_IdlePriority,yx=null,Fl=null;function uq(t){if(Fl&&typeof Fl.onCommitFiberRoot=="function")try{Fl.onCommitFiberRoot(yx,t,void 0,(t.current.flags&128)===128)}catch{}}var al=Math.clz32?Math.clz32:hq,cq=Math.log,dq=Math.LN2;function hq(t){return t>>>=0,t===0?32:31-(cq(t)/dq|0)|0}var ub=64,cb=4194304;function Vg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Vg(o):(s&=a,s!==0&&(n=Vg(s)))}else a=r&~i,a!==0?n=Vg(a):s!==0&&(n=Vg(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-al(e),i=1<<r,n|=t[r],e&=~i;return n}function fq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pq(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-al(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=fq(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function H_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G5(){var t=ub;return ub<<=1,!(ub&4194240)&&(ub=64),t}function $k(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ly(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-al(e),t[e]=r}function gq(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-al(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function jP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-al(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ln=0;function j5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y5,YP,X5,q5,K5,U_=!1,db=[],Bc=null,Mc=null,Nc=null,Pm=new Map,Bm=new Map,vc=[],mq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y2(t,e){switch(t){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Pm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bm.delete(e.pointerId)}}function ag(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ay(e),e!==null&&YP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yq(t,e,r,n,i){switch(e){case"focusin":return Bc=ag(Bc,t,e,r,n,i),!0;case"dragenter":return Mc=ag(Mc,t,e,r,n,i),!0;case"mouseover":return Nc=ag(Nc,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Pm.set(s,ag(Pm.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Bm.set(s,ag(Bm.get(s)||null,t,e,r,n,i)),!0}return!1}function Q5(t){var e=Nd(t.target);if(e!==null){var r=bh(e);if(r!==null){if(e=r.tag,e===13){if(e=$5(r),e!==null){t.blockedOn=e,K5(t.priority,function(){X5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=G_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$_=n,r.target.dispatchEvent(n),$_=null}else return e=Ay(r),e!==null&&YP(e),t.blockedOn=r,!1;e.shift()}return!0}function X2(t,e,r){fv(t)&&r.delete(e)}function bq(){U_=!1,Bc!==null&&fv(Bc)&&(Bc=null),Mc!==null&&fv(Mc)&&(Mc=null),Nc!==null&&fv(Nc)&&(Nc=null),Pm.forEach(X2),Bm.forEach(X2)}function og(t,e){t.blockedOn===e&&(t.blockedOn=null,U_||(U_=!0,La.unstable_scheduleCallback(La.unstable_NormalPriority,bq)))}function Mm(t){function e(i){return og(i,t)}if(0<db.length){og(db[0],t);for(var r=1;r<db.length;r++){var n=db[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bc!==null&&og(Bc,t),Mc!==null&&og(Mc,t),Nc!==null&&og(Nc,t),Pm.forEach(e),Bm.forEach(e),r=0;r<vc.length;r++)n=vc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vc.length&&(r=vc[0],r.blockedOn===null);)Q5(r),r.blockedOn===null&&vc.shift()}var Df=Vu.ReactCurrentBatchConfig,Kv=!0;function vq(t,e,r,n){var i=ln,s=Df.transition;Df.transition=null;try{ln=1,XP(t,e,r,n)}finally{ln=i,Df.transition=s}}function wq(t,e,r,n){var i=ln,s=Df.transition;Df.transition=null;try{ln=4,XP(t,e,r,n)}finally{ln=i,Df.transition=s}}function XP(t,e,r,n){if(Kv){var i=G_(t,e,r,n);if(i===null)qk(t,e,n,Qv,r),Y2(t,n);else if(yq(i,t,e,r,n))n.stopPropagation();else if(Y2(t,n),e&4&&-1<mq.indexOf(t)){for(;i!==null;){var s=Ay(i);if(s!==null&&Y5(s),s=G_(t,e,r,n),s===null&&qk(t,e,n,Qv,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else qk(t,e,n,null,r)}}var Qv=null;function G_(t,e,r,n){if(Qv=null,t=UP(n),t=Nd(t),t!==null)if(e=bh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qv=t,null}function J5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oq()){case GP:return 1;case H5:return 4;case Xv:case lq:return 16;case U5:return 536870912;default:return 16}default:return 16}}var Sc=null,qP=null,pv=null;function Z5(){if(pv)return pv;var t,e=qP,r=e.length,n,i="value"in Sc?Sc.value:Sc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return pv=i.slice(t,1<n?1-n:void 0)}function gv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hb(){return!0}function q2(){return!1}function Ha(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hb:q2,this.isPropagationStopped=q2,this}return Jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hb)},persist:function(){},isPersistent:hb}),e}var kp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KP=Ha(kp),Fy=Jn({},kp,{view:0,detail:0}),xq=Ha(Fy),Vk,zk,lg,bx=Jn({},Fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lg&&(lg&&t.type==="mousemove"?(Vk=t.screenX-lg.screenX,zk=t.screenY-lg.screenY):zk=Vk=0,lg=t),Vk)},movementY:function(t){return"movementY"in t?t.movementY:zk}}),K2=Ha(bx),Sq=Jn({},bx,{dataTransfer:0}),kq=Ha(Sq),Cq=Jn({},Fy,{relatedTarget:0}),Wk=Ha(Cq),_q=Jn({},kp,{animationName:0,elapsedTime:0,pseudoElement:0}),Tq=Ha(_q),Pq=Jn({},kp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bq=Ha(Pq),Mq=Jn({},kp,{data:0}),Q2=Ha(Mq),Nq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rq[t])?!!e[t]:!1}function QP(){return Dq}var Iq=Jn({},Fy,{key:function(t){if(t.key){var e=Nq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QP,charCode:function(t){return t.type==="keypress"?gv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lq=Ha(Iq),Fq=Jn({},bx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=Ha(Fq),Aq=Jn({},Fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QP}),Oq=Ha(Aq),$q=Jn({},kp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vq=Ha($q),zq=Jn({},bx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wq=Ha(zq),Hq=[9,13,27,32],JP=Bu&&"CompositionEvent"in window,Zg=null;Bu&&"documentMode"in document&&(Zg=document.documentMode);var Uq=Bu&&"TextEvent"in window&&!Zg,e3=Bu&&(!JP||Zg&&8<Zg&&11>=Zg),Z2=" ",eD=!1;function t3(t,e){switch(t){case"keyup":return Hq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pf=!1;function Gq(t,e){switch(t){case"compositionend":return r3(e);case"keypress":return e.which!==32?null:(eD=!0,Z2);case"textInput":return t=e.data,t===Z2&&eD?null:t;default:return null}}function jq(t,e){if(pf)return t==="compositionend"||!JP&&t3(t,e)?(t=Z5(),pv=qP=Sc=null,pf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e3&&e.locale!=="ko"?null:e.data;default:return null}}var Yq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yq[t.type]:e==="textarea"}function n3(t,e,r,n){I5(n),e=Jv(e,"onChange"),0<e.length&&(r=new KP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var em=null,Nm=null;function Xq(t){p3(t,0)}function vx(t){var e=yf(t);if(P5(e))return t}function qq(t,e){if(t==="change")return e}var i3=!1;if(Bu){var Hk;if(Bu){var Uk="oninput"in document;if(!Uk){var rD=document.createElement("div");rD.setAttribute("oninput","return;"),Uk=typeof rD.oninput=="function"}Hk=Uk}else Hk=!1;i3=Hk&&(!document.documentMode||9<document.documentMode)}function nD(){em&&(em.detachEvent("onpropertychange",s3),Nm=em=null)}function s3(t){if(t.propertyName==="value"&&vx(Nm)){var e=[];n3(e,Nm,t,UP(t)),O5(Xq,e)}}function Kq(t,e,r){t==="focusin"?(nD(),em=e,Nm=r,em.attachEvent("onpropertychange",s3)):t==="focusout"&&nD()}function Qq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vx(Nm)}function Jq(t,e){if(t==="click")return vx(e)}function Zq(t,e){if(t==="input"||t==="change")return vx(e)}function eK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dl=typeof Object.is=="function"?Object.is:eK;function Em(t,e){if(dl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!P_.call(e,i)||!dl(t[i],e[i]))return!1}return!0}function iD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sD(t,e){var r=iD(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iD(r)}}function a3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o3(){for(var t=window,e=Gv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gv(t.document)}return e}function ZP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tK(t){var e=o3(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&a3(r.ownerDocument.documentElement,r)){if(n!==null&&ZP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=sD(r,s);var a=sD(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rK=Bu&&"documentMode"in document&&11>=document.documentMode,gf=null,j_=null,tm=null,Y_=!1;function aD(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y_||gf==null||gf!==Gv(n)||(n=gf,"selectionStart"in n&&ZP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tm&&Em(tm,n)||(tm=n,n=Jv(j_,"onSelect"),0<n.length&&(e=new KP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gf)))}function fb(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mf={animationend:fb("Animation","AnimationEnd"),animationiteration:fb("Animation","AnimationIteration"),animationstart:fb("Animation","AnimationStart"),transitionend:fb("Transition","TransitionEnd")},Gk={},l3={};Bu&&(l3=document.createElement("div").style,"AnimationEvent"in window||(delete mf.animationend.animation,delete mf.animationiteration.animation,delete mf.animationstart.animation),"TransitionEvent"in window||delete mf.transitionend.transition);function wx(t){if(Gk[t])return Gk[t];if(!mf[t])return t;var e=mf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in l3)return Gk[t]=e[r];return t}var u3=wx("animationend"),c3=wx("animationiteration"),d3=wx("animationstart"),h3=wx("transitionend"),f3=new Map,oD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qc(t,e){f3.set(t,e),yh(e,[t])}for(var jk=0;jk<oD.length;jk++){var Yk=oD[jk],nK=Yk.toLowerCase(),iK=Yk[0].toUpperCase()+Yk.slice(1);qc(nK,"on"+iK)}qc(u3,"onAnimationEnd");qc(c3,"onAnimationIteration");qc(d3,"onAnimationStart");qc("dblclick","onDoubleClick");qc("focusin","onFocus");qc("focusout","onBlur");qc(h3,"onTransitionEnd");Gf("onMouseEnter",["mouseout","mouseover"]);Gf("onMouseLeave",["mouseout","mouseover"]);Gf("onPointerEnter",["pointerout","pointerover"]);Gf("onPointerLeave",["pointerout","pointerover"]);yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sK=new Set("cancel close invalid load scroll toggle".split(" ").concat(zg));function lD(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nq(n,e,void 0,t),t.currentTarget=null}function p3(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;lD(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;lD(i,o,u),s=l}}}if(Yv)throw t=W_,Yv=!1,W_=null,t}function Mn(t,e){var r=e[J_];r===void 0&&(r=e[J_]=new Set);var n=t+"__bubble";r.has(n)||(g3(e,t,2,!1),r.add(n))}function Xk(t,e,r){var n=0;e&&(n|=4),g3(r,t,n,e)}var pb="_reactListening"+Math.random().toString(36).slice(2);function Rm(t){if(!t[pb]){t[pb]=!0,S5.forEach(function(r){r!=="selectionchange"&&(sK.has(r)||Xk(r,!1,t),Xk(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pb]||(e[pb]=!0,Xk("selectionchange",!1,e))}}function g3(t,e,r,n){switch(J5(e)){case 1:var i=vq;break;case 4:i=wq;break;default:i=XP}r=i.bind(null,e,r,t),i=void 0,!z_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function qk(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Nd(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}O5(function(){var u=s,c=UP(r),h=[];e:{var f=f3.get(t);if(f!==void 0){var g=KP,m=t;switch(t){case"keypress":if(gv(r)===0)break e;case"keydown":case"keyup":g=Lq;break;case"focusin":m="focus",g=Wk;break;case"focusout":m="blur",g=Wk;break;case"beforeblur":case"afterblur":g=Wk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=K2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oq;break;case u3:case c3:case d3:g=Tq;break;case h3:g=Vq;break;case"scroll":g=xq;break;case"wheel":g=Wq;break;case"copy":case"cut":case"paste":g=Bq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=J2}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,w;v!==null;){w=v;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,x!==null&&(P=Tm(v,x),P!=null&&y.push(Dm(v,P,w)))),b)break;v=v.return}0<y.length&&(f=new g(f,m,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==$_&&(m=r.relatedTarget||r.fromElement)&&(Nd(m)||m[Mu]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?Nd(m):null,m!==null&&(b=bh(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(y=K2,P="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=J2,P="onPointerLeave",x="onPointerEnter",v="pointer"),b=g==null?f:yf(g),w=m==null?f:yf(m),f=new y(P,v+"leave",g,r,c),f.target=b,f.relatedTarget=w,P=null,Nd(c)===u&&(y=new y(x,v+"enter",m,r,c),y.target=w,y.relatedTarget=b,P=y),b=P,g&&m)t:{for(y=g,x=m,v=0,w=y;w;w=Hh(w))v++;for(w=0,P=x;P;P=Hh(P))w++;for(;0<v-w;)y=Hh(y),v--;for(;0<w-v;)x=Hh(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=Hh(y),x=Hh(x)}y=null}else y=null;g!==null&&uD(h,f,g,y,!1),m!==null&&b!==null&&uD(h,b,m,y,!0)}}e:{if(f=u?yf(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=qq;else if(tD(f))if(i3)T=Zq;else{T=Qq;var _=Kq}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Jq);if(T&&(T=T(t,u))){n3(h,T,r,c);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&I_(f,"number",f.value)}switch(_=u?yf(u):window,t){case"focusin":(tD(_)||_.contentEditable==="true")&&(gf=_,j_=u,tm=null);break;case"focusout":tm=j_=gf=null;break;case"mousedown":Y_=!0;break;case"contextmenu":case"mouseup":case"dragend":Y_=!1,aD(h,r,c);break;case"selectionchange":if(rK)break;case"keydown":case"keyup":aD(h,r,c)}var M;if(JP)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else pf?t3(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(e3&&r.locale!=="ko"&&(pf||E!=="onCompositionStart"?E==="onCompositionEnd"&&pf&&(M=Z5()):(Sc=c,qP="value"in Sc?Sc.value:Sc.textContent,pf=!0)),_=Jv(u,E),0<_.length&&(E=new Q2(E,t,null,r,c),h.push({event:E,listeners:_}),M?E.data=M:(M=r3(r),M!==null&&(E.data=M)))),(M=Uq?Gq(t,r):jq(t,r))&&(u=Jv(u,"onBeforeInput"),0<u.length&&(c=new Q2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=M))}p3(h,e)})}function Dm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Jv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tm(t,r),s!=null&&n.unshift(Dm(t,s,i)),s=Tm(t,e),s!=null&&n.push(Dm(t,s,i))),t=t.return}return n}function Hh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uD(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Tm(r,s),l!=null&&a.unshift(Dm(r,l,o))):i||(l=Tm(r,s),l!=null&&a.push(Dm(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var aK=/\r\n?/g,oK=/\u0000|\uFFFD/g;function cD(t){return(typeof t=="string"?t:""+t).replace(aK,`
`).replace(oK,"")}function gb(t,e,r){if(e=cD(e),cD(t)!==e&&r)throw Error(it(425))}function Zv(){}var X_=null,q_=null;function K_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q_=typeof setTimeout=="function"?setTimeout:void 0,lK=typeof clearTimeout=="function"?clearTimeout:void 0,dD=typeof Promise=="function"?Promise:void 0,uK=typeof queueMicrotask=="function"?queueMicrotask:typeof dD<"u"?function(t){return dD.resolve(null).then(t).catch(cK)}:Q_;function cK(t){setTimeout(function(){throw t})}function Kk(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Mm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mm(e)}function Ec(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),Ml="__reactFiber$"+Cp,Im="__reactProps$"+Cp,Mu="__reactContainer$"+Cp,J_="__reactEvents$"+Cp,dK="__reactListeners$"+Cp,hK="__reactHandles$"+Cp;function Nd(t){var e=t[Ml];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mu]||r[Ml]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hD(t);t!==null;){if(r=t[Ml])return r;t=hD(t)}return e}t=r,r=t.parentNode}return null}function Ay(t){return t=t[Ml]||t[Mu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function xx(t){return t[Im]||null}var Z_=[],bf=-1;function Kc(t){return{current:t}}function Dn(t){0>bf||(t.current=Z_[bf],Z_[bf]=null,bf--)}function _n(t,e){bf++,Z_[bf]=t.current,t.current=e}var Wc={},Cs=Kc(Wc),aa=Kc(!1),th=Wc;function jf(t,e){var r=t.type.contextTypes;if(!r)return Wc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oa(t){return t=t.childContextTypes,t!=null}function ew(){Dn(aa),Dn(Cs)}function fD(t,e,r){if(Cs.current!==Wc)throw Error(it(168));_n(Cs,e),_n(aa,r)}function m3(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(it(108,KX(t)||"Unknown",i));return Jn({},r,n)}function tw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wc,th=Cs.current,_n(Cs,t),_n(aa,aa.current),!0}function pD(t,e,r){var n=t.stateNode;if(!n)throw Error(it(169));r?(t=m3(t,e,th),n.__reactInternalMemoizedMergedChildContext=t,Dn(aa),Dn(Cs),_n(Cs,t)):Dn(aa),_n(aa,r)}var cu=null,Sx=!1,Qk=!1;function y3(t){cu===null?cu=[t]:cu.push(t)}function fK(t){Sx=!0,y3(t)}function Qc(){if(!Qk&&cu!==null){Qk=!0;var t=0,e=ln;try{var r=cu;for(ln=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cu=null,Sx=!1}catch(i){throw cu!==null&&(cu=cu.slice(t+1)),W5(GP,Qc),i}finally{ln=e,Qk=!1}}return null}var vf=[],wf=0,rw=null,nw=0,oo=[],lo=0,rh=null,gu=1,mu="";function wd(t,e){vf[wf++]=nw,vf[wf++]=rw,rw=t,nw=e}function b3(t,e,r){oo[lo++]=gu,oo[lo++]=mu,oo[lo++]=rh,rh=t;var n=gu;t=mu;var i=32-al(n)-1;n&=~(1<<i),r+=1;var s=32-al(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,gu=1<<32-al(e)+i|r<<i|n,mu=s+t}else gu=1<<s|r<<i|n,mu=t}function eB(t){t.return!==null&&(wd(t,1),b3(t,1,0))}function tB(t){for(;t===rw;)rw=vf[--wf],vf[wf]=null,nw=vf[--wf],vf[wf]=null;for(;t===rh;)rh=oo[--lo],oo[lo]=null,mu=oo[--lo],oo[lo]=null,gu=oo[--lo],oo[lo]=null}var Ra=null,Na=null,Hn=!1,Xo=null;function v3(t,e){var r=bo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function gD(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ra=t,Na=Ec(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ra=t,Na=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=rh!==null?{id:gu,overflow:mu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=bo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ra=t,Na=null,!0):!1;default:return!1}}function eT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tT(t){if(Hn){var e=Na;if(e){var r=e;if(!gD(t,e)){if(eT(t))throw Error(it(418));e=Ec(r.nextSibling);var n=Ra;e&&gD(t,e)?v3(n,r):(t.flags=t.flags&-4097|2,Hn=!1,Ra=t)}}else{if(eT(t))throw Error(it(418));t.flags=t.flags&-4097|2,Hn=!1,Ra=t}}}function mD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ra=t}function mb(t){if(t!==Ra)return!1;if(!Hn)return mD(t),Hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K_(t.type,t.memoizedProps)),e&&(e=Na)){if(eT(t))throw w3(),Error(it(418));for(;e;)v3(t,e),e=Ec(e.nextSibling)}if(mD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Na=Ec(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Na=null}}else Na=Ra?Ec(t.stateNode.nextSibling):null;return!0}function w3(){for(var t=Na;t;)t=Ec(t.nextSibling)}function Yf(){Na=Ra=null,Hn=!1}function rB(t){Xo===null?Xo=[t]:Xo.push(t)}var pK=Vu.ReactCurrentBatchConfig;function Ho(t,e){if(t&&t.defaultProps){e=Jn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var iw=Kc(null),sw=null,xf=null,nB=null;function iB(){nB=xf=sw=null}function sB(t){var e=iw.current;Dn(iw),t._currentValue=e}function rT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function If(t,e){sw=t,nB=xf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ra=!0),t.firstContext=null)}function Co(t){var e=t._currentValue;if(nB!==t)if(t={context:t,memoizedValue:e,next:null},xf===null){if(sw===null)throw Error(it(308));xf=t,sw.dependencies={lanes:0,firstContext:t}}else xf=xf.next=t;return e}var Ed=null;function aB(t){Ed===null?Ed=[t]:Ed.push(t)}function x3(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,aB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Nu(t,n)}function Nu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bc=!1;function oB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,qr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Nu(t,r)}return i=n.interleaved,i===null?(e.next=e,aB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Nu(t,r)}function mv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jP(t,r)}}function yD(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function aw(t,e,r,n){var i=t.updateQueue;bc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,g=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=Jn({},h,f);break e;case 2:bc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ih|=a,t.lanes=a,t.memoizedState=h}}function bD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(it(191,i));i.call(n)}}}var k3=new x5.Component().refs;function nT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Jn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kx={isMounted:function(t){return(t=t._reactInternals)?bh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zs(),i=Ic(t),s=Cu(n,i);s.payload=e,r!=null&&(s.callback=r),e=Rc(t,s,i),e!==null&&(ol(e,t,i,n),mv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zs(),i=Ic(t),s=Cu(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Rc(t,s,i),e!==null&&(ol(e,t,i,n),mv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zs(),n=Ic(t),i=Cu(r,n);i.tag=2,e!=null&&(i.callback=e),e=Rc(t,i,n),e!==null&&(ol(e,t,n,r),mv(e,t,n))}};function vD(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Em(r,n)||!Em(i,s):!0}function C3(t,e,r){var n=!1,i=Wc,s=e.contextType;return typeof s=="object"&&s!==null?s=Co(s):(i=oa(e)?th:Cs.current,n=e.contextTypes,s=(n=n!=null)?jf(t,i):Wc),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&kx.enqueueReplaceState(e,e.state,null)}function iT(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=k3,oB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Co(s):(s=oa(e)?th:Cs.current,i.context=jf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nT(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kx.enqueueReplaceState(i,i.state,null),aw(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ug(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(it(309));var n=r.stateNode}if(!n)throw Error(it(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;o===k3&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(it(284));if(!r._owner)throw Error(it(290,t))}return t}function yb(t,e){throw t=Object.prototype.toString.call(e),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xD(t){var e=t._init;return e(t._payload)}function _3(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Lc(x,v),x.index=0,x.sibling=null,x}function s(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,v,w,P){return v===null||v.tag!==6?(v=iC(w,x.mode,P),v.return=x,v):(v=i(v,w),v.return=x,v)}function l(x,v,w,P){var T=w.type;return T===ff?c(x,v,w.props.children,P,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yc&&xD(T)===v.type)?(P=i(v,w.props),P.ref=ug(x,v,w),P.return=x,P):(P=Sv(w.type,w.key,w.props,null,x.mode,P),P.ref=ug(x,v,w),P.return=x,P)}function u(x,v,w,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=sC(w,x.mode,P),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function c(x,v,w,P,T){return v===null||v.tag!==7?(v=jd(w,x.mode,P,T),v.return=x,v):(v=i(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=iC(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ab:return w=Sv(v.type,v.key,v.props,null,x.mode,w),w.ref=ug(x,null,v),w.return=x,w;case hf:return v=sC(v,x.mode,w),v.return=x,v;case yc:var P=v._init;return h(x,P(v._payload),w)}if($g(v)||ig(v))return v=jd(v,x.mode,w,null),v.return=x,v;yb(x,v)}return null}function f(x,v,w,P){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:o(x,v,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ab:return w.key===T?l(x,v,w,P):null;case hf:return w.key===T?u(x,v,w,P):null;case yc:return T=w._init,f(x,v,T(w._payload),P)}if($g(w)||ig(w))return T!==null?null:c(x,v,w,P,null);yb(x,w)}return null}function g(x,v,w,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(w)||null,o(v,x,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ab:return x=x.get(P.key===null?w:P.key)||null,l(v,x,P,T);case hf:return x=x.get(P.key===null?w:P.key)||null,u(v,x,P,T);case yc:var _=P._init;return g(x,v,w,_(P._payload),T)}if($g(P)||ig(P))return x=x.get(w)||null,c(v,x,P,T,null);yb(v,P)}return null}function m(x,v,w,P){for(var T=null,_=null,M=v,E=v=0,D=null;M!==null&&E<w.length;E++){M.index>E?(D=M,M=null):D=M.sibling;var L=f(x,M,w[E],P);if(L===null){M===null&&(M=D);break}t&&M&&L.alternate===null&&e(x,M),v=s(L,v,E),_===null?T=L:_.sibling=L,_=L,M=D}if(E===w.length)return r(x,M),Hn&&wd(x,E),T;if(M===null){for(;E<w.length;E++)M=h(x,w[E],P),M!==null&&(v=s(M,v,E),_===null?T=M:_.sibling=M,_=M);return Hn&&wd(x,E),T}for(M=n(x,M);E<w.length;E++)D=g(M,x,E,w[E],P),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?E:D.key),v=s(D,v,E),_===null?T=D:_.sibling=D,_=D);return t&&M.forEach(function(F){return e(x,F)}),Hn&&wd(x,E),T}function y(x,v,w,P){var T=ig(w);if(typeof T!="function")throw Error(it(150));if(w=T.call(w),w==null)throw Error(it(151));for(var _=T=null,M=v,E=v=0,D=null,L=w.next();M!==null&&!L.done;E++,L=w.next()){M.index>E?(D=M,M=null):D=M.sibling;var F=f(x,M,L.value,P);if(F===null){M===null&&(M=D);break}t&&M&&F.alternate===null&&e(x,M),v=s(F,v,E),_===null?T=F:_.sibling=F,_=F,M=D}if(L.done)return r(x,M),Hn&&wd(x,E),T;if(M===null){for(;!L.done;E++,L=w.next())L=h(x,L.value,P),L!==null&&(v=s(L,v,E),_===null?T=L:_.sibling=L,_=L);return Hn&&wd(x,E),T}for(M=n(x,M);!L.done;E++,L=w.next())L=g(M,x,E,L.value,P),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?E:L.key),v=s(L,v,E),_===null?T=L:_.sibling=L,_=L);return t&&M.forEach(function(z){return e(x,z)}),Hn&&wd(x,E),T}function b(x,v,w,P){if(typeof w=="object"&&w!==null&&w.type===ff&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ab:e:{for(var T=w.key,_=v;_!==null;){if(_.key===T){if(T=w.type,T===ff){if(_.tag===7){r(x,_.sibling),v=i(_,w.props.children),v.return=x,x=v;break e}}else if(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yc&&xD(T)===_.type){r(x,_.sibling),v=i(_,w.props),v.ref=ug(x,_,w),v.return=x,x=v;break e}r(x,_);break}else e(x,_);_=_.sibling}w.type===ff?(v=jd(w.props.children,x.mode,P,w.key),v.return=x,x=v):(P=Sv(w.type,w.key,w.props,null,x.mode,P),P.ref=ug(x,v,w),P.return=x,x=P)}return a(x);case hf:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(x,v.sibling),v=i(v,w.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=sC(w,x.mode,P),v.return=x,x=v}return a(x);case yc:return _=w._init,b(x,v,_(w._payload),P)}if($g(w))return m(x,v,w,P);if(ig(w))return y(x,v,w,P);yb(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(x,v.sibling),v=i(v,w),v.return=x,x=v):(r(x,v),v=iC(w,x.mode,P),v.return=x,x=v),a(x)):r(x,v)}return b}var Xf=_3(!0),T3=_3(!1),Oy={},Al=Kc(Oy),Lm=Kc(Oy),Fm=Kc(Oy);function Rd(t){if(t===Oy)throw Error(it(174));return t}function lB(t,e){switch(_n(Fm,e),_n(Lm,t),_n(Al,Oy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:F_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=F_(e,t)}Dn(Al),_n(Al,e)}function qf(){Dn(Al),Dn(Lm),Dn(Fm)}function P3(t){Rd(Fm.current);var e=Rd(Al.current),r=F_(e,t.type);e!==r&&(_n(Lm,t),_n(Al,r))}function uB(t){Lm.current===t&&(Dn(Al),Dn(Lm))}var Yn=Kc(0);function ow(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jk=[];function cB(){for(var t=0;t<Jk.length;t++)Jk[t]._workInProgressVersionPrimary=null;Jk.length=0}var yv=Vu.ReactCurrentDispatcher,Zk=Vu.ReactCurrentBatchConfig,nh=0,Kn=null,zi=null,Zi=null,lw=!1,rm=!1,Am=0,gK=0;function vs(){throw Error(it(321))}function dB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dl(t[r],e[r]))return!1;return!0}function hB(t,e,r,n,i,s){if(nh=s,Kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yv.current=t===null||t.memoizedState===null?vK:wK,t=r(n,i),rm){s=0;do{if(rm=!1,Am=0,25<=s)throw Error(it(301));s+=1,Zi=zi=null,e.updateQueue=null,yv.current=xK,t=r(n,i)}while(rm)}if(yv.current=uw,e=zi!==null&&zi.next!==null,nh=0,Zi=zi=Kn=null,lw=!1,e)throw Error(it(300));return t}function fB(){var t=Am!==0;return Am=0,t}function kl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?Kn.memoizedState=Zi=t:Zi=Zi.next=t,Zi}function _o(){if(zi===null){var t=Kn.alternate;t=t!==null?t.memoizedState:null}else t=zi.next;var e=Zi===null?Kn.memoizedState:Zi.next;if(e!==null)Zi=e,zi=t;else{if(t===null)throw Error(it(310));zi=t,t={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Zi===null?Kn.memoizedState=Zi=t:Zi=Zi.next=t}return Zi}function Om(t,e){return typeof e=="function"?e(t):e}function eC(t){var e=_o(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=zi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((nh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Kn.lanes|=c,ih|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,dl(n,e.memoizedState)||(ra=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Kn.lanes|=s,ih|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function tC(t){var e=_o(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);dl(s,e.memoizedState)||(ra=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function B3(){}function M3(t,e){var r=Kn,n=_o(),i=e(),s=!dl(n.memoizedState,i);if(s&&(n.memoizedState=i,ra=!0),n=n.queue,pB(R3.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Zi!==null&&Zi.memoizedState.tag&1){if(r.flags|=2048,$m(9,E3.bind(null,r,n,i,e),void 0,null),ts===null)throw Error(it(349));nh&30||N3(r,e,i)}return i}function N3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kn.updateQueue,e===null?(e={lastEffect:null,stores:null},Kn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function E3(t,e,r,n){e.value=r,e.getSnapshot=n,D3(e)&&I3(t)}function R3(t,e,r){return r(function(){D3(e)&&I3(t)})}function D3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dl(t,r)}catch{return!0}}function I3(t){var e=Nu(t,1);e!==null&&ol(e,t,1,-1)}function SD(t){var e=kl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:t},e.queue=t,t=t.dispatch=bK.bind(null,Kn,t),[e.memoizedState,t]}function $m(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kn.updateQueue,e===null?(e={lastEffect:null,stores:null},Kn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function L3(){return _o().memoizedState}function bv(t,e,r,n){var i=kl();Kn.flags|=t,i.memoizedState=$m(1|e,r,void 0,n===void 0?null:n)}function Cx(t,e,r,n){var i=_o();n=n===void 0?null:n;var s=void 0;if(zi!==null){var a=zi.memoizedState;if(s=a.destroy,n!==null&&dB(n,a.deps)){i.memoizedState=$m(e,r,s,n);return}}Kn.flags|=t,i.memoizedState=$m(1|e,r,s,n)}function kD(t,e){return bv(8390656,8,t,e)}function pB(t,e){return Cx(2048,8,t,e)}function F3(t,e){return Cx(4,2,t,e)}function A3(t,e){return Cx(4,4,t,e)}function O3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $3(t,e,r){return r=r!=null?r.concat([t]):null,Cx(4,4,O3.bind(null,e,t),r)}function gB(){}function V3(t,e){var r=_o();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function z3(t,e){var r=_o();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function W3(t,e,r){return nh&21?(dl(r,e)||(r=G5(),Kn.lanes|=r,ih|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ra=!0),t.memoizedState=r)}function mK(t,e){var r=ln;ln=r!==0&&4>r?r:4,t(!0);var n=Zk.transition;Zk.transition={};try{t(!1),e()}finally{ln=r,Zk.transition=n}}function H3(){return _o().memoizedState}function yK(t,e,r){var n=Ic(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U3(t))G3(e,r);else if(r=x3(t,e,r,n),r!==null){var i=zs();ol(r,t,n,i),j3(r,e,n)}}function bK(t,e,r){var n=Ic(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U3(t))G3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,dl(o,a)){var l=e.interleaved;l===null?(i.next=i,aB(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=x3(t,e,i,n),r!==null&&(i=zs(),ol(r,t,n,i),j3(r,e,n))}}function U3(t){var e=t.alternate;return t===Kn||e!==null&&e===Kn}function G3(t,e){rm=lw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function j3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jP(t,r)}}var uw={readContext:Co,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},vK={readContext:Co,useCallback:function(t,e){return kl().memoizedState=[t,e===void 0?null:e],t},useContext:Co,useEffect:kD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bv(4194308,4,O3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bv(4194308,4,t,e)},useInsertionEffect:function(t,e){return bv(4,2,t,e)},useMemo:function(t,e){var r=kl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=kl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yK.bind(null,Kn,t),[n.memoizedState,t]},useRef:function(t){var e=kl();return t={current:t},e.memoizedState=t},useState:SD,useDebugValue:gB,useDeferredValue:function(t){return kl().memoizedState=t},useTransition:function(){var t=SD(!1),e=t[0];return t=mK.bind(null,t[1]),kl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kn,i=kl();if(Hn){if(r===void 0)throw Error(it(407));r=r()}else{if(r=e(),ts===null)throw Error(it(349));nh&30||N3(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,kD(R3.bind(null,n,s,t),[t]),n.flags|=2048,$m(9,E3.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=kl(),e=ts.identifierPrefix;if(Hn){var r=mu,n=gu;r=(n&~(1<<32-al(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Am++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wK={readContext:Co,useCallback:V3,useContext:Co,useEffect:pB,useImperativeHandle:$3,useInsertionEffect:F3,useLayoutEffect:A3,useMemo:z3,useReducer:eC,useRef:L3,useState:function(){return eC(Om)},useDebugValue:gB,useDeferredValue:function(t){var e=_o();return W3(e,zi.memoizedState,t)},useTransition:function(){var t=eC(Om)[0],e=_o().memoizedState;return[t,e]},useMutableSource:B3,useSyncExternalStore:M3,useId:H3,unstable_isNewReconciler:!1},xK={readContext:Co,useCallback:V3,useContext:Co,useEffect:pB,useImperativeHandle:$3,useInsertionEffect:F3,useLayoutEffect:A3,useMemo:z3,useReducer:tC,useRef:L3,useState:function(){return tC(Om)},useDebugValue:gB,useDeferredValue:function(t){var e=_o();return zi===null?e.memoizedState=t:W3(e,zi.memoizedState,t)},useTransition:function(){var t=tC(Om)[0],e=_o().memoizedState;return[t,e]},useMutableSource:B3,useSyncExternalStore:M3,useId:H3,unstable_isNewReconciler:!1};function Kf(t,e){try{var r="",n=e;do r+=qX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rC(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var SK=typeof WeakMap=="function"?WeakMap:Map;function Y3(t,e,r){r=Cu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){dw||(dw=!0,gT=n),sT(t,e)},r}function X3(t,e,r){r=Cu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){sT(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sT(t,e),typeof n!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function CD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new SK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=FK.bind(null,t,e,r),e.then(t,t))}function _D(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TD(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Cu(-1,1),e.tag=2,Rc(r,e,1))),r.lanes|=1),t)}var kK=Vu.ReactCurrentOwner,ra=!1;function Ds(t,e,r,n){e.child=t===null?T3(e,null,r,n):Xf(e,t.child,r,n)}function PD(t,e,r,n,i){r=r.render;var s=e.ref;return If(e,i),n=hB(t,e,r,n,s,i),r=fB(),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eu(t,e,i)):(Hn&&r&&eB(e),e.flags|=1,Ds(t,e,n,i),e.child)}function BD(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!kB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,q3(t,e,s,n,i)):(t=Sv(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Em,r(a,n)&&t.ref===e.ref)return Eu(t,e,i)}return e.flags|=1,t=Lc(s,n),t.ref=e.ref,t.return=e,e.child=t}function q3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Em(s,n)&&t.ref===e.ref)if(ra=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ra=!0);else return e.lanes=t.lanes,Eu(t,e,i)}return aT(t,e,r,n,i)}function K3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(kf,Ca),Ca|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(kf,Ca),Ca|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_n(kf,Ca),Ca|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,_n(kf,Ca),Ca|=n;return Ds(t,e,i,r),e.child}function Q3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function aT(t,e,r,n,i){var s=oa(r)?th:Cs.current;return s=jf(e,s),If(e,i),r=hB(t,e,r,n,s,i),n=fB(),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eu(t,e,i)):(Hn&&n&&eB(e),e.flags|=1,Ds(t,e,r,i),e.child)}function MD(t,e,r,n,i){if(oa(r)){var s=!0;tw(e)}else s=!1;if(If(e,i),e.stateNode===null)vv(t,e),C3(e,r,n),iT(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Co(u):(u=oa(r)?th:Cs.current,u=jf(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&wD(e,a,n,u),bc=!1;var f=e.memoizedState;a.state=f,aw(e,n,a,i),l=e.memoizedState,o!==n||f!==l||aa.current||bc?(typeof c=="function"&&(nT(e,r,c,n),l=e.memoizedState),(o=bc||vD(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,S3(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ho(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Co(l):(l=oa(r)?th:Cs.current,l=jf(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&wD(e,a,n,l),bc=!1,f=e.memoizedState,a.state=f,aw(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||aa.current||bc?(typeof g=="function"&&(nT(e,r,g,n),m=e.memoizedState),(u=bc||vD(e,r,u,n,f,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return oT(t,e,r,n,s,i)}function oT(t,e,r,n,i,s){Q3(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&pD(e,r,!1),Eu(t,e,s);n=e.stateNode,kK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xf(e,t.child,null,s),e.child=Xf(e,null,o,s)):Ds(t,e,o,s),e.memoizedState=n.state,i&&pD(e,r,!0),e.child}function J3(t){var e=t.stateNode;e.pendingContext?fD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fD(t,e.context,!1),lB(t,e.containerInfo)}function ND(t,e,r,n,i){return Yf(),rB(i),e.flags|=256,Ds(t,e,r,n),e.child}var lT={dehydrated:null,treeContext:null,retryLane:0};function uT(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z3(t,e,r){var n=e.pendingProps,i=Yn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(Yn,i&1),t===null)return tT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Px(a,n,0,null),t=jd(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uT(r),e.memoizedState=lT,t):mB(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return CK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Lc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Lc(o,s):(s=jd(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?uT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=lT,n}return s=t.child,t=s.sibling,n=Lc(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function mB(t,e){return e=Px({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bb(t,e,r,n){return n!==null&&rB(n),Xf(e,t.child,null,r),t=mB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=rC(Error(it(422))),bb(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Px({mode:"visible",children:n.children},i,0,null),s=jd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xf(e,t.child,null,a),e.child.memoizedState=uT(a),e.memoizedState=lT,s);if(!(e.mode&1))return bb(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(it(419)),n=rC(s,n,void 0),bb(t,e,a,n)}if(o=(a&t.childLanes)!==0,ra||o){if(n=ts,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nu(t,i),ol(n,t,i,-1))}return SB(),n=rC(Error(it(421))),bb(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Na=Ec(i.nextSibling),Ra=e,Hn=!0,Xo=null,t!==null&&(oo[lo++]=gu,oo[lo++]=mu,oo[lo++]=rh,gu=t.id,mu=t.overflow,rh=e),e=mB(e,n.children),e.flags|=4096,e)}function ED(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rT(t.return,e,r)}function nC(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function e$(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ds(t,e,n.children,r),n=Yn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ED(t,r,e);else if(t.tag===19)ED(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_n(Yn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ow(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),nC(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ow(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}nC(e,!0,r,null,s);break;case"together":nC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Eu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ih|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(it(153));if(e.child!==null){for(t=e.child,r=Lc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _K(t,e,r){switch(e.tag){case 3:J3(e),Yf();break;case 5:P3(e);break;case 1:oa(e.type)&&tw(e);break;case 4:lB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;_n(iw,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(_n(Yn,Yn.current&1),e.flags|=128,null):r&e.child.childLanes?Z3(t,e,r):(_n(Yn,Yn.current&1),t=Eu(t,e,r),t!==null?t.sibling:null);_n(Yn,Yn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return e$(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Yn,Yn.current),n)break;return null;case 22:case 23:return e.lanes=0,K3(t,e,r)}return Eu(t,e,r)}var t$,cT,r$,n$;t$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cT=function(){};r$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Rd(Al.current);var s=null;switch(r){case"input":i=R_(t,i),n=R_(t,n),s=[];break;case"select":i=Jn({},i,{value:void 0}),n=Jn({},n,{value:void 0}),s=[];break;case"textarea":i=L_(t,i),n=L_(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Zv)}A_(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Mn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};n$=function(t,e,r,n){r!==n&&(e.flags|=4)};function cg(t,e){if(!Hn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ws(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TK(t,e,r){var n=e.pendingProps;switch(tB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(e),null;case 1:return oa(e.type)&&ew(),ws(e),null;case 3:return n=e.stateNode,qf(),Dn(aa),Dn(Cs),cB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xo!==null&&(bT(Xo),Xo=null))),cT(t,e),ws(e),null;case 5:uB(e);var i=Rd(Fm.current);if(r=e.type,t!==null&&e.stateNode!=null)r$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(it(166));return ws(e),null}if(t=Rd(Al.current),mb(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ml]=e,n[Im]=s,t=(e.mode&1)!==0,r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(i=0;i<zg.length;i++)Mn(zg[i],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":V2(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":W2(n,s),Mn("invalid",n)}A_(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&gb(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&gb(n.textContent,o,t),i=["children",""+o]):Cm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Mn("scroll",n)}switch(r){case"input":ob(n),z2(n,s,!0);break;case"textarea":ob(n),H2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zv)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ml]=e,t[Im]=n,t$(t,e,!1,!1),e.stateNode=t;e:{switch(a=O_(r,n),r){case"dialog":Mn("cancel",t),Mn("close",t),i=n;break;case"iframe":case"object":case"embed":Mn("load",t),i=n;break;case"video":case"audio":for(i=0;i<zg.length;i++)Mn(zg[i],t);i=n;break;case"source":Mn("error",t),i=n;break;case"img":case"image":case"link":Mn("error",t),Mn("load",t),i=n;break;case"details":Mn("toggle",t),i=n;break;case"input":V2(t,n),i=R_(t,n),Mn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Jn({},n,{value:void 0}),Mn("invalid",t);break;case"textarea":W2(t,n),i=L_(t,n),Mn("invalid",t);break;default:i=n}A_(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?D5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_m(t,l):typeof l=="number"&&_m(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mn("scroll",t):l!=null&&VP(t,s,l,a))}switch(r){case"input":ob(t),z2(t,n,!1);break;case"textarea":ob(t),H2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zc(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Nf(t,!!n.multiple,s,!1):n.defaultValue!=null&&Nf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ws(e),null;case 6:if(t&&e.stateNode!=null)n$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(it(166));if(r=Rd(Fm.current),Rd(Al.current),mb(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ml]=e,(s=n.nodeValue!==r)&&(t=Ra,t!==null))switch(t.tag){case 3:gb(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gb(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ml]=e,e.stateNode=n}return ws(e),null;case 13:if(Dn(Yn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hn&&Na!==null&&e.mode&1&&!(e.flags&128))w3(),Yf(),e.flags|=98560,s=!1;else if(s=mb(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(it(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(it(317));s[Ml]=e}else Yf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ws(e),s=!1}else Xo!==null&&(bT(Xo),Xo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Yn.current&1?Hi===0&&(Hi=3):SB())),e.updateQueue!==null&&(e.flags|=4),ws(e),null);case 4:return qf(),cT(t,e),t===null&&Rm(e.stateNode.containerInfo),ws(e),null;case 10:return sB(e.type._context),ws(e),null;case 17:return oa(e.type)&&ew(),ws(e),null;case 19:if(Dn(Yn),s=e.memoizedState,s===null)return ws(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)cg(s,!1);else{if(Hi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ow(t),a!==null){for(e.flags|=128,cg(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _n(Yn,Yn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Si()>Qf&&(e.flags|=128,n=!0,cg(s,!1),e.lanes=4194304)}else{if(!n)if(t=ow(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Hn)return ws(e),null}else 2*Si()-s.renderingStartTime>Qf&&r!==1073741824&&(e.flags|=128,n=!0,cg(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Si(),e.sibling=null,r=Yn.current,_n(Yn,n?r&1|2:r&1),e):(ws(e),null);case 22:case 23:return xB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ca&1073741824&&(ws(e),e.subtreeFlags&6&&(e.flags|=8192)):ws(e),null;case 24:return null;case 25:return null}throw Error(it(156,e.tag))}function PK(t,e){switch(tB(e),e.tag){case 1:return oa(e.type)&&ew(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qf(),Dn(aa),Dn(Cs),cB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uB(e),null;case 13:if(Dn(Yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(it(340));Yf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dn(Yn),null;case 4:return qf(),null;case 10:return sB(e.type._context),null;case 22:case 23:return xB(),null;case 24:return null;default:return null}}var vb=!1,Ss=!1,BK=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Sf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oi(t,e,n)}else r.current=null}function dT(t,e,r){try{r()}catch(n){oi(t,e,n)}}var RD=!1;function MK(t,e){if(X_=Kv,t=o3(),ZP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++c===n&&(l=a),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(q_={focusedElem:t,selectionRange:r},Kv=!1,Mt=e;Mt!==null;)if(e=Mt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Mt=t;else for(;Mt!==null;){e=Mt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ho(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(P){oi(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Mt=t;break}Mt=e.return}return m=RD,RD=!1,m}function nm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dT(e,r,s)}i=i.next}while(i!==n)}}function _x(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function i$(t){var e=t.alternate;e!==null&&(t.alternate=null,i$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ml],delete e[Im],delete e[J_],delete e[dK],delete e[hK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function s$(t){return t.tag===5||t.tag===3||t.tag===4}function DD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Zv));else if(n!==4&&(t=t.child,t!==null))for(fT(t,e,r),t=t.sibling;t!==null;)fT(t,e,r),t=t.sibling}function pT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(pT(t,e,r),t=t.sibling;t!==null;)pT(t,e,r),t=t.sibling}var cs=null,Uo=!1;function ic(t,e,r){for(r=r.child;r!==null;)a$(t,e,r),r=r.sibling}function a$(t,e,r){if(Fl&&typeof Fl.onCommitFiberUnmount=="function")try{Fl.onCommitFiberUnmount(yx,r)}catch{}switch(r.tag){case 5:Ss||Sf(r,e);case 6:var n=cs,i=Uo;cs=null,ic(t,e,r),cs=n,Uo=i,cs!==null&&(Uo?(t=cs,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):cs.removeChild(r.stateNode));break;case 18:cs!==null&&(Uo?(t=cs,r=r.stateNode,t.nodeType===8?Kk(t.parentNode,r):t.nodeType===1&&Kk(t,r),Mm(t)):Kk(cs,r.stateNode));break;case 4:n=cs,i=Uo,cs=r.stateNode.containerInfo,Uo=!0,ic(t,e,r),cs=n,Uo=i;break;case 0:case 11:case 14:case 15:if(!Ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dT(r,e,a),i=i.next}while(i!==n)}ic(t,e,r);break;case 1:if(!Ss&&(Sf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){oi(r,e,o)}ic(t,e,r);break;case 21:ic(t,e,r);break;case 22:r.mode&1?(Ss=(n=Ss)||r.memoizedState!==null,ic(t,e,r),Ss=n):ic(t,e,r);break;default:ic(t,e,r)}}function ID(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new BK),e.forEach(function(n){var i=OK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:cs=o.stateNode,Uo=!1;break e;case 3:cs=o.stateNode.containerInfo,Uo=!0;break e;case 4:cs=o.stateNode.containerInfo,Uo=!0;break e}o=o.return}if(cs===null)throw Error(it(160));a$(s,a,i),cs=null,Uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){oi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o$(e,t),e=e.sibling}function o$(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vo(e,t),Sl(t),n&4){try{nm(3,t,t.return),_x(3,t)}catch(y){oi(t,t.return,y)}try{nm(5,t,t.return)}catch(y){oi(t,t.return,y)}}break;case 1:Vo(e,t),Sl(t),n&512&&r!==null&&Sf(r,r.return);break;case 5:if(Vo(e,t),Sl(t),n&512&&r!==null&&Sf(r,r.return),t.flags&32){var i=t.stateNode;try{_m(i,"")}catch(y){oi(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&B5(i,s),O_(o,a);var u=O_(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?D5(i,h):c==="dangerouslySetInnerHTML"?E5(i,h):c==="children"?_m(i,h):VP(i,c,h,u)}switch(o){case"input":D_(i,s);break;case"textarea":M5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Nf(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Nf(i,!!s.multiple,s.defaultValue,!0):Nf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Im]=s}catch(y){oi(t,t.return,y)}}break;case 6:if(Vo(e,t),Sl(t),n&4){if(t.stateNode===null)throw Error(it(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){oi(t,t.return,y)}}break;case 3:if(Vo(e,t),Sl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mm(e.containerInfo)}catch(y){oi(t,t.return,y)}break;case 4:Vo(e,t),Sl(t);break;case 13:Vo(e,t),Sl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vB=Si())),n&4&&ID(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ss=(u=Ss)||c,Vo(e,t),Ss=u):Vo(e,t),Sl(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Mt=t,c=t.child;c!==null;){for(h=Mt=c;Mt!==null;){switch(f=Mt,g=f.child,f.tag){case 0:case 11:case 14:case 15:nm(4,f,f.return);break;case 1:Sf(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){oi(n,r,y)}}break;case 5:Sf(f,f.return);break;case 22:if(f.memoizedState!==null){FD(h);continue}}g!==null?(g.return=f,Mt=g):FD(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=R5("display",a))}catch(y){oi(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){oi(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vo(e,t),Sl(t),n&4&&ID(t);break;case 21:break;default:Vo(e,t),Sl(t)}}function Sl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(s$(r)){var n=r;break e}r=r.return}throw Error(it(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_m(i,""),n.flags&=-33);var s=DD(t);pT(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=DD(t);fT(t,o,a);break;default:throw Error(it(161))}}catch(l){oi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NK(t,e,r){Mt=t,l$(t)}function l$(t,e,r){for(var n=(t.mode&1)!==0;Mt!==null;){var i=Mt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||vb;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ss;o=vb;var u=Ss;if(vb=a,(Ss=l)&&!u)for(Mt=i;Mt!==null;)a=Mt,l=a.child,a.tag===22&&a.memoizedState!==null?AD(i):l!==null?(l.return=a,Mt=l):AD(i);for(;s!==null;)Mt=s,l$(s),s=s.sibling;Mt=i,vb=o,Ss=u}LD(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Mt=s):LD(t)}}function LD(t){for(;Mt!==null;){var e=Mt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ss||_x(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ss)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ho(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bD(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bD(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Mm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}Ss||e.flags&512&&hT(e)}catch(f){oi(e,e.return,f)}}if(e===t){Mt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Mt=r;break}Mt=e.return}}function FD(t){for(;Mt!==null;){var e=Mt;if(e===t){Mt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Mt=r;break}Mt=e.return}}function AD(t){for(;Mt!==null;){var e=Mt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_x(4,e)}catch(l){oi(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){oi(e,i,l)}}var s=e.return;try{hT(e)}catch(l){oi(e,s,l)}break;case 5:var a=e.return;try{hT(e)}catch(l){oi(e,a,l)}}}catch(l){oi(e,e.return,l)}if(e===t){Mt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Mt=o;break}Mt=e.return}}var EK=Math.ceil,cw=Vu.ReactCurrentDispatcher,yB=Vu.ReactCurrentOwner,So=Vu.ReactCurrentBatchConfig,qr=0,ts=null,Li=null,fs=0,Ca=0,kf=Kc(0),Hi=0,Vm=null,ih=0,Tx=0,bB=0,im=null,Zs=null,vB=0,Qf=1/0,lu=null,dw=!1,gT=null,Dc=null,wb=!1,kc=null,hw=0,sm=0,mT=null,wv=-1,xv=0;function zs(){return qr&6?Si():wv!==-1?wv:wv=Si()}function Ic(t){return t.mode&1?qr&2&&fs!==0?fs&-fs:pK.transition!==null?(xv===0&&(xv=G5()),xv):(t=ln,t!==0||(t=window.event,t=t===void 0?16:J5(t.type)),t):1}function ol(t,e,r,n){if(50<sm)throw sm=0,mT=null,Error(it(185));Ly(t,r,n),(!(qr&2)||t!==ts)&&(t===ts&&(!(qr&2)&&(Tx|=r),Hi===4&&wc(t,fs)),la(t,n),r===1&&qr===0&&!(e.mode&1)&&(Qf=Si()+500,Sx&&Qc()))}function la(t,e){var r=t.callbackNode;pq(t,e);var n=qv(t,t===ts?fs:0);if(n===0)r!==null&&j2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&j2(r),e===1)t.tag===0?fK(OD.bind(null,t)):y3(OD.bind(null,t)),uK(function(){!(qr&6)&&Qc()}),r=null;else{switch(j5(n)){case 1:r=GP;break;case 4:r=H5;break;case 16:r=Xv;break;case 536870912:r=U5;break;default:r=Xv}r=m$(r,u$.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function u$(t,e){if(wv=-1,xv=0,qr&6)throw Error(it(327));var r=t.callbackNode;if(Lf()&&t.callbackNode!==r)return null;var n=qv(t,t===ts?fs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fw(t,n);else{e=n;var i=qr;qr|=2;var s=d$();(ts!==t||fs!==e)&&(lu=null,Qf=Si()+500,Gd(t,e));do try{IK();break}catch(o){c$(t,o)}while(!0);iB(),cw.current=s,qr=i,Li!==null?e=0:(ts=null,fs=0,e=Hi)}if(e!==0){if(e===2&&(i=H_(t),i!==0&&(n=i,e=yT(t,i))),e===1)throw r=Vm,Gd(t,0),wc(t,n),la(t,Si()),r;if(e===6)wc(t,n);else{if(i=t.current.alternate,!(n&30)&&!RK(i)&&(e=fw(t,n),e===2&&(s=H_(t),s!==0&&(n=s,e=yT(t,s))),e===1))throw r=Vm,Gd(t,0),wc(t,n),la(t,Si()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(it(345));case 2:xd(t,Zs,lu);break;case 3:if(wc(t,n),(n&130023424)===n&&(e=vB+500-Si(),10<e)){if(qv(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Q_(xd.bind(null,t,Zs,lu),e);break}xd(t,Zs,lu);break;case 4:if(wc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-al(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Si()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EK(n/1960))-n,10<n){t.timeoutHandle=Q_(xd.bind(null,t,Zs,lu),n);break}xd(t,Zs,lu);break;case 5:xd(t,Zs,lu);break;default:throw Error(it(329))}}}return la(t,Si()),t.callbackNode===r?u$.bind(null,t):null}function yT(t,e){var r=im;return t.current.memoizedState.isDehydrated&&(Gd(t,e).flags|=256),t=fw(t,e),t!==2&&(e=Zs,Zs=r,e!==null&&bT(e)),t}function bT(t){Zs===null?Zs=t:Zs.push.apply(Zs,t)}function RK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!dl(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wc(t,e){for(e&=~bB,e&=~Tx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-al(e),n=1<<r;t[r]=-1,e&=~n}}function OD(t){if(qr&6)throw Error(it(327));Lf();var e=qv(t,0);if(!(e&1))return la(t,Si()),null;var r=fw(t,e);if(t.tag!==0&&r===2){var n=H_(t);n!==0&&(e=n,r=yT(t,n))}if(r===1)throw r=Vm,Gd(t,0),wc(t,e),la(t,Si()),r;if(r===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xd(t,Zs,lu),la(t,Si()),null}function wB(t,e){var r=qr;qr|=1;try{return t(e)}finally{qr=r,qr===0&&(Qf=Si()+500,Sx&&Qc())}}function sh(t){kc!==null&&kc.tag===0&&!(qr&6)&&Lf();var e=qr;qr|=1;var r=So.transition,n=ln;try{if(So.transition=null,ln=1,t)return t()}finally{ln=n,So.transition=r,qr=e,!(qr&6)&&Qc()}}function xB(){Ca=kf.current,Dn(kf)}function Gd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lK(r)),Li!==null)for(r=Li.return;r!==null;){var n=r;switch(tB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ew();break;case 3:qf(),Dn(aa),Dn(Cs),cB();break;case 5:uB(n);break;case 4:qf();break;case 13:Dn(Yn);break;case 19:Dn(Yn);break;case 10:sB(n.type._context);break;case 22:case 23:xB()}r=r.return}if(ts=t,Li=t=Lc(t.current,null),fs=Ca=e,Hi=0,Vm=null,bB=Tx=ih=0,Zs=im=null,Ed!==null){for(e=0;e<Ed.length;e++)if(r=Ed[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ed=null}return t}function c$(t,e){do{var r=Li;try{if(iB(),yv.current=uw,lw){for(var n=Kn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lw=!1}if(nh=0,Zi=zi=Kn=null,rm=!1,Am=0,yB.current=null,r===null||r.return===null){Hi=1,Vm=e,Li=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=fs,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=_D(a);if(g!==null){g.flags&=-257,TD(g,a,o,s,e),g.mode&1&&CD(s,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){CD(s,u,e),SB();break e}l=Error(it(426))}}else if(Hn&&o.mode&1){var b=_D(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),TD(b,a,o,s,e),rB(Kf(l,o));break e}}s=l=Kf(l,o),Hi!==4&&(Hi=2),im===null?im=[s]:im.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Y3(s,l,e);yD(s,x);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dc===null||!Dc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=X3(s,o,e);yD(s,P);break e}}s=s.return}while(s!==null)}f$(r)}catch(T){e=T,Li===r&&r!==null&&(Li=r=r.return);continue}break}while(!0)}function d$(){var t=cw.current;return cw.current=uw,t===null?uw:t}function SB(){(Hi===0||Hi===3||Hi===2)&&(Hi=4),ts===null||!(ih&268435455)&&!(Tx&268435455)||wc(ts,fs)}function fw(t,e){var r=qr;qr|=2;var n=d$();(ts!==t||fs!==e)&&(lu=null,Gd(t,e));do try{DK();break}catch(i){c$(t,i)}while(!0);if(iB(),qr=r,cw.current=n,Li!==null)throw Error(it(261));return ts=null,fs=0,Hi}function DK(){for(;Li!==null;)h$(Li)}function IK(){for(;Li!==null&&!sq();)h$(Li)}function h$(t){var e=g$(t.alternate,t,Ca);t.memoizedProps=t.pendingProps,e===null?f$(t):Li=e,yB.current=null}function f$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PK(r,e),r!==null){r.flags&=32767,Li=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hi=6,Li=null;return}}else if(r=TK(r,e,Ca),r!==null){Li=r;return}if(e=e.sibling,e!==null){Li=e;return}Li=e=t}while(e!==null);Hi===0&&(Hi=5)}function xd(t,e,r){var n=ln,i=So.transition;try{So.transition=null,ln=1,LK(t,e,r,n)}finally{So.transition=i,ln=n}return null}function LK(t,e,r,n){do Lf();while(kc!==null);if(qr&6)throw Error(it(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(gq(t,s),t===ts&&(Li=ts=null,fs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wb||(wb=!0,m$(Xv,function(){return Lf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=So.transition,So.transition=null;var a=ln;ln=1;var o=qr;qr|=4,yB.current=null,MK(t,r),o$(r,t),tK(q_),Kv=!!X_,q_=X_=null,t.current=r,NK(r),aq(),qr=o,ln=a,So.transition=s}else t.current=r;if(wb&&(wb=!1,kc=t,hw=i),s=t.pendingLanes,s===0&&(Dc=null),uq(r.stateNode),la(t,Si()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(dw)throw dw=!1,t=gT,gT=null,t;return hw&1&&t.tag!==0&&Lf(),s=t.pendingLanes,s&1?t===mT?sm++:(sm=0,mT=t):sm=0,Qc(),null}function Lf(){if(kc!==null){var t=j5(hw),e=So.transition,r=ln;try{if(So.transition=null,ln=16>t?16:t,kc===null)var n=!1;else{if(t=kc,kc=null,hw=0,qr&6)throw Error(it(331));var i=qr;for(qr|=4,Mt=t.current;Mt!==null;){var s=Mt,a=s.child;if(Mt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Mt=u;Mt!==null;){var c=Mt;switch(c.tag){case 0:case 11:case 15:nm(8,c,s)}var h=c.child;if(h!==null)h.return=c,Mt=h;else for(;Mt!==null;){c=Mt;var f=c.sibling,g=c.return;if(i$(c),c===u){Mt=null;break}if(f!==null){f.return=g,Mt=f;break}Mt=g}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Mt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Mt=a;else e:for(;Mt!==null;){if(s=Mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nm(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Mt=x;break e}Mt=s.return}}var v=t.current;for(Mt=v;Mt!==null;){a=Mt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Mt=w;else e:for(a=v;Mt!==null;){if(o=Mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_x(9,o)}}catch(T){oi(o,o.return,T)}if(o===a){Mt=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,Mt=P;break e}Mt=o.return}}if(qr=i,Qc(),Fl&&typeof Fl.onPostCommitFiberRoot=="function")try{Fl.onPostCommitFiberRoot(yx,t)}catch{}n=!0}return n}finally{ln=r,So.transition=e}}return!1}function $D(t,e,r){e=Kf(r,e),e=Y3(t,e,1),t=Rc(t,e,1),e=zs(),t!==null&&(Ly(t,1,e),la(t,e))}function oi(t,e,r){if(t.tag===3)$D(t,t,r);else for(;e!==null;){if(e.tag===3){$D(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dc===null||!Dc.has(n))){t=Kf(r,t),t=X3(e,t,1),e=Rc(e,t,1),t=zs(),e!==null&&(Ly(e,1,t),la(e,t));break}}e=e.return}}function FK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zs(),t.pingedLanes|=t.suspendedLanes&r,ts===t&&(fs&r)===r&&(Hi===4||Hi===3&&(fs&130023424)===fs&&500>Si()-vB?Gd(t,0):bB|=r),la(t,e)}function p$(t,e){e===0&&(t.mode&1?(e=cb,cb<<=1,!(cb&130023424)&&(cb=4194304)):e=1);var r=zs();t=Nu(t,e),t!==null&&(Ly(t,e,r),la(t,r))}function AK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),p$(t,r)}function OK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(it(314))}n!==null&&n.delete(e),p$(t,r)}var g$;g$=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||aa.current)ra=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ra=!1,_K(t,e,r);ra=!!(t.flags&131072)}else ra=!1,Hn&&e.flags&1048576&&b3(e,nw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vv(t,e),t=e.pendingProps;var i=jf(e,Cs.current);If(e,r),i=hB(null,e,n,t,i,r);var s=fB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oa(n)?(s=!0,tw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oB(e),i.updater=kx,e.stateNode=i,i._reactInternals=e,iT(e,n,t,r),e=oT(null,e,n,!0,s,r)):(e.tag=0,Hn&&s&&eB(e),Ds(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vv(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=VK(n),t=Ho(n,t),i){case 0:e=aT(null,e,n,t,r);break e;case 1:e=MD(null,e,n,t,r);break e;case 11:e=PD(null,e,n,t,r);break e;case 14:e=BD(null,e,n,Ho(n.type,t),r);break e}throw Error(it(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ho(n,i),aT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ho(n,i),MD(t,e,n,i,r);case 3:e:{if(J3(e),t===null)throw Error(it(387));n=e.pendingProps,s=e.memoizedState,i=s.element,S3(t,e),aw(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kf(Error(it(423)),e),e=ND(t,e,n,r,i);break e}else if(n!==i){i=Kf(Error(it(424)),e),e=ND(t,e,n,r,i);break e}else for(Na=Ec(e.stateNode.containerInfo.firstChild),Ra=e,Hn=!0,Xo=null,r=T3(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yf(),n===i){e=Eu(t,e,r);break e}Ds(t,e,n,r)}e=e.child}return e;case 5:return P3(e),t===null&&tT(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,K_(n,i)?a=null:s!==null&&K_(n,s)&&(e.flags|=32),Q3(t,e),Ds(t,e,a,r),e.child;case 6:return t===null&&tT(e),null;case 13:return Z3(t,e,r);case 4:return lB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xf(e,null,n,r):Ds(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ho(n,i),PD(t,e,n,i,r);case 7:return Ds(t,e,e.pendingProps,r),e.child;case 8:return Ds(t,e,e.pendingProps.children,r),e.child;case 12:return Ds(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,_n(iw,n._currentValue),n._currentValue=a,s!==null)if(dl(s.value,a)){if(s.children===i.children&&!aa.current){e=Eu(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Cu(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),rT(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(it(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),rT(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ds(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,If(e,r),i=Co(i),n=n(i),e.flags|=1,Ds(t,e,n,r),e.child;case 14:return n=e.type,i=Ho(n,e.pendingProps),i=Ho(n.type,i),BD(t,e,n,i,r);case 15:return q3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ho(n,i),vv(t,e),e.tag=1,oa(n)?(t=!0,tw(e)):t=!1,If(e,r),C3(e,n,i),iT(e,n,i,r),oT(null,e,n,!0,t,r);case 19:return e$(t,e,r);case 22:return K3(t,e,r)}throw Error(it(156,e.tag))};function m$(t,e){return W5(t,e)}function $K(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bo(t,e,r,n){return new $K(t,e,r,n)}function kB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VK(t){if(typeof t=="function")return kB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WP)return 11;if(t===HP)return 14}return 2}function Lc(t,e){var r=t.alternate;return r===null?(r=bo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Sv(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")kB(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ff:return jd(r.children,i,s,e);case zP:a=8,i|=8;break;case B_:return t=bo(12,r,e,i|2),t.elementType=B_,t.lanes=s,t;case M_:return t=bo(13,r,e,i),t.elementType=M_,t.lanes=s,t;case N_:return t=bo(19,r,e,i),t.elementType=N_,t.lanes=s,t;case _5:return Px(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k5:a=10;break e;case C5:a=9;break e;case WP:a=11;break e;case HP:a=14;break e;case yc:a=16,n=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return e=bo(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function jd(t,e,r,n){return t=bo(7,t,n,e),t.lanes=r,t}function Px(t,e,r,n){return t=bo(22,t,n,e),t.elementType=_5,t.lanes=r,t.stateNode={isHidden:!1},t}function iC(t,e,r){return t=bo(6,t,null,e),t.lanes=r,t}function sC(t,e,r){return e=bo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$k(0),this.expirationTimes=$k(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$k(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CB(t,e,r,n,i,s,a,o,l){return t=new zK(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oB(s),t}function WK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function y$(t){if(!t)return Wc;t=t._reactInternals;e:{if(bh(t)!==t||t.tag!==1)throw Error(it(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(it(171))}if(t.tag===1){var r=t.type;if(oa(r))return m3(t,r,e)}return e}function b$(t,e,r,n,i,s,a,o,l){return t=CB(r,n,!0,t,i,s,a,o,l),t.context=y$(null),r=t.current,n=zs(),i=Ic(r),s=Cu(n,i),s.callback=e??null,Rc(r,s,i),t.current.lanes=i,Ly(t,i,n),la(t,n),t}function Bx(t,e,r,n){var i=e.current,s=zs(),a=Ic(i);return r=y$(r),e.context===null?e.context=r:e.pendingContext=r,e=Cu(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rc(i,e,a),t!==null&&(ol(t,i,a,s),mv(t,i,a)),a}function pw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _B(t,e){VD(t,e),(t=t.alternate)&&VD(t,e)}function HK(){return null}var v$=typeof reportError=="function"?reportError:function(t){console.error(t)};function TB(t){this._internalRoot=t}Mx.prototype.render=TB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(it(409));Bx(t,e,null,null)};Mx.prototype.unmount=TB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sh(function(){Bx(null,t,null,null)}),e[Mu]=null}};function Mx(t){this._internalRoot=t}Mx.prototype.unstable_scheduleHydration=function(t){if(t){var e=q5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vc.length&&e!==0&&e<vc[r].priority;r++);vc.splice(r,0,t),r===0&&Q5(t)}};function PB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zD(){}function UK(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=pw(a);s.call(u)}}var a=b$(e,n,t,0,null,!1,!1,"",zD);return t._reactRootContainer=a,t[Mu]=a.current,Rm(t.nodeType===8?t.parentNode:t),sh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=pw(l);o.call(u)}}var l=CB(t,0,!1,null,null,!1,!1,"",zD);return t._reactRootContainer=l,t[Mu]=l.current,Rm(t.nodeType===8?t.parentNode:t),sh(function(){Bx(e,l,r,n)}),l}function Ex(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=pw(a);o.call(l)}}Bx(e,a,t,i)}else a=UK(r,e,t,i,n);return pw(a)}Y5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Vg(e.pendingLanes);r!==0&&(jP(e,r|1),la(e,Si()),!(qr&6)&&(Qf=Si()+500,Qc()))}break;case 13:sh(function(){var n=Nu(t,1);if(n!==null){var i=zs();ol(n,t,1,i)}}),_B(t,1)}};YP=function(t){if(t.tag===13){var e=Nu(t,134217728);if(e!==null){var r=zs();ol(e,t,134217728,r)}_B(t,134217728)}};X5=function(t){if(t.tag===13){var e=Ic(t),r=Nu(t,e);if(r!==null){var n=zs();ol(r,t,e,n)}_B(t,e)}};q5=function(){return ln};K5=function(t,e){var r=ln;try{return ln=t,e()}finally{ln=r}};V_=function(t,e,r){switch(e){case"input":if(D_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xx(n);if(!i)throw Error(it(90));P5(n),D_(n,i)}}}break;case"textarea":M5(t,r);break;case"select":e=r.value,e!=null&&Nf(t,!!r.multiple,e,!1)}};F5=wB;A5=sh;var GK={usingClientEntryPoint:!1,Events:[Ay,yf,xx,I5,L5,wB]},dg={findFiberByHostInstance:Nd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jK={bundleType:dg.bundleType,version:dg.version,rendererPackageName:dg.rendererPackageName,rendererConfig:dg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V5(t),t===null?null:t.stateNode},findFiberByHostInstance:dg.findFiberByHostInstance||HK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xb.isDisabled&&xb.supportsFiber)try{yx=xb.inject(jK),Fl=xb}catch{}}Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GK;Wa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PB(e))throw Error(it(200));return WK(t,e,null,r)};Wa.createRoot=function(t,e){if(!PB(t))throw Error(it(299));var r=!1,n="",i=v$;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CB(t,1,!1,null,null,r,!1,n,i),t[Mu]=e.current,Rm(t.nodeType===8?t.parentNode:t),new TB(e)};Wa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=V5(e),t=t===null?null:t.stateNode,t};Wa.flushSync=function(t){return sh(t)};Wa.hydrate=function(t,e,r){if(!Nx(e))throw Error(it(200));return Ex(null,t,e,!0,r)};Wa.hydrateRoot=function(t,e,r){if(!PB(t))throw Error(it(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=v$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=b$(e,null,t,1,r??null,i,!1,s,a),t[Mu]=e.current,Rm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Mx(e)};Wa.render=function(t,e,r){if(!Nx(e))throw Error(it(200));return Ex(null,t,e,!1,r)};Wa.unmountComponentAtNode=function(t){if(!Nx(t))throw Error(it(40));return t._reactRootContainer?(sh(function(){Ex(null,null,t,!1,function(){t._reactRootContainer=null,t[Mu]=null})}),!0):!1};Wa.unstable_batchedUpdates=wB;Wa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Nx(r))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return Ex(t,e,r,!1,n)};Wa.version="18.2.0-next-9e3b772b8-20220608";function w$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w$)}catch(t){console.error(t)}}w$(),b5.exports=Wa;var $y=b5.exports;const Wg=za($y),YK=o5({__proto__:null,default:Wg},[$y]);var WD=$y;T_.createRoot=WD.createRoot,T_.hydrateRoot=WD.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},li.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const HD="popstate";function XK(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Xl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),zm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:oh(s))}function n(i,s){ah(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return KK(e,r,n,t)}function Or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ah(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qK(){return Math.random().toString(36).substr(2,8)}function UD(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,r,n){return r===void 0&&(r=null),li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xl(e):e,{state:r,key:e&&e.key||n||qK()})}function oh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KK(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=wi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(li({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=wi.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:x})}function f(b,x){o=wi.Push;let v=zm(y.location,b,x);r&&r(v,b),u=c()+1;let w=UD(v,u),P=y.createHref(v);try{a.pushState(w,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(P)}s&&l&&l({action:o,location:y.location,delta:1})}function g(b,x){o=wi.Replace;let v=zm(y.location,b,x);r&&r(v,b),u=c();let w=UD(v,u),P=y.createHref(v);a.replaceState(w,"",P),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:oh(b);return v=v.replace(/ $/,"%20"),Or(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(HD,h),l=b,()=>{i.removeEventListener(HD,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let x=m(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(b){return a.go(b)}};return y}var si;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(si||(si={}));const QK=new Set(["lazy","caseSensitive","path","id","index","children"]);function JK(t){return t.index===!0}function vT(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let a=[...r,s],o=typeof i.id=="string"?i.id:a.join("-");if(Or(i.index!==!0||!i.children,"Cannot specify children on an index route"),Or(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),JK(i)){let l=li({},i,e(i),{id:o});return n[o]=l,l}else{let l=li({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=vT(i.children,e,a,n)),l}})}function Cf(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Xl(e):e,i=_p(n.pathname||"/",r);if(i==null)return null;let s=x$(t);eQ(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let l=hQ(i);a=uQ(s[o],l)}return a}function ZK(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function x$(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Or(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=_u([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(Or(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),x$(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oQ(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of S$(s.path))i(s,a,l)}),e}function S$(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=S$(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function eQ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lQ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tQ=/^:[\w-]+$/,rQ=3,nQ=2,iQ=1,sQ=10,aQ=-2,GD=t=>t==="*";function oQ(t,e){let r=t.split("/"),n=r.length;return r.some(GD)&&(n+=aQ),e&&(n+=nQ),r.filter(i=>!GD(i)).reduce((i,s)=>i+(tQ.test(s)?rQ:s===""?iQ:sQ),n)}function lQ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function uQ(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=cQ({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let h=o.route;s.push({params:n,pathname:_u([i,c.pathname]),pathnameBase:gQ(_u([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=_u([i,c.pathnameBase]))}return s}function cQ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=dQ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return g&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function dQ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ah(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function hQ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ah(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _p(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function fQ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Xl(t):t;return{pathname:r?r.startsWith("/")?r:pQ(r,e):e,search:mQ(n),hash:yQ(i)}}function pQ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function aC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function BB(t,e){let r=k$(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function MB(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Xl(t):(i=li({},t),Or(!i.pathname||!i.pathname.includes("?"),aC("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),aC("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),aC("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=fQ(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _u=t=>t.join("/").replace(/\/\/+/g,"/"),gQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class NB{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function C$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _$=["post","put","patch","delete"],bQ=new Set(_$),vQ=["get",..._$],wQ=new Set(vQ),xQ=new Set([301,302,303,307,308]),SQ=new Set([307,308]),oC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kQ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},T$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CQ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),P$="remix-router-transitions";function _Q(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Or(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ye=t.detectErrorBoundary;i=xe=>({hasErrorBoundary:ye(xe)})}else i=CQ;let s={},a=vT(t.routes,i,void 0,s),o,l=t.basename||"/",u=li({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,g=null,m=null,y=t.hydrationData!=null,b=Cf(a,t.history.location,l),x=null;if(b==null){let ye=io(404,{pathname:t.history.location.pathname}),{matches:xe,route:$e}=ZD(a);b=xe,x={[$e.id]:ye}}let v,w=b.some(ye=>ye.route.lazy),P=b.some(ye=>ye.route.loader);if(w)v=!1;else if(!P)v=!0;else if(u.v7_partialHydration){let ye=t.hydrationData?t.hydrationData.loaderData:null,xe=t.hydrationData?t.hydrationData.errors:null,$e=rt=>rt.route.loader?rt.route.loader.hydrate===!0?!1:ye&&ye[rt.route.id]!==void 0||xe&&xe[rt.route.id]!==void 0:!0;if(xe){let rt=b.findIndex(mt=>xe[mt.route.id]!==void 0);v=b.slice(0,rt+1).every($e)}else v=b.every($e)}else v=t.hydrationData!=null;let T,_={historyAction:t.history.action,location:t.history.location,matches:b,initialized:v,navigation:oC,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},M=wi.Pop,E=!1,D,L=!1,F=new Map,z=null,V=!1,O=!1,I=[],H=[],W=new Map,A=0,U=-1,q=new Map,ae=new Set,ne=new Map,ge=new Map,fe=new Set,J=new Map,ce=new Map,Se=!1;function K(){if(c=t.history.listen(ye=>{let{action:xe,location:$e,delta:rt}=ye;if(Se){Se=!1;return}ah(ce.size===0||rt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let mt=Ye({currentLocation:_.location,nextLocation:$e,historyAction:xe});if(mt&&rt!=null){Se=!0,t.history.go(rt*-1),qe(mt,{state:"blocked",location:$e,proceed(){qe(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:$e}),t.history.go(rt)},reset(){let Ot=new Map(_.blockers);Ot.set(mt,hg),de({blockers:Ot})}});return}return oe(xe,$e)}),r){FQ(e,F);let ye=()=>AQ(e,F);e.addEventListener("pagehide",ye),z=()=>e.removeEventListener("pagehide",ye)}return _.initialized||oe(wi.Pop,_.location,{initialHydration:!0}),T}function Z(){c&&c(),z&&z(),h.clear(),D&&D.abort(),_.fetchers.forEach((ye,xe)=>At(xe)),_.blockers.forEach((ye,xe)=>Et(xe))}function ue(ye){return h.add(ye),()=>h.delete(ye)}function de(ye,xe){xe===void 0&&(xe={}),_=li({},_,ye);let $e=[],rt=[];u.v7_fetcherPersist&&_.fetchers.forEach((mt,Ot)=>{mt.state==="idle"&&(fe.has(Ot)?rt.push(Ot):$e.push(Ot))}),[...h].forEach(mt=>mt(_,{deletedFetchers:rt,unstable_viewTransitionOpts:xe.viewTransitionOpts,unstable_flushSync:xe.flushSync===!0})),u.v7_fetcherPersist&&($e.forEach(mt=>_.fetchers.delete(mt)),rt.forEach(mt=>At(mt)))}function re(ye,xe,$e){var rt,mt;let{flushSync:Ot}=$e===void 0?{}:$e,It=_.actionData!=null&&_.navigation.formMethod!=null&&Go(_.navigation.formMethod)&&_.navigation.state==="loading"&&((rt=ye.state)==null?void 0:rt._isRedirect)!==!0,$t;xe.actionData?Object.keys(xe.actionData).length>0?$t=xe.actionData:$t=null:It?$t=_.actionData:$t=null;let Ct=xe.loaderData?JD(_.loaderData,xe.loaderData,xe.matches||[],xe.errors):_.loaderData,Zt=_.blockers;Zt.size>0&&(Zt=new Map(Zt),Zt.forEach((Sr,jr)=>Zt.set(jr,hg)));let Vr=E===!0||_.navigation.formMethod!=null&&Go(_.navigation.formMethod)&&((mt=ye.state)==null?void 0:mt._isRedirect)!==!0;o&&(a=o,o=void 0),V||M===wi.Pop||(M===wi.Push?t.history.push(ye,ye.state):M===wi.Replace&&t.history.replace(ye,ye.state));let Wt;if(M===wi.Pop){let Sr=F.get(_.location.pathname);Sr&&Sr.has(ye.pathname)?Wt={currentLocation:_.location,nextLocation:ye}:F.has(ye.pathname)&&(Wt={currentLocation:ye,nextLocation:_.location})}else if(L){let Sr=F.get(_.location.pathname);Sr?Sr.add(ye.pathname):(Sr=new Set([ye.pathname]),F.set(_.location.pathname,Sr)),Wt={currentLocation:_.location,nextLocation:ye}}de(li({},xe,{actionData:$t,loaderData:Ct,historyAction:M,location:ye,initialized:!0,navigation:oC,revalidation:"idle",restoreScrollPosition:_r(ye,xe.matches||_.matches),preventScrollReset:Vr,blockers:Zt}),{viewTransitionOpts:Wt,flushSync:Ot===!0}),M=wi.Pop,E=!1,L=!1,V=!1,O=!1,I=[],H=[]}async function Q(ye,xe){if(typeof ye=="number"){t.history.go(ye);return}let $e=wT(_.location,_.matches,l,u.v7_prependBasename,ye,u.v7_relativeSplatPath,xe==null?void 0:xe.fromRouteId,xe==null?void 0:xe.relative),{path:rt,submission:mt,error:Ot}=jD(u.v7_normalizeFormMethod,!1,$e,xe),It=_.location,$t=zm(_.location,rt,xe&&xe.state);$t=li({},$t,t.history.encodeLocation($t));let Ct=xe&&xe.replace!=null?xe.replace:void 0,Zt=wi.Push;Ct===!0?Zt=wi.Replace:Ct===!1||mt!=null&&Go(mt.formMethod)&&mt.formAction===_.location.pathname+_.location.search&&(Zt=wi.Replace);let Vr=xe&&"preventScrollReset"in xe?xe.preventScrollReset===!0:void 0,Wt=(xe&&xe.unstable_flushSync)===!0,Sr=Ye({currentLocation:It,nextLocation:$t,historyAction:Zt});if(Sr){qe(Sr,{state:"blocked",location:$t,proceed(){qe(Sr,{state:"proceeding",proceed:void 0,reset:void 0,location:$t}),Q(ye,xe)},reset(){let jr=new Map(_.blockers);jr.set(Sr,hg),de({blockers:jr})}});return}return await oe(Zt,$t,{submission:mt,pendingError:Ot,preventScrollReset:Vr,replace:xe&&xe.replace,enableViewTransition:xe&&xe.unstable_viewTransition,flushSync:Wt})}function ee(){if(Te(),de({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){oe(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}oe(M||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function oe(ye,xe,$e){D&&D.abort(),D=null,M=ye,V=($e&&$e.startUninterruptedRevalidation)===!0,Rr(_.location,_.matches),E=($e&&$e.preventScrollReset)===!0,L=($e&&$e.enableViewTransition)===!0;let rt=o||a,mt=$e&&$e.overrideNavigation,Ot=Cf(rt,xe,l),It=($e&&$e.flushSync)===!0;if(!Ot){let jr=io(404,{pathname:xe.pathname}),{matches:Ai,route:Sn}=ZD(rt);St(),re(xe,{matches:Ai,loaderData:{},errors:{[Sn.id]:jr}},{flushSync:It});return}if(_.initialized&&!O&&NQ(_.location,xe)&&!($e&&$e.submission&&Go($e.submission.formMethod))){re(xe,{matches:Ot},{flushSync:It});return}D=new AbortController;let $t=pg(t.history,xe,D.signal,$e&&$e.submission),Ct,Zt;if($e&&$e.pendingError)Zt={[am(Ot).route.id]:$e.pendingError};else if($e&&$e.submission&&Go($e.submission.formMethod)){let jr=await Me($t,xe,$e.submission,Ot,{replace:$e.replace,flushSync:It});if(jr.shortCircuited)return;Ct=jr.pendingActionData,Zt=jr.pendingActionError,mt=lC(xe,$e.submission),It=!1,$t=new Request($t.url,{signal:$t.signal})}let{shortCircuited:Vr,loaderData:Wt,errors:Sr}=await ke($t,xe,Ot,mt,$e&&$e.submission,$e&&$e.fetcherSubmission,$e&&$e.replace,$e&&$e.initialHydration===!0,It,Ct,Zt);Vr||(D=null,re(xe,li({matches:Ot},Ct?{actionData:Ct}:{},{loaderData:Wt,errors:Sr})))}async function Me(ye,xe,$e,rt,mt){mt===void 0&&(mt={}),Te();let Ot=IQ(xe,$e);de({navigation:Ot},{flushSync:mt.flushSync===!0});let It,$t=ST(rt,xe);if(!$t.route.action&&!$t.route.lazy)It={type:si.error,error:io(405,{method:ye.method,pathname:xe.pathname,routeId:$t.route.id})};else if(It=await fg("action",ye,$t,rt,s,i,l,u.v7_relativeSplatPath),ye.signal.aborted)return{shortCircuited:!0};if(Id(It)){let Ct;return mt&&mt.replace!=null?Ct=mt.replace:Ct=It.location===_.location.pathname+_.location.search,await me(_,It,{submission:$e,replace:Ct}),{shortCircuited:!0}}if(_f(It)){let Ct=am(rt,$t.route.id);return(mt&&mt.replace)!==!0&&(M=wi.Push),{pendingActionData:{},pendingActionError:{[Ct.route.id]:It.error}}}if(Dd(It))throw io(400,{type:"defer-action"});return{pendingActionData:{[$t.route.id]:It.data}}}async function ke(ye,xe,$e,rt,mt,Ot,It,$t,Ct,Zt,Vr){let Wt=rt||lC(xe,mt),Sr=mt||Ot||rI(Wt),jr=o||a,[Ai,Sn]=YD(t.history,_,$e,Sr,xe,u.v7_partialHydration&&$t===!0,O,I,H,fe,ne,ae,jr,l,Zt,Vr);if(St(Pr=>!($e&&$e.some(Yr=>Yr.route.id===Pr))||Ai&&Ai.some(Yr=>Yr.route.id===Pr)),U=++A,Ai.length===0&&Sn.length===0){let Pr=at();return re(xe,li({matches:$e,loaderData:{},errors:Vr||null},Zt?{actionData:Zt}:{},Pr?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Ct}),{shortCircuited:!0}}if(!V&&(!u.v7_partialHydration||!$t)){Sn.forEach(Yr=>{let mi=_.fetchers.get(Yr.key),Xu=gg(void 0,mi?mi.data:void 0);_.fetchers.set(Yr.key,Xu)});let Pr=Zt||_.actionData;de(li({navigation:Wt},Pr?Object.keys(Pr).length===0?{actionData:null}:{actionData:Pr}:{},Sn.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Ct})}Sn.forEach(Pr=>{W.has(Pr.key)&&Ce(Pr.key),Pr.controller&&W.set(Pr.key,Pr.controller)});let kn=()=>Sn.forEach(Pr=>Ce(Pr.key));D&&D.signal.addEventListener("abort",kn);let{results:gi,loaderResults:wr,fetcherResults:xr}=await Be(_.matches,$e,Ai,Sn,ye);if(ye.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",kn),Sn.forEach(Pr=>W.delete(Pr.key));let ss=eI(gi);if(ss){if(ss.idx>=Ai.length){let Pr=Sn[ss.idx-Ai.length].key;ae.add(Pr)}return await me(_,ss.result,{replace:It}),{shortCircuited:!0}}let{loaderData:Zn,errors:Mi}=QD(_,$e,Ai,wr,Vr,Sn,xr,J);J.forEach((Pr,Yr)=>{Pr.subscribe(mi=>{(mi||Pr.done)&&J.delete(Yr)})}),u.v7_partialHydration&&$t&&_.errors&&Object.entries(_.errors).filter(Pr=>{let[Yr]=Pr;return!Ai.some(mi=>mi.route.id===Yr)}).forEach(Pr=>{let[Yr,mi]=Pr;Mi=Object.assign(Mi||{},{[Yr]:mi})});let Yu=at(),Lo=ft(U),ql=Yu||Lo||Sn.length>0;return li({loaderData:Zn,errors:Mi},ql?{fetchers:new Map(_.fetchers)}:{})}function j(ye,xe,$e,rt){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(ye)&&Ce(ye);let mt=(rt&&rt.unstable_flushSync)===!0,Ot=o||a,It=wT(_.location,_.matches,l,u.v7_prependBasename,$e,u.v7_relativeSplatPath,xe,rt==null?void 0:rt.relative),$t=Cf(Ot,It,l);if(!$t){ot(ye,xe,io(404,{pathname:It}),{flushSync:mt});return}let{path:Ct,submission:Zt,error:Vr}=jD(u.v7_normalizeFormMethod,!0,It,rt);if(Vr){ot(ye,xe,Vr,{flushSync:mt});return}let Wt=ST($t,Ct);if(E=(rt&&rt.preventScrollReset)===!0,Zt&&Go(Zt.formMethod)){ie(ye,xe,Ct,Wt,$t,mt,Zt);return}ne.set(ye,{routeId:xe,path:Ct}),te(ye,xe,Ct,Wt,$t,mt,Zt)}async function ie(ye,xe,$e,rt,mt,Ot,It){if(Te(),ne.delete(ye),!rt.route.action&&!rt.route.lazy){let Yr=io(405,{method:It.formMethod,pathname:$e,routeId:xe});ot(ye,xe,Yr,{flushSync:Ot});return}let $t=_.fetchers.get(ye);Ge(ye,LQ(It,$t),{flushSync:Ot});let Ct=new AbortController,Zt=pg(t.history,$e,Ct.signal,It);W.set(ye,Ct);let Vr=A,Wt=await fg("action",Zt,rt,mt,s,i,l,u.v7_relativeSplatPath);if(Zt.signal.aborted){W.get(ye)===Ct&&W.delete(ye);return}if(u.v7_fetcherPersist&&fe.has(ye)){if(Id(Wt)||_f(Wt)){Ge(ye,gc(void 0));return}}else{if(Id(Wt))if(W.delete(ye),U>Vr){Ge(ye,gc(void 0));return}else return ae.add(ye),Ge(ye,gg(It)),me(_,Wt,{fetcherSubmission:It});if(_f(Wt)){ot(ye,xe,Wt.error);return}}if(Dd(Wt))throw io(400,{type:"defer-action"});let Sr=_.navigation.location||_.location,jr=pg(t.history,Sr,Ct.signal),Ai=o||a,Sn=_.navigation.state!=="idle"?Cf(Ai,_.navigation.location,l):_.matches;Or(Sn,"Didn't find any matches after fetcher action");let kn=++A;q.set(ye,kn);let gi=gg(It,Wt.data);_.fetchers.set(ye,gi);let[wr,xr]=YD(t.history,_,Sn,It,Sr,!1,O,I,H,fe,ne,ae,Ai,l,{[rt.route.id]:Wt.data},void 0);xr.filter(Yr=>Yr.key!==ye).forEach(Yr=>{let mi=Yr.key,Xu=_.fetchers.get(mi),id=gg(void 0,Xu?Xu.data:void 0);_.fetchers.set(mi,id),W.has(mi)&&Ce(mi),Yr.controller&&W.set(mi,Yr.controller)}),de({fetchers:new Map(_.fetchers)});let ss=()=>xr.forEach(Yr=>Ce(Yr.key));Ct.signal.addEventListener("abort",ss);let{results:Zn,loaderResults:Mi,fetcherResults:Yu}=await Be(_.matches,Sn,wr,xr,jr);if(Ct.signal.aborted)return;Ct.signal.removeEventListener("abort",ss),q.delete(ye),W.delete(ye),xr.forEach(Yr=>W.delete(Yr.key));let Lo=eI(Zn);if(Lo){if(Lo.idx>=wr.length){let Yr=xr[Lo.idx-wr.length].key;ae.add(Yr)}return me(_,Lo.result)}let{loaderData:ql,errors:Pr}=QD(_,_.matches,wr,Mi,void 0,xr,Yu,J);if(_.fetchers.has(ye)){let Yr=gc(Wt.data);_.fetchers.set(ye,Yr)}ft(kn),_.navigation.state==="loading"&&kn>U?(Or(M,"Expected pending action"),D&&D.abort(),re(_.navigation.location,{matches:Sn,loaderData:ql,errors:Pr,fetchers:new Map(_.fetchers)})):(de({errors:Pr,loaderData:JD(_.loaderData,ql,Sn,Pr),fetchers:new Map(_.fetchers)}),O=!1)}async function te(ye,xe,$e,rt,mt,Ot,It){let $t=_.fetchers.get(ye);Ge(ye,gg(It,$t?$t.data:void 0),{flushSync:Ot});let Ct=new AbortController,Zt=pg(t.history,$e,Ct.signal);W.set(ye,Ct);let Vr=A,Wt=await fg("loader",Zt,rt,mt,s,i,l,u.v7_relativeSplatPath);if(Dd(Wt)&&(Wt=await N$(Wt,Zt.signal,!0)||Wt),W.get(ye)===Ct&&W.delete(ye),!Zt.signal.aborted){if(fe.has(ye)){Ge(ye,gc(void 0));return}if(Id(Wt))if(U>Vr){Ge(ye,gc(void 0));return}else{ae.add(ye),await me(_,Wt);return}if(_f(Wt)){ot(ye,xe,Wt.error);return}Or(!Dd(Wt),"Unhandled fetcher deferred data"),Ge(ye,gc(Wt.data))}}async function me(ye,xe,$e){let{submission:rt,fetcherSubmission:mt,replace:Ot}=$e===void 0?{}:$e;xe.revalidate&&(O=!0);let It=zm(ye.location,xe.location,{_isRedirect:!0});if(Or(It,"Expected a location on the redirect navigation"),r){let Sr=!1;if(xe.reloadDocument)Sr=!0;else if(T$.test(xe.location)){const jr=t.history.createURL(xe.location);Sr=jr.origin!==e.location.origin||_p(jr.pathname,l)==null}if(Sr){Ot?e.location.replace(xe.location):e.location.assign(xe.location);return}}D=null;let $t=Ot===!0?wi.Replace:wi.Push,{formMethod:Ct,formAction:Zt,formEncType:Vr}=ye.navigation;!rt&&!mt&&Ct&&Zt&&Vr&&(rt=rI(ye.navigation));let Wt=rt||mt;if(SQ.has(xe.status)&&Wt&&Go(Wt.formMethod))await oe($t,It,{submission:li({},Wt,{formAction:xe.location}),preventScrollReset:E});else{let Sr=lC(It,rt);await oe($t,It,{overrideNavigation:Sr,fetcherSubmission:mt,preventScrollReset:E})}}async function Be(ye,xe,$e,rt,mt){let Ot=await Promise.all([...$e.map(Ct=>fg("loader",mt,Ct,xe,s,i,l,u.v7_relativeSplatPath)),...rt.map(Ct=>Ct.matches&&Ct.match&&Ct.controller?fg("loader",pg(t.history,Ct.path,Ct.controller.signal),Ct.match,Ct.matches,s,i,l,u.v7_relativeSplatPath):{type:si.error,error:io(404,{pathname:Ct.path})})]),It=Ot.slice(0,$e.length),$t=Ot.slice($e.length);return await Promise.all([tI(ye,$e,It,It.map(()=>mt.signal),!1,_.loaderData),tI(ye,rt.map(Ct=>Ct.match),$t,rt.map(Ct=>Ct.controller?Ct.controller.signal:null),!0)]),{results:Ot,loaderResults:It,fetcherResults:$t}}function Te(){O=!0,I.push(...St()),ne.forEach((ye,xe)=>{W.has(xe)&&(H.push(xe),Ce(xe))})}function Ge(ye,xe,$e){$e===void 0&&($e={}),_.fetchers.set(ye,xe),de({fetchers:new Map(_.fetchers)},{flushSync:($e&&$e.flushSync)===!0})}function ot(ye,xe,$e,rt){rt===void 0&&(rt={});let mt=am(_.matches,xe);At(ye),de({errors:{[mt.route.id]:$e},fetchers:new Map(_.fetchers)},{flushSync:(rt&&rt.flushSync)===!0})}function Dt(ye){return u.v7_fetcherPersist&&(ge.set(ye,(ge.get(ye)||0)+1),fe.has(ye)&&fe.delete(ye)),_.fetchers.get(ye)||kQ}function At(ye){let xe=_.fetchers.get(ye);W.has(ye)&&!(xe&&xe.state==="loading"&&q.has(ye))&&Ce(ye),ne.delete(ye),q.delete(ye),ae.delete(ye),fe.delete(ye),_.fetchers.delete(ye)}function De(ye){if(u.v7_fetcherPersist){let xe=(ge.get(ye)||0)-1;xe<=0?(ge.delete(ye),fe.add(ye)):ge.set(ye,xe)}else At(ye);de({fetchers:new Map(_.fetchers)})}function Ce(ye){let xe=W.get(ye);Or(xe,"Expected fetch controller: "+ye),xe.abort(),W.delete(ye)}function Ne(ye){for(let xe of ye){let $e=Dt(xe),rt=gc($e.data);_.fetchers.set(xe,rt)}}function at(){let ye=[],xe=!1;for(let $e of ae){let rt=_.fetchers.get($e);Or(rt,"Expected fetcher: "+$e),rt.state==="loading"&&(ae.delete($e),ye.push($e),xe=!0)}return Ne(ye),xe}function ft(ye){let xe=[];for(let[$e,rt]of q)if(rt<ye){let mt=_.fetchers.get($e);Or(mt,"Expected fetcher: "+$e),mt.state==="loading"&&(Ce($e),q.delete($e),xe.push($e))}return Ne(xe),xe.length>0}function Ze(ye,xe){let $e=_.blockers.get(ye)||hg;return ce.get(ye)!==xe&&ce.set(ye,xe),$e}function Et(ye){_.blockers.delete(ye),ce.delete(ye)}function qe(ye,xe){let $e=_.blockers.get(ye)||hg;Or($e.state==="unblocked"&&xe.state==="blocked"||$e.state==="blocked"&&xe.state==="blocked"||$e.state==="blocked"&&xe.state==="proceeding"||$e.state==="blocked"&&xe.state==="unblocked"||$e.state==="proceeding"&&xe.state==="unblocked","Invalid blocker state transition: "+$e.state+" -> "+xe.state);let rt=new Map(_.blockers);rt.set(ye,xe),de({blockers:rt})}function Ye(ye){let{currentLocation:xe,nextLocation:$e,historyAction:rt}=ye;if(ce.size===0)return;ce.size>1&&ah(!1,"A router only supports one blocker at a time");let mt=Array.from(ce.entries()),[Ot,It]=mt[mt.length-1],$t=_.blockers.get(Ot);if(!($t&&$t.state==="proceeding")&&It({currentLocation:xe,nextLocation:$e,historyAction:rt}))return Ot}function St(ye){let xe=[];return J.forEach(($e,rt)=>{(!ye||ye(rt))&&($e.cancel(),xe.push(rt),J.delete(rt))}),xe}function wt(ye,xe,$e){if(f=ye,m=xe,g=$e||null,!y&&_.navigation===oC){y=!0;let rt=_r(_.location,_.matches);rt!=null&&de({restoreScrollPosition:rt})}return()=>{f=null,m=null,g=null}}function rr(ye,xe){return g&&g(ye,xe.map(rt=>ZK(rt,_.loaderData)))||ye.key}function Rr(ye,xe){if(f&&m){let $e=rr(ye,xe);f[$e]=m()}}function _r(ye,xe){if(f){let $e=rr(ye,xe),rt=f[$e];if(typeof rt=="number")return rt}return null}function Pn(ye){s={},o=vT(ye,i,void 0,s)}return T={get basename(){return l},get future(){return u},get state(){return _},get routes(){return a},get window(){return e},initialize:K,subscribe:ue,enableScrollRestoration:wt,navigate:Q,fetch:j,revalidate:ee,createHref:ye=>t.history.createHref(ye),encodeLocation:ye=>t.history.encodeLocation(ye),getFetcher:Dt,deleteFetcher:De,dispose:Z,getBlocker:Ze,deleteBlocker:Et,_internalFetchControllers:W,_internalActiveDeferreds:J,_internalSetRoutes:Pn},T}function TQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function wT(t,e,r,n,i,s,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let c=MB(i||".",BB(l,s),_p(t.pathname,r)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!EB(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:_u([r,c.pathname])),oh(c)}function jD(t,e,r,n){if(!n||!TQ(n))return{path:r};if(n.formMethod&&!DQ(n.formMethod))return{path:r,error:io(405,{method:n.formMethod})};let i=()=>({path:r,error:io(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=M$(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Go(a))return i();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,m)=>{let[y,b]=m;return""+g+y+"="+b+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Go(a))return i();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Or(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=xT(n.formData),u=n.formData;else if(n.body instanceof FormData)l=xT(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=KD(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=KD(l)}catch{return i()}let c={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Go(c.formMethod))return{path:r,submission:c};let h=Xl(r);return e&&h.search&&EB(h.search)&&l.append("index",""),h.search="?"+l,{path:oh(h),submission:c}}function PQ(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function YD(t,e,r,n,i,s,a,o,l,u,c,h,f,g,m,y){let b=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,x=t.createURL(e.location),v=t.createURL(i),w=y?Object.keys(y)[0]:void 0,T=PQ(r,w).filter((M,E)=>{let{route:D}=M;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(BQ(e.loaderData,e.matches[E],M)||o.some(z=>z===M.route.id))return!0;let L=e.matches[E],F=M;return XD(M,li({currentUrl:x,currentParams:L.params,nextUrl:v,nextParams:F.params},n,{actionResult:b,defaultShouldRevalidate:a||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||B$(L,F)}))}),_=[];return c.forEach((M,E)=>{if(s||!r.some(V=>V.route.id===M.routeId)||u.has(E))return;let D=Cf(f,M.path,g);if(!D){_.push({key:E,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(E),F=ST(D,M.path),z=!1;h.has(E)?z=!1:l.includes(E)?z=!0:L&&L.state!=="idle"&&L.data===void 0?z=a:z=XD(F,li({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:b,defaultShouldRevalidate:a})),z&&_.push({key:E,routeId:M.routeId,path:M.path,matches:D,match:F,controller:new AbortController})}),[T,_]}function BQ(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function B$(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function XD(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function qD(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Or(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";ah(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!QK.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,li({},e(i),{lazy:void 0}))}async function fg(t,e,r,n,i,s,a,o,l){l===void 0&&(l={});let u,c,h,f=y=>{let b,x=new Promise((v,w)=>b=w);return h=()=>b(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:r.params,context:l.requestContext}),x])};try{let y=r.route[t];if(r.route.lazy)if(y){let b,x=await Promise.all([f(y).catch(v=>{b=v}),qD(r.route,s,i)]);if(b)throw b;c=x[0]}else if(await qD(r.route,s,i),y=r.route[t],y)c=await f(y);else if(t==="action"){let b=new URL(e.url),x=b.pathname+b.search;throw io(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:si.data,data:void 0};else if(y)c=await f(y);else{let b=new URL(e.url),x=b.pathname+b.search;throw io(404,{pathname:x})}Or(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){u=si.error,c=y}finally{h&&e.signal.removeEventListener("abort",h)}if(RQ(c)){let y=c.status;if(xQ.has(y)){let x=c.headers.get("Location");if(Or(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!T$.test(x))x=wT(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,x,o);else if(!l.isStaticRequest){let v=new URL(e.url),w=x.startsWith("//")?new URL(v.protocol+x):new URL(x),P=_p(w.pathname,a)!=null;w.origin===v.origin&&P&&(x=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",x),c;return{type:si.redirect,status:y,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===si.error?si.error:si.data,response:c};let b;try{let x=c.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?c.body==null?b=null:b=await c.json():b=await c.text()}catch(x){return{type:si.error,error:x}}return u===si.error?{type:u,error:new NB(y,c.statusText,b),headers:c.headers}:{type:si.data,data:b,statusCode:c.status,headers:c.headers}}if(u===si.error)return{type:u,error:c};if(EQ(c)){var g,m;return{type:si.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:si.data,data:c}}function pg(t,e,r,n){let i=t.createURL(M$(e)).toString(),s={signal:r};if(n&&Go(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=xT(n.formData):s.body=n.formData}return new Request(i,s)}function xT(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function KD(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function MQ(t,e,r,n,i){let s={},a=null,o,l=!1,u={};return r.forEach((c,h)=>{let f=e[h].route.id;if(Or(!Id(c),"Cannot handle redirect results in processLoaderData"),_f(c)){let g=am(t,f),m=c.error;n&&(m=Object.values(n)[0],n=void 0),a=a||{},a[g.route.id]==null&&(a[g.route.id]=m),s[f]=void 0,l||(l=!0,o=C$(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Dd(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(o=c.statusCode),c.headers&&(u[f]=c.headers)}),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function QD(t,e,r,n,i,s,a,o){let{loaderData:l,errors:u}=MQ(e,r,n,i,o);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:g}=s[c];Or(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let m=a[c];if(!(g&&g.signal.aborted))if(_f(m)){let y=am(t.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=li({},u,{[y.route.id]:m.error})),t.fetchers.delete(h)}else if(Id(m))Or(!1,"Unhandled fetcher revalidation redirect");else if(Dd(m))Or(!1,"Unhandled fetcher deferred data");else{let y=gc(m.data);t.fetchers.set(h,y)}}return{loaderData:l,errors:u}}function JD(t,e,r,n){let i=li({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function am(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function ZD(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function io(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",o='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new NB(t||500,a,new Error(o),!0)}function eI(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Id(r))return{result:r,idx:e}}}function M$(t){let e=typeof t=="string"?Xl(t):t;return oh(li({},e,{hash:""}))}function NQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Dd(t){return t.type===si.deferred}function _f(t){return t.type===si.error}function Id(t){return(t&&t.type)===si.redirect}function EQ(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function DQ(t){return wQ.has(t.toLowerCase())}function Go(t){return bQ.has(t.toLowerCase())}async function tI(t,e,r,n,i,s){for(let a=0;a<r.length;a++){let o=r[a],l=e[a];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!B$(u,l)&&(s&&s[l.route.id])!==void 0;if(Dd(o)&&(i||c)){let h=n[a];Or(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await N$(o,h,i).then(f=>{f&&(r[a]=f||r[a])})}}}async function N$(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:si.data,data:t.deferredData.unwrappedData}}catch(i){return{type:si.error,error:i}}return{type:si.data,data:t.deferredData.data}}}function EB(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ST(t,e){let r=typeof e=="string"?Xl(e).search:e.search;if(t[t.length-1].route.index&&EB(r||""))return t[t.length-1];let n=k$(t);return n[n.length-1]}function rI(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function lC(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gg(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function gc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FQ(t,e){try{let r=t.sessionStorage.getItem(P$);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function AQ(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(P$,JSON.stringify(r))}catch(n){ah(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}const Rx=C.createContext(null),E$=C.createContext(null),vh=C.createContext(null),Dx=C.createContext(null),wh=C.createContext({outlet:null,matches:[],isDataRoute:!1}),R$=C.createContext(null);function OQ(t,e){let{relative:r}=e===void 0?{}:e;Vy()||Or(!1);let{basename:n,navigator:i}=C.useContext(vh),{hash:s,pathname:a,search:o}=I$(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:_u([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Vy(){return C.useContext(Dx)!=null}function Ix(){return Vy()||Or(!1),C.useContext(Dx).location}function D$(t){C.useContext(vh).static||C.useLayoutEffect(t)}function $Q(){let{isDataRoute:t}=C.useContext(wh);return t?QQ():VQ()}function VQ(){Vy()||Or(!1);let t=C.useContext(Rx),{basename:e,future:r,navigator:n}=C.useContext(vh),{matches:i}=C.useContext(wh),{pathname:s}=Ix(),a=JSON.stringify(BB(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return D$(()=>{o.current=!0}),C.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=MB(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_u([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function I$(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(vh),{matches:i}=C.useContext(wh),{pathname:s}=Ix(),a=JSON.stringify(BB(i,n.v7_relativeSplatPath));return C.useMemo(()=>MB(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function zQ(t,e,r,n){Vy()||Or(!1);let{navigator:i}=C.useContext(vh),{matches:s}=C.useContext(wh),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ix(),c;if(e){var h;let b=typeof e=="string"?Xl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Or(!1),c=b}else c=u;let f=c.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=Cf(t,{pathname:g}),y=jQ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:_u([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:_u([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?C.createElement(Dx.Provider,{value:{location:Wm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wi.Pop}},y):y}function WQ(){let t=KQ(),e=C$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const HQ=C.createElement(WQ,null);class UQ extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(wh.Provider,{value:this.props.routeContext},C.createElement(R$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GQ(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(Rx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(wh.Provider,{value:e},n)}function jQ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));c>=0||Or(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:g}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let g,m=!1,y=null,b=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||HQ,l&&(u<0&&f===0?(JQ("route-fallback",!1),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),v=()=>{let w;return g?w=y:m?w=b:h.route.Component?w=C.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,C.createElement(GQ,{match:h,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(UQ,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var L$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L$||{}),gw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gw||{});function YQ(t){let e=C.useContext(Rx);return e||Or(!1),e}function XQ(t){let e=C.useContext(E$);return e||Or(!1),e}function qQ(t){let e=C.useContext(wh);return e||Or(!1),e}function F$(t){let e=qQ(),r=e.matches[e.matches.length-1];return r.route.id||Or(!1),r.route.id}function KQ(){var t;let e=C.useContext(R$),r=XQ(gw.UseRouteError),n=F$(gw.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function QQ(){let{router:t}=YQ(L$.UseNavigateStable),e=F$(gw.UseNavigateStable),r=C.useRef(!1);return D$(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wm({fromRouteId:e},s)))},[t,e])}const nI={};function JQ(t,e,r){!e&&!nI[t]&&(nI[t]=!0)}function ZQ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=wi.Pop,navigator:s,static:a=!1,future:o}=t;Vy()&&Or(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:a,future:Wm({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Xl(n));let{pathname:c="/",search:h="",hash:f="",state:g=null,key:m="default"}=n,y=C.useMemo(()=>{let b=_p(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:g,key:m},navigationType:i}},[l,c,h,f,g,m,i]);return y==null?null:C.createElement(vh.Provider,{value:u},C.createElement(Dx.Provider,{children:r,value:y}))}new Promise(()=>{});function eJ(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function tJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nJ(t,e){return t.button===0&&(!e||e==="_self")&&!rJ(t)}const iJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sJ="6";try{window.__reactRouterVersion=sJ}catch{}function aJ(t,e){return _Q({basename:e==null?void 0:e.basename,future:Hm({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:XK({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||oJ(),routes:t,mapRouteProperties:eJ,window:e==null?void 0:e.window}).initialize()}function oJ(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Hm({},e,{errors:lJ(e.errors)})),e}function lJ(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new NB(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const uJ=C.createContext({isTransitioning:!1}),cJ=C.createContext(new Map),dJ="startTransition",iI=eh[dJ],hJ="flushSync",sI=YK[hJ];function fJ(t){iI?iI(t):t()}function mg(t){sI?sI(t):t()}class pJ{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function gJ(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=C.useState(r.state),[a,o]=C.useState(),[l,u]=C.useState({isTransitioning:!1}),[c,h]=C.useState(),[f,g]=C.useState(),[m,y]=C.useState(),b=C.useRef(new Map),{v7_startTransition:x}=n||{},v=C.useCallback(M=>{x?fJ(M):M()},[x]),w=C.useCallback((M,E)=>{let{deletedFetchers:D,unstable_flushSync:L,unstable_viewTransitionOpts:F}=E;D.forEach(V=>b.current.delete(V)),M.fetchers.forEach((V,O)=>{V.data!==void 0&&b.current.set(O,V.data)});let z=r.window==null||typeof r.window.document.startViewTransition!="function";if(!F||z){L?mg(()=>s(M)):v(()=>s(M));return}if(L){mg(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let V=r.window.document.startViewTransition(()=>{mg(()=>s(M))});V.finished.finally(()=>{mg(()=>{h(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),mg(()=>g(V));return}f?(c&&c.resolve(),f.skipTransition(),y({state:M,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(o(M),u({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[r.window,f,c,b,v]);C.useLayoutEffect(()=>r.subscribe(w),[r,w]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new pJ)},[l]),C.useEffect(()=>{if(c&&a&&r.window){let M=a,E=c.promise,D=r.window.document.startViewTransition(async()=>{v(()=>s(M)),await E});D.finished.finally(()=>{h(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(D)}},[v,a,c,r.window]),C.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,f,i.location,a]),C.useEffect(()=>{!l.isTransitioning&&m&&(o(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),C.useEffect(()=>{},[]);let P=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:M=>r.navigate(M),push:(M,E,D)=>r.navigate(M,{state:E,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(M,E,D)=>r.navigate(M,{replace:!0,state:E,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[r]),T=r.basename||"/",_=C.useMemo(()=>({router:r,navigator:P,static:!1,basename:T}),[r,P,T]);return C.createElement(C.Fragment,null,C.createElement(Rx.Provider,{value:_},C.createElement(E$.Provider,{value:i},C.createElement(cJ.Provider,{value:b.current},C.createElement(uJ.Provider,{value:l},C.createElement(ZQ,{basename:T,location:i.location,navigationType:i.historyAction,navigator:P,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?C.createElement(mJ,{routes:r.routes,future:r.future,state:i}):e))))),null)}function mJ(t){let{routes:e,future:r,state:n}=t;return zQ(e,void 0,n,r)}const yJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=tJ(e,iJ),{basename:g}=C.useContext(vh),m,y=!1;if(typeof u=="string"&&bJ.test(u)&&(m=u,yJ))try{let w=new URL(window.location.href),P=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=_p(P.pathname,g);P.origin===w.origin&&T!=null?u=T+P.search+P.hash:y=!0}catch{}let b=OQ(u,{relative:i}),x=vJ(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||x(w)}return C.createElement("a",Hm({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))});var aI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aI||(aI={}));var oI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oI||(oI={}));function vJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=$Q(),u=Ix(),c=I$(t,{relative:a});return C.useCallback(h=>{if(nJ(h,r)){h.preventDefault();let f=n!==void 0?n:oh(u)===oh(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}const wJ={black:"#000",white:"#fff"},Um=wJ,xJ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Uh=xJ,SJ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gh=SJ,kJ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jh=kJ,CJ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yh=CJ,_J={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xh=_J,TJ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yg=TJ,PJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},BJ=PJ;function Ru(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const MJ=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),zy="$$material";function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(null,arguments)}function Re(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A$(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var NJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EJ=A$(function(t){return NJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function RJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function DJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var IJ=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=RJ(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),xs="-ms-",mw="-moz-",tn="-webkit-",O$="comm",RB="rule",DB="decl",LJ="@import",$$="@keyframes",FJ="@layer",AJ=Math.abs,Lx=String.fromCharCode,OJ=Object.assign;function $J(t,e){return hs(t,0)^45?(((e<<2^hs(t,0))<<2^hs(t,1))<<2^hs(t,2))<<2^hs(t,3):0}function V$(t){return t.trim()}function VJ(t,e){return(t=e.exec(t))?t[0]:t}function rn(t,e,r){return t.replace(e,r)}function kT(t,e){return t.indexOf(e)}function hs(t,e){return t.charCodeAt(e)|0}function Gm(t,e,r){return t.slice(e,r)}function Tl(t){return t.length}function IB(t){return t.length}function Sb(t,e){return e.push(t),t}function zJ(t,e){return t.map(e).join("")}var Fx=1,Jf=1,z$=0,ha=0,Ii=0,Tp="";function Ax(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Fx,column:Jf,length:a,return:""}}function bg(t,e){return OJ(Ax("",null,null,"",null,null,0),t,{length:-t.length},e)}function WJ(){return Ii}function HJ(){return Ii=ha>0?hs(Tp,--ha):0,Jf--,Ii===10&&(Jf=1,Fx--),Ii}function Da(){return Ii=ha<z$?hs(Tp,ha++):0,Jf++,Ii===10&&(Jf=1,Fx++),Ii}function Ol(){return hs(Tp,ha)}function kv(){return ha}function Wy(t,e){return Gm(Tp,t,e)}function jm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W$(t){return Fx=Jf=1,z$=Tl(Tp=t),ha=0,[]}function H$(t){return Tp="",t}function Cv(t){return V$(Wy(ha-1,CT(t===91?t+2:t===40?t+1:t)))}function UJ(t){for(;(Ii=Ol())&&Ii<33;)Da();return jm(t)>2||jm(Ii)>3?"":" "}function GJ(t,e){for(;--e&&Da()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return Wy(t,kv()+(e<6&&Ol()==32&&Da()==32))}function CT(t){for(;Da();)switch(Ii){case t:return ha;case 34:case 39:t!==34&&t!==39&&CT(Ii);break;case 40:t===41&&CT(t);break;case 92:Da();break}return ha}function jJ(t,e){for(;Da()&&t+Ii!==57;)if(t+Ii===84&&Ol()===47)break;return"/*"+Wy(e,ha-1)+"*"+Lx(t===47?t:Da())}function YJ(t){for(;!jm(Ol());)Da();return Wy(t,ha)}function XJ(t){return H$(_v("",null,null,null,[""],t=W$(t),0,[0],t))}function _v(t,e,r,n,i,s,a,o,l){for(var u=0,c=0,h=a,f=0,g=0,m=0,y=1,b=1,x=1,v=0,w="",P=i,T=s,_=n,M=w;b;)switch(m=v,v=Da()){case 40:if(m!=108&&hs(M,h-1)==58){kT(M+=rn(Cv(v),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:M+=Cv(v);break;case 9:case 10:case 13:case 32:M+=UJ(m);break;case 92:M+=GJ(kv()-1,7);continue;case 47:switch(Ol()){case 42:case 47:Sb(qJ(jJ(Da(),kv()),e,r),l);break;default:M+="/"}break;case 123*y:o[u++]=Tl(M)*x;case 125*y:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+c:x==-1&&(M=rn(M,/\f/g,"")),g>0&&Tl(M)-h&&Sb(g>32?uI(M+";",n,r,h-1):uI(rn(M," ","")+";",n,r,h-2),l);break;case 59:M+=";";default:if(Sb(_=lI(M,e,r,u,c,i,o,w,P=[],T=[],h),s),v===123)if(c===0)_v(M,e,_,_,P,s,h,o,T);else switch(f===99&&hs(M,3)===110?100:f){case 100:case 108:case 109:case 115:_v(t,_,_,n&&Sb(lI(t,_,_,0,0,i,o,w,i,P=[],h),T),i,T,h,o,n?P:T);break;default:_v(M,_,_,_,[""],T,0,o,T)}}u=c=g=0,y=x=1,w=M="",h=a;break;case 58:h=1+Tl(M),g=m;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&HJ()==125)continue}switch(M+=Lx(v),v*y){case 38:x=c>0?1:(M+="\f",-1);break;case 44:o[u++]=(Tl(M)-1)*x,x=1;break;case 64:Ol()===45&&(M+=Cv(Da())),f=Ol(),c=h=Tl(w=M+=YJ(kv())),v++;break;case 45:m===45&&Tl(M)==2&&(y=0)}}return s}function lI(t,e,r,n,i,s,a,o,l,u,c){for(var h=i-1,f=i===0?s:[""],g=IB(f),m=0,y=0,b=0;m<n;++m)for(var x=0,v=Gm(t,h+1,h=AJ(y=a[m])),w=t;x<g;++x)(w=V$(y>0?f[x]+" "+v:rn(v,/&\f/g,f[x])))&&(l[b++]=w);return Ax(t,e,r,i===0?RB:o,l,u,c)}function qJ(t,e,r){return Ax(t,e,r,O$,Lx(WJ()),Gm(t,2,-2),0)}function uI(t,e,r,n){return Ax(t,e,r,DB,Gm(t,0,n),Gm(t,n+1,-1),n)}function Ff(t,e){for(var r="",n=IB(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function KJ(t,e,r,n){switch(t.type){case FJ:if(t.children.length)break;case LJ:case DB:return t.return=t.return||t.value;case O$:return"";case $$:return t.return=t.value+"{"+Ff(t.children,n)+"}";case RB:t.value=t.props.join(",")}return Tl(r=Ff(t.children,n))?t.return=t.value+"{"+r+"}":""}function QJ(t){var e=IB(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function JJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var ZJ=function(e,r,n){for(var i=0,s=0;i=s,s=Ol(),i===38&&s===12&&(r[n]=1),!jm(s);)Da();return Wy(e,ha)},eZ=function(e,r){var n=-1,i=44;do switch(jm(i)){case 0:i===38&&Ol()===12&&(r[n]=1),e[n]+=ZJ(ha-1,r,n);break;case 2:e[n]+=Cv(i);break;case 4:if(i===44){e[++n]=Ol()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Lx(i)}while(i=Da());return e},tZ=function(e,r){return H$(eZ(W$(e),r))},cI=new WeakMap,rZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!cI.get(n))&&!i){cI.set(e,!0);for(var s=[],a=tZ(r,s),o=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},nZ=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function U$(t,e){switch($J(t,e)){case 5103:return tn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tn+t+mw+t+xs+t+t;case 6828:case 4268:return tn+t+xs+t+t;case 6165:return tn+t+xs+"flex-"+t+t;case 5187:return tn+t+rn(t,/(\w+).+(:[^]+)/,tn+"box-$1$2"+xs+"flex-$1$2")+t;case 5443:return tn+t+xs+"flex-item-"+rn(t,/flex-|-self/,"")+t;case 4675:return tn+t+xs+"flex-line-pack"+rn(t,/align-content|flex-|-self/,"")+t;case 5548:return tn+t+xs+rn(t,"shrink","negative")+t;case 5292:return tn+t+xs+rn(t,"basis","preferred-size")+t;case 6060:return tn+"box-"+rn(t,"-grow","")+tn+t+xs+rn(t,"grow","positive")+t;case 4554:return tn+rn(t,/([^-])(transform)/g,"$1"+tn+"$2")+t;case 6187:return rn(rn(rn(t,/(zoom-|grab)/,tn+"$1"),/(image-set)/,tn+"$1"),t,"")+t;case 5495:case 3959:return rn(t,/(image-set\([^]*)/,tn+"$1$`$1");case 4968:return rn(rn(t,/(.+:)(flex-)?(.*)/,tn+"box-pack:$3"+xs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tn+t+t;case 4095:case 3583:case 4068:case 2532:return rn(t,/(.+)-inline(.+)/,tn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tl(t)-1-e>6)switch(hs(t,e+1)){case 109:if(hs(t,e+4)!==45)break;case 102:return rn(t,/(.+:)(.+)-([^]+)/,"$1"+tn+"$2-$3$1"+mw+(hs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~kT(t,"stretch")?U$(rn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(hs(t,e+1)!==115)break;case 6444:switch(hs(t,Tl(t)-3-(~kT(t,"!important")&&10))){case 107:return rn(t,":",":"+tn)+t;case 101:return rn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tn+(hs(t,14)===45?"inline-":"")+"box$3$1"+tn+"$2$3$1"+xs+"$2box$3")+t}break;case 5936:switch(hs(t,e+11)){case 114:return tn+t+xs+rn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tn+t+xs+rn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tn+t+xs+rn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return tn+t+xs+t+t}return t}var iZ=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case DB:e.return=U$(e.value,e.length);break;case $$:return Ff([bg(e,{value:rn(e.value,"@","@"+tn)})],i);case RB:if(e.length)return zJ(e.props,function(s){switch(VJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ff([bg(e,{props:[rn(s,/:(read-\w+)/,":"+mw+"$1")]})],i);case"::placeholder":return Ff([bg(e,{props:[rn(s,/:(plac\w+)/,":"+tn+"input-$1")]}),bg(e,{props:[rn(s,/:(plac\w+)/,":"+mw+"$1")]}),bg(e,{props:[rn(s,/:(plac\w+)/,xs+"input-$1")]})],i)}return""})}},sZ=[iZ],G$=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||sZ,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)s[b[x]]=!0;o.push(y)});var l,u=[rZ,nZ];{var c,h=[KJ,JJ(function(y){c.insert(y)})],f=QJ(u.concat(i,h)),g=function(b){return Ff(XJ(b),f)};l=function(b,x,v,w){c=v,g(b?b+"{"+x.styles+"}":x.styles),w&&(m.inserted[x.name]=!0)}}var m={key:r,sheet:new IJ({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(o),m},j$={exports:{}},un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=typeof Symbol=="function"&&Symbol.for,LB=rs?Symbol.for("react.element"):60103,FB=rs?Symbol.for("react.portal"):60106,Ox=rs?Symbol.for("react.fragment"):60107,$x=rs?Symbol.for("react.strict_mode"):60108,Vx=rs?Symbol.for("react.profiler"):60114,zx=rs?Symbol.for("react.provider"):60109,Wx=rs?Symbol.for("react.context"):60110,AB=rs?Symbol.for("react.async_mode"):60111,Hx=rs?Symbol.for("react.concurrent_mode"):60111,Ux=rs?Symbol.for("react.forward_ref"):60112,Gx=rs?Symbol.for("react.suspense"):60113,aZ=rs?Symbol.for("react.suspense_list"):60120,jx=rs?Symbol.for("react.memo"):60115,Yx=rs?Symbol.for("react.lazy"):60116,oZ=rs?Symbol.for("react.block"):60121,lZ=rs?Symbol.for("react.fundamental"):60117,uZ=rs?Symbol.for("react.responder"):60118,cZ=rs?Symbol.for("react.scope"):60119;function Ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LB:switch(t=t.type,t){case AB:case Hx:case Ox:case Vx:case $x:case Gx:return t;default:switch(t=t&&t.$$typeof,t){case Wx:case Ux:case Yx:case jx:case zx:return t;default:return e}}case FB:return e}}}function Y$(t){return Ua(t)===Hx}un.AsyncMode=AB;un.ConcurrentMode=Hx;un.ContextConsumer=Wx;un.ContextProvider=zx;un.Element=LB;un.ForwardRef=Ux;un.Fragment=Ox;un.Lazy=Yx;un.Memo=jx;un.Portal=FB;un.Profiler=Vx;un.StrictMode=$x;un.Suspense=Gx;un.isAsyncMode=function(t){return Y$(t)||Ua(t)===AB};un.isConcurrentMode=Y$;un.isContextConsumer=function(t){return Ua(t)===Wx};un.isContextProvider=function(t){return Ua(t)===zx};un.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LB};un.isForwardRef=function(t){return Ua(t)===Ux};un.isFragment=function(t){return Ua(t)===Ox};un.isLazy=function(t){return Ua(t)===Yx};un.isMemo=function(t){return Ua(t)===jx};un.isPortal=function(t){return Ua(t)===FB};un.isProfiler=function(t){return Ua(t)===Vx};un.isStrictMode=function(t){return Ua(t)===$x};un.isSuspense=function(t){return Ua(t)===Gx};un.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ox||t===Hx||t===Vx||t===$x||t===Gx||t===aZ||typeof t=="object"&&t!==null&&(t.$$typeof===Yx||t.$$typeof===jx||t.$$typeof===zx||t.$$typeof===Wx||t.$$typeof===Ux||t.$$typeof===lZ||t.$$typeof===uZ||t.$$typeof===cZ||t.$$typeof===oZ)};un.typeOf=Ua;j$.exports=un;var dZ=j$.exports,X$=dZ,hZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q$={};q$[X$.ForwardRef]=hZ;q$[X$.Memo]=fZ;var pZ=!0;function gZ(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var K$=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||pZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},Q$=function(e,r,n){K$(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mZ(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bZ=/[A-Z]|^ms/g,vZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J$=function(e){return e.charCodeAt(1)===45},dI=function(e){return e!=null&&typeof e!="boolean"},uC=A$(function(t){return J$(t)?t:t.replace(bZ,"-$&").toLowerCase()}),hI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(vZ,function(n,i,s){return Pl={name:i,styles:s,next:Pl},i})}return yZ[e]!==1&&!J$(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ym(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Pl={name:r.name,styles:r.styles,next:Pl},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Pl={name:n.name,styles:n.styles,next:Pl},n=n.next;var i=r.styles+";";return i}return wZ(t,e,r)}case"function":{if(t!==void 0){var s=Pl,a=r(t);return Pl=s,Ym(t,e,a)}break}}if(e==null)return r;var o=e[r];return o!==void 0?o:r}function wZ(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ym(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":dI(a)&&(n+=uC(s)+":"+hI(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)dI(a[o])&&(n+=uC(s)+":"+hI(s,a[o])+";");else{var l=Ym(t,e,a);switch(s){case"animation":case"animationName":{n+=uC(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var fI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pl,OB=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Pl=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Ym(n,r,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=Ym(n,r,e[o]),i&&(s+=a[o]);fI.lastIndex=0;for(var l="",u;(u=fI.exec(s))!==null;)l+="-"+u[1];var c=mZ(s)+l;return{name:c,styles:s,next:Pl}},xZ=function(e){return e()},Z$=eh.useInsertionEffect?eh.useInsertionEffect:!1,SZ=Z$||xZ,pI=Z$||C.useLayoutEffect,e4=C.createContext(typeof HTMLElement<"u"?G$({key:"css"}):null),kZ=e4.Provider,t4=function(e){return C.forwardRef(function(r,n){var i=C.useContext(e4);return e(r,i,n)})},Xx=C.createContext({}),cC={exports:{}},gI;function r4(){return gI||(gI=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(cC)),cC.exports}r4();var CZ=t4(function(t,e){var r=t.styles,n=OB([r],void 0,C.useContext(Xx)),i=C.useRef();return pI(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),pI(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&Q$(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function qx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return OB(e)}var Pp=function(){var e=qx.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},_Z=EJ,TZ=function(e){return e!=="theme"},mI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?_Z:TZ},yI=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},PZ=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return K$(r,n,i),SZ(function(){return Q$(r,n,i)}),null},BZ=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;r!==void 0&&(s=r.label,a=r.target);var o=yI(e,r,n),l=o||mI(i),u=!l("as");return function(){var c=arguments,h=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var f=c.length,g=1;g<f;g++)h.push(c[g],c[0][g])}var m=t4(function(y,b,x){var v=u&&y.as||i,w="",P=[],T=y;if(y.theme==null){T={};for(var _ in y)T[_]=y[_];T.theme=C.useContext(Xx)}typeof y.className=="string"?w=gZ(b.registered,P,y.className):y.className!=null&&(w=y.className+" ");var M=OB(h.concat(P),b.registered,T);w+=b.key+"-"+M.name,a!==void 0&&(w+=" "+a);var E=u&&o===void 0?mI(v):l,D={};for(var L in y)u&&L==="as"||E(L)&&(D[L]=y[L]);return D.className=w,D.ref=x,C.createElement(C.Fragment,null,C.createElement(PZ,{cache:b,serialized:M,isStringTag:typeof v=="string"}),C.createElement(v,D))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=h,m.__emotion_forwardProp=o,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(y,b){return t(y,B({},r,b,{shouldForwardProp:yI(m,b,!0)})).apply(void 0,h)},m}},MZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_T=BZ.bind();MZ.forEach(function(t){_T[t]=_T(t)});var n4={exports:{}},NZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EZ=NZ,RZ=EZ;function i4(){}function s4(){}s4.resetWarningCache=i4;var DZ=function(){function t(n,i,s,a,o,l){if(l!==RZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s4,resetWarningCache:i4};return r.PropTypes=r,r};n4.exports=DZ();var a4=n4.exports;const X=za(a4);let TT;typeof document=="object"&&(TT=G$({key:"css",prepend:!0}));function IZ(t){const{injectFirst:e,children:r}=t;return e&&TT?k.jsx(kZ,{value:TT,children:r}):r}function LZ(t){return t==null||Object.keys(t).length===0}function o4(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(LZ(i)?r:i):e;return k.jsx(CZ,{styles:n})}function $B(t,e){return _T(t,e)}const l4=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},FZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:o4,StyledEngineProvider:IZ,ThemeContext:Xx,css:qx,default:$B,internal_processStyles:l4,keyframes:Pp},Symbol.toStringTag,{value:"Module"}));function hu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function u4(t){if(!hu(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=u4(t[r])}),e}function Ws(t,e,r={clone:!0}){const n=r.clone?B({},t):t;return hu(t)&&hu(e)&&Object.keys(e).forEach(i=>{hu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&hu(t[i])?n[i]=Ws(t[i],e[i],r):r.clone?n[i]=hu(e[i])?u4(e[i]):e[i]:n[i]=e[i]}),n}const AZ=Object.freeze(Object.defineProperty({__proto__:null,default:Ws,isPlainObject:hu},Symbol.toStringTag,{value:"Module"})),OZ=["values","unit","step"],$Z=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>B({},r,{[n.key]:n.val}),{})};function c4(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=Re(t,OZ),s=$Z(e),a=Object.keys(s);function o(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-n/100}${r})`}function u(f,g){const m=a.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${r}) and (max-width:${(m!==-1&&typeof e[a[m]]=="number"?e[a[m]]:g)-n/100}${r})`}function c(f){return a.indexOf(f)+1<a.length?u(f,a[a.indexOf(f)+1]):o(f)}function h(f){const g=a.indexOf(f);return g===0?o(a[1]):g===a.length-1?l(a[g]):u(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return B({keys:a,values:s,up:o,down:l,between:u,only:c,not:h,unit:r},i)}const VZ={borderRadius:4},zZ=VZ;function om(t,e){return e?Ws(t,e,{clone:!1}):t}const VB={xs:0,sm:600,md:900,lg:1200,xl:1536},bI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${VB[t]}px)`};function hl(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||bI;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=r(e[l]),a),{})}if(typeof e=="object"){const s=n.breakpoints||bI;return Object.keys(e).reduce((a,o)=>{if(Object.keys(s.values||VB).indexOf(o)!==-1){const l=s.up(o);a[l]=r(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return r(e)}function d4(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function h4(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function WZ(t,...e){const r=d4(t),n=[r,...e].reduce((i,s)=>Ws(i,s),{});return h4(Object.keys(r),n)}function HZ(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function dC({values:t,breakpoints:e,base:r}){const n=r||HZ(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[s],s=o):a[o]=t,a),{})}function je(t){if(typeof t!="string")throw new Error(Ru(7));return t.charAt(0).toUpperCase()+t.slice(1)}const UZ=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));function Kx(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function yw(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Kx(t,r)||n,e&&(i=e(i,n,t)),i}function Ti(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=Kx(l,n)||{};return hl(a,o,h=>{let f=yw(u,i,h);return h===f&&typeof h=="string"&&(f=yw(u,i,`${e}${h==="default"?"":je(h)}`,h)),r===!1?f:{[r]:f}})};return s.propTypes={},s.filterProps=[e],s}function GZ(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const jZ={m:"margin",p:"padding"},YZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},XZ=GZ(t=>{if(t.length>2)if(vI[t])t=vI[t];else return[t];const[e,r]=t.split(""),n=jZ[e],i=YZ[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),zB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zB,...WB];function Hy(t,e,r,n){var i;const s=(i=Kx(t,e,!1))!=null?i:r;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function HB(t){return Hy(t,"spacing",8)}function lh(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function qZ(t,e){return r=>t.reduce((n,i)=>(n[i]=lh(e,r),n),{})}function KZ(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=XZ(r),s=qZ(i,n),a=t[r];return hl(t,a,s)}function f4(t,e){const r=HB(t.theme);return Object.keys(t).map(n=>KZ(t,e,n,r)).reduce(om,{})}function ti(t){return f4(t,zB)}ti.propTypes={};ti.filterProps=zB;function ri(t){return f4(t,WB)}ri.propTypes={};ri.filterProps=WB;function QZ(t=8){if(t.mui)return t;const e=HB({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function Qx(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?om(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function uo(t){return typeof t!="number"?t:`${t}px solid`}function Eo(t,e){return Ti({prop:t,themeKey:"borders",transform:e})}const JZ=Eo("border",uo),ZZ=Eo("borderTop",uo),eee=Eo("borderRight",uo),tee=Eo("borderBottom",uo),ree=Eo("borderLeft",uo),nee=Eo("borderColor"),iee=Eo("borderTopColor"),see=Eo("borderRightColor"),aee=Eo("borderBottomColor"),oee=Eo("borderLeftColor"),lee=Eo("outline",uo),uee=Eo("outlineColor"),Jx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Hy(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:lh(e,n)});return hl(t,t.borderRadius,r)}return null};Jx.propTypes={};Jx.filterProps=["borderRadius"];Qx(JZ,ZZ,eee,tee,ree,nee,iee,see,aee,oee,Jx,lee,uee);const Zx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Hy(t.theme,"spacing",8),r=n=>({gap:lh(e,n)});return hl(t,t.gap,r)}return null};Zx.propTypes={};Zx.filterProps=["gap"];const e1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Hy(t.theme,"spacing",8),r=n=>({columnGap:lh(e,n)});return hl(t,t.columnGap,r)}return null};e1.propTypes={};e1.filterProps=["columnGap"];const t1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Hy(t.theme,"spacing",8),r=n=>({rowGap:lh(e,n)});return hl(t,t.rowGap,r)}return null};t1.propTypes={};t1.filterProps=["rowGap"];const cee=Ti({prop:"gridColumn"}),dee=Ti({prop:"gridRow"}),hee=Ti({prop:"gridAutoFlow"}),fee=Ti({prop:"gridAutoColumns"}),pee=Ti({prop:"gridAutoRows"}),gee=Ti({prop:"gridTemplateColumns"}),mee=Ti({prop:"gridTemplateRows"}),yee=Ti({prop:"gridTemplateAreas"}),bee=Ti({prop:"gridArea"});Qx(Zx,e1,t1,cee,dee,hee,fee,pee,gee,mee,yee,bee);function Af(t,e){return e==="grey"?e:t}const vee=Ti({prop:"color",themeKey:"palette",transform:Af}),wee=Ti({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Af}),xee=Ti({prop:"backgroundColor",themeKey:"palette",transform:Af});Qx(vee,wee,xee);function Ba(t){return t<=1&&t!==0?`${t*100}%`:t}const See=Ti({prop:"width",transform:Ba}),UB=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||VB[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ba(r)}};return hl(t,t.maxWidth,e)}return null};UB.filterProps=["maxWidth"];const kee=Ti({prop:"minWidth",transform:Ba}),Cee=Ti({prop:"height",transform:Ba}),_ee=Ti({prop:"maxHeight",transform:Ba}),Tee=Ti({prop:"minHeight",transform:Ba});Ti({prop:"size",cssProperty:"width",transform:Ba});Ti({prop:"size",cssProperty:"height",transform:Ba});const Pee=Ti({prop:"boxSizing"});Qx(See,UB,kee,Cee,_ee,Tee,Pee);const Bee={border:{themeKey:"borders",transform:uo},borderTop:{themeKey:"borders",transform:uo},borderRight:{themeKey:"borders",transform:uo},borderBottom:{themeKey:"borders",transform:uo},borderLeft:{themeKey:"borders",transform:uo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:uo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jx},color:{themeKey:"palette",transform:Af},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Af},backgroundColor:{themeKey:"palette",transform:Af},p:{style:ri},pt:{style:ri},pr:{style:ri},pb:{style:ri},pl:{style:ri},px:{style:ri},py:{style:ri},padding:{style:ri},paddingTop:{style:ri},paddingRight:{style:ri},paddingBottom:{style:ri},paddingLeft:{style:ri},paddingX:{style:ri},paddingY:{style:ri},paddingInline:{style:ri},paddingInlineStart:{style:ri},paddingInlineEnd:{style:ri},paddingBlock:{style:ri},paddingBlockStart:{style:ri},paddingBlockEnd:{style:ri},m:{style:ti},mt:{style:ti},mr:{style:ti},mb:{style:ti},ml:{style:ti},mx:{style:ti},my:{style:ti},margin:{style:ti},marginTop:{style:ti},marginRight:{style:ti},marginBottom:{style:ti},marginLeft:{style:ti},marginX:{style:ti},marginY:{style:ti},marginInline:{style:ti},marginInlineStart:{style:ti},marginInlineEnd:{style:ti},marginBlock:{style:ti},marginBlockStart:{style:ti},marginBlockEnd:{style:ti},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zx},rowGap:{style:t1},columnGap:{style:e1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ba},maxWidth:{style:UB},minWidth:{transform:Ba},height:{transform:Ba},maxHeight:{transform:Ba},minHeight:{transform:Ba},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Uy=Bee;function Mee(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function Nee(t,e){return typeof t=="function"?t(e):t}function p4(){function t(r,n,i,s){const a={[r]:n,theme:i},o=s[r];if(!o)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:h}=o;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const f=Kx(i,u)||{};return h?h(a):hl(a,n,m=>{let y=yw(f,c,m);return m===y&&typeof m=="string"&&(y=yw(f,c,`${r}${m==="default"?"":je(m)}`,m)),l===!1?y:{[l]:y}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const a=(n=s.unstable_sxConfig)!=null?n:Uy;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=d4(s.breakpoints),h=Object.keys(c);let f=c;return Object.keys(u).forEach(g=>{const m=Nee(u[g],s);if(m!=null)if(typeof m=="object")if(a[g])f=om(f,t(g,m,s,a));else{const y=hl({theme:s},m,b=>({[g]:b}));Mee(y,m)?f[g]=e({sx:m,theme:s}):f=om(f,y)}else f=om(f,t(g,m,s,a))}),h4(h,f)}return Array.isArray(i)?i.map(o):o(i)}return e}const Bp=p4();Bp.filterProps=["sx"];function g4(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const Eee=["breakpoints","palette","spacing","shape"];function Gy(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,a=Re(t,Eee),o=c4(r),l=QZ(i);let u=Ws({breakpoints:o,direction:"ltr",components:{},palette:B({mode:"light"},n),spacing:l,shape:B({},zZ,s)},a);return u.applyStyles=g4,u=e.reduce((c,h)=>Ws(c,h),u),u.unstable_sxConfig=B({},Uy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Bp({sx:h,theme:this})},u}const Ree=Object.freeze(Object.defineProperty({__proto__:null,default:Gy,private_createBreakpoints:c4,unstable_applyStyles:g4},Symbol.toStringTag,{value:"Module"}));function Dee(t){return Object.keys(t).length===0}function m4(t=null){const e=C.useContext(Xx);return!e||Dee(e)?t:e}const Iee=Gy();function r1(t=Iee){return m4(t)}function Lee({styles:t,themeId:e,defaultTheme:r={}}){const n=r1(r),i=typeof t=="function"?t(e&&n[e]||n):t;return k.jsx(o4,{styles:i})}const Fee=["sx"],Aee=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Uy;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function n1(t){const{sx:e}=t,r=Re(t,Fee),{systemProps:n,otherProps:i}=Aee(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return hu(o)?B({},n,o):n}:s=B({},n,e),B({},i,{sx:s})}const Oee=Object.freeze(Object.defineProperty({__proto__:null,default:Bp,extendSxProp:n1,unstable_createStyleFunctionSx:p4,unstable_defaultSxConfig:Uy},Symbol.toStringTag,{value:"Module"})),wI=t=>t,$ee=()=>{let t=wI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=wI}}},Vee=$ee(),y4=Vee;function b4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=b4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=b4(t))&&(n&&(n+=" "),n+=e);return n}const zee=["className","component"];function Wee(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=$B("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Bp);return C.forwardRef(function(l,u){const c=r1(r),h=n1(l),{className:f,component:g="div"}=h,m=Re(h,zee);return k.jsx(s,B({as:g,ref:u,className:Oe(f,i?i(n):n),theme:e&&c[e]||c},m))})}const v4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function dt(t,e,r="Mui"){const n=v4[e];return n?`${r}-${n}`:`${y4.generate(t)}-${e}`}function ht(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=dt(t,i,r)}),n}var w4={exports:{}},cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB=Symbol.for("react.element"),jB=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),Hee=Symbol.for("react.server_context"),u1=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),f1=Symbol.for("react.lazy"),Uee=Symbol.for("react.offscreen"),x4;x4=Symbol.for("react.module.reference");function Ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GB:switch(t=t.type,t){case i1:case a1:case s1:case c1:case d1:return t;default:switch(t=t&&t.$$typeof,t){case Hee:case l1:case u1:case f1:case h1:case o1:return t;default:return e}}case jB:return e}}}cn.ContextConsumer=l1;cn.ContextProvider=o1;cn.Element=GB;cn.ForwardRef=u1;cn.Fragment=i1;cn.Lazy=f1;cn.Memo=h1;cn.Portal=jB;cn.Profiler=a1;cn.StrictMode=s1;cn.Suspense=c1;cn.SuspenseList=d1;cn.isAsyncMode=function(){return!1};cn.isConcurrentMode=function(){return!1};cn.isContextConsumer=function(t){return Ro(t)===l1};cn.isContextProvider=function(t){return Ro(t)===o1};cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GB};cn.isForwardRef=function(t){return Ro(t)===u1};cn.isFragment=function(t){return Ro(t)===i1};cn.isLazy=function(t){return Ro(t)===f1};cn.isMemo=function(t){return Ro(t)===h1};cn.isPortal=function(t){return Ro(t)===jB};cn.isProfiler=function(t){return Ro(t)===a1};cn.isStrictMode=function(t){return Ro(t)===s1};cn.isSuspense=function(t){return Ro(t)===c1};cn.isSuspenseList=function(t){return Ro(t)===d1};cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i1||t===a1||t===s1||t===c1||t===d1||t===Uee||typeof t=="object"&&t!==null&&(t.$$typeof===f1||t.$$typeof===h1||t.$$typeof===o1||t.$$typeof===l1||t.$$typeof===u1||t.$$typeof===x4||t.getModuleId!==void 0)};cn.typeOf=Ro;w4.exports=cn;var xI=w4.exports;const Gee=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function S4(t){const e=`${t}`.match(Gee);return e&&e[1]||""}function k4(t,e=""){return t.displayName||t.name||S4(t)||e}function SI(t,e,r){const n=k4(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function jee(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return k4(t,"Component");if(typeof t=="object")switch(t.$$typeof){case xI.ForwardRef:return SI(t,t.render,"ForwardRef");case xI.Memo:return SI(t,t.type,"memo");default:return}}}const Yee=Object.freeze(Object.defineProperty({__proto__:null,default:jee,getFunctionName:S4},Symbol.toStringTag,{value:"Module"})),Xee=["ownerState"],qee=["variants"],Kee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Qee(t){return Object.keys(t).length===0}function Jee(t){return typeof t=="string"&&t.charCodeAt(0)>96}function lm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Zee=Gy(),ete=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function kb({defaultTheme:t,theme:e,themeId:r}){return Qee(e)?t:e[r]||e}function tte(t){return t?(e,r)=>r[t]:null}function Tv(t,e){let{ownerState:r}=e,n=Re(e,Xee);const i=typeof t=="function"?t(B({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>Tv(s,B({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=Re(i,qee);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(B({ownerState:r},n,r)):Object.keys(l.props).forEach(c=>{(r==null?void 0:r[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style(B({ownerState:r},n,r)):l.style))}),o}return i}function rte(t={}){const{themeId:e,defaultTheme:r=Zee,rootShouldForwardProp:n=lm,slotShouldForwardProp:i=lm}=t,s=a=>Bp(B({},a,{theme:kb(B({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{l4(a,T=>T.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:f=tte(ete(u))}=o,g=Re(o,Kee),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,y=h||!1;let b,x=lm;u==="Root"||u==="root"?x=n:u?x=i:Jee(a)&&(x=void 0);const v=$B(a,B({shouldForwardProp:x,label:b},g)),w=T=>typeof T=="function"&&T.__emotion_real!==T||hu(T)?_=>Tv(T,B({},_,{theme:kb({theme:_.theme,defaultTheme:r,themeId:e})})):T,P=(T,..._)=>{let M=w(T);const E=_?_.map(w):[];l&&f&&E.push(F=>{const z=kb(B({},F,{defaultTheme:r,themeId:e}));if(!z.components||!z.components[l]||!z.components[l].styleOverrides)return null;const V=z.components[l].styleOverrides,O={};return Object.entries(V).forEach(([I,H])=>{O[I]=Tv(H,B({},F,{theme:z}))}),f(F,O)}),l&&!m&&E.push(F=>{var z;const V=kb(B({},F,{defaultTheme:r,themeId:e})),O=V==null||(z=V.components)==null||(z=z[l])==null?void 0:z.variants;return Tv({variants:O},B({},F,{theme:V}))}),y||E.push(s);const D=E.length-_.length;if(Array.isArray(T)&&D>0){const F=new Array(D).fill("");M=[...T,...F],M.raw=[...T.raw,...F]}const L=v(M,...E);return a.muiName&&(L.muiName=a.muiName),L};return v.withConfig&&(P.withConfig=v.withConfig),P}}const nte=rte();function YB(t,e){const r=B({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=B({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=B({},s),Object.keys(i).forEach(a=>{r[n][a]=YB(i[a],s[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function C4(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:YB(e.components[r].defaultProps,n)}function _4({props:t,name:e,defaultTheme:r,themeId:n}){let i=r1(r);return n&&(i=i[n]||i),C4({theme:i,name:e,props:t})}const In=typeof window<"u"?C.useLayoutEffect:C.useEffect;function ite(t,e,r,n,i){const[s,a]=C.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return In(()=>{let o=!0;if(!r)return;const l=r(t),u=()=>{o&&a(l.matches)};return u(),l.addListener(u),()=>{o=!1,l.removeListener(u)}},[t,r]),s}const T4=C.useSyncExternalStore;function ste(t,e,r,n,i){const s=C.useCallback(()=>e,[e]),a=C.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:c}=n(t);return()=>c}return s},[s,t,n,i,r]),[o,l]=C.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const c=r(t);return[()=>c.matches,h=>(c.addListener(h),()=>{c.removeListener(h)})]},[s,r,t]);return T4(l,o,a)}function XB(t,e={}){const r=m4(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:o=!1}=C4({name:"MuiUseMediaQuery",props:e,theme:r});let l=typeof t=="function"?t(r):t;return l=l.replace(/^@media( ?)/m,""),(T4!==void 0?ste:ite)(l,i,s,a,o)}function xc(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const ate=Object.freeze(Object.defineProperty({__proto__:null,default:xc},Symbol.toStringTag,{value:"Module"}));function ote(t,e=0,r=1){return xc(t,e,r)}function lte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function P4(t){if(t.type)return t;if(t.charAt(0)==="#")return P4(lte(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Ru(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ru(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function ute(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function Hl(t,e){return t=P4(t),e=ote(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ute(t)}const cte=X.oneOfType([X.func,X.object]),p1=cte;function PT(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function jy(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function Pv(t,e){var r,n;return C.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Qn(t){return t&&t.ownerDocument||document}function fl(t){return Qn(t).defaultView||window}function BT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let kI=0;function dte(t){const[e,r]=C.useState(t),n=t||e;return C.useEffect(()=>{e==null&&(kI+=1,r(`mui-${kI}`))},[e]),n}const CI=eh.useId;function Do(t){if(CI!==void 0){const e=CI();return t??e}return dte(t)}function Fa({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=C.useRef(t!==void 0),[s,a]=C.useState(e),o=i?t:s,l=C.useCallback(u=>{i||a(u)},[]);return[o,l]}function bt(t){const e=C.useRef(t);return In(()=>{e.current=t}),C.useRef((...r)=>(0,e.current)(...r)).current}function Er(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{BT(r,e)})},t)}const _I={};function hte(t,e){const r=C.useRef(_I);return r.current===_I&&(r.current=t(e)),r}const fte=[];function pte(t){C.useEffect(t,fte)}class g1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new g1}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function B4(){const t=hte(g1.create).current;return pte(t.disposeEffect),t}let m1=!0,MT=!1;const gte=new g1,mte={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function yte(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&mte[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function bte(t){t.metaKey||t.altKey||t.ctrlKey||(m1=!0)}function hC(){m1=!1}function vte(){this.visibilityState==="hidden"&&MT&&(m1=!0)}function wte(t){t.addEventListener("keydown",bte,!0),t.addEventListener("mousedown",hC,!0),t.addEventListener("pointerdown",hC,!0),t.addEventListener("touchstart",hC,!0),t.addEventListener("visibilitychange",vte,!0)}function xte(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return m1||yte(e)}function qB(){const t=C.useCallback(i=>{i!=null&&wte(i.ownerDocument)},[]),e=C.useRef(!1);function r(){return e.current?(MT=!0,gte.start(100,()=>{MT=!1}),e.current=!1,!0):!1}function n(i){return xte(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function M4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let qh;function N4(){if(qh)return qh;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),qh="reverse",t.scrollLeft>0?qh="default":(t.scrollLeft=1,t.scrollLeft===0&&(qh="negative")),document.body.removeChild(t),qh}function Ste(t,e){const r=t.scrollLeft;if(e!=="rtl")return r;switch(N4()){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}const kte={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},KB=kte;function ut(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}const Cte=C.createContext(),Yi=()=>{const t=C.useContext(Cte);return t??!1},_te=["component","direction","spacing","divider","children","className","useFlexGap"],Tte=Gy(),Pte=nte("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Bte(t){return _4({props:t,name:"MuiStack",defaultTheme:Tte})}function Mte(t,e){const r=C.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(C.cloneElement(e,{key:`separator-${s}`})),n),[])}const Nte=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ete=({ownerState:t,theme:e})=>{let r=B({display:"flex",flexDirection:"column"},hl({theme:e},dC({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=HB(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=dC({values:t.direction,base:i}),a=dC({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const f=u>0?s[c[u-1]]:"column";s[l]=f}}),r=Ws(r,hl({theme:e},a,(l,u)=>t.useFlexGap?{gap:lh(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Nte(u?s[u]:t.direction)}`]:lh(n,l)}}))}return r=WZ(e.breakpoints,r),r};function Rte(t={}){const{createStyledComponent:e=Pte,useThemeProps:r=Bte,componentName:n="MuiStack"}=t,i=()=>ut({root:["root"]},l=>dt(n,l),{}),s=e(Ete);return C.forwardRef(function(l,u){const c=r(l),h=n1(c),{component:f="div",direction:g="column",spacing:m=0,divider:y,children:b,className:x,useFlexGap:v=!1}=h,w=Re(h,_te),P={direction:g,spacing:m,useFlexGap:v},T=i();return k.jsx(s,B({as:f,ownerState:P,ref:u,className:Oe(T.root,x)},w,{children:y?Mte(b,y):b}))})}function Dte(t,e){return B({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Pi={},E4={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(E4);var R4=E4.exports;const Ite=Xc(MJ),Lte=Xc(ate);var D4=R4;Object.defineProperty(Pi,"__esModule",{value:!0});var Wr=Pi.alpha=A4;Pi.blend=jte;Pi.colorChannel=void 0;var bw=Pi.darken=JB;Pi.decomposeColor=To;Pi.emphasize=O4;var Fte=Pi.getContrastRatio=zte;Pi.getLuminance=ww;Pi.hexToRgb=I4;Pi.hslToRgb=F4;var vw=Pi.lighten=ZB;Pi.private_safeAlpha=Wte;Pi.private_safeColorChannel=void 0;Pi.private_safeDarken=Hte;Pi.private_safeEmphasize=Gte;Pi.private_safeLighten=Ute;Pi.recomposeColor=Mp;Pi.rgbToHex=Vte;var TI=D4(Ite),Ate=D4(Lte);function QB(t,e=0,r=1){return(0,Ate.default)(t,e,r)}function I4(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ote(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function To(t){if(t.type)return t;if(t.charAt(0)==="#")return To(I4(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,TI.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,TI.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const L4=t=>{const e=To(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Pi.colorChannel=L4;const $te=(t,e)=>{try{return L4(t)}catch{return t}};Pi.private_safeColorChannel=$te;function Mp(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function Vte(t){if(t.indexOf("#")===0)return t;const{values:e}=To(t);return`#${e.map((r,n)=>Ote(n===3?Math.round(255*r):r)).join("")}`}function F4(t){t=To(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(u,c=(u+r/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),Mp({type:o,values:l})}function ww(t){t=To(t);let e=t.type==="hsl"||t.type==="hsla"?To(F4(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function zte(t,e){const r=ww(t),n=ww(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function A4(t,e){return t=To(t),e=QB(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Mp(t)}function Wte(t,e,r){try{return A4(t,e)}catch{return t}}function JB(t,e){if(t=To(t),e=QB(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Mp(t)}function Hte(t,e,r){try{return JB(t,e)}catch{return t}}function ZB(t,e){if(t=To(t),e=QB(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Mp(t)}function Ute(t,e,r){try{return ZB(t,e)}catch{return t}}function O4(t,e=.15){return ww(t)>.5?JB(t,e):ZB(t,e)}function Gte(t,e,r){try{return O4(t,e)}catch{return t}}function jte(t,e,r,n=1){const i=(l,u)=>Math.round((l**(1/n)*(1-r)+u**(1/n)*r)**n),s=To(t),a=To(e),o=[i(s.values[0],a.values[0]),i(s.values[1],a.values[1]),i(s.values[2],a.values[2])];return Mp({type:"rgb",values:o})}const Yte=["mode","contrastThreshold","tonalOffset"],PI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Um.white,default:Um.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fC={text:{primary:Um.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Um.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function BI(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=vw(t.main,i):e==="dark"&&(t.dark=bw(t.main,s)))}function Xte(t="light"){return t==="dark"?{main:jh[200],light:jh[50],dark:jh[400]}:{main:jh[700],light:jh[400],dark:jh[800]}}function qte(t="light"){return t==="dark"?{main:Gh[200],light:Gh[50],dark:Gh[400]}:{main:Gh[500],light:Gh[300],dark:Gh[700]}}function Kte(t="light"){return t==="dark"?{main:Uh[500],light:Uh[300],dark:Uh[700]}:{main:Uh[700],light:Uh[400],dark:Uh[800]}}function Qte(t="light"){return t==="dark"?{main:Yh[400],light:Yh[300],dark:Yh[700]}:{main:Yh[700],light:Yh[500],dark:Yh[900]}}function Jte(t="light"){return t==="dark"?{main:Xh[400],light:Xh[300],dark:Xh[700]}:{main:Xh[800],light:Xh[500],dark:Xh[900]}}function Zte(t="light"){return t==="dark"?{main:yg[400],light:yg[300],dark:yg[700]}:{main:"#ed6c02",light:yg[500],dark:yg[900]}}function ere(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=Re(t,Yte),s=t.primary||Xte(e),a=t.secondary||qte(e),o=t.error||Kte(e),l=t.info||Qte(e),u=t.success||Jte(e),c=t.warning||Zte(e);function h(y){return Fte(y,fC.text.primary)>=r?fC.text.primary:PI.text.primary}const f=({color:y,name:b,mainShade:x=500,lightShade:v=300,darkShade:w=700})=>{if(y=B({},y),!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(Ru(11,b?` (${b})`:"",x));if(typeof y.main!="string")throw new Error(Ru(12,b?` (${b})`:"",JSON.stringify(y.main)));return BI(y,"light",v,n),BI(y,"dark",w,n),y.contrastText||(y.contrastText=h(y.main)),y},g={dark:fC,light:PI};return Ws(B({common:B({},Um),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:o,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:BJ,contrastThreshold:r,getContrastText:h,augmentColor:f,tonalOffset:n},g[e]),i)}const tre=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function rre(t){return Math.round(t*1e5)/1e5}const MI={textTransform:"uppercase"},NI='"Roboto", "Helvetica", "Arial", sans-serif';function nre(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=NI,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=r,f=Re(r,tre),g=i/14,m=h||(x=>`${x/u*g}rem`),y=(x,v,w,P,T)=>B({fontFamily:n,fontWeight:x,fontSize:m(v),lineHeight:w},n===NI?{letterSpacing:`${rre(P/v)}em`}:{},T,c),b={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(o,14,1.75,.4,MI),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,MI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ws(B({htmlFontSize:u,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},b),f,{clone:!1})}const ire=.2,sre=.14,are=.12;function An(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${ire})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${sre})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${are})`].join(",")}const ore=["none",An(0,2,1,-1,0,1,1,0,0,1,3,0),An(0,3,1,-2,0,2,2,0,0,1,5,0),An(0,3,3,-2,0,3,4,0,0,1,8,0),An(0,2,4,-1,0,4,5,0,0,1,10,0),An(0,3,5,-1,0,5,8,0,0,1,14,0),An(0,3,5,-1,0,6,10,0,0,1,18,0),An(0,4,5,-2,0,7,10,1,0,2,16,1),An(0,5,5,-3,0,8,10,1,0,3,14,2),An(0,5,6,-3,0,9,12,1,0,3,16,2),An(0,6,6,-3,0,10,14,1,0,4,18,3),An(0,6,7,-4,0,11,15,1,0,4,20,3),An(0,7,8,-4,0,12,17,2,0,5,22,4),An(0,7,8,-4,0,13,19,2,0,5,24,4),An(0,7,9,-4,0,14,21,2,0,5,26,4),An(0,8,9,-5,0,15,22,2,0,6,28,5),An(0,8,10,-5,0,16,24,2,0,6,30,5),An(0,8,11,-5,0,17,26,2,0,6,32,5),An(0,9,11,-5,0,18,28,2,0,7,34,6),An(0,9,12,-6,0,19,29,2,0,7,36,6),An(0,10,13,-6,0,20,31,3,0,8,38,7),An(0,10,13,-6,0,21,33,3,0,8,40,7),An(0,10,14,-6,0,22,35,3,0,8,42,7),An(0,11,14,-7,0,23,36,3,0,9,44,8),An(0,11,15,-7,0,24,38,3,0,9,46,8)],lre=["duration","easing","delay"],ure={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cre={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function EI(t){return`${Math.round(t)}ms`}function dre(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function hre(t){const e=B({},ure,t.easing),r=B({},cre,t.duration);return B({getAutoHeightDuration:dre,create:(i=["all"],s={})=>{const{duration:a=r.standard,easing:o=e.easeInOut,delay:l=0}=s;return Re(s,lre),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:EI(a)} ${o} ${typeof l=="string"?l:EI(l)}`).join(",")}},t,{easing:e,duration:r})}const fre={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pre=fre,gre=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function $4(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,a=Re(t,gre);if(t.vars)throw new Error(Ru(18));const o=ere(n),l=Gy(t);let u=Ws(l,{mixins:Dte(l.breakpoints,r),palette:o,shadows:ore.slice(),typography:nre(o,s),transitions:hre(i),zIndex:B({},pre)});return u=Ws(u,a),u=e.reduce((c,h)=>Ws(c,h),u),u.unstable_sxConfig=B({},Uy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Bp({sx:h,theme:this})},u}const mre=$4(),y1=mre;function Ga(){const t=r1(y1);return t[zy]||t}function tt({props:t,name:e}){return _4({props:t,name:e,defaultTheme:y1,themeId:zy})}var Yy={},pC={exports:{}},RI;function yre(){return RI||(RI=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(pC)),pC.exports}const V4=Xc(FZ),bre=Xc(AZ),vre=Xc(UZ),wre=Xc(Yee),xre=Xc(Ree),Sre=Xc(Oee);var Np=R4;Object.defineProperty(Yy,"__esModule",{value:!0});var kre=Yy.default=Fre;Yy.shouldForwardProp=Bv;Yy.systemDefaultTheme=void 0;var so=Np(r4()),NT=Np(yre()),DI=Nre(V4),Cre=bre;Np(vre);Np(wre);var _re=Np(xre),Tre=Np(Sre);const Pre=["ownerState"],Bre=["variants"],Mre=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function z4(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(z4=function(n){return n?r:e})(t)}function Nre(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=z4(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function Ere(t){return Object.keys(t).length===0}function Rre(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Bv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dre=Yy.systemDefaultTheme=(0,_re.default)(),Ire=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Cb({defaultTheme:t,theme:e,themeId:r}){return Ere(e)?t:e[r]||e}function Lre(t){return t?(e,r)=>r[t]:null}function Mv(t,e){let{ownerState:r}=e,n=(0,NT.default)(e,Pre);const i=typeof t=="function"?t((0,so.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>Mv(s,(0,so.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=(0,NT.default)(i,Bre);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,so.default)({ownerState:r},n,r)):Object.keys(l.props).forEach(c=>{(r==null?void 0:r[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style((0,so.default)({ownerState:r},n,r)):l.style))}),o}return i}function Fre(t={}){const{themeId:e,defaultTheme:r=Dre,rootShouldForwardProp:n=Bv,slotShouldForwardProp:i=Bv}=t,s=a=>(0,Tre.default)((0,so.default)({},a,{theme:Cb((0,so.default)({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{(0,DI.internal_processStyles)(a,T=>T.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:f=Lre(Ire(u))}=o,g=(0,NT.default)(o,Mre),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,y=h||!1;let b,x=Bv;u==="Root"||u==="root"?x=n:u?x=i:Rre(a)&&(x=void 0);const v=(0,DI.default)(a,(0,so.default)({shouldForwardProp:x,label:b},g)),w=T=>typeof T=="function"&&T.__emotion_real!==T||(0,Cre.isPlainObject)(T)?_=>Mv(T,(0,so.default)({},_,{theme:Cb({theme:_.theme,defaultTheme:r,themeId:e})})):T,P=(T,..._)=>{let M=w(T);const E=_?_.map(w):[];l&&f&&E.push(F=>{const z=Cb((0,so.default)({},F,{defaultTheme:r,themeId:e}));if(!z.components||!z.components[l]||!z.components[l].styleOverrides)return null;const V=z.components[l].styleOverrides,O={};return Object.entries(V).forEach(([I,H])=>{O[I]=Mv(H,(0,so.default)({},F,{theme:z}))}),f(F,O)}),l&&!m&&E.push(F=>{var z;const V=Cb((0,so.default)({},F,{defaultTheme:r,themeId:e})),O=V==null||(z=V.components)==null||(z=z[l])==null?void 0:z.variants;return Mv({variants:O},(0,so.default)({},F,{theme:V}))}),y||E.push(s);const D=E.length-_.length;if(Array.isArray(T)&&D>0){const F=new Array(D).fill("");M=[...T,...F],M.raw=[...T.raw,...F]}const L=v(M,...E);return a.muiName&&(L.muiName=a.muiName),L};return v.withConfig&&(P.withConfig=v.withConfig),P}}function Xy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ns=t=>Xy(t)&&t!=="classes",he=kre({themeId:zy,defaultTheme:y1,rootShouldForwardProp:ns}),II=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Are(t){return dt("MuiSvgIcon",t)}ht("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ore=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],$re=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${je(e)}`,`fontSize${je(r)}`]};return ut(i,Are,n)},Vre=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${je(r.color)}`],e[`fontSize${je(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,a,o,l,u,c,h,f,g,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((o=t.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),ET=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:h,viewBox:f="0 0 24 24"}=n,g=Re(n,Ore),m=C.isValidElement(i)&&i.type==="svg",y=B({},n,{color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:m}),b={};c||(b.viewBox=f);const x=$re(y);return k.jsxs(Vre,B({as:o,className:Oe(x.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:r},b,g,m&&i.props,{ownerState:y,children:[m?i.props.children:i,h?k.jsx("title",{children:h}):null]}))});ET.muiName="SvgIcon";function an(t,e){function r(n,i){return k.jsx(ET,B({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=ET.muiName,C.memo(C.forwardRef(r))}var gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=Symbol.for("react.element"),tM=Symbol.for("react.portal"),b1=Symbol.for("react.fragment"),v1=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),zre=Symbol.for("react.server_context"),k1=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),T1=Symbol.for("react.memo"),P1=Symbol.for("react.lazy"),Wre=Symbol.for("react.offscreen"),W4;W4=Symbol.for("react.module.reference");function Io(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eM:switch(t=t.type,t){case b1:case w1:case v1:case C1:case _1:return t;default:switch(t=t&&t.$$typeof,t){case zre:case S1:case k1:case P1:case T1:case x1:return t;default:return e}}case tM:return e}}}gn.ContextConsumer=S1;gn.ContextProvider=x1;gn.Element=eM;gn.ForwardRef=k1;gn.Fragment=b1;gn.Lazy=P1;gn.Memo=T1;gn.Portal=tM;gn.Profiler=w1;gn.StrictMode=v1;gn.Suspense=C1;gn.SuspenseList=_1;gn.isAsyncMode=function(){return!1};gn.isConcurrentMode=function(){return!1};gn.isContextConsumer=function(t){return Io(t)===S1};gn.isContextProvider=function(t){return Io(t)===x1};gn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eM};gn.isForwardRef=function(t){return Io(t)===k1};gn.isFragment=function(t){return Io(t)===b1};gn.isLazy=function(t){return Io(t)===P1};gn.isMemo=function(t){return Io(t)===T1};gn.isPortal=function(t){return Io(t)===tM};gn.isProfiler=function(t){return Io(t)===w1};gn.isStrictMode=function(t){return Io(t)===v1};gn.isSuspense=function(t){return Io(t)===C1};gn.isSuspenseList=function(t){return Io(t)===_1};gn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===b1||t===w1||t===v1||t===C1||t===_1||t===Wre||typeof t=="object"&&t!==null&&(t.$$typeof===P1||t.$$typeof===T1||t.$$typeof===x1||t.$$typeof===S1||t.$$typeof===k1||t.$$typeof===W4||t.getModuleId!==void 0)};gn.typeOf=Io;function H4(t){return tt}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},RT(t,e)}function rM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,RT(t,e)}function Hre(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Ure(t,e){t.classList?t.classList.add(e):Hre(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function LI(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Gre(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=LI(t.className,e):t.setAttribute("class",LI(t.className&&t.className.baseVal||"",e))}const FI={disabled:!1},xw=Lt.createContext(null);var U4=function(e){return e.scrollTop},Hg="unmounted",Sd="exited",kd="entering",sf="entered",DT="exiting",zu=function(t){rM(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=i,o=a&&!a.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?o?(l=Sd,s.appearStatus=kd):l=sf:n.unmountOnExit||n.mountOnEnter?l=Hg:l=Sd,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Hg?{status:Sd}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==kd&&a!==sf&&(s=kd):(a===kd||a===sf)&&(s=DT)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===kd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Wg.findDOMNode(this);a&&U4(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sd&&this.setState({status:Hg})},r.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Wg.findDOMNode(this),o],u=l[0],c=l[1],h=this.getTimeouts(),f=o?h.appear:h.enter;if(!i&&!a||FI.disabled){this.safeSetState({status:sf},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:kd},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:sf},function(){s.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Wg.findDOMNode(this);if(!s||FI.disabled){this.safeSetState({status:Sd},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:DT},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Sd},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Wg.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Hg)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=Re(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Lt.createElement(xw.Provider,{value:null},typeof a=="function"?a(i,o):Lt.cloneElement(Lt.Children.only(a),o))},e}(Lt.Component);zu.contextType=xw;zu.propTypes={};function Kh(){}zu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kh,onEntering:Kh,onEntered:Kh,onExit:Kh,onExiting:Kh,onExited:Kh};zu.UNMOUNTED=Hg;zu.EXITED=Sd;zu.ENTERING=kd;zu.ENTERED=sf;zu.EXITING=DT;const B1=zu;var jre=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Ure(e,n)})},gC=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Gre(e,n)})},nM=function(t){rM(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1];n.removeClasses(c,"exit"),n.addClass(c,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(o,l)},n.onEntering=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1],f=h?"appear":"enter";n.addClass(c,f,"active"),n.props.onEntering&&n.props.onEntering(o,l)},n.onEntered=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1],f=h?"appear":"enter";n.removeClasses(c,f),n.addClass(c,f,"done"),n.props.onEntered&&n.props.onEntered(o,l)},n.onExit=function(o){var l=n.resolveArguments(o),u=l[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(o)},n.onExiting=function(o){var l=n.resolveArguments(o),u=l[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(o)},n.onExited=function(o){var l=n.resolveArguments(o),u=l[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(o)},n.resolveArguments=function(o,l){return n.props.nodeRef?[n.props.nodeRef.current,o]:[o,l]},n.getClassNames=function(o){var l=n.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",h=u?""+c+o:l[o],f=u?h+"-active":l[o+"Active"],g=u?h+"-done":l[o+"Done"];return{baseClassName:h,activeClassName:f,doneClassName:g}},n}var r=e.prototype;return r.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&a==="done"&&u&&(o+=" "+u),a==="active"&&i&&U4(i),o&&(this.appliedClasses[s][a]=o,jre(i,o))},r.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,u=a.done;this.appliedClasses[s]={},o&&gC(i,o),l&&gC(i,l),u&&gC(i,u)},r.render=function(){var i=this.props;i.classNames;var s=Re(i,["classNames"]);return Lt.createElement(B1,B({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Lt.Component);nM.defaultProps={classNames:""};nM.propTypes={};const Yre=nM;function Xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(t,e){var r=function(s){return e&&C.isValidElement(s)?e(s):s},n=Object.create(null);return t&&C.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function qre(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var u=n[l][a];o[n[l][a]]=r(u)}o[l]=r(l)}for(a=0;a<i.length;a++)o[i[a]]=r(i[a]);return o}function Ld(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Kre(t,e){return iM(t.children,function(r){return C.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Ld(r,"appear",t),enter:Ld(r,"enter",t),exit:Ld(r,"exit",t)})})}function Qre(t,e,r){var n=iM(t.children),i=qre(e,n);return Object.keys(i).forEach(function(s){var a=i[s];if(C.isValidElement(a)){var o=s in e,l=s in n,u=e[s],c=C.isValidElement(u)&&!u.props.in;l&&(!o||c)?i[s]=C.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Ld(a,"exit",t),enter:Ld(a,"enter",t)}):!l&&o&&!c?i[s]=C.cloneElement(a,{in:!1}):l&&o&&C.isValidElement(u)&&(i[s]=C.cloneElement(a,{onExited:r.bind(null,a),in:u.props.in,exit:Ld(a,"exit",t),enter:Ld(a,"enter",t)}))}}),i}var Jre=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Zre={component:"div",childFactory:function(e){return e}},sM=function(t){rM(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=s.handleExited.bind(Xre(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?Kre(i,o):Qre(i,a,o),firstRender:!1}},r.handleExited=function(i,s){var a=iM(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=B({},o.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=Re(i,["component","childFactory"]),l=this.state.contextValue,u=Jre(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?Lt.createElement(xw.Provider,{value:l},u):Lt.createElement(xw.Provider,{value:l},Lt.createElement(s,o,u))},e}(Lt.Component);sM.propTypes={};sM.defaultProps=Zre;const aM=sM,oM=t=>t.scrollTop;function Zf(t,e){var r,n;const{timeout:i,easing:s,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:a.transitionDelay}}function ene(t){return dt("MuiPaper",t)}ht("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const tne=["className","component","elevation","square","variant"],rne=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return ut(s,ene,i)},nne=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return B({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&B({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Wr("#fff",II(e.elevation))}, ${Wr("#fff",II(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),ine=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:a=1,square:o=!1,variant:l="elevation"}=n,u=Re(n,tne),c=B({},n,{component:s,elevation:a,square:o,variant:l}),h=rne(c);return k.jsx(nne,B({as:s,ownerState:c,className:Oe(h.root,i),ref:r},u))}),xh=ine;function $l(t){return typeof t=="string"}function sne(t,e,r){return t===void 0||$l(t)?e:B({},e,{ownerState:B({},e.ownerState,r)})}function ane(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const one={disableDefaultClasses:!1},lne=C.createContext(one);function une(t){const{disableDefaultClasses:e}=C.useContext(lne);return r=>e?"":t(r)}function um(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function qy(t,e,r){return typeof t=="function"?t(e,r):t}function AI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function cne(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const g=Oe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),m=B({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),y=B({},r,i,n);return g.length>0&&(y.className=g),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const a=um(B({},i,n)),o=AI(n),l=AI(i),u=e(a),c=Oe(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),h=B({},u==null?void 0:u.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=B({},u,r,l,o);return c.length>0&&(f.className=c),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}const dne=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function sr(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=Re(t,dne),o=s?{}:qy(n,i),{props:l,internalRef:u}=cne(B({},a,{externalSlotProps:o})),c=Er(u,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return sne(r,B({},l,{ref:c}),i)}function hne(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:u}=t,[c,h]=C.useState(!1),f=Oe(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),g={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},m=Oe(r.child,c&&r.childLeaving,n&&r.childPulsate);return!o&&!c&&h(!0),C.useEffect(()=>{if(!o&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,o,u]),k.jsx("span",{className:f,style:g,children:k.jsx("span",{className:m})})}const ao=ht("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fne=["center","classes","className"];let M1=t=>t,OI,$I,VI,zI;const IT=550,pne=80,gne=Pp(OI||(OI=M1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),mne=Pp($I||($I=M1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),yne=Pp(VI||(VI=M1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),bne=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vne=he(hne,{name:"MuiTouchRipple",slot:"Ripple"})(zI||(zI=M1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ao.rippleVisible,gne,IT,({theme:t})=>t.transitions.easing.easeInOut,ao.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ao.child,ao.childLeaving,mne,IT,({theme:t})=>t.transitions.easing.easeInOut,ao.childPulsate,yne,({theme:t})=>t.transitions.easing.easeInOut),wne=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=n,o=Re(n,fne),[l,u]=C.useState([]),c=C.useRef(0),h=C.useRef(null);C.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=C.useRef(!1),g=B4(),m=C.useRef(null),y=C.useRef(null),b=C.useCallback(P=>{const{pulsate:T,rippleX:_,rippleY:M,rippleSize:E,cb:D}=P;u(L=>[...L,k.jsx(vne,{classes:{ripple:Oe(s.ripple,ao.ripple),rippleVisible:Oe(s.rippleVisible,ao.rippleVisible),ripplePulsate:Oe(s.ripplePulsate,ao.ripplePulsate),child:Oe(s.child,ao.child),childLeaving:Oe(s.childLeaving,ao.childLeaving),childPulsate:Oe(s.childPulsate,ao.childPulsate)},timeout:IT,pulsate:T,rippleX:_,rippleY:M,rippleSize:E},c.current)]),c.current+=1,h.current=D},[s]),x=C.useCallback((P={},T={},_=()=>{})=>{const{pulsate:M=!1,center:E=i||T.pulsate,fakeElement:D=!1}=T;if((P==null?void 0:P.type)==="mousedown"&&f.current){f.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(f.current=!0);const L=D?null:y.current,F=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,O;if(E||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)z=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:I,clientY:H}=P.touches&&P.touches.length>0?P.touches[0]:P;z=Math.round(I-F.left),V=Math.round(H-F.top)}if(E)O=Math.sqrt((2*F.width**2+F.height**2)/3),O%2===0&&(O+=1);else{const I=Math.max(Math.abs((L?L.clientWidth:0)-z),z)*2+2,H=Math.max(Math.abs((L?L.clientHeight:0)-V),V)*2+2;O=Math.sqrt(I**2+H**2)}P!=null&&P.touches?m.current===null&&(m.current=()=>{b({pulsate:M,rippleX:z,rippleY:V,rippleSize:O,cb:_})},g.start(pne,()=>{m.current&&(m.current(),m.current=null)})):b({pulsate:M,rippleX:z,rippleY:V,rippleSize:O,cb:_})},[i,b,g]),v=C.useCallback(()=>{x({},{pulsate:!0})},[x]),w=C.useCallback((P,T)=>{if(g.clear(),(P==null?void 0:P.type)==="touchend"&&m.current){m.current(),m.current=null,g.start(0,()=>{w(P,T)});return}m.current=null,u(_=>_.length>0?_.slice(1):_),h.current=T},[g]);return C.useImperativeHandle(r,()=>({pulsate:v,start:x,stop:w}),[v,x,w]),k.jsx(bne,B({className:Oe(ao.root,s.root,a),ref:y},o,{children:k.jsx(aM,{component:null,exit:!0,children:l})}))}),xne=wne;function Sne(t){return dt("MuiButtonBase",t)}const kne=ht("MuiButtonBase",["root","disabled","focusVisible"]),Cne=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_ne=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,a=ut({root:["root",e&&"disabled",r&&"focusVisible"]},Sne,i);return r&&n&&(a.root+=` ${n}`),a},Tne=he("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Pne=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:g="a",onBlur:m,onClick:y,onContextMenu:b,onDragLeave:x,onFocus:v,onFocusVisible:w,onKeyDown:P,onKeyUp:T,onMouseDown:_,onMouseLeave:M,onMouseUp:E,onTouchEnd:D,onTouchMove:L,onTouchStart:F,tabIndex:z=0,TouchRippleProps:V,touchRippleRef:O,type:I}=n,H=Re(n,Cne),W=C.useRef(null),A=C.useRef(null),U=Er(A,O),{isFocusVisibleRef:q,onFocus:ae,onBlur:ne,ref:ge}=qB(),[fe,J]=C.useState(!1);u&&fe&&J(!1),C.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),W.current.focus()}}),[]);const[ce,Se]=C.useState(!1);C.useEffect(()=>{Se(!0)},[]);const K=ce&&!c&&!u;C.useEffect(()=>{fe&&f&&!c&&ce&&A.current.pulsate()},[c,f,fe,ce]);function Z(Ce,Ne,at=h){return bt(ft=>(Ne&&Ne(ft),!at&&A.current&&A.current[Ce](ft),!0))}const ue=Z("start",_),de=Z("stop",b),re=Z("stop",x),Q=Z("stop",E),ee=Z("stop",Ce=>{fe&&Ce.preventDefault(),M&&M(Ce)}),oe=Z("start",F),Me=Z("stop",D),ke=Z("stop",L),j=Z("stop",Ce=>{ne(Ce),q.current===!1&&J(!1),m&&m(Ce)},!1),ie=bt(Ce=>{W.current||(W.current=Ce.currentTarget),ae(Ce),q.current===!0&&(J(!0),w&&w(Ce)),v&&v(Ce)}),te=()=>{const Ce=W.current;return l&&l!=="button"&&!(Ce.tagName==="A"&&Ce.href)},me=C.useRef(!1),Be=bt(Ce=>{f&&!me.current&&fe&&A.current&&Ce.key===" "&&(me.current=!0,A.current.stop(Ce,()=>{A.current.start(Ce)})),Ce.target===Ce.currentTarget&&te()&&Ce.key===" "&&Ce.preventDefault(),P&&P(Ce),Ce.target===Ce.currentTarget&&te()&&Ce.key==="Enter"&&!u&&(Ce.preventDefault(),y&&y(Ce))}),Te=bt(Ce=>{f&&Ce.key===" "&&A.current&&fe&&!Ce.defaultPrevented&&(me.current=!1,A.current.stop(Ce,()=>{A.current.pulsate(Ce)})),T&&T(Ce),y&&Ce.target===Ce.currentTarget&&te()&&Ce.key===" "&&!Ce.defaultPrevented&&y(Ce)});let Ge=l;Ge==="button"&&(H.href||H.to)&&(Ge=g);const ot={};Ge==="button"?(ot.type=I===void 0?"button":I,ot.disabled=u):(!H.href&&!H.to&&(ot.role="button"),u&&(ot["aria-disabled"]=u));const Dt=Er(r,ge,W),At=B({},n,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:h,focusRipple:f,tabIndex:z,focusVisible:fe}),De=_ne(At);return k.jsxs(Tne,B({as:Ge,className:Oe(De.root,o),ownerState:At,onBlur:j,onClick:y,onContextMenu:de,onFocus:ie,onKeyDown:Be,onKeyUp:Te,onMouseDown:ue,onMouseLeave:ee,onMouseUp:Q,onDragLeave:re,onTouchEnd:Me,onTouchMove:ke,onTouchStart:oe,ref:Dt,tabIndex:u?-1:z,type:I},ot,H,{children:[a,K?k.jsx(xne,B({ref:U,center:s},V)):null]}))}),Po=Pne;function Bne(t){return dt("MuiIconButton",t)}const Mne=ht("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Nne=Mne,Ene=["edge","children","className","color","disabled","disableFocusRipple","size"],Rne=t=>{const{classes:e,disabled:r,color:n,edge:i,size:s}=t,a={root:["root",r&&"disabled",n!=="default"&&`color${je(n)}`,i&&`edge${je(i)}`,`size${je(s)}`]};return ut(a,Bne,e)},Dne=he(Po,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${je(r.color)}`],r.edge&&e[`edge${je(r.edge)}`],e[`size${je(r.size)}`]]}})(({theme:t,ownerState:e})=>B({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return B({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&B({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":B({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Nne.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Ine=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=n,h=Re(n,Ene),f=B({},n,{edge:i,color:o,disabled:l,disableFocusRipple:u,size:c}),g=Rne(f);return k.jsx(Dne,B({className:Oe(g.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:r},h,{ownerState:f,children:s}))}),ms=Ine;function Lne(t){return dt("MuiTypography",t)}ht("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ane=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:a}=t,o={root:["root",s,t.align!=="inherit"&&`align${je(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return ut(o,Lne,a)},One=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${je(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>B({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),WI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$ne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Vne=t=>$ne[t]||t,zne=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTypography"}),i=Vne(n.color),s=n1(B({},n,{color:i})),{align:a="inherit",className:o,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:f="body1",variantMapping:g=WI}=s,m=Re(s,Fne),y=B({},s,{align:a,color:i,className:o,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:f,variantMapping:g}),b=l||(h?"p":g[f]||WI[f])||"span",x=Ane(y);return k.jsx(One,B({as:b,ref:r,ownerState:y,className:Oe(x.root,o)},m))}),Kr=zne;function Wne(t){return dt("MuiAppBar",t)}ht("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Hne=["className","color","enableColorOnDark","position"],Une=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${je(e)}`,`position${je(r)}`]};return ut(i,Wne,n)},_b=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Gne=he(xh,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${je(r.position)}`],e[`color${je(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return B({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&B({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&B({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&B({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:_b(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:_b(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:_b(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:_b(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),jne=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:o="fixed"}=n,l=Re(n,Hne),u=B({},n,{color:s,position:o,enableColorOnDark:a}),c=Une(u);return k.jsx(Gne,B({square:!0,component:"header",ownerState:u,elevation:4,className:Oe(c.root,i,o==="fixed"&&"mui-fixed"),ref:r},l))}),Yne=jne,G4="base";function Xne(t){return`${G4}--${t}`}function qne(t,e){return`${G4}-${t}-${e}`}function j4(t,e){const r=v4[e];return r?Xne(r):qne(t,e)}function Kne(t,e){const r={};return e.forEach(n=>{r[n]=j4(t,n)}),r}const Qne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jne(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Zne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function eie(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Zne(t))}function tie(t){const e=[],r=[];return Array.from(t.querySelectorAll(Qne)).forEach((n,i)=>{const s=Jne(n);s===-1||!eie(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function rie(){return!0}function Y4(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=tie,isEnabled:a=rie,open:o}=t,l=C.useRef(!1),u=C.useRef(null),c=C.useRef(null),h=C.useRef(null),f=C.useRef(null),g=C.useRef(!1),m=C.useRef(null),y=Er(e.ref,m),b=C.useRef(null);C.useEffect(()=>{!o||!m.current||(g.current=!r)},[r,o]),C.useEffect(()=>{if(!o||!m.current)return;const w=Qn(m.current);return m.current.contains(w.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),g.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),C.useEffect(()=>{if(!o||!m.current)return;const w=Qn(m.current),P=M=>{b.current=M,!(n||!a()||M.key!=="Tab")&&w.activeElement===m.current&&M.shiftKey&&(l.current=!0,c.current&&c.current.focus())},T=()=>{const M=m.current;if(M===null)return;if(!w.hasFocus()||!a()||l.current){l.current=!1;return}if(M.contains(w.activeElement)||n&&w.activeElement!==u.current&&w.activeElement!==c.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let E=[];if((w.activeElement===u.current||w.activeElement===c.current)&&(E=s(m.current)),E.length>0){var D,L;const F=!!((D=b.current)!=null&&D.shiftKey&&((L=b.current)==null?void 0:L.key)==="Tab"),z=E[0],V=E[E.length-1];typeof z!="string"&&typeof V!="string"&&(F?V.focus():z.focus())}else M.focus()};w.addEventListener("focusin",T),w.addEventListener("keydown",P,!0);const _=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(_),w.removeEventListener("focusin",T),w.removeEventListener("keydown",P,!0)}},[r,n,i,a,o,s]);const x=w=>{h.current===null&&(h.current=w.relatedTarget),g.current=!0,f.current=w.target;const P=e.props.onFocus;P&&P(w)},v=w=>{h.current===null&&(h.current=w.relatedTarget),g.current=!0};return k.jsxs(C.Fragment,{children:[k.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:y,onFocus:x}),k.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}function nie(t){return typeof t=="function"?t():t}const X4=C.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[a,o]=C.useState(null),l=Er(C.isValidElement(n)?n.ref:null,r);if(In(()=>{s||o(nie(i)||document.body)},[i,s]),In(()=>{if(a&&!s)return BT(r,a),()=>{BT(r,null)}},[r,a,s]),s){if(C.isValidElement(n)){const u={ref:l};return C.cloneElement(n,u)}return k.jsx(C.Fragment,{children:n})}return k.jsx(C.Fragment,{children:a&&$y.createPortal(n,a)})});function iie(t){const e=Qn(t);return e.body===t?fl(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function cm(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function HI(t){return parseInt(fl(t).getComputedStyle(t).paddingRight,10)||0}function sie(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function UI(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,a=>{const o=s.indexOf(a)===-1,l=!sie(a);o&&l&&cm(a,i)})}function mC(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function aie(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(iie(n)){const a=M4(Qn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${HI(n)+a}px`;const o=Qn(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${HI(l)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Qn(n).body;else{const a=n.parentElement,o=fl(n);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function oie(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class lie{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&cm(e.modalRef,!1);const i=oie(r);UI(r,e.mount,e.modalRef,i,!0);const s=mC(this.containers,a=>a.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=mC(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=aie(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=mC(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&cm(e.modalRef,r),UI(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&cm(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function uie(t){return typeof t=="function"?t():t}function cie(t){return t?t.props.hasOwnProperty("in"):!1}const die=new lie;function hie(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=die,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:c,rootRef:h}=t,f=C.useRef({}),g=C.useRef(null),m=C.useRef(null),y=Er(m,h),[b,x]=C.useState(!c),v=cie(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const P=()=>Qn(g.current),T=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),_=()=>{i.mount(T(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},M=bt(()=>{const H=uie(e)||P().body;i.add(T(),H),m.current&&_()}),E=C.useCallback(()=>i.isTopModal(T()),[i]),D=bt(H=>{g.current=H,H&&(c&&E()?_():m.current&&cm(m.current,w))}),L=C.useCallback(()=>{i.remove(T(),w)},[w,i]);C.useEffect(()=>()=>{L()},[L]),C.useEffect(()=>{c?M():(!v||!s)&&L()},[c,L,v,s,M]);const F=H=>W=>{var A;(A=H.onKeyDown)==null||A.call(H,W),!(W.key!=="Escape"||W.which===229||!E())&&(r||(W.stopPropagation(),u&&u(W,"escapeKeyDown")))},z=H=>W=>{var A;(A=H.onClick)==null||A.call(H,W),W.target===W.currentTarget&&u&&u(W,"backdropClick")};return{getRootProps:(H={})=>{const W=um(t);delete W.onTransitionEnter,delete W.onTransitionExited;const A=B({},W,H);return B({role:"presentation"},A,{onKeyDown:F(A),ref:y})},getBackdropProps:(H={})=>{const W=H;return B({"aria-hidden":!0},W,{onClick:z(W),open:c})},getTransitionProps:()=>{const H=()=>{x(!1),a&&a()},W=()=>{x(!0),o&&o(),s&&L()};return{onEnter:PT(H,l==null?void 0:l.props.onEnter),onExited:PT(W,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:D,isTopModal:E,exited:b,hasTransition:v}}function q4(t){const{children:e,defer:r=!1,fallback:n=null}=t,[i,s]=C.useState(!1);return In(()=>{r||s(!0)},[r]),C.useEffect(()=>{r&&s(!0)},[r]),k.jsx(C.Fragment,{children:i?e:n})}var ua="top",Bo="bottom",Mo="right",ca="left",lM="auto",Ky=[ua,Bo,Mo,ca],ep="start",Xm="end",fie="clippingParents",K4="viewport",vg="popper",pie="reference",GI=Ky.reduce(function(t,e){return t.concat([e+"-"+ep,e+"-"+Xm])},[]),Q4=[].concat(Ky,[lM]).reduce(function(t,e){return t.concat([e,e+"-"+ep,e+"-"+Xm])},[]),gie="beforeRead",mie="read",yie="afterRead",bie="beforeMain",vie="main",wie="afterMain",xie="beforeWrite",Sie="write",kie="afterWrite",Cie=[gie,mie,yie,bie,vie,wie,xie,Sie,kie];function Ul(t){return t?(t.nodeName||"").toLowerCase():null}function Aa(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function uh(t){var e=Aa(t).Element;return t instanceof e||t instanceof Element}function ko(t){var e=Aa(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function uM(t){if(typeof ShadowRoot>"u")return!1;var e=Aa(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _ie(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!ko(s)||!Ul(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Tie(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!ko(i)||!Ul(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Pie={name:"applyStyles",enabled:!0,phase:"write",fn:_ie,effect:Tie,requires:["computeStyles"]};function Vl(t){return t.split("-")[0]}var Yd=Math.max,Sw=Math.min,tp=Math.round;function LT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function J4(){return!/^((?!chrome|android).)*safari/i.test(LT())}function rp(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&ko(t)&&(i=t.offsetWidth>0&&tp(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&tp(n.height)/t.offsetHeight||1);var a=uh(t)?Aa(t):window,o=a.visualViewport,l=!J4()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/i,c=(n.top+(l&&o?o.offsetTop:0))/s,h=n.width/i,f=n.height/s;return{width:h,height:f,top:c,right:u+h,bottom:c+f,left:u,x:u,y:c}}function cM(t){var e=rp(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Z4(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&uM(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Du(t){return Aa(t).getComputedStyle(t)}function Bie(t){return["table","td","th"].indexOf(Ul(t))>=0}function Jc(t){return((uh(t)?t.ownerDocument:t.document)||window.document).documentElement}function N1(t){return Ul(t)==="html"?t:t.assignedSlot||t.parentNode||(uM(t)?t.host:null)||Jc(t)}function jI(t){return!ko(t)||Du(t).position==="fixed"?null:t.offsetParent}function Mie(t){var e=/firefox/i.test(LT()),r=/Trident/i.test(LT());if(r&&ko(t)){var n=Du(t);if(n.position==="fixed")return null}var i=N1(t);for(uM(i)&&(i=i.host);ko(i)&&["html","body"].indexOf(Ul(i))<0;){var s=Du(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qy(t){for(var e=Aa(t),r=jI(t);r&&Bie(r)&&Du(r).position==="static";)r=jI(r);return r&&(Ul(r)==="html"||Ul(r)==="body"&&Du(r).position==="static")?e:r||Mie(t)||e}function dM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function dm(t,e,r){return Yd(t,Sw(e,r))}function Nie(t,e,r){var n=dm(t,e,r);return n>r?r:n}function eV(){return{top:0,right:0,bottom:0,left:0}}function tV(t){return Object.assign({},eV(),t)}function rV(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Eie=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,tV(typeof e!="number"?e:rV(e,Ky))};function Rie(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=Vl(r.placement),l=dM(o),u=[ca,Mo].indexOf(o)>=0,c=u?"height":"width";if(!(!s||!a)){var h=Eie(i.padding,r),f=cM(s),g=l==="y"?ua:ca,m=l==="y"?Bo:Mo,y=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],b=a[l]-r.rects.reference[l],x=Qy(s),v=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=y/2-b/2,P=h[g],T=v-f[c]-h[m],_=v/2-f[c]/2+w,M=dm(P,_,T),E=l;r.modifiersData[n]=(e={},e[E]=M,e.centerOffset=M-_,e)}}function Die(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Z4(e.elements.popper,i)&&(e.elements.arrow=i))}const Iie={name:"arrow",enabled:!0,phase:"main",fn:Rie,effect:Die,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function np(t){return t.split("-")[1]}var Lie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fie(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:tp(r*i)/i||0,y:tp(n*i)/i||0}}function YI(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=a.x,g=f===void 0?0:f,m=a.y,y=m===void 0?0:m,b=typeof c=="function"?c({x:g,y}):{x:g,y};g=b.x,y=b.y;var x=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),w=ca,P=ua,T=window;if(u){var _=Qy(r),M="clientHeight",E="clientWidth";if(_===Aa(r)&&(_=Jc(r),Du(_).position!=="static"&&o==="absolute"&&(M="scrollHeight",E="scrollWidth")),_=_,i===ua||(i===ca||i===Mo)&&s===Xm){P=Bo;var D=h&&_===T&&T.visualViewport?T.visualViewport.height:_[M];y-=D-n.height,y*=l?1:-1}if(i===ca||(i===ua||i===Bo)&&s===Xm){w=Mo;var L=h&&_===T&&T.visualViewport?T.visualViewport.width:_[E];g-=L-n.width,g*=l?1:-1}}var F=Object.assign({position:o},u&&Lie),z=c===!0?Fie({x:g,y},Aa(r)):{x:g,y};if(g=z.x,y=z.y,l){var V;return Object.assign({},F,(V={},V[P]=v?"0":"",V[w]=x?"0":"",V.transform=(T.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",V))}return Object.assign({},F,(e={},e[P]=v?y+"px":"",e[w]=x?g+"px":"",e.transform="",e))}function Aie(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:Vl(e.placement),variation:np(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YI(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YI(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Oie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Aie,data:{}};var Tb={passive:!0};function $ie(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=Aa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",r.update,Tb)}),o&&l.addEventListener("resize",r.update,Tb),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Tb)}),o&&l.removeEventListener("resize",r.update,Tb)}}const Vie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$ie,data:{}};var zie={left:"right",right:"left",bottom:"top",top:"bottom"};function Nv(t){return t.replace(/left|right|bottom|top/g,function(e){return zie[e]})}var Wie={start:"end",end:"start"};function XI(t){return t.replace(/start|end/g,function(e){return Wie[e]})}function hM(t){var e=Aa(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function fM(t){return rp(Jc(t)).left+hM(t).scrollLeft}function Hie(t,e){var r=Aa(t),n=Jc(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var u=J4();(u||!u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+fM(t),y:l}}function Uie(t){var e,r=Jc(t),n=hM(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Yd(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Yd(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+fM(t),l=-n.scrollTop;return Du(i||r).direction==="rtl"&&(o+=Yd(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function pM(t){var e=Du(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function nV(t){return["html","body","#document"].indexOf(Ul(t))>=0?t.ownerDocument.body:ko(t)&&pM(t)?t:nV(N1(t))}function hm(t,e){var r;e===void 0&&(e=[]);var n=nV(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Aa(n),a=i?[s].concat(s.visualViewport||[],pM(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(hm(N1(a)))}function FT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Gie(t,e){var r=rp(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function qI(t,e,r){return e===K4?FT(Hie(t,r)):uh(e)?Gie(e,r):FT(Uie(Jc(t)))}function jie(t){var e=hm(N1(t)),r=["absolute","fixed"].indexOf(Du(t).position)>=0,n=r&&ko(t)?Qy(t):t;return uh(n)?e.filter(function(i){return uh(i)&&Z4(i,n)&&Ul(i)!=="body"}):[]}function Yie(t,e,r,n){var i=e==="clippingParents"?jie(t):[].concat(e),s=[].concat(i,[r]),a=s[0],o=s.reduce(function(l,u){var c=qI(t,u,n);return l.top=Yd(c.top,l.top),l.right=Sw(c.right,l.right),l.bottom=Sw(c.bottom,l.bottom),l.left=Yd(c.left,l.left),l},qI(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function iV(t){var e=t.reference,r=t.element,n=t.placement,i=n?Vl(n):null,s=n?np(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case ua:l={x:a,y:e.y-r.height};break;case Bo:l={x:a,y:e.y+e.height};break;case Mo:l={x:e.x+e.width,y:o};break;case ca:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?dM(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case ep:l[u]=l[u]-(e[c]/2-r[c]/2);break;case Xm:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function qm(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,a=s===void 0?t.strategy:s,o=r.boundary,l=o===void 0?fie:o,u=r.rootBoundary,c=u===void 0?K4:u,h=r.elementContext,f=h===void 0?vg:h,g=r.altBoundary,m=g===void 0?!1:g,y=r.padding,b=y===void 0?0:y,x=tV(typeof b!="number"?b:rV(b,Ky)),v=f===vg?pie:vg,w=t.rects.popper,P=t.elements[m?v:f],T=Yie(uh(P)?P:P.contextElement||Jc(t.elements.popper),l,c,a),_=rp(t.elements.reference),M=iV({reference:_,element:w,strategy:"absolute",placement:i}),E=FT(Object.assign({},w,M)),D=f===vg?E:_,L={top:T.top-D.top+x.top,bottom:D.bottom-T.bottom+x.bottom,left:T.left-D.left+x.left,right:D.right-T.right+x.right},F=t.modifiersData.offset;if(f===vg&&F){var z=F[i];Object.keys(L).forEach(function(V){var O=[Mo,Bo].indexOf(V)>=0?1:-1,I=[ua,Bo].indexOf(V)>=0?"y":"x";L[V]+=z[I]*O})}return L}function Xie(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Q4:l,c=np(n),h=c?o?GI:GI.filter(function(m){return np(m)===c}):Ky,f=h.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=h);var g=f.reduce(function(m,y){return m[y]=qm(t,{placement:y,boundary:i,rootBoundary:s,padding:a})[Vl(y)],m},{});return Object.keys(g).sort(function(m,y){return g[m]-g[y]})}function qie(t){if(Vl(t)===lM)return[];var e=Nv(t);return[XI(t),e,XI(e)]}function Kie(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,h=r.rootBoundary,f=r.altBoundary,g=r.flipVariations,m=g===void 0?!0:g,y=r.allowedAutoPlacements,b=e.options.placement,x=Vl(b),v=x===b,w=l||(v||!m?[Nv(b)]:qie(b)),P=[b].concat(w).reduce(function(fe,J){return fe.concat(Vl(J)===lM?Xie(e,{placement:J,boundary:c,rootBoundary:h,padding:u,flipVariations:m,allowedAutoPlacements:y}):J)},[]),T=e.rects.reference,_=e.rects.popper,M=new Map,E=!0,D=P[0],L=0;L<P.length;L++){var F=P[L],z=Vl(F),V=np(F)===ep,O=[ua,Bo].indexOf(z)>=0,I=O?"width":"height",H=qm(e,{placement:F,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),W=O?V?Mo:ca:V?Bo:ua;T[I]>_[I]&&(W=Nv(W));var A=Nv(W),U=[];if(s&&U.push(H[z]<=0),o&&U.push(H[W]<=0,H[A]<=0),U.every(function(fe){return fe})){D=F,E=!1;break}M.set(F,U)}if(E)for(var q=m?3:1,ae=function(J){var ce=P.find(function(Se){var K=M.get(Se);if(K)return K.slice(0,J).every(function(Z){return Z})});if(ce)return D=ce,"break"},ne=q;ne>0;ne--){var ge=ae(ne);if(ge==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}const Qie={name:"flip",enabled:!0,phase:"main",fn:Kie,requiresIfExists:["offset"],data:{_skip:!1}};function KI(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function QI(t){return[ua,Mo,Bo,ca].some(function(e){return t[e]>=0})}function Jie(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=qm(e,{elementContext:"reference"}),o=qm(e,{altBoundary:!0}),l=KI(a,n),u=KI(o,i,s),c=QI(l),h=QI(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const Zie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jie};function ese(t,e,r){var n=Vl(t),i=[ca,ua].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ca,Mo].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function tse(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=Q4.reduce(function(c,h){return c[h]=ese(h,e.rects,s),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const rse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tse};function nse(t){var e=t.state,r=t.name;e.modifiersData[r]=iV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ise={name:"popperOffsets",enabled:!0,phase:"read",fn:nse,data:{}};function sse(t){return t==="x"?"y":"x"}function ase(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,h=r.padding,f=r.tether,g=f===void 0?!0:f,m=r.tetherOffset,y=m===void 0?0:m,b=qm(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),x=Vl(e.placement),v=np(e.placement),w=!v,P=dM(x),T=sse(P),_=e.modifiersData.popperOffsets,M=e.rects.reference,E=e.rects.popper,D=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(_){if(s){var V,O=P==="y"?ua:ca,I=P==="y"?Bo:Mo,H=P==="y"?"height":"width",W=_[P],A=W+b[O],U=W-b[I],q=g?-E[H]/2:0,ae=v===ep?M[H]:E[H],ne=v===ep?-E[H]:-M[H],ge=e.elements.arrow,fe=g&&ge?cM(ge):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eV(),ce=J[O],Se=J[I],K=dm(0,M[H],fe[H]),Z=w?M[H]/2-q-K-ce-L.mainAxis:ae-K-ce-L.mainAxis,ue=w?-M[H]/2+q+K+Se+L.mainAxis:ne+K+Se+L.mainAxis,de=e.elements.arrow&&Qy(e.elements.arrow),re=de?P==="y"?de.clientTop||0:de.clientLeft||0:0,Q=(V=F==null?void 0:F[P])!=null?V:0,ee=W+Z-Q-re,oe=W+ue-Q,Me=dm(g?Sw(A,ee):A,W,g?Yd(U,oe):U);_[P]=Me,z[P]=Me-W}if(o){var ke,j=P==="x"?ua:ca,ie=P==="x"?Bo:Mo,te=_[T],me=T==="y"?"height":"width",Be=te+b[j],Te=te-b[ie],Ge=[ua,ca].indexOf(x)!==-1,ot=(ke=F==null?void 0:F[T])!=null?ke:0,Dt=Ge?Be:te-M[me]-E[me]-ot+L.altAxis,At=Ge?te+M[me]+E[me]-ot-L.altAxis:Te,De=g&&Ge?Nie(Dt,te,At):dm(g?Dt:Be,te,g?At:Te);_[T]=De,z[T]=De-te}e.modifiersData[n]=z}}const ose={name:"preventOverflow",enabled:!0,phase:"main",fn:ase,requiresIfExists:["offset"]};function lse(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function use(t){return t===Aa(t)||!ko(t)?hM(t):lse(t)}function cse(t){var e=t.getBoundingClientRect(),r=tp(e.width)/t.offsetWidth||1,n=tp(e.height)/t.offsetHeight||1;return r!==1||n!==1}function dse(t,e,r){r===void 0&&(r=!1);var n=ko(e),i=ko(e)&&cse(e),s=Jc(e),a=rp(t,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Ul(e)!=="body"||pM(s))&&(o=use(e)),ko(e)?(l=rp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=fM(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function hse(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function fse(t){var e=hse(t);return Cie.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function pse(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function gse(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var JI={placement:"bottom",modifiers:[],strategy:"absolute"};function ZI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function mse(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?JI:i;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},JI,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:c,setOptions:function(x){var v=typeof x=="function"?x(c.options):x;y(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:uh(o)?hm(o):o.contextElement?hm(o.contextElement):[],popper:hm(l)};var w=fse(gse([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(P){return P.enabled}),m(),g.update()},forceUpdate:function(){if(!f){var x=c.elements,v=x.reference,w=x.popper;if(ZI(v,w)){c.rects={reference:dse(v,Qy(w),c.options.strategy==="fixed"),popper:cM(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var P=0;P<c.orderedModifiers.length;P++){if(c.reset===!0){c.reset=!1,P=-1;continue}var T=c.orderedModifiers[P],_=T.fn,M=T.options,E=M===void 0?{}:M,D=T.name;typeof _=="function"&&(c=_({state:c,options:E,name:D,instance:g})||c)}}}},update:pse(function(){return new Promise(function(b){g.forceUpdate(),b(c)})}),destroy:function(){y(),f=!0}};if(!ZI(o,l))return g;g.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var x=b.name,v=b.options,w=v===void 0?{}:v,P=b.effect;if(typeof P=="function"){var T=P({state:c,name:x,instance:g,options:w}),_=function(){};h.push(T||_)}})}function y(){h.forEach(function(b){return b()}),h=[]}return g}}var yse=[Vie,ise,Oie,Pie,rse,Qie,ose,Iie,Zie],bse=mse({defaultModifiers:yse});const sV="Popper";function vse(t){return j4(sV,t)}Kne(sV,["root"]);const wse=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],xse=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Sse(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function AT(t){return typeof t=="function"?t():t}function kse(t){return t.nodeType!==void 0}const Cse=()=>ut({root:["root"]},une(vse)),_se={},Tse=C.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:a,disablePortal:o,modifiers:l,open:u,placement:c,popperOptions:h,popperRef:f,slotProps:g={},slots:m={},TransitionProps:y}=e,b=Re(e,wse),x=C.useRef(null),v=Er(x,r),w=C.useRef(null),P=Er(w,f),T=C.useRef(P);In(()=>{T.current=P},[P]),C.useImperativeHandle(f,()=>w.current,[]);const _=Sse(c,a),[M,E]=C.useState(_),[D,L]=C.useState(AT(i));C.useEffect(()=>{w.current&&w.current.forceUpdate()}),C.useEffect(()=>{i&&L(AT(i))},[i]),In(()=>{if(!D||!u)return;const I=A=>{E(A.placement)};let H=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:A})=>{I(A)}}];l!=null&&(H=H.concat(l)),h&&h.modifiers!=null&&(H=H.concat(h.modifiers));const W=bse(D,x.current,B({placement:_},h,{modifiers:H}));return T.current(W),()=>{W.destroy(),T.current(null)}},[D,o,l,u,h,_]);const F={placement:M};y!==null&&(F.TransitionProps=y);const z=Cse(),V=(n=m.root)!=null?n:"div",O=sr({elementType:V,externalSlotProps:g.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:z.root});return k.jsx(V,B({},O,{children:typeof s=="function"?s(F):s}))}),Pse=C.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:c,placement:h="bottom",popperOptions:f=_se,popperRef:g,style:m,transition:y=!1,slotProps:b={},slots:x={}}=e,v=Re(e,xse),[w,P]=C.useState(!0),T=()=>{P(!1)},_=()=>{P(!0)};if(!l&&!c&&(!y||w))return null;let M;if(s)M=s;else if(n){const L=AT(n);M=L&&kse(L)?Qn(L).body:Qn(null).body}const E=!c&&l&&(!y||w)?"none":void 0,D=y?{in:c,onEnter:T,onExited:_}:void 0;return k.jsx(X4,{disablePortal:o,container:M,children:k.jsx(Tse,B({anchorEl:n,direction:a,disablePortal:o,modifiers:u,ref:r,open:y?!w:c,placement:h,popperOptions:f,popperRef:g,slotProps:b,slots:x},v,{style:B({position:"fixed",top:0,left:0,display:E},m),TransitionProps:D,children:i}))})}),Bse=2;function aV(t,e){return t-e}function eL(t,e){var r;const{index:n}=(r=t.reduce((i,s,a)=>{const o=Math.abs(e-s);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null))!=null?r:{};return n}function Pb(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function kw(t,e,r){return(t-e)*100/(r-e)}function Mse(t,e,r){return(r-e)*t+e}function Nse(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function Ese(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(Nse(e)))}function tL({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(aV)}function Bb({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const s=Qn(t.current);if(!((n=t.current)!=null&&n.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var a;(a=t.current)==null||a.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function Mb(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?ane(t,e):!1}const Rse={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Dse=t=>t;let Nb;function rL(){return Nb===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Nb=CSS.supports("touch-action","none"):Nb=!0),Nb}function Ise(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:o=100,min:l=0,name:u,onChange:c,onChangeCommitted:h,orientation:f="horizontal",rootRef:g,scale:m=Dse,step:y=1,shiftStep:b=10,tabIndex:x,value:v}=t,w=C.useRef(),[P,T]=C.useState(-1),[_,M]=C.useState(-1),[E,D]=C.useState(!1),L=C.useRef(0),[F,z]=Fa({controlled:v,default:r??l,name:"Slider"}),V=c&&((De,Ce,Ne)=>{const at=De.nativeEvent||De,ft=new at.constructor(at.type,at);Object.defineProperty(ft,"target",{writable:!0,value:{value:Ce,name:u}}),c(ft,Ce,Ne)}),O=Array.isArray(F);let I=O?F.slice().sort(aV):[F];I=I.map(De=>De==null?l:xc(De,l,o));const H=a===!0&&y!==null?[...Array(Math.floor((o-l)/y)+1)].map((De,Ce)=>({value:l+y*Ce})):a||[],W=H.map(De=>De.value),{isFocusVisibleRef:A,onBlur:U,onFocus:q,ref:ae}=qB(),[ne,ge]=C.useState(-1),fe=C.useRef(),J=Er(ae,fe),ce=Er(g,J),Se=De=>Ce=>{var Ne;const at=Number(Ce.currentTarget.getAttribute("data-index"));q(Ce),A.current===!0&&ge(at),M(at),De==null||(Ne=De.onFocus)==null||Ne.call(De,Ce)},K=De=>Ce=>{var Ne;U(Ce),A.current===!1&&ge(-1),M(-1),De==null||(Ne=De.onBlur)==null||Ne.call(De,Ce)},Z=(De,Ce)=>{const Ne=Number(De.currentTarget.getAttribute("data-index")),at=I[Ne],ft=W.indexOf(at);let Ze=Ce;if(H&&y==null){const Et=W[W.length-1];Ze>Et?Ze=Et:Ze<W[0]?Ze=W[0]:Ze=Ze<at?W[ft-1]:W[ft+1]}if(Ze=xc(Ze,l,o),O){i&&(Ze=xc(Ze,I[Ne-1]||-1/0,I[Ne+1]||1/0));const Et=Ze;Ze=tL({values:I,newValue:Ze,index:Ne});let qe=Ne;i||(qe=Ze.indexOf(Et)),Bb({sliderRef:fe,activeIndex:qe})}z(Ze),ge(Ne),V&&!Mb(Ze,F)&&V(De,Ze,Ne),h&&h(De,Ze)},ue=De=>Ce=>{var Ne;if(y!==null){const at=Number(Ce.currentTarget.getAttribute("data-index")),ft=I[at];let Ze=null;(Ce.key==="ArrowLeft"||Ce.key==="ArrowDown")&&Ce.shiftKey||Ce.key==="PageDown"?Ze=Math.max(ft-b,l):((Ce.key==="ArrowRight"||Ce.key==="ArrowUp")&&Ce.shiftKey||Ce.key==="PageUp")&&(Ze=Math.min(ft+b,o)),Ze!==null&&(Z(Ce,Ze),Ce.preventDefault())}De==null||(Ne=De.onKeyDown)==null||Ne.call(De,Ce)};In(()=>{if(n&&fe.current.contains(document.activeElement)){var De;(De=document.activeElement)==null||De.blur()}},[n]),n&&P!==-1&&T(-1),n&&ne!==-1&&ge(-1);const de=De=>Ce=>{var Ne;(Ne=De.onChange)==null||Ne.call(De,Ce),Z(Ce,Ce.target.valueAsNumber)},re=C.useRef();let Q=f;s&&f==="horizontal"&&(Q+="-reverse");const ee=({finger:De,move:Ce=!1})=>{const{current:Ne}=fe,{width:at,height:ft,bottom:Ze,left:Et}=Ne.getBoundingClientRect();let qe;Q.indexOf("vertical")===0?qe=(Ze-De.y)/ft:qe=(De.x-Et)/at,Q.indexOf("-reverse")!==-1&&(qe=1-qe);let Ye;if(Ye=Mse(qe,l,o),y)Ye=Ese(Ye,y,l);else{const wt=eL(W,Ye);Ye=W[wt]}Ye=xc(Ye,l,o);let St=0;if(O){Ce?St=re.current:St=eL(I,Ye),i&&(Ye=xc(Ye,I[St-1]||-1/0,I[St+1]||1/0));const wt=Ye;Ye=tL({values:I,newValue:Ye,index:St}),i&&Ce||(St=Ye.indexOf(wt),re.current=St)}return{newValue:Ye,activeIndex:St}},oe=bt(De=>{const Ce=Pb(De,w);if(!Ce)return;if(L.current+=1,De.type==="mousemove"&&De.buttons===0){Me(De);return}const{newValue:Ne,activeIndex:at}=ee({finger:Ce,move:!0});Bb({sliderRef:fe,activeIndex:at,setActive:T}),z(Ne),!E&&L.current>Bse&&D(!0),V&&!Mb(Ne,F)&&V(De,Ne,at)}),Me=bt(De=>{const Ce=Pb(De,w);if(D(!1),!Ce)return;const{newValue:Ne}=ee({finger:Ce,move:!0});T(-1),De.type==="touchend"&&M(-1),h&&h(De,Ne),w.current=void 0,j()}),ke=bt(De=>{if(n)return;rL()||De.preventDefault();const Ce=De.changedTouches[0];Ce!=null&&(w.current=Ce.identifier);const Ne=Pb(De,w);if(Ne!==!1){const{newValue:ft,activeIndex:Ze}=ee({finger:Ne});Bb({sliderRef:fe,activeIndex:Ze,setActive:T}),z(ft),V&&!Mb(ft,F)&&V(De,ft,Ze)}L.current=0;const at=Qn(fe.current);at.addEventListener("touchmove",oe,{passive:!0}),at.addEventListener("touchend",Me,{passive:!0})}),j=C.useCallback(()=>{const De=Qn(fe.current);De.removeEventListener("mousemove",oe),De.removeEventListener("mouseup",Me),De.removeEventListener("touchmove",oe),De.removeEventListener("touchend",Me)},[Me,oe]);C.useEffect(()=>{const{current:De}=fe;return De.addEventListener("touchstart",ke,{passive:rL()}),()=>{De.removeEventListener("touchstart",ke),j()}},[j,ke]),C.useEffect(()=>{n&&j()},[n,j]);const ie=De=>Ce=>{var Ne;if((Ne=De.onMouseDown)==null||Ne.call(De,Ce),n||Ce.defaultPrevented||Ce.button!==0)return;Ce.preventDefault();const at=Pb(Ce,w);if(at!==!1){const{newValue:Ze,activeIndex:Et}=ee({finger:at});Bb({sliderRef:fe,activeIndex:Et,setActive:T}),z(Ze),V&&!Mb(Ze,F)&&V(Ce,Ze,Et)}L.current=0;const ft=Qn(fe.current);ft.addEventListener("mousemove",oe,{passive:!0}),ft.addEventListener("mouseup",Me)},te=kw(O?I[0]:l,l,o),me=kw(I[I.length-1],l,o)-te,Be=(De={})=>{const Ce=um(De),Ne={onMouseDown:ie(Ce||{})},at=B({},Ce,Ne);return B({},De,{ref:ce},at)},Te=De=>Ce=>{var Ne;(Ne=De.onMouseOver)==null||Ne.call(De,Ce);const at=Number(Ce.currentTarget.getAttribute("data-index"));M(at)},Ge=De=>Ce=>{var Ne;(Ne=De.onMouseLeave)==null||Ne.call(De,Ce),M(-1)};return{active:P,axis:Q,axisProps:Rse,dragging:E,focusedThumbIndex:ne,getHiddenInputProps:(De={})=>{var Ce;const Ne=um(De),at={onChange:de(Ne||{}),onFocus:Se(Ne||{}),onBlur:K(Ne||{}),onKeyDown:ue(Ne||{})},ft=B({},Ne,at);return B({tabIndex:x,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":m(o),"aria-valuemin":m(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(Ce=t.step)!=null?Ce:void 0,disabled:n},De,ft,{style:B({},KB,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Be,getThumbProps:(De={})=>{const Ce=um(De),Ne={onMouseOver:Te(Ce||{}),onMouseLeave:Ge(Ce||{})};return B({},De,Ce,Ne)},marks:H,open:_,range:O,rootRef:ce,trackLeap:me,trackOffset:te,values:I,getThumbStyle:De=>({pointerEvents:P!==-1&&P!==De?"none":void 0})}}const Lse=["onChange","maxRows","minRows","style","value"];function Eb(t){return parseInt(t,10)||0}const Fse={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Ase(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const Ose=C.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:s=1,style:a,value:o}=e,l=Re(e,Lse),{current:u}=C.useRef(o!=null),c=C.useRef(null),h=Er(r,c),f=C.useRef(null),g=C.useCallback(()=>{const b=c.current,v=fl(b).getComputedStyle(b);if(v.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=f.current;w.style.width=v.width,w.value=b.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const P=v.boxSizing,T=Eb(v.paddingBottom)+Eb(v.paddingTop),_=Eb(v.borderBottomWidth)+Eb(v.borderTopWidth),M=w.scrollHeight;w.value="x";const E=w.scrollHeight;let D=M;s&&(D=Math.max(Number(s)*E,D)),i&&(D=Math.min(Number(i)*E,D)),D=Math.max(D,E);const L=D+(P==="border-box"?T+_:0),F=Math.abs(D-M)<=1;return{outerHeightStyle:L,overflowing:F}},[i,s,e.placeholder]),m=C.useCallback(()=>{const b=g();if(Ase(b))return;const x=c.current;x.style.height=`${b.outerHeightStyle}px`,x.style.overflow=b.overflowing?"hidden":""},[g]);In(()=>{const b=()=>{m()};let x;const v=jy(b),w=c.current,P=fl(w);P.addEventListener("resize",v);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(b),T.observe(w)),()=>{v.clear(),cancelAnimationFrame(x),P.removeEventListener("resize",v),T&&T.disconnect()}},[g,m]),In(()=>{m()});const y=b=>{u||m(),n&&n(b)};return k.jsxs(C.Fragment,{children:[k.jsx("textarea",B({value:o,onChange:y,ref:h,rows:s,style:a},l)),k.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:B({},Fse.shadow,a,{paddingTop:0,paddingBottom:0})})]})});var gM={};Object.defineProperty(gM,"__esModule",{value:!0});var oV=gM.default=void 0,$se=zse(C),Vse=V4;function lV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(lV=function(n){return n?r:e})(t)}function zse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=lV(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function Wse(t){return Object.keys(t).length===0}function Hse(t=null){const e=$se.useContext(Vse.ThemeContext);return!e||Wse(e)?t:e}oV=gM.default=Hse;const Use=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Gse=he(Pse,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jse=C.forwardRef(function(e,r){var n;const i=oV(),s=tt({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:u,container:c,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:x,transition:v,slots:w,slotProps:P}=s,T=Re(s,Use),_=(n=w==null?void 0:w.root)!=null?n:l==null?void 0:l.Root,M=B({anchorEl:a,container:c,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:x,transition:v},T);return k.jsx(Gse,B({as:o,direction:i==null?void 0:i.direction,slots:{root:_},slotProps:P??u},M,{ref:r}))}),uV=jse,Yse=an(k.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Xse(t){return dt("MuiChip",t)}const qse=ht("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Qr=qse,Kse=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Qse=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:s,onDelete:a,clickable:o,variant:l}=t,u={root:["root",l,r&&"disabled",`size${je(n)}`,`color${je(i)}`,o&&"clickable",o&&`clickableColor${je(i)}`,a&&"deletable",a&&`deletableColor${je(i)}`,`${l}${je(i)}`],label:["label",`label${je(n)}`],avatar:["avatar",`avatar${je(n)}`,`avatarColor${je(i)}`],icon:["icon",`icon${je(n)}`,`iconColor${je(s)}`],deleteIcon:["deleteIcon",`deleteIcon${je(n)}`,`deleteIconColor${je(i)}`,`deleteIcon${je(l)}Color${je(i)}`]};return ut(u,Xse,e)},Jse=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:s,onDelete:a,size:o,variant:l}=r;return[{[`& .${Qr.avatar}`]:e.avatar},{[`& .${Qr.avatar}`]:e[`avatar${je(o)}`]},{[`& .${Qr.avatar}`]:e[`avatarColor${je(n)}`]},{[`& .${Qr.icon}`]:e.icon},{[`& .${Qr.icon}`]:e[`icon${je(o)}`]},{[`& .${Qr.icon}`]:e[`iconColor${je(i)}`]},{[`& .${Qr.deleteIcon}`]:e.deleteIcon},{[`& .${Qr.deleteIcon}`]:e[`deleteIcon${je(o)}`]},{[`& .${Qr.deleteIcon}`]:e[`deleteIconColor${je(n)}`]},{[`& .${Qr.deleteIcon}`]:e[`deleteIcon${je(l)}Color${je(n)}`]},e.root,e[`size${je(o)}`],e[`color${je(n)}`],s&&e.clickable,s&&n!=="default"&&e[`clickableColor${je(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${je(n)}`],e[l],e[`${l}${je(n)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return B({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Qr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Qr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${Qr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Qr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Qr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Qr.icon}`]:B({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&B({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},e.color!=="default"&&{color:"inherit"})),[`& .${Qr.deleteIcon}`]:B({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Wr(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Wr(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Wr(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Qr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Wr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Qr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>B({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Wr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Qr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Wr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Qr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>B({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Qr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Qr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Qr.avatar}`]:{marginLeft:4},[`& .${Qr.avatarSmall}`]:{marginLeft:2},[`& .${Qr.icon}`]:{marginLeft:4},[`& .${Qr.iconSmall}`]:{marginLeft:2},[`& .${Qr.deleteIcon}`]:{marginRight:5},[`& .${Qr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Wr(t.palette[e.color].main,.7)}`,[`&.${Qr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Qr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Wr(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Qr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Wr(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),Zse=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${je(n)}`]]}})(({ownerState:t})=>B({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function nL(t){return t.key==="Backspace"||t.key==="Delete"}const eae=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:c=!1,icon:h,label:f,onClick:g,onDelete:m,onKeyDown:y,onKeyUp:b,size:x="medium",variant:v="filled",tabIndex:w,skipFocusWhenDisabled:P=!1}=n,T=Re(n,Kse),_=C.useRef(null),M=Er(_,r),E=U=>{U.stopPropagation(),m&&m(U)},D=U=>{U.currentTarget===U.target&&nL(U)&&U.preventDefault(),y&&y(U)},L=U=>{U.currentTarget===U.target&&(m&&nL(U)?m(U):U.key==="Escape"&&_.current&&_.current.blur()),b&&b(U)},F=a!==!1&&g?!0:a,z=F||m?Po:l||"div",V=B({},n,{component:z,disabled:c,size:x,color:o,iconColor:C.isValidElement(h)&&h.props.color||o,onDelete:!!m,clickable:F,variant:v}),O=Qse(V),I=z===Po?B({component:l||"div",focusVisibleClassName:O.focusVisible},m&&{disableRipple:!0}):{};let H=null;m&&(H=u&&C.isValidElement(u)?C.cloneElement(u,{className:Oe(u.props.className,O.deleteIcon),onClick:E}):k.jsx(Yse,{className:Oe(O.deleteIcon),onClick:E}));let W=null;i&&C.isValidElement(i)&&(W=C.cloneElement(i,{className:Oe(O.avatar,i.props.className)}));let A=null;return h&&C.isValidElement(h)&&(A=C.cloneElement(h,{className:Oe(O.icon,h.props.className)})),k.jsxs(Jse,B({as:z,className:Oe(O.root,s),disabled:F&&c?!0:void 0,onClick:g,onKeyDown:D,onKeyUp:L,ref:M,tabIndex:P&&c?-1:w,ownerState:V},I,T,{children:[W||A,k.jsx(Zse,{className:Oe(O.label),ownerState:V,children:f}),H]}))}),tae=eae;function Zc({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const rae=C.createContext(void 0),E1=rae;function pa(){return C.useContext(E1)}function nae(t){return k.jsx(Lee,B({},t,{defaultTheme:y1,themeId:zy}))}function iL(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Cw(t,e=!1){return t&&(iL(t.value)&&t.value!==""||e&&iL(t.defaultValue)&&t.defaultValue!=="")}function iae(t){return t.startAdornment}function sae(t){return dt("MuiInputBase",t)}const aae=ht("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ip=aae,oae=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],R1=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${je(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},D1=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},lae=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:f,startAdornment:g,type:m}=t,y={root:["root",`color${je(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",f&&f!=="medium"&&`size${je(f)}`,c&&"multiline",g&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return ut(y,sae,e)},I1=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:R1})(({theme:t,ownerState:e})=>B({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ip.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&B({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),L1=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:D1})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=B({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return B({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ip.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${ip.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),uae=k.jsx(nae,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),cae=C.forwardRef(function(e,r){var n;const i=tt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,components:u={},componentsProps:c={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:g,endAdornment:m,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:v={},inputRef:w,maxRows:P,minRows:T,multiline:_=!1,name:M,onBlur:E,onChange:D,onClick:L,onFocus:F,onKeyDown:z,onKeyUp:V,placeholder:O,readOnly:I,renderSuffix:H,rows:W,slotProps:A={},slots:U={},startAdornment:q,type:ae="text",value:ne}=i,ge=Re(i,oae),fe=v.value!=null?v.value:ne,{current:J}=C.useRef(fe!=null),ce=C.useRef(),Se=C.useCallback(De=>{},[]),K=Er(ce,w,v.ref,Se),[Z,ue]=C.useState(!1),de=pa(),re=Zc({props:i,muiFormControl:de,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=de?de.focused:Z,C.useEffect(()=>{!de&&f&&Z&&(ue(!1),E&&E())},[de,f,Z,E]);const Q=de&&de.onFilled,ee=de&&de.onEmpty,oe=C.useCallback(De=>{Cw(De)?Q&&Q():ee&&ee()},[Q,ee]);In(()=>{J&&oe({value:fe})},[fe,oe,J]);const Me=De=>{if(re.disabled){De.stopPropagation();return}F&&F(De),v.onFocus&&v.onFocus(De),de&&de.onFocus?de.onFocus(De):ue(!0)},ke=De=>{E&&E(De),v.onBlur&&v.onBlur(De),de&&de.onBlur?de.onBlur(De):ue(!1)},j=(De,...Ce)=>{if(!J){const Ne=De.target||ce.current;if(Ne==null)throw new Error(Ru(1));oe({value:Ne.value})}v.onChange&&v.onChange(De,...Ce),D&&D(De,...Ce)};C.useEffect(()=>{oe(ce.current)},[]);const ie=De=>{ce.current&&De.currentTarget===De.target&&ce.current.focus(),L&&L(De)};let te=x,me=v;_&&te==="input"&&(W?me=B({type:void 0,minRows:W,maxRows:W},me):me=B({type:void 0,maxRows:P,minRows:T},me),te=Ose);const Be=De=>{oe(De.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};C.useEffect(()=>{de&&de.setAdornedStart(!!q)},[de,q]);const Te=B({},i,{color:re.color||"primary",disabled:re.disabled,endAdornment:m,error:re.error,focused:re.focused,formControl:de,fullWidth:y,hiddenLabel:re.hiddenLabel,multiline:_,size:re.size,startAdornment:q,type:ae}),Ge=lae(Te),ot=U.root||u.Root||I1,Dt=A.root||c.root||{},At=U.input||u.Input||L1;return me=B({},me,(n=A.input)!=null?n:c.input),k.jsxs(C.Fragment,{children:[!g&&uae,k.jsxs(ot,B({},Dt,!$l(ot)&&{ownerState:B({},Te,Dt.ownerState)},{ref:r,onClick:ie},ge,{className:Oe(Ge.root,Dt.className,l,I&&"MuiInputBase-readOnly"),children:[q,k.jsx(E1.Provider,{value:null,children:k.jsx(At,B({ownerState:Te,"aria-invalid":re.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:h,disabled:re.disabled,id:b,onAnimationStart:Be,name:M,placeholder:O,readOnly:I,required:re.required,rows:W,value:fe,onKeyDown:z,onKeyUp:V,type:ae},me,!$l(At)&&{as:te,ownerState:B({},Te,me.ownerState)},{ref:K,className:Oe(Ge.input,me.className,I&&"MuiInputBase-readOnly"),onBlur:ke,onChange:j,onFocus:Me}))}),m,H?H(B({},re,{startAdornment:q})):null]}))]})}),mM=cae;function dae(t){return dt("MuiInput",t)}const hae=B({},ip,ht("MuiInput",["root","underline","input"])),wg=hae;function fae(t){return dt("MuiOutlinedInput",t)}const pae=B({},ip,ht("MuiOutlinedInput",["root","notchedOutline","input"])),ac=pae;function gae(t){return dt("MuiFilledInput",t)}const mae=B({},ip,ht("MuiFilledInput",["root","underline","input"])),pd=mae,yae=an(k.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),bae=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vae={entering:{opacity:1},entered:{opacity:1}},wae=C.forwardRef(function(e,r){const n=Ga(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:u,onEnter:c,onEntered:h,onEntering:f,onExit:g,onExited:m,onExiting:y,style:b,timeout:x=i,TransitionComponent:v=B1}=e,w=Re(e,bae),P=C.useRef(null),T=Er(P,o.ref,r),_=O=>I=>{if(O){const H=P.current;I===void 0?O(H):O(H,I)}},M=_(f),E=_((O,I)=>{oM(O);const H=Zf({style:b,timeout:x,easing:l},{mode:"enter"});O.style.webkitTransition=n.transitions.create("opacity",H),O.style.transition=n.transitions.create("opacity",H),c&&c(O,I)}),D=_(h),L=_(y),F=_(O=>{const I=Zf({style:b,timeout:x,easing:l},{mode:"exit"});O.style.webkitTransition=n.transitions.create("opacity",I),O.style.transition=n.transitions.create("opacity",I),g&&g(O)}),z=_(m),V=O=>{s&&s(P.current,O)};return k.jsx(v,B({appear:a,in:u,nodeRef:P,onEnter:E,onEntered:D,onEntering:M,onExit:F,onExited:z,onExiting:L,addEndListener:V,timeout:x},w,{children:(O,I)=>C.cloneElement(o,B({style:B({opacity:0,visibility:O==="exited"&&!u?"hidden":void 0},vae[O],b,o.props.style),ref:T},I))}))}),Ep=wae;function xae(t){return dt("MuiBackdrop",t)}ht("MuiBackdrop",["root","invisible"]);const Sae=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],kae=t=>{const{classes:e,invisible:r}=t;return ut({root:["root",r&&"invisible"]},xae,e)},Cae=he("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>B({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),_ae=C.forwardRef(function(e,r){var n,i,s;const a=tt({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:u="div",components:c={},componentsProps:h={},invisible:f=!1,open:g,slotProps:m={},slots:y={},TransitionComponent:b=Ep,transitionDuration:x}=a,v=Re(a,Sae),w=B({},a,{component:u,invisible:f}),P=kae(w),T=(n=m.root)!=null?n:h.root;return k.jsx(b,B({in:g,timeout:x},v,{children:k.jsx(Cae,B({"aria-hidden":!0},T,{as:(i=(s=y.root)!=null?s:c.Root)!=null?i:u,className:Oe(P.root,l,T==null?void 0:T.className),ownerState:B({},w,T==null?void 0:T.ownerState),classes:P,ref:r,children:o}))}))}),cV=_ae,Tae=ht("MuiBox",["root"]),Pae=Tae,Bae=$4(),Mae=Wee({themeId:zy,defaultTheme:Bae,defaultClassName:Pae.root,generateClassName:y4.generate}),Nae=Mae;function Eae(t){return dt("MuiButton",t)}const Rae=ht("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Rb=Rae,Dae=C.createContext({}),Iae=Dae,Lae=C.createContext(void 0),Fae=Lae,Aae=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Oae=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:s,classes:a}=t,o={root:["root",s,`${s}${je(e)}`,`size${je(i)}`,`${s}Size${je(i)}`,`color${je(e)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${je(i)}`],endIcon:["icon","endIcon",`iconSize${je(i)}`]},l=ut(o,Eae,a);return B({},a,l)},dV=t=>B({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),$ae=he(Po,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${je(r.color)}`],e[`size${je(r.size)}`],e[`${r.variant}Size${je(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return B({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":B({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Rb.focusVisible}`]:B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Rb.disabled}`]:B({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Wr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rb.disabled}`]:{boxShadow:"none"}}),Vae=he("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${je(r.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},dV(t))),zae=he("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${je(r.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},dV(t))),Wae=C.forwardRef(function(e,r){const n=C.useContext(Iae),i=C.useContext(Fae),s=YB(n,e),a=tt({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:c,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:g=!1,endIcon:m,focusVisibleClassName:y,fullWidth:b=!1,size:x="medium",startIcon:v,type:w,variant:P="text"}=a,T=Re(a,Aae),_=B({},a,{color:l,component:u,disabled:h,disableElevation:f,disableFocusRipple:g,fullWidth:b,size:x,type:w,variant:P}),M=Oae(_),E=v&&k.jsx(Vae,{className:M.startIcon,ownerState:_,children:v}),D=m&&k.jsx(zae,{className:M.endIcon,ownerState:_,children:m}),L=i||"";return k.jsxs($ae,B({ownerState:_,className:Oe(n.className,M.root,c,L),component:u,disabled:h,focusRipple:!g,focusVisibleClassName:Oe(M.focusVisible,y),ref:r,type:w},T,{classes:M,children:[E,o,D]}))}),fi=Wae;function Hae(t){return dt("MuiCard",t)}ht("MuiCard",["root"]);const Uae=["className","raised"],Gae=t=>{const{classes:e}=t;return ut({root:["root"]},Hae,e)},jae=he(xh,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Yae=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,a=Re(n,Uae),o=B({},n,{raised:s}),l=Gae(o);return k.jsx(jae,B({className:Oe(l.root,i),elevation:s?8:void 0,ref:r,ownerState:o},a))}),Xae=Yae;function qae(t){return dt("MuiCardContent",t)}ht("MuiCardContent",["root"]);const Kae=["className","component"],Qae=t=>{const{classes:e}=t;return ut({root:["root"]},qae,e)},Jae=he("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Zae=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,a=Re(n,Kae),o=B({},n,{component:s}),l=Qae(o);return k.jsx(Jae,B({as:s,className:Oe(l.root,i),ownerState:o,ref:r},a))}),Km=Zae;function eoe(t){return dt("MuiCardHeader",t)}const toe=ht("MuiCardHeader",["root","avatar","action","content","title","subheader"]),sL=toe,roe=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],noe=t=>{const{classes:e}=t;return ut({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},eoe,e)},ioe=he("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>B({[`& .${sL.title}`]:e.title,[`& .${sL.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),soe=he("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),aoe=he("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ooe=he("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),loe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:a,component:o="div",disableTypography:l=!1,subheader:u,subheaderTypographyProps:c,title:h,titleTypographyProps:f}=n,g=Re(n,roe),m=B({},n,{component:o,disableTypography:l}),y=noe(m);let b=h;b!=null&&b.type!==Kr&&!l&&(b=k.jsx(Kr,B({variant:s?"body2":"h5",className:y.title,component:"span",display:"block"},f,{children:b})));let x=u;return x!=null&&x.type!==Kr&&!l&&(x=k.jsx(Kr,B({variant:s?"body2":"body1",className:y.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:x}))),k.jsxs(ioe,B({className:Oe(y.root,a),as:o,ref:r,ownerState:m},g,{children:[s&&k.jsx(soe,{className:y.avatar,ownerState:m,children:s}),k.jsxs(ooe,{className:y.content,ownerState:m,children:[b,x]}),i&&k.jsx(aoe,{className:y.action,ownerState:m,children:i})]}))}),uoe=loe;function coe(t){return dt("PrivateSwitchBase",t)}ht("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const doe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],hoe=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${je(i)}`],input:["input"]};return ut(s,coe,e)},foe=he(Po)(({ownerState:t})=>B({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),poe=he("input",{shouldForwardProp:ns})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),goe=C.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:s,className:a,defaultChecked:o,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:h,id:f,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:x,onFocus:v,readOnly:w,required:P=!1,tabIndex:T,type:_,value:M}=e,E=Re(e,doe),[D,L]=Fa({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),F=pa(),z=U=>{v&&v(U),F&&F.onFocus&&F.onFocus(U)},V=U=>{b&&b(U),F&&F.onBlur&&F.onBlur(U)},O=U=>{if(U.nativeEvent.defaultPrevented)return;const q=U.target.checked;L(q),x&&x(U,q)};let I=l;F&&typeof I>"u"&&(I=F.disabled);const H=_==="checkbox"||_==="radio",W=B({},e,{checked:D,disabled:I,disableFocusRipple:u,edge:c}),A=hoe(W);return k.jsxs(foe,B({component:"span",className:Oe(A.root,a),centerRipple:!0,focusRipple:!u,disabled:I,tabIndex:null,role:void 0,onFocus:z,onBlur:V,ownerState:W,ref:r},E,{children:[k.jsx(poe,B({autoFocus:n,checked:i,defaultChecked:o,className:A.input,disabled:I,id:H?f:void 0,name:y,onChange:O,readOnly:w,ref:m,required:P,ownerState:W,tabIndex:T,type:_},_==="checkbox"&&M===void 0?{}:{value:M},g)),D?s:h]}))}),hV=goe;function moe(t){return dt("MuiCircularProgress",t)}ht("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const yoe=["className","color","disableShrink","size","style","thickness","value","variant"];let F1=t=>t,aL,oL,lL,uL;const oc=44,boe=Pp(aL||(aL=F1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),voe=Pp(oL||(oL=F1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),woe=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,s={root:["root",r,`color${je(n)}`],svg:["svg"],circle:["circle",`circle${je(r)}`,i&&"circleDisableShrink"]};return ut(s,moe,e)},xoe=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${je(r.color)}`]]}})(({ownerState:t,theme:e})=>B({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&qx(lL||(lL=F1`
      animation: ${0} 1.4s linear infinite;
    `),boe)),Soe=he("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),koe=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${je(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>B({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&qx(uL||(uL=F1`
      animation: ${0} 1.4s ease-in-out infinite;
    `),voe)),Coe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate"}=n,f=Re(n,yoe),g=B({},n,{color:s,disableShrink:a,size:o,thickness:u,value:c,variant:h}),m=woe(g),y={},b={},x={};if(h==="determinate"){const v=2*Math.PI*((oc-u)/2);y.strokeDasharray=v.toFixed(3),x["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,b.transform="rotate(-90deg)"}return k.jsx(xoe,B({className:Oe(m.root,i),style:B({width:o,height:o},b,l),ownerState:g,ref:r,role:"progressbar"},x,f,{children:k.jsx(Soe,{className:m.svg,ownerState:g,viewBox:`${oc/2} ${oc/2} ${oc} ${oc}`,children:k.jsx(koe,{className:m.circle,style:y,ownerState:g,cx:oc,cy:oc,r:(oc-u)/2,fill:"none",strokeWidth:u})})}))}),_oe=Coe;function Toe(t){return dt("MuiModal",t)}ht("MuiModal",["root","hidden","backdrop"]);const Poe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Boe=t=>{const{open:e,exited:r,classes:n}=t;return ut({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},Toe,n)},Moe=he("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>B({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Noe=he(cV,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Eoe=C.forwardRef(function(e,r){var n,i,s,a,o,l;const u=tt({name:"MuiModal",props:e}),{BackdropComponent:c=Noe,BackdropProps:h,className:f,closeAfterTransition:g=!1,children:m,container:y,component:b,components:x={},componentsProps:v={},disableAutoFocus:w=!1,disableEnforceFocus:P=!1,disableEscapeKeyDown:T=!1,disablePortal:_=!1,disableRestoreFocus:M=!1,disableScrollLock:E=!1,hideBackdrop:D=!1,keepMounted:L=!1,onBackdropClick:F,open:z,slotProps:V,slots:O}=u,I=Re(u,Poe),H=B({},u,{closeAfterTransition:g,disableAutoFocus:w,disableEnforceFocus:P,disableEscapeKeyDown:T,disablePortal:_,disableRestoreFocus:M,disableScrollLock:E,hideBackdrop:D,keepMounted:L}),{getRootProps:W,getBackdropProps:A,getTransitionProps:U,portalRef:q,isTopModal:ae,exited:ne,hasTransition:ge}=hie(B({},H,{rootRef:r})),fe=B({},H,{exited:ne}),J=Boe(fe),ce={};if(m.props.tabIndex===void 0&&(ce.tabIndex="-1"),ge){const{onEnter:Q,onExited:ee}=U();ce.onEnter=Q,ce.onExited=ee}const Se=(n=(i=O==null?void 0:O.root)!=null?i:x.Root)!=null?n:Moe,K=(s=(a=O==null?void 0:O.backdrop)!=null?a:x.Backdrop)!=null?s:c,Z=(o=V==null?void 0:V.root)!=null?o:v.root,ue=(l=V==null?void 0:V.backdrop)!=null?l:v.backdrop,de=sr({elementType:Se,externalSlotProps:Z,externalForwardedProps:I,getSlotProps:W,additionalProps:{ref:r,as:b},ownerState:fe,className:Oe(f,Z==null?void 0:Z.className,J==null?void 0:J.root,!fe.open&&fe.exited&&(J==null?void 0:J.hidden))}),re=sr({elementType:K,externalSlotProps:ue,additionalProps:h,getSlotProps:Q=>A(B({},Q,{onClick:ee=>{F&&F(ee),Q!=null&&Q.onClick&&Q.onClick(ee)}})),className:Oe(ue==null?void 0:ue.className,h==null?void 0:h.className,J==null?void 0:J.backdrop),ownerState:fe});return!L&&!z&&(!ge||ne)?null:k.jsx(X4,{ref:q,container:y,disablePortal:_,children:k.jsxs(Se,B({},de,{children:[!D&&c?k.jsx(K,B({},re)):null,k.jsx(Y4,{disableEnforceFocus:P,disableAutoFocus:w,disableRestoreFocus:M,isEnabled:ae,open:z,children:C.cloneElement(m,ce)})]}))})}),yM=Eoe;function Roe(t){return dt("MuiDialog",t)}const Doe=ht("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fm=Doe,Ioe=C.createContext({}),fV=Ioe,Loe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Foe=he(cV,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Aoe=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${je(r)}`],paper:["paper",`paperScroll${je(r)}`,`paperWidth${je(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return ut(a,Roe,e)},Ooe=he(yM,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),$oe=he("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${je(r.scroll)}`]]}})(({ownerState:t})=>B({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Voe=he(xh,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${je(r.scroll)}`],e[`paperWidth${je(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>B({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${fm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${fm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${fm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),zoe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialog"}),i=Ga(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,BackdropComponent:l,BackdropProps:u,children:c,className:h,disableEscapeKeyDown:f=!1,fullScreen:g=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:b,onClose:x,open:v,PaperComponent:w=xh,PaperProps:P={},scroll:T="paper",TransitionComponent:_=Ep,transitionDuration:M=s,TransitionProps:E}=n,D=Re(n,Loe),L=B({},n,{disableEscapeKeyDown:f,fullScreen:g,fullWidth:m,maxWidth:y,scroll:T}),F=Aoe(L),z=C.useRef(),V=W=>{z.current=W.target===W.currentTarget},O=W=>{z.current&&(z.current=null,b&&b(W),x&&x(W,"backdropClick"))},I=Do(o),H=C.useMemo(()=>({titleId:I}),[I]);return k.jsx(Ooe,B({className:Oe(F.root,h),closeAfterTransition:!0,components:{Backdrop:Foe},componentsProps:{backdrop:B({transitionDuration:M,as:l},u)},disableEscapeKeyDown:f,onClose:x,open:v,ref:r,onClick:O,ownerState:L},D,{children:k.jsx(_,B({appear:!0,in:v,timeout:M,role:"presentation"},E,{children:k.jsx($oe,{className:Oe(F.container),onMouseDown:V,ownerState:L,children:k.jsx(Voe,B({as:w,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":I},P,{className:Oe(F.paper,P.className),ownerState:L,children:k.jsx(fV.Provider,{value:H,children:c})}))})}))}))}),Jy=zoe;function Woe(t){return dt("MuiDialogActions",t)}ht("MuiDialogActions",["root","spacing"]);const Hoe=["className","disableSpacing"],Uoe=t=>{const{classes:e,disableSpacing:r}=t;return ut({root:["root",!r&&"spacing"]},Woe,e)},Goe=he("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>B({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),joe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=n,a=Re(n,Hoe),o=B({},n,{disableSpacing:s}),l=Uoe(o);return k.jsx(Goe,B({className:Oe(l.root,i),ownerState:o,ref:r},a))}),pV=joe;function Yoe(t){return dt("MuiDialogContent",t)}ht("MuiDialogContent",["root","dividers"]);function Xoe(t){return dt("MuiDialogTitle",t)}const qoe=ht("MuiDialogTitle",["root"]),Koe=qoe,Qoe=["className","dividers"],Joe=t=>{const{classes:e,dividers:r}=t;return ut({root:["root",r&&"dividers"]},Yoe,e)},Zoe=he("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>B({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Koe.root} + &`]:{paddingTop:0}})),ele=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=n,a=Re(n,Qoe),o=B({},n,{dividers:s}),l=Joe(o);return k.jsx(Zoe,B({className:Oe(l.root,i),ownerState:o,ref:r},a))}),gV=ele,tle=["className","id"],rle=t=>{const{classes:e}=t;return ut({root:["root"]},Xoe,e)},nle=he(Kr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),ile=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=n,a=Re(n,tle),o=n,l=rle(o),{titleId:u=s}=C.useContext(fV);return k.jsx(nle,B({component:"h2",className:Oe(l.root,i),ownerState:o,ref:r,variant:"h6",id:s??u},a))}),mV=ile;function sle(t){return dt("MuiDivider",t)}const ale=ht("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),cL=ale,ole=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],lle=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=t;return ut({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},sle,n)},ule=he("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>B({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Wr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>B({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>B({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),cle=he("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>B({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),yV=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,component:o=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:h=o!=="hr"?"separator":void 0,textAlign:f="center",variant:g="fullWidth"}=n,m=Re(n,ole),y=B({},n,{absolute:i,component:o,flexItem:l,light:u,orientation:c,role:h,textAlign:f,variant:g}),b=lle(y);return k.jsx(ule,B({as:o,className:Oe(b.root,a),role:h,ref:r,ownerState:y},m,{children:s?k.jsx(cle,{className:b.wrapper,ownerState:y,children:s}):null}))});yV.muiSkipListHighlight=!0;const dL=yV,dle=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function hle(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=fl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+o-n.left}px)`:`translateX(${s.innerWidth+o-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:t==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function fle(t){return typeof t=="function"?t():t}function Db(t,e,r){const n=fle(r),i=hle(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ple=C.forwardRef(function(e,r){const n=Ga(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:c="down",easing:h=i,in:f,onEnter:g,onEntered:m,onEntering:y,onExit:b,onExited:x,onExiting:v,style:w,timeout:P=s,TransitionComponent:T=B1}=e,_=Re(e,dle),M=C.useRef(null),E=Er(l.ref,M,r),D=A=>U=>{A&&(U===void 0?A(M.current):A(M.current,U))},L=D((A,U)=>{Db(c,A,u),oM(A),g&&g(A,U)}),F=D((A,U)=>{const q=Zf({timeout:P,style:w,easing:h},{mode:"enter"});A.style.webkitTransition=n.transitions.create("-webkit-transform",B({},q)),A.style.transition=n.transitions.create("transform",B({},q)),A.style.webkitTransform="none",A.style.transform="none",y&&y(A,U)}),z=D(m),V=D(v),O=D(A=>{const U=Zf({timeout:P,style:w,easing:h},{mode:"exit"});A.style.webkitTransition=n.transitions.create("-webkit-transform",U),A.style.transition=n.transitions.create("transform",U),Db(c,A,u),b&&b(A)}),I=D(A=>{A.style.webkitTransition="",A.style.transition="",x&&x(A)}),H=A=>{a&&a(M.current,A)},W=C.useCallback(()=>{M.current&&Db(c,M.current,u)},[c,u]);return C.useEffect(()=>{if(f||c==="down"||c==="right")return;const A=jy(()=>{M.current&&Db(c,M.current,u)}),U=fl(M.current);return U.addEventListener("resize",A),()=>{A.clear(),U.removeEventListener("resize",A)}},[c,f,u]),C.useEffect(()=>{f||W()},[f,W]),k.jsx(T,B({nodeRef:M,onEnter:L,onEntered:z,onEntering:F,onExit:O,onExited:I,onExiting:V,addEndListener:H,appear:o,in:f,timeout:P},_,{children:(A,U)=>C.cloneElement(l,B({ref:E,style:B({visibility:A==="exited"&&!f?"hidden":void 0},w,l.props.style)},U))}))}),gle=ple;function mle(t){return dt("MuiDrawer",t)}ht("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const yle=["BackdropProps"],ble=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],bV=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},vle=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${je(r)}`,n!=="temporary"&&`paperAnchorDocked${je(r)}`]};return ut(i,mle,e)},wle=he(yM,{name:"MuiDrawer",slot:"Root",overridesResolver:bV})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),hL=he("div",{shouldForwardProp:ns,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:bV})({flex:"0 0 auto"}),xle=he(xh,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${je(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${je(r.anchor)}`]]}})(({theme:t,ownerState:e})=>B({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),vV={left:"right",right:"left",top:"down",bottom:"up"};function Sle(t){return["left","right"].indexOf(t)!==-1}function kle({direction:t},e){return t==="rtl"&&Sle(e)?vV[e]:e}const Cle=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDrawer"}),i=Ga(),s=Yi(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:u,className:c,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:g}={},onClose:m,open:y=!1,PaperProps:b={},SlideProps:x,TransitionComponent:v=gle,transitionDuration:w=a,variant:P="temporary"}=n,T=Re(n.ModalProps,yle),_=Re(n,ble),M=C.useRef(!1);C.useEffect(()=>{M.current=!0},[]);const E=kle({direction:s?"rtl":"ltr"},o),L=B({},n,{anchor:o,elevation:h,open:y,variant:P},_),F=vle(L),z=k.jsx(xle,B({elevation:P==="temporary"?h:0,square:!0},b,{className:Oe(F.paper,b.className),ownerState:L,children:u}));if(P==="permanent")return k.jsx(hL,B({className:Oe(F.root,F.docked,c),ownerState:L,ref:r},_,{children:z}));const V=k.jsx(v,B({in:y,direction:vV[E],timeout:w,appear:M.current},x,{children:z}));return P==="persistent"?k.jsx(hL,B({className:Oe(F.root,F.docked,c),ownerState:L,ref:r},_,{children:V})):k.jsx(wle,B({BackdropProps:B({},l,g,{transitionDuration:w}),className:Oe(F.root,F.modal,c),open:y,ownerState:L,onClose:m,hideBackdrop:f,ref:r},_,T,{children:V}))}),_le=Cle;function Tle(t){return dt("MuiFab",t)}const Ple=ht("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),fL=Ple,Ble=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Mle=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${je(i)}`,e==="inherit"?"colorInherit":e]},a=ut(s,Tle,n);return B({},n,a)},Nle=he(Po,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ns(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${je(r.size)}`],r.color==="inherit"&&e.colorInherit,e[je(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return B({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${fL.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>B({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${fL.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),Ele=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFab"}),{children:i,className:s,color:a="default",component:o="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:h="large",variant:f="circular"}=n,g=Re(n,Ble),m=B({},n,{color:a,component:o,disabled:l,disableFocusRipple:u,size:h,variant:f}),y=Mle(m);return k.jsx(Nle,B({className:Oe(y.root,s),component:o,disabled:l,focusRipple:!u,focusVisibleClassName:Oe(y.focusVisible,c),ownerState:m,ref:r},g,{classes:y,children:i}))}),Rle=Ele,Dle=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ile=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},gae,e);return B({},e,i)},Lle=he(I1,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...R1(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return B({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${pd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${pd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pd.disabled}, .${pd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${pd.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&B({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Fle=he(L1,{name:"MuiFilledInput",slot:"Input",overridesResolver:D1})(({theme:t,ownerState:e})=>B({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),wV=C.forwardRef(function(e,r){var n,i,s,a;const o=tt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:m={},type:y="text"}=o,b=Re(o,Dle),x=B({},o,{fullWidth:c,inputComponent:h,multiline:f,type:y}),v=Ile(o),w={root:{ownerState:x},input:{ownerState:x}},P=g??u?Ws(w,g??u):w,T=(n=(i=m.root)!=null?i:l.Root)!=null?n:Lle,_=(s=(a=m.input)!=null?a:l.Input)!=null?s:Fle;return k.jsx(mM,B({slots:{root:T,input:_},componentsProps:P,fullWidth:c,inputComponent:h,multiline:f,ref:r,type:y},b,{classes:v}))});wV.muiName="Input";const xV=wV;function Ale(t){return dt("MuiFormControl",t)}ht("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ole=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$le=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${je(r)}`,n&&"fullWidth"]};return ut(i,Ale,e)},Vle=he("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,e[`margin${je(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>B({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),zle=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:h=!1,hiddenLabel:f=!1,margin:g="none",required:m=!1,size:y="medium",variant:b="outlined"}=n,x=Re(n,Ole),v=B({},n,{color:a,component:o,disabled:l,error:u,fullWidth:h,hiddenLabel:f,margin:g,required:m,size:y,variant:b}),w=$le(v),[P,T]=C.useState(()=>{let V=!1;return i&&C.Children.forEach(i,O=>{if(!Pv(O,["Input","Select"]))return;const I=Pv(O,["Select"])?O.props.input:O;I&&iae(I.props)&&(V=!0)}),V}),[_,M]=C.useState(()=>{let V=!1;return i&&C.Children.forEach(i,O=>{Pv(O,["Input","Select"])&&(Cw(O.props,!0)||Cw(O.props.inputProps,!0))&&(V=!0)}),V}),[E,D]=C.useState(!1);l&&E&&D(!1);const L=c!==void 0&&!l?c:E;let F;const z=C.useMemo(()=>({adornedStart:P,setAdornedStart:T,color:a,disabled:l,error:u,filled:_,focused:L,fullWidth:h,hiddenLabel:f,size:y,onBlur:()=>{D(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{D(!0)},registerEffect:F,required:m,variant:b}),[P,a,l,u,_,L,h,f,F,m,y,b]);return k.jsx(E1.Provider,{value:z,children:k.jsx(Vle,B({as:o,ownerState:v,className:Oe(w.root,s),ref:r},x,{children:i}))})}),SV=zle,Wle=Rte({createStyledComponent:he("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>tt({props:t,name:"MuiStack"})}),Hle=Wle;function Ule(t){return dt("MuiFormControlLabel",t)}const Gle=ht("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ug=Gle,jle=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Yle=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:s}=t,a={root:["root",r&&"disabled",`labelPlacement${je(n)}`,i&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return ut(a,Ule,e)},Xle=he("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Ug.label}`]:e.label},e.root,e[`labelPlacement${je(r.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>B({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ug.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ug.label}`]:{[`&.${Ug.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),qle=he("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ug.error}`]:{color:(t.vars||t).palette.error.main}})),Kle=C.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:o={},control:l,disabled:u,disableTypography:c,label:h,labelPlacement:f="end",required:g,slotProps:m={}}=s,y=Re(s,jle),b=pa(),x=(n=u??l.props.disabled)!=null?n:b==null?void 0:b.disabled,v=g??l.props.required,w={disabled:x,required:v};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof l.props[D]>"u"&&typeof s[D]<"u"&&(w[D]=s[D])});const P=Zc({props:s,muiFormControl:b,states:["error"]}),T=B({},s,{disabled:x,labelPlacement:f,required:v,error:P.error}),_=Yle(T),M=(i=m.typography)!=null?i:o.typography;let E=h;return E!=null&&E.type!==Kr&&!c&&(E=k.jsx(Kr,B({component:"span"},M,{className:Oe(_.label,M==null?void 0:M.className),children:E}))),k.jsxs(Xle,B({className:Oe(_.root,a),ownerState:T,ref:r},y,{children:[C.cloneElement(l,w),v?k.jsxs(Hle,{display:"block",children:[E,k.jsxs(qle,{ownerState:T,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}):E]}))}),OT=Kle;function Qle(t){return dt("MuiFormGroup",t)}ht("MuiFormGroup",["root","row","error"]);const Jle=["className","row"],Zle=t=>{const{classes:e,row:r,error:n}=t;return ut({root:["root",r&&"row",n&&"error"]},Qle,e)},eue=he("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})(({ownerState:t})=>B({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),tue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=n,a=Re(n,Jle),o=pa(),l=Zc({props:n,muiFormControl:o,states:["error"]}),u=B({},n,{row:s,error:l.error}),c=Zle(u);return k.jsx(eue,B({className:Oe(c.root,i),ownerState:u,ref:r},a))}),kV=tue;function rue(t){return dt("MuiFormHelperText",t)}const nue=ht("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),pL=nue;var gL;const iue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],sue=t=>{const{classes:e,contained:r,size:n,disabled:i,error:s,filled:a,focused:o,required:l}=t,u={root:["root",i&&"disabled",s&&"error",n&&`size${je(n)}`,r&&"contained",o&&"focused",a&&"filled",l&&"required"]};return ut(u,rue,e)},aue=he("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${je(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${pL.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${pL.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),oue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p"}=n,o=Re(n,iue),l=pa(),u=Zc({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=B({},n,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=sue(c);return k.jsx(aue,B({as:a,ownerState:c,className:Oe(h.root,s),ref:r},o,{children:i===" "?gL||(gL=k.jsx("span",{className:"notranslate",children:""})):i}))}),CV=oue;function lue(t){return dt("MuiFormLabel",t)}const uue=ht("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pm=uue,cue=["children","className","color","component","disabled","error","filled","focused","required"],due=t=>{const{classes:e,color:r,focused:n,disabled:i,error:s,filled:a,required:o}=t,l={root:["root",`color${je(r)}`,i&&"disabled",s&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return ut(l,lue,e)},hue=he("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${pm.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${pm.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${pm.error}`]:{color:(t.vars||t).palette.error.main}})),fue=he("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${pm.error}`]:{color:(t.vars||t).palette.error.main}})),pue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:a="label"}=n,o=Re(n,cue),l=pa(),u=Zc({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=B({},n,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=due(c);return k.jsxs(hue,B({as:a,ownerState:c,className:Oe(h.root,s),ref:r},o,{children:[i,u.required&&k.jsxs(fue,{ownerState:c,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),gue=pue,mue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function $T(t){return`scale(${t}, ${t**2})`}const yue={entering:{opacity:1,transform:$T(1)},entered:{opacity:1,transform:"none"}},yC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),_V=C.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:a,in:o,onEnter:l,onEntered:u,onEntering:c,onExit:h,onExited:f,onExiting:g,style:m,timeout:y="auto",TransitionComponent:b=B1}=e,x=Re(e,mue),v=B4(),w=C.useRef(),P=Ga(),T=C.useRef(null),_=Er(T,s.ref,r),M=I=>H=>{if(I){const W=T.current;H===void 0?I(W):I(W,H)}},E=M(c),D=M((I,H)=>{oM(I);const{duration:W,delay:A,easing:U}=Zf({style:m,timeout:y,easing:a},{mode:"enter"});let q;y==="auto"?(q=P.transitions.getAutoHeightDuration(I.clientHeight),w.current=q):q=W,I.style.transition=[P.transitions.create("opacity",{duration:q,delay:A}),P.transitions.create("transform",{duration:yC?q:q*.666,delay:A,easing:U})].join(","),l&&l(I,H)}),L=M(u),F=M(g),z=M(I=>{const{duration:H,delay:W,easing:A}=Zf({style:m,timeout:y,easing:a},{mode:"exit"});let U;y==="auto"?(U=P.transitions.getAutoHeightDuration(I.clientHeight),w.current=U):U=H,I.style.transition=[P.transitions.create("opacity",{duration:U,delay:W}),P.transitions.create("transform",{duration:yC?U:U*.666,delay:yC?W:W||U*.333,easing:A})].join(","),I.style.opacity=0,I.style.transform=$T(.75),h&&h(I)}),V=M(f),O=I=>{y==="auto"&&v.start(w.current||0,I),n&&n(T.current,I)};return k.jsx(b,B({appear:i,in:o,nodeRef:T,onEnter:D,onEntered:L,onEntering:E,onExit:z,onExited:V,onExiting:F,addEndListener:O,timeout:y==="auto"?null:y},x,{children:(I,H)=>C.cloneElement(s,B({style:B({opacity:0,transform:$T(.75),visibility:I==="exited"&&!o?"hidden":void 0},yue[I],m,s.props.style),ref:_},H))}))});_V.muiSupportAuto=!0;const TV=_V,bue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],vue=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},dae,e);return B({},e,i)},wue=he(I1,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...R1(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),B({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wg.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wg.disabled}, .${wg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${wg.disabled}:before`]:{borderBottomStyle:"dotted"}})}),xue=he(L1,{name:"MuiInput",slot:"Input",overridesResolver:D1})({}),PV=C.forwardRef(function(e,r){var n,i,s,a;const o=tt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:h=!1,inputComponent:f="input",multiline:g=!1,slotProps:m,slots:y={},type:b="text"}=o,x=Re(o,bue),v=vue(o),P={root:{ownerState:{disableUnderline:l}}},T=m??c?Ws(m??c,P):P,_=(n=(i=y.root)!=null?i:u.Root)!=null?n:wue,M=(s=(a=y.input)!=null?a:u.Input)!=null?s:xue;return k.jsx(mM,B({slots:{root:_,input:M},slotProps:T,fullWidth:h,inputComponent:f,multiline:g,ref:r,type:b},x,{classes:v}))});PV.muiName="Input";const bM=PV;function Sue(t){return dt("MuiInputAdornment",t)}const kue=ht("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),mL=kue;var yL;const Cue=["children","className","component","disablePointerEvents","disableTypography","position","variant"],_ue=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${je(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},Tue=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:s,variant:a}=t,o={root:["root",r&&"disablePointerEvents",i&&`position${je(i)}`,a,n&&"hiddenLabel",s&&`size${je(s)}`]};return ut(o,Sue,e)},Pue=he("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:_ue})(({theme:t,ownerState:e})=>B({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${mL.positionStart}&:not(.${mL.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Bue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:c}=n,h=Re(n,Cue),f=pa()||{};let g=c;c&&f.variant,f&&!g&&(g=f.variant);const m=B({},n,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:o,position:u,variant:g}),y=Tue(m);return k.jsx(E1.Provider,{value:null,children:k.jsx(Pue,B({as:a,ownerState:m,className:Oe(y.root,s),ref:r},h,{children:typeof i=="string"&&!l?k.jsx(Kr,{color:"text.secondary",children:i}):k.jsxs(C.Fragment,{children:[u==="start"?yL||(yL=k.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),BV=Bue;function Mue(t){return dt("MuiInputLabel",t)}ht("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Nue=["disableAnimation","margin","shrink","variant","className"],Eue=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:s,variant:a,required:o}=t,l={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="normal"&&`size${je(n)}`,a],asterisk:[o&&"asterisk"]},u=ut(l,Mue,e);return B({},e,u)},Rue=he(gue,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${pm.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>B({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&B({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&B({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&B({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Due=C.forwardRef(function(e,r){const n=tt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:a}=n,o=Re(n,Nue),l=pa();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Zc({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),h=B({},n,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),f=Eue(h);return k.jsx(Rue,B({"data-shrink":u,ownerState:h,ref:r,className:Oe(f.root,a)},o,{classes:f}))}),MV=Due,Iue=C.createContext({}),ll=Iue;function Lue(t){return dt("MuiList",t)}ht("MuiList",["root","padding","dense","subheader"]);const Fue=["children","className","component","dense","disablePadding","subheader"],Aue=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return ut({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Lue,e)},Oue=he("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>B({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),$ue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u}=n,c=Re(n,Fue),h=C.useMemo(()=>({dense:o}),[o]),f=B({},n,{component:a,dense:o,disablePadding:l}),g=Aue(f);return k.jsx(ll.Provider,{value:h,children:k.jsxs(Oue,B({as:a,className:Oe(g.root,s),ref:r,ownerState:f},c,{children:[u,i]}))})}),Zy=$ue;function Vue(t){return dt("MuiListItem",t)}const zue=ht("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),af=zue;function Wue(t){return dt("MuiListItemButton",t)}const Hue=ht("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),of=Hue,Uue=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Gue=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},jue=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:s,divider:a,selected:o}=t,u=ut({root:["root",n&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},Wue,r);return B({},r,u)},Yue=he(Po,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Gue})(({theme:t,ownerState:e})=>B({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${of.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${of.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${of.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${of.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${of.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Xue=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:h,selected:f=!1,className:g}=n,m=Re(n,Uue),y=C.useContext(ll),b=C.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),x=C.useRef(null);In(()=>{s&&x.current&&x.current.focus()},[s]);const v=B({},n,{alignItems:i,dense:b.dense,disableGutters:u,divider:c,selected:f}),w=jue(v),P=Er(x,r);return k.jsx(ll.Provider,{value:b,children:k.jsx(Yue,B({ref:P,href:m.href||m.to,component:(m.href||m.to)&&a==="div"?"button":a,focusVisibleClassName:Oe(w.focusVisible,h),ownerState:v,className:Oe(w.root,g)},m,{classes:w,children:o}))})}),lc=Xue;function que(t){return dt("MuiListItemSecondaryAction",t)}ht("MuiListItemSecondaryAction",["root","disableGutters"]);const Kue=["className"],Que=t=>{const{disableGutters:e,classes:r}=t;return ut({root:["root",e&&"disableGutters"]},que,r)},Jue=he("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>B({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),NV=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,s=Re(n,Kue),a=C.useContext(ll),o=B({},n,{disableGutters:a.disableGutters}),l=Que(o);return k.jsx(Jue,B({className:Oe(l.root,i),ownerState:o,ref:r},s))});NV.muiName="ListItemSecondaryAction";const Zue=NV,ece=["className"],tce=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],rce=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},nce=t=>{const{alignItems:e,button:r,classes:n,dense:i,disabled:s,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:u,selected:c}=t;return ut({root:["root",i&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",s&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},Vue,n)},ice=he("div",{name:"MuiListItem",slot:"Root",overridesResolver:rce})(({theme:t,ownerState:e})=>B({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&B({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${of.root}`]:{paddingRight:48}},{[`&.${af.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${af.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${af.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${af.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${af.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),sce=he("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),ace=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:a=!1,children:o,className:l,component:u,components:c={},componentsProps:h={},ContainerComponent:f="li",ContainerProps:{className:g}={},dense:m=!1,disabled:y=!1,disableGutters:b=!1,disablePadding:x=!1,divider:v=!1,focusVisibleClassName:w,secondaryAction:P,selected:T=!1,slotProps:_={},slots:M={}}=n,E=Re(n.ContainerProps,ece),D=Re(n,tce),L=C.useContext(ll),F=C.useMemo(()=>({dense:m||L.dense||!1,alignItems:i,disableGutters:b}),[i,L.dense,m,b]),z=C.useRef(null);In(()=>{s&&z.current&&z.current.focus()},[s]);const V=C.Children.toArray(o),O=V.length&&Pv(V[V.length-1],["ListItemSecondaryAction"]),I=B({},n,{alignItems:i,autoFocus:s,button:a,dense:F.dense,disabled:y,disableGutters:b,disablePadding:x,divider:v,hasSecondaryAction:O,selected:T}),H=nce(I),W=Er(z,r),A=M.root||c.Root||ice,U=_.root||h.root||{},q=B({className:Oe(H.root,U.className,l),disabled:y},D);let ae=u||"li";return a&&(q.component=u||"div",q.focusVisibleClassName=Oe(af.focusVisible,w),ae=Po),O?(ae=!q.component&&!u?"div":ae,f==="li"&&(ae==="li"?ae="div":q.component==="li"&&(q.component="div")),k.jsx(ll.Provider,{value:F,children:k.jsxs(sce,B({as:f,className:Oe(H.container,g),ref:W,ownerState:I},E,{children:[k.jsx(A,B({},U,!$l(A)&&{as:ae,ownerState:B({},I,U.ownerState)},q,{children:V})),V.pop()]}))})):k.jsx(ll.Provider,{value:F,children:k.jsxs(A,B({},U,{as:ae,ref:W},!$l(A)&&{ownerState:B({},I,U.ownerState)},q,{children:[V,P&&k.jsx(Zue,{children:P})]}))})}),EV=ace;function oce(t){return dt("MuiListItemIcon",t)}const lce=ht("MuiListItemIcon",["root","alignItemsFlexStart"]),bL=lce,uce=["className"],cce=t=>{const{alignItems:e,classes:r}=t;return ut({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},oce,r)},dce=he("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>B({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),hce=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemIcon"}),{className:i}=n,s=Re(n,uce),a=C.useContext(ll),o=B({},n,{alignItems:a.alignItems}),l=cce(o);return k.jsx(dce,B({className:Oe(l.root,i),ownerState:o,ref:r},s))}),uc=hce;function fce(t){return dt("MuiListItemText",t)}const pce=ht("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_w=pce,gce=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],mce=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:s}=t;return ut({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},fce,e)},yce=he("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${_w.primary}`]:e.primary},{[`& .${_w.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>B({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),bce=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:h}=n,f=Re(n,gce),{dense:g}=C.useContext(ll);let m=l??i,y=c;const b=B({},n,{disableTypography:a,inset:o,primary:!!m,secondary:!!y,dense:g}),x=mce(b);return m!=null&&m.type!==Kr&&!a&&(m=k.jsx(Kr,B({variant:g?"body2":"body1",className:x.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:m}))),y!=null&&y.type!==Kr&&!a&&(y=k.jsx(Kr,B({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},h,{children:y}))),k.jsxs(yce,B({className:Oe(x.root,s),ownerState:b,ref:r},f,{children:[m,y]}))}),cc=bce,vce=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function bC(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function vL(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function RV(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function xg(t,e,r,n,i,s){let a=!1,o=i(t,e,e?r:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!RV(o,s)||l)o=i(t,o,r);else return o.focus(),!0}return!1}const wce=C.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:h="selectedMenu"}=e,f=Re(e,vce),g=C.useRef(null),m=C.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});In(()=>{i&&g.current.focus()},[i]),C.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(w,{direction:P})=>{const T=!g.current.style.width;if(w.clientHeight<g.current.clientHeight&&T){const _=`${M4(Qn(w))}px`;g.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=_,g.current.style.width=`calc(100% + ${_})`}return g.current}}),[]);const y=w=>{const P=g.current,T=w.key,_=Qn(P).activeElement;if(T==="ArrowDown")w.preventDefault(),xg(P,_,u,l,bC);else if(T==="ArrowUp")w.preventDefault(),xg(P,_,u,l,vL);else if(T==="Home")w.preventDefault(),xg(P,null,u,l,bC);else if(T==="End")w.preventDefault(),xg(P,null,u,l,vL);else if(T.length===1){const M=m.current,E=T.toLowerCase(),D=performance.now();M.keys.length>0&&(D-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&E!==M.keys[0]&&(M.repeating=!1)),M.lastTime=D,M.keys.push(E);const L=_&&!M.repeating&&RV(_,M);M.previousKeyMatched&&(L||xg(P,_,!1,l,bC,M))?w.preventDefault():M.previousKeyMatched=!1}c&&c(w)},b=Er(g,r);let x=-1;C.Children.forEach(a,(w,P)=>{if(!C.isValidElement(w)){x===P&&(x+=1,x>=a.length&&(x=-1));return}w.props.disabled||(h==="selectedMenu"&&w.props.selected||x===-1)&&(x=P),x===P&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const v=C.Children.map(a,(w,P)=>{if(P===x){const T={};return s&&(T.autoFocus=!0),w.props.tabIndex===void 0&&h==="selectedMenu"&&(T.tabIndex=0),C.cloneElement(w,T)}return w});return k.jsx(Zy,B({role:"menu",ref:b,className:o,onKeyDown:y,tabIndex:i?0:-1},f,{children:v}))}),vM=wce;function xce(t){return dt("MuiPopover",t)}ht("MuiPopover",["root","paper"]);const Sce=["onEntering"],kce=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Cce=["slotProps"];function wL(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function xL(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function SL(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function vC(t){return typeof t=="function"?t():t}const _ce=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"]},xce,e)},Tce=he(yM,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DV=he(xh,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Pce=C.forwardRef(function(e,r){var n,i,s;const a=tt({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:h="anchorEl",children:f,className:g,container:m,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:v={},slots:w,slotProps:P,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:_=TV,transitionDuration:M="auto",TransitionProps:{onEntering:E}={},disableScrollLock:D=!1}=a,L=Re(a.TransitionProps,Sce),F=Re(a,kce),z=(n=P==null?void 0:P.paper)!=null?n:v,V=C.useRef(),O=Er(V,z.ref),I=B({},a,{anchorOrigin:u,anchorReference:h,elevation:y,marginThreshold:b,externalPaperSlotProps:z,transformOrigin:T,TransitionComponent:_,transitionDuration:M,TransitionProps:L}),H=_ce(I),W=C.useCallback(()=>{if(h==="anchorPosition")return c;const Q=vC(l),oe=(Q&&Q.nodeType===1?Q:Qn(V.current).body).getBoundingClientRect();return{top:oe.top+wL(oe,u.vertical),left:oe.left+xL(oe,u.horizontal)}},[l,u.horizontal,u.vertical,c,h]),A=C.useCallback(Q=>({vertical:wL(Q,T.vertical),horizontal:xL(Q,T.horizontal)}),[T.horizontal,T.vertical]),U=C.useCallback(Q=>{const ee={width:Q.offsetWidth,height:Q.offsetHeight},oe=A(ee);if(h==="none")return{top:null,left:null,transformOrigin:SL(oe)};const Me=W();let ke=Me.top-oe.vertical,j=Me.left-oe.horizontal;const ie=ke+ee.height,te=j+ee.width,me=fl(vC(l)),Be=me.innerHeight-b,Te=me.innerWidth-b;if(b!==null&&ke<b){const Ge=ke-b;ke-=Ge,oe.vertical+=Ge}else if(b!==null&&ie>Be){const Ge=ie-Be;ke-=Ge,oe.vertical+=Ge}if(b!==null&&j<b){const Ge=j-b;j-=Ge,oe.horizontal+=Ge}else if(te>Te){const Ge=te-Te;j-=Ge,oe.horizontal+=Ge}return{top:`${Math.round(ke)}px`,left:`${Math.round(j)}px`,transformOrigin:SL(oe)}},[l,h,W,A,b]),[q,ae]=C.useState(x),ne=C.useCallback(()=>{const Q=V.current;if(!Q)return;const ee=U(Q);ee.top!==null&&(Q.style.top=ee.top),ee.left!==null&&(Q.style.left=ee.left),Q.style.transformOrigin=ee.transformOrigin,ae(!0)},[U]);C.useEffect(()=>(D&&window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)),[l,D,ne]);const ge=(Q,ee)=>{E&&E(Q,ee),ne()},fe=()=>{ae(!1)};C.useEffect(()=>{x&&ne()}),C.useImperativeHandle(o,()=>x?{updatePosition:()=>{ne()}}:null,[x,ne]),C.useEffect(()=>{if(!x)return;const Q=jy(()=>{ne()}),ee=fl(l);return ee.addEventListener("resize",Q),()=>{Q.clear(),ee.removeEventListener("resize",Q)}},[l,x,ne]);let J=M;M==="auto"&&!_.muiSupportAuto&&(J=void 0);const ce=m||(l?Qn(vC(l)).body:void 0),Se=(i=w==null?void 0:w.root)!=null?i:Tce,K=(s=w==null?void 0:w.paper)!=null?s:DV,Z=sr({elementType:K,externalSlotProps:B({},z,{style:q?z.style:B({},z.style,{opacity:0})}),additionalProps:{elevation:y,ref:O},ownerState:I,className:Oe(H.paper,z==null?void 0:z.className)}),ue=sr({elementType:Se,externalSlotProps:(P==null?void 0:P.root)||{},externalForwardedProps:F,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:ce,open:x},ownerState:I,className:Oe(H.root,g)}),{slotProps:de}=ue,re=Re(ue,Cce);return k.jsx(Se,B({},re,!$l(Se)&&{slotProps:de,disableScrollLock:D},{children:k.jsx(_,B({appear:!0,in:x,onEntering:ge,onExited:fe,timeout:J},L,{children:k.jsx(K,B({},Z,{children:f}))}))}))}),Bce=Pce;function Mce(t){return dt("MuiMenu",t)}ht("MuiMenu",["root","paper","list"]);const Nce=["onEntering"],Ece=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Rce={vertical:"top",horizontal:"right"},Dce={vertical:"top",horizontal:"left"},Ice=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"],list:["list"]},Mce,e)},Lce=he(Bce,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fce=he(DV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ace=he(vM,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Oce=C.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:h,open:f,PaperProps:g={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:x="selectedMenu",slots:v={},slotProps:w={}}=s,P=Re(s.TransitionProps,Nce),T=Re(s,Ece),_=Yi(),M=B({},s,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:b,PaperProps:g,transitionDuration:y,TransitionProps:P,variant:x}),E=Ice(M),D=a&&!u&&f,L=C.useRef(null),F=(A,U)=>{L.current&&L.current.adjustStyleForScrollbar(A,{direction:_?"rtl":"ltr"}),b&&b(A,U)},z=A=>{A.key==="Tab"&&(A.preventDefault(),h&&h(A,"tabKeyDown"))};let V=-1;C.Children.map(o,(A,U)=>{C.isValidElement(A)&&(A.props.disabled||(x==="selectedMenu"&&A.props.selected||V===-1)&&(V=U))});const O=(n=v.paper)!=null?n:Fce,I=(i=w.paper)!=null?i:g,H=sr({elementType:v.root,externalSlotProps:w.root,ownerState:M,className:[E.root,l]}),W=sr({elementType:O,externalSlotProps:I,ownerState:M,className:E.paper});return k.jsx(Lce,B({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?Rce:Dce,slots:{paper:O,root:v.root},slotProps:{root:H,paper:W},open:f,ref:r,transitionDuration:y,TransitionProps:B({onEntering:F},P),ownerState:M},T,{classes:m,children:k.jsx(Ace,B({onKeyDown:z,actions:L,autoFocus:a&&(V===-1||u),autoFocusItem:D,variant:x},c,{className:Oe(E.list,c.className),children:o}))}))}),$ce=Oce;function Vce(t){return dt("MuiMenuItem",t)}const zce=ht("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Sg=zce,Wce=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Hce=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},Uce=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:s,classes:a}=t,l=ut({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},Vce,a);return B({},a,l)},Gce=he(Po,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Hce})(({theme:t,ownerState:e})=>B({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Sg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Sg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Wr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Sg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Sg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${cL.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${cL.inset}`]:{marginLeft:52},[`& .${_w.root}`]:{marginTop:0,marginBottom:0},[`& .${_w.inset}`]:{paddingLeft:36},[`& .${bL.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&B({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${bL.root} svg`]:{fontSize:"1.25rem"}}))),jce=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:h,className:f}=n,g=Re(n,Wce),m=C.useContext(ll),y=C.useMemo(()=>({dense:a||m.dense||!1,disableGutters:l}),[m.dense,a,l]),b=C.useRef(null);In(()=>{i&&b.current&&b.current.focus()},[i]);const x=B({},n,{dense:y.dense,divider:o,disableGutters:l}),v=Uce(n),w=Er(b,r);let P;return n.disabled||(P=h!==void 0?h:-1),k.jsx(ll.Provider,{value:y,children:k.jsx(Gce,B({ref:w,role:c,tabIndex:P,component:s,focusVisibleClassName:Oe(v.focusVisible,u),className:Oe(v.root,f)},g,{ownerState:x,classes:v}))})}),A1=jce;function Yce(t){return dt("MuiNativeSelect",t)}const Xce=ht("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),wM=Xce,qce=["className","disabled","error","IconComponent","inputRef","variant"],Kce=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${je(r)}`,s&&"iconOpen",n&&"disabled"]};return ut(o,Yce,e)},IV=({ownerState:t,theme:e})=>B({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":B({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${wM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Qce=he("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ns,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${wM.multiple}`]:e.multiple}]}})(IV),LV=({ownerState:t,theme:e})=>B({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${wM.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Jce=he("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${je(r.variant)}`],r.open&&e.iconOpen]}})(LV),Zce=C.forwardRef(function(e,r){const{className:n,disabled:i,error:s,IconComponent:a,inputRef:o,variant:l="standard"}=e,u=Re(e,qce),c=B({},e,{disabled:i,variant:l,error:s}),h=Kce(c);return k.jsxs(C.Fragment,{children:[k.jsx(Qce,B({ownerState:c,className:Oe(h.select,n),disabled:i,ref:o||r},u)),e.multiple?null:k.jsx(Jce,{as:a,ownerState:c,className:h.icon})]})}),ede=Zce;var kL;const tde=["children","classes","className","label","notched"],rde=he("fieldset",{shouldForwardProp:ns})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),nde=he("legend",{shouldForwardProp:ns})(({ownerState:t,theme:e})=>B({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&B({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function ide(t){const{className:e,label:r,notched:n}=t,i=Re(t,tde),s=r!=null&&r!=="",a=B({},t,{notched:n,withLabel:s});return k.jsx(rde,B({"aria-hidden":!0,className:e,ownerState:a},i,{children:k.jsx(nde,{ownerState:a,children:s?k.jsx("span",{children:r}):kL||(kL=k.jsx("span",{className:"notranslate",children:""}))})}))}const sde=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ade=t=>{const{classes:e}=t,n=ut({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fae,e);return B({},e,n)},ode=he(I1,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:R1})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return B({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ac.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${ac.focused} .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ac.error} .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ac.disabled} .${ac.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&B({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),lde=he(ide,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),ude=he(L1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:D1})(({theme:t,ownerState:e})=>B({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),FV=C.forwardRef(function(e,r){var n,i,s,a,o;const l=tt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:h="input",label:f,multiline:g=!1,notched:m,slots:y={},type:b="text"}=l,x=Re(l,sde),v=ade(l),w=pa(),P=Zc({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=B({},l,{color:P.color||"primary",disabled:P.disabled,error:P.error,focused:P.focused,formControl:w,fullWidth:c,hiddenLabel:P.hiddenLabel,multiline:g,size:P.size,type:b}),_=(n=(i=y.root)!=null?i:u.Root)!=null?n:ode,M=(s=(a=y.input)!=null?a:u.Input)!=null?s:ude;return k.jsx(mM,B({slots:{root:_,input:M},renderSuffix:E=>k.jsx(lde,{ownerState:T,className:v.notchedOutline,label:f!=null&&f!==""&&P.required?o||(o=k.jsxs(C.Fragment,{children:[f,"","*"]})):f,notched:typeof m<"u"?m:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:c,inputComponent:h,multiline:g,ref:r,type:b},x,{classes:B({},v,{notchedOutline:null})}))});FV.muiName="Input";const AV=FV,cde=an(k.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),dde=an(k.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),hde=he("span",{shouldForwardProp:ns})({position:"relative",display:"flex"}),fde=he(cde)({transform:"scale(1)"}),pde=he(dde)(({theme:t,ownerState:e})=>B({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function OV(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i=B({},t,{checked:e});return k.jsxs(hde,{className:r.root,ownerState:i,children:[k.jsx(fde,{fontSize:n,className:r.background,ownerState:i}),k.jsx(pde,{fontSize:n,className:r.dot,ownerState:i})]})}const gde=C.createContext(void 0),$V=gde;function mde(){return C.useContext($V)}function yde(t){return dt("MuiRadio",t)}const bde=ht("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),CL=bde,vde=["checked","checkedIcon","color","icon","name","onChange","size","className"],wde=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${je(r)}`,n!=="medium"&&`size${je(n)}`]};return B({},e,ut(i,yde,e))},xde=he(hV,{shouldForwardProp:t=>ns(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${je(r.size)}`],e[`color${je(r.color)}`]]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${CL.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${CL.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function Sde(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const _L=k.jsx(OV,{checked:!0}),TL=k.jsx(OV,{}),kde=C.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:o=_L,color:l="primary",icon:u=TL,name:c,onChange:h,size:f="medium",className:g}=s,m=Re(s,vde),y=B({},s,{color:l,size:f}),b=wde(y),x=mde();let v=a;const w=PT(h,x&&x.onChange);let P=c;return x&&(typeof v>"u"&&(v=Sde(x.value,s.value)),typeof P>"u"&&(P=x.name)),k.jsx(xde,B({type:"radio",icon:C.cloneElement(u,{fontSize:(n=TL.props.fontSize)!=null?n:f}),checkedIcon:C.cloneElement(o,{fontSize:(i=_L.props.fontSize)!=null?i:f}),ownerState:y,classes:b,name:P,checked:v,onChange:w,ref:r,className:Oe(b.root,g)},m))}),PL=kde,Cde=["actions","children","defaultValue","name","onChange","value"],_de=C.forwardRef(function(e,r){const{actions:n,children:i,defaultValue:s,name:a,onChange:o,value:l}=e,u=Re(e,Cde),c=C.useRef(null),[h,f]=Fa({controlled:l,default:s,name:"RadioGroup"});C.useImperativeHandle(n,()=>({focus:()=>{let b=c.current.querySelector("input:not(:disabled):checked");b||(b=c.current.querySelector("input:not(:disabled)")),b&&b.focus()}}),[]);const g=Er(r,c),m=Do(a),y=C.useMemo(()=>({name:m,onChange(b){f(b.target.value),o&&o(b,b.target.value)},value:h}),[m,o,f,h]);return k.jsx($V.Provider,{value:y,children:k.jsx(kV,B({role:"radiogroup",ref:g},u,{children:i}))})}),BL=_de,Tde=an(k.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Pde=an(k.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Bde(t){return dt("MuiRating",t)}const Mde=ht("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),kg=Mde,Nde=["value"],Ede=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Rde(t){const e=t.toString().split(".")[1];return e?e.length:0}function wC(t,e){if(t==null)return t;const r=Math.round(t/e)*e;return Number(r.toFixed(Rde(e)))}const Dde=t=>{const{classes:e,size:r,readOnly:n,disabled:i,emptyValueFocused:s,focusVisible:a}=t,o={root:["root",`size${je(r)}`,i&&"disabled",a&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return ut(o,Bde,e)},Ide=he("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${kg.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${je(r.size)}`],r.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>B({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${kg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${kg.focusVisible} .${kg.iconActive}`]:{outline:"1px solid #999"},[`& .${kg.visuallyHidden}`]:KB},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),VV=he("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>B({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Lde=he("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.iconEmpty&&e.iconEmpty,r.iconFilled&&e.iconFilled,r.iconHover&&e.iconHover,r.iconFocus&&e.iconFocus,r.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>B({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),Fde=he("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Xy(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:r}=t;return[e.decimal,r&&e.iconActive]}})(({iconActive:t})=>B({position:"relative"},t&&{transform:"scale(1.2)"}));function Ade(t){const e=Re(t,Nde);return k.jsx("span",B({},e))}function ML(t){const{classes:e,disabled:r,emptyIcon:n,focus:i,getLabelText:s,highlightSelectedOnly:a,hover:o,icon:l,IconContainerComponent:u,isActive:c,itemValue:h,labelProps:f,name:g,onBlur:m,onChange:y,onClick:b,onFocus:x,readOnly:v,ownerState:w,ratingValue:P,ratingValueRounded:T}=t,_=a?h===P:h<=P,M=h<=o,E=h<=i,D=h===T,L=Do(),F=k.jsx(Lde,{as:u,value:h,className:Oe(e.icon,_?e.iconFilled:e.iconEmpty,M&&e.iconHover,E&&e.iconFocus,c&&e.iconActive),ownerState:B({},w,{iconEmpty:!_,iconFilled:_,iconHover:M,iconFocus:E,iconActive:c}),children:n&&!_?n:l});return v?k.jsx("span",B({},f,{children:F})):k.jsxs(C.Fragment,{children:[k.jsxs(VV,B({ownerState:B({},w,{emptyValueFocused:void 0}),htmlFor:L},f,{children:[F,k.jsx("span",{className:e.visuallyHidden,children:s(h)})]})),k.jsx("input",{className:e.visuallyHidden,onFocus:x,onBlur:m,onChange:y,onClick:b,disabled:r,value:h,id:L,type:"radio",name:g,checked:D})]})}const Ode=k.jsx(Tde,{fontSize:"inherit"}),$de=k.jsx(Pde,{fontSize:"inherit"});function Vde(t){return`${t} Star${t!==1?"s":""}`}const zde=C.forwardRef(function(e,r){const n=tt({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:a=!1,emptyIcon:o=$de,emptyLabelText:l="Empty",getLabelText:u=Vde,highlightSelectedOnly:c=!1,icon:h=Ode,IconContainerComponent:f=Ade,max:g=5,name:m,onChange:y,onChangeActive:b,onMouseLeave:x,onMouseMove:v,precision:w=1,readOnly:P=!1,size:T="medium",value:_}=n,M=Re(n,Ede),E=Do(m),[D,L]=Fa({controlled:_,default:s,name:"Rating"}),F=wC(D,w),z=Yi(),[{hover:V,focus:O},I]=C.useState({hover:-1,focus:-1});let H=F;V!==-1&&(H=V),O!==-1&&(H=O);const{isFocusVisibleRef:W,onBlur:A,onFocus:U,ref:q}=qB(),[ae,ne]=C.useState(!1),ge=C.useRef(),fe=Er(q,ge,r),J=oe=>{v&&v(oe);const Me=ge.current,{right:ke,left:j,width:ie}=Me.getBoundingClientRect();let te;z?te=(ke-oe.clientX)/ie:te=(oe.clientX-j)/ie;let me=wC(g*te+w/2,w);me=xc(me,w,g),I(Be=>Be.hover===me&&Be.focus===me?Be:{hover:me,focus:me}),ne(!1),b&&V!==me&&b(oe,me)},ce=oe=>{x&&x(oe);const Me=-1;I({hover:Me,focus:Me}),b&&V!==Me&&b(oe,Me)},Se=oe=>{let Me=oe.target.value===""?null:parseFloat(oe.target.value);V!==-1&&(Me=V),L(Me),y&&y(oe,Me)},K=oe=>{oe.clientX===0&&oe.clientY===0||(I({hover:-1,focus:-1}),L(null),y&&parseFloat(oe.target.value)===F&&y(oe,null))},Z=oe=>{U(oe),W.current===!0&&ne(!0);const Me=parseFloat(oe.target.value);I(ke=>({hover:ke.hover,focus:Me}))},ue=oe=>{if(V!==-1)return;A(oe),W.current===!1&&ne(!1);const Me=-1;I(ke=>({hover:ke.hover,focus:Me}))},[de,re]=C.useState(!1),Q=B({},n,{defaultValue:s,disabled:a,emptyIcon:o,emptyLabelText:l,emptyValueFocused:de,focusVisible:ae,getLabelText:u,icon:h,IconContainerComponent:f,max:g,precision:w,readOnly:P,size:T}),ee=Dde(Q);return k.jsxs(Ide,B({ref:fe,onMouseMove:J,onMouseLeave:ce,className:Oe(ee.root,i,P&&"MuiRating-readOnly"),ownerState:Q,role:P?"img":null,"aria-label":P?u(H):null},M,{children:[Array.from(new Array(g)).map((oe,Me)=>{const ke=Me+1,j={classes:ee,disabled:a,emptyIcon:o,focus:O,getLabelText:u,highlightSelectedOnly:c,hover:V,icon:h,IconContainerComponent:f,name:E,onBlur:ue,onChange:Se,onClick:K,onFocus:Z,ratingValue:H,ratingValueRounded:F,readOnly:P,ownerState:Q},ie=ke===Math.ceil(H)&&(V!==-1||O!==-1);if(w<1){const te=Array.from(new Array(1/w));return k.jsx(Fde,{className:Oe(ee.decimal,ie&&ee.iconActive),ownerState:Q,iconActive:ie,children:te.map((me,Be)=>{const Te=wC(ke-1+(Be+1)*w,w);return k.jsx(ML,B({},j,{isActive:!1,itemValue:Te,labelProps:{style:te.length-1===Be?{}:{width:Te===H?`${(Be+1)*w*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Te)})},ke)}return k.jsx(ML,B({},j,{isActive:ie,itemValue:ke}),ke)}),!P&&!a&&k.jsxs(VV,{className:Oe(ee.label,ee.labelEmptyValue),ownerState:Q,children:[k.jsx("input",{className:ee.visuallyHidden,value:"",id:`${E}-empty`,type:"radio",name:E,checked:F==null,onFocus:()=>re(!0),onBlur:()=>re(!1),onChange:Se}),k.jsx("span",{className:ee.visuallyHidden,children:l})]})]}))}),Wde=zde;function Hde(t){return dt("MuiSelect",t)}const Cg=ht("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var NL;const Ude=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Gde=he("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${Cg.select}`]:e.select},{[`&.${Cg.select}`]:e[r.variant]},{[`&.${Cg.error}`]:e.error},{[`&.${Cg.multiple}`]:e.multiple}]}})(IV,{[`&.${Cg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jde=he("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${je(r.variant)}`],r.open&&e.iconOpen]}})(LV),Yde=he("input",{shouldForwardProp:t=>Xy(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function EL(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Xde(t){return t==null||typeof t=="string"&&!t.trim()}const qde=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${je(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return ut(o,Hde,e)},Kde=C.forwardRef(function(e,r){var n;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:c,defaultValue:h,disabled:f,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:v={},multiple:w,name:P,onBlur:T,onChange:_,onClose:M,onFocus:E,onOpen:D,open:L,readOnly:F,renderValue:z,SelectDisplayProps:V={},tabIndex:O,value:I,variant:H="standard"}=e,W=Re(e,Ude),[A,U]=Fa({controlled:I,default:h,name:"Select"}),[q,ae]=Fa({controlled:L,default:c,name:"Select"}),ne=C.useRef(null),ge=C.useRef(null),[fe,J]=C.useState(null),{current:ce}=C.useRef(L!=null),[Se,K]=C.useState(),Z=Er(r,b),ue=C.useCallback(Ze=>{ge.current=Ze,Ze&&J(Ze)},[]),de=fe==null?void 0:fe.parentNode;C.useImperativeHandle(Z,()=>({focus:()=>{ge.current.focus()},node:ne.current,value:A}),[A]),C.useEffect(()=>{c&&q&&fe&&!ce&&(K(o?null:de.clientWidth),ge.current.focus())},[fe,o]),C.useEffect(()=>{a&&ge.current.focus()},[a]),C.useEffect(()=>{if(!x)return;const Ze=Qn(ge.current).getElementById(x);if(Ze){const Et=()=>{getSelection().isCollapsed&&ge.current.focus()};return Ze.addEventListener("click",Et),()=>{Ze.removeEventListener("click",Et)}}},[x]);const re=(Ze,Et)=>{Ze?D&&D(Et):M&&M(Et),ce||(K(o?null:de.clientWidth),ae(Ze))},Q=Ze=>{Ze.button===0&&(Ze.preventDefault(),ge.current.focus(),re(!0,Ze))},ee=Ze=>{re(!1,Ze)},oe=C.Children.toArray(l),Me=Ze=>{const Et=oe.find(qe=>qe.props.value===Ze.target.value);Et!==void 0&&(U(Et.props.value),_&&_(Ze,Et))},ke=Ze=>Et=>{let qe;if(Et.currentTarget.hasAttribute("tabindex")){if(w){qe=Array.isArray(A)?A.slice():[];const Ye=A.indexOf(Ze.props.value);Ye===-1?qe.push(Ze.props.value):qe.splice(Ye,1)}else qe=Ze.props.value;if(Ze.props.onClick&&Ze.props.onClick(Et),A!==qe&&(U(qe),_)){const Ye=Et.nativeEvent||Et,St=new Ye.constructor(Ye.type,Ye);Object.defineProperty(St,"target",{writable:!0,value:{value:qe,name:P}}),_(St,Ze)}w||re(!1,Et)}},j=Ze=>{F||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ze.key)!==-1&&(Ze.preventDefault(),re(!0,Ze))},ie=fe!==null&&q,te=Ze=>{!ie&&T&&(Object.defineProperty(Ze,"target",{writable:!0,value:{value:A,name:P}}),T(Ze))};delete W["aria-invalid"];let me,Be;const Te=[];let Ge=!1;(Cw({value:A})||g)&&(z?me=z(A):Ge=!0);const ot=oe.map(Ze=>{if(!C.isValidElement(Ze))return null;let Et;if(w){if(!Array.isArray(A))throw new Error(Ru(2));Et=A.some(qe=>EL(qe,Ze.props.value)),Et&&Ge&&Te.push(Ze.props.children)}else Et=EL(A,Ze.props.value),Et&&Ge&&(Be=Ze.props.children);return C.cloneElement(Ze,{"aria-selected":Et?"true":"false",onClick:ke(Ze),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),Ze.props.onKeyUp&&Ze.props.onKeyUp(qe)},role:"option",selected:Et,value:void 0,"data-value":Ze.props.value})});Ge&&(w?Te.length===0?me=null:me=Te.reduce((Ze,Et,qe)=>(Ze.push(Et),qe<Te.length-1&&Ze.push(", "),Ze),[]):me=Be);let Dt=Se;!o&&ce&&fe&&(Dt=de.clientWidth);let At;typeof O<"u"?At=O:At=f?null:0;const De=V.id||(P?`mui-component-select-${P}`:void 0),Ce=B({},e,{variant:H,value:A,open:ie,error:m}),Ne=qde(Ce),at=B({},v.PaperProps,(n=v.slotProps)==null?void 0:n.paper),ft=Do();return k.jsxs(C.Fragment,{children:[k.jsx(Gde,B({ref:ue,tabIndex:At,role:"combobox","aria-controls":ft,"aria-disabled":f?"true":void 0,"aria-expanded":ie?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[x,De].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:j,onMouseDown:f||F?null:Q,onBlur:te,onFocus:E},V,{ownerState:Ce,className:Oe(V.className,Ne.select,u),id:De,children:Xde(me)?NL||(NL=k.jsx("span",{className:"notranslate",children:""})):me})),k.jsx(Yde,B({"aria-invalid":m,value:Array.isArray(A)?A.join(","):A,name:P,ref:ne,"aria-hidden":!0,onChange:Me,tabIndex:-1,disabled:f,className:Ne.nativeInput,autoFocus:a,ownerState:Ce},W)),k.jsx(jde,{as:y,className:Ne.icon,ownerState:Ce}),k.jsx($ce,B({id:`menu-${P||""}`,anchorEl:de,open:ie,onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:B({"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ft},v.MenuListProps),slotProps:B({},v.slotProps,{paper:B({},at,{style:B({minWidth:Dt},at!=null?at.style:null)})}),children:ot}))]})}),Qde=Kde,Jde=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Zde=["root"],ehe=t=>{const{classes:e}=t;return e},xM={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ns(t)&&t!=="variant",slot:"Root"},the=he(bM,xM)(""),rhe=he(AV,xM)(""),nhe=he(xV,xM)(""),zV=C.forwardRef(function(e,r){const n=tt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=yae,id:h,input:f,inputProps:g,label:m,labelId:y,MenuProps:b,multiple:x=!1,native:v=!1,onClose:w,onOpen:P,open:T,renderValue:_,SelectDisplayProps:M,variant:E="outlined"}=n,D=Re(n,Jde),L=v?ede:Qde,F=pa(),z=Zc({props:n,muiFormControl:F,states:["variant","error"]}),V=z.variant||E,O=B({},n,{variant:V,classes:a}),I=ehe(O),H=Re(I,Zde),W=f||{standard:k.jsx(the,{ownerState:O}),outlined:k.jsx(rhe,{label:m,ownerState:O}),filled:k.jsx(nhe,{ownerState:O})}[V],A=Er(r,W.ref);return k.jsx(C.Fragment,{children:C.cloneElement(W,B({inputComponent:L,inputProps:B({children:s,error:z.error,IconComponent:c,variant:V,type:void 0,multiple:x},v?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:b,onClose:w,onOpen:P,open:T,renderValue:_,SelectDisplayProps:B({id:h},M)},g,{classes:g?Ws(H,g.classes):H},f?f.props.inputProps:{})},(x&&v||u)&&V==="outlined"?{notched:!0}:{},{ref:A,className:Oe(W.props.className,o,I.root)},!f&&{variant:V},D))})});zV.muiName="Select";const SM=zV,ihe=t=>!t||!$l(t);function she(t){return dt("MuiSlider",t)}const ahe=ht("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),vo=ahe,ohe=t=>{const{open:e}=t;return{offset:Oe(e&&vo.valueLabelOpen),circle:vo.valueLabelCircle,label:vo.valueLabelLabel}};function lhe(t){const{children:e,className:r,value:n}=t,i=ohe(t);return e?C.cloneElement(e,{className:Oe(e.props.className)},k.jsxs(C.Fragment,{children:[e.props.children,k.jsx("span",{className:Oe(i.offset,r),"aria-hidden":!0,children:k.jsx("span",{className:i.circle,children:k.jsx("span",{className:i.label,children:n})})})]})):null}const uhe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],che=H4();function RL(t){return t}const dhe=he("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${je(r.color)}`],r.size!=="medium"&&e[`size${je(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${vo.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${vo.dragging}`]:{[`& .${vo.thumb}, & .${vo.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),hhe=he("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),fhe=he("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:B({},t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:B({backgroundColor:vw(t.palette[r].main,.62),borderColor:vw(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:bw(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:bw(t.palette[r].main,.5)})))}))]}}),phe=he("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${je(r.color)}`],r.size!=="medium"&&e[`thumbSize${je(r.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${vo.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{[`&:hover, &.${vo.focusVisible}`]:B({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Wr(t.palette[r].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${vo.active}`]:B({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${Wr(t.palette[r].main,.16)}`})}})),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}}),ghe=he(lhe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>B({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${vo.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${vo.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),mhe=he("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Xy(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),yhe=he("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Xy(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>B({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),bhe=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:s,classes:a,color:o,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",o&&`color${je(o)}`,l&&`size${je(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${je(l)}`,o&&`thumbColor${je(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ut(u,she,a)},vhe=({children:t})=>t,whe=C.forwardRef(function(e,r){var n,i,s,a,o,l,u,c,h,f,g,m,y,b,x,v,w,P,T,_,M,E,D,L;const F=che({props:e,name:"MuiSlider"}),z=Yi(),{"aria-label":V,"aria-valuetext":O,"aria-labelledby":I,component:H="span",components:W={},componentsProps:A={},color:U="primary",classes:q,className:ae,disableSwap:ne=!1,disabled:ge=!1,getAriaLabel:fe,getAriaValueText:J,marks:ce=!1,max:Se=100,min:K=0,orientation:Z="horizontal",shiftStep:ue=10,size:de="medium",step:re=1,scale:Q=RL,slotProps:ee,slots:oe,track:Me="normal",valueLabelDisplay:ke="off",valueLabelFormat:j=RL}=F,ie=Re(F,uhe),te=B({},F,{isRtl:z,max:Se,min:K,classes:q,disabled:ge,disableSwap:ne,orientation:Z,marks:ce,color:U,size:de,step:re,shiftStep:ue,scale:Q,track:Me,valueLabelDisplay:ke,valueLabelFormat:j}),{axisProps:me,getRootProps:Be,getHiddenInputProps:Te,getThumbProps:Ge,open:ot,active:Dt,axis:At,focusedThumbIndex:De,range:Ce,dragging:Ne,marks:at,values:ft,trackOffset:Ze,trackLeap:Et,getThumbStyle:qe}=Ise(B({},te,{rootRef:r}));te.marked=at.length>0&&at.some(wr=>wr.label),te.dragging=Ne,te.focusedThumbIndex=De;const Ye=bhe(te),St=(n=(i=oe==null?void 0:oe.root)!=null?i:W.Root)!=null?n:dhe,wt=(s=(a=oe==null?void 0:oe.rail)!=null?a:W.Rail)!=null?s:hhe,rr=(o=(l=oe==null?void 0:oe.track)!=null?l:W.Track)!=null?o:fhe,Rr=(u=(c=oe==null?void 0:oe.thumb)!=null?c:W.Thumb)!=null?u:phe,_r=(h=(f=oe==null?void 0:oe.valueLabel)!=null?f:W.ValueLabel)!=null?h:ghe,Pn=(g=(m=oe==null?void 0:oe.mark)!=null?m:W.Mark)!=null?g:mhe,ye=(y=(b=oe==null?void 0:oe.markLabel)!=null?b:W.MarkLabel)!=null?y:yhe,xe=(x=(v=oe==null?void 0:oe.input)!=null?v:W.Input)!=null?x:"input",$e=(w=ee==null?void 0:ee.root)!=null?w:A.root,rt=(P=ee==null?void 0:ee.rail)!=null?P:A.rail,mt=(T=ee==null?void 0:ee.track)!=null?T:A.track,Ot=(_=ee==null?void 0:ee.thumb)!=null?_:A.thumb,It=(M=ee==null?void 0:ee.valueLabel)!=null?M:A.valueLabel,$t=(E=ee==null?void 0:ee.mark)!=null?E:A.mark,Ct=(D=ee==null?void 0:ee.markLabel)!=null?D:A.markLabel,Zt=(L=ee==null?void 0:ee.input)!=null?L:A.input,Vr=sr({elementType:St,getSlotProps:Be,externalSlotProps:$e,externalForwardedProps:ie,additionalProps:B({},ihe(St)&&{as:H}),ownerState:B({},te,$e==null?void 0:$e.ownerState),className:[Ye.root,ae]}),Wt=sr({elementType:wt,externalSlotProps:rt,ownerState:te,className:Ye.rail}),Sr=sr({elementType:rr,externalSlotProps:mt,additionalProps:{style:B({},me[At].offset(Ze),me[At].leap(Et))},ownerState:B({},te,mt==null?void 0:mt.ownerState),className:Ye.track}),jr=sr({elementType:Rr,getSlotProps:Ge,externalSlotProps:Ot,ownerState:B({},te,Ot==null?void 0:Ot.ownerState),className:Ye.thumb}),Ai=sr({elementType:_r,externalSlotProps:It,ownerState:B({},te,It==null?void 0:It.ownerState),className:Ye.valueLabel}),Sn=sr({elementType:Pn,externalSlotProps:$t,ownerState:te,className:Ye.mark}),kn=sr({elementType:ye,externalSlotProps:Ct,ownerState:te,className:Ye.markLabel}),gi=sr({elementType:xe,getSlotProps:Te,externalSlotProps:Zt,ownerState:te});return k.jsxs(St,B({},Vr,{children:[k.jsx(wt,B({},Wt)),k.jsx(rr,B({},Sr)),at.filter(wr=>wr.value>=K&&wr.value<=Se).map((wr,xr)=>{const ss=kw(wr.value,K,Se),Zn=me[At].offset(ss);let Mi;return Me===!1?Mi=ft.indexOf(wr.value)!==-1:Mi=Me==="normal"&&(Ce?wr.value>=ft[0]&&wr.value<=ft[ft.length-1]:wr.value<=ft[0])||Me==="inverted"&&(Ce?wr.value<=ft[0]||wr.value>=ft[ft.length-1]:wr.value>=ft[0]),k.jsxs(C.Fragment,{children:[k.jsx(Pn,B({"data-index":xr},Sn,!$l(Pn)&&{markActive:Mi},{style:B({},Zn,Sn.style),className:Oe(Sn.className,Mi&&Ye.markActive)})),wr.label!=null?k.jsx(ye,B({"aria-hidden":!0,"data-index":xr},kn,!$l(ye)&&{markLabelActive:Mi},{style:B({},Zn,kn.style),className:Oe(Ye.markLabel,kn.className,Mi&&Ye.markLabelActive),children:wr.label})):null]},xr)}),ft.map((wr,xr)=>{const ss=kw(wr,K,Se),Zn=me[At].offset(ss),Mi=ke==="off"?vhe:_r;return k.jsx(Mi,B({},!$l(Mi)&&{valueLabelFormat:j,valueLabelDisplay:ke,value:typeof j=="function"?j(Q(wr),xr):j,index:xr,open:ot===xr||Dt===xr||ke==="on",disabled:ge},Ai,{children:k.jsx(Rr,B({"data-index":xr},jr,{className:Oe(Ye.thumb,jr.className,Dt===xr&&Ye.active,De===xr&&Ye.focusVisible),style:B({},Zn,qe(xr),jr.style),children:k.jsx(xe,B({"data-index":xr,"aria-label":fe?fe(xr):V,"aria-valuenow":Q(wr),"aria-labelledby":I,"aria-valuetext":J?J(Q(wr),xr):O,value:ft[xr]},gi))}))}),xr)})]}))}),Xd=whe;function xhe(t){return dt("MuiSwitch",t)}const Es=ht("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),She=["className","color","edge","size","sx"],khe=H4(),Che=t=>{const{classes:e,edge:r,size:n,color:i,checked:s,disabled:a}=t,o={root:["root",r&&`edge${je(r)}`,`size${je(n)}`],switchBase:["switchBase",`color${je(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=ut(o,xhe,e);return B({},e,l)},_he=he("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${je(r.edge)}`],e[`size${je(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Es.thumb}`]:{width:16,height:16},[`& .${Es.switchBase}`]:{padding:4,[`&.${Es.checked}`]:{transform:"translateX(16px)"}}}}]}),The=he(hV,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${Es.input}`]:e.input},r.color!=="default"&&e[`color${je(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Es.checked}`]:{transform:"translateX(20px)"},[`&.${Es.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Es.checked} + .${Es.track}`]:{opacity:.5},[`&.${Es.disabled} + .${Es.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Es.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Es.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wr(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Es.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?vw(t.palette[e].main,.62):bw(t.palette[e].main,.55)}`}},[`&.${Es.checked} + .${Es.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),Phe=he("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),Bhe=he("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Mhe=C.forwardRef(function(e,r){const n=khe({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:o="medium",sx:l}=n,u=Re(n,She),c=B({},n,{color:s,edge:a,size:o}),h=Che(c),f=k.jsx(Bhe,{className:h.thumb,ownerState:c});return k.jsxs(_he,{className:Oe(h.root,i),sx:l,ownerState:c,children:[k.jsx(The,B({type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:c},u,{classes:B({},h,{root:h.switchBase})})),k.jsx(Phe,{className:h.track,ownerState:c})]})}),Nhe=Mhe;function Ehe(t){return dt("MuiTab",t)}const Rhe=ht("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),gd=Rhe,Dhe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Ihe=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:s,label:a,selected:o,disabled:l}=t,u={root:["root",s&&a&&"labelIcon",`textColor${je(r)}`,n&&"fullWidth",i&&"wrapped",o&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return ut(u,Ehe,e)},Lhe=he(Po,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${je(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>B({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${gd.iconWrapper}`]:B({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${gd.selected}`]:{opacity:1},[`&.${gd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${gd.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${gd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${gd.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${gd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),Fhe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:c,label:h,onChange:f,onClick:g,onFocus:m,selected:y,selectionFollowsFocus:b,textColor:x="inherit",value:v,wrapped:w=!1}=n,P=Re(n,Dhe),T=B({},n,{disabled:s,disableFocusRipple:a,selected:y,icon:!!l,iconPosition:u,label:!!h,fullWidth:o,textColor:x,wrapped:w}),_=Ihe(T),M=l&&h&&C.isValidElement(l)?C.cloneElement(l,{className:Oe(_.iconWrapper,l.props.className)}):l,E=L=>{!y&&f&&f(L,v),g&&g(L)},D=L=>{b&&!y&&f&&f(L,v),m&&m(L)};return k.jsxs(Lhe,B({focusRipple:!a,className:Oe(_.root,i),ref:r,role:"tab","aria-selected":y,disabled:s,onClick:E,onFocus:D,ownerState:T,tabIndex:y?0:-1},P,{children:[u==="top"||u==="start"?k.jsxs(C.Fragment,{children:[M,h]}):k.jsxs(C.Fragment,{children:[h,M]}),c]}))}),Ahe=Fhe;function Ohe(t){return dt("MuiToolbar",t)}ht("MuiToolbar",["root","gutters","regular","dense"]);const $he=["className","component","disableGutters","variant"],Vhe=t=>{const{classes:e,disableGutters:r,variant:n}=t;return ut({root:["root",!r&&"gutters",n]},Ohe,e)},zhe=he("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>B({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Whe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:o="regular"}=n,l=Re(n,$he),u=B({},n,{component:s,disableGutters:a,variant:o}),c=Vhe(u);return k.jsx(zhe,B({as:s,className:Oe(c.root,i),ref:r,ownerState:u},l))}),Hhe=Whe,Uhe=an(k.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ghe=an(k.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function jhe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Yhe(t,e,r,n={},i=()=>{}){const{ease:s=jhe,duration:a=300}=n;let o=null;const l=e[t];let u=!1;const c=()=>{u=!0},h=f=>{if(u){i(new Error("Animation cancelled"));return}o===null&&(o=f);const g=Math.min(1,(f-o)/a);if(e[t]=s(g)*(r-l)+l,g>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return l===r?(i(new Error("Element already at target position")),c):(requestAnimationFrame(h),c)}const Xhe=["onChange"],qhe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Khe(t){const{onChange:e}=t,r=Re(t,Xhe),n=C.useRef(),i=C.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return In(()=>{const a=jy(()=>{const l=n.current;s(),l!==n.current&&e(n.current)}),o=fl(i.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),C.useEffect(()=>{s(),e(n.current)},[e]),k.jsx("div",B({style:qhe,ref:i},r))}function Qhe(t){return dt("MuiTabScrollButton",t)}const Jhe=ht("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Zhe=Jhe,efe=["className","slots","slotProps","direction","orientation","disabled"],tfe=t=>{const{classes:e,orientation:r,disabled:n}=t;return ut({root:["root",r,n&&"disabled"]},Qhe,e)},rfe=he(Po,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})(({ownerState:t})=>B({width:40,flexShrink:0,opacity:.8,[`&.${Zhe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),nfe=C.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiTabScrollButton"}),{className:a,slots:o={},slotProps:l={},direction:u}=s,c=Re(s,efe),h=Yi(),f=B({isRtl:h},s),g=tfe(f),m=(n=o.StartScrollButtonIcon)!=null?n:Uhe,y=(i=o.EndScrollButtonIcon)!=null?i:Ghe,b=sr({elementType:m,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),x=sr({elementType:y,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return k.jsx(rfe,B({component:"div",className:Oe(g.root,a),ref:r,role:null,ownerState:f,tabIndex:null},c,{children:u==="left"?k.jsx(m,B({},b)):k.jsx(y,B({},x))}))}),ife=nfe;function sfe(t){return dt("MuiTabs",t)}const afe=ht("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),xC=afe,ofe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],DL=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,IL=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Ib=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(t,i);else{i.focus();return}}},lfe=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=t;return ut({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},sfe,l)},ufe=he("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${xC.scrollButtons}`]:e.scrollButtons},{[`& .${xC.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>B({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${xC.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),cfe=he("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})(({ownerState:t})=>B({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),dfe=he("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})(({ownerState:t})=>B({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),hfe=he("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>B({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),ffe=he(Khe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),LL={},pfe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTabs"}),i=Ga(),s=Yi(),{"aria-label":a,"aria-labelledby":o,action:l,centered:u=!1,children:c,className:h,component:f="div",allowScrollButtonsMobile:g=!1,indicatorColor:m="primary",onChange:y,orientation:b="horizontal",ScrollButtonComponent:x=ife,scrollButtons:v="auto",selectionFollowsFocus:w,slots:P={},slotProps:T={},TabIndicatorProps:_={},TabScrollButtonProps:M={},textColor:E="primary",value:D,variant:L="standard",visibleScrollbar:F=!1}=n,z=Re(n,ofe),V=L==="scrollable",O=b==="vertical",I=O?"scrollTop":"scrollLeft",H=O?"top":"left",W=O?"bottom":"right",A=O?"clientHeight":"clientWidth",U=O?"height":"width",q=B({},n,{component:f,allowScrollButtonsMobile:g,indicatorColor:m,orientation:b,vertical:O,scrollButtons:v,textColor:E,variant:L,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!O,scrollableY:V&&O,centered:u&&!V,scrollButtonsHideMobile:!g}),ae=lfe(q),ne=sr({elementType:P.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:q}),ge=sr({elementType:P.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:q}),[fe,J]=C.useState(!1),[ce,Se]=C.useState(LL),[K,Z]=C.useState(!1),[ue,de]=C.useState(!1),[re,Q]=C.useState(!1),[ee,oe]=C.useState({overflow:"hidden",scrollbarWidth:0}),Me=new Map,ke=C.useRef(null),j=C.useRef(null),ie=()=>{const qe=ke.current;let Ye;if(qe){const wt=qe.getBoundingClientRect();Ye={clientWidth:qe.clientWidth,scrollLeft:qe.scrollLeft,scrollTop:qe.scrollTop,scrollLeftNormalized:Ste(qe,s?"rtl":"ltr"),scrollWidth:qe.scrollWidth,top:wt.top,bottom:wt.bottom,left:wt.left,right:wt.right}}let St;if(qe&&D!==!1){const wt=j.current.children;if(wt.length>0){const rr=wt[Me.get(D)];St=rr?rr.getBoundingClientRect():null}}return{tabsMeta:Ye,tabMeta:St}},te=bt(()=>{const{tabsMeta:qe,tabMeta:Ye}=ie();let St=0,wt;if(O)wt="top",Ye&&qe&&(St=Ye.top-qe.top+qe.scrollTop);else if(wt=s?"right":"left",Ye&&qe){const Rr=s?qe.scrollLeftNormalized+qe.clientWidth-qe.scrollWidth:qe.scrollLeft;St=(s?-1:1)*(Ye[wt]-qe[wt]+Rr)}const rr={[wt]:St,[U]:Ye?Ye[U]:0};if(isNaN(ce[wt])||isNaN(ce[U]))Se(rr);else{const Rr=Math.abs(ce[wt]-rr[wt]),_r=Math.abs(ce[U]-rr[U]);(Rr>=1||_r>=1)&&Se(rr)}}),me=(qe,{animation:Ye=!0}={})=>{Ye?Yhe(I,ke.current,qe,{duration:i.transitions.duration.standard}):ke.current[I]=qe},Be=qe=>{let Ye=ke.current[I];O?Ye+=qe:(Ye+=qe*(s?-1:1),Ye*=s&&N4()==="reverse"?-1:1),me(Ye)},Te=()=>{const qe=ke.current[A];let Ye=0;const St=Array.from(j.current.children);for(let wt=0;wt<St.length;wt+=1){const rr=St[wt];if(Ye+rr[A]>qe){wt===0&&(Ye=qe);break}Ye+=rr[A]}return Ye},Ge=()=>{Be(-1*Te())},ot=()=>{Be(Te())},Dt=C.useCallback(qe=>{oe({overflow:null,scrollbarWidth:qe})},[]),At=()=>{const qe={};qe.scrollbarSizeListener=V?k.jsx(ffe,{onChange:Dt,className:Oe(ae.scrollableX,ae.hideScrollbar)}):null;const St=V&&(v==="auto"&&(K||ue)||v===!0);return qe.scrollButtonStart=St?k.jsx(x,B({slots:{StartScrollButtonIcon:P.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ne},orientation:b,direction:s?"right":"left",onClick:Ge,disabled:!K},M,{className:Oe(ae.scrollButtons,M.className)})):null,qe.scrollButtonEnd=St?k.jsx(x,B({slots:{EndScrollButtonIcon:P.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ge},orientation:b,direction:s?"left":"right",onClick:ot,disabled:!ue},M,{className:Oe(ae.scrollButtons,M.className)})):null,qe},De=bt(qe=>{const{tabsMeta:Ye,tabMeta:St}=ie();if(!(!St||!Ye)){if(St[H]<Ye[H]){const wt=Ye[I]+(St[H]-Ye[H]);me(wt,{animation:qe})}else if(St[W]>Ye[W]){const wt=Ye[I]+(St[W]-Ye[W]);me(wt,{animation:qe})}}}),Ce=bt(()=>{V&&v!==!1&&Q(!re)});C.useEffect(()=>{const qe=jy(()=>{ke.current&&te()});let Ye;const St=Rr=>{Rr.forEach(_r=>{_r.removedNodes.forEach(Pn=>{var ye;(ye=Ye)==null||ye.unobserve(Pn)}),_r.addedNodes.forEach(Pn=>{var ye;(ye=Ye)==null||ye.observe(Pn)})}),qe(),Ce()},wt=fl(ke.current);wt.addEventListener("resize",qe);let rr;return typeof ResizeObserver<"u"&&(Ye=new ResizeObserver(qe),Array.from(j.current.children).forEach(Rr=>{Ye.observe(Rr)})),typeof MutationObserver<"u"&&(rr=new MutationObserver(St),rr.observe(j.current,{childList:!0})),()=>{var Rr,_r;qe.clear(),wt.removeEventListener("resize",qe),(Rr=rr)==null||Rr.disconnect(),(_r=Ye)==null||_r.disconnect()}},[te,Ce]),C.useEffect(()=>{const qe=Array.from(j.current.children),Ye=qe.length;if(typeof IntersectionObserver<"u"&&Ye>0&&V&&v!==!1){const St=qe[0],wt=qe[Ye-1],rr={root:ke.current,threshold:.99},Rr=xe=>{Z(!xe[0].isIntersecting)},_r=new IntersectionObserver(Rr,rr);_r.observe(St);const Pn=xe=>{de(!xe[0].isIntersecting)},ye=new IntersectionObserver(Pn,rr);return ye.observe(wt),()=>{_r.disconnect(),ye.disconnect()}}},[V,v,re,c==null?void 0:c.length]),C.useEffect(()=>{J(!0)},[]),C.useEffect(()=>{te()}),C.useEffect(()=>{De(LL!==ce)},[De,ce]),C.useImperativeHandle(l,()=>({updateIndicator:te,updateScrollButtons:Ce}),[te,Ce]);const Ne=k.jsx(hfe,B({},_,{className:Oe(ae.indicator,_.className),ownerState:q,style:B({},ce,_.style)}));let at=0;const ft=C.Children.map(c,qe=>{if(!C.isValidElement(qe))return null;const Ye=qe.props.value===void 0?at:qe.props.value;Me.set(Ye,at);const St=Ye===D;return at+=1,C.cloneElement(qe,B({fullWidth:L==="fullWidth",indicator:St&&!fe&&Ne,selected:St,selectionFollowsFocus:w,onChange:y,textColor:E,value:Ye},at===1&&D===!1&&!qe.props.tabIndex?{tabIndex:0}:{}))}),Ze=qe=>{const Ye=j.current,St=Qn(Ye).activeElement;if(St.getAttribute("role")!=="tab")return;let rr=b==="horizontal"?"ArrowLeft":"ArrowUp",Rr=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&s&&(rr="ArrowRight",Rr="ArrowLeft"),qe.key){case rr:qe.preventDefault(),Ib(Ye,St,IL);break;case Rr:qe.preventDefault(),Ib(Ye,St,DL);break;case"Home":qe.preventDefault(),Ib(Ye,null,DL);break;case"End":qe.preventDefault(),Ib(Ye,null,IL);break}},Et=At();return k.jsxs(ufe,B({className:Oe(ae.root,h),ownerState:q,ref:r,as:f},z,{children:[Et.scrollButtonStart,Et.scrollbarSizeListener,k.jsxs(cfe,{className:ae.scroller,ownerState:q,style:{overflow:ee.overflow,[O?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-ee.scrollbarWidth},ref:ke,children:[k.jsx(dfe,{"aria-label":a,"aria-labelledby":o,"aria-orientation":b==="vertical"?"vertical":null,className:ae.flexContainer,ownerState:q,onKeyDown:Ze,ref:j,role:"tablist",children:ft}),fe&&Ne]}),Et.scrollButtonEnd]}))}),gfe=pfe;function mfe(t){return dt("MuiTextField",t)}ht("MuiTextField",["root"]);const yfe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bfe={standard:bM,filled:xV,outlined:AV},vfe=t=>{const{classes:e}=t;return ut({root:["root"]},mfe,e)},wfe=he(SV,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xfe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:c=!1,error:h=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:m,id:y,InputLabelProps:b,inputProps:x,InputProps:v,inputRef:w,label:P,maxRows:T,minRows:_,multiline:M=!1,name:E,onBlur:D,onChange:L,onFocus:F,placeholder:z,required:V=!1,rows:O,select:I=!1,SelectProps:H,type:W,value:A,variant:U="outlined"}=n,q=Re(n,yfe),ae=B({},n,{autoFocus:s,color:l,disabled:c,error:h,fullWidth:g,multiline:M,required:V,select:I,variant:U}),ne=vfe(ae),ge={};U==="outlined"&&(b&&typeof b.shrink<"u"&&(ge.notched=b.shrink),ge.label=P),I&&((!H||!H.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const fe=Do(y),J=m&&fe?`${fe}-helper-text`:void 0,ce=P&&fe?`${fe}-label`:void 0,Se=bfe[U],K=k.jsx(Se,B({"aria-describedby":J,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:g,multiline:M,name:E,rows:O,maxRows:T,minRows:_,type:W,value:A,id:fe,inputRef:w,onBlur:D,onChange:L,onFocus:F,placeholder:z,inputProps:x},ge,v));return k.jsxs(wfe,B({className:Oe(ne.root,o),disabled:c,error:h,fullWidth:g,ref:r,required:V,color:l,variant:U,ownerState:ae},q,{children:[P!=null&&P!==""&&k.jsx(MV,B({htmlFor:fe,id:ce},b,{children:P})),I?k.jsx(SM,B({"aria-describedby":J,id:fe,labelId:ce,value:A,input:K},H,{children:a})):K,m&&k.jsx(CV,B({id:J},f,{children:m}))]}))}),Qm=xfe,kM=an(k.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Sfe=an(k.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),CM=an(k.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),kfe=an(k.jsx("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist"),Rp=an(k.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),WV=an(k.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),HV=an(k.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Cfe=an(k.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),_fe=an(k.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),FL=an(k.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),Tfe=an(k.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),Pfe=an([k.jsx("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),k.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"MusicNoteTwoTone"),Bfe=an(k.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers"),Mfe=an(k.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove");function Wu(t){const[e,r]=C.useState(!1);return k.jsxs(k.Fragment,{children:[k.jsx(Yne,{position:"static",title:"Siuuu",children:k.jsxs(Hhe,{sx:{display:"flex"},children:[k.jsx(ms,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:()=>{r(!0)},children:k.jsx(_fe,{})}),k.jsx(Kr,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title})]})}),k.jsx("div",{id:"basic",style:{flex:1,display:"flex",overflow:"auto",flexDirection:"column"},children:t.children}),k.jsx(_le,{open:e,onClose:()=>{r(!1)},children:k.jsxs(Zy,{children:[k.jsxs(lc,{component:sc,to:"/",children:[k.jsx(uc,{children:k.jsx(Cfe,{})}),k.jsx(cc,{children:"Home"})]}),k.jsxs(lc,{component:sc,to:"/todo",children:[k.jsx(uc,{children:k.jsx(kfe,{})}),k.jsx(cc,{children:"Todo"})]}),k.jsxs(lc,{component:sc,to:"/counter",children:[k.jsx(uc,{children:k.jsx(Bfe,{})}),k.jsx(cc,{children:"Counter"})]}),k.jsxs(lc,{component:sc,to:"/rating",children:[k.jsx(uc,{children:k.jsx(FL,{})}),k.jsx(cc,{children:"Rating"})]}),k.jsxs(lc,{component:sc,to:"/shifts",children:[k.jsx(uc,{children:k.jsx(FL,{})}),k.jsx(cc,{children:"Shifts"})]}),k.jsxs(lc,{component:sc,to:"/music",children:[k.jsx(uc,{children:k.jsx(Tfe,{})}),k.jsx(cc,{children:"Chord Generator"})]}),k.jsxs(lc,{component:sc,to:"/progression",children:[k.jsx(uc,{children:k.jsx(Pfe,{})}),k.jsx(cc,{children:"Progression"})]}),k.jsxs(lc,{component:sc,to:"/math",children:[k.jsx(uc,{children:k.jsx(Sfe,{})}),k.jsx(cc,{children:"Math"})]})]})})]})}function Nfe(){C.useEffect(()=>{setTimeout(()=>{console.log("This text will be displayed after 2 seconds."),e(!0)},500)},[]);const[t,e]=C.useState(!1);return k.jsx(Wu,{title:"Home",children:k.jsx(Nae,{justifyContent:"center",alignContent:"center",children:t?"This is the content test":k.jsx("div",{style:{width:700,margin:"auto"},children:k.jsx(_oe,{size:700,color:"secondary"})})})})}function Efe({todos:t,onChange:e}){const[r,n]=C.useState(""),[i,s]=C.useState(!1),[a,o]=C.useState(-1),[l,u]=C.useState(""),c=h=>{};return k.jsxs(k.Fragment,{children:[k.jsxs(Km,{children:[k.jsxs(Kr,{color:"primary",children:["You have ",t.length," item",t.length<1||t.length>1?"s":""]}),k.jsx(Zy,{children:t.map((h,f)=>k.jsx(EV,{secondaryAction:k.jsxs(k.Fragment,{children:[k.jsx(ms,{edge:"end","aria-label":"edit",onClick:()=>{o(f),u(t[f])},children:k.jsx(HV,{})}),k.jsx(ms,{edge:"end","aria-label":"delete",onClick:()=>{e(t.filter((g,m)=>m!==f))},children:k.jsx(WV,{})})]}),children:h},f))}),k.jsx(Qm,{error:i,id:"outlined",value:r,label:"New item",onChange:h=>n(h.target.value),helperText:i&&"required",onKeyDown:h=>{h.key==="Enter"&&(console.log("dialog"),r.length>0?(s(!1),e([...t,r]),n("")):s(!0))}})]}),k.jsx(Jy,{open:a>=0,onClose:()=>o(-1),disableRestoreFocus:!0,children:k.jsx(Qm,{inputRef:c,autoFocus:!0,error:i,id:"outlined",value:l,onChange:h=>u(h.target.value),helperText:i&&"required",onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),l.length>0?(s(!1),e(t.map((f,g)=>a===g?l:f)),console.log("setting index"),o(-1)):s(!0))}})})]})}function Rfe(){const[t,e]=C.useState([[]]),[r,n]=C.useState(0),[i,s]=C.useState(["List 1"]);function a(l){const u=[...t];u[r]=l,e(u)}function o(l,u){n(u)}return k.jsxs(Wu,{title:"Todo",children:[k.jsxs("div",{style:{display:"flex"},children:[k.jsx(gfe,{value:r,onChange:o,variant:"scrollable",children:t.map((l,u)=>k.jsx(Ahe,{style:{textTransform:"none"},label:u==r?k.jsxs("div",{children:[k.jsx(bM,{inputProps:{maxLength:15},style:{width:120,textAlign:"center"},onChange:c=>{const h=i;return h[u]=c.target.value,s(h)},disableUnderline:!0,size:"small",defaultValue:i[u]}),t.length>1&&k.jsx(ms,{onClick:()=>{e([...t].filter((c,h)=>h!==u)),r>0&&n(r-1),s([...i].filter((c,h)=>h!==u))},children:k.jsx(Rp,{})})]}):i[u]},u))}),k.jsx(ms,{onClick:()=>{e([...t,[]]),n(t.length),s([...i,`List ${t.length+1}`])},children:k.jsx(kM,{})})]}),k.jsx(Efe,{todos:t[r],onChange:l=>a(l)})]})}var UV={exports:{}},GV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=C;function Dfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ife=typeof Object.is=="function"?Object.is:Dfe,Lfe=e0.useSyncExternalStore,Ffe=e0.useRef,Afe=e0.useEffect,Ofe=e0.useMemo,$fe=e0.useDebugValue;GV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Ffe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Ofe(function(){function l(g){if(!u){if(u=!0,c=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return h=m}return h=g}if(m=h,Ife(c,g))return m;var y=n(g);return i!==void 0&&i(m,y)?m:(c=g,h=y)}var u=!1,c,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var o=Lfe(t,s[0],s[1]);return Afe(function(){a.hasValue=!0,a.value=o},[o]),$fe(o),o};UV.exports=GV;var Vfe=UV.exports,Ea="default"in eh?Lt:eh,AL=Symbol.for("react-redux-context"),OL=typeof globalThis<"u"?globalThis:{};function zfe(){if(!Ea.createContext)return{};const t=OL[AL]??(OL[AL]=new Map);let e=t.get(Ea.createContext);return e||(e=Ea.createContext(null),t.set(Ea.createContext,e)),e}var Hc=zfe(),Wfe=()=>{throw new Error("uSES not initialized!")};function _M(t=Hc){return function(){return Ea.useContext(t)}}var jV=_M(),YV=Wfe,Hfe=t=>{YV=t},Ufe=(t,e)=>t===e;function Gfe(t=Hc){const e=t===Hc?jV:_M(t),r=(n,i={})=>{const{equalityFn:s=Ufe,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();Ea.useRef(!0);const f=Ea.useCallback({[n.name](m){return n(m)}}[n.name],[n,c,a.stabilityCheck]),g=YV(l.addNestedSub,o.getState,u||o.getState,f,s);return Ea.useDebugValue(g),g};return Object.assign(r,{withTypes:()=>r}),r}var jfe=Gfe();function Yfe(t){t()}function Xfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Yfe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $L={notify(){},get:()=>[]};function qfe(t,e){let r,n=$L,i=0,s=!1;function a(y){c();const b=n.subscribe(y);let x=!1;return()=>{x||(x=!0,b(),h())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function c(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=Xfe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$L)}function f(){s||(s=!0,c())}function g(){s&&(s=!1,h())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var Kfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qfe=Kfe?Ea.useLayoutEffect:Ea.useEffect;function Jfe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=Ea.useMemo(()=>{const u=qfe(t);return{store:t,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),o=Ea.useMemo(()=>t.getState(),[t]);Qfe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=e||Hc;return Ea.createElement(l.Provider,{value:a},r)}var Zfe=Jfe;function XV(t=Hc){const e=t===Hc?jV:_M(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var epe=XV();function tpe(t=Hc){const e=t===Hc?epe:XV(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var rpe=tpe();Hfe(Vfe.useSyncExternalStoreWithSelector);const npe=rpe.withTypes(),ipe=jfe.withTypes();function ls(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var spe=typeof Symbol=="function"&&Symbol.observable||"@@observable",VL=spe,SC=()=>Math.random().toString(36).substring(7).split("").join("."),ape={INIT:`@@redux/INIT${SC()}`,REPLACE:`@@redux/REPLACE${SC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${SC()}`},Tw=ape;function TM(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function qV(t,e,r){if(typeof t!="function")throw new Error(ls(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ls(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ls(1));return r(qV)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((b,x)=>{a.set(x,b)}))}function c(){if(l)throw new Error(ls(3));return i}function h(b){if(typeof b!="function")throw new Error(ls(4));if(l)throw new Error(ls(5));let x=!0;u();const v=o++;return a.set(v,b),function(){if(x){if(l)throw new Error(ls(6));x=!1,u(),a.delete(v),s=null}}}function f(b){if(!TM(b))throw new Error(ls(7));if(typeof b.type>"u")throw new Error(ls(8));if(typeof b.type!="string")throw new Error(ls(17));if(l)throw new Error(ls(9));try{l=!0,i=n(i,b)}finally{l=!1}return(s=a).forEach(v=>{v()}),b}function g(b){if(typeof b!="function")throw new Error(ls(10));n=b,f({type:Tw.REPLACE})}function m(){const b=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ls(11));function v(){const P=x;P.next&&P.next(c())}return v(),{unsubscribe:b(v)}},[VL](){return this}}}return f({type:Tw.INIT}),{dispatch:f,subscribe:h,getState:c,replaceReducer:g,[VL]:m}}function ope(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Tw.INIT})>"u")throw new Error(ls(12));if(typeof r(void 0,{type:Tw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ls(13))})}function lpe(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{ope(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const h=n[c],f=r[h],g=a[h],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(ls(14));u[h]=m,l=l||m!==g}return l=l||n.length!==Object.keys(a).length,l?u:a}}function Pw(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function upe(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(ls(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=Pw(...o)(i.dispatch),{...i,dispatch:s}}}function cpe(t){return TM(t)&&"type"in t&&typeof t.type=="string"}var KV=Symbol.for("immer-nothing"),zL=Symbol.for("immer-draftable"),Oa=Symbol.for("immer-state");function Jo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sp=Object.getPrototypeOf;function Uc(t){return!!t&&!!t[Oa]}function Iu(t){var e;return t?QV(t)||Array.isArray(t)||!!t[zL]||!!((e=t.constructor)!=null&&e[zL])||$1(t)||V1(t):!1}var dpe=Object.prototype.constructor.toString();function QV(t){if(!t||typeof t!="object")return!1;const e=sp(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dpe}function Bw(t,e){O1(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function O1(t){const e=t[Oa];return e?e.type_:Array.isArray(t)?1:$1(t)?2:V1(t)?3:0}function VT(t,e){return O1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JV(t,e,r){const n=O1(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function hpe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $1(t){return t instanceof Map}function V1(t){return t instanceof Set}function Cd(t){return t.copy_||t.base_}function zT(t,e){if($1(t))return new Map(t);if(V1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&QV(t))return sp(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[Oa];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(sp(t),r)}function PM(t,e=!1){return z1(t)||Uc(t)||!Iu(t)||(O1(t)>1&&(t.set=t.add=t.clear=t.delete=fpe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>PM(n,!0))),t}function fpe(){Jo(2)}function z1(t){return Object.isFrozen(t)}var ppe={};function ch(t){const e=ppe[t];return e||Jo(0,t),e}var Jm;function ZV(){return Jm}function gpe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WL(t,e){e&&(ch("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function WT(t){HT(t),t.drafts_.forEach(mpe),t.drafts_=null}function HT(t){t===Jm&&(Jm=t.parent_)}function HL(t){return Jm=gpe(Jm,t)}function mpe(t){const e=t[Oa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Oa].modified_&&(WT(e),Jo(4)),Iu(t)&&(t=Mw(e,t),e.parent_||Nw(e,t)),e.patches_&&ch("Patches").generateReplacementPatches_(r[Oa].base_,t,e.patches_,e.inversePatches_)):t=Mw(e,r,[]),WT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==KV?t:void 0}function Mw(t,e,r){if(z1(e))return e;const n=e[Oa];if(!n)return Bw(e,(i,s)=>GL(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Nw(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Bw(s,(o,l)=>GL(t,n,i,o,l,r,a)),Nw(t,i,!1),r&&t.patches_&&ch("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function GL(t,e,r,n,i,s,a){if(Uc(i)){const o=s&&e&&e.type_!==3&&!VT(e.assigned_,n)?s.concat(n):void 0,l=Mw(t,i,o);if(JV(r,n,l),Uc(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Iu(i)&&!z1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Mw(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Nw(t,i)}}function Nw(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&PM(e,r)}function ype(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:ZV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=BM;r&&(i=[n],s=Zm);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var BM={get(t,e){if(e===Oa)return t;const r=Cd(t);if(!VT(r,e))return bpe(t,r,e);const n=r[e];return t.finalized_||!Iu(n)?n:n===kC(t.base_,e)?(CC(t),t.copy_[e]=GT(n,t)):n},has(t,e){return e in Cd(t)},ownKeys(t){return Reflect.ownKeys(Cd(t))},set(t,e,r){const n=e6(Cd(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=kC(Cd(t),e),s=i==null?void 0:i[Oa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(hpe(r,i)&&(r!==void 0||VT(t.base_,e)))return!0;CC(t),UT(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,CC(t),UT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Cd(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Jo(11)},getPrototypeOf(t){return sp(t.base_)},setPrototypeOf(){Jo(12)}},Zm={};Bw(BM,(t,e)=>{Zm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zm.deleteProperty=function(t,e){return Zm.set.call(this,t,e,void 0)};Zm.set=function(t,e,r){return BM.set.call(this,t[0],e,r,t[0])};function kC(t,e){const r=t[Oa];return(r?Cd(r):t)[e]}function bpe(t,e,r){var i;const n=e6(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function e6(t,e){if(!(e in t))return;let r=sp(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=sp(r)}}function UT(t){t.modified_||(t.modified_=!0,t.parent_&&UT(t.parent_))}function CC(t){t.copy_||(t.copy_=zT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...u){return a.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Jo(6),n!==void 0&&typeof n!="function"&&Jo(7);let i;if(Iu(e)){const s=HL(this),a=GT(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?WT(s):HT(s)}return WL(s,n),UL(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===KV&&(i=void 0),this.autoFreeze_&&PM(i,!0),n){const s=[],a=[];ch("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Jo(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Iu(t)||Jo(8),Uc(t)&&(t=t6(t));const e=HL(this),r=GT(t,void 0);return r[Oa].isManual_=!0,HT(e),r}finishDraft(t,e){const r=t&&t[Oa];(!r||!r.isManual_)&&Jo(9);const{scope_:n}=r;return WL(n,e),UL(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ch("Patches").applyPatches_;return Uc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function GT(t,e){const r=$1(t)?ch("MapSet").proxyMap_(t,e):V1(t)?ch("MapSet").proxySet_(t,e):ype(t,e);return(e?e.scope_:ZV()).drafts_.push(r),r}function t6(t){return Uc(t)||Jo(10,t),r6(t)}function r6(t){if(!Iu(t)||z1(t))return t;const e=t[Oa];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=zT(t,e.scope_.immer_.useStrictShallowCopy_)}else r=zT(t,!0);return Bw(r,(n,i)=>{JV(r,n,r6(i))}),e&&(e.finalized_=!1),r}var $a=new vpe,n6=$a.produce;$a.produceWithPatches.bind($a);$a.setAutoFreeze.bind($a);$a.setUseStrictShallowCopy.bind($a);$a.applyPatches.bind($a);$a.createDraft.bind($a);$a.finishDraft.bind($a);function wpe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xpe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Spe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var jL=t=>Array.isArray(t)?t:[t];function kpe(t){const e=Array.isArray(t[0])?t[0]:t;return Spe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Cpe(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var _pe=class{constructor(t){this.value=t}deref(){return this.value}},Tpe=typeof WeakRef<"u"?WeakRef:_pe,Ppe=0,YL=1;function Lb(){return{s:Ppe,v:void 0,o:null,p:null}}function MM(t,e={}){let r=Lb();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let f=0,g=l;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(m);b===void 0?(o=Lb(),y.set(m,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(m);b===void 0?(o=Lb(),y.set(m,o)):o=b}}const u=o;let c;if(o.s===YL?c=o.v:(c=t.apply(null,arguments),s++),u.s=YL,n){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&n(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Tpe(c):c}return u.v=c,c}return a.clearCache=()=>{r=Lb(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function i6(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),wpe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:g=MM,argsMemoizeOptions:m=[],devModeChecks:y={}}=c,b=jL(f),x=jL(m),v=kpe(i),w=h(function(){return s++,u.apply(null,arguments)},...b),P=g(function(){a++;const _=Cpe(v,arguments);return o=w.apply(null,_),o},...x);return Object.assign(P,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var Bpe=i6(MM),Mpe=Object.assign((t,e=Bpe)=>{xpe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>Mpe});function s6(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var Npe=s6(),Epe=s6,Rpe=(...t)=>{const e=i6(...t),r=Object.assign((...n)=>{const i=e(...n),s=(a,...o)=>i(Uc(a)?t6(a):a,...o);return Object.assign(s,i),s},{withTypes:()=>r});return r};Rpe(MM);var Dpe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pw:Pw.apply(null,arguments)};function ap(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(da(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>cpe(n)&&n.type===t,r}var a6=class Gg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gg.prototype)}static get[Symbol.species](){return Gg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gg(...e[0].concat(this)):new Gg(...e.concat(this))}};function XL(t){return Iu(t)?n6(t,()=>{}):t}function qL(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(da(10));const n=r.insert(e,t);return t.set(e,n),n}function Ipe(t){return typeof t=="boolean"}var Lpe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new a6;return r&&(Ipe(r)?a.push(Npe):a.push(Epe(r.extraArgument))),a},Fpe="RTK_autoBatch",o6=t=>e=>{setTimeout(e,t)},Ape=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:o6(10),Ope=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?Ape:t.type==="callback"?t.queueNotification:o6(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const h=()=>i&&c(),f=n.subscribe(h);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[Fpe]),s=!i,s&&(a||(a=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},$pe=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new a6(t);return n&&i.push(Ope(typeof n=="object"?n:void 0)),i},Vpe=!0;function zpe(t){const e=Lpe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(TM(r))o=lpe(r);else throw new Error(da(1));let l;typeof n=="function"?l=n(e):l=e();let u=Pw;i&&(u=Dpe({trace:!Vpe,...typeof i=="object"&&i}));const c=upe(...l),h=$pe(c);let f=typeof a=="function"?a(h):h();const g=u(...f);return qV(o,s,g)}function l6(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(da(28));if(o in e)throw new Error(da(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Wpe(t){return typeof t=="function"}function Hpe(t,e){let[r,n,i]=l6(e),s;if(Wpe(t))s=()=>XL(t());else{const o=XL(t);s=()=>o}function a(o=s(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(Uc(c)){const g=h(c,l);return g===void 0?c:g}else{if(Iu(c))return n6(c,f=>h(f,l));{const f=h(c,l);if(f===void 0){if(c===null)return c;throw new Error(da(9))}return f}}return c},o)}return a.getInitialState=s,a}var Upe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gpe=(t=21)=>{let e="",r=t;for(;r--;)e+=Upe[Math.random()*64|0];return e},jpe=Symbol.for("rtk-slice-createasyncthunk");function Ype(t,e){return`${t}/${e}`}function Xpe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[jpe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(da(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Qpe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,P){const T=typeof w=="string"?w:w.type;if(!T)throw new Error(da(12));if(T in u.sliceCaseReducersByType)throw new Error(da(13));return u.sliceCaseReducersByType[T]=P,c},addMatcher(w,P){return u.sliceMatchers.push({matcher:w,reducer:P}),c},exposeAction(w,P){return u.actionCreators[w]=P,c},exposeCaseReducer(w,P){return u.sliceCaseReducersByName[w]=P,c}};l.forEach(w=>{const P=o[w],T={reducerName:w,type:Ype(s,w),createNotation:typeof i.reducers=="function"};Zpe(P)?tge(T,P,c,e):Jpe(T,P,c)});function h(){const[w={},P=[],T=void 0]=typeof i.extraReducers=="function"?l6(i.extraReducers):[i.extraReducers],_={...w,...u.sliceCaseReducersByType};return Hpe(i.initialState,M=>{for(let E in _)M.addCase(E,_[E]);for(let E of u.sliceMatchers)M.addMatcher(E.matcher,E.reducer);for(let E of P)M.addMatcher(E.matcher,E.reducer);T&&M.addDefaultCase(T)})}const f=w=>w,g=new Map;let m;function y(w,P){return m||(m=h()),m(w,P)}function b(){return m||(m=h()),m.getInitialState()}function x(w,P=!1){function T(M){let E=M[w];return typeof E>"u"&&P&&(E=b()),E}function _(M=f){const E=qL(g,P,{insert:()=>new WeakMap});return qL(E,M,{insert:()=>{const D={};for(const[L,F]of Object.entries(i.selectors??{}))D[L]=qpe(F,M,b,P);return D}})}return{reducerPath:w,getSelectors:_,get selectors(){return _(T)},selectSlice:T}}const v={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...x(a),injectInto(w,{reducerPath:P,...T}={}){const _=P??a;return w.inject({reducerPath:_,reducer:y},T),{...v,...x(_,!0)}}};return v}}function qpe(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Kpe=Xpe();function Qpe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Jpe({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!ege(n))throw new Error(da(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ap(t,a):ap(t))}function Zpe(t){return t._reducerDefinitionType==="asyncThunk"}function ege(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tge({type:t,reducerName:e},r,n,i){if(!i)throw new Error(da(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=r,h=i(t,s,c);n.exposeAction(e,h),a&&n.addCase(h.fulfilled,a),o&&n.addCase(h.pending,o),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:a||Fb,pending:o||Fb,rejected:l||Fb,settled:u||Fb})}function Fb(){}var rge=(t,e)=>{if(typeof t!="function")throw new Error(da(32))},NM="listenerMiddleware",nge=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ap(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(da(21));return rge(s),{predicate:i,type:e,effect:s}},ige=Object.assign(t=>{const{type:e,predicate:r,effect:n}=nge(t);return{id:Gpe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(da(22))}}},{withTypes:()=>ige}),sge=Object.assign(ap(`${NM}/add`),{withTypes:()=>sge});ap(`${NM}/removeAll`);var age=Object.assign(ap(`${NM}/remove`),{withTypes:()=>age});function da(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const oge={value:0,lastChange:""},u6=Kpe({name:"counter",initialState:oge,reducers:{increment(t){t.value+=1},incrementByAmount(t,e){t.value+=e.payload,t.lastChange=e.type}}}),{increment:$Ee,incrementByAmount:KL}=u6.actions,lge=u6.reducer;function uge(){const t=npe(),[e,r]=C.useState(50),n=ipe(o=>o.counter.value);function i(){const o=KL(e);t(o)}function s(){const o=KL(-e);t(o)}const a=(o,l)=>{r(l)};return k.jsxs(Wu,{title:"Counter",children:[k.jsx(ms,{onClick:s,children:k.jsx(Mfe,{})}),k.jsx(ms,{onClick:i,children:k.jsx(kM,{})}),k.jsx(Km,{children:k.jsx(Xd,{value:e,onChange:a,valueLabelDisplay:"on"})}),k.jsx(Kr,{variant:"h1",align:"center",children:n})]})}function cge(){const[t,e]=C.useState(1),r=(n,i)=>{e(i)};return k.jsx(Wu,{title:"Rating",children:k.jsxs(Km,{children:[k.jsx(Xae,{children:k.jsx(Km,{children:k.jsx(Wde,{value:t,onChange:r,size:"large",max:46})})}),k.jsxs(Kr,{color:"pink",variant:"h1",children:["The rating you have chosen is ",t]})]})})}function dge(){return k.jsxs("div",{style:{flexDirection:"column",display:"flex",height:"100%",border:"10px solid green",boxSizing:"border-box"},children:[k.jsx("div",{style:{border:"3px solid blue",height:"100px"}}),k.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",border:"3px solid orange",flex:1},children:[k.jsx("div",{style:{border:"3px solid yellow",width:"100px"}}),k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",border:"3px solid red",flex:1},children:k.jsx("button",{children:"sIUUUU"})})]}),k.jsx("div",{style:{height:"100px",border:"3px solid pink"}})]})}const hge=["localeText"],jT=C.createContext(null),EM=function(e){const{localeText:r}=e,n=Re(e,hge),{utils:i,localeText:s}=C.useContext(jT)??{utils:void 0,localeText:void 0},a=tt({props:n,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:l,dateFormats:u,dateLibInstance:c,adapterLocale:h,localeText:f}=a,g=C.useMemo(()=>B({},f,s,r),[f,s,r]),m=C.useMemo(()=>{if(!l)return i||null;const x=new l({locale:h,formats:u,instance:c});if(!x.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return x},[l,h,u,c,i]),y=C.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),b=C.useMemo(()=>({utils:m,defaultDates:y,localeText:g}),[y,m,g]);return k.jsx(jT.Provider,{value:b,children:o})},fge=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:B({},t)}}}}),c6={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,r)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${r.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},pge=c6;fge(c6);const Sh=()=>{const t=C.useContext(jT);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=C.useMemo(()=>B({},pge,t.localeText),[t.localeText]);return C.useMemo(()=>B({},t,{localeText:e}),[t,e])},$r=()=>Sh().utils,t0=()=>Sh().defaultDates,Ts=()=>Sh().localeText,kh=t=>{const e=$r(),r=C.useRef();return r.current===void 0&&(r.current=e.date(void 0,t)),r.current},gge=an(k.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mge=an(k.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),yge=an(k.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),bge=an(k.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),vge=an(k.jsxs(C.Fragment,{children:[k.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),k.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");an(k.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");an(k.jsxs(C.Fragment,{children:[k.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),k.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const wge=an(k.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function xge(t){return dt("MuiPickersArrowSwitcher",t)}ht("MuiPickersArrowSwitcher",["root","spacer","button"]);const Sge=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],kge=["ownerState"],Cge=["ownerState"],_ge=he("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Tge=he("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),QL=he(ms,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Pge=t=>{const{classes:e}=t;return ut({root:["root"],spacer:["spacer"],button:["button"]},xge,e)},d6=C.forwardRef(function(e,r){const n=Yi(),i=tt({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:a,slots:o,slotProps:l,isNextDisabled:u,isNextHidden:c,onGoToNext:h,nextLabel:f,isPreviousDisabled:g,isPreviousHidden:m,onGoToPrevious:y,previousLabel:b,labelId:x}=i,v=Re(i,Sge),w=i,P=Pge(w),T={isDisabled:u,isHidden:c,goTo:h,label:f},_={isDisabled:g,isHidden:m,goTo:y,label:b},M=(o==null?void 0:o.previousIconButton)??QL,E=sr({elementType:M,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:B({},w,{hidden:_.isHidden}),className:P.button}),D=(o==null?void 0:o.nextIconButton)??QL,L=sr({elementType:D,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"start",onClick:T.goTo},ownerState:B({},w,{hidden:T.isHidden}),className:P.button}),F=(o==null?void 0:o.leftArrowIcon)??mge,z=sr({elementType:F,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),V=Re(z,kge),O=(o==null?void 0:o.rightArrowIcon)??yge,I=sr({elementType:O,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),H=Re(I,Cge);return k.jsxs(_ge,B({ref:r,className:Oe(P.root,a),ownerState:w},v,{children:[k.jsx(M,B({},E,{children:n?k.jsx(O,B({},H)):k.jsx(F,B({},V))})),s?k.jsx(Kr,{variant:"subtitle1",component:"span",id:x,children:s}):k.jsx(Tge,{className:P.spacer,ownerState:w}),k.jsx(D,B({},L,{children:n?k.jsx(F,B({},V)):k.jsx(O,B({},H))}))]}))}),Nl=(t,e)=>t.length!==e.length?!1:e.every(r=>t.includes(r)),h6=({openTo:t,defaultOpenTo:e,views:r,defaultViews:n})=>{const i=r??n;let s;if(t!=null)s=t;else if(i.includes(e))s=e;else if(i.length>0)s=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:s}},f6=["hours","minutes","seconds"],ey=t=>f6.includes(t),Bge=t=>f6.includes(t)||t==="meridiem",Mge=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,ty=(t,e,r)=>r&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,Nge=(t,e,r,n)=>{const i=ty(n.getHours(t),e,r);return n.setHours(t,i)},JL=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),r0=(t,e)=>(r,n)=>t?e.isAfter(r,n):JL(r,e)>JL(n,e),p6=(t,{format:e,views:r,ampm:n})=>{if(e!=null)return e;const i=t.formats;return Nl(r,["hours"])?n?`${i.hours12h} ${i.meridiem}`:i.hours24h:Nl(r,["minutes"])?i.minutes:Nl(r,["seconds"])?i.seconds:Nl(r,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:Nl(r,["hours","minutes","seconds"])?n?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:n?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`};function n0({onChange:t,onViewChange:e,openTo:r,view:n,views:i,autoFocus:s,focusedView:a,onFocusedViewChange:o}){const l=C.useRef(r),u=C.useRef(i),c=C.useRef(i.includes(r)?r:i[0]),[h,f]=Fa({name:"useViews",state:"view",controlled:n,default:c.current}),g=C.useRef(s?h:null),[m,y]=Fa({name:"useViews",state:"focusedView",controlled:a,default:g.current});C.useEffect(()=>{(l.current&&l.current!==r||u.current&&u.current.some(M=>!i.includes(M)))&&(f(i.includes(r)?r:i[0]),u.current=i,l.current=r)},[r,f,h,i]);const b=i.indexOf(h),x=i[b-1]??null,v=i[b+1]??null,w=bt((M,E)=>{y(E?M:D=>M===D?null:D),o==null||o(M,E)}),P=bt(M=>{w(M,!0),M!==h&&(f(M),e&&e(M))}),T=bt(()=>{v&&P(v)}),_=bt((M,E,D)=>{const L=E==="finish",F=D?i.indexOf(D)<i.length-1:!!v;if(t(M,L&&F?"partial":E,D),D&&D!==h){const V=i[i.indexOf(D)+1];V&&P(V)}else L&&T()});return{view:h,setView:P,focusedView:m,setFocusedView:w,nextView:v,previousView:x,defaultView:i.includes(r)?r:i[0],goToNextView:T,setValueAndGoToNextView:_}}function Ege(t,{disableFuture:e,maxDate:r,timezone:n}){const i=$r();return C.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isBefore(s,r)?s:r);return!i.isAfter(a,t)},[e,r,t,i,n])}function Rge(t,{disablePast:e,minDate:r,timezone:n}){const i=$r();return C.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isAfter(s,r)?s:r);return!i.isBefore(a,t)},[e,r,t,i,n])}function RM(t,e,r,n){const i=$r(),s=Mge(t,i),a=C.useCallback(o=>{const l=t==null?null:Nge(t,o,!!e,i);r(l,n??"partial")},[e,t,r,n,i]);return{meridiemMode:s,handleMeridiemChange:a}}const ry=36,W1=2,H1=320,Dge=280,DM=336,g6=232,Ige=48,U1=he("div")({overflow:"hidden",width:H1,maxHeight:DM,display:"flex",flexDirection:"column",margin:"0 auto"});function Lge(t){return dt("MuiTimeClock",t)}ht("MuiTimeClock",["root","arrowSwitcher"]);const op=220,zl=36,ny={x:op/2,y:op/2},m6={x:ny.x,y:0},Fge=m6.x-ny.x,Age=m6.y-ny.y,Oge=t=>t*(180/Math.PI),y6=(t,e,r)=>{const n=e-ny.x,i=r-ny.y,s=Math.atan2(Fge,Age)-Math.atan2(n,i);let a=Oge(s);a=Math.round(a/t)*t,a%=360;const o=Math.floor(a/t)||0,l=n**2+i**2,u=Math.sqrt(l);return{value:o,distance:u}},$ge=(t,e,r=1)=>{const n=r*6;let{value:i}=y6(n,t,e);return i=i*r%60,i},Vge=(t,e,r)=>{const{value:n,distance:i}=y6(30,t,e);let s=n||12;return r?s%=12:i<op/2-zl&&(s+=12,s%=24),s};function zge(t){return dt("MuiClockPointer",t)}ht("MuiClockPointer",["root","thumb"]);const Wge=["className","hasSelected","isInner","type","viewValue"],Hge=t=>{const{classes:e}=t;return ut({root:["root"],thumb:["thumb"]},zge,e)},Uge=he("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Gge=he("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${zl/2}px)`,border:`${(zl-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function jge(t){const e=tt({props:t,name:"MuiClockPointer"}),{className:r,isInner:n,type:i,viewValue:s}=e,a=Re(e,Wge),o=C.useRef(i);C.useEffect(()=>{o.current=i},[i]);const l=B({},e,{shouldAnimate:o.current!==i}),u=Hge(l),c=()=>{let f=360/(i==="hours"?12:60)*s;return i==="hours"&&s>12&&(f-=360),{height:Math.round((n?.26:.4)*op),transform:`rotateZ(${f}deg)`}};return k.jsx(Uge,B({style:c(),className:Oe(r,u.root),ownerState:l},a,{children:k.jsx(Gge,{ownerState:l,className:u.thumb})}))}function Yge(t){return dt("MuiClock",t)}ht("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const Ew=(t,e,r)=>{let n=e;return n=t.setHours(n,t.getHours(r)),n=t.setMinutes(n,t.getMinutes(r)),n=t.setSeconds(n,t.getSeconds(r)),n},gm=({date:t,disableFuture:e,disablePast:r,maxDate:n,minDate:i,isDateDisabled:s,utils:a,timezone:o})=>{const l=Ew(a,a.date(void 0,o),t);r&&a.isBefore(i,l)&&(i=l),e&&a.isAfter(n,l)&&(n=l);let u=t,c=t;for(a.isBefore(t,i)&&(u=i,c=null),a.isAfter(t,n)&&(c&&(c=n),u=null);u||c;){if(u&&a.isAfter(u,n)&&(u=null),c&&a.isBefore(c,i)&&(c=null),u){if(!s(u))return u;u=a.addDays(u,1)}if(c){if(!s(c))return c;c=a.addDays(c,-1)}}return null},Xge=(t,e)=>e==null||!t.isValid(e)?null:e,No=(t,e,r)=>e==null||!t.isValid(e)?r:e,qge=(t,e,r)=>!t.isValid(e)&&e!=null&&!t.isValid(r)&&r!=null?!0:t.isEqual(e,r),IM=(t,e)=>{const n=[t.startOfYear(e)];for(;n.length<12;){const i=n[n.length-1];n.push(t.addMonths(i,1))}return n},LM=(t,e,r)=>r==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),Cc=(t,e)=>{const r=t.setHours(t.date(),e==="am"?2:14);return t.format(r,"meridiem")},Kge=["year","month","day"],ZL=t=>Kge.includes(t),FM=(t,{format:e,views:r},n)=>{if(e!=null)return e;const i=t.formats;return Nl(r,["year"])?i.year:Nl(r,["month"])?i.month:Nl(r,["day"])?i.dayOfMonth:Nl(r,["month","year"])?`${i.month} ${i.year}`:Nl(r,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Qge=(t,e)=>{const r=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>t.addDays(r,n))},Jge=t=>{const{classes:e}=t;return ut({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},Yge,e)},Zge=he("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),eme=he("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),tme=he("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),rme=he("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),nme=he("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),ime=he(ms,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:zl,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),sme=he(ms,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:zl,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),eF=he(Kr,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function ame(t){const e=tt({props:t,name:"MuiClock"}),{ampm:r,ampmInClock:n,autoFocus:i,children:s,value:a,handleMeridiemChange:o,isTimeDisabled:l,meridiemMode:u,minutesStep:c=1,onChange:h,selectedId:f,type:g,viewValue:m,disabled:y=!1,readOnly:b,className:x}=e,v=e,w=$r(),P=Ts(),T=C.useRef(!1),_=Jge(v),M=l(m,g),E=!r&&g==="hours"&&(m<1||m>12),D=(U,q)=>{y||b||l(U,g)||h(U,q)},L=(U,q)=>{let{offsetX:ae,offsetY:ne}=U;if(ae===void 0){const fe=U.target.getBoundingClientRect();ae=U.changedTouches[0].clientX-fe.left,ne=U.changedTouches[0].clientY-fe.top}const ge=g==="seconds"||g==="minutes"?$ge(ae,ne,c):Vge(ae,ne,!!r);D(ge,q)},F=U=>{T.current=!0,L(U,"shallow")},z=U=>{T.current&&(L(U,"finish"),T.current=!1)},V=U=>{U.buttons>0&&L(U.nativeEvent,"shallow")},O=U=>{T.current&&(T.current=!1),L(U.nativeEvent,"finish")},I=C.useMemo(()=>g==="hours"?!0:m%5===0,[g,m]),H=g==="minutes"?c:1,W=C.useRef(null);In(()=>{i&&W.current.focus()},[i]);const A=U=>{if(!T.current)switch(U.key){case"Home":D(0,"partial"),U.preventDefault();break;case"End":D(g==="minutes"?59:23,"partial"),U.preventDefault();break;case"ArrowUp":D(m+H,"partial"),U.preventDefault();break;case"ArrowDown":D(m-H,"partial"),U.preventDefault();break}};return k.jsxs(Zge,{className:Oe(x,_.root),children:[k.jsxs(eme,{className:_.clock,children:[k.jsx(rme,{onTouchMove:F,onTouchEnd:z,onMouseUp:O,onMouseMove:V,ownerState:{disabled:y},className:_.squareMask}),!M&&k.jsxs(C.Fragment,{children:[k.jsx(nme,{className:_.pin}),a!=null&&k.jsx(jge,{type:g,viewValue:m,isInner:E,hasSelected:I})]}),k.jsx(tme,{"aria-activedescendant":f,"aria-label":P.clockLabelText(g,a,w),ref:W,role:"listbox",onKeyDown:A,tabIndex:0,className:_.wrapper,children:s})]}),r&&n&&k.jsxs(C.Fragment,{children:[k.jsx(ime,{onClick:b?void 0:()=>o("am"),disabled:y||u===null,ownerState:v,className:_.amButton,title:Cc(w,"am"),children:k.jsx(eF,{variant:"caption",className:_.meridiemText,children:Cc(w,"am")})}),k.jsx(sme,{disabled:y||u===null,onClick:b?void 0:()=>o("pm"),ownerState:v,className:_.pmButton,title:Cc(w,"pm"),children:k.jsx(eF,{variant:"caption",className:_.meridiemText,children:Cc(w,"pm")})})]})]})}function ome(t){return dt("MuiClockNumber",t)}const Ab=ht("MuiClockNumber",["root","selected","disabled"]),lme=["className","disabled","index","inner","label","selected"],ume=t=>{const{classes:e,selected:r,disabled:n}=t;return ut({root:["root",r&&"selected",n&&"disabled"]},ome,e)},cme=he("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${Ab.disabled}`]:e.disabled},{[`&.${Ab.selected}`]:e.selected}]})(({theme:t})=>({height:zl,width:zl,position:"absolute",left:`calc((100% - ${zl}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Ab.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Ab.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:B({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function b6(t){const e=tt({props:t,name:"MuiClockNumber"}),{className:r,disabled:n,index:i,inner:s,label:a,selected:o}=e,l=Re(e,lme),u=e,c=ume(u),h=i%12/12*Math.PI*2-Math.PI/2,f=(op-zl-2)/2*(s?.65:1),g=Math.round(Math.cos(h)*f),m=Math.round(Math.sin(h)*f);return k.jsx(cme,B({className:Oe(r,c.root),"aria-disabled":n?!0:void 0,"aria-selected":o?!0:void 0,role:"option",style:{transform:`translate(${g}px, ${m+(op-zl)/2}px`},ownerState:u},l,{children:a}))}const dme=({ampm:t,value:e,getClockNumberText:r,isDisabled:n,selectedId:i,utils:s})=>{const a=e?s.getHours(e):null,o=[],l=t?1:0,u=t?12:23,c=h=>a===null?!1:t?h===12?a===12||a===0:a===h||a-12===h:a===h;for(let h=l;h<=u;h+=1){let f=h.toString();h===0&&(f="00");const g=!t&&(h===0||h>12);f=s.formatNumber(f);const m=c(h);o.push(k.jsx(b6,{id:m?i:void 0,index:h,inner:g,selected:m,disabled:n(h),label:f,"aria-label":r(f)},h))}return o},tF=({utils:t,value:e,isDisabled:r,getClockNumberText:n,selectedId:i})=>{const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(([a,o],l)=>{const u=a===e;return k.jsx(b6,{label:o,id:u?i:void 0,index:l+1,inner:!1,disabled:r(a),selected:u,"aria-label":n(o)},a)})},AM=({timezone:t,value:e,defaultValue:r,onChange:n,valueManager:i})=>{const s=$r(),a=C.useRef(r),o=e??a.current??i.emptyValue,l=C.useMemo(()=>i.getTimezone(s,o),[s,i,o]),u=bt(g=>l==null?g:i.setTimezone(s,l,g)),c=t??l??"default",h=C.useMemo(()=>i.setTimezone(s,c,o),[i,s,c,o]),f=bt((g,...m)=>{const y=u(g);n==null||n(y,...m)});return{value:h,handleValueChange:f,timezone:c}},Dp=({name:t,timezone:e,value:r,defaultValue:n,onChange:i,valueManager:s})=>{const[a,o]=Fa({name:t,state:"value",controlled:r,default:n??s.emptyValue}),l=bt((u,...c)=>{o(u),i==null||i(u,...c)});return AM({timezone:e,value:a,defaultValue:void 0,onChange:l,valueManager:s})},qo={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},hme=t=>Math.max(...t.map(e=>qo[e.type]??1)),_g=(t,e,r)=>{if(e===qo.year)return t.startOfYear(r);if(e===qo.month)return t.startOfMonth(r);if(e===qo.day)return t.startOfDay(r);let n=r;return e<qo.minutes&&(n=t.setMinutes(n,0)),e<qo.seconds&&(n=t.setSeconds(n,0)),e<qo.milliseconds&&(n=t.setMilliseconds(n,0)),n},fme=({props:t,utils:e,granularity:r,timezone:n,getTodayDate:i})=>{let s=i?i():_g(e,r,LM(e,n));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=_g(e,r,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=_g(e,r,t.maxDate));const a=r0(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=_g(e,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:Ew(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=_g(e,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Ew(e,s,t.maxTime))),s},v6=(t,e)=>{const r=t.formatTokenMap[e];if(r==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},pme=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},G1=(t,e,r)=>{const n=[],i=t.date(void 0,e),s=t.startOfWeek(i),a=t.endOfWeek(i);let o=s;for(;t.isBefore(o,a);)n.push(o),o=t.addDays(o,1);return n.map(l=>t.formatByString(l,r))},w6=(t,e,r,n)=>{switch(r){case"month":return IM(t,t.date(void 0,e)).map(i=>t.formatByString(i,n));case"weekDay":return G1(t,e,n);case"meridiem":{const i=t.date(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(s=>t.formatByString(s,n))}default:return[]}},rF="s",gme=["0","1","2","3","4","5","6","7","8","9"],mme=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),rF)==="0"?gme:Array.from({length:10}).map((n,i)=>t.formatByString(t.setSeconds(e,i),rF))},dh=(t,e)=>{if(e[0]==="0")return t;const r=[];let n="";for(let i=0;i<t.length;i+=1){n+=t[i];const s=e.indexOf(n);s>-1&&(r.push(s.toString()),n="")}return r.join("")},OM=(t,e)=>e[0]==="0"?t:t.split("").map(r=>e[Number(r)]).join(""),nF=(t,e)=>{const r=dh(t,e);return r!==" "&&!Number.isNaN(Number(r))},x6=(t,e)=>{let r=t;for(r=Number(r).toString();r.length<e;)r=`0${r}`;return r},S6=(t,e,r,n,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const a=t.setDate(r.longestMonth,e);return t.formatByString(a,i.format)}let s=e.toString();return i.hasLeadingZerosInInput&&(s=x6(s,i.maxLength)),OM(s,n)},yme=(t,e,r,n,i,s,a,o)=>{const l=pme(n),u=n==="Home",c=n==="End",h=r.value===""||u||c,f=()=>{const m=i[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),y=w=>S6(t,w,m,s,r),b=r.type==="minutes"&&(o!=null&&o.minutesStep)?o.minutesStep:1;let v=parseInt(dh(r.value,s),10)+l*b;if(h){if(r.type==="year"&&!c&&!u)return t.formatByString(t.date(void 0,e),r.format);l>0||u?v=m.minimum:v=m.maximum}return v%b!==0&&((l<0||u)&&(v+=b-(b+v)%b),(l>0||c)&&(v-=v%b)),v>m.maximum?y(m.minimum+(v-m.maximum-1)%(m.maximum-m.minimum+1)):v<m.minimum?y(m.maximum-(m.minimum-v-1)%(m.maximum-m.minimum+1)):y(v)},g=()=>{const m=w6(t,e,r.type,r.format);if(m.length===0)return r.value;if(h)return l>0||u?m[0]:m[m.length-1];const x=((m.indexOf(r.value)+l)%m.length+m.length)%m.length;return m[x]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?f():g()},$M=(t,e,r)=>{let n=t.value||t.placeholder;const i=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(dh(n,r)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!i&&n.length===1&&(n=`${n}`),e==="input-rtl"&&(n=`${n}`),n},iF=(t,e,r,n)=>t.formatByString(t.parse(e,r),n),k6=(t,e,r)=>t.formatByString(t.date(void 0,e),r).length===4,C6=(t,e,r,n,i)=>{if(r!=="digit")return!1;const s=t.date(void 0,e);switch(n){case"year":return k6(t,e,i)?t.formatByString(t.setYear(s,1),i)==="0001":t.formatByString(t.setYear(s,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(s),i).length>1;case"day":return t.formatByString(t.startOfMonth(s),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),i).length>1;case"hours":return t.formatByString(t.setHours(s,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},bme=(t,e,r)=>{const n=e.some(l=>l.type==="day"),i=[],s=[];for(let l=0;l<e.length;l+=1){const u=e[l];n&&u.type==="weekDay"||(i.push(u.format),s.push($M(u,"non-input",r)))}const a=i.join(" "),o=s.join(" ");return t.parse(o,a)},vme=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),wme=(t,e,r)=>{const i=t.map(s=>{const a=$M(s,r?"input-rtl":"input-ltr",e);return`${s.startSeparator}${a}${s.endSeparator}`}).join("");return r?`${i}`:i},xme=(t,e,r)=>{const n=t.date(void 0,r),i=t.endOfYear(n),s=t.endOfDay(n),{maxDaysInMonth:a,longestMonth:o}=IM(t,n).reduce((l,u)=>{const c=t.getDaysInMonth(u);return c>l.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:u}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:k6(t,r,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):a,longestMonth:o}),weekDay:({format:l,contentType:u})=>{if(u==="digit"){const c=G1(t,r,l).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const u=t.getHours(s);return dh(t.formatByString(t.endOfDay(n),l),e)!==u.toString()?{minimum:1,maximum:Number(dh(t.formatByString(t.startOfDay(n),l),e))}:{minimum:0,maximum:u}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},Sme=(t,e,r,n,i)=>{switch(r.type){case"year":return t.setYear(i,t.getYear(n));case"month":return t.setMonth(i,t.getMonth(n));case"weekDay":{const s=G1(t,e,r.format),a=t.formatByString(n,r.format),o=s.indexOf(a),u=s.indexOf(r.value)-o;return t.addDays(n,u)}case"day":return t.setDate(i,t.getDate(n));case"meridiem":{const s=t.getHours(n)<12,a=t.getHours(i);return s&&a>=12?t.addHours(i,-12):!s&&a<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(n));case"minutes":return t.setMinutes(i,t.getMinutes(n));case"seconds":return t.setSeconds(i,t.getSeconds(n));default:return i}},sF={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},aF=(t,e,r,n,i,s)=>[...n].sort((a,o)=>sF[a.type]-sF[o.type]).reduce((a,o)=>!s||o.modified?Sme(t,e,o,r,a):a,i),kme=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Cme=(t,e)=>{const r={};if(!e)return t.forEach((l,u)=>{const c=u===0?null:u-1,h=u===t.length-1?null:u+1;r[u]={leftIndex:c,rightIndex:h}}),{neighbors:r,startIndex:0,endIndex:t.length-1};const n={},i={};let s=0,a=0,o=t.length-1;for(;o>=0;){a=t.findIndex((l,u)=>{var c;return u>=s&&((c=l.endSeparator)==null?void 0:c.includes(" "))&&l.endSeparator!==" / "}),a===-1&&(a=t.length-1);for(let l=a;l>=s;l-=1)i[l]=o,n[o]=l,o-=1;s=a+1}return t.forEach((l,u)=>{const c=i[u],h=c===0?null:n[c-1],f=c===t.length-1?null:n[c+1];r[u]={leftIndex:h,rightIndex:f}}),{neighbors:r,startIndex:n[0],endIndex:n[t.length-1]}},YT=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(r=>r.type===t):t,_me=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const r=e.parse(t.value,t.format);return r?e.format(r,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},Tme=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const r=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return r?e.getHours(r)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const r=e.parse(t.value,t.format);return r?e.getMonth(r)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},Pme=["value","referenceDate"],_s={emptyValue:null,getTodayValue:LM,getInitialReferenceValue:t=>{let{value:e,referenceDate:r}=t,n=Re(t,Pme);return e!=null&&n.utils.isValid(e)?e:r??fme(n)},cleanValue:Xge,areValuesEqual:qge,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,r)=>r==null?null:t.setTimezone(r,e)},_6={updateReferenceValue:(t,e,r)=>e==null||!t.isValid(e)?r:e,getSectionsFromValue:(t,e,r,n)=>!t.isValid(e)&&!!r?r:n(e),getV7HiddenInputValueFromSections:vme,getV6InputValueFromSections:wme,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!t.isValid(r)?e.referenceValue:r})}),parseValueStr:(t,e,r)=>r(t.trim(),e)},VM=({value:t,referenceDate:e,utils:r,props:n,timezone:i})=>{const s=C.useMemo(()=>_s.getInitialReferenceValue({value:t,utils:r,props:n,referenceDate:e,granularity:qo.day,timezone:i,getTodayDate:()=>LM(r,i,"date")}),[]);return t??s},Bme=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],Mme=t=>{const{classes:e}=t;return ut({root:["root"],arrowSwitcher:["arrowSwitcher"]},Lge,e)},Nme=he(U1,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),Eme=he(d6,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),Rme=["hours","minutes"],Dme=C.forwardRef(function(e,r){const n=$r(),i=tt({props:e,name:"MuiTimeClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:o,slots:l,slotProps:u,value:c,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:m,minTime:y,disableFuture:b,disablePast:x,minutesStep:v=1,shouldDisableTime:w,showViewSwitcher:P,onChange:T,view:_,views:M=Rme,openTo:E,onViewChange:D,focusedView:L,onFocusedViewChange:F,className:z,disabled:V,readOnly:O,timezone:I}=i,H=Re(i,Bme),{value:W,handleValueChange:A,timezone:U}=Dp({name:"TimeClock",timezone:I,value:c,defaultValue:h,onChange:T,valueManager:_s}),q=VM({value:W,referenceDate:f,utils:n,props:i,timezone:U}),ae=Ts(),ne=kh(U),{view:ge,setView:fe,previousView:J,nextView:ce,setValueAndGoToNextView:Se}=n0({view:_,views:M,openTo:E,onViewChange:D,onChange:A,focusedView:L,onFocusedViewChange:F}),{meridiemMode:K,handleMeridiemChange:Z}=RM(q,s,Se),ue=C.useCallback((oe,Me)=>{const ke=r0(g,n),j=Me==="hours"||Me==="minutes"&&M.includes("seconds"),ie=({start:me,end:Be})=>!(y&&ke(y,Be)||m&&ke(me,m)||b&&ke(me,ne)||x&&ke(ne,j?Be:me)),te=(me,Be=1)=>{if(me%Be!==0)return!1;if(w)switch(Me){case"hours":return!w(n.setHours(q,me),"hours");case"minutes":return!w(n.setMinutes(q,me),"minutes");case"seconds":return!w(n.setSeconds(q,me),"seconds");default:return!1}return!0};switch(Me){case"hours":{const me=ty(oe,K,s),Be=n.setHours(q,me),Te=n.setSeconds(n.setMinutes(Be,0),0),Ge=n.setSeconds(n.setMinutes(Be,59),59);return!ie({start:Te,end:Ge})||!te(me)}case"minutes":{const me=n.setMinutes(q,oe),Be=n.setSeconds(me,0),Te=n.setSeconds(me,59);return!ie({start:Be,end:Te})||!te(oe,v)}case"seconds":{const me=n.setSeconds(q,oe);return!ie({start:me,end:me})||!te(oe)}default:throw new Error("not supported")}},[s,q,g,m,K,y,v,w,n,b,x,ne,M]),de=Do(),re=C.useMemo(()=>{switch(ge){case"hours":{const oe=(Me,ke)=>{const j=ty(Me,K,s);Se(n.setHours(q,j),ke,"hours")};return{onChange:oe,viewValue:n.getHours(q),children:dme({value:W,utils:n,ampm:s,onChange:oe,getClockNumberText:ae.hoursClockNumberText,isDisabled:Me=>V||ue(Me,"hours"),selectedId:de})}}case"minutes":{const oe=n.getMinutes(q),Me=(ke,j)=>{Se(n.setMinutes(q,ke),j,"minutes")};return{viewValue:oe,onChange:Me,children:tF({utils:n,value:oe,onChange:Me,getClockNumberText:ae.minutesClockNumberText,isDisabled:ke=>V||ue(ke,"minutes"),selectedId:de})}}case"seconds":{const oe=n.getSeconds(q),Me=(ke,j)=>{Se(n.setSeconds(q,ke),j,"seconds")};return{viewValue:oe,onChange:Me,children:tF({utils:n,value:oe,onChange:Me,getClockNumberText:ae.secondsClockNumberText,isDisabled:ke=>V||ue(ke,"seconds"),selectedId:de})}}default:throw new Error("You must provide the type for ClockView")}},[ge,n,W,s,ae.hoursClockNumberText,ae.minutesClockNumberText,ae.secondsClockNumberText,K,Se,q,ue,de,V]),Q=i,ee=Mme(Q);return k.jsxs(Nme,B({ref:r,className:Oe(ee.root,z),ownerState:Q},H,{children:[k.jsx(ame,B({autoFocus:o??!!L,ampmInClock:a&&M.includes("hours"),value:W,type:ge,ampm:s,minutesStep:v,isTimeDisabled:ue,meridiemMode:K,handleMeridiemChange:Z,selectedId:de,disabled:V,readOnly:O},re)),P&&k.jsx(Eme,{className:ee.arrowSwitcher,slots:l,slotProps:u,onGoToPrevious:()=>fe(J),isPreviousDisabled:!J,previousLabel:ae.openPreviousView,onGoToNext:()=>fe(ce),isNextDisabled:!ce,nextLabel:ae.openNextView,ownerState:Q})]}))});function Ime(t){return dt("MuiDigitalClock",t)}ht("MuiDigitalClock",["root","list","item"]);const Lme=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],Fme=t=>{const{classes:e}=t;return ut({root:["root"],list:["list"],item:["item"]},Ime,e)},Ame=he(U1,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:g6,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Ome=he(vM,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),$me=he(A1,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Hl(t.palette.primary.main,t.palette.action.focusOpacity)}})),Vme=C.forwardRef(function(e,r){const n=$r(),i=C.useRef(null),s=Er(r,i),a=tt({props:e,name:"MuiDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:u,slots:c,slotProps:h,value:f,defaultValue:g,referenceDate:m,disableIgnoringDatePartForTimeValidation:y=!1,maxTime:b,minTime:x,disableFuture:v,disablePast:w,minutesStep:P=1,shouldDisableTime:T,onChange:_,view:M,openTo:E,onViewChange:D,focusedView:L,onFocusedViewChange:F,className:z,disabled:V,readOnly:O,views:I=["hours"],skipDisabled:H=!1,timezone:W}=a,A=Re(a,Lme),{value:U,handleValueChange:q,timezone:ae}=Dp({name:"DigitalClock",timezone:W,value:f,defaultValue:g,onChange:_,valueManager:_s}),ne=Ts(),ge=kh(ae),fe=C.useMemo(()=>B({},a,{alreadyRendered:!!i.current}),[a]),J=Fme(fe),ce=(c==null?void 0:c.digitalClockItem)??$me,Se=sr({elementType:ce,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:{},className:J.item}),K=VM({value:U,referenceDate:m,utils:n,props:a,timezone:ae}),Z=bt(oe=>q(oe,"finish","hours")),{setValueAndGoToNextView:ue}=n0({view:M,views:I,openTo:E,onViewChange:D,onChange:Z,focusedView:L,onFocusedViewChange:F}),de=bt(oe=>{ue(oe,"finish")});C.useEffect(()=>{if(i.current===null)return;const oe=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!oe)return;const Me=oe.offsetTop;(u||L)&&oe.focus(),i.current.scrollTop=Me-4});const re=C.useCallback(oe=>{const Me=r0(y,n),ke=()=>!(x&&Me(x,oe)||b&&Me(oe,b)||v&&Me(oe,ge)||w&&Me(ge,oe)),j=()=>n.getMinutes(oe)%P!==0?!1:T?!T(oe,"hours"):!0;return!ke()||!j()},[y,n,x,b,v,ge,w,P,T]),Q=C.useMemo(()=>{const oe=n.startOfDay(K);return[oe,...Array.from({length:Math.ceil(24*60/l)-1},(Me,ke)=>n.addMinutes(oe,l*(ke+1)))]},[K,l,n]),ee=Q.findIndex(oe=>n.isEqual(oe,K));return k.jsx(Ame,B({ref:s,className:Oe(J.root,z),ownerState:fe},A,{children:k.jsx(Ome,{role:"listbox","aria-label":ne.timePickerToolbarTitle,className:J.list,children:Q.map((oe,Me)=>{if(H&&re(oe))return null;const ke=n.isEqual(oe,U),j=n.format(oe,o?"fullTime12h":"fullTime24h"),ie=ee===Me||ee===-1&&Me===0?0:-1;return k.jsx(ce,B({onClick:()=>!O&&de(oe),selected:ke,disabled:V||re(oe),disableRipple:O,role:"option","aria-disabled":O,"aria-selected":ke,tabIndex:ie},Se,{children:j}),j)})})}))});function zme(t){return dt("MuiMultiSectionDigitalClock",t)}ht("MuiMultiSectionDigitalClock",["root"]);function Wme(t){return dt("MuiMultiSectionDigitalClockSection",t)}ht("MuiMultiSectionDigitalClockSection",["root","item"]);const Hme=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Ume=t=>{const{classes:e}=t;return ut({root:["root"],item:["item"]},Wme,e)},Gme=he(vM,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:g6,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),jme=he(A1,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:Ige,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Hl(t.palette.primary.main,t.palette.action.focusOpacity)}})),Yme=C.forwardRef(function(e,r){const n=C.useRef(null),i=Er(r,n),s=C.useRef(null),a=tt({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:o,onChange:l,className:u,disabled:c,readOnly:h,items:f,active:g,slots:m,slotProps:y,skipDisabled:b}=a,x=Re(a,Hme),v=C.useMemo(()=>B({},a,{alreadyRendered:!!n.current}),[a]),w=Ume(v),P=(m==null?void 0:m.digitalClockSectionItem)??jme;C.useEffect(()=>{if(n.current===null)return;const _=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(g&&o&&_&&_.focus(),!_||s.current===_)return;s.current=_;const M=_.offsetTop;n.current.scrollTop=M-4});const T=f.findIndex(_=>_.isFocused(_.value));return k.jsx(Gme,B({ref:i,className:Oe(w.root,u),ownerState:v,autoFocusItem:o&&g,role:"listbox"},x,{children:f.map((_,M)=>{var z;const E=(z=_.isDisabled)==null?void 0:z.call(_,_.value),D=c||E;if(b&&D)return null;const L=_.isSelected(_.value),F=T===M||T===-1&&M===0?0:-1;return k.jsx(P,B({onClick:()=>!h&&l(_.value),selected:L,disabled:D,disableRipple:h,role:"option","aria-disabled":h||D||void 0,"aria-label":_.ariaLabel,"aria-selected":L,tabIndex:F,className:w.item},y==null?void 0:y.digitalClockSectionItem,{children:_.label}),_.label)})}))}),Xme=({now:t,value:e,utils:r,ampm:n,isDisabled:i,resolveAriaLabel:s,timeStep:a,valueOrReferenceDate:o})=>{const l=e?r.getHours(e):null,u=[],c=(g,m)=>{const y=m??l;return y===null?!1:n?g===12?y===12||y===0:y===g||y-12===g:y===g},h=g=>c(g,r.getHours(o)),f=n?11:23;for(let g=0;g<=f;g+=a){let m=r.format(r.setHours(t,g),n?"hours12h":"hours24h");const y=s(parseInt(m,10).toString());m=r.formatNumber(m),u.push({value:g,label:m,isSelected:c,isDisabled:i,isFocused:h,ariaLabel:y})}return u},oF=({value:t,utils:e,isDisabled:r,timeStep:n,resolveLabel:i,resolveAriaLabel:s,hasValue:a=!0})=>{const o=u=>t===null?!1:a&&t===u,l=u=>t===u;return[...Array.from({length:Math.ceil(60/n)},(u,c)=>{const h=n*c;return{value:h,label:e.formatNumber(i(h)),isDisabled:r,isSelected:o,isFocused:l,ariaLabel:s(h.toString())}})]},qme=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Kme=t=>{const{classes:e}=t;return ut({root:["root"]},zme,e)},Qme=he(U1,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),Jme=C.forwardRef(function(e,r){const n=$r(),i=Yi(),s=tt({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:o,autoFocus:l,slots:u,slotProps:c,value:h,defaultValue:f,referenceDate:g,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:y,minTime:b,disableFuture:x,disablePast:v,minutesStep:w=1,shouldDisableTime:P,onChange:T,view:_,views:M=["hours","minutes"],openTo:E,onViewChange:D,focusedView:L,onFocusedViewChange:F,className:z,disabled:V,readOnly:O,skipDisabled:I=!1,timezone:H}=s,W=Re(s,qme),{value:A,handleValueChange:U,timezone:q}=Dp({name:"MultiSectionDigitalClock",timezone:H,value:h,defaultValue:f,onChange:T,valueManager:_s}),ae=Ts(),ne=kh(q),ge=C.useMemo(()=>B({hours:1,minutes:5,seconds:5},o),[o]),fe=VM({value:A,referenceDate:g,utils:n,props:s,timezone:q}),J=bt((ie,te,me)=>U(ie,te,me)),ce=C.useMemo(()=>!a||!M.includes("hours")||M.includes("meridiem")?M:[...M,"meridiem"],[a,M]),{view:Se,setValueAndGoToNextView:K,focusedView:Z}=n0({view:_,views:ce,openTo:E,onViewChange:D,onChange:J,focusedView:L,onFocusedViewChange:F}),ue=bt(ie=>{K(ie,"finish","meridiem")}),{meridiemMode:de,handleMeridiemChange:re}=RM(fe,a,ue,"finish"),Q=C.useCallback((ie,te)=>{const me=r0(m,n),Be=te==="hours"||te==="minutes"&&ce.includes("seconds"),Te=({start:ot,end:Dt})=>!(b&&me(b,Dt)||y&&me(ot,y)||x&&me(ot,ne)||v&&me(ne,Be?Dt:ot)),Ge=(ot,Dt=1)=>{if(ot%Dt!==0)return!1;if(P)switch(te){case"hours":return!P(n.setHours(fe,ot),"hours");case"minutes":return!P(n.setMinutes(fe,ot),"minutes");case"seconds":return!P(n.setSeconds(fe,ot),"seconds");default:return!1}return!0};switch(te){case"hours":{const ot=ty(ie,de,a),Dt=n.setHours(fe,ot),At=n.setSeconds(n.setMinutes(Dt,0),0),De=n.setSeconds(n.setMinutes(Dt,59),59);return!Te({start:At,end:De})||!Ge(ot)}case"minutes":{const ot=n.setMinutes(fe,ie),Dt=n.setSeconds(ot,0),At=n.setSeconds(ot,59);return!Te({start:Dt,end:At})||!Ge(ie,w)}case"seconds":{const ot=n.setSeconds(fe,ie);return!Te({start:ot,end:ot})||!Ge(ie)}default:throw new Error("not supported")}},[a,fe,m,y,de,b,w,P,n,x,v,ne,ce]),ee=C.useCallback(ie=>{switch(ie){case"hours":return{onChange:te=>{const me=ty(te,de,a);K(n.setHours(fe,me),"finish","hours")},items:Xme({now:ne,value:A,ampm:a,utils:n,isDisabled:te=>Q(te,"hours"),timeStep:ge.hours,resolveAriaLabel:ae.hoursClockNumberText,valueOrReferenceDate:fe})};case"minutes":return{onChange:te=>{K(n.setMinutes(fe,te),"finish","minutes")},items:oF({value:n.getMinutes(fe),utils:n,isDisabled:te=>Q(te,"minutes"),resolveLabel:te=>n.format(n.setMinutes(ne,te),"minutes"),timeStep:ge.minutes,hasValue:!!A,resolveAriaLabel:ae.minutesClockNumberText})};case"seconds":return{onChange:te=>{K(n.setSeconds(fe,te),"finish","seconds")},items:oF({value:n.getSeconds(fe),utils:n,isDisabled:te=>Q(te,"seconds"),resolveLabel:te=>n.format(n.setSeconds(ne,te),"seconds"),timeStep:ge.seconds,hasValue:!!A,resolveAriaLabel:ae.secondsClockNumberText})};case"meridiem":{const te=Cc(n,"am"),me=Cc(n,"pm");return{onChange:re,items:[{value:"am",label:te,isSelected:()=>!!A&&de==="am",isFocused:()=>!!fe&&de==="am",ariaLabel:te},{value:"pm",label:me,isSelected:()=>!!A&&de==="pm",isFocused:()=>!!fe&&de==="pm",ariaLabel:me}]}}default:throw new Error(`Unknown view: ${ie} found.`)}},[ne,A,a,n,ge.hours,ge.minutes,ge.seconds,ae.hoursClockNumberText,ae.minutesClockNumberText,ae.secondsClockNumberText,de,K,fe,Q,re]),oe=C.useMemo(()=>{if(!i)return ce;const te=ce.filter(me=>me!=="meridiem").toReversed();return ce.includes("meridiem")&&te.push("meridiem"),te},[i,ce]),Me=C.useMemo(()=>ce.reduce((ie,te)=>B({},ie,{[te]:ee(te)}),{}),[ce,ee]),ke=s,j=Kme(ke);return k.jsx(Qme,B({ref:r,className:Oe(j.root,z),ownerState:ke,role:"group"},W,{children:oe.map(ie=>k.jsx(Yme,{items:Me[ie].items,onChange:Me[ie].onChange,active:Se===ie,autoFocus:l??Z===ie,disabled:V,readOnly:O,slots:u,slotProps:c,skipDisabled:I,"aria-label":ae.selectViewText(ie)},ie))}))});function Zme(t){return dt("MuiPickersDay",t)}const md=ht("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),eye=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],tye=t=>{const{selected:e,disableMargin:r,disableHighlightToday:n,today:i,disabled:s,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:o,classes:l}=t,u=a&&!o;return ut({root:["root",e&&!u&&"selected",s&&"disabled",!r&&"dayWithMargin",!n&&i&&"today",a&&o&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Zme,l)},T6=({theme:t})=>B({},t.typography.caption,{width:ry,height:ry,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Hl(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${md.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${md.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${md.disabled}:not(.${md.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${md.disabled}&.${md.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${W1}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${md.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),P6=(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableMargin&&e.dayWithMargin,!r.disableHighlightToday&&r.today&&e.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},rye=he(Po,{name:"MuiPickersDay",slot:"Root",overridesResolver:P6})(T6),nye=he("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:P6})(({theme:t})=>B({},T6({theme:t}),{opacity:0,pointerEvents:"none"})),Tg=()=>{},iye=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:a,disabled:o=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:h,onDaySelect:f,onFocus:g=Tg,onBlur:m=Tg,onKeyDown:y=Tg,onMouseDown:b=Tg,onMouseEnter:x=Tg,outsideCurrentMonth:v,selected:w=!1,showDaysOutsideCurrentMonth:P=!1,children:T,today:_=!1}=n,M=Re(n,eye),E=B({},n,{autoFocus:i,disabled:o,disableHighlightToday:l,disableMargin:u,selected:w,showDaysOutsideCurrentMonth:P,today:_}),D=tye(E),L=$r(),F=C.useRef(null),z=Er(F,r);In(()=>{i&&!o&&!c&&!v&&F.current.focus()},[i,o,c,v]);const V=I=>{b(I),v&&I.preventDefault()},O=I=>{o||f(a),v&&I.currentTarget.focus(),h&&h(I)};return v&&!P?k.jsx(nye,{className:Oe(D.root,D.hiddenDaySpacingFiller,s),ownerState:E,role:M.role}):k.jsx(rye,B({className:Oe(D.root,s),ref:z,centerRipple:!0,disabled:o,tabIndex:w?0:-1,onKeyDown:I=>y(I,a),onFocus:I=>g(I,a),onBlur:I=>m(I,a),onMouseEnter:I=>x(I,a),onClick:O,onMouseDown:V},M,{ownerState:E,children:T||L.format(a,"dayOfMonth")}))}),sye=C.memo(iye);function B6(t,e,r,n){const{value:i,onError:s}=t,a=Sh(),o=C.useRef(n),l=e({adapter:a,value:i,props:t});return C.useEffect(()=>{s&&!r(l,o.current)&&s(l,i),o.current=l},[r,s,o,l,i]),l}const aye=({utils:t,format:e})=>{let r=10,n=e,i=t.expandFormat(e);for(;i!==n;)if(n=i,i=t.expandFormat(n),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},oye=({utils:t,expandedFormat:e})=>{const r=[],{start:n,end:i}=t.escapedCharacters,s=new RegExp(`(\\${n}[^\\${i}]*\\${i})+`,"g");let a=null;for(;a=s.exec(e);)r.push({start:a.index,end:s.lastIndex-1});return r},lye=(t,e,r,n,i)=>{switch(n.type){case"year":return r.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),i).length,format:i});case"month":return r.fieldMonthPlaceholder({contentType:n.contentType,format:i});case"day":return r.fieldDayPlaceholder({format:i});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:n.contentType,format:i});case"hours":return r.fieldHoursPlaceholder({format:i});case"minutes":return r.fieldMinutesPlaceholder({format:i});case"seconds":return r.fieldSecondsPlaceholder({format:i});case"meridiem":return r.fieldMeridiemPlaceholder({format:i});default:return i}},uye=({utils:t,timezone:e,date:r,shouldRespectLeadingZeros:n,localeText:i,localizedDigits:s,now:a,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=v6(t,o),c=C6(t,e,u.contentType,u.type,o),h=n?c:u.contentType==="digit",f=r!=null&&t.isValid(r);let g=f?t.formatByString(r,o):"",m=null;if(h)if(c)m=g===""?t.formatByString(a,o).length:g.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxDigitNumber' property on it's adapter`);m=u.maxLength,f&&(g=OM(x6(dh(g,s),m),s))}return B({},u,{format:o,maxLength:m,value:g,placeholder:lye(t,e,i,u,o),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:h,startSeparator:l,endSeparator:"",modified:!1})},cye=t=>{var g;const{utils:e,expandedFormat:r,escapedParts:n}=t,i=e.date(void 0),s=[];let a="";const o=Object.keys(e.formatTokenMap).sort((m,y)=>y.length-m.length),l=/^([a-zA-Z]+)/,u=new RegExp(`^(${o.join("|")})*$`),c=new RegExp(`^(${o.join("|")})`),h=m=>n.find(y=>y.start<=m&&y.end>=m);let f=0;for(;f<r.length;){const m=h(f),y=m!=null,b=(g=l.exec(r.slice(f)))==null?void 0:g[1];if(!y&&b!=null&&u.test(b)){let x=b;for(;x.length>0;){const v=c.exec(x)[1];x=x.slice(v.length),s.push(uye(B({},t,{now:i,token:v,startSeparator:a}))),a=""}f+=b.length}else{const x=r[f];y&&(m==null?void 0:m.start)===f||(m==null?void 0:m.end)===f||(s.length===0?a+=x:s[s.length-1].endSeparator+=x),f+=1}}return s.length===0&&a.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),s},dye=({isRtl:t,formatDensity:e,sections:r})=>r.map(n=>{const i=s=>{let a=s;return t&&a!==null&&a.includes(" ")&&(a=`${a}`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=i(n.startSeparator),n.endSeparator=i(n.endSeparator),n}),lF=t=>{let e=aye(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const r=oye(B({},t,{expandedFormat:e})),n=cye(B({},t,{expandedFormat:e,escapedParts:r}));return dye(B({},t,{sections:n}))},hye=t=>{const e=$r(),r=Ts(),n=Sh(),i=Yi(),{valueManager:s,fieldValueManager:a,valueType:o,validator:l,internalProps:u,internalProps:{value:c,defaultValue:h,referenceDate:f,onChange:g,format:m,formatDensity:y="dense",selectedSections:b,onSelectedSectionsChange:x,shouldRespectLeadingZeros:v=!1,timezone:w,enableAccessibleFieldDOMStructure:P=!1}}=t,{timezone:T,value:_,handleValueChange:M}=AM({timezone:w,value:c,defaultValue:h,onChange:g,valueManager:s}),E=C.useMemo(()=>mme(e),[e]),D=C.useMemo(()=>xme(e,E,T),[e,E,T]),L=C.useCallback((J,ce=null)=>a.getSectionsFromValue(e,J,ce,Se=>lF({utils:e,timezone:T,localeText:r,localizedDigits:E,format:m,date:Se,formatDensity:y,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:P,isRtl:i})),[a,m,r,E,i,v,e,y,T,P]),[F,z]=C.useState(()=>{const J=L(_),ce={sections:J,value:_,referenceValue:s.emptyValue,tempValueStrAndroid:null},Se=hme(J),K=s.getInitialReferenceValue({referenceDate:f,value:_,utils:e,props:u,granularity:Se,timezone:T});return B({},ce,{referenceValue:K})}),[V,O]=Fa({controlled:b,default:null,name:"useField",state:"selectedSections"}),I=J=>{O(J),x==null||x(J)},H=C.useMemo(()=>YT(V,F.sections),[V,F.sections]),W=H==="all"?0:H,A=({value:J,referenceValue:ce,sections:Se})=>{if(z(Z=>B({},Z,{sections:Se,value:J,referenceValue:ce,tempValueStrAndroid:null})),s.areValuesEqual(e,F.value,J))return;const K={validationError:l({adapter:n,value:J,props:B({},u,{value:J,timezone:T})})};M(J,K)},U=(J,ce)=>{const Se=[...F.sections];return Se[J]=B({},Se[J],{value:ce,modified:!0}),Se},q=()=>{A({value:s.emptyValue,referenceValue:F.referenceValue,sections:L(s.emptyValue)})},ae=()=>{if(W==null)return;const J=F.sections[W],ce=a.getActiveDateManager(e,F,J),K=ce.getSections(F.sections).filter(re=>re.value!=="").length===(J.value===""?0:1),Z=U(W,""),ue=K?null:e.getInvalidDate(),de=ce.getNewValuesFromNewActiveDate(ue);A(B({},de,{sections:Z}))},ne=J=>{const ce=(Z,ue)=>{const de=e.parse(Z,m);if(de==null||!e.isValid(de))return null;const re=lF({utils:e,timezone:T,localeText:r,localizedDigits:E,format:m,date:de,formatDensity:y,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:P,isRtl:i});return aF(e,T,de,re,ue,!1)},Se=a.parseValueStr(J,F.referenceValue,ce),K=a.updateReferenceValue(e,Se,F.referenceValue);A({value:Se,referenceValue:K,sections:L(Se,F.sections)})},ge=({activeSection:J,newSectionValue:ce,shouldGoToNextSection:Se})=>{Se&&W<F.sections.length-1&&I(W+1);const K=a.getActiveDateManager(e,F,J),Z=U(W,ce),ue=K.getSections(Z),de=bme(e,ue,E);let re,Q;if(de!=null&&e.isValid(de)){const ee=aF(e,T,de,ue,K.referenceDate,!0);re=K.getNewValuesFromNewActiveDate(ee),Q=!0}else re=K.getNewValuesFromNewActiveDate(de),Q=(de!=null&&!e.isValid(de))!=(K.date!=null&&!e.isValid(K.date));return Q?A(B({},re,{sections:Z})):z(ee=>B({},ee,re,{sections:Z,tempValueStrAndroid:null}))},fe=J=>z(ce=>B({},ce,{tempValueStrAndroid:J}));return C.useEffect(()=>{const J=L(F.value);z(ce=>B({},ce,{sections:J}))},[m,e.locale,i]),C.useEffect(()=>{let J;s.areValuesEqual(e,F.value,_)?J=s.getTimezone(e,F.value)!==s.getTimezone(e,_):J=!0,J&&z(ce=>B({},ce,{value:_,referenceValue:a.updateReferenceValue(e,_,ce.referenceValue),sections:L(_)}))},[_]),{state:F,activeSectionIndex:W,parsedSelectedSections:H,setSelectedSections:I,clearValue:q,clearActiveSection:ae,updateSectionValue:ge,updateValueFromValueStr:ne,setTempAndroidValueStr:fe,getSectionsFromValue:L,sectionsValueBoundaries:D,localizedDigits:E,timezone:T}},fye=5e3,Qh=t=>t.saveQuery!=null,pye=({sections:t,updateSectionValue:e,sectionsValueBoundaries:r,localizedDigits:n,setTempAndroidValueStr:i,timezone:s})=>{const a=$r(),[o,l]=C.useState(null),u=bt(()=>l(null));C.useEffect(()=>{var m;o!=null&&((m=t[o.sectionIndex])==null?void 0:m.type)!==o.sectionType&&u()},[t,o,u]),C.useEffect(()=>{if(o!=null){const m=setTimeout(()=>u(),fye);return()=>{clearTimeout(m)}}return()=>{}},[o,u]);const c=({keyPressed:m,sectionIndex:y},b,x)=>{const v=m.toLowerCase(),w=t[y];if(o!=null&&(!x||x(o.value))&&o.sectionIndex===y){const T=`${o.value}${v}`,_=b(T,w);if(!Qh(_))return l({sectionIndex:y,value:T,sectionType:w.type}),_}const P=b(v,w);return Qh(P)&&!P.saveQuery?(u(),null):(l({sectionIndex:y,value:v,sectionType:w.type}),Qh(P)?null:P)},h=m=>{const y=(v,w,P)=>{const T=w.filter(_=>_.toLowerCase().startsWith(P));return T.length===0?{saveQuery:!1}:{sectionValue:T[0],shouldGoToNextSection:T.length===1}},b=(v,w,P,T)=>{const _=M=>w6(a,s,w.type,M);if(w.contentType==="letter")return y(w.format,_(w.format),v);if(P&&T!=null&&v6(a,P).contentType==="letter"){const M=_(P),E=y(P,M,v);return Qh(E)?{saveQuery:!1}:B({},E,{sectionValue:T(E.sectionValue,M)})}return{saveQuery:!1}};return c(m,(v,w)=>{switch(w.type){case"month":{const P=T=>iF(a,T,a.formats.month,w.format);return b(v,w,a.formats.month,P)}case"weekDay":{const P=(T,_)=>_.indexOf(T).toString();return b(v,w,a.formats.weekday,P)}case"meridiem":return b(v,w);default:return{saveQuery:!1}}})},f=m=>{const y=(x,v)=>{const w=dh(x,n),P=Number(w),T=r[v.type]({currentDate:null,format:v.format,contentType:v.contentType});if(P>T.maximum)return{saveQuery:!1};if(P<T.minimum)return{saveQuery:!0};const _=P*10>T.maximum||w.length===T.maximum.toString().length;return{sectionValue:S6(a,P,T,n,v),shouldGoToNextSection:_}};return c(m,(x,v)=>{if(v.contentType==="digit"||v.contentType==="digit-with-letter")return y(x,v);if(v.type==="month"){const w=C6(a,s,"digit","month","MM"),P=y(x,{type:v.type,format:"MM",hasLeadingZerosInFormat:w,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Qh(P))return P;const T=iF(a,P.sectionValue,"MM",v.format);return B({},P,{sectionValue:T})}if(v.type==="weekDay"){const w=y(x,v);if(Qh(w))return w;const P=G1(a,s,v.format)[Number(w.sectionValue)-1];return B({},w,{sectionValue:P})}return{saveQuery:!1}},x=>nF(x,n))};return{applyCharacterEditing:bt(m=>{const y=t[m.sectionIndex],x=nF(m.keyPressed,n)?f(B({},m,{keyPressed:OM(m.keyPressed,n)})):h(m);if(x==null){i(null);return}e({activeSection:y,newSectionValue:x.sectionValue,shouldGoToNextSection:x.shouldGoToNextSection})}),resetCharacterQuery:u}};function lf(t,e){return Array.isArray(e)?e.every(r=>t.indexOf(r)!==-1):t.indexOf(e)!==-1}const gye=(t,e)=>r=>{(r.key==="Enter"||r.key===" ")&&(t(r),r.preventDefault(),r.stopPropagation()),e&&e(r)},go=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?go(e.shadowRoot):e:null},M6="@media (pointer: fine)",mye=t=>{const{internalProps:{disabled:e,readOnly:r=!1},forwardedProps:{sectionListRef:n,onBlur:i,onClick:s,onFocus:a,onInput:o,onPaste:l,focused:u,autoFocus:c=!1},fieldValueManager:h,applyCharacterEditing:f,resetCharacterQuery:g,setSelectedSections:m,parsedSelectedSections:y,state:b,clearActiveSection:x,clearValue:v,updateSectionValue:w,updateValueFromValueStr:P,sectionOrder:T,areAllSectionsEmpty:_,sectionsValueBoundaries:M}=t,E=C.useRef(null),D=Er(n,E),L=Ts(),F=$r(),z=Do(),[V,O]=C.useState(!1),I=C.useMemo(()=>({syncSelectionToDOM:()=>{if(!E.current)return;const Q=document.getSelection();if(!Q)return;if(y==null){Q.rangeCount>0&&E.current.getRoot().contains(Q.getRangeAt(0).startContainer)&&Q.removeAllRanges(),V&&E.current.getRoot().blur();return}if(!E.current.getRoot().contains(go(document)))return;const ee=new window.Range;let oe;y==="all"?oe=E.current.getRoot():b.sections[y].type==="empty"?oe=E.current.getSectionContainer(y):oe=E.current.getSectionContent(y),ee.selectNodeContents(oe),oe.focus(),Q.removeAllRanges(),Q.addRange(ee)},getActiveSectionIndexFromDOM:()=>{const Q=go(document);return!Q||!E.current||!E.current.getRoot().contains(Q)?null:E.current.getSectionIndexFromDOMElement(Q)},focusField:(Q=0)=>{if(!E.current)return;const ee=YT(Q,b.sections);O(!0),E.current.getSectionContent(ee).focus()},setSelectedSections:Q=>{if(!E.current)return;const ee=YT(Q,b.sections);O((ee==="all"?0:ee)!==null),m(Q)},isFieldFocused:()=>{const Q=go(document);return!!E.current&&E.current.getRoot().contains(Q)}}),[y,m,b.sections,V]),H=bt(Q=>{if(!E.current)return;const ee=b.sections[Q];E.current.getSectionContent(Q).innerHTML=ee.value||ee.placeholder,I.syncSelectionToDOM()}),W=bt((Q,...ee)=>{Q.isDefaultPrevented()||!E.current||(O(!0),s==null||s(Q,...ee),y==="all"?setTimeout(()=>{const oe=document.getSelection().getRangeAt(0).startOffset;if(oe===0){m(T.startIndex);return}let Me=0,ke=0;for(;ke<oe&&Me<b.sections.length;){const j=b.sections[Me];Me+=1,ke+=`${j.startSeparator}${j.value||j.placeholder}${j.endSeparator}`.length}m(Me-1)}):V?E.current.getRoot().contains(Q.target)||m(T.startIndex):(O(!0),m(T.startIndex)))}),A=bt(Q=>{if(o==null||o(Q),!E.current||y!=="all")return;const oe=Q.target.textContent??"";E.current.getRoot().innerHTML=b.sections.map(Me=>`${Me.startSeparator}${Me.value||Me.placeholder}${Me.endSeparator}`).join(""),I.syncSelectionToDOM(),oe.length===0||oe.charCodeAt(0)===10?(g(),v(),m("all")):oe.length>1?P(oe):f({keyPressed:oe,sectionIndex:0})}),U=bt(Q=>{if(l==null||l(Q),r||y!=="all"){Q.preventDefault();return}const ee=Q.clipboardData.getData("text");Q.preventDefault(),g(),P(ee)}),q=bt((...Q)=>{if(a==null||a(...Q),V||!E.current)return;O(!0),E.current.getSectionIndexFromDOMElement(go(document))!=null||m(T.startIndex)}),ae=bt((...Q)=>{i==null||i(...Q),setTimeout(()=>{if(!E.current)return;const ee=go(document);!E.current.getRoot().contains(ee)&&(O(!1),m(null))})}),ne=bt(Q=>ee=>{ee.isDefaultPrevented()||r||m(Q)}),ge=bt(Q=>{Q.preventDefault()}),fe=bt(Q=>()=>{r||m(Q)}),J=bt(Q=>{if(Q.preventDefault(),r||typeof y!="number")return;const ee=b.sections[y],oe=Q.clipboardData.getData("text"),Me=/^[a-zA-Z]+$/.test(oe),ke=/^[0-9]+$/.test(oe),j=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(oe);ee.contentType==="letter"&&Me||ee.contentType==="digit"&&ke||ee.contentType==="digit-with-letter"&&j?(g(),w({activeSection:ee,newSectionValue:oe,shouldGoToNextSection:!0})):!Me&&!ke&&(g(),P(oe))}),ce=bt(Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="none"}),Se=bt(Q=>{if(!E.current)return;const ee=Q.target,oe=ee.textContent??"",Me=E.current.getSectionIndexFromDOMElement(ee),ke=b.sections[Me];if(r||!E.current){H(Me);return}if(oe.length===0){if(ke.value===""){H(Me);return}const j=Q.nativeEvent.inputType;if(j==="insertParagraph"||j==="insertLineBreak"){H(Me);return}g(),x();return}f({keyPressed:oe,sectionIndex:Me}),H(Me)});In(()=>{if(!(!V||!E.current)){if(y==="all")E.current.getRoot().focus();else if(typeof y=="number"){const Q=E.current.getSectionContent(y);Q&&Q.focus()}}},[y,V]);const K=C.useMemo(()=>b.sections.reduce((Q,ee)=>(Q[ee.type]=M[ee.type]({currentDate:null,contentType:ee.contentType,format:ee.format}),Q),{}),[M,b.sections]),Z=y==="all",ue=C.useMemo(()=>b.sections.map((Q,ee)=>{const oe=!Z&&!e&&!r;return{container:{"data-sectionindex":ee,onClick:ne(ee)},content:{tabIndex:Z||ee>0?-1:0,contentEditable:!Z&&!e&&!r,role:"spinbutton",id:`${z}-${Q.type}`,"aria-labelledby":`${z}-${Q.type}`,"aria-readonly":r,"aria-valuenow":Tme(Q,F),"aria-valuemin":K[Q.type].minimum,"aria-valuemax":K[Q.type].maximum,"aria-valuetext":Q.value?_me(Q,F):L.empty,"aria-label":L[Q.type],"aria-disabled":e,spellCheck:oe?!1:void 0,autoCapitalize:oe?"off":void 0,autoCorrect:oe?"off":void 0,[parseInt(C.version,10)>=17?"enterKeyHint":"enterkeyhint"]:oe?"next":void 0,children:Q.value||Q.placeholder,onInput:Se,onPaste:J,onFocus:fe(ee),onDragOver:ce,onMouseUp:ge,inputMode:Q.contentType==="letter"?"text":"numeric"},before:{children:Q.startSeparator},after:{children:Q.endSeparator}}}),[b.sections,fe,J,ce,Se,ne,ge,e,r,Z,L,F,K,z]),de=bt(Q=>{P(Q.target.value)}),re=C.useMemo(()=>_?"":h.getV7HiddenInputValueFromSections(b.sections),[_,b.sections,h]);return C.useEffect(()=>{if(E.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));c&&E.current&&E.current.getSectionContent(T.startIndex).focus()},[]),{interactions:I,returnedValue:{autoFocus:c,readOnly:r,focused:u??V,sectionListRef:D,onBlur:ae,onClick:W,onFocus:q,onInput:A,onPaste:U,enableAccessibleFieldDOMStructure:!0,elements:ue,tabIndex:y===0?-1:0,contentEditable:Z,value:re,onChange:de,areAllSectionsEmpty:_}}},Tf=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),yye=(t,e,r)=>{let n=0,i=r?1:0;const s=[];for(let a=0;a<t.length;a+=1){const o=t[a],l=$M(o,r?"input-rtl":"input-ltr",e),u=`${o.startSeparator}${l}${o.endSeparator}`,c=Tf(u).length,h=u.length,f=Tf(l),g=i+(f===""?0:l.indexOf(f[0]))+o.startSeparator.length,m=g+f.length;s.push(B({},o,{start:n,end:n+c,startInInput:g,endInInput:m})),n+=c,i+=h}return s},bye=t=>{const e=Yi(),r=C.useRef(),{forwardedProps:{onFocus:n,onClick:i,onPaste:s,onBlur:a,inputRef:o,placeholder:l},internalProps:{readOnly:u=!1},parsedSelectedSections:c,activeSectionIndex:h,state:f,fieldValueManager:g,valueManager:m,applyCharacterEditing:y,resetCharacterQuery:b,updateSectionValue:x,updateValueFromValueStr:v,clearActiveSection:w,clearValue:P,setTempAndroidValueStr:T,setSelectedSections:_,getSectionsFromValue:M,areAllSectionsEmpty:E,localizedDigits:D}=t,L=C.useRef(null),F=Er(o,L),z=C.useMemo(()=>yye(f.sections,D,e),[f.sections,D,e]),V=C.useMemo(()=>({syncSelectionToDOM:()=>{if(!L.current)return;if(c==null){L.current.scrollLeft&&(L.current.scrollLeft=0);return}if(L.current!==go(document))return;const J=L.current.scrollTop;if(c==="all")L.current.select();else{const ce=z[c],Se=ce.type==="empty"?ce.startInInput-ce.startSeparator.length:ce.startInInput,K=ce.type==="empty"?ce.endInInput+ce.endSeparator.length:ce.endInInput;(Se!==L.current.selectionStart||K!==L.current.selectionEnd)&&L.current===go(document)&&L.current.setSelectionRange(Se,K)}L.current.scrollTop=J},getActiveSectionIndexFromDOM:()=>{var Z;const J=L.current.selectionStart??0,ce=L.current.selectionEnd??0,Se=!!((Z=L.current)!=null&&Z.readOnly);if(J===0&&ce===0||Se)return null;const K=J<=z[0].startInInput?1:z.findIndex(ue=>ue.startInInput-ue.startSeparator.length>J);return K===-1?z.length-1:K-1},focusField:(J=0)=>{var ce;(ce=L.current)==null||ce.focus(),_(J)},setSelectedSections:J=>_(J),isFieldFocused:()=>L.current===go(document)}),[L,c,z,_]),O=()=>{if(u){_(null);return}const J=L.current.selectionStart??0;let ce;J<=z[0].startInInput||J>=z[z.length-1].endInInput?ce=1:ce=z.findIndex(K=>K.startInInput-K.startSeparator.length>J);const Se=ce===-1?z.length-1:ce-1;_(Se)},I=bt((...J)=>{n==null||n(...J);const ce=L.current;clearTimeout(r.current),r.current=setTimeout(()=>{!ce||ce!==L.current||h!=null||u||(ce.value.length&&Number(ce.selectionEnd)-Number(ce.selectionStart)===ce.value.length?_("all"):O())})}),H=bt((J,...ce)=>{J.isDefaultPrevented()||(i==null||i(J,...ce),O())}),W=bt(J=>{if(s==null||s(J),J.preventDefault(),u)return;const ce=J.clipboardData.getData("text");if(typeof c=="number"){const Se=f.sections[c],K=/^[a-zA-Z]+$/.test(ce),Z=/^[0-9]+$/.test(ce),ue=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ce);if(Se.contentType==="letter"&&K||Se.contentType==="digit"&&Z||Se.contentType==="digit-with-letter"&&ue){b(),x({activeSection:Se,newSectionValue:ce,shouldGoToNextSection:!0});return}if(K||Z)return}b(),v(ce)}),A=bt((...J)=>{a==null||a(...J),_(null)}),U=bt(J=>{if(u)return;const ce=J.target.value;if(ce===""){b(),P();return}const Se=J.nativeEvent.data,K=Se&&Se.length>1,Z=K?Se:ce,ue=Tf(Z);if(h==null||K){v(K?Se:ue);return}let de;if(c==="all"&&ue.length===1)de=ue;else{const re=Tf(g.getV6InputValueFromSections(z,D,e));let Q=-1,ee=-1;for(let j=0;j<re.length;j+=1)Q===-1&&re[j]!==ue[j]&&(Q=j),ee===-1&&re[re.length-j-1]!==ue[ue.length-j-1]&&(ee=j);const oe=z[h];if(Q<oe.start||re.length-ee-1>oe.end)return;const ke=ue.length-re.length+oe.end-Tf(oe.endSeparator||"").length;de=ue.slice(oe.start+Tf(oe.startSeparator||"").length,ke)}if(de.length===0){kme()?T(Z):(b(),w());return}y({keyPressed:de,sectionIndex:h})}),q=C.useMemo(()=>l!==void 0?l:g.getV6InputValueFromSections(M(m.emptyValue),D,e),[l,g,M,m.emptyValue,D,e]),ae=C.useMemo(()=>f.tempValueStrAndroid??g.getV6InputValueFromSections(f.sections,D,e),[f.sections,g,f.tempValueStrAndroid,D,e]);C.useEffect(()=>(L.current&&L.current===go(document)&&_("all"),()=>{clearTimeout(r.current)}),[]);const ne=C.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),fe=!(L.current&&L.current===go(document))&&E;return{interactions:V,returnedValue:{readOnly:u,onBlur:A,onClick:H,onFocus:I,onPaste:W,inputRef:F,enableAccessibleFieldDOMStructure:!1,placeholder:q,inputMode:ne,autoComplete:"off",value:fe?"":ae,onChange:U}}},N6=t=>{const e=$r(),{internalProps:r,internalProps:{unstableFieldRef:n,minutesStep:i,enableAccessibleFieldDOMStructure:s=!1,disabled:a=!1,readOnly:o=!1},forwardedProps:{onKeyDown:l,error:u,clearable:c,onClear:h},fieldValueManager:f,valueManager:g,validator:m}=t,y=Yi(),b=hye(t),{state:x,activeSectionIndex:v,parsedSelectedSections:w,setSelectedSections:P,clearValue:T,clearActiveSection:_,updateSectionValue:M,setTempAndroidValueStr:E,sectionsValueBoundaries:D,localizedDigits:L,timezone:F}=b,z=pye({sections:x.sections,updateSectionValue:M,sectionsValueBoundaries:D,localizedDigits:L,setTempAndroidValueStr:E,timezone:F}),{resetCharacterQuery:V}=z,O=g.areValuesEqual(e,x.value,g.emptyValue),I=s?mye:bye,H=C.useMemo(()=>Cme(x.sections,y&&!s),[x.sections,y,s]),{returnedValue:W,interactions:A}=I(B({},t,b,z,{areAllSectionsEmpty:O,sectionOrder:H})),U=bt(J=>{switch(l==null||l(J),!0){case((J.ctrlKey||J.metaKey)&&J.key.toLowerCase()==="a"&&!J.shiftKey&&!J.altKey):{J.preventDefault(),P("all");break}case J.key==="ArrowRight":{if(J.preventDefault(),w==null)P(H.startIndex);else if(w==="all")P(H.endIndex);else{const ce=H.neighbors[w].rightIndex;ce!==null&&P(ce)}break}case J.key==="ArrowLeft":{if(J.preventDefault(),w==null)P(H.endIndex);else if(w==="all")P(H.startIndex);else{const ce=H.neighbors[w].leftIndex;ce!==null&&P(ce)}break}case J.key==="Delete":{if(J.preventDefault(),o)break;w==null||w==="all"?T():_(),V();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(J.key):{if(J.preventDefault(),o||v==null)break;const ce=x.sections[v],Se=f.getActiveDateManager(e,x,ce),K=yme(e,F,ce,J.key,D,L,Se.date,{minutesStep:i});M({activeSection:ce,newSectionValue:K,shouldGoToNextSection:!1});break}}});In(()=>{A.syncSelectionToDOM()});const q=B6(B({},r,{value:x.value,timezone:F}),m,g.isSameError,g.defaultErrorState),ae=C.useMemo(()=>u!==void 0?u:g.hasError(q),[g,q,u]);C.useEffect(()=>{!ae&&v==null&&V()},[x.referenceValue,v,ae]),C.useEffect(()=>{x.tempValueStrAndroid!=null&&v!=null&&(V(),_())},[x.sections]),C.useImperativeHandle(n,()=>({getSections:()=>x.sections,getActiveSectionIndex:A.getActiveSectionIndexFromDOM,setSelectedSections:A.setSelectedSections,focusField:A.focusField,isFieldFocused:A.isFieldFocused}));const ne=bt((J,...ce)=>{J.preventDefault(),h==null||h(J,...ce),T(),A.isFieldFocused()?P(H.startIndex):A.focusField(0)}),ge={onKeyDown:U,onClear:ne,error:ae,clearable:!!(c&&!O&&!o&&!a)},fe={disabled:a,readOnly:o};return B({},t.forwardedProps,ge,fe,W)},j1=({props:t,value:e,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:o,timezone:l}=t,u=r.utils.date(void 0,l),c=No(r.utils,t.minDate,r.defaultDates.minDate),h=No(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(o&&r.utils.isAfterDay(e,u)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,u)):return"disablePast";case!!(c&&r.utils.isBeforeDay(e,c)):return"minDate";case!!(h&&r.utils.isAfterDay(e,h)):return"maxDate";default:return null}},XT=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],qT=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],E6=["minDateTime","maxDateTime"],vye=[...XT,...qT,...E6],Y1=t=>vye.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{}),wye=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],R6=(t,e)=>{const r=B({},t),n={},i=s=>{r.hasOwnProperty(s)&&(n[s]=r[s],delete r[s])};return wye.forEach(i),e==="date"?XT.forEach(i):e==="time"?qT.forEach(i):e==="date-time"&&(XT.forEach(i),qT.forEach(i),E6.forEach(i)),{forwardedProps:r,internalProps:n}},xye=t=>{const e=$r(),r=t0();return B({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:No(e,t.minDate,r.minDate),maxDate:No(e,t.maxDate,r.maxDate)})},Sye=t=>{const e=$r(),n=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return B({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??n})},kye=t=>{const e=xye(t),{forwardedProps:r,internalProps:n}=R6(e,"date");return N6({forwardedProps:r,internalProps:n,valueManager:_s,fieldValueManager:_6,validator:j1,valueType:"date"})},Cye=["clearable","onClear","InputProps","sx","slots","slotProps"],_ye=["ownerState"],D6=t=>{const e=Ts(),{clearable:r,onClear:n,InputProps:i,sx:s,slots:a,slotProps:o}=t,l=Re(t,Cye),u=(a==null?void 0:a.clearButton)??ms,c=sr({elementType:u,externalSlotProps:o==null?void 0:o.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),h=Re(c,_ye),f=(a==null?void 0:a.clearIcon)??wge,g=sr({elementType:f,externalSlotProps:o==null?void 0:o.clearIcon,ownerState:{}});return B({},l,{InputProps:B({},i,{endAdornment:k.jsxs(C.Fragment,{children:[r&&k.jsx(BV,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:k.jsx(u,B({},h,{onClick:n,children:k.jsx(f,B({fontSize:"small"},g))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function Tye(t){return dt("MuiPickersTextField",t)}ht("MuiPickersTextField",["root","focused","disabled","error","required"]);function Pye(t){return dt("MuiPickersInputBase",t)}const Of=ht("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function Bye(t){return dt("MuiPickersSectionList",t)}const Pg=ht("MuiPickersSectionList",["root","section","sectionContent"]),Mye=["slots","slotProps","elements","sectionListRef"],I6=he("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),L6=he("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),F6=he("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),A6=he("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),Nye=t=>{const{classes:e}=t;return ut({root:["root"],section:["section"],sectionContent:["sectionContent"]},Bye,e)};function Eye(t){const{slots:e,slotProps:r,element:n,classes:i}=t,s=(e==null?void 0:e.section)??L6,a=sr({elementType:s,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:n.container,className:i.section,ownerState:{}}),o=(e==null?void 0:e.sectionContent)??A6,l=sr({elementType:o,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),u=(e==null?void 0:e.sectionSeparator)??F6,c=sr({elementType:u,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),h=sr({elementType:u,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return k.jsxs(s,B({},a,{children:[k.jsx(u,B({},c)),k.jsx(o,B({},l)),k.jsx(u,B({},h))]}))}const Rye=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:s,elements:a,sectionListRef:o}=n,l=Re(n,Mye),u=Nye(n),c=C.useRef(null),h=Er(r,c),f=y=>{if(!c.current)throw new Error(`MUI X: Cannot call sectionListRef.${y} before the mount of the component.`);return c.current};C.useImperativeHandle(o,()=>({getRoot(){return f("getRoot")},getSectionContainer(y){return f("getSectionContainer").querySelector(`.${Pg.section}[data-sectionindex="${y}"]`)},getSectionContent(y){return f("getSectionContent").querySelector(`.${Pg.section}[data-sectionindex="${y}"] .${Pg.sectionContent}`)},getSectionIndexFromDOMElement(y){const b=f("getSectionIndexFromDOMElement");if(y==null||!b.contains(y))return null;let x=null;return y.classList.contains(Pg.section)?x=y:y.classList.contains(Pg.sectionContent)&&(x=y.parentElement),x==null?null:Number(x.dataset.sectionindex)}}));const g=(i==null?void 0:i.root)??I6,m=sr({elementType:g,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:h,suppressContentEditableWarning:!0},className:u.root,ownerState:{}});return k.jsx(g,B({},m,{children:m.contentEditable?a.map(({content:y,before:b,after:x})=>`${b.children}${y.children}${x.children}`).join(""):k.jsx(C.Fragment,{children:a.map((y,b)=>k.jsx(Eye,{slots:i,slotProps:s,element:y,classes:u},b))})}))}),Dye=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Iye=t=>Math.round(t*1e5)/1e5,X1=he("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>B({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Iye(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),zM=he(I6,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:r,filled:n,label:i})=>!e&&!r&&!n&&i==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),Lye=he(L6,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),Fye=he(A6,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Aye=he(F6,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Oye=he("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(B({},KB)),$ye=t=>{const{focused:e,disabled:r,error:n,classes:i,fullWidth:s,readOnly:a,color:o,size:l,endAdornment:u,startAdornment:c}=t,h={root:["root",e&&!r&&"focused",r&&"disabled",a&&"readOnly",n&&"error",s&&"fullWidth",`color${je(o)}`,l==="small"&&"inputSizeSmall",!!c&&"adornedStart",!!u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return ut(h,Pye,i)},WM=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:s,value:a,onChange:o,id:l,endAdornment:u,startAdornment:c,renderSuffix:h,slots:f,slotProps:g,contentEditable:m,tabIndex:y,onInput:b,onPaste:x,onKeyDown:v,name:w,readOnly:P,inputProps:T,inputRef:_,sectionListRef:M}=n,E=Re(n,Dye),D=C.useRef(null),L=Er(r,D),F=Er(T==null?void 0:T.ref,_),z=Yi(),V=pa();if(!V)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const O=q=>{var ae;if(V.disabled){q.stopPropagation();return}(ae=V.onFocus)==null||ae.call(V,q)};C.useEffect(()=>{V&&V.setAdornedStart(!!c)},[V,c]),C.useEffect(()=>{V&&(s?V.onEmpty():V.onFilled())},[V,s]);const I=B({},n,V,{isRtl:z}),H=$ye(I),W=(f==null?void 0:f.root)||X1,A=sr({elementType:W,externalSlotProps:g==null?void 0:g.root,externalForwardedProps:E,additionalProps:{"aria-invalid":V.error,ref:L},className:H.root,ownerState:I}),U=(f==null?void 0:f.input)||zM;return k.jsxs(W,B({},A,{children:[c,k.jsx(Rye,{sectionListRef:M,elements:i,contentEditable:m,tabIndex:y,className:H.sectionsContainer,onFocus:O,onBlur:V.onBlur,onInput:b,onPaste:x,onKeyDown:v,slots:{root:U,section:Lye,sectionContent:Fye,sectionSeparator:Aye},slotProps:{root:{ownerState:I},sectionContent:{className:Of.sectionContent},sectionSeparator:({position:q})=>({className:q==="before"?Of.sectionBefore:Of.sectionAfter})}}),u,h?h(B({},V)):null,k.jsx(Oye,B({name:w,className:H.input,value:a,onChange:o,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:P,required:V.required,disabled:V.disabled},T,{ref:F}))]}))});function Vye(t){return dt("MuiPickersOutlinedInput",t)}const zo=B({},Of,ht("MuiPickersOutlinedInput",["root","notchedOutline","input"])),zye=["children","className","label","notched","shrink"],Wye=he("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),uF=he("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),Hye=he("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function Uye(t){const{className:e,label:r}=t,n=Re(t,zye),i=r!=null&&r!=="",s=B({},t,{withLabel:i});return k.jsx(Wye,B({"aria-hidden":!0,className:e},n,{ownerState:s,children:k.jsx(Hye,{ownerState:s,children:i?k.jsx(uF,{children:r}):k.jsx(uF,{className:"notranslate",children:""})})}))}const Gye=["label","autoFocus","ownerState","notched"],jye=he(X1,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${zo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${zo.focused} .${zo.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${zo.disabled}`]:{[`& .${zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${zo.error} .${zo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(r=>{var n;return((n=(t.vars??t).palette[r])==null?void 0:n.main)??!1}).map(r=>({props:{color:r},style:{[`&.${zo.focused}:not(.${zo.error}) .${zo.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}}))}}),Yye=he(zM,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Xye=t=>{const{classes:e}=t,n=ut({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Vye,e);return B({},e,n)},O6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:s,notched:a}=n,o=Re(n,Gye),l=pa(),u=B({},n,s,l,{color:(l==null?void 0:l.color)||"primary"}),c=Xye(u);return k.jsx(WM,B({slots:{root:jye,input:Yye},renderSuffix:h=>k.jsx(Uye,{shrink:!!(a||h.adornedStart||h.focused||h.filled),notched:!!(a||h.adornedStart||h.focused||h.filled),className:c.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?k.jsxs(C.Fragment,{children:[i,"","*"]}):i,ownerState:u})},o,{label:i,classes:c,ref:r}))});O6.muiName="Input";function qye(t){return dt("MuiPickersFilledInput",t)}const yd=B({},Of,ht("MuiPickersFilledInput",["root","underline","input"])),Kye=["label","autoFocus","disableUnderline","ownerState"],Qye=he(X1,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>lm(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${yd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${yd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a].main).map(a=>{var o;return{props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[a])==null?void 0:o.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yd.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yd.disabled}, .${yd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${yd.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:a})=>!!a,style:{paddingLeft:12}},{props:({endAdornment:a})=>!!a,style:{paddingRight:12}}]}}),Jye=he(zM,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Zye=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},qye,e);return B({},e,i)},$6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=Re(n,Kye),l=pa(),u=B({},n,a,l,{color:(l==null?void 0:l.color)||"primary"}),c=Zye(u);return k.jsx(WM,B({slots:{root:Qye,input:Jye},slotProps:{root:{disableUnderline:s}}},o,{label:i,classes:c,ref:r}))});$6.muiName="Input";function e0e(t){return dt("MuiPickersFilledInput",t)}const Bg=B({},Of,ht("MuiPickersInput",["root","input"])),t0e=["label","autoFocus","disableUnderline","ownerState"],r0e=he(X1,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Bg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Bg.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Bg.disabled}, .${Bg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Bg.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),n0e=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},e0e,e);return B({},e,i)},V6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=Re(n,t0e),l=pa(),u=B({},n,a,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),c=n0e(u);return k.jsx(WM,B({slots:{root:r0e}},o,{label:i,classes:c,ref:r}))});V6.muiName="Input";const i0e=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],s0e={standard:V6,filled:$6,outlined:O6},a0e=he(SV,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),o0e=t=>{const{focused:e,disabled:r,classes:n,required:i}=t;return ut({root:["root",e&&!r&&"focused",r&&"disabled",i&&"required"]},Tye,n)},z6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:s,className:a,color:o="primary",disabled:l=!1,error:u=!1,variant:c="outlined",required:h=!1,InputProps:f,inputProps:g,inputRef:m,sectionListRef:y,elements:b,areAllSectionsEmpty:x,onClick:v,onKeyDown:w,onPaste:P,onInput:T,endAdornment:_,startAdornment:M,tabIndex:E,contentEditable:D,focused:L,value:F,onChange:z,fullWidth:V,id:O,name:I,helperText:H,FormHelperTextProps:W,label:A,InputLabelProps:U}=n,q=Re(n,i0e),ae=C.useRef(null),ne=Er(r,ae),ge=Do(O),fe=H&&ge?`${ge}-helper-text`:void 0,J=A&&ge?`${ge}-label`:void 0,ce=B({},n,{color:o,disabled:l,error:u,focused:L,required:h,variant:c}),Se=o0e(ce),K=s0e[c];return k.jsxs(a0e,B({className:Oe(Se.root,a),ref:ne,focused:L,onFocus:i,onBlur:s,disabled:l,variant:c,error:u,color:o,fullWidth:V,required:h,ownerState:ce},q,{children:[k.jsx(MV,B({htmlFor:ge,id:J},U,{children:A})),k.jsx(K,B({elements:b,areAllSectionsEmpty:x,onClick:v,onKeyDown:w,onInput:T,onPaste:P,endAdornment:_,startAdornment:M,tabIndex:E,contentEditable:D,value:F,onChange:z,id:ge,fullWidth:V,inputProps:g,inputRef:m,sectionListRef:y,label:A,name:I,role:"group","aria-labelledby":J},f)),H&&k.jsx(CV,B({id:fe},W,{children:H}))]}))}),l0e=["enableAccessibleFieldDOMStructure"],u0e=["InputProps","readOnly"],c0e=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],W6=t=>{let{enableAccessibleFieldDOMStructure:e}=t,r=Re(t,l0e);if(e){const{InputProps:h,readOnly:f}=r,g=Re(r,u0e);return B({},g,{InputProps:B({},h??{},{readOnly:f})})}const{onPaste:n,onKeyDown:i,inputMode:s,readOnly:a,InputProps:o,inputProps:l,inputRef:u}=r,c=Re(r,c0e);return B({},c,{InputProps:B({},o??{},{readOnly:a}),inputProps:B({},l??{},{inputMode:s,onPaste:n,onKeyDown:i,ref:u})})},d0e=["slots","slotProps","InputProps","inputProps"],H6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDateField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=Re(n,d0e),u=n,c=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?z6:Qm),h=sr({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:r},ownerState:u});h.inputProps=B({},o,h.inputProps),h.InputProps=B({},a,h.InputProps);const f=kye(h),g=W6(f),m=D6(B({},g,{slots:i,slotProps:s}));return k.jsx(c,B({},m))}),HM=({adapter:t,value:e,props:r})=>{if(e===null)return null;const{minTime:n,maxTime:i,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:o=!1,disablePast:l,disableFuture:u,timezone:c}=r,h=t.utils.date(void 0,c),f=r0(o,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&f(n,e)):return"minTime";case!!(i&&f(e,i)):return"maxTime";case!!(u&&t.utils.isAfter(e,h)):return"disableFuture";case!!(l&&t.utils.isBefore(e,h)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},h0e=t=>{const e=Sye(t),{forwardedProps:r,internalProps:n}=R6(e,"time");return N6({forwardedProps:r,internalProps:n,valueManager:_s,fieldValueManager:_6,validator:HM,valueType:"time"})},f0e=["slots","slotProps","InputProps","inputProps"],U6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTimeField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=Re(n,f0e),u=n,c=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?z6:Qm),h=sr({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:u,additionalProps:{ref:r}});h.inputProps=B({},o,h.inputProps),h.InputProps=B({},a,h.InputProps);const f=h0e(h),g=W6(f),m=D6(B({},g,{slots:i,slotProps:s}));return k.jsx(c,B({},m))}),G6=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o})=>{const l=Sh();return C.useCallback(u=>j1({adapter:l,value:u,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o}})!==null,[l,t,e,r,n,i,s,a,o])},p0e=(t,e,r)=>(n,i)=>{switch(i.type){case"changeMonth":return B({},n,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return B({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&i.focusedDay!=null&&r.isSameDay(i.focusedDay,n.focusedDay))return n;const s=i.focusedDay!=null&&!e&&!r.isSameMonth(n.currentMonth,i.focusedDay);return B({},n,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:s?r.startOfMonth(i.focusedDay):n.currentMonth,slideDirection:i.focusedDay!=null&&r.isAfterDay(i.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},g0e=t=>{const{value:e,referenceDate:r,disableFuture:n,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:o,onMonthChange:l,reduceAnimations:u,shouldDisableDate:c,timezone:h}=t,f=$r(),g=C.useRef(p0e(!!u,s,f)).current,m=C.useMemo(()=>_s.getInitialReferenceValue({value:e,utils:f,timezone:h,props:t,referenceDate:r,granularity:qo.day}),[]),[y,b]=C.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:f.startOfMonth(m),slideDirection:"left"}),x=C.useCallback(_=>{b(B({type:"changeMonth"},_)),l&&l(_.newMonth)},[l]),v=C.useCallback(_=>{const M=_;f.isSameMonth(M,y.currentMonth)||x({newMonth:f.startOfMonth(M),direction:f.isAfterDay(M,y.currentMonth)?"left":"right"})},[y.currentMonth,x,f]),w=G6({shouldDisableDate:c,minDate:o,maxDate:a,disableFuture:n,disablePast:i,timezone:h}),P=C.useCallback(()=>{b({type:"finishMonthSwitchingAnimation"})},[]),T=bt((_,M)=>{w(_)||b({type:"changeFocusedDay",focusedDay:_,withoutMonthSwitchingAnimation:M})});return{referenceDate:m,calendarState:y,changeMonth:v,changeFocusedDay:T,isDateDisabled:w,onMonthSwitchingAnimationEnd:P,handleChangeMonth:x}},m0e=t=>dt("MuiPickersFadeTransitionGroup",t);ht("MuiPickersFadeTransitionGroup",["root"]);const y0e=t=>{const{classes:e}=t;return ut({root:["root"]},m0e,e)},b0e=he(aM,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function j6(t){const e=tt({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=y0e(e),o=Ga();return i?r:k.jsx(b0e,{className:Oe(a.root,n),children:k.jsx(Ep,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:o.transitions.duration.enteringScreen,enter:o.transitions.duration.enteringScreen,exit:0},children:r},s)})}const v0e=t=>dt("MuiPickersSlideTransition",t),eo=ht("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),w0e=["children","className","reduceAnimations","slideDirection","transKey","classes"],x0e=t=>{const{classes:e,slideDirection:r}=t,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return ut(n,v0e,e)},S0e=he(aM,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${eo["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${eo["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${eo.slideEnterActive}`]:e.slideEnterActive},{[`.${eo.slideExit}`]:e.slideExit},{[`.${eo["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${eo["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${eo["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${eo["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${eo.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${eo.slideExit}`]:{transform:"translate(0%)"},[`& .${eo["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${eo["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function k0e(t){const e=tt({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=Re(e,w0e),o=x0e(e),l=Ga();if(i)return k.jsx("div",{className:Oe(o.root,n),children:r});const u={exit:o.exit,enterActive:o.enterActive,enter:o.enter,exitActive:o.exitActive};return k.jsx(S0e,{className:Oe(o.root,n),childFactory:c=>C.cloneElement(c,{classNames:u}),role:"presentation",children:k.jsx(Yre,B({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},a,{children:r}),s)})}const C0e=t=>dt("MuiDayCalendar",t);ht("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const _0e=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],T0e=["ownerState"],P0e=t=>{const{classes:e}=t;return ut({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},C0e,e)},Y6=(ry+W1*2)*6,B0e=he("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),M0e=he("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),N0e=he(Kr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),E0e=he(Kr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),R0e=he(Kr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>B({},t.typography.caption,{width:ry,height:ry,padding:0,margin:`0 ${W1}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),D0e=he("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Y6}),I0e=he(k0e,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:Y6}),L0e=he("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),F0e=he("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${W1}px 0`,display:"flex",justifyContent:"center"});function A0e(t){let{parentProps:e,day:r,focusableDay:n,selectedDays:i,isDateDisabled:s,currentMonthNumber:a,isViewFocused:o}=t,l=Re(t,_0e);const{disabled:u,disableHighlightToday:c,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:f,slots:g,slotProps:m,timezone:y}=e,b=$r(),x=kh(y),v=n!==null&&b.isSameDay(r,n),w=i.some(z=>b.isSameDay(z,r)),P=b.isSameDay(r,x),T=(g==null?void 0:g.day)??sye,_=sr({elementType:T,externalSlotProps:m==null?void 0:m.day,additionalProps:B({disableHighlightToday:c,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:h,"data-timestamp":b.toJsDate(r).valueOf()},l),ownerState:B({},e,{day:r,selected:w})}),M=Re(_,T0e),E=C.useMemo(()=>u||s(r),[u,s,r]),D=C.useMemo(()=>b.getMonth(r)!==a,[b,r,a]),L=C.useMemo(()=>{const z=b.startOfMonth(b.setMonth(r,a));return f?b.isSameDay(r,b.startOfWeek(z)):b.isSameDay(r,z)},[a,r,f,b]),F=C.useMemo(()=>{const z=b.endOfMonth(b.setMonth(r,a));return f?b.isSameDay(r,b.endOfWeek(z)):b.isSameDay(r,z)},[a,r,f,b]);return k.jsx(T,B({},M,{day:r,disabled:E,autoFocus:o&&v,today:P,outsideCurrentMonth:D,isFirstVisibleCell:L,isLastVisibleCell:F,selected:w,tabIndex:v?0:-1,"aria-selected":w,"aria-current":P?"date":void 0}))}function O0e(t){const e=tt({props:t,name:"MuiDayCalendar"}),r=$r(),{onFocusedDayChange:n,className:i,currentMonth:s,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:h,reduceAnimations:f,renderLoading:g=()=>k.jsx("span",{children:"..."}),slideDirection:m,TransitionProps:y,disablePast:b,disableFuture:x,minDate:v,maxDate:w,shouldDisableDate:P,shouldDisableMonth:T,shouldDisableYear:_,dayOfWeekFormatter:M=ke=>r.format(ke,"weekdayShort").charAt(0).toUpperCase(),hasFocus:E,onFocusedViewChange:D,gridLabelId:L,displayWeekNumber:F,fixedWeekNumber:z,autoFocus:V,timezone:O}=e,I=kh(O),H=P0e(e),W=Yi(),A=G6({shouldDisableDate:P,shouldDisableMonth:T,shouldDisableYear:_,minDate:v,maxDate:w,disablePast:b,disableFuture:x,timezone:O}),U=Ts(),[q,ae]=Fa({name:"DayCalendar",state:"hasFocus",controlled:E,default:V??!1}),[ne,ge]=C.useState(()=>o||I),fe=bt(ke=>{h||u(ke)}),J=ke=>{A(ke)||(n(ke),ge(ke),D==null||D(!0),ae(!0))},ce=bt((ke,j)=>{switch(ke.key){case"ArrowUp":J(r.addDays(j,-7)),ke.preventDefault();break;case"ArrowDown":J(r.addDays(j,7)),ke.preventDefault();break;case"ArrowLeft":{const ie=r.addDays(j,W?1:-1),te=r.addMonths(j,W?1:-1),me=gm({utils:r,date:ie,minDate:W?ie:r.startOfMonth(te),maxDate:W?r.endOfMonth(te):ie,isDateDisabled:A,timezone:O});J(me||ie),ke.preventDefault();break}case"ArrowRight":{const ie=r.addDays(j,W?-1:1),te=r.addMonths(j,W?-1:1),me=gm({utils:r,date:ie,minDate:W?r.startOfMonth(te):ie,maxDate:W?ie:r.endOfMonth(te),isDateDisabled:A,timezone:O});J(me||ie),ke.preventDefault();break}case"Home":J(r.startOfWeek(j)),ke.preventDefault();break;case"End":J(r.endOfWeek(j)),ke.preventDefault();break;case"PageUp":J(r.addMonths(j,1)),ke.preventDefault();break;case"PageDown":J(r.addMonths(j,-1)),ke.preventDefault();break}}),Se=bt((ke,j)=>J(j)),K=bt((ke,j)=>{q&&r.isSameDay(ne,j)&&(D==null||D(!1))}),Z=r.getMonth(s),ue=r.getYear(s),de=C.useMemo(()=>a.filter(ke=>!!ke).map(ke=>r.startOfDay(ke)),[r,a]),re=`${ue}-${Z}`,Q=C.useMemo(()=>C.createRef(),[re]),ee=r.startOfWeek(I),oe=C.useMemo(()=>{const ke=r.startOfMonth(s),j=r.endOfMonth(s);return A(ne)||r.isAfterDay(ne,j)||r.isBeforeDay(ne,ke)?gm({utils:r,date:ne,minDate:ke,maxDate:j,disablePast:b,disableFuture:x,isDateDisabled:A,timezone:O}):ne},[s,x,b,ne,A,r,O]),Me=C.useMemo(()=>{const ke=r.setTimezone(s,O),j=r.getWeekArray(ke);let ie=r.addMonths(ke,1);for(;z&&j.length<z;){const te=r.getWeekArray(ie),me=r.isSameDay(j[j.length-1][0],te[0][0]);te.slice(me?1:0).forEach(Be=>{j.length<z&&j.push(Be)}),ie=r.addMonths(ie,1)}return j},[s,z,r,O]);return k.jsxs(B0e,{role:"grid","aria-labelledby":L,className:H.root,children:[k.jsxs(M0e,{role:"row",className:H.header,children:[F&&k.jsx(E0e,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:H.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),Qge(r,I).map((ke,j)=>k.jsx(N0e,{variant:"caption",role:"columnheader","aria-label":r.format(r.addDays(ee,j),"weekday"),className:H.weekDayLabel,children:M(ke)},j.toString()))]}),l?k.jsx(D0e,{className:H.loadingContainer,children:g()}):k.jsx(I0e,B({transKey:re,onExited:c,reduceAnimations:f,slideDirection:m,className:Oe(i,H.slideTransition)},y,{nodeRef:Q,children:k.jsx(L0e,{ref:Q,role:"rowgroup",className:H.monthContainer,children:Me.map((ke,j)=>k.jsxs(F0e,{role:"row",className:H.weekContainer,"aria-rowindex":j+1,children:[F&&k.jsx(R0e,{className:H.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(r.getWeekNumber(ke[0])),children:U.calendarWeekNumberText(r.getWeekNumber(ke[0]))}),ke.map((ie,te)=>k.jsx(A0e,{parentProps:e,day:ie,selectedDays:de,focusableDay:oe,onKeyDown:ce,onFocus:Se,onBlur:K,onDaySelect:fe,isDateDisabled:A,currentMonthNumber:Z,isViewFocused:q,"aria-colindex":te+1},ie.toString()))]},`week-${ke[0]}`))})}))]})}function $0e(t){return dt("MuiPickersMonth",t)}const Ob=ht("MuiPickersMonth",["root","monthButton","disabled","selected"]),V0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],z0e=t=>{const{disabled:e,selected:r,classes:n}=t;return ut({root:["root"],monthButton:["monthButton",e&&"disabled",r&&"selected"]},$0e,n)},W0e=he("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),H0e=he("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Ob.disabled}`]:e.disabled},{[`&.${Ob.selected}`]:e.selected}]})(({theme:t})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ob.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Ob.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),U0e=C.memo(function(e){const r=tt({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:u,onClick:c,onKeyDown:h,onFocus:f,onBlur:g,"aria-current":m,"aria-label":y,slots:b,slotProps:x}=r,v=Re(r,V0e),w=C.useRef(null),P=z0e(r);In(()=>{var M;n&&((M=w.current)==null||M.focus())},[n]);const T=(b==null?void 0:b.monthButton)??H0e,_=sr({elementType:T,externalSlotProps:x==null?void 0:x.monthButton,additionalProps:{children:s,disabled:a,tabIndex:u,ref:w,type:"button",role:"radio","aria-current":m,"aria-checked":o,"aria-label":y,onClick:M=>c(M,l),onKeyDown:M=>h(M,l),onFocus:M=>f(M,l),onBlur:M=>g(M,l)},ownerState:r,className:P.monthButton});return k.jsx(W0e,B({className:Oe(P.root,i),ownerState:r},v,{children:k.jsx(T,B({},_))}))});function G0e(t){return dt("MuiMonthCalendar",t)}ht("MuiMonthCalendar",["root"]);const j0e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Y0e=t=>{const{classes:e}=t;return ut({root:["root"]},G0e,e)};function X0e(t,e){const r=$r(),n=t0(),i=tt({props:t,name:e});return B({disableFuture:!1,disablePast:!1},i,{minDate:No(r,i.minDate,n.minDate),maxDate:No(r,i.maxDate,n.maxDate)})}const q0e=he("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:H1,boxSizing:"border-box"}),K0e=C.forwardRef(function(e,r){const n=X0e(e,"MuiMonthCalendar"),{className:i,value:s,defaultValue:a,referenceDate:o,disabled:l,disableFuture:u,disablePast:c,maxDate:h,minDate:f,onChange:g,shouldDisableMonth:m,readOnly:y,autoFocus:b=!1,onMonthFocus:x,hasFocus:v,onFocusedViewChange:w,monthsPerRow:P=3,timezone:T,gridLabelId:_,slots:M,slotProps:E}=n,D=Re(n,j0e),{value:L,handleValueChange:F,timezone:z}=Dp({name:"MonthCalendar",timezone:T,value:s,defaultValue:a,onChange:g,valueManager:_s}),V=kh(z),O=Yi(),I=$r(),H=C.useMemo(()=>_s.getInitialReferenceValue({value:L,utils:I,props:n,timezone:z,referenceDate:o,granularity:qo.month}),[]),W=n,A=Y0e(W),U=C.useMemo(()=>I.getMonth(V),[I,V]),q=C.useMemo(()=>L!=null?I.getMonth(L):null,[L,I]),[ae,ne]=C.useState(()=>q||I.getMonth(H)),[ge,fe]=Fa({name:"MonthCalendar",state:"hasFocus",controlled:v,default:b??!1}),J=bt(re=>{fe(re),w&&w(re)}),ce=C.useCallback(re=>{const Q=I.startOfMonth(c&&I.isAfter(V,f)?V:f),ee=I.startOfMonth(u&&I.isBefore(V,h)?V:h),oe=I.startOfMonth(re);return I.isBefore(oe,Q)||I.isAfter(oe,ee)?!0:m?m(oe):!1},[u,c,h,f,V,m,I]),Se=bt((re,Q)=>{if(y)return;const ee=I.setMonth(L??H,Q);F(ee)}),K=bt(re=>{ce(I.setMonth(L??H,re))||(ne(re),J(!0),x&&x(re))});C.useEffect(()=>{ne(re=>q!==null&&re!==q?q:re)},[q]);const Z=bt((re,Q)=>{switch(re.key){case"ArrowUp":K((12+Q-3)%12),re.preventDefault();break;case"ArrowDown":K((12+Q+3)%12),re.preventDefault();break;case"ArrowLeft":K((12+Q+(O?1:-1))%12),re.preventDefault();break;case"ArrowRight":K((12+Q+(O?-1:1))%12),re.preventDefault();break}}),ue=bt((re,Q)=>{K(Q)}),de=bt((re,Q)=>{ae===Q&&J(!1)});return k.jsx(q0e,B({ref:r,className:Oe(A.root,i),ownerState:W,role:"radiogroup","aria-labelledby":_},D,{children:IM(I,L??H).map(re=>{const Q=I.getMonth(re),ee=I.format(re,"monthShort"),oe=I.format(re,"month"),Me=Q===q,ke=l||ce(re);return k.jsx(U0e,{selected:Me,value:Q,onClick:Se,onKeyDown:Z,autoFocus:ge&&Q===ae,disabled:ke,tabIndex:Q===ae&&!ke?0:-1,onFocus:ue,onBlur:de,"aria-current":U===Q?"date":void 0,"aria-label":oe,monthsPerRow:P,slots:M,slotProps:E,children:ee},ee)})}))});function Q0e(t){return dt("MuiPickersYear",t)}const $b=ht("MuiPickersYear",["root","yearButton","selected","disabled"]),J0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Z0e=t=>{const{disabled:e,selected:r,classes:n}=t;return ut({root:["root"],yearButton:["yearButton",e&&"disabled",r&&"selected"]},Q0e,n)},ebe=he("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),tbe=he("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${$b.disabled}`]:e.disabled},{[`&.${$b.selected}`]:e.selected}]})(({theme:t})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Hl(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${$b.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${$b.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),rbe=C.memo(function(e){const r=tt({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:u,onClick:c,onKeyDown:h,onFocus:f,onBlur:g,"aria-current":m,slots:y,slotProps:b}=r,x=Re(r,J0e),v=C.useRef(null),w=Z0e(r);In(()=>{var _;n&&((_=v.current)==null||_.focus())},[n]);const P=(y==null?void 0:y.yearButton)??tbe,T=sr({elementType:P,externalSlotProps:b==null?void 0:b.yearButton,additionalProps:{children:s,disabled:a,tabIndex:u,ref:v,type:"button",role:"radio","aria-current":m,"aria-checked":o,onClick:_=>c(_,l),onKeyDown:_=>h(_,l),onFocus:_=>f(_,l),onBlur:_=>g(_,l)},ownerState:r,className:w.yearButton});return k.jsx(ebe,B({className:Oe(w.root,i),ownerState:r},x,{children:k.jsx(P,B({},T))}))});function nbe(t){return dt("MuiYearCalendar",t)}ht("MuiYearCalendar",["root"]);const ibe=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],sbe=t=>{const{classes:e}=t;return ut({root:["root"]},nbe,e)};function abe(t,e){const r=$r(),n=t0(),i=tt({props:t,name:e});return B({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:No(r,i.minDate,n.minDate),maxDate:No(r,i.maxDate,n.maxDate)})}const obe=he("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:H1,maxHeight:Dge,boxSizing:"border-box",position:"relative"}),lbe=C.forwardRef(function(e,r){const n=abe(e,"MuiYearCalendar"),{autoFocus:i,className:s,value:a,defaultValue:o,referenceDate:l,disabled:u,disableFuture:c,disablePast:h,maxDate:f,minDate:g,onChange:m,readOnly:y,shouldDisableYear:b,onYearFocus:x,hasFocus:v,onFocusedViewChange:w,yearsPerRow:P,timezone:T,gridLabelId:_,slots:M,slotProps:E}=n,D=Re(n,ibe),{value:L,handleValueChange:F,timezone:z}=Dp({name:"YearCalendar",timezone:T,value:a,defaultValue:o,onChange:m,valueManager:_s}),V=kh(z),O=Yi(),I=$r(),H=C.useMemo(()=>_s.getInitialReferenceValue({value:L,utils:I,props:n,timezone:z,referenceDate:l,granularity:qo.year}),[]),W=n,A=sbe(W),U=C.useMemo(()=>I.getYear(V),[I,V]),q=C.useMemo(()=>L!=null?I.getYear(L):null,[L,I]),[ae,ne]=C.useState(()=>q||I.getYear(H)),[ge,fe]=Fa({name:"YearCalendar",state:"hasFocus",controlled:v,default:i??!1}),J=bt(ee=>{fe(ee),w&&w(ee)}),ce=C.useCallback(ee=>{if(h&&I.isBeforeYear(ee,V)||c&&I.isAfterYear(ee,V)||g&&I.isBeforeYear(ee,g)||f&&I.isAfterYear(ee,f))return!0;if(!b)return!1;const oe=I.startOfYear(ee);return b(oe)},[c,h,f,g,V,b,I]),Se=bt((ee,oe)=>{if(y)return;const Me=I.setYear(L??H,oe);F(Me)}),K=bt(ee=>{ce(I.setYear(L??H,ee))||(ne(ee),J(!0),x==null||x(ee))});C.useEffect(()=>{ne(ee=>q!==null&&ee!==q?q:ee)},[q]);const Z=bt((ee,oe)=>{switch(ee.key){case"ArrowUp":K(oe-P),ee.preventDefault();break;case"ArrowDown":K(oe+P),ee.preventDefault();break;case"ArrowLeft":K(oe+(O?1:-1)),ee.preventDefault();break;case"ArrowRight":K(oe+(O?-1:1)),ee.preventDefault();break}}),ue=bt((ee,oe)=>{K(oe)}),de=bt((ee,oe)=>{ae===oe&&J(!1)}),re=C.useRef(null),Q=Er(r,re);return C.useEffect(()=>{if(i||re.current===null)return;const ee=re.current.querySelector('[tabindex="0"]');if(!ee)return;const oe=ee.offsetHeight,Me=ee.offsetTop,ke=re.current.clientHeight,j=re.current.scrollTop,ie=Me+oe;oe>ke||Me<j||(re.current.scrollTop=ie-ke/2-oe/2)},[i]),k.jsx(obe,B({ref:Q,className:Oe(A.root,s),ownerState:W,role:"radiogroup","aria-labelledby":_},D,{children:I.getYearRange([g,f]).map(ee=>{const oe=I.getYear(ee),Me=oe===q,ke=u||ce(ee);return k.jsx(rbe,{selected:Me,value:oe,onClick:Se,onKeyDown:Z,autoFocus:ge&&oe===ae,disabled:ke,tabIndex:oe===ae&&!ke?0:-1,onFocus:ue,onBlur:de,"aria-current":U===oe?"date":void 0,yearsPerRow:P,slots:M,slotProps:E,children:I.format(ee,"year")},I.format(ee,"year"))})}))}),ube=t=>dt("MuiPickersCalendarHeader",t),cbe=ht("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),dbe=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],hbe=["ownerState"],fbe=t=>{const{classes:e}=t;return ut({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},ube,e)},pbe=he("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),gbe=he("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>B({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),mbe=he("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),ybe=he(ms,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${cbe.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),bbe=he(gge,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),vbe=C.forwardRef(function(e,r){const n=Ts(),i=$r(),s=tt({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:o,currentMonth:l,disabled:u,disableFuture:c,disablePast:h,maxDate:f,minDate:g,onMonthChange:m,onViewChange:y,view:b,reduceAnimations:x,views:v,labelId:w,className:P,timezone:T,format:_=`${i.formats.month} ${i.formats.year}`}=s,M=Re(s,dbe),E=s,D=fbe(s),L=(a==null?void 0:a.switchViewButton)??ybe,F=sr({elementType:L,externalSlotProps:o==null?void 0:o.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(b)},ownerState:E,className:D.switchViewButton}),z=(a==null?void 0:a.switchViewIcon)??bbe,V=sr({elementType:z,externalSlotProps:o==null?void 0:o.switchViewIcon,ownerState:void 0,className:D.switchViewIcon}),O=Re(V,hbe),I=()=>m(i.addMonths(l,1),"left"),H=()=>m(i.addMonths(l,-1),"right"),W=Ege(l,{disableFuture:c,maxDate:f,timezone:T}),A=Rge(l,{disablePast:h,minDate:g,timezone:T}),U=()=>{if(!(v.length===1||!y||u))if(v.length===2)y(v.find(ae=>ae!==b)||v[0]);else{const ae=v.indexOf(b)!==0?0:1;y(v[ae])}};if(v.length===1&&v[0]==="year")return null;const q=i.formatByString(l,_);return k.jsxs(pbe,B({},M,{ownerState:E,className:Oe(P,D.root),ref:r,children:[k.jsxs(gbe,{role:"presentation",onClick:U,ownerState:E,"aria-live":"polite",className:D.labelContainer,children:[k.jsx(j6,{reduceAnimations:x,transKey:q,children:k.jsx(mbe,{id:w,ownerState:E,className:D.label,children:q})}),v.length>1&&!u&&k.jsx(L,B({},F,{children:k.jsx(z,B({},O))}))]}),k.jsx(Ep,{in:b==="day",children:k.jsx(d6,{slots:a,slotProps:o,onGoToPrevious:H,isPreviousDisabled:A,previousLabel:n.previousMonth,onGoToNext:I,isNextDisabled:W,nextLabel:n.nextMonth})})]}))}),wbe="@media (prefers-reduced-motion: reduce)",$f=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),cF=$f&&$f[1]?parseInt($f[1],10):null,dF=$f&&$f[2]?parseInt($f[2],10):null,xbe=cF&&cF<10||dF&&dF<13||!1,X6=()=>XB(wbe,{defaultMatches:!1})||xbe,Sbe=t=>dt("MuiDateCalendar",t);ht("MuiDateCalendar",["root","viewTransitionContainer"]);const kbe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Cbe=t=>{const{classes:e}=t;return ut({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Sbe,e)};function _be(t,e){const r=$r(),n=t0(),i=X6(),s=tt({props:t,name:e});return B({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??i,renderLoading:s.renderLoading??(()=>k.jsx("span",{children:"..."})),minDate:No(r,s.minDate,n.minDate),maxDate:No(r,s.maxDate,n.maxDate)})}const Tbe=he(U1,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:DM}),Pbe=he(j6,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),Bbe=C.forwardRef(function(e,r){const n=$r(),i=Do(),s=_be(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:o,value:l,defaultValue:u,referenceDate:c,disableFuture:h,disablePast:f,onChange:g,onYearChange:m,onMonthChange:y,reduceAnimations:b,shouldDisableDate:x,shouldDisableMonth:v,shouldDisableYear:w,view:P,views:T,openTo:_,className:M,disabled:E,readOnly:D,minDate:L,maxDate:F,disableHighlightToday:z,focusedView:V,onFocusedViewChange:O,showDaysOutsideCurrentMonth:I,fixedWeekNumber:H,dayOfWeekFormatter:W,slots:A,slotProps:U,loading:q,renderLoading:ae,displayWeekNumber:ne,yearsPerRow:ge,monthsPerRow:fe,timezone:J}=s,ce=Re(s,kbe),{value:Se,handleValueChange:K,timezone:Z}=Dp({name:"DateCalendar",timezone:J,value:l,defaultValue:u,onChange:g,valueManager:_s}),{view:ue,setView:de,focusedView:re,setFocusedView:Q,goToNextView:ee,setValueAndGoToNextView:oe}=n0({view:P,views:T,openTo:_,onChange:K,onViewChange:o,autoFocus:a,focusedView:V,onFocusedViewChange:O}),{referenceDate:Me,calendarState:ke,changeFocusedDay:j,changeMonth:ie,handleChangeMonth:te,isDateDisabled:me,onMonthSwitchingAnimationEnd:Be}=g0e({value:Se,referenceDate:c,reduceAnimations:b,onMonthChange:y,minDate:L,maxDate:F,shouldDisableDate:x,disablePast:f,disableFuture:h,timezone:Z}),Te=E&&Se||L,Ge=E&&Se||F,ot=`${i}-grid-label`,Dt=re!==null,At=(A==null?void 0:A.calendarHeader)??vbe,De=sr({elementType:At,externalSlotProps:U==null?void 0:U.calendarHeader,additionalProps:{views:T,view:ue,currentMonth:ke.currentMonth,onViewChange:de,onMonthChange:(wt,rr)=>te({newMonth:wt,direction:rr}),minDate:Te,maxDate:Ge,disabled:E,disablePast:f,disableFuture:h,reduceAnimations:b,timezone:Z,labelId:ot},ownerState:s}),Ce=bt(wt=>{const rr=n.startOfMonth(wt),Rr=n.endOfMonth(wt),_r=me(wt)?gm({utils:n,date:wt,minDate:n.isBefore(L,rr)?rr:L,maxDate:n.isAfter(F,Rr)?Rr:F,disablePast:f,disableFuture:h,isDateDisabled:me,timezone:Z}):wt;_r?(oe(_r,"finish"),y==null||y(rr)):(ee(),ie(rr)),j(_r,!0)}),Ne=bt(wt=>{const rr=n.startOfYear(wt),Rr=n.endOfYear(wt),_r=me(wt)?gm({utils:n,date:wt,minDate:n.isBefore(L,rr)?rr:L,maxDate:n.isAfter(F,Rr)?Rr:F,disablePast:f,disableFuture:h,isDateDisabled:me,timezone:Z}):wt;_r?(oe(_r,"finish"),m==null||m(_r)):(ee(),ie(rr)),j(_r,!0)}),at=bt(wt=>K(wt&&Ew(n,wt,Se??Me),"finish",ue));C.useEffect(()=>{Se!=null&&n.isValid(Se)&&ie(Se)},[Se]);const ft=s,Ze=Cbe(ft),Et={disablePast:f,disableFuture:h,maxDate:F,minDate:L},qe={disableHighlightToday:z,readOnly:D,disabled:E,timezone:Z,gridLabelId:ot,slots:A,slotProps:U},Ye=C.useRef(ue);C.useEffect(()=>{Ye.current!==ue&&(re===Ye.current&&Q(ue,!0),Ye.current=ue)},[re,Q,ue]);const St=C.useMemo(()=>[Se],[Se]);return k.jsxs(Tbe,B({ref:r,className:Oe(Ze.root,M),ownerState:ft},ce,{children:[k.jsx(At,B({},De,{slots:A,slotProps:U})),k.jsx(Pbe,{reduceAnimations:b,className:Ze.viewTransitionContainer,transKey:ue,ownerState:ft,children:k.jsxs("div",{children:[ue==="year"&&k.jsx(lbe,B({},Et,qe,{value:Se,onChange:Ne,shouldDisableYear:w,hasFocus:Dt,onFocusedViewChange:wt=>Q("year",wt),yearsPerRow:ge,referenceDate:Me})),ue==="month"&&k.jsx(K0e,B({},Et,qe,{hasFocus:Dt,className:M,value:Se,onChange:Ce,shouldDisableMonth:v,onFocusedViewChange:wt=>Q("month",wt),monthsPerRow:fe,referenceDate:Me})),ue==="day"&&k.jsx(O0e,B({},ke,Et,qe,{onMonthSwitchingAnimationEnd:Be,onFocusedDayChange:j,reduceAnimations:b,selectedDays:St,onSelectedDaysChange:at,shouldDisableDate:x,shouldDisableMonth:v,shouldDisableYear:w,hasFocus:Dt,onFocusedViewChange:wt=>Q("day",wt),showDaysOutsideCurrentMonth:I,fixedWeekNumber:H,dayOfWeekFormatter:W,displayWeekNumber:ne,loading:q,renderLoading:ae}))]})})]}))});function q6(t){return dt("MuiPickersToolbar",t)}ht("MuiPickersToolbar",["root","content"]);const Mbe=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Nbe=t=>{const{classes:e,isLandscape:r}=t;return ut({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},q6,e)},Ebe=he("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Rbe=he("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),K6=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:a,hidden:o,titleId:l}=n,u=Re(n,Mbe),c=n,h=Nbe(c);return o?null:k.jsxs(Ebe,B({ref:r,className:Oe(h.root,s),ownerState:c},u,{children:[k.jsx(Kr,{color:"text.secondary",variant:"overline",id:l,children:a}),k.jsx(Rbe,{className:h.content,ownerState:c,children:i})]}))});function Dbe(t){return dt("MuiDatePickerToolbar",t)}ht("MuiDatePickerToolbar",["root","title"]);const Ibe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Lbe=t=>{const{classes:e}=t;return ut({root:["root"],title:["title"]},Dbe,e)},Fbe=he(K6,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Abe=he(Kr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Obe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:a,toolbarPlaceholder:o="",views:l,className:u}=n,c=Re(n,Ibe),h=$r(),f=Ts(),g=Lbe(n),m=C.useMemo(()=>{if(!i)return o;const b=FM(h,{format:a,views:l},!0);return h.formatByString(i,b)},[i,a,o,h,l]),y=n;return k.jsx(Fbe,B({ref:r,toolbarTitle:f.datePickerToolbarTitle,isLandscape:s,className:Oe(g.root,u)},c,{children:k.jsx(Abe,{variant:"h4",align:s?"left":"center",ownerState:y,className:g.title,children:m})}))});function Q6(t,e){const r=$r(),n=t0(),i=tt({props:t,name:e}),s=C.useMemo(()=>{var a;return((a=i.localeText)==null?void 0:a.toolbarTitle)==null?i.localeText:B({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return B({},i,{localeText:s},h6({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:No(r,i.minDate,n.minDate),maxDate:No(r,i.maxDate,n.maxDate),slots:B({toolbar:Obe},i.slots)})}function $be(t){return dt("MuiPickersPopper",t)}ht("MuiPickersPopper",["root","paper"]);const Vbe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],zbe=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"]},$be,e)},Wbe=he(uV,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),Hbe=he(xh,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function Ube(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Gbe(t,e){const r=C.useRef(!1),n=C.useRef(!1),i=C.useRef(null),s=C.useRef(!1);C.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const a=bt(l=>{if(!s.current)return;const u=n.current;n.current=!1;const c=Qn(i.current);if(!i.current||"clientX"in l&&Ube(l,c))return;if(r.current){r.current=!1;return}let h;l.composedPath?h=l.composedPath().indexOf(i.current)>-1:h=!c.documentElement.contains(l.target)||i.current.contains(l.target),!h&&!u&&e(l)}),o=()=>{n.current=!0};return C.useEffect(()=>{if(t){const l=Qn(i.current),u=()=>{r.current=!0};return l.addEventListener("touchstart",a),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchmove",u)}}},[t,a]),C.useEffect(()=>{if(t){const l=Qn(i.current);return l.addEventListener("click",a),()=>{l.removeEventListener("click",a),n.current=!1}}},[t,a]),[i,o,o]}const jbe=C.forwardRef((t,e)=>{const{PaperComponent:r,popperPlacement:n,ownerState:i,children:s,paperSlotProps:a,paperClasses:o,onPaperClick:l,onPaperTouchStart:u}=t,c=Re(t,Vbe),h=B({},i,{placement:n}),f=sr({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:o,ownerState:h});return k.jsx(r,B({},c,f,{onClick:g=>{var m;l(g),(m=f.onClick)==null||m.call(f,g)},onTouchStart:g=>{var m;u(g),(m=f.onTouchStart)==null||m.call(f,g)},ownerState:h,children:s}))});function Ybe(t){const e=tt({props:t,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:i=null,shouldRestoreFocus:s,onBlur:a,onDismiss:o,open:l,role:u,placement:c,slots:h,slotProps:f,reduceAnimations:g}=e;C.useEffect(()=>{function I(H){l&&H.key==="Escape"&&o()}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[o,l]);const m=C.useRef(null);C.useEffect(()=>{u==="tooltip"||s&&!s()||(l?m.current=go(document):m.current&&m.current instanceof HTMLElement&&setTimeout(()=>{m.current instanceof HTMLElement&&m.current.focus()}))},[l,u,s]);const[y,b,x]=Gbe(l,a??o),v=C.useRef(null),w=Er(v,i),P=Er(w,y),T=e,_=zbe(T),M=X6(),E=g??M,D=I=>{I.key==="Escape"&&(I.stopPropagation(),o())},L=(h==null?void 0:h.desktopTransition)??E?Ep:TV,F=(h==null?void 0:h.desktopTrapFocus)??Y4,z=(h==null?void 0:h.desktopPaper)??Hbe,V=(h==null?void 0:h.popper)??Wbe,O=sr({elementType:V,externalSlotProps:f==null?void 0:f.popper,additionalProps:{transition:!0,role:u,open:l,anchorEl:r,placement:c,onKeyDown:D},className:_.root,ownerState:e});return k.jsx(V,B({},O,{children:({TransitionProps:I,placement:H})=>k.jsx(F,B({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:u==="tooltip",isEnabled:()=>!0},f==null?void 0:f.desktopTrapFocus,{children:k.jsx(L,B({},I,f==null?void 0:f.desktopTransition,{children:k.jsx(jbe,{PaperComponent:z,ownerState:T,popperPlacement:H,ref:P,onPaperClick:b,onPaperTouchStart:x,paperClasses:_.paper,paperSlotProps:f==null?void 0:f.desktopPaper,children:n})}))}))}))}const Xbe=({open:t,onOpen:e,onClose:r})=>{const n=C.useRef(typeof t=="boolean").current,[i,s]=C.useState(!1);C.useEffect(()=>{if(n){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[n,t]);const a=C.useCallback(o=>{n||s(o),o&&e&&e(),!o&&r&&r()},[n,e,r]);return{isOpen:i,setIsOpen:a}},qbe=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i}=t,s=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:r(n.lastPublishedValue):!1},Kbe=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i,closeOnSelect:s}=t,a=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?a?!0:r(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&r(n.lastCommittedValue):!1},Qbe=t=>{const{action:e,closeOnSelect:r}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&r:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},Jbe=({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:i})=>{const{onAccept:s,onChange:a,value:o,defaultValue:l,closeOnSelect:u=n==="desktop",timezone:c}=t,{current:h}=C.useRef(l),{current:f}=C.useRef(o!==void 0),g=$r(),m=Sh(),{isOpen:y,setIsOpen:b}=Xbe(t),{timezone:x,value:v,handleValueChange:w}=AM({timezone:c,value:o,defaultValue:h,onChange:a,valueManager:e}),[P,T]=C.useState(()=>{let ge;return v!==void 0?ge=v:h!==void 0?ge=h:ge=e.emptyValue,{draft:ge,lastPublishedValue:ge,lastCommittedValue:ge,lastControlledValue:v,hasBeenModifiedSinceMount:!1}});B6(B({},t,{value:P.draft,timezone:x}),i,e.isSameError,e.defaultErrorState);const _=bt(ge=>{const fe={action:ge,dateState:P,hasChanged:ue=>!e.areValuesEqual(g,ge.value,ue),isControlled:f,closeOnSelect:u},J=qbe(fe),ce=Kbe(fe),Se=Qbe(fe);T(ue=>B({},ue,{draft:ge.value,lastPublishedValue:J?ge.value:ue.lastPublishedValue,lastCommittedValue:ce?ge.value:ue.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let K=null;const Z=()=>(K||(K={validationError:ge.name==="setValueFromField"?ge.context.validationError:i({adapter:m,value:ge.value,props:B({},t,{value:ge.value,timezone:x})})},ge.name==="setValueFromShortcut"&&(K.shortcut=ge.shortcut)),K);J&&w(ge.value,Z()),ce&&s&&s(ge.value,Z()),Se&&b(!1)});if(v!==void 0&&(P.lastControlledValue===void 0||!e.areValuesEqual(g,P.lastControlledValue,v))){const ge=e.areValuesEqual(g,P.draft,v);T(fe=>B({},fe,{lastControlledValue:v},ge?{}:{lastCommittedValue:v,lastPublishedValue:v,draft:v,hasBeenModifiedSinceMount:!0}))}const M=bt(()=>{_({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),E=bt(()=>{_({value:P.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),D=bt(()=>{_({value:P.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),L=bt(()=>{_({value:P.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),F=bt(()=>{_({value:e.getTodayValue(g,x,r),name:"setValueFromAction",pickerAction:"today"})}),z=bt(ge=>{ge.preventDefault(),b(!0)}),V=bt(ge=>{ge==null||ge.preventDefault(),b(!1)}),O=bt((ge,fe="partial")=>_({name:"setValueFromView",value:ge,selectionState:fe})),I=bt((ge,fe,J)=>_({name:"setValueFromShortcut",value:ge,changeImportance:fe,shortcut:J})),H=bt((ge,fe)=>_({name:"setValueFromField",value:ge,context:fe})),W={onClear:M,onAccept:E,onDismiss:D,onCancel:L,onSetToday:F,onOpen:z,onClose:V},A={value:P.draft,onChange:H},U=C.useMemo(()=>e.cleanValue(g,P.draft),[g,e,P.draft]),q={value:U,onChange:O,onClose:V,open:y},ne=B({},W,{value:U,onChange:O,onSelectShortcut:I,isValid:ge=>{const fe=i({adapter:m,value:ge,props:B({},t,{value:ge,timezone:x})});return!e.hasError(fe)}});return{open:y,fieldProps:A,viewProps:q,layoutProps:ne,actions:W}},Zbe=["className","sx"],eve=({props:t,propsFromPickerValue:e,additionalViewProps:r,autoFocusView:n,rendererInterceptor:i,fieldRef:s})=>{const{onChange:a,open:o,onClose:l}=e,{view:u,views:c,openTo:h,onViewChange:f,viewRenderers:g,timezone:m}=t,y=Re(t,Zbe),{view:b,setView:x,defaultView:v,focusedView:w,setFocusedView:P,setValueAndGoToNextView:T}=n0({view:u,views:c,openTo:h,onChange:a,onViewChange:f,autoFocus:n}),{hasUIView:_,viewModeLookup:M}=C.useMemo(()=>c.reduce((O,I)=>{let H;return g[I]!=null?H="UI":H="field",O.viewModeLookup[I]=H,H==="UI"&&(O.hasUIView=!0),O},{hasUIView:!1,viewModeLookup:{}}),[g,c]),E=C.useMemo(()=>c.reduce((O,I)=>g[I]!=null&&ey(I)?O+1:O,0),[g,c]),D=M[b],L=bt(()=>D==="UI"),[F,z]=C.useState(D==="UI"?b:null);return F!==b&&M[b]==="UI"&&z(b),In(()=>{D==="field"&&o&&(l(),setTimeout(()=>{var O,I;(O=s==null?void 0:s.current)==null||O.setSelectedSections(b),(I=s==null?void 0:s.current)==null||I.focusField(b)}))},[b]),In(()=>{if(!o)return;let O=b;D==="field"&&F!=null&&(O=F),O!==v&&M[O]==="UI"&&M[v]==="UI"&&(O=v),O!==b&&x(O),P(O,!0)},[o]),{hasUIView:_,shouldRestoreFocus:L,layoutProps:{views:c,view:F,onViewChange:x},renderCurrentView:()=>{if(F==null)return null;const O=g[F];if(O==null)return null;const I=B({},y,r,e,{views:c,timezone:m,onChange:T,view:F,onViewChange:x,focusedView:w,onFocusedViewChange:P,showViewSwitcher:E>1,timeViewsCount:E});return i?i(g,F,I):O(I)}}};function hF(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const tve=(t,e)=>{const[r,n]=C.useState(hF);return In(()=>{const s=()=>{n(hF())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),lf(t,["hours","minutes","seconds"])?!1:(e||r)==="landscape"},rve=({props:t,propsFromPickerValue:e,propsFromPickerViews:r,wrapperVariant:n})=>{const{orientation:i}=t,s=tve(r.views,i),a=Yi();return{layoutProps:B({},r,e,{isLandscape:s,isRtl:a,wrapperVariant:n,disabled:t.disabled,readOnly:t.readOnly})}},J6=(t,e="warning")=>{let r=!1;const n=Array.isArray(t)?t.join(`
`):t;return()=>{r||(r=!0,e==="error"?console.error(n):console.warn(n))}};J6(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Z6=({props:t,valueManager:e,valueType:r,wrapperVariant:n,additionalViewProps:i,validator:s,autoFocusView:a,rendererInterceptor:o,fieldRef:l})=>{const u=Jbe({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:s}),c=eve({props:t,additionalViewProps:i,autoFocusView:a,fieldRef:l,propsFromPickerValue:u.viewProps,rendererInterceptor:o}),h=rve({props:t,wrapperVariant:n,propsFromPickerValue:u.layoutProps,propsFromPickerViews:c.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:h.layoutProps}};function ez(t){return dt("MuiPickersLayout",t)}const bd=ht("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),nve=["onAccept","onClear","onCancel","onSetToday","actions"];function ive(t){const{onAccept:e,onClear:r,onCancel:n,onSetToday:i,actions:s}=t,a=Re(t,nve),o=Ts();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(u=>{switch(u){case"clear":return k.jsx(fi,{onClick:r,children:o.clearButtonLabel},u);case"cancel":return k.jsx(fi,{onClick:n,children:o.cancelButtonLabel},u);case"accept":return k.jsx(fi,{onClick:e,children:o.okButtonLabel},u);case"today":return k.jsx(fi,{onClick:i,children:o.todayButtonLabel},u);default:return null}});return k.jsx(pV,B({},a,{children:l}))}const sve=["items","changeImportance","isLandscape","onChange","isValid"],ave=["getValue"];function ove(t){const{items:e,changeImportance:r="accept",onChange:n,isValid:i}=t,s=Re(t,sve);if(e==null||e.length===0)return null;const a=e.map(o=>{let{getValue:l}=o,u=Re(o,ave);const c=l({isValid:i});return B({},u,{label:u.label,onClick:()=>{n(c,r,u)},disabled:!i(c)})});return k.jsx(Zy,B({dense:!0,sx:[{maxHeight:DM,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:a.map(o=>k.jsx(EV,{children:k.jsx(tae,B({},o))},o.id??o.label))}))}function lve(t){return t.view!==null}const uve=t=>{const{classes:e,isLandscape:r}=t;return ut({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},ez,e)},cve=t=>{const{wrapperVariant:e,onAccept:r,onClear:n,onCancel:i,onSetToday:s,view:a,views:o,onViewChange:l,value:u,onChange:c,onSelectShortcut:h,isValid:f,isLandscape:g,disabled:m,readOnly:y,children:b,slots:x,slotProps:v}=t,w=uve(t),P=(x==null?void 0:x.actionBar)??ive,T=sr({elementType:P,externalSlotProps:v==null?void 0:v.actionBar,additionalProps:{onAccept:r,onClear:n,onCancel:i,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"]},className:w.actionBar,ownerState:B({},t,{wrapperVariant:e})}),_=k.jsx(P,B({},T)),M=x==null?void 0:x.toolbar,E=sr({elementType:M,externalSlotProps:v==null?void 0:v.toolbar,additionalProps:{isLandscape:g,onChange:c,value:u,view:a,onViewChange:l,views:o,disabled:m,readOnly:y},className:w.toolbar,ownerState:B({},t,{wrapperVariant:e})}),D=lve(E)&&M?k.jsx(M,B({},E)):null,L=b,F=x==null?void 0:x.tabs,z=a&&F?k.jsx(F,B({view:a,onViewChange:l,className:w.tabs},v==null?void 0:v.tabs)):null,V=(x==null?void 0:x.shortcuts)??ove,O=sr({elementType:V,externalSlotProps:v==null?void 0:v.shortcuts,additionalProps:{isValid:f,isLandscape:g,onChange:h},className:w.shortcuts,ownerState:{isValid:f,isLandscape:g,onChange:h,wrapperVariant:e}}),I=a&&V?k.jsx(V,B({},O)):null;return{toolbar:D,content:L,tabs:z,actionBar:_,shortcuts:I}},dve=t=>{const{isLandscape:e,classes:r}=t;return ut({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},ez,r)},hve=he("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${bd.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${bd.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${bd.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${bd.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${bd.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${bd.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${bd.shortcuts}`]:{gridColumn:3}}}]}),fve=he("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),tz=function(e){const r=tt({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:s,actionBar:a,shortcuts:o}=cve(r),{sx:l,className:u,isLandscape:c,ref:h,wrapperVariant:f}=r,g=dve(r);return k.jsxs(hve,{ref:h,sx:l,className:Oe(u,g.root),ownerState:r,children:[c?o:n,c?n:o,k.jsx(fve,{className:g.contentWrapper,children:f==="desktop"?k.jsxs(C.Fragment,{children:[i,s]}):k.jsxs(C.Fragment,{children:[s,i]})}),a]})},pve=["props","getOpenDialogAriaText"],gve=["ownerState"],mve=["ownerState"],rz=t=>{var Q;let{props:e,getOpenDialogAriaText:r}=t,n=Re(t,pve);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:g,name:m,label:y,inputRef:b,readOnly:x,disabled:v,autoFocus:w,localeText:P,reduceAnimations:T}=e,_=$r(),M=C.useRef(null),E=C.useRef(null),D=Do(),L=((Q=s==null?void 0:s.toolbar)==null?void 0:Q.hidden)??!1,{open:F,actions:z,hasUIView:V,layoutProps:O,renderCurrentView:I,shouldRestoreFocus:H,fieldProps:W}=Z6(B({},n,{props:e,fieldRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),A=i.inputAdornment??BV,U=sr({elementType:A,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),q=Re(U,gve),ae=i.openPickerButton??ms,ne=sr({elementType:ae,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:v||x,onClick:F?z.onClose:z.onOpen,"aria-label":r(W.value,_),edge:q.position},ownerState:e}),ge=Re(ne,mve),fe=i.openPickerIcon,J=i.field,ce=sr({elementType:J,externalSlotProps:s==null?void 0:s.field,additionalProps:B({},W,L&&{id:D},{readOnly:x,disabled:v,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:g,label:y,name:m,autoFocus:w&&!e.open,focused:F?!0:void 0},b?{inputRef:b}:{}),ownerState:e});V&&(ce.InputProps=B({},ce.InputProps,{ref:M},!e.disableOpenPicker&&{[`${q.position}Adornment`]:k.jsx(A,B({},q,{children:k.jsx(ae,B({},ge,{children:k.jsx(fe,B({},s==null?void 0:s.openPickerIcon))}))}))}));const Se=B({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},ce.slots),K=i.layout??tz;let Z=D;L&&(y?Z=`${D}-label`:Z=void 0);const ue=B({},s,{toolbar:B({},s==null?void 0:s.toolbar,{titleId:D}),popper:B({"aria-labelledby":Z},s==null?void 0:s.popper)}),de=Er(E,ce.unstableFieldRef);return{renderPicker:()=>k.jsxs(EM,{localeText:P,children:[k.jsx(J,B({},ce,{slots:Se,slotProps:ue,unstableFieldRef:de})),k.jsx(Ybe,B({role:"dialog",placement:"bottom-start",anchorEl:M.current},z,{open:F,slots:i,slotProps:ue,shouldRestoreFocus:H,reduceAnimations:T,children:k.jsx(K,B({},O,ue==null?void 0:ue.layout,{slots:i,slotProps:ue,children:I()}))}))]})}},Vf=({view:t,onViewChange:e,views:r,focusedView:n,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minDate:g,maxDate:m,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:x,reduceAnimations:v,onMonthChange:w,monthsPerRow:P,onYearChange:T,yearsPerRow:_,slots:M,slotProps:E,loading:D,renderLoading:L,disableHighlightToday:F,readOnly:z,disabled:V,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:I,sx:H,autoFocus:W,fixedWeekNumber:A,displayWeekNumber:U,timezone:q})=>k.jsx(Bbe,{view:t,onViewChange:e,views:r.filter(ZL),focusedView:n&&ZL(n)?n:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minDate:g,maxDate:m,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:x,reduceAnimations:v,onMonthChange:w,monthsPerRow:P,onYearChange:T,yearsPerRow:_,slots:M,slotProps:E,loading:D,renderLoading:L,disableHighlightToday:F,readOnly:z,disabled:V,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:I,sx:H,autoFocus:W,fixedWeekNumber:A,displayWeekNumber:U,timezone:q}),nz=C.forwardRef(function(e,r){var u,c;const n=Ts(),i=$r(),s=Q6(e,"MuiDesktopDatePicker"),a=B({day:Vf,month:Vf,year:Vf},s.viewRenderers),o=B({},s,{viewRenderers:a,format:FM(i,s,!1),yearsPerRow:s.yearsPerRow??4,slots:B({openPickerIcon:bge,field:H6},s.slots),slotProps:B({},s.slotProps,{field:h=>{var f;return B({},qy((f=s.slotProps)==null?void 0:f.field,h),Y1(s),{ref:r})},toolbar:B({hidden:!0},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=rz({props:o,valueManager:_s,valueType:"date",getOpenDialogAriaText:((c=o.localeText)==null?void 0:c.openDatePickerDialogue)??n.openDatePickerDialogue,validator:j1});return l()});nz.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:p1,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsPerRow:X.oneOf([3,4])};const yve=he(Jy)({[`& .${fm.container}`]:{outline:0},[`& .${fm.paper}`]:{outline:0,minWidth:H1}}),bve=he(gV)({"&:first-of-type":{padding:0}});function vve(t){const{children:e,onDismiss:r,open:n,slots:i,slotProps:s}=t,a=(i==null?void 0:i.dialog)??yve,o=(i==null?void 0:i.mobileTransition)??Ep;return k.jsx(a,B({open:n,onClose:r},s==null?void 0:s.dialog,{TransitionComponent:o,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:k.jsx(bve,{children:e})}))}const wve=["props","getOpenDialogAriaText"],iz=t=>{var ae;let{props:e,getOpenDialogAriaText:r}=t,n=Re(t,wve);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:g,name:m,label:y,inputRef:b,readOnly:x,disabled:v,localeText:w}=e,P=$r(),T=C.useRef(null),_=Do(),M=((ae=s==null?void 0:s.toolbar)==null?void 0:ae.hidden)??!1,{open:E,actions:D,layoutProps:L,renderCurrentView:F,fieldProps:z}=Z6(B({},n,{props:e,fieldRef:T,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),V=i.field,O=sr({elementType:V,externalSlotProps:s==null?void 0:s.field,additionalProps:B({},z,M&&{id:_},!(v||x)&&{onClick:D.onOpen,onKeyDown:gye(D.onOpen)},{readOnly:x??!0,disabled:v,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:g,label:y,name:m},b?{inputRef:b}:{}),ownerState:e});O.inputProps=B({},O.inputProps,{"aria-label":r(z.value,P)});const I=B({textField:i.textField},O.slots),H=i.layout??tz;let W=_;M&&(y?W=`${_}-label`:W=void 0);const A=B({},s,{toolbar:B({},s==null?void 0:s.toolbar,{titleId:_}),mobilePaper:B({"aria-labelledby":W},s==null?void 0:s.mobilePaper)}),U=Er(T,O.unstableFieldRef);return{renderPicker:()=>k.jsxs(EM,{localeText:w,children:[k.jsx(V,B({},O,{slots:I,slotProps:A,unstableFieldRef:U})),k.jsx(vve,B({},D,{open:E,slots:i,slotProps:A,children:k.jsx(H,B({},L,A==null?void 0:A.layout,{slots:i,slotProps:A,children:F()}))}))]})}},sz=C.forwardRef(function(e,r){var u,c;const n=Ts(),i=$r(),s=Q6(e,"MuiMobileDatePicker"),a=B({day:Vf,month:Vf,year:Vf},s.viewRenderers),o=B({},s,{viewRenderers:a,format:FM(i,s,!1),slots:B({field:H6},s.slots),slotProps:B({},s.slotProps,{field:h=>{var f;return B({},qy((f=s.slotProps)==null?void 0:f.field,h),Y1(s),{ref:r})},toolbar:B({hidden:!1},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=iz({props:o,valueManager:_s,valueType:"date",getOpenDialogAriaText:((c=o.localeText)==null?void 0:c.openDatePickerDialogue)??n.openDatePickerDialogue,validator:j1});return l()});sz.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:p1,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsPerRow:X.oneOf([3,4])};const xve=["desktopModeMediaQuery"],Sve=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=M6}=n,s=Re(n,xve);return XB(i,{defaultMatches:!0})?k.jsx(nz,B({ref:r},s)):k.jsx(sz,B({ref:r},s))});function kve(t){return dt("MuiPickersToolbarText",t)}const fF=ht("MuiPickersToolbarText",["root","selected"]),Cve=["className","selected","value"],_ve=t=>{const{classes:e,selected:r}=t;return ut({root:["root",r&&"selected"]},kve,e)},Tve=he(Kr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${fF.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${fF.selected}`]:{color:(t.vars||t).palette.text.primary}})),az=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbarText"}),{className:i,value:s}=n,a=Re(n,Cve),o=_ve(n);return k.jsx(Tve,B({ref:r,className:Oe(i,o.root),component:"span"},a,{children:s}))}),Pve=["align","className","selected","typographyClassName","value","variant","width"],Bve=t=>{const{classes:e}=t;return ut({root:["root"]},q6,e)},Mve=he(fi,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),Mg=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbarButton"}),{align:i,className:s,selected:a,typographyClassName:o,value:l,variant:u,width:c}=n,h=Re(n,Pve),f=Bve(n);return k.jsx(Mve,B({variant:"text",ref:r,className:Oe(s,f.root)},c?{sx:{width:c}}:{},h,{children:k.jsx(az,{align:i,className:o,variant:u,value:l,selected:a})}))});function Nve(t){return dt("MuiTimePickerToolbar",t)}const mm=ht("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Eve=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],Rve=t=>{const{isLandscape:e,classes:r,isRtl:n}=t;return ut({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Nve,r)},Dve=he(K6,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ive=he(az,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Lve=he("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${mm.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${mm.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Fve=he("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${mm.ampmLabel}`]:e.ampmLabel},{[`&.${mm.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${mm.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Ave(t){const e=tt({props:t,name:"MuiTimePickerToolbar"}),{ampm:r,ampmInClock:n,value:i,isLandscape:s,onChange:a,view:o,onViewChange:l,views:u,disabled:c,readOnly:h,className:f}=e,g=Re(e,Eve),m=$r(),y=Ts(),b=Yi(),x=!!(r&&!n&&u.includes("hours")),{meridiemMode:v,handleMeridiemChange:w}=RM(i,r,a),P=E=>r?m.format(E,"hours12h"):m.format(E,"hours24h"),T=B({},e,{isRtl:b}),_=Rve(T),M=k.jsx(Ive,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:_.separator});return k.jsxs(Dve,B({landscapeDirection:"row",toolbarTitle:y.timePickerToolbarTitle,isLandscape:s,ownerState:T,className:Oe(_.root,f)},g,{children:[k.jsxs(Lve,{className:_.hourMinuteLabel,ownerState:T,children:[lf(u,"hours")&&k.jsx(Mg,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:o==="hours",value:i?P(i):"--"}),lf(u,["hours","minutes"])&&M,lf(u,"minutes")&&k.jsx(Mg,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:o==="minutes",value:i?m.format(i,"minutes"):"--"}),lf(u,["minutes","seconds"])&&M,lf(u,"seconds")&&k.jsx(Mg,{variant:"h3",onClick:()=>l("seconds"),selected:o==="seconds",value:i?m.format(i,"seconds"):"--"})]}),x&&k.jsxs(Fve,{className:_.ampmSelection,ownerState:T,children:[k.jsx(Mg,{disableRipple:!0,variant:"subtitle2",selected:v==="am",typographyClassName:_.ampmLabel,value:Cc(m,"am"),onClick:h?void 0:()=>w("am"),disabled:c}),k.jsx(Mg,{disableRipple:!0,variant:"subtitle2",selected:v==="pm",typographyClassName:_.ampmLabel,value:Cc(m,"pm"),onClick:h?void 0:()=>w("pm"),disabled:c})]})]}))}function oz(t,e){var a;const r=$r(),n=tt({props:t,name:e}),i=n.ampm??r.is12HourCycleInCurrentLocale(),s=C.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:B({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return B({},n,{ampm:i,localeText:s},h6({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,slots:B({toolbar:Ave},n.slots),slotProps:B({},n.slotProps,{toolbar:B({ampm:i,ampmInClock:n.ampmInClock},(a=n.slotProps)==null?void 0:a.toolbar)})})}const _C=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,ampmInClock:v,slots:w,slotProps:P,readOnly:T,disabled:_,sx:M,autoFocus:E,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:L,timezone:F})=>k.jsx(Dme,{view:t,onViewChange:e,focusedView:r&&ey(r)?r:null,onFocusedViewChange:n,views:i.filter(ey),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,ampmInClock:v,slots:w,slotProps:P,readOnly:T,disabled:_,sx:M,autoFocus:E,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:L,timezone:F}),Ove=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:P,disabled:T,sx:_,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:L,timezone:F})=>k.jsx(Vme,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(ey),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:P,disabled:T,sx:_,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeStep:D==null?void 0:D.minutes,skipDisabled:L,timezone:F}),pF=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:P,disabled:T,sx:_,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:L,timezone:F})=>k.jsx(Jme,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(ey),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:g,maxTime:m,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:P,disabled:T,sx:_,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:L,timezone:F}),$ve=(t,e,r)=>r?e.filter(n=>!Bge(n)||n==="hours"):t?[...e,"meridiem"]:e,Vve=(t,e)=>24*60/((t.hours??1)*(t.minutes??5))<=e;function zve({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:r,views:n}){const i=t??24,s=B({hours:1,minutes:5,seconds:5},r),a=Vve(s,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:s,shouldRenderTimeInASingleColumn:a,views:$ve(e,n,a)}}const lz=C.forwardRef(function(e,r){var x,v,w,P;const n=Ts(),i=$r(),s=oz(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:o,timeSteps:l}=zve(s),u=a?Ove:pF,c=B({hours:u,minutes:u,seconds:u,meridiem:u},s.viewRenderers),h=s.ampmInClock??!0,f=a?[]:["accept"],m=((x=c.hours)==null?void 0:x.name)===pF.name?o:o.filter(T=>T!=="meridiem"),y=B({},s,{ampmInClock:h,timeSteps:l,viewRenderers:c,format:p6(i,s),views:a?["hours"]:m,slots:B({field:U6,openPickerIcon:vge},s.slots),slotProps:B({},s.slotProps,{field:T=>{var _;return B({},qy((_=s.slotProps)==null?void 0:_.field,T),Y1(s),{ref:r})},toolbar:B({hidden:!0,ampmInClock:h},(v=s.slotProps)==null?void 0:v.toolbar),actionBar:B({actions:f},(w=s.slotProps)==null?void 0:w.actionBar)})}),{renderPicker:b}=rz({props:y,valueManager:_s,valueType:"time",getOpenDialogAriaText:((P=y.localeText)==null?void 0:P.openTimePickerDialogue)??n.openTimePickerDialogue,validator:HM});return b()});lz.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:p1,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","meridiem","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,skipDisabled:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),thresholdToRenderTimeInASingleColumn:X.number,timeSteps:X.shape({hours:X.number,minutes:X.number,seconds:X.number}),timezone:X.string,value:X.object,view:X.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,meridiem:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const uz=C.forwardRef(function(e,r){var c,h;const n=Ts(),i=$r(),s=oz(e,"MuiMobileTimePicker"),a=B({hours:_C,minutes:_C,seconds:_C},s.viewRenderers),o=s.ampmInClock??!1,l=B({},s,{ampmInClock:o,viewRenderers:a,format:p6(i,s),slots:B({field:U6},s.slots),slotProps:B({},s.slotProps,{field:f=>{var g;return B({},qy((g=s.slotProps)==null?void 0:g.field,f),Y1(s),{ref:r})},toolbar:B({hidden:!1,ampmInClock:o},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:u}=iz({props:l,valueManager:_s,valueType:"time",getOpenDialogAriaText:((h=l.localeText)==null?void 0:h.openTimePickerDialogue)??n.openTimePickerDialogue,validator:HM});return u()});uz.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:p1,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["hours","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const Wve=["desktopModeMediaQuery"],gF=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=M6}=n,s=Re(n,Wve);return XB(i,{defaultMatches:!0})?k.jsx(lz,B({ref:r},s)):k.jsx(uz,B({ref:r},s))});var i0=t=>t.type==="checkbox",Pf=t=>t instanceof Date,Is=t=>t==null;const cz=t=>typeof t=="object";var ji=t=>!Is(t)&&!Array.isArray(t)&&cz(t)&&!Pf(t),dz=t=>ji(t)&&t.target?i0(t.target)?t.target.checked:t.target.value:t,Hve=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hz=(t,e)=>t.has(Hve(e)),Uve=t=>{const e=t.constructor&&t.constructor.prototype;return ji(e)&&e.hasOwnProperty("isPrototypeOf")},UM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qs(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(UM&&(t instanceof Blob||t instanceof FileList))&&(r||ji(t)))if(e=r?[]:{},!r&&!Uve(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=qs(t[n]));else return t;return e}var s0=t=>Array.isArray(t)?t.filter(Boolean):[],ui=t=>t===void 0,yt=(t,e,r)=>{if(!e||!ji(t))return r;const n=s0(e.split(/[,[\].]+?/)).reduce((i,s)=>Is(i)?i:i[s],t);return ui(n)||n===t?ui(t[e])?r:t[e]:n},El=t=>typeof t=="boolean",GM=t=>/^\w*$/.test(t),fz=t=>s0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yn=(t,e,r)=>{let n=-1;const i=GM(e)?[e]:fz(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=ji(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const Rw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},su={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gve=Lt.createContext(null),jM=()=>Lt.useContext(Gve);var pz=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Zo.all&&(e._proxyFormState[a]=!n||Zo.all),r&&(r[a]=!0),t[a]}});return i},ka=t=>ji(t)&&!Object.keys(t).length,gz=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return ka(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Zo.all))},Ev=t=>Array.isArray(t)?t:[t],mz=(t,e,r)=>!t||!e||t===e||Ev(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function YM(t){const e=Lt.useRef(t);e.current=t,Lt.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function jve(t){const e=jM(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Lt.useState(r._formState),l=Lt.useRef(!0),u=Lt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=Lt.useRef(i);return c.current=i,YM({disabled:n,next:h=>l.current&&mz(c.current,h.name,s)&&gz(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),Lt.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),pz(a,r,u.current,!1)}var Il=t=>typeof t=="string",yz=(t,e,r,n,i)=>Il(t)?(n&&e.watch.add(t),yt(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),yt(r,s))):(n&&(e.watchAll=!0),r);function Yve(t){const e=jM(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=Lt.useRef(n);o.current=n,YM({disabled:s,subject:r._subjects.values,next:c=>{mz(o.current,c.name,a)&&u(qs(yz(o.current,r._names,c.values||r._formValues,!1,i)))}});const[l,u]=Lt.useState(r._getWatch(n,i));return Lt.useEffect(()=>r._removeUnmounted()),l}function Xve(t){const e=jM(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=hz(i._names.array,r),o=Yve({control:i,name:r,defaultValue:yt(i._formValues,r,yt(i._defaultValues,r,t.defaultValue)),exact:!0}),l=jve({control:i,name:r}),u=Lt.useRef(i.register(r,{...t.rules,value:o,...El(t.disabled)?{disabled:t.disabled}:{}}));return Lt.useEffect(()=>{const c=i._options.shouldUnregister||s,h=(f,g)=>{const m=yt(i._fields,f);m&&m._f&&(m._f.mount=g)};if(h(r,!0),c){const f=qs(yt(i._options.defaultValues,r));yn(i._defaultValues,r,f),ui(yt(i._formValues,r))&&yn(i._formValues,r,f)}return()=>{(a?c&&!i._state.action:c)?i.unregister(r):h(r,!1)}},[r,i,a,s]),Lt.useEffect(()=>{yt(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:yt(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:o,...El(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:Lt.useCallback(c=>u.current.onChange({target:{value:dz(c),name:r},type:Rw.CHANGE}),[r]),onBlur:Lt.useCallback(()=>u.current.onBlur({target:{value:yt(i._formValues,r),name:r},type:Rw.BLUR}),[r,i]),ref:c=>{const h=yt(i._fields,r);h&&c&&(h._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:f=>c.setCustomValidity(f),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!yt(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!yt(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!yt(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!yt(l.validatingFields,r)},error:{enumerable:!0,get:()=>yt(l.errors,r)}})}}const Rv=t=>t.render(Xve(t));var qve=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},mF=t=>({isOnSubmit:!t||t===Zo.onSubmit,isOnBlur:t===Zo.onBlur,isOnChange:t===Zo.onChange,isOnAll:t===Zo.all,isOnTouch:t===Zo.onTouched}),yF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ym=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=yt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;ym(o,e)}else ji(o)&&ym(o,e)}}};var Kve=(t,e,r)=>{const n=s0(yt(t,r));return yn(n,"root",e[r]),yn(t,r,n),t},XM=t=>t.type==="file",_c=t=>typeof t=="function",Dw=t=>{if(!UM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dv=t=>Il(t),qM=t=>t.type==="radio",Iw=t=>t instanceof RegExp;const bF={value:!1,isValid:!1},vF={value:!0,isValid:!0};var bz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ui(t[0].attributes.value)?ui(t[0].value)||t[0].value===""?vF:{value:t[0].value,isValid:!0}:vF:bF}return bF};const wF={isValid:!1,value:null};var vz=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,wF):wF;function xF(t,e,r="validate"){if(Dv(t)||Array.isArray(t)&&t.every(Dv)||El(t)&&!t)return{type:r,message:Dv(t)?t:"",ref:e}}var Jh=t=>ji(t)&&!Iw(t)?t:{value:t,message:""},SF=async(t,e,r,n,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:g,name:m,valueAsNumber:y,mount:b,disabled:x}=t._f,v=yt(e,m);if(!b||x)return{};const w=a?a[0]:s,P=z=>{n&&w.reportValidity&&(w.setCustomValidity(El(z)?"":z||""),w.reportValidity())},T={},_=qM(s),M=i0(s),E=_||M,D=(y||XM(s))&&ui(s.value)&&ui(v)||Dw(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,L=qve.bind(null,m,r,T),F=(z,V,O,I=su.maxLength,H=su.minLength)=>{const W=z?V:O;T[m]={type:z?I:H,message:W,ref:s,...L(z?I:H,W)}};if(i?!Array.isArray(v)||!v.length:o&&(!E&&(D||Is(v))||El(v)&&!v||M&&!bz(a).isValid||_&&!vz(a).isValid)){const{value:z,message:V}=Dv(o)?{value:!!o,message:o}:Jh(o);if(z&&(T[m]={type:su.required,message:V,ref:w,...L(su.required,V)},!r))return P(V),T}if(!D&&(!Is(c)||!Is(h))){let z,V;const O=Jh(h),I=Jh(c);if(!Is(v)&&!isNaN(v)){const H=s.valueAsNumber||v&&+v;Is(O.value)||(z=H>O.value),Is(I.value)||(V=H<I.value)}else{const H=s.valueAsDate||new Date(v),W=q=>new Date(new Date().toDateString()+" "+q),A=s.type=="time",U=s.type=="week";Il(O.value)&&v&&(z=A?W(v)>W(O.value):U?v>O.value:H>new Date(O.value)),Il(I.value)&&v&&(V=A?W(v)<W(I.value):U?v<I.value:H<new Date(I.value))}if((z||V)&&(F(!!z,O.message,I.message,su.max,su.min),!r))return P(T[m].message),T}if((l||u)&&!D&&(Il(v)||i&&Array.isArray(v))){const z=Jh(l),V=Jh(u),O=!Is(z.value)&&v.length>+z.value,I=!Is(V.value)&&v.length<+V.value;if((O||I)&&(F(O,z.message,V.message),!r))return P(T[m].message),T}if(f&&!D&&Il(v)){const{value:z,message:V}=Jh(f);if(Iw(z)&&!v.match(z)&&(T[m]={type:su.pattern,message:V,ref:s,...L(su.pattern,V)},!r))return P(V),T}if(g){if(_c(g)){const z=await g(v,e),V=xF(z,w);if(V&&(T[m]={...V,...L(su.validate,V.message)},!r))return P(V.message),T}else if(ji(g)){let z={};for(const V in g){if(!ka(z)&&!r)break;const O=xF(await g[V](v,e),w,V);O&&(z={...O,...L(V,O.message)},P(O.message),r&&(T[m]=z))}if(!ka(z)&&(T[m]={ref:w,...z},!r))return T}}return P(!0),T};function Qve(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ui(t)?n++:t[e[n++]];return t}function Jve(t){for(const e in t)if(t.hasOwnProperty(e)&&!ui(t[e]))return!1;return!0}function Vi(t,e){const r=Array.isArray(e)?e:GM(e)?[e]:fz(e),n=r.length===1?t:Qve(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(ji(n)&&ka(n)||Array.isArray(n)&&Jve(n))&&Vi(t,r.slice(0,-1)),t}var TC=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Lw=t=>Is(t)||!cz(t);function Fd(t,e){if(Lw(t)||Lw(e))return t===e;if(Pf(t)&&Pf(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Pf(s)&&Pf(a)||ji(s)&&ji(a)||Array.isArray(s)&&Array.isArray(a)?!Fd(s,a):s!==a)return!1}}return!0}var wz=t=>t.type==="select-multiple",Zve=t=>qM(t)||i0(t),PC=t=>Dw(t)&&t.isConnected,xz=t=>{for(const e in t)if(_c(t[e]))return!0;return!1};function Fw(t,e={}){const r=Array.isArray(t);if(ji(t)||r)for(const n in t)Array.isArray(t[n])||ji(t[n])&&!xz(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Fw(t[n],e[n])):Is(t[n])||(e[n]=!0);return e}function Sz(t,e,r){const n=Array.isArray(t);if(ji(t)||n)for(const i in t)Array.isArray(t[i])||ji(t[i])&&!xz(t[i])?ui(e)||Lw(r[i])?r[i]=Array.isArray(t[i])?Fw(t[i],[]):{...Fw(t[i])}:Sz(t[i],Is(e)?{}:e[i],r[i]):r[i]=!Fd(t[i],e[i]);return r}var Vb=(t,e)=>Sz(t,e,Fw(e)),kz=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ui(t)?t:e?t===""?NaN:t&&+t:r&&Il(t)?new Date(t):n?n(t):t;function BC(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return XM(e)?e.files:qM(e)?vz(t.refs).value:wz(e)?[...e.selectedOptions].map(({value:r})=>r):i0(e)?bz(t.refs).value:kz(ui(e.value)?t.ref.value:e.value,t)}var ewe=(t,e,r,n)=>{const i={};for(const s of t){const a=yt(e,s);a&&yn(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ng=t=>ui(t)?t:Iw(t)?t.source:ji(t)?Iw(t.value)?t.value.source:t.value:t,twe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function kF(t,e,r){const n=yt(t,r);if(n||GM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=yt(e,s),o=yt(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var rwe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,nwe=(t,e)=>!s0(yt(t,e)).length&&Vi(t,e);const iwe={mode:Zo.onSubmit,reValidateMode:Zo.onChange,shouldFocusError:!0};function swe(t={}){let e={...iwe,...t},r={submitCount:0,isDirty:!1,isLoading:_c(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ji(e.defaultValues)||ji(e.values)?qs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:qs(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:TC(),array:TC(),state:TC()},f=mF(e.mode),g=mF(e.reValidateMode),m=e.criteriaMode===Zo.all,y=j=>ie=>{clearTimeout(u),u=setTimeout(j,ie)},b=async j=>{if(c.isValid||j){const ie=e.resolver?ka((await E()).errors):await L(n,!0);ie!==r.isValid&&h.state.next({isValid:ie})}},x=(j,ie)=>{(c.isValidating||c.validatingFields)&&((j||Array.from(o.mount)).forEach(te=>{te&&(ie?yn(r.validatingFields,te,ie):Vi(r.validatingFields,te))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ka(r.validatingFields)}))},v=(j,ie=[],te,me,Be=!0,Te=!0)=>{if(me&&te){if(a.action=!0,Te&&Array.isArray(yt(n,j))){const Ge=te(yt(n,j),me.argA,me.argB);Be&&yn(n,j,Ge)}if(Te&&Array.isArray(yt(r.errors,j))){const Ge=te(yt(r.errors,j),me.argA,me.argB);Be&&yn(r.errors,j,Ge),nwe(r.errors,j)}if(c.touchedFields&&Te&&Array.isArray(yt(r.touchedFields,j))){const Ge=te(yt(r.touchedFields,j),me.argA,me.argB);Be&&yn(r.touchedFields,j,Ge)}c.dirtyFields&&(r.dirtyFields=Vb(i,s)),h.state.next({name:j,isDirty:z(j,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yn(s,j,ie)},w=(j,ie)=>{yn(r.errors,j,ie),h.state.next({errors:r.errors})},P=j=>{r.errors=j,h.state.next({errors:r.errors,isValid:!1})},T=(j,ie,te,me)=>{const Be=yt(n,j);if(Be){const Te=yt(s,j,ui(te)?yt(i,j):te);ui(Te)||me&&me.defaultChecked||ie?yn(s,j,ie?Te:BC(Be._f)):I(j,Te),a.mount&&b()}},_=(j,ie,te,me,Be)=>{let Te=!1,Ge=!1;const ot={name:j},Dt=!!(yt(n,j)&&yt(n,j)._f&&yt(n,j)._f.disabled);if(!te||me){c.isDirty&&(Ge=r.isDirty,r.isDirty=ot.isDirty=z(),Te=Ge!==ot.isDirty);const At=Dt||Fd(yt(i,j),ie);Ge=!!(!Dt&&yt(r.dirtyFields,j)),At||Dt?Vi(r.dirtyFields,j):yn(r.dirtyFields,j,!0),ot.dirtyFields=r.dirtyFields,Te=Te||c.dirtyFields&&Ge!==!At}if(te){const At=yt(r.touchedFields,j);At||(yn(r.touchedFields,j,te),ot.touchedFields=r.touchedFields,Te=Te||c.touchedFields&&At!==te)}return Te&&Be&&h.state.next(ot),Te?ot:{}},M=(j,ie,te,me)=>{const Be=yt(r.errors,j),Te=c.isValid&&El(ie)&&r.isValid!==ie;if(t.delayError&&te?(l=y(()=>w(j,te)),l(t.delayError)):(clearTimeout(u),l=null,te?yn(r.errors,j,te):Vi(r.errors,j)),(te?!Fd(Be,te):Be)||!ka(me)||Te){const Ge={...me,...Te&&El(ie)?{isValid:ie}:{},errors:r.errors,name:j};r={...r,...Ge},h.state.next(Ge)}},E=async j=>{x(j,!0);const ie=await e.resolver(s,e.context,ewe(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(j),ie},D=async j=>{const{errors:ie}=await E(j);if(j)for(const te of j){const me=yt(ie,te);me?yn(r.errors,te,me):Vi(r.errors,te)}else r.errors=ie;return ie},L=async(j,ie,te={valid:!0})=>{for(const me in j){const Be=j[me];if(Be){const{_f:Te,...Ge}=Be;if(Te){const ot=o.array.has(Te.name);x([me],!0);const Dt=await SF(Be,s,m,e.shouldUseNativeValidation&&!ie,ot);if(x([me]),Dt[Te.name]&&(te.valid=!1,ie))break;!ie&&(yt(Dt,Te.name)?ot?Kve(r.errors,Dt,Te.name):yn(r.errors,Te.name,Dt[Te.name]):Vi(r.errors,Te.name))}Ge&&await L(Ge,ie,te)}}return te.valid},F=()=>{for(const j of o.unMount){const ie=yt(n,j);ie&&(ie._f.refs?ie._f.refs.every(te=>!PC(te)):!PC(ie._f.ref))&&ce(j)}o.unMount=new Set},z=(j,ie)=>(j&&ie&&yn(s,j,ie),!Fd(ae(),i)),V=(j,ie,te)=>yz(j,o,{...a.mount?s:ui(ie)?i:Il(j)?{[j]:ie}:ie},te,ie),O=j=>s0(yt(a.mount?s:i,j,t.shouldUnregister?yt(i,j,[]):[])),I=(j,ie,te={})=>{const me=yt(n,j);let Be=ie;if(me){const Te=me._f;Te&&(!Te.disabled&&yn(s,j,kz(ie,Te)),Be=Dw(Te.ref)&&Is(ie)?"":ie,wz(Te.ref)?[...Te.ref.options].forEach(Ge=>Ge.selected=Be.includes(Ge.value)):Te.refs?i0(Te.ref)?Te.refs.length>1?Te.refs.forEach(Ge=>(!Ge.defaultChecked||!Ge.disabled)&&(Ge.checked=Array.isArray(Be)?!!Be.find(ot=>ot===Ge.value):Be===Ge.value)):Te.refs[0]&&(Te.refs[0].checked=!!Be):Te.refs.forEach(Ge=>Ge.checked=Ge.value===Be):XM(Te.ref)?Te.ref.value="":(Te.ref.value=Be,Te.ref.type||h.values.next({name:j,values:{...s}})))}(te.shouldDirty||te.shouldTouch)&&_(j,Be,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&q(j)},H=(j,ie,te)=>{for(const me in ie){const Be=ie[me],Te=`${j}.${me}`,Ge=yt(n,Te);(o.array.has(j)||!Lw(Be)||Ge&&!Ge._f)&&!Pf(Be)?H(Te,Be,te):I(Te,Be,te)}},W=(j,ie,te={})=>{const me=yt(n,j),Be=o.array.has(j),Te=qs(ie);yn(s,j,Te),Be?(h.array.next({name:j,values:{...s}}),(c.isDirty||c.dirtyFields)&&te.shouldDirty&&h.state.next({name:j,dirtyFields:Vb(i,s),isDirty:z(j,Te)})):me&&!me._f&&!Is(Te)?H(j,Te,te):I(j,Te,te),yF(j,o)&&h.state.next({...r}),h.values.next({name:a.mount?j:void 0,values:{...s}})},A=async j=>{a.mount=!0;const ie=j.target;let te=ie.name,me=!0;const Be=yt(n,te),Te=()=>ie.type?BC(Be._f):dz(j),Ge=ot=>{me=Number.isNaN(ot)||ot===yt(s,te,ot)};if(Be){let ot,Dt;const At=Te(),De=j.type===Rw.BLUR||j.type===Rw.FOCUS_OUT,Ce=!twe(Be._f)&&!e.resolver&&!yt(r.errors,te)&&!Be._f.deps||rwe(De,yt(r.touchedFields,te),r.isSubmitted,g,f),Ne=yF(te,o,De);yn(s,te,At),De?(Be._f.onBlur&&Be._f.onBlur(j),l&&l(0)):Be._f.onChange&&Be._f.onChange(j);const at=_(te,At,De,!1),ft=!ka(at)||Ne;if(!De&&h.values.next({name:te,type:j.type,values:{...s}}),Ce)return c.isValid&&b(),ft&&h.state.next({name:te,...Ne?{}:at});if(!De&&Ne&&h.state.next({...r}),e.resolver){const{errors:Ze}=await E([te]);if(Ge(At),me){const Et=kF(r.errors,n,te),qe=kF(Ze,n,Et.name||te);ot=qe.error,te=qe.name,Dt=ka(Ze)}}else x([te],!0),ot=(await SF(Be,s,m,e.shouldUseNativeValidation))[te],x([te]),Ge(At),me&&(ot?Dt=!1:c.isValid&&(Dt=await L(n,!0)));me&&(Be._f.deps&&q(Be._f.deps),M(te,Dt,ot,at))}},U=(j,ie)=>{if(yt(r.errors,ie)&&j.focus)return j.focus(),1},q=async(j,ie={})=>{let te,me;const Be=Ev(j);if(e.resolver){const Te=await D(ui(j)?j:Be);te=ka(Te),me=j?!Be.some(Ge=>yt(Te,Ge)):te}else j?(me=(await Promise.all(Be.map(async Te=>{const Ge=yt(n,Te);return await L(Ge&&Ge._f?{[Te]:Ge}:Ge)}))).every(Boolean),!(!me&&!r.isValid)&&b()):me=te=await L(n);return h.state.next({...!Il(j)||c.isValid&&te!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:te}:{},errors:r.errors}),ie.shouldFocus&&!me&&ym(n,U,j?Be:o.mount),me},ae=j=>{const ie={...a.mount?s:i};return ui(j)?ie:Il(j)?yt(ie,j):j.map(te=>yt(ie,te))},ne=(j,ie)=>({invalid:!!yt((ie||r).errors,j),isDirty:!!yt((ie||r).dirtyFields,j),error:yt((ie||r).errors,j),isValidating:!!yt(r.validatingFields,j),isTouched:!!yt((ie||r).touchedFields,j)}),ge=j=>{j&&Ev(j).forEach(ie=>Vi(r.errors,ie)),h.state.next({errors:j?r.errors:{}})},fe=(j,ie,te)=>{const me=(yt(n,j,{_f:{}})._f||{}).ref,Be=yt(r.errors,j)||{},{ref:Te,message:Ge,type:ot,...Dt}=Be;yn(r.errors,j,{...Dt,...ie,ref:me}),h.state.next({name:j,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&me&&me.focus&&me.focus()},J=(j,ie)=>_c(j)?h.values.subscribe({next:te=>j(V(void 0,ie),te)}):V(j,ie,!0),ce=(j,ie={})=>{for(const te of j?Ev(j):o.mount)o.mount.delete(te),o.array.delete(te),ie.keepValue||(Vi(n,te),Vi(s,te)),!ie.keepError&&Vi(r.errors,te),!ie.keepDirty&&Vi(r.dirtyFields,te),!ie.keepTouched&&Vi(r.touchedFields,te),!ie.keepIsValidating&&Vi(r.validatingFields,te),!e.shouldUnregister&&!ie.keepDefaultValue&&Vi(i,te);h.values.next({values:{...s}}),h.state.next({...r,...ie.keepDirty?{isDirty:z()}:{}}),!ie.keepIsValid&&b()},Se=({disabled:j,name:ie,field:te,fields:me,value:Be})=>{if(El(j)&&a.mount||j){const Te=j?void 0:ui(Be)?BC(te?te._f:yt(me,ie)._f):Be;yn(s,ie,Te),_(ie,Te,!1,!1,!0)}},K=(j,ie={})=>{let te=yt(n,j);const me=El(ie.disabled);return yn(n,j,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:j}},name:j,mount:!0,...ie}}),o.mount.add(j),te?Se({field:te,disabled:ie.disabled,name:j,value:ie.value}):T(j,!0,ie.value),{...me?{disabled:ie.disabled}:{},...e.progressive?{required:!!ie.required,min:Ng(ie.min),max:Ng(ie.max),minLength:Ng(ie.minLength),maxLength:Ng(ie.maxLength),pattern:Ng(ie.pattern)}:{},name:j,onChange:A,onBlur:A,ref:Be=>{if(Be){K(j,ie),te=yt(n,j);const Te=ui(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ge=Zve(Te),ot=te._f.refs||[];if(Ge?ot.find(Dt=>Dt===Te):Te===te._f.ref)return;yn(n,j,{_f:{...te._f,...Ge?{refs:[...ot.filter(PC),Te,...Array.isArray(yt(i,j))?[{}]:[]],ref:{type:Te.type,name:j}}:{ref:Te}}}),T(j,!1,void 0,Te)}else te=yt(n,j,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||ie.shouldUnregister)&&!(hz(o.array,j)&&a.action)&&o.unMount.add(j)}}},Z=()=>e.shouldFocusError&&ym(n,U,o.mount),ue=j=>{El(j)&&(h.state.next({disabled:j}),ym(n,(ie,te)=>{const me=yt(n,te);me&&(ie.disabled=me._f.disabled||j,Array.isArray(me._f.refs)&&me._f.refs.forEach(Be=>{Be.disabled=me._f.disabled||j}))},0,!1))},de=(j,ie)=>async te=>{let me;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let Be=qs(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Te,values:Ge}=await E();r.errors=Te,Be=Ge}else await L(n);if(Vi(r.errors,"root"),ka(r.errors)){h.state.next({errors:{}});try{await j(Be,te)}catch(Te){me=Te}}else ie&&await ie({...r.errors},te),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ka(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},re=(j,ie={})=>{yt(n,j)&&(ui(ie.defaultValue)?W(j,qs(yt(i,j))):(W(j,ie.defaultValue),yn(i,j,qs(ie.defaultValue))),ie.keepTouched||Vi(r.touchedFields,j),ie.keepDirty||(Vi(r.dirtyFields,j),r.isDirty=ie.defaultValue?z(j,qs(yt(i,j))):z()),ie.keepError||(Vi(r.errors,j),c.isValid&&b()),h.state.next({...r}))},Q=(j,ie={})=>{const te=j?qs(j):i,me=qs(te),Be=ka(j),Te=Be?i:me;if(ie.keepDefaultValues||(i=te),!ie.keepValues){if(ie.keepDirtyValues)for(const Ge of o.mount)yt(r.dirtyFields,Ge)?yn(Te,Ge,yt(s,Ge)):W(Ge,yt(Te,Ge));else{if(UM&&ui(j))for(const Ge of o.mount){const ot=yt(n,Ge);if(ot&&ot._f){const Dt=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Dw(Dt)){const At=Dt.closest("form");if(At){At.reset();break}}}}n={}}s=t.shouldUnregister?ie.keepDefaultValues?qs(i):{}:qs(Te),h.array.next({values:{...Te}}),h.values.next({values:{...Te}})}o={mount:ie.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:Be?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!Fd(j,i)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Be?[]:ie.keepDirtyValues?ie.keepDefaultValues&&s?Vb(i,s):r.dirtyFields:ie.keepDefaultValues&&j?Vb(i,j):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ee=(j,ie)=>Q(_c(j)?j(s):j,ie);return{control:{register:K,unregister:ce,getFieldState:ne,handleSubmit:de,setError:fe,_executeSchema:E,_getWatch:V,_getDirty:z,_updateValid:b,_removeUnmounted:F,_updateFieldArray:v,_updateDisabledField:Se,_getFieldArray:O,_reset:Q,_resetDefaultValues:()=>_c(e.defaultValues)&&e.defaultValues().then(j=>{ee(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:ue,_subjects:h,_proxyFormState:c,_setErrors:P,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},set _formState(j){r=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:q,register:K,handleSubmit:de,watch:J,setValue:W,getValues:ae,reset:ee,resetField:re,clearErrors:ge,unregister:ce,setError:fe,setFocus:(j,ie={})=>{const te=yt(n,j),me=te&&te._f;if(me){const Be=me.refs?me.refs[0]:me.ref;Be.focus&&(Be.focus(),ie.shouldSelect&&Be.select())}},getFieldState:ne}}function Cz(t={}){const e=Lt.useRef(),r=Lt.useRef(),[n,i]=Lt.useState({isDirty:!1,isValidating:!1,isLoading:_c(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_c(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...swe(t),formState:n});const s=e.current.control;return s._options=t,YM({subject:s._subjects.state,next:a=>{gz(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Lt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Lt.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Lt.useEffect(()=>{t.values&&!Fd(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Lt.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Lt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Lt.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=pz(n,s),e.current}var _z={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",h="month",f="quarter",g="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var I=["th","st","nd","rd"],H=O%100;return"["+O+(I[(H-20)%10]||I[H]||I[0])+"]"}},w=function(O,I,H){var W=String(O);return!W||W.length>=I?O:""+Array(I+1-W.length).join(H)+O},P={s:w,z:function(O){var I=-O.utcOffset(),H=Math.abs(I),W=Math.floor(H/60),A=H%60;return(I<=0?"+":"-")+w(W,2,"0")+":"+w(A,2,"0")},m:function O(I,H){if(I.date()<H.date())return-O(H,I);var W=12*(H.year()-I.year())+(H.month()-I.month()),A=I.clone().add(W,h),U=H-A<0,q=I.clone().add(W+(U?-1:1),h);return+(-(W+(H-A)/(U?A-q:q-A))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:g,w:c,d:u,D:m,h:l,m:o,s:a,ms:s,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},T="en",_={};_[T]=v;var M="$isDayjsObject",E=function(O){return O instanceof z||!(!O||!O[M])},D=function O(I,H,W){var A;if(!I)return T;if(typeof I=="string"){var U=I.toLowerCase();_[U]&&(A=U),H&&(_[U]=H,A=U);var q=I.split("-");if(!A&&q.length>1)return O(q[0])}else{var ae=I.name;_[ae]=I,A=ae}return!W&&A&&(T=A),A||!W&&T},L=function(O,I){if(E(O))return O.clone();var H=typeof I=="object"?I:{};return H.date=O,H.args=arguments,new z(H)},F=P;F.l=D,F.i=E,F.w=function(O,I){return L(O,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var z=function(){function O(H){this.$L=D(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[M]=!0}var I=O.prototype;return I.parse=function(H){this.$d=function(W){var A=W.date,U=W.utc;if(A===null)return new Date(NaN);if(F.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var q=A.match(b);if(q){var ae=q[2]-1||0,ne=(q[7]||"0").substring(0,3);return U?new Date(Date.UTC(q[1],ae,q[3]||1,q[4]||0,q[5]||0,q[6]||0,ne)):new Date(q[1],ae,q[3]||1,q[4]||0,q[5]||0,q[6]||0,ne)}}return new Date(A)}(H),this.init()},I.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},I.$utils=function(){return F},I.isValid=function(){return this.$d.toString()!==y},I.isSame=function(H,W){var A=L(H);return this.startOf(W)<=A&&A<=this.endOf(W)},I.isAfter=function(H,W){return L(H)<this.startOf(W)},I.isBefore=function(H,W){return this.endOf(W)<L(H)},I.$g=function(H,W,A){return F.u(H)?this[W]:this.set(A,H)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(H,W){var A=this,U=!!F.u(W)||W,q=F.p(H),ae=function(Z,ue){var de=F.w(A.$u?Date.UTC(A.$y,ue,Z):new Date(A.$y,ue,Z),A);return U?de:de.endOf(u)},ne=function(Z,ue){return F.w(A.toDate()[Z].apply(A.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(ue)),A)},ge=this.$W,fe=this.$M,J=this.$D,ce="set"+(this.$u?"UTC":"");switch(q){case g:return U?ae(1,0):ae(31,11);case h:return U?ae(1,fe):ae(0,fe+1);case c:var Se=this.$locale().weekStart||0,K=(ge<Se?ge+7:ge)-Se;return ae(U?J-K:J+(6-K),fe);case u:case m:return ne(ce+"Hours",0);case l:return ne(ce+"Minutes",1);case o:return ne(ce+"Seconds",2);case a:return ne(ce+"Milliseconds",3);default:return this.clone()}},I.endOf=function(H){return this.startOf(H,!1)},I.$set=function(H,W){var A,U=F.p(H),q="set"+(this.$u?"UTC":""),ae=(A={},A[u]=q+"Date",A[m]=q+"Date",A[h]=q+"Month",A[g]=q+"FullYear",A[l]=q+"Hours",A[o]=q+"Minutes",A[a]=q+"Seconds",A[s]=q+"Milliseconds",A)[U],ne=U===u?this.$D+(W-this.$W):W;if(U===h||U===g){var ge=this.clone().set(m,1);ge.$d[ae](ne),ge.init(),this.$d=ge.set(m,Math.min(this.$D,ge.daysInMonth())).$d}else ae&&this.$d[ae](ne);return this.init(),this},I.set=function(H,W){return this.clone().$set(H,W)},I.get=function(H){return this[F.p(H)]()},I.add=function(H,W){var A,U=this;H=Number(H);var q=F.p(W),ae=function(fe){var J=L(U);return F.w(J.date(J.date()+Math.round(fe*H)),U)};if(q===h)return this.set(h,this.$M+H);if(q===g)return this.set(g,this.$y+H);if(q===u)return ae(1);if(q===c)return ae(7);var ne=(A={},A[o]=n,A[l]=i,A[a]=r,A)[q]||1,ge=this.$d.getTime()+H*ne;return F.w(ge,this)},I.subtract=function(H,W){return this.add(-1*H,W)},I.format=function(H){var W=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var U=H||"YYYY-MM-DDTHH:mm:ssZ",q=F.z(this),ae=this.$H,ne=this.$m,ge=this.$M,fe=A.weekdays,J=A.months,ce=A.meridiem,Se=function(ue,de,re,Q){return ue&&(ue[de]||ue(W,U))||re[de].slice(0,Q)},K=function(ue){return F.s(ae%12||12,ue,"0")},Z=ce||function(ue,de,re){var Q=ue<12?"AM":"PM";return re?Q.toLowerCase():Q};return U.replace(x,function(ue,de){return de||function(re){switch(re){case"YY":return String(W.$y).slice(-2);case"YYYY":return F.s(W.$y,4,"0");case"M":return ge+1;case"MM":return F.s(ge+1,2,"0");case"MMM":return Se(A.monthsShort,ge,J,3);case"MMMM":return Se(J,ge);case"D":return W.$D;case"DD":return F.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Se(A.weekdaysMin,W.$W,fe,2);case"ddd":return Se(A.weekdaysShort,W.$W,fe,3);case"dddd":return fe[W.$W];case"H":return String(ae);case"HH":return F.s(ae,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return Z(ae,ne,!0);case"A":return Z(ae,ne,!1);case"m":return String(ne);case"mm":return F.s(ne,2,"0");case"s":return String(W.$s);case"ss":return F.s(W.$s,2,"0");case"SSS":return F.s(W.$ms,3,"0");case"Z":return q}return null}(ue)||q.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(H,W,A){var U,q=this,ae=F.p(W),ne=L(H),ge=(ne.utcOffset()-this.utcOffset())*n,fe=this-ne,J=function(){return F.m(q,ne)};switch(ae){case g:U=J()/12;break;case h:U=J();break;case f:U=J()/3;break;case c:U=(fe-ge)/6048e5;break;case u:U=(fe-ge)/864e5;break;case l:U=fe/i;break;case o:U=fe/n;break;case a:U=fe/r;break;default:U=fe}return A?U:F.a(U)},I.daysInMonth=function(){return this.endOf(h).$D},I.$locale=function(){return _[this.$L]},I.locale=function(H,W){if(!H)return this.$L;var A=this.clone(),U=D(H,W,!0);return U&&(A.$L=U),A},I.clone=function(){return F.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},O}(),V=z.prototype;return L.prototype=V,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",h],["$y",g],["$D",m]].forEach(function(O){V[O[1]]=function(I){return this.$g(I,O[0],O[1])}}),L.extend=function(O,I){return O.$i||(O(I,z,L),O.$i=!0),L},L.locale=D,L.isDayjs=E,L.unix=function(O){return L(1e3*O)},L.en=_[T],L.Ls=_,L.p={},L})})(_z);var awe=_z.exports;const vi=za(awe),owe={day:vi(),startTime:vi(),endTime:vi()};function CF({open:t,onClose:e,shift:r,_handleSubmit:n}){const{control:i,handleSubmit:s}=Cz({defaultValues:r||owe});return k.jsxs(Jy,{open:t,onClose:e,children:[k.jsxs(mV,{children:[r?"Edit":"Add"," Shift"]}),k.jsxs(gV,{children:[k.jsx(Rv,{name:"day",control:i,render:({field:a})=>k.jsx(Sve,{value:a.value,onChange:a.onChange})}),k.jsxs("div",{children:[k.jsx(Rv,{name:"startTime",control:i,render:({field:a})=>k.jsx(gF,{value:a.value,onChange:a.onChange})}),k.jsx(Rv,{name:"endTime",control:i,render:({field:a})=>k.jsx(gF,{value:a.value,onChange:a.onChange})})]})]}),k.jsx(pV,{children:k.jsx(fi,{onClick:s(n),children:"Submit"})})]})}function lwe(){const[t,e]=C.useState([]),[r,n]=C.useState(!1),[i,s]=C.useState(null);function a(l){var u=[...t];u[i]=l,e(u),s(null)}function o(l){e([...t,l]),n(!1)}return k.jsxs(Wu,{title:"Shifts",children:[k.jsx(Zy,{children:t.map((l,u)=>k.jsxs(k.Fragment,{children:[k.jsx(uoe,{title:l.day.format("dddd, MMMM D")+" - "+l.endTime.diff(l.startTime,"hours")+" hours",action:k.jsx(ms,{onClick:()=>s(u),children:k.jsx(HV,{})})}),k.jsx(Km,{children:l.startTime.format("h:mm a")+" to "+l.endTime.format("h:mm a")})]}))}),k.jsx(Rle,{color:"primary",sx:{position:"absolute",right:16,bottom:16},onClick:()=>{n(!0)},children:k.jsx(kM,{})}),k.jsx(CF,{open:r,onClose:()=>{n(!1)},_handleSubmit:o}),k.jsx(CF,{open:i!==null,onClose:()=>{s(null)},shift:i!==null?t[i]:void 0,_handleSubmit:a})]})}var Tz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){var r="week",n="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(n).add(1,n).date(u),h=a(this).endOf(r);if(c.isBefore(h))return 1}var f=a(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),g=this.diff(f,r,!0);return g<0?a(this).startOf("week").week():Math.ceil(g)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(Tz);var uwe=Tz.exports;const cwe=za(uwe);var Pz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},l=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(b){this[y]=+b}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),v=60*x[1]+(+x[2]||0);return v===0?0:x[0]==="+"?-v:v}(y)}],h=function(y){var b=o[y];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(y,b){var x,v=o.meridiem;if(v){for(var w=1;w<=24;w+=1)if(y.indexOf(v(w,0,b))>-1){x=w>12;break}}else x=y===(b?"pm":"PM");return x},g={A:[a,function(y){this.afternoon=f(y,!1)}],a:[a,function(y){this.afternoon=f(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[i,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[a,function(y){var b=o.ordinal,x=y.match(/\d+/);if(this.day=x[0],b)for(var v=1;v<=31;v+=1)b(v).replace(/\[|\]/g,"")===y&&(this.day=v)}],M:[s,u("month")],MM:[i,u("month")],MMM:[a,function(y){var b=h("months"),x=(h("monthsShort")||b.map(function(v){return v.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(y){var b=h("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(y){this.year=l(y)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function m(y){var b,x;b=y,x=o&&o.formats;for(var v=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,L,F){var z=F&&F.toUpperCase();return L||x[F]||r[F]||x[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(V,O,I){return O||I.slice(1)})})).match(n),w=v.length,P=0;P<w;P+=1){var T=v[P],_=g[T],M=_&&_[0],E=_&&_[1];v[P]=E?{regex:M,parser:E}:T.replace(/^\[|\]$/g,"")}return function(D){for(var L={},F=0,z=0;F<w;F+=1){var V=v[F];if(typeof V=="string")z+=V.length;else{var O=V.regex,I=V.parser,H=D.slice(z),W=O.exec(H)[0];I.call(L,W),D=D.replace(W,"")}}return function(A){var U=A.afternoon;if(U!==void 0){var q=A.hours;U?q<12&&(A.hours+=12):q===12&&(A.hours=0),delete A.afternoon}}(L),L}}return function(y,b,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(l=y.parseTwoDigitYear);var v=b.prototype,w=v.parse;v.parse=function(P){var T=P.date,_=P.utc,M=P.args;this.$u=_;var E=M[1];if(typeof E=="string"){var D=M[2]===!0,L=M[3]===!0,F=D||L,z=M[2];L&&(z=M[2]),o=this.$locale(),!D&&z&&(o=x.Ls[z]),this.$d=function(H,W,A){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*H);var U=m(W)(H),q=U.year,ae=U.month,ne=U.day,ge=U.hours,fe=U.minutes,J=U.seconds,ce=U.milliseconds,Se=U.zone,K=new Date,Z=ne||(q||ae?1:K.getDate()),ue=q||K.getFullYear(),de=0;q&&!ae||(de=ae>0?ae-1:K.getMonth());var re=ge||0,Q=fe||0,ee=J||0,oe=ce||0;return Se?new Date(Date.UTC(ue,de,Z,re,Q,ee,oe+60*Se.offset*1e3)):A?new Date(Date.UTC(ue,de,Z,re,Q,ee,oe)):new Date(ue,de,Z,re,Q,ee,oe)}catch{return new Date("")}}(T,E,_),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),F&&T!=this.format(E)&&(this.$d=new Date("")),o={}}else if(E instanceof Array)for(var V=E.length,O=1;O<=V;O+=1){M[1]=E[O-1];var I=x.apply(this,M);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}O===V&&(this.$d=new Date(""))}else w.call(this,P)}}})})(Pz);var dwe=Pz.exports;const hwe=za(dwe);var Bz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var a=i.prototype,o=a.format;s.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,m,y){var b=y&&y.toUpperCase();return m||f[y]||r[y]||f[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,v,w){return v||w.slice(1)})})}(l,u===void 0?{}:u);return o.call(this,c)}}})})(Bz);var fwe=Bz.exports;const pwe=za(fwe);var Mz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){return function(r,n,i){n.prototype.isBetween=function(s,a,o,l){var u=i(s),c=i(a),h=(l=l||"()")[0]==="(",f=l[1]===")";return(h?this.isAfter(u,o):!this.isBefore(u,o))&&(f?this.isBefore(c,o):!this.isAfter(c,o))||(h?this.isBefore(u,o):!this.isAfter(u,o))&&(f?this.isAfter(c,o):!this.isBefore(c,o))}}})})(Mz);var gwe=Mz.exports;const mwe=za(gwe);var Nz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ks,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),h==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),h==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return h}});return s.bind(this)(c)}}})})(Nz);var ywe=Nz.exports;const bwe=za(ywe);vi.extend(pwe);vi.extend(cwe);vi.extend(mwe);vi.extend(bwe);const vwe=J6(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),wwe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},xwe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},MC=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),_F=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Swe=(t,e)=>e?(...r)=>t(...r).locale(e):t;class kwe{constructor({locale:e,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=wwe,this.setLocaleToValue=n=>{const i=this.getCurrentLocaleCode();return i===n.locale()?n:n.locale(i)},this.hasUTCPlugin=()=>typeof vi.utc<"u",this.hasTimezonePlugin=()=>typeof vi.tz<"u",this.isSame=(n,i,s)=>{const a=this.setTimezone(i,this.getTimezone(n));return n.format(s)===a.format(s)},this.cleanTimezone=n=>{switch(n){case"default":return;case"system":return vi.tz.guess();default:return n}},this.createSystemDate=n=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=vi.tz.guess();return i!=="UTC"?vi.tz(n,i):vi(n)}return vi(n)},this.createUTCDate=n=>{if(!this.hasUTCPlugin())throw new Error(MC);return vi.utc(n)},this.createTZDate=(n,i)=>{if(!this.hasUTCPlugin())throw new Error(MC);if(!this.hasTimezonePlugin())throw new Error(_F);const s=n!==void 0&&!n.endsWith("Z");return vi(n).tz(this.cleanTimezone(i),s)},this.getLocaleFormats=()=>{const n=vi.Ls,i=this.locale||"en";let s=n[i];return s===void 0&&(vwe(),s=n.en),s.formats},this.adjustOffset=n=>{if(!this.hasTimezonePlugin())return n;const i=this.getTimezone(n);if(i!=="UTC"){const s=n.tz(this.cleanTimezone(i),!0);if((s.$offset??0)===(n.$offset??0))return n;n.$offset=s.$offset}return n},this.date=(n,i="default")=>{if(n===null)return null;let s;return i==="UTC"?s=this.createUTCDate(n):i==="system"||i==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(n):s=this.createTZDate(n,i),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>vi(new Date("Invalid date")),this.getTimezone=n=>{var i;if(this.hasTimezonePlugin()){const s=(i=n.$x)==null?void 0:i.$timezone;if(s)return s}return this.hasUTCPlugin()&&n.isUTC()?"UTC":"system"},this.setTimezone=(n,i)=>{if(this.getTimezone(n)===i)return n;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(MC);return n.utc()}if(i==="system")return n.local();if(!this.hasTimezonePlugin()){if(i==="default")return n;throw new Error(_F)}return vi.tz(n,this.cleanTimezone(i))},this.toJsDate=n=>n.toDate(),this.parse=(n,i)=>n===""?null:this.dayjs(n,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=n=>{const i=this.getLocaleFormats(),s=a=>a.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(o,l,u)=>l||u.slice(1));return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(a,o,l)=>{const u=l&&l.toUpperCase();return o||i[l]||s(i[u])})},this.isValid=n=>n==null?!1:n.isValid(),this.format=(n,i)=>this.formatByString(n,this.formats[i]),this.formatByString=(n,i)=>this.dayjs(n).format(i),this.formatNumber=n=>n,this.isEqual=(n,i)=>n===null&&i===null?!0:n===null||i===null?!1:n.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(n,i)=>this.isSame(n,i,"YYYY"),this.isSameMonth=(n,i)=>this.isSame(n,i,"YYYY-MM"),this.isSameDay=(n,i)=>this.isSame(n,i,"YYYY-MM-DD"),this.isSameHour=(n,i)=>n.isSame(i,"hour"),this.isAfter=(n,i)=>n>i,this.isAfterYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()>i.utc():n.isAfter(i,"year"),this.isAfterDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()>i.utc():n.isAfter(i,"day"),this.isBefore=(n,i)=>n<i,this.isBeforeYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()<i.utc():n.isBefore(i,"year"),this.isBeforeDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()<i.utc():n.isBefore(i,"day"),this.isWithinRange=(n,[i,s])=>n>=i&&n<=s,this.startOfYear=n=>this.adjustOffset(n.startOf("year")),this.startOfMonth=n=>this.adjustOffset(n.startOf("month")),this.startOfWeek=n=>this.adjustOffset(n.startOf("week")),this.startOfDay=n=>this.adjustOffset(n.startOf("day")),this.endOfYear=n=>this.adjustOffset(n.endOf("year")),this.endOfMonth=n=>this.adjustOffset(n.endOf("month")),this.endOfWeek=n=>this.adjustOffset(n.endOf("week")),this.endOfDay=n=>this.adjustOffset(n.endOf("day")),this.addYears=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"year"):n.add(i,"year")),this.addMonths=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"month"):n.add(i,"month")),this.addWeeks=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"week"):n.add(i,"week")),this.addDays=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"day"):n.add(i,"day")),this.addHours=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"hour"):n.add(i,"hour")),this.addMinutes=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"minute"):n.add(i,"minute")),this.addSeconds=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"second"):n.add(i,"second")),this.getYear=n=>n.year(),this.getMonth=n=>n.month(),this.getDate=n=>n.date(),this.getHours=n=>n.hour(),this.getMinutes=n=>n.minute(),this.getSeconds=n=>n.second(),this.getMilliseconds=n=>n.millisecond(),this.setYear=(n,i)=>this.adjustOffset(n.set("year",i)),this.setMonth=(n,i)=>this.adjustOffset(n.set("month",i)),this.setDate=(n,i)=>this.adjustOffset(n.set("date",i)),this.setHours=(n,i)=>this.adjustOffset(n.set("hour",i)),this.setMinutes=(n,i)=>this.adjustOffset(n.set("minute",i)),this.setSeconds=(n,i)=>this.adjustOffset(n.set("second",i)),this.setMilliseconds=(n,i)=>this.adjustOffset(n.set("millisecond",i)),this.getDaysInMonth=n=>n.daysInMonth(),this.getWeekArray=n=>{const i=this.setLocaleToValue(n),s=this.startOfWeek(this.startOfMonth(i)),a=this.endOfWeek(this.endOfMonth(i));let o=0,l=s;const u=[];for(;l<a;){const c=Math.floor(o/7);u[c]=u[c]||[],u[c].push(l),l=this.addDays(l,1),o+=1}return u},this.getWeekNumber=n=>n.week(),this.getYearRange=([n,i])=>{const s=this.startOfYear(n),a=this.endOfYear(i),o=[];let l=s;for(;this.isBefore(l,a);)o.push(l),l=this.addYears(l,1);return o},this.dayjs=Swe(vi,e),this.locale=e,this.formats=B({},xwe,r),vi.extend(hwe)}getDayOfWeek(e){return e.day()+1}}var Tu;(function(t){t[t.Page=0]="Page",t[t.Horizontal=1]="Horizontal"})(Tu||(Tu={}));var ea;(function(t){t[t.Default=0]="Default",t[t.ScoreTab=1]="ScoreTab",t[t.Score=2]="Score",t[t.Tab=3]="Tab",t[t.TabMixed=4]="TabMixed"})(ea||(ea={}));class yu{static getValue(e){return yu._values||(yu._values=new Map),e=e.toLowerCase().replaceAll(" ",""),yu._values.has(e)?yu._values.get(e):0}static isPiano(e){return e<=7||e>=16&&e<=23}static isGuitar(e){return e>=24&&e<=39||e===105||e===43}}yu._values=new Map([["acousticgrandpiano",0],["brightacousticpiano",1],["electricgrandpiano",2],["honkytonkpiano",3],["electricpiano1",4],["electricpiano2",5],["harpsichord",6],["clavinet",7],["celesta",8],["glockenspiel",9],["musicbox",10],["vibraphone",11],["marimba",12],["xylophone",13],["tubularbells",14],["dulcimer",15],["drawbarorgan",16],["percussiveorgan",17],["rockorgan",18],["churchorgan",19],["reedorgan",20],["accordion",21],["harmonica",22],["tangoaccordion",23],["acousticguitarnylon",24],["acousticguitarsteel",25],["electricguitarjazz",26],["electricguitarclean",27],["electricguitarmuted",28],["overdrivenguitar",29],["distortionguitar",30],["guitarharmonics",31],["acousticbass",32],["electricbassfinger",33],["electricbasspick",34],["fretlessbass",35],["slapbass1",36],["slapbass2",37],["synthbass1",38],["synthbass2",39],["violin",40],["viola",41],["cello",42],["contrabass",43],["tremolostrings",44],["pizzicatostrings",45],["orchestralharp",46],["timpani",47],["stringensemble1",48],["stringensemble2",49],["synthstrings1",50],["synthstrings2",51],["choiraahs",52],["voiceoohs",53],["synthvoice",54],["orchestrahit",55],["trumpet",56],["trombone",57],["tuba",58],["mutedtrumpet",59],["frenchhorn",60],["brasssection",61],["synthbrass1",62],["synthbrass2",63],["sopranosax",64],["altosax",65],["tenorsax",66],["baritonesax",67],["oboe",68],["englishhorn",69],["bassoon",70],["clarinet",71],["piccolo",72],["flute",73],["recorder",74],["panflute",75],["blownbottle",76],["shakuhachi",77],["whistle",78],["ocarina",79],["lead1square",80],["lead2sawtooth",81],["lead3calliope",82],["lead4chiff",83],["lead5charang",84],["lead6voice",85],["lead7fifths",86],["lead8bassandlead",87],["pad1newage",88],["pad2warm",89],["pad3polysynth",90],["pad4choir",91],["pad5bowed",92],["pad6metallic",93],["pad7halo",94],["pad8sweep",95],["fx1rain",96],["fx2soundtrack",97],["fx3crystal",98],["fx4atmosphere",99],["fx5brightness",100],["fx6goblins",101],["fx7echoes",102],["fx8scifi",103],["sitar",104],["banjo",105],["shamisen",106],["koto",107],["kalimba",108],["bagpipe",109],["fiddle",110],["shanai",111],["tinklebell",112],["agogo",113],["steeldrums",114],["woodblock",115],["taikodrum",116],["melodictom",117],["synthdrum",118],["reversecymbal",119],["guitarfretnoise",120],["breathnoise",121],["seashore",122],["birdtweet",123],["telephonering",124],["helicopter",125],["applause",126],["gunshot",127]]);class Ip{init(e,r){this.data=e,this.settings=r}}var Ci;(function(t){t[t.General=0]="General",t[t.Format=1]="Format",t[t.AlphaTex=2]="AlphaTex"})(Ci||(Ci={}));class _i extends Error{constructor(e,r="",n){super(r??"",{cause:n}),this.type=e,this.inner=n??null,Object.setPrototypeOf(this,_i.prototype)}}class Xn extends _i{constructor(e=null,r=null){super(Ci.Format,e??"Unsupported format"),this.inner=r,Object.setPrototypeOf(this,Xn.prototype)}}var qn;(function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Heavy=2]="Heavy"})(qn||(qn={}));var di;(function(t){t[t.Tempo=0]="Tempo",t[t.Volume=1]="Volume",t[t.Instrument=2]="Instrument",t[t.Balance=3]="Balance"})(di||(di={}));class Wi{constructor(){this.isLinear=!1,this.type=di.Tempo,this.value=0,this.ratioPosition=0,this.text=""}static buildTempoAutomation(e,r,n,i){(i<1||i>5)&&(i=2);let s=new Float32Array([1,.5,1,1.5,2,3]),a=new Wi;return a.type=di.Tempo,a.isLinear=e,a.ratioPosition=r,a.value=n*s[i],a}static buildInstrumentAutomation(e,r,n){let i=new Wi;return i.type=di.Instrument,i.isLinear=e,i.ratioPosition=r,i.value=n,i}}var zt;(function(t){t[t.Neutral=0]="Neutral",t[t.C3=1]="C3",t[t.C4=2]="C4",t[t.F4=3]="F4",t[t.G2=4]="G2"})(zt||(zt={}));var br;(function(t){t[t._15ma=0]="_15ma",t[t._8va=1]="_8va",t[t.Regular=2]="Regular",t[t._8vb=3]="_8vb",t[t._15mb=4]="_15mb"})(br||(br={}));var Ia;(function(t){t[t.None=0]="None",t[t.Simple=1]="Simple",t[t.FirstOfDouble=2]="FirstOfDouble",t[t.SecondOfDouble=3]="SecondOfDouble"})(Ia||(Ia={}));class Hu{constructor(){this.id=Hu._globalBarId++,this.index=0,this.nextBar=null,this.previousBar=null,this.clef=zt.G2,this.clefOttava=br.Regular,this.voices=[],this.simileMark=Ia.None,this.isMultiVoice=!1,this.displayScale=1,this.displayWidth=-1}get masterBar(){return this.staff.track.score.masterBars[this.index]}get isEmpty(){for(let e=0,r=this.voices.length;e<r;e++)if(!this.voices[e].isEmpty)return!1;return!0}addVoice(e){e.bar=this,e.index=this.voices.length,this.voices.push(e)}finish(e,r=null){this.isMultiVoice=!1;for(let n=0,i=this.voices.length;n<i;n++){let s=this.voices[n];s.finish(e,r),n>0&&!s.isEmpty&&(this.isMultiVoice=!0)}}calculateDuration(){let e=0;for(let r of this.voices){let n=r.calculateDuration();n>e&&(e=n)}return e}}Hu._globalBarId=0;class Ht{static ticksToMillis(e,r){return e*(6e4/(r*Ht.QuarterTime))|0}static millisToTicks(e,r){return e/(6e4/(r*Ht.QuarterTime))|0}static toTicks(e){return Ht.valueToTicks(e)}static valueToTicks(e){let r=e;return r<0&&(r=1/-r),Ht.QuarterTime*(4/r)|0}static applyDot(e,r){return r?e+(e/4|0)*3:e+(e/2|0)}static applyTuplet(e,r,n){return e*n/r|0}static removeTuplet(e,r,n){return e*r/n|0}static dynamicToVelocity(e){return Ht.MinVelocity+e*Ht.VelocityIncrement}}Ht.QuarterTime=960;Ht.MinVelocity=15;Ht.VelocityIncrement=16;class Je{constructor(e=0,r=0){this.offset=e,this.value=r}}Je.MaxPosition=60;Je.MaxValue=12;var Fr;(function(t){t[t.Default=0]="Default",t[t.Gradual=1]="Gradual",t[t.Fast=2]="Fast"})(Fr||(Fr={}));var ct;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Bend=2]="Bend",t[t.Release=3]="Release",t[t.BendRelease=4]="BendRelease",t[t.Hold=5]="Hold",t[t.Prebend=6]="Prebend",t[t.PrebendBend=7]="PrebendBend",t[t.PrebendRelease=8]="PrebendRelease"})(ct||(ct={}));var Jr;(function(t){t[t.None=0]="None",t[t.BrushUp=1]="BrushUp",t[t.BrushDown=2]="BrushDown",t[t.ArpeggioUp=3]="ArpeggioUp",t[t.ArpeggioDown=4]="ArpeggioDown"})(Jr||(Jr={}));var $s;(function(t){t[t.None=0]="None",t[t.Crescendo=1]="Crescendo",t[t.Decrescendo=2]="Decrescendo"})($s||($s={}));var le;(function(t){t[t.QuadrupleWhole=-4]="QuadrupleWhole",t[t.DoubleWhole=-2]="DoubleWhole",t[t.Whole=1]="Whole",t[t.Half=2]="Half",t[t.Quarter=4]="Quarter",t[t.Eighth=8]="Eighth",t[t.Sixteenth=16]="Sixteenth",t[t.ThirtySecond=32]="ThirtySecond",t[t.SixtyFourth=64]="SixtyFourth",t[t.OneHundredTwentyEighth=128]="OneHundredTwentyEighth",t[t.TwoHundredFiftySixth=256]="TwoHundredFiftySixth"})(le||(le={}));var Jt;(function(t){t[t.PPP=0]="PPP",t[t.PP=1]="PP",t[t.P=2]="P",t[t.MP=3]="MP",t[t.MF=4]="MF",t[t.F=5]="F",t[t.FF=6]="FF",t[t.FFF=7]="FFF"})(Jt||(Jt={}));var Tt;(function(t){t[t.None=0]="None",t[t.OnBeat=1]="OnBeat",t[t.BeforeBeat=2]="BeforeBeat",t[t.BendGrace=3]="BendGrace"})(Tt||(Tt={}));var Vt;(function(t){t[t.Unknown=-2]="Unknown",t[t.NoOrDead=-1]="NoOrDead",t[t.Thumb=0]="Thumb",t[t.IndexFinger=1]="IndexFinger",t[t.MiddleFinger=2]="MiddleFinger",t[t.AnnularFinger=3]="AnnularFinger",t[t.LittleFinger=4]="LittleFinger"})(Vt||(Vt={}));var vt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Artificial=2]="Artificial",t[t.Pinch=3]="Pinch",t[t.Tap=4]="Tap",t[t.Semi=5]="Semi",t[t.Feedback=6]="Feedback"})(vt||(vt={}));var Vn;(function(t){t[t.Default=0]="Default",t[t.ForceNone=1]="ForceNone",t[t.ForceNatural=2]="ForceNatural",t[t.ForceSharp=3]="ForceSharp",t[t.ForceDoubleSharp=4]="ForceDoubleSharp",t[t.ForceFlat=5]="ForceFlat",t[t.ForceDoubleFlat=6]="ForceDoubleFlat"})(Vn||(Vn={}));var ki;(function(t){t[t.None=0]="None",t[t.IntoFromBelow=1]="IntoFromBelow",t[t.IntoFromAbove=2]="IntoFromAbove"})(ki||(ki={}));var jt;(function(t){t[t.None=0]="None",t[t.Shift=1]="Shift",t[t.Legato=2]="Legato",t[t.OutUp=3]="OutUp",t[t.OutDown=4]="OutDown",t[t.PickSlideDown=5]="PickSlideDown",t[t.PickSlideUp=6]="PickSlideUp"})(jt||(jt={}));var pr;(function(t){t[t.None=0]="None",t[t.Slight=1]="Slight",t[t.Wide=2]="Wide"})(pr||(pr={}));var bu;(function(t){t[t.Hidden=0]="Hidden",t[t.ShowWithBeams=1]="ShowWithBeams",t[t.ShowWithBars=2]="ShowWithBars"})(bu||(bu={}));var pl;(function(t){t[t.ScoreDefault=0]="ScoreDefault",t[t.ScoreForcePiano=1]="ScoreForcePiano",t[t.SingleNoteEffectBand=2]="SingleNoteEffectBand",t[t.SingleNoteEffectBandForcePiano=3]="SingleNoteEffectBandForcePiano"})(pl||(pl={}));var ci;(function(t){t[t.GuitarPro=0]="GuitarPro",t[t.SongBook=1]="SongBook"})(ci||(ci={}));var Nt;(function(t){t[t.ScoreTitle=0]="ScoreTitle",t[t.ScoreSubTitle=1]="ScoreSubTitle",t[t.ScoreArtist=2]="ScoreArtist",t[t.ScoreAlbum=3]="ScoreAlbum",t[t.ScoreWords=4]="ScoreWords",t[t.ScoreMusic=5]="ScoreMusic",t[t.ScoreWordsAndMusic=6]="ScoreWordsAndMusic",t[t.ScoreCopyright=7]="ScoreCopyright",t[t.GuitarTuning=8]="GuitarTuning",t[t.TrackNames=9]="TrackNames",t[t.ChordDiagrams=10]="ChordDiagrams",t[t.ParenthesisOnTiedBends=11]="ParenthesisOnTiedBends",t[t.TabNotesOnTiedBends=12]="TabNotesOnTiedBends",t[t.ZerosOnDiveWhammys=13]="ZerosOnDiveWhammys",t[t.EffectAlternateEndings=14]="EffectAlternateEndings",t[t.EffectCapo=15]="EffectCapo",t[t.EffectChordNames=16]="EffectChordNames",t[t.EffectCrescendo=17]="EffectCrescendo",t[t.EffectDynamics=18]="EffectDynamics",t[t.EffectFadeIn=19]="EffectFadeIn",t[t.EffectFermata=20]="EffectFermata",t[t.EffectFingering=21]="EffectFingering",t[t.EffectHarmonics=22]="EffectHarmonics",t[t.EffectLetRing=23]="EffectLetRing",t[t.EffectLyrics=24]="EffectLyrics",t[t.EffectMarker=25]="EffectMarker",t[t.EffectOttavia=26]="EffectOttavia",t[t.EffectPalmMute=27]="EffectPalmMute",t[t.EffectPickSlide=28]="EffectPickSlide",t[t.EffectPickStroke=29]="EffectPickStroke",t[t.EffectSlightBeatVibrato=30]="EffectSlightBeatVibrato",t[t.EffectSlightNoteVibrato=31]="EffectSlightNoteVibrato",t[t.EffectTap=32]="EffectTap",t[t.EffectTempo=33]="EffectTempo",t[t.EffectText=34]="EffectText",t[t.EffectTrill=35]="EffectTrill",t[t.EffectTripletFeel=36]="EffectTripletFeel",t[t.EffectWhammyBar=37]="EffectWhammyBar",t[t.EffectWideBeatVibrato=38]="EffectWideBeatVibrato",t[t.EffectWideNoteVibrato=39]="EffectWideNoteVibrato",t[t.EffectLeftHandTap=40]="EffectLeftHandTap"})(Nt||(Nt={}));class iy{constructor(){this.notationMode=ci.GuitarPro,this.fingeringMode=pl.ScoreDefault,this.elements=new Map,this.rhythmMode=bu.Hidden,this.rhythmHeight=15,this.transpositionPitches=[],this.displayTranspositionPitches=[],this.smallGraceTabNotes=!0,this.extendBendArrowsOnTiedNotes=!0,this.extendLineEffectsToBeatEnd=!1,this.slurHeight=5}isNotationElementVisible(e){return this.elements.has(e)?this.elements.get(e):iy.defaultElements.has(e)?iy.defaultElements.get(e):!0}}iy.defaultElements=new Map([[Nt.ZerosOnDiveWhammys,!1]]);class Ez{constructor(e){this._value=void 0,this._factory=e}get value(){return this._value===void 0&&(this._value=this._factory()),this._value}}var el;(function(t){t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"})(el||(el={}));class Ad{static format(e,r){return`[AlphaTab][${e}] ${r}`}debug(e,r,...n){console.debug(Ad.format(e,r),...n)}warning(e,r,...n){console.warn(Ad.format(e,r),...n)}info(e,r,...n){console.info(Ad.format(e,r),...n)}error(e,r,...n){console.error(Ad.format(e,r),...n)}}Ad.logLevel=el.Info;class Fe{static shouldLog(e){return Fe.logLevel!==el.None&&e>=Fe.logLevel}static debug(e,r,...n){Fe.shouldLog(el.Debug)&&Fe.log.debug(e,r,...n)}static warning(e,r,...n){Fe.shouldLog(el.Warning)&&Fe.log.warning(e,r,...n)}static info(e,r,...n){Fe.shouldLog(el.Info)&&Fe.log.info(e,r,...n)}static error(e,r,...n){Fe.shouldLog(el.Error)&&Fe.log.error(e,r,...n)}}Fe.logLevel=el.Info;Fe.log=new Ad;class Cwe{constructor(){this.note=null,this.noteValue=0,this.octave=0}get realValue(){return this.octave*12+this.noteValue}}class Xr{static getIndex(e){let r=0;return e<0?r:Math.log2(e)|0}static keySignatureIsFlat(e){return e<0}static keySignatureIsNatural(e){return e===0}static keySignatureIsSharp(e){return e>0}static applyPitchOffsets(e,r){for(let n=0;n<r.tracks.length;n++){if(n<e.notation.displayTranspositionPitches.length)for(let i of r.tracks[n].staves)i.displayTranspositionPitch=-e.notation.displayTranspositionPitches[n];if(n<e.notation.transpositionPitches.length)for(let i of r.tracks[n].staves)i.transpositionPitch=-e.notation.transpositionPitches[n]}}static fingerToString(e,r,n,i){if(e.notation.fingeringMode===pl.ScoreForcePiano||e.notation.fingeringMode===pl.SingleNoteEffectBandForcePiano||yu.isPiano(r.voice.bar.staff.track.playbackInfo.program))switch(n){case Vt.Unknown:case Vt.NoOrDead:return null;case Vt.Thumb:return"1";case Vt.IndexFinger:return"2";case Vt.MiddleFinger:return"3";case Vt.AnnularFinger:return"4";case Vt.LittleFinger:return"5";default:return null}if(i)switch(n){case Vt.Unknown:case Vt.NoOrDead:return"0";case Vt.Thumb:return"T";case Vt.IndexFinger:return"1";case Vt.MiddleFinger:return"2";case Vt.AnnularFinger:return"3";case Vt.LittleFinger:return"4";default:return null}switch(n){case Vt.Unknown:case Vt.NoOrDead:return null;case Vt.Thumb:return"p";case Vt.IndexFinger:return"i";case Vt.MiddleFinger:return"m";case Vt.AnnularFinger:return"a";case Vt.LittleFinger:return"c";default:return null}}static isTuning(e){return!!Xr.parseTuning(e)}static parseTuning(e){let r="",n="";for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=48&&a<=57){if(!r)return null;n+=String.fromCharCode(a)}else if(a>=65&&a<=90||a>=97&&a<=122||a===35)r+=String.fromCharCode(a);else return null}if(!n||!r)return null;let i=new Cwe;return i.octave=parseInt(n)+1,i.note=r.toLowerCase(),i.noteValue=Xr.getToneForText(i.note),i}static getTuningForText(e){let r=Xr.parseTuning(e);return r?r.realValue:-1}static getToneForText(e){switch(e.toLowerCase()){case"c":return 0;case"c#":case"db":return 1;case"d":return 2;case"d#":case"eb":return 3;case"e":return 4;case"f":return 5;case"f#":case"gb":return 6;case"g":return 7;case"g#":case"ab":return 8;case"a":return 9;case"a#":case"bb":return 10;case"b":return 11;default:return 0}}static newGuid(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)}static isAlmostEqualTo(e,r){return Math.abs(e-r)<1e-5}static toHexString(e,r=0){let n="",i="0123456789ABCDEF";do n=String.fromCharCode(i.charCodeAt(e&15))+n,e=e>>4;while(e>0);for(;n.length<r;)n="0"+n;return n}}var Fi;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"})(Fi||(Fi={}));var R;(function(t){t[t.None=-1]="None",t[t.GClef=57424]="GClef",t[t.CClef=57436]="CClef",t[t.FClef=57442]="FClef",t[t.UnpitchedPercussionClef1=57449]="UnpitchedPercussionClef1",t[t.SixStringTabClef=57453]="SixStringTabClef",t[t.FourStringTabClef=57454]="FourStringTabClef",t[t.TimeSig0=57472]="TimeSig0",t[t.TimeSig1=57473]="TimeSig1",t[t.TimeSig2=57474]="TimeSig2",t[t.TimeSig3=57475]="TimeSig3",t[t.TimeSig4=57476]="TimeSig4",t[t.TimeSig5=57477]="TimeSig5",t[t.TimeSig6=57478]="TimeSig6",t[t.TimeSig7=57479]="TimeSig7",t[t.TimeSig8=57480]="TimeSig8",t[t.TimeSig9=57481]="TimeSig9",t[t.TimeSigCommon=57482]="TimeSigCommon",t[t.TimeSigCutCommon=57483]="TimeSigCutCommon",t[t.NoteheadDoubleWholeSquare=57505]="NoteheadDoubleWholeSquare",t[t.NoteheadDoubleWhole=57504]="NoteheadDoubleWhole",t[t.NoteheadWhole=57506]="NoteheadWhole",t[t.NoteheadHalf=57507]="NoteheadHalf",t[t.NoteheadBlack=57508]="NoteheadBlack",t[t.NoteheadNull=57509]="NoteheadNull",t[t.NoteheadXOrnate=57514]="NoteheadXOrnate",t[t.NoteheadTriangleUpWhole=57531]="NoteheadTriangleUpWhole",t[t.NoteheadTriangleUpHalf=57532]="NoteheadTriangleUpHalf",t[t.NoteheadTriangleUpBlack=57534]="NoteheadTriangleUpBlack",t[t.NoteheadDiamondBlackWide=57564]="NoteheadDiamondBlackWide",t[t.NoteheadDiamondWhite=57565]="NoteheadDiamondWhite",t[t.NoteheadDiamondWhiteWide=57566]="NoteheadDiamondWhiteWide",t[t.NoteheadCircleX=57523]="NoteheadCircleX",t[t.NoteheadXWhole=57511]="NoteheadXWhole",t[t.NoteheadXHalf=57512]="NoteheadXHalf",t[t.NoteheadXBlack=57513]="NoteheadXBlack",t[t.NoteheadParenthesis=57550]="NoteheadParenthesis",t[t.NoteheadSlashedBlack2=57552]="NoteheadSlashedBlack2",t[t.NoteheadCircleSlash=57591]="NoteheadCircleSlash",t[t.NoteheadHeavyX=57592]="NoteheadHeavyX",t[t.NoteheadHeavyXHat=57593]="NoteheadHeavyXHat",t[t.NoteQuarterUp=57813]="NoteQuarterUp",t[t.NoteEighthUp=57815]="NoteEighthUp",t[t.Tremolo3=57890]="Tremolo3",t[t.Tremolo2=57889]="Tremolo2",t[t.Tremolo1=57888]="Tremolo1",t[t.FlagEighthUp=57920]="FlagEighthUp",t[t.FlagEighthDown=57921]="FlagEighthDown",t[t.FlagSixteenthUp=57922]="FlagSixteenthUp",t[t.FlagSixteenthDown=57923]="FlagSixteenthDown",t[t.FlagThirtySecondUp=57924]="FlagThirtySecondUp",t[t.FlagThirtySecondDown=57925]="FlagThirtySecondDown",t[t.FlagSixtyFourthUp=57926]="FlagSixtyFourthUp",t[t.FlagSixtyFourthDown=57927]="FlagSixtyFourthDown",t[t.FlagOneHundredTwentyEighthUp=57928]="FlagOneHundredTwentyEighthUp",t[t.FlagOneHundredTwentyEighthDown=57929]="FlagOneHundredTwentyEighthDown",t[t.FlagTwoHundredFiftySixthUp=57930]="FlagTwoHundredFiftySixthUp",t[t.FlagTwoHundredFiftySixthDown=57931]="FlagTwoHundredFiftySixthDown",t[t.AccidentalFlat=57952]="AccidentalFlat",t[t.AccidentalNatural=57953]="AccidentalNatural",t[t.AccidentalSharp=57954]="AccidentalSharp",t[t.AccidentalDoubleSharp=57955]="AccidentalDoubleSharp",t[t.AccidentalDoubleFlat=57956]="AccidentalDoubleFlat",t[t.AccidentalQuarterToneFlatArrowUp=57968]="AccidentalQuarterToneFlatArrowUp",t[t.AccidentalQuarterToneSharpArrowUp=57972]="AccidentalQuarterToneSharpArrowUp",t[t.AccidentalQuarterToneNaturalArrowUp=57970]="AccidentalQuarterToneNaturalArrowUp",t[t.ArticAccentAbove=58528]="ArticAccentAbove",t[t.ArticStaccatoAbove=58530]="ArticStaccatoAbove",t[t.ArticMarcatoAbove=58540]="ArticMarcatoAbove",t[t.FermataAbove=58560]="FermataAbove",t[t.FermataShortAbove=58564]="FermataShortAbove",t[t.FermataLongAbove=58566]="FermataLongAbove",t[t.RestLonga=58593]="RestLonga",t[t.RestDoubleWhole=58594]="RestDoubleWhole",t[t.RestWhole=58595]="RestWhole",t[t.RestHalf=58596]="RestHalf",t[t.RestQuarter=58597]="RestQuarter",t[t.RestEighth=58598]="RestEighth",t[t.RestSixteenth=58599]="RestSixteenth",t[t.RestThirtySecond=58600]="RestThirtySecond",t[t.RestSixtyFourth=58601]="RestSixtyFourth",t[t.RestOneHundredTwentyEighth=58602]="RestOneHundredTwentyEighth",t[t.RestTwoHundredFiftySixth=58603]="RestTwoHundredFiftySixth",t[t.Repeat1Bar=58624]="Repeat1Bar",t[t.Repeat2Bars=58625]="Repeat2Bars",t[t.Ottava=58640]="Ottava",t[t.OttavaAlta=58641]="OttavaAlta",t[t.OttavaBassaVb=58652]="OttavaBassaVb",t[t.Quindicesima=58644]="Quindicesima",t[t.QuindicesimaAlta=58645]="QuindicesimaAlta",t[t.DynamicPPP=58666]="DynamicPPP",t[t.DynamicPP=58667]="DynamicPP",t[t.DynamicPiano=58656]="DynamicPiano",t[t.DynamicMP=58668]="DynamicMP",t[t.DynamicMF=58669]="DynamicMF",t[t.DynamicForte=58658]="DynamicForte",t[t.DynamicFF=58671]="DynamicFF",t[t.DynamicFFF=58672]="DynamicFFF",t[t.OrnamentTrill=58726]="OrnamentTrill",t[t.StringsDownBow=58896]="StringsDownBow",t[t.StringsUpBow=58898]="StringsUpBow",t[t.PictEdgeOfCymbal=59177]="PictEdgeOfCymbal",t[t.GuitarString0=59443]="GuitarString0",t[t.GuitarString1=59444]="GuitarString1",t[t.GuitarString2=59445]="GuitarString2",t[t.GuitarString3=59446]="GuitarString3",t[t.GuitarString4=59447]="GuitarString4",t[t.GuitarString5=59448]="GuitarString5",t[t.GuitarString6=59449]="GuitarString6",t[t.GuitarString7=59450]="GuitarString7",t[t.GuitarString8=59451]="GuitarString8",t[t.GuitarString9=59452]="GuitarString9",t[t.GuitarGolpe=59458]="GuitarGolpe",t[t.FretboardX=59481]="FretboardX",t[t.FretboardO=59482]="FretboardO",t[t.WiggleTrill=60068]="WiggleTrill",t[t.WiggleVibratoMediumFast=60126]="WiggleVibratoMediumFast",t[t.OctaveBaselineM=60565]="OctaveBaselineM",t[t.OctaveBaselineB=60563]="OctaveBaselineB"})(R||(R={}));var kt;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(kt||(kt={}));var Xt;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(Xt||(Xt={}));class nt{constructor(e="",r=0,n=0,i=R.None,s=R.None,a=R.None,o=R.None,l=Xt.Middle){this.elementType=e,this.outputMidiNumber=n,this.staffLine=r,this.noteHeadDefault=i,this.noteHeadHalf=s!==R.None?s:i,this.noteHeadWhole=a!==R.None?a:i,this.techniqueSymbol=o,this.techniqueSymbolPlacement=l}getSymbol(e){switch(e){case le.Whole:return this.noteHeadWhole;case le.Half:return this.noteHeadHalf;default:return this.noteHeadDefault}}}class Ri{static articulationFromElementVariation(e,r){return e<Ri.gp6ElementAndVariationToArticulation.length?(r>=Ri.gp6ElementAndVariationToArticulation.length&&(r=0),Ri.gp6ElementAndVariationToArticulation[e][r]):38}static getArticulation(e){const r=e.percussionArticulation,n=e.beat.voice.bar.staff.track.percussionArticulations;return r<n.length?n[r]:Ri.getArticulationByValue(r)}static getElementAndVariation(e){const r=Ri.getArticulation(e);if(!r)return[-1,-1];for(let n=0;n<Ri.gp6ElementAndVariationToArticulation.length;n++){const i=Ri.gp6ElementAndVariationToArticulation[n];for(let s=0;s<i.length;s++){const a=Ri.getArticulationByValue(i[s]);if((a==null?void 0:a.outputMidiNumber)===r.outputMidiNumber)return[n,s]}}return[-1,-1]}static getArticulationByValue(e){return Ri.instrumentArticulations.has(e)?Ri.instrumentArticulations.get(e):null}}Ri.gp6ElementAndVariationToArticulation=[[35,35,35],[38,91,37],[99,100,99],[56,100,56],[102,103,102],[43,43,43],[45,45,45],[47,47,47],[48,48,48],[50,50,50],[42,92,46],[44,44,44],[57,98,57],[49,97,49],[55,95,55],[51,93,127],[52,96,52]];Ri.instrumentArticulations=new Map([[38,new nt("snare",3,38,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[37,new nt("snare",3,37,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[91,new nt("snare",3,38,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[42,new nt("hiHat",-1,42,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[92,new nt("hiHat",-1,46,R.NoteheadCircleSlash,R.NoteheadCircleSlash,R.NoteheadCircleSlash)],[46,new nt("hiHat",-1,46,R.NoteheadCircleX,R.NoteheadCircleX,R.NoteheadCircleX)],[44,new nt("hiHat",9,44,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[35,new nt("kickDrum",8,35,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[36,new nt("kickDrum",7,36,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[50,new nt("tom",1,50,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[48,new nt("tom",2,48,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[47,new nt("tom",4,47,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[45,new nt("tom",5,45,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[43,new nt("tom",6,43,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[93,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.PictEdgeOfCymbal,Xt.Bottom)],[51,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[53,new nt("ride",0,53,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[94,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,Xt.Top)],[55,new nt("splash",-2,55,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[95,new nt("splash",-2,55,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,Xt.Bottom)],[52,new nt("china",-3,52,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat)],[96,new nt("china",-3,52,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat)],[49,new nt("crash",-2,49,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX)],[97,new nt("crash",-2,49,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX,R.ArticStaccatoAbove,Xt.Bottom)],[57,new nt("crash",-1,57,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX)],[98,new nt("crash",-1,57,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX,R.ArticStaccatoAbove,Xt.Bottom)],[99,new nt("cowbell",1,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[100,new nt("cowbell",1,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[56,new nt("cowbell",0,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[101,new nt("cowbell",0,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[102,new nt("cowbell",-1,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[103,new nt("cowbell",-1,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[77,new nt("woodblock",-9,77,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[76,new nt("woodblock",-10,76,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[60,new nt("bongo",-4,60,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[104,new nt("bongo",-5,60,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,Xt.Middle)],[105,new nt("bongo",-6,60,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[61,new nt("bongo",-7,61,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[106,new nt("bongo",-8,61,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,Xt.Middle)],[107,new nt("bongo",-16,61,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[66,new nt("timbale",10,66,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[65,new nt("timbale",9,65,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[68,new nt("agogo",12,68,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[67,new nt("agogo",11,67,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[64,new nt("conga",17,64,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[108,new nt("conga",16,64,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[109,new nt("conga",15,64,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,Xt.Middle)],[63,new nt("conga",14,63,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[110,new nt("conga",13,63,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[62,new nt("conga",19,62,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,Xt.Middle)],[72,new nt("whistle",-11,72,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[71,new nt("whistle",-17,71,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[73,new nt("guiro",38,73,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[74,new nt("guiro",37,74,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[86,new nt("surdo",36,86,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[87,new nt("surdo",35,87,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadParenthesis,Xt.Middle)],[54,new nt("tambourine",3,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[111,new nt("tambourine",2,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.StringsUpBow,Xt.Bottom)],[112,new nt("tambourine",1,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.StringsDownBow,Xt.Bottom)],[113,new nt("tambourine",-7,54,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[79,new nt("cuica",30,79,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[78,new nt("cuica",29,78,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[58,new nt("vibraslap",28,58,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[81,new nt("triangle",27,81,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[80,new nt("triangle",26,80,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadParenthesis,Xt.Middle)],[114,new nt("grancassa",25,43,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[115,new nt("piatti",18,49,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[116,new nt("piatti",24,49,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[69,new nt("cabasa",23,69,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[117,new nt("cabasa",22,69,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,Xt.Bottom)],[85,new nt("castanets",21,85,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[75,new nt("claves",20,75,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[70,new nt("maraca",-12,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[118,new nt("maraca",-13,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,Xt.Bottom)],[119,new nt("maraca",-14,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[120,new nt("maraca",-15,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,Xt.Bottom)],[82,new nt("shaker",-23,54,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[122,new nt("shaker",-24,54,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,Xt.Bottom)],[84,new nt("bellTree",-18,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[123,new nt("bellTree",-19,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,Xt.Bottom)],[83,new nt("jingleBell",-20,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[124,new nt("unpitched",-21,62,R.NoteheadNull,R.NoteheadNull,R.NoteheadNull,R.GuitarGolpe,Xt.Top)],[125,new nt("unpitched",-22,62,R.NoteheadNull,R.NoteheadNull,R.NoteheadNull,R.GuitarGolpe,Xt.Bottom)],[39,new nt("handClap",3,39,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[40,new nt("snare",3,40,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[31,new nt("snare",3,40,R.NoteheadSlashedBlack2,R.NoteheadSlashedBlack2,R.NoteheadSlashedBlack2)],[41,new nt("tom",5,41,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[59,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.PictEdgeOfCymbal,Xt.Bottom)],[126,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[127,new nt("ride",2,59,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[29,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,Xt.Top)],[30,new nt("crash",-3,49,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[33,new nt("snare",3,37,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[34,new nt("snare",3,38,R.NoteheadBlack,R.NoteheadBlack,R.NoteheadBlack)]]);class Zh{constructor(){this.tieDestinationNoteId=-1,this.tieOriginNoteId=-1,this.slurDestinationNoteId=-1,this.slurOriginNoteId=-1,this.hammerPullDestinationNoteId=-1,this.hammerPullOriginNoteId=-1}}let fa=class ro{constructor(){this.id=ro.GlobalNoteId++,this.index=0,this.accentuated=qn.None,this.bendType=ct.None,this.bendStyle=Fr.Default,this.bendOrigin=null,this.isContinuedBend=!1,this.bendPoints=null,this.maxBendPoint=null,this.fret=-1,this.string=-1,this.octave=-1,this.tone=-1,this.percussionArticulation=-1,this.isVisible=!0,this.isLeftHandTapped=!1,this.isHammerPullOrigin=!1,this.hammerPullOrigin=null,this.hammerPullDestination=null,this.isSlurDestination=!1,this.slurOrigin=null,this.slurDestination=null,this.harmonicType=vt.None,this.harmonicValue=0,this.isGhost=!1,this.isLetRing=!1,this.letRingDestination=null,this.isPalmMute=!1,this.palmMuteDestination=null,this.isDead=!1,this.isStaccato=!1,this.slideInType=ki.None,this.slideOutType=jt.None,this.slideTarget=null,this.slideOrigin=null,this.vibrato=pr.None,this.tieOrigin=null,this.tieDestination=null,this.isTieDestination=!1,this.leftHandFinger=Vt.Unknown,this.rightHandFinger=Vt.Unknown,this.isFingering=!1,this.trillValue=-1,this.trillSpeed=le.ThirtySecond,this.durationPercent=1,this.accidentalMode=Vn.Default,this.dynamics=Jt.F,this.isEffectSlurOrigin=!1,this.hasEffectSlur=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this._noteIdBag=null}get hasBend(){return this.bendPoints!==null&&this.bendType!==ct.None}get isStringed(){return this.string>=0}get isPiano(){return!this.isStringed&&this.octave>=0&&this.tone>=0}get isPercussion(){return!this.isStringed&&this.percussionArticulation>=0}get element(){return this.isPercussion?Ri.getElementAndVariation(this)[0]:-1}get variation(){return this.isPercussion?Ri.getElementAndVariation(this)[1]:-1}get isHammerPullDestination(){return!!this.hammerPullOrigin}get isSlurOrigin(){return!!this.slurDestination}get isHarmonic(){return this.harmonicType!==vt.None}get isTieOrigin(){return this.tieDestination!==null}get trillFret(){return this.trillValue-this.stringTuning}get isTrill(){return this.trillValue>=0}get isEffectSlurDestination(){return!!this.effectSlurOrigin}get stringTuning(){return this.beat.voice.bar.staff.capo+ro.getStringTuning(this.beat.voice.bar.staff,this.string)}static getStringTuning(e,r){return e.tuning.length>0?e.tuning[e.tuning.length-(r-1)-1]:0}get realValue(){return this.calculateRealValue(!0,!0)}get realValueWithoutHarmonic(){return this.calculateRealValue(!0,!1)}calculateRealValue(e,r){const n=e?this.beat.voice.bar.staff.transpositionPitch:0;if(r){let i=this.calculateRealValue(e,!1);return this.isStringed&&(this.harmonicType===vt.Natural?i=this.harmonicPitch+this.stringTuning-n:i+=this.harmonicPitch),i}else return this.isPercussion?this.percussionArticulation:this.isStringed?this.fret+this.stringTuning-n:this.isPiano?this.octave*12+this.tone-n:0}get harmonicPitch(){if(this.harmonicType===vt.None||!this.isStringed)return 0;let e=this.harmonicValue;return Xr.isAlmostEqualTo(e,2.4)?36:Xr.isAlmostEqualTo(e,2.7)?34:e<3?0:e<=3.5?31:e<=4?28:e<=5?24:e<=6?34:e<=7?19:e<=8.5?36:e<=9?28:e<=10?34:e<=11?0:e<=12?12:e<14?0:e<=15?34:e<=16?28:e<=17?36:e<=18?0:e<=19?19:e<=21?0:e<=22?36:e<=24?24:0}get initialBendValue(){return this.hasBend?Math.floor(this.bendPoints[0].value/2):this.bendOrigin?Math.floor(this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value/2):this.isTieDestination&&this.tieOrigin.bendOrigin?Math.floor(this.tieOrigin.bendOrigin.bendPoints[this.tieOrigin.bendOrigin.bendPoints.length-1].value/2):this.beat.hasWhammyBar?Math.floor(this.beat.whammyBarPoints[0].value/2):this.beat.isContinuedWhammy?Math.floor(this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value/2):0}get displayValue(){return this.displayValueWithoutBend+this.initialBendValue}get displayValueWithoutBend(){let e=this.realValue;switch(this.harmonicType!==vt.Natural&&this.harmonicType!==vt.None&&(e-=this.harmonicPitch),this.beat.ottava){case br._15ma:e-=24;break;case br._8va:e-=12;break;case br.Regular:break;case br._8vb:e+=12;break;case br._15mb:e+=24;break}switch(this.beat.voice.bar.clefOttava){case br._15ma:e-=24;break;case br._8va:e-=12;break;case br.Regular:break;case br._8vb:e+=12;break;case br._15mb:e+=24;break}return e-this.beat.voice.bar.staff.displayTranspositionPitch}get hasQuarterToneOffset(){return this.hasBend?this.bendPoints[0].value%2!==0:this.bendOrigin?this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value%2!==0:this.beat.hasWhammyBar?this.beat.whammyBarPoints[0].value%2!==0:this.beat.isContinuedWhammy?this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value%2!==0:!1}addBendPoint(e){let r=this.bendPoints;r===null&&(r=[],this.bendPoints=r),r.push(e),(!this.maxBendPoint||e.value>this.maxBendPoint.value)&&(this.maxBendPoint=e),this.bendType===ct.None&&(this.bendType=ct.Custom)}finish(e,r=null){let n=new Ez(()=>ro.nextNoteOnSameLine(this)),i=e&&e.notation.notationMode===ci.SongBook;if(this.isTieDestination&&(this.chain(r),i&&this.tieOrigin&&this.tieOrigin.isLetRing&&(this.isLetRing=!0)),this.isLetRing&&(!n.value||!n.value.isLetRing?this.letRingDestination=this:this.letRingDestination=n.value,i&&this.isTieDestination&&!this.tieOrigin.hasBend&&(this.isVisible=!1)),this.isPalmMute&&(!n.value||!n.value.isPalmMute?this.palmMuteDestination=this:this.palmMuteDestination=n.value),this.isHammerPullOrigin){let o=ro.findHammerPullDestination(this);o?(this.hammerPullDestination=o,o.hammerPullOrigin=this):this.isHammerPullOrigin=!1}switch(this.slideOutType){case jt.Shift:case jt.Legato:this.slideTarget=n.value,this.slideTarget?this.slideTarget.slideOrigin=this:this.slideOutType=jt.None;break}let s=null;this.isHammerPullOrigin&&this.hammerPullDestination?s=this.hammerPullDestination:this.slideOutType===jt.Legato&&this.slideTarget&&(s=this.slideTarget),s&&(this.hasEffectSlur=!0,this.effectSlurOrigin&&this.beat.pickStroke===Fi.None?(this.effectSlurOrigin.effectSlurDestination=s,this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin,this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=s,this.effectSlurDestination.effectSlurOrigin=this));const a=this.bendPoints;if(a!=null&&a.length>0&&this.bendType===ct.Custom){let o=this.isTieDestination&&this.tieOrigin.hasBend;if(this.isContinuedBend=o,a.length===4){let l=a[0],u=a[1],c=a[2],h=a[3];u.value===c.value?h.value>l.value?u.value>h.value?this.bendType=ct.BendRelease:!o&&l.value>0?(this.bendType=ct.PrebendBend,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.Bend,a.splice(2,1),a.splice(1,1)):h.value<l.value?o?(this.bendType=ct.Release,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.PrebendRelease,a.splice(2,1),a.splice(1,1)):u.value>l.value?this.bendType=ct.BendRelease:l.value>0&&!o?(this.bendType=ct.Prebend,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.Hold,a.splice(2,1),a.splice(1,1)):Fe.warning("Model","Unsupported bend type detected, fallback to custom",null)}else if(a.length===2){let l=a[0],u=a[1];u.value>l.value?!o&&l.value>0?this.bendType=ct.PrebendBend:this.bendType=ct.Bend:u.value<l.value?o?this.bendType=ct.Release:this.bendType=ct.PrebendRelease:this.bendType=ct.Hold}}else(a===null||a.length===0)&&(this.bendType=ct.None);this.initialBendValue>0&&(this.accidentalMode=Vn.Default)}static nextNoteOnSameLine(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+ro.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;r=r.nextBeat}return null}static findHammerPullDestination(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+ro.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;for(let i=e.string;i>0;i--)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}for(let i=e.string;i<=e.beat.voice.bar.staff.tuning.length;i++)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}r=r.nextBeat}return null}static findTieOrigin(e){let r=e.beat.previousBeat;for(;r&&r.voice.bar.index>=e.beat.voice.bar.index-ro.MaxOffsetForSameLineSearch;){if(e.isStringed){let n=r.getNoteOnString(e.string);if(n)return n}else if(e.octave===-1&&e.tone===-1){if(e.index<r.notes.length)return r.notes[e.index]}else{let n=r.getNoteWithRealValue(e.realValue);if(n)return n}r=r.previousBeat}return null}chain(e=null){if(e!==null)if(this._noteIdBag!==null){let r;e.has(ro.NoteIdLookupKey)?r=e.get(ro.NoteIdLookupKey):(r=new Map,e.set(ro.NoteIdLookupKey,r)),(this._noteIdBag.hammerPullDestinationNoteId!==-1||this._noteIdBag.tieDestinationNoteId!==-1||this._noteIdBag.slurDestinationNoteId!==-1)&&r.set(this.id,this),this._noteIdBag.hammerPullOriginNoteId!==-1&&(this.hammerPullOrigin=r.get(this._noteIdBag.hammerPullOriginNoteId),this.hammerPullOrigin.hammerPullDestination=this),this._noteIdBag.tieOriginNoteId!==-1&&(this.tieOrigin=r.get(this._noteIdBag.tieOriginNoteId),this.tieOrigin.tieDestination=this),this._noteIdBag.slurOriginNoteId!==-1&&(this.slurOrigin=r.get(this._noteIdBag.slurOriginNoteId),this.slurOrigin.slurDestination=this),this._noteIdBag=null}else{if(!this.isTieDestination&&this.tieOrigin===null)return;let r=this.tieOrigin??ro.findTieOrigin(this);r?(r.tieDestination=this,this.tieOrigin=r,this.fret=r.fret,this.octave=r.octave,this.tone=r.tone,r.hasBend&&(this.bendOrigin=this.tieOrigin)):this.isTieDestination=!1}}toJson(e){this.tieDestination!==null&&e.set("tiedestinationnoteid",this.tieDestination.id),this.tieOrigin!==null&&e.set("tieoriginnoteid",this.tieOrigin.id),this.slurDestination!==null&&e.set("slurdestinationnoteid",this.slurDestination.id),this.slurOrigin!==null&&e.set("sluroriginnoteid",this.slurOrigin.id),this.hammerPullOrigin!==null&&e.set("hammerpulloriginnoteid",this.hammerPullOrigin.id),this.hammerPullDestination!==null&&e.set("hammerpulldestinationnoteid",this.hammerPullDestination.id)}setProperty(e,r){switch(e){case"tiedestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.tieDestinationNoteId=r,!0;case"tieoriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.tieOriginNoteId=r,!0;case"slurdestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.slurDestinationNoteId=r,!0;case"sluroriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.slurOriginNoteId=r,!0;case"hammerpulloriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.hammerPullOriginNoteId=r,!0;case"hammerpulldestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Zh),this._noteIdBag.hammerPullDestinationNoteId=r,!0}return!1}};fa.GlobalNoteId=0;fa.MaxOffsetForSameLineSearch=3;fa.NoteIdLookupKey="NoteIdLookup";class Di{constructor(e){this._isEqualLengthTuplet=!0,this.totalDuration=0,this.beats=[],this.isFull=!1,this.voice=e}check(e){if(this.beats.length===0)return this.beats.push(e),this.totalDuration+=e.playbackDuration,!0;if(e.graceType!==Tt.None)return!0;if(e.voice!==this.voice||this.isFull||e.tupletNumerator!==this.beats[0].tupletNumerator||e.tupletDenominator!==this.beats[0].tupletDenominator)return!1;if(e.playbackDuration!==this.beats[0].playbackDuration&&(this._isEqualLengthTuplet=!1),this.beats.push(e),this.totalDuration+=e.playbackDuration,this._isEqualLengthTuplet)this.beats.length===this.beats[0].tupletNumerator&&(this.isFull=!0);else{let r=this.beats[0].tupletNumerator/this.beats[0].tupletDenominator|0;for(let n of Di.AllTicks)if(this.totalDuration===n*r){this.isFull=!0;break}}return!0}}Di.HalfTicks=1920;Di.QuarterTicks=960;Di.EighthTicks=480;Di.SixteenthTicks=240;Di.ThirtySecondTicks=120;Di.SixtyFourthTicks=60;Di.OneHundredTwentyEighthTicks=30;Di.TwoHundredFiftySixthTicks=15;Di.AllTicks=[Di.HalfTicks,Di.QuarterTicks,Di.EighthTicks,Di.SixteenthTicks,Di.ThirtySecondTicks,Di.SixtyFourthTicks,Di.OneHundredTwentyEighthTicks,Di.TwoHundredFiftySixthTicks];var yr;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Dive=2]="Dive",t[t.Dip=3]="Dip",t[t.Hold=4]="Hold",t[t.Predive=5]="Predive",t[t.PrediveDive=6]="PrediveDive"})(yr||(yr={}));class Rz{static clone(e){const r=new Je;return r.offset=e.offset,r.value=e.value,r}}class Dz{static clone(e){const r=new fa;if(r.index=e.index,r.accentuated=e.accentuated,r.bendType=e.bendType,r.bendStyle=e.bendStyle,r.isContinuedBend=e.isContinuedBend,e.bendPoints){r.bendPoints=[];for(const n of e.bendPoints)r.addBendPoint(Rz.clone(n))}return r.fret=e.fret,r.string=e.string,r.octave=e.octave,r.tone=e.tone,r.percussionArticulation=e.percussionArticulation,r.isVisible=e.isVisible,r.isLeftHandTapped=e.isLeftHandTapped,r.isHammerPullOrigin=e.isHammerPullOrigin,r.isSlurDestination=e.isSlurDestination,r.harmonicType=e.harmonicType,r.harmonicValue=e.harmonicValue,r.isGhost=e.isGhost,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.isDead=e.isDead,r.isStaccato=e.isStaccato,r.slideInType=e.slideInType,r.slideOutType=e.slideOutType,r.vibrato=e.vibrato,r.isTieDestination=e.isTieDestination,r.leftHandFinger=e.leftHandFinger,r.rightHandFinger=e.rightHandFinger,r.isFingering=e.isFingering,r.trillValue=e.trillValue,r.trillSpeed=e.trillSpeed,r.durationPercent=e.durationPercent,r.accidentalMode=e.accidentalMode,r.dynamics=e.dynamics,r}}class _we{static clone(e){const r=new Wi;return r.isLinear=e.isLinear,r.type=e.type,r.value=e.value,r.ratioPosition=e.ratioPosition,r.text=e.text,r}}class KM{static clone(e){const r=new Ui;r.index=e.index,r.notes=[];for(const n of e.notes)r.addNote(Dz.clone(n));r.isEmpty=e.isEmpty,r.whammyStyle=e.whammyStyle,r.ottava=e.ottava,r.isLegatoOrigin=e.isLegatoOrigin,r.duration=e.duration,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.automations=[];for(const n of e.automations)r.automations.push(_we.clone(n));if(r.dots=e.dots,r.fadeIn=e.fadeIn,r.lyrics=e.lyrics?e.lyrics.slice():null,r.hasRasgueado=e.hasRasgueado,r.pop=e.pop,r.slap=e.slap,r.tap=e.tap,r.text=e.text,r.brushType=e.brushType,r.brushDuration=e.brushDuration,r.tupletDenominator=e.tupletDenominator,r.tupletNumerator=e.tupletNumerator,r.isContinuedWhammy=e.isContinuedWhammy,r.whammyBarType=e.whammyBarType,e.whammyBarPoints){r.whammyBarPoints=[];for(const n of e.whammyBarPoints)r.addWhammyBarPoint(Rz.clone(n))}return r.vibrato=e.vibrato,r.chordId=e.chordId,r.graceType=e.graceType,r.pickStroke=e.pickStroke,r.tremoloSpeed=e.tremoloSpeed,r.crescendo=e.crescendo,r.displayStart=e.displayStart,r.playbackStart=e.playbackStart,r.displayDuration=e.displayDuration,r.playbackDuration=e.playbackDuration,r.dynamics=e.dynamics,r.invertBeamDirection=e.invertBeamDirection,r.preferredBeamDirection=e.preferredBeamDirection,r.isEffectSlurOrigin=e.isEffectSlurOrigin,r.beamingMode=e.beamingMode,r}}class KT{constructor(){this.beats=[],this.id="empty",this.isComplete=!1}addBeat(e){e.graceIndex=this.beats.length,e.graceGroup=this,this.beats.push(e)}finish(){this.beats.length>0&&(this.id=this.beats[0].absoluteDisplayStart+"_"+this.beats[0].voice.index)}}var nl;(function(t){t[t.Auto=0]="Auto",t[t.ForceSplitToNext=1]="ForceSplitToNext",t[t.ForceMergeWithNext=2]="ForceMergeWithNext"})(nl||(nl={}));class Ui{constructor(){this.id=Ui._globalBeatId++,this.index=0,this.previousBeat=null,this.nextBeat=null,this.notes=[],this.noteStringLookup=new Map,this.noteValueLookup=new Map,this.isEmpty=!1,this.whammyStyle=Fr.Default,this.ottava=br.Regular,this.fermata=null,this.isLegatoOrigin=!1,this.minNote=null,this.maxNote=null,this.maxStringNote=null,this.minStringNote=null,this.duration=le.Quarter,this.isLetRing=!1,this.isPalmMute=!1,this.automations=[],this.dots=0,this.fadeIn=!1,this.lyrics=null,this.hasRasgueado=!1,this.pop=!1,this.slap=!1,this.tap=!1,this.text=null,this.brushType=Jr.None,this.brushDuration=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.tupletGroup=null,this.isContinuedWhammy=!1,this.whammyBarType=yr.None,this.whammyBarPoints=null,this.maxWhammyPoint=null,this.minWhammyPoint=null,this.vibrato=pr.None,this.chordId=null,this.graceType=Tt.None,this.graceGroup=null,this.graceIndex=-1,this.pickStroke=Fi.None,this.tremoloSpeed=null,this.crescendo=$s.None,this.displayStart=0,this.playbackStart=0,this.displayDuration=0,this.playbackDuration=0,this.dynamics=Jt.F,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isEffectSlurOrigin=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this.beamingMode=nl.Auto}get isLastOfVoice(){return this.index===this.voice.beats.length-1}get isLegatoDestination(){return!!this.previousBeat&&this.previousBeat.isLegatoOrigin}get isRest(){return this.isEmpty||this.notes.length===0}get isFullBarRest(){return this.isRest&&this.voice.beats.length===1&&this.duration===le.Whole}get hasTuplet(){return!(this.tupletDenominator===-1&&this.tupletNumerator===-1)&&!(this.tupletDenominator===1&&this.tupletNumerator===1)}get hasWhammyBar(){return this.whammyBarPoints!==null&&this.whammyBarType!==yr.None}get hasChord(){return!!this.chordId}get chord(){return this.chordId?this.voice.bar.staff.getChord(this.chordId):null}get isTremolo(){return!!this.tremoloSpeed}get absoluteDisplayStart(){return this.voice.bar.masterBar.start+this.displayStart}get absolutePlaybackStart(){return this.voice.bar.masterBar.start+this.playbackStart}get isEffectSlurDestination(){return!!this.effectSlurOrigin}addWhammyBarPoint(e){let r=this.whammyBarPoints;r===null&&(r=[],this.whammyBarPoints=r),r.push(e),(!this.maxWhammyPoint||e.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=e),(!this.minWhammyPoint||e.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=e),this.whammyBarType===yr.None&&(this.whammyBarType=yr.Custom)}removeWhammyBarPoint(e){const r=this.whammyBarPoints;if(r===null||e<0||e>=r.length)return;r.splice(e,1);let n=r[e];if(n===this.maxWhammyPoint){this.maxWhammyPoint=null;for(let i of r)(!this.maxWhammyPoint||i.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=i)}if(n===this.minWhammyPoint){this.minWhammyPoint=null;for(let i of r)(!this.minWhammyPoint||i.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=i)}}addNote(e){e.beat=this,e.index=this.notes.length,this.notes.push(e),e.isStringed&&this.noteStringLookup.set(e.string,e)}removeNote(e){let r=this.notes.indexOf(e);r>=0&&(this.notes.splice(r,1),e.isStringed&&this.noteStringLookup.delete(e.string))}getAutomation(e){for(let r=0,n=this.automations.length;r<n;r++){let i=this.automations[r];if(i.type===e)return i}return null}getNoteOnString(e){return this.noteStringLookup.has(e)?this.noteStringLookup.get(e):null}calculateDuration(){if(this.isFullBarRest)return this.voice.bar.masterBar.calculateDuration();let e=Ht.toTicks(this.duration);return this.dots===2?e=Ht.applyDot(e,!0):this.dots===1&&(e=Ht.applyDot(e,!1)),this.tupletDenominator>0&&this.tupletNumerator>=0&&(e=Ht.applyTuplet(e,this.tupletNumerator,this.tupletDenominator)),e}updateDurations(){let e=this.calculateDuration();switch(this.playbackDuration=e,this.graceType){case Tt.BeforeBeat:case Tt.OnBeat:switch(this.duration){case le.Sixteenth:this.playbackDuration=Ht.toTicks(le.SixtyFourth);break;case le.ThirtySecond:this.playbackDuration=Ht.toTicks(le.OneHundredTwentyEighth);break;default:this.playbackDuration=Ht.toTicks(le.ThirtySecond);break}this.displayDuration=0;break;case Tt.BendGrace:this.playbackDuration/=2,this.displayDuration=0;break;default:this.displayDuration=e;let r=this.previousBeat;r&&r.graceType===Tt.BendGrace&&(this.playbackDuration=r.playbackDuration);break}}finishTuplet(){let e=this.previousBeat,r=e?e.tupletGroup:null;(this.hasTuplet||this.graceType!==Tt.None&&r)&&((!e||!r||!r.check(this))&&(r=new Di(this.voice),r.check(this)),this.tupletGroup=r)}finish(e,r=null){switch(this.getAutomation(di.Instrument)===null&&this.index===0&&this.voice.index===0&&this.voice.bar.index===0&&this.voice.bar.staff.index===0&&this.automations.push(Wi.buildInstrumentAutomation(!1,0,this.voice.bar.staff.track.playbackInfo.program)),this.graceType){case Tt.OnBeat:case Tt.BeforeBeat:let u=this.graceGroup.beats.length;u===1?this.duration=le.Eighth:u===2?this.duration=le.Sixteenth:this.duration=le.ThirtySecond;break}let n=e?e.notation.notationMode:ci.GuitarPro,i=this.text==="grad"||this.text==="grad.";i&&n===ci.SongBook&&(this.text="");let s=!1;this.minNote=null,this.maxNote=null,this.minStringNote=null,this.maxStringNote=null;let a=0,o=!1;for(let u=0,c=this.notes.length;u<c;u++){let h=this.notes[u];if(h.dynamics=this.dynamics,h.finish(e,r),h.isLetRing&&(this.isLetRing=!0),h.isPalmMute&&(this.isPalmMute=!0),n===ci.SongBook&&h.hasBend&&this.graceType!==Tt.BendGrace){if(!h.isTieOrigin)switch(h.bendType){case ct.Bend:case ct.PrebendRelease:case ct.PrebendBend:s=!0;break}i||h.bendStyle===Fr.Gradual?(i=!0,h.bendStyle=Fr.Gradual,s=!1):h.bendStyle=Fr.Fast}h.isVisible&&(a++,(!this.minNote||h.realValue<this.minNote.realValue)&&(this.minNote=h),(!this.maxNote||h.realValue>this.maxNote.realValue)&&(this.maxNote=h),(!this.minStringNote||h.string<this.minStringNote.string)&&(this.minStringNote=h),(!this.maxStringNote||h.string>this.maxStringNote.string)&&(this.maxStringNote=h),h.hasEffectSlur&&(o=!0))}if(o&&(this.effectSlurOrigin?(this.effectSlurOrigin.effectSlurDestination=this.nextBeat,this.effectSlurOrigin.effectSlurDestination&&(this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin),this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=this.nextBeat,this.effectSlurDestination&&(this.effectSlurDestination.effectSlurOrigin=this))),this.notes.length>0&&a===0&&(this.isEmpty=!0),!this.isRest&&(!this.isLetRing||!this.isPalmMute)){let u=this.previousBeat;for(;u&&u.isRest;)this.isLetRing||(u.isLetRing=!1),this.isPalmMute||(u.isPalmMute=!1),u=u.previousBeat}else this.isRest&&this.previousBeat&&e&&e.notation.notationMode===ci.GuitarPro&&(this.previousBeat.isLetRing&&(this.isLetRing=!0),this.previousBeat.isPalmMute&&(this.isPalmMute=!0));const l=this.whammyBarPoints;if(l!==null&&l.length>0&&this.whammyBarType===yr.Custom){n===ci.SongBook&&(this.whammyStyle=i?Fr.Gradual:Fr.Fast);let u=!!this.previousBeat&&this.previousBeat.hasWhammyBar;if(this.isContinuedWhammy=u,l.length===4){let c=l[0],h=l[1],f=l[2],g=l[3];h.value===f.value&&(c.value<h.value&&h.value<g.value||c.value>h.value&&h.value>g.value?(c.value!==0&&!u?this.whammyBarType=yr.PrediveDive:this.whammyBarType=yr.Dive,l.splice(2,1),l.splice(1,1)):c.value>h.value&&h.value<g.value||c.value<h.value&&h.value>g.value?(this.whammyBarType=yr.Dip,(h.offset===f.offset||n===ci.SongBook)&&l.splice(2,1)):c.value===h.value&&h.value===g.value&&(c.value!==0&&!u?this.whammyBarType=yr.Predive:this.whammyBarType=yr.Hold,l.splice(2,1),l.splice(1,1)))}}if(this.updateDurations(),s){let u=KM.clone(this);u.id=Ui._globalBeatId++,u.pickStroke=Fi.None;for(let c=0,h=u.notes.length;c<h;c++){let f=u.notes[c],g=this.notes[c];if(f.bendType=ct.None,f.maxBendPoint=null,f.bendPoints=null,f.bendStyle=Fr.Default,f.id=fa.GlobalNoteId++,g.isTieOrigin&&(f.tieDestination=g.tieDestination,g.tieDestination.tieOrigin=f),g.isTieDestination&&(f.tieOrigin=g.tieOrigin?g.tieOrigin:null,g.tieOrigin.tieDestination=f),g.hasBend&&g.isTieOrigin){let m=fa.findTieOrigin(g);if(m&&m.hasBend){f.bendType=ct.Hold;let y=g.bendPoints[g.bendPoints.length-1];f.addBendPoint(new Je(0,y.value)),f.addBendPoint(new Je(Je.MaxPosition,y.value))}}f.isTieDestination=!0}this.graceType=Tt.BendGrace,this.graceGroup=new KT,this.graceGroup.addBeat(this),this.graceGroup.isComplete=!0,this.graceGroup.finish(),this.updateDurations(),this.voice.insertBeat(this,u),u.graceGroup=new KT,u.graceGroup.addBeat(this),u.graceGroup.isComplete=!0,u.graceGroup.finish()}}isBefore(e){return this.voice.bar.index<e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index<e.index}isAfter(e){return this.voice.bar.index>e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index>e.index}hasNoteOnString(e){return this.noteStringLookup.has(e)}getNoteWithRealValue(e){return this.noteValueLookup.has(e)?this.noteValueLookup.get(e):null}chain(e=null){for(const r of this.notes)this.noteValueLookup.set(r.realValue,r),r.chain(e)}}Ui._globalBeatId=0;class Gc{constructor(){this.name="",this.firstFret=1,this.strings=[],this.barreFrets=[],this.showName=!0,this.showDiagram=!0,this.showFingering=!0}get uniqueId(){return[this.name,this.firstFret.toString(),this.strings.join(","),this.barreFrets.join(","),this.showDiagram.toString(),this.showFingering.toString(),this.showName.toString()].join("|")}}var ni;(function(t){t[t.Cb=-7]="Cb",t[t.Gb=-6]="Gb",t[t.Db=-5]="Db",t[t.Ab=-4]="Ab",t[t.Eb=-3]="Eb",t[t.Bb=-2]="Bb",t[t.F=-1]="F",t[t.C=0]="C",t[t.G=1]="G",t[t.D=2]="D",t[t.A=3]="A",t[t.E=4]="E",t[t.B=5]="B",t[t.FSharp=6]="FSharp",t[t.CSharp=7]="CSharp"})(ni||(ni={}));var Ki;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Dash=4]="Dash"})(Ki||(Ki={}));class jn{constructor(){this.startBar=0,this.text=""}finish(e=!1){this.chunks=[],this.parse(this.text,0,this.chunks,e)}parse(e,r,n,i){if(!e)return;let s=Ki.Begin,a=Ki.Begin,o=!1,l=0;for(;r<e.length;){let u=e.charCodeAt(r);switch(s){case Ki.IgnoreSpaces:switch(u){case jn.CharCodeLF:case jn.CharCodeCR:case jn.CharCodeTab:break;case jn.CharCodeSpace:if(!o){s=a;continue}break;default:o=!1,s=a;continue}break;case Ki.Begin:switch(u){case jn.CharCodeBrackedOpen:s=Ki.Comment;break;default:l=r,s=Ki.Text;continue}break;case Ki.Comment:switch(u){case jn.CharCodeBrackedClose:s=Ki.Begin;break}break;case Ki.Text:switch(u){case jn.CharCodeDash:s=Ki.Dash;break;case jn.CharCodeCR:case jn.CharCodeLF:case jn.CharCodeSpace:let c=e.substr(l,r-l);this.addChunk(c,i),s=Ki.IgnoreSpaces,a=Ki.Begin;break}break;case Ki.Dash:switch(u){case jn.CharCodeDash:break;default:let c=e.substr(l,r-l);this.addChunk(c,i),o=!0,s=Ki.IgnoreSpaces,a=Ki.Begin;continue}break}r+=1}s===Ki.Text&&r!==l&&this.addChunk(e.substr(l,r-l),i)}addChunk(e,r){e=this.prepareChunk(e),(!r||e.length>0&&e!=="-")&&this.chunks.push(e)}prepareChunk(e){let r=e.split("+").join(" "),n=r.length;for(;n>0&&r.charAt(n-1)==="_";)n--;return n!==r.length?r.substr(0,n):r}}jn.CharCodeLF=10;jn.CharCodeTab=9;jn.CharCodeCR=13;jn.CharCodeSpace=32;jn.CharCodeBrackedClose=93;jn.CharCodeBrackedOpen=91;jn.CharCodeDash=45;var jc;(function(t){t[t.Major=0]="Major",t[t.Minor=1]="Minor"})(jc||(jc={}));var Qt;(function(t){t[t.NoTripletFeel=0]="NoTripletFeel",t[t.Triplet16th=1]="Triplet16th",t[t.Triplet8th=2]="Triplet8th",t[t.Dotted16th=3]="Dotted16th",t[t.Dotted8th=4]="Dotted8th",t[t.Scottish16th=5]="Scottish16th",t[t.Scottish8th=6]="Scottish8th"})(Qt||(Qt={}));class Lu{constructor(){this.alternateEndings=0,this.nextMasterBar=null,this.previousMasterBar=null,this.index=0,this.keySignature=ni.C,this.keySignatureType=jc.Major,this.isDoubleBar=!1,this.isRepeatStart=!1,this.repeatCount=0,this.timeSignatureNumerator=4,this.timeSignatureDenominator=4,this.timeSignatureCommon=!1,this.tripletFeel=Qt.NoTripletFeel,this.section=null,this.tempoAutomation=null,this.fermata=null,this.start=0,this.isAnacrusis=!1,this.displayScale=1,this.displayWidth=-1}get isRepeatEnd(){return this.repeatCount>0}get isSectionStart(){return!!this.section}calculateDuration(e=!0){if(this.isAnacrusis&&e){let r=0;for(let n of this.score.tracks)for(let i of n.staves){let s=this.index<i.bars.length?i.bars[this.index].calculateDuration():0;s>r&&(r=s)}return r}return this.timeSignatureNumerator*Ht.valueToTicks(this.timeSignatureDenominator)}addFermata(e,r){let n=this.fermata;n===null&&(n=new Map,this.fermata=n),n.set(e,r)}getFermata(e){const r=this.fermata;return r===null?null:r.has(e.playbackStart)?r.get(e.playbackStart):null}}Lu.MaxAlternateEndings=8;class Twe{constructor(){this.hideDynamics=!1}}class TF{constructor(){this.masterBars=[],this.opening=null,this.closings=[],this.isClosed=!1}get openings(){const e=this.opening;return e?[e]:[]}get isOpened(){var e;return((e=this.opening)==null?void 0:e.isRepeatStart)===!0}addMasterBar(e){this.opening===null&&(this.opening=e),this.masterBars.push(e),e.repeatGroup=this,e.isRepeatEnd&&(this.closings.push(e),this.isClosed=!0)}}class Ch{constructor(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0,this.album="",this.artist="",this.copyright="",this.instructions="",this.music="",this.notices="",this.subTitle="",this.title="",this.words="",this.tab="",this.tempo=120,this.tempoLabel="",this.masterBars=[],this.tracks=[],this.defaultSystemsLayout=3,this.systemsLayout=[],this.stylesheet=new Twe}rebuildRepeatGroups(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0;for(const e of this.masterBars)this.addMasterBarToRepeatGroups(e)}addMasterBar(e){e.score=this,e.index=this.masterBars.length,this.masterBars.length!==0&&(e.previousMasterBar=this.masterBars[this.masterBars.length-1],e.previousMasterBar.nextMasterBar=e,e.start=e.previousMasterBar.start+(e.previousMasterBar.isAnacrusis?0:e.previousMasterBar.calculateDuration())),this.addMasterBarToRepeatGroups(e),this.masterBars.push(e)}addMasterBarToRepeatGroups(e){var r;e.isRepeatStart?((r=this._currentRepeatGroup)!=null&&r.isClosed&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--),this._currentRepeatGroup=new TF,this._openedRepeatGroups.push(this._currentRepeatGroup),this._properlyOpenedRepeatGroups++):this._currentRepeatGroup||(this._currentRepeatGroup=new TF,this._openedRepeatGroups.push(this._currentRepeatGroup)),this._currentRepeatGroup.addMasterBar(e),e.isRepeatEnd&&this._properlyOpenedRepeatGroups>1&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--,this._currentRepeatGroup=this._openedRepeatGroups.length>0?this._openedRepeatGroups[this._openedRepeatGroups.length-1]:null)}addTrack(e){e.score=this,e.index=this.tracks.length,this.tracks.push(e)}finish(e){const r=new Map;for(let n=0,i=this.tracks.length;n<i;n++)this.tracks[n].finish(e,r)}}class q1{constructor(){this.marker="",this.text=""}}class Gn extends _i{constructor(e){super(Ci.Format,e),Object.setPrototypeOf(this,Gn.prototype)}}let fn=class au{constructor(e,r,n,i=255){this.raw=0,this.raw=(i&255)<<24|(e&255)<<16|(r&255)<<8|n&255,this.updateRgba()}updateRgba(){this.a===255?this.rgba="#"+Xr.toHexString(this.r,2)+Xr.toHexString(this.g,2)+Xr.toHexString(this.b,2):this.rgba=`rgba(${this.r},${this.g},${this.b},${this.a/255})`}get a(){return this.raw>>24&255}get r(){return this.raw>>16&255}get g(){return this.raw>>8&255}get b(){return this.raw&255}static random(e=100){return new au(Math.random()*255|0,Math.random()*255|0,Math.random()*255|0,e)}static fromJson(e){switch(typeof e){case"number":{const r=new au(0,0,0,0);return r.raw=e,r.updateRgba(),r}case"string":{const r=e;if(r.startsWith("#")){if(r.length===4)return new au(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17);if(r.length===5)return new au(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17,parseInt(r[4],16)*17);if(r.length===7)return new au(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16));if(r.length===9)return new au(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16),parseInt(r.substring(7,9),16))}else if(r.startsWith("rgba")||r.startsWith("rgb")){const n=r.indexOf("("),i=r.lastIndexOf(")");if(n===-1||i===-1)throw new Gn("No values specified for rgb/rgba function");const s=r.substring(n+1,i).split(",");if(s.length===3)return new au(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));if(s.length===4)return new au(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseFloat(s[3])*255)}return null}}throw new Gn("Unsupported format for color")}static toJson(e){return e.raw}};fn.BlackRgb="#000000";class Iz{constructor(){this.volume=15,this.balance=8,this.port=1,this.program=0,this.primaryChannel=0,this.secondaryChannel=0,this.isMute=!1,this.isSolo=!1}}class ze{static getTextForTuning(e,r){let n=ze.getTextPartsForTuning(e);return r?n.join(""):n[0]}static getTextPartsForTuning(e,r=-1){let n=e/12|0,i=e%12;return[["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][i],(n+r).toString()]}static getDefaultTuningFor(e){return ze._defaultTunings.has(e)?ze._defaultTunings.get(e):null}static getPresetsFor(e){switch(e){case 7:return ze._sevenStrings;case 6:return ze._sixStrings;case 5:return ze._fiveStrings;case 4:return ze._fourStrings}return[]}static initialize(){ze._defaultTunings.set(7,new ze("Guitar 7 strings",[64,59,55,50,45,40,35],!0)),ze._sevenStrings.push(ze._defaultTunings.get(7)),ze._defaultTunings.set(6,new ze("Guitar Standard Tuning",[64,59,55,50,45,40],!0)),ze._sixStrings.push(ze._defaultTunings.get(6)),ze._sixStrings.push(new ze("Guitar Tune down  step",[63,58,54,49,44,39],!1)),ze._sixStrings.push(new ze("Guitar Tune down 1 step",[62,57,53,48,43,38],!1)),ze._sixStrings.push(new ze("Guitar Tune down 2 step",[60,55,51,46,41,36],!1)),ze._sixStrings.push(new ze("Guitar Dropped D Tuning",[64,59,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Dropped D Tuning variant",[64,57,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Double Dropped D Tuning",[62,59,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Dropped E Tuning",[66,61,57,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Dropped C Tuning",[62,57,53,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open C Tuning",[64,60,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open Cm Tuning",[63,60,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open C6 Tuning",[64,57,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open Cmaj7 Tuning",[64,59,55,52,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open D Tuning",[62,57,54,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open Dm Tuning",[62,57,53,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open D5 Tuning",[62,57,50,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open D6 Tuning",[62,59,54,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open Dsus4 Tuning",[62,57,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open E Tuning",[64,59,56,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Open Em Tuning",[64,59,55,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Open Esus11 Tuning",[64,59,55,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Open F Tuning",[65,60,53,48,45,41],!1)),ze._sixStrings.push(new ze("Guitar Open G Tuning",[62,59,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open Gm Tuning",[62,58,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open G6 Tuning",[64,59,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open Gsus4 Tuning",[62,60,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open A Tuning",[64,61,57,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Open Am Tuning",[64,60,57,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Nashville Tuning",[64,59,67,62,57,52],!1)),ze._sixStrings.push(new ze("Bass 6 Strings Tuning",[48,43,38,33,28,23],!1)),ze._sixStrings.push(new ze("Lute or Vihuela Tuning",[64,59,54,50,45,40],!1)),ze._defaultTunings.set(5,new ze("Bass 5 Strings Tuning",[43,38,33,28,23],!0)),ze._fiveStrings.push(ze._defaultTunings.get(5)),ze._fiveStrings.push(new ze("Banjo Dropped C Tuning",[62,59,55,48,67],!1)),ze._fiveStrings.push(new ze("Banjo Open D Tuning",[62,57,54,50,69],!1)),ze._fiveStrings.push(new ze("Banjo Open G Tuning",[62,59,55,50,67],!1)),ze._fiveStrings.push(new ze("Banjo G Minor Tuning",[62,58,55,50,67],!1)),ze._fiveStrings.push(new ze("Banjo G Modal Tuning",[62,57,55,50,67],!1)),ze._defaultTunings.set(4,new ze("Bass Standard Tuning",[43,38,33,28],!0)),ze._fourStrings.push(ze._defaultTunings.get(4)),ze._fourStrings.push(new ze("Bass Tune down  step",[42,37,32,27],!1)),ze._fourStrings.push(new ze("Bass Tune down 1 step",[41,36,31,26],!1)),ze._fourStrings.push(new ze("Bass Tune down 2 step",[39,34,29,24],!1)),ze._fourStrings.push(new ze("Bass Dropped D Tuning",[43,38,33,26],!1)),ze._fourStrings.push(new ze("Ukulele C Tuning",[45,40,36,43],!1)),ze._fourStrings.push(new ze("Ukulele G Tuning",[52,47,43,38],!1)),ze._fourStrings.push(new ze("Mandolin Standard Tuning",[64,57,50,43],!1)),ze._fourStrings.push(new ze("Mandolin or Violin Tuning",[76,69,62,55],!1)),ze._fourStrings.push(new ze("Viola Tuning",[69,62,55,48],!1)),ze._fourStrings.push(new ze("Cello Tuning",[57,50,43,36],!1))}static findTuning(e){let r=ze.getPresetsFor(e.length);for(let n=0,i=r.length;n<i;n++){let s=r[n],a=!0;for(let o=0,l=e.length;o<l;o++)if(e[o]!==s.tunings[o]){a=!1;break}if(a)return s}return null}constructor(e="",r=null,n=!1){this.isStandard=n,this.name=e,this.tunings=r??[]}finish(){const e=ze.findTuning(this.tunings);e&&(this.name=e.name,this.isStandard=e.isStandard),this.name=this.name.trim()}}ze._sevenStrings=[];ze._sixStrings=[];ze._fiveStrings=[];ze._fourStrings=[];ze._defaultTunings=new Map;ze.defaultAccidentals=["","#","","#","","","#","","#","","#",""];ze.defaultSteps=["C","C","D","D","E","F","F","G","G","A","A","B"];ze.initialize();class Lz{constructor(){this.index=0,this.bars=[],this.chords=null,this.capo=0,this.transpositionPitch=0,this.displayTranspositionPitch=0,this.stringTuning=new ze("",[],!1),this.showTablature=!0,this.showStandardNotation=!0,this.isPercussion=!1,this.standardNotationLineCount=5}get tuning(){return this.stringTuning.tunings}get tuningName(){return this.stringTuning.name}get isStringed(){return this.stringTuning.tunings.length>0}finish(e,r=null){this.stringTuning.finish();for(let n=0,i=this.bars.length;n<i;n++)this.bars[n].finish(e,r)}addChord(e,r){r.staff=this;let n=this.chords;n===null&&(n=new Map,this.chords=n),n.set(e,r)}hasChord(e){var r;return((r=this.chords)==null?void 0:r.has(e))??!1}getChord(e){var r;return((r=this.chords)==null?void 0:r.get(e))??null}addBar(e){let r=this.bars;e.staff=this,e.index=r.length,r.length>0&&(e.previousBar=r[r.length-1],e.previousBar.nextBar=e),r.push(e)}}class Gl{constructor(){this.index=0,this.staves=[],this.playbackInfo=new Iz,this.color=new fn(200,0,0,255),this.name="",this.shortName="",this.defaultSystemsLayout=3,this.systemsLayout=[],this.percussionArticulations=[]}ensureStaveCount(e){for(;this.staves.length<e;)this.addStaff(new Lz)}addStaff(e){e.index=this.staves.length,e.track=this,this.staves.push(e)}finish(e,r=null){this.shortName||(this.shortName=this.name,this.shortName.length>Gl.ShortNameMaxLength&&(this.shortName=this.shortName.substr(0,Gl.ShortNameMaxLength)));for(let n=0,i=this.staves.length;n<i;n++)this.staves[n].finish(e,r)}applyLyrics(e){for(let n of e)n.finish();let r=this.staves[0];for(let n=0;n<e.length;n++){let i=e[n];if(i.startBar>=0&&i.startBar<r.bars.length){let s=r.bars[i.startBar].voices[0].beats[0];for(let a=0;a<i.chunks.length&&s;a++){for(;s&&(s.isEmpty||s.isRest);)s=s.nextBeat;s&&(s.lyrics||(s.lyrics=new Array(e.length),s.lyrics.fill("")),s.lyrics[n]=i.chunks[a],s=s.nextBeat)}}}}}Gl.ShortNameMaxLength=10;let jl=class Fz{constructor(){this.id=Fz._globalBarId++,this.index=0,this.beats=[],this.isEmpty=!0}insertBeat(e,r){r.nextBeat=e.nextBeat,r.nextBeat&&(r.nextBeat.previousBeat=r),r.previousBeat=e,r.voice=this,e.nextBeat=r,this.beats.splice(e.index+1,0,r)}addBeat(e){e.voice=this,e.index=this.beats.length,this.beats.push(e),e.isEmpty||(this.isEmpty=!1)}chain(e,r=null){if(this.bar){if(e.index<this.beats.length-1)e.nextBeat=this.beats[e.index+1],e.nextBeat.previousBeat=e;else if(e.isLastOfVoice&&e.voice.bar.nextBar){let n=this.bar.nextBar.voices[this.index];n.beats.length>0&&(e.nextBeat=n.beats[0]),e.nextBeat.previousBeat=e}e.chain(r)}}addGraceBeat(e){if(this.beats.length===0){this.addBeat(e);return}let r=this.beats[this.beats.length-1];this.beats.splice(this.beats.length-1,1),this.addBeat(e),this.addBeat(r),this.isEmpty=!1}getBeatAtPlaybackStart(e){return this._beatLookup.has(e)?this._beatLookup.get(e):null}finish(e,r=null){this._beatLookup=new Map;let n=null;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];o.index=a,this.chain(o,r),o.graceType===Tt.None?(o.graceGroup=n,n&&(n.isComplete=!0),n=null):(n||(n=new KT),n.addBeat(o))}let i=0,s=0;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];if(o.index=a,o.finish(e,r),o.graceType===Tt.None){if(o.graceGroup){const l=o.graceGroup.beats[0],u=o.graceGroup.beats[o.graceGroup.beats.length-1];if(l.graceType!==Tt.BendGrace){let c=u.playbackStart+u.playbackDuration-l.playbackStart;switch(l.graceType){case Tt.BeforeBeat:l.previousBeat?(l.previousBeat.playbackDuration-=c,l.previousBeat.voice==this?s=l.previousBeat.playbackStart+l.previousBeat.playbackDuration:s=-c):s=-c;for(const h of o.graceGroup.beats)this._beatLookup.delete(h.playbackStart),h.playbackStart=s,this._beatLookup.set(h.playbackStart,o),s+=h.playbackDuration;break;case Tt.OnBeat:o.playbackDuration-=c,u.voice===this?s=u.playbackStart+u.playbackDuration:s=-c;break}}}o.displayStart=i,o.playbackStart=s,o.fermata?this.bar.masterBar.addFermata(o.playbackStart,o.fermata):o.fermata=this.bar.masterBar.getFermata(o),this._beatLookup.set(o.playbackStart,o)}else o.displayStart=i,o.playbackStart=s;o.finishTuplet(),o.graceGroup&&o.graceGroup.finish(),i+=o.displayDuration,s+=o.playbackDuration}}calculateDuration(){if(this.isEmpty||this.beats.length===0)return 0;let e=this.beats[this.beats.length-1],r=this.beats[0];return e.playbackStart+e.playbackDuration-r.playbackStart}};jl._globalBarId=0;class qt{static float64ToBytes(e){return qt._dataView.setFloat64(0,e,!0),this._conversionByteArray}static bytesToFloat64(e){throw qt._conversionByteArray.set(e,0),qt._dataView.getFloat64(0,!0)}static uint16ToInt16(e){return qt._dataView.setUint16(0,e,!0),qt._dataView.getInt16(0,!0)}static int16ToUint32(e){return qt._dataView.setInt16(0,e,!0),qt._dataView.getUint32(0,!0)}static int32ToUint16(e){return qt._dataView.setInt32(0,e,!0),qt._dataView.getUint16(0,!0)}static int32ToInt16(e){return qt._dataView.setInt32(0,e,!0),qt._dataView.getInt16(0,!0)}static int32ToUint32(e){return qt._dataView.setInt32(0,e,!0),qt._dataView.getUint32(0,!0)}static uint8ToInt8(e){return qt._dataView.setUint8(0,e),qt._dataView.getInt8(0)}}qt._conversionBuffer=new ArrayBuffer(8);qt._conversionByteArray=new Uint8Array(qt._conversionBuffer);qt._dataView=new DataView(qt._conversionBuffer);class _e{static readInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return r<<24|n<<16|i<<8|s}static readInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static readUInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static decodeUInt32LE(e,r){let n=e[r],i=e[r+1],s=e[r+2];return e[r+3]<<24|s<<16|i<<8|n}static readUInt16LE(e){let r=e.readByte(),n=e.readByte();return qt.int32ToUint16(n<<8|r)}static readInt16LE(e){let r=e.readByte(),n=e.readByte();return qt.int32ToInt16(n<<8|r)}static readUInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return qt.int32ToUint32(r<<24|n<<16|i<<8|s)}static readUInt16BE(e){let r=e.readByte(),n=e.readByte();return qt.int32ToInt16(r<<8|n)}static readInt16BE(e){let r=e.readByte(),n=e.readByte();return qt.int32ToInt16(r<<8|n)}static readByteArray(e,r){let n=new Uint8Array(r);return e.read(n,0,r),n}static read8BitChars(e,r){let n=new Uint8Array(r);return e.read(n,0,n.length),_e.toString(n,"utf-8")}static read8BitString(e){let r="",n=e.readByte();for(;n!==0;)r+=String.fromCharCode(n),n=e.readByte();return r}static read8BitStringLength(e,r){let n="",i=-1;for(let a=0;a<r;a++){let o=e.readByte();o===0&&i===-1&&(i=a),n+=String.fromCharCode(o)}let s=n;return i>=0?s.substr(0,i):s}static readSInt8(e){let r=e.readByte();return((r&255)>>7)*-256+(r&255)}static readInt24(e,r){let n=e[r]|e[r+1]<<8|e[r+2]<<16;return(n&8388608)===8388608&&(n=n|255<<24),n}static readInt16(e,r){return qt.int32ToInt16(e[r]|e[r+1]<<8)}static toString(e,r){let n=_e.detectEncoding(e);return n&&(r=n),r||(r="utf-8"),new TextDecoder(r).decode(e.buffer)}static detectEncoding(e){return e.length>2&&e[0]===254&&e[1]===255?"utf-16be":e.length>2&&e[0]===255&&e[1]===254?"utf-16le":e.length>4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255?"utf-32be":e.length>4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0?"utf-32le":null}static stringToBytes(e){return new TextEncoder().encode(e)}static writeInt32BE(e,r){e.writeByte(r>>24&255),e.writeByte(r>>16&255),e.writeByte(r>>8&255),e.writeByte(r>>0&255)}static writeInt32LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255),e.writeByte(r>>16&255),e.writeByte(r>>24&255)}static writeUInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16BE(e,r){e.writeByte(r>>8&255),e.writeByte(r>>0&255)}}class Gi{constructor(){this.length=0,this.position=0}get bytesWritten(){return this.position}getBuffer(){return this._buffer}static empty(){return Gi.withCapacity(0)}static withCapacity(e){let r=new Gi;return r._buffer=new Uint8Array(e),r}static fromBuffer(e){let r=new Gi;return r._buffer=e,r.length=e.length,r}static fromString(e){let r=_e.stringToBytes(e);return Gi.fromBuffer(r)}reset(){this.position=0}skip(e){this.position+=e}readByte(){return this.length-this.position<=0?-1:this._buffer[this.position++]}read(e,r,n){let i=this.length-this.position;return i>n&&(i=n),i<=0?0:(e.set(this._buffer.subarray(this.position,this.position+i),r),this.position+=i,i)}writeByte(e){let r=this.position+1;this.ensureCapacity(r),this._buffer[this.position]=e&255,r>this.length&&(this.length=r),this.position=r}write(e,r,n){let i=this.position+n;this.ensureCapacity(i);let s=Math.min(n,e.length-r);this._buffer.set(e.subarray(r,r+s),this.position),i>this.length&&(this.length=i),this.position=i}ensureCapacity(e){if(e>this._buffer.length){let r=e;r<256&&(r=256),r<this._buffer.length*2&&(r=this._buffer.length*2);let n=new Uint8Array(r);this.length>0&&n.set(this._buffer.subarray(0,0+this.length),0),this._buffer=n}}readAll(){return this.toArray()}toArray(){let e=new Uint8Array(this.length);return e.set(this._buffer.subarray(0,0+this.length),0),e}copyTo(e){e.write(this._buffer,0,this.length)}}var be;(function(t){t[t.No=0]="No",t[t.Eof=1]="Eof",t[t.Number=2]="Number",t[t.DoubleDot=3]="DoubleDot",t[t.Dot=4]="Dot",t[t.String=5]="String",t[t.Tuning=6]="Tuning",t[t.LParensis=7]="LParensis",t[t.RParensis=8]="RParensis",t[t.LBrace=9]="LBrace",t[t.RBrace=10]="RBrace",t[t.Pipe=11]="Pipe",t[t.MetaCommand=12]="MetaCommand",t[t.Multiply=13]="Multiply",t[t.LowerThan=14]="LowerThan"})(be||(be={}));class qd extends _i{constructor(e,r,n,i,s,a,o,l=null){super(Ci.AlphaTex,e),this.position=r,this.line=n,this.col=i,this.nonTerm=s??"",this.expected=a??be.No,this.symbol=o??be.No,this.symbolData=l,Object.setPrototypeOf(this,qd.prototype)}static symbolError(e,r,n,i,s,a,o=null){let l=`MalFormed AlphaTex: @${e} (line ${r}, col ${n}): Error on block ${i}`;return s!==a?(l+=`, expected a ${be[s]} found a ${be[a]}`,o!==null&&(l+=`: '${o}'`)):l+=`, invalid value: '${o}'`,new qd(l,e,r,n,i,s,a,o)}static errorMessage(e,r,n,i){return e=`MalFormed AlphaTex: @${r} (line ${n}, col ${i}): ${e}`,new qd(e,r,n,i,null,null,null,null)}}class us extends Ip{constructor(){super(),this._trackChannel=0,this._input="",this._ch=us.Eof,this._curChPos=0,this._line=1,this._col=0,this._lastValidSpot=[0,1,0],this._sy=be.No,this._syData="",this._allowNegatives=!1,this._allowFloat=!1,this._allowTuning=!1,this._currentDuration=le.QuadrupleWhole,this._currentDynamics=Jt.PPP,this._currentTuplet=0,this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this.logErrors=!1}get name(){return"AlphaTex"}initFromString(e,r){this.data=Gi.empty(),this._input=e,this.settings=r}readScore(){try{if(this.data.length>0&&(this._input=_e.toString(this.data.readAll(),this.settings.importer.encoding)),this._allowTuning=!0,this._lyrics=new Map,this.createDefaultScore(),this._curChPos=0,this._line=1,this._col=0,this.saveValidSpot(),this._currentDuration=le.Quarter,this._currentDynamics=Jt.F,this._currentTuplet=1,this._ch=this.nextChar(),this._sy=this.newSy(),this._sy===be.LowerThan)throw new Xn("Unknown start sign '<' (meant to import as XML?)");if(this._sy===be.Eof)throw new Xn("Unexpected end of file");const e=this.metaData(),r=this.bars();if(!e&&!r)throw new Xn("No alphaTex data found");this.consolidate(),this._score.finish(this.settings),this._score.rebuildRepeatGroups();for(const[n,i]of this._lyrics)this._score.tracks[n].applyLyrics(i);return this._score}catch(e){throw e instanceof qd?new Xn(e.message,e):e}}consolidate(){for(let e of this._score.tracks)for(let r of e.staves)for(;r.bars.length<this._score.masterBars.length;){let n=this.newBar(r),i=new Ui;i.isEmpty=!0,n.voices[0].addBeat(i)}}error(e,r,n=!0){let i,s=!1;n?(i=this._sy,(i===be.String||i===be.Number||i===be.MetaCommand)&&(s=!0)):i=r;let a=qd.symbolError(this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2],e,r,i,s?this._syData:null);throw this.logErrors&&Fe.error(this.name,a.message),a}errorMessage(e){let r=qd.errorMessage(e,this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2]);throw this.logErrors&&Fe.error(this.name,r.message),r}createDefaultScore(){this._score=new Ch,this._score.tempo=120,this._score.tempoLabel="",this.newTrack()}newTrack(){this._currentTrack=new Gl,this._currentTrack.ensureStaveCount(1),this._currentTrack.playbackInfo.program=25,this._currentTrack.playbackInfo.primaryChannel=this._trackChannel++,this._currentTrack.playbackInfo.secondaryChannel=this._trackChannel++,this._currentStaff=this._currentTrack.staves[0],this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=ze.getDefaultTuningFor(6).tunings,this._score.addTrack(this._currentTrack),this._lyrics.set(this._currentTrack.index,[]),this._currentDynamics=Jt.F}parseClefFromString(e){switch(e.toLowerCase()){case"g2":case"treble":return zt.G2;case"f4":case"bass":return zt.F4;case"c3":case"tenor":return zt.C3;case"c4":case"alto":return zt.C4;case"n":case"neutral":return zt.Neutral;default:return zt.G2}}parseClefFromInt(e){switch(e){case 43:return zt.G2;case 65:return zt.F4;case 48:return zt.C3;case 60:return zt.C4;default:return zt.G2}}parseTripletFeelFromString(e){switch(e.toLowerCase()){case"no":case"none":return Qt.NoTripletFeel;case"t16":case"triplet-16th":return Qt.Triplet16th;case"t8":case"triplet-8th":return Qt.Triplet8th;case"d16":case"dotted-16th":return Qt.Dotted16th;case"d8":case"dotted-8th":return Qt.Dotted8th;case"s16":case"scottish-16th":return Qt.Scottish16th;case"s8":case"scottish-8th":return Qt.Scottish8th;default:return Qt.NoTripletFeel}}parseTripletFeelFromInt(e){switch(e){case 0:return Qt.NoTripletFeel;case 1:return Qt.Triplet16th;case 2:return Qt.Triplet8th;case 3:return Qt.Dotted16th;case 4:return Qt.Dotted8th;case 5:return Qt.Scottish16th;case 6:return Qt.Scottish8th;default:return Qt.NoTripletFeel}}parseKeySignature(e){switch(e.toLowerCase()){case"cb":case"cbmajor":return ni.Cb;case"gb":case"gbmajor":case"d#minor":return ni.Gb;case"db":case"dbmajor":case"bbminor":return ni.Db;case"ab":case"abmajor":case"fminor":return ni.Ab;case"eb":case"ebmajor":case"cminor":return ni.Eb;case"bb":case"bbmajor":case"gminor":return ni.Bb;case"f":case"fmajor":case"dminor":return ni.F;case"c":case"cmajor":case"aminor":return ni.C;case"g":case"gmajor":case"eminor":return ni.G;case"d":case"dmajor":case"bminor":return ni.D;case"a":case"amajor":case"f#minor":return ni.A;case"e":case"emajor":case"c#minor":return ni.E;case"b":case"bmajor":case"g#minor":return ni.B;case"f#":case"f#major":case"ebminor":return ni.FSharp;case"c#":case"c#major":return ni.CSharp;default:return ni.C}}nextChar(){return this._curChPos<this._input.length?(this._ch=this._input.charCodeAt(this._curChPos++),this._ch===10?(this._line++,this._col=0):this._col++):this._ch=us.Eof,this._ch}saveValidSpot(){this._lastValidSpot=[this._curChPos,this._line,this._col]}newSy(){for(this.saveValidSpot(),this._sy=be.No;this._sy===be.No;)if(this._ch===us.Eof)this._sy=be.Eof;else if(us.isWhiteSpace(this._ch))this._ch=this.nextChar(),this.saveValidSpot();else if(this._ch===47){if(this._ch=this.nextChar(),this._ch===47)for(;this._ch!==13&&this._ch!==10&&this._ch!==us.Eof;)this._ch=this.nextChar();else if(this._ch===42)for(;this._ch!==us.Eof;)if(this._ch===42){if(this._ch=this.nextChar(),this._ch===47){this._ch=this.nextChar();break}}else this._ch=this.nextChar();else this.error("comment",be.String,!1);this.saveValidSpot()}else if(this._ch===34||this._ch===39){let e=this._ch;this._ch=this.nextChar();let r="";for(this._sy=be.String;this._ch!==e&&this._ch!==us.Eof;)r+=String.fromCharCode(this._ch),this._ch=this.nextChar();this._ch===us.Eof&&this.errorMessage("String opened but never closed"),this._syData=r,this._ch=this.nextChar()}else if(this._ch===45)this._allowNegatives?(this._sy=be.Number,this._syData=this.readNumber()):(this._sy=be.String,this._syData=this.readName());else if(this._ch===46)this._sy=be.Dot,this._ch=this.nextChar();else if(this._ch===58)this._sy=be.DoubleDot,this._ch=this.nextChar();else if(this._ch===40)this._sy=be.LParensis,this._ch=this.nextChar();else if(this._ch===92)this._ch=this.nextChar(),this._sy=be.MetaCommand,this._syData=this.readName();else if(this._ch===41)this._sy=be.RParensis,this._ch=this.nextChar();else if(this._ch===123)this._sy=be.LBrace,this._ch=this.nextChar();else if(this._ch===125)this._sy=be.RBrace,this._ch=this.nextChar();else if(this._ch===124)this._sy=be.Pipe,this._ch=this.nextChar();else if(this._ch===42)this._sy=be.Multiply,this._ch=this.nextChar();else if(this._ch===60)this._sy=be.LowerThan,this._ch=this.nextChar();else if(this.isDigit(this._ch))this._sy=be.Number,this._syData=this.readNumber();else if(us.isNameLetter(this._ch)){let e=this.readName(),r=this._allowTuning?Xr.parseTuning(e):null;r?(this._sy=be.Tuning,this._syData=r):(this._sy=be.String,this._syData=e)}else this.error("symbol",be.String,!1);return this._sy}static isNameLetter(e){return!us.isTerminal(e)&&(33<=e&&e<=47||58<=e&&e<=126||128<=e)}static isTerminal(e){return e===46||e===123||e===125||e===91||e===93||e===40||e===41||e===124||e===39||e===34||e===92}static isWhiteSpace(e){return e===9||e===10||e===11||e===13||e===32}isDigit(e){return e>=48&&e<=57||this._allowNegatives&&e===45||this._allowFloat&&e===46}readName(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(us.isNameLetter(this._ch)||this.isDigit(this._ch));return e}readNumber(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(this.isDigit(this._ch));return this._allowFloat?parseFloat(e):parseInt(e)}metaData(){let e=!1,r=!0;for(;this._sy===be.MetaCommand&&r;){let n=this._syData.toLowerCase();switch(n){case"title":case"subtitle":case"artist":case"album":case"words":case"music":case"copyright":this._sy=this.newSy(),this._sy!==be.String&&this.error(n,be.String,!0);let i=this._syData;switch(n){case"title":this._score.title=i;break;case"subtitle":this._score.subTitle=i;break;case"artist":this._score.artist=i;break;case"album":this._score.album=i;break;case"words":this._score.words=i;break;case"music":this._score.music=i;break;case"copyright":this._score.copyright=i;break}this._sy=this.newSy(),e=!0;break;case"tempo":this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy===be.Number?this._score.tempo=this._syData:this.error("tempo",be.Number,!0),this._sy=this.newSy(),e=!0;break;default:this.handleStaffMeta()?e=!0:e?this.error("metaDataTags",be.String,!1):r=!1;break}}return e?(this._sy!==be.Dot&&this.error("song",be.Dot,!0),this._sy=this.newSy()):this._sy===be.Dot&&(this._sy=this.newSy()),e}handleStaffMeta(){var e;switch(this._syData.toLowerCase()){case"capo":return this._sy=this.newSy(),this._sy===be.Number?this._currentStaff.capo=this._syData:this.error("capo",be.Number,!0),this._sy=this.newSy(),!0;case"tuning":this._sy=this.newSy();let r=this._currentStaff.tuning.length;switch(this._staffHasExplicitTuning=!0,this._staffTuningApplied=!1,this._sy){case be.String:let s=this._syData.toLowerCase();s==="piano"||s==="none"||s==="voice"?(this._currentStaff.stringTuning.tunings=[],this._currentStaff.displayTranspositionPitch=0):this.error("tuning",be.Tuning,!0),this._sy=this.newSy();break;case be.Tuning:let a=[];do{let o=this._syData;a.push(o.realValue),this._sy=this.newSy()}while(this._sy===be.Tuning);this._currentStaff.stringTuning.tunings=a;break;default:this.error("tuning",be.Tuning,!0);break}return r!==this._currentStaff.tuning.length&&(((e=this._currentStaff.chords)==null?void 0:e.size)??0)>0&&this.errorMessage("Tuning must be defined before any chord"),!0;case"instrument":if(this._sy=this.newSy(),this._staffTuningApplied=!1,this._sy===be.Number){let s=this._syData;s>=0&&s<=127?this._currentTrack.playbackInfo.program=this._syData:this.error("instrument",be.Number,!1)}else if(this._sy===be.String){let s=this._syData.toLowerCase();this._currentTrack.playbackInfo.program=yu.getValue(s)}else this.error("instrument",be.Number,!0);return this._sy=this.newSy(),!0;case"lyrics":this._sy=this.newSy();let n=new jn;return n.startBar=0,n.text="",this._sy===be.Number&&(n.startBar=this._syData,this._sy=this.newSy()),this._sy===be.String?(n.text=this._syData,this._sy=this.newSy()):this.error("lyrics",be.String,!0),this._lyrics.get(this._currentTrack.index).push(n),!0;case"chord":this._sy=this.newSy();let i=new Gc;this.chordProperties(i),this._sy===be.String?(i.name=this._syData,this._sy=this.newSy()):this.error("chord-name",be.Number,!0);for(let s=0;s<this._currentStaff.tuning.length;s++)this._sy===be.Number?i.strings.push(this._syData):this._sy===be.String&&this._syData.toLowerCase()==="x"&&i.strings.push(-1),this._sy=this.newSy();return this._currentStaff.addChord(this.getChordId(this._currentStaff,i.name),i),!0;default:return!1}}chordProperties(e){if(this._sy===be.LBrace){for(this._sy=this.newSy();this._sy===be.String;)switch(this._syData.toLowerCase()){case"firstfret":switch(this._sy=this.newSy(),this._sy){case be.Number:e.firstFret=this._syData;break;default:this.error("chord-firstfret",be.Number,!0);break}this._sy=this.newSy();break;case"showdiagram":switch(this._sy=this.newSy(),this._sy){case be.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case be.Number:e.showDiagram=this._syData!==0;break;default:this.error("chord-showdiagram",be.String,!0);break}this._sy=this.newSy();break;case"showfingering":switch(this._sy=this.newSy(),this._sy){case be.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case be.Number:e.showFingering=this._syData!==0;break;default:this.error("chord-showfingering",be.String,!0);break}this._sy=this.newSy();break;case"showname":switch(this._sy=this.newSy(),this._sy){case be.String:e.showName=this._syData.toLowerCase()!=="false";break;case be.Number:e.showName=this._syData!==0;break;default:this.error("chord-showname",be.String,!0);break}this._sy=this.newSy();break;case"barre":for(this._sy=this.newSy();this._sy===be.Number;)e.barreFrets.push(this._syData),this._sy=this.newSy();break;default:this.error("chord-properties",be.String,!1);break}this._sy!==be.RBrace&&this.error("chord-properties",be.RBrace,!0),this._sy=this.newSy()}}bars(){let e=this.bar();for(;this._sy!==be.Eof;)if(this._sy===be.Pipe)this._sy=this.newSy(),this.bar();else if(this._sy===be.MetaCommand)this.bar();else break;return e}trackStaffMeta(){return this._sy!==be.MetaCommand?!1:(this._syData.toLowerCase()==="track"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._score.masterBars.length>0&&this.newTrack(),this._sy===be.String&&(this._currentTrack.name=this._syData,this._sy=this.newSy()),this._sy===be.String&&(this._currentTrack.shortName=this._syData,this._sy=this.newSy())),this._sy===be.MetaCommand&&this._syData.toLowerCase()==="staff"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._currentTrack.staves[0].bars.length>0&&(this._currentTrack.ensureStaveCount(this._currentTrack.staves.length+1),this._currentStaff=this._currentTrack.staves[this._currentTrack.staves.length-1],this._currentDynamics=Jt.F),this.staffProperties()),!0)}staffProperties(){if(this._sy!==be.LBrace)return;this._sy=this.newSy();let e=!1,r=!1;for(;this._sy===be.String;)switch(this._syData.toLowerCase()){case"score":e=!0,this._sy=this.newSy();break;case"tabs":r=!0,this._sy=this.newSy();break;default:this.error("staff-properties",be.String,!1);break}(e||r)&&(this._currentStaff.showStandardNotation=e,this._currentStaff.showTablature=r),this._sy!==be.RBrace&&this.error("staff-properties",be.RBrace,!0),this._sy=this.newSy()}bar(){const e=this.trackStaffMeta();let r=this.newBar(this._currentStaff);if(this._currentStaff.bars.length>this._score.masterBars.length){let a=new Lu;this._score.addMasterBar(a),a.index>0&&(a.keySignature=a.previousMasterBar.keySignature,a.keySignatureType=a.previousMasterBar.keySignatureType,a.timeSignatureDenominator=a.previousMasterBar.timeSignatureDenominator,a.timeSignatureNumerator=a.previousMasterBar.timeSignatureNumerator,a.tripletFeel=a.previousMasterBar.tripletFeel)}const n=this.barMeta(r);if(!this._staffTuningApplied&&!this._staffHasExplicitTuning){const a=this._currentTrack.playbackInfo.program;this._currentStaff.displayTranspositionPitch=0,this._currentStaff.stringTuning.tunings=[],a==15||a>=24&&a<=31?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=ze.getDefaultTuningFor(6).tunings):a>=32&&a<=39?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==40||a==44||a==45||a==48||a==49||a==50||a==51?this._currentStaff.stringTuning.tunings=[52,57,50,43]:a==41?this._currentStaff.stringTuning.tunings=[57,50,43,36]:a==42?this._currentStaff.stringTuning.tunings=[45,38,31,24]:a==43?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==105?this._currentStaff.stringTuning.tunings=[50,47,43,38,55]:a==106?this._currentStaff.stringTuning.tunings=[57,52,45]:a==107?this._currentStaff.stringTuning.tunings=[52,45,38,31]:a==110&&(this._currentStaff.stringTuning.tunings=[64,57,50,43]),this._staffTuningApplied=!0}let i=!1,s=r.voices[0];for(;this._sy!==be.Pipe&&this._sy!==be.Eof&&this.beat(s);)i=!0;if(s.beats.length===0){let a=new Ui;a.isEmpty=!0,s.addBeat(a)}return e||n||i}newBar(e){let r=new Hu;e.addBar(r),r.index>0&&(r.clef=r.previousBar.clef);let n=new jl;return r.addVoice(n),r}beat(e){this.beatDuration();let r=new Ui;if(e.addBeat(r),this._sy===be.LParensis){for(this._sy=this.newSy(),this.note(r);this._sy!==be.RParensis&&this._sy!==be.Eof&&this.note(r););this._sy!==be.RParensis&&this.error("note-list",be.RParensis,!0),this._sy=this.newSy()}else if(this._sy===be.String&&this._syData.toLowerCase()==="r")this._sy=this.newSy();else if(!this.note(r))return e.beats.splice(e.beats.length-1,1),!1;this._sy===be.Dot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==be.Number&&this.error("duration",be.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._sy=this.newSy()),r.duration=this._currentDuration,r.dynamics=this._currentDynamics,this._currentTuplet!==1&&!r.hasTuplet&&us.applyTuplet(r,this._currentTuplet);let n=1;this._sy===be.Multiply&&(this._sy=this.newSy(),this._sy!==be.Number?this.error("multiplier",be.Number,!0):n=this._syData,this._sy=this.newSy()),this.beatEffects(r);for(let i=0;i<n-1;i++)e.addBeat(KM.clone(r));return!0}beatDuration(){if(this._sy===be.DoubleDot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==be.Number&&this.error("duration",be.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._currentTuplet=1,this._sy=this.newSy(),this._sy===be.LBrace)){for(this._sy=this.newSy();this._sy===be.String;)switch(this._syData.toLowerCase()){case"tu":this._sy=this.newSy(),this._sy!==be.Number&&this.error("duration-tuplet",be.Number,!0),this._currentTuplet=this._syData,this._sy=this.newSy();break;default:this.error("beat-duration",be.String,!1);break}this._sy!==be.RBrace&&this.error("beat-duration",be.RBrace,!0),this._sy=this.newSy()}}beatEffects(e){if(this._sy===be.LBrace){for(this._sy=this.newSy();this._sy===be.String;)this.applyBeatEffect(e)||this.error("beat-effects",be.String,!1);this._sy!==be.RBrace&&this.error("beat-effects",be.RBrace,!0),this._sy=this.newSy()}}applyBeatEffect(e){let r=this._syData.toLowerCase();if(r==="f")e.fadeIn=!0;else if(r==="v")e.vibrato=pr.Slight;else if(r==="s")e.slap=!0;else if(r==="p")e.pop=!0;else if(r==="tt")e.tap=!0;else if(r==="dd")e.dots=2;else if(r==="d")e.dots=1;else if(r==="su")e.pickStroke=Fi.Up;else if(r==="sd")e.pickStroke=Fi.Down;else if(r==="tu"){if(this._sy=this.newSy(),this._sy!==be.Number)return this.error("tuplet",be.Number,!0),!1;us.applyTuplet(e,this._syData)}else if(r==="tb"||r==="tbe"){let n=r==="tbe";for(this._sy=this.newSy(),this._sy!==be.LParensis&&this.error("tremolobar-effect",be.LParensis,!0),this._allowNegatives=!0,this._sy=this.newSy();this._sy!==be.RParensis&&this._sy!==be.Eof;){let i=0,s=0;n?(this._sy!==be.Number&&this.error("tremolobar-effect",be.Number,!0),i=this._syData,this._sy=this.newSy(),this._sy!==be.Number&&this.error("tremolobar-effect",be.Number,!0),s=this._syData):(this._sy!==be.Number&&this.error("tremolobar-effect",be.Number,!0),i=0,s=this._syData),e.addWhammyBarPoint(new Je(i,s)),this._sy=this.newSy()}if(e.whammyBarPoints!=null){for(;e.whammyBarPoints.length>60;)e.removeWhammyBarPoint(e.whammyBarPoints.length-1);if(n)e.whammyBarPoints.sort((i,s)=>i.offset-s.offset);else{let i=e.whammyBarPoints.length,s=60/i|0,a=0;for(;a<i;)e.whammyBarPoints[a].offset=Math.min(60,a*s),a++}}this._allowNegatives=!1,this._sy!==be.RParensis&&this.error("tremolobar-effect",be.RParensis,!0)}else if(r==="bu"||r==="bd"||r==="au"||r==="ad"){switch(r){case"bu":e.brushType=Jr.BrushUp;break;case"bd":e.brushType=Jr.BrushDown;break;case"au":e.brushType=Jr.ArpeggioUp;break;case"ad":e.brushType=Jr.ArpeggioDown;break}return this._sy=this.newSy(),this._sy===be.Number?(e.brushDuration=this._syData,this._sy=this.newSy(),!0):(e.updateDurations(),r==="bu"||r==="bd"?e.brushDuration=e.playbackDuration/4/e.notes.length:(r==="au"||r==="ad")&&(e.brushDuration=e.playbackDuration/e.notes.length),!0)}else if(r==="ch"){this._sy=this.newSy();let n=this._syData,i=this.getChordId(this._currentStaff,n);if(!this._currentStaff.hasChord(i)){let s=new Gc;s.showDiagram=!1,s.name=n,this._currentStaff.addChord(i,s)}e.chordId=i}else{if(r==="gr")return this._sy=this.newSy(),this._syData.toLowerCase()==="ob"?(e.graceType=Tt.OnBeat,this._sy=this.newSy()):this._syData.toLowerCase()==="b"?(e.graceType=Tt.BendGrace,this._sy=this.newSy()):e.graceType=Tt.BeforeBeat,!0;if(r==="dy"){switch(this._sy=this.newSy(),this._syData.toLowerCase()){case"ppp":e.dynamics=Jt.PPP;break;case"pp":e.dynamics=Jt.PP;break;case"p":e.dynamics=Jt.P;break;case"mp":e.dynamics=Jt.MP;break;case"mf":e.dynamics=Jt.MF;break;case"f":e.dynamics=Jt.F;break;case"ff":e.dynamics=Jt.FF;break;case"fff":e.dynamics=Jt.FFF;break}this._currentDynamics=e.dynamics}else if(r==="cre")e.crescendo=$s.Crescendo;else if(r==="dec")e.crescendo=$s.Decrescendo;else if(r==="tp"){if(this._sy=this.newSy(),e.tremoloSpeed=le.Eighth,this._sy===be.Number){switch(this._syData){case 8:e.tremoloSpeed=le.Eighth;break;case 16:e.tremoloSpeed=le.Sixteenth;break;case 32:e.tremoloSpeed=le.ThirtySecond;break;default:e.tremoloSpeed=le.Eighth;break}this._sy=this.newSy()}return!0}else return!1}return this._sy=this.newSy(),!0}getChordId(e,r){return r.toLowerCase()+e.index+e.track.index}static applyTuplet(e,r){switch(r){case 3:e.tupletNumerator=3,e.tupletDenominator=2;break;case 5:e.tupletNumerator=5,e.tupletDenominator=4;break;case 6:e.tupletNumerator=6,e.tupletDenominator=4;break;case 7:e.tupletNumerator=7,e.tupletDenominator=4;break;case 9:e.tupletNumerator=9,e.tupletDenominator=8;break;case 10:e.tupletNumerator=10,e.tupletDenominator=8;break;case 11:e.tupletNumerator=11,e.tupletDenominator=8;break;case 12:e.tupletNumerator=12,e.tupletDenominator=8;break;default:e.tupletNumerator=1,e.tupletDenominator=1;break}}isNoteText(e){return e==="x"||e==="-"||e==="r"}note(e){let r=!1,n=!1,i=-1,s=-1,a=-1;switch(this._sy){case be.Number:i=this._syData;break;case be.String:r=this._syData==="x",n=this._syData==="-",n||r?i=0:this.error("note-fret",be.Number,!0);break;case be.Tuning:let c=this._syData;s=c.octave,a=c.noteValue;break;default:return!1}this._sy=this.newSy();let o=s===-1&&this._currentStaff.tuning.length>0,l=-1;o&&(this._sy!==be.Dot&&this.error("note",be.Dot,!0),this._sy=this.newSy(),this._sy!==be.Number&&this.error("note-string",be.Number,!0),l=this._syData,(l<1||l>this._currentStaff.tuning.length)&&this.error("note-string",be.Number,!1),this._sy=this.newSy());let u=new fa;return o?(u.string=this._currentStaff.tuning.length-(l-1),u.isDead=r,u.isTieDestination=n,n||(u.fret=i)):(u.octave=s,u.tone=a,u.isTieDestination=n),e.addNote(u),this.noteEffects(u),!0}noteEffects(e){if(this._sy===be.LBrace){for(this._sy=this.newSy();this._sy===be.String;){let r=this._syData.toLowerCase();if(r==="b"||r==="be"){let n=r==="be";for(this._sy=this.newSy(),this._sy!==be.LParensis&&this.error("bend-effect",be.LParensis,!0),this._sy=this.newSy();this._sy!==be.RParensis&&this._sy!==be.Eof;){let s=0,a=0;n?(this._sy!==be.Number&&this.error("bend-effect-value",be.Number,!0),s=this._syData,this._sy=this.newSy(),this._sy!==be.Number&&this.error("bend-effect-value",be.Number,!0),a=this._syData):(this._sy!==be.Number&&this.error("bend-effect-value",be.Number,!0),a=this._syData),e.addBendPoint(new Je(s,a)),this._sy=this.newSy()}const i=e.bendPoints;if(i!=null){for(;i.length>60;)i.splice(i.length-1,1);if(n)i.sort((s,a)=>s.offset-a.offset);else{let s=i.length,a=60/(s-1)|0,o=0;for(;o<s;)i[o].offset=Math.min(60,o*a),o++}}this._sy!==be.RParensis&&this.error("bend-effect",be.RParensis,!0),this._sy=this.newSy()}else if(r==="nh")e.harmonicType=vt.Natural,this._sy=this.newSy();else if(r==="ah")e.harmonicType=vt.Artificial,this._sy=this.newSy();else if(r==="th")e.harmonicType=vt.Tap,this._sy=this.newSy();else if(r==="ph")e.harmonicType=vt.Pinch,this._sy=this.newSy();else if(r==="sh")e.harmonicType=vt.Semi,this._sy=this.newSy();else if(r==="tr"){this._sy=this.newSy(),this._sy!==be.Number&&this.error("trill-effect",be.Number,!0);let n=this._syData;this._sy=this.newSy();let i=le.Sixteenth;if(this._sy===be.Number){switch(this._syData){case 16:i=le.Sixteenth;break;case 32:i=le.ThirtySecond;break;case 64:i=le.SixtyFourth;break;default:i=le.Sixteenth;break}this._sy=this.newSy()}e.trillValue=n+e.stringTuning,e.trillSpeed=i}else if(r==="v")this._sy=this.newSy(),e.vibrato=pr.Slight;else if(r==="sl")this._sy=this.newSy(),e.slideOutType=jt.Legato;else if(r==="ss")this._sy=this.newSy(),e.slideOutType=jt.Shift;else if(r==="sib")this._sy=this.newSy(),e.slideInType=ki.IntoFromBelow;else if(r==="sia")this._sy=this.newSy(),e.slideInType=ki.IntoFromAbove;else if(r==="sou")this._sy=this.newSy(),e.slideOutType=jt.OutUp;else if(r==="sod")this._sy=this.newSy(),e.slideOutType=jt.OutDown;else if(r==="psd")this._sy=this.newSy(),e.slideOutType=jt.PickSlideDown;else if(r==="psu")this._sy=this.newSy(),e.slideOutType=jt.PickSlideUp;else if(r==="h")this._sy=this.newSy(),e.isHammerPullOrigin=!0;else if(r==="lht")this._sy=this.newSy(),e.isLeftHandTapped=!0;else if(r==="g")this._sy=this.newSy(),e.isGhost=!0;else if(r==="ac")this._sy=this.newSy(),e.accentuated=qn.Normal;else if(r==="hac")this._sy=this.newSy(),e.accentuated=qn.Heavy;else if(r==="pm")this._sy=this.newSy(),e.isPalmMute=!0;else if(r==="st")this._sy=this.newSy(),e.isStaccato=!0;else if(r==="lr")this._sy=this.newSy(),e.isLetRing=!0;else if(r==="x")this._sy=this.newSy(),e.fret=0,e.isDead=!0;else if(r==="-"||r==="t")this._sy=this.newSy(),e.isTieDestination=!0;else if(r==="lf"){this._sy=this.newSy();let n=Vt.Thumb;this._sy===be.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.leftHandFinger=n}else if(r==="rf"){this._sy=this.newSy();let n=Vt.Thumb;this._sy===be.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.rightHandFinger=n}else this.applyBeatEffect(e.beat)||this.error(r,be.String,!1)}this._sy!==be.RBrace&&this.error("note-effect",be.RBrace,!1),this._sy=this.newSy()}}toFinger(e){switch(e){case 1:return Vt.Thumb;case 2:return Vt.IndexFinger;case 3:return Vt.MiddleFinger;case 4:return Vt.AnnularFinger;case 5:return Vt.LittleFinger}return Vt.Thumb}parseDuration(e){switch(e){case-4:return le.QuadrupleWhole;case-2:return le.DoubleWhole;case 1:return le.Whole;case 2:return le.Half;case 4:return le.Quarter;case 8:return le.Eighth;case 16:return le.Sixteenth;case 32:return le.ThirtySecond;case 64:return le.SixtyFourth;case 128:return le.OneHundredTwentyEighth;case 256:return le.TwoHundredFiftySixth;default:return le.Quarter}}barMeta(e){let r=!1,n=e.masterBar;for(;this._sy===be.MetaCommand;){r=!0;let i=this._syData.toLowerCase();if(i==="ts")this._sy=this.newSy(),this._sy!==be.Number&&this.error("timesignature-numerator",be.Number,!0),n.timeSignatureNumerator=this._syData,this._sy=this.newSy(),this._sy!==be.Number&&this.error("timesignature-denominator",be.Number,!0),n.timeSignatureDenominator=this._syData,this._sy=this.newSy();else if(i==="ro")n.isRepeatStart=!0,this._sy=this.newSy();else if(i==="rc")this._sy=this.newSy(),this._sy!==be.Number&&this.error("repeatclose",be.Number,!0),this._syData>2048&&this.error("repeatclose",be.Number,!1),n.repeatCount=this._syData,this._sy=this.newSy();else if(i==="ae")if(this._sy=this.newSy(),this._sy===be.LParensis){for(this._sy=this.newSy(),this._sy!==be.Number&&this.error("alternateending",be.Number,!0),this.applyAlternateEnding(n);this._sy===be.Number;)this.applyAlternateEnding(n);this._sy!==be.RParensis&&this.error("alternateending-list",be.RParensis,!0),this._sy=this.newSy()}else this._sy!==be.Number&&this.error("alternateending",be.Number,!0),this.applyAlternateEnding(n);else if(i==="ks")this._sy=this.newSy(),this._sy!==be.String&&this.error("keysignature",be.String,!0),n.keySignature=this.parseKeySignature(this._syData),this._sy=this.newSy();else if(i==="clef"){switch(this._sy=this.newSy(),this._sy){case be.String:e.clef=this.parseClefFromString(this._syData);break;case be.Number:e.clef=this.parseClefFromInt(this._syData);break;case be.Tuning:let s=this._syData;e.clef=this.parseClefFromInt(s.realValue);break;default:this.error("clef",be.String,!0);break}this._sy=this.newSy()}else if(i==="tempo"){this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy!==be.Number&&this.error("tempo",be.Number,!0);let s=new Wi;s.isLinear=!1,s.type=di.Tempo,s.value=this._syData,n.tempoAutomation=s,this._sy=this.newSy()}else if(i==="section"){this._sy=this.newSy(),this._sy!==be.String&&this.error("section",be.String,!0);let s=this._syData;this._sy=this.newSy();let a="";this._sy===be.String&&!this.isNoteText(this._syData.toLowerCase())&&(a=s,s=this._syData,this._sy=this.newSy());let o=new q1;o.marker=a,o.text=s,n.section=o}else if(i==="tf"){switch(this._allowTuning=!1,this._sy=this.newSy(),this._allowTuning=!0,this._sy){case be.String:n.tripletFeel=this.parseTripletFeelFromString(this._syData);break;case be.Number:n.tripletFeel=this.parseTripletFeelFromInt(this._syData);break;default:this.error("triplet-feel",be.String,!0);break}this._sy=this.newSy()}else i==="ac"?(n.isAnacrusis=!0,this._sy=this.newSy()):e.index===0?this.handleStaffMeta()||this.error("measure-effects",be.String,!1):this.error("measure-effects",be.String,!1)}if(n.index===0&&!n.tempoAutomation){let i=new Wi;i.isLinear=!1,i.type=di.Tempo,i.value=this._score.tempo,n.tempoAutomation=i}return r}applyAlternateEnding(e){let r=this._syData;r<1&&this.error("alternateending",be.Number,!0),e.alternateEndings|=1<<r-1,this._sy=this.newSy()}}us.Eof=0;class Bl extends Ip{get name(){return"Guitar Pro 3-5"}constructor(){super(),this._versionNumber=0,this._globalTripletFeel=Qt.NoTripletFeel,this._lyricsTrack=0,this._lyrics=[],this._barCount=0,this._trackCount=0,this._playbackInfos=[],this._beatTextChunksByTrack=new Map}readScore(){return this.readVersion(),this._score=new Ch,this.readScoreInformation(),this._versionNumber<500&&(this._globalTripletFeel=hr.gpReadBool(this.data)?Qt.Triplet8th:Qt.NoTripletFeel),this._versionNumber>=400&&this.readLyrics(),this._versionNumber>=510&&this.data.skip(19),this._versionNumber>=500&&(this.readPageSetup(),this._score.tempoLabel=hr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),this._score.tempo=_e.readInt32LE(this.data),this._versionNumber>=510&&hr.gpReadBool(this.data),_e.readInt32LE(this.data),this._versionNumber>=400&&this.data.readByte(),this.readPlaybackInfos(),this._versionNumber>=500&&(this.data.skip(38),this.data.skip(4)),this._barCount=_e.readInt32LE(this.data),this._trackCount=_e.readInt32LE(this.data),this.readMasterBars(),this.readTracks(),this.readBars(),this._score.masterBars.length>0&&(this._score.masterBars[0].tempoAutomation=Wi.buildTempoAutomation(!1,0,this._score.tempo,2),this._score.masterBars[0].tempoAutomation.text=this._score.tempoLabel),this._score.finish(this.settings),this._lyrics&&this._lyricsTrack>=0&&this._score.tracks[this._lyricsTrack].applyLyrics(this._lyrics),this._score}readVersion(){let e=hr.gpReadStringByteLength(this.data,30,this.settings.importer.encoding);if(!e.startsWith(Bl.VersionString))throw new Xn("Unsupported format");e=e.substr(Bl.VersionString.length+1);let r=e.indexOf(".");this._versionNumber=100*parseInt(e.substr(0,r))+parseInt(e.substr(r+1)),Fe.debug(this.name,"Guitar Pro version "+e+" detected")}readScoreInformation(){var n;this._score.title=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.subTitle=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.artist=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.album=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.words=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.music=this._versionNumber>=500?hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding):this._score.words,this._score.copyright=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.tab=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.instructions=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding);let e=_e.readInt32LE(this.data),r="";for(let i=0;i<e;i++)i>0&&(r+=`\r
`),r+=(n=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding))==null?void 0:n.toString();this._score.notices=r}readLyrics(){this._lyrics=[],this._lyricsTrack=_e.readInt32LE(this.data)-1;for(let e=0;e<5;e++){let r=new jn;r.startBar=_e.readInt32LE(this.data)-1,r.text=hr.gpReadStringInt(this.data,this.settings.importer.encoding),this._lyrics.push(r)}}readPageSetup(){this.data.skip(30);for(let e=0;e<10;e++)hr.gpReadStringIntByte(this.data,this.settings.importer.encoding)}readPlaybackInfos(){this._playbackInfos=[];for(let e=0;e<64;e++){let r=new Iz;r.primaryChannel=e,r.secondaryChannel=e,r.program=_e.readInt32LE(this.data),r.volume=this.data.readByte(),r.balance=this.data.readByte(),this.data.skip(6),this._playbackInfos.push(r)}}readMasterBars(){for(let e=0;e<this._barCount;e++)this.readMasterBar()}readMasterBar(){let e=null;this._score.masterBars.length>0&&(e=this._score.masterBars[this._score.masterBars.length-1]);let r=new Lu,n=this.data.readByte();if(n&1?r.timeSignatureNumerator=this.data.readByte():e&&(r.timeSignatureNumerator=e.timeSignatureNumerator),n&2?r.timeSignatureDenominator=this.data.readByte():e&&(r.timeSignatureDenominator=e.timeSignatureDenominator),r.isRepeatStart=(n&4)!==0,n&8&&(r.repeatCount=this.data.readByte()+(this._versionNumber>=500?0:1)),n&16&&this._versionNumber<500){let i=e,s=0;for(;i&&!(i.isRepeatEnd&&i!==e||i.isRepeatStart);)s=s|i.alternateEndings,i=i.previousMasterBar;let a=0,o=this.data.readByte();for(let l=0;l<8;l++){let u=1<<l;o>l&&!(s&u)&&(a=a|u)}r.alternateEndings=a}if(n&32){let i=new q1;i.text=hr.gpReadStringIntByte(this.data,this.settings.importer.encoding),i.marker="",hr.gpReadColor(this.data,!1),r.section=i}if(n&64?(r.keySignature=_e.readSInt8(this.data),r.keySignatureType=this.data.readByte()):e&&(r.keySignature=e.keySignature,r.keySignatureType=e.keySignatureType),this._versionNumber>=500&&n&3&&this.data.skip(4),this._versionNumber>=500&&(r.alternateEndings=this.data.readByte()),this._versionNumber>=500){switch(this.data.readByte()){case 1:r.tripletFeel=Qt.Triplet8th;break;case 2:r.tripletFeel=Qt.Triplet16th;break}this.data.readByte()}else r.tripletFeel=this._globalTripletFeel;r.isDoubleBar=(n&128)!==0,this._score.addMasterBar(r)}readTracks(){for(let e=0;e<this._trackCount;e++)this.readTrack()}readTrack(){let e=new Gl;e.ensureStaveCount(1),this._score.addTrack(e);let r=e.staves[0],n=this.data.readByte();e.name=hr.gpReadStringByteLength(this.data,40,this.settings.importer.encoding),n&1&&(r.isPercussion=!0);let i=_e.readInt32LE(this.data),s=[];for(let u=0;u<7;u++){let c=_e.readInt32LE(this.data);i>u&&s.push(c)}r.stringTuning.tunings=s;let a=_e.readInt32LE(this.data),o=_e.readInt32LE(this.data)-1,l=_e.readInt32LE(this.data)-1;if(this.data.skip(4),o>=0&&o<this._playbackInfos.length){let u=this._playbackInfos[o];u.port=a,u.isSolo=(n&16)!==0,u.isMute=(n&32)!==0,u.secondaryChannel=l,yu.isGuitar(u.program)&&(r.displayTranspositionPitch=-12),e.playbackInfo=u}r.capo=_e.readInt32LE(this.data),e.color=hr.gpReadColor(this.data,!1),this._versionNumber>=500&&(this.data.readByte(),this.data.readByte(),this.data.skip(43)),this._versionNumber>=510&&(this.data.skip(4),hr.gpReadStringIntByte(this.data,this.settings.importer.encoding),hr.gpReadStringIntByte(this.data,this.settings.importer.encoding))}readBars(){for(let e=0;e<this._barCount;e++)for(let r=0;r<this._trackCount;r++)this.readBar(this._score.tracks[r])}readBar(e){let r=new Hu,n=e.staves[0];n.isPercussion&&(r.clef=zt.Neutral),n.addBar(r);let i=1;this._versionNumber>=500&&(this.data.readByte(),i=2);for(let s=0;s<i;s++)this.readVoice(e,r)}readVoice(e,r){let n=_e.readInt32LE(this.data);if(n===0)return;let i=new jl;r.addVoice(i);for(let s=0;s<n;s++)this.readBeat(e,r,i)}readBeat(e,r,n){let i=new Ui,s=this.data.readByte();if(s&1&&(i.dots=1),s&64){let c=this.data.readByte();i.isEmpty=(c&2)===0}switch(n.addBeat(i),_e.readSInt8(this.data)){case-2:i.duration=le.Whole;break;case-1:i.duration=le.Half;break;case 0:i.duration=le.Quarter;break;case 1:i.duration=le.Eighth;break;case 2:i.duration=le.Sixteenth;break;case 3:i.duration=le.ThirtySecond;break;case 4:i.duration=le.SixtyFourth;break;default:i.duration=le.Quarter;break}if(s&32)switch(i.tupletNumerator=_e.readInt32LE(this.data),i.tupletNumerator){case 1:i.tupletDenominator=1;break;case 3:i.tupletDenominator=2;break;case 5:case 6:case 7:i.tupletDenominator=4;break;case 9:case 10:case 11:case 12:case 13:i.tupletDenominator=8;break;case 2:case 4:case 8:break;default:i.tupletNumerator=1,i.tupletDenominator=1;break}s&2&&this.readChord(i);let o=this.settings.importer.beatTextAsLyrics&&e.index!==this._lyricsTrack;if(s&4){const c=hr.gpReadStringIntUnused(this.data,this.settings.importer.encoding);if(o){const h=new jn;h.text=c.trim(),h.finish(!0);const f=[];for(let g=h.chunks.length-1;g>=0;g--)f.push(h.chunks[g]);this._beatTextChunksByTrack.set(e.index,f)}else i.text=c}let l=vt.None;s&8&&(l=this.readBeatEffects(i)),s&16&&this.readMixTableChange(i);let u=this.data.readByte();for(let c=6;c>=0;c--)if(u&1<<c&&6-c<r.staff.tuning.length){const h=this.readNote(e,r,n,i,6-c);l!==vt.None&&(h.harmonicType=l,h.harmonicType===vt.Natural&&(h.harmonicValue=this.deltaFretToHarmonicValue(h.fret)))}this._versionNumber>=500&&(this.data.readByte(),this.data.readByte()&8&&this.data.readByte()),o&&!i.isRest&&this._beatTextChunksByTrack.has(e.index)&&this._beatTextChunksByTrack.get(e.index).length>0&&(i.lyrics=[this._beatTextChunksByTrack.get(e.index).pop()])}readChord(e){let r=new Gc,n=Xr.newGuid();if(this._versionNumber>=500){this.data.skip(17),r.name=hr.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=_e.readInt32LE(this.data);for(let a=0;a<7;a++){let o=_e.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else if(this.data.readByte()!==0)if(this._versionNumber>=400){this.data.skip(16),r.name=hr.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=_e.readInt32LE(this.data);for(let a=0;a<7;a++){let o=_e.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else{this.data.skip(25),r.name=hr.gpReadStringByteLength(this.data,34,this.settings.importer.encoding),r.firstFret=_e.readInt32LE(this.data);for(let i=0;i<6;i++){let s=_e.readInt32LE(this.data);i<e.voice.bar.staff.tuning.length&&r.strings.push(s)}this.data.skip(36)}else{let i=this._versionNumber>=406?7:6;if(r.name=hr.gpReadStringIntByte(this.data,this.settings.importer.encoding),r.firstFret=_e.readInt32LE(this.data),r.firstFret>0)for(let s=0;s<i;s++){let a=_e.readInt32LE(this.data);s<e.voice.bar.staff.tuning.length&&r.strings.push(a)}}r.name&&(e.chordId=n,e.voice.bar.staff.addChord(e.chordId,r))}readBeatEffects(e){let r=this.data.readByte(),n=0;if(this._versionNumber>=400&&(n=this.data.readByte()),e.fadeIn=(r&16)!==0,(this._versionNumber<400&&r&1||r&2)&&(e.vibrato=pr.Slight),e.hasRasgueado=(n&1)!==0,r&32&&this._versionNumber>=400)switch(_e.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}else if(r&32){switch(_e.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}this.data.skip(4)}if(n&4&&this.readTremoloBarEffect(e),r&64){let i=0,s=0;this._versionNumber<500?(s=this.data.readByte(),i=this.data.readByte()):(i=this.data.readByte(),s=this.data.readByte()),i>0?(e.brushType=Jr.BrushUp,e.brushDuration=Bl.toStrokeValue(i)):s>0&&(e.brushType=Jr.BrushDown,e.brushDuration=Bl.toStrokeValue(s))}if(n&2)switch(_e.readSInt8(this.data)){case 0:e.pickStroke=Fi.None;break;case 1:e.pickStroke=Fi.Up;break;case 2:e.pickStroke=Fi.Down;break}if(this._versionNumber<400){if(r&4)return vt.Natural;if(r&8)return vt.Artificial}return vt.None}readTremoloBarEffect(e){this.data.readByte(),_e.readInt32LE(this.data);let r=_e.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Je(0,0);i.offset=_e.readInt32LE(this.data),i.value=_e.readInt32LE(this.data)/Bl.BendStep|0,hr.gpReadBool(this.data),e.addWhammyBarPoint(i)}}static toStrokeValue(e){switch(e){case 1:return 30;case 2:return 30;case 3:return 60;case 4:return 120;case 5:return 240;case 6:return 480;default:return 0}}readMixTableChange(e){let r=new Pwe;r.instrument=_e.readSInt8(this.data),this._versionNumber>=500&&this.data.skip(16),r.volume=_e.readSInt8(this.data),r.balance=_e.readSInt8(this.data);let n=_e.readSInt8(this.data),i=_e.readSInt8(this.data),s=_e.readSInt8(this.data),a=_e.readSInt8(this.data);if(this._versionNumber>=500&&(r.tempoName=hr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.tempo=_e.readInt32LE(this.data),r.volume>=0&&this.data.readByte(),r.balance>=0&&this.data.readByte(),n>=0&&this.data.readByte(),i>=0&&this.data.readByte(),s>=0&&this.data.readByte(),a>=0&&this.data.readByte(),r.tempo>=0&&(r.duration=_e.readSInt8(this.data),this._versionNumber>=510&&this.data.readByte()),this._versionNumber>=400&&this.data.readByte(),this._versionNumber>=500&&this.data.readByte(),this._versionNumber>=510&&(hr.gpReadStringIntByte(this.data,this.settings.importer.encoding),hr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.volume>=0){let o=new Wi;o.isLinear=!0,o.type=di.Volume,o.value=r.volume,e.automations.push(o)}if(r.balance>=0){let o=new Wi;o.isLinear=!0,o.type=di.Balance,o.value=r.balance,e.automations.push(o)}if(r.instrument>=0){let o=new Wi;o.isLinear=!0,o.type=di.Instrument,o.value=r.instrument,e.automations.push(o)}if(r.tempo>=0){let o=new Wi;o.isLinear=!0,o.type=di.Tempo,o.value=r.tempo,e.automations.push(o),e.voice.bar.masterBar.tempoAutomation=o}}readNote(e,r,n,i,s){let a=new fa;a.string=r.staff.tuning.length-s;let o=this.data.readByte();if(o&2?a.accentuated=qn.Heavy:o&64&&(a.accentuated=qn.Normal),a.isGhost=(o&4)!==0,o&32){let u=this.data.readByte();u===3?a.isDead=!0:u===2&&(a.isTieDestination=!0)}if(o&1&&this._versionNumber<500&&(this.data.readByte(),this.data.readByte()),o&16){let u=_e.readSInt8(this.data);a.dynamics=this.toDynamicValue(u),i.dynamics=a.dynamics}o&32&&(a.fret=_e.readSInt8(this.data)),o&128&&(a.leftHandFinger=_e.readSInt8(this.data),a.rightHandFinger=_e.readSInt8(this.data),a.isFingering=!0);let l=!1;if(this._versionNumber>=500&&(o&1&&(a.durationPercent=hr.gpReadDouble(this.data)),l=(this.data.readByte()&2)!==0),i.addNote(a),o&8&&this.readNoteEffects(e,n,i,a),r.staff.isPercussion&&(a.percussionArticulation=a.fret,a.string=-1,a.fret=-1),l){const u=ze.defaultAccidentals[a.realValueWithoutHarmonic%12];u==="#"?a.accidentalMode=Vn.ForceFlat:u==="b"&&(a.accidentalMode=Vn.ForceSharp)}return a}toDynamicValue(e){switch(e){case 1:return Jt.PPP;case 2:return Jt.PP;case 3:return Jt.P;case 4:return Jt.MP;case 5:return Jt.MF;case 6:return Jt.F;case 7:return Jt.FF;case 8:return Jt.FFF;default:return Jt.F}}readNoteEffects(e,r,n,i){let s=this.data.readByte(),a=0;this._versionNumber>=400&&(a=this.data.readByte()),s&1&&this.readBend(i),s&16&&this.readGrace(r,i),a&4&&this.readTremoloPicking(n),a&8?this.readSlide(i):this._versionNumber<400&&s&4&&(i.slideOutType=jt.Shift),a&16&&this.readArtificialHarmonic(i),a&32&&this.readTrill(i),i.isLetRing=(s&8)!==0,i.isHammerPullOrigin=(s&2)!==0,a&64&&(i.vibrato=pr.Slight),i.isPalmMute=(a&2)!==0,i.isStaccato=(a&1)!==0}readBend(e){this.data.readByte(),_e.readInt32LE(this.data);let r=_e.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Je(0,0);i.offset=_e.readInt32LE(this.data),i.value=_e.readInt32LE(this.data)/Bl.BendStep|0,hr.gpReadBool(this.data),e.addBendPoint(i)}}readGrace(e,r){let n=new Ui,i=new fa;switch(i.string=r.string,i.fret=_e.readSInt8(this.data),n.duration=le.ThirtySecond,n.dynamics=this.toDynamicValue(_e.readSInt8(this.data)),_e.readSInt8(this.data)){case 0:break;case 1:i.slideOutType=jt.Legato,i.slideTarget=r;break;case 2:break;case 3:i.isHammerPullOrigin=!0;break}if(i.dynamics=n.dynamics,this.data.skip(1),this._versionNumber<500)n.graceType=Tt.BeforeBeat;else{let a=this.data.readByte();i.isDead=(a&1)!==0,n.graceType=a&2?Tt.OnBeat:Tt.BeforeBeat}e.addGraceBeat(n),n.addNote(i)}readTremoloPicking(e){switch(this.data.readByte()){case 1:e.tremoloSpeed=le.Eighth;break;case 2:e.tremoloSpeed=le.Sixteenth;break;case 3:e.tremoloSpeed=le.ThirtySecond;break}}readSlide(e){if(this._versionNumber>=500){let r=_e.readSInt8(this.data);r&1?e.slideOutType=jt.Shift:r&2?e.slideOutType=jt.Legato:r&4?e.slideOutType=jt.OutDown:r&8&&(e.slideOutType=jt.OutUp),r&16?e.slideInType=ki.IntoFromBelow:r&32&&(e.slideInType=ki.IntoFromAbove)}else switch(_e.readSInt8(this.data)){case 1:e.slideOutType=jt.Shift;break;case 2:e.slideOutType=jt.Legato;break;case 3:e.slideOutType=jt.OutDown;break;case 4:e.slideOutType=jt.OutUp;break;case-1:e.slideInType=ki.IntoFromBelow;break;case-2:e.slideInType=ki.IntoFromAbove;break}}readArtificialHarmonic(e){let r=this.data.readByte();if(this._versionNumber>=500)switch(r){case 1:e.harmonicType=vt.Natural,e.harmonicValue=this.deltaFretToHarmonicValue(e.fret);break;case 2:this.data.readByte(),this.data.readByte(),this.data.readByte(),e.harmonicType=vt.Artificial;break;case 3:e.harmonicType=vt.Tap,e.harmonicValue=this.deltaFretToHarmonicValue(this.data.readByte());break;case 4:e.harmonicType=vt.Pinch,e.harmonicValue=12;break;case 5:e.harmonicType=vt.Semi,e.harmonicValue=12;break}else if(this._versionNumber>=400)switch(r){case 1:e.harmonicType=vt.Natural;break;case 3:e.harmonicType=vt.Tap;break;case 4:e.harmonicType=vt.Pinch;break;case 5:e.harmonicType=vt.Semi;break;case 15:e.harmonicType=vt.Artificial;break;case 17:e.harmonicType=vt.Artificial;break;case 22:e.harmonicType=vt.Artificial;break}}deltaFretToHarmonicValue(e){switch(e){case 2:return 2.4;case 3:return 3.2;case 4:case 5:case 7:case 9:case 12:case 16:case 17:case 19:case 24:return e;case 8:return 8.2;case 10:return 9.6;case 14:case 15:return 14.7;case 21:case 22:return 21.7;default:return 12}}readTrill(e){switch(e.trillValue=this.data.readByte()+e.stringTuning,this.data.readByte()){case 1:e.trillSpeed=le.Sixteenth;break;case 2:e.trillSpeed=le.ThirtySecond;break;case 3:e.trillSpeed=le.SixtyFourth;break}}}Bl.VersionString="FICHIER GUITAR PRO ";Bl.BendStep=25;class hr{static gpReadDouble(e){let r=new Uint8Array(8);return e.read(r,0,r.length),new Float64Array(r.buffer)[0]}static gpReadFloat(e){let r=new Uint8Array(4);return r[3]=e.readByte(),r[2]=e.readByte(),r[2]=e.readByte(),r[1]=e.readByte(),new Float32Array(r.buffer)[0]}static gpReadColor(e,r=!1){let n=e.readByte(),i=e.readByte(),s=e.readByte(),a=255;return r?a=e.readByte():e.skip(1),new fn(n,i,s,a)}static gpReadBool(e){return e.readByte()!==0}static gpReadStringIntUnused(e,r){return e.skip(4),hr.gpReadString(e,e.readByte(),r)}static gpReadStringInt(e,r){return hr.gpReadString(e,_e.readInt32LE(e),r)}static gpReadStringIntByte(e,r){let n=_e.readInt32LE(e)-1;return e.readByte(),hr.gpReadString(e,n,r)}static gpReadString(e,r,n){let i=new Uint8Array(r);return e.read(i,0,i.length),_e.toString(i,n)}static gpWriteString(e,r){const n=_e.stringToBytes(r);e.writeByte(r.length),e.write(n,0,n.length)}static gpReadStringByteLength(e,r,n){let i=e.readByte(),s=hr.gpReadString(e,i,n);return i<r&&e.skip(r-i),s}}class Pwe{constructor(){this.volume=-1,this.balance=-1,this.instrument=-1,this.tempoName="",this.tempo=-1,this.duration=-1}}class Fs{constructor(){this.x=0,this.y=0,this.w=0,this.h=0}}var Wo;(function(t){t[t.Boolean=0]="Boolean",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Point=4]="Point",t[t.Size=5]="Size",t[t.Rectangle=6]="Rectangle",t[t.Color=7]="Color"})(Wo||(Wo={}));class K1{constructor(e){this.raw=new Map;let r=Gi.fromBuffer(e),n=_e.readInt32BE(r);for(let i=0;i<n;i++){let s=hr.gpReadString(r,r.readByte(),"utf-8");switch(r.readByte()){case Wo.Boolean:let o=r.readByte()===1;this.addValue(s,o);break;case Wo.Integer:let l=_e.readInt32BE(r);this.addValue(s,l);break;case Wo.Float:let u=hr.gpReadFloat(r);this.addValue(s,u);break;case Wo.String:let c=hr.gpReadString(r,_e.readInt16BE(r),"utf-8");this.addValue(s,c);break;case Wo.Point:let h=_e.readInt32BE(r),f=_e.readInt32BE(r);this.addValue(s,new Je(h,f));break;case Wo.Size:let g=_e.readInt32BE(r),m=_e.readInt32BE(r);this.addValue(s,new Je(g,m));break;case Wo.Rectangle:let y=new Fs;y.x=_e.readInt32BE(r),y.y=_e.readInt32BE(r),y.w=_e.readInt32BE(r),y.h=_e.readInt32BE(r),this.addValue(s,y);break;case Wo.Color:let b=hr.gpReadColor(r,!0);this.addValue(s,b);break}}}apply(e){for(const[r,n]of this.raw)switch(r){case"StandardNotation/hideDynamics":e.stylesheet.hideDynamics=n;break}}addValue(e,r){this.raw.set(e,r)}static writeForScore(e){const r=Gi.withCapacity(128);return _e.writeInt32BE(r,1),K1.writeBooleanEntry(r,"StandardNotation/hideDynamics",e.stylesheet.hideDynamics),r.toArray()}static writeBooleanEntry(e,r,n){hr.gpWriteString(e,r),e.writeByte(Wo.Boolean),e.writeByte(n?1:0)}}var ul;(function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long"})(ul||(ul={}));class QM{constructor(){this.type=ul.Short,this.length=0}}var Le;(function(t){t[t.None=0]="None",t[t.Element=1]="Element",t[t.Text=2]="Text",t[t.CDATA=3]="CDATA",t[t.Document=4]="Document",t[t.DocumentType=5]="DocumentType"})(Le||(Le={}));class Ko{constructor(){this.nodeType=Le.None,this.localName=null,this.value=null,this.childNodes=[],this.attributes=new Map,this.firstChild=null,this.firstElement=null}addChild(e){this.childNodes.push(e),this.firstChild=e,(e.nodeType===Le.Element||e.nodeType===Le.CDATA)&&(this.firstElement=e)}getAttribute(e){return this.attributes.has(e)?this.attributes.get(e):""}getElementsByTagName(e,r=!1){let n=[];return this.searchElementsByTagName(this.childNodes,n,e,r),n}searchElementsByTagName(e,r,n,i=!1){for(let s of e)s&&s.nodeType===Le.Element&&s.localName===n&&r.push(s),i&&this.searchElementsByTagName(s.childNodes,r,n,!0)}findChildElement(e){for(let r of this.childNodes)if(r&&r.nodeType===Le.Element&&r.localName===e)return r;return null}addElement(e){const r=new Ko;return r.nodeType=Le.Element,r.localName=e,this.addChild(r),r}get innerText(){var e;if(this.nodeType===Le.Element||this.nodeType===Le.Document){if(this.firstElement&&this.firstElement.nodeType===Le.CDATA)return this.firstElement.innerText;let r="";for(let i of this.childNodes)r+=(e=i.innerText)==null?void 0:e.toString();return r.trim()}return this.value??""}set innerText(e){const r=new Ko;r.nodeType=Le.Text,r.value=e,this.childNodes=[r]}setCData(e){const r=new Ko;r.nodeType=Le.CDATA,r.value=e,this.childNodes=[r]}}class Ns extends _i{constructor(e,r,n){super(Ci.Format,e),this.pos=0,this.xml=r,this.pos=n,Object.setPrototypeOf(this,Ns.prototype)}}var Rt;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.BeginNode=2]="BeginNode",t[t.TagName=3]="TagName",t[t.Body=4]="Body",t[t.AttribName=5]="AttribName",t[t.Equals=6]="Equals",t[t.AttvalBegin=7]="AttvalBegin",t[t.AttribVal=8]="AttribVal",t[t.Childs=9]="Childs",t[t.Close=10]="Close",t[t.WaitEnd=11]="WaitEnd",t[t.WaitEndRet=12]="WaitEndRet",t[t.Pcdata=13]="Pcdata",t[t.Header=14]="Header",t[t.Comment=15]="Comment",t[t.Doctype=16]="Doctype",t[t.Cdata=17]="Cdata",t[t.Escape=18]="Escape"})(Rt||(Rt={}));class lt{static parse(e,r,n){let i=e.charCodeAt(r),s=Rt.Begin,a=Rt.Begin,o=0,l="",u=Rt.Begin,c=null,h=null,f=0,g=0;for(;r<e.length;){switch(i=e.charCodeAt(r),s){case Rt.IgnoreSpaces:switch(i){case lt.CharCodeLF:case lt.CharCodeCR:case lt.CharCodeTab:case lt.CharCodeSpace:break;default:s=a;continue}break;case Rt.Begin:switch(i){case lt.CharCodeLowerThan:s=Rt.IgnoreSpaces,a=Rt.BeginNode;break;default:o=r,s=Rt.Pcdata;continue}break;case Rt.Pcdata:if(i===lt.CharCodeLowerThan){l+=e.substr(o,r-o);let m=new Ko;m.nodeType=Le.Text,m.value=l,l="",n.addChild(m),s=Rt.IgnoreSpaces,a=Rt.BeginNode}else i===lt.CharCodeAmp&&(l+=e.substr(o,r-o),s=Rt.Escape,u=Rt.Pcdata,o=r+1);break;case Rt.Cdata:if(i===lt.CharCodeBrackedClose&&e.charCodeAt(r+1)===lt.CharCodeBrackedClose&&e.charCodeAt(r+2)===lt.CharCodeGreaterThan){let m=new Ko;m.nodeType=Le.CDATA,m.value=e.substr(o,r-o),n.addChild(m),r+=2,s=Rt.Begin}break;case Rt.BeginNode:switch(i){case lt.CharCodeExclamation:if(e.charCodeAt(r+1)===lt.CharCodeBrackedOpen){if(r+=2,e.substr(r,6).toUpperCase()!=="CDATA[")throw new Ns("Expected <![CDATA[",e,r);r+=5,s=Rt.Cdata,o=r+1}else if(e.charCodeAt(r+1)===lt.CharCodeUpperD||e.charCodeAt(r+1)===lt.CharCodeLowerD){if(e.substr(r+2,6).toUpperCase()!=="OCTYPE")throw new Ns("Expected <!DOCTYPE",e,r);r+=8,s=Rt.Doctype,o=r+1}else{if(e.charCodeAt(r+1)!==lt.CharCodeMinus||e.charCodeAt(r+2)!==lt.CharCodeMinus)throw new Ns("Expected <!--",e,r);r+=2,s=Rt.Comment,o=r+1}break;case lt.CharCodeQuestion:s=Rt.Header,o=r;break;case lt.CharCodeSlash:if(!n)throw new Ns("Expected node name",e,r);o=r+1,s=Rt.IgnoreSpaces,a=Rt.Close;break;default:s=Rt.TagName,o=r;continue}break;case Rt.TagName:if(!lt.isValidChar(i)){if(r===o)throw new Ns("Expected node name",e,r);c=new Ko,c.nodeType=Le.Element,c.localName=e.substr(o,r-o),n.addChild(c),s=Rt.IgnoreSpaces,a=Rt.Body;continue}break;case Rt.Body:switch(i){case lt.CharCodeSlash:s=Rt.WaitEnd;break;case lt.CharCodeGreaterThan:s=Rt.Childs;break;default:s=Rt.AttribName,o=r;continue}break;case Rt.AttribName:if(!lt.isValidChar(i)){if(o===r)throw new Ns("Expected attribute name",e,r);if(h=e.substr(o,r-o),c.attributes.has(h))throw new Ns(`Duplicate attribute [${h}]`,e,r);s=Rt.IgnoreSpaces,a=Rt.Equals;continue}break;case Rt.Equals:switch(i){case lt.CharCodeEquals:s=Rt.IgnoreSpaces,a=Rt.AttvalBegin;break;default:throw new Ns("Expected =",e,r)}break;case Rt.AttvalBegin:switch(i){case lt.CharCodeDoubleQuote:case lt.CharCodeSingleQuote:l="",s=Rt.AttribVal,o=r+1,g=i;break}break;case Rt.AttribVal:switch(i){case lt.CharCodeAmp:l+=e.substr(o,r-o),s=Rt.Escape,u=Rt.AttribVal,o=r+1;break;default:if(i===g){l+=e.substr(o,r-o);let m=l;l="",c.attributes.set(h,m),s=Rt.IgnoreSpaces,a=Rt.Body}break}break;case Rt.Childs:r=lt.parse(e,r,c),o=r,s=Rt.Begin;break;case Rt.WaitEnd:switch(i){case lt.CharCodeGreaterThan:s=Rt.Begin;break;default:throw new Ns("Expected >",e,r)}break;case Rt.WaitEndRet:switch(i){case lt.CharCodeGreaterThan:return r;default:throw new Ns("Expected >",e,r)}case Rt.Close:if(!lt.isValidChar(i)){if(o===r)throw new Ns("Expected node name",e,r);if(e.substr(o,r-o)!==n.localName)throw new Ns("Expected </"+n.localName+">",e,r);s=Rt.IgnoreSpaces,a=Rt.WaitEndRet;continue}break;case Rt.Comment:i===lt.CharCodeMinus&&e.charCodeAt(r+1)===lt.CharCodeMinus&&e.charCodeAt(r+2)===lt.CharCodeGreaterThan&&(r+=2,s=Rt.Begin);break;case Rt.Doctype:if(i===lt.CharCodeBrackedOpen)f++;else if(i===lt.CharCodeBrackedClose)f--;else if(i===lt.CharCodeGreaterThan&&f===0){let m=new Ko;m.nodeType=Le.DocumentType,m.value=e.substr(o,r-o),n.addChild(m),s=Rt.Begin}break;case Rt.Header:i===lt.CharCodeQuestion&&e.charCodeAt(r+1)===lt.CharCodeGreaterThan&&(r++,s=Rt.Begin);break;case Rt.Escape:if(i===lt.CharCodeSemi){let m=e.substr(o,r-o);if(m.charCodeAt(0)===lt.CharCodeSharp){let y=m.charCodeAt(1)===lt.CharCodeLowerX?parseInt("0"+m.substr(1,m.length-1)):parseInt(m.substr(1,m.length-1));l+=String.fromCharCode(y)}else lt.Escapes.has(m)?l+=lt.Escapes.get(m):l+=("&"+m+";").toString();o=r+1,s=u}else!lt.isValidChar(i)&&i!==lt.CharCodeSharp&&(l+="&",l+=e.substr(o,r-o),r--,o=r+1,s=u);break}r++}if(s===Rt.Begin&&(o=r,s=Rt.Pcdata),s===Rt.Pcdata){if(r!==o){l+=e.substr(o,r-o);let m=new Ko;m.nodeType=Le.Text,m.value=l,n.addChild(m)}return r}if(s===Rt.Escape&&u===Rt.Pcdata){l+="&",l+=e.substr(o,r-o);let m=new Ko;return m.nodeType=Le.Text,m.value=l,n.addChild(m),r}throw new Ns("Unexpected end",e,r)}static isValidChar(e){return e>=lt.CharCodeLowerA&&e<=lt.CharCodeLowerZ||e>=lt.CharCodeUpperA&&e<=lt.CharCodeUpperZ||e>=lt.CharCode0&&e<=lt.CharCode9||e===lt.CharCodeColon||e===lt.CharCodeDot||e===lt.CharCodeUnderscore||e===lt.CharCodeMinus}}lt.CharCodeLF=10;lt.CharCodeTab=9;lt.CharCodeCR=13;lt.CharCodeSpace=32;lt.CharCodeLowerThan=60;lt.CharCodeAmp=38;lt.CharCodeBrackedClose=93;lt.CharCodeBrackedOpen=91;lt.CharCodeGreaterThan=62;lt.CharCodeExclamation=33;lt.CharCodeUpperD=68;lt.CharCodeLowerD=100;lt.CharCodeMinus=45;lt.CharCodeQuestion=63;lt.CharCodeSlash=47;lt.CharCodeEquals=61;lt.CharCodeDoubleQuote=34;lt.CharCodeSingleQuote=39;lt.CharCodeSharp=35;lt.CharCodeLowerX=120;lt.CharCodeLowerA=97;lt.CharCodeLowerZ=122;lt.CharCodeUpperA=65;lt.CharCodeUpperZ=90;lt.CharCode0=48;lt.CharCode9=57;lt.CharCodeColon=58;lt.CharCodeDot=46;lt.CharCodeUnderscore=95;lt.CharCodeSemi=59;lt.Escapes=new Map([["lt","<"],["gt",">"],["amp","&"],["quot",'"'],["apos","'"]]);class JM{static write(e,r,n){const i=new JM(r,n);return i.writeNode(e),i.toString()}constructor(e,r){this._result=[],this._indention=e,this._xmlHeader=r,this._currentIndention="",this._isStartOfLine=!0}writeNode(e){switch(e.nodeType){case Le.None:break;case Le.Element:this._result.length>0&&this.writeLine(),this.write(`<${e.localName}`);for(const[r,n]of e.attributes)this.write(` ${r}="`),this.writeAttributeValue(n),this.write('"');if(e.childNodes.length===0)this.write("/>");else{if(this.write(">"),e.childNodes.length===1&&!e.firstElement)this.writeNode(e.childNodes[0]);else{this.indent();for(const r of e.childNodes)r.nodeType===Le.Element&&this.writeNode(r);this.unindend(),this.writeLine()}this.write(`</${e.localName}>`)}break;case Le.Text:e.value&&this.write(e.value);break;case Le.CDATA:e.value!==null&&this.write(`<![CDATA[${e.value}]]>`);break;case Le.Document:this._xmlHeader&&this.write('<?xml version="1.0" encoding="utf-8"?>');for(const r of e.childNodes)this.writeNode(r);break;case Le.DocumentType:this.write(`<!DOCTYPE ${e.value}>`);break}}unindend(){this._currentIndention=this._currentIndention.substr(0,this._currentIndention.length-this._indention.length)}indent(){this._currentIndention+=this._indention}writeAttributeValue(e){for(let r=0;r<e.length;r++){const n=e.charAt(r);switch(n){case"<":this._result.push("&lt;");break;case">":this._result.push("&gt;");break;case"&":this._result.push("&amp;");break;case"'":this._result.push("&apos;");break;case'"':this._result.push("&quot;");break;default:this._result.push(n);break}}}write(e){this._isStartOfLine&&this._result.push(this._currentIndention),this._result.push(e),this._isStartOfLine=!1}writeLine(e=null){e&&this.write(e),this._indention.length>0&&!this._isStartOfLine&&(this._result.push(`
`),this._isStartOfLine=!0)}toString(){return this._result.join("").trimRight()}}class ZM extends Ko{constructor(){super(),this.nodeType=Le.Document}parse(e){lt.parse(e,0,this)}toString(){return this.toFormattedString()}toFormattedString(e="",r=!1){return JM.write(this,e,r)}}var He;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(He||(He={}));class Bwe{constructor(){this.id="",this.dots=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.value=le.Quarter}}class Mwe{constructor(){this.name="",this.path="",this.role="",this.program=0}get uniqueId(){return this.path+";"+this.name+";"+this.role}}class co{constructor(){this._hasAnacrusis=!1,this._skipApplyLyrics=!1}parseXml(e,r){this._masterTrackAutomations=new Map,this._automationsPerTrackIdAndBarIndex=new Map,this._tracksMapping=[],this._tracksById=new Map,this._masterBars=[],this._barsOfMasterBar=[],this._voicesOfBar=new Map,this._barsById=new Map,this._voiceById=new Map,this._beatsOfVoice=new Map,this._beatById=new Map,this._rhythmOfBeat=new Map,this._rhythmById=new Map,this._notesOfBeat=new Map,this._noteById=new Map,this._tappedNotes=new Map,this._lyricsByTrack=new Map,this._soundsByTrack=new Map,this._skipApplyLyrics=!1;let n=new ZM;try{n.parse(e)}catch(i){throw new Xn("Could not parse XML",i)}if(this.parseDom(n),this.buildModel(),this.score.finish(r),!this._skipApplyLyrics&&this._lyricsByTrack.size>0)for(const[i,s]of this._lyricsByTrack)this._tracksById.get(i).applyLyrics(s)}parseDom(e){let r=e.firstElement;if(r)if(r.localName==="GPIF"){this.score=new Ch;for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Score":this.parseScoreNode(n);break;case"MasterTrack":this.parseMasterTrackNode(n);break;case"Tracks":this.parseTracksNode(n);break;case"MasterBars":this.parseMasterBarsNode(n);break;case"Bars":this.parseBars(n);break;case"Voices":this.parseVoices(n);break;case"Beats":this.parseBeats(n);break;case"Notes":this.parseNotes(n);break;case"Rhythms":this.parseRhythms(n);break}}else throw new Xn("Root node of XML was not GPIF")}parseScoreNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Title":this.score.title=r.firstChild.innerText;break;case"SubTitle":this.score.subTitle=r.firstChild.innerText;break;case"Artist":this.score.artist=r.firstChild.innerText;break;case"Album":this.score.album=r.firstChild.innerText;break;case"Words":this.score.words=r.firstChild.innerText;break;case"Music":this.score.music=r.firstChild.innerText;break;case"WordsAndMusic":if(r.firstChild&&r.firstChild.innerText!==""){let n=r.firstChild.innerText;n&&!this.score.words&&(this.score.words=n),n&&!this.score.music&&(this.score.music=n)}break;case"Copyright":this.score.copyright=r.firstChild.innerText;break;case"Tabber":this.score.tab=r.firstChild.innerText;break;case"Instructions":this.score.instructions=r.firstChild.innerText;break;case"Notices":this.score.notices=r.firstChild.innerText;break;case"ScoreSystemsDefaultLayout":this.score.defaultSystemsLayout=parseInt(r.innerText);break;case"ScoreSystemsLayout":this.score.systemsLayout=r.innerText.split(" ").map(n=>parseInt(n));break}}parseMasterTrackNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Automations":this.parseAutomations(r,this._masterTrackAutomations,null);break;case"Tracks":this._tracksMapping=r.innerText.split(" ");break;case"Anacrusis":this._hasAnacrusis=!0;break}}parseAutomations(e,r,n){for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Automation":this.parseAutomation(i,r,n);break}}parseAutomation(e,r,n){let i=null,s=!1,a=-1,o=0,l=0,u=null,c=0,h=null;for(let g of e.childNodes)if(g.nodeType===Le.Element)switch(g.localName){case"Type":i=g.innerText;break;case"Linear":s=g.innerText.toLowerCase()==="true";break;case"Bar":a=parseInt(g.innerText);break;case"Position":o=parseFloat(g.innerText);break;case"Value":if(g.firstElement&&g.firstElement.nodeType===Le.CDATA)u=g.innerText;else{let m=g.innerText.split(" ");m.length===1?(l=parseFloat(m[0]),c=1):(l=parseFloat(m[0]),c=parseInt(m[1]))}break;case"Text":h=g.innerText;break}if(!i)return;let f=null;switch(i){case"Tempo":f=Wi.buildTempoAutomation(s,o,l,c);break;case"Sound":u&&n&&n.has(u)&&(f=Wi.buildInstrumentAutomation(s,o,n.get(u).program));break}f&&(h&&(f.text=h),a>=0&&(r.has(a)||r.set(a,[]),r.get(a).push(f)))}parseTracksNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Track":this.parseTrack(r);break}}parseTrack(e){this._articulationByName=new Map;let r=new Gl;r.ensureStaveCount(1);let n=r.staves[0];n.showStandardNotation=!0;let i=e.getAttribute("id");for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":r.name=s.innerText;break;case"Color":let a=s.innerText.split(" ");if(a.length>=3){let u=parseInt(a[0]),c=parseInt(a[1]),h=parseInt(a[2]);r.color=new fn(u,c,h,255)}break;case"Instrument":let o=s.getAttribute("ref");(o.endsWith("-gs")||o.endsWith("GrandStaff"))&&(r.ensureStaveCount(2),r.staves[1].showStandardNotation=!0);break;case"InstrumentSet":this.parseInstrumentSet(r,s);break;case"NotationPatch":this.parseNotationPatch(r,s);break;case"ShortName":r.shortName=s.innerText;break;case"SystemsDefautLayout":r.defaultSystemsLayout=parseInt(s.innerText);break;case"SystemsLayout":r.systemsLayout=s.innerText.split(" ").map(u=>parseInt(u));break;case"Lyrics":this.parseLyrics(i,s);break;case"Properties":this.parseTrackProperties(r,s);break;case"GeneralMidi":case"MidiConnection":case"MIDISettings":this.parseGeneralMidi(r,s);break;case"Sounds":this.parseSounds(i,r,s);break;case"PlaybackState":let l=s.innerText;r.playbackInfo.isSolo=l==="Solo",r.playbackInfo.isMute=l==="Mute";break;case"PartSounding":this.parsePartSounding(r,s);break;case"Staves":this.parseStaves(r,s);break;case"Transpose":this.parseTranspose(r,s);break;case"RSE":this.parseRSE(r,s);break;case"Automations":this.parseTrackAutomations(i,s);break}this._tracksById.set(i,r)}parseTrackAutomations(e,r){const n=new Map;this._automationsPerTrackIdAndBarIndex.set(e,n),this.parseAutomations(r,n,this._soundsByTrack.get(e))}parseNotationPatch(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break;case"Elements":this.parseElements(e,n);break}}parseInstrumentSet(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Type":switch(n.innerText){case"drumKit":for(let s of e.staves)s.isPercussion=!0;break}if(n.innerText==="drumKit")for(let s of e.staves)s.isPercussion=!0;break;case"Elements":this.parseElements(e,n);break;case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break}}parseElements(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Element":this.parseElement(e,n);break}}parseElement(e,r){const n=r.findChildElement("Type"),i=n?n.innerText:"";for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":case"Articulations":this.parseArticulations(e,s,i);break}}parseArticulations(e,r,n){for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Articulation":this.parseArticulation(e,i,n);break}}parseArticulation(e,r,n){const i=new nt;i.outputMidiNumber=-1,i.elementType=n;let s="";for(let a of r.childNodes)if(a.nodeType===Le.Element){const o=a.innerText;switch(a.localName){case"Name":s=a.innerText;break;case"OutputMidiNumber":o.length>0&&(i.outputMidiNumber=parseInt(o));break;case"TechniqueSymbol":i.techniqueSymbol=this.parseTechniqueSymbol(o);break;case"TechniquePlacement":switch(o){case"outside":i.techniqueSymbolPlacement=Xt.Bottom;break;case"inside":i.techniqueSymbolPlacement=Xt.Middle;break;case"above":i.techniqueSymbolPlacement=Xt.Bottom;break;case"below":i.techniqueSymbolPlacement=Xt.Top;break}break;case"Noteheads":const l=o.split(" ");l.length>=1&&(i.noteHeadDefault=this.parseNoteHead(l[0])),l.length>=2&&(i.noteHeadHalf=this.parseNoteHead(l[1])),l.length>=3&&(i.noteHeadWhole=this.parseNoteHead(l[2])),i.noteHeadHalf==R.None&&(i.noteHeadHalf=i.noteHeadDefault),i.noteHeadWhole==R.None&&(i.noteHeadWhole=i.noteHeadDefault);break;case"StaffLine":o.length>0&&(i.staffLine=parseInt(o));break}}i.outputMidiNumber!==-1?(e.percussionArticulations.push(i),s.length>0&&this._articulationByName.set(s,i)):s.length>0&&this._articulationByName.has(s)&&(this._articulationByName.get(s).staffLine=i.staffLine)}parseTechniqueSymbol(e){switch(e){case"pictEdgeOfCymbal":return R.PictEdgeOfCymbal;case"articStaccatoAbove":return R.ArticStaccatoAbove;case"noteheadParenthesis":return R.NoteheadParenthesis;case"stringsUpBow":return R.StringsUpBow;case"stringsDownBow":return R.StringsDownBow;case"guitarGolpe":return R.GuitarGolpe;default:return R.None}}parseNoteHead(e){switch(e){case"noteheadDoubleWholeSquare":return R.NoteheadDoubleWholeSquare;case"noteheadDoubleWhole":return R.NoteheadDoubleWhole;case"noteheadWhole":return R.NoteheadWhole;case"noteheadHalf":return R.NoteheadHalf;case"noteheadBlack":return R.NoteheadBlack;case"noteheadNull":return R.NoteheadNull;case"noteheadXOrnate":return R.NoteheadXOrnate;case"noteheadTriangleUpWhole":return R.NoteheadTriangleUpWhole;case"noteheadTriangleUpHalf":return R.NoteheadTriangleUpHalf;case"noteheadTriangleUpBlack":return R.NoteheadTriangleUpBlack;case"noteheadDiamondBlackWide":return R.NoteheadDiamondBlackWide;case"noteheadDiamondWhite":return R.NoteheadDiamondWhite;case"noteheadDiamondWhiteWide":return R.NoteheadDiamondWhiteWide;case"noteheadCircleX":return R.NoteheadCircleX;case"noteheadXWhole":return R.NoteheadXWhole;case"noteheadXHalf":return R.NoteheadXHalf;case"noteheadXBlack":return R.NoteheadXBlack;case"noteheadParenthesis":return R.NoteheadParenthesis;case"noteheadSlashedBlack2":return R.NoteheadSlashedBlack2;case"noteheadCircleSlash":return R.NoteheadCircleSlash;case"noteheadHeavyX":return R.NoteheadHeavyX;case"noteheadHeavyXHat":return R.NoteheadHeavyXHat;default:return Fe.warning("GPIF","Unknown notehead symbol",e),R.None}}parseStaves(e,r){let n=0;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Staff":e.ensureStaveCount(n+1);let s=e.staves[n];this.parseStaff(s,i),n++;break}}parseStaff(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Properties":this.parseStaffProperties(e,n);break}}parseStaffProperties(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Property":this.parseStaffProperty(e,n);break}}parseStaffProperty(e,r){switch(r.getAttribute("name")){case"Tuning":for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Pitches":let a=r.findChildElement("Pitches").innerText.split(" "),o=new Array(a.length);for(let l=0;l<o.length;l++)o[o.length-1-l]=parseInt(a[l]);e.stringTuning.tunings=o;break;case"Label":e.stringTuning.name=s.innerText;break}e.isPercussion||(e.showTablature=!0);break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForStaff(e,r);break;case"CapoFret":let i=parseInt(r.findChildElement("Fret").innerText);e.capo=i;break}}parseLyrics(e,r){let n=[];for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Line":n.push(this.parseLyricsLine(i));break}this._lyricsByTrack.set(e,n)}parseLyricsLine(e){let r=new jn;for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Offset":r.startBar=parseInt(n.innerText);break;case"Text":r.text=n.innerText;break}return r}parseDiagramCollectionForTrack(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Item":this.parseDiagramItemForTrack(e,i);break}}parseDiagramCollectionForStaff(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Item":this.parseDiagramItemForStaff(e,i);break}}parseDiagramItemForTrack(e,r){let n=new Gc,i=r.getAttribute("id");for(let s of e.staves)s.addChord(i,n);this.parseDiagramItemForChord(n,r)}parseDiagramItemForStaff(e,r){let n=new Gc,i=r.getAttribute("id");e.addChord(i,n),this.parseDiagramItemForChord(n,r)}parseDiagramItemForChord(e,r){e.name=r.getAttribute("name");let n=r.findChildElement("Diagram");if(!n){e.showDiagram=!1,e.showFingering=!1;return}let i=parseInt(n.getAttribute("stringCount")),s=parseInt(n.getAttribute("baseFret"));e.firstFret=s+1;for(let a=0;a<i;a++)e.strings.push(-1);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"Fret":let o=parseInt(a.getAttribute("string"));e.strings[i-o-1]=s+parseInt(a.getAttribute("fret"));break;case"Fingering":let l=new Map;for(let u of a.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"Position":let c=Vt.Unknown,h=s+parseInt(u.getAttribute("fret"));switch(u.getAttribute("finger")){case"Index":c=Vt.IndexFinger;break;case"Middle":c=Vt.MiddleFinger;break;case"Rank":c=Vt.AnnularFinger;break;case"Pinky":c=Vt.LittleFinger;break;case"Thumb":c=Vt.Thumb;break}c!==Vt.Unknown&&(l.has(c)?e.barreFrets.push(h):l.set(c,!0));break}break;case"Property":switch(a.getAttribute("name")){case"ShowName":e.showName=a.getAttribute("value")==="true";break;case"ShowDiagram":e.showDiagram=a.getAttribute("value")==="true";break;case"ShowFingering":e.showFingering=a.getAttribute("value")==="true";break}break}}parseTrackProperties(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Property":this.parseTrackProperty(e,n);break}}parseTrackProperty(e,r){switch(r.getAttribute("name")){case"Tuning":let i=r.findChildElement("Pitches").innerText.split(" "),s=new Array(i.length);for(let o=0;o<s.length;o++)s[s.length-1-o]=parseInt(i[o]);for(let o of e.staves)o.stringTuning.tunings=s,o.showStandardNotation=!0,o.showTablature=!0;break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForTrack(e,r);break;case"CapoFret":let a=parseInt(r.findChildElement("Fret").innerText);for(let o of e.staves)o.capo=a;break}}parseGeneralMidi(e,r){for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Program":e.playbackInfo.program=parseInt(i.innerText);break;case"Port":e.playbackInfo.port=parseInt(i.innerText);break;case"PrimaryChannel":e.playbackInfo.primaryChannel=parseInt(i.innerText);break;case"SecondaryChannel":e.playbackInfo.secondaryChannel=parseInt(i.innerText);break}if(r.getAttribute("table")==="Percussion")for(let i of e.staves)i.isPercussion=!0}parseSounds(e,r,n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Sound":this.parseSound(e,r,i);break}}parseSound(e,r,n){const i=new Mwe;for(let s of n.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":i.name=s.innerText;break;case"Path":i.path=s.innerText;break;case"Role":i.role=s.innerText;break;case"MIDI":this.parseSoundMidi(i,s);break}(i.role==="Factory"||r.playbackInfo.program===0)&&(r.playbackInfo.program=i.program),this._soundsByTrack.has(e)||this._soundsByTrack.set(e,new Map),this._soundsByTrack.get(e).set(i.uniqueId,i)}parseSoundMidi(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Program":e.program=parseInt(n.innerText);break}}parsePartSounding(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"TranspositionPitch":for(let i of e.staves)i.displayTranspositionPitch=parseInt(n.innerText);break}}parseTranspose(e,r){let n=0,i=0;for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Chromatic":i=parseInt(s.innerText);break;case"Octave":n=parseInt(s.innerText);break}for(let s of e.staves)s.displayTranspositionPitch=n*12+i}parseRSE(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"ChannelStrip":this.parseChannelStrip(e,n);break}}parseChannelStrip(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Parameters":this.parseChannelStripParameters(e,n);break}}parseChannelStripParameters(e,r){if(r.firstChild&&r.firstChild.value){let n=r.firstChild.value.split(" ");n.length>=12&&(e.playbackInfo.balance=Math.floor(parseFloat(n[11])*16),e.playbackInfo.volume=Math.floor(parseFloat(n[12])*16))}}parseMasterBarsNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"MasterBar":this.parseMasterBar(r);break}}parseMasterBar(e){let r=new Lu;this._masterBars.length===0&&this._hasAnacrusis&&(r.isAnacrusis=!0);for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Time":let i=n.innerText.split("/");r.timeSignatureNumerator=parseInt(i[0]),r.timeSignatureDenominator=parseInt(i[1]);break;case"DoubleBar":r.isDoubleBar=!0;break;case"Section":r.section=new q1,r.section.marker=n.findChildElement("Letter").innerText,r.section.text=n.findChildElement("Text").innerText;break;case"Repeat":n.getAttribute("start").toLowerCase()==="true"&&(r.isRepeatStart=!0),n.getAttribute("end").toLowerCase()==="true"&&n.getAttribute("count")&&(r.repeatCount=parseInt(n.getAttribute("count")));break;case"AlternateEndings":let s=n.innerText.split(" "),a=0;for(let l=0;l<s.length;l++)a=a|1<<-1+parseInt(s[l]);r.alternateEndings=a;break;case"Bars":this._barsOfMasterBar.push(n.innerText.split(" "));break;case"TripletFeel":switch(n.innerText){case"NoTripletFeel":r.tripletFeel=Qt.NoTripletFeel;break;case"Triplet8th":r.tripletFeel=Qt.Triplet8th;break;case"Triplet16th":r.tripletFeel=Qt.Triplet16th;break;case"Dotted8th":r.tripletFeel=Qt.Dotted8th;break;case"Dotted16th":r.tripletFeel=Qt.Dotted16th;break;case"Scottish8th":r.tripletFeel=Qt.Scottish8th;break;case"Scottish16th":r.tripletFeel=Qt.Scottish16th;break}break;case"Key":r.keySignature=parseInt(n.findChildElement("AccidentalCount").innerText);let o=n.findChildElement("Mode");if(o)switch(o.innerText.toLowerCase()){case"major":r.keySignatureType=jc.Major;break;case"minor":r.keySignatureType=jc.Minor;break}break;case"Fermatas":this.parseFermatas(r,n);break;case"XProperties":this.parseMasterBarXProperties(n,r);break}this._masterBars.push(r)}parseFermatas(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Fermata":this.parseFermata(e,n);break}}parseFermata(e,r){let n=0,i=new QM;for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Type":switch(s.innerText){case"Short":i.type=ul.Short;break;case"Medium":i.type=ul.Medium;break;case"Long":i.type=ul.Long;break}break;case"Length":i.length=parseFloat(s.innerText);break;case"Offset":let a=s.innerText.split("/");if(a.length===2){let o=parseInt(a[0]),l=parseInt(a[1]);n=o/l*Ht.QuarterTime|0}break}e.addFermata(n,i)}parseBars(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Bar":this.parseBar(r);break}}parseBar(e){let r=new Hu,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Voices":this._voicesOfBar.set(n,i.innerText.split(" "));break;case"Clef":switch(i.innerText){case"Neutral":r.clef=zt.Neutral;break;case"G2":r.clef=zt.G2;break;case"F4":r.clef=zt.F4;break;case"C4":r.clef=zt.C4;break;case"C3":r.clef=zt.C3;break}break;case"Ottavia":switch(i.innerText){case"8va":r.clefOttava=br._8va;break;case"15ma":r.clefOttava=br._15ma;break;case"8vb":r.clefOttava=br._8vb;break;case"15mb":r.clefOttava=br._15mb;break}break;case"SimileMark":switch(i.innerText){case"Simple":r.simileMark=Ia.Simple;break;case"FirstOfDouble":r.simileMark=Ia.FirstOfDouble;break;case"SecondOfDouble":r.simileMark=Ia.SecondOfDouble;break}break;case"XProperties":this.parseBarXProperties(i,r);break}this._barsById.set(n,r)}parseVoices(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Voice":this.parseVoice(r);break}}parseVoice(e){let r=new jl,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Beats":this._beatsOfVoice.set(n,i.innerText.split(" "));break}this._voiceById.set(n,r)}parseBeats(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Beat":this.parseBeat(r);break}}parseBeat(e){let r=new Ui,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Notes":this._notesOfBeat.set(n,i.innerText.split(" "));break;case"Rhythm":this._rhythmOfBeat.set(n,i.getAttribute("ref"));break;case"Fadding":i.innerText==="FadeIn"&&(r.fadeIn=!0);break;case"Tremolo":switch(i.innerText){case"1/2":r.tremoloSpeed=le.Eighth;break;case"1/4":r.tremoloSpeed=le.Sixteenth;break;case"1/8":r.tremoloSpeed=le.ThirtySecond;break}break;case"Chord":r.chordId=i.innerText;break;case"Hairpin":switch(i.innerText){case"Crescendo":r.crescendo=$s.Crescendo;break;case"Decrescendo":r.crescendo=$s.Decrescendo;break}break;case"Arpeggio":i.innerText==="Up"?r.brushType=Jr.ArpeggioUp:r.brushType=Jr.ArpeggioDown;break;case"Properties":this.parseBeatProperties(i,r);break;case"XProperties":this.parseBeatXProperties(i,r);break;case"FreeText":r.text=i.innerText;break;case"TransposedPitchStemOrientation":switch(i.innerText){case"Upward":r.preferredBeamDirection=He.Up;break;case"Downward":r.preferredBeamDirection=He.Down;break}break;case"Dynamic":switch(i.innerText){case"PPP":r.dynamics=Jt.PPP;break;case"PP":r.dynamics=Jt.PP;break;case"P":r.dynamics=Jt.P;break;case"MP":r.dynamics=Jt.MP;break;case"MF":r.dynamics=Jt.MF;break;case"F":r.dynamics=Jt.F;break;case"FF":r.dynamics=Jt.FF;break;case"FFF":r.dynamics=Jt.FFF;break}break;case"GraceNotes":switch(i.innerText){case"OnBeat":r.graceType=Tt.OnBeat;break;case"BeforeBeat":r.graceType=Tt.BeforeBeat;break}break;case"Legato":i.getAttribute("origin")==="true"&&(r.isLegatoOrigin=!0);break;case"Whammy":let s=new Je(0,0);s.value=this.toBendValue(parseFloat(i.getAttribute("originValue"))),s.offset=this.toBendOffset(parseFloat(i.getAttribute("originOffset"))),r.addWhammyBarPoint(s);let a=new Je(0,0);a.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),a.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset1"))),r.addWhammyBarPoint(a);let o=new Je(0,0);o.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),o.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset2"))),r.addWhammyBarPoint(o);let l=new Je(0,0);l.value=this.toBendValue(parseFloat(i.getAttribute("destinationValue"))),l.offset=this.toBendOffset(parseFloat(i.getAttribute("destinationOffset"))),r.addWhammyBarPoint(l);break;case"Ottavia":switch(i.innerText){case"8va":r.ottava=br._8va;break;case"8vb":r.ottava=br._8vb;break;case"15ma":r.ottava=br._15ma;break;case"15mb":r.ottava=br._15mb;break}break;case"Lyrics":r.lyrics=this.parseBeatLyrics(i),this._skipApplyLyrics=!0;break}this._beatById.set(n,r)}parseBeatLyrics(e){const r=[];for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Line":r.push(n.innerText);break}return r}parseBeatXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":let i=n.getAttribute("id"),s=0;switch(i){case"1124204545":s=parseInt(n.findChildElement("Int").innerText),r.invertBeamDirection=s===1;break;case"687935489":s=parseInt(n.findChildElement("Int").innerText),r.brushDuration=s;break}break}}parseBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124139520":const s=n.findChildElement("Double")??n.findChildElement("Float");r.displayScale=parseFloat(s.innerText);break}break}}parseMasterBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124073984":r.displayScale=parseFloat(n.findChildElement("Double").innerText);break}break}}parseBeatProperties(e,r){let n=!1,i=null,s=null,a=null,o=null,l=null;for(let u of e.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"Property":switch(u.getAttribute("name")){case"Brush":u.findChildElement("Direction").innerText==="Up"?r.brushType=Jr.BrushUp:r.brushType=Jr.BrushDown;break;case"PickStroke":u.findChildElement("Direction").innerText==="Up"?r.pickStroke=Fi.Up:r.pickStroke=Fi.Down;break;case"Slapped":u.findChildElement("Enable")&&(r.slap=!0);break;case"Popped":u.findChildElement("Enable")&&(r.pop=!0);break;case"VibratoWTremBar":switch(u.findChildElement("Strength").innerText){case"Wide":r.vibrato=pr.Wide;break;case"Slight":r.vibrato=pr.Slight;break}break;case"WhammyBar":n=!0;break;case"WhammyBarExtend":break;case"WhammyBarOriginValue":i||(i=new Je(0,0)),i.value=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarOriginOffset":i||(i=new Je(0,0)),i.offset=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleValue":s=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset1":a=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset2":o=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarDestinationValue":l||(l=new Je(Je.MaxPosition,0)),l.value=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarDestinationOffset":l||(l=new Je(0,0)),l.offset=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break}break}n&&(i||(i=new Je(0,0)),l||(l=new Je(Je.MaxPosition,0)),r.addWhammyBarPoint(i),a&&s&&r.addWhammyBarPoint(new Je(a,s)),o&&s&&r.addWhammyBarPoint(new Je(o,s)),!a&&!o&&s&&r.addWhammyBarPoint(new Je(Je.MaxPosition/2|0,s)),r.addWhammyBarPoint(l))}parseNotes(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Note":this.parseNote(r);break}}parseNote(e){let r=new fa,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Properties":this.parseNoteProperties(i,r,n);break;case"AntiAccent":i.innerText.toLowerCase()==="normal"&&(r.isGhost=!0);break;case"LetRing":r.isLetRing=!0;break;case"Trill":r.trillValue=parseInt(i.innerText),r.trillSpeed=le.Sixteenth;break;case"Accent":let s=parseInt(i.innerText);s&1&&(r.isStaccato=!0),s&4&&(r.accentuated=qn.Heavy),s&8&&(r.accentuated=qn.Normal);break;case"Tie":i.getAttribute("destination").toLowerCase()==="true"&&(r.isTieDestination=!0);break;case"Vibrato":switch(i.innerText){case"Slight":r.vibrato=pr.Slight;break;case"Wide":r.vibrato=pr.Wide;break}break;case"LeftFingering":switch(r.isFingering=!0,i.innerText){case"P":r.leftHandFinger=Vt.Thumb;break;case"I":r.leftHandFinger=Vt.IndexFinger;break;case"M":r.leftHandFinger=Vt.MiddleFinger;break;case"A":r.leftHandFinger=Vt.AnnularFinger;break;case"C":r.leftHandFinger=Vt.LittleFinger;break}break;case"RightFingering":switch(r.isFingering=!0,i.innerText){case"P":r.rightHandFinger=Vt.Thumb;break;case"I":r.rightHandFinger=Vt.IndexFinger;break;case"M":r.rightHandFinger=Vt.MiddleFinger;break;case"A":r.rightHandFinger=Vt.AnnularFinger;break;case"C":r.rightHandFinger=Vt.LittleFinger;break}break;case"InstrumentArticulation":r.percussionArticulation=parseInt(i.innerText);break}this._noteById.set(n,r)}parseNoteProperties(e,r,n){let i=!1,s=null,a=null,o=null,l=null,u=null,c=-1,h=-1;for(let f of e.childNodes)if(f.nodeType===Le.Element)switch(f.localName){case"Property":switch(f.getAttribute("name")){case"String":r.string=parseInt(f.findChildElement("String").innerText)+1;break;case"Fret":r.fret=parseInt(f.findChildElement("Fret").innerText);break;case"Element":c=parseInt(f.findChildElement("Element").innerText);break;case"Variation":h=parseInt(f.findChildElement("Variation").innerText);break;case"Tapped":this._tappedNotes.set(n,!0);break;case"HarmonicType":let m=f.findChildElement("HType");if(m)switch(m.innerText){case"NoHarmonic":r.harmonicType=vt.None;break;case"Natural":r.harmonicType=vt.Natural;break;case"Artificial":r.harmonicType=vt.Artificial;break;case"Pinch":r.harmonicType=vt.Pinch;break;case"Tap":r.harmonicType=vt.Tap;break;case"Semi":r.harmonicType=vt.Semi;break;case"Feedback":r.harmonicType=vt.Feedback;break}break;case"HarmonicFret":let y=f.findChildElement("HFret");y&&(r.harmonicValue=parseFloat(y.innerText));break;case"Muted":f.findChildElement("Enable")&&(r.isDead=!0);break;case"PalmMuted":f.findChildElement("Enable")&&(r.isPalmMute=!0);break;case"Octave":r.octave=parseInt(f.findChildElement("Number").innerText),r.tone===-1&&(r.tone=0);break;case"Tone":r.tone=parseInt(f.findChildElement("Step").innerText);break;case"ConcertPitch":this.parseConcertPitch(f,r);break;case"Bended":i=!0;break;case"BendOriginValue":s||(s=new Je(0,0)),s.value=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendOriginOffset":s||(s=new Je(0,0)),s.offset=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleValue":a=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleOffset1":o=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleOffset2":l=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendDestinationValue":u||(u=new Je(Je.MaxPosition,0)),u.value=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendDestinationOffset":u||(u=new Je(0,0)),u.offset=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"HopoOrigin":f.findChildElement("Enable")&&(r.isHammerPullOrigin=!0);break;case"HopoDestination":break;case"LeftHandTapped":r.isLeftHandTapped=!0;break;case"Slide":let b=parseInt(f.findChildElement("Flags").innerText);b&1?r.slideOutType=jt.Shift:b&2?r.slideOutType=jt.Legato:b&4?r.slideOutType=jt.OutDown:b&8&&(r.slideOutType=jt.OutUp),b&16?r.slideInType=ki.IntoFromBelow:b&32&&(r.slideInType=ki.IntoFromAbove),b&64?r.slideOutType=jt.PickSlideDown:b&128&&(r.slideOutType=jt.PickSlideUp);break}break}i&&(s||(s=new Je(0,0)),u||(u=new Je(Je.MaxPosition,0)),r.addBendPoint(s),o&&a&&r.addBendPoint(new Je(o,a)),l&&a&&r.addBendPoint(new Je(l,a)),!o&&!l&&a&&r.addBendPoint(new Je(Je.MaxPosition/2|0,a)),r.addBendPoint(u)),c!==-1&&h!==-1&&(r.percussionArticulation=Ri.articulationFromElementVariation(c,h))}parseConcertPitch(e,r){const n=e.findChildElement("Pitch");if(n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Accidental":switch(i.innerText){case"x":r.accidentalMode=Vn.ForceDoubleSharp;break;case"#":r.accidentalMode=Vn.ForceSharp;break;case"b":r.accidentalMode=Vn.ForceFlat;break;case"bb":r.accidentalMode=Vn.ForceDoubleFlat;break}break}}}toBendValue(e){return e*co.BendPointValueFactor|0}toBendOffset(e){return e*co.BendPointPositionFactor}parseRhythms(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Rhythm":this.parseRhythm(r);break}}parseRhythm(e){let r=new Bwe,n=e.getAttribute("id");r.id=n;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"NoteValue":switch(i.innerText){case"Long":r.value=le.QuadrupleWhole;break;case"DoubleWhole":r.value=le.DoubleWhole;break;case"Whole":r.value=le.Whole;break;case"Half":r.value=le.Half;break;case"Quarter":r.value=le.Quarter;break;case"Eighth":r.value=le.Eighth;break;case"16th":r.value=le.Sixteenth;break;case"32nd":r.value=le.ThirtySecond;break;case"64th":r.value=le.SixtyFourth;break;case"128th":r.value=le.OneHundredTwentyEighth;break;case"256th":r.value=le.TwoHundredFiftySixth;break}break;case"PrimaryTuplet":r.tupletNumerator=parseInt(i.getAttribute("num")),r.tupletDenominator=parseInt(i.getAttribute("den"));break;case"AugmentationDot":r.dots=parseInt(i.getAttribute("count"));break}this._rhythmById.set(n,r)}buildModel(){for(let e=0,r=this._masterBars.length;e<r;e++){let n=this._masterBars[e];this.score.addMasterBar(n)}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e);this.score.addTrack(r)}for(let e of this._barsOfMasterBar){let r=0;for(let n=0,i=0;n<e.length&&i<this.score.tracks.length;n++){let s=e[n];if(s!==co.InvalidId){let a=this._barsById.get(s),o=this.score.tracks[i],l=o.staves[r];if(l.addBar(a),this._voicesOfBar.has(s))for(let u of this._voicesOfBar.get(s))if(u!==co.InvalidId){let c=this._voiceById.get(u);if(a.addVoice(c),this._beatsOfVoice.has(u)){for(let h of this._beatsOfVoice.get(u))if(h!==co.InvalidId){let f=KM.clone(this._beatById.get(h));c.addBeat(f);let g=this._rhythmOfBeat.get(h),m=this._rhythmById.get(g);if(f.duration=m.value,f.dots=m.dots,f.tupletNumerator=m.tupletNumerator,f.tupletDenominator=m.tupletDenominator,this._notesOfBeat.has(h)){for(let y of this._notesOfBeat.get(h))if(y!==co.InvalidId){const b=Dz.clone(this._noteById.get(y));l.isPercussion?(b.fret=-1,b.string=-1):b.percussionArticulation=-1,f.addNote(b),this._tappedNotes.has(y)&&(f.tap=!0)}}}}}else{let c=new jl;a.addVoice(c);let h=new Ui;h.isEmpty=!0,h.duration=le.Quarter,c.addBeat(h)}r===o.staves.length-1?(i++,r=0):r++}else i++}}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e),n=!1;for(const i of r.staves)if(i.isPercussion){n=!0;break}if(n||(r.percussionArticulations=[]),this._automationsPerTrackIdAndBarIndex.has(e)){const i=this._automationsPerTrackIdAndBarIndex.get(e);for(const[s,a]of i)if(r.staves.length>0&&s<r.staves[0].bars.length){const o=r.staves[0].bars[s];if(o.voices.length>0&&o.voices[0].beats.length>0){const l=o.voices[0].beats[0];for(const u of a)l.automations.push(u)}}}}for(const[e,r]of this._masterTrackAutomations){let n=this.score.masterBars[e];for(let i=0,s=r.length;i<s;i++){let a=r[i];a.type===di.Tempo&&(e===0&&(this.score.tempo=a.value|0,a.text&&(this.score.tempoLabel=a.text)),n.tempoAutomation=a)}}}}co.InvalidId="-1";co.BendPointPositionFactor=Je.MaxPosition/100;co.BendPointValueFactor=1/25;class NC{constructor(){this.isMultiRest=!1,this.trackViewGroups=[]}}class PF{constructor(){this.showSlash=!1,this.showStandardNotation=!1,this.showTablature=!1}}class Az{apply(e){if(this.scoreViews.length>0){let r=0;for(let n of this.scoreViews[0].trackViewGroups){if(r<e.tracks.length){const i=e.tracks[r];for(const s of i.staves)s.showTablature=n.showTablature,s.showStandardNotation=n.showStandardNotation}r++}}}constructor(e){this.scoreViews=[];let r=Gi.fromBuffer(e);const n=_e.readInt32BE(r);for(let i=0;i<n;i++){const s=new NC;this.scoreViews.push(s),s.isMultiRest=hr.gpReadBool(r);const a=_e.readInt32BE(r);for(let o=0;o<a;o++){let l=r.readByte();l===0&&(l=1);let u=new PF;u.showStandardNotation=(l&1)!==0,u.showTablature=(l&2)!==0,u.showSlash=(l&4)!==0,s.trackViewGroups.push(u)}}}static writeForScore(e){const r=Gi.withCapacity(128),n=[new NC];for(const i of e.tracks){const s=new PF;s.showStandardNotation=i.staves[0].showStandardNotation,s.showTablature=i.staves[0].showTablature,n[0].trackViewGroups.push(s);const a=new NC;a.trackViewGroups.push(s),n.push(a)}_e.writeInt32BE(r,n.length);for(const i of n){r.writeByte(i.isMultiRest?1:0),_e.writeInt32BE(r,i.trackViewGroups.length);for(const s of i.trackViewGroups){let a=0;s.showStandardNotation&&(a=a|1),s.showTablature&&(a=a|2),s.showSlash&&(a=a|4),r.writeByte(a)}}return _e.writeInt32BE(r,1),r.toArray()}}class eN{}class Iv extends eN{constructor(e){super(),this.n=e}}class _d extends eN{constructor(e,r){super(),this.left=e,this.right=r}}class QT extends eN{constructor(e,r){super(),this.n=e,this.table=r}}class Ni{static make(e,r,n,i){let s=[],a=[];if(i>32)throw new Gn("Invalid huffman");for(let u=0;u<i;u++)s.push(0),a.push(0);for(let u=0;u<n;u++){let c=e[u+r];if(c>=i)throw new Gn("Invalid huffman");s[c]++}let o=0;for(let u=1;u<i-1;u++)o=o+s[u]<<1,a[u]=o;let l=new Map;for(let u=0;u<n;u++){let c=e[u+r];if(c!==0){let h=a[c-1];a[c-1]=h+1,l.set(h<<5|c,u)}}return Ni.treeCompress(new _d(Ni.treeMake(l,i,0,1),Ni.treeMake(l,i,1,1)))}static treeMake(e,r,n,i){if(i>r)throw new Gn("Invalid huffman");let s=n<<5|i;return e.has(s)?new Iv(e.get(s)):(n=n<<1,i+=1,new _d(Ni.treeMake(e,r,n,i),Ni.treeMake(e,r,n|1,i)))}static treeCompress(e){let r=Ni.treeDepth(e);if(r===0)return e;if(r===1){if(e instanceof _d)return new _d(Ni.treeCompress(e.left),Ni.treeCompress(e.right));throw new Gn("assert")}let n=1<<r,i=[];for(let s=0;s<n;s++)i.push(new Iv(-1));return Ni.treeWalk(i,0,0,r,e),new QT(r,i)}static treeWalk(e,r,n,i,s){s instanceof _d&&i>0?(Ni.treeWalk(e,r,n+1,i-1,s.left),Ni.treeWalk(e,r|1<<n,n+1,i-1,s.right)):e[r]=Ni.treeCompress(s)}static treeDepth(e){if(e instanceof Iv)return 0;if(e instanceof QT)throw new Gn("assert");if(e instanceof _d){let r=Ni.treeDepth(e.left),n=Ni.treeDepth(e.right);return 1+(r<n?r:n)}return 0}}var On;(function(t){t[t.Head=0]="Head",t[t.Block=1]="Block",t[t.CData=2]="CData",t[t.Flat=3]="Flat",t[t.Crc=4]="Crc",t[t.Dist=5]="Dist",t[t.DistOne=6]="DistOne",t[t.Done=7]="Done"})(On||(On={}));class jo{constructor(){this.buffer=new Uint8Array(jo.BufferSize),this.pos=0}slide(){let e=new Uint8Array(jo.BufferSize);this.pos-=jo.Size,e.set(this.buffer.subarray(jo.Size,jo.Size+this.pos),0),this.buffer=e}addBytes(e,r,n){this.pos+n>jo.BufferSize&&this.slide(),this.buffer.set(e.subarray(r,r+n),this.pos),this.pos+=n}addByte(e){this.pos===jo.BufferSize&&this.slide(),this.buffer[this.pos]=e,this.pos++}getLastChar(){return this.buffer[this.pos-1]}available(){return this.pos}}jo.Size=32768;jo.BufferSize=65536;class ds{static buildFixedHuffman(){let e=[];for(let r=0;r<288;r++)e.push(r<=143?8:r<=255?9:r<=279?7:8);return Ni.make(e,0,288,10)}constructor(e){this._nbits=0,this._bits=0,this._state=On.Block,this._isFinal=!1,this._huffman=ds._fixedHuffman,this._huffdist=null,this._len=0,this._dist=0,this._needed=0,this._output=null,this._outpos=0,this._lengths=[],this._window=new jo,this._input=e;for(let r=0;r<19;r++)this._lengths.push(-1)}readBytes(e,r,n){if(this._needed=n,this._outpos=r,this._output=e,n>0)for(;this.inflateLoop(););return n-this._needed}inflateLoop(){switch(this._state){case On.Head:let e=this._input.readByte();if((e&15)!==8)throw new Gn("Invalid data");let n=this._input.readByte(),i=(n&32)!==0;if(((e<<8)+n)%31!==0)throw new Gn("Invalid data");if(i)throw new Gn("Unsupported dictionary");return this._state=On.Block,!0;case On.Crc:return this._state=On.Done,!0;case On.Done:return!1;case On.Block:switch(this._isFinal=this.getBit(),this.getBits(2)){case 0:if(this._len=_e.readUInt16LE(this._input),_e.readUInt16LE(this._input)!==65535-this._len)throw new Gn("Invalid data");this._state=On.Flat;let o=this.inflateLoop();return this.resetBits(),o;case 1:return this._huffman=ds._fixedHuffman,this._huffdist=null,this._state=On.CData,!0;case 2:let l=this.getBits(5)+257,u=this.getBits(5)+1,c=this.getBits(4)+4;for(let f=0;f<c;f++)this._lengths[ds.CodeLengthsPos[f]]=this.getBits(3);for(let f=c;f<19;f++)this._lengths[ds.CodeLengthsPos[f]]=0;this._huffman=Ni.make(this._lengths,0,19,8);let h=[];for(let f=0;f<l+u;f++)h.push(0);return this.inflateLengths(h,l+u),this._huffdist=Ni.make(h,l,u,16),this._huffman=Ni.make(h,0,l,16),this._state=On.CData,!0;default:throw new Gn("Invalid data")}case On.Flat:{let a=this._len<this._needed?this._len:this._needed,o=_e.readByteArray(this._input,a);return this._len-=a,this.addBytes(o,0,a),this._len===0&&(this._state=this._isFinal?On.Crc:On.Block),this._needed>0}case On.DistOne:{let a=this._len<this._needed?this._len:this._needed;return this.addDistOne(a),this._len-=a,this._len===0&&(this._state=On.CData),this._needed>0}case On.Dist:for(;this._len>0&&this._needed>0;){let a=this._len<this._dist?this._len:this._dist,o=this._needed<a?this._needed:a;this.addDist(this._dist,o),this._len-=o}return this._len===0&&(this._state=On.CData),this._needed>0;case On.CData:let s=this.applyHuffman(this._huffman);if(s<256)return this.addByte(s),this._needed>0;if(s===256)return this._state=this._isFinal?On.Crc:On.Block,!0;{s=s-257&255;let a=ds.LenExtraBitsTbl[s];if(a===-1)throw new Gn("Invalid data");this._len=ds.LenBaseValTbl[s]+this.getBits(a);let o=this._huffdist,l=o?this.applyHuffman(o):this.getRevBits(5);if(a=ds.DistExtraBitsTbl[l],a===-1)throw new Gn("Invalid data");if(this._dist=ds.DistBaseValTbl[l]+this.getBits(a),this._dist>this._window.available())throw new Gn("Invalid data");return this._state=this._dist===1?On.DistOne:On.Dist,!0}}return!1}addDistOne(e){let r=this._window.getLastChar();for(let n=0;n<e;n++)this.addByte(r)}addByte(e){this._window.addByte(e),this._output[this._outpos]=e,this._needed--,this._outpos++}addDist(e,r){this.addBytes(this._window.buffer,this._window.pos-e,r)}getBit(){this._nbits===0&&(this._nbits=8,this._bits=this._input.readByte());let e=(this._bits&1)===1;return this._nbits--,this._bits=this._bits>>1,e}getBits(e){for(;this._nbits<e;)this._bits=this._bits|this._input.readByte()<<this._nbits,this._nbits+=8;let r=this._bits&(1<<e)-1;return this._nbits-=e,this._bits=this._bits>>e,r}getRevBits(e){return e===0?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)}resetBits(){this._bits=0,this._nbits=0}addBytes(e,r,n){this._window.addBytes(e,r,n),this._output.set(e.subarray(r,r+n),this._outpos),this._needed-=n,this._outpos+=n}inflateLengths(e,r){let n=0,i=0;for(;n<r;){let s=this.applyHuffman(this._huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[n]=s,n++;break;case 16:let a=n+3+this.getBits(2);if(a>r)throw new Gn("Invalid data");for(;n<a;)e[n]=i,n++;break;case 17:if(n+=3+this.getBits(3),n>r)throw new Gn("Invalid data");break;case 18:if(n+=11+this.getBits(7),n>r)throw new Gn("Invalid data");break;default:throw new Gn("Invalid data")}}}applyHuffman(e){if(e instanceof Iv)return e.n;if(e instanceof _d)return this.applyHuffman(this.getBit()?e.right:e.left);if(e instanceof QT)return this.applyHuffman(e.table[this.getBits(e.n)]);throw new Gn("Invalid data")}}ds.LenExtraBitsTbl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];ds.LenBaseValTbl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];ds.DistExtraBitsTbl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];ds.DistBaseValTbl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];ds.CodeLengthsPos=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];ds._fixedHuffman=ds.buildFixedHuffman();class vu{constructor(e,r){this.fullName=e;let n=e.lastIndexOf("/");this.fileName=n===-1||n===e.length-1?this.fullName:e.substr(n+1),this.data=r}}vu.OptionalDataDescriptorSignature=134695760;vu.CompressionMethodDeflate=8;vu.LocalFileHeaderSignature=67324752;vu.CentralFileHeaderSignature=33639248;vu.EndOfCentralDirSignature=101010256;class Oz{constructor(e){this._readable=e}read(){let e=[];for(;;){let r=this.readEntry();if(!r)break;e.push(r)}return e}readEntry(){let e=this._readable;if(_e.readInt32LE(e)!==vu.LocalFileHeaderSignature)return null;_e.readUInt16LE(e);let n=_e.readUInt16LE(e),i=_e.readUInt16LE(e),s=i!==0;if(s&&i!==vu.CompressionMethodDeflate)return null;_e.readInt16LE(this._readable),_e.readInt16LE(this._readable),_e.readInt32LE(e),_e.readInt32LE(e);let a=_e.readInt32LE(e),o=_e.readInt16LE(e),l=_e.readInt16LE(e),u=_e.toString(_e.readByteArray(e,o),"utf-8");e.skip(l);let c;if(s){let h=Gi.empty(),f=new ds(this._readable),g=new Uint8Array(65536);for(;;){let m=f.readBytes(g,0,g.length);if(h.write(g,0,m),m<g.length)break}c=h.toArray()}else c=_e.readByteArray(this._readable,a);return n&8&&(_e.readInt32LE(this._readable)===vu.OptionalDataDescriptorSignature&&_e.readInt32LE(this._readable),_e.readInt32LE(this._readable),_e.readInt32LE(this._readable)),new vu(u,c)}}class Nwe extends Ip{get name(){return"Guitar Pro 7"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading ZIP entries");let e=new Oz(this.data),r;try{r=e.read()}catch(l){throw new Xn("No Zip archive",l)}Fe.debug(this.name,"Zip entries loaded");let n=null,i=null,s=null;for(let l of r)switch(l.fileName){case"score.gpif":n=_e.toString(l.data,this.settings.importer.encoding);break;case"BinaryStylesheet":i=l.data;break;case"PartConfiguration":s=l.data;break}if(!n)throw new Xn("No score.gpif found in zip archive");Fe.debug(this.name,"Start Parsing score.gpif");let a=new co;a.parseXml(n,this.settings),Fe.debug(this.name,"score.gpif parsed");let o=a.score;return i&&(Fe.debug(this.name,"Start Parsing BinaryStylesheet"),new K1(i).apply(o),Fe.debug(this.name,"BinaryStylesheet parsed")),s&&(Fe.debug(this.name,"Start Parsing Part Configuration"),new Az(s).apply(o),Fe.debug(this.name,"Part Configuration parsed")),o}}class sy extends _i{constructor(){super(Ci.Format,"Unexpected end of data within reader"),Object.setPrototypeOf(this,sy.prototype)}}class ay{constructor(e){this._currentByte=0,this._position=ay.ByteSize,this._source=e}readByte(){return this.readBits(8)}readBytes(e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=this.readByte()&255;return r}readBits(e){let r=0,n=e-1;for(;n>=0;)r=r|this.readBit()<<n,n--;return r}readBitsReversed(e){let r=0;for(let n=0;n<e;n++)r=r|this.readBit()<<n;return r}readBit(){if(this._position>=8){if(this._currentByte=this._source.readByte(),this._currentByte===-1)throw new sy;this._position=0}const e=this._currentByte>>ay.ByteSize-this._position-1&1;return this._position++,e}readAll(){let e=Gi.empty();try{for(;;)e.writeByte(this.readByte()&255)}catch(r){if(!(r instanceof sy))throw r}return e.toArray()}}ay.ByteSize=8;class Ewe{constructor(){this.fileName="",this.fileSize=0,this.data=null}}class Lp{constructor(){this.files=[],this.files=[],this.fileFilter=e=>!0}load(e){let r=new ay(e);this.readBlock(r)}readHeader(e){return this.getString(e.readBytes(4),0,4)}decompress(e,r=!1){let n=Gi.empty(),i,s=this.getInteger(e.readBytes(4),0);try{for(;n.length<s;)if(e.readBits(1)===1){let h=e.readBits(4),f=e.readBitsReversed(h),g=e.readBitsReversed(h),m=n.length-f,y=Math.min(f,g);i=n.getBuffer(),n.write(i,m,y)}else{let h=e.readBitsReversed(2);for(let f=0;f<h;f++)n.writeByte(e.readByte())}}catch(c){if(!(c instanceof sy))throw c}i=n.getBuffer();let a=r?4:0,o=n.length-a,l=new Uint8Array(o),u=o;return l.set(i.subarray(a,a+u),0),l}readBlock(e){let r=this.readHeader(e);if(r==="BCFZ")this.readUncompressedBlock(this.decompress(e,!0));else if(r==="BCFS")this.readUncompressedBlock(e.readAll());else throw new Xn("Unsupported format")}readUncompressedBlock(e){let r=4096,n=r;for(;n+3<e.length;){if(this.getInteger(e,n)===2){let s=new Ewe;s.fileName=this.getString(e,n+4,127),s.fileSize=this.getInteger(e,n+140);let a=!this.fileFilter||this.fileFilter(s.fileName);a&&this.files.push(s);let o=n+148,l=0,u=0,c=a?Gi.withCapacity(s.fileSize):null;for(;l=this.getInteger(e,o+4*u++),l!==0;)n=l*r,a&&c.write(e,n,r);if(a){s.data=new Uint8Array(Math.min(s.fileSize,c.length));let h=c.toArray();s.data.set(h.subarray(0,0+s.data.length),0)}}n+=r}}getString(e,r,n){let i="";for(let s=0;s<n;s++){let a=e[r+s]&255;if(a===0)break;i+=String.fromCharCode(a)}return i}getInteger(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}}Lp.HeaderBcFs="BCFS";Lp.HeaderBcFz="BCFZ";Lp.ScoreGpif="score.gpif";Lp.BinaryStylesheet="BinaryStylesheet";Lp.PartConfiguration="PartConfiguration";class Rwe extends Ip{get name(){return"Guitar Pro 6"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading GPX filesystem");let e=new Lp;e.fileFilter=o=>o.endsWith("score.gpif")||o.endsWith("BinaryStylesheet")||o.endsWith("PartConfiguration"),e.load(this.data),Fe.debug(this.name,"GPX filesystem loaded");let r=null,n=null,i=null;for(let o of e.files)switch(o.fileName){case"score.gpif":r=_e.toString(o.data,this.settings.importer.encoding);break;case"BinaryStylesheet":n=o.data;break;case"PartConfiguration":i=o.data;break}if(!r)throw new Xn("No score.gpif found in GPX");Fe.debug(this.name,"Start Parsing score.gpif");let s=new co;s.parseXml(r,this.settings),Fe.debug(this.name,"score.gpif parsed");let a=s.score;return n&&(Fe.debug(this.name,"Start Parsing BinaryStylesheet"),new K1(n).apply(a),Fe.debug(this.name,"BinaryStylesheet parsed")),i&&(Fe.debug(this.name,"Start Parsing Part Configuration"),new Az(i).apply(a),Fe.debug(this.name,"Part Configuration parsed")),a}}class Dwe extends Ip{get name(){return"MusicXML"}constructor(){super(),this._currentPartGroup=null,this._trackFirstMeasureNumber=0,this._maxVoices=0,this._currentDirection=null,this._currentChord=null,this._divisionsPerQuarterNote=0,this._voiceOfStaff=new Map,this._isBeamContinue=!1,this._previousBeatWasPulled=!1,this._previousBeat=null}readScore(){this._trackById=new Map,this._partGroups=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._slurStarts=new Map;let e=_e.toString(this.data.readAll(),this.settings.importer.encoding),r=new ZM;try{r.parse(e)}catch{throw new Xn("Unsupported format")}return this._score=new Ch,this._score.tempo=120,this.parseDom(r),this.settings.importer.mergePartGroupsInMusicXml&&this.mergePartGroups(),this._score.finish(this.settings),this._score.rebuildRepeatGroups(),this._score}mergePartGroups(){let e=!1;for(const r of this._partGroups.values())r.length>1&&(this.mergeGroup(r),e=!0);if(e)for(let r=0;r<this._score.tracks.length;r++)this._score.tracks[r].index=r}mergeGroup(e){let r=e[0];for(let n=1;n<e.length;n++){let i=e[n];for(let a of i.staves)r.addStaff(a);let s=this._score.tracks.indexOf(i);this._score.tracks.splice(s,1)}}parseDom(e){let r=e.firstElement;if(!r)throw new Xn("Unsupported format");switch(r.localName){case"score-partwise":this.parsePartwise(r);break;case"score-timewise":break;default:throw new Xn("Unsupported format")}}parsePartwise(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"work":this.parseWork(r);break;case"movement-title":this._score.title=r.innerText;break;case"identification":this.parseIdentification(r);break;case"part-list":this.parsePartList(r);break;case"part":this.parsePart(r);break}}parseWork(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"work-title":this._score.title=r.innerText;break}}parsePart(e){let r=e.getAttribute("id");if(!this._trackById.has(r))if(this._trackById.size===1){for(const[s,a]of this._trackById)(a.staves.length===0||a.staves[0].bars.length===0)&&(r=s);if(!this._trackById.has(r))return}else return;let n=this._trackById.get(r),i=!0;this._maxVoices=0;for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"measure":this.parseMeasure(s,n,i)&&(i=!1);break}for(let s of n.staves)for(let a of s.bars)this.ensureVoices(a)}parseMeasure(e,r,n){if(e.getAttribute("implicit")==="yes"&&e.getElementsByTagName("note",!1).length===0)return!1;let i=0;if(n)this._divisionsPerQuarterNote=0,this._trackFirstMeasureNumber=parseInt(e.getAttribute("number")),this._trackFirstMeasureNumber||(this._trackFirstMeasureNumber=0),i=0;else{if(i=parseInt(e.getAttribute("number")),!i)return!1;i-=this._trackFirstMeasureNumber}if(n){let l=e.getElementsByTagName("attributes",!1);if(l.length>0){let u=l[0].getElementsByTagName("staves",!1);if(u.length>0){let c=parseInt(u[0].innerText);r.ensureStaveCount(c)}}}let s=new Array(r.staves.length),a=null;for(let l=r.staves[0].bars.length;l<=i;l++)for(let u=0;u<r.staves.length;u++){let c=new Hu;if(s[u]=c,r.staves[u].bars.length>0){let h=r.staves[u].bars[r.staves[u].bars.length-1];c.clef=h.clef}a=this.getOrCreateMasterBar(i),r.staves[u].addBar(c),this.ensureVoices(c)}let o=new Map;if(a){let l=!1;for(let u of e.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"note":this.parseNoteBeat(u,s);break;case"forward":this.parseForward(u,s);break;case"direction":this.parseDirection(u,a);break;case"attributes":l||(this.parseAttributes(u,s,a,r),l=!0);break;case"harmony":this.parseHarmony(u,r,o);break;case"sound":break;case"barline":this.parseBarline(u,a);break}}return!0}ensureVoices(e){for(;e.voices.length<this._maxVoices;){let r=new jl;e.addVoice(r);let n=new Ui;n.isEmpty=!0,n.chordId=this._currentChord,r.addBeat(n)}}getOrCreateBeat(e,r,n){let i=0,s=e.getElementsByTagName("voice",!1);s.length>0&&(i=parseInt(s[0].innerText)-1);let a=this._previousBeatWasPulled;this._previousBeatWasPulled=!1;let o=e.getElementsByTagName("staff",!1),l=1;if(o.length>0){l=parseInt(o[0].innerText),(this._isBeamContinue||a)&&this._previousBeat.voice.bar.staff.index!==l-1&&(l=this._previousBeat.voice.bar.staff.index+1,this._previousBeatWasPulled=!0);let f=r[0].staff.track.index+"-"+l;this._voiceOfStaff.has(f)||this._voiceOfStaff.set(f,i)}l--;let u;l<0?u=r[0]:l>=r.length?u=r[r.length-1]:u=r[l];let c,h=this.getOrCreateVoice(u,i);return n&&h.beats.length>0||h.beats.length===1&&h.isEmpty?c=h.beats[h.beats.length-1]:(c=new Ui,c.isEmpty=!1,h.addBeat(c)),this._isBeamContinue=!1,this._previousBeat=c,c}parseForward(e,r){let n=this.getOrCreateBeat(e,r,!1),s=parseInt(e.findChildElement("duration").innerText)*le.Quarter/this._divisionsPerQuarterNote,a=[le.SixtyFourth,le.ThirtySecond,le.Sixteenth,le.Eighth,le.Quarter,le.Half,le.Whole];for(let o of a)if(s>=o){n.duration=o,s-=o;break}n.isEmpty=!1}parseStaffDetails(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"staff-lines":for(let i of r.staves)i.stringTuning.tunings=new Array(parseInt(n.innerText)).fill(0);break;case"staff-tuning":this.parseStaffTuning(n,r);break}for(let n of r.staves)this.isEmptyTuning(n.tuning)&&(n.stringTuning.tunings=[])}parseStaffTuning(e,r){let n=parseInt(e.getAttribute("line")),i="C",s="",a=0;for(let l of e.childNodes)if(l.nodeType===Le.Element)switch(l.localName){case"tuning-step":i=l.innerText;break;case"tuning-alter":a=parseInt(l.innerText);break;case"tuning-octave":s=l.innerText;break}let o=Xr.getTuningForText(i+s)+a;for(let l of r.staves)l.tuning[l.tuning.length-n]=o}parseHarmony(e,r,n){let i=new Gc;for(let a of e.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"root":i.name=this.parseHarmonyRoot(a);break;case"kind":i.name=i.name+this.parseHarmonyKind(a);break;case"frame":this.parseHarmonyFrame(a,i);break}this._currentChord=Xr.newGuid();const s=i.uniqueId;n.has(s)&&(i.showDiagram=!1);for(let a of r.staves)a.addChord(this._currentChord,i);n.set(s,i)}parseHarmonyRoot(e){let r="",n="";for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"root-step":r=i.innerText;break;case"root-alter":switch(parseInt(e.innerText)){case-2:n="bb";break;case-1:n="b";break;case 0:n="";break;case 1:n="#";break;case 2:n="##";break}break}return r+n}parseHarmonyKind(e){const r=e.getAttribute("text");let n="";if(r)n=r;else switch(e.innerText){case"major":n="";break;case"minor":n="m";break;case"augmented":n="+";break;case"diminished":n="";break;case"dominant":n="7";break;case"major-seventh":n="7M";break;case"minor-seventh":n="m7";break;case"diminished-seventh":n="7";break;case"augmented-seventh":n="+7";break;case"half-diminished":n="";break;case"major-minor":n="mMaj";break;case"major-sixth":n="maj6";break;case"minor-sixth":n="m6";break;case"dominant-ninth":n="9";break;case"major-ninth":n="maj9";break;case"minor-ninth":n="m9";break;case"dominant-11th":n="11";break;case"major-11th":n="maj11";break;case"minor-11th":n="m11";break;case"dominant-13th":n="13";break;case"major-13th":n="maj13";break;case"minor-13th":n="m13";break;case"suspended-second":n="sus2";break;case"suspended-fourth":n="sus4";break}return n}parseHarmonyFrame(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"frame-strings":const i=parseInt(n.innerText);r.strings=new Array(i);for(let o=0;o<i;o++)r.strings[o]=-1;break;case"first-fret":r.firstFret=parseInt(n.innerText);break;case"frame-note":let s=null,a=null;for(let o of n.childNodes)switch(o.localName){case"string":s=parseInt(o.innerText);break;case"fret":a=parseInt(o.innerText),s&&a>=0&&(r.strings[s-1]=a);break;case"barre":s&&a&&o.getAttribute("type")==="start"&&r.barreFrets.push(a);break}break}}parseBarline(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"repeat":this.parseRepeat(n,r);break;case"ending":this.parseEnding(n,r);break}}parseEnding(e,r){let n=parseInt(e.getAttribute("number"));n>0&&(--n,r.alternateEndings=r.alternateEndings|1<<n&255)}parseRepeat(e,r){let n=e.getAttribute("direction"),i=parseInt(e.getAttribute("times"));(i<0||isNaN(i))&&(i=2),n==="backward"?r.repeatCount=i:n==="forward"&&(r.isRepeatStart=!0)}parseNoteBeat(e,r){let n=e.getElementsByTagName("chord",!1).length>0,i=this.getOrCreateBeat(e,r,n);!i.chordId&&this._currentChord&&(i.chordId=this._currentChord,this._currentChord=null),this._currentDirection&&(i.text=this._currentDirection,this._currentDirection=null);let s=new fa;i.voice.isEmpty=!1,i.isEmpty=!1,i.addNote(s),i.dots=0;let a=!1;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"grace":i.graceType=Tt.BeforeBeat,i.duration=le.ThirtySecond;break;case"duration":if(i.isRest&&!a)switch(parseInt(o.innerText)){case 1:i.duration=le.Whole;break;case 2:i.duration=le.Half;break;case 4:i.duration=le.Quarter;break;case 8:i.duration=le.Eighth;break;case 16:i.duration=le.Sixteenth;break;case 32:i.duration=le.ThirtySecond;break;case 64:i.duration=le.SixtyFourth;break;default:i.duration=le.Quarter;break}break;case"tie":this.parseTied(o,s);break;case"cue":break;case"instrument":break;case"type":i.duration=this.getDuration(o.innerText),i.graceType!==Tt.None&&i.duration<le.Sixteenth&&(i.duration=le.Eighth);break;case"dot":i.dots++;break;case"accidental":this.parseAccidental(o,s);break;case"time-modification":this.parseTimeModification(o,i);break;case"stem":break;case"notehead":o.getAttribute("parentheses")==="yes"&&(s.isGhost=!0);break;case"beam":o.innerText==="continue"&&(this._isBeamContinue=!0);break;case"notations":this.parseNotations(o,i,s);break;case"lyric":this.parseLyric(o,i);break;case"pitch":this.parsePitch(o,s);break;case"unpitched":this.parseUnpitched(o,s);break;case"rest":a=o.getAttribute("measure")==="yes",i.isEmpty=!1,i.notes=[],i.duration=le.Whole;break}if(s.isStringed){for(let o=0;o<i.notes.length;o++)if(i.notes[o].string===s.string&&i.notes[o]!==s){i.removeNote(s);break}}}getDuration(e){switch(e){case"256th":case"128th":case"64th":return le.SixtyFourth;case"32nd":return le.ThirtySecond;case"16th":return le.Sixteenth;case"eighth":return le.Eighth;case"quarter":return le.Quarter;case"half":return le.Half;case"long":case"breve":case"whole":return le.Whole}return le.Quarter}parseLyric(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"text":r.text?r.text+=" "+n.innerText:r.text=n.innerText;break}}parseAccidental(e,r){switch(e.innerText){case"sharp":r.accidentalMode=Vn.ForceSharp;break;case"natural":r.accidentalMode=Vn.ForceNatural;break;case"flat":r.accidentalMode=Vn.ForceFlat;break}}parseTied(e,r){if(e.getAttribute("type")==="start")this._tieStartIds.has(r.id)||(this._tieStartIds.set(r.id,!0),this._tieStarts.push(r));else if(e.getAttribute("type")==="stop"&&this._tieStarts.length>0&&!r.isTieDestination){const n=this._tieStarts[0];n.beat.voice.index===r.beat.voice.index&&n.beat.voice.bar.staff.index===r.beat.voice.bar.staff.index&&n.beat.voice.bar.staff.track.index===r.beat.voice.bar.staff.track.index&&(r.isTieDestination=!0,r.tieOrigin=this._tieStarts[0]),this._tieStarts.splice(0,1),this._tieStartIds.delete(r.id)}}parseNotations(e,r,n){for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"articulations":this.parseArticulations(i,n);break;case"tied":this.parseTied(i,n);break;case"slide":case"glissando":i.getAttribute("type")==="start"&&(n.slideOutType=jt.Shift);break;case"dynamics":this.parseDynamics(i,r);break;case"technical":this.parseTechnical(i,n);break;case"ornaments":this.parseOrnaments(i,n);break;case"slur":let s=i.getAttribute("number");switch(s||(s="1"),s=r.voice.bar.staff.index+"_"+s,i.getAttribute("type")){case"start":this._slurStarts.set(s,n);break;case"stop":if(this._slurStarts.has(s)){n.isSlurDestination=!0;let a=this._slurStarts.get(s);a.slurDestination=n,n.slurOrigin=a}break}break}}parseOrnaments(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"tremolo":switch(parseInt(n.innerText)){case 1:r.beat.tremoloSpeed=le.Eighth;break;case 2:r.beat.tremoloSpeed=le.Sixteenth;break;case 3:r.beat.tremoloSpeed=le.ThirtySecond;break}break}}parseTechnical(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"string":r.string=parseInt(n.innerText),r.string!==-2147483648&&(r.string=r.beat.voice.bar.staff.tuning.length-r.string+1);break;case"fret":r.fret=parseInt(n.innerText);break;case"down-bow":r.beat.pickStroke=Fi.Down;break;case"up-bow":r.beat.pickStroke=Fi.Up;break}(r.string===-2147483648||r.fret===-2147483648)&&(r.string=-1,r.fret=-1)}parseArticulations(e,r){for(let n of e.childNodes)switch(n.localName){case"accent":r.accentuated=qn.Normal;break;case"strong-accent":r.accentuated=qn.Heavy;break;case"staccato":case"detached-legato":r.isStaccato=!0;break}}parseDynamics(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"p":r.dynamics=Jt.P;break;case"pp":r.dynamics=Jt.PP;break;case"ppp":r.dynamics=Jt.PPP;break;case"f":r.dynamics=Jt.F;break;case"ff":r.dynamics=Jt.FF;break;case"fff":r.dynamics=Jt.FFF;break;case"mp":r.dynamics=Jt.MP;break;case"mf":r.dynamics=Jt.MF;break}}parseTimeModification(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"actual-notes":r.tupletNumerator=parseInt(n.innerText);break;case"normal-notes":r.tupletDenominator=parseInt(n.innerText);break}}parseUnpitched(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"display-step":n=o.innerText;break;case"display-alter":i=parseInt(o.innerText);break;case"display-octave":s=parseInt(o.innerText);break}let a=s*12+Xr.getToneForText(n)+i;r.octave=a/12|0,r.tone=a-r.octave*12}parsePitch(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"step":n=o.innerText;break;case"alter":i=parseFloat(o.innerText),isNaN(i)&&(i=0);break;case"octave":s=parseInt(o.innerText)+1;break}let a=s*12+Xr.getToneForText(n)+(i|0);r.octave=a/12|0,r.tone=a-r.octave*12}getOrCreateVoice(e,r){if(r<e.voices.length)return e.voices[r];for(let n=e.voices.length;n<=r;n++)e.addVoice(new jl);return this._maxVoices=Math.max(this._maxVoices,e.voices.length),e.voices[r]}parseDirection(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"sound":let i=n.getAttribute("tempo");if(i){let a=new Wi;a.isLinear=!0,a.type=di.Tempo,a.value=parseInt(i),r.tempoAutomation=a,r.index===0&&(r.score.tempo=a.value)}break;case"direction-type":let s=n.firstElement;switch(s.localName){case"words":this._currentDirection=s.innerText;break;case"metronome":this.parseMetronome(s,r);break}break}}parseMetronome(e,r){let n=le.Quarter,i=120;for(let a of e.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"beat-unit":n=this.getDuration(a.innerText);break;case"per-minute":i=parseInt(a.innerText);break}let s=new Wi;s.type=di.Tempo,s.value=i*(n/4|0),r.tempoAutomation=s,r.index===0&&(r.score.tempo=s.value)}parseAttributes(e,r,n,i){let s=0,a=!1;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"divisions":this._divisionsPerQuarterNote=parseInt(o.innerText);break;case"key":this.parseKey(o,n);break;case"time":this.parseTime(o,n),a=!0;break;case"clef":s=parseInt(o.getAttribute("number")),isNaN(s)&&(s=1),this.parseClef(o,r[s-1]);break;case"staff-details":this.parseStaffDetails(o,i);break;case"transpose":this.parseTranspose(o,i);break}a||(n.timeSignatureCommon=!0)}parseTranspose(e,r){let n=0;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"chromatic":n+=parseInt(i.innerText);break;case"octave-change":n+=parseInt(i.innerText)*12;break}for(let i of r.staves)i.transpositionPitch=n}parseClef(e,r){let n="s",i=0;for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"sign":n=s.innerText.toLowerCase();break;case"line":i=parseInt(s.innerText);break;case"clef-octave-change":switch(parseInt(s.innerText)){case-2:r.clefOttava=br._15mb;break;case-1:r.clefOttava=br._8vb;break;case 1:r.clefOttava=br._8va;break;case 2:r.clefOttava=br._15mb;break}break}switch(n){case"g":r.clef=zt.G2;break;case"f":r.clef=zt.F4;break;case"c":i===3?r.clef=zt.C3:r.clef=zt.C4;break;case"percussion":r.clef=zt.Neutral,r.staff.isPercussion=!0;break;case"tab":r.clef=zt.G2,r.staff.showTablature=!0;break;default:r.clef=zt.G2;break}}parseTime(e,r){e.getAttribute("symbol")==="common"&&(r.timeSignatureCommon=!0);let n=!1,i=!1;for(let s of e.childNodes)if(s.nodeType===Le.Element){let a=s.innerText;switch(s.localName){case"beats":n||(a.indexOf("+")===-1?r.timeSignatureNumerator=parseInt(a):r.timeSignatureNumerator=4,n=!0);break;case"beat-type":i||(a.indexOf("+")===-1?r.timeSignatureDenominator=parseInt(a):r.timeSignatureDenominator=4,i=!0);break}}}parseKey(e,r){let n=-2147483648,i="";for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"fifths":n=parseInt(s.innerText);break;case"key-step":break;case"key-alter":break;case"mode":i=s.innerText;break}-7<=n&&n<=7?r.keySignature=n:r.keySignature=ni.C,i==="minor"?r.keySignatureType=jc.Minor:r.keySignatureType=jc.Major}getOrCreateMasterBar(e){if(e<this._score.masterBars.length)return this._score.masterBars[e];for(let r=this._score.masterBars.length;r<=e;r++){let n=new Lu;if(this._score.masterBars.length>0){let i=this._score.masterBars[this._score.masterBars.length-1];n.timeSignatureDenominator=i.timeSignatureDenominator,n.timeSignatureNumerator=i.timeSignatureNumerator,n.keySignature=i.keySignature,n.keySignatureType=i.keySignatureType}this._score.addMasterBar(n)}return this._score.masterBars[e]}parseIdentification(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"creator":r.getAttribute("type")==="composer"&&(this._score.music=r.innerText);break;case"rights":this._score.copyright&&(this._score.copyright+=`
`),this._score.copyright+=r.innerText;break}}parsePartList(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"part-group":this.parsePartGroup(r);break;case"score-part":this.parseScorePart(r);break}}parsePartGroup(e){switch(e.getAttribute("type")){case"start":this._currentPartGroup=e.getAttribute("number"),this._partGroups.set(this._currentPartGroup,[]);break;case"stop":this._currentPartGroup=null;break}}parseScorePart(e){let r=e.getAttribute("id"),n=new Gl;n.ensureStaveCount(1);let i=n.staves[0];i.showStandardNotation=!0,this._trackById.set(r,n),this._score.addTrack(n),this._currentPartGroup&&this._partGroups.get(this._currentPartGroup).push(n);for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"part-name":n.name=s.innerText;break;case"part-abbreviation":n.shortName=s.innerText;break;case"midi-instrument":this.parseMidiInstrument(s,n);break}this.isEmptyTuning(n.staves[0].tuning)&&(n.staves[0].stringTuning.tunings=[])}isEmptyTuning(e){if(!e)return!0;for(let r=0;r<e.length;r++)if(e[r]!==0)return!1;return!0}parseMidiInstrument(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"midi-channel":r.playbackInfo.primaryChannel=parseInt(n.innerText);break;case"midi-program":r.playbackInfo.program=parseInt(n.innerText);break;case"volume":r.playbackInfo.volume=Math.floor(parseInt(n.innerText)/100*16);break;case"pan":r.playbackInfo.balance=Math.max(0,Math.min(16,Math.floor((parseInt(n.innerText)+90)/180*16)));break}}}var lp;(function(t){t[t.SingleTrackMultiChannel=0]="SingleTrackMultiChannel",t[t.MultiTrack=1]="MultiTrack"})(lp||(lp={}));class $z{constructor(){this.events=[]}addEvent(e){if(this.events.length===0||e.tick>=this.events[this.events.length-1].tick)this.events.push(e);else{let r=this.events.length;for(;r>0&&this.events[r-1].tick>e.tick;)r--;this.events.splice(r,0,e)}}writeTo(e){let r=Gi.empty(),n=0;for(let a of this.events){let o=a.tick-n;Fc.writeVariableInt(r,o),a.writeTo(r),n=a.tick}const i=new Uint8Array([77,84,114,107]);e.write(i,0,i.length);let s=r.toArray();_e.writeInt32BE(e,s.length),e.write(s,0,s.length)}}class Fc{constructor(){this.format=lp.SingleTrackMultiChannel,this.division=Ht.QuarterTime,this.tracks=[]}get events(){if(this.tracks.length==1)return this.tracks[0].events;{const e=[];for(const r of this.tracks)this.events.push(...r.events);return e.sort((r,n)=>r.tick-n.tick),e}}ensureTracks(e){for(;this.tracks.length<e;)this.tracks.push(new $z)}addEvent(e){this.format==lp.SingleTrackMultiChannel?(this.ensureTracks(1),this.tracks[0].addEvent(e)):(this.ensureTracks(e.track+1),this.tracks[e.track].addEvent(e))}toBinary(){let e=Gi.empty();return this.writeTo(e),e.toArray()}writeTo(e){let r=new Uint8Array([77,84,104,100]);e.write(r,0,r.length),_e.writeInt32BE(e,6),_e.writeInt16BE(e,this.format),_e.writeInt16BE(e,this.tracks.length),_e.writeInt16BE(e,this.division);for(const n of this.tracks)n.writeTo(e)}static writeVariableInt(e,r){let n=new Uint8Array(4),i=0;do n[i++]=r&127,r>>=7;while(r>0);for(;i>0;)i--,i>0?e.writeByte(n[i]|128):e.writeByte(n[i])}}var or;(function(t){t[t.TimeSignature=88]="TimeSignature",t[t.NoteOn=128]="NoteOn",t[t.NoteOff=144]="NoteOff",t[t.ControlChange=176]="ControlChange",t[t.ProgramChange=192]="ProgramChange",t[t.TempoChange=81]="TempoChange",t[t.PitchBend=224]="PitchBend",t[t.PerNotePitchBend=96]="PerNotePitchBend",t[t.EndOfTrack=47]="EndOfTrack",t[t.AlphaTabRest=241]="AlphaTabRest",t[t.AlphaTabMetronome=242]="AlphaTabMetronome",t[t.SystemExclusive=240]="SystemExclusive",t[t.SystemExclusive2=247]="SystemExclusive2",t[t.Meta=255]="Meta"})(or||(or={}));class Uu{constructor(e,r,n){this.track=e,this.tick=r,this.type=n}get command(){return this.type}get message(){return 0}get data1(){return 0}get data2(){return 0}}class Vz extends Uu{constructor(e,r,n,i,s,a){super(e,r,or.TimeSignature),this.track=e,this.tick=r,this.numerator=n,this.denominatorIndex=i,this.midiClocksPerMetronomeClick=s,this.thirtySecondNodesInQuarter=a}writeTo(e){e.writeByte(255),e.writeByte(88),Fc.writeVariableInt(e,4),e.writeByte(this.numerator&255),e.writeByte(this.denominatorIndex&255),e.writeByte(this.midiClocksPerMetronomeClick&255),e.writeByte(this.thirtySecondNodesInQuarter&255)}}class Fu extends Uu{constructor(e,r,n){super(e,r,n)}writeTo(e){e.writeByte(240);const r=Gi.withCapacity(16);r.writeByte(Fu.AlphaTabManufacturerId),this.writeEventData(r),r.writeByte(247),Fc.writeVariableInt(e,r.length),r.copyTo(e)}}Fu.AlphaTabManufacturerId=125;Fu.MetronomeEventId=0;Fu.RestEventId=1;class zz extends Fu{constructor(e,r,n,i,s){super(e,r,or.AlphaTabMetronome),this.isMetronome=!0,this.metronomeNumerator=n,this.metronomeDurationInMilliseconds=s,this.metronomeDurationInTicks=i}writeEventData(e){e.writeByte(Fu.MetronomeEventId),e.writeByte(this.metronomeNumerator),_e.writeInt32LE(e,this.metronomeDurationInTicks),_e.writeInt32LE(e,this.metronomeDurationInMilliseconds)}}class Wz extends Fu{constructor(e,r,n){super(e,r,or.AlphaTabRest),this.channel=n}writeEventData(e){e.writeByte(Fu.RestEventId),e.writeByte(this.channel)}}class Hz extends Uu{constructor(e,r,n,i,s,a){super(e,r,n),this.channel=i,this.noteKey=s,this.noteVelocity=a}get data1(){return this.noteKey}get data2(){return this.noteVelocity}}class Uz extends Hz{constructor(e,r,n,i,s){super(e,r,or.NoteOn,n,i,s)}writeTo(e){e.writeByte(this.channel&15|144),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class Gz extends Hz{constructor(e,r,n,i,s){super(e,r,or.NoteOff,n,i,s)}writeTo(e){e.writeByte(this.channel&15|128),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class jz extends Uu{constructor(e,r,n,i,s){super(e,r,or.ControlChange),this.channel=n,this.controller=i,this.value=s}writeTo(e){e.writeByte(this.channel&15|176),e.writeByte(this.controller&255),e.writeByte(this.value&255)}get data1(){return this.controller}get data2(){return this.value}}class Yz extends Uu{constructor(e,r,n,i){super(e,r,or.ProgramChange),this.channel=n,this.program=i}writeTo(e){e.writeByte(this.channel&15|192),e.writeByte(this.program&255)}get data1(){return this.program}}class Xz extends Uu{constructor(e,r){super(0,e,or.TempoChange),this.microSecondsPerQuarterNote=r}writeTo(e){e.writeByte(255),e.writeByte(81),e.writeByte(3),e.writeByte(this.microSecondsPerQuarterNote>>16&255),e.writeByte(this.microSecondsPerQuarterNote>>8&255),e.writeByte(this.microSecondsPerQuarterNote&255)}}class qz extends Uu{constructor(e,r,n,i){super(e,r,or.PitchBend),this.channel=n,this.value=i}writeTo(e){e.writeByte(this.channel&15|224),e.writeByte(this.value&127),e.writeByte(this.value>>7&127)}get data1(){return this.value&127}get data2(){return this.value>>7&127}}class Kz extends Uu{constructor(e,r,n,i,s){super(e,r,or.PerNotePitchBend),this.channel=n,this.noteKey=i,this.value=s}writeTo(e){throw new _i(Ci.General,"Note Bend (Midi2.0) events cannot be exported to SMF1.0")}}class Qz extends Uu{constructor(e,r){super(e,r,or.EndOfTrack)}writeTo(e){e.writeByte(255),e.writeByte(47),e.writeByte(0)}}class bm{constructor(e,r){this.time=0,this.eventIndex=e,this.event=r,this.isMetronome=this.event.type==or.AlphaTabMetronome}static newMetronomeEvent(e,r,n,i,s){const a=new zz(0,r,n,i,s);return new bm(e,a)}}class Yt{}Yt.DefaultChannelCount=17;Yt.MetronomeChannel=Yt.DefaultChannelCount-1;Yt.AudioChannels=2;Yt.MinVolume=0;Yt.MinProgram=0;Yt.MaxProgram=127;Yt.MinPlaybackSpeed=.125;Yt.MaxPlaybackSpeed=8;Yt.MaxPitchWheel=16384;Yt.MaxPitchWheel20=4294967296;Yt.DefaultPitchWheel=Yt.MaxPitchWheel/2;Yt.MicroBufferCount=32;Yt.MicroBufferSize=64;class BF{constructor(e,r,n){this.bpm=e,this.ticks=r,this.time=n}}class EC{constructor(){this.tempoChanges=[],this.firstProgramEventPerChannel=new Map,this.firstTimeSignatureNumerator=0,this.firstTimeSignatureDenominator=0,this.synthData=[],this.division=Ht.QuarterTime,this.eventIndex=0,this.currentTime=0,this.playbackRange=null,this.playbackRangeStartTime=0,this.playbackRangeEndTime=0,this.endTick=0,this.endTime=0}}class Iwe{get isPlayingMain(){return this._currentState==this._mainState}get isPlayingOneTimeMidi(){return this._currentState==this._oneTimeState}get isPlayingCountIn(){return this._currentState==this._countInState}constructor(e){this._oneTimeState=null,this._countInState=null,this.isLooping=!1,this.playbackSpeed=1,this._synthesizer=e,this._mainState=new EC,this._currentState=this._mainState}get mainPlaybackRange(){return this._mainState.playbackRange}set mainPlaybackRange(e){this._mainState.playbackRange=e,e&&(this._mainState.playbackRangeStartTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.startTick,1),this._mainState.playbackRangeEndTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.endTick,1))}get currentTime(){return this._currentState.currentTime/this.playbackSpeed}get currentEndTick(){return this._currentState.endTick}get currentEndTime(){return this._currentState.endTime/this.playbackSpeed}mainSeek(e){if(e*=this.playbackSpeed,this.mainPlaybackRange&&(e<this._mainState.playbackRangeStartTime?e=this._mainState.playbackRangeStartTime:e>this._mainState.playbackRangeEndTime&&(e=this._mainState.playbackRangeEndTime)),e>this._mainState.currentTime)this.mainSilentProcess(e-this._mainState.currentTime);else if(e<this._mainState.currentTime){if(this._mainState.currentTime=0,this._mainState.eventIndex=0,this.isPlayingMain){let r=this._synthesizer.metronomeVolume;this._synthesizer.noteOffAll(!0),this._synthesizer.resetSoft(),this._synthesizer.setupMetronomeChannel(r)}this.mainSilentProcess(e)}}mainSilentProcess(e){if(e<=0)return;let r=Date.now(),n=this._mainState.currentTime+e;if(this.isPlayingMain)for(;this._mainState.currentTime<n;)this.fillMidiEventQueueLimited(n-this._mainState.currentTime)&&this._synthesizer.synthesizeSilent(Yt.MicroBufferSize);this._mainState.currentTime=n;let i=Date.now()-r;Fe.debug("Sequencer","Silent seek finished in "+i+"ms (main)")}loadOneTimeMidi(e){this._oneTimeState=this.createStateFromFile(e),this._currentState=this._oneTimeState}loadMidi(e){this._mainState=this.createStateFromFile(e),this._currentState=this._mainState}createStateFromFile(e){const r=new EC;r.tempoChanges=[],r.division=e.division,r.eventIndex=0,r.currentTime=0,r.synthData=[];let n=120,i=0,s=0,a=0,o=0,l=0,u=0,c=0,h=0;for(let f of e.events){let g=new bm(r.synthData.length,f);r.synthData.push(g);let m=f.tick-h;if(i+=m,s+=m*(6e4/(n*e.division)),g.time=s,h=f.tick,o>0)for(;u<i;){let y=bm.newMetronomeEvent(r.synthData.length,u,Math.floor(u/o)%a,o,l);r.synthData.push(y),y.time=c,u+=o,c+=l}if(f.type===or.TempoChange)n=6e7/f.microSecondsPerQuarterNote,r.tempoChanges.push(new BF(n,i,s)),l=o*(6e4/(n*e.division));else if(f.type===or.TimeSignature){let y=f,b=Math.pow(2,y.denominatorIndex);a=y.numerator,o=r.division*(4/b)|0,l=o*(6e4/(n*e.division)),r.firstTimeSignatureDenominator===0&&(r.firstTimeSignatureNumerator=y.numerator,r.firstTimeSignatureDenominator=b)}else if(f.type===or.ProgramChange){let y=f.channel;r.firstProgramEventPerChannel.has(y)||r.firstProgramEventPerChannel.set(y,g)}}return r.synthData.sort((f,g)=>f.time>g.time?1:f.time<g.time?-1:f.eventIndex-g.eventIndex),r.endTime=s,r.endTick=i,r}fillMidiEventQueue(){return this.fillMidiEventQueueLimited(-1)}fillMidiEventQueueLimited(e){let r=Yt.MicroBufferSize/this._synthesizer.outSampleRate*1e3*this.playbackSpeed,n=this.internalEndTime;e>0&&(e<r&&(r=e),n=Math.min(this.internalEndTime,this._currentState.currentTime+e));let i=!1;for(this._currentState.currentTime+=r;this._currentState.eventIndex<this._currentState.synthData.length&&this._currentState.synthData[this._currentState.eventIndex].time<this._currentState.currentTime&&this._currentState.currentTime<n;)this._synthesizer.dispatchEvent(this._currentState.synthData[this._currentState.eventIndex]),this._currentState.eventIndex++,i=!0;return i}mainTickPositionToTimePosition(e){return this.tickPositionToTimePositionWithSpeed(this._mainState,e,this.playbackSpeed)}mainTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._mainState,e,this.playbackSpeed)}currentTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._currentState,e,this.playbackSpeed)}tickPositionToTimePositionWithSpeed(e,r,n){let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.ticks)break;i=o.time,s=o.bpm,a=o.ticks}return r-=a,i+=r*(6e4/(s*e.division)),i/n}timePositionToTickPositionWithSpeed(e,r,n){r*=n;let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.time)break;i=o.ticks,s=o.bpm,a=o.time}return r-=a,i+=r/(6e4/(s*e.division))|0,i+1}get internalEndTime(){return this.isPlayingMain?this.mainPlaybackRange?this._currentState.playbackRangeEndTime:this._currentState.endTime:this._currentState.endTime}get isFinished(){return this._currentState.currentTime>=this.internalEndTime}stop(){this.isPlayingMain&&this.mainPlaybackRange?this._currentState.currentTime=this.mainPlaybackRange.startTick:this._currentState.currentTime=0,this._currentState.eventIndex=0}resetOneTimeMidi(){this._oneTimeState=null,this._currentState=this._mainState}resetCountIn(){this._countInState=null,this._currentState=this._mainState}startCountIn(){this.generateCountInMidi(),this._currentState=this._countInState,this.stop(),this._synthesizer.noteOffAll(!0)}generateCountInMidi(){const e=new EC;e.division=this._mainState.division;let r=120,n=4,i=4;this._mainState.eventIndex===0?(r=this._mainState.tempoChanges[0].bpm,n=this._mainState.firstTimeSignatureNumerator,i=this._mainState.firstTimeSignatureDenominator):(r=this._synthesizer.currentTempo,n=this._synthesizer.timeSignatureNumerator,i=this._synthesizer.timeSignatureDenominator),e.tempoChanges.push(new BF(r,0,0));let s=e.division*(4/i)|0,a=s*(6e4/(r*this._mainState.division)),o=0,l=0;for(let u=0;u<n;u++){let c=bm.newMetronomeEvent(e.synthData.length,o,u,s,a);e.synthData.push(c),c.time=l,o+=s,l+=a}e.synthData.sort((u,c)=>u.time>c.time?1:u.time<c.time?-1:u.eventIndex-c.eventIndex),e.endTime=l,e.endTick=o,this._countInState=e}}var ai;(function(t){t[t.Paused=0]="Paused",t[t.Playing=1]="Playing"})(ai||(ai={}));class Lv{constructor(e,r){this.state=e,this.stopped=r}}class Aw{constructor(e,r,n,i,s){this.currentTime=e,this.endTime=r,this.currentTick=n,this.endTick=i,this.isSeek=s}}class _a{constructor(){this.id="",this.size=0}static load(e,r,n){if(e&&_a.HeaderSize>e.size||n.position+_a.HeaderSize>=n.length||(r.id=_e.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122)||(r.size=_e.readUInt32LE(n),e&&_a.HeaderSize+r.size>e.size))return!1;e&&(e.size-=_a.HeaderSize+r.size);let i=r.id==="RIFF",s=r.id==="LIST";return i&&e?!1:!i&&!s?!0:(r.id=_e.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122?!1:(r.size-=4,!0))}}_a.HeaderSize=8;class tN{constructor(){this.phdrs=[],this.pbags=[],this.pmods=[],this.pgens=[],this.insts=[],this.ibags=[],this.imods=[],this.igens=[],this.sHdrs=[],this.fontSamples=new Float32Array(0)}load(e){const r=new _a,n=new _a;if(!_a.load(null,r,e)||r.id!=="sfbk")throw new Gn("Soundfont is not a valid Soundfont2 file");for(;_a.load(r,n,e);){let i=new _a;if(n.id==="pdta")for(;_a.load(n,i,e);)switch(i.id){case"phdr":for(let s=0,a=i.size/nP.SizeInFile|0;s<a;s++)this.phdrs.push(new nP(e));break;case"pbag":for(let s=0,a=i.size/rP.SizeInFile|0;s<a;s++)this.pbags.push(new rP(e));break;case"pmod":for(let s=0,a=i.size/iP.SizeInFile|0;s<a;s++)this.pmods.push(new iP(e));break;case"pgen":for(let s=0,a=i.size/Ks.SizeInFile|0;s<a;s++)this.pgens.push(new Ks(e));break;case"inst":for(let s=0,a=i.size/tP.SizeInFile|0;s<a;s++)this.insts.push(new tP(e));break;case"ibag":for(let s=0,a=i.size/JT.SizeInFile|0;s<a;s++)this.ibags.push(new JT(e));break;case"imod":for(let s=0,a=i.size/ZT.SizeInFile|0;s<a;s++)this.imods.push(new ZT(e));break;case"igen":for(let s=0,a=i.size/eP.SizeInFile|0;s<a;s++)this.igens.push(new eP(e));break;case"shdr":for(let s=0,a=i.size/sP.SizeInFile|0;s<a;s++)this.sHdrs.push(new sP(e));break;default:e.position+=i.size;break}else if(n.id==="sdta")for(;_a.load(n,i,e);)switch(i.id){case"smpl":this.fontSamples=tN.loadSamples(i,e);break;default:e.position+=i.size;break}else e.position+=n.size}}static loadSamples(e,r){let n=e.size/2|0;const i=new Float32Array(n);let s=0;const a=new Uint8Array(16*1024);for(;n>0;){let o=Math.min(n,a.length/2|0);r.read(a,0,o*2);for(let l=0;l<o;l++){const u=qt.int32ToInt16(a[l*2+1]<<8|a[l*2]);i[s+l]=u/32767}n-=o,s+=o}return i}}class JT{constructor(e){this.instGenNdx=_e.readUInt16LE(e),this.instModNdx=_e.readUInt16LE(e)}}JT.SizeInFile=4;class ZT{constructor(e){this.modSrcOper=_e.readUInt16LE(e),this.modDestOper=_e.readUInt16LE(e),this.modAmount=_e.readInt16LE(e),this.modAmtSrcOper=_e.readUInt16LE(e),this.modTransOper=_e.readUInt16LE(e)}}ZT.SizeInFile=10;class eP{constructor(e){this.genOper=_e.readUInt16LE(e),this.genAmount=new Jz(e)}}eP.SizeInFile=4;class tP{constructor(e){this.instName=_e.read8BitStringLength(e,20),this.instBagNdx=_e.readUInt16LE(e)}}tP.SizeInFile=22;class rP{constructor(e){this.genNdx=_e.readUInt16LE(e),this.modNdx=_e.readUInt16LE(e)}}rP.SizeInFile=4;class Ks{constructor(e){this.genOper=_e.readUInt16LE(e),this.genAmount=new Jz(e)}}Ks.SizeInFile=4;Ks.GenInstrument=41;Ks.GenKeyRange=43;Ks.GenVelRange=44;Ks.GenSampleId=53;class nP{constructor(e){this.presetName=_e.read8BitStringLength(e,20),this.preset=_e.readUInt16LE(e),this.bank=_e.readUInt16LE(e),this.presetBagNdx=_e.readUInt16LE(e),this.library=_e.readUInt32LE(e),this.genre=_e.readUInt32LE(e),this.morphology=_e.readUInt32LE(e)}}nP.SizeInFile=38;class iP{constructor(e){this.modSrcOper=_e.readUInt16LE(e),this.modDestOper=_e.readUInt16LE(e),this.modAmount=_e.readUInt16LE(e),this.modAmtSrcOper=_e.readUInt16LE(e),this.modTransOper=_e.readUInt16LE(e)}}iP.SizeInFile=10;class sP{constructor(e){this.sampleName=_e.read8BitStringLength(e,20),this.start=_e.readUInt32LE(e),this.end=_e.readUInt32LE(e),this.startLoop=_e.readUInt32LE(e),this.endLoop=_e.readUInt32LE(e),this.sampleRate=_e.readUInt32LE(e),this.originalPitch=e.readByte(),this.pitchCorrection=_e.readSInt8(e),this.sampleLink=_e.readUInt16LE(e),this.sampleType=_e.readUInt16LE(e)}}sP.SizeInFile=46;class Jz{get shortAmount(){return qt.uint16ToInt16(this.wordAmount)}get lowByteAmount(){return this.wordAmount&255}get highByteAmount(){return(this.wordAmount&65280)>>8&255}constructor(e){this.wordAmount=_e.readUInt16LE(e)}}let Lwe=class{constructor(){this.presetIndex=0,this.bank=0,this.pitchWheel=0,this.perNotePitchWheel=new Map,this.midiPan=0,this.midiVolume=0,this.midiExpression=0,this.midiRpn=0,this.midiData=0,this.panOffset=0,this.gainDb=0,this.pitchRange=0,this.tuning=0,this.mixVolume=0,this.mute=!1,this.solo=!1}};class Fwe{constructor(){this.activeChannel=0,this.channelList=[]}setupVoice(e,r){const n=this.channelList[this.activeChannel],i=r.region.pan+n.panOffset;r.playingChannel=this.activeChannel,r.mixVolume=n.mixVolume,r.noteGainDb+=n.gainDb,r.updatePitchRatio(n,e.outSampleRate),i<=-.5?(r.panFactorLeft=1,r.panFactorRight=0):i>=.5?(r.panFactorLeft=0,r.panFactorRight=1):(r.panFactorLeft=Math.sqrt(.5-i),r.panFactorRight=Math.sqrt(.5+i))}}var fu;(function(t){t[t.None=0]="None",t[t.Continuous=1]="Continuous",t[t.Sustain=2]="Sustain"})(fu||(fu={}));var Od;(function(t){t[t.StereoInterleaved=0]="StereoInterleaved",t[t.StereoUnweaved=1]="StereoUnweaved",t[t.Mono=2]="Mono"})(Od||(Od={}));class Awe{constructor(){this.name="",this.presetNumber=0,this.bank=0,this.regions=null,this.fontSamples=null}}class Nn{static timecents2Secs(e){return Math.pow(2,e/1200)}static decibelsToGain(e){return e>-100?Math.pow(10,e*.05):0}static gainToDecibels(e){return e<=1e-5?-100:20*Math.log10(e)}static cents2Hertz(e){return 8.176*Math.pow(2,e/1200)}static clamp(e,r,n){return e<=r?r:e>=n?n:e}}class jg{constructor(e){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0,e&&(this.delay=e.delay,this.attack=e.attack,this.hold=e.hold,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.keynumToHold=e.keynumToHold,this.keynumToDecay=e.keynumToDecay)}clear(){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0}envToSecs(e){this.delay=this.delay<-11950?0:Nn.timecents2Secs(this.delay),this.attack=this.attack<-11950?0:Nn.timecents2Secs(this.attack),this.release=this.release<-11950?0:Nn.timecents2Secs(this.release),this.keynumToHold===0&&(this.hold=this.hold<-11950?0:Nn.timecents2Secs(this.hold)),this.keynumToDecay===0&&(this.decay=this.decay<-11950?0:Nn.timecents2Secs(this.decay)),this.sustain<0?this.sustain=0:e?this.sustain=Nn.decibelsToGain(-this.sustain/10):this.sustain=1-this.sustain/1e3}}var ar;(function(t){t[t.StartAddrsOffset=0]="StartAddrsOffset",t[t.EndAddrsOffset=1]="EndAddrsOffset",t[t.StartloopAddrsOffset=2]="StartloopAddrsOffset",t[t.EndloopAddrsOffset=3]="EndloopAddrsOffset",t[t.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",t[t.ModLfoToPitch=5]="ModLfoToPitch",t[t.VibLfoToPitch=6]="VibLfoToPitch",t[t.ModEnvToPitch=7]="ModEnvToPitch",t[t.InitialFilterFc=8]="InitialFilterFc",t[t.InitialFilterQ=9]="InitialFilterQ",t[t.ModLfoToFilterFc=10]="ModLfoToFilterFc",t[t.ModEnvToFilterFc=11]="ModEnvToFilterFc",t[t.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",t[t.ModLfoToVolume=13]="ModLfoToVolume",t[t.Unused1=14]="Unused1",t[t.ChorusEffectsSend=15]="ChorusEffectsSend",t[t.ReverbEffectsSend=16]="ReverbEffectsSend",t[t.Pan=17]="Pan",t[t.Unused2=18]="Unused2",t[t.Unused3=19]="Unused3",t[t.Unused4=20]="Unused4",t[t.DelayModLFO=21]="DelayModLFO",t[t.FreqModLFO=22]="FreqModLFO",t[t.DelayVibLFO=23]="DelayVibLFO",t[t.FreqVibLFO=24]="FreqVibLFO",t[t.DelayModEnv=25]="DelayModEnv",t[t.AttackModEnv=26]="AttackModEnv",t[t.HoldModEnv=27]="HoldModEnv",t[t.DecayModEnv=28]="DecayModEnv",t[t.SustainModEnv=29]="SustainModEnv",t[t.ReleaseModEnv=30]="ReleaseModEnv",t[t.KeynumToModEnvHold=31]="KeynumToModEnvHold",t[t.KeynumToModEnvDecay=32]="KeynumToModEnvDecay",t[t.DelayVolEnv=33]="DelayVolEnv",t[t.AttackVolEnv=34]="AttackVolEnv",t[t.HoldVolEnv=35]="HoldVolEnv",t[t.DecayVolEnv=36]="DecayVolEnv",t[t.SustainVolEnv=37]="SustainVolEnv",t[t.ReleaseVolEnv=38]="ReleaseVolEnv",t[t.KeynumToVolEnvHold=39]="KeynumToVolEnvHold",t[t.KeynumToVolEnvDecay=40]="KeynumToVolEnvDecay",t[t.Instrument=41]="Instrument",t[t.Reserved1=42]="Reserved1",t[t.KeyRange=43]="KeyRange",t[t.VelRange=44]="VelRange",t[t.StartloopAddrsCoarseOffset=45]="StartloopAddrsCoarseOffset",t[t.Keynum=46]="Keynum",t[t.Velocity=47]="Velocity",t[t.InitialAttenuation=48]="InitialAttenuation",t[t.Reserved2=49]="Reserved2",t[t.EndloopAddrsCoarseOffset=50]="EndloopAddrsCoarseOffset",t[t.CoarseTune=51]="CoarseTune",t[t.FineTune=52]="FineTune",t[t.SampleID=53]="SampleID",t[t.SampleModes=54]="SampleModes",t[t.Reserved3=55]="Reserved3",t[t.ScaleTuning=56]="ScaleTuning",t[t.ExclusiveClass=57]="ExclusiveClass",t[t.OverridingRootKey=58]="OverridingRootKey",t[t.Unused5=59]="Unused5",t[t.EndOper=60]="EndOper"})(ar||(ar={}));class ef{constructor(e){this.loopMode=fu.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv=new jg,this.modEnv=new jg,this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,e&&(this.loopMode=e.loopMode,this.sampleRate=e.sampleRate,this.loKey=e.loKey,this.hiKey=e.hiKey,this.loVel=e.loVel,this.hiVel=e.hiVel,this.group=e.group,this.offset=e.offset,this.end=e.end,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.transpose=e.transpose,this.tune=e.tune,this.pitchKeyCenter=e.pitchKeyCenter,this.pitchKeyTrack=e.pitchKeyTrack,this.attenuation=e.attenuation,this.pan=e.pan,this.ampEnv=new jg(e.ampEnv),this.modEnv=new jg(e.modEnv),this.initialFilterQ=e.initialFilterQ,this.initialFilterFc=e.initialFilterFc,this.modEnvToPitch=e.modEnvToPitch,this.modEnvToFilterFc=e.modEnvToFilterFc,this.modLfoToFilterFc=e.modLfoToFilterFc,this.modLfoToVolume=e.modLfoToVolume,this.delayModLFO=e.delayModLFO,this.freqModLFO=e.freqModLFO,this.modLfoToPitch=e.modLfoToPitch,this.delayVibLFO=e.delayVibLFO,this.freqVibLFO=e.freqVibLFO,this.vibLfoToPitch=e.vibLfoToPitch)}clear(e){this.loopMode=fu.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv.clear(),this.modEnv.clear(),this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,this.hiKey=127,this.hiVel=127,this.pitchKeyCenter=60,!e&&(this.pitchKeyTrack=100,this.pitchKeyCenter=-1,this.ampEnv.delay=-12e3,this.ampEnv.attack=-12e3,this.ampEnv.hold=-12e3,this.ampEnv.decay=-12e3,this.ampEnv.release=-12e3,this.modEnv.delay=-12e3,this.modEnv.attack=-12e3,this.modEnv.hold=-12e3,this.modEnv.decay=-12e3,this.modEnv.release=-12e3,this.initialFilterFc=13500,this.delayModLFO=-12e3,this.delayVibLFO=-12e3)}operator(e,r){switch(e){case ar.StartAddrsOffset:this.offset+=qt.int16ToUint32(r.shortAmount);break;case ar.EndAddrsOffset:this.end+=qt.int16ToUint32(r.shortAmount);break;case ar.StartloopAddrsOffset:this.loopStart+=qt.int16ToUint32(r.shortAmount);break;case ar.EndloopAddrsOffset:this.loopEnd+=qt.int16ToUint32(r.shortAmount);break;case ar.StartAddrsCoarseOffset:this.offset+=qt.int16ToUint32(r.shortAmount)*32768;break;case ar.ModLfoToPitch:this.modLfoToPitch=r.shortAmount;break;case ar.VibLfoToPitch:this.vibLfoToPitch=r.shortAmount;break;case ar.ModEnvToPitch:this.modEnvToPitch=r.shortAmount;break;case ar.InitialFilterFc:this.initialFilterFc=r.shortAmount;break;case ar.InitialFilterQ:this.initialFilterQ=r.shortAmount;break;case ar.ModLfoToFilterFc:this.modLfoToFilterFc=r.shortAmount;break;case ar.ModEnvToFilterFc:this.modEnvToFilterFc=r.shortAmount;break;case ar.EndAddrsCoarseOffset:this.end+=qt.int16ToUint32(r.shortAmount)*32768;break;case ar.ModLfoToVolume:this.modLfoToVolume=r.shortAmount;break;case ar.Pan:this.pan=r.shortAmount/1e3;break;case ar.DelayModLFO:this.delayModLFO=r.shortAmount;break;case ar.FreqModLFO:this.freqModLFO=r.shortAmount;break;case ar.DelayVibLFO:this.delayVibLFO=r.shortAmount;break;case ar.FreqVibLFO:this.freqVibLFO=r.shortAmount;break;case ar.DelayModEnv:this.modEnv.delay=r.shortAmount;break;case ar.AttackModEnv:this.modEnv.attack=r.shortAmount;break;case ar.HoldModEnv:this.modEnv.hold=r.shortAmount;break;case ar.DecayModEnv:this.modEnv.decay=r.shortAmount;break;case ar.SustainModEnv:this.modEnv.sustain=r.shortAmount;break;case ar.ReleaseModEnv:this.modEnv.release=r.shortAmount;break;case ar.KeynumToModEnvHold:this.modEnv.keynumToHold=r.shortAmount;break;case ar.KeynumToModEnvDecay:this.modEnv.keynumToDecay=r.shortAmount;break;case ar.DelayVolEnv:this.ampEnv.delay=r.shortAmount;break;case ar.AttackVolEnv:this.ampEnv.attack=r.shortAmount;break;case ar.HoldVolEnv:this.ampEnv.hold=r.shortAmount;break;case ar.DecayVolEnv:this.ampEnv.decay=r.shortAmount;break;case ar.SustainVolEnv:this.ampEnv.sustain=r.shortAmount;break;case ar.ReleaseVolEnv:this.ampEnv.release=r.shortAmount;break;case ar.KeynumToVolEnvHold:this.ampEnv.keynumToHold=r.shortAmount;break;case ar.KeynumToVolEnvDecay:this.ampEnv.keynumToDecay=r.shortAmount;break;case ar.KeyRange:this.loKey=r.lowByteAmount,this.hiKey=r.highByteAmount;break;case ar.VelRange:this.loVel=r.lowByteAmount,this.hiVel=r.highByteAmount;break;case ar.StartloopAddrsCoarseOffset:this.loopStart+=qt.int16ToUint32(r.shortAmount)*32768;break;case ar.InitialAttenuation:this.attenuation+=r.shortAmount*.1;break;case ar.EndloopAddrsCoarseOffset:this.loopEnd+=qt.int16ToUint32(r.shortAmount)*32768;break;case ar.CoarseTune:this.transpose+=r.shortAmount;break;case ar.FineTune:this.tune+=r.shortAmount;break;case ar.SampleModes:this.loopMode=(r.wordAmount&3)===3?fu.Sustain:(r.wordAmount&3)===1?fu.Continuous:fu.None;break;case ar.ScaleTuning:this.pitchKeyTrack=r.shortAmount;break;case ar.ExclusiveClass:this.group=r.wordAmount;break;case ar.OverridingRootKey:this.pitchKeyCenter=r.shortAmount;break}}}var Gr;(function(t){t[t.None=0]="None",t[t.Delay=1]="Delay",t[t.Attack=2]="Attack",t[t.Hold=3]="Hold",t[t.Decay=4]="Decay",t[t.Sustain=5]="Sustain",t[t.Release=6]="Release",t[t.Done=7]="Done"})(Gr||(Gr={}));class oy{constructor(){this.level=0,this.slope=0,this.samplesUntilNextSegment=0,this.segment=Gr.None,this.midiVelocity=0,this.parameters=null,this.segmentIsExponential=!1,this.isAmpEnv=!1}nextSegment(e,r){if(this.parameters)for(;;)switch(e){case Gr.None:if(this.samplesUntilNextSegment=this.parameters.delay*r|0,this.samplesUntilNextSegment>0){this.segment=Gr.Delay,this.segmentIsExponential=!1,this.level=0,this.slope=0;return}e=Gr.Delay;break;case Gr.Delay:if(this.samplesUntilNextSegment=this.parameters.attack*r|0,this.samplesUntilNextSegment>0){this.isAmpEnv||(this.samplesUntilNextSegment=this.parameters.attack*((145-this.midiVelocity)/144)*r|0),this.segment=Gr.Attack,this.segmentIsExponential=!1,this.level=0,this.slope=1/this.samplesUntilNextSegment;return}e=Gr.Attack;break;case Gr.Attack:if(this.samplesUntilNextSegment=this.parameters.hold*r|0,this.samplesUntilNextSegment>0){this.segment=Gr.Hold,this.segmentIsExponential=!1,this.level=1,this.slope=0;return}e=Gr.Hold;break;case Gr.Hold:if(this.samplesUntilNextSegment=this.parameters.decay*r|0,this.samplesUntilNextSegment>0){if(this.segment=Gr.Decay,this.level=1,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0,this.parameters.sustain>0&&(this.samplesUntilNextSegment=Math.log(this.parameters.sustain)/n|0)}else this.slope=-1/this.samplesUntilNextSegment,this.samplesUntilNextSegment=this.parameters.decay*(1-this.parameters.sustain)*r|0,this.segmentIsExponential=!1;return}e=Gr.Decay;break;case Gr.Decay:this.segment=Gr.Sustain,this.level=this.parameters.sustain,this.slope=0,this.samplesUntilNextSegment=2147483647,this.segmentIsExponential=!1;return;case Gr.Sustain:if(this.segment=Gr.Release,this.samplesUntilNextSegment=(this.parameters.release<=0?oy.FastReleaseTime:this.parameters.release)*r|0,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0}else this.slope=-this.level/this.samplesUntilNextSegment,this.segmentIsExponential=!1;return;default:this.segment=Gr.Done,this.segmentIsExponential=!1,this.level=0,this.slope=0,this.samplesUntilNextSegment=134217727;return}}setup(e,r,n,i,s){this.parameters=new jg(e),this.parameters.keynumToHold>0&&(this.parameters.hold+=this.parameters.keynumToHold*(60-r),this.parameters.hold=this.parameters.hold<-1e4?0:Nn.timecents2Secs(this.parameters.hold)),this.parameters.keynumToDecay>0&&(this.parameters.decay+=this.parameters.keynumToDecay*(60-r),this.parameters.decay=this.parameters.decay<-1e4?0:Nn.timecents2Secs(this.parameters.decay)),this.midiVelocity=n|0,this.isAmpEnv=i,this.nextSegment(Gr.None,s)}process(e,r){this.slope>0&&(this.segmentIsExponential?this.level*=Math.pow(this.slope,e):this.level+=this.slope*e),this.samplesUntilNextSegment-=e,this.samplesUntilNextSegment<=0&&this.nextSegment(this.segment,r)}}oy.FastReleaseTime=.01;class MF{constructor(){this.samplesUntil=0,this.level=0,this.delta=0}setup(e,r,n){this.samplesUntil=e*n|0,this.delta=4*Nn.cents2Hertz(r)/n,this.level=0}process(e){if(this.samplesUntil>e){this.samplesUntil-=e;return}this.level+=this.delta*e,this.level>1?(this.delta=-this.delta,this.level=2-this.level):this.level<-1&&(this.delta=-this.delta,this.level=-2-this.level)}}class NF{constructor(e){this.qInv=0,this.a0=0,this.a1=0,this.b1=0,this.b2=0,this.z1=0,this.z2=0,this.active=!1,e&&(this.qInv=e.qInv,this.a0=e.a0,this.a1=e.a1,this.b1=e.b1,this.b2=e.b2,this.z1=e.z1,this.z2=e.z2,this.active=e.active)}setup(e){let r=Math.tan(Math.PI*e),n=r*r,i=1/(1+r*this.qInv+n);this.a0=n*i,this.a1=2*this.a0,this.b1=2*(n-1)*i,this.b2=(1-r*this.qInv+n)*i}process(e){let r=e*this.a0+this.z1;return this.z1=e*this.a1+this.z2-this.b1*r,this.z2=e*this.a0-this.b2*r,r}}let Zz=class aP{constructor(){this.playingPreset=0,this.playingKey=0,this.playingChannel=0,this.region=null,this.pitchInputTimecents=0,this.pitchOutputFactor=0,this.sourceSamplePosition=0,this.noteGainDb=0,this.panFactorLeft=0,this.panFactorRight=0,this.playIndex=0,this.loopStart=0,this.loopEnd=0,this.ampEnv=new oy,this.modEnv=new oy,this.lowPass=new NF,this.modLfo=new MF,this.vibLfo=new MF,this.mixVolume=0,this.mute=!1}updatePitchRatio(e,r){let n=e.pitchWheel;e.perNotePitchWheel.has(this.playingKey)&&(n+=e.perNotePitchWheel.get(this.playingKey)-8192);const i=n===8192?e.tuning:n/16383*e.pitchRange*2-e.pitchRange+e.tuning;this.calcPitchRatio(i,r)}calcPitchRatio(e,r){if(!this.region)return;const n=this.playingKey+this.region.transpose+this.region.tune/100;let i=this.region.pitchKeyCenter+(n-this.region.pitchKeyCenter)*(this.region.pitchKeyTrack/100);e!==0&&(i+=e),this.pitchInputTimecents=i*100,this.pitchOutputFactor=this.region.sampleRate/(Nn.timecents2Secs(this.region.pitchKeyCenter*100)*r)}end(e){this.region&&(this.ampEnv.nextSegment(Gr.Sustain,e),this.modEnv.nextSegment(Gr.Sustain,e),this.region.loopMode===fu.Sustain&&(this.loopEnd=this.loopStart))}endQuick(e){this.ampEnv.parameters.release=0,this.ampEnv.nextSegment(Gr.Sustain,e),this.modEnv.parameters.release=0,this.modEnv.nextSegment(Gr.Sustain,e)}render(e,r,n,i,s){if(!this.region)return;let a=this.region,l=e.presets[this.playingPreset].fontSamples,u=0,c=e.outputMode===Od.StereoUnweaved?i:-1,h=a.modEnvToPitch!==0||a.modEnvToFilterFc!==0,f=this.modLfo.delta>0&&(a.modLfoToPitch!==0||a.modLfoToFilterFc!==0||a.modLfoToVolume!==0),g=this.vibLfo.delta>0&&a.vibLfoToPitch!==0,m=this.loopStart<this.loopEnd,y=this.loopStart,b=this.loopEnd,x=a.end,v=b+1,w=this.sourceSamplePosition,P=new NF(this.lowPass),T=a.modLfoToFilterFc!==0||a.modEnvToFilterFc!==0,_=0,M=0,E=0,D=0,L=a.modLfoToPitch!==0||a.modEnvToPitch!==0||a.vibLfoToPitch!==0,F=0,z=0,V=0,O=0,I=a.modLfoToVolume!==0,H=0,W=0;for(T?(_=e.outSampleRate,M=a.initialFilterFc,E=a.modLfoToFilterFc,D=a.modEnvToFilterFc):(_=0,M=0,E=0,D=0),L?(F=0,z=a.modLfoToPitch,V=a.vibLfoToPitch,O=a.modEnvToPitch):(F=Nn.timecents2Secs(this.pitchInputTimecents)*this.pitchOutputFactor,z=0,V=0,O=0),I?W=a.modLfoToVolume*.1:(H=Nn.decibelsToGain(this.noteGainDb),W=0);i>0;){let A,U,q=0,ae=i>aP.RenderEffectSampleBlock?aP.RenderEffectSampleBlock:i;if(i-=ae,T){let ne=M+this.modLfo.level*E+this.modEnv.level*D;P.active=ne<=13500,P.active&&P.setup(Nn.cents2Hertz(ne)/_)}switch(L&&(F=Nn.timecents2Secs(this.pitchInputTimecents+(this.modLfo.level*z+this.vibLfo.level*V+this.modEnv.level*O))*this.pitchOutputFactor),I&&(H=Nn.decibelsToGain(this.noteGainDb+this.modLfo.level*W)),A=H*this.ampEnv.level,s?A=0:A*=this.mixVolume,this.ampEnv.process(ae,e.outSampleRate),h&&this.modEnv.process(ae,e.outSampleRate),f&&this.modLfo.process(ae),g&&this.vibLfo.process(ae),e.outputMode){case Od.StereoInterleaved:for(U=A*this.panFactorLeft,q=A*this.panFactorRight;ae-- >0&&w<x;){let ne=w|0,ge=ne>=b&&m?y:ne+1,fe=w-ne,J=l[ne]*(1-fe)+l[ge]*fe;P.active&&(J=P.process(J)),r[n+u]+=J*U,u++,r[n+u]+=J*q,u++,w+=F,w>=v&&m&&(w-=b-y+1)}break;case Od.StereoUnweaved:for(U=A*this.panFactorLeft,q=A*this.panFactorRight;ae-- >0&&w<x;){let ne=w|0,ge=ne>=b&&m?y:ne+1,fe=w-ne,J=l[ne]*(1-fe)+l[ge]*fe;P.active&&(J=P.process(J)),r[n+u]+=J*U,u++,r[n+c]+=J*q,c++,w+=F,w>=v&&m&&(w-=b-y+1)}break;case Od.Mono:for(;ae-- >0&&w<x;){let ne=w|0,ge=ne>=b&&m?y:ne+1,fe=w-ne,J=l[ne]*(1-fe)+l[ge]*fe;P.active&&(J=P.process(J)),r[n+u]=J*A,u++,w+=F,w>=v&&m&&(w-=b-y+1)}break}if(w>=x||this.ampEnv.segment===Gr.Done){this.kill();return}}this.sourceSamplePosition=w,(P.active||T)&&(this.lowPass=P)}kill(){this.playingPreset=-1}};Zz.RenderEffectSampleBlock=Yt.MicroBufferSize;class oP{constructor(){this._items=[],this._position=0,this.isEmpty=!0}clear(){this._items=[],this._position=0,this.isEmpty=!0}enqueue(e){this.isEmpty=!1,this._items.push(e)}peek(){return this._items[this._position]}dequeue(){const e=this._items[this._position];return this._position++,this._position>=this._items.length/2&&(this._items=this._items.slice(this._position),this._position=0),this.isEmpty=this._items.length==0,e}toArray(){const e=this._items.slice(this._position);return e.reverse(),e}}var Ar;(function(t){t[t.BankSelectCoarse=0]="BankSelectCoarse",t[t.ModulationCoarse=1]="ModulationCoarse",t[t.DataEntryCoarse=6]="DataEntryCoarse",t[t.VolumeCoarse=7]="VolumeCoarse",t[t.PanCoarse=10]="PanCoarse",t[t.ExpressionControllerCoarse=11]="ExpressionControllerCoarse",t[t.BankSelectFine=32]="BankSelectFine",t[t.ModulationFine=33]="ModulationFine",t[t.DataEntryFine=38]="DataEntryFine",t[t.VolumeFine=39]="VolumeFine",t[t.PanFine=42]="PanFine",t[t.ExpressionControllerFine=43]="ExpressionControllerFine",t[t.HoldPedal=64]="HoldPedal",t[t.LegatoPedal=68]="LegatoPedal",t[t.NonRegisteredParameterFine=98]="NonRegisteredParameterFine",t[t.NonRegisteredParameterCourse=99]="NonRegisteredParameterCourse",t[t.RegisteredParameterFine=100]="RegisteredParameterFine",t[t.RegisteredParameterCourse=101]="RegisteredParameterCourse",t[t.AllSoundOff=120]="AllSoundOff",t[t.ResetControllers=121]="ResetControllers",t[t.AllNotesOff=123]="AllNotesOff"})(Ar||(Ar={}));class Owe{constructor(e){this._midiEventQueue=new oP,this._mutedChannels=new Map,this._soloChannels=new Map,this._isAnySolo=!1,this._transpositionPitches=new Map,this.currentTempo=0,this.timeSignatureNumerator=0,this.timeSignatureDenominator=0,this.presets=null,this._voices=[],this._channels=null,this._voicePlayIndex=0,this.outputMode=Od.StereoInterleaved,this.outSampleRate=0,this.globalGainDb=0,this.outSampleRate=e}synthesize(e,r,n){return this.fillWorkingBuffer(e,r,n)}synthesizeSilent(e){this.fillWorkingBuffer(null,0,e)}channelGetMixVolume(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].mixVolume:1}channelSetMixVolume(e,r){let n=this.channelInit(e);for(let i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(i.mixVolume=r);n.mixVolume=r}channelSetMute(e,r){r?this._mutedChannels.set(e,!0):this._mutedChannels.delete(e)}channelSetSolo(e,r){r?this._soloChannels.set(e,!0):this._soloChannels.delete(e),this._isAnySolo=this._soloChannels.size>0}resetChannelStates(){this._mutedChannels=new Map,this._soloChannels=new Map,this.applyTranspositionPitches(new Map),this._isAnySolo=!1}applyTranspositionPitches(e){const r=this._transpositionPitches;for(const n of this._voices)if(n.playingChannel>=0&&n.playingChannel!==9){let i=0;r.has(n.playingChannel)&&(i-=r.get(n.playingChannel)),e.has(n.playingChannel)&&(i+=e.get(n.playingChannel)),n.playingKey+=i,this._channels&&n.updatePitchRatio(this._channels.channelList[n.playingChannel],this.outSampleRate)}this._transpositionPitches=e}dispatchEvent(e){this._midiEventQueue.enqueue(e)}fillWorkingBuffer(e,r,n){const i=this._isAnySolo,s=[];for(;!this._midiEventQueue.isEmpty;){let a=this._midiEventQueue.dequeue();a.isMetronome&&this.metronomeVolume>0?(this.channelNoteOff(Yt.MetronomeChannel,33),this.channelNoteOn(Yt.MetronomeChannel,33,95/127)):a.event&&this.processMidiMessage(a.event),s.push(a)}for(const a of this._voices)if(a.playingPreset!==-1){const o=a.playingChannel,l=this._mutedChannels.has(o)||i&&o!=Yt.MetronomeChannel&&!this._soloChannels.has(o);e?a.render(this,e,r,n,l):a.kill()}return s}processMidiMessage(e){switch(Fe.debug("MIdi","Processing Midi message "+or[e.type]+"/"+e.tick),e.type){case or.TimeSignature:const n=e;this.timeSignatureNumerator=n.numerator,this.timeSignatureDenominator=Math.pow(2,n.denominatorIndex);break;case or.NoteOn:const i=e;this.channelNoteOn(i.channel,i.noteKey,i.noteVelocity/127);break;case or.NoteOff:const s=e;this.channelNoteOff(s.channel,s.noteKey);break;case or.ControlChange:const a=e;this.channelMidiControl(a.channel,a.controller,a.value);break;case or.ProgramChange:const o=e;this.channelSetPresetNumber(o.channel,o.program,o.channel===9);break;case or.TempoChange:const l=e;this.currentTempo=6e7/l.microSecondsPerQuarterNote;break;case or.PitchBend:const u=e;this.channelSetPitchWheel(u.channel,u.value);break;case or.PerNotePitchBend:const c=e;let h=c.value;h=h*Yt.MaxPitchWheel/Yt.MaxPitchWheel20,this.channelSetPerNotePitchWheel(c.channel,c.noteKey,h);break}}get metronomeVolume(){return this.channelGetMixVolume(Yt.MetronomeChannel)}set metronomeVolume(e){this.setupMetronomeChannel(e)}setupMetronomeChannel(e){this.channelSetMixVolume(Yt.MetronomeChannel,e),e>0&&(this.channelSetVolume(Yt.MetronomeChannel,1),this.channelSetPresetNumber(Yt.MetronomeChannel,0,!0))}get masterVolume(){return Nn.decibelsToGain(this.globalGainDb)}set masterVolume(e){var r=Nn.gainToDecibels(e);const n=r-this.globalGainDb;if(n!==0){for(const i of this._voices)i.playingPreset!==-1&&(i.noteGainDb+=n);this.globalGainDb=r}}resetSoft(){for(const e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<Gr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);if(this._channels)for(const e of this._channels.channelList)e.presetIndex=0,e.bank=0,e.pitchWheel=8192,e.midiPan=8192,e.perNotePitchWheel.clear(),e.midiVolume=16383,e.midiExpression=16383,e.midiRpn=65535,e.midiData=0,e.panOffset=0,e.gainDb=0,e.pitchRange=2,e.tuning=0}get presetCount(){var e;return((e=this.presets)==null?void 0:e.length)??0}reset(){for(let e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<Gr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);this._channels=null}setOutput(e,r,n){this.outputMode=e,this.outSampleRate=r>=1?r:44100,this.globalGainDb=n}noteOn(e,r,n){if(!this.presets)return;const i=n*127|0;if(e<0||e>=this.presets.length)return;if(n<=0){this.noteOff(e,r);return}const s=this._voicePlayIndex++;for(const a of this.presets[e].regions){if(r<a.loKey||r>a.hiKey||i<a.loVel||i>a.hiVel)continue;let o=null;if(a.group!==0)for(const c of this._voices)c.playingPreset===e&&c.region.group===a.group?c.endQuick(this.outSampleRate):c.playingPreset===-1&&!o&&(o=c);else for(let c of this._voices)c.playingPreset===-1&&(o=c);if(!o){for(let c=0;c<4;c++){const h=new Zz;h.playingPreset=-1,this._voices.push(h)}o=this._voices[this._voices.length-4]}o.region=a,o.playingPreset=e,o.playingKey=r,o.playIndex=s,o.noteGainDb=this.globalGainDb-a.attenuation-Nn.gainToDecibels(1/n),this._channels?this._channels.setupVoice(this,o):(o.calcPitchRatio(0,this.outSampleRate),o.panFactorLeft=Math.sqrt(.5-a.pan),o.panFactorRight=Math.sqrt(.5+a.pan)),o.sourceSamplePosition=a.offset;const l=a.loopMode!==fu.None&&a.loopStart<a.loopEnd;o.loopStart=l?a.loopStart:0,o.loopEnd=l?a.loopEnd:0,o.ampEnv.setup(a.ampEnv,r,i,!0,this.outSampleRate),o.modEnv.setup(a.modEnv,r,i,!1,this.outSampleRate);const u=a.initialFilterQ/10;o.lowPass.qInv=1/Math.pow(10,u/20),o.lowPass.z1=0,o.lowPass.z2=0,o.lowPass.active=a.initialFilterFc<=13500,o.lowPass.active&&o.lowPass.setup(Nn.cents2Hertz(a.initialFilterFc)/this.outSampleRate),o.modLfo.setup(a.delayModLFO,a.freqModLFO,this.outSampleRate),o.vibLfo.setup(a.delayVibLFO,a.freqVibLFO,this.outSampleRate)}}bankNoteOn(e,r,n,i){let s=this.getPresetIndex(e,r);return s===-1?!1:(this.noteOn(s,n,i),!0)}noteOff(e,r){let n=null,i=null,s=[];for(let a of this._voices)a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=Gr.Release||(!n||a.playIndex<n.playIndex?(n=a,i=a,s.push(a)):a.playIndex===n.playIndex&&(i=a,s.push(a)));if(n)for(const a of s)a!==n&&a!==i&&(a.playIndex!==n.playIndex||a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=Gr.Release)||a.end(this.outSampleRate)}bankNoteOff(e,r,n){const i=this.getPresetIndex(e,r);return i===-1?!1:(this.noteOff(i,n),!0)}noteOffAll(e){for(const r of this._voices)r.playingPreset!==-1&&r.ampEnv.segment<Gr.Release&&(e?r.endQuick(this.outSampleRate):r.end(this.outSampleRate))}get activeVoiceCount(){let e=0;for(const r of this._voices)r.playingPreset!==-1&&e++;return e}channelInit(e){if(this._channels&&e<this._channels.channelList.length)return this._channels.channelList[e];this._channels||(this._channels=new Fwe);for(let r=this._channels.channelList.length;r<=e;r++){let n=new Lwe;n.presetIndex=0,n.bank=0,n.pitchWheel=8192,n.midiPan=8192,n.midiVolume=16383,n.midiExpression=16383,n.midiRpn=65535,n.midiData=0,n.panOffset=0,n.gainDb=0,n.pitchRange=2,n.tuning=0,n.mixVolume=1,this._channels.channelList.push(n)}return this._channels.channelList[e]}getPresetIndex(e,r){if(!this.presets)return-1;for(let n=this.presets.length-1;n>=0;n--){let i=this.presets[n];if(i.presetNumber===r&&i.bank===e)return n}return-1}getPresetName(e){return this.presets?e<0||e>=this.presets.length?null:this.presets[e].name:null}bankGetPresetName(e,r){return this.getPresetName(this.getPresetIndex(e,r))}channelNoteOn(e,r,n){!this._channels||e>this._channels.channelList.length||(this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e)),this._channels.activeChannel=e,this.noteOn(this._channels.channelList[e].presetIndex,r,n))}channelNoteOff(e,r){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const n=[];let i=null,s=null;for(const o of this._voices)o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=Gr.Release||(!i||o.playIndex<i.playIndex?(i=o,s=o,n.push(o)):o.playIndex===i.playIndex&&(s=o,n.push(o)));if(this.channelInit(e).perNotePitchWheel.delete(r),!!i)for(const o of n)o!==i&&o!==s&&(o.playIndex!==i.playIndex||o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=Gr.Release)||o.end(this.outSampleRate)}channelNoteOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(const n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&n.ampEnv.segment<Gr.Release&&n.end(this.outSampleRate)}channelSoundsOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(let n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&(n.ampEnv.segment<Gr.Release||n.ampEnv.parameters.release===0)&&n.endQuick(this.outSampleRate)}channelSetPresetIndex(e,r){this.channelInit(e).presetIndex=qt.int32ToUint16(r)}channelSetPresetNumber(e,r,n=!1){const i=this.channelInit(e);let s=0;return n?(s=this.getPresetIndex(128|i.bank&32767,r),s===-1&&(s=this.getPresetIndex(128,r)),s===-1&&(s=this.getPresetIndex(128,0)),s===-1&&(s=this.getPresetIndex(i.bank&2047,r))):s=this.getPresetIndex(i.bank&2047,r),i.presetIndex=s,s!==-1}channelSetBank(e,r){this.channelInit(e).bank=qt.int32ToUint16(r)}channelSetBankPreset(e,r,n){const i=this.channelInit(e),s=this.getPresetIndex(r,n);return s===-1?!1:(i.presetIndex=qt.int32ToUint16(s),i.bank=qt.int32ToUint16(r),!0)}channelSetPan(e,r){for(const n of this._voices)if(n.playingChannel===e&&n.playingPreset!==-1){let i=n.region.pan+r-.5;i<=-.5?(n.panFactorLeft=1,n.panFactorRight=0):i>=.5?(n.panFactorLeft=0,n.panFactorRight=1):(n.panFactorLeft=Math.sqrt(.5-i),n.panFactorRight=Math.sqrt(.5+i))}this.channelInit(e).panOffset=r-.5}channelSetVolume(e,r){const n=this.channelInit(e),i=Nn.gainToDecibels(r),s=i-n.gainDb;if(s!==0){for(const a of this._voices)a.playingChannel===e&&a.playingPreset!==-1&&(a.noteGainDb+=s);n.gainDb=i}}channelSetPitchWheel(e,r){const n=this.channelInit(e);n.pitchWheel!==r&&(n.pitchWheel=qt.int32ToUint16(r),this.channelApplyPitch(e,n))}channelSetPerNotePitchWheel(e,r,n){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const i=this.channelInit(e);i.perNotePitchWheel.has(r)&&i.perNotePitchWheel.get(r)===n||(i.perNotePitchWheel.set(r,n),this.channelApplyPitch(e,i,r))}channelApplyPitch(e,r,n=-1){for(const i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(n==-1||i.playingKey===n)&&i.updatePitchRatio(r,this.outSampleRate)}channelSetPitchRange(e,r){const n=this.channelInit(e);n.pitchRange!==r&&(n.pitchRange=r,n.pitchWheel!==8192&&this.channelApplyPitch(e,n))}channelSetTuning(e,r){const n=this.channelInit(e);n.tuning!==r&&(n.tuning=r,this.channelApplyPitch(e,n))}channelMidiControl(e,r,n){let i=this.channelInit(e);switch(r){case Ar.DataEntryFine:i.midiData=qt.int32ToUint16(i.midiData&16256|n),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Ar.VolumeCoarse:i.midiVolume=qt.int32ToUint16(i.midiVolume&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Ar.VolumeFine:i.midiVolume=qt.int32ToUint16(i.midiVolume&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Ar.ExpressionControllerCoarse:i.midiExpression=qt.int32ToUint16(i.midiExpression&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Ar.ExpressionControllerFine:i.midiExpression=qt.int32ToUint16(i.midiExpression&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Ar.PanCoarse:i.midiPan=qt.int32ToUint16(i.midiPan&127|n<<7),this.channelSetPan(e,i.midiPan/16383);return;case Ar.PanFine:i.midiPan=qt.int32ToUint16(i.midiPan&16256|n),this.channelSetPan(e,i.midiPan/16383);return;case Ar.DataEntryCoarse:i.midiData=qt.int32ToUint16(i.midiData&127|n<<7),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&r===Ar.DataEntryCoarse&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Ar.BankSelectCoarse:i.bank=qt.int32ToUint16(32768|n);return;case Ar.BankSelectFine:i.bank=qt.int32ToUint16((i.bank&32768?(i.bank&127)<<7:0)|n);return;case Ar.RegisteredParameterCourse:i.midiRpn=qt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&127|n<<7);return;case Ar.RegisteredParameterFine:i.midiRpn=qt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&16256|n);return;case Ar.NonRegisteredParameterFine:i.midiRpn=65535;return;case Ar.NonRegisteredParameterCourse:i.midiRpn=65535;return;case Ar.AllSoundOff:this.channelSoundsOffAll(e);return;case Ar.AllNotesOff:this.channelNoteOffAll(e);return;case Ar.ResetControllers:i.midiVolume=16383,i.midiExpression=16383,i.midiPan=8192,i.bank=0,this.channelSetVolume(e,1),this.channelSetPan(e,.5),this.channelSetPitchRange(e,2);return}}channelGetPresetIndex(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].presetIndex:0}channelGetPresetBank(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].bank&32767:0}channelGetPan(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].panOffset-.5:.5}channelGetVolume(e){return this._channels&&e<this._channels.channelList.length?Nn.decibelsToGain(this._channels.channelList[e].gainDb):1}channelGetPitchWheel(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchWheel:8192}channelGetPitchRange(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchRange:2}channelGetTuning(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].tuning:0}resetPresets(){this.presets=[]}loadPresets(e,r){const n=[];for(let i=0;i<e.phdrs.length-1;i++){const s=e.phdrs[i];let a=0;const o=new Awe;n.push(o),o.name=s.presetName,o.bank=s.bank,o.presetNumber=s.preset,o.fontSamples=e.fontSamples;let l=0;for(let c=s.presetBagNdx;c<e.phdrs[i+1].presetBagNdx;c++){const h=e.pbags[c];let f=0,g=127,m=0,y=127;for(let b=h.genNdx;b<e.pbags[c+1].genNdx;b++){let x=e.pgens[b];if(x.genOper===Ks.GenKeyRange){f=x.genAmount.lowByteAmount,g=x.genAmount.highByteAmount;continue}if(x.genOper===Ks.GenVelRange){m=x.genAmount.lowByteAmount,y=x.genAmount.highByteAmount;continue}if(x.genOper!==Ks.GenInstrument||x.genAmount.wordAmount>=e.insts.length)continue;let v=e.insts[x.genAmount.wordAmount];for(let w=v.instBagNdx;w<e.insts[x.genAmount.wordAmount+1].instBagNdx;w++){let P=e.ibags[w],T=0,_=127,M=0,E=127;for(let D=P.instGenNdx;D<e.ibags[w+1].instGenNdx;D++){let L=e.igens[D];if(L.genOper===Ks.GenKeyRange){T=L.genAmount.lowByteAmount,_=L.genAmount.highByteAmount;continue}if(L.genOper===Ks.GenVelRange){M=L.genAmount.lowByteAmount,E=L.genAmount.highByteAmount;continue}L.genOper===53&&_>=f&&T<=g&&E>=m&&M<=y&&l++}}}}o.regions=new Array(l);let u=new ef;u.clear(!0);for(let c=s.presetBagNdx;c<e.phdrs[i+1].presetBagNdx;c++){const h=e.pbags[c],f=new ef(u);let g=!1;for(let m=h.genNdx;m<e.pbags[c+1].genNdx;m++){const y=e.pgens[m];if(y.genOper===Ks.GenInstrument){let b=y.genAmount.wordAmount;if(b>=e.insts.length)continue;let x=new ef;x.clear(!1);let v=e.insts[b];for(let w=v.instBagNdx;w<e.insts[b+1].instBagNdx;w++){let P=e.ibags[w],T=new ef(x),_=!1;for(let M=P.instGenNdx;M<e.ibags[w+1].instGenNdx;M++){let E=e.igens[M];if(E.genOper===Ks.GenSampleId){if(T.hiKey<f.loKey||T.loKey>f.hiKey||T.hiVel<f.loVel||T.loVel>f.hiVel)continue;f.loKey>T.loKey&&(T.loKey=f.loKey),f.hiKey<T.hiKey&&(T.hiKey=f.hiKey),f.loVel>T.loVel&&(T.loVel=f.loVel),f.hiVel<T.hiVel&&(T.hiVel=f.hiVel),T.offset+=f.offset,T.end+=f.end,T.loopStart+=f.loopStart,T.loopEnd+=f.loopEnd,T.transpose+=f.transpose,T.tune+=f.tune,T.pitchKeyTrack+=f.pitchKeyTrack,T.attenuation+=f.attenuation,T.pan+=f.pan,T.ampEnv.delay+=f.ampEnv.delay,T.ampEnv.attack+=f.ampEnv.attack,T.ampEnv.hold+=f.ampEnv.hold,T.ampEnv.decay+=f.ampEnv.decay,T.ampEnv.sustain+=f.ampEnv.sustain,T.ampEnv.release+=f.ampEnv.release,T.modEnv.delay+=f.modEnv.delay,T.modEnv.attack+=f.modEnv.attack,T.modEnv.hold+=f.modEnv.hold,T.modEnv.decay+=f.modEnv.decay,T.modEnv.sustain+=f.modEnv.sustain,T.modEnv.release+=f.modEnv.release,T.initialFilterQ+=f.initialFilterQ,T.initialFilterFc+=f.initialFilterFc,T.modEnvToPitch+=f.modEnvToPitch,T.modEnvToFilterFc+=f.modEnvToFilterFc,T.delayModLFO+=f.delayModLFO,T.freqModLFO+=f.freqModLFO,T.modLfoToPitch+=f.modLfoToPitch,T.modLfoToFilterFc+=f.modLfoToFilterFc,T.modLfoToVolume+=f.modLfoToVolume,T.delayVibLFO+=f.delayVibLFO,T.freqVibLFO+=f.freqVibLFO,T.vibLfoToPitch+=f.vibLfoToPitch,T.ampEnv.envToSecs(!0),T.modEnv.envToSecs(!1),T.delayModLFO=T.delayModLFO<-11950?0:Nn.timecents2Secs(T.delayModLFO),T.delayVibLFO=T.delayVibLFO<-11950?0:Nn.timecents2Secs(T.delayVibLFO),T.pan<-.5?T.pan=-.5:T.pan>.5&&(T.pan=.5),(T.initialFilterQ<1500||T.initialFilterQ>13500)&&(T.initialFilterQ=0);let D=e.sHdrs[E.genAmount.wordAmount];T.offset+=D.start,T.end+=D.end,T.loopStart+=D.startLoop,T.loopEnd+=D.endLoop,D.endLoop>0&&(T.loopEnd-=1),T.pitchKeyCenter===-1&&(T.pitchKeyCenter=D.originalPitch),T.tune+=D.pitchCorrection,T.sampleRate=D.sampleRate,T.end!==0&&T.end<o.fontSamples.length?T.end++:T.end=o.fontSamples.length,o.regions[a]=new ef(T),a++,_=!0}else T.operator(E.genOper,E.genAmount)}P===e.ibags[v.instBagNdx]&&!_&&(x=new ef(T))}g=!0}else f.operator(y.genOper,y.genAmount)}h===e.pbags[s.presetBagNdx]&&!g&&(u=f)}}if(!r||!this.presets)this.presets=n;else for(const i of n)this.presets.push(i)}}class hi{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(){for(const e of this._listeners)e()}}class lr{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(e){for(const r of this._listeners)r(e)}}class eW{constructor(e){this.events=e}}class tW{constructor(e){this.playbackRange=e}}class $we{get isReadyForPlayback(){return this.isReady&&this._isSoundFontLoaded&&this._isMidiLoaded}get logLevel(){return Fe.logLevel}set logLevel(e){Fe.logLevel=e}get masterVolume(){return this._synthesizer.masterVolume}set masterVolume(e){e=Math.max(e,Yt.MinVolume),this._synthesizer.masterVolume=e}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,Yt.MinVolume),this._metronomeVolume=e,this._synthesizer.metronomeVolume=e}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,Yt.MinVolume),this._countInVolume=e}get midiEventsPlayedFilter(){return Array.from(this._midiEventsPlayedFilter)}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=new Set(e)}get playbackSpeed(){return this._sequencer.playbackSpeed}set playbackSpeed(e){e=Nn.clamp(e,Yt.MinPlaybackSpeed,Yt.MaxPlaybackSpeed);let r=this._sequencer.playbackSpeed;this._sequencer.playbackSpeed=e,this.timePosition=this.timePosition*(r/e)}get tickPosition(){return this._tickPosition}set tickPosition(e){this.timePosition=this._sequencer.mainTickPositionToTimePosition(e)}get timePosition(){return this._timePosition}set timePosition(e){Fe.debug("AlphaSynth",`Seeking to position ${e}ms (main)`),this._sequencer.mainSeek(e),this.updateTimePosition(e,!0),this._sequencer.isPlayingMain&&(this._notPlayedSamples=0,this.output.resetSamples())}get playbackRange(){return this._sequencer.mainPlaybackRange}set playbackRange(e){this._sequencer.mainPlaybackRange=e,e&&(this.tickPosition=e.startTick),this.playbackRangeChanged.trigger(new tW(e))}get isLooping(){return this._sequencer.isLooping}set isLooping(e){this._sequencer.isLooping=e}destroy(){Fe.debug("AlphaSynth","Destroying player"),this.stop(),this.output.destroy()}constructor(e,r){this._isSoundFontLoaded=!1,this._isMidiLoaded=!1,this._tickPosition=0,this._timePosition=0,this._metronomeVolume=0,this._countInVolume=0,this._playedEventsQueue=new oP,this._midiEventsPlayedFilter=new Set,this._notPlayedSamples=0,this.isReady=!1,this.state=ai.Paused,this.ready=new hi,this.readyForPlayback=new hi,this.finished=new hi,this.soundFontLoaded=new hi,this.soundFontLoadFailed=new lr,this.midiLoaded=new lr,this.midiLoadFailed=new lr,this.stateChanged=new lr,this.positionChanged=new lr,this.midiEventsPlayed=new lr,this.playbackRangeChanged=new lr,Fe.debug("AlphaSynth","Initializing player"),this.state=ai.Paused,Fe.debug("AlphaSynth","Creating output"),this.output=e,Fe.debug("AlphaSynth","Creating synthesizer"),this._synthesizer=new Owe(this.output.sampleRate),this._sequencer=new Iwe(this._synthesizer),Fe.debug("AlphaSynth","Opening output"),this.output.ready.on(()=>{this.isReady=!0,this.ready.trigger(),this.checkReadyForPlayback()}),this.output.sampleRequest.on(()=>{if(this.state==ai.Playing&&!this._sequencer.isFinished){let n=new Float32Array(Yt.MicroBufferSize*Yt.MicroBufferCount*Yt.AudioChannels),i=0;for(let s=0;s<Yt.MicroBufferCount;s++){this._sequencer.fillMidiEventQueue();const a=this._synthesizer.synthesize(n,i,Yt.MicroBufferSize);i+=Yt.MicroBufferSize*Yt.AudioChannels;for(const o of a)this._midiEventsPlayedFilter.has(o.event.type)&&this._playedEventsQueue.enqueue(o);if(this._sequencer.isFinished)break}i<n.length&&(n=n.subarray(0,i)),this._notPlayedSamples+=n.length,this.output.addSamples(n)}else{let n=new Float32Array(0);this.output.addSamples(n)}}),this.output.samplesPlayed.on(this.onSamplesPlayed.bind(this)),this.output.open(r)}play(){return this.state!==ai.Paused||!this._isMidiLoaded?!1:(this.output.activate(),this.playInternal(),this._countInVolume>0&&(Fe.debug("AlphaSynth","Starting countin"),this._sequencer.startCountIn(),this._synthesizer.setupMetronomeChannel(this._countInVolume),this.updateTimePosition(0,!0)),this.output.play(),!0)}playInternal(){this._sequencer.isPlayingOneTimeMidi&&(Fe.debug("AlphaSynth","Cancelling one time midi"),this.stopOneTimeMidi()),Fe.debug("AlphaSynth","Starting playback"),this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.state=ai.Playing,this.stateChanged.trigger(new Lv(this.state,!1))}pause(){this.state===ai.Paused||!this._isMidiLoaded||(Fe.debug("AlphaSynth","Pausing playback"),this.state=ai.Paused,this.stateChanged.trigger(new Lv(this.state,!1)),this.output.pause(),this._synthesizer.noteOffAll(!1))}playPause(){this.state!==ai.Paused||!this._isMidiLoaded?this.pause():this.play()}stop(){this._isMidiLoaded&&(Fe.debug("AlphaSynth","Stopping playback"),this.state=ai.Paused,this.output.pause(),this._notPlayedSamples=0,this._sequencer.stop(),this._synthesizer.noteOffAll(!0),this.tickPosition=this._sequencer.mainPlaybackRange?this._sequencer.mainPlaybackRange.startTick:0,this.stateChanged.trigger(new Lv(this.state,!0)))}playOneTimeMidiFile(e){this._sequencer.isPlayingOneTimeMidi?this.stopOneTimeMidi():this.pause(),this._sequencer.loadOneTimeMidi(e),this._synthesizer.noteOffAll(!0),this.updateTimePosition(0,!0),this._notPlayedSamples=0,this.output.resetSamples(),this.output.play()}resetSoundFonts(){this.stop(),this._synthesizer.resetPresets(),this._isSoundFontLoaded=!1,this.soundFontLoaded.trigger()}loadSoundFont(e,r){this.pause();let n=Gi.fromBuffer(e);try{Fe.debug("AlphaSynth","Loading soundfont from bytes");let i=new tN;i.load(n),this._synthesizer.loadPresets(i,r),this._isSoundFontLoaded=!0,this.soundFontLoaded.trigger(),Fe.debug("AlphaSynth","soundFont successfully loaded"),this.checkReadyForPlayback()}catch(i){Fe.error("AlphaSynth","Could not load soundfont from bytes "+i),this.soundFontLoadFailed.trigger(i)}}checkReadyForPlayback(){this.isReadyForPlayback&&(this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.readyForPlayback.trigger())}loadMidiFile(e){this.stop();try{Fe.debug("AlphaSynth","Loading midi from model"),this._sequencer.loadMidi(e),this._isMidiLoaded=!0,this.midiLoaded.trigger(new Aw(0,this._sequencer.currentEndTime,0,this._sequencer.currentEndTick,!1)),Fe.debug("AlphaSynth","Midi successfully loaded"),this.checkReadyForPlayback(),this.tickPosition=0}catch(r){Fe.error("AlphaSynth","Could not load midi from model "+r),this.midiLoadFailed.trigger(r)}}applyTranspositionPitches(e){this._synthesizer.applyTranspositionPitches(e)}setChannelMute(e,r){this._synthesizer.channelSetMute(e,r)}resetChannelStates(){this._synthesizer.resetChannelStates()}setChannelSolo(e,r){this._synthesizer.channelSetSolo(e,r)}setChannelVolume(e,r){r=Math.max(r,Yt.MinVolume),this._synthesizer.channelSetMixVolume(e,r)}onSamplesPlayed(e){if(e===0)return;let r=e/this._synthesizer.outSampleRate*1e3;this._notPlayedSamples-=e*Yt.AudioChannels,this.updateTimePosition(this._timePosition+r,!1),this.checkForFinish()}checkForFinish(){let e=0,r=0;this.playbackRange&&this._sequencer.isPlayingMain?(e=this.playbackRange.startTick,r=this.playbackRange.endTick):r=this._sequencer.currentEndTick,this._tickPosition>=r&&this._notPlayedSamples<=0&&(this._notPlayedSamples=0,this._sequencer.isPlayingCountIn?(Fe.debug("AlphaSynth","Finished playback (count-in)"),this._sequencer.resetCountIn(),this.timePosition=this._sequencer.currentTime,this.playInternal(),this.output.resetSamples()):this._sequencer.isPlayingOneTimeMidi?(Fe.debug("AlphaSynth","Finished playback (one time)"),this.output.resetSamples(),this.state=ai.Paused,this.stopOneTimeMidi()):(Fe.debug("AlphaSynth","Finished playback (main)"),this.finished.trigger(),this.isLooping?this.tickPosition=e:this.stop()))}stopOneTimeMidi(){this.output.pause(),this._synthesizer.noteOffAll(!0),this._sequencer.resetOneTimeMidi(),this.timePosition=this._sequencer.currentTime}updateTimePosition(e,r){const n=e;this._timePosition=n;const i=this._sequencer.currentTimePositionToTickPosition(n);this._tickPosition=i;const s=this._sequencer.currentEndTime,a=this._sequencer.currentEndTick,o=this._sequencer.isPlayingMain?"main":this._sequencer.isPlayingCountIn?"count-in":"one-time";if(Fe.debug("AlphaSynth",`Position changed: (time: ${n}/${s}, tick: ${i}/${a}, Active Voices: ${this._synthesizer.activeVoiceCount} (${o})`),this._sequencer.isPlayingMain&&this.positionChanged.trigger(new Aw(n,s,i,a,r)),r)this._playedEventsQueue.clear();else{const l=new oP;for(;!this._playedEventsQueue.isEmpty&&this._playedEventsQueue.peek().time<n;){const u=this._playedEventsQueue.dequeue();l.enqueue(u.event)}l.isEmpty||this.midiEventsPlayed.trigger(new eW(l.toArray()))}}}class Qe{static parseEnum(e,r){switch(typeof e){case"string":const n=parseInt(e);return isNaN(n)?r[Object.keys(r).find(i=>i.toLowerCase()===e.toLowerCase())]:n;case"number":return e;case"undefined":case"object":return null}throw new _i(Ci.Format,`Could not parse enum value '${e}'`)}static forEach(e,r){if(e instanceof Map)e.forEach(r);else if(typeof e=="object")for(const n in e)r(e[n],n)}static getValue(e,r){return e instanceof Map?e.get(r):typeof e=="object"?e[r]:null}}class Vwe{constructor(e,r,n){this.text=e,this.startPos=r,this.endPos=n}}class Bf{constructor(e){this.style="normal",this.variant="normal",this.weight="normal",this.stretch="normal",this.lineHeight="normal",this.size="1rem",this.families=[],this.parseOnlyFamilies=!1,this._currentTokenIndex=-1,this._input="",this._currentToken=null,this._input=e,this._tokens=this.splitToTokens(e)}splitToTokens(e){const r=[];let n=0;for(;n<e.length;){let i=n;for(;i<e.length&&e.charAt(i)!==" ";)i++;i>n&&r.push(new Vwe(e.substring(n,i),n,i)),n=i+1}return r}parse(){var e;if(this.reset(),this._tokens.length===1)switch((e=this._currentToken)==null?void 0:e.text){case"caption":case"icon":case"menu":case"message-box":case"small-caption":case"status-bar":case"inherit":return}this.parseOnlyFamilies||(this.fontStyleVariantWeight(),this.fontSizeLineHeight()),this.fontFamily()}static parseFamilies(e){const r=new Bf(e);return r.parseOnlyFamilies=!0,r.parse(),r.families}fontFamily(){if(!this._currentToken){if(this.parseOnlyFamilies)return;throw new Error("Missing font list")}const e=this._input.substr(this._currentToken.startPos).trim();let r=0;for(;r<e.length;){let n=e.charAt(r);if(n===" "||n==",")r++;else if(n==='"'||n==="'"){const i=this.findEndOfQuote(e,r+1,n);this.families.push(e.substring(r+1,i).split("\\"+n).join(n)),r=i+1}else{const i=this.findEndOfQuote(e,r+1,",");this.families.push(e.substring(r,i).trim()),r=i+1}}}findEndOfQuote(e,r,n){let i=!1;for(;r<e.length;){const s=e.charAt(r);if(!i&&s===n)return r;!i&&s==="\\"?i=!0:i=!1,r+=1}return e.length}fontSizeLineHeight(){if(!this._currentToken)throw new Error("Missing font size");const e=this._currentToken.text.split("/");if(e.length>=3)throw new Error(`Invalid font size '${this._currentToken}' specified`);if(this.nextToken(),e.length>=2)if(e[1]==="/"){if(!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.size=e[0],this.lineHeight=e[1];else if(e.length>=1){if(this.size=e[0],this._currentToken&&this._currentToken.text.indexOf("/")===0)if(this._currentToken.text==="/"){if(this.nextToken(),!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.lineHeight=this._currentToken.text.substr(1),this.nextToken()}else throw new Error("Missing font size")}nextToken(){this._currentTokenIndex++,this._currentTokenIndex<this._tokens.length?this._currentToken=this._tokens[this._currentTokenIndex]:this._currentToken=null}fontStyleVariantWeight(){let e=!1,r=!1,n=!1,i=3,s=[];for(;;){if(!this._currentToken)return;let a=this._currentToken.text;switch(a){case"normal":case"inherit":s.push(a),i--,this.nextToken();break;case"italic":case"oblique":this.style=a,e=!0,i--,this.nextToken();break;case"small-caps":this.variant=a,r=!0,i--,this.nextToken();break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":this.weight=a,n=!0,i--,this.nextToken();break;default:return}if(i===0)break}for(;s.length>0;){const a=s.pop();n?r?e||(this.style=a):this.variant=a:this.weight=a}}reset(){this._currentTokenIndex=-1,this.nextToken()}static quoteFont(e){return e.indexOf(" ")===-1?e:`"${e.replaceAll('"','\\"')}"`}}var vn;(function(t){t[t.Plain=0]="Plain",t[t.Italic=1]="Italic"})(vn||(vn={}));var ta;(function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold"})(ta||(ta={}));class fr{reset(){this._cssScale=0,this._css=this.toCssString()}get family(){return this._families[0]}set family(e){this.families=Bf.parseFamilies(e)}get families(){return this._families}set families(e){this._families=e,this.reset()}get size(){return this._size}set size(e){this._size=e,this.reset()}get style(){return this._style}set style(e){this._style=e,this.reset()}get weight(){return this._weight}set weight(e){this._weight=e,this.reset()}get isBold(){return this.weight===ta.Bold}get isItalic(){return this.style===vn.Italic}constructor(e,r,n=vn.Plain,i=ta.Regular){this._cssScale=0,this._families=Bf.parseFamilies(e),this._size=r,this._style=n,this._weight=i,this._css=this.toCssString()}static withFamilyList(e,r,n=vn.Plain,i=ta.Regular){const s=new fr("",r,n,i);return s.families=e,s}toCssString(e=1){if(!this._css||!(Math.abs(e-this._cssScale)<.01)){let r="";this.isBold&&(r+="bold "),this.isItalic&&(r+="italic "),r+=this.size*e,r+="px ",r+=this.families.map(n=>Bf.quoteFont(n)).join(", "),this._css=r,this._cssScale=e}return this._css}static fromJson(e){switch(typeof e){case"undefined":return null;case"object":{const r=e;let n=r.get("families"),i=r.get("size"),s=Qe.parseEnum(r.get("style"),vn),a=Qe.parseEnum(r.get("weight"),ta);return fr.withFamilyList(n,i,s,a)}case"string":{const r=new Bf(e);r.parse();let n=r.families,i=r.size.toLowerCase(),s=0;switch(i){case"xx-small":s=7;break;case"x-small":s=10;break;case"small":case"smaller":s=13;break;case"medium":s=16;break;case"large":case"larger":s=18;break;case"x-large":s=24;break;case"xx-large":s=32;break;default:try{i.endsWith("em")?s=parseFloat(i.substr(0,i.length-2))*16:i.endsWith("pt")?s=parseFloat(i.substr(0,i.length-2))*16/12:i.endsWith("px")?s=parseFloat(i.substr(0,i.length-2)):s=12}catch{s=12}break}let a=vn.Plain;r.style==="italic"&&(a=vn.Italic);let o=ta.Regular;switch(r.weight.toLowerCase()){case"normal":case"lighter":break;default:o=ta.Bold;break}return fr.withFamilyList(n,s,a,o)}default:return null}}static toJson(e){const r=new Map;return r.set("families",e.families),r.set("size",e.size),r.set("style",e.style),r.set("weight",e.weight),r}}class Rs{constructor(){this.copyrightFont=new fr(Rs.sansFont,12,vn.Plain,ta.Bold),this.titleFont=new fr(Rs.serifFont,32,vn.Plain),this.subTitleFont=new fr(Rs.serifFont,20,vn.Plain),this.wordsFont=new fr(Rs.serifFont,15,vn.Plain),this.effectFont=new fr(Rs.serifFont,12,vn.Italic),this.fretboardNumberFont=new fr(Rs.sansFont,11,vn.Plain),this.tablatureFont=new fr(Rs.sansFont,13,vn.Plain),this.graceFont=new fr(Rs.sansFont,11,vn.Plain),this.staffLineColor=new fn(165,165,165,255),this.barSeparatorColor=new fn(34,34,17,255),this.barNumberFont=new fr(Rs.sansFont,11,vn.Plain),this.barNumberColor=new fn(200,0,0,255),this.fingeringFont=new fr(Rs.serifFont,14,vn.Plain),this.markerFont=new fr(Rs.serifFont,14,vn.Plain,ta.Bold),this.mainGlyphColor=new fn(0,0,0,255),this.secondaryGlyphColor=new fn(0,0,0,100),this.scoreInfoColor=new fn(0,0,0,255)}}Rs.sansFont="Arial, sans-serif";Rs.serifFont="Georgia, serif";var Yc;(function(t){t[t.Automatic=0]="Automatic",t[t.UseModelLayout=1]="UseModelLayout"})(Yc||(Yc={}));class zwe{constructor(){this.scale=1,this.stretchForce=1,this.layoutMode=Tu.Page,this.staveProfile=ea.Default,this.barsPerRow=-1,this.startBar=1,this.barCount=-1,this.barCountPerPartial=10,this.justifyLastSystem=!1,this.resources=new Rs,this.padding=null,this.systemsLayoutMode=Yc.Automatic}}class Wwe{constructor(){this.encoding="utf-8",this.mergePartGroupsInMusicXml=!1,this.beatTextAsLyrics=!1}}var pu;(function(t){t[t.Off=0]="Off",t[t.Continuous=1]="Continuous",t[t.OffScreen=2]="OffScreen"})(pu||(pu={}));class Hwe{constructor(){this.noteWideLength=480,this.noteWideAmplitude=2,this.noteSlightLength=480,this.noteSlightAmplitude=2,this.beatWideLength=240,this.beatWideAmplitude=3,this.beatSlightLength=240,this.beatSlightAmplitude=3}}class Uwe{constructor(){this.simpleSlidePitchOffset=6,this.simpleSlideDurationRatio=.25,this.shiftSlideDurationRatio=.5}}var ly;(function(t){t[t.WebAudioAudioWorklets=0]="WebAudioAudioWorklets",t[t.WebAudioScriptProcessor=1]="WebAudioScriptProcessor"})(ly||(ly={}));class Gwe{constructor(){this.soundFont=null,this.scrollElement="html,body",this.outputMode=ly.WebAudioAudioWorklets,this.enablePlayer=!1,this.enableCursor=!0,this.enableAnimatedBeatCursor=!0,this.enableElementHighlighting=!0,this.enableUserInteraction=!0,this.scrollOffsetX=0,this.scrollOffsetY=0,this.scrollMode=pu.Continuous,this.scrollSpeed=300,this.nativeBrowserSmoothScroll=!0,this.songBookBendDuration=75,this.songBookDipDuration=150,this.vibrato=new Hwe,this.slide=new Uwe,this.playTripletFeel=!0,this.bufferTimeInMilliseconds=500}}class RC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scriptfile",e.scriptFile),r.set("fontdirectory",e.fontDirectory),r.set("file",e.file),r.set("tex",e.tex),r.set("tracks",e.tracks),r.set("enablelazyloading",e.enableLazyLoading),r.set("engine",e.engine),r.set("loglevel",e.logLevel),r.set("useworkers",e.useWorkers),r.set("includenotebounds",e.includeNoteBounds),r}static setProperty(e,r,n){switch(r){case"scriptfile":return e.scriptFile=n,!0;case"fontdirectory":return e.fontDirectory=n,!0;case"file":return e.file=n,!0;case"tex":return e.tex=n,!0;case"tracks":return e.tracks=n,!0;case"enablelazyloading":return e.enableLazyLoading=n,!0;case"engine":return e.engine=n,!0;case"loglevel":return e.logLevel=Qe.parseEnum(n,el),!0;case"useworkers":return e.useWorkers=n,!0;case"includenotebounds":return e.includeNoteBounds=n,!0}return!1}}class DC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("copyrightfont",fr.toJson(e.copyrightFont)),r.set("titlefont",fr.toJson(e.titleFont)),r.set("subtitlefont",fr.toJson(e.subTitleFont)),r.set("wordsfont",fr.toJson(e.wordsFont)),r.set("effectfont",fr.toJson(e.effectFont)),r.set("fretboardnumberfont",fr.toJson(e.fretboardNumberFont)),r.set("tablaturefont",fr.toJson(e.tablatureFont)),r.set("gracefont",fr.toJson(e.graceFont)),r.set("stafflinecolor",fn.toJson(e.staffLineColor)),r.set("barseparatorcolor",fn.toJson(e.barSeparatorColor)),r.set("barnumberfont",fr.toJson(e.barNumberFont)),r.set("barnumbercolor",fn.toJson(e.barNumberColor)),r.set("fingeringfont",fr.toJson(e.fingeringFont)),r.set("markerfont",fr.toJson(e.markerFont)),r.set("mainglyphcolor",fn.toJson(e.mainGlyphColor)),r.set("secondaryglyphcolor",fn.toJson(e.secondaryGlyphColor)),r.set("scoreinfocolor",fn.toJson(e.scoreInfoColor)),r}static setProperty(e,r,n){switch(r){case"copyrightfont":return e.copyrightFont=fr.fromJson(n),!0;case"titlefont":return e.titleFont=fr.fromJson(n),!0;case"subtitlefont":return e.subTitleFont=fr.fromJson(n),!0;case"wordsfont":return e.wordsFont=fr.fromJson(n),!0;case"effectfont":return e.effectFont=fr.fromJson(n),!0;case"fretboardnumberfont":return e.fretboardNumberFont=fr.fromJson(n),!0;case"tablaturefont":return e.tablatureFont=fr.fromJson(n),!0;case"gracefont":return e.graceFont=fr.fromJson(n),!0;case"stafflinecolor":return e.staffLineColor=fn.fromJson(n),!0;case"barseparatorcolor":return e.barSeparatorColor=fn.fromJson(n),!0;case"barnumberfont":return e.barNumberFont=fr.fromJson(n),!0;case"barnumbercolor":return e.barNumberColor=fn.fromJson(n),!0;case"fingeringfont":return e.fingeringFont=fr.fromJson(n),!0;case"markerfont":return e.markerFont=fr.fromJson(n),!0;case"mainglyphcolor":return e.mainGlyphColor=fn.fromJson(n),!0;case"secondaryglyphcolor":return e.secondaryGlyphColor=fn.fromJson(n),!0;case"scoreinfocolor":return e.scoreInfoColor=fn.fromJson(n),!0}return!1}}class IC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scale",e.scale),r.set("stretchforce",e.stretchForce),r.set("layoutmode",e.layoutMode),r.set("staveprofile",e.staveProfile),r.set("barsperrow",e.barsPerRow),r.set("startbar",e.startBar),r.set("barcount",e.barCount),r.set("barcountperpartial",e.barCountPerPartial),r.set("justifylastsystem",e.justifyLastSystem),r.set("resources",DC.toJson(e.resources)),r.set("padding",e.padding),r.set("systemslayoutmode",e.systemsLayoutMode),r}static setProperty(e,r,n){switch(r){case"scale":return e.scale=n,!0;case"stretchforce":return e.stretchForce=n,!0;case"layoutmode":return e.layoutMode=Qe.parseEnum(n,Tu),!0;case"staveprofile":return e.staveProfile=Qe.parseEnum(n,ea),!0;case"barsperrow":return e.barsPerRow=n,!0;case"startbar":return e.startBar=n,!0;case"barcount":return e.barCount=n,!0;case"barcountperpartial":return e.barCountPerPartial=n,!0;case"justifylastsystem":return e.justifyLastSystem=n,!0;case"padding":return e.padding=n,!0;case"systemslayoutmode":return e.systemsLayoutMode=Qe.parseEnum(n,Yc),!0}if(["resources"].indexOf(r)>=0)return DC.fromJson(e.resources,n),!0;for(const i of["resources"])if(r.indexOf(i)===0&&DC.setProperty(e.resources,r.substring(i.length),n))return!0;return!1}}class LC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;r.set("notationmode",e.notationMode),r.set("fingeringmode",e.fingeringMode);{const n=new Map;r.set("elements",n);for(const[i,s]of e.elements)n.set(i.toString(),s)}return r.set("rhythmmode",e.rhythmMode),r.set("rhythmheight",e.rhythmHeight),r.set("transpositionpitches",e.transpositionPitches),r.set("displaytranspositionpitches",e.displayTranspositionPitches),r.set("smallgracetabnotes",e.smallGraceTabNotes),r.set("extendbendarrowsontiednotes",e.extendBendArrowsOnTiedNotes),r.set("extendlineeffectstobeatend",e.extendLineEffectsToBeatEnd),r.set("slurheight",e.slurHeight),r}static setProperty(e,r,n){switch(r){case"notationmode":return e.notationMode=Qe.parseEnum(n,ci),!0;case"fingeringmode":return e.fingeringMode=Qe.parseEnum(n,pl),!0;case"elements":return e.elements=new Map,Qe.forEach(n,(i,s)=>{e.elements.set(Qe.parseEnum(s,Nt),i)}),!0;case"rhythmmode":return e.rhythmMode=Qe.parseEnum(n,bu),!0;case"rhythmheight":return e.rhythmHeight=n,!0;case"transpositionpitches":return e.transpositionPitches=n,!0;case"displaytranspositionpitches":return e.displayTranspositionPitches=n,!0;case"smallgracetabnotes":return e.smallGraceTabNotes=n,!0;case"extendbendarrowsontiednotes":return e.extendBendArrowsOnTiedNotes=n,!0;case"extendlineeffectstobeatend":return e.extendLineEffectsToBeatEnd=n,!0;case"slurheight":return e.slurHeight=n,!0}return!1}}class FC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("encoding",e.encoding),r.set("mergepartgroupsinmusicxml",e.mergePartGroupsInMusicXml),r.set("beattextaslyrics",e.beatTextAsLyrics),r}static setProperty(e,r,n){switch(r){case"encoding":return e.encoding=n,!0;case"mergepartgroupsinmusicxml":return e.mergePartGroupsInMusicXml=n,!0;case"beattextaslyrics":return e.beatTextAsLyrics=n,!0}return!1}}class AC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("notewidelength",e.noteWideLength),r.set("notewideamplitude",e.noteWideAmplitude),r.set("noteslightlength",e.noteSlightLength),r.set("noteslightamplitude",e.noteSlightAmplitude),r.set("beatwidelength",e.beatWideLength),r.set("beatwideamplitude",e.beatWideAmplitude),r.set("beatslightlength",e.beatSlightLength),r.set("beatslightamplitude",e.beatSlightAmplitude),r}static setProperty(e,r,n){switch(r){case"notewidelength":return e.noteWideLength=n,!0;case"notewideamplitude":return e.noteWideAmplitude=n,!0;case"noteslightlength":return e.noteSlightLength=n,!0;case"noteslightamplitude":return e.noteSlightAmplitude=n,!0;case"beatwidelength":return e.beatWideLength=n,!0;case"beatwideamplitude":return e.beatWideAmplitude=n,!0;case"beatslightlength":return e.beatSlightLength=n,!0;case"beatslightamplitude":return e.beatSlightAmplitude=n,!0}return!1}}class OC{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("simpleslidepitchoffset",e.simpleSlidePitchOffset),r.set("simpleslidedurationratio",e.simpleSlideDurationRatio),r.set("shiftslidedurationratio",e.shiftSlideDurationRatio),r}static setProperty(e,r,n){switch(r){case"simpleslidepitchoffset":return e.simpleSlidePitchOffset=n,!0;case"simpleslidedurationratio":return e.simpleSlideDurationRatio=n,!0;case"shiftslidedurationratio":return e.shiftSlideDurationRatio=n,!0}return!1}}class $C{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("soundfont",e.soundFont),r.set("outputmode",e.outputMode),r.set("enableplayer",e.enablePlayer),r.set("enablecursor",e.enableCursor),r.set("enableanimatedbeatcursor",e.enableAnimatedBeatCursor),r.set("enableelementhighlighting",e.enableElementHighlighting),r.set("enableuserinteraction",e.enableUserInteraction),r.set("scrolloffsetx",e.scrollOffsetX),r.set("scrolloffsety",e.scrollOffsetY),r.set("scrollmode",e.scrollMode),r.set("scrollspeed",e.scrollSpeed),r.set("nativebrowsersmoothscroll",e.nativeBrowserSmoothScroll),r.set("songbookbendduration",e.songBookBendDuration),r.set("songbookdipduration",e.songBookDipDuration),r.set("vibrato",AC.toJson(e.vibrato)),r.set("slide",OC.toJson(e.slide)),r.set("playtripletfeel",e.playTripletFeel),r.set("buffertimeinmilliseconds",e.bufferTimeInMilliseconds),r}static setProperty(e,r,n){switch(r){case"soundfont":return e.soundFont=n,!0;case"scrollelement":return e.scrollElement=n,!0;case"outputmode":return e.outputMode=Qe.parseEnum(n,ly),!0;case"enableplayer":return e.enablePlayer=n,!0;case"enablecursor":return e.enableCursor=n,!0;case"enableanimatedbeatcursor":return e.enableAnimatedBeatCursor=n,!0;case"enableelementhighlighting":return e.enableElementHighlighting=n,!0;case"enableuserinteraction":return e.enableUserInteraction=n,!0;case"scrolloffsetx":return e.scrollOffsetX=n,!0;case"scrolloffsety":return e.scrollOffsetY=n,!0;case"scrollmode":return e.scrollMode=Qe.parseEnum(n,pu),!0;case"scrollspeed":return e.scrollSpeed=n,!0;case"nativebrowsersmoothscroll":return e.nativeBrowserSmoothScroll=n,!0;case"songbookbendduration":return e.songBookBendDuration=n,!0;case"songbookdipduration":return e.songBookDipDuration=n,!0;case"playtripletfeel":return e.playTripletFeel=n,!0;case"buffertimeinmilliseconds":return e.bufferTimeInMilliseconds=n,!0}if(["vibrato"].indexOf(r)>=0)return AC.fromJson(e.vibrato,n),!0;for(const i of["vibrato"])if(r.indexOf(i)===0&&AC.setProperty(e.vibrato,r.substring(i.length),n))return!0;if(["slide"].indexOf(r)>=0)return OC.fromJson(e.slide,n),!0;for(const i of["slide"])if(r.indexOf(i)===0&&OC.setProperty(e.slide,r.substring(i.length),n))return!0;return!1}}class up{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("core",RC.toJson(e.core)),r.set("display",IC.toJson(e.display)),r.set("notation",LC.toJson(e.notation)),r.set("importer",FC.toJson(e.importer)),r.set("player",$C.toJson(e.player)),r}static setProperty(e,r,n){if(["core",""].indexOf(r)>=0)return RC.fromJson(e.core,n),!0;for(const i of["core",""])if(r.indexOf(i)===0&&RC.setProperty(e.core,r.substring(i.length),n))return!0;if(["display",""].indexOf(r)>=0)return IC.fromJson(e.display,n),!0;for(const i of["display",""])if(r.indexOf(i)===0&&IC.setProperty(e.display,r.substring(i.length),n))return!0;if(["notation"].indexOf(r)>=0)return LC.fromJson(e.notation,n),!0;for(const i of["notation"])if(r.indexOf(i)===0&&LC.setProperty(e.notation,r.substring(i.length),n))return!0;if(["importer"].indexOf(r)>=0)return FC.fromJson(e.importer,n),!0;for(const i of["importer"])if(r.indexOf(i)===0&&FC.setProperty(e.importer,r.substring(i.length),n))return!0;if(["player"].indexOf(r)>=0)return $C.fromJson(e.player,n),!0;for(const i of["player"])if(r.indexOf(i)===0&&$C.setProperty(e.player,r.substring(i.length),n))return!0;return!1}}class hh{constructor(){this.core=new xW,this.display=new zwe,this.notation=new iy,this.importer=new Wwe,this.player=new Gwe}setSongBookModeSettings(){this.notation.notationMode=ci.SongBook,this.notation.smallGraceTabNotes=!1,this.notation.fingeringMode=pl.SingleNoteEffectBand,this.notation.extendBendArrowsOnTiedNotes=!1,this.notation.elements.set(Nt.ParenthesisOnTiedBends,!1),this.notation.elements.set(Nt.TabNotesOnTiedBends,!1),this.notation.elements.set(Nt.ZerosOnDiveWhammys,!0)}static get songBook(){let e=new hh;return e.setSongBookModeSettings(),e}fillFromJson(e){up.fromJson(this,e)}}class EF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("marker",e.marker),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"marker":return e.marker=n,!0;case"text":return e.text=n,!0}return!1}}class Ow{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("islinear",e.isLinear),r.set("type",e.type),r.set("value",e.value),r.set("ratioposition",e.ratioPosition),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"islinear":return e.isLinear=n,!0;case"type":return e.type=Qe.parseEnum(n,di),!0;case"value":return e.value=n,!0;case"ratioposition":return e.ratioPosition=n,!0;case"text":return e.text=n,!0}return!1}}class RF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("type",e.type),r.set("length",e.length),r}static setProperty(e,r,n){switch(r){case"type":return e.type=Qe.parseEnum(n,ul),!0;case"length":return e.length=n,!0}return!1}}class DF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("alternateendings",e.alternateEndings),r.set("keysignature",e.keySignature),r.set("keysignaturetype",e.keySignatureType),r.set("isdoublebar",e.isDoubleBar),r.set("isrepeatstart",e.isRepeatStart),r.set("repeatcount",e.repeatCount),r.set("timesignaturenumerator",e.timeSignatureNumerator),r.set("timesignaturedenominator",e.timeSignatureDenominator),r.set("timesignaturecommon",e.timeSignatureCommon),r.set("tripletfeel",e.tripletFeel),r.set("section",EF.toJson(e.section)),r.set("tempoautomation",Ow.toJson(e.tempoAutomation)),e.fermata!==null){const n=new Map;r.set("fermata",n);for(const[i,s]of e.fermata)n.set(i.toString(),RF.toJson(s))}return r.set("start",e.start),r.set("isanacrusis",e.isAnacrusis),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"alternateendings":return e.alternateEndings=n,!0;case"keysignature":return e.keySignature=Qe.parseEnum(n,ni),!0;case"keysignaturetype":return e.keySignatureType=Qe.parseEnum(n,jc),!0;case"isdoublebar":return e.isDoubleBar=n,!0;case"isrepeatstart":return e.isRepeatStart=n,!0;case"repeatcount":return e.repeatCount=n,!0;case"timesignaturenumerator":return e.timeSignatureNumerator=n,!0;case"timesignaturedenominator":return e.timeSignatureDenominator=n,!0;case"timesignaturecommon":return e.timeSignatureCommon=n,!0;case"tripletfeel":return e.tripletFeel=Qe.parseEnum(n,Qt),!0;case"fermata":return e.fermata=new Map,Qe.forEach(n,(i,s)=>{const a=new QM;RF.fromJson(a,i),e.addFermata(parseInt(s),a)}),!0;case"start":return e.start=n,!0;case"isanacrusis":return e.isAnacrusis=n,!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return["section"].indexOf(r)>=0?(n?(e.section=new q1,EF.fromJson(e.section,n)):e.section=null,!0):["tempoautomation"].indexOf(r)>=0?(n?(e.tempoAutomation=new Wi,Ow.fromJson(e.tempoAutomation,n)):e.tempoAutomation=null,!0):!1}}class $w{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("offset",e.offset),r.set("value",e.value),r}static setProperty(e,r,n){switch(r){case"offset":return e.offset=n,!0;case"value":return e.value=n,!0}return!1}}class IF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("accentuated",e.accentuated),r.set("bendtype",e.bendType),r.set("bendstyle",e.bendStyle),r.set("iscontinuedbend",e.isContinuedBend),e.bendPoints!==null&&r.set("bendpoints",(n=e.bendPoints)==null?void 0:n.map(i=>$w.toJson(i))),r.set("fret",e.fret),r.set("string",e.string),r.set("octave",e.octave),r.set("tone",e.tone),r.set("percussionarticulation",e.percussionArticulation),r.set("isvisible",e.isVisible),r.set("islefthandtapped",e.isLeftHandTapped),r.set("ishammerpullorigin",e.isHammerPullOrigin),r.set("isslurdestination",e.isSlurDestination),r.set("harmonictype",e.harmonicType),r.set("harmonicvalue",e.harmonicValue),r.set("isghost",e.isGhost),r.set("isletring",e.isLetRing),r.set("ispalmmute",e.isPalmMute),r.set("isdead",e.isDead),r.set("isstaccato",e.isStaccato),r.set("slideintype",e.slideInType),r.set("slideouttype",e.slideOutType),r.set("vibrato",e.vibrato),r.set("istiedestination",e.isTieDestination),r.set("lefthandfinger",e.leftHandFinger),r.set("righthandfinger",e.rightHandFinger),r.set("isfingering",e.isFingering),r.set("trillvalue",e.trillValue),r.set("trillspeed",e.trillSpeed),r.set("durationpercent",e.durationPercent),r.set("accidentalmode",e.accidentalMode),r.set("dynamics",e.dynamics),e.toJson(r),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"accentuated":return e.accentuated=Qe.parseEnum(n,qn),!0;case"bendtype":return e.bendType=Qe.parseEnum(n,ct),!0;case"bendstyle":return e.bendStyle=Qe.parseEnum(n,Fr),!0;case"iscontinuedbend":return e.isContinuedBend=n,!0;case"bendpoints":if(n){e.bendPoints=[];for(const i of n){const s=new Je;$w.fromJson(s,i),e.addBendPoint(s)}}return!0;case"fret":return e.fret=n,!0;case"string":return e.string=n,!0;case"octave":return e.octave=n,!0;case"tone":return e.tone=n,!0;case"percussionarticulation":return e.percussionArticulation=n,!0;case"isvisible":return e.isVisible=n,!0;case"islefthandtapped":return e.isLeftHandTapped=n,!0;case"ishammerpullorigin":return e.isHammerPullOrigin=n,!0;case"isslurdestination":return e.isSlurDestination=n,!0;case"harmonictype":return e.harmonicType=Qe.parseEnum(n,vt),!0;case"harmonicvalue":return e.harmonicValue=n,!0;case"isghost":return e.isGhost=n,!0;case"isletring":return e.isLetRing=n,!0;case"ispalmmute":return e.isPalmMute=n,!0;case"isdead":return e.isDead=n,!0;case"isstaccato":return e.isStaccato=n,!0;case"slideintype":return e.slideInType=Qe.parseEnum(n,ki),!0;case"slideouttype":return e.slideOutType=Qe.parseEnum(n,jt),!0;case"vibrato":return e.vibrato=Qe.parseEnum(n,pr),!0;case"istiedestination":return e.isTieDestination=n,!0;case"lefthandfinger":return e.leftHandFinger=Qe.parseEnum(n,Vt),!0;case"righthandfinger":return e.rightHandFinger=Qe.parseEnum(n,Vt),!0;case"isfingering":return e.isFingering=n,!0;case"trillvalue":return e.trillValue=n,!0;case"trillspeed":return e.trillSpeed=Qe.parseEnum(n,le),!0;case"durationpercent":return e.durationPercent=n,!0;case"accidentalmode":return e.accidentalMode=Qe.parseEnum(n,Vn),!0;case"dynamics":return e.dynamics=Qe.parseEnum(n,Jt),!0}return e.setProperty(r,n)}}class LF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("notes",e.notes.map(i=>IF.toJson(i))),r.set("isempty",e.isEmpty),r.set("whammystyle",e.whammyStyle),r.set("ottava",e.ottava),r.set("islegatoorigin",e.isLegatoOrigin),r.set("duration",e.duration),r.set("automations",e.automations.map(i=>Ow.toJson(i))),r.set("dots",e.dots),r.set("fadein",e.fadeIn),r.set("lyrics",e.lyrics),r.set("hasrasgueado",e.hasRasgueado),r.set("pop",e.pop),r.set("slap",e.slap),r.set("tap",e.tap),r.set("text",e.text),r.set("brushtype",e.brushType),r.set("brushduration",e.brushDuration),r.set("tupletdenominator",e.tupletDenominator),r.set("tupletnumerator",e.tupletNumerator),r.set("iscontinuedwhammy",e.isContinuedWhammy),r.set("whammybartype",e.whammyBarType),e.whammyBarPoints!==null&&r.set("whammybarpoints",(n=e.whammyBarPoints)==null?void 0:n.map(i=>$w.toJson(i))),r.set("vibrato",e.vibrato),r.set("chordid",e.chordId),r.set("gracetype",e.graceType),r.set("pickstroke",e.pickStroke),r.set("tremolospeed",e.tremoloSpeed),r.set("crescendo",e.crescendo),r.set("displaystart",e.displayStart),r.set("playbackstart",e.playbackStart),r.set("displayduration",e.displayDuration),r.set("playbackduration",e.playbackDuration),r.set("dynamics",e.dynamics),r.set("invertbeamdirection",e.invertBeamDirection),r.set("preferredbeamdirection",e.preferredBeamDirection),r.set("beamingmode",e.beamingMode),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"notes":e.notes=[];for(const i of n){const s=new fa;IF.fromJson(s,i),e.addNote(s)}return!0;case"isempty":return e.isEmpty=n,!0;case"whammystyle":return e.whammyStyle=Qe.parseEnum(n,Fr),!0;case"ottava":return e.ottava=Qe.parseEnum(n,br),!0;case"islegatoorigin":return e.isLegatoOrigin=n,!0;case"duration":return e.duration=Qe.parseEnum(n,le),!0;case"automations":e.automations=[];for(const i of n){const s=new Wi;Ow.fromJson(s,i),e.automations.push(s)}return!0;case"dots":return e.dots=n,!0;case"fadein":return e.fadeIn=n,!0;case"lyrics":return e.lyrics=n,!0;case"hasrasgueado":return e.hasRasgueado=n,!0;case"pop":return e.pop=n,!0;case"slap":return e.slap=n,!0;case"tap":return e.tap=n,!0;case"text":return e.text=n,!0;case"brushtype":return e.brushType=Qe.parseEnum(n,Jr),!0;case"brushduration":return e.brushDuration=n,!0;case"tupletdenominator":return e.tupletDenominator=n,!0;case"tupletnumerator":return e.tupletNumerator=n,!0;case"iscontinuedwhammy":return e.isContinuedWhammy=n,!0;case"whammybartype":return e.whammyBarType=Qe.parseEnum(n,yr),!0;case"whammybarpoints":if(n){e.whammyBarPoints=[];for(const i of n){const s=new Je;$w.fromJson(s,i),e.addWhammyBarPoint(s)}}return!0;case"vibrato":return e.vibrato=Qe.parseEnum(n,pr),!0;case"chordid":return e.chordId=n,!0;case"gracetype":return e.graceType=Qe.parseEnum(n,Tt),!0;case"pickstroke":return e.pickStroke=Qe.parseEnum(n,Fi),!0;case"tremolospeed":return e.tremoloSpeed=Qe.parseEnum(n,le),!0;case"crescendo":return e.crescendo=Qe.parseEnum(n,$s),!0;case"displaystart":return e.displayStart=n,!0;case"playbackstart":return e.playbackStart=n,!0;case"displayduration":return e.displayDuration=n,!0;case"playbackduration":return e.playbackDuration=n,!0;case"dynamics":return e.dynamics=Qe.parseEnum(n,Jt),!0;case"invertbeamdirection":return e.invertBeamDirection=n,!0;case"preferredbeamdirection":return e.preferredBeamDirection=Qe.parseEnum(n,He),!0;case"beamingmode":return e.beamingMode=Qe.parseEnum(n,nl),!0}return!1}}class FF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("beats",e.beats.map(n=>LF.toJson(n))),r.set("isempty",e.isEmpty),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"beats":e.beats=[];for(const i of n){const s=new Ui;LF.fromJson(s,i),e.addBeat(s)}return!0;case"isempty":return e.isEmpty=n,!0}return!1}}class AF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("clef",e.clef),r.set("clefottava",e.clefOttava),r.set("voices",e.voices.map(n=>FF.toJson(n))),r.set("similemark",e.simileMark),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"clef":return e.clef=Qe.parseEnum(n,zt),!0;case"clefottava":return e.clefOttava=Qe.parseEnum(n,br),!0;case"voices":e.voices=[];for(const i of n){const s=new jl;FF.fromJson(s,i),e.addVoice(s)}return!0;case"similemark":return e.simileMark=Qe.parseEnum(n,Ia),!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return!1}}class OF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("name",e.name),r.set("firstfret",e.firstFret),r.set("strings",e.strings),r.set("barrefrets",e.barreFrets),r.set("showname",e.showName),r.set("showdiagram",e.showDiagram),r.set("showfingering",e.showFingering),r}static setProperty(e,r,n){switch(r){case"name":return e.name=n,!0;case"firstfret":return e.firstFret=n,!0;case"strings":return e.strings=n,!0;case"barrefrets":return e.barreFrets=n,!0;case"showname":return e.showName=n,!0;case"showdiagram":return e.showDiagram=n,!0;case"showfingering":return e.showFingering=n,!0}return!1}}class $F{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("isstandard",e.isStandard),r.set("name",e.name),r.set("tunings",e.tunings),r}static setProperty(e,r,n){switch(r){case"isstandard":return e.isStandard=n,!0;case"name":return e.name=n,!0;case"tunings":return e.tunings=n,!0}return!1}}class VF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("bars",e.bars.map(n=>AF.toJson(n))),e.chords!==null){const n=new Map;r.set("chords",n);for(const[i,s]of e.chords)n.set(i.toString(),OF.toJson(s))}return r.set("capo",e.capo),r.set("transpositionpitch",e.transpositionPitch),r.set("displaytranspositionpitch",e.displayTranspositionPitch),r.set("stringtuning",$F.toJson(e.stringTuning)),r.set("showtablature",e.showTablature),r.set("showstandardnotation",e.showStandardNotation),r.set("ispercussion",e.isPercussion),r.set("standardnotationlinecount",e.standardNotationLineCount),r}static setProperty(e,r,n){switch(r){case"bars":e.bars=[];for(const i of n){const s=new Hu;AF.fromJson(s,i),e.addBar(s)}return!0;case"chords":return e.chords=new Map,Qe.forEach(n,(i,s)=>{const a=new Gc;OF.fromJson(a,i),e.addChord(s,a)}),!0;case"capo":return e.capo=n,!0;case"transpositionpitch":return e.transpositionPitch=n,!0;case"displaytranspositionpitch":return e.displayTranspositionPitch=n,!0;case"showtablature":return e.showTablature=n,!0;case"showstandardnotation":return e.showStandardNotation=n,!0;case"ispercussion":return e.isPercussion=n,!0;case"standardnotationlinecount":return e.standardNotationLineCount=n,!0}return["stringtuning"].indexOf(r)>=0?($F.fromJson(e.stringTuning,n),!0):!1}}class zF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("volume",e.volume),r.set("balance",e.balance),r.set("port",e.port),r.set("program",e.program),r.set("primarychannel",e.primaryChannel),r.set("secondarychannel",e.secondaryChannel),r.set("ismute",e.isMute),r.set("issolo",e.isSolo),r}static setProperty(e,r,n){switch(r){case"volume":return e.volume=n,!0;case"balance":return e.balance=n,!0;case"port":return e.port=n,!0;case"program":return e.program=n,!0;case"primarychannel":return e.primaryChannel=n,!0;case"secondarychannel":return e.secondaryChannel=n,!0;case"ismute":return e.isMute=n,!0;case"issolo":return e.isSolo=n,!0}return!1}}class WF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("elementtype",e.elementType),r.set("staffline",e.staffLine),r.set("noteheaddefault",e.noteHeadDefault),r.set("noteheadhalf",e.noteHeadHalf),r.set("noteheadwhole",e.noteHeadWhole),r.set("techniquesymbol",e.techniqueSymbol),r.set("techniquesymbolplacement",e.techniqueSymbolPlacement),r.set("outputmidinumber",e.outputMidiNumber),r}static setProperty(e,r,n){switch(r){case"elementtype":return e.elementType=n,!0;case"staffline":return e.staffLine=n,!0;case"noteheaddefault":return e.noteHeadDefault=Qe.parseEnum(n,R),!0;case"noteheadhalf":return e.noteHeadHalf=Qe.parseEnum(n,R),!0;case"noteheadwhole":return e.noteHeadWhole=Qe.parseEnum(n,R),!0;case"techniquesymbol":return e.techniqueSymbol=Qe.parseEnum(n,R),!0;case"techniquesymbolplacement":return e.techniqueSymbolPlacement=Qe.parseEnum(n,Xt),!0;case"outputmidinumber":return e.outputMidiNumber=n,!0}return!1}}class HF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("staves",e.staves.map(n=>VF.toJson(n))),r.set("playbackinfo",zF.toJson(e.playbackInfo)),r.set("color",fn.toJson(e.color)),r.set("name",e.name),r.set("shortname",e.shortName),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("percussionarticulations",e.percussionArticulations.map(n=>WF.toJson(n))),r}static setProperty(e,r,n){switch(r){case"staves":e.staves=[];for(const i of n){const s=new Lz;VF.fromJson(s,i),e.addStaff(s)}return!0;case"color":return e.color=fn.fromJson(n),!0;case"name":return e.name=n,!0;case"shortname":return e.shortName=n,!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0;case"percussionarticulations":e.percussionArticulations=[];for(const i of n){const s=new nt;WF.fromJson(s,i),e.percussionArticulations.push(s)}return!0}return["playbackinfo"].indexOf(r)>=0?(zF.fromJson(e.playbackInfo,n),!0):!1}}class UF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("hidedynamics",e.hideDynamics),r}static setProperty(e,r,n){switch(r){case"hidedynamics":return e.hideDynamics=n,!0}return!1}}class GF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("album",e.album),r.set("artist",e.artist),r.set("copyright",e.copyright),r.set("instructions",e.instructions),r.set("music",e.music),r.set("notices",e.notices),r.set("subtitle",e.subTitle),r.set("title",e.title),r.set("words",e.words),r.set("tab",e.tab),r.set("tempo",e.tempo),r.set("tempolabel",e.tempoLabel),r.set("masterbars",e.masterBars.map(n=>DF.toJson(n))),r.set("tracks",e.tracks.map(n=>HF.toJson(n))),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("stylesheet",UF.toJson(e.stylesheet)),r}static setProperty(e,r,n){switch(r){case"album":return e.album=n,!0;case"artist":return e.artist=n,!0;case"copyright":return e.copyright=n,!0;case"instructions":return e.instructions=n,!0;case"music":return e.music=n,!0;case"notices":return e.notices=n,!0;case"subtitle":return e.subTitle=n,!0;case"title":return e.title=n,!0;case"words":return e.words=n,!0;case"tab":return e.tab=n,!0;case"tempo":return e.tempo=n,!0;case"tempolabel":return e.tempoLabel=n,!0;case"masterbars":e.masterBars=[];for(const i of n){const s=new Lu;DF.fromJson(s,i),e.addMasterBar(s)}return!0;case"tracks":e.tracks=[];for(const i of n){const s=new Gl;HF.fromJson(s,i),e.addTrack(s)}return!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0}return["stylesheet"].indexOf(r)>=0?(UF.fromJson(e.stylesheet,n),!0):!1}}class zn{static jsonReplacer(e,r){if(r instanceof Map){if("fromEntries"in Object)return Object.fromEntries(r);{const n={};for(const[i,s]of r)n[i]=s;return n}}else if(ArrayBuffer.isView(r))return Array.apply([],[r]);return r}static scoreToJson(e){let r=zn.scoreToJsObject(e);return JSON.stringify(r,zn.jsonReplacer)}static jsonToScore(e,r){return zn.jsObjectToScore(JSON.parse(e),r)}static scoreToJsObject(e){return GF.toJson(e)}static jsObjectToScore(e,r){let n=new Ch;return GF.fromJson(n,e),n.finish(r??new hh),n}static settingsToJson(e){let r=zn.settingsToJsObject(e);return JSON.stringify(r,zn.jsonReplacer)}static jsonToSettings(e){return zn.jsObjectToSettings(JSON.parse(e))}static settingsToJsObject(e){return up.toJson(e)}static jsObjectToSettings(e){let r=new hh;return up.fromJson(r,e),r}static jsObjectToMidiFile(e){let r=new Fc;return Qe.forEach(e,(n,i)=>{switch(i){case"division":r.division=n;break;case"tracks":for(let s of n){let a=zn.jsObjectToMidiTrack(s);r.tracks.push(a)}break}}),r}static jsObjectToMidiTrack(e){let r=new $z;return Qe.forEach(e,(n,i)=>{switch(i){case"events":for(let s of n){let a=zn.jsObjectToMidiEvent(s);r.events.push(a)}break}}),r}static jsObjectToMidiEvent(e){let r=Qe.getValue(e,"track"),n=Qe.getValue(e,"tick"),i=Qe.getValue(e,"type");switch(i){case or.TimeSignature:return new Vz(r,n,Qe.getValue(e,"numerator"),Qe.getValue(e,"denominatorIndex"),Qe.getValue(e,"midiClocksPerMetronomeClick"),Qe.getValue(e,"thirdySecondNodesInQuarter"));case or.AlphaTabRest:return new Wz(r,n,Qe.getValue(e,"channel"));case or.AlphaTabMetronome:return new zz(r,n,Qe.getValue(e,"metronomeNumerator"),Qe.getValue(e,"metronomeDurationInTicks"),Qe.getValue(e,"metronomeDurationInMilliseconds"));case or.NoteOn:return new Uz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"noteVelocity"));case or.NoteOff:return new Gz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"noteVelocity"));case or.ControlChange:return new jz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"controller"),Qe.getValue(e,"value"));case or.ProgramChange:return new Yz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"program"));case or.TempoChange:return new Xz(n,Qe.getValue(e,"microSecondsPerQuarterNote"));case or.PitchBend:return new qz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"value"));case or.PerNotePitchBend:return new Kz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"value"));case or.EndOfTrack:return new Qz(r,n)}throw new _i(Ci.Format,"Unknown Midi Event type: "+i)}static midiFileToJsObject(e){const r=new Map;r.set("division",e.division);const n=[];for(let i of e.tracks)n.push(zn.midiTrackToJsObject(i));return r.set("tracks",n),r}static midiTrackToJsObject(e){const r=new Map,n=[];for(let i of e.events)n.push(zn.midiEventToJsObject(i));return r.set("events",n),r}static midiEventToJsObject(e){const r=new Map;switch(r.set("track",e.track),r.set("tick",e.tick),r.set("type",e.type),e.type){case or.TimeSignature:r.set("numerator",e.numerator),r.set("denominatorIndex",e.denominatorIndex),r.set("midiClocksPerMetronomeClick",e.midiClocksPerMetronomeClick),r.set("thirdySecondNodesInQuarter",e.thirtySecondNodesInQuarter);break;case or.AlphaTabRest:r.set("channel",e.channel);break;case or.AlphaTabMetronome:r.set("metronomeNumerator",e.metronomeNumerator),r.set("metronomeDurationInMilliseconds",e.metronomeDurationInMilliseconds),r.set("metronomeDurationInTicks",e.metronomeDurationInTicks);break;case or.NoteOn:case or.NoteOff:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("noteVelocity",e.noteVelocity);break;case or.ControlChange:r.set("channel",e.channel),r.set("controller",e.controller),r.set("value",e.value);break;case or.ProgramChange:r.set("channel",e.channel),r.set("program",e.program);break;case or.TempoChange:r.set("microSecondsPerQuarterNote",e.microSecondsPerQuarterNote);break;case or.PitchBend:r.set("channel",e.channel),r.set("value",e.value);break;case or.PerNotePitchBend:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("value",e.value);break;case or.EndOfTrack:break}return r}}class pn{constructor(){this.ready=new hi,this.samplesPlayed=new lr,this.sampleRequest=new hi}get sampleRate(){return pn.preferredSampleRate}open(){Fe.debug("AlphaSynth","Initializing synth worker"),this._worker=Ue.globalThis,this._worker.addEventListener("message",this.handleMessage.bind(this)),this.ready.trigger()}destroy(){this._worker.postMessage({cmd:"alphaSynth.output.destroy"})}handleMessage(e){let r=e.data;switch(r.cmd){case pn.CmdOutputSampleRequest:this.sampleRequest.trigger();break;case pn.CmdOutputSamplesPlayed:this.samplesPlayed.trigger(r.samples);break}}addSamples(e){this._worker.postMessage({cmd:"alphaSynth.output.addSamples",samples:e})}play(){this._worker.postMessage({cmd:"alphaSynth.output.play"})}pause(){this._worker.postMessage({cmd:"alphaSynth.output.pause"})}resetSamples(){this._worker.postMessage({cmd:"alphaSynth.output.resetSamples"})}activate(){}}pn.CmdOutputPrefix="alphaSynth.output.";pn.CmdOutputAddSamples=pn.CmdOutputPrefix+"addSamples";pn.CmdOutputPlay=pn.CmdOutputPrefix+"play";pn.CmdOutputPause=pn.CmdOutputPrefix+"pause";pn.CmdOutputResetSamples=pn.CmdOutputPrefix+"resetSamples";pn.CmdOutputSampleRequest=pn.CmdOutputPrefix+"sampleRequest";pn.CmdOutputSamplesPlayed=pn.CmdOutputPrefix+"samplesPlayed";pn.preferredSampleRate=0;class rN{constructor(e,r){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this)),this._player=new $we(new pn,r),this._player.positionChanged.on(this.onPositionChanged.bind(this)),this._player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this._player.finished.on(this.onFinished.bind(this)),this._player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.midiLoaded.on(this.onMidiLoaded.bind(this)),this._player.midiLoadFailed.on(this.onMidiLoadFailed.bind(this)),this._player.readyForPlayback.on(this.onReadyForPlayback.bind(this)),this._player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this._player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this._main.postMessage({cmd:"alphaSynth.ready"})}static init(){let e=Ue.globalThis;e.addEventListener("message",r=>{let n=r.data;switch(n.cmd){case"alphaSynth.initialize":pn.preferredSampleRate=n.sampleRate,Fe.logLevel=n.logLevel,Ue.globalThis.alphaSynthWebWorker=new rN(e,n.bufferTimeInMilliseconds);break}})}handleMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.setLogLevel":Fe.logLevel=r.value;break;case"alphaSynth.setMasterVolume":this._player.masterVolume=r.value;break;case"alphaSynth.setMetronomeVolume":this._player.metronomeVolume=r.value;break;case"alphaSynth.setPlaybackSpeed":this._player.playbackSpeed=r.value;break;case"alphaSynth.setTickPosition":this._player.tickPosition=r.value;break;case"alphaSynth.setTimePosition":this._player.timePosition=r.value;break;case"alphaSynth.setPlaybackRange":this._player.playbackRange=r.value;break;case"alphaSynth.setIsLooping":this._player.isLooping=r.value;break;case"alphaSynth.setCountInVolume":this._player.countInVolume=r.value;break;case"alphaSynth.setMidiEventsPlayedFilter":this._player.midiEventsPlayedFilter=r.value;break;case"alphaSynth.play":this._player.play();break;case"alphaSynth.pause":this._player.pause();break;case"alphaSynth.playPause":this._player.playPause();break;case"alphaSynth.stop":this._player.stop();break;case"alphaSynth.playOneTimeMidiFile":this._player.playOneTimeMidiFile(zn.jsObjectToMidiFile(r.midi));break;case"alphaSynth.loadSoundFontBytes":this._player.loadSoundFont(r.data,r.append);break;case"alphaSynth.resetSoundFonts":this._player.resetSoundFonts();break;case"alphaSynth.loadMidi":this._player.loadMidiFile(zn.jsObjectToMidiFile(r.midi));break;case"alphaSynth.setChannelMute":this._player.setChannelMute(r.channel,r.mute);break;case"alphaSynth.setChannelSolo":this._player.setChannelSolo(r.channel,r.solo);break;case"alphaSynth.setChannelVolume":this._player.setChannelVolume(r.channel,r.volume);break;case"alphaSynth.resetChannelStates":this._player.resetChannelStates();break;case"alphaSynth.destroy":this._player.destroy(),this._main.postMessage({cmd:"alphaSynth.destroyed"});break;case"alphaSynth.applyTranspositionPitches":this._player.applyTranspositionPitches(new Map(JSON.parse(r.transpositionPitches)));break}}onPositionChanged(e){this._main.postMessage({cmd:"alphaSynth.positionChanged",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onPlayerStateChanged(e){this._main.postMessage({cmd:"alphaSynth.playerStateChanged",state:e.state,stopped:e.stopped})}onFinished(){this._main.postMessage({cmd:"alphaSynth.finished"})}onSoundFontLoaded(){this._main.postMessage({cmd:"alphaSynth.soundFontLoaded"})}onSoundFontLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.soundFontLoadFailed",error:this.serializeException(e)})}serializeException(e){let r=JSON.parse(JSON.stringify(e));return e.message&&(r.message=e.message),e.stack&&(r.stack=e.stack),e.constructor&&e.constructor.name&&(r.type=e.constructor.name),r}onMidiLoaded(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onMidiLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",error:this.serializeException(e)})}onReadyForPlayback(){this._main.postMessage({cmd:"alphaSynth.readyForPlayback"})}onMidiEventsPlayed(e){this._main.postMessage({cmd:"alphaSynth.midiEventsPlayed",events:e.events.map(zn.midiEventToJsObject)})}onPlaybackRangeChanged(e){this._main.postMessage({cmd:"alphaSynth.playbackRangeChanged",playbackRange:e.playbackRange})}}class Wn{static generateFontLookup(e){if(!Wn.FontSizeLookupTables.has(e))if(Ue.isRunningInWorker)Wn.FontSizeLookupTables.set(e,new Uint8Array([8]));else{let n=document.createElement("canvas").getContext("2d");n.font=`11px ${e}`;let i=[];for(let a=32;a<255;a++){let o=String.fromCharCode(a);i.push(n.measureText(o).width)}let s=new Uint8Array(i);Wn.FontSizeLookupTables.set(e,s)}}static measureString(e,r,n,i,s){let a,o=11,l=r[0];for(let h=0;h<r.length;h++)if(Wn.FontSizeLookupTables.has(r[h])){l=r[h];break}Wn.FontSizeLookupTables.has(l)||Wn.generateFontLookup(l),a=Wn.FontSizeLookupTables.get(l);let u=1;i===vn.Italic&&(u*=1.2),s===ta.Bold&&(u*=1.2);let c=0;for(let h=0;h<e.length;h++){let f=Math.min(a.length-1,e.charCodeAt(h)-32);f>=0&&(c+=a[f]*n/o)}return c*u}}Wn.Georgia=new Uint8Array([3,4,5,7,7,9,8,2,4,4,5,7,3,4,3,5,7,5,6,6,6,6,6,6,7,6,3,3,7,7,7,5,10,7,7,7,8,7,7,8,9,4,6,8,7,10,8,8,7,8,8,6,7,8,7,11,8,7,7,4,5,4,7,7,6,6,6,5,6,5,4,6,6,3,3,6,3,10,6,6,6,6,5,5,4,6,5,8,6,5,5,5,4,5,7,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,4,6,7,6,7,4,6,6,10,6,6,7,0,10,7,5,7,6,6,6,6,6,3,6,6,6,6,12,12,12,5,7,7,7,7,7,7,11,7,7,7,7,7,4,4,4,4,8,8,8,8,8,8,8,7,8,8,8,8,8,7,7,6,6,6,6,6,6,6,8,5,5,5,5,5,3,3,3,3,6,6,6,6,6,6,6,7,6,6,6,6,6,5,6]);Wn.Arial=new Uint8Array([3,3,4,6,6,10,7,2,4,4,4,6,3,4,3,3,6,6,6,6,6,6,6,6,6,6,3,3,6,6,6,6,11,7,7,8,8,7,7,9,8,3,6,7,6,9,8,9,7,9,8,7,7,8,7,10,7,7,7,3,3,3,5,6,4,6,6,6,6,6,3,6,6,2,2,6,2,9,6,6,6,6,4,6,3,6,6,8,6,6,6,4,3,4,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,4,6,6,6,6,3,6,4,8,4,6,6,0,8,6,4,6,4,4,4,6,6,4,4,4,4,6,9,9,9,7,7,7,7,7,7,7,11,8,7,7,7,7,3,3,3,3,8,8,9,9,9,9,9,6,9,8,8,8,8,7,7,7,6,6,6,6,6,6,10,6,6,6,6,6,3,3,3,3,6,6,6,6,6,6,6,6,7,6,6,6,6,6,6]);Wn.FontSizeLookupTables=new Map([["Arial",Wn.Arial],["'Arial'",Wn.Arial],['"Arial"',Wn.Arial],["Georgia",Wn.Georgia],["'Georgia'",Wn.Georgia],['"Georgia"',Wn.Georgia]]);Wn.ControlChars=32;class $d{constructor(){this.id=Xr.newGuid(),this.x=0,this.y=0,this.width=0,this.height=0,this.totalWidth=0,this.totalHeight=0,this.firstMasterBarIndex=-1,this.lastMasterBarIndex=-1,this.renderResult=null}}class rW{constructor(){this.beats=[]}addBeat(e){e.barBounds=this,this.beats.push(e),this.masterBarBounds.addBeat(e)}findBeatAtPos(e){let r=null;for(let n of this.beats)if(!r||n.realBounds.x<e)r=n;else if(n.realBounds.x>e)break;return r}finish(){this.beats.sort((e,r)=>e.realBounds.x-r.realBounds.x)}}class nW{constructor(){this.notes=null}addNote(e){this.notes||(this.notes=[]),e.beatBounds=this,this.notes.push(e)}findNoteAtPos(e,r){const n=this.notes;if(!n)return null;for(let i of n){let s=i.noteHeadBounds.y+i.noteHeadBounds.h,a=i.noteHeadBounds.x+i.noteHeadBounds.w;if(i.noteHeadBounds.x<=e&&i.noteHeadBounds.y<=r&&e<=a&&r<=s)return i.note}return null}}class iW{constructor(){this.index=0,this.isFirstOfLine=!1,this.bars=[],this.staveGroupBounds=null}addBar(e){e.masterBarBounds=this,this.bars.push(e)}findBeatAtPos(e,r){let n=null,i=1e7;for(let s of this.bars){let a=s.findBeatAtPos(e);if(a&&(!n||n.realBounds.x<a.realBounds.x)){const o=Math.abs(a.realBounds.x-e);(!n||o<i)&&(n=a)}}return n?n.beat:null}finish(){this.bars.sort((e,r)=>e.realBounds.y<r.realBounds.y?-1:e.realBounds.y>r.realBounds.y?1:e.realBounds.x<r.realBounds.x?-1:e.realBounds.x>r.realBounds.x?1:0);for(const e of this.bars)e.finish()}addBeat(e){this.staveGroupBounds.boundsLookup.addBeat(e)}}class nN{}class sW{constructor(){this.index=0,this.bars=[]}finish(){for(let e of this.bars)e.finish()}addBar(e){this.boundsLookup.addMasterBar(e),e.staveGroupBounds=this,this.bars.push(e)}findBarAtPos(e){let r=null;for(let n of this.bars)if(!r||n.realBounds.x<e)r=n;else if(e>n.realBounds.x+n.realBounds.w)break;return r}}class uy{constructor(){this._beatLookup=new Map,this._masterBarLookup=new Map,this._currentStaveGroup=null,this.staveGroups=[],this.isFinished=!1}toJson(){let e={},r=[];e.staveGroups=r;for(let n of this.staveGroups){let i={};i.visualBounds=this.boundsToJson(n.visualBounds),i.realBounds=this.boundsToJson(n.realBounds),i.bars=[];for(let s of n.bars){let a={};a.lineAlignedBounds=this.boundsToJson(s.lineAlignedBounds),a.visualBounds=this.boundsToJson(s.visualBounds),a.realBounds=this.boundsToJson(s.realBounds),a.index=s.index,a.bars=[];for(let o of s.bars){let l={};l.visualBounds=this.boundsToJson(o.visualBounds),l.realBounds=this.boundsToJson(o.realBounds),l.beats=[];for(let u of o.beats){let c={};c.visualBounds=this.boundsToJson(u.visualBounds),c.realBounds=this.boundsToJson(u.realBounds);let h=c;if(h.beatIndex=u.beat.index,h.voiceIndex=u.beat.voice.index,h.barIndex=u.beat.voice.bar.index,h.staffIndex=u.beat.voice.bar.staff.index,h.trackIndex=u.beat.voice.bar.staff.track.index,u.notes){let f=c.notes=[];for(let g of u.notes){let m={},y=m;y.index=g.note.index,m.noteHeadBounds=this.boundsToJson(g.noteHeadBounds),f.push(m)}}l.beats.push(c)}a.bars.push(l)}i.bars.push(a)}r.push(i)}return e}static fromJson(e,r){let n=new uy,i=e.staveGroups;for(let s of i){let a=new sW;a.visualBounds=s.visualBounds,a.realBounds=s.realBounds,n.addStaveGroup(a);for(let o of s.bars){let l=new iW;l.index=o.index,l.isFirstOfLine=o.isFirstOfLine,l.lineAlignedBounds=o.lineAlignedBounds,l.visualBounds=o.visualBounds,l.realBounds=o.realBounds,a.addBar(l);for(let u of o.bars){let c=new rW;c.visualBounds=u.visualBounds,c.realBounds=u.realBounds,l.addBar(c);for(let h of u.beats){let f=new nW;f.visualBounds=h.visualBounds,f.realBounds=h.realBounds;let g=h;if(f.beat=r.tracks[g.trackIndex].staves[g.staffIndex].bars[g.barIndex].voices[g.voiceIndex].beats[g.beatIndex],h.notes){f.notes=[];for(let m of h.notes){let y=new nN,b=m;y.note=f.beat.notes[b.index],y.noteHeadBounds=m.noteHeadBounds,f.addNote(y)}}c.addBeat(f)}}}}return n}boundsToJson(e){let r={};return r.x=e.x,r.y=e.y,r.w=e.w,r.h=e.h,r}finish(){for(let e of this.staveGroups)e.finish();this.isFinished=!0}addStaveGroup(e){e.index=this.staveGroups.length,e.boundsLookup=this,this.staveGroups.push(e),this._currentStaveGroup=e}addMasterBar(e){e.staveGroupBounds?this._masterBarLookup.set(e.index,e):(e.staveGroupBounds=this._currentStaveGroup,this._masterBarLookup.set(e.index,e),this._currentStaveGroup.addBar(e))}addBeat(e){var r;this._beatLookup.has(e.beat.id)||this._beatLookup.set(e.beat.id,[]),(r=this._beatLookup.get(e.beat.id))==null||r.push(e)}findMasterBarByIndex(e){return this._masterBarLookup.has(e)?this._masterBarLookup.get(e):null}findMasterBar(e){let r=e.index;return this._masterBarLookup.has(r)?this._masterBarLookup.get(r):null}findBeat(e){const r=this.findBeats(e);return r?r[0]:null}findBeats(e){let r=e.id;return this._beatLookup.has(r)?this._beatLookup.get(r):null}getBeatAtPos(e,r){let n=0,i=this.staveGroups.length-1,s=-1;for(;n<=i;){let l=(i+n)/2|0,u=this.staveGroups[l];if(r>=u.realBounds.y&&r<=u.realBounds.y+u.realBounds.h){s=l;break}r<u.realBounds.y?i=l-1:n=l+1}if(s===-1)return null;let o=this.staveGroups[s].findBarAtPos(e);return o?o.findBeatAtPos(e,r):null}getNoteAtPos(e,r,n){const i=this.findBeats(e);if(i)for(const s of i){const a=s.findNoteAtPos(r,n);if(a)return a}return null}}class aW{constructor(e){this._currentLayoutMode=Tu.Page,this._currentRenderEngine=null,this._renderedTracks=null,this.canvas=null,this.score=null,this.tracks=null,this.layout=null,this.boundsLookup=null,this.width=0,this.preRender=new lr,this.renderFinished=new lr,this.partialRenderFinished=new lr,this.partialLayoutFinished=new lr,this.postRenderFinished=new hi,this.error=new lr,this.settings=e,this.recreateCanvas(),this.recreateLayout()}destroy(){var e;this.score=null,(e=this.canvas)==null||e.destroy(),this.canvas=null,this.layout=null,this.boundsLookup=null,this.tracks=null}recreateCanvas(){var e;return this._currentRenderEngine!==this.settings.core.engine?((e=this.canvas)==null||e.destroy(),this.canvas=Ue.getRenderEngineFactory(this.settings.core.engine).createCanvas(),this._currentRenderEngine=this.settings.core.engine,!0):!1}recreateLayout(){return!this.layout||this._currentLayoutMode!==this.settings.display.layoutMode?(this.layout=Ue.getLayoutEngineFactory(this.settings.display.layoutMode).createLayout(this),this._currentLayoutMode=this.settings.display.layoutMode,!0):!1}renderScore(e,r){try{this.score=e;let n=null;if(e!=null&&r!=null){if(!r)n=e.tracks.slice(0);else{n=[];for(let i of r)i>=0&&i<e.tracks.length&&n.push(e.tracks[i])}n.length===0&&e.tracks.length>0&&n.push(e.tracks[0])}this.tracks=n,this.render()}catch(n){this.error.trigger(n)}}renderTracks(e){e.length===0?this.score=null:this.score=e[0].score,this.tracks=e,this.render()}updateSettings(e){this.settings=e}renderResult(e){try{const r=this.layout;r?(Fe.debug("Rendering","Request render of lazy partial "+e),r.renderLazyPartial(e)):Fe.warning("Rendering","Request render of lazy partial "+e+" ignored, no layout exists")}catch(r){this.error.trigger(r)}}render(){if(this.width===0){Fe.warning("Rendering","AlphaTab skipped rendering because of width=0 (element invisible)",null);return}if(this.boundsLookup=new uy,this.recreateCanvas(),this.canvas.lineWidth=this.settings.display.scale,this.canvas.settings=this.settings,!this.tracks||this.tracks.length===0||!this.score)Fe.debug("Rendering","Clearing rendered tracks because no score or tracks are set"),this.preRender.trigger(!1),this._renderedTracks=null,this.onRenderFinished(),this.postRenderFinished.trigger(),Fe.debug("Rendering","Clearing finished");else{Fe.debug("Rendering","Rendering "+this.tracks.length+" tracks");for(let e=0;e<this.tracks.length;e++){let r=this.tracks[e];Fe.debug("Rendering","Track "+e+": "+r.name)}this.preRender.trigger(!1),this.recreateLayout(),this.layoutAndRender(),Fe.debug("Rendering","Rendering finished")}}resizeRender(){this.recreateLayout()||this.recreateCanvas()||this._renderedTracks!==this.tracks||!this.tracks?(Fe.debug("Rendering","Starting full rerendering due to layout or canvas change",null),this.render()):this.layout.supportsResize?(Fe.debug("Rendering","Starting optimized rerendering for resize"),this.boundsLookup=new uy,this.preRender.trigger(!0),this.canvas.settings=this.settings,this.layout.resize(),this.onRenderFinished(),this.postRenderFinished.trigger()):Fe.debug("Rendering","Current layout does not support dynamic resizing, nothing was done",null),Fe.debug("Rendering","Resize finished")}layoutAndRender(){Fe.debug("Rendering","Rendering at scale "+this.settings.display.scale+" with layout "+this.layout.name,null),this.layout.layoutAndRender(),this._renderedTracks=this.tracks,this.onRenderFinished(),this.postRenderFinished.trigger()}onRenderFinished(){var r;(r=this.boundsLookup)==null||r.finish();const e=new $d;e.totalHeight=this.layout.height,e.totalWidth=this.layout.width,e.renderResult=this.canvas.onRenderFinished(),this.renderFinished.trigger(e)}}class iN{constructor(e){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this),!1)}static init(){Ue.globalThis.alphaTabWebWorker=new iN(Ue.globalThis)}handleMessage(e){let r=e.data;switch(r?r.cmd:""){case"alphaTab.initialize":let i=zn.jsObjectToSettings(r.settings);Fe.logLevel=i.core.logLevel,this._renderer=new aW(i),this._renderer.partialRenderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialRenderFinished",result:a})}),this._renderer.partialLayoutFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialLayoutFinished",result:a})}),this._renderer.renderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.renderFinished",result:a})}),this._renderer.postRenderFinished.on(()=>{var a;this._main.postMessage({cmd:"alphaTab.postRenderFinished",boundsLookup:((a=this._renderer.boundsLookup)==null?void 0:a.toJson())??null})}),this._renderer.preRender.on(a=>{this._main.postMessage({cmd:"alphaTab.preRender",resize:a})}),this._renderer.error.on(this.error.bind(this));break;case"alphaTab.invalidate":this._renderer.render();break;case"alphaTab.resizeRender":this._renderer.resizeRender();break;case"alphaTab.renderResult":this._renderer.renderResult(r.resultId);break;case"alphaTab.setWidth":this._renderer.width=r.width;break;case"alphaTab.renderScore":this.updateFontSizes(r.fontSizes);let s=r.score==null?null:zn.jsObjectToScore(r.score,this._renderer.settings);this.renderMultiple(s,r.trackIndexes);break;case"alphaTab.updateSettings":this.updateSettings(r.settings);break}}updateFontSizes(e){if(e){Wn.FontSizeLookupTables||(Wn.FontSizeLookupTables=new Map);for(let r in e)Wn.FontSizeLookupTables.set(r,e[r])}}updateSettings(e){up.fromJson(this._renderer.settings,e)}renderMultiple(e,r){try{this._renderer.renderScore(e,r)}catch(n){this.error(n)}}error(e){Fe.error("Worker","An unexpected error occurred in worker",e),this._main.postMessage({cmd:"alphaTab.error",error:e})}}class jwe{constructor(){this._canvas=null,this._color=new fn(0,0,0,255),this._font=new fr("Arial",10,vn.Plain),this._lineWidth=0;let e=document.createElement("span");e.classList.add("at"),document.body.appendChild(e);let r=window.getComputedStyle(e),n=r.fontFamily;(n.startsWith('"')||n.startsWith("'"))&&(n=n.substr(1,n.length-2)),this._musicFont=new fr(n,parseFloat(r.fontSize),vn.Plain),this._measureCanvas=document.createElement("canvas"),this._measureCanvas.width=10,this._measureCanvas.height=10,this._measureCanvas.style.width="10px",this._measureCanvas.style.height="10px",this._measureContext=this._measureCanvas.getContext("2d"),this._measureContext.textBaseline="hanging"}destroy(){}onRenderFinished(){return null}beginRender(e,r){this._canvas=document.createElement("canvas"),this._canvas.width=e*Ue.HighDpiFactor|0,this._canvas.height=r*Ue.HighDpiFactor|0,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px",this._context=this._canvas.getContext("2d"),this._context.textBaseline="hanging",this._context.scale(Ue.HighDpiFactor,Ue.HighDpiFactor),this._context.lineWidth=this._lineWidth}endRender(){let e=this._canvas;return this._canvas=null,e}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._context.strokeStyle=e.rgba,this._context.fillStyle=e.rgba)}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._context&&(this._context.lineWidth=e)}fillRect(e,r,n,i){n>0&&this._context.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e|0,r|0,n,i)}beginPath(){this._context.beginPath()}closePath(){this._context.closePath()}moveTo(e,r){this._context.moveTo(e,r)}lineTo(e,r){this._context.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._context.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.fill()}strokeCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.stroke()}fill(){this._context.fill(),this._context.beginPath()}stroke(){this._context.stroke(),this._context.beginPath()}get font(){return this._font}set font(e){this._font=e,this._context&&(this._context.font=e.toCssString(this.settings.display.scale)),this._measureContext.font=e.toCssString(this.settings.display.scale)}get textAlign(){switch(this._context.textAlign){case"left":return kt.Left;case"center":return kt.Center;case"right":return kt.Right;default:return kt.Left}}set textAlign(e){switch(e){case kt.Left:this._context.textAlign="left";break;case kt.Center:this._context.textAlign="center";break;case kt.Right:this._context.textAlign="right";break}}get textBaseline(){switch(this._context.textBaseline){case"hanging":return Xt.Top;case"middle":return Xt.Middle;case"bottom":return Xt.Bottom;default:return Xt.Top}}set textBaseline(e){switch(e){case Xt.Top:this._context.textBaseline="hanging";break;case Xt.Middle:this._context.textBaseline="middle";break;case Xt.Bottom:this._context.textBaseline="bottom";break}}beginGroup(e){}endGroup(){}fillText(e,r,n){this._context.fillText(e,r,n)}measureText(e){return this._measureContext.measureText(e).width}fillMusicFontSymbol(e,r,n,i,s=!1){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s=!1){let a="";for(let o of i)o!==R.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s=!1){let a=this._context.textAlign,o=this._context.textBaseline,l=this._context.font;this._context.font=this._musicFont.toCssString(n),this._context.textBaseline="middle",s?this._context.textAlign="center":this._context.textAlign="left",this._context.fillText(i,e,r),this._context.textBaseline=o,this._context.font=l,this._context.textAlign=a}beginRotate(e,r,n){this._context.save(),this._context.translate(e,r),this._context.rotate(n*Math.PI/180)}endRotate(){this._context.restore()}}class Rl{constructor(e,r=!1){this._midiFile=e,this._smf1Mode=r}addTimeSignature(e,r,n){let i=0,s=n;for(;s=s>>1,s>0;)i++;this._midiFile.addEvent(new Vz(0,e,r,i,48,8))}addRest(e,r,n){this._smf1Mode||this._midiFile.addEvent(new Wz(e,r,n))}addNote(e,r,n,i,s,a){this._midiFile.addEvent(new Uz(e,r,a,Rl.fixValue(i),Rl.fixValue(s))),this._midiFile.addEvent(new Gz(e,r+n,a,Rl.fixValue(i),Rl.fixValue(s)))}static fixValue(e){return e>127?127:e<0?0:e}addControlChange(e,r,n,i,s){this._midiFile.addEvent(new jz(e,r,n,i,Rl.fixValue(s)))}addProgramChange(e,r,n,i){this._midiFile.addEvent(new Yz(e,r,n,i))}addTempo(e,r){const n=6e7/r|0;this._midiFile.addEvent(new Xz(e,n))}addBend(e,r,n,i){i>=Yt.MaxPitchWheel?i=Yt.MaxPitchWheel:i=Math.floor(i),this._midiFile.addEvent(new qz(e,r,n,i))}addNoteBend(e,r,n,i,s){this._smf1Mode?this.addBend(e,r,n,s):(s=s*Yt.MaxPitchWheel20/Yt.MaxPitchWheel,this._midiFile.addEvent(new Kz(e,r,n,i,s)))}finishTrack(e,r){(this._midiFile.format==lp.MultiTrack||e==0)&&this._midiFile.addEvent(new Qz(e,r))}}class Ywe{constructor(e,r){this.closingIndex=0,this.group=e,this.opening=r,e.closings=e.closings.sort((n,i)=>n.index-i.index),this.iterations=e.closings.map(n=>0)}}class Xwe{get finished(){return this.index>=this._score.masterBars.length}constructor(e){this._repeatStack=[],this._groupsOnStack=new Set,this._previousAlternateEndings=0,this.shouldPlay=!0,this.index=0,this.currentTick=0,this._score=e}processCurrent(){const e=this._score.masterBars[this.index];let r=e.alternateEndings;if(r===0&&(r=this._previousAlternateEndings),e===e.repeatGroup.opening&&e.repeatGroup.isClosed&&!this._groupsOnStack.has(e.repeatGroup)){const n=new Ywe(e.repeatGroup,e);this._repeatStack.push(n),this._groupsOnStack.add(e.repeatGroup),this._previousAlternateEndings=0,r=e.alternateEndings}if(this._repeatStack.length===0||r===0)this.shouldPlay=!0;else{const n=this._repeatStack[this._repeatStack.length-1],i=n.iterations[n.closingIndex];this._previousAlternateEndings=r,r&1<<i?this.shouldPlay=!0:this.shouldPlay=!1}this.shouldPlay&&(this.currentTick+=e.calculateDuration())}moveNext(){const r=this._score.masterBars[this.index].repeatCount-1;if(this._repeatStack.length>0&&r>0){const n=this._repeatStack[this._repeatStack.length-1];if(n.iterations[n.closingIndex]<r){this.index=n.opening.index,n.iterations[n.closingIndex]++;for(let s=0;s<n.closingIndex;s++)n.iterations[s]=0;n.closingIndex=0,this._previousAlternateEndings=0}else n.closingIndex<n.group.closings.length-1?(n.closingIndex++,this.index++):(this._repeatStack.pop(),this._groupsOnStack.delete(n.group),this.index++)}else this.index++}}class qwe{constructor(e,r){this.beat=e,this.playbackStart=r}}class to{get duration(){return this.end-this.start}constructor(e,r){this._highlightedBeats=new Map,this.highlightedBeats=[],this.nextBeat=null,this.previousBeat=null,this.start=e,this.end=r}highlightBeat(e,r){e.isEmpty&&!e.voice.isEmpty||this._highlightedBeats.has(e.id)||(this._highlightedBeats.set(e.id,!0),this.highlightedBeats.push(new qwe(e,r)))}getVisibleBeatAtStart(e){for(const r of this.highlightedBeats)if(r.playbackStart==this.start&&e.has(r.beat.voice.bar.staff.track.index))return r.beat;return null}}class oW{constructor(){this.start=0,this.end=0,this.tempo=0,this.firstBeat=null,this.lastBeat=null,this.nextMasterBar=null,this.previousMasterBar=null}insertAfter(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.nextBeat=e.nextBeat,r.previousBeat=e,e.nextBeat&&(e.nextBeat.previousBeat=r),e.nextBeat=r,e==this.lastBeat&&(this.lastBeat=r))}insertBefore(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.previousBeat=e.previousBeat,r.nextBeat=e,e.previousBeat&&(e.previousBeat.nextBeat=r),e.previousBeat=r,e==this.firstBeat&&(this.firstBeat=r))}addBeat(e,r,n,i){const s=n+i;if(this.firstBeat==null){const a=new to(n,s);a.highlightBeat(e,r),this.insertAfter(this.firstBeat,a)}else if(n>=this.lastBeat.end){const a=new to(this.lastBeat.end,s);a.highlightBeat(e,r),this.insertAfter(this.lastBeat,a)}else{let a=null;if(n<this.firstBeat.start)a=this.firstBeat;else{let o=this.firstBeat;for(;o!=null;){if(n>=o.start&&n<o.end){a=o;break}o=o.nextBeat}if(a===null)throw new _i(Ci.General,"Error on building lookup, unknown variant")}if(n<a.start)if(s==a.start){const o=new to(n,a.start);o.highlightBeat(e,r),this.insertBefore(this.firstBeat,o)}else if(s<a.end){const o=new to(n,a.start);o.highlightBeat(e,r),this.insertBefore(a,o);const l=new to(a.start,s);for(const u of a.highlightedBeats)l.highlightBeat(u.beat,u.playbackStart);l.highlightBeat(e,r),this.insertBefore(a,l),a.start=s}else if(s==a.end){const o=new to(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o)}else{const o=new to(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(n>a.start)if(s==a.end){const o=new to(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o)}else if(s<a.end){const o=new to(a.start,n);this.insertBefore(a,o);const l=new to(n,s);this.insertBefore(a,l);for(const u of a.highlightedBeats)o.highlightBeat(u.beat,u.playbackStart),l.highlightBeat(u.beat,u.playbackStart);l.highlightBeat(e,r),a.start=s}else{const o=new to(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(s===a.end)a.highlightBeat(e,r);else if(s<a.end){const o=new to(a.start,s);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);o.highlightBeat(e,r),a.start=s,this.insertBefore(a,o)}else a.highlightBeat(e,r),this.addBeat(e,r,a.end,s-a.end)}}}class Kwe{get start(){return this.masterBar.start+this.beatLookup.start}get end(){return this.start+this.tickDuration}constructor(e){this.nextBeat=null,this.tickDuration=0,this.duration=0,this.masterBar=e}}class Qwe{constructor(){this._currentMasterBar=null,this.masterBarLookup=new Map,this.masterBars=[]}findBeat(e,r,n=null){let i=null;return n&&(i=this.findBeatFast(e,n,r)),i||(i=this.findBeatSlow(e,n,r,!1)),i}findBeatFast(e,r,n){if(n>=r.start&&n<r.end)return r;if(r.nextBeat&&n>=r.nextBeat.start&&n<r.nextBeat.end){const i=r.nextBeat;return this.fillNextBeat(i,e),i}return null}fillNextBeat(e,r){e.nextBeat=this.findBeatInMasterBar(e.masterBar,e.beatLookup.nextBeat,e.end,r,!1,!0),e.nextBeat==null&&(e.nextBeat=this.findBeatSlow(r,e,e.end,!0)),e.nextBeat&&(e.tickDuration=e.nextBeat.start-e.start,e.duration=Ht.ticksToMillis(e.tickDuration,e.masterBar.tempo)),e.nextBeat||(e.tickDuration=e.masterBar.end-e.start,e.duration=Ht.ticksToMillis(e.tickDuration,e.masterBar.tempo))}findBeatSlow(e,r,n,i){let s=null;if(r!=null&&(r.masterBar.start<=n&&r.masterBar.end>n?s=r.masterBar:r.masterBar.nextMasterBar&&r.masterBar.nextMasterBar.start<=n&&r.masterBar.nextMasterBar.end>n&&(s=r.masterBar.nextMasterBar)),s||(s=this.findMasterBar(n)),!s)return null;for(;s;){if(s.firstBeat){let a=this.findBeatInMasterBar(s,s.firstBeat,n,e,!0,i);if(a)return a}s=s.nextMasterBar}return null}findBeatInMasterBar(e,r,n,i,s,a){if(!r)return null;let o=null,l=null;const u=n-e.start;for(;r!=null&&l==null;){if(r.start<=u&&u<r.end){if(o=r,l=r.getVisibleBeatAtStart(i),!l)if(a){let h=e;for(;h!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=h;break}r=r.nextBeat}(!l||!o)&&(h=h.nextMasterBar,r=(h==null?void 0:h.firstBeat)??null)}}else{let h=e;for(;h!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=h;break}r=r.previousBeat}(!l||!o)&&(h=h.previousMasterBar,r=(h==null?void 0:h.firstBeat)??null)}}}else if(r.end>u)break;r=(r==null?void 0:r.nextBeat)??null}return l==null?null:this.createResult(e,o,l,s,i)}createResult(e,r,n,i,s){const a=new Kwe(e);return a.beat=n,a.beatLookup=r,a.tickDuration=r.end-r.start,i&&this.fillNextBeat(a,s),a.duration=Ht.ticksToMillis(a.tickDuration,e.tempo),a}findMasterBar(e){const r=this.masterBars;let n=0,i=r.length-1;for(;n<=i;){const s=(i+n)/2|0,a=r[s];if(e>=a.start&&e<a.end)return a;e<a.start?i=s-1:n=s+1}return null}getMasterBar(e){if(!this.masterBarLookup.has(e.index)){const r=new oW;return r.masterBar=e,r}return this.masterBarLookup.get(e.index)}getMasterBarStart(e){return this.masterBarLookup.has(e.index)?this.masterBarLookup.get(e.index).start:0}getBeatStart(e){return this.masterBarLookup.has(e.voice.bar.index)?this.masterBarLookup.get(e.voice.bar.index).start+e.playbackStart:0}addMasterBar(e){this.masterBars.push(e),this._currentMasterBar&&(e.previousMasterBar=this._currentMasterBar,this._currentMasterBar.nextMasterBar=e),this._currentMasterBar=e,this.masterBarLookup.has(e.masterBar.index)||this.masterBarLookup.set(e.masterBar.index,e)}addBeat(e,r,n){const i=this._currentMasterBar;if(i)if(r<0&&i.previousMasterBar){const s=i.previousMasterBar.end-i.previousMasterBar.start,a=s+r,o=a+n;if(i.previousMasterBar.addBeat(e,a,a,n),o>s){const l=n+r;i.addBeat(e,r,0,l)}}else i.addBeat(e,r,r,n)}}class Jwe{constructor(){this.noteOnly=0,this.untilTieOrSlideEnd=0,this.letRingEnd=0}}class Zwe{constructor(){this.firstBeatDuration=0,this.secondBeatStartOffset=0,this.secondBeatDuration=0}}class Mr{constructor(e,r,n){this._currentTempo=0,this._programsPerChannel=new Map,this.tickLookup=new Qwe,this.applyTranspositionPitches=!0,this.transpositionPitches=new Map,this._currentTripletFeel=null,this.vibratoResolution=16,this._score=e,this._settings=r||new hh,this._currentTempo=this._score.tempo,this._handler=n}generate(){this.transpositionPitches.clear();for(const n of this._score.tracks)this.generateTrack(n);Fe.debug("Midi","Begin midi generation");const e=new Xwe(this._score);let r=null;for(;!e.finished;){const n=e.index,i=this._score.masterBars[n],s=e.currentTick;if(e.processCurrent(),e.shouldPlay){this.generateMasterBar(i,r,s);for(const a of this._score.tracks)for(const o of a.staves)n<o.bars.length&&this.generateBar(o.bars[n],s)}e.moveNext(),r=i}for(const n of this._score.tracks)this._handler.finishTrack(n.index,e.currentTick);Fe.debug("Midi","Midi generation done")}generateTrack(e){this.generateChannel(e,e.playbackInfo.primaryChannel,e.playbackInfo),e.playbackInfo.primaryChannel!==e.playbackInfo.secondaryChannel&&this.generateChannel(e,e.playbackInfo.secondaryChannel,e.playbackInfo)}addProgramChange(e,r,n,i){(!this._programsPerChannel.has(n)||this._programsPerChannel.get(n)!==i)&&(this._handler.addProgramChange(e.index,r,n,i),this._programsPerChannel.set(n,i))}static buildTranspositionPitches(e,r){const n=new Map;for(const i of e.tracks){const s=i.index<r.notation.transpositionPitches.length?r.notation.transpositionPitches[i.index]:0;n.set(i.playbackInfo.primaryChannel,s),n.set(i.playbackInfo.secondaryChannel,s)}return n}generateChannel(e,r,n){const i=e.index<this._settings.notation.transpositionPitches.length?this._settings.notation.transpositionPitches[e.index]:0;this.transpositionPitches.set(r,i);let s=Mr.toChannelShort(n.volume),a=Mr.toChannelShort(n.balance);this._handler.addControlChange(e.index,0,r,Ar.VolumeCoarse,s),this._handler.addControlChange(e.index,0,r,Ar.PanCoarse,a),this._handler.addControlChange(e.index,0,r,Ar.ExpressionControllerCoarse,127),this._handler.addControlChange(e.index,0,r,Ar.RegisteredParameterFine,0),this._handler.addControlChange(e.index,0,r,Ar.RegisteredParameterCourse,0),this._handler.addControlChange(e.index,0,r,Ar.DataEntryFine,0),this._handler.addControlChange(e.index,0,r,Ar.DataEntryCoarse,Mr.PitchBendRangeInSemitones),this.addProgramChange(e,0,r,n.program)}static toChannelShort(e){const r=Math.max(-32768,Math.min(32767,e*8-1));return Math.max(r,-1)+1}generateMasterBar(e,r,n){(!r||r.timeSignatureDenominator!==e.timeSignatureDenominator||r.timeSignatureNumerator!==e.timeSignatureNumerator)&&this._handler.addTimeSignature(n,e.timeSignatureNumerator,e.timeSignatureDenominator),e.tempoAutomation?(this._handler.addTempo(n,e.tempoAutomation.value),this._currentTempo=e.tempoAutomation.value):r||(this._handler.addTempo(n,e.score.tempo),this._currentTempo=e.score.tempo);const i=new oW;i.masterBar=e,i.start=n,i.tempo=this._currentTempo,i.end=i.start+e.calculateDuration(),this.tickLookup.addMasterBar(i)}generateBar(e,r){let n=this.getPlaybackBar(e);for(const i of n.voices)this.generateVoice(i,r,e)}getPlaybackBar(e){switch(e.simileMark){case Ia.Simple:e.previousBar&&(e=this.getPlaybackBar(e.previousBar));break;case Ia.FirstOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break;case Ia.SecondOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break}return e}generateVoice(e,r,n){if(!(e.isEmpty&&(!e.bar.isEmpty||e.index!==0)))for(const i of e.beats)this.generateBeat(i,r,n)}generateBeat(e,r,n){let i=e.playbackStart,s=e.playbackDuration;e.voice.bar.isEmpty?s=e.voice.bar.masterBar.calculateDuration():e.voice.bar.masterBar.tripletFeel!==Qt.NoTripletFeel&&this._settings.player.playTripletFeel&&(this._currentTripletFeel?(i-=this._currentTripletFeel.secondBeatStartOffset,s=this._currentTripletFeel.secondBeatDuration,this._currentTripletFeel=null):(this._currentTripletFeel=Mr.calculateTripletFeelInfo(i,s,e),this._currentTripletFeel&&(s=this._currentTripletFeel.firstBeatDuration))),n===e.voice.bar?this.tickLookup.addBeat(e,i,s):this.tickLookup.addBeat(e,0,s);const a=e.voice.bar.staff.track;for(const o of e.automations)this.generateAutomation(e,o,r);if(e.isRest)this._handler.addRest(a.index,r+i,a.playbackInfo.primaryChannel);else{let o=this.getBrushInfo(e);for(const l of e.notes)this.generateNote(l,r+i,s,o)}if(e.vibrato!==pr.None){let o=240,l=3;switch(e.vibrato){case pr.Slight:o=this._settings.player.vibrato.beatSlightLength,l=this._settings.player.vibrato.beatSlightAmplitude;break;case pr.Wide:o=this._settings.player.vibrato.beatWideLength,l=this._settings.player.vibrato.beatWideAmplitude;break}this.generateVibratorWithParams(r+i,e.playbackDuration,o,l,(u,c)=>{this._handler.addBend(e.voice.bar.staff.track.index,u,a.playbackInfo.secondaryChannel,c)})}}static calculateTripletFeelInfo(e,r,n){let i;switch(n.voice.bar.masterBar.tripletFeel){case Qt.Triplet8th:case Qt.Dotted8th:case Qt.Scottish8th:i=le.Eighth;break;case Qt.Triplet16th:case Qt.Dotted16th:case Qt.Scottish16th:i=le.Sixteenth;break;default:return null}const s=Ht.toTicks(i);if(r!==s||e%s!==0||!n.nextBeat||n.nextBeat.voice!==n.voice||n.playbackDuration!==s)return null;const a=new Zwe;switch(n.voice.bar.masterBar.tripletFeel){case Qt.Triplet8th:a.firstBeatDuration=Ht.applyTuplet(Ht.toTicks(le.Quarter),3,2),a.secondBeatDuration=Ht.applyTuplet(Ht.toTicks(le.Eighth),3,2);break;case Qt.Dotted8th:a.firstBeatDuration=Ht.applyDot(Ht.toTicks(le.Eighth),!1),a.secondBeatDuration=Ht.toTicks(le.Sixteenth);break;case Qt.Scottish8th:a.firstBeatDuration=Ht.toTicks(le.Sixteenth),a.secondBeatDuration=Ht.applyDot(Ht.toTicks(le.Eighth),!1);break;case Qt.Triplet16th:a.firstBeatDuration=Ht.applyTuplet(Ht.toTicks(le.Eighth),3,2),a.secondBeatDuration=Ht.applyTuplet(Ht.toTicks(le.Sixteenth),3,2);break;case Qt.Dotted16th:a.firstBeatDuration=Ht.applyDot(Ht.toTicks(le.Sixteenth),!1),a.secondBeatDuration=Ht.toTicks(le.ThirtySecond);break;case Qt.Scottish16th:a.firstBeatDuration=Ht.toTicks(le.ThirtySecond),a.secondBeatDuration=Ht.applyDot(Ht.toTicks(le.Sixteenth),!1);break}return a.secondBeatStartOffset=r-a.firstBeatDuration,a}generateNote(e,r,n,i){const s=e.beat.voice.bar.staff.track,a=e.beat.voice.bar.staff;let o=e.calculateRealValue(this.applyTranspositionPitches,!0);if(e.isPercussion){const m=Ri.getArticulation(e);m&&(o=m.outputMidiNumber)}const l=e.isStringed&&e.string<=i.length?i[e.string-1]:0,u=r+l,c=this.getNoteDuration(e,n);c.untilTieOrSlideEnd-=l,c.noteOnly-=l,c.letRingEnd-=l;const h=Mr.getNoteVelocity(e),f=e.hasBend||e.beat.hasWhammyBar||e.beat.vibrato!==pr.None?s.playbackInfo.secondaryChannel:s.playbackInfo.primaryChannel;let g=0;if(e.hasBend?g=Mr.getPitchWheel(e.bendPoints[0].value):e.beat.hasWhammyBar?g=Mr.getPitchWheel(e.beat.whammyBarPoints[0].value):e.isTieDestination||e.slideOrigin&&e.slideOrigin.slideOutType===jt.Legato?g=-1:g=Mr.getPitchWheel(0),g>=0&&this._handler.addNoteBend(s.index,u,f,o,g),e.beat.fadeIn&&this.generateFadeIn(e,u,c),e.isTrill&&!a.isPercussion){this.generateTrill(e,u,c,o,h,f);return}if(e.beat.isTremolo){this.generateTremoloPicking(e,u,c,o,h,f);return}if(e.hasBend?this.generateBend(e,u,c,o,f):e.beat.hasWhammyBar&&e.index===0?this.generateWhammy(e.beat,u,c,f):e.slideInType!==ki.None||e.slideOutType!==jt.None?this.generateSlide(e,u,c,o,f):(e.vibrato!==pr.None||e.isTieDestination&&e.tieOrigin.vibrato!==pr.None)&&this.generateVibrato(e,u,c,o,f),!e.isTieDestination&&(!e.slideOrigin||e.slideOrigin.slideOutType!==jt.Legato)){let m=Math.max(c.untilTieOrSlideEnd,c.letRingEnd);this._handler.addNote(s.index,u,m,o,h,f)}}getNoteDuration(e,r){const n=new Jwe;if(n.noteOnly=r,n.untilTieOrSlideEnd=r,n.letRingEnd=r,e.isDead)return n.noteOnly=this.applyStaticDuration(Mr.DefaultDurationDead,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isPalmMute)return n.noteOnly=this.applyStaticDuration(Mr.DefaultDurationPalmMute,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isStaccato)return n.noteOnly=r/2|0,n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isTieOrigin){const i=e.tieDestination;if(i)if(e.isTieDestination){const s=this.getNoteDuration(i,i.beat.playbackDuration);n.untilTieOrSlideEnd=r+s.untilTieOrSlideEnd}else{const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}else if(e.slideOutType===jt.Legato){const i=e.slideTarget;if(i){const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}if(e.isLetRing&&this._settings.notation.notationMode===ci.GuitarPro){let i=e.beat,s=0;const a=e.beat.voice.bar.masterBar.calculateDuration();for(;i.nextBeat;){let o=i.nextBeat;if(o.isRest||e.isStringed&&o.hasNoteOnString(e.string))break;if(i=i.nextBeat,s=i.absolutePlaybackStart-e.beat.absolutePlaybackStart+i.playbackDuration,s>a){s=a;break}}i===e.beat?n.letRingEnd=r:n.letRingEnd=s}else n.letRingEnd=n.untilTieOrSlideEnd;return n}applyStaticDuration(e,r){const n=this._currentTempo*e/Je.MaxPosition|0;return Math.min(n,r)}static getNoteVelocity(e){let r=e.dynamics;switch(!e.beat.voice.bar.staff.isPercussion&&e.hammerPullOrigin&&r--,e.isGhost&&r--,e.accentuated){case qn.Normal:r++;break;case qn.Heavy:r+=2;break}return Ht.dynamicToVelocity(r)}generateFadeIn(e,r,n){const i=e.beat.voice.bar.staff.track,a=Mr.toChannelShort(i.playbackInfo.volume)/n.noteOnly,o=120,l=n.noteOnly/o|0,u=r+n.noteOnly;for(let c=l-1;c>=0;c--){const h=u-c*o,f=(h-r)*a;c===l-1&&(this._handler.addControlChange(i.index,r,i.playbackInfo.primaryChannel,Ar.VolumeCoarse,f),this._handler.addControlChange(i.index,r,i.playbackInfo.secondaryChannel,Ar.VolumeCoarse,f)),this._handler.addControlChange(i.index,h,i.playbackInfo.primaryChannel,Ar.VolumeCoarse,f),this._handler.addControlChange(i.index,h,i.playbackInfo.secondaryChannel,Ar.VolumeCoarse,f)}}generateVibrato(e,r,n,i,s){let a=0,o=0;switch(e.vibrato!==pr.None?e.vibrato:e.isTieDestination?e.tieOrigin.vibrato:pr.Slight){case pr.Slight:a=this._settings.player.vibrato.noteSlightLength,o=this._settings.player.vibrato.noteSlightAmplitude;break;case pr.Wide:a=this._settings.player.vibrato.noteWideLength,o=this._settings.player.vibrato.noteWideAmplitude;break;default:return}const u=e.beat.voice.bar.staff.track;this.generateVibratorWithParams(r,n.noteOnly,a,o,(c,h)=>{this._handler.addNoteBend(u.index,c,s,i,h)})}generateVibratorWithParams(e,r,n,i,s){const a=this.vibratoResolution,o=n/2|0;e+=n;const l=e+r;for(;e<l;){let u=0;const c=e+n<l?n:l-e;for(;u<c;){let h=i*Math.sin(u*Math.PI/o);s(e+u|0,Mr.getPitchWheel(h)),u+=a}e+=n}}static getPitchWheel(e){return Yt.DefaultPitchWheel+e/2*Mr.PitchValuePerSemitone}generateSlide(e,r,n,i,s){let a=e.slideOutType===jt.Legato?n.noteOnly:n.untilTieOrSlideEnd,o=[],l=e.beat.voice.bar.staff.track;const u=this._settings.player.slide.simpleSlidePitchOffset,c=Math.floor(Je.MaxPosition*this._settings.player.slide.simpleSlideDurationRatio),h=Math.floor(Je.MaxPosition*this._settings.player.slide.shiftSlideDurationRatio);switch(e.slideInType){case ki.IntoFromAbove:o.push(new Je(0,u)),o.push(new Je(c,0));break;case ki.IntoFromBelow:o.push(new Je(0,-u)),o.push(new Je(c,0));break}switch(e.slideOutType){case jt.Legato:case jt.Shift:o.push(new Je(h,0));const f=(e.slideTarget.calculateRealValue(this.applyTranspositionPitches,!0)-e.calculateRealValue(this.applyTranspositionPitches,!0))*2;o.push(new Je(Je.MaxPosition,f));break;case jt.OutDown:o.push(new Je(Je.MaxPosition-c,0)),o.push(new Je(Je.MaxPosition,-u));break;case jt.OutUp:o.push(new Je(Je.MaxPosition-c,0)),o.push(new Je(Je.MaxPosition,u));break}this.generateWhammyOrBend(r,a,o,(f,g)=>{this._handler.addNoteBend(l.index,f,s,i,g)})}generateBend(e,r,n,i,s){let a=e.bendPoints,o=e.beat.voice.bar.staff.track;const l=(g,m)=>{this._handler.addNoteBend(o.index,g,s,i,m)};let u=null,c;if(e.isTieOrigin&&this._settings.notation.extendBendArrowsOnTiedNotes){let g=e;for(;g.isTieOrigin&&!g.tieDestination.hasBend;)g=g.tieDestination;c=g.beat.absolutePlaybackStart-e.beat.absolutePlaybackStart+this.getNoteDuration(g,g.beat.playbackDuration).noteOnly}else if(e.isTieOrigin&&e.beat.graceType!==Tt.None){switch(e.tieDestination.bendType){case ct.Bend:case ct.BendRelease:case ct.PrebendBend:u=e.tieDestination.bendPoints[1].value;break;case ct.Prebend:case ct.PrebendRelease:u=e.tieDestination.bendPoints[0].value;break}c=Math.max(n.noteOnly,Ht.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo))}else c=n.noteOnly;a[0].value>0&&!e.isContinuedBend&&r>0&&r--;const h=Math.min(c,Ht.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));let f=[];switch(e.bendType){case ct.Custom:f=a;break;case ct.Bend:case ct.Release:switch(e.bendStyle){case Fr.Default:f=a;break;case Fr.Gradual:f.push(new Je(0,e.bendPoints[0].value)),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),f.push(new Je(Je.MaxPosition,u));break;case Fr.Fast:(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),e.beat.graceType===Tt.BendGrace?this.generateSongBookWhammyOrBend(r,c,!0,[e.bendPoints[0].value,u],h,l):this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,u],h,l);return}break;case ct.BendRelease:switch(e.bendStyle){case Fr.Default:f=a;break;case Fr.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition/2|0,e.bendPoints[1].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[2].value));break;case Fr.Fast:this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,e.bendPoints[1].value,e.bendPoints[2].value],h,l);return}break;case ct.Hold:f=a;break;case ct.Prebend:f=a;break;case ct.PrebendBend:switch(e.bendStyle){case Fr.Default:f=a;break;case Fr.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[1].value));break;case Fr.Fast:const g=Mr.getPitchWheel(e.bendPoints[0].value);l(r,g|0),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,u],h,l);return}break;case ct.PrebendRelease:switch(e.bendStyle){case Fr.Default:f=a;break;case Fr.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[1].value));break;case Fr.Fast:const g=Mr.getPitchWheel(e.bendPoints[0].value);l(r,g|0),this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,e.bendPoints[1].value],h,l);return}break}this.generateWhammyOrBend(r,c,f,l)}generateSongBookWhammyOrBend(e,r,n,i,s,a){const o=n?e:e+r-s,l=s/(i.length-1);for(let u=0;u<i.length-1;u++){const c=Mr.getPitchWheel(i[u]),h=Mr.getPitchWheel(i[u+1]),f=o+l*u;this.generateBendValues(f,l,c,h,a)}}generateWhammy(e,r,n,i){const s=e.whammyBarPoints,a=e.voice.bar.staff.track,o=n.noteOnly;s[0].value>0&&!e.isContinuedWhammy&&r--;const l=(c,h)=>{this._handler.addBend(a.index,c,i,h)};let u=[];switch(e.whammyBarType){case yr.Custom:u=s;break;case yr.Dive:switch(e.whammyStyle){case Fr.Default:u=s;break;case Fr.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition,s[1].value));break;case Fr.Fast:const c=Math.min(o,Ht.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],c,l);return}break;case yr.Dip:switch(e.whammyStyle){case Fr.Default:u=s;break;case Fr.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition/2|0,s[1].value)),u.push(new Je(Je.MaxPosition,s[2].value));break;case Fr.Fast:const c=Math.min(o,Ht.millisToTicks(this._settings.player.songBookDipDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!0,[s[0].value,s[1].value,s[2].value],c,l);return}break;case yr.Hold:u=s;break;case yr.Predive:u=s;break;case yr.PrediveDive:switch(e.whammyStyle){case Fr.Default:u=s;break;case Fr.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition/2|0,s[0].value)),u.push(new Je(Je.MaxPosition,s[1].value));break;case Fr.Fast:const c=Mr.getPitchWheel(s[0].value);this._handler.addBend(a.index,r,i,c|0);const h=Math.min(o,Ht.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],h,l);return}break}this.generateWhammyOrBend(r,o,u,l)}generateWhammyOrBend(e,r,n,i){const s=r/Je.MaxPosition;for(let a=0;a<n.length-1;a++){const o=n[a],l=n[a+1],u=Mr.getPitchWheel(o.value),c=Mr.getPitchWheel(l.value),h=s*(l.offset-o.offset),f=e+s*o.offset;this.generateBendValues(f,h,u,c,i)}}generateBendValues(e,r,n,i,s){const a=Ht.ticksToMillis(r,this._currentTempo),o=Math.abs(i-n)/Mr.PitchValuePerSemitone,l=Math.max(Mr.MinBreakpointsPerSemitone*o,a/Mr.MillisecondsPerBreakpoint),u=r/l,c=(i-n)/l;for(let h=0;h<l;h++)s(e|0,Math.round(n)),n+=c,e+=u;n<i&&s(e|0,i)}generateTrill(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track,l=e.stringTuning+e.trillFret;let u=Ht.toTicks(e.trillSpeed),c=!0,h=r,f=r+n.untilTieOrSlideEnd;for(;h+10<f;)h+u>=f&&(u=f-h),this._handler.addNote(o.index,h,u,c?l:i,s,a),c=!c,h+=u}generateTremoloPicking(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track;let l=Ht.toTicks(e.beat.tremoloSpeed),u=r;const c=r+n.untilTieOrSlideEnd;for(;u+10<c;)u+l>=c&&(l=c-u),this._handler.addNote(o.index,u,l,i,s,a),u+=l}getBrushInfo(e){const r=new Int32Array(e.voice.bar.staff.tuning.length);if(e.brushType!==Jr.None){let n=0,i=0;for(const s of e.notes)s.isTieDestination||(n|=1<<s.string-1,i++);if(e.notes.length>0){let s=0;const a=e.brushDuration/(i-1)|0;for(let o=0;o<e.voice.bar.staff.tuning.length;o++){let l=e.brushType===Jr.ArpeggioDown||e.brushType===Jr.BrushDown?o:r.length-1-o;n&1<<l&&(r[l]=s,s+=a)}}}return r}generateAutomation(e,r,n){switch(r.type){case di.Instrument:this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,(r.value|0)&255),this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,(r.value|0)&255);break;case di.Balance:let i=Mr.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Ar.PanCoarse,i),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Ar.PanCoarse,i);break;case di.Volume:let s=Mr.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Ar.VolumeCoarse,s),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Ar.VolumeCoarse,s);break}}prepareSingleBeat(e){let r=-1,n=-1,i=e;for(;i&&(r===-1||n===-1);){for(const u of e.automations)switch(u.type){case di.Instrument:n=u.value;break;case di.Tempo:r=u.value;break}i=i.previousBeat}const s=e.voice.bar.staff.track,a=e.voice.bar.masterBar;r===-1&&(r=a.score.tempo),n===-1&&(n=s.playbackInfo.program);const o=s.playbackInfo.volume;this.generateTrack(s),this._handler.addTimeSignature(0,a.timeSignatureNumerator,a.timeSignatureDenominator),this._handler.addTempo(0,r);let l=Mr.toChannelShort(o);this._handler.addControlChange(0,0,s.playbackInfo.primaryChannel,Ar.VolumeCoarse,l),this._handler.addControlChange(0,0,s.playbackInfo.secondaryChannel,Ar.VolumeCoarse,l)}generateSingleBeat(e){this.prepareSingleBeat(e),this.generateBeat(e,-e.playbackStart,e.voice.bar)}generateSingleNote(e){this.prepareSingleBeat(e.beat),this.generateNote(e,0,e.beat.playbackDuration,new Int32Array(e.beat.voice.bar.staff.tuning.length))}}Mr.DefaultDurationDead=30;Mr.DefaultDurationPalmMute=80;Mr.PitchBendRangeInSemitones=8*2;Mr.PitchValuePerSemitone=Yt.DefaultPitchWheel/Mr.PitchBendRangeInSemitones;Mr.MinBreakpointsPerSemitone=6;Mr.MillisecondsPerBreakpoint=150;class exe{constructor(){this.startTick=0,this.endTick=0}}class Ln{constructor(e,r){this.width=0,this.height=0,this.x=e,this.y=r}get scale(){return this.renderer.scale}doLayout(){}paint(e,r,n){}}class ml extends Ln{constructor(e=0,r=0){super(e,r),this.beat=null,this.nextGlyph=null,this.previousGlyph=null}}class Rn extends ml{constructor(e,r,n,i){super(e,r),this.glyphScale=0,this.glyphScale=n,this.symbol=i}paint(e,r,n){n.fillMusicFontSymbol(e+this.x,r+this.y,this.glyphScale*this.scale,this.symbol,!1)}}class Kt extends Rn{constructor(e,r,n,i){super(e,r,i?Kt.GraceScale:1,Kt.getSymbol(n)),this._isGrace=i,this._duration=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1)}doLayout(){let e=(this._isGrace?Kt.GraceScale:1)*this.scale;switch(this._duration){case le.QuadrupleWhole:this.width=14*e;break;case le.DoubleWhole:this.width=14*(this._isGrace?Kt.GraceScale:1)*this.scale;break;case le.Whole:this.width=14*(this._isGrace?Kt.GraceScale:1)*this.scale;break;default:this.width=Kt.QuarterNoteHeadWidth*(this._isGrace?Kt.GraceScale:1)*this.scale;break}this.height=Kt.NoteHeadHeight*e}static getSymbol(e){switch(e){case le.QuadrupleWhole:return R.NoteheadDoubleWholeSquare;case le.DoubleWhole:return R.NoteheadDoubleWhole;case le.Whole:return R.NoteheadWhole;case le.Half:return R.NoteheadHalf;default:return R.NoteheadBlack}}}Kt.GraceScale=.75;Kt.NoteHeadHeight=8;Kt.QuarterNoteHeadWidth=9;class Fp extends Rn{constructor(e,r,n,i,s){super(e,r,s?Kt.GraceScale:1,Fp.getSymbol(n,i,s))}doLayout(){this.width=0}static getSymbol(e,r,n){if(n&&(e=le.Eighth),r===He.Up)switch(e){case le.Eighth:return R.FlagEighthUp;case le.Sixteenth:return R.FlagSixteenthUp;case le.ThirtySecond:return R.FlagThirtySecondUp;case le.SixtyFourth:return R.FlagSixtyFourthUp;case le.OneHundredTwentyEighth:return R.FlagOneHundredTwentyEighthUp;case le.TwoHundredFiftySixth:return R.FlagTwoHundredFiftySixthUp;default:return R.FlagEighthUp}switch(e){case le.Eighth:return R.FlagEighthDown;case le.Sixteenth:return R.FlagSixteenthDown;case le.ThirtySecond:return R.FlagThirtySecondDown;case le.SixtyFourth:return R.FlagSixtyFourthDown;case le.OneHundredTwentyEighth:return R.FlagOneHundredTwentyEighthDown;case le.TwoHundredFiftySixth:return R.FlagOneHundredTwentyEighthDown;default:return R.FlagEighthDown}}}Fp.FlagWidth=11;class il extends Ln{get onTimeX(){return this.onNotes.x+this.onNotes.centerX}constructor(e,r){super(0,0),this.ties=[],this.minWidth=0,this.beat=e,this.ties=[],this.voiceContainer=r}addTie(e){e.renderer=this.renderer,this.ties.push(e)}registerLayoutingInfo(e){let r=this.preNotes.computedWidth+this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=il.GraceBeatPadding*this.renderer.scale);let n=this.onNotes.computedWidth-this.onNotes.centerX;const i=this.renderer.helpers.getBeamingHelperForBeat(this.beat);(i&&i.hasFlag||this.beat.graceType!==Tt.None)&&(n+=Fp.FlagWidth*this.scale*(this.beat.graceType!==Tt.None?Kt.GraceScale:1));for(const s of this.ties)n+=s.width;this.beat.graceType!==Tt.None&&(n+=il.GraceBeatPadding*this.renderer.scale),e.addBeatSpring(this.beat,r,n),e.setPreBeatSize(this.beat,this.preNotes.computedWidth),e.setOnBeatSize(this.beat,this.onNotes.computedWidth),e.setBeatCenterX(this.beat,this.onNotes.centerX)}applyLayoutingInfo(e){let r=e.getBeatCenterX(this.beat)-this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=il.GraceBeatPadding*this.renderer.scale),this.preNotes.x=r,this.preNotes.width=e.getPreBeatSize(this.beat),this.onNotes.width=e.getOnBeatSize(this.beat),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.updateBeamingHelper(),this.updateWidth()}doLayout(){this.preNotes.x=0,this.preNotes.renderer=this.renderer,this.preNotes.container=this,this.preNotes.doLayout(),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.renderer=this.renderer,this.onNotes.container=this,this.onNotes.doLayout();let e=this.beat.notes.length-1;for(;e>=0;)this.createTies(this.beat.notes[e--]);this.renderer.registerTies(this.ties),this.updateWidth()}updateWidth(){if(this.minWidth=this.preNotes.width+this.onNotes.width,!this.beat.isRest)if(this.onNotes.beamingHelper.beats.length===1)this.beat.duration>=le.Eighth&&(this.minWidth+=20*this.scale);else switch(this.beat.duration){case le.OneHundredTwentyEighth:case le.TwoHundredFiftySixth:this.minWidth+=10*this.scale;break}let e=0;for(let r of this.ties)r.width>e&&(e=r.width);this.minWidth+=e,this.width=this.minWidth}scaleToWidth(e){this.onNotes.updateBeamingHelper(),this.width=e}createTies(e){}static getGroupId(e){return"b"+e.id}paint(e,r,n){if(this.beat.voice.isEmpty||this.preNotes.isEmpty&&this.onNotes.isEmpty&&this.ties.length===0)return;n.beginGroup(il.getGroupId(this.beat)),this.preNotes.paint(e+this.x,r+this.y,n),this.onNotes.paint(e+this.x,r+this.y,n);let s=e-this.voiceContainer.x-this.renderer.x,a=r-this.voiceContainer.y-this.renderer.y;for(let o=0,l=this.ties.length;o<l;o++){let u=this.ties[o];u.renderer=this.renderer,u.paint(s,a,n)}n.endGroup()}buildBoundingsLookup(e,r,n,i){let s=new nW;s.beat=this.beat,s.visualBounds=new Fs,s.visualBounds.x=r+this.x+this.onNotes.x,s.visualBounds.y=e.visualBounds.y,s.visualBounds.w=this.onNotes.width,s.visualBounds.h=e.visualBounds.h,s.realBounds=new Fs,s.realBounds.x=r+this.x,s.realBounds.y=e.realBounds.y,s.realBounds.w=this.width,s.realBounds.h=e.realBounds.h,i&&(s.visualBounds.x=r+this.x,s.realBounds.x=s.visualBounds.x),e.addBeat(s),this.renderer.settings.core.includeNoteBounds&&this.onNotes.buildBoundingsLookup(s,r+this.x,n+this.y)}}il.GraceBeatPadding=3;class jF{constructor(){this.oldWidth=0,this.newWidth=0,this.settings=null}core(){return this.settings&&this.causeIssue()?this.settings.core:new xW}causeIssue(){return this.settings=null,!0}}class txe{constructor(e){this.activeBeats=e}}class zb{constructor(e){this.bounds=null,this.beat=e}}class rxe{constructor(e,r){this._startTime=0,this._trackIndexes=null,this._trackIndexLookup=null,this._isDestroyed=!1,this.score=null,this.tracks=[],this._tickCache=null,this.player=null,this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null,this._previousTick=0,this._playerState=ai.Paused,this._currentBeat=null,this._currentBarBounds=null,this._previousStateForCursor=ai.Paused,this._previousCursorCache=null,this._lastScroll=0,this.playedBeatChanged=new lr,this.activeBeatsChanged=new lr,this._beatMouseDown=!1,this._noteMouseDown=!1,this._selectionStart=null,this._selectionEnd=null,this.beatMouseDown=new lr,this.beatMouseMove=new lr,this.beatMouseUp=new lr,this.noteMouseDown=new lr,this.noteMouseMove=new lr,this.noteMouseUp=new lr,this.scoreLoaded=new lr,this.resize=new lr,this.renderStarted=new lr,this.renderFinished=new lr,this.postRenderFinished=new hi,this.error=new lr,this.playerReady=new hi,this.playerFinished=new hi,this.soundFontLoaded=new hi,this.midiLoad=new lr,this.midiLoaded=new lr,this.playerStateChanged=new lr,this.playerPositionChanged=new lr,this.midiEventsPlayed=new lr,this.playbackRangeChanged=new lr,this.settingsUpdated=new hi,this.uiFacade=e,this.container=e.rootContainer,e.initialize(this,r),Fe.logLevel=this.settings.core.logLevel,this.canvasElement=e.createCanvasElement(),this.container.appendChild(this.canvasElement),this.settings.core.useWorkers&&this.uiFacade.areWorkersSupported&&Ue.getRenderEngineFactory(this.settings.core.engine).supportsWorkers?this.renderer=this.uiFacade.createWorkerRenderer():this.renderer=new aW(this.settings),this.container.resize.on(Ue.throttle(()=>{this._isDestroyed||this.container.width!==this.renderer.width&&this.triggerResize()},e.resizeThrottle));let n=new jF;n.oldWidth=this.renderer.width,n.newWidth=this.container.width|0,n.settings=this.settings,this.onResize(n),this.renderer.preRender.on(this.onRenderStarted.bind(this)),this.renderer.renderFinished.on(i=>{this.onRenderFinished(i)}),this.renderer.postRenderFinished.on(()=>{let i=Date.now()-this._startTime;Fe.debug("rendering","Rendering completed in "+i+"ms"),this.onPostRenderFinished()}),this.renderer.preRender.on(i=>{this._startTime=Date.now()}),this.renderer.partialLayoutFinished.on(this.appendRenderResult.bind(this)),this.renderer.partialRenderFinished.on(this.updateRenderResult.bind(this)),this.renderer.renderFinished.on(i=>{this.appendRenderResult(i),this.appendRenderResult(null)}),this.renderer.error.on(this.onError.bind(this)),this.settings.player.enablePlayer&&this.setupPlayer(),this.setupClickHandling(),this.uiFacade.beginInvoke(()=>{this.uiFacade.initialRender()})}destroy(){this._isDestroyed=!0,this.player&&this.player.destroy(),this.uiFacade.destroy(),this.renderer.destroy()}updateSettings(){var r;const e=this.score;e&&Xr.applyPitchOffsets(this.settings,e),this.renderer.updateSettings(this.settings),this.settings.player.enablePlayer?(this.setupPlayer(),e&&((r=this.player)==null||r.applyTranspositionPitches(Mr.buildTranspositionPitches(e,this.settings)))):this.destroyPlayer(),this.onSettingsUpdated()}load(e,r){try{return this.uiFacade.load(e,n=>{this.renderScore(n,r)},n=>{this.onError(n)})}catch(n){return this.onError(n),!1}}renderScore(e,r){let n=[];if(!r)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===0)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===1&&r[0]===-1)for(let i of e.tracks)n.push(i);else for(let i of r)i>=0&&i<=e.tracks.length&&n.push(e.tracks[i]);this.internalRenderTracks(e,n)}renderTracks(e){if(e.length>0){let r=e[0].score;for(let n of e)if(n.score!==r){this.onError(new _i(Ci.General,"All rendered tracks must belong to the same score."));return}this.internalRenderTracks(r,e)}}internalRenderTracks(e,r){if(Xr.applyPitchOffsets(this.settings,e),e!==this.score){this.score=e,this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.onScoreLoaded(e),this.loadMidiForScore(),this.render()}else{this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.render()}}triggerResize(){if(!this.container.isVisible)Fe.warning("Rendering","AlphaTab container was invisible while autosizing, waiting for element to become visible",null),this.uiFacade.rootContainerBecameVisible.on(()=>{Fe.debug("Rendering","AlphaTab container became visible, doing autosizing",null),this.triggerResize()});else{let e=new jF;e.oldWidth=this.renderer.width,e.newWidth=this.container.width,e.settings=this.settings,this.onResize(e),this.renderer.updateSettings(this.settings),this.renderer.width=this.container.width,this.renderer.resizeRender()}}appendRenderResult(e){e?(this.canvasElement.width=e.totalWidth,this.canvasElement.height=e.totalHeight,this._cursorWrapper&&(this._cursorWrapper.width=e.totalWidth,this._cursorWrapper.height=e.totalHeight),(e.width>0||e.height>0)&&this.uiFacade.beginAppendRenderResults(e)):this.uiFacade.beginAppendRenderResults(e)}updateRenderResult(e){e&&e.renderResult&&this.uiFacade.beginUpdateRenderResults(e)}tex(e,r){try{let n=new us;n.logErrors=!0,n.initFromString(e,this.settings);let i=n.readScore();this.renderScore(i,r)}catch(n){this.onError(n)}}loadSoundFont(e,r=!1){return this.player?this.uiFacade.loadSoundFont(e,r):!1}resetSoundFonts(){this.player&&this.player.resetSoundFonts()}render(){this.renderer&&(this.uiFacade.canRender?(this.renderer.width=this.container.width,this.renderer.renderScore(this.score,this._trackIndexes)):this.uiFacade.canRenderChanged.on(()=>this.render()))}get tickCache(){return this._tickCache}get isReadyForPlayback(){return this.player?this.player.isReadyForPlayback:!1}get playerState(){return this.player?this.player.state:ai.Paused}get masterVolume(){return this.player?this.player.masterVolume:0}set masterVolume(e){this.player&&(this.player.masterVolume=e)}get metronomeVolume(){return this.player?this.player.metronomeVolume:0}set metronomeVolume(e){this.player&&(this.player.metronomeVolume=e)}get countInVolume(){return this.player?this.player.countInVolume:0}set countInVolume(e){this.player&&(this.player.countInVolume=e)}get midiEventsPlayedFilter(){return this.player?this.player.midiEventsPlayedFilter:[]}set midiEventsPlayedFilter(e){this.player&&(this.player.midiEventsPlayedFilter=e)}get tickPosition(){return this.player?this.player.tickPosition:0}set tickPosition(e){this.player&&(this.player.tickPosition=e)}get timePosition(){return this.player?this.player.timePosition:0}set timePosition(e){this.player&&(this.player.timePosition=e)}get playbackRange(){return this.player?this.player.playbackRange:null}set playbackRange(e){this.player&&(this.player.playbackRange=e,this.settings.player.enableCursor&&this.updateSelectionCursor(e))}get playbackSpeed(){return this.player?this.player.playbackSpeed:0}set playbackSpeed(e){this.player&&(this.player.playbackSpeed=e)}get isLooping(){return this.player?this.player.isLooping:!1}set isLooping(e){this.player&&(this.player.isLooping=e)}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null,this._previousTick=0,this._playerState=ai.Paused,this.destroyCursors())}setupPlayer(){this.updateCursors(),!this.player&&(this.player=this.uiFacade.createWorkerPlayer(),this.player&&(this.player.ready.on(()=>{this.loadMidiForScore()}),this.player.readyForPlayback.on(()=>{if(this.onPlayerReady(),this.tracks)for(let e of this.tracks){let r=e.playbackInfo.volume/16;this.player.setChannelVolume(e.playbackInfo.primaryChannel,r),this.player.setChannelVolume(e.playbackInfo.secondaryChannel,r)}}),this.player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this.player.soundFontLoadFailed.on(e=>{this.onError(e)}),this.player.midiLoaded.on(this.onMidiLoaded.bind(this)),this.player.midiLoadFailed.on(e=>{this.onError(e)}),this.player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this.player.positionChanged.on(this.onPlayerPositionChanged.bind(this)),this.player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this.player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this.player.finished.on(this.onPlayerFinished.bind(this)),this.setupPlayerEvents()))}loadMidiForScore(){if(!this.player||!this.score||!this.player.isReady)return;Fe.debug("AlphaTab","Generating Midi");let e=new Fc,r=new Rl(e),n=new Mr(this.score,this.settings,r);n.applyTranspositionPitches=!1,n.generate(),this._tickCache=n.tickLookup,this.onMidiLoad(e),this.player.loadMidiFile(e),this.player.applyTranspositionPitches(n.transpositionPitches)}changeTrackVolume(e,r){if(this.player)for(let n of e)this.player.setChannelVolume(n.playbackInfo.primaryChannel,r),this.player.setChannelVolume(n.playbackInfo.secondaryChannel,r)}changeTrackSolo(e,r){if(this.player)for(let n of e)this.player.setChannelSolo(n.playbackInfo.primaryChannel,r),this.player.setChannelSolo(n.playbackInfo.secondaryChannel,r)}changeTrackMute(e,r){if(this.player)for(let n of e)this.player.setChannelMute(n.playbackInfo.primaryChannel,r),this.player.setChannelMute(n.playbackInfo.secondaryChannel,r)}play(){return this.player?this.player.play():!1}pause(){this.player&&this.player.pause()}playPause(){this.player&&this.player.playPause()}stop(){this.player&&this.player.stop()}playBeat(e){if(!this.player)return;let r=new Fc,n=new Rl(r);new Mr(e.voice.bar.staff.track.score,this.settings,n).generateSingleBeat(e),this.player.playOneTimeMidiFile(r)}playNote(e){if(!this.player)return;let r=new Fc,n=new Rl(r);new Mr(e.beat.voice.bar.staff.track.score,this.settings,n).generateSingleNote(e),this.player.playOneTimeMidiFile(r)}destroyCursors(){this._cursorWrapper&&(this.uiFacade.destroyCursors(),this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null)}updateCursors(){if(this.settings.player.enableCursor&&!this._cursorWrapper){let e=this.uiFacade.createCursors();e&&(this._cursorWrapper=e.cursorWrapper,this._barCursor=e.barCursor,this._beatCursor=e.beatCursor,this._selectionWrapper=e.selectionWrapper),this._currentBeat!==null&&this.cursorUpdateBeat(this._currentBeat,!1,this._previousTick>10,!0)}else!this.settings.player.enableCursor&&this._cursorWrapper&&this.destroyCursors()}setupPlayerEvents(){this._previousTick=0,this._playerState=ai.Paused,this.renderer.postRenderFinished.on(()=>{this._currentBeat=null,this.cursorUpdateTick(this._previousTick,!1,this._previousTick>10)}),this.player&&(this.player.positionChanged.on(e=>{this._previousTick=e.currentTick,this.uiFacade.beginInvoke(()=>{this.cursorUpdateTick(e.currentTick,!1)})}),this.player.stateChanged.on(e=>{if(this._playerState=e.state,!e.stopped&&e.state===ai.Paused){let r=this._currentBeat,n=this._tickCache;r&&n&&(this.player.tickPosition=n.getBeatStart(r.beat))}}))}cursorUpdateTick(e,r,n=!1){let i=this._tickCache;if(i){let s=this._trackIndexLookup;if(s!=null&&s.size>0){let a=i.findBeat(s,e,this._currentBeat);a&&this.cursorUpdateBeat(a,r,n)}}}cursorUpdateBeat(e,r,n,i=!1){var m;const s=e.beat,a=((m=e.nextBeat)==null?void 0:m.beat)??null,o=e.duration,l=e.beatLookup.highlightedBeats;if(!s)return;let u=this.renderer.boundsLookup;if(!u)return;let c=this._currentBeat,h=this._previousCursorCache,f=this._previousStateForCursor;if(!i&&s===(c==null?void 0:c.beat)&&u===h&&f===this._playerState)return;let g=u.findBeat(s);g&&(this._currentBeat=e,this._previousCursorCache=u,this._previousStateForCursor=this._playerState,this.uiFacade.beginInvoke(()=>{this.internalCursorUpdateBeat(s,a,o,r,l,u,g,n)}))}scrollToCursor(){const e=this._currentBarBounds;e&&this.internalScrollToCursor(e)}internalScrollToCursor(e){let r=this.uiFacade.getScrollContainer(),n=Ue.getLayoutEngineFactory(this.settings.display.layoutMode).vertical,i=this.settings.player.scrollMode;if(n){let s=e.realBounds.y+this.settings.player.scrollOffsetY;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case pu.Continuous:let a=this.uiFacade.getOffset(r,this.container);this.uiFacade.scrollToY(r,a.y+s,this.settings.player.scrollSpeed);break;case pu.OffScreen:let o=r.scrollTop+this.uiFacade.getOffset(null,r).h;if(e.visualBounds.y+e.visualBounds.h>=o||e.visualBounds.y<r.scrollTop){let l=e.realBounds.y+this.settings.player.scrollOffsetY;this.uiFacade.scrollToY(r,l,this.settings.player.scrollSpeed)}break}}else{let s=e.visualBounds.x;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case pu.Continuous:let a=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,a,this.settings.player.scrollSpeed);break;case pu.OffScreen:let o=r.scrollLeft+this.uiFacade.getOffset(null,r).w;if(e.visualBounds.x+e.visualBounds.w>=o||e.visualBounds.x<r.scrollLeft){let l=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,l,this.settings.player.scrollSpeed)}break}}}internalCursorUpdateBeat(e,r,n,i,s,a,o,l){const u=this._barCursor,c=this._beatCursor;let h=o.barBounds.masterBarBounds,f=h.visualBounds;this._currentBarBounds=h,u&&u.setBounds(f.x,f.y,f.w,f.h),c&&(this.settings.player.enableAnimatedBeatCursor&&c.stopAnimation(),c.setBounds(o.visualBounds.x,f.y,1,f.h)),this.settings.player.enableElementHighlighting&&this.uiFacade.removeHighlights();let g=!1;if(this._playerState===ai.Playing&&!i){if(this.settings.player.enableElementHighlighting)for(let m of s){let y=il.getGroupId(m.beat);this.uiFacade.highlightElements(y,e.voice.bar.index)}if(this.settings.player.enableAnimatedBeatCursor){let m=h.visualBounds.x+h.visualBounds.w;if(r){let y=a.findBeat(r);y&&y.barBounds.masterBarBounds.staveGroupBounds===h.staveGroupBounds&&(m=y.visualBounds.x)}this.uiFacade.beginInvoke(()=>{c&&c.transitionToX(n/this.playbackSpeed,m)})}l=!i,g=!0}l&&!this._beatMouseDown&&this.settings.player.scrollMode!==pu.Off&&this.internalScrollToCursor(h),g&&(this.onPlayedBeatChanged(e),this.onActiveBeatsChanged(new txe(s.map(m=>m.beat))))}onPlayedBeatChanged(e){this._isDestroyed||(this.playedBeatChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playedBeatChanged",e))}onActiveBeatsChanged(e){this._isDestroyed||(this.activeBeatsChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"activeBeatsChanged",e))}onBeatMouseDown(e,r){this._isDestroyed||(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction&&(this._selectionStart=new zb(r),this._selectionEnd=null),this._beatMouseDown=!0,this.beatMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseDown",r,e))}onNoteMouseDown(e,r){this._isDestroyed||(this._noteMouseDown=!0,this.noteMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseDown",r,e))}onBeatMouseMove(e,r){this._isDestroyed||(this.settings.player.enableUserInteraction&&(!this._selectionEnd||this._selectionEnd.beat!==r)&&(this._selectionEnd=new zb(r),this.cursorSelectRange(this._selectionStart,this._selectionEnd)),this.beatMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseMove",r,e))}onNoteMouseMove(e,r){this._isDestroyed||(this.noteMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseMove",r,e))}onBeatMouseUp(e,r){var n,i;if(!this._isDestroyed){if(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction){if(this._selectionEnd){let s=((n=this._tickCache)==null?void 0:n.getBeatStart(this._selectionStart.beat))??this._selectionStart.beat.absolutePlaybackStart;if((((i=this._tickCache)==null?void 0:i.getBeatStart(this._selectionEnd.beat))??this._selectionEnd.beat.absolutePlaybackStart)<s){let o=this._selectionStart;this._selectionStart=this._selectionEnd,this._selectionEnd=o}}if(this._selectionStart&&this._tickCache){let s=this._tickCache,a=s.getMasterBarStart(this._selectionStart.beat.voice.bar.masterBar);if(this._currentBeat=null,this._playerState===ai.Paused&&this.cursorUpdateTick(this._tickCache.getBeatStart(this._selectionStart.beat),!1),this.tickPosition=a+this._selectionStart.beat.playbackStart,this._selectionEnd&&this._selectionStart.beat!==this._selectionEnd.beat){let o=s.getMasterBarStart(this._selectionEnd.beat.voice.bar.masterBar),l=new exe;l.startTick=a+this._selectionStart.beat.playbackStart,l.endTick=o+this._selectionEnd.beat.playbackStart+this._selectionEnd.beat.playbackDuration-50,this.playbackRange=l}else this._selectionStart=null,this.playbackRange=null,this.cursorSelectRange(this._selectionStart,this._selectionEnd)}}this.beatMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseUp",r,e),this._beatMouseDown=!1}}onNoteMouseUp(e,r){this._isDestroyed||(this.noteMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseUp",r,e),this._noteMouseDown=!1)}updateSelectionCursor(e){if(this._tickCache)if(e){const r=this._tickCache.findBeat(this._trackIndexLookup,e.startTick),n=this._tickCache.findBeat(this._trackIndexLookup,e.endTick);if(r&&n){const i=new zb(r.beat),s=new zb(n.beat);this.cursorSelectRange(i,s)}}else this.cursorSelectRange(null,null)}setupClickHandling(){this.canvasElement.mouseDown.on(e=>{var s,a;if(!e.isLeftMouseButton)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseDown(e,i),this.settings.core.includeNoteBounds)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseDown(e,o)}}),this.canvasElement.mouseMove.on(e=>{var s,a;if(!this._beatMouseDown)return;let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseMove(e,i),this._noteMouseDown)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseMove(e,o)}}),this.canvasElement.mouseUp.on(e=>{var s,a;if(!this._beatMouseDown)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(this.onBeatMouseUp(e,i),this._noteMouseDown)if(i){const o=((a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n))??null;this.onNoteMouseUp(e,o)}else this.onNoteMouseUp(e,null)}),this.renderer.postRenderFinished.on(()=>{!this._selectionStart||!this.settings.player.enablePlayer||!this.settings.player.enableCursor||!this.settings.player.enableUserInteraction||this.cursorSelectRange(this._selectionStart,this._selectionEnd)})}cursorSelectRange(e,r){var u,c;let n=this.renderer.boundsLookup;if(!n)return;let i=this._selectionWrapper;if(!i||(i.clear(),!e||!r||e.beat===r.beat))return;e.bounds||(e.bounds=n.findBeat(e.beat)),r.bounds||(r.bounds=n.findBeat(r.beat));let s=((u=this._tickCache)==null?void 0:u.getBeatStart(e.beat))??e.beat.absolutePlaybackStart;if((((c=this._tickCache)==null?void 0:c.getBeatStart(r.beat))??r.beat.absolutePlaybackStart)<s){let h=e;e=r,r=h}let o=e.bounds.realBounds.x,l=r.bounds.realBounds.x+r.bounds.realBounds.w;if(r.beat.index===r.beat.voice.beats.length-1&&(l=r.bounds.barBounds.masterBarBounds.realBounds.x+r.bounds.barBounds.masterBarBounds.realBounds.w),e.bounds.barBounds.masterBarBounds.staveGroupBounds!==r.bounds.barBounds.masterBarBounds.staveGroupBounds){let h=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x,f=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x+e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.w,g=this.uiFacade.createSelectionElement();g.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,f-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(g);let m=e.bounds.barBounds.masterBarBounds.staveGroupBounds.index+1,y=r.bounds.barBounds.masterBarBounds.staveGroupBounds.index;for(let x=m;x<y;x++){let v=n.staveGroups[x],w=this.uiFacade.createSelectionElement();w.setBounds(h,v.visualBounds.y,f-h,v.visualBounds.h),i.appendChild(w)}let b=this.uiFacade.createSelectionElement();b.setBounds(h,r.bounds.barBounds.masterBarBounds.visualBounds.y,l-h,r.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(b)}else{let h=this.uiFacade.createSelectionElement();h.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,l-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(h)}}onScoreLoaded(e){this._isDestroyed||(this.scoreLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"scoreLoaded",e))}onResize(e){this._isDestroyed||(this.resize.trigger(e),this.uiFacade.triggerEvent(this.container,"resize",e))}onRenderStarted(e){this._isDestroyed||(this.renderStarted.trigger(e),this.uiFacade.triggerEvent(this.container,"renderStarted",e))}onRenderFinished(e){this._isDestroyed||(this.renderFinished.trigger(e),this.uiFacade.triggerEvent(this.container,"renderFinished",e))}onPostRenderFinished(){this._isDestroyed||(this.postRenderFinished.trigger(),this.uiFacade.triggerEvent(this.container,"postRenderFinished",null))}onError(e){this._isDestroyed||(Fe.error("API","An unexpected error occurred",e),this.error.trigger(e),this.uiFacade.triggerEvent(this.container,"error",e))}onPlayerReady(){this._isDestroyed||(this.playerReady.trigger(),this.uiFacade.triggerEvent(this.container,"playerReady",null))}onPlayerFinished(){this._isDestroyed||(this.playerFinished.trigger(),this.uiFacade.triggerEvent(this.container,"playerFinished",null))}onSoundFontLoaded(){this._isDestroyed||(this.soundFontLoaded.trigger(),this.uiFacade.triggerEvent(this.container,"soundFontLoaded",null))}onMidiLoad(e){this._isDestroyed||(this.midiLoad.trigger(e),this.uiFacade.triggerEvent(this.container,"midiLoad",e))}onMidiLoaded(e){this._isDestroyed||(this.midiLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"midiFileLoaded",e))}onPlayerStateChanged(e){this._isDestroyed||(this.playerStateChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerStateChanged",e))}onPlayerPositionChanged(e){this._isDestroyed||this.score!==null&&this.tracks.length>0&&(this.playerPositionChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerPositionChanged",e))}onMidiEventsPlayed(e){this._isDestroyed||(this.midiEventsPlayed.trigger(e),this.uiFacade.triggerEvent(this.container,"midiEventsPlayed",e))}onPlaybackRangeChanged(e){this._isDestroyed||(this.playbackRangeChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playbackRangeChanged",e))}onSettingsUpdated(){this._isDestroyed||(this.settingsUpdated.trigger(),this.uiFacade.triggerEvent(this.container,"settingsUpdated",null))}}class du extends _i{constructor(e,r){super(Ci.General,e),this.xhr=r,Object.setPrototypeOf(this,du.prototype)}}class Mf{static loadScoreAsync(e,r,n,i){let s=new XMLHttpRequest;s.open("GET",e,!0,null,null),s.responseType="arraybuffer",s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){let a=s.response;if(s.status===200||s.status===0&&a)try{let o=s.response,l=new Uint8Array(o),u=Mf.loadScoreFromBytes(l,i);r(u)}catch(o){n(o)}else s.status===0?n(new du(`You are offline!!
 Please Check Your Network.`,s)):s.status===404?n(new du("Requested URL not found.",s)):s.status===500?n(new du("Internel Server Error.",s)):s.statusText==="parsererror"?n(new du(`Error.
Parsing JSON Request failed.`,s)):s.statusText==="timeout"?n(new du("Request Time out.",s)):n(new du("Unknow Error: "+s.responseText,s))}},s.send()}static loadScoreFromBytes(e,r){r||(r=new hh);let n=Ue.buildImporters();Fe.debug("ScoreLoader",`Loading score from ${e.length} bytes using ${n.length} importers`);let i=null,s=Gi.fromBuffer(e);for(let a of n){s.reset();try{Fe.debug("ScoreLoader","Importing using importer "+a.name),a.init(s,r),i=a.readScore(),Fe.debug("ScoreLoader","Score imported using "+a.name);break}catch(o){if(o instanceof Xn)Fe.debug("ScoreLoader",a.name+" does not support the file");else throw Fe.error("ScoreLoader","Score import failed due to unexpected error: ",o),o}}if(i)return i;throw new Xn("No compatible importer found for file")}}class VC{get isLeftMouseButton(){return this.mouseEvent.button===0}getX(e){let r=e.element,i=r.getBoundingClientRect().left+r.ownerDocument.defaultView.pageXOffset;return this.mouseEvent.pageX-i}getY(e){let r=e.element,i=r.getBoundingClientRect().top+r.ownerDocument.defaultView.pageYOffset;return this.mouseEvent.pageY-i}preventDefault(){this.mouseEvent.preventDefault()}constructor(e){this.mouseEvent=e}}class Dl{get width(){return this.element.offsetWidth}set width(e){this.element.style.width=e+"px"}get scrollLeft(){return this.element.scrollLeft}set scrollLeft(e){this.element.scrollTop=e}get scrollTop(){return this.element.scrollLeft}set scrollTop(e){this.element.scrollTop=e}get height(){return this.element.offsetHeight}set height(e){e>=0?this.element.style.height=e+"px":this.element.style.height="100%"}get isVisible(){return!!this.element.offsetWidth||!!this.element.offsetHeight||!!this.element.getClientRects().length}constructor(e){this._resizeListeners=0,this.lastBounds=new Fs,this.element=e,this.mouseDown={on:r=>{this.element.addEventListener("mousedown",n=>{r(new VC(n))},!0)},off:r=>{}},this.mouseUp={on:r=>{this.element.addEventListener("mouseup",n=>{r(new VC(n))},!0)},off:r=>{}},this.mouseMove={on:r=>{this.element.addEventListener("mousemove",n=>{r(new VC(n))},!0)},off:r=>{}},this.resize={on:r=>{this._resizeListeners===0&&Dl.resizeObserver.value.observe(this.element),this.element.addEventListener("resize",r,!0),this._resizeListeners++},off:r=>{this.element.removeEventListener("resize",r,!0),this._resizeListeners--,this._resizeListeners<=0&&(this._resizeListeners=0,Dl.resizeObserver.value.unobserve(this.element))}}}stopAnimation(){this.element.style.transition="none"}transitionToX(e,r){this.element.style.transition=`transform ${e}ms linear`,this.setBounds(r,NaN,NaN,NaN)}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)&&(n=this.lastBounds.w),isNaN(i)&&(i=this.lastBounds.h),this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}appendChild(e){this.element.appendChild(e.element)}clear(){this.element.innerHTML=""}}Dl.resizeObserver=new Ez(()=>new ResizeObserver(t=>{for(const e of t){let r=new CustomEvent("resize",{detail:e});e.target.dispatchEvent(r)}}));class lW{constructor(e){this._isStarted=!1,this.isFontLoaded=!1,this.fontLoaded=new lr,this._originalFamilies=e,this._families=e}checkForFontAvailability(){if(Ue.isRunningInWorker){this.isFontLoaded=!1;return}if(this._isStarted)return;this._isStarted=!0;let e=0,r=window.setInterval(()=>{Fe.warning("Rendering",`Could not load font '${this._families[0]}' within ${(e+1)*5} seconds`,null),this._families.length>1?(this._families.shift(),e=0):e++},5e3);Fe.debug("Font",`Start checking for font availablility: ${this._families.join(", ")}`);let n=a=>{this._families.length>1?(Fe.debug("Font",`[${this._families[0]}] Loading Failed, switching to ${this._families[1]}`,a),this._families.shift(),window.setTimeout(()=>{s()},0)):(Fe.error("Font",`[${this._originalFamilies.join(",")}] Loading Failed, rendering cannot start`,a),window.clearInterval(r))},i=a=>{Fe.debug("Font",`[${a}] Font API signaled available`),this.isFontLoaded=!0,window.clearInterval(r),this.fontLoaded.trigger(this._families[0])},s=async()=>{for(const a of this._families)if(await this.isFontAvailable(a,!1)){i(a);return}try{await document.fonts.load(`1em ${this._families[0]}`)}catch(a){n(a)}return Fe.debug("Font",`[${this._families[0]}] Font API signaled loaded`),await this.isFontAvailable(this._families[0],!0)?i(this._families[0]):n("Font not available"),!0};document.fonts.ready.then(()=>{s()})}isFontAvailable(e,r){return new Promise(n=>{const i="1em "+e;if(document.fonts.check(i))n(!0);else if(r){Fe.debug("Font",`Font ${e} not available, creating test element to trigger load`);const s=document.createElement("div");s.style.font=i,s.style.opacity="0",s.style.position="absolute",s.style.top="0",s.style.left="0",s.innerText=`Trigger ${e} load`,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.fonts.check(i)?n(!0):n(!1)},200)}else n(!1)})}}class uW{constructor(e){this._writePosition=0,this._readPosition=0,this.count=0,this._buffer=new Float32Array(e)}clear(){this._readPosition=0,this._writePosition=0,this.count=0,this._buffer=new Float32Array(this._buffer.length)}write(e,r,n){let i=0;n>this._buffer.length-this.count&&(n=this._buffer.length-this.count);const s=Math.min(this._buffer.length-this._writePosition,n);return this._buffer.set(e.subarray(r,r+s),this._writePosition),this._writePosition+=s,this._writePosition%=this._buffer.length,i+=s,i<n&&(this._buffer.set(e.subarray(r+i,r+i+n-i),this._writePosition),this._writePosition+=n-i,i=n),this.count+=i,i}read(e,r,n){n>this.count&&(n=this.count);let i=0;const s=Math.min(this._buffer.length-this._readPosition,n);return e.set(this._buffer.subarray(this._readPosition,this._readPosition+s),r),i+=s,this._readPosition+=s,this._readPosition%=this._buffer.length,i<n&&(e.set(this._buffer.subarray(this._readPosition,this._readPosition+n-i),r+i),this._readPosition+=n-i,i=n),this.count-=i,i}}class mo{constructor(){this._context=null,this._buffer=null,this._source=null,this.ready=new hi,this.samplesPlayed=new lr,this.sampleRequest=new hi}get sampleRate(){return this._context?this._context.sampleRate:mo.PreferredSampleRate}activate(e){this._context||(this._context=this.createAudioContext()),(this._context.state==="suspended"||this._context.state==="interrupted")&&(Fe.debug("WebAudio","Audio Context is suspended, trying resume"),this._context.resume().then(()=>{var r,n;Fe.debug("WebAudio",`Audio Context resume success: state=${(r=this._context)==null?void 0:r.state}, sampleRate:${(n=this._context)==null?void 0:n.sampleRate}`),e&&e()},r=>{var n,i;Fe.warning("WebAudio",`Audio Context resume failed: state=${(n=this._context)==null?void 0:n.state}, sampleRate:${(i=this._context)==null?void 0:i.sampleRate}, reason=${r}`)}))}patchIosSampleRate(){let e=navigator.userAgent;if(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1){let r=this.createAudioContext(),n=r.createBuffer(1,1,mo.PreferredSampleRate),i=r.createBufferSource();i.buffer=n,i.connect(r.destination),i.start(0),i.disconnect(0),r.close()}}createAudioContext(){if("AudioContext"in Ue.globalThis)return new AudioContext;if("webkitAudioContext"in Ue.globalThis)return new webkitAudioContext;throw new _i(Ci.General,"AudioContext not found")}open(e){this.patchIosSampleRate(),this._context=this.createAudioContext(),this._context.state==="suspended"&&this.registerResumeHandler()}registerResumeHandler(){this._resumeHandler=(()=>{this.activate(()=>{this.unregisterResumeHandler()})}).bind(this),document.body.addEventListener("touchend",this._resumeHandler,!1),document.body.addEventListener("click",this._resumeHandler,!1)}unregisterResumeHandler(){const e=this._resumeHandler;e&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}play(){let e=this._context;this.activate(),this._buffer=e.createBuffer(2,mo.BufferSize,e.sampleRate),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0}pause(){this._source&&(this._source.stop(0),this._source.disconnect()),this._source=null}destroy(){var e;this.pause(),(e=this._context)==null||e.close(),this._context=null,this.unregisterResumeHandler()}onSamplesPlayed(e){this.samplesPlayed.trigger(e)}onSampleRequest(){this.sampleRequest.trigger()}onReady(){this.ready.trigger()}}mo.BufferSize=4096;mo.PreferredSampleRate=44100;class nxe extends mo{constructor(){super(...arguments),this._audioNode=null,this._bufferCount=0,this._requestedBufferCount=0,this._outputBuffer=new Float32Array(0)}open(e){super.open(e),this._bufferCount=Math.floor(e*this.sampleRate/1e3/mo.BufferSize),this._circularBuffer=new uW(mo.BufferSize*this._bufferCount),this.onReady()}play(){super.play();let e=this._context;this._audioNode=e.createScriptProcessor(4096,0,2),this._audioNode.onaudioprocess=this.generateSound.bind(this),this._circularBuffer.clear(),this.requestBuffers(),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.connect(this._audioNode,0,0),this._source.start(0),this._audioNode.connect(e.destination,0,0)}pause(){super.pause(),this._audioNode&&this._audioNode.disconnect(0),this._audioNode=null}addSamples(e){this._circularBuffer.write(e,0,e.length),this._requestedBufferCount--}resetSamples(){this._circularBuffer.clear()}requestBuffers(){const e=this._bufferCount/2|0;let r=e*mo.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*mo.BufferSize<r){for(let i=0;i<e;i++)this.onSampleRequest();this._requestedBufferCount+=e}}generateSound(e){let r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1),i=r.length+n.length,s=this._outputBuffer;s.length!==i&&(s=new Float32Array(i),this._outputBuffer=s);const a=this._circularBuffer.read(s,0,Math.min(s.length,this._circularBuffer.count));let o=0;for(let l=0;l<r.length;l++)r[l]=s[o++],n[l]=s[o++];this.onSamplesPlayed(a/Yt.AudioChannels),this.requestBuffers()}}class ixe{constructor(e,r){this.loaded=e,this.total=r}}class YF{get isReady(){return this._workerIsReady&&this._outputIsReady}get isReadyForPlayback(){return this._workerIsReadyForPlayback}get state(){return this._state}get logLevel(){return Fe.logLevel}set logLevel(e){Fe.logLevel=e,this._synth.postMessage({cmd:"alphaSynth.setLogLevel",value:e})}get masterVolume(){return this._masterVolume}set masterVolume(e){e=Math.max(e,Yt.MinVolume),this._masterVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMasterVolume",value:e})}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,Yt.MinVolume),this._metronomeVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMetronomeVolume",value:e})}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,Yt.MinVolume),this._countInVolume=e,this._synth.postMessage({cmd:"alphaSynth.setCountInVolume",value:e})}get midiEventsPlayedFilter(){return this._midiEventsPlayedFilter}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=e,this._synth.postMessage({cmd:"alphaSynth.setMidiEventsPlayedFilter",value:e})}get playbackSpeed(){return this._playbackSpeed}set playbackSpeed(e){e=Nn.clamp(e,Yt.MinPlaybackSpeed,Yt.MaxPlaybackSpeed),this._playbackSpeed=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackSpeed",value:e})}get tickPosition(){return this._tickPosition}set tickPosition(e){e<0&&(e=0),this._tickPosition=e,this._synth.postMessage({cmd:"alphaSynth.setTickPosition",value:e})}get timePosition(){return this._timePosition}set timePosition(e){e<0&&(e=0),this._timePosition=e,this._synth.postMessage({cmd:"alphaSynth.setTimePosition",value:e})}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this._synth.postMessage({cmd:"alphaSynth.setIsLooping",value:e})}get playbackRange(){return this._playbackRange}set playbackRange(e){e&&(e.startTick<0&&(e.startTick=0),e.endTick<0&&(e.endTick=0)),this._playbackRange=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackRange",value:e})}constructor(e,r){this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=ai.Paused,this._masterVolume=0,this._metronomeVolume=0,this._countInVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._midiEventsPlayedFilter=[],this.ready=new hi,this.readyForPlayback=new hi,this.finished=new hi,this.soundFontLoaded=new hi,this.soundFontLoadFailed=new lr,this.midiLoaded=new lr,this.midiLoadFailed=new lr,this.stateChanged=new lr,this.positionChanged=new lr,this.midiEventsPlayed=new lr,this.playbackRangeChanged=new lr,this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=ai.Paused,this._masterVolume=0,this._metronomeVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._output=e,this._output.ready.on(this.onOutputReady.bind(this)),this._output.samplesPlayed.on(this.onOutputSamplesPlayed.bind(this)),this._output.sampleRequest.on(this.onOutputSampleRequest.bind(this)),this._output.open(r.player.bufferTimeInMilliseconds);try{this._synth=Ue.createWebWorker(r)}catch(n){Fe.error("AlphaSynth","Failed to create WebWorker: "+n)}this._synth.addEventListener("message",this.handleWorkerMessage.bind(this),!1),this._synth.postMessage({cmd:"alphaSynth.initialize",sampleRate:this._output.sampleRate,logLevel:r.core.logLevel,bufferTimeInMilliseconds:r.player.bufferTimeInMilliseconds}),this.masterVolume=1,this.playbackSpeed=1,this.metronomeVolume=0}destroy(){this._synth.postMessage({cmd:"alphaSynth.destroy"})}play(){return this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.play"}),!0}pause(){this._synth.postMessage({cmd:"alphaSynth.pause"})}playPause(){this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.playPause"})}stop(){this._synth.postMessage({cmd:"alphaSynth.stop"})}playOneTimeMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.playOneTimeMidiFile",midi:zn.midiFileToJsObject(e)})}loadSoundFont(e,r){this._synth.postMessage({cmd:"alphaSynth.loadSoundFontBytes",data:e,append:r})}loadSoundFontFromUrl(e,r,n){Fe.debug("AlphaSynth",`Start loading Soundfont from url ${e}`);let i=new XMLHttpRequest;i.open("GET",e,!0,null,null),i.responseType="arraybuffer",i.onload=s=>{let a=new Uint8Array(i.response);this.loadSoundFont(a,r)},i.onerror=s=>{Fe.error("AlphaSynth","Loading failed: "+s.message),this.soundFontLoadFailed.trigger(new du(s.message,i))},i.onprogress=s=>{Fe.debug("AlphaSynth",`Soundfont downloading: ${s.loaded}/${s.total} bytes`),n(new ixe(s.loaded,s.total))},i.send()}resetSoundFonts(){this._synth.postMessage({cmd:"alphaSynth.resetSoundFonts"})}loadMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.loadMidi",midi:zn.midiFileToJsObject(e)})}applyTranspositionPitches(e){this._synth.postMessage({cmd:"alphaSynth.applyTranspositionPitches",transpositionPitches:JSON.stringify(Array.from(e.entries()))})}setChannelMute(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelMute",channel:e,mute:r})}resetChannelStates(){this._synth.postMessage({cmd:"alphaSynth.resetChannelStates"})}setChannelSolo(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelSolo",channel:e,solo:r})}setChannelVolume(e,r){r=Math.max(r,Yt.MinVolume),this._synth.postMessage({cmd:"alphaSynth.setChannelVolume",channel:e,volume:r})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.ready":this._workerIsReady=!0,this.checkReady();break;case"alphaSynth.destroyed":this._synth.terminate();break;case"alphaSynth.readyForPlayback":this._workerIsReadyForPlayback=!0,this.checkReadyForPlayback();break;case"alphaSynth.positionChanged":this._timePosition=r.currentTime,this._tickPosition=r.currentTick,this.positionChanged.trigger(new Aw(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiEventsPlayed":this.midiEventsPlayed.trigger(new eW(r.events.map(zn.jsObjectToMidiEvent)));break;case"alphaSynth.playerStateChanged":this._state=r.state,this.stateChanged.trigger(new Lv(r.state,r.stopped));break;case"alphaSynth.playbackRangeChanged":this._playbackRange=r.playbackRange,this.playbackRangeChanged.trigger(new tW(this._playbackRange));break;case"alphaSynth.finished":this.finished.trigger();break;case"alphaSynth.soundFontLoaded":this.soundFontLoaded.trigger();break;case"alphaSynth.soundFontLoadFailed":this.soundFontLoadFailed.trigger(r.error);break;case"alphaSynth.midiLoaded":this.checkReadyForPlayback(),this.midiLoaded.trigger(new Aw(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiLoadFailed":this.checkReadyForPlayback(),this.midiLoadFailed.trigger(r.error);break;case"alphaSynth.output.addSamples":this._output.addSamples(r.samples);break;case"alphaSynth.output.play":this._output.play();break;case"alphaSynth.output.pause":this._output.pause();break;case"alphaSynth.output.destroy":this._output.destroy();break;case"alphaSynth.output.resetSamples":this._output.resetSamples();break}}checkReady(){this.isReady&&this.ready.trigger()}checkReadyForPlayback(){this.isReadyForPlayback&&this.readyForPlayback.trigger()}onOutputSampleRequest(){this._synth.postMessage({cmd:"alphaSynth.output.sampleRequest"})}onOutputSamplesPlayed(e){this._synth.postMessage({cmd:"alphaSynth.output.samplesPlayed",samples:e})}onOutputReady(){this._outputIsReady=!0,this.checkReady()}}class sxe{constructor(e,r){this._width=0,this.boundsLookup=null,this.preRender=new lr,this.partialRenderFinished=new lr,this.partialLayoutFinished=new lr,this.renderFinished=new lr,this.postRenderFinished=new hi,this.error=new lr,this._api=e;try{this._worker=Ue.createWebWorker(r)}catch(n){Fe.error("Rendering",`Failed to create WebWorker: ${n}`);return}this._worker.postMessage({cmd:"alphaTab.initialize",settings:this.serializeSettingsForWorker(r)}),this._worker.addEventListener("message",this.handleWorkerMessage.bind(this))}destroy(){this._worker.terminate()}updateSettings(e){this._worker.postMessage({cmd:"alphaTab.updateSettings",settings:this.serializeSettingsForWorker(e)})}serializeSettingsForWorker(e){const r=zn.settingsToJsObject(e);return r.delete("player"),r}render(){this._worker.postMessage({cmd:"alphaTab.render"})}resizeRender(){this._worker.postMessage({cmd:"alphaTab.resizeRender"})}renderResult(e){this._worker.postMessage({cmd:"alphaTab.renderResult",resultId:e})}get width(){return this._width}set width(e){this._width=e,this._worker.postMessage({cmd:"alphaTab.setWidth",width:e})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaTab.preRender":this.preRender.trigger(r.resize);break;case"alphaTab.partialRenderFinished":this.partialRenderFinished.trigger(r.result);break;case"alphaTab.partialLayoutFinished":this.partialLayoutFinished.trigger(r.result);break;case"alphaTab.renderFinished":this.renderFinished.trigger(r.result);break;case"alphaTab.postRenderFinished":this.boundsLookup=uy.fromJson(r.boundsLookup,this._api.score),this.boundsLookup.finish(),this.postRenderFinished.trigger();break;case"alphaTab.error":this.error.trigger(r.error);break}}renderScore(e,r){let n=e==null?null:zn.scoreToJsObject(e);this._worker.postMessage({cmd:"alphaTab.renderScore",score:n,trackIndexes:r,fontSizes:Wn.FontSizeLookupTables})}}class axe{constructor(e,r,n,i){this.cursorWrapper=e,this.barCursor=r,this.beatCursor=n,this.selectionWrapper=i}}var Ma;(function(t){t[t.Browser=0]="Browser",t[t.NodeJs=1]="NodeJs",t[t.BrowserModule=2]="BrowserModule"})(Ma||(Ma={}));class cy{static init(){var e;cy._isRegistered||(cy._isRegistered=!0,registerProcessor("alphatab",(e=class extends AudioWorkletProcessor{constructor(n){super(n),this._outputBuffer=new Float32Array(0),this._bufferCount=0,this._requestedBufferCount=0,Fe.debug("WebAudio","creating processor"),this._bufferCount=Math.floor(n.processorOptions.bufferTimeInMilliseconds*sampleRate/1e3/e.BufferSize),this._circularBuffer=new uW(e.BufferSize*this._bufferCount),this.port.onmessage=this.handleMessage.bind(this)}handleMessage(n){let i=n.data;switch(i.cmd){case pn.CmdOutputAddSamples:const a=i.samples;this._circularBuffer.write(a,0,a.length),this._requestedBufferCount--;break;case pn.CmdOutputResetSamples:this._circularBuffer.clear();break}}process(n,i,s){if(i.length!==1&&i[0].length!==2)return!1;let a=i[0][0],o=i[0][1];if(!a||!o)return!0;let l=a.length+o.length,u=this._outputBuffer;u.length!==l&&(u=new Float32Array(l),this._outputBuffer=u);const c=this._circularBuffer.read(u,0,Math.min(u.length,this._circularBuffer.count));let h=0;for(let f=0;f<a.length;f++)a[f]=u[h++],o[f]=u[h++];return this.port.postMessage({cmd:pn.CmdOutputSamplesPlayed,samples:c/Yt.AudioChannels}),this.requestBuffers(),!0}requestBuffers(){const n=this._bufferCount/2|0;let i=n*e.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*e.BufferSize<i){for(let a=0;a<n;a++)this.port.postMessage({cmd:pn.CmdOutputSampleRequest});this._requestedBufferCount+=n}}},e.BufferSize=4096,e)))}}cy._isRegistered=!1;class oxe extends mo{constructor(e){super(),this._worklet=null,this._bufferTimeInMilliseconds=0,this._settings=e}open(e){super.open(e),this._bufferTimeInMilliseconds=e,this.onReady()}play(){super.play();let e=this._context;Ue.createAudioWorklet(e,this._settings).then(()=>{this._worklet=new AudioWorkletNode(e,"alphatab",{numberOfOutputs:1,outputChannelCount:[2],processorOptions:{bufferTimeInMilliseconds:this._bufferTimeInMilliseconds}}),this._worklet.port.onmessage=this.handleMessage.bind(this),this._source.connect(this._worklet),this._source.start(0),this._worklet.connect(e.destination)},r=>{Fe.error("WebAudio",`Audio Worklet creation failed: reason=${r}`)})}handleMessage(e){let r=e.data;switch(r.cmd){case pn.CmdOutputSamplesPlayed:this.onSamplesPlayed(r.samples);break;case pn.CmdOutputSampleRequest:this.onSampleRequest();break}}pause(){super.pause(),this._worklet&&(this._worklet.port.onmessage=null,this._worklet.disconnect()),this._worklet=null}addSamples(e){var r;(r=this._worklet)==null||r.port.postMessage({cmd:pn.CmdOutputAddSamples,samples:e})}resetSamples(){var e;(e=this._worklet)==null||e.port.postMessage({cmd:pn.CmdOutputResetSamples})}}class lxe extends Dl{constructor(e,r,n){super(e),this._xscale=r,this._yscale=n}get width(){return this.element.offsetWidth/this._xscale}set width(e){this.element.style.width=e*this._xscale+"px"}get height(){return this.element.offsetHeight/this._yscale}set height(e){e>=0?this.element.style.height=e*this._yscale+"px":this.element.style.height="100%"}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)?n=this.lastBounds.w:n=n/this._xscale,isNaN(i)?i=this.lastBounds.h:i=i/this._yscale,this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}}var Cl;(function(t){t[t.LayoutDone=0]="LayoutDone",t[t.RenderRequested=1]="RenderRequested",t[t.RenderDone=2]="RenderDone",t[t.Detached=3]="Detached"})(Cl||(Cl={}));class uxe{get resizeThrottle(){return 10}get canRender(){return this.areAllFontsLoaded()}areAllFontsLoaded(){if(Ue.bravuraFontChecker.checkForFontAvailability(),!Ue.bravuraFontChecker.isFontLoaded)return!1;let e=!1;for(const r of this._fontCheckers.values())r.isFontLoaded||(e=!0);return e?!1:(Fe.debug("Font","All fonts loaded: "+this._fontCheckers.size),!0)}onFontLoaded(e){Wn.generateFontLookup(e),this.areAllFontsLoaded()&&this.canRenderChanged.trigger()}constructor(e){if(this._fontCheckers=new Map,this._contents=null,this._file=null,this._totalResultCount=0,this._initialTrackIndexes=null,this._barToElementLookup=new Map,this._resultIdToElementLookup=new Map,this.rootContainerBecameVisible=new hi,this.canRenderChanged=new hi,this._highlightedElements=[],this._scrollContainer=null,Ue.webPlatform!==Ma.Browser&&Ue.webPlatform!==Ma.BrowserModule)throw new _i(Ci.General,"Usage of AlphaTabApi is only possible in browser environments. For usage in node use the Low Level APIs");e.classList.add("alphaTab"),this.rootContainer=new Dl(e),this.areWorkersSupported="Worker"in window,Ue.bravuraFontChecker.fontLoaded.on(this.onFontLoaded.bind(this)),this._intersectionObserver=new IntersectionObserver(this.onElementVisibilityChanged.bind(this),{threshold:[0,.01,1]}),this._intersectionObserver.observe(e)}onElementVisibilityChanged(e){for(const r of e){const n=r.target;if(n===this.rootContainer.element)r.isIntersecting&&(this.rootContainerBecameVisible.trigger(),this._intersectionObserver.unobserve(this.rootContainer.element));else if("layoutResultId"in n&&this._api.settings.core.enableLazyLoading){const i=n;r.isIntersecting?i.renderedResultId!==i.layoutResultId?this._resultIdToElementLookup.has(i.layoutResultId)?i.resultState!==Cl.RenderRequested&&(i.resultState=Cl.RenderRequested,this._api.renderer.renderResult(i.layoutResultId)):n.replaceChildren():i.resultState===Cl.Detached&&(n.replaceChildren(...i.renderedResult),i.resultState=Cl.RenderDone):i.resultState===Cl.RenderDone&&(i.resultState=Cl.Detached,i.replaceChildren())}}}createWorkerRenderer(){return new sxe(this._api,this._api.settings)}initialize(e,r){this._api=e;let n;r instanceof hh?n=r:n=zn.jsObjectToSettings(r);let i=this.getDataAttributes();up.fromJson(n,i),n.notation.notationMode===ci.SongBook&&n.setSongBookModeSettings(),e.settings=n,this.setupFontCheckers(n),this._initialTrackIndexes=this.parseTracks(n.core.tracks),this._contents="";let s=e.container;n.core.tex&&(this._contents=s.element.innerHTML,s.element.innerHTML=""),this.createStyleElement(n),this._file=n.core.file}setupFontCheckers(e){this.registerFontChecker(e.display.resources.copyrightFont),this.registerFontChecker(e.display.resources.effectFont),this.registerFontChecker(e.display.resources.fingeringFont),this.registerFontChecker(e.display.resources.graceFont),this.registerFontChecker(e.display.resources.markerFont),this.registerFontChecker(e.display.resources.tablatureFont),this.registerFontChecker(e.display.resources.titleFont),this.registerFontChecker(e.display.resources.wordsFont),this.registerFontChecker(e.display.resources.barNumberFont),this.registerFontChecker(e.display.resources.fretboardNumberFont),this.registerFontChecker(e.display.resources.subTitleFont)}registerFontChecker(e){if(!this._fontCheckers.has(e.families.join(", "))){let r=new lW(e.families);this._fontCheckers.set(e.families.join(", "),r),r.fontLoaded.on(this.onFontLoaded.bind(this)),r.checkForFontAvailability()}}destroy(){this.rootContainer.element.innerHTML=""}createCanvasElement(){let e=document.createElement("div");return e.className="at-surface",e.style.fontSize="0",e.style.overflow="hidden",e.style.lineHeight="0",e.style.position="relative",new Dl(e)}triggerEvent(e,r,n=null,i){let s=e.element;r="alphaTab."+r;let a=document.createEvent("CustomEvent"),o=i?i.mouseEvent:null;if(a.initCustomEvent(r,!1,!1,n),o&&(a.originalEvent=o),s.dispatchEvent(a),window&&"jQuery"in window){let l=window.jQuery,u=[];u.push(n),o&&u.push(o),l(s).trigger(r,u)}}load(e,r,n){if(e instanceof Ch)return r(e),!0;if(e instanceof ArrayBuffer){let i=new Uint8Array(e);return r(Mf.loadScoreFromBytes(i,this._api.settings)),!0}return e instanceof Uint8Array?(r(Mf.loadScoreFromBytes(e,this._api.settings)),!0):typeof e=="string"?(Mf.loadScoreAsync(e,r,n,this._api.settings),!0):!1}loadSoundFont(e,r){return this._api.player?e instanceof ArrayBuffer?(this._api.player.loadSoundFont(new Uint8Array(e),r),!0):e instanceof Uint8Array?(this._api.player.loadSoundFont(e,r),!0):typeof e=="string"?(this._api.loadSoundFontFromUrl(e,r),!0):!1:!1}initialRender(){this._api.renderer.preRender.on(r=>{this._totalResultCount=0,this._resultIdToElementLookup.clear(),this._barToElementLookup.clear()});const e=()=>{this._api.renderer.width=this.rootContainer.width|0,this._api.renderer.updateSettings(this._api.settings),this._contents?(this._api.tex(this._contents,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null):this._file&&Mf.loadScoreAsync(this._file,r=>{this._api.renderScore(r,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null},r=>{this._api.onError(r)},this._api.settings)};this.rootContainer.isVisible?e():this.rootContainerBecameVisible.on(e)}createStyleElement(e){let r=this._api.container.element.ownerDocument;Ue.createStyleElement(r,e.core.fontDirectory)}parseTracks(e){if(!e)return[];let r=[];if(typeof e=="string")try{if(e==="all")return[-1];e=JSON.parse(e)}catch{e=[0]}if(typeof e=="number")r.push(e);else if("length"in e){let n=e.length,i=e;for(let s=0;s<n;s++){let a=i[s],o=0;typeof a=="number"?o=a:"index"in a?o=a.index:o=parseInt(a.toString()),(o>=0||o===-1)&&r.push(o)}}else"index"in e&&r.push(e.index);return r}getDataAttributes(){let e=new Map,r=this._api.container.element;if(r.dataset)for(let n of Object.keys(r.dataset)){let i=r.dataset[n];try{i=JSON.parse(i)}catch{i===""&&(i=null)}e.set(n,i)}else for(let n=0;n<r.attributes.length;n++){let i=r.attributes.item(n),s=i.nodeName;if(s.startsWith("data-")){let a=s.substr(5).split("-"),o=a[0];for(let u=1;u<a.length;u++)o+=a[u].substr(0,1).toUpperCase()+a[u].substr(1);let l=i.nodeValue;try{l=JSON.parse(l)}catch{l===""&&(l=null)}e.set(o,l)}}return e}beginUpdateRenderResults(e){if(!this._resultIdToElementLookup.has(e.id))return;const r=this._resultIdToElementLookup.get(e.id),n=e.renderResult;typeof n=="string"?r.innerHTML=n:"nodeType"in n&&r.replaceChildren(n),r.resultState=Cl.RenderDone,r.renderedResultId=e.id,r.renderedResult=Array.from(r.children)}beginAppendRenderResults(e){const r=this._api.canvasElement.element;if(e){let n;this._totalResultCount<r.childElementCount?n=r.childNodes.item(this._totalResultCount):(n=document.createElement("div"),r.appendChild(n)),n.style.zIndex="1",n.style.position="absolute",n.style.left=e.x+"px",n.style.top=e.y+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.display="inline-block",n.layoutResultId=e.id,n.resultState=Cl.LayoutDone,delete n.renderedResultId,delete n.renderedResult,this._resultIdToElementLookup.set(e.id,n);for(let i=e.firstMasterBarIndex;i<=e.lastMasterBarIndex;i++)i>=0&&this._barToElementLookup.set(i,n);this._api.settings.core.enableLazyLoading&&(this._intersectionObserver.unobserve(n),this._intersectionObserver.observe(n)),this._totalResultCount++}else for(;r.childElementCount>this._totalResultCount;)this._api.settings.core.enableLazyLoading&&this._intersectionObserver.unobserve(r.lastChild),r.removeChild(r.lastElementChild)}createWorkerPlayer(){let e=null,r="ScriptProcessorNode"in window;return window.isSecureContext&&"AudioWorkletNode"in window&&this._api.settings.player.outputMode===ly.WebAudioAudioWorklets?(Fe.debug("Player","Will use webworkers for synthesizing and web audio api with worklets for playback"),e=new YF(new oxe(this._api.settings),this._api.settings)):r&&(Fe.debug("Player","Will use webworkers for synthesizing and web audio api with ScriptProcessor for playback"),e=new YF(new nxe,this._api.settings)),e?e.ready.on(()=>{this._api.settings.player.soundFont&&this._api.loadSoundFontFromUrl(this._api.settings.player.soundFont,!1)}):Fe.error("Player","Player requires webworkers and web audio api, browser unsupported",null),e}beginInvoke(e){window.requestAnimationFrame(()=>{e()})}highlightElements(e,r){const n=this._barToElementLookup.get(r);if(n){let i=n.getElementsByClassName(e);for(let s=0;s<i.length;s++)i.item(s).classList.add("at-highlight"),this._highlightedElements.push(i.item(s))}}removeHighlights(){const e=this._highlightedElements;if(e){for(const r of e)r.classList.remove("at-highlight");this._highlightedElements=[]}}destroyCursors(){let e=this._api.container.element,r=e.querySelector(".at-cursors");e.removeChild(r)}createCursors(){let e=this._api.container.element,r=document.createElement("div");r.classList.add("at-cursors");let n=document.createElement("div");n.classList.add("at-selection");const i=this.createScalingElement(),s=this.createScalingElement();let a=i.element;a.classList.add("at-cursor-bar");let o=s.element;return o.classList.add("at-cursor-beat"),e.style.position="relative",e.style.textAlign="left",r.style.position="absolute",r.style.zIndex="1000",r.style.display="inline",r.style.pointerEvents="none",n.style.position="absolute",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.willChange="transform",i.width=1,i.height=1,i.setBounds(0,0,1,1),o.style.position="absolute",o.style.transition="all 0s linear",o.style.left="0",o.style.top="0",o.style.willChange="transform",s.width=3,s.height=1,s.setBounds(0,0,1,1),e.insertBefore(r,e.firstChild),r.appendChild(n),r.appendChild(a),r.appendChild(o),new axe(new Dl(r),i,s,new Dl(n))}getOffset(e,r){let n=r.element,i=n.getBoundingClientRect(),s=i.top+n.ownerDocument.defaultView.pageYOffset,a=i.left+n.ownerDocument.defaultView.pageXOffset;if(e){let l=e.element,u=l.nodeName.toLowerCase();if(u!=="html"&&u!=="body"){let c=this.getOffset(null,e);s=s+l.scrollTop-c.y,a=a+l.scrollLeft-c.x}}let o=new Fs;return o.x=a,o.y=s,o.w=i.width,o.h=i.height,o}getScrollContainer(){if(this._scrollContainer)return this._scrollContainer;let e=typeof this._api.settings.player.scrollElement=="string"?document.querySelector(this._api.settings.player.scrollElement):this._api.settings.player.scrollElement,r=e.nodeName.toLowerCase();return(r==="html"||r==="body")&&("scrollingElement"in document?e=document.scrollingElement:navigator.userAgent.indexOf("WebKit")!==-1?e=document.body:e=document.documentElement),this._scrollContainer=new Dl(e),this._scrollContainer}createSelectionElement(){return this.createScalingElement()}createScalingElement(){const e=document.createElement("div");e.style.position="absolute";const r=new lxe(e,100,100);return r.width=1,r.height=1,r.setBounds(0,0,1,1),r}scrollToY(e,r,n){this.internalScrollToY(e.element,r,n)}scrollToX(e,r,n){this.internalScrollToX(e.element,r,n)}internalScrollToY(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({top:r,behavior:"smooth"});else{let i=e.scrollTop,s=r-i,a=0,o=l=>{a===0&&(a=l);let u=l-a,c=Math.min(u/n,1);e.scrollTop=i+s*c|0,u<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}internalScrollToX(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({left:r,behavior:"smooth"});else{let i=e.scrollLeft,s=r-i,a=0,o=l=>{a===0&&(a=l);let u=l-a,c=Math.min(u/n,1);e.scrollLeft=i+s*c|0,u<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}}class a0 extends rxe{constructor(e,r){super(new uxe(e),r),this.soundFontLoad=new lr}tex(e,r){let n=this.uiFacade;super.tex(e,n.parseTracks(r))}print(e,r=null){let n=window.open("","","width=0,height=0"),i=n.document.createElement("div");e?i.style.width=e:this.settings.display.layoutMode===Tu.Horizontal?i.style.width="297mm":i.style.width="210mm",n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
            .at-surface {
                width: auto !important;
                height: auto !important;
            }
            .at-surface > div {
                position: relative!important;
                left: auto !important;
                top: auto !important;
                break-inside: avoid;
            }
            </style>
          </head>
          <body></body>
        </html>
        `);const s=this.score;s&&(s.artist&&s.title?n.document.title=`${s.title} - ${s.artist}`:s.title&&(n.document.title=`${s.title}`)),n.document.body.appendChild(i);let a=typeof window.screenLeft<"u"?window.screenLeft:window.left,o=typeof window.screenTop<"u"?window.screenTop:window.top,l="innerWidth"in window?window.innerWidth:"clientWidth"in document.documentElement?document.documentElement.clientWidth:window.screen.width,u="innerHeight"in window?window.innerHeight:"clientHeight"in document.documentElement?document.documentElement.clientHeight:window.screen.height,c=i.offsetWidth+50,h=window.innerHeight,f=(l/2|0)-(c/2|0)+a,g=(u/2|0)-(h/2|0)+o;n.resizeTo(c,h),n.moveTo(f,g),n.focus();let m=zn.jsObjectToSettings(zn.settingsToJsObject(this.settings));m.core.enableLazyLoading=!1,m.core.useWorkers=!0,m.core.file=null,m.core.tracks=null,m.player.enableCursor=!1,m.player.enablePlayer=!1,m.player.enableElementHighlighting=!1,m.player.enableUserInteraction=!1,m.player.soundFont=null,m.display.scale=.8,m.display.stretchForce=.8,up.fromJson(m,r);let y=new a0(i,m);n.onunload=()=>{y.destroy()},y.renderer.postRenderFinished.on(()=>{n.print()}),y.renderTracks(this.tracks)}downloadMidi(e=lp.SingleTrackMultiChannel){if(!this.score)return;let r=new Fc;r.format=e;let n=new Rl(r,!0);new Mr(this.score,this.settings,n).generate();let s=r.toBinary(),a=this.score.title?`${this.score.title}.mid`:"File.mid",o=document.createElement("a");o.download=a;let l=new Blob([s],{type:"audio/midi"}),u=URL.createObjectURL(l);o.href=u,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}changeTrackMute(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackMute(n,r)}changeTrackSolo(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackSolo(n,r)}changeTrackVolume(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackVolume(n,r)}trackIndexesToTracks(e){if(!this.score)return[];let r=[];if(e.length===1&&e[0]===-1)for(let n of this.score.tracks)r.push(n);else for(let n of e)n>=0&&n<this.score.tracks.length&&r.push(this.score.tracks[n]);return r}loadSoundFontFromUrl(e,r){this.player&&this.player.loadSoundFontFromUrl(e,r,n=>{this.soundFontLoad.trigger(n),this.uiFacade.triggerEvent(this.container,"soundFontLoad",n)})}}class XF{constructor(){this._initListeners=[]}exec(e,r,n){if(typeof r!="string"&&(n=[r],r="init"),r.charCodeAt(0)===95||r==="exec")return null;let i=new jQuery(e),s=i.data("alphaTab");if(r==="destroy"&&!s)return null;if(r!=="init"&&!s)throw new Error("alphaTab not initialized");let a=this[r];if(a){let o=[i,s].concat(n);return a.apply(this,o)}else return Fe.error("Api","Method '"+r+"' does not exist on jQuery.alphaTab"),null}init(e,r,n){if(!r){r=new a0(e[0],n),e.data("alphaTab",r);for(let i of this._initListeners)i(e,r,n)}}destroy(e,r){e.removeData("alphaTab"),r.destroy()}print(e,r,n,i){r.print(n,i)}load(e,r,n,i){return r.load(n,i)}render(e,r){r.render()}renderScore(e,r,n,i){r.renderScore(n,i)}renderTracks(e,r,n){r.renderTracks(n)}invalidate(e,r){r.render()}tex(e,r,n,i){r.tex(n,i)}muteTrack(e,r,n,i){r.changeTrackMute(n,i)}soloTrack(e,r,n,i){r.changeTrackSolo(n,i)}trackVolume(e,r,n,i){r.changeTrackVolume(n,i)}loadSoundFont(e,r,n,i){r.loadSoundFont(n,i)}resetSoundFonts(e,r){r.resetSoundFonts()}pause(e,r){r.pause()}play(e,r){return r.play()}playPause(e,r){r.playPause()}stop(e,r){r.stop()}api(e,r){return r}player(e,r){return r.player}isReadyForPlayback(e,r){return r.isReadyForPlayback}playerState(e,r){return r.playerState}masterVolume(e,r,n){return typeof n=="number"&&(r.masterVolume=n),r.masterVolume}metronomeVolume(e,r,n){return typeof n=="number"&&(r.metronomeVolume=n),r.metronomeVolume}countInVolume(e,r,n){return typeof n=="number"&&(r.countInVolume=n),r.countInVolume}midiEventsPlayedFilter(e,r,n){return Array.isArray(n)&&(r.midiEventsPlayedFilter=n),r.midiEventsPlayedFilter}playbackSpeed(e,r,n){return typeof n=="number"&&(r.playbackSpeed=n),r.playbackSpeed}tickPosition(e,r,n){return typeof n=="number"&&(r.tickPosition=n),r.tickPosition}timePosition(e,r,n){return typeof n=="number"&&(r.timePosition=n),r.timePosition}loop(e,r,n){return typeof n=="boolean"&&(r.isLooping=n),r.isLooping}renderer(e,r){return r.renderer}score(e,r){return r.score}settings(e,r){return r.settings}tracks(e,r){return r.tracks}_oninit(e){this._initListeners.push(e)}static restore(e){new jQuery(e).empty().removeData("alphaTab")}}class sN{constructor(){this.buffer="",this._currentPath="",this._currentPathIsEmpty=!0,this.color=new fn(255,255,255,255),this.lineWidth=1,this.font=new fr("Arial",10,vn.Plain),this.textAlign=kt.Left,this.textBaseline=Xt.Top}destroy(){}beginRender(e,r){this.buffer=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${e|0}px" height="${r|0}px" class="at-surface-svg">
`,this._currentPath="",this._currentPathIsEmpty=!0,this.textBaseline=Xt.Top}beginGroup(e){this.buffer+=`<g class="${e}">`}endGroup(){this.buffer+="</g>"}endRender(){return this.buffer+="</svg>",this.buffer}fillRect(e,r,n,i){n>0&&(this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" fill="${this.color.rgba}" />
`)}strokeRect(e,r,n,i){this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" stroke="${this.color.rgba}"`,this.lineWidth!==1&&(this.buffer+=` stroke-width="${this.lineWidth}"`),this.buffer+=` fill="transparent" />
`}beginPath(){}closePath(){this._currentPath+=" z"}moveTo(e,r){this._currentPath+=` M${e},${r}`}lineTo(e,r){this._currentPathIsEmpty=!1,this._currentPath+=` L${e},${r}`}quadraticCurveTo(e,r,n,i){this._currentPathIsEmpty=!1,this._currentPath+=` Q${e},${r},${n},${i}`}bezierCurveTo(e,r,n,i,s,a){this._currentPathIsEmpty=!1,this._currentPath+=` C${e},${r},${n},${i},${s},${a}`}fillCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.fill()}strokeCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.stroke()}fill(){this._currentPathIsEmpty||(this.buffer+=`<path d="${this._currentPath}"`,this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),this.buffer+=' style="stroke: none"/>'),this._currentPath="",this._currentPathIsEmpty=!0}stroke(){if(!this._currentPathIsEmpty){let e=`<path d="${this._currentPath}" stroke="${this.color.rgba}"`;this.lineWidth!==1&&(e+=` stroke-width="${this.lineWidth}"`),e+=' style="fill: none" />',this.buffer+=e}this._currentPath="",this._currentPathIsEmpty=!0}fillText(e,r,n){if(e==="")return;let i=`<text x="${r|0}" y="${n|0}" style="stroke: none; font:${this.font.toCssString(this.settings.display.scale)}" ${this.getSvgBaseLine()}`;this.color.rgba!=="#000000"&&(i+=` fill="${this.color.rgba}"`),this.textAlign!==kt.Left&&(i+=` text-anchor="${this.getSvgTextAlignment(this.textAlign)}"`),i+=`>${sN.escapeText(e)}</text>`,this.buffer+=i}static escapeText(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}getSvgTextAlignment(e){switch(e){case kt.Left:return"start";case kt.Center:return"middle";case kt.Right:return"end"}return""}getSvgBaseLine(){switch(this.textBaseline){case Xt.Top:return'dominant-baseline="hanging"';case Xt.Bottom:return'dominant-baseline="bottom"';default:return""}}measureText(e){return e?Wn.measureString(e,this.font.families,this.font.size,this.font.style,this.font.weight):0}onRenderFinished(){return null}beginRotate(e,r,n){this.buffer+='<g transform="translate('+e+" ,"+r+") rotate( "+n+')">'}endRotate(){this.buffer+="</g>"}}class cxe extends sN{constructor(){super()}fillMusicFontSymbol(e,r,n,i,s){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,`&#${i};`,s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==R.None&&(a+=`&#${o};`);this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this.buffer+=`<g transform="translate(${e} ${r})" class="at" ><text`,n!==1?this.buffer+=` style="font-size: ${n*100}%; stroke:none"`:this.buffer+=' style="stroke:none"',this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),s&&(this.buffer+=' text-anchor="'+this.getSvgTextAlignment(kt.Center)+'"'),this.buffer+=`>${i}</text></g>`}}class aN{constructor(){this.isInAccolade=!0,this.isRelevantForBoundsLookup=!0,this.hideOnMultiTrack=!1,this.hideOnPercussionTrack=!1}canCreate(e,r){return!this.hideOnPercussionTrack||!r.isPercussion}}var er;(function(t){t[t.PreNotes=0]="PreNotes",t[t.OnNotes=1]="OnNotes",t[t.MiddleNotes=2]="MiddleNotes",t[t.Stem=3]="Stem",t[t.PostNotes=4]="PostNotes",t[t.EndBeat=5]="EndBeat"})(er||(er={}));class gl extends Ln{get isEmpty(){return!this.glyphs||this.glyphs.length===0}constructor(e,r){super(e,r),this.glyphs=null}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}let e=0;for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.renderer=this.renderer,i.doLayout(),e=Math.max(e,i.width)}this.width=e}addGlyph(e){this.glyphs||(this.glyphs=[]),this.renderer&&(e.renderer=this.renderer),this.glyphs.push(e)}paint(e,r,n){let i=this.glyphs;if(!(!i||i.length===0))for(let s of i)s.paint(e+this.x,r+this.y,n)}}class Eg extends gl{constructor(){super(0,0),this.glyphs=[]}addGlyph(e){e.x=this.glyphs.length===0?0:this.glyphs[this.glyphs.length-1].x+this.glyphs[this.glyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.width=e.x+e.width,super.addGlyph(e)}}class cW extends gl{constructor(e,r,n){super(e,r),this.voice=n,this.beatGlyphs=[],this.tupletGroups=[]}scaleToWidth(e){const r=this.renderer.scale;let n=this.renderer.layoutingInfo.spaceToForce(e/r);this.scaleToForce(n)}scaleToForce(e){const r=this.renderer.scale;this.width=this.renderer.layoutingInfo.calculateVoiceWidth(e)*r;let n=this.renderer.layoutingInfo.buildOnTimePositions(e),i=this.beatGlyphs;for(let s=0,a=i.length;s<a;s++){let o=i[s];switch(o.beat.graceType){case Tt.None:o.x=n.get(o.beat.absoluteDisplayStart)*r-o.onTimeX;break;default:const l=o.beat.graceGroup.beats[0].absoluteDisplayStart,u=o.beat.graceGroup.id;if(o.beat.graceGroup.isComplete&&n.has(l)){o.x=n.get(l)*r-o.onTimeX;let c=this.renderer.layoutingInfo.allGraceRods.get(u);const h=o.beat.graceGroup.beats[o.beat.graceGroup.beats.length-1].nextBeat,f=h?this.renderer.layoutingInfo.getPreBeatSize(h)+il.GraceBeatPadding*this.renderer.scale:0;o.x-=f,o.x-=c[o.beat.graceIndex].postSpringWidth,o.x+=c[o.beat.graceIndex].graceBeatWidth;const g=c[o.beat.graceGroup.beats.length-1];o.x-=g.graceBeatWidth}else{let c=this.renderer.layoutingInfo.incompleteGraceRods.get(u);const h=c[o.beat.graceIndex].postSpringWidth-c[o.beat.graceIndex].preSpringWidth;s>0?o.beat.graceIndex===0?o.x=i[s-1].x+i[s-1].width:o.x=i[s-1].x+c[o.beat.graceIndex-1].postSpringWidth-c[o.beat.graceIndex-1].preSpringWidth-h:o.x=-h}break}if(s>0){let l=o.x-i[s-1].x;i[s-1].scaleToWidth(l)}if(s===a-1){let l=this.width-i[i.length-1].x;o.scaleToWidth(l)}}}registerLayoutingInfo(e){e.updateVoiceSize(this.width);let r=this.beatGlyphs;for(let n of r)n.registerLayoutingInfo(e)}applyLayoutingInfo(e){let r=this.beatGlyphs;for(let n of r)n.applyLayoutingInfo(e);this.scaleToForce(Math.max(this.renderer.settings.display.stretchForce,e.minStretchForce))}addGlyph(e){let r=e;e.x=this.beatGlyphs.length===0?0:this.beatGlyphs[this.beatGlyphs.length-1].x+this.beatGlyphs[this.beatGlyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.beatGlyphs.push(r),this.width=e.x+e.width,r.beat.hasTuplet&&r.beat.tupletGroup.beats[0].id===r.beat.id&&this.tupletGroups.push(r.beat.tupletGroup)}doLayout(){}paint(e,r,n){n.color=this.voice.index===0?this.renderer.resources.mainGlyphColor:this.renderer.resources.secondaryGlyphColor;for(let i=0,s=this.beatGlyphs.length;i<s;i++)this.beatGlyphs[i].paint(e+this.x,r+this.y,n)}}cW.KeySizeBeat="Beat";var Nr;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Sharp=2]="Sharp",t[t.Flat=3]="Flat",t[t.NaturalQuarterNoteUp=4]="NaturalQuarterNoteUp",t[t.SharpQuarterNoteUp=5]="SharpQuarterNoteUp",t[t.FlatQuarterNoteUp=6]="FlatQuarterNoteUp",t[t.DoubleSharp=7]="DoubleSharp",t[t.DoubleFlat=8]="DoubleFlat"})(Nr||(Nr={}));class dxe{constructor(){this.maxLine=-1e3,this.minLine=-1e3}}class $n{constructor(e){this._registeredAccidentals=new Map,this._appliedScoreLines=new Map,this._appliedScoreLinesByValue=new Map,this._notesByValue=new Map,this._beatLines=new Map,this.maxLineBeat=null,this.minLineBeat=null,this.maxLine=-1e3,this.minLine=-1e3,this._barRenderer=e,this._bar=e.bar}static getPercussionLine(e,r){var n;return r<e.staff.track.percussionArticulations.length?e.staff.track.percussionArticulations[r].staffLine:((n=Ri.getArticulationByValue(r))==null?void 0:n.staffLine)??0}static getNoteValue(e){if(e.isPercussion)return e.percussionArticulation;let r=e.displayValue;switch(e.accidentalMode){case Vn.ForceDoubleFlat:r+=2;break;case Vn.ForceDoubleSharp:r-=2;break;case Vn.ForceFlat:r+=1;break;case Vn.ForceSharp:r-=1;break}return r}applyAccidental(e){const r=$n.getNoteValue(e);let n=e.hasQuarterToneOffset;return this.getAccidental(r,n,e.beat,!1,e)}applyAccidentalForValue(e,r,n,i){return this.getAccidental(r,n,e,i,null)}static computeLineWithoutAccidentals(e,r){let n=0;const i=$n.getNoteValue(r);if(e.staff.isPercussion)n=$n.getPercussionLine(e,i);else{const s=r?r.accidentalMode:Vn.Default;n=$n.calculateNoteLine(e,i,s)}return n}getAccidental(e,r,n,i,s=null){let a=Nr.None,o=0;if(this._bar.staff.isPercussion)o=$n.getPercussionLine(this._bar,e);else{const l=s?s.accidentalMode:Vn.Default;o=$n.calculateNoteLine(this._bar,e,l);let c=this._bar.masterBar.keySignature+7,h=e%12,f=c<7?Nr.Flat:Nr.Sharp,g=$n.KeySignatureLookup[c][h],m=$n.AccidentalNotes[h];if(r)switch(a=m?f:Nr.Natural,a){case Nr.Natural:a=Nr.NaturalQuarterNoteUp;break;case Nr.Sharp:a=Nr.SharpQuarterNoteUp;break;case Nr.Flat:a=Nr.FlatQuarterNoteUp;break}else{switch(l){case Vn.ForceSharp:a=Nr.Sharp;break;case Vn.ForceDoubleSharp:a=Nr.DoubleSharp;break;case Vn.ForceFlat:a=Nr.Flat;break;case Vn.ForceDoubleFlat:a=Nr.DoubleFlat;break;default:m?a=f:g&&(a=Nr.Natural);break}let y=!1;if(s&&s.isTieDestination&&s.beat.index===0){const b=this._barRenderer.previousRenderer;b&&b.accidentalHelper.getNoteLine(s.tieOrigin)===o&&(y=!0)}y?a=Nr.None:a!==Nr.None?(this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===a&&(a=Nr.None):g&&a===f&&(a=Nr.None),a!==Nr.None&&this._registeredAccidentals.set(o,a)):this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===Nr.Natural?a=Nr.None:(a=Nr.Natural,this._registeredAccidentals.set(o,a)):this._registeredAccidentals.delete(o)}}return s?(this._appliedScoreLines.set(s.id,o),this._notesByValue.set(e,s)):this._appliedScoreLinesByValue.set(e,o),(this.minLine===-1e3||this.minLine<o)&&(this.minLine=o,this.minLineBeat=n),(this.maxLine===-1e3||this.maxLine>o)&&(this.maxLine=o,this.maxLineBeat=n),i||this.registerLine(n,o),a}registerLine(e,r){let n;this._beatLines.has(e.id)?n=this._beatLines.get(e.id):(n=new dxe,this._beatLines.set(e.id,n)),(n.minLine===-1e3||r<n.minLine)&&(n.minLine=r),(n.minLine===-1e3||r>n.maxLine)&&(n.maxLine=r)}getMaxLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).maxLine:0}getMinLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).minLine:0}static calculateNoteLine(e,r,n){let i=r,s=e.masterBar.keySignature,a=e.clef,o=i%12,l=(i/12|0)-1,u=$n.OctaveSteps[a];u-=l*$n.StepsPerOctave;let c=Xr.keySignatureIsSharp(s)||Xr.keySignatureIsNatural(s)?$n.SharpNoteSteps:$n.FlatNoteSteps;return u-=c[o],u}getNoteLine(e){return this._appliedScoreLines.get(e.id)}getNoteLineForValue(e,r=!1){return this._appliedScoreLinesByValue.has(e)?this._appliedScoreLinesByValue.get(e):r&&this._notesByValue.has(e)?this.getNoteLine(this._notesByValue.get(e)):0}}$n.KeySignatureLookup=[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]];$n.AccidentalNotes=[!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1];$n.StepsPerOctave=7;$n.OctaveSteps=[38,32,30,26,38];$n.SharpNoteSteps=[0,0,1,1,2,3,3,4,4,5,5,6];$n.FlatNoteSteps=[0,1,1,2,2,3,4,4,5,5,6,6];class hxe{constructor(){this.staffId="",this.up=0,this.down=0}}class fxe{constructor(){this.startBeat=null,this.startX=0,this.startY=0,this.endBeat=null,this.endX=0,this.endY=0}calcY(e){return this.startX===this.endX?this.startY:(this.endY-this.startY)/(this.endX-this.startX)*(e-this.startX)+this.startY}}class na{get isRestBeamHelper(){return this.beats.length===1&&this.beats[0].isRest}get hasLine(){return this.beats.length===1&&this.beats[0].duration>le.Whole}get hasFlag(){return this.beats.length===1&&!this.beats[0].isRest&&(this.beats[0].duration>le.Quarter||this.beats[0].graceType!==Tt.None)}constructor(e,r){this._beatLineXPositions=new Map,this._firstNonRestBeat=null,this._lastNonRestBeat=null,this.voice=null,this.beats=[],this.shortestDuration=le.QuadrupleWhole,this.fingeringCount=0,this.hasTuplet=!1,this._firstBeatLowestNoteCompareValue=-1,this._firstBeatHighestNoteCompareValue=-1,this._lastBeatLowestNoteCompareValue=-1,this._lastBeatHighestNoteCompareValue=-1,this.lowestNoteInHelper=null,this._lowestNoteCompareValueInHelper=-1,this.highestNoteInHelper=null,this._highestNoteCompareValueInHelper=-1,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isGrace=!1,this.minRestLine=null,this.beatOfMinRestLine=null,this.maxRestLine=null,this.beatOfMaxRestLine=null,this.direction=He.Up,this.drawingInfos=new Map,this._staff=e,this._renderer=r,this.beats=[]}getBeatLineX(e){return this.hasBeatLineX(e)?this.direction===He.Up?this._beatLineXPositions.get(e.index).up:this._beatLineXPositions.get(e.index).down:0}hasBeatLineX(e){return this._beatLineXPositions.has(e.index)}registerBeatLineX(e,r,n,i){let s=this.getOrCreateBeatPositions(r);s.staffId=e,s.up=n,s.down=i;for(const a of this.drawingInfos.values())a.startBeat==r?a.startX=this.getBeatLineX(r):a.endBeat==r&&(a.endX=this.getBeatLineX(r))}getOrCreateBeatPositions(e){return this._beatLineXPositions.has(e.index)||this._beatLineXPositions.set(e.index,new hxe),this._beatLineXPositions.get(e.index)}finish(){this.direction=this.calculateDirection()}calculateDirection(){let e=null;if(this.voice?this.preferredBeamDirection!==null?e=this.preferredBeamDirection:this.voice.index>0?e=this.invert(He.Down):this.voice.bar.isMultiVoice?e=this.invert(He.Up):this.beats[0].graceType!==Tt.None&&(e=this.invert(He.Up)):e=He.Up,this.highestNoteInHelper&&this.lowestNoteInHelper){let r=this._renderer.getNoteY(this.highestNoteInHelper,gt.Center),n=this._renderer.getNoteY(this.lowestNoteInHelper,gt.Center);if(e===null){const i=(r+n)/2;e=this.invert(this._renderer.middleYPosition<i?He.Up:He.Down)}this._renderer.completeBeamingHelper(this)}else e=this.invert(He.Up),this._renderer.completeBeamingHelper(this);return e}static computeLineHeightsForRest(e){switch(e){case le.QuadrupleWhole:return[2,2];case le.DoubleWhole:return[2,2];case le.Whole:return[0,1];case le.Half:return[1,0];case le.Quarter:return[3,3];case le.Eighth:return[2,2];case le.Sixteenth:return[2,4];case le.ThirtySecond:return[4,4];case le.SixtyFourth:return[4,6];case le.OneHundredTwentyEighth:return[6,6];case le.TwoHundredFiftySixth:return[6,8]}return[0,0]}applyRest(e,r){if(this._lastNonRestBeat&&e.index>=this._lastNonRestBeat.index||this._firstNonRestBeat&&e.index<=this._firstNonRestBeat.index)return;let n=r,i=r;const s=na.computeLineHeightsForRest(e.duration);n-=s[0],i+=s[1];const a=this.minRestLine,o=this.maxRestLine;(a===null||a>n)&&(this.minRestLine=n,this.beatOfMinRestLine=e),(o===null||o<i)&&(this.maxRestLine=i,this.beatOfMaxRestLine=e)}invert(e){if(!this.invertBeamDirection)return e;switch(e){case He.Down:return He.Up;default:return He.Down}}checkBeat(e){e.invertBeamDirection&&(this.invertBeamDirection=!0),this.voice||(this.voice=e.voice);let r=!1;if(this.beats.length===0)r=!0;else switch(this.beats[this.beats.length-1].beamingMode){case nl.Auto:r=na.canJoin(this.beats[this.beats.length-1],e);break;case nl.ForceSplitToNext:r=!1;break;case nl.ForceMergeWithNext:r=!0;break}if(r){if(e.preferredBeamDirection!==null&&(this.preferredBeamDirection=e.preferredBeamDirection),e.isRest)this.beats.length===0&&this.beats.push(e);else{this.isRestBeamHelper&&(this.beats=[]),this.beats.push(e),e.graceType!==Tt.None&&(this.isGrace=!0),e.hasTuplet&&(this.hasTuplet=!0);let n=0;for(let i=0;i<e.notes.length;i++){let s=e.notes[i];(s.leftHandFinger!==Vt.Unknown||s.rightHandFinger!==Vt.Unknown)&&n++}n>this.fingeringCount&&(this.fingeringCount=n),this.checkNote(e.minNote),this.checkNote(e.maxNote),this.shortestDuration<e.duration&&(this.shortestDuration=e.duration),this._firstNonRestBeat||(this._firstNonRestBeat=e),this._lastNonRestBeat=e}e.hasTuplet&&(this.hasTuplet=!0)}return r}checkNote(e){if(!e)return;let r,n;this.voice&&e.isPercussion?(r=-$n.getPercussionLine(this.voice.bar,$n.getNoteValue(e)),n=r):(r=$n.getNoteValue(e),n=r,e.harmonicType!==vt.None&&e.harmonicType!==vt.Natural&&(n=e.realValue-this._staff.displayTranspositionPitch)),this.beats.length===1&&this.beats[0]===e.beat&&((this._firstBeatLowestNoteCompareValue===-1||r<this._firstBeatLowestNoteCompareValue)&&(this._firstBeatLowestNoteCompareValue=r),(this._firstBeatHighestNoteCompareValue===-1||n>this._firstBeatHighestNoteCompareValue)&&(this._firstBeatHighestNoteCompareValue=n)),(this._lastBeatLowestNoteCompareValue===-1||r<this._lastBeatLowestNoteCompareValue)&&(this._lastBeatLowestNoteCompareValue=r),(this._lastBeatHighestNoteCompareValue===-1||n>this._lastBeatHighestNoteCompareValue)&&(this._lastBeatHighestNoteCompareValue=n),(!this.lowestNoteInHelper||r<this._lowestNoteCompareValueInHelper)&&(this.lowestNoteInHelper=e,this._lowestNoteCompareValueInHelper=r),(!this.highestNoteInHelper||n>this._highestNoteCompareValueInHelper)&&(this.highestNoteInHelper=e,this._highestNoteCompareValueInHelper=n)}static canJoin(e,r){if(!e||!r||e.graceType!==r.graceType||e.graceType===Tt.BendGrace||r.graceType===Tt.BendGrace)return!1;if(e.graceType!==Tt.None&&r.graceType!==Tt.None)return!0;let n=e.voice.bar,i=r.voice.bar;if(n!==i)return!1;let s=e.playbackStart,a=r.playbackStart;if(!na.canJoinDuration(e.duration)||!na.canJoinDuration(r.duration))return s===a;if(e.tupletGroup!==r.tupletGroup)return!1;if(e.hasTuplet&&r.hasTuplet&&e.tupletGroup===r.tupletGroup&&e.tupletGroup.isFull)return!0;let o=Ht.QuarterTime;switch(n.masterBar.timeSignatureDenominator){case 8:n.masterBar.timeSignatureNumerator%3===0&&(o+=Ht.QuarterTime/2|0);break}let l=(o+s)/o|0|0,u=(o+a)/o|0|0;return l===u}static canJoinDuration(e){switch(e){case le.Whole:case le.Half:case le.Quarter:return!1;default:return!0}}static isFullBarJoin(e,r,n){return Xr.getIndex(e.duration)-2-n>0&&Xr.getIndex(r.duration)-2-n>0}get beatOfLowestNote(){return this.lowestNoteInHelper.beat}get beatOfHighestNote(){return this.highestNoteInHelper.beat}isPositionFrom(e,r){return this._beatLineXPositions.has(r.index)?this._beatLineXPositions.get(r.index).staffId===e||!this._beatLineXPositions.get(r.index).staffId:!0}}class pxe{constructor(e,r){this.topY=0,this.bottomY=0,this.topY=e,this.bottomY=r}}class gxe{constructor(e){this.topY=-1e3,this.bottomY=-1e3,this.slots=[],this.beat=e}addSlot(e,r){if(this.slots.push(new pxe(e,r)),this.topY===-1e3)this.topY=e,this.bottomY=r;else{const n=Math.min(e,r),i=Math.max(e,r);n<this.topY&&(this.topY=n),i>this.bottomY&&(this.bottomY=i)}}}class mxe{constructor(){this.reservedLayoutAreasByDisplayTime=new Map,this.restDurationsByDisplayTime=new Map}getBeatMinMaxY(){let e=-1e3,r=-1e3;for(const n of this.reservedLayoutAreasByDisplayTime.values())e===-1e3?(e=n.topY,r=n.bottomY):(e>n.topY&&(e=n.topY),r<n.bottomY&&(r=n.bottomY));return e===-1e3?[0,0]:[e,r]}reserveBeatSlot(e,r,n){r!=n&&(this.reservedLayoutAreasByDisplayTime.has(e.displayStart)||this.reservedLayoutAreasByDisplayTime.set(e.displayStart,new gxe(e)),this.reservedLayoutAreasByDisplayTime.get(e.displayStart).addSlot(r,n),e.isRest&&this.registerRest(e))}registerRest(e){this.restDurationsByDisplayTime.has(e.displayStart)||this.restDurationsByDisplayTime.set(e.displayStart,new Map),this.restDurationsByDisplayTime.get(e.displayStart).has(e.playbackDuration)||this.restDurationsByDisplayTime.get(e.displayStart).set(e.playbackDuration,e.id)}applyRestCollisionOffset(e,r,n){if(e.voice.index>0&&this.reservedLayoutAreasByDisplayTime.has(e.playbackStart)){const i=na.computeLineHeightsForRest(e.duration).map(c=>c*n);let s=r-i[0],a=r+i[1],o=s;const l=this.reservedLayoutAreasByDisplayTime.get(e.playbackStart);let u=!1;for(const c of l.slots)if(s>=c.topY&&s<=c.bottomY||a>=c.topY&&a<=c.bottomY){u=!0;break}if(u){e.voice.index==1?o=l.topY-i[1]-i[0]:o=l.bottomY;let c=o+i[0]+i[1];const h=n*2;let f=Math.ceil(Math.abs(o-s)/h);return l.addSlot(o,c),o<s?f*-h:f*h}}return 0}}class yxe{constructor(e){this.beamHelpers=[],this.beamHelperLookup=[],this._renderer=e,this.collisionHelper=new mxe}initialize(){var e=this._renderer,r=this._renderer.bar;let n=null,i=null;for(let s=0,a=r.voices.length;s<a;s++){let o=r.voices[s];this.beamHelpers.push([]),this.beamHelperLookup.push(new Map);for(let l=0,u=o.beats.length;l<u;l++){let c=o.beats[l],h;c.graceType!==Tt.None?h=i:(h=n,i=null),(!h||!h.checkBeat(c))&&(h&&h.finish(),h=new na(r.staff,e),h.checkBeat(c),c.graceType!==Tt.None?i=h:n=h,this.beamHelpers[o.index].push(h)),this.beamHelperLookup[o.index].set(c.index,h)}n&&n.finish(),i&&i.finish(),n=null,i=null}}getBeamingHelperForBeat(e){return this.beamHelperLookup[e.voice.index].get(e.index)}}class Ei extends ml{constructor(e,r,n){super(e,r),this._textRow=0,this._fretRow=0,this._firstFretSpacing=0,this._chord=n}doLayout(){super.doLayout();const e=this.scale;let r=this.renderer.resources;this._textRow=r.effectFont.size*1.5*e,this._fretRow=r.effectFont.size*1.5*e,this._chord.firstFret>1?this._firstFretSpacing=Ei.FretSpacing*e:this._firstFretSpacing=0,this.height=this._textRow+this._fretRow+(Ei.Frets-1)*Ei.FretSpacing*e+2*Ei.Padding*e,this.width=this._firstFretSpacing+(this._chord.staff.tuning.length-1)*Ei.StringSpacing*e+2*Ei.Padding*e}paint(e,r,n){e+=this.x+Ei.Padding*this.scale+this._firstFretSpacing,r+=this.y;let i=this.width-2*Ei.Padding*this.scale+this.scale-this._firstFretSpacing,s=Ei.StringSpacing*this.scale,a=Ei.FretSpacing*this.scale,o=this.renderer.resources,l=Ei.CircleRadius*this.scale,u=n.textAlign,c=n.textBaseline;n.font=o.effectFont,n.textAlign=kt.Center,n.textBaseline=Xt.Top,this._chord.showName&&n.fillText(this._chord.name,e+this.width/2,r+o.effectFont.size/2),r+=this._textRow,e+=s/2,n.font=o.fretboardNumberFont,n.textBaseline=Xt.Middle;for(let f=0;f<this._chord.staff.tuning.length;f++){let g=e+f*s,m=r+this._fretRow/2,y=this._chord.strings[this._chord.staff.tuning.length-f-1];y<0?n.fillMusicFontSymbol(g,m,this.scale,R.FretboardX,!0):y===0?n.fillMusicFontSymbol(g,m,this.scale,R.FretboardO,!0):(y-=this._chord.firstFret-1,n.fillText(y.toString(),g,m))}r+=this._fretRow;for(let f=0;f<this._chord.staff.tuning.length;f++){let g=e+f*s;n.fillRect(g,r,1,a*Ei.Frets+this.scale)}this._chord.firstFret>1&&(n.textAlign=kt.Left,n.fillText(this._chord.firstFret.toString(),e-this._firstFretSpacing,r+a/2)),n.fillRect(e,r-this.scale,i,2*this.scale);for(let f=0;f<=Ei.Frets;f++){let g=r+f*a;n.fillRect(e,g,i,this.scale)}let h=new Map;for(let f of this._chord.barreFrets){let g=[-1,-1];h.set(f-this._chord.firstFret,g)}for(let f=0;f<this._chord.strings.length;f++){let g=this._chord.strings[f];if(g>0){if(g-=this._chord.firstFret,h.has(g)){let b=h.get(g);(b[0]===-1||f<b[0])&&(b[0]=f),(b[1]===-1||f>b[1])&&(b[1]=f)}let m=r+g*a+a/2+.5*this.scale,y=e+(this._chord.strings.length-f-1)*s;n.fillCircle(y,m,l)}}for(const[f,g]of h){let m=r+f*a+a/2+.5*this.scale,y=e+(this._chord.strings.length-g[1]-1)*s,b=e+(this._chord.strings.length-g[0]-1)*s;n.fillRect(y,m-l,b-y,l*2)}n.textAlign=u,n.textBaseline=c}}Ei.Padding=5;Ei.Frets=5;Ei.CircleRadius=2.5;Ei.StringSpacing=10;Ei.FretSpacing=12;class qF extends gl{constructor(e,r,n=kt.Center){super(e,r),this._glyphWidth=0,this.glyphs=[],this._align=n}doLayout(){let e=0;switch(this._align){case kt.Left:e=0;break;case kt.Center:e=(this.width-this._glyphWidth)/2;break;case kt.Right:e=this.width-this._glyphWidth;break}for(let r of this.glyphs)r.x=e,e+=r.width}addGlyphToRow(e){this.glyphs.push(e),this._glyphWidth+=e.width,e.height>this.height&&(this.height=e.height)}}class cp extends gl{constructor(e,r,n=kt.Center){super(e,r),this._rows=[],this.height=0,this.glyphs=[],this._align=n}doLayout(){let e=0,r=0,n=2*cp.Padding*this.scale;this._rows=[];let i=new qF(e,r,this._align);i.width=this.width;for(let s of this.glyphs)e+s.width<this.width?(i.addGlyphToRow(s),e+=s.width):(i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),e=0,i=new qF(e,r,this._align),i.width=this.width,i.addGlyphToRow(s),e+=s.width);i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),this.height=r+n}paint(e,r,n){for(let i of this._rows)i.paint(e+this.x,r+this.y+cp.Padding*this.scale,n)}}cp.Padding=3;class bxe extends cp{constructor(e,r){super(e,r)}addChord(e){if(e.strings.length>0){let r=new Ei(0,0,e);r.renderer=this.renderer,r.doLayout(),this.glyphs.push(r)}}}class es extends ml{constructor(e,r,n,i,s=kt.Left){super(e,r),this._lines=n.split(`
`),this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){let i=n.color;n.color=i,n.font=this.font;let s=n.textAlign;n.textAlign=this.textAlign;let a=r+this.y;for(let o of this._lines)n.fillText(o,e+this.x,a),a+=this.font.size;n.textAlign=s}}class vxe{get staveId(){return this._factory.staffId}constructor(e,r,n){this._sharedLayoutData=new Map,this.barRenderers=[],this.x=0,this.y=0,this.height=0,this.index=0,this.staffIndex=0,this.trackIndex=0,this.staveTop=0,this.topSpacing=20,this.bottomSpacing=5,this.staveBottom=0,this.isFirstInAccolade=!1,this.isLastInAccolade=!1,this._factory=n,this.trackIndex=e,this.modelStaff=r}getSharedLayoutData(e,r){return this._sharedLayoutData.has(e)?this._sharedLayoutData.get(e):r}setSharedLayoutData(e,r){this._sharedLayoutData.set(e,r)}get isInAccolade(){return this._factory.isInAccolade}get isRelevantForBoundsLookup(){return this._factory.isRelevantForBoundsLookup}registerStaffTop(e){this.staveTop=e}registerStaffBottom(e){this.staveBottom=e}addBarRenderer(e){e.staff=this,e.index=this.barRenderers.length,e.reLayout(),this.barRenderers.push(e),this.staveGroup.layout.registerBarRenderer(this.staveId,e)}addBar(e,r){let n;e?n=this._factory.create(this.staveGroup.layout.renderer,e):n=new bn(this.staveGroup.layout.renderer,e),n.staff=this,n.index=this.barRenderers.length,n.layoutingInfo=r,n.doLayout(),n.registerLayoutingInfo();const i=n.barDisplayWidth;i>0&&this.staveGroup.layout.systemsLayoutMode==ia.FromModelWithWidths&&(n.width=i),this.barRenderers.push(n),e&&this.staveGroup.layout.registerBarRenderer(this.staveId,n)}revertLastBar(){let e=this.barRenderers[this.barRenderers.length-1];return this.barRenderers.splice(this.barRenderers.length-1,1),this.staveGroup.layout.unregisterBarRenderer(this.staveId,e),e}scaleToWidth(e){this._sharedLayoutData=new Map;let r=this.topOverflow,n=0;switch(this.staveGroup.layout.systemsLayoutMode){case ia.Automatic:let s=(e-this.staveGroup.computedWidth)/this.barRenderers.length;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;let l=o.computedWidth+s;o.scaleToWidth(l),n+=o.width}break;case ia.FromModelWithScale:e-=this.staveGroup.accoladeSpacing;const a=this.staveGroup.totalBarDisplayScale;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayScale*e/a;o.scaleToWidth(l),n+=o.width}break;case ia.FromModelWithWidths:for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayWidth;l>0?o.scaleToWidth(l):o.scaleToWidth(o.computedWidth),n+=o.width}break}}get topOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.topOverflow>e&&(e=i.topOverflow)}return e}get bottomOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.bottomOverflow>e&&(e=i.bottomOverflow)}return e}finalizeStaff(){this.height=0;let e=!1,r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()&&(e=!0);if(e){r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()}this.height>0&&(this.height+=this.topSpacing+r+this.bottomOverflow+this.bottomSpacing)}paint(e,r,n,i,s){if(!(this.height===0||s===0))for(let a=i,o=Math.min(i+s,this.barRenderers.length);a<o;a++)this.barRenderers[a].paint(e+this.x,r+this.y,n)}}class KF{constructor(){this.timePosition=0,this.longestDuration=0,this.smallestDuration=0,this.force=0,this.springConstant=0,this.preBeatWidth=0,this.graceBeatWidth=0,this.postSpringWidth=0,this.allDurations=new Set}get springWidth(){return this.preSpringWidth+this.postSpringWidth}get preSpringWidth(){return this.preBeatWidth+this.graceBeatWidth}}class dp{constructor(){this._timeSortedSprings=[],this._xMin=0,this._minTime=-1,this._onTimePositionsForce=0,this._onTimePositions=new Map,this._incompleteGraceRodsWidth=0,this.version=0,this.preBeatSizes=new Map,this.onBeatSizes=new Map,this.onBeatCenterX=new Map,this.preBeatSize=0,this.postBeatSize=0,this.voiceSize=0,this.minStretchForce=0,this.totalSpringConstant=0,this.incompleteGraceRods=new Map,this.allGraceRods=new Map,this.springs=new Map,this.height=0}updateVoiceSize(e){e>this.voiceSize&&(this.voiceSize=e,this.version++)}setPreBeatSize(e,r){(!this.preBeatSizes.has(e.id)||this.preBeatSizes.get(e.id)<r)&&(this.preBeatSizes.set(e.id,r),this.version++)}getPreBeatSize(e){return this.preBeatSizes.has(e.id)?this.preBeatSizes.get(e.id):0}setOnBeatSize(e,r){(!this.onBeatSizes.has(e.id)||this.onBeatSizes.get(e.id)<r)&&(this.onBeatSizes.set(e.id,r),this.version++)}getOnBeatSize(e){return this.onBeatSizes.has(e.id)?this.onBeatSizes.get(e.id):0}getBeatCenterX(e){return this.onBeatCenterX.has(e.id)?this.onBeatCenterX.get(e.id):0}setBeatCenterX(e,r){(!this.onBeatCenterX.has(e.id)||this.onBeatCenterX.get(e.id)<r)&&(this.onBeatCenterX.set(e.id,r),this.version++)}updateMinStretchForce(e){this.minStretchForce<e&&(this.minStretchForce=e)}addSpring(e,r,n,i,s){this.version++;let a;if(this.springs.has(e))a=this.springs.get(e),a.postSpringWidth<s&&(a.postSpringWidth=s),a.graceBeatWidth<n&&(a.graceBeatWidth=n),a.preBeatWidth<i&&(a.preBeatWidth=i),r<a.smallestDuration&&(a.smallestDuration=r),r>a.longestDuration&&(a.longestDuration=r),a.allDurations.add(r);else{if(a=new KF,a.timePosition=e,a.allDurations.add(r),this._timeSortedSprings.length>0){let u=this._timeSortedSprings[this._timeSortedSprings.length-1];for(const c of u.allDurations)u.timePosition+c}a.longestDuration=r,a.postSpringWidth=s,a.graceBeatWidth=n,a.preBeatWidth=i,this.springs.set(e,a);let o=this._timeSortedSprings,l=o.length-1;for(;l>0&&o[l].timePosition>e;)l--;this._timeSortedSprings.splice(l+1,0,a)}return(this._minTime===-1||this._minTime>e)&&(this._minTime=e),a}addBeatSpring(e,r,n){let i=e.absoluteDisplayStart;if(e.graceType!==Tt.None){const s=e.graceGroup.id;this.allGraceRods.has(s)||this.allGraceRods.set(s,new Array(e.graceGroup.beats.length)),!e.graceGroup.isComplete&&!this.incompleteGraceRods.has(s)&&this.incompleteGraceRods.set(s,new Array(e.graceGroup.beats.length));let a=this.allGraceRods.get(s)[e.graceIndex];if(a)a.postSpringWidth<n&&(a.postSpringWidth=n),a.preBeatWidth<r&&(a.preBeatWidth=r);else{const o=new KF;o.timePosition=i,o.postSpringWidth=n,o.preBeatWidth=r,e.graceGroup.isComplete||(this.incompleteGraceRods.get(s)[e.graceIndex]=o),this.allGraceRods.get(s)[e.graceIndex]=o}}else{let s=0;if(e.graceGroup&&this.allGraceRods.has(e.graceGroup.id))for(const a of this.allGraceRods.get(e.graceGroup.id))s+=a.springWidth;this.addSpring(i,e.displayDuration,s,r,n)}}finish(){for(const[e,r]of this.allGraceRods){let n=0;if(this.incompleteGraceRods.has(e))for(const i of r)n+=i.preBeatWidth,i.graceBeatWidth=n,n+=i.postSpringWidth;else for(let i=r.length-1;i>=0;i--)r[i].graceBeatWidth=n,n-=r[i].preBeatWidth+r[i].postSpringWidth}this._incompleteGraceRodsWidth=0;for(const e of this.incompleteGraceRods.values())for(const r of e)this._incompleteGraceRodsWidth+=r.preBeatWidth+r.postSpringWidth;this.calculateSpringConstants(),this.version++}calculateSpringConstants(){this._xMin=0;let e=this.springs;for(const i of e.values())i.springWidth<this._xMin&&(this._xMin=i.springWidth);let r=0,n=this._timeSortedSprings;if(n.length===0){this.totalSpringConstant=-1,this.minStretchForce=-1;return}for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.longestDuration;else{let o=n[i+1];a=Math.abs(o.timePosition-s.timePosition)}s.springConstant=this.calculateSpringConstant(s,a),r+=1/s.springConstant}this.totalSpringConstant=1/r,this.minStretchForce=0;for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.postSpringWidth;else{let l=n[i+1];a=s.postSpringWidth+l.preSpringWidth}i===0&&(a+=s.preSpringWidth);let o=a*s.springConstant;this.updateMinStretchForce(o)}}paint(e,r,n){}calculateSpringConstant(e,r){r<=0&&(r=Ht.toTicks(le.SixtyFourth)),e.smallestDuration===0&&(e.smallestDuration=r);let n=e.smallestDuration,i=1+.85*Math.log2(r/dp.MinDuration);return n/r*(1/(i*dp.MinDurationWidth))}spaceToForce(e){return this.totalSpringConstant!==-1?(this._timeSortedSprings.length>0&&(e-=this._timeSortedSprings[0].preSpringWidth),e-=this._incompleteGraceRodsWidth,Math.max(e,0)*this.totalSpringConstant):-1}calculateVoiceWidth(e){let r=0;return this.totalSpringConstant!==-1&&(r=this.calculateWidth(e,this.totalSpringConstant)),this._timeSortedSprings.length>0&&(r+=this._timeSortedSprings[0].preSpringWidth),r+=this._incompleteGraceRodsWidth,r}calculateWidth(e,r){return e/r}buildOnTimePositions(e){if(this.totalSpringConstant===-1)return new Map;if(Xr.isAlmostEqualTo(this._onTimePositionsForce,e)&&this._onTimePositions)return this._onTimePositions;this._onTimePositionsForce=e;let r=new Map;this._onTimePositions=r;let n=this._timeSortedSprings;if(n.length===0)return r;let i=n[0].preSpringWidth;for(let s=0;s<n.length;s++)r.set(n[s].timePosition,i),i+=this.calculateWidth(e,n[s].springConstant);return r}}dp.MinDuration=30;dp.MinDurationWidth=7;class wxe{constructor(){this.width=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this.renderers=[]}}class xxe{constructor(e,r){this.staves=[],this.stavesRelevantForBoundsLookup=[],this.firstStaffInAccolade=null,this.lastStaffInAccolade=null,this.staveGroup=e,this.track=r}addStaff(e){this.staves.push(e),e.isRelevantForBoundsLookup&&this.stavesRelevantForBoundsLookup.push(e)}}class dy{constructor(){this._allStaves=[],this._firstStaffInAccolade=null,this._lastStaffInAccolade=null,this._accoladeSpacingCalculated=!1,this.x=0,this.y=0,this.index=0,this.accoladeSpacing=0,this.isFull=!1,this.width=0,this.computedWidth=0,this.totalBarDisplayScale=0,this.isLast=!1,this.masterBarsRenderers=[],this.staves=[]}get firstBarIndex(){return this.masterBarsRenderers[0].masterBar.index}get lastBarIndex(){return this.masterBarsRenderers[this.masterBarsRenderers.length-1].masterBar.index}addMasterBarRenderers(e,r){if(e.length===0)return null;this.masterBarsRenderers.push(r),this.calculateAccoladeSpacing(e),r.layoutingInfo.preBeatSize=0;let n=0;for(let i=0,s=this.staves.length;i<s;i++){let a=this.staves[i];for(let o=0,l=a.staves.length;o<l;o++){let u=a.staves[o],c=r.renderers[n++];u.addBarRenderer(c)}}return this.updateWidthFromLastBar(),r}addBars(e,r){if(e.length===0)return null;let n=new wxe;n.layoutingInfo=new dp,n.masterBar=e[0].score.masterBars[r],this.masterBarsRenderers.push(n),this.calculateAccoladeSpacing(e);let i=n.layoutingInfo;for(let s of this.staves)for(let a of s.staves){let o=s.track.staves[a.modelStaff.index].bars[r];a.addBar(o,i);let l=a.barRenderers[a.barRenderers.length-1];n.renderers.push(l),l.isLinkedToPrevious&&(n.isLinkedToPrevious=!0),l.canWrap||(n.canWrap=!1)}return i.finish(),n.width=this.updateWidthFromLastBar(),n}revertLastBar(){if(this.masterBarsRenderers.length>1){let e=this.masterBarsRenderers[this.masterBarsRenderers.length-1];this.masterBarsRenderers.splice(this.masterBarsRenderers.length-1,1);let r=0,n=0;for(let i=0,s=this._allStaves.length;i<s;i++){let o=this._allStaves[i].revertLastBar();const l=o.computedWidth;l>r&&(r=l);const u=o.barDisplayScale;u>n&&(n=u)}return this.width-=r,this.computedWidth-=r,this.totalBarDisplayScale-=n,e}return null}updateWidthFromLastBar(){let e=0,r=0;for(let n=0,i=this._allStaves.length;n<i;n++){let s=this._allStaves[n];const a=s.barRenderers[s.barRenderers.length-1];a.applyLayoutingInfo(),a.computedWidth>e&&(e=a.computedWidth);const o=a.barDisplayScale;o>r&&(r=o)}return this.width+=e,this.computedWidth+=e,this.totalBarDisplayScale+=r,e}calculateAccoladeSpacing(e){if(!this._accoladeSpacingCalculated&&this.index===0)if(this._accoladeSpacingCalculated=!0,!this.layout.renderer.settings.notation.isNotationElementVisible(Nt.TrackNames))this.accoladeSpacing=0;else{let r=this.layout.renderer.canvas,n=this.layout.renderer.settings.display.resources.effectFont;r.font=n;for(let i of e)this.accoladeSpacing=Math.ceil(Math.max(this.accoladeSpacing,r.measureText(i.shortName)));this.accoladeSpacing*=this.layout.scale,this.accoladeSpacing+=2*dy.AccoladeLabelSpacing*this.layout.scale,this.width+=this.accoladeSpacing,this.computedWidth+=this.accoladeSpacing}}getStaveTrackGroup(e){for(let r=0,n=this.staves.length;r<n;r++){let i=this.staves[r];if(i.track===e)return i}return null}addStaff(e,r){let n=this.getStaveTrackGroup(e);n||(n=new xxe(this,e),this.staves.push(n)),r.staveTrackGroup=n,r.staveGroup=this,r.index=this._allStaves.length,this._allStaves.push(r),n.addStaff(r),r.isInAccolade&&(this._firstStaffInAccolade||(this._firstStaffInAccolade=r,r.isFirstInAccolade=!0),n.firstStaffInAccolade||(n.firstStaffInAccolade=r),this._lastStaffInAccolade||(this._lastStaffInAccolade=r,r.isLastInAccolade=!0),this._lastStaffInAccolade&&(this._lastStaffInAccolade.isLastInAccolade=!1),this._lastStaffInAccolade=r,this._lastStaffInAccolade.isLastInAccolade=!0,n.lastStaffInAccolade=r)}get height(){return this._allStaves[this._allStaves.length-1].y+this._allStaves[this._allStaves.length-1].height}scaleToWidth(e){for(let r=0,n=this._allStaves.length;r<n;r++)this._allStaves[r].scaleToWidth(e);this.width=e}paint(e,r,n){this.paintPartial(e+this.x,r+this.y,n,0,this.masterBarsRenderers.length)}paintPartial(e,r,n,i,s){for(let o=0,l=this._allStaves.length;o<l;o++)this._allStaves[o].paint(e,r,n,i,s);let a=this.layout.renderer.settings.display.resources;if(this.staves.length>0&&i===0){if(n.color=a.barSeparatorColor,this._firstStaffInAccolade&&this._lastStaffInAccolade){let o=r+this._firstStaffInAccolade.y+this._firstStaffInAccolade.staveTop+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow,l=r+this._lastStaffInAccolade.y+this._lastStaffInAccolade.topSpacing+this._lastStaffInAccolade.topOverflow+this._lastStaffInAccolade.staveBottom,u=e+this._firstStaffInAccolade.x;n.beginPath(),n.moveTo(u,o),n.lineTo(u,l),n.stroke()}n.font=a.effectFont;for(let o=0,l=this.staves.length;o<l;o++){let u=this.staves[o];if(u.firstStaffInAccolade&&u.lastStaffInAccolade){let c=r+u.firstStaffInAccolade.y+u.firstStaffInAccolade.staveTop+u.firstStaffInAccolade.topSpacing+u.firstStaffInAccolade.topOverflow,h=r+u.lastStaffInAccolade.y+u.lastStaffInAccolade.topSpacing+u.lastStaffInAccolade.topOverflow+u.lastStaffInAccolade.staveBottom,f=e+u.firstStaffInAccolade.x,g=3*this.layout.renderer.settings.display.scale,m=g,y=c-g*4,b=h+g*4;this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(Nt.TrackNames)&&n.fillText(u.track.shortName,e+dy.AccoladeLabelSpacing*this.layout.scale,c),n.fillRect(f-m-g,y,g,b-y);let x=f-m-g,v=f+g*2;n.beginPath(),n.moveTo(x,y),n.bezierCurveTo(x,y,x,y,v,y-g),n.bezierCurveTo(f,y+g,x,y+g,x,y+g),n.closePath(),n.fill(),n.beginPath(),n.moveTo(x,b),n.bezierCurveTo(x,b,f,b,v,b+g),n.bezierCurveTo(f,b-g,x,b-g,x,b-g),n.closePath(),n.fill()}}}}finalizeGroup(){let e=0;for(let r of this._allStaves)r.x=this.accoladeSpacing,r.y=e,r.finalizeStaff(),e+=r.height}buildBoundingsLookup(e,r){if(this.layout.renderer.boundsLookup.isFinished||!this._firstStaffInAccolade||!this._lastStaffInAccolade)return;let n=this._allStaves[this._allStaves.length-1],i=r+this.y+this._firstStaffInAccolade.y,s=r+this.y+this._lastStaffInAccolade.y+this._lastStaffInAccolade.height,a=r+this.y+this._allStaves[0].y,o=r+this.y+n.y+n.height,l=r+this.y+this._firstStaffInAccolade.y+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow+(this._firstStaffInAccolade.barRenderers.length>0?this._firstStaffInAccolade.barRenderers[0].topPadding:0),u=r+this.y+n.y+n.height-n.bottomSpacing-n.bottomOverflow-(n.barRenderers.length>0?n.barRenderers[0].bottomPadding:0),c=s-i,h=u-l,f=o-a,g=this.x+this._firstStaffInAccolade.x,m=new sW;m.visualBounds=new Fs,m.visualBounds.x=e,m.visualBounds.y=r+this.y,m.visualBounds.w=this.width,m.visualBounds.h=this.height,m.realBounds=new Fs,m.realBounds.x=e,m.realBounds.y=r+this.y,m.realBounds.w=this.width,m.realBounds.h=this.height,this.layout.renderer.boundsLookup.addStaveGroup(m);let y=new Map;for(let b=0;b<this.staves.length;b++)for(let x of this.staves[b].stavesRelevantForBoundsLookup)for(let v of x.barRenderers){let w;y.has(v.bar.masterBar.index)?w=y.get(v.bar.masterBar.index):(w=new iW,w.index=v.bar.masterBar.index,w.isFirstOfLine=v.isFirstOfLine,w.realBounds=new Fs,w.realBounds.x=g+v.x,w.realBounds.y=a,w.realBounds.w=v.width,w.realBounds.h=f,w.visualBounds=new Fs,w.visualBounds.x=g+v.x,w.visualBounds.y=i,w.visualBounds.w=v.width,w.visualBounds.h=c,w.lineAlignedBounds=new Fs,w.lineAlignedBounds.x=g+v.x,w.lineAlignedBounds.y=l,w.lineAlignedBounds.w=v.width,w.lineAlignedBounds.h=h,this.layout.renderer.boundsLookup.addMasterBar(w),y.set(w.index,w)),v.buildBoundingsLookup(w,g,r+this.y+x.y)}}getBarX(e){if(!this._firstStaffInAccolade||this.layout.renderer.tracks.length===0)return 0;let r=this.layout.renderer.tracks[0].staves[0].bars[e];return this.layout.getRendererForBar(this._firstStaffInAccolade.staveId,r).x}}dy.AccoladeLabelSpacing=10;class Q1 extends gl{constructor(e,r,n,i){super(e,r),this._tuning=n,this._trackLabel=i,this.glyphs=[]}doLayout(){if(!(this.glyphs.length>0)){this.createGlyphs(this._tuning);for(const e of this.glyphs)e.renderer=this.renderer,e.doLayout()}}createGlyphs(e){const r=this.renderer.scale,n=this.renderer.resources;this.height=0;const i=15*r;this._trackLabel.length>0&&(this.addGlyph(new es(0,this.height,this._trackLabel,n.effectFont,kt.Left)),this.height+=i),this.addGlyph(new es(0,this.height,e.name,n.effectFont,kt.Left));const s=64*r;if(this.renderer.scoreRenderer.canvas.font=n.effectFont,this.width=Math.max(this.renderer.scoreRenderer.canvas.measureText(this._trackLabel)*r,Math.max(this.renderer.scoreRenderer.canvas.measureText(e.name)*r,2*s)),this.height+=i,!e.isStandard){const o=Q1.CircleNumberHeight*.7*r;let l=Math.ceil(e.tunings.length/2)|0,u=0,c=this.height;for(let h=0,f=e.tunings.length;h<f;h++){const g=R.GuitarString0+(h+1);this.addGlyph(new Rn(u,c+o/1.2,.7,g));const m="= "+ze.getTextForTuning(e.tunings[h],!1);this.addGlyph(new es(u+o+1*r,c,m,n.effectFont,kt.Left)),c+=i,h===l-1&&(c=this.height,u+=s)}this.height+=l*i}this.width+=15*r}}Q1.CircleNumberHeight=20;class Sxe extends cp{constructor(e,r){super(e,r,kt.Left)}addTuning(e,r){if(e.tunings.length>0){let n=new Q1(0,0,e,r);n.renderer=this.renderer,n.doLayout(),this.glyphs.push(n)}}}class kxe{constructor(e,r){this.args=e,this.renderCallback=r}}var ia;(function(t){t[t.Automatic=0]="Automatic",t[t.FromModelWithScale=1]="FromModelWithScale",t[t.FromModelWithWidths=2]="FromModelWithWidths"})(ia||(ia={}));class dW{constructor(e){this._barRendererLookup=new Map,this.width=0,this.height=0,this.scoreInfoGlyphs=new Map,this.chordDiagrams=null,this.tuningGlyph=null,this.systemsLayoutMode=ia.Automatic,this._lazyPartials=new Map,this.firstBarIndex=0,this.lastBarIndex=0,this.renderer=e}resize(){this._lazyPartials.clear(),this.doResize()}layoutAndRender(){this._lazyPartials.clear();let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r)),this.firstBarIndex=r;let n=this.renderer.settings.display.barCount;n<0&&(n=e.masterBars.length),n=r+n-1,n=Math.min(e.masterBars.length-1,Math.max(0,n)),this.lastBarIndex=n,this.createScoreInfoGlyphs(),this.doLayoutAndRender()}registerPartial(e,r){this.renderer.settings.core.enableLazyLoading?(this._lazyPartials.set(e.id,new kxe(e,r)),this.renderer.partialLayoutFinished.trigger(e)):(this.renderer.partialLayoutFinished.trigger(e),this.internalRenderLazyPartial(e,r))}internalRenderLazyPartial(e,r){const n=this.renderer.canvas;n.beginRender(e.width,e.height),r(n),e.renderResult=n.endRender(),this.renderer.partialRenderFinished.trigger(e)}renderLazyPartial(e){if(this._lazyPartials.has(e)){const r=this._lazyPartials.get(e);this.internalRenderLazyPartial(r.args,r.renderCallback)}}createScoreInfoGlyphs(){Fe.debug("ScoreLayout","Creating score info glyphs");let e=this.renderer.settings.notation,r=this.renderer.score,n=this.renderer.settings.display.resources;this.scoreInfoGlyphs=new Map,r.title&&e.isNotationElementVisible(Nt.ScoreTitle)&&this.scoreInfoGlyphs.set(Nt.ScoreTitle,new es(0,0,r.title,n.titleFont,kt.Center)),r.subTitle&&e.isNotationElementVisible(Nt.ScoreSubTitle)&&this.scoreInfoGlyphs.set(Nt.ScoreSubTitle,new es(0,0,r.subTitle,n.subTitleFont,kt.Center)),r.artist&&e.isNotationElementVisible(Nt.ScoreArtist)&&this.scoreInfoGlyphs.set(Nt.ScoreArtist,new es(0,0,r.artist,n.subTitleFont,kt.Center)),r.album&&e.isNotationElementVisible(Nt.ScoreAlbum)&&this.scoreInfoGlyphs.set(Nt.ScoreAlbum,new es(0,0,r.album,n.subTitleFont,kt.Center)),r.music&&r.music===r.words&&e.isNotationElementVisible(Nt.ScoreWordsAndMusic)?this.scoreInfoGlyphs.set(Nt.ScoreWordsAndMusic,new es(0,0,"Music and Words by "+r.words,n.wordsFont,kt.Center)):(r.music&&e.isNotationElementVisible(Nt.ScoreMusic)&&this.scoreInfoGlyphs.set(Nt.ScoreMusic,new es(0,0,"Music by "+r.music,n.wordsFont,kt.Right)),r.words&&e.isNotationElementVisible(Nt.ScoreWords)&&this.scoreInfoGlyphs.set(Nt.ScoreWords,new es(0,0,"Words by "+r.words,n.wordsFont,kt.Left)));const i=new bn(this.renderer,this.renderer.tracks[0].staves[0].bars[0]);if(e.isNotationElementVisible(Nt.GuitarTuning)){let s=[];for(let a of this.renderer.tracks)for(let o of a.staves)if(!o.isPercussion&&o.isStringed&&o.tuning.length>0&&o.showTablature){s.push(o);break}if(s.length>0){this.tuningGlyph=new Sxe(0,0),this.tuningGlyph.renderer=i;for(const a of s)this.tuningGlyph.addTuning(a.stringTuning,s.length>1?a.track.name:"")}}if(e.isNotationElementVisible(Nt.ChordDiagrams)){this.chordDiagrams=new bxe(0,0),this.chordDiagrams.renderer=i;let s=new Set;for(let a of this.renderer.tracks)for(let o of a.staves){const l=o.chords;if(l)for(const[,u]of l)s.has(u.uniqueId)||u.showDiagram&&(s.add(u.uniqueId),this.chordDiagrams.addChord(u))}}}get scale(){return this.renderer.settings.display.scale}createEmptyStaveGroup(){let e=new dy;e.layout=this;for(let r=0;r<this.renderer.tracks.length;r++){let n=this.renderer.tracks[r],i=!1;for(let s of n.staves)if(s.showStandardNotation){i=!0;break}for(let s=0;s<n.staves.length;s++){let a=n.staves[s],o;if(a.isPercussion)o=ea.Score;else if(this.renderer.settings.display.staveProfile!==ea.Default)o=this.renderer.settings.display.staveProfile;else if(a.showTablature&&a.showStandardNotation)o=ea.ScoreTab;else if(a.showTablature)o=i?ea.TabMixed:ea.Tab;else if(a.showStandardNotation)o=ea.Score;else continue;let l=Ue.staveProfiles.get(o);for(let u of l)u.canCreate(n,a)&&e.addStaff(n,new vxe(r,a,u))}}return e}registerBarRenderer(e,r){this._barRendererLookup.has(e)||this._barRendererLookup.set(e,new Map),this._barRendererLookup.get(e).set(r.bar.id,r)}unregisterBarRenderer(e,r){this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).delete(r.bar.id)}getRendererForBar(e,r){let n=r.id;return this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).has(n)?this._barRendererLookup.get(e).get(n):null}layoutAndRenderAnnotation(e){let r="rendered by alphaTab",n=this.renderer.settings.display.resources,i=12*this.renderer.settings.display.scale,s=Math.floor(i*2);const a=new $d,o=fr.withFamilyList(n.copyrightFont.families,i,vn.Plain,ta.Bold);this.renderer.canvas.font=o;const l=Ue.getLayoutEngineFactory(this.renderer.settings.display.layoutMode).vertical;return a.width=this.renderer.canvas.measureText(r),a.height=s,a.x=l?(this.width-a.width)/2:this.firstBarX,a.y=e,a.totalWidth=this.width,a.totalHeight=e+s,a.firstMasterBarIndex=-1,a.lastMasterBarIndex=-1,this.registerPartial(a,u=>{u.color=n.mainGlyphColor,u.font=o,u.textAlign=kt.Left,u.fillText(r,0,i)}),e+s}}var gt;(function(t){t[t.TopWithStem=0]="TopWithStem",t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom",t[t.BottomWithStem=4]="BottomWithStem"})(gt||(gt={}));var En;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(En||(En={}));class bn{get nextRenderer(){return!this.bar||!this.bar.nextBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.nextBar)}get previousRenderer(){return!this.bar||!this.bar.previousBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.previousBar)}constructor(e,r){this._preBeatGlyphs=new Eg,this._voiceContainers=new Map,this._postBeatGlyphs=new Eg,this._ties=[],this.x=0,this.y=0,this.width=0,this.computedWidth=0,this.height=0,this.index=0,this.topOverflow=0,this.bottomOverflow=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this._wasFirstOfLine=!1,this._appliedLayoutingInfo=0,this.isFinalized=!1,this.topPadding=0,this.bottomPadding=0,this.scoreRenderer=e,this.bar=r,r&&(this.helpers=new yxe(this))}registerTies(e){this._ties.push(...e)}get middleYPosition(){return 0}registerOverflowTop(e){return e>this.topOverflow?(this.topOverflow=e,!0):!1}registerOverflowBottom(e){return e>this.bottomOverflow?(this.bottomOverflow=e,!0):!1}scaleToWidth(e){let r=e-this._preBeatGlyphs.width-this._postBeatGlyphs.width;for(const n of this._voiceContainers.values())n.scaleToWidth(r);this._postBeatGlyphs.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width+r,this.width=e}get resources(){return this.settings.display.resources}get settings(){return this.scoreRenderer.settings}get scale(){return this.settings.display.scale}get barDisplayScale(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayScale:this.bar.displayScale}get barDisplayWidth(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayWidth:this.bar.displayWidth}get isFirstOfLine(){return this.index===0}get isLast(){return!this.bar||this.bar.index===this.scoreRenderer.layout.lastBarIndex}registerLayoutingInfo(){let e=this.layoutingInfo,r=this._preBeatGlyphs.width;e.preBeatSize<r&&(e.preBeatSize=r);for(const i of this._voiceContainers.values())i.registerLayoutingInfo(e),i.x+i.width;let n=this._postBeatGlyphs.width;e.postBeatSize<n&&(e.postBeatSize=n)}applyLayoutingInfo(){if(this._appliedLayoutingInfo>=this.layoutingInfo.version)return!1;this._appliedLayoutingInfo=this.layoutingInfo.version,this._preBeatGlyphs.width=this.layoutingInfo.preBeatSize;let e=this._preBeatGlyphs.x+this._preBeatGlyphs.width;for(const n of this._voiceContainers.values()){n.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width,n.applyLayoutingInfo(this.layoutingInfo);let i=n.x+n.width;e<i&&(e=i)}this._postBeatGlyphs.x=Math.floor(e),this._postBeatGlyphs.width=this.layoutingInfo.postBeatSize,this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.computedWidth=this.width;const r=this.barDisplayWidth;return r>0&&this.scoreRenderer.layout.systemsLayoutMode==ia.FromModelWithWidths&&(this.width=r,this.computedWidth=r),!0}finalizeRenderer(){this.isFinalized=!0;let e=!1;const r=this.y-this.staff.topSpacing,n=this.y+this.height+this.staff.bottomSpacing;for(const i of this._ties)if(i.doLayout(),i.height>0){const s=i.y+i.height-n;s>0&&this.registerOverflowBottom(s)&&(e=!0);const a=i.y-r;a<0&&this.registerOverflowTop(a*-1)&&(e=!0)}return e}doLayout(){if(this.bar){this.helpers.initialize(),this._ties=[],this._preBeatGlyphs=new Eg,this._preBeatGlyphs.renderer=this,this._voiceContainers.clear(),this._postBeatGlyphs=new Eg,this._postBeatGlyphs.renderer=this;for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];if(this.hasVoiceContainer(r)){let n=new cW(0,0,r);n.renderer=this,this._voiceContainers.set(this.bar.voices[e].index,n)}}this.bar.simileMark===Ia.SecondOfDouble&&(this.canWrap=!1),this.createPreBeatGlyphs(),this.createBeatGlyphs(),this.createPostBeatGlyphs(),this.updateSizes();for(const e of this.helpers.beamHelpers)for(const r of e)r.finish();this.computedWidth=this.width}}hasVoiceContainer(e){return!e.isEmpty||e.index===0}updateSizes(){this.staff.registerStaffTop(this.topPadding),this.staff.registerStaffBottom(this.height-this.bottomPadding);let e=this._voiceContainers,r=this.beatGlyphsStart,n=r;for(const i of e.values()){i.x=r,i.doLayout();let s=i.x+i.width;n<s&&(n=s)}this._postBeatGlyphs.x=Math.floor(n),this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.height+=this.layoutingInfo.height*this.scale}addPreBeatGlyph(e){e.renderer=this,this._preBeatGlyphs.addGlyph(e)}addBeatGlyph(e){e.renderer=this,e.preNotes.renderer=this,e.onNotes.renderer=this,e.onNotes.beamingHelper=this.helpers.beamHelperLookup[e.beat.voice.index].get(e.beat.index),this.getVoiceContainer(e.beat.voice).addGlyph(e)}getVoiceContainer(e){return this._voiceContainers.has(e.index)?this._voiceContainers.get(e.index):void 0}getBeatContainer(e){var r,n;return(n=(r=this.getVoiceContainer(e.voice))==null?void 0:r.beatGlyphs)==null?void 0:n[e.index]}getPreNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.preNotes}getOnNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.onNotes}paint(e,r,n){this.paintBackground(e,r,n),n.color=this.resources.mainGlyphColor,this._preBeatGlyphs.paint(e+this.x,r+this.y,n);for(const i of this._voiceContainers.values())n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.paint(e+this.x,r+this.y,n);n.color=this.resources.mainGlyphColor,this._postBeatGlyphs.paint(e+this.x,r+this.y,n)}paintBackground(e,r,n){this.layoutingInfo.paint(e+this.x+this._preBeatGlyphs.x+this._preBeatGlyphs.width,r+this.y+this.height,n)}buildBoundingsLookup(e,r,n){let i=new rW;i.bar=this.bar,i.visualBounds=new Fs,i.visualBounds.x=r+this.x,i.visualBounds.y=n+this.y+this.topPadding,i.visualBounds.w=this.width,i.visualBounds.h=this.height-this.topPadding-this.bottomPadding,i.realBounds=new Fs,i.realBounds.x=r+this.x,i.realBounds.y=n+this.y,i.realBounds.w=this.width,i.realBounds.h=this.height,e.addBar(i);for(const[s,a]of this._voiceContainers){let o=this.bar.isEmpty&&s===0;if(!a.voice.isEmpty||o)for(let l=0,u=a.beatGlyphs.length;l<u;l++)a.beatGlyphs[l].buildBoundingsLookup(i,r+this.x+a.x,n+this.y+a.y,o)}}addPostBeatGlyph(e){this._postBeatGlyphs.addGlyph(e)}createPreBeatGlyphs(){this._wasFirstOfLine=this.isFirstOfLine}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(this.bar.voices[e])}}createVoiceGlyphs(e){}createPostBeatGlyphs(){}get beatGlyphsStart(){return this._preBeatGlyphs.x+this._preBeatGlyphs.width}get postBeatGlyphsStart(){return this._postBeatGlyphs.x}getBeatX(e,r=er.PreNotes){let n=this.getBeatContainer(e);if(n)switch(r){case er.PreNotes:return n.voiceContainer.x+n.x;case er.OnNotes:return n.voiceContainer.x+n.x+n.onNotes.x;case er.MiddleNotes:return n.voiceContainer.x+n.x+n.onTimeX;case er.Stem:const i=n.onNotes.beamingHelper?n.onNotes.beamingHelper.getBeatLineX(e):n.onNotes.x+n.onNotes.width/2;return n.voiceContainer.x+i;case er.PostNotes:return n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.width;case er.EndBeat:return n.voiceContainer.x+n.x+n.width}return 0}getNoteX(e,r){let n=this.getBeatContainer(e.beat);return n?n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.getNoteX(e,r):0}getNoteY(e,r){let n=this.getOnNotesGlyphForBeat(e.beat);return n?n.getNoteY(e,r):NaN}reLayout(){(this._wasFirstOfLine&&!this.isFirstOfLine||!this._wasFirstOfLine&&this.isFirstOfLine)&&(this._preBeatGlyphs=new Eg,this._preBeatGlyphs.renderer=this,this.createPreBeatGlyphs()),this.updateSizes(),this.registerLayoutingInfo()}paintSimileMark(e,r,n){switch(this.bar.simileMark){case Ia.Simple:n.fillMusicFontSymbol(e+this.x+(this.width-20*this.scale)/2,r+this.y+this.height/2,1,R.Repeat1Bar,!1);break;case Ia.SecondOfDouble:n.fillMusicFontSymbol(e+this.x-28*this.scale/2,r+this.y+this.height/2,1,R.Repeat2Bars,!1);break}}completeBeamingHelper(e){}}bn.LineSpacing=8;bn.StemWidth=.12*bn.LineSpacing;bn.StaffLineThickness=.13*bn.LineSpacing;bn.BeamThickness=.5*bn.LineSpacing;bn.BeamSpacing=.25*bn.LineSpacing;var ur;(function(t){t[t.SinglePreBeat=0]="SinglePreBeat",t[t.SingleOnBeat=1]="SingleOnBeat",t[t.SingleOnBeatToEnd=2]="SingleOnBeatToEnd",t[t.GroupedOnBeat=3]="GroupedOnBeat",t[t.GroupedOnBeatToEnd=4]="GroupedOnBeatToEnd",t[t.FullBar=5]="FullBar"})(ur||(ur={}));class Cxe extends Ln{constructor(e,r){super(0,0),this._uniqueEffectGlyphs=[],this._effectGlyphs=[],this.isEmpty=!0,this.previousBand=null,this.isLinkedToPrevious=!1,this.firstBeat=null,this.lastBeat=null,this.height=0,this.slot=null,this.voice=e,this.info=r}doLayout(){super.doLayout();for(let e=0;e<this.renderer.bar.voices.length;e++)this._effectGlyphs.push(new Map),this._uniqueEffectGlyphs.push([])}createGlyph(e){if(e.voice===this.voice&&this.info.shouldCreateGlyph(this.renderer.settings,e)&&(!this.info.hideOnMultiTrack||this.renderer.staff.trackIndex===0)){if(this.isEmpty=!1,(!this.firstBeat||e.isBefore(this.firstBeat))&&(this.firstBeat=e),!this.lastBeat||e.isAfter(this.lastBeat))switch(this.lastBeat=e,this.info.sizingMode){case ur.SingleOnBeatToEnd:case ur.GroupedOnBeatToEnd:this.lastBeat.nextBeat&&(this.lastBeat=this.lastBeat.nextBeat);break}let r=this.createOrResizeGlyph(this.info.sizingMode,e);r.height>this.height&&(this.height=r.height)}}createOrResizeGlyph(e,r){let n;switch(e){case ur.FullBar:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case ur.SinglePreBeat:case ur.SingleOnBeat:case ur.SingleOnBeatToEnd:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case ur.GroupedOnBeat:case ur.GroupedOnBeatToEnd:let i=e===ur.GroupedOnBeat?ur.SingleOnBeat:ur.SingleOnBeatToEnd;if(r.index>0||this.renderer.index>0){let s=r.previousBeat;if(this.info.shouldCreateGlyph(this.renderer.settings,s)){let a=null;if(r.index>0&&this._effectGlyphs[r.voice.index].has(s.index))a=this._effectGlyphs[r.voice.index].get(s.index);else if(this.renderer.index>0){let u=this.renderer.previousRenderer.getBand(s.voice,this.info.effectId);if(u){let c=u._effectGlyphs[s.voice.index];c.has(s.index)&&(a=c.get(s.index))}}let o=this.createOrResizeGlyph(i,r);return a&&this.info.canExpand(s,r)&&(a.nextGlyph=o,o.previousGlyph=a,this.isLinkedToPrevious=!0),o}return this.createOrResizeGlyph(i,r)}return this.createOrResizeGlyph(i,r);default:return this.createOrResizeGlyph(ur.SingleOnBeat,r)}}paint(e,r,n){super.paint(e,r,n);for(let i=0,s=this._uniqueEffectGlyphs.length;i<s;i++){let a=this._uniqueEffectGlyphs[i];for(let o=0,l=a.length;o<l;o++)a[o].paint(e+this.x,r+this.y,n)}}alignGlyphs(){for(let e=0;e<this._effectGlyphs.length;e++)for(const r of this._effectGlyphs[e].keys())this.alignGlyph(this.info.sizingMode,this.renderer.bar.voices[e].beats[r])}alignGlyph(e,r){let n=this._effectGlyphs[r.voice.index].get(r.index),i,s=this.renderer.getBeatContainer(r);switch(e){case ur.SinglePreBeat:i=s.preNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case ur.SingleOnBeat:case ur.GroupedOnBeat:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case ur.SingleOnBeatToEnd:case ur.GroupedOnBeatToEnd:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,s.beat.isLastOfVoice?n.width=this.renderer.width-n.x:n.width=s.width-s.preNotes.width-s.preNotes.x;break;case ur.FullBar:n.width=this.renderer.width;break}}}class _xe{constructor(){this.uniqueEffectId=null,this.y=0,this.height=0,this.firstBeat=null,this.lastBeat=null}}class Txe{constructor(){this.bands=[],this.shared=new _xe}update(e){e.info.canShareBand||(this.shared.uniqueEffectId=e.info.effectId),e.slot=this,this.bands.push(e),e.height>this.shared.height&&(this.shared.height=e.height),(!this.shared.firstBeat||e.firstBeat.isBefore(this.shared.firstBeat))&&(this.shared.firstBeat=e.firstBeat),(!this.shared.lastBeat||e.lastBeat.isAfter(this.shared.lastBeat))&&(this.shared.lastBeat=e.lastBeat)}canBeUsed(e){return(!this.shared.uniqueEffectId&&e.info.canShareBand||e.info.effectId===this.shared.uniqueEffectId)&&(!this.shared.firstBeat||this.shared.lastBeat.isBefore(e.firstBeat)||this.shared.lastBeat.isBefore(this.shared.firstBeat))}}class Pxe{constructor(){this.slots=[],this._effectSlot=new Map}getOrCreateSlot(e){if(this._effectSlot.has(e.info.effectId)){let n=this._effectSlot.get(e.info.effectId);if(n.canBeUsed(e))return n}for(let n of this.slots)if(n.canBeUsed(e))return n;let r=new Txe;return this.slots.push(r),r}register(e){let r=this.getOrCreateSlot(e);r.update(e),this._effectSlot.set(e.info.effectId,r)}}class J1 extends gl{constructor(){super(0,0),this.computedWidth=0}doLayout(){let e=0;if(this.glyphs)for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.x=e,i.renderer=this.renderer,i.doLayout(),e+=i.width}this.width=e,this.computedWidth=e}noteLoop(e){for(let r=this.container.beat.notes.length-1;r>=0;r--)e(this.container.beat.notes[r])}}class oN extends J1{constructor(){super(...arguments),this.centerX=0}updateBeamingHelper(){}buildBoundingsLookup(e,r,n){}getNoteX(e,r){return 0}getNoteY(e,r){return 0}}class Bxe extends bn{constructor(e,r,n){super(e,r),this._bands=[],this._bandLookup=new Map,this.sizingInfo=null,this._infos=n}updateSizes(){this.topOverflow=0,this.bottomOverflow=0,this.topPadding=0,this.bottomPadding=0,this.updateHeight(),super.updateSizes()}finalizeRenderer(){let e=super.finalizeRenderer();return this.updateHeight()&&(e=!0),e}updateHeight(){if(!this.sizingInfo)return!1;let e=0;for(let r of this.sizingInfo.slots){r.shared.y=e;for(let n of r.bands)n.y=e,n.height=r.shared.height;e+=r.shared.height}return e!==this.height?(this.height=e,!0):!1}applyLayoutingInfo(){if(!super.applyLayoutingInfo())return!1;if(this.index>0){let e=this.previousRenderer;this.sizingInfo=e.sizingInfo}else this.sizingInfo=new Pxe;for(let e of this._bands)e.alignGlyphs(),e.isEmpty||this.sizingInfo.register(e);return this.updateHeight(),!0}scaleToWidth(e){super.scaleToWidth(e);for(let r of this._bands)r.alignGlyphs()}createBeatGlyphs(){this._bands=[],this._bandLookup=new Map;for(let e of this.bar.voices)if(this.hasVoiceContainer(e))for(let r of this._infos){let n=new Cxe(e,r);n.renderer=this,n.doLayout(),this._bands.push(n),this._bandLookup.set(e.index+"."+r.effectId,n)}for(let e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e);for(let e of this._bands)e.isLinkedToPrevious&&(this.isLinkedToPrevious=!0)}createVoiceGlyphs(e){for(let r of e.beats){let n=new il(r,this.getVoiceContainer(e));n.preNotes=new J1,n.onNotes=new oN,this.addBeatGlyph(n);for(let i of this._bands)i.createGlyph(r)}}paint(e,r,n){this.paintBackground(e,r,n);for(let i of this._bands)n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isEmpty||i.paint(e+this.x,r+this.y,n)}getBand(e,r){let n=e.index+"."+r;return this._bandLookup.has(n)?this._bandLookup.get(n):null}}class dc extends aN{get staffId(){return this._staffId}constructor(e,r){super(),this._infos=r,this._staffId=e,this.isInAccolade=!1,this.isRelevantForBoundsLookup=!1}create(e,r){return new Bxe(e,r,this._infos.filter(n=>e.settings.notation.isNotationElementVisible(n.notationElement)))}}class hy extends ml{constructor(e,r,n){super(e,r),this._endingsString="",this._endings=[];for(let i=0;i<Lu.MaxAlternateEndings;i++)n&1<<i&&this._endings.push(i)}doLayout(){super.doLayout(),this.height=this.renderer.resources.wordsFont.size+(hy.Padding*this.scale+2);let e="";for(let r=0,n=this._endings.length;r<n;r++)e+=this._endings[r]+1,e+=". ";this._endingsString=e}paint(e,r,n){super.paint(e,r,n);let i=n.textBaseline;if(n.textBaseline=Xt.Top,this._endings.length>0){let s=this.renderer.resources;n.font=s.wordsFont,n.moveTo(e+this.x,r+this.y+this.height),n.lineTo(e+this.x,r+this.y),n.lineTo(e+this.x+this.width,r+this.y),n.stroke(),n.fillText(this._endingsString,e+this.x+hy.Padding*this.scale,r+this.y*this.scale)}n.textBaseline=i}}hy.Padding=3;class Bi{get effectId(){return this.notationElement.toString()}}class zC extends Bi{get notationElement(){return Nt.EffectAlternateEndings}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return ur.FullBar}shouldCreateGlyph(e,r){return r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.alternateEndings!==0}createNewGlyph(e,r){return new hy(0,0,r.voice.bar.masterBar.alternateEndings)}canExpand(e,r){return!0}}class QF extends Bi{get notationElement(){return Nt.EffectCapo}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.index===0&&r.voice.bar.index===0&&r.voice.bar.staff.capo!==0}createNewGlyph(e,r){return new es(0,0,"Capo. fret "+r.voice.bar.staff.capo,e.resources.effectFont,kt.Left)}canExpand(e,r){return!1}}class WC extends Bi{get notationElement(){return Nt.EffectChordNames}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.hasChord}createNewGlyph(e,r){return new es(0,0,r.chord.name,e.resources.effectFont,kt.Center)}canExpand(e,r){return!1}}class o0 extends ml{constructor(e){super(),this.forceGroupedRendering=!1,this.endOnBarLine=!1,this.endPosition=e}get isLinkedWithPrevious(){return!!this.previousGlyph&&this.previousGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}get isLinkedWithNext(){return!!this.nextGlyph&&this.nextGlyph.renderer.isFinalized&&this.nextGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}paint(e,r,n){if(this.isLinkedWithPrevious)return;if(!this.isLinkedWithNext&&!this.forceGroupedRendering){this.paintNonGrouped(e,r,n);return}let i;if(!this.isLinkedWithNext&&this.forceGroupedRendering)i=this;else for(i=this.nextGlyph;i.isLinkedWithNext;)i=i.nextGlyph;let s=i.renderer,a=i.beat,o=this.endPosition,l=e-this.renderer.x,u=this.calculateEndX(s,a,l,o);this.paintGrouped(e,r,u,n)}calculateEndX(e,r,n,i){return r?n+e.x+e.getBeatX(r,i):n+e.x+this.x+this.width}paintNonGrouped(e,r,n){let i=e-this.renderer.x,s=this.calculateEndX(this.renderer,this.beat,i,this.endPosition);this.paintGrouped(e,r,s,n)}}class fy extends o0{constructor(e,r,n){super(er.EndBeat),this._crescendo=$s.None,this._crescendo=n,this.x=e,this.y=r}doLayout(){super.doLayout(),this.height=17*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=this.height*this.scale;i.beginPath(),this._crescendo===$s.Crescendo?(n-=fy.Padding*this.scale,i.moveTo(n,r+this.y),i.lineTo(s,r+this.y+a/2),i.lineTo(n,r+this.y+a)):(n-=fy.Padding*this.scale,i.moveTo(s,r+this.y),i.lineTo(n,r+this.y+a/2),i.lineTo(s,r+this.y+a)),i.stroke()}}fy.Padding=Kt.QuarterNoteHeadWidth/2|0;class JF extends Bi{get notationElement(){return Nt.EffectCrescendo}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.crescendo!==$s.None}createNewGlyph(e,r){return new fy(0,0,r.crescendo)}canExpand(e,r){return e.crescendo===r.crescendo}}class lN extends Rn{constructor(e,r,n){super(e,r,.6,lN.getSymbol(n))}doLayout(){super.doLayout(),this.height=17*this.scale,this.y+=this.height/2}static getSymbol(e){switch(e){case Jt.PPP:return R.DynamicPPP;case Jt.PP:return R.DynamicPP;case Jt.P:return R.DynamicPiano;case Jt.MP:return R.DynamicMP;case Jt.MF:return R.DynamicMF;case Jt.F:return R.DynamicForte;case Jt.FF:return R.DynamicFF;case Jt.FFF:return R.DynamicFFF;default:return R.None}}}class ZF extends Bi{get notationElement(){return Nt.EffectDynamics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return this.internalShouldCreateGlyph(r)}internalShouldCreateGlyph(e){if(e.voice.bar.staff.track.score.stylesheet.hideDynamics||e.isEmpty||e.voice.isEmpty||e.isRest||e.graceType!==Tt.None)return!1;let r=this.getPreviousDynamicsBeat(e),n=e.voice.index===0&&!r||e.dynamics!==(r==null?void 0:r.dynamics);if(n&&e.voice.index>0){for(let i of e.voice.bar.voices)if(i.index<e.voice.index){let s=i.getBeatAtPlaybackStart(e.playbackStart);s&&e.dynamics===s.dynamics&&this.internalShouldCreateGlyph(s)&&(n=!1)}}return n}getPreviousDynamicsBeat(e){let r=e.previousBeat;for(;r!=null;){if(!r.isRest&&r.graceType===Tt.None)return r;r=r.previousBeat}return null}createNewGlyph(e,r){return new lN(0,0,r.dynamics)}canExpand(e,r){return!0}}class Mxe extends ml{doLayout(){super.doLayout(),this.height=17*this.scale}paint(e,r,n){let i=6*this.scale,s=Math.max(this.width,14*this.scale),a=this.height/2;n.beginPath(),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a-i),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a+i),n.stroke()}}class HC extends Bi{get notationElement(){return Nt.EffectFadeIn}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.fadeIn}createNewGlyph(e,r){return new Mxe}canExpand(e,r){return!0}}class uN extends Rn{constructor(e,r,n){super(e,r,1,uN.getSymbol(n))}static getSymbol(e){switch(e){case ul.Short:return R.FermataShortAbove;case ul.Medium:return R.FermataAbove;case ul.Long:return R.FermataLongAbove;default:return R.None}}doLayout(){this.width=23*this.scale,this.height=12*this.scale}paint(e,r,n){super.paint(e-this.width/2,r+this.height,n)}}class UC extends Bi{get notationElement(){return Nt.EffectFermata}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index===0&&!!r.fermata}createNewGlyph(e,r){return new uN(0,0,r.fermata.type)}canExpand(e,r){return!0}}class eA extends Bi{get notationElement(){return Nt.EffectFingering}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index!==0||r.isRest||e.notation.fingeringMode!==pl.SingleNoteEffectBand&&e.notation.fingeringMode!==pl.SingleNoteEffectBandForcePiano||r.notes.length!==1?!1:r.notes[0].isFingering}createNewGlyph(e,r){let n=Vt.Unknown,i=!1,s=r.notes[0];s.leftHandFinger!==Vt.Unknown?(n=s.leftHandFinger,i=!0):s.rightHandFinger!==Vt.Unknown&&(n=s.rightHandFinger);let a=Xr.fingerToString(e.settings,r,n,i)??"";return new es(0,0,a,e.resources.fingeringFont,kt.Left)}canExpand(e,r){return!0}}class _h extends Bi{constructor(){super(...arguments),this.lastCreateInfo=null}shouldCreateGlyph(e,r){this.lastCreateInfo=[];for(let n=0,i=r.notes.length;n<i;n++){let s=r.notes[n];this.shouldCreateGlyphForNote(s)&&this.lastCreateInfo.push(s)}return this.lastCreateInfo.length>0}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}canExpand(e,r){return!0}}class Gu extends o0{constructor(e){super(er.OnNotes),this._label=e}doLayout(){this.renderer.settings.notation.extendLineEffectsToBeatEnd&&(this.endPosition=er.EndBeat,this.forceGroupedRendering=!0),super.doLayout(),this.height=this.renderer.resources.effectFont.size}paintNonGrouped(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=kt.Center,n.fillText(this._label,e+this.x,r+this.y),n.textAlign=s}paintGrouped(e,r,n,i){this.paintNonGrouped(e,r,i);let s=3*this.scale,a=i.measureText(this._label),o=e+this.x+a/2+s,l=r+this.y+4*this.scale,u=8*this.scale;if(n>o){let c=o;for(;c<n;)i.beginPath(),i.moveTo(c,l|0),i.lineTo(Math.min(c+u,n),l|0),c+=u+s,i.stroke();i.beginPath(),i.moveTo(n,l-5*this.scale|0),i.lineTo(n,l+5*this.scale|0),i.stroke()}}}Gu.LineSpacing=3;Gu.LineTopPadding=4;Gu.LineTopOffset=5;Gu.LineSize=8;class Sa extends _h{get effectId(){return this._effectId}get notationElement(){return Nt.EffectHarmonics}constructor(e){switch(super(),this._beat=null,this._harmonicType=e,e){case vt.None:this._effectId="harmonics-none";break;case vt.Natural:this._effectId="harmonics-natural";break;case vt.Artificial:this._effectId="harmonics-artificial";break;case vt.Pinch:this._effectId="harmonics-pinch";break;case vt.Tap:this._effectId="harmonics-tap";break;case vt.Semi:this._effectId="harmonics-semi";break;case vt.Feedback:this._effectId="harmonics-feedback";break;default:this._effectId="";break}}shouldCreateGlyphForNote(e){return!e.isHarmonic||e.harmonicType!==this._harmonicType?!1:(e.beat!==this._beat&&(this._beat=e.beat),!0)}get sizingMode(){return ur.GroupedOnBeat}createNewGlyph(e,r){return new Gu(Sa.harmonicToString(this._harmonicType))}static harmonicToString(e){switch(e){case vt.Natural:return"N.H.";case vt.Artificial:return"A.H.";case vt.Pinch:return"P.H.";case vt.Tap:return"T.H.";case vt.Semi:return"S.H.";case vt.Feedback:return"Fdbk."}return""}}class GC extends Bi{get notationElement(){return Nt.EffectLetRing}get canShareBand(){return!1}get hideOnMultiTrack(){return!1}shouldCreateGlyph(e,r){return r.isLetRing}get sizingMode(){return ur.GroupedOnBeat}createNewGlyph(e,r){return new Gu("LetRing")}canExpand(e,r){return!0}}class Nxe extends ml{constructor(e,r,n,i,s=kt.Center){super(e,r),this._lines=n,this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){n.font=this.font;let i=n.textAlign;n.textAlign=this.textAlign;for(let s=0;s<this._lines.length;s++)this._lines[s]&&n.fillText(this._lines[s],e+this.x,r+this.y+s*this.font.size);n.textAlign=i}}class Wb extends Bi{get notationElement(){return Nt.EffectLyrics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.lyrics}createNewGlyph(e,r){return new Nxe(0,0,r.lyrics,e.resources.effectFont,kt.Center)}canExpand(e,r){return!0}}class jC extends Bi{get notationElement(){return Nt.EffectMarker}get hideOnMultiTrack(){return!0}get canShareBand(){return!0}get sizingMode(){return ur.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.isSectionStart}createNewGlyph(e,r){return new es(0,0,r.voice.bar.masterBar.section.marker?"["+r.voice.bar.masterBar.section.marker+"] "+r.voice.bar.masterBar.section.text:r.voice.bar.masterBar.section.text,e.resources.markerFont,kt.Left)}canExpand(e,r){return!0}}class Exe extends o0{constructor(e,r){super(er.PostNotes),this._ottava=e,this._aboveStaff=r}doLayout(){super.doLayout(),this.height=13*this.scale}paintNonGrouped(e,r,n){this.paintOttava(e,r,n)}paintOttava(e,r,n){let i=0;switch(this._ottava){case br._15ma:i=37*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.QuindicesimaAlta,!1);break;case br._8va:i=26*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.OttavaAlta,!1);break;case br._8vb:i=23*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.OttavaBassaVb,!1);break;case br._15mb:i=36*this.scale,n.fillMusicFontSymbols(e+this.x-i/2,r+this.y+this.height,.8,[R.Quindicesima,R.OctaveBaselineM,R.OctaveBaselineB],!1);break}return i/2}paintGrouped(e,r,n,i){let s=this.paintOttava(e,r,i),a=3*this.scale,o=e+this.x+s+a,l=r+this.y;l+=this._aboveStaff?2*this.scale:this.height-2*this.scale;let u=8*this.scale;if(n>o){let c=o;for(;c<n;)i.beginPath(),i.moveTo(c,l|0),i.lineTo(Math.min(c+u,n),l|0),c+=u+a,i.stroke();i.beginPath(),this._aboveStaff?(i.moveTo(n,l),i.lineTo(n,r+this.y+this.height)):(i.moveTo(n,l),i.lineTo(n,r+this.y)),i.stroke()}}}class Hb extends Bi{get effectId(){return"ottavia-"+(this._aboveStaff?"above":"below")}get notationElement(){return Nt.EffectOttavia}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.GroupedOnBeat}constructor(e){super(),this._aboveStaff=e}shouldCreateGlyph(e,r){switch(r.ottava){case br._15ma:return this._aboveStaff;case br._8va:return this._aboveStaff;case br._8vb:return!this._aboveStaff;case br._15mb:return!this._aboveStaff}return!1}createNewGlyph(e,r){return new Exe(r.ottava,this._aboveStaff)}canExpand(e,r){return e.ottava===r.ottava}}class YC extends _h{get notationElement(){return Nt.EffectPalmMute}shouldCreateGlyphForNote(e){return e.isPalmMute}get sizingMode(){return ur.GroupedOnBeat}createNewGlyph(e,r){return new Gu("P.M.")}constructor(){super()}}class XC extends _h{get notationElement(){return Nt.EffectPickSlide}shouldCreateGlyphForNote(e){return e.slideOutType===jt.PickSlideDown||e.slideOutType===jt.PickSlideUp}get sizingMode(){return ur.GroupedOnBeat}createNewGlyph(e,r){return new Gu("P.S.")}constructor(){super()}}class py extends Rn{constructor(e,r,n){super(e,r,Kt.GraceScale,py.getSymbol(n))}doLayout(){this.width=9*this.scale,this.height=13*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}static getSymbol(e){switch(e){case Fi.Up:return R.StringsUpBow;case Fi.Down:return R.StringsDownBow;default:return R.None}}}class qC extends Bi{get notationElement(){return Nt.EffectPickStroke}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.pickStroke!==Fi.None}createNewGlyph(e,r){return new py(0,0,r.pickStroke)}canExpand(e,r){return!0}}class hW extends o0{constructor(e){super(er.EndBeat),this._stepSize=0,this._type=e}doLayout(){switch(super.doLayout(),this._type){case pr.Slight:this._stepSize=12*this.scale;break;case pr.Wide:this._stepSize=23*this.scale;break}this.height=18*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=Math.max(1,a/this._stepSize);i.beginPath(),i.moveTo(s,r+this.y);for(let l=0;l<o;l++)i.lineTo(s+this._stepSize/2,r+this.y+this.height),i.lineTo(s+this._stepSize,r+this.y),s+=this._stepSize;i.stroke()}}class Ub extends Bi{get notationElement(){return Nt.EffectSlightBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===pr.Slight}createNewGlyph(e,r){return new hW(pr.Slight)}canExpand(e,r){return!0}}class fh extends o0{constructor(e,r,n,i=1.2,s=!1){super(er.EndBeat),this._scale=0,this._symbol=R.None,this._symbolSize=0,this._type=n,this._scale=i,this.x=e,this.y=r,this._partialWaves=s}doLayout(){super.doLayout();let e=0;switch(this._type){case pr.Slight:this._symbol=R.WiggleTrill,this._symbolSize=9*this._scale,e=6*this._scale;break;case pr.Wide:this._symbol=R.WiggleVibratoMediumFast,this._symbolSize=10*this._scale,e=10*this._scale;break}this.height=e*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=this._symbolSize*this.scale,l=a/o;this._partialWaves||(l=Math.floor(l)),l<1&&(l=1);let u=0;for(let c=0;c<l;c++)i.fillMusicFontSymbol(e+this.x+u,r+this.y+this.height*2,this._scale*this.scale,this._symbol,!1),u+=o}}class Gb extends _h{get notationElement(){return Nt.EffectSlightNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===pr.Slight||e.isTieDestination&&e.tieOrigin.vibrato===pr.Slight}get sizingMode(){return ur.GroupedOnBeatToEnd}createNewGlyph(e,r){return new fh(0,0,pr.Slight,1.2)}constructor(){super()}}class tA extends Bi{get notationElement(){return Nt.EffectTap}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return r.slap||r.pop||r.tap}createNewGlyph(e,r){let n=e.resources;return r.slap?new es(0,0,"S",n.effectFont,kt.Left):r.pop?new es(0,0,"P",n.effectFont,kt.Left):new es(0,0,"T",n.effectFont,kt.Left)}canExpand(e,r){return!0}}class Rxe extends ml{constructor(e,r,n){super(e,r),this._tempo=0,this._tempo=n}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont,n.fillMusicFontSymbol(e+this.x,r+this.y+this.height*.8,this.scale*Kt.GraceScale,R.NoteQuarterUp,!1),n.fillText("= "+this._tempo.toString(),e+this.x+this.height/2,r+this.y+n.font.size/2)}}class KC extends Bi{get notationElement(){return Nt.EffectTempo}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return ur.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&(!!r.voice.bar.masterBar.tempoAutomation||r.voice.bar.index===0)}createNewGlyph(e,r){let n=0;return r.voice.bar.masterBar.tempoAutomation?n=r.voice.bar.masterBar.tempoAutomation.value:n=r.voice.bar.staff.track.score.tempo,new Rxe(0,0,n)}canExpand(e,r){return!0}}class QC extends Bi{get notationElement(){return Nt.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.text}createNewGlyph(e,r){return new es(0,0,r.text,e.resources.effectFont,kt.Left)}canExpand(e,r){return!0}}class Dxe extends ml{constructor(e,r){super(e,r)}doLayout(){super.doLayout(),this.height=this.renderer.resources.markerFont.size*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont;let s=n.measureText("tr");n.fillText("tr",e+this.x,r+this.y);let a=s+3*this.scale,o=this.width-a,l=1.2,u=11*this.scale*l,c=Math.max(1,(o-a)/u),h=a,f=r+this.y+this.height*1.2;for(let g=0;g<c;g++)n.fillMusicFontSymbol(e+this.x+h,f,l,R.WiggleTrill,!1),h+=u}}class jb extends _h{get notationElement(){return Nt.EffectTrill}shouldCreateGlyphForNote(e){return e.isTrill}get sizingMode(){return ur.SingleOnBeat}createNewGlyph(e,r){return new Dxe(0,0)}}var dn;(function(t){t[t.Full=0]="Full",t[t.PartialLeft=1]="PartialLeft",t[t.PartialRight=2]="PartialRight"})(dn||(dn={}));class Dr extends ml{constructor(e){super(0,0),this._tripletFeel=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){e+=this.x,r+=this.y;let i=r+this.height*Kt.GraceScale;n.font=this.renderer.resources.effectFont,n.fillText("(",e,r+this.height*.3);let s=e+10*this.scale,a=e+40*this.scale;switch(this._tripletFeel){case Qt.NoTripletFeel:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full]);break;case Qt.Triplet8th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full]),n.fillMusicFontSymbol(a,i,Dr.NoteScale,R.NoteQuarterUp,!1),n.fillMusicFontSymbol(a+Dr.NoteSeparation*this.scale,i,Dr.NoteScale,R.NoteEighthUp,!1),this.renderTriplet(a,r,n);break;case Qt.Triplet16th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full,dn.PartialRight]),this.renderTriplet(a,r,n);break;case Qt.Dotted8th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full,dn.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case Qt.Dotted16th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full,dn.Full,dn.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case Qt.Scottish8th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full,dn.PartialLeft]),n.fillCircle(a+Dr.NoteSeparation*this.scale+8*this.scale,i,this.scale);break;case Qt.Scottish16th:this.renderBarNote(s,i,Dr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Dr.NoteScale,n,[dn.Full,dn.Full,dn.PartialLeft]),n.fillCircle(a+Dr.NoteSeparation*this.scale+8*this.scale,i,this.scale);break}n.fillText("=",e+30*this.scale,r+5*this.scale),n.fillText(")",e+65*this.scale,r+this.height*.3)}renderBarNote(e,r,n,i,s){i.fillMusicFontSymbol(e,r,n,R.NoteQuarterUp,!1);let a=Dr.NoteSeparation/2*this.scale;for(let o=0;o<s.length;o++)switch(s[o]){case dn.Full:i.fillRect(e+4*this.scale,r-Dr.NoteHeight*this.scale+Dr.BarSeparation*this.scale*o,Dr.NoteSeparation*this.scale,Dr.BarHeight*this.scale);break;case dn.PartialLeft:i.fillRect(e+4*this.scale,r-Dr.NoteHeight*this.scale+Dr.BarSeparation*this.scale*o,a,Dr.BarHeight*this.scale);break;case dn.PartialRight:i.fillRect(e+4*this.scale+a,r-Dr.NoteHeight*this.scale+Dr.BarSeparation*this.scale*o,a,Dr.BarHeight*this.scale);break}i.fillMusicFontSymbol(e+Dr.NoteSeparation*this.scale,r,n,R.NoteQuarterUp,!1)}renderTriplet(e,r,n){r+=2*this.scale;let i=this.renderer.resources.effectFont;n.font=fr.withFamilyList(i.families,i.size*.8,i.style);let s=e+Dr.NoteSeparation*this.scale+3*this.scale;n.beginPath(),n.moveTo(e,r+3*this.scale),n.lineTo(e,r),n.lineTo(e+5*this.scale,r),n.moveTo(s+5*this.scale,r+3*this.scale),n.lineTo(s+5*this.scale,r),n.lineTo(s,r),n.stroke(),n.fillText("3",e+7*this.scale,r-10*this.scale),n.font=i}}Dr.NoteScale=.4;Dr.NoteHeight=12;Dr.NoteSeparation=12;Dr.BarHeight=2;Dr.BarSeparation=3;class JC extends Bi{get notationElement(){return Nt.EffectTripletFeel}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return ur.SinglePreBeat}shouldCreateGlyph(e,r){return r.index===0&&(r.voice.bar.masterBar.index===0&&r.voice.bar.masterBar.tripletFeel!==Qt.NoTripletFeel||r.voice.bar.masterBar.index>0&&r.voice.bar.masterBar.tripletFeel!==r.voice.bar.masterBar.previousMasterBar.tripletFeel)}createNewGlyph(e,r){return new Dr(r.voice.bar.masterBar.tripletFeel)}canExpand(e,r){return!0}}class rA extends Bi{get notationElement(){return Nt.EffectWhammyBar}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return ur.GroupedOnBeat}shouldCreateGlyph(e,r){return r.hasWhammyBar}createNewGlyph(e,r){return new Gu("w/bar")}canExpand(e,r){return!0}}class Yb extends Bi{get notationElement(){return Nt.EffectWideBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return ur.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===pr.Wide}createNewGlyph(e,r){return new hW(pr.Wide)}canExpand(e,r){return!0}}class Xb extends _h{get notationElement(){return Nt.EffectWideNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===pr.Wide||e.isTieDestination&&e.tieOrigin.vibrato===pr.Wide}get sizingMode(){return ur.GroupedOnBeatToEnd}createNewGlyph(e,r){return new fh(0,0,pr.Wide,1.2)}}class nA{constructor(){this.x=0,this.width=0,this.masterBars=[]}}class l0 extends dW{get name(){return"HorizontalScreen"}constructor(e){super(e),this._group=null,this._pagePadding=null}get supportsResize(){return!1}get firstBarX(){let e=this._pagePadding[0];return this._group&&(e+=this._group.accoladeSpacing),e}doResize(){}doLayoutAndRender(){switch(this._pagePadding=this.renderer.settings.display.padding,this.renderer.settings.display.systemsLayoutMode){case Yc.Automatic:this.systemsLayoutMode=ia.Automatic;break;case Yc.UseModelLayout:this.systemsLayoutMode=ia.FromModelWithWidths;break}this._pagePadding||(this._pagePadding=l0.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r));let n=r,i=this.renderer.settings.display.barCount;i<=0&&(i=e.masterBars.length),i=r+i-1,i=Math.min(e.masterBars.length-1,Math.max(0,i)),this._group=this.createEmptyStaveGroup(),this._group.isLast=!0,this._group.x=this._pagePadding[0],this._group.y=this._pagePadding[1];let s=this.renderer.settings.display.barCountPerPartial,a=[],o=new nA,l=0;for(;n<=i;){let c=this._group.addBars(this.renderer.tracks,n);if(c)if(o.masterBars.length===0&&c.isLinkedToPrevious&&a.length>0){let h=a[a.length-1];h.masterBars.push(e.masterBars[n]),h.width+=c.width,l+=c.width,o.x+=l}else o.masterBars.push(e.masterBars[n]),o.width+=c.width,o.masterBars.length>=s&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),l+=o.width,a.push(o),Fe.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null),o=new nA,o.x=l);n++}o.masterBars.length>0&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),a.push(o),Fe.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null)),this.finalizeGroup(),this.height=Math.floor(this._group.y+this._group.height),this.width=this._group.x+this._group.width+this._pagePadding[2],n=0;let u=0;for(let c=0;c<a.length;c++){const h=a[c],f=new $d;f.x=u,f.y=0,f.totalWidth=this.width,f.totalHeight=this.height,f.width=h.width,f.height=this.height,f.firstMasterBarIndex=h.masterBars[0].index,f.lastMasterBarIndex=h.masterBars[h.masterBars.length-1].index,u+=h.width;const g=n,m=c;this._group.buildBoundingsLookup(this._group.x,this._group.y),this.registerPartial(f,y=>{let b=this._group.getBarX(h.masterBars[0].index)+this._group.accoladeSpacing;m===0&&(b-=this._group.x+this._group.accoladeSpacing),y.color=this.renderer.settings.display.resources.mainGlyphColor,y.textAlign=kt.Left,Fe.debug(this.name,"Rendering partial from bar "+h.masterBars[0].index+" to "+h.masterBars[h.masterBars.length-1].index,null),this._group.paintPartial(-b,this._group.y,y,g,h.masterBars.length)}),n+=h.masterBars.length}this.height=this.layoutAndRenderAnnotation(this.height)+this._pagePadding[3]}finalizeGroup(){this._group.scaleToWidth(this._group.width),this._group.finalizeGroup()}}l0.PagePadding=[20,20,20,20];l0.GroupSpacing=20;class u0 extends dW{get name(){return"PageView"}constructor(e){super(e),this._groups=[],this._allMasterBarRenderers=[],this._barsFromPreviousGroup=[],this._pagePadding=null}doLayoutAndRender(){switch(this.renderer.settings.display.systemsLayoutMode){case Yc.Automatic:this.systemsLayoutMode=ia.Automatic;break;case Yc.UseModelLayout:this.systemsLayoutMode=ia.FromModelWithScale;break}this._pagePadding=this.renderer.settings.display.padding,this._pagePadding||(this._pagePadding=u0.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=0;this.width=this.renderer.width,this._allMasterBarRenderers=[],e=this.layoutAndRenderScoreInfo(e,-1),e=this.layoutAndRenderTunings(e,-1),e=this.layoutAndRenderChordDiagrams(e,-1),e=this.layoutAndRenderScore(e),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}get supportsResize(){return!0}get firstBarX(){let e=this._pagePadding[0];return this._groups.length>0&&(e+=this._groups[0].accoladeSpacing),e}doResize(){let e=0;this.width=this.renderer.width;let r=this.height;e=this.layoutAndRenderScoreInfo(e,r),e=this.layoutAndRenderTunings(e,r),e=this.layoutAndRenderChordDiagrams(e,r),e=this.resizeAndRenderScore(e,r),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}layoutAndRenderTunings(e,r=-1){if(!this.tuningGlyph)return e;let n=this.renderer.settings.display.resources;this.tuningGlyph.x=this._pagePadding[0],this.tuningGlyph.width=this.width,this.tuningGlyph.doLayout();let i=this.tuningGlyph.height+11*this.scale;const s=new $d;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+s.height:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=kt.Center,this.tuningGlyph.paint(0,0,a)}),e+i}layoutAndRenderChordDiagrams(e,r=-1){if(!this.chordDiagrams)return e;const n=this.renderer.settings.display.resources;this.chordDiagrams.width=this.width,this.chordDiagrams.doLayout();const i=Math.floor(this.chordDiagrams.height),s=new $d;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+i:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=kt.Center,this.chordDiagrams.paint(0,0,a)}),e+i}layoutAndRenderScoreInfo(e,r=-1){Fe.debug(this.name,"Layouting score info");const n=new $d;n.x=0,n.y=e;let i=this._pagePadding[1],s=this.scale,a=this.renderer.settings.display.resources,o=[Nt.ScoreTitle,Nt.ScoreSubTitle,Nt.ScoreArtist,Nt.ScoreAlbum,Nt.ScoreWordsAndMusic];for(let c=0;c<o.length;c++)if(this.scoreInfoGlyphs.has(o[c])){let h=this.scoreInfoGlyphs.get(o[c]);h.x=this.width/2,h.y=i,h.textAlign=kt.Center,i+=h.font.size*s}let l=!1,u=0;if(this.scoreInfoGlyphs.has(Nt.ScoreMusic)){let c=this.scoreInfoGlyphs.get(Nt.ScoreMusic);c.x=this.width-this._pagePadding[2],c.y=i,c.textAlign=kt.Right,l=!0,u=c.font.size*s}if(this.scoreInfoGlyphs.has(Nt.ScoreWords)){let c=this.scoreInfoGlyphs.get(Nt.ScoreWords);c.x=this._pagePadding[0],c.y=i,c.textAlign=kt.Left,l=!0,u=c.font.size*s}return l&&(i+=u),i=Math.floor(i+17*this.scale),n.width=this.width,n.height=i,n.totalWidth=this.width,n.totalHeight=r<0?e+n.height:r,this.registerPartial(n,c=>{c.color=a.scoreInfoColor,c.textAlign=kt.Center;for(const h of this.scoreInfoGlyphs.values())h.paint(0,0,c)}),e+i}resizeAndRenderScore(e,r){if(this.renderer.settings.display.barsPerRow>0||this.systemsLayoutMode==ia.FromModelWithScale)for(let i=0;i<this._groups.length;i++){let s=this._groups[i];this.fitGroup(s),e+=this.paintGroup(s,r)}else{this._groups=[];let i=0,s=this.maxWidth,a=this.createEmptyStaveGroup();for(a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e;i<this._allMasterBarRenderers.length;){let o=this._allMasterBarRenderers[i];if(a.width+o.width<=s||a.masterBarsRenderers.length===0)a.addMasterBarRenderers(this.renderer.tracks,o),i++;else{for(;o&&!o.canWrap&&a.masterBarsRenderers.length>1;)o=a.revertLastBar(),i--;a.isFull=!0,a.isLast=this.lastBarIndex===a.lastBarIndex,this._groups.push(a),this.fitGroup(a),e+=this.paintGroup(a,r),a=this.createEmptyStaveGroup(),a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e}}a.isLast=this.lastBarIndex===a.lastBarIndex,this.fitGroup(a),e+=this.paintGroup(a,r)}return e}layoutAndRenderScore(e){let n=this.firstBarIndex,i=this.lastBarIndex;for(this._groups=[];n<=i;){let s=this.createStaveGroup(n,i);this._groups.push(s),s.x=this._pagePadding[0],s.y=e,n=s.lastBarIndex+1,this.fitGroup(s),Fe.debug(this.name,"Rendering partial from bar "+s.firstBarIndex+" to "+s.lastBarIndex,null),e+=this.paintGroup(s,e)}return e}paintGroup(e,r){let n=Math.floor(e.height+20*this.scale);const i=new $d;return i.x=0,i.y=e.y,i.totalWidth=this.width,i.totalHeight=r,i.width=this.width,i.height=n,i.firstMasterBarIndex=e.firstBarIndex,i.lastMasterBarIndex=e.lastBarIndex,e.buildBoundingsLookup(0,0),this.registerPartial(i,s=>{this.renderer.canvas.color=this.renderer.settings.display.resources.mainGlyphColor,this.renderer.canvas.textAlign=kt.Left,e.paint(0,-i.y,s)}),r+=n,n}fitGroup(e){e.isFull||e.width>this.maxWidth||this.renderer.settings.display.justifyLastSystem?e.scaleToWidth(this.maxWidth):e.scaleToWidth(e.width),e.finalizeGroup()}getBarsPerRow(e){let r=this.renderer.settings.display.barsPerRow;if(this.systemsLayoutMode==ia.FromModelWithScale){let n,i;this.renderer.tracks.length>1?(n=this.renderer.score.defaultSystemsLayout,i=this.renderer.score.systemsLayout):(n=this.renderer.tracks[0].defaultSystemsLayout,i=this.renderer.tracks[0].systemsLayout),r=e<i.length?i[e]:n}return r}createStaveGroup(e,r){let n=this.createEmptyStaveGroup();n.index=this._groups.length;let i=this.getBarsPerRow(n.index),s=this.maxWidth,a=r+1,o=e;for(;o<a;){if(this._barsFromPreviousGroup.length>0)for(let u of this._barsFromPreviousGroup)n.addMasterBarRenderers(this.renderer.tracks,u),o=u.masterBar.index;else{let u=n.addBars(this.renderer.tracks,o);u&&this._allMasterBarRenderers.push(u)}this._barsFromPreviousGroup=[];let l=!1;if((i===-1&&n.width>=s&&n.masterBarsRenderers.length!==0||n.masterBarsRenderers.length===i+1)&&(l=!0),l){let u=n.revertLastBar();if(u)for(this._barsFromPreviousGroup.push(u);u&&!u.canWrap&&n.masterBarsRenderers.length>1;)u=n.revertLastBar(),u&&this._barsFromPreviousGroup.push(u);return n.isFull=!0,n.isLast=!1,this._barsFromPreviousGroup.reverse(),n}n.x=0,o++}return n.isLast=r===n.lastBarIndex,n}get maxWidth(){return this.renderer.width-this._pagePadding[0]-this._pagePadding[2]}}u0.PagePadding=[40,40,40,40];u0.GroupSpacing=20;class Ac extends Rn{constructor(e,r,n,i=!1){super(e,r,i?Kt.GraceScale:1,Ac.getMusicSymbol(n)),this._isGrace=i,this._accidentalType=n}static getMusicSymbol(e){switch(e){case Nr.Natural:return R.AccidentalNatural;case Nr.Sharp:return R.AccidentalSharp;case Nr.Flat:return R.AccidentalFlat;case Nr.NaturalQuarterNoteUp:return R.AccidentalQuarterToneNaturalArrowUp;case Nr.SharpQuarterNoteUp:return R.AccidentalQuarterToneSharpArrowUp;case Nr.FlatQuarterNoteUp:return R.AccidentalQuarterToneFlatArrowUp;case Nr.DoubleSharp:return R.AccidentalDoubleSharp;case Nr.DoubleFlat:return R.AccidentalDoubleFlat}return R.None}doLayout(){switch(this._accidentalType){case Nr.DoubleFlat:this.width=18;break;default:this.width=8;break}this.width=this.width*(this._isGrace?Kt.GraceScale:1)*this.scale}}class fW extends Ln{constructor(e,r,n){super(e,r),this._number=0,this._number=n}doLayout(){this.renderer.scoreRenderer.canvas.font=this.renderer.resources.barNumberFont,this.width=this.renderer.scoreRenderer.canvas.measureText(this._number.toString())+5*this.scale}paint(e,r,n){if(!this.renderer.staff.isFirstInAccolade)return;let i=this.renderer.resources,s=n.color;n.color=i.barNumberColor,n.font=i.barNumberFont,n.fillText(this._number.toString(),e+this.x,r+this.y),n.color=s}}class pW extends Ln{constructor(e,r){super(e,r)}doLayout(){this.renderer.isLast?this.width=15*this.scale:!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart?(this.width=2*this.scale,this.renderer.bar.masterBar.isDoubleBar&&(this.width+=2*this.scale)):this.width=2*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s;this.renderer.isLast?(n.fillRect(o+this.width-i-i,s,this.scale,l),n.fillRect(o+this.width-i,s,i,l)):(!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart)&&(n.fillRect(o+this.width-this.scale,s,this.scale,l),this.renderer.bar.masterBar.isDoubleBar&&n.fillRect(o+this.width-5*this.scale,s,this.scale,l))}}class cN extends Rn{constructor(e,r,n,i){super(e,r,1,cN.getSymbol(n)),this._clef=n,this._clefOttava=i}doLayout(){switch(this._clef){case zt.Neutral:this.width=15*this.scale;break;case zt.C3:case zt.C4:case zt.F4:case zt.G2:this.width=28*this.scale;break}}static getSymbol(e){switch(e){case zt.Neutral:return R.UnpitchedPercussionClef1;case zt.C3:return R.CClef;case zt.C4:return R.CClef;case zt.F4:return R.FClef;case zt.G2:return R.GClef;default:return R.None}}paint(e,r,n){super.paint(e,r,n);let i,s=!1;switch(this._clefOttava){case br._15ma:i=new Rn(-4*this.scale,0,.5,R.Quindicesima),s=!0;break;case br._8va:i=new Rn(-2*this.scale,0,.5,R.Ottava),s=!0;break;case br._8vb:i=new Rn(-6*this.scale,0,.5,R.Ottava);break;case br._15mb:i=new Rn(-8*this.scale,0,.5,R.Quindicesima);break;default:return}let a=0,o=0;switch(this._clef){case zt.Neutral:a=s?-12:15,o=0;break;case zt.C3:a=s?-19:27,o=0;break;case zt.C4:a=s?-19:27,o=0;break;case zt.F4:a=s?-9:27,o=-4;break;case zt.G2:a=s?-37:30,o=0;break;default:return}i.renderer=this.renderer,i.doLayout();let l=this.width/2;i.paint(e+this.x+l+o*this.scale,r+this.y+a*this.scale,n)}}class gW extends Ln{constructor(e,r){super(e,r)}doLayout(){this.width=11*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s,u=1.5*this.scale,c=(s+a)/2,h=3;n.fillCircle(o,c-u*h,u),n.fillCircle(o,c+u*h,u),o+=4*this.scale,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale+.5,n.fillRect(o,s,i,l)}}class mW extends Ln{constructor(e,r,n){super(e,r),this._count=0,this._count=0,this._count=n}doLayout(){this.width=0}paint(e,r,n){let i=this.renderer.resources,s=n.textAlign;n.font=i.barNumberFont,n.textAlign=kt.Right;let a="x"+this._count,o=n.measureText(a)/1.5;n.fillText(a,e+this.x-o,r+this.y),n.textAlign=s}}class yW extends Ln{constructor(e,r,n,i){super(e,r),this._dotOffset=0,this._circleSize=0,this._dotOffset=0,this._circleSize=0,this._dotOffset=i,this._circleSize=n}doLayout(){this.width=13*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x+.5,l=a-s;n.fillRect(o,s,i,l),o+=i*2-.5,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale;let u=this._circleSize*this.scale,c=(s+a)/2;n.fillCircle(o,c-u*this._dotOffset,u),n.fillCircle(o,c+u*this._dotOffset,u)}}class Vw extends Rn{constructor(e,r,n){super(e,r,1,Vw.getSymbol(n))}static getSymbol(e){switch(e){case qn.None:return R.None;case qn.Normal:return R.ArticAccentAbove;case qn.Heavy:return R.ArticMarcatoAbove;default:return R.None}}doLayout(){this.width=9*this.scale,this.height=9*this.scale}paint(e,r,n){super.paint(e-2*this.scale,r+this.height,n)}}class lP extends Ln{constructor(e,r,n){super(e,r),this._size=0,this._size=n}doLayout(){this.width=this._size+3*this.scale}paint(e,r,n){n.fillCircle(e+this.x,r+this.y,this._size)}}class Ixe extends Rn{constructor(e,r,n){super(e,r,n?Kt.GraceScale:1,R.NoteheadXOrnate),this._isGrace=n}doLayout(){this.width=9*(this._isGrace?Kt.GraceScale:1)*this.scale,this.height=Kt.NoteHeadHeight*this.scale}}class zw extends Rn{constructor(e,r,n,i){super(e,r,i?Kt.GraceScale:1,zw.getSymbol(n)),this._isGrace=i}static getSymbol(e){switch(e){case le.QuadrupleWhole:case le.DoubleWhole:case le.Whole:case le.Half:return R.NoteheadDiamondWhiteWide;default:return R.NoteheadDiamondBlackWide}}doLayout(){this.width=9*(this._isGrace?Kt.GraceScale:1)*this.scale,this.height=Kt.NoteHeadHeight*this.scale}}class xi extends Ln{constructor(e,r,n){super(0,0),this.yOffset=0,this.startNoteRenderer=null,this.endNoteRenderer=null,this.tieDirection=He.Up,this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._tieHeight=0,this._shouldDraw=!1,this.startBeat=e,this.endBeat=r,this.forEnd=n}doLayout(){if(this.width=0,!this.endBeat){this._shouldDraw=!1;return}let e=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar);this.startNoteRenderer=e;let r=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.endBeat.voice.bar);this.endNoteRenderer=r,this._startX=0,this._endX=0,this._startY=0,this._endY=0,this.height=0,this._shouldDraw=!1,this.tieDirection=e?this.getBeamDirection(this.startBeat,e):this.getBeamDirection(this.endBeat,r),!this.forEnd&&e?(e!==r?(this._startX=e.x+this.getStartX(),this._startY=e.y+this.getStartY()+this.yOffset,!r||e.staff!==r.staff?(this._endX=e.x+e.width,this._endY=this._startY):(this._endX=r.x+this.getEndX(),this._endY=r.y+this.getEndY()+this.yOffset)):(this._startX=e.x+this.getStartX(),this._endX=r.x+this.getEndX(),this._startY=e.y+this.getStartY()+this.yOffset,this._endY=r.y+this.getEndY()+this.yOffset),this._shouldDraw=!0):(!e||e.staff!==r.staff)&&(this._startX=r.x,this._endX=r.x+this.getEndX(),this._startY=r.y+this.getEndY()+this.yOffset,this._endY=this._startY,this._shouldDraw=!0),this._shouldDraw&&(this.y=Math.min(this._startY,this._endY),this.shouldDrawBendSlur()?this._tieHeight=0:(this._tieHeight=this.getTieHeight(this._startX,this._startY,this._endX,this._endY),this.height=xi.calculateActualTieHeight(this.renderer.scale,this._startX,this._startY,this._endX,this._endY,this.tieDirection===He.Down,this._tieHeight,4).h),this.tieDirection===He.Up&&(this.y-=this.height))}paint(e,r,n){this._shouldDraw&&(this.shouldDrawBendSlur()?xi.drawBendSlur(n,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===He.Down,this.scale):xi.paintTie(n,this.scale,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===He.Down,this._tieHeight,4))}shouldDrawBendSlur(){return!1}getTieHeight(e,r,n,i){return 22}getBeamDirection(e,r){return He.Down}getStartY(){return 0}getEndY(){return 0}getStartX(){return 0}getEndX(){return 0}static calculateActualTieHeight(e,r,n,i,s,a,o,l){const u=xi.computeBezierControlPoints(e,r,n,i,s,a,o,l);r=u[0],n=u[1];const c=u[2],h=u[3];i=u[6],s=u[7];const f=(r-c)/(r-2*c+i),g=xi.calculateExtrema(r,n,c,h,i,s,f),m=g.length>0?Math.min(r,i,g[0]):Math.min(r,i),y=g.length>0?Math.max(r,i,g[0]):Math.max(r,i),b=(n-h)/(n-2*h+s),x=xi.calculateExtrema(r,n,c,h,i,s,b),v=x.length>0?Math.min(n,s,x[1]):Math.min(n,s),w=x.length>0?Math.max(n,s,x[1]):Math.max(n,s),P=new Fs;return P.x=m,P.y=v,P.w=y-m,P.h=w-v,P}static calculateExtrema(e,r,n,i,s,a,o){if(o<=0||1<=o)return[];const l=e+(n-e)*o,u=r+(i-r)*o,c=n+(s-n)*o,h=i+(a-i)*o;return[l+(c-l)*o,u+(h-u)*o]}static computeBezierControlPoints(e,r,n,i,s,a,o,l){if(r===i&&n===s)return[];if(i<r){let v=r;r=i,i=v,v=n,n=s,s=v}o*=e,l*=e;let u=s-n,c=i-r,h=Math.sqrt(u*u+c*c);a?u*=-1:c*=-1,u/=h,c/=h;let f=(i+r)/2,g=(s+n)/2,m=f+o*u,y=g+o*c,b=f+(o-l)*u,x=g+(o-l)*c;return[r,n,m,y,b,x,i,s]}static paintTie(e,r,n,i,s,a,o=!1,l=22,u=4){const c=xi.computeBezierControlPoints(r,n,i,s,a,o,l,u);e.beginPath(),e.moveTo(c[0],c[1]),e.quadraticCurveTo(c[2],c[3],c[6],c[7]),e.quadraticCurveTo(c[4],c[5],c[0],c[1]),e.closePath(),e.fill()}static drawBendSlur(e,r,n,i,s,a,o,l){let u=s-n,c=i-r,h=Math.sqrt(u*u+c*c);a?u*=-1:c*=-1,u/=h,c/=h;let f=(i+r)/2,g=(s+n)/2,m=xi.BendSlurHeight*o;i-r<20&&(m/=2);let y=f+m*u,b=g+m*c;if(e.beginPath(),e.moveTo(r,n),e.lineTo(y,b),e.lineTo(i,s),e.stroke(),l){let x=e.measureText(l),v=a?0:-e.font.size;e.fillText(l,y-x/2,b+v)}}}xi.BendSlurHeight=11;class Z1 extends Ln{constructor(e){super(0,0),this._isOpen=e}doLayout(){super.doLayout(),this.width=Z1.Size*this.scale}paint(e,r,n){this._isOpen?xi.paintTie(n,this.scale,e+this.x+this.width,r+this.y+this.height,e+this.x+this.width,r+this.y,!1,6,3):xi.paintTie(n,this.scale,e+this.x,r+this.y,e+this.x,r+this.y+this.height,!1,6,3)}}Z1.Size=6;class Lxe{constructor(e,r){this.line=0,this.line=e,this.isGhost=r}}class Ww extends Ln{constructor(e){super(0,0),this._infos=[],this._glyphs=[],this.isEmpty=!0,this._isOpen=e}addParenthesis(e){let r=this.renderer,n=r.getNoteLine(e),i=e.isGhost||this.isTiedBend(e)&&r.settings.notation.isNotationElementVisible(Nt.ParenthesisOnTiedBends);this.addParenthesisOnLine(n,i)}addParenthesisOnLine(e,r){let n=new Lxe(e,r);this._infos.push(n),r&&(this.isEmpty=!1)}isTiedBend(e){return e.isTieDestination?e.tieOrigin.hasBend?!0:this.isTiedBend(e.tieOrigin):!1}doLayout(){let e=this.renderer;this._infos.sort((i,s)=>i.line-s.line);let r=null,n=e.getScoreHeight(1);for(let i=0,s=this._infos.length;i<s;i++){let a;if(!this._infos[i].isGhost)r=null;else if(!r)a=new Z1(this._isOpen),a.renderer=this.renderer,a.y=e.getScoreY(this._infos[i].line)-n,a.height=n*2,a.doLayout(),this._glyphs.push(a),r=a;else{let o=e.getScoreY(this._infos[i].line)+n;r.height=o-r.y}}this.width=this._glyphs.length>0?this._glyphs[0].width:0}paint(e,r,n){super.paint(e,r,n);for(let i of this._glyphs)i.paint(e+this.x,r+this.y,n)}}class Fxe{constructor(e,r){this.line=0,this.glyph=e,this.line=r}}class bW extends Ln{constructor(){super(0,0),this._infos=[],this._noteHeadPadding=0,this.minNote=null,this.maxNote=null,this.spacingChanged=new hi,this.upLineX=0,this.downLineX=0,this.displacedX=0,this.noteStartX=0}add(e,r){let n=new Fxe(e,r);this._infos.push(n),(!this.minNote||this.minNote.line>n.line)&&(this.minNote=n),(!this.maxNote||this.maxNote.line<n.line)&&(this.maxNote=n)}get hasTopOverflow(){return!!this.minNote&&this.minNote.line<=0}get hasBottomOverflow(){return!!this.maxNote&&this.maxNote.line>8}doLayout(){this._infos.sort((o,l)=>l.line-o.line);let e=0,r=!1,n=0,i=!1,s=this.direction,a=0;for(let o=0,l=this._infos.length;o<l;o++){let u=this._infos[o].glyph;u.renderer=this.renderer,u.doLayout();let c=!1;o===0?e=u.width:Math.abs(n-this._infos[o].line)<=1?r?r=!1:(c=!0,u.x=e,i=!0,r=!0):r=!1,s===He.Down?u.x=c?0:e:u.x=c?e:0,u.x+=this.noteStartX,n=this._infos[o].line,a=Math.max(a,u.x+u.width)}i?(this._noteHeadPadding=0,this.upLineX=e,this.downLineX=e):(this._noteHeadPadding=s===He.Down?-e:0,a+=this._noteHeadPadding,this.upLineX=a,this.downLineX=0),this.displacedX=e,this.width=a}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer,s=3*this.scale,a=this.width-this.noteStartX+s*2;if(this.hasTopOverflow){let u=n.color;n.color=i.resources.staffLineColor;let c=-2;for(;c>=this.minNote.line;){let h=r+i.getScoreY(c);n.fillRect(e-s+this.noteStartX,h,a,this.scale),c-=2}n.color=u}if(this.hasBottomOverflow){let u=n.color;n.color=i.resources.staffLineColor;let c=10;for(;c<=this.maxNote.line;){let h=r+i.getScoreY(c);n.fillRect(e-s+this.noteStartX,h,a,this.scale),c+=2}n.color=u}let o=this._infos,l=e+this._noteHeadPadding;for(let u of o)u.glyph.renderer=this.renderer,u.glyph.paint(l,r,n)}}class eS extends Rn{constructor(e,r,n){super(e,r,1,eS.getSymbol(n))}doLayout(){this.width=12*this.scale}static getSymbol(e){switch(e){case le.ThirtySecond:return R.Tremolo3;case le.Sixteenth:return R.Tremolo2;case le.Eighth:return R.Tremolo1;default:return R.None}}}class Axe extends bW{constructor(){super(),this._noteGlyphLookup=new Map,this._notes=[],this._tremoloPicking=null,this.aboveBeatEffects=new Map,this.belowBeatEffects=new Map}get direction(){return this.beamingHelper.direction}getNoteX(e,r){if(this._noteGlyphLookup.has(e.id)){let n=this._noteGlyphLookup.get(e.id),i=this.x+n.x+this._noteHeadPadding;switch(r){case En.Left:break;case En.Center:i+=n.width/2;break;case En.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this._noteGlyphLookup.has(e.id)){const n=this._noteGlyphLookup.get(e.id);let i=this.y+n.y;switch(r){case gt.TopWithStem:i-=this.renderer.getStemSize(this.beamingHelper);break;case gt.Top:i-=n.height/2;break;case gt.Center:break;case gt.Bottom:i+=n.height/2;break;case gt.BottomWithStem:i+=this.renderer.getStemSize(this.beamingHelper);break}return i}return 0}addNoteGlyph(e,r,n){super.add(e,n),this._noteGlyphLookup.set(r.id,e),this._notes.push(r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.upLineX,e+this.x+this.downLineX)}doLayout(){super.doLayout();let e=this.direction;for(const r of this.aboveBeatEffects.values())r.renderer=this.renderer,r.doLayout();for(const r of this.belowBeatEffects.values())r.renderer=this.renderer,r.doLayout();if(this.beat.isTremolo){let r=0,n=e===He.Up?this.minNote:this.maxNote,i=e===He.Up?this.displacedX:0,s=this.beat.tremoloSpeed;switch(s){case le.ThirtySecond:r=e===He.Up?-15:15;break;case le.Sixteenth:r=e===He.Up?-12:15;break;case le.Eighth:r=e===He.Up?-10:10;break;default:r=e===He.Up?-10:15;break}this._tremoloPicking=new eS(i,n.glyph.y+r*this.scale,s),this._tremoloPicking.renderer=this.renderer,this._tremoloPicking.doLayout()}}buildBoundingsLookup(e,r,n){for(let i of this._notes)if(this._noteGlyphLookup.has(i.id)){let s=this._noteGlyphLookup.get(i.id),a=new nN;a.note=i,a.noteHeadBounds=new Fs,a.noteHeadBounds.x=r+this.x+this._noteHeadPadding+s.x,a.noteHeadBounds.y=n+this.y+s.y-s.height/2,a.noteHeadBounds.w=s.width,a.noteHeadBounds.h=s.height,e.addNote(a)}}paint(e,r,n){let i=this.renderer,s=0,a=0,o=1,l=-o;this.beamingHelper.direction===He.Up?(a=i.getScoreY(this.minNote.line),s=i.getScoreY(this.maxNote.line-2)):(a=i.getScoreY(this.maxNote.line-1),s=i.getScoreY(this.minNote.line+1),l*=-1,o*=-1);for(const u of this.aboveBeatEffects.values())s+=l*u.height,u.paint(e+this.x+2*this.scale,r+this.y+s,n);for(const u of this.belowBeatEffects.values())a+=o*u.height,u.paint(e+this.x+2*this.scale,r+this.y+a,n);super.paint(e,r,n),this._tremoloPicking&&this._tremoloPicking.paint(e,r,n)}}class hp extends Rn{constructor(e,r,n){super(e,r,1,hp.getSymbol(n)),this._duration=n}static getSymbol(e){switch(e){case le.QuadrupleWhole:return R.RestLonga;case le.DoubleWhole:return R.RestDoubleWhole;case le.Whole:return R.RestWhole;case le.Half:return R.RestHalf;case le.Quarter:return R.RestQuarter;case le.Eighth:return R.RestEighth;case le.Sixteenth:return R.RestSixteenth;case le.ThirtySecond:return R.RestThirtySecond;case le.SixtyFourth:return R.RestSixtyFourth;case le.OneHundredTwentyEighth:return R.RestOneHundredTwentyEighth;case le.TwoHundredFiftySixth:return R.RestTwoHundredFiftySixth;default:return R.None}}static getSize(e){switch(e){case le.QuadrupleWhole:case le.DoubleWhole:case le.Whole:case le.Half:case le.Quarter:case le.Eighth:case le.Sixteenth:return 9;case le.ThirtySecond:return 12;case le.SixtyFourth:return 14;case le.OneHundredTwentyEighth:case le.TwoHundredFiftySixth:return 20}return 10}doLayout(){this.width=hp.getSize(this._duration)*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class iA{constructor(){this.x=0,this.y=-3e3,this.width=0}}class vW extends gl{constructor(){super(0,0)}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}this.glyphs.sort((n,i)=>n.y<i.y?-1:n.y>i.y?1:0);let e=[];e.push(new iA);let r=21*this.scale;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.renderer=this.renderer,s.doLayout();let a=0;for(;e[a].y>s.y;)a++,a===e.length&&e.push(new iA);s.x=a,e[a].y=s.y+r,e[a].width<s.width&&(e[a].width=s.width)}this.width=0;for(const n of e)this.width+=n.width,n.x=this.width;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];const a=e[s.x];s.x=this.width-a.x}}}class As extends bW{get direction(){return He.Up}constructor(e,r=!1){super(),this._showParenthesis=!1,this._noteValueLookup=new Map,this._accidentals=new vW,this._preNoteParenthesis=null,this._postNoteParenthesis=null,this.isEmpty=!0,this.noteHeadOffset=0,this._beat=e,this._showParenthesis=r,r&&(this._preNoteParenthesis=new Ww(!0),this._postNoteParenthesis=new Ww(!1))}containsNoteValue(e){return this._noteValueLookup.has(e)}getNoteValueY(e){return this._noteValueLookup.has(e)?this.y+this._noteValueLookup.get(e).y:0}addGlyph(e,r=!1){let n=this.renderer,i=new Kt(0,0,le.Quarter,!0),s=n.accidentalHelper.applyAccidentalForValue(this._beat,e,r,!0),a=n.accidentalHelper.getNoteLineForValue(e,!1);if(i.y=n.getScoreY(a),this._showParenthesis&&(this._preNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.addParenthesisOnLine(a,!0),this._postNoteParenthesis.addParenthesisOnLine(a,!0)),s!==Nr.None){let o=new Ac(0,i.y,s,!0);o.renderer=this.renderer,this._accidentals.renderer=this.renderer,this._accidentals.addGlyph(o)}this._noteValueLookup.set(e,i),this.add(i,a),this.isEmpty=!1}doLayout(){let e=0;this._showParenthesis&&(this._preNoteParenthesis.x=e,this._preNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.doLayout(),e+=this._preNoteParenthesis.width+As.ElementPadding*this.scale),this._accidentals.isEmpty||(e+=this._accidentals.width+As.ElementPadding*this.scale,this._accidentals.x=e,this._accidentals.renderer=this.renderer,this._accidentals.doLayout(),e+=this._accidentals.width+As.ElementPadding*this.scale),this.noteStartX=e,super.doLayout(),this.noteHeadOffset=this.noteStartX+(this.width-this.noteStartX)/2,this._showParenthesis&&(this._postNoteParenthesis.x=this.width+As.ElementPadding*this.scale,this._postNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.doLayout(),this.width+=this._postNoteParenthesis.width+As.ElementPadding*this.scale)}paint(e,r,n){this._accidentals.isEmpty||this._accidentals.paint(e+this.x,r+this.y,n),this._showParenthesis&&(this._preNoteParenthesis.paint(e+this.x,r+this.y,n),this._postNoteParenthesis.paint(e+this.x,r+this.y,n)),super.paint(e,r,n)}}As.ElementPadding=2;class dN extends Ln{constructor(){super(...arguments),this.BendNoteHeads=[]}drawBendSlur(e,r,n,i,s,a,o,l){xi.drawBendSlur(e,r,n,i,s,a,o,l)}doLayout(){super.doLayout(),this.width=0;for(let e of this.BendNoteHeads)e.doLayout(),this.width+=e.width+10*this.scale}getTieDirection(e,r){switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}}dN.EndPadding=(10/2|0)+3;class hc extends Je{constructor(e=0,r=0){super(e,r),this.lineValue=0,this.lineValue=r}}class ho extends Ln{constructor(){super(0,0),this._notes=[],this._renderPoints=new Map,this._preBendMinValue=-1,this._bendMiddleMinValue=-1,this._bendEndMinValue=-1,this._bendEndContinuedMinValue=-1,this._releaseMinValue=-1,this._releaseContinuedMinValue=-1,this._maxBendValue=-1}addBends(e){this._notes.push(e);let r=this.createRenderingPoints(e);this._renderPoints.set(e.id,r),(this._maxBendValue===-1||this._maxBendValue<e.maxBendPoint.value)&&(this._maxBendValue=e.maxBendPoint.value);let n=0;switch(e.bendType){case ct.Bend:n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case ct.Release:n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case ct.BendRelease:n=r[1].value,(this._bendMiddleMinValue===-1||n<this._bendMiddleMinValue)&&(this._bendMiddleMinValue=n),n=r[2].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case ct.Prebend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n);break;case ct.PrebendBend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case ct.PrebendRelease:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break}}doLayout(){super.doLayout();let e=this._maxBendValue*ho.BendValueHeight*this.scale;this.renderer.registerOverflowTop(e);let r=0;for(let n of this._notes){let i=this._renderPoints.get(n.id);switch(n.bendType){case ct.Bend:i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case ct.Release:r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break;case ct.BendRelease:i[1].lineValue=this._bendMiddleMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[2].lineValue=r);break;case ct.Prebend:i[0].lineValue=this._preBendMinValue;break;case ct.PrebendBend:i[0].lineValue=this._preBendMinValue,i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case ct.PrebendRelease:i[0].lineValue=this._preBendMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break}}this.width=0,this._notes.sort((n,i)=>n.isStringed?n.string-i.string:n.realValue-i.realValue)}createRenderingPoints(e){let r=[];switch(e.bendType){case ct.Custom:for(let n of e.bendPoints)r.push(new hc(n.offset,n.value));break;case ct.BendRelease:r.push(new hc(0,e.bendPoints[0].value)),r.push(new hc(Je.MaxPosition/2|0,e.bendPoints[1].value)),r.push(new hc(Je.MaxPosition,e.bendPoints[3].value));break;case ct.Bend:case ct.Hold:case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:case ct.Release:r.push(new hc(0,e.bendPoints[0].value)),r.push(new hc(Je.MaxPosition,e.bendPoints[1].value));break}return r}paint(e,r,n){let i=n.color;this._notes.length>1&&(n.color=this.renderer.resources.secondaryGlyphColor);for(let s of this._notes){let a=this._renderPoints.get(s.id),o=this.renderer,l=s,u=!1,c=null,h=!1,f=s.bendStyle===Fr.Gradual?"grad.":"",g=null;for(;l.isTieOrigin;){let w=l.tieDestination;if(c=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,w.beat.voice.bar),!c||o.staff!==c.staff)break;if(l=w,u=!0,l.hasBend||!this.renderer.settings.notation.extendBendArrowsOnTiedNotes){h=!0;break}}g=l.beat,c=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,g.voice.bar),g.isLastOfVoice&&!l.hasBend&&this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&(g=null);let m=0,y=0,b=r+o.y;m=e+o.x,a[0].value>0||s.isContinuedBend?m+=o.getBeatX(s.beat,er.MiddleNotes):m+=o.getNoteX(s,En.Right),!g||g.isLastOfVoice&&!h?y=e+c.x+c.postBeatGlyphsStart:h||!g.nextBeat?y=e+c.x+c.getBeatX(g,er.MiddleNotes):s.bendType===ct.Hold?y=e+c.x+c.getBeatX(g.nextBeat,er.OnNotes):y=e+c.x+c.getBeatX(g.nextBeat,er.PreNotes),u||(y-=ho.ArrowSize*this.scale);let v=(y-m)/Je.MaxPosition;n.beginPath();for(let w=0,P=a.length-1;w<P;w++){let T=a[w],_=a[w+1];w===0&&T.value!==0&&!s.isTieDestination&&this.paintBend(s,new hc(0,0),T,m,b,v,f,n),s.bendType!==ct.Prebend?(w===0&&(m+=2*this.scale),this.paintBend(s,T,_,m,b,v,f,n)):s.isTieOrigin&&s.tieDestination.hasBend&&(_=new hc(Je.MaxPosition,T.value),_.lineValue=T.lineValue,this.paintBend(s,T,_,m,b,v,f,n))}n.color=i}}paintBend(e,r,n,i,s,a,o,l){let u=this.renderer,c=this.renderer.resources,h=u.lineOffset/2,f=i+a*r.offset,g=ho.BendValueHeight*this.scale,m=s-g*r.lineValue;r.value===0?n.offset===r.offset?m+=u.getNoteY(e.beat.maxStringNote,gt.Top):m+=u.getNoteY(e,gt.Center):m+=h;let y=i+a*n.offset,b=s-g*n.lineValue;n.lineValue===0?b+=u.getNoteY(e,gt.Center):b+=h;let x=0,v=ho.ArrowSize*this.scale;if(n.value>r.value?(b+v>m&&(b=m-v),l.beginPath(),l.moveTo(y,b),l.lineTo(y-v*.5,b+v),l.lineTo(y+v*.5,b+v),l.closePath(),l.fill(),x=v):n.value!==r.value&&(b<m&&(b=m+v),l.beginPath(),l.moveTo(y,b),l.lineTo(y-v*.5,b-v),l.lineTo(y+v*.5,b-v),l.closePath(),l.fill(),x=-v),l.stroke(),r.value===n.value){if(r.lineValue>0){let w=y,P=ho.DashSize*this.scale,T=f+P;if((w-f)/(P*2)<1)l.moveTo(w,m),l.lineTo(f,m);else for(;w>T;)l.moveTo(w,m),l.lineTo(w-P,m),w-=P*2;l.stroke()}}else y>f?(l.moveTo(f,m),l.bezierCurveTo((f+y)/2,m,y,m,y,b+x),l.stroke()):(l.moveTo(f,m),l.lineTo(y,b),l.stroke());if(o&&r.offset<n.offset){l.font=c.graceFont;let w=l.measureText(o),P=0,T=0;if(m>b){let _=Math.abs(m-b);P=_>l.font.size*1.3?m-_/2:m,T=(f+y-w)/2}else P=m,T=y-w;l.fillText(o,T,P)}if(n.value!==0&&r.value!==n.value){let w=n.value,P=n.value>r.value;w=Math.abs(w);let T="";if(w===4)T="full",w-=4;else if(w>=4||w<=-4){let _=w/4|0;T+=_,w-=_*4}if(w>0&&(T+=ho.getFractionSign(w)),T!==""){b=s-g*n.value;let _=b;P||(_=m+Math.abs(b-m)*1/3),l.font=c.tablatureFont;let M=l.measureText(T),E=_-c.tablatureFont.size*.5-2*this.scale,D=y-M/2;l.fillText(T,D,E)}}}static getFractionSign(e){switch(e){case 1:return"";case 2:return"";case 3:return"";default:return e+"/ 4"}}}ho.ArrowSize=6;ho.DashSize=3;ho.BendValueHeight=6;class Ta extends Ln{constructor(e){super(0,0),this._isSimpleDip=!1,this._beat=e,this._renderPoints=this.createRenderingPoints(e)}createRenderingPoints(e){if(e.whammyBarType===yr.Custom)return e.whammyBarPoints;let r=[];switch(e.whammyBarType){case yr.Dive:case yr.Hold:case yr.PrediveDive:case yr.Predive:r.push(new Je(0,e.whammyBarPoints[0].value)),r.push(new Je(Je.MaxPosition,e.whammyBarPoints[1].value));break;case yr.Dip:r.push(new Je(0,e.whammyBarPoints[0].value)),r.push(new Je(Je.MaxPosition/2|0,e.whammyBarPoints[1].value)),r.push(new Je(Je.MaxPosition,e.whammyBarPoints[e.whammyBarPoints.length-1].value));break}return r}doLayout(){super.doLayout(),this._isSimpleDip=this.renderer.settings.notation.notationMode===ci.SongBook&&this._beat.whammyBarType===yr.Dip;let e=null,r=null,n=this._beat;for(;n&&n.hasWhammyBar;)(!e||e.value>n.minWhammyPoint.value)&&(e=n.minWhammyPoint),(!r||r.value<n.maxWhammyPoint.value)&&(r=n.maxWhammyPoint),n=n.nextBeat;let i=r.value>0?Math.abs(this.getOffset(r.value)):0;(i>0||this._beat.whammyBarPoints[0].value!==0||this.renderer.settings.notation.isNotationElementVisible(Nt.ZerosOnDiveWhammys))&&(i+=this.renderer.resources.tablatureFont.size*2);let s=e.value<0?Math.abs(this.getOffset(e.value)):0;this.renderer.registerOverflowTop(i+s);let a=this.renderer.staff.getSharedLayoutData(Ta.TopOffsetSharedDataKey,-1);i>a&&this.renderer.staff.setSharedLayoutData(Ta.TopOffsetSharedDataKey,i)}getOffset(e){if(e===0)return 0;let r=Ta.PerHalfSize*this.scale+Math.log2(Math.abs(e)/2)*Ta.PerHalfSize*this.scale;return e<0&&(r=-r),r}paint(e,r,n){let i=this.renderer,s=this._beat.nextBeat,a=null,o=er.PreNotes;s&&(a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,s.voice.bar),!a||a.staff!==i.staff||a!==i&&!s.hasWhammyBar?(s=null,a=null):o=s.hasWhammyBar&&(i.settings.notation.notationMode!==ci.SongBook||s.whammyBarType!==yr.Dip)?er.MiddleNotes:er.PreNotes);let l=0,u=0;this._isSimpleDip?(l=e+i.x+i.getBeatX(this._beat,er.OnNotes)-2*this.scale,u=e+i.x+i.getBeatX(this._beat,er.PostNotes)+2*this.scale):(l=e+i.x+i.getBeatX(this._beat,er.MiddleNotes),u=a?e+a.x+a.getBeatX(s,o):e+i.x+i.width-2*this.scale);let c=n.textAlign;if(n.textAlign=kt.Center,this._renderPoints.length>=2){let h=(u-l)/Je.MaxPosition;n.beginPath();let f=r+this.renderer.staff.getSharedLayoutData(Ta.TopOffsetSharedDataKey,0),g=this._beat.whammyStyle===Fr.Gradual?"grad.":"";for(let m=0,y=this._renderPoints.length-1;m<y;m++){let b=this._renderPoints[m],x=this._renderPoints[m+1],v=m<y-2?this._renderPoints[m+2]:null,w=m===0;m===0&&b.value!==0&&!this._beat.isContinuedWhammy&&(this.paintWhammy(!1,new Je(0,0),b,x,l,f,h,n),w=!1),this.paintWhammy(w,b,x,v,l,f,h,n,g),g=""}n.stroke()}n.textAlign=c}paintWhammy(e,r,n,i,s,a,o,l,u){let c=s+o*r.offset,h=s+o*n.offset,f=a-this.getOffset(r.value),g=a-this.getOffset(n.value);if(r.offset===n.offset){let b=Ta.DashSize*this.scale;if(Math.abs(g-f)/(b*2)<1)l.moveTo(c,f),l.lineTo(h,g);else{let v=Math.max(f,g),w=Math.min(f,g);for(;v>w;)l.moveTo(c,w),l.lineTo(c,w+b),w+=b*2}l.stroke()}else if(r.value===n.value){let b=Ta.DashSize*this.scale;if(Math.abs(h-c)/(b*2)<1)l.moveTo(c,f),l.lineTo(h,g);else{let v=Math.max(c,h),w=Math.min(c,h);for(;v>w;)l.moveTo(v,f),l.lineTo(v-b,f),v-=b*2}l.stroke()}else l.moveTo(c,f),l.lineTo(h,g);let m=this.renderer.resources;if(e&&!this._beat.isContinuedWhammy&&!this._isSimpleDip){let b=f;b-=m.tablatureFont.size+2*this.scale,this.renderer.settings.notation.isNotationElementVisible(Nt.ZerosOnDiveWhammys)&&l.fillText("0",c,b),u&&(b-=m.tablatureFont.size+2*this.scale,l.fillText(u,c,b))}let y=Math.abs(n.value);if((y!==0||this.renderer.settings.notation.isNotationElementVisible(Nt.ZerosOnDiveWhammys)&&!this._isSimpleDip)&&r.value!==n.value){let b="";if(n.value<0&&(b+="-"),y>=4){let w=y/4|0;b+=w,y-=w*4}else y===0&&(b+="0");y>0&&(b+=ho.getFractionSign(y));let x=0;this._isSimpleDip?x=Math.min(f,g)-m.tablatureFont.size-2*this.scale:(x=r.offset===n.offset?Math.min(f,g):g,x-=m.tablatureFont.size+2*this.scale,i&&i.value>n.value&&(x-=2*this.scale));let v=h;l.fillText(b,v,x)}}}Ta.TopOffsetSharedDataKey="tab.whammy.topoffset";Ta.PerHalfSize=6;Ta.DashSize=3;class Kd extends dN{constructor(e){super(0,0),this._beat=e}doLayout(){let e=this.renderer.settings.notation.notationMode;switch(this._beat.whammyBarType){case yr.None:case yr.Custom:case yr.Hold:return;case yr.Dive:case yr.PrediveDive:{let r=new As(this._beat,!1);r.renderer=this.renderer;let n=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let i of this._beat.notes)i.isTieOrigin||r.addGlyph(this.getBendNoteValue(i,n),n.value%2!==0);r.doLayout(),this.BendNoteHeads.push(r)}break;case yr.Dip:if(e===ci.SongBook){let r=this.renderer.resources;this.renderer.simpleWhammyOverflow=r.tablatureFont.size*1.5+Kd.SimpleDipHeight*this.scale+Kd.SimpleDipPadding*this.scale}else{let r=new As(this._beat,!1);if(r.renderer=this.renderer,this.renderer.settings.notation.notationMode===ci.GuitarPro){let i=this._beat.whammyBarPoints[1];for(let s of this._beat.notes)r.addGlyph(this.getBendNoteValue(s,this._beat.whammyBarPoints[1]),i.value%2!==0)}r.doLayout(),this.BendNoteHeads.push(r);let n=new As(this._beat,!1);if(n.renderer=this.renderer,this.renderer.settings.notation.notationMode===ci.GuitarPro){let i=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let s of this._beat.notes)n.addGlyph(this.getBendNoteValue(s,i),i.value%2!==0)}n.doLayout(),this.BendNoteHeads.push(n)}break;case yr.Predive:break}super.doLayout()}paint(e,r,n){let i=this._beat;switch(i.whammyBarType){case yr.None:case yr.Custom:return}let s=this.renderer.settings.notation.notationMode,a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,i.voice.bar),o=e+a.x+a.getBeatX(i,er.MiddleNotes),l=this.getTieDirection(i,a),u=this._beat.notes.length===1?l:He.Up,c=n.textAlign;for(let h=0;h<i.notes.length;h++){let f=i.notes[h],g=r+a.y;h>0&&h>=(this._beat.notes.length/2|0)&&(u=He.Down),u===He.Down?g+=a.getNoteY(f,gt.Bottom):g+=a.getNoteY(f,gt.Top);let m=e+a.x;i.isLastOfVoice?m+=a.width:m+=a.getBeatX(i,er.EndBeat),m-=8*this.scale;let y=i.whammyStyle===Fr.Gradual&&h===0?"grad.":"",b=null;f.isTieOrigin&&(b=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,f.tieDestination.beat.voice.bar),b&&b.staff===a.staff?m=e+b.x+b.getBeatX(f.tieDestination.beat,er.MiddleNotes):b=null);let x=Kt.NoteHeadHeight*this.scale*Kt.GraceScale*.5;u===He.Up&&(x=-x);let v=i.whammyBarPoints.length>0?this.getBendNoteValue(f,i.whammyBarPoints[i.whammyBarPoints.length-1]):0,w=0,P=!1;switch(this.BendNoteHeads.length>0&&this.BendNoteHeads[0].containsNoteValue(v)?(w=this.BendNoteHeads[0].getNoteValueY(v)+x,P=!0):b&&(f.isTieOrigin&&f.tieDestination.beat.hasWhammyBar||f.beat.isContinuedWhammy)?(w=r+b.y+b.getNoteY(f.tieDestination,gt.Top),P=!0,u===He.Down&&(w+=Kt.NoteHeadHeight*this.scale)):f.isTieOrigin&&(b?w=r+b.y+b.getNoteY(f.tieDestination,gt.Top):w=g,u===He.Down&&(w+=Kt.NoteHeadHeight*this.scale)),i.whammyBarType){case yr.Hold:f.isTieOrigin&&xi.paintTie(n,this.scale,o,g,m,w,l===He.Down,22,4);break;case yr.Dive:h===0&&(this.BendNoteHeads[0].x=m-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.BendNoteHeads[0].containsNoteValue(v)&&(w+=this.BendNoteHeads[0].y)),P?this.drawBendSlur(n,o,g,m,w,u===He.Down,this.scale,y):f.isTieOrigin&&xi.paintTie(n,this.scale,o,g,m,w,l===He.Down,22,4);break;case yr.Dip:if(s===ci.SongBook){if(h===0){let M=e+a.x+a.getBeatX(this._beat,er.OnNotes)-2*this.scale,E=e+a.x+a.getBeatX(this._beat,er.PostNotes)+2*this.scale,D=(M+E)/2,L=((this._beat.whammyBarPoints[1].value-this._beat.whammyBarPoints[0].value)/4|0).toString();n.font=this.renderer.resources.tablatureFont,n.fillText(L,D,r+this.y);let F=r+this.y+n.font.size+2*this.scale,z=F+Kd.SimpleDipHeight*this.scale;this._beat.whammyBarPoints[1].value>this._beat.whammyBarPoints[0].value?(n.moveTo(M,z),n.lineTo(D,F),n.lineTo(E,z)):(n.moveTo(M,F),n.lineTo(D,z),n.lineTo(E,F)),n.stroke()}f.isTieOrigin&&xi.paintTie(n,this.scale,o,g,m,w,l===He.Down,22,4)}else{let M=(o+m)/2;this.BendNoteHeads[0].x=M-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n);let E=this.getBendNoteValue(f,i.whammyBarPoints[1]),D=this.BendNoteHeads[0].getNoteValueY(E)+x;this.drawBendSlur(n,o,g,M,D,u===He.Down,this.scale,y),this.BendNoteHeads[1].x=m-this.BendNoteHeads[1].noteHeadOffset,this.BendNoteHeads[1].y=r+a.y,this.BendNoteHeads[1].paint(0,0,n),w=this.BendNoteHeads[1].getNoteValueY(v)+x,this.drawBendSlur(n,M,D,m,w,u===He.Down,this.scale,y)}break;case yr.PrediveDive:case yr.Predive:let T=e+a.x+a.getBeatX(f.beat,er.PreNotes);T+=a.getPreNotesGlyphForBeat(f.beat).prebendNoteHeadOffset;let _=r+a.y+a.getScoreY(a.accidentalHelper.getNoteLineForValue(f.displayValue-(f.beat.whammyBarPoints[0].value/2|0),!1))+x;this.drawBendSlur(n,T,_,o,g,u===He.Down,this.scale,y),this.BendNoteHeads.length>0&&(this.BendNoteHeads[0].x=m-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.drawBendSlur(n,o,g,m,w,u===He.Down,this.scale,y));break}}n.textAlign=c}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}Kd.SimpleDipHeight=Ta.PerHalfSize*2;Kd.SimpleDipPadding=2;class Os extends Ln{constructor(e,r,n){super(e,r),this.width=n}}class Oxe extends Rn{constructor(e,r,n,i,s){super(e,r,s?Kt.GraceScale:1,n.getSymbol(i)),this._isGrace=s,this._articulation=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1),this._articulation.techniqueSymbol!==R.None&&this._articulation.techniqueSymbolPlacement===Xt.Middle&&n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this._articulation.techniqueSymbol,!1)}doLayout(){let e=(this._isGrace?Kt.GraceScale:1)*this.scale;switch(this.symbol){case R.NoteheadWhole:this.width=14;break;case R.NoteheadCircleX:case R.NoteheadDiamondWhite:this.width=9;break;case R.NoteheadHeavyXHat:case R.NoteheadHeavyX:this.width=13;break;default:this.width=10;break}this.width=this.width*(this._isGrace?Kt.GraceScale:1)*this.scale,this.height=Kt.NoteHeadHeight*e}}class sA extends Rn{constructor(e,r){super(e,r,Kt.GraceScale,R.ArticStaccatoAbove)}doLayout(){this.width=Kt.QuarterNoteHeadWidth*this.scale,this.height=7*this.scale}paint(e,r,n){super.paint(e+3*this.scale,r+5*this.scale,n)}}class $xe extends Rn{constructor(e,r){super(e,r,.5,R.PictEdgeOfCymbal)}doLayout(){this.width=22*this.scale,this.height=15*this.scale}paint(e,r,n){super.paint(e-3*this.scale,r+this.height,n)}}class Vxe extends Rn{constructor(e,r){super(e,r,Kt.GraceScale,R.GuitarGolpe)}doLayout(){this.width=9*this.scale,this.height=10*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}}class zxe extends oN{constructor(){super(...arguments),this._collisionOffset=-1e3,this._skipPaint=!1,this.noteHeads=null,this.restGlyph=null}getNoteX(e,r){return this.noteHeads?this.noteHeads.getNoteX(e,r):0}buildBoundingsLookup(e,r,n){this.noteHeads&&this.noteHeads.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteY(e,r){return this.noteHeads?this.noteHeads.getNoteY(e,r):0}updateBeamingHelper(){if(this.noteHeads)this.noteHeads.updateBeamingHelper(this.container.x+this.x);else if(this.restGlyph&&(this.restGlyph.updateBeamingHelper(this.container.x+this.x),this.renderer.bar.isMultiVoice&&this._collisionOffset===-1e3)){this._collisionOffset=this.renderer.helpers.collisionHelper.applyRestCollisionOffset(this.container.beat,this.restGlyph.y,this.renderer.getScoreHeight(1)),this.y+=this._collisionOffset;const e=this.renderer.helpers.collisionHelper.restDurationsByDisplayTime;e.has(this.container.beat.playbackStart)&&e.get(this.container.beat.playbackStart).has(this.container.beat.playbackDuration)&&e.get(this.container.beat.playbackStart).get(this.container.beat.playbackDuration)!==this.container.beat.id&&(this._skipPaint=!0)}}paint(e,r,n){this._skipPaint||super.paint(e,r,n)}doLayout(){let e=this.renderer;if(!this.container.beat.isEmpty)if(this.container.beat.isRest){let r=Math.ceil((this.renderer.bar.staff.standardNotationLineCount-1)/2)*2;this.container.beat.duration===le.Whole&&this.renderer.bar.staff.standardNotationLineCount!==1&&this.renderer.bar.staff.standardNotationLineCount!==3&&(r-=2);const n=new hp(0,e.getScoreY(r),this.container.beat.duration);if(this.restGlyph=n,n.beat=this.container.beat,n.beamingHelper=this.beamingHelper,this.addGlyph(n),this.renderer.bar.isMultiVoice)if(this.container.beat.voice.index===0){const i=na.computeLineHeightsForRest(this.container.beat.duration);let s=n.y-e.getScoreHeight(i[0]),a=n.y+e.getScoreHeight(i[1]);this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}else this.renderer.helpers.collisionHelper.registerRest(this.container.beat);if(this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,r),this.container.beat.dots>0){this.addGlyph(new Os(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new gl(0,0);s.renderer=this.renderer,this.createBeatDot(r,s),this.addGlyph(s)}}}else{const r=new Axe;this.noteHeads=r,r.beat=this.container.beat,r.beamingHelper=this.beamingHelper;let n=new Ww(!1);n.renderer=this.renderer;for(let i of this.container.beat.notes)i.isVisible&&(this.createNoteGlyph(i),n.addParenthesis(i));if(this.addGlyph(r),n.isEmpty||(this.addGlyph(new Os(0,0,4*(this.container.beat.graceType!==Tt.None?Kt.GraceScale:1)*this.scale)),this.addGlyph(n)),this.container.beat.hasWhammyBar){let i=new Kd(this.container.beat);i.renderer=this.renderer,i.doLayout(),this.container.ties.push(i)}if(this.container.beat.dots>0){this.addGlyph(new Os(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new gl(0,0);s.renderer=this.renderer;for(let a of this.container.beat.notes)this.createBeatDot(e.getNoteLine(a),s);this.addGlyph(s)}}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}createBeatDot(e,r){let n=this.renderer;r.addGlyph(new lP(0,n.getScoreY(e),1.5*this.scale))}createNoteHeadGlyph(e){let r=this.container.beat.graceType!==Tt.None;if(e.beat.voice.bar.staff.isPercussion){const n=Ri.getArticulation(e);if(n)return new Oxe(0,0,n,e.beat.duration,r);Fe.warning("Rendering",`No articulation found for percussion instrument ${e.percussionArticulation}`)}return e.isDead?new Ixe(0,0,r):e.beat.graceType===Tt.BendGrace?new Kt(0,0,le.Quarter,!0):e.harmonicType===vt.Natural?new zw(0,0,e.beat.duration,r):new Kt(0,0,e.beat.duration,r)}createNoteGlyph(e){if(e.beat.graceType===Tt.BendGrace&&!e.hasBend)return;let r=this.renderer,n=this.createNoteHeadGlyph(e),i=r.getNoteLine(e);if(n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i),e.harmonicType!==vt.None&&e.harmonicType!==vt.Natural){let s=e.displayValue+e.harmonicPitch;n=new zw(0,0,e.beat.duration,this.container.beat.graceType!==Tt.None),i=r.accidentalHelper.getNoteLineForValue(s,!1),n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i)}if(e.isStaccato&&!this.noteHeads.aboveBeatEffects.has("Staccato")&&this.noteHeads.belowBeatEffects.set("Staccato",new sA(0,0)),e.accentuated===qn.Normal&&!this.noteHeads.aboveBeatEffects.has("Accent")&&this.noteHeads.belowBeatEffects.set("Accent",new Vw(0,0,qn.Normal)),e.accentuated===qn.Heavy&&!this.noteHeads.aboveBeatEffects.has("HAccent")&&this.noteHeads.belowBeatEffects.set("HAccent",new Vw(0,0,qn.Heavy)),e.isPercussion){const s=Ri.getArticulation(e);if(s&&s.techniqueSymbolPlacement!==Xt.Middle){const a=s.techniqueSymbolPlacement===Xt.Top?this.noteHeads.aboveBeatEffects:this.noteHeads.belowBeatEffects;switch(s.techniqueSymbol){case R.PictEdgeOfCymbal:a.set("PictEdgeOfCymbal",new $xe(0,0));break;case R.ArticStaccatoAbove:a.set("ArticStaccatoAbove",new sA(0,0));break;case R.StringsUpBow:a.set("StringsUpBow",new py(0,0,Fi.Up));break;case R.StringsDownBow:a.set("StringsDownBow",new py(0,0,Fi.Down));break;case R.GuitarGolpe:a.set("GuitarGolpe",new Vxe(0,0));break}}}}}class Wxe extends Ln{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=this._beat.brushType===Jr.ArpeggioUp||this._beat.brushType===Jr.ArpeggioDown?10*this.scale:0}paint(e,r,n){if(this._beat.brushType===Jr.ArpeggioUp||this._beat.brushType===Jr.ArpeggioDown){let i=this.renderer,s=i.lineOffset,a=r+this.y+(i.getNoteY(this._beat.maxNote,gt.Bottom)-s),o=r+this.y+i.getNoteY(this._beat.minNote,gt.Top)+s,l=e+this.x+this.width/2,u=8*this.scale,c=new fh(0,0,pr.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let h=-c.height/2;if(this._beat.brushType===Jr.ArpeggioUp){let f=a+u,g=o-u;c.width=Math.abs(g-f),n.beginRotate(e+this.x+5*this.scale,g,-90),c.paint(0,h,n),n.endRotate(),n.beginPath(),n.moveTo(l,o),n.lineTo(l+u/2,o-u),n.lineTo(l-u/2,o-u),n.closePath(),n.fill()}else if(this._beat.brushType===Jr.ArpeggioDown){let f=a+u,g=o;c.width=Math.abs(g-f),n.beginRotate(e+this.x+5*this.scale,f,90),c.paint(0,h,n),n.endRotate(),n.beginPath(),n.moveTo(l,a),n.lineTo(l+u/2,a+u),n.lineTo(l-u/2,a+u),n.closePath(),n.fill()}}}}class Hxe extends J1{get prebendNoteHeadOffset(){return this._prebends?this._prebends.x+this._prebends.noteHeadOffset:0}doLayout(){if(!this.container.beat.isRest){let e=new vW;e.renderer=this.renderer;let r=new Ww(!0);r.renderer=this.renderer;const n=new As(this.container.beat,!0);this._prebends=n,n.renderer=this.renderer;for(let i of this.container.beat.notes)if(i.isVisible){if(i.hasBend)switch(i.bendType){case ct.PrebendBend:case ct.Prebend:case ct.PrebendRelease:n.addGlyph(i.displayValue-(i.bendPoints[0].value/2|0),!1);break}else if(i.beat.hasWhammyBar)switch(i.beat.whammyBarType){case yr.PrediveDive:case yr.Predive:this._prebends.addGlyph(i.displayValue-(i.beat.whammyBarPoints[0].value/2|0),!1);break}this.createAccidentalGlyph(i,e),r.addParenthesis(i)}n.isEmpty||(this.addGlyph(n),this.addGlyph(new Os(0,0,4*(this.container.beat.graceType!==Tt.None?Kt.GraceScale:1)*this.scale))),this.container.beat.brushType!==Jr.None&&(this.addGlyph(new Wxe(this.container.beat)),this.addGlyph(new Os(0,0,4*this.scale))),r.isEmpty||(this.addGlyph(r),this.addGlyph(new Os(0,0,4*(this.container.beat.graceType!==Tt.None?Kt.GraceScale:1)*this.scale))),e.isEmpty||(this.accidentals=e,this.addGlyph(new Os(0,0,2*(this.container.beat.graceType!==Tt.None?Kt.GraceScale:1)*this.scale)),this.addGlyph(e),this.addGlyph(new Os(0,0,2*(this.container.beat.graceType!==Tt.None?Kt.GraceScale:1)*this.scale)))}super.doLayout()}createAccidentalGlyph(e,r){let n=this.renderer,i=n.accidentalHelper.applyAccidental(e),s=n.getNoteLine(e),a=this.container.beat.graceType!==Tt.None;if(i!==Nr.None){let o=new Ac(0,n.getScoreY(s),i,a);o.renderer=this.renderer,r.addGlyph(o)}if(e.harmonicType!==vt.None&&e.harmonicType!==vt.Natural){let o=e.displayValue+e.harmonicPitch;i=n.accidentalHelper.applyAccidentalForValue(e.beat,o,a,!1),s=n.accidentalHelper.getNoteLineForValue(o,!1);let l=new Ac(0,n.getScoreY(s),i,a);l.renderer=this.renderer,r.addGlyph(l)}}constructor(){super(),this._prebends=null,this.accidentals=null}}class hN extends Rn{constructor(e,r,n,i){super(e,r,i,hN.getSymbol(n)),this._digit=0,this._scale=0,this._digit=n,this._scale=i}doLayout(){this.width=this.getDigitWidth(this._digit)*this.scale*this._scale}getDigitWidth(e){switch(e){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return 14;case 1:return 10;default:return 0}}static getSymbol(e){switch(e){case 0:return R.TimeSig0;case 1:return R.TimeSig1;case 2:return R.TimeSig2;case 3:return R.TimeSig3;case 4:return R.TimeSig4;case 5:return R.TimeSig5;case 6:return R.TimeSig6;case 7:return R.TimeSig7;case 8:return R.TimeSig8;case 9:return R.TimeSig9;default:return R.None}}}class Fv extends gl{constructor(e,r,n,i=1){super(e,r),this._number=0,this._scale=0,this._number=n,this._scale=i}doLayout(){let e=this._number;for(;e>0;){let r=e%10,n=new hN(0,0,r,this._scale);this.addGlyph(n),e=e/10|0}if(this.glyphs){this.glyphs.reverse();let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.y=0,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r}}}Fv.numberHeight=18;class wW extends gl{constructor(e,r,n,i,s){super(e,r),this._numerator=0,this._denominator=0,this._numerator=n,this._denominator=i,this._isCommon=s}doLayout(){if(this._isCommon&&this._numerator===2&&this._denominator===2){let e=new Rn(0,0,this.commonScale,R.TimeSigCutCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else if(this._isCommon&&this._numerator===4&&this._denominator===4){let e=new Rn(0,0,this.commonScale,R.TimeSigCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else{const e=Fv.numberHeight*this.scale;let r=new Fv(0,-e/2,this._numerator,this.numberScale),n=new Fv(0,e/2,this._denominator,this.numberScale);this.addGlyph(r),this.addGlyph(n),super.doLayout();for(let i=0,s=this.glyphs.length;i<s;i++){let a=this.glyphs[i];a.x=(this.width-a.width)/2}}}}class Uxe extends wW{get commonScale(){return 1}get numberScale(){return 1}}class Gxe extends dN{constructor(e){super(0,0),this._notes=[],this._endNoteGlyph=null,this._middleNoteGlyph=null,this._beat=e}addBends(e){if(this._notes.push(e),!e.isTieOrigin)switch(e.bendType){case ct.Bend:case ct.PrebendRelease:case ct.PrebendBend:{let r=this._endNoteGlyph;r||(r=new As(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case ct.Release:if(!e.isTieOrigin){let r=this._endNoteGlyph;r||(r=new As(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case ct.BendRelease:{let r=this._middleNoteGlyph;r||(r=new As(e.beat,!1),this._middleNoteGlyph=r,r.renderer=this.renderer,this.BendNoteHeads.push(r));let n=e.bendPoints[1];r.addGlyph(this.getBendNoteValue(e,e.bendPoints[1]),n.value%2!==0);let i=this._endNoteGlyph;i||(i=new As(e.beat,!1),i.renderer=this.renderer,this._endNoteGlyph=i,this.BendNoteHeads.push(i));let s=e.bendPoints[e.bendPoints.length-1];i.addGlyph(this.getBendNoteValue(e,s),s.value%2!==0)}break}}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._beat.voice.bar),s=e+i.x+i.getBeatX(this._beat,er.MiddleNotes),a=e+i.x;this._beat.isLastOfVoice?a+=i.postBeatGlyphsStart:a+=i.getBeatX(this._beat.nextBeat,er.PreNotes),a-=8*this.scale;let o=(s+a)/2;this._middleNoteGlyph&&(this._middleNoteGlyph.x=o-this._middleNoteGlyph.noteHeadOffset,this._middleNoteGlyph.y=r+i.y,this._middleNoteGlyph.paint(0,0,n)),this._endNoteGlyph&&(this._endNoteGlyph.x=a-this._endNoteGlyph.noteHeadOffset,this._endNoteGlyph.y=r+i.y,this._endNoteGlyph.paint(0,0,n)),this._notes.sort((c,h)=>h.displayValue-c.displayValue);let l=this._beat.graceType===Tt.BendGrace?this._beat.nextBeat:this._beat,u=this._notes.length===1?this.getTieDirection(l,i):He.Up;for(let c=0;c<this._notes.length;c++){let h=this._notes[c];c>0&&c>=(this._notes.length/2|0)&&(u=He.Down);let f=r+i.y+i.getNoteY(h,gt.Top),g=Kt.NoteHeadHeight*this.scale*Kt.GraceScale*.5;u===He.Down&&(f+=Kt.NoteHeadHeight*this.scale);let m=h.bendStyle===Fr.Gradual?"grad.":"";if(h.isTieOrigin){let y=h.tieDestination,b=y?this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,y.beat.voice.bar):null;if(!b||b.staff!==i.staff){let x=e+i.x+i.width,v=h.tieDestination.realValue;i.accidentalHelper.applyAccidentalForValue(h.beat,v,!1,!0);let w=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(v,!1));h.bendType===ct.Hold||h.bendType===ct.Prebend?xi.paintTie(n,this.scale,s,f,x,w,u===He.Down,22,4):this.drawBendSlur(n,s,f,x,w,u===He.Down,this.scale,m)}else{let x=e+b.x+b.getBeatX(y.beat,er.MiddleNotes),v=r+b.y+b.getNoteY(y,gt.Top);u===He.Down&&(v+=Kt.NoteHeadHeight*this.scale),h.bendType===ct.Hold||h.bendType===ct.Prebend?xi.paintTie(n,this.scale,s,f,x,v,u===He.Down,22,4):this.drawBendSlur(n,s,f,x,v,u===He.Down,this.scale,m)}switch(h.bendType){case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:let x=e+i.x+i.getBeatX(h.beat,er.PreNotes);x+=i.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let v=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(h.displayValue-(h.bendPoints[0].value/2|0),!1))+g;this.drawBendSlur(n,x,v,s,f,u===He.Down,this.scale);break}}else{u===He.Up&&(g=-g);let y=0,b=0;switch(h.bendType){case ct.Bend:y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this._endNoteGlyph.getNoteValueY(y)+g,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,m);break;case ct.BendRelease:let x=this.getBendNoteValue(h,h.bendPoints[1]),v=this._middleNoteGlyph.getNoteValueY(x)+g;this.drawBendSlur(n,s,f,o,v,u===He.Down,this.scale,m),y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this._endNoteGlyph.getNoteValueY(y)+g,this.drawBendSlur(n,o,v,a,b,u===He.Down,this.scale,m);break;case ct.Release:this.BendNoteHeads.length>0&&(y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this.BendNoteHeads[0].getNoteValueY(y)+g,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,m));break;case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:let w=e+i.x+i.getBeatX(h.beat,er.PreNotes);w+=i.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let P=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(h.displayValue-(h.bendPoints[0].value/2|0),!1))+g;this.drawBendSlur(n,w,P,s,f,u===He.Down,this.scale),this.BendNoteHeads.length>0&&(y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this.BendNoteHeads[0].getNoteValueY(y)+g,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,m));break}}}}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}class uP extends xi{constructor(e,r,n=!1){super(e,r,n)}doLayout(){super.doLayout()}getBeamDirection(e,r){if(e.isRest)return He.Up;switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this.startBeat.maxNote,gt.Top);default:return this.startNoteRenderer.getNoteY(this.startBeat.minNote,gt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case He.Up:return e.getScoreY(9);default:return e.getScoreY(0)}const r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);if(r!==n&&this.startBeat.graceType===Tt.None)if(n===this.tieDirection)switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,gt.TopWithStem);default:return e.getNoteY(this.endBeat.minNote,gt.BottomWithStem)}else switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,gt.BottomWithStem);default:return e.getNoteY(this.endBeat.minNote,gt.TopWithStem)}switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,gt.Top);default:return e.getNoteY(this.endBeat.minNote,gt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startBeat,er.MiddleNotes)}getEndX(){const e=this.endNoteRenderer.getBeatDirection(this.endBeat);return this.endNoteRenderer.getBeatX(this.endBeat,this.endBeat.duration>le.Whole&&e===this.tieDirection?er.Stem:er.MiddleNotes)}}class jxe extends Ln{constructor(e,r,n,i){super(0,0),this._outType=r,this._inType=e,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.drawSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=e+i.x+i.getNoteX(this._startNote,En.Left)-2*this.scale,o=r+i.y+i.getNoteY(this._startNote,gt.Center),l=a-s,u=r+i.y;switch(this._inType){case ki.IntoFromBelow:u+=i.getNoteY(this._startNote,gt.Bottom);break;case ki.IntoFromAbove:u+=i.getNoteY(this._startNote,gt.Top);break;default:return}let c=this.getAccidentalsWidth(i,this._startNote.beat);l-=c,a-=c,this.paintSlideLine(n,!1,l,a,u,o)}getAccidentalsWidth(e,r){let n=e.getPreNotesGlyphForBeat(r);return n&&n.accidentals?n.accidentals.width:0}drawSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=1*this.scale,o=2*this.scale,l=0,u=0,c=0,h=0,f=!1;switch(this._outType){case jt.Shift:case jt.Legato:if(l=e+i.x+i.getBeatX(this._startNote.beat,er.PostNotes),u=r+i.y+i.getNoteY(this._startNote,gt.Center),this._startNote.slideTarget){let g=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!g||g.staff!==i.staff?(c=e+i.x+i.width,h=u):(c=e+g.x+g.getBeatX(this._startNote.slideTarget.beat,er.PreNotes)-a,h=r+g.y+g.getNoteY(this._startNote.slideTarget,gt.Center)),this._startNote.slideTarget.realValue>this._startNote.realValue?(u+=o,h-=o):(u-=o,h+=o)}else c=e+i.x+this._parent.x,h=u;break;case jt.OutUp:l=e+i.x+i.getNoteX(this._startNote,En.Right),u=r+i.y+i.getNoteY(this._startNote,gt.Center),c=l+s,h=r+i.y+i.getNoteY(this._startNote,gt.Top);break;case jt.OutDown:l=e+i.x+i.getNoteX(this._startNote,En.Right),u=r+i.y+i.getNoteY(this._startNote,gt.Center),c=l+s,h=r+i.y+i.getNoteY(this._startNote,gt.Bottom);break;case jt.PickSlideUp:l=e+i.x+i.getNoteX(this._startNote,En.Right),u=r+i.y+i.getNoteY(this._startNote,gt.Center),h=r+i.y+i.getNoteY(this._startNote,gt.Top),c=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(c=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,er.PreNotes)),f=!0;break;case jt.PickSlideDown:l=e+i.x+i.getNoteX(this._startNote,En.Right),u=r+i.y+i.getNoteY(this._startNote,gt.Center),h=r+i.y+i.getNoteY(this._startNote,gt.Bottom),c=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(c=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,er.PreNotes)),f=!0;break;default:return}this.paintSlideLine(n,f,l,c,u,h)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new fh(0,0,pr.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,u=a-s,c=Math.sqrt(Math.pow(u,2)+Math.pow(l,2));o.width=l;let h=Math.asin(u/c)*(180/Math.PI);e.beginRotate(n,s,h),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class qb extends uP{constructor(e,r,n=!1){super(e.beat,r.beat,n),this._startNote=e,this._endNote=r}getTieHeight(e,r,n,i){return Math.log2(n-e+1)*this.renderer.settings.notation.slurHeight}getStartY(){if(this.isStartCentered())switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this._startNote,gt.Top);default:return this.startNoteRenderer.getNoteY(this._startNote,gt.Bottom)}return this.startNoteRenderer.getNoteY(this._startNote,gt.Center)}getEndY(){if(this.isEndCentered())if(this.isEndOnStem())switch(this.tieDirection){case He.Up:return this.endNoteRenderer.getNoteY(this._endNote,gt.TopWithStem);default:return this.endNoteRenderer.getNoteY(this._endNote,gt.BottomWithStem)}else switch(this.tieDirection){case He.Up:return this.endNoteRenderer.getNoteY(this._endNote,gt.Top);default:return this.endNoteRenderer.getNoteY(this._endNote,gt.Bottom)}else return this.endNoteRenderer.getNoteY(this._endNote,gt.Center)}isStartCentered(){return this._startNote===this._startNote.beat.maxNote&&this.tieDirection===He.Up||this._startNote===this._startNote.beat.minNote&&this.tieDirection===He.Down}isEndCentered(){return this._startNote.beat.graceType===Tt.None&&(this._endNote===this._endNote.beat.maxNote&&this.tieDirection===He.Up||this._endNote===this._endNote.beat.minNote&&this.tieDirection===He.Down)}isEndOnStem(){const e=this.endNoteRenderer,r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);return r!==n&&this.startBeat.graceType===Tt.None}getStartX(){return this.isStartCentered()?this.startNoteRenderer.getBeatX(this._startNote.beat,er.MiddleNotes):this.startNoteRenderer.getNoteX(this._startNote,En.Right)}getEndX(){return this.isEndCentered()?this.isEndOnStem()?this.endNoteRenderer.getBeatX(this._endNote.beat,er.Stem):this.endNoteRenderer.getNoteX(this._endNote,En.Center):this.endNoteRenderer.getBeatX(this._endNote.beat,er.PreNotes)}}class aA extends xi{constructor(e,r,n=!1){super(e?e.beat:null,r?r.beat:null,n),this.startNote=e,this.endNote=r}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,r){switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this.startNote,gt.Top);default:return this.startNoteRenderer.getNoteY(this.startNote,gt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case He.Up:return e.getScoreY(9);default:return e.getScoreY(0)}switch(this.tieDirection){case He.Up:return e.getNoteY(this.endNote,gt.Top);default:return e.getNoteY(this.endNote,gt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startNote.beat,er.PostNotes)}getEndX(){return this.endNoteRenderer.getBeatX(this.endNote.beat,er.PreNotes)}}class Yxe extends il{constructor(e,r){super(e,r),this._bend=null,this._effectSlur=null,this._effectEndSlur=null}doLayout(){if(this._effectSlur=null,this._effectEndSlur=null,super.doLayout(),this.beat.isLegatoOrigin){if(!this.beat.previousBeat||!this.beat.previousBeat.isLegatoOrigin){let e=this.beat.nextBeat;for(;e.nextBeat&&e.nextBeat.isLegatoDestination;)e=e.nextBeat;this.addTie(new uP(this.beat,e,!1))}}else if(this.beat.isLegatoDestination&&!this.beat.isLegatoOrigin){let e=this.beat.previousBeat;for(;e.previousBeat&&e.previousBeat.isLegatoOrigin;)e=e.previousBeat;this.addTie(new uP(e,this.beat,!0))}this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(e.isVisible){if(e.isTieOrigin&&!e.hasBend&&!e.beat.hasWhammyBar&&e.beat.graceType!==Tt.BendGrace&&e.tieDestination&&e.tieDestination.isVisible){let r=new aA(e,e.tieDestination,!1);this.addTie(r)}if(e.isTieDestination&&!e.tieOrigin.hasBend&&!e.beat.hasWhammyBar){let r=new aA(e.tieOrigin,e,!0);this.addTie(r)}if(e.slideInType!==ki.None||e.slideOutType!==jt.None){let r=new jxe(e.slideInType,e.slideOutType,e,this);this.addTie(r)}if(e.isSlurOrigin&&e.slurDestination&&e.slurDestination.isVisible){let r=new qb(e,e.slurDestination,!1);this.addTie(r)}if(e.isSlurDestination){let r=new qb(e.slurOrigin,e,!0);this.addTie(r)}if(!this._effectSlur&&e.isEffectSlurOrigin&&e.effectSlurDestination){const r=new qb(e,e.effectSlurDestination,!1);this._effectSlur=r,this.addTie(r)}if(!this._effectEndSlur&&e.beat.isEffectSlurDestination&&e.beat.effectSlurOrigin){let r=this.onNotes.beamingHelper.direction,n=r===He.Up?e.beat.effectSlurOrigin.minNote:e.beat.effectSlurOrigin.maxNote,i=r===He.Up?e.beat.minNote:e.beat.maxNote;const s=new qb(n,i,!0);this._effectEndSlur=s,this.addTie(s)}if(e.hasBend){if(!this._bend){const r=new Gxe(e.beat);this._bend=r,r.renderer=this.renderer,this.addTie(r)}this._bend.addBends(e)}}}}class fo extends bn{constructor(e,r){super(e,r),this.simpleWhammyOverflow=0,this._firstLineY=0,this._startSpacing=!1,this.accidentalHelper=new $n(this)}getBeatDirection(e){return this.helpers.getBeamingHelperForBeat(e).direction}get lineOffset(){return(bn.LineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=e.tablatureFont.size/2+e.tablatureFont.size*.2;this.topPadding=r*this.scale,this.bottomPadding=r*this.scale,this.height=this.lineOffset*4+this.topPadding+this.bottomPadding,this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.lineOffset*4,r=(this.bar.staff.standardNotationLineCount-1)*this.lineOffset;this._firstLineY=(e-r)/2}doLayout(){if(this.updateFirstLineY(),super.doLayout(),!this.bar.isEmpty&&this.accidentalHelper.maxLineBeat){let e=this.getScoreY(-2),r=this.getScoreY(6),n=this.simpleWhammyOverflow;this.registerOverflowTop(n);let i=this.getScoreY(this.accidentalHelper.maxLine),s=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.maxLineBeat);s.direction===He.Up&&(i-=this.getStemSize(s),i-=s.fingeringCount*this.resources.graceFont.size,s.hasTuplet&&(i-=this.resources.effectFont.size*2)),s.hasTuplet&&(i-=this.resources.effectFont.size*1.5),i<e&&this.registerOverflowTop(Math.abs(i)+n);let a=this.getScoreY(this.accidentalHelper.minLine),o=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.minLineBeat);o.direction===He.Down&&(a+=this.getStemSize(o),a+=o.fingeringCount*this.resources.graceFont.size),a>r&&this.registerOverflowBottom(Math.abs(a)-r)}}paint(e,r,n){super.paint(e,r,n),this.paintBeams(e,r,n),this.paintTuplets(e,r,n)}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let u=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,u)}}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1?this.paintFlag(e,r,n,i):this.paintBar(e,r,n,i))}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=kt.Center,n.textBaseline=Xt.Middle;let l,u=i.beats[0].tupletNumerator,c=i.beats[0].tupletDenominator;u===2&&c===3?l="2":u===3&&c===2?l="3":u===4&&c===6?l="4":u===5&&c===4?l="5":u===6&&c===4?l="6":u===7&&c===4?l="7":u===9&&c===8?l="9":u===10&&c===8?l="10":u===11&&c===8?l="11":u===12&&c===8?l="12":u===13&&c===8?l="13":l=u+":"+c;let h=10*this.scale,f=5*this.scale;if(i.beats.length===1||!i.isFull)for(let g=0,m=i.beats.length;g<m;g++){let y=i.beats[g],b=this.helpers.beamHelperLookup[i.voice.index].get(y.index);if(!b)continue;let x=b.direction,v=b.getBeatLineX(y),w=this.calculateBeamYWithDirection(b,v,x);x===He.Down&&(h*=-1,f*=-1),n.font=s.effectFont,n.fillText(l,e+this.x+v,r+this.y+w-h-f)}else{let g=i.beats[0],m=i.beats[i.beats.length-1],y=null,b=null;for(let ae=0;ae<i.beats.length;ae++)if(!i.beats[ae].isRest){y=i.beats[ae];break}for(let ae=i.beats.length-1;ae>=0;ae--)if(!i.beats[ae].isRest){b=i.beats[ae];break}let x=!1;y||(y=g,x=!0),b||(b=m);let v=this.helpers.beamHelperLookup[i.voice.index].get(g.index),w=this.helpers.beamHelperLookup[i.voice.index].get(m.index),P=v.getBeatLineX(g),T=w.getBeatLineX(m),_=this.helpers.beamHelperLookup[i.voice.index].get(y.index),M=this.helpers.beamHelperLookup[i.voice.index].get(b.index),E=v.direction,D=this.calculateBeamYWithDirection(_,P,E),L=this.calculateBeamYWithDirection(M,T,E);x&&(D=Math.max(D,L),L=D),n.font=s.effectFont;let F=n.measureText(l),z=3*this.scale,V=(P+T)/2,O=V-F/2-z,I=V+F/2+z,H=(L-D)/(T-P),W=D-H*P,A=H*O+W,U=H*V+W,q=H*I+W;E===He.Down&&(h*=-1,f*=-1),n.beginPath(),n.moveTo(e+this.x+P,r+this.y+D-h|0),n.lineTo(e+this.x+P,r+this.y+D-h-f|0),n.lineTo(e+this.x+O,r+this.y+A-h-f|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+I,r+this.y+q-h-f|0),n.lineTo(e+this.x+T,r+this.y+L-h-f|0),n.lineTo(e+this.x+T,r+this.y+L-h|0),n.stroke(),n.fillText(l,e+this.x+V,r+this.y+U-h-f)}n.textAlign=a,n.textBaseline=o}getStemSize(e){let r=e.beats.length===1?this.getFlagStemSize(e.shortestDuration):this.getBarStemSize(e.shortestDuration);return e.isGrace&&(r=r*Kt.GraceScale),r}getBarStemSize(e){let r=0;switch(e){case le.QuadrupleWhole:case le.Half:case le.Quarter:case le.Eighth:case le.Sixteenth:r=6;break;case le.ThirtySecond:r=8;break;case le.SixtyFourth:r=9;break;case le.OneHundredTwentyEighth:r=9;break;case le.TwoHundredFiftySixth:r=10;break;default:r=0;break}return this.getScoreHeight(r)}getFlagStemSize(e){let r=0;switch(e){case le.QuadrupleWhole:case le.Half:case le.Quarter:case le.Eighth:case le.Sixteenth:case le.ThirtySecond:case le.SixtyFourth:case le.OneHundredTwentyEighth:case le.TwoHundredFiftySixth:r=6;break;default:r=0;break}return this.getScoreHeight(r)}get middleYPosition(){return this.getScoreY(this.bar.staff.standardNotationLineCount-1)}getNoteY(e,r){let n=super.getNoteY(e,r);if(isNaN(n)){const i=$n.computeLineWithoutAccidentals(this.bar,e);n=this.getScoreY(i)}return n}calculateBeamY(e,r){return this.calculateBeamYWithDirection(e,r,e.direction)}applyLayoutingInfo(){const e=super.applyLayoutingInfo();if(e&&this.bar.isMultiVoice){let r=this.getScoreY(-2),n=this.getScoreY(6),i=this.helpers.collisionHelper.getBeatMinMaxY();i[0]<r&&this.registerOverflowTop(Math.abs(i[0])),i[1]>n&&this.registerOverflowBottom(Math.abs(i[1])-n)}return e}calculateBeamYWithDirection(e,r,n){let i=this.getStemSize(e);if(!e.drawingInfos.has(n)){let s=new fxe;e.drawingInfos.set(n,s);const a=e.beats[0],o=e.beats[e.beats.length-1];let l=e.isRestBeamHelper;s.startBeat=a,s.startX=e.getBeatLineX(a),l?s.startY=n===He.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.startY=n===He.Up?this.getScoreY(this.accidentalHelper.getMinLine(a))-i:this.getScoreY(this.accidentalHelper.getMaxLine(a))+i,s.endBeat=o,s.endX=e.getBeatLineX(o),l?s.endY=n===He.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.endY=n===He.Up?this.getScoreY(this.accidentalHelper.getMinLine(o))-i:this.getScoreY(this.accidentalHelper.getMaxLine(o))+i;let u=10*this.scale;if(n===He.Down&&s.startY>s.endY&&s.startY-s.endY>u&&(s.endY=s.startY-u),n===He.Down&&s.endY>s.startY&&s.endY-s.startY>u&&(s.startY=s.endY-u),n===He.Up&&s.startY<s.endY&&s.endY-s.startY>u&&(s.endY=s.startY+u),n===He.Up&&s.endY<s.startY&&s.startY-s.endY>u&&(s.startY=s.endY+u),e.beats.length>1){if(n===He.Up){let c=this.getScoreY(this.accidentalHelper.getMinLine(e.beatOfHighestNote))-i;const f=s.calcY(e.getBeatLineX(e.beatOfHighestNote))-c;f>0&&(s.startY-=f,s.endY-=f)}else{let c=this.getScoreY(this.accidentalHelper.getMaxLine(e.beatOfLowestNote))+i;const h=s.calcY(e.getBeatLineX(e.beatOfLowestNote)),f=c-h;f>0&&(s.startY+=f,s.endY+=f)}if(e.minRestLine!==null||e.maxRestLine!==null){const c=Xr.getIndex(e.shortestDuration)-2;let h=e.isGrace?Kt.GraceScale:1,f=c*(bn.BeamSpacing+bn.BeamThickness)*this.scale*h;if(f+=bn.BeamSpacing,n===He.Up&&e.minRestLine!==null){let g=this.getScoreY(e.minRestLine)-f;const y=s.calcY(e.getBeatLineX(e.beatOfMinRestLine))-g;y>0&&(s.startY-=y,s.endY-=y)}else if(n===He.Down&&e.maxRestLine!==null){let g=this.getScoreY(e.maxRestLine)+f;const m=s.calcY(e.getBeatLineX(e.beatOfMaxRestLine)),y=g-m;y>0&&(s.startY+=y,s.endY+=y)}}}}return e.drawingInfos.get(n).calcY(r)}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s],u=o.graceType!==Tt.None?Kt.GraceScale:1,c=i.getBeatLineX(o),h=i.direction,f=r+this.y;f+=h===He.Up?this.getScoreY(this.accidentalHelper.getMaxLine(o)):this.getScoreY(this.accidentalHelper.getMinLine(o));let g=r+this.y;g+=this.calculateBeamY(i,c),n.lineWidth=bn.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+c,f),n.lineTo(e+this.x+c,g),n.stroke(),n.lineWidth=this.scale;let m=g;h===He.Down?m+=n.font.size*2:s!==0&&(m-=n.font.size*1.5),this.paintFingering(n,o,e+this.x+c,h,m);let y=6*this.scale*u,b=(bn.BeamSpacing+bn.BeamThickness)*this.scale*u,x=bn.BeamThickness*this.scale*u,v=Xr.getIndex(o.duration)-2,w=r+this.y;h===He.Down&&(b=-b,x=-x);for(let P=0;P<v;P++){let T=0,_=0,M=0,E=0,D=w+P*b;if(s<i.beats.length-1){if(na.isFullBarJoin(o,i.beats[s+1],P))T=c,_=i.getBeatLineX(i.beats[s+1]);else if(s===0||!na.isFullBarJoin(i.beats[s-1],o,P))T=c,_=T+y;else continue;M=D+this.calculateBeamY(i,T),E=D+this.calculateBeamY(i,_),fo.paintSingleBar(n,e+this.x+T,M,e+this.x+_,E,x)}else s>0&&!na.isFullBarJoin(o,i.beats[s-1],P)&&(T=c-y,_=c,M=D+this.calculateBeamY(i,T),E=D+this.calculateBeamY(i,_),fo.paintSingleBar(n,e+this.x+T,M,e+this.x+_,E,x))}}}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s+a),e.lineTo(r,n+a),e.closePath(),e.fill()}paintFlag(e,r,n,i){let s=i.beats[0];if(s.graceType===Tt.BendGrace||s.graceType!==Tt.None&&this.settings.notation.notationMode===ci.SongBook)return;let a=s.graceType!==Tt.None,o=a?Kt.GraceScale:1,l=this.getFlagStemSize(i.shortestDuration),u=i.getBeatLineX(s),c=i.direction,h=this.getScoreY(this.accidentalHelper.getMinLine(s)),f=this.getScoreY(this.accidentalHelper.getMaxLine(s)),g=0,m=0;if(c===He.Down?(f+=l*o,g=f,m=r+this.y+f):(h-=l*o,g=h,m=r+this.y+h),this.paintFingering(n,s,e+this.x+u,c,m),!!i.hasLine){if(n.lineWidth=bn.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+u,r+this.y+h),n.lineTo(e+this.x+u,r+this.y+f),n.stroke(),n.lineWidth=this.scale,s.graceType===Tt.BeforeBeat){let y=15*this.scale,b=12*this.scale;n.beginPath(),c===He.Down?(n.moveTo(e+this.x+u-b/2,r+this.y+f-y),n.lineTo(e+this.x+u+b/2,r+this.y+f)):(n.moveTo(e+this.x+u-b/2,r+this.y+h+y),n.lineTo(e+this.x+u+b/2,r+this.y+h)),n.stroke()}if(i.hasFlag){let y=new Fp(u-this.scale/2,g,s.duration,c,a);y.renderer=this,y.doLayout(),y.paint(e+this.x,r+this.y,n)}}}paintFingering(e,r,n,i,s){let a=this.settings;if(a.notation.fingeringMode!==pl.ScoreDefault&&a.notation.fingeringMode!==pl.ScoreForcePiano)return;i===He.Up?n-=10*this.scale:n+=3*this.scale;let o=r.notes.slice(0);o.sort((l,u)=>l.realValue-u.realValue);for(let l=0;l<o.length;l++){let u=o[l],c=null;u.leftHandFinger!==Vt.Unknown?c=Xr.fingerToString(a,r,u.leftHandFinger,!0):u.rightHandFinger!==Vt.Unknown&&(c=Xr.fingerToString(a,r,u.rightHandFinger,!1)),c&&(e.fillText(c,n,s),s-=e.font.size|0)}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new yW(0,0,1.5,3)),this.isFirstOfLine||this.bar.clef!==this.bar.previousBar.clef||this.bar.clefOttava!==this.bar.previousBar.clefOttava){let e=0;switch(this.bar.clef){case zt.Neutral:e=this.bar.staff.standardNotationLineCount-1;break;case zt.F4:e=2;break;case zt.C3:e=4;break;case zt.C4:e=2;break;case zt.G2:e=6;break}this.createStartSpacing(),this.addPreBeatGlyph(new cN(0,this.getScoreY(e)+.5*bn.StaffLineThickness,this.bar.clef,this.bar.clefOttava))}(this.index===0&&this.bar.masterBar.keySignature!==ni.C||this.bar.previousBar&&this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new fW(0,this.getScoreHeight(-.5),this.bar.index+1))}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(r)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new gW(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new mW(0,this.getScoreHeight(-.5),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new pW(0,0))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Os(0,0,2*this.scale)),this._startSpacing=!0)}createKeySignatureGlyphs(){let e=0,r=this.bar.masterBar.keySignature,n=this.bar.previousBar?this.bar.previousBar.masterBar.keySignature:0;switch(this.bar.clef){case zt.Neutral:e=0;break;case zt.G2:e=1;break;case zt.F4:e=3;break;case zt.C3:e=2;break;case zt.C4:e=0;break}let i=new Map,s=[];if(Xr.keySignatureIsSharp(r))for(let l=0;l<Math.abs(r);l++){let u=fo.SharpKsSteps[l]+e;s.push(new Ac(0,this.getScoreY(u),Nr.Sharp,!1)),i.set(u,!0)}else for(let l=0;l<Math.abs(r);l++){let u=fo.FlatKsSteps[l]+e;s.push(new Ac(0,this.getScoreY(u),Nr.Flat,!1)),i.set(u,!0)}let a=Math.abs(n),o=Xr.keySignatureIsSharp(n)?fo.SharpKsSteps:fo.FlatKsSteps;for(let l=0;l<a;l++){let u=o[l]+e;i.has(u)||this.addPreBeatGlyph(new Ac(0,this.getScoreY(o[l]+e),Nr.Natural,!1))}for(let l of s)this.addPreBeatGlyph(l)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Os(0,0,5*this.scale));const e=this.bar.staff.standardNotationLineCount-1;this.addPreBeatGlyph(new Uxe(0,this.getScoreY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Yxe(i,this.getVoiceContainer(e));s.preNotes=new Hxe,s.onNotes=new zxe,this.addBeatGlyph(s)}}getNoteLine(e){return this.accidentalHelper.getNoteLine(e)}getScoreY(e){return this._firstLineY+this.lineOffset+this.getScoreHeight(e)}getScoreHeight(e){return this.lineOffset/2*e}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;for(let s=0;s<this.bar.staff.standardNotationLineCount;s++){const a=r+this.y+this.getScoreY(s*2);n.fillRect(e+this.x,a|0,this.width,this.scale*bn.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}completeBeamingHelper(e){if(this.bar.isMultiVoice&&e.highestNoteInHelper&&e.lowestNoteInHelper){let r=this.getNoteY(e.highestNoteInHelper,gt.Center),n=this.getNoteY(e.lowestNoteInHelper,gt.Center),i=this.getStemSize(e);e.hasTuplet&&(i+=this.resources.effectFont.size*2),e.direction==He.Up?r-=i:n+=i;for(const s of e.beats)this.helpers.collisionHelper.reserveBeatSlot(s,r,n)}}}fo.StaffId="score";fo.SharpKsSteps=[-1,2,-2,1,4,0,3];fo.FlatKsSteps=[3,0,4,1,5,2,6];class oA extends aN{get staffId(){return fo.StaffId}create(e,r){return new fo(e,r)}constructor(){super()}}class Xxe extends Ln{constructor(e,r,n,i){super(0,0),this._inType=e,this._outType=r,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.paintSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,u=0,c=0;switch(this._inType){case ki.IntoFromBelow:u=e+i.x+i.getNoteX(this._startNote,En.Left),c=r+i.y+i.getNoteY(this._startNote,gt.Center),o=u-s,l=r+i.y+i.getNoteY(this._startNote,gt.Center)+a;break;case ki.IntoFromAbove:u=e+i.x+i.getNoteX(this._startNote,En.Left),c=r+i.y+i.getNoteY(this._startNote,gt.Center),o=u-s,l=r+i.y+i.getNoteY(this._startNote,gt.Center)-a;break;default:return}this.paintSlideLine(n,!1,o,u,l,c)}paintSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,u=0,c=0,h=!1;const f=2*this.scale;switch(this._outType){case jt.Shift:case jt.Legato:if(o=e+i.x+i.getBeatX(this._startNote.beat,er.PostNotes),l=r+i.y+i.getNoteY(this._startNote,gt.Center),this._startNote.slideTarget){let g=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!g||g.staff!==i.staff?(u=e+i.x+i.width,c=l):(u=e+g.x+g.getBeatX(this._startNote.slideTarget.beat,er.OnNotes)-f,c=r+g.y+g.getNoteY(this._startNote.slideTarget,gt.Center)),this._startNote.slideTarget.fret>this._startNote.fret?(l+=a,c-=a):(l-=a,c+=a)}else u=e+i.x+this._parent.x,c=l;break;case jt.OutUp:o=e+i.x+i.getNoteX(this._startNote,En.Right),l=r+i.y+i.getNoteY(this._startNote,gt.Center),u=o+s-f,c=r+i.y+i.getNoteY(this._startNote,gt.Center)-a;break;case jt.OutDown:o=e+i.x+i.getNoteX(this._startNote,En.Right),l=r+i.y+i.getNoteY(this._startNote,gt.Center),u=o+s-f,c=r+i.y+i.getNoteY(this._startNote,gt.Center)+a;break;case jt.PickSlideDown:o=e+i.x+i.getNoteX(this._startNote,En.Right),l=r+i.y+i.getNoteY(this._startNote,gt.Center),u=e+i.x+i.getBeatX(this._startNote.beat,er.EndBeat),c=l+a*3,h=!0;break;case jt.PickSlideUp:o=e+i.x+i.getNoteX(this._startNote,En.Right),l=r+i.y+i.getNoteY(this._startNote,gt.Center),u=e+i.x+i.getBeatX(this._startNote.beat,er.EndBeat),c=l-a*3,h=!0;break;default:return}this.paintSlideLine(n,h,o,u,l,c)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new fh(0,0,pr.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,u=a-s,c=Math.sqrt(Math.pow(u,2)+Math.pow(l,2));o.width=l;let h=Math.asin(u/c)*(180/Math.PI);e.beginRotate(n,s,h),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Oc extends xi{constructor(e,r,n=!1){super(e.beat,r.beat,n),this.startNote=e,this.endNote=r}getTieHeight(e,r,n,i){return this.startNote===this.endNote?15:super.getTieHeight(e,r,n,i)}getBeamDirection(e,r){return this.startNote===this.endNote?He.Up:Oc.getBeamDirectionForNote(this.startNote)}static getBeamDirectionForNote(e){return e.string>3?He.Up:He.Down}getStartY(){return this.startNote===this.endNote?this.startNoteRenderer.getNoteY(this.startNote,gt.Center):this.tieDirection===He.Up?this.startNoteRenderer.getNoteY(this.startNote,gt.Top):this.startNoteRenderer.getNoteY(this.startNote,gt.Bottom)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,En.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,En.Left):this.endNoteRenderer.getNoteX(this.endNote,En.Center)}}class lA extends Oc{constructor(e,r,n,i=!1){super(e,r,i),this._direction=Oc.getBeamDirectionForNote(e),this._forSlide=n}getTieHeight(e,r,n,i){return Math.log(n-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,r,n,i){if(this._forSlide!==n||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==r.beat.id||this._direction!==Oc.getBeamDirectionForNote(e))return!1;switch(this._direction){case He.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue>this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break;case He.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue<this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break}return!0}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),a="tab.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,o=this.renderer;o.staff.getSharedLayoutData(a,!1)||(o.staff.setSharedLayoutData(a,!0),super.paint(e,r,n))}}class qxe extends il{constructor(e,r){super(e,r),this._bend=null,this._effectSlurs=[]}doLayout(){this._effectSlurs=[],super.doLayout(),this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(!e.isVisible)return;let r=this.renderer;if(e.isTieOrigin&&r.showTiedNotes&&e.tieDestination.isVisible){let n=new Oc(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination&&r.showTiedNotes){let n=new Oc(e.tieOrigin,e,!0);this.addTie(n)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let n=new Oc(e,e,!1);this.addTie(n)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e,e.effectSlurDestination,!1,!1)){n=!0;break}if(!n){let i=new lA(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(i),this.addTie(i)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e.effectSlurOrigin,e,!1,!0)){n=!0;break}if(!n){let i=new lA(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(i),this.addTie(i)}}if(e.slideInType!==ki.None||e.slideOutType!==jt.None){let n=new Xxe(e.slideInType,e.slideOutType,e,this);this.addTie(n)}if(e.hasBend){if(!this._bend){const n=new ho;this._bend=n,n.renderer=this.renderer,this.addTie(n)}this._bend.addBends(e)}}}class Kxe extends Ln{constructor(e,r,n){super(e,r),this._noteString=null,this._trillNoteString=null,this._trillNoteStringWidth=0,this.isEmpty=!1,this.noteStringWidth=0,this._note=n}doLayout(){let e=this._note,r=e.fret-e.beat.voice.bar.staff.transpositionPitch;if(e.harmonicType===vt.Natural&&e.harmonicValue!==0&&(r=e.harmonicValue-e.beat.voice.bar.staff.transpositionPitch),e.isTieDestination)e.beat.index===0&&this.renderer.settings.notation.notationMode==ci.GuitarPro||(e.bendType===ct.Bend||e.bendType===ct.BendRelease)&&this.renderer.settings.notation.isNotationElementVisible(Nt.TabNotesOnTiedBends)?this._noteString="("+(e.tieOrigin.fret-e.beat.voice.bar.staff.transpositionPitch).toString()+")":this._noteString="";else if(this._noteString=e.isDead?"x":r.toString(),e.isGhost)this._noteString="("+this._noteString+")";else if(e.harmonicType===vt.Natural){let n=this._noteString.indexOf(".");n>=0&&(this._noteString=this._noteString.substr(0,n+2)),this._noteString="<"+this._noteString+">"}if(e.isTrill)this._trillNoteString="("+(e.trillFret-e.beat.voice.bar.staff.transpositionPitch).toString()+")";else if(Xr.isAlmostEqualTo(e.harmonicValue,0))this._trillNoteString="";else switch(e.harmonicType){case vt.Artificial:case vt.Pinch:case vt.Tap:case vt.Semi:case vt.Feedback:let n=(r+e.harmonicValue).toString(),i=n.indexOf(".");i>=0&&(n=n.substr(0,i+2)),this._trillNoteString="<"+n+">";break;default:this._trillNoteString="";break}this.isEmpty=!this._noteString,this.isEmpty||(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.tablatureFont,this.noteStringWidth=this.renderer.scoreRenderer.canvas.measureText(this._noteString)*this.scale,this.width=this.noteStringWidth,this.height=this.renderer.scoreRenderer.canvas.font.size,this._trillNoteString&&(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,this._trillNoteStringWidth=3*this.scale+this.renderer.scoreRenderer.canvas.measureText(this._trillNoteString),this.width+=this._trillNoteStringWidth))}paint(e,r,n){if(this.isEmpty)return;let i=this.noteStringWidth+this._trillNoteStringWidth,s=e+this.x+(this.width-i)/2,a=this.renderer.scoreRenderer.canvas.font;this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,n.fillText(this._trillNoteString,s+this.noteStringWidth+3*this.scale,r+this.y),this.renderer.scoreRenderer.canvas.font=a,n.fillText(this._noteString,s,r+this.y)}buildBoundingsLookup(e,r,n){let i=new nN;i.note=this._note,i.noteHeadBounds=new Fs,i.noteHeadBounds.x=r+this.x,i.noteHeadBounds.y=n+this.y-this.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}class Qxe extends Ln{constructor(e,r,n){super(e,r),this._notes=[],this.minStringNote=null,this.beatEffects=new Map,this.notesPerString=new Map,this.noteStringWidth=0,this._isGrace=n}buildBoundingsLookup(e,r,n){for(const i of this._notes)i.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteX(e,r){if(this.notesPerString.has(e.string)){let n=this.notesPerString.get(e.string),i=this.x+n.x;switch(r){case En.Left:break;case En.Center:i+=n.noteStringWidth/2;break;case En.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this.notesPerString.has(e.string)){const n=this.notesPerString.get(e.string);let i=this.y+n.y;switch(r){case gt.Top:case gt.TopWithStem:i-=n.height/2+2*this.scale;break;case gt.Center:break;case gt.Bottom:case gt.BottomWithStem:i+=n.height/2;break}return i}return 0}doLayout(){let e=0,r=0;for(let a=0,o=this._notes.length;a<o;a++){let l=this._notes[a];l.renderer=this.renderer,l.doLayout(),l.width>e&&(e=l.width),l.noteStringWidth>r&&(r=l.noteStringWidth)}this.noteStringWidth=r;let n=this.renderer.resources.tablatureFont.size,i=this.getNoteY(this.minStringNote,gt.Center)+n/2,s=7*this.scale;for(const a of this.beatEffects.values())a.y+=i,a.x+=this.width/2,a.renderer=this.renderer,i+=s,a.doLayout();this.width=e}addNoteGlyph(e,r){this._notes.push(e),this.notesPerString.set(r.string,e),(!this.minStringNote||r.string<this.minStringNote.string)&&(this.minStringNote=r)}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer.resources,s=n.textBaseline;n.textBaseline=Xt.Middle,n.font=this._isGrace?i.graceFont:i.tablatureFont;let a=this._notes,o=this.width;for(let l of a)l.renderer=this.renderer,l.width=o,l.paint(e,r,n);n.textBaseline=s;for(const l of this.beatEffects.values())l.paint(e,r,n)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class Jxe extends Rn{constructor(e,r,n,i){super(e,r,1,hp.getSymbol(i)),this._isVisibleRest=n,this._duration=i}doLayout(){this._isVisibleRest?this.width=hp.getSize(this._duration)*this.scale:this.width=10*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}paint(e,r,n){this._isVisibleRest&&super.paint(e,r,n)}}class Zxe extends oN{constructor(){super(...arguments),this.noteNumbers=null,this.restGlyph=null}getNoteX(e,r){return this.noteNumbers?this.noteNumbers.getNoteX(e,r):0}getNoteY(e,r){return this.noteNumbers?this.noteNumbers.getNoteY(e,r):0}buildBoundingsLookup(e,r,n){this.noteNumbers&&this.noteNumbers.buildBoundingsLookup(e,r+this.x,n+this.y)}doLayout(){let e=this.renderer;if(this.container.beat.isRest){let n=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),i=e.getTabY(n);const s=new Jxe(0,i,e.showRests,this.container.beat.duration);if(this.restGlyph=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s),this.container.beat.dots>0&&e.showRests){this.addGlyph(new Os(0,0,5*this.scale));for(let a=0;a<this.container.beat.dots;a++)this.addGlyph(new lP(0,i,1.5*this.scale))}}else{let n=this.renderer.settings.notation.smallGraceTabNotes&&this.container.beat.graceType!==Tt.None;const i=new Qxe(0,0,n);this.noteNumbers=i,i.beat=this.container.beat,i.beamingHelper=this.beamingHelper;for(let s of this.container.beat.notes)s.isVisible&&this.createNoteGlyph(s);if(this.addGlyph(i),this.container.beat.hasWhammyBar){let s=new Ta(this.container.beat);s.renderer=this.renderer,s.doLayout(),this.container.ties.push(s)}if(this.container.beat.isTremolo&&!this.noteNumbers.beatEffects.has("tremolo")){let s=0,a=this.container.beat.tremoloSpeed;switch(a){case le.ThirtySecond:s=10;break;case le.Sixteenth:s=5;break;case le.Eighth:s=0;break}this.noteNumbers.beatEffects.set("tremolo",new eS(5*this.scale,s*this.scale,a))}if(this.container.beat.dots>0&&e.settings.notation.rhythmMode!==bu.Hidden){this.addGlyph(new Os(0,0,5*this.scale));for(let s=0;s<this.container.beat.dots;s++)this.addGlyph(new lP(0,e.lineOffset*e.bar.staff.tuning.length+e.settings.notation.rhythmHeight*e.scale,1.5*this.scale))}}if(!this.glyphs)return;let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r,this.computedWidth=r,this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteNumbers.x+this.noteNumbers.noteStringWidth/2}updateBeamingHelper(){this.container.beat.isRest?this.restGlyph.updateBeamingHelper(this.container.x+this.x):this.noteNumbers.updateBeamingHelper(this.container.x+this.x)}createNoteGlyph(e){let r=this.renderer,n=new Kxe(0,0,e),i=e.beat.voice.bar.staff.tuning.length-e.string;n.y=r.getTabY(i),n.renderer=this.renderer,n.doLayout(),this.noteNumbers.addNoteGlyph(n,e);let s=n.y-n.height/2,a=s+n.height;this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}}class e1e extends Ln{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=10*this.scale}paint(e,r,n){let i=this.renderer,s=r+this.x+i.getNoteY(this._beat.maxStringNote,gt.Top),a=r+this.y+i.getNoteY(this._beat.minStringNote,gt.Bottom),o=e+this.x+this.width/2|0,l=8*this.scale;if(this._beat.brushType!==Jr.None){if(this._beat.brushType===Jr.BrushUp||this._beat.brushType===Jr.BrushDown)n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke();else if(this._beat.brushType===Jr.ArpeggioUp){let u=new fh(0,0,pr.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let c=s,h=a-l;u.width=Math.abs(h-c),n.beginRotate(e+this.x+4*this.scale,h,-90),u.paint(0,-u.height/2,n),n.endRotate()}else if(this._beat.brushType===Jr.ArpeggioDown){let u=new fh(0,0,pr.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let c=s+l,h=a;u.width=Math.abs(h-c),n.beginRotate(e+this.x+4*this.scale,c,90),u.paint(0,-u.height/2,n),n.endRotate()}this._beat.brushType===Jr.BrushUp||this._beat.brushType===Jr.ArpeggioUp?(n.beginPath(),n.moveTo(o,a),n.lineTo(o+l/2,a-l),n.lineTo(o-l/2,a-l),n.closePath(),n.fill()):(n.beginPath(),n.moveTo(o,s),n.lineTo(o+l/2,s+l),n.lineTo(o-l/2,s+l),n.closePath(),n.fill())}}}class t1e extends J1{doLayout(){this.container.beat.brushType!==Jr.None&&!this.container.beat.isRest&&(this.addGlyph(new e1e(this.container.beat)),this.addGlyph(new Os(0,0,4*this.scale))),super.doLayout()}constructor(){super()}}class r1e extends Ln{constructor(e,r){super(e,r)}doLayout(){this.width=28*this.scale}paint(e,r,n){let i=this.renderer.bar.staff.tuning.length,s=i<=4?R.FourStringTabClef:R.SixStringTabClef,a=i<=4?i/4.5:i/6.5;n.fillMusicFontSymbol(e+this.x+5*this.scale,r+this.y,a*this.scale,s,!1)}}class n1e extends wW{get commonScale(){return 1}get numberScale(){return this.renderer.bar.staff.tuning.length<=4?Kt.GraceScale:1}}class wu extends bn{constructor(e,r){super(e,r),this._firstLineY=0,this._tupletSize=0,this.showTimeSignature=!1,this.showRests=!1,this.showTiedNotes=!1,this._startSpacing=!1}get lineOffset(){return(wu.TabLineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale;this.topPadding=r,this.bottomPadding=r,this.height=this.lineOffset*(this.bar.staff.tuning.length-1)+r*2,this.settings.notation.rhythmMode!==bu.Hidden&&(this.height+=this.settings.notation.rhythmHeight*this.settings.display.scale,this.bottomPadding+=this.settings.notation.rhythmHeight*this.settings.display.scale),this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.resources;this._firstLineY=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}doLayout(){if(this.updateFirstLineY(),super.doLayout(),this.settings.notation.rhythmMode!==bu.Hidden){let e=!1;for(let r of this.bar.voices)if(this.hasVoiceContainer(r)&&this.getVoiceContainer(r).tupletGroups.length>0){e=!0;break}e&&(this._tupletSize=this.resources.effectFont.size*.8,this.registerOverflowBottom(this._tupletSize))}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new yW(0,0,1.5,3)),this.isFirstOfLine){let e=(this.bar.staff.tuning.length-1)/2;this.addPreBeatGlyph(new r1e(5*this.scale,this.getTabY(e)))}this.showTimeSignature&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new fW(0,this.getTabHeight(-.5),this.bar.index+1))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new Os(0,0,2*this.scale)),this._startSpacing=!0)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new Os(0,0,5*this.scale));const e=(this.bar.staff.tuning.length+1)/2-1;this.addPreBeatGlyph(new n1e(0,this.getTabY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new qxe(i,this.getVoiceContainer(e));s.preNotes=new t1e,s.onNotes=new Zxe,this.addBeatGlyph(s)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new gW(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new mW(0,this.getTabY(-1),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new pW(0,0))}getTabY(e){return this._firstLineY+this.getTabHeight(e)}getTabHeight(e){return this.lineOffset*e}get middleYPosition(){return this.getTabY(this.bar.staff.tuning.length-1)}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;let s=this.scale,a=[];for(let o=0,l=this.bar.staff.tuning.length;o<l;o++)a.push([]);for(let o of this.bar.voices)if(this.hasVoiceContainer(o)){let l=this.getVoiceContainer(o);for(let u of l.beatGlyphs){let c=u.onNotes,h=c.noteNumbers;if(h)for(const[f,g]of h.notesPerString)g.isEmpty||a[this.bar.staff.tuning.length-f].push(new Float32Array([l.x+u.x+c.x+h.x,h.width+s]))}}for(let o of a)o.sort((l,u)=>l[0]>u[0]?1:l[0]<u[0]?-1:0);for(let o=0,l=this.bar.staff.tuning.length;o<l;o++){const u=this.getTabY(o);let c=0;for(let h of a[o])n.fillRect(e+this.x+c,r+this.y+u|0,h[0]-c,this.scale*bn.StaffLineThickness),c=h[0]+h[1];n.fillRect(e+this.x+c,r+this.y+u|0,this.width-c,this.scale*bn.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}paint(e,r,n){super.paint(e,r,n),this.settings.notation.rhythmMode!==bu.Hidden&&(this.paintBeams(e,r,n),this.paintTuplets(e,r,n))}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let u=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,u)}}}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1||this.settings.notation.rhythmMode===bu.ShowWithBeams?this.paintFooter(e,r,n,i):this.paintBar(e,r,n,i))}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s];if(i.hasBeatLineX(o)){let l=i.getBeatLineX(o),u=r+this.y,c=r+this.y+this.height-this._tupletSize,h=this.getOnNotesGlyphForBeat(o);!h.noteNumbers||o.duration===le.Half?u+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:u+=h.noteNumbers.getNoteY(h.noteNumbers.minStringNote,gt.Bottom)+this.lineOffset/2,this.paintBeamingStem(o,r+this.y,e+this.x+l,u,c,n);let f=6*this.scale,g=-6*this.scale,m=3*this.scale,y=Xr.getIndex(o.duration)-2,b=c;for(let x=0;x<y;x++){let v=0,w=0,P=0,T=0,_=b+x*g;if(i.beats.length===1)v=l,w=l+f,P=_,T=_,wu.paintSingleBar(n,e+this.x+v,P,e+this.x+w,T,m);else if(s<i.beats.length-1){if(na.isFullBarJoin(o,i.beats[s+1],x))v=l,w=i.getBeatLineX(i.beats[s+1]);else if(s===0||!na.isFullBarJoin(i.beats[s-1],o,x))v=l,w=v+f;else continue;P=_,T=_,wu.paintSingleBar(n,e+this.x+v,P,e+this.x+w,T,m)}else s>0&&!na.isFullBarJoin(o,i.beats[s-1],x)&&(v=l-f,w=l,P=_,T=_,wu.paintSingleBar(n,e+this.x+v,P,e+this.x+w,T,m))}}}}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=kt.Center,n.textBaseline=Xt.Middle;let l,u=i.beats[0].tupletNumerator,c=i.beats[0].tupletDenominator;if(u===2&&c===3?l="2":u===3&&c===2?l="3":u===4&&c===6?l="4":u===5&&c===4?l="5":u===6&&c===4?l="6":u===7&&c===4?l="7":u===9&&c===8?l="9":u===10&&c===8?l="10":u===11&&c===8?l="11":u===12&&c===8?l="12":u===13&&c===8?l="13":l=u+":"+c,i.beats.length===1||!i.isFull)for(let h=0,f=i.beats.length;h<f;h++){let g=i.beats[h],m=this.helpers.beamHelperLookup[i.voice.index].get(g.index);if(!m)continue;let y=m.getBeatLineX(g),b=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5;n.font=s.effectFont,n.fillText(l,e+this.x+y,b)}else{let h=i.beats[0],f=i.beats[i.beats.length-1],g=this.helpers.beamHelperLookup[i.voice.index].get(h.index),m=this.helpers.beamHelperLookup[i.voice.index].get(f.index);if(g&&m){let y=g.getBeatLineX(h),b=m.getBeatLineX(f);n.font=s.effectFont;let x=n.measureText(l),v=3*this.scale,w=(y+b)/2,P=w-x/2-v,T=w+x/2+v,_=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5,M=-s.effectFont.size*.25,E=-5*this.scale;n.beginPath(),n.moveTo(e+this.x+y,_-M|0),n.lineTo(e+this.x+y,_-M-E|0),n.lineTo(e+this.x+P,_-M-E|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+T,_-M-E|0),n.lineTo(e+this.x+b,_-M-E|0),n.lineTo(e+this.x+b,_-M|0),n.stroke(),n.fillText(l,e+this.x+w,_-M-E)}}n.textAlign=a,n.textBaseline=o}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s-a),e.lineTo(r,n-a),e.closePath(),e.fill()}paintBeamingStem(e,r,n,i,s,a){a.beginPath();let o=[];this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.has(e.displayStart)&&(o=this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.get(e.displayStart).slots.slice(),o.sort((u,c)=>u.topY-c.topY));let l=s;for(;l>i;){a.moveTo(n,l);let u=i;if(o.length>0&&o[o.length-1].bottomY>u){const c=o.pop();u=r+c.bottomY,a.lineTo(n,u),l=r+c.topY}else{a.lineTo(n,u);break}}a.stroke()}paintFooter(e,r,n,i){for(let s of i.beats){if(s.graceType!==Tt.None||s.duration===le.Whole||s.duration===le.DoubleWhole||s.duration===le.QuadrupleWhole)return;let a=i.getBeatLineX(s),o=r+this.y,l=r+this.y+this.height-this._tupletSize,u=this.getOnNotesGlyphForBeat(s);if(!u.noteNumbers||s.duration===le.Half?o+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:o+=u.noteNumbers.getNoteY(u.noteNumbers.minStringNote,gt.Bottom),this.paintBeamingStem(s,r+this.y,e+this.x+a,o,l,n),s.duration>le.Quarter){let c=new Fp(0,0,s.duration,He.Down,!1);c.renderer=this,c.doLayout(),c.paint(e+this.x+a,l,n)}}}}wu.StaffId="tab";wu.TabLineSpacing=10;class ZC extends aN{get staffId(){return wu.StaffId}constructor(e,r,n){super(),this._showTimeSignature=e,this._showRests=r,this._showTiedNotes=n,this.hideOnPercussionTrack=!0}canCreate(e,r){return r.tuning.length>0&&super.canCreate(e,r)}create(e,r){let n=new wu(e,r);return n.showRests=this._showRests,n.showTimeSignature=this._showTimeSignature,n.showTiedNotes=this._showTiedNotes,n}}class gy extends ml{constructor(){super(0,0)}doLayout(){super.doLayout();const e=this.renderer.resources.effectFont;this.height=e.size+gy.Padding*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=kt.Center,n.fillText("T",e+this.x,r+this.y+n.font.size/2),n.textAlign=s,n.strokeCircle(e+this.x,r+this.y+n.font.size/2+(gy.Padding-1)*this.scale,n.font.size/1.6)}}gy.Padding=4;class Kb extends _h{get notationElement(){return Nt.EffectTap}get sizingMode(){return ur.SingleOnBeat}shouldCreateGlyphForNote(e){return e.isLeftHandTapped}createNewGlyph(e,r){return new gy}}class ju{constructor(){this.noteRange=1,this.x=0,this.y=0}}var Vd;(function(t){t[t.None=0]="None",t[t.Rectangle=1]="Rectangle",t[t.Ellipse=2]="Ellipse",t[t.Circle=3]="Circle"})(Vd||(Vd={}));class e_ extends ju{constructor(){super(...arguments),this.align=kt.Left,this.frame=Vd.None,this.text="",this.fontFace="",this.weight=0,this.height=0}}class uA extends ju{constructor(){super(...arguments),this.chord=new Gc}}class cA extends ju{}class dA extends ju{}class i1e extends ju{constructor(){super(...arguments),this.number=0}}class hA extends ju{constructor(){super(...arguments),this.decrescendo=!1}}class t_ extends ju{constructor(){super(...arguments),this.allNumbers=!1,this.firstNumber=0,this.lastNumber=0}}class s1e extends ju{constructor(){super(...arguments),this.octave=1}}class a1e extends ju{}class o1e{constructor(){this.defaultClef=zt.G2,this.description="",this.percussion=!1,this.instrument=0,this.volume=0,this.transpose=0,this.index=0}}class l1e{constructor(){this.from=0,this.to=0,this.curly=!1}}class u1e{constructor(){this.currentBarIndex=-1,this.currentBarComplete=!0,this.currentBarDuration=0,this.currentPosition=0,this.voiceStemDir=null,this.repeatCount=0,this.repeatEnd=null}}class Hw{constructor(){this._trackChannel=0,this._beamingMode=nl.Auto,this._isFirstSystem=!0,this._staffLookup=new Map,this._brackets=[],this._staffLayoutLookup=new Map,this._staffLayouts=[],this._timeSignature=new Lu,this._voiceStates=new Map}parseXml(e,r){this._galleryObjects=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._voiceCounts=new Map,this._slurs=new Map,this._crescendo=new Map,this._isFirstSystem=!0;let n=new ZM;try{n.parse(e)}catch(i){throw new Xn("Could not parse XML",i)}this.parseDom(n),this.consolidate(),this.score.finish(r)}consolidate(){let e=this.score.tempo;for(const r of this.score.tracks){const n=this._voiceCounts.get(r.index);for(const i of r.staves){for(;i.bars.length<this.score.masterBars.length;)this.addNewBar(i);for(const s of i.bars){for(;s.voices.length<n;)s.addVoice(new jl);for(const o of s.voices)if(o.beats.length===0){const l=new Ui;l.isEmpty=!0,o.addBeat(l)}const a=s.masterBar;a.tempoAutomation&&(a.tempoAutomation.value!==e?e=a.tempoAutomation.value:a.tempoAutomation=null)}}}Hw.applyEffectRange(this._slurs,(r,n)=>{n.isLegatoOrigin=!0}),Hw.applyEffectRange(this._crescendo,(r,n)=>{n.crescendo=r.decrescendo?$s.Decrescendo:$s.Crescendo})}static applyEffectRange(e,r){for(const[n,i]of e){const s=i.noteRange;let a=n;for(let o=0;o<s;o++)if(r(i,a),a.index+1<a.voice.beats.length)a=a.voice.beats[a.index+1];else if(a.voice.bar.index+1<a.voice.bar.staff.bars.length)a=a.voice.bar.staff.bars[a.voice.bar.index+1].voices[a.voice.index].beats[0];else break}}parseDom(e){let r=e.firstElement;if(!r)throw new Xn("No valid XML");if(r.localName==="score"){this.score=new Ch,this.score.tempo=120;for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"info":this.parseInfo(n);break;case"layout":this.parseLayout(n);break;case"gallery":this.parseGallery(n);break;case"pageObjects":this.parsePageObjects(n);break;case"systems":this.parseSystems(n);break}}else throw new Xn('Root node of XML was not "score"')}parseLayout(e){for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"staves":this.parseLayoutStaves(s);break;case"brackets":this.parseBrackets(s);break}const r=this._brackets.filter(s=>!!s.curly);r.sort((s,a)=>s.from-a.from);let n=0,i=null;for(let s=0;s<this._staffLayouts.length;s++){const a=this._staffLayouts[s];for(;n<r.length&&s>r[n].to;)n++;i&&n<r.length&&s>r[n].from&&s<=r[n].to?i.ensureStaveCount(i.staves.length+1):(i=new Gl,i.ensureStaveCount(1),i.name=a.description,i.playbackInfo.volume=Math.floor(a.volume/128*16),i.playbackInfo.program=a.instrument,a.percussion?(i.playbackInfo.primaryChannel=9,i.playbackInfo.secondaryChannel=9):(i.playbackInfo.primaryChannel=this._trackChannel++,i.playbackInfo.secondaryChannel=this._trackChannel++),this.score.addTrack(i));const o=i.staves[i.staves.length-1];o.isPercussion=a.percussion,o.transpositionPitch=a.transpose,o.displayTranspositionPitch=0,o.showTablature=!1,this._staffLookup.set(a.index,o)}}parseBrackets(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"bracket":this.parseBracket(r);break}}parseBracket(e){const r=new l1e;r.from=parseInt(e.getAttribute("from")),r.to=parseInt(e.getAttribute("to")),e.attributes.has("curly")&&(r.curly=e.attributes.get("curly")==="true"),this._brackets.push(r)}parseLayoutStaves(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"staffLayout":this.parseStaffLayout(r);break}}parseStaffLayout(e){const r=new o1e;r.description=e.getAttribute("description");for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"notation":n.attributes.has("defaultClef")&&(r.defaultClef=this.parseClef(n.attributes.get("defaultClef")));break;case"sound":n.attributes.has("percussion")&&(r.percussion=n.attributes.get("percussion")==="true"),n.attributes.has("instr")&&(r.instrument=parseInt(n.attributes.get("instr"))),n.attributes.has("volume")&&(r.volume=parseInt(n.attributes.get("volume"))),n.attributes.has("transpose")&&(r.transpose=parseInt(n.attributes.get("transpose")));break}this._staffLayoutLookup.set(r.description,r),r.index=this._staffLayouts.length,this._staffLayouts.push(r)}parseClef(e){switch(e){case"treble":return zt.G2;case"bass":return zt.F4;case"alto":return zt.C4;case"tenor":return zt.C4}return zt.G2}parseClefOttava(e){return e.endsWith("-")?br._8vb:e.endsWith("+")?br._8va:br.Regular}parseSystems(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"system":this.parseSystem(r);break}}parseSystem(e){e.attributes.has("tempo")&&this.score.masterBars.length===0&&(this.score.tempo=parseInt(e.attributes.get("tempo"))),e.getAttribute("beamGrouping")==="0"&&(this._beamingMode=nl.ForceSplitToNext);for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"staves":this.parseStaves(e,r);break}this._isFirstSystem=!1}parseStaves(e,r){let n=this.score.masterBars.length;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"staff":this.parseStaff(e,n,i);break}}parseStaff(e,r,n){const i=n.getAttribute("layout");this._currentStaffLayout=this._staffLayoutLookup.get(i),this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!1,this.parseTime(n.getAttribute("defaultTime"));const s=this._staffLookup.get(this._currentStaffLayout.index);for(;s.bars.length<r;)this.addNewBar(s);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"voices":this.parseVoices(i,s,e,r,a);break}}parseTime(e){switch(e){case"allaBreve":case"C":this._timeSignature.timeSignatureNumerator=2,this._timeSignature.timeSignatureDenominator=2,this._timeSignature.timeSignatureCommon=!0;break;case"longAllaBreve":this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!0;break;default:if(e.indexOf("/")>0){const r=e.split("/");this._timeSignature.timeSignatureNumerator=parseInt(r[0]),this._timeSignature.timeSignatureDenominator=parseInt(r[1]),this._timeSignature.timeSignatureCommon=!1}break}}parseVoices(e,r,n,i,s){let a=0;for(let o of s.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"voice":this.parseVoice(e,r,n,a,i,o),a++;break}}getOrCreateBar(e,r){return r<e.bars.length?e.bars[r]:this.addNewBar(e)}addNewBar(e){let r=new Hu;if(e.bars.length>0?(r.clef=e.bars[e.bars.length-1].clef,r.clefOttava=e.bars[e.bars.length-1].clefOttava):r.clef=this._currentStaffLayout.defaultClef,e.addBar(r),e.bars.length>this.score.masterBars.length){let n=new Lu;this.score.addMasterBar(n),n.index>0&&(n.keySignature=n.previousMasterBar.keySignature,n.keySignatureType=n.previousMasterBar.keySignatureType,n.tripletFeel=n.previousMasterBar.tripletFeel),n.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,n.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,n.timeSignatureCommon=this._timeSignature.timeSignatureCommon}return r}newBar(e,r){this._currentVoiceState.currentBarIndex++,this._currentBar=this.getOrCreateBar(e,this._currentVoiceState.currentBarIndex),this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1),this._currentVoiceState.currentBarComplete=!1,this._currentVoiceState.currentPosition=0,this.ensureVoice(e,r)}parseVoice(e,r,n,i,s,a){const o=e+"_"+i;if(this._currentVoiceState&&!this._currentVoiceState.currentBarComplete&&(this._currentBar.masterBar.isAnacrusis=!0),this._voiceStates.has(o)?(this._currentVoiceState=this._voiceStates.get(o),this._currentBar=this.getOrCreateBar(r,this._currentVoiceState.currentBarIndex),this.ensureVoice(r,i)):(this._currentVoiceState=new u1e,this._currentVoiceState.currentBarIndex=s-1,this._voiceStates.set(o,this._currentVoiceState),this.newBar(r,i)),a.attributes.has("stemDir"))switch(a.attributes.get("stemDir")){case"up":this._currentVoiceState.voiceStemDir=He.Up;break;case"down":this._currentVoiceState.voiceStemDir=He.Down;break;default:this._currentVoiceState.voiceStemDir=null;break}else this._currentVoiceState.voiceStemDir=null;const l=a.findChildElement("noteObjects");if(n.attributes.has("tempo")&&(this._currentBar.masterBar.tempoAutomation=new Wi,this._currentBar.masterBar.tempoAutomation.isLinear=!0,this._currentBar.masterBar.tempoAutomation.type=di.Tempo,this._currentBar.masterBar.tempoAutomation.value=parseInt(n.attributes.get("tempo"))),l){for(let u of l.childNodes)if(u.nodeType===Le.Element)switch(this._currentVoiceState.currentBarComplete&&u.localName!=="barline"&&this.newBar(r,i),u.localName){case"clefSign":this._currentBar.clef=this.parseClef(u.getAttribute("clef")),this._currentBar.clefOttava=this.parseClefOttava(u.getAttribute("clef"));break;case"keySign":this._currentBar.masterBar.keySignature=parseInt(u.getAttribute("fifths"));break;case"timeSign":this.parseTime(u.getAttribute("time")),this._currentBar.masterBar.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,this._currentBar.masterBar.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,this._currentBar.masterBar.timeSignatureCommon=this._timeSignature.timeSignatureCommon,this._currentVoiceState.currentPosition=0,this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1);break;case"barline":switch(u.getAttribute("type")){case"double":this._currentBar.masterBar.isDoubleBar=!0,this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"end":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0);break;case"repEnd":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(u),this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"repBegin":this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0,this._currentVoiceState.repeatEnd=null,this._currentVoiceState.repeatCount=0;break;case"repEndBegin":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(u),this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0;break;case"dashed":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;default:this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break}break;case"chord":let c=new Ui;this.initFromPreviousBeat(c,this._currentVoice),c.beamingMode=this._beamingMode,this._currentVoiceState.voiceStemDir&&(c.preferredBeamDirection=this._currentVoiceState.voiceStemDir),this.parseDuration(this._currentBar,c,u.findChildElement("duration")),c.updateDurations(),this._currentVoiceState.currentPosition+=c.playbackDuration,this._currentVoice.addBeat(c),this.parseChord(c,u),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0);break;case"rest":const h=this.parseRestDurations(this._currentBar,u.findChildElement("duration"));h&&(this.initFromPreviousBeat(h,this._currentVoice),h.updateDurations(),this._currentVoiceState.currentPosition+=h.playbackDuration,this._currentVoice.addBeat(h),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0));break}}}initFromPreviousBeat(e,r){let n=this.getLastBeat(r);n&&(e.dynamics=n.dynamics)}getLastBeat(e){if(e.beats.length>0)return e.beats[e.beats.length-1];if(e.bar.index>0){const r=e.bar.staff.bars[e.bar.index-1];if(e.index<r.voices.length){const n=r.voices[e.index];return this.getLastBeat(n)}}return null}ensureVoice(e,r){for(;this._currentBar.voices.length<r+1;)this._currentBar.addVoice(new jl);(!this._voiceCounts.has(e.track.index)||this._voiceCounts.get(e.track.index)<this._currentBar.voices.length)&&this._voiceCounts.set(e.track.index,this._currentBar.voices.length),this._currentVoice=this._currentBar.voices[r]}parseChord(e,r){const n=new fa;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"stem":switch(i.getAttribute("dir")){case"up":e.preferredBeamDirection=He.Up;break;case"down":e.preferredBeamDirection=He.Down;break}break;case"articulation":switch(i.getAttribute("type")){case"staccato":n.isStaccato=!0;break;case"normalAccent":n.accentuated=qn.Normal;break;case"strongAccent":n.accentuated=qn.Heavy;break}break;case"lyric":this.parseLyric(e,i);break;case"drawObjects":this.parseBeatDrawObject(e,i);break;case"heads":this.parseHeads(e,n,i);break;case"beam":switch(i.getAttribute("group")){case"force":e.beamingMode=nl.ForceMergeWithNext;break;case"divide":e.beamingMode=nl.ForceSplitToNext;break}break}}parseHeads(e,r,n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"head":this.parseHead(e,r,i);break}}parseHead(e,r,n){const i=new fa,s=Xr.parseTuning(n.getAttribute("pitch"));i.octave=s.octave-1,i.tone=s.noteValue,i.isStaccato=r.isStaccato,i.accentuated=r.accentuated,e.addNote(i);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"alter":a.attributes.has("step")&&(i.tone+=parseInt(a.attributes.get("step")));break;case"tie":a.attributes.has("begin")?this._tieStartIds.has(i.id)||(this._tieStartIds.set(i.id,!0),this._tieStarts.push(i)):a.attributes.has("end")&&this._tieStarts.length>0&&!i.isTieDestination&&(i.isTieDestination=!0,i.tieOrigin=this._tieStarts[0],this._tieStarts.splice(0,1),this._tieStartIds.delete(i.id));break}}parseBeatDrawObject(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"drawObj":const i=this.parseDrawObj(n);if(i){if(i instanceof e_)i.fontFace.startsWith("capella")?i.text==="u"?(e.fermata=new QM,e.fermata.type=ul.Medium):i.text==="f"?e.dynamics=Jt.F:i.text==="j"&&(e.dynamics=Jt.MF):this._isFirstSystem&&this.score.title===""&&i.align===kt.Center&&i.height>16&&i.weight>400?this.score.title=i.text:this._isFirstSystem&&this.score.artist===""&&i.align===kt.Center&&i.y<0?this.score.artist=i.text:this._isFirstSystem&&this.score.music===""&&i.align===kt.Right&&i.y<0?this.score.music=i.text:i.text.startsWith("by capella")||(e.text=i.text);else if(!(i instanceof uA))if(i instanceof dA)e.vibrato=pr.Slight;else if(i instanceof hA)e.crescendo=i.decrescendo?$s.Decrescendo:$s.Crescendo,i.noteRange++,this._crescendo.set(e,i);else if(i instanceof cA){const s=i;this._slurs.set(e,s)}else i instanceof t_&&this.applyVolta(i)}break}}parseBarDrawObject(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&n instanceof t_&&this.applyVolta(n);break}}applyVolta(e){if(e.lastNumber>0?(this._currentVoiceState.repeatCount=e.lastNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)):e.firstNumber>0&&(this._currentVoiceState.repeatCount=e.firstNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)),e.lastNumber>0&&e.firstNumber>0){let r=0;for(let n=e.firstNumber;n<=e.lastNumber;n++)r=r|1<<n-1;this._currentBar.masterBar.alternateEndings=r}else e.lastNumber>0?this._currentBar.masterBar.alternateEndings=1<<e.lastNumber-1:e.firstNumber>0&&(this._currentBar.masterBar.alternateEndings=1<<e.firstNumber-1)}parseLyric(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"verse":e.lyrics||(e.lyrics=[]);let i=n.innerText;n.getAttribute("hyphen")==="true"&&(i+="-"),e.lyrics.push(i);break}}parseRestDurations(e,r){const n=r.getAttribute("base");if(n.indexOf("/")!==-1){let s=new Ui;return s.beamingMode=this._beamingMode,this.parseDuration(e,s,r),s}if(parseInt(n)===1){let s=new Ui;return s.beamingMode=this._beamingMode,s.duration=le.Whole,s}else return Fe.warning("Importer","Multi-Bar rests are not supported"),null}parseDurationValue(e){switch(e){case"2/1":return le.DoubleWhole;case"1/1":return le.Whole;case"1/2":return le.Half;case"1/4":return le.Quarter;case"1/8":return le.Eighth;case"1/16":return le.Sixteenth;case"1/32":return le.ThirtySecond;case"1/64":return le.SixtyFourth;case"1/128":return le.OneHundredTwentyEighth;default:return Fe.warning("Importer","Unsupported duration"),le.Quarter}}parseDuration(e,r,n){const i=n.getAttribute("base");r.duration=this.parseDurationValue(i),n.attributes.has("dots")&&(r.dots=parseInt(n.attributes.get("dots")));const s=n.findChildElement("tuplet");if(s){r.tupletNumerator=parseInt(s.getAttribute("count"));const a=s.getAttribute("tripartite")==="true"?3:1,o=s.getAttribute("prolong")==="true"?0:1;let l=0;for(;a*Math.pow(2,l+o)<r.tupletNumerator;)l++;r.tupletDenominator=a*Math.pow(2,l)}}parsePageObjects(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);if(n&&n instanceof e_)switch(n.align){case kt.Center:this.score.title?this.score.subTitle||(this.score.subTitle=r.innerText):this.score.title=r.innerText;break;case kt.Right:this.score.artist||(this.score.artist=r.innerText);break}break}}parseGallery(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&this._galleryObjects.set(r.getAttribute("name"),n);break}}parseDrawObj(e){let r=null,n=1;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"text":r=this.parseText(i);break;case"guitar":r=this.parseGuitar(i);break;case"slur":r=this.parseSlur(i);break;case"wavyLine":r=this.parseWavyLine(i);break;case"bracket":r=this.parseTupletBracket(i);break;case"wedge":r=this.parseWedge(i);break;case"volta":r=this.parseVolta(i);break;case"octaveClef":r=this.parseOctaveClef(i);break;case"trill":r=this.parseTrill(i);break;case"basic":i.attributes.has("noteRange")&&(n=parseInt(i.attributes.get("noteRange")));break}return r&&(r.noteRange=n),r}parseTrill(e){return new a1e}parseOctaveClef(e){const r=new s1e;return e.attributes.has("octave")&&(r.octave=parseInt(e.attributes.get("octave"))),r}parseVolta(e){const r=new t_;return r.allNumbers=e.attributes.get("allNumbers")==="true",e.attributes.has("firstNumber")&&(r.firstNumber=parseInt(e.attributes.get("firstNumber"))),e.attributes.has("lastNumber")&&(r.lastNumber=parseInt(e.attributes.get("lastNumber"))),r}parseWedge(e){const r=new hA;return r.decrescendo=e.attributes.get("decrescendo")==="true",r}parseTupletBracket(e){const r=new i1e;return e.attributes.has("number")&&(r.number=parseInt(e.attributes.get("number"))),r}parseWavyLine(e){return new dA}parseSlur(e){return new cA}parseGuitar(e){const r=new uA,n=e.innerText.trim();for(let i=0;i<n.length;i++)n.charAt(i)==="/"?r.chord.strings.push(0):r.chord.strings.push(parseInt(n.charAt(i)));return r}parseText(e){const r=new e_;switch(e.attributes.has("x")&&(r.x=parseFloat(e.attributes.get("x"))),e.attributes.has("x")&&(r.y=parseFloat(e.attributes.get("y"))),e.getAttribute("align")){case"left":r.align=kt.Left;break;case"center":r.align=kt.Center;break;case"right":r.align=kt.Right;break}switch(e.getAttribute("frame")){case"rectangle":r.frame=Vd.Rectangle;break;case"ellipse":r.frame=Vd.Ellipse;break;case"circle":r.frame=Vd.Circle;break;case"none":r.frame=Vd.None;break}if(e.firstElement){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"font":r.fontFace=n.getAttribute("face"),n.attributes.has("weight")&&(r.weight=parseInt(n.attributes.get("weight"))),n.attributes.has("height")&&(r.height=parseInt(n.attributes.get("height")));break;case"content":r.text=n.innerText;break}}else r.text=e.innerText;return r}parseInfo(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"author":this.score.tab=r.firstChild.innerText;break;case"comment":this.score.notices=r.firstChild.innerText;break}}}class c1e extends Ip{get name(){return"Capella"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading ZIP entries");let e=new Oz(this.data),r,n=null;if(r=e.read(),Fe.debug(this.name,"Zip entries loaded"),r.length>0)for(let i of r)switch(i.fileName){case"score.xml":n=_e.toString(i.data,this.settings.importer.encoding);break}else this.data.reset(),n=_e.toString(this.data.readAll(),this.settings.importer.encoding);if(!n)throw new Xn("No valid capella file");Fe.debug(this.name,"Start Parsing score.xml");try{let i=new Hw;return i.parseXml(n,this.settings),Fe.debug(this.name,"score.xml parsed"),i.score}catch(i){throw new Xn("Failed to parse CapXML",i)}}}class d1e{constructor(e){this._targets=new Set,this._callback=e,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}observe(e){this._targets.add(e)}unobserve(e){this._targets.delete(e)}disconnect(){this._targets.clear()}onWindowResize(){const e=[];for(const r of this._targets)e.push({target:r,contentRect:void 0,borderBoxSize:void 0,contentBoxSize:[],devicePixelContentBoxSize:[]});this._callback(e,this)}}class h1e{constructor(e){this._elements=[];let r=null;const n=this._check.bind(this);this._check=()=>{r||(r=setTimeout(()=>{n(),r=null},100))},this._callback=e,window.addEventListener("resize",this._check,!0),document.addEventListener("scroll",this._check,!0)}observe(e){this._elements.indexOf(e)>=0||(this._elements.push(e),this._check())}unobserve(e){this._elements=this._elements.filter(r=>r!=e)}_check(){const e=[];this._elements.forEach(r=>{const n=r.getBoundingClientRect();n.top+n.height>=0&&n.top<=window.innerHeight&&n.left+n.width>=0&&n.left<=window.innerWidth&&e.push({target:r,isIntersecting:!0})}),e.length&&this._callback(e,this)}}function fA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var f1e=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function pA(t){function e(n){t.error=t.hasError?new f1e(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}class sn{static enable(e,r){sn.alphaSkia=r,sn.initializeMusicFont(sn.alphaSkia.AlphaSkiaTypeface.register(e))}static initializeMusicFont(e){sn.musicFont=e}static registerFont(e,r){const n=sn.alphaSkia.AlphaSkiaTypeface.register(e.buffer);r||(r=fr.withFamilyList([n.familyName],12,n.isItalic?vn.Italic:vn.Plain,n.isBold?ta.Bold:ta.Regular));for(const i of r.families)this.customTypeFaces.set(sn.customTypefaceKey(i,r.isBold,r.isItalic),n);return r}static customTypefaceKey(e,r,n){return e.toLowerCase()+"_"+r+"_"+n}getTypeFace(){if(this._typeFaceCache!=this.font.toCssString(this.settings.display.scale)){if(this._typeFaceIsSystem){const r={stack:[],error:void 0,hasError:!1};try{const n=fA(r,this._typeFace,!1)}catch(n){r.error=n,r.hasError=!0}finally{pA(r)}}for(const r of this.font.families){var e=sn.customTypefaceKey(r,this.font.isBold,this.font.isItalic);sn.customTypeFaces.has(e)?(this._typeFaceIsSystem=!1,this._typeFace=sn.customTypeFaces.get(e)):(this._typeFaceIsSystem=!0,this._typeFace=sn.alphaSkia.AlphaSkiaTypeface.create(r,this.font.isBold,this.font.isItalic))}this._typeFaceCache=this.font.toCssString(this.settings.display.scale)}return this._typeFace}constructor(){this._color=new fn(0,0,0,0),this._lineWidth=0,this._typeFaceCache="",this._typeFaceIsSystem=!1,this._typeFace=null,this.font=new fr("Arial",10,vn.Plain),this.textAlign=kt.Left,this.textBaseline=Xt.Top,this._canvas=new sn.alphaSkia.AlphaSkiaCanvas,this.color=new fn(0,0,0,255)}destroy(){const e={stack:[],error:void 0,hasError:!1};try{const r=fA(e,this._canvas,!1)}catch(r){e.error=r,e.hasError=!0}finally{pA(e)}}onRenderFinished(){return null}beginRender(e,r){this._canvas.beginRender(e,r,Ue.HighDpiFactor)}endRender(){return this._canvas.endRender()}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._canvas.color=sn.alphaSkia.AlphaSkiaCanvas.rgbaToColor(e.r,e.g,e.b,e.a))}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._canvas.lineWidth=e}fillRect(e,r,n,i){n>0&&this._canvas.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._canvas.strokeRect(e|0,r|0,n,i)}beginPath(){this._canvas.beginPath()}closePath(){this._canvas.closePath()}moveTo(e,r){this._canvas.moveTo(e,r)}lineTo(e,r){this._canvas.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._canvas.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._canvas.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._canvas.fillCircle(e,r,n)}strokeCircle(e,r,n){this._canvas.strokeCircle(e,r,n)}fill(){this._canvas.fill()}stroke(){this._canvas.stroke()}beginGroup(e){}endGroup(){}fillText(e,r,n){if(e.length==0)return;let i=sn.alphaSkia.AlphaSkiaTextAlign.Left;switch(this.textAlign){case kt.Left:i=sn.alphaSkia.AlphaSkiaTextAlign.Left;break;case kt.Center:i=sn.alphaSkia.AlphaSkiaTextAlign.Center;break;case kt.Right:i=sn.alphaSkia.AlphaSkiaTextAlign.Right;break}let s=sn.alphaSkia.AlphaSkiaTextBaseline.Top;switch(this.textBaseline){case Xt.Top:s=sn.alphaSkia.AlphaSkiaTextBaseline.Top;break;case Xt.Middle:s=sn.alphaSkia.AlphaSkiaTextBaseline.Middle;break;case Xt.Bottom:s=sn.alphaSkia.AlphaSkiaTextBaseline.Bottom;break}this._canvas.fillText(e,this.getTypeFace(),this.font.size*this.settings.display.scale,r,n,i,s)}measureText(e){return this._canvas.measureText(e,this.getTypeFace(),this.font.size*this.settings.display.scale)}fillMusicFontSymbol(e,r,n,i,s){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==R.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this._canvas.fillText(i,sn.musicFont,Ue.MusicFontSize*this.settings.display.scale*n,e,r,s?sn.alphaSkia.AlphaSkiaTextAlign.Center:sn.alphaSkia.AlphaSkiaTextAlign.Left,sn.alphaSkia.AlphaSkiaTextBaseline.Alphabetic)}beginRotate(e,r,n){this._canvas.beginRotate(e,r,n)}endRotate(){this._canvas.endRotate()}}sn.musicFont=null;sn.customTypeFaces=new Map;class gA{constructor(e,r){this.vertical=e,this.createLayout=r}}class r_{constructor(e,r){this.supportsWorkers=e,this.createCanvas=r}}class Ue{static createStyleElement(e,r){let n=e.getElementById("alphaTabStyle");if(!n){if(!r){Fe.error("AlphaTab","Font directory could not be detected, cannot create style element");return}n=e.createElement("style"),n.id="alphaTabStyle";let i=`
            @font-face {
                font-family: 'alphaTab';
                 src: url('${r}Bravura.eot');
                 src: url('${r}Bravura.eot?#iefix') format('embedded-opentype')
                      , url('${r}Bravura.woff') format('woff')
                      , url('${r}Bravura.otf') format('opentype')
                      , url('${r}Bravura.svg#Bravura') format('svg');
                 font-weight: normal;
                 font-style: normal;
            }
            .at-surface * {
                cursor: default;
                vertical-align: top;
                overflow: visible;
            }
            .at-surface-svg text {
                dominant-baseline: central;
            }             
            .at {
                 font-family: 'alphaTab';
                 speak: none;
                 font-style: normal;
                 font-weight: normal;
                 font-variant: normal;
                 text-transform: none;
                 line-height: 1;
                 line-height: 1;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
                 font-size: ${Ue.MusicFontSize}px;
                 overflow: visible !important;
            }`;n.innerHTML=i,e.getElementsByTagName("head").item(0).appendChild(n),Ue.bravuraFontChecker.checkForFontAvailability()}}static get globalThis(){if(Ue._globalThis===void 0){try{Ue._globalThis=globalThis}catch{}typeof Ue._globalThis>"u"&&(Ue._globalThis=self),typeof Ue._globalThis>"u"&&(Ue._globalThis=global),typeof Ue._globalThis>"u"&&(Ue._globalThis=window),typeof Ue._globalThis>"u"&&(Ue._globalThis=Function("return this")())}return this._globalThis}static get isRunningInWorker(){return"WorkerGlobalScope"in Ue.globalThis}static get isRunningInAudioWorklet(){return"AudioWorkletGlobalScope"in Ue.globalThis}static throttle(e,r){let n=0;return()=>{Ue.globalThis.clearTimeout(n),n=Ue.globalThis.setTimeout(e,r)}}static detectScriptFile(){if(!Ue.isRunningInWorker&&Ue.globalThis.ALPHATAB_ROOT){let e=Ue.globalThis.ALPHATAB_ROOT;return e=Ue.ensureFullUrl(e),e=Ue.appendScriptName(e),e}try{const e=import.meta.url;if(e&&e.indexOf("file://")===-1)return e}catch{}return"document"in Ue.globalThis&&document.currentScript?document.currentScript.src:null}static ensureFullUrl(e){var r,n,i;if(!e)return"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("file")){let s="",a=Ue.globalThis.location;if(s+=(r=a.protocol)==null?void 0:r.toString(),s+="//",a.hostname&&(s+=(n=a.hostname)==null?void 0:n.toString()),a.port&&(s+=":",s+=(i=a.port)==null?void 0:i.toString()),!e.startsWith("/")){let o=a.pathname.split("/").slice(0,-1).join("/");o.length>0&&(o.startsWith("/")||(s+="/"),s+=o==null?void 0:o.toString())}return e.startsWith("/")||(s+="/"),s+=e==null?void 0:e.toString(),s}return e}static appendScriptName(e){return e&&!e.endsWith(".js")&&(e.endsWith("/")||(e+="/"),e+="alphaTab.js"),e}static detectFontDirectory(){if(!Ue.isRunningInWorker&&Ue.globalThis.ALPHATAB_FONT)return Ue.ensureFullUrl(Ue.globalThis.ALPHATAB_FONT);const e=Ue.scriptFile;if(e){let r=e.lastIndexOf("/");if(r>=0)return e.substr(0,r)+"/font/"}return null}static registerJQueryPlugin(){if(!Ue.isRunningInWorker&&Ue.globalThis&&"jQuery"in Ue.globalThis){let e=Ue.globalThis.jQuery,r=new XF;e.fn.alphaTab=function(n){const i=Array.prototype.slice.call(arguments,1);return this.length===1?r.exec(this[0],n,i):this.each((s,a)=>{r.exec(a,n,i)})},e.alphaTab={restore:XF.restore},e.fn.alphaTab.fn=r}}static getRenderEngineFactory(e){return!e||!Ue.renderEngines.has(e)?Ue.renderEngines.get("default"):Ue.renderEngines.get(e)}static getLayoutEngineFactory(e){return!e||!Ue.layoutEngines.has(e)?Ue.layoutEngines.get(Tu.Page):Ue.layoutEngines.get(e)}static buildImporters(){return[new Bl,new Rwe,new Nwe,new Dwe,new c1e,new us]}static createDefaultRenderEngines(){const e=new Map;return e.set("svg",new r_(!0,()=>new cxe)),e.set("default",e.get("svg")),e.set("skia",new r_(!1,()=>new sn)),Ue.createPlatformSpecificRenderEngines(e),e}static enableAlphaSkia(e,r){sn.enable(e,r)}static registerAlphaSkiaCustomFont(e,r){return sn.registerFont(e,r)}static createPlatformSpecificRenderEngines(e){e.set("html5",new r_(!1,()=>new jwe))}static createDefaultStaveProfiles(){const e=new Map;e.set(ea.ScoreTab,[new dc("score-effects",[new KC,new JC,new jC,new QC,new WC,new UC,new rA,new jb,new Hb(!0),new Yb,new Ub,new Xb,new Gb,new Kb,new zC]),new oA,new dc("tab-effects",[new JF,new Hb(!1),new ZF,new Wb,new jb,new Yb,new Ub,new Xb,new Gb,new tA,new HC,new Sa(vt.Natural),new Sa(vt.Artificial),new Sa(vt.Pinch),new Sa(vt.Tap),new Sa(vt.Semi),new Sa(vt.Feedback),new GC,new QF,new eA,new YC,new qC,new XC,new Kb]),new ZC(!1,!1,!1)]),e.set(ea.Score,[new dc("score-effects",[new KC,new JC,new jC,new QC,new WC,new UC,new rA,new jb,new Hb(!0),new Yb,new Ub,new Xb,new Gb,new HC,new GC,new YC,new qC,new XC,new Kb,new zC]),new oA,new dc("score-bottom-effects",[new JF,new Hb(!1),new ZF,new Wb])]);let r=[new KC,new JC,new jC,new QC,new WC,new UC,new jb,new Yb,new Ub,new Xb,new Gb,new tA,new HC,new Sa(vt.Artificial),new Sa(vt.Pinch),new Sa(vt.Tap),new Sa(vt.Semi),new Sa(vt.Feedback),new GC,new QF,new eA,new YC,new qC,new XC,new Kb,new zC];return e.set(ea.Tab,[new dc("tab-effects",r),new ZC(!0,!0,!0),new dc("tab-bottom-effects",[new Wb])]),e.set(ea.TabMixed,[new dc("tab-effects",r),new ZC(!1,!1,!1),new dc("tab-bottom-effects",[new Wb])]),e}static createDefaultLayoutEngines(){const e=new Map;return e.set(Tu.Page,new gA(!0,r=>new u0(r))),e.set(Tu.Horizontal,new gA(!1,r=>new l0(r))),e}static initializeMain(e,r){Ue.isRunningInWorker||Ue.isRunningInAudioWorklet||((Ue.webPlatform===Ma.Browser||Ue.webPlatform===Ma.BrowserModule)&&(Ue.registerJQueryPlugin(),Ue.HighDpiFactor=window.devicePixelRatio,"ResizeObserver"in Ue.globalThis||(Ue.globalThis.ResizeObserver=d1e),"IntersectionObserver"in Ue.globalThis||(Ue.globalThis.IntersectionObserver=h1e),"replaceChildren"in Element.prototype||(Element.prototype.replaceChildren=function(...n){this.innerHTML="",this.append(...n)},Document.prototype.replaceChildren=Element.prototype.replaceChildren,DocumentFragment.prototype.replaceChildren=Element.prototype.replaceChildren),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(n,i){return this.replace(new RegExp(n,"g"),i)})),Ue.createWebWorker=e,Ue.createAudioWorklet=r)}static get alphaTabWorker(){return this.globalThis.Worker}static initializeWorker(){if(!Ue.isRunningInWorker)throw new _i(Ci.General,"Not running in worker, cannot run worker initialization");iN.init(),rN.init(),Ue.createWebWorker=e=>{throw new _i(Ci.General,"Nested workers are not supported")}}static initializeAudioWorklet(){if(!Ue.isRunningInAudioWorklet)throw new _i(Ci.General,"Not running in audio worklet, cannot run worklet initialization");cy.init()}static detectWebPack(){try{if(typeof __webpack_require__=="function")return!0}catch{}return!1}static detectVite(){try{if(typeof __BASE__=="string")return!0}catch{}return!1}static detectWebPlatform(){try{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return Ma.NodeJs}catch{}try{const e=import.meta.url;if(e&&typeof e=="string"&&!e.startsWith("file://"))return Ma.BrowserModule}catch{}return Ma.Browser}}Ue.MusicFontSize=34;Ue.HighDpiFactor=1;Ue._globalThis=void 0;Ue.webPlatform=Ue.detectWebPlatform();Ue.isWebPackBundled=Ue.detectWebPack();Ue.isViteBundled=Ue.detectVite();Ue.scriptFile=Ue.detectScriptFile();Ue.fontDirectory=Ue.detectFontDirectory();Ue.bravuraFontChecker=new lW(["alphaTab"]);Ue.renderEngines=Ue.createDefaultRenderEngines();Ue.layoutEngines=Ue.createDefaultLayoutEngines();Ue.staveProfiles=Ue.createDefaultStaveProfiles();class xW{constructor(){this.scriptFile=null,this.fontDirectory=null,this.file=null,this.tex=!1,this.tracks=null,this.enableLazyLoading=!0,this.engine="default",this.logLevel=el.Info,this.useWorkers=!0,this.includeNoteBounds=!1,this.scriptFile=Ue.scriptFile,this.fontDirectory=Ue.fontDirectory}}var Ae;(function(t){t[t.SteelGuitar=1]="SteelGuitar",t[t.AcousticGuitar=2]="AcousticGuitar",t[t.TwelveStringGuitar=3]="TwelveStringGuitar",t[t.ElectricGuitar=4]="ElectricGuitar",t[t.Bass=5]="Bass",t[t.ClassicalGuitar=23]="ClassicalGuitar",t[t.UprightBass=6]="UprightBass",t[t.Ukulele=7]="Ukulele",t[t.Banjo=8]="Banjo",t[t.Mandolin=9]="Mandolin",t[t.Piano=10]="Piano",t[t.Synth=12]="Synth",t[t.Strings=11]="Strings",t[t.Brass=13]="Brass",t[t.Reed=14]="Reed",t[t.Woodwind=15]="Woodwind",t[t.Vocal=16]="Vocal",t[t.PitchedIdiophone=17]="PitchedIdiophone",t[t.Fx=21]="Fx",t[t.PercussionKit=18]="PercussionKit",t[t.Idiophone=19]="Idiophone",t[t.Membraphone=20]="Membraphone"})(Ae||(Ae={}));class Ve{constructor(e,r,n=null){if(this.icon=Ae.Piano,this.icon=e,this.instrumentSetName=r,n)this.instrumentSetType=n;else{const i=r.split(" ");i[0]=i[0].substr(0,1).toLowerCase()+i[0].substr(1),this.instrumentSetType=i.join("")}}}new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Harpsichord"),new Ve(Ae.Piano,"Harpsichord"),new Ve(Ae.PitchedIdiophone,"Celesta"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.ClassicalGuitar,"Nylon Guitar"),new Ve(Ae.SteelGuitar,"Steel Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.Bass,"Acoustic Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Acoustic Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Synth,"Synth Bass"),new Ve(Ae.Synth,"Synth Bass"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Viola"),new Ve(Ae.Strings,"Cello"),new Ve(Ae.Strings,"Contrabass"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Piano,"Harp"),new Ve(Ae.Membraphone,"Timpani"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trombone"),new Ve(Ae.Brass,"Tuba"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"French Horn"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Oboe"),new Ve(Ae.Reed,"English Horn"),new Ve(Ae.Reed,"Bassoon"),new Ve(Ae.Reed,"Clarinet"),new Ve(Ae.Reed,"Piccolo"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Trumpet"),new Ve(Ae.ElectricGuitar,"Banjo"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.Ukulele,"Ukulele"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.Reed,"Bassoon"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.Idiophone,"Celesta"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.Idiophone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Idiophone,"Celesta"),new Ve(Ae.Fx,"Steel Guitar"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Timpani");new Ve(Ae.PercussionKit,"Drums","drumKit");class Qd{static buildCrc32Lookup(){const r=new Uint32Array(256);for(let n=0;n<r.length;n++){let i=n;for(let s=0;s<8;s++)i=(i&1)===1?i>>>1^3988292384:i>>>1;r[n]=i}return r}get value(){return~this._checkValue}constructor(){this._checkValue=Qd.CrcInit,this.reset()}update(e,r,n){for(let i=0;i<n;i++)this._checkValue=Qd.Crc32Lookup[(this._checkValue^e[r+i])&255]^this._checkValue>>>8}reset(){this._checkValue=Qd.CrcInit}}Qd.Crc32Lookup=Qd.buildCrc32Lookup();Qd.CrcInit=4294967295;class xn{}xn.MAX_WBITS=15;xn.WSIZE=1<<xn.MAX_WBITS;xn.WMASK=xn.WSIZE-1;xn.MIN_MATCH=3;xn.MAX_MATCH=258;xn.DEFAULT_MEM_LEVEL=8;xn.PENDING_BUF_SIZE=1<<xn.DEFAULT_MEM_LEVEL+8;xn.HASH_BITS=xn.DEFAULT_MEM_LEVEL+7;xn.HASH_SIZE=1<<xn.HASH_BITS;xn.HASH_SHIFT=(xn.HASH_BITS+xn.MIN_MATCH-1)/xn.MIN_MATCH;xn.HASH_MASK=xn.HASH_SIZE-1;xn.MIN_LOOKAHEAD=xn.MAX_MATCH+xn.MIN_MATCH+1;xn.MAX_DIST=xn.WSIZE-xn.MIN_LOOKAHEAD;class Pa{constructor(e,r,n,i){this.length=null,this.numCodes=0,this.codes=null,this.huffman=e,this.minNumCodes=n,this.maxLength=i,this.freqs=new Int16Array(r),this.bitLengthCounts=new Int32Array(i)}reset(){for(let e=0;e<this.freqs.length;e++)this.freqs[e]=0;this.codes=null,this.length=null}buildTree(){let e=this.freqs.length,r=new Int32Array(e),n=0,i=0;for(let u=0;u<e;u++){let c=this.freqs[u];if(c!==0){let h=n++;for(;h>0;){let f=Math.floor((h-1)/2);if(this.freqs[r[f]]>c)r[h]=r[f],h=f;else break}r[h]=u,i=u}}for(;n<2;){let u=i<2?++i:0;r[n++]=u}this.numCodes=Math.max(i+1,this.minNumCodes);let s=n,a=new Int32Array(4*n-2),o=new Int32Array(2*n-1),l=s;for(let u=0;u<n;u++){let c=r[u];a[2*u]=c,a[2*u+1]=-1,o[u]=this.freqs[c]<<8,r[u]=u}do{let u=r[0],c=r[--n],h=0,f=1;for(;f<n;)f+1<n&&o[r[f]]>o[r[f+1]]&&f++,r[h]=r[f],h=f,f=f*2+1;let g=o[c];for(;f=h,h>0;)if(h=Math.floor((f-1)/2),o[r[h]]>g)r[f]=r[h];else break;r[f]=c;let m=r[0];c=l++,a[2*c]=u,a[2*c+1]=m;let y=Math.min(o[u]&255,o[m]&255);for(g=o[u]+o[m]-y+1,o[c]=g,h=0,f=1;f<n;)f+1<n&&o[r[f]]>o[r[f+1]]&&f++,r[h]=r[f],h=f,f=h*2+1;for(;f=h,f>0;)if(h=Math.floor((f-1)/2),o[r[h]]>g)r[f]=r[h];else break;r[f]=c}while(n>1);this.buildLength(a)}buildLength(e){this.length=new Uint8Array(this.freqs.length);let r=Math.floor(e.length/2),n=Math.floor((r+1)/2),i=0;for(let l=0;l<this.maxLength;l++)this.bitLengthCounts[l]=0;let s=new Int32Array(r);s[r-1]=0;for(let l=r-1;l>=0;l--)if(e[2*l+1]!=-1){let u=s[l]+1;u>this.maxLength&&(u=this.maxLength,i++),s[e[2*l]]=u,s[e[2*l+1]]=u}else{let u=s[l];this.bitLengthCounts[u-1]++,this.length[e[2*l]]=s[l]}if(i==0)return;let a=this.maxLength-1;do{for(;this.bitLengthCounts[--a]==0;);do this.bitLengthCounts[a]--,this.bitLengthCounts[++a]++,i-=1<<this.maxLength-1-a;while(i>0&&a<this.maxLength-1)}while(i>0);this.bitLengthCounts[this.maxLength-1]+=i,this.bitLengthCounts[this.maxLength-2]-=i;let o=2*n;for(let l=this.maxLength;l!=0;l--){let u=this.bitLengthCounts[l-1];for(;u>0;){let c=2*e[o++];e[c+1]==-1&&(this.length[e[c]]=l,u--)}}}getEncodedLength(){let e=0;for(let r=0;r<this.freqs.length;r++)e+=this.freqs[r]*this.length[r];return e}calcBLFreq(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.freqs[o]++,i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););i<n?e.freqs[s]+=i:s!=0?e.freqs[Pa.Repeat3To6]++:i<=10?e.freqs[Pa.Repeat3To10]++:e.freqs[Pa.Repeat11To138]++}}setStaticCodes(e,r){this.codes=e,this.length=r}buildCodes(){let e=new Int32Array(this.maxLength),r=0;this.codes=new Int16Array(this.freqs.length);for(let n=0;n<this.maxLength;n++)e[n]=r,r+=this.bitLengthCounts[n]<<15-n;for(let n=0;n<this.numCodes;n++){let i=this.length[n];i>0&&(this.codes[n]=Bt.bitReverse(e[i-1]),e[i-1]+=1<<16-i)}}writeTree(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.writeSymbol(o),i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););if(i<n)for(;i-- >0;)e.writeSymbol(s);else s!=0?(e.writeSymbol(Pa.Repeat3To6),this.huffman.pending.writeBits(i-3,2)):i<=10?(e.writeSymbol(Pa.Repeat3To10),this.huffman.pending.writeBits(i-3,3)):(e.writeSymbol(Pa.Repeat11To138),this.huffman.pending.writeBits(i-11,7))}}writeSymbol(e){this.huffman.pending.writeBits(this.codes[e]&65535,this.length[e])}}Pa.Repeat3To6=16;Pa.Repeat3To10=17;Pa.Repeat11To138=18;class Bt{static staticInit(){let e=0;for(;e<144;)Bt.staticLCodes[e]=Bt.bitReverse(48+e<<8),Bt.staticLLength[e++]=8;for(;e<256;)Bt.staticLCodes[e]=Bt.bitReverse(256+e<<7),Bt.staticLLength[e++]=9;for(;e<280;)Bt.staticLCodes[e]=Bt.bitReverse(-256+e<<9),Bt.staticLLength[e++]=7;for(;e<Bt.LITERAL_NUM;)Bt.staticLCodes[e]=Bt.bitReverse(-88+e<<8),Bt.staticLLength[e++]=8;for(e=0;e<Bt.DIST_NUM;e++)Bt.staticDCodes[e]=Bt.bitReverse(e<<11),Bt.staticDLength[e]=5}static bitReverse(e){return Bt.bit4Reverse[e&15]<<12|Bt.bit4Reverse[e>>4&15]<<8|Bt.bit4Reverse[e>>8&15]<<4|Bt.bit4Reverse[e>>12]}constructor(e){this.last_lit=0,this.extra_bits=0,this.pending=e,this.literalTree=new Pa(this,Bt.LITERAL_NUM,257,15),this.distTree=new Pa(this,Bt.DIST_NUM,1,15),this.blTree=new Pa(this,Bt.BITLEN_NUM,4,7),this.d_buf=new Int16Array(Bt.BUFSIZE),this.l_buf=new Uint8Array(Bt.BUFSIZE)}isFull(){return this.last_lit>=Bt.BUFSIZE}reset(){this.last_lit=0,this.extra_bits=0,this.literalTree.reset(),this.distTree.reset(),this.blTree.reset()}flushStoredBlock(e,r,n,i){this.pending.writeBits((Bt.STORED_BLOCK<<1)+(i?1:0),3),this.pending.alignToByte(),this.pending.writeShort(n),this.pending.writeShort(~n),this.pending.writeBlock(e,r,n),this.reset()}flushBlock(e,r,n,i){this.literalTree.freqs[Bt.EOF_SYMBOL]++,this.literalTree.buildTree(),this.distTree.buildTree(),this.literalTree.calcBLFreq(this.blTree),this.distTree.calcBLFreq(this.blTree),this.blTree.buildTree();let s=4;for(let l=18;l>s;l--)this.blTree.length[Bt.BL_ORDER[l]]>0&&(s=l+1);let a=14+s*3+this.blTree.getEncodedLength()+this.literalTree.getEncodedLength()+this.distTree.getEncodedLength()+this.extra_bits,o=this.extra_bits;for(let l=0;l<Bt.LITERAL_NUM;l++)o+=this.literalTree.freqs[l]*Bt.staticLLength[l];for(let l=0;l<Bt.DIST_NUM;l++)o+=this.distTree.freqs[l]*Bt.staticDLength[l];a>=o&&(a=o),r>=0&&n+4<a>>3?this.flushStoredBlock(e,r,n,i):a==o?(this.pending.writeBits((Bt.STATIC_TREES<<1)+(i?1:0),3),this.literalTree.setStaticCodes(Bt.staticLCodes,Bt.staticLLength),this.distTree.setStaticCodes(Bt.staticDCodes,Bt.staticDLength),this.compressBlock(),this.reset()):(this.pending.writeBits((Bt.DYN_TREES<<1)+(i?1:0),3),this.sendAllTrees(s),this.compressBlock(),this.reset())}sendAllTrees(e){this.blTree.buildCodes(),this.literalTree.buildCodes(),this.distTree.buildCodes(),this.pending.writeBits(this.literalTree.numCodes-257,5),this.pending.writeBits(this.distTree.numCodes-1,5),this.pending.writeBits(e-4,4);for(let r=0;r<e;r++)this.pending.writeBits(this.blTree.length[Bt.BL_ORDER[r]],3);this.literalTree.writeTree(this.blTree),this.distTree.writeTree(this.blTree)}compressBlock(){for(let e=0;e<this.last_lit;e++){let r=this.l_buf[e]&255,n=this.d_buf[e];if(n--!=0){let i=Bt.Lcode(r);this.literalTree.writeSymbol(i);let s=Math.floor((i-261)/4);s>0&&s<=5&&this.pending.writeBits(r&(1<<s)-1,s);let a=Bt.Dcode(n);this.distTree.writeSymbol(a),s=Math.floor(a/2)-1,s>0&&this.pending.writeBits(n&(1<<s)-1,s)}else this.literalTree.writeSymbol(r)}this.literalTree.writeSymbol(Bt.EOF_SYMBOL)}tallyDist(e,r){this.d_buf[this.last_lit]=e,this.l_buf[this.last_lit++]=r-3;let n=Bt.Lcode(r-3);this.literalTree.freqs[n]++,n>=265&&n<285&&(this.extra_bits+=Math.floor((n-261)/4));let i=Bt.Dcode(e-1);return this.distTree.freqs[i]++,i>=4&&(this.extra_bits+=Math.floor(i/2)-1),this.isFull()}tallyLit(e){return this.d_buf[this.last_lit]=0,this.l_buf[this.last_lit++]=e,this.literalTree.freqs[e]++,this.isFull()}static Lcode(e){if(e==255)return 285;let r=257;for(;e>=8;)r+=4,e=e>>1;return r+e}static Dcode(e){let r=0;for(;e>=4;)r+=2,e=e>>1;return r+e}}Bt.BUFSIZE=1<<xn.DEFAULT_MEM_LEVEL+6;Bt.LITERAL_NUM=286;Bt.STORED_BLOCK=0;Bt.STATIC_TREES=1;Bt.DYN_TREES=2;Bt.DIST_NUM=30;Bt.staticLCodes=new Int16Array(Bt.LITERAL_NUM);Bt.staticLLength=new Uint8Array(Bt.LITERAL_NUM);Bt.staticDCodes=new Int16Array(Bt.DIST_NUM);Bt.staticDLength=new Uint8Array(Bt.DIST_NUM);Bt.BL_ORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];Bt.bit4Reverse=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]);Bt.BITLEN_NUM=19;Bt.EOF_SYMBOL=256;Bt.staticInit();Ue.isRunningInWorker?Ue.initializeWorker():Ue.isRunningInAudioWorklet?Ue.initializeAudioWorklet():Ue.initializeMain(t=>{if(Ue.webPlatform==Ma.NodeJs)throw new _i(Ci.General,"Workers not yet supported in Node.js");if(Ue.webPlatform==Ma.BrowserModule||Ue.isWebPackBundled||Ue.isViteBundled)return Fe.debug("AlphaTab","Creating webworker"),new Ue.alphaTabWorker(new URL(new URL("/sandbox/assets/alphaTab.worker-CLdxKs-e.js",import.meta.url),import.meta.url),{type:"module"});if(!t.core.scriptFile)throw new _i(Ci.General,"Could not detect alphaTab script file, cannot initialize renderer");try{Fe.debug("AlphaTab","Creating Blob worker");const e=`importScripts('${t.core.scriptFile}')`,r=new Blob([e]);return new Worker(URL.createObjectURL(r))}catch{return Fe.warning("Rendering","Could not create inline worker, fallback to normal worker"),new Worker(t.core.scriptFile)}},(t,e)=>{if(Ue.webPlatform==Ma.NodeJs)throw new _i(Ci.General,"Audio Worklets not yet supported in Node.js");return Ue.webPlatform==Ma.BrowserModule||Ue.isWebPackBundled||Ue.isViteBundled?(Fe.debug("AlphaTab","Creating Module worklet"),t.audioWorklet.addModule(new URL(new URL("/sandbox/assets/alphaTab.worklet-DYZhGsI-.js",import.meta.url),import.meta.url))):(Fe.debug("AlphaTab","Creating Script worklet"),t.audioWorklet.addModule(e.core.scriptFile))});function fN(t,e){let r=[...e];if(r.length<2)return r;for(let n=0;n<t;n++)r.push(r.shift());return r}var Ut;(t=>{t.unison={n:1,offset:0},t.octave={n:8,offset:0},t.whole={n:2,offset:0},t.half={n:2,offset:-1};function e(c=8){return{n:Math.floor(Math.random()*(c-1)+1),offset:Math.floor(Math.random()*3)-1}}t.random=e;function r(c){const h=c.offset;switch(c.n){case 1:return 0+h;case 2:return 2+h;case 3:return 4+h;case 4:return 5+h;case 5:return 7+h;case 6:return 9+h;case 7:return 11+h;default:return r({n:c.n-7,offset:c.offset})+12}}t.halfSteps=r;function n(c){return{n:9-c.n,offset:s(c)?c.offset*-1:c.offset*-1-1}}t.invert=n;function i(c){return{n:c.n%7===0?7:c.n%7,offset:c.offset}}t.toSimple=i;function s(c){const h=c.n%7;return h==1||h==4||h==5}t.isPerfect=s;function a(c,h){const f=c.n+h.n-1;var g;return s({n:f,offset:0})&&!(s(c)||s(h))?g=c.offset+h.offset+1:i(c).n===4&&i(h).n===4?g=c.offset+h.offset-1:g=c.offset+h.offset,{n:f,offset:g}}t.add2=a;function o(c,h){const f=c.n-h.n+1;var g;return!s(h)&&s(c)?g=c.offset-h.offset-1:g=c.offset-h.offset,{n:f,offset:g}}t.subtract=o;function l(c){return c.length==0?t.unison:c.length==1?c[0]:c.reduce(a)}t.add=l;function u(c){const h=t.isPerfect(c);var f="";switch(c.offset){case 0:h?f="p":f="M";break;case-1:h?f="dim":f="m";break;case 1:f="aug";break;case-2:h?f="-2_":f="dim";break;default:f=`${c.offset}_`}return`${f}${c.n}`}t.name=u})(Ut||(Ut={}));function Ir(t){const e=t.match(/\d+/);if(!e)throw new Error("Invalid interval format");const r=parseInt(e[0]);var n=!1;const i=r%7;(i==1||i==4||i==5)&&(n=!0);const s=t.replace(/[0-9]/g,"");var a;switch(n){case!0:switch(s){case"p":a=0;break;case"aug":a=1;break;case"dim":a=-1;break;default:throw new Error("Prefix is invalid")}break;case!1:switch(s){case"M":a=0;break;case"m":a=-1;break;case"dim":a=-2;break;case"aug":a=1;break;default:throw new Error(`Prefix is invalid: ${s} for ${t}`)}}return{n:r,offset:a}}var cr=(t=>(t.Maj7="Maj7",t.Dom7="Dom7",t.Min7="Min7",t.Half="Half-Dim7",t.Full="Dim7",t.Maj="Maj",t.Min="Min",t.Dim="Dim",t.Aug="Aug",t))(cr||{});(t=>{function e(o){switch(o){case"Maj7":return"7";case"Dom7":return"7";case"Min7":return"m7";case"Half-Dim7":return"7";case"Dim7":return"7";case"Maj":return"";case"Min":return"m";case"Dim":return"";case"Aug":return"+"}}t.toLeadSheet=e;function r(o){return Ut.name(t.toIntervals(o)[0])==="M3"}t.isMajor=r;function n(o){return Ut.name(t.toIntervals(o)[0])==="m3"}t.isMinor=n;function i(o){return t.toIntervals(o).length===3}t.isSeventh=i;function s(o){return t.toIntervals(o).length===2}t.isTriad=s;function a(o){switch(o){case"Maj7":return[Ir("M3"),Ir("m3"),Ir("M3")];case"Dom7":return[Ir("M3"),Ir("m3"),Ir("m3")];case"Min7":return[Ir("m3"),Ir("M3"),Ir("m3")];case"Half-Dim7":return[Ir("m3"),Ir("m3"),Ir("M3")];case"Dim7":return[Ir("m3"),Ir("m3"),Ir("m3")];case"Maj":return[Ir("M3"),Ir("m3")];case"Min":return[Ir("m3"),Ir("M3")];case"Dim":return[Ir("m3"),Ir("m3")];case"Aug":return[Ir("M3"),Ir("M3")]}}t.toIntervals=a})(cr||(cr={}));const Ll={isTriad(t){return t.length===2},isSeventh(t){return t.length===3},isShell(t){return t.length===2&&t[0].n===3&&t[1].n===5},toQuality(t){if(this.isSeventh(t))switch(Ut.name(t[0])){case"m3":switch(Ut.name(t[1])){case"m3":switch(Ut.name(t[2])){case"m3":return cr.Full;case"M3":return cr.Half;default:return null}case"M3":switch(Ut.name(t[2])){case"m3":return cr.Min7;default:return null}default:return null}case"M3":switch(Ut.name(t[1])){case"m3":switch(Ut.name(t[2])){case"m3":return cr.Dom7;case"M3":return cr.Maj7;default:return null}default:return null}default:return null}else if(this.isTriad(t))switch(Ut.name(t[0])){case"m3":switch(Ut.name(t[1])){case"m3":return cr.Dim;case"M3":return cr.Min;default:return null}case"M3":switch(Ut.name(t[1])){case"m3":return cr.Maj;case"M3":return cr.Aug;default:return null}default:return null}else return null},nextInversion(t){const e=t.slice(1,t.length),r=Ut.subtract(Ut.invert(t[0]),Ut.add(t.slice(1,t.length)));return[...e,r]},applyInversion(t,e){var r=e;for(let n=0;n<t;n++)r=this.nextInversion(r);return r}};var _t=(t=>(t[t.Root=0]="Root",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third",t))(_t||{});(t=>{function e(r){switch(r){case 0:return 1;case 1:return 3;case 2:return 5;case 3:return 7}}t.toN=e})(_t||(_t={}));var wn=(t=>(t[t.Natural=0]="Natural",t[t.Sharp=1]="Sharp",t[t.Flat=-1]="Flat",t[t.DoubleSharp=2]="DoubleSharp",t[t.DoubleFlat=-2]="DoubleFlat",t))(wn||{});(t=>{function e(n){switch(n){case 0:return"";case-2:return"bb";case-1:return"b";case 1:return"#";case 2:return"##"}}t.toDisplayString=e;function r(n){switch(n){case"b":return-1;case"bb":return-2;case"#":return 1;case"##":return 2;default:throw new Error(`Accidental was ${n}`)}}t.fromString=r})(wn||(wn={}));var Jd;(t=>{t.validLetters=["A","B","C","D","E","F","G"];function e(){return t.validLetters[Math.floor(Math.random()*7)]}t.random=e;function r(s){switch(s){case"C":return 0;case"D":return 2;case"E":return 4;case"F":return 5;case"G":return 7;case"A":return 9;case"B":return 11}}t.toNoteNumber=r;function n(s){switch(s){case"C":return"D";case"D":return"E";case"E":return"F";case"F":return"G";case"G":return"A";case"A":return"B";case"B":return"C"}}t.next=n;function i(s,a){switch(s){case 0:return a;default:return i(s-1,n(a))}}t.shift=i})(Jd||(Jd={}));const mA=[0,1,2,3,4,5,6];function pt(t,e){return{letter:t,accidental:e||wn.Natural}}function fc(t,e){if(t.length===0||!Jd.validLetters.includes(t.charAt(0)))throw new Error("First letter of input string must be one of 'A B C D E F G'");const r=t.charAt(0),n=t.length>1?wn.fromString(t.slice(1,t.length)):wn.Natural;return{note:pt(r,n),octave:e}}function p1e(t,e){return{note:t,octave:e}}const $c={increaseBy(t,e){return(e+t+12)%12},toNote(t){switch(t){case 0:return pt("C");case 1:return pt("D",wn.Flat);case 2:return pt("D");case 3:return pt("E",wn.Flat);case 4:return pt("E");case 5:return pt("F");case 6:return pt("G",wn.Flat);case 7:return pt("G");case 8:return pt("A",wn.Flat);case 9:return pt("A");case 10:return pt("B",wn.Flat);case 11:return pt("B")}},toNoteSharp(t){switch(t){case 0:return pt("C");case 1:return pt("C",wn.Sharp);case 2:return pt("D");case 3:return pt("D",wn.Sharp);case 4:return pt("E");case 5:return pt("F");case 6:return pt("F",wn.Sharp);case 7:return pt("G");case 8:return pt("G",wn.Sharp);case 9:return pt("A");case 10:return pt("A",wn.Sharp);case 11:return pt("B")}}};var Tn;(t=>{function e(a){return{note:$c.toNote(a%12),octave:Math.floor(a/12)}}t.fromMidiNumber=e;function r(a){return{note:$c.toNoteSharp(a%12),octave:Math.floor(a/12)}}t.fromMidiNumberSharp=r;function n(a){return gr.toNoteNumber(a.note)+a.octave*12}t.toMidiNumber=n;function i(a,o){for(var l=1,u=a.note.letter;u!==o.note.letter;)u=Jd.next(u),l++;const c=n(o)-n(a),h=Ut.halfSteps({n:l,offset:0}),f=c-h;return{n:l,offset:f}}t.interval=i;function s(a){return gr.toDisplayString(a.note)+a.octave}t.toTex=s})(Tn||(Tn={}));var my=(t=>(t[t.Bass=0]="Bass",t[t.Tenor=1]="Tenor",t[t.Alto=2]="Alto",t[t.Soprano=3]="Soprano",t))(my||{});(t=>{function e(r){switch(r){case 0:return{low:fc("E",2),high:fc("C",4)};case 1:return{low:fc("B",2),high:fc("G",4)};case 2:return{low:fc("F",3),high:fc("D",5)};case 3:return{low:fc("C",4),high:fc("A",5)};default:throw new Error(`Somehow voice wasn't 0 to 3, range was ${r}`)}}t.range=e})(my||(my={}));const g1e={includes(t,e){const r=Tn.toMidiNumber(e.low),n=Tn.toMidiNumber(e.high),i=Tn.toMidiNumber(t);return i>=r&&i<=n}},gr={octavedNotesInRange(t,e){return mA.map(r=>p1e(e,r)).filter(r=>g1e.includes(r,t))},random(){return{letter:Jd.random(),accidental:Math.floor(Math.random()*3)-1}},toNoteNumber(t){return $c.increaseBy(t.accidental,Jd.toNoteNumber(t.letter))},interval(t,e){return console.log(t,e),console.log("interval:",Tn.interval({note:t,octave:1},{note:e,octave:2})),console.log("simple interval:",Ut.toSimple(Tn.interval({note:t,octave:1},{note:e,octave:2}))),Ut.toSimple(Tn.interval({note:t,octave:1},{note:e,octave:2}))},toDisplayString(t){return`${t.letter}${wn.toDisplayString(t.accidental)}`},transpose(t,e){const r=Jd.shift(t.n-1,e.letter),n=$c.increaseBy(Ut.halfSteps(t),gr.toNoteNumber(e))-gr.toNoteNumber(pt(r));return pt(r,n)},toMidiNumber(t,e){return gr.toNoteNumber(t)+12+e*12},toMidiNumbersForAllOctaves(t){return mA.map(e=>gr.toMidiNumber(t,e))},fromMidiNumber(t){return $c.toNote(t%12)}};var yy=(t=>(t[t.Ionian=0]="Ionian",t[t.Dorian=1]="Dorian",t[t.Phrygian=2]="Phrygian",t[t.Lydian=3]="Lydian",t[t.Mixolydian=4]="Mixolydian",t[t.Aeloian=5]="Aeloian",t[t.Locrian=6]="Locrian",t))(yy||{}),ps;(t=>{t.MajorScale=[Ir("M2"),Ir("M2"),Ir("m2"),Ir("M2"),Ir("M2"),Ir("M2"),Ir("m2")],t.HarmonicMinor=[Ir("M2"),Ir("m2"),Ir("M2"),Ir("M2"),Ir("m2"),Ir("aug2"),Ir("m2")],t.MinorScale=e(5);function e(n){return fN(n,t.MajorScale)}t.mode=e;function r(n){var i="";return n.forEach(s=>i+=Ut.name(s)+" "),i}t.toDisplayString=r})(ps||(ps={}));function m1e(t,e){const r=fN(t-1,e);return[Ut.add2(r[0],r[1]),Ut.add2(r[2],r[3])]}function y1e(t,e){const r=fN(t-1,e);return[Ut.add2(r[0],r[1]),Ut.add2(r[2],r[3]),Ut.add2(r[4],r[5])]}function b1e(t){return t.map((e,r)=>m1e(r+1,t))}function v1e(t){return t.map((e,r)=>y1e(r+1,t))}const cP={toLeadSheet(t){return gr.toDisplayString(t.root)+cr.toLeadSheet(t.quality)},fromKeyAndScaleDegree(t,e,r=!1){var n;return r?n=by(t.note,t.scale):n=kW(t.note,t.scale),n[e-1]}};function SW(t,e){var r=t;return[t,...e.map(n=>(r=gr.transpose(n,r),r))]}function kW(t,e){return b1e(e).filter(r=>Ll.toQuality(r)).map((r,n)=>({root:gr.transpose(Ut.add(e.slice(0,n)),t),quality:Ll.toQuality(r)}))}console.log("diatonic triads in c",kW(pt("C"),ps.MajorScale));function by(t,e){return v1e(e).filter(r=>Ll.toQuality(r)).map((r,n)=>({root:gr.transpose(e.slice(0,n).reduce((i,s)=>Ut.add2(i,s),Ut.unison),t),quality:Ll.toQuality(r)}))}function w1e(t){if(t.length<2)return[];const e=[];for(let r=0;r<t.length-1;r++)e.push(Tn.interval(t[r],t[r+1]));return e}function yA(t){const e=t[0],r=Ut.subtract(Ir("p5"),t[0]),n=Ut.subtract(t[1],r);return[e,r,n]}function x1e(t){if(t.every(r=>r.n==3))return{intervals:t,inversion:_t.Root,rootNum:0};if(Ll.isShell(t))return{intervals:yA(t),inversion:_t.Root,rootNum:0};var e=t;for(let r=0;r<t.length;r++){const n=Ut.subtract(Ut.invert(e[0]),Ut.add(e.slice(1,e.length)));e.slice(1,t.length),e=[...e.slice(1,t.length),n];const i=Ll.isSeventh(e),s=Ll.isShell(e),a=r+1,o=a===0?_t.Root:i?4-a:s?a===1?3:1:3-a;if(e.every(l=>l.n==3))return{intervals:e,inversion:o,rootNum:a};if(Ll.isShell(e))return{intervals:yA(e),inversion:o,rootNum:a}}return null}function Uw(t){const e=t.length>0?t[0]:null;var r=e?[e]:[];t.forEach(a=>{if(!r.some(l=>gr.toNoteNumber(l.note)===gr.toNoteNumber(a.note))){for(var o=a;e&&Tn.toMidiNumber(a)>Tn.toMidiNumber(e)+11;)o.octave--;r.push(o),console.log({simplifiedOctavedNotes:r})}}),r.sort((a,o)=>Tn.toMidiNumber(a)-Tn.toMidiNumber(o)),console.log("Finished notes",r);const n=x1e(w1e(r)),i=n&&Ll.toQuality(n.intervals),s=n&&r[n.rootNum]&&{root:r[n.rootNum].note,quality:i};return s&&s.quality&&{chord:{root:s.root,quality:s.quality},inversion:n.inversion}}function CW(t,e){return{interval:gr.interval(e.note,t.chord.root),quality:t.chord.quality,inversion:t.inversion}}var Gw;(t=>{function e(r){if(r.interval.n<1||r.interval.n>7)throw new Error(`Interval has to be a possible scale degree but was ${Ut.name(r.interval)}`);const n=cr.isMajor(r.quality),i=cr.isSeventh(r.quality);var s;switch(r.interval.n){case 1:s=n?"I":"i";break;case 2:s=n?"II":"ii";break;case 3:s=n?"III":"iii";break;case 4:s=n?"IV":"iv";break;case 5:s=n?"V":"v";break;case 6:s=n?"VI":"vi";break;case 7:s=n?"VII":"vii";break;default:throw new Error}r.quality===cr.Full||r.quality===cr.Dim?s+="":r.quality===cr.Half&&(s+="");var a;if(i)switch(r.inversion){case _t.Root:a="7";break;case _t.First:a="65";break;case _t.Second:a="43";break;case _t.Third:a="2";break}else switch(r.inversion){case _t.Root:a="";break;case _t.First:a="6";break;case _t.Second:a="64";break;default:throw new Error("Can't have a third inversion on a triad")}return s+a}t.toDisplayString=e})(Gw||(Gw={}));console.log("test",gr.transpose(ps.MajorScale.slice(0,4).reduce((t,e)=>Ut.add2(t,e),Ut.unison),pt("C")));console.log("interval",ps.MajorScale.slice(0,4).reduce((t,e)=>Ut.add2(t,e),Ut.unison));console.log("intervals",ps.MajorScale.slice(0,4));var xu;(t=>{function e(i){return`${cP.toLeadSheet(i.chord)}
      ${i.inversion>0?`/
      ${gr.toDisplayString(t.bassNote(i))}`:""}`}t.toLeadSheet=e;function r(i,{chord:s,inversion:a}){const o=s.root;if(cr.isTriad(s.quality)&&i===3)return o;const l=cr.toIntervals(s.quality),u=Ll.applyInversion(a,l);var c=[];for(let g=0;g<a;g++)c.push(l[g]),console.log("Is this undefined",l[g]);const h=gr.transpose(Ut.add(c),o);var f=[];for(let g=0;g<i;g++)f.push(u[g]);return gr.transpose(Ut.add(f),h)}t.voice=r;function n(i){return r(my.Bass,i)}t.bassNote=n})(xu||(xu={}));const _W=24,TW=1;var jw;(t=>{function e(r){switch(r){case 1:return pt("E");case 2:return pt("B");case 3:return pt("G");case 4:return pt("D");case 5:return pt("A");case 6:return pt("E")}}t.firstNote=e})(jw||(jw={}));const Qb={toTex(t){return`${t.fret}.${t.string}`},onString(t,e){let r=gr.toNoteNumber(e),n=r-gr.toNoteNumber(jw.firstNote(t));const i=[];for(;n<=_W;)n>=TW&&i.push(n),r+=Ut.halfSteps(Ut.octave),n=r-gr.toNoteNumber(jw.firstNote(t));return i.map(s=>({string:t,fret:s}))}};function Pe(t,e){return{string:t,fret:e}}const S1e={generate(t,e,r=_t.Root){switch(t){case 6:switch(e){case cr.Maj7:switch(r){case _t.Root:return[Pe(6,0),Pe(4,1),Pe(3,1),Pe(2,0)];case _t.First:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,0)];case _t.Second:return[Pe(6,0),Pe(5,0),Pe(4,-1),Pe(3,1)];case _t.Third:return[Pe(6,0),Pe(5,0),Pe(4,-2),Pe(3,-2)]}case cr.Dom7:switch(r){case _t.Root:return[Pe(6,0),Pe(4,0),Pe(3,1),Pe(2,0)];case _t.First:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,-1)];case _t.Second:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-2)];case _t.Third:return[Pe(6,0),Pe(4,-1),Pe(3,-1),Pe(2,-1)]}case cr.Min7:switch(r){case _t.Root:return[Pe(6,0),Pe(4,0),Pe(3,0),Pe(2,0)];case _t.First:return[Pe(6,0),Pe(4,-1),Pe(3,1),Pe(2,0)];case _t.Second:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,-2)];case _t.Third:return[Pe(6,0),Pe(4,-1),Pe(3,-1),Pe(2,-2)]}case cr.Half:switch(r){case _t.Root:return[Pe(6,0),Pe(4,0),Pe(3,0),Pe(2,-1)];case _t.First:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,0)];case _t.Second:return[Pe(6,0),Pe(4,-1),Pe(3,1),Pe(2,-1)];case _t.Third:return[Pe(6,0),Pe(4,-2),Pe(3,-1),Pe(2,-2)]}case cr.Full:switch(r){case _t.Root:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case _t.First:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case _t.Second:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case _t.Third:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)]}}case 5:switch(e){case cr.Maj7:switch(r){case _t.Root:return[Pe(5,0),Pe(4,2),Pe(3,1),Pe(2,2)];case _t.First:return[Pe(5,0),Pe(4,2),Pe(3,-2),Pe(2,1)];case _t.Second:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,2)];case _t.Third:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,-1)]}case cr.Dom7:switch(r){case _t.Root:return[Pe(5,0),Pe(4,2),Pe(3,0),Pe(2,2)];case _t.First:return[Pe(5,0),Pe(4,1),Pe(3,-2),Pe(2,1)];case _t.Second:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,1)];case _t.Third:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,0)]}case cr.Min7:switch(r){case _t.Root:return[Pe(5,0),Pe(4,2),Pe(3,0),Pe(2,1)];case _t.First:return[Pe(5,0),Pe(4,2),Pe(3,-1),Pe(2,2)];case _t.Second:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,1)];case _t.Third:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,0)]}case cr.Half:switch(r){case _t.Root:return[Pe(5,0),Pe(4,1),Pe(3,0),Pe(2,1)];case _t.First:return[Pe(5,0),Pe(4,2),Pe(3,-1),Pe(2,1)];case _t.Second:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,2)];case _t.Third:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,0)]}case cr.Full:switch(r){case _t.Root:case _t.First:case _t.Second:case _t.Third:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,1)]}}default:return[]}}},fp={toTex(t){return`(${t.notes.map(e=>Qb.toTex(e)+" ").join("")}).1${t.name&&`{ch "${t.name}"}`}`},generate(t,e,r,n){var i=[];const s=n!==void 0?[n]:[_t.Root,_t.First,_t.Second,_t.Third];for(const a of s){const o=xu.bassNote({inversion:a,chord:{root:t,quality:e}}),l=r?Qb.onString(r,o):Qb.onString(6,o).concat(Qb.onString(5,o));i=i.concat(l.map(u=>({name:`${gr.toDisplayString(t)}${cr.toLeadSheet(e)}${a===_t.Root?"":`/${gr.toDisplayString(o)}`}`,notes:S1e.generate(u.string,e,a).map(c=>({string:c.string,fret:c.fret+u.fret}))})))}return i.filter(a=>!a.notes.some(o=>o.fret<TW||o.fret>_W)).sort((a,o)=>Math.min(...a.notes.map(l=>l.fret))-Math.min(...o.notes.map(l=>l.fret))).sort((a,o)=>Math.max(...o.notes.map(l=>l.string))-Math.max(...a.notes.map(l=>l.string)))}},k1e={toTex(t){return`\\ks ${gr.toDisplayString(t.key.note)} ${t.chords.map(e=>fp.toTex(e)).join("")}`}};function C1e(t){const e=C.useRef(null),r=C.useRef(null);C.useEffect(()=>{if(e.current){r.current=new a0(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;const s=by(pt("G"),ps.mode(yy.Dorian)).concat(by(pt("G"),ps.mode(yy.Dorian))[0]).map(u=>{const c=fp.generate(u.root,u.quality,6,_t.Root).find(h=>h.notes[0].fret>i);return i=(c==null?void 0:c.notes[0].fret)??0,c});pt("C");const a=t.chords.map(u=>fp.generate(u.root,u.quality,6,_t.Root)[0]),o={key:{note:pt("C")},chords:a},l=`
      \\tempo 120
      
      . 


      ${k1e.toTex(o)}`;console.log(l),r.current.metronomeVolume=1,r.current.isLooping=!0,r.current.playbackSpeed=1,r.current.countInVolume=1,r.current.tex(l)}return()=>{var i;(i=r.current)==null||i.destroy()}},[]);function n(){var i;(i=r.current)==null||i.playPause()}return k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:k.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),k.jsx("div",{style:{display:"flex"},children:k.jsx(Xd,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{r.current&&(r.current.playbackSpeed=s)},children:"Tempo"})}),k.jsx(fi,{onClick:n,children:"Play/Pause"})]})}const _1e=840;function bA(){return{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<_1e}}function PW(){const[t,e]=C.useState(bA());function r(){e(bA())}return C.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t}const vA=[pt("C"),pt("D",wn.Flat),pt("D"),pt("E",wn.Flat),pt("E"),pt("F"),pt("G",wn.Flat),pt("G"),pt("A",wn.Flat),pt("A"),pt("B",wn.Flat),pt("B")],wA=[_t.Root,_t.First,_t.Second,_t.Third],xA=[cr.Maj7,cr.Dom7,cr.Min7,cr.Half,cr.Full],Qi={container:{display:"flex",flex:1,flexDirection:"column",padding:14,fontFamily:"sans-serif"},section:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},notesSection:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},formGroup:{marginTop:16,marginBottom:16},button:{backgroundColor:"#007BFF",color:"#fff",transition:"background-color 0.3s, transform 0.1s",cursor:"pointer",flex:1},chordText:{fontSize:20,marginTop:5,textAlign:"center",textTransform:"none"},toggleButton:{maxHeight:"50px",display:"flex",flexDirection:"column",borderRadius:8,textAlign:"center",justifyContent:"center",fontSize:15,padding:7,cursor:"pointer",transition:"background-color 0.3s, transform 0.1s"},toggleButtonsContainer:{},toggleButtonChecked:{backgroundColor:"#9df"},toggleButtonUnchecked:{backgroundColor:"#eee"},toggleButtonHover:{backgroundColor:"#b3e5fc"},toggleButtonActive:{transform:"scale(0.95)"},buttonHover:{backgroundColor:"#0056b3"},buttonActive:{transform:"scale(0.95)"}};function T1e(){const[t,e]=C.useState(vA),[r,n]=C.useState(wA),[i,s]=C.useState(xA),[a,o]=C.useState(!0),[l,u]=C.useState(!1),{isMobile:c}=PW(),[h,f]=C.useState(null);function g(){f({note:t[Math.floor(Math.random()*t.length)],inversion:r[Math.floor(Math.random()*r.length)],quality:i[Math.floor(Math.random()*i.length)],string:a?Math.floor(Math.random()*2)===0?6:5:null})}return h&&(pt("C"),fp.generate(h.note,h.quality,h.string??void 0,h.inversion)),k.jsxs(Wu,{title:"Chord Generator",children:[k.jsxs("div",{style:Qi.container,children:[k.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center"},children:k.jsx(fi,{style:Qi.chordText,disabled:!h,onClick:()=>u(!0),children:k.jsx(Kr,{children:h?`${gr.toDisplayString(h.note)} ${h.quality?h.quality:""} ${h.inversion?h.inversion:""} ${h.string?` on ${h.string} string`:""}`:"Generate a chord!"})})}),k.jsxs("div",{style:Qi.toggleButtonsContainer,children:[k.jsx("div",{style:Qi.notesSection,children:vA.map(m=>k.jsx(n_,{checked:t.includes(m),onChange:()=>t.includes(m)?e(y=>y.filter(b=>gr.toNoteNumber(b)!==gr.toNoteNumber(m))):e(y=>y.concat(m)),children:gr.toDisplayString(m)},gr.toDisplayString(m)))}),k.jsx(dL,{style:{minHeight:"5px",margin:"7px 0"}}),k.jsx("div",{style:Qi.section,children:wA.map(m=>k.jsx(n_,{checked:r.includes(m),onChange:()=>r.includes(m)?n(y=>y.filter(b=>b!==m)):n(y=>y.concat(m)),children:m},m))}),k.jsx(dL,{style:{minHeight:"5px",margin:"7px 0"}}),k.jsx("div",{style:Qi.section,children:xA.map(m=>k.jsx(n_,{checked:i.includes(m),onChange:()=>i.includes(m)?s(y=>y.filter(b=>b!==m)):s(y=>y.concat(m)),children:m},m))})]}),k.jsx(kV,{style:Qi.formGroup,children:k.jsx(OT,{control:k.jsx(Nhe,{checked:a,onChange:()=>o(!a)}),label:"Include string"})}),k.jsx("div",{style:{display:"flex"},children:k.jsx(fi,{style:Qi.button,size:"large",onMouseOver:m=>m.currentTarget.style.backgroundColor=Qi.buttonHover.backgroundColor,onMouseOut:m=>m.currentTarget.style.backgroundColor=Qi.button.backgroundColor,onMouseDown:m=>m.currentTarget.style.transform=Qi.buttonActive.transform,onMouseUp:m=>m.currentTarget.style.transform="scale(1)",onClick:g,children:"Generate"})})]}),h&&l&&k.jsxs(Jy,{maxWidth:"lg",fullScreen:c,open:l,onClose:()=>u(!1),children:[k.jsx(mV,{children:`${gr.toDisplayString(h.note)} ${h.quality?h.quality:""} ${h.inversion?h.inversion:""} ${h.string?` on ${h.string} string`:""}`}),k.jsx(ms,{"aria-label":"close",onClick:()=>u(!1),sx:{position:"absolute",right:9,top:9,color:m=>m.palette.grey[600]},children:k.jsx(Rp,{})}),k.jsx(C1e,{note:h.note,inversion:h.inversion,string:h.string,quality:h.quality})]})]})}function n_({children:t,checked:e,onChange:r}){return k.jsx("div",{style:{...Qi.toggleButton,...e?Qi.toggleButtonChecked:Qi.toggleButtonUnchecked},onMouseOver:n=>n.currentTarget.style.backgroundColor=Qi.toggleButtonHover.backgroundColor,onMouseOut:n=>n.currentTarget.style.backgroundColor=e?Qi.toggleButtonChecked.backgroundColor:Qi.toggleButtonUnchecked.backgroundColor,onMouseDown:n=>n.currentTarget.style.transform=Qi.toggleButtonActive.transform,onMouseUp:n=>n.currentTarget.style.transform="scale(1)",onClick:()=>r(!e),children:k.jsx("div",{children:t})})}const P1e={1:[2,3,4,5,6,7],2:[5,7],3:[2,4,5,6,7],4:[2,5,6,7],5:[1,2,4,6],6:[2,4],7:[1,2,4,5]};function BW(t,e){return t===0?[]:t===1?[[e]]:P1e[e].flatMap(r=>[...BW(t-1,r).map(n=>[e,...n])])}function MW(t,e,r){return BW(t,e).filter(n=>n[t-1]===r)}const B1e={toTex(t){var e="";return t.map(r=>e+=M1e.toTex(r)),e}},M1e={toTex(t){var e="(";return t.map(r=>e+=`${Tn.toTex(r)} `),e+")"}},tS={isValidMovement(){},harmoniesFromNamedChords(t){const e=this.generatePossibilities(t[0]).flatMap(i=>{console.log("first chord harmony",i);const s=this.possibilitiesToOctavedHarmonyOptions(this.possibilitiesWithinRanges(i));return console.log("first chord result",s),s}),n=[e[Math.floor(Math.random()*e.length)]];for(let i=0;i<t.length-1;i++)n.push(this.voiceLead(n[i],t[i+1]));return n},totalMovement(t,e){var r=0;if(t.length!==e.length)throw console.log({o1:t},{o2:e}),new Error(`Harmonies don't have the same number of parts, ${t.length}, ${e.length}`);for(let n=0;n<t.length;n++)r+=Math.abs(Tn.toMidiNumber(e[n])-Tn.toMidiNumber(t[n]));return r},voiceLead(t,e){const r=this.generatePossibilities(e).flatMap(s=>{console.log("HARMONY",s);const a=this.possibilitiesToOctavedHarmonyOptions(this.possibilitiesWithinRanges(s));return console.log({result:a}),a});console.log({allPossibilities:r}),r.sort((s,a)=>this.totalMovement(t,s)-this.totalMovement(t,a));const i=Math.floor(Math.random()*1);return r[i]},generatePossibilities(t){return pN([xu.voice(0,{chord:t,inversion:_t.Root}),xu.voice(1,{chord:t,inversion:_t.Root}),xu.voice(2,{chord:t,inversion:_t.Root}),xu.voice(3,{chord:t,inversion:_t.Root})]).map(e=>{var r={0:pt("C"),1:pt("C"),2:pt("C"),3:pt("C")};return e.map((n,i)=>r[i]=n),r})},possibilitiesWithinRanges(t){var e=[];return Object.keys(t).map(r=>{const n=Number(r),i=my.range(n),s=t[n];e[n]=gr.octavedNotesInRange(i,s)}),console.log({possibilities:e}),e},possibilitiesToOctavedHarmonyOptions(t){return t.length===0?[[]]:t[0].flatMap(e=>[...this.possibilitiesToOctavedHarmonyOptions(t.slice(1)).map(r=>[e,...r])])}};function pN(t){return t.length===0?[]:t.length===1?[t]:t.flatMap((e,r)=>{var n=[...t];return n[r]=t[0],n=n.slice(1),pN(n).map(i=>[e,...i])})}console.log("generate",tS.generatePossibilities({root:pt("C"),quality:cr.Maj7}));const N1e=[pt("C"),pt("B"),pt("G"),pt("E")],NW=tS.possibilitiesWithinRanges(N1e);console.log("within ranges",NW);console.log("harmony",tS.possibilitiesToOctavedHarmonyOptions(NW));function E1e(t){const e=C.useRef(null),r=C.useRef(null);C.useEffect(()=>{if(e.current){r.current=new a0(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;const s=by(pt("G"),ps.mode(yy.Dorian)).concat(by(pt("G"),ps.mode(yy.Dorian))[0]).map(l=>{const u=fp.generate(l.root,l.quality,6,_t.Root).find(c=>c.notes[0].fret>i);return i=(u==null?void 0:u.notes[0].fret)??0,u});pt("C");const a=t.chords.map(l=>fp.generate(l.root,l.quality,6,_t.Root)[0]);pt("C");const o=`

      
      \\track "Piano with Grand Staff" "pno."
    \\staff{score} \\tuning piano \\instrument 52
    
    ${B1e.toTex(tS.harmoniesFromNamedChords(t.chords))} 
    
    `;console.log(o),r.current.metronomeVolume=1,r.current.isLooping=!0,r.current.playbackSpeed=1,r.current.countInVolume=1,r.current.tex(o)}return()=>{var i;(i=r.current)==null||i.destroy()}},[]);function n(){var i;(i=r.current)==null||i.playPause()}return k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:k.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),k.jsx("div",{style:{display:"flex"},children:k.jsx(Xd,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{r.current&&(r.current.playbackSpeed=s)},children:"Tempo"})}),k.jsx(fi,{onClick:n,children:"Play/Pause"})]})}const R1e=[pt("C"),pt("D",wn.Flat),pt("D"),pt("E",wn.Flat),pt("E"),pt("F"),pt("G",wn.Flat),pt("G"),pt("A",wn.Flat),pt("A"),pt("B",wn.Flat),pt("B")],D1e=[cr.Maj7,cr.Dom7,cr.Min7,cr.Half,cr.Full,cr.Maj,cr.Min];function I1e(){const[t,e]=C.useState(0),[r,n]=C.useState(cr.Maj7),[i,s]=C.useState([]),[a,o]=C.useState(!1),[l,u]=C.useState(4),{isMobile:c}=PW();function h(){const f=MW(l+1,1,1),g=f[Math.floor(Math.random()*f.length)];g.pop(),s(g.map(m=>cP.fromKeyAndScaleDegree({note:pt("C"),scale:ps.MajorScale},m,!0)))}return k.jsxs(Wu,{title:"Progression",children:[k.jsxs("div",{style:{padding:"30px",display:"flex",flexDirection:"column"},children:[k.jsx(BL,{row:!0,value:t,onChange:(f,g)=>e(parseInt(g)),children:R1e.map(f=>k.jsx(OT,{value:gr.toNoteNumber(f),control:k.jsx(PL,{}),label:gr.toDisplayString(f)}))}),k.jsx(BL,{row:!0,value:r,onChange:(f,g)=>n(g),children:D1e.map(f=>k.jsx(OT,{value:f,control:k.jsx(PL,{}),label:f}))}),k.jsx(fi,{onClick:()=>s([...i,{root:$c.toNote(t),quality:r}]),children:"Add Chord"}),i.map(f=>k.jsx("div",{style:{backgroundColor:"greenyellow",width:100,height:30},children:cP.toLeadSheet(f)})),k.jsx(fi,{onClick:()=>o(!0),children:"Play"}),k.jsx(ms,{onClick:()=>s([]),children:k.jsx(WV,{})}),k.jsx(fi,{onClick:h,children:"Random"}),k.jsx("div",{style:{height:40}}),k.jsx(Xd,{min:1,max:8,valueLabelDisplay:"on",value:l,onChange:(f,g)=>u(g),children:"Length"}),k.jsx(fi,{onClick:()=>console.log(pN([1,2,3])),children:"Generate possibilities"})]}),a&&k.jsxs(Jy,{maxWidth:"lg",fullScreen:c,open:a,onClose:()=>o(!1),children:[k.jsx(ms,{onClick:()=>o(!1),sx:{position:"absolute",right:9,top:9,color:f=>f.palette.grey[600]},children:k.jsx(Rp,{})}),k.jsx(E1e,{chords:i})]})]})}function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ie.apply(null,arguments)}function pi(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var gN=d0(),vr=t=>c0(t,gN),mN=d0();vr.write=t=>c0(t,mN);var rS=d0();vr.onStart=t=>c0(t,rS);var yN=d0();vr.onFrame=t=>c0(t,yN);var bN=d0();vr.onFinish=t=>c0(t,bN);var zf=[];vr.setTimeout=(t,e)=>{const r=vr.now()+e,n=()=>{const s=zf.findIndex(a=>a.cancel==n);~s&&zf.splice(s,1),Pc-=~s?1:0},i={time:r,handler:t,cancel:n};return zf.splice(EW(r),0,i),Pc+=1,RW(),i};var EW=t=>~(~zf.findIndex(e=>e.time>t)||~zf.length);vr.cancel=t=>{rS.delete(t),yN.delete(t),bN.delete(t),gN.delete(t),mN.delete(t)};vr.sync=t=>{dP=!0,vr.batchedUpdates(t),dP=!1};vr.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,vr.onStart(r)}return n.handler=t,n.cancel=()=>{rS.delete(r),e=null},n};var vN=typeof window<"u"?window.requestAnimationFrame:()=>{};vr.use=t=>vN=t;vr.now=typeof performance<"u"?()=>performance.now():Date.now;vr.batchedUpdates=t=>t();vr.catch=console.error;vr.frameLoop="always";vr.advance=()=>{vr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):IW()};var Tc=-1,Pc=0,dP=!1;function c0(t,e){dP?(e.delete(t),t(0)):(e.add(t),RW())}function RW(){Tc<0&&(Tc=0,vr.frameLoop!=="demand"&&vN(DW))}function L1e(){Tc=-1}function DW(){~Tc&&(vN(DW),vr.batchedUpdates(IW))}function IW(){const t=Tc;Tc=vr.now();const e=EW(Tc);if(e&&(LW(zf.splice(0,e),r=>r.handler()),Pc-=e),!Pc){L1e();return}rS.flush(),gN.flush(t?Math.min(64,Tc-t):16.667),yN.flush(),mN.flush(),bN.flush()}function d0(){let t=new Set,e=t;return{add(r){Pc+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Pc-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Pc-=e.size,LW(e,n=>n(r)&&t.add(n)),Pc+=t.size,e=t)}}}function LW(t,e){t.forEach(r=>{try{e(r)}catch(n){vr.catch(n)}})}var F1e=Object.defineProperty,A1e=(t,e)=>{for(var r in e)F1e(t,r,{get:e[r],enumerable:!0})},Va={};A1e(Va,{assign:()=>$1e,colors:()=>Vc,createStringInterpolator:()=>xN,skipAnimation:()=>AW,to:()=>FW,willAdvance:()=>SN});function hP(){}var O1e=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function uu(t,e){if(st.arr(t)){if(!st.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Cr=(t,e)=>t.forEach(e);function Yl(t,e,r){if(st.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var Vs=t=>st.und(t)?[]:st.arr(t)?t:[t];function vm(t,e){if(t.size){const r=Array.from(t);t.clear(),Cr(r,e)}}var Yg=(t,...e)=>vm(t,r=>r(...e)),wN=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xN,FW,Vc=null,AW=!1,SN=hP,$1e=t=>{t.to&&(FW=t.to),t.now&&(vr.now=t.now),t.colors!==void 0&&(Vc=t.colors),t.skipAnimation!=null&&(AW=t.skipAnimation),t.createStringInterpolator&&(xN=t.createStringInterpolator),t.requestAnimationFrame&&vr.use(t.requestAnimationFrame),t.batchedUpdates&&(vr.batchedUpdates=t.batchedUpdates),t.willAdvance&&(SN=t.willAdvance),t.frameLoop&&(vr.frameLoop=t.frameLoop)},wm=new Set,yo=[],i_=[],Yw=0,nS={get idle(){return!wm.size&&!yo.length},start(t){Yw>t.priority?(wm.add(t),vr.onStart(V1e)):(OW(t),vr(fP))},advance:fP,sort(t){if(Yw)vr.onFrame(()=>nS.sort(t));else{const e=yo.indexOf(t);~e&&(yo.splice(e,1),$W(t))}},clear(){yo=[],wm.clear()}};function V1e(){wm.forEach(OW),wm.clear(),vr(fP)}function OW(t){yo.includes(t)||$W(t)}function $W(t){yo.splice(z1e(yo,e=>e.priority>t.priority),0,t)}function fP(t){const e=i_;for(let r=0;r<yo.length;r++){const n=yo[r];Yw=n.priority,n.idle||(SN(n),n.advance(t),n.idle||e.push(n))}return Yw=0,i_=yo,i_.length=0,yo=e,yo.length>0}function z1e(t,e){const r=t.findIndex(e);return r<0?t.length:r}var W1e=(t,e,r)=>Math.min(Math.max(r,t),e),H1e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},sl="[-+]?\\d*\\.?\\d+",Xw=sl+"%";function iS(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var U1e=new RegExp("rgb"+iS(sl,sl,sl)),G1e=new RegExp("rgba"+iS(sl,sl,sl,sl)),j1e=new RegExp("hsl"+iS(sl,Xw,Xw)),Y1e=new RegExp("hsla"+iS(sl,Xw,Xw,sl)),X1e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,q1e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,K1e=/^#([0-9a-fA-F]{6})$/,Q1e=/^#([0-9a-fA-F]{8})$/;function J1e(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=K1e.exec(t))?parseInt(e[1]+"ff",16)>>>0:Vc&&Vc[t]!==void 0?Vc[t]:(e=U1e.exec(t))?(tf(e[1])<<24|tf(e[2])<<16|tf(e[3])<<8|255)>>>0:(e=G1e.exec(t))?(tf(e[1])<<24|tf(e[2])<<16|tf(e[3])<<8|CA(e[4]))>>>0:(e=X1e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Q1e.exec(t))?parseInt(e[1],16)>>>0:(e=q1e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=j1e.exec(t))?(SA(kA(e[1]),Jb(e[2]),Jb(e[3]))|255)>>>0:(e=Y1e.exec(t))?(SA(kA(e[1]),Jb(e[2]),Jb(e[3]))|CA(e[4]))>>>0:null}function s_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function SA(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=s_(i,n,t+1/3),a=s_(i,n,t),o=s_(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function tf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function kA(t){return(parseFloat(t)%360+360)%360/360}function CA(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Jb(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function _A(t){let e=J1e(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var vy=(t,e,r)=>{if(st.fun(t))return t;if(st.arr(t))return vy({range:t,output:e,extrapolate:r});if(st.str(t.output[0]))return xN(t);const n=t,i=n.output,s=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{const c=eSe(u,s);return Z1e(u,s[c],s[c+1],i[c],i[c+1],l,a,o,n.map)}};function Z1e(t,e,r,n,i,s,a,o,l){let u=l?l(t):t;if(u<e){if(a==="identity")return u;a==="clamp"&&(u=e)}if(u>r){if(o==="identity")return u;o==="clamp"&&(u=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?u=-u:r===1/0?u=u-e:u=(u-e)/(r-e),u=s(u),n===-1/0?u=-u:i===1/0?u=u+n:u=u*(i-n)+n,u)}function eSe(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var tSe=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return W1e(0,1,i/t)},qw=1.70158,Zb=qw*1.525,TA=qw+1,PA=2*Math.PI/3,BA=2*Math.PI/4.5,ev=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,rSe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>TA*t*t*t-qw*t*t,easeOutBack:t=>1+TA*Math.pow(t-1,3)+qw*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Zb+1)*2*t-Zb)/2:(Math.pow(2*t-2,2)*((Zb+1)*(t*2-2)+Zb)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*PA),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*PA)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*BA))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*BA)/2+1,easeInBounce:t=>1-ev(1-t),easeOutBounce:ev,easeInOutBounce:t=>t<.5?(1-ev(1-2*t))/2:(1+ev(2*t-1))/2,steps:tSe},wy=Symbol.for("FluidValue.get"),pp=Symbol.for("FluidValue.observers"),po=t=>!!(t&&t[wy]),Qs=t=>t&&t[wy]?t[wy]():t,MA=t=>t[pp]||null;function nSe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function xy(t,e){const r=t[pp];r&&r.forEach(n=>{nSe(n,e)})}var VW=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");iSe(this,t)}},iSe=(t,e)=>zW(t,wy,e);function Ap(t,e){if(t[wy]){let r=t[pp];r||zW(t,pp,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function Sy(t,e){const r=t[pp];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[pp]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var zW=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Av=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,sSe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,NA=new RegExp(`(${Av.source})(%|[a-z]+)`,"i"),aSe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,sS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,WW=t=>{const[e,r]=oSe(t);if(!e||wN())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&sS.test(r))return WW(r);if(r)return r}return t},oSe=t=>{const e=sS.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},a_,lSe=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,HW=t=>{a_||(a_=Vc?new RegExp(`(${Object.keys(Vc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Qs(s).replace(sS,WW).replace(sSe,_A).replace(a_,_A)),r=e.map(s=>s.match(Av).map(Number)),i=r[0].map((s,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>vy({...t,output:s}));return s=>{var l;const a=!NA.test(e[0])&&((l=e.find(u=>NA.test(u)))==null?void 0:l.replace(Av,""));let o=0;return e[0].replace(Av,()=>`${i[o++](s)}${a||""}`).replace(aSe,lSe)}},kN="react-spring: ",UW=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${kN}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},uSe=UW(console.warn);function cSe(){uSe(`${kN}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var dSe=UW(console.warn);function hSe(){dSe(`${kN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function aS(t){return st.str(t)&&(t[0]=="#"||/\d/.test(t)||!wN()&&sS.test(t)||t in(Vc||{}))}var zd=wN()?C.useEffect:C.useLayoutEffect,fSe=()=>{const t=C.useRef(!1);return zd(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function GW(){const t=C.useState()[1],e=fSe();return()=>{e.current&&t(Math.random())}}function pSe(t,e){const[r]=C.useState(()=>({inputs:e,result:t()})),n=C.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&gSe(e,s.inputs)||(s={inputs:e,result:t()}):s=r,C.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function gSe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var jW=t=>C.useEffect(t,mSe),mSe=[];function ySe(t){const e=C.useRef();return C.useEffect(()=>{e.current=t}),e.current}var ky=Symbol.for("Animated:node"),bSe=t=>!!t&&t[ky]===t,_l=t=>t&&t[ky],CN=(t,e)=>O1e(t,ky,e),oS=t=>t&&t[ky]&&t[ky].getPayload(),YW=class{constructor(){CN(this,this)}getPayload(){return this.payload||[]}},h0=class extends YW{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,st.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new h0(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return st.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Cy=class extends h0{constructor(t){super(0),this._string=null,this._toString=vy({output:[t,t]})}static create(t){return new Cy(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(st.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=vy({output:[this.getValue(),t]})),this._value=0,super.reset()}},Kw={dependencies:null},lS=class extends YW{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Yl(this.source,(r,n)=>{bSe(r)?e[n]=r.getValue(t):po(r)?e[n]=Qs(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Cr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Yl(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Kw.dependencies&&po(t)&&Kw.dependencies.add(t);const e=oS(t);e&&Cr(e,r=>this.add(r))}},XW=class extends lS{constructor(t){super(t)}static create(t){return new XW(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(vSe)),!0)}};function vSe(t){return(aS(t)?Cy:h0).create(t)}function pP(t){const e=_l(t);return e?e.constructor:st.arr(t)?XW:aS(t)?Cy:h0}var EA=(t,e)=>{const r=!st.fun(t)||t.prototype&&t.prototype.isReactComponent;return C.forwardRef((n,i)=>{const s=C.useRef(null),a=r&&C.useCallback(m=>{s.current=SSe(i,m)},[i]),[o,l]=xSe(n,e),u=GW(),c=()=>{const m=s.current;if(r&&!m)return;(m?e.applyAnimatedValues(m,o.getValue(!0)):!1)===!1&&u()},h=new wSe(c,l),f=C.useRef();zd(()=>(f.current=h,Cr(l,m=>Ap(m,h)),()=>{f.current&&(Cr(f.current.deps,m=>Sy(m,f.current)),vr.cancel(f.current.update))})),C.useEffect(c,[]),jW(()=>()=>{const m=f.current;Cr(m.deps,y=>Sy(y,m))});const g=e.getComponentProps(o.getValue());return C.createElement(t,{...g,ref:a})})},wSe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&vr.write(this.update)}};function xSe(t,e){const r=new Set;return Kw.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new lS(t),Kw.dependencies=null,[t,r]}function SSe(t,e){return t&&(st.fun(t)?t(e):t.current=e),e}var RA=Symbol.for("AnimatedComponent"),kSe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new lS(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=a=>{const o=DA(a)||"Anonymous";return st.str(a)?a=s[a]||(s[a]=EA(a,i)):a=a[RA]||(a[RA]=EA(a,i)),a.displayName=`Animated(${o})`,a};return Yl(t,(a,o)=>{st.arr(t)&&(o=DA(a)),s[o]=s(a)}),{animated:s}},DA=t=>st.str(t)?t:t&&st.str(t.displayName)?t.displayName:st.fun(t)&&t.name||null;function Js(t,...e){return st.fun(t)?t(...e):t}var xm=(t,e)=>t===!0||!!(e&&t&&(st.fun(t)?t(e):Vs(t).includes(e))),qW=(t,e)=>st.obj(t)?e&&t[e]:t,KW=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,CSe=t=>t,_N=(t,e=CSe)=>{let r=_Se;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);st.und(s)||(n[i]=s)}return n},_Se=["config","onProps","onStart","onChange","onPause","onResume","onRest"],TSe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function PSe(t){const e={};let r=0;if(Yl(t,(n,i)=>{TSe[i]||(e[i]=n,r++)}),r)return e}function TN(t){const e=PSe(t);if(e){const r={to:e};return Yl(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function _y(t){return t=Qs(t),st.arr(t)?t.map(_y):aS(t)?Va.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function BSe(t){for(const e in t)return!0;return!1}function gP(t){return st.fun(t)||st.arr(t)&&st.obj(t[0])}function IA(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function MSe(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var NSe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},mP={...NSe.default,mass:1,damping:1,easing:rSe.linear,clamp:!1},ESe=class{constructor(){this.velocity=0,Object.assign(this,mP)}};function RSe(t,e,r){r&&(r={...r},LA(r,e),e={...r,...e}),LA(t,e),Object.assign(t,e);for(const a in mP)t[a]==null&&(t[a]=mP[a]);let{frequency:n,damping:i}=t;const{mass:s}=t;return st.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function LA(t,e){if(!st.und(e.decay))t.duration=void 0;else{const r=!st.und(e.tension)||!st.und(e.friction);(r||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var FA=[],DSe=class{constructor(){this.changed=!1,this.values=FA,this.toValues=null,this.fromValues=FA,this.config=new ESe,this.immediate=!1}};function QW(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((a,o)=>{let l,u,c=xm(r.cancel??(n==null?void 0:n.cancel),e);if(c)g();else{st.und(r.pause)||(i.paused=xm(r.pause,e));let m=n==null?void 0:n.pause;m!==!0&&(m=i.paused||xm(m,e)),l=Js(r.delay||0,e),m?(i.resumeQueue.add(f),s.pause()):(s.resume(),f())}function h(){i.resumeQueue.add(f),i.timeouts.delete(u),u.cancel(),l=u.time-vr.now()}function f(){l>0&&!Va.skipAnimation?(i.delayed=!0,u=vr.setTimeout(g,l),i.pauseQueue.add(h),i.timeouts.add(u)):g()}function g(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...r,callId:t,cancel:c},a)}catch(m){o(m)}}})}var PN=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Wf(t.get()):e.every(r=>r.noop)?JW(t.get()):Qo(t.get(),e.every(r=>r.finished)),JW=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Qo=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Wf=t=>({value:t,cancelled:!0,finished:!1});function ZW(t,e,r,n){const{callId:i,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=r;return!s&&t===o&&!e.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const u=_N(e,(b,x)=>x==="onRest"?void 0:b);let c,h;const f=new Promise((b,x)=>(c=b,h=x)),g=b=>{const x=i<=(r.cancelId||0)&&Wf(n)||i!==r.asyncId&&Qo(n,!1);if(x)throw b.result=x,h(b),b},m=(b,x)=>{const v=new AA,w=new OA;return(async()=>{if(Va.skipAnimation)throw Ty(r),w.result=Qo(n,!1),h(w),w;g(v);const P=st.obj(b)?{...b}:{...x,to:b};P.parentId=i,Yl(u,(_,M)=>{st.und(P[M])&&(P[M]=_)});const T=await n.start(P);return g(v),r.paused&&await new Promise(_=>{r.resumeQueue.add(_)}),T})()};let y;if(Va.skipAnimation)return Ty(r),Qo(n,!1);try{let b;st.arr(t)?b=(async x=>{for(const v of x)await m(v)})(t):b=Promise.resolve(t(m,n.stop.bind(n))),await Promise.all([b.then(c),f]),y=Qo(n.get(),!0,!1)}catch(b){if(b instanceof AA)y=b.result;else if(b instanceof OA)y=b.result;else throw b}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?o:void 0,r.promise=s?l:void 0)}return st.fun(a)&&vr.batchedUpdates(()=>{a(y,n,n.item)}),y})()}function Ty(t,e){vm(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var AA=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},OA=class extends Error{constructor(){super("SkipAnimationSignal")}},yP=t=>t instanceof BN,ISe=1,BN=class extends VW{constructor(){super(...arguments),this.id=ISe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=_l(this);return t&&t.getValue()}to(...t){return Va.to(this,t)}interpolate(...t){return cSe(),Va.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){xy(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||nS.sort(this),xy(this,{type:"priority",parent:this,priority:t})}},ph=Symbol.for("SpringPhase"),e8=1,bP=2,vP=4,o_=t=>(t[ph]&e8)>0,pc=t=>(t[ph]&bP)>0,Rg=t=>(t[ph]&vP)>0,$A=(t,e)=>e?t[ph]|=bP|e8:t[ph]&=~bP,VA=(t,e)=>e?t[ph]|=vP:t[ph]&=~vP,LSe=class extends BN{constructor(t,e){if(super(),this.animation=new DSe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(t)||!st.und(e)){const r=st.obj(t)?{...t}:{...e,from:t};st.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(pc(this)||this._state.asyncTo)||Rg(this)}get goal(){return Qs(this.animation.to)}get velocity(){const t=_l(this);return t instanceof h0?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return o_(this)}get isAnimating(){return pc(this)}get isPaused(){return Rg(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,a=oS(n.to);!a&&po(n.to)&&(i=Vs(Qs(n.to))),n.values.forEach((u,c)=>{if(u.done)return;const h=u.constructor==Cy?1:a?a[c].lastPosition:i[c];let f=n.immediate,g=h;if(!f){if(g=u.lastPosition,s.tension<=0){u.done=!0;return}let m=u.elapsedTime+=t;const y=n.fromValues[c],b=u.v0!=null?u.v0:u.v0=st.arr(s.velocity)?s.velocity[c]:s.velocity;let x;const v=s.precision||(y==h?.005:Math.min(1,Math.abs(h-y)*.001));if(st.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,P=Math.exp(-(1-w)*m);g=y+b/(1-w)*(1-P),f=Math.abs(u.lastPosition-g)<=v,x=b*P}else{x=u.lastVelocity==null?b:u.lastVelocity;const w=s.restVelocity||v/10,P=s.clamp?0:s.bounce,T=!st.und(P),_=y==h?u.v0>0:y<h;let M,E=!1;const D=1,L=Math.ceil(t/D);for(let F=0;F<L&&(M=Math.abs(x)>w,!(!M&&(f=Math.abs(h-g)<=v,f)));++F){T&&(E=g==h||g>h==_,E&&(x=-x*P,g=h));const z=-s.tension*1e-6*(g-h),V=-s.friction*.001*x,O=(z+V)/s.mass;x=x+O*D,g=g+x*D}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,m=u.elapsedTime+=t)),w=(s.progress||0)+m/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),g=y+s.easing(w)*(h-y),x=(g-u.lastPosition)/t,f=w==1}u.lastVelocity=x,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),f=!0)}a&&!a[c].done&&(f=!1),f?u.done=!0:e=!1,u.setValue(g,s.round)&&(r=!0)});const o=_l(this),l=o.getValue();if(e){const u=Qs(n.to);(l!==u||r)&&!s.decay?(o.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return vr.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(pc(this)){const{to:t,config:e}=this.animation;vr.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return st.und(t)?(r=this.queue||[],this.queue=[]):r=[st.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>PN(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Ty(this._state,t&&this._lastCallId),vr.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=st.obj(r)?r[e]:r,(r==null||gP(r))&&(r=void 0),n=st.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return o_(this)||(t.reverse&&([r,n]=[n,r]),n=Qs(n),st.und(n)?_l(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,_N(t,(a,o)=>/^on/.test(o)?qW(a,r):a)),WA(this,t,"onProps"),Ig(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return QW(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{Rg(this)||(VA(this,!0),Yg(s.pauseQueue),Ig(this,"onPause",Qo(this,Dg(this,this.animation.to)),this))},resume:()=>{Rg(this)&&(VA(this,!1),pc(this)&&this._resume(),Yg(s.resumeQueue),Ig(this,"onResume",Qo(this,Dg(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=t8(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Wf(this));const n=!st.und(t.to),i=!st.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Wf(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:u}=o;let{to:c=l,from:h=u}=t;i&&!n&&(!e.default||st.und(c))&&(c=h),e.reverse&&([c,h]=[h,c]);const f=!uu(h,u);f&&(o.from=h),h=Qs(h);const g=!uu(c,l);g&&this._focus(c);const m=gP(e.to),{config:y}=o,{decay:b,velocity:x}=y;(n||i)&&(y.velocity=0),e.config&&!m&&RSe(y,Js(e.config,s),e.config!==a.config?Js(a.config,s):void 0);let v=_l(this);if(!v||st.und(c))return r(Qo(this,!0));const w=st.und(e.reset)?i&&!e.default:!st.und(h)&&xm(e.reset,s),P=w?h:this.get(),T=_y(c),_=st.num(T)||st.arr(T)||aS(T),M=!m&&(!_||xm(a.immediate||e.immediate,s));if(g){const F=pP(c);if(F!==v.constructor)if(M)v=this._set(T);else throw Error(`Cannot animate between ${v.constructor.name} and ${F.name}, as the "to" prop suggests`)}const E=v.constructor;let D=po(c),L=!1;if(!D){const F=w||!o_(this)&&f;(g||F)&&(L=uu(_y(P),T),D=!L),(!uu(o.immediate,M)&&!M||!uu(y.decay,b)||!uu(y.velocity,x))&&(D=!0)}if(L&&pc(this)&&(o.changed&&!w?D=!0:D||this._stop(l)),!m&&((D||po(l))&&(o.values=v.getPayload(),o.toValues=po(c)?null:E==Cy?[1]:Vs(T)),o.immediate!=M&&(o.immediate=M,!M&&!w&&this._set(l)),D)){const{onRest:F}=o;Cr(FSe,V=>WA(this,e,V));const z=Qo(this,Dg(this,l));Yg(this._pendingCalls,z),this._pendingCalls.add(r),o.changed&&vr.batchedUpdates(()=>{var V;o.changed=!w,F==null||F(z,this),w?Js(a.onRest,z):(V=o.onStart)==null||V.call(o,z,this)})}w&&this._set(P),m?r(ZW(e.to,e,this._state,this)):D?this._start():pc(this)&&!g?this._pendingCalls.add(r):r(JW(P))}_focus(t){const e=this.animation;t!==e.to&&(MA(this)&&this._detach(),e.to=t,MA(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;po(e)&&(Ap(e,this),yP(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;po(t)&&Sy(t,this)}_set(t,e=!0){const r=Qs(t);if(!st.und(r)){const n=_l(this);if(!n||!uu(r,n.getValue())){const i=pP(r);!n||n.constructor!=i?CN(this,i.create(r)):n.setValue(r),n&&vr.batchedUpdates(()=>{this._onChange(r,e)})}}return _l(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Ig(this,"onStart",Qo(this,Dg(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Js(this.animation.onChange,t,this)),Js(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;_l(this).reset(Qs(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),pc(this)||($A(this,!0),Rg(this)||this._resume())}_resume(){Va.skipAnimation?this.finish():nS.start(this)}_stop(t,e){if(pc(this)){$A(this,!1);const r=this.animation;Cr(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),xy(this,{type:"idle",parent:this});const n=e?Wf(this.get()):Qo(this.get(),Dg(this,t??r.to));Yg(this._pendingCalls,n),r.changed&&(r.changed=!1,Ig(this,"onRest",n,this))}}};function Dg(t,e){const r=_y(e),n=_y(t.get());return uu(n,r)}function t8(t,e=t.loop,r=t.to){const n=Js(e);if(n){const i=n!==!0&&TN(n),s=(i||t).reverse,a=!i||i.reset;return Qw({...t,loop:e,default:!1,pause:void 0,to:!s||gP(r)?r:void 0,from:a?t.from:void 0,reset:a,...i})}}function Qw(t){const{to:e,from:r}=t=TN(t),n=new Set;return st.obj(e)&&zA(e,n),st.obj(r)&&zA(r,n),t.keys=n.size?Array.from(n):null,t}function zA(t,e){Yl(t,(r,n)=>r!=null&&e.add(n))}var FSe=["onStart","onRest","onChange","onPause","onResume"];function WA(t,e,r){t.animation[r]=e[r]!==KW(e,r)?qW(e[r],t.key):void 0}function Ig(t,e,...r){var n,i,s,a;(i=(n=t.animation)[e])==null||i.call(n,...r),(a=(s=t.defaultProps)[e])==null||a.call(s,...r)}var ASe=["onStart","onChange","onRest"],OSe=1,$Se=class{constructor(t,e){this.id=OSe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];st.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(Qw(t)),this}start(t){let{queue:e}=this;return t?e=Vs(t).map(Qw):this.queue=[],this._flush?this._flush(this,e):(s8(this,e),VSe(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Cr(Vs(e),n=>r[n].stop(!!t))}else Ty(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(st.und(t))this.start({pause:!0});else{const e=this.springs;Cr(Vs(t),r=>e[r].pause())}return this}resume(t){if(st.und(t))this.start({pause:!1});else{const e=this.springs;Cr(Vs(t),r=>e[r].resume())}return this}each(t){Yl(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,vm(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!n&&this._started,a=i||s&&r.size?this.get():null;i&&e.size&&vm(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,vm(r,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;vr.onFrame(this._onFrame)}};function VSe(t,e){return Promise.all(e.map(r=>r8(t,r))).then(r=>PN(t,r))}async function r8(t,e,r){const{keys:n,to:i,from:s,loop:a,onRest:o,onResolve:l}=e,u=st.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=st.arr(i)||st.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Cr(ASe,y=>{const b=e[y];if(st.fun(b)){const x=t._events[y];e[y]=({finished:v,cancelled:w})=>{const P=x.get(b);P?(v||(P.finished=!1),w&&(P.cancelled=!0)):x.set(b,{value:null,finished:v||!1,cancelled:w||!1})},u&&(u[y]=e[y])}});const h=t._state;e.pause===!h.paused?(h.paused=e.pause,Yg(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const f=(n||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),g=e.cancel===!0||KW(e,"cancel")===!0;(c||g&&h.asyncId)&&f.push(QW(++t._lastAsyncId,{props:e,state:h,actions:{pause:hP,resume:hP,start(y,b){g?(Ty(h,t._lastAsyncId),b(Wf(t))):(y.onRest=o,b(ZW(c,y,h,t)))}}})),h.paused&&await new Promise(y=>{h.resumeQueue.add(y)});const m=PN(t,await Promise.all(f));if(a&&m.finished&&!(r&&m.noop)){const y=t8(e,a,i);if(y)return s8(t,[y]),r8(t,y,!0)}return l&&vr.batchedUpdates(()=>l(m,t,t.item)),m}function zSe(t,e){const r={...t.springs};return e&&Cr(Vs(e),n=>{st.und(n.keys)&&(n=Qw(n)),st.obj(n.to)||(n={...n,to:void 0}),i8(r,n,i=>n8(i))}),WSe(t,r),r}function WSe(t,e){Yl(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Ap(r,t))})}function n8(t,e){const r=new LSe;return r.key=t,e&&Ap(r,e),r}function i8(t,e,r){e.keys&&Cr(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function s8(t,e){Cr(e,r=>{i8(t.springs,r,n=>n8(n,t))})}var uS=({children:t,...e})=>{const r=C.useContext(Jw),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=pSe(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=Jw;return C.createElement(s,{value:e},t)},Jw=HSe(uS,{});uS.Provider=Jw.Provider;uS.Consumer=Jw.Consumer;function HSe(t,e){return Object.assign(t,C.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var USe=()=>{const t=[],e=function(n){hSe();const i=[];return Cr(t,(s,a)=>{if(st.und(n))i.push(s.start());else{const o=r(n,s,a);o&&i.push(s.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Cr(t,n=>n.pause(...arguments)),this},e.resume=function(){return Cr(t,n=>n.resume(...arguments)),this},e.set=function(n){Cr(t,(i,s)=>{const a=st.fun(n)?n(s,i):n;a&&i.set(a)})},e.start=function(n){const i=[];return Cr(t,(s,a)=>{if(st.und(n))i.push(s.start());else{const o=this._getProps(n,s,a);o&&i.push(s.start(o))}}),i},e.stop=function(){return Cr(t,n=>n.stop(...arguments)),this},e.update=function(n){return Cr(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return st.fun(n)?n(s,i):n};return e._getProps=r,e};function wP(t,e,r){const n=st.fun(e)&&e,{reset:i,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:h}=n?n():e,f=C.useMemo(()=>n||arguments.length==3?USe():void 0,[]),g=Vs(t),m=[],y=C.useRef(null),b=i?null:y.current;zd(()=>{y.current=m}),jW(()=>(Cr(m,O=>{f==null||f.add(O.ctrl),O.ctrl.ref=f}),()=>{Cr(y.current,O=>{O.expired&&clearTimeout(O.expirationId),IA(O.ctrl,f),O.ctrl.stop(!0)})}));const x=jSe(g,n?n():e,b),v=i&&y.current||[];zd(()=>Cr(v,({ctrl:O,item:I,key:H})=>{IA(O,f),Js(u,I,H)}));const w=[];if(b&&Cr(b,(O,I)=>{O.expired?(clearTimeout(O.expirationId),v.push(O)):(I=w[I]=x.indexOf(O.key),~I&&(m[I]=O))}),Cr(g,(O,I)=>{m[I]||(m[I]={key:x[I],item:O,phase:"mount",ctrl:new $Se},m[I].ctrl.item=O)}),w.length){let O=-1;const{leave:I}=n?n():e;Cr(w,(H,W)=>{const A=b[W];~H?(O=m.indexOf(A),m[O]={...A,item:g[H]}):I&&m.splice(++O,0,A)})}st.fun(s)&&m.sort((O,I)=>s(O.item,I.item));let P=-a;const T=GW(),_=_N(e),M=new Map,E=C.useRef(new Map),D=C.useRef(!1);Cr(m,(O,I)=>{const H=O.key,W=O.phase,A=n?n():e;let U,q;const ae=Js(A.delay||0,H);if(W=="mount")U=A.enter,q="enter";else{const J=x.indexOf(H)<0;if(W!="leave")if(J)U=A.leave,q="leave";else if(U=A.update)q="update";else return;else if(!J)U=A.enter,q="enter";else return}if(U=Js(U,O.item,I),U=st.obj(U)?TN(U):{to:U},!U.config){const J=h||_.config;U.config=Js(J,O.item,I,q)}P+=a;const ne={..._,delay:ae+P,ref:c,immediate:A.immediate,reset:!1,...U};if(q=="enter"&&st.und(ne.from)){const J=n?n():e,ce=st.und(J.initial)||b?J.from:J.initial;ne.from=Js(ce,O.item,I)}const{onResolve:ge}=ne;ne.onResolve=J=>{Js(ge,J);const ce=y.current,Se=ce.find(K=>K.key===H);if(Se&&!(J.cancelled&&Se.phase!="update")&&Se.ctrl.idle){const K=ce.every(Z=>Z.ctrl.idle);if(Se.phase=="leave"){const Z=Js(o,Se.item);if(Z!==!1){const ue=Z===!0?0:Z;if(Se.expired=!0,!K&&ue>0){ue<=2147483647&&(Se.expirationId=setTimeout(T,ue));return}}}K&&ce.some(Z=>Z.expired)&&(E.current.delete(Se),l&&(D.current=!0),T())}};const fe=zSe(O.ctrl,ne);q==="leave"&&l?E.current.set(O,{phase:q,springs:fe,payload:ne}):M.set(O,{phase:q,springs:fe,payload:ne})});const L=C.useContext(uS),F=ySe(L),z=L!==F&&BSe(L);zd(()=>{z&&Cr(m,O=>{O.ctrl.start({default:L})})},[L]),Cr(M,(O,I)=>{if(E.current.size){const H=m.findIndex(W=>W.key===I.key);m.splice(H,1)}}),zd(()=>{Cr(E.current.size?E.current:M,({phase:O,payload:I},H)=>{const{ctrl:W}=H;H.phase=O,f==null||f.add(W),z&&O=="enter"&&W.start({default:L}),I&&(MSe(W,I.ref),(W.ref||f)&&!D.current?W.update(I):(W.start(I),D.current&&(D.current=!1)))})},i?void 0:r);const V=O=>C.createElement(C.Fragment,null,m.map((I,H)=>{const{springs:W}=M.get(I)||I.ctrl,A=O({...W},I.item,I,H);return A&&A.type?C.createElement(A.type,{...A.props,key:st.str(I.key)||st.num(I.key)?I.key:I.ctrl.id,ref:A.ref}):A}));return f?[V,f]:V}var GSe=1;function jSe(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(s=>{const a=n&&n.find(o=>o.item===s&&o.phase!=="leave"&&!i.has(o));return a?(i.add(a),a.key):GSe++})}return st.und(r)?t:st.fun(r)?t.map(r):Vs(r)}var YSe=class extends BN{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=vy(...e);const r=this._get(),n=pP(r);CN(this,n.create(r))}advance(t){const e=this._get(),r=this.get();uu(e,r)||(_l(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&HA(this._active)&&l_(this)}_get(){const t=st.arr(this.source)?this.source.map(Qs):Vs(Qs(this.source));return this.calc(...t)}_start(){this.idle&&!HA(this._active)&&(this.idle=!1,Cr(oS(this),t=>{t.done=!1}),Va.skipAnimation?(vr.batchedUpdates(()=>this.advance()),l_(this)):nS.start(this))}_attach(){let t=1;Cr(Vs(this.source),e=>{po(e)&&Ap(e,this),yP(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Cr(Vs(this.source),t=>{po(t)&&Sy(t,this)}),this._active.clear(),l_(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Vs(this.source).reduce((e,r)=>Math.max(e,(yP(r)?r.priority:0)+1),0))}};function XSe(t){return t.idle!==!1}function HA(t){return!t.size||Array.from(t).every(XSe)}function l_(t){t.idle||(t.idle=!0,Cr(oS(t),e=>{e.done=!0}),xy(t,{type:"idle",parent:t}))}Va.assign({createStringInterpolator:HW,to:(t,e)=>new YSe(t,e)});var a8=/^--/;function qSe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!a8.test(t)&&!(Sm.hasOwnProperty(t)&&Sm[t])?e+"px":(""+e).trim()}var UA={};function KSe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:a,viewBox:o,...l}=e,u=Object.values(l),c=Object.keys(l).map(h=>r||t.hasAttribute(h)?h:UA[h]||(UA[h]=h.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(t.textContent=i);for(const h in n)if(n.hasOwnProperty(h)){const f=qSe(h,n[h]);a8.test(h)?t.style.setProperty(h,f):t.style[h]=f}c.forEach((h,f)=>{t.setAttribute(h,u[f])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&t.setAttribute("viewBox",o)}var Sm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QSe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),JSe=["Webkit","Ms","Moz","O"];Sm=Object.keys(Sm).reduce((t,e)=>(JSe.forEach(r=>t[QSe(r,e)]=t[e]),t),Sm);var ZSe=/^(matrix|translate|scale|rotate|skew)/,eke=/^(translate)/,tke=/^(rotate|skew)/,u_=(t,e)=>st.num(t)&&t!==0?t+e:t,Ov=(t,e)=>st.arr(t)?t.every(r=>Ov(r,e)):st.num(t)?t===e:parseFloat(t)===e,rke=class extends lS{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(a=>[`translate3d(${a.map(o=>u_(o,"px")).join(",")})`,Ov(a,0)])),Yl(n,(a,o)=>{if(o==="transform")i.push([a||""]),s.push(l=>[l,l===""]);else if(ZSe.test(o)){if(delete n[o],st.und(a))return;const l=eke.test(o)?"px":tke.test(o)?"deg":"";i.push(Vs(a)),s.push(o==="rotate3d"?([u,c,h,f])=>[`rotate3d(${u},${c},${h},${u_(f,l)})`,Ov(f,0)]:u=>[`${o}(${u.map(c=>u_(c,l)).join(",")})`,Ov(u,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new nke(i,s)),super(n)}},nke=class extends VW{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Cr(this.inputs,(r,n)=>{const i=Qs(r[0]),[s,a]=this.transforms[n](st.arr(i)?i:r.map(Qs));t+=" "+s,e=e&&a}),e?"none":t}observerAdded(t){t==1&&Cr(this.inputs,e=>Cr(e,r=>po(r)&&Ap(r,this)))}observerRemoved(t){t==0&&Cr(this.inputs,e=>Cr(e,r=>po(r)&&Sy(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),xy(this,t)}},ike=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Va.assign({batchedUpdates:$y.unstable_batchedUpdates,createStringInterpolator:HW,colors:H1e});var ske=kSe(ike,{applyAnimatedValues:KSe,createAnimatedStyle:t=>new rke(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),MN=ske.animated;function $v(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ake(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NN(t){let e,r,n;t.length!==2?(e=$v,r=(o,l)=>$v(t(o),l),n=(o,l)=>t(o)-l):(e=t===$v||t===ake?t:oke,r=t,n=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;r(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;r(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function oke(){return 0}function lke(t){return t===null?NaN:+t}const uke=NN($v),o8=uke.right;NN(lke).center;class GA extends Map{constructor(e,r=hke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(jA(this,e))}has(e){return super.has(jA(this,e))}set(e,r){return super.set(cke(this,e),r)}delete(e){return super.delete(dke(this,e))}}function jA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cke({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function dke({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hke(t){return t!==null&&typeof t=="object"?t.valueOf():t}const fke=Math.sqrt(50),pke=Math.sqrt(10),gke=Math.sqrt(2);function Zw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=fke?10:s>=pke?5:s>=gke?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Zw(t,e,r*2):[o,l,u]}function xP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Zw(e,t,r):Zw(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function SP(t,e,r){return e=+e,t=+t,r=+r,Zw(t,e,r)[2]}function kP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?SP(e,t,r):SP(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function mke(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ed(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yke(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YA=Symbol("implicit");function ex(){var t=new GA,e=[],r=[],n=YA;function i(s){let a=t.get(s);if(a===void 0){if(n!==YA)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new GA;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ex(e,r).unknown(n)},ed.apply(i,arguments),i}function EN(){var t=ex().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,g=i<n,m=g?i:n,y=g?n:i;s=(y-m)/Math.max(1,f-l+u*2),o&&(s=Math.floor(s)),m+=(y-m-s*(f-l))*c,a=s*(1-l),o&&(m=Math.round(m),a=Math.round(a));var b=mke(f).map(function(x){return m+s*x});return r(g?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return EN(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},ed.apply(h(),arguments)}function l8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l8(e())},t}function bke(){return l8(EN.apply(null,arguments).paddingInner(1))}function RN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function u8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function f0(){}var Py=.7,tx=1/Py,Hf="\\s*([+-]?\\d+)\\s*",By="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vke=/^#([0-9a-f]{3,8})$/,wke=new RegExp(`^rgb\\(${Hf},${Hf},${Hf}\\)$`),xke=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),Ske=new RegExp(`^rgba\\(${Hf},${Hf},${Hf},${By}\\)$`),kke=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${By}\\)$`),Cke=new RegExp(`^hsl\\(${By},${Wl},${Wl}\\)$`),_ke=new RegExp(`^hsla\\(${By},${Wl},${Wl},${By}\\)$`),XA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RN(f0,gp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qA,formatHex:qA,formatHex8:Tke,formatHsl:Pke,formatRgb:KA,toString:KA});function qA(){return this.rgb().formatHex()}function Tke(){return this.rgb().formatHex8()}function Pke(){return c8(this).formatHsl()}function KA(){return this.rgb().formatRgb()}function gp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=vke.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?QA(e):r===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?tv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?tv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wke.exec(t))?new sa(e[1],e[2],e[3],1):(e=xke.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ske.exec(t))?tv(e[1],e[2],e[3],e[4]):(e=kke.exec(t))?tv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cke.exec(t))?eO(e[1],e[2]/100,e[3]/100,1):(e=_ke.exec(t))?eO(e[1],e[2]/100,e[3]/100,e[4]):XA.hasOwnProperty(t)?QA(XA[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function QA(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function tv(t,e,r,n){return n<=0&&(t=e=r=NaN),new sa(t,e,r,n)}function Bke(t){return t instanceof f0||(t=gp(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function CP(t,e,r,n){return arguments.length===1?Bke(t):new sa(t,e,r,n??1)}function sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}RN(sa,CP,u8(f0,{brighter(t){return t=t==null?tx:Math.pow(tx,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(Zd(this.r),Zd(this.g),Zd(this.b),rx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JA,formatHex:JA,formatHex8:Mke,formatRgb:ZA,toString:ZA}));function JA(){return`#${Wd(this.r)}${Wd(this.g)}${Wd(this.b)}`}function Mke(){return`#${Wd(this.r)}${Wd(this.g)}${Wd(this.b)}${Wd((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZA(){const t=rx(this.opacity);return`${t===1?"rgb(":"rgba("}${Zd(this.r)}, ${Zd(this.g)}, ${Zd(this.b)}${t===1?")":`, ${t})`}`}function rx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wd(t){return t=Zd(t),(t<16?"0":"")+t.toString(16)}function eO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new tl(t,e,r,n)}function c8(t){if(t instanceof tl)return new tl(t.h,t.s,t.l,t.opacity);if(t instanceof f0||(t=gp(t)),!t)return new tl;if(t instanceof tl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new tl(a,o,l,t.opacity)}function Nke(t,e,r,n){return arguments.length===1?c8(t):new tl(t,e,r,n??1)}function tl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}RN(tl,Nke,u8(f0,{brighter(t){return t=t==null?tx:Math.pow(tx,t),new tl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new tl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new sa(c_(t>=240?t-240:t+120,i,n),c_(t,i,n),c_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new tl(tO(this.h),rv(this.s),rv(this.l),rx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rx(this.opacity);return`${t===1?"hsl(":"hsla("}${tO(this.h)}, ${rv(this.s)*100}%, ${rv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tO(t){return t=(t||0)%360,t<0?t+360:t}function rv(t){return Math.max(0,Math.min(1,t||0))}function c_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const DN=t=>()=>t;function Eke(t,e){return function(r){return t+r*e}}function Rke(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Dke(t){return(t=+t)==1?d8:function(e,r){return r-e?Rke(e,r,t):DN(isNaN(e)?r:e)}}function d8(t,e){var r=e-t;return r?Eke(t,r):DN(isNaN(t)?e:t)}const rO=function t(e){var r=Dke(e);function n(i,s){var a=r((i=CP(i)).r,(s=CP(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=d8(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function Ike(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Lke(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fke(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=cS(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function h8(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function My(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ake(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=cS(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var _P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d_=new RegExp(_P.source,"g");function Oke(t){return function(){return t}}function $ke(t){return function(e){return t(e)+""}}function Vke(t,e){var r=_P.lastIndex=d_.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=_P.exec(t))&&(i=d_.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:My(n,i)})),r=d_.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?$ke(l[0].x):Oke(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function cS(t,e){var r=typeof e,n;return e==null||r==="boolean"?DN(e):(r==="number"?My:r==="string"?(n=gp(e))?(e=n,rO):Vke:e instanceof gp?rO:e instanceof Date?h8:Lke(e)?Ike:Array.isArray(e)?Fke:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ake:My)(t,e)}function f8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function zke(t){return function(){return t}}function Wke(t){return+t}var nO=[0,1];function wo(t){return t}function TP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zke(isNaN(e)?NaN:.5)}function Hke(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Uke(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=TP(i,n),s=r(a,s)):(n=TP(n,i),s=r(s,a)),function(o){return s(n(o))}}function Gke(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=TP(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=o8(t,o,1,n)-1;return s[l](i[l](o))}}function dS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function IN(){var t=nO,e=nO,r=cS,n,i,s,a=wo,o,l,u;function c(){var f=Math.min(t.length,e.length);return a!==wo&&(a=Hke(t[0],t[f-1])),o=f>2?Gke:Uke,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(n),e,r)))(n(a(f)))}return h.invert=function(f){return a(i((u||(u=o(e,t.map(n),My)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Wke),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=f8,c()},h.clamp=function(f){return arguments.length?(a=f?!0:wo,c()):a!==wo},h.interpolate=function(f){return arguments.length?(r=f,c()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,g){return n=f,i=g,c()}}function p8(){return IN()(wo,wo)}function jke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function nx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mp(t){return t=nx(Math.abs(t)),t?t[1]:NaN}function Yke(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Xke(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var qke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ny(t){if(!(e=qke.exec(t)))throw new Error("invalid format: "+t);var e;return new LN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ny.prototype=LN.prototype;function LN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kke(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var g8;function Qke(t,e){var r=nx(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(g8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+nx(t,Math.max(0,e+s-1))[0]}function iO(t,e){var r=nx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const sO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iO(t*100,e),r:iO,s:Qke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aO(t){return t}var oO=Array.prototype.map,lO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jke(t){var e=t.grouping===void 0||t.thousands===void 0?aO:Yke(oO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?aO:Xke(oO.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Ny(h);var f=h.fill,g=h.align,m=h.sign,y=h.symbol,b=h.zero,x=h.width,v=h.comma,w=h.precision,P=h.trim,T=h.type;T==="n"?(v=!0,T="g"):sO[T]||(w===void 0&&(w=12),P=!0,T="g"),(b||f==="0"&&g==="=")&&(b=!0,f="0",g="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=y==="$"?n:/[%p]/.test(T)?a:"",E=sO[T],D=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(F){var z=_,V=M,O,I,H;if(T==="c")V=E(F)+V,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?l:E(Math.abs(F),w),P&&(F=Kke(F)),W&&+F==0&&m!=="+"&&(W=!1),z=(W?m==="("?m:o:m==="-"||m==="("?"":m)+z,V=(T==="s"?lO[8+g8/3]:"")+V+(W&&m==="("?")":""),D){for(O=-1,I=F.length;++O<I;)if(H=F.charCodeAt(O),48>H||H>57){V=(H===46?i+F.slice(O+1):F.slice(O))+V,F=F.slice(0,O);break}}}v&&!b&&(F=e(F,1/0));var A=z.length+F.length+V.length,U=A<x?new Array(x-A+1).join(f):"";switch(v&&b&&(F=e(U+F,U.length?x-V.length:1/0),U=""),g){case"<":F=z+F+V+U;break;case"=":F=z+U+F+V;break;case"^":F=U.slice(0,A=U.length>>1)+z+F+V+U.slice(A);break;default:F=U+z+F+V;break}return s(F)}return L.toString=function(){return h+""},L}function c(h,f){var g=u((h=Ny(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(mp(f)/3)))*3,y=Math.pow(10,-m),b=lO[8+m/3];return function(x){return g(y*x)+b}}return{format:u,formatPrefix:c}}var nv,FN,m8;Zke({thousands:",",grouping:[3],currency:["$",""]});function Zke(t){return nv=Jke(t),FN=nv.format,m8=nv.formatPrefix,nv}function eCe(t){return Math.max(0,-mp(Math.abs(t)))}function tCe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mp(e)/3)))*3-mp(Math.abs(t)))}function rCe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mp(e)-mp(t))+1}function nCe(t,e,r,n){var i=kP(t,e,r),s;switch(n=Ny(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=tCe(i,a))&&(n.precision=s),m8(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rCe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=eCe(i))&&(n.precision=s-(n.type==="%")*2);break}}return FN(n)}function AN(t){var e=t.domain;return t.ticks=function(r){var n=e();return xP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return nCe(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);c-- >0;){if(u=SP(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function y8(){var t=p8();return t.copy=function(){return dS(t,y8())},ed.apply(t,arguments),AN(t)}function b8(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function uO(t){return Math.log(t)}function cO(t){return Math.exp(t)}function iCe(t){return-Math.log(-t)}function sCe(t){return-Math.exp(-t)}function aCe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oCe(t){return t===10?aCe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lCe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dO(t){return(e,r)=>-t(-e,r)}function uCe(t){const e=t(uO,cO),r=e.domain;let n=10,i,s;function a(){return i=lCe(n),s=oCe(n),r()[0]<0?(i=dO(i),s=dO(s),t(iCe,sCe)):t(uO,cO),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),g=i(c),m,y;const b=o==null?10:+o;let x=[];if(!(n%1)&&g-f<b){if(f=Math.floor(f),g=Math.ceil(g),u>0){for(;f<=g;++f)for(m=1;m<n;++m)if(y=f<0?m/s(-f):m*s(f),!(y<u)){if(y>c)break;x.push(y)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(y=f>0?m/s(-f):m*s(f),!(y<u)){if(y>c)break;x.push(y)}x.length*2<b&&(x=xP(u,c,b))}else x=xP(f,g,Math.min(g-f,b)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ny(l)).precision==null&&(l.trim=!0),l=FN(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return c=>{let h=c/s(Math.round(i(c)));return h*n<n-.5&&(h*=n),h<=u?l(c):""}},e.nice=()=>r(b8(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function v8(){const t=uCe(IN()).domain([1,10]);return t.copy=()=>dS(t,v8()).base(t.base()),ed.apply(t,arguments),t}function hO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cCe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dCe(t){return t<0?-t*t:t*t}function hCe(t){var e=t(wo,wo),r=1;function n(){return r===1?t(wo,wo):r===.5?t(cCe,dCe):t(hO(r),hO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},AN(e)}function ON(){var t=hCe(IN());return t.copy=function(){return dS(t,ON()).exponent(t.exponent())},ed.apply(t,arguments),t}function fCe(){return ON.apply(null,arguments).exponent(.5)}function w8(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[o8(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return w8().domain(t).range(e).unknown(r)},ed.apply(i,arguments)}const h_=new Date,f_=new Date;function Xi(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>Xi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(h_.setTime(+s),f_.setTime(+a),t(h_),t(f_),Math.floor(r(h_,f_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const ix=Xi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ix.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ix);ix.range;const Su=1e3,xo=Su*60,ku=xo*60,Au=ku*24,$N=Au*7,fO=Au*30,p_=Au*365,Hd=Xi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getUTCSeconds());Hd.range;const VN=Xi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Su)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getMinutes());VN.range;const zN=Xi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCMinutes());zN.range;const WN=Xi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Su-t.getMinutes()*xo)},(t,e)=>{t.setTime(+t+e*ku)},(t,e)=>(e-t)/ku,t=>t.getHours());WN.range;const HN=Xi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ku)},(t,e)=>(e-t)/ku,t=>t.getUTCHours());HN.range;const p0=Xi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xo)/Au,t=>t.getDate()-1);p0.range;const hS=Xi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>t.getUTCDate()-1);hS.range;const x8=Xi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>Math.floor(t/Au));x8.range;function Th(t){return Xi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*xo)/$N)}const fS=Th(0),sx=Th(1),pCe=Th(2),gCe=Th(3),yp=Th(4),mCe=Th(5),yCe=Th(6);fS.range;sx.range;pCe.range;gCe.range;yp.range;mCe.range;yCe.range;function Ph(t){return Xi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$N)}const pS=Ph(0),ax=Ph(1),bCe=Ph(2),vCe=Ph(3),bp=Ph(4),wCe=Ph(5),xCe=Ph(6);pS.range;ax.range;bCe.range;vCe.range;bp.range;wCe.range;xCe.range;const UN=Xi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UN.range;const GN=Xi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GN.range;const Ou=Xi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ou.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ou.range;const $u=Xi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$u.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$u.range;function S8(t,e,r,n,i,s){const a=[[Hd,1,Su],[Hd,5,5*Su],[Hd,15,15*Su],[Hd,30,30*Su],[s,1,xo],[s,5,5*xo],[s,15,15*xo],[s,30,30*xo],[i,1,ku],[i,3,3*ku],[i,6,6*ku],[i,12,12*ku],[n,1,Au],[n,2,2*Au],[r,1,$N],[e,1,fO],[e,3,3*fO],[t,1,p_]];function o(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const g=h&&typeof h.range=="function"?h:l(u,c,h),m=g?g.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,h){const f=Math.abs(c-u)/h,g=NN(([,,b])=>b).right(a,f);if(g===a.length)return t.every(kP(u/p_,c/p_,h));if(g===0)return ix.every(Math.max(kP(u,c,h),1));const[m,y]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(y)}return[o,l]}const[SCe,kCe]=S8($u,GN,pS,x8,HN,zN),[CCe,_Ce]=S8(Ou,UN,fS,p0,WN,VN);function g_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function m_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function TCe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Fg(i),c=Ag(i),h=Fg(s),f=Ag(s),g=Fg(a),m=Ag(a),y=Fg(o),b=Ag(o),x=Fg(l),v=Ag(l),w={a:W,A,b:U,B:q,c:null,d:vO,e:vO,f:qCe,g:s_e,G:o_e,H:jCe,I:YCe,j:XCe,L:k8,m:KCe,M:QCe,p:ae,q:ne,Q:SO,s:kO,S:JCe,u:ZCe,U:e_e,V:t_e,w:r_e,W:n_e,x:null,X:null,y:i_e,Y:a_e,Z:l_e,"%":xO},P={a:ge,A:fe,b:J,B:ce,c:null,d:wO,e:wO,f:h_e,g:S_e,G:C_e,H:u_e,I:c_e,j:d_e,L:_8,m:f_e,M:p_e,p:Se,q:K,Q:SO,s:kO,S:g_e,u:m_e,U:y_e,V:b_e,w:v_e,W:w_e,x:null,X:null,y:x_e,Y:k_e,Z:__e,"%":xO},T={a:L,A:F,b:z,B:V,c:O,d:yO,e:yO,f:WCe,g:mO,G:gO,H:bO,I:bO,j:OCe,L:zCe,m:ACe,M:$Ce,p:D,q:FCe,Q:UCe,s:GCe,S:VCe,u:ECe,U:RCe,V:DCe,w:NCe,W:ICe,x:I,X:H,y:mO,Y:gO,Z:LCe,"%":HCe};w.x=_(r,w),w.X=_(n,w),w.c=_(e,w),P.x=_(r,P),P.X=_(n,P),P.c=_(e,P);function _(Z,ue){return function(de){var re=[],Q=-1,ee=0,oe=Z.length,Me,ke,j;for(de instanceof Date||(de=new Date(+de));++Q<oe;)Z.charCodeAt(Q)===37&&(re.push(Z.slice(ee,Q)),(ke=pO[Me=Z.charAt(++Q)])!=null?Me=Z.charAt(++Q):ke=Me==="e"?" ":"0",(j=ue[Me])&&(Me=j(de,ke)),re.push(Me),ee=Q+1);return re.push(Z.slice(ee,Q)),re.join("")}}function M(Z,ue){return function(de){var re=Lg(1900,void 0,1),Q=E(re,Z,de+="",0),ee,oe;if(Q!=de.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ue&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ee=m_(Lg(re.y,0,1)),oe=ee.getUTCDay(),ee=oe>4||oe===0?ax.ceil(ee):ax(ee),ee=hS.offset(ee,(re.V-1)*7),re.y=ee.getUTCFullYear(),re.m=ee.getUTCMonth(),re.d=ee.getUTCDate()+(re.w+6)%7):(ee=g_(Lg(re.y,0,1)),oe=ee.getDay(),ee=oe>4||oe===0?sx.ceil(ee):sx(ee),ee=p0.offset(ee,(re.V-1)*7),re.y=ee.getFullYear(),re.m=ee.getMonth(),re.d=ee.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),oe="Z"in re?m_(Lg(re.y,0,1)).getUTCDay():g_(Lg(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(oe+5)%7:re.w+re.U*7-(oe+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,m_(re)):g_(re)}}function E(Z,ue,de,re){for(var Q=0,ee=ue.length,oe=de.length,Me,ke;Q<ee;){if(re>=oe)return-1;if(Me=ue.charCodeAt(Q++),Me===37){if(Me=ue.charAt(Q++),ke=T[Me in pO?ue.charAt(Q++):Me],!ke||(re=ke(Z,de,re))<0)return-1}else if(Me!=de.charCodeAt(re++))return-1}return re}function D(Z,ue,de){var re=u.exec(ue.slice(de));return re?(Z.p=c.get(re[0].toLowerCase()),de+re[0].length):-1}function L(Z,ue,de){var re=g.exec(ue.slice(de));return re?(Z.w=m.get(re[0].toLowerCase()),de+re[0].length):-1}function F(Z,ue,de){var re=h.exec(ue.slice(de));return re?(Z.w=f.get(re[0].toLowerCase()),de+re[0].length):-1}function z(Z,ue,de){var re=x.exec(ue.slice(de));return re?(Z.m=v.get(re[0].toLowerCase()),de+re[0].length):-1}function V(Z,ue,de){var re=y.exec(ue.slice(de));return re?(Z.m=b.get(re[0].toLowerCase()),de+re[0].length):-1}function O(Z,ue,de){return E(Z,e,ue,de)}function I(Z,ue,de){return E(Z,r,ue,de)}function H(Z,ue,de){return E(Z,n,ue,de)}function W(Z){return a[Z.getDay()]}function A(Z){return s[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function q(Z){return o[Z.getMonth()]}function ae(Z){return i[+(Z.getHours()>=12)]}function ne(Z){return 1+~~(Z.getMonth()/3)}function ge(Z){return a[Z.getUTCDay()]}function fe(Z){return s[Z.getUTCDay()]}function J(Z){return l[Z.getUTCMonth()]}function ce(Z){return o[Z.getUTCMonth()]}function Se(Z){return i[+(Z.getUTCHours()>=12)]}function K(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=_(Z+="",w);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=M(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=_(Z+="",P);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=M(Z+="",!0);return ue.toString=function(){return Z},ue}}}var pO={"-":"",_:" ",0:"0"},is=/^\s*\d+/,PCe=/^%/,BCe=/[\\^$*+?|[\]().{}]/g;function Zr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function MCe(t){return t.replace(BCe,"\\$&")}function Fg(t){return new RegExp("^(?:"+t.map(MCe).join("|")+")","i")}function Ag(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NCe(t,e,r){var n=is.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function ECe(t,e,r){var n=is.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function RCe(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function DCe(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ICe(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gO(t,e,r){var n=is.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mO(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LCe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FCe(t,e,r){var n=is.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function ACe(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yO(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function OCe(t,e,r){var n=is.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function bO(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $Ce(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function VCe(t,e,r){var n=is.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zCe(t,e,r){var n=is.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function WCe(t,e,r){var n=is.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HCe(t,e,r){var n=PCe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function UCe(t,e,r){var n=is.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function GCe(t,e,r){var n=is.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function vO(t,e){return Zr(t.getDate(),e,2)}function jCe(t,e){return Zr(t.getHours(),e,2)}function YCe(t,e){return Zr(t.getHours()%12||12,e,2)}function XCe(t,e){return Zr(1+p0.count(Ou(t),t),e,3)}function k8(t,e){return Zr(t.getMilliseconds(),e,3)}function qCe(t,e){return k8(t,e)+"000"}function KCe(t,e){return Zr(t.getMonth()+1,e,2)}function QCe(t,e){return Zr(t.getMinutes(),e,2)}function JCe(t,e){return Zr(t.getSeconds(),e,2)}function ZCe(t){var e=t.getDay();return e===0?7:e}function e_e(t,e){return Zr(fS.count(Ou(t)-1,t),e,2)}function C8(t){var e=t.getDay();return e>=4||e===0?yp(t):yp.ceil(t)}function t_e(t,e){return t=C8(t),Zr(yp.count(Ou(t),t)+(Ou(t).getDay()===4),e,2)}function r_e(t){return t.getDay()}function n_e(t,e){return Zr(sx.count(Ou(t)-1,t),e,2)}function i_e(t,e){return Zr(t.getFullYear()%100,e,2)}function s_e(t,e){return t=C8(t),Zr(t.getFullYear()%100,e,2)}function a_e(t,e){return Zr(t.getFullYear()%1e4,e,4)}function o_e(t,e){var r=t.getDay();return t=r>=4||r===0?yp(t):yp.ceil(t),Zr(t.getFullYear()%1e4,e,4)}function l_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zr(e/60|0,"0",2)+Zr(e%60,"0",2)}function wO(t,e){return Zr(t.getUTCDate(),e,2)}function u_e(t,e){return Zr(t.getUTCHours(),e,2)}function c_e(t,e){return Zr(t.getUTCHours()%12||12,e,2)}function d_e(t,e){return Zr(1+hS.count($u(t),t),e,3)}function _8(t,e){return Zr(t.getUTCMilliseconds(),e,3)}function h_e(t,e){return _8(t,e)+"000"}function f_e(t,e){return Zr(t.getUTCMonth()+1,e,2)}function p_e(t,e){return Zr(t.getUTCMinutes(),e,2)}function g_e(t,e){return Zr(t.getUTCSeconds(),e,2)}function m_e(t){var e=t.getUTCDay();return e===0?7:e}function y_e(t,e){return Zr(pS.count($u(t)-1,t),e,2)}function T8(t){var e=t.getUTCDay();return e>=4||e===0?bp(t):bp.ceil(t)}function b_e(t,e){return t=T8(t),Zr(bp.count($u(t),t)+($u(t).getUTCDay()===4),e,2)}function v_e(t){return t.getUTCDay()}function w_e(t,e){return Zr(ax.count($u(t)-1,t),e,2)}function x_e(t,e){return Zr(t.getUTCFullYear()%100,e,2)}function S_e(t,e){return t=T8(t),Zr(t.getUTCFullYear()%100,e,2)}function k_e(t,e){return Zr(t.getUTCFullYear()%1e4,e,4)}function C_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bp(t):bp.ceil(t),Zr(t.getUTCFullYear()%1e4,e,4)}function __e(){return"+0000"}function xO(){return"%"}function SO(t){return+t}function kO(t){return Math.floor(+t/1e3)}var rf,P8,B8;T_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T_e(t){return rf=TCe(t),P8=rf.format,rf.parse,B8=rf.utcFormat,rf.utcParse,rf}function P_e(t){return new Date(t)}function B_e(t){return t instanceof Date?+t:+new Date(+t)}function jN(t,e,r,n,i,s,a,o,l,u){var c=p8(),h=c.invert,f=c.domain,g=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),v=u("%b %d"),w=u("%B"),P=u("%Y");function T(_){return(l(_)<_?g:o(_)<_?m:a(_)<_?y:s(_)<_?b:n(_)<_?i(_)<_?x:v:r(_)<_?w:P)(_)}return c.invert=function(_){return new Date(h(_))},c.domain=function(_){return arguments.length?f(Array.from(_,B_e)):f().map(P_e)},c.ticks=function(_){var M=f();return t(M[0],M[M.length-1],_??10)},c.tickFormat=function(_,M){return M==null?T:u(M)},c.nice=function(_){var M=f();return(!_||typeof _.range!="function")&&(_=e(M[0],M[M.length-1],_??10)),_?f(b8(M,_)):c},c.copy=function(){return dS(c,jN(t,e,r,n,i,s,a,o,l,u))},c}function M8(){return ed.apply(jN(CCe,_Ce,Ou,UN,fS,p0,WN,VN,Hd,P8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M_e(){return ed.apply(jN(SCe,kCe,$u,GN,pS,hS,HN,zN,Hd,B8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N_e(){var t=0,e=1,r,n,i,s,a=wo,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(f){var g,m;return arguments.length?([g,m]=f,a=h(g,m),u):[a(0),a(1)]}}return u.range=c(cS),u.rangeRound=c(f8),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function E_e(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function N8(){var t=AN(N_e()(wo));return t.copy=function(){return E_e(t,N8())},yke.apply(t,arguments)}function PP(t){return t.scaleType==="band"}function E8(t){return t.scaleType==="point"}function R_e(t){return t.type==="piecewise"?w8(t.thresholds,t.colors):N8([t.min??0,t.max??100],t.color)}function ox(t){return t.values?ex(t.values,t.colors).unknown(t.unknownColor??null):ex(t.colors.map((e,r)=>r),t.colors).unknown(t.unknownColor??null)}function Vv(t){return t.type==="ordinal"?ox(t):R_e(t)}function gh(t){return t.bandwidth!==void 0}function YN(t){return typeof t=="number"&&!Number.isFinite(t)}function D_e(t){const{tickMaxStep:e,tickMinStep:r,tickNumber:n,range:i,domain:s}=t,a=r===void 0?999:Math.floor(Math.abs(s[1]-s[0])/r),o=e===void 0?2:Math.ceil(Math.abs(s[1]-s[0])/e),l=n??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(o,l))}const y_={start:0,extremities:0,end:1,middle:.5};function lx(t){const{scale:e,tickNumber:r,valueFormatter:n,tickInterval:i,tickPlacement:s="extremities",tickLabelPlacement:a="middle"}=t;return C.useMemo(()=>{if(gh(e)){const u=e.domain();return e.bandwidth()>0?[...(typeof i=="function"&&u.filter(i)||typeof i=="object"&&i||u).map(f=>({value:f,formattedValue:(n==null?void 0:n(f,{location:"tick"}))??`${f}`,offset:e(f)-(e.step()-e.bandwidth())/2+y_[s]*e.step(),labelOffset:a==="tick"?0:e.step()*(y_[a]-y_[s])})),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof i=="function"&&u.filter(i)||typeof i=="object"&&i||u).map(h=>({value:h,formattedValue:(n==null?void 0:n(h,{location:"tick"}))??`${h}`,offset:e(h),labelOffset:0}))}return e.domain().some(YN)?[]:(typeof i=="object"?i:e.ticks(r)).map(u=>({value:u,formattedValue:(n==null?void 0:n(u,{location:"tick"}))??e.tickFormat(r)(u),offset:e(u),labelOffset:0}))},[e,i,r,n,s,a])}function I_e(t,e,r){switch(t){case"log":return v8(e,r);case"pow":return ON(e,r);case"sqrt":return fCe(e,r);case"time":return M8(e,r);case"utc":return M_e(e,r);default:return y8(e,r)}}const b_=(t,e)=>{const r=t[1]-t[0],n=e[1]-e[0],i=t[0]-e[0]*r/n,s=t[1]+(100-e[1])*r/n;return[i,s]},L_e=(t,e,r,n,i,s,a)=>{var g;const o=n[e],l=((g=s[e])==null?void 0:g.series)??{},[u,c]=(o==null?void 0:o({series:l,axis:r,isDefaultAxis:i,getFilters:a}))??[1/0,-1/0],[h,f]=t;return[Math.min(u,h),Math.max(c,f)]},F_e=(t,e,r,n,i)=>{const a=Object.keys(e).reduce((o,l)=>L_e(o,l,t,e,r,n,i),[1/0,-1/0]);return Number.isNaN(a[0])||Number.isNaN(a[1])?[1/0,-1/0]:a},A_e=(t,e,r)=>{const n=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return r?n.reverse():n},CO=t=>(t==null?void 0:t[0])instanceof Date;function _O(t,e){const r=M8(t.data,e);return(n,{location:i})=>i==="tick"?r.tickFormat(t.tickNumber)(n):`${n.toLocaleString()}`}const O_e=.2,$_e=.1;function TO({drawingArea:t,formattedSeries:e,axis:r,extremumGetters:n,axisDirection:i,zoomData:s,zoomOptions:a,getFilters:o}){const l={};return r.forEach((u,c)=>{const h=u,f=c===0,g=a==null?void 0:a[h.id],m=s==null?void 0:s.find(({axisId:V})=>V===h.id),y=m?[m.start,m.end]:[0,100],b=A_e(t,i,h.reverse),[x,v]=F_e(h,n,f,e,m===void 0&&!g?o:void 0),w=h.data??[];if(PP(h)){const V=h.categoryGapRatio??O_e,O=h.barGapRatio??$_e,I=i==="x"?b:[b[1],b[0]],H=b_(I,y);if(l[h.id]=Ie({categoryGapRatio:V,barGapRatio:O},h,{data:w,scale:EN(h.data,H).paddingInner(V).paddingOuter(V/2),tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?ox(Ie({values:h.data},h.colorMap)):Vv(h.colorMap))}),CO(h.data)){const W=_O(h,I);l[h.id].valueFormatter=h.valueFormatter??W}}if(E8(h)){const V=i==="x"?b:[...b].reverse(),O=b_(V,y);if(l[h.id]=Ie({},h,{data:w,scale:bke(h.data,O),tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?ox(Ie({values:h.data},h.colorMap)):Vv(h.colorMap))}),CO(h.data)){const I=_O(h,V);l[h.id].valueFormatter=h.valueFormatter??I}}if(h.scaleType==="band"||h.scaleType==="point")return;const P=h.scaleType??"linear",T=[h.min??x,h.max??v],_=D_e(Ie({},h,{range:b,domain:T})),M=_/((y[1]-y[0])/100),E=b_(b,y),D=I_e(P,T,E).nice(_),[L,F]=D.domain(),z=[h.min??L,h.max??F];l[h.id]=Ie({},h,{data:w,scaleType:P,scale:D.domain(z),tickNumber:M,colorScale:h.colorMap&&Vv(h.colorMap)})}),{axis:l,axisIds:r.map(({id:u})=>u)}}let PO=0;function V_e(t){const[e,r]=C.useState(t),n=t||e;return C.useEffect(()=>{e==null&&(PO+=1,r(`mui-${PO}`))},[e]),n}const BO=eh.useId;function R8(t){if(BO!==void 0){const e=BO();return t??e}return V_e(t)}const XN="DEFAULT_X_AXIS_KEY",qN="DEFAULT_Y_AXIS_KEY",z_e={top:50,bottom:50,left:50,right:50},W_e=(t,e,r)=>{const n=Ie({},z_e,r);return C.useMemo(()=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}),[t,e,n.top,n.bottom,n.left,n.right])},gS=C.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),D8=C.createContext({isInitialized:!1,data:{current:null}});function H_e(t){const{width:e,height:r,margin:n,svgRef:i,children:s}=t,a=W_e(e,r,n),o=R8(),l=C.useCallback(({x:h,y:f},g)=>{if(g!=null&&g.targetElement&&(g!=null&&g.targetElement.closest("[data-drawing-container]")))return!0;const m=h>=a.left-1&&h<=a.left+a.width,y=f>=a.top-1&&f<=a.top+a.height;return(g==null?void 0:g.direction)==="x"?m:((g==null?void 0:g.direction)==="y"||m)&&y},[a]),u=C.useMemo(()=>Ie({chartId:o??""},a,{isPointInside:l}),[o,a,l]),c=C.useMemo(()=>({isInitialized:!0,data:i}),[i]);return k.jsx(D8.Provider,{value:c,children:k.jsx(gS.Provider,{value:u,children:s})})}function yl(){const{left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}=C.useContext(gS);return C.useMemo(()=>({left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}),[n,t,e,r,i,s,a])}const U_e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function G_e(t,e,r=U_e){return t.type==="pie"?Ie({},t,{data:t.data.map((n,i)=>Ie({color:r[i%r.length]},n))}):Ie({color:r[e%r.length]},t)}const j_e=({series:t,colors:e,seriesFormatters:r,dataset:n})=>{const i={};t.forEach((a,o)=>{var c;const{id:l=`auto-generated-id-${o}`,type:u}=a;if(i[u]===void 0&&(i[u]={series:{},seriesOrder:[]}),((c=i[u])==null?void 0:c.series[l])!==void 0)throw new Error(`MUI X: series' id "${l}" is not unique.`);i[u].series[l]=Ie({id:l},G_e(a,o,e)),i[u].seriesOrder.push(l)});const s={};return Object.keys(r).forEach(a=>{var l;const o=i[a];o!==void 0&&(s[a]=((l=r[a])==null?void 0:l.call(r,o,n))??i[a])}),s},Y_e=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],X_e=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],q_e=t=>t==="dark"?X_e:Y_e,I8=C.createContext({isInitialized:!1,data:{}}),g0=C.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}}),MO=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},L8=t=>{var l;const{axis:e,getFilters:r,isDefaultAxis:n}=t,i=r==null?void 0:r({currentAxisId:e.id,isDefaultAxis:n}),s=i?(l=e.data)==null?void 0:l.filter((u,c)=>i({x:null,y:null},c)):e.data,a=Math.min(...s??[]),o=Math.max(...s??[]);return[a,o]},F8=t=>e=>{const{series:r,axis:n,getFilters:i,isDefaultAxis:s}=e;return Object.keys(r).filter(a=>{const o=r[a].yAxisId??r[a].yAxisKey;return o===n.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:l}=r[o],u=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:s,seriesXAxisId:r[o].xAxisId??r[o].xAxisKey,seriesYAxisId:r[o].yAxisId??r[o].yAxisKey}),[c,h]=(l==null?void 0:l.reduce((f,g,m)=>u&&(!u(MO(g[0],t),m)||!u(MO(g[1],t),m))?f:[Math.min(...g,f[0]),Math.max(...g,f[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(c,a[0]),Math.max(h,a[1])]},[1/0,-1/0])},K_e=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?F8("x")(t):L8(t),Q_e=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?L8(t):F8("y")(t);function Yo(t){return function(){return t}}const J_e=Math.PI,v_=2*J_e;function A8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Z_e(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function eTe(t){return t}function tTe(){var t=eTe,e=Z_e,r=null,n=Yo(0),i=Yo(v_),s=Yo(0);function a(o){var l,u=(o=A8(o)).length,c,h,f=0,g=new Array(u),m=new Array(u),y=+n.apply(this,arguments),b=Math.min(v_,Math.max(-v_,i.apply(this,arguments)-y)),x,v=Math.min(Math.abs(b)/u,s.apply(this,arguments)),w=v*(b<0?-1:1),P;for(l=0;l<u;++l)(P=m[g[l]=l]=+t(o[l],l,o))>0&&(f+=P);for(e!=null?g.sort(function(T,_){return e(m[T],m[_])}):r!=null&&g.sort(function(T,_){return r(o[T],o[_])}),l=0,h=f?(b-u*w)/f:0;l<u;++l,y=x)c=g[l],P=m[c],x=y+(P>0?P*h:0)+w,m[c]={data:o[c],index:l,value:P,startAngle:y,endAngle:x,padAngle:v};return m}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:Yo(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,r=null,a):e},a.sort=function(o){return arguments.length?(r=o,e=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Yo(+o),a):n},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Yo(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Yo(+o),a):s},a}function vp(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function wp(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function rTe(t,e){return t[e]}function nTe(t){const e=[];return e.key=t,e}function O8(){var t=Yo([]),e=wp,r=vp,n=rTe;function i(s){var a=Array.from(t.apply(this,arguments),nTe),o,l=a.length,u=-1,c;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(h,a[o].key,u,s)]).data=h;for(o=0,c=A8(e(a));o<l;++o)a[c[o]].index=o;return r(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Yo(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Yo(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?wp:typeof s=="function"?s:Yo(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??vp,i):r},i}function iTe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}vp(t,e)}}function sTe(t,e){if((l=t.length)>0)for(var r,n=0,i,s,a,o,l,u=t[e[0]].length;n<u;++n)for(a=o=0,r=0;r<l;++r)(s=(i=t[e[r]][n])[1]-i[0])>0?(i[0]=a,i[1]=a+=s):s<0?(i[1]=o,i[0]=o+=s):(i[0]=0,i[1]=s)}function aTe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}vp(t,e)}}function oTe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var c=t[e[o]],h=c[n][1]||0,f=c[n-1][1]||0,g=(h-f)/2,m=0;m<o;++m){var y=t[e[m]],b=y[n][1]||0,x=y[n-1][1]||0;g+=b-x}l+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,vp(t,e)}}function $8(t){var e=t.map(lTe);return wp(t).sort(function(r,n){return e[r]-e[n]})}function lTe(t){for(var e=-1,r=0,n=t.length,i,s=-1/0;++e<n;)(i=+t[e][1])>s&&(s=i,r=e);return r}function V8(t){var e=t.map(z8);return wp(t).sort(function(r,n){return e[r]-e[n]})}function z8(t){for(var e=0,r=-1,n=t.length,i;++r<n;)(i=+t[r][1])&&(e+=i);return e}function uTe(t){return V8(t).reverse()}function cTe(t){var e=t.length,r,n,i=t.map(z8),s=$8(t),a=0,o=0,l=[],u=[];for(r=0;r<e;++r)n=s[r],a<o?(a+=i[n],l.push(n)):(o+=i[n],u.push(n));return u.reverse().concat(l)}function dTe(t){return wp(t).reverse()}const w_={appearance:$8,ascending:V8,descending:uTe,insideOut:cTe,none:wp,reverse:dTe},x_={expand:iTe,diverging:sTe,none:vp,silhouette:aTe,wiggle:oTe},W8=t=>{const{series:e,seriesOrder:r,defaultStrategy:n}=t,i=[],s={};return r.forEach(a=>{const{stack:o,stackOrder:l,stackOffset:u}=e[a];o===void 0?i.push({ids:[a],stackingOrder:w_.none,stackingOffset:x_.none}):s[o]===void 0?(s[o]=i.length,i.push({ids:[a],stackingOrder:w_[l??(n==null?void 0:n.stackOrder)??"none"],stackingOffset:x_[u??(n==null?void 0:n.stackOffset)??"diverging"]})):(i[s[o]].ids.push(a),l!==void 0&&(i[s[o]].stackingOrder=w_[l]),u!==void 0&&(i[s[o]].stackingOffset=x_[u]))}),i};function KN(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=Ie({},t[n],{valueFormatter:t[n].valueFormatter??e})}),r}const hTe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=W8(t),s=e??[];r.forEach(o=>{const l=n[o].data;if(l!==void 0)l.forEach((u,c)=>{s.length<=c?s.push({[o]:u}):s[c][o]=u});else if(e===void 0)throw new Error([`MUI X: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return i.forEach(o=>{const{ids:l,stackingOffset:u,stackingOrder:c}=o,h=O8().keys(l.map(f=>{const g=n[f].dataKey;return n[f].data===void 0&&g!==void 0?g:f})).value((f,g)=>f[g]??0).order(c).offset(u)(s);l.forEach((f,g)=>{const m=n[f].dataKey;a[f]=Ie({layout:"vertical"},n[f],{data:m?e.map(y=>{const b=y[m];return typeof b!="number"?0:b}):n[f].data,stackedData:h[g].map(([y,b])=>[y,b])})})}),{seriesOrder:r,stackingGroups:i,series:KN(a,o=>o==null?"":o.toLocaleString())}},fTe=hTe,pTe=(t,e,r)=>{const n=t.layout==="vertical",i=n?e==null?void 0:e.colorScale:r==null?void 0:r.colorScale,s=n?r==null?void 0:r.colorScale:e==null?void 0:e.colorScale,a=n?e==null?void 0:e.data:r==null?void 0:r.data;return s?o=>{const l=t.data[o],u=l===null?t.color:s(l);return u===null?t.color:u}:i&&a?o=>{const l=a[o],u=l===null?t.color:i(l);return u===null?t.color:u}:()=>t.color},H8=pTe,gTe={seriesType:"bar",seriesFormatter:fTe,colorProcessor:H8,xExtremumGetter:K_e,yExtremumGetter:Q_e},ux=(t,e)=>[Math.min(t[0],e[0]),Math.max(t[1],e[1])],mTe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].xAxisId??e[s].xAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((u,c,h)=>o&&!o(c,h)?u:ux(u,[c.x,c.x]),[1/0,-1/0]);return ux(s,l)},[1/0,-1/0])},yTe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((u,c,h)=>o&&!o(c,h)?u:ux(u,[c.y,c.y]),[1/0,-1/0]);return ux(s,l)},[1/0,-1/0])},bTe=({series:t,seriesOrder:e})=>({series:KN(t,r=>`(${r.x}, ${r.y})`),seriesOrder:e}),vTe=bTe,wTe=(t,e,r,n)=>{const i=n==null?void 0:n.colorScale,s=r==null?void 0:r.colorScale,a=e==null?void 0:e.colorScale;return i?o=>{var c,h;if(((c=n==null?void 0:n.data)==null?void 0:c[o])!==void 0){const f=i((h=n==null?void 0:n.data)==null?void 0:h[o]);if(f!==null)return f}const l=t.data[o],u=l===null?t.color:i(l.z);return u===null?t.color:u}:s?o=>{const l=t.data[o],u=l===null?t.color:s(l.y);return u===null?t.color:u}:a?o=>{const l=t.data[o],u=l===null?t.color:a(l.x);return u===null?t.color:u}:()=>t.color},xTe=wTe,STe={seriesType:"scatter",seriesFormatter:vTe,colorProcessor:xTe,xExtremumGetter:mTe,yExtremumGetter:yTe},kTe=t=>{const{axis:e}=t,r=Math.min(...e.data??[]),n=Math.max(...e.data??[]);return[r,n]};function CTe(t,e,r){return e.reduce((n,i,s)=>{const[a,o]=t(i);return r&&(!r({y:a,x:null},s)||!r({y:o,x:null},s))?n:[Math.min(a,o,n[0]),Math.max(a,o,n[1])]},[1/0,-1/0])}const _Te=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||n&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:l}=e[a],u=o!==void 0,c=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),h=u&&r.scaleType!=="log"&&typeof e[a].baseline!="string"?y=>y:y=>[y[1],y[1]],f=CTe(h,l,c),[g,m]=f;return[Math.min(g,s[0]),Math.max(m,s[1])]},[1/0,-1/0])},TTe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=W8(Ie({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];r.forEach(o=>{const l=n[o].data;l!==void 0&&l.forEach((u,c)=>{s.length<=c?s.push({[o]:u}):s[c][o]=u})});const a={};return i.forEach(o=>{const{ids:l,stackingOrder:u,stackingOffset:c}=o,h=O8().keys(l.map(f=>{const g=n[f].dataKey;return n[f].data===void 0&&g!==void 0?g:f})).value((f,g)=>f[g]??0).order(u).offset(c)(s);l.forEach((f,g)=>{const m=n[f].dataKey;a[f]=Ie({},n[f],{data:m?e.map(y=>{const b=y[m];return typeof b!="number"?null:b}):n[f].data,stackedData:h[g].map(([y,b])=>[y,b])})})}),{seriesOrder:r,stackingGroups:i,series:KN(a,o=>o==null?"":o.toLocaleString())}},PTe=TTe,BTe=(t,e,r)=>{const n=r==null?void 0:r.colorScale,i=e==null?void 0:e.colorScale;return n?s=>{const a=t.data[s],o=a===null?t.color:n(a);return o===null?t.color:o}:i?s=>{var l;const a=(l=e.data)==null?void 0:l[s],o=a===null?t.color:i(a);return o===null?t.color:o}:()=>t.color},MTe=BTe,NTe={seriesType:"line",colorProcessor:MTe,seriesFormatter:PTe,xExtremumGetter:kTe,yExtremumGetter:_Te};function Pu(t,e){return typeof t=="function"?t(e):t}const ETe=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,r)=>r-e;case"asc":return(e,r)=>e-r;default:return null}},RTe=t=>{const{seriesOrder:e,series:r}=t,n={};return e.forEach(i=>{const s=tTe().startAngle(2*Math.PI*(r[i].startAngle??0)/360).endAngle(2*Math.PI*(r[i].endAngle??360)/360).padAngle(2*Math.PI*(r[i].paddingAngle??0)/360).sortValues(ETe(r[i].sortingValues??"none"))(r[i].data.map(a=>a.value));n[i]=Ie({valueFormatter:a=>a.value.toLocaleString()},r[i],{data:r[i].data.map((a,o)=>Ie({},a,{id:a.id??`auto-generated-pie-id-${i}-${o}`},s[o])).map((a,o)=>{var l,u;return Ie({},a,{formattedValue:((u=(l=r[i]).valueFormatter)==null?void 0:u.call(l,Ie({},a,{label:Pu(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:n}},DTe=RTe,ITe=t=>e=>t.data[e].color,LTe=ITe,FTe={seriesType:"pie",colorProcessor:LTe,seriesFormatter:DTe},ATe=[gTe,STe,NTe,FTe];function OTe(t){const e=t??ATe,r={},n={},i={},s={};for(let a=0;a<e.length;a+=1){const o=e[a],l=o.seriesType;r[l]=o.seriesFormatter,n[l]=o.colorProcessor,o.xExtremumGetter&&(i[l]=o.xExtremumGetter),o.yExtremumGetter&&(s[l]=o.yExtremumGetter)}return{seriesFormatters:r,colorProcessors:n,xExtremumGetters:i,yExtremumGetters:s}}function $Te(t){const{children:e,plugins:r}=t,n=C.useMemo(()=>({isInitialized:!0,data:OTe(r)}),[r]);return k.jsx(g0.Provider,{value:n,children:e})}function U8(t){const{isInitialized:e,data:r}=C.useContext(g0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.colorProcessors[t]:r.colorProcessors}function VTe(t){const{isInitialized:e,data:r}=C.useContext(g0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.seriesFormatters[t]:r.seriesFormatters}function zTe(t){const{isInitialized:e,data:r}=C.useContext(g0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.xExtremumGetters[t]:r.xExtremumGetters}function WTe(t){const{isInitialized:e,data:r}=C.useContext(g0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.yExtremumGetters[t]:r.yExtremumGetters}function HTe(t){const{series:e,dataset:r,colors:n=q_e,children:i}=t,s=VTe(),a=Ga(),o=C.useMemo(()=>({isInitialized:!0,data:j_e({series:e,colors:typeof n=="function"?n(a.palette.mode):n,seriesFormatters:s,dataset:r})}),[e,n,a.palette.mode,s,r]);return k.jsx(I8.Provider,{value:o,children:i})}function td(){const{isInitialized:t,data:e}=C.useContext(I8);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function UTe(){const t=td();return C.useMemo(()=>t.bar,[t.bar])}const G8=C.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function GTe(t){const{xAxis:e,yAxis:r,children:n}=t,i=td(),s=yl(),a=zTe(),o=WTe(),l=C.useMemo(()=>TO({drawingArea:s,formattedSeries:i,axis:e,extremumGetters:a,axisDirection:"x"}),[s,i,e,a]),u=C.useMemo(()=>TO({drawingArea:s,formattedSeries:i,axis:r,extremumGetters:o,axisDirection:"y"}),[s,i,r,o]),c=C.useMemo(()=>({isInitialized:!0,data:{xAxis:l.axis,yAxis:u.axis,xAxisIds:l.axisIds,yAxisIds:u.axisIds}}),[l,u]);return k.jsx(G8.Provider,{value:c,children:n})}const bl=()=>{const{data:t}=C.useContext(G8);return t};function rd(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(null,arguments)}function jTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YTe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function j8(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{YTe(r,e)})},t)}function XTe(t){return typeof t=="string"}function qTe(t,e,r){return t===void 0||XTe(t)?e:rl({},e,{ownerState:rl({},e.ownerState,r)})}function KTe(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function NO(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function QTe(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const g=Oe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),m=rl({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),y=rl({},r,i,n);return g.length>0&&(y.className=g),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const a=KTe(rl({},i,n)),o=NO(n),l=NO(i),u=e(a),c=Oe(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),h=rl({},u==null?void 0:u.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=rl({},u,r,l,o);return c.length>0&&(f.className=c),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}function JTe(t,e,r){return typeof t=="function"?t(e,r):t}const ZTe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function cl(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=jTe(t,ZTe),o=s?{}:JTe(n,i),{props:l,internalRef:u}=QTe(rl({},a,{externalSlotProps:o})),c=j8(u,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return qTe(r,rl({},l,{ref:c}),i)}const EO=t=>t,ePe=()=>{let t=EO;return{configure(e){t=e},generate(e){return t(e)},reset(){t=EO}}},tPe=ePe(),rPe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nd(t,e,r="Mui"){const n=rPe[e];return n?`${r}-${n}`:`${tPe.generate(t)}-${e}`}function Bh(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=nd(t,i,r)}),n}const Op=C.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),nPe=(t,e)=>{switch(e.type){case"enterItem":return Ie({},t,{item:e.data});case"exitChart":return t.item===null&&t.axis.x===null&&t.axis.y===null?t:Ie({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return Ie({},t,{useVoronoiInteraction:e.useVoronoiInteraction});case"leaveItem":return t.item===null||Object.keys(e.data).some(r=>e.data[r]!==t.item[r])?t:Ie({},t,{item:null});case"updateAxis":return e.data.x===t.axis.x&&e.data.y===t.axis.y?t:Ie({},t,{axis:e.data});default:return t}};function iPe(t){const{children:e}=t,[r,n]=C.useReducer(nPe,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=C.useMemo(()=>Ie({},r,{dispatch:n}),[r]);return k.jsx(Op.Provider,{value:i,children:e})}function sPe({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=C.useRef(t!==void 0),[s,a]=C.useState(e),o=i?t:s,l=C.useCallback(u=>{i||a(u)},[]);return[o,l]}const Y8=C.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),aPe=(t,e)=>r=>t?t.fade==="series"?r.seriesId===(e==null?void 0:e.seriesId)&&r.dataIndex!==(e==null?void 0:e.dataIndex):t.fade==="global"?r.seriesId!==(e==null?void 0:e.seriesId)||r.dataIndex!==(e==null?void 0:e.dataIndex):!1:!1,oPe=(t,e)=>r=>t?t.highlight==="series"?r.seriesId===(e==null?void 0:e.seriesId):t.highlight==="item"?r.dataIndex===(e==null?void 0:e.dataIndex)&&r.seriesId===(e==null?void 0:e.seriesId):!1:!1,lPe=["highlighted","faded"],uPe=t=>{const e=t??{},{highlighted:r,faded:n}=e,i=pi(e,lPe);return Ie({highlight:r,fade:n},i)};function cPe({children:t,highlightedItem:e,onHighlightChange:r}){const[n,i]=sPe({controlled:e,default:null,name:"HighlightedProvider",state:"highlightedItem"}),s=td(),a=C.useMemo(()=>{const u=new Map;return Object.keys(s).forEach(c=>{const h=s[c];Object.keys((h==null?void 0:h.series)??{}).forEach(f=>{const g=h==null?void 0:h.series[f];u.set(f,uPe(g==null?void 0:g.highlightScope))})}),u},[s]),o=n&&n.seriesId?a.get(n.seriesId)??void 0:void 0,l=C.useMemo(()=>({isInitialized:!0,data:{highlightScope:o,highlightedItem:n,setHighlighted:u=>{i(u),r==null||r(u)},clearHighlighted:()=>{i(null),r==null||r(null)},isHighlighted:oPe(o,n),isFaded:aPe(o,n)}}),[n,o,i,r]);return k.jsx(Y8.Provider,{value:l,children:t})}function X8(){const{isInitialized:t,data:e}=C.useContext(Y8);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function q8(t){const e=X8();if(!t)return{isHighlighted:!1,isFaded:!1};const r=e.isHighlighted(t),n=!r&&e.isFaded(t);return{isHighlighted:r,isFaded:n}}const QN=C.createContext({zAxis:{},zAxisIds:[]});function dPe(t){const{zAxis:e,dataset:r,children:n}=t,i=C.useMemo(()=>e==null?void 0:e.map(a=>{const o=a.dataKey;if(o===void 0||a.data!==void 0)return a;if(r===void 0)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return Ie({},a,{data:r.map(l=>l[o])})}),[e,r]),s=C.useMemo(()=>{const a=(i==null?void 0:i.map((l,u)=>Ie({id:`defaultized-z-axis-${u}`},l)))??[],o={};return a.forEach(l=>{o[l.id]=Ie({},l,{colorScale:l.colorMap&&(l.colorMap.type==="ordinal"&&l.data?ox(Ie({values:l.data},l.colorMap)):Vv(l.colorMap.type==="continuous"?Ie({min:l.min,max:l.max},l.colorMap):l.colorMap))})}),{zAxis:o,zAxisIds:a.map(({id:l})=>l)}},[i]);return k.jsx(QN.Provider,{value:s,children:n})}const hPe=t=>{const{dispatch:e}=C.useContext(Op),{setHighlighted:r,clearHighlighted:n}=X8();return t?()=>({}):s=>({onPointerEnter:()=>{e({type:"enterItem",data:s}),r({seriesId:s.seriesId,dataIndex:s.dataIndex})},onPointerLeave:u=>{u.currentTarget.releasePointerCapture(u.pointerId),e({type:"leaveItem",data:s}),n()},onPointerDown:u=>{u.currentTarget.hasPointerCapture(u.pointerId)&&u.currentTarget.releasePointerCapture(u.pointerId)}})},fPe=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function pPe(t){return nd("MuiBarElement",t)}Bh("MuiBarElement",["root"]);const gPe=t=>{const{classes:e,id:r}=t,n={root:["root",`series-${r}`]};return rd(n,pPe,e)},mPe=he(MN.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({stroke:"none",fill:t.isHighlighted?gp(t.color).brighter(.5).formatHex():t.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded&&.3||1}));function yPe(t){const{id:e,dataIndex:r,classes:n,color:i,slots:s,slotProps:a,style:o,onClick:l}=t,u=pi(t,fPe),c=hPe(),{isFaded:h,isHighlighted:f}=q8({seriesId:e,dataIndex:r}),g={id:e,dataIndex:r,classes:n,color:i,isFaded:h,isHighlighted:f},m=gPe(g),y=(s==null?void 0:s.bar)??mPe,b=cl({elementType:y,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:u,additionalProps:Ie({},c({type:"bar",seriesId:e,dataIndex:r}),{style:o,onClick:l,cursor:l?"pointer":"unset"}),className:m.root,ownerState:g});return k.jsx(y,Ie({},b))}function bPe(){const{chartId:t}=C.useContext(gS);return C.useMemo(()=>t,[t])}function RO(t){return gh(t)?e=>(t(e)??0)+t.bandwidth()/2:e=>t(e)}function JN(){const{isInitialized:t,data:e}=C.useContext(D8);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}const iv=(t,{hasNegative:e,hasPositive:r,borderRadius:n,layout:i})=>{if(!n)return 0;const s=i==="vertical";return t==="top-left"&&(s&&r||!s&&e)||t==="top-right"&&(s&&r||!s&&r)||t==="bottom-right"&&(s&&e||!s&&r)||t==="bottom-left"&&(s&&e||!s&&e)?n:0},vPe=["style","maskId"],wPe=t=>`inset(0px round ${t.topLeft}px ${t.topRight}px ${t.bottomRight}px ${t.bottomLeft}px)`;function xPe(t){var r,n;const e=t.ownerState;return k.jsx(MN.rect,{style:Ie({},t.style,{clipPath:(t.ownerState.layout==="vertical"?(r=t.style)==null?void 0:r.height:(n=t.style)==null?void 0:n.width).to(i=>wPe({topLeft:Math.min(i,iv("top-left",e)),topRight:Math.min(i,iv("top-right",e)),bottomRight:Math.min(i,iv("bottom-right",e)),bottomLeft:Math.min(i,iv("bottom-left",e))}))})})}function SPe(t){const{style:e,maskId:r}=t,n=pi(t,vPe);return!t.borderRadius||t.borderRadius<=0?null:k.jsx("clipPath",{id:r,children:k.jsx(xPe,{ownerState:n,style:e})})}function kPe(t){return nd("MuiBarLabel",t)}const S_=Bh("MuiBarLabel",["root","highlighted","faded"]),CPe=t=>{const{classes:e,seriesId:r,isFaded:n,isHighlighted:i}=t,s={root:["root",`series-${r}`,i&&"highlighted",n&&"faded"]};return rd(s,kPe,e)},_Pe=t=>{const{barLabel:e,value:r,dataIndex:n,seriesId:i,height:s,width:a}=t;return e==="value"?r?r==null?void 0:r.toString():null:e({seriesId:i,dataIndex:n,value:r},{bar:{height:s,width:a}})},TPe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],PPe=he(MN.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${S_.faded}`]:e.faded},{[`&.${S_.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,r,n,i;return Ie({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(i=(n=(r=t.vars||t)==null?void 0:r.palette)==null?void 0:n.text)==null?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${S_.faded}`]:{opacity:.3}})});function BPe(t){const e=tt({props:t,name:"MuiBarLabel"}),r=pi(e,TPe);return k.jsx(PPe,Ie({},r))}const MPe=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],NPe=["ownerState"];function EPe(t){const{seriesId:e,classes:r,color:n,style:i,dataIndex:s,barLabel:a,slots:o,slotProps:l,height:u,width:c,value:h}=t,f=pi(t,MPe),{isFaded:g,isHighlighted:m}=q8({seriesId:e,dataIndex:s}),y={seriesId:e,classes:r,color:n,isFaded:g,isHighlighted:m,dataIndex:s},b=CPe(y),x=(o==null?void 0:o.barLabel)??BPe,v=cl({elementType:x,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:Ie({},f,{style:i,className:b.root}),ownerState:y}),{ownerState:w}=v,P=pi(v,NPe);if(!a)return null;const T=_Pe({barLabel:a,value:h,dataIndex:s,seriesId:e,height:u,width:c});return T?k.jsx(x,Ie({},P,w,{children:T})):null}const RPe=["bars","skipAnimation"],DPe=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>Ie({},t==="vertical"?{y:e,x:r+n/2,height:0,width:n}:{y:i+a/2,x:s,height:a,width:0}),DO=({x:t,width:e,y:r,height:n})=>({x:t+e/2,y:r+n/2,height:n,width:e});function IPe(t){const{bars:e,skipAnimation:r}=t,n=pi(t,RPe),i=wP(e,{keys:s=>`${s.seriesId}-${s.dataIndex}`,from:DPe,leave:null,enter:DO,update:DO,immediate:r});return k.jsx(C.Fragment,{children:i((s,{seriesId:a,dataIndex:o,color:l,value:u,width:c,height:h})=>k.jsx(EPe,Ie({seriesId:a,dataIndex:o,value:u,color:l,width:c,height:h},n,{style:s})))})}const k_=(t,e)=>{const r=`${t}-axis`,n=`${t}Axis`;return e===(t==="x"?XN:qN)?`The first \`${n}\``:`The ${r} with id "${e}"`};function LPe(t,e,r,n,i,s){const a=n[r],o=s[i],l=t?a:o,u=t?o:a,c=t?r:i,h=t?i:r,f=t?"x":"y",g=t?"y":"x";if(!PP(l))throw new Error(`MUI X: ${k_(f,c)} should be of type "band" to display the bar series of id "${e}".`);if(l.data===void 0)throw new Error(`MUI X: ${k_(f,c)} should have data property.`);if(PP(u)||E8(u))throw new Error(`MUI X: ${k_(g,h)} should be a continuous type to display the bar series of id "${e}".`)}const FPe=["skipAnimation","onItemClick","borderRadius","barLabel"];function APe({bandWidth:t,numberOfGroups:e,gapRatio:r}){if(r===0)return{barWidth:t/e,offset:0};const n=t/(e+(e-1)*r),i=r*n;return{barWidth:n,offset:i}}const OPe=()=>{const t=UTe()??{series:{},stackingGroups:[],seriesOrder:[]},e=bl(),r=bPe(),{series:n,stackingGroups:i}=t,{xAxis:s,yAxis:a,xAxisIds:o,yAxisIds:l}=e,u=o[0],c=l[0],h={};return{completedData:i.flatMap(({ids:g},m)=>g.flatMap(y=>{const b=n[y].xAxisId??n[y].xAxisKey??u,x=n[y].yAxisId??n[y].yAxisKey??c,v=s[b],w=a[x],P=n[y].layout==="vertical";LPe(P,y,b,s,x,a);const T=P?v:w,_=v.scale,M=w.scale,E=H8(n[y],s[b],a[x]),D=T.scale.bandwidth(),{barWidth:L,offset:F}=APe({bandWidth:D,numberOfGroups:i.length,gapRatio:T.barGapRatio}),z=m*(L+F),{stackedData:V}=n[y];return V.map((O,I)=>{var ne,ge;const H=O.map(fe=>P?M(fe):_(fe)),W=Math.round(Math.min(...H)),A=Math.round(Math.max(...H)),U=n[y].stack,q={seriesId:y,dataIndex:I,layout:n[y].layout,x:P?_((ne=s[b].data)==null?void 0:ne[I])+z:W,y:P?W:M((ge=a[x].data)==null?void 0:ge[I])+z,xOrigin:_(0),yOrigin:M(0),height:P?A-W:L,width:P?L:A-W,color:E(I),value:n[y].data[I],maskId:`${r}_${U||y}_${m}_${I}`};h[q.maskId]||(h[q.maskId]={id:q.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:q.layout,xOrigin:_(0),yOrigin:M(0),x:0,y:0});const ae=h[q.maskId];return ae.width=q.layout==="vertical"?q.width:ae.width+q.width,ae.height=q.layout==="vertical"?ae.height+q.height:q.height,ae.x=Math.min(ae.x===0?1/0:ae.x,q.x),ae.y=Math.min(ae.y===0?1/0:ae.y,q.y),ae.hasNegative=ae.hasNegative||(q.value??0)<0,ae.hasPositive=ae.hasPositive||(q.value??0)>0,q})})),masksData:Object.values(h)}},sv=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>Ie({},t==="vertical"?{y:e,x:r,height:0,width:n}:{y:i,x:s,height:a,width:0}),av=({x:t,width:e,y:r,height:n})=>({y:r,x:t,height:n,width:e});function $Pe(t){const{completedData:e,masksData:r}=OPe(),{skipAnimation:n,onItemClick:i,borderRadius:s,barLabel:a}=t,o=pi(t,FPe),l=!s||s<=0,u=wP(e,{keys:h=>`${h.seriesId}-${h.dataIndex}`,from:sv,leave:sv,enter:av,update:av,immediate:n}),c=wP(l?[]:r,{keys:h=>h.id,from:sv,leave:sv,enter:av,update:av,immediate:n});return k.jsxs(C.Fragment,{children:[!l&&c((h,{id:f,hasPositive:g,hasNegative:m,layout:y})=>k.jsx(SPe,{maskId:f,borderRadius:s,hasNegative:m,hasPositive:g,layout:y,style:h})),u((h,{seriesId:f,dataIndex:g,color:m,maskId:y})=>{const b=k.jsx(yPe,Ie({id:f,dataIndex:g,color:m},o,{onClick:i&&(x=>{i(x,{type:"bar",seriesId:f,dataIndex:g})}),style:h}));return l?b:k.jsx("g",{clipPath:`url(#${y})`,children:b})}),a&&k.jsx(IPe,Ie({bars:e,skipAnimation:n,barLabel:a},o))]})}function VPe(t,e){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r.matrixTransform(t.getScreenCTM().inverse())}function nf(t){return t instanceof Date?t.getTime():t}const zPe=t=>{const e=JN(),r=yl(),{xAxis:n,yAxis:i,xAxisIds:s,yAxisIds:a}=bl(),{dispatch:o}=C.useContext(Op),l=s[0],u=a[0],c=C.useRef({isInChart:!1,x:-1,y:-1});C.useEffect(()=>{const h=e.current;if(h===null||t)return()=>{};function f(b,x){const{scale:v,data:w,reverse:P}=b;if(!gh(v)){const _=v.invert(x);if(w===void 0)return{value:_,index:-1};const M=nf(_),E=w==null?void 0:w.findIndex((D,L)=>{const F=nf(D);return F>M&&(L===0||Math.abs(M-F)<=Math.abs(M-nf(w[L-1])))||F<=M&&(L===w.length-1||Math.abs(nf(_)-F)<Math.abs(nf(_)-nf(w[L+1])))});return{value:E!==void 0&&E>=0?w[E]:_,index:E}}const T=v.bandwidth()===0?Math.floor((x-Math.min(...v.range())+v.step()/2)/v.step()):Math.floor((x-Math.min(...v.range()))/v.step());if(T<0||T>=w.length)return null;if(P){const _=w.length-1-T;return{index:_,value:w[_]}}return{index:T,value:w[T]}}const g=()=>{c.current={isInChart:!1,x:-1,y:-1},o({type:"exitChart"})},m=b=>{const x="targetTouches"in b?b.targetTouches[0]:b,v=VPe(h,x);if(c.current.x=v.x,c.current.y=v.y,!r.isPointInside(v,{targetElement:b.target})){c.current.isInChart&&(o({type:"exitChart"}),c.current.isInChart=!1);return}c.current.isInChart=!0;const w=f(n[l],v.x),P=f(i[u],v.y);o({type:"updateAxis",data:{x:w,y:P}})},y=b=>{const x=b.currentTarget;x&&x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId)};return h.addEventListener("pointerdown",y),h.addEventListener("pointermove",m),h.addEventListener("pointerout",g),h.addEventListener("pointercancel",g),h.addEventListener("pointerleave",g),()=>{h.removeEventListener("pointerdown",y),h.removeEventListener("pointermove",m),h.removeEventListener("pointerout",g),h.removeEventListener("pointercancel",g),h.removeEventListener("pointerleave",g)}},[e,o,u,i,l,n,t,r])},WPe=["children","width","height","viewBox","disableAxisListener","className","title","desc"],HPe=he("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),UPe=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiChartsSurface"}),{children:i,width:s,height:a,viewBox:o,disableAxisListener:l=!1,className:u,title:c,desc:h}=n,f=pi(n,WPe),g=Ie({width:s,height:a,x:0,y:0},o);return zPe(l),k.jsxs(HPe,Ie({width:s,height:a,viewBox:`${g.x} ${g.y} ${g.width} ${g.height}`,ref:r,className:u},f,{children:[k.jsx("title",{children:c}),k.jsx("desc",{children:h}),i]}))});function IO(t){const{isReversed:e,gradientId:r,size:n,direction:i,scale:s,colorMap:a}=t;return k.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,l)=>{const u=s(o);if(u===void 0)return null;const c=e?1-u/n:u/n;return k.jsxs(C.Fragment,{children:[k.jsx("stop",{offset:c,stopColor:a.colors[l],stopOpacity:1}),k.jsx("stop",{offset:c,stopColor:a.colors[l+1],stopOpacity:1})]},o.toString()+l)})})}const GPe=10;function LO(t){const{gradientUnits:e,isReversed:r,gradientId:n,size:i,direction:s,scale:a,colorScale:o,colorMap:l}=t,u=[l.min??0,l.max??100],c=u.map(a).filter(m=>m!==void 0);if(c.length!==2)return null;const h=typeof u[0]=="number"?My(u[0],u[1]):h8(u[0],u[1]),f=Math.round((Math.max(...c)-Math.min(...c))/GPe),g=`${u[0]}-${u[1]}-`;return k.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${r?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:f+1},(m,y)=>{const b=h(y/f);if(b===void 0)return null;const x=a(b);if(x===void 0)return null;const v=r?1-x/i:x/i,w=o(b);return w===null?null:k.jsx("stop",{offset:v,stopColor:w,stopOpacity:1},g+y)})})}function jPe(){const{chartId:t}=C.useContext(gS);return C.useCallback((e,r)=>`${t}-gradient-${r}-${e}`,[t])}function YPe(){const{top:t,height:e,bottom:r,left:n,width:i,right:s}=yl(),a=t+e+r,o=n+i+s,l=jPe(),{xAxisIds:u,xAxis:c,yAxisIds:h,yAxis:f}=bl();return k.jsxs("defs",{children:[h.filter(g=>f[g].colorMap!==void 0).map(g=>{const m=l(g,"y"),{colorMap:y,scale:b,colorScale:x,reverse:v}=f[g];return(y==null?void 0:y.type)==="piecewise"?k.jsx(IO,{isReversed:!v,scale:b,colorMap:y,size:a,gradientId:m,direction:"y"},m):(y==null?void 0:y.type)==="continuous"?k.jsx(LO,{isReversed:!v,scale:b,colorScale:x,colorMap:y,size:a,gradientId:m,direction:"y"},m):null}),u.filter(g=>c[g].colorMap!==void 0).map(g=>{const m=l(g,"x"),{colorMap:y,scale:b,reverse:x,colorScale:v}=c[g];return(y==null?void 0:y.type)==="piecewise"?k.jsx(IO,{isReversed:x,scale:b,colorMap:y,size:o,gradientId:m,direction:"x"},m):(y==null?void 0:y.type)==="continuous"?k.jsx(LO,{isReversed:x,scale:b,colorScale:v,colorMap:y,size:o,gradientId:m,direction:"x"},m):null})]})}const FO=(t,e,r)=>{const n=r==="x"?XN:qN;return[...(t==null?void 0:t.map((i,s)=>Ie({id:`defaultized-${r}-axis-${s}`},i)))??[],...t===void 0||t.findIndex(({id:i})=>i===n)===-1?[{id:n,scaleType:"linear"}]:[]].map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(e===void 0)throw Error(`MUI X: ${r}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return Ie({},i,{data:e.map(a=>a[s])})})},XPe=(t,e,r)=>{const n=C.useMemo(()=>FO(t,r,"x"),[t,r]),i=C.useMemo(()=>FO(e,r,"y"),[e,r]);return[n,i]},qPe=()=>{zd(()=>{var r;if(!window.matchMedia)return Va.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),e=n=>{Va.assign({skipAnimation:n.matches||void 0})};return e(t),(r=t.addEventListener)==null||r.call(t,"change",e),()=>{var n;(n=t.removeEventListener)==null||n.call(t,"change",e)}},[])},KPe=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],QPe=(t,e)=>{const{width:r,height:n,series:i,margin:s,xAxis:a,yAxis:o,zAxis:l,colors:u,dataset:c,sx:h,title:f,desc:g,disableAxisListener:m,highlightedItem:y,onHighlightChange:b,plugins:x,children:v}=t,w=pi(t,KPe),P=C.useRef(null),T=j8(e,P);qPe();const[_,M]=XPe(a,o,c),E={width:r,height:n,margin:s,svgRef:P},D={plugins:x},L={series:i,colors:u,dataset:c},F={xAxis:_,yAxis:M,dataset:c},z={zAxis:l,dataset:c},V={highlightedItem:y,onHighlightChange:b},O=Ie({},w,{width:r,height:n,ref:T,sx:h,title:f,desc:g,disableAxisListener:m});return{children:v,drawingProviderProps:E,seriesProviderProps:L,cartesianProviderProps:F,zAxisContextProps:z,highlightedProviderProps:V,chartsSurfaceProps:O,pluginProviderProps:D,xAxis:_,yAxis:M}},JPe=C.forwardRef(function(e,r){const{children:n,drawingProviderProps:i,seriesProviderProps:s,cartesianProviderProps:a,zAxisContextProps:o,highlightedProviderProps:l,chartsSurfaceProps:u,pluginProviderProps:c}=QPe(e,r);return k.jsx(H_e,Ie({},i,{children:k.jsx($Te,Ie({},c,{children:k.jsx(HTe,Ie({},s,{children:k.jsx(GTe,Ie({},a,{children:k.jsx(dPe,Ie({},o,{children:k.jsx(iPe,{children:k.jsx(cPe,Ie({},l,{children:k.jsxs(UPe,Ie({},u,{children:[k.jsx(YPe,{}),n]}))}))})}))}))}))}))}))}),ZPe=he("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:t})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),K8=typeof window<"u"?C.useLayoutEffect:C.useEffect;function eBe(t){return t&&t.ownerDocument||document}function tBe(t){return eBe(t).defaultView||window}const rBe=(t,e)=>{const r=C.useRef(!1),n=C.useRef(null),[i,s]=C.useState(0),[a,o]=C.useState(0),l=C.useCallback(()=>{const u=n==null?void 0:n.current;if(!u)return;const h=tBe(u).getComputedStyle(u),f=Math.floor(parseFloat(h.height))||0,g=Math.floor(parseFloat(h.width))||0;s(g),o(f)},[]);return C.useEffect(()=>{r.current=!0},[]),K8(()=>{if(t!==void 0&&e!==void 0)return()=>{};l();const u=n.current;if(typeof ResizeObserver>"u")return()=>{};let c;const h=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{l()})});return u&&h.observe(u),()=>{c&&window.cancelAnimationFrame(c),u&&h.unobserve(u)}},[l,e,t]),{containerRef:n,width:t??i,height:e??a}},nBe=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],iBe=(t,e)=>{const{width:r,height:n,margin:i,children:s,series:a,colors:o,dataset:l,desc:u,disableAxisListener:c,highlightedItem:h,onHighlightChange:f,plugins:g,sx:m,title:y,viewBox:b,xAxis:x,yAxis:v,zAxis:w}=t,P=pi(t,nBe),{containerRef:T,width:_,height:M}=rBe(r,n),E=Ie({},P,{ownerState:{width:r,height:n},ref:T});return{hasIntrinsicSize:_&&M,chartContainerProps:{margin:i,children:s,series:a,colors:o,dataset:l,desc:u,disableAxisListener:c,highlightedItem:h,onHighlightChange:f,plugins:g,sx:m,title:y,viewBox:b,xAxis:x,yAxis:v,zAxis:w,width:_,height:M,ref:e},resizableChartContainerProps:E}},sBe=C.forwardRef(function(e,r){const{hasIntrinsicSize:n,chartContainerProps:i,resizableChartContainerProps:s}=iBe(e,r);return k.jsx(ZPe,Ie({},s,{children:n?k.jsx(JPe,Ie({},i)):null}))});function Q8(t){return nd("MuiChartsAxis",t)}const ov=Bh("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),J8=he("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${ov.tickLabel}`]:Ie({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${ov.label}`]:Ie({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${ov.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${ov.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}}));function aBe(){return typeof window>"u"}const vd={widthCache:{},cacheCount:0},oBe=2e3,lBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uBe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],AO="mui_measurement_span";function Z8(t,e){return uBe.indexOf(t)>=0&&e===+e?`${e}px`:e}function eH(t){return t.split("").reduce((n,i)=>i===i.toUpperCase()?[...n,"-",i.toLowerCase()]:[...n,i],[]).join("")}const cBe=t=>Object.keys(t).sort().reduce((e,r)=>`${e}${eH(r)}:${Z8(r,t[r])};`,"");let C_;const dBe=(t,e={})=>{if(t==null||aBe())return{width:0,height:0};const r=`${t}`,n=cBe(e),i=`${r}-${n}`;if(vd.widthCache[i])return vd.widthCache[i];try{let s=document.getElementById(AO);s===null&&(s=document.createElement("span"),s.setAttribute("id",AO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const a=Ie({},lBe,e);Object.keys(a).map(u=>(s.style[eH(u)]=Z8(u,a[u]),u)),s.textContent=r;const o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return vd.widthCache[i]=l,vd.cacheCount+1>oBe?(vd.cacheCount=0,vd.widthCache={}):vd.cacheCount+=1,C_&&clearTimeout(C_),C_=setTimeout(()=>{s.textContent=""},0),l}catch{return{width:0,height:0}}};function ZN({style:t,needsComputation:e,text:r}){return r.split(`
`).map(n=>Ie({text:n},e?dBe(n,t):{width:0,height:0}))}const hBe=["x","y","style","text","ownerState"],fBe=["angle","textAnchor","dominantBaseline"];function Ey(t){const{x:e,y:r,style:n,text:i}=t,s=pi(t,hBe),a=n??{},{angle:o,textAnchor:l,dominantBaseline:u}=a,c=pi(a,fBe),h=C.useMemo(()=>ZN({style:c,needsComputation:i.includes(`
`),text:i}),[c,i]);let f;switch(u){case"hanging":f=0;break;case"central":f=(h.length-1)/2*-h[0].height;break;default:f=(h.length-1)*-h[0].height;break}const g=[];return o&&g.push(`rotate(${o}, ${e}, ${r})`),k.jsx("text",Ie({},s,{transform:g.length>0?g.join(" "):void 0,x:e,y:r,textAnchor:l,dominantBaseline:u,style:c,children:h.map((m,y)=>k.jsx("tspan",{x:e,dy:`${y===0?f:h[0].height}px`,dominantBaseline:u,children:m.text},y))}))}const OO=5;function pBe(t,e,r=0){const n=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(n<OO)return t;if(n>90-OO)return e;const i=n*Math.PI/180,s=Math.atan2(e,t);return i<s?t/Math.cos(i):e/Math.sin(i)}function gBe(t=!1){const[e,r]=C.useState(!1);return K8(()=>{t||r(!0)},[t]),C.useEffect(()=>{t&&r(!0)},[t]),e}const mBe=["scale","tickNumber","reverse"],yBe=t=>{const{classes:e,position:r}=t;return rd({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Q8,e)};function bBe(t,{tickLabelStyle:e,tickLabelInterval:r,reverse:n,isMounted:i}){const s=t.map(u=>{if(!i||u.formattedValue===void 0)return Ie({},u,{width:0,height:0});const c=ZN({style:e,needsComputation:!0,text:u.formattedValue});return Ie({},u,{width:Math.max(...c.map(h=>h.width)),height:Math.max(c.length*c[0].height)})});if(typeof r=="function")return s.map((u,c)=>Ie({},u,{skipLabel:!r(u.value,c)}));let a=0,o=0;const l=n?-1:1;return s.map((u,c)=>{const{width:h,offset:f,labelOffset:g,height:m}=u,y=pBe(h,m,e==null?void 0:e.angle),b=f+g,x=1.2;return a=b-l*(x*y)/2,c>0&&l*a<l*o?Ie({},u,{skipLabel:!0}):(o=b+l*(x*y)/2,u)})}const vBe={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function $O(t){const{xAxisIds:e,xAxis:r}=bl(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s,reverse:a}=n,o=pi(n,mBe),l=gBe(),u=tt({props:Ie({},o,t),name:"MuiChartsXAxis"}),c=Ie({},vBe,u),{position:h,disableLine:f,disableTicks:g,tickLabelStyle:m,label:y,labelStyle:b,tickFontSize:x,labelFontSize:v,tickSize:w,valueFormatter:P,slots:T,slotProps:_,tickInterval:M,tickLabelInterval:E,tickPlacement:D,tickLabelPlacement:L,sx:F}=c,z=Ga(),V=yBe(Ie({},c,{theme:z})),{left:O,top:I,width:H,height:W,isPointInside:A}=yl(),U=g?4:w,q=h==="bottom"?1:-1,ae=(T==null?void 0:T.axisLine)??"line",ne=(T==null?void 0:T.axisTick)??"line",ge=(T==null?void 0:T.axisTickLabel)??Ey,fe=(T==null?void 0:T.axisLabel)??Ey,J=cl({elementType:ge,externalSlotProps:_==null?void 0:_.axisTickLabel,additionalProps:{style:Ie({textAnchor:"middle",dominantBaseline:h==="bottom"?"hanging":"auto",fontSize:x??12},m)},className:V.tickLabel,ownerState:{}}),ce=lx({scale:i,tickNumber:s,valueFormatter:P,tickInterval:M,tickPlacement:D,tickLabelPlacement:L}),Se=bBe(ce,{tickLabelStyle:J.style,tickLabelInterval:E,reverse:a,isMounted:l}),K={x:O+H/2,y:q*(U+22)},Z=cl({elementType:fe,externalSlotProps:_==null?void 0:_.axisLabel,additionalProps:{style:Ie({fontSize:v??14,textAnchor:"middle",dominantBaseline:h==="bottom"?"hanging":"auto"},b)},ownerState:{}}),ue=i.domain(),de=gh(i);return de&&ue.length===0||!de&&ue.some(YN)?null:k.jsxs(J8,{transform:`translate(0, ${h==="bottom"?I+W:I})`,className:V.root,sx:F,children:[!f&&k.jsx(ae,Ie({x1:O,x2:O+H,className:V.line},_==null?void 0:_.axisLine)),Se.map(({formattedValue:re,offset:Q,labelOffset:ee,skipLabel:oe},Me)=>{const ke=ee??0,j=q*(U+3),ie=A({x:Q,y:-1},{direction:"x"}),te=A({x:Q+ke,y:-1},{direction:"x"});return k.jsxs("g",{transform:`translate(${Q}, 0)`,className:V.tickContainer,children:[!g&&ie&&k.jsx(ne,Ie({y2:q*U,className:V.tick},_==null?void 0:_.axisTick)),re!==void 0&&!oe&&te&&k.jsx(ge,Ie({x:ke,y:j},J,{text:re.toString()}))]},Me)}),y&&k.jsx("g",{className:V.label,children:k.jsx(fe,Ie({},K,Z,{text:y}))})]})}const wBe=["scale","tickNumber"],xBe=t=>{const{classes:e,position:r}=t;return rd({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Q8,e)},SBe={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function VO(t){const{yAxisIds:e,yAxis:r}=bl(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s}=n,a=pi(n,wBe),o=tt({props:Ie({},a,t),name:"MuiChartsYAxis"}),l=Ie({},SBe,o),{position:u,disableLine:c,disableTicks:h,tickFontSize:f,label:g,labelFontSize:m,labelStyle:y,tickLabelStyle:b,tickSize:x,valueFormatter:v,slots:w,slotProps:P,tickPlacement:T,tickLabelPlacement:_,tickInterval:M,tickLabelInterval:E,sx:D}=l,L=Ga(),F=Yi(),z=xBe(Ie({},l,{theme:L})),{left:V,top:O,width:I,height:H,isPointInside:W}=yl(),A=h?4:x,U=lx({scale:i,tickNumber:s,valueFormatter:v,tickPlacement:T,tickLabelPlacement:_,tickInterval:M}),q=u==="right"?1:-1,ae={x:q*(f+A+10),y:O+H/2},ne=(w==null?void 0:w.axisLine)??"line",ge=(w==null?void 0:w.axisTick)??"line",fe=(w==null?void 0:w.axisTickLabel)??Ey,J=(w==null?void 0:w.axisLabel)??Ey,ce=!F&&u==="right"||F&&u!=="right",Se=cl({elementType:fe,externalSlotProps:P==null?void 0:P.axisTickLabel,additionalProps:{style:Ie({fontSize:f,textAnchor:ce?"start":"end",dominantBaseline:"central"},b)},className:z.tickLabel,ownerState:{}}),K=cl({elementType:J,externalSlotProps:P==null?void 0:P.axisLabel,additionalProps:{style:Ie({fontSize:m,angle:q*90,textAnchor:"middle",dominantBaseline:"auto"},y)},ownerState:{}}),Z=cl({elementType:ne,externalSlotProps:P==null?void 0:P.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),ue=i.domain(),de=gh(i);return de&&ue.length===0||!de&&ue.some(YN)?null:k.jsxs(J8,{transform:`translate(${u==="right"?V+I:V}, 0)`,className:z.root,sx:D,children:[!c&&k.jsx(ne,Ie({y1:O,y2:O+H,className:z.line},Z)),U.map(({formattedValue:re,offset:Q,labelOffset:ee,value:oe},Me)=>{const ke=q*(A+2),j=ee,ie=typeof E=="function"&&!(E!=null&&E(oe,Me));return W({x:-1,y:Q},{direction:"y"})?k.jsxs("g",{transform:`translate(0, ${Q})`,className:z.tickContainer,children:[!h&&k.jsx(ge,Ie({x2:q*A,className:z.tick},P==null?void 0:P.axisTick)),re!==void 0&&!ie&&k.jsx(fe,Ie({x:ke,y:j,text:re.toString()},Se))]},Me):null}),g&&k.jsx("g",{className:z.label,children:k.jsx(J,Ie({},ae,K,{text:g}))})]})}const lv=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,uv=(t,e,r)=>typeof t=="object"?Ie({},t,{slots:Ie({},e,t==null?void 0:t.slots),slotProps:Ie({},r,t==null?void 0:t.slotProps)}):{slots:e,slotProps:r};function kBe(t){const{topAxis:e,leftAxis:r,rightAxis:n,bottomAxis:i,slots:s,slotProps:a}=t,{xAxis:o,xAxisIds:l,yAxis:u,yAxisIds:c}=bl(),h=lv(r===void 0?c[0]:r,c[0]),f=lv(i===void 0?l[0]:i,l[0]),g=lv(e,l[0]),m=lv(n,c[0]);if(g!==null&&!o[g])throw Error([`MUI X: id used for top axis "${g}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(h!==null&&!u[h])throw Error([`MUI X: id used for left axis "${h}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(m!==null&&!u[m])throw Error([`MUI X: id used for right axis "${m}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(f!==null&&!o[f])throw Error([`MUI X: id used for bottom axis "${f}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const y=uv(e,s,a),b=uv(i,s,a),x=uv(r,s,a),v=uv(n,s,a);return k.jsxs(C.Fragment,{children:[g&&k.jsx($O,Ie({},y,{position:"top",axisId:g})),f&&k.jsx($O,Ie({},b,{position:"bottom",axisId:f})),h&&k.jsx(VO,Ie({},x,{position:"left",axisId:h})),m&&k.jsx(VO,Ie({},v,{position:"right",axisId:m}))]})}function CBe(t){if(t===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:e,y:r}=t,n={width:0,height:0,x:e,y:r,top:r,right:e,bottom:r,left:e};return{getBoundingClientRect:()=>Ie({},n,{toJSON:()=>JSON.stringify(n)})}}function _Be(){const t=JN(),[e,r]=C.useState(null);return C.useEffect(()=>{const n=t.current;if(n===null)return()=>{};const i=a=>{a.pointerType!=="mouse"&&r(null)},s=a=>{r({x:a.clientX,y:a.clientY,height:a.height,pointerType:a.pointerType})};return n.addEventListener("pointerdown",s),n.addEventListener("pointermove",s),n.addEventListener("pointerup",i),()=>{n.removeEventListener("pointerdown",s),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",i)}},[t]),e}function TBe(t,e){if(t==="item")return e!==null;const r=e.x!==null,n=e.y!==null;return r||n}function PBe(t){return t instanceof Date?t.toUTCString():t.toLocaleString()}function BBe(t){return nd("MuiChartsTooltip",t)}const zO=Bh("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),tH=he("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius})),rH=he("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:t})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(t.vars||t).palette.divider} 1px`}})),BP=he("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:t})=>({"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}})),Ud=he("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:t})=>({verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,[`&.${zO.labelCell}`]:{paddingLeft:t.spacing(1)},[`&.${zO.valueCell}`]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}})),nH=he("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:t=>lm(t)&&t!=="color"})(({theme:t,color:e})=>({width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:e,borderColor:(t.vars||t).palette.background.paper,border:`solid ${(t.vars||t).palette.background.paper} ${t.spacing(.25)}`,boxSizing:"content-box"}));function MBe(t){var c;const{series:e,itemData:r,sx:n,classes:i,getColor:s}=t;if(r.dataIndex===void 0||!e.data[r.dataIndex])return null;const{displayedLabel:a,color:o}=e.type==="pie"?{color:s(r.dataIndex),displayedLabel:Pu(e.data[r.dataIndex].label,"tooltip")}:{color:s(r.dataIndex),displayedLabel:Pu(e.label,"tooltip")},l=e.type==="pie"?Ie({},e.data[r.dataIndex],{label:Pu(e.data[r.dataIndex].label,"tooltip")}):e.data[r.dataIndex],u=(c=e.valueFormatter)==null?void 0:c.call(e,l,{dataIndex:r.dataIndex});return k.jsx(tH,{sx:n,className:i.root,children:k.jsx(rH,{className:i.table,children:k.jsx("tbody",{children:k.jsxs(BP,{className:i.row,children:[k.jsx(Ud,{className:Oe(i.markCell,i.cell),children:k.jsx(nH,{color:o,className:i.mark})}),k.jsx(Ud,{className:Oe(i.labelCell,i.cell),children:a}),k.jsx(Ud,{className:Oe(i.valueCell,i.cell),children:u})]})})})})}function NBe(t){var P;const{content:e,itemData:r,sx:n,classes:i,contentProps:s}=t,a=td()[r.type].series[r.seriesId],{xAxis:o,yAxis:l,xAxisIds:u,yAxisIds:c}=bl(),{zAxis:h,zAxisIds:f}=C.useContext(QN),g=U8(),m=a.xAxisId??a.xAxisKey??u[0],y=a.yAxisId??a.yAxisKey??c[0],b=a.zAxisId??a.zAxisKey??f[0],x=((P=g[a.type])==null?void 0:P.call(g,a,m&&o[m],y&&l[y],b&&h[b]))??(()=>""),v=e??MBe,w=cl({elementType:v,externalSlotProps:s,additionalProps:{itemData:r,series:a,sx:n,classes:i,getColor:x},ownerState:{}});return k.jsx(v,Ie({},w))}let WO;class EBe{constructor(){if(this.types=new Set,WO)throw new Error("You can only create one instance!");WO=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const mS=new EBe;mS.addType("bar");mS.addType("line");mS.addType("scatter");function iH(t){return mS.getTypes().has(t)}function RBe(t){return iH(t.type)}function DBe(t){const{series:e,axis:r,dataIndex:n,axisValue:i,sx:s,classes:a}=t;if(n==null)return null;const o=r.valueFormatter??(l=>r.scaleType==="utc"?PBe(l):l.toLocaleString());return k.jsx(tH,{sx:s,className:a.root,children:k.jsxs(rH,{className:a.table,children:[i!=null&&!r.hideTooltip&&k.jsx("thead",{children:k.jsx(BP,{children:k.jsx(Ud,{colSpan:3,children:k.jsx(Kr,{children:o(i,{location:"tooltip"})})})})}),k.jsx("tbody",{children:e.filter(RBe).map(({id:l,label:u,valueFormatter:c,data:h,getColor:f})=>{const g=c(h[n]??null,{dataIndex:n});if(g==null)return null;const m=Pu(u,"tooltip"),y=f(n);return k.jsxs(BP,{className:a.row,children:[k.jsx(Ud,{className:Oe(a.markCell,a.cell),children:y&&k.jsx(nH,{color:y,className:a.mark})}),k.jsx(Ud,{className:Oe(a.labelCell,a.cell),children:m?k.jsx(Kr,{children:m}):null}),k.jsx(Ud,{className:Oe(a.valueCell,a.cell),children:k.jsx(Kr,{children:g})})]},l)})})]})})}function IBe(t){const{content:e,contentProps:r,axisData:n,sx:i,classes:s}=t,a=n.x&&n.x.index!==-1,o=a?n.x&&n.x.index:n.y&&n.y.index,l=a?n.x&&n.x.value:n.y&&n.y.value,{xAxisIds:u,xAxis:c,yAxisIds:h,yAxis:f}=bl(),{zAxisIds:g,zAxis:m}=C.useContext(QN),y=td(),b=U8(),x=a?u[0]:h[0],v=C.useMemo(()=>{const _=[];return Object.keys(y).filter(iH).forEach(M=>{y[M].seriesOrder.forEach(E=>{var V;const D=y[M].series[E],L=D.xAxisId??D.xAxisKey,F=D.yAxisId??D.yAxisKey,z=a?L:F;if(z===void 0||z===x){const O=y[M].series[E],I=L??u[0],H=F??h[0],W=O.zAxisId??O.zAxisKey??g[0],A=((V=b[M])==null?void 0:V.call(b,O,c[I],f[H],W&&m[W]))??(()=>"");_.push(Ie({},O,{getColor:A}))}})}),_},[x,b,a,y,c,u,f,h,m,g]),w=C.useMemo(()=>a?c[x]:f[x],[x,a,c,f]),P=e??DBe,T=cl({elementType:P,externalSlotProps:r,additionalProps:{axisData:n,series:v,axis:w,dataIndex:o,axisValue:l,sx:i,classes:s},ownerState:{}});return k.jsx(P,Ie({},T))}const LBe=t=>{const{classes:e}=t;return rd({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},BBe,e)},FBe=he(uV,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",zIndex:t.zIndex.modal}));function ABe(t){const e=tt({props:t,name:"MuiChartsTooltip"}),{trigger:r="axis",itemContent:n,axisContent:i,slots:s,slotProps:a}=e,o=_Be(),{item:l,axis:u}=C.useContext(Op),c=r==="item"?l:u,h=TBe(r,c),f=o!==null&&h,g=LBe({classes:e.classes}),m=(s==null?void 0:s.popper)??FBe,y=cl({elementType:m,externalSlotProps:a==null?void 0:a.popper,additionalProps:{open:f,placement:(o==null?void 0:o.pointerType)==="mouse"?"right-start":"top",anchorEl:CBe(o),modifiers:[{name:"offset",options:{offset:[0,(o==null?void 0:o.pointerType)==="touch"?40-o.height:0]}}]},ownerState:{}});return r==="none"?null:k.jsx(q4,{children:f&&k.jsx(m,Ie({},y,{children:r==="item"?k.jsx(NBe,{itemData:c,content:(s==null?void 0:s.itemContent)??n,contentProps:a==null?void 0:a.itemContent,sx:{mx:2},classes:g}):k.jsx(IBe,{axisData:c,content:(s==null?void 0:s.axisContent)??i,contentProps:a==null?void 0:a.axisContent,sx:{mx:2},classes:g})}))})}const OBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Pu(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},$Be=OBe,VBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Pu(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},zBe=VBe,WBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=Pu(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},HBe=WBe,UBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>(r[i].data.forEach(s=>{const a=Pu(s.label,"legend");a!==void 0&&n.push({color:s.color,label:a,id:s.id})}),n),[])},GBe=UBe,jBe={bar:$Be,scatter:zBe,line:HBe,pie:GBe};function YBe(t){return Object.keys(t).flatMap(e=>{const r=jBe[e];return r===void 0?[]:r(t[e])})}function XBe(t){return nd("MuiChartsLegend",t)}Bh("MuiChartsLegend",["root","series","mark","label","column","row"]);const qBe=["label"];function KBe(t,e,r,n,i,s,a){let o=0,l=0,u=0,c=0,h=0;const f=[0];return[t.map(m=>{let{label:y}=m,b=pi(m,qBe);const x=e(y,r),v=Ie({},b,{label:y,positionX:o,positionY:l,innerHeight:x.innerHeight,innerWidth:x.innerWidth,outerHeight:x.outerHeight,outerWidth:x.outerWidth,rowIndex:h});return n==="row"&&(o+x.innerWidth>i&&(o=0,l+=f[h],h+=1,f.length<=h&&f.push(0),v.positionX=o,v.positionY=l,v.rowIndex=h),u=Math.max(u,o+x.outerWidth),c=Math.max(c,l+x.outerHeight),f[h]=Math.max(f[h],x.outerHeight),o+=x.outerWidth),n==="column"&&(l+x.innerHeight>s&&(o=u+a,l=0,h=0,v.positionX=o,v.positionY=l,v.rowIndex=h),f.length<=h&&f.push(0),u=Math.max(u,o+x.outerWidth),c=Math.max(c,l+x.outerHeight),h+=1,l+=x.outerHeight),v}).map(m=>Ie({},m,{positionY:m.positionY+(n==="row"?f[m.rowIndex]/2:m.outerHeight/2)})),u,c]}const QBe=["rotate","dominantBaseline"],JBe=he("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ZBe=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:Ie({left:0,right:0,top:0,bottom:0},t);function eMe(t){const{hidden:e,position:r,direction:n,itemsToDisplay:i,classes:s,itemMarkWidth:a=20,itemMarkHeight:o=20,markGap:l=5,itemGap:u=10,padding:c=10,labelStyle:h}=t,f=Ga(),g=Yi(),m=yl(),y=C.useMemo(()=>Ie({},f.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(f.vars||f).palette.text.primary,lineHeight:1},h),[h,f]),b=C.useMemo(()=>ZBe(c),[c]),x=C.useCallback((F,z={})=>{const V=pi(z,QBe),O=ZN({style:V,needsComputation:!0,text:F}),I={innerWidth:a+l+Math.max(...O.map(H=>H.width)),innerHeight:Math.max(o,O.length*O[0].height)};return Ie({},I,{outerWidth:I.innerWidth+u,outerHeight:I.innerHeight+u})},[u,o,a,l]),v=m.left+m.width+m.right,w=m.top+m.height+m.bottom,P=v-b.left-b.right,T=w-b.top-b.bottom,[_,M,E]=C.useMemo(()=>KBe(i,x,y,n,P,T,u),[i,x,y,n,P,T,u]),D=C.useMemo(()=>{switch(r.horizontal){case"left":return b.left;case"right":return v-b.right-M;default:return(v-M)/2}},[r.horizontal,b.left,b.right,v,M]),L=C.useMemo(()=>{switch(r.vertical){case"top":return b.top;case"bottom":return w-b.bottom-E;default:return(w-E)/2}},[r.vertical,b.top,b.bottom,w,E]);return e?null:k.jsx(q4,{children:k.jsx(JBe,{className:s==null?void 0:s.root,children:_.map(({id:F,label:z,color:V,positionX:O,positionY:I})=>k.jsxs("g",{className:s==null?void 0:s.series,transform:`translate(${D+(g?M-O:O)} ${L+I})`,children:[k.jsx("rect",{className:s==null?void 0:s.mark,x:g?-a:0,y:-o/2,width:a,height:o,fill:V}),k.jsx(Ey,{style:y,text:z,x:(g?-1:1)*(a+l),y:0})]},F))})})}const tMe=["drawingArea","seriesToDisplay"];function rMe(t){const{seriesToDisplay:e}=t,r=pi(t,tMe);return k.jsx(eMe,Ie({},r,{itemsToDisplay:e}))}const nMe=t=>{const{classes:e,direction:r}=t;return rd({root:["root",r],mark:["mark"],label:["label"],series:["series"]},XBe,e)},iMe={position:{horizontal:"middle",vertical:"top"},direction:"row"};function sMe(t){const e=tt({props:Ie({},iMe,t),name:"MuiChartsLegend"}),{position:r,direction:n,hidden:i,slots:s,slotProps:a}=e,o=Ga(),l=nMe(Ie({},e,{theme:o})),u=yl(),c=td(),h=YBe(c),f=(s==null?void 0:s.legend)??rMe,g=cl({elementType:f,externalSlotProps:a==null?void 0:a.legend,additionalProps:{position:r,direction:n,classes:l,drawingArea:u,series:c,hidden:i,seriesToDisplay:h},ownerState:{}});return k.jsx(f,Ie({},g))}function aMe(t){return nd("MuiChartsAxisHighlight",t)}Bh("MuiChartsAxisHighlight",["root"]);const oMe=()=>rd({root:["root"]},aMe),cv=he("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:Ie({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:Ie({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function lMe(t){const{x:e,y:r}=t,{xAxisIds:n,xAxis:i,yAxisIds:s,yAxis:a}=bl(),o=oMe(),l=n[0],u=s[0],c=i[l].scale,h=a[u].scale,{axis:f}=C.useContext(Op),g=RO(c),m=RO(h),y=f.x,b=f.y,x=e==="band"&&y!==null&&gh(c),v=r==="band"&&b!==null&&gh(h);return k.jsxs(C.Fragment,{children:[x&&c(y.value)!==void 0&&k.jsx(cv,{d:`M ${c(y.value)-(c.step()-c.bandwidth())/2} ${h.range()[0]} l ${c.step()} 0 l 0 ${h.range()[1]-h.range()[0]} l ${-c.step()} 0 Z`,className:o.root,ownerState:{axisHighlight:"band"}}),v&&h(b.value)!==void 0&&k.jsx(cv,{d:`M ${c.range()[0]} ${h(b.value)-(h.step()-h.bandwidth())/2} l 0 ${h.step()} l ${c.range()[1]-c.range()[0]} 0 l 0 ${-h.step()} Z`,className:o.root,ownerState:{axisHighlight:"band"}}),e==="line"&&f.x!==null&&k.jsx(cv,{d:`M ${g(f.x.value)} ${h.range()[0]} L ${g(f.x.value)} ${h.range()[1]}`,className:o.root,ownerState:{axisHighlight:"line"}}),r==="line"&&f.y!==null&&k.jsx(cv,{d:`M ${c.range()[0]} ${m(f.y.value)} L ${c.range()[1]} ${m(f.y.value)}`,className:o.root,ownerState:{axisHighlight:"line"}})]})}function uMe(t){const{id:e,offset:r}=t,{left:n,top:i,width:s,height:a}=yl(),o=Ie({top:0,right:0,bottom:0,left:0},r);return k.jsx("clipPath",{id:e,children:k.jsx("rect",{x:n-o.left,y:i-o.top,width:s+o.left+o.right,height:a+o.top+o.bottom})})}function cMe(t){return nd("MuiChartsGrid",t)}const HO=Bh("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),dMe=["vertical","horizontal"],hMe=he("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${HO.verticalLine}`]:e.verticalLine},{[`&.${HO.horizontalLine}`]:e.horizontalLine},e.root]})({}),UO=he("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(t,e)=>e.line})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1})),fMe=({classes:t})=>rd({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},cMe,t);function pMe(t){const e=tt({props:t,name:"MuiChartsGrid"}),r=yl(),{vertical:n,horizontal:i}=e,s=pi(e,dMe),{xAxis:a,xAxisIds:o,yAxis:l,yAxisIds:u}=bl(),c=fMe(e),h=u[0],f=o[0],{scale:g,tickNumber:m,tickInterval:y}=a[f],{scale:b,tickNumber:x,tickInterval:v}=l[h],w=lx({scale:g,tickNumber:m,tickInterval:y}),P=lx({scale:b,tickNumber:x,tickInterval:v});return k.jsxs(hMe,Ie({},s,{className:c.root,children:[n&&w.map(({formattedValue:T,offset:_})=>k.jsx(UO,{y1:r.top,y2:r.top+r.height,x1:_,x2:_,className:c.verticalLine},`vertical-${T}`)),i&&P.map(({formattedValue:T,offset:_})=>k.jsx(UO,{y1:_,y2:_,x1:r.left,x2:r.left+r.width,className:c.horizontalLine},`horizontal-${T}`))]}))}function gMe(t){const{onAxisClick:e}=t,r=JN(),n=td(),{axis:i}=C.useContext(Op),{xAxisIds:s,xAxis:a,yAxisIds:o,yAxis:l}=bl();return C.useEffect(()=>{const u=r.current;if(u===null||!e)return()=>{};const c=h=>{var x;h.preventDefault();const f=(i.x&&i.x.index)!==void 0,g=f?s[0]:o[0],m=f?i.x&&i.x.index:i.y&&i.y.index;if(m==null)return;const y={};Object.keys(n).filter(v=>["bar","line"].includes(v)).forEach(v=>{var w;(w=n[v])==null||w.seriesOrder.forEach(P=>{const T=n[v].series[P],_=T.xAxisId??T.xAxisKey,M=T.yAxisId??T.yAxisKey,E=f?_:M;(E===void 0||E===g)&&(y[P]=T.data[m])})});const b=(x=(f?a:l)[g].data)==null?void 0:x[m];e(h,{dataIndex:m,axisValue:b,seriesValues:y})};return u.addEventListener("click",c),()=>{u.removeEventListener("click",c)}},[i.x,i.y,e,n,r,a,s,l,o]),k.jsx(C.Fragment,{})}const mMe=["message"],yMe=he("text")(({theme:t})=>Ie({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function bMe(t){const{message:e}=t,r=pi(t,mMe),{top:n,left:i,height:s,width:a}=yl();return k.jsx(yMe,Ie({x:i+a/2,y:n+s/2},r,{children:e??"Loading data"}))}const vMe=["message"],wMe=he("text")(({theme:t})=>Ie({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function xMe(t){const{message:e}=t,r=pi(t,vMe),{top:n,left:i,height:s,width:a}=yl();return k.jsx(wMe,Ie({x:i+a/2,y:n+s/2},r,{children:e??"No data to display"}))}function SMe(){const t=td();return Object.values(t).every(e=>{if(!e)return!0;const{series:r,seriesOrder:n}=e;return n.every(i=>r[i].data.length===0)})}function kMe(t){var r,n,i,s;const e=SMe();if(t.loading){const a=((r=t.slots)==null?void 0:r.loadingOverlay)??bMe;return k.jsx(a,Ie({},(n=t.slotProps)==null?void 0:n.loadingOverlay))}if(e){const a=((i=t.slots)==null?void 0:i.noDataOverlay)??xMe;return k.jsx(a,Ie({},(s=t.slotProps)==null?void 0:s.noDataOverlay))}return null}const CMe=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],_Me=t=>{const{xAxis:e,yAxis:r,series:n,width:i,height:s,margin:a,colors:o,dataset:l,sx:u,tooltip:c,onAxisClick:h,axisHighlight:f,legend:g,grid:m,topAxis:y,leftAxis:b,rightAxis:x,bottomAxis:v,children:w,slots:P,slotProps:T,skipAnimation:_,loading:M,layout:E,onItemClick:D,highlightedItem:L,onHighlightChange:F,borderRadius:z,barLabel:V,className:O}=t,I=pi(t,CMe),W=`${R8()}-clip-path`,A=E==="horizontal"||E===void 0&&n.some(de=>de.layout==="horizontal"),U={scaleType:"band",data:Array.from({length:Math.max(...n.map(de=>(de.data??l??[]).length))},(de,re)=>re)},q=Ie({},I,{series:n.map(de=>Ie({type:"bar"},de,{layout:A?"horizontal":"vertical"})),width:i,height:s,margin:a,colors:o,dataset:l,xAxis:e??(A?void 0:[Ie({id:XN},U)]),yAxis:r??(A?[Ie({id:qN},U)]:void 0),sx:u,highlightedItem:L,onHighlightChange:F,disableAxisListener:(c==null?void 0:c.trigger)!=="axis"&&(f==null?void 0:f.x)==="none"&&(f==null?void 0:f.y)==="none"&&!h,className:O}),ae={onItemClick:D,slots:P,slotProps:T,skipAnimation:_,borderRadius:z,barLabel:V},ne={onAxisClick:h},ge={vertical:m==null?void 0:m.vertical,horizontal:m==null?void 0:m.horizontal},fe={clipPath:`url(#${W})`},J={id:W},ce={slots:P,slotProps:T,loading:M},Se={topAxis:y,leftAxis:b,rightAxis:x,bottomAxis:v,slots:P,slotProps:T},K=Ie({},A?{y:"band"}:{x:"band"},f),Z=Ie({},g,{slots:P,slotProps:T}),ue=Ie({},c,{slots:P,slotProps:T});return{chartContainerProps:q,barPlotProps:ae,axisClickHandlerProps:ne,gridProps:ge,clipPathProps:J,clipPathGroupProps:fe,overlayProps:ce,chartsAxisProps:Se,axisHighlightProps:K,legendProps:Z,tooltipProps:ue,children:w}},sH=C.forwardRef(function(e,r){const n=tt({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:s,axisClickHandlerProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:u,overlayProps:c,chartsAxisProps:h,axisHighlightProps:f,legendProps:g,tooltipProps:m,children:y}=_Me(n);return k.jsxs(sBe,Ie({ref:r},i,{children:[n.onAxisClick&&k.jsx(gMe,Ie({},a)),n.grid&&k.jsx(pMe,Ie({},o)),k.jsxs("g",Ie({},u,{children:[k.jsx($Pe,Ie({},s)),k.jsx(kMe,Ie({},c)),k.jsx(lMe,Ie({},f))]})),k.jsx(kBe,Ie({},h)),k.jsx(sMe,Ie({},g)),!n.loading&&k.jsx(ABe,Ie({},m)),k.jsx(uMe,Ie({},l)),y]}))});function zv(t,e,r){const n=[];for(let s=0;s<101;s++)n.push({percentage:s/100,amount:0});for(let s=0;s<t;s++){var i=0;for(let a=0;a<r;a++)Math.random()<e&&i++;n[Math.round(i/r*100)]={...n[Math.round(i/r*100)],amount:n[Math.round(i/r*100)].amount+1}}return n}function TMe(t){return Math.round(t*1e4)/100+"%"}function PMe(){const[t,e]=C.useState([]),[r,n]=C.useState(0),[i,s]=C.useState(.5),[a,o]=C.useState(10),[l,u]=C.useState(0),c=1e3,h=.05,f=1e4,g=l/a,m=r/f;return C.useEffect(()=>{let y=0;t.filter(b=>g>i?b.percentage>=g:b.percentage<=g).forEach(b=>y+=b.amount),n(y)},[g,i,t]),k.jsx(Wu,{title:"Math",children:k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center",padding:"10px"},children:[k.jsx(sH,{dataset:t,xAxis:[{scaleType:"band",dataKey:"percentage",colorMap:{type:"piecewise",thresholds:g>i?[0,g]:[g+1e-7],colors:["red","blue","red"]}}],series:[{dataKey:"amount"}],width:800,height:300}),k.jsxs("div",{style:{display:"flex",textAlign:"center"},children:[k.jsxs("div",{style:{margin:20},children:[k.jsxs(Kr,{fontSize:25,children:[Math.round(i*100),"%"]}),k.jsx(Xd,{max:1,step:.01,value:i,onChange:(y,b)=>{s(b),zv(f,i,a)}}),"Null Hypothesis"]}),k.jsxs("div",{style:{margin:20,width:400},children:[k.jsx(Kr,{fontSize:25,children:a}),k.jsx(Xd,{min:1,max:c,step:1,value:a,onChange:(y,b)=>{e(zv(f,i,a)),o(b)},onChangeCommitted:()=>{l>a&&u(a)}}),"Sample size",k.jsxs("div",{style:{width:a/c*400},children:[k.jsx(Kr,{fontSize:25,children:l}),k.jsx(Xd,{max:a,step:1,value:l,onChange:(y,b)=>u(b)}),"Successes"]})]})]}),k.jsxs("div",{children:["Out of the ",f," simulations run, ",r," ended with a sample proportion of ",Math.round(g*1e3)/10,"% or"," ",g>i?"higher":"lower"]}),k.jsxs("div",{children:["P-value is ",m," "]}),"That is",m<h?` less than the threshold of ${h} and is therefore statistically significant`:` more than the threshold of ${h} and is therefore NOT statistically significant`,k.jsx(fi,{onClick:()=>e(zv(f,i,a)),children:"Generate"})]})})}function BMe({questions:t}){const{control:e,handleSubmit:r}=Cz(),[n,i]=C.useState(null);function s(a){i(t.every(o=>Number(a[o.name])===o.correct))}return k.jsxs("div",{style:{display:"flex",flexDirection:"column",width:600},children:[t.map(a=>k.jsxs(k.Fragment,{children:[k.jsxs(Kr,{children:["What is the ",a.name,"? (Round to 2 decimals if necessary)"]}),k.jsxs("div",{children:[k.jsx(Rv,{control:e,name:a.name,render:({field:o})=>k.jsx(Qm,{type:"number",value:o.value,onChange:o.onChange})}),k.jsx(MMe,{solution:a.correct})]})]})),k.jsx(fi,{onClick:r(s),children:"Submit"}),n===!0&&k.jsx(CM,{style:{color:"green"}}),n===!1&&k.jsx(Rp,{style:{color:"red"}})]})}function MMe({solution:t}){const[e,r]=C.useState(!1);return k.jsxs(k.Fragment,{children:[e===!1&&k.jsx(fi,{onClick:()=>r(!0),style:{textTransform:"lowercase"},children:"View solution"}),e===!0&&k.jsx(k.Fragment,{children:t})]})}function NMe(){const t=["people","birds","stuffed animals","clouds","girls named Vivian","clowns"],e=["hairy","white","just straight ugly","edible","downright evil","mentally insane"],r=["inside your bathroom","to the park","to Mexico","to hell","to a Trump rally","to highschool prom"],n=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)],s=r[Math.floor(Math.random()*r.length)],a=Math.round(Math.random()*1e3),o=Math.round(Math.random()*a),l=o/a,u=Math.min(100,Math.max(0,Math.round(((Math.random()-.5)/10+l)*100)/100)),c=zv(1e3,u,a);var h=0;c.filter(g=>l>u?g.percentage>=l:g.percentage<=l).forEach(g=>h+=g.amount);const f=Math.round(h/1e3*100)/100;return k.jsx(Wu,{title:"Math Quiz",children:k.jsxs("div",{style:{padding:15},children:[k.jsxs(Kr,{children:["It is common knowledge that ",TMe(u)," of ",n," ","are ",i,". However, you went ",s," and saw ",a," ",n,". You noticed that ",o," were ",i,". Below is a chart that represents the null distribution."]}),k.jsx(sH,{dataset:c,xAxis:[{scaleType:"band",dataKey:"percentage"}],series:[{dataKey:"amount"}],width:800,height:300}),k.jsx(BMe,{questions:[{name:"sample proportion",correct:Math.round(l*100)/100},{name:"null value",correct:Math.round(u*100)/100},{name:"p-value",correct:f}]})]})})}var EMe=RMe;function RMe(t,e,r){if(t!=null&&typeof t!="number")throw new Error("start must be a number or null");if(e!=null&&typeof e!="number")throw new Error("stop must be a number or null");if(r!=null&&typeof r!="number")throw new Error("step must be a number or null");e==null&&(e=t||0,t=0),r==null&&(r=e>t?1:-1);for(var n=[],i=t<e;i?t<e:t>e;t+=r)n.push(t);return n}const eE=za(EMe);var aH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(aH);var DMe=aH.exports;const tE=za(DMe);var IMe=200,rE="__lodash_hash_undefined__",LMe=9007199254740991,FMe="[object Arguments]",AMe="[object Function]",OMe="[object GeneratorFunction]",$Me=/[\\^$.*+?()[\]{}|]/g,VMe=/^\[object .+?Constructor\]$/,zMe=typeof ks=="object"&&ks&&ks.Object===Object&&ks,WMe=typeof self=="object"&&self&&self.Object===Object&&self,nE=zMe||WMe||Function("return this")();function HMe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function UMe(t,e){var r=t?t.length:0;return!!r&&qMe(t,e,0)>-1}function GMe(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function jMe(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function YMe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function XMe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function qMe(t,e,r){if(e!==e)return XMe(t,KMe,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function KMe(t){return t!==t}function QMe(t){return function(e){return t(e)}}function JMe(t,e){return t.has(e)}function ZMe(t,e){return t==null?void 0:t[e]}function eNe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var tNe=Array.prototype,rNe=Function.prototype,iE=Object.prototype,__=nE["__core-js_shared__"],GO=function(){var t=/[^.]+$/.exec(__&&__.keys&&__.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),oH=rNe.toString,yS=iE.hasOwnProperty,lH=iE.toString,nNe=RegExp("^"+oH.call(yS).replace($Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jO=nE.Symbol,iNe=iE.propertyIsEnumerable,sNe=tNe.splice,YO=jO?jO.isConcatSpreadable:void 0,XO=Math.max,aNe=cH(nE,"Map"),Ry=cH(Object,"create");function mh(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function oNe(){this.__data__=Ry?Ry(null):{}}function lNe(t){return this.has(t)&&delete this.__data__[t]}function uNe(t){var e=this.__data__;if(Ry){var r=e[t];return r===rE?void 0:r}return yS.call(e,t)?e[t]:void 0}function cNe(t){var e=this.__data__;return Ry?e[t]!==void 0:yS.call(e,t)}function dNe(t,e){var r=this.__data__;return r[t]=Ry&&e===void 0?rE:e,this}mh.prototype.clear=oNe;mh.prototype.delete=lNe;mh.prototype.get=uNe;mh.prototype.has=cNe;mh.prototype.set=dNe;function $p(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hNe(){this.__data__=[]}function fNe(t){var e=this.__data__,r=bS(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():sNe.call(e,r,1),!0}function pNe(t){var e=this.__data__,r=bS(e,t);return r<0?void 0:e[r][1]}function gNe(t){return bS(this.__data__,t)>-1}function mNe(t,e){var r=this.__data__,n=bS(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}$p.prototype.clear=hNe;$p.prototype.delete=fNe;$p.prototype.get=pNe;$p.prototype.has=gNe;$p.prototype.set=mNe;function Vp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yNe(){this.__data__={hash:new mh,map:new(aNe||$p),string:new mh}}function bNe(t){return vS(this,t).delete(t)}function vNe(t){return vS(this,t).get(t)}function wNe(t){return vS(this,t).has(t)}function xNe(t,e){return vS(this,t).set(t,e),this}Vp.prototype.clear=yNe;Vp.prototype.delete=bNe;Vp.prototype.get=vNe;Vp.prototype.has=wNe;Vp.prototype.set=xNe;function cx(t){var e=-1,r=t?t.length:0;for(this.__data__=new Vp;++e<r;)this.add(t[e])}function SNe(t){return this.__data__.set(t,rE),this}function kNe(t){return this.__data__.has(t)}cx.prototype.add=cx.prototype.push=SNe;cx.prototype.has=kNe;function bS(t,e){for(var r=t.length;r--;)if(RNe(t[r][0],e))return r;return-1}function CNe(t,e,r,n){var i=-1,s=UMe,a=!0,o=t.length,l=[],u=e.length;if(!o)return l;r&&(e=jMe(e,QMe(r))),n?(s=GMe,a=!1):e.length>=IMe&&(s=JMe,a=!1,e=new cx(e));e:for(;++i<o;){var c=t[i],h=r?r(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(c)}else s(e,h,n)||l.push(c)}return l}function uH(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=PNe),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?uH(o,e-1,r,n,i):YMe(i,o):n||(i[i.length]=o)}return i}function _Ne(t){if(!hH(t)||MNe(t))return!1;var e=dH(t)||eNe(t)?nNe:VMe;return e.test(NNe(t))}function TNe(t,e){return e=XO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=XO(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=s,HMe(t,this,a)}}function vS(t,e){var r=t.__data__;return BNe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function cH(t,e){var r=ZMe(t,e);return _Ne(r)?r:void 0}function PNe(t){return INe(t)||DNe(t)||!!(YO&&t&&t[YO])}function BNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function MNe(t){return!!GO&&GO in t}function NNe(t){if(t!=null){try{return oH.call(t)}catch{}try{return t+""}catch{}}return""}var ENe=TNe(function(t,e){return MP(t)?CNe(t,uH(e,1,MP,!0)):[]});function RNe(t,e){return t===e||t!==t&&e!==e}function DNe(t){return MP(t)&&yS.call(t,"callee")&&(!iNe.call(t,"callee")||lH.call(t)==FMe)}var INe=Array.isArray;function LNe(t){return t!=null&&FNe(t.length)&&!dH(t)}function MP(t){return ANe(t)&&LNe(t)}function dH(t){var e=hH(t)?lH.call(t):"";return e==AMe||e==OMe}function FNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=LMe}function hH(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ANe(t){return!!t&&typeof t=="object"}var ONe=ENe;const qO=za(ONe);function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xS(t,e,r){return e&&KO(t.prototype,e),r&&KO(t,r),t}function hn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NP(){return NP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NP.apply(this,arguments)}function SS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EP(t,e)}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(t)}function EP(t,e){return EP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},EP(t,e)}function $Ne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function VNe(t,e){if(t==null)return{};var r=$Ne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kS(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:ii(t)}function zNe(t,e){return WNe(t)||HNe(t,e)||UNe()}function WNe(t){if(Array.isArray(t))return t}function HNe(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}function UNe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var GNe=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],jNe=["Db","Eb","Gb","Ab","Bb"],YNe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},dx=12,sE=dx,aE=127,XNe=/([a-g])([#b]?)(\d+)/,RP=12;function qNe(t){if(!t)throw Error("Invalid note argument");var e=XNe.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var r=zNe(e,4),n=r[1],i=r[2],s=r[3],a="".concat(n.toUpperCase()).concat(i),o=YNe[a];if(o==null)throw Error("Invalid note argument");return dx+o+RP*parseInt(s,10)}function KNe(t){var e=(t-dx)%RP,r=Math.floor((t-dx)/RP),n=GNe[e];return{note:"".concat(n).concat(r),pitchName:n,octave:r,midiNumber:t,isAccidental:jNe.includes(n)}}function QNe(){return eE(sE,aE+1).reduce(function(t,e){return t[e]=KNe(e),t},{})}var JNe=QNe();function fH(t){var e=JNe[t];if(!e)throw Error("Invalid MIDI number");return e}var ZNe=eE(sE,aE+1).filter(function(t){return!fH(t).isAccidental}),Dy={fromNote:qNe,getAttributes:fH,MIN_MIDI_NUMBER:sE,MAX_MIDI_NUMBER:aE,NATURAL_MIDI_NUMBERS:ZNe},oE=function(t){SS(e,t);function e(){var r,n;wS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=kS(this,(r=xp(e)).call.apply(r,[this].concat(s))),hn(ii(n),"onPlayNoteInput",function(){n.props.onPlayNoteInput(n.props.midiNumber)}),hn(ii(n),"onHover",function(){n.props.onHover(n.props.midiNumber)}),hn(ii(n),"onStopNoteInput",function(){n.props.onStopNoteInput(n.props.midiNumber)}),n}return xS(e,[{key:"getAbsoluteKeyPosition",value:function(n){var i=7,s=Dy.getAttributes(n),a=s.octave,o=s.pitchName,l=this.props.pitchPositions[o],u=i*a;return l+u}},{key:"getRelativeKeyPosition",value:function(n){return this.getAbsoluteKeyPosition(n)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var n=this.props,i=n.naturalKeyWidth,s=n.accidentalWidthRatio,a=n.midiNumber,o=n.gliss,l=n.useTouchEvents,u=n.accidental,c=n.active,h=n.highlighted,f=n.disabled,g=n.children;return Lt.createElement("div",{className:tE("ReactPiano__Key",{"ReactPiano__Key--accidental":u,"ReactPiano__Key--natural":!u,"ReactPiano__Key--disabled":f,"ReactPiano__Key--active":c,"ReactPiano__Key--highlighted":h}),id:a,style:{left:QO(this.getRelativeKeyPosition(a)*i),width:QO(u?s*i:i)},onMouseDown:l?null:this.onPlayNoteInput,onMouseUp:l?null:this.onStopNoteInput,onMouseEnter:o?this.onPlayNoteInput:this.onHover,onMouseLeave:this.onStopNoteInput,onTouchStart:l?this.onPlayNoteInput:null,onTouchCancel:l?this.onStopNoteInput:null,onTouchEnd:l?this.onStopNoteInput:null},Lt.createElement("div",{className:"ReactPiano__NoteLabelContainer"},g))}}]),e}(Lt.Component);hn(oE,"propTypes",{midiNumber:X.number.isRequired,naturalKeyWidth:X.number.isRequired,gliss:X.bool.isRequired,useTouchEvents:X.bool.isRequired,accidental:X.bool.isRequired,active:X.bool.isRequired,highlighted:X.bool.isRequired,disabled:X.bool.isRequired,onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,accidentalWidthRatio:X.number.isRequired,pitchPositions:X.object.isRequired,children:X.node});hn(oE,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function QO(t){return"".concat(t*100,"%")}var lE=function(t){SS(e,t);function e(){return wS(this,e),kS(this,xp(e).apply(this,arguments))}return xS(e,[{key:"getMidiNumbers",value:function(){return eE(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(n){var i=Dy.getAttributes(n),s=i.isAccidental;return!s}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var n=this.props.width*this.getNaturalKeyWidth();return"".concat(n/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var n=this,i=this.getNaturalKeyWidth();return Lt.createElement("div",{className:tE("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(s){var a=Dy.getAttributes(s);a.note;var o=a.isAccidental,l=!n.props.disabled&&n.props.activeNotes.includes(s),u=!n.props.disabled&&n.props.highlightedNotes.includes(s);return Lt.createElement(oE,{naturalKeyWidth:i,midiNumber:s,noteRange:n.props.noteRange,active:l,highlighted:u,accidental:o,disabled:n.props.disabled,onPlayNoteInput:n.props.onPlayNoteInput,onHover:n.props.onHover,onStopNoteInput:n.props.onStopNoteInput,gliss:n.props.gliss,useTouchEvents:n.props.useTouchEvents,key:s},n.props.disabled?null:n.props.renderNoteLabel({isActive:l,isAccidental:o,midiNumber:s}))}))}}]),e}(Lt.Component);hn(lE,"propTypes",{noteRange:eEe,activeNotes:X.arrayOf(X.number),highlightedNotes:X.arrayOf(X.number),onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,renderNoteLabel:X.func.isRequired,keyWidthToHeight:X.number.isRequired,className:X.string,disabled:X.bool,gliss:X.bool,useTouchEvents:X.bool,width:X.number});hn(lE,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function JO(t){return typeof t!="number"?!1:Dy.NATURAL_MIDI_NUMBERS.includes(t)}function eEe(t,e,r){var n=t[e],i=n.first,s=n.last;if(!i||!s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," must be an object with .first and .last values."));if(!JO(i)||!JO(s))return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(i>=s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e,".first must be smaller than ").concat(e,".last."))}var uE=function(t){SS(e,t);function e(){var r,n;wS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=kS(this,(r=xp(e)).call.apply(r,[this].concat(s))),hn(ii(n),"state",{isMouseDown:!1,useTouchEvents:!1}),hn(ii(n),"handleNoteChanges",function(o){var l=o.prevActiveNotes,u=o.nextActiveNotes;if(!n.props.disabled){var c=qO(l,u),h=qO(u,l);h.forEach(function(f){n.props.playNote(f)}),c.forEach(function(f){n.props.stopNote(f)})}}),hn(ii(n),"getMidiNumberForKey",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(u){return u.key===o});return l&&l.midiNumber}),hn(ii(n),"getKeyForMidiNumber",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(u){return u.midiNumber===o});return l&&l.key}),hn(ii(n),"onKeyDown",function(o){if(!(o.ctrlKey||o.metaKey||o.shiftKey)){var l=n.getMidiNumberForKey(o.key);l&&n.onPlayNoteInput(l)}}),hn(ii(n),"onKeyUp",function(o){var l=n.getMidiNumberForKey(o.key);l&&n.onStopNoteInput(l)}),hn(ii(n),"onPlayNoteInput",function(o){n.props.disabled||n.props.onPlayNoteInput(o,n.props.activeNotes)}),hn(ii(n),"onHover",function(o){n.props.disabled||n.props.onHover(o)}),hn(ii(n),"onStopNoteInput",function(o){n.props.disabled||n.props.onStopNoteInput(o,n.props.activeNotes)}),hn(ii(n),"onMouseDown",function(){n.setState({isMouseDown:!0})}),hn(ii(n),"onMouseUp",function(){n.setState({isMouseDown:!1})}),hn(ii(n),"onTouchStart",function(){n.setState({useTouchEvents:!0})}),hn(ii(n),"renderNoteLabel",function(o){var l=o.midiNumber,u=o.isActive,c=o.isAccidental,h=n.getKeyForMidiNumber(l);return n.props.renderNoteLabel({keyboardShortcut:h,midiNumber:l,isActive:u,isAccidental:c})}),n}return xS(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(n,i){this.props.activeNotes!==n.activeNotes&&this.handleNoteChanges({prevActiveNotes:n.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Lt.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Lt.createElement(lE,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onHover:this.onHover,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,highlightedNotes:this.props.highlightedNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(Lt.Component);hn(uE,"propTypes",{noteRange:X.object.isRequired,activeNotes:X.arrayOf(X.number.isRequired).isRequired,highlightedNotes:X.arrayOf(X.number.isRequired).isRequired,playNote:X.func.isRequired,stopNote:X.func.isRequired,onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,renderNoteLabel:X.func.isRequired,className:X.string,disabled:X.bool,width:X.number,keyWidthToHeight:X.number,keyboardShortcuts:X.arrayOf(X.shape({key:X.string.isRequired,midiNumber:X.number.isRequired}))});hn(uE,"defaultProps",{renderNoteLabel:function(e){var r=e.keyboardShortcut;e.midiNumber;var n=e.isActive,i=e.isAccidental;return r?Lt.createElement("div",{className:tE("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":n,"ReactPiano__NoteLabel--accidental":i,"ReactPiano__NoteLabel--natural":!i})},r):null}});var cE=function(t){SS(e,t);function e(){var r,n;wS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=kS(this,(r=xp(e)).call.apply(r,[this].concat(s))),hn(ii(n),"state",{activeNotes:n.props.activeNotes||[]}),hn(ii(n),"highlightedNotes",{highlightedNotes:n.props.highlightedNotes||[]}),hn(ii(n),"handlePlayNoteInput",function(o){n.setState(function(l){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(o,{prevActiveNotes:l.activeNotes}),l.activeNotes.includes(o)?null:{activeNotes:l.activeNotes.concat(o)}})}),hn(ii(n),"onHover",function(o){}),hn(ii(n),"handleStopNoteInput",function(o){n.setState(function(l){return n.props.onStopNoteInput&&n.props.onStopNoteInput(o,{prevActiveNotes:n.state.activeNotes}),{activeNotes:l.activeNotes.filter(function(u){return o!==u})}})}),n}return xS(e,[{key:"componentDidUpdate",value:function(n){n.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]}),n.highlightedNotes!==this.props.highlightedNotes&&this.setState({highlightedNotes:this.props.highlightedNotes||[]})}},{key:"render",value:function(){var n=this.props;n.activeNotes,n.highlightedNotes,n.onPlayNoteInput,n.onHover,n.onStopNoteInput;var i=VNe(n,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Lt.createElement(uE,NP({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onHover:this.onHover,onStopNoteInput:this.handleStopNoteInput},i))}}]),e}(Lt.Component);hn(cE,"propTypes",{noteRange:X.object.isRequired,activeNotes:X.arrayOf(X.number.isRequired),highlightedNotes:X.arrayOf(X.number.isRequired),playNote:X.func.isRequired,stopNote:X.func.isRequired,onPlayNoteInput:X.func,onHover:X.func,onStopNoteInput:X.func,renderNoteLabel:X.func,className:X.string,disabled:X.bool,width:X.number,keyWidthToHeight:X.number,keyboardShortcuts:X.arrayOf(X.shape({key:X.string.isRequired,midiNumber:X.number.isRequired}))});function tEe(t){for(var e=t.firstNote,r=t.lastNote,n=t.keyboardConfig,i=e,s=0,a=[];s<n.length&&i<=r;){var o=n[s],l=Dy.getAttributes(i),u=l.isAccidental;u?a.push({key:o.flat,midiNumber:i}):(a.push({key:o.natural,midiNumber:i}),s+=1),i+=1}return a}var hx={create:tEe,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]},rEe=Object.defineProperty,nEe=Object.defineProperties,iEe=Object.getOwnPropertyDescriptors,ZO=Object.getOwnPropertySymbols,sEe=Object.prototype.hasOwnProperty,aEe=Object.prototype.propertyIsEnumerable,e5=(t,e,r)=>e in t?rEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,km=(t,e)=>{for(var r in e||(e={}))sEe.call(e,r)&&e5(t,r,e[r]);if(ZO)for(var r of ZO(e))aEe.call(e,r)&&e5(t,r,e[r]);return t},Wv=(t,e)=>nEe(t,iEe(e)),dE=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Gt=(t,e,r)=>(dE(t,e,"read from private field"),r?r.call(t):e.get(t)),Ls=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ji=(t,e,r,n)=>(dE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),oEe=(t,e,r)=>(dE(t,e,"access private method"),r),fx=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});function Hv(t){const e=t.filter(r=>!!r);return e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.connect(s),n}),()=>{e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.disconnect(s),n})}}function lEe(t){let e=t;const r=new Set;function n(a){return r.add(a),a(e),()=>{r.delete(a)}}function i(a){e=a,r.forEach(o=>o(e))}function s(){return e}return{subscribe:n,set:i,get:s}}function uEe(){const t=new Set;function e(n){return t.add(n),()=>{t.delete(n)}}function r(n){t.forEach(i=>i(n))}return{subscribe:e,trigger:r}}function cEe(t){let e=!1;return()=>{e||(e=!0,t.forEach(r=>r==null?void 0:r()))}}function pH(t){return t*t/16129}var Td,mc,uf,cf,Uv,Pd,Bd,dEe=class{constructor(t,e){this.context=t,Ls(this,Td,void 0),Ls(this,mc,void 0),Ls(this,uf,void 0),Ls(this,cf,void 0),Ls(this,Uv,void 0),Ls(this,Pd,void 0),Ls(this,Bd,!1);var r,n,i;Ji(this,Pd,{destination:(r=e==null?void 0:e.destination)!=null?r:t.destination,volume:(n=e==null?void 0:e.volume)!=null?n:100,volumeToGain:(i=e==null?void 0:e.volumeToGain)!=null?i:pH}),this.input=t.createGain(),Ji(this,Td,t.createGain()),Ji(this,cf,Hv([this.input,Gt(this,Td),Gt(this,Pd).destination]));const s=lEe(Gt(this,Pd).volume);this.setVolume=s.set,Ji(this,Uv,s.subscribe(a=>{Gt(this,Td).gain.value=Gt(this,Pd).volumeToGain(a)}))}addInsert(t){var e;if(Gt(this,Bd))throw Error("Can't add insert to disconnected channel");(e=Gt(this,uf))!=null||Ji(this,uf,[]),Gt(this,uf).push(t),Gt(this,cf).call(this),Ji(this,cf,Hv([this.input,...Gt(this,uf),Gt(this,Td),Gt(this,Pd).destination]))}addEffect(t,e,r){var n;if(Gt(this,Bd))throw Error("Can't add effect to disconnected channel");const i=this.context.createGain();i.gain.value=r;const s="input"in e?e.input:e,a=Hv([Gt(this,Td),i,s]);(n=Gt(this,mc))!=null||Ji(this,mc,[]),Gt(this,mc).push({name:t,mix:i,disconnect:a})}sendEffect(t,e){var r;if(Gt(this,Bd))throw Error("Can't send effect to disconnected channel");const n=(r=Gt(this,mc))==null?void 0:r.find(i=>i.name===t);n?n.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;Gt(this,Bd)||(Ji(this,Bd,!0),Gt(this,cf).call(this),Gt(this,Uv).call(this),(t=Gt(this,mc))==null||t.forEach(e=>e.disconnect()),Ji(this,mc,void 0))}};Td=new WeakMap;mc=new WeakMap;uf=new WeakMap;cf=new WeakMap;Uv=new WeakMap;Pd=new WeakMap;Bd=new WeakMap;var xa,hEe=class{constructor(t){this.compare=t,Ls(this,xa,[])}push(t){const e=Gt(this,xa).length;let r=0,n=e-1,i=e;for(;r<=n;){const s=Math.floor((r+n)/2);this.compare(t,Gt(this,xa)[s])<0?(i=s,n=s-1):r=s+1}Gt(this,xa).splice(i,0,t)}pop(){return Gt(this,xa).shift()}peek(){return Gt(this,xa)[0]}removeAll(t){const e=Gt(this,xa).length;return Ji(this,xa,Gt(this,xa).filter(r=>!t(r))),Gt(this,xa).length!==e}clear(){Ji(this,xa,[])}size(){return Gt(this,xa).length}};xa=new WeakMap;function t5(t,e){return t&&e?r=>{t(r),e(r)}:t??e}function fEe(t){var e,r,n;const i={disableScheduler:(e=t.disableScheduler)!=null?e:!1,scheduleLookaheadMs:(r=t.scheduleLookaheadMs)!=null?r:200,scheduleIntervalMs:(n=t.scheduleIntervalMs)!=null?n:50,onStart:t.onStart,onEnded:t.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}var ou,no,Md,pEe=class{constructor(t,e={}){Ls(this,ou,void 0),Ls(this,no,void 0),Ls(this,Md,void 0),Ji(this,ou,fEe(e)),Ji(this,no,new hEe((r,n)=>r.time-n.time)),this.player=t}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return Gt(this,Md)!==void 0}start(t){var e;if(Gt(this,ou).disableScheduler)return this.player.start(t);const r=this.player.context,n=r.currentTime,i=(e=t.time)!=null?e:n,s=Gt(this,ou).scheduleLookaheadMs/1e3;return t.onStart=t5(t.onStart,Gt(this,ou).onStart),t.onEnded=t5(t.onEnded,Gt(this,ou).onEnded),i<n+s?this.player.start(t):(Gt(this,no).push(Wv(km({},t),{time:i})),Gt(this,Md)||Ji(this,Md,setInterval(()=>{const a=r.currentTime+s;for(;Gt(this,no).size()&&Gt(this,no).peek().time<=a;){const o=Gt(this,no).pop();o&&this.player.start(o)}Gt(this,no).size()||(clearInterval(Gt(this,Md)),Ji(this,Md,void 0))},Gt(this,ou).scheduleIntervalMs)),a=>{!a||a<i?Gt(this,no).removeAll(o=>o===t)||this.player.stop(Wv(km({},t),{time:a})):this.player.stop(Wv(km({},t),{time:a}))})}stop(t){var e;if(Gt(this,ou).disableScheduler)return this.player.stop(t);if(this.player.stop(t),!t){Gt(this,no).clear();return}const r=(e=t==null?void 0:t.time)!=null?e:0,n=t==null?void 0:t.stopId;n?Gt(this,no).removeAll(i=>i.time>=r&&i.stopId?i.stopId===n:i.note===n):Gt(this,no).removeAll(i=>i.time>=r)}disconnect(){this.player.disconnect()}};ou=new WeakMap;no=new WeakMap;Md=new WeakMap;var Xg,df,qg,gEe=class{constructor(t,e){this.context=t,this.options=e,Ls(this,Xg,void 0),Ls(this,df,!1),Ls(this,qg,void 0);var r,n;Ji(this,Xg,{velocityToGain:(r=e.velocityToGain)!=null?r:pH,destination:(n=e.destination)!=null?n:t.destination}),this.buffers={},Ji(this,qg,uEe())}start(t){var e,r,n,i,s,a,o,l,u,c,h,f,g,m;if(Gt(this,df))throw new Error("Can't start a sample on disconnected player");const y=this.context,b=t.name&&this.buffers[t.name]||this.buffers[t.note];if(!b)return console.warn(`Sample not found: '${t.note}'`),()=>{};const x=y.createBufferSource();x.buffer=b;const v=(r=(e=t.detune)!=null?e:this.options.detune)!=null?r:0;x.detune?x.detune.value=v:x.playbackRate&&(x.playbackRate.value=Math.pow(2,v/1200));const w=(n=t.lpfCutoffHz)!=null?n:this.options.lpfCutoffHz,P=w?y.createBiquadFilter():void 0;w&&P&&(P.type="lowpass",P.frequency.value=w);const T=y.createGain(),_=(s=(i=t.velocity)!=null?i:this.options.velocity)!=null?s:100;T.gain.value=Gt(this,Xg).velocityToGain(_),((a=t.loop)!=null?a:this.options.loop)&&(x.loop=!0,x.loopStart=(o=t.loopStart)!=null?o:0,x.loopEnd=(l=t.loopEnd)!=null?l:b.duration);const E=(u=t.decayTime)!=null?u:this.options.decayTime,[D,L]=mEe(y,E);function F(W){if(W??(W=y.currentTime),W<=I)x.stop(W);else{const A=L(W);x.stop(A)}}const z=t.gainOffset?y.createGain():void 0;z&&t.gainOffset&&(z.gain.value=t.gainOffset);const V=(c=t.stopId)!=null?c:t.note,O=cEe([Hv([x,P,T,D,z,Gt(this,Xg).destination]),(h=t.stop)==null?void 0:h.call(t,F),Gt(this,qg).subscribe(W=>{(!W||W.stopId===void 0||W.stopId===V)&&F(W==null?void 0:W.time)})]);x.onended=()=>{var W;O(),(W=t.onEnded)==null||W.call(t,t)},(f=t.onStart)==null||f.call(t,t);const I=Math.max((g=t.time)!=null?g:0,y.currentTime);x.start(t.time);let H=(m=t.duration)!=null?m:b.duration;return typeof t.duration=="number"&&F(I+H),F}stop(t){Gt(this,qg).trigger(t)}disconnect(){Gt(this,df)||(Ji(this,df,!0),this.stop(),Object.keys(this.buffers).forEach(t=>{delete this.buffers[t]}))}get connected(){return!Gt(this,df)}};Xg=new WeakMap;df=new WeakMap;qg=new WeakMap;function mEe(t,e=.2){let r=0;const n=t.createGain();n.gain.value=1;function i(s){if(r)return r;n.gain.cancelScheduledValues(s);const a=s||t.currentTime;return r=a+e,n.gain.setValueAtTime(1,a),n.gain.linearRampToValueAtTime(0,r),r}return[n,i]}var yEe=class{constructor(t,e){this.context=t;const r=new dEe(t,e);this.player=new pEe(new gEe(t,Wv(km({},e),{destination:r.input})),e),this.output=r}get buffers(){return this.player.buffers}start(t){return this.player.start(t)}stop(t){this.player.stop(typeof t=="object"?t:t!==void 0?{stopId:t}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function bEe(t,e,r){return fx(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const n=yield r.fetch(e);if(n.status!==200){console.warn("Error loading buffer. Invalid status: ",n.status,e);return}try{const i=yield n.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function vEe(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let r=0;r<t.length;r++){const n=t[r],i=e.canPlayType(`audio/${n}`);if(i==="probably"||i==="maybe")return n;if(n==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return n}}return null}var wEe={fetch(t){return fetch(t)}};function xEe(t){const r=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!r)return;const n=r[1].toUpperCase();if(!n)return;const i=r[2],s=i[0]==="b"?-i.length:i.length,a=r[3]?+r[3]:4,o=(n.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][o]+s+12*(a+1)}function SEe(t){return t===void 0?void 0:typeof t=="number"?t:xEe(t)}var kEe="https://danigb.github.io/samples/splendid-grand-piano",DP,gH,mH=class{constructor(t,e){this.context=t,Ls(this,DP),this.options=Object.assign({baseUrl:kEe,storage:wEe,detune:0,volume:100,velocity:100,decayTime:.5},e),this.player=new yEe(t,this.options);const r=_Ee(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=r(t,this.player.buffers).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return fx(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}start(t){var e,r;const n=typeof t=="object"?km({},t):{note:t},i=oEe(this,DP,gH).call(this,n);return i?(n.note=i[0],n.stopId=(e=n.stopId)!=null?e:i[1],n.detune=i[2]+((r=n.detune)!=null?r:this.options.detune),this.player.start(n)):()=>{}}stop(t){return this.player.stop(t)}};DP=new WeakSet;gH=function(t){var e;const r=SEe(t.note);if(!r)return;const n=(e=t.velocity)!=null?e:this.options.velocity,i=px.findIndex(a=>n>=a.vel_range[0]&&n<=a.vel_range[1]),s=px[i];if(s)return CEe(s.name,r,this.player.buffers)};function CEe(t,e,r){let n=0;for(;r[t+(e+n)]===void 0&&n<128;)n>0?n=-n:n=-n+1;return n===127?[t+e,e,0]:[t+(e+n),e,-n*100]}function _Ee(t,e,r){var n;const i=(n=vEe(["ogg","m4a"]))!=null?n:"ogg";let s=r?px.filter(a=>a.vel_range[0]<=r.velocityRange[1]&&a.vel_range[1]>=r.velocityRange[0]):px;return(a,o)=>fx(this,null,function*(){for(const l of s){const u=r?l.samples.filter(c=>r.notes.includes(c[0])):l.samples;yield Promise.all(u.map(c=>fx(this,[c],function*([h,f]){const g=`${t}/${f}.${i}`,m=yield bEe(a,g,e);m&&(o[l.name+h]=m)})))}})}var px=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];function yH(t){var e="",r="",n="";console.log("roman numeral",t.romanNumeral);for(let i=0;i<t.romanNumeral.length;i++){const s=t.romanNumeral[i];isNaN(parseInt(s))?n+=s:e===""?e=s:r=s}return k.jsxs("div",{style:{fontSize:200,color:"grey"},children:[n,k.jsxs("span",{style:{position:"absolute"},children:[k.jsx("sup",{style:{fontSize:80,display:"block",position:"relative"},children:e}),k.jsx("sub",{style:{fontSize:80,display:"block",position:"relative"},children:r})]})]})}var bH={exports:{}},Kg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Kg.exports;var r5;function TEe(){return r5||(r5=1,function(t,e){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",h=1,f=2,g=4,m=1,y=2,b=1,x=2,v=4,w=8,P=16,T=32,_=64,M=128,E=256,D=512,L=30,F="...",z=800,V=16,O=1,I=2,H=3,W=1/0,A=9007199254740991,U=17976931348623157e292,q=NaN,ae=4294967295,ne=ae-1,ge=ae>>>1,fe=[["ary",M],["bind",b],["bindKey",x],["curry",w],["curryRight",P],["flip",D],["partial",T],["partialRight",_],["rearg",E]],J="[object Arguments]",ce="[object Array]",Se="[object AsyncFunction]",K="[object Boolean]",Z="[object Date]",ue="[object DOMException]",de="[object Error]",re="[object Function]",Q="[object GeneratorFunction]",ee="[object Map]",oe="[object Number]",Me="[object Null]",ke="[object Object]",j="[object Promise]",ie="[object Proxy]",te="[object RegExp]",me="[object Set]",Be="[object String]",Te="[object Symbol]",Ge="[object Undefined]",ot="[object WeakMap]",Dt="[object WeakSet]",At="[object ArrayBuffer]",De="[object DataView]",Ce="[object Float32Array]",Ne="[object Float64Array]",at="[object Int8Array]",ft="[object Int16Array]",Ze="[object Int32Array]",Et="[object Uint8Array]",qe="[object Uint8ClampedArray]",Ye="[object Uint16Array]",St="[object Uint32Array]",wt=/\b__p \+= '';/g,rr=/\b(__p \+=) '' \+/g,Rr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_r=/&(?:amp|lt|gt|quot|#39);/g,Pn=/[&<>"']/g,ye=RegExp(_r.source),xe=RegExp(Pn.source),$e=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Ct.source),Vr=/^\s+/,Wt=/\s/,Sr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jr=/\{\n\/\* \[wrapped with (.+)\] \*/,Ai=/,? & /,Sn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,gi=/\\(\\)?/g,wr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xr=/\w*$/,ss=/^[-+]0x[0-9a-f]+$/i,Zn=/^0b[01]+$/i,Mi=/^\[object .+?Constructor\]$/,Yu=/^0o[0-7]+$/i,Lo=/^(?:0|[1-9]\d*)$/,ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pr=/($^)/,Yr=/['\n\r\u2028\u2029\\]/g,mi="\\ud800-\\udfff",Xu="\\u0300-\\u036f",id="\\ufe20-\\ufe2f",zp="\\u20d0-\\u20ff",m0=Xu+id+zp,y0="\\u2700-\\u27bf",b0="a-z\\xdf-\\xf6\\xf8-\\xff",Wp="\\xac\\xb1\\xd7\\xf7",wH="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xH="\\u2000-\\u206f",SH=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hE="A-Z\\xc0-\\xd6\\xd8-\\xde",fE="\\ufe0e\\ufe0f",pE=Wp+wH+xH+SH,CS="[']",kH="["+mi+"]",gE="["+pE+"]",v0="["+m0+"]",mE="\\d+",CH="["+y0+"]",yE="["+b0+"]",bE="[^"+mi+pE+mE+y0+b0+hE+"]",_S="\\ud83c[\\udffb-\\udfff]",_H="(?:"+v0+"|"+_S+")",vE="[^"+mi+"]",TS="(?:\\ud83c[\\udde6-\\uddff]){2}",PS="[\\ud800-\\udbff][\\udc00-\\udfff]",Mh="["+hE+"]",wE="\\u200d",xE="(?:"+yE+"|"+bE+")",TH="(?:"+Mh+"|"+bE+")",SE="(?:"+CS+"(?:d|ll|m|re|s|t|ve))?",kE="(?:"+CS+"(?:D|LL|M|RE|S|T|VE))?",CE=_H+"?",_E="["+fE+"]?",PH="(?:"+wE+"(?:"+[vE,TS,PS].join("|")+")"+_E+CE+")*",BH="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MH="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",TE=_E+CE+PH,NH="(?:"+[CH,TS,PS].join("|")+")"+TE,EH="(?:"+[vE+v0+"?",v0,TS,PS,kH].join("|")+")",RH=RegExp(CS,"g"),DH=RegExp(v0,"g"),BS=RegExp(_S+"(?="+_S+")|"+EH+TE,"g"),IH=RegExp([Mh+"?"+yE+"+"+SE+"(?="+[gE,Mh,"$"].join("|")+")",TH+"+"+kE+"(?="+[gE,Mh+xE,"$"].join("|")+")",Mh+"?"+xE+"+"+SE,Mh+"+"+kE,MH,BH,mE,NH].join("|"),"g"),LH=RegExp("["+wE+mi+m0+fE+"]"),FH=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,AH=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],OH=-1,Bn={};Bn[Ce]=Bn[Ne]=Bn[at]=Bn[ft]=Bn[Ze]=Bn[Et]=Bn[qe]=Bn[Ye]=Bn[St]=!0,Bn[J]=Bn[ce]=Bn[At]=Bn[K]=Bn[De]=Bn[Z]=Bn[de]=Bn[re]=Bn[ee]=Bn[oe]=Bn[ke]=Bn[te]=Bn[me]=Bn[Be]=Bn[ot]=!1;var Cn={};Cn[J]=Cn[ce]=Cn[At]=Cn[De]=Cn[K]=Cn[Z]=Cn[Ce]=Cn[Ne]=Cn[at]=Cn[ft]=Cn[Ze]=Cn[ee]=Cn[oe]=Cn[ke]=Cn[te]=Cn[me]=Cn[Be]=Cn[Te]=Cn[Et]=Cn[qe]=Cn[Ye]=Cn[St]=!0,Cn[de]=Cn[re]=Cn[ot]=!1;var $H={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},VH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zH={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},WH={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},HH=parseFloat,UH=parseInt,PE=typeof ks=="object"&&ks&&ks.Object===Object&&ks,GH=typeof self=="object"&&self&&self.Object===Object&&self,as=PE||GH||Function("return this")(),MS=e&&!e.nodeType&&e,sd=MS&&!0&&t&&!t.nodeType&&t,BE=sd&&sd.exports===MS,NS=BE&&PE.process,ja=function(){try{var ve=sd&&sd.require&&sd.require("util").types;return ve||NS&&NS.binding&&NS.binding("util")}catch{}}(),ME=ja&&ja.isArrayBuffer,NE=ja&&ja.isDate,EE=ja&&ja.isMap,RE=ja&&ja.isRegExp,DE=ja&&ja.isSet,IE=ja&&ja.isTypedArray;function ga(ve,We,Ee){switch(Ee.length){case 0:return ve.call(We);case 1:return ve.call(We,Ee[0]);case 2:return ve.call(We,Ee[0],Ee[1]);case 3:return ve.call(We,Ee[0],Ee[1],Ee[2])}return ve.apply(We,Ee)}function jH(ve,We,Ee,Pt){for(var dr=-1,en=ve==null?0:ve.length;++dr<en;){var Oi=ve[dr];We(Pt,Oi,Ee(Oi),ve)}return Pt}function Ya(ve,We){for(var Ee=-1,Pt=ve==null?0:ve.length;++Ee<Pt&&We(ve[Ee],Ee,ve)!==!1;);return ve}function YH(ve,We){for(var Ee=ve==null?0:ve.length;Ee--&&We(ve[Ee],Ee,ve)!==!1;);return ve}function LE(ve,We){for(var Ee=-1,Pt=ve==null?0:ve.length;++Ee<Pt;)if(!We(ve[Ee],Ee,ve))return!1;return!0}function qu(ve,We){for(var Ee=-1,Pt=ve==null?0:ve.length,dr=0,en=[];++Ee<Pt;){var Oi=ve[Ee];We(Oi,Ee,ve)&&(en[dr++]=Oi)}return en}function w0(ve,We){var Ee=ve==null?0:ve.length;return!!Ee&&Nh(ve,We,0)>-1}function ES(ve,We,Ee){for(var Pt=-1,dr=ve==null?0:ve.length;++Pt<dr;)if(Ee(We,ve[Pt]))return!0;return!1}function Fn(ve,We){for(var Ee=-1,Pt=ve==null?0:ve.length,dr=Array(Pt);++Ee<Pt;)dr[Ee]=We(ve[Ee],Ee,ve);return dr}function Ku(ve,We){for(var Ee=-1,Pt=We.length,dr=ve.length;++Ee<Pt;)ve[dr+Ee]=We[Ee];return ve}function RS(ve,We,Ee,Pt){var dr=-1,en=ve==null?0:ve.length;for(Pt&&en&&(Ee=ve[++dr]);++dr<en;)Ee=We(Ee,ve[dr],dr,ve);return Ee}function XH(ve,We,Ee,Pt){var dr=ve==null?0:ve.length;for(Pt&&dr&&(Ee=ve[--dr]);dr--;)Ee=We(Ee,ve[dr],dr,ve);return Ee}function DS(ve,We){for(var Ee=-1,Pt=ve==null?0:ve.length;++Ee<Pt;)if(We(ve[Ee],Ee,ve))return!0;return!1}var qH=IS("length");function KH(ve){return ve.split("")}function QH(ve){return ve.match(Sn)||[]}function FE(ve,We,Ee){var Pt;return Ee(ve,function(dr,en,Oi){if(We(dr,en,Oi))return Pt=en,!1}),Pt}function x0(ve,We,Ee,Pt){for(var dr=ve.length,en=Ee+(Pt?1:-1);Pt?en--:++en<dr;)if(We(ve[en],en,ve))return en;return-1}function Nh(ve,We,Ee){return We===We?uU(ve,We,Ee):x0(ve,AE,Ee)}function JH(ve,We,Ee,Pt){for(var dr=Ee-1,en=ve.length;++dr<en;)if(Pt(ve[dr],We))return dr;return-1}function AE(ve){return ve!==ve}function OE(ve,We){var Ee=ve==null?0:ve.length;return Ee?FS(ve,We)/Ee:q}function IS(ve){return function(We){return We==null?r:We[ve]}}function LS(ve){return function(We){return ve==null?r:ve[We]}}function $E(ve,We,Ee,Pt,dr){return dr(ve,function(en,Oi,mn){Ee=Pt?(Pt=!1,en):We(Ee,en,Oi,mn)}),Ee}function ZH(ve,We){var Ee=ve.length;for(ve.sort(We);Ee--;)ve[Ee]=ve[Ee].value;return ve}function FS(ve,We){for(var Ee,Pt=-1,dr=ve.length;++Pt<dr;){var en=We(ve[Pt]);en!==r&&(Ee=Ee===r?en:Ee+en)}return Ee}function AS(ve,We){for(var Ee=-1,Pt=Array(ve);++Ee<ve;)Pt[Ee]=We(Ee);return Pt}function eU(ve,We){return Fn(We,function(Ee){return[Ee,ve[Ee]]})}function VE(ve){return ve&&ve.slice(0,UE(ve)+1).replace(Vr,"")}function ma(ve){return function(We){return ve(We)}}function OS(ve,We){return Fn(We,function(Ee){return ve[Ee]})}function Hp(ve,We){return ve.has(We)}function zE(ve,We){for(var Ee=-1,Pt=ve.length;++Ee<Pt&&Nh(We,ve[Ee],0)>-1;);return Ee}function WE(ve,We){for(var Ee=ve.length;Ee--&&Nh(We,ve[Ee],0)>-1;);return Ee}function tU(ve,We){for(var Ee=ve.length,Pt=0;Ee--;)ve[Ee]===We&&++Pt;return Pt}var rU=LS($H),nU=LS(VH);function iU(ve){return"\\"+WH[ve]}function sU(ve,We){return ve==null?r:ve[We]}function Eh(ve){return LH.test(ve)}function aU(ve){return FH.test(ve)}function oU(ve){for(var We,Ee=[];!(We=ve.next()).done;)Ee.push(We.value);return Ee}function $S(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Pt,dr){Ee[++We]=[dr,Pt]}),Ee}function HE(ve,We){return function(Ee){return ve(We(Ee))}}function Qu(ve,We){for(var Ee=-1,Pt=ve.length,dr=0,en=[];++Ee<Pt;){var Oi=ve[Ee];(Oi===We||Oi===c)&&(ve[Ee]=c,en[dr++]=Ee)}return en}function S0(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Pt){Ee[++We]=Pt}),Ee}function lU(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Pt){Ee[++We]=[Pt,Pt]}),Ee}function uU(ve,We,Ee){for(var Pt=Ee-1,dr=ve.length;++Pt<dr;)if(ve[Pt]===We)return Pt;return-1}function cU(ve,We,Ee){for(var Pt=Ee+1;Pt--;)if(ve[Pt]===We)return Pt;return Pt}function Rh(ve){return Eh(ve)?hU(ve):qH(ve)}function Fo(ve){return Eh(ve)?fU(ve):KH(ve)}function UE(ve){for(var We=ve.length;We--&&Wt.test(ve.charAt(We)););return We}var dU=LS(zH);function hU(ve){for(var We=BS.lastIndex=0;BS.test(ve);)++We;return We}function fU(ve){return ve.match(BS)||[]}function pU(ve){return ve.match(IH)||[]}var gU=function ve(We){We=We==null?as:Dh.defaults(as.Object(),We,Dh.pick(as,AH));var Ee=We.Array,Pt=We.Date,dr=We.Error,en=We.Function,Oi=We.Math,mn=We.Object,VS=We.RegExp,mU=We.String,Xa=We.TypeError,k0=Ee.prototype,yU=en.prototype,Ih=mn.prototype,C0=We["__core-js_shared__"],_0=yU.toString,on=Ih.hasOwnProperty,bU=0,GE=function(){var d=/[^.]+$/.exec(C0&&C0.keys&&C0.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),T0=Ih.toString,vU=_0.call(mn),wU=as._,xU=VS("^"+_0.call(on).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P0=BE?We.Buffer:r,Ju=We.Symbol,B0=We.Uint8Array,jE=P0?P0.allocUnsafe:r,M0=HE(mn.getPrototypeOf,mn),YE=mn.create,XE=Ih.propertyIsEnumerable,N0=k0.splice,qE=Ju?Ju.isConcatSpreadable:r,Up=Ju?Ju.iterator:r,ad=Ju?Ju.toStringTag:r,E0=function(){try{var d=dd(mn,"defineProperty");return d({},"",{}),d}catch{}}(),SU=We.clearTimeout!==as.clearTimeout&&We.clearTimeout,kU=Pt&&Pt.now!==as.Date.now&&Pt.now,CU=We.setTimeout!==as.setTimeout&&We.setTimeout,R0=Oi.ceil,D0=Oi.floor,zS=mn.getOwnPropertySymbols,_U=P0?P0.isBuffer:r,KE=We.isFinite,TU=k0.join,PU=HE(mn.keys,mn),$i=Oi.max,ys=Oi.min,BU=Pt.now,MU=We.parseInt,QE=Oi.random,NU=k0.reverse,WS=dd(We,"DataView"),Gp=dd(We,"Map"),HS=dd(We,"Promise"),Lh=dd(We,"Set"),jp=dd(We,"WeakMap"),Yp=dd(mn,"create"),I0=jp&&new jp,Fh={},EU=hd(WS),RU=hd(Gp),DU=hd(HS),IU=hd(Lh),LU=hd(jp),L0=Ju?Ju.prototype:r,Xp=L0?L0.valueOf:r,JE=L0?L0.toString:r;function G(d){if(ei(d)&&!mr(d)&&!(d instanceof zr)){if(d instanceof qa)return d;if(on.call(d,"__wrapped__"))return ZR(d)}return new qa(d)}var Ah=function(){function d(){}return function(p){if(!Un(p))return{};if(YE)return YE(p);d.prototype=p;var S=new d;return d.prototype=r,S}}();function F0(){}function qa(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=r}G.templateSettings={escape:$e,evaluate:rt,interpolate:mt,variable:"",imports:{_:G}},G.prototype=F0.prototype,G.prototype.constructor=G,qa.prototype=Ah(F0.prototype),qa.prototype.constructor=qa;function zr(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function FU(){var d=new zr(this.__wrapped__);return d.__actions__=Gs(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Gs(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Gs(this.__views__),d}function AU(){if(this.__filtered__){var d=new zr(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function OU(){var d=this.__wrapped__.value(),p=this.__dir__,S=mr(d),N=p<0,$=S?d.length:0,Y=K7(0,$,this.__views__),se=Y.start,pe=Y.end,we=pe-se,Xe=N?pe:se-1,Ke=this.__iteratees__,et=Ke.length,xt=0,Ft=ys(we,this.__takeCount__);if(!S||!N&&$==we&&Ft==we)return SR(d,this.__actions__);var nr=[];e:for(;we--&&xt<Ft;){Xe+=p;for(var Tr=-1,ir=d[Xe];++Tr<et;){var Lr=Ke[Tr],Ur=Lr.iteratee,va=Lr.type,Ms=Ur(ir);if(va==I)ir=Ms;else if(!Ms){if(va==O)continue e;break e}}nr[xt++]=ir}return nr}zr.prototype=Ah(F0.prototype),zr.prototype.constructor=zr;function od(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function $U(){this.__data__=Yp?Yp(null):{},this.size=0}function VU(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function zU(d){var p=this.__data__;if(Yp){var S=p[d];return S===l?r:S}return on.call(p,d)?p[d]:r}function WU(d){var p=this.__data__;return Yp?p[d]!==r:on.call(p,d)}function HU(d,p){var S=this.__data__;return this.size+=this.has(d)?0:1,S[d]=Yp&&p===r?l:p,this}od.prototype.clear=$U,od.prototype.delete=VU,od.prototype.get=zU,od.prototype.has=WU,od.prototype.set=HU;function Kl(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function UU(){this.__data__=[],this.size=0}function GU(d){var p=this.__data__,S=A0(p,d);if(S<0)return!1;var N=p.length-1;return S==N?p.pop():N0.call(p,S,1),--this.size,!0}function jU(d){var p=this.__data__,S=A0(p,d);return S<0?r:p[S][1]}function YU(d){return A0(this.__data__,d)>-1}function XU(d,p){var S=this.__data__,N=A0(S,d);return N<0?(++this.size,S.push([d,p])):S[N][1]=p,this}Kl.prototype.clear=UU,Kl.prototype.delete=GU,Kl.prototype.get=jU,Kl.prototype.has=YU,Kl.prototype.set=XU;function Ql(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function qU(){this.size=0,this.__data__={hash:new od,map:new(Gp||Kl),string:new od}}function KU(d){var p=q0(this,d).delete(d);return this.size-=p?1:0,p}function QU(d){return q0(this,d).get(d)}function JU(d){return q0(this,d).has(d)}function ZU(d,p){var S=q0(this,d),N=S.size;return S.set(d,p),this.size+=S.size==N?0:1,this}Ql.prototype.clear=qU,Ql.prototype.delete=KU,Ql.prototype.get=QU,Ql.prototype.has=JU,Ql.prototype.set=ZU;function ld(d){var p=-1,S=d==null?0:d.length;for(this.__data__=new Ql;++p<S;)this.add(d[p])}function e7(d){return this.__data__.set(d,l),this}function t7(d){return this.__data__.has(d)}ld.prototype.add=ld.prototype.push=e7,ld.prototype.has=t7;function Ao(d){var p=this.__data__=new Kl(d);this.size=p.size}function r7(){this.__data__=new Kl,this.size=0}function n7(d){var p=this.__data__,S=p.delete(d);return this.size=p.size,S}function i7(d){return this.__data__.get(d)}function s7(d){return this.__data__.has(d)}function a7(d,p){var S=this.__data__;if(S instanceof Kl){var N=S.__data__;if(!Gp||N.length<i-1)return N.push([d,p]),this.size=++S.size,this;S=this.__data__=new Ql(N)}return S.set(d,p),this.size=S.size,this}Ao.prototype.clear=r7,Ao.prototype.delete=n7,Ao.prototype.get=i7,Ao.prototype.has=s7,Ao.prototype.set=a7;function ZE(d,p){var S=mr(d),N=!S&&fd(d),$=!S&&!N&&nc(d),Y=!S&&!N&&!$&&zh(d),se=S||N||$||Y,pe=se?AS(d.length,mU):[],we=pe.length;for(var Xe in d)(p||on.call(d,Xe))&&!(se&&(Xe=="length"||$&&(Xe=="offset"||Xe=="parent")||Y&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||tu(Xe,we)))&&pe.push(Xe);return pe}function eR(d){var p=d.length;return p?d[ek(0,p-1)]:r}function o7(d,p){return K0(Gs(d),ud(p,0,d.length))}function l7(d){return K0(Gs(d))}function US(d,p,S){(S!==r&&!Oo(d[p],S)||S===r&&!(p in d))&&Jl(d,p,S)}function qp(d,p,S){var N=d[p];(!(on.call(d,p)&&Oo(N,S))||S===r&&!(p in d))&&Jl(d,p,S)}function A0(d,p){for(var S=d.length;S--;)if(Oo(d[S][0],p))return S;return-1}function u7(d,p,S,N){return Zu(d,function($,Y,se){p(N,$,S($),se)}),N}function tR(d,p){return d&&wl(p,qi(p),d)}function c7(d,p){return d&&wl(p,Ys(p),d)}function Jl(d,p,S){p=="__proto__"&&E0?E0(d,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):d[p]=S}function GS(d,p){for(var S=-1,N=p.length,$=Ee(N),Y=d==null;++S<N;)$[S]=Y?r:_k(d,p[S]);return $}function ud(d,p,S){return d===d&&(S!==r&&(d=d<=S?d:S),p!==r&&(d=d>=p?d:p)),d}function Ka(d,p,S,N,$,Y){var se,pe=p&h,we=p&f,Xe=p&g;if(S&&(se=$?S(d,N,$,Y):S(d)),se!==r)return se;if(!Un(d))return d;var Ke=mr(d);if(Ke){if(se=J7(d),!pe)return Gs(d,se)}else{var et=bs(d),xt=et==re||et==Q;if(nc(d))return _R(d,pe);if(et==ke||et==J||xt&&!$){if(se=we||xt?{}:UR(d),!pe)return we?z7(d,c7(se,d)):V7(d,tR(se,d))}else{if(!Cn[et])return $?d:{};se=Z7(d,et,pe)}}Y||(Y=new Ao);var Ft=Y.get(d);if(Ft)return Ft;Y.set(d,se),v2(d)?d.forEach(function(ir){se.add(Ka(ir,p,S,ir,d,Y))}):y2(d)&&d.forEach(function(ir,Lr){se.set(Lr,Ka(ir,p,S,Lr,d,Y))});var nr=Xe?we?dk:ck:we?Ys:qi,Tr=Ke?r:nr(d);return Ya(Tr||d,function(ir,Lr){Tr&&(Lr=ir,ir=d[Lr]),qp(se,Lr,Ka(ir,p,S,Lr,d,Y))}),se}function d7(d){var p=qi(d);return function(S){return rR(S,d,p)}}function rR(d,p,S){var N=S.length;if(d==null)return!N;for(d=mn(d);N--;){var $=S[N],Y=p[$],se=d[$];if(se===r&&!($ in d)||!Y(se))return!1}return!0}function nR(d,p,S){if(typeof d!="function")throw new Xa(a);return rg(function(){d.apply(r,S)},p)}function Kp(d,p,S,N){var $=-1,Y=w0,se=!0,pe=d.length,we=[],Xe=p.length;if(!pe)return we;S&&(p=Fn(p,ma(S))),N?(Y=ES,se=!1):p.length>=i&&(Y=Hp,se=!1,p=new ld(p));e:for(;++$<pe;){var Ke=d[$],et=S==null?Ke:S(Ke);if(Ke=N||Ke!==0?Ke:0,se&&et===et){for(var xt=Xe;xt--;)if(p[xt]===et)continue e;we.push(Ke)}else Y(p,et,N)||we.push(Ke)}return we}var Zu=NR(vl),iR=NR(YS,!0);function h7(d,p){var S=!0;return Zu(d,function(N,$,Y){return S=!!p(N,$,Y),S}),S}function O0(d,p,S){for(var N=-1,$=d.length;++N<$;){var Y=d[N],se=p(Y);if(se!=null&&(pe===r?se===se&&!ba(se):S(se,pe)))var pe=se,we=Y}return we}function f7(d,p,S,N){var $=d.length;for(S=kr(S),S<0&&(S=-S>$?0:$+S),N=N===r||N>$?$:kr(N),N<0&&(N+=$),N=S>N?0:x2(N);S<N;)d[S++]=p;return d}function sR(d,p){var S=[];return Zu(d,function(N,$,Y){p(N,$,Y)&&S.push(N)}),S}function os(d,p,S,N,$){var Y=-1,se=d.length;for(S||(S=tG),$||($=[]);++Y<se;){var pe=d[Y];p>0&&S(pe)?p>1?os(pe,p-1,S,N,$):Ku($,pe):N||($[$.length]=pe)}return $}var jS=ER(),aR=ER(!0);function vl(d,p){return d&&jS(d,p,qi)}function YS(d,p){return d&&aR(d,p,qi)}function $0(d,p){return qu(p,function(S){return ru(d[S])})}function cd(d,p){p=tc(p,d);for(var S=0,N=p.length;d!=null&&S<N;)d=d[xl(p[S++])];return S&&S==N?d:r}function oR(d,p,S){var N=p(d);return mr(d)?N:Ku(N,S(d))}function Ps(d){return d==null?d===r?Ge:Me:ad&&ad in mn(d)?q7(d):lG(d)}function XS(d,p){return d>p}function p7(d,p){return d!=null&&on.call(d,p)}function g7(d,p){return d!=null&&p in mn(d)}function m7(d,p,S){return d>=ys(p,S)&&d<$i(p,S)}function qS(d,p,S){for(var N=S?ES:w0,$=d[0].length,Y=d.length,se=Y,pe=Ee(Y),we=1/0,Xe=[];se--;){var Ke=d[se];se&&p&&(Ke=Fn(Ke,ma(p))),we=ys(Ke.length,we),pe[se]=!S&&(p||$>=120&&Ke.length>=120)?new ld(se&&Ke):r}Ke=d[0];var et=-1,xt=pe[0];e:for(;++et<$&&Xe.length<we;){var Ft=Ke[et],nr=p?p(Ft):Ft;if(Ft=S||Ft!==0?Ft:0,!(xt?Hp(xt,nr):N(Xe,nr,S))){for(se=Y;--se;){var Tr=pe[se];if(!(Tr?Hp(Tr,nr):N(d[se],nr,S)))continue e}xt&&xt.push(nr),Xe.push(Ft)}}return Xe}function y7(d,p,S,N){return vl(d,function($,Y,se){p(N,S($),Y,se)}),N}function Qp(d,p,S){p=tc(p,d),d=XR(d,p);var N=d==null?d:d[xl(Ja(p))];return N==null?r:ga(N,d,S)}function lR(d){return ei(d)&&Ps(d)==J}function b7(d){return ei(d)&&Ps(d)==At}function v7(d){return ei(d)&&Ps(d)==Z}function Jp(d,p,S,N,$){return d===p?!0:d==null||p==null||!ei(d)&&!ei(p)?d!==d&&p!==p:w7(d,p,S,N,Jp,$)}function w7(d,p,S,N,$,Y){var se=mr(d),pe=mr(p),we=se?ce:bs(d),Xe=pe?ce:bs(p);we=we==J?ke:we,Xe=Xe==J?ke:Xe;var Ke=we==ke,et=Xe==ke,xt=we==Xe;if(xt&&nc(d)){if(!nc(p))return!1;se=!0,Ke=!1}if(xt&&!Ke)return Y||(Y=new Ao),se||zh(d)?zR(d,p,S,N,$,Y):Y7(d,p,we,S,N,$,Y);if(!(S&m)){var Ft=Ke&&on.call(d,"__wrapped__"),nr=et&&on.call(p,"__wrapped__");if(Ft||nr){var Tr=Ft?d.value():d,ir=nr?p.value():p;return Y||(Y=new Ao),$(Tr,ir,S,N,Y)}}return xt?(Y||(Y=new Ao),X7(d,p,S,N,$,Y)):!1}function x7(d){return ei(d)&&bs(d)==ee}function KS(d,p,S,N){var $=S.length,Y=$,se=!N;if(d==null)return!Y;for(d=mn(d);$--;){var pe=S[$];if(se&&pe[2]?pe[1]!==d[pe[0]]:!(pe[0]in d))return!1}for(;++$<Y;){pe=S[$];var we=pe[0],Xe=d[we],Ke=pe[1];if(se&&pe[2]){if(Xe===r&&!(we in d))return!1}else{var et=new Ao;if(N)var xt=N(Xe,Ke,we,d,p,et);if(!(xt===r?Jp(Ke,Xe,m|y,N,et):xt))return!1}}return!0}function uR(d){if(!Un(d)||nG(d))return!1;var p=ru(d)?xU:Mi;return p.test(hd(d))}function S7(d){return ei(d)&&Ps(d)==te}function k7(d){return ei(d)&&bs(d)==me}function C7(d){return ei(d)&&rb(d.length)&&!!Bn[Ps(d)]}function cR(d){return typeof d=="function"?d:d==null?Xs:typeof d=="object"?mr(d)?fR(d[0],d[1]):hR(d):R2(d)}function QS(d){if(!tg(d))return PU(d);var p=[];for(var S in mn(d))on.call(d,S)&&S!="constructor"&&p.push(S);return p}function _7(d){if(!Un(d))return oG(d);var p=tg(d),S=[];for(var N in d)N=="constructor"&&(p||!on.call(d,N))||S.push(N);return S}function JS(d,p){return d<p}function dR(d,p){var S=-1,N=js(d)?Ee(d.length):[];return Zu(d,function($,Y,se){N[++S]=p($,Y,se)}),N}function hR(d){var p=fk(d);return p.length==1&&p[0][2]?jR(p[0][0],p[0][1]):function(S){return S===d||KS(S,d,p)}}function fR(d,p){return gk(d)&&GR(p)?jR(xl(d),p):function(S){var N=_k(S,d);return N===r&&N===p?Tk(S,d):Jp(p,N,m|y)}}function V0(d,p,S,N,$){d!==p&&jS(p,function(Y,se){if($||($=new Ao),Un(Y))T7(d,p,se,S,V0,N,$);else{var pe=N?N(yk(d,se),Y,se+"",d,p,$):r;pe===r&&(pe=Y),US(d,se,pe)}},Ys)}function T7(d,p,S,N,$,Y,se){var pe=yk(d,S),we=yk(p,S),Xe=se.get(we);if(Xe){US(d,S,Xe);return}var Ke=Y?Y(pe,we,S+"",d,p,se):r,et=Ke===r;if(et){var xt=mr(we),Ft=!xt&&nc(we),nr=!xt&&!Ft&&zh(we);Ke=we,xt||Ft||nr?mr(pe)?Ke=pe:yi(pe)?Ke=Gs(pe):Ft?(et=!1,Ke=_R(we,!0)):nr?(et=!1,Ke=TR(we,!0)):Ke=[]:ng(we)||fd(we)?(Ke=pe,fd(pe)?Ke=S2(pe):(!Un(pe)||ru(pe))&&(Ke=UR(we))):et=!1}et&&(se.set(we,Ke),$(Ke,we,N,Y,se),se.delete(we)),US(d,S,Ke)}function pR(d,p){var S=d.length;if(S)return p+=p<0?S:0,tu(p,S)?d[p]:r}function gR(d,p,S){p.length?p=Fn(p,function(Y){return mr(Y)?function(se){return cd(se,Y.length===1?Y[0]:Y)}:Y}):p=[Xs];var N=-1;p=Fn(p,ma(tr()));var $=dR(d,function(Y,se,pe){var we=Fn(p,function(Xe){return Xe(Y)});return{criteria:we,index:++N,value:Y}});return ZH($,function(Y,se){return $7(Y,se,S)})}function P7(d,p){return mR(d,p,function(S,N){return Tk(d,N)})}function mR(d,p,S){for(var N=-1,$=p.length,Y={};++N<$;){var se=p[N],pe=cd(d,se);S(pe,se)&&Zp(Y,tc(se,d),pe)}return Y}function B7(d){return function(p){return cd(p,d)}}function ZS(d,p,S,N){var $=N?JH:Nh,Y=-1,se=p.length,pe=d;for(d===p&&(p=Gs(p)),S&&(pe=Fn(d,ma(S)));++Y<se;)for(var we=0,Xe=p[Y],Ke=S?S(Xe):Xe;(we=$(pe,Ke,we,N))>-1;)pe!==d&&N0.call(pe,we,1),N0.call(d,we,1);return d}function yR(d,p){for(var S=d?p.length:0,N=S-1;S--;){var $=p[S];if(S==N||$!==Y){var Y=$;tu($)?N0.call(d,$,1):nk(d,$)}}return d}function ek(d,p){return d+D0(QE()*(p-d+1))}function M7(d,p,S,N){for(var $=-1,Y=$i(R0((p-d)/(S||1)),0),se=Ee(Y);Y--;)se[N?Y:++$]=d,d+=S;return se}function tk(d,p){var S="";if(!d||p<1||p>A)return S;do p%2&&(S+=d),p=D0(p/2),p&&(d+=d);while(p);return S}function Br(d,p){return bk(YR(d,p,Xs),d+"")}function N7(d){return eR(Wh(d))}function E7(d,p){var S=Wh(d);return K0(S,ud(p,0,S.length))}function Zp(d,p,S,N){if(!Un(d))return d;p=tc(p,d);for(var $=-1,Y=p.length,se=Y-1,pe=d;pe!=null&&++$<Y;){var we=xl(p[$]),Xe=S;if(we==="__proto__"||we==="constructor"||we==="prototype")return d;if($!=se){var Ke=pe[we];Xe=N?N(Ke,we,pe):r,Xe===r&&(Xe=Un(Ke)?Ke:tu(p[$+1])?[]:{})}qp(pe,we,Xe),pe=pe[we]}return d}var bR=I0?function(d,p){return I0.set(d,p),d}:Xs,R7=E0?function(d,p){return E0(d,"toString",{configurable:!0,enumerable:!1,value:Bk(p),writable:!0})}:Xs;function D7(d){return K0(Wh(d))}function Qa(d,p,S){var N=-1,$=d.length;p<0&&(p=-p>$?0:$+p),S=S>$?$:S,S<0&&(S+=$),$=p>S?0:S-p>>>0,p>>>=0;for(var Y=Ee($);++N<$;)Y[N]=d[N+p];return Y}function I7(d,p){var S;return Zu(d,function(N,$,Y){return S=p(N,$,Y),!S}),!!S}function z0(d,p,S){var N=0,$=d==null?N:d.length;if(typeof p=="number"&&p===p&&$<=ge){for(;N<$;){var Y=N+$>>>1,se=d[Y];se!==null&&!ba(se)&&(S?se<=p:se<p)?N=Y+1:$=Y}return $}return rk(d,p,Xs,S)}function rk(d,p,S,N){var $=0,Y=d==null?0:d.length;if(Y===0)return 0;p=S(p);for(var se=p!==p,pe=p===null,we=ba(p),Xe=p===r;$<Y;){var Ke=D0(($+Y)/2),et=S(d[Ke]),xt=et!==r,Ft=et===null,nr=et===et,Tr=ba(et);if(se)var ir=N||nr;else Xe?ir=nr&&(N||xt):pe?ir=nr&&xt&&(N||!Ft):we?ir=nr&&xt&&!Ft&&(N||!Tr):Ft||Tr?ir=!1:ir=N?et<=p:et<p;ir?$=Ke+1:Y=Ke}return ys(Y,ne)}function vR(d,p){for(var S=-1,N=d.length,$=0,Y=[];++S<N;){var se=d[S],pe=p?p(se):se;if(!S||!Oo(pe,we)){var we=pe;Y[$++]=se===0?0:se}}return Y}function wR(d){return typeof d=="number"?d:ba(d)?q:+d}function ya(d){if(typeof d=="string")return d;if(mr(d))return Fn(d,ya)+"";if(ba(d))return JE?JE.call(d):"";var p=d+"";return p=="0"&&1/d==-W?"-0":p}function ec(d,p,S){var N=-1,$=w0,Y=d.length,se=!0,pe=[],we=pe;if(S)se=!1,$=ES;else if(Y>=i){var Xe=p?null:G7(d);if(Xe)return S0(Xe);se=!1,$=Hp,we=new ld}else we=p?[]:pe;e:for(;++N<Y;){var Ke=d[N],et=p?p(Ke):Ke;if(Ke=S||Ke!==0?Ke:0,se&&et===et){for(var xt=we.length;xt--;)if(we[xt]===et)continue e;p&&we.push(et),pe.push(Ke)}else $(we,et,S)||(we!==pe&&we.push(et),pe.push(Ke))}return pe}function nk(d,p){return p=tc(p,d),d=XR(d,p),d==null||delete d[xl(Ja(p))]}function xR(d,p,S,N){return Zp(d,p,S(cd(d,p)),N)}function W0(d,p,S,N){for(var $=d.length,Y=N?$:-1;(N?Y--:++Y<$)&&p(d[Y],Y,d););return S?Qa(d,N?0:Y,N?Y+1:$):Qa(d,N?Y+1:0,N?$:Y)}function SR(d,p){var S=d;return S instanceof zr&&(S=S.value()),RS(p,function(N,$){return $.func.apply($.thisArg,Ku([N],$.args))},S)}function ik(d,p,S){var N=d.length;if(N<2)return N?ec(d[0]):[];for(var $=-1,Y=Ee(N);++$<N;)for(var se=d[$],pe=-1;++pe<N;)pe!=$&&(Y[$]=Kp(Y[$]||se,d[pe],p,S));return ec(os(Y,1),p,S)}function kR(d,p,S){for(var N=-1,$=d.length,Y=p.length,se={};++N<$;){var pe=N<Y?p[N]:r;S(se,d[N],pe)}return se}function sk(d){return yi(d)?d:[]}function ak(d){return typeof d=="function"?d:Xs}function tc(d,p){return mr(d)?d:gk(d,p)?[d]:JR(nn(d))}var L7=Br;function rc(d,p,S){var N=d.length;return S=S===r?N:S,!p&&S>=N?d:Qa(d,p,S)}var CR=SU||function(d){return as.clearTimeout(d)};function _R(d,p){if(p)return d.slice();var S=d.length,N=jE?jE(S):new d.constructor(S);return d.copy(N),N}function ok(d){var p=new d.constructor(d.byteLength);return new B0(p).set(new B0(d)),p}function F7(d,p){var S=p?ok(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.byteLength)}function A7(d){var p=new d.constructor(d.source,xr.exec(d));return p.lastIndex=d.lastIndex,p}function O7(d){return Xp?mn(Xp.call(d)):{}}function TR(d,p){var S=p?ok(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.length)}function PR(d,p){if(d!==p){var S=d!==r,N=d===null,$=d===d,Y=ba(d),se=p!==r,pe=p===null,we=p===p,Xe=ba(p);if(!pe&&!Xe&&!Y&&d>p||Y&&se&&we&&!pe&&!Xe||N&&se&&we||!S&&we||!$)return 1;if(!N&&!Y&&!Xe&&d<p||Xe&&S&&$&&!N&&!Y||pe&&S&&$||!se&&$||!we)return-1}return 0}function $7(d,p,S){for(var N=-1,$=d.criteria,Y=p.criteria,se=$.length,pe=S.length;++N<se;){var we=PR($[N],Y[N]);if(we){if(N>=pe)return we;var Xe=S[N];return we*(Xe=="desc"?-1:1)}}return d.index-p.index}function BR(d,p,S,N){for(var $=-1,Y=d.length,se=S.length,pe=-1,we=p.length,Xe=$i(Y-se,0),Ke=Ee(we+Xe),et=!N;++pe<we;)Ke[pe]=p[pe];for(;++$<se;)(et||$<Y)&&(Ke[S[$]]=d[$]);for(;Xe--;)Ke[pe++]=d[$++];return Ke}function MR(d,p,S,N){for(var $=-1,Y=d.length,se=-1,pe=S.length,we=-1,Xe=p.length,Ke=$i(Y-pe,0),et=Ee(Ke+Xe),xt=!N;++$<Ke;)et[$]=d[$];for(var Ft=$;++we<Xe;)et[Ft+we]=p[we];for(;++se<pe;)(xt||$<Y)&&(et[Ft+S[se]]=d[$++]);return et}function Gs(d,p){var S=-1,N=d.length;for(p||(p=Ee(N));++S<N;)p[S]=d[S];return p}function wl(d,p,S,N){var $=!S;S||(S={});for(var Y=-1,se=p.length;++Y<se;){var pe=p[Y],we=N?N(S[pe],d[pe],pe,S,d):r;we===r&&(we=d[pe]),$?Jl(S,pe,we):qp(S,pe,we)}return S}function V7(d,p){return wl(d,pk(d),p)}function z7(d,p){return wl(d,WR(d),p)}function H0(d,p){return function(S,N){var $=mr(S)?jH:u7,Y=p?p():{};return $(S,d,tr(N,2),Y)}}function Oh(d){return Br(function(p,S){var N=-1,$=S.length,Y=$>1?S[$-1]:r,se=$>2?S[2]:r;for(Y=d.length>3&&typeof Y=="function"?($--,Y):r,se&&Bs(S[0],S[1],se)&&(Y=$<3?r:Y,$=1),p=mn(p);++N<$;){var pe=S[N];pe&&d(p,pe,N,Y)}return p})}function NR(d,p){return function(S,N){if(S==null)return S;if(!js(S))return d(S,N);for(var $=S.length,Y=p?$:-1,se=mn(S);(p?Y--:++Y<$)&&N(se[Y],Y,se)!==!1;);return S}}function ER(d){return function(p,S,N){for(var $=-1,Y=mn(p),se=N(p),pe=se.length;pe--;){var we=se[d?pe:++$];if(S(Y[we],we,Y)===!1)break}return p}}function W7(d,p,S){var N=p&b,$=eg(d);function Y(){var se=this&&this!==as&&this instanceof Y?$:d;return se.apply(N?S:this,arguments)}return Y}function RR(d){return function(p){p=nn(p);var S=Eh(p)?Fo(p):r,N=S?S[0]:p.charAt(0),$=S?rc(S,1).join(""):p.slice(1);return N[d]()+$}}function $h(d){return function(p){return RS(N2(M2(p).replace(RH,"")),d,"")}}function eg(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Ah(d.prototype),N=d.apply(S,p);return Un(N)?N:S}}function H7(d,p,S){var N=eg(d);function $(){for(var Y=arguments.length,se=Ee(Y),pe=Y,we=Vh($);pe--;)se[pe]=arguments[pe];var Xe=Y<3&&se[0]!==we&&se[Y-1]!==we?[]:Qu(se,we);if(Y-=Xe.length,Y<S)return AR(d,p,U0,$.placeholder,r,se,Xe,r,r,S-Y);var Ke=this&&this!==as&&this instanceof $?N:d;return ga(Ke,this,se)}return $}function DR(d){return function(p,S,N){var $=mn(p);if(!js(p)){var Y=tr(S,3);p=qi(p),S=function(pe){return Y($[pe],pe,$)}}var se=d(p,S,N);return se>-1?$[Y?p[se]:se]:r}}function IR(d){return eu(function(p){var S=p.length,N=S,$=qa.prototype.thru;for(d&&p.reverse();N--;){var Y=p[N];if(typeof Y!="function")throw new Xa(a);if($&&!se&&X0(Y)=="wrapper")var se=new qa([],!0)}for(N=se?N:S;++N<S;){Y=p[N];var pe=X0(Y),we=pe=="wrapper"?hk(Y):r;we&&mk(we[0])&&we[1]==(M|w|T|E)&&!we[4].length&&we[9]==1?se=se[X0(we[0])].apply(se,we[3]):se=Y.length==1&&mk(Y)?se[pe]():se.thru(Y)}return function(){var Xe=arguments,Ke=Xe[0];if(se&&Xe.length==1&&mr(Ke))return se.plant(Ke).value();for(var et=0,xt=S?p[et].apply(this,Xe):Ke;++et<S;)xt=p[et].call(this,xt);return xt}})}function U0(d,p,S,N,$,Y,se,pe,we,Xe){var Ke=p&M,et=p&b,xt=p&x,Ft=p&(w|P),nr=p&D,Tr=xt?r:eg(d);function ir(){for(var Lr=arguments.length,Ur=Ee(Lr),va=Lr;va--;)Ur[va]=arguments[va];if(Ft)var Ms=Vh(ir),wa=tU(Ur,Ms);if(N&&(Ur=BR(Ur,N,$,Ft)),Y&&(Ur=MR(Ur,Y,se,Ft)),Lr-=wa,Ft&&Lr<Xe){var bi=Qu(Ur,Ms);return AR(d,p,U0,ir.placeholder,S,Ur,bi,pe,we,Xe-Lr)}var $o=et?S:this,iu=xt?$o[d]:d;return Lr=Ur.length,pe?Ur=uG(Ur,pe):nr&&Lr>1&&Ur.reverse(),Ke&&we<Lr&&(Ur.length=we),this&&this!==as&&this instanceof ir&&(iu=Tr||eg(iu)),iu.apply($o,Ur)}return ir}function LR(d,p){return function(S,N){return y7(S,d,p(N),{})}}function G0(d,p){return function(S,N){var $;if(S===r&&N===r)return p;if(S!==r&&($=S),N!==r){if($===r)return N;typeof S=="string"||typeof N=="string"?(S=ya(S),N=ya(N)):(S=wR(S),N=wR(N)),$=d(S,N)}return $}}function lk(d){return eu(function(p){return p=Fn(p,ma(tr())),Br(function(S){var N=this;return d(p,function($){return ga($,N,S)})})})}function j0(d,p){p=p===r?" ":ya(p);var S=p.length;if(S<2)return S?tk(p,d):p;var N=tk(p,R0(d/Rh(p)));return Eh(p)?rc(Fo(N),0,d).join(""):N.slice(0,d)}function U7(d,p,S,N){var $=p&b,Y=eg(d);function se(){for(var pe=-1,we=arguments.length,Xe=-1,Ke=N.length,et=Ee(Ke+we),xt=this&&this!==as&&this instanceof se?Y:d;++Xe<Ke;)et[Xe]=N[Xe];for(;we--;)et[Xe++]=arguments[++pe];return ga(xt,$?S:this,et)}return se}function FR(d){return function(p,S,N){return N&&typeof N!="number"&&Bs(p,S,N)&&(S=N=r),p=nu(p),S===r?(S=p,p=0):S=nu(S),N=N===r?p<S?1:-1:nu(N),M7(p,S,N,d)}}function Y0(d){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Za(p),S=Za(S)),d(p,S)}}function AR(d,p,S,N,$,Y,se,pe,we,Xe){var Ke=p&w,et=Ke?se:r,xt=Ke?r:se,Ft=Ke?Y:r,nr=Ke?r:Y;p|=Ke?T:_,p&=~(Ke?_:T),p&v||(p&=~(b|x));var Tr=[d,p,$,Ft,et,nr,xt,pe,we,Xe],ir=S.apply(r,Tr);return mk(d)&&qR(ir,Tr),ir.placeholder=N,KR(ir,d,p)}function uk(d){var p=Oi[d];return function(S,N){if(S=Za(S),N=N==null?0:ys(kr(N),292),N&&KE(S)){var $=(nn(S)+"e").split("e"),Y=p($[0]+"e"+(+$[1]+N));return $=(nn(Y)+"e").split("e"),+($[0]+"e"+(+$[1]-N))}return p(S)}}var G7=Lh&&1/S0(new Lh([,-0]))[1]==W?function(d){return new Lh(d)}:Ek;function OR(d){return function(p){var S=bs(p);return S==ee?$S(p):S==me?lU(p):eU(p,d(p))}}function Zl(d,p,S,N,$,Y,se,pe){var we=p&x;if(!we&&typeof d!="function")throw new Xa(a);var Xe=N?N.length:0;if(Xe||(p&=~(T|_),N=$=r),se=se===r?se:$i(kr(se),0),pe=pe===r?pe:kr(pe),Xe-=$?$.length:0,p&_){var Ke=N,et=$;N=$=r}var xt=we?r:hk(d),Ft=[d,p,S,N,$,Ke,et,Y,se,pe];if(xt&&aG(Ft,xt),d=Ft[0],p=Ft[1],S=Ft[2],N=Ft[3],$=Ft[4],pe=Ft[9]=Ft[9]===r?we?0:d.length:$i(Ft[9]-Xe,0),!pe&&p&(w|P)&&(p&=~(w|P)),!p||p==b)var nr=W7(d,p,S);else p==w||p==P?nr=H7(d,p,pe):(p==T||p==(b|T))&&!$.length?nr=U7(d,p,S,N):nr=U0.apply(r,Ft);var Tr=xt?bR:qR;return KR(Tr(nr,Ft),d,p)}function $R(d,p,S,N){return d===r||Oo(d,Ih[S])&&!on.call(N,S)?p:d}function VR(d,p,S,N,$,Y){return Un(d)&&Un(p)&&(Y.set(p,d),V0(d,p,r,VR,Y),Y.delete(p)),d}function j7(d){return ng(d)?r:d}function zR(d,p,S,N,$,Y){var se=S&m,pe=d.length,we=p.length;if(pe!=we&&!(se&&we>pe))return!1;var Xe=Y.get(d),Ke=Y.get(p);if(Xe&&Ke)return Xe==p&&Ke==d;var et=-1,xt=!0,Ft=S&y?new ld:r;for(Y.set(d,p),Y.set(p,d);++et<pe;){var nr=d[et],Tr=p[et];if(N)var ir=se?N(Tr,nr,et,p,d,Y):N(nr,Tr,et,d,p,Y);if(ir!==r){if(ir)continue;xt=!1;break}if(Ft){if(!DS(p,function(Lr,Ur){if(!Hp(Ft,Ur)&&(nr===Lr||$(nr,Lr,S,N,Y)))return Ft.push(Ur)})){xt=!1;break}}else if(!(nr===Tr||$(nr,Tr,S,N,Y))){xt=!1;break}}return Y.delete(d),Y.delete(p),xt}function Y7(d,p,S,N,$,Y,se){switch(S){case De:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case At:return!(d.byteLength!=p.byteLength||!Y(new B0(d),new B0(p)));case K:case Z:case oe:return Oo(+d,+p);case de:return d.name==p.name&&d.message==p.message;case te:case Be:return d==p+"";case ee:var pe=$S;case me:var we=N&m;if(pe||(pe=S0),d.size!=p.size&&!we)return!1;var Xe=se.get(d);if(Xe)return Xe==p;N|=y,se.set(d,p);var Ke=zR(pe(d),pe(p),N,$,Y,se);return se.delete(d),Ke;case Te:if(Xp)return Xp.call(d)==Xp.call(p)}return!1}function X7(d,p,S,N,$,Y){var se=S&m,pe=ck(d),we=pe.length,Xe=ck(p),Ke=Xe.length;if(we!=Ke&&!se)return!1;for(var et=we;et--;){var xt=pe[et];if(!(se?xt in p:on.call(p,xt)))return!1}var Ft=Y.get(d),nr=Y.get(p);if(Ft&&nr)return Ft==p&&nr==d;var Tr=!0;Y.set(d,p),Y.set(p,d);for(var ir=se;++et<we;){xt=pe[et];var Lr=d[xt],Ur=p[xt];if(N)var va=se?N(Ur,Lr,xt,p,d,Y):N(Lr,Ur,xt,d,p,Y);if(!(va===r?Lr===Ur||$(Lr,Ur,S,N,Y):va)){Tr=!1;break}ir||(ir=xt=="constructor")}if(Tr&&!ir){var Ms=d.constructor,wa=p.constructor;Ms!=wa&&"constructor"in d&&"constructor"in p&&!(typeof Ms=="function"&&Ms instanceof Ms&&typeof wa=="function"&&wa instanceof wa)&&(Tr=!1)}return Y.delete(d),Y.delete(p),Tr}function eu(d){return bk(YR(d,r,r2),d+"")}function ck(d){return oR(d,qi,pk)}function dk(d){return oR(d,Ys,WR)}var hk=I0?function(d){return I0.get(d)}:Ek;function X0(d){for(var p=d.name+"",S=Fh[p],N=on.call(Fh,p)?S.length:0;N--;){var $=S[N],Y=$.func;if(Y==null||Y==d)return $.name}return p}function Vh(d){var p=on.call(G,"placeholder")?G:d;return p.placeholder}function tr(){var d=G.iteratee||Mk;return d=d===Mk?cR:d,arguments.length?d(arguments[0],arguments[1]):d}function q0(d,p){var S=d.__data__;return rG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function fk(d){for(var p=qi(d),S=p.length;S--;){var N=p[S],$=d[N];p[S]=[N,$,GR($)]}return p}function dd(d,p){var S=sU(d,p);return uR(S)?S:r}function q7(d){var p=on.call(d,ad),S=d[ad];try{d[ad]=r;var N=!0}catch{}var $=T0.call(d);return N&&(p?d[ad]=S:delete d[ad]),$}var pk=zS?function(d){return d==null?[]:(d=mn(d),qu(zS(d),function(p){return XE.call(d,p)}))}:Rk,WR=zS?function(d){for(var p=[];d;)Ku(p,pk(d)),d=M0(d);return p}:Rk,bs=Ps;(WS&&bs(new WS(new ArrayBuffer(1)))!=De||Gp&&bs(new Gp)!=ee||HS&&bs(HS.resolve())!=j||Lh&&bs(new Lh)!=me||jp&&bs(new jp)!=ot)&&(bs=function(d){var p=Ps(d),S=p==ke?d.constructor:r,N=S?hd(S):"";if(N)switch(N){case EU:return De;case RU:return ee;case DU:return j;case IU:return me;case LU:return ot}return p});function K7(d,p,S){for(var N=-1,$=S.length;++N<$;){var Y=S[N],se=Y.size;switch(Y.type){case"drop":d+=se;break;case"dropRight":p-=se;break;case"take":p=ys(p,d+se);break;case"takeRight":d=$i(d,p-se);break}}return{start:d,end:p}}function Q7(d){var p=d.match(jr);return p?p[1].split(Ai):[]}function HR(d,p,S){p=tc(p,d);for(var N=-1,$=p.length,Y=!1;++N<$;){var se=xl(p[N]);if(!(Y=d!=null&&S(d,se)))break;d=d[se]}return Y||++N!=$?Y:($=d==null?0:d.length,!!$&&rb($)&&tu(se,$)&&(mr(d)||fd(d)))}function J7(d){var p=d.length,S=new d.constructor(p);return p&&typeof d[0]=="string"&&on.call(d,"index")&&(S.index=d.index,S.input=d.input),S}function UR(d){return typeof d.constructor=="function"&&!tg(d)?Ah(M0(d)):{}}function Z7(d,p,S){var N=d.constructor;switch(p){case At:return ok(d);case K:case Z:return new N(+d);case De:return F7(d,S);case Ce:case Ne:case at:case ft:case Ze:case Et:case qe:case Ye:case St:return TR(d,S);case ee:return new N;case oe:case Be:return new N(d);case te:return A7(d);case me:return new N;case Te:return O7(d)}}function eG(d,p){var S=p.length;if(!S)return d;var N=S-1;return p[N]=(S>1?"& ":"")+p[N],p=p.join(S>2?", ":" "),d.replace(Sr,`{
/* [wrapped with `+p+`] */
`)}function tG(d){return mr(d)||fd(d)||!!(qE&&d&&d[qE])}function tu(d,p){var S=typeof d;return p=p??A,!!p&&(S=="number"||S!="symbol"&&Lo.test(d))&&d>-1&&d%1==0&&d<p}function Bs(d,p,S){if(!Un(S))return!1;var N=typeof p;return(N=="number"?js(S)&&tu(p,S.length):N=="string"&&p in S)?Oo(S[p],d):!1}function gk(d,p){if(mr(d))return!1;var S=typeof d;return S=="number"||S=="symbol"||S=="boolean"||d==null||ba(d)?!0:It.test(d)||!Ot.test(d)||p!=null&&d in mn(p)}function rG(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function mk(d){var p=X0(d),S=G[p];if(typeof S!="function"||!(p in zr.prototype))return!1;if(d===S)return!0;var N=hk(S);return!!N&&d===N[0]}function nG(d){return!!GE&&GE in d}var iG=C0?ru:Dk;function tg(d){var p=d&&d.constructor,S=typeof p=="function"&&p.prototype||Ih;return d===S}function GR(d){return d===d&&!Un(d)}function jR(d,p){return function(S){return S==null?!1:S[d]===p&&(p!==r||d in mn(S))}}function sG(d){var p=eb(d,function(N){return S.size===u&&S.clear(),N}),S=p.cache;return p}function aG(d,p){var S=d[1],N=p[1],$=S|N,Y=$<(b|x|M),se=N==M&&S==w||N==M&&S==E&&d[7].length<=p[8]||N==(M|E)&&p[7].length<=p[8]&&S==w;if(!(Y||se))return d;N&b&&(d[2]=p[2],$|=S&b?0:v);var pe=p[3];if(pe){var we=d[3];d[3]=we?BR(we,pe,p[4]):pe,d[4]=we?Qu(d[3],c):p[4]}return pe=p[5],pe&&(we=d[5],d[5]=we?MR(we,pe,p[6]):pe,d[6]=we?Qu(d[5],c):p[6]),pe=p[7],pe&&(d[7]=pe),N&M&&(d[8]=d[8]==null?p[8]:ys(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=$,d}function oG(d){var p=[];if(d!=null)for(var S in mn(d))p.push(S);return p}function lG(d){return T0.call(d)}function YR(d,p,S){return p=$i(p===r?d.length-1:p,0),function(){for(var N=arguments,$=-1,Y=$i(N.length-p,0),se=Ee(Y);++$<Y;)se[$]=N[p+$];$=-1;for(var pe=Ee(p+1);++$<p;)pe[$]=N[$];return pe[p]=S(se),ga(d,this,pe)}}function XR(d,p){return p.length<2?d:cd(d,Qa(p,0,-1))}function uG(d,p){for(var S=d.length,N=ys(p.length,S),$=Gs(d);N--;){var Y=p[N];d[N]=tu(Y,S)?$[Y]:r}return d}function yk(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var qR=QR(bR),rg=CU||function(d,p){return as.setTimeout(d,p)},bk=QR(R7);function KR(d,p,S){var N=p+"";return bk(d,eG(N,cG(Q7(N),S)))}function QR(d){var p=0,S=0;return function(){var N=BU(),$=V-(N-S);if(S=N,$>0){if(++p>=z)return arguments[0]}else p=0;return d.apply(r,arguments)}}function K0(d,p){var S=-1,N=d.length,$=N-1;for(p=p===r?N:p;++S<p;){var Y=ek(S,$),se=d[Y];d[Y]=d[S],d[S]=se}return d.length=p,d}var JR=sG(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace($t,function(S,N,$,Y){p.push($?Y.replace(gi,"$1"):N||S)}),p});function xl(d){if(typeof d=="string"||ba(d))return d;var p=d+"";return p=="0"&&1/d==-W?"-0":p}function hd(d){if(d!=null){try{return _0.call(d)}catch{}try{return d+""}catch{}}return""}function cG(d,p){return Ya(fe,function(S){var N="_."+S[0];p&S[1]&&!w0(d,N)&&d.push(N)}),d.sort()}function ZR(d){if(d instanceof zr)return d.clone();var p=new qa(d.__wrapped__,d.__chain__);return p.__actions__=Gs(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function dG(d,p,S){(S?Bs(d,p,S):p===r)?p=1:p=$i(kr(p),0);var N=d==null?0:d.length;if(!N||p<1)return[];for(var $=0,Y=0,se=Ee(R0(N/p));$<N;)se[Y++]=Qa(d,$,$+=p);return se}function hG(d){for(var p=-1,S=d==null?0:d.length,N=0,$=[];++p<S;){var Y=d[p];Y&&($[N++]=Y)}return $}function fG(){var d=arguments.length;if(!d)return[];for(var p=Ee(d-1),S=arguments[0],N=d;N--;)p[N-1]=arguments[N];return Ku(mr(S)?Gs(S):[S],os(p,1))}var pG=Br(function(d,p){return yi(d)?Kp(d,os(p,1,yi,!0)):[]}),gG=Br(function(d,p){var S=Ja(p);return yi(S)&&(S=r),yi(d)?Kp(d,os(p,1,yi,!0),tr(S,2)):[]}),mG=Br(function(d,p){var S=Ja(p);return yi(S)&&(S=r),yi(d)?Kp(d,os(p,1,yi,!0),r,S):[]});function yG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:kr(p),Qa(d,p<0?0:p,N)):[]}function bG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:kr(p),p=N-p,Qa(d,0,p<0?0:p)):[]}function vG(d,p){return d&&d.length?W0(d,tr(p,3),!0,!0):[]}function wG(d,p){return d&&d.length?W0(d,tr(p,3),!0):[]}function xG(d,p,S,N){var $=d==null?0:d.length;return $?(S&&typeof S!="number"&&Bs(d,p,S)&&(S=0,N=$),f7(d,p,S,N)):[]}function e2(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var $=S==null?0:kr(S);return $<0&&($=$i(N+$,0)),x0(d,tr(p,3),$)}function t2(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var $=N-1;return S!==r&&($=kr(S),$=S<0?$i(N+$,0):ys($,N-1)),x0(d,tr(p,3),$,!0)}function r2(d){var p=d==null?0:d.length;return p?os(d,1):[]}function SG(d){var p=d==null?0:d.length;return p?os(d,W):[]}function kG(d,p){var S=d==null?0:d.length;return S?(p=p===r?1:kr(p),os(d,p)):[]}function CG(d){for(var p=-1,S=d==null?0:d.length,N={};++p<S;){var $=d[p];N[$[0]]=$[1]}return N}function n2(d){return d&&d.length?d[0]:r}function _G(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var $=S==null?0:kr(S);return $<0&&($=$i(N+$,0)),Nh(d,p,$)}function TG(d){var p=d==null?0:d.length;return p?Qa(d,0,-1):[]}var PG=Br(function(d){var p=Fn(d,sk);return p.length&&p[0]===d[0]?qS(p):[]}),BG=Br(function(d){var p=Ja(d),S=Fn(d,sk);return p===Ja(S)?p=r:S.pop(),S.length&&S[0]===d[0]?qS(S,tr(p,2)):[]}),MG=Br(function(d){var p=Ja(d),S=Fn(d,sk);return p=typeof p=="function"?p:r,p&&S.pop(),S.length&&S[0]===d[0]?qS(S,r,p):[]});function NG(d,p){return d==null?"":TU.call(d,p)}function Ja(d){var p=d==null?0:d.length;return p?d[p-1]:r}function EG(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var $=N;return S!==r&&($=kr(S),$=$<0?$i(N+$,0):ys($,N-1)),p===p?cU(d,p,$):x0(d,AE,$,!0)}function RG(d,p){return d&&d.length?pR(d,kr(p)):r}var DG=Br(i2);function i2(d,p){return d&&d.length&&p&&p.length?ZS(d,p):d}function IG(d,p,S){return d&&d.length&&p&&p.length?ZS(d,p,tr(S,2)):d}function LG(d,p,S){return d&&d.length&&p&&p.length?ZS(d,p,r,S):d}var FG=eu(function(d,p){var S=d==null?0:d.length,N=GS(d,p);return yR(d,Fn(p,function($){return tu($,S)?+$:$}).sort(PR)),N});function AG(d,p){var S=[];if(!(d&&d.length))return S;var N=-1,$=[],Y=d.length;for(p=tr(p,3);++N<Y;){var se=d[N];p(se,N,d)&&(S.push(se),$.push(N))}return yR(d,$),S}function vk(d){return d==null?d:NU.call(d)}function OG(d,p,S){var N=d==null?0:d.length;return N?(S&&typeof S!="number"&&Bs(d,p,S)?(p=0,S=N):(p=p==null?0:kr(p),S=S===r?N:kr(S)),Qa(d,p,S)):[]}function $G(d,p){return z0(d,p)}function VG(d,p,S){return rk(d,p,tr(S,2))}function zG(d,p){var S=d==null?0:d.length;if(S){var N=z0(d,p);if(N<S&&Oo(d[N],p))return N}return-1}function WG(d,p){return z0(d,p,!0)}function HG(d,p,S){return rk(d,p,tr(S,2),!0)}function UG(d,p){var S=d==null?0:d.length;if(S){var N=z0(d,p,!0)-1;if(Oo(d[N],p))return N}return-1}function GG(d){return d&&d.length?vR(d):[]}function jG(d,p){return d&&d.length?vR(d,tr(p,2)):[]}function YG(d){var p=d==null?0:d.length;return p?Qa(d,1,p):[]}function XG(d,p,S){return d&&d.length?(p=S||p===r?1:kr(p),Qa(d,0,p<0?0:p)):[]}function qG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:kr(p),p=N-p,Qa(d,p<0?0:p,N)):[]}function KG(d,p){return d&&d.length?W0(d,tr(p,3),!1,!0):[]}function QG(d,p){return d&&d.length?W0(d,tr(p,3)):[]}var JG=Br(function(d){return ec(os(d,1,yi,!0))}),ZG=Br(function(d){var p=Ja(d);return yi(p)&&(p=r),ec(os(d,1,yi,!0),tr(p,2))}),ej=Br(function(d){var p=Ja(d);return p=typeof p=="function"?p:r,ec(os(d,1,yi,!0),r,p)});function tj(d){return d&&d.length?ec(d):[]}function rj(d,p){return d&&d.length?ec(d,tr(p,2)):[]}function nj(d,p){return p=typeof p=="function"?p:r,d&&d.length?ec(d,r,p):[]}function wk(d){if(!(d&&d.length))return[];var p=0;return d=qu(d,function(S){if(yi(S))return p=$i(S.length,p),!0}),AS(p,function(S){return Fn(d,IS(S))})}function s2(d,p){if(!(d&&d.length))return[];var S=wk(d);return p==null?S:Fn(S,function(N){return ga(p,r,N)})}var ij=Br(function(d,p){return yi(d)?Kp(d,p):[]}),sj=Br(function(d){return ik(qu(d,yi))}),aj=Br(function(d){var p=Ja(d);return yi(p)&&(p=r),ik(qu(d,yi),tr(p,2))}),oj=Br(function(d){var p=Ja(d);return p=typeof p=="function"?p:r,ik(qu(d,yi),r,p)}),lj=Br(wk);function uj(d,p){return kR(d||[],p||[],qp)}function cj(d,p){return kR(d||[],p||[],Zp)}var dj=Br(function(d){var p=d.length,S=p>1?d[p-1]:r;return S=typeof S=="function"?(d.pop(),S):r,s2(d,S)});function a2(d){var p=G(d);return p.__chain__=!0,p}function hj(d,p){return p(d),d}function Q0(d,p){return p(d)}var fj=eu(function(d){var p=d.length,S=p?d[0]:0,N=this.__wrapped__,$=function(Y){return GS(Y,d)};return p>1||this.__actions__.length||!(N instanceof zr)||!tu(S)?this.thru($):(N=N.slice(S,+S+(p?1:0)),N.__actions__.push({func:Q0,args:[$],thisArg:r}),new qa(N,this.__chain__).thru(function(Y){return p&&!Y.length&&Y.push(r),Y}))});function pj(){return a2(this)}function gj(){return new qa(this.value(),this.__chain__)}function mj(){this.__values__===r&&(this.__values__=w2(this.value()));var d=this.__index__>=this.__values__.length,p=d?r:this.__values__[this.__index__++];return{done:d,value:p}}function yj(){return this}function bj(d){for(var p,S=this;S instanceof F0;){var N=ZR(S);N.__index__=0,N.__values__=r,p?$.__wrapped__=N:p=N;var $=N;S=S.__wrapped__}return $.__wrapped__=d,p}function vj(){var d=this.__wrapped__;if(d instanceof zr){var p=d;return this.__actions__.length&&(p=new zr(this)),p=p.reverse(),p.__actions__.push({func:Q0,args:[vk],thisArg:r}),new qa(p,this.__chain__)}return this.thru(vk)}function wj(){return SR(this.__wrapped__,this.__actions__)}var xj=H0(function(d,p,S){on.call(d,S)?++d[S]:Jl(d,S,1)});function Sj(d,p,S){var N=mr(d)?LE:h7;return S&&Bs(d,p,S)&&(p=r),N(d,tr(p,3))}function kj(d,p){var S=mr(d)?qu:sR;return S(d,tr(p,3))}var Cj=DR(e2),_j=DR(t2);function Tj(d,p){return os(J0(d,p),1)}function Pj(d,p){return os(J0(d,p),W)}function Bj(d,p,S){return S=S===r?1:kr(S),os(J0(d,p),S)}function o2(d,p){var S=mr(d)?Ya:Zu;return S(d,tr(p,3))}function l2(d,p){var S=mr(d)?YH:iR;return S(d,tr(p,3))}var Mj=H0(function(d,p,S){on.call(d,S)?d[S].push(p):Jl(d,S,[p])});function Nj(d,p,S,N){d=js(d)?d:Wh(d),S=S&&!N?kr(S):0;var $=d.length;return S<0&&(S=$i($+S,0)),nb(d)?S<=$&&d.indexOf(p,S)>-1:!!$&&Nh(d,p,S)>-1}var Ej=Br(function(d,p,S){var N=-1,$=typeof p=="function",Y=js(d)?Ee(d.length):[];return Zu(d,function(se){Y[++N]=$?ga(p,se,S):Qp(se,p,S)}),Y}),Rj=H0(function(d,p,S){Jl(d,S,p)});function J0(d,p){var S=mr(d)?Fn:dR;return S(d,tr(p,3))}function Dj(d,p,S,N){return d==null?[]:(mr(p)||(p=p==null?[]:[p]),S=N?r:S,mr(S)||(S=S==null?[]:[S]),gR(d,p,S))}var Ij=H0(function(d,p,S){d[S?0:1].push(p)},function(){return[[],[]]});function Lj(d,p,S){var N=mr(d)?RS:$E,$=arguments.length<3;return N(d,tr(p,4),S,$,Zu)}function Fj(d,p,S){var N=mr(d)?XH:$E,$=arguments.length<3;return N(d,tr(p,4),S,$,iR)}function Aj(d,p){var S=mr(d)?qu:sR;return S(d,tb(tr(p,3)))}function Oj(d){var p=mr(d)?eR:N7;return p(d)}function $j(d,p,S){(S?Bs(d,p,S):p===r)?p=1:p=kr(p);var N=mr(d)?o7:E7;return N(d,p)}function Vj(d){var p=mr(d)?l7:D7;return p(d)}function zj(d){if(d==null)return 0;if(js(d))return nb(d)?Rh(d):d.length;var p=bs(d);return p==ee||p==me?d.size:QS(d).length}function Wj(d,p,S){var N=mr(d)?DS:I7;return S&&Bs(d,p,S)&&(p=r),N(d,tr(p,3))}var Hj=Br(function(d,p){if(d==null)return[];var S=p.length;return S>1&&Bs(d,p[0],p[1])?p=[]:S>2&&Bs(p[0],p[1],p[2])&&(p=[p[0]]),gR(d,os(p,1),[])}),Z0=kU||function(){return as.Date.now()};function Uj(d,p){if(typeof p!="function")throw new Xa(a);return d=kr(d),function(){if(--d<1)return p.apply(this,arguments)}}function u2(d,p,S){return p=S?r:p,p=d&&p==null?d.length:p,Zl(d,M,r,r,r,r,p)}function c2(d,p){var S;if(typeof p!="function")throw new Xa(a);return d=kr(d),function(){return--d>0&&(S=p.apply(this,arguments)),d<=1&&(p=r),S}}var xk=Br(function(d,p,S){var N=b;if(S.length){var $=Qu(S,Vh(xk));N|=T}return Zl(d,N,p,S,$)}),d2=Br(function(d,p,S){var N=b|x;if(S.length){var $=Qu(S,Vh(d2));N|=T}return Zl(p,N,d,S,$)});function h2(d,p,S){p=S?r:p;var N=Zl(d,w,r,r,r,r,r,p);return N.placeholder=h2.placeholder,N}function f2(d,p,S){p=S?r:p;var N=Zl(d,P,r,r,r,r,r,p);return N.placeholder=f2.placeholder,N}function p2(d,p,S){var N,$,Y,se,pe,we,Xe=0,Ke=!1,et=!1,xt=!0;if(typeof d!="function")throw new Xa(a);p=Za(p)||0,Un(S)&&(Ke=!!S.leading,et="maxWait"in S,Y=et?$i(Za(S.maxWait)||0,p):Y,xt="trailing"in S?!!S.trailing:xt);function Ft(bi){var $o=N,iu=$;return N=$=r,Xe=bi,se=d.apply(iu,$o),se}function nr(bi){return Xe=bi,pe=rg(Lr,p),Ke?Ft(bi):se}function Tr(bi){var $o=bi-we,iu=bi-Xe,D2=p-$o;return et?ys(D2,Y-iu):D2}function ir(bi){var $o=bi-we,iu=bi-Xe;return we===r||$o>=p||$o<0||et&&iu>=Y}function Lr(){var bi=Z0();if(ir(bi))return Ur(bi);pe=rg(Lr,Tr(bi))}function Ur(bi){return pe=r,xt&&N?Ft(bi):(N=$=r,se)}function va(){pe!==r&&CR(pe),Xe=0,N=we=$=pe=r}function Ms(){return pe===r?se:Ur(Z0())}function wa(){var bi=Z0(),$o=ir(bi);if(N=arguments,$=this,we=bi,$o){if(pe===r)return nr(we);if(et)return CR(pe),pe=rg(Lr,p),Ft(we)}return pe===r&&(pe=rg(Lr,p)),se}return wa.cancel=va,wa.flush=Ms,wa}var Gj=Br(function(d,p){return nR(d,1,p)}),jj=Br(function(d,p,S){return nR(d,Za(p)||0,S)});function Yj(d){return Zl(d,D)}function eb(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new Xa(a);var S=function(){var N=arguments,$=p?p.apply(this,N):N[0],Y=S.cache;if(Y.has($))return Y.get($);var se=d.apply(this,N);return S.cache=Y.set($,se)||Y,se};return S.cache=new(eb.Cache||Ql),S}eb.Cache=Ql;function tb(d){if(typeof d!="function")throw new Xa(a);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function Xj(d){return c2(2,d)}var qj=L7(function(d,p){p=p.length==1&&mr(p[0])?Fn(p[0],ma(tr())):Fn(os(p,1),ma(tr()));var S=p.length;return Br(function(N){for(var $=-1,Y=ys(N.length,S);++$<Y;)N[$]=p[$].call(this,N[$]);return ga(d,this,N)})}),Sk=Br(function(d,p){var S=Qu(p,Vh(Sk));return Zl(d,T,r,p,S)}),g2=Br(function(d,p){var S=Qu(p,Vh(g2));return Zl(d,_,r,p,S)}),Kj=eu(function(d,p){return Zl(d,E,r,r,r,p)});function Qj(d,p){if(typeof d!="function")throw new Xa(a);return p=p===r?p:kr(p),Br(d,p)}function Jj(d,p){if(typeof d!="function")throw new Xa(a);return p=p==null?0:$i(kr(p),0),Br(function(S){var N=S[p],$=rc(S,0,p);return N&&Ku($,N),ga(d,this,$)})}function Zj(d,p,S){var N=!0,$=!0;if(typeof d!="function")throw new Xa(a);return Un(S)&&(N="leading"in S?!!S.leading:N,$="trailing"in S?!!S.trailing:$),p2(d,p,{leading:N,maxWait:p,trailing:$})}function e9(d){return u2(d,1)}function t9(d,p){return Sk(ak(p),d)}function r9(){if(!arguments.length)return[];var d=arguments[0];return mr(d)?d:[d]}function n9(d){return Ka(d,g)}function i9(d,p){return p=typeof p=="function"?p:r,Ka(d,g,p)}function s9(d){return Ka(d,h|g)}function a9(d,p){return p=typeof p=="function"?p:r,Ka(d,h|g,p)}function o9(d,p){return p==null||rR(d,p,qi(p))}function Oo(d,p){return d===p||d!==d&&p!==p}var l9=Y0(XS),u9=Y0(function(d,p){return d>=p}),fd=lR(function(){return arguments}())?lR:function(d){return ei(d)&&on.call(d,"callee")&&!XE.call(d,"callee")},mr=Ee.isArray,c9=ME?ma(ME):b7;function js(d){return d!=null&&rb(d.length)&&!ru(d)}function yi(d){return ei(d)&&js(d)}function d9(d){return d===!0||d===!1||ei(d)&&Ps(d)==K}var nc=_U||Dk,h9=NE?ma(NE):v7;function f9(d){return ei(d)&&d.nodeType===1&&!ng(d)}function p9(d){if(d==null)return!0;if(js(d)&&(mr(d)||typeof d=="string"||typeof d.splice=="function"||nc(d)||zh(d)||fd(d)))return!d.length;var p=bs(d);if(p==ee||p==me)return!d.size;if(tg(d))return!QS(d).length;for(var S in d)if(on.call(d,S))return!1;return!0}function g9(d,p){return Jp(d,p)}function m9(d,p,S){S=typeof S=="function"?S:r;var N=S?S(d,p):r;return N===r?Jp(d,p,r,S):!!N}function kk(d){if(!ei(d))return!1;var p=Ps(d);return p==de||p==ue||typeof d.message=="string"&&typeof d.name=="string"&&!ng(d)}function y9(d){return typeof d=="number"&&KE(d)}function ru(d){if(!Un(d))return!1;var p=Ps(d);return p==re||p==Q||p==Se||p==ie}function m2(d){return typeof d=="number"&&d==kr(d)}function rb(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=A}function Un(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function ei(d){return d!=null&&typeof d=="object"}var y2=EE?ma(EE):x7;function b9(d,p){return d===p||KS(d,p,fk(p))}function v9(d,p,S){return S=typeof S=="function"?S:r,KS(d,p,fk(p),S)}function w9(d){return b2(d)&&d!=+d}function x9(d){if(iG(d))throw new dr(s);return uR(d)}function S9(d){return d===null}function k9(d){return d==null}function b2(d){return typeof d=="number"||ei(d)&&Ps(d)==oe}function ng(d){if(!ei(d)||Ps(d)!=ke)return!1;var p=M0(d);if(p===null)return!0;var S=on.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&_0.call(S)==vU}var Ck=RE?ma(RE):S7;function C9(d){return m2(d)&&d>=-A&&d<=A}var v2=DE?ma(DE):k7;function nb(d){return typeof d=="string"||!mr(d)&&ei(d)&&Ps(d)==Be}function ba(d){return typeof d=="symbol"||ei(d)&&Ps(d)==Te}var zh=IE?ma(IE):C7;function _9(d){return d===r}function T9(d){return ei(d)&&bs(d)==ot}function P9(d){return ei(d)&&Ps(d)==Dt}var B9=Y0(JS),M9=Y0(function(d,p){return d<=p});function w2(d){if(!d)return[];if(js(d))return nb(d)?Fo(d):Gs(d);if(Up&&d[Up])return oU(d[Up]());var p=bs(d),S=p==ee?$S:p==me?S0:Wh;return S(d)}function nu(d){if(!d)return d===0?d:0;if(d=Za(d),d===W||d===-W){var p=d<0?-1:1;return p*U}return d===d?d:0}function kr(d){var p=nu(d),S=p%1;return p===p?S?p-S:p:0}function x2(d){return d?ud(kr(d),0,ae):0}function Za(d){if(typeof d=="number")return d;if(ba(d))return q;if(Un(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=Un(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=VE(d);var S=Zn.test(d);return S||Yu.test(d)?UH(d.slice(2),S?2:8):ss.test(d)?q:+d}function S2(d){return wl(d,Ys(d))}function N9(d){return d?ud(kr(d),-A,A):d===0?d:0}function nn(d){return d==null?"":ya(d)}var E9=Oh(function(d,p){if(tg(p)||js(p)){wl(p,qi(p),d);return}for(var S in p)on.call(p,S)&&qp(d,S,p[S])}),k2=Oh(function(d,p){wl(p,Ys(p),d)}),ib=Oh(function(d,p,S,N){wl(p,Ys(p),d,N)}),R9=Oh(function(d,p,S,N){wl(p,qi(p),d,N)}),D9=eu(GS);function I9(d,p){var S=Ah(d);return p==null?S:tR(S,p)}var L9=Br(function(d,p){d=mn(d);var S=-1,N=p.length,$=N>2?p[2]:r;for($&&Bs(p[0],p[1],$)&&(N=1);++S<N;)for(var Y=p[S],se=Ys(Y),pe=-1,we=se.length;++pe<we;){var Xe=se[pe],Ke=d[Xe];(Ke===r||Oo(Ke,Ih[Xe])&&!on.call(d,Xe))&&(d[Xe]=Y[Xe])}return d}),F9=Br(function(d){return d.push(r,VR),ga(C2,r,d)});function A9(d,p){return FE(d,tr(p,3),vl)}function O9(d,p){return FE(d,tr(p,3),YS)}function $9(d,p){return d==null?d:jS(d,tr(p,3),Ys)}function V9(d,p){return d==null?d:aR(d,tr(p,3),Ys)}function z9(d,p){return d&&vl(d,tr(p,3))}function W9(d,p){return d&&YS(d,tr(p,3))}function H9(d){return d==null?[]:$0(d,qi(d))}function U9(d){return d==null?[]:$0(d,Ys(d))}function _k(d,p,S){var N=d==null?r:cd(d,p);return N===r?S:N}function G9(d,p){return d!=null&&HR(d,p,p7)}function Tk(d,p){return d!=null&&HR(d,p,g7)}var j9=LR(function(d,p,S){p!=null&&typeof p.toString!="function"&&(p=T0.call(p)),d[p]=S},Bk(Xs)),Y9=LR(function(d,p,S){p!=null&&typeof p.toString!="function"&&(p=T0.call(p)),on.call(d,p)?d[p].push(S):d[p]=[S]},tr),X9=Br(Qp);function qi(d){return js(d)?ZE(d):QS(d)}function Ys(d){return js(d)?ZE(d,!0):_7(d)}function q9(d,p){var S={};return p=tr(p,3),vl(d,function(N,$,Y){Jl(S,p(N,$,Y),N)}),S}function K9(d,p){var S={};return p=tr(p,3),vl(d,function(N,$,Y){Jl(S,$,p(N,$,Y))}),S}var Q9=Oh(function(d,p,S){V0(d,p,S)}),C2=Oh(function(d,p,S,N){V0(d,p,S,N)}),J9=eu(function(d,p){var S={};if(d==null)return S;var N=!1;p=Fn(p,function(Y){return Y=tc(Y,d),N||(N=Y.length>1),Y}),wl(d,dk(d),S),N&&(S=Ka(S,h|f|g,j7));for(var $=p.length;$--;)nk(S,p[$]);return S});function Z9(d,p){return _2(d,tb(tr(p)))}var eY=eu(function(d,p){return d==null?{}:P7(d,p)});function _2(d,p){if(d==null)return{};var S=Fn(dk(d),function(N){return[N]});return p=tr(p),mR(d,S,function(N,$){return p(N,$[0])})}function tY(d,p,S){p=tc(p,d);var N=-1,$=p.length;for($||($=1,d=r);++N<$;){var Y=d==null?r:d[xl(p[N])];Y===r&&(N=$,Y=S),d=ru(Y)?Y.call(d):Y}return d}function rY(d,p,S){return d==null?d:Zp(d,p,S)}function nY(d,p,S,N){return N=typeof N=="function"?N:r,d==null?d:Zp(d,p,S,N)}var T2=OR(qi),P2=OR(Ys);function iY(d,p,S){var N=mr(d),$=N||nc(d)||zh(d);if(p=tr(p,4),S==null){var Y=d&&d.constructor;$?S=N?new Y:[]:Un(d)?S=ru(Y)?Ah(M0(d)):{}:S={}}return($?Ya:vl)(d,function(se,pe,we){return p(S,se,pe,we)}),S}function sY(d,p){return d==null?!0:nk(d,p)}function aY(d,p,S){return d==null?d:xR(d,p,ak(S))}function oY(d,p,S,N){return N=typeof N=="function"?N:r,d==null?d:xR(d,p,ak(S),N)}function Wh(d){return d==null?[]:OS(d,qi(d))}function lY(d){return d==null?[]:OS(d,Ys(d))}function uY(d,p,S){return S===r&&(S=p,p=r),S!==r&&(S=Za(S),S=S===S?S:0),p!==r&&(p=Za(p),p=p===p?p:0),ud(Za(d),p,S)}function cY(d,p,S){return p=nu(p),S===r?(S=p,p=0):S=nu(S),d=Za(d),m7(d,p,S)}function dY(d,p,S){if(S&&typeof S!="boolean"&&Bs(d,p,S)&&(p=S=r),S===r&&(typeof p=="boolean"?(S=p,p=r):typeof d=="boolean"&&(S=d,d=r)),d===r&&p===r?(d=0,p=1):(d=nu(d),p===r?(p=d,d=0):p=nu(p)),d>p){var N=d;d=p,p=N}if(S||d%1||p%1){var $=QE();return ys(d+$*(p-d+HH("1e-"+(($+"").length-1))),p)}return ek(d,p)}var hY=$h(function(d,p,S){return p=p.toLowerCase(),d+(S?B2(p):p)});function B2(d){return Pk(nn(d).toLowerCase())}function M2(d){return d=nn(d),d&&d.replace(ql,rU).replace(DH,"")}function fY(d,p,S){d=nn(d),p=ya(p);var N=d.length;S=S===r?N:ud(kr(S),0,N);var $=S;return S-=p.length,S>=0&&d.slice(S,$)==p}function pY(d){return d=nn(d),d&&xe.test(d)?d.replace(Pn,nU):d}function gY(d){return d=nn(d),d&&Zt.test(d)?d.replace(Ct,"\\$&"):d}var mY=$h(function(d,p,S){return d+(S?"-":"")+p.toLowerCase()}),yY=$h(function(d,p,S){return d+(S?" ":"")+p.toLowerCase()}),bY=RR("toLowerCase");function vY(d,p,S){d=nn(d),p=kr(p);var N=p?Rh(d):0;if(!p||N>=p)return d;var $=(p-N)/2;return j0(D0($),S)+d+j0(R0($),S)}function wY(d,p,S){d=nn(d),p=kr(p);var N=p?Rh(d):0;return p&&N<p?d+j0(p-N,S):d}function xY(d,p,S){d=nn(d),p=kr(p);var N=p?Rh(d):0;return p&&N<p?j0(p-N,S)+d:d}function SY(d,p,S){return S||p==null?p=0:p&&(p=+p),MU(nn(d).replace(Vr,""),p||0)}function kY(d,p,S){return(S?Bs(d,p,S):p===r)?p=1:p=kr(p),tk(nn(d),p)}function CY(){var d=arguments,p=nn(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var _Y=$h(function(d,p,S){return d+(S?"_":"")+p.toLowerCase()});function TY(d,p,S){return S&&typeof S!="number"&&Bs(d,p,S)&&(p=S=r),S=S===r?ae:S>>>0,S?(d=nn(d),d&&(typeof p=="string"||p!=null&&!Ck(p))&&(p=ya(p),!p&&Eh(d))?rc(Fo(d),0,S):d.split(p,S)):[]}var PY=$h(function(d,p,S){return d+(S?" ":"")+Pk(p)});function BY(d,p,S){return d=nn(d),S=S==null?0:ud(kr(S),0,d.length),p=ya(p),d.slice(S,S+p.length)==p}function MY(d,p,S){var N=G.templateSettings;S&&Bs(d,p,S)&&(p=r),d=nn(d),p=ib({},p,N,$R);var $=ib({},p.imports,N.imports,$R),Y=qi($),se=OS($,Y),pe,we,Xe=0,Ke=p.interpolate||Pr,et="__p += '",xt=VS((p.escape||Pr).source+"|"+Ke.source+"|"+(Ke===mt?wr:Pr).source+"|"+(p.evaluate||Pr).source+"|$","g"),Ft="//# sourceURL="+(on.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++OH+"]")+`
`;d.replace(xt,function(ir,Lr,Ur,va,Ms,wa){return Ur||(Ur=va),et+=d.slice(Xe,wa).replace(Yr,iU),Lr&&(pe=!0,et+=`' +
__e(`+Lr+`) +
'`),Ms&&(we=!0,et+=`';
`+Ms+`;
__p += '`),Ur&&(et+=`' +
((__t = (`+Ur+`)) == null ? '' : __t) +
'`),Xe=wa+ir.length,ir}),et+=`';
`;var nr=on.call(p,"variable")&&p.variable;if(!nr)et=`with (obj) {
`+et+`
}
`;else if(kn.test(nr))throw new dr(o);et=(we?et.replace(wt,""):et).replace(rr,"$1").replace(Rr,"$1;"),et="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var Tr=E2(function(){return en(Y,Ft+"return "+et).apply(r,se)});if(Tr.source=et,kk(Tr))throw Tr;return Tr}function NY(d){return nn(d).toLowerCase()}function EY(d){return nn(d).toUpperCase()}function RY(d,p,S){if(d=nn(d),d&&(S||p===r))return VE(d);if(!d||!(p=ya(p)))return d;var N=Fo(d),$=Fo(p),Y=zE(N,$),se=WE(N,$)+1;return rc(N,Y,se).join("")}function DY(d,p,S){if(d=nn(d),d&&(S||p===r))return d.slice(0,UE(d)+1);if(!d||!(p=ya(p)))return d;var N=Fo(d),$=WE(N,Fo(p))+1;return rc(N,0,$).join("")}function IY(d,p,S){if(d=nn(d),d&&(S||p===r))return d.replace(Vr,"");if(!d||!(p=ya(p)))return d;var N=Fo(d),$=zE(N,Fo(p));return rc(N,$).join("")}function LY(d,p){var S=L,N=F;if(Un(p)){var $="separator"in p?p.separator:$;S="length"in p?kr(p.length):S,N="omission"in p?ya(p.omission):N}d=nn(d);var Y=d.length;if(Eh(d)){var se=Fo(d);Y=se.length}if(S>=Y)return d;var pe=S-Rh(N);if(pe<1)return N;var we=se?rc(se,0,pe).join(""):d.slice(0,pe);if($===r)return we+N;if(se&&(pe+=we.length-pe),Ck($)){if(d.slice(pe).search($)){var Xe,Ke=we;for($.global||($=VS($.source,nn(xr.exec($))+"g")),$.lastIndex=0;Xe=$.exec(Ke);)var et=Xe.index;we=we.slice(0,et===r?pe:et)}}else if(d.indexOf(ya($),pe)!=pe){var xt=we.lastIndexOf($);xt>-1&&(we=we.slice(0,xt))}return we+N}function FY(d){return d=nn(d),d&&ye.test(d)?d.replace(_r,dU):d}var AY=$h(function(d,p,S){return d+(S?" ":"")+p.toUpperCase()}),Pk=RR("toUpperCase");function N2(d,p,S){return d=nn(d),p=S?r:p,p===r?aU(d)?pU(d):QH(d):d.match(p)||[]}var E2=Br(function(d,p){try{return ga(d,r,p)}catch(S){return kk(S)?S:new dr(S)}}),OY=eu(function(d,p){return Ya(p,function(S){S=xl(S),Jl(d,S,xk(d[S],d))}),d});function $Y(d){var p=d==null?0:d.length,S=tr();return d=p?Fn(d,function(N){if(typeof N[1]!="function")throw new Xa(a);return[S(N[0]),N[1]]}):[],Br(function(N){for(var $=-1;++$<p;){var Y=d[$];if(ga(Y[0],this,N))return ga(Y[1],this,N)}})}function VY(d){return d7(Ka(d,h))}function Bk(d){return function(){return d}}function zY(d,p){return d==null||d!==d?p:d}var WY=IR(),HY=IR(!0);function Xs(d){return d}function Mk(d){return cR(typeof d=="function"?d:Ka(d,h))}function UY(d){return hR(Ka(d,h))}function GY(d,p){return fR(d,Ka(p,h))}var jY=Br(function(d,p){return function(S){return Qp(S,d,p)}}),YY=Br(function(d,p){return function(S){return Qp(d,S,p)}});function Nk(d,p,S){var N=qi(p),$=$0(p,N);S==null&&!(Un(p)&&($.length||!N.length))&&(S=p,p=d,d=this,$=$0(p,qi(p)));var Y=!(Un(S)&&"chain"in S)||!!S.chain,se=ru(d);return Ya($,function(pe){var we=p[pe];d[pe]=we,se&&(d.prototype[pe]=function(){var Xe=this.__chain__;if(Y||Xe){var Ke=d(this.__wrapped__),et=Ke.__actions__=Gs(this.__actions__);return et.push({func:we,args:arguments,thisArg:d}),Ke.__chain__=Xe,Ke}return we.apply(d,Ku([this.value()],arguments))})}),d}function XY(){return as._===this&&(as._=wU),this}function Ek(){}function qY(d){return d=kr(d),Br(function(p){return pR(p,d)})}var KY=lk(Fn),QY=lk(LE),JY=lk(DS);function R2(d){return gk(d)?IS(xl(d)):B7(d)}function ZY(d){return function(p){return d==null?r:cd(d,p)}}var eX=FR(),tX=FR(!0);function Rk(){return[]}function Dk(){return!1}function rX(){return{}}function nX(){return""}function iX(){return!0}function sX(d,p){if(d=kr(d),d<1||d>A)return[];var S=ae,N=ys(d,ae);p=tr(p),d-=ae;for(var $=AS(N,p);++S<d;)p(S);return $}function aX(d){return mr(d)?Fn(d,xl):ba(d)?[d]:Gs(JR(nn(d)))}function oX(d){var p=++bU;return nn(d)+p}var lX=G0(function(d,p){return d+p},0),uX=uk("ceil"),cX=G0(function(d,p){return d/p},1),dX=uk("floor");function hX(d){return d&&d.length?O0(d,Xs,XS):r}function fX(d,p){return d&&d.length?O0(d,tr(p,2),XS):r}function pX(d){return OE(d,Xs)}function gX(d,p){return OE(d,tr(p,2))}function mX(d){return d&&d.length?O0(d,Xs,JS):r}function yX(d,p){return d&&d.length?O0(d,tr(p,2),JS):r}var bX=G0(function(d,p){return d*p},1),vX=uk("round"),wX=G0(function(d,p){return d-p},0);function xX(d){return d&&d.length?FS(d,Xs):0}function SX(d,p){return d&&d.length?FS(d,tr(p,2)):0}return G.after=Uj,G.ary=u2,G.assign=E9,G.assignIn=k2,G.assignInWith=ib,G.assignWith=R9,G.at=D9,G.before=c2,G.bind=xk,G.bindAll=OY,G.bindKey=d2,G.castArray=r9,G.chain=a2,G.chunk=dG,G.compact=hG,G.concat=fG,G.cond=$Y,G.conforms=VY,G.constant=Bk,G.countBy=xj,G.create=I9,G.curry=h2,G.curryRight=f2,G.debounce=p2,G.defaults=L9,G.defaultsDeep=F9,G.defer=Gj,G.delay=jj,G.difference=pG,G.differenceBy=gG,G.differenceWith=mG,G.drop=yG,G.dropRight=bG,G.dropRightWhile=vG,G.dropWhile=wG,G.fill=xG,G.filter=kj,G.flatMap=Tj,G.flatMapDeep=Pj,G.flatMapDepth=Bj,G.flatten=r2,G.flattenDeep=SG,G.flattenDepth=kG,G.flip=Yj,G.flow=WY,G.flowRight=HY,G.fromPairs=CG,G.functions=H9,G.functionsIn=U9,G.groupBy=Mj,G.initial=TG,G.intersection=PG,G.intersectionBy=BG,G.intersectionWith=MG,G.invert=j9,G.invertBy=Y9,G.invokeMap=Ej,G.iteratee=Mk,G.keyBy=Rj,G.keys=qi,G.keysIn=Ys,G.map=J0,G.mapKeys=q9,G.mapValues=K9,G.matches=UY,G.matchesProperty=GY,G.memoize=eb,G.merge=Q9,G.mergeWith=C2,G.method=jY,G.methodOf=YY,G.mixin=Nk,G.negate=tb,G.nthArg=qY,G.omit=J9,G.omitBy=Z9,G.once=Xj,G.orderBy=Dj,G.over=KY,G.overArgs=qj,G.overEvery=QY,G.overSome=JY,G.partial=Sk,G.partialRight=g2,G.partition=Ij,G.pick=eY,G.pickBy=_2,G.property=R2,G.propertyOf=ZY,G.pull=DG,G.pullAll=i2,G.pullAllBy=IG,G.pullAllWith=LG,G.pullAt=FG,G.range=eX,G.rangeRight=tX,G.rearg=Kj,G.reject=Aj,G.remove=AG,G.rest=Qj,G.reverse=vk,G.sampleSize=$j,G.set=rY,G.setWith=nY,G.shuffle=Vj,G.slice=OG,G.sortBy=Hj,G.sortedUniq=GG,G.sortedUniqBy=jG,G.split=TY,G.spread=Jj,G.tail=YG,G.take=XG,G.takeRight=qG,G.takeRightWhile=KG,G.takeWhile=QG,G.tap=hj,G.throttle=Zj,G.thru=Q0,G.toArray=w2,G.toPairs=T2,G.toPairsIn=P2,G.toPath=aX,G.toPlainObject=S2,G.transform=iY,G.unary=e9,G.union=JG,G.unionBy=ZG,G.unionWith=ej,G.uniq=tj,G.uniqBy=rj,G.uniqWith=nj,G.unset=sY,G.unzip=wk,G.unzipWith=s2,G.update=aY,G.updateWith=oY,G.values=Wh,G.valuesIn=lY,G.without=ij,G.words=N2,G.wrap=t9,G.xor=sj,G.xorBy=aj,G.xorWith=oj,G.zip=lj,G.zipObject=uj,G.zipObjectDeep=cj,G.zipWith=dj,G.entries=T2,G.entriesIn=P2,G.extend=k2,G.extendWith=ib,Nk(G,G),G.add=lX,G.attempt=E2,G.camelCase=hY,G.capitalize=B2,G.ceil=uX,G.clamp=uY,G.clone=n9,G.cloneDeep=s9,G.cloneDeepWith=a9,G.cloneWith=i9,G.conformsTo=o9,G.deburr=M2,G.defaultTo=zY,G.divide=cX,G.endsWith=fY,G.eq=Oo,G.escape=pY,G.escapeRegExp=gY,G.every=Sj,G.find=Cj,G.findIndex=e2,G.findKey=A9,G.findLast=_j,G.findLastIndex=t2,G.findLastKey=O9,G.floor=dX,G.forEach=o2,G.forEachRight=l2,G.forIn=$9,G.forInRight=V9,G.forOwn=z9,G.forOwnRight=W9,G.get=_k,G.gt=l9,G.gte=u9,G.has=G9,G.hasIn=Tk,G.head=n2,G.identity=Xs,G.includes=Nj,G.indexOf=_G,G.inRange=cY,G.invoke=X9,G.isArguments=fd,G.isArray=mr,G.isArrayBuffer=c9,G.isArrayLike=js,G.isArrayLikeObject=yi,G.isBoolean=d9,G.isBuffer=nc,G.isDate=h9,G.isElement=f9,G.isEmpty=p9,G.isEqual=g9,G.isEqualWith=m9,G.isError=kk,G.isFinite=y9,G.isFunction=ru,G.isInteger=m2,G.isLength=rb,G.isMap=y2,G.isMatch=b9,G.isMatchWith=v9,G.isNaN=w9,G.isNative=x9,G.isNil=k9,G.isNull=S9,G.isNumber=b2,G.isObject=Un,G.isObjectLike=ei,G.isPlainObject=ng,G.isRegExp=Ck,G.isSafeInteger=C9,G.isSet=v2,G.isString=nb,G.isSymbol=ba,G.isTypedArray=zh,G.isUndefined=_9,G.isWeakMap=T9,G.isWeakSet=P9,G.join=NG,G.kebabCase=mY,G.last=Ja,G.lastIndexOf=EG,G.lowerCase=yY,G.lowerFirst=bY,G.lt=B9,G.lte=M9,G.max=hX,G.maxBy=fX,G.mean=pX,G.meanBy=gX,G.min=mX,G.minBy=yX,G.stubArray=Rk,G.stubFalse=Dk,G.stubObject=rX,G.stubString=nX,G.stubTrue=iX,G.multiply=bX,G.nth=RG,G.noConflict=XY,G.noop=Ek,G.now=Z0,G.pad=vY,G.padEnd=wY,G.padStart=xY,G.parseInt=SY,G.random=dY,G.reduce=Lj,G.reduceRight=Fj,G.repeat=kY,G.replace=CY,G.result=tY,G.round=vX,G.runInContext=ve,G.sample=Oj,G.size=zj,G.snakeCase=_Y,G.some=Wj,G.sortedIndex=$G,G.sortedIndexBy=VG,G.sortedIndexOf=zG,G.sortedLastIndex=WG,G.sortedLastIndexBy=HG,G.sortedLastIndexOf=UG,G.startCase=PY,G.startsWith=BY,G.subtract=wX,G.sum=xX,G.sumBy=SX,G.template=MY,G.times=sX,G.toFinite=nu,G.toInteger=kr,G.toLength=x2,G.toLower=NY,G.toNumber=Za,G.toSafeInteger=N9,G.toString=nn,G.toUpper=EY,G.trim=RY,G.trimEnd=DY,G.trimStart=IY,G.truncate=LY,G.unescape=FY,G.uniqueId=oX,G.upperCase=AY,G.upperFirst=Pk,G.each=o2,G.eachRight=l2,G.first=n2,Nk(G,function(){var d={};return vl(G,function(p,S){on.call(G.prototype,S)||(d[S]=p)}),d}(),{chain:!1}),G.VERSION=n,Ya(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){G[d].placeholder=G}),Ya(["drop","take"],function(d,p){zr.prototype[d]=function(S){S=S===r?1:$i(kr(S),0);var N=this.__filtered__&&!p?new zr(this):this.clone();return N.__filtered__?N.__takeCount__=ys(S,N.__takeCount__):N.__views__.push({size:ys(S,ae),type:d+(N.__dir__<0?"Right":"")}),N},zr.prototype[d+"Right"]=function(S){return this.reverse()[d](S).reverse()}}),Ya(["filter","map","takeWhile"],function(d,p){var S=p+1,N=S==O||S==H;zr.prototype[d]=function($){var Y=this.clone();return Y.__iteratees__.push({iteratee:tr($,3),type:S}),Y.__filtered__=Y.__filtered__||N,Y}}),Ya(["head","last"],function(d,p){var S="take"+(p?"Right":"");zr.prototype[d]=function(){return this[S](1).value()[0]}}),Ya(["initial","tail"],function(d,p){var S="drop"+(p?"":"Right");zr.prototype[d]=function(){return this.__filtered__?new zr(this):this[S](1)}}),zr.prototype.compact=function(){return this.filter(Xs)},zr.prototype.find=function(d){return this.filter(d).head()},zr.prototype.findLast=function(d){return this.reverse().find(d)},zr.prototype.invokeMap=Br(function(d,p){return typeof d=="function"?new zr(this):this.map(function(S){return Qp(S,d,p)})}),zr.prototype.reject=function(d){return this.filter(tb(tr(d)))},zr.prototype.slice=function(d,p){d=kr(d);var S=this;return S.__filtered__&&(d>0||p<0)?new zr(S):(d<0?S=S.takeRight(-d):d&&(S=S.drop(d)),p!==r&&(p=kr(p),S=p<0?S.dropRight(-p):S.take(p-d)),S)},zr.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},zr.prototype.toArray=function(){return this.take(ae)},vl(zr.prototype,function(d,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),N=/^(?:head|last)$/.test(p),$=G[N?"take"+(p=="last"?"Right":""):p],Y=N||/^find/.test(p);$&&(G.prototype[p]=function(){var se=this.__wrapped__,pe=N?[1]:arguments,we=se instanceof zr,Xe=pe[0],Ke=we||mr(se),et=function(Lr){var Ur=$.apply(G,Ku([Lr],pe));return N&&xt?Ur[0]:Ur};Ke&&S&&typeof Xe=="function"&&Xe.length!=1&&(we=Ke=!1);var xt=this.__chain__,Ft=!!this.__actions__.length,nr=Y&&!xt,Tr=we&&!Ft;if(!Y&&Ke){se=Tr?se:new zr(this);var ir=d.apply(se,pe);return ir.__actions__.push({func:Q0,args:[et],thisArg:r}),new qa(ir,xt)}return nr&&Tr?d.apply(this,pe):(ir=this.thru(et),nr?N?ir.value()[0]:ir.value():ir)})}),Ya(["pop","push","shift","sort","splice","unshift"],function(d){var p=k0[d],S=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",N=/^(?:pop|shift)$/.test(d);G.prototype[d]=function(){var $=arguments;if(N&&!this.__chain__){var Y=this.value();return p.apply(mr(Y)?Y:[],$)}return this[S](function(se){return p.apply(mr(se)?se:[],$)})}}),vl(zr.prototype,function(d,p){var S=G[p];if(S){var N=S.name+"";on.call(Fh,N)||(Fh[N]=[]),Fh[N].push({name:p,func:S})}}),Fh[U0(r,x).name]=[{name:"wrapper",func:r}],zr.prototype.clone=FU,zr.prototype.reverse=AU,zr.prototype.value=OU,G.prototype.at=fj,G.prototype.chain=pj,G.prototype.commit=gj,G.prototype.next=mj,G.prototype.plant=bj,G.prototype.reverse=vj,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=wj,G.prototype.first=G.prototype.head,Up&&(G.prototype[Up]=yj),G},Dh=gU();sd?((sd.exports=Dh)._=Dh,MS._=Dh):as._=Dh}).call(ks)}(Kg,Kg.exports)),Kg.exports}(function(t,e){(function(n,i){t.exports=i(C,TEe(),a4)})(ks,function(r,n,i){return function(){var s={"./src/Xarrow/utils/buzzier.js":function(u,c,h){h.r(c),h.d(c,{bzFunction:function(){return f},buzzierMinSols:function(){return g}});var f=function(y,b,x,v){return function(w){return Math.pow(1-w,3)*y+3*Math.pow(1-w,2)*w*b+3*(1-w)*Math.pow(w,2)*x+Math.pow(w,3)*v}},g=function(y,b,x,v){var w=f(y,b,x,v),P=-6*y+12*b-6*x,T=Math.pow(-6*y+12*b-6*x,2)-4*(3*b-3*y)*(-3*y+9*b-9*x+3*v),_=2*(-3*y+9*b-9*x+3*v),M=w((P+Math.sqrt(T))/_),E=w((P-Math.sqrt(T))/_);return[M,E]}},"./src/Xarrow/Xarrow.tsx":function(u,c,h){var f=this&&this.__assign||function(){return f=Object.assign||function(E){for(var D,L=1,F=arguments.length;L<F;L++){D=arguments[L];for(var z in D)Object.prototype.hasOwnProperty.call(D,z)&&(E[z]=D[z])}return E},f.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(E,D,L,F){F===void 0&&(F=L),Object.defineProperty(E,F,{enumerable:!0,get:function(){return D[L]}})}:function(E,D,L,F){F===void 0&&(F=L),E[F]=D[L]}),m=this&&this.__setModuleDefault||(Object.create?function(E,D){Object.defineProperty(E,"default",{enumerable:!0,value:D})}:function(E,D){E.default=D}),y=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var D={};if(E!=null)for(var L in E)L!=="default"&&Object.prototype.hasOwnProperty.call(E,L)&&g(D,E,L);return m(D,E),D},b=this&&this.__spreadArray||function(E,D){for(var L=0,F=D.length,z=E.length;L<F;L++,z++)E[z]=D[L];return E},x=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(c,"__esModule",{value:!0});var v=y(h("react")),w=x(h("./src/Xarrow/useXarrowProps.ts")),P=h("./src/Xwrapper.tsx"),T=x(h("./src/Xarrow/propTypes.ts")),_=h("./src/Xarrow/utils/GetPosition.tsx"),M=function(E){var D,L=v.useRef({svgRef:v.useRef(null),lineRef:v.useRef(null),headRef:v.useRef(null),tailRef:v.useRef(null),lineDrawAnimRef:v.useRef(null),lineDashAnimRef:v.useRef(null),headOpacityAnimRef:v.useRef(null)}),F=L.current,z=F.svgRef,V=F.lineRef,O=F.headRef;F.tailRef;var I=F.lineDrawAnimRef,H=F.lineDashAnimRef,W=F.headOpacityAnimRef;v.useContext(P.XarrowContext);var A=w.default(E,L.current),U=A[0],q=U.labels,ae=U.lineColor,ne=U.headColor,ge=U.tailColor,fe=U.strokeWidth,J=U.showHead,ce=U.showTail,Se=U.dashness,K=U.headShape,Z=U.tailShape,ue=U.showXarrow,de=U.animateDrawing,re=U.zIndex,Q=U.passProps,ee=U.arrowBodyProps,oe=U.arrowHeadProps,Me=U.arrowTailProps,ke=U.SVGcanvasProps,j=U.divContainerProps,ie=U.divContainerStyle,te=U.SVGcanvasStyle,me=U._debug,Be=U.shouldUpdatePosition;de=E.animateDrawing;var Te=v.useState(!de),Ge=Te[0],ot=Te[1],Dt=v.useState({}),At=Dt[1],De=function(){return At({})},Ce=v.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),Ne=Ce[0],at=Ce[1];v.useLayoutEffect(function(){if(Be.current){var ye=_.getPosition(A,L);at(ye),Be.current=!1}});var ft=Ne.x2-Ne.arrowHeadOffset.x,Ze=Ne.y2-Ne.arrowHeadOffset.y,Et=Ne.x1-Ne.arrowTailOffset.x,qe=Ne.y1-Ne.arrowTailOffset.y,Ye=Se.strokeLen+Se.nonStrokeLen,St=1;Se.animation<0&&(Se.animation*=-1,St=-1);var wt,rr,Rr,_r,Pn=0;return de&&Ge==!1?(typeof de=="boolean"&&(de=1),rr=de+"s",wt=Ne.lineLength,_r=Ne.lineLength,Rr=1,de<0&&(D=[Pn,_r],_r=D[0],Pn=D[1],rr=de*-1+"s")):(wt=Se.strokeLen+" "+Se.nonStrokeLen,rr=1/Se.animation+"s",_r=Ye*St,Rr="indefinite",Pn=0),v.useLayoutEffect(function(){V.current&&at(function(ye){var xe,$e;return f(f({},ye),{lineLength:($e=(xe=V.current)===null||xe===void 0?void 0:xe.getTotalLength())!==null&&$e!==void 0?$e:0})})},[V.current]),v.useEffect(function(){var ye=function(){window.addEventListener("resize",De);var $e=function(){var mt,Ot;ot(!0),(mt=W.current)===null||mt===void 0||mt.beginElement(),(Ot=H.current)===null||Ot===void 0||Ot.beginElement()},rt=function(){return O.current.style.opacity="0"};return I.current&&O.current&&(I.current.addEventListener("endEvent",$e),I.current.addEventListener("beginEvent",rt)),function(){window.removeEventListener("resize",De),I.current&&(I.current.removeEventListener("endEvent",$e),O.current&&I.current.removeEventListener("beginEvent",rt))}},xe=ye();return function(){ot(!1),xe()}},[ue]),v.default.createElement("div",f({},j,{style:f({position:"absolute",zIndex:re},ie)}),ue?v.default.createElement(v.default.Fragment,null,v.default.createElement("svg",f({ref:z,width:Ne.cw,height:Ne.ch,style:f({position:"absolute",left:Ne.cx0,top:Ne.cy0,pointerEvents:"none",border:me?"1px dashed yellow":null},te),overflow:"auto"},ke),v.default.createElement("path",f({ref:V,d:Ne.arrowPath,stroke:ae,strokeDasharray:wt,strokeWidth:fe,fill:"transparent",pointerEvents:"visibleStroke"},Q,ee),v.default.createElement(v.default.Fragment,null,Ge?v.default.createElement(v.default.Fragment,null,Se.animation?v.default.createElement("animate",{ref:H,attributeName:"stroke-dashoffset",values:Ye*St+";0",dur:1/Se.animation+"s",repeatCount:"indefinite"}):null):v.default.createElement(v.default.Fragment,null,de?v.default.createElement("animate",{ref:I,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:_r+";"+Pn,dur:rr,repeatCount:Rr}):null))),ce?v.default.createElement("g",f({fill:ge,pointerEvents:"auto",transform:"translate("+Et+","+qe+") rotate("+Ne.tailOrient+") scale("+Ne.fTailSize+")"},Q,Me),Z.svgElem):null,J?v.default.createElement("g",f({ref:O,fill:ne,pointerEvents:"auto",transform:"translate("+ft+","+Ze+") rotate("+Ne.headOrient+") scale("+Ne.fHeadSize+")",opacity:de&&!Ge?0:1},Q,oe),v.default.createElement("animate",{ref:W,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),K.svgElem):null,me?v.default.createElement(v.default.Fragment,null,v.default.createElement("circle",{r:"5",cx:Ne.cpx1,cy:Ne.cpy1,fill:"green"}),v.default.createElement("circle",{r:"5",cx:Ne.cpx2,cy:Ne.cpy2,fill:"blue"}),v.default.createElement("rect",{x:Ne.excLeft,y:Ne.excUp,width:Ne.absDx,height:Ne.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),q.start?v.default.createElement("div",{style:{transform:Ne.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Ne.cx0+Ne.labelStartPos.x,top:Ne.cy0+Ne.labelStartPos.y-fe-5}},q.start):null,q.middle?v.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:Ne.cx0+Ne.labelMiddlePos.x,top:Ne.cy0+Ne.labelMiddlePos.y}},q.middle):null,q.end?v.default.createElement("div",{style:{transform:Ne.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Ne.cx0+Ne.labelEndPos.x,top:Ne.cy0+Ne.labelEndPos.y+fe+5}},q.end):null,me?v.default.createElement(v.default.Fragment,null,b(b([],Ne.startPoints),Ne.endPoints).map(function(ye,xe){return v.default.createElement("div",{key:xe,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:ye.x-Ne.mainDivPos.x,top:ye.y-Ne.mainDivPos.y}})})):null):null)};M.propTypes=T.default,c.default=M},"./src/Xarrow/anchors.ts":function(u,c,h){u=h.nmd(u),Object.defineProperty(c,"__esModule",{value:!0}),c.calcAnchors=void 0;var f=function(m,y){return{middle:{x:m*.5,y:y*.5},left:{x:0,y:y*.5},right:{x:m,y:y*.5},top:{x:m*.5,y:0},bottom:{x:m*.5,y}}},g=function(m,y){return m.map(function(b){var x=f(y.right-y.x,y.bottom-y.y),v=x[b.position],w=v.x,P=v.y;return{x:y.x+w+b.offset.x,y:y.y+P+b.offset.y,anchor:b}})};c.calcAnchors=g,h.c[h.s]},"./src/Xarrow/propTypes.ts":function(u,c,h){var f=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(c,"__esModule",{value:!0});var g=f(h("prop-types")),m=h("./src/constants.tsx"),y=g.default.oneOf(m.cAnchorEdge),b=g.default.exact({position:y.isRequired,offset:g.default.exact({x:g.default.number,y:g.default.number}).isRequired}),x=g.default.oneOfType([y,b]),v=g.default.oneOfType([x,g.default.arrayOf(x)]),w=g.default.oneOfType([g.default.string,g.default.exact({current:g.default.any})]),P=g.default.oneOfType([g.default.element,g.default.string]),T=g.default.exact({start:P,middle:P,end:P}),_=g.default.oneOf(Object.keys(m.arrowShapes)),M=g.default.any,E=g.default.oneOfType([_,g.default.exact({svgElem:M,offsetForward:g.default.number}).isRequired]),D={start:w.isRequired,end:w.isRequired,startAnchor:v,endAnchor:v,labels:g.default.oneOfType([P,T]),color:g.default.string,lineColor:g.default.string,showHead:g.default.bool,headColor:g.default.string,headSize:g.default.number,tailSize:g.default.number,tailColor:g.default.string,strokeWidth:g.default.number,showTail:g.default.bool,path:g.default.oneOf(m.cPaths),showXarrow:g.default.bool,curveness:g.default.number,gridBreak:g.default.string,dashness:g.default.oneOfType([g.default.bool,g.default.object]),headShape:E,tailShape:E,animateDrawing:g.default.oneOfType([g.default.bool,g.default.number]),zIndex:g.default.number,passProps:g.default.object,arrowBodyProps:g.default.object,arrowHeadProps:g.default.object,arrowTailProps:g.default.object,SVGcanvasProps:g.default.object,divContainerProps:g.default.object,_extendSVGcanvas:g.default.number,_debug:g.default.bool,_cpx1Offset:g.default.number,_cpy1Offset:g.default.number,_cpx2Offset:g.default.number,_cpy2Offset:g.default.number};c.default=D},"./src/Xarrow/useXarrowProps.ts":function(u,c,h){var f=this&&this.__assign||function(){return f=Object.assign||function(K){for(var Z,ue=1,de=arguments.length;ue<de;ue++){Z=arguments[ue];for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&(K[re]=Z[re])}return K},f.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(K,Z,ue,de){de===void 0&&(de=ue),Object.defineProperty(K,de,{enumerable:!0,get:function(){return Z[ue]}})}:function(K,Z,ue,de){de===void 0&&(de=ue),K[de]=Z[ue]}),m=this&&this.__setModuleDefault||(Object.create?function(K,Z){Object.defineProperty(K,"default",{enumerable:!0,value:Z})}:function(K,Z){K.default=Z}),y=this&&this.__importStar||function(K){if(K&&K.__esModule)return K;var Z={};if(K!=null)for(var ue in K)ue!=="default"&&Object.prototype.hasOwnProperty.call(K,ue)&&g(Z,K,ue);return m(Z,K),Z},b=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(c,"__esModule",{value:!0});var x=y(h("react")),v=h("./src/Xarrow/utils/index.ts"),w=b(h("lodash")),P=h("./src/constants.tsx"),T=function(K){var Z={start:null,middle:null,end:null};if(K)if(typeof K=="string"||x.default.isValidElement(K))Z.middle=K;else for(var ue in K)Z[ue]=K[ue];return Z},_=function(K){var Z=Array.isArray(K)?K:[K],ue=Z.map(function(Q){return typeof Q=="string"?{position:Q}:Q});ue=ue.filter(function(Q){return P.cAnchorEdge.includes(Q.position)}),ue.length==0&&(ue=[{position:"auto"}]);var de=ue.filter(function(Q){return Q.position==="auto"});de.length>0&&(ue=ue.filter(function(Q){return Q.position!=="auto"}),ue.push.apply(ue,de.flatMap(function(Q){return["left","right","top","bottom"].map(function(ee){return f(f({},Q),{position:ee})})})));var re=ue.map(function(Q){if(typeof Q=="object"){var ee=Q;return ee.position||(ee.position="auto"),ee.offset||(ee.offset={x:0,y:0}),ee.offset.y||(ee.offset.y=0),ee.offset.x||(ee.offset.x=0),ee=ee,ee}else return Q});return re},M=function(K,Z){var ue=0,de=0,re,Q=1;return typeof K=="object"?(ue=K.strokeLen||Z.strokeWidth*2,de=K.strokeLen?K.nonStrokeLen:Z.strokeWidth,re=K.animation?K.animation:null):typeof K=="boolean"&&K&&(ue=Z.strokeWidth*2,de=Z.strokeWidth,re=null),{strokeLen:ue,nonStrokeLen:de,animation:re,animDirection:Q}},E=function(K){return typeof K=="string"&&(K in P.arrowShapes?K=P.arrowShapes[K]:(console.warn("'"+K+"' is not supported arrow shape. the supported arrow shapes is one of "+P.cArrowShapes+`.
           reverting to default shape.`),K=P.arrowShapes.arrow1)),K=K,(K==null?void 0:K.offsetForward)===void 0&&(K.offsetForward=.25),(K==null?void 0:K.svgElem)===void 0&&(K.svgElem="path"),K},D=function(K){var Z=v.xStr2absRelative(K);return Z||(Z={relative:.5,abs:0}),Z},L=function(K,Z){return Z&&(Z.current=!0),K},F=function(K){return K},z=function(K,Z,ue){return L(K,ue)},V=function(K,Z,ue){return L(Number(K),ue)},O=function(K){return Number(K)},I={start:function(K){return v.getElementByPropGiven(K)},end:function(K){return v.getElementByPropGiven(K)},startAnchor:function(K,Z,ue){return L(_(K),ue)},endAnchor:function(K,Z,ue){return L(_(K),ue)},labels:function(K){return T(K)},color:F,lineColor:function(K,Z){return K||Z.color},headColor:function(K,Z){return K||Z.color},tailColor:function(K,Z){return K||Z.color},strokeWidth:V,showHead:z,headSize:V,showTail:z,tailSize:V,path:z,curveness:V,gridBreak:function(K,Z,ue){return L(D(K),ue)},dashness:function(K,Z){return M(K,Z)},headShape:function(K){return E(K)},tailShape:function(K){return E(K)},showXarrow:F,animateDrawing:F,zIndex:O,passProps:F,arrowBodyProps:z,arrowHeadProps:z,arrowTailProps:z,SVGcanvasProps:z,divContainerProps:z,divContainerStyle:z,SVGcanvasStyle:z,_extendSVGcanvas:z,_debug:z,_cpx1Offset:z,_cpy1Offset:z,_cpx2Offset:z,_cpy2Offset:z},H={};for(var W in I)H[W]=[W];for(var A=0,U=["lineColor","headColor","tailColor"];A<U.length;A++){var W=U[A];H[W].push("color")}var q=function(K,Z){for(var ue,de=0,re=Object.entries(K);de<re.length;de++){var Q=re[de],ee=Q[0],oe=Q[1];Z[ee]=(ue=I==null?void 0:I[ee])===null||ue===void 0?void 0:ue.call(I,oe,Z)}return Z},ae={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},ne={};ne=q(ae,ne);var ge={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function fe(K,Z){return w.default.isEqual(K,Z)}function J(K){var Z=x.useRef();return fe(K,Z.current)||(Z.current=K),Z.current}function ce(K,Z){x.useLayoutEffect(K,Z.map(J))}var Se=function(K,Z){var ue=x.useState(ne),de=ue[0],re=ue[1],Q=x.useRef(!1);de.shouldUpdatePosition=Q;var ee=f(f({},ae),K),oe=function(Be){x.useLayoutEffect(function(){var Te;de[Be]=(Te=I==null?void 0:I[Be])===null||Te===void 0?void 0:Te.call(I,ee[Be],de,Q),re(f({},de))},H[Be].map(function(Te){return K[Te]}))};for(var Me in ae)oe(Me);var ke=x.useState(ge),j=ke[0],ie=ke[1],te=v.getElemPos(de.start);ce(function(){j.startPos=te,Q.current=!0,ie(f({},j))},[te]);var me=v.getElemPos(de.end);return ce(function(){j.endPos=me,Q.current=!0,ie(f({},j))},[me]),x.useLayoutEffect(function(){Q.current=!0,ie(f({},j))},[de.headShape.svgElem,de.tailShape.svgElem]),[de,j]};c.default=Se},"./src/Xarrow/utils/GetPosition.tsx":function(u,c,h){var f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0}),c.getPosition=void 0;var g=h("./src/Xarrow/anchors.ts"),m=h("./src/Xarrow/utils/index.ts"),y=f(h("lodash")),b=h("./src/constants.tsx"),x=h("./src/Xarrow/utils/buzzier.js"),v=function(w,P){var T,_,M,E,D=w[0],L=w[1],F=D.startAnchor,z=D.endAnchor,V=D.strokeWidth,O=D.showHead,I=D.headSize,H=D.showTail,W=D.tailSize,A=D.path,U=D.curveness,q=D.gridBreak,ae=D.headShape,ne=D.tailShape,ge=D._extendSVGcanvas,fe=D._cpx1Offset,J=D._cpy1Offset,ce=D._cpx2Offset,Se=D._cpy2Offset,K=L.startPos,Z=L.endPos,ue=P.current,de=ue.svgRef,re=ue.lineRef,Q=0,ee=0,oe=g.calcAnchors(F,K),Me=g.calcAnchors(z,Z),ke=m.getShortestLine(oe,Me),j=ke.chosenStart,ie=ke.chosenEnd,te=j.anchor.position,me=ie.anchor.position,Be=y.default.pick(j,["x","y"]),Te=y.default.pick(ie,["x","y"]),Ge=m.getSvgPos(de),ot=Math.min(Be.x,Te.x)-Ge.x,Dt=Math.min(Be.y,Te.y)-Ge.y,At=Te.x-Be.x,De=Te.y-Be.y,Ce=Math.abs(Te.x-Be.x),Ne=Math.abs(Te.y-Be.y),at=At>0?1:-1,ft=De>0?1:-1,Ze=[ae.offsetForward,ne.offsetForward],Et=Ze[0],qe=Ze[1],Ye=I*V,St=W*V,wt=0,rr=0,Rr=0,_r=0,Pn=Ye*Et,ye=St*qe,xe=Number(U);b.cPaths.includes(A)||(A="smooth"),A==="straight"&&(xe=0,A="smooth");var $e=I>W?I:W,rt=V+V*$e/2,mt=rt,Ot=rt,It=rt,$t=rt;Ot+=Number(ge),mt+=Number(ge),It+=Number(ge),$t+=Number(ge);var Ct=0,Zt=Ce,Vr=0,Wt=Ne;if(At<0&&(T=[Zt,Ct],Ct=T[0],Zt=T[1]),De<0&&(_=[Wt,Vr],Vr=_[0],Wt=_[1]),xe===0){var Sr=Math.atan(Ne/Ce);O&&(Zt-=Ye*(1-Et)*at*Math.cos(Sr),Wt-=Ye*(1-Et)*ft*Math.sin(Sr),Sr*=ft,at<0&&(Sr=(Math.PI-Sr*at)*at),wt=Math.cos(Sr)*Pn-Math.sin(Sr)*Ye/2,rr=Math.cos(Sr)*Ye/2+Math.sin(Sr)*Pn,Q=Sr*180/Math.PI);var jr=Math.atan(Ne/Ce);H&&(Ct+=St*(1-qe)*at*Math.cos(jr),Vr+=St*(1-qe)*ft*Math.sin(jr),jr*=-ft,at>0&&(jr=(Math.PI-jr*at)*at),Rr=Math.cos(jr)*ye-Math.sin(jr)*St/2,_r=Math.cos(jr)*St/2+Math.sin(jr)*ye,ee=jr*180/Math.PI)}else me==="middle"&&(Ce>Ne?me=at?"left":"right":me=ft?"top":"bottom"),O&&(["left","right"].includes(me)?(wt+=Pn*at,Zt-=Ye*(1-Et)*at,rr+=Ye*at/2,me==="left"?(Q=0,at<0&&(Q+=180)):(Q=180,at>0&&(Q+=180))):["top","bottom"].includes(me)&&(wt+=Ye*-ft/2,rr+=Pn*ft,Wt-=Ye*ft-rr,me==="top"?(Q=270,ft>0&&(Q+=180)):(Q=90,ft<0&&(Q+=180))));H&&xe!==0&&(["left","right"].includes(te)?(Rr+=ye*-at,Ct+=St*at+Rr,_r+=-(St*at)/2,te==="left"?(ee=180,at<0&&(ee+=180)):(ee=0,at>0&&(ee+=180))):["top","bottom"].includes(te)&&(_r+=ye*-ft,Vr+=St*ft+_r,Rr+=St*ft/2,te==="top"?(ee=90,ft>0&&(ee+=180)):(ee=270,ft<0&&(ee+=180))));var Ai={x:wt,y:rr},Sn={x:Rr,y:_r},kn=Ct,gi=Vr,wr=Zt,xr=Wt,ss={};A==="smooth"?ss={hh:function(){kn+=Ce*xe*at,wr-=Ce*xe*at},vv:function(){gi+=Ne*xe*ft,xr-=Ne*xe*ft},hv:function(){kn+=Ce*xe*at,xr-=Ne*xe*ft},vh:function(){gi+=Ne*xe*ft,wr-=Ce*xe*at}}:A==="grid"&&(ss={hh:function(){kn+=(Ce*q.relative+q.abs)*at,wr-=(Ce*(1-q.relative)-q.abs)*at,O&&(kn-=Ye*(1-Et)/2*at,wr+=Ye*(1-Et)/2*at),H&&(kn-=St*(1-qe)/2*at,wr+=St*(1-qe)/2*at)},vv:function(){gi+=(Ne*q.relative+q.abs)*ft,xr-=(Ne*(1-q.relative)-q.abs)*ft,O&&(gi-=Ye*(1-Et)/2*ft,xr+=Ye*(1-Et)/2*ft),H&&(gi-=St*(1-qe)/2*ft,xr+=St*(1-qe)/2*ft)},hv:function(){kn=Zt},vh:function(){gi=Wt}});var Zn="";["left","right"].includes(te)?Zn+="h":["bottom","top"].includes(te)?Zn+="v":te==="middle"&&(Zn+="m"),["left","right"].includes(me)?Zn+="h":["bottom","top"].includes(me)?Zn+="v":me==="middle"&&(Zn+="m"),Ce>Ne?Zn=Zn.replace(/m/g,"h"):Zn=Zn.replace(/m/g,"v"),ss[Zn](),kn+=fe,gi+=J,wr+=ce,xr+=Se;var Mi=x.buzzierMinSols(Ct,kn,wr,Zt),Yu=Mi[0],Lo=Mi[1],ql=x.buzzierMinSols(Vr,gi,xr,Wt),Pr=ql[0],Yr=ql[1];Yu<0&&(Ot+=-Yu),Lo>Ce&&(mt+=Lo-Ce),Pr<0&&(It+=-Pr),Yr>Ne&&($t+=Yr-Ne),A==="grid"&&(Ot+=rt,mt+=rt,It+=rt,$t+=rt),Ct+=Ot,Zt+=Ot,Vr+=It,Wt+=It,kn+=Ot,wr+=Ot,gi+=It,xr+=It;var mi=Ce+Ot+mt,Xu=Ne+It+$t;ot-=Ot,Dt-=It;var id=x.bzFunction(Ct,kn,wr,Zt),zp=x.bzFunction(Vr,gi,xr,Wt),m0={x:id(.01),y:zp(.01)},y0={x:id(.5),y:zp(.5)},b0={x:id(.99),y:zp(.99)},Wp;return A==="grid"?Wp="M "+Ct+" "+Vr+" L  "+kn+" "+gi+" L "+wr+" "+xr+" "+Zt+" "+Wt:A==="smooth"&&(Wp="M "+Ct+" "+Vr+" C "+kn+" "+gi+", "+wr+" "+xr+", "+Zt+" "+Wt),{cx0:ot,cy0:Dt,x1:Ct,x2:Zt,y1:Vr,y2:Wt,cw:mi,ch:Xu,cpx1:kn,cpy1:gi,cpx2:wr,cpy2:xr,dx:At,dy:De,absDx:Ce,absDy:Ne,headOrient:Q,tailOrient:ee,labelStartPos:m0,labelMiddlePos:y0,labelEndPos:b0,excLeft:Ot,excRight:mt,excUp:It,excDown:$t,headOffset:Pn,arrowHeadOffset:Ai,arrowTailOffset:Sn,startPoints:oe,endPoints:Me,mainDivPos:Ge,xSign:at,ySign:ft,lineLength:(E=(M=re.current)===null||M===void 0?void 0:M.getTotalLength())!==null&&E!==void 0?E:0,fHeadSize:Ye,fTailSize:St,arrowPath:Wp}};c.getPosition=v},"./src/Xarrow/utils/index.ts":function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getSvgPos=c.getElemPos=c.getShortestLine=c.xStr2absRelative=c.factorDpathStr=c.getElementByPropGiven=void 0;var h=function(v){var w;return typeof v=="string"?w=document.getElementById(v):w=v==null?void 0:v.current,w};c.getElementByPropGiven=h;var f=function(v,w){var P=v.split(/(\d+(?:\.\d+)?)/);return P=P.map(function(T){return Number(T)?(Number(T)*w).toString():T}),P.join("")};c.factorDpathStr=f;var g=function(v){if(typeof v!="string")return{abs:0,relative:.5};var w=v.split("%"),P=0,T=0;if(w.length==1){var _=parseFloat(w[0]);if(!isNaN(_))return P=_,{abs:P,relative:0}}else if(w.length==2){var M=[parseFloat(w[0]),parseFloat(w[1])],E=M[0],D=M[1];if(isNaN(E)||(T=E/100),isNaN(D)||(P=D),!isNaN(E)||!isNaN(D))return{abs:P,relative:T}}};c.xStr2absRelative=g;var m=function(v,w){return Math.sqrt(Math.pow(v.x-w.x,2)+Math.pow(v.y-w.y,2))},y=function(v,w){var P=1/0,T=1/0,_;return v.forEach(function(M){w.forEach(function(E){T=m(M,E),T<P&&(P=T,_={chosenStart:M,chosenEnd:E})})}),_};c.getShortestLine=y;var b=function(v){if(!v)return{x:0,y:0,right:0,bottom:0};var w=v.getBoundingClientRect();return{x:w.left,y:w.top,right:w.right,bottom:w.bottom}};c.getElemPos=b;var x=function(v){if(!v.current)return{x:0,y:0};var w=v.current.getBoundingClientRect(),P=w.left,T=w.top,_=getComputedStyle(v.current),M=Number(_.left.slice(0,-2)),E=Number(_.top.slice(0,-2));return{x:P-M,y:T-E}};c.getSvgPos=x},"./src/Xwrapper.tsx":function(u,c,h){var f=this&&this.__createBinding||(Object.create?function(T,_,M,E){E===void 0&&(E=M),Object.defineProperty(T,E,{enumerable:!0,get:function(){return _[M]}})}:function(T,_,M,E){E===void 0&&(E=M),T[E]=_[M]}),g=this&&this.__setModuleDefault||(Object.create?function(T,_){Object.defineProperty(T,"default",{enumerable:!0,value:_})}:function(T,_){T.default=_}),m=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var _={};if(T!=null)for(var M in T)M!=="default"&&Object.prototype.hasOwnProperty.call(T,M)&&f(_,T,M);return g(_,T),_};Object.defineProperty(c,"__esModule",{value:!0}),c.XarrowContext=c.XelemContext=void 0;var y=m(h("react"));c.XelemContext=y.default.createContext(null),c.XarrowContext=y.default.createContext(null);var b={},x=0,v=function(T){var _=T.children,M=T.instanceCount,E=y.useState({}),D=E[1],L=function(){return D({})};return y.useEffect(function(){M.current=x,b[M.current]=L},[]),y.default.createElement(c.XarrowContext.Provider,{value:L},_)},w=function(T){var _=T.children,M=T.instanceCount;return y.default.createElement(c.XelemContext.Provider,{value:b[M.current]},_)},P=function(T){var _=T.children,M=y.useRef(x),E=y.useState({}),D=E[1];return y.useEffect(function(){return x++,D({}),function(){delete b[M.current]}},[]),y.default.createElement(w,{instanceCount:M},y.default.createElement(v,{instanceCount:M},_))};c.default=P},"./src/constants.tsx":function(u,c,h){var f=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0}),c.cArrowShapes=c.arrowShapes=c.cSvgElems=c.cPaths=c.cAnchorEdge=void 0;var g=f(h("react"));c.cAnchorEdge=["middle","left","right","top","bottom","auto"],c.cPaths=["smooth","grid","straight"],c.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],c.arrowShapes={arrow1:{svgElem:g.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:g.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:g.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},c.cArrowShapes=Object.keys(c.arrowShapes)},"./src/index.tsx":function(u,c,h){var f=this&&this.__createBinding||(Object.create?function(v,w,P,T){T===void 0&&(T=P),Object.defineProperty(v,T,{enumerable:!0,get:function(){return w[P]}})}:function(v,w,P,T){T===void 0&&(T=P),v[T]=w[P]}),g=this&&this.__exportStar||function(v,w){for(var P in v)P!=="default"&&!Object.prototype.hasOwnProperty.call(w,P)&&f(w,v,P)},m=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0}),c.useXarrow=c.Xwrapper=c.default=void 0;var y=h("./src/Xarrow/Xarrow.tsx");Object.defineProperty(c,"default",{enumerable:!0,get:function(){return m(y).default}}),g(h("./src/types.ts"),c),g(h("./src/constants.tsx"),c);var b=h("./src/Xwrapper.tsx");Object.defineProperty(c,"Xwrapper",{enumerable:!0,get:function(){return m(b).default}});var x=h("./src/useXarrow.tsx");Object.defineProperty(c,"useXarrow",{enumerable:!0,get:function(){return m(x).default}})},"./src/types.ts":function(u,c){Object.defineProperty(c,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0});var f=h("react"),g=h("./src/Xwrapper.tsx"),m=function(){var y=f.useState({}),b=y[1],x=function(){return b({})},v=f.useContext(g.XelemContext);return v||(v=function(){}),f.useLayoutEffect(function(){v()}),x};c.default=m},lodash:function(u){u.exports=n},"prop-types":function(u){u.exports=i},react:function(u){u.exports=r}},a={};function o(u){var c=a[u];if(c!==void 0)return c.exports;var h=a[u]={id:u,loaded:!1,exports:{}};return s[u].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}o.c=a,function(){o.d=function(u,c){for(var h in c)o.o(c,h)&&!o.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:c[h]})}}(),function(){o.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)}}(),function(){o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}(),function(){o.nmd=function(u){return u.paths=[],u.children||(u.children=[]),u}}();var l=o(o.s="./src/index.tsx");return l}()})})(bH);var PEe=bH.exports;const vH=za(PEe),BEe=new AudioContext,n5=new mH(BEe);function MEe(){const r=hx.create({firstNote:48,lastNote:72,keyboardConfig:hx.HOME_ROW}),n=[{name:"Major Scale",scale:ps.MajorScale},{name:"Harmonic Minor Scale",scale:ps.HarmonicMinor},{name:"Minor scale",scale:ps.MinorScale}],[i,s]=C.useState(null),[a,o]=C.useState(null),[l,u]=C.useState([]),[c,h]=C.useState(null),[f,g]=C.useState(null),[m,y]=C.useState(1),[b,x]=C.useState([]),[v,w]=C.useState(pt("C")),[P,T]=C.useState(Ut.unison),[_,M]=C.useState(0),[E,D]=C.useState(0),L=l.sort(),F=L.map(Tn.fromMidiNumber),z=L.map(Tn.fromMidiNumberSharp),V=Uw(F),O=Uw(z),I=V||O,H=I&&xu.toLeadSheet(I),W=(I&&i&&a&&Gw.toDisplayString(CW(I,{note:i,scale:a})))??"",A=(c&&f&&Tn.interval(Tn.fromMidiNumber(c),Tn.fromMidiNumber(f)))??null;console.log({interval:A});const U=c?gr.toNoteNumber(v)===gr.toNoteNumber(gr.fromMidiNumber(c)):!1,q=A?Ut.halfSteps(A)===Ut.halfSteps(P):!1;console.log("random halfsteps",Ut.halfSteps(P)),A&&console.log("user halfsteps",Ut.halfSteps(A)),C.useEffect(()=>{switch(m){case 1:w(gr.random()),T(Ut.random()),x([]),h(null),g(null);break;case 3:U&&q&&M(_+1),D(E+1)}},[m]),console.log({randomNote:v}),console.log({randomInterval:P}),i&&a&&SW(i,a).flatMap(ne=>gr.toMidiNumbersForAllOctaves(ne));function ae(ne){if(ne.data){const ge=ne.data[1],fe=ne.data[2];u(fe===0?J=>J.filter(ce=>ce!==ge):J=>[...new Set([...J,ge])])}}return C.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach(J=>{J.onmidimessage=ae})})().catch(console.error)},[]),k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"100%",height:"250px"},children:k.jsx(cE,{noteRange:{first:48,last:72},playNote:ne=>{switch(n5.start(ne),u(ge=>[...new Set([...ge,ne])]),m){case 1:h(ne),y(2),x([...b,ne]);break;case 2:g(ne),y(3),x([...b,ne]);break;default:i||s($c.toNote(ne%12))}},stopNote:ne=>{n5.stop(ne),u(ge=>ge.filter(fe=>fe!==ne))},highlightedNotes:b,activeNotes:l,keyboardShortcuts:r,onHover:ne=>{m===1?h(ne):m===2&&g(ne)}})}),i&&!a&&k.jsxs("div",{children:[k.jsx("div",{children:"Now select a scale!"}),k.jsx(SM,{value:"",onChange:ne=>o(n[ne.target.value].scale),children:n.map((ne,ge)=>k.jsx(A1,{value:ge,children:ne.name}))})]}),i&&a&&k.jsx(fi,{onClick:()=>{s(null),o(null)},children:"Restart"}),k.jsx("div",{style:{fontSize:200},children:H}),k.jsx(yH,{romanNumeral:W}),k.jsx(vH,{start:`${c}`,end:f?`${f}`:`${c}`,color:"red",headSize:8,zIndex:1e3,startAnchor:{position:"bottom",offset:{x:0,y:-30}},endAnchor:{position:"bottom",offset:{x:0,y:-30}},path:"straight",passProps:{pointerEvents:"none"}}),k.jsxs("div",{style:{fontSize:30},children:["Find the interval of a ",Ut.name(P)," starting on"," ",gr.toDisplayString(v)]}),m===3?k.jsxs("div",{children:[k.jsx(fi,{onClick:()=>{y(1)},children:"Next"}),U&&q?k.jsx(CM,{style:{color:"green",transform:"scale(2)",margin:50}}):k.jsx(Rp,{style:{color:"red",transform:"scale(2)",margin:50}})]}):k.jsx("div",{style:{margin:40}}),k.jsx("div",{style:{padding:5,fontSize:30},children:`${_} / ${E}`})]})}const NEe=new AudioContext,i5=new mH(NEe);function EEe(){const r=hx.create({firstNote:48,lastNote:72,keyboardConfig:hx.HOME_ROW}),n=[{name:"Major Scale",scale:ps.MajorScale},{name:"Harmonic Minor Scale",scale:ps.HarmonicMinor},{name:"Minor scale",scale:ps.MinorScale}],[i,s]=C.useState(null),[a,o]=C.useState(null),[l,u]=C.useState([]),[c,h]=C.useState(null),[f,g]=C.useState(null),[m,y]=C.useState(1),[b,x]=C.useState([]),[v,w]=C.useState(pt("C")),[P,T]=C.useState(Ut.unison),[_,M]=C.useState(0),[E,D]=C.useState(0),L=l.sort(),F=L.map(Tn.fromMidiNumber),z=L.map(Tn.fromMidiNumberSharp),V=Uw(F),O=Uw(z),I=V||O,H=I&&xu.toLeadSheet(I),W=(I&&i&&a&&Gw.toDisplayString(CW(I,{note:i,scale:a})))??"",A=(c&&f&&Tn.interval(Tn.fromMidiNumber(c),Tn.fromMidiNumber(f)))??null;console.log({interval:A});const U=c?gr.toNoteNumber(v)===gr.toNoteNumber(gr.fromMidiNumber(c)):!1,q=A?Ut.halfSteps(A)===Ut.halfSteps(P):!1;console.log("random halfsteps",Ut.halfSteps(P)),A&&console.log("user halfsteps",Ut.halfSteps(A)),C.useEffect(()=>{switch(m){case 1:w(gr.random()),T(Ut.random()),x([]),h(null),g(null);break;case 3:U&&q&&M(_+1),D(E+1)}},[m]),console.log({randomNote:v}),console.log({randomInterval:P}),i&&a&&SW(i,a).flatMap(ne=>gr.toMidiNumbersForAllOctaves(ne));function ae(ne){if(ne.data){const ge=ne.data[1],fe=ne.data[2];u(fe===0?J=>J.filter(ce=>ce!==ge):J=>[...new Set([...J,ge])])}}return C.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach(J=>{J.onmidimessage=ae})})().catch(console.error)},[]),k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"100%",height:"250px"},children:k.jsx(cE,{noteRange:{first:48,last:72},playNote:ne=>{switch(i5.start(ne),u(ge=>[...new Set([...ge,ne])]),m){case 1:h(ne),y(2),x([...b,ne]);break;case 2:g(ne),y(3),x([...b,ne]);break;default:i||s($c.toNote(ne%12))}},stopNote:ne=>{i5.stop(ne),u(ge=>ge.filter(fe=>fe!==ne))},highlightedNotes:b,activeNotes:l,keyboardShortcuts:r,onHover:ne=>{m===1?h(ne):m===2&&g(ne)}})}),i&&!a&&k.jsxs("div",{children:[k.jsx("div",{children:"Now select a scale!"}),k.jsx(SM,{value:"",onChange:ne=>o(n[ne.target.value].scale),children:n.map((ne,ge)=>k.jsx(A1,{value:ge,children:ne.name}))})]}),i&&a&&k.jsx(fi,{onClick:()=>{s(null),o(null)},children:"Restart"}),k.jsx("div",{style:{fontSize:200},children:H}),k.jsx(yH,{romanNumeral:W}),k.jsx(vH,{start:`${c}`,end:f?`${f}`:`${c}`,color:"red",headSize:8,zIndex:1e3,startAnchor:{position:"bottom",offset:{x:0,y:-30}},endAnchor:{position:"bottom",offset:{x:0,y:-30}},path:"straight",passProps:{pointerEvents:"none"}}),k.jsxs("div",{style:{fontSize:30},children:["Find the interval of a ",Ut.name(P)," starting on"," ",gr.toDisplayString(v)]}),m===3?k.jsxs("div",{children:[k.jsx(fi,{onClick:()=>{y(1)},children:"Next"}),U&&q?k.jsx(CM,{style:{color:"green",transform:"scale(2)",margin:50}}):k.jsx(Rp,{style:{color:"red",transform:"scale(2)",margin:50}})]}):k.jsx("div",{style:{margin:40}}),k.jsx("div",{style:{padding:5,fontSize:30},children:`${_} / ${E}`}),k.jsx(fi,{onClick:()=>console.log(MW(5,1,1)),children:"calculate n length path"})]})}function gx(){return gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function REe(t,e){if(t){if(typeof t=="string")return s5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s5(t,e)}}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=REe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a5=function(e){for(var r={},n=Uf(e),i;!(i=n()).done;){var s=i.value;r[s.note.toUpperCase()]=s.acc}return r},DEe=function(e,r){for(var n=r.bpm,i,s,a,o=e[0],l=o.lines[0].staff[0].meter.value[0].den,u={},c=1,h=Object.values(o.lines),f=0,g=h;f<g.length;f++){i=g[f];for(var m=0,y=Object.values(i.staff),b=0,x=y;b<x.length;b++){s=x[b];var v=s.voices[0];a=a5(s.key.accidentals);for(var w=Uf(v),P;!(P=w()).done;){var T=P.value;if(T.el_type==="bar"&&(a=a5(s.key.accidentals)),T.startTriplet&&(c=T.tripletMultiplier),T.pitches&&T.el_type==="note"){for(var _=T.duration*c*(60/n)*l,M="s"+T.startChar+"e"+T.endChar,E=[],D=Uf(T.pitches),L;!(L=D()).done;){var F=L.value,z=IEe(F.pitch),V=z.note,O=z.octave,I="";F.accidental&&(a[""+V+O]=F.accidental),a[""+V+O]==="sharp"?I="#":a[""+V+O]==="flat"?I="b":a[""+V+O]==="natural"?I="":a[""+V]==="sharp"?I="#":a[""+V]==="flat"&&(I="b");var H={name:""+V+I+O,duration:_,octave:O,line:m};E.push(H)}u[M]=E}T.endTriplet&&(c=1)}m+=1}}return u},IEe=function(e){var r={};r[0]="C",r[1]="D",r[2]="E",r[3]="F",r[4]="G",r[5]="A",r[6]="B";var n=r[(e+700)%7],i=Math.floor(e/7)+3,s={note:n,octave:i};return s},LEe=function(e){var r=e.id,n=r===void 0?"sheet-music":r,i=e.isPlaying,s=e.notation,a=e.bpm,o=a===void 0?80:a,l=e.scale,u=l===void 0?1:l,c=e.staffWidth,h=c===void 0?800:c,f=e.responsive,g=f===void 0?"resize":f,m=e.oneSvgPerLine,y=m===void 0?!1:m,b=e.className,x=e.onClick,v=e.onBeat,w=e.onEvent,P=e.onLineEnd,T=Lt.useRef(),_=Lt.useRef(),M=Lt.useRef(),E=Lt.useRef(),D=Lt.useRef();return Lt.useEffect(function(){typeof window<"u"&&(_.current=require("abcjs"),s&&_!==null&&_!==void 0&&_.current&&(E.current=_.current.parseOnly(s),D.current=DEe(E.current,{bpm:o}),M.current=_.current.renderAbc(n,s,gx({add_classes:!0,scale:u,staffwidth:h,responsive:g,oneSvgPerLine:y},typeof x=="function"?{clickListener:x}:{}))))},[JSON.stringify(s)]),Lt.useEffect(function(){s&&_!==null&&_!==void 0&&_.current&&M!==null&&M!==void 0&&M.current&&E!==null&&E!==void 0&&E.current&&(T.current=new _.current.TimingCallbacks(M.current[0],{qpm:o,beatSubdivisions:E.current[0].lines[0].staff[0].meter.value[0].num,beatCallback:function(F,z,V){typeof v=="function"&&v(F,z,V)},lineEndCallback:function(F){typeof P=="function"&&P(F)},eventCallback:function(F){if(typeof w=="function")if(F===null)w(null);else{var z,V=F.startCharArray.map(function(Se,K){var Z=F.startCharArray[K],ue=F.endCharArray[K];return D!=null&&D.current?D.current["s"+Z+"e"+ue]:null}),O=(z=[]).concat.apply(z,V).filter(function(Se){return!!Se});typeof w=="function"&&w(gx({},F,{notes:O}))}if(!F)return null;for(var I=document.getElementsByClassName("abcjs-note"),H=document.getElementsByClassName("abcjs-rest"),W=document.getElementsByClassName("abcjs-lyric"),A=Uf([].slice.call(I)),U;!(U=A()).done;){var q=U.value;q.classList.remove("abcjs-note_playing")}for(var ae=Uf([].slice.call(H)),ne;!(ne=ae()).done;){var ge=ne.value;ge.classList.remove("abcjs-rest_playing")}for(var fe=Uf([].slice.call(W)),J;!(J=fe()).done;){var ce=J.value;ce.classList.remove("abcjs-lyric_playing")}return F.elements.forEach(function(Se){Se.forEach(function(K){var Z=K.className.baseVal,ue;Z.indexOf("abcjs-lyric")>-1?ue="lyric":Z.indexOf("abcjs-rest")>-1?ue="rest":Z.indexOf("abcjs-note")>-1&&(ue="note"),K.classList.add("abcjs-"+ue+"_playing")})}),null}}))},[s,o]),Lt.useEffect(function(){T&&T.current&&(i?T.current.start():T.current.stop())},[i]),s?Lt.createElement("div",{id:n,className:["sheet-music",b||""].join(" ")}):null};function FEe(){return k.jsx(LEe,{notation:"|EGBF|"})}function AEe(){const t=aJ([{path:"/",element:k.jsx(Nfe,{}),children:[]},{path:"/todo",element:k.jsx(Rfe,{})},{path:"/counter",element:k.jsx(uge,{})},{path:"/rating",element:k.jsx(cge,{})},{path:"/layout",element:k.jsx(dge,{})},{path:"/shifts",element:k.jsx(lwe,{})},{path:"/music",element:k.jsx(T1e,{})},{path:"/progression",element:k.jsx(I1e,{})},{path:"/math",element:k.jsx(PMe,{})},{path:"/quiz",element:k.jsx(NMe,{})},{path:"/piano",element:k.jsx(EEe,{})},{path:"/interval",element:k.jsx(MEe,{})},{path:"/sheet",element:k.jsx(FEe,{})}]);return k.jsx(EM,{dateAdapter:kwe,children:k.jsx(gJ,{router:t})})}const OEe=zpe({reducer:{counter:lge}});T_.createRoot(document.getElementById("root")).render(k.jsx(Lt.StrictMode,{children:k.jsx(Zfe,{store:OEe,children:k.jsx(AEe,{})})}));
