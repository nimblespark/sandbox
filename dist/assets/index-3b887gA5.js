function QO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Va(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var JO={exports:{}},ax={},ZO={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=Symbol.for("react.element"),aX=Symbol.for("react.portal"),oX=Symbol.for("react.fragment"),lX=Symbol.for("react.strict_mode"),uX=Symbol.for("react.profiler"),cX=Symbol.for("react.provider"),dX=Symbol.for("react.context"),hX=Symbol.for("react.forward_ref"),fX=Symbol.for("react.suspense"),pX=Symbol.for("react.memo"),gX=Symbol.for("react.lazy"),k2=Symbol.iterator;function mX(t){return t===null||typeof t!="object"?null:(t=k2&&t[k2]||t["@@iterator"],typeof t=="function"?t:null)}var e5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t5=Object.assign,r5={};function mp(t,e,r){this.props=t,this.context=e,this.refs=r5,this.updater=r||e5}mp.prototype.isReactComponent={};mp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n5(){}n5.prototype=mp.prototype;function PP(t,e,r){this.props=t,this.context=e,this.refs=r5,this.updater=r||e5}var BP=PP.prototype=new n5;BP.constructor=PP;t5(BP,mp.prototype);BP.isPureReactComponent=!0;var _2=Array.isArray,i5=Object.prototype.hasOwnProperty,MP={current:null},s5={key:!0,ref:!0,__self:!0,__source:!0};function a5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)i5.call(e,n)&&!s5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ty,type:t,key:s,ref:a,props:i,_owner:MP.current}}function yX(t,e){return{$$typeof:Ty,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ty}function bX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var C2=/\/+/g;function kk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bX(""+t.key):e.toString(36)}function nv(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ty:case aX:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+kk(a,0):n,_2(i)?(r="",t!=null&&(r=t.replace(C2,"$&/")+"/"),nv(i,e,r,"",function(u){return u})):i!=null&&(NP(i)&&(i=yX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(C2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",_2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+kk(s,o);a+=nv(s,e,r,l,i)}else if(l=mX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+kk(s,o++),a+=nv(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Q0(t,e,r){if(t==null)return t;var n=[],i=0;return nv(t,n,"","",function(s){return e.call(r,s,i++)}),n}function vX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ws={current:null},iv={transition:null},wX={ReactCurrentDispatcher:Ws,ReactCurrentBatchConfig:iv,ReactCurrentOwner:MP};zr.Children={map:Q0,forEach:function(t,e,r){Q0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Q0(t,function(){e++}),e},toArray:function(t){return Q0(t,function(e){return e})||[]},only:function(t){if(!NP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zr.Component=mp;zr.Fragment=oX;zr.Profiler=uX;zr.PureComponent=PP;zr.StrictMode=lX;zr.Suspense=fX;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wX;zr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=t5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=MP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)i5.call(e,l)&&!s5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ty,type:t.type,key:i,ref:s,props:n,_owner:a}};zr.createContext=function(t){return t={$$typeof:dX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cX,_context:t},t.Consumer=t};zr.createElement=a5;zr.createFactory=function(t){var e=a5.bind(null,t);return e.type=t,e};zr.createRef=function(){return{current:null}};zr.forwardRef=function(t){return{$$typeof:hX,render:t}};zr.isValidElement=NP;zr.lazy=function(t){return{$$typeof:gX,_payload:{_status:-1,_result:t},_init:vX}};zr.memo=function(t,e){return{$$typeof:pX,type:t,compare:e===void 0?null:e}};zr.startTransition=function(t){var e=iv.transition;iv.transition={};try{t()}finally{iv.transition=e}};zr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zr.useCallback=function(t,e){return Ws.current.useCallback(t,e)};zr.useContext=function(t){return Ws.current.useContext(t)};zr.useDebugValue=function(){};zr.useDeferredValue=function(t){return Ws.current.useDeferredValue(t)};zr.useEffect=function(t,e){return Ws.current.useEffect(t,e)};zr.useId=function(){return Ws.current.useId()};zr.useImperativeHandle=function(t,e,r){return Ws.current.useImperativeHandle(t,e,r)};zr.useInsertionEffect=function(t,e){return Ws.current.useInsertionEffect(t,e)};zr.useLayoutEffect=function(t,e){return Ws.current.useLayoutEffect(t,e)};zr.useMemo=function(t,e){return Ws.current.useMemo(t,e)};zr.useReducer=function(t,e,r){return Ws.current.useReducer(t,e,r)};zr.useRef=function(t){return Ws.current.useRef(t)};zr.useState=function(t){return Ws.current.useState(t)};zr.useSyncExternalStore=function(t,e,r){return Ws.current.useSyncExternalStore(t,e,r)};zr.useTransition=function(){return Ws.current.useTransition()};zr.version="18.2.0";ZO.exports=zr;var k=ZO.exports;const Jt=Va(k),qd=QO({__proto__:null,default:Jt},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xX=k,SX=Symbol.for("react.element"),kX=Symbol.for("react.fragment"),_X=Object.prototype.hasOwnProperty,CX=xX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TX={key:!0,ref:!0,__self:!0,__source:!0};function o5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)_X.call(e,n)&&!TX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:SX,type:t,key:s,ref:a,props:i,_owner:CX.current}}ax.Fragment=kX;ax.jsx=o5;ax.jsxs=o5;JO.exports=ax;var _=JO.exports,bC={},l5={exports:{}},za={},u5={exports:{}},c5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var q=F.length;F.push(U);e:for(;0<q;){var ae=q-1>>>1,he=F[ae];if(0<i(he,U))F[ae]=U,F[q]=he,q=ae;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var U=F[0],q=F.pop();if(q!==U){F[0]=q;e:for(var ae=0,he=F.length,be=he>>>1;ae<be;){var pe=2*(ae+1)-1,ee=F[pe],ce=pe+1,ke=F[ce];if(0>i(ee,q))ce<he&&0>i(ke,ee)?(F[ae]=ke,F[ce]=q,ae=ce):(F[ae]=ee,F[pe]=q,ae=pe);else if(ce<he&&0>i(ke,q))F[ae]=ke,F[ce]=q,ae=ce;else break e}}return U}function i(F,U){var q=F.sortIndex-U.sortIndex;return q!==0?q:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=F)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function T(F){if(y=!1,w(F),!g)if(r(l)!==null)g=!0,H(P);else{var U=r(u);U!==null&&z(T,U.startTime-F)}}function P(F,U){g=!1,y&&(y=!1,x(E),E=-1),m=!0;var q=f;try{for(w(U),h=r(l);h!==null&&(!(h.expirationTime>U)||F&&!A());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var he=ae(h.expirationTime<=U);U=t.unstable_now(),typeof he=="function"?h.callback=he:h===r(l)&&n(l),w(U)}else n(l);h=r(l)}if(h!==null)var be=!0;else{var pe=r(u);pe!==null&&z(T,pe.startTime-U),be=!1}return be}finally{h=null,f=q,m=!1}}var C=!1,M=null,E=-1,D=5,I=-1;function A(){return!(t.unstable_now()-I<D)}function W(){if(M!==null){var F=t.unstable_now();I=F;var U=!0;try{U=M(!0,F)}finally{U?V():(C=!1,M=null)}}else C=!1}var V;if(typeof v=="function")V=function(){v(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=W,V=function(){L.postMessage(null)}}else V=function(){b(W,0)};function H(F){M=F,C||(C=!0,V())}function z(F,U){E=b(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(P))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return F()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=f;f=F;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(F,U,q){var ae=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=q+he,F={id:c++,callback:U,priorityLevel:F,startTime:q,expirationTime:he,sortIndex:-1},q>ae?(F.sortIndex=q,e(u,F),r(l)===null&&F===r(u)&&(y?(x(E),E=-1):y=!0,z(T,q-ae))):(F.sortIndex=he,e(l,F),g||m||(g=!0,H(P))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var U=f;return function(){var q=f;f=U;try{return F.apply(this,arguments)}finally{f=q}}}})(c5);u5.exports=c5;var PX=u5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5=k,Ia=PX;function it(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h5=new Set,bm={};function hh(t,e){Vf(t,e),Vf(t+"Capture",e)}function Vf(t,e){for(bm[t]=e,t=0;t<e.length;t++)h5.add(e[t])}var Cu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vC=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T2={},P2={};function MX(t){return vC.call(P2,t)?!0:vC.call(T2,t)?!1:BX.test(t)?P2[t]=!0:(T2[t]=!0,!1)}function NX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EX(t,e,r,n){if(e===null||typeof e>"u"||NX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hs(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var hs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hs[t]=new Hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hs[e]=new Hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hs[t]=new Hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hs[t]=new Hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hs[t]=new Hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hs[t]=new Hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hs[t]=new Hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hs[t]=new Hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hs[t]=new Hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var EP=/[\-:]([a-z])/g;function RP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(EP,RP);hs[e]=new Hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(EP,RP);hs[e]=new Hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(EP,RP);hs[e]=new Hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hs[t]=new Hs(t,1,!1,t.toLowerCase(),null,!1,!1)});hs.xlinkHref=new Hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hs[t]=new Hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function DP(t,e,r,n){var i=hs.hasOwnProperty(e)?hs[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EX(e,r,i,n)&&(r=null),n||i===null?MX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Au=d5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J0=Symbol.for("react.element"),of=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),IP=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),f5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),LP=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),SC=Symbol.for("react.suspense_list"),FP=Symbol.for("react.memo"),fc=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),B2=Symbol.iterator;function Qp(t){return t===null||typeof t!="object"?null:(t=B2&&t[B2]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Object.assign,_k;function Eg(t){if(_k===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_k=e&&e[1]||""}return`
`+_k+t}var Ck=!1;function Tk(t,e){if(!t||Ck)return"";Ck=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ck=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Eg(t):""}function RX(t){switch(t.tag){case 5:return Eg(t.type);case 16:return Eg("Lazy");case 13:return Eg("Suspense");case 19:return Eg("SuspenseList");case 0:case 2:case 15:return t=Tk(t.type,!1),t;case 11:return t=Tk(t.type.render,!1),t;case 1:return t=Tk(t.type,!0),t;default:return""}}function kC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lf:return"Fragment";case of:return"Portal";case wC:return"Profiler";case IP:return"StrictMode";case xC:return"Suspense";case SC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p5:return(t.displayName||"Context")+".Consumer";case f5:return(t._context.displayName||"Context")+".Provider";case LP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case FP:return e=t.displayName||null,e!==null?e:kC(t.type)||"Memo";case fc:e=t._payload,t=t._init;try{return kC(t(e))}catch{}}return null}function DX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kC(e);case 8:return e===IP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ac(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IX(t){var e=m5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Z0(t){t._valueTracker||(t._valueTracker=IX(t))}function y5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Av(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _C(t,e){var r=e.checked;return Qn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ac(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b5(t,e){e=e.checked,e!=null&&DP(t,"checked",e,!1)}function CC(t,e){b5(t,e);var r=Ac(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TC(t,e.type,r):e.hasOwnProperty("defaultValue")&&TC(t,e.type,Ac(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function TC(t,e,r){(e!=="number"||Av(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rg=Array.isArray;function Cf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ac(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function PC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(it(91));return Qn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(it(92));if(Rg(r)){if(1<r.length)throw Error(it(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ac(r)}}function v5(t,e){var r=Ac(e.value),n=Ac(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function R2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eb,x5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eb=eb||document.createElement("div"),eb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ug={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LX=["Webkit","ms","Moz","O"];Object.keys(Ug).forEach(function(t){LX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ug[e]=Ug[t]})});function S5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ug.hasOwnProperty(t)&&Ug[t]?(""+e).trim():e+"px"}function k5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=S5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var FX=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MC(t,e){if(e){if(FX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(it(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(it(61))}if(e.style!=null&&typeof e.style!="object")throw Error(it(62))}}function NC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EC=null;function AP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RC=null,Tf=null,Pf=null;function D2(t){if(t=My(t)){if(typeof RC!="function")throw Error(it(280));var e=t.stateNode;e&&(e=dx(e),RC(t.stateNode,t.type,e))}}function _5(t){Tf?Pf?Pf.push(t):Pf=[t]:Tf=t}function C5(){if(Tf){var t=Tf,e=Pf;if(Pf=Tf=null,D2(t),e)for(t=0;t<e.length;t++)D2(e[t])}}function T5(t,e){return t(e)}function P5(){}var Pk=!1;function B5(t,e,r){if(Pk)return t(e,r);Pk=!0;try{return T5(t,e,r)}finally{Pk=!1,(Tf!==null||Pf!==null)&&(P5(),C5())}}function wm(t,e){var r=t.stateNode;if(r===null)return null;var n=dx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(it(231,e,typeof r));return r}var DC=!1;if(Cu)try{var Jp={};Object.defineProperty(Jp,"passive",{get:function(){DC=!0}}),window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{DC=!1}function AX(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Gg=!1,Ov=null,$v=!1,IC=null,OX={onError:function(t){Gg=!0,Ov=t}};function $X(t,e,r,n,i,s,a,o,l){Gg=!1,Ov=null,AX.apply(OX,arguments)}function VX(t,e,r,n,i,s,a,o,l){if($X.apply(this,arguments),Gg){if(Gg){var u=Ov;Gg=!1,Ov=null}else throw Error(it(198));$v||($v=!0,IC=u)}}function fh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function M5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I2(t){if(fh(t)!==t)throw Error(it(188))}function zX(t){var e=t.alternate;if(!e){if(e=fh(t),e===null)throw Error(it(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return I2(i),t;if(s===n)return I2(i),e;s=s.sibling}throw Error(it(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(it(189))}}if(r.alternate!==n)throw Error(it(190))}if(r.tag!==3)throw Error(it(188));return r.stateNode.current===r?t:e}function N5(t){return t=zX(t),t!==null?E5(t):null}function E5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E5(t);if(e!==null)return e;t=t.sibling}return null}var R5=Ia.unstable_scheduleCallback,L2=Ia.unstable_cancelCallback,WX=Ia.unstable_shouldYield,HX=Ia.unstable_requestPaint,wi=Ia.unstable_now,UX=Ia.unstable_getCurrentPriorityLevel,OP=Ia.unstable_ImmediatePriority,D5=Ia.unstable_UserBlockingPriority,Vv=Ia.unstable_NormalPriority,GX=Ia.unstable_LowPriority,I5=Ia.unstable_IdlePriority,ox=null,Il=null;function jX(t){if(Il&&typeof Il.onCommitFiberRoot=="function")try{Il.onCommitFiberRoot(ox,t,void 0,(t.current.flags&128)===128)}catch{}}var il=Math.clz32?Math.clz32:qX,YX=Math.log,XX=Math.LN2;function qX(t){return t>>>=0,t===0?32:31-(YX(t)/XX|0)|0}var tb=64,rb=4194304;function Dg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Dg(o):(s&=a,s!==0&&(n=Dg(s)))}else a=r&~i,a!==0?n=Dg(a):s!==0&&(n=Dg(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-il(e),i=1<<r,n|=t[r],e&=~i;return n}function KX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-il(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=KX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function LC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L5(){var t=tb;return tb<<=1,!(tb&4194240)&&(tb=64),t}function Bk(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Py(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-il(e),t[e]=r}function JX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-il(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function $P(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-il(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ln=0;function F5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var A5,VP,O5,$5,V5,FC=!1,nb=[],_c=null,Cc=null,Tc=null,xm=new Map,Sm=new Map,gc=[],ZX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F2(t,e){switch(t){case"focusin":case"focusout":_c=null;break;case"dragenter":case"dragleave":Cc=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":xm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sm.delete(e.pointerId)}}function Zp(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=My(e),e!==null&&VP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eq(t,e,r,n,i){switch(e){case"focusin":return _c=Zp(_c,t,e,r,n,i),!0;case"dragenter":return Cc=Zp(Cc,t,e,r,n,i),!0;case"mouseover":return Tc=Zp(Tc,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xm.set(s,Zp(xm.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sm.set(s,Zp(Sm.get(s)||null,t,e,r,n,i)),!0}return!1}function z5(t){var e=Td(t.target);if(e!==null){var r=fh(e);if(r!==null){if(e=r.tag,e===13){if(e=M5(r),e!==null){t.blockedOn=e,V5(t.priority,function(){O5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=AC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);EC=n,r.target.dispatchEvent(n),EC=null}else return e=My(r),e!==null&&VP(e),t.blockedOn=r,!1;e.shift()}return!0}function A2(t,e,r){sv(t)&&r.delete(e)}function tq(){FC=!1,_c!==null&&sv(_c)&&(_c=null),Cc!==null&&sv(Cc)&&(Cc=null),Tc!==null&&sv(Tc)&&(Tc=null),xm.forEach(A2),Sm.forEach(A2)}function eg(t,e){t.blockedOn===e&&(t.blockedOn=null,FC||(FC=!0,Ia.unstable_scheduleCallback(Ia.unstable_NormalPriority,tq)))}function km(t){function e(i){return eg(i,t)}if(0<nb.length){eg(nb[0],t);for(var r=1;r<nb.length;r++){var n=nb[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_c!==null&&eg(_c,t),Cc!==null&&eg(Cc,t),Tc!==null&&eg(Tc,t),xm.forEach(e),Sm.forEach(e),r=0;r<gc.length;r++)n=gc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gc.length&&(r=gc[0],r.blockedOn===null);)z5(r),r.blockedOn===null&&gc.shift()}var Bf=Au.ReactCurrentBatchConfig,Wv=!0;function rq(t,e,r,n){var i=ln,s=Bf.transition;Bf.transition=null;try{ln=1,zP(t,e,r,n)}finally{ln=i,Bf.transition=s}}function nq(t,e,r,n){var i=ln,s=Bf.transition;Bf.transition=null;try{ln=4,zP(t,e,r,n)}finally{ln=i,Bf.transition=s}}function zP(t,e,r,n){if(Wv){var i=AC(t,e,r,n);if(i===null)Ok(t,e,n,Hv,r),F2(t,n);else if(eq(i,t,e,r,n))n.stopPropagation();else if(F2(t,n),e&4&&-1<ZX.indexOf(t)){for(;i!==null;){var s=My(i);if(s!==null&&A5(s),s=AC(t,e,r,n),s===null&&Ok(t,e,n,Hv,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ok(t,e,n,null,r)}}var Hv=null;function AC(t,e,r,n){if(Hv=null,t=AP(n),t=Td(t),t!==null)if(e=fh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=M5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hv=t,null}function W5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UX()){case OP:return 1;case D5:return 4;case Vv:case GX:return 16;case I5:return 536870912;default:return 16}default:return 16}}var bc=null,WP=null,av=null;function H5(){if(av)return av;var t,e=WP,r=e.length,n,i="value"in bc?bc.value:bc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return av=i.slice(t,1<n?1-n:void 0)}function ov(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ib(){return!0}function O2(){return!1}function Wa(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ib:O2,this.isPropagationStopped=O2,this}return Qn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ib)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ib)},persist:function(){},isPersistent:ib}),e}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HP=Wa(yp),By=Qn({},yp,{view:0,detail:0}),iq=Wa(By),Mk,Nk,tg,lx=Qn({},By,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tg&&(tg&&t.type==="mousemove"?(Mk=t.screenX-tg.screenX,Nk=t.screenY-tg.screenY):Nk=Mk=0,tg=t),Mk)},movementY:function(t){return"movementY"in t?t.movementY:Nk}}),$2=Wa(lx),sq=Qn({},lx,{dataTransfer:0}),aq=Wa(sq),oq=Qn({},By,{relatedTarget:0}),Ek=Wa(oq),lq=Qn({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),uq=Wa(lq),cq=Qn({},yp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dq=Wa(cq),hq=Qn({},yp,{data:0}),V2=Wa(hq),fq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gq[t])?!!e[t]:!1}function UP(){return mq}var yq=Qn({},By,{key:function(t){if(t.key){var e=fq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ov(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UP,charCode:function(t){return t.type==="keypress"?ov(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ov(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bq=Wa(yq),vq=Qn({},lx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z2=Wa(vq),wq=Qn({},By,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UP}),xq=Wa(wq),Sq=Qn({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),kq=Wa(Sq),_q=Qn({},lx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cq=Wa(_q),Tq=[9,13,27,32],GP=Cu&&"CompositionEvent"in window,jg=null;Cu&&"documentMode"in document&&(jg=document.documentMode);var Pq=Cu&&"TextEvent"in window&&!jg,U5=Cu&&(!GP||jg&&8<jg&&11>=jg),W2=" ",H2=!1;function G5(t,e){switch(t){case"keyup":return Tq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uf=!1;function Bq(t,e){switch(t){case"compositionend":return j5(e);case"keypress":return e.which!==32?null:(H2=!0,W2);case"textInput":return t=e.data,t===W2&&H2?null:t;default:return null}}function Mq(t,e){if(uf)return t==="compositionend"||!GP&&G5(t,e)?(t=H5(),av=WP=bc=null,uf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U5&&e.locale!=="ko"?null:e.data;default:return null}}var Nq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nq[t.type]:e==="textarea"}function Y5(t,e,r,n){_5(n),e=Uv(e,"onChange"),0<e.length&&(r=new HP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yg=null,_m=null;function Eq(t){i3(t,0)}function ux(t){var e=hf(t);if(y5(e))return t}function Rq(t,e){if(t==="change")return e}var X5=!1;if(Cu){var Rk;if(Cu){var Dk="oninput"in document;if(!Dk){var G2=document.createElement("div");G2.setAttribute("oninput","return;"),Dk=typeof G2.oninput=="function"}Rk=Dk}else Rk=!1;X5=Rk&&(!document.documentMode||9<document.documentMode)}function j2(){Yg&&(Yg.detachEvent("onpropertychange",q5),_m=Yg=null)}function q5(t){if(t.propertyName==="value"&&ux(_m)){var e=[];Y5(e,_m,t,AP(t)),B5(Eq,e)}}function Dq(t,e,r){t==="focusin"?(j2(),Yg=e,_m=r,Yg.attachEvent("onpropertychange",q5)):t==="focusout"&&j2()}function Iq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ux(_m)}function Lq(t,e){if(t==="click")return ux(e)}function Fq(t,e){if(t==="input"||t==="change")return ux(e)}function Aq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ul=typeof Object.is=="function"?Object.is:Aq;function Cm(t,e){if(ul(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vC.call(e,i)||!ul(t[i],e[i]))return!1}return!0}function Y2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X2(t,e){var r=Y2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Y2(r)}}function K5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q5(){for(var t=window,e=Av();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Av(t.document)}return e}function jP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Oq(t){var e=Q5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&K5(r.ownerDocument.documentElement,r)){if(n!==null&&jP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=X2(r,s);var a=X2(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $q=Cu&&"documentMode"in document&&11>=document.documentMode,cf=null,OC=null,Xg=null,$C=!1;function q2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$C||cf==null||cf!==Av(n)||(n=cf,"selectionStart"in n&&jP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xg&&Cm(Xg,n)||(Xg=n,n=Uv(OC,"onSelect"),0<n.length&&(e=new HP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cf)))}function sb(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var df={animationend:sb("Animation","AnimationEnd"),animationiteration:sb("Animation","AnimationIteration"),animationstart:sb("Animation","AnimationStart"),transitionend:sb("Transition","TransitionEnd")},Ik={},J5={};Cu&&(J5=document.createElement("div").style,"AnimationEvent"in window||(delete df.animationend.animation,delete df.animationiteration.animation,delete df.animationstart.animation),"TransitionEvent"in window||delete df.transitionend.transition);function cx(t){if(Ik[t])return Ik[t];if(!df[t])return t;var e=df[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in J5)return Ik[t]=e[r];return t}var Z5=cx("animationend"),e3=cx("animationiteration"),t3=cx("animationstart"),r3=cx("transitionend"),n3=new Map,K2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gc(t,e){n3.set(t,e),hh(e,[t])}for(var Lk=0;Lk<K2.length;Lk++){var Fk=K2[Lk],Vq=Fk.toLowerCase(),zq=Fk[0].toUpperCase()+Fk.slice(1);Gc(Vq,"on"+zq)}Gc(Z5,"onAnimationEnd");Gc(e3,"onAnimationIteration");Gc(t3,"onAnimationStart");Gc("dblclick","onDoubleClick");Gc("focusin","onFocus");Gc("focusout","onBlur");Gc(r3,"onTransitionEnd");Vf("onMouseEnter",["mouseout","mouseover"]);Vf("onMouseLeave",["mouseout","mouseover"]);Vf("onPointerEnter",["pointerout","pointerover"]);Vf("onPointerLeave",["pointerout","pointerover"]);hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ig="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ig));function Q2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VX(n,e,void 0,t),t.currentTarget=null}function i3(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Q2(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Q2(i,o,u),s=l}}}if($v)throw t=IC,$v=!1,IC=null,t}function Bn(t,e){var r=e[UC];r===void 0&&(r=e[UC]=new Set);var n=t+"__bubble";r.has(n)||(s3(e,t,2,!1),r.add(n))}function Ak(t,e,r){var n=0;e&&(n|=4),s3(r,t,n,e)}var ab="_reactListening"+Math.random().toString(36).slice(2);function Tm(t){if(!t[ab]){t[ab]=!0,h5.forEach(function(r){r!=="selectionchange"&&(Wq.has(r)||Ak(r,!1,t),Ak(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ab]||(e[ab]=!0,Ak("selectionchange",!1,e))}}function s3(t,e,r,n){switch(W5(e)){case 1:var i=rq;break;case 4:i=nq;break;default:i=zP}r=i.bind(null,e,r,t),i=void 0,!DC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ok(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Td(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}B5(function(){var u=s,c=AP(r),h=[];e:{var f=n3.get(t);if(f!==void 0){var m=HP,g=t;switch(t){case"keypress":if(ov(r)===0)break e;case"keydown":case"keyup":m=bq;break;case"focusin":g="focus",m=Ek;break;case"focusout":g="blur",m=Ek;break;case"beforeblur":case"afterblur":m=Ek;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xq;break;case Z5:case e3:case t3:m=uq;break;case r3:m=kq;break;case"scroll":m=iq;break;case"wheel":m=Cq;break;case"copy":case"cut":case"paste":m=dq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=z2}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,w;v!==null;){w=v;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=wm(v,x),T!=null&&y.push(Pm(v,T,w)))),b)break;v=v.return}0<y.length&&(f=new m(f,g,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==EC&&(g=r.relatedTarget||r.fromElement)&&(Td(g)||g[Tu]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Td(g):null,g!==null&&(b=fh(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=$2,T="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=z2,T="onPointerLeave",x="onPointerEnter",v="pointer"),b=m==null?f:hf(m),w=g==null?f:hf(g),f=new y(T,v+"leave",m,r,c),f.target=b,f.relatedTarget=w,T=null,Td(c)===u&&(y=new y(x,v+"enter",g,r,c),y.target=w,y.relatedTarget=b,T=y),b=T,m&&g)t:{for(y=m,x=g,v=0,w=y;w;w=Oh(w))v++;for(w=0,T=x;T;T=Oh(T))w++;for(;0<v-w;)y=Oh(y),v--;for(;0<w-v;)x=Oh(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=Oh(y),x=Oh(x)}y=null}else y=null;m!==null&&J2(h,f,m,y,!1),g!==null&&b!==null&&J2(h,b,g,y,!0)}}e:{if(f=u?hf(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=Rq;else if(U2(f))if(X5)P=Fq;else{P=Iq;var C=Dq}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=Lq);if(P&&(P=P(t,u))){Y5(h,P,r,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&TC(f,"number",f.value)}switch(C=u?hf(u):window,t){case"focusin":(U2(C)||C.contentEditable==="true")&&(cf=C,OC=u,Xg=null);break;case"focusout":Xg=OC=cf=null;break;case"mousedown":$C=!0;break;case"contextmenu":case"mouseup":case"dragend":$C=!1,q2(h,r,c);break;case"selectionchange":if($q)break;case"keydown":case"keyup":q2(h,r,c)}var M;if(GP)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else uf?G5(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(U5&&r.locale!=="ko"&&(uf||E!=="onCompositionStart"?E==="onCompositionEnd"&&uf&&(M=H5()):(bc=c,WP="value"in bc?bc.value:bc.textContent,uf=!0)),C=Uv(u,E),0<C.length&&(E=new V2(E,t,null,r,c),h.push({event:E,listeners:C}),M?E.data=M:(M=j5(r),M!==null&&(E.data=M)))),(M=Pq?Bq(t,r):Mq(t,r))&&(u=Uv(u,"onBeforeInput"),0<u.length&&(c=new V2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=M))}i3(h,e)})}function Pm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wm(t,r),s!=null&&n.unshift(Pm(t,s,i)),s=wm(t,e),s!=null&&n.push(Pm(t,s,i))),t=t.return}return n}function Oh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J2(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=wm(r,s),l!=null&&a.unshift(Pm(r,l,o))):i||(l=wm(r,s),l!=null&&a.push(Pm(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Hq=/\r\n?/g,Uq=/\u0000|\uFFFD/g;function Z2(t){return(typeof t=="string"?t:""+t).replace(Hq,`
`).replace(Uq,"")}function ob(t,e,r){if(e=Z2(e),Z2(t)!==e&&r)throw Error(it(425))}function Gv(){}var VC=null,zC=null;function WC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var HC=typeof setTimeout=="function"?setTimeout:void 0,Gq=typeof clearTimeout=="function"?clearTimeout:void 0,eD=typeof Promise=="function"?Promise:void 0,jq=typeof queueMicrotask=="function"?queueMicrotask:typeof eD<"u"?function(t){return eD.resolve(null).then(t).catch(Yq)}:HC;function Yq(t){setTimeout(function(){throw t})}function $k(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),km(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);km(e)}function Pc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bp=Math.random().toString(36).slice(2),Pl="__reactFiber$"+bp,Bm="__reactProps$"+bp,Tu="__reactContainer$"+bp,UC="__reactEvents$"+bp,Xq="__reactListeners$"+bp,qq="__reactHandles$"+bp;function Td(t){var e=t[Pl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tu]||r[Pl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tD(t);t!==null;){if(r=t[Pl])return r;t=tD(t)}return e}t=r,r=t.parentNode}return null}function My(t){return t=t[Pl]||t[Tu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function dx(t){return t[Bm]||null}var GC=[],ff=-1;function jc(t){return{current:t}}function Rn(t){0>ff||(t.current=GC[ff],GC[ff]=null,ff--)}function Cn(t,e){ff++,GC[ff]=t.current,t.current=e}var Oc={},Ss=jc(Oc),aa=jc(!1),Kd=Oc;function zf(t,e){var r=t.type.contextTypes;if(!r)return Oc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oa(t){return t=t.childContextTypes,t!=null}function jv(){Rn(aa),Rn(Ss)}function rD(t,e,r){if(Ss.current!==Oc)throw Error(it(168));Cn(Ss,e),Cn(aa,r)}function a3(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(it(108,DX(t)||"Unknown",i));return Qn({},r,n)}function Yv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oc,Kd=Ss.current,Cn(Ss,t),Cn(aa,aa.current),!0}function nD(t,e,r){var n=t.stateNode;if(!n)throw Error(it(169));r?(t=a3(t,e,Kd),n.__reactInternalMemoizedMergedChildContext=t,Rn(aa),Rn(Ss),Cn(Ss,t)):Rn(aa),Cn(aa,r)}var lu=null,hx=!1,Vk=!1;function o3(t){lu===null?lu=[t]:lu.push(t)}function Kq(t){hx=!0,o3(t)}function Yc(){if(!Vk&&lu!==null){Vk=!0;var t=0,e=ln;try{var r=lu;for(ln=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}lu=null,hx=!1}catch(i){throw lu!==null&&(lu=lu.slice(t+1)),R5(OP,Yc),i}finally{ln=e,Vk=!1}}return null}var pf=[],gf=0,Xv=null,qv=0,so=[],ao=0,Qd=null,fu=1,pu="";function md(t,e){pf[gf++]=qv,pf[gf++]=Xv,Xv=t,qv=e}function l3(t,e,r){so[ao++]=fu,so[ao++]=pu,so[ao++]=Qd,Qd=t;var n=fu;t=pu;var i=32-il(n)-1;n&=~(1<<i),r+=1;var s=32-il(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,fu=1<<32-il(e)+i|r<<i|n,pu=s+t}else fu=1<<s|r<<i|n,pu=t}function YP(t){t.return!==null&&(md(t,1),l3(t,1,0))}function XP(t){for(;t===Xv;)Xv=pf[--gf],pf[gf]=null,qv=pf[--gf],pf[gf]=null;for(;t===Qd;)Qd=so[--ao],so[ao]=null,pu=so[--ao],so[ao]=null,fu=so[--ao],so[ao]=null}var Ea=null,Ma=null,Wn=!1,jo=null;function u3(t,e){var r=mo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iD(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ea=t,Ma=Pc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ea=t,Ma=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qd!==null?{id:fu,overflow:pu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=mo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ea=t,Ma=null,!0):!1;default:return!1}}function jC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function YC(t){if(Wn){var e=Ma;if(e){var r=e;if(!iD(t,e)){if(jC(t))throw Error(it(418));e=Pc(r.nextSibling);var n=Ea;e&&iD(t,e)?u3(n,r):(t.flags=t.flags&-4097|2,Wn=!1,Ea=t)}}else{if(jC(t))throw Error(it(418));t.flags=t.flags&-4097|2,Wn=!1,Ea=t}}}function sD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ea=t}function lb(t){if(t!==Ea)return!1;if(!Wn)return sD(t),Wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!WC(t.type,t.memoizedProps)),e&&(e=Ma)){if(jC(t))throw c3(),Error(it(418));for(;e;)u3(t,e),e=Pc(e.nextSibling)}if(sD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ma=Pc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ma=null}}else Ma=Ea?Pc(t.stateNode.nextSibling):null;return!0}function c3(){for(var t=Ma;t;)t=Pc(t.nextSibling)}function Wf(){Ma=Ea=null,Wn=!1}function qP(t){jo===null?jo=[t]:jo.push(t)}var Qq=Au.ReactCurrentBatchConfig;function zo(t,e){if(t&&t.defaultProps){e=Qn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Kv=jc(null),Qv=null,mf=null,KP=null;function QP(){KP=mf=Qv=null}function JP(t){var e=Kv.current;Rn(Kv),t._currentValue=e}function XC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mf(t,e){Qv=t,KP=mf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ra=!0),t.firstContext=null)}function So(t){var e=t._currentValue;if(KP!==t)if(t={context:t,memoizedValue:e,next:null},mf===null){if(Qv===null)throw Error(it(308));mf=t,Qv.dependencies={lanes:0,firstContext:t}}else mf=mf.next=t;return e}var Pd=null;function ZP(t){Pd===null?Pd=[t]:Pd.push(t)}function d3(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ZP(e)):(r.next=i.next,i.next=r),e.interleaved=r,Pu(t,n)}function Pu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var pc=!1;function eB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Pu(t,r)}return i=n.interleaved,i===null?(e.next=e,ZP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Pu(t,r)}function lv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$P(t,r)}}function aD(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jv(t,e,r,n){var i=t.updateQueue;pc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(f=e,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Qn({},h,f);break e;case 2:pc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zd|=a,t.lanes=a,t.memoizedState=h}}function oD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(it(191,i));i.call(n)}}}var f3=new d5.Component().refs;function qC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fx={isMounted:function(t){return(t=t._reactInternals)?fh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vs(),i=Nc(t),s=xu(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bc(t,s,i),e!==null&&(sl(e,t,i,n),lv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vs(),i=Nc(t),s=xu(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bc(t,s,i),e!==null&&(sl(e,t,i,n),lv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vs(),n=Nc(t),i=xu(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bc(t,i,n),e!==null&&(sl(e,t,n,r),lv(e,t,n))}};function lD(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Cm(r,n)||!Cm(i,s):!0}function p3(t,e,r){var n=!1,i=Oc,s=e.contextType;return typeof s=="object"&&s!==null?s=So(s):(i=oa(e)?Kd:Ss.current,n=e.contextTypes,s=(n=n!=null)?zf(t,i):Oc),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fx.enqueueReplaceState(e,e.state,null)}function KC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=f3,eB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=So(s):(s=oa(e)?Kd:Ss.current,i.context=zf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qC(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fx.enqueueReplaceState(i,i.state,null),Jv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(it(309));var n=r.stateNode}if(!n)throw Error(it(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;o===f3&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(it(284));if(!r._owner)throw Error(it(290,t))}return t}function ub(t,e){throw t=Object.prototype.toString.call(e),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cD(t){var e=t._init;return e(t._payload)}function g3(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Ec(x,v),x.index=0,x.sibling=null,x}function s(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,v,w,T){return v===null||v.tag!==6?(v=Yk(w,x.mode,T),v.return=x,v):(v=i(v,w),v.return=x,v)}function l(x,v,w,T){var P=w.type;return P===lf?c(x,v,w.props.children,T,w.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fc&&cD(P)===v.type)?(T=i(v,w.props),T.ref=rg(x,v,w),T.return=x,T):(T=pv(w.type,w.key,w.props,null,x.mode,T),T.ref=rg(x,v,w),T.return=x,T)}function u(x,v,w,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Xk(w,x.mode,T),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function c(x,v,w,T,P){return v===null||v.tag!==7?(v=Wd(w,x.mode,T,P),v.return=x,v):(v=i(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yk(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case J0:return w=pv(v.type,v.key,v.props,null,x.mode,w),w.ref=rg(x,null,v),w.return=x,w;case of:return v=Xk(v,x.mode,w),v.return=x,v;case fc:var T=v._init;return h(x,T(v._payload),w)}if(Rg(v)||Qp(v))return v=Wd(v,x.mode,w,null),v.return=x,v;ub(x,v)}return null}function f(x,v,w,T){var P=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(x,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:return w.key===P?l(x,v,w,T):null;case of:return w.key===P?u(x,v,w,T):null;case fc:return P=w._init,f(x,v,P(w._payload),T)}if(Rg(w)||Qp(w))return P!==null?null:c(x,v,w,T,null);ub(x,w)}return null}function m(x,v,w,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(w)||null,o(v,x,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case J0:return x=x.get(T.key===null?w:T.key)||null,l(v,x,T,P);case of:return x=x.get(T.key===null?w:T.key)||null,u(v,x,T,P);case fc:var C=T._init;return m(x,v,w,C(T._payload),P)}if(Rg(T)||Qp(T))return x=x.get(w)||null,c(v,x,T,P,null);ub(v,T)}return null}function g(x,v,w,T){for(var P=null,C=null,M=v,E=v=0,D=null;M!==null&&E<w.length;E++){M.index>E?(D=M,M=null):D=M.sibling;var I=f(x,M,w[E],T);if(I===null){M===null&&(M=D);break}t&&M&&I.alternate===null&&e(x,M),v=s(I,v,E),C===null?P=I:C.sibling=I,C=I,M=D}if(E===w.length)return r(x,M),Wn&&md(x,E),P;if(M===null){for(;E<w.length;E++)M=h(x,w[E],T),M!==null&&(v=s(M,v,E),C===null?P=M:C.sibling=M,C=M);return Wn&&md(x,E),P}for(M=n(x,M);E<w.length;E++)D=m(M,x,E,w[E],T),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?E:D.key),v=s(D,v,E),C===null?P=D:C.sibling=D,C=D);return t&&M.forEach(function(A){return e(x,A)}),Wn&&md(x,E),P}function y(x,v,w,T){var P=Qp(w);if(typeof P!="function")throw Error(it(150));if(w=P.call(w),w==null)throw Error(it(151));for(var C=P=null,M=v,E=v=0,D=null,I=w.next();M!==null&&!I.done;E++,I=w.next()){M.index>E?(D=M,M=null):D=M.sibling;var A=f(x,M,I.value,T);if(A===null){M===null&&(M=D);break}t&&M&&A.alternate===null&&e(x,M),v=s(A,v,E),C===null?P=A:C.sibling=A,C=A,M=D}if(I.done)return r(x,M),Wn&&md(x,E),P;if(M===null){for(;!I.done;E++,I=w.next())I=h(x,I.value,T),I!==null&&(v=s(I,v,E),C===null?P=I:C.sibling=I,C=I);return Wn&&md(x,E),P}for(M=n(x,M);!I.done;E++,I=w.next())I=m(M,x,E,I.value,T),I!==null&&(t&&I.alternate!==null&&M.delete(I.key===null?E:I.key),v=s(I,v,E),C===null?P=I:C.sibling=I,C=I);return t&&M.forEach(function(W){return e(x,W)}),Wn&&md(x,E),P}function b(x,v,w,T){if(typeof w=="object"&&w!==null&&w.type===lf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:e:{for(var P=w.key,C=v;C!==null;){if(C.key===P){if(P=w.type,P===lf){if(C.tag===7){r(x,C.sibling),v=i(C,w.props.children),v.return=x,x=v;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fc&&cD(P)===C.type){r(x,C.sibling),v=i(C,w.props),v.ref=rg(x,C,w),v.return=x,x=v;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===lf?(v=Wd(w.props.children,x.mode,T,w.key),v.return=x,x=v):(T=pv(w.type,w.key,w.props,null,x.mode,T),T.ref=rg(x,v,w),T.return=x,x=T)}return a(x);case of:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(x,v.sibling),v=i(v,w.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=Xk(w,x.mode,T),v.return=x,x=v}return a(x);case fc:return C=w._init,b(x,v,C(w._payload),T)}if(Rg(w))return g(x,v,w,T);if(Qp(w))return y(x,v,w,T);ub(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(x,v.sibling),v=i(v,w),v.return=x,x=v):(r(x,v),v=Yk(w,x.mode,T),v.return=x,x=v),a(x)):r(x,v)}return b}var Hf=g3(!0),m3=g3(!1),Ny={},Ll=jc(Ny),Mm=jc(Ny),Nm=jc(Ny);function Bd(t){if(t===Ny)throw Error(it(174));return t}function tB(t,e){switch(Cn(Nm,e),Cn(Mm,t),Cn(Ll,Ny),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:BC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=BC(e,t)}Rn(Ll),Cn(Ll,e)}function Uf(){Rn(Ll),Rn(Mm),Rn(Nm)}function y3(t){Bd(Nm.current);var e=Bd(Ll.current),r=BC(e,t.type);e!==r&&(Cn(Mm,t),Cn(Ll,r))}function rB(t){Mm.current===t&&(Rn(Ll),Rn(Mm))}var jn=jc(0);function Zv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zk=[];function nB(){for(var t=0;t<zk.length;t++)zk[t]._workInProgressVersionPrimary=null;zk.length=0}var uv=Au.ReactCurrentDispatcher,Wk=Au.ReactCurrentBatchConfig,Jd=0,qn=null,$i=null,Qi=null,ew=!1,qg=!1,Em=0,Jq=0;function ms(){throw Error(it(321))}function iB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ul(t[r],e[r]))return!1;return!0}function sB(t,e,r,n,i,s){if(Jd=s,qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uv.current=t===null||t.memoizedState===null?rK:nK,t=r(n,i),qg){s=0;do{if(qg=!1,Em=0,25<=s)throw Error(it(301));s+=1,Qi=$i=null,e.updateQueue=null,uv.current=iK,t=r(n,i)}while(qg)}if(uv.current=tw,e=$i!==null&&$i.next!==null,Jd=0,Qi=$i=qn=null,ew=!1,e)throw Error(it(300));return t}function aB(){var t=Em!==0;return Em=0,t}function xl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?qn.memoizedState=Qi=t:Qi=Qi.next=t,Qi}function ko(){if($i===null){var t=qn.alternate;t=t!==null?t.memoizedState:null}else t=$i.next;var e=Qi===null?qn.memoizedState:Qi.next;if(e!==null)Qi=e,$i=t;else{if(t===null)throw Error(it(310));$i=t,t={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},Qi===null?qn.memoizedState=Qi=t:Qi=Qi.next=t}return Qi}function Rm(t,e){return typeof e=="function"?e(t):e}function Hk(t){var e=ko(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=$i,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Jd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,qn.lanes|=c,Zd|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ul(n,e.memoizedState)||(ra=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,qn.lanes|=s,Zd|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Uk(t){var e=ko(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ul(s,e.memoizedState)||(ra=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function b3(){}function v3(t,e){var r=qn,n=ko(),i=e(),s=!ul(n.memoizedState,i);if(s&&(n.memoizedState=i,ra=!0),n=n.queue,oB(S3.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qi!==null&&Qi.memoizedState.tag&1){if(r.flags|=2048,Dm(9,x3.bind(null,r,n,i,e),void 0,null),Zi===null)throw Error(it(349));Jd&30||w3(r,e,i)}return i}function w3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function x3(t,e,r,n){e.value=r,e.getSnapshot=n,k3(e)&&_3(t)}function S3(t,e,r){return r(function(){k3(e)&&_3(t)})}function k3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ul(t,r)}catch{return!0}}function _3(t){var e=Pu(t,1);e!==null&&sl(e,t,1,-1)}function dD(t){var e=xl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:t},e.queue=t,t=t.dispatch=tK.bind(null,qn,t),[e.memoizedState,t]}function Dm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function C3(){return ko().memoizedState}function cv(t,e,r,n){var i=xl();qn.flags|=t,i.memoizedState=Dm(1|e,r,void 0,n===void 0?null:n)}function px(t,e,r,n){var i=ko();n=n===void 0?null:n;var s=void 0;if($i!==null){var a=$i.memoizedState;if(s=a.destroy,n!==null&&iB(n,a.deps)){i.memoizedState=Dm(e,r,s,n);return}}qn.flags|=t,i.memoizedState=Dm(1|e,r,s,n)}function hD(t,e){return cv(8390656,8,t,e)}function oB(t,e){return px(2048,8,t,e)}function T3(t,e){return px(4,2,t,e)}function P3(t,e){return px(4,4,t,e)}function B3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M3(t,e,r){return r=r!=null?r.concat([t]):null,px(4,4,B3.bind(null,e,t),r)}function lB(){}function N3(t,e){var r=ko();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function E3(t,e){var r=ko();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function R3(t,e,r){return Jd&21?(ul(r,e)||(r=L5(),qn.lanes|=r,Zd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ra=!0),t.memoizedState=r)}function Zq(t,e){var r=ln;ln=r!==0&&4>r?r:4,t(!0);var n=Wk.transition;Wk.transition={};try{t(!1),e()}finally{ln=r,Wk.transition=n}}function D3(){return ko().memoizedState}function eK(t,e,r){var n=Nc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},I3(t))L3(e,r);else if(r=d3(t,e,r,n),r!==null){var i=Vs();sl(r,t,n,i),F3(r,e,n)}}function tK(t,e,r){var n=Nc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(I3(t))L3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ul(o,a)){var l=e.interleaved;l===null?(i.next=i,ZP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=d3(t,e,i,n),r!==null&&(i=Vs(),sl(r,t,n,i),F3(r,e,n))}}function I3(t){var e=t.alternate;return t===qn||e!==null&&e===qn}function L3(t,e){qg=ew=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function F3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$P(t,r)}}var tw={readContext:So,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},rK={readContext:So,useCallback:function(t,e){return xl().memoizedState=[t,e===void 0?null:e],t},useContext:So,useEffect:hD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,cv(4194308,4,B3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cv(4194308,4,t,e)},useInsertionEffect:function(t,e){return cv(4,2,t,e)},useMemo:function(t,e){var r=xl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eK.bind(null,qn,t),[n.memoizedState,t]},useRef:function(t){var e=xl();return t={current:t},e.memoizedState=t},useState:dD,useDebugValue:lB,useDeferredValue:function(t){return xl().memoizedState=t},useTransition:function(){var t=dD(!1),e=t[0];return t=Zq.bind(null,t[1]),xl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qn,i=xl();if(Wn){if(r===void 0)throw Error(it(407));r=r()}else{if(r=e(),Zi===null)throw Error(it(349));Jd&30||w3(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,hD(S3.bind(null,n,s,t),[t]),n.flags|=2048,Dm(9,x3.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=xl(),e=Zi.identifierPrefix;if(Wn){var r=pu,n=fu;r=(n&~(1<<32-il(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Em++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Jq++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nK={readContext:So,useCallback:N3,useContext:So,useEffect:oB,useImperativeHandle:M3,useInsertionEffect:T3,useLayoutEffect:P3,useMemo:E3,useReducer:Hk,useRef:C3,useState:function(){return Hk(Rm)},useDebugValue:lB,useDeferredValue:function(t){var e=ko();return R3(e,$i.memoizedState,t)},useTransition:function(){var t=Hk(Rm)[0],e=ko().memoizedState;return[t,e]},useMutableSource:b3,useSyncExternalStore:v3,useId:D3,unstable_isNewReconciler:!1},iK={readContext:So,useCallback:N3,useContext:So,useEffect:oB,useImperativeHandle:M3,useInsertionEffect:T3,useLayoutEffect:P3,useMemo:E3,useReducer:Uk,useRef:C3,useState:function(){return Uk(Rm)},useDebugValue:lB,useDeferredValue:function(t){var e=ko();return $i===null?e.memoizedState=t:R3(e,$i.memoizedState,t)},useTransition:function(){var t=Uk(Rm)[0],e=ko().memoizedState;return[t,e]},useMutableSource:b3,useSyncExternalStore:v3,useId:D3,unstable_isNewReconciler:!1};function Gf(t,e){try{var r="",n=e;do r+=RX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gk(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function QC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sK=typeof WeakMap=="function"?WeakMap:Map;function A3(t,e,r){r=xu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){nw||(nw=!0,oT=n),QC(t,e)},r}function O3(t,e,r){r=xu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){QC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){QC(t,e),typeof n!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function fD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=vK.bind(null,t,e,r),e.then(t,t))}function pD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gD(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xu(-1,1),e.tag=2,Bc(r,e,1))),r.lanes|=1),t)}var aK=Au.ReactCurrentOwner,ra=!1;function Es(t,e,r,n){e.child=t===null?m3(e,null,r,n):Hf(e,t.child,r,n)}function mD(t,e,r,n,i){r=r.render;var s=e.ref;return Mf(e,i),n=sB(t,e,r,n,s,i),r=aB(),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Wn&&r&&YP(e),e.flags|=1,Es(t,e,n,i),e.child)}function yD(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,$3(t,e,s,n,i)):(t=pv(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Cm,r(a,n)&&t.ref===e.ref)return Bu(t,e,i)}return e.flags|=1,t=Ec(s,n),t.ref=e.ref,t.return=e,e.child=t}function $3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Cm(s,n)&&t.ref===e.ref)if(ra=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ra=!0);else return e.lanes=t.lanes,Bu(t,e,i)}return JC(t,e,r,n,i)}function V3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(bf,ka),ka|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cn(bf,ka),ka|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Cn(bf,ka),ka|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Cn(bf,ka),ka|=n;return Es(t,e,i,r),e.child}function z3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function JC(t,e,r,n,i){var s=oa(r)?Kd:Ss.current;return s=zf(e,s),Mf(e,i),r=sB(t,e,r,n,s,i),n=aB(),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Wn&&n&&YP(e),e.flags|=1,Es(t,e,r,i),e.child)}function bD(t,e,r,n,i){if(oa(r)){var s=!0;Yv(e)}else s=!1;if(Mf(e,i),e.stateNode===null)dv(t,e),p3(e,r,n),KC(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=So(u):(u=oa(r)?Kd:Ss.current,u=zf(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&uD(e,a,n,u),pc=!1;var f=e.memoizedState;a.state=f,Jv(e,n,a,i),l=e.memoizedState,o!==n||f!==l||aa.current||pc?(typeof c=="function"&&(qC(e,r,c,n),l=e.memoizedState),(o=pc||lD(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,h3(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:zo(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=So(l):(l=oa(r)?Kd:Ss.current,l=zf(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&uD(e,a,n,l),pc=!1,f=e.memoizedState,a.state=f,Jv(e,n,a,i);var g=e.memoizedState;o!==h||f!==g||aa.current||pc?(typeof m=="function"&&(qC(e,r,m,n),g=e.memoizedState),(u=pc||lD(e,r,u,n,f,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ZC(t,e,r,n,s,i)}function ZC(t,e,r,n,i,s){z3(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&nD(e,r,!1),Bu(t,e,s);n=e.stateNode,aK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Hf(e,t.child,null,s),e.child=Hf(e,null,o,s)):Es(t,e,o,s),e.memoizedState=n.state,i&&nD(e,r,!0),e.child}function W3(t){var e=t.stateNode;e.pendingContext?rD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rD(t,e.context,!1),tB(t,e.containerInfo)}function vD(t,e,r,n,i){return Wf(),qP(i),e.flags|=256,Es(t,e,r,n),e.child}var eT={dehydrated:null,treeContext:null,retryLane:0};function tT(t){return{baseLanes:t,cachePool:null,transitions:null}}function H3(t,e,r){var n=e.pendingProps,i=jn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cn(jn,i&1),t===null)return YC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=yx(a,n,0,null),t=Wd(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tT(r),e.memoizedState=eT,t):uB(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ec(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ec(o,s):(s=Wd(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?tT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=eT,n}return s=t.child,t=s.sibling,n=Ec(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function uB(t,e){return e=yx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cb(t,e,r,n){return n!==null&&qP(n),Hf(e,t.child,null,r),t=uB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Gk(Error(it(422))),cb(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=yx({mode:"visible",children:n.children},i,0,null),s=Wd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Hf(e,t.child,null,a),e.child.memoizedState=tT(a),e.memoizedState=eT,s);if(!(e.mode&1))return cb(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(it(419)),n=Gk(s,n,void 0),cb(t,e,a,n)}if(o=(a&t.childLanes)!==0,ra||o){if(n=Zi,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pu(t,i),sl(n,t,i,-1))}return gB(),n=Gk(Error(it(421))),cb(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ma=Pc(i.nextSibling),Ea=e,Wn=!0,jo=null,t!==null&&(so[ao++]=fu,so[ao++]=pu,so[ao++]=Qd,fu=t.id,pu=t.overflow,Qd=e),e=uB(e,n.children),e.flags|=4096,e)}function wD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),XC(t.return,e,r)}function jk(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function U3(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Es(t,e,n.children,r),n=jn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wD(t,r,e);else if(t.tag===19)wD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cn(jn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Zv(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jk(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zv(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jk(e,!0,r,null,s);break;case"together":jk(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(it(153));if(e.child!==null){for(t=e.child,r=Ec(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ec(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lK(t,e,r){switch(e.tag){case 3:W3(e),Wf();break;case 5:y3(e);break;case 1:oa(e.type)&&Yv(e);break;case 4:tB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Cn(Kv,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cn(jn,jn.current&1),e.flags|=128,null):r&e.child.childLanes?H3(t,e,r):(Cn(jn,jn.current&1),t=Bu(t,e,r),t!==null?t.sibling:null);Cn(jn,jn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return U3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(jn,jn.current),n)break;return null;case 22:case 23:return e.lanes=0,V3(t,e,r)}return Bu(t,e,r)}var G3,rT,j3,Y3;G3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rT=function(){};j3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Bd(Ll.current);var s=null;switch(r){case"input":i=_C(t,i),n=_C(t,n),s=[];break;case"select":i=Qn({},i,{value:void 0}),n=Qn({},n,{value:void 0}),s=[];break;case"textarea":i=PC(t,i),n=PC(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gv)}MC(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Bn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Y3=function(t,e,r,n){r!==n&&(e.flags|=4)};function ng(t,e){if(!Wn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ys(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function uK(t,e,r){var n=e.pendingProps;switch(XP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(e),null;case 1:return oa(e.type)&&jv(),ys(e),null;case 3:return n=e.stateNode,Uf(),Rn(aa),Rn(Ss),nB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(lb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jo!==null&&(cT(jo),jo=null))),rT(t,e),ys(e),null;case 5:rB(e);var i=Bd(Nm.current);if(r=e.type,t!==null&&e.stateNode!=null)j3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(it(166));return ys(e),null}if(t=Bd(Ll.current),lb(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Pl]=e,n[Bm]=s,t=(e.mode&1)!==0,r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Ig.length;i++)Bn(Ig[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":M2(n,s),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Bn("invalid",n);break;case"textarea":E2(n,s),Bn("invalid",n)}MC(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&ob(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ob(n.textContent,o,t),i=["children",""+o]):bm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Bn("scroll",n)}switch(r){case"input":Z0(n),N2(n,s,!0);break;case"textarea":Z0(n),R2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gv)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Pl]=e,t[Bm]=n,G3(t,e,!1,!1),e.stateNode=t;e:{switch(a=NC(r,n),r){case"dialog":Bn("cancel",t),Bn("close",t),i=n;break;case"iframe":case"object":case"embed":Bn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ig.length;i++)Bn(Ig[i],t);i=n;break;case"source":Bn("error",t),i=n;break;case"img":case"image":case"link":Bn("error",t),Bn("load",t),i=n;break;case"details":Bn("toggle",t),i=n;break;case"input":M2(t,n),i=_C(t,n),Bn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qn({},n,{value:void 0}),Bn("invalid",t);break;case"textarea":E2(t,n),i=PC(t,n),Bn("invalid",t);break;default:i=n}MC(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?k5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&vm(t,l):typeof l=="number"&&vm(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Bn("scroll",t):l!=null&&DP(t,s,l,a))}switch(r){case"input":Z0(t),N2(t,n,!1);break;case"textarea":Z0(t),R2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ac(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Cf(t,!!n.multiple,s,!1):n.defaultValue!=null&&Cf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ys(e),null;case 6:if(t&&e.stateNode!=null)Y3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(it(166));if(r=Bd(Nm.current),Bd(Ll.current),lb(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pl]=e,(s=n.nodeValue!==r)&&(t=Ea,t!==null))switch(t.tag){case 3:ob(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ob(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pl]=e,e.stateNode=n}return ys(e),null;case 13:if(Rn(jn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wn&&Ma!==null&&e.mode&1&&!(e.flags&128))c3(),Wf(),e.flags|=98560,s=!1;else if(s=lb(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(it(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(it(317));s[Pl]=e}else Wf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ys(e),s=!1}else jo!==null&&(cT(jo),jo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?zi===0&&(zi=3):gB())),e.updateQueue!==null&&(e.flags|=4),ys(e),null);case 4:return Uf(),rT(t,e),t===null&&Tm(e.stateNode.containerInfo),ys(e),null;case 10:return JP(e.type._context),ys(e),null;case 17:return oa(e.type)&&jv(),ys(e),null;case 19:if(Rn(jn),s=e.memoizedState,s===null)return ys(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ng(s,!1);else{if(zi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Zv(t),a!==null){for(e.flags|=128,ng(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Cn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&wi()>jf&&(e.flags|=128,n=!0,ng(s,!1),e.lanes=4194304)}else{if(!n)if(t=Zv(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ng(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Wn)return ys(e),null}else 2*wi()-s.renderingStartTime>jf&&r!==1073741824&&(e.flags|=128,n=!0,ng(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wi(),e.sibling=null,r=jn.current,Cn(jn,n?r&1|2:r&1),e):(ys(e),null);case 22:case 23:return pB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ka&1073741824&&(ys(e),e.subtreeFlags&6&&(e.flags|=8192)):ys(e),null;case 24:return null;case 25:return null}throw Error(it(156,e.tag))}function cK(t,e){switch(XP(e),e.tag){case 1:return oa(e.type)&&jv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uf(),Rn(aa),Rn(Ss),nB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rB(e),null;case 13:if(Rn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(it(340));Wf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(jn),null;case 4:return Uf(),null;case 10:return JP(e.type._context),null;case 22:case 23:return pB(),null;case 24:return null;default:return null}}var db=!1,vs=!1,dK=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function yf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ai(t,e,n)}else r.current=null}function nT(t,e,r){try{r()}catch(n){ai(t,e,n)}}var xD=!1;function hK(t,e){if(VC=Wv,t=Q5(),jP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++c===n&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zC={focusedElem:t,selectionRange:r},Wv=!1,Pt=e;Pt!==null;)if(e=Pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pt=t;else for(;Pt!==null;){e=Pt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:zo(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(T){ai(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Pt=t;break}Pt=e.return}return g=xD,xD=!1,g}function Kg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nT(e,r,s)}i=i.next}while(i!==n)}}function gx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function iT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function X3(t){var e=t.alternate;e!==null&&(t.alternate=null,X3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pl],delete e[Bm],delete e[UC],delete e[Xq],delete e[qq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q3(t){return t.tag===5||t.tag===3||t.tag===4}function SD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gv));else if(n!==4&&(t=t.child,t!==null))for(sT(t,e,r),t=t.sibling;t!==null;)sT(t,e,r),t=t.sibling}function aT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(aT(t,e,r),t=t.sibling;t!==null;)aT(t,e,r),t=t.sibling}var ls=null,Wo=!1;function tc(t,e,r){for(r=r.child;r!==null;)K3(t,e,r),r=r.sibling}function K3(t,e,r){if(Il&&typeof Il.onCommitFiberUnmount=="function")try{Il.onCommitFiberUnmount(ox,r)}catch{}switch(r.tag){case 5:vs||yf(r,e);case 6:var n=ls,i=Wo;ls=null,tc(t,e,r),ls=n,Wo=i,ls!==null&&(Wo?(t=ls,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ls.removeChild(r.stateNode));break;case 18:ls!==null&&(Wo?(t=ls,r=r.stateNode,t.nodeType===8?$k(t.parentNode,r):t.nodeType===1&&$k(t,r),km(t)):$k(ls,r.stateNode));break;case 4:n=ls,i=Wo,ls=r.stateNode.containerInfo,Wo=!0,tc(t,e,r),ls=n,Wo=i;break;case 0:case 11:case 14:case 15:if(!vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&nT(r,e,a),i=i.next}while(i!==n)}tc(t,e,r);break;case 1:if(!vs&&(yf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ai(r,e,o)}tc(t,e,r);break;case 21:tc(t,e,r);break;case 22:r.mode&1?(vs=(n=vs)||r.memoizedState!==null,tc(t,e,r),vs=n):tc(t,e,r);break;default:tc(t,e,r)}}function kD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dK),e.forEach(function(n){var i=xK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Oo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ls=o.stateNode,Wo=!1;break e;case 3:ls=o.stateNode.containerInfo,Wo=!0;break e;case 4:ls=o.stateNode.containerInfo,Wo=!0;break e}o=o.return}if(ls===null)throw Error(it(160));K3(s,a,i),ls=null,Wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ai(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q3(e,t),e=e.sibling}function Q3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),wl(t),n&4){try{Kg(3,t,t.return),gx(3,t)}catch(y){ai(t,t.return,y)}try{Kg(5,t,t.return)}catch(y){ai(t,t.return,y)}}break;case 1:Oo(e,t),wl(t),n&512&&r!==null&&yf(r,r.return);break;case 5:if(Oo(e,t),wl(t),n&512&&r!==null&&yf(r,r.return),t.flags&32){var i=t.stateNode;try{vm(i,"")}catch(y){ai(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&b5(i,s),NC(o,a);var u=NC(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?k5(i,h):c==="dangerouslySetInnerHTML"?x5(i,h):c==="children"?vm(i,h):DP(i,c,h,u)}switch(o){case"input":CC(i,s);break;case"textarea":v5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Cf(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Cf(i,!!s.multiple,s.defaultValue,!0):Cf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bm]=s}catch(y){ai(t,t.return,y)}}break;case 6:if(Oo(e,t),wl(t),n&4){if(t.stateNode===null)throw Error(it(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ai(t,t.return,y)}}break;case 3:if(Oo(e,t),wl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{km(e.containerInfo)}catch(y){ai(t,t.return,y)}break;case 4:Oo(e,t),wl(t);break;case 13:Oo(e,t),wl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hB=wi())),n&4&&kD(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(vs=(u=vs)||c,Oo(e,t),vs=u):Oo(e,t),wl(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Pt=t,c=t.child;c!==null;){for(h=Pt=c;Pt!==null;){switch(f=Pt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Kg(4,f,f.return);break;case 1:yf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ai(n,r,y)}}break;case 5:yf(f,f.return);break;case 22:if(f.memoizedState!==null){CD(h);continue}}m!==null?(m.return=f,Pt=m):CD(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=S5("display",a))}catch(y){ai(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ai(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Oo(e,t),wl(t),n&4&&kD(t);break;case 21:break;default:Oo(e,t),wl(t)}}function wl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(q3(r)){var n=r;break e}r=r.return}throw Error(it(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vm(i,""),n.flags&=-33);var s=SD(t);aT(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=SD(t);sT(t,o,a);break;default:throw Error(it(161))}}catch(l){ai(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fK(t,e,r){Pt=t,J3(t)}function J3(t,e,r){for(var n=(t.mode&1)!==0;Pt!==null;){var i=Pt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||db;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||vs;o=db;var u=vs;if(db=a,(vs=l)&&!u)for(Pt=i;Pt!==null;)a=Pt,l=a.child,a.tag===22&&a.memoizedState!==null?TD(i):l!==null?(l.return=a,Pt=l):TD(i);for(;s!==null;)Pt=s,J3(s),s=s.sibling;Pt=i,db=o,vs=u}_D(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pt=s):_D(t)}}function _D(t){for(;Pt!==null;){var e=Pt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vs||gx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vs)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:zo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oD(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oD(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&km(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}vs||e.flags&512&&iT(e)}catch(f){ai(e,e.return,f)}}if(e===t){Pt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pt=r;break}Pt=e.return}}function CD(t){for(;Pt!==null;){var e=Pt;if(e===t){Pt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pt=r;break}Pt=e.return}}function TD(t){for(;Pt!==null;){var e=Pt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gx(4,e)}catch(l){ai(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ai(e,i,l)}}var s=e.return;try{iT(e)}catch(l){ai(e,s,l)}break;case 5:var a=e.return;try{iT(e)}catch(l){ai(e,a,l)}}}catch(l){ai(e,e.return,l)}if(e===t){Pt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Pt=o;break}Pt=e.return}}var pK=Math.ceil,rw=Au.ReactCurrentDispatcher,cB=Au.ReactCurrentOwner,wo=Au.ReactCurrentBatchConfig,Xr=0,Zi=null,Di=null,ds=0,ka=0,bf=jc(0),zi=0,Im=null,Zd=0,mx=0,dB=0,Qg=null,Js=null,hB=0,jf=1/0,au=null,nw=!1,oT=null,Mc=null,hb=!1,vc=null,iw=0,Jg=0,lT=null,hv=-1,fv=0;function Vs(){return Xr&6?wi():hv!==-1?hv:hv=wi()}function Nc(t){return t.mode&1?Xr&2&&ds!==0?ds&-ds:Qq.transition!==null?(fv===0&&(fv=L5()),fv):(t=ln,t!==0||(t=window.event,t=t===void 0?16:W5(t.type)),t):1}function sl(t,e,r,n){if(50<Jg)throw Jg=0,lT=null,Error(it(185));Py(t,r,n),(!(Xr&2)||t!==Zi)&&(t===Zi&&(!(Xr&2)&&(mx|=r),zi===4&&mc(t,ds)),la(t,n),r===1&&Xr===0&&!(e.mode&1)&&(jf=wi()+500,hx&&Yc()))}function la(t,e){var r=t.callbackNode;QX(t,e);var n=zv(t,t===Zi?ds:0);if(n===0)r!==null&&L2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&L2(r),e===1)t.tag===0?Kq(PD.bind(null,t)):o3(PD.bind(null,t)),jq(function(){!(Xr&6)&&Yc()}),r=null;else{switch(F5(n)){case 1:r=OP;break;case 4:r=D5;break;case 16:r=Vv;break;case 536870912:r=I5;break;default:r=Vv}r=a$(r,Z3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Z3(t,e){if(hv=-1,fv=0,Xr&6)throw Error(it(327));var r=t.callbackNode;if(Nf()&&t.callbackNode!==r)return null;var n=zv(t,t===Zi?ds:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=sw(t,n);else{e=n;var i=Xr;Xr|=2;var s=t$();(Zi!==t||ds!==e)&&(au=null,jf=wi()+500,zd(t,e));do try{yK();break}catch(o){e$(t,o)}while(!0);QP(),rw.current=s,Xr=i,Di!==null?e=0:(Zi=null,ds=0,e=zi)}if(e!==0){if(e===2&&(i=LC(t),i!==0&&(n=i,e=uT(t,i))),e===1)throw r=Im,zd(t,0),mc(t,n),la(t,wi()),r;if(e===6)mc(t,n);else{if(i=t.current.alternate,!(n&30)&&!gK(i)&&(e=sw(t,n),e===2&&(s=LC(t),s!==0&&(n=s,e=uT(t,s))),e===1))throw r=Im,zd(t,0),mc(t,n),la(t,wi()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(it(345));case 2:yd(t,Js,au);break;case 3:if(mc(t,n),(n&130023424)===n&&(e=hB+500-wi(),10<e)){if(zv(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=HC(yd.bind(null,t,Js,au),e);break}yd(t,Js,au);break;case 4:if(mc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-il(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=wi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pK(n/1960))-n,10<n){t.timeoutHandle=HC(yd.bind(null,t,Js,au),n);break}yd(t,Js,au);break;case 5:yd(t,Js,au);break;default:throw Error(it(329))}}}return la(t,wi()),t.callbackNode===r?Z3.bind(null,t):null}function uT(t,e){var r=Qg;return t.current.memoizedState.isDehydrated&&(zd(t,e).flags|=256),t=sw(t,e),t!==2&&(e=Js,Js=r,e!==null&&cT(e)),t}function cT(t){Js===null?Js=t:Js.push.apply(Js,t)}function gK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ul(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mc(t,e){for(e&=~dB,e&=~mx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-il(e),n=1<<r;t[r]=-1,e&=~n}}function PD(t){if(Xr&6)throw Error(it(327));Nf();var e=zv(t,0);if(!(e&1))return la(t,wi()),null;var r=sw(t,e);if(t.tag!==0&&r===2){var n=LC(t);n!==0&&(e=n,r=uT(t,n))}if(r===1)throw r=Im,zd(t,0),mc(t,e),la(t,wi()),r;if(r===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yd(t,Js,au),la(t,wi()),null}function fB(t,e){var r=Xr;Xr|=1;try{return t(e)}finally{Xr=r,Xr===0&&(jf=wi()+500,hx&&Yc())}}function eh(t){vc!==null&&vc.tag===0&&!(Xr&6)&&Nf();var e=Xr;Xr|=1;var r=wo.transition,n=ln;try{if(wo.transition=null,ln=1,t)return t()}finally{ln=n,wo.transition=r,Xr=e,!(Xr&6)&&Yc()}}function pB(){ka=bf.current,Rn(bf)}function zd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gq(r)),Di!==null)for(r=Di.return;r!==null;){var n=r;switch(XP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jv();break;case 3:Uf(),Rn(aa),Rn(Ss),nB();break;case 5:rB(n);break;case 4:Uf();break;case 13:Rn(jn);break;case 19:Rn(jn);break;case 10:JP(n.type._context);break;case 22:case 23:pB()}r=r.return}if(Zi=t,Di=t=Ec(t.current,null),ds=ka=e,zi=0,Im=null,dB=mx=Zd=0,Js=Qg=null,Pd!==null){for(e=0;e<Pd.length;e++)if(r=Pd[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Pd=null}return t}function e$(t,e){do{var r=Di;try{if(QP(),uv.current=tw,ew){for(var n=qn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ew=!1}if(Jd=0,Qi=$i=qn=null,qg=!1,Em=0,cB.current=null,r===null||r.return===null){zi=1,Im=e,Di=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=ds,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=pD(a);if(m!==null){m.flags&=-257,gD(m,a,o,s,e),m.mode&1&&fD(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){fD(s,u,e),gB();break e}l=Error(it(426))}}else if(Wn&&o.mode&1){var b=pD(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),gD(b,a,o,s,e),qP(Gf(l,o));break e}}s=l=Gf(l,o),zi!==4&&(zi=2),Qg===null?Qg=[s]:Qg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=A3(s,l,e);aD(s,x);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mc===null||!Mc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=O3(s,o,e);aD(s,T);break e}}s=s.return}while(s!==null)}n$(r)}catch(P){e=P,Di===r&&r!==null&&(Di=r=r.return);continue}break}while(!0)}function t$(){var t=rw.current;return rw.current=tw,t===null?tw:t}function gB(){(zi===0||zi===3||zi===2)&&(zi=4),Zi===null||!(Zd&268435455)&&!(mx&268435455)||mc(Zi,ds)}function sw(t,e){var r=Xr;Xr|=2;var n=t$();(Zi!==t||ds!==e)&&(au=null,zd(t,e));do try{mK();break}catch(i){e$(t,i)}while(!0);if(QP(),Xr=r,rw.current=n,Di!==null)throw Error(it(261));return Zi=null,ds=0,zi}function mK(){for(;Di!==null;)r$(Di)}function yK(){for(;Di!==null&&!WX();)r$(Di)}function r$(t){var e=s$(t.alternate,t,ka);t.memoizedProps=t.pendingProps,e===null?n$(t):Di=e,cB.current=null}function n$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cK(r,e),r!==null){r.flags&=32767,Di=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zi=6,Di=null;return}}else if(r=uK(r,e,ka),r!==null){Di=r;return}if(e=e.sibling,e!==null){Di=e;return}Di=e=t}while(e!==null);zi===0&&(zi=5)}function yd(t,e,r){var n=ln,i=wo.transition;try{wo.transition=null,ln=1,bK(t,e,r,n)}finally{wo.transition=i,ln=n}return null}function bK(t,e,r,n){do Nf();while(vc!==null);if(Xr&6)throw Error(it(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(JX(t,s),t===Zi&&(Di=Zi=null,ds=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hb||(hb=!0,a$(Vv,function(){return Nf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=wo.transition,wo.transition=null;var a=ln;ln=1;var o=Xr;Xr|=4,cB.current=null,hK(t,r),Q3(r,t),Oq(zC),Wv=!!VC,zC=VC=null,t.current=r,fK(r),HX(),Xr=o,ln=a,wo.transition=s}else t.current=r;if(hb&&(hb=!1,vc=t,iw=i),s=t.pendingLanes,s===0&&(Mc=null),jX(r.stateNode),la(t,wi()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(nw)throw nw=!1,t=oT,oT=null,t;return iw&1&&t.tag!==0&&Nf(),s=t.pendingLanes,s&1?t===lT?Jg++:(Jg=0,lT=t):Jg=0,Yc(),null}function Nf(){if(vc!==null){var t=F5(iw),e=wo.transition,r=ln;try{if(wo.transition=null,ln=16>t?16:t,vc===null)var n=!1;else{if(t=vc,vc=null,iw=0,Xr&6)throw Error(it(331));var i=Xr;for(Xr|=4,Pt=t.current;Pt!==null;){var s=Pt,a=s.child;if(Pt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Pt=u;Pt!==null;){var c=Pt;switch(c.tag){case 0:case 11:case 15:Kg(8,c,s)}var h=c.child;if(h!==null)h.return=c,Pt=h;else for(;Pt!==null;){c=Pt;var f=c.sibling,m=c.return;if(X3(c),c===u){Pt=null;break}if(f!==null){f.return=m,Pt=f;break}Pt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Pt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pt=a;else e:for(;Pt!==null;){if(s=Pt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Pt=x;break e}Pt=s.return}}var v=t.current;for(Pt=v;Pt!==null;){a=Pt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Pt=w;else e:for(a=v;Pt!==null;){if(o=Pt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gx(9,o)}}catch(P){ai(o,o.return,P)}if(o===a){Pt=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,Pt=T;break e}Pt=o.return}}if(Xr=i,Yc(),Il&&typeof Il.onPostCommitFiberRoot=="function")try{Il.onPostCommitFiberRoot(ox,t)}catch{}n=!0}return n}finally{ln=r,wo.transition=e}}return!1}function BD(t,e,r){e=Gf(r,e),e=A3(t,e,1),t=Bc(t,e,1),e=Vs(),t!==null&&(Py(t,1,e),la(t,e))}function ai(t,e,r){if(t.tag===3)BD(t,t,r);else for(;e!==null;){if(e.tag===3){BD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mc===null||!Mc.has(n))){t=Gf(r,t),t=O3(e,t,1),e=Bc(e,t,1),t=Vs(),e!==null&&(Py(e,1,t),la(e,t));break}}e=e.return}}function vK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vs(),t.pingedLanes|=t.suspendedLanes&r,Zi===t&&(ds&r)===r&&(zi===4||zi===3&&(ds&130023424)===ds&&500>wi()-hB?zd(t,0):dB|=r),la(t,e)}function i$(t,e){e===0&&(t.mode&1?(e=rb,rb<<=1,!(rb&130023424)&&(rb=4194304)):e=1);var r=Vs();t=Pu(t,e),t!==null&&(Py(t,e,r),la(t,r))}function wK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),i$(t,r)}function xK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(it(314))}n!==null&&n.delete(e),i$(t,r)}var s$;s$=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||aa.current)ra=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ra=!1,lK(t,e,r);ra=!!(t.flags&131072)}else ra=!1,Wn&&e.flags&1048576&&l3(e,qv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;dv(t,e),t=e.pendingProps;var i=zf(e,Ss.current);Mf(e,r),i=sB(null,e,n,t,i,r);var s=aB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oa(n)?(s=!0,Yv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eB(e),i.updater=fx,e.stateNode=i,i._reactInternals=e,KC(e,n,t,r),e=ZC(null,e,n,!0,s,r)):(e.tag=0,Wn&&s&&YP(e),Es(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(dv(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=kK(n),t=zo(n,t),i){case 0:e=JC(null,e,n,t,r);break e;case 1:e=bD(null,e,n,t,r);break e;case 11:e=mD(null,e,n,t,r);break e;case 14:e=yD(null,e,n,zo(n.type,t),r);break e}throw Error(it(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zo(n,i),JC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zo(n,i),bD(t,e,n,i,r);case 3:e:{if(W3(e),t===null)throw Error(it(387));n=e.pendingProps,s=e.memoizedState,i=s.element,h3(t,e),Jv(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gf(Error(it(423)),e),e=vD(t,e,n,r,i);break e}else if(n!==i){i=Gf(Error(it(424)),e),e=vD(t,e,n,r,i);break e}else for(Ma=Pc(e.stateNode.containerInfo.firstChild),Ea=e,Wn=!0,jo=null,r=m3(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wf(),n===i){e=Bu(t,e,r);break e}Es(t,e,n,r)}e=e.child}return e;case 5:return y3(e),t===null&&YC(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,WC(n,i)?a=null:s!==null&&WC(n,s)&&(e.flags|=32),z3(t,e),Es(t,e,a,r),e.child;case 6:return t===null&&YC(e),null;case 13:return H3(t,e,r);case 4:return tB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hf(e,null,n,r):Es(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zo(n,i),mD(t,e,n,i,r);case 7:return Es(t,e,e.pendingProps,r),e.child;case 8:return Es(t,e,e.pendingProps.children,r),e.child;case 12:return Es(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Cn(Kv,n._currentValue),n._currentValue=a,s!==null)if(ul(s.value,a)){if(s.children===i.children&&!aa.current){e=Bu(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=xu(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),XC(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(it(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),XC(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Es(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Mf(e,r),i=So(i),n=n(i),e.flags|=1,Es(t,e,n,r),e.child;case 14:return n=e.type,i=zo(n,e.pendingProps),i=zo(n.type,i),yD(t,e,n,i,r);case 15:return $3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zo(n,i),dv(t,e),e.tag=1,oa(n)?(t=!0,Yv(e)):t=!1,Mf(e,r),p3(e,n,i),KC(e,n,i,r),ZC(null,e,n,!0,t,r);case 19:return U3(t,e,r);case 22:return V3(t,e,r)}throw Error(it(156,e.tag))};function a$(t,e){return R5(t,e)}function SK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(t,e,r,n){return new SK(t,e,r,n)}function mB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kK(t){if(typeof t=="function")return mB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===LP)return 11;if(t===FP)return 14}return 2}function Ec(t,e){var r=t.alternate;return r===null?(r=mo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function pv(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mB(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case lf:return Wd(r.children,i,s,e);case IP:a=8,i|=8;break;case wC:return t=mo(12,r,e,i|2),t.elementType=wC,t.lanes=s,t;case xC:return t=mo(13,r,e,i),t.elementType=xC,t.lanes=s,t;case SC:return t=mo(19,r,e,i),t.elementType=SC,t.lanes=s,t;case g5:return yx(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f5:a=10;break e;case p5:a=9;break e;case LP:a=11;break e;case FP:a=14;break e;case fc:a=16,n=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return e=mo(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Wd(t,e,r,n){return t=mo(7,t,n,e),t.lanes=r,t}function yx(t,e,r,n){return t=mo(22,t,n,e),t.elementType=g5,t.lanes=r,t.stateNode={isHidden:!1},t}function Yk(t,e,r){return t=mo(6,t,null,e),t.lanes=r,t}function Xk(t,e,r){return e=mo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _K(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bk(0),this.expirationTimes=Bk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bk(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yB(t,e,r,n,i,s,a,o,l){return t=new _K(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eB(s),t}function CK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:of,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function o$(t){if(!t)return Oc;t=t._reactInternals;e:{if(fh(t)!==t||t.tag!==1)throw Error(it(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(it(171))}if(t.tag===1){var r=t.type;if(oa(r))return a3(t,r,e)}return e}function l$(t,e,r,n,i,s,a,o,l){return t=yB(r,n,!0,t,i,s,a,o,l),t.context=o$(null),r=t.current,n=Vs(),i=Nc(r),s=xu(n,i),s.callback=e??null,Bc(r,s,i),t.current.lanes=i,Py(t,i,n),la(t,n),t}function bx(t,e,r,n){var i=e.current,s=Vs(),a=Nc(i);return r=o$(r),e.context===null?e.context=r:e.pendingContext=r,e=xu(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bc(i,e,a),t!==null&&(sl(t,i,a,s),lv(t,i,a)),a}function aw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bB(t,e){MD(t,e),(t=t.alternate)&&MD(t,e)}function TK(){return null}var u$=typeof reportError=="function"?reportError:function(t){console.error(t)};function vB(t){this._internalRoot=t}vx.prototype.render=vB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(it(409));bx(t,e,null,null)};vx.prototype.unmount=vB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eh(function(){bx(null,t,null,null)}),e[Tu]=null}};function vx(t){this._internalRoot=t}vx.prototype.unstable_scheduleHydration=function(t){if(t){var e=$5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<gc.length&&e!==0&&e<gc[r].priority;r++);gc.splice(r,0,t),r===0&&z5(t)}};function wB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ND(){}function PK(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=aw(a);s.call(u)}}var a=l$(e,n,t,0,null,!1,!1,"",ND);return t._reactRootContainer=a,t[Tu]=a.current,Tm(t.nodeType===8?t.parentNode:t),eh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=aw(l);o.call(u)}}var l=yB(t,0,!1,null,null,!1,!1,"",ND);return t._reactRootContainer=l,t[Tu]=l.current,Tm(t.nodeType===8?t.parentNode:t),eh(function(){bx(e,l,r,n)}),l}function xx(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=aw(a);o.call(l)}}bx(e,a,t,i)}else a=PK(r,e,t,i,n);return aw(a)}A5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dg(e.pendingLanes);r!==0&&($P(e,r|1),la(e,wi()),!(Xr&6)&&(jf=wi()+500,Yc()))}break;case 13:eh(function(){var n=Pu(t,1);if(n!==null){var i=Vs();sl(n,t,1,i)}}),bB(t,1)}};VP=function(t){if(t.tag===13){var e=Pu(t,134217728);if(e!==null){var r=Vs();sl(e,t,134217728,r)}bB(t,134217728)}};O5=function(t){if(t.tag===13){var e=Nc(t),r=Pu(t,e);if(r!==null){var n=Vs();sl(r,t,e,n)}bB(t,e)}};$5=function(){return ln};V5=function(t,e){var r=ln;try{return ln=t,e()}finally{ln=r}};RC=function(t,e,r){switch(e){case"input":if(CC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=dx(n);if(!i)throw Error(it(90));y5(n),CC(n,i)}}}break;case"textarea":v5(t,r);break;case"select":e=r.value,e!=null&&Cf(t,!!r.multiple,e,!1)}};T5=fB;P5=eh;var BK={usingClientEntryPoint:!1,Events:[My,hf,dx,_5,C5,fB]},ig={findFiberByHostInstance:Td,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MK={bundleType:ig.bundleType,version:ig.version,rendererPackageName:ig.rendererPackageName,rendererConfig:ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Au.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N5(t),t===null?null:t.stateNode},findFiberByHostInstance:ig.findFiberByHostInstance||TK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fb.isDisabled&&fb.supportsFiber)try{ox=fb.inject(MK),Il=fb}catch{}}za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BK;za.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wB(e))throw Error(it(200));return CK(t,e,null,r)};za.createRoot=function(t,e){if(!wB(t))throw Error(it(299));var r=!1,n="",i=u$;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yB(t,1,!1,null,null,r,!1,n,i),t[Tu]=e.current,Tm(t.nodeType===8?t.parentNode:t),new vB(e)};za.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=N5(e),t=t===null?null:t.stateNode,t};za.flushSync=function(t){return eh(t)};za.hydrate=function(t,e,r){if(!wx(e))throw Error(it(200));return xx(null,t,e,!0,r)};za.hydrateRoot=function(t,e,r){if(!wB(t))throw Error(it(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=u$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=l$(e,null,t,1,r??null,i,!1,s,a),t[Tu]=e.current,Tm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vx(e)};za.render=function(t,e,r){if(!wx(e))throw Error(it(200));return xx(null,t,e,!1,r)};za.unmountComponentAtNode=function(t){if(!wx(t))throw Error(it(40));return t._reactRootContainer?(eh(function(){xx(null,null,t,!1,function(){t._reactRootContainer=null,t[Tu]=null})}),!0):!1};za.unstable_batchedUpdates=fB;za.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wx(r))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return xx(t,e,r,!1,n)};za.version="18.2.0-next-9e3b772b8-20220608";function c$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c$)}catch(t){console.error(t)}}c$(),l5.exports=za;var Ey=l5.exports;const Lg=Va(Ey),NK=QO({__proto__:null,default:Lg},[Ey]);var ED=Ey;bC.createRoot=ED.createRoot,bC.hydrateRoot=ED.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oi.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const RD="popstate";function EK(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=jl(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Lm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:rh(s))}function n(i,s){th(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DK(e,r,n,t)}function Fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function th(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RK(){return Math.random().toString(36).substr(2,8)}function DD(t,e){return{usr:t.state,key:t.key,idx:e}}function Lm(t,e,r,n){return r===void 0&&(r=null),oi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jl(e):e,{state:r,key:e&&e.key||n||RK()})}function rh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function DK(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=bi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(oi({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=bi.Pop;let b=c(),x=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:x})}function f(b,x){o=bi.Push;let v=Lm(y.location,b,x);r&&r(v,b),u=c()+1;let w=DD(v,u),T=y.createHref(v);try{a.pushState(w,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}s&&l&&l({action:o,location:y.location,delta:1})}function m(b,x){o=bi.Replace;let v=Lm(y.location,b,x);r&&r(v,b),u=c();let w=DD(v,u),T=y.createHref(v);a.replaceState(w,"",T),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:rh(b);return v=v.replace(/ $/,"%20"),Fr(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(RD,h),l=b,()=>{i.removeEventListener(RD,h),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(b){return a.go(b)}};return y}var ii;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ii||(ii={}));const IK=new Set(["lazy","caseSensitive","path","id","index","children"]);function LK(t){return t.index===!0}function dT(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let a=[...r,s],o=typeof i.id=="string"?i.id:a.join("-");if(Fr(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fr(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),LK(i)){let l=oi({},i,e(i),{id:o});return n[o]=l,l}else{let l=oi({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=dT(i.children,e,a,n)),l}})}function vf(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?jl(e):e,i=vp(n.pathname||"/",r);if(i==null)return null;let s=d$(t);AK(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let l=qK(i);a=jK(s[o],l)}return a}function FK(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function d$(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Fr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Su([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(Fr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d$(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:UK(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of h$(s.path))i(s,a,l)}),e}function h$(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=h$(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function AK(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:GK(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OK=/^:[\w-]+$/,$K=3,VK=2,zK=1,WK=10,HK=-2,ID=t=>t==="*";function UK(t,e){let r=t.split("/"),n=r.length;return r.some(ID)&&(n+=HK),e&&(n+=VK),r.filter(i=>!ID(i)).reduce((i,s)=>i+(OK.test(s)?$K:s===""?zK:WK),n)}function GK(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function jK(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=YK({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let h=o.route;s.push({params:n,pathname:Su([i,c.pathname]),pathnameBase:JK(Su([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Su([i,c.pathnameBase]))}return s}function YK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XK(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function XK(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),th(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return th(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function KK(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?jl(t):t;return{pathname:r?r.startsWith("/")?r:QK(r,e):e,search:ZK(n),hash:eQ(i)}}function QK(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qk(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xB(t,e){let r=f$(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function SB(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=jl(t):(i=oi({},t),Fr(!i.pathname||!i.pathname.includes("?"),qk("?","pathname","search",i)),Fr(!i.pathname||!i.pathname.includes("#"),qk("#","pathname","hash",i)),Fr(!i.search||!i.search.includes("#"),qk("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=KK(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Su=t=>t.join("/").replace(/\/\/+/g,"/"),JK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class kB{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function p$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g$=["post","put","patch","delete"],tQ=new Set(g$),rQ=["get",...g$],nQ=new Set(rQ),iQ=new Set([301,302,303,307,308]),sQ=new Set([307,308]),Kk={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aQ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},m$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oQ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),y$="remix-router-transitions";function lQ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Fr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let me=t.detectErrorBoundary;i=xe=>({hasErrorBoundary:me(xe)})}else i=oQ;let s={},a=dT(t.routes,i,void 0,s),o,l=t.basename||"/",u=oi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,m=null,g=null,y=t.hydrationData!=null,b=vf(a,t.history.location,l),x=null;if(b==null){let me=ro(404,{pathname:t.history.location.pathname}),{matches:xe,route:$e}=WD(a);b=xe,x={[$e.id]:me}}let v,w=b.some(me=>me.route.lazy),T=b.some(me=>me.route.loader);if(w)v=!1;else if(!T)v=!0;else if(u.v7_partialHydration){let me=t.hydrationData?t.hydrationData.loaderData:null,xe=t.hydrationData?t.hydrationData.errors:null,$e=rt=>rt.route.loader?rt.route.loader.hydrate===!0?!1:me&&me[rt.route.id]!==void 0||xe&&xe[rt.route.id]!==void 0:!0;if(xe){let rt=b.findIndex(gt=>xe[gt.route.id]!==void 0);v=b.slice(0,rt+1).every($e)}else v=b.every($e)}else v=t.hydrationData!=null;let P,C={historyAction:t.history.action,location:t.history.location,matches:b,initialized:v,navigation:Kk,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},M=bi.Pop,E=!1,D,I=!1,A=new Map,W=null,V=!1,$=!1,L=[],H=[],z=new Map,F=0,U=-1,q=new Map,ae=new Set,he=new Map,be=new Map,pe=new Set,ee=new Map,ce=new Map,ke=!1;function Q(){if(c=t.history.listen(me=>{let{action:xe,location:$e,delta:rt}=me;if(ke){ke=!1;return}th(ce.size===0||rt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let gt=Ye({currentLocation:C.location,nextLocation:$e,historyAction:xe});if(gt&&rt!=null){ke=!0,t.history.go(rt*-1),qe(gt,{state:"blocked",location:$e,proceed(){qe(gt,{state:"proceeding",proceed:void 0,reset:void 0,location:$e}),t.history.go(rt)},reset(){let Ft=new Map(C.blockers);Ft.set(gt,sg),ue({blockers:Ft})}});return}return se(xe,$e)}),r){vQ(e,A);let me=()=>wQ(e,A);e.addEventListener("pagehide",me),W=()=>e.removeEventListener("pagehide",me)}return C.initialized||se(bi.Pop,C.location,{initialHydration:!0}),P}function Z(){c&&c(),W&&W(),h.clear(),D&&D.abort(),C.fetchers.forEach((me,xe)=>Lt(xe)),C.blockers.forEach((me,xe)=>Mt(xe))}function le(me){return h.add(me),()=>h.delete(me)}function ue(me,xe){xe===void 0&&(xe={}),C=oi({},C,me);let $e=[],rt=[];u.v7_fetcherPersist&&C.fetchers.forEach((gt,Ft)=>{gt.state==="idle"&&(pe.has(Ft)?rt.push(Ft):$e.push(Ft))}),[...h].forEach(gt=>gt(C,{deletedFetchers:rt,unstable_viewTransitionOpts:xe.viewTransitionOpts,unstable_flushSync:xe.flushSync===!0})),u.v7_fetcherPersist&&($e.forEach(gt=>C.fetchers.delete(gt)),rt.forEach(gt=>Lt(gt)))}function re(me,xe,$e){var rt,gt;let{flushSync:Ft}=$e===void 0?{}:$e,Rt=C.actionData!=null&&C.navigation.formMethod!=null&&Ho(C.navigation.formMethod)&&C.navigation.state==="loading"&&((rt=me.state)==null?void 0:rt._isRedirect)!==!0,At;xe.actionData?Object.keys(xe.actionData).length>0?At=xe.actionData:At=null:Rt?At=C.actionData:At=null;let kt=xe.loaderData?zD(C.loaderData,xe.loaderData,xe.matches||[],xe.errors):C.loaderData,Qt=C.blockers;Qt.size>0&&(Qt=new Map(Qt),Qt.forEach((xr,Ur)=>Qt.set(Ur,sg)));let Or=E===!0||C.navigation.formMethod!=null&&Ho(C.navigation.formMethod)&&((gt=me.state)==null?void 0:gt._isRedirect)!==!0;o&&(a=o,o=void 0),V||M===bi.Pop||(M===bi.Push?t.history.push(me,me.state):M===bi.Replace&&t.history.replace(me,me.state));let Vt;if(M===bi.Pop){let xr=A.get(C.location.pathname);xr&&xr.has(me.pathname)?Vt={currentLocation:C.location,nextLocation:me}:A.has(me.pathname)&&(Vt={currentLocation:me,nextLocation:C.location})}else if(I){let xr=A.get(C.location.pathname);xr?xr.add(me.pathname):(xr=new Set([me.pathname]),A.set(C.location.pathname,xr)),Vt={currentLocation:C.location,nextLocation:me}}ue(oi({},xe,{actionData:At,loaderData:kt,historyAction:M,location:me,initialized:!0,navigation:Kk,revalidation:"idle",restoreScrollPosition:_r(me,xe.matches||C.matches),preventScrollReset:Or,blockers:Qt}),{viewTransitionOpts:Vt,flushSync:Ft===!0}),M=bi.Pop,E=!1,I=!1,V=!1,$=!1,L=[],H=[]}async function K(me,xe){if(typeof me=="number"){t.history.go(me);return}let $e=hT(C.location,C.matches,l,u.v7_prependBasename,me,u.v7_relativeSplatPath,xe==null?void 0:xe.fromRouteId,xe==null?void 0:xe.relative),{path:rt,submission:gt,error:Ft}=LD(u.v7_normalizeFormMethod,!1,$e,xe),Rt=C.location,At=Lm(C.location,rt,xe&&xe.state);At=oi({},At,t.history.encodeLocation(At));let kt=xe&&xe.replace!=null?xe.replace:void 0,Qt=bi.Push;kt===!0?Qt=bi.Replace:kt===!1||gt!=null&&Ho(gt.formMethod)&&gt.formAction===C.location.pathname+C.location.search&&(Qt=bi.Replace);let Or=xe&&"preventScrollReset"in xe?xe.preventScrollReset===!0:void 0,Vt=(xe&&xe.unstable_flushSync)===!0,xr=Ye({currentLocation:Rt,nextLocation:At,historyAction:Qt});if(xr){qe(xr,{state:"blocked",location:At,proceed(){qe(xr,{state:"proceeding",proceed:void 0,reset:void 0,location:At}),K(me,xe)},reset(){let Ur=new Map(C.blockers);Ur.set(xr,sg),ue({blockers:Ur})}});return}return await se(Qt,At,{submission:gt,pendingError:Ft,preventScrollReset:Or,replace:xe&&xe.replace,enableViewTransition:xe&&xe.unstable_viewTransition,flushSync:Vt})}function J(){if(Te(),ue({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){se(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}se(M||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function se(me,xe,$e){D&&D.abort(),D=null,M=me,V=($e&&$e.startUninterruptedRevalidation)===!0,Er(C.location,C.matches),E=($e&&$e.preventScrollReset)===!0,I=($e&&$e.enableViewTransition)===!0;let rt=o||a,gt=$e&&$e.overrideNavigation,Ft=vf(rt,xe,l),Rt=($e&&$e.flushSync)===!0;if(!Ft){let Ur=ro(404,{pathname:xe.pathname}),{matches:Li,route:xn}=WD(rt);xt(),re(xe,{matches:Li,loaderData:{},errors:{[xn.id]:Ur}},{flushSync:Rt});return}if(C.initialized&&!$&&fQ(C.location,xe)&&!($e&&$e.submission&&Ho($e.submission.formMethod))){re(xe,{matches:Ft},{flushSync:Rt});return}D=new AbortController;let At=og(t.history,xe,D.signal,$e&&$e.submission),kt,Qt;if($e&&$e.pendingError)Qt={[Zg(Ft).route.id]:$e.pendingError};else if($e&&$e.submission&&Ho($e.submission.formMethod)){let Ur=await Me(At,xe,$e.submission,Ft,{replace:$e.replace,flushSync:Rt});if(Ur.shortCircuited)return;kt=Ur.pendingActionData,Qt=Ur.pendingActionError,gt=Qk(xe,$e.submission),Rt=!1,At=new Request(At.url,{signal:At.signal})}let{shortCircuited:Or,loaderData:Vt,errors:xr}=await Se(At,xe,Ft,gt,$e&&$e.submission,$e&&$e.fetcherSubmission,$e&&$e.replace,$e&&$e.initialHydration===!0,Rt,kt,Qt);Or||(D=null,re(xe,oi({matches:Ft},kt?{actionData:kt}:{},{loaderData:Vt,errors:xr})))}async function Me(me,xe,$e,rt,gt){gt===void 0&&(gt={}),Te();let Ft=yQ(xe,$e);ue({navigation:Ft},{flushSync:gt.flushSync===!0});let Rt,At=pT(rt,xe);if(!At.route.action&&!At.route.lazy)Rt={type:ii.error,error:ro(405,{method:me.method,pathname:xe.pathname,routeId:At.route.id})};else if(Rt=await ag("action",me,At,rt,s,i,l,u.v7_relativeSplatPath),me.signal.aborted)return{shortCircuited:!0};if(Nd(Rt)){let kt;return gt&&gt.replace!=null?kt=gt.replace:kt=Rt.location===C.location.pathname+C.location.search,await ge(C,Rt,{submission:$e,replace:kt}),{shortCircuited:!0}}if(wf(Rt)){let kt=Zg(rt,At.route.id);return(gt&&gt.replace)!==!0&&(M=bi.Push),{pendingActionData:{},pendingActionError:{[kt.route.id]:Rt.error}}}if(Md(Rt))throw ro(400,{type:"defer-action"});return{pendingActionData:{[At.route.id]:Rt.data}}}async function Se(me,xe,$e,rt,gt,Ft,Rt,At,kt,Qt,Or){let Vt=rt||Qk(xe,gt),xr=gt||Ft||GD(Vt),Ur=o||a,[Li,xn]=FD(t.history,C,$e,xr,xe,u.v7_partialHydration&&At===!0,$,L,H,pe,he,ae,Ur,l,Qt,Or);if(xt(Tr=>!($e&&$e.some(jr=>jr.route.id===Tr))||Li&&Li.some(jr=>jr.route.id===Tr)),U=++F,Li.length===0&&xn.length===0){let Tr=at();return re(xe,oi({matches:$e,loaderData:{},errors:Or||null},Qt?{actionData:Qt}:{},Tr?{fetchers:new Map(C.fetchers)}:{}),{flushSync:kt}),{shortCircuited:!0}}if(!V&&(!u.v7_partialHydration||!At)){xn.forEach(jr=>{let pi=C.fetchers.get(jr.key),Gu=lg(void 0,pi?pi.data:void 0);C.fetchers.set(jr.key,Gu)});let Tr=Qt||C.actionData;ue(oi({navigation:Vt},Tr?Object.keys(Tr).length===0?{actionData:null}:{actionData:Tr}:{},xn.length>0?{fetchers:new Map(C.fetchers)}:{}),{flushSync:kt})}xn.forEach(Tr=>{z.has(Tr.key)&&_e(Tr.key),Tr.controller&&z.set(Tr.key,Tr.controller)});let Sn=()=>xn.forEach(Tr=>_e(Tr.key));D&&D.signal.addEventListener("abort",Sn);let{results:fi,loaderResults:yr,fetcherResults:br}=await Be(C.matches,$e,Li,xn,me);if(me.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Sn),xn.forEach(Tr=>z.delete(Tr.key));let ns=HD(fi);if(ns){if(ns.idx>=Li.length){let Tr=xn[ns.idx-Li.length].key;ae.add(Tr)}return await ge(C,ns.result,{replace:Rt}),{shortCircuited:!0}}let{loaderData:Jn,errors:Pi}=VD(C,$e,Li,yr,Or,xn,br,ee);ee.forEach((Tr,jr)=>{Tr.subscribe(pi=>{(pi||Tr.done)&&ee.delete(jr)})}),u.v7_partialHydration&&At&&C.errors&&Object.entries(C.errors).filter(Tr=>{let[jr]=Tr;return!Li.some(pi=>pi.route.id===jr)}).forEach(Tr=>{let[jr,pi]=Tr;Pi=Object.assign(Pi||{},{[jr]:pi})});let Uu=at(),Do=ft(U),Yl=Uu||Do||xn.length>0;return oi({loaderData:Jn,errors:Pi},Yl?{fetchers:new Map(C.fetchers)}:{})}function j(me,xe,$e,rt){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(me)&&_e(me);let gt=(rt&&rt.unstable_flushSync)===!0,Ft=o||a,Rt=hT(C.location,C.matches,l,u.v7_prependBasename,$e,u.v7_relativeSplatPath,xe,rt==null?void 0:rt.relative),At=vf(Ft,Rt,l);if(!At){ot(me,xe,ro(404,{pathname:Rt}),{flushSync:gt});return}let{path:kt,submission:Qt,error:Or}=LD(u.v7_normalizeFormMethod,!0,Rt,rt);if(Or){ot(me,xe,Or,{flushSync:gt});return}let Vt=pT(At,kt);if(E=(rt&&rt.preventScrollReset)===!0,Qt&&Ho(Qt.formMethod)){ne(me,xe,kt,Vt,At,gt,Qt);return}he.set(me,{routeId:xe,path:kt}),te(me,xe,kt,Vt,At,gt,Qt)}async function ne(me,xe,$e,rt,gt,Ft,Rt){if(Te(),he.delete(me),!rt.route.action&&!rt.route.lazy){let jr=ro(405,{method:Rt.formMethod,pathname:$e,routeId:xe});ot(me,xe,jr,{flushSync:Ft});return}let At=C.fetchers.get(me);Ge(me,bQ(Rt,At),{flushSync:Ft});let kt=new AbortController,Qt=og(t.history,$e,kt.signal,Rt);z.set(me,kt);let Or=F,Vt=await ag("action",Qt,rt,gt,s,i,l,u.v7_relativeSplatPath);if(Qt.signal.aborted){z.get(me)===kt&&z.delete(me);return}if(u.v7_fetcherPersist&&pe.has(me)){if(Nd(Vt)||wf(Vt)){Ge(me,dc(void 0));return}}else{if(Nd(Vt))if(z.delete(me),U>Or){Ge(me,dc(void 0));return}else return ae.add(me),Ge(me,lg(Rt)),ge(C,Vt,{fetcherSubmission:Rt});if(wf(Vt)){ot(me,xe,Vt.error);return}}if(Md(Vt))throw ro(400,{type:"defer-action"});let xr=C.navigation.location||C.location,Ur=og(t.history,xr,kt.signal),Li=o||a,xn=C.navigation.state!=="idle"?vf(Li,C.navigation.location,l):C.matches;Fr(xn,"Didn't find any matches after fetcher action");let Sn=++F;q.set(me,Sn);let fi=lg(Rt,Vt.data);C.fetchers.set(me,fi);let[yr,br]=FD(t.history,C,xn,Rt,xr,!1,$,L,H,pe,he,ae,Li,l,{[rt.route.id]:Vt.data},void 0);br.filter(jr=>jr.key!==me).forEach(jr=>{let pi=jr.key,Gu=C.fetchers.get(pi),ed=lg(void 0,Gu?Gu.data:void 0);C.fetchers.set(pi,ed),z.has(pi)&&_e(pi),jr.controller&&z.set(pi,jr.controller)}),ue({fetchers:new Map(C.fetchers)});let ns=()=>br.forEach(jr=>_e(jr.key));kt.signal.addEventListener("abort",ns);let{results:Jn,loaderResults:Pi,fetcherResults:Uu}=await Be(C.matches,xn,yr,br,Ur);if(kt.signal.aborted)return;kt.signal.removeEventListener("abort",ns),q.delete(me),z.delete(me),br.forEach(jr=>z.delete(jr.key));let Do=HD(Jn);if(Do){if(Do.idx>=yr.length){let jr=br[Do.idx-yr.length].key;ae.add(jr)}return ge(C,Do.result)}let{loaderData:Yl,errors:Tr}=VD(C,C.matches,yr,Pi,void 0,br,Uu,ee);if(C.fetchers.has(me)){let jr=dc(Vt.data);C.fetchers.set(me,jr)}ft(Sn),C.navigation.state==="loading"&&Sn>U?(Fr(M,"Expected pending action"),D&&D.abort(),re(C.navigation.location,{matches:xn,loaderData:Yl,errors:Tr,fetchers:new Map(C.fetchers)})):(ue({errors:Tr,loaderData:zD(C.loaderData,Yl,xn,Tr),fetchers:new Map(C.fetchers)}),$=!1)}async function te(me,xe,$e,rt,gt,Ft,Rt){let At=C.fetchers.get(me);Ge(me,lg(Rt,At?At.data:void 0),{flushSync:Ft});let kt=new AbortController,Qt=og(t.history,$e,kt.signal);z.set(me,kt);let Or=F,Vt=await ag("loader",Qt,rt,gt,s,i,l,u.v7_relativeSplatPath);if(Md(Vt)&&(Vt=await w$(Vt,Qt.signal,!0)||Vt),z.get(me)===kt&&z.delete(me),!Qt.signal.aborted){if(pe.has(me)){Ge(me,dc(void 0));return}if(Nd(Vt))if(U>Or){Ge(me,dc(void 0));return}else{ae.add(me),await ge(C,Vt);return}if(wf(Vt)){ot(me,xe,Vt.error);return}Fr(!Md(Vt),"Unhandled fetcher deferred data"),Ge(me,dc(Vt.data))}}async function ge(me,xe,$e){let{submission:rt,fetcherSubmission:gt,replace:Ft}=$e===void 0?{}:$e;xe.revalidate&&($=!0);let Rt=Lm(me.location,xe.location,{_isRedirect:!0});if(Fr(Rt,"Expected a location on the redirect navigation"),r){let xr=!1;if(xe.reloadDocument)xr=!0;else if(m$.test(xe.location)){const Ur=t.history.createURL(xe.location);xr=Ur.origin!==e.location.origin||vp(Ur.pathname,l)==null}if(xr){Ft?e.location.replace(xe.location):e.location.assign(xe.location);return}}D=null;let At=Ft===!0?bi.Replace:bi.Push,{formMethod:kt,formAction:Qt,formEncType:Or}=me.navigation;!rt&&!gt&&kt&&Qt&&Or&&(rt=GD(me.navigation));let Vt=rt||gt;if(sQ.has(xe.status)&&Vt&&Ho(Vt.formMethod))await se(At,Rt,{submission:oi({},Vt,{formAction:xe.location}),preventScrollReset:E});else{let xr=Qk(Rt,rt);await se(At,Rt,{overrideNavigation:xr,fetcherSubmission:gt,preventScrollReset:E})}}async function Be(me,xe,$e,rt,gt){let Ft=await Promise.all([...$e.map(kt=>ag("loader",gt,kt,xe,s,i,l,u.v7_relativeSplatPath)),...rt.map(kt=>kt.matches&&kt.match&&kt.controller?ag("loader",og(t.history,kt.path,kt.controller.signal),kt.match,kt.matches,s,i,l,u.v7_relativeSplatPath):{type:ii.error,error:ro(404,{pathname:kt.path})})]),Rt=Ft.slice(0,$e.length),At=Ft.slice($e.length);return await Promise.all([UD(me,$e,Rt,Rt.map(()=>gt.signal),!1,C.loaderData),UD(me,rt.map(kt=>kt.match),At,rt.map(kt=>kt.controller?kt.controller.signal:null),!0)]),{results:Ft,loaderResults:Rt,fetcherResults:At}}function Te(){$=!0,L.push(...xt()),he.forEach((me,xe)=>{z.has(xe)&&(H.push(xe),_e(xe))})}function Ge(me,xe,$e){$e===void 0&&($e={}),C.fetchers.set(me,xe),ue({fetchers:new Map(C.fetchers)},{flushSync:($e&&$e.flushSync)===!0})}function ot(me,xe,$e,rt){rt===void 0&&(rt={});let gt=Zg(C.matches,xe);Lt(me),ue({errors:{[gt.route.id]:$e},fetchers:new Map(C.fetchers)},{flushSync:(rt&&rt.flushSync)===!0})}function Et(me){return u.v7_fetcherPersist&&(be.set(me,(be.get(me)||0)+1),pe.has(me)&&pe.delete(me)),C.fetchers.get(me)||aQ}function Lt(me){let xe=C.fetchers.get(me);z.has(me)&&!(xe&&xe.state==="loading"&&q.has(me))&&_e(me),he.delete(me),q.delete(me),ae.delete(me),pe.delete(me),C.fetchers.delete(me)}function De(me){if(u.v7_fetcherPersist){let xe=(be.get(me)||0)-1;xe<=0?(be.delete(me),pe.add(me)):be.set(me,xe)}else Lt(me);ue({fetchers:new Map(C.fetchers)})}function _e(me){let xe=z.get(me);Fr(xe,"Expected fetch controller: "+me),xe.abort(),z.delete(me)}function Ne(me){for(let xe of me){let $e=Et(xe),rt=dc($e.data);C.fetchers.set(xe,rt)}}function at(){let me=[],xe=!1;for(let $e of ae){let rt=C.fetchers.get($e);Fr(rt,"Expected fetcher: "+$e),rt.state==="loading"&&(ae.delete($e),me.push($e),xe=!0)}return Ne(me),xe}function ft(me){let xe=[];for(let[$e,rt]of q)if(rt<me){let gt=C.fetchers.get($e);Fr(gt,"Expected fetcher: "+$e),gt.state==="loading"&&(_e($e),q.delete($e),xe.push($e))}return Ne(xe),xe.length>0}function Ze(me,xe){let $e=C.blockers.get(me)||sg;return ce.get(me)!==xe&&ce.set(me,xe),$e}function Mt(me){C.blockers.delete(me),ce.delete(me)}function qe(me,xe){let $e=C.blockers.get(me)||sg;Fr($e.state==="unblocked"&&xe.state==="blocked"||$e.state==="blocked"&&xe.state==="blocked"||$e.state==="blocked"&&xe.state==="proceeding"||$e.state==="blocked"&&xe.state==="unblocked"||$e.state==="proceeding"&&xe.state==="unblocked","Invalid blocker state transition: "+$e.state+" -> "+xe.state);let rt=new Map(C.blockers);rt.set(me,xe),ue({blockers:rt})}function Ye(me){let{currentLocation:xe,nextLocation:$e,historyAction:rt}=me;if(ce.size===0)return;ce.size>1&&th(!1,"A router only supports one blocker at a time");let gt=Array.from(ce.entries()),[Ft,Rt]=gt[gt.length-1],At=C.blockers.get(Ft);if(!(At&&At.state==="proceeding")&&Rt({currentLocation:xe,nextLocation:$e,historyAction:rt}))return Ft}function xt(me){let xe=[];return ee.forEach(($e,rt)=>{(!me||me(rt))&&($e.cancel(),xe.push(rt),ee.delete(rt))}),xe}function vt(me,xe,$e){if(f=me,g=xe,m=$e||null,!y&&C.navigation===Kk){y=!0;let rt=_r(C.location,C.matches);rt!=null&&ue({restoreScrollPosition:rt})}return()=>{f=null,g=null,m=null}}function tr(me,xe){return m&&m(me,xe.map(rt=>FK(rt,C.loaderData)))||me.key}function Er(me,xe){if(f&&g){let $e=tr(me,xe);f[$e]=g()}}function _r(me,xe){if(f){let $e=tr(me,xe),rt=f[$e];if(typeof rt=="number")return rt}return null}function Tn(me){s={},o=dT(me,i,void 0,s)}return P={get basename(){return l},get future(){return u},get state(){return C},get routes(){return a},get window(){return e},initialize:Q,subscribe:le,enableScrollRestoration:vt,navigate:K,fetch:j,revalidate:J,createHref:me=>t.history.createHref(me),encodeLocation:me=>t.history.encodeLocation(me),getFetcher:Et,deleteFetcher:De,dispose:Z,getBlocker:Ze,deleteBlocker:Mt,_internalFetchControllers:z,_internalActiveDeferreds:ee,_internalSetRoutes:Tn},P}function uQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hT(t,e,r,n,i,s,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let c=SB(i||".",xB(l,s),vp(t.pathname,r)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!_B(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:Su([r,c.pathname])),rh(c)}function LD(t,e,r,n){if(!n||!uQ(n))return{path:r};if(n.formMethod&&!mQ(n.formMethod))return{path:r,error:ro(405,{method:n.formMethod})};let i=()=>({path:r,error:ro(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=v$(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ho(a))return i();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,g)=>{let[y,b]=g;return""+m+y+"="+b+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Ho(a))return i();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Fr(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=fT(n.formData),u=n.formData;else if(n.body instanceof FormData)l=fT(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=$D(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=$D(l)}catch{return i()}let c={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ho(c.formMethod))return{path:r,submission:c};let h=jl(r);return e&&h.search&&_B(h.search)&&l.append("index",""),h.search="?"+l,{path:rh(h),submission:c}}function cQ(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function FD(t,e,r,n,i,s,a,o,l,u,c,h,f,m,g,y){let b=y?Object.values(y)[0]:g?Object.values(g)[0]:void 0,x=t.createURL(e.location),v=t.createURL(i),w=y?Object.keys(y)[0]:void 0,P=cQ(r,w).filter((M,E)=>{let{route:D}=M;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(dQ(e.loaderData,e.matches[E],M)||o.some(W=>W===M.route.id))return!0;let I=e.matches[E],A=M;return AD(M,oi({currentUrl:x,currentParams:I.params,nextUrl:v,nextParams:A.params},n,{actionResult:b,defaultShouldRevalidate:a||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||b$(I,A)}))}),C=[];return c.forEach((M,E)=>{if(s||!r.some(V=>V.route.id===M.routeId)||u.has(E))return;let D=vf(f,M.path,m);if(!D){C.push({key:E,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(E),A=pT(D,M.path),W=!1;h.has(E)?W=!1:l.includes(E)?W=!0:I&&I.state!=="idle"&&I.data===void 0?W=a:W=AD(A,oi({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:b,defaultShouldRevalidate:a})),W&&C.push({key:E,routeId:M.routeId,path:M.path,matches:D,match:A,controller:new AbortController})}),[P,C]}function dQ(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function b$(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function AD(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function OD(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Fr(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";th(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!IK.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,oi({},e(i),{lazy:void 0}))}async function ag(t,e,r,n,i,s,a,o,l){l===void 0&&(l={});let u,c,h,f=y=>{let b,x=new Promise((v,w)=>b=w);return h=()=>b(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:r.params,context:l.requestContext}),x])};try{let y=r.route[t];if(r.route.lazy)if(y){let b,x=await Promise.all([f(y).catch(v=>{b=v}),OD(r.route,s,i)]);if(b)throw b;c=x[0]}else if(await OD(r.route,s,i),y=r.route[t],y)c=await f(y);else if(t==="action"){let b=new URL(e.url),x=b.pathname+b.search;throw ro(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:ii.data,data:void 0};else if(y)c=await f(y);else{let b=new URL(e.url),x=b.pathname+b.search;throw ro(404,{pathname:x})}Fr(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){u=ii.error,c=y}finally{h&&e.signal.removeEventListener("abort",h)}if(gQ(c)){let y=c.status;if(iQ.has(y)){let x=c.headers.get("Location");if(Fr(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!m$.test(x))x=hT(new URL(e.url),n.slice(0,n.indexOf(r)+1),a,!0,x,o);else if(!l.isStaticRequest){let v=new URL(e.url),w=x.startsWith("//")?new URL(v.protocol+x):new URL(x),T=vp(w.pathname,a)!=null;w.origin===v.origin&&T&&(x=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",x),c;return{type:ii.redirect,status:y,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===ii.error?ii.error:ii.data,response:c};let b;try{let x=c.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?c.body==null?b=null:b=await c.json():b=await c.text()}catch(x){return{type:ii.error,error:x}}return u===ii.error?{type:u,error:new kB(y,c.statusText,b),headers:c.headers}:{type:ii.data,data:b,statusCode:c.status,headers:c.headers}}if(u===ii.error)return{type:u,error:c};if(pQ(c)){var m,g;return{type:ii.deferred,deferredData:c,statusCode:(m=c.init)==null?void 0:m.status,headers:((g=c.init)==null?void 0:g.headers)&&new Headers(c.init.headers)}}return{type:ii.data,data:c}}function og(t,e,r,n){let i=t.createURL(v$(e)).toString(),s={signal:r};if(n&&Ho(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=fT(n.formData):s.body=n.formData}return new Request(i,s)}function fT(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function $D(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function hQ(t,e,r,n,i){let s={},a=null,o,l=!1,u={};return r.forEach((c,h)=>{let f=e[h].route.id;if(Fr(!Nd(c),"Cannot handle redirect results in processLoaderData"),wf(c)){let m=Zg(t,f),g=c.error;n&&(g=Object.values(n)[0],n=void 0),a=a||{},a[m.route.id]==null&&(a[m.route.id]=g),s[f]=void 0,l||(l=!0,o=p$(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Md(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(o=c.statusCode),c.headers&&(u[f]=c.headers)}),n&&(a=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function VD(t,e,r,n,i,s,a,o){let{loaderData:l,errors:u}=hQ(e,r,n,i,o);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:m}=s[c];Fr(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let g=a[c];if(!(m&&m.signal.aborted))if(wf(g)){let y=Zg(t.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=oi({},u,{[y.route.id]:g.error})),t.fetchers.delete(h)}else if(Nd(g))Fr(!1,"Unhandled fetcher revalidation redirect");else if(Md(g))Fr(!1,"Unhandled fetcher deferred data");else{let y=dc(g.data);t.fetchers.set(h,y)}}return{loaderData:l,errors:u}}function zD(t,e,r,n){let i=oi({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function Zg(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function WD(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ro(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",o='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new kB(t||500,a,new Error(o),!0)}function HD(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Nd(r))return{result:r,idx:e}}}function v$(t){let e=typeof t=="string"?jl(t):t;return rh(oi({},e,{hash:""}))}function fQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Md(t){return t.type===ii.deferred}function wf(t){return t.type===ii.error}function Nd(t){return(t&&t.type)===ii.redirect}function pQ(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function gQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mQ(t){return nQ.has(t.toLowerCase())}function Ho(t){return tQ.has(t.toLowerCase())}async function UD(t,e,r,n,i,s){for(let a=0;a<r.length;a++){let o=r[a],l=e[a];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!b$(u,l)&&(s&&s[l.route.id])!==void 0;if(Md(o)&&(i||c)){let h=n[a];Fr(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await w$(o,h,i).then(f=>{f&&(r[a]=f||r[a])})}}}async function w$(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:ii.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ii.error,error:i}}return{type:ii.data,data:t.deferredData.data}}}function _B(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function pT(t,e){let r=typeof e=="string"?jl(e).search:e.search;if(t[t.length-1].route.index&&_B(r||""))return t[t.length-1];let n=f$(t);return n[n.length-1]}function GD(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Qk(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lg(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function dc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vQ(t,e){try{let r=t.sessionStorage.getItem(y$);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function wQ(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(y$,JSON.stringify(r))}catch(n){th(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}const Sx=k.createContext(null),x$=k.createContext(null),ph=k.createContext(null),kx=k.createContext(null),gh=k.createContext({outlet:null,matches:[],isDataRoute:!1}),S$=k.createContext(null);function xQ(t,e){let{relative:r}=e===void 0?{}:e;Ry()||Fr(!1);let{basename:n,navigator:i}=k.useContext(ph),{hash:s,pathname:a,search:o}=_$(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Su([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Ry(){return k.useContext(kx)!=null}function _x(){return Ry()||Fr(!1),k.useContext(kx).location}function k$(t){k.useContext(ph).static||k.useLayoutEffect(t)}function SQ(){let{isDataRoute:t}=k.useContext(gh);return t?IQ():kQ()}function kQ(){Ry()||Fr(!1);let t=k.useContext(Sx),{basename:e,future:r,navigator:n}=k.useContext(ph),{matches:i}=k.useContext(gh),{pathname:s}=_x(),a=JSON.stringify(xB(i,r.v7_relativeSplatPath)),o=k.useRef(!1);return k$(()=>{o.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=SB(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Su([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function _$(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(ph),{matches:i}=k.useContext(gh),{pathname:s}=_x(),a=JSON.stringify(xB(i,n.v7_relativeSplatPath));return k.useMemo(()=>SB(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function _Q(t,e,r,n){Ry()||Fr(!1);let{navigator:i}=k.useContext(ph),{matches:s}=k.useContext(gh),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_x(),c;if(e){var h;let b=typeof e=="string"?jl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Fr(!1),c=b}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=vf(t,{pathname:m}),y=MQ(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Su([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Su([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?k.createElement(kx.Provider,{value:{location:Fm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:bi.Pop}},y):y}function CQ(){let t=DQ(),e=p$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,null)}const TQ=k.createElement(CQ,null);class PQ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(gh.Provider,{value:this.props.routeContext},k.createElement(S$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BQ(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(Sx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(gh.Provider,{value:e},n)}function MQ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));c>=0||Fr(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let m,g=!1,y=null,b=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||TQ,l&&(u<0&&f===0?(LQ("route-fallback",!1),g=!0,b=null):u===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),v=()=>{let w;return m?w=y:g?w=b:h.route.Component?w=k.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,k.createElement(BQ,{match:h,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(PQ,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var C$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(C$||{}),ow=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ow||{});function NQ(t){let e=k.useContext(Sx);return e||Fr(!1),e}function EQ(t){let e=k.useContext(x$);return e||Fr(!1),e}function RQ(t){let e=k.useContext(gh);return e||Fr(!1),e}function T$(t){let e=RQ(),r=e.matches[e.matches.length-1];return r.route.id||Fr(!1),r.route.id}function DQ(){var t;let e=k.useContext(S$),r=EQ(ow.UseRouteError),n=T$(ow.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function IQ(){let{router:t}=NQ(C$.UseNavigateStable),e=T$(ow.UseNavigateStable),r=k.useRef(!1);return k$(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fm({fromRouteId:e},s)))},[t,e])}const jD={};function LQ(t,e,r){!e&&!jD[t]&&(jD[t]=!0)}function FQ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=bi.Pop,navigator:s,static:a=!1,future:o}=t;Ry()&&Fr(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:a,future:Fm({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=jl(n));let{pathname:c="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,y=k.useMemo(()=>{let b=vp(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:g},navigationType:i}},[l,c,h,f,m,g,i]);return y==null?null:k.createElement(ph.Provider,{value:u},k.createElement(kx.Provider,{children:r,value:y}))}new Promise(()=>{});function AQ(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(this,arguments)}function OQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $Q(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VQ(t,e){return t.button===0&&(!e||e==="_self")&&!$Q(t)}const zQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],WQ="6";try{window.__reactRouterVersion=WQ}catch{}function HQ(t,e){return lQ({basename:e==null?void 0:e.basename,future:Am({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:EK({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||UQ(),routes:t,mapRouteProperties:AQ,window:e==null?void 0:e.window}).initialize()}function UQ(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Am({},e,{errors:GQ(e.errors)})),e}function GQ(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new kB(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const jQ=k.createContext({isTransitioning:!1}),YQ=k.createContext(new Map),XQ="startTransition",YD=qd[XQ],qQ="flushSync",XD=NK[qQ];function KQ(t){YD?YD(t):t()}function ug(t){XD?XD(t):t()}class QQ{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function JQ(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=k.useState(r.state),[a,o]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,h]=k.useState(),[f,m]=k.useState(),[g,y]=k.useState(),b=k.useRef(new Map),{v7_startTransition:x}=n||{},v=k.useCallback(M=>{x?KQ(M):M()},[x]),w=k.useCallback((M,E)=>{let{deletedFetchers:D,unstable_flushSync:I,unstable_viewTransitionOpts:A}=E;D.forEach(V=>b.current.delete(V)),M.fetchers.forEach((V,$)=>{V.data!==void 0&&b.current.set($,V.data)});let W=r.window==null||typeof r.window.document.startViewTransition!="function";if(!A||W){I?ug(()=>s(M)):v(()=>s(M));return}if(I){ug(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let V=r.window.document.startViewTransition(()=>{ug(()=>s(M))});V.finished.finally(()=>{ug(()=>{h(void 0),m(void 0),o(void 0),u({isTransitioning:!1})})}),ug(()=>m(V));return}f?(c&&c.resolve(),f.skipTransition(),y({state:M,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(o(M),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[r.window,f,c,b,v]);k.useLayoutEffect(()=>r.subscribe(w),[r,w]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new QQ)},[l]),k.useEffect(()=>{if(c&&a&&r.window){let M=a,E=c.promise,D=r.window.document.startViewTransition(async()=>{v(()=>s(M)),await E});D.finished.finally(()=>{h(void 0),m(void 0),o(void 0),u({isTransitioning:!1})}),m(D)}},[v,a,c,r.window]),k.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,f,i.location,a]),k.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),k.useEffect(()=>{},[]);let T=k.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:M=>r.navigate(M),push:(M,E,D)=>r.navigate(M,{state:E,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(M,E,D)=>r.navigate(M,{replace:!0,state:E,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[r]),P=r.basename||"/",C=k.useMemo(()=>({router:r,navigator:T,static:!1,basename:P}),[r,T,P]);return k.createElement(k.Fragment,null,k.createElement(Sx.Provider,{value:C},k.createElement(x$.Provider,{value:i},k.createElement(YQ.Provider,{value:b.current},k.createElement(jQ.Provider,{value:l},k.createElement(FQ,{basename:P,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?k.createElement(ZQ,{routes:r.routes,future:r.future,state:i}):e))))),null)}function ZQ(t){let{routes:e,future:r,state:n}=t;return _Q(e,void 0,n,r)}const eJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=OQ(e,zQ),{basename:m}=k.useContext(ph),g,y=!1;if(typeof u=="string"&&tJ.test(u)&&(g=u,eJ))try{let w=new URL(window.location.href),T=u.startsWith("//")?new URL(w.protocol+u):new URL(u),P=vp(T.pathname,m);T.origin===w.origin&&P!=null?u=P+T.search+T.hash:y=!0}catch{}let b=xQ(u,{relative:i}),x=rJ(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||x(w)}return k.createElement("a",Am({},f,{href:g||b,onClick:y||s?n:v,ref:r,target:l}))});var qD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qD||(qD={}));var KD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KD||(KD={}));function rJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=SQ(),u=_x(),c=_$(t,{relative:a});return k.useCallback(h=>{if(VQ(h,r)){h.preventDefault();let f=n!==void 0?n:rh(u)===rh(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}const nJ={black:"#000",white:"#fff"},Om=nJ,iJ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$h=iJ,sJ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Vh=sJ,aJ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zh=aJ,oJ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wh=oJ,lJ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Hh=lJ,uJ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cg=uJ,cJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dJ=cJ;function Mu(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const hJ=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"})),Dy="$$material";function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(null,arguments)}function Re(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P$(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var fJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pJ=P$(function(t){return fJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function gJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var yJ=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gJ(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),bs="-ms-",lw="-moz-",en="-webkit-",B$="comm",CB="rule",TB="decl",bJ="@import",M$="@keyframes",vJ="@layer",wJ=Math.abs,Cx=String.fromCharCode,xJ=Object.assign;function SJ(t,e){return cs(t,0)^45?(((e<<2^cs(t,0))<<2^cs(t,1))<<2^cs(t,2))<<2^cs(t,3):0}function N$(t){return t.trim()}function kJ(t,e){return(t=e.exec(t))?t[0]:t}function tn(t,e,r){return t.replace(e,r)}function gT(t,e){return t.indexOf(e)}function cs(t,e){return t.charCodeAt(e)|0}function $m(t,e,r){return t.slice(e,r)}function _l(t){return t.length}function PB(t){return t.length}function pb(t,e){return e.push(t),t}function _J(t,e){return t.map(e).join("")}var Tx=1,Yf=1,E$=0,ha=0,Ri=0,wp="";function Px(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Tx,column:Yf,length:a,return:""}}function dg(t,e){return xJ(Px("",null,null,"",null,null,0),t,{length:-t.length},e)}function CJ(){return Ri}function TJ(){return Ri=ha>0?cs(wp,--ha):0,Yf--,Ri===10&&(Yf=1,Tx--),Ri}function Ra(){return Ri=ha<E$?cs(wp,ha++):0,Yf++,Ri===10&&(Yf=1,Tx++),Ri}function Fl(){return cs(wp,ha)}function gv(){return ha}function Iy(t,e){return $m(wp,t,e)}function Vm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R$(t){return Tx=Yf=1,E$=_l(wp=t),ha=0,[]}function D$(t){return wp="",t}function mv(t){return N$(Iy(ha-1,mT(t===91?t+2:t===40?t+1:t)))}function PJ(t){for(;(Ri=Fl())&&Ri<33;)Ra();return Vm(t)>2||Vm(Ri)>3?"":" "}function BJ(t,e){for(;--e&&Ra()&&!(Ri<48||Ri>102||Ri>57&&Ri<65||Ri>70&&Ri<97););return Iy(t,gv()+(e<6&&Fl()==32&&Ra()==32))}function mT(t){for(;Ra();)switch(Ri){case t:return ha;case 34:case 39:t!==34&&t!==39&&mT(Ri);break;case 40:t===41&&mT(t);break;case 92:Ra();break}return ha}function MJ(t,e){for(;Ra()&&t+Ri!==57;)if(t+Ri===84&&Fl()===47)break;return"/*"+Iy(e,ha-1)+"*"+Cx(t===47?t:Ra())}function NJ(t){for(;!Vm(Fl());)Ra();return Iy(t,ha)}function EJ(t){return D$(yv("",null,null,null,[""],t=R$(t),0,[0],t))}function yv(t,e,r,n,i,s,a,o,l){for(var u=0,c=0,h=a,f=0,m=0,g=0,y=1,b=1,x=1,v=0,w="",T=i,P=s,C=n,M=w;b;)switch(g=v,v=Ra()){case 40:if(g!=108&&cs(M,h-1)==58){gT(M+=tn(mv(v),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:M+=mv(v);break;case 9:case 10:case 13:case 32:M+=PJ(g);break;case 92:M+=BJ(gv()-1,7);continue;case 47:switch(Fl()){case 42:case 47:pb(RJ(MJ(Ra(),gv()),e,r),l);break;default:M+="/"}break;case 123*y:o[u++]=_l(M)*x;case 125*y:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+c:x==-1&&(M=tn(M,/\f/g,"")),m>0&&_l(M)-h&&pb(m>32?JD(M+";",n,r,h-1):JD(tn(M," ","")+";",n,r,h-2),l);break;case 59:M+=";";default:if(pb(C=QD(M,e,r,u,c,i,o,w,T=[],P=[],h),s),v===123)if(c===0)yv(M,e,C,C,T,s,h,o,P);else switch(f===99&&cs(M,3)===110?100:f){case 100:case 108:case 109:case 115:yv(t,C,C,n&&pb(QD(t,C,C,0,0,i,o,w,i,T=[],h),P),i,P,h,o,n?T:P);break;default:yv(M,C,C,C,[""],P,0,o,P)}}u=c=m=0,y=x=1,w=M="",h=a;break;case 58:h=1+_l(M),m=g;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&TJ()==125)continue}switch(M+=Cx(v),v*y){case 38:x=c>0?1:(M+="\f",-1);break;case 44:o[u++]=(_l(M)-1)*x,x=1;break;case 64:Fl()===45&&(M+=mv(Ra())),f=Fl(),c=h=_l(w=M+=NJ(gv())),v++;break;case 45:g===45&&_l(M)==2&&(y=0)}}return s}function QD(t,e,r,n,i,s,a,o,l,u,c){for(var h=i-1,f=i===0?s:[""],m=PB(f),g=0,y=0,b=0;g<n;++g)for(var x=0,v=$m(t,h+1,h=wJ(y=a[g])),w=t;x<m;++x)(w=N$(y>0?f[x]+" "+v:tn(v,/&\f/g,f[x])))&&(l[b++]=w);return Px(t,e,r,i===0?CB:o,l,u,c)}function RJ(t,e,r){return Px(t,e,r,B$,Cx(CJ()),$m(t,2,-2),0)}function JD(t,e,r,n){return Px(t,e,r,TB,$m(t,0,n),$m(t,n+1,-1),n)}function Ef(t,e){for(var r="",n=PB(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function DJ(t,e,r,n){switch(t.type){case vJ:if(t.children.length)break;case bJ:case TB:return t.return=t.return||t.value;case B$:return"";case M$:return t.return=t.value+"{"+Ef(t.children,n)+"}";case CB:t.value=t.props.join(",")}return _l(r=Ef(t.children,n))?t.return=t.value+"{"+r+"}":""}function IJ(t){var e=PB(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function LJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var FJ=function(e,r,n){for(var i=0,s=0;i=s,s=Fl(),i===38&&s===12&&(r[n]=1),!Vm(s);)Ra();return Iy(e,ha)},AJ=function(e,r){var n=-1,i=44;do switch(Vm(i)){case 0:i===38&&Fl()===12&&(r[n]=1),e[n]+=FJ(ha-1,r,n);break;case 2:e[n]+=mv(i);break;case 4:if(i===44){e[++n]=Fl()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Cx(i)}while(i=Ra());return e},OJ=function(e,r){return D$(AJ(R$(e),r))},ZD=new WeakMap,$J=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!ZD.get(n))&&!i){ZD.set(e,!0);for(var s=[],a=OJ(r,s),o=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},VJ=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function I$(t,e){switch(SJ(t,e)){case 5103:return en+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return en+t+lw+t+bs+t+t;case 6828:case 4268:return en+t+bs+t+t;case 6165:return en+t+bs+"flex-"+t+t;case 5187:return en+t+tn(t,/(\w+).+(:[^]+)/,en+"box-$1$2"+bs+"flex-$1$2")+t;case 5443:return en+t+bs+"flex-item-"+tn(t,/flex-|-self/,"")+t;case 4675:return en+t+bs+"flex-line-pack"+tn(t,/align-content|flex-|-self/,"")+t;case 5548:return en+t+bs+tn(t,"shrink","negative")+t;case 5292:return en+t+bs+tn(t,"basis","preferred-size")+t;case 6060:return en+"box-"+tn(t,"-grow","")+en+t+bs+tn(t,"grow","positive")+t;case 4554:return en+tn(t,/([^-])(transform)/g,"$1"+en+"$2")+t;case 6187:return tn(tn(tn(t,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),t,"")+t;case 5495:case 3959:return tn(t,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(t,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+t+t;case 4095:case 3583:case 4068:case 2532:return tn(t,/(.+)-inline(.+)/,en+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_l(t)-1-e>6)switch(cs(t,e+1)){case 109:if(cs(t,e+4)!==45)break;case 102:return tn(t,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+lw+(cs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gT(t,"stretch")?I$(tn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(cs(t,e+1)!==115)break;case 6444:switch(cs(t,_l(t)-3-(~gT(t,"!important")&&10))){case 107:return tn(t,":",":"+en)+t;case 101:return tn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(cs(t,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+bs+"$2box$3")+t}break;case 5936:switch(cs(t,e+11)){case 114:return en+t+bs+tn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return en+t+bs+tn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return en+t+bs+tn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return en+t+bs+t+t}return t}var zJ=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case TB:e.return=I$(e.value,e.length);break;case M$:return Ef([dg(e,{value:tn(e.value,"@","@"+en)})],i);case CB:if(e.length)return _J(e.props,function(s){switch(kJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ef([dg(e,{props:[tn(s,/:(read-\w+)/,":"+lw+"$1")]})],i);case"::placeholder":return Ef([dg(e,{props:[tn(s,/:(plac\w+)/,":"+en+"input-$1")]}),dg(e,{props:[tn(s,/:(plac\w+)/,":"+lw+"$1")]}),dg(e,{props:[tn(s,/:(plac\w+)/,bs+"input-$1")]})],i)}return""})}},WJ=[zJ],L$=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||WJ,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)s[b[x]]=!0;o.push(y)});var l,u=[$J,VJ];{var c,h=[DJ,LJ(function(y){c.insert(y)})],f=IJ(u.concat(i,h)),m=function(b){return Ef(EJ(b),f)};l=function(b,x,v,w){c=v,m(b?b+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new yJ({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(o),g},F$={exports:{}},un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=typeof Symbol=="function"&&Symbol.for,BB=es?Symbol.for("react.element"):60103,MB=es?Symbol.for("react.portal"):60106,Bx=es?Symbol.for("react.fragment"):60107,Mx=es?Symbol.for("react.strict_mode"):60108,Nx=es?Symbol.for("react.profiler"):60114,Ex=es?Symbol.for("react.provider"):60109,Rx=es?Symbol.for("react.context"):60110,NB=es?Symbol.for("react.async_mode"):60111,Dx=es?Symbol.for("react.concurrent_mode"):60111,Ix=es?Symbol.for("react.forward_ref"):60112,Lx=es?Symbol.for("react.suspense"):60113,HJ=es?Symbol.for("react.suspense_list"):60120,Fx=es?Symbol.for("react.memo"):60115,Ax=es?Symbol.for("react.lazy"):60116,UJ=es?Symbol.for("react.block"):60121,GJ=es?Symbol.for("react.fundamental"):60117,jJ=es?Symbol.for("react.responder"):60118,YJ=es?Symbol.for("react.scope"):60119;function Ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BB:switch(t=t.type,t){case NB:case Dx:case Bx:case Nx:case Mx:case Lx:return t;default:switch(t=t&&t.$$typeof,t){case Rx:case Ix:case Ax:case Fx:case Ex:return t;default:return e}}case MB:return e}}}function A$(t){return Ha(t)===Dx}un.AsyncMode=NB;un.ConcurrentMode=Dx;un.ContextConsumer=Rx;un.ContextProvider=Ex;un.Element=BB;un.ForwardRef=Ix;un.Fragment=Bx;un.Lazy=Ax;un.Memo=Fx;un.Portal=MB;un.Profiler=Nx;un.StrictMode=Mx;un.Suspense=Lx;un.isAsyncMode=function(t){return A$(t)||Ha(t)===NB};un.isConcurrentMode=A$;un.isContextConsumer=function(t){return Ha(t)===Rx};un.isContextProvider=function(t){return Ha(t)===Ex};un.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BB};un.isForwardRef=function(t){return Ha(t)===Ix};un.isFragment=function(t){return Ha(t)===Bx};un.isLazy=function(t){return Ha(t)===Ax};un.isMemo=function(t){return Ha(t)===Fx};un.isPortal=function(t){return Ha(t)===MB};un.isProfiler=function(t){return Ha(t)===Nx};un.isStrictMode=function(t){return Ha(t)===Mx};un.isSuspense=function(t){return Ha(t)===Lx};un.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bx||t===Dx||t===Nx||t===Mx||t===Lx||t===HJ||typeof t=="object"&&t!==null&&(t.$$typeof===Ax||t.$$typeof===Fx||t.$$typeof===Ex||t.$$typeof===Rx||t.$$typeof===Ix||t.$$typeof===GJ||t.$$typeof===jJ||t.$$typeof===YJ||t.$$typeof===UJ)};un.typeOf=Ha;F$.exports=un;var XJ=F$.exports,O$=XJ,qJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$$={};$$[O$.ForwardRef]=qJ;$$[O$.Memo]=KJ;var QJ=!0;function JJ(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var V$=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||QJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},z$=function(e,r,n){V$(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function ZJ(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tZ=/[A-Z]|^ms/g,rZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,W$=function(e){return e.charCodeAt(1)===45},eI=function(e){return e!=null&&typeof e!="boolean"},Jk=P$(function(t){return W$(t)?t:t.replace(tZ,"-$&").toLowerCase()}),tI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(rZ,function(n,i,s){return Cl={name:i,styles:s,next:Cl},i})}return eZ[e]!==1&&!W$(e)&&typeof r=="number"&&r!==0?r+"px":r};function zm(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Cl={name:r.name,styles:r.styles,next:Cl},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Cl={name:n.name,styles:n.styles,next:Cl},n=n.next;var i=r.styles+";";return i}return nZ(t,e,r)}case"function":{if(t!==void 0){var s=Cl,a=r(t);return Cl=s,zm(t,e,a)}break}}if(e==null)return r;var o=e[r];return o!==void 0?o:r}function nZ(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=zm(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":eI(a)&&(n+=Jk(s)+":"+tI(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)eI(a[o])&&(n+=Jk(s)+":"+tI(s,a[o])+";");else{var l=zm(t,e,a);switch(s){case"animation":case"animationName":{n+=Jk(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var rI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Cl,EB=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Cl=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=zm(n,r,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=zm(n,r,e[o]),i&&(s+=a[o]);rI.lastIndex=0;for(var l="",u;(u=rI.exec(s))!==null;)l+="-"+u[1];var c=ZJ(s)+l;return{name:c,styles:s,next:Cl}},iZ=function(e){return e()},H$=qd.useInsertionEffect?qd.useInsertionEffect:!1,sZ=H$||iZ,nI=H$||k.useLayoutEffect,U$=k.createContext(typeof HTMLElement<"u"?L$({key:"css"}):null),aZ=U$.Provider,G$=function(e){return k.forwardRef(function(r,n){var i=k.useContext(U$);return e(r,i,n)})},Ox=k.createContext({}),Zk={exports:{}},iI;function j$(){return iI||(iI=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Zk)),Zk.exports}j$();var oZ=G$(function(t,e){var r=t.styles,n=EB([r],void 0,k.useContext(Ox)),i=k.useRef();return nI(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),nI(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&z$(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function $x(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return EB(e)}var xp=function(){var e=$x.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lZ=pJ,uZ=function(e){return e!=="theme"},sI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?lZ:uZ},aI=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},cZ=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return V$(r,n,i),sZ(function(){return z$(r,n,i)}),null},dZ=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;r!==void 0&&(s=r.label,a=r.target);var o=aI(e,r,n),l=o||sI(i),u=!l("as");return function(){var c=arguments,h=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var f=c.length,m=1;m<f;m++)h.push(c[m],c[0][m])}var g=G$(function(y,b,x){var v=u&&y.as||i,w="",T=[],P=y;if(y.theme==null){P={};for(var C in y)P[C]=y[C];P.theme=k.useContext(Ox)}typeof y.className=="string"?w=JJ(b.registered,T,y.className):y.className!=null&&(w=y.className+" ");var M=EB(h.concat(T),b.registered,P);w+=b.key+"-"+M.name,a!==void 0&&(w+=" "+a);var E=u&&o===void 0?sI(v):l,D={};for(var I in y)u&&I==="as"||E(I)&&(D[I]=y[I]);return D.className=w,D.ref=x,k.createElement(k.Fragment,null,k.createElement(cZ,{cache:b,serialized:M,isStringTag:typeof v=="string"}),k.createElement(v,D))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=o,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(y,b){return t(y,B({},r,b,{shouldForwardProp:aI(g,b,!0)})).apply(void 0,h)},g}},hZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yT=dZ.bind();hZ.forEach(function(t){yT[t]=yT(t)});var e_={exports:{}},t_,oI;function fZ(){if(oI)return t_;oI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return t_=t,t_}var r_,lI;function pZ(){if(lI)return r_;lI=1;var t=fZ();function e(){}function r(){}return r.resetWarningCache=e,r_=function(){function n(a,o,l,u,c,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},r_}var uI;function Y$(){return uI||(uI=1,e_.exports=pZ()()),e_.exports}var gZ=Y$();const X=Va(gZ);let bT;typeof document=="object"&&(bT=L$({key:"css",prepend:!0}));function mZ(t){const{injectFirst:e,children:r}=t;return e&&bT?_.jsx(aZ,{value:bT,children:r}):r}function yZ(t){return t==null||Object.keys(t).length===0}function X$(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(yZ(i)?r:i):e;return _.jsx(oZ,{styles:n})}function RB(t,e){return yT(t,e)}const q$=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},bZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:X$,StyledEngineProvider:mZ,ThemeContext:Ox,css:$x,default:RB,internal_processStyles:q$,keyframes:xp},Symbol.toStringTag,{value:"Module"}));function cu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function K$(t){if(!cu(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=K$(t[r])}),e}function zs(t,e,r={clone:!0}){const n=r.clone?B({},t):t;return cu(t)&&cu(e)&&Object.keys(e).forEach(i=>{cu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&cu(t[i])?n[i]=zs(t[i],e[i],r):r.clone?n[i]=cu(e[i])?K$(e[i]):e[i]:n[i]=e[i]}),n}const vZ=Object.freeze(Object.defineProperty({__proto__:null,default:zs,isPlainObject:cu},Symbol.toStringTag,{value:"Module"})),wZ=["values","unit","step"],xZ=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>B({},r,{[n.key]:n.val}),{})};function Q$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=Re(t,wZ),s=xZ(e),a=Object.keys(s);function o(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-n/100}${r})`}function u(f,m){const g=a.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${r}) and (max-width:${(g!==-1&&typeof e[a[g]]=="number"?e[a[g]]:m)-n/100}${r})`}function c(f){return a.indexOf(f)+1<a.length?u(f,a[a.indexOf(f)+1]):o(f)}function h(f){const m=a.indexOf(f);return m===0?o(a[1]):m===a.length-1?l(a[m]):u(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return B({keys:a,values:s,up:o,down:l,between:u,only:c,not:h,unit:r},i)}const SZ={borderRadius:4},kZ=SZ;function em(t,e){return e?zs(t,e,{clone:!1}):t}const DB={xs:0,sm:600,md:900,lg:1200,xl:1536},cI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${DB[t]}px)`};function cl(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||cI;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=r(e[l]),a),{})}if(typeof e=="object"){const s=n.breakpoints||cI;return Object.keys(e).reduce((a,o)=>{if(Object.keys(s.values||DB).indexOf(o)!==-1){const l=s.up(o);a[l]=r(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return r(e)}function J$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function Z$(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function _Z(t,...e){const r=J$(t),n=[r,...e].reduce((i,s)=>zs(i,s),{});return Z$(Object.keys(r),n)}function CZ(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function n_({values:t,breakpoints:e,base:r}){const n=r||CZ(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[s],s=o):a[o]=t,a),{})}function je(t){if(typeof t!="string")throw new Error(Mu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const TZ=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));function Vx(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function uw(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Vx(t,r)||n,e&&(i=e(i,n,t)),i}function _i(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=Vx(l,n)||{};return cl(a,o,h=>{let f=uw(u,i,h);return h===f&&typeof h=="string"&&(f=uw(u,i,`${e}${h==="default"?"":je(h)}`,h)),r===!1?f:{[r]:f}})};return s.propTypes={},s.filterProps=[e],s}function PZ(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const BZ={m:"margin",p:"padding"},MZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},NZ=PZ(t=>{if(t.length>2)if(dI[t])t=dI[t];else return[t];const[e,r]=t.split(""),n=BZ[e],i=MZ[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),IB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],LB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...IB,...LB];function Ly(t,e,r,n){var i;const s=(i=Vx(t,e,!1))!=null?i:r;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function FB(t){return Ly(t,"spacing",8)}function nh(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function EZ(t,e){return r=>t.reduce((n,i)=>(n[i]=nh(e,r),n),{})}function RZ(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=NZ(r),s=EZ(i,n),a=t[r];return cl(t,a,s)}function e4(t,e){const r=FB(t.theme);return Object.keys(t).map(n=>RZ(t,e,n,r)).reduce(em,{})}function ei(t){return e4(t,IB)}ei.propTypes={};ei.filterProps=IB;function ti(t){return e4(t,LB)}ti.propTypes={};ti.filterProps=LB;function DZ(t=8){if(t.mui)return t;const e=FB({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function zx(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?em(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function oo(t){return typeof t!="number"?t:`${t}px solid`}function Mo(t,e){return _i({prop:t,themeKey:"borders",transform:e})}const IZ=Mo("border",oo),LZ=Mo("borderTop",oo),FZ=Mo("borderRight",oo),AZ=Mo("borderBottom",oo),OZ=Mo("borderLeft",oo),$Z=Mo("borderColor"),VZ=Mo("borderTopColor"),zZ=Mo("borderRightColor"),WZ=Mo("borderBottomColor"),HZ=Mo("borderLeftColor"),UZ=Mo("outline",oo),GZ=Mo("outlineColor"),Wx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Ly(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:nh(e,n)});return cl(t,t.borderRadius,r)}return null};Wx.propTypes={};Wx.filterProps=["borderRadius"];zx(IZ,LZ,FZ,AZ,OZ,$Z,VZ,zZ,WZ,HZ,Wx,UZ,GZ);const Hx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Ly(t.theme,"spacing",8),r=n=>({gap:nh(e,n)});return cl(t,t.gap,r)}return null};Hx.propTypes={};Hx.filterProps=["gap"];const Ux=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Ly(t.theme,"spacing",8),r=n=>({columnGap:nh(e,n)});return cl(t,t.columnGap,r)}return null};Ux.propTypes={};Ux.filterProps=["columnGap"];const Gx=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Ly(t.theme,"spacing",8),r=n=>({rowGap:nh(e,n)});return cl(t,t.rowGap,r)}return null};Gx.propTypes={};Gx.filterProps=["rowGap"];const jZ=_i({prop:"gridColumn"}),YZ=_i({prop:"gridRow"}),XZ=_i({prop:"gridAutoFlow"}),qZ=_i({prop:"gridAutoColumns"}),KZ=_i({prop:"gridAutoRows"}),QZ=_i({prop:"gridTemplateColumns"}),JZ=_i({prop:"gridTemplateRows"}),ZZ=_i({prop:"gridTemplateAreas"}),eee=_i({prop:"gridArea"});zx(Hx,Ux,Gx,jZ,YZ,XZ,qZ,KZ,QZ,JZ,ZZ,eee);function Rf(t,e){return e==="grey"?e:t}const tee=_i({prop:"color",themeKey:"palette",transform:Rf}),ree=_i({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rf}),nee=_i({prop:"backgroundColor",themeKey:"palette",transform:Rf});zx(tee,ree,nee);function Pa(t){return t<=1&&t!==0?`${t*100}%`:t}const iee=_i({prop:"width",transform:Pa}),AB=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||DB[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Pa(r)}};return cl(t,t.maxWidth,e)}return null};AB.filterProps=["maxWidth"];const see=_i({prop:"minWidth",transform:Pa}),aee=_i({prop:"height",transform:Pa}),oee=_i({prop:"maxHeight",transform:Pa}),lee=_i({prop:"minHeight",transform:Pa});_i({prop:"size",cssProperty:"width",transform:Pa});_i({prop:"size",cssProperty:"height",transform:Pa});const uee=_i({prop:"boxSizing"});zx(iee,AB,see,aee,oee,lee,uee);const cee={border:{themeKey:"borders",transform:oo},borderTop:{themeKey:"borders",transform:oo},borderRight:{themeKey:"borders",transform:oo},borderBottom:{themeKey:"borders",transform:oo},borderLeft:{themeKey:"borders",transform:oo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:oo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Wx},color:{themeKey:"palette",transform:Rf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rf},backgroundColor:{themeKey:"palette",transform:Rf},p:{style:ti},pt:{style:ti},pr:{style:ti},pb:{style:ti},pl:{style:ti},px:{style:ti},py:{style:ti},padding:{style:ti},paddingTop:{style:ti},paddingRight:{style:ti},paddingBottom:{style:ti},paddingLeft:{style:ti},paddingX:{style:ti},paddingY:{style:ti},paddingInline:{style:ti},paddingInlineStart:{style:ti},paddingInlineEnd:{style:ti},paddingBlock:{style:ti},paddingBlockStart:{style:ti},paddingBlockEnd:{style:ti},m:{style:ei},mt:{style:ei},mr:{style:ei},mb:{style:ei},ml:{style:ei},mx:{style:ei},my:{style:ei},margin:{style:ei},marginTop:{style:ei},marginRight:{style:ei},marginBottom:{style:ei},marginLeft:{style:ei},marginX:{style:ei},marginY:{style:ei},marginInline:{style:ei},marginInlineStart:{style:ei},marginInlineEnd:{style:ei},marginBlock:{style:ei},marginBlockStart:{style:ei},marginBlockEnd:{style:ei},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hx},rowGap:{style:Gx},columnGap:{style:Ux},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pa},maxWidth:{style:AB},minWidth:{transform:Pa},height:{transform:Pa},maxHeight:{transform:Pa},minHeight:{transform:Pa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Fy=cee;function dee(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function hee(t,e){return typeof t=="function"?t(e):t}function t4(){function t(r,n,i,s){const a={[r]:n,theme:i},o=s[r];if(!o)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:h}=o;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const f=Vx(i,u)||{};return h?h(a):cl(a,n,g=>{let y=uw(f,c,g);return g===y&&typeof g=="string"&&(y=uw(f,c,`${r}${g==="default"?"":je(g)}`,g)),l===!1?y:{[l]:y}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const a=(n=s.unstable_sxConfig)!=null?n:Fy;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=J$(s.breakpoints),h=Object.keys(c);let f=c;return Object.keys(u).forEach(m=>{const g=hee(u[m],s);if(g!=null)if(typeof g=="object")if(a[m])f=em(f,t(m,g,s,a));else{const y=cl({theme:s},g,b=>({[m]:b}));dee(y,g)?f[m]=e({sx:g,theme:s}):f=em(f,y)}else f=em(f,t(m,g,s,a))}),Z$(h,f)}return Array.isArray(i)?i.map(o):o(i)}return e}const Sp=t4();Sp.filterProps=["sx"];function r4(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const fee=["breakpoints","palette","spacing","shape"];function Ay(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,a=Re(t,fee),o=Q$(r),l=DZ(i);let u=zs({breakpoints:o,direction:"ltr",components:{},palette:B({mode:"light"},n),spacing:l,shape:B({},kZ,s)},a);return u.applyStyles=r4,u=e.reduce((c,h)=>zs(c,h),u),u.unstable_sxConfig=B({},Fy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Sp({sx:h,theme:this})},u}const pee=Object.freeze(Object.defineProperty({__proto__:null,default:Ay,private_createBreakpoints:Q$,unstable_applyStyles:r4},Symbol.toStringTag,{value:"Module"}));function gee(t){return Object.keys(t).length===0}function n4(t=null){const e=k.useContext(Ox);return!e||gee(e)?t:e}const mee=Ay();function jx(t=mee){return n4(t)}function yee({styles:t,themeId:e,defaultTheme:r={}}){const n=jx(r),i=typeof t=="function"?t(e&&n[e]||n):t;return _.jsx(X$,{styles:i})}const bee=["sx"],vee=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Fy;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function Yx(t){const{sx:e}=t,r=Re(t,bee),{systemProps:n,otherProps:i}=vee(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return cu(o)?B({},n,o):n}:s=B({},n,e),B({},i,{sx:s})}const wee=Object.freeze(Object.defineProperty({__proto__:null,default:Sp,extendSxProp:Yx,unstable_createStyleFunctionSx:t4,unstable_defaultSxConfig:Fy},Symbol.toStringTag,{value:"Module"})),hI=t=>t,xee=()=>{let t=hI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hI}}},See=xee(),i4=See;function s4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=s4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=s4(t))&&(n&&(n+=" "),n+=e);return n}const kee=["className","component"];function _ee(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=RB("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Sp);return k.forwardRef(function(l,u){const c=jx(r),h=Yx(l),{className:f,component:m="div"}=h,g=Re(h,kee);return _.jsx(s,B({as:m,ref:u,className:Oe(f,i?i(n):n),theme:e&&c[e]||c},g))})}const a4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function dt(t,e,r="Mui"){const n=a4[e];return n?`${r}-${n}`:`${i4.generate(t)}-${e}`}function ht(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=dt(t,i,r)}),n}var o4={exports:{}},cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OB=Symbol.for("react.element"),$B=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),qx=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Cee=Symbol.for("react.server_context"),Zx=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),t1=Symbol.for("react.suspense_list"),r1=Symbol.for("react.memo"),n1=Symbol.for("react.lazy"),Tee=Symbol.for("react.offscreen"),l4;l4=Symbol.for("react.module.reference");function No(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OB:switch(t=t.type,t){case Xx:case Kx:case qx:case e1:case t1:return t;default:switch(t=t&&t.$$typeof,t){case Cee:case Jx:case Zx:case n1:case r1:case Qx:return t;default:return e}}case $B:return e}}}cn.ContextConsumer=Jx;cn.ContextProvider=Qx;cn.Element=OB;cn.ForwardRef=Zx;cn.Fragment=Xx;cn.Lazy=n1;cn.Memo=r1;cn.Portal=$B;cn.Profiler=Kx;cn.StrictMode=qx;cn.Suspense=e1;cn.SuspenseList=t1;cn.isAsyncMode=function(){return!1};cn.isConcurrentMode=function(){return!1};cn.isContextConsumer=function(t){return No(t)===Jx};cn.isContextProvider=function(t){return No(t)===Qx};cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OB};cn.isForwardRef=function(t){return No(t)===Zx};cn.isFragment=function(t){return No(t)===Xx};cn.isLazy=function(t){return No(t)===n1};cn.isMemo=function(t){return No(t)===r1};cn.isPortal=function(t){return No(t)===$B};cn.isProfiler=function(t){return No(t)===Kx};cn.isStrictMode=function(t){return No(t)===qx};cn.isSuspense=function(t){return No(t)===e1};cn.isSuspenseList=function(t){return No(t)===t1};cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xx||t===Kx||t===qx||t===e1||t===t1||t===Tee||typeof t=="object"&&t!==null&&(t.$$typeof===n1||t.$$typeof===r1||t.$$typeof===Qx||t.$$typeof===Jx||t.$$typeof===Zx||t.$$typeof===l4||t.getModuleId!==void 0)};cn.typeOf=No;o4.exports=cn;var fI=o4.exports;const Pee=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function u4(t){const e=`${t}`.match(Pee);return e&&e[1]||""}function c4(t,e=""){return t.displayName||t.name||u4(t)||e}function pI(t,e,r){const n=c4(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function Bee(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return c4(t,"Component");if(typeof t=="object")switch(t.$$typeof){case fI.ForwardRef:return pI(t,t.render,"ForwardRef");case fI.Memo:return pI(t,t.type,"memo");default:return}}}const Mee=Object.freeze(Object.defineProperty({__proto__:null,default:Bee,getFunctionName:u4},Symbol.toStringTag,{value:"Module"})),Nee=["ownerState"],Eee=["variants"],Ree=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Dee(t){return Object.keys(t).length===0}function Iee(t){return typeof t=="string"&&t.charCodeAt(0)>96}function tm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Lee=Ay(),Fee=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function gb({defaultTheme:t,theme:e,themeId:r}){return Dee(e)?t:e[r]||e}function Aee(t){return t?(e,r)=>r[t]:null}function bv(t,e){let{ownerState:r}=e,n=Re(e,Nee);const i=typeof t=="function"?t(B({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>bv(s,B({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=Re(i,Eee);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(B({ownerState:r},n,r)):Object.keys(l.props).forEach(c=>{(r==null?void 0:r[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style(B({ownerState:r},n,r)):l.style))}),o}return i}function Oee(t={}){const{themeId:e,defaultTheme:r=Lee,rootShouldForwardProp:n=tm,slotShouldForwardProp:i=tm}=t,s=a=>Sp(B({},a,{theme:gb(B({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{q$(a,P=>P.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:f=Aee(Fee(u))}=o,m=Re(o,Ree),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,y=h||!1;let b,x=tm;u==="Root"||u==="root"?x=n:u?x=i:Iee(a)&&(x=void 0);const v=RB(a,B({shouldForwardProp:x,label:b},m)),w=P=>typeof P=="function"&&P.__emotion_real!==P||cu(P)?C=>bv(P,B({},C,{theme:gb({theme:C.theme,defaultTheme:r,themeId:e})})):P,T=(P,...C)=>{let M=w(P);const E=C?C.map(w):[];l&&f&&E.push(A=>{const W=gb(B({},A,{defaultTheme:r,themeId:e}));if(!W.components||!W.components[l]||!W.components[l].styleOverrides)return null;const V=W.components[l].styleOverrides,$={};return Object.entries(V).forEach(([L,H])=>{$[L]=bv(H,B({},A,{theme:W}))}),f(A,$)}),l&&!g&&E.push(A=>{var W;const V=gb(B({},A,{defaultTheme:r,themeId:e})),$=V==null||(W=V.components)==null||(W=W[l])==null?void 0:W.variants;return bv({variants:$},B({},A,{theme:V}))}),y||E.push(s);const D=E.length-C.length;if(Array.isArray(P)&&D>0){const A=new Array(D).fill("");M=[...P,...A],M.raw=[...P.raw,...A]}const I=v(M,...E);return a.muiName&&(I.muiName=a.muiName),I};return v.withConfig&&(T.withConfig=v.withConfig),T}}const $ee=Oee();function VB(t,e){const r=B({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=B({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=B({},s),Object.keys(i).forEach(a=>{r[n][a]=VB(i[a],s[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function d4(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:VB(e.components[r].defaultProps,n)}function h4({props:t,name:e,defaultTheme:r,themeId:n}){let i=jx(r);return n&&(i=i[n]||i),d4({theme:i,name:e,props:t})}const Dn=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Vee(t,e,r,n,i){const[s,a]=k.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Dn(()=>{let o=!0;if(!r)return;const l=r(t),u=()=>{o&&a(l.matches)};return u(),l.addListener(u),()=>{o=!1,l.removeListener(u)}},[t,r]),s}const f4=k.useSyncExternalStore;function zee(t,e,r,n,i){const s=k.useCallback(()=>e,[e]),a=k.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:c}=n(t);return()=>c}return s},[s,t,n,i,r]),[o,l]=k.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const c=r(t);return[()=>c.matches,h=>(c.addListener(h),()=>{c.removeListener(h)})]},[s,r,t]);return f4(l,o,a)}function zB(t,e={}){const r=n4(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:o=!1}=d4({name:"MuiUseMediaQuery",props:e,theme:r});let l=typeof t=="function"?t(r):t;return l=l.replace(/^@media( ?)/m,""),(f4!==void 0?zee:Vee)(l,i,s,a,o)}function yc(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const Wee=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"}));function Hee(t,e=0,r=1){return yc(t,e,r)}function Uee(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function p4(t){if(t.type)return t;if(t.charAt(0)==="#")return p4(Uee(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Mu(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Mu(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}function Gee(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function zl(t,e){return t=p4(t),e=Hee(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Gee(t)}const jee=X.oneOfType([X.func,X.object]),i1=jee;function vT(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function Oy(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function vv(t,e){var r,n;return k.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Kn(t){return t&&t.ownerDocument||document}function dl(t){return Kn(t).defaultView||window}function wT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let gI=0;function Yee(t){const[e,r]=k.useState(t),n=t||e;return k.useEffect(()=>{e==null&&(gI+=1,r(`mui-${gI}`))},[e]),n}const mI=qd.useId;function Eo(t){if(mI!==void 0){const e=mI();return t??e}return Yee(t)}function La({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=k.useRef(t!==void 0),[s,a]=k.useState(e),o=i?t:s,l=k.useCallback(u=>{i||a(u)},[]);return[o,l]}function yt(t){const e=k.useRef(t);return Dn(()=>{e.current=t}),k.useRef((...r)=>(0,e.current)(...r)).current}function Nr(...t){return k.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{wT(r,e)})},t)}const yI={};function Xee(t,e){const r=k.useRef(yI);return r.current===yI&&(r.current=t(e)),r}const qee=[];function Kee(t){k.useEffect(t,qee)}class s1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s1}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function g4(){const t=Xee(s1.create).current;return Kee(t.disposeEffect),t}let a1=!0,xT=!1;const Qee=new s1,Jee={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Zee(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&Jee[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function ete(t){t.metaKey||t.altKey||t.ctrlKey||(a1=!0)}function i_(){a1=!1}function tte(){this.visibilityState==="hidden"&&xT&&(a1=!0)}function rte(t){t.addEventListener("keydown",ete,!0),t.addEventListener("mousedown",i_,!0),t.addEventListener("pointerdown",i_,!0),t.addEventListener("touchstart",i_,!0),t.addEventListener("visibilitychange",tte,!0)}function nte(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return a1||Zee(e)}function WB(){const t=k.useCallback(i=>{i!=null&&rte(i.ownerDocument)},[]),e=k.useRef(!1);function r(){return e.current?(xT=!0,Qee.start(100,()=>{xT=!1}),e.current=!1,!0):!1}function n(i){return nte(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function m4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let Uh;function y4(){if(Uh)return Uh;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Uh="reverse",t.scrollLeft>0?Uh="default":(t.scrollLeft=1,t.scrollLeft===0&&(Uh="negative")),document.body.removeChild(t),Uh}function ite(t,e){const r=t.scrollLeft;if(e!=="rtl")return r;switch(y4()){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}const ste={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},HB=ste;function ut(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}const ate=k.createContext(),Gi=()=>{const t=k.useContext(ate);return t??!1},ote=["component","direction","spacing","divider","children","className","useFlexGap"],lte=Ay(),ute=$ee("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function cte(t){return h4({props:t,name:"MuiStack",defaultTheme:lte})}function dte(t,e){const r=k.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(k.cloneElement(e,{key:`separator-${s}`})),n),[])}const hte=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],fte=({ownerState:t,theme:e})=>{let r=B({display:"flex",flexDirection:"column"},cl({theme:e},n_({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=FB(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=n_({values:t.direction,base:i}),a=n_({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const f=u>0?s[c[u-1]]:"column";s[l]=f}}),r=zs(r,cl({theme:e},a,(l,u)=>t.useFlexGap?{gap:nh(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${hte(u?s[u]:t.direction)}`]:nh(n,l)}}))}return r=_Z(e.breakpoints,r),r};function pte(t={}){const{createStyledComponent:e=ute,useThemeProps:r=cte,componentName:n="MuiStack"}=t,i=()=>ut({root:["root"]},l=>dt(n,l),{}),s=e(fte);return k.forwardRef(function(l,u){const c=r(l),h=Yx(c),{component:f="div",direction:m="column",spacing:g=0,divider:y,children:b,className:x,useFlexGap:v=!1}=h,w=Re(h,ote),T={direction:m,spacing:g,useFlexGap:v},P=i();return _.jsx(s,B({as:f,ownerState:T,ref:u,className:Oe(P.root,x)},w,{children:y?dte(b,y):b}))})}function gte(t,e){return B({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Ci={},b4={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(b4);var v4=b4.exports;const mte=Uc(hJ),yte=Uc(Wee);var w4=v4;Object.defineProperty(Ci,"__esModule",{value:!0});var Vr=Ci.alpha=_4;Ci.blend=Bte;Ci.colorChannel=void 0;var cw=Ci.darken=GB;Ci.decomposeColor=_o;Ci.emphasize=C4;var bte=Ci.getContrastRatio=kte;Ci.getLuminance=hw;Ci.hexToRgb=x4;Ci.hslToRgb=k4;var dw=Ci.lighten=jB;Ci.private_safeAlpha=_te;Ci.private_safeColorChannel=void 0;Ci.private_safeDarken=Cte;Ci.private_safeEmphasize=Pte;Ci.private_safeLighten=Tte;Ci.recomposeColor=kp;Ci.rgbToHex=Ste;var bI=w4(mte),vte=w4(yte);function UB(t,e=0,r=1){return(0,vte.default)(t,e,r)}function x4(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function wte(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function _o(t){if(t.type)return t;if(t.charAt(0)==="#")return _o(x4(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,bI.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,bI.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const S4=t=>{const e=_o(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Ci.colorChannel=S4;const xte=(t,e)=>{try{return S4(t)}catch{return t}};Ci.private_safeColorChannel=xte;function kp(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function Ste(t){if(t.indexOf("#")===0)return t;const{values:e}=_o(t);return`#${e.map((r,n)=>wte(n===3?Math.round(255*r):r)).join("")}`}function k4(t){t=_o(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(u,c=(u+r/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),kp({type:o,values:l})}function hw(t){t=_o(t);let e=t.type==="hsl"||t.type==="hsla"?_o(k4(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function kte(t,e){const r=hw(t),n=hw(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function _4(t,e){return t=_o(t),e=UB(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,kp(t)}function _te(t,e,r){try{return _4(t,e)}catch{return t}}function GB(t,e){if(t=_o(t),e=UB(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return kp(t)}function Cte(t,e,r){try{return GB(t,e)}catch{return t}}function jB(t,e){if(t=_o(t),e=UB(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return kp(t)}function Tte(t,e,r){try{return jB(t,e)}catch{return t}}function C4(t,e=.15){return hw(t)>.5?GB(t,e):jB(t,e)}function Pte(t,e,r){try{return C4(t,e)}catch{return t}}function Bte(t,e,r,n=1){const i=(l,u)=>Math.round((l**(1/n)*(1-r)+u**(1/n)*r)**n),s=_o(t),a=_o(e),o=[i(s.values[0],a.values[0]),i(s.values[1],a.values[1]),i(s.values[2],a.values[2])];return kp({type:"rgb",values:o})}const Mte=["mode","contrastThreshold","tonalOffset"],vI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Om.white,default:Om.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},s_={text:{primary:Om.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Om.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function wI(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=dw(t.main,i):e==="dark"&&(t.dark=cw(t.main,s)))}function Nte(t="light"){return t==="dark"?{main:zh[200],light:zh[50],dark:zh[400]}:{main:zh[700],light:zh[400],dark:zh[800]}}function Ete(t="light"){return t==="dark"?{main:Vh[200],light:Vh[50],dark:Vh[400]}:{main:Vh[500],light:Vh[300],dark:Vh[700]}}function Rte(t="light"){return t==="dark"?{main:$h[500],light:$h[300],dark:$h[700]}:{main:$h[700],light:$h[400],dark:$h[800]}}function Dte(t="light"){return t==="dark"?{main:Wh[400],light:Wh[300],dark:Wh[700]}:{main:Wh[700],light:Wh[500],dark:Wh[900]}}function Ite(t="light"){return t==="dark"?{main:Hh[400],light:Hh[300],dark:Hh[700]}:{main:Hh[800],light:Hh[500],dark:Hh[900]}}function Lte(t="light"){return t==="dark"?{main:cg[400],light:cg[300],dark:cg[700]}:{main:"#ed6c02",light:cg[500],dark:cg[900]}}function Fte(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=Re(t,Mte),s=t.primary||Nte(e),a=t.secondary||Ete(e),o=t.error||Rte(e),l=t.info||Dte(e),u=t.success||Ite(e),c=t.warning||Lte(e);function h(y){return bte(y,s_.text.primary)>=r?s_.text.primary:vI.text.primary}const f=({color:y,name:b,mainShade:x=500,lightShade:v=300,darkShade:w=700})=>{if(y=B({},y),!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(Mu(11,b?` (${b})`:"",x));if(typeof y.main!="string")throw new Error(Mu(12,b?` (${b})`:"",JSON.stringify(y.main)));return wI(y,"light",v,n),wI(y,"dark",w,n),y.contrastText||(y.contrastText=h(y.main)),y},m={dark:s_,light:vI};return zs(B({common:B({},Om),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:o,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:dJ,contrastThreshold:r,getContrastText:h,augmentColor:f,tonalOffset:n},m[e]),i)}const Ate=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ote(t){return Math.round(t*1e5)/1e5}const xI={textTransform:"uppercase"},SI='"Roboto", "Helvetica", "Arial", sans-serif';function $te(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=SI,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=r,f=Re(r,Ate),m=i/14,g=h||(x=>`${x/u*m}rem`),y=(x,v,w,T,P)=>B({fontFamily:n,fontWeight:x,fontSize:g(v),lineHeight:w},n===SI?{letterSpacing:`${Ote(T/v)}em`}:{},P,c),b={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(o,14,1.75,.4,xI),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,xI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zs(B({htmlFontSize:u,pxToRem:g,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},b),f,{clone:!1})}const Vte=.2,zte=.14,Wte=.12;function Fn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Vte})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zte})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Wte})`].join(",")}const Hte=["none",Fn(0,2,1,-1,0,1,1,0,0,1,3,0),Fn(0,3,1,-2,0,2,2,0,0,1,5,0),Fn(0,3,3,-2,0,3,4,0,0,1,8,0),Fn(0,2,4,-1,0,4,5,0,0,1,10,0),Fn(0,3,5,-1,0,5,8,0,0,1,14,0),Fn(0,3,5,-1,0,6,10,0,0,1,18,0),Fn(0,4,5,-2,0,7,10,1,0,2,16,1),Fn(0,5,5,-3,0,8,10,1,0,3,14,2),Fn(0,5,6,-3,0,9,12,1,0,3,16,2),Fn(0,6,6,-3,0,10,14,1,0,4,18,3),Fn(0,6,7,-4,0,11,15,1,0,4,20,3),Fn(0,7,8,-4,0,12,17,2,0,5,22,4),Fn(0,7,8,-4,0,13,19,2,0,5,24,4),Fn(0,7,9,-4,0,14,21,2,0,5,26,4),Fn(0,8,9,-5,0,15,22,2,0,6,28,5),Fn(0,8,10,-5,0,16,24,2,0,6,30,5),Fn(0,8,11,-5,0,17,26,2,0,6,32,5),Fn(0,9,11,-5,0,18,28,2,0,7,34,6),Fn(0,9,12,-6,0,19,29,2,0,7,36,6),Fn(0,10,13,-6,0,20,31,3,0,8,38,7),Fn(0,10,13,-6,0,21,33,3,0,8,40,7),Fn(0,10,14,-6,0,22,35,3,0,8,42,7),Fn(0,11,14,-7,0,23,36,3,0,9,44,8),Fn(0,11,15,-7,0,24,38,3,0,9,46,8)],Ute=["duration","easing","delay"],Gte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kI(t){return`${Math.round(t)}ms`}function Yte(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Xte(t){const e=B({},Gte,t.easing),r=B({},jte,t.duration);return B({getAutoHeightDuration:Yte,create:(i=["all"],s={})=>{const{duration:a=r.standard,easing:o=e.easeInOut,delay:l=0}=s;return Re(s,Ute),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:kI(a)} ${o} ${typeof l=="string"?l:kI(l)}`).join(",")}},t,{easing:e,duration:r})}const qte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Kte=qte,Qte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function T4(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,a=Re(t,Qte);if(t.vars)throw new Error(Mu(18));const o=Fte(n),l=Ay(t);let u=zs(l,{mixins:gte(l.breakpoints,r),palette:o,shadows:Hte.slice(),typography:$te(o,s),transitions:Xte(i),zIndex:B({},Kte)});return u=zs(u,a),u=e.reduce((c,h)=>zs(c,h),u),u.unstable_sxConfig=B({},Fy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return Sp({sx:h,theme:this})},u}const Jte=T4(),o1=Jte;function Ua(){const t=jx(o1);return t[Dy]||t}function tt({props:t,name:e}){return h4({props:t,name:e,defaultTheme:o1,themeId:Dy})}var $y={},a_={exports:{}},_I;function Zte(){return _I||(_I=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(a_)),a_.exports}const P4=Uc(bZ),ere=Uc(vZ),tre=Uc(TZ),rre=Uc(Mee),nre=Uc(pee),ire=Uc(wee);var _p=v4;Object.defineProperty($y,"__esModule",{value:!0});var sre=$y.default=bre;$y.shouldForwardProp=wv;$y.systemDefaultTheme=void 0;var no=_p(j$()),ST=_p(Zte()),CI=hre(P4),are=ere;_p(tre);_p(rre);var ore=_p(nre),lre=_p(ire);const ure=["ownerState"],cre=["variants"],dre=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function B4(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(B4=function(n){return n?r:e})(t)}function hre(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=B4(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function fre(t){return Object.keys(t).length===0}function pre(t){return typeof t=="string"&&t.charCodeAt(0)>96}function wv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const gre=$y.systemDefaultTheme=(0,ore.default)(),mre=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function mb({defaultTheme:t,theme:e,themeId:r}){return fre(e)?t:e[r]||e}function yre(t){return t?(e,r)=>r[t]:null}function xv(t,e){let{ownerState:r}=e,n=(0,ST.default)(e,ure);const i=typeof t=="function"?t((0,no.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>xv(s,(0,no.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let o=(0,ST.default)(i,cre);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,no.default)({ownerState:r},n,r)):Object.keys(l.props).forEach(c=>{(r==null?void 0:r[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(o)||(o=[o]),o.push(typeof l.style=="function"?l.style((0,no.default)({ownerState:r},n,r)):l.style))}),o}return i}function bre(t={}){const{themeId:e,defaultTheme:r=gre,rootShouldForwardProp:n=wv,slotShouldForwardProp:i=wv}=t,s=a=>(0,lre.default)((0,no.default)({},a,{theme:mb((0,no.default)({},a,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(a,o={})=>{(0,CI.internal_processStyles)(a,P=>P.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:f=yre(mre(u))}=o,m=(0,ST.default)(o,dre),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,y=h||!1;let b,x=wv;u==="Root"||u==="root"?x=n:u?x=i:pre(a)&&(x=void 0);const v=(0,CI.default)(a,(0,no.default)({shouldForwardProp:x,label:b},m)),w=P=>typeof P=="function"&&P.__emotion_real!==P||(0,are.isPlainObject)(P)?C=>xv(P,(0,no.default)({},C,{theme:mb({theme:C.theme,defaultTheme:r,themeId:e})})):P,T=(P,...C)=>{let M=w(P);const E=C?C.map(w):[];l&&f&&E.push(A=>{const W=mb((0,no.default)({},A,{defaultTheme:r,themeId:e}));if(!W.components||!W.components[l]||!W.components[l].styleOverrides)return null;const V=W.components[l].styleOverrides,$={};return Object.entries(V).forEach(([L,H])=>{$[L]=xv(H,(0,no.default)({},A,{theme:W}))}),f(A,$)}),l&&!g&&E.push(A=>{var W;const V=mb((0,no.default)({},A,{defaultTheme:r,themeId:e})),$=V==null||(W=V.components)==null||(W=W[l])==null?void 0:W.variants;return xv({variants:$},(0,no.default)({},A,{theme:V}))}),y||E.push(s);const D=E.length-C.length;if(Array.isArray(P)&&D>0){const A=new Array(D).fill("");M=[...P,...A],M.raw=[...P.raw,...A]}const I=v(M,...E);return a.muiName&&(I.muiName=a.muiName),I};return v.withConfig&&(T.withConfig=v.withConfig),T}}function Vy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ts=t=>Vy(t)&&t!=="classes",de=sre({themeId:Dy,defaultTheme:o1,rootShouldForwardProp:ts}),TI=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function vre(t){return dt("MuiSvgIcon",t)}ht("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const wre=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xre=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${je(e)}`,`fontSize${je(r)}`]};return ut(i,vre,n)},Sre=de("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${je(r.color)}`],e[`fontSize${je(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,a,o,l,u,c,h,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((o=t.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),kT=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:h,viewBox:f="0 0 24 24"}=n,m=Re(n,wre),g=k.isValidElement(i)&&i.type==="svg",y=B({},n,{color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:g}),b={};c||(b.viewBox=f);const x=xre(y);return _.jsxs(Sre,B({as:o,className:Oe(x.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:r},b,m,g&&i.props,{ownerState:y,children:[g?i.props.children:i,h?_.jsx("title",{children:h}):null]}))});kT.muiName="SvgIcon";function sn(t,e){function r(n,i){return _.jsx(kT,B({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=kT.muiName,k.memo(k.forwardRef(r))}var gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YB=Symbol.for("react.element"),XB=Symbol.for("react.portal"),l1=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),c1=Symbol.for("react.profiler"),d1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),kre=Symbol.for("react.server_context"),f1=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),m1=Symbol.for("react.memo"),y1=Symbol.for("react.lazy"),_re=Symbol.for("react.offscreen"),M4;M4=Symbol.for("react.module.reference");function Ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YB:switch(t=t.type,t){case l1:case c1:case u1:case p1:case g1:return t;default:switch(t=t&&t.$$typeof,t){case kre:case h1:case f1:case y1:case m1:case d1:return t;default:return e}}case XB:return e}}}gn.ContextConsumer=h1;gn.ContextProvider=d1;gn.Element=YB;gn.ForwardRef=f1;gn.Fragment=l1;gn.Lazy=y1;gn.Memo=m1;gn.Portal=XB;gn.Profiler=c1;gn.StrictMode=u1;gn.Suspense=p1;gn.SuspenseList=g1;gn.isAsyncMode=function(){return!1};gn.isConcurrentMode=function(){return!1};gn.isContextConsumer=function(t){return Ro(t)===h1};gn.isContextProvider=function(t){return Ro(t)===d1};gn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YB};gn.isForwardRef=function(t){return Ro(t)===f1};gn.isFragment=function(t){return Ro(t)===l1};gn.isLazy=function(t){return Ro(t)===y1};gn.isMemo=function(t){return Ro(t)===m1};gn.isPortal=function(t){return Ro(t)===XB};gn.isProfiler=function(t){return Ro(t)===c1};gn.isStrictMode=function(t){return Ro(t)===u1};gn.isSuspense=function(t){return Ro(t)===p1};gn.isSuspenseList=function(t){return Ro(t)===g1};gn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l1||t===c1||t===u1||t===p1||t===g1||t===_re||typeof t=="object"&&t!==null&&(t.$$typeof===y1||t.$$typeof===m1||t.$$typeof===d1||t.$$typeof===h1||t.$$typeof===f1||t.$$typeof===M4||t.getModuleId!==void 0)};gn.typeOf=Ro;function N4(t){return tt}function _T(t,e){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_T(t,e)}function qB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_T(t,e)}function Cre(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Tre(t,e){t.classList?t.classList.add(e):Cre(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function PI(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Pre(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=PI(t.className,e):t.setAttribute("class",PI(t.className&&t.className.baseVal||"",e))}const BI={disabled:!1},fw=Jt.createContext(null);var E4=function(e){return e.scrollTop},Fg="unmounted",bd="exited",vd="entering",Zh="entered",CT="exiting",Ou=function(t){qB(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=i,o=a&&!a.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?o?(l=bd,s.appearStatus=vd):l=Zh:n.unmountOnExit||n.mountOnEnter?l=Fg:l=bd,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Fg?{status:bd}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==vd&&a!==Zh&&(s=vd):(a===vd||a===Zh)&&(s=CT)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===vd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Lg.findDOMNode(this);a&&E4(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bd&&this.setState({status:Fg})},r.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Lg.findDOMNode(this),o],u=l[0],c=l[1],h=this.getTimeouts(),f=o?h.appear:h.enter;if(!i&&!a||BI.disabled){this.safeSetState({status:Zh},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:vd},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:Zh},function(){s.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Lg.findDOMNode(this);if(!s||BI.disabled){this.safeSetState({status:bd},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:CT},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:bd},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Lg.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Fg)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=Re(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Jt.createElement(fw.Provider,{value:null},typeof a=="function"?a(i,o):Jt.cloneElement(Jt.Children.only(a),o))},e}(Jt.Component);Ou.contextType=fw;Ou.propTypes={};function Gh(){}Ou.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gh,onEntering:Gh,onEntered:Gh,onExit:Gh,onExiting:Gh,onExited:Gh};Ou.UNMOUNTED=Fg;Ou.EXITED=bd;Ou.ENTERING=vd;Ou.ENTERED=Zh;Ou.EXITING=CT;const b1=Ou;var Bre=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Tre(e,n)})},o_=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Pre(e,n)})},KB=function(t){qB(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1];n.removeClasses(c,"exit"),n.addClass(c,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(o,l)},n.onEntering=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1],f=h?"appear":"enter";n.addClass(c,f,"active"),n.props.onEntering&&n.props.onEntering(o,l)},n.onEntered=function(o,l){var u=n.resolveArguments(o,l),c=u[0],h=u[1],f=h?"appear":"enter";n.removeClasses(c,f),n.addClass(c,f,"done"),n.props.onEntered&&n.props.onEntered(o,l)},n.onExit=function(o){var l=n.resolveArguments(o),u=l[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(o)},n.onExiting=function(o){var l=n.resolveArguments(o),u=l[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(o)},n.onExited=function(o){var l=n.resolveArguments(o),u=l[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(o)},n.resolveArguments=function(o,l){return n.props.nodeRef?[n.props.nodeRef.current,o]:[o,l]},n.getClassNames=function(o){var l=n.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",h=u?""+c+o:l[o],f=u?h+"-active":l[o+"Active"],m=u?h+"-done":l[o+"Done"];return{baseClassName:h,activeClassName:f,doneClassName:m}},n}var r=e.prototype;return r.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&a==="done"&&u&&(o+=" "+u),a==="active"&&i&&E4(i),o&&(this.appliedClasses[s][a]=o,Bre(i,o))},r.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,u=a.done;this.appliedClasses[s]={},o&&o_(i,o),l&&o_(i,l),u&&o_(i,u)},r.render=function(){var i=this.props;i.classNames;var s=Re(i,["classNames"]);return Jt.createElement(b1,B({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Jt.Component);KB.defaultProps={classNames:""};KB.propTypes={};const Mre=KB;function Nre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QB(t,e){var r=function(s){return e&&k.isValidElement(s)?e(s):s},n=Object.create(null);return t&&k.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Ere(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var u=n[l][a];o[n[l][a]]=r(u)}o[l]=r(l)}for(a=0;a<i.length;a++)o[i[a]]=r(i[a]);return o}function Ed(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Rre(t,e){return QB(t.children,function(r){return k.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Ed(r,"appear",t),enter:Ed(r,"enter",t),exit:Ed(r,"exit",t)})})}function Dre(t,e,r){var n=QB(t.children),i=Ere(e,n);return Object.keys(i).forEach(function(s){var a=i[s];if(k.isValidElement(a)){var o=s in e,l=s in n,u=e[s],c=k.isValidElement(u)&&!u.props.in;l&&(!o||c)?i[s]=k.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Ed(a,"exit",t),enter:Ed(a,"enter",t)}):!l&&o&&!c?i[s]=k.cloneElement(a,{in:!1}):l&&o&&k.isValidElement(u)&&(i[s]=k.cloneElement(a,{onExited:r.bind(null,a),in:u.props.in,exit:Ed(a,"exit",t),enter:Ed(a,"enter",t)}))}}),i}var Ire=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Lre={component:"div",childFactory:function(e){return e}},JB=function(t){qB(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=s.handleExited.bind(Nre(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?Rre(i,o):Dre(i,a,o),firstRender:!1}},r.handleExited=function(i,s){var a=QB(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=B({},o.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=Re(i,["component","childFactory"]),l=this.state.contextValue,u=Ire(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?Jt.createElement(fw.Provider,{value:l},u):Jt.createElement(fw.Provider,{value:l},Jt.createElement(s,o,u))},e}(Jt.Component);JB.propTypes={};JB.defaultProps=Lre;const ZB=JB,eM=t=>t.scrollTop;function Xf(t,e){var r,n;const{timeout:i,easing:s,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:a.transitionDelay}}function Fre(t){return dt("MuiPaper",t)}ht("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Are=["className","component","elevation","square","variant"],Ore=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return ut(s,Fre,i)},$re=de("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return B({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&B({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Vr("#fff",TI(e.elevation))}, ${Vr("#fff",TI(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),Vre=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:a=1,square:o=!1,variant:l="elevation"}=n,u=Re(n,Are),c=B({},n,{component:s,elevation:a,square:o,variant:l}),h=Ore(c);return _.jsx($re,B({as:s,ownerState:c,className:Oe(h.root,i),ref:r},u))}),mh=Vre;function Al(t){return typeof t=="string"}function zre(t,e,r){return t===void 0||Al(t)?e:B({},e,{ownerState:B({},e.ownerState,r)})}function Wre(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const Hre={disableDefaultClasses:!1},Ure=k.createContext(Hre);function Gre(t){const{disableDefaultClasses:e}=k.useContext(Ure);return r=>e?"":t(r)}function rm(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function zy(t,e,r){return typeof t=="function"?t(e,r):t}function MI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function jre(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const m=Oe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),g=B({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),y=B({},r,i,n);return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const a=rm(B({},i,n)),o=MI(n),l=MI(i),u=e(a),c=Oe(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),h=B({},u==null?void 0:u.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=B({},u,r,l,o);return c.length>0&&(f.className=c),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}const Yre=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ir(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=Re(t,Yre),o=s?{}:zy(n,i),{props:l,internalRef:u}=jre(B({},a,{externalSlotProps:o})),c=Nr(u,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return zre(r,B({},l,{ref:c}),i)}function Xre(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:u}=t,[c,h]=k.useState(!1),f=Oe(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),m={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},g=Oe(r.child,c&&r.childLeaving,n&&r.childPulsate);return!o&&!c&&h(!0),k.useEffect(()=>{if(!o&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,o,u]),_.jsx("span",{className:f,style:m,children:_.jsx("span",{className:g})})}const io=ht("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qre=["center","classes","className"];let v1=t=>t,NI,EI,RI,DI;const TT=550,Kre=80,Qre=xp(NI||(NI=v1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Jre=xp(EI||(EI=v1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Zre=xp(RI||(RI=v1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),ene=de("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tne=de(Xre,{name:"MuiTouchRipple",slot:"Ripple"})(DI||(DI=v1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),io.rippleVisible,Qre,TT,({theme:t})=>t.transitions.easing.easeInOut,io.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,io.child,io.childLeaving,Jre,TT,({theme:t})=>t.transitions.easing.easeInOut,io.childPulsate,Zre,({theme:t})=>t.transitions.easing.easeInOut),rne=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=n,o=Re(n,qre),[l,u]=k.useState([]),c=k.useRef(0),h=k.useRef(null);k.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=k.useRef(!1),m=g4(),g=k.useRef(null),y=k.useRef(null),b=k.useCallback(T=>{const{pulsate:P,rippleX:C,rippleY:M,rippleSize:E,cb:D}=T;u(I=>[...I,_.jsx(tne,{classes:{ripple:Oe(s.ripple,io.ripple),rippleVisible:Oe(s.rippleVisible,io.rippleVisible),ripplePulsate:Oe(s.ripplePulsate,io.ripplePulsate),child:Oe(s.child,io.child),childLeaving:Oe(s.childLeaving,io.childLeaving),childPulsate:Oe(s.childPulsate,io.childPulsate)},timeout:TT,pulsate:P,rippleX:C,rippleY:M,rippleSize:E},c.current)]),c.current+=1,h.current=D},[s]),x=k.useCallback((T={},P={},C=()=>{})=>{const{pulsate:M=!1,center:E=i||P.pulsate,fakeElement:D=!1}=P;if((T==null?void 0:T.type)==="mousedown"&&f.current){f.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(f.current=!0);const I=D?null:y.current,A=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let W,V,$;if(E||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)W=Math.round(A.width/2),V=Math.round(A.height/2);else{const{clientX:L,clientY:H}=T.touches&&T.touches.length>0?T.touches[0]:T;W=Math.round(L-A.left),V=Math.round(H-A.top)}if(E)$=Math.sqrt((2*A.width**2+A.height**2)/3),$%2===0&&($+=1);else{const L=Math.max(Math.abs((I?I.clientWidth:0)-W),W)*2+2,H=Math.max(Math.abs((I?I.clientHeight:0)-V),V)*2+2;$=Math.sqrt(L**2+H**2)}T!=null&&T.touches?g.current===null&&(g.current=()=>{b({pulsate:M,rippleX:W,rippleY:V,rippleSize:$,cb:C})},m.start(Kre,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:M,rippleX:W,rippleY:V,rippleSize:$,cb:C})},[i,b,m]),v=k.useCallback(()=>{x({},{pulsate:!0})},[x]),w=k.useCallback((T,P)=>{if(m.clear(),(T==null?void 0:T.type)==="touchend"&&g.current){g.current(),g.current=null,m.start(0,()=>{w(T,P)});return}g.current=null,u(C=>C.length>0?C.slice(1):C),h.current=P},[m]);return k.useImperativeHandle(r,()=>({pulsate:v,start:x,stop:w}),[v,x,w]),_.jsx(ene,B({className:Oe(io.root,s.root,a),ref:y},o,{children:_.jsx(ZB,{component:null,exit:!0,children:l})}))}),nne=rne;function ine(t){return dt("MuiButtonBase",t)}const sne=ht("MuiButtonBase",["root","disabled","focusVisible"]),ane=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],one=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,a=ut({root:["root",e&&"disabled",r&&"focusVisible"]},ine,i);return r&&n&&(a.root+=` ${n}`),a},lne=de("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),une=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:b,onDragLeave:x,onFocus:v,onFocusVisible:w,onKeyDown:T,onKeyUp:P,onMouseDown:C,onMouseLeave:M,onMouseUp:E,onTouchEnd:D,onTouchMove:I,onTouchStart:A,tabIndex:W=0,TouchRippleProps:V,touchRippleRef:$,type:L}=n,H=Re(n,ane),z=k.useRef(null),F=k.useRef(null),U=Nr(F,$),{isFocusVisibleRef:q,onFocus:ae,onBlur:he,ref:be}=WB(),[pe,ee]=k.useState(!1);u&&pe&&ee(!1),k.useImperativeHandle(i,()=>({focusVisible:()=>{ee(!0),z.current.focus()}}),[]);const[ce,ke]=k.useState(!1);k.useEffect(()=>{ke(!0)},[]);const Q=ce&&!c&&!u;k.useEffect(()=>{pe&&f&&!c&&ce&&F.current.pulsate()},[c,f,pe,ce]);function Z(_e,Ne,at=h){return yt(ft=>(Ne&&Ne(ft),!at&&F.current&&F.current[_e](ft),!0))}const le=Z("start",C),ue=Z("stop",b),re=Z("stop",x),K=Z("stop",E),J=Z("stop",_e=>{pe&&_e.preventDefault(),M&&M(_e)}),se=Z("start",A),Me=Z("stop",D),Se=Z("stop",I),j=Z("stop",_e=>{he(_e),q.current===!1&&ee(!1),g&&g(_e)},!1),ne=yt(_e=>{z.current||(z.current=_e.currentTarget),ae(_e),q.current===!0&&(ee(!0),w&&w(_e)),v&&v(_e)}),te=()=>{const _e=z.current;return l&&l!=="button"&&!(_e.tagName==="A"&&_e.href)},ge=k.useRef(!1),Be=yt(_e=>{f&&!ge.current&&pe&&F.current&&_e.key===" "&&(ge.current=!0,F.current.stop(_e,()=>{F.current.start(_e)})),_e.target===_e.currentTarget&&te()&&_e.key===" "&&_e.preventDefault(),T&&T(_e),_e.target===_e.currentTarget&&te()&&_e.key==="Enter"&&!u&&(_e.preventDefault(),y&&y(_e))}),Te=yt(_e=>{f&&_e.key===" "&&F.current&&pe&&!_e.defaultPrevented&&(ge.current=!1,F.current.stop(_e,()=>{F.current.pulsate(_e)})),P&&P(_e),y&&_e.target===_e.currentTarget&&te()&&_e.key===" "&&!_e.defaultPrevented&&y(_e)});let Ge=l;Ge==="button"&&(H.href||H.to)&&(Ge=m);const ot={};Ge==="button"?(ot.type=L===void 0?"button":L,ot.disabled=u):(!H.href&&!H.to&&(ot.role="button"),u&&(ot["aria-disabled"]=u));const Et=Nr(r,be,z),Lt=B({},n,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:h,focusRipple:f,tabIndex:W,focusVisible:pe}),De=one(Lt);return _.jsxs(lne,B({as:Ge,className:Oe(De.root,o),ownerState:Lt,onBlur:j,onClick:y,onContextMenu:ue,onFocus:ne,onKeyDown:Be,onKeyUp:Te,onMouseDown:le,onMouseLeave:J,onMouseUp:K,onDragLeave:re,onTouchEnd:Me,onTouchMove:Se,onTouchStart:se,ref:Et,tabIndex:u?-1:W,type:L},ot,H,{children:[a,Q?_.jsx(nne,B({ref:U,center:s},V)):null]}))}),Co=une;function cne(t){return dt("MuiIconButton",t)}const dne=ht("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),hne=dne,fne=["edge","children","className","color","disabled","disableFocusRipple","size"],pne=t=>{const{classes:e,disabled:r,color:n,edge:i,size:s}=t,a={root:["root",r&&"disabled",n!=="default"&&`color${je(n)}`,i&&`edge${je(i)}`,`size${je(s)}`]};return ut(a,cne,e)},gne=de(Co,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${je(r.color)}`],r.edge&&e[`edge${je(r.edge)}`],e[`size${je(r.size)}`]]}})(({theme:t,ownerState:e})=>B({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return B({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&B({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":B({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${hne.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),mne=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=n,h=Re(n,fne),f=B({},n,{edge:i,color:o,disabled:l,disableFocusRipple:u,size:c}),m=pne(f);return _.jsx(gne,B({className:Oe(m.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:r},h,{ownerState:f,children:s}))}),fs=mne;function yne(t){return dt("MuiTypography",t)}ht("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const bne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],vne=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:a}=t,o={root:["root",s,t.align!=="inherit"&&`align${je(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return ut(o,yne,a)},wne=de("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${je(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>B({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),II={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Sne=t=>xne[t]||t,kne=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTypography"}),i=Sne(n.color),s=Yx(B({},n,{color:i})),{align:a="inherit",className:o,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:f="body1",variantMapping:m=II}=s,g=Re(s,bne),y=B({},s,{align:a,color:i,className:o,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:f,variantMapping:m}),b=l||(h?"p":m[f]||II[f])||"span",x=vne(y);return _.jsx(wne,B({as:b,ref:r,ownerState:y,className:Oe(x.root,o)},g))}),qr=kne;function _ne(t){return dt("MuiAppBar",t)}ht("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Cne=["className","color","enableColorOnDark","position"],Tne=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${je(e)}`,`position${je(r)}`]};return ut(i,_ne,n)},yb=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Pne=de(mh,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${je(r.position)}`],e[`color${je(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return B({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&B({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&B({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&B({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:yb(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:yb(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:yb(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:yb(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Bne=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:o="fixed"}=n,l=Re(n,Cne),u=B({},n,{color:s,position:o,enableColorOnDark:a}),c=Tne(u);return _.jsx(Pne,B({square:!0,component:"header",ownerState:u,elevation:4,className:Oe(c.root,i,o==="fixed"&&"mui-fixed"),ref:r},l))}),Mne=Bne,R4="base";function Nne(t){return`${R4}--${t}`}function Ene(t,e){return`${R4}-${t}-${e}`}function D4(t,e){const r=a4[e];return r?Nne(r):Ene(t,e)}function Rne(t,e){const r={};return e.forEach(n=>{r[n]=D4(t,n)}),r}const Dne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ine(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Lne(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function Fne(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Lne(t))}function Ane(t){const e=[],r=[];return Array.from(t.querySelectorAll(Dne)).forEach((n,i)=>{const s=Ine(n);s===-1||!Fne(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function One(){return!0}function I4(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=Ane,isEnabled:a=One,open:o}=t,l=k.useRef(!1),u=k.useRef(null),c=k.useRef(null),h=k.useRef(null),f=k.useRef(null),m=k.useRef(!1),g=k.useRef(null),y=Nr(e.ref,g),b=k.useRef(null);k.useEffect(()=>{!o||!g.current||(m.current=!r)},[r,o]),k.useEffect(()=>{if(!o||!g.current)return;const w=Kn(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),k.useEffect(()=>{if(!o||!g.current)return;const w=Kn(g.current),T=M=>{b.current=M,!(n||!a()||M.key!=="Tab")&&w.activeElement===g.current&&M.shiftKey&&(l.current=!0,c.current&&c.current.focus())},P=()=>{const M=g.current;if(M===null)return;if(!w.hasFocus()||!a()||l.current){l.current=!1;return}if(M.contains(w.activeElement)||n&&w.activeElement!==u.current&&w.activeElement!==c.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let E=[];if((w.activeElement===u.current||w.activeElement===c.current)&&(E=s(g.current)),E.length>0){var D,I;const A=!!((D=b.current)!=null&&D.shiftKey&&((I=b.current)==null?void 0:I.key)==="Tab"),W=E[0],V=E[E.length-1];typeof W!="string"&&typeof V!="string"&&(A?V.focus():W.focus())}else M.focus()};w.addEventListener("focusin",P),w.addEventListener("keydown",T,!0);const C=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(C),w.removeEventListener("focusin",P),w.removeEventListener("keydown",T,!0)}},[r,n,i,a,o,s]);const x=w=>{h.current===null&&(h.current=w.relatedTarget),m.current=!0,f.current=w.target;const T=e.props.onFocus;T&&T(w)},v=w=>{h.current===null&&(h.current=w.relatedTarget),m.current=!0};return _.jsxs(k.Fragment,{children:[_.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),k.cloneElement(e,{ref:y,onFocus:x}),_.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}function $ne(t){return typeof t=="function"?t():t}const L4=k.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[a,o]=k.useState(null),l=Nr(k.isValidElement(n)?n.ref:null,r);if(Dn(()=>{s||o($ne(i)||document.body)},[i,s]),Dn(()=>{if(a&&!s)return wT(r,a),()=>{wT(r,null)}},[r,a,s]),s){if(k.isValidElement(n)){const u={ref:l};return k.cloneElement(n,u)}return _.jsx(k.Fragment,{children:n})}return _.jsx(k.Fragment,{children:a&&Ey.createPortal(n,a)})});function Vne(t){const e=Kn(t);return e.body===t?dl(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function nm(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function LI(t){return parseInt(dl(t).getComputedStyle(t).paddingRight,10)||0}function zne(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function FI(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,a=>{const o=s.indexOf(a)===-1,l=!zne(a);o&&l&&nm(a,i)})}function l_(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function Wne(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(Vne(n)){const a=m4(Kn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${LI(n)+a}px`;const o=Kn(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${LI(l)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Kn(n).body;else{const a=n.parentElement,o=dl(n);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function Hne(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class Une{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&nm(e.modalRef,!1);const i=Hne(r);FI(r,e.mount,e.modalRef,i,!0);const s=l_(this.containers,a=>a.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=l_(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=Wne(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=l_(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&nm(e.modalRef,r),FI(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&nm(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Gne(t){return typeof t=="function"?t():t}function jne(t){return t?t.props.hasOwnProperty("in"):!1}const Yne=new Une;function Xne(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=Yne,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:c,rootRef:h}=t,f=k.useRef({}),m=k.useRef(null),g=k.useRef(null),y=Nr(g,h),[b,x]=k.useState(!c),v=jne(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const T=()=>Kn(m.current),P=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),C=()=>{i.mount(P(),{disableScrollLock:n}),g.current&&(g.current.scrollTop=0)},M=yt(()=>{const H=Gne(e)||T().body;i.add(P(),H),g.current&&C()}),E=k.useCallback(()=>i.isTopModal(P()),[i]),D=yt(H=>{m.current=H,H&&(c&&E()?C():g.current&&nm(g.current,w))}),I=k.useCallback(()=>{i.remove(P(),w)},[w,i]);k.useEffect(()=>()=>{I()},[I]),k.useEffect(()=>{c?M():(!v||!s)&&I()},[c,I,v,s,M]);const A=H=>z=>{var F;(F=H.onKeyDown)==null||F.call(H,z),!(z.key!=="Escape"||z.which===229||!E())&&(r||(z.stopPropagation(),u&&u(z,"escapeKeyDown")))},W=H=>z=>{var F;(F=H.onClick)==null||F.call(H,z),z.target===z.currentTarget&&u&&u(z,"backdropClick")};return{getRootProps:(H={})=>{const z=rm(t);delete z.onTransitionEnter,delete z.onTransitionExited;const F=B({},z,H);return B({role:"presentation"},F,{onKeyDown:A(F),ref:y})},getBackdropProps:(H={})=>{const z=H;return B({"aria-hidden":!0},z,{onClick:W(z),open:c})},getTransitionProps:()=>{const H=()=>{x(!1),a&&a()},z=()=>{x(!0),o&&o(),s&&I()};return{onEnter:vT(H,l==null?void 0:l.props.onEnter),onExited:vT(z,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:D,isTopModal:E,exited:b,hasTransition:v}}function F4(t){const{children:e,defer:r=!1,fallback:n=null}=t,[i,s]=k.useState(!1);return Dn(()=>{r||s(!0)},[r]),k.useEffect(()=>{r&&s(!0)},[r]),_.jsx(k.Fragment,{children:i?e:n})}var ua="top",To="bottom",Po="right",ca="left",tM="auto",Wy=[ua,To,Po,ca],qf="start",Wm="end",qne="clippingParents",A4="viewport",hg="popper",Kne="reference",AI=Wy.reduce(function(t,e){return t.concat([e+"-"+qf,e+"-"+Wm])},[]),O4=[].concat(Wy,[tM]).reduce(function(t,e){return t.concat([e,e+"-"+qf,e+"-"+Wm])},[]),Qne="beforeRead",Jne="read",Zne="afterRead",eie="beforeMain",tie="main",rie="afterMain",nie="beforeWrite",iie="write",sie="afterWrite",aie=[Qne,Jne,Zne,eie,tie,rie,nie,iie,sie];function Wl(t){return t?(t.nodeName||"").toLowerCase():null}function Fa(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ih(t){var e=Fa(t).Element;return t instanceof e||t instanceof Element}function xo(t){var e=Fa(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rM(t){if(typeof ShadowRoot>"u")return!1;var e=Fa(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function oie(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!xo(s)||!Wl(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function lie(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!xo(i)||!Wl(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const uie={name:"applyStyles",enabled:!0,phase:"write",fn:oie,effect:lie,requires:["computeStyles"]};function Ol(t){return t.split("-")[0]}var Hd=Math.max,pw=Math.min,Kf=Math.round;function PT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $4(){return!/^((?!chrome|android).)*safari/i.test(PT())}function Qf(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&xo(t)&&(i=t.offsetWidth>0&&Kf(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Kf(n.height)/t.offsetHeight||1);var a=ih(t)?Fa(t):window,o=a.visualViewport,l=!$4()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/i,c=(n.top+(l&&o?o.offsetTop:0))/s,h=n.width/i,f=n.height/s;return{width:h,height:f,top:c,right:u+h,bottom:c+f,left:u,x:u,y:c}}function nM(t){var e=Qf(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function V4(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&rM(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Nu(t){return Fa(t).getComputedStyle(t)}function cie(t){return["table","td","th"].indexOf(Wl(t))>=0}function Xc(t){return((ih(t)?t.ownerDocument:t.document)||window.document).documentElement}function w1(t){return Wl(t)==="html"?t:t.assignedSlot||t.parentNode||(rM(t)?t.host:null)||Xc(t)}function OI(t){return!xo(t)||Nu(t).position==="fixed"?null:t.offsetParent}function die(t){var e=/firefox/i.test(PT()),r=/Trident/i.test(PT());if(r&&xo(t)){var n=Nu(t);if(n.position==="fixed")return null}var i=w1(t);for(rM(i)&&(i=i.host);xo(i)&&["html","body"].indexOf(Wl(i))<0;){var s=Nu(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Hy(t){for(var e=Fa(t),r=OI(t);r&&cie(r)&&Nu(r).position==="static";)r=OI(r);return r&&(Wl(r)==="html"||Wl(r)==="body"&&Nu(r).position==="static")?e:r||die(t)||e}function iM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function im(t,e,r){return Hd(t,pw(e,r))}function hie(t,e,r){var n=im(t,e,r);return n>r?r:n}function z4(){return{top:0,right:0,bottom:0,left:0}}function W4(t){return Object.assign({},z4(),t)}function H4(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var fie=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,W4(typeof e!="number"?e:H4(e,Wy))};function pie(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=Ol(r.placement),l=iM(o),u=[ca,Po].indexOf(o)>=0,c=u?"height":"width";if(!(!s||!a)){var h=fie(i.padding,r),f=nM(s),m=l==="y"?ua:ca,g=l==="y"?To:Po,y=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],b=a[l]-r.rects.reference[l],x=Hy(s),v=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=y/2-b/2,T=h[m],P=v-f[c]-h[g],C=v/2-f[c]/2+w,M=im(T,C,P),E=l;r.modifiersData[n]=(e={},e[E]=M,e.centerOffset=M-C,e)}}function gie(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||V4(e.elements.popper,i)&&(e.elements.arrow=i))}const mie={name:"arrow",enabled:!0,phase:"main",fn:pie,effect:gie,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jf(t){return t.split("-")[1]}var yie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bie(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Kf(r*i)/i||0,y:Kf(n*i)/i||0}}function $I(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=a.x,m=f===void 0?0:f,g=a.y,y=g===void 0?0:g,b=typeof c=="function"?c({x:m,y}):{x:m,y};m=b.x,y=b.y;var x=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),w=ca,T=ua,P=window;if(u){var C=Hy(r),M="clientHeight",E="clientWidth";if(C===Fa(r)&&(C=Xc(r),Nu(C).position!=="static"&&o==="absolute"&&(M="scrollHeight",E="scrollWidth")),C=C,i===ua||(i===ca||i===Po)&&s===Wm){T=To;var D=h&&C===P&&P.visualViewport?P.visualViewport.height:C[M];y-=D-n.height,y*=l?1:-1}if(i===ca||(i===ua||i===To)&&s===Wm){w=Po;var I=h&&C===P&&P.visualViewport?P.visualViewport.width:C[E];m-=I-n.width,m*=l?1:-1}}var A=Object.assign({position:o},u&&yie),W=c===!0?bie({x:m,y},Fa(r)):{x:m,y};if(m=W.x,y=W.y,l){var V;return Object.assign({},A,(V={},V[T]=v?"0":"",V[w]=x?"0":"",V.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",V))}return Object.assign({},A,(e={},e[T]=v?y+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function vie(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:Ol(e.placement),variation:Jf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$I(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$I(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vie,data:{}};var bb={passive:!0};function xie(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=Fa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",r.update,bb)}),o&&l.addEventListener("resize",r.update,bb),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",r.update,bb)}),o&&l.removeEventListener("resize",r.update,bb)}}const Sie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xie,data:{}};var kie={left:"right",right:"left",bottom:"top",top:"bottom"};function Sv(t){return t.replace(/left|right|bottom|top/g,function(e){return kie[e]})}var _ie={start:"end",end:"start"};function VI(t){return t.replace(/start|end/g,function(e){return _ie[e]})}function sM(t){var e=Fa(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function aM(t){return Qf(Xc(t)).left+sM(t).scrollLeft}function Cie(t,e){var r=Fa(t),n=Xc(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var u=$4();(u||!u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+aM(t),y:l}}function Tie(t){var e,r=Xc(t),n=sM(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Hd(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Hd(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+aM(t),l=-n.scrollTop;return Nu(i||r).direction==="rtl"&&(o+=Hd(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function oM(t){var e=Nu(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function U4(t){return["html","body","#document"].indexOf(Wl(t))>=0?t.ownerDocument.body:xo(t)&&oM(t)?t:U4(w1(t))}function sm(t,e){var r;e===void 0&&(e=[]);var n=U4(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Fa(n),a=i?[s].concat(s.visualViewport||[],oM(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(sm(w1(a)))}function BT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Pie(t,e){var r=Qf(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function zI(t,e,r){return e===A4?BT(Cie(t,r)):ih(e)?Pie(e,r):BT(Tie(Xc(t)))}function Bie(t){var e=sm(w1(t)),r=["absolute","fixed"].indexOf(Nu(t).position)>=0,n=r&&xo(t)?Hy(t):t;return ih(n)?e.filter(function(i){return ih(i)&&V4(i,n)&&Wl(i)!=="body"}):[]}function Mie(t,e,r,n){var i=e==="clippingParents"?Bie(t):[].concat(e),s=[].concat(i,[r]),a=s[0],o=s.reduce(function(l,u){var c=zI(t,u,n);return l.top=Hd(c.top,l.top),l.right=pw(c.right,l.right),l.bottom=pw(c.bottom,l.bottom),l.left=Hd(c.left,l.left),l},zI(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function G4(t){var e=t.reference,r=t.element,n=t.placement,i=n?Ol(n):null,s=n?Jf(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case ua:l={x:a,y:e.y-r.height};break;case To:l={x:a,y:e.y+e.height};break;case Po:l={x:e.x+e.width,y:o};break;case ca:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?iM(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case qf:l[u]=l[u]-(e[c]/2-r[c]/2);break;case Wm:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function Hm(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,a=s===void 0?t.strategy:s,o=r.boundary,l=o===void 0?qne:o,u=r.rootBoundary,c=u===void 0?A4:u,h=r.elementContext,f=h===void 0?hg:h,m=r.altBoundary,g=m===void 0?!1:m,y=r.padding,b=y===void 0?0:y,x=W4(typeof b!="number"?b:H4(b,Wy)),v=f===hg?Kne:hg,w=t.rects.popper,T=t.elements[g?v:f],P=Mie(ih(T)?T:T.contextElement||Xc(t.elements.popper),l,c,a),C=Qf(t.elements.reference),M=G4({reference:C,element:w,strategy:"absolute",placement:i}),E=BT(Object.assign({},w,M)),D=f===hg?E:C,I={top:P.top-D.top+x.top,bottom:D.bottom-P.bottom+x.bottom,left:P.left-D.left+x.left,right:D.right-P.right+x.right},A=t.modifiersData.offset;if(f===hg&&A){var W=A[i];Object.keys(I).forEach(function(V){var $=[Po,To].indexOf(V)>=0?1:-1,L=[ua,To].indexOf(V)>=0?"y":"x";I[V]+=W[L]*$})}return I}function Nie(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?O4:l,c=Jf(n),h=c?o?AI:AI.filter(function(g){return Jf(g)===c}):Wy,f=h.filter(function(g){return u.indexOf(g)>=0});f.length===0&&(f=h);var m=f.reduce(function(g,y){return g[y]=Hm(t,{placement:y,boundary:i,rootBoundary:s,padding:a})[Ol(y)],g},{});return Object.keys(m).sort(function(g,y){return m[g]-m[y]})}function Eie(t){if(Ol(t)===tM)return[];var e=Sv(t);return[VI(t),e,VI(e)]}function Rie(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,h=r.rootBoundary,f=r.altBoundary,m=r.flipVariations,g=m===void 0?!0:m,y=r.allowedAutoPlacements,b=e.options.placement,x=Ol(b),v=x===b,w=l||(v||!g?[Sv(b)]:Eie(b)),T=[b].concat(w).reduce(function(pe,ee){return pe.concat(Ol(ee)===tM?Nie(e,{placement:ee,boundary:c,rootBoundary:h,padding:u,flipVariations:g,allowedAutoPlacements:y}):ee)},[]),P=e.rects.reference,C=e.rects.popper,M=new Map,E=!0,D=T[0],I=0;I<T.length;I++){var A=T[I],W=Ol(A),V=Jf(A)===qf,$=[ua,To].indexOf(W)>=0,L=$?"width":"height",H=Hm(e,{placement:A,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),z=$?V?Po:ca:V?To:ua;P[L]>C[L]&&(z=Sv(z));var F=Sv(z),U=[];if(s&&U.push(H[W]<=0),o&&U.push(H[z]<=0,H[F]<=0),U.every(function(pe){return pe})){D=A,E=!1;break}M.set(A,U)}if(E)for(var q=g?3:1,ae=function(ee){var ce=T.find(function(ke){var Q=M.get(ke);if(Q)return Q.slice(0,ee).every(function(Z){return Z})});if(ce)return D=ce,"break"},he=q;he>0;he--){var be=ae(he);if(be==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}const Die={name:"flip",enabled:!0,phase:"main",fn:Rie,requiresIfExists:["offset"],data:{_skip:!1}};function WI(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function HI(t){return[ua,Po,To,ca].some(function(e){return t[e]>=0})}function Iie(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Hm(e,{elementContext:"reference"}),o=Hm(e,{altBoundary:!0}),l=WI(a,n),u=WI(o,i,s),c=HI(l),h=HI(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const Lie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Iie};function Fie(t,e,r){var n=Ol(t),i=[ca,ua].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ca,Po].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function Aie(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=O4.reduce(function(c,h){return c[h]=Fie(h,e.rects,s),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const Oie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Aie};function $ie(t){var e=t.state,r=t.name;e.modifiersData[r]=G4({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Vie={name:"popperOffsets",enabled:!0,phase:"read",fn:$ie,data:{}};function zie(t){return t==="x"?"y":"x"}function Wie(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,h=r.padding,f=r.tether,m=f===void 0?!0:f,g=r.tetherOffset,y=g===void 0?0:g,b=Hm(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),x=Ol(e.placement),v=Jf(e.placement),w=!v,T=iM(x),P=zie(T),C=e.modifiersData.popperOffsets,M=e.rects.reference,E=e.rects.popper,D=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,I=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(C){if(s){var V,$=T==="y"?ua:ca,L=T==="y"?To:Po,H=T==="y"?"height":"width",z=C[T],F=z+b[$],U=z-b[L],q=m?-E[H]/2:0,ae=v===qf?M[H]:E[H],he=v===qf?-E[H]:-M[H],be=e.elements.arrow,pe=m&&be?nM(be):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:z4(),ce=ee[$],ke=ee[L],Q=im(0,M[H],pe[H]),Z=w?M[H]/2-q-Q-ce-I.mainAxis:ae-Q-ce-I.mainAxis,le=w?-M[H]/2+q+Q+ke+I.mainAxis:he+Q+ke+I.mainAxis,ue=e.elements.arrow&&Hy(e.elements.arrow),re=ue?T==="y"?ue.clientTop||0:ue.clientLeft||0:0,K=(V=A==null?void 0:A[T])!=null?V:0,J=z+Z-K-re,se=z+le-K,Me=im(m?pw(F,J):F,z,m?Hd(U,se):U);C[T]=Me,W[T]=Me-z}if(o){var Se,j=T==="x"?ua:ca,ne=T==="x"?To:Po,te=C[P],ge=P==="y"?"height":"width",Be=te+b[j],Te=te-b[ne],Ge=[ua,ca].indexOf(x)!==-1,ot=(Se=A==null?void 0:A[P])!=null?Se:0,Et=Ge?Be:te-M[ge]-E[ge]-ot+I.altAxis,Lt=Ge?te+M[ge]+E[ge]-ot-I.altAxis:Te,De=m&&Ge?hie(Et,te,Lt):im(m?Et:Be,te,m?Lt:Te);C[P]=De,W[P]=De-te}e.modifiersData[n]=W}}const Hie={name:"preventOverflow",enabled:!0,phase:"main",fn:Wie,requiresIfExists:["offset"]};function Uie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Gie(t){return t===Fa(t)||!xo(t)?sM(t):Uie(t)}function jie(t){var e=t.getBoundingClientRect(),r=Kf(e.width)/t.offsetWidth||1,n=Kf(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Yie(t,e,r){r===void 0&&(r=!1);var n=xo(e),i=xo(e)&&jie(e),s=Xc(e),a=Qf(t,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Wl(e)!=="body"||oM(s))&&(o=Gie(e)),xo(e)?(l=Qf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=aM(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Xie(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function qie(t){var e=Xie(t);return aie.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Kie(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Qie(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var UI={placement:"bottom",modifiers:[],strategy:"absolute"};function GI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Jie(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?UI:i;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},UI,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],f=!1,m={state:c,setOptions:function(x){var v=typeof x=="function"?x(c.options):x;y(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:ih(o)?sm(o):o.contextElement?sm(o.contextElement):[],popper:sm(l)};var w=qie(Qie([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(T){return T.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var x=c.elements,v=x.reference,w=x.popper;if(GI(v,w)){c.rects={reference:Yie(v,Hy(w),c.options.strategy==="fixed"),popper:nM(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var P=c.orderedModifiers[T],C=P.fn,M=P.options,E=M===void 0?{}:M,D=P.name;typeof C=="function"&&(c=C({state:c,options:E,name:D,instance:m})||c)}}}},update:Kie(function(){return new Promise(function(b){m.forceUpdate(),b(c)})}),destroy:function(){y(),f=!0}};if(!GI(o,l))return m;m.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function g(){c.orderedModifiers.forEach(function(b){var x=b.name,v=b.options,w=v===void 0?{}:v,T=b.effect;if(typeof T=="function"){var P=T({state:c,name:x,instance:m,options:w}),C=function(){};h.push(P||C)}})}function y(){h.forEach(function(b){return b()}),h=[]}return m}}var Zie=[Sie,Vie,wie,uie,Oie,Die,Hie,mie,Lie],ese=Jie({defaultModifiers:Zie});const j4="Popper";function tse(t){return D4(j4,t)}Rne(j4,["root"]);const rse=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],nse=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ise(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function MT(t){return typeof t=="function"?t():t}function sse(t){return t.nodeType!==void 0}const ase=()=>ut({root:["root"]},Gre(tse)),ose={},lse=k.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:a,disablePortal:o,modifiers:l,open:u,placement:c,popperOptions:h,popperRef:f,slotProps:m={},slots:g={},TransitionProps:y}=e,b=Re(e,rse),x=k.useRef(null),v=Nr(x,r),w=k.useRef(null),T=Nr(w,f),P=k.useRef(T);Dn(()=>{P.current=T},[T]),k.useImperativeHandle(f,()=>w.current,[]);const C=ise(c,a),[M,E]=k.useState(C),[D,I]=k.useState(MT(i));k.useEffect(()=>{w.current&&w.current.forceUpdate()}),k.useEffect(()=>{i&&I(MT(i))},[i]),Dn(()=>{if(!D||!u)return;const L=F=>{E(F.placement)};let H=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:F})=>{L(F)}}];l!=null&&(H=H.concat(l)),h&&h.modifiers!=null&&(H=H.concat(h.modifiers));const z=ese(D,x.current,B({placement:C},h,{modifiers:H}));return P.current(z),()=>{z.destroy(),P.current(null)}},[D,o,l,u,h,C]);const A={placement:M};y!==null&&(A.TransitionProps=y);const W=ase(),V=(n=g.root)!=null?n:"div",$=ir({elementType:V,externalSlotProps:m.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:W.root});return _.jsx(V,B({},$,{children:typeof s=="function"?s(A):s}))}),use=k.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:c,placement:h="bottom",popperOptions:f=ose,popperRef:m,style:g,transition:y=!1,slotProps:b={},slots:x={}}=e,v=Re(e,nse),[w,T]=k.useState(!0),P=()=>{T(!1)},C=()=>{T(!0)};if(!l&&!c&&(!y||w))return null;let M;if(s)M=s;else if(n){const I=MT(n);M=I&&sse(I)?Kn(I).body:Kn(null).body}const E=!c&&l&&(!y||w)?"none":void 0,D=y?{in:c,onEnter:P,onExited:C}:void 0;return _.jsx(L4,{disablePortal:o,container:M,children:_.jsx(lse,B({anchorEl:n,direction:a,disablePortal:o,modifiers:u,ref:r,open:y?!w:c,placement:h,popperOptions:f,popperRef:m,slotProps:b,slots:x},v,{style:B({position:"fixed",top:0,left:0,display:E},g),TransitionProps:D,children:i}))})}),cse=2;function Y4(t,e){return t-e}function jI(t,e){var r;const{index:n}=(r=t.reduce((i,s,a)=>{const o=Math.abs(e-s);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null))!=null?r:{};return n}function vb(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function gw(t,e,r){return(t-e)*100/(r-e)}function dse(t,e,r){return(r-e)*t+e}function hse(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function fse(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(hse(e)))}function YI({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(Y4)}function wb({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const s=Kn(t.current);if(!((n=t.current)!=null&&n.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var a;(a=t.current)==null||a.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function xb(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?Wre(t,e):!1}const pse={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},gse=t=>t;let Sb;function XI(){return Sb===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Sb=CSS.supports("touch-action","none"):Sb=!0),Sb}function mse(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:o=100,min:l=0,name:u,onChange:c,onChangeCommitted:h,orientation:f="horizontal",rootRef:m,scale:g=gse,step:y=1,shiftStep:b=10,tabIndex:x,value:v}=t,w=k.useRef(),[T,P]=k.useState(-1),[C,M]=k.useState(-1),[E,D]=k.useState(!1),I=k.useRef(0),[A,W]=La({controlled:v,default:r??l,name:"Slider"}),V=c&&((De,_e,Ne)=>{const at=De.nativeEvent||De,ft=new at.constructor(at.type,at);Object.defineProperty(ft,"target",{writable:!0,value:{value:_e,name:u}}),c(ft,_e,Ne)}),$=Array.isArray(A);let L=$?A.slice().sort(Y4):[A];L=L.map(De=>De==null?l:yc(De,l,o));const H=a===!0&&y!==null?[...Array(Math.floor((o-l)/y)+1)].map((De,_e)=>({value:l+y*_e})):a||[],z=H.map(De=>De.value),{isFocusVisibleRef:F,onBlur:U,onFocus:q,ref:ae}=WB(),[he,be]=k.useState(-1),pe=k.useRef(),ee=Nr(ae,pe),ce=Nr(m,ee),ke=De=>_e=>{var Ne;const at=Number(_e.currentTarget.getAttribute("data-index"));q(_e),F.current===!0&&be(at),M(at),De==null||(Ne=De.onFocus)==null||Ne.call(De,_e)},Q=De=>_e=>{var Ne;U(_e),F.current===!1&&be(-1),M(-1),De==null||(Ne=De.onBlur)==null||Ne.call(De,_e)},Z=(De,_e)=>{const Ne=Number(De.currentTarget.getAttribute("data-index")),at=L[Ne],ft=z.indexOf(at);let Ze=_e;if(H&&y==null){const Mt=z[z.length-1];Ze>Mt?Ze=Mt:Ze<z[0]?Ze=z[0]:Ze=Ze<at?z[ft-1]:z[ft+1]}if(Ze=yc(Ze,l,o),$){i&&(Ze=yc(Ze,L[Ne-1]||-1/0,L[Ne+1]||1/0));const Mt=Ze;Ze=YI({values:L,newValue:Ze,index:Ne});let qe=Ne;i||(qe=Ze.indexOf(Mt)),wb({sliderRef:pe,activeIndex:qe})}W(Ze),be(Ne),V&&!xb(Ze,A)&&V(De,Ze,Ne),h&&h(De,Ze)},le=De=>_e=>{var Ne;if(y!==null){const at=Number(_e.currentTarget.getAttribute("data-index")),ft=L[at];let Ze=null;(_e.key==="ArrowLeft"||_e.key==="ArrowDown")&&_e.shiftKey||_e.key==="PageDown"?Ze=Math.max(ft-b,l):((_e.key==="ArrowRight"||_e.key==="ArrowUp")&&_e.shiftKey||_e.key==="PageUp")&&(Ze=Math.min(ft+b,o)),Ze!==null&&(Z(_e,Ze),_e.preventDefault())}De==null||(Ne=De.onKeyDown)==null||Ne.call(De,_e)};Dn(()=>{if(n&&pe.current.contains(document.activeElement)){var De;(De=document.activeElement)==null||De.blur()}},[n]),n&&T!==-1&&P(-1),n&&he!==-1&&be(-1);const ue=De=>_e=>{var Ne;(Ne=De.onChange)==null||Ne.call(De,_e),Z(_e,_e.target.valueAsNumber)},re=k.useRef();let K=f;s&&f==="horizontal"&&(K+="-reverse");const J=({finger:De,move:_e=!1})=>{const{current:Ne}=pe,{width:at,height:ft,bottom:Ze,left:Mt}=Ne.getBoundingClientRect();let qe;K.indexOf("vertical")===0?qe=(Ze-De.y)/ft:qe=(De.x-Mt)/at,K.indexOf("-reverse")!==-1&&(qe=1-qe);let Ye;if(Ye=dse(qe,l,o),y)Ye=fse(Ye,y,l);else{const vt=jI(z,Ye);Ye=z[vt]}Ye=yc(Ye,l,o);let xt=0;if($){_e?xt=re.current:xt=jI(L,Ye),i&&(Ye=yc(Ye,L[xt-1]||-1/0,L[xt+1]||1/0));const vt=Ye;Ye=YI({values:L,newValue:Ye,index:xt}),i&&_e||(xt=Ye.indexOf(vt),re.current=xt)}return{newValue:Ye,activeIndex:xt}},se=yt(De=>{const _e=vb(De,w);if(!_e)return;if(I.current+=1,De.type==="mousemove"&&De.buttons===0){Me(De);return}const{newValue:Ne,activeIndex:at}=J({finger:_e,move:!0});wb({sliderRef:pe,activeIndex:at,setActive:P}),W(Ne),!E&&I.current>cse&&D(!0),V&&!xb(Ne,A)&&V(De,Ne,at)}),Me=yt(De=>{const _e=vb(De,w);if(D(!1),!_e)return;const{newValue:Ne}=J({finger:_e,move:!0});P(-1),De.type==="touchend"&&M(-1),h&&h(De,Ne),w.current=void 0,j()}),Se=yt(De=>{if(n)return;XI()||De.preventDefault();const _e=De.changedTouches[0];_e!=null&&(w.current=_e.identifier);const Ne=vb(De,w);if(Ne!==!1){const{newValue:ft,activeIndex:Ze}=J({finger:Ne});wb({sliderRef:pe,activeIndex:Ze,setActive:P}),W(ft),V&&!xb(ft,A)&&V(De,ft,Ze)}I.current=0;const at=Kn(pe.current);at.addEventListener("touchmove",se,{passive:!0}),at.addEventListener("touchend",Me,{passive:!0})}),j=k.useCallback(()=>{const De=Kn(pe.current);De.removeEventListener("mousemove",se),De.removeEventListener("mouseup",Me),De.removeEventListener("touchmove",se),De.removeEventListener("touchend",Me)},[Me,se]);k.useEffect(()=>{const{current:De}=pe;return De.addEventListener("touchstart",Se,{passive:XI()}),()=>{De.removeEventListener("touchstart",Se),j()}},[j,Se]),k.useEffect(()=>{n&&j()},[n,j]);const ne=De=>_e=>{var Ne;if((Ne=De.onMouseDown)==null||Ne.call(De,_e),n||_e.defaultPrevented||_e.button!==0)return;_e.preventDefault();const at=vb(_e,w);if(at!==!1){const{newValue:Ze,activeIndex:Mt}=J({finger:at});wb({sliderRef:pe,activeIndex:Mt,setActive:P}),W(Ze),V&&!xb(Ze,A)&&V(_e,Ze,Mt)}I.current=0;const ft=Kn(pe.current);ft.addEventListener("mousemove",se,{passive:!0}),ft.addEventListener("mouseup",Me)},te=gw($?L[0]:l,l,o),ge=gw(L[L.length-1],l,o)-te,Be=(De={})=>{const _e=rm(De),Ne={onMouseDown:ne(_e||{})},at=B({},_e,Ne);return B({},De,{ref:ce},at)},Te=De=>_e=>{var Ne;(Ne=De.onMouseOver)==null||Ne.call(De,_e);const at=Number(_e.currentTarget.getAttribute("data-index"));M(at)},Ge=De=>_e=>{var Ne;(Ne=De.onMouseLeave)==null||Ne.call(De,_e),M(-1)};return{active:T,axis:K,axisProps:pse,dragging:E,focusedThumbIndex:he,getHiddenInputProps:(De={})=>{var _e;const Ne=rm(De),at={onChange:ue(Ne||{}),onFocus:ke(Ne||{}),onBlur:Q(Ne||{}),onKeyDown:le(Ne||{})},ft=B({},Ne,at);return B({tabIndex:x,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":g(o),"aria-valuemin":g(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(_e=t.step)!=null?_e:void 0,disabled:n},De,ft,{style:B({},HB,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Be,getThumbProps:(De={})=>{const _e=rm(De),Ne={onMouseOver:Te(_e||{}),onMouseLeave:Ge(_e||{})};return B({},De,_e,Ne)},marks:H,open:C,range:$,rootRef:ce,trackLeap:ge,trackOffset:te,values:L,getThumbStyle:De=>({pointerEvents:T!==-1&&T!==De?"none":void 0})}}const yse=["onChange","maxRows","minRows","style","value"];function kb(t){return parseInt(t,10)||0}const bse={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function vse(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const wse=k.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:s=1,style:a,value:o}=e,l=Re(e,yse),{current:u}=k.useRef(o!=null),c=k.useRef(null),h=Nr(r,c),f=k.useRef(null),m=k.useCallback(()=>{const b=c.current,v=dl(b).getComputedStyle(b);if(v.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=f.current;w.style.width=v.width,w.value=b.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const T=v.boxSizing,P=kb(v.paddingBottom)+kb(v.paddingTop),C=kb(v.borderBottomWidth)+kb(v.borderTopWidth),M=w.scrollHeight;w.value="x";const E=w.scrollHeight;let D=M;s&&(D=Math.max(Number(s)*E,D)),i&&(D=Math.min(Number(i)*E,D)),D=Math.max(D,E);const I=D+(T==="border-box"?P+C:0),A=Math.abs(D-M)<=1;return{outerHeightStyle:I,overflowing:A}},[i,s,e.placeholder]),g=k.useCallback(()=>{const b=m();if(vse(b))return;const x=c.current;x.style.height=`${b.outerHeightStyle}px`,x.style.overflow=b.overflowing?"hidden":""},[m]);Dn(()=>{const b=()=>{g()};let x;const v=Oy(b),w=c.current,T=dl(w);T.addEventListener("resize",v);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(b),P.observe(w)),()=>{v.clear(),cancelAnimationFrame(x),T.removeEventListener("resize",v),P&&P.disconnect()}},[m,g]),Dn(()=>{g()});const y=b=>{u||g(),n&&n(b)};return _.jsxs(k.Fragment,{children:[_.jsx("textarea",B({value:o,onChange:y,ref:h,rows:s,style:a},l)),_.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:B({},bse.shadow,a,{paddingTop:0,paddingBottom:0})})]})});var lM={};Object.defineProperty(lM,"__esModule",{value:!0});var X4=lM.default=void 0,xse=kse(k),Sse=P4;function q4(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(q4=function(n){return n?r:e})(t)}function kse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=q4(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function _se(t){return Object.keys(t).length===0}function Cse(t=null){const e=xse.useContext(Sse.ThemeContext);return!e||_se(e)?t:e}X4=lM.default=Cse;const Tse=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Pse=de(use,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Bse=k.forwardRef(function(e,r){var n;const i=X4(),s=tt({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:u,container:c,disablePortal:h,keepMounted:f,modifiers:m,open:g,placement:y,popperOptions:b,popperRef:x,transition:v,slots:w,slotProps:T}=s,P=Re(s,Tse),C=(n=w==null?void 0:w.root)!=null?n:l==null?void 0:l.Root,M=B({anchorEl:a,container:c,disablePortal:h,keepMounted:f,modifiers:m,open:g,placement:y,popperOptions:b,popperRef:x,transition:v},P);return _.jsx(Pse,B({as:o,direction:i==null?void 0:i.direction,slots:{root:C},slotProps:T??u},M,{ref:r}))}),K4=Bse,Mse=sn(_.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Nse(t){return dt("MuiChip",t)}const Ese=ht("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Kr=Ese,Rse=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Dse=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:s,onDelete:a,clickable:o,variant:l}=t,u={root:["root",l,r&&"disabled",`size${je(n)}`,`color${je(i)}`,o&&"clickable",o&&`clickableColor${je(i)}`,a&&"deletable",a&&`deletableColor${je(i)}`,`${l}${je(i)}`],label:["label",`label${je(n)}`],avatar:["avatar",`avatar${je(n)}`,`avatarColor${je(i)}`],icon:["icon",`icon${je(n)}`,`iconColor${je(s)}`],deleteIcon:["deleteIcon",`deleteIcon${je(n)}`,`deleteIconColor${je(i)}`,`deleteIcon${je(l)}Color${je(i)}`]};return ut(u,Nse,e)},Ise=de("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:s,onDelete:a,size:o,variant:l}=r;return[{[`& .${Kr.avatar}`]:e.avatar},{[`& .${Kr.avatar}`]:e[`avatar${je(o)}`]},{[`& .${Kr.avatar}`]:e[`avatarColor${je(n)}`]},{[`& .${Kr.icon}`]:e.icon},{[`& .${Kr.icon}`]:e[`icon${je(o)}`]},{[`& .${Kr.icon}`]:e[`iconColor${je(i)}`]},{[`& .${Kr.deleteIcon}`]:e.deleteIcon},{[`& .${Kr.deleteIcon}`]:e[`deleteIcon${je(o)}`]},{[`& .${Kr.deleteIcon}`]:e[`deleteIconColor${je(n)}`]},{[`& .${Kr.deleteIcon}`]:e[`deleteIcon${je(l)}Color${je(n)}`]},e.root,e[`size${je(o)}`],e[`color${je(n)}`],s&&e.clickable,s&&n!=="default"&&e[`clickableColor${je(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${je(n)}`],e[l],e[`${l}${je(n)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return B({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Kr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Kr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${Kr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Kr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Kr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Kr.icon}`]:B({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&B({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},e.color!=="default"&&{color:"inherit"})),[`& .${Kr.deleteIcon}`]:B({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Vr(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Vr(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Vr(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Kr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Kr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>B({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Kr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Kr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>B({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Kr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Kr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Kr.avatar}`]:{marginLeft:4},[`& .${Kr.avatarSmall}`]:{marginLeft:2},[`& .${Kr.icon}`]:{marginLeft:4},[`& .${Kr.iconSmall}`]:{marginLeft:2},[`& .${Kr.deleteIcon}`]:{marginRight:5},[`& .${Kr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vr(t.palette[e.color].main,.7)}`,[`&.${Kr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Kr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Vr(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Kr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vr(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),Lse=de("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${je(n)}`]]}})(({ownerState:t})=>B({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function qI(t){return t.key==="Backspace"||t.key==="Delete"}const Fse=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:c=!1,icon:h,label:f,onClick:m,onDelete:g,onKeyDown:y,onKeyUp:b,size:x="medium",variant:v="filled",tabIndex:w,skipFocusWhenDisabled:T=!1}=n,P=Re(n,Rse),C=k.useRef(null),M=Nr(C,r),E=U=>{U.stopPropagation(),g&&g(U)},D=U=>{U.currentTarget===U.target&&qI(U)&&U.preventDefault(),y&&y(U)},I=U=>{U.currentTarget===U.target&&(g&&qI(U)?g(U):U.key==="Escape"&&C.current&&C.current.blur()),b&&b(U)},A=a!==!1&&m?!0:a,W=A||g?Co:l||"div",V=B({},n,{component:W,disabled:c,size:x,color:o,iconColor:k.isValidElement(h)&&h.props.color||o,onDelete:!!g,clickable:A,variant:v}),$=Dse(V),L=W===Co?B({component:l||"div",focusVisibleClassName:$.focusVisible},g&&{disableRipple:!0}):{};let H=null;g&&(H=u&&k.isValidElement(u)?k.cloneElement(u,{className:Oe(u.props.className,$.deleteIcon),onClick:E}):_.jsx(Mse,{className:Oe($.deleteIcon),onClick:E}));let z=null;i&&k.isValidElement(i)&&(z=k.cloneElement(i,{className:Oe($.avatar,i.props.className)}));let F=null;return h&&k.isValidElement(h)&&(F=k.cloneElement(h,{className:Oe($.icon,h.props.className)})),_.jsxs(Ise,B({as:W,className:Oe($.root,s),disabled:A&&c?!0:void 0,onClick:m,onKeyDown:D,onKeyUp:I,ref:M,tabIndex:T&&c?-1:w,ownerState:V},L,P,{children:[z||F,_.jsx(Lse,{className:Oe($.label),ownerState:V,children:f}),H]}))}),Ase=Fse;function qc({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const Ose=k.createContext(void 0),x1=Ose;function fa(){return k.useContext(x1)}function $se(t){return _.jsx(yee,B({},t,{defaultTheme:o1,themeId:Dy}))}function KI(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function mw(t,e=!1){return t&&(KI(t.value)&&t.value!==""||e&&KI(t.defaultValue)&&t.defaultValue!=="")}function Vse(t){return t.startAdornment}function zse(t){return dt("MuiInputBase",t)}const Wse=ht("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Zf=Wse,Hse=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],S1=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${je(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},k1=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},Use=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:f,startAdornment:m,type:g}=t,y={root:["root",`color${je(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",f&&f!=="medium"&&`size${je(f)}`,c&&"multiline",m&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return ut(y,zse,e)},_1=de("div",{name:"MuiInputBase",slot:"Root",overridesResolver:S1})(({theme:t,ownerState:e})=>B({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Zf.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&B({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),C1=de("input",{name:"MuiInputBase",slot:"Input",overridesResolver:k1})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=B({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return B({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Zf.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Zf.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Gse=_.jsx($se,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),jse=k.forwardRef(function(e,r){var n;const i=tt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,components:u={},componentsProps:c={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:m,endAdornment:g,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:v={},inputRef:w,maxRows:T,minRows:P,multiline:C=!1,name:M,onBlur:E,onChange:D,onClick:I,onFocus:A,onKeyDown:W,onKeyUp:V,placeholder:$,readOnly:L,renderSuffix:H,rows:z,slotProps:F={},slots:U={},startAdornment:q,type:ae="text",value:he}=i,be=Re(i,Hse),pe=v.value!=null?v.value:he,{current:ee}=k.useRef(pe!=null),ce=k.useRef(),ke=k.useCallback(De=>{},[]),Q=Nr(ce,w,v.ref,ke),[Z,le]=k.useState(!1),ue=fa(),re=qc({props:i,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ue?ue.focused:Z,k.useEffect(()=>{!ue&&f&&Z&&(le(!1),E&&E())},[ue,f,Z,E]);const K=ue&&ue.onFilled,J=ue&&ue.onEmpty,se=k.useCallback(De=>{mw(De)?K&&K():J&&J()},[K,J]);Dn(()=>{ee&&se({value:pe})},[pe,se,ee]);const Me=De=>{if(re.disabled){De.stopPropagation();return}A&&A(De),v.onFocus&&v.onFocus(De),ue&&ue.onFocus?ue.onFocus(De):le(!0)},Se=De=>{E&&E(De),v.onBlur&&v.onBlur(De),ue&&ue.onBlur?ue.onBlur(De):le(!1)},j=(De,..._e)=>{if(!ee){const Ne=De.target||ce.current;if(Ne==null)throw new Error(Mu(1));se({value:Ne.value})}v.onChange&&v.onChange(De,..._e),D&&D(De,..._e)};k.useEffect(()=>{se(ce.current)},[]);const ne=De=>{ce.current&&De.currentTarget===De.target&&ce.current.focus(),I&&I(De)};let te=x,ge=v;C&&te==="input"&&(z?ge=B({type:void 0,minRows:z,maxRows:z},ge):ge=B({type:void 0,maxRows:T,minRows:P},ge),te=wse);const Be=De=>{se(De.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};k.useEffect(()=>{ue&&ue.setAdornedStart(!!q)},[ue,q]);const Te=B({},i,{color:re.color||"primary",disabled:re.disabled,endAdornment:g,error:re.error,focused:re.focused,formControl:ue,fullWidth:y,hiddenLabel:re.hiddenLabel,multiline:C,size:re.size,startAdornment:q,type:ae}),Ge=Use(Te),ot=U.root||u.Root||_1,Et=F.root||c.root||{},Lt=U.input||u.Input||C1;return ge=B({},ge,(n=F.input)!=null?n:c.input),_.jsxs(k.Fragment,{children:[!m&&Gse,_.jsxs(ot,B({},Et,!Al(ot)&&{ownerState:B({},Te,Et.ownerState)},{ref:r,onClick:ne},be,{className:Oe(Ge.root,Et.className,l,L&&"MuiInputBase-readOnly"),children:[q,_.jsx(x1.Provider,{value:null,children:_.jsx(Lt,B({ownerState:Te,"aria-invalid":re.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:h,disabled:re.disabled,id:b,onAnimationStart:Be,name:M,placeholder:$,readOnly:L,required:re.required,rows:z,value:pe,onKeyDown:W,onKeyUp:V,type:ae},ge,!Al(Lt)&&{as:te,ownerState:B({},Te,ge.ownerState)},{ref:Q,className:Oe(Ge.input,ge.className,L&&"MuiInputBase-readOnly"),onBlur:Se,onChange:j,onFocus:Me}))}),g,H?H(B({},re,{startAdornment:q})):null]}))]})}),uM=jse;function Yse(t){return dt("MuiInput",t)}const Xse=B({},Zf,ht("MuiInput",["root","underline","input"])),fg=Xse;function qse(t){return dt("MuiOutlinedInput",t)}const Kse=B({},Zf,ht("MuiOutlinedInput",["root","notchedOutline","input"])),nc=Kse;function Qse(t){return dt("MuiFilledInput",t)}const Jse=B({},Zf,ht("MuiFilledInput",["root","underline","input"])),cd=Jse,Zse=sn(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),eae=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],tae={entering:{opacity:1},entered:{opacity:1}},rae=k.forwardRef(function(e,r){const n=Ua(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:u,onEnter:c,onEntered:h,onEntering:f,onExit:m,onExited:g,onExiting:y,style:b,timeout:x=i,TransitionComponent:v=b1}=e,w=Re(e,eae),T=k.useRef(null),P=Nr(T,o.ref,r),C=$=>L=>{if($){const H=T.current;L===void 0?$(H):$(H,L)}},M=C(f),E=C(($,L)=>{eM($);const H=Xf({style:b,timeout:x,easing:l},{mode:"enter"});$.style.webkitTransition=n.transitions.create("opacity",H),$.style.transition=n.transitions.create("opacity",H),c&&c($,L)}),D=C(h),I=C(y),A=C($=>{const L=Xf({style:b,timeout:x,easing:l},{mode:"exit"});$.style.webkitTransition=n.transitions.create("opacity",L),$.style.transition=n.transitions.create("opacity",L),m&&m($)}),W=C(g),V=$=>{s&&s(T.current,$)};return _.jsx(v,B({appear:a,in:u,nodeRef:T,onEnter:E,onEntered:D,onEntering:M,onExit:A,onExited:W,onExiting:I,addEndListener:V,timeout:x},w,{children:($,L)=>k.cloneElement(o,B({style:B({opacity:0,visibility:$==="exited"&&!u?"hidden":void 0},tae[$],b,o.props.style),ref:P},L))}))}),Cp=rae;function nae(t){return dt("MuiBackdrop",t)}ht("MuiBackdrop",["root","invisible"]);const iae=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],sae=t=>{const{classes:e,invisible:r}=t;return ut({root:["root",r&&"invisible"]},nae,e)},aae=de("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>B({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),oae=k.forwardRef(function(e,r){var n,i,s;const a=tt({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:u="div",components:c={},componentsProps:h={},invisible:f=!1,open:m,slotProps:g={},slots:y={},TransitionComponent:b=Cp,transitionDuration:x}=a,v=Re(a,iae),w=B({},a,{component:u,invisible:f}),T=sae(w),P=(n=g.root)!=null?n:h.root;return _.jsx(b,B({in:m,timeout:x},v,{children:_.jsx(aae,B({"aria-hidden":!0},P,{as:(i=(s=y.root)!=null?s:c.Root)!=null?i:u,className:Oe(T.root,l,P==null?void 0:P.className),ownerState:B({},w,P==null?void 0:P.ownerState),classes:T,ref:r,children:o}))}))}),Q4=oae,lae=ht("MuiBox",["root"]),uae=lae,cae=T4(),dae=_ee({themeId:Dy,defaultTheme:cae,defaultClassName:uae.root,generateClassName:i4.generate}),hae=dae;function fae(t){return dt("MuiButton",t)}const pae=ht("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),_b=pae,gae=k.createContext({}),mae=gae,yae=k.createContext(void 0),bae=yae,vae=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],wae=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:s,classes:a}=t,o={root:["root",s,`${s}${je(e)}`,`size${je(i)}`,`${s}Size${je(i)}`,`color${je(e)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${je(i)}`],endIcon:["icon","endIcon",`iconSize${je(i)}`]},l=ut(o,fae,a);return B({},a,l)},J4=t=>B({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),xae=de(Co,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${je(r.color)}`],e[`size${je(r.size)}`],e[`${r.variant}Size${je(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return B({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":B({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${_b.focusVisible}`]:B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${_b.disabled}`]:B({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Vr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${_b.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${_b.disabled}`]:{boxShadow:"none"}}),Sae=de("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${je(r.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},J4(t))),kae=de("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${je(r.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},J4(t))),_ae=k.forwardRef(function(e,r){const n=k.useContext(mae),i=k.useContext(bae),s=VB(n,e),a=tt({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:c,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:y,fullWidth:b=!1,size:x="medium",startIcon:v,type:w,variant:T="text"}=a,P=Re(a,vae),C=B({},a,{color:l,component:u,disabled:h,disableElevation:f,disableFocusRipple:m,fullWidth:b,size:x,type:w,variant:T}),M=wae(C),E=v&&_.jsx(Sae,{className:M.startIcon,ownerState:C,children:v}),D=g&&_.jsx(kae,{className:M.endIcon,ownerState:C,children:g}),I=i||"";return _.jsxs(xae,B({ownerState:C,className:Oe(n.className,M.root,c,I),component:u,disabled:h,focusRipple:!m,focusVisibleClassName:Oe(M.focusVisible,y),ref:r,type:w},P,{classes:M,children:[E,o,D]}))}),xs=_ae;function Cae(t){return dt("MuiCard",t)}ht("MuiCard",["root"]);const Tae=["className","raised"],Pae=t=>{const{classes:e}=t;return ut({root:["root"]},Cae,e)},Bae=de(mh,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Mae=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,a=Re(n,Tae),o=B({},n,{raised:s}),l=Pae(o);return _.jsx(Bae,B({className:Oe(l.root,i),elevation:s?8:void 0,ref:r,ownerState:o},a))}),Nae=Mae;function Eae(t){return dt("MuiCardContent",t)}ht("MuiCardContent",["root"]);const Rae=["className","component"],Dae=t=>{const{classes:e}=t;return ut({root:["root"]},Eae,e)},Iae=de("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Lae=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,a=Re(n,Rae),o=B({},n,{component:s}),l=Dae(o);return _.jsx(Iae,B({as:s,className:Oe(l.root,i),ownerState:o,ref:r},a))}),Um=Lae;function Fae(t){return dt("MuiCardHeader",t)}const Aae=ht("MuiCardHeader",["root","avatar","action","content","title","subheader"]),QI=Aae,Oae=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],$ae=t=>{const{classes:e}=t;return ut({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Fae,e)},Vae=de("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>B({[`& .${QI.title}`]:e.title,[`& .${QI.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),zae=de("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Wae=de("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Hae=de("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),Uae=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:a,component:o="div",disableTypography:l=!1,subheader:u,subheaderTypographyProps:c,title:h,titleTypographyProps:f}=n,m=Re(n,Oae),g=B({},n,{component:o,disableTypography:l}),y=$ae(g);let b=h;b!=null&&b.type!==qr&&!l&&(b=_.jsx(qr,B({variant:s?"body2":"h5",className:y.title,component:"span",display:"block"},f,{children:b})));let x=u;return x!=null&&x.type!==qr&&!l&&(x=_.jsx(qr,B({variant:s?"body2":"body1",className:y.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:x}))),_.jsxs(Vae,B({className:Oe(y.root,a),as:o,ref:r,ownerState:g},m,{children:[s&&_.jsx(zae,{className:y.avatar,ownerState:g,children:s}),_.jsxs(Hae,{className:y.content,ownerState:g,children:[b,x]}),i&&_.jsx(Wae,{className:y.action,ownerState:g,children:i})]}))}),Gae=Uae;function jae(t){return dt("PrivateSwitchBase",t)}ht("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Yae=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Xae=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${je(i)}`],input:["input"]};return ut(s,jae,e)},qae=de(Co)(({ownerState:t})=>B({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),Kae=de("input",{shouldForwardProp:ts})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Qae=k.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:s,className:a,defaultChecked:o,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:h,id:f,inputProps:m,inputRef:g,name:y,onBlur:b,onChange:x,onFocus:v,readOnly:w,required:T=!1,tabIndex:P,type:C,value:M}=e,E=Re(e,Yae),[D,I]=La({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),A=fa(),W=U=>{v&&v(U),A&&A.onFocus&&A.onFocus(U)},V=U=>{b&&b(U),A&&A.onBlur&&A.onBlur(U)},$=U=>{if(U.nativeEvent.defaultPrevented)return;const q=U.target.checked;I(q),x&&x(U,q)};let L=l;A&&typeof L>"u"&&(L=A.disabled);const H=C==="checkbox"||C==="radio",z=B({},e,{checked:D,disabled:L,disableFocusRipple:u,edge:c}),F=Xae(z);return _.jsxs(qae,B({component:"span",className:Oe(F.root,a),centerRipple:!0,focusRipple:!u,disabled:L,tabIndex:null,role:void 0,onFocus:W,onBlur:V,ownerState:z,ref:r},E,{children:[_.jsx(Kae,B({autoFocus:n,checked:i,defaultChecked:o,className:F.input,disabled:L,id:H?f:void 0,name:y,onChange:$,readOnly:w,ref:g,required:T,ownerState:z,tabIndex:P,type:C},C==="checkbox"&&M===void 0?{}:{value:M},m)),D?s:h]}))}),Z4=Qae;function Jae(t){return dt("MuiCircularProgress",t)}ht("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Zae=["className","color","disableShrink","size","style","thickness","value","variant"];let T1=t=>t,JI,ZI,eL,tL;const ic=44,eoe=xp(JI||(JI=T1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),toe=xp(ZI||(ZI=T1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),roe=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,s={root:["root",r,`color${je(n)}`],svg:["svg"],circle:["circle",`circle${je(r)}`,i&&"circleDisableShrink"]};return ut(s,Jae,e)},noe=de("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${je(r.color)}`]]}})(({ownerState:t,theme:e})=>B({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&$x(eL||(eL=T1`
      animation: ${0} 1.4s linear infinite;
    `),eoe)),ioe=de("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),soe=de("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${je(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>B({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&$x(tL||(tL=T1`
      animation: ${0} 1.4s ease-in-out infinite;
    `),toe)),aoe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate"}=n,f=Re(n,Zae),m=B({},n,{color:s,disableShrink:a,size:o,thickness:u,value:c,variant:h}),g=roe(m),y={},b={},x={};if(h==="determinate"){const v=2*Math.PI*((ic-u)/2);y.strokeDasharray=v.toFixed(3),x["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,b.transform="rotate(-90deg)"}return _.jsx(noe,B({className:Oe(g.root,i),style:B({width:o,height:o},b,l),ownerState:m,ref:r,role:"progressbar"},x,f,{children:_.jsx(ioe,{className:g.svg,ownerState:m,viewBox:`${ic/2} ${ic/2} ${ic} ${ic}`,children:_.jsx(soe,{className:g.circle,style:y,ownerState:m,cx:ic,cy:ic,r:(ic-u)/2,fill:"none",strokeWidth:u})})}))}),ooe=aoe;function loe(t){return dt("MuiModal",t)}ht("MuiModal",["root","hidden","backdrop"]);const uoe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],coe=t=>{const{open:e,exited:r,classes:n}=t;return ut({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},loe,n)},doe=de("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>B({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),hoe=de(Q4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),foe=k.forwardRef(function(e,r){var n,i,s,a,o,l;const u=tt({name:"MuiModal",props:e}),{BackdropComponent:c=hoe,BackdropProps:h,className:f,closeAfterTransition:m=!1,children:g,container:y,component:b,components:x={},componentsProps:v={},disableAutoFocus:w=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:P=!1,disablePortal:C=!1,disableRestoreFocus:M=!1,disableScrollLock:E=!1,hideBackdrop:D=!1,keepMounted:I=!1,onBackdropClick:A,open:W,slotProps:V,slots:$}=u,L=Re(u,uoe),H=B({},u,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:T,disableEscapeKeyDown:P,disablePortal:C,disableRestoreFocus:M,disableScrollLock:E,hideBackdrop:D,keepMounted:I}),{getRootProps:z,getBackdropProps:F,getTransitionProps:U,portalRef:q,isTopModal:ae,exited:he,hasTransition:be}=Xne(B({},H,{rootRef:r})),pe=B({},H,{exited:he}),ee=coe(pe),ce={};if(g.props.tabIndex===void 0&&(ce.tabIndex="-1"),be){const{onEnter:K,onExited:J}=U();ce.onEnter=K,ce.onExited=J}const ke=(n=(i=$==null?void 0:$.root)!=null?i:x.Root)!=null?n:doe,Q=(s=(a=$==null?void 0:$.backdrop)!=null?a:x.Backdrop)!=null?s:c,Z=(o=V==null?void 0:V.root)!=null?o:v.root,le=(l=V==null?void 0:V.backdrop)!=null?l:v.backdrop,ue=ir({elementType:ke,externalSlotProps:Z,externalForwardedProps:L,getSlotProps:z,additionalProps:{ref:r,as:b},ownerState:pe,className:Oe(f,Z==null?void 0:Z.className,ee==null?void 0:ee.root,!pe.open&&pe.exited&&(ee==null?void 0:ee.hidden))}),re=ir({elementType:Q,externalSlotProps:le,additionalProps:h,getSlotProps:K=>F(B({},K,{onClick:J=>{A&&A(J),K!=null&&K.onClick&&K.onClick(J)}})),className:Oe(le==null?void 0:le.className,h==null?void 0:h.className,ee==null?void 0:ee.backdrop),ownerState:pe});return!I&&!W&&(!be||he)?null:_.jsx(L4,{ref:q,container:y,disablePortal:C,children:_.jsxs(ke,B({},ue,{children:[!D&&c?_.jsx(Q,B({},re)):null,_.jsx(I4,{disableEnforceFocus:T,disableAutoFocus:w,disableRestoreFocus:M,isEnabled:ae,open:W,children:k.cloneElement(g,ce)})]}))})}),cM=foe;function poe(t){return dt("MuiDialog",t)}const goe=ht("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),am=goe,moe=k.createContext({}),eV=moe,yoe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],boe=de(Q4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),voe=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${je(r)}`],paper:["paper",`paperScroll${je(r)}`,`paperWidth${je(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return ut(a,poe,e)},woe=de(cM,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),xoe=de("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${je(r.scroll)}`]]}})(({ownerState:t})=>B({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Soe=de(mh,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${je(r.scroll)}`],e[`paperWidth${je(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>B({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${am.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${am.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${am.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),koe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialog"}),i=Ua(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,BackdropComponent:l,BackdropProps:u,children:c,className:h,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:y="sm",onBackdropClick:b,onClose:x,open:v,PaperComponent:w=mh,PaperProps:T={},scroll:P="paper",TransitionComponent:C=Cp,transitionDuration:M=s,TransitionProps:E}=n,D=Re(n,yoe),I=B({},n,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:y,scroll:P}),A=voe(I),W=k.useRef(),V=z=>{W.current=z.target===z.currentTarget},$=z=>{W.current&&(W.current=null,b&&b(z),x&&x(z,"backdropClick"))},L=Eo(o),H=k.useMemo(()=>({titleId:L}),[L]);return _.jsx(woe,B({className:Oe(A.root,h),closeAfterTransition:!0,components:{Backdrop:boe},componentsProps:{backdrop:B({transitionDuration:M,as:l},u)},disableEscapeKeyDown:f,onClose:x,open:v,ref:r,onClick:$,ownerState:I},D,{children:_.jsx(C,B({appear:!0,in:v,timeout:M,role:"presentation"},E,{children:_.jsx(xoe,{className:Oe(A.container),onMouseDown:V,ownerState:I,children:_.jsx(Soe,B({as:w,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":L},T,{className:Oe(A.paper,T.className),ownerState:I,children:_.jsx(eV.Provider,{value:H,children:c})}))})}))}))}),Uy=koe;function _oe(t){return dt("MuiDialogActions",t)}ht("MuiDialogActions",["root","spacing"]);const Coe=["className","disableSpacing"],Toe=t=>{const{classes:e,disableSpacing:r}=t;return ut({root:["root",!r&&"spacing"]},_oe,e)},Poe=de("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>B({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Boe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=n,a=Re(n,Coe),o=B({},n,{disableSpacing:s}),l=Toe(o);return _.jsx(Poe,B({className:Oe(l.root,i),ownerState:o,ref:r},a))}),tV=Boe;function Moe(t){return dt("MuiDialogContent",t)}ht("MuiDialogContent",["root","dividers"]);function Noe(t){return dt("MuiDialogTitle",t)}const Eoe=ht("MuiDialogTitle",["root"]),Roe=Eoe,Doe=["className","dividers"],Ioe=t=>{const{classes:e,dividers:r}=t;return ut({root:["root",r&&"dividers"]},Moe,e)},Loe=de("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>B({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Roe.root} + &`]:{paddingTop:0}})),Foe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=n,a=Re(n,Doe),o=B({},n,{dividers:s}),l=Ioe(o);return _.jsx(Loe,B({className:Oe(l.root,i),ownerState:o,ref:r},a))}),rV=Foe,Aoe=["className","id"],Ooe=t=>{const{classes:e}=t;return ut({root:["root"]},Noe,e)},$oe=de(qr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Voe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=n,a=Re(n,Aoe),o=n,l=Ooe(o),{titleId:u=s}=k.useContext(eV);return _.jsx($oe,B({component:"h2",className:Oe(l.root,i),ownerState:o,ref:r,variant:"h6",id:s??u},a))}),nV=Voe;function zoe(t){return dt("MuiDivider",t)}const Woe=ht("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),rL=Woe,Hoe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Uoe=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=t;return ut({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},zoe,n)},Goe=de("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>B({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Vr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>B({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>B({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),joe=de("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>B({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),iV=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,component:o=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:h=o!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth"}=n,g=Re(n,Hoe),y=B({},n,{absolute:i,component:o,flexItem:l,light:u,orientation:c,role:h,textAlign:f,variant:m}),b=Uoe(y);return _.jsx(Goe,B({as:o,className:Oe(b.root,a),role:h,ref:r,ownerState:y},g,{children:s?_.jsx(joe,{className:b.wrapper,ownerState:y,children:s}):null}))});iV.muiSkipListHighlight=!0;const nL=iV,Yoe=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Xoe(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=dl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+o-n.left}px)`:`translateX(${s.innerWidth+o-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:t==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function qoe(t){return typeof t=="function"?t():t}function Cb(t,e,r){const n=qoe(r),i=Xoe(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const Koe=k.forwardRef(function(e,r){const n=Ua(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:c="down",easing:h=i,in:f,onEnter:m,onEntered:g,onEntering:y,onExit:b,onExited:x,onExiting:v,style:w,timeout:T=s,TransitionComponent:P=b1}=e,C=Re(e,Yoe),M=k.useRef(null),E=Nr(l.ref,M,r),D=F=>U=>{F&&(U===void 0?F(M.current):F(M.current,U))},I=D((F,U)=>{Cb(c,F,u),eM(F),m&&m(F,U)}),A=D((F,U)=>{const q=Xf({timeout:T,style:w,easing:h},{mode:"enter"});F.style.webkitTransition=n.transitions.create("-webkit-transform",B({},q)),F.style.transition=n.transitions.create("transform",B({},q)),F.style.webkitTransform="none",F.style.transform="none",y&&y(F,U)}),W=D(g),V=D(v),$=D(F=>{const U=Xf({timeout:T,style:w,easing:h},{mode:"exit"});F.style.webkitTransition=n.transitions.create("-webkit-transform",U),F.style.transition=n.transitions.create("transform",U),Cb(c,F,u),b&&b(F)}),L=D(F=>{F.style.webkitTransition="",F.style.transition="",x&&x(F)}),H=F=>{a&&a(M.current,F)},z=k.useCallback(()=>{M.current&&Cb(c,M.current,u)},[c,u]);return k.useEffect(()=>{if(f||c==="down"||c==="right")return;const F=Oy(()=>{M.current&&Cb(c,M.current,u)}),U=dl(M.current);return U.addEventListener("resize",F),()=>{F.clear(),U.removeEventListener("resize",F)}},[c,f,u]),k.useEffect(()=>{f||z()},[f,z]),_.jsx(P,B({nodeRef:M,onEnter:I,onEntered:W,onEntering:A,onExit:$,onExited:L,onExiting:V,addEndListener:H,appear:o,in:f,timeout:T},C,{children:(F,U)=>k.cloneElement(l,B({ref:E,style:B({visibility:F==="exited"&&!f?"hidden":void 0},w,l.props.style)},U))}))}),Qoe=Koe;function Joe(t){return dt("MuiDrawer",t)}ht("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Zoe=["BackdropProps"],ele=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],sV=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},tle=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${je(r)}`,n!=="temporary"&&`paperAnchorDocked${je(r)}`]};return ut(i,Joe,e)},rle=de(cM,{name:"MuiDrawer",slot:"Root",overridesResolver:sV})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),iL=de("div",{shouldForwardProp:ts,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:sV})({flex:"0 0 auto"}),nle=de(mh,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${je(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${je(r.anchor)}`]]}})(({theme:t,ownerState:e})=>B({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),aV={left:"right",right:"left",top:"down",bottom:"up"};function ile(t){return["left","right"].indexOf(t)!==-1}function sle({direction:t},e){return t==="rtl"&&ile(e)?aV[e]:e}const ale=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDrawer"}),i=Ua(),s=Gi(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:u,className:c,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:m}={},onClose:g,open:y=!1,PaperProps:b={},SlideProps:x,TransitionComponent:v=Qoe,transitionDuration:w=a,variant:T="temporary"}=n,P=Re(n.ModalProps,Zoe),C=Re(n,ele),M=k.useRef(!1);k.useEffect(()=>{M.current=!0},[]);const E=sle({direction:s?"rtl":"ltr"},o),I=B({},n,{anchor:o,elevation:h,open:y,variant:T},C),A=tle(I),W=_.jsx(nle,B({elevation:T==="temporary"?h:0,square:!0},b,{className:Oe(A.paper,b.className),ownerState:I,children:u}));if(T==="permanent")return _.jsx(iL,B({className:Oe(A.root,A.docked,c),ownerState:I,ref:r},C,{children:W}));const V=_.jsx(v,B({in:y,direction:aV[E],timeout:w,appear:M.current},x,{children:W}));return T==="persistent"?_.jsx(iL,B({className:Oe(A.root,A.docked,c),ownerState:I,ref:r},C,{children:V})):_.jsx(rle,B({BackdropProps:B({},l,m,{transitionDuration:w}),className:Oe(A.root,A.modal,c),open:y,ownerState:I,onClose:g,hideBackdrop:f,ref:r},C,P,{children:V}))}),ole=ale;function lle(t){return dt("MuiFab",t)}const ule=ht("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),sL=ule,cle=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],dle=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${je(i)}`,e==="inherit"?"colorInherit":e]},a=ut(s,lle,n);return B({},n,a)},hle=de(Co,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ts(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${je(r.size)}`],r.color==="inherit"&&e.colorInherit,e[je(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return B({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${sL.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>B({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${sL.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),fle=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFab"}),{children:i,className:s,color:a="default",component:o="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:h="large",variant:f="circular"}=n,m=Re(n,cle),g=B({},n,{color:a,component:o,disabled:l,disableFocusRipple:u,size:h,variant:f}),y=dle(g);return _.jsx(hle,B({className:Oe(y.root,s),component:o,disabled:l,focusRipple:!u,focusVisibleClassName:Oe(y.focusVisible,c),ownerState:g,ref:r},m,{classes:y,children:i}))}),ple=fle,gle=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],mle=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},Qse,e);return B({},e,i)},yle=de(_1,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...S1(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return B({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${cd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${cd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cd.disabled}, .${cd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${cd.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&B({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),ble=de(C1,{name:"MuiFilledInput",slot:"Input",overridesResolver:k1})(({theme:t,ownerState:e})=>B({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),oV=k.forwardRef(function(e,r){var n,i,s,a;const o=tt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:g={},type:y="text"}=o,b=Re(o,gle),x=B({},o,{fullWidth:c,inputComponent:h,multiline:f,type:y}),v=mle(o),w={root:{ownerState:x},input:{ownerState:x}},T=m??u?zs(w,m??u):w,P=(n=(i=g.root)!=null?i:l.Root)!=null?n:yle,C=(s=(a=g.input)!=null?a:l.Input)!=null?s:ble;return _.jsx(uM,B({slots:{root:P,input:C},componentsProps:T,fullWidth:c,inputComponent:h,multiline:f,ref:r,type:y},b,{classes:v}))});oV.muiName="Input";const lV=oV;function vle(t){return dt("MuiFormControl",t)}ht("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const wle=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],xle=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${je(r)}`,n&&"fullWidth"]};return ut(i,vle,e)},Sle=de("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,e[`margin${je(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>B({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),kle=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:h=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:y="medium",variant:b="outlined"}=n,x=Re(n,wle),v=B({},n,{color:a,component:o,disabled:l,error:u,fullWidth:h,hiddenLabel:f,margin:m,required:g,size:y,variant:b}),w=xle(v),[T,P]=k.useState(()=>{let V=!1;return i&&k.Children.forEach(i,$=>{if(!vv($,["Input","Select"]))return;const L=vv($,["Select"])?$.props.input:$;L&&Vse(L.props)&&(V=!0)}),V}),[C,M]=k.useState(()=>{let V=!1;return i&&k.Children.forEach(i,$=>{vv($,["Input","Select"])&&(mw($.props,!0)||mw($.props.inputProps,!0))&&(V=!0)}),V}),[E,D]=k.useState(!1);l&&E&&D(!1);const I=c!==void 0&&!l?c:E;let A;const W=k.useMemo(()=>({adornedStart:T,setAdornedStart:P,color:a,disabled:l,error:u,filled:C,focused:I,fullWidth:h,hiddenLabel:f,size:y,onBlur:()=>{D(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{D(!0)},registerEffect:A,required:g,variant:b}),[T,a,l,u,C,I,h,f,A,g,y,b]);return _.jsx(x1.Provider,{value:W,children:_.jsx(Sle,B({as:o,ownerState:v,className:Oe(w.root,s),ref:r},x,{children:i}))})}),uV=kle,_le=pte({createStyledComponent:de("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>tt({props:t,name:"MuiStack"})}),Cle=_le;function Tle(t){return dt("MuiFormControlLabel",t)}const Ple=ht("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ag=Ple,Ble=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Mle=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:s}=t,a={root:["root",r&&"disabled",`labelPlacement${je(n)}`,i&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return ut(a,Tle,e)},Nle=de("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Ag.label}`]:e.label},e.root,e[`labelPlacement${je(r.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>B({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ag.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ag.label}`]:{[`&.${Ag.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Ele=de("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ag.error}`]:{color:(t.vars||t).palette.error.main}})),Rle=k.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:o={},control:l,disabled:u,disableTypography:c,label:h,labelPlacement:f="end",required:m,slotProps:g={}}=s,y=Re(s,Ble),b=fa(),x=(n=u??l.props.disabled)!=null?n:b==null?void 0:b.disabled,v=m??l.props.required,w={disabled:x,required:v};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof l.props[D]>"u"&&typeof s[D]<"u"&&(w[D]=s[D])});const T=qc({props:s,muiFormControl:b,states:["error"]}),P=B({},s,{disabled:x,labelPlacement:f,required:v,error:T.error}),C=Mle(P),M=(i=g.typography)!=null?i:o.typography;let E=h;return E!=null&&E.type!==qr&&!c&&(E=_.jsx(qr,B({component:"span"},M,{className:Oe(C.label,M==null?void 0:M.className),children:E}))),_.jsxs(Nle,B({className:Oe(C.root,a),ownerState:P,ref:r},y,{children:[k.cloneElement(l,w),v?_.jsxs(Cle,{display:"block",children:[E,_.jsxs(Ele,{ownerState:P,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]}):E]}))}),NT=Rle;function Dle(t){return dt("MuiFormGroup",t)}ht("MuiFormGroup",["root","row","error"]);const Ile=["className","row"],Lle=t=>{const{classes:e,row:r,error:n}=t;return ut({root:["root",r&&"row",n&&"error"]},Dle,e)},Fle=de("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})(({ownerState:t})=>B({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Ale=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=n,a=Re(n,Ile),o=fa(),l=qc({props:n,muiFormControl:o,states:["error"]}),u=B({},n,{row:s,error:l.error}),c=Lle(u);return _.jsx(Fle,B({className:Oe(c.root,i),ownerState:u,ref:r},a))}),cV=Ale;function Ole(t){return dt("MuiFormHelperText",t)}const $le=ht("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),aL=$le;var oL;const Vle=["children","className","component","disabled","error","filled","focused","margin","required","variant"],zle=t=>{const{classes:e,contained:r,size:n,disabled:i,error:s,filled:a,focused:o,required:l}=t,u={root:["root",i&&"disabled",s&&"error",n&&`size${je(n)}`,r&&"contained",o&&"focused",a&&"filled",l&&"required"]};return ut(u,Ole,e)},Wle=de("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${je(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${aL.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${aL.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Hle=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p"}=n,o=Re(n,Vle),l=fa(),u=qc({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=B({},n,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=zle(c);return _.jsx(Wle,B({as:a,ownerState:c,className:Oe(h.root,s),ref:r},o,{children:i===" "?oL||(oL=_.jsx("span",{className:"notranslate",children:""})):i}))}),dV=Hle;function Ule(t){return dt("MuiFormLabel",t)}const Gle=ht("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),om=Gle,jle=["children","className","color","component","disabled","error","filled","focused","required"],Yle=t=>{const{classes:e,color:r,focused:n,disabled:i,error:s,filled:a,required:o}=t,l={root:["root",`color${je(r)}`,i&&"disabled",s&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return ut(l,Ule,e)},Xle=de("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${om.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${om.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${om.error}`]:{color:(t.vars||t).palette.error.main}})),qle=de("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${om.error}`]:{color:(t.vars||t).palette.error.main}})),Kle=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:a="label"}=n,o=Re(n,jle),l=fa(),u=qc({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=B({},n,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=Yle(c);return _.jsxs(Xle,B({as:a,ownerState:c,className:Oe(h.root,s),ref:r},o,{children:[i,u.required&&_.jsxs(qle,{ownerState:c,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),Qle=Kle,Jle=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ET(t){return`scale(${t}, ${t**2})`}const Zle={entering:{opacity:1,transform:ET(1)},entered:{opacity:1,transform:"none"}},u_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hV=k.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:a,in:o,onEnter:l,onEntered:u,onEntering:c,onExit:h,onExited:f,onExiting:m,style:g,timeout:y="auto",TransitionComponent:b=b1}=e,x=Re(e,Jle),v=g4(),w=k.useRef(),T=Ua(),P=k.useRef(null),C=Nr(P,s.ref,r),M=L=>H=>{if(L){const z=P.current;H===void 0?L(z):L(z,H)}},E=M(c),D=M((L,H)=>{eM(L);const{duration:z,delay:F,easing:U}=Xf({style:g,timeout:y,easing:a},{mode:"enter"});let q;y==="auto"?(q=T.transitions.getAutoHeightDuration(L.clientHeight),w.current=q):q=z,L.style.transition=[T.transitions.create("opacity",{duration:q,delay:F}),T.transitions.create("transform",{duration:u_?q:q*.666,delay:F,easing:U})].join(","),l&&l(L,H)}),I=M(u),A=M(m),W=M(L=>{const{duration:H,delay:z,easing:F}=Xf({style:g,timeout:y,easing:a},{mode:"exit"});let U;y==="auto"?(U=T.transitions.getAutoHeightDuration(L.clientHeight),w.current=U):U=H,L.style.transition=[T.transitions.create("opacity",{duration:U,delay:z}),T.transitions.create("transform",{duration:u_?U:U*.666,delay:u_?z:z||U*.333,easing:F})].join(","),L.style.opacity=0,L.style.transform=ET(.75),h&&h(L)}),V=M(f),$=L=>{y==="auto"&&v.start(w.current||0,L),n&&n(P.current,L)};return _.jsx(b,B({appear:i,in:o,nodeRef:P,onEnter:D,onEntered:I,onEntering:E,onExit:W,onExited:V,onExiting:A,addEndListener:$,timeout:y==="auto"?null:y},x,{children:(L,H)=>k.cloneElement(s,B({style:B({opacity:0,transform:ET(.75),visibility:L==="exited"&&!o?"hidden":void 0},Zle[L],g,s.props.style),ref:C},H))}))});hV.muiSupportAuto=!0;const fV=hV,eue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tue=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},Yse,e);return B({},e,i)},rue=de(_1,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...S1(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),B({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fg.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fg.disabled}, .${fg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${fg.disabled}:before`]:{borderBottomStyle:"dotted"}})}),nue=de(C1,{name:"MuiInput",slot:"Input",overridesResolver:k1})({}),pV=k.forwardRef(function(e,r){var n,i,s,a;const o=tt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:h=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:y={},type:b="text"}=o,x=Re(o,eue),v=tue(o),T={root:{ownerState:{disableUnderline:l}}},P=g??c?zs(g??c,T):T,C=(n=(i=y.root)!=null?i:u.Root)!=null?n:rue,M=(s=(a=y.input)!=null?a:u.Input)!=null?s:nue;return _.jsx(uM,B({slots:{root:C,input:M},slotProps:P,fullWidth:h,inputComponent:f,multiline:m,ref:r,type:b},x,{classes:v}))});pV.muiName="Input";const dM=pV;function iue(t){return dt("MuiInputAdornment",t)}const sue=ht("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),lL=sue;var uL;const aue=["children","className","component","disablePointerEvents","disableTypography","position","variant"],oue=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${je(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},lue=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:s,variant:a}=t,o={root:["root",r&&"disablePointerEvents",i&&`position${je(i)}`,a,n&&"hiddenLabel",s&&`size${je(s)}`]};return ut(o,iue,e)},uue=de("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:oue})(({theme:t,ownerState:e})=>B({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${lL.positionStart}&:not(.${lL.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),cue=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:c}=n,h=Re(n,aue),f=fa()||{};let m=c;c&&f.variant,f&&!m&&(m=f.variant);const g=B({},n,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:o,position:u,variant:m}),y=lue(g);return _.jsx(x1.Provider,{value:null,children:_.jsx(uue,B({as:a,ownerState:g,className:Oe(y.root,s),ref:r},h,{children:typeof i=="string"&&!l?_.jsx(qr,{color:"text.secondary",children:i}):_.jsxs(k.Fragment,{children:[u==="start"?uL||(uL=_.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),gV=cue;function due(t){return dt("MuiInputLabel",t)}ht("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const hue=["disableAnimation","margin","shrink","variant","className"],fue=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:s,variant:a,required:o}=t,l={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="normal"&&`size${je(n)}`,a],asterisk:[o&&"asterisk"]},u=ut(l,due,e);return B({},e,u)},pue=de(Qle,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${om.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>B({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&B({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&B({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&B({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),gue=k.forwardRef(function(e,r){const n=tt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:a}=n,o=Re(n,hue),l=fa();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=qc({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),h=B({},n,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),f=fue(h);return _.jsx(pue,B({"data-shrink":u,ownerState:h,ref:r,className:Oe(f.root,a)},o,{classes:f}))}),mV=gue,mue=k.createContext({}),al=mue;function yue(t){return dt("MuiList",t)}ht("MuiList",["root","padding","dense","subheader"]);const bue=["children","className","component","dense","disablePadding","subheader"],vue=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return ut({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},yue,e)},wue=de("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>B({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),xue=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u}=n,c=Re(n,bue),h=k.useMemo(()=>({dense:o}),[o]),f=B({},n,{component:a,dense:o,disablePadding:l}),m=vue(f);return _.jsx(al.Provider,{value:h,children:_.jsxs(wue,B({as:a,className:Oe(m.root,s),ref:r,ownerState:f},c,{children:[u,i]}))})}),Gy=xue;function Sue(t){return dt("MuiListItem",t)}const kue=ht("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),ef=kue;function _ue(t){return dt("MuiListItemButton",t)}const Cue=ht("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),tf=Cue,Tue=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Pue=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},Bue=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:s,divider:a,selected:o}=t,u=ut({root:["root",n&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},_ue,r);return B({},r,u)},Mue=de(Co,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Pue})(({theme:t,ownerState:e})=>B({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${tf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${tf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${tf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${tf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Nue=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:h,selected:f=!1,className:m}=n,g=Re(n,Tue),y=k.useContext(al),b=k.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),x=k.useRef(null);Dn(()=>{s&&x.current&&x.current.focus()},[s]);const v=B({},n,{alignItems:i,dense:b.dense,disableGutters:u,divider:c,selected:f}),w=Bue(v),T=Nr(x,r);return _.jsx(al.Provider,{value:b,children:_.jsx(Mue,B({ref:T,href:g.href||g.to,component:(g.href||g.to)&&a==="div"?"button":a,focusVisibleClassName:Oe(w.focusVisible,h),ownerState:v,className:Oe(w.root,m)},g,{classes:w,children:o}))})}),sc=Nue;function Eue(t){return dt("MuiListItemSecondaryAction",t)}ht("MuiListItemSecondaryAction",["root","disableGutters"]);const Rue=["className"],Due=t=>{const{disableGutters:e,classes:r}=t;return ut({root:["root",e&&"disableGutters"]},Eue,r)},Iue=de("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>B({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),yV=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,s=Re(n,Rue),a=k.useContext(al),o=B({},n,{disableGutters:a.disableGutters}),l=Due(o);return _.jsx(Iue,B({className:Oe(l.root,i),ownerState:o,ref:r},s))});yV.muiName="ListItemSecondaryAction";const Lue=yV,Fue=["className"],Aue=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Oue=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},$ue=t=>{const{alignItems:e,button:r,classes:n,dense:i,disabled:s,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:u,selected:c}=t;return ut({root:["root",i&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",s&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},Sue,n)},Vue=de("div",{name:"MuiListItem",slot:"Root",overridesResolver:Oue})(({theme:t,ownerState:e})=>B({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&B({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${tf.root}`]:{paddingRight:48}},{[`&.${ef.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ef.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ef.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ef.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ef.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),zue=de("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Wue=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:a=!1,children:o,className:l,component:u,components:c={},componentsProps:h={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:y=!1,disableGutters:b=!1,disablePadding:x=!1,divider:v=!1,focusVisibleClassName:w,secondaryAction:T,selected:P=!1,slotProps:C={},slots:M={}}=n,E=Re(n.ContainerProps,Fue),D=Re(n,Aue),I=k.useContext(al),A=k.useMemo(()=>({dense:g||I.dense||!1,alignItems:i,disableGutters:b}),[i,I.dense,g,b]),W=k.useRef(null);Dn(()=>{s&&W.current&&W.current.focus()},[s]);const V=k.Children.toArray(o),$=V.length&&vv(V[V.length-1],["ListItemSecondaryAction"]),L=B({},n,{alignItems:i,autoFocus:s,button:a,dense:A.dense,disabled:y,disableGutters:b,disablePadding:x,divider:v,hasSecondaryAction:$,selected:P}),H=$ue(L),z=Nr(W,r),F=M.root||c.Root||Vue,U=C.root||h.root||{},q=B({className:Oe(H.root,U.className,l),disabled:y},D);let ae=u||"li";return a&&(q.component=u||"div",q.focusVisibleClassName=Oe(ef.focusVisible,w),ae=Co),$?(ae=!q.component&&!u?"div":ae,f==="li"&&(ae==="li"?ae="div":q.component==="li"&&(q.component="div")),_.jsx(al.Provider,{value:A,children:_.jsxs(zue,B({as:f,className:Oe(H.container,m),ref:z,ownerState:L},E,{children:[_.jsx(F,B({},U,!Al(F)&&{as:ae,ownerState:B({},L,U.ownerState)},q,{children:V})),V.pop()]}))})):_.jsx(al.Provider,{value:A,children:_.jsxs(F,B({},U,{as:ae,ref:z},!Al(F)&&{ownerState:B({},L,U.ownerState)},q,{children:[V,T&&_.jsx(Lue,{children:T})]}))})}),bV=Wue;function Hue(t){return dt("MuiListItemIcon",t)}const Uue=ht("MuiListItemIcon",["root","alignItemsFlexStart"]),cL=Uue,Gue=["className"],jue=t=>{const{alignItems:e,classes:r}=t;return ut({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Hue,r)},Yue=de("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>B({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Xue=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemIcon"}),{className:i}=n,s=Re(n,Gue),a=k.useContext(al),o=B({},n,{alignItems:a.alignItems}),l=jue(o);return _.jsx(Yue,B({className:Oe(l.root,i),ownerState:o,ref:r},s))}),ac=Xue;function que(t){return dt("MuiListItemText",t)}const Kue=ht("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yw=Kue,Que=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Jue=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:s}=t;return ut({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},que,e)},Zue=de("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${yw.primary}`]:e.primary},{[`& .${yw.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>B({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),ece=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:h}=n,f=Re(n,Que),{dense:m}=k.useContext(al);let g=l??i,y=c;const b=B({},n,{disableTypography:a,inset:o,primary:!!g,secondary:!!y,dense:m}),x=Jue(b);return g!=null&&g.type!==qr&&!a&&(g=_.jsx(qr,B({variant:m?"body2":"body1",className:x.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:g}))),y!=null&&y.type!==qr&&!a&&(y=_.jsx(qr,B({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},h,{children:y}))),_.jsxs(Zue,B({className:Oe(x.root,s),ownerState:b,ref:r},f,{children:[g,y]}))}),oc=ece,tce=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function c_(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function dL(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function vV(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function pg(t,e,r,n,i,s){let a=!1,o=i(t,e,e?r:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!vV(o,s)||l)o=i(t,o,r);else return o.focus(),!0}return!1}const rce=k.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:h="selectedMenu"}=e,f=Re(e,tce),m=k.useRef(null),g=k.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Dn(()=>{i&&m.current.focus()},[i]),k.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(w,{direction:T})=>{const P=!m.current.style.width;if(w.clientHeight<m.current.clientHeight&&P){const C=`${m4(Kn(w))}px`;m.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=C,m.current.style.width=`calc(100% + ${C})`}return m.current}}),[]);const y=w=>{const T=m.current,P=w.key,C=Kn(T).activeElement;if(P==="ArrowDown")w.preventDefault(),pg(T,C,u,l,c_);else if(P==="ArrowUp")w.preventDefault(),pg(T,C,u,l,dL);else if(P==="Home")w.preventDefault(),pg(T,null,u,l,c_);else if(P==="End")w.preventDefault(),pg(T,null,u,l,dL);else if(P.length===1){const M=g.current,E=P.toLowerCase(),D=performance.now();M.keys.length>0&&(D-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&E!==M.keys[0]&&(M.repeating=!1)),M.lastTime=D,M.keys.push(E);const I=C&&!M.repeating&&vV(C,M);M.previousKeyMatched&&(I||pg(T,C,!1,l,c_,M))?w.preventDefault():M.previousKeyMatched=!1}c&&c(w)},b=Nr(m,r);let x=-1;k.Children.forEach(a,(w,T)=>{if(!k.isValidElement(w)){x===T&&(x+=1,x>=a.length&&(x=-1));return}w.props.disabled||(h==="selectedMenu"&&w.props.selected||x===-1)&&(x=T),x===T&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const v=k.Children.map(a,(w,T)=>{if(T===x){const P={};return s&&(P.autoFocus=!0),w.props.tabIndex===void 0&&h==="selectedMenu"&&(P.tabIndex=0),k.cloneElement(w,P)}return w});return _.jsx(Gy,B({role:"menu",ref:b,className:o,onKeyDown:y,tabIndex:i?0:-1},f,{children:v}))}),hM=rce;function nce(t){return dt("MuiPopover",t)}ht("MuiPopover",["root","paper"]);const ice=["onEntering"],sce=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ace=["slotProps"];function hL(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function fL(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function pL(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function d_(t){return typeof t=="function"?t():t}const oce=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"]},nce,e)},lce=de(cM,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wV=de(mh,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),uce=k.forwardRef(function(e,r){var n,i,s;const a=tt({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:h="anchorEl",children:f,className:m,container:g,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:v={},slots:w,slotProps:T,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:C=fV,transitionDuration:M="auto",TransitionProps:{onEntering:E}={},disableScrollLock:D=!1}=a,I=Re(a.TransitionProps,ice),A=Re(a,sce),W=(n=T==null?void 0:T.paper)!=null?n:v,V=k.useRef(),$=Nr(V,W.ref),L=B({},a,{anchorOrigin:u,anchorReference:h,elevation:y,marginThreshold:b,externalPaperSlotProps:W,transformOrigin:P,TransitionComponent:C,transitionDuration:M,TransitionProps:I}),H=oce(L),z=k.useCallback(()=>{if(h==="anchorPosition")return c;const K=d_(l),se=(K&&K.nodeType===1?K:Kn(V.current).body).getBoundingClientRect();return{top:se.top+hL(se,u.vertical),left:se.left+fL(se,u.horizontal)}},[l,u.horizontal,u.vertical,c,h]),F=k.useCallback(K=>({vertical:hL(K,P.vertical),horizontal:fL(K,P.horizontal)}),[P.horizontal,P.vertical]),U=k.useCallback(K=>{const J={width:K.offsetWidth,height:K.offsetHeight},se=F(J);if(h==="none")return{top:null,left:null,transformOrigin:pL(se)};const Me=z();let Se=Me.top-se.vertical,j=Me.left-se.horizontal;const ne=Se+J.height,te=j+J.width,ge=dl(d_(l)),Be=ge.innerHeight-b,Te=ge.innerWidth-b;if(b!==null&&Se<b){const Ge=Se-b;Se-=Ge,se.vertical+=Ge}else if(b!==null&&ne>Be){const Ge=ne-Be;Se-=Ge,se.vertical+=Ge}if(b!==null&&j<b){const Ge=j-b;j-=Ge,se.horizontal+=Ge}else if(te>Te){const Ge=te-Te;j-=Ge,se.horizontal+=Ge}return{top:`${Math.round(Se)}px`,left:`${Math.round(j)}px`,transformOrigin:pL(se)}},[l,h,z,F,b]),[q,ae]=k.useState(x),he=k.useCallback(()=>{const K=V.current;if(!K)return;const J=U(K);J.top!==null&&(K.style.top=J.top),J.left!==null&&(K.style.left=J.left),K.style.transformOrigin=J.transformOrigin,ae(!0)},[U]);k.useEffect(()=>(D&&window.addEventListener("scroll",he),()=>window.removeEventListener("scroll",he)),[l,D,he]);const be=(K,J)=>{E&&E(K,J),he()},pe=()=>{ae(!1)};k.useEffect(()=>{x&&he()}),k.useImperativeHandle(o,()=>x?{updatePosition:()=>{he()}}:null,[x,he]),k.useEffect(()=>{if(!x)return;const K=Oy(()=>{he()}),J=dl(l);return J.addEventListener("resize",K),()=>{K.clear(),J.removeEventListener("resize",K)}},[l,x,he]);let ee=M;M==="auto"&&!C.muiSupportAuto&&(ee=void 0);const ce=g||(l?Kn(d_(l)).body:void 0),ke=(i=w==null?void 0:w.root)!=null?i:lce,Q=(s=w==null?void 0:w.paper)!=null?s:wV,Z=ir({elementType:Q,externalSlotProps:B({},W,{style:q?W.style:B({},W.style,{opacity:0})}),additionalProps:{elevation:y,ref:$},ownerState:L,className:Oe(H.paper,W==null?void 0:W.className)}),le=ir({elementType:ke,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:A,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:ce,open:x},ownerState:L,className:Oe(H.root,m)}),{slotProps:ue}=le,re=Re(le,ace);return _.jsx(ke,B({},re,!Al(ke)&&{slotProps:ue,disableScrollLock:D},{children:_.jsx(C,B({appear:!0,in:x,onEntering:be,onExited:pe,timeout:ee},I,{children:_.jsx(Q,B({},Z,{children:f}))}))}))}),cce=uce;function dce(t){return dt("MuiMenu",t)}ht("MuiMenu",["root","paper","list"]);const hce=["onEntering"],fce=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],pce={vertical:"top",horizontal:"right"},gce={vertical:"top",horizontal:"left"},mce=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"],list:["list"]},dce,e)},yce=de(cce,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bce=de(wV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vce=de(hM,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),wce=k.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:h,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:x="selectedMenu",slots:v={},slotProps:w={}}=s,T=Re(s.TransitionProps,hce),P=Re(s,fce),C=Gi(),M=B({},s,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:b,PaperProps:m,transitionDuration:y,TransitionProps:T,variant:x}),E=mce(M),D=a&&!u&&f,I=k.useRef(null),A=(F,U)=>{I.current&&I.current.adjustStyleForScrollbar(F,{direction:C?"rtl":"ltr"}),b&&b(F,U)},W=F=>{F.key==="Tab"&&(F.preventDefault(),h&&h(F,"tabKeyDown"))};let V=-1;k.Children.map(o,(F,U)=>{k.isValidElement(F)&&(F.props.disabled||(x==="selectedMenu"&&F.props.selected||V===-1)&&(V=U))});const $=(n=v.paper)!=null?n:bce,L=(i=w.paper)!=null?i:m,H=ir({elementType:v.root,externalSlotProps:w.root,ownerState:M,className:[E.root,l]}),z=ir({elementType:$,externalSlotProps:L,ownerState:M,className:E.paper});return _.jsx(yce,B({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?pce:gce,slots:{paper:$,root:v.root},slotProps:{root:H,paper:z},open:f,ref:r,transitionDuration:y,TransitionProps:B({onEntering:A},T),ownerState:M},P,{classes:g,children:_.jsx(vce,B({onKeyDown:W,actions:I,autoFocus:a&&(V===-1||u),autoFocusItem:D,variant:x},c,{className:Oe(E.list,c.className),children:o}))}))}),xce=wce;function Sce(t){return dt("MuiMenuItem",t)}const kce=ht("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),gg=kce,_ce=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Cce=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},Tce=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:s,classes:a}=t,l=ut({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},Sce,a);return B({},a,l)},Pce=de(Co,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cce})(({theme:t,ownerState:e})=>B({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${gg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${gg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${gg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${gg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${rL.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${rL.inset}`]:{marginLeft:52},[`& .${yw.root}`]:{marginTop:0,marginBottom:0},[`& .${yw.inset}`]:{paddingLeft:36},[`& .${cL.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&B({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${cL.root} svg`]:{fontSize:"1.25rem"}}))),Bce=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:h,className:f}=n,m=Re(n,_ce),g=k.useContext(al),y=k.useMemo(()=>({dense:a||g.dense||!1,disableGutters:l}),[g.dense,a,l]),b=k.useRef(null);Dn(()=>{i&&b.current&&b.current.focus()},[i]);const x=B({},n,{dense:y.dense,divider:o,disableGutters:l}),v=Tce(n),w=Nr(b,r);let T;return n.disabled||(T=h!==void 0?h:-1),_.jsx(al.Provider,{value:y,children:_.jsx(Pce,B({ref:w,role:c,tabIndex:T,component:s,focusVisibleClassName:Oe(v.focusVisible,u),className:Oe(v.root,f)},m,{ownerState:x,classes:v}))})}),fM=Bce;function Mce(t){return dt("MuiNativeSelect",t)}const Nce=ht("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),pM=Nce,Ece=["className","disabled","error","IconComponent","inputRef","variant"],Rce=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${je(r)}`,s&&"iconOpen",n&&"disabled"]};return ut(o,Mce,e)},xV=({ownerState:t,theme:e})=>B({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":B({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${pM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Dce=de("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ts,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${pM.multiple}`]:e.multiple}]}})(xV),SV=({ownerState:t,theme:e})=>B({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${pM.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Ice=de("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${je(r.variant)}`],r.open&&e.iconOpen]}})(SV),Lce=k.forwardRef(function(e,r){const{className:n,disabled:i,error:s,IconComponent:a,inputRef:o,variant:l="standard"}=e,u=Re(e,Ece),c=B({},e,{disabled:i,variant:l,error:s}),h=Rce(c);return _.jsxs(k.Fragment,{children:[_.jsx(Dce,B({ownerState:c,className:Oe(h.select,n),disabled:i,ref:o||r},u)),e.multiple?null:_.jsx(Ice,{as:a,ownerState:c,className:h.icon})]})}),Fce=Lce;var gL;const Ace=["children","classes","className","label","notched"],Oce=de("fieldset",{shouldForwardProp:ts})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$ce=de("legend",{shouldForwardProp:ts})(({ownerState:t,theme:e})=>B({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&B({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Vce(t){const{className:e,label:r,notched:n}=t,i=Re(t,Ace),s=r!=null&&r!=="",a=B({},t,{notched:n,withLabel:s});return _.jsx(Oce,B({"aria-hidden":!0,className:e,ownerState:a},i,{children:_.jsx($ce,{ownerState:a,children:s?_.jsx("span",{children:r}):gL||(gL=_.jsx("span",{className:"notranslate",children:""}))})}))}const zce=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Wce=t=>{const{classes:e}=t,n=ut({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qse,e);return B({},e,n)},Hce=de(_1,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:S1})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return B({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${nc.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${nc.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${nc.focused} .${nc.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${nc.error} .${nc.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${nc.disabled} .${nc.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&B({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Uce=de(Vce,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Gce=de(C1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:k1})(({theme:t,ownerState:e})=>B({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),kV=k.forwardRef(function(e,r){var n,i,s,a,o;const l=tt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:h="input",label:f,multiline:m=!1,notched:g,slots:y={},type:b="text"}=l,x=Re(l,zce),v=Wce(l),w=fa(),T=qc({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=B({},l,{color:T.color||"primary",disabled:T.disabled,error:T.error,focused:T.focused,formControl:w,fullWidth:c,hiddenLabel:T.hiddenLabel,multiline:m,size:T.size,type:b}),C=(n=(i=y.root)!=null?i:u.Root)!=null?n:Hce,M=(s=(a=y.input)!=null?a:u.Input)!=null?s:Gce;return _.jsx(uM,B({slots:{root:C,input:M},renderSuffix:E=>_.jsx(Uce,{ownerState:P,className:v.notchedOutline,label:f!=null&&f!==""&&T.required?o||(o=_.jsxs(k.Fragment,{children:[f,"","*"]})):f,notched:typeof g<"u"?g:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:c,inputComponent:h,multiline:m,ref:r,type:b},x,{classes:B({},v,{notchedOutline:null})}))});kV.muiName="Input";const _V=kV,jce=sn(_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Yce=sn(_.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Xce=de("span",{shouldForwardProp:ts})({position:"relative",display:"flex"}),qce=de(jce)({transform:"scale(1)"}),Kce=de(Yce)(({theme:t,ownerState:e})=>B({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function CV(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i=B({},t,{checked:e});return _.jsxs(Xce,{className:r.root,ownerState:i,children:[_.jsx(qce,{fontSize:n,className:r.background,ownerState:i}),_.jsx(Kce,{fontSize:n,className:r.dot,ownerState:i})]})}const Qce=k.createContext(void 0),TV=Qce;function Jce(){return k.useContext(TV)}function Zce(t){return dt("MuiRadio",t)}const ede=ht("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),mL=ede,tde=["checked","checkedIcon","color","icon","name","onChange","size","className"],rde=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${je(r)}`,n!=="medium"&&`size${je(n)}`]};return B({},e,ut(i,Zce,e))},nde=de(Z4,{shouldForwardProp:t=>ts(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${je(r.size)}`],e[`color${je(r.color)}`]]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${mL.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${mL.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function ide(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const yL=_.jsx(CV,{checked:!0}),bL=_.jsx(CV,{}),sde=k.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:o=yL,color:l="primary",icon:u=bL,name:c,onChange:h,size:f="medium",className:m}=s,g=Re(s,tde),y=B({},s,{color:l,size:f}),b=rde(y),x=Jce();let v=a;const w=vT(h,x&&x.onChange);let T=c;return x&&(typeof v>"u"&&(v=ide(x.value,s.value)),typeof T>"u"&&(T=x.name)),_.jsx(nde,B({type:"radio",icon:k.cloneElement(u,{fontSize:(n=bL.props.fontSize)!=null?n:f}),checkedIcon:k.cloneElement(o,{fontSize:(i=yL.props.fontSize)!=null?i:f}),ownerState:y,classes:b,name:T,checked:v,onChange:w,ref:r,className:Oe(b.root,m)},g))}),vL=sde,ade=["actions","children","defaultValue","name","onChange","value"],ode=k.forwardRef(function(e,r){const{actions:n,children:i,defaultValue:s,name:a,onChange:o,value:l}=e,u=Re(e,ade),c=k.useRef(null),[h,f]=La({controlled:l,default:s,name:"RadioGroup"});k.useImperativeHandle(n,()=>({focus:()=>{let b=c.current.querySelector("input:not(:disabled):checked");b||(b=c.current.querySelector("input:not(:disabled)")),b&&b.focus()}}),[]);const m=Nr(r,c),g=Eo(a),y=k.useMemo(()=>({name:g,onChange(b){f(b.target.value),o&&o(b,b.target.value)},value:h}),[g,o,f,h]);return _.jsx(TV.Provider,{value:y,children:_.jsx(cV,B({role:"radiogroup",ref:m},u,{children:i}))})}),wL=ode,lde=sn(_.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ude=sn(_.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function cde(t){return dt("MuiRating",t)}const dde=ht("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),mg=dde,hde=["value"],fde=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function pde(t){const e=t.toString().split(".")[1];return e?e.length:0}function h_(t,e){if(t==null)return t;const r=Math.round(t/e)*e;return Number(r.toFixed(pde(e)))}const gde=t=>{const{classes:e,size:r,readOnly:n,disabled:i,emptyValueFocused:s,focusVisible:a}=t,o={root:["root",`size${je(r)}`,i&&"disabled",a&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return ut(o,cde,e)},mde=de("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${mg.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${je(r.size)}`],r.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>B({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${mg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${mg.focusVisible} .${mg.iconActive}`]:{outline:"1px solid #999"},[`& .${mg.visuallyHidden}`]:HB},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),PV=de("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>B({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),yde=de("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.iconEmpty&&e.iconEmpty,r.iconFilled&&e.iconFilled,r.iconHover&&e.iconHover,r.iconFocus&&e.iconFocus,r.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>B({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),bde=de("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Vy(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:r}=t;return[e.decimal,r&&e.iconActive]}})(({iconActive:t})=>B({position:"relative"},t&&{transform:"scale(1.2)"}));function vde(t){const e=Re(t,hde);return _.jsx("span",B({},e))}function xL(t){const{classes:e,disabled:r,emptyIcon:n,focus:i,getLabelText:s,highlightSelectedOnly:a,hover:o,icon:l,IconContainerComponent:u,isActive:c,itemValue:h,labelProps:f,name:m,onBlur:g,onChange:y,onClick:b,onFocus:x,readOnly:v,ownerState:w,ratingValue:T,ratingValueRounded:P}=t,C=a?h===T:h<=T,M=h<=o,E=h<=i,D=h===P,I=Eo(),A=_.jsx(yde,{as:u,value:h,className:Oe(e.icon,C?e.iconFilled:e.iconEmpty,M&&e.iconHover,E&&e.iconFocus,c&&e.iconActive),ownerState:B({},w,{iconEmpty:!C,iconFilled:C,iconHover:M,iconFocus:E,iconActive:c}),children:n&&!C?n:l});return v?_.jsx("span",B({},f,{children:A})):_.jsxs(k.Fragment,{children:[_.jsxs(PV,B({ownerState:B({},w,{emptyValueFocused:void 0}),htmlFor:I},f,{children:[A,_.jsx("span",{className:e.visuallyHidden,children:s(h)})]})),_.jsx("input",{className:e.visuallyHidden,onFocus:x,onBlur:g,onChange:y,onClick:b,disabled:r,value:h,id:I,type:"radio",name:m,checked:D})]})}const wde=_.jsx(lde,{fontSize:"inherit"}),xde=_.jsx(ude,{fontSize:"inherit"});function Sde(t){return`${t} Star${t!==1?"s":""}`}const kde=k.forwardRef(function(e,r){const n=tt({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:a=!1,emptyIcon:o=xde,emptyLabelText:l="Empty",getLabelText:u=Sde,highlightSelectedOnly:c=!1,icon:h=wde,IconContainerComponent:f=vde,max:m=5,name:g,onChange:y,onChangeActive:b,onMouseLeave:x,onMouseMove:v,precision:w=1,readOnly:T=!1,size:P="medium",value:C}=n,M=Re(n,fde),E=Eo(g),[D,I]=La({controlled:C,default:s,name:"Rating"}),A=h_(D,w),W=Gi(),[{hover:V,focus:$},L]=k.useState({hover:-1,focus:-1});let H=A;V!==-1&&(H=V),$!==-1&&(H=$);const{isFocusVisibleRef:z,onBlur:F,onFocus:U,ref:q}=WB(),[ae,he]=k.useState(!1),be=k.useRef(),pe=Nr(q,be,r),ee=se=>{v&&v(se);const Me=be.current,{right:Se,left:j,width:ne}=Me.getBoundingClientRect();let te;W?te=(Se-se.clientX)/ne:te=(se.clientX-j)/ne;let ge=h_(m*te+w/2,w);ge=yc(ge,w,m),L(Be=>Be.hover===ge&&Be.focus===ge?Be:{hover:ge,focus:ge}),he(!1),b&&V!==ge&&b(se,ge)},ce=se=>{x&&x(se);const Me=-1;L({hover:Me,focus:Me}),b&&V!==Me&&b(se,Me)},ke=se=>{let Me=se.target.value===""?null:parseFloat(se.target.value);V!==-1&&(Me=V),I(Me),y&&y(se,Me)},Q=se=>{se.clientX===0&&se.clientY===0||(L({hover:-1,focus:-1}),I(null),y&&parseFloat(se.target.value)===A&&y(se,null))},Z=se=>{U(se),z.current===!0&&he(!0);const Me=parseFloat(se.target.value);L(Se=>({hover:Se.hover,focus:Me}))},le=se=>{if(V!==-1)return;F(se),z.current===!1&&he(!1);const Me=-1;L(Se=>({hover:Se.hover,focus:Me}))},[ue,re]=k.useState(!1),K=B({},n,{defaultValue:s,disabled:a,emptyIcon:o,emptyLabelText:l,emptyValueFocused:ue,focusVisible:ae,getLabelText:u,icon:h,IconContainerComponent:f,max:m,precision:w,readOnly:T,size:P}),J=gde(K);return _.jsxs(mde,B({ref:pe,onMouseMove:ee,onMouseLeave:ce,className:Oe(J.root,i,T&&"MuiRating-readOnly"),ownerState:K,role:T?"img":null,"aria-label":T?u(H):null},M,{children:[Array.from(new Array(m)).map((se,Me)=>{const Se=Me+1,j={classes:J,disabled:a,emptyIcon:o,focus:$,getLabelText:u,highlightSelectedOnly:c,hover:V,icon:h,IconContainerComponent:f,name:E,onBlur:le,onChange:ke,onClick:Q,onFocus:Z,ratingValue:H,ratingValueRounded:A,readOnly:T,ownerState:K},ne=Se===Math.ceil(H)&&(V!==-1||$!==-1);if(w<1){const te=Array.from(new Array(1/w));return _.jsx(bde,{className:Oe(J.decimal,ne&&J.iconActive),ownerState:K,iconActive:ne,children:te.map((ge,Be)=>{const Te=h_(Se-1+(Be+1)*w,w);return _.jsx(xL,B({},j,{isActive:!1,itemValue:Te,labelProps:{style:te.length-1===Be?{}:{width:Te===H?`${(Be+1)*w*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Te)})},Se)}return _.jsx(xL,B({},j,{isActive:ne,itemValue:Se}),Se)}),!T&&!a&&_.jsxs(PV,{className:Oe(J.label,J.labelEmptyValue),ownerState:K,children:[_.jsx("input",{className:J.visuallyHidden,value:"",id:`${E}-empty`,type:"radio",name:E,checked:A==null,onFocus:()=>re(!0),onBlur:()=>re(!1),onChange:ke}),_.jsx("span",{className:J.visuallyHidden,children:l})]})]}))}),_de=kde;function Cde(t){return dt("MuiSelect",t)}const yg=ht("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SL;const Tde=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Pde=de("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${yg.select}`]:e.select},{[`&.${yg.select}`]:e[r.variant]},{[`&.${yg.error}`]:e.error},{[`&.${yg.multiple}`]:e.multiple}]}})(xV,{[`&.${yg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Bde=de("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${je(r.variant)}`],r.open&&e.iconOpen]}})(SV),Mde=de("input",{shouldForwardProp:t=>Vy(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function kL(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Nde(t){return t==null||typeof t=="string"&&!t.trim()}const Ede=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:a}=t,o={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${je(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return ut(o,Cde,e)},Rde=k.forwardRef(function(e,r){var n;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:c,defaultValue:h,disabled:f,displayEmpty:m,error:g=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:v={},multiple:w,name:T,onBlur:P,onChange:C,onClose:M,onFocus:E,onOpen:D,open:I,readOnly:A,renderValue:W,SelectDisplayProps:V={},tabIndex:$,value:L,variant:H="standard"}=e,z=Re(e,Tde),[F,U]=La({controlled:L,default:h,name:"Select"}),[q,ae]=La({controlled:I,default:c,name:"Select"}),he=k.useRef(null),be=k.useRef(null),[pe,ee]=k.useState(null),{current:ce}=k.useRef(I!=null),[ke,Q]=k.useState(),Z=Nr(r,b),le=k.useCallback(Ze=>{be.current=Ze,Ze&&ee(Ze)},[]),ue=pe==null?void 0:pe.parentNode;k.useImperativeHandle(Z,()=>({focus:()=>{be.current.focus()},node:he.current,value:F}),[F]),k.useEffect(()=>{c&&q&&pe&&!ce&&(Q(o?null:ue.clientWidth),be.current.focus())},[pe,o]),k.useEffect(()=>{a&&be.current.focus()},[a]),k.useEffect(()=>{if(!x)return;const Ze=Kn(be.current).getElementById(x);if(Ze){const Mt=()=>{getSelection().isCollapsed&&be.current.focus()};return Ze.addEventListener("click",Mt),()=>{Ze.removeEventListener("click",Mt)}}},[x]);const re=(Ze,Mt)=>{Ze?D&&D(Mt):M&&M(Mt),ce||(Q(o?null:ue.clientWidth),ae(Ze))},K=Ze=>{Ze.button===0&&(Ze.preventDefault(),be.current.focus(),re(!0,Ze))},J=Ze=>{re(!1,Ze)},se=k.Children.toArray(l),Me=Ze=>{const Mt=se.find(qe=>qe.props.value===Ze.target.value);Mt!==void 0&&(U(Mt.props.value),C&&C(Ze,Mt))},Se=Ze=>Mt=>{let qe;if(Mt.currentTarget.hasAttribute("tabindex")){if(w){qe=Array.isArray(F)?F.slice():[];const Ye=F.indexOf(Ze.props.value);Ye===-1?qe.push(Ze.props.value):qe.splice(Ye,1)}else qe=Ze.props.value;if(Ze.props.onClick&&Ze.props.onClick(Mt),F!==qe&&(U(qe),C)){const Ye=Mt.nativeEvent||Mt,xt=new Ye.constructor(Ye.type,Ye);Object.defineProperty(xt,"target",{writable:!0,value:{value:qe,name:T}}),C(xt,Ze)}w||re(!1,Mt)}},j=Ze=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ze.key)!==-1&&(Ze.preventDefault(),re(!0,Ze))},ne=pe!==null&&q,te=Ze=>{!ne&&P&&(Object.defineProperty(Ze,"target",{writable:!0,value:{value:F,name:T}}),P(Ze))};delete z["aria-invalid"];let ge,Be;const Te=[];let Ge=!1;(mw({value:F})||m)&&(W?ge=W(F):Ge=!0);const ot=se.map(Ze=>{if(!k.isValidElement(Ze))return null;let Mt;if(w){if(!Array.isArray(F))throw new Error(Mu(2));Mt=F.some(qe=>kL(qe,Ze.props.value)),Mt&&Ge&&Te.push(Ze.props.children)}else Mt=kL(F,Ze.props.value),Mt&&Ge&&(Be=Ze.props.children);return k.cloneElement(Ze,{"aria-selected":Mt?"true":"false",onClick:Se(Ze),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),Ze.props.onKeyUp&&Ze.props.onKeyUp(qe)},role:"option",selected:Mt,value:void 0,"data-value":Ze.props.value})});Ge&&(w?Te.length===0?ge=null:ge=Te.reduce((Ze,Mt,qe)=>(Ze.push(Mt),qe<Te.length-1&&Ze.push(", "),Ze),[]):ge=Be);let Et=ke;!o&&ce&&pe&&(Et=ue.clientWidth);let Lt;typeof $<"u"?Lt=$:Lt=f?null:0;const De=V.id||(T?`mui-component-select-${T}`:void 0),_e=B({},e,{variant:H,value:F,open:ne,error:g}),Ne=Ede(_e),at=B({},v.PaperProps,(n=v.slotProps)==null?void 0:n.paper),ft=Eo();return _.jsxs(k.Fragment,{children:[_.jsx(Pde,B({ref:le,tabIndex:Lt,role:"combobox","aria-controls":ft,"aria-disabled":f?"true":void 0,"aria-expanded":ne?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[x,De].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:j,onMouseDown:f||A?null:K,onBlur:te,onFocus:E},V,{ownerState:_e,className:Oe(V.className,Ne.select,u),id:De,children:Nde(ge)?SL||(SL=_.jsx("span",{className:"notranslate",children:""})):ge})),_.jsx(Mde,B({"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:T,ref:he,"aria-hidden":!0,onChange:Me,tabIndex:-1,disabled:f,className:Ne.nativeInput,autoFocus:a,ownerState:_e},z)),_.jsx(Bde,{as:y,className:Ne.icon,ownerState:_e}),_.jsx(xce,B({id:`menu-${T||""}`,anchorEl:ue,open:ne,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:B({"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ft},v.MenuListProps),slotProps:B({},v.slotProps,{paper:B({},at,{style:B({minWidth:Et},at!=null?at.style:null)})}),children:ot}))]})}),Dde=Rde,Ide=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Lde=["root"],Fde=t=>{const{classes:e}=t;return e},gM={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ts(t)&&t!=="variant",slot:"Root"},Ade=de(dM,gM)(""),Ode=de(_V,gM)(""),$de=de(lV,gM)(""),BV=k.forwardRef(function(e,r){const n=tt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Zse,id:h,input:f,inputProps:m,label:g,labelId:y,MenuProps:b,multiple:x=!1,native:v=!1,onClose:w,onOpen:T,open:P,renderValue:C,SelectDisplayProps:M,variant:E="outlined"}=n,D=Re(n,Ide),I=v?Fce:Dde,A=fa(),W=qc({props:n,muiFormControl:A,states:["variant","error"]}),V=W.variant||E,$=B({},n,{variant:V,classes:a}),L=Fde($),H=Re(L,Lde),z=f||{standard:_.jsx(Ade,{ownerState:$}),outlined:_.jsx(Ode,{label:g,ownerState:$}),filled:_.jsx($de,{ownerState:$})}[V],F=Nr(r,z.ref);return _.jsx(k.Fragment,{children:k.cloneElement(z,B({inputComponent:I,inputProps:B({children:s,error:W.error,IconComponent:c,variant:V,type:void 0,multiple:x},v?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:b,onClose:w,onOpen:T,open:P,renderValue:C,SelectDisplayProps:B({id:h},M)},m,{classes:m?zs(H,m.classes):H},f?f.props.inputProps:{})},(x&&v||u)&&V==="outlined"?{notched:!0}:{},{ref:F,className:Oe(z.props.className,o,L.root)},!f&&{variant:V},D))})});BV.muiName="Select";const MV=BV,Vde=t=>!t||!Al(t);function zde(t){return dt("MuiSlider",t)}const Wde=ht("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),yo=Wde,Hde=t=>{const{open:e}=t;return{offset:Oe(e&&yo.valueLabelOpen),circle:yo.valueLabelCircle,label:yo.valueLabelLabel}};function Ude(t){const{children:e,className:r,value:n}=t,i=Hde(t);return e?k.cloneElement(e,{className:Oe(e.props.className)},_.jsxs(k.Fragment,{children:[e.props.children,_.jsx("span",{className:Oe(i.offset,r),"aria-hidden":!0,children:_.jsx("span",{className:i.circle,children:_.jsx("span",{className:i.label,children:n})})})]})):null}const Gde=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],jde=N4();function _L(t){return t}const Yde=de("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${je(r.color)}`],r.size!=="medium"&&e[`size${je(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${yo.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${yo.dragging}`]:{[`& .${yo.thumb}, & .${yo.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),Xde=de("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),qde=de("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:B({},t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:B({backgroundColor:dw(t.palette[r].main,.62),borderColor:dw(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:cw(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:cw(t.palette[r].main,.5)})))}))]}}),Kde=de("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${je(r.color)}`],r.size!=="medium"&&e[`thumbSize${je(r.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${yo.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{[`&:hover, &.${yo.focusVisible}`]:B({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Vr(t.palette[r].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${yo.active}`]:B({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${Vr(t.palette[r].main,.16)}`})}})),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}}),Qde=de(Ude,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>B({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${yo.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${yo.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),Jde=de("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Vy(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),Zde=de("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Vy(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>B({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),ehe=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:s,classes:a,color:o,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",o&&`color${je(o)}`,l&&`size${je(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${je(l)}`,o&&`thumbColor${je(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ut(u,zde,a)},the=({children:t})=>t,rhe=k.forwardRef(function(e,r){var n,i,s,a,o,l,u,c,h,f,m,g,y,b,x,v,w,T,P,C,M,E,D,I;const A=jde({props:e,name:"MuiSlider"}),W=Gi(),{"aria-label":V,"aria-valuetext":$,"aria-labelledby":L,component:H="span",components:z={},componentsProps:F={},color:U="primary",classes:q,className:ae,disableSwap:he=!1,disabled:be=!1,getAriaLabel:pe,getAriaValueText:ee,marks:ce=!1,max:ke=100,min:Q=0,orientation:Z="horizontal",shiftStep:le=10,size:ue="medium",step:re=1,scale:K=_L,slotProps:J,slots:se,track:Me="normal",valueLabelDisplay:Se="off",valueLabelFormat:j=_L}=A,ne=Re(A,Gde),te=B({},A,{isRtl:W,max:ke,min:Q,classes:q,disabled:be,disableSwap:he,orientation:Z,marks:ce,color:U,size:ue,step:re,shiftStep:le,scale:K,track:Me,valueLabelDisplay:Se,valueLabelFormat:j}),{axisProps:ge,getRootProps:Be,getHiddenInputProps:Te,getThumbProps:Ge,open:ot,active:Et,axis:Lt,focusedThumbIndex:De,range:_e,dragging:Ne,marks:at,values:ft,trackOffset:Ze,trackLeap:Mt,getThumbStyle:qe}=mse(B({},te,{rootRef:r}));te.marked=at.length>0&&at.some(yr=>yr.label),te.dragging=Ne,te.focusedThumbIndex=De;const Ye=ehe(te),xt=(n=(i=se==null?void 0:se.root)!=null?i:z.Root)!=null?n:Yde,vt=(s=(a=se==null?void 0:se.rail)!=null?a:z.Rail)!=null?s:Xde,tr=(o=(l=se==null?void 0:se.track)!=null?l:z.Track)!=null?o:qde,Er=(u=(c=se==null?void 0:se.thumb)!=null?c:z.Thumb)!=null?u:Kde,_r=(h=(f=se==null?void 0:se.valueLabel)!=null?f:z.ValueLabel)!=null?h:Qde,Tn=(m=(g=se==null?void 0:se.mark)!=null?g:z.Mark)!=null?m:Jde,me=(y=(b=se==null?void 0:se.markLabel)!=null?b:z.MarkLabel)!=null?y:Zde,xe=(x=(v=se==null?void 0:se.input)!=null?v:z.Input)!=null?x:"input",$e=(w=J==null?void 0:J.root)!=null?w:F.root,rt=(T=J==null?void 0:J.rail)!=null?T:F.rail,gt=(P=J==null?void 0:J.track)!=null?P:F.track,Ft=(C=J==null?void 0:J.thumb)!=null?C:F.thumb,Rt=(M=J==null?void 0:J.valueLabel)!=null?M:F.valueLabel,At=(E=J==null?void 0:J.mark)!=null?E:F.mark,kt=(D=J==null?void 0:J.markLabel)!=null?D:F.markLabel,Qt=(I=J==null?void 0:J.input)!=null?I:F.input,Or=ir({elementType:xt,getSlotProps:Be,externalSlotProps:$e,externalForwardedProps:ne,additionalProps:B({},Vde(xt)&&{as:H}),ownerState:B({},te,$e==null?void 0:$e.ownerState),className:[Ye.root,ae]}),Vt=ir({elementType:vt,externalSlotProps:rt,ownerState:te,className:Ye.rail}),xr=ir({elementType:tr,externalSlotProps:gt,additionalProps:{style:B({},ge[Lt].offset(Ze),ge[Lt].leap(Mt))},ownerState:B({},te,gt==null?void 0:gt.ownerState),className:Ye.track}),Ur=ir({elementType:Er,getSlotProps:Ge,externalSlotProps:Ft,ownerState:B({},te,Ft==null?void 0:Ft.ownerState),className:Ye.thumb}),Li=ir({elementType:_r,externalSlotProps:Rt,ownerState:B({},te,Rt==null?void 0:Rt.ownerState),className:Ye.valueLabel}),xn=ir({elementType:Tn,externalSlotProps:At,ownerState:te,className:Ye.mark}),Sn=ir({elementType:me,externalSlotProps:kt,ownerState:te,className:Ye.markLabel}),fi=ir({elementType:xe,getSlotProps:Te,externalSlotProps:Qt,ownerState:te});return _.jsxs(xt,B({},Or,{children:[_.jsx(vt,B({},Vt)),_.jsx(tr,B({},xr)),at.filter(yr=>yr.value>=Q&&yr.value<=ke).map((yr,br)=>{const ns=gw(yr.value,Q,ke),Jn=ge[Lt].offset(ns);let Pi;return Me===!1?Pi=ft.indexOf(yr.value)!==-1:Pi=Me==="normal"&&(_e?yr.value>=ft[0]&&yr.value<=ft[ft.length-1]:yr.value<=ft[0])||Me==="inverted"&&(_e?yr.value<=ft[0]||yr.value>=ft[ft.length-1]:yr.value>=ft[0]),_.jsxs(k.Fragment,{children:[_.jsx(Tn,B({"data-index":br},xn,!Al(Tn)&&{markActive:Pi},{style:B({},Jn,xn.style),className:Oe(xn.className,Pi&&Ye.markActive)})),yr.label!=null?_.jsx(me,B({"aria-hidden":!0,"data-index":br},Sn,!Al(me)&&{markLabelActive:Pi},{style:B({},Jn,Sn.style),className:Oe(Ye.markLabel,Sn.className,Pi&&Ye.markLabelActive),children:yr.label})):null]},br)}),ft.map((yr,br)=>{const ns=gw(yr,Q,ke),Jn=ge[Lt].offset(ns),Pi=Se==="off"?the:_r;return _.jsx(Pi,B({},!Al(Pi)&&{valueLabelFormat:j,valueLabelDisplay:Se,value:typeof j=="function"?j(K(yr),br):j,index:br,open:ot===br||Et===br||Se==="on",disabled:be},Li,{children:_.jsx(Er,B({"data-index":br},Ur,{className:Oe(Ye.thumb,Ur.className,Et===br&&Ye.active,De===br&&Ye.focusVisible),style:B({},Jn,qe(br),Ur.style),children:_.jsx(xe,B({"data-index":br,"aria-label":pe?pe(br):V,"aria-valuenow":K(yr),"aria-labelledby":L,"aria-valuetext":ee?ee(K(yr),br):$,value:ft[br]},fi))}))}),br)})]}))}),lm=rhe;function nhe(t){return dt("MuiSwitch",t)}const Ms=ht("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ihe=["className","color","edge","size","sx"],she=N4(),ahe=t=>{const{classes:e,edge:r,size:n,color:i,checked:s,disabled:a}=t,o={root:["root",r&&`edge${je(r)}`,`size${je(n)}`],switchBase:["switchBase",`color${je(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=ut(o,nhe,e);return B({},e,l)},ohe=de("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${je(r.edge)}`],e[`size${je(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ms.thumb}`]:{width:16,height:16},[`& .${Ms.switchBase}`]:{padding:4,[`&.${Ms.checked}`]:{transform:"translateX(16px)"}}}}]}),lhe=de(Z4,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${Ms.input}`]:e.input},r.color!=="default"&&e[`color${je(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Ms.checked}`]:{transform:"translateX(20px)"},[`&.${Ms.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Ms.checked} + .${Ms.track}`]:{opacity:.5},[`&.${Ms.disabled} + .${Ms.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Ms.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Ms.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vr(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ms.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?dw(t.palette[e].main,.62):cw(t.palette[e].main,.55)}`}},[`&.${Ms.checked} + .${Ms.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),uhe=de("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),che=de("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),dhe=k.forwardRef(function(e,r){const n=she({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:o="medium",sx:l}=n,u=Re(n,ihe),c=B({},n,{color:s,edge:a,size:o}),h=ahe(c),f=_.jsx(che,{className:h.thumb,ownerState:c});return _.jsxs(ohe,{className:Oe(h.root,i),sx:l,ownerState:c,children:[_.jsx(lhe,B({type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:c},u,{classes:B({},h,{root:h.switchBase})})),_.jsx(uhe,{className:h.track,ownerState:c})]})}),hhe=dhe;function fhe(t){return dt("MuiTab",t)}const phe=ht("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),dd=phe,ghe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],mhe=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:s,label:a,selected:o,disabled:l}=t,u={root:["root",s&&a&&"labelIcon",`textColor${je(r)}`,n&&"fullWidth",i&&"wrapped",o&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return ut(u,fhe,e)},yhe=de(Co,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${je(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>B({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${dd.iconWrapper}`]:B({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${dd.selected}`]:{opacity:1},[`&.${dd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${dd.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${dd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${dd.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${dd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),bhe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:c,label:h,onChange:f,onClick:m,onFocus:g,selected:y,selectionFollowsFocus:b,textColor:x="inherit",value:v,wrapped:w=!1}=n,T=Re(n,ghe),P=B({},n,{disabled:s,disableFocusRipple:a,selected:y,icon:!!l,iconPosition:u,label:!!h,fullWidth:o,textColor:x,wrapped:w}),C=mhe(P),M=l&&h&&k.isValidElement(l)?k.cloneElement(l,{className:Oe(C.iconWrapper,l.props.className)}):l,E=I=>{!y&&f&&f(I,v),m&&m(I)},D=I=>{b&&!y&&f&&f(I,v),g&&g(I)};return _.jsxs(yhe,B({focusRipple:!a,className:Oe(C.root,i),ref:r,role:"tab","aria-selected":y,disabled:s,onClick:E,onFocus:D,ownerState:P,tabIndex:y?0:-1},T,{children:[u==="top"||u==="start"?_.jsxs(k.Fragment,{children:[M,h]}):_.jsxs(k.Fragment,{children:[h,M]}),c]}))}),vhe=bhe;function whe(t){return dt("MuiToolbar",t)}ht("MuiToolbar",["root","gutters","regular","dense"]);const xhe=["className","component","disableGutters","variant"],She=t=>{const{classes:e,disableGutters:r,variant:n}=t;return ut({root:["root",!r&&"gutters",n]},whe,e)},khe=de("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>B({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),_he=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:o="regular"}=n,l=Re(n,xhe),u=B({},n,{component:s,disableGutters:a,variant:o}),c=She(u);return _.jsx(khe,B({as:s,className:Oe(c.root,i),ref:r,ownerState:u},l))}),Che=_he,The=sn(_.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Phe=sn(_.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Bhe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Mhe(t,e,r,n={},i=()=>{}){const{ease:s=Bhe,duration:a=300}=n;let o=null;const l=e[t];let u=!1;const c=()=>{u=!0},h=f=>{if(u){i(new Error("Animation cancelled"));return}o===null&&(o=f);const m=Math.min(1,(f-o)/a);if(e[t]=s(m)*(r-l)+l,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return l===r?(i(new Error("Element already at target position")),c):(requestAnimationFrame(h),c)}const Nhe=["onChange"],Ehe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Rhe(t){const{onChange:e}=t,r=Re(t,Nhe),n=k.useRef(),i=k.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return Dn(()=>{const a=Oy(()=>{const l=n.current;s(),l!==n.current&&e(n.current)}),o=dl(i.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),k.useEffect(()=>{s(),e(n.current)},[e]),_.jsx("div",B({style:Ehe,ref:i},r))}function Dhe(t){return dt("MuiTabScrollButton",t)}const Ihe=ht("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Lhe=Ihe,Fhe=["className","slots","slotProps","direction","orientation","disabled"],Ahe=t=>{const{classes:e,orientation:r,disabled:n}=t;return ut({root:["root",r,n&&"disabled"]},Dhe,e)},Ohe=de(Co,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})(({ownerState:t})=>B({width:40,flexShrink:0,opacity:.8,[`&.${Lhe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),$he=k.forwardRef(function(e,r){var n,i;const s=tt({props:e,name:"MuiTabScrollButton"}),{className:a,slots:o={},slotProps:l={},direction:u}=s,c=Re(s,Fhe),h=Gi(),f=B({isRtl:h},s),m=Ahe(f),g=(n=o.StartScrollButtonIcon)!=null?n:The,y=(i=o.EndScrollButtonIcon)!=null?i:Phe,b=ir({elementType:g,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),x=ir({elementType:y,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return _.jsx(Ohe,B({component:"div",className:Oe(m.root,a),ref:r,role:null,ownerState:f,tabIndex:null},c,{children:u==="left"?_.jsx(g,B({},b)):_.jsx(y,B({},x))}))}),Vhe=$he;function zhe(t){return dt("MuiTabs",t)}const Whe=ht("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),f_=Whe,Hhe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],CL=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,TL=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Tb=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(t,i);else{i.focus();return}}},Uhe=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=t;return ut({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},zhe,l)},Ghe=de("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${f_.scrollButtons}`]:e.scrollButtons},{[`& .${f_.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>B({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${f_.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),jhe=de("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})(({ownerState:t})=>B({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Yhe=de("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})(({ownerState:t})=>B({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),Xhe=de("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>B({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),qhe=de(Rhe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),PL={},Khe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTabs"}),i=Ua(),s=Gi(),{"aria-label":a,"aria-labelledby":o,action:l,centered:u=!1,children:c,className:h,component:f="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:y,orientation:b="horizontal",ScrollButtonComponent:x=Vhe,scrollButtons:v="auto",selectionFollowsFocus:w,slots:T={},slotProps:P={},TabIndicatorProps:C={},TabScrollButtonProps:M={},textColor:E="primary",value:D,variant:I="standard",visibleScrollbar:A=!1}=n,W=Re(n,Hhe),V=I==="scrollable",$=b==="vertical",L=$?"scrollTop":"scrollLeft",H=$?"top":"left",z=$?"bottom":"right",F=$?"clientHeight":"clientWidth",U=$?"height":"width",q=B({},n,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:b,vertical:$,scrollButtons:v,textColor:E,variant:I,visibleScrollbar:A,fixed:!V,hideScrollbar:V&&!A,scrollableX:V&&!$,scrollableY:V&&$,centered:u&&!V,scrollButtonsHideMobile:!m}),ae=Uhe(q),he=ir({elementType:T.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:q}),be=ir({elementType:T.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:q}),[pe,ee]=k.useState(!1),[ce,ke]=k.useState(PL),[Q,Z]=k.useState(!1),[le,ue]=k.useState(!1),[re,K]=k.useState(!1),[J,se]=k.useState({overflow:"hidden",scrollbarWidth:0}),Me=new Map,Se=k.useRef(null),j=k.useRef(null),ne=()=>{const qe=Se.current;let Ye;if(qe){const vt=qe.getBoundingClientRect();Ye={clientWidth:qe.clientWidth,scrollLeft:qe.scrollLeft,scrollTop:qe.scrollTop,scrollLeftNormalized:ite(qe,s?"rtl":"ltr"),scrollWidth:qe.scrollWidth,top:vt.top,bottom:vt.bottom,left:vt.left,right:vt.right}}let xt;if(qe&&D!==!1){const vt=j.current.children;if(vt.length>0){const tr=vt[Me.get(D)];xt=tr?tr.getBoundingClientRect():null}}return{tabsMeta:Ye,tabMeta:xt}},te=yt(()=>{const{tabsMeta:qe,tabMeta:Ye}=ne();let xt=0,vt;if($)vt="top",Ye&&qe&&(xt=Ye.top-qe.top+qe.scrollTop);else if(vt=s?"right":"left",Ye&&qe){const Er=s?qe.scrollLeftNormalized+qe.clientWidth-qe.scrollWidth:qe.scrollLeft;xt=(s?-1:1)*(Ye[vt]-qe[vt]+Er)}const tr={[vt]:xt,[U]:Ye?Ye[U]:0};if(isNaN(ce[vt])||isNaN(ce[U]))ke(tr);else{const Er=Math.abs(ce[vt]-tr[vt]),_r=Math.abs(ce[U]-tr[U]);(Er>=1||_r>=1)&&ke(tr)}}),ge=(qe,{animation:Ye=!0}={})=>{Ye?Mhe(L,Se.current,qe,{duration:i.transitions.duration.standard}):Se.current[L]=qe},Be=qe=>{let Ye=Se.current[L];$?Ye+=qe:(Ye+=qe*(s?-1:1),Ye*=s&&y4()==="reverse"?-1:1),ge(Ye)},Te=()=>{const qe=Se.current[F];let Ye=0;const xt=Array.from(j.current.children);for(let vt=0;vt<xt.length;vt+=1){const tr=xt[vt];if(Ye+tr[F]>qe){vt===0&&(Ye=qe);break}Ye+=tr[F]}return Ye},Ge=()=>{Be(-1*Te())},ot=()=>{Be(Te())},Et=k.useCallback(qe=>{se({overflow:null,scrollbarWidth:qe})},[]),Lt=()=>{const qe={};qe.scrollbarSizeListener=V?_.jsx(qhe,{onChange:Et,className:Oe(ae.scrollableX,ae.hideScrollbar)}):null;const xt=V&&(v==="auto"&&(Q||le)||v===!0);return qe.scrollButtonStart=xt?_.jsx(x,B({slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:he},orientation:b,direction:s?"right":"left",onClick:Ge,disabled:!Q},M,{className:Oe(ae.scrollButtons,M.className)})):null,qe.scrollButtonEnd=xt?_.jsx(x,B({slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:be},orientation:b,direction:s?"left":"right",onClick:ot,disabled:!le},M,{className:Oe(ae.scrollButtons,M.className)})):null,qe},De=yt(qe=>{const{tabsMeta:Ye,tabMeta:xt}=ne();if(!(!xt||!Ye)){if(xt[H]<Ye[H]){const vt=Ye[L]+(xt[H]-Ye[H]);ge(vt,{animation:qe})}else if(xt[z]>Ye[z]){const vt=Ye[L]+(xt[z]-Ye[z]);ge(vt,{animation:qe})}}}),_e=yt(()=>{V&&v!==!1&&K(!re)});k.useEffect(()=>{const qe=Oy(()=>{Se.current&&te()});let Ye;const xt=Er=>{Er.forEach(_r=>{_r.removedNodes.forEach(Tn=>{var me;(me=Ye)==null||me.unobserve(Tn)}),_r.addedNodes.forEach(Tn=>{var me;(me=Ye)==null||me.observe(Tn)})}),qe(),_e()},vt=dl(Se.current);vt.addEventListener("resize",qe);let tr;return typeof ResizeObserver<"u"&&(Ye=new ResizeObserver(qe),Array.from(j.current.children).forEach(Er=>{Ye.observe(Er)})),typeof MutationObserver<"u"&&(tr=new MutationObserver(xt),tr.observe(j.current,{childList:!0})),()=>{var Er,_r;qe.clear(),vt.removeEventListener("resize",qe),(Er=tr)==null||Er.disconnect(),(_r=Ye)==null||_r.disconnect()}},[te,_e]),k.useEffect(()=>{const qe=Array.from(j.current.children),Ye=qe.length;if(typeof IntersectionObserver<"u"&&Ye>0&&V&&v!==!1){const xt=qe[0],vt=qe[Ye-1],tr={root:Se.current,threshold:.99},Er=xe=>{Z(!xe[0].isIntersecting)},_r=new IntersectionObserver(Er,tr);_r.observe(xt);const Tn=xe=>{ue(!xe[0].isIntersecting)},me=new IntersectionObserver(Tn,tr);return me.observe(vt),()=>{_r.disconnect(),me.disconnect()}}},[V,v,re,c==null?void 0:c.length]),k.useEffect(()=>{ee(!0)},[]),k.useEffect(()=>{te()}),k.useEffect(()=>{De(PL!==ce)},[De,ce]),k.useImperativeHandle(l,()=>({updateIndicator:te,updateScrollButtons:_e}),[te,_e]);const Ne=_.jsx(Xhe,B({},C,{className:Oe(ae.indicator,C.className),ownerState:q,style:B({},ce,C.style)}));let at=0;const ft=k.Children.map(c,qe=>{if(!k.isValidElement(qe))return null;const Ye=qe.props.value===void 0?at:qe.props.value;Me.set(Ye,at);const xt=Ye===D;return at+=1,k.cloneElement(qe,B({fullWidth:I==="fullWidth",indicator:xt&&!pe&&Ne,selected:xt,selectionFollowsFocus:w,onChange:y,textColor:E,value:Ye},at===1&&D===!1&&!qe.props.tabIndex?{tabIndex:0}:{}))}),Ze=qe=>{const Ye=j.current,xt=Kn(Ye).activeElement;if(xt.getAttribute("role")!=="tab")return;let tr=b==="horizontal"?"ArrowLeft":"ArrowUp",Er=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&s&&(tr="ArrowRight",Er="ArrowLeft"),qe.key){case tr:qe.preventDefault(),Tb(Ye,xt,TL);break;case Er:qe.preventDefault(),Tb(Ye,xt,CL);break;case"Home":qe.preventDefault(),Tb(Ye,null,CL);break;case"End":qe.preventDefault(),Tb(Ye,null,TL);break}},Mt=Lt();return _.jsxs(Ghe,B({className:Oe(ae.root,h),ownerState:q,ref:r,as:f},W,{children:[Mt.scrollButtonStart,Mt.scrollbarSizeListener,_.jsxs(jhe,{className:ae.scroller,ownerState:q,style:{overflow:J.overflow,[$?`margin${s?"Left":"Right"}`:"marginBottom"]:A?void 0:-J.scrollbarWidth},ref:Se,children:[_.jsx(Yhe,{"aria-label":a,"aria-labelledby":o,"aria-orientation":b==="vertical"?"vertical":null,className:ae.flexContainer,ownerState:q,onKeyDown:Ze,ref:j,role:"tablist",children:ft}),pe&&Ne]}),Mt.scrollButtonEnd]}))}),Qhe=Khe;function Jhe(t){return dt("MuiTextField",t)}ht("MuiTextField",["root"]);const Zhe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],efe={standard:dM,filled:lV,outlined:_V},tfe=t=>{const{classes:e}=t;return ut({root:["root"]},Jhe,e)},rfe=de(uV,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nfe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:c=!1,error:h=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:g,id:y,InputLabelProps:b,inputProps:x,InputProps:v,inputRef:w,label:T,maxRows:P,minRows:C,multiline:M=!1,name:E,onBlur:D,onChange:I,onFocus:A,placeholder:W,required:V=!1,rows:$,select:L=!1,SelectProps:H,type:z,value:F,variant:U="outlined"}=n,q=Re(n,Zhe),ae=B({},n,{autoFocus:s,color:l,disabled:c,error:h,fullWidth:m,multiline:M,required:V,select:L,variant:U}),he=tfe(ae),be={};U==="outlined"&&(b&&typeof b.shrink<"u"&&(be.notched=b.shrink),be.label=T),L&&((!H||!H.native)&&(be.id=void 0),be["aria-describedby"]=void 0);const pe=Eo(y),ee=g&&pe?`${pe}-helper-text`:void 0,ce=T&&pe?`${pe}-label`:void 0,ke=efe[U],Q=_.jsx(ke,B({"aria-describedby":ee,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:m,multiline:M,name:E,rows:$,maxRows:P,minRows:C,type:z,value:F,id:pe,inputRef:w,onBlur:D,onChange:I,onFocus:A,placeholder:W,inputProps:x},be,v));return _.jsxs(rfe,B({className:Oe(he.root,o),disabled:c,error:h,fullWidth:m,ref:r,required:V,color:l,variant:U,ownerState:ae},q,{children:[T!=null&&T!==""&&_.jsx(mV,B({htmlFor:pe,id:ce},b,{children:T})),L?_.jsx(MV,B({"aria-describedby":ee,id:pe,labelId:ce,value:F,input:Q},H,{children:a})):Q,g&&_.jsx(dV,B({id:ee},f,{children:g}))]}))}),Gm=nfe,mM=sn(_.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),ife=sn(_.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),NV=sn(_.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),sfe=sn(_.jsx("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist"),jy=sn(_.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),EV=sn(_.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),RV=sn(_.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),afe=sn(_.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),ofe=sn(_.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),BL=sn(_.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),lfe=sn(_.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),ufe=sn([_.jsx("circle",{cx:"10.01",cy:"17",r:"2",opacity:".3"},"0"),_.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"MusicNoteTwoTone"),cfe=sn(_.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers"),dfe=sn(_.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove");function $u(t){const[e,r]=k.useState(!1);return _.jsxs(_.Fragment,{children:[_.jsx(Mne,{position:"static",title:"Siuuu",children:_.jsxs(Che,{sx:{display:"flex"},children:[_.jsx(fs,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:()=>{r(!0)},children:_.jsx(ofe,{})}),_.jsx(qr,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title})]})}),_.jsx("div",{id:"basic",style:{flex:1,display:"flex",overflow:"auto",flexDirection:"column"},children:t.children}),_.jsx(ole,{open:e,onClose:()=>{r(!1)},children:_.jsxs(Gy,{children:[_.jsxs(sc,{component:rc,to:"/",children:[_.jsx(ac,{children:_.jsx(afe,{})}),_.jsx(oc,{children:"Home"})]}),_.jsxs(sc,{component:rc,to:"/todo",children:[_.jsx(ac,{children:_.jsx(sfe,{})}),_.jsx(oc,{children:"Todo"})]}),_.jsxs(sc,{component:rc,to:"/counter",children:[_.jsx(ac,{children:_.jsx(cfe,{})}),_.jsx(oc,{children:"Counter"})]}),_.jsxs(sc,{component:rc,to:"/rating",children:[_.jsx(ac,{children:_.jsx(BL,{})}),_.jsx(oc,{children:"Rating"})]}),_.jsxs(sc,{component:rc,to:"/shifts",children:[_.jsx(ac,{children:_.jsx(BL,{})}),_.jsx(oc,{children:"Shifts"})]}),_.jsxs(sc,{component:rc,to:"/music",children:[_.jsx(ac,{children:_.jsx(lfe,{})}),_.jsx(oc,{children:"Chord Generator"})]}),_.jsxs(sc,{component:rc,to:"/progression",children:[_.jsx(ac,{children:_.jsx(ufe,{})}),_.jsx(oc,{children:"Progression"})]}),_.jsxs(sc,{component:rc,to:"/math",children:[_.jsx(ac,{children:_.jsx(ife,{})}),_.jsx(oc,{children:"Math"})]})]})})]})}function hfe(){k.useEffect(()=>{setTimeout(()=>{console.log("This text will be displayed after 2 seconds."),e(!0)},500)},[]);const[t,e]=k.useState(!1);return _.jsx($u,{title:"Home",children:_.jsx(hae,{justifyContent:"center",alignContent:"center",children:t?"This is the content test":_.jsx("div",{style:{width:700,margin:"auto"},children:_.jsx(ooe,{size:700,color:"secondary"})})})})}function ffe({todos:t,onChange:e}){const[r,n]=k.useState(""),[i,s]=k.useState(!1),[a,o]=k.useState(-1),[l,u]=k.useState(""),c=h=>{};return _.jsxs(_.Fragment,{children:[_.jsxs(Um,{children:[_.jsxs(qr,{color:"primary",children:["You have ",t.length," item",t.length<1||t.length>1?"s":""]}),_.jsx(Gy,{children:t.map((h,f)=>_.jsx(bV,{secondaryAction:_.jsxs(_.Fragment,{children:[_.jsx(fs,{edge:"end","aria-label":"edit",onClick:()=>{o(f),u(t[f])},children:_.jsx(RV,{})}),_.jsx(fs,{edge:"end","aria-label":"delete",onClick:()=>{e(t.filter((m,g)=>g!==f))},children:_.jsx(EV,{})})]}),children:h},f))}),_.jsx(Gm,{error:i,id:"outlined",value:r,label:"New item",onChange:h=>n(h.target.value),helperText:i&&"required",onKeyDown:h=>{h.key==="Enter"&&(console.log("dialog"),r.length>0?(s(!1),e([...t,r]),n("")):s(!0))}})]}),_.jsx(Uy,{open:a>=0,onClose:()=>o(-1),disableRestoreFocus:!0,children:_.jsx(Gm,{inputRef:c,autoFocus:!0,error:i,id:"outlined",value:l,onChange:h=>u(h.target.value),helperText:i&&"required",onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),l.length>0?(s(!1),e(t.map((f,m)=>a===m?l:f)),console.log("setting index"),o(-1)):s(!0))}})})]})}function pfe(){const[t,e]=k.useState([[]]),[r,n]=k.useState(0),[i,s]=k.useState(["List 1"]);function a(l){const u=[...t];u[r]=l,e(u)}function o(l,u){n(u)}return _.jsxs($u,{title:"Todo",children:[_.jsxs("div",{style:{display:"flex"},children:[_.jsx(Qhe,{value:r,onChange:o,variant:"scrollable",children:t.map((l,u)=>_.jsx(vhe,{style:{textTransform:"none"},label:u==r?_.jsxs("div",{children:[_.jsx(dM,{inputProps:{maxLength:15},style:{width:120,textAlign:"center"},onChange:c=>{const h=i;return h[u]=c.target.value,s(h)},disableUnderline:!0,size:"small",defaultValue:i[u]}),t.length>1&&_.jsx(fs,{onClick:()=>{e([...t].filter((c,h)=>h!==u)),r>0&&n(r-1),s([...i].filter((c,h)=>h!==u))},children:_.jsx(jy,{})})]}):i[u]},u))}),_.jsx(fs,{onClick:()=>{e([...t,[]]),n(t.length),s([...i,`List ${t.length+1}`])},children:_.jsx(mM,{})})]}),_.jsx(ffe,{todos:t[r],onChange:l=>a(l)})]})}var DV={exports:{}},IV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=k;function gfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mfe=typeof Object.is=="function"?Object.is:gfe,yfe=Yy.useSyncExternalStore,bfe=Yy.useRef,vfe=Yy.useEffect,wfe=Yy.useMemo,xfe=Yy.useDebugValue;IV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=bfe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=wfe(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return h=g}return h=m}if(g=h,mfe(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?g:(c=m,h=y)}var u=!1,c,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var o=yfe(t,s[0],s[1]);return vfe(function(){a.hasValue=!0,a.value=o},[o]),xfe(o),o};DV.exports=IV;var Sfe=DV.exports,Na="default"in qd?Jt:qd,ML=Symbol.for("react-redux-context"),NL=typeof globalThis<"u"?globalThis:{};function kfe(){if(!Na.createContext)return{};const t=NL[ML]??(NL[ML]=new Map);let e=t.get(Na.createContext);return e||(e=Na.createContext(null),t.set(Na.createContext,e)),e}var $c=kfe(),_fe=()=>{throw new Error("uSES not initialized!")};function yM(t=$c){return function(){return Na.useContext(t)}}var LV=yM(),FV=_fe,Cfe=t=>{FV=t},Tfe=(t,e)=>t===e;function Pfe(t=$c){const e=t===$c?LV:yM(t),r=(n,i={})=>{const{equalityFn:s=Tfe,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();Na.useRef(!0);const f=Na.useCallback({[n.name](g){return n(g)}}[n.name],[n,c,a.stabilityCheck]),m=FV(l.addNestedSub,o.getState,u||o.getState,f,s);return Na.useDebugValue(m),m};return Object.assign(r,{withTypes:()=>r}),r}var Bfe=Pfe();function Mfe(t){t()}function Nfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mfe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var EL={notify(){},get:()=>[]};function Efe(t,e){let r,n=EL,i=0,s=!1;function a(y){c();const b=n.subscribe(y);let x=!1;return()=>{x||(x=!0,b(),h())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=Nfe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=EL)}function f(){s||(s=!0,c())}function m(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>n};return g}var Rfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dfe=Rfe?Na.useLayoutEffect:Na.useEffect;function Ife({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=Na.useMemo(()=>{const u=Efe(t);return{store:t,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),o=Na.useMemo(()=>t.getState(),[t]);Dfe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=e||$c;return Na.createElement(l.Provider,{value:a},r)}var Lfe=Ife;function AV(t=$c){const e=t===$c?LV:yM(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var Ffe=AV();function Afe(t=$c){const e=t===$c?Ffe:AV(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ofe=Afe();Cfe(Sfe.useSyncExternalStoreWithSelector);const $fe=Ofe.withTypes(),Vfe=Bfe.withTypes();function as(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",RL=zfe,p_=()=>Math.random().toString(36).substring(7).split("").join("."),Wfe={INIT:`@@redux/INIT${p_()}`,REPLACE:`@@redux/REPLACE${p_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${p_()}`},bw=Wfe;function bM(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function OV(t,e,r){if(typeof t!="function")throw new Error(as(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(as(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(as(1));return r(OV)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((b,x)=>{a.set(x,b)}))}function c(){if(l)throw new Error(as(3));return i}function h(b){if(typeof b!="function")throw new Error(as(4));if(l)throw new Error(as(5));let x=!0;u();const v=o++;return a.set(v,b),function(){if(x){if(l)throw new Error(as(6));x=!1,u(),a.delete(v),s=null}}}function f(b){if(!bM(b))throw new Error(as(7));if(typeof b.type>"u")throw new Error(as(8));if(typeof b.type!="string")throw new Error(as(17));if(l)throw new Error(as(9));try{l=!0,i=n(i,b)}finally{l=!1}return(s=a).forEach(v=>{v()}),b}function m(b){if(typeof b!="function")throw new Error(as(10));n=b,f({type:bw.REPLACE})}function g(){const b=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(as(11));function v(){const T=x;T.next&&T.next(c())}return v(),{unsubscribe:b(v)}},[RL](){return this}}}return f({type:bw.INIT}),{dispatch:f,subscribe:h,getState:c,replaceReducer:m,[RL]:g}}function Hfe(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:bw.INIT})>"u")throw new Error(as(12));if(typeof r(void 0,{type:bw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(as(13))})}function Ufe(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Hfe(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const h=n[c],f=r[h],m=a[h],g=f(m,o);if(typeof g>"u")throw o&&o.type,new Error(as(14));u[h]=g,l=l||g!==m}return l=l||n.length!==Object.keys(a).length,l?u:a}}function vw(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Gfe(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(as(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=vw(...o)(i.dispatch),{...i,dispatch:s}}}function jfe(t){return bM(t)&&"type"in t&&typeof t.type=="string"}var $V=Symbol.for("immer-nothing"),DL=Symbol.for("immer-draftable"),Aa=Symbol.for("immer-state");function Ko(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ep=Object.getPrototypeOf;function Vc(t){return!!t&&!!t[Aa]}function Eu(t){var e;return t?VV(t)||Array.isArray(t)||!!t[DL]||!!((e=t.constructor)!=null&&e[DL])||B1(t)||M1(t):!1}var Yfe=Object.prototype.constructor.toString();function VV(t){if(!t||typeof t!="object")return!1;const e=ep(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Yfe}function ww(t,e){P1(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function P1(t){const e=t[Aa];return e?e.type_:Array.isArray(t)?1:B1(t)?2:M1(t)?3:0}function RT(t,e){return P1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zV(t,e,r){const n=P1(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Xfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function B1(t){return t instanceof Map}function M1(t){return t instanceof Set}function wd(t){return t.copy_||t.base_}function DT(t,e){if(B1(t))return new Map(t);if(M1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&VV(t))return ep(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[Aa];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(ep(t),r)}function vM(t,e=!1){return N1(t)||Vc(t)||!Eu(t)||(P1(t)>1&&(t.set=t.add=t.clear=t.delete=qfe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>vM(n,!0))),t}function qfe(){Ko(2)}function N1(t){return Object.isFrozen(t)}var Kfe={};function sh(t){const e=Kfe[t];return e||Ko(0,t),e}var jm;function WV(){return jm}function Qfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function IL(t,e){e&&(sh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function IT(t){LT(t),t.drafts_.forEach(Jfe),t.drafts_=null}function LT(t){t===jm&&(jm=t.parent_)}function LL(t){return jm=Qfe(jm,t)}function Jfe(t){const e=t[Aa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function FL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Aa].modified_&&(IT(e),Ko(4)),Eu(t)&&(t=xw(e,t),e.parent_||Sw(e,t)),e.patches_&&sh("Patches").generateReplacementPatches_(r[Aa].base_,t,e.patches_,e.inversePatches_)):t=xw(e,r,[]),IT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$V?t:void 0}function xw(t,e,r){if(N1(e))return e;const n=e[Aa];if(!n)return ww(e,(i,s)=>AL(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Sw(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),ww(s,(o,l)=>AL(t,n,i,o,l,r,a)),Sw(t,i,!1),r&&t.patches_&&sh("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function AL(t,e,r,n,i,s,a){if(Vc(i)){const o=s&&e&&e.type_!==3&&!RT(e.assigned_,n)?s.concat(n):void 0,l=xw(t,i,o);if(zV(r,n,l),Vc(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Eu(i)&&!N1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;xw(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Sw(t,i)}}function Sw(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vM(e,r)}function Zfe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:WV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=wM;r&&(i=[n],s=Ym);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var wM={get(t,e){if(e===Aa)return t;const r=wd(t);if(!RT(r,e))return epe(t,r,e);const n=r[e];return t.finalized_||!Eu(n)?n:n===g_(t.base_,e)?(m_(t),t.copy_[e]=AT(n,t)):n},has(t,e){return e in wd(t)},ownKeys(t){return Reflect.ownKeys(wd(t))},set(t,e,r){const n=HV(wd(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=g_(wd(t),e),s=i==null?void 0:i[Aa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Xfe(r,i)&&(r!==void 0||RT(t.base_,e)))return!0;m_(t),FT(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return g_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,m_(t),FT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=wd(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ko(11)},getPrototypeOf(t){return ep(t.base_)},setPrototypeOf(){Ko(12)}},Ym={};ww(wM,(t,e)=>{Ym[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ym.deleteProperty=function(t,e){return Ym.set.call(this,t,e,void 0)};Ym.set=function(t,e,r){return wM.set.call(this,t[0],e,r,t[0])};function g_(t,e){const r=t[Aa];return(r?wd(r):t)[e]}function epe(t,e,r){var i;const n=HV(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function HV(t,e){if(!(e in t))return;let r=ep(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=ep(r)}}function FT(t){t.modified_||(t.modified_=!0,t.parent_&&FT(t.parent_))}function m_(t){t.copy_||(t.copy_=DT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...u){return a.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Ko(6),n!==void 0&&typeof n!="function"&&Ko(7);let i;if(Eu(e)){const s=LL(this),a=AT(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?IT(s):LT(s)}return IL(s,n),FL(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===$V&&(i=void 0),this.autoFreeze_&&vM(i,!0),n){const s=[],a=[];sh("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Ko(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Eu(t)||Ko(8),Vc(t)&&(t=UV(t));const e=LL(this),r=AT(t,void 0);return r[Aa].isManual_=!0,LT(e),r}finishDraft(t,e){const r=t&&t[Aa];(!r||!r.isManual_)&&Ko(9);const{scope_:n}=r;return IL(n,e),FL(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=sh("Patches").applyPatches_;return Vc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function AT(t,e){const r=B1(t)?sh("MapSet").proxyMap_(t,e):M1(t)?sh("MapSet").proxySet_(t,e):Zfe(t,e);return(e?e.scope_:WV()).drafts_.push(r),r}function UV(t){return Vc(t)||Ko(10,t),GV(t)}function GV(t){if(!Eu(t)||N1(t))return t;const e=t[Aa];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=DT(t,e.scope_.immer_.useStrictShallowCopy_)}else r=DT(t,!0);return ww(r,(n,i)=>{zV(r,n,GV(i))}),e&&(e.finalized_=!1),r}var Oa=new tpe,jV=Oa.produce;Oa.produceWithPatches.bind(Oa);Oa.setAutoFreeze.bind(Oa);Oa.setUseStrictShallowCopy.bind(Oa);Oa.applyPatches.bind(Oa);Oa.createDraft.bind(Oa);Oa.finishDraft.bind(Oa);function rpe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function npe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ipe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var OL=t=>Array.isArray(t)?t:[t];function spe(t){const e=Array.isArray(t[0])?t[0]:t;return ipe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ape(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var ope=class{constructor(t){this.value=t}deref(){return this.value}},lpe=typeof WeakRef<"u"?WeakRef:ope,upe=0,$L=1;function Pb(){return{s:upe,v:void 0,o:null,p:null}}function xM(t,e={}){let r=Pb();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(g);b===void 0?(o=Pb(),y.set(g,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(g);b===void 0?(o=Pb(),y.set(g,o)):o=b}}const u=o;let c;if(o.s===$L?c=o.v:(c=t.apply(null,arguments),s++),u.s=$L,n){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&n(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new lpe(c):c}return u.v=c,c}return a.clearCache=()=>{r=Pb(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function YV(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),rpe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:m=xM,argsMemoizeOptions:g=[],devModeChecks:y={}}=c,b=OL(f),x=OL(g),v=spe(i),w=h(function(){return s++,u.apply(null,arguments)},...b),T=m(function(){a++;const C=ape(v,arguments);return o=w.apply(null,C),o},...x);return Object.assign(T,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var cpe=YV(xM),dpe=Object.assign((t,e=cpe)=>{npe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>dpe});function XV(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var hpe=XV(),fpe=XV,ppe=(...t)=>{const e=YV(...t),r=Object.assign((...n)=>{const i=e(...n),s=(a,...o)=>i(Vc(a)?UV(a):a,...o);return Object.assign(s,i),s},{withTypes:()=>r});return r};ppe(xM);var gpe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vw:vw.apply(null,arguments)};function tp(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(da(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>jfe(n)&&n.type===t,r}var qV=class Og extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Og.prototype)}static get[Symbol.species](){return Og}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Og(...e[0].concat(this)):new Og(...e.concat(this))}};function VL(t){return Eu(t)?jV(t,()=>{}):t}function zL(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(da(10));const n=r.insert(e,t);return t.set(e,n),n}function mpe(t){return typeof t=="boolean"}var ype=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new qV;return r&&(mpe(r)?a.push(hpe):a.push(fpe(r.extraArgument))),a},bpe="RTK_autoBatch",KV=t=>e=>{setTimeout(e,t)},vpe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KV(10),wpe=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?vpe:t.type==="callback"?t.queueNotification:KV(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const h=()=>i&&c(),f=n.subscribe(h);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[bpe]),s=!i,s&&(a||(a=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},xpe=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new qV(t);return n&&i.push(wpe(typeof n=="object"?n:void 0)),i},Spe=!0;function kpe(t){const e=ype(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(bM(r))o=Ufe(r);else throw new Error(da(1));let l;typeof n=="function"?l=n(e):l=e();let u=vw;i&&(u=gpe({trace:!Spe,...typeof i=="object"&&i}));const c=Gfe(...l),h=xpe(c);let f=typeof a=="function"?a(h):h();const m=u(...f);return OV(o,s,m)}function QV(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(da(28));if(o in e)throw new Error(da(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function _pe(t){return typeof t=="function"}function Cpe(t,e){let[r,n,i]=QV(e),s;if(_pe(t))s=()=>VL(t());else{const o=VL(t);s=()=>o}function a(o=s(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(Vc(c)){const m=h(c,l);return m===void 0?c:m}else{if(Eu(c))return jV(c,f=>h(f,l));{const f=h(c,l);if(f===void 0){if(c===null)return c;throw new Error(da(9))}return f}}return c},o)}return a.getInitialState=s,a}var Tpe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ppe=(t=21)=>{let e="",r=t;for(;r--;)e+=Tpe[Math.random()*64|0];return e},Bpe=Symbol.for("rtk-slice-createasyncthunk");function Mpe(t,e){return`${t}/${e}`}function Npe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Bpe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(da(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Dpe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,T){const P=typeof w=="string"?w:w.type;if(!P)throw new Error(da(12));if(P in u.sliceCaseReducersByType)throw new Error(da(13));return u.sliceCaseReducersByType[P]=T,c},addMatcher(w,T){return u.sliceMatchers.push({matcher:w,reducer:T}),c},exposeAction(w,T){return u.actionCreators[w]=T,c},exposeCaseReducer(w,T){return u.sliceCaseReducersByName[w]=T,c}};l.forEach(w=>{const T=o[w],P={reducerName:w,type:Mpe(s,w),createNotation:typeof i.reducers=="function"};Lpe(T)?Ape(P,T,c,e):Ipe(P,T,c)});function h(){const[w={},T=[],P=void 0]=typeof i.extraReducers=="function"?QV(i.extraReducers):[i.extraReducers],C={...w,...u.sliceCaseReducersByType};return Cpe(i.initialState,M=>{for(let E in C)M.addCase(E,C[E]);for(let E of u.sliceMatchers)M.addMatcher(E.matcher,E.reducer);for(let E of T)M.addMatcher(E.matcher,E.reducer);P&&M.addDefaultCase(P)})}const f=w=>w,m=new Map;let g;function y(w,T){return g||(g=h()),g(w,T)}function b(){return g||(g=h()),g.getInitialState()}function x(w,T=!1){function P(M){let E=M[w];return typeof E>"u"&&T&&(E=b()),E}function C(M=f){const E=zL(m,T,{insert:()=>new WeakMap});return zL(E,M,{insert:()=>{const D={};for(const[I,A]of Object.entries(i.selectors??{}))D[I]=Epe(A,M,b,T);return D}})}return{reducerPath:w,getSelectors:C,get selectors(){return C(P)},selectSlice:P}}const v={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...x(a),injectInto(w,{reducerPath:T,...P}={}){const C=T??a;return w.inject({reducerPath:C,reducer:y},P),{...v,...x(C,!0)}}};return v}}function Epe(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Rpe=Npe();function Dpe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Ipe({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Fpe(n))throw new Error(da(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?tp(t,a):tp(t))}function Lpe(t){return t._reducerDefinitionType==="asyncThunk"}function Fpe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ape({type:t,reducerName:e},r,n,i){if(!i)throw new Error(da(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=r,h=i(t,s,c);n.exposeAction(e,h),a&&n.addCase(h.fulfilled,a),o&&n.addCase(h.pending,o),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:a||Bb,pending:o||Bb,rejected:l||Bb,settled:u||Bb})}function Bb(){}var Ope=(t,e)=>{if(typeof t!="function")throw new Error(da(32))},SM="listenerMiddleware",$pe=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=tp(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(da(21));return Ope(s),{predicate:i,type:e,effect:s}},Vpe=Object.assign(t=>{const{type:e,predicate:r,effect:n}=$pe(t);return{id:Ppe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(da(22))}}},{withTypes:()=>Vpe}),zpe=Object.assign(tp(`${SM}/add`),{withTypes:()=>zpe});tp(`${SM}/removeAll`);var Wpe=Object.assign(tp(`${SM}/remove`),{withTypes:()=>Wpe});function da(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Hpe={value:0,lastChange:""},JV=Rpe({name:"counter",initialState:Hpe,reducers:{increment(t){t.value+=1},incrementByAmount(t,e){t.value+=e.payload,t.lastChange=e.type}}}),{increment:cEe,incrementByAmount:WL}=JV.actions,Upe=JV.reducer;function Gpe(){const t=$fe(),[e,r]=k.useState(50),n=Vfe(o=>o.counter.value);function i(){const o=WL(e);t(o)}function s(){const o=WL(-e);t(o)}const a=(o,l)=>{r(l)};return _.jsxs($u,{title:"Counter",children:[_.jsx(fs,{onClick:s,children:_.jsx(dfe,{})}),_.jsx(fs,{onClick:i,children:_.jsx(mM,{})}),_.jsx(Um,{children:_.jsx(lm,{value:e,onChange:a,valueLabelDisplay:"on"})}),_.jsx(qr,{variant:"h1",align:"center",children:n})]})}function jpe(){const[t,e]=k.useState(1),r=(n,i)=>{e(i)};return _.jsx($u,{title:"Rating",children:_.jsxs(Um,{children:[_.jsx(Nae,{children:_.jsx(Um,{children:_.jsx(_de,{value:t,onChange:r,size:"large",max:46})})}),_.jsxs(qr,{color:"pink",variant:"h1",children:["The rating you have chosen is ",t]})]})})}function Ype(){return _.jsxs("div",{style:{flexDirection:"column",display:"flex",height:"100%",border:"10px solid green",boxSizing:"border-box"},children:[_.jsx("div",{style:{border:"3px solid blue",height:"100px"}}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",border:"3px solid orange",flex:1},children:[_.jsx("div",{style:{border:"3px solid yellow",width:"100px"}}),_.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",border:"3px solid red",flex:1},children:_.jsx("button",{children:"sIUUUU"})})]}),_.jsx("div",{style:{height:"100px",border:"3px solid pink"}})]})}const Xpe=["localeText"],OT=k.createContext(null),kM=function(e){const{localeText:r}=e,n=Re(e,Xpe),{utils:i,localeText:s}=k.useContext(OT)??{utils:void 0,localeText:void 0},a=tt({props:n,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:l,dateFormats:u,dateLibInstance:c,adapterLocale:h,localeText:f}=a,m=k.useMemo(()=>B({},f,s,r),[f,s,r]),g=k.useMemo(()=>{if(!l)return i||null;const x=new l({locale:h,formats:u,instance:c});if(!x.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return x},[l,h,u,c,i]),y=k.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),b=k.useMemo(()=>({utils:g,defaultDates:y,localeText:m}),[y,g,m]);return _.jsx(OT.Provider,{value:b,children:o})},qpe=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:B({},t)}}}}),ZV={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,r)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${r.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Kpe=ZV;qpe(ZV);const yh=()=>{const t=k.useContext(OT);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=k.useMemo(()=>B({},Kpe,t.localeText),[t.localeText]);return k.useMemo(()=>B({},t,{localeText:e}),[t,e])},Ar=()=>yh().utils,Xy=()=>yh().defaultDates,_s=()=>yh().localeText,bh=t=>{const e=Ar(),r=k.useRef();return r.current===void 0&&(r.current=e.date(void 0,t)),r.current},Qpe=sn(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Jpe=sn(_.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Zpe=sn(_.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),ege=sn(_.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),tge=sn(_.jsxs(k.Fragment,{children:[_.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),_.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");sn(_.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");sn(_.jsxs(k.Fragment,{children:[_.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),_.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const rge=sn(_.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function nge(t){return dt("MuiPickersArrowSwitcher",t)}ht("MuiPickersArrowSwitcher",["root","spacer","button"]);const ige=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],sge=["ownerState"],age=["ownerState"],oge=de("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),lge=de("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),HL=de(fs,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),uge=t=>{const{classes:e}=t;return ut({root:["root"],spacer:["spacer"],button:["button"]},nge,e)},e6=k.forwardRef(function(e,r){const n=Gi(),i=tt({props:e,name:"MuiPickersArrowSwitcher"}),{children:s,className:a,slots:o,slotProps:l,isNextDisabled:u,isNextHidden:c,onGoToNext:h,nextLabel:f,isPreviousDisabled:m,isPreviousHidden:g,onGoToPrevious:y,previousLabel:b,labelId:x}=i,v=Re(i,ige),w=i,T=uge(w),P={isDisabled:u,isHidden:c,goTo:h,label:f},C={isDisabled:m,isHidden:g,goTo:y,label:b},M=(o==null?void 0:o.previousIconButton)??HL,E=ir({elementType:M,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"end",onClick:C.goTo},ownerState:B({},w,{hidden:C.isHidden}),className:T.button}),D=(o==null?void 0:o.nextIconButton)??HL,I=ir({elementType:D,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:B({},w,{hidden:P.isHidden}),className:T.button}),A=(o==null?void 0:o.leftArrowIcon)??Jpe,W=ir({elementType:A,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),V=Re(W,sge),$=(o==null?void 0:o.rightArrowIcon)??Zpe,L=ir({elementType:$,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),H=Re(L,age);return _.jsxs(oge,B({ref:r,className:Oe(T.root,a),ownerState:w},v,{children:[_.jsx(M,B({},E,{children:n?_.jsx($,B({},H)):_.jsx(A,B({},V))})),s?_.jsx(qr,{variant:"subtitle1",component:"span",id:x,children:s}):_.jsx(lge,{className:T.spacer,ownerState:w}),_.jsx(D,B({},I,{children:n?_.jsx(A,B({},V)):_.jsx($,B({},H))}))]}))}),Bl=(t,e)=>t.length!==e.length?!1:e.every(r=>t.includes(r)),t6=({openTo:t,defaultOpenTo:e,views:r,defaultViews:n})=>{const i=r??n;let s;if(t!=null)s=t;else if(i.includes(e))s=e;else if(i.length>0)s=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:s}},r6=["hours","minutes","seconds"],Xm=t=>r6.includes(t),cge=t=>r6.includes(t)||t==="meridiem",dge=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,qm=(t,e,r)=>r&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,hge=(t,e,r,n)=>{const i=qm(n.getHours(t),e,r);return n.setHours(t,i)},UL=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),qy=(t,e)=>(r,n)=>t?e.isAfter(r,n):UL(r,e)>UL(n,e),n6=(t,{format:e,views:r,ampm:n})=>{if(e!=null)return e;const i=t.formats;return Bl(r,["hours"])?n?`${i.hours12h} ${i.meridiem}`:i.hours24h:Bl(r,["minutes"])?i.minutes:Bl(r,["seconds"])?i.seconds:Bl(r,["minutes","seconds"])?`${i.minutes}:${i.seconds}`:Bl(r,["hours","minutes","seconds"])?n?`${i.hours12h}:${i.minutes}:${i.seconds} ${i.meridiem}`:`${i.hours24h}:${i.minutes}:${i.seconds}`:n?`${i.hours12h}:${i.minutes} ${i.meridiem}`:`${i.hours24h}:${i.minutes}`};function Ky({onChange:t,onViewChange:e,openTo:r,view:n,views:i,autoFocus:s,focusedView:a,onFocusedViewChange:o}){const l=k.useRef(r),u=k.useRef(i),c=k.useRef(i.includes(r)?r:i[0]),[h,f]=La({name:"useViews",state:"view",controlled:n,default:c.current}),m=k.useRef(s?h:null),[g,y]=La({name:"useViews",state:"focusedView",controlled:a,default:m.current});k.useEffect(()=>{(l.current&&l.current!==r||u.current&&u.current.some(M=>!i.includes(M)))&&(f(i.includes(r)?r:i[0]),u.current=i,l.current=r)},[r,f,h,i]);const b=i.indexOf(h),x=i[b-1]??null,v=i[b+1]??null,w=yt((M,E)=>{y(E?M:D=>M===D?null:D),o==null||o(M,E)}),T=yt(M=>{w(M,!0),M!==h&&(f(M),e&&e(M))}),P=yt(()=>{v&&T(v)}),C=yt((M,E,D)=>{const I=E==="finish",A=D?i.indexOf(D)<i.length-1:!!v;if(t(M,I&&A?"partial":E,D),D&&D!==h){const V=i[i.indexOf(D)+1];V&&T(V)}else I&&P()});return{view:h,setView:T,focusedView:g,setFocusedView:w,nextView:v,previousView:x,defaultView:i.includes(r)?r:i[0],goToNextView:P,setValueAndGoToNextView:C}}function fge(t,{disableFuture:e,maxDate:r,timezone:n}){const i=Ar();return k.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isBefore(s,r)?s:r);return!i.isAfter(a,t)},[e,r,t,i,n])}function pge(t,{disablePast:e,minDate:r,timezone:n}){const i=Ar();return k.useMemo(()=>{const s=i.date(void 0,n),a=i.startOfMonth(e&&i.isAfter(s,r)?s:r);return!i.isBefore(a,t)},[e,r,t,i,n])}function _M(t,e,r,n){const i=Ar(),s=dge(t,i),a=k.useCallback(o=>{const l=t==null?null:hge(t,o,!!e,i);r(l,n??"partial")},[e,t,r,n,i]);return{meridiemMode:s,handleMeridiemChange:a}}const Km=36,E1=2,R1=320,gge=280,CM=336,i6=232,mge=48,D1=de("div")({overflow:"hidden",width:R1,maxHeight:CM,display:"flex",flexDirection:"column",margin:"0 auto"});function yge(t){return dt("MuiTimeClock",t)}ht("MuiTimeClock",["root","arrowSwitcher"]);const rp=220,$l=36,Qm={x:rp/2,y:rp/2},s6={x:Qm.x,y:0},bge=s6.x-Qm.x,vge=s6.y-Qm.y,wge=t=>t*(180/Math.PI),a6=(t,e,r)=>{const n=e-Qm.x,i=r-Qm.y,s=Math.atan2(bge,vge)-Math.atan2(n,i);let a=wge(s);a=Math.round(a/t)*t,a%=360;const o=Math.floor(a/t)||0,l=n**2+i**2,u=Math.sqrt(l);return{value:o,distance:u}},xge=(t,e,r=1)=>{const n=r*6;let{value:i}=a6(n,t,e);return i=i*r%60,i},Sge=(t,e,r)=>{const{value:n,distance:i}=a6(30,t,e);let s=n||12;return r?s%=12:i<rp/2-$l&&(s+=12,s%=24),s};function kge(t){return dt("MuiClockPointer",t)}ht("MuiClockPointer",["root","thumb"]);const _ge=["className","hasSelected","isInner","type","viewValue"],Cge=t=>{const{classes:e}=t;return ut({root:["root"],thumb:["thumb"]},kge,e)},Tge=de("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Pge=de("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${$l/2}px)`,border:`${($l-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function Bge(t){const e=tt({props:t,name:"MuiClockPointer"}),{className:r,isInner:n,type:i,viewValue:s}=e,a=Re(e,_ge),o=k.useRef(i);k.useEffect(()=>{o.current=i},[i]);const l=B({},e,{shouldAnimate:o.current!==i}),u=Cge(l),c=()=>{let f=360/(i==="hours"?12:60)*s;return i==="hours"&&s>12&&(f-=360),{height:Math.round((n?.26:.4)*rp),transform:`rotateZ(${f}deg)`}};return _.jsx(Tge,B({style:c(),className:Oe(r,u.root),ownerState:l},a,{children:_.jsx(Pge,{ownerState:l,className:u.thumb})}))}function Mge(t){return dt("MuiClock",t)}ht("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const kw=(t,e,r)=>{let n=e;return n=t.setHours(n,t.getHours(r)),n=t.setMinutes(n,t.getMinutes(r)),n=t.setSeconds(n,t.getSeconds(r)),n},um=({date:t,disableFuture:e,disablePast:r,maxDate:n,minDate:i,isDateDisabled:s,utils:a,timezone:o})=>{const l=kw(a,a.date(void 0,o),t);r&&a.isBefore(i,l)&&(i=l),e&&a.isAfter(n,l)&&(n=l);let u=t,c=t;for(a.isBefore(t,i)&&(u=i,c=null),a.isAfter(t,n)&&(c&&(c=n),u=null);u||c;){if(u&&a.isAfter(u,n)&&(u=null),c&&a.isBefore(c,i)&&(c=null),u){if(!s(u))return u;u=a.addDays(u,1)}if(c){if(!s(c))return c;c=a.addDays(c,-1)}}return null},Nge=(t,e)=>e==null||!t.isValid(e)?null:e,Bo=(t,e,r)=>e==null||!t.isValid(e)?r:e,Ege=(t,e,r)=>!t.isValid(e)&&e!=null&&!t.isValid(r)&&r!=null?!0:t.isEqual(e,r),TM=(t,e)=>{const n=[t.startOfYear(e)];for(;n.length<12;){const i=n[n.length-1];n.push(t.addMonths(i,1))}return n},PM=(t,e,r)=>r==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),wc=(t,e)=>{const r=t.setHours(t.date(),e==="am"?2:14);return t.format(r,"meridiem")},Rge=["year","month","day"],GL=t=>Rge.includes(t),BM=(t,{format:e,views:r},n)=>{if(e!=null)return e;const i=t.formats;return Bl(r,["year"])?i.year:Bl(r,["month"])?i.month:Bl(r,["day"])?i.dayOfMonth:Bl(r,["month","year"])?`${i.month} ${i.year}`:Bl(r,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Dge=(t,e)=>{const r=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>t.addDays(r,n))},Ige=t=>{const{classes:e}=t;return ut({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},Mge,e)},Lge=de("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),Fge=de("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Age=de("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),Oge=de("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),$ge=de("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Vge=de(fs,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:$l,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),zge=de(fs,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:$l,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]})),jL=de(qr,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Wge(t){const e=tt({props:t,name:"MuiClock"}),{ampm:r,ampmInClock:n,autoFocus:i,children:s,value:a,handleMeridiemChange:o,isTimeDisabled:l,meridiemMode:u,minutesStep:c=1,onChange:h,selectedId:f,type:m,viewValue:g,disabled:y=!1,readOnly:b,className:x}=e,v=e,w=Ar(),T=_s(),P=k.useRef(!1),C=Ige(v),M=l(g,m),E=!r&&m==="hours"&&(g<1||g>12),D=(U,q)=>{y||b||l(U,m)||h(U,q)},I=(U,q)=>{let{offsetX:ae,offsetY:he}=U;if(ae===void 0){const pe=U.target.getBoundingClientRect();ae=U.changedTouches[0].clientX-pe.left,he=U.changedTouches[0].clientY-pe.top}const be=m==="seconds"||m==="minutes"?xge(ae,he,c):Sge(ae,he,!!r);D(be,q)},A=U=>{P.current=!0,I(U,"shallow")},W=U=>{P.current&&(I(U,"finish"),P.current=!1)},V=U=>{U.buttons>0&&I(U.nativeEvent,"shallow")},$=U=>{P.current&&(P.current=!1),I(U.nativeEvent,"finish")},L=k.useMemo(()=>m==="hours"?!0:g%5===0,[m,g]),H=m==="minutes"?c:1,z=k.useRef(null);Dn(()=>{i&&z.current.focus()},[i]);const F=U=>{if(!P.current)switch(U.key){case"Home":D(0,"partial"),U.preventDefault();break;case"End":D(m==="minutes"?59:23,"partial"),U.preventDefault();break;case"ArrowUp":D(g+H,"partial"),U.preventDefault();break;case"ArrowDown":D(g-H,"partial"),U.preventDefault();break}};return _.jsxs(Lge,{className:Oe(x,C.root),children:[_.jsxs(Fge,{className:C.clock,children:[_.jsx(Oge,{onTouchMove:A,onTouchEnd:W,onMouseUp:$,onMouseMove:V,ownerState:{disabled:y},className:C.squareMask}),!M&&_.jsxs(k.Fragment,{children:[_.jsx($ge,{className:C.pin}),a!=null&&_.jsx(Bge,{type:m,viewValue:g,isInner:E,hasSelected:L})]}),_.jsx(Age,{"aria-activedescendant":f,"aria-label":T.clockLabelText(m,a,w),ref:z,role:"listbox",onKeyDown:F,tabIndex:0,className:C.wrapper,children:s})]}),r&&n&&_.jsxs(k.Fragment,{children:[_.jsx(Vge,{onClick:b?void 0:()=>o("am"),disabled:y||u===null,ownerState:v,className:C.amButton,title:wc(w,"am"),children:_.jsx(jL,{variant:"caption",className:C.meridiemText,children:wc(w,"am")})}),_.jsx(zge,{disabled:y||u===null,onClick:b?void 0:()=>o("pm"),ownerState:v,className:C.pmButton,title:wc(w,"pm"),children:_.jsx(jL,{variant:"caption",className:C.meridiemText,children:wc(w,"pm")})})]})]})}function Hge(t){return dt("MuiClockNumber",t)}const Mb=ht("MuiClockNumber",["root","selected","disabled"]),Uge=["className","disabled","index","inner","label","selected"],Gge=t=>{const{classes:e,selected:r,disabled:n}=t;return ut({root:["root",r&&"selected",n&&"disabled"]},Hge,e)},jge=de("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${Mb.disabled}`]:e.disabled},{[`&.${Mb.selected}`]:e.selected}]})(({theme:t})=>({height:$l,width:$l,position:"absolute",left:`calc((100% - ${$l}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Mb.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Mb.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:B({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function o6(t){const e=tt({props:t,name:"MuiClockNumber"}),{className:r,disabled:n,index:i,inner:s,label:a,selected:o}=e,l=Re(e,Uge),u=e,c=Gge(u),h=i%12/12*Math.PI*2-Math.PI/2,f=(rp-$l-2)/2*(s?.65:1),m=Math.round(Math.cos(h)*f),g=Math.round(Math.sin(h)*f);return _.jsx(jge,B({className:Oe(r,c.root),"aria-disabled":n?!0:void 0,"aria-selected":o?!0:void 0,role:"option",style:{transform:`translate(${m}px, ${g+(rp-$l)/2}px`},ownerState:u},l,{children:a}))}const Yge=({ampm:t,value:e,getClockNumberText:r,isDisabled:n,selectedId:i,utils:s})=>{const a=e?s.getHours(e):null,o=[],l=t?1:0,u=t?12:23,c=h=>a===null?!1:t?h===12?a===12||a===0:a===h||a-12===h:a===h;for(let h=l;h<=u;h+=1){let f=h.toString();h===0&&(f="00");const m=!t&&(h===0||h>12);f=s.formatNumber(f);const g=c(h);o.push(_.jsx(o6,{id:g?i:void 0,index:h,inner:m,selected:g,disabled:n(h),label:f,"aria-label":r(f)},h))}return o},YL=({utils:t,value:e,isDisabled:r,getClockNumberText:n,selectedId:i})=>{const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(([a,o],l)=>{const u=a===e;return _.jsx(o6,{label:o,id:u?i:void 0,index:l+1,inner:!1,disabled:r(a),selected:u,"aria-label":n(o)},a)})},MM=({timezone:t,value:e,defaultValue:r,onChange:n,valueManager:i})=>{const s=Ar(),a=k.useRef(r),o=e??a.current??i.emptyValue,l=k.useMemo(()=>i.getTimezone(s,o),[s,i,o]),u=yt(m=>l==null?m:i.setTimezone(s,l,m)),c=t??l??"default",h=k.useMemo(()=>i.setTimezone(s,c,o),[i,s,c,o]),f=yt((m,...g)=>{const y=u(m);n==null||n(y,...g)});return{value:h,handleValueChange:f,timezone:c}},Tp=({name:t,timezone:e,value:r,defaultValue:n,onChange:i,valueManager:s})=>{const[a,o]=La({name:t,state:"value",controlled:r,default:n??s.emptyValue}),l=yt((u,...c)=>{o(u),i==null||i(u,...c)});return MM({timezone:e,value:a,defaultValue:void 0,onChange:l,valueManager:s})},Yo={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Xge=t=>Math.max(...t.map(e=>Yo[e.type]??1)),bg=(t,e,r)=>{if(e===Yo.year)return t.startOfYear(r);if(e===Yo.month)return t.startOfMonth(r);if(e===Yo.day)return t.startOfDay(r);let n=r;return e<Yo.minutes&&(n=t.setMinutes(n,0)),e<Yo.seconds&&(n=t.setSeconds(n,0)),e<Yo.milliseconds&&(n=t.setMilliseconds(n,0)),n},qge=({props:t,utils:e,granularity:r,timezone:n,getTodayDate:i})=>{let s=i?i():bg(e,r,PM(e,n));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=bg(e,r,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=bg(e,r,t.maxDate));const a=qy(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=bg(e,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:kw(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=bg(e,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:kw(e,s,t.maxTime))),s},l6=(t,e)=>{const r=t.formatTokenMap[e];if(r==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},Kge=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},I1=(t,e,r)=>{const n=[],i=t.date(void 0,e),s=t.startOfWeek(i),a=t.endOfWeek(i);let o=s;for(;t.isBefore(o,a);)n.push(o),o=t.addDays(o,1);return n.map(l=>t.formatByString(l,r))},u6=(t,e,r,n)=>{switch(r){case"month":return TM(t,t.date(void 0,e)).map(i=>t.formatByString(i,n));case"weekDay":return I1(t,e,n);case"meridiem":{const i=t.date(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(s=>t.formatByString(s,n))}default:return[]}},XL="s",Qge=["0","1","2","3","4","5","6","7","8","9"],Jge=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),XL)==="0"?Qge:Array.from({length:10}).map((n,i)=>t.formatByString(t.setSeconds(e,i),XL))},ah=(t,e)=>{if(e[0]==="0")return t;const r=[];let n="";for(let i=0;i<t.length;i+=1){n+=t[i];const s=e.indexOf(n);s>-1&&(r.push(s.toString()),n="")}return r.join("")},NM=(t,e)=>e[0]==="0"?t:t.split("").map(r=>e[Number(r)]).join(""),qL=(t,e)=>{const r=ah(t,e);return r!==" "&&!Number.isNaN(Number(r))},c6=(t,e)=>{let r=t;for(r=Number(r).toString();r.length<e;)r=`0${r}`;return r},d6=(t,e,r,n,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const a=t.setDate(r.longestMonth,e);return t.formatByString(a,i.format)}let s=e.toString();return i.hasLeadingZerosInInput&&(s=c6(s,i.maxLength)),NM(s,n)},Zge=(t,e,r,n,i,s,a,o)=>{const l=Kge(n),u=n==="Home",c=n==="End",h=r.value===""||u||c,f=()=>{const g=i[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),y=w=>d6(t,w,g,s,r),b=r.type==="minutes"&&(o!=null&&o.minutesStep)?o.minutesStep:1;let v=parseInt(ah(r.value,s),10)+l*b;if(h){if(r.type==="year"&&!c&&!u)return t.formatByString(t.date(void 0,e),r.format);l>0||u?v=g.minimum:v=g.maximum}return v%b!==0&&((l<0||u)&&(v+=b-(b+v)%b),(l>0||c)&&(v-=v%b)),v>g.maximum?y(g.minimum+(v-g.maximum-1)%(g.maximum-g.minimum+1)):v<g.minimum?y(g.maximum-(g.minimum-v-1)%(g.maximum-g.minimum+1)):y(v)},m=()=>{const g=u6(t,e,r.type,r.format);if(g.length===0)return r.value;if(h)return l>0||u?g[0]:g[g.length-1];const x=((g.indexOf(r.value)+l)%g.length+g.length)%g.length;return g[x]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?f():m()},EM=(t,e,r)=>{let n=t.value||t.placeholder;const i=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(ah(n,r)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!i&&n.length===1&&(n=`${n}`),e==="input-rtl"&&(n=`${n}`),n},KL=(t,e,r,n)=>t.formatByString(t.parse(e,r),n),h6=(t,e,r)=>t.formatByString(t.date(void 0,e),r).length===4,f6=(t,e,r,n,i)=>{if(r!=="digit")return!1;const s=t.date(void 0,e);switch(n){case"year":return h6(t,e,i)?t.formatByString(t.setYear(s,1),i)==="0001":t.formatByString(t.setYear(s,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(s),i).length>1;case"day":return t.formatByString(t.startOfMonth(s),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),i).length>1;case"hours":return t.formatByString(t.setHours(s,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},eme=(t,e,r)=>{const n=e.some(l=>l.type==="day"),i=[],s=[];for(let l=0;l<e.length;l+=1){const u=e[l];n&&u.type==="weekDay"||(i.push(u.format),s.push(EM(u,"non-input",r)))}const a=i.join(" "),o=s.join(" ");return t.parse(o,a)},tme=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),rme=(t,e,r)=>{const i=t.map(s=>{const a=EM(s,r?"input-rtl":"input-ltr",e);return`${s.startSeparator}${a}${s.endSeparator}`}).join("");return r?`${i}`:i},nme=(t,e,r)=>{const n=t.date(void 0,r),i=t.endOfYear(n),s=t.endOfDay(n),{maxDaysInMonth:a,longestMonth:o}=TM(t,n).reduce((l,u)=>{const c=t.getDaysInMonth(u);return c>l.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:u}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:h6(t,r,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):a,longestMonth:o}),weekDay:({format:l,contentType:u})=>{if(u==="digit"){const c=I1(t,r,l).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const u=t.getHours(s);return ah(t.formatByString(t.endOfDay(n),l),e)!==u.toString()?{minimum:1,maximum:Number(ah(t.formatByString(t.startOfDay(n),l),e))}:{minimum:0,maximum:u}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},ime=(t,e,r,n,i)=>{switch(r.type){case"year":return t.setYear(i,t.getYear(n));case"month":return t.setMonth(i,t.getMonth(n));case"weekDay":{const s=I1(t,e,r.format),a=t.formatByString(n,r.format),o=s.indexOf(a),u=s.indexOf(r.value)-o;return t.addDays(n,u)}case"day":return t.setDate(i,t.getDate(n));case"meridiem":{const s=t.getHours(n)<12,a=t.getHours(i);return s&&a>=12?t.addHours(i,-12):!s&&a<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(n));case"minutes":return t.setMinutes(i,t.getMinutes(n));case"seconds":return t.setSeconds(i,t.getSeconds(n));default:return i}},QL={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},JL=(t,e,r,n,i,s)=>[...n].sort((a,o)=>QL[a.type]-QL[o.type]).reduce((a,o)=>!s||o.modified?ime(t,e,o,r,a):a,i),sme=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,ame=(t,e)=>{const r={};if(!e)return t.forEach((l,u)=>{const c=u===0?null:u-1,h=u===t.length-1?null:u+1;r[u]={leftIndex:c,rightIndex:h}}),{neighbors:r,startIndex:0,endIndex:t.length-1};const n={},i={};let s=0,a=0,o=t.length-1;for(;o>=0;){a=t.findIndex((l,u)=>{var c;return u>=s&&((c=l.endSeparator)==null?void 0:c.includes(" "))&&l.endSeparator!==" / "}),a===-1&&(a=t.length-1);for(let l=a;l>=s;l-=1)i[l]=o,n[o]=l,o-=1;s=a+1}return t.forEach((l,u)=>{const c=i[u],h=c===0?null:n[c-1],f=c===t.length-1?null:n[c+1];r[u]={leftIndex:h,rightIndex:f}}),{neighbors:r,startIndex:n[0],endIndex:n[t.length-1]}},$T=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(r=>r.type===t):t,ome=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const r=e.parse(t.value,t.format);return r?e.format(r,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},lme=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const r=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return r?e.getHours(r)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const r=e.parse(t.value,t.format);return r?e.getMonth(r)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},ume=["value","referenceDate"],ks={emptyValue:null,getTodayValue:PM,getInitialReferenceValue:t=>{let{value:e,referenceDate:r}=t,n=Re(t,ume);return e!=null&&n.utils.isValid(e)?e:r??qge(n)},cleanValue:Nge,areValuesEqual:Ege,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,r)=>r==null?null:t.setTimezone(r,e)},p6={updateReferenceValue:(t,e,r)=>e==null||!t.isValid(e)?r:e,getSectionsFromValue:(t,e,r,n)=>!t.isValid(e)&&!!r?r:n(e),getV7HiddenInputValueFromSections:tme,getV6InputValueFromSections:rme,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!t.isValid(r)?e.referenceValue:r})}),parseValueStr:(t,e,r)=>r(t.trim(),e)},RM=({value:t,referenceDate:e,utils:r,props:n,timezone:i})=>{const s=k.useMemo(()=>ks.getInitialReferenceValue({value:t,utils:r,props:n,referenceDate:e,granularity:Yo.day,timezone:i,getTodayDate:()=>PM(r,i,"date")}),[]);return t??s},cme=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],dme=t=>{const{classes:e}=t;return ut({root:["root"],arrowSwitcher:["arrowSwitcher"]},yge,e)},hme=de(D1,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),fme=de(e6,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),pme=["hours","minutes"],gme=k.forwardRef(function(e,r){const n=Ar(),i=tt({props:e,name:"MuiTimeClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:o,slots:l,slotProps:u,value:c,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:g,minTime:y,disableFuture:b,disablePast:x,minutesStep:v=1,shouldDisableTime:w,showViewSwitcher:T,onChange:P,view:C,views:M=pme,openTo:E,onViewChange:D,focusedView:I,onFocusedViewChange:A,className:W,disabled:V,readOnly:$,timezone:L}=i,H=Re(i,cme),{value:z,handleValueChange:F,timezone:U}=Tp({name:"TimeClock",timezone:L,value:c,defaultValue:h,onChange:P,valueManager:ks}),q=RM({value:z,referenceDate:f,utils:n,props:i,timezone:U}),ae=_s(),he=bh(U),{view:be,setView:pe,previousView:ee,nextView:ce,setValueAndGoToNextView:ke}=Ky({view:C,views:M,openTo:E,onViewChange:D,onChange:F,focusedView:I,onFocusedViewChange:A}),{meridiemMode:Q,handleMeridiemChange:Z}=_M(q,s,ke),le=k.useCallback((se,Me)=>{const Se=qy(m,n),j=Me==="hours"||Me==="minutes"&&M.includes("seconds"),ne=({start:ge,end:Be})=>!(y&&Se(y,Be)||g&&Se(ge,g)||b&&Se(ge,he)||x&&Se(he,j?Be:ge)),te=(ge,Be=1)=>{if(ge%Be!==0)return!1;if(w)switch(Me){case"hours":return!w(n.setHours(q,ge),"hours");case"minutes":return!w(n.setMinutes(q,ge),"minutes");case"seconds":return!w(n.setSeconds(q,ge),"seconds");default:return!1}return!0};switch(Me){case"hours":{const ge=qm(se,Q,s),Be=n.setHours(q,ge),Te=n.setSeconds(n.setMinutes(Be,0),0),Ge=n.setSeconds(n.setMinutes(Be,59),59);return!ne({start:Te,end:Ge})||!te(ge)}case"minutes":{const ge=n.setMinutes(q,se),Be=n.setSeconds(ge,0),Te=n.setSeconds(ge,59);return!ne({start:Be,end:Te})||!te(se,v)}case"seconds":{const ge=n.setSeconds(q,se);return!ne({start:ge,end:ge})||!te(se)}default:throw new Error("not supported")}},[s,q,m,g,Q,y,v,w,n,b,x,he,M]),ue=Eo(),re=k.useMemo(()=>{switch(be){case"hours":{const se=(Me,Se)=>{const j=qm(Me,Q,s);ke(n.setHours(q,j),Se,"hours")};return{onChange:se,viewValue:n.getHours(q),children:Yge({value:z,utils:n,ampm:s,onChange:se,getClockNumberText:ae.hoursClockNumberText,isDisabled:Me=>V||le(Me,"hours"),selectedId:ue})}}case"minutes":{const se=n.getMinutes(q),Me=(Se,j)=>{ke(n.setMinutes(q,Se),j,"minutes")};return{viewValue:se,onChange:Me,children:YL({utils:n,value:se,onChange:Me,getClockNumberText:ae.minutesClockNumberText,isDisabled:Se=>V||le(Se,"minutes"),selectedId:ue})}}case"seconds":{const se=n.getSeconds(q),Me=(Se,j)=>{ke(n.setSeconds(q,Se),j,"seconds")};return{viewValue:se,onChange:Me,children:YL({utils:n,value:se,onChange:Me,getClockNumberText:ae.secondsClockNumberText,isDisabled:Se=>V||le(Se,"seconds"),selectedId:ue})}}default:throw new Error("You must provide the type for ClockView")}},[be,n,z,s,ae.hoursClockNumberText,ae.minutesClockNumberText,ae.secondsClockNumberText,Q,ke,q,le,ue,V]),K=i,J=dme(K);return _.jsxs(hme,B({ref:r,className:Oe(J.root,W),ownerState:K},H,{children:[_.jsx(Wge,B({autoFocus:o??!!I,ampmInClock:a&&M.includes("hours"),value:z,type:be,ampm:s,minutesStep:v,isTimeDisabled:le,meridiemMode:Q,handleMeridiemChange:Z,selectedId:ue,disabled:V,readOnly:$},re)),T&&_.jsx(fme,{className:J.arrowSwitcher,slots:l,slotProps:u,onGoToPrevious:()=>pe(ee),isPreviousDisabled:!ee,previousLabel:ae.openPreviousView,onGoToNext:()=>pe(ce),isNextDisabled:!ce,nextLabel:ae.openNextView,ownerState:K})]}))});function mme(t){return dt("MuiDigitalClock",t)}ht("MuiDigitalClock",["root","list","item"]);const yme=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],bme=t=>{const{classes:e}=t;return ut({root:["root"],list:["list"],item:["item"]},mme,e)},vme=de(D1,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:i6,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),wme=de(hM,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),xme=de(fM,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:zl(t.palette.primary.main,t.palette.action.focusOpacity)}})),Sme=k.forwardRef(function(e,r){const n=Ar(),i=k.useRef(null),s=Nr(r,i),a=tt({props:e,name:"MuiDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:u,slots:c,slotProps:h,value:f,defaultValue:m,referenceDate:g,disableIgnoringDatePartForTimeValidation:y=!1,maxTime:b,minTime:x,disableFuture:v,disablePast:w,minutesStep:T=1,shouldDisableTime:P,onChange:C,view:M,openTo:E,onViewChange:D,focusedView:I,onFocusedViewChange:A,className:W,disabled:V,readOnly:$,views:L=["hours"],skipDisabled:H=!1,timezone:z}=a,F=Re(a,yme),{value:U,handleValueChange:q,timezone:ae}=Tp({name:"DigitalClock",timezone:z,value:f,defaultValue:m,onChange:C,valueManager:ks}),he=_s(),be=bh(ae),pe=k.useMemo(()=>B({},a,{alreadyRendered:!!i.current}),[a]),ee=bme(pe),ce=(c==null?void 0:c.digitalClockItem)??xme,ke=ir({elementType:ce,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:{},className:ee.item}),Q=RM({value:U,referenceDate:g,utils:n,props:a,timezone:ae}),Z=yt(se=>q(se,"finish","hours")),{setValueAndGoToNextView:le}=Ky({view:M,views:L,openTo:E,onViewChange:D,onChange:Z,focusedView:I,onFocusedViewChange:A}),ue=yt(se=>{le(se,"finish")});k.useEffect(()=>{if(i.current===null)return;const se=i.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!se)return;const Me=se.offsetTop;(u||I)&&se.focus(),i.current.scrollTop=Me-4});const re=k.useCallback(se=>{const Me=qy(y,n),Se=()=>!(x&&Me(x,se)||b&&Me(se,b)||v&&Me(se,be)||w&&Me(be,se)),j=()=>n.getMinutes(se)%T!==0?!1:P?!P(se,"hours"):!0;return!Se()||!j()},[y,n,x,b,v,be,w,T,P]),K=k.useMemo(()=>{const se=n.startOfDay(Q);return[se,...Array.from({length:Math.ceil(24*60/l)-1},(Me,Se)=>n.addMinutes(se,l*(Se+1)))]},[Q,l,n]),J=K.findIndex(se=>n.isEqual(se,Q));return _.jsx(vme,B({ref:s,className:Oe(ee.root,W),ownerState:pe},F,{children:_.jsx(wme,{role:"listbox","aria-label":he.timePickerToolbarTitle,className:ee.list,children:K.map((se,Me)=>{if(H&&re(se))return null;const Se=n.isEqual(se,U),j=n.format(se,o?"fullTime12h":"fullTime24h"),ne=J===Me||J===-1&&Me===0?0:-1;return _.jsx(ce,B({onClick:()=>!$&&ue(se),selected:Se,disabled:V||re(se),disableRipple:$,role:"option","aria-disabled":$,"aria-selected":Se,tabIndex:ne},ke,{children:j}),j)})})}))});function kme(t){return dt("MuiMultiSectionDigitalClock",t)}ht("MuiMultiSectionDigitalClock",["root"]);function _me(t){return dt("MuiMultiSectionDigitalClockSection",t)}ht("MuiMultiSectionDigitalClockSection",["root","item"]);const Cme=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Tme=t=>{const{classes:e}=t;return ut({root:["root"],item:["item"]},_me,e)},Pme=de(hM,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:i6,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Bme=de(fM,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:mge,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:zl(t.palette.primary.main,t.palette.action.focusOpacity)}})),Mme=k.forwardRef(function(e,r){const n=k.useRef(null),i=Nr(r,n),s=k.useRef(null),a=tt({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:o,onChange:l,className:u,disabled:c,readOnly:h,items:f,active:m,slots:g,slotProps:y,skipDisabled:b}=a,x=Re(a,Cme),v=k.useMemo(()=>B({},a,{alreadyRendered:!!n.current}),[a]),w=Tme(v),T=(g==null?void 0:g.digitalClockSectionItem)??Bme;k.useEffect(()=>{if(n.current===null)return;const C=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(m&&o&&C&&C.focus(),!C||s.current===C)return;s.current=C;const M=C.offsetTop;n.current.scrollTop=M-4});const P=f.findIndex(C=>C.isFocused(C.value));return _.jsx(Pme,B({ref:i,className:Oe(w.root,u),ownerState:v,autoFocusItem:o&&m,role:"listbox"},x,{children:f.map((C,M)=>{var W;const E=(W=C.isDisabled)==null?void 0:W.call(C,C.value),D=c||E;if(b&&D)return null;const I=C.isSelected(C.value),A=P===M||P===-1&&M===0?0:-1;return _.jsx(T,B({onClick:()=>!h&&l(C.value),selected:I,disabled:D,disableRipple:h,role:"option","aria-disabled":h||D||void 0,"aria-label":C.ariaLabel,"aria-selected":I,tabIndex:A,className:w.item},y==null?void 0:y.digitalClockSectionItem,{children:C.label}),C.label)})}))}),Nme=({now:t,value:e,utils:r,ampm:n,isDisabled:i,resolveAriaLabel:s,timeStep:a,valueOrReferenceDate:o})=>{const l=e?r.getHours(e):null,u=[],c=(m,g)=>{const y=g??l;return y===null?!1:n?m===12?y===12||y===0:y===m||y-12===m:y===m},h=m=>c(m,r.getHours(o)),f=n?11:23;for(let m=0;m<=f;m+=a){let g=r.format(r.setHours(t,m),n?"hours12h":"hours24h");const y=s(parseInt(g,10).toString());g=r.formatNumber(g),u.push({value:m,label:g,isSelected:c,isDisabled:i,isFocused:h,ariaLabel:y})}return u},ZL=({value:t,utils:e,isDisabled:r,timeStep:n,resolveLabel:i,resolveAriaLabel:s,hasValue:a=!0})=>{const o=u=>t===null?!1:a&&t===u,l=u=>t===u;return[...Array.from({length:Math.ceil(60/n)},(u,c)=>{const h=n*c;return{value:h,label:e.formatNumber(i(h)),isDisabled:r,isSelected:o,isFocused:l,ariaLabel:s(h.toString())}})]},Eme=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Rme=t=>{const{classes:e}=t;return ut({root:["root"]},kme,e)},Dme=de(D1,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),Ime=k.forwardRef(function(e,r){const n=Ar(),i=Gi(),s=tt({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:o,autoFocus:l,slots:u,slotProps:c,value:h,defaultValue:f,referenceDate:m,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:y,minTime:b,disableFuture:x,disablePast:v,minutesStep:w=1,shouldDisableTime:T,onChange:P,view:C,views:M=["hours","minutes"],openTo:E,onViewChange:D,focusedView:I,onFocusedViewChange:A,className:W,disabled:V,readOnly:$,skipDisabled:L=!1,timezone:H}=s,z=Re(s,Eme),{value:F,handleValueChange:U,timezone:q}=Tp({name:"MultiSectionDigitalClock",timezone:H,value:h,defaultValue:f,onChange:P,valueManager:ks}),ae=_s(),he=bh(q),be=k.useMemo(()=>B({hours:1,minutes:5,seconds:5},o),[o]),pe=RM({value:F,referenceDate:m,utils:n,props:s,timezone:q}),ee=yt((ne,te,ge)=>U(ne,te,ge)),ce=k.useMemo(()=>!a||!M.includes("hours")||M.includes("meridiem")?M:[...M,"meridiem"],[a,M]),{view:ke,setValueAndGoToNextView:Q,focusedView:Z}=Ky({view:C,views:ce,openTo:E,onViewChange:D,onChange:ee,focusedView:I,onFocusedViewChange:A}),le=yt(ne=>{Q(ne,"finish","meridiem")}),{meridiemMode:ue,handleMeridiemChange:re}=_M(pe,a,le,"finish"),K=k.useCallback((ne,te)=>{const ge=qy(g,n),Be=te==="hours"||te==="minutes"&&ce.includes("seconds"),Te=({start:ot,end:Et})=>!(b&&ge(b,Et)||y&&ge(ot,y)||x&&ge(ot,he)||v&&ge(he,Be?Et:ot)),Ge=(ot,Et=1)=>{if(ot%Et!==0)return!1;if(T)switch(te){case"hours":return!T(n.setHours(pe,ot),"hours");case"minutes":return!T(n.setMinutes(pe,ot),"minutes");case"seconds":return!T(n.setSeconds(pe,ot),"seconds");default:return!1}return!0};switch(te){case"hours":{const ot=qm(ne,ue,a),Et=n.setHours(pe,ot),Lt=n.setSeconds(n.setMinutes(Et,0),0),De=n.setSeconds(n.setMinutes(Et,59),59);return!Te({start:Lt,end:De})||!Ge(ot)}case"minutes":{const ot=n.setMinutes(pe,ne),Et=n.setSeconds(ot,0),Lt=n.setSeconds(ot,59);return!Te({start:Et,end:Lt})||!Ge(ne,w)}case"seconds":{const ot=n.setSeconds(pe,ne);return!Te({start:ot,end:ot})||!Ge(ne)}default:throw new Error("not supported")}},[a,pe,g,y,ue,b,w,T,n,x,v,he,ce]),J=k.useCallback(ne=>{switch(ne){case"hours":return{onChange:te=>{const ge=qm(te,ue,a);Q(n.setHours(pe,ge),"finish","hours")},items:Nme({now:he,value:F,ampm:a,utils:n,isDisabled:te=>K(te,"hours"),timeStep:be.hours,resolveAriaLabel:ae.hoursClockNumberText,valueOrReferenceDate:pe})};case"minutes":return{onChange:te=>{Q(n.setMinutes(pe,te),"finish","minutes")},items:ZL({value:n.getMinutes(pe),utils:n,isDisabled:te=>K(te,"minutes"),resolveLabel:te=>n.format(n.setMinutes(he,te),"minutes"),timeStep:be.minutes,hasValue:!!F,resolveAriaLabel:ae.minutesClockNumberText})};case"seconds":return{onChange:te=>{Q(n.setSeconds(pe,te),"finish","seconds")},items:ZL({value:n.getSeconds(pe),utils:n,isDisabled:te=>K(te,"seconds"),resolveLabel:te=>n.format(n.setSeconds(he,te),"seconds"),timeStep:be.seconds,hasValue:!!F,resolveAriaLabel:ae.secondsClockNumberText})};case"meridiem":{const te=wc(n,"am"),ge=wc(n,"pm");return{onChange:re,items:[{value:"am",label:te,isSelected:()=>!!F&&ue==="am",isFocused:()=>!!pe&&ue==="am",ariaLabel:te},{value:"pm",label:ge,isSelected:()=>!!F&&ue==="pm",isFocused:()=>!!pe&&ue==="pm",ariaLabel:ge}]}}default:throw new Error(`Unknown view: ${ne} found.`)}},[he,F,a,n,be.hours,be.minutes,be.seconds,ae.hoursClockNumberText,ae.minutesClockNumberText,ae.secondsClockNumberText,ue,Q,pe,K,re]),se=k.useMemo(()=>{if(!i)return ce;const te=ce.filter(ge=>ge!=="meridiem").toReversed();return ce.includes("meridiem")&&te.push("meridiem"),te},[i,ce]),Me=k.useMemo(()=>ce.reduce((ne,te)=>B({},ne,{[te]:J(te)}),{}),[ce,J]),Se=s,j=Rme(Se);return _.jsx(Dme,B({ref:r,className:Oe(j.root,W),ownerState:Se,role:"group"},z,{children:se.map(ne=>_.jsx(Mme,{items:Me[ne].items,onChange:Me[ne].onChange,active:ke===ne,autoFocus:l??Z===ne,disabled:V,readOnly:$,slots:u,slotProps:c,skipDisabled:L,"aria-label":ae.selectViewText(ne)},ne))}))});function Lme(t){return dt("MuiPickersDay",t)}const hd=ht("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Fme=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Ame=t=>{const{selected:e,disableMargin:r,disableHighlightToday:n,today:i,disabled:s,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:o,classes:l}=t,u=a&&!o;return ut({root:["root",e&&!u&&"selected",s&&"disabled",!r&&"dayWithMargin",!n&&i&&"today",a&&o&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Lme,l)},g6=({theme:t})=>B({},t.typography.caption,{width:Km,height:Km,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:zl(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${hd.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${hd.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${hd.disabled}:not(.${hd.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${hd.disabled}&.${hd.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${E1}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${hd.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),m6=(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableMargin&&e.dayWithMargin,!r.disableHighlightToday&&r.today&&e.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Ome=de(Co,{name:"MuiPickersDay",slot:"Root",overridesResolver:m6})(g6),$me=de("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:m6})(({theme:t})=>B({},g6({theme:t}),{opacity:0,pointerEvents:"none"})),vg=()=>{},Vme=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:a,disabled:o=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:h,onDaySelect:f,onFocus:m=vg,onBlur:g=vg,onKeyDown:y=vg,onMouseDown:b=vg,onMouseEnter:x=vg,outsideCurrentMonth:v,selected:w=!1,showDaysOutsideCurrentMonth:T=!1,children:P,today:C=!1}=n,M=Re(n,Fme),E=B({},n,{autoFocus:i,disabled:o,disableHighlightToday:l,disableMargin:u,selected:w,showDaysOutsideCurrentMonth:T,today:C}),D=Ame(E),I=Ar(),A=k.useRef(null),W=Nr(A,r);Dn(()=>{i&&!o&&!c&&!v&&A.current.focus()},[i,o,c,v]);const V=L=>{b(L),v&&L.preventDefault()},$=L=>{o||f(a),v&&L.currentTarget.focus(),h&&h(L)};return v&&!T?_.jsx($me,{className:Oe(D.root,D.hiddenDaySpacingFiller,s),ownerState:E,role:M.role}):_.jsx(Ome,B({className:Oe(D.root,s),ref:W,centerRipple:!0,disabled:o,tabIndex:w?0:-1,onKeyDown:L=>y(L,a),onFocus:L=>m(L,a),onBlur:L=>g(L,a),onMouseEnter:L=>x(L,a),onClick:$,onMouseDown:V},M,{ownerState:E,children:P||I.format(a,"dayOfMonth")}))}),zme=k.memo(Vme);function y6(t,e,r,n){const{value:i,onError:s}=t,a=yh(),o=k.useRef(n),l=e({adapter:a,value:i,props:t});return k.useEffect(()=>{s&&!r(l,o.current)&&s(l,i),o.current=l},[r,s,o,l,i]),l}const Wme=({utils:t,format:e})=>{let r=10,n=e,i=t.expandFormat(e);for(;i!==n;)if(n=i,i=t.expandFormat(n),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},Hme=({utils:t,expandedFormat:e})=>{const r=[],{start:n,end:i}=t.escapedCharacters,s=new RegExp(`(\\${n}[^\\${i}]*\\${i})+`,"g");let a=null;for(;a=s.exec(e);)r.push({start:a.index,end:s.lastIndex-1});return r},Ume=(t,e,r,n,i)=>{switch(n.type){case"year":return r.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),i).length,format:i});case"month":return r.fieldMonthPlaceholder({contentType:n.contentType,format:i});case"day":return r.fieldDayPlaceholder({format:i});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:n.contentType,format:i});case"hours":return r.fieldHoursPlaceholder({format:i});case"minutes":return r.fieldMinutesPlaceholder({format:i});case"seconds":return r.fieldSecondsPlaceholder({format:i});case"meridiem":return r.fieldMeridiemPlaceholder({format:i});default:return i}},Gme=({utils:t,timezone:e,date:r,shouldRespectLeadingZeros:n,localeText:i,localizedDigits:s,now:a,token:o,startSeparator:l})=>{if(o==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=l6(t,o),c=f6(t,e,u.contentType,u.type,o),h=n?c:u.contentType==="digit",f=r!=null&&t.isValid(r);let m=f?t.formatByString(r,o):"",g=null;if(h)if(c)g=m===""?t.formatByString(a,o).length:m.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${o} should have a 'maxDigitNumber' property on it's adapter`);g=u.maxLength,f&&(m=NM(c6(ah(m,s),g),s))}return B({},u,{format:o,maxLength:g,value:m,placeholder:Ume(t,e,i,u,o),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:h,startSeparator:l,endSeparator:"",modified:!1})},jme=t=>{var m;const{utils:e,expandedFormat:r,escapedParts:n}=t,i=e.date(void 0),s=[];let a="";const o=Object.keys(e.formatTokenMap).sort((g,y)=>y.length-g.length),l=/^([a-zA-Z]+)/,u=new RegExp(`^(${o.join("|")})*$`),c=new RegExp(`^(${o.join("|")})`),h=g=>n.find(y=>y.start<=g&&y.end>=g);let f=0;for(;f<r.length;){const g=h(f),y=g!=null,b=(m=l.exec(r.slice(f)))==null?void 0:m[1];if(!y&&b!=null&&u.test(b)){let x=b;for(;x.length>0;){const v=c.exec(x)[1];x=x.slice(v.length),s.push(Gme(B({},t,{now:i,token:v,startSeparator:a}))),a=""}f+=b.length}else{const x=r[f];y&&(g==null?void 0:g.start)===f||(g==null?void 0:g.end)===f||(s.length===0?a+=x:s[s.length-1].endSeparator+=x),f+=1}}return s.length===0&&a.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),s},Yme=({isRtl:t,formatDensity:e,sections:r})=>r.map(n=>{const i=s=>{let a=s;return t&&a!==null&&a.includes(" ")&&(a=`${a}`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=i(n.startSeparator),n.endSeparator=i(n.endSeparator),n}),eF=t=>{let e=Wme(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const r=Hme(B({},t,{expandedFormat:e})),n=jme(B({},t,{expandedFormat:e,escapedParts:r}));return Yme(B({},t,{sections:n}))},Xme=t=>{const e=Ar(),r=_s(),n=yh(),i=Gi(),{valueManager:s,fieldValueManager:a,valueType:o,validator:l,internalProps:u,internalProps:{value:c,defaultValue:h,referenceDate:f,onChange:m,format:g,formatDensity:y="dense",selectedSections:b,onSelectedSectionsChange:x,shouldRespectLeadingZeros:v=!1,timezone:w,enableAccessibleFieldDOMStructure:T=!1}}=t,{timezone:P,value:C,handleValueChange:M}=MM({timezone:w,value:c,defaultValue:h,onChange:m,valueManager:s}),E=k.useMemo(()=>Jge(e),[e]),D=k.useMemo(()=>nme(e,E,P),[e,E,P]),I=k.useCallback((ee,ce=null)=>a.getSectionsFromValue(e,ee,ce,ke=>eF({utils:e,timezone:P,localeText:r,localizedDigits:E,format:g,date:ke,formatDensity:y,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:T,isRtl:i})),[a,g,r,E,i,v,e,y,P,T]),[A,W]=k.useState(()=>{const ee=I(C),ce={sections:ee,value:C,referenceValue:s.emptyValue,tempValueStrAndroid:null},ke=Xge(ee),Q=s.getInitialReferenceValue({referenceDate:f,value:C,utils:e,props:u,granularity:ke,timezone:P});return B({},ce,{referenceValue:Q})}),[V,$]=La({controlled:b,default:null,name:"useField",state:"selectedSections"}),L=ee=>{$(ee),x==null||x(ee)},H=k.useMemo(()=>$T(V,A.sections),[V,A.sections]),z=H==="all"?0:H,F=({value:ee,referenceValue:ce,sections:ke})=>{if(W(Z=>B({},Z,{sections:ke,value:ee,referenceValue:ce,tempValueStrAndroid:null})),s.areValuesEqual(e,A.value,ee))return;const Q={validationError:l({adapter:n,value:ee,props:B({},u,{value:ee,timezone:P})})};M(ee,Q)},U=(ee,ce)=>{const ke=[...A.sections];return ke[ee]=B({},ke[ee],{value:ce,modified:!0}),ke},q=()=>{F({value:s.emptyValue,referenceValue:A.referenceValue,sections:I(s.emptyValue)})},ae=()=>{if(z==null)return;const ee=A.sections[z],ce=a.getActiveDateManager(e,A,ee),Q=ce.getSections(A.sections).filter(re=>re.value!=="").length===(ee.value===""?0:1),Z=U(z,""),le=Q?null:e.getInvalidDate(),ue=ce.getNewValuesFromNewActiveDate(le);F(B({},ue,{sections:Z}))},he=ee=>{const ce=(Z,le)=>{const ue=e.parse(Z,g);if(ue==null||!e.isValid(ue))return null;const re=eF({utils:e,timezone:P,localeText:r,localizedDigits:E,format:g,date:ue,formatDensity:y,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:T,isRtl:i});return JL(e,P,ue,re,le,!1)},ke=a.parseValueStr(ee,A.referenceValue,ce),Q=a.updateReferenceValue(e,ke,A.referenceValue);F({value:ke,referenceValue:Q,sections:I(ke,A.sections)})},be=({activeSection:ee,newSectionValue:ce,shouldGoToNextSection:ke})=>{ke&&z<A.sections.length-1&&L(z+1);const Q=a.getActiveDateManager(e,A,ee),Z=U(z,ce),le=Q.getSections(Z),ue=eme(e,le,E);let re,K;if(ue!=null&&e.isValid(ue)){const J=JL(e,P,ue,le,Q.referenceDate,!0);re=Q.getNewValuesFromNewActiveDate(J),K=!0}else re=Q.getNewValuesFromNewActiveDate(ue),K=(ue!=null&&!e.isValid(ue))!=(Q.date!=null&&!e.isValid(Q.date));return K?F(B({},re,{sections:Z})):W(J=>B({},J,re,{sections:Z,tempValueStrAndroid:null}))},pe=ee=>W(ce=>B({},ce,{tempValueStrAndroid:ee}));return k.useEffect(()=>{const ee=I(A.value);W(ce=>B({},ce,{sections:ee}))},[g,e.locale,i]),k.useEffect(()=>{let ee;s.areValuesEqual(e,A.value,C)?ee=s.getTimezone(e,A.value)!==s.getTimezone(e,C):ee=!0,ee&&W(ce=>B({},ce,{value:C,referenceValue:a.updateReferenceValue(e,C,ce.referenceValue),sections:I(C)}))},[C]),{state:A,activeSectionIndex:z,parsedSelectedSections:H,setSelectedSections:L,clearValue:q,clearActiveSection:ae,updateSectionValue:be,updateValueFromValueStr:he,setTempAndroidValueStr:pe,getSectionsFromValue:I,sectionsValueBoundaries:D,localizedDigits:E,timezone:P}},qme=5e3,jh=t=>t.saveQuery!=null,Kme=({sections:t,updateSectionValue:e,sectionsValueBoundaries:r,localizedDigits:n,setTempAndroidValueStr:i,timezone:s})=>{const a=Ar(),[o,l]=k.useState(null),u=yt(()=>l(null));k.useEffect(()=>{var g;o!=null&&((g=t[o.sectionIndex])==null?void 0:g.type)!==o.sectionType&&u()},[t,o,u]),k.useEffect(()=>{if(o!=null){const g=setTimeout(()=>u(),qme);return()=>{clearTimeout(g)}}return()=>{}},[o,u]);const c=({keyPressed:g,sectionIndex:y},b,x)=>{const v=g.toLowerCase(),w=t[y];if(o!=null&&(!x||x(o.value))&&o.sectionIndex===y){const P=`${o.value}${v}`,C=b(P,w);if(!jh(C))return l({sectionIndex:y,value:P,sectionType:w.type}),C}const T=b(v,w);return jh(T)&&!T.saveQuery?(u(),null):(l({sectionIndex:y,value:v,sectionType:w.type}),jh(T)?null:T)},h=g=>{const y=(v,w,T)=>{const P=w.filter(C=>C.toLowerCase().startsWith(T));return P.length===0?{saveQuery:!1}:{sectionValue:P[0],shouldGoToNextSection:P.length===1}},b=(v,w,T,P)=>{const C=M=>u6(a,s,w.type,M);if(w.contentType==="letter")return y(w.format,C(w.format),v);if(T&&P!=null&&l6(a,T).contentType==="letter"){const M=C(T),E=y(T,M,v);return jh(E)?{saveQuery:!1}:B({},E,{sectionValue:P(E.sectionValue,M)})}return{saveQuery:!1}};return c(g,(v,w)=>{switch(w.type){case"month":{const T=P=>KL(a,P,a.formats.month,w.format);return b(v,w,a.formats.month,T)}case"weekDay":{const T=(P,C)=>C.indexOf(P).toString();return b(v,w,a.formats.weekday,T)}case"meridiem":return b(v,w);default:return{saveQuery:!1}}})},f=g=>{const y=(x,v)=>{const w=ah(x,n),T=Number(w),P=r[v.type]({currentDate:null,format:v.format,contentType:v.contentType});if(T>P.maximum)return{saveQuery:!1};if(T<P.minimum)return{saveQuery:!0};const C=T*10>P.maximum||w.length===P.maximum.toString().length;return{sectionValue:d6(a,T,P,n,v),shouldGoToNextSection:C}};return c(g,(x,v)=>{if(v.contentType==="digit"||v.contentType==="digit-with-letter")return y(x,v);if(v.type==="month"){const w=f6(a,s,"digit","month","MM"),T=y(x,{type:v.type,format:"MM",hasLeadingZerosInFormat:w,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(jh(T))return T;const P=KL(a,T.sectionValue,"MM",v.format);return B({},T,{sectionValue:P})}if(v.type==="weekDay"){const w=y(x,v);if(jh(w))return w;const T=I1(a,s,v.format)[Number(w.sectionValue)-1];return B({},w,{sectionValue:T})}return{saveQuery:!1}},x=>qL(x,n))};return{applyCharacterEditing:yt(g=>{const y=t[g.sectionIndex],x=qL(g.keyPressed,n)?f(B({},g,{keyPressed:NM(g.keyPressed,n)})):h(g);if(x==null){i(null);return}e({activeSection:y,newSectionValue:x.sectionValue,shouldGoToNextSection:x.shouldGoToNextSection})}),resetCharacterQuery:u}};function rf(t,e){return Array.isArray(e)?e.every(r=>t.indexOf(r)!==-1):t.indexOf(e)!==-1}const Qme=(t,e)=>r=>{(r.key==="Enter"||r.key===" ")&&(t(r),r.preventDefault(),r.stopPropagation()),e&&e(r)},fo=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?fo(e.shadowRoot):e:null},b6="@media (pointer: fine)",Jme=t=>{const{internalProps:{disabled:e,readOnly:r=!1},forwardedProps:{sectionListRef:n,onBlur:i,onClick:s,onFocus:a,onInput:o,onPaste:l,focused:u,autoFocus:c=!1},fieldValueManager:h,applyCharacterEditing:f,resetCharacterQuery:m,setSelectedSections:g,parsedSelectedSections:y,state:b,clearActiveSection:x,clearValue:v,updateSectionValue:w,updateValueFromValueStr:T,sectionOrder:P,areAllSectionsEmpty:C,sectionsValueBoundaries:M}=t,E=k.useRef(null),D=Nr(n,E),I=_s(),A=Ar(),W=Eo(),[V,$]=k.useState(!1),L=k.useMemo(()=>({syncSelectionToDOM:()=>{if(!E.current)return;const K=document.getSelection();if(!K)return;if(y==null){K.rangeCount>0&&E.current.getRoot().contains(K.getRangeAt(0).startContainer)&&K.removeAllRanges(),V&&E.current.getRoot().blur();return}if(!E.current.getRoot().contains(fo(document)))return;const J=new window.Range;let se;y==="all"?se=E.current.getRoot():b.sections[y].type==="empty"?se=E.current.getSectionContainer(y):se=E.current.getSectionContent(y),J.selectNodeContents(se),se.focus(),K.removeAllRanges(),K.addRange(J)},getActiveSectionIndexFromDOM:()=>{const K=fo(document);return!K||!E.current||!E.current.getRoot().contains(K)?null:E.current.getSectionIndexFromDOMElement(K)},focusField:(K=0)=>{if(!E.current)return;const J=$T(K,b.sections);$(!0),E.current.getSectionContent(J).focus()},setSelectedSections:K=>{if(!E.current)return;const J=$T(K,b.sections);$((J==="all"?0:J)!==null),g(K)},isFieldFocused:()=>{const K=fo(document);return!!E.current&&E.current.getRoot().contains(K)}}),[y,g,b.sections,V]),H=yt(K=>{if(!E.current)return;const J=b.sections[K];E.current.getSectionContent(K).innerHTML=J.value||J.placeholder,L.syncSelectionToDOM()}),z=yt((K,...J)=>{K.isDefaultPrevented()||!E.current||($(!0),s==null||s(K,...J),y==="all"?setTimeout(()=>{const se=document.getSelection().getRangeAt(0).startOffset;if(se===0){g(P.startIndex);return}let Me=0,Se=0;for(;Se<se&&Me<b.sections.length;){const j=b.sections[Me];Me+=1,Se+=`${j.startSeparator}${j.value||j.placeholder}${j.endSeparator}`.length}g(Me-1)}):V?E.current.getRoot().contains(K.target)||g(P.startIndex):($(!0),g(P.startIndex)))}),F=yt(K=>{if(o==null||o(K),!E.current||y!=="all")return;const se=K.target.textContent??"";E.current.getRoot().innerHTML=b.sections.map(Me=>`${Me.startSeparator}${Me.value||Me.placeholder}${Me.endSeparator}`).join(""),L.syncSelectionToDOM(),se.length===0||se.charCodeAt(0)===10?(m(),v(),g("all")):se.length>1?T(se):f({keyPressed:se,sectionIndex:0})}),U=yt(K=>{if(l==null||l(K),r||y!=="all"){K.preventDefault();return}const J=K.clipboardData.getData("text");K.preventDefault(),m(),T(J)}),q=yt((...K)=>{if(a==null||a(...K),V||!E.current)return;$(!0),E.current.getSectionIndexFromDOMElement(fo(document))!=null||g(P.startIndex)}),ae=yt((...K)=>{i==null||i(...K),setTimeout(()=>{if(!E.current)return;const J=fo(document);!E.current.getRoot().contains(J)&&($(!1),g(null))})}),he=yt(K=>J=>{J.isDefaultPrevented()||r||g(K)}),be=yt(K=>{K.preventDefault()}),pe=yt(K=>()=>{r||g(K)}),ee=yt(K=>{if(K.preventDefault(),r||typeof y!="number")return;const J=b.sections[y],se=K.clipboardData.getData("text"),Me=/^[a-zA-Z]+$/.test(se),Se=/^[0-9]+$/.test(se),j=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(se);J.contentType==="letter"&&Me||J.contentType==="digit"&&Se||J.contentType==="digit-with-letter"&&j?(m(),w({activeSection:J,newSectionValue:se,shouldGoToNextSection:!0})):!Me&&!Se&&(m(),T(se))}),ce=yt(K=>{K.preventDefault(),K.dataTransfer.dropEffect="none"}),ke=yt(K=>{if(!E.current)return;const J=K.target,se=J.textContent??"",Me=E.current.getSectionIndexFromDOMElement(J),Se=b.sections[Me];if(r||!E.current){H(Me);return}if(se.length===0){if(Se.value===""){H(Me);return}const j=K.nativeEvent.inputType;if(j==="insertParagraph"||j==="insertLineBreak"){H(Me);return}m(),x();return}f({keyPressed:se,sectionIndex:Me}),H(Me)});Dn(()=>{if(!(!V||!E.current)){if(y==="all")E.current.getRoot().focus();else if(typeof y=="number"){const K=E.current.getSectionContent(y);K&&K.focus()}}},[y,V]);const Q=k.useMemo(()=>b.sections.reduce((K,J)=>(K[J.type]=M[J.type]({currentDate:null,contentType:J.contentType,format:J.format}),K),{}),[M,b.sections]),Z=y==="all",le=k.useMemo(()=>b.sections.map((K,J)=>{const se=!Z&&!e&&!r;return{container:{"data-sectionindex":J,onClick:he(J)},content:{tabIndex:Z||J>0?-1:0,contentEditable:!Z&&!e&&!r,role:"spinbutton",id:`${W}-${K.type}`,"aria-labelledby":`${W}-${K.type}`,"aria-readonly":r,"aria-valuenow":lme(K,A),"aria-valuemin":Q[K.type].minimum,"aria-valuemax":Q[K.type].maximum,"aria-valuetext":K.value?ome(K,A):I.empty,"aria-label":I[K.type],"aria-disabled":e,spellCheck:se?!1:void 0,autoCapitalize:se?"off":void 0,autoCorrect:se?"off":void 0,[parseInt(k.version,10)>=17?"enterKeyHint":"enterkeyhint"]:se?"next":void 0,children:K.value||K.placeholder,onInput:ke,onPaste:ee,onFocus:pe(J),onDragOver:ce,onMouseUp:be,inputMode:K.contentType==="letter"?"text":"numeric"},before:{children:K.startSeparator},after:{children:K.endSeparator}}}),[b.sections,pe,ee,ce,ke,he,be,e,r,Z,I,A,Q,W]),ue=yt(K=>{T(K.target.value)}),re=k.useMemo(()=>C?"":h.getV7HiddenInputValueFromSections(b.sections),[C,b.sections,h]);return k.useEffect(()=>{if(E.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));c&&E.current&&E.current.getSectionContent(P.startIndex).focus()},[]),{interactions:L,returnedValue:{autoFocus:c,readOnly:r,focused:u??V,sectionListRef:D,onBlur:ae,onClick:z,onFocus:q,onInput:F,onPaste:U,enableAccessibleFieldDOMStructure:!0,elements:le,tabIndex:y===0?-1:0,contentEditable:Z,value:re,onChange:ue,areAllSectionsEmpty:C}}},xf=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),Zme=(t,e,r)=>{let n=0,i=r?1:0;const s=[];for(let a=0;a<t.length;a+=1){const o=t[a],l=EM(o,r?"input-rtl":"input-ltr",e),u=`${o.startSeparator}${l}${o.endSeparator}`,c=xf(u).length,h=u.length,f=xf(l),m=i+(f===""?0:l.indexOf(f[0]))+o.startSeparator.length,g=m+f.length;s.push(B({},o,{start:n,end:n+c,startInInput:m,endInInput:g})),n+=c,i+=h}return s},eye=t=>{const e=Gi(),r=k.useRef(),{forwardedProps:{onFocus:n,onClick:i,onPaste:s,onBlur:a,inputRef:o,placeholder:l},internalProps:{readOnly:u=!1},parsedSelectedSections:c,activeSectionIndex:h,state:f,fieldValueManager:m,valueManager:g,applyCharacterEditing:y,resetCharacterQuery:b,updateSectionValue:x,updateValueFromValueStr:v,clearActiveSection:w,clearValue:T,setTempAndroidValueStr:P,setSelectedSections:C,getSectionsFromValue:M,areAllSectionsEmpty:E,localizedDigits:D}=t,I=k.useRef(null),A=Nr(o,I),W=k.useMemo(()=>Zme(f.sections,D,e),[f.sections,D,e]),V=k.useMemo(()=>({syncSelectionToDOM:()=>{if(!I.current)return;if(c==null){I.current.scrollLeft&&(I.current.scrollLeft=0);return}if(I.current!==fo(document))return;const ee=I.current.scrollTop;if(c==="all")I.current.select();else{const ce=W[c],ke=ce.type==="empty"?ce.startInInput-ce.startSeparator.length:ce.startInInput,Q=ce.type==="empty"?ce.endInInput+ce.endSeparator.length:ce.endInInput;(ke!==I.current.selectionStart||Q!==I.current.selectionEnd)&&I.current===fo(document)&&I.current.setSelectionRange(ke,Q)}I.current.scrollTop=ee},getActiveSectionIndexFromDOM:()=>{var Z;const ee=I.current.selectionStart??0,ce=I.current.selectionEnd??0,ke=!!((Z=I.current)!=null&&Z.readOnly);if(ee===0&&ce===0||ke)return null;const Q=ee<=W[0].startInInput?1:W.findIndex(le=>le.startInInput-le.startSeparator.length>ee);return Q===-1?W.length-1:Q-1},focusField:(ee=0)=>{var ce;(ce=I.current)==null||ce.focus(),C(ee)},setSelectedSections:ee=>C(ee),isFieldFocused:()=>I.current===fo(document)}),[I,c,W,C]),$=()=>{if(u){C(null);return}const ee=I.current.selectionStart??0;let ce;ee<=W[0].startInInput||ee>=W[W.length-1].endInInput?ce=1:ce=W.findIndex(Q=>Q.startInInput-Q.startSeparator.length>ee);const ke=ce===-1?W.length-1:ce-1;C(ke)},L=yt((...ee)=>{n==null||n(...ee);const ce=I.current;clearTimeout(r.current),r.current=setTimeout(()=>{!ce||ce!==I.current||h!=null||u||(ce.value.length&&Number(ce.selectionEnd)-Number(ce.selectionStart)===ce.value.length?C("all"):$())})}),H=yt((ee,...ce)=>{ee.isDefaultPrevented()||(i==null||i(ee,...ce),$())}),z=yt(ee=>{if(s==null||s(ee),ee.preventDefault(),u)return;const ce=ee.clipboardData.getData("text");if(typeof c=="number"){const ke=f.sections[c],Q=/^[a-zA-Z]+$/.test(ce),Z=/^[0-9]+$/.test(ce),le=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ce);if(ke.contentType==="letter"&&Q||ke.contentType==="digit"&&Z||ke.contentType==="digit-with-letter"&&le){b(),x({activeSection:ke,newSectionValue:ce,shouldGoToNextSection:!0});return}if(Q||Z)return}b(),v(ce)}),F=yt((...ee)=>{a==null||a(...ee),C(null)}),U=yt(ee=>{if(u)return;const ce=ee.target.value;if(ce===""){b(),T();return}const ke=ee.nativeEvent.data,Q=ke&&ke.length>1,Z=Q?ke:ce,le=xf(Z);if(h==null||Q){v(Q?ke:le);return}let ue;if(c==="all"&&le.length===1)ue=le;else{const re=xf(m.getV6InputValueFromSections(W,D,e));let K=-1,J=-1;for(let j=0;j<re.length;j+=1)K===-1&&re[j]!==le[j]&&(K=j),J===-1&&re[re.length-j-1]!==le[le.length-j-1]&&(J=j);const se=W[h];if(K<se.start||re.length-J-1>se.end)return;const Se=le.length-re.length+se.end-xf(se.endSeparator||"").length;ue=le.slice(se.start+xf(se.startSeparator||"").length,Se)}if(ue.length===0){sme()?P(Z):(b(),w());return}y({keyPressed:ue,sectionIndex:h})}),q=k.useMemo(()=>l!==void 0?l:m.getV6InputValueFromSections(M(g.emptyValue),D,e),[l,m,M,g.emptyValue,D,e]),ae=k.useMemo(()=>f.tempValueStrAndroid??m.getV6InputValueFromSections(f.sections,D,e),[f.sections,m,f.tempValueStrAndroid,D,e]);k.useEffect(()=>(I.current&&I.current===fo(document)&&C("all"),()=>{clearTimeout(r.current)}),[]);const he=k.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),pe=!(I.current&&I.current===fo(document))&&E;return{interactions:V,returnedValue:{readOnly:u,onBlur:F,onClick:H,onFocus:L,onPaste:z,inputRef:A,enableAccessibleFieldDOMStructure:!1,placeholder:q,inputMode:he,autoComplete:"off",value:pe?"":ae,onChange:U}}},v6=t=>{const e=Ar(),{internalProps:r,internalProps:{unstableFieldRef:n,minutesStep:i,enableAccessibleFieldDOMStructure:s=!1,disabled:a=!1,readOnly:o=!1},forwardedProps:{onKeyDown:l,error:u,clearable:c,onClear:h},fieldValueManager:f,valueManager:m,validator:g}=t,y=Gi(),b=Xme(t),{state:x,activeSectionIndex:v,parsedSelectedSections:w,setSelectedSections:T,clearValue:P,clearActiveSection:C,updateSectionValue:M,setTempAndroidValueStr:E,sectionsValueBoundaries:D,localizedDigits:I,timezone:A}=b,W=Kme({sections:x.sections,updateSectionValue:M,sectionsValueBoundaries:D,localizedDigits:I,setTempAndroidValueStr:E,timezone:A}),{resetCharacterQuery:V}=W,$=m.areValuesEqual(e,x.value,m.emptyValue),L=s?Jme:eye,H=k.useMemo(()=>ame(x.sections,y&&!s),[x.sections,y,s]),{returnedValue:z,interactions:F}=L(B({},t,b,W,{areAllSectionsEmpty:$,sectionOrder:H})),U=yt(ee=>{switch(l==null||l(ee),!0){case((ee.ctrlKey||ee.metaKey)&&ee.key.toLowerCase()==="a"&&!ee.shiftKey&&!ee.altKey):{ee.preventDefault(),T("all");break}case ee.key==="ArrowRight":{if(ee.preventDefault(),w==null)T(H.startIndex);else if(w==="all")T(H.endIndex);else{const ce=H.neighbors[w].rightIndex;ce!==null&&T(ce)}break}case ee.key==="ArrowLeft":{if(ee.preventDefault(),w==null)T(H.endIndex);else if(w==="all")T(H.startIndex);else{const ce=H.neighbors[w].leftIndex;ce!==null&&T(ce)}break}case ee.key==="Delete":{if(ee.preventDefault(),o)break;w==null||w==="all"?P():C(),V();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(ee.key):{if(ee.preventDefault(),o||v==null)break;const ce=x.sections[v],ke=f.getActiveDateManager(e,x,ce),Q=Zge(e,A,ce,ee.key,D,I,ke.date,{minutesStep:i});M({activeSection:ce,newSectionValue:Q,shouldGoToNextSection:!1});break}}});Dn(()=>{F.syncSelectionToDOM()});const q=y6(B({},r,{value:x.value,timezone:A}),g,m.isSameError,m.defaultErrorState),ae=k.useMemo(()=>u!==void 0?u:m.hasError(q),[m,q,u]);k.useEffect(()=>{!ae&&v==null&&V()},[x.referenceValue,v,ae]),k.useEffect(()=>{x.tempValueStrAndroid!=null&&v!=null&&(V(),C())},[x.sections]),k.useImperativeHandle(n,()=>({getSections:()=>x.sections,getActiveSectionIndex:F.getActiveSectionIndexFromDOM,setSelectedSections:F.setSelectedSections,focusField:F.focusField,isFieldFocused:F.isFieldFocused}));const he=yt((ee,...ce)=>{ee.preventDefault(),h==null||h(ee,...ce),P(),F.isFieldFocused()?T(H.startIndex):F.focusField(0)}),be={onKeyDown:U,onClear:he,error:ae,clearable:!!(c&&!$&&!o&&!a)},pe={disabled:a,readOnly:o};return B({},t.forwardedProps,be,pe,z)},L1=({props:t,value:e,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:o,timezone:l}=t,u=r.utils.date(void 0,l),c=Bo(r.utils,t.minDate,r.defaultDates.minDate),h=Bo(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(o&&r.utils.isAfterDay(e,u)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,u)):return"disablePast";case!!(c&&r.utils.isBeforeDay(e,c)):return"minDate";case!!(h&&r.utils.isAfterDay(e,h)):return"maxDate";default:return null}},VT=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],zT=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],w6=["minDateTime","maxDateTime"],tye=[...VT,...zT,...w6],F1=t=>tye.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{}),rye=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],x6=(t,e)=>{const r=B({},t),n={},i=s=>{r.hasOwnProperty(s)&&(n[s]=r[s],delete r[s])};return rye.forEach(i),e==="date"?VT.forEach(i):e==="time"?zT.forEach(i):e==="date-time"&&(VT.forEach(i),zT.forEach(i),w6.forEach(i)),{forwardedProps:r,internalProps:n}},nye=t=>{const e=Ar(),r=Xy();return B({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:Bo(e,t.minDate,r.minDate),maxDate:Bo(e,t.maxDate,r.maxDate)})},iye=t=>{const e=Ar(),n=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return B({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??n})},sye=t=>{const e=nye(t),{forwardedProps:r,internalProps:n}=x6(e,"date");return v6({forwardedProps:r,internalProps:n,valueManager:ks,fieldValueManager:p6,validator:L1,valueType:"date"})},aye=["clearable","onClear","InputProps","sx","slots","slotProps"],oye=["ownerState"],S6=t=>{const e=_s(),{clearable:r,onClear:n,InputProps:i,sx:s,slots:a,slotProps:o}=t,l=Re(t,aye),u=(a==null?void 0:a.clearButton)??fs,c=ir({elementType:u,externalSlotProps:o==null?void 0:o.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),h=Re(c,oye),f=(a==null?void 0:a.clearIcon)??rge,m=ir({elementType:f,externalSlotProps:o==null?void 0:o.clearIcon,ownerState:{}});return B({},l,{InputProps:B({},i,{endAdornment:_.jsxs(k.Fragment,{children:[r&&_.jsx(gV,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:_.jsx(u,B({},h,{onClick:n,children:_.jsx(f,B({fontSize:"small"},m))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function lye(t){return dt("MuiPickersTextField",t)}ht("MuiPickersTextField",["root","focused","disabled","error","required"]);function uye(t){return dt("MuiPickersInputBase",t)}const Df=ht("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function cye(t){return dt("MuiPickersSectionList",t)}const wg=ht("MuiPickersSectionList",["root","section","sectionContent"]),dye=["slots","slotProps","elements","sectionListRef"],k6=de("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),_6=de("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),C6=de("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),T6=de("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),hye=t=>{const{classes:e}=t;return ut({root:["root"],section:["section"],sectionContent:["sectionContent"]},cye,e)};function fye(t){const{slots:e,slotProps:r,element:n,classes:i}=t,s=(e==null?void 0:e.section)??_6,a=ir({elementType:s,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:n.container,className:i.section,ownerState:{}}),o=(e==null?void 0:e.sectionContent)??T6,l=ir({elementType:o,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),u=(e==null?void 0:e.sectionSeparator)??C6,c=ir({elementType:u,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),h=ir({elementType:u,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return _.jsxs(s,B({},a,{children:[_.jsx(u,B({},c)),_.jsx(o,B({},l)),_.jsx(u,B({},h))]}))}const pye=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:s,elements:a,sectionListRef:o}=n,l=Re(n,dye),u=hye(n),c=k.useRef(null),h=Nr(r,c),f=y=>{if(!c.current)throw new Error(`MUI X: Cannot call sectionListRef.${y} before the mount of the component.`);return c.current};k.useImperativeHandle(o,()=>({getRoot(){return f("getRoot")},getSectionContainer(y){return f("getSectionContainer").querySelector(`.${wg.section}[data-sectionindex="${y}"]`)},getSectionContent(y){return f("getSectionContent").querySelector(`.${wg.section}[data-sectionindex="${y}"] .${wg.sectionContent}`)},getSectionIndexFromDOMElement(y){const b=f("getSectionIndexFromDOMElement");if(y==null||!b.contains(y))return null;let x=null;return y.classList.contains(wg.section)?x=y:y.classList.contains(wg.sectionContent)&&(x=y.parentElement),x==null?null:Number(x.dataset.sectionindex)}}));const m=(i==null?void 0:i.root)??k6,g=ir({elementType:m,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:h,suppressContentEditableWarning:!0},className:u.root,ownerState:{}});return _.jsx(m,B({},g,{children:g.contentEditable?a.map(({content:y,before:b,after:x})=>`${b.children}${y.children}${x.children}`).join(""):_.jsx(k.Fragment,{children:a.map((y,b)=>_.jsx(fye,{slots:i,slotProps:s,element:y,classes:u},b))})}))}),gye=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],mye=t=>Math.round(t*1e5)/1e5,A1=de("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>B({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${mye(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),DM=de(k6,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:r,filled:n,label:i})=>!e&&!r&&!n&&i==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),yye=de(_6,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),bye=de(T6,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),vye=de(C6,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),wye=de("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(B({},HB)),xye=t=>{const{focused:e,disabled:r,error:n,classes:i,fullWidth:s,readOnly:a,color:o,size:l,endAdornment:u,startAdornment:c}=t,h={root:["root",e&&!r&&"focused",r&&"disabled",a&&"readOnly",n&&"error",s&&"fullWidth",`color${je(o)}`,l==="small"&&"inputSizeSmall",!!c&&"adornedStart",!!u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return ut(h,uye,i)},IM=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:s,value:a,onChange:o,id:l,endAdornment:u,startAdornment:c,renderSuffix:h,slots:f,slotProps:m,contentEditable:g,tabIndex:y,onInput:b,onPaste:x,onKeyDown:v,name:w,readOnly:T,inputProps:P,inputRef:C,sectionListRef:M}=n,E=Re(n,gye),D=k.useRef(null),I=Nr(r,D),A=Nr(P==null?void 0:P.ref,C),W=Gi(),V=fa();if(!V)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const $=q=>{var ae;if(V.disabled){q.stopPropagation();return}(ae=V.onFocus)==null||ae.call(V,q)};k.useEffect(()=>{V&&V.setAdornedStart(!!c)},[V,c]),k.useEffect(()=>{V&&(s?V.onEmpty():V.onFilled())},[V,s]);const L=B({},n,V,{isRtl:W}),H=xye(L),z=(f==null?void 0:f.root)||A1,F=ir({elementType:z,externalSlotProps:m==null?void 0:m.root,externalForwardedProps:E,additionalProps:{"aria-invalid":V.error,ref:I},className:H.root,ownerState:L}),U=(f==null?void 0:f.input)||DM;return _.jsxs(z,B({},F,{children:[c,_.jsx(pye,{sectionListRef:M,elements:i,contentEditable:g,tabIndex:y,className:H.sectionsContainer,onFocus:$,onBlur:V.onBlur,onInput:b,onPaste:x,onKeyDown:v,slots:{root:U,section:yye,sectionContent:bye,sectionSeparator:vye},slotProps:{root:{ownerState:L},sectionContent:{className:Df.sectionContent},sectionSeparator:({position:q})=>({className:q==="before"?Df.sectionBefore:Df.sectionAfter})}}),u,h?h(B({},V)):null,_.jsx(wye,B({name:w,className:H.input,value:a,onChange:o,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:T,required:V.required,disabled:V.disabled},P,{ref:A}))]}))});function Sye(t){return dt("MuiPickersOutlinedInput",t)}const $o=B({},Df,ht("MuiPickersOutlinedInput",["root","notchedOutline","input"])),kye=["children","className","label","notched","shrink"],_ye=de("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),tF=de("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),Cye=de("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function Tye(t){const{className:e,label:r}=t,n=Re(t,kye),i=r!=null&&r!=="",s=B({},t,{withLabel:i});return _.jsx(_ye,B({"aria-hidden":!0,className:e},n,{ownerState:s,children:_.jsx(Cye,{ownerState:s,children:i?_.jsx(tF,{children:r}):_.jsx(tF,{className:"notranslate",children:""})})}))}const Pye=["label","autoFocus","ownerState","notched"],Bye=de(A1,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${$o.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${$o.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${$o.focused} .${$o.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${$o.disabled}`]:{[`& .${$o.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${$o.error} .${$o.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(r=>{var n;return((n=(t.vars??t).palette[r])==null?void 0:n.main)??!1}).map(r=>({props:{color:r},style:{[`&.${$o.focused}:not(.${$o.error}) .${$o.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}}))}}),Mye=de(DM,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Nye=t=>{const{classes:e}=t,n=ut({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Sye,e);return B({},e,n)},P6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:s,notched:a}=n,o=Re(n,Pye),l=fa(),u=B({},n,s,l,{color:(l==null?void 0:l.color)||"primary"}),c=Nye(u);return _.jsx(IM,B({slots:{root:Bye,input:Mye},renderSuffix:h=>_.jsx(Tye,{shrink:!!(a||h.adornedStart||h.focused||h.filled),notched:!!(a||h.adornedStart||h.focused||h.filled),className:c.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?_.jsxs(k.Fragment,{children:[i,"","*"]}):i,ownerState:u})},o,{label:i,classes:c,ref:r}))});P6.muiName="Input";function Eye(t){return dt("MuiPickersFilledInput",t)}const fd=B({},Df,ht("MuiPickersFilledInput",["root","underline","input"])),Rye=["label","autoFocus","disableUnderline","ownerState"],Dye=de(A1,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>tm(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${fd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${fd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(a=>(t.vars??t).palette[a].main).map(a=>{var o;return{props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[a])==null?void 0:o.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fd.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fd.disabled}, .${fd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${fd.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:a})=>!!a,style:{paddingLeft:12}},{props:({endAdornment:a})=>!!a,style:{paddingRight:12}}]}}),Iye=de(DM,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Lye=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},Eye,e);return B({},e,i)},B6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=Re(n,Rye),l=fa(),u=B({},n,a,l,{color:(l==null?void 0:l.color)||"primary"}),c=Lye(u);return _.jsx(IM,B({slots:{root:Dye,input:Iye},slotProps:{root:{disableUnderline:s}}},o,{label:i,classes:c,ref:r}))});B6.muiName="Input";function Fye(t){return dt("MuiPickersFilledInput",t)}const xg=B({},Df,ht("MuiPickersInput",["root","input"])),Aye=["label","autoFocus","disableUnderline","ownerState"],Oye=de(A1,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xg.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xg.disabled}, .${xg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${xg.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),$ye=t=>{const{classes:e,disableUnderline:r}=t,i=ut({root:["root",!r&&"underline"],input:["input"]},Fye,e);return B({},e,i)},M6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:s=!1,ownerState:a}=n,o=Re(n,Aye),l=fa(),u=B({},n,a,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),c=$ye(u);return _.jsx(IM,B({slots:{root:Oye}},o,{label:i,classes:c,ref:r}))});M6.muiName="Input";const Vye=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],zye={standard:M6,filled:B6,outlined:P6},Wye=de(uV,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Hye=t=>{const{focused:e,disabled:r,classes:n,required:i}=t;return ut({root:["root",e&&!r&&"focused",r&&"disabled",i&&"required"]},lye,n)},N6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:s,className:a,color:o="primary",disabled:l=!1,error:u=!1,variant:c="outlined",required:h=!1,InputProps:f,inputProps:m,inputRef:g,sectionListRef:y,elements:b,areAllSectionsEmpty:x,onClick:v,onKeyDown:w,onPaste:T,onInput:P,endAdornment:C,startAdornment:M,tabIndex:E,contentEditable:D,focused:I,value:A,onChange:W,fullWidth:V,id:$,name:L,helperText:H,FormHelperTextProps:z,label:F,InputLabelProps:U}=n,q=Re(n,Vye),ae=k.useRef(null),he=Nr(r,ae),be=Eo($),pe=H&&be?`${be}-helper-text`:void 0,ee=F&&be?`${be}-label`:void 0,ce=B({},n,{color:o,disabled:l,error:u,focused:I,required:h,variant:c}),ke=Hye(ce),Q=zye[c];return _.jsxs(Wye,B({className:Oe(ke.root,a),ref:he,focused:I,onFocus:i,onBlur:s,disabled:l,variant:c,error:u,color:o,fullWidth:V,required:h,ownerState:ce},q,{children:[_.jsx(mV,B({htmlFor:be,id:ee},U,{children:F})),_.jsx(Q,B({elements:b,areAllSectionsEmpty:x,onClick:v,onKeyDown:w,onInput:P,onPaste:T,endAdornment:C,startAdornment:M,tabIndex:E,contentEditable:D,value:A,onChange:W,id:be,fullWidth:V,inputProps:m,inputRef:g,sectionListRef:y,label:F,name:L,role:"group","aria-labelledby":ee},f)),H&&_.jsx(dV,B({id:pe},z,{children:H}))]}))}),Uye=["enableAccessibleFieldDOMStructure"],Gye=["InputProps","readOnly"],jye=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],E6=t=>{let{enableAccessibleFieldDOMStructure:e}=t,r=Re(t,Uye);if(e){const{InputProps:h,readOnly:f}=r,m=Re(r,Gye);return B({},m,{InputProps:B({},h??{},{readOnly:f})})}const{onPaste:n,onKeyDown:i,inputMode:s,readOnly:a,InputProps:o,inputProps:l,inputRef:u}=r,c=Re(r,jye);return B({},c,{InputProps:B({},o??{},{readOnly:a}),inputProps:B({},l??{},{inputMode:s,onPaste:n,onKeyDown:i,ref:u})})},Yye=["slots","slotProps","InputProps","inputProps"],R6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDateField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=Re(n,Yye),u=n,c=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?N6:Gm),h=ir({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:r},ownerState:u});h.inputProps=B({},o,h.inputProps),h.InputProps=B({},a,h.InputProps);const f=sye(h),m=E6(f),g=S6(B({},m,{slots:i,slotProps:s}));return _.jsx(c,B({},g))}),LM=({adapter:t,value:e,props:r})=>{if(e===null)return null;const{minTime:n,maxTime:i,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:o=!1,disablePast:l,disableFuture:u,timezone:c}=r,h=t.utils.date(void 0,c),f=qy(o,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&f(n,e)):return"minTime";case!!(i&&f(e,i)):return"maxTime";case!!(u&&t.utils.isAfter(e,h)):return"disableFuture";case!!(l&&t.utils.isBefore(e,h)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},Xye=t=>{const e=iye(t),{forwardedProps:r,internalProps:n}=x6(e,"time");return v6({forwardedProps:r,internalProps:n,valueManager:ks,fieldValueManager:p6,validator:LM,valueType:"time"})},qye=["slots","slotProps","InputProps","inputProps"],D6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTimeField"}),{slots:i,slotProps:s,InputProps:a,inputProps:o}=n,l=Re(n,qye),u=n,c=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?N6:Gm),h=ir({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:u,additionalProps:{ref:r}});h.inputProps=B({},o,h.inputProps),h.InputProps=B({},a,h.InputProps);const f=Xye(h),m=E6(f),g=S6(B({},m,{slots:i,slotProps:s}));return _.jsx(c,B({},g))}),I6=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o})=>{const l=yh();return k.useCallback(u=>L1({adapter:l,value:u,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:r,minDate:n,maxDate:i,disableFuture:s,disablePast:a,timezone:o}})!==null,[l,t,e,r,n,i,s,a,o])},Kye=(t,e,r)=>(n,i)=>{switch(i.type){case"changeMonth":return B({},n,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return B({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&i.focusedDay!=null&&r.isSameDay(i.focusedDay,n.focusedDay))return n;const s=i.focusedDay!=null&&!e&&!r.isSameMonth(n.currentMonth,i.focusedDay);return B({},n,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:s?r.startOfMonth(i.focusedDay):n.currentMonth,slideDirection:i.focusedDay!=null&&r.isAfterDay(i.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Qye=t=>{const{value:e,referenceDate:r,disableFuture:n,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:o,onMonthChange:l,reduceAnimations:u,shouldDisableDate:c,timezone:h}=t,f=Ar(),m=k.useRef(Kye(!!u,s,f)).current,g=k.useMemo(()=>ks.getInitialReferenceValue({value:e,utils:f,timezone:h,props:t,referenceDate:r,granularity:Yo.day}),[]),[y,b]=k.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),x=k.useCallback(C=>{b(B({type:"changeMonth"},C)),l&&l(C.newMonth)},[l]),v=k.useCallback(C=>{const M=C;f.isSameMonth(M,y.currentMonth)||x({newMonth:f.startOfMonth(M),direction:f.isAfterDay(M,y.currentMonth)?"left":"right"})},[y.currentMonth,x,f]),w=I6({shouldDisableDate:c,minDate:o,maxDate:a,disableFuture:n,disablePast:i,timezone:h}),T=k.useCallback(()=>{b({type:"finishMonthSwitchingAnimation"})},[]),P=yt((C,M)=>{w(C)||b({type:"changeFocusedDay",focusedDay:C,withoutMonthSwitchingAnimation:M})});return{referenceDate:g,calendarState:y,changeMonth:v,changeFocusedDay:P,isDateDisabled:w,onMonthSwitchingAnimationEnd:T,handleChangeMonth:x}},Jye=t=>dt("MuiPickersFadeTransitionGroup",t);ht("MuiPickersFadeTransitionGroup",["root"]);const Zye=t=>{const{classes:e}=t;return ut({root:["root"]},Jye,e)},e0e=de(ZB,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function L6(t){const e=tt({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=Zye(e),o=Ua();return i?r:_.jsx(e0e,{className:Oe(a.root,n),children:_.jsx(Cp,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:o.transitions.duration.enteringScreen,enter:o.transitions.duration.enteringScreen,exit:0},children:r},s)})}const t0e=t=>dt("MuiPickersSlideTransition",t),Za=ht("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),r0e=["children","className","reduceAnimations","slideDirection","transKey","classes"],n0e=t=>{const{classes:e,slideDirection:r}=t,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return ut(n,t0e,e)},i0e=de(ZB,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Za["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Za["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Za.slideEnterActive}`]:e.slideEnterActive},{[`.${Za.slideExit}`]:e.slideExit},{[`.${Za["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Za["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Za["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Za["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Za.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Za.slideExit}`]:{transform:"translate(0%)"},[`& .${Za["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Za["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function s0e(t){const e=tt({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:n,reduceAnimations:i,transKey:s}=e,a=Re(e,r0e),o=n0e(e),l=Ua();if(i)return _.jsx("div",{className:Oe(o.root,n),children:r});const u={exit:o.exit,enterActive:o.enterActive,enter:o.enter,exitActive:o.exitActive};return _.jsx(i0e,{className:Oe(o.root,n),childFactory:c=>k.cloneElement(c,{classNames:u}),role:"presentation",children:_.jsx(Mre,B({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},a,{children:r}),s)})}const a0e=t=>dt("MuiDayCalendar",t);ht("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const o0e=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],l0e=["ownerState"],u0e=t=>{const{classes:e}=t;return ut({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},a0e,e)},F6=(Km+E1*2)*6,c0e=de("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),d0e=de("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),h0e=de(qr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),f0e=de(qr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),p0e=de(qr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>B({},t.typography.caption,{width:Km,height:Km,padding:0,margin:`0 ${E1}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),g0e=de("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:F6}),m0e=de(s0e,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:F6}),y0e=de("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),b0e=de("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${E1}px 0`,display:"flex",justifyContent:"center"});function v0e(t){let{parentProps:e,day:r,focusableDay:n,selectedDays:i,isDateDisabled:s,currentMonthNumber:a,isViewFocused:o}=t,l=Re(t,o0e);const{disabled:u,disableHighlightToday:c,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:f,slots:m,slotProps:g,timezone:y}=e,b=Ar(),x=bh(y),v=n!==null&&b.isSameDay(r,n),w=i.some(W=>b.isSameDay(W,r)),T=b.isSameDay(r,x),P=(m==null?void 0:m.day)??zme,C=ir({elementType:P,externalSlotProps:g==null?void 0:g.day,additionalProps:B({disableHighlightToday:c,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:h,"data-timestamp":b.toJsDate(r).valueOf()},l),ownerState:B({},e,{day:r,selected:w})}),M=Re(C,l0e),E=k.useMemo(()=>u||s(r),[u,s,r]),D=k.useMemo(()=>b.getMonth(r)!==a,[b,r,a]),I=k.useMemo(()=>{const W=b.startOfMonth(b.setMonth(r,a));return f?b.isSameDay(r,b.startOfWeek(W)):b.isSameDay(r,W)},[a,r,f,b]),A=k.useMemo(()=>{const W=b.endOfMonth(b.setMonth(r,a));return f?b.isSameDay(r,b.endOfWeek(W)):b.isSameDay(r,W)},[a,r,f,b]);return _.jsx(P,B({},M,{day:r,disabled:E,autoFocus:o&&v,today:T,outsideCurrentMonth:D,isFirstVisibleCell:I,isLastVisibleCell:A,selected:w,tabIndex:v?0:-1,"aria-selected":w,"aria-current":T?"date":void 0}))}function w0e(t){const e=tt({props:t,name:"MuiDayCalendar"}),r=Ar(),{onFocusedDayChange:n,className:i,currentMonth:s,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:h,reduceAnimations:f,renderLoading:m=()=>_.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:y,disablePast:b,disableFuture:x,minDate:v,maxDate:w,shouldDisableDate:T,shouldDisableMonth:P,shouldDisableYear:C,dayOfWeekFormatter:M=Se=>r.format(Se,"weekdayShort").charAt(0).toUpperCase(),hasFocus:E,onFocusedViewChange:D,gridLabelId:I,displayWeekNumber:A,fixedWeekNumber:W,autoFocus:V,timezone:$}=e,L=bh($),H=u0e(e),z=Gi(),F=I6({shouldDisableDate:T,shouldDisableMonth:P,shouldDisableYear:C,minDate:v,maxDate:w,disablePast:b,disableFuture:x,timezone:$}),U=_s(),[q,ae]=La({name:"DayCalendar",state:"hasFocus",controlled:E,default:V??!1}),[he,be]=k.useState(()=>o||L),pe=yt(Se=>{h||u(Se)}),ee=Se=>{F(Se)||(n(Se),be(Se),D==null||D(!0),ae(!0))},ce=yt((Se,j)=>{switch(Se.key){case"ArrowUp":ee(r.addDays(j,-7)),Se.preventDefault();break;case"ArrowDown":ee(r.addDays(j,7)),Se.preventDefault();break;case"ArrowLeft":{const ne=r.addDays(j,z?1:-1),te=r.addMonths(j,z?1:-1),ge=um({utils:r,date:ne,minDate:z?ne:r.startOfMonth(te),maxDate:z?r.endOfMonth(te):ne,isDateDisabled:F,timezone:$});ee(ge||ne),Se.preventDefault();break}case"ArrowRight":{const ne=r.addDays(j,z?-1:1),te=r.addMonths(j,z?-1:1),ge=um({utils:r,date:ne,minDate:z?r.startOfMonth(te):ne,maxDate:z?ne:r.endOfMonth(te),isDateDisabled:F,timezone:$});ee(ge||ne),Se.preventDefault();break}case"Home":ee(r.startOfWeek(j)),Se.preventDefault();break;case"End":ee(r.endOfWeek(j)),Se.preventDefault();break;case"PageUp":ee(r.addMonths(j,1)),Se.preventDefault();break;case"PageDown":ee(r.addMonths(j,-1)),Se.preventDefault();break}}),ke=yt((Se,j)=>ee(j)),Q=yt((Se,j)=>{q&&r.isSameDay(he,j)&&(D==null||D(!1))}),Z=r.getMonth(s),le=r.getYear(s),ue=k.useMemo(()=>a.filter(Se=>!!Se).map(Se=>r.startOfDay(Se)),[r,a]),re=`${le}-${Z}`,K=k.useMemo(()=>k.createRef(),[re]),J=r.startOfWeek(L),se=k.useMemo(()=>{const Se=r.startOfMonth(s),j=r.endOfMonth(s);return F(he)||r.isAfterDay(he,j)||r.isBeforeDay(he,Se)?um({utils:r,date:he,minDate:Se,maxDate:j,disablePast:b,disableFuture:x,isDateDisabled:F,timezone:$}):he},[s,x,b,he,F,r,$]),Me=k.useMemo(()=>{const Se=r.setTimezone(s,$),j=r.getWeekArray(Se);let ne=r.addMonths(Se,1);for(;W&&j.length<W;){const te=r.getWeekArray(ne),ge=r.isSameDay(j[j.length-1][0],te[0][0]);te.slice(ge?1:0).forEach(Be=>{j.length<W&&j.push(Be)}),ne=r.addMonths(ne,1)}return j},[s,W,r,$]);return _.jsxs(c0e,{role:"grid","aria-labelledby":I,className:H.root,children:[_.jsxs(d0e,{role:"row",className:H.header,children:[A&&_.jsx(f0e,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:H.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),Dge(r,L).map((Se,j)=>_.jsx(h0e,{variant:"caption",role:"columnheader","aria-label":r.format(r.addDays(J,j),"weekday"),className:H.weekDayLabel,children:M(Se)},j.toString()))]}),l?_.jsx(g0e,{className:H.loadingContainer,children:m()}):_.jsx(m0e,B({transKey:re,onExited:c,reduceAnimations:f,slideDirection:g,className:Oe(i,H.slideTransition)},y,{nodeRef:K,children:_.jsx(y0e,{ref:K,role:"rowgroup",className:H.monthContainer,children:Me.map((Se,j)=>_.jsxs(b0e,{role:"row",className:H.weekContainer,"aria-rowindex":j+1,children:[A&&_.jsx(p0e,{className:H.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(r.getWeekNumber(Se[0])),children:U.calendarWeekNumberText(r.getWeekNumber(Se[0]))}),Se.map((ne,te)=>_.jsx(v0e,{parentProps:e,day:ne,selectedDays:ue,focusableDay:se,onKeyDown:ce,onFocus:ke,onBlur:Q,onDaySelect:pe,isDateDisabled:F,currentMonthNumber:Z,isViewFocused:q,"aria-colindex":te+1},ne.toString()))]},`week-${Se[0]}`))})}))]})}function x0e(t){return dt("MuiPickersMonth",t)}const Nb=ht("MuiPickersMonth",["root","monthButton","disabled","selected"]),S0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],k0e=t=>{const{disabled:e,selected:r,classes:n}=t;return ut({root:["root"],monthButton:["monthButton",e&&"disabled",r&&"selected"]},x0e,n)},_0e=de("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),C0e=de("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Nb.disabled}`]:e.disabled},{[`&.${Nb.selected}`]:e.selected}]})(({theme:t})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Nb.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Nb.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),T0e=k.memo(function(e){const r=tt({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:u,onClick:c,onKeyDown:h,onFocus:f,onBlur:m,"aria-current":g,"aria-label":y,slots:b,slotProps:x}=r,v=Re(r,S0e),w=k.useRef(null),T=k0e(r);Dn(()=>{var M;n&&((M=w.current)==null||M.focus())},[n]);const P=(b==null?void 0:b.monthButton)??C0e,C=ir({elementType:P,externalSlotProps:x==null?void 0:x.monthButton,additionalProps:{children:s,disabled:a,tabIndex:u,ref:w,type:"button",role:"radio","aria-current":g,"aria-checked":o,"aria-label":y,onClick:M=>c(M,l),onKeyDown:M=>h(M,l),onFocus:M=>f(M,l),onBlur:M=>m(M,l)},ownerState:r,className:T.monthButton});return _.jsx(_0e,B({className:Oe(T.root,i),ownerState:r},v,{children:_.jsx(P,B({},C))}))});function P0e(t){return dt("MuiMonthCalendar",t)}ht("MuiMonthCalendar",["root"]);const B0e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],M0e=t=>{const{classes:e}=t;return ut({root:["root"]},P0e,e)};function N0e(t,e){const r=Ar(),n=Xy(),i=tt({props:t,name:e});return B({disableFuture:!1,disablePast:!1},i,{minDate:Bo(r,i.minDate,n.minDate),maxDate:Bo(r,i.maxDate,n.maxDate)})}const E0e=de("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:R1,boxSizing:"border-box"}),R0e=k.forwardRef(function(e,r){const n=N0e(e,"MuiMonthCalendar"),{className:i,value:s,defaultValue:a,referenceDate:o,disabled:l,disableFuture:u,disablePast:c,maxDate:h,minDate:f,onChange:m,shouldDisableMonth:g,readOnly:y,autoFocus:b=!1,onMonthFocus:x,hasFocus:v,onFocusedViewChange:w,monthsPerRow:T=3,timezone:P,gridLabelId:C,slots:M,slotProps:E}=n,D=Re(n,B0e),{value:I,handleValueChange:A,timezone:W}=Tp({name:"MonthCalendar",timezone:P,value:s,defaultValue:a,onChange:m,valueManager:ks}),V=bh(W),$=Gi(),L=Ar(),H=k.useMemo(()=>ks.getInitialReferenceValue({value:I,utils:L,props:n,timezone:W,referenceDate:o,granularity:Yo.month}),[]),z=n,F=M0e(z),U=k.useMemo(()=>L.getMonth(V),[L,V]),q=k.useMemo(()=>I!=null?L.getMonth(I):null,[I,L]),[ae,he]=k.useState(()=>q||L.getMonth(H)),[be,pe]=La({name:"MonthCalendar",state:"hasFocus",controlled:v,default:b??!1}),ee=yt(re=>{pe(re),w&&w(re)}),ce=k.useCallback(re=>{const K=L.startOfMonth(c&&L.isAfter(V,f)?V:f),J=L.startOfMonth(u&&L.isBefore(V,h)?V:h),se=L.startOfMonth(re);return L.isBefore(se,K)||L.isAfter(se,J)?!0:g?g(se):!1},[u,c,h,f,V,g,L]),ke=yt((re,K)=>{if(y)return;const J=L.setMonth(I??H,K);A(J)}),Q=yt(re=>{ce(L.setMonth(I??H,re))||(he(re),ee(!0),x&&x(re))});k.useEffect(()=>{he(re=>q!==null&&re!==q?q:re)},[q]);const Z=yt((re,K)=>{switch(re.key){case"ArrowUp":Q((12+K-3)%12),re.preventDefault();break;case"ArrowDown":Q((12+K+3)%12),re.preventDefault();break;case"ArrowLeft":Q((12+K+($?1:-1))%12),re.preventDefault();break;case"ArrowRight":Q((12+K+($?-1:1))%12),re.preventDefault();break}}),le=yt((re,K)=>{Q(K)}),ue=yt((re,K)=>{ae===K&&ee(!1)});return _.jsx(E0e,B({ref:r,className:Oe(F.root,i),ownerState:z,role:"radiogroup","aria-labelledby":C},D,{children:TM(L,I??H).map(re=>{const K=L.getMonth(re),J=L.format(re,"monthShort"),se=L.format(re,"month"),Me=K===q,Se=l||ce(re);return _.jsx(T0e,{selected:Me,value:K,onClick:ke,onKeyDown:Z,autoFocus:be&&K===ae,disabled:Se,tabIndex:K===ae&&!Se?0:-1,onFocus:le,onBlur:ue,"aria-current":U===K?"date":void 0,"aria-label":se,monthsPerRow:T,slots:M,slotProps:E,children:J},J)})}))});function D0e(t){return dt("MuiPickersYear",t)}const Eb=ht("MuiPickersYear",["root","yearButton","selected","disabled"]),I0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],L0e=t=>{const{disabled:e,selected:r,classes:n}=t;return ut({root:["root"],yearButton:["yearButton",e&&"disabled",r&&"selected"]},D0e,n)},F0e=de("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),A0e=de("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Eb.disabled}`]:e.disabled},{[`&.${Eb.selected}`]:e.selected}]})(({theme:t})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:zl(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Eb.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Eb.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),O0e=k.memo(function(e){const r=tt({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:i,children:s,disabled:a,selected:o,value:l,tabIndex:u,onClick:c,onKeyDown:h,onFocus:f,onBlur:m,"aria-current":g,slots:y,slotProps:b}=r,x=Re(r,I0e),v=k.useRef(null),w=L0e(r);Dn(()=>{var C;n&&((C=v.current)==null||C.focus())},[n]);const T=(y==null?void 0:y.yearButton)??A0e,P=ir({elementType:T,externalSlotProps:b==null?void 0:b.yearButton,additionalProps:{children:s,disabled:a,tabIndex:u,ref:v,type:"button",role:"radio","aria-current":g,"aria-checked":o,onClick:C=>c(C,l),onKeyDown:C=>h(C,l),onFocus:C=>f(C,l),onBlur:C=>m(C,l)},ownerState:r,className:w.yearButton});return _.jsx(F0e,B({className:Oe(w.root,i),ownerState:r},x,{children:_.jsx(T,B({},P))}))});function $0e(t){return dt("MuiYearCalendar",t)}ht("MuiYearCalendar",["root"]);const V0e=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],z0e=t=>{const{classes:e}=t;return ut({root:["root"]},$0e,e)};function W0e(t,e){const r=Ar(),n=Xy(),i=tt({props:t,name:e});return B({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:Bo(r,i.minDate,n.minDate),maxDate:Bo(r,i.maxDate,n.maxDate)})}const H0e=de("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:R1,maxHeight:gge,boxSizing:"border-box",position:"relative"}),U0e=k.forwardRef(function(e,r){const n=W0e(e,"MuiYearCalendar"),{autoFocus:i,className:s,value:a,defaultValue:o,referenceDate:l,disabled:u,disableFuture:c,disablePast:h,maxDate:f,minDate:m,onChange:g,readOnly:y,shouldDisableYear:b,onYearFocus:x,hasFocus:v,onFocusedViewChange:w,yearsPerRow:T,timezone:P,gridLabelId:C,slots:M,slotProps:E}=n,D=Re(n,V0e),{value:I,handleValueChange:A,timezone:W}=Tp({name:"YearCalendar",timezone:P,value:a,defaultValue:o,onChange:g,valueManager:ks}),V=bh(W),$=Gi(),L=Ar(),H=k.useMemo(()=>ks.getInitialReferenceValue({value:I,utils:L,props:n,timezone:W,referenceDate:l,granularity:Yo.year}),[]),z=n,F=z0e(z),U=k.useMemo(()=>L.getYear(V),[L,V]),q=k.useMemo(()=>I!=null?L.getYear(I):null,[I,L]),[ae,he]=k.useState(()=>q||L.getYear(H)),[be,pe]=La({name:"YearCalendar",state:"hasFocus",controlled:v,default:i??!1}),ee=yt(J=>{pe(J),w&&w(J)}),ce=k.useCallback(J=>{if(h&&L.isBeforeYear(J,V)||c&&L.isAfterYear(J,V)||m&&L.isBeforeYear(J,m)||f&&L.isAfterYear(J,f))return!0;if(!b)return!1;const se=L.startOfYear(J);return b(se)},[c,h,f,m,V,b,L]),ke=yt((J,se)=>{if(y)return;const Me=L.setYear(I??H,se);A(Me)}),Q=yt(J=>{ce(L.setYear(I??H,J))||(he(J),ee(!0),x==null||x(J))});k.useEffect(()=>{he(J=>q!==null&&J!==q?q:J)},[q]);const Z=yt((J,se)=>{switch(J.key){case"ArrowUp":Q(se-T),J.preventDefault();break;case"ArrowDown":Q(se+T),J.preventDefault();break;case"ArrowLeft":Q(se+($?1:-1)),J.preventDefault();break;case"ArrowRight":Q(se+($?-1:1)),J.preventDefault();break}}),le=yt((J,se)=>{Q(se)}),ue=yt((J,se)=>{ae===se&&ee(!1)}),re=k.useRef(null),K=Nr(r,re);return k.useEffect(()=>{if(i||re.current===null)return;const J=re.current.querySelector('[tabindex="0"]');if(!J)return;const se=J.offsetHeight,Me=J.offsetTop,Se=re.current.clientHeight,j=re.current.scrollTop,ne=Me+se;se>Se||Me<j||(re.current.scrollTop=ne-Se/2-se/2)},[i]),_.jsx(H0e,B({ref:K,className:Oe(F.root,s),ownerState:z,role:"radiogroup","aria-labelledby":C},D,{children:L.getYearRange([m,f]).map(J=>{const se=L.getYear(J),Me=se===q,Se=u||ce(J);return _.jsx(O0e,{selected:Me,value:se,onClick:ke,onKeyDown:Z,autoFocus:be&&se===ae,disabled:Se,tabIndex:se===ae&&!Se?0:-1,onFocus:le,onBlur:ue,"aria-current":U===se?"date":void 0,yearsPerRow:T,slots:M,slotProps:E,children:L.format(J,"year")},L.format(J,"year"))})}))}),G0e=t=>dt("MuiPickersCalendarHeader",t),j0e=ht("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Y0e=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],X0e=["ownerState"],q0e=t=>{const{classes:e}=t;return ut({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},G0e,e)},K0e=de("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Q0e=de("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>B({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),J0e=de("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),Z0e=de(fs,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${j0e.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),ebe=de(Qpe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),tbe=k.forwardRef(function(e,r){const n=_s(),i=Ar(),s=tt({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:o,currentMonth:l,disabled:u,disableFuture:c,disablePast:h,maxDate:f,minDate:m,onMonthChange:g,onViewChange:y,view:b,reduceAnimations:x,views:v,labelId:w,className:T,timezone:P,format:C=`${i.formats.month} ${i.formats.year}`}=s,M=Re(s,Y0e),E=s,D=q0e(s),I=(a==null?void 0:a.switchViewButton)??Z0e,A=ir({elementType:I,externalSlotProps:o==null?void 0:o.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(b)},ownerState:E,className:D.switchViewButton}),W=(a==null?void 0:a.switchViewIcon)??ebe,V=ir({elementType:W,externalSlotProps:o==null?void 0:o.switchViewIcon,ownerState:void 0,className:D.switchViewIcon}),$=Re(V,X0e),L=()=>g(i.addMonths(l,1),"left"),H=()=>g(i.addMonths(l,-1),"right"),z=fge(l,{disableFuture:c,maxDate:f,timezone:P}),F=pge(l,{disablePast:h,minDate:m,timezone:P}),U=()=>{if(!(v.length===1||!y||u))if(v.length===2)y(v.find(ae=>ae!==b)||v[0]);else{const ae=v.indexOf(b)!==0?0:1;y(v[ae])}};if(v.length===1&&v[0]==="year")return null;const q=i.formatByString(l,C);return _.jsxs(K0e,B({},M,{ownerState:E,className:Oe(T,D.root),ref:r,children:[_.jsxs(Q0e,{role:"presentation",onClick:U,ownerState:E,"aria-live":"polite",className:D.labelContainer,children:[_.jsx(L6,{reduceAnimations:x,transKey:q,children:_.jsx(J0e,{id:w,ownerState:E,className:D.label,children:q})}),v.length>1&&!u&&_.jsx(I,B({},A,{children:_.jsx(W,B({},$))}))]}),_.jsx(Cp,{in:b==="day",children:_.jsx(e6,{slots:a,slotProps:o,onGoToPrevious:H,isPreviousDisabled:F,previousLabel:n.previousMonth,onGoToNext:L,isNextDisabled:z,nextLabel:n.nextMonth})})]}))}),rbe="@media (prefers-reduced-motion: reduce)",If=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),rF=If&&If[1]?parseInt(If[1],10):null,nF=If&&If[2]?parseInt(If[2],10):null,nbe=rF&&rF<10||nF&&nF<13||!1,A6=()=>zB(rbe,{defaultMatches:!1})||nbe,ibe=t=>dt("MuiDateCalendar",t);ht("MuiDateCalendar",["root","viewTransitionContainer"]);const sbe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],abe=t=>{const{classes:e}=t;return ut({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},ibe,e)};function obe(t,e){const r=Ar(),n=Xy(),i=A6(),s=tt({props:t,name:e});return B({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??i,renderLoading:s.renderLoading??(()=>_.jsx("span",{children:"..."})),minDate:Bo(r,s.minDate,n.minDate),maxDate:Bo(r,s.maxDate,n.maxDate)})}const lbe=de(D1,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:CM}),ube=de(L6,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),cbe=k.forwardRef(function(e,r){const n=Ar(),i=Eo(),s=obe(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:o,value:l,defaultValue:u,referenceDate:c,disableFuture:h,disablePast:f,onChange:m,onYearChange:g,onMonthChange:y,reduceAnimations:b,shouldDisableDate:x,shouldDisableMonth:v,shouldDisableYear:w,view:T,views:P,openTo:C,className:M,disabled:E,readOnly:D,minDate:I,maxDate:A,disableHighlightToday:W,focusedView:V,onFocusedViewChange:$,showDaysOutsideCurrentMonth:L,fixedWeekNumber:H,dayOfWeekFormatter:z,slots:F,slotProps:U,loading:q,renderLoading:ae,displayWeekNumber:he,yearsPerRow:be,monthsPerRow:pe,timezone:ee}=s,ce=Re(s,sbe),{value:ke,handleValueChange:Q,timezone:Z}=Tp({name:"DateCalendar",timezone:ee,value:l,defaultValue:u,onChange:m,valueManager:ks}),{view:le,setView:ue,focusedView:re,setFocusedView:K,goToNextView:J,setValueAndGoToNextView:se}=Ky({view:T,views:P,openTo:C,onChange:Q,onViewChange:o,autoFocus:a,focusedView:V,onFocusedViewChange:$}),{referenceDate:Me,calendarState:Se,changeFocusedDay:j,changeMonth:ne,handleChangeMonth:te,isDateDisabled:ge,onMonthSwitchingAnimationEnd:Be}=Qye({value:ke,referenceDate:c,reduceAnimations:b,onMonthChange:y,minDate:I,maxDate:A,shouldDisableDate:x,disablePast:f,disableFuture:h,timezone:Z}),Te=E&&ke||I,Ge=E&&ke||A,ot=`${i}-grid-label`,Et=re!==null,Lt=(F==null?void 0:F.calendarHeader)??tbe,De=ir({elementType:Lt,externalSlotProps:U==null?void 0:U.calendarHeader,additionalProps:{views:P,view:le,currentMonth:Se.currentMonth,onViewChange:ue,onMonthChange:(vt,tr)=>te({newMonth:vt,direction:tr}),minDate:Te,maxDate:Ge,disabled:E,disablePast:f,disableFuture:h,reduceAnimations:b,timezone:Z,labelId:ot},ownerState:s}),_e=yt(vt=>{const tr=n.startOfMonth(vt),Er=n.endOfMonth(vt),_r=ge(vt)?um({utils:n,date:vt,minDate:n.isBefore(I,tr)?tr:I,maxDate:n.isAfter(A,Er)?Er:A,disablePast:f,disableFuture:h,isDateDisabled:ge,timezone:Z}):vt;_r?(se(_r,"finish"),y==null||y(tr)):(J(),ne(tr)),j(_r,!0)}),Ne=yt(vt=>{const tr=n.startOfYear(vt),Er=n.endOfYear(vt),_r=ge(vt)?um({utils:n,date:vt,minDate:n.isBefore(I,tr)?tr:I,maxDate:n.isAfter(A,Er)?Er:A,disablePast:f,disableFuture:h,isDateDisabled:ge,timezone:Z}):vt;_r?(se(_r,"finish"),g==null||g(_r)):(J(),ne(tr)),j(_r,!0)}),at=yt(vt=>Q(vt&&kw(n,vt,ke??Me),"finish",le));k.useEffect(()=>{ke!=null&&n.isValid(ke)&&ne(ke)},[ke]);const ft=s,Ze=abe(ft),Mt={disablePast:f,disableFuture:h,maxDate:A,minDate:I},qe={disableHighlightToday:W,readOnly:D,disabled:E,timezone:Z,gridLabelId:ot,slots:F,slotProps:U},Ye=k.useRef(le);k.useEffect(()=>{Ye.current!==le&&(re===Ye.current&&K(le,!0),Ye.current=le)},[re,K,le]);const xt=k.useMemo(()=>[ke],[ke]);return _.jsxs(lbe,B({ref:r,className:Oe(Ze.root,M),ownerState:ft},ce,{children:[_.jsx(Lt,B({},De,{slots:F,slotProps:U})),_.jsx(ube,{reduceAnimations:b,className:Ze.viewTransitionContainer,transKey:le,ownerState:ft,children:_.jsxs("div",{children:[le==="year"&&_.jsx(U0e,B({},Mt,qe,{value:ke,onChange:Ne,shouldDisableYear:w,hasFocus:Et,onFocusedViewChange:vt=>K("year",vt),yearsPerRow:be,referenceDate:Me})),le==="month"&&_.jsx(R0e,B({},Mt,qe,{hasFocus:Et,className:M,value:ke,onChange:_e,shouldDisableMonth:v,onFocusedViewChange:vt=>K("month",vt),monthsPerRow:pe,referenceDate:Me})),le==="day"&&_.jsx(w0e,B({},Se,Mt,qe,{onMonthSwitchingAnimationEnd:Be,onFocusedDayChange:j,reduceAnimations:b,selectedDays:xt,onSelectedDaysChange:at,shouldDisableDate:x,shouldDisableMonth:v,shouldDisableYear:w,hasFocus:Et,onFocusedViewChange:vt=>K("day",vt),showDaysOutsideCurrentMonth:L,fixedWeekNumber:H,dayOfWeekFormatter:z,displayWeekNumber:he,loading:q,renderLoading:ae}))]})})]}))});function O6(t){return dt("MuiPickersToolbar",t)}ht("MuiPickersToolbar",["root","content"]);const dbe=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],hbe=t=>{const{classes:e,isLandscape:r}=t;return ut({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},O6,e)},fbe=de("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),pbe=de("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),$6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:a,hidden:o,titleId:l}=n,u=Re(n,dbe),c=n,h=hbe(c);return o?null:_.jsxs(fbe,B({ref:r,className:Oe(h.root,s),ownerState:c},u,{children:[_.jsx(qr,{color:"text.secondary",variant:"overline",id:l,children:a}),_.jsx(pbe,{className:h.content,ownerState:c,children:i})]}))});function gbe(t){return dt("MuiDatePickerToolbar",t)}ht("MuiDatePickerToolbar",["root","title"]);const mbe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],ybe=t=>{const{classes:e}=t;return ut({root:["root"],title:["title"]},gbe,e)},bbe=de($6,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vbe=de(qr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),wbe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:a,toolbarPlaceholder:o="",views:l,className:u}=n,c=Re(n,mbe),h=Ar(),f=_s(),m=ybe(n),g=k.useMemo(()=>{if(!i)return o;const b=BM(h,{format:a,views:l},!0);return h.formatByString(i,b)},[i,a,o,h,l]),y=n;return _.jsx(bbe,B({ref:r,toolbarTitle:f.datePickerToolbarTitle,isLandscape:s,className:Oe(m.root,u)},c,{children:_.jsx(vbe,{variant:"h4",align:s?"left":"center",ownerState:y,className:m.title,children:g})}))});function V6(t,e){const r=Ar(),n=Xy(),i=tt({props:t,name:e}),s=k.useMemo(()=>{var a;return((a=i.localeText)==null?void 0:a.toolbarTitle)==null?i.localeText:B({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return B({},i,{localeText:s},t6({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:Bo(r,i.minDate,n.minDate),maxDate:Bo(r,i.maxDate,n.maxDate),slots:B({toolbar:wbe},i.slots)})}function xbe(t){return dt("MuiPickersPopper",t)}ht("MuiPickersPopper",["root","paper"]);const Sbe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],kbe=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"]},xbe,e)},_be=de(K4,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),Cbe=de(mh,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function Tbe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Pbe(t,e){const r=k.useRef(!1),n=k.useRef(!1),i=k.useRef(null),s=k.useRef(!1);k.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const a=yt(l=>{if(!s.current)return;const u=n.current;n.current=!1;const c=Kn(i.current);if(!i.current||"clientX"in l&&Tbe(l,c))return;if(r.current){r.current=!1;return}let h;l.composedPath?h=l.composedPath().indexOf(i.current)>-1:h=!c.documentElement.contains(l.target)||i.current.contains(l.target),!h&&!u&&e(l)}),o=()=>{n.current=!0};return k.useEffect(()=>{if(t){const l=Kn(i.current),u=()=>{r.current=!0};return l.addEventListener("touchstart",a),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchmove",u)}}},[t,a]),k.useEffect(()=>{if(t){const l=Kn(i.current);return l.addEventListener("click",a),()=>{l.removeEventListener("click",a),n.current=!1}}},[t,a]),[i,o,o]}const Bbe=k.forwardRef((t,e)=>{const{PaperComponent:r,popperPlacement:n,ownerState:i,children:s,paperSlotProps:a,paperClasses:o,onPaperClick:l,onPaperTouchStart:u}=t,c=Re(t,Sbe),h=B({},i,{placement:n}),f=ir({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:o,ownerState:h});return _.jsx(r,B({},c,f,{onClick:m=>{var g;l(m),(g=f.onClick)==null||g.call(f,m)},onTouchStart:m=>{var g;u(m),(g=f.onTouchStart)==null||g.call(f,m)},ownerState:h,children:s}))});function Mbe(t){const e=tt({props:t,name:"MuiPickersPopper"}),{anchorEl:r,children:n,containerRef:i=null,shouldRestoreFocus:s,onBlur:a,onDismiss:o,open:l,role:u,placement:c,slots:h,slotProps:f,reduceAnimations:m}=e;k.useEffect(()=>{function L(H){l&&H.key==="Escape"&&o()}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[o,l]);const g=k.useRef(null);k.useEffect(()=>{u==="tooltip"||s&&!s()||(l?g.current=fo(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[l,u,s]);const[y,b,x]=Pbe(l,a??o),v=k.useRef(null),w=Nr(v,i),T=Nr(w,y),P=e,C=kbe(P),M=A6(),E=m??M,D=L=>{L.key==="Escape"&&(L.stopPropagation(),o())},I=(h==null?void 0:h.desktopTransition)??E?Cp:fV,A=(h==null?void 0:h.desktopTrapFocus)??I4,W=(h==null?void 0:h.desktopPaper)??Cbe,V=(h==null?void 0:h.popper)??_be,$=ir({elementType:V,externalSlotProps:f==null?void 0:f.popper,additionalProps:{transition:!0,role:u,open:l,anchorEl:r,placement:c,onKeyDown:D},className:C.root,ownerState:e});return _.jsx(V,B({},$,{children:({TransitionProps:L,placement:H})=>_.jsx(A,B({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:u==="tooltip",isEnabled:()=>!0},f==null?void 0:f.desktopTrapFocus,{children:_.jsx(I,B({},L,f==null?void 0:f.desktopTransition,{children:_.jsx(Bbe,{PaperComponent:W,ownerState:P,popperPlacement:H,ref:T,onPaperClick:b,onPaperTouchStart:x,paperClasses:C.paper,paperSlotProps:f==null?void 0:f.desktopPaper,children:n})}))}))}))}const Nbe=({open:t,onOpen:e,onClose:r})=>{const n=k.useRef(typeof t=="boolean").current,[i,s]=k.useState(!1);k.useEffect(()=>{if(n){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[n,t]);const a=k.useCallback(o=>{n||s(o),o&&e&&e(),!o&&r&&r()},[n,e,r]);return{isOpen:i,setIsOpen:a}},Ebe=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i}=t,s=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:r(n.lastPublishedValue):!1},Rbe=t=>{const{action:e,hasChanged:r,dateState:n,isControlled:i,closeOnSelect:s}=t,a=!i&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:r(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?a?!0:r(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&r(n.lastCommittedValue):!1},Dbe=t=>{const{action:e,closeOnSelect:r}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&r:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},Ibe=({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:i})=>{const{onAccept:s,onChange:a,value:o,defaultValue:l,closeOnSelect:u=n==="desktop",timezone:c}=t,{current:h}=k.useRef(l),{current:f}=k.useRef(o!==void 0),m=Ar(),g=yh(),{isOpen:y,setIsOpen:b}=Nbe(t),{timezone:x,value:v,handleValueChange:w}=MM({timezone:c,value:o,defaultValue:h,onChange:a,valueManager:e}),[T,P]=k.useState(()=>{let be;return v!==void 0?be=v:h!==void 0?be=h:be=e.emptyValue,{draft:be,lastPublishedValue:be,lastCommittedValue:be,lastControlledValue:v,hasBeenModifiedSinceMount:!1}});y6(B({},t,{value:T.draft,timezone:x}),i,e.isSameError,e.defaultErrorState);const C=yt(be=>{const pe={action:be,dateState:T,hasChanged:le=>!e.areValuesEqual(m,be.value,le),isControlled:f,closeOnSelect:u},ee=Ebe(pe),ce=Rbe(pe),ke=Dbe(pe);P(le=>B({},le,{draft:be.value,lastPublishedValue:ee?be.value:le.lastPublishedValue,lastCommittedValue:ce?be.value:le.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let Q=null;const Z=()=>(Q||(Q={validationError:be.name==="setValueFromField"?be.context.validationError:i({adapter:g,value:be.value,props:B({},t,{value:be.value,timezone:x})})},be.name==="setValueFromShortcut"&&(Q.shortcut=be.shortcut)),Q);ee&&w(be.value,Z()),ce&&s&&s(be.value,Z()),ke&&b(!1)});if(v!==void 0&&(T.lastControlledValue===void 0||!e.areValuesEqual(m,T.lastControlledValue,v))){const be=e.areValuesEqual(m,T.draft,v);P(pe=>B({},pe,{lastControlledValue:v},be?{}:{lastCommittedValue:v,lastPublishedValue:v,draft:v,hasBeenModifiedSinceMount:!0}))}const M=yt(()=>{C({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),E=yt(()=>{C({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),D=yt(()=>{C({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),I=yt(()=>{C({value:T.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),A=yt(()=>{C({value:e.getTodayValue(m,x,r),name:"setValueFromAction",pickerAction:"today"})}),W=yt(be=>{be.preventDefault(),b(!0)}),V=yt(be=>{be==null||be.preventDefault(),b(!1)}),$=yt((be,pe="partial")=>C({name:"setValueFromView",value:be,selectionState:pe})),L=yt((be,pe,ee)=>C({name:"setValueFromShortcut",value:be,changeImportance:pe,shortcut:ee})),H=yt((be,pe)=>C({name:"setValueFromField",value:be,context:pe})),z={onClear:M,onAccept:E,onDismiss:D,onCancel:I,onSetToday:A,onOpen:W,onClose:V},F={value:T.draft,onChange:H},U=k.useMemo(()=>e.cleanValue(m,T.draft),[m,e,T.draft]),q={value:U,onChange:$,onClose:V,open:y},he=B({},z,{value:U,onChange:$,onSelectShortcut:L,isValid:be=>{const pe=i({adapter:g,value:be,props:B({},t,{value:be,timezone:x})});return!e.hasError(pe)}});return{open:y,fieldProps:F,viewProps:q,layoutProps:he,actions:z}},Lbe=["className","sx"],Fbe=({props:t,propsFromPickerValue:e,additionalViewProps:r,autoFocusView:n,rendererInterceptor:i,fieldRef:s})=>{const{onChange:a,open:o,onClose:l}=e,{view:u,views:c,openTo:h,onViewChange:f,viewRenderers:m,timezone:g}=t,y=Re(t,Lbe),{view:b,setView:x,defaultView:v,focusedView:w,setFocusedView:T,setValueAndGoToNextView:P}=Ky({view:u,views:c,openTo:h,onChange:a,onViewChange:f,autoFocus:n}),{hasUIView:C,viewModeLookup:M}=k.useMemo(()=>c.reduce(($,L)=>{let H;return m[L]!=null?H="UI":H="field",$.viewModeLookup[L]=H,H==="UI"&&($.hasUIView=!0),$},{hasUIView:!1,viewModeLookup:{}}),[m,c]),E=k.useMemo(()=>c.reduce(($,L)=>m[L]!=null&&Xm(L)?$+1:$,0),[m,c]),D=M[b],I=yt(()=>D==="UI"),[A,W]=k.useState(D==="UI"?b:null);return A!==b&&M[b]==="UI"&&W(b),Dn(()=>{D==="field"&&o&&(l(),setTimeout(()=>{var $,L;($=s==null?void 0:s.current)==null||$.setSelectedSections(b),(L=s==null?void 0:s.current)==null||L.focusField(b)}))},[b]),Dn(()=>{if(!o)return;let $=b;D==="field"&&A!=null&&($=A),$!==v&&M[$]==="UI"&&M[v]==="UI"&&($=v),$!==b&&x($),T($,!0)},[o]),{hasUIView:C,shouldRestoreFocus:I,layoutProps:{views:c,view:A,onViewChange:x},renderCurrentView:()=>{if(A==null)return null;const $=m[A];if($==null)return null;const L=B({},y,r,e,{views:c,timezone:g,onChange:P,view:A,onViewChange:x,focusedView:w,onFocusedViewChange:T,showViewSwitcher:E>1,timeViewsCount:E});return i?i(m,A,L):$(L)}}};function iF(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Abe=(t,e)=>{const[r,n]=k.useState(iF);return Dn(()=>{const s=()=>{n(iF())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),rf(t,["hours","minutes","seconds"])?!1:(e||r)==="landscape"},Obe=({props:t,propsFromPickerValue:e,propsFromPickerViews:r,wrapperVariant:n})=>{const{orientation:i}=t,s=Abe(r.views,i),a=Gi();return{layoutProps:B({},r,e,{isLandscape:s,isRtl:a,wrapperVariant:n,disabled:t.disabled,readOnly:t.readOnly})}},z6=(t,e="warning")=>{let r=!1;const n=Array.isArray(t)?t.join(`
`):t;return()=>{r||(r=!0,e==="error"?console.error(n):console.warn(n))}};z6(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const W6=({props:t,valueManager:e,valueType:r,wrapperVariant:n,additionalViewProps:i,validator:s,autoFocusView:a,rendererInterceptor:o,fieldRef:l})=>{const u=Ibe({props:t,valueManager:e,valueType:r,wrapperVariant:n,validator:s}),c=Fbe({props:t,additionalViewProps:i,autoFocusView:a,fieldRef:l,propsFromPickerValue:u.viewProps,rendererInterceptor:o}),h=Obe({props:t,wrapperVariant:n,propsFromPickerValue:u.layoutProps,propsFromPickerViews:c.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:h.layoutProps}};function H6(t){return dt("MuiPickersLayout",t)}const pd=ht("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),$be=["onAccept","onClear","onCancel","onSetToday","actions"];function Vbe(t){const{onAccept:e,onClear:r,onCancel:n,onSetToday:i,actions:s}=t,a=Re(t,$be),o=_s();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(u=>{switch(u){case"clear":return _.jsx(xs,{onClick:r,children:o.clearButtonLabel},u);case"cancel":return _.jsx(xs,{onClick:n,children:o.cancelButtonLabel},u);case"accept":return _.jsx(xs,{onClick:e,children:o.okButtonLabel},u);case"today":return _.jsx(xs,{onClick:i,children:o.todayButtonLabel},u);default:return null}});return _.jsx(tV,B({},a,{children:l}))}const zbe=["items","changeImportance","isLandscape","onChange","isValid"],Wbe=["getValue"];function Hbe(t){const{items:e,changeImportance:r="accept",onChange:n,isValid:i}=t,s=Re(t,zbe);if(e==null||e.length===0)return null;const a=e.map(o=>{let{getValue:l}=o,u=Re(o,Wbe);const c=l({isValid:i});return B({},u,{label:u.label,onClick:()=>{n(c,r,u)},disabled:!i(c)})});return _.jsx(Gy,B({dense:!0,sx:[{maxHeight:CM,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:a.map(o=>_.jsx(bV,{children:_.jsx(Ase,B({},o))},o.id??o.label))}))}function Ube(t){return t.view!==null}const Gbe=t=>{const{classes:e,isLandscape:r}=t;return ut({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},H6,e)},jbe=t=>{const{wrapperVariant:e,onAccept:r,onClear:n,onCancel:i,onSetToday:s,view:a,views:o,onViewChange:l,value:u,onChange:c,onSelectShortcut:h,isValid:f,isLandscape:m,disabled:g,readOnly:y,children:b,slots:x,slotProps:v}=t,w=Gbe(t),T=(x==null?void 0:x.actionBar)??Vbe,P=ir({elementType:T,externalSlotProps:v==null?void 0:v.actionBar,additionalProps:{onAccept:r,onClear:n,onCancel:i,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"]},className:w.actionBar,ownerState:B({},t,{wrapperVariant:e})}),C=_.jsx(T,B({},P)),M=x==null?void 0:x.toolbar,E=ir({elementType:M,externalSlotProps:v==null?void 0:v.toolbar,additionalProps:{isLandscape:m,onChange:c,value:u,view:a,onViewChange:l,views:o,disabled:g,readOnly:y},className:w.toolbar,ownerState:B({},t,{wrapperVariant:e})}),D=Ube(E)&&M?_.jsx(M,B({},E)):null,I=b,A=x==null?void 0:x.tabs,W=a&&A?_.jsx(A,B({view:a,onViewChange:l,className:w.tabs},v==null?void 0:v.tabs)):null,V=(x==null?void 0:x.shortcuts)??Hbe,$=ir({elementType:V,externalSlotProps:v==null?void 0:v.shortcuts,additionalProps:{isValid:f,isLandscape:m,onChange:h},className:w.shortcuts,ownerState:{isValid:f,isLandscape:m,onChange:h,wrapperVariant:e}}),L=a&&V?_.jsx(V,B({},$)):null;return{toolbar:D,content:I,tabs:W,actionBar:C,shortcuts:L}},Ybe=t=>{const{isLandscape:e,classes:r}=t;return ut({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},H6,r)},Xbe=de("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${pd.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${pd.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${pd.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${pd.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${pd.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${pd.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${pd.shortcuts}`]:{gridColumn:3}}}]}),qbe=de("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),U6=function(e){const r=tt({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:s,actionBar:a,shortcuts:o}=jbe(r),{sx:l,className:u,isLandscape:c,ref:h,wrapperVariant:f}=r,m=Ybe(r);return _.jsxs(Xbe,{ref:h,sx:l,className:Oe(u,m.root),ownerState:r,children:[c?o:n,c?n:o,_.jsx(qbe,{className:m.contentWrapper,children:f==="desktop"?_.jsxs(k.Fragment,{children:[i,s]}):_.jsxs(k.Fragment,{children:[s,i]})}),a]})},Kbe=["props","getOpenDialogAriaText"],Qbe=["ownerState"],Jbe=["ownerState"],G6=t=>{var K;let{props:e,getOpenDialogAriaText:r}=t,n=Re(t,Kbe);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:m,name:g,label:y,inputRef:b,readOnly:x,disabled:v,autoFocus:w,localeText:T,reduceAnimations:P}=e,C=Ar(),M=k.useRef(null),E=k.useRef(null),D=Eo(),I=((K=s==null?void 0:s.toolbar)==null?void 0:K.hidden)??!1,{open:A,actions:W,hasUIView:V,layoutProps:$,renderCurrentView:L,shouldRestoreFocus:H,fieldProps:z}=W6(B({},n,{props:e,fieldRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),F=i.inputAdornment??gV,U=ir({elementType:F,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),q=Re(U,Qbe),ae=i.openPickerButton??fs,he=ir({elementType:ae,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:v||x,onClick:A?W.onClose:W.onOpen,"aria-label":r(z.value,C),edge:q.position},ownerState:e}),be=Re(he,Jbe),pe=i.openPickerIcon,ee=i.field,ce=ir({elementType:ee,externalSlotProps:s==null?void 0:s.field,additionalProps:B({},z,I&&{id:D},{readOnly:x,disabled:v,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:m,label:y,name:g,autoFocus:w&&!e.open,focused:A?!0:void 0},b?{inputRef:b}:{}),ownerState:e});V&&(ce.InputProps=B({},ce.InputProps,{ref:M},!e.disableOpenPicker&&{[`${q.position}Adornment`]:_.jsx(F,B({},q,{children:_.jsx(ae,B({},be,{children:_.jsx(pe,B({},s==null?void 0:s.openPickerIcon))}))}))}));const ke=B({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},ce.slots),Q=i.layout??U6;let Z=D;I&&(y?Z=`${D}-label`:Z=void 0);const le=B({},s,{toolbar:B({},s==null?void 0:s.toolbar,{titleId:D}),popper:B({"aria-labelledby":Z},s==null?void 0:s.popper)}),ue=Nr(E,ce.unstableFieldRef);return{renderPicker:()=>_.jsxs(kM,{localeText:T,children:[_.jsx(ee,B({},ce,{slots:ke,slotProps:le,unstableFieldRef:ue})),_.jsx(Mbe,B({role:"dialog",placement:"bottom-start",anchorEl:M.current},W,{open:A,slots:i,slotProps:le,shouldRestoreFocus:H,reduceAnimations:P,children:_.jsx(Q,B({},$,le==null?void 0:le.layout,{slots:i,slotProps:le,children:L()}))}))]})}},Lf=({view:t,onViewChange:e,views:r,focusedView:n,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minDate:m,maxDate:g,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:x,reduceAnimations:v,onMonthChange:w,monthsPerRow:T,onYearChange:P,yearsPerRow:C,slots:M,slotProps:E,loading:D,renderLoading:I,disableHighlightToday:A,readOnly:W,disabled:V,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:L,sx:H,autoFocus:z,fixedWeekNumber:F,displayWeekNumber:U,timezone:q})=>_.jsx(cbe,{view:t,onViewChange:e,views:r.filter(GL),focusedView:n&&GL(n)?n:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minDate:m,maxDate:g,shouldDisableDate:y,shouldDisableMonth:b,shouldDisableYear:x,reduceAnimations:v,onMonthChange:w,monthsPerRow:T,onYearChange:P,yearsPerRow:C,slots:M,slotProps:E,loading:D,renderLoading:I,disableHighlightToday:A,readOnly:W,disabled:V,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:L,sx:H,autoFocus:z,fixedWeekNumber:F,displayWeekNumber:U,timezone:q}),j6=k.forwardRef(function(e,r){var u,c;const n=_s(),i=Ar(),s=V6(e,"MuiDesktopDatePicker"),a=B({day:Lf,month:Lf,year:Lf},s.viewRenderers),o=B({},s,{viewRenderers:a,format:BM(i,s,!1),yearsPerRow:s.yearsPerRow??4,slots:B({openPickerIcon:ege,field:R6},s.slots),slotProps:B({},s.slotProps,{field:h=>{var f;return B({},zy((f=s.slotProps)==null?void 0:f.field,h),F1(s),{ref:r})},toolbar:B({hidden:!0},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=G6({props:o,valueManager:ks,valueType:"date",getOpenDialogAriaText:((c=o.localeText)==null?void 0:c.openDatePickerDialogue)??n.openDatePickerDialogue,validator:L1});return l()});j6.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:i1,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsPerRow:X.oneOf([3,4])};const Zbe=de(Uy)({[`& .${am.container}`]:{outline:0},[`& .${am.paper}`]:{outline:0,minWidth:R1}}),eve=de(rV)({"&:first-of-type":{padding:0}});function tve(t){const{children:e,onDismiss:r,open:n,slots:i,slotProps:s}=t,a=(i==null?void 0:i.dialog)??Zbe,o=(i==null?void 0:i.mobileTransition)??Cp;return _.jsx(a,B({open:n,onClose:r},s==null?void 0:s.dialog,{TransitionComponent:o,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:_.jsx(eve,{children:e})}))}const rve=["props","getOpenDialogAriaText"],Y6=t=>{var ae;let{props:e,getOpenDialogAriaText:r}=t,n=Re(t,rve);const{slots:i,slotProps:s,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:m,name:g,label:y,inputRef:b,readOnly:x,disabled:v,localeText:w}=e,T=Ar(),P=k.useRef(null),C=Eo(),M=((ae=s==null?void 0:s.toolbar)==null?void 0:ae.hidden)??!1,{open:E,actions:D,layoutProps:I,renderCurrentView:A,fieldProps:W}=W6(B({},n,{props:e,fieldRef:P,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),V=i.field,$=ir({elementType:V,externalSlotProps:s==null?void 0:s.field,additionalProps:B({},W,M&&{id:C},!(v||x)&&{onClick:D.onOpen,onKeyDown:Qme(D.onOpen)},{readOnly:x??!0,disabled:v,className:a,sx:o,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:h,onSelectedSectionsChange:f,timezone:m,label:y,name:g},b?{inputRef:b}:{}),ownerState:e});$.inputProps=B({},$.inputProps,{"aria-label":r(W.value,T)});const L=B({textField:i.textField},$.slots),H=i.layout??U6;let z=C;M&&(y?z=`${C}-label`:z=void 0);const F=B({},s,{toolbar:B({},s==null?void 0:s.toolbar,{titleId:C}),mobilePaper:B({"aria-labelledby":z},s==null?void 0:s.mobilePaper)}),U=Nr(P,$.unstableFieldRef);return{renderPicker:()=>_.jsxs(kM,{localeText:w,children:[_.jsx(V,B({},$,{slots:L,slotProps:F,unstableFieldRef:U})),_.jsx(tve,B({},D,{open:E,slots:i,slotProps:F,children:_.jsx(H,B({},I,F==null?void 0:F.layout,{slots:i,slotProps:F,children:A()}))}))]})}},X6=k.forwardRef(function(e,r){var u,c;const n=_s(),i=Ar(),s=V6(e,"MuiMobileDatePicker"),a=B({day:Lf,month:Lf,year:Lf},s.viewRenderers),o=B({},s,{viewRenderers:a,format:BM(i,s,!1),slots:B({field:R6},s.slots),slotProps:B({},s.slotProps,{field:h=>{var f;return B({},zy((f=s.slotProps)==null?void 0:f.field,h),F1(s),{ref:r})},toolbar:B({hidden:!1},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=Y6({props:o,valueManager:ks,valueType:"date",getOpenDialogAriaText:((c=o.localeText)==null?void 0:c.openDatePickerDialogue)??n.openDatePickerDialogue,validator:L1});return l()});X6.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:i1,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsPerRow:X.oneOf([3,4])};const nve=["desktopModeMediaQuery"],ive=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=b6}=n,s=Re(n,nve);return zB(i,{defaultMatches:!0})?_.jsx(j6,B({ref:r},s)):_.jsx(X6,B({ref:r},s))});function sve(t){return dt("MuiPickersToolbarText",t)}const sF=ht("MuiPickersToolbarText",["root","selected"]),ave=["className","selected","value"],ove=t=>{const{classes:e,selected:r}=t;return ut({root:["root",r&&"selected"]},sve,e)},lve=de(qr,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${sF.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${sF.selected}`]:{color:(t.vars||t).palette.text.primary}})),q6=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbarText"}),{className:i,value:s}=n,a=Re(n,ave),o=ove(n);return _.jsx(lve,B({ref:r,className:Oe(i,o.root),component:"span"},a,{children:s}))}),uve=["align","className","selected","typographyClassName","value","variant","width"],cve=t=>{const{classes:e}=t;return ut({root:["root"]},O6,e)},dve=de(xs,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),Sg=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPickersToolbarButton"}),{align:i,className:s,selected:a,typographyClassName:o,value:l,variant:u,width:c}=n,h=Re(n,uve),f=cve(n);return _.jsx(dve,B({variant:"text",ref:r,className:Oe(s,f.root)},c?{sx:{width:c}}:{},h,{children:_.jsx(q6,{align:i,className:o,variant:u,value:l,selected:a})}))});function hve(t){return dt("MuiTimePickerToolbar",t)}const cm=ht("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),fve=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],pve=t=>{const{isLandscape:e,classes:r,isRtl:n}=t;return ut({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},hve,r)},gve=de($6,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mve=de(q6,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),yve=de("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${cm.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${cm.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),bve=de("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${cm.ampmLabel}`]:e.ampmLabel},{[`&.${cm.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${cm.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function vve(t){const e=tt({props:t,name:"MuiTimePickerToolbar"}),{ampm:r,ampmInClock:n,value:i,isLandscape:s,onChange:a,view:o,onViewChange:l,views:u,disabled:c,readOnly:h,className:f}=e,m=Re(e,fve),g=Ar(),y=_s(),b=Gi(),x=!!(r&&!n&&u.includes("hours")),{meridiemMode:v,handleMeridiemChange:w}=_M(i,r,a),T=E=>r?g.format(E,"hours12h"):g.format(E,"hours24h"),P=B({},e,{isRtl:b}),C=pve(P),M=_.jsx(mve,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:C.separator});return _.jsxs(gve,B({landscapeDirection:"row",toolbarTitle:y.timePickerToolbarTitle,isLandscape:s,ownerState:P,className:Oe(C.root,f)},m,{children:[_.jsxs(yve,{className:C.hourMinuteLabel,ownerState:P,children:[rf(u,"hours")&&_.jsx(Sg,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:o==="hours",value:i?T(i):"--"}),rf(u,["hours","minutes"])&&M,rf(u,"minutes")&&_.jsx(Sg,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:o==="minutes",value:i?g.format(i,"minutes"):"--"}),rf(u,["minutes","seconds"])&&M,rf(u,"seconds")&&_.jsx(Sg,{variant:"h3",onClick:()=>l("seconds"),selected:o==="seconds",value:i?g.format(i,"seconds"):"--"})]}),x&&_.jsxs(bve,{className:C.ampmSelection,ownerState:P,children:[_.jsx(Sg,{disableRipple:!0,variant:"subtitle2",selected:v==="am",typographyClassName:C.ampmLabel,value:wc(g,"am"),onClick:h?void 0:()=>w("am"),disabled:c}),_.jsx(Sg,{disableRipple:!0,variant:"subtitle2",selected:v==="pm",typographyClassName:C.ampmLabel,value:wc(g,"pm"),onClick:h?void 0:()=>w("pm"),disabled:c})]})]}))}function K6(t,e){var a;const r=Ar(),n=tt({props:t,name:e}),i=n.ampm??r.is12HourCycleInCurrentLocale(),s=k.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:B({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return B({},n,{ampm:i,localeText:s},t6({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,slots:B({toolbar:vve},n.slots),slotProps:B({},n.slotProps,{toolbar:B({ampm:i,ampmInClock:n.ampmInClock},(a=n.slotProps)==null?void 0:a.toolbar)})})}const y_=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,ampmInClock:v,slots:w,slotProps:T,readOnly:P,disabled:C,sx:M,autoFocus:E,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:I,timezone:A})=>_.jsx(gme,{view:t,onViewChange:e,focusedView:r&&Xm(r)?r:null,onFocusedViewChange:n,views:i.filter(Xm),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,ampmInClock:v,slots:w,slotProps:T,readOnly:P,disabled:C,sx:M,autoFocus:E,showViewSwitcher:D,disableIgnoringDatePartForTimeValidation:I,timezone:A}),wve=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:T,disabled:P,sx:C,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:I,timezone:A})=>_.jsx(Sme,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(Xm),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:T,disabled:P,sx:C,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeStep:D==null?void 0:D.minutes,skipDisabled:I,timezone:A}),aF=({view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i,value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:T,disabled:P,sx:C,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:I,timezone:A})=>_.jsx(Ime,{view:t,onViewChange:e,focusedView:r,onFocusedViewChange:n,views:i.filter(Xm),value:s,defaultValue:a,referenceDate:o,onChange:l,className:u,classes:c,disableFuture:h,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:y,minutesStep:b,ampm:x,slots:v,slotProps:w,readOnly:T,disabled:P,sx:C,autoFocus:M,disableIgnoringDatePartForTimeValidation:E,timeSteps:D,skipDisabled:I,timezone:A}),xve=(t,e,r)=>r?e.filter(n=>!cge(n)||n==="hours"):t?[...e,"meridiem"]:e,Sve=(t,e)=>24*60/((t.hours??1)*(t.minutes??5))<=e;function kve({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:r,views:n}){const i=t??24,s=B({hours:1,minutes:5,seconds:5},r),a=Sve(s,i);return{thresholdToRenderTimeInASingleColumn:i,timeSteps:s,shouldRenderTimeInASingleColumn:a,views:xve(e,n,a)}}const Q6=k.forwardRef(function(e,r){var x,v,w,T;const n=_s(),i=Ar(),s=K6(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:o,timeSteps:l}=kve(s),u=a?wve:aF,c=B({hours:u,minutes:u,seconds:u,meridiem:u},s.viewRenderers),h=s.ampmInClock??!0,f=a?[]:["accept"],g=((x=c.hours)==null?void 0:x.name)===aF.name?o:o.filter(P=>P!=="meridiem"),y=B({},s,{ampmInClock:h,timeSteps:l,viewRenderers:c,format:n6(i,s),views:a?["hours"]:g,slots:B({field:D6,openPickerIcon:tge},s.slots),slotProps:B({},s.slotProps,{field:P=>{var C;return B({},zy((C=s.slotProps)==null?void 0:C.field,P),F1(s),{ref:r})},toolbar:B({hidden:!0,ampmInClock:h},(v=s.slotProps)==null?void 0:v.toolbar),actionBar:B({actions:f},(w=s.slotProps)==null?void 0:w.actionBar)})}),{renderPicker:b}=G6({props:y,valueManager:ks,valueType:"time",getOpenDialogAriaText:((T=y.localeText)==null?void 0:T.openTimePickerDialogue)??n.openTimePickerDialogue,validator:LM});return b()});Q6.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:i1,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","meridiem","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,skipDisabled:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),thresholdToRenderTimeInASingleColumn:X.number,timeSteps:X.shape({hours:X.number,minutes:X.number,seconds:X.number}),timezone:X.string,value:X.object,view:X.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,meridiem:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const J6=k.forwardRef(function(e,r){var c,h;const n=_s(),i=Ar(),s=K6(e,"MuiMobileTimePicker"),a=B({hours:y_,minutes:y_,seconds:y_},s.viewRenderers),o=s.ampmInClock??!1,l=B({},s,{ampmInClock:o,viewRenderers:a,format:n6(i,s),slots:B({field:D6},s.slots),slotProps:B({},s.slotProps,{field:f=>{var m;return B({},zy((m=s.slotProps)==null?void 0:m.field,f),F1(s),{ref:r})},toolbar:B({hidden:!1,ampmInClock:o},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:u}=Y6({props:l,valueManager:ks,valueType:"time",getOpenDialogAriaText:((h=l.localeText)==null?void 0:h.openTimePickerDialogue)??n.openTimePickerDialogue,validator:LM});return u()});J6.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:i1,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["hours","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const _ve=["desktopModeMediaQuery"],oF=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=b6}=n,s=Re(n,_ve);return zB(i,{defaultMatches:!0})?_.jsx(Q6,B({ref:r},s)):_.jsx(J6,B({ref:r},s))});var Qy=t=>t.type==="checkbox",Sf=t=>t instanceof Date,Rs=t=>t==null;const Z6=t=>typeof t=="object";var Ui=t=>!Rs(t)&&!Array.isArray(t)&&Z6(t)&&!Sf(t),ez=t=>Ui(t)&&t.target?Qy(t.target)?t.target.checked:t.target.value:t,Cve=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tz=(t,e)=>t.has(Cve(e)),Tve=t=>{const e=t.constructor&&t.constructor.prototype;return Ui(e)&&e.hasOwnProperty("isPrototypeOf")},FM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xs(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(FM&&(t instanceof Blob||t instanceof FileList))&&(r||Ui(t)))if(e=r?[]:{},!r&&!Tve(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Xs(t[n]));else return t;return e}var Jy=t=>Array.isArray(t)?t.filter(Boolean):[],li=t=>t===void 0,mt=(t,e,r)=>{if(!e||!Ui(t))return r;const n=Jy(e.split(/[,[\].]+?/)).reduce((i,s)=>Rs(i)?i:i[s],t);return li(n)||n===t?li(t[e])?r:t[e]:n},Ml=t=>typeof t=="boolean",AM=t=>/^\w*$/.test(t),rz=t=>Jy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yn=(t,e,r)=>{let n=-1;const i=AM(e)?[e]:rz(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=Ui(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const _w={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},nu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Pve=Jt.createContext(null),OM=()=>Jt.useContext(Pve);var nz=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Qo.all&&(e._proxyFormState[a]=!n||Qo.all),r&&(r[a]=!0),t[a]}});return i},Sa=t=>Ui(t)&&!Object.keys(t).length,iz=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Sa(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Qo.all))},kv=t=>Array.isArray(t)?t:[t],sz=(t,e,r)=>!t||!e||t===e||kv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function $M(t){const e=Jt.useRef(t);e.current=t,Jt.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Bve(t){const e=OM(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Jt.useState(r._formState),l=Jt.useRef(!0),u=Jt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=Jt.useRef(i);return c.current=i,$M({disabled:n,next:h=>l.current&&sz(c.current,h.name,s)&&iz(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),Jt.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),nz(a,r,u.current,!1)}var Rl=t=>typeof t=="string",az=(t,e,r,n,i)=>Rl(t)?(n&&e.watch.add(t),mt(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),mt(r,s))):(n&&(e.watchAll=!0),r);function Mve(t){const e=OM(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=Jt.useRef(n);o.current=n,$M({disabled:s,subject:r._subjects.values,next:c=>{sz(o.current,c.name,a)&&u(Xs(az(o.current,r._names,c.values||r._formValues,!1,i)))}});const[l,u]=Jt.useState(r._getWatch(n,i));return Jt.useEffect(()=>r._removeUnmounted()),l}function Nve(t){const e=OM(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=tz(i._names.array,r),o=Mve({control:i,name:r,defaultValue:mt(i._formValues,r,mt(i._defaultValues,r,t.defaultValue)),exact:!0}),l=Bve({control:i,name:r}),u=Jt.useRef(i.register(r,{...t.rules,value:o,...Ml(t.disabled)?{disabled:t.disabled}:{}}));return Jt.useEffect(()=>{const c=i._options.shouldUnregister||s,h=(f,m)=>{const g=mt(i._fields,f);g&&g._f&&(g._f.mount=m)};if(h(r,!0),c){const f=Xs(mt(i._options.defaultValues,r));yn(i._defaultValues,r,f),li(mt(i._formValues,r))&&yn(i._formValues,r,f)}return()=>{(a?c&&!i._state.action:c)?i.unregister(r):h(r,!1)}},[r,i,a,s]),Jt.useEffect(()=>{mt(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:mt(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:o,...Ml(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:Jt.useCallback(c=>u.current.onChange({target:{value:ez(c),name:r},type:_w.CHANGE}),[r]),onBlur:Jt.useCallback(()=>u.current.onBlur({target:{value:mt(i._formValues,r),name:r},type:_w.BLUR}),[r,i]),ref:c=>{const h=mt(i._fields,r);h&&c&&(h._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:f=>c.setCustomValidity(f),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!mt(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!mt(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!mt(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!mt(l.validatingFields,r)},error:{enumerable:!0,get:()=>mt(l.errors,r)}})}}const _v=t=>t.render(Nve(t));var Eve=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},lF=t=>({isOnSubmit:!t||t===Qo.onSubmit,isOnBlur:t===Qo.onBlur,isOnChange:t===Qo.onChange,isOnAll:t===Qo.all,isOnTouch:t===Qo.onTouched}),uF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const dm=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=mt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;dm(o,e)}else Ui(o)&&dm(o,e)}}};var Rve=(t,e,r)=>{const n=Jy(mt(t,r));return yn(n,"root",e[r]),yn(t,r,n),t},VM=t=>t.type==="file",xc=t=>typeof t=="function",Cw=t=>{if(!FM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cv=t=>Rl(t),zM=t=>t.type==="radio",Tw=t=>t instanceof RegExp;const cF={value:!1,isValid:!1},dF={value:!0,isValid:!0};var oz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!li(t[0].attributes.value)?li(t[0].value)||t[0].value===""?dF:{value:t[0].value,isValid:!0}:dF:cF}return cF};const hF={isValid:!1,value:null};var lz=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,hF):hF;function fF(t,e,r="validate"){if(Cv(t)||Array.isArray(t)&&t.every(Cv)||Ml(t)&&!t)return{type:r,message:Cv(t)?t:"",ref:e}}var Yh=t=>Ui(t)&&!Tw(t)?t:{value:t,message:""},pF=async(t,e,r,n,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:m,name:g,valueAsNumber:y,mount:b,disabled:x}=t._f,v=mt(e,g);if(!b||x)return{};const w=a?a[0]:s,T=W=>{n&&w.reportValidity&&(w.setCustomValidity(Ml(W)?"":W||""),w.reportValidity())},P={},C=zM(s),M=Qy(s),E=C||M,D=(y||VM(s))&&li(s.value)&&li(v)||Cw(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,I=Eve.bind(null,g,r,P),A=(W,V,$,L=nu.maxLength,H=nu.minLength)=>{const z=W?V:$;P[g]={type:W?L:H,message:z,ref:s,...I(W?L:H,z)}};if(i?!Array.isArray(v)||!v.length:o&&(!E&&(D||Rs(v))||Ml(v)&&!v||M&&!oz(a).isValid||C&&!lz(a).isValid)){const{value:W,message:V}=Cv(o)?{value:!!o,message:o}:Yh(o);if(W&&(P[g]={type:nu.required,message:V,ref:w,...I(nu.required,V)},!r))return T(V),P}if(!D&&(!Rs(c)||!Rs(h))){let W,V;const $=Yh(h),L=Yh(c);if(!Rs(v)&&!isNaN(v)){const H=s.valueAsNumber||v&&+v;Rs($.value)||(W=H>$.value),Rs(L.value)||(V=H<L.value)}else{const H=s.valueAsDate||new Date(v),z=q=>new Date(new Date().toDateString()+" "+q),F=s.type=="time",U=s.type=="week";Rl($.value)&&v&&(W=F?z(v)>z($.value):U?v>$.value:H>new Date($.value)),Rl(L.value)&&v&&(V=F?z(v)<z(L.value):U?v<L.value:H<new Date(L.value))}if((W||V)&&(A(!!W,$.message,L.message,nu.max,nu.min),!r))return T(P[g].message),P}if((l||u)&&!D&&(Rl(v)||i&&Array.isArray(v))){const W=Yh(l),V=Yh(u),$=!Rs(W.value)&&v.length>+W.value,L=!Rs(V.value)&&v.length<+V.value;if(($||L)&&(A($,W.message,V.message),!r))return T(P[g].message),P}if(f&&!D&&Rl(v)){const{value:W,message:V}=Yh(f);if(Tw(W)&&!v.match(W)&&(P[g]={type:nu.pattern,message:V,ref:s,...I(nu.pattern,V)},!r))return T(V),P}if(m){if(xc(m)){const W=await m(v,e),V=fF(W,w);if(V&&(P[g]={...V,...I(nu.validate,V.message)},!r))return T(V.message),P}else if(Ui(m)){let W={};for(const V in m){if(!Sa(W)&&!r)break;const $=fF(await m[V](v,e),w,V);$&&(W={...$,...I(V,$.message)},T($.message),r&&(P[g]=W))}if(!Sa(W)&&(P[g]={ref:w,...W},!r))return P}}return T(!0),P};function Dve(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=li(t)?n++:t[e[n++]];return t}function Ive(t){for(const e in t)if(t.hasOwnProperty(e)&&!li(t[e]))return!1;return!0}function Oi(t,e){const r=Array.isArray(e)?e:AM(e)?[e]:rz(e),n=r.length===1?t:Dve(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ui(n)&&Sa(n)||Array.isArray(n)&&Ive(n))&&Oi(t,r.slice(0,-1)),t}var b_=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Pw=t=>Rs(t)||!Z6(t);function Rd(t,e){if(Pw(t)||Pw(e))return t===e;if(Sf(t)&&Sf(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Sf(s)&&Sf(a)||Ui(s)&&Ui(a)||Array.isArray(s)&&Array.isArray(a)?!Rd(s,a):s!==a)return!1}}return!0}var uz=t=>t.type==="select-multiple",Lve=t=>zM(t)||Qy(t),v_=t=>Cw(t)&&t.isConnected,cz=t=>{for(const e in t)if(xc(t[e]))return!0;return!1};function Bw(t,e={}){const r=Array.isArray(t);if(Ui(t)||r)for(const n in t)Array.isArray(t[n])||Ui(t[n])&&!cz(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Bw(t[n],e[n])):Rs(t[n])||(e[n]=!0);return e}function dz(t,e,r){const n=Array.isArray(t);if(Ui(t)||n)for(const i in t)Array.isArray(t[i])||Ui(t[i])&&!cz(t[i])?li(e)||Pw(r[i])?r[i]=Array.isArray(t[i])?Bw(t[i],[]):{...Bw(t[i])}:dz(t[i],Rs(e)?{}:e[i],r[i]):r[i]=!Rd(t[i],e[i]);return r}var Rb=(t,e)=>dz(t,e,Bw(e)),hz=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>li(t)?t:e?t===""?NaN:t&&+t:r&&Rl(t)?new Date(t):n?n(t):t;function w_(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return VM(e)?e.files:zM(e)?lz(t.refs).value:uz(e)?[...e.selectedOptions].map(({value:r})=>r):Qy(e)?oz(t.refs).value:hz(li(e.value)?t.ref.value:e.value,t)}var Fve=(t,e,r,n)=>{const i={};for(const s of t){const a=mt(e,s);a&&yn(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},kg=t=>li(t)?t:Tw(t)?t.source:Ui(t)?Tw(t.value)?t.value.source:t.value:t,Ave=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function gF(t,e,r){const n=mt(t,r);if(n||AM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=mt(e,s),o=mt(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var Ove=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,$ve=(t,e)=>!Jy(mt(t,e)).length&&Oi(t,e);const Vve={mode:Qo.onSubmit,reValidateMode:Qo.onChange,shouldFocusError:!0};function zve(t={}){let e={...Vve,...t},r={submitCount:0,isDirty:!1,isLoading:xc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ui(e.defaultValues)||Ui(e.values)?Xs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xs(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:b_(),array:b_(),state:b_()},f=lF(e.mode),m=lF(e.reValidateMode),g=e.criteriaMode===Qo.all,y=j=>ne=>{clearTimeout(u),u=setTimeout(j,ne)},b=async j=>{if(c.isValid||j){const ne=e.resolver?Sa((await E()).errors):await I(n,!0);ne!==r.isValid&&h.state.next({isValid:ne})}},x=(j,ne)=>{(c.isValidating||c.validatingFields)&&((j||Array.from(o.mount)).forEach(te=>{te&&(ne?yn(r.validatingFields,te,ne):Oi(r.validatingFields,te))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Sa(r.validatingFields)}))},v=(j,ne=[],te,ge,Be=!0,Te=!0)=>{if(ge&&te){if(a.action=!0,Te&&Array.isArray(mt(n,j))){const Ge=te(mt(n,j),ge.argA,ge.argB);Be&&yn(n,j,Ge)}if(Te&&Array.isArray(mt(r.errors,j))){const Ge=te(mt(r.errors,j),ge.argA,ge.argB);Be&&yn(r.errors,j,Ge),$ve(r.errors,j)}if(c.touchedFields&&Te&&Array.isArray(mt(r.touchedFields,j))){const Ge=te(mt(r.touchedFields,j),ge.argA,ge.argB);Be&&yn(r.touchedFields,j,Ge)}c.dirtyFields&&(r.dirtyFields=Rb(i,s)),h.state.next({name:j,isDirty:W(j,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yn(s,j,ne)},w=(j,ne)=>{yn(r.errors,j,ne),h.state.next({errors:r.errors})},T=j=>{r.errors=j,h.state.next({errors:r.errors,isValid:!1})},P=(j,ne,te,ge)=>{const Be=mt(n,j);if(Be){const Te=mt(s,j,li(te)?mt(i,j):te);li(Te)||ge&&ge.defaultChecked||ne?yn(s,j,ne?Te:w_(Be._f)):L(j,Te),a.mount&&b()}},C=(j,ne,te,ge,Be)=>{let Te=!1,Ge=!1;const ot={name:j},Et=!!(mt(n,j)&&mt(n,j)._f&&mt(n,j)._f.disabled);if(!te||ge){c.isDirty&&(Ge=r.isDirty,r.isDirty=ot.isDirty=W(),Te=Ge!==ot.isDirty);const Lt=Et||Rd(mt(i,j),ne);Ge=!!(!Et&&mt(r.dirtyFields,j)),Lt||Et?Oi(r.dirtyFields,j):yn(r.dirtyFields,j,!0),ot.dirtyFields=r.dirtyFields,Te=Te||c.dirtyFields&&Ge!==!Lt}if(te){const Lt=mt(r.touchedFields,j);Lt||(yn(r.touchedFields,j,te),ot.touchedFields=r.touchedFields,Te=Te||c.touchedFields&&Lt!==te)}return Te&&Be&&h.state.next(ot),Te?ot:{}},M=(j,ne,te,ge)=>{const Be=mt(r.errors,j),Te=c.isValid&&Ml(ne)&&r.isValid!==ne;if(t.delayError&&te?(l=y(()=>w(j,te)),l(t.delayError)):(clearTimeout(u),l=null,te?yn(r.errors,j,te):Oi(r.errors,j)),(te?!Rd(Be,te):Be)||!Sa(ge)||Te){const Ge={...ge,...Te&&Ml(ne)?{isValid:ne}:{},errors:r.errors,name:j};r={...r,...Ge},h.state.next(Ge)}},E=async j=>{x(j,!0);const ne=await e.resolver(s,e.context,Fve(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(j),ne},D=async j=>{const{errors:ne}=await E(j);if(j)for(const te of j){const ge=mt(ne,te);ge?yn(r.errors,te,ge):Oi(r.errors,te)}else r.errors=ne;return ne},I=async(j,ne,te={valid:!0})=>{for(const ge in j){const Be=j[ge];if(Be){const{_f:Te,...Ge}=Be;if(Te){const ot=o.array.has(Te.name);x([ge],!0);const Et=await pF(Be,s,g,e.shouldUseNativeValidation&&!ne,ot);if(x([ge]),Et[Te.name]&&(te.valid=!1,ne))break;!ne&&(mt(Et,Te.name)?ot?Rve(r.errors,Et,Te.name):yn(r.errors,Te.name,Et[Te.name]):Oi(r.errors,Te.name))}Ge&&await I(Ge,ne,te)}}return te.valid},A=()=>{for(const j of o.unMount){const ne=mt(n,j);ne&&(ne._f.refs?ne._f.refs.every(te=>!v_(te)):!v_(ne._f.ref))&&ce(j)}o.unMount=new Set},W=(j,ne)=>(j&&ne&&yn(s,j,ne),!Rd(ae(),i)),V=(j,ne,te)=>az(j,o,{...a.mount?s:li(ne)?i:Rl(j)?{[j]:ne}:ne},te,ne),$=j=>Jy(mt(a.mount?s:i,j,t.shouldUnregister?mt(i,j,[]):[])),L=(j,ne,te={})=>{const ge=mt(n,j);let Be=ne;if(ge){const Te=ge._f;Te&&(!Te.disabled&&yn(s,j,hz(ne,Te)),Be=Cw(Te.ref)&&Rs(ne)?"":ne,uz(Te.ref)?[...Te.ref.options].forEach(Ge=>Ge.selected=Be.includes(Ge.value)):Te.refs?Qy(Te.ref)?Te.refs.length>1?Te.refs.forEach(Ge=>(!Ge.defaultChecked||!Ge.disabled)&&(Ge.checked=Array.isArray(Be)?!!Be.find(ot=>ot===Ge.value):Be===Ge.value)):Te.refs[0]&&(Te.refs[0].checked=!!Be):Te.refs.forEach(Ge=>Ge.checked=Ge.value===Be):VM(Te.ref)?Te.ref.value="":(Te.ref.value=Be,Te.ref.type||h.values.next({name:j,values:{...s}})))}(te.shouldDirty||te.shouldTouch)&&C(j,Be,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&q(j)},H=(j,ne,te)=>{for(const ge in ne){const Be=ne[ge],Te=`${j}.${ge}`,Ge=mt(n,Te);(o.array.has(j)||!Pw(Be)||Ge&&!Ge._f)&&!Sf(Be)?H(Te,Be,te):L(Te,Be,te)}},z=(j,ne,te={})=>{const ge=mt(n,j),Be=o.array.has(j),Te=Xs(ne);yn(s,j,Te),Be?(h.array.next({name:j,values:{...s}}),(c.isDirty||c.dirtyFields)&&te.shouldDirty&&h.state.next({name:j,dirtyFields:Rb(i,s),isDirty:W(j,Te)})):ge&&!ge._f&&!Rs(Te)?H(j,Te,te):L(j,Te,te),uF(j,o)&&h.state.next({...r}),h.values.next({name:a.mount?j:void 0,values:{...s}})},F=async j=>{a.mount=!0;const ne=j.target;let te=ne.name,ge=!0;const Be=mt(n,te),Te=()=>ne.type?w_(Be._f):ez(j),Ge=ot=>{ge=Number.isNaN(ot)||ot===mt(s,te,ot)};if(Be){let ot,Et;const Lt=Te(),De=j.type===_w.BLUR||j.type===_w.FOCUS_OUT,_e=!Ave(Be._f)&&!e.resolver&&!mt(r.errors,te)&&!Be._f.deps||Ove(De,mt(r.touchedFields,te),r.isSubmitted,m,f),Ne=uF(te,o,De);yn(s,te,Lt),De?(Be._f.onBlur&&Be._f.onBlur(j),l&&l(0)):Be._f.onChange&&Be._f.onChange(j);const at=C(te,Lt,De,!1),ft=!Sa(at)||Ne;if(!De&&h.values.next({name:te,type:j.type,values:{...s}}),_e)return c.isValid&&b(),ft&&h.state.next({name:te,...Ne?{}:at});if(!De&&Ne&&h.state.next({...r}),e.resolver){const{errors:Ze}=await E([te]);if(Ge(Lt),ge){const Mt=gF(r.errors,n,te),qe=gF(Ze,n,Mt.name||te);ot=qe.error,te=qe.name,Et=Sa(Ze)}}else x([te],!0),ot=(await pF(Be,s,g,e.shouldUseNativeValidation))[te],x([te]),Ge(Lt),ge&&(ot?Et=!1:c.isValid&&(Et=await I(n,!0)));ge&&(Be._f.deps&&q(Be._f.deps),M(te,Et,ot,at))}},U=(j,ne)=>{if(mt(r.errors,ne)&&j.focus)return j.focus(),1},q=async(j,ne={})=>{let te,ge;const Be=kv(j);if(e.resolver){const Te=await D(li(j)?j:Be);te=Sa(Te),ge=j?!Be.some(Ge=>mt(Te,Ge)):te}else j?(ge=(await Promise.all(Be.map(async Te=>{const Ge=mt(n,Te);return await I(Ge&&Ge._f?{[Te]:Ge}:Ge)}))).every(Boolean),!(!ge&&!r.isValid)&&b()):ge=te=await I(n);return h.state.next({...!Rl(j)||c.isValid&&te!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:te}:{},errors:r.errors}),ne.shouldFocus&&!ge&&dm(n,U,j?Be:o.mount),ge},ae=j=>{const ne={...a.mount?s:i};return li(j)?ne:Rl(j)?mt(ne,j):j.map(te=>mt(ne,te))},he=(j,ne)=>({invalid:!!mt((ne||r).errors,j),isDirty:!!mt((ne||r).dirtyFields,j),error:mt((ne||r).errors,j),isValidating:!!mt(r.validatingFields,j),isTouched:!!mt((ne||r).touchedFields,j)}),be=j=>{j&&kv(j).forEach(ne=>Oi(r.errors,ne)),h.state.next({errors:j?r.errors:{}})},pe=(j,ne,te)=>{const ge=(mt(n,j,{_f:{}})._f||{}).ref,Be=mt(r.errors,j)||{},{ref:Te,message:Ge,type:ot,...Et}=Be;yn(r.errors,j,{...Et,...ne,ref:ge}),h.state.next({name:j,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&ge&&ge.focus&&ge.focus()},ee=(j,ne)=>xc(j)?h.values.subscribe({next:te=>j(V(void 0,ne),te)}):V(j,ne,!0),ce=(j,ne={})=>{for(const te of j?kv(j):o.mount)o.mount.delete(te),o.array.delete(te),ne.keepValue||(Oi(n,te),Oi(s,te)),!ne.keepError&&Oi(r.errors,te),!ne.keepDirty&&Oi(r.dirtyFields,te),!ne.keepTouched&&Oi(r.touchedFields,te),!ne.keepIsValidating&&Oi(r.validatingFields,te),!e.shouldUnregister&&!ne.keepDefaultValue&&Oi(i,te);h.values.next({values:{...s}}),h.state.next({...r,...ne.keepDirty?{isDirty:W()}:{}}),!ne.keepIsValid&&b()},ke=({disabled:j,name:ne,field:te,fields:ge,value:Be})=>{if(Ml(j)&&a.mount||j){const Te=j?void 0:li(Be)?w_(te?te._f:mt(ge,ne)._f):Be;yn(s,ne,Te),C(ne,Te,!1,!1,!0)}},Q=(j,ne={})=>{let te=mt(n,j);const ge=Ml(ne.disabled);return yn(n,j,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:j}},name:j,mount:!0,...ne}}),o.mount.add(j),te?ke({field:te,disabled:ne.disabled,name:j,value:ne.value}):P(j,!0,ne.value),{...ge?{disabled:ne.disabled}:{},...e.progressive?{required:!!ne.required,min:kg(ne.min),max:kg(ne.max),minLength:kg(ne.minLength),maxLength:kg(ne.maxLength),pattern:kg(ne.pattern)}:{},name:j,onChange:F,onBlur:F,ref:Be=>{if(Be){Q(j,ne),te=mt(n,j);const Te=li(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ge=Lve(Te),ot=te._f.refs||[];if(Ge?ot.find(Et=>Et===Te):Te===te._f.ref)return;yn(n,j,{_f:{...te._f,...Ge?{refs:[...ot.filter(v_),Te,...Array.isArray(mt(i,j))?[{}]:[]],ref:{type:Te.type,name:j}}:{ref:Te}}}),P(j,!1,void 0,Te)}else te=mt(n,j,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(tz(o.array,j)&&a.action)&&o.unMount.add(j)}}},Z=()=>e.shouldFocusError&&dm(n,U,o.mount),le=j=>{Ml(j)&&(h.state.next({disabled:j}),dm(n,(ne,te)=>{const ge=mt(n,te);ge&&(ne.disabled=ge._f.disabled||j,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(Be=>{Be.disabled=ge._f.disabled||j}))},0,!1))},ue=(j,ne)=>async te=>{let ge;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let Be=Xs(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Te,values:Ge}=await E();r.errors=Te,Be=Ge}else await I(n);if(Oi(r.errors,"root"),Sa(r.errors)){h.state.next({errors:{}});try{await j(Be,te)}catch(Te){ge=Te}}else ne&&await ne({...r.errors},te),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sa(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},re=(j,ne={})=>{mt(n,j)&&(li(ne.defaultValue)?z(j,Xs(mt(i,j))):(z(j,ne.defaultValue),yn(i,j,Xs(ne.defaultValue))),ne.keepTouched||Oi(r.touchedFields,j),ne.keepDirty||(Oi(r.dirtyFields,j),r.isDirty=ne.defaultValue?W(j,Xs(mt(i,j))):W()),ne.keepError||(Oi(r.errors,j),c.isValid&&b()),h.state.next({...r}))},K=(j,ne={})=>{const te=j?Xs(j):i,ge=Xs(te),Be=Sa(j),Te=Be?i:ge;if(ne.keepDefaultValues||(i=te),!ne.keepValues){if(ne.keepDirtyValues)for(const Ge of o.mount)mt(r.dirtyFields,Ge)?yn(Te,Ge,mt(s,Ge)):z(Ge,mt(Te,Ge));else{if(FM&&li(j))for(const Ge of o.mount){const ot=mt(n,Ge);if(ot&&ot._f){const Et=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Cw(Et)){const Lt=Et.closest("form");if(Lt){Lt.reset();break}}}}n={}}s=t.shouldUnregister?ne.keepDefaultValues?Xs(i):{}:Xs(Te),h.array.next({values:{...Te}}),h.values.next({values:{...Te}})}o={mount:ne.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:Be?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!Rd(j,i)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Be?[]:ne.keepDirtyValues?ne.keepDefaultValues&&s?Rb(i,s):r.dirtyFields:ne.keepDefaultValues&&j?Rb(i,j):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},J=(j,ne)=>K(xc(j)?j(s):j,ne);return{control:{register:Q,unregister:ce,getFieldState:he,handleSubmit:ue,setError:pe,_executeSchema:E,_getWatch:V,_getDirty:W,_updateValid:b,_removeUnmounted:A,_updateFieldArray:v,_updateDisabledField:ke,_getFieldArray:$,_reset:K,_resetDefaultValues:()=>xc(e.defaultValues)&&e.defaultValues().then(j=>{J(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:le,_subjects:h,_proxyFormState:c,_setErrors:T,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},set _formState(j){r=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:q,register:Q,handleSubmit:ue,watch:ee,setValue:z,getValues:ae,reset:J,resetField:re,clearErrors:be,unregister:ce,setError:pe,setFocus:(j,ne={})=>{const te=mt(n,j),ge=te&&te._f;if(ge){const Be=ge.refs?ge.refs[0]:ge.ref;Be.focus&&(Be.focus(),ne.shouldSelect&&Be.select())}},getFieldState:he}}function fz(t={}){const e=Jt.useRef(),r=Jt.useRef(),[n,i]=Jt.useState({isDirty:!1,isValidating:!1,isLoading:xc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:xc(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...zve(t),formState:n});const s=e.current.control;return s._options=t,$M({subject:s._subjects.state,next:a=>{iz(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Jt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Jt.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Jt.useEffect(()=>{t.values&&!Rd(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Jt.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Jt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Jt.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=nz(n,s),e.current}var pz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",h="month",f="quarter",m="year",g="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var L=["th","st","nd","rd"],H=$%100;return"["+$+(L[(H-20)%10]||L[H]||L[0])+"]"}},w=function($,L,H){var z=String($);return!z||z.length>=L?$:""+Array(L+1-z.length).join(H)+$},T={s:w,z:function($){var L=-$.utcOffset(),H=Math.abs(L),z=Math.floor(H/60),F=H%60;return(L<=0?"+":"-")+w(z,2,"0")+":"+w(F,2,"0")},m:function $(L,H){if(L.date()<H.date())return-$(H,L);var z=12*(H.year()-L.year())+(H.month()-L.month()),F=L.clone().add(z,h),U=H-F<0,q=L.clone().add(z+(U?-1:1),h);return+(-(z+(H-F)/(U?F-q:q-F))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:h,y:m,w:c,d:u,D:g,h:l,m:o,s:a,ms:s,Q:f}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},P="en",C={};C[P]=v;var M="$isDayjsObject",E=function($){return $ instanceof W||!(!$||!$[M])},D=function $(L,H,z){var F;if(!L)return P;if(typeof L=="string"){var U=L.toLowerCase();C[U]&&(F=U),H&&(C[U]=H,F=U);var q=L.split("-");if(!F&&q.length>1)return $(q[0])}else{var ae=L.name;C[ae]=L,F=ae}return!z&&F&&(P=F),F||!z&&P},I=function($,L){if(E($))return $.clone();var H=typeof L=="object"?L:{};return H.date=$,H.args=arguments,new W(H)},A=T;A.l=D,A.i=E,A.w=function($,L){return I($,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var W=function(){function $(H){this.$L=D(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[M]=!0}var L=$.prototype;return L.parse=function(H){this.$d=function(z){var F=z.date,U=z.utc;if(F===null)return new Date(NaN);if(A.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var q=F.match(b);if(q){var ae=q[2]-1||0,he=(q[7]||"0").substring(0,3);return U?new Date(Date.UTC(q[1],ae,q[3]||1,q[4]||0,q[5]||0,q[6]||0,he)):new Date(q[1],ae,q[3]||1,q[4]||0,q[5]||0,q[6]||0,he)}}return new Date(F)}(H),this.init()},L.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},L.$utils=function(){return A},L.isValid=function(){return this.$d.toString()!==y},L.isSame=function(H,z){var F=I(H);return this.startOf(z)<=F&&F<=this.endOf(z)},L.isAfter=function(H,z){return I(H)<this.startOf(z)},L.isBefore=function(H,z){return this.endOf(z)<I(H)},L.$g=function(H,z,F){return A.u(H)?this[z]:this.set(F,H)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(H,z){var F=this,U=!!A.u(z)||z,q=A.p(H),ae=function(Z,le){var ue=A.w(F.$u?Date.UTC(F.$y,le,Z):new Date(F.$y,le,Z),F);return U?ue:ue.endOf(u)},he=function(Z,le){return A.w(F.toDate()[Z].apply(F.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(le)),F)},be=this.$W,pe=this.$M,ee=this.$D,ce="set"+(this.$u?"UTC":"");switch(q){case m:return U?ae(1,0):ae(31,11);case h:return U?ae(1,pe):ae(0,pe+1);case c:var ke=this.$locale().weekStart||0,Q=(be<ke?be+7:be)-ke;return ae(U?ee-Q:ee+(6-Q),pe);case u:case g:return he(ce+"Hours",0);case l:return he(ce+"Minutes",1);case o:return he(ce+"Seconds",2);case a:return he(ce+"Milliseconds",3);default:return this.clone()}},L.endOf=function(H){return this.startOf(H,!1)},L.$set=function(H,z){var F,U=A.p(H),q="set"+(this.$u?"UTC":""),ae=(F={},F[u]=q+"Date",F[g]=q+"Date",F[h]=q+"Month",F[m]=q+"FullYear",F[l]=q+"Hours",F[o]=q+"Minutes",F[a]=q+"Seconds",F[s]=q+"Milliseconds",F)[U],he=U===u?this.$D+(z-this.$W):z;if(U===h||U===m){var be=this.clone().set(g,1);be.$d[ae](he),be.init(),this.$d=be.set(g,Math.min(this.$D,be.daysInMonth())).$d}else ae&&this.$d[ae](he);return this.init(),this},L.set=function(H,z){return this.clone().$set(H,z)},L.get=function(H){return this[A.p(H)]()},L.add=function(H,z){var F,U=this;H=Number(H);var q=A.p(z),ae=function(pe){var ee=I(U);return A.w(ee.date(ee.date()+Math.round(pe*H)),U)};if(q===h)return this.set(h,this.$M+H);if(q===m)return this.set(m,this.$y+H);if(q===u)return ae(1);if(q===c)return ae(7);var he=(F={},F[o]=n,F[l]=i,F[a]=r,F)[q]||1,be=this.$d.getTime()+H*he;return A.w(be,this)},L.subtract=function(H,z){return this.add(-1*H,z)},L.format=function(H){var z=this,F=this.$locale();if(!this.isValid())return F.invalidDate||y;var U=H||"YYYY-MM-DDTHH:mm:ssZ",q=A.z(this),ae=this.$H,he=this.$m,be=this.$M,pe=F.weekdays,ee=F.months,ce=F.meridiem,ke=function(le,ue,re,K){return le&&(le[ue]||le(z,U))||re[ue].slice(0,K)},Q=function(le){return A.s(ae%12||12,le,"0")},Z=ce||function(le,ue,re){var K=le<12?"AM":"PM";return re?K.toLowerCase():K};return U.replace(x,function(le,ue){return ue||function(re){switch(re){case"YY":return String(z.$y).slice(-2);case"YYYY":return A.s(z.$y,4,"0");case"M":return be+1;case"MM":return A.s(be+1,2,"0");case"MMM":return ke(F.monthsShort,be,ee,3);case"MMMM":return ke(ee,be);case"D":return z.$D;case"DD":return A.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return ke(F.weekdaysMin,z.$W,pe,2);case"ddd":return ke(F.weekdaysShort,z.$W,pe,3);case"dddd":return pe[z.$W];case"H":return String(ae);case"HH":return A.s(ae,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return Z(ae,he,!0);case"A":return Z(ae,he,!1);case"m":return String(he);case"mm":return A.s(he,2,"0");case"s":return String(z.$s);case"ss":return A.s(z.$s,2,"0");case"SSS":return A.s(z.$ms,3,"0");case"Z":return q}return null}(le)||q.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(H,z,F){var U,q=this,ae=A.p(z),he=I(H),be=(he.utcOffset()-this.utcOffset())*n,pe=this-he,ee=function(){return A.m(q,he)};switch(ae){case m:U=ee()/12;break;case h:U=ee();break;case f:U=ee()/3;break;case c:U=(pe-be)/6048e5;break;case u:U=(pe-be)/864e5;break;case l:U=pe/i;break;case o:U=pe/n;break;case a:U=pe/r;break;default:U=pe}return F?U:A.a(U)},L.daysInMonth=function(){return this.endOf(h).$D},L.$locale=function(){return C[this.$L]},L.locale=function(H,z){if(!H)return this.$L;var F=this.clone(),U=D(H,z,!0);return U&&(F.$L=U),F},L.clone=function(){return A.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},$}(),V=W.prototype;return I.prototype=V,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",h],["$y",m],["$D",g]].forEach(function($){V[$[1]]=function(L){return this.$g(L,$[0],$[1])}}),I.extend=function($,L){return $.$i||($(L,W,I),$.$i=!0),I},I.locale=D,I.isDayjs=E,I.unix=function($){return I(1e3*$)},I.en=C[P],I.Ls=C,I.p={},I})})(pz);var Wve=pz.exports;const yi=Va(Wve),Hve={day:yi(),startTime:yi(),endTime:yi()};function mF({open:t,onClose:e,shift:r,_handleSubmit:n}){const{control:i,handleSubmit:s}=fz({defaultValues:r||Hve});return _.jsxs(Uy,{open:t,onClose:e,children:[_.jsxs(nV,{children:[r?"Edit":"Add"," Shift"]}),_.jsxs(rV,{children:[_.jsx(_v,{name:"day",control:i,render:({field:a})=>_.jsx(ive,{value:a.value,onChange:a.onChange})}),_.jsxs("div",{children:[_.jsx(_v,{name:"startTime",control:i,render:({field:a})=>_.jsx(oF,{value:a.value,onChange:a.onChange})}),_.jsx(_v,{name:"endTime",control:i,render:({field:a})=>_.jsx(oF,{value:a.value,onChange:a.onChange})})]})]}),_.jsx(tV,{children:_.jsx(xs,{onClick:s(n),children:"Submit"})})]})}function Uve(){const[t,e]=k.useState([]),[r,n]=k.useState(!1),[i,s]=k.useState(null);function a(l){var u=[...t];u[i]=l,e(u),s(null)}function o(l){e([...t,l]),n(!1)}return _.jsxs($u,{title:"Shifts",children:[_.jsx(Gy,{children:t.map((l,u)=>_.jsxs(_.Fragment,{children:[_.jsx(Gae,{title:l.day.format("dddd, MMMM D")+" - "+l.endTime.diff(l.startTime,"hours")+" hours",action:_.jsx(fs,{onClick:()=>s(u),children:_.jsx(RV,{})})}),_.jsx(Um,{children:l.startTime.format("h:mm a")+" to "+l.endTime.format("h:mm a")})]}))}),_.jsx(ple,{color:"primary",sx:{position:"absolute",right:16,bottom:16},onClick:()=>{n(!0)},children:_.jsx(mM,{})}),_.jsx(mF,{open:r,onClose:()=>{n(!1)},_handleSubmit:o}),_.jsx(mF,{open:i!==null,onClose:()=>{s(null)},shift:i!==null?t[i]:void 0,_handleSubmit:a})]})}var gz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){var r="week",n="year";return function(i,s,a){var o=s.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(n).add(1,n).date(u),h=a(this).endOf(r);if(c.isBefore(h))return 1}var f=a(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),m=this.diff(f,r,!0);return m<0?a(this).startOf("week").week():Math.ceil(m)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(gz);var Gve=gz.exports;const jve=Va(Gve);var mz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},l=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(b){this[y]=+b}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),v=60*x[1]+(+x[2]||0);return v===0?0:x[0]==="+"?-v:v}(y)}],h=function(y){var b=o[y];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(y,b){var x,v=o.meridiem;if(v){for(var w=1;w<=24;w+=1)if(y.indexOf(v(w,0,b))>-1){x=w>12;break}}else x=y===(b?"pm":"PM");return x},m={A:[a,function(y){this.afternoon=f(y,!1)}],a:[a,function(y){this.afternoon=f(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[i,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[a,function(y){var b=o.ordinal,x=y.match(/\d+/);if(this.day=x[0],b)for(var v=1;v<=31;v+=1)b(v).replace(/\[|\]/g,"")===y&&(this.day=v)}],M:[s,u("month")],MM:[i,u("month")],MMM:[a,function(y){var b=h("months"),x=(h("monthsShort")||b.map(function(v){return v.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(y){var b=h("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(y){this.year=l(y)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(y){var b,x;b=y,x=o&&o.formats;for(var v=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,I,A){var W=A&&A.toUpperCase();return I||x[A]||r[A]||x[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(V,$,L){return $||L.slice(1)})})).match(n),w=v.length,T=0;T<w;T+=1){var P=v[T],C=m[P],M=C&&C[0],E=C&&C[1];v[T]=E?{regex:M,parser:E}:P.replace(/^\[|\]$/g,"")}return function(D){for(var I={},A=0,W=0;A<w;A+=1){var V=v[A];if(typeof V=="string")W+=V.length;else{var $=V.regex,L=V.parser,H=D.slice(W),z=$.exec(H)[0];L.call(I,z),D=D.replace(z,"")}}return function(F){var U=F.afternoon;if(U!==void 0){var q=F.hours;U?q<12&&(F.hours+=12):q===12&&(F.hours=0),delete F.afternoon}}(I),I}}return function(y,b,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(l=y.parseTwoDigitYear);var v=b.prototype,w=v.parse;v.parse=function(T){var P=T.date,C=T.utc,M=T.args;this.$u=C;var E=M[1];if(typeof E=="string"){var D=M[2]===!0,I=M[3]===!0,A=D||I,W=M[2];I&&(W=M[2]),o=this.$locale(),!D&&W&&(o=x.Ls[W]),this.$d=function(H,z,F){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*H);var U=g(z)(H),q=U.year,ae=U.month,he=U.day,be=U.hours,pe=U.minutes,ee=U.seconds,ce=U.milliseconds,ke=U.zone,Q=new Date,Z=he||(q||ae?1:Q.getDate()),le=q||Q.getFullYear(),ue=0;q&&!ae||(ue=ae>0?ae-1:Q.getMonth());var re=be||0,K=pe||0,J=ee||0,se=ce||0;return ke?new Date(Date.UTC(le,ue,Z,re,K,J,se+60*ke.offset*1e3)):F?new Date(Date.UTC(le,ue,Z,re,K,J,se)):new Date(le,ue,Z,re,K,J,se)}catch{return new Date("")}}(P,E,C),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),A&&P!=this.format(E)&&(this.$d=new Date("")),o={}}else if(E instanceof Array)for(var V=E.length,$=1;$<=V;$+=1){M[1]=E[$-1];var L=x.apply(this,M);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}$===V&&(this.$d=new Date(""))}else w.call(this,T)}}})})(mz);var Yve=mz.exports;const Xve=Va(Yve);var yz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var a=i.prototype,o=a.format;s.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,g,y){var b=y&&y.toUpperCase();return g||f[y]||r[y]||f[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,v,w){return v||w.slice(1)})})}(l,u===void 0?{}:u);return o.call(this,c)}}})})(yz);var qve=yz.exports;const Kve=Va(qve);var bz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){return function(r,n,i){n.prototype.isBetween=function(s,a,o,l){var u=i(s),c=i(a),h=(l=l||"()")[0]==="(",f=l[1]===")";return(h?this.isAfter(u,o):!this.isBefore(u,o))&&(f?this.isBefore(c,o):!this.isAfter(c,o))||(h?this.isBefore(u,o):!this.isAfter(u,o))&&(f?this.isAfter(c,o):!this.isBefore(c,o))}}})})(bz);var Qve=bz.exports;const Jve=Va(Qve);var vz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ws,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(a){var o=this,l=this.$locale();if(!this.isValid())return s.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),h==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),h==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return h}});return s.bind(this)(c)}}})})(vz);var Zve=vz.exports;const ewe=Va(Zve);yi.extend(Kve);yi.extend(jve);yi.extend(Jve);yi.extend(ewe);const twe=z6(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),rwe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},nwe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},x_=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),yF=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),iwe=(t,e)=>e?(...r)=>t(...r).locale(e):t;class swe{constructor({locale:e,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=rwe,this.setLocaleToValue=n=>{const i=this.getCurrentLocaleCode();return i===n.locale()?n:n.locale(i)},this.hasUTCPlugin=()=>typeof yi.utc<"u",this.hasTimezonePlugin=()=>typeof yi.tz<"u",this.isSame=(n,i,s)=>{const a=this.setTimezone(i,this.getTimezone(n));return n.format(s)===a.format(s)},this.cleanTimezone=n=>{switch(n){case"default":return;case"system":return yi.tz.guess();default:return n}},this.createSystemDate=n=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=yi.tz.guess();return i!=="UTC"?yi.tz(n,i):yi(n)}return yi(n)},this.createUTCDate=n=>{if(!this.hasUTCPlugin())throw new Error(x_);return yi.utc(n)},this.createTZDate=(n,i)=>{if(!this.hasUTCPlugin())throw new Error(x_);if(!this.hasTimezonePlugin())throw new Error(yF);const s=n!==void 0&&!n.endsWith("Z");return yi(n).tz(this.cleanTimezone(i),s)},this.getLocaleFormats=()=>{const n=yi.Ls,i=this.locale||"en";let s=n[i];return s===void 0&&(twe(),s=n.en),s.formats},this.adjustOffset=n=>{if(!this.hasTimezonePlugin())return n;const i=this.getTimezone(n);if(i!=="UTC"){const s=n.tz(this.cleanTimezone(i),!0);if((s.$offset??0)===(n.$offset??0))return n;n.$offset=s.$offset}return n},this.date=(n,i="default")=>{if(n===null)return null;let s;return i==="UTC"?s=this.createUTCDate(n):i==="system"||i==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(n):s=this.createTZDate(n,i),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>yi(new Date("Invalid date")),this.getTimezone=n=>{var i;if(this.hasTimezonePlugin()){const s=(i=n.$x)==null?void 0:i.$timezone;if(s)return s}return this.hasUTCPlugin()&&n.isUTC()?"UTC":"system"},this.setTimezone=(n,i)=>{if(this.getTimezone(n)===i)return n;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(x_);return n.utc()}if(i==="system")return n.local();if(!this.hasTimezonePlugin()){if(i==="default")return n;throw new Error(yF)}return yi.tz(n,this.cleanTimezone(i))},this.toJsDate=n=>n.toDate(),this.parse=(n,i)=>n===""?null:this.dayjs(n,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=n=>{const i=this.getLocaleFormats(),s=a=>a.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(o,l,u)=>l||u.slice(1));return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(a,o,l)=>{const u=l&&l.toUpperCase();return o||i[l]||s(i[u])})},this.isValid=n=>n==null?!1:n.isValid(),this.format=(n,i)=>this.formatByString(n,this.formats[i]),this.formatByString=(n,i)=>this.dayjs(n).format(i),this.formatNumber=n=>n,this.isEqual=(n,i)=>n===null&&i===null?!0:n===null||i===null?!1:n.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(n,i)=>this.isSame(n,i,"YYYY"),this.isSameMonth=(n,i)=>this.isSame(n,i,"YYYY-MM"),this.isSameDay=(n,i)=>this.isSame(n,i,"YYYY-MM-DD"),this.isSameHour=(n,i)=>n.isSame(i,"hour"),this.isAfter=(n,i)=>n>i,this.isAfterYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()>i.utc():n.isAfter(i,"year"),this.isAfterDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()>i.utc():n.isAfter(i,"day"),this.isBefore=(n,i)=>n<i,this.isBeforeYear=(n,i)=>this.hasUTCPlugin()?!this.isSameYear(n,i)&&n.utc()<i.utc():n.isBefore(i,"year"),this.isBeforeDay=(n,i)=>this.hasUTCPlugin()?!this.isSameDay(n,i)&&n.utc()<i.utc():n.isBefore(i,"day"),this.isWithinRange=(n,[i,s])=>n>=i&&n<=s,this.startOfYear=n=>this.adjustOffset(n.startOf("year")),this.startOfMonth=n=>this.adjustOffset(n.startOf("month")),this.startOfWeek=n=>this.adjustOffset(n.startOf("week")),this.startOfDay=n=>this.adjustOffset(n.startOf("day")),this.endOfYear=n=>this.adjustOffset(n.endOf("year")),this.endOfMonth=n=>this.adjustOffset(n.endOf("month")),this.endOfWeek=n=>this.adjustOffset(n.endOf("week")),this.endOfDay=n=>this.adjustOffset(n.endOf("day")),this.addYears=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"year"):n.add(i,"year")),this.addMonths=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"month"):n.add(i,"month")),this.addWeeks=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"week"):n.add(i,"week")),this.addDays=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"day"):n.add(i,"day")),this.addHours=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"hour"):n.add(i,"hour")),this.addMinutes=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"minute"):n.add(i,"minute")),this.addSeconds=(n,i)=>this.adjustOffset(i<0?n.subtract(Math.abs(i),"second"):n.add(i,"second")),this.getYear=n=>n.year(),this.getMonth=n=>n.month(),this.getDate=n=>n.date(),this.getHours=n=>n.hour(),this.getMinutes=n=>n.minute(),this.getSeconds=n=>n.second(),this.getMilliseconds=n=>n.millisecond(),this.setYear=(n,i)=>this.adjustOffset(n.set("year",i)),this.setMonth=(n,i)=>this.adjustOffset(n.set("month",i)),this.setDate=(n,i)=>this.adjustOffset(n.set("date",i)),this.setHours=(n,i)=>this.adjustOffset(n.set("hour",i)),this.setMinutes=(n,i)=>this.adjustOffset(n.set("minute",i)),this.setSeconds=(n,i)=>this.adjustOffset(n.set("second",i)),this.setMilliseconds=(n,i)=>this.adjustOffset(n.set("millisecond",i)),this.getDaysInMonth=n=>n.daysInMonth(),this.getWeekArray=n=>{const i=this.setLocaleToValue(n),s=this.startOfWeek(this.startOfMonth(i)),a=this.endOfWeek(this.endOfMonth(i));let o=0,l=s;const u=[];for(;l<a;){const c=Math.floor(o/7);u[c]=u[c]||[],u[c].push(l),l=this.addDays(l,1),o+=1}return u},this.getWeekNumber=n=>n.week(),this.getYearRange=([n,i])=>{const s=this.startOfYear(n),a=this.endOfYear(i),o=[];let l=s;for(;this.isBefore(l,a);)o.push(l),l=this.addYears(l,1);return o},this.dayjs=iwe(yi,e),this.locale=e,this.formats=B({},nwe,r),yi.extend(Xve)}getDayOfWeek(e){return e.day()+1}}function wz(t,e){let r=[...e];if(r.length<2)return r;for(let n=0;n<t;n++)r.push(r.shift());return r}var wr;(t=>{t.unison={n:1,offset:0},t.octave={n:8,offset:0};function e(c=8){return{n:Math.floor(Math.random()*(c-1)+1),offset:Math.floor(Math.random()*3)-1}}t.random=e;function r(c){const h=c.offset;switch(c.n){case 1:return 0+h;case 2:return 2+h;case 3:return 4+h;case 4:return 5+h;case 5:return 7+h;case 6:return 9+h;case 7:return 11+h;default:return r({n:c.n-7,offset:c.offset})+12}}t.halfSteps=r;function n(c){return{n:9-c.n,offset:s(c)?c.offset*-1:c.offset*-1-1}}t.invert=n;function i(c){return{n:c.n%7===0?7:c.n%7,offset:c.offset}}t.toSimple=i;function s(c){const h=c.n%7;return h==1||h==4||h==5}t.isPerfect=s;function a(c,h){const f=c.n+h.n-1;var m;return s({n:f,offset:0})?m=c.offset+h.offset+1:m=c.offset+h.offset,{n:f,offset:m}}t.add2=a;function o(c,h){const f=c.n-h.n+1;var m;return!s(h)&&s(c)?m=c.offset-h.offset-1:m=c.offset-h.offset,{n:f,offset:m}}t.subtract=o;function l(c){return c.length==0?t.unison:c.length==1?c[0]:c.reduce(a)}t.add=l;function u(c){const h=t.isPerfect(c);var f="";switch(c.offset){case 0:h?f="p":f="M";break;case-1:h?f="dim":f="m";break;case 1:f="aug";break;case-2:h?f="-2_":f="dim";break;default:f=`${c.offset}_`}return`${f}${c.n}`}t.name=u})(wr||(wr={}));function vr(t){const e=t.match(/\d+/);if(!e)throw new Error("Invalid interval format");const r=parseInt(e[0]);var n=!1;const i=r%7;(i==1||i==4||i==5)&&(n=!0);const s=t.replace(/[0-9]/g,"");var a;switch(n){case!0:switch(s){case"p":a=0;break;case"aug":a=1;break;case"dim":a=-1;break;default:throw new Error("Prefix is invalid")}break;case!1:switch(s){case"M":a=0;break;case"m":a=-1;break;case"dim":a=-2;break;case"aug":a=1;break;default:throw new Error(`Prefix is invalid: ${s} for ${t}`)}}return{n:r,offset:a}}var Ff;(t=>{t.validLetters=["A","B","C","D","E","F","G"];function e(){return t.validLetters[Math.floor(Math.random()*7)]}t.random=e;function r(s){switch(s){case"C":return 0;case"D":return 2;case"E":return 4;case"F":return 5;case"G":return 7;case"A":return 9;case"B":return 11}}t.toNoteNumber=r;function n(s){switch(s){case"C":return"D";case"D":return"E";case"E":return"F";case"F":return"G";case"G":return"A";case"A":return"B";case"B":return"C"}}t.next=n;function i(s,a){switch(s){case 0:return a;default:return i(s-1,n(a))}}t.shift=i})(Ff||(Ff={}));var ta=(t=>(t[t.Natural=0]="Natural",t[t.Sharp=1]="Sharp",t[t.Flat=-1]="Flat",t[t.DoubleSharp=2]="DoubleSharp",t[t.DoubleFlat=-2]="DoubleFlat",t))(ta||{});(t=>{function e(n){switch(n){case 0:return"";case-2:return"bb";case-1:return"b";case 1:return"#";case 2:return"##"}}t.toDisplayString=e;function r(n){switch(n){case"b":return-1;case"bb":return-2;case"#":return 1;case"##":return 2;default:throw new Error(`Accidental was ${n}`)}}t.fromString=r})(ta||(ta={}));const Ud={increaseBy(t,e){return Math.abs((e+t)%12)},toNote(t){switch(t){case 0:return Dt("C");case 1:return Dt("D",-1);case 2:return Dt("D");case 3:return Dt("E",-1);case 4:return Dt("E");case 5:return Dt("F");case 6:return Dt("G",-1);case 7:return Dt("G");case 8:return Dt("A",-1);case 9:return Dt("A");case 10:return Dt("B",-1);case 11:return Dt("B")}},toNoteSharp(t){switch(t){case 0:return Dt("C");case 1:return Dt("C",1);case 2:return Dt("D");case 3:return Dt("D",1);case 4:return Dt("E");case 5:return Dt("F");case 6:return Dt("F",1);case 7:return Dt("G");case 8:return Dt("G",1);case 9:return Dt("A");case 10:return Dt("A",1);case 11:return Dt("B")}}},awe=[0,1,2,3,4,5,6],Gr={random(){return{letter:Ff.random(),accidental:Math.floor(Math.random()*3)-1}},toNoteNumber(t){return Ud.increaseBy(t.accidental,Ff.toNoteNumber(t.letter))},interval(t,e){return console.log(t,e),console.log("interval:",Is.interval({note:t,octave:1},{note:e,octave:2})),console.log("simple interval:",wr.toSimple(Is.interval({note:t,octave:1},{note:e,octave:2}))),wr.toSimple(Is.interval({note:t,octave:1},{note:e,octave:2}))},toDisplayString(t){return`${t.letter}${ta.toDisplayString(t.accidental)}`},transpose(t,e){const r=Ff.shift(t.n-1,e.letter),n=Ud.increaseBy(wr.halfSteps(t),Gr.toNoteNumber(e))-Gr.toNoteNumber(Dt(r));return Dt(r,n)},toMidiNumber(t,e){return Gr.toNoteNumber(t)+12+e*12},toMidiNumbersForAllOctaves(t){return awe.map(e=>Gr.toMidiNumber(t,e))},fromMidiNumber(t){return Ud.toNote(t%12)}};function Dt(t,e){return{letter:t,accidental:e||0}}var Is;(t=>{function e(s){return{note:Ud.toNote(s%12),octave:Math.floor(s/12)}}t.fromMidiNumber=e;function r(s){return{note:Ud.toNoteSharp(s%12),octave:Math.floor(s/12)}}t.fromMidiNumberSharp=r;function n(s){return Gr.toNoteNumber(s.note)+s.octave*12}t.toMidiNumber=n;function i(s,a){for(var o=1,l=s.note.letter;l!==a.note.letter;)l=Ff.next(l),o++;const u=n(a)-n(s),c=wr.halfSteps({n:o,offset:0}),h=u-c;return{n:o,offset:h}}t.interval=i})(Is||(Is={}));var Ut=(t=>(t[t.Root=0]="Root",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third",t))(Ut||{});(t=>{function e(r){switch(r){case 0:return 1;case 1:return 3;case 2:return 5;case 3:return 7}}t.toN=e})(Ut||(Ut={}));var on=(t=>(t.Maj7="Maj7",t.Dom7="Dom7",t.Min7="Min7",t.Half="Half-Dim7",t.Full="Dim7",t.Maj="Maj",t.Min="Min",t.Dim="Dim",t.Aug="Aug",t))(on||{});(t=>{function e(a){switch(a){case"Maj7":return"7";case"Dom7":return"7";case"Min7":return"m7";case"Half-Dim7":return"7";case"Dim7":return"7";case"Maj":return"";case"Min":return"m";case"Dim":return"";case"Aug":return"+"}}t.toLeadSheet=e;function r(a){return wr.name(t.toIntervals(a)[0])==="M3"}t.isMajor=r;function n(a){return wr.name(t.toIntervals(a)[0])==="m3"}t.isMinor=n;function i(a){return t.toIntervals(a).length===3}t.isSeventh=i;function s(a){switch(a){case"Maj7":return[vr("M3"),vr("m3"),vr("M3")];case"Dom7":return[vr("M3"),vr("m3"),vr("m3")];case"Min7":return[vr("m3"),vr("M3"),vr("m3")];case"Half-Dim7":return[vr("m3"),vr("m3"),vr("m3")];case"Dim7":return[vr("m3"),vr("m3"),vr("dim3")];case"Maj":return[vr("M3"),vr("m3")];case"Min":return[vr("m3"),vr("M3")];case"Dim":return[vr("m3"),vr("m3")];case"Aug":return[vr("M3"),vr("M3")]}}t.toIntervals=s})(on||(on={}));var WT=(t=>(t[t.Ionian=0]="Ionian",t[t.Dorian=1]="Dorian",t[t.Phrygian=2]="Phrygian",t[t.Lydian=3]="Lydian",t[t.Mixolydian=4]="Mixolydian",t[t.Aeloian=5]="Aeloian",t[t.Locrian=6]="Locrian",t))(WT||{}),Rc;(t=>{t.MajorScale=[vr("M2"),vr("M2"),vr("m2"),vr("M2"),vr("M2"),vr("M2"),vr("m2")],t.HarmonicMinor=[vr("M2"),vr("m2"),vr("M2"),vr("M2"),vr("m2"),vr("aug2"),vr("m2")],t.MinorScale=e(5);function e(n){return wz(n,t.MajorScale)}t.mode=e;function r(n){var i="";return n.forEach(s=>i+=wr.name(s)+" "),i}t.toDisplayString=r})(Rc||(Rc={}));const Dl={isTriad(t){return t.length===2},isSeventh(t){return t.length===3},isShell(t){return t.length===2&&t[0].n===3&&t[1].n===5},toQuality(t){if(this.isSeventh(t))switch(wr.name(t[0])){case"m3":switch(wr.name(t[1])){case"m3":switch(wr.name(t[2])){case"m3":return"Dim7";case"M3":return"Half-Dim7";default:return null}case"M3":switch(wr.name(t[2])){case"m3":return"Min7";default:return null}default:return null}case"M3":switch(wr.name(t[1])){case"m3":switch(wr.name(t[2])){case"m3":return"Dom7";case"M3":return"Maj7";default:return null}default:return null}default:return null}else if(this.isTriad(t))switch(wr.name(t[0])){case"m3":switch(wr.name(t[1])){case"m3":return"Dim";case"M3":return"Min";default:return null}case"M3":switch(wr.name(t[1])){case"m3":return"Maj";case"M3":return"Aug";default:return null}default:return null}else return null},nextInversion(t){const e=t.slice(1,t.length),r=wr.subtract(wr.invert(t[0]),wr.add(t.slice(1,t.length)));return console.log("interval to add on top",r),console.log({remainingIntervals:e}),[...e,r]},applyInversion(t,e){var r=e;for(let n=0;n<t;n++)r=this.nextInversion(r);return r}};console.log("Apply inversion",Dl.applyInversion(2,[vr("M3"),vr("m3")]));console.log("TESTING shell",Dl.isShell([vr("m3"),vr("p5")]));function owe(t,e){const r=wz(t-1,e);return[wr.add2(r[0],r[1]),wr.add2(r[2],r[3]),wr.add2(r[4],r[5])]}function lwe(t){return t.map((e,r)=>owe(r+1,t))}const xz={toLeadSheet(t){return Gr.toDisplayString(t.root)+on.toLeadSheet(t.quality)}};function uwe(t,e){var r=t;return[t,...e.map(n=>(r=Gr.transpose(n,r),r))]}function bF(t,e){return lwe(e).filter(r=>Dl.toQuality(r)).map((r,n)=>({root:Gr.transpose(e.slice(0,n).reduce((i,s)=>wr.add2(i,s),wr.unison),t),quality:Dl.toQuality(r)}))}function cwe(t){if(t.length<2)return[];const e=[];for(let r=0;r<t.length-1;r++)e.push(Is.interval(t[r],t[r+1]));return e}function HT(t){const e=t[0],r=wr.subtract(vr("p5"),t[0]),n=wr.subtract(t[1],r);return[e,r,n]}console.log("TESTING SHELL",Rc.toDisplayString(HT([{n:3,offset:0},{n:5,offset:0}])));function dwe(t){if(t.every(r=>r.n==3))return{intervals:t,inversion:0,rootNum:0};if(Dl.isShell(t))return{intervals:HT(t),inversion:0,rootNum:0};var e=t;for(let r=0;r<t.length;r++){console.log("inverted",wr.invert(e[0]));const n=wr.subtract(wr.invert(e[0]),wr.add(e.slice(1,e.length)));console.log("interval to add on top",n);const i=e.slice(1,t.length);console.log({remainingIntervals:i}),e=[...e.slice(1,t.length),n];const s=Dl.isSeventh(e),a=Dl.isShell(e),o=r+1,l=o===0?0:s?4-o:a?o===1?3:1:3-o;if(e.every(u=>u.n==3))return{intervals:e,inversion:l,rootNum:o};if(Dl.isShell(e))return{intervals:HT(e),inversion:l,rootNum:o}}return null}var Mw;(t=>{function e(s){return`${xz.toLeadSheet(s.chord)}
      ${s.inversion>0?`/
      ${Gr.toDisplayString(t.bassNote(s))}`:""}`}t.toLeadSheet=e;let r;(s=>{s[s.Bass=0]="Bass",s[s.Tenor=1]="Tenor",s[s.Alto=2]="Alto",s[s.Soprano=3]="Soprano"})(r||(r={}));function n(s,{chord:a,inversion:o}){const l=a.root,u=on.toIntervals(a.quality),c=Dl.applyInversion(o,u);var h=[];for(let g=0;g<o;g++)h.push(u[g]),console.log("Is this undefined",u[g]);const f=Gr.transpose(wr.add(h),l);var m=[];for(let g=0;g<s;g++)m.push(c[g]);return Gr.transpose(wr.add(m),f)}t.voice=n;function i(s){return n(0,s)}t.bassNote=i})(Mw||(Mw={}));function vF(t){const e=t.length>0?t[0]:null;var r=e?[e]:[];t.forEach(a=>{if(!r.some(l=>Gr.toNoteNumber(l.note)===Gr.toNoteNumber(a.note))){for(var o=a;e&&Is.toMidiNumber(a)>Is.toMidiNumber(e)+11;)o.octave--;r.push(o),console.log({simplifiedOctavedNotes:r})}}),r.sort((a,o)=>Is.toMidiNumber(a)-Is.toMidiNumber(o)),console.log("Finished notes",r);const n=dwe(cwe(r)),i=n&&Dl.toQuality(n.intervals),s=n&&r[n.rootNum]&&{root:r[n.rootNum].note,quality:i};return s&&s.quality&&{chord:{root:s.root,quality:s.quality},inversion:n.inversion}}function hwe(t,e){return{interval:Gr.interval(e.note,t.chord.root),quality:t.chord.quality,inversion:t.inversion}}var UT;(t=>{function e(r){if(r.interval.n<1||r.interval.n>7)throw new Error(`Interval has to be a possible scale degree but was ${wr.name(r.interval)}`);const n=on.isMajor(r.quality),i=on.isSeventh(r.quality);var s;switch(r.interval.n){case 1:s=n?"I":"i";break;case 2:s=n?"II":"ii";break;case 3:s=n?"III":"iii";break;case 4:s=n?"IV":"iv";break;case 5:s=n?"V":"v";break;case 6:s=n?"VI":"vi";break;case 7:s=n?"VII":"vii";break;default:throw new Error}r.quality==="Dim7"||r.quality==="Dim"?s+="":r.quality==="Half-Dim7"&&(s+="");var a;if(i)switch(r.inversion){case 0:a="7";break;case 1:a="65";break;case 2:a="43";break;case 3:a="2";break}else switch(r.inversion){case 0:a="";break;case 1:a="6";break;case 2:a="64";break;default:throw new Error("Can't have a third inversion on a triad")}return s+a}t.toDisplayString=e})(UT||(UT={}));var ku;(function(t){t[t.Page=0]="Page",t[t.Horizontal=1]="Horizontal"})(ku||(ku={}));var Zs;(function(t){t[t.Default=0]="Default",t[t.ScoreTab=1]="ScoreTab",t[t.Score=2]="Score",t[t.Tab=3]="Tab",t[t.TabMixed=4]="TabMixed"})(Zs||(Zs={}));class gu{static getValue(e){return gu._values||(gu._values=new Map),e=e.toLowerCase().replaceAll(" ",""),gu._values.has(e)?gu._values.get(e):0}static isPiano(e){return e<=7||e>=16&&e<=23}static isGuitar(e){return e>=24&&e<=39||e===105||e===43}}gu._values=new Map([["acousticgrandpiano",0],["brightacousticpiano",1],["electricgrandpiano",2],["honkytonkpiano",3],["electricpiano1",4],["electricpiano2",5],["harpsichord",6],["clavinet",7],["celesta",8],["glockenspiel",9],["musicbox",10],["vibraphone",11],["marimba",12],["xylophone",13],["tubularbells",14],["dulcimer",15],["drawbarorgan",16],["percussiveorgan",17],["rockorgan",18],["churchorgan",19],["reedorgan",20],["accordion",21],["harmonica",22],["tangoaccordion",23],["acousticguitarnylon",24],["acousticguitarsteel",25],["electricguitarjazz",26],["electricguitarclean",27],["electricguitarmuted",28],["overdrivenguitar",29],["distortionguitar",30],["guitarharmonics",31],["acousticbass",32],["electricbassfinger",33],["electricbasspick",34],["fretlessbass",35],["slapbass1",36],["slapbass2",37],["synthbass1",38],["synthbass2",39],["violin",40],["viola",41],["cello",42],["contrabass",43],["tremolostrings",44],["pizzicatostrings",45],["orchestralharp",46],["timpani",47],["stringensemble1",48],["stringensemble2",49],["synthstrings1",50],["synthstrings2",51],["choiraahs",52],["voiceoohs",53],["synthvoice",54],["orchestrahit",55],["trumpet",56],["trombone",57],["tuba",58],["mutedtrumpet",59],["frenchhorn",60],["brasssection",61],["synthbrass1",62],["synthbrass2",63],["sopranosax",64],["altosax",65],["tenorsax",66],["baritonesax",67],["oboe",68],["englishhorn",69],["bassoon",70],["clarinet",71],["piccolo",72],["flute",73],["recorder",74],["panflute",75],["blownbottle",76],["shakuhachi",77],["whistle",78],["ocarina",79],["lead1square",80],["lead2sawtooth",81],["lead3calliope",82],["lead4chiff",83],["lead5charang",84],["lead6voice",85],["lead7fifths",86],["lead8bassandlead",87],["pad1newage",88],["pad2warm",89],["pad3polysynth",90],["pad4choir",91],["pad5bowed",92],["pad6metallic",93],["pad7halo",94],["pad8sweep",95],["fx1rain",96],["fx2soundtrack",97],["fx3crystal",98],["fx4atmosphere",99],["fx5brightness",100],["fx6goblins",101],["fx7echoes",102],["fx8scifi",103],["sitar",104],["banjo",105],["shamisen",106],["koto",107],["kalimba",108],["bagpipe",109],["fiddle",110],["shanai",111],["tinklebell",112],["agogo",113],["steeldrums",114],["woodblock",115],["taikodrum",116],["melodictom",117],["synthdrum",118],["reversecymbal",119],["guitarfretnoise",120],["breathnoise",121],["seashore",122],["birdtweet",123],["telephonering",124],["helicopter",125],["applause",126],["gunshot",127]]);class Pp{init(e,r){this.data=e,this.settings=r}}var Si;(function(t){t[t.General=0]="General",t[t.Format=1]="Format",t[t.AlphaTex=2]="AlphaTex"})(Si||(Si={}));class ki extends Error{constructor(e,r="",n){super(r??"",{cause:n}),this.type=e,this.inner=n??null,Object.setPrototypeOf(this,ki.prototype)}}class Yn extends ki{constructor(e=null,r=null){super(Si.Format,e??"Unsupported format"),this.inner=r,Object.setPrototypeOf(this,Yn.prototype)}}var Xn;(function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Heavy=2]="Heavy"})(Xn||(Xn={}));var ci;(function(t){t[t.Tempo=0]="Tempo",t[t.Volume=1]="Volume",t[t.Instrument=2]="Instrument",t[t.Balance=3]="Balance"})(ci||(ci={}));class Vi{constructor(){this.isLinear=!1,this.type=ci.Tempo,this.value=0,this.ratioPosition=0,this.text=""}static buildTempoAutomation(e,r,n,i){(i<1||i>5)&&(i=2);let s=new Float32Array([1,.5,1,1.5,2,3]),a=new Vi;return a.type=ci.Tempo,a.isLinear=e,a.ratioPosition=r,a.value=n*s[i],a}static buildInstrumentAutomation(e,r,n){let i=new Vi;return i.type=ci.Instrument,i.isLinear=e,i.ratioPosition=r,i.value=n,i}}var $t;(function(t){t[t.Neutral=0]="Neutral",t[t.C3=1]="C3",t[t.C4=2]="C4",t[t.F4=3]="F4",t[t.G2=4]="G2"})($t||($t={}));var gr;(function(t){t[t._15ma=0]="_15ma",t[t._8va=1]="_8va",t[t.Regular=2]="Regular",t[t._8vb=3]="_8vb",t[t._15mb=4]="_15mb"})(gr||(gr={}));var Da;(function(t){t[t.None=0]="None",t[t.Simple=1]="Simple",t[t.FirstOfDouble=2]="FirstOfDouble",t[t.SecondOfDouble=3]="SecondOfDouble"})(Da||(Da={}));class Vu{constructor(){this.id=Vu._globalBarId++,this.index=0,this.nextBar=null,this.previousBar=null,this.clef=$t.G2,this.clefOttava=gr.Regular,this.voices=[],this.simileMark=Da.None,this.isMultiVoice=!1,this.displayScale=1,this.displayWidth=-1}get masterBar(){return this.staff.track.score.masterBars[this.index]}get isEmpty(){for(let e=0,r=this.voices.length;e<r;e++)if(!this.voices[e].isEmpty)return!1;return!0}addVoice(e){e.bar=this,e.index=this.voices.length,this.voices.push(e)}finish(e,r=null){this.isMultiVoice=!1;for(let n=0,i=this.voices.length;n<i;n++){let s=this.voices[n];s.finish(e,r),n>0&&!s.isEmpty&&(this.isMultiVoice=!0)}}calculateDuration(){let e=0;for(let r of this.voices){let n=r.calculateDuration();n>e&&(e=n)}return e}}Vu._globalBarId=0;class zt{static ticksToMillis(e,r){return e*(6e4/(r*zt.QuarterTime))|0}static millisToTicks(e,r){return e/(6e4/(r*zt.QuarterTime))|0}static toTicks(e){return zt.valueToTicks(e)}static valueToTicks(e){let r=e;return r<0&&(r=1/-r),zt.QuarterTime*(4/r)|0}static applyDot(e,r){return r?e+(e/4|0)*3:e+(e/2|0)}static applyTuplet(e,r,n){return e*n/r|0}static removeTuplet(e,r,n){return e*r/n|0}static dynamicToVelocity(e){return zt.MinVelocity+e*zt.VelocityIncrement}}zt.QuarterTime=960;zt.MinVelocity=15;zt.VelocityIncrement=16;class Je{constructor(e=0,r=0){this.offset=e,this.value=r}}Je.MaxPosition=60;Je.MaxValue=12;var Ir;(function(t){t[t.Default=0]="Default",t[t.Gradual=1]="Gradual",t[t.Fast=2]="Fast"})(Ir||(Ir={}));var ct;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Bend=2]="Bend",t[t.Release=3]="Release",t[t.BendRelease=4]="BendRelease",t[t.Hold=5]="Hold",t[t.Prebend=6]="Prebend",t[t.PrebendBend=7]="PrebendBend",t[t.PrebendRelease=8]="PrebendRelease"})(ct||(ct={}));var Qr;(function(t){t[t.None=0]="None",t[t.BrushUp=1]="BrushUp",t[t.BrushDown=2]="BrushDown",t[t.ArpeggioUp=3]="ArpeggioUp",t[t.ArpeggioDown=4]="ArpeggioDown"})(Qr||(Qr={}));var Os;(function(t){t[t.None=0]="None",t[t.Crescendo=1]="Crescendo",t[t.Decrescendo=2]="Decrescendo"})(Os||(Os={}));var oe;(function(t){t[t.QuadrupleWhole=-4]="QuadrupleWhole",t[t.DoubleWhole=-2]="DoubleWhole",t[t.Whole=1]="Whole",t[t.Half=2]="Half",t[t.Quarter=4]="Quarter",t[t.Eighth=8]="Eighth",t[t.Sixteenth=16]="Sixteenth",t[t.ThirtySecond=32]="ThirtySecond",t[t.SixtyFourth=64]="SixtyFourth",t[t.OneHundredTwentyEighth=128]="OneHundredTwentyEighth",t[t.TwoHundredFiftySixth=256]="TwoHundredFiftySixth"})(oe||(oe={}));var Kt;(function(t){t[t.PPP=0]="PPP",t[t.PP=1]="PP",t[t.P=2]="P",t[t.MP=3]="MP",t[t.MF=4]="MF",t[t.F=5]="F",t[t.FF=6]="FF",t[t.FFF=7]="FFF"})(Kt||(Kt={}));var _t;(function(t){t[t.None=0]="None",t[t.OnBeat=1]="OnBeat",t[t.BeforeBeat=2]="BeforeBeat",t[t.BendGrace=3]="BendGrace"})(_t||(_t={}));var Ot;(function(t){t[t.Unknown=-2]="Unknown",t[t.NoOrDead=-1]="NoOrDead",t[t.Thumb=0]="Thumb",t[t.IndexFinger=1]="IndexFinger",t[t.MiddleFinger=2]="MiddleFinger",t[t.AnnularFinger=3]="AnnularFinger",t[t.LittleFinger=4]="LittleFinger"})(Ot||(Ot={}));var bt;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Artificial=2]="Artificial",t[t.Pinch=3]="Pinch",t[t.Tap=4]="Tap",t[t.Semi=5]="Semi",t[t.Feedback=6]="Feedback"})(bt||(bt={}));var $n;(function(t){t[t.Default=0]="Default",t[t.ForceNone=1]="ForceNone",t[t.ForceNatural=2]="ForceNatural",t[t.ForceSharp=3]="ForceSharp",t[t.ForceDoubleSharp=4]="ForceDoubleSharp",t[t.ForceFlat=5]="ForceFlat",t[t.ForceDoubleFlat=6]="ForceDoubleFlat"})($n||($n={}));var xi;(function(t){t[t.None=0]="None",t[t.IntoFromBelow=1]="IntoFromBelow",t[t.IntoFromAbove=2]="IntoFromAbove"})(xi||(xi={}));var Ht;(function(t){t[t.None=0]="None",t[t.Shift=1]="Shift",t[t.Legato=2]="Legato",t[t.OutUp=3]="OutUp",t[t.OutDown=4]="OutDown",t[t.PickSlideDown=5]="PickSlideDown",t[t.PickSlideUp=6]="PickSlideUp"})(Ht||(Ht={}));var hr;(function(t){t[t.None=0]="None",t[t.Slight=1]="Slight",t[t.Wide=2]="Wide"})(hr||(hr={}));var mu;(function(t){t[t.Hidden=0]="Hidden",t[t.ShowWithBeams=1]="ShowWithBeams",t[t.ShowWithBars=2]="ShowWithBars"})(mu||(mu={}));var hl;(function(t){t[t.ScoreDefault=0]="ScoreDefault",t[t.ScoreForcePiano=1]="ScoreForcePiano",t[t.SingleNoteEffectBand=2]="SingleNoteEffectBand",t[t.SingleNoteEffectBandForcePiano=3]="SingleNoteEffectBandForcePiano"})(hl||(hl={}));var ui;(function(t){t[t.GuitarPro=0]="GuitarPro",t[t.SongBook=1]="SongBook"})(ui||(ui={}));var Bt;(function(t){t[t.ScoreTitle=0]="ScoreTitle",t[t.ScoreSubTitle=1]="ScoreSubTitle",t[t.ScoreArtist=2]="ScoreArtist",t[t.ScoreAlbum=3]="ScoreAlbum",t[t.ScoreWords=4]="ScoreWords",t[t.ScoreMusic=5]="ScoreMusic",t[t.ScoreWordsAndMusic=6]="ScoreWordsAndMusic",t[t.ScoreCopyright=7]="ScoreCopyright",t[t.GuitarTuning=8]="GuitarTuning",t[t.TrackNames=9]="TrackNames",t[t.ChordDiagrams=10]="ChordDiagrams",t[t.ParenthesisOnTiedBends=11]="ParenthesisOnTiedBends",t[t.TabNotesOnTiedBends=12]="TabNotesOnTiedBends",t[t.ZerosOnDiveWhammys=13]="ZerosOnDiveWhammys",t[t.EffectAlternateEndings=14]="EffectAlternateEndings",t[t.EffectCapo=15]="EffectCapo",t[t.EffectChordNames=16]="EffectChordNames",t[t.EffectCrescendo=17]="EffectCrescendo",t[t.EffectDynamics=18]="EffectDynamics",t[t.EffectFadeIn=19]="EffectFadeIn",t[t.EffectFermata=20]="EffectFermata",t[t.EffectFingering=21]="EffectFingering",t[t.EffectHarmonics=22]="EffectHarmonics",t[t.EffectLetRing=23]="EffectLetRing",t[t.EffectLyrics=24]="EffectLyrics",t[t.EffectMarker=25]="EffectMarker",t[t.EffectOttavia=26]="EffectOttavia",t[t.EffectPalmMute=27]="EffectPalmMute",t[t.EffectPickSlide=28]="EffectPickSlide",t[t.EffectPickStroke=29]="EffectPickStroke",t[t.EffectSlightBeatVibrato=30]="EffectSlightBeatVibrato",t[t.EffectSlightNoteVibrato=31]="EffectSlightNoteVibrato",t[t.EffectTap=32]="EffectTap",t[t.EffectTempo=33]="EffectTempo",t[t.EffectText=34]="EffectText",t[t.EffectTrill=35]="EffectTrill",t[t.EffectTripletFeel=36]="EffectTripletFeel",t[t.EffectWhammyBar=37]="EffectWhammyBar",t[t.EffectWideBeatVibrato=38]="EffectWideBeatVibrato",t[t.EffectWideNoteVibrato=39]="EffectWideNoteVibrato",t[t.EffectLeftHandTap=40]="EffectLeftHandTap"})(Bt||(Bt={}));class Jm{constructor(){this.notationMode=ui.GuitarPro,this.fingeringMode=hl.ScoreDefault,this.elements=new Map,this.rhythmMode=mu.Hidden,this.rhythmHeight=15,this.transpositionPitches=[],this.displayTranspositionPitches=[],this.smallGraceTabNotes=!0,this.extendBendArrowsOnTiedNotes=!0,this.extendLineEffectsToBeatEnd=!1,this.slurHeight=5}isNotationElementVisible(e){return this.elements.has(e)?this.elements.get(e):Jm.defaultElements.has(e)?Jm.defaultElements.get(e):!0}}Jm.defaultElements=new Map([[Bt.ZerosOnDiveWhammys,!1]]);class Sz{constructor(e){this._value=void 0,this._factory=e}get value(){return this._value===void 0&&(this._value=this._factory()),this._value}}var Jo;(function(t){t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"})(Jo||(Jo={}));class Dd{static format(e,r){return`[AlphaTab][${e}] ${r}`}debug(e,r,...n){console.debug(Dd.format(e,r),...n)}warning(e,r,...n){console.warn(Dd.format(e,r),...n)}info(e,r,...n){console.info(Dd.format(e,r),...n)}error(e,r,...n){console.error(Dd.format(e,r),...n)}}Dd.logLevel=Jo.Info;class Fe{static shouldLog(e){return Fe.logLevel!==Jo.None&&e>=Fe.logLevel}static debug(e,r,...n){Fe.shouldLog(Jo.Debug)&&Fe.log.debug(e,r,...n)}static warning(e,r,...n){Fe.shouldLog(Jo.Warning)&&Fe.log.warning(e,r,...n)}static info(e,r,...n){Fe.shouldLog(Jo.Info)&&Fe.log.info(e,r,...n)}static error(e,r,...n){Fe.shouldLog(Jo.Error)&&Fe.log.error(e,r,...n)}}Fe.logLevel=Jo.Info;Fe.log=new Dd;class fwe{constructor(){this.note=null,this.noteValue=0,this.octave=0}get realValue(){return this.octave*12+this.noteValue}}class Yr{static getIndex(e){let r=0;return e<0?r:Math.log2(e)|0}static keySignatureIsFlat(e){return e<0}static keySignatureIsNatural(e){return e===0}static keySignatureIsSharp(e){return e>0}static applyPitchOffsets(e,r){for(let n=0;n<r.tracks.length;n++){if(n<e.notation.displayTranspositionPitches.length)for(let i of r.tracks[n].staves)i.displayTranspositionPitch=-e.notation.displayTranspositionPitches[n];if(n<e.notation.transpositionPitches.length)for(let i of r.tracks[n].staves)i.transpositionPitch=-e.notation.transpositionPitches[n]}}static fingerToString(e,r,n,i){if(e.notation.fingeringMode===hl.ScoreForcePiano||e.notation.fingeringMode===hl.SingleNoteEffectBandForcePiano||gu.isPiano(r.voice.bar.staff.track.playbackInfo.program))switch(n){case Ot.Unknown:case Ot.NoOrDead:return null;case Ot.Thumb:return"1";case Ot.IndexFinger:return"2";case Ot.MiddleFinger:return"3";case Ot.AnnularFinger:return"4";case Ot.LittleFinger:return"5";default:return null}if(i)switch(n){case Ot.Unknown:case Ot.NoOrDead:return"0";case Ot.Thumb:return"T";case Ot.IndexFinger:return"1";case Ot.MiddleFinger:return"2";case Ot.AnnularFinger:return"3";case Ot.LittleFinger:return"4";default:return null}switch(n){case Ot.Unknown:case Ot.NoOrDead:return null;case Ot.Thumb:return"p";case Ot.IndexFinger:return"i";case Ot.MiddleFinger:return"m";case Ot.AnnularFinger:return"a";case Ot.LittleFinger:return"c";default:return null}}static isTuning(e){return!!Yr.parseTuning(e)}static parseTuning(e){let r="",n="";for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=48&&a<=57){if(!r)return null;n+=String.fromCharCode(a)}else if(a>=65&&a<=90||a>=97&&a<=122||a===35)r+=String.fromCharCode(a);else return null}if(!n||!r)return null;let i=new fwe;return i.octave=parseInt(n)+1,i.note=r.toLowerCase(),i.noteValue=Yr.getToneForText(i.note),i}static getTuningForText(e){let r=Yr.parseTuning(e);return r?r.realValue:-1}static getToneForText(e){switch(e.toLowerCase()){case"c":return 0;case"c#":case"db":return 1;case"d":return 2;case"d#":case"eb":return 3;case"e":return 4;case"f":return 5;case"f#":case"gb":return 6;case"g":return 7;case"g#":case"ab":return 8;case"a":return 9;case"a#":case"bb":return 10;case"b":return 11;default:return 0}}static newGuid(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+"-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)+Math.floor((1+Math.random())*65536).toString(16).substring(1)}static isAlmostEqualTo(e,r){return Math.abs(e-r)<1e-5}static toHexString(e,r=0){let n="",i="0123456789ABCDEF";do n=String.fromCharCode(i.charCodeAt(e&15))+n,e=e>>4;while(e>0);for(;n.length<r;)n="0"+n;return n}}var Ii;(function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"})(Ii||(Ii={}));var R;(function(t){t[t.None=-1]="None",t[t.GClef=57424]="GClef",t[t.CClef=57436]="CClef",t[t.FClef=57442]="FClef",t[t.UnpitchedPercussionClef1=57449]="UnpitchedPercussionClef1",t[t.SixStringTabClef=57453]="SixStringTabClef",t[t.FourStringTabClef=57454]="FourStringTabClef",t[t.TimeSig0=57472]="TimeSig0",t[t.TimeSig1=57473]="TimeSig1",t[t.TimeSig2=57474]="TimeSig2",t[t.TimeSig3=57475]="TimeSig3",t[t.TimeSig4=57476]="TimeSig4",t[t.TimeSig5=57477]="TimeSig5",t[t.TimeSig6=57478]="TimeSig6",t[t.TimeSig7=57479]="TimeSig7",t[t.TimeSig8=57480]="TimeSig8",t[t.TimeSig9=57481]="TimeSig9",t[t.TimeSigCommon=57482]="TimeSigCommon",t[t.TimeSigCutCommon=57483]="TimeSigCutCommon",t[t.NoteheadDoubleWholeSquare=57505]="NoteheadDoubleWholeSquare",t[t.NoteheadDoubleWhole=57504]="NoteheadDoubleWhole",t[t.NoteheadWhole=57506]="NoteheadWhole",t[t.NoteheadHalf=57507]="NoteheadHalf",t[t.NoteheadBlack=57508]="NoteheadBlack",t[t.NoteheadNull=57509]="NoteheadNull",t[t.NoteheadXOrnate=57514]="NoteheadXOrnate",t[t.NoteheadTriangleUpWhole=57531]="NoteheadTriangleUpWhole",t[t.NoteheadTriangleUpHalf=57532]="NoteheadTriangleUpHalf",t[t.NoteheadTriangleUpBlack=57534]="NoteheadTriangleUpBlack",t[t.NoteheadDiamondBlackWide=57564]="NoteheadDiamondBlackWide",t[t.NoteheadDiamondWhite=57565]="NoteheadDiamondWhite",t[t.NoteheadDiamondWhiteWide=57566]="NoteheadDiamondWhiteWide",t[t.NoteheadCircleX=57523]="NoteheadCircleX",t[t.NoteheadXWhole=57511]="NoteheadXWhole",t[t.NoteheadXHalf=57512]="NoteheadXHalf",t[t.NoteheadXBlack=57513]="NoteheadXBlack",t[t.NoteheadParenthesis=57550]="NoteheadParenthesis",t[t.NoteheadSlashedBlack2=57552]="NoteheadSlashedBlack2",t[t.NoteheadCircleSlash=57591]="NoteheadCircleSlash",t[t.NoteheadHeavyX=57592]="NoteheadHeavyX",t[t.NoteheadHeavyXHat=57593]="NoteheadHeavyXHat",t[t.NoteQuarterUp=57813]="NoteQuarterUp",t[t.NoteEighthUp=57815]="NoteEighthUp",t[t.Tremolo3=57890]="Tremolo3",t[t.Tremolo2=57889]="Tremolo2",t[t.Tremolo1=57888]="Tremolo1",t[t.FlagEighthUp=57920]="FlagEighthUp",t[t.FlagEighthDown=57921]="FlagEighthDown",t[t.FlagSixteenthUp=57922]="FlagSixteenthUp",t[t.FlagSixteenthDown=57923]="FlagSixteenthDown",t[t.FlagThirtySecondUp=57924]="FlagThirtySecondUp",t[t.FlagThirtySecondDown=57925]="FlagThirtySecondDown",t[t.FlagSixtyFourthUp=57926]="FlagSixtyFourthUp",t[t.FlagSixtyFourthDown=57927]="FlagSixtyFourthDown",t[t.FlagOneHundredTwentyEighthUp=57928]="FlagOneHundredTwentyEighthUp",t[t.FlagOneHundredTwentyEighthDown=57929]="FlagOneHundredTwentyEighthDown",t[t.FlagTwoHundredFiftySixthUp=57930]="FlagTwoHundredFiftySixthUp",t[t.FlagTwoHundredFiftySixthDown=57931]="FlagTwoHundredFiftySixthDown",t[t.AccidentalFlat=57952]="AccidentalFlat",t[t.AccidentalNatural=57953]="AccidentalNatural",t[t.AccidentalSharp=57954]="AccidentalSharp",t[t.AccidentalDoubleSharp=57955]="AccidentalDoubleSharp",t[t.AccidentalDoubleFlat=57956]="AccidentalDoubleFlat",t[t.AccidentalQuarterToneFlatArrowUp=57968]="AccidentalQuarterToneFlatArrowUp",t[t.AccidentalQuarterToneSharpArrowUp=57972]="AccidentalQuarterToneSharpArrowUp",t[t.AccidentalQuarterToneNaturalArrowUp=57970]="AccidentalQuarterToneNaturalArrowUp",t[t.ArticAccentAbove=58528]="ArticAccentAbove",t[t.ArticStaccatoAbove=58530]="ArticStaccatoAbove",t[t.ArticMarcatoAbove=58540]="ArticMarcatoAbove",t[t.FermataAbove=58560]="FermataAbove",t[t.FermataShortAbove=58564]="FermataShortAbove",t[t.FermataLongAbove=58566]="FermataLongAbove",t[t.RestLonga=58593]="RestLonga",t[t.RestDoubleWhole=58594]="RestDoubleWhole",t[t.RestWhole=58595]="RestWhole",t[t.RestHalf=58596]="RestHalf",t[t.RestQuarter=58597]="RestQuarter",t[t.RestEighth=58598]="RestEighth",t[t.RestSixteenth=58599]="RestSixteenth",t[t.RestThirtySecond=58600]="RestThirtySecond",t[t.RestSixtyFourth=58601]="RestSixtyFourth",t[t.RestOneHundredTwentyEighth=58602]="RestOneHundredTwentyEighth",t[t.RestTwoHundredFiftySixth=58603]="RestTwoHundredFiftySixth",t[t.Repeat1Bar=58624]="Repeat1Bar",t[t.Repeat2Bars=58625]="Repeat2Bars",t[t.Ottava=58640]="Ottava",t[t.OttavaAlta=58641]="OttavaAlta",t[t.OttavaBassaVb=58652]="OttavaBassaVb",t[t.Quindicesima=58644]="Quindicesima",t[t.QuindicesimaAlta=58645]="QuindicesimaAlta",t[t.DynamicPPP=58666]="DynamicPPP",t[t.DynamicPP=58667]="DynamicPP",t[t.DynamicPiano=58656]="DynamicPiano",t[t.DynamicMP=58668]="DynamicMP",t[t.DynamicMF=58669]="DynamicMF",t[t.DynamicForte=58658]="DynamicForte",t[t.DynamicFF=58671]="DynamicFF",t[t.DynamicFFF=58672]="DynamicFFF",t[t.OrnamentTrill=58726]="OrnamentTrill",t[t.StringsDownBow=58896]="StringsDownBow",t[t.StringsUpBow=58898]="StringsUpBow",t[t.PictEdgeOfCymbal=59177]="PictEdgeOfCymbal",t[t.GuitarString0=59443]="GuitarString0",t[t.GuitarString1=59444]="GuitarString1",t[t.GuitarString2=59445]="GuitarString2",t[t.GuitarString3=59446]="GuitarString3",t[t.GuitarString4=59447]="GuitarString4",t[t.GuitarString5=59448]="GuitarString5",t[t.GuitarString6=59449]="GuitarString6",t[t.GuitarString7=59450]="GuitarString7",t[t.GuitarString8=59451]="GuitarString8",t[t.GuitarString9=59452]="GuitarString9",t[t.GuitarGolpe=59458]="GuitarGolpe",t[t.FretboardX=59481]="FretboardX",t[t.FretboardO=59482]="FretboardO",t[t.WiggleTrill=60068]="WiggleTrill",t[t.WiggleVibratoMediumFast=60126]="WiggleVibratoMediumFast",t[t.OctaveBaselineM=60565]="OctaveBaselineM",t[t.OctaveBaselineB=60563]="OctaveBaselineB"})(R||(R={}));var St;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(St||(St={}));var jt;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(jt||(jt={}));class nt{constructor(e="",r=0,n=0,i=R.None,s=R.None,a=R.None,o=R.None,l=jt.Middle){this.elementType=e,this.outputMidiNumber=n,this.staffLine=r,this.noteHeadDefault=i,this.noteHeadHalf=s!==R.None?s:i,this.noteHeadWhole=a!==R.None?a:i,this.techniqueSymbol=o,this.techniqueSymbolPlacement=l}getSymbol(e){switch(e){case oe.Whole:return this.noteHeadWhole;case oe.Half:return this.noteHeadHalf;default:return this.noteHeadDefault}}}class Ni{static articulationFromElementVariation(e,r){return e<Ni.gp6ElementAndVariationToArticulation.length?(r>=Ni.gp6ElementAndVariationToArticulation.length&&(r=0),Ni.gp6ElementAndVariationToArticulation[e][r]):38}static getArticulation(e){const r=e.percussionArticulation,n=e.beat.voice.bar.staff.track.percussionArticulations;return r<n.length?n[r]:Ni.getArticulationByValue(r)}static getElementAndVariation(e){const r=Ni.getArticulation(e);if(!r)return[-1,-1];for(let n=0;n<Ni.gp6ElementAndVariationToArticulation.length;n++){const i=Ni.gp6ElementAndVariationToArticulation[n];for(let s=0;s<i.length;s++){const a=Ni.getArticulationByValue(i[s]);if((a==null?void 0:a.outputMidiNumber)===r.outputMidiNumber)return[n,s]}}return[-1,-1]}static getArticulationByValue(e){return Ni.instrumentArticulations.has(e)?Ni.instrumentArticulations.get(e):null}}Ni.gp6ElementAndVariationToArticulation=[[35,35,35],[38,91,37],[99,100,99],[56,100,56],[102,103,102],[43,43,43],[45,45,45],[47,47,47],[48,48,48],[50,50,50],[42,92,46],[44,44,44],[57,98,57],[49,97,49],[55,95,55],[51,93,127],[52,96,52]];Ni.instrumentArticulations=new Map([[38,new nt("snare",3,38,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[37,new nt("snare",3,37,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[91,new nt("snare",3,38,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[42,new nt("hiHat",-1,42,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[92,new nt("hiHat",-1,46,R.NoteheadCircleSlash,R.NoteheadCircleSlash,R.NoteheadCircleSlash)],[46,new nt("hiHat",-1,46,R.NoteheadCircleX,R.NoteheadCircleX,R.NoteheadCircleX)],[44,new nt("hiHat",9,44,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[35,new nt("kickDrum",8,35,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[36,new nt("kickDrum",7,36,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[50,new nt("tom",1,50,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[48,new nt("tom",2,48,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[47,new nt("tom",4,47,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[45,new nt("tom",5,45,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[43,new nt("tom",6,43,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[93,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.PictEdgeOfCymbal,jt.Bottom)],[51,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[53,new nt("ride",0,53,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[94,new nt("ride",0,51,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,jt.Top)],[55,new nt("splash",-2,55,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[95,new nt("splash",-2,55,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,jt.Bottom)],[52,new nt("china",-3,52,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat)],[96,new nt("china",-3,52,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat,R.NoteheadHeavyXHat)],[49,new nt("crash",-2,49,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX)],[97,new nt("crash",-2,49,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX,R.ArticStaccatoAbove,jt.Bottom)],[57,new nt("crash",-1,57,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX)],[98,new nt("crash",-1,57,R.NoteheadHeavyX,R.NoteheadHeavyX,R.NoteheadHeavyX,R.ArticStaccatoAbove,jt.Bottom)],[99,new nt("cowbell",1,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[100,new nt("cowbell",1,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[56,new nt("cowbell",0,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[101,new nt("cowbell",0,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[102,new nt("cowbell",-1,56,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpHalf,R.NoteheadTriangleUpWhole)],[103,new nt("cowbell",-1,56,R.NoteheadXBlack,R.NoteheadXHalf,R.NoteheadXWhole)],[77,new nt("woodblock",-9,77,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[76,new nt("woodblock",-10,76,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[60,new nt("bongo",-4,60,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[104,new nt("bongo",-5,60,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,jt.Middle)],[105,new nt("bongo",-6,60,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[61,new nt("bongo",-7,61,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[106,new nt("bongo",-8,61,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,jt.Middle)],[107,new nt("bongo",-16,61,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[66,new nt("timbale",10,66,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[65,new nt("timbale",9,65,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[68,new nt("agogo",12,68,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[67,new nt("agogo",11,67,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[64,new nt("conga",17,64,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[108,new nt("conga",16,64,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[109,new nt("conga",15,64,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,jt.Middle)],[63,new nt("conga",14,63,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[110,new nt("conga",13,63,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[62,new nt("conga",19,62,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.NoteheadParenthesis,jt.Middle)],[72,new nt("whistle",-11,72,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[71,new nt("whistle",-17,71,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[73,new nt("guiro",38,73,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[74,new nt("guiro",37,74,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[86,new nt("surdo",36,86,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[87,new nt("surdo",35,87,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadParenthesis,jt.Middle)],[54,new nt("tambourine",3,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack)],[111,new nt("tambourine",2,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.StringsUpBow,jt.Bottom)],[112,new nt("tambourine",1,54,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.NoteheadTriangleUpBlack,R.StringsDownBow,jt.Bottom)],[113,new nt("tambourine",-7,54,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[79,new nt("cuica",30,79,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[78,new nt("cuica",29,78,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[58,new nt("vibraslap",28,58,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[81,new nt("triangle",27,81,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[80,new nt("triangle",26,80,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadParenthesis,jt.Middle)],[114,new nt("grancassa",25,43,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[115,new nt("piatti",18,49,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[116,new nt("piatti",24,49,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[69,new nt("cabasa",23,69,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[117,new nt("cabasa",22,69,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,jt.Bottom)],[85,new nt("castanets",21,85,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[75,new nt("claves",20,75,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[70,new nt("maraca",-12,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[118,new nt("maraca",-13,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,jt.Bottom)],[119,new nt("maraca",-14,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[120,new nt("maraca",-15,70,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,jt.Bottom)],[82,new nt("shaker",-23,54,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[122,new nt("shaker",-24,54,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,jt.Bottom)],[84,new nt("bellTree",-18,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[123,new nt("bellTree",-19,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole,R.StringsUpBow,jt.Bottom)],[83,new nt("jingleBell",-20,53,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[124,new nt("unpitched",-21,62,R.NoteheadNull,R.NoteheadNull,R.NoteheadNull,R.GuitarGolpe,jt.Top)],[125,new nt("unpitched",-22,62,R.NoteheadNull,R.NoteheadNull,R.NoteheadNull,R.GuitarGolpe,jt.Bottom)],[39,new nt("handClap",3,39,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[40,new nt("snare",3,40,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[31,new nt("snare",3,40,R.NoteheadSlashedBlack2,R.NoteheadSlashedBlack2,R.NoteheadSlashedBlack2)],[41,new nt("tom",5,41,R.NoteheadBlack,R.NoteheadHalf,R.NoteheadWhole)],[59,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.PictEdgeOfCymbal,jt.Bottom)],[126,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[127,new nt("ride",2,59,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite,R.NoteheadDiamondWhite)],[29,new nt("ride",2,59,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack,R.ArticStaccatoAbove,jt.Top)],[30,new nt("crash",-3,49,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[33,new nt("snare",3,37,R.NoteheadXBlack,R.NoteheadXBlack,R.NoteheadXBlack)],[34,new nt("snare",3,38,R.NoteheadBlack,R.NoteheadBlack,R.NoteheadBlack)]]);class Xh{constructor(){this.tieDestinationNoteId=-1,this.tieOriginNoteId=-1,this.slurDestinationNoteId=-1,this.slurOriginNoteId=-1,this.hammerPullDestinationNoteId=-1,this.hammerPullOriginNoteId=-1}}class _n{constructor(){this.id=_n.GlobalNoteId++,this.index=0,this.accentuated=Xn.None,this.bendType=ct.None,this.bendStyle=Ir.Default,this.bendOrigin=null,this.isContinuedBend=!1,this.bendPoints=null,this.maxBendPoint=null,this.fret=-1,this.string=-1,this.octave=-1,this.tone=-1,this.percussionArticulation=-1,this.isVisible=!0,this.isLeftHandTapped=!1,this.isHammerPullOrigin=!1,this.hammerPullOrigin=null,this.hammerPullDestination=null,this.isSlurDestination=!1,this.slurOrigin=null,this.slurDestination=null,this.harmonicType=bt.None,this.harmonicValue=0,this.isGhost=!1,this.isLetRing=!1,this.letRingDestination=null,this.isPalmMute=!1,this.palmMuteDestination=null,this.isDead=!1,this.isStaccato=!1,this.slideInType=xi.None,this.slideOutType=Ht.None,this.slideTarget=null,this.slideOrigin=null,this.vibrato=hr.None,this.tieOrigin=null,this.tieDestination=null,this.isTieDestination=!1,this.leftHandFinger=Ot.Unknown,this.rightHandFinger=Ot.Unknown,this.isFingering=!1,this.trillValue=-1,this.trillSpeed=oe.ThirtySecond,this.durationPercent=1,this.accidentalMode=$n.Default,this.dynamics=Kt.F,this.isEffectSlurOrigin=!1,this.hasEffectSlur=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this._noteIdBag=null}get hasBend(){return this.bendPoints!==null&&this.bendType!==ct.None}get isStringed(){return this.string>=0}get isPiano(){return!this.isStringed&&this.octave>=0&&this.tone>=0}get isPercussion(){return!this.isStringed&&this.percussionArticulation>=0}get element(){return this.isPercussion?Ni.getElementAndVariation(this)[0]:-1}get variation(){return this.isPercussion?Ni.getElementAndVariation(this)[1]:-1}get isHammerPullDestination(){return!!this.hammerPullOrigin}get isSlurOrigin(){return!!this.slurDestination}get isHarmonic(){return this.harmonicType!==bt.None}get isTieOrigin(){return this.tieDestination!==null}get trillFret(){return this.trillValue-this.stringTuning}get isTrill(){return this.trillValue>=0}get isEffectSlurDestination(){return!!this.effectSlurOrigin}get stringTuning(){return this.beat.voice.bar.staff.capo+_n.getStringTuning(this.beat.voice.bar.staff,this.string)}static getStringTuning(e,r){return e.tuning.length>0?e.tuning[e.tuning.length-(r-1)-1]:0}get realValue(){return this.calculateRealValue(!0,!0)}get realValueWithoutHarmonic(){return this.calculateRealValue(!0,!1)}calculateRealValue(e,r){const n=e?this.beat.voice.bar.staff.transpositionPitch:0;if(r){let i=this.calculateRealValue(e,!1);return this.isStringed&&(this.harmonicType===bt.Natural?i=this.harmonicPitch+this.stringTuning-n:i+=this.harmonicPitch),i}else return this.isPercussion?this.percussionArticulation:this.isStringed?this.fret+this.stringTuning-n:this.isPiano?this.octave*12+this.tone-n:0}get harmonicPitch(){if(this.harmonicType===bt.None||!this.isStringed)return 0;let e=this.harmonicValue;return Yr.isAlmostEqualTo(e,2.4)?36:Yr.isAlmostEqualTo(e,2.7)?34:e<3?0:e<=3.5?31:e<=4?28:e<=5?24:e<=6?34:e<=7?19:e<=8.5?36:e<=9?28:e<=10?34:e<=11?0:e<=12?12:e<14?0:e<=15?34:e<=16?28:e<=17?36:e<=18?0:e<=19?19:e<=21?0:e<=22?36:e<=24?24:0}get initialBendValue(){return this.hasBend?Math.floor(this.bendPoints[0].value/2):this.bendOrigin?Math.floor(this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value/2):this.isTieDestination&&this.tieOrigin.bendOrigin?Math.floor(this.tieOrigin.bendOrigin.bendPoints[this.tieOrigin.bendOrigin.bendPoints.length-1].value/2):this.beat.hasWhammyBar?Math.floor(this.beat.whammyBarPoints[0].value/2):this.beat.isContinuedWhammy?Math.floor(this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value/2):0}get displayValue(){return this.displayValueWithoutBend+this.initialBendValue}get displayValueWithoutBend(){let e=this.realValue;switch(this.harmonicType!==bt.Natural&&this.harmonicType!==bt.None&&(e-=this.harmonicPitch),this.beat.ottava){case gr._15ma:e-=24;break;case gr._8va:e-=12;break;case gr.Regular:break;case gr._8vb:e+=12;break;case gr._15mb:e+=24;break}switch(this.beat.voice.bar.clefOttava){case gr._15ma:e-=24;break;case gr._8va:e-=12;break;case gr.Regular:break;case gr._8vb:e+=12;break;case gr._15mb:e+=24;break}return e-this.beat.voice.bar.staff.displayTranspositionPitch}get hasQuarterToneOffset(){return this.hasBend?this.bendPoints[0].value%2!==0:this.bendOrigin?this.bendOrigin.bendPoints[this.bendOrigin.bendPoints.length-1].value%2!==0:this.beat.hasWhammyBar?this.beat.whammyBarPoints[0].value%2!==0:this.beat.isContinuedWhammy?this.beat.previousBeat.whammyBarPoints[this.beat.previousBeat.whammyBarPoints.length-1].value%2!==0:!1}addBendPoint(e){let r=this.bendPoints;r===null&&(r=[],this.bendPoints=r),r.push(e),(!this.maxBendPoint||e.value>this.maxBendPoint.value)&&(this.maxBendPoint=e),this.bendType===ct.None&&(this.bendType=ct.Custom)}finish(e,r=null){let n=new Sz(()=>_n.nextNoteOnSameLine(this)),i=e&&e.notation.notationMode===ui.SongBook;if(this.isTieDestination&&(this.chain(r),i&&this.tieOrigin&&this.tieOrigin.isLetRing&&(this.isLetRing=!0)),this.isLetRing&&(!n.value||!n.value.isLetRing?this.letRingDestination=this:this.letRingDestination=n.value,i&&this.isTieDestination&&!this.tieOrigin.hasBend&&(this.isVisible=!1)),this.isPalmMute&&(!n.value||!n.value.isPalmMute?this.palmMuteDestination=this:this.palmMuteDestination=n.value),this.isHammerPullOrigin){let o=_n.findHammerPullDestination(this);o?(this.hammerPullDestination=o,o.hammerPullOrigin=this):this.isHammerPullOrigin=!1}switch(this.slideOutType){case Ht.Shift:case Ht.Legato:this.slideTarget=n.value,this.slideTarget?this.slideTarget.slideOrigin=this:this.slideOutType=Ht.None;break}let s=null;this.isHammerPullOrigin&&this.hammerPullDestination?s=this.hammerPullDestination:this.slideOutType===Ht.Legato&&this.slideTarget&&(s=this.slideTarget),s&&(this.hasEffectSlur=!0,this.effectSlurOrigin&&this.beat.pickStroke===Ii.None?(this.effectSlurOrigin.effectSlurDestination=s,this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin,this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=s,this.effectSlurDestination.effectSlurOrigin=this));const a=this.bendPoints;if(a!=null&&a.length>0&&this.bendType===ct.Custom){let o=this.isTieDestination&&this.tieOrigin.hasBend;if(this.isContinuedBend=o,a.length===4){let l=a[0],u=a[1],c=a[2],h=a[3];u.value===c.value?h.value>l.value?u.value>h.value?this.bendType=ct.BendRelease:!o&&l.value>0?(this.bendType=ct.PrebendBend,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.Bend,a.splice(2,1),a.splice(1,1)):h.value<l.value?o?(this.bendType=ct.Release,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.PrebendRelease,a.splice(2,1),a.splice(1,1)):u.value>l.value?this.bendType=ct.BendRelease:l.value>0&&!o?(this.bendType=ct.Prebend,a.splice(2,1),a.splice(1,1)):(this.bendType=ct.Hold,a.splice(2,1),a.splice(1,1)):Fe.warning("Model","Unsupported bend type detected, fallback to custom",null)}else if(a.length===2){let l=a[0],u=a[1];u.value>l.value?!o&&l.value>0?this.bendType=ct.PrebendBend:this.bendType=ct.Bend:u.value<l.value?o?this.bendType=ct.Release:this.bendType=ct.PrebendRelease:this.bendType=ct.Hold}}else(a===null||a.length===0)&&(this.bendType=ct.None);this.initialBendValue>0&&(this.accidentalMode=$n.Default)}static nextNoteOnSameLine(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+_n.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;r=r.nextBeat}return null}static findHammerPullDestination(e){let r=e.beat.nextBeat;for(;r&&r.voice.bar.index<=e.beat.voice.bar.index+_n.MaxOffsetForSameLineSearch;){let n=r.getNoteOnString(e.string);if(n)return n;for(let i=e.string;i>0;i--)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}for(let i=e.string;i<=e.beat.voice.bar.staff.tuning.length;i++)if(n=r.getNoteOnString(i),n){if(n.isLeftHandTapped)return n;break}r=r.nextBeat}return null}static findTieOrigin(e){let r=e.beat.previousBeat;for(;r&&r.voice.bar.index>=e.beat.voice.bar.index-_n.MaxOffsetForSameLineSearch;){if(e.isStringed){let n=r.getNoteOnString(e.string);if(n)return n}else if(e.octave===-1&&e.tone===-1){if(e.index<r.notes.length)return r.notes[e.index]}else{let n=r.getNoteWithRealValue(e.realValue);if(n)return n}r=r.previousBeat}return null}chain(e=null){if(e!==null)if(this._noteIdBag!==null){let r;e.has(_n.NoteIdLookupKey)?r=e.get(_n.NoteIdLookupKey):(r=new Map,e.set(_n.NoteIdLookupKey,r)),(this._noteIdBag.hammerPullDestinationNoteId!==-1||this._noteIdBag.tieDestinationNoteId!==-1||this._noteIdBag.slurDestinationNoteId!==-1)&&r.set(this.id,this),this._noteIdBag.hammerPullOriginNoteId!==-1&&(this.hammerPullOrigin=r.get(this._noteIdBag.hammerPullOriginNoteId),this.hammerPullOrigin.hammerPullDestination=this),this._noteIdBag.tieOriginNoteId!==-1&&(this.tieOrigin=r.get(this._noteIdBag.tieOriginNoteId),this.tieOrigin.tieDestination=this),this._noteIdBag.slurOriginNoteId!==-1&&(this.slurOrigin=r.get(this._noteIdBag.slurOriginNoteId),this.slurOrigin.slurDestination=this),this._noteIdBag=null}else{if(!this.isTieDestination&&this.tieOrigin===null)return;let r=this.tieOrigin??_n.findTieOrigin(this);r?(r.tieDestination=this,this.tieOrigin=r,this.fret=r.fret,this.octave=r.octave,this.tone=r.tone,r.hasBend&&(this.bendOrigin=this.tieOrigin)):this.isTieDestination=!1}}toJson(e){this.tieDestination!==null&&e.set("tiedestinationnoteid",this.tieDestination.id),this.tieOrigin!==null&&e.set("tieoriginnoteid",this.tieOrigin.id),this.slurDestination!==null&&e.set("slurdestinationnoteid",this.slurDestination.id),this.slurOrigin!==null&&e.set("sluroriginnoteid",this.slurOrigin.id),this.hammerPullOrigin!==null&&e.set("hammerpulloriginnoteid",this.hammerPullOrigin.id),this.hammerPullDestination!==null&&e.set("hammerpulldestinationnoteid",this.hammerPullDestination.id)}setProperty(e,r){switch(e){case"tiedestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.tieDestinationNoteId=r,!0;case"tieoriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.tieOriginNoteId=r,!0;case"slurdestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.slurDestinationNoteId=r,!0;case"sluroriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.slurOriginNoteId=r,!0;case"hammerpulloriginnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.hammerPullOriginNoteId=r,!0;case"hammerpulldestinationnoteid":return this._noteIdBag==null&&(this._noteIdBag=new Xh),this._noteIdBag.hammerPullDestinationNoteId=r,!0}return!1}}_n.GlobalNoteId=0;_n.MaxOffsetForSameLineSearch=3;_n.NoteIdLookupKey="NoteIdLookup";class Ei{constructor(e){this._isEqualLengthTuplet=!0,this.totalDuration=0,this.beats=[],this.isFull=!1,this.voice=e}check(e){if(this.beats.length===0)return this.beats.push(e),this.totalDuration+=e.playbackDuration,!0;if(e.graceType!==_t.None)return!0;if(e.voice!==this.voice||this.isFull||e.tupletNumerator!==this.beats[0].tupletNumerator||e.tupletDenominator!==this.beats[0].tupletDenominator)return!1;if(e.playbackDuration!==this.beats[0].playbackDuration&&(this._isEqualLengthTuplet=!1),this.beats.push(e),this.totalDuration+=e.playbackDuration,this._isEqualLengthTuplet)this.beats.length===this.beats[0].tupletNumerator&&(this.isFull=!0);else{let r=this.beats[0].tupletNumerator/this.beats[0].tupletDenominator|0;for(let n of Ei.AllTicks)if(this.totalDuration===n*r){this.isFull=!0;break}}return!0}}Ei.HalfTicks=1920;Ei.QuarterTicks=960;Ei.EighthTicks=480;Ei.SixteenthTicks=240;Ei.ThirtySecondTicks=120;Ei.SixtyFourthTicks=60;Ei.OneHundredTwentyEighthTicks=30;Ei.TwoHundredFiftySixthTicks=15;Ei.AllTicks=[Ei.HalfTicks,Ei.QuarterTicks,Ei.EighthTicks,Ei.SixteenthTicks,Ei.ThirtySecondTicks,Ei.SixtyFourthTicks,Ei.OneHundredTwentyEighthTicks,Ei.TwoHundredFiftySixthTicks];var pr;(function(t){t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.Dive=2]="Dive",t[t.Dip=3]="Dip",t[t.Hold=4]="Hold",t[t.Predive=5]="Predive",t[t.PrediveDive=6]="PrediveDive"})(pr||(pr={}));class kz{static clone(e){const r=new Je;return r.offset=e.offset,r.value=e.value,r}}class _z{static clone(e){const r=new _n;if(r.index=e.index,r.accentuated=e.accentuated,r.bendType=e.bendType,r.bendStyle=e.bendStyle,r.isContinuedBend=e.isContinuedBend,e.bendPoints){r.bendPoints=[];for(const n of e.bendPoints)r.addBendPoint(kz.clone(n))}return r.fret=e.fret,r.string=e.string,r.octave=e.octave,r.tone=e.tone,r.percussionArticulation=e.percussionArticulation,r.isVisible=e.isVisible,r.isLeftHandTapped=e.isLeftHandTapped,r.isHammerPullOrigin=e.isHammerPullOrigin,r.isSlurDestination=e.isSlurDestination,r.harmonicType=e.harmonicType,r.harmonicValue=e.harmonicValue,r.isGhost=e.isGhost,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.isDead=e.isDead,r.isStaccato=e.isStaccato,r.slideInType=e.slideInType,r.slideOutType=e.slideOutType,r.vibrato=e.vibrato,r.isTieDestination=e.isTieDestination,r.leftHandFinger=e.leftHandFinger,r.rightHandFinger=e.rightHandFinger,r.isFingering=e.isFingering,r.trillValue=e.trillValue,r.trillSpeed=e.trillSpeed,r.durationPercent=e.durationPercent,r.accidentalMode=e.accidentalMode,r.dynamics=e.dynamics,r}}class pwe{static clone(e){const r=new Vi;return r.isLinear=e.isLinear,r.type=e.type,r.value=e.value,r.ratioPosition=e.ratioPosition,r.text=e.text,r}}class WM{static clone(e){const r=new Wi;r.index=e.index,r.notes=[];for(const n of e.notes)r.addNote(_z.clone(n));r.isEmpty=e.isEmpty,r.whammyStyle=e.whammyStyle,r.ottava=e.ottava,r.isLegatoOrigin=e.isLegatoOrigin,r.duration=e.duration,r.isLetRing=e.isLetRing,r.isPalmMute=e.isPalmMute,r.automations=[];for(const n of e.automations)r.automations.push(pwe.clone(n));if(r.dots=e.dots,r.fadeIn=e.fadeIn,r.lyrics=e.lyrics?e.lyrics.slice():null,r.hasRasgueado=e.hasRasgueado,r.pop=e.pop,r.slap=e.slap,r.tap=e.tap,r.text=e.text,r.brushType=e.brushType,r.brushDuration=e.brushDuration,r.tupletDenominator=e.tupletDenominator,r.tupletNumerator=e.tupletNumerator,r.isContinuedWhammy=e.isContinuedWhammy,r.whammyBarType=e.whammyBarType,e.whammyBarPoints){r.whammyBarPoints=[];for(const n of e.whammyBarPoints)r.addWhammyBarPoint(kz.clone(n))}return r.vibrato=e.vibrato,r.chordId=e.chordId,r.graceType=e.graceType,r.pickStroke=e.pickStroke,r.tremoloSpeed=e.tremoloSpeed,r.crescendo=e.crescendo,r.displayStart=e.displayStart,r.playbackStart=e.playbackStart,r.displayDuration=e.displayDuration,r.playbackDuration=e.playbackDuration,r.dynamics=e.dynamics,r.invertBeamDirection=e.invertBeamDirection,r.preferredBeamDirection=e.preferredBeamDirection,r.isEffectSlurOrigin=e.isEffectSlurOrigin,r.beamingMode=e.beamingMode,r}}class GT{constructor(){this.beats=[],this.id="empty",this.isComplete=!1}addBeat(e){e.graceIndex=this.beats.length,e.graceGroup=this,this.beats.push(e)}finish(){this.beats.length>0&&(this.id=this.beats[0].absoluteDisplayStart+"_"+this.beats[0].voice.index)}}var tl;(function(t){t[t.Auto=0]="Auto",t[t.ForceSplitToNext=1]="ForceSplitToNext",t[t.ForceMergeWithNext=2]="ForceMergeWithNext"})(tl||(tl={}));class Wi{constructor(){this.id=Wi._globalBeatId++,this.index=0,this.previousBeat=null,this.nextBeat=null,this.notes=[],this.noteStringLookup=new Map,this.noteValueLookup=new Map,this.isEmpty=!1,this.whammyStyle=Ir.Default,this.ottava=gr.Regular,this.fermata=null,this.isLegatoOrigin=!1,this.minNote=null,this.maxNote=null,this.maxStringNote=null,this.minStringNote=null,this.duration=oe.Quarter,this.isLetRing=!1,this.isPalmMute=!1,this.automations=[],this.dots=0,this.fadeIn=!1,this.lyrics=null,this.hasRasgueado=!1,this.pop=!1,this.slap=!1,this.tap=!1,this.text=null,this.brushType=Qr.None,this.brushDuration=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.tupletGroup=null,this.isContinuedWhammy=!1,this.whammyBarType=pr.None,this.whammyBarPoints=null,this.maxWhammyPoint=null,this.minWhammyPoint=null,this.vibrato=hr.None,this.chordId=null,this.graceType=_t.None,this.graceGroup=null,this.graceIndex=-1,this.pickStroke=Ii.None,this.tremoloSpeed=null,this.crescendo=Os.None,this.displayStart=0,this.playbackStart=0,this.displayDuration=0,this.playbackDuration=0,this.dynamics=Kt.F,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isEffectSlurOrigin=!1,this.effectSlurOrigin=null,this.effectSlurDestination=null,this.beamingMode=tl.Auto}get isLastOfVoice(){return this.index===this.voice.beats.length-1}get isLegatoDestination(){return!!this.previousBeat&&this.previousBeat.isLegatoOrigin}get isRest(){return this.isEmpty||this.notes.length===0}get isFullBarRest(){return this.isRest&&this.voice.beats.length===1&&this.duration===oe.Whole}get hasTuplet(){return!(this.tupletDenominator===-1&&this.tupletNumerator===-1)&&!(this.tupletDenominator===1&&this.tupletNumerator===1)}get hasWhammyBar(){return this.whammyBarPoints!==null&&this.whammyBarType!==pr.None}get hasChord(){return!!this.chordId}get chord(){return this.chordId?this.voice.bar.staff.getChord(this.chordId):null}get isTremolo(){return!!this.tremoloSpeed}get absoluteDisplayStart(){return this.voice.bar.masterBar.start+this.displayStart}get absolutePlaybackStart(){return this.voice.bar.masterBar.start+this.playbackStart}get isEffectSlurDestination(){return!!this.effectSlurOrigin}addWhammyBarPoint(e){let r=this.whammyBarPoints;r===null&&(r=[],this.whammyBarPoints=r),r.push(e),(!this.maxWhammyPoint||e.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=e),(!this.minWhammyPoint||e.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=e),this.whammyBarType===pr.None&&(this.whammyBarType=pr.Custom)}removeWhammyBarPoint(e){const r=this.whammyBarPoints;if(r===null||e<0||e>=r.length)return;r.splice(e,1);let n=r[e];if(n===this.maxWhammyPoint){this.maxWhammyPoint=null;for(let i of r)(!this.maxWhammyPoint||i.value>this.maxWhammyPoint.value)&&(this.maxWhammyPoint=i)}if(n===this.minWhammyPoint){this.minWhammyPoint=null;for(let i of r)(!this.minWhammyPoint||i.value<this.minWhammyPoint.value)&&(this.minWhammyPoint=i)}}addNote(e){e.beat=this,e.index=this.notes.length,this.notes.push(e),e.isStringed&&this.noteStringLookup.set(e.string,e)}removeNote(e){let r=this.notes.indexOf(e);r>=0&&(this.notes.splice(r,1),e.isStringed&&this.noteStringLookup.delete(e.string))}getAutomation(e){for(let r=0,n=this.automations.length;r<n;r++){let i=this.automations[r];if(i.type===e)return i}return null}getNoteOnString(e){return this.noteStringLookup.has(e)?this.noteStringLookup.get(e):null}calculateDuration(){if(this.isFullBarRest)return this.voice.bar.masterBar.calculateDuration();let e=zt.toTicks(this.duration);return this.dots===2?e=zt.applyDot(e,!0):this.dots===1&&(e=zt.applyDot(e,!1)),this.tupletDenominator>0&&this.tupletNumerator>=0&&(e=zt.applyTuplet(e,this.tupletNumerator,this.tupletDenominator)),e}updateDurations(){let e=this.calculateDuration();switch(this.playbackDuration=e,this.graceType){case _t.BeforeBeat:case _t.OnBeat:switch(this.duration){case oe.Sixteenth:this.playbackDuration=zt.toTicks(oe.SixtyFourth);break;case oe.ThirtySecond:this.playbackDuration=zt.toTicks(oe.OneHundredTwentyEighth);break;default:this.playbackDuration=zt.toTicks(oe.ThirtySecond);break}this.displayDuration=0;break;case _t.BendGrace:this.playbackDuration/=2,this.displayDuration=0;break;default:this.displayDuration=e;let r=this.previousBeat;r&&r.graceType===_t.BendGrace&&(this.playbackDuration=r.playbackDuration);break}}finishTuplet(){let e=this.previousBeat,r=e?e.tupletGroup:null;(this.hasTuplet||this.graceType!==_t.None&&r)&&((!e||!r||!r.check(this))&&(r=new Ei(this.voice),r.check(this)),this.tupletGroup=r)}finish(e,r=null){switch(this.getAutomation(ci.Instrument)===null&&this.index===0&&this.voice.index===0&&this.voice.bar.index===0&&this.voice.bar.staff.index===0&&this.automations.push(Vi.buildInstrumentAutomation(!1,0,this.voice.bar.staff.track.playbackInfo.program)),this.graceType){case _t.OnBeat:case _t.BeforeBeat:let u=this.graceGroup.beats.length;u===1?this.duration=oe.Eighth:u===2?this.duration=oe.Sixteenth:this.duration=oe.ThirtySecond;break}let n=e?e.notation.notationMode:ui.GuitarPro,i=this.text==="grad"||this.text==="grad.";i&&n===ui.SongBook&&(this.text="");let s=!1;this.minNote=null,this.maxNote=null,this.minStringNote=null,this.maxStringNote=null;let a=0,o=!1;for(let u=0,c=this.notes.length;u<c;u++){let h=this.notes[u];if(h.dynamics=this.dynamics,h.finish(e,r),h.isLetRing&&(this.isLetRing=!0),h.isPalmMute&&(this.isPalmMute=!0),n===ui.SongBook&&h.hasBend&&this.graceType!==_t.BendGrace){if(!h.isTieOrigin)switch(h.bendType){case ct.Bend:case ct.PrebendRelease:case ct.PrebendBend:s=!0;break}i||h.bendStyle===Ir.Gradual?(i=!0,h.bendStyle=Ir.Gradual,s=!1):h.bendStyle=Ir.Fast}h.isVisible&&(a++,(!this.minNote||h.realValue<this.minNote.realValue)&&(this.minNote=h),(!this.maxNote||h.realValue>this.maxNote.realValue)&&(this.maxNote=h),(!this.minStringNote||h.string<this.minStringNote.string)&&(this.minStringNote=h),(!this.maxStringNote||h.string>this.maxStringNote.string)&&(this.maxStringNote=h),h.hasEffectSlur&&(o=!0))}if(o&&(this.effectSlurOrigin?(this.effectSlurOrigin.effectSlurDestination=this.nextBeat,this.effectSlurOrigin.effectSlurDestination&&(this.effectSlurOrigin.effectSlurDestination.effectSlurOrigin=this.effectSlurOrigin),this.effectSlurOrigin=null):(this.isEffectSlurOrigin=!0,this.effectSlurDestination=this.nextBeat,this.effectSlurDestination&&(this.effectSlurDestination.effectSlurOrigin=this))),this.notes.length>0&&a===0&&(this.isEmpty=!0),!this.isRest&&(!this.isLetRing||!this.isPalmMute)){let u=this.previousBeat;for(;u&&u.isRest;)this.isLetRing||(u.isLetRing=!1),this.isPalmMute||(u.isPalmMute=!1),u=u.previousBeat}else this.isRest&&this.previousBeat&&e&&e.notation.notationMode===ui.GuitarPro&&(this.previousBeat.isLetRing&&(this.isLetRing=!0),this.previousBeat.isPalmMute&&(this.isPalmMute=!0));const l=this.whammyBarPoints;if(l!==null&&l.length>0&&this.whammyBarType===pr.Custom){n===ui.SongBook&&(this.whammyStyle=i?Ir.Gradual:Ir.Fast);let u=!!this.previousBeat&&this.previousBeat.hasWhammyBar;if(this.isContinuedWhammy=u,l.length===4){let c=l[0],h=l[1],f=l[2],m=l[3];h.value===f.value&&(c.value<h.value&&h.value<m.value||c.value>h.value&&h.value>m.value?(c.value!==0&&!u?this.whammyBarType=pr.PrediveDive:this.whammyBarType=pr.Dive,l.splice(2,1),l.splice(1,1)):c.value>h.value&&h.value<m.value||c.value<h.value&&h.value>m.value?(this.whammyBarType=pr.Dip,(h.offset===f.offset||n===ui.SongBook)&&l.splice(2,1)):c.value===h.value&&h.value===m.value&&(c.value!==0&&!u?this.whammyBarType=pr.Predive:this.whammyBarType=pr.Hold,l.splice(2,1),l.splice(1,1)))}}if(this.updateDurations(),s){let u=WM.clone(this);u.id=Wi._globalBeatId++,u.pickStroke=Ii.None;for(let c=0,h=u.notes.length;c<h;c++){let f=u.notes[c],m=this.notes[c];if(f.bendType=ct.None,f.maxBendPoint=null,f.bendPoints=null,f.bendStyle=Ir.Default,f.id=_n.GlobalNoteId++,m.isTieOrigin&&(f.tieDestination=m.tieDestination,m.tieDestination.tieOrigin=f),m.isTieDestination&&(f.tieOrigin=m.tieOrigin?m.tieOrigin:null,m.tieOrigin.tieDestination=f),m.hasBend&&m.isTieOrigin){let g=_n.findTieOrigin(m);if(g&&g.hasBend){f.bendType=ct.Hold;let y=m.bendPoints[m.bendPoints.length-1];f.addBendPoint(new Je(0,y.value)),f.addBendPoint(new Je(Je.MaxPosition,y.value))}}f.isTieDestination=!0}this.graceType=_t.BendGrace,this.graceGroup=new GT,this.graceGroup.addBeat(this),this.graceGroup.isComplete=!0,this.graceGroup.finish(),this.updateDurations(),this.voice.insertBeat(this,u),u.graceGroup=new GT,u.graceGroup.addBeat(this),u.graceGroup.isComplete=!0,u.graceGroup.finish()}}isBefore(e){return this.voice.bar.index<e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index<e.index}isAfter(e){return this.voice.bar.index>e.voice.bar.index||e.voice.bar.index===this.voice.bar.index&&this.index>e.index}hasNoteOnString(e){return this.noteStringLookup.has(e)}getNoteWithRealValue(e){return this.noteValueLookup.has(e)?this.noteValueLookup.get(e):null}chain(e=null){for(const r of this.notes)this.noteValueLookup.set(r.realValue,r),r.chain(e)}}Wi._globalBeatId=0;class zc{constructor(){this.name="",this.firstFret=1,this.strings=[],this.barreFrets=[],this.showName=!0,this.showDiagram=!0,this.showFingering=!0}get uniqueId(){return[this.name,this.firstFret.toString(),this.strings.join(","),this.barreFrets.join(","),this.showDiagram.toString(),this.showFingering.toString(),this.showName.toString()].join("|")}}var ri;(function(t){t[t.Cb=-7]="Cb",t[t.Gb=-6]="Gb",t[t.Db=-5]="Db",t[t.Ab=-4]="Ab",t[t.Eb=-3]="Eb",t[t.Bb=-2]="Bb",t[t.F=-1]="F",t[t.C=0]="C",t[t.G=1]="G",t[t.D=2]="D",t[t.A=3]="A",t[t.E=4]="E",t[t.B=5]="B",t[t.FSharp=6]="FSharp",t[t.CSharp=7]="CSharp"})(ri||(ri={}));var Xi;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.Text=2]="Text",t[t.Comment=3]="Comment",t[t.Dash=4]="Dash"})(Xi||(Xi={}));class Gn{constructor(){this.startBar=0,this.text=""}finish(e=!1){this.chunks=[],this.parse(this.text,0,this.chunks,e)}parse(e,r,n,i){if(!e)return;let s=Xi.Begin,a=Xi.Begin,o=!1,l=0;for(;r<e.length;){let u=e.charCodeAt(r);switch(s){case Xi.IgnoreSpaces:switch(u){case Gn.CharCodeLF:case Gn.CharCodeCR:case Gn.CharCodeTab:break;case Gn.CharCodeSpace:if(!o){s=a;continue}break;default:o=!1,s=a;continue}break;case Xi.Begin:switch(u){case Gn.CharCodeBrackedOpen:s=Xi.Comment;break;default:l=r,s=Xi.Text;continue}break;case Xi.Comment:switch(u){case Gn.CharCodeBrackedClose:s=Xi.Begin;break}break;case Xi.Text:switch(u){case Gn.CharCodeDash:s=Xi.Dash;break;case Gn.CharCodeCR:case Gn.CharCodeLF:case Gn.CharCodeSpace:let c=e.substr(l,r-l);this.addChunk(c,i),s=Xi.IgnoreSpaces,a=Xi.Begin;break}break;case Xi.Dash:switch(u){case Gn.CharCodeDash:break;default:let c=e.substr(l,r-l);this.addChunk(c,i),o=!0,s=Xi.IgnoreSpaces,a=Xi.Begin;continue}break}r+=1}s===Xi.Text&&r!==l&&this.addChunk(e.substr(l,r-l),i)}addChunk(e,r){e=this.prepareChunk(e),(!r||e.length>0&&e!=="-")&&this.chunks.push(e)}prepareChunk(e){let r=e.split("+").join(" "),n=r.length;for(;n>0&&r.charAt(n-1)==="_";)n--;return n!==r.length?r.substr(0,n):r}}Gn.CharCodeLF=10;Gn.CharCodeTab=9;Gn.CharCodeCR=13;Gn.CharCodeSpace=32;Gn.CharCodeBrackedClose=93;Gn.CharCodeBrackedOpen=91;Gn.CharCodeDash=45;var Wc;(function(t){t[t.Major=0]="Major",t[t.Minor=1]="Minor"})(Wc||(Wc={}));var qt;(function(t){t[t.NoTripletFeel=0]="NoTripletFeel",t[t.Triplet16th=1]="Triplet16th",t[t.Triplet8th=2]="Triplet8th",t[t.Dotted16th=3]="Dotted16th",t[t.Dotted8th=4]="Dotted8th",t[t.Scottish16th=5]="Scottish16th",t[t.Scottish8th=6]="Scottish8th"})(qt||(qt={}));class Ru{constructor(){this.alternateEndings=0,this.nextMasterBar=null,this.previousMasterBar=null,this.index=0,this.keySignature=ri.C,this.keySignatureType=Wc.Major,this.isDoubleBar=!1,this.isRepeatStart=!1,this.repeatCount=0,this.timeSignatureNumerator=4,this.timeSignatureDenominator=4,this.timeSignatureCommon=!1,this.tripletFeel=qt.NoTripletFeel,this.section=null,this.tempoAutomation=null,this.fermata=null,this.start=0,this.isAnacrusis=!1,this.displayScale=1,this.displayWidth=-1}get isRepeatEnd(){return this.repeatCount>0}get isSectionStart(){return!!this.section}calculateDuration(e=!0){if(this.isAnacrusis&&e){let r=0;for(let n of this.score.tracks)for(let i of n.staves){let s=this.index<i.bars.length?i.bars[this.index].calculateDuration():0;s>r&&(r=s)}return r}return this.timeSignatureNumerator*zt.valueToTicks(this.timeSignatureDenominator)}addFermata(e,r){let n=this.fermata;n===null&&(n=new Map,this.fermata=n),n.set(e,r)}getFermata(e){const r=this.fermata;return r===null?null:r.has(e.playbackStart)?r.get(e.playbackStart):null}}Ru.MaxAlternateEndings=8;class gwe{constructor(){this.hideDynamics=!1}}class wF{constructor(){this.masterBars=[],this.opening=null,this.closings=[],this.isClosed=!1}get openings(){const e=this.opening;return e?[e]:[]}get isOpened(){var e;return((e=this.opening)==null?void 0:e.isRepeatStart)===!0}addMasterBar(e){this.opening===null&&(this.opening=e),this.masterBars.push(e),e.repeatGroup=this,e.isRepeatEnd&&(this.closings.push(e),this.isClosed=!0)}}class vh{constructor(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0,this.album="",this.artist="",this.copyright="",this.instructions="",this.music="",this.notices="",this.subTitle="",this.title="",this.words="",this.tab="",this.tempo=120,this.tempoLabel="",this.masterBars=[],this.tracks=[],this.defaultSystemsLayout=3,this.systemsLayout=[],this.stylesheet=new gwe}rebuildRepeatGroups(){this._currentRepeatGroup=null,this._openedRepeatGroups=[],this._properlyOpenedRepeatGroups=0;for(const e of this.masterBars)this.addMasterBarToRepeatGroups(e)}addMasterBar(e){e.score=this,e.index=this.masterBars.length,this.masterBars.length!==0&&(e.previousMasterBar=this.masterBars[this.masterBars.length-1],e.previousMasterBar.nextMasterBar=e,e.start=e.previousMasterBar.start+(e.previousMasterBar.isAnacrusis?0:e.previousMasterBar.calculateDuration())),this.addMasterBarToRepeatGroups(e),this.masterBars.push(e)}addMasterBarToRepeatGroups(e){var r;e.isRepeatStart?((r=this._currentRepeatGroup)!=null&&r.isClosed&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--),this._currentRepeatGroup=new wF,this._openedRepeatGroups.push(this._currentRepeatGroup),this._properlyOpenedRepeatGroups++):this._currentRepeatGroup||(this._currentRepeatGroup=new wF,this._openedRepeatGroups.push(this._currentRepeatGroup)),this._currentRepeatGroup.addMasterBar(e),e.isRepeatEnd&&this._properlyOpenedRepeatGroups>1&&(this._openedRepeatGroups.pop(),this._properlyOpenedRepeatGroups--,this._currentRepeatGroup=this._openedRepeatGroups.length>0?this._openedRepeatGroups[this._openedRepeatGroups.length-1]:null)}addTrack(e){e.score=this,e.index=this.tracks.length,this.tracks.push(e)}finish(e){const r=new Map;for(let n=0,i=this.tracks.length;n<i;n++)this.tracks[n].finish(e,r)}}class O1{constructor(){this.marker="",this.text=""}}class Un extends ki{constructor(e){super(Si.Format,e),Object.setPrototypeOf(this,Un.prototype)}}let fn=class iu{constructor(e,r,n,i=255){this.raw=0,this.raw=(i&255)<<24|(e&255)<<16|(r&255)<<8|n&255,this.updateRgba()}updateRgba(){this.a===255?this.rgba="#"+Yr.toHexString(this.r,2)+Yr.toHexString(this.g,2)+Yr.toHexString(this.b,2):this.rgba=`rgba(${this.r},${this.g},${this.b},${this.a/255})`}get a(){return this.raw>>24&255}get r(){return this.raw>>16&255}get g(){return this.raw>>8&255}get b(){return this.raw&255}static random(e=100){return new iu(Math.random()*255|0,Math.random()*255|0,Math.random()*255|0,e)}static fromJson(e){switch(typeof e){case"number":{const r=new iu(0,0,0,0);return r.raw=e,r.updateRgba(),r}case"string":{const r=e;if(r.startsWith("#")){if(r.length===4)return new iu(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17);if(r.length===5)return new iu(parseInt(r[1],16)*17,parseInt(r[2],16)*17,parseInt(r[3],16)*17,parseInt(r[4],16)*17);if(r.length===7)return new iu(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16));if(r.length===9)return new iu(parseInt(r.substring(1,3),16),parseInt(r.substring(3,5),16),parseInt(r.substring(5,7),16),parseInt(r.substring(7,9),16))}else if(r.startsWith("rgba")||r.startsWith("rgb")){const n=r.indexOf("("),i=r.lastIndexOf(")");if(n===-1||i===-1)throw new Un("No values specified for rgb/rgba function");const s=r.substring(n+1,i).split(",");if(s.length===3)return new iu(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]));if(s.length===4)return new iu(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseFloat(s[3])*255)}return null}}throw new Un("Unsupported format for color")}static toJson(e){return e.raw}};fn.BlackRgb="#000000";class Cz{constructor(){this.volume=15,this.balance=8,this.port=1,this.program=0,this.primaryChannel=0,this.secondaryChannel=0,this.isMute=!1,this.isSolo=!1}}class ze{static getTextForTuning(e,r){let n=ze.getTextPartsForTuning(e);return r?n.join(""):n[0]}static getTextPartsForTuning(e,r=-1){let n=e/12|0,i=e%12;return[["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][i],(n+r).toString()]}static getDefaultTuningFor(e){return ze._defaultTunings.has(e)?ze._defaultTunings.get(e):null}static getPresetsFor(e){switch(e){case 7:return ze._sevenStrings;case 6:return ze._sixStrings;case 5:return ze._fiveStrings;case 4:return ze._fourStrings}return[]}static initialize(){ze._defaultTunings.set(7,new ze("Guitar 7 strings",[64,59,55,50,45,40,35],!0)),ze._sevenStrings.push(ze._defaultTunings.get(7)),ze._defaultTunings.set(6,new ze("Guitar Standard Tuning",[64,59,55,50,45,40],!0)),ze._sixStrings.push(ze._defaultTunings.get(6)),ze._sixStrings.push(new ze("Guitar Tune down  step",[63,58,54,49,44,39],!1)),ze._sixStrings.push(new ze("Guitar Tune down 1 step",[62,57,53,48,43,38],!1)),ze._sixStrings.push(new ze("Guitar Tune down 2 step",[60,55,51,46,41,36],!1)),ze._sixStrings.push(new ze("Guitar Dropped D Tuning",[64,59,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Dropped D Tuning variant",[64,57,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Double Dropped D Tuning",[62,59,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Dropped E Tuning",[66,61,57,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Dropped C Tuning",[62,57,53,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open C Tuning",[64,60,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open Cm Tuning",[63,60,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open C6 Tuning",[64,57,55,48,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open Cmaj7 Tuning",[64,59,55,52,43,36],!1)),ze._sixStrings.push(new ze("Guitar Open D Tuning",[62,57,54,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open Dm Tuning",[62,57,53,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open D5 Tuning",[62,57,50,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open D6 Tuning",[62,59,54,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open Dsus4 Tuning",[62,57,55,50,45,38],!1)),ze._sixStrings.push(new ze("Guitar Open E Tuning",[64,59,56,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Open Em Tuning",[64,59,55,52,47,40],!1)),ze._sixStrings.push(new ze("Guitar Open Esus11 Tuning",[64,59,55,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Open F Tuning",[65,60,53,48,45,41],!1)),ze._sixStrings.push(new ze("Guitar Open G Tuning",[62,59,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open Gm Tuning",[62,58,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open G6 Tuning",[64,59,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open Gsus4 Tuning",[62,60,55,50,43,38],!1)),ze._sixStrings.push(new ze("Guitar Open A Tuning",[64,61,57,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Open Am Tuning",[64,60,57,52,45,40],!1)),ze._sixStrings.push(new ze("Guitar Nashville Tuning",[64,59,67,62,57,52],!1)),ze._sixStrings.push(new ze("Bass 6 Strings Tuning",[48,43,38,33,28,23],!1)),ze._sixStrings.push(new ze("Lute or Vihuela Tuning",[64,59,54,50,45,40],!1)),ze._defaultTunings.set(5,new ze("Bass 5 Strings Tuning",[43,38,33,28,23],!0)),ze._fiveStrings.push(ze._defaultTunings.get(5)),ze._fiveStrings.push(new ze("Banjo Dropped C Tuning",[62,59,55,48,67],!1)),ze._fiveStrings.push(new ze("Banjo Open D Tuning",[62,57,54,50,69],!1)),ze._fiveStrings.push(new ze("Banjo Open G Tuning",[62,59,55,50,67],!1)),ze._fiveStrings.push(new ze("Banjo G Minor Tuning",[62,58,55,50,67],!1)),ze._fiveStrings.push(new ze("Banjo G Modal Tuning",[62,57,55,50,67],!1)),ze._defaultTunings.set(4,new ze("Bass Standard Tuning",[43,38,33,28],!0)),ze._fourStrings.push(ze._defaultTunings.get(4)),ze._fourStrings.push(new ze("Bass Tune down  step",[42,37,32,27],!1)),ze._fourStrings.push(new ze("Bass Tune down 1 step",[41,36,31,26],!1)),ze._fourStrings.push(new ze("Bass Tune down 2 step",[39,34,29,24],!1)),ze._fourStrings.push(new ze("Bass Dropped D Tuning",[43,38,33,26],!1)),ze._fourStrings.push(new ze("Ukulele C Tuning",[45,40,36,43],!1)),ze._fourStrings.push(new ze("Ukulele G Tuning",[52,47,43,38],!1)),ze._fourStrings.push(new ze("Mandolin Standard Tuning",[64,57,50,43],!1)),ze._fourStrings.push(new ze("Mandolin or Violin Tuning",[76,69,62,55],!1)),ze._fourStrings.push(new ze("Viola Tuning",[69,62,55,48],!1)),ze._fourStrings.push(new ze("Cello Tuning",[57,50,43,36],!1))}static findTuning(e){let r=ze.getPresetsFor(e.length);for(let n=0,i=r.length;n<i;n++){let s=r[n],a=!0;for(let o=0,l=e.length;o<l;o++)if(e[o]!==s.tunings[o]){a=!1;break}if(a)return s}return null}constructor(e="",r=null,n=!1){this.isStandard=n,this.name=e,this.tunings=r??[]}finish(){const e=ze.findTuning(this.tunings);e&&(this.name=e.name,this.isStandard=e.isStandard),this.name=this.name.trim()}}ze._sevenStrings=[];ze._sixStrings=[];ze._fiveStrings=[];ze._fourStrings=[];ze._defaultTunings=new Map;ze.defaultAccidentals=["","#","","#","","","#","","#","","#",""];ze.defaultSteps=["C","C","D","D","E","F","F","G","G","A","A","B"];ze.initialize();class Tz{constructor(){this.index=0,this.bars=[],this.chords=null,this.capo=0,this.transpositionPitch=0,this.displayTranspositionPitch=0,this.stringTuning=new ze("",[],!1),this.showTablature=!0,this.showStandardNotation=!0,this.isPercussion=!1,this.standardNotationLineCount=5}get tuning(){return this.stringTuning.tunings}get tuningName(){return this.stringTuning.name}get isStringed(){return this.stringTuning.tunings.length>0}finish(e,r=null){this.stringTuning.finish();for(let n=0,i=this.bars.length;n<i;n++)this.bars[n].finish(e,r)}addChord(e,r){r.staff=this;let n=this.chords;n===null&&(n=new Map,this.chords=n),n.set(e,r)}hasChord(e){var r;return((r=this.chords)==null?void 0:r.has(e))??!1}getChord(e){var r;return((r=this.chords)==null?void 0:r.get(e))??null}addBar(e){let r=this.bars;e.staff=this,e.index=r.length,r.length>0&&(e.previousBar=r[r.length-1],e.previousBar.nextBar=e),r.push(e)}}class Hl{constructor(){this.index=0,this.staves=[],this.playbackInfo=new Cz,this.color=new fn(200,0,0,255),this.name="",this.shortName="",this.defaultSystemsLayout=3,this.systemsLayout=[],this.percussionArticulations=[]}ensureStaveCount(e){for(;this.staves.length<e;)this.addStaff(new Tz)}addStaff(e){e.index=this.staves.length,e.track=this,this.staves.push(e)}finish(e,r=null){this.shortName||(this.shortName=this.name,this.shortName.length>Hl.ShortNameMaxLength&&(this.shortName=this.shortName.substr(0,Hl.ShortNameMaxLength)));for(let n=0,i=this.staves.length;n<i;n++)this.staves[n].finish(e,r)}applyLyrics(e){for(let n of e)n.finish();let r=this.staves[0];for(let n=0;n<e.length;n++){let i=e[n];if(i.startBar>=0&&i.startBar<r.bars.length){let s=r.bars[i.startBar].voices[0].beats[0];for(let a=0;a<i.chunks.length&&s;a++){for(;s&&(s.isEmpty||s.isRest);)s=s.nextBeat;s&&(s.lyrics||(s.lyrics=new Array(e.length),s.lyrics.fill("")),s.lyrics[n]=i.chunks[a],s=s.nextBeat)}}}}}Hl.ShortNameMaxLength=10;let Ul=class Pz{constructor(){this.id=Pz._globalBarId++,this.index=0,this.beats=[],this.isEmpty=!0}insertBeat(e,r){r.nextBeat=e.nextBeat,r.nextBeat&&(r.nextBeat.previousBeat=r),r.previousBeat=e,r.voice=this,e.nextBeat=r,this.beats.splice(e.index+1,0,r)}addBeat(e){e.voice=this,e.index=this.beats.length,this.beats.push(e),e.isEmpty||(this.isEmpty=!1)}chain(e,r=null){if(this.bar){if(e.index<this.beats.length-1)e.nextBeat=this.beats[e.index+1],e.nextBeat.previousBeat=e;else if(e.isLastOfVoice&&e.voice.bar.nextBar){let n=this.bar.nextBar.voices[this.index];n.beats.length>0&&(e.nextBeat=n.beats[0]),e.nextBeat.previousBeat=e}e.chain(r)}}addGraceBeat(e){if(this.beats.length===0){this.addBeat(e);return}let r=this.beats[this.beats.length-1];this.beats.splice(this.beats.length-1,1),this.addBeat(e),this.addBeat(r),this.isEmpty=!1}getBeatAtPlaybackStart(e){return this._beatLookup.has(e)?this._beatLookup.get(e):null}finish(e,r=null){this._beatLookup=new Map;let n=null;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];o.index=a,this.chain(o,r),o.graceType===_t.None?(o.graceGroup=n,n&&(n.isComplete=!0),n=null):(n||(n=new GT),n.addBeat(o))}let i=0,s=0;for(let a=0;a<this.beats.length;a++){let o=this.beats[a];if(o.index=a,o.finish(e,r),o.graceType===_t.None){if(o.graceGroup){const l=o.graceGroup.beats[0],u=o.graceGroup.beats[o.graceGroup.beats.length-1];if(l.graceType!==_t.BendGrace){let c=u.playbackStart+u.playbackDuration-l.playbackStart;switch(l.graceType){case _t.BeforeBeat:l.previousBeat?(l.previousBeat.playbackDuration-=c,l.previousBeat.voice==this?s=l.previousBeat.playbackStart+l.previousBeat.playbackDuration:s=-c):s=-c;for(const h of o.graceGroup.beats)this._beatLookup.delete(h.playbackStart),h.playbackStart=s,this._beatLookup.set(h.playbackStart,o),s+=h.playbackDuration;break;case _t.OnBeat:o.playbackDuration-=c,u.voice===this?s=u.playbackStart+u.playbackDuration:s=-c;break}}}o.displayStart=i,o.playbackStart=s,o.fermata?this.bar.masterBar.addFermata(o.playbackStart,o.fermata):o.fermata=this.bar.masterBar.getFermata(o),this._beatLookup.set(o.playbackStart,o)}else o.displayStart=i,o.playbackStart=s;o.finishTuplet(),o.graceGroup&&o.graceGroup.finish(),i+=o.displayDuration,s+=o.playbackDuration}}calculateDuration(){if(this.isEmpty||this.beats.length===0)return 0;let e=this.beats[this.beats.length-1],r=this.beats[0];return e.playbackStart+e.playbackDuration-r.playbackStart}};Ul._globalBarId=0;class Yt{static float64ToBytes(e){return Yt._dataView.setFloat64(0,e,!0),this._conversionByteArray}static bytesToFloat64(e){throw Yt._conversionByteArray.set(e,0),Yt._dataView.getFloat64(0,!0)}static uint16ToInt16(e){return Yt._dataView.setUint16(0,e,!0),Yt._dataView.getInt16(0,!0)}static int16ToUint32(e){return Yt._dataView.setInt16(0,e,!0),Yt._dataView.getUint32(0,!0)}static int32ToUint16(e){return Yt._dataView.setInt32(0,e,!0),Yt._dataView.getUint16(0,!0)}static int32ToInt16(e){return Yt._dataView.setInt32(0,e,!0),Yt._dataView.getInt16(0,!0)}static int32ToUint32(e){return Yt._dataView.setInt32(0,e,!0),Yt._dataView.getUint32(0,!0)}static uint8ToInt8(e){return Yt._dataView.setUint8(0,e),Yt._dataView.getInt8(0)}}Yt._conversionBuffer=new ArrayBuffer(8);Yt._conversionByteArray=new Uint8Array(Yt._conversionBuffer);Yt._dataView=new DataView(Yt._conversionBuffer);class Ce{static readInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return r<<24|n<<16|i<<8|s}static readInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static readUInt32LE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte();return e.readByte()<<24|i<<16|n<<8|r}static decodeUInt32LE(e,r){let n=e[r],i=e[r+1],s=e[r+2];return e[r+3]<<24|s<<16|i<<8|n}static readUInt16LE(e){let r=e.readByte(),n=e.readByte();return Yt.int32ToUint16(n<<8|r)}static readInt16LE(e){let r=e.readByte(),n=e.readByte();return Yt.int32ToInt16(n<<8|r)}static readUInt32BE(e){let r=e.readByte(),n=e.readByte(),i=e.readByte(),s=e.readByte();return Yt.int32ToUint32(r<<24|n<<16|i<<8|s)}static readUInt16BE(e){let r=e.readByte(),n=e.readByte();return Yt.int32ToInt16(r<<8|n)}static readInt16BE(e){let r=e.readByte(),n=e.readByte();return Yt.int32ToInt16(r<<8|n)}static readByteArray(e,r){let n=new Uint8Array(r);return e.read(n,0,r),n}static read8BitChars(e,r){let n=new Uint8Array(r);return e.read(n,0,n.length),Ce.toString(n,"utf-8")}static read8BitString(e){let r="",n=e.readByte();for(;n!==0;)r+=String.fromCharCode(n),n=e.readByte();return r}static read8BitStringLength(e,r){let n="",i=-1;for(let a=0;a<r;a++){let o=e.readByte();o===0&&i===-1&&(i=a),n+=String.fromCharCode(o)}let s=n;return i>=0?s.substr(0,i):s}static readSInt8(e){let r=e.readByte();return((r&255)>>7)*-256+(r&255)}static readInt24(e,r){let n=e[r]|e[r+1]<<8|e[r+2]<<16;return(n&8388608)===8388608&&(n=n|255<<24),n}static readInt16(e,r){return Yt.int32ToInt16(e[r]|e[r+1]<<8)}static toString(e,r){let n=Ce.detectEncoding(e);return n&&(r=n),r||(r="utf-8"),new TextDecoder(r).decode(e.buffer)}static detectEncoding(e){return e.length>2&&e[0]===254&&e[1]===255?"utf-16be":e.length>2&&e[0]===255&&e[1]===254?"utf-16le":e.length>4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255?"utf-32be":e.length>4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0?"utf-32le":null}static stringToBytes(e){return new TextEncoder().encode(e)}static writeInt32BE(e,r){e.writeByte(r>>24&255),e.writeByte(r>>16&255),e.writeByte(r>>8&255),e.writeByte(r>>0&255)}static writeInt32LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255),e.writeByte(r>>16&255),e.writeByte(r>>24&255)}static writeUInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16LE(e,r){e.writeByte(r>>0&255),e.writeByte(r>>8&255)}static writeInt16BE(e,r){e.writeByte(r>>8&255),e.writeByte(r>>0&255)}}class Hi{constructor(){this.length=0,this.position=0}get bytesWritten(){return this.position}getBuffer(){return this._buffer}static empty(){return Hi.withCapacity(0)}static withCapacity(e){let r=new Hi;return r._buffer=new Uint8Array(e),r}static fromBuffer(e){let r=new Hi;return r._buffer=e,r.length=e.length,r}static fromString(e){let r=Ce.stringToBytes(e);return Hi.fromBuffer(r)}reset(){this.position=0}skip(e){this.position+=e}readByte(){return this.length-this.position<=0?-1:this._buffer[this.position++]}read(e,r,n){let i=this.length-this.position;return i>n&&(i=n),i<=0?0:(e.set(this._buffer.subarray(this.position,this.position+i),r),this.position+=i,i)}writeByte(e){let r=this.position+1;this.ensureCapacity(r),this._buffer[this.position]=e&255,r>this.length&&(this.length=r),this.position=r}write(e,r,n){let i=this.position+n;this.ensureCapacity(i);let s=Math.min(n,e.length-r);this._buffer.set(e.subarray(r,r+s),this.position),i>this.length&&(this.length=i),this.position=i}ensureCapacity(e){if(e>this._buffer.length){let r=e;r<256&&(r=256),r<this._buffer.length*2&&(r=this._buffer.length*2);let n=new Uint8Array(r);this.length>0&&n.set(this._buffer.subarray(0,0+this.length),0),this._buffer=n}}readAll(){return this.toArray()}toArray(){let e=new Uint8Array(this.length);return e.set(this._buffer.subarray(0,0+this.length),0),e}copyTo(e){e.write(this._buffer,0,this.length)}}var ye;(function(t){t[t.No=0]="No",t[t.Eof=1]="Eof",t[t.Number=2]="Number",t[t.DoubleDot=3]="DoubleDot",t[t.Dot=4]="Dot",t[t.String=5]="String",t[t.Tuning=6]="Tuning",t[t.LParensis=7]="LParensis",t[t.RParensis=8]="RParensis",t[t.LBrace=9]="LBrace",t[t.RBrace=10]="RBrace",t[t.Pipe=11]="Pipe",t[t.MetaCommand=12]="MetaCommand",t[t.Multiply=13]="Multiply",t[t.LowerThan=14]="LowerThan"})(ye||(ye={}));class Gd extends ki{constructor(e,r,n,i,s,a,o,l=null){super(Si.AlphaTex,e),this.position=r,this.line=n,this.col=i,this.nonTerm=s??"",this.expected=a??ye.No,this.symbol=o??ye.No,this.symbolData=l,Object.setPrototypeOf(this,Gd.prototype)}static symbolError(e,r,n,i,s,a,o=null){let l=`MalFormed AlphaTex: @${e} (line ${r}, col ${n}): Error on block ${i}`;return s!==a?(l+=`, expected a ${ye[s]} found a ${ye[a]}`,o!==null&&(l+=`: '${o}'`)):l+=`, invalid value: '${o}'`,new Gd(l,e,r,n,i,s,a,o)}static errorMessage(e,r,n,i){return e=`MalFormed AlphaTex: @${r} (line ${n}, col ${i}): ${e}`,new Gd(e,r,n,i,null,null,null,null)}}class os extends Pp{constructor(){super(),this._trackChannel=0,this._input="",this._ch=os.Eof,this._curChPos=0,this._line=1,this._col=0,this._lastValidSpot=[0,1,0],this._sy=ye.No,this._syData="",this._allowNegatives=!1,this._allowFloat=!1,this._allowTuning=!1,this._currentDuration=oe.QuadrupleWhole,this._currentDynamics=Kt.PPP,this._currentTuplet=0,this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this.logErrors=!1}get name(){return"AlphaTex"}initFromString(e,r){this.data=Hi.empty(),this._input=e,this.settings=r}readScore(){try{if(this.data.length>0&&(this._input=Ce.toString(this.data.readAll(),this.settings.importer.encoding)),this._allowTuning=!0,this._lyrics=new Map,this.createDefaultScore(),this._curChPos=0,this._line=1,this._col=0,this.saveValidSpot(),this._currentDuration=oe.Quarter,this._currentDynamics=Kt.F,this._currentTuplet=1,this._ch=this.nextChar(),this._sy=this.newSy(),this._sy===ye.LowerThan)throw new Yn("Unknown start sign '<' (meant to import as XML?)");if(this._sy===ye.Eof)throw new Yn("Unexpected end of file");const e=this.metaData(),r=this.bars();if(!e&&!r)throw new Yn("No alphaTex data found");this.consolidate(),this._score.finish(this.settings),this._score.rebuildRepeatGroups();for(const[n,i]of this._lyrics)this._score.tracks[n].applyLyrics(i);return this._score}catch(e){throw e instanceof Gd?new Yn(e.message,e):e}}consolidate(){for(let e of this._score.tracks)for(let r of e.staves)for(;r.bars.length<this._score.masterBars.length;){let n=this.newBar(r),i=new Wi;i.isEmpty=!0,n.voices[0].addBeat(i)}}error(e,r,n=!0){let i,s=!1;n?(i=this._sy,(i===ye.String||i===ye.Number||i===ye.MetaCommand)&&(s=!0)):i=r;let a=Gd.symbolError(this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2],e,r,i,s?this._syData:null);throw this.logErrors&&Fe.error(this.name,a.message),a}errorMessage(e){let r=Gd.errorMessage(e,this._lastValidSpot[0],this._lastValidSpot[1],this._lastValidSpot[2]);throw this.logErrors&&Fe.error(this.name,r.message),r}createDefaultScore(){this._score=new vh,this._score.tempo=120,this._score.tempoLabel="",this.newTrack()}newTrack(){this._currentTrack=new Hl,this._currentTrack.ensureStaveCount(1),this._currentTrack.playbackInfo.program=25,this._currentTrack.playbackInfo.primaryChannel=this._trackChannel++,this._currentTrack.playbackInfo.secondaryChannel=this._trackChannel++,this._currentStaff=this._currentTrack.staves[0],this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=ze.getDefaultTuningFor(6).tunings,this._score.addTrack(this._currentTrack),this._lyrics.set(this._currentTrack.index,[]),this._currentDynamics=Kt.F}parseClefFromString(e){switch(e.toLowerCase()){case"g2":case"treble":return $t.G2;case"f4":case"bass":return $t.F4;case"c3":case"tenor":return $t.C3;case"c4":case"alto":return $t.C4;case"n":case"neutral":return $t.Neutral;default:return $t.G2}}parseClefFromInt(e){switch(e){case 43:return $t.G2;case 65:return $t.F4;case 48:return $t.C3;case 60:return $t.C4;default:return $t.G2}}parseTripletFeelFromString(e){switch(e.toLowerCase()){case"no":case"none":return qt.NoTripletFeel;case"t16":case"triplet-16th":return qt.Triplet16th;case"t8":case"triplet-8th":return qt.Triplet8th;case"d16":case"dotted-16th":return qt.Dotted16th;case"d8":case"dotted-8th":return qt.Dotted8th;case"s16":case"scottish-16th":return qt.Scottish16th;case"s8":case"scottish-8th":return qt.Scottish8th;default:return qt.NoTripletFeel}}parseTripletFeelFromInt(e){switch(e){case 0:return qt.NoTripletFeel;case 1:return qt.Triplet16th;case 2:return qt.Triplet8th;case 3:return qt.Dotted16th;case 4:return qt.Dotted8th;case 5:return qt.Scottish16th;case 6:return qt.Scottish8th;default:return qt.NoTripletFeel}}parseKeySignature(e){switch(e.toLowerCase()){case"cb":case"cbmajor":return ri.Cb;case"gb":case"gbmajor":case"d#minor":return ri.Gb;case"db":case"dbmajor":case"bbminor":return ri.Db;case"ab":case"abmajor":case"fminor":return ri.Ab;case"eb":case"ebmajor":case"cminor":return ri.Eb;case"bb":case"bbmajor":case"gminor":return ri.Bb;case"f":case"fmajor":case"dminor":return ri.F;case"c":case"cmajor":case"aminor":return ri.C;case"g":case"gmajor":case"eminor":return ri.G;case"d":case"dmajor":case"bminor":return ri.D;case"a":case"amajor":case"f#minor":return ri.A;case"e":case"emajor":case"c#minor":return ri.E;case"b":case"bmajor":case"g#minor":return ri.B;case"f#":case"f#major":case"ebminor":return ri.FSharp;case"c#":case"c#major":return ri.CSharp;default:return ri.C}}nextChar(){return this._curChPos<this._input.length?(this._ch=this._input.charCodeAt(this._curChPos++),this._ch===10?(this._line++,this._col=0):this._col++):this._ch=os.Eof,this._ch}saveValidSpot(){this._lastValidSpot=[this._curChPos,this._line,this._col]}newSy(){for(this.saveValidSpot(),this._sy=ye.No;this._sy===ye.No;)if(this._ch===os.Eof)this._sy=ye.Eof;else if(os.isWhiteSpace(this._ch))this._ch=this.nextChar(),this.saveValidSpot();else if(this._ch===47){if(this._ch=this.nextChar(),this._ch===47)for(;this._ch!==13&&this._ch!==10&&this._ch!==os.Eof;)this._ch=this.nextChar();else if(this._ch===42)for(;this._ch!==os.Eof;)if(this._ch===42){if(this._ch=this.nextChar(),this._ch===47){this._ch=this.nextChar();break}}else this._ch=this.nextChar();else this.error("comment",ye.String,!1);this.saveValidSpot()}else if(this._ch===34||this._ch===39){let e=this._ch;this._ch=this.nextChar();let r="";for(this._sy=ye.String;this._ch!==e&&this._ch!==os.Eof;)r+=String.fromCharCode(this._ch),this._ch=this.nextChar();this._ch===os.Eof&&this.errorMessage("String opened but never closed"),this._syData=r,this._ch=this.nextChar()}else if(this._ch===45)this._allowNegatives?(this._sy=ye.Number,this._syData=this.readNumber()):(this._sy=ye.String,this._syData=this.readName());else if(this._ch===46)this._sy=ye.Dot,this._ch=this.nextChar();else if(this._ch===58)this._sy=ye.DoubleDot,this._ch=this.nextChar();else if(this._ch===40)this._sy=ye.LParensis,this._ch=this.nextChar();else if(this._ch===92)this._ch=this.nextChar(),this._sy=ye.MetaCommand,this._syData=this.readName();else if(this._ch===41)this._sy=ye.RParensis,this._ch=this.nextChar();else if(this._ch===123)this._sy=ye.LBrace,this._ch=this.nextChar();else if(this._ch===125)this._sy=ye.RBrace,this._ch=this.nextChar();else if(this._ch===124)this._sy=ye.Pipe,this._ch=this.nextChar();else if(this._ch===42)this._sy=ye.Multiply,this._ch=this.nextChar();else if(this._ch===60)this._sy=ye.LowerThan,this._ch=this.nextChar();else if(this.isDigit(this._ch))this._sy=ye.Number,this._syData=this.readNumber();else if(os.isNameLetter(this._ch)){let e=this.readName(),r=this._allowTuning?Yr.parseTuning(e):null;r?(this._sy=ye.Tuning,this._syData=r):(this._sy=ye.String,this._syData=e)}else this.error("symbol",ye.String,!1);return this._sy}static isNameLetter(e){return!os.isTerminal(e)&&(33<=e&&e<=47||58<=e&&e<=126||128<=e)}static isTerminal(e){return e===46||e===123||e===125||e===91||e===93||e===40||e===41||e===124||e===39||e===34||e===92}static isWhiteSpace(e){return e===9||e===10||e===11||e===13||e===32}isDigit(e){return e>=48&&e<=57||this._allowNegatives&&e===45||this._allowFloat&&e===46}readName(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(os.isNameLetter(this._ch)||this.isDigit(this._ch));return e}readNumber(){let e="";do e+=String.fromCharCode(this._ch),this._ch=this.nextChar();while(this.isDigit(this._ch));return this._allowFloat?parseFloat(e):parseInt(e)}metaData(){let e=!1,r=!0;for(;this._sy===ye.MetaCommand&&r;){let n=this._syData.toLowerCase();switch(n){case"title":case"subtitle":case"artist":case"album":case"words":case"music":case"copyright":this._sy=this.newSy(),this._sy!==ye.String&&this.error(n,ye.String,!0);let i=this._syData;switch(n){case"title":this._score.title=i;break;case"subtitle":this._score.subTitle=i;break;case"artist":this._score.artist=i;break;case"album":this._score.album=i;break;case"words":this._score.words=i;break;case"music":this._score.music=i;break;case"copyright":this._score.copyright=i;break}this._sy=this.newSy(),e=!0;break;case"tempo":this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy===ye.Number?this._score.tempo=this._syData:this.error("tempo",ye.Number,!0),this._sy=this.newSy(),e=!0;break;default:this.handleStaffMeta()?e=!0:e?this.error("metaDataTags",ye.String,!1):r=!1;break}}return e?(this._sy!==ye.Dot&&this.error("song",ye.Dot,!0),this._sy=this.newSy()):this._sy===ye.Dot&&(this._sy=this.newSy()),e}handleStaffMeta(){var e;switch(this._syData.toLowerCase()){case"capo":return this._sy=this.newSy(),this._sy===ye.Number?this._currentStaff.capo=this._syData:this.error("capo",ye.Number,!0),this._sy=this.newSy(),!0;case"tuning":this._sy=this.newSy();let r=this._currentStaff.tuning.length;switch(this._staffHasExplicitTuning=!0,this._staffTuningApplied=!1,this._sy){case ye.String:let s=this._syData.toLowerCase();s==="piano"||s==="none"||s==="voice"?(this._currentStaff.stringTuning.tunings=[],this._currentStaff.displayTranspositionPitch=0):this.error("tuning",ye.Tuning,!0),this._sy=this.newSy();break;case ye.Tuning:let a=[];do{let o=this._syData;a.push(o.realValue),this._sy=this.newSy()}while(this._sy===ye.Tuning);this._currentStaff.stringTuning.tunings=a;break;default:this.error("tuning",ye.Tuning,!0);break}return r!==this._currentStaff.tuning.length&&(((e=this._currentStaff.chords)==null?void 0:e.size)??0)>0&&this.errorMessage("Tuning must be defined before any chord"),!0;case"instrument":if(this._sy=this.newSy(),this._staffTuningApplied=!1,this._sy===ye.Number){let s=this._syData;s>=0&&s<=127?this._currentTrack.playbackInfo.program=this._syData:this.error("instrument",ye.Number,!1)}else if(this._sy===ye.String){let s=this._syData.toLowerCase();this._currentTrack.playbackInfo.program=gu.getValue(s)}else this.error("instrument",ye.Number,!0);return this._sy=this.newSy(),!0;case"lyrics":this._sy=this.newSy();let n=new Gn;return n.startBar=0,n.text="",this._sy===ye.Number&&(n.startBar=this._syData,this._sy=this.newSy()),this._sy===ye.String?(n.text=this._syData,this._sy=this.newSy()):this.error("lyrics",ye.String,!0),this._lyrics.get(this._currentTrack.index).push(n),!0;case"chord":this._sy=this.newSy();let i=new zc;this.chordProperties(i),this._sy===ye.String?(i.name=this._syData,this._sy=this.newSy()):this.error("chord-name",ye.Number,!0);for(let s=0;s<this._currentStaff.tuning.length;s++)this._sy===ye.Number?i.strings.push(this._syData):this._sy===ye.String&&this._syData.toLowerCase()==="x"&&i.strings.push(-1),this._sy=this.newSy();return this._currentStaff.addChord(this.getChordId(this._currentStaff,i.name),i),!0;default:return!1}}chordProperties(e){if(this._sy===ye.LBrace){for(this._sy=this.newSy();this._sy===ye.String;)switch(this._syData.toLowerCase()){case"firstfret":switch(this._sy=this.newSy(),this._sy){case ye.Number:e.firstFret=this._syData;break;default:this.error("chord-firstfret",ye.Number,!0);break}this._sy=this.newSy();break;case"showdiagram":switch(this._sy=this.newSy(),this._sy){case ye.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ye.Number:e.showDiagram=this._syData!==0;break;default:this.error("chord-showdiagram",ye.String,!0);break}this._sy=this.newSy();break;case"showfingering":switch(this._sy=this.newSy(),this._sy){case ye.String:e.showDiagram=this._syData.toLowerCase()!=="false";break;case ye.Number:e.showFingering=this._syData!==0;break;default:this.error("chord-showfingering",ye.String,!0);break}this._sy=this.newSy();break;case"showname":switch(this._sy=this.newSy(),this._sy){case ye.String:e.showName=this._syData.toLowerCase()!=="false";break;case ye.Number:e.showName=this._syData!==0;break;default:this.error("chord-showname",ye.String,!0);break}this._sy=this.newSy();break;case"barre":for(this._sy=this.newSy();this._sy===ye.Number;)e.barreFrets.push(this._syData),this._sy=this.newSy();break;default:this.error("chord-properties",ye.String,!1);break}this._sy!==ye.RBrace&&this.error("chord-properties",ye.RBrace,!0),this._sy=this.newSy()}}bars(){let e=this.bar();for(;this._sy!==ye.Eof;)if(this._sy===ye.Pipe)this._sy=this.newSy(),this.bar();else if(this._sy===ye.MetaCommand)this.bar();else break;return e}trackStaffMeta(){return this._sy!==ye.MetaCommand?!1:(this._syData.toLowerCase()==="track"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._score.masterBars.length>0&&this.newTrack(),this._sy===ye.String&&(this._currentTrack.name=this._syData,this._sy=this.newSy()),this._sy===ye.String&&(this._currentTrack.shortName=this._syData,this._sy=this.newSy())),this._sy===ye.MetaCommand&&this._syData.toLowerCase()==="staff"&&(this._staffHasExplicitTuning=!1,this._staffTuningApplied=!1,this._sy=this.newSy(),this._currentTrack.staves[0].bars.length>0&&(this._currentTrack.ensureStaveCount(this._currentTrack.staves.length+1),this._currentStaff=this._currentTrack.staves[this._currentTrack.staves.length-1],this._currentDynamics=Kt.F),this.staffProperties()),!0)}staffProperties(){if(this._sy!==ye.LBrace)return;this._sy=this.newSy();let e=!1,r=!1;for(;this._sy===ye.String;)switch(this._syData.toLowerCase()){case"score":e=!0,this._sy=this.newSy();break;case"tabs":r=!0,this._sy=this.newSy();break;default:this.error("staff-properties",ye.String,!1);break}(e||r)&&(this._currentStaff.showStandardNotation=e,this._currentStaff.showTablature=r),this._sy!==ye.RBrace&&this.error("staff-properties",ye.RBrace,!0),this._sy=this.newSy()}bar(){const e=this.trackStaffMeta();let r=this.newBar(this._currentStaff);if(this._currentStaff.bars.length>this._score.masterBars.length){let a=new Ru;this._score.addMasterBar(a),a.index>0&&(a.keySignature=a.previousMasterBar.keySignature,a.keySignatureType=a.previousMasterBar.keySignatureType,a.timeSignatureDenominator=a.previousMasterBar.timeSignatureDenominator,a.timeSignatureNumerator=a.previousMasterBar.timeSignatureNumerator,a.tripletFeel=a.previousMasterBar.tripletFeel)}const n=this.barMeta(r);if(!this._staffTuningApplied&&!this._staffHasExplicitTuning){const a=this._currentTrack.playbackInfo.program;this._currentStaff.displayTranspositionPitch=0,this._currentStaff.stringTuning.tunings=[],a==15||a>=24&&a<=31?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=ze.getDefaultTuningFor(6).tunings):a>=32&&a<=39?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==40||a==44||a==45||a==48||a==49||a==50||a==51?this._currentStaff.stringTuning.tunings=[52,57,50,43]:a==41?this._currentStaff.stringTuning.tunings=[57,50,43,36]:a==42?this._currentStaff.stringTuning.tunings=[45,38,31,24]:a==43?(this._currentStaff.displayTranspositionPitch=-12,this._currentStaff.stringTuning.tunings=[43,38,33,28]):a==105?this._currentStaff.stringTuning.tunings=[50,47,43,38,55]:a==106?this._currentStaff.stringTuning.tunings=[57,52,45]:a==107?this._currentStaff.stringTuning.tunings=[52,45,38,31]:a==110&&(this._currentStaff.stringTuning.tunings=[64,57,50,43]),this._staffTuningApplied=!0}let i=!1,s=r.voices[0];for(;this._sy!==ye.Pipe&&this._sy!==ye.Eof&&this.beat(s);)i=!0;if(s.beats.length===0){let a=new Wi;a.isEmpty=!0,s.addBeat(a)}return e||n||i}newBar(e){let r=new Vu;e.addBar(r),r.index>0&&(r.clef=r.previousBar.clef);let n=new Ul;return r.addVoice(n),r}beat(e){this.beatDuration();let r=new Wi;if(e.addBeat(r),this._sy===ye.LParensis){for(this._sy=this.newSy(),this.note(r);this._sy!==ye.RParensis&&this._sy!==ye.Eof&&this.note(r););this._sy!==ye.RParensis&&this.error("note-list",ye.RParensis,!0),this._sy=this.newSy()}else if(this._sy===ye.String&&this._syData.toLowerCase()==="r")this._sy=this.newSy();else if(!this.note(r))return e.beats.splice(e.beats.length-1,1),!1;this._sy===ye.Dot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ye.Number&&this.error("duration",ye.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._sy=this.newSy()),r.duration=this._currentDuration,r.dynamics=this._currentDynamics,this._currentTuplet!==1&&!r.hasTuplet&&os.applyTuplet(r,this._currentTuplet);let n=1;this._sy===ye.Multiply&&(this._sy=this.newSy(),this._sy!==ye.Number?this.error("multiplier",ye.Number,!0):n=this._syData,this._sy=this.newSy()),this.beatEffects(r);for(let i=0;i<n-1;i++)e.addBeat(WM.clone(r));return!0}beatDuration(){if(this._sy===ye.DoubleDot&&(this._allowNegatives=!0,this._sy=this.newSy(),this._allowNegatives=!1,this._sy!==ye.Number&&this.error("duration",ye.Number,!0),this._currentDuration=this.parseDuration(this._syData),this._currentTuplet=1,this._sy=this.newSy(),this._sy===ye.LBrace)){for(this._sy=this.newSy();this._sy===ye.String;)switch(this._syData.toLowerCase()){case"tu":this._sy=this.newSy(),this._sy!==ye.Number&&this.error("duration-tuplet",ye.Number,!0),this._currentTuplet=this._syData,this._sy=this.newSy();break;default:this.error("beat-duration",ye.String,!1);break}this._sy!==ye.RBrace&&this.error("beat-duration",ye.RBrace,!0),this._sy=this.newSy()}}beatEffects(e){if(this._sy===ye.LBrace){for(this._sy=this.newSy();this._sy===ye.String;)this.applyBeatEffect(e)||this.error("beat-effects",ye.String,!1);this._sy!==ye.RBrace&&this.error("beat-effects",ye.RBrace,!0),this._sy=this.newSy()}}applyBeatEffect(e){let r=this._syData.toLowerCase();if(r==="f")e.fadeIn=!0;else if(r==="v")e.vibrato=hr.Slight;else if(r==="s")e.slap=!0;else if(r==="p")e.pop=!0;else if(r==="tt")e.tap=!0;else if(r==="dd")e.dots=2;else if(r==="d")e.dots=1;else if(r==="su")e.pickStroke=Ii.Up;else if(r==="sd")e.pickStroke=Ii.Down;else if(r==="tu"){if(this._sy=this.newSy(),this._sy!==ye.Number)return this.error("tuplet",ye.Number,!0),!1;os.applyTuplet(e,this._syData)}else if(r==="tb"||r==="tbe"){let n=r==="tbe";for(this._sy=this.newSy(),this._sy!==ye.LParensis&&this.error("tremolobar-effect",ye.LParensis,!0),this._allowNegatives=!0,this._sy=this.newSy();this._sy!==ye.RParensis&&this._sy!==ye.Eof;){let i=0,s=0;n?(this._sy!==ye.Number&&this.error("tremolobar-effect",ye.Number,!0),i=this._syData,this._sy=this.newSy(),this._sy!==ye.Number&&this.error("tremolobar-effect",ye.Number,!0),s=this._syData):(this._sy!==ye.Number&&this.error("tremolobar-effect",ye.Number,!0),i=0,s=this._syData),e.addWhammyBarPoint(new Je(i,s)),this._sy=this.newSy()}if(e.whammyBarPoints!=null){for(;e.whammyBarPoints.length>60;)e.removeWhammyBarPoint(e.whammyBarPoints.length-1);if(n)e.whammyBarPoints.sort((i,s)=>i.offset-s.offset);else{let i=e.whammyBarPoints.length,s=60/i|0,a=0;for(;a<i;)e.whammyBarPoints[a].offset=Math.min(60,a*s),a++}}this._allowNegatives=!1,this._sy!==ye.RParensis&&this.error("tremolobar-effect",ye.RParensis,!0)}else if(r==="bu"||r==="bd"||r==="au"||r==="ad"){switch(r){case"bu":e.brushType=Qr.BrushUp;break;case"bd":e.brushType=Qr.BrushDown;break;case"au":e.brushType=Qr.ArpeggioUp;break;case"ad":e.brushType=Qr.ArpeggioDown;break}return this._sy=this.newSy(),this._sy===ye.Number?(e.brushDuration=this._syData,this._sy=this.newSy(),!0):(e.updateDurations(),r==="bu"||r==="bd"?e.brushDuration=e.playbackDuration/4/e.notes.length:(r==="au"||r==="ad")&&(e.brushDuration=e.playbackDuration/e.notes.length),!0)}else if(r==="ch"){this._sy=this.newSy();let n=this._syData,i=this.getChordId(this._currentStaff,n);if(!this._currentStaff.hasChord(i)){let s=new zc;s.showDiagram=!1,s.name=n,this._currentStaff.addChord(i,s)}e.chordId=i}else{if(r==="gr")return this._sy=this.newSy(),this._syData.toLowerCase()==="ob"?(e.graceType=_t.OnBeat,this._sy=this.newSy()):this._syData.toLowerCase()==="b"?(e.graceType=_t.BendGrace,this._sy=this.newSy()):e.graceType=_t.BeforeBeat,!0;if(r==="dy"){switch(this._sy=this.newSy(),this._syData.toLowerCase()){case"ppp":e.dynamics=Kt.PPP;break;case"pp":e.dynamics=Kt.PP;break;case"p":e.dynamics=Kt.P;break;case"mp":e.dynamics=Kt.MP;break;case"mf":e.dynamics=Kt.MF;break;case"f":e.dynamics=Kt.F;break;case"ff":e.dynamics=Kt.FF;break;case"fff":e.dynamics=Kt.FFF;break}this._currentDynamics=e.dynamics}else if(r==="cre")e.crescendo=Os.Crescendo;else if(r==="dec")e.crescendo=Os.Decrescendo;else if(r==="tp"){if(this._sy=this.newSy(),e.tremoloSpeed=oe.Eighth,this._sy===ye.Number){switch(this._syData){case 8:e.tremoloSpeed=oe.Eighth;break;case 16:e.tremoloSpeed=oe.Sixteenth;break;case 32:e.tremoloSpeed=oe.ThirtySecond;break;default:e.tremoloSpeed=oe.Eighth;break}this._sy=this.newSy()}return!0}else return!1}return this._sy=this.newSy(),!0}getChordId(e,r){return r.toLowerCase()+e.index+e.track.index}static applyTuplet(e,r){switch(r){case 3:e.tupletNumerator=3,e.tupletDenominator=2;break;case 5:e.tupletNumerator=5,e.tupletDenominator=4;break;case 6:e.tupletNumerator=6,e.tupletDenominator=4;break;case 7:e.tupletNumerator=7,e.tupletDenominator=4;break;case 9:e.tupletNumerator=9,e.tupletDenominator=8;break;case 10:e.tupletNumerator=10,e.tupletDenominator=8;break;case 11:e.tupletNumerator=11,e.tupletDenominator=8;break;case 12:e.tupletNumerator=12,e.tupletDenominator=8;break;default:e.tupletNumerator=1,e.tupletDenominator=1;break}}isNoteText(e){return e==="x"||e==="-"||e==="r"}note(e){let r=!1,n=!1,i=-1,s=-1,a=-1;switch(this._sy){case ye.Number:i=this._syData;break;case ye.String:r=this._syData==="x",n=this._syData==="-",n||r?i=0:this.error("note-fret",ye.Number,!0);break;case ye.Tuning:let c=this._syData;s=c.octave,a=c.noteValue;break;default:return!1}this._sy=this.newSy();let o=s===-1&&this._currentStaff.tuning.length>0,l=-1;o&&(this._sy!==ye.Dot&&this.error("note",ye.Dot,!0),this._sy=this.newSy(),this._sy!==ye.Number&&this.error("note-string",ye.Number,!0),l=this._syData,(l<1||l>this._currentStaff.tuning.length)&&this.error("note-string",ye.Number,!1),this._sy=this.newSy());let u=new _n;return o?(u.string=this._currentStaff.tuning.length-(l-1),u.isDead=r,u.isTieDestination=n,n||(u.fret=i)):(u.octave=s,u.tone=a,u.isTieDestination=n),e.addNote(u),this.noteEffects(u),!0}noteEffects(e){if(this._sy===ye.LBrace){for(this._sy=this.newSy();this._sy===ye.String;){let r=this._syData.toLowerCase();if(r==="b"||r==="be"){let n=r==="be";for(this._sy=this.newSy(),this._sy!==ye.LParensis&&this.error("bend-effect",ye.LParensis,!0),this._sy=this.newSy();this._sy!==ye.RParensis&&this._sy!==ye.Eof;){let s=0,a=0;n?(this._sy!==ye.Number&&this.error("bend-effect-value",ye.Number,!0),s=this._syData,this._sy=this.newSy(),this._sy!==ye.Number&&this.error("bend-effect-value",ye.Number,!0),a=this._syData):(this._sy!==ye.Number&&this.error("bend-effect-value",ye.Number,!0),a=this._syData),e.addBendPoint(new Je(s,a)),this._sy=this.newSy()}const i=e.bendPoints;if(i!=null){for(;i.length>60;)i.splice(i.length-1,1);if(n)i.sort((s,a)=>s.offset-a.offset);else{let s=i.length,a=60/(s-1)|0,o=0;for(;o<s;)i[o].offset=Math.min(60,o*a),o++}}this._sy!==ye.RParensis&&this.error("bend-effect",ye.RParensis,!0),this._sy=this.newSy()}else if(r==="nh")e.harmonicType=bt.Natural,this._sy=this.newSy();else if(r==="ah")e.harmonicType=bt.Artificial,this._sy=this.newSy();else if(r==="th")e.harmonicType=bt.Tap,this._sy=this.newSy();else if(r==="ph")e.harmonicType=bt.Pinch,this._sy=this.newSy();else if(r==="sh")e.harmonicType=bt.Semi,this._sy=this.newSy();else if(r==="tr"){this._sy=this.newSy(),this._sy!==ye.Number&&this.error("trill-effect",ye.Number,!0);let n=this._syData;this._sy=this.newSy();let i=oe.Sixteenth;if(this._sy===ye.Number){switch(this._syData){case 16:i=oe.Sixteenth;break;case 32:i=oe.ThirtySecond;break;case 64:i=oe.SixtyFourth;break;default:i=oe.Sixteenth;break}this._sy=this.newSy()}e.trillValue=n+e.stringTuning,e.trillSpeed=i}else if(r==="v")this._sy=this.newSy(),e.vibrato=hr.Slight;else if(r==="sl")this._sy=this.newSy(),e.slideOutType=Ht.Legato;else if(r==="ss")this._sy=this.newSy(),e.slideOutType=Ht.Shift;else if(r==="sib")this._sy=this.newSy(),e.slideInType=xi.IntoFromBelow;else if(r==="sia")this._sy=this.newSy(),e.slideInType=xi.IntoFromAbove;else if(r==="sou")this._sy=this.newSy(),e.slideOutType=Ht.OutUp;else if(r==="sod")this._sy=this.newSy(),e.slideOutType=Ht.OutDown;else if(r==="psd")this._sy=this.newSy(),e.slideOutType=Ht.PickSlideDown;else if(r==="psu")this._sy=this.newSy(),e.slideOutType=Ht.PickSlideUp;else if(r==="h")this._sy=this.newSy(),e.isHammerPullOrigin=!0;else if(r==="lht")this._sy=this.newSy(),e.isLeftHandTapped=!0;else if(r==="g")this._sy=this.newSy(),e.isGhost=!0;else if(r==="ac")this._sy=this.newSy(),e.accentuated=Xn.Normal;else if(r==="hac")this._sy=this.newSy(),e.accentuated=Xn.Heavy;else if(r==="pm")this._sy=this.newSy(),e.isPalmMute=!0;else if(r==="st")this._sy=this.newSy(),e.isStaccato=!0;else if(r==="lr")this._sy=this.newSy(),e.isLetRing=!0;else if(r==="x")this._sy=this.newSy(),e.fret=0,e.isDead=!0;else if(r==="-"||r==="t")this._sy=this.newSy(),e.isTieDestination=!0;else if(r==="lf"){this._sy=this.newSy();let n=Ot.Thumb;this._sy===ye.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.leftHandFinger=n}else if(r==="rf"){this._sy=this.newSy();let n=Ot.Thumb;this._sy===ye.Number&&(n=this.toFinger(this._syData),this._sy=this.newSy()),e.rightHandFinger=n}else this.applyBeatEffect(e.beat)||this.error(r,ye.String,!1)}this._sy!==ye.RBrace&&this.error("note-effect",ye.RBrace,!1),this._sy=this.newSy()}}toFinger(e){switch(e){case 1:return Ot.Thumb;case 2:return Ot.IndexFinger;case 3:return Ot.MiddleFinger;case 4:return Ot.AnnularFinger;case 5:return Ot.LittleFinger}return Ot.Thumb}parseDuration(e){switch(e){case-4:return oe.QuadrupleWhole;case-2:return oe.DoubleWhole;case 1:return oe.Whole;case 2:return oe.Half;case 4:return oe.Quarter;case 8:return oe.Eighth;case 16:return oe.Sixteenth;case 32:return oe.ThirtySecond;case 64:return oe.SixtyFourth;case 128:return oe.OneHundredTwentyEighth;case 256:return oe.TwoHundredFiftySixth;default:return oe.Quarter}}barMeta(e){let r=!1,n=e.masterBar;for(;this._sy===ye.MetaCommand;){r=!0;let i=this._syData.toLowerCase();if(i==="ts")this._sy=this.newSy(),this._sy!==ye.Number&&this.error("timesignature-numerator",ye.Number,!0),n.timeSignatureNumerator=this._syData,this._sy=this.newSy(),this._sy!==ye.Number&&this.error("timesignature-denominator",ye.Number,!0),n.timeSignatureDenominator=this._syData,this._sy=this.newSy();else if(i==="ro")n.isRepeatStart=!0,this._sy=this.newSy();else if(i==="rc")this._sy=this.newSy(),this._sy!==ye.Number&&this.error("repeatclose",ye.Number,!0),this._syData>2048&&this.error("repeatclose",ye.Number,!1),n.repeatCount=this._syData,this._sy=this.newSy();else if(i==="ae")if(this._sy=this.newSy(),this._sy===ye.LParensis){for(this._sy=this.newSy(),this._sy!==ye.Number&&this.error("alternateending",ye.Number,!0),this.applyAlternateEnding(n);this._sy===ye.Number;)this.applyAlternateEnding(n);this._sy!==ye.RParensis&&this.error("alternateending-list",ye.RParensis,!0),this._sy=this.newSy()}else this._sy!==ye.Number&&this.error("alternateending",ye.Number,!0),this.applyAlternateEnding(n);else if(i==="ks")this._sy=this.newSy(),this._sy!==ye.String&&this.error("keysignature",ye.String,!0),n.keySignature=this.parseKeySignature(this._syData),this._sy=this.newSy();else if(i==="clef"){switch(this._sy=this.newSy(),this._sy){case ye.String:e.clef=this.parseClefFromString(this._syData);break;case ye.Number:e.clef=this.parseClefFromInt(this._syData);break;case ye.Tuning:let s=this._syData;e.clef=this.parseClefFromInt(s.realValue);break;default:this.error("clef",ye.String,!0);break}this._sy=this.newSy()}else if(i==="tempo"){this._allowFloat=!0,this._sy=this.newSy(),this._allowFloat=!1,this._sy!==ye.Number&&this.error("tempo",ye.Number,!0);let s=new Vi;s.isLinear=!1,s.type=ci.Tempo,s.value=this._syData,n.tempoAutomation=s,this._sy=this.newSy()}else if(i==="section"){this._sy=this.newSy(),this._sy!==ye.String&&this.error("section",ye.String,!0);let s=this._syData;this._sy=this.newSy();let a="";this._sy===ye.String&&!this.isNoteText(this._syData.toLowerCase())&&(a=s,s=this._syData,this._sy=this.newSy());let o=new O1;o.marker=a,o.text=s,n.section=o}else if(i==="tf"){switch(this._allowTuning=!1,this._sy=this.newSy(),this._allowTuning=!0,this._sy){case ye.String:n.tripletFeel=this.parseTripletFeelFromString(this._syData);break;case ye.Number:n.tripletFeel=this.parseTripletFeelFromInt(this._syData);break;default:this.error("triplet-feel",ye.String,!0);break}this._sy=this.newSy()}else i==="ac"?(n.isAnacrusis=!0,this._sy=this.newSy()):e.index===0?this.handleStaffMeta()||this.error("measure-effects",ye.String,!1):this.error("measure-effects",ye.String,!1)}if(n.index===0&&!n.tempoAutomation){let i=new Vi;i.isLinear=!1,i.type=ci.Tempo,i.value=this._score.tempo,n.tempoAutomation=i}return r}applyAlternateEnding(e){let r=this._syData;r<1&&this.error("alternateending",ye.Number,!0),e.alternateEndings|=1<<r-1,this._sy=this.newSy()}}os.Eof=0;class Tl extends Pp{get name(){return"Guitar Pro 3-5"}constructor(){super(),this._versionNumber=0,this._globalTripletFeel=qt.NoTripletFeel,this._lyricsTrack=0,this._lyrics=[],this._barCount=0,this._trackCount=0,this._playbackInfos=[],this._beatTextChunksByTrack=new Map}readScore(){return this.readVersion(),this._score=new vh,this.readScoreInformation(),this._versionNumber<500&&(this._globalTripletFeel=cr.gpReadBool(this.data)?qt.Triplet8th:qt.NoTripletFeel),this._versionNumber>=400&&this.readLyrics(),this._versionNumber>=510&&this.data.skip(19),this._versionNumber>=500&&(this.readPageSetup(),this._score.tempoLabel=cr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),this._score.tempo=Ce.readInt32LE(this.data),this._versionNumber>=510&&cr.gpReadBool(this.data),Ce.readInt32LE(this.data),this._versionNumber>=400&&this.data.readByte(),this.readPlaybackInfos(),this._versionNumber>=500&&(this.data.skip(38),this.data.skip(4)),this._barCount=Ce.readInt32LE(this.data),this._trackCount=Ce.readInt32LE(this.data),this.readMasterBars(),this.readTracks(),this.readBars(),this._score.masterBars.length>0&&(this._score.masterBars[0].tempoAutomation=Vi.buildTempoAutomation(!1,0,this._score.tempo,2),this._score.masterBars[0].tempoAutomation.text=this._score.tempoLabel),this._score.finish(this.settings),this._lyrics&&this._lyricsTrack>=0&&this._score.tracks[this._lyricsTrack].applyLyrics(this._lyrics),this._score}readVersion(){let e=cr.gpReadStringByteLength(this.data,30,this.settings.importer.encoding);if(!e.startsWith(Tl.VersionString))throw new Yn("Unsupported format");e=e.substr(Tl.VersionString.length+1);let r=e.indexOf(".");this._versionNumber=100*parseInt(e.substr(0,r))+parseInt(e.substr(r+1)),Fe.debug(this.name,"Guitar Pro version "+e+" detected")}readScoreInformation(){var n;this._score.title=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.subTitle=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.artist=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.album=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.words=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.music=this._versionNumber>=500?cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding):this._score.words,this._score.copyright=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.tab=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding),this._score.instructions=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding);let e=Ce.readInt32LE(this.data),r="";for(let i=0;i<e;i++)i>0&&(r+=`\r
`),r+=(n=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding))==null?void 0:n.toString();this._score.notices=r}readLyrics(){this._lyrics=[],this._lyricsTrack=Ce.readInt32LE(this.data)-1;for(let e=0;e<5;e++){let r=new Gn;r.startBar=Ce.readInt32LE(this.data)-1,r.text=cr.gpReadStringInt(this.data,this.settings.importer.encoding),this._lyrics.push(r)}}readPageSetup(){this.data.skip(30);for(let e=0;e<10;e++)cr.gpReadStringIntByte(this.data,this.settings.importer.encoding)}readPlaybackInfos(){this._playbackInfos=[];for(let e=0;e<64;e++){let r=new Cz;r.primaryChannel=e,r.secondaryChannel=e,r.program=Ce.readInt32LE(this.data),r.volume=this.data.readByte(),r.balance=this.data.readByte(),this.data.skip(6),this._playbackInfos.push(r)}}readMasterBars(){for(let e=0;e<this._barCount;e++)this.readMasterBar()}readMasterBar(){let e=null;this._score.masterBars.length>0&&(e=this._score.masterBars[this._score.masterBars.length-1]);let r=new Ru,n=this.data.readByte();if(n&1?r.timeSignatureNumerator=this.data.readByte():e&&(r.timeSignatureNumerator=e.timeSignatureNumerator),n&2?r.timeSignatureDenominator=this.data.readByte():e&&(r.timeSignatureDenominator=e.timeSignatureDenominator),r.isRepeatStart=(n&4)!==0,n&8&&(r.repeatCount=this.data.readByte()+(this._versionNumber>=500?0:1)),n&16&&this._versionNumber<500){let i=e,s=0;for(;i&&!(i.isRepeatEnd&&i!==e||i.isRepeatStart);)s=s|i.alternateEndings,i=i.previousMasterBar;let a=0,o=this.data.readByte();for(let l=0;l<8;l++){let u=1<<l;o>l&&!(s&u)&&(a=a|u)}r.alternateEndings=a}if(n&32){let i=new O1;i.text=cr.gpReadStringIntByte(this.data,this.settings.importer.encoding),i.marker="",cr.gpReadColor(this.data,!1),r.section=i}if(n&64?(r.keySignature=Ce.readSInt8(this.data),r.keySignatureType=this.data.readByte()):e&&(r.keySignature=e.keySignature,r.keySignatureType=e.keySignatureType),this._versionNumber>=500&&n&3&&this.data.skip(4),this._versionNumber>=500&&(r.alternateEndings=this.data.readByte()),this._versionNumber>=500){switch(this.data.readByte()){case 1:r.tripletFeel=qt.Triplet8th;break;case 2:r.tripletFeel=qt.Triplet16th;break}this.data.readByte()}else r.tripletFeel=this._globalTripletFeel;r.isDoubleBar=(n&128)!==0,this._score.addMasterBar(r)}readTracks(){for(let e=0;e<this._trackCount;e++)this.readTrack()}readTrack(){let e=new Hl;e.ensureStaveCount(1),this._score.addTrack(e);let r=e.staves[0],n=this.data.readByte();e.name=cr.gpReadStringByteLength(this.data,40,this.settings.importer.encoding),n&1&&(r.isPercussion=!0);let i=Ce.readInt32LE(this.data),s=[];for(let u=0;u<7;u++){let c=Ce.readInt32LE(this.data);i>u&&s.push(c)}r.stringTuning.tunings=s;let a=Ce.readInt32LE(this.data),o=Ce.readInt32LE(this.data)-1,l=Ce.readInt32LE(this.data)-1;if(this.data.skip(4),o>=0&&o<this._playbackInfos.length){let u=this._playbackInfos[o];u.port=a,u.isSolo=(n&16)!==0,u.isMute=(n&32)!==0,u.secondaryChannel=l,gu.isGuitar(u.program)&&(r.displayTranspositionPitch=-12),e.playbackInfo=u}r.capo=Ce.readInt32LE(this.data),e.color=cr.gpReadColor(this.data,!1),this._versionNumber>=500&&(this.data.readByte(),this.data.readByte(),this.data.skip(43)),this._versionNumber>=510&&(this.data.skip(4),cr.gpReadStringIntByte(this.data,this.settings.importer.encoding),cr.gpReadStringIntByte(this.data,this.settings.importer.encoding))}readBars(){for(let e=0;e<this._barCount;e++)for(let r=0;r<this._trackCount;r++)this.readBar(this._score.tracks[r])}readBar(e){let r=new Vu,n=e.staves[0];n.isPercussion&&(r.clef=$t.Neutral),n.addBar(r);let i=1;this._versionNumber>=500&&(this.data.readByte(),i=2);for(let s=0;s<i;s++)this.readVoice(e,r)}readVoice(e,r){let n=Ce.readInt32LE(this.data);if(n===0)return;let i=new Ul;r.addVoice(i);for(let s=0;s<n;s++)this.readBeat(e,r,i)}readBeat(e,r,n){let i=new Wi,s=this.data.readByte();if(s&1&&(i.dots=1),s&64){let c=this.data.readByte();i.isEmpty=(c&2)===0}switch(n.addBeat(i),Ce.readSInt8(this.data)){case-2:i.duration=oe.Whole;break;case-1:i.duration=oe.Half;break;case 0:i.duration=oe.Quarter;break;case 1:i.duration=oe.Eighth;break;case 2:i.duration=oe.Sixteenth;break;case 3:i.duration=oe.ThirtySecond;break;case 4:i.duration=oe.SixtyFourth;break;default:i.duration=oe.Quarter;break}if(s&32)switch(i.tupletNumerator=Ce.readInt32LE(this.data),i.tupletNumerator){case 1:i.tupletDenominator=1;break;case 3:i.tupletDenominator=2;break;case 5:case 6:case 7:i.tupletDenominator=4;break;case 9:case 10:case 11:case 12:case 13:i.tupletDenominator=8;break;case 2:case 4:case 8:break;default:i.tupletNumerator=1,i.tupletDenominator=1;break}s&2&&this.readChord(i);let o=this.settings.importer.beatTextAsLyrics&&e.index!==this._lyricsTrack;if(s&4){const c=cr.gpReadStringIntUnused(this.data,this.settings.importer.encoding);if(o){const h=new Gn;h.text=c.trim(),h.finish(!0);const f=[];for(let m=h.chunks.length-1;m>=0;m--)f.push(h.chunks[m]);this._beatTextChunksByTrack.set(e.index,f)}else i.text=c}let l=bt.None;s&8&&(l=this.readBeatEffects(i)),s&16&&this.readMixTableChange(i);let u=this.data.readByte();for(let c=6;c>=0;c--)if(u&1<<c&&6-c<r.staff.tuning.length){const h=this.readNote(e,r,n,i,6-c);l!==bt.None&&(h.harmonicType=l,h.harmonicType===bt.Natural&&(h.harmonicValue=this.deltaFretToHarmonicValue(h.fret)))}this._versionNumber>=500&&(this.data.readByte(),this.data.readByte()&8&&this.data.readByte()),o&&!i.isRest&&this._beatTextChunksByTrack.has(e.index)&&this._beatTextChunksByTrack.get(e.index).length>0&&(i.lyrics=[this._beatTextChunksByTrack.get(e.index).pop()])}readChord(e){let r=new zc,n=Yr.newGuid();if(this._versionNumber>=500){this.data.skip(17),r.name=cr.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=Ce.readInt32LE(this.data);for(let a=0;a<7;a++){let o=Ce.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else if(this.data.readByte()!==0)if(this._versionNumber>=400){this.data.skip(16),r.name=cr.gpReadStringByteLength(this.data,21,this.settings.importer.encoding),this.data.skip(4),r.firstFret=Ce.readInt32LE(this.data);for(let a=0;a<7;a++){let o=Ce.readInt32LE(this.data);a<e.voice.bar.staff.tuning.length&&r.strings.push(o)}let i=this.data.readByte(),s=new Uint8Array(5);this.data.read(s,0,s.length);for(let a=0;a<i;a++)r.barreFrets.push(s[a]);this.data.skip(26)}else{this.data.skip(25),r.name=cr.gpReadStringByteLength(this.data,34,this.settings.importer.encoding),r.firstFret=Ce.readInt32LE(this.data);for(let i=0;i<6;i++){let s=Ce.readInt32LE(this.data);i<e.voice.bar.staff.tuning.length&&r.strings.push(s)}this.data.skip(36)}else{let i=this._versionNumber>=406?7:6;if(r.name=cr.gpReadStringIntByte(this.data,this.settings.importer.encoding),r.firstFret=Ce.readInt32LE(this.data),r.firstFret>0)for(let s=0;s<i;s++){let a=Ce.readInt32LE(this.data);s<e.voice.bar.staff.tuning.length&&r.strings.push(a)}}r.name&&(e.chordId=n,e.voice.bar.staff.addChord(e.chordId,r))}readBeatEffects(e){let r=this.data.readByte(),n=0;if(this._versionNumber>=400&&(n=this.data.readByte()),e.fadeIn=(r&16)!==0,(this._versionNumber<400&&r&1||r&2)&&(e.vibrato=hr.Slight),e.hasRasgueado=(n&1)!==0,r&32&&this._versionNumber>=400)switch(Ce.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}else if(r&32){switch(Ce.readSInt8(this.data)){case 1:e.tap=!0;break;case 2:e.slap=!0;break;case 3:e.pop=!0;break}this.data.skip(4)}if(n&4&&this.readTremoloBarEffect(e),r&64){let i=0,s=0;this._versionNumber<500?(s=this.data.readByte(),i=this.data.readByte()):(i=this.data.readByte(),s=this.data.readByte()),i>0?(e.brushType=Qr.BrushUp,e.brushDuration=Tl.toStrokeValue(i)):s>0&&(e.brushType=Qr.BrushDown,e.brushDuration=Tl.toStrokeValue(s))}if(n&2)switch(Ce.readSInt8(this.data)){case 0:e.pickStroke=Ii.None;break;case 1:e.pickStroke=Ii.Up;break;case 2:e.pickStroke=Ii.Down;break}if(this._versionNumber<400){if(r&4)return bt.Natural;if(r&8)return bt.Artificial}return bt.None}readTremoloBarEffect(e){this.data.readByte(),Ce.readInt32LE(this.data);let r=Ce.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Je(0,0);i.offset=Ce.readInt32LE(this.data),i.value=Ce.readInt32LE(this.data)/Tl.BendStep|0,cr.gpReadBool(this.data),e.addWhammyBarPoint(i)}}static toStrokeValue(e){switch(e){case 1:return 30;case 2:return 30;case 3:return 60;case 4:return 120;case 5:return 240;case 6:return 480;default:return 0}}readMixTableChange(e){let r=new mwe;r.instrument=Ce.readSInt8(this.data),this._versionNumber>=500&&this.data.skip(16),r.volume=Ce.readSInt8(this.data),r.balance=Ce.readSInt8(this.data);let n=Ce.readSInt8(this.data),i=Ce.readSInt8(this.data),s=Ce.readSInt8(this.data),a=Ce.readSInt8(this.data);if(this._versionNumber>=500&&(r.tempoName=cr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.tempo=Ce.readInt32LE(this.data),r.volume>=0&&this.data.readByte(),r.balance>=0&&this.data.readByte(),n>=0&&this.data.readByte(),i>=0&&this.data.readByte(),s>=0&&this.data.readByte(),a>=0&&this.data.readByte(),r.tempo>=0&&(r.duration=Ce.readSInt8(this.data),this._versionNumber>=510&&this.data.readByte()),this._versionNumber>=400&&this.data.readByte(),this._versionNumber>=500&&this.data.readByte(),this._versionNumber>=510&&(cr.gpReadStringIntByte(this.data,this.settings.importer.encoding),cr.gpReadStringIntByte(this.data,this.settings.importer.encoding)),r.volume>=0){let o=new Vi;o.isLinear=!0,o.type=ci.Volume,o.value=r.volume,e.automations.push(o)}if(r.balance>=0){let o=new Vi;o.isLinear=!0,o.type=ci.Balance,o.value=r.balance,e.automations.push(o)}if(r.instrument>=0){let o=new Vi;o.isLinear=!0,o.type=ci.Instrument,o.value=r.instrument,e.automations.push(o)}if(r.tempo>=0){let o=new Vi;o.isLinear=!0,o.type=ci.Tempo,o.value=r.tempo,e.automations.push(o),e.voice.bar.masterBar.tempoAutomation=o}}readNote(e,r,n,i,s){let a=new _n;a.string=r.staff.tuning.length-s;let o=this.data.readByte();if(o&2?a.accentuated=Xn.Heavy:o&64&&(a.accentuated=Xn.Normal),a.isGhost=(o&4)!==0,o&32){let u=this.data.readByte();u===3?a.isDead=!0:u===2&&(a.isTieDestination=!0)}if(o&1&&this._versionNumber<500&&(this.data.readByte(),this.data.readByte()),o&16){let u=Ce.readSInt8(this.data);a.dynamics=this.toDynamicValue(u),i.dynamics=a.dynamics}o&32&&(a.fret=Ce.readSInt8(this.data)),o&128&&(a.leftHandFinger=Ce.readSInt8(this.data),a.rightHandFinger=Ce.readSInt8(this.data),a.isFingering=!0);let l=!1;if(this._versionNumber>=500&&(o&1&&(a.durationPercent=cr.gpReadDouble(this.data)),l=(this.data.readByte()&2)!==0),i.addNote(a),o&8&&this.readNoteEffects(e,n,i,a),r.staff.isPercussion&&(a.percussionArticulation=a.fret,a.string=-1,a.fret=-1),l){const u=ze.defaultAccidentals[a.realValueWithoutHarmonic%12];u==="#"?a.accidentalMode=$n.ForceFlat:u==="b"&&(a.accidentalMode=$n.ForceSharp)}return a}toDynamicValue(e){switch(e){case 1:return Kt.PPP;case 2:return Kt.PP;case 3:return Kt.P;case 4:return Kt.MP;case 5:return Kt.MF;case 6:return Kt.F;case 7:return Kt.FF;case 8:return Kt.FFF;default:return Kt.F}}readNoteEffects(e,r,n,i){let s=this.data.readByte(),a=0;this._versionNumber>=400&&(a=this.data.readByte()),s&1&&this.readBend(i),s&16&&this.readGrace(r,i),a&4&&this.readTremoloPicking(n),a&8?this.readSlide(i):this._versionNumber<400&&s&4&&(i.slideOutType=Ht.Shift),a&16&&this.readArtificialHarmonic(i),a&32&&this.readTrill(i),i.isLetRing=(s&8)!==0,i.isHammerPullOrigin=(s&2)!==0,a&64&&(i.vibrato=hr.Slight),i.isPalmMute=(a&2)!==0,i.isStaccato=(a&1)!==0}readBend(e){this.data.readByte(),Ce.readInt32LE(this.data);let r=Ce.readInt32LE(this.data);if(r>0)for(let n=0;n<r;n++){let i=new Je(0,0);i.offset=Ce.readInt32LE(this.data),i.value=Ce.readInt32LE(this.data)/Tl.BendStep|0,cr.gpReadBool(this.data),e.addBendPoint(i)}}readGrace(e,r){let n=new Wi,i=new _n;switch(i.string=r.string,i.fret=Ce.readSInt8(this.data),n.duration=oe.ThirtySecond,n.dynamics=this.toDynamicValue(Ce.readSInt8(this.data)),Ce.readSInt8(this.data)){case 0:break;case 1:i.slideOutType=Ht.Legato,i.slideTarget=r;break;case 2:break;case 3:i.isHammerPullOrigin=!0;break}if(i.dynamics=n.dynamics,this.data.skip(1),this._versionNumber<500)n.graceType=_t.BeforeBeat;else{let a=this.data.readByte();i.isDead=(a&1)!==0,n.graceType=a&2?_t.OnBeat:_t.BeforeBeat}e.addGraceBeat(n),n.addNote(i)}readTremoloPicking(e){switch(this.data.readByte()){case 1:e.tremoloSpeed=oe.Eighth;break;case 2:e.tremoloSpeed=oe.Sixteenth;break;case 3:e.tremoloSpeed=oe.ThirtySecond;break}}readSlide(e){if(this._versionNumber>=500){let r=Ce.readSInt8(this.data);r&1?e.slideOutType=Ht.Shift:r&2?e.slideOutType=Ht.Legato:r&4?e.slideOutType=Ht.OutDown:r&8&&(e.slideOutType=Ht.OutUp),r&16?e.slideInType=xi.IntoFromBelow:r&32&&(e.slideInType=xi.IntoFromAbove)}else switch(Ce.readSInt8(this.data)){case 1:e.slideOutType=Ht.Shift;break;case 2:e.slideOutType=Ht.Legato;break;case 3:e.slideOutType=Ht.OutDown;break;case 4:e.slideOutType=Ht.OutUp;break;case-1:e.slideInType=xi.IntoFromBelow;break;case-2:e.slideInType=xi.IntoFromAbove;break}}readArtificialHarmonic(e){let r=this.data.readByte();if(this._versionNumber>=500)switch(r){case 1:e.harmonicType=bt.Natural,e.harmonicValue=this.deltaFretToHarmonicValue(e.fret);break;case 2:this.data.readByte(),this.data.readByte(),this.data.readByte(),e.harmonicType=bt.Artificial;break;case 3:e.harmonicType=bt.Tap,e.harmonicValue=this.deltaFretToHarmonicValue(this.data.readByte());break;case 4:e.harmonicType=bt.Pinch,e.harmonicValue=12;break;case 5:e.harmonicType=bt.Semi,e.harmonicValue=12;break}else if(this._versionNumber>=400)switch(r){case 1:e.harmonicType=bt.Natural;break;case 3:e.harmonicType=bt.Tap;break;case 4:e.harmonicType=bt.Pinch;break;case 5:e.harmonicType=bt.Semi;break;case 15:e.harmonicType=bt.Artificial;break;case 17:e.harmonicType=bt.Artificial;break;case 22:e.harmonicType=bt.Artificial;break}}deltaFretToHarmonicValue(e){switch(e){case 2:return 2.4;case 3:return 3.2;case 4:case 5:case 7:case 9:case 12:case 16:case 17:case 19:case 24:return e;case 8:return 8.2;case 10:return 9.6;case 14:case 15:return 14.7;case 21:case 22:return 21.7;default:return 12}}readTrill(e){switch(e.trillValue=this.data.readByte()+e.stringTuning,this.data.readByte()){case 1:e.trillSpeed=oe.Sixteenth;break;case 2:e.trillSpeed=oe.ThirtySecond;break;case 3:e.trillSpeed=oe.SixtyFourth;break}}}Tl.VersionString="FICHIER GUITAR PRO ";Tl.BendStep=25;class cr{static gpReadDouble(e){let r=new Uint8Array(8);return e.read(r,0,r.length),new Float64Array(r.buffer)[0]}static gpReadFloat(e){let r=new Uint8Array(4);return r[3]=e.readByte(),r[2]=e.readByte(),r[2]=e.readByte(),r[1]=e.readByte(),new Float32Array(r.buffer)[0]}static gpReadColor(e,r=!1){let n=e.readByte(),i=e.readByte(),s=e.readByte(),a=255;return r?a=e.readByte():e.skip(1),new fn(n,i,s,a)}static gpReadBool(e){return e.readByte()!==0}static gpReadStringIntUnused(e,r){return e.skip(4),cr.gpReadString(e,e.readByte(),r)}static gpReadStringInt(e,r){return cr.gpReadString(e,Ce.readInt32LE(e),r)}static gpReadStringIntByte(e,r){let n=Ce.readInt32LE(e)-1;return e.readByte(),cr.gpReadString(e,n,r)}static gpReadString(e,r,n){let i=new Uint8Array(r);return e.read(i,0,i.length),Ce.toString(i,n)}static gpWriteString(e,r){const n=Ce.stringToBytes(r);e.writeByte(r.length),e.write(n,0,n.length)}static gpReadStringByteLength(e,r,n){let i=e.readByte(),s=cr.gpReadString(e,i,n);return i<r&&e.skip(r-i),s}}class mwe{constructor(){this.volume=-1,this.balance=-1,this.instrument=-1,this.tempoName="",this.tempo=-1,this.duration=-1}}class Ls{constructor(){this.x=0,this.y=0,this.w=0,this.h=0}}var Vo;(function(t){t[t.Boolean=0]="Boolean",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Point=4]="Point",t[t.Size=5]="Size",t[t.Rectangle=6]="Rectangle",t[t.Color=7]="Color"})(Vo||(Vo={}));class $1{constructor(e){this.raw=new Map;let r=Hi.fromBuffer(e),n=Ce.readInt32BE(r);for(let i=0;i<n;i++){let s=cr.gpReadString(r,r.readByte(),"utf-8");switch(r.readByte()){case Vo.Boolean:let o=r.readByte()===1;this.addValue(s,o);break;case Vo.Integer:let l=Ce.readInt32BE(r);this.addValue(s,l);break;case Vo.Float:let u=cr.gpReadFloat(r);this.addValue(s,u);break;case Vo.String:let c=cr.gpReadString(r,Ce.readInt16BE(r),"utf-8");this.addValue(s,c);break;case Vo.Point:let h=Ce.readInt32BE(r),f=Ce.readInt32BE(r);this.addValue(s,new Je(h,f));break;case Vo.Size:let m=Ce.readInt32BE(r),g=Ce.readInt32BE(r);this.addValue(s,new Je(m,g));break;case Vo.Rectangle:let y=new Ls;y.x=Ce.readInt32BE(r),y.y=Ce.readInt32BE(r),y.w=Ce.readInt32BE(r),y.h=Ce.readInt32BE(r),this.addValue(s,y);break;case Vo.Color:let b=cr.gpReadColor(r,!0);this.addValue(s,b);break}}}apply(e){for(const[r,n]of this.raw)switch(r){case"StandardNotation/hideDynamics":e.stylesheet.hideDynamics=n;break}}addValue(e,r){this.raw.set(e,r)}static writeForScore(e){const r=Hi.withCapacity(128);return Ce.writeInt32BE(r,1),$1.writeBooleanEntry(r,"StandardNotation/hideDynamics",e.stylesheet.hideDynamics),r.toArray()}static writeBooleanEntry(e,r,n){cr.gpWriteString(e,r),e.writeByte(Vo.Boolean),e.writeByte(n?1:0)}}var ol;(function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long"})(ol||(ol={}));class HM{constructor(){this.type=ol.Short,this.length=0}}var Le;(function(t){t[t.None=0]="None",t[t.Element=1]="Element",t[t.Text=2]="Text",t[t.CDATA=3]="CDATA",t[t.Document=4]="Document",t[t.DocumentType=5]="DocumentType"})(Le||(Le={}));class Xo{constructor(){this.nodeType=Le.None,this.localName=null,this.value=null,this.childNodes=[],this.attributes=new Map,this.firstChild=null,this.firstElement=null}addChild(e){this.childNodes.push(e),this.firstChild=e,(e.nodeType===Le.Element||e.nodeType===Le.CDATA)&&(this.firstElement=e)}getAttribute(e){return this.attributes.has(e)?this.attributes.get(e):""}getElementsByTagName(e,r=!1){let n=[];return this.searchElementsByTagName(this.childNodes,n,e,r),n}searchElementsByTagName(e,r,n,i=!1){for(let s of e)s&&s.nodeType===Le.Element&&s.localName===n&&r.push(s),i&&this.searchElementsByTagName(s.childNodes,r,n,!0)}findChildElement(e){for(let r of this.childNodes)if(r&&r.nodeType===Le.Element&&r.localName===e)return r;return null}addElement(e){const r=new Xo;return r.nodeType=Le.Element,r.localName=e,this.addChild(r),r}get innerText(){var e;if(this.nodeType===Le.Element||this.nodeType===Le.Document){if(this.firstElement&&this.firstElement.nodeType===Le.CDATA)return this.firstElement.innerText;let r="";for(let i of this.childNodes)r+=(e=i.innerText)==null?void 0:e.toString();return r.trim()}return this.value??""}set innerText(e){const r=new Xo;r.nodeType=Le.Text,r.value=e,this.childNodes=[r]}setCData(e){const r=new Xo;r.nodeType=Le.CDATA,r.value=e,this.childNodes=[r]}}class Bs extends ki{constructor(e,r,n){super(Si.Format,e),this.pos=0,this.xml=r,this.pos=n,Object.setPrototypeOf(this,Bs.prototype)}}var Nt;(function(t){t[t.IgnoreSpaces=0]="IgnoreSpaces",t[t.Begin=1]="Begin",t[t.BeginNode=2]="BeginNode",t[t.TagName=3]="TagName",t[t.Body=4]="Body",t[t.AttribName=5]="AttribName",t[t.Equals=6]="Equals",t[t.AttvalBegin=7]="AttvalBegin",t[t.AttribVal=8]="AttribVal",t[t.Childs=9]="Childs",t[t.Close=10]="Close",t[t.WaitEnd=11]="WaitEnd",t[t.WaitEndRet=12]="WaitEndRet",t[t.Pcdata=13]="Pcdata",t[t.Header=14]="Header",t[t.Comment=15]="Comment",t[t.Doctype=16]="Doctype",t[t.Cdata=17]="Cdata",t[t.Escape=18]="Escape"})(Nt||(Nt={}));class lt{static parse(e,r,n){let i=e.charCodeAt(r),s=Nt.Begin,a=Nt.Begin,o=0,l="",u=Nt.Begin,c=null,h=null,f=0,m=0;for(;r<e.length;){switch(i=e.charCodeAt(r),s){case Nt.IgnoreSpaces:switch(i){case lt.CharCodeLF:case lt.CharCodeCR:case lt.CharCodeTab:case lt.CharCodeSpace:break;default:s=a;continue}break;case Nt.Begin:switch(i){case lt.CharCodeLowerThan:s=Nt.IgnoreSpaces,a=Nt.BeginNode;break;default:o=r,s=Nt.Pcdata;continue}break;case Nt.Pcdata:if(i===lt.CharCodeLowerThan){l+=e.substr(o,r-o);let g=new Xo;g.nodeType=Le.Text,g.value=l,l="",n.addChild(g),s=Nt.IgnoreSpaces,a=Nt.BeginNode}else i===lt.CharCodeAmp&&(l+=e.substr(o,r-o),s=Nt.Escape,u=Nt.Pcdata,o=r+1);break;case Nt.Cdata:if(i===lt.CharCodeBrackedClose&&e.charCodeAt(r+1)===lt.CharCodeBrackedClose&&e.charCodeAt(r+2)===lt.CharCodeGreaterThan){let g=new Xo;g.nodeType=Le.CDATA,g.value=e.substr(o,r-o),n.addChild(g),r+=2,s=Nt.Begin}break;case Nt.BeginNode:switch(i){case lt.CharCodeExclamation:if(e.charCodeAt(r+1)===lt.CharCodeBrackedOpen){if(r+=2,e.substr(r,6).toUpperCase()!=="CDATA[")throw new Bs("Expected <![CDATA[",e,r);r+=5,s=Nt.Cdata,o=r+1}else if(e.charCodeAt(r+1)===lt.CharCodeUpperD||e.charCodeAt(r+1)===lt.CharCodeLowerD){if(e.substr(r+2,6).toUpperCase()!=="OCTYPE")throw new Bs("Expected <!DOCTYPE",e,r);r+=8,s=Nt.Doctype,o=r+1}else{if(e.charCodeAt(r+1)!==lt.CharCodeMinus||e.charCodeAt(r+2)!==lt.CharCodeMinus)throw new Bs("Expected <!--",e,r);r+=2,s=Nt.Comment,o=r+1}break;case lt.CharCodeQuestion:s=Nt.Header,o=r;break;case lt.CharCodeSlash:if(!n)throw new Bs("Expected node name",e,r);o=r+1,s=Nt.IgnoreSpaces,a=Nt.Close;break;default:s=Nt.TagName,o=r;continue}break;case Nt.TagName:if(!lt.isValidChar(i)){if(r===o)throw new Bs("Expected node name",e,r);c=new Xo,c.nodeType=Le.Element,c.localName=e.substr(o,r-o),n.addChild(c),s=Nt.IgnoreSpaces,a=Nt.Body;continue}break;case Nt.Body:switch(i){case lt.CharCodeSlash:s=Nt.WaitEnd;break;case lt.CharCodeGreaterThan:s=Nt.Childs;break;default:s=Nt.AttribName,o=r;continue}break;case Nt.AttribName:if(!lt.isValidChar(i)){if(o===r)throw new Bs("Expected attribute name",e,r);if(h=e.substr(o,r-o),c.attributes.has(h))throw new Bs(`Duplicate attribute [${h}]`,e,r);s=Nt.IgnoreSpaces,a=Nt.Equals;continue}break;case Nt.Equals:switch(i){case lt.CharCodeEquals:s=Nt.IgnoreSpaces,a=Nt.AttvalBegin;break;default:throw new Bs("Expected =",e,r)}break;case Nt.AttvalBegin:switch(i){case lt.CharCodeDoubleQuote:case lt.CharCodeSingleQuote:l="",s=Nt.AttribVal,o=r+1,m=i;break}break;case Nt.AttribVal:switch(i){case lt.CharCodeAmp:l+=e.substr(o,r-o),s=Nt.Escape,u=Nt.AttribVal,o=r+1;break;default:if(i===m){l+=e.substr(o,r-o);let g=l;l="",c.attributes.set(h,g),s=Nt.IgnoreSpaces,a=Nt.Body}break}break;case Nt.Childs:r=lt.parse(e,r,c),o=r,s=Nt.Begin;break;case Nt.WaitEnd:switch(i){case lt.CharCodeGreaterThan:s=Nt.Begin;break;default:throw new Bs("Expected >",e,r)}break;case Nt.WaitEndRet:switch(i){case lt.CharCodeGreaterThan:return r;default:throw new Bs("Expected >",e,r)}case Nt.Close:if(!lt.isValidChar(i)){if(o===r)throw new Bs("Expected node name",e,r);if(e.substr(o,r-o)!==n.localName)throw new Bs("Expected </"+n.localName+">",e,r);s=Nt.IgnoreSpaces,a=Nt.WaitEndRet;continue}break;case Nt.Comment:i===lt.CharCodeMinus&&e.charCodeAt(r+1)===lt.CharCodeMinus&&e.charCodeAt(r+2)===lt.CharCodeGreaterThan&&(r+=2,s=Nt.Begin);break;case Nt.Doctype:if(i===lt.CharCodeBrackedOpen)f++;else if(i===lt.CharCodeBrackedClose)f--;else if(i===lt.CharCodeGreaterThan&&f===0){let g=new Xo;g.nodeType=Le.DocumentType,g.value=e.substr(o,r-o),n.addChild(g),s=Nt.Begin}break;case Nt.Header:i===lt.CharCodeQuestion&&e.charCodeAt(r+1)===lt.CharCodeGreaterThan&&(r++,s=Nt.Begin);break;case Nt.Escape:if(i===lt.CharCodeSemi){let g=e.substr(o,r-o);if(g.charCodeAt(0)===lt.CharCodeSharp){let y=g.charCodeAt(1)===lt.CharCodeLowerX?parseInt("0"+g.substr(1,g.length-1)):parseInt(g.substr(1,g.length-1));l+=String.fromCharCode(y)}else lt.Escapes.has(g)?l+=lt.Escapes.get(g):l+=("&"+g+";").toString();o=r+1,s=u}else!lt.isValidChar(i)&&i!==lt.CharCodeSharp&&(l+="&",l+=e.substr(o,r-o),r--,o=r+1,s=u);break}r++}if(s===Nt.Begin&&(o=r,s=Nt.Pcdata),s===Nt.Pcdata){if(r!==o){l+=e.substr(o,r-o);let g=new Xo;g.nodeType=Le.Text,g.value=l,n.addChild(g)}return r}if(s===Nt.Escape&&u===Nt.Pcdata){l+="&",l+=e.substr(o,r-o);let g=new Xo;return g.nodeType=Le.Text,g.value=l,n.addChild(g),r}throw new Bs("Unexpected end",e,r)}static isValidChar(e){return e>=lt.CharCodeLowerA&&e<=lt.CharCodeLowerZ||e>=lt.CharCodeUpperA&&e<=lt.CharCodeUpperZ||e>=lt.CharCode0&&e<=lt.CharCode9||e===lt.CharCodeColon||e===lt.CharCodeDot||e===lt.CharCodeUnderscore||e===lt.CharCodeMinus}}lt.CharCodeLF=10;lt.CharCodeTab=9;lt.CharCodeCR=13;lt.CharCodeSpace=32;lt.CharCodeLowerThan=60;lt.CharCodeAmp=38;lt.CharCodeBrackedClose=93;lt.CharCodeBrackedOpen=91;lt.CharCodeGreaterThan=62;lt.CharCodeExclamation=33;lt.CharCodeUpperD=68;lt.CharCodeLowerD=100;lt.CharCodeMinus=45;lt.CharCodeQuestion=63;lt.CharCodeSlash=47;lt.CharCodeEquals=61;lt.CharCodeDoubleQuote=34;lt.CharCodeSingleQuote=39;lt.CharCodeSharp=35;lt.CharCodeLowerX=120;lt.CharCodeLowerA=97;lt.CharCodeLowerZ=122;lt.CharCodeUpperA=65;lt.CharCodeUpperZ=90;lt.CharCode0=48;lt.CharCode9=57;lt.CharCodeColon=58;lt.CharCodeDot=46;lt.CharCodeUnderscore=95;lt.CharCodeSemi=59;lt.Escapes=new Map([["lt","<"],["gt",">"],["amp","&"],["quot",'"'],["apos","'"]]);class UM{static write(e,r,n){const i=new UM(r,n);return i.writeNode(e),i.toString()}constructor(e,r){this._result=[],this._indention=e,this._xmlHeader=r,this._currentIndention="",this._isStartOfLine=!0}writeNode(e){switch(e.nodeType){case Le.None:break;case Le.Element:this._result.length>0&&this.writeLine(),this.write(`<${e.localName}`);for(const[r,n]of e.attributes)this.write(` ${r}="`),this.writeAttributeValue(n),this.write('"');if(e.childNodes.length===0)this.write("/>");else{if(this.write(">"),e.childNodes.length===1&&!e.firstElement)this.writeNode(e.childNodes[0]);else{this.indent();for(const r of e.childNodes)r.nodeType===Le.Element&&this.writeNode(r);this.unindend(),this.writeLine()}this.write(`</${e.localName}>`)}break;case Le.Text:e.value&&this.write(e.value);break;case Le.CDATA:e.value!==null&&this.write(`<![CDATA[${e.value}]]>`);break;case Le.Document:this._xmlHeader&&this.write('<?xml version="1.0" encoding="utf-8"?>');for(const r of e.childNodes)this.writeNode(r);break;case Le.DocumentType:this.write(`<!DOCTYPE ${e.value}>`);break}}unindend(){this._currentIndention=this._currentIndention.substr(0,this._currentIndention.length-this._indention.length)}indent(){this._currentIndention+=this._indention}writeAttributeValue(e){for(let r=0;r<e.length;r++){const n=e.charAt(r);switch(n){case"<":this._result.push("&lt;");break;case">":this._result.push("&gt;");break;case"&":this._result.push("&amp;");break;case"'":this._result.push("&apos;");break;case'"':this._result.push("&quot;");break;default:this._result.push(n);break}}}write(e){this._isStartOfLine&&this._result.push(this._currentIndention),this._result.push(e),this._isStartOfLine=!1}writeLine(e=null){e&&this.write(e),this._indention.length>0&&!this._isStartOfLine&&(this._result.push(`
`),this._isStartOfLine=!0)}toString(){return this._result.join("").trimRight()}}class GM extends Xo{constructor(){super(),this.nodeType=Le.Document}parse(e){lt.parse(e,0,this)}toString(){return this.toFormattedString()}toFormattedString(e="",r=!1){return UM.write(this,e,r)}}var He;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(He||(He={}));class ywe{constructor(){this.id="",this.dots=0,this.tupletDenominator=-1,this.tupletNumerator=-1,this.value=oe.Quarter}}class bwe{constructor(){this.name="",this.path="",this.role="",this.program=0}get uniqueId(){return this.path+";"+this.name+";"+this.role}}class lo{constructor(){this._hasAnacrusis=!1,this._skipApplyLyrics=!1}parseXml(e,r){this._masterTrackAutomations=new Map,this._automationsPerTrackIdAndBarIndex=new Map,this._tracksMapping=[],this._tracksById=new Map,this._masterBars=[],this._barsOfMasterBar=[],this._voicesOfBar=new Map,this._barsById=new Map,this._voiceById=new Map,this._beatsOfVoice=new Map,this._beatById=new Map,this._rhythmOfBeat=new Map,this._rhythmById=new Map,this._notesOfBeat=new Map,this._noteById=new Map,this._tappedNotes=new Map,this._lyricsByTrack=new Map,this._soundsByTrack=new Map,this._skipApplyLyrics=!1;let n=new GM;try{n.parse(e)}catch(i){throw new Yn("Could not parse XML",i)}if(this.parseDom(n),this.buildModel(),this.score.finish(r),!this._skipApplyLyrics&&this._lyricsByTrack.size>0)for(const[i,s]of this._lyricsByTrack)this._tracksById.get(i).applyLyrics(s)}parseDom(e){let r=e.firstElement;if(r)if(r.localName==="GPIF"){this.score=new vh;for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Score":this.parseScoreNode(n);break;case"MasterTrack":this.parseMasterTrackNode(n);break;case"Tracks":this.parseTracksNode(n);break;case"MasterBars":this.parseMasterBarsNode(n);break;case"Bars":this.parseBars(n);break;case"Voices":this.parseVoices(n);break;case"Beats":this.parseBeats(n);break;case"Notes":this.parseNotes(n);break;case"Rhythms":this.parseRhythms(n);break}}else throw new Yn("Root node of XML was not GPIF")}parseScoreNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Title":this.score.title=r.firstChild.innerText;break;case"SubTitle":this.score.subTitle=r.firstChild.innerText;break;case"Artist":this.score.artist=r.firstChild.innerText;break;case"Album":this.score.album=r.firstChild.innerText;break;case"Words":this.score.words=r.firstChild.innerText;break;case"Music":this.score.music=r.firstChild.innerText;break;case"WordsAndMusic":if(r.firstChild&&r.firstChild.innerText!==""){let n=r.firstChild.innerText;n&&!this.score.words&&(this.score.words=n),n&&!this.score.music&&(this.score.music=n)}break;case"Copyright":this.score.copyright=r.firstChild.innerText;break;case"Tabber":this.score.tab=r.firstChild.innerText;break;case"Instructions":this.score.instructions=r.firstChild.innerText;break;case"Notices":this.score.notices=r.firstChild.innerText;break;case"ScoreSystemsDefaultLayout":this.score.defaultSystemsLayout=parseInt(r.innerText);break;case"ScoreSystemsLayout":this.score.systemsLayout=r.innerText.split(" ").map(n=>parseInt(n));break}}parseMasterTrackNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Automations":this.parseAutomations(r,this._masterTrackAutomations,null);break;case"Tracks":this._tracksMapping=r.innerText.split(" ");break;case"Anacrusis":this._hasAnacrusis=!0;break}}parseAutomations(e,r,n){for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Automation":this.parseAutomation(i,r,n);break}}parseAutomation(e,r,n){let i=null,s=!1,a=-1,o=0,l=0,u=null,c=0,h=null;for(let m of e.childNodes)if(m.nodeType===Le.Element)switch(m.localName){case"Type":i=m.innerText;break;case"Linear":s=m.innerText.toLowerCase()==="true";break;case"Bar":a=parseInt(m.innerText);break;case"Position":o=parseFloat(m.innerText);break;case"Value":if(m.firstElement&&m.firstElement.nodeType===Le.CDATA)u=m.innerText;else{let g=m.innerText.split(" ");g.length===1?(l=parseFloat(g[0]),c=1):(l=parseFloat(g[0]),c=parseInt(g[1]))}break;case"Text":h=m.innerText;break}if(!i)return;let f=null;switch(i){case"Tempo":f=Vi.buildTempoAutomation(s,o,l,c);break;case"Sound":u&&n&&n.has(u)&&(f=Vi.buildInstrumentAutomation(s,o,n.get(u).program));break}f&&(h&&(f.text=h),a>=0&&(r.has(a)||r.set(a,[]),r.get(a).push(f)))}parseTracksNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Track":this.parseTrack(r);break}}parseTrack(e){this._articulationByName=new Map;let r=new Hl;r.ensureStaveCount(1);let n=r.staves[0];n.showStandardNotation=!0;let i=e.getAttribute("id");for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":r.name=s.innerText;break;case"Color":let a=s.innerText.split(" ");if(a.length>=3){let u=parseInt(a[0]),c=parseInt(a[1]),h=parseInt(a[2]);r.color=new fn(u,c,h,255)}break;case"Instrument":let o=s.getAttribute("ref");(o.endsWith("-gs")||o.endsWith("GrandStaff"))&&(r.ensureStaveCount(2),r.staves[1].showStandardNotation=!0);break;case"InstrumentSet":this.parseInstrumentSet(r,s);break;case"NotationPatch":this.parseNotationPatch(r,s);break;case"ShortName":r.shortName=s.innerText;break;case"SystemsDefautLayout":r.defaultSystemsLayout=parseInt(s.innerText);break;case"SystemsLayout":r.systemsLayout=s.innerText.split(" ").map(u=>parseInt(u));break;case"Lyrics":this.parseLyrics(i,s);break;case"Properties":this.parseTrackProperties(r,s);break;case"GeneralMidi":case"MidiConnection":case"MIDISettings":this.parseGeneralMidi(r,s);break;case"Sounds":this.parseSounds(i,r,s);break;case"PlaybackState":let l=s.innerText;r.playbackInfo.isSolo=l==="Solo",r.playbackInfo.isMute=l==="Mute";break;case"PartSounding":this.parsePartSounding(r,s);break;case"Staves":this.parseStaves(r,s);break;case"Transpose":this.parseTranspose(r,s);break;case"RSE":this.parseRSE(r,s);break;case"Automations":this.parseTrackAutomations(i,s);break}this._tracksById.set(i,r)}parseTrackAutomations(e,r){const n=new Map;this._automationsPerTrackIdAndBarIndex.set(e,n),this.parseAutomations(r,n,this._soundsByTrack.get(e))}parseNotationPatch(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break;case"Elements":this.parseElements(e,n);break}}parseInstrumentSet(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Type":switch(n.innerText){case"drumKit":for(let s of e.staves)s.isPercussion=!0;break}if(n.innerText==="drumKit")for(let s of e.staves)s.isPercussion=!0;break;case"Elements":this.parseElements(e,n);break;case"LineCount":const i=parseInt(n.innerText);for(let s of e.staves)s.standardNotationLineCount=i;break}}parseElements(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Element":this.parseElement(e,n);break}}parseElement(e,r){const n=r.findChildElement("Type"),i=n?n.innerText:"";for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":case"Articulations":this.parseArticulations(e,s,i);break}}parseArticulations(e,r,n){for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Articulation":this.parseArticulation(e,i,n);break}}parseArticulation(e,r,n){const i=new nt;i.outputMidiNumber=-1,i.elementType=n;let s="";for(let a of r.childNodes)if(a.nodeType===Le.Element){const o=a.innerText;switch(a.localName){case"Name":s=a.innerText;break;case"OutputMidiNumber":o.length>0&&(i.outputMidiNumber=parseInt(o));break;case"TechniqueSymbol":i.techniqueSymbol=this.parseTechniqueSymbol(o);break;case"TechniquePlacement":switch(o){case"outside":i.techniqueSymbolPlacement=jt.Bottom;break;case"inside":i.techniqueSymbolPlacement=jt.Middle;break;case"above":i.techniqueSymbolPlacement=jt.Bottom;break;case"below":i.techniqueSymbolPlacement=jt.Top;break}break;case"Noteheads":const l=o.split(" ");l.length>=1&&(i.noteHeadDefault=this.parseNoteHead(l[0])),l.length>=2&&(i.noteHeadHalf=this.parseNoteHead(l[1])),l.length>=3&&(i.noteHeadWhole=this.parseNoteHead(l[2])),i.noteHeadHalf==R.None&&(i.noteHeadHalf=i.noteHeadDefault),i.noteHeadWhole==R.None&&(i.noteHeadWhole=i.noteHeadDefault);break;case"StaffLine":o.length>0&&(i.staffLine=parseInt(o));break}}i.outputMidiNumber!==-1?(e.percussionArticulations.push(i),s.length>0&&this._articulationByName.set(s,i)):s.length>0&&this._articulationByName.has(s)&&(this._articulationByName.get(s).staffLine=i.staffLine)}parseTechniqueSymbol(e){switch(e){case"pictEdgeOfCymbal":return R.PictEdgeOfCymbal;case"articStaccatoAbove":return R.ArticStaccatoAbove;case"noteheadParenthesis":return R.NoteheadParenthesis;case"stringsUpBow":return R.StringsUpBow;case"stringsDownBow":return R.StringsDownBow;case"guitarGolpe":return R.GuitarGolpe;default:return R.None}}parseNoteHead(e){switch(e){case"noteheadDoubleWholeSquare":return R.NoteheadDoubleWholeSquare;case"noteheadDoubleWhole":return R.NoteheadDoubleWhole;case"noteheadWhole":return R.NoteheadWhole;case"noteheadHalf":return R.NoteheadHalf;case"noteheadBlack":return R.NoteheadBlack;case"noteheadNull":return R.NoteheadNull;case"noteheadXOrnate":return R.NoteheadXOrnate;case"noteheadTriangleUpWhole":return R.NoteheadTriangleUpWhole;case"noteheadTriangleUpHalf":return R.NoteheadTriangleUpHalf;case"noteheadTriangleUpBlack":return R.NoteheadTriangleUpBlack;case"noteheadDiamondBlackWide":return R.NoteheadDiamondBlackWide;case"noteheadDiamondWhite":return R.NoteheadDiamondWhite;case"noteheadDiamondWhiteWide":return R.NoteheadDiamondWhiteWide;case"noteheadCircleX":return R.NoteheadCircleX;case"noteheadXWhole":return R.NoteheadXWhole;case"noteheadXHalf":return R.NoteheadXHalf;case"noteheadXBlack":return R.NoteheadXBlack;case"noteheadParenthesis":return R.NoteheadParenthesis;case"noteheadSlashedBlack2":return R.NoteheadSlashedBlack2;case"noteheadCircleSlash":return R.NoteheadCircleSlash;case"noteheadHeavyX":return R.NoteheadHeavyX;case"noteheadHeavyXHat":return R.NoteheadHeavyXHat;default:return Fe.warning("GPIF","Unknown notehead symbol",e),R.None}}parseStaves(e,r){let n=0;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Staff":e.ensureStaveCount(n+1);let s=e.staves[n];this.parseStaff(s,i),n++;break}}parseStaff(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Properties":this.parseStaffProperties(e,n);break}}parseStaffProperties(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Property":this.parseStaffProperty(e,n);break}}parseStaffProperty(e,r){switch(r.getAttribute("name")){case"Tuning":for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Pitches":let a=r.findChildElement("Pitches").innerText.split(" "),o=new Array(a.length);for(let l=0;l<o.length;l++)o[o.length-1-l]=parseInt(a[l]);e.stringTuning.tunings=o;break;case"Label":e.stringTuning.name=s.innerText;break}e.isPercussion||(e.showTablature=!0);break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForStaff(e,r);break;case"CapoFret":let i=parseInt(r.findChildElement("Fret").innerText);e.capo=i;break}}parseLyrics(e,r){let n=[];for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Line":n.push(this.parseLyricsLine(i));break}this._lyricsByTrack.set(e,n)}parseLyricsLine(e){let r=new Gn;for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Offset":r.startBar=parseInt(n.innerText);break;case"Text":r.text=n.innerText;break}return r}parseDiagramCollectionForTrack(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Item":this.parseDiagramItemForTrack(e,i);break}}parseDiagramCollectionForStaff(e,r){let n=r.findChildElement("Items");for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Item":this.parseDiagramItemForStaff(e,i);break}}parseDiagramItemForTrack(e,r){let n=new zc,i=r.getAttribute("id");for(let s of e.staves)s.addChord(i,n);this.parseDiagramItemForChord(n,r)}parseDiagramItemForStaff(e,r){let n=new zc,i=r.getAttribute("id");e.addChord(i,n),this.parseDiagramItemForChord(n,r)}parseDiagramItemForChord(e,r){e.name=r.getAttribute("name");let n=r.findChildElement("Diagram");if(!n){e.showDiagram=!1,e.showFingering=!1;return}let i=parseInt(n.getAttribute("stringCount")),s=parseInt(n.getAttribute("baseFret"));e.firstFret=s+1;for(let a=0;a<i;a++)e.strings.push(-1);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"Fret":let o=parseInt(a.getAttribute("string"));e.strings[i-o-1]=s+parseInt(a.getAttribute("fret"));break;case"Fingering":let l=new Map;for(let u of a.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"Position":let c=Ot.Unknown,h=s+parseInt(u.getAttribute("fret"));switch(u.getAttribute("finger")){case"Index":c=Ot.IndexFinger;break;case"Middle":c=Ot.MiddleFinger;break;case"Rank":c=Ot.AnnularFinger;break;case"Pinky":c=Ot.LittleFinger;break;case"Thumb":c=Ot.Thumb;break}c!==Ot.Unknown&&(l.has(c)?e.barreFrets.push(h):l.set(c,!0));break}break;case"Property":switch(a.getAttribute("name")){case"ShowName":e.showName=a.getAttribute("value")==="true";break;case"ShowDiagram":e.showDiagram=a.getAttribute("value")==="true";break;case"ShowFingering":e.showFingering=a.getAttribute("value")==="true";break}break}}parseTrackProperties(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Property":this.parseTrackProperty(e,n);break}}parseTrackProperty(e,r){switch(r.getAttribute("name")){case"Tuning":let i=r.findChildElement("Pitches").innerText.split(" "),s=new Array(i.length);for(let o=0;o<s.length;o++)s[s.length-1-o]=parseInt(i[o]);for(let o of e.staves)o.stringTuning.tunings=s,o.showStandardNotation=!0,o.showTablature=!0;break;case"DiagramCollection":case"ChordCollection":this.parseDiagramCollectionForTrack(e,r);break;case"CapoFret":let a=parseInt(r.findChildElement("Fret").innerText);for(let o of e.staves)o.capo=a;break}}parseGeneralMidi(e,r){for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Program":e.playbackInfo.program=parseInt(i.innerText);break;case"Port":e.playbackInfo.port=parseInt(i.innerText);break;case"PrimaryChannel":e.playbackInfo.primaryChannel=parseInt(i.innerText);break;case"SecondaryChannel":e.playbackInfo.secondaryChannel=parseInt(i.innerText);break}if(r.getAttribute("table")==="Percussion")for(let i of e.staves)i.isPercussion=!0}parseSounds(e,r,n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Sound":this.parseSound(e,r,i);break}}parseSound(e,r,n){const i=new bwe;for(let s of n.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Name":i.name=s.innerText;break;case"Path":i.path=s.innerText;break;case"Role":i.role=s.innerText;break;case"MIDI":this.parseSoundMidi(i,s);break}(i.role==="Factory"||r.playbackInfo.program===0)&&(r.playbackInfo.program=i.program),this._soundsByTrack.has(e)||this._soundsByTrack.set(e,new Map),this._soundsByTrack.get(e).set(i.uniqueId,i)}parseSoundMidi(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Program":e.program=parseInt(n.innerText);break}}parsePartSounding(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"TranspositionPitch":for(let i of e.staves)i.displayTranspositionPitch=parseInt(n.innerText);break}}parseTranspose(e,r){let n=0,i=0;for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Chromatic":i=parseInt(s.innerText);break;case"Octave":n=parseInt(s.innerText);break}for(let s of e.staves)s.displayTranspositionPitch=n*12+i}parseRSE(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"ChannelStrip":this.parseChannelStrip(e,n);break}}parseChannelStrip(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Parameters":this.parseChannelStripParameters(e,n);break}}parseChannelStripParameters(e,r){if(r.firstChild&&r.firstChild.value){let n=r.firstChild.value.split(" ");n.length>=12&&(e.playbackInfo.balance=Math.floor(parseFloat(n[11])*16),e.playbackInfo.volume=Math.floor(parseFloat(n[12])*16))}}parseMasterBarsNode(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"MasterBar":this.parseMasterBar(r);break}}parseMasterBar(e){let r=new Ru;this._masterBars.length===0&&this._hasAnacrusis&&(r.isAnacrusis=!0);for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Time":let i=n.innerText.split("/");r.timeSignatureNumerator=parseInt(i[0]),r.timeSignatureDenominator=parseInt(i[1]);break;case"DoubleBar":r.isDoubleBar=!0;break;case"Section":r.section=new O1,r.section.marker=n.findChildElement("Letter").innerText,r.section.text=n.findChildElement("Text").innerText;break;case"Repeat":n.getAttribute("start").toLowerCase()==="true"&&(r.isRepeatStart=!0),n.getAttribute("end").toLowerCase()==="true"&&n.getAttribute("count")&&(r.repeatCount=parseInt(n.getAttribute("count")));break;case"AlternateEndings":let s=n.innerText.split(" "),a=0;for(let l=0;l<s.length;l++)a=a|1<<-1+parseInt(s[l]);r.alternateEndings=a;break;case"Bars":this._barsOfMasterBar.push(n.innerText.split(" "));break;case"TripletFeel":switch(n.innerText){case"NoTripletFeel":r.tripletFeel=qt.NoTripletFeel;break;case"Triplet8th":r.tripletFeel=qt.Triplet8th;break;case"Triplet16th":r.tripletFeel=qt.Triplet16th;break;case"Dotted8th":r.tripletFeel=qt.Dotted8th;break;case"Dotted16th":r.tripletFeel=qt.Dotted16th;break;case"Scottish8th":r.tripletFeel=qt.Scottish8th;break;case"Scottish16th":r.tripletFeel=qt.Scottish16th;break}break;case"Key":r.keySignature=parseInt(n.findChildElement("AccidentalCount").innerText);let o=n.findChildElement("Mode");if(o)switch(o.innerText.toLowerCase()){case"major":r.keySignatureType=Wc.Major;break;case"minor":r.keySignatureType=Wc.Minor;break}break;case"Fermatas":this.parseFermatas(r,n);break;case"XProperties":this.parseMasterBarXProperties(n,r);break}this._masterBars.push(r)}parseFermatas(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Fermata":this.parseFermata(e,n);break}}parseFermata(e,r){let n=0,i=new HM;for(let s of r.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"Type":switch(s.innerText){case"Short":i.type=ol.Short;break;case"Medium":i.type=ol.Medium;break;case"Long":i.type=ol.Long;break}break;case"Length":i.length=parseFloat(s.innerText);break;case"Offset":let a=s.innerText.split("/");if(a.length===2){let o=parseInt(a[0]),l=parseInt(a[1]);n=o/l*zt.QuarterTime|0}break}e.addFermata(n,i)}parseBars(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Bar":this.parseBar(r);break}}parseBar(e){let r=new Vu,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Voices":this._voicesOfBar.set(n,i.innerText.split(" "));break;case"Clef":switch(i.innerText){case"Neutral":r.clef=$t.Neutral;break;case"G2":r.clef=$t.G2;break;case"F4":r.clef=$t.F4;break;case"C4":r.clef=$t.C4;break;case"C3":r.clef=$t.C3;break}break;case"Ottavia":switch(i.innerText){case"8va":r.clefOttava=gr._8va;break;case"15ma":r.clefOttava=gr._15ma;break;case"8vb":r.clefOttava=gr._8vb;break;case"15mb":r.clefOttava=gr._15mb;break}break;case"SimileMark":switch(i.innerText){case"Simple":r.simileMark=Da.Simple;break;case"FirstOfDouble":r.simileMark=Da.FirstOfDouble;break;case"SecondOfDouble":r.simileMark=Da.SecondOfDouble;break}break;case"XProperties":this.parseBarXProperties(i,r);break}this._barsById.set(n,r)}parseVoices(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Voice":this.parseVoice(r);break}}parseVoice(e){let r=new Ul,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Beats":this._beatsOfVoice.set(n,i.innerText.split(" "));break}this._voiceById.set(n,r)}parseBeats(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Beat":this.parseBeat(r);break}}parseBeat(e){let r=new Wi,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Notes":this._notesOfBeat.set(n,i.innerText.split(" "));break;case"Rhythm":this._rhythmOfBeat.set(n,i.getAttribute("ref"));break;case"Fadding":i.innerText==="FadeIn"&&(r.fadeIn=!0);break;case"Tremolo":switch(i.innerText){case"1/2":r.tremoloSpeed=oe.Eighth;break;case"1/4":r.tremoloSpeed=oe.Sixteenth;break;case"1/8":r.tremoloSpeed=oe.ThirtySecond;break}break;case"Chord":r.chordId=i.innerText;break;case"Hairpin":switch(i.innerText){case"Crescendo":r.crescendo=Os.Crescendo;break;case"Decrescendo":r.crescendo=Os.Decrescendo;break}break;case"Arpeggio":i.innerText==="Up"?r.brushType=Qr.ArpeggioUp:r.brushType=Qr.ArpeggioDown;break;case"Properties":this.parseBeatProperties(i,r);break;case"XProperties":this.parseBeatXProperties(i,r);break;case"FreeText":r.text=i.innerText;break;case"TransposedPitchStemOrientation":switch(i.innerText){case"Upward":r.preferredBeamDirection=He.Up;break;case"Downward":r.preferredBeamDirection=He.Down;break}break;case"Dynamic":switch(i.innerText){case"PPP":r.dynamics=Kt.PPP;break;case"PP":r.dynamics=Kt.PP;break;case"P":r.dynamics=Kt.P;break;case"MP":r.dynamics=Kt.MP;break;case"MF":r.dynamics=Kt.MF;break;case"F":r.dynamics=Kt.F;break;case"FF":r.dynamics=Kt.FF;break;case"FFF":r.dynamics=Kt.FFF;break}break;case"GraceNotes":switch(i.innerText){case"OnBeat":r.graceType=_t.OnBeat;break;case"BeforeBeat":r.graceType=_t.BeforeBeat;break}break;case"Legato":i.getAttribute("origin")==="true"&&(r.isLegatoOrigin=!0);break;case"Whammy":let s=new Je(0,0);s.value=this.toBendValue(parseFloat(i.getAttribute("originValue"))),s.offset=this.toBendOffset(parseFloat(i.getAttribute("originOffset"))),r.addWhammyBarPoint(s);let a=new Je(0,0);a.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),a.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset1"))),r.addWhammyBarPoint(a);let o=new Je(0,0);o.value=this.toBendValue(parseFloat(i.getAttribute("middleValue"))),o.offset=this.toBendOffset(parseFloat(i.getAttribute("middleOffset2"))),r.addWhammyBarPoint(o);let l=new Je(0,0);l.value=this.toBendValue(parseFloat(i.getAttribute("destinationValue"))),l.offset=this.toBendOffset(parseFloat(i.getAttribute("destinationOffset"))),r.addWhammyBarPoint(l);break;case"Ottavia":switch(i.innerText){case"8va":r.ottava=gr._8va;break;case"8vb":r.ottava=gr._8vb;break;case"15ma":r.ottava=gr._15ma;break;case"15mb":r.ottava=gr._15mb;break}break;case"Lyrics":r.lyrics=this.parseBeatLyrics(i),this._skipApplyLyrics=!0;break}this._beatById.set(n,r)}parseBeatLyrics(e){const r=[];for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"Line":r.push(n.innerText);break}return r}parseBeatXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":let i=n.getAttribute("id"),s=0;switch(i){case"1124204545":s=parseInt(n.findChildElement("Int").innerText),r.invertBeamDirection=s===1;break;case"687935489":s=parseInt(n.findChildElement("Int").innerText),r.brushDuration=s;break}break}}parseBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124139520":const s=n.findChildElement("Double")??n.findChildElement("Float");r.displayScale=parseFloat(s.innerText);break}break}}parseMasterBarXProperties(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"XProperty":switch(n.getAttribute("id")){case"1124073984":r.displayScale=parseFloat(n.findChildElement("Double").innerText);break}break}}parseBeatProperties(e,r){let n=!1,i=null,s=null,a=null,o=null,l=null;for(let u of e.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"Property":switch(u.getAttribute("name")){case"Brush":u.findChildElement("Direction").innerText==="Up"?r.brushType=Qr.BrushUp:r.brushType=Qr.BrushDown;break;case"PickStroke":u.findChildElement("Direction").innerText==="Up"?r.pickStroke=Ii.Up:r.pickStroke=Ii.Down;break;case"Slapped":u.findChildElement("Enable")&&(r.slap=!0);break;case"Popped":u.findChildElement("Enable")&&(r.pop=!0);break;case"VibratoWTremBar":switch(u.findChildElement("Strength").innerText){case"Wide":r.vibrato=hr.Wide;break;case"Slight":r.vibrato=hr.Slight;break}break;case"WhammyBar":n=!0;break;case"WhammyBarExtend":break;case"WhammyBarOriginValue":i||(i=new Je(0,0)),i.value=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarOriginOffset":i||(i=new Je(0,0)),i.offset=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleValue":s=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset1":a=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarMiddleOffset2":o=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarDestinationValue":l||(l=new Je(Je.MaxPosition,0)),l.value=this.toBendValue(parseFloat(u.findChildElement("Float").innerText));break;case"WhammyBarDestinationOffset":l||(l=new Je(0,0)),l.offset=this.toBendOffset(parseFloat(u.findChildElement("Float").innerText));break}break}n&&(i||(i=new Je(0,0)),l||(l=new Je(Je.MaxPosition,0)),r.addWhammyBarPoint(i),a&&s&&r.addWhammyBarPoint(new Je(a,s)),o&&s&&r.addWhammyBarPoint(new Je(o,s)),!a&&!o&&s&&r.addWhammyBarPoint(new Je(Je.MaxPosition/2|0,s)),r.addWhammyBarPoint(l))}parseNotes(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Note":this.parseNote(r);break}}parseNote(e){let r=new _n,n=e.getAttribute("id");for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Properties":this.parseNoteProperties(i,r,n);break;case"AntiAccent":i.innerText.toLowerCase()==="normal"&&(r.isGhost=!0);break;case"LetRing":r.isLetRing=!0;break;case"Trill":r.trillValue=parseInt(i.innerText),r.trillSpeed=oe.Sixteenth;break;case"Accent":let s=parseInt(i.innerText);s&1&&(r.isStaccato=!0),s&4&&(r.accentuated=Xn.Heavy),s&8&&(r.accentuated=Xn.Normal);break;case"Tie":i.getAttribute("destination").toLowerCase()==="true"&&(r.isTieDestination=!0);break;case"Vibrato":switch(i.innerText){case"Slight":r.vibrato=hr.Slight;break;case"Wide":r.vibrato=hr.Wide;break}break;case"LeftFingering":switch(r.isFingering=!0,i.innerText){case"P":r.leftHandFinger=Ot.Thumb;break;case"I":r.leftHandFinger=Ot.IndexFinger;break;case"M":r.leftHandFinger=Ot.MiddleFinger;break;case"A":r.leftHandFinger=Ot.AnnularFinger;break;case"C":r.leftHandFinger=Ot.LittleFinger;break}break;case"RightFingering":switch(r.isFingering=!0,i.innerText){case"P":r.rightHandFinger=Ot.Thumb;break;case"I":r.rightHandFinger=Ot.IndexFinger;break;case"M":r.rightHandFinger=Ot.MiddleFinger;break;case"A":r.rightHandFinger=Ot.AnnularFinger;break;case"C":r.rightHandFinger=Ot.LittleFinger;break}break;case"InstrumentArticulation":r.percussionArticulation=parseInt(i.innerText);break}this._noteById.set(n,r)}parseNoteProperties(e,r,n){let i=!1,s=null,a=null,o=null,l=null,u=null,c=-1,h=-1;for(let f of e.childNodes)if(f.nodeType===Le.Element)switch(f.localName){case"Property":switch(f.getAttribute("name")){case"String":r.string=parseInt(f.findChildElement("String").innerText)+1;break;case"Fret":r.fret=parseInt(f.findChildElement("Fret").innerText);break;case"Element":c=parseInt(f.findChildElement("Element").innerText);break;case"Variation":h=parseInt(f.findChildElement("Variation").innerText);break;case"Tapped":this._tappedNotes.set(n,!0);break;case"HarmonicType":let g=f.findChildElement("HType");if(g)switch(g.innerText){case"NoHarmonic":r.harmonicType=bt.None;break;case"Natural":r.harmonicType=bt.Natural;break;case"Artificial":r.harmonicType=bt.Artificial;break;case"Pinch":r.harmonicType=bt.Pinch;break;case"Tap":r.harmonicType=bt.Tap;break;case"Semi":r.harmonicType=bt.Semi;break;case"Feedback":r.harmonicType=bt.Feedback;break}break;case"HarmonicFret":let y=f.findChildElement("HFret");y&&(r.harmonicValue=parseFloat(y.innerText));break;case"Muted":f.findChildElement("Enable")&&(r.isDead=!0);break;case"PalmMuted":f.findChildElement("Enable")&&(r.isPalmMute=!0);break;case"Octave":r.octave=parseInt(f.findChildElement("Number").innerText),r.tone===-1&&(r.tone=0);break;case"Tone":r.tone=parseInt(f.findChildElement("Step").innerText);break;case"ConcertPitch":this.parseConcertPitch(f,r);break;case"Bended":i=!0;break;case"BendOriginValue":s||(s=new Je(0,0)),s.value=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendOriginOffset":s||(s=new Je(0,0)),s.offset=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleValue":a=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleOffset1":o=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendMiddleOffset2":l=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"BendDestinationValue":u||(u=new Je(Je.MaxPosition,0)),u.value=this.toBendValue(parseFloat(f.findChildElement("Float").innerText));break;case"BendDestinationOffset":u||(u=new Je(0,0)),u.offset=this.toBendOffset(parseFloat(f.findChildElement("Float").innerText));break;case"HopoOrigin":f.findChildElement("Enable")&&(r.isHammerPullOrigin=!0);break;case"HopoDestination":break;case"LeftHandTapped":r.isLeftHandTapped=!0;break;case"Slide":let b=parseInt(f.findChildElement("Flags").innerText);b&1?r.slideOutType=Ht.Shift:b&2?r.slideOutType=Ht.Legato:b&4?r.slideOutType=Ht.OutDown:b&8&&(r.slideOutType=Ht.OutUp),b&16?r.slideInType=xi.IntoFromBelow:b&32&&(r.slideInType=xi.IntoFromAbove),b&64?r.slideOutType=Ht.PickSlideDown:b&128&&(r.slideOutType=Ht.PickSlideUp);break}break}i&&(s||(s=new Je(0,0)),u||(u=new Je(Je.MaxPosition,0)),r.addBendPoint(s),o&&a&&r.addBendPoint(new Je(o,a)),l&&a&&r.addBendPoint(new Je(l,a)),!o&&!l&&a&&r.addBendPoint(new Je(Je.MaxPosition/2|0,a)),r.addBendPoint(u)),c!==-1&&h!==-1&&(r.percussionArticulation=Ni.articulationFromElementVariation(c,h))}parseConcertPitch(e,r){const n=e.findChildElement("Pitch");if(n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"Accidental":switch(i.innerText){case"x":r.accidentalMode=$n.ForceDoubleSharp;break;case"#":r.accidentalMode=$n.ForceSharp;break;case"b":r.accidentalMode=$n.ForceFlat;break;case"bb":r.accidentalMode=$n.ForceDoubleFlat;break}break}}}toBendValue(e){return e*lo.BendPointValueFactor|0}toBendOffset(e){return e*lo.BendPointPositionFactor}parseRhythms(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"Rhythm":this.parseRhythm(r);break}}parseRhythm(e){let r=new ywe,n=e.getAttribute("id");r.id=n;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"NoteValue":switch(i.innerText){case"Long":r.value=oe.QuadrupleWhole;break;case"DoubleWhole":r.value=oe.DoubleWhole;break;case"Whole":r.value=oe.Whole;break;case"Half":r.value=oe.Half;break;case"Quarter":r.value=oe.Quarter;break;case"Eighth":r.value=oe.Eighth;break;case"16th":r.value=oe.Sixteenth;break;case"32nd":r.value=oe.ThirtySecond;break;case"64th":r.value=oe.SixtyFourth;break;case"128th":r.value=oe.OneHundredTwentyEighth;break;case"256th":r.value=oe.TwoHundredFiftySixth;break}break;case"PrimaryTuplet":r.tupletNumerator=parseInt(i.getAttribute("num")),r.tupletDenominator=parseInt(i.getAttribute("den"));break;case"AugmentationDot":r.dots=parseInt(i.getAttribute("count"));break}this._rhythmById.set(n,r)}buildModel(){for(let e=0,r=this._masterBars.length;e<r;e++){let n=this._masterBars[e];this.score.addMasterBar(n)}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e);this.score.addTrack(r)}for(let e of this._barsOfMasterBar){let r=0;for(let n=0,i=0;n<e.length&&i<this.score.tracks.length;n++){let s=e[n];if(s!==lo.InvalidId){let a=this._barsById.get(s),o=this.score.tracks[i],l=o.staves[r];if(l.addBar(a),this._voicesOfBar.has(s))for(let u of this._voicesOfBar.get(s))if(u!==lo.InvalidId){let c=this._voiceById.get(u);if(a.addVoice(c),this._beatsOfVoice.has(u)){for(let h of this._beatsOfVoice.get(u))if(h!==lo.InvalidId){let f=WM.clone(this._beatById.get(h));c.addBeat(f);let m=this._rhythmOfBeat.get(h),g=this._rhythmById.get(m);if(f.duration=g.value,f.dots=g.dots,f.tupletNumerator=g.tupletNumerator,f.tupletDenominator=g.tupletDenominator,this._notesOfBeat.has(h)){for(let y of this._notesOfBeat.get(h))if(y!==lo.InvalidId){const b=_z.clone(this._noteById.get(y));l.isPercussion?(b.fret=-1,b.string=-1):b.percussionArticulation=-1,f.addNote(b),this._tappedNotes.has(y)&&(f.tap=!0)}}}}}else{let c=new Ul;a.addVoice(c);let h=new Wi;h.isEmpty=!0,h.duration=oe.Quarter,c.addBeat(h)}r===o.staves.length-1?(i++,r=0):r++}else i++}}for(let e of this._tracksMapping){if(!e)continue;let r=this._tracksById.get(e),n=!1;for(const i of r.staves)if(i.isPercussion){n=!0;break}if(n||(r.percussionArticulations=[]),this._automationsPerTrackIdAndBarIndex.has(e)){const i=this._automationsPerTrackIdAndBarIndex.get(e);for(const[s,a]of i)if(r.staves.length>0&&s<r.staves[0].bars.length){const o=r.staves[0].bars[s];if(o.voices.length>0&&o.voices[0].beats.length>0){const l=o.voices[0].beats[0];for(const u of a)l.automations.push(u)}}}}for(const[e,r]of this._masterTrackAutomations){let n=this.score.masterBars[e];for(let i=0,s=r.length;i<s;i++){let a=r[i];a.type===ci.Tempo&&(e===0&&(this.score.tempo=a.value|0,a.text&&(this.score.tempoLabel=a.text)),n.tempoAutomation=a)}}}}lo.InvalidId="-1";lo.BendPointPositionFactor=Je.MaxPosition/100;lo.BendPointValueFactor=1/25;class S_{constructor(){this.isMultiRest=!1,this.trackViewGroups=[]}}class xF{constructor(){this.showSlash=!1,this.showStandardNotation=!1,this.showTablature=!1}}class Bz{apply(e){if(this.scoreViews.length>0){let r=0;for(let n of this.scoreViews[0].trackViewGroups){if(r<e.tracks.length){const i=e.tracks[r];for(const s of i.staves)s.showTablature=n.showTablature,s.showStandardNotation=n.showStandardNotation}r++}}}constructor(e){this.scoreViews=[];let r=Hi.fromBuffer(e);const n=Ce.readInt32BE(r);for(let i=0;i<n;i++){const s=new S_;this.scoreViews.push(s),s.isMultiRest=cr.gpReadBool(r);const a=Ce.readInt32BE(r);for(let o=0;o<a;o++){let l=r.readByte();l===0&&(l=1);let u=new xF;u.showStandardNotation=(l&1)!==0,u.showTablature=(l&2)!==0,u.showSlash=(l&4)!==0,s.trackViewGroups.push(u)}}}static writeForScore(e){const r=Hi.withCapacity(128),n=[new S_];for(const i of e.tracks){const s=new xF;s.showStandardNotation=i.staves[0].showStandardNotation,s.showTablature=i.staves[0].showTablature,n[0].trackViewGroups.push(s);const a=new S_;a.trackViewGroups.push(s),n.push(a)}Ce.writeInt32BE(r,n.length);for(const i of n){r.writeByte(i.isMultiRest?1:0),Ce.writeInt32BE(r,i.trackViewGroups.length);for(const s of i.trackViewGroups){let a=0;s.showStandardNotation&&(a=a|1),s.showTablature&&(a=a|2),s.showSlash&&(a=a|4),r.writeByte(a)}}return Ce.writeInt32BE(r,1),r.toArray()}}class jM{}class Tv extends jM{constructor(e){super(),this.n=e}}class xd extends jM{constructor(e,r){super(),this.left=e,this.right=r}}class jT extends jM{constructor(e,r){super(),this.n=e,this.table=r}}class Bi{static make(e,r,n,i){let s=[],a=[];if(i>32)throw new Un("Invalid huffman");for(let u=0;u<i;u++)s.push(0),a.push(0);for(let u=0;u<n;u++){let c=e[u+r];if(c>=i)throw new Un("Invalid huffman");s[c]++}let o=0;for(let u=1;u<i-1;u++)o=o+s[u]<<1,a[u]=o;let l=new Map;for(let u=0;u<n;u++){let c=e[u+r];if(c!==0){let h=a[c-1];a[c-1]=h+1,l.set(h<<5|c,u)}}return Bi.treeCompress(new xd(Bi.treeMake(l,i,0,1),Bi.treeMake(l,i,1,1)))}static treeMake(e,r,n,i){if(i>r)throw new Un("Invalid huffman");let s=n<<5|i;return e.has(s)?new Tv(e.get(s)):(n=n<<1,i+=1,new xd(Bi.treeMake(e,r,n,i),Bi.treeMake(e,r,n|1,i)))}static treeCompress(e){let r=Bi.treeDepth(e);if(r===0)return e;if(r===1){if(e instanceof xd)return new xd(Bi.treeCompress(e.left),Bi.treeCompress(e.right));throw new Un("assert")}let n=1<<r,i=[];for(let s=0;s<n;s++)i.push(new Tv(-1));return Bi.treeWalk(i,0,0,r,e),new jT(r,i)}static treeWalk(e,r,n,i,s){s instanceof xd&&i>0?(Bi.treeWalk(e,r,n+1,i-1,s.left),Bi.treeWalk(e,r|1<<n,n+1,i-1,s.right)):e[r]=Bi.treeCompress(s)}static treeDepth(e){if(e instanceof Tv)return 0;if(e instanceof jT)throw new Un("assert");if(e instanceof xd){let r=Bi.treeDepth(e.left),n=Bi.treeDepth(e.right);return 1+(r<n?r:n)}return 0}}var An;(function(t){t[t.Head=0]="Head",t[t.Block=1]="Block",t[t.CData=2]="CData",t[t.Flat=3]="Flat",t[t.Crc=4]="Crc",t[t.Dist=5]="Dist",t[t.DistOne=6]="DistOne",t[t.Done=7]="Done"})(An||(An={}));class Uo{constructor(){this.buffer=new Uint8Array(Uo.BufferSize),this.pos=0}slide(){let e=new Uint8Array(Uo.BufferSize);this.pos-=Uo.Size,e.set(this.buffer.subarray(Uo.Size,Uo.Size+this.pos),0),this.buffer=e}addBytes(e,r,n){this.pos+n>Uo.BufferSize&&this.slide(),this.buffer.set(e.subarray(r,r+n),this.pos),this.pos+=n}addByte(e){this.pos===Uo.BufferSize&&this.slide(),this.buffer[this.pos]=e,this.pos++}getLastChar(){return this.buffer[this.pos-1]}available(){return this.pos}}Uo.Size=32768;Uo.BufferSize=65536;class us{static buildFixedHuffman(){let e=[];for(let r=0;r<288;r++)e.push(r<=143?8:r<=255?9:r<=279?7:8);return Bi.make(e,0,288,10)}constructor(e){this._nbits=0,this._bits=0,this._state=An.Block,this._isFinal=!1,this._huffman=us._fixedHuffman,this._huffdist=null,this._len=0,this._dist=0,this._needed=0,this._output=null,this._outpos=0,this._lengths=[],this._window=new Uo,this._input=e;for(let r=0;r<19;r++)this._lengths.push(-1)}readBytes(e,r,n){if(this._needed=n,this._outpos=r,this._output=e,n>0)for(;this.inflateLoop(););return n-this._needed}inflateLoop(){switch(this._state){case An.Head:let e=this._input.readByte();if((e&15)!==8)throw new Un("Invalid data");let n=this._input.readByte(),i=(n&32)!==0;if(((e<<8)+n)%31!==0)throw new Un("Invalid data");if(i)throw new Un("Unsupported dictionary");return this._state=An.Block,!0;case An.Crc:return this._state=An.Done,!0;case An.Done:return!1;case An.Block:switch(this._isFinal=this.getBit(),this.getBits(2)){case 0:if(this._len=Ce.readUInt16LE(this._input),Ce.readUInt16LE(this._input)!==65535-this._len)throw new Un("Invalid data");this._state=An.Flat;let o=this.inflateLoop();return this.resetBits(),o;case 1:return this._huffman=us._fixedHuffman,this._huffdist=null,this._state=An.CData,!0;case 2:let l=this.getBits(5)+257,u=this.getBits(5)+1,c=this.getBits(4)+4;for(let f=0;f<c;f++)this._lengths[us.CodeLengthsPos[f]]=this.getBits(3);for(let f=c;f<19;f++)this._lengths[us.CodeLengthsPos[f]]=0;this._huffman=Bi.make(this._lengths,0,19,8);let h=[];for(let f=0;f<l+u;f++)h.push(0);return this.inflateLengths(h,l+u),this._huffdist=Bi.make(h,l,u,16),this._huffman=Bi.make(h,0,l,16),this._state=An.CData,!0;default:throw new Un("Invalid data")}case An.Flat:{let a=this._len<this._needed?this._len:this._needed,o=Ce.readByteArray(this._input,a);return this._len-=a,this.addBytes(o,0,a),this._len===0&&(this._state=this._isFinal?An.Crc:An.Block),this._needed>0}case An.DistOne:{let a=this._len<this._needed?this._len:this._needed;return this.addDistOne(a),this._len-=a,this._len===0&&(this._state=An.CData),this._needed>0}case An.Dist:for(;this._len>0&&this._needed>0;){let a=this._len<this._dist?this._len:this._dist,o=this._needed<a?this._needed:a;this.addDist(this._dist,o),this._len-=o}return this._len===0&&(this._state=An.CData),this._needed>0;case An.CData:let s=this.applyHuffman(this._huffman);if(s<256)return this.addByte(s),this._needed>0;if(s===256)return this._state=this._isFinal?An.Crc:An.Block,!0;{s=s-257&255;let a=us.LenExtraBitsTbl[s];if(a===-1)throw new Un("Invalid data");this._len=us.LenBaseValTbl[s]+this.getBits(a);let o=this._huffdist,l=o?this.applyHuffman(o):this.getRevBits(5);if(a=us.DistExtraBitsTbl[l],a===-1)throw new Un("Invalid data");if(this._dist=us.DistBaseValTbl[l]+this.getBits(a),this._dist>this._window.available())throw new Un("Invalid data");return this._state=this._dist===1?An.DistOne:An.Dist,!0}}return!1}addDistOne(e){let r=this._window.getLastChar();for(let n=0;n<e;n++)this.addByte(r)}addByte(e){this._window.addByte(e),this._output[this._outpos]=e,this._needed--,this._outpos++}addDist(e,r){this.addBytes(this._window.buffer,this._window.pos-e,r)}getBit(){this._nbits===0&&(this._nbits=8,this._bits=this._input.readByte());let e=(this._bits&1)===1;return this._nbits--,this._bits=this._bits>>1,e}getBits(e){for(;this._nbits<e;)this._bits=this._bits|this._input.readByte()<<this._nbits,this._nbits+=8;let r=this._bits&(1<<e)-1;return this._nbits-=e,this._bits=this._bits>>e,r}getRevBits(e){return e===0?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)}resetBits(){this._bits=0,this._nbits=0}addBytes(e,r,n){this._window.addBytes(e,r,n),this._output.set(e.subarray(r,r+n),this._outpos),this._needed-=n,this._outpos+=n}inflateLengths(e,r){let n=0,i=0;for(;n<r;){let s=this.applyHuffman(this._huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[n]=s,n++;break;case 16:let a=n+3+this.getBits(2);if(a>r)throw new Un("Invalid data");for(;n<a;)e[n]=i,n++;break;case 17:if(n+=3+this.getBits(3),n>r)throw new Un("Invalid data");break;case 18:if(n+=11+this.getBits(7),n>r)throw new Un("Invalid data");break;default:throw new Un("Invalid data")}}}applyHuffman(e){if(e instanceof Tv)return e.n;if(e instanceof xd)return this.applyHuffman(this.getBit()?e.right:e.left);if(e instanceof jT)return this.applyHuffman(e.table[this.getBits(e.n)]);throw new Un("Invalid data")}}us.LenExtraBitsTbl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];us.LenBaseValTbl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];us.DistExtraBitsTbl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];us.DistBaseValTbl=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];us.CodeLengthsPos=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];us._fixedHuffman=us.buildFixedHuffman();class yu{constructor(e,r){this.fullName=e;let n=e.lastIndexOf("/");this.fileName=n===-1||n===e.length-1?this.fullName:e.substr(n+1),this.data=r}}yu.OptionalDataDescriptorSignature=134695760;yu.CompressionMethodDeflate=8;yu.LocalFileHeaderSignature=67324752;yu.CentralFileHeaderSignature=33639248;yu.EndOfCentralDirSignature=101010256;class Mz{constructor(e){this._readable=e}read(){let e=[];for(;;){let r=this.readEntry();if(!r)break;e.push(r)}return e}readEntry(){let e=this._readable;if(Ce.readInt32LE(e)!==yu.LocalFileHeaderSignature)return null;Ce.readUInt16LE(e);let n=Ce.readUInt16LE(e),i=Ce.readUInt16LE(e),s=i!==0;if(s&&i!==yu.CompressionMethodDeflate)return null;Ce.readInt16LE(this._readable),Ce.readInt16LE(this._readable),Ce.readInt32LE(e),Ce.readInt32LE(e);let a=Ce.readInt32LE(e),o=Ce.readInt16LE(e),l=Ce.readInt16LE(e),u=Ce.toString(Ce.readByteArray(e,o),"utf-8");e.skip(l);let c;if(s){let h=Hi.empty(),f=new us(this._readable),m=new Uint8Array(65536);for(;;){let g=f.readBytes(m,0,m.length);if(h.write(m,0,g),g<m.length)break}c=h.toArray()}else c=Ce.readByteArray(this._readable,a);return n&8&&(Ce.readInt32LE(this._readable)===yu.OptionalDataDescriptorSignature&&Ce.readInt32LE(this._readable),Ce.readInt32LE(this._readable),Ce.readInt32LE(this._readable)),new yu(u,c)}}class vwe extends Pp{get name(){return"Guitar Pro 7"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading ZIP entries");let e=new Mz(this.data),r;try{r=e.read()}catch(l){throw new Yn("No Zip archive",l)}Fe.debug(this.name,"Zip entries loaded");let n=null,i=null,s=null;for(let l of r)switch(l.fileName){case"score.gpif":n=Ce.toString(l.data,this.settings.importer.encoding);break;case"BinaryStylesheet":i=l.data;break;case"PartConfiguration":s=l.data;break}if(!n)throw new Yn("No score.gpif found in zip archive");Fe.debug(this.name,"Start Parsing score.gpif");let a=new lo;a.parseXml(n,this.settings),Fe.debug(this.name,"score.gpif parsed");let o=a.score;return i&&(Fe.debug(this.name,"Start Parsing BinaryStylesheet"),new $1(i).apply(o),Fe.debug(this.name,"BinaryStylesheet parsed")),s&&(Fe.debug(this.name,"Start Parsing Part Configuration"),new Bz(s).apply(o),Fe.debug(this.name,"Part Configuration parsed")),o}}class Zm extends ki{constructor(){super(Si.Format,"Unexpected end of data within reader"),Object.setPrototypeOf(this,Zm.prototype)}}class ey{constructor(e){this._currentByte=0,this._position=ey.ByteSize,this._source=e}readByte(){return this.readBits(8)}readBytes(e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=this.readByte()&255;return r}readBits(e){let r=0,n=e-1;for(;n>=0;)r=r|this.readBit()<<n,n--;return r}readBitsReversed(e){let r=0;for(let n=0;n<e;n++)r=r|this.readBit()<<n;return r}readBit(){if(this._position>=8){if(this._currentByte=this._source.readByte(),this._currentByte===-1)throw new Zm;this._position=0}const e=this._currentByte>>ey.ByteSize-this._position-1&1;return this._position++,e}readAll(){let e=Hi.empty();try{for(;;)e.writeByte(this.readByte()&255)}catch(r){if(!(r instanceof Zm))throw r}return e.toArray()}}ey.ByteSize=8;class wwe{constructor(){this.fileName="",this.fileSize=0,this.data=null}}class Bp{constructor(){this.files=[],this.files=[],this.fileFilter=e=>!0}load(e){let r=new ey(e);this.readBlock(r)}readHeader(e){return this.getString(e.readBytes(4),0,4)}decompress(e,r=!1){let n=Hi.empty(),i,s=this.getInteger(e.readBytes(4),0);try{for(;n.length<s;)if(e.readBits(1)===1){let h=e.readBits(4),f=e.readBitsReversed(h),m=e.readBitsReversed(h),g=n.length-f,y=Math.min(f,m);i=n.getBuffer(),n.write(i,g,y)}else{let h=e.readBitsReversed(2);for(let f=0;f<h;f++)n.writeByte(e.readByte())}}catch(c){if(!(c instanceof Zm))throw c}i=n.getBuffer();let a=r?4:0,o=n.length-a,l=new Uint8Array(o),u=o;return l.set(i.subarray(a,a+u),0),l}readBlock(e){let r=this.readHeader(e);if(r==="BCFZ")this.readUncompressedBlock(this.decompress(e,!0));else if(r==="BCFS")this.readUncompressedBlock(e.readAll());else throw new Yn("Unsupported format")}readUncompressedBlock(e){let r=4096,n=r;for(;n+3<e.length;){if(this.getInteger(e,n)===2){let s=new wwe;s.fileName=this.getString(e,n+4,127),s.fileSize=this.getInteger(e,n+140);let a=!this.fileFilter||this.fileFilter(s.fileName);a&&this.files.push(s);let o=n+148,l=0,u=0,c=a?Hi.withCapacity(s.fileSize):null;for(;l=this.getInteger(e,o+4*u++),l!==0;)n=l*r,a&&c.write(e,n,r);if(a){s.data=new Uint8Array(Math.min(s.fileSize,c.length));let h=c.toArray();s.data.set(h.subarray(0,0+s.data.length),0)}}n+=r}}getString(e,r,n){let i="";for(let s=0;s<n;s++){let a=e[r+s]&255;if(a===0)break;i+=String.fromCharCode(a)}return i}getInteger(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}}Bp.HeaderBcFs="BCFS";Bp.HeaderBcFz="BCFZ";Bp.ScoreGpif="score.gpif";Bp.BinaryStylesheet="BinaryStylesheet";Bp.PartConfiguration="PartConfiguration";class xwe extends Pp{get name(){return"Guitar Pro 6"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading GPX filesystem");let e=new Bp;e.fileFilter=o=>o.endsWith("score.gpif")||o.endsWith("BinaryStylesheet")||o.endsWith("PartConfiguration"),e.load(this.data),Fe.debug(this.name,"GPX filesystem loaded");let r=null,n=null,i=null;for(let o of e.files)switch(o.fileName){case"score.gpif":r=Ce.toString(o.data,this.settings.importer.encoding);break;case"BinaryStylesheet":n=o.data;break;case"PartConfiguration":i=o.data;break}if(!r)throw new Yn("No score.gpif found in GPX");Fe.debug(this.name,"Start Parsing score.gpif");let s=new lo;s.parseXml(r,this.settings),Fe.debug(this.name,"score.gpif parsed");let a=s.score;return n&&(Fe.debug(this.name,"Start Parsing BinaryStylesheet"),new $1(n).apply(a),Fe.debug(this.name,"BinaryStylesheet parsed")),i&&(Fe.debug(this.name,"Start Parsing Part Configuration"),new Bz(i).apply(a),Fe.debug(this.name,"Part Configuration parsed")),a}}class Swe extends Pp{get name(){return"MusicXML"}constructor(){super(),this._currentPartGroup=null,this._trackFirstMeasureNumber=0,this._maxVoices=0,this._currentDirection=null,this._currentChord=null,this._divisionsPerQuarterNote=0,this._voiceOfStaff=new Map,this._isBeamContinue=!1,this._previousBeatWasPulled=!1,this._previousBeat=null}readScore(){this._trackById=new Map,this._partGroups=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._slurStarts=new Map;let e=Ce.toString(this.data.readAll(),this.settings.importer.encoding),r=new GM;try{r.parse(e)}catch{throw new Yn("Unsupported format")}return this._score=new vh,this._score.tempo=120,this.parseDom(r),this.settings.importer.mergePartGroupsInMusicXml&&this.mergePartGroups(),this._score.finish(this.settings),this._score.rebuildRepeatGroups(),this._score}mergePartGroups(){let e=!1;for(const r of this._partGroups.values())r.length>1&&(this.mergeGroup(r),e=!0);if(e)for(let r=0;r<this._score.tracks.length;r++)this._score.tracks[r].index=r}mergeGroup(e){let r=e[0];for(let n=1;n<e.length;n++){let i=e[n];for(let a of i.staves)r.addStaff(a);let s=this._score.tracks.indexOf(i);this._score.tracks.splice(s,1)}}parseDom(e){let r=e.firstElement;if(!r)throw new Yn("Unsupported format");switch(r.localName){case"score-partwise":this.parsePartwise(r);break;case"score-timewise":break;default:throw new Yn("Unsupported format")}}parsePartwise(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"work":this.parseWork(r);break;case"movement-title":this._score.title=r.innerText;break;case"identification":this.parseIdentification(r);break;case"part-list":this.parsePartList(r);break;case"part":this.parsePart(r);break}}parseWork(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"work-title":this._score.title=r.innerText;break}}parsePart(e){let r=e.getAttribute("id");if(!this._trackById.has(r))if(this._trackById.size===1){for(const[s,a]of this._trackById)(a.staves.length===0||a.staves[0].bars.length===0)&&(r=s);if(!this._trackById.has(r))return}else return;let n=this._trackById.get(r),i=!0;this._maxVoices=0;for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"measure":this.parseMeasure(s,n,i)&&(i=!1);break}for(let s of n.staves)for(let a of s.bars)this.ensureVoices(a)}parseMeasure(e,r,n){if(e.getAttribute("implicit")==="yes"&&e.getElementsByTagName("note",!1).length===0)return!1;let i=0;if(n)this._divisionsPerQuarterNote=0,this._trackFirstMeasureNumber=parseInt(e.getAttribute("number")),this._trackFirstMeasureNumber||(this._trackFirstMeasureNumber=0),i=0;else{if(i=parseInt(e.getAttribute("number")),!i)return!1;i-=this._trackFirstMeasureNumber}if(n){let l=e.getElementsByTagName("attributes",!1);if(l.length>0){let u=l[0].getElementsByTagName("staves",!1);if(u.length>0){let c=parseInt(u[0].innerText);r.ensureStaveCount(c)}}}let s=new Array(r.staves.length),a=null;for(let l=r.staves[0].bars.length;l<=i;l++)for(let u=0;u<r.staves.length;u++){let c=new Vu;if(s[u]=c,r.staves[u].bars.length>0){let h=r.staves[u].bars[r.staves[u].bars.length-1];c.clef=h.clef}a=this.getOrCreateMasterBar(i),r.staves[u].addBar(c),this.ensureVoices(c)}let o=new Map;if(a){let l=!1;for(let u of e.childNodes)if(u.nodeType===Le.Element)switch(u.localName){case"note":this.parseNoteBeat(u,s);break;case"forward":this.parseForward(u,s);break;case"direction":this.parseDirection(u,a);break;case"attributes":l||(this.parseAttributes(u,s,a,r),l=!0);break;case"harmony":this.parseHarmony(u,r,o);break;case"sound":break;case"barline":this.parseBarline(u,a);break}}return!0}ensureVoices(e){for(;e.voices.length<this._maxVoices;){let r=new Ul;e.addVoice(r);let n=new Wi;n.isEmpty=!0,n.chordId=this._currentChord,r.addBeat(n)}}getOrCreateBeat(e,r,n){let i=0,s=e.getElementsByTagName("voice",!1);s.length>0&&(i=parseInt(s[0].innerText)-1);let a=this._previousBeatWasPulled;this._previousBeatWasPulled=!1;let o=e.getElementsByTagName("staff",!1),l=1;if(o.length>0){l=parseInt(o[0].innerText),(this._isBeamContinue||a)&&this._previousBeat.voice.bar.staff.index!==l-1&&(l=this._previousBeat.voice.bar.staff.index+1,this._previousBeatWasPulled=!0);let f=r[0].staff.track.index+"-"+l;this._voiceOfStaff.has(f)||this._voiceOfStaff.set(f,i)}l--;let u;l<0?u=r[0]:l>=r.length?u=r[r.length-1]:u=r[l];let c,h=this.getOrCreateVoice(u,i);return n&&h.beats.length>0||h.beats.length===1&&h.isEmpty?c=h.beats[h.beats.length-1]:(c=new Wi,c.isEmpty=!1,h.addBeat(c)),this._isBeamContinue=!1,this._previousBeat=c,c}parseForward(e,r){let n=this.getOrCreateBeat(e,r,!1),s=parseInt(e.findChildElement("duration").innerText)*oe.Quarter/this._divisionsPerQuarterNote,a=[oe.SixtyFourth,oe.ThirtySecond,oe.Sixteenth,oe.Eighth,oe.Quarter,oe.Half,oe.Whole];for(let o of a)if(s>=o){n.duration=o,s-=o;break}n.isEmpty=!1}parseStaffDetails(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"staff-lines":for(let i of r.staves)i.stringTuning.tunings=new Array(parseInt(n.innerText)).fill(0);break;case"staff-tuning":this.parseStaffTuning(n,r);break}for(let n of r.staves)this.isEmptyTuning(n.tuning)&&(n.stringTuning.tunings=[])}parseStaffTuning(e,r){let n=parseInt(e.getAttribute("line")),i="C",s="",a=0;for(let l of e.childNodes)if(l.nodeType===Le.Element)switch(l.localName){case"tuning-step":i=l.innerText;break;case"tuning-alter":a=parseInt(l.innerText);break;case"tuning-octave":s=l.innerText;break}let o=Yr.getTuningForText(i+s)+a;for(let l of r.staves)l.tuning[l.tuning.length-n]=o}parseHarmony(e,r,n){let i=new zc;for(let a of e.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"root":i.name=this.parseHarmonyRoot(a);break;case"kind":i.name=i.name+this.parseHarmonyKind(a);break;case"frame":this.parseHarmonyFrame(a,i);break}this._currentChord=Yr.newGuid();const s=i.uniqueId;n.has(s)&&(i.showDiagram=!1);for(let a of r.staves)a.addChord(this._currentChord,i);n.set(s,i)}parseHarmonyRoot(e){let r="",n="";for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"root-step":r=i.innerText;break;case"root-alter":switch(parseInt(e.innerText)){case-2:n="bb";break;case-1:n="b";break;case 0:n="";break;case 1:n="#";break;case 2:n="##";break}break}return r+n}parseHarmonyKind(e){const r=e.getAttribute("text");let n="";if(r)n=r;else switch(e.innerText){case"major":n="";break;case"minor":n="m";break;case"augmented":n="+";break;case"diminished":n="";break;case"dominant":n="7";break;case"major-seventh":n="7M";break;case"minor-seventh":n="m7";break;case"diminished-seventh":n="7";break;case"augmented-seventh":n="+7";break;case"half-diminished":n="";break;case"major-minor":n="mMaj";break;case"major-sixth":n="maj6";break;case"minor-sixth":n="m6";break;case"dominant-ninth":n="9";break;case"major-ninth":n="maj9";break;case"minor-ninth":n="m9";break;case"dominant-11th":n="11";break;case"major-11th":n="maj11";break;case"minor-11th":n="m11";break;case"dominant-13th":n="13";break;case"major-13th":n="maj13";break;case"minor-13th":n="m13";break;case"suspended-second":n="sus2";break;case"suspended-fourth":n="sus4";break}return n}parseHarmonyFrame(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"frame-strings":const i=parseInt(n.innerText);r.strings=new Array(i);for(let o=0;o<i;o++)r.strings[o]=-1;break;case"first-fret":r.firstFret=parseInt(n.innerText);break;case"frame-note":let s=null,a=null;for(let o of n.childNodes)switch(o.localName){case"string":s=parseInt(o.innerText);break;case"fret":a=parseInt(o.innerText),s&&a>=0&&(r.strings[s-1]=a);break;case"barre":s&&a&&o.getAttribute("type")==="start"&&r.barreFrets.push(a);break}break}}parseBarline(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"repeat":this.parseRepeat(n,r);break;case"ending":this.parseEnding(n,r);break}}parseEnding(e,r){let n=parseInt(e.getAttribute("number"));n>0&&(--n,r.alternateEndings=r.alternateEndings|1<<n&255)}parseRepeat(e,r){let n=e.getAttribute("direction"),i=parseInt(e.getAttribute("times"));(i<0||isNaN(i))&&(i=2),n==="backward"?r.repeatCount=i:n==="forward"&&(r.isRepeatStart=!0)}parseNoteBeat(e,r){let n=e.getElementsByTagName("chord",!1).length>0,i=this.getOrCreateBeat(e,r,n);!i.chordId&&this._currentChord&&(i.chordId=this._currentChord,this._currentChord=null),this._currentDirection&&(i.text=this._currentDirection,this._currentDirection=null);let s=new _n;i.voice.isEmpty=!1,i.isEmpty=!1,i.addNote(s),i.dots=0;let a=!1;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"grace":i.graceType=_t.BeforeBeat,i.duration=oe.ThirtySecond;break;case"duration":if(i.isRest&&!a)switch(parseInt(o.innerText)){case 1:i.duration=oe.Whole;break;case 2:i.duration=oe.Half;break;case 4:i.duration=oe.Quarter;break;case 8:i.duration=oe.Eighth;break;case 16:i.duration=oe.Sixteenth;break;case 32:i.duration=oe.ThirtySecond;break;case 64:i.duration=oe.SixtyFourth;break;default:i.duration=oe.Quarter;break}break;case"tie":this.parseTied(o,s);break;case"cue":break;case"instrument":break;case"type":i.duration=this.getDuration(o.innerText),i.graceType!==_t.None&&i.duration<oe.Sixteenth&&(i.duration=oe.Eighth);break;case"dot":i.dots++;break;case"accidental":this.parseAccidental(o,s);break;case"time-modification":this.parseTimeModification(o,i);break;case"stem":break;case"notehead":o.getAttribute("parentheses")==="yes"&&(s.isGhost=!0);break;case"beam":o.innerText==="continue"&&(this._isBeamContinue=!0);break;case"notations":this.parseNotations(o,i,s);break;case"lyric":this.parseLyric(o,i);break;case"pitch":this.parsePitch(o,s);break;case"unpitched":this.parseUnpitched(o,s);break;case"rest":a=o.getAttribute("measure")==="yes",i.isEmpty=!1,i.notes=[],i.duration=oe.Whole;break}if(s.isStringed){for(let o=0;o<i.notes.length;o++)if(i.notes[o].string===s.string&&i.notes[o]!==s){i.removeNote(s);break}}}getDuration(e){switch(e){case"256th":case"128th":case"64th":return oe.SixtyFourth;case"32nd":return oe.ThirtySecond;case"16th":return oe.Sixteenth;case"eighth":return oe.Eighth;case"quarter":return oe.Quarter;case"half":return oe.Half;case"long":case"breve":case"whole":return oe.Whole}return oe.Quarter}parseLyric(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"text":r.text?r.text+=" "+n.innerText:r.text=n.innerText;break}}parseAccidental(e,r){switch(e.innerText){case"sharp":r.accidentalMode=$n.ForceSharp;break;case"natural":r.accidentalMode=$n.ForceNatural;break;case"flat":r.accidentalMode=$n.ForceFlat;break}}parseTied(e,r){if(e.getAttribute("type")==="start")this._tieStartIds.has(r.id)||(this._tieStartIds.set(r.id,!0),this._tieStarts.push(r));else if(e.getAttribute("type")==="stop"&&this._tieStarts.length>0&&!r.isTieDestination){const n=this._tieStarts[0];n.beat.voice.index===r.beat.voice.index&&n.beat.voice.bar.staff.index===r.beat.voice.bar.staff.index&&n.beat.voice.bar.staff.track.index===r.beat.voice.bar.staff.track.index&&(r.isTieDestination=!0,r.tieOrigin=this._tieStarts[0]),this._tieStarts.splice(0,1),this._tieStartIds.delete(r.id)}}parseNotations(e,r,n){for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"articulations":this.parseArticulations(i,n);break;case"tied":this.parseTied(i,n);break;case"slide":case"glissando":i.getAttribute("type")==="start"&&(n.slideOutType=Ht.Shift);break;case"dynamics":this.parseDynamics(i,r);break;case"technical":this.parseTechnical(i,n);break;case"ornaments":this.parseOrnaments(i,n);break;case"slur":let s=i.getAttribute("number");switch(s||(s="1"),s=r.voice.bar.staff.index+"_"+s,i.getAttribute("type")){case"start":this._slurStarts.set(s,n);break;case"stop":if(this._slurStarts.has(s)){n.isSlurDestination=!0;let a=this._slurStarts.get(s);a.slurDestination=n,n.slurOrigin=a}break}break}}parseOrnaments(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"tremolo":switch(parseInt(n.innerText)){case 1:r.beat.tremoloSpeed=oe.Eighth;break;case 2:r.beat.tremoloSpeed=oe.Sixteenth;break;case 3:r.beat.tremoloSpeed=oe.ThirtySecond;break}break}}parseTechnical(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"string":r.string=parseInt(n.innerText),r.string!==-2147483648&&(r.string=r.beat.voice.bar.staff.tuning.length-r.string+1);break;case"fret":r.fret=parseInt(n.innerText);break;case"down-bow":r.beat.pickStroke=Ii.Down;break;case"up-bow":r.beat.pickStroke=Ii.Up;break}(r.string===-2147483648||r.fret===-2147483648)&&(r.string=-1,r.fret=-1)}parseArticulations(e,r){for(let n of e.childNodes)switch(n.localName){case"accent":r.accentuated=Xn.Normal;break;case"strong-accent":r.accentuated=Xn.Heavy;break;case"staccato":case"detached-legato":r.isStaccato=!0;break}}parseDynamics(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"p":r.dynamics=Kt.P;break;case"pp":r.dynamics=Kt.PP;break;case"ppp":r.dynamics=Kt.PPP;break;case"f":r.dynamics=Kt.F;break;case"ff":r.dynamics=Kt.FF;break;case"fff":r.dynamics=Kt.FFF;break;case"mp":r.dynamics=Kt.MP;break;case"mf":r.dynamics=Kt.MF;break}}parseTimeModification(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"actual-notes":r.tupletNumerator=parseInt(n.innerText);break;case"normal-notes":r.tupletDenominator=parseInt(n.innerText);break}}parseUnpitched(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"display-step":n=o.innerText;break;case"display-alter":i=parseInt(o.innerText);break;case"display-octave":s=parseInt(o.innerText);break}let a=s*12+Yr.getToneForText(n)+i;r.octave=a/12|0,r.tone=a-r.octave*12}parsePitch(e,r){let n="",i=0,s=0;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"step":n=o.innerText;break;case"alter":i=parseFloat(o.innerText),isNaN(i)&&(i=0);break;case"octave":s=parseInt(o.innerText)+1;break}let a=s*12+Yr.getToneForText(n)+(i|0);r.octave=a/12|0,r.tone=a-r.octave*12}getOrCreateVoice(e,r){if(r<e.voices.length)return e.voices[r];for(let n=e.voices.length;n<=r;n++)e.addVoice(new Ul);return this._maxVoices=Math.max(this._maxVoices,e.voices.length),e.voices[r]}parseDirection(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"sound":let i=n.getAttribute("tempo");if(i){let a=new Vi;a.isLinear=!0,a.type=ci.Tempo,a.value=parseInt(i),r.tempoAutomation=a,r.index===0&&(r.score.tempo=a.value)}break;case"direction-type":let s=n.firstElement;switch(s.localName){case"words":this._currentDirection=s.innerText;break;case"metronome":this.parseMetronome(s,r);break}break}}parseMetronome(e,r){let n=oe.Quarter,i=120;for(let a of e.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"beat-unit":n=this.getDuration(a.innerText);break;case"per-minute":i=parseInt(a.innerText);break}let s=new Vi;s.type=ci.Tempo,s.value=i*(n/4|0),r.tempoAutomation=s,r.index===0&&(r.score.tempo=s.value)}parseAttributes(e,r,n,i){let s=0,a=!1;for(let o of e.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"divisions":this._divisionsPerQuarterNote=parseInt(o.innerText);break;case"key":this.parseKey(o,n);break;case"time":this.parseTime(o,n),a=!0;break;case"clef":s=parseInt(o.getAttribute("number")),isNaN(s)&&(s=1),this.parseClef(o,r[s-1]);break;case"staff-details":this.parseStaffDetails(o,i);break;case"transpose":this.parseTranspose(o,i);break}a||(n.timeSignatureCommon=!0)}parseTranspose(e,r){let n=0;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"chromatic":n+=parseInt(i.innerText);break;case"octave-change":n+=parseInt(i.innerText)*12;break}for(let i of r.staves)i.transpositionPitch=n}parseClef(e,r){let n="s",i=0;for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"sign":n=s.innerText.toLowerCase();break;case"line":i=parseInt(s.innerText);break;case"clef-octave-change":switch(parseInt(s.innerText)){case-2:r.clefOttava=gr._15mb;break;case-1:r.clefOttava=gr._8vb;break;case 1:r.clefOttava=gr._8va;break;case 2:r.clefOttava=gr._15mb;break}break}switch(n){case"g":r.clef=$t.G2;break;case"f":r.clef=$t.F4;break;case"c":i===3?r.clef=$t.C3:r.clef=$t.C4;break;case"percussion":r.clef=$t.Neutral,r.staff.isPercussion=!0;break;case"tab":r.clef=$t.G2,r.staff.showTablature=!0;break;default:r.clef=$t.G2;break}}parseTime(e,r){e.getAttribute("symbol")==="common"&&(r.timeSignatureCommon=!0);let n=!1,i=!1;for(let s of e.childNodes)if(s.nodeType===Le.Element){let a=s.innerText;switch(s.localName){case"beats":n||(a.indexOf("+")===-1?r.timeSignatureNumerator=parseInt(a):r.timeSignatureNumerator=4,n=!0);break;case"beat-type":i||(a.indexOf("+")===-1?r.timeSignatureDenominator=parseInt(a):r.timeSignatureDenominator=4,i=!0);break}}}parseKey(e,r){let n=-2147483648,i="";for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"fifths":n=parseInt(s.innerText);break;case"key-step":break;case"key-alter":break;case"mode":i=s.innerText;break}-7<=n&&n<=7?r.keySignature=n:r.keySignature=ri.C,i==="minor"?r.keySignatureType=Wc.Minor:r.keySignatureType=Wc.Major}getOrCreateMasterBar(e){if(e<this._score.masterBars.length)return this._score.masterBars[e];for(let r=this._score.masterBars.length;r<=e;r++){let n=new Ru;if(this._score.masterBars.length>0){let i=this._score.masterBars[this._score.masterBars.length-1];n.timeSignatureDenominator=i.timeSignatureDenominator,n.timeSignatureNumerator=i.timeSignatureNumerator,n.keySignature=i.keySignature,n.keySignatureType=i.keySignatureType}this._score.addMasterBar(n)}return this._score.masterBars[e]}parseIdentification(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"creator":r.getAttribute("type")==="composer"&&(this._score.music=r.innerText);break;case"rights":this._score.copyright&&(this._score.copyright+=`
`),this._score.copyright+=r.innerText;break}}parsePartList(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"part-group":this.parsePartGroup(r);break;case"score-part":this.parseScorePart(r);break}}parsePartGroup(e){switch(e.getAttribute("type")){case"start":this._currentPartGroup=e.getAttribute("number"),this._partGroups.set(this._currentPartGroup,[]);break;case"stop":this._currentPartGroup=null;break}}parseScorePart(e){let r=e.getAttribute("id"),n=new Hl;n.ensureStaveCount(1);let i=n.staves[0];i.showStandardNotation=!0,this._trackById.set(r,n),this._score.addTrack(n),this._currentPartGroup&&this._partGroups.get(this._currentPartGroup).push(n);for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"part-name":n.name=s.innerText;break;case"part-abbreviation":n.shortName=s.innerText;break;case"midi-instrument":this.parseMidiInstrument(s,n);break}this.isEmptyTuning(n.staves[0].tuning)&&(n.staves[0].stringTuning.tunings=[])}isEmptyTuning(e){if(!e)return!0;for(let r=0;r<e.length;r++)if(e[r]!==0)return!1;return!0}parseMidiInstrument(e,r){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"midi-channel":r.playbackInfo.primaryChannel=parseInt(n.innerText);break;case"midi-program":r.playbackInfo.program=parseInt(n.innerText);break;case"volume":r.playbackInfo.volume=Math.floor(parseInt(n.innerText)/100*16);break;case"pan":r.playbackInfo.balance=Math.max(0,Math.min(16,Math.floor((parseInt(n.innerText)+90)/180*16)));break}}}var np;(function(t){t[t.SingleTrackMultiChannel=0]="SingleTrackMultiChannel",t[t.MultiTrack=1]="MultiTrack"})(np||(np={}));class Nz{constructor(){this.events=[]}addEvent(e){if(this.events.length===0||e.tick>=this.events[this.events.length-1].tick)this.events.push(e);else{let r=this.events.length;for(;r>0&&this.events[r-1].tick>e.tick;)r--;this.events.splice(r,0,e)}}writeTo(e){let r=Hi.empty(),n=0;for(let a of this.events){let o=a.tick-n;Dc.writeVariableInt(r,o),a.writeTo(r),n=a.tick}const i=new Uint8Array([77,84,114,107]);e.write(i,0,i.length);let s=r.toArray();Ce.writeInt32BE(e,s.length),e.write(s,0,s.length)}}class Dc{constructor(){this.format=np.SingleTrackMultiChannel,this.division=zt.QuarterTime,this.tracks=[]}get events(){if(this.tracks.length==1)return this.tracks[0].events;{const e=[];for(const r of this.tracks)this.events.push(...r.events);return e.sort((r,n)=>r.tick-n.tick),e}}ensureTracks(e){for(;this.tracks.length<e;)this.tracks.push(new Nz)}addEvent(e){this.format==np.SingleTrackMultiChannel?(this.ensureTracks(1),this.tracks[0].addEvent(e)):(this.ensureTracks(e.track+1),this.tracks[e.track].addEvent(e))}toBinary(){let e=Hi.empty();return this.writeTo(e),e.toArray()}writeTo(e){let r=new Uint8Array([77,84,104,100]);e.write(r,0,r.length),Ce.writeInt32BE(e,6),Ce.writeInt16BE(e,this.format),Ce.writeInt16BE(e,this.tracks.length),Ce.writeInt16BE(e,this.division);for(const n of this.tracks)n.writeTo(e)}static writeVariableInt(e,r){let n=new Uint8Array(4),i=0;do n[i++]=r&127,r>>=7;while(r>0);for(;i>0;)i--,i>0?e.writeByte(n[i]|128):e.writeByte(n[i])}}var ar;(function(t){t[t.TimeSignature=88]="TimeSignature",t[t.NoteOn=128]="NoteOn",t[t.NoteOff=144]="NoteOff",t[t.ControlChange=176]="ControlChange",t[t.ProgramChange=192]="ProgramChange",t[t.TempoChange=81]="TempoChange",t[t.PitchBend=224]="PitchBend",t[t.PerNotePitchBend=96]="PerNotePitchBend",t[t.EndOfTrack=47]="EndOfTrack",t[t.AlphaTabRest=241]="AlphaTabRest",t[t.AlphaTabMetronome=242]="AlphaTabMetronome",t[t.SystemExclusive=240]="SystemExclusive",t[t.SystemExclusive2=247]="SystemExclusive2",t[t.Meta=255]="Meta"})(ar||(ar={}));class zu{constructor(e,r,n){this.track=e,this.tick=r,this.type=n}get command(){return this.type}get message(){return 0}get data1(){return 0}get data2(){return 0}}class Ez extends zu{constructor(e,r,n,i,s,a){super(e,r,ar.TimeSignature),this.track=e,this.tick=r,this.numerator=n,this.denominatorIndex=i,this.midiClocksPerMetronomeClick=s,this.thirtySecondNodesInQuarter=a}writeTo(e){e.writeByte(255),e.writeByte(88),Dc.writeVariableInt(e,4),e.writeByte(this.numerator&255),e.writeByte(this.denominatorIndex&255),e.writeByte(this.midiClocksPerMetronomeClick&255),e.writeByte(this.thirtySecondNodesInQuarter&255)}}class Du extends zu{constructor(e,r,n){super(e,r,n)}writeTo(e){e.writeByte(240);const r=Hi.withCapacity(16);r.writeByte(Du.AlphaTabManufacturerId),this.writeEventData(r),r.writeByte(247),Dc.writeVariableInt(e,r.length),r.copyTo(e)}}Du.AlphaTabManufacturerId=125;Du.MetronomeEventId=0;Du.RestEventId=1;class Rz extends Du{constructor(e,r,n,i,s){super(e,r,ar.AlphaTabMetronome),this.isMetronome=!0,this.metronomeNumerator=n,this.metronomeDurationInMilliseconds=s,this.metronomeDurationInTicks=i}writeEventData(e){e.writeByte(Du.MetronomeEventId),e.writeByte(this.metronomeNumerator),Ce.writeInt32LE(e,this.metronomeDurationInTicks),Ce.writeInt32LE(e,this.metronomeDurationInMilliseconds)}}class Dz extends Du{constructor(e,r,n){super(e,r,ar.AlphaTabRest),this.channel=n}writeEventData(e){e.writeByte(Du.RestEventId),e.writeByte(this.channel)}}class Iz extends zu{constructor(e,r,n,i,s,a){super(e,r,n),this.channel=i,this.noteKey=s,this.noteVelocity=a}get data1(){return this.noteKey}get data2(){return this.noteVelocity}}class Lz extends Iz{constructor(e,r,n,i,s){super(e,r,ar.NoteOn,n,i,s)}writeTo(e){e.writeByte(this.channel&15|144),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class Fz extends Iz{constructor(e,r,n,i,s){super(e,r,ar.NoteOff,n,i,s)}writeTo(e){e.writeByte(this.channel&15|128),e.writeByte(this.noteKey&255),e.writeByte(this.noteVelocity&255)}}class Az extends zu{constructor(e,r,n,i,s){super(e,r,ar.ControlChange),this.channel=n,this.controller=i,this.value=s}writeTo(e){e.writeByte(this.channel&15|176),e.writeByte(this.controller&255),e.writeByte(this.value&255)}get data1(){return this.controller}get data2(){return this.value}}class Oz extends zu{constructor(e,r,n,i){super(e,r,ar.ProgramChange),this.channel=n,this.program=i}writeTo(e){e.writeByte(this.channel&15|192),e.writeByte(this.program&255)}get data1(){return this.program}}class $z extends zu{constructor(e,r){super(0,e,ar.TempoChange),this.microSecondsPerQuarterNote=r}writeTo(e){e.writeByte(255),e.writeByte(81),e.writeByte(3),e.writeByte(this.microSecondsPerQuarterNote>>16&255),e.writeByte(this.microSecondsPerQuarterNote>>8&255),e.writeByte(this.microSecondsPerQuarterNote&255)}}class Vz extends zu{constructor(e,r,n,i){super(e,r,ar.PitchBend),this.channel=n,this.value=i}writeTo(e){e.writeByte(this.channel&15|224),e.writeByte(this.value&127),e.writeByte(this.value>>7&127)}get data1(){return this.value&127}get data2(){return this.value>>7&127}}class zz extends zu{constructor(e,r,n,i,s){super(e,r,ar.PerNotePitchBend),this.channel=n,this.noteKey=i,this.value=s}writeTo(e){throw new ki(Si.General,"Note Bend (Midi2.0) events cannot be exported to SMF1.0")}}class Wz extends zu{constructor(e,r){super(e,r,ar.EndOfTrack)}writeTo(e){e.writeByte(255),e.writeByte(47),e.writeByte(0)}}class hm{constructor(e,r){this.time=0,this.eventIndex=e,this.event=r,this.isMetronome=this.event.type==ar.AlphaTabMetronome}static newMetronomeEvent(e,r,n,i,s){const a=new Rz(0,r,n,i,s);return new hm(e,a)}}class Gt{}Gt.DefaultChannelCount=17;Gt.MetronomeChannel=Gt.DefaultChannelCount-1;Gt.AudioChannels=2;Gt.MinVolume=0;Gt.MinProgram=0;Gt.MaxProgram=127;Gt.MinPlaybackSpeed=.125;Gt.MaxPlaybackSpeed=8;Gt.MaxPitchWheel=16384;Gt.MaxPitchWheel20=4294967296;Gt.DefaultPitchWheel=Gt.MaxPitchWheel/2;Gt.MicroBufferCount=32;Gt.MicroBufferSize=64;class SF{constructor(e,r,n){this.bpm=e,this.ticks=r,this.time=n}}class k_{constructor(){this.tempoChanges=[],this.firstProgramEventPerChannel=new Map,this.firstTimeSignatureNumerator=0,this.firstTimeSignatureDenominator=0,this.synthData=[],this.division=zt.QuarterTime,this.eventIndex=0,this.currentTime=0,this.playbackRange=null,this.playbackRangeStartTime=0,this.playbackRangeEndTime=0,this.endTick=0,this.endTime=0}}class kwe{get isPlayingMain(){return this._currentState==this._mainState}get isPlayingOneTimeMidi(){return this._currentState==this._oneTimeState}get isPlayingCountIn(){return this._currentState==this._countInState}constructor(e){this._oneTimeState=null,this._countInState=null,this.isLooping=!1,this.playbackSpeed=1,this._synthesizer=e,this._mainState=new k_,this._currentState=this._mainState}get mainPlaybackRange(){return this._mainState.playbackRange}set mainPlaybackRange(e){this._mainState.playbackRange=e,e&&(this._mainState.playbackRangeStartTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.startTick,1),this._mainState.playbackRangeEndTime=this.tickPositionToTimePositionWithSpeed(this._mainState,e.endTick,1))}get currentTime(){return this._currentState.currentTime/this.playbackSpeed}get currentEndTick(){return this._currentState.endTick}get currentEndTime(){return this._currentState.endTime/this.playbackSpeed}mainSeek(e){if(e*=this.playbackSpeed,this.mainPlaybackRange&&(e<this._mainState.playbackRangeStartTime?e=this._mainState.playbackRangeStartTime:e>this._mainState.playbackRangeEndTime&&(e=this._mainState.playbackRangeEndTime)),e>this._mainState.currentTime)this.mainSilentProcess(e-this._mainState.currentTime);else if(e<this._mainState.currentTime){if(this._mainState.currentTime=0,this._mainState.eventIndex=0,this.isPlayingMain){let r=this._synthesizer.metronomeVolume;this._synthesizer.noteOffAll(!0),this._synthesizer.resetSoft(),this._synthesizer.setupMetronomeChannel(r)}this.mainSilentProcess(e)}}mainSilentProcess(e){if(e<=0)return;let r=Date.now(),n=this._mainState.currentTime+e;if(this.isPlayingMain)for(;this._mainState.currentTime<n;)this.fillMidiEventQueueLimited(n-this._mainState.currentTime)&&this._synthesizer.synthesizeSilent(Gt.MicroBufferSize);this._mainState.currentTime=n;let i=Date.now()-r;Fe.debug("Sequencer","Silent seek finished in "+i+"ms (main)")}loadOneTimeMidi(e){this._oneTimeState=this.createStateFromFile(e),this._currentState=this._oneTimeState}loadMidi(e){this._mainState=this.createStateFromFile(e),this._currentState=this._mainState}createStateFromFile(e){const r=new k_;r.tempoChanges=[],r.division=e.division,r.eventIndex=0,r.currentTime=0,r.synthData=[];let n=120,i=0,s=0,a=0,o=0,l=0,u=0,c=0,h=0;for(let f of e.events){let m=new hm(r.synthData.length,f);r.synthData.push(m);let g=f.tick-h;if(i+=g,s+=g*(6e4/(n*e.division)),m.time=s,h=f.tick,o>0)for(;u<i;){let y=hm.newMetronomeEvent(r.synthData.length,u,Math.floor(u/o)%a,o,l);r.synthData.push(y),y.time=c,u+=o,c+=l}if(f.type===ar.TempoChange)n=6e7/f.microSecondsPerQuarterNote,r.tempoChanges.push(new SF(n,i,s)),l=o*(6e4/(n*e.division));else if(f.type===ar.TimeSignature){let y=f,b=Math.pow(2,y.denominatorIndex);a=y.numerator,o=r.division*(4/b)|0,l=o*(6e4/(n*e.division)),r.firstTimeSignatureDenominator===0&&(r.firstTimeSignatureNumerator=y.numerator,r.firstTimeSignatureDenominator=b)}else if(f.type===ar.ProgramChange){let y=f.channel;r.firstProgramEventPerChannel.has(y)||r.firstProgramEventPerChannel.set(y,m)}}return r.synthData.sort((f,m)=>f.time>m.time?1:f.time<m.time?-1:f.eventIndex-m.eventIndex),r.endTime=s,r.endTick=i,r}fillMidiEventQueue(){return this.fillMidiEventQueueLimited(-1)}fillMidiEventQueueLimited(e){let r=Gt.MicroBufferSize/this._synthesizer.outSampleRate*1e3*this.playbackSpeed,n=this.internalEndTime;e>0&&(e<r&&(r=e),n=Math.min(this.internalEndTime,this._currentState.currentTime+e));let i=!1;for(this._currentState.currentTime+=r;this._currentState.eventIndex<this._currentState.synthData.length&&this._currentState.synthData[this._currentState.eventIndex].time<this._currentState.currentTime&&this._currentState.currentTime<n;)this._synthesizer.dispatchEvent(this._currentState.synthData[this._currentState.eventIndex]),this._currentState.eventIndex++,i=!0;return i}mainTickPositionToTimePosition(e){return this.tickPositionToTimePositionWithSpeed(this._mainState,e,this.playbackSpeed)}mainTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._mainState,e,this.playbackSpeed)}currentTimePositionToTickPosition(e){return this.timePositionToTickPositionWithSpeed(this._currentState,e,this.playbackSpeed)}tickPositionToTimePositionWithSpeed(e,r,n){let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.ticks)break;i=o.time,s=o.bpm,a=o.ticks}return r-=a,i+=r*(6e4/(s*e.division)),i/n}timePositionToTickPositionWithSpeed(e,r,n){r*=n;let i=0,s=120,a=0;for(const o of e.tempoChanges){if(r<o.time)break;i=o.ticks,s=o.bpm,a=o.time}return r-=a,i+=r/(6e4/(s*e.division))|0,i+1}get internalEndTime(){return this.isPlayingMain?this.mainPlaybackRange?this._currentState.playbackRangeEndTime:this._currentState.endTime:this._currentState.endTime}get isFinished(){return this._currentState.currentTime>=this.internalEndTime}stop(){this.isPlayingMain&&this.mainPlaybackRange?this._currentState.currentTime=this.mainPlaybackRange.startTick:this._currentState.currentTime=0,this._currentState.eventIndex=0}resetOneTimeMidi(){this._oneTimeState=null,this._currentState=this._mainState}resetCountIn(){this._countInState=null,this._currentState=this._mainState}startCountIn(){this.generateCountInMidi(),this._currentState=this._countInState,this.stop(),this._synthesizer.noteOffAll(!0)}generateCountInMidi(){const e=new k_;e.division=this._mainState.division;let r=120,n=4,i=4;this._mainState.eventIndex===0?(r=this._mainState.tempoChanges[0].bpm,n=this._mainState.firstTimeSignatureNumerator,i=this._mainState.firstTimeSignatureDenominator):(r=this._synthesizer.currentTempo,n=this._synthesizer.timeSignatureNumerator,i=this._synthesizer.timeSignatureDenominator),e.tempoChanges.push(new SF(r,0,0));let s=e.division*(4/i)|0,a=s*(6e4/(r*this._mainState.division)),o=0,l=0;for(let u=0;u<n;u++){let c=hm.newMetronomeEvent(e.synthData.length,o,u,s,a);e.synthData.push(c),c.time=l,o+=s,l+=a}e.synthData.sort((u,c)=>u.time>c.time?1:u.time<c.time?-1:u.eventIndex-c.eventIndex),e.endTime=l,e.endTick=o,this._countInState=e}}var si;(function(t){t[t.Paused=0]="Paused",t[t.Playing=1]="Playing"})(si||(si={}));class Pv{constructor(e,r){this.state=e,this.stopped=r}}class Nw{constructor(e,r,n,i,s){this.currentTime=e,this.endTime=r,this.currentTick=n,this.endTick=i,this.isSeek=s}}class _a{constructor(){this.id="",this.size=0}static load(e,r,n){if(e&&_a.HeaderSize>e.size||n.position+_a.HeaderSize>=n.length||(r.id=Ce.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122)||(r.size=Ce.readUInt32LE(n),e&&_a.HeaderSize+r.size>e.size))return!1;e&&(e.size-=_a.HeaderSize+r.size);let i=r.id==="RIFF",s=r.id==="LIST";return i&&e?!1:!i&&!s?!0:(r.id=Ce.read8BitStringLength(n,4),r.id.charCodeAt(0)<=32||r.id.charCodeAt(0)>=122?!1:(r.size-=4,!0))}}_a.HeaderSize=8;class YM{constructor(){this.phdrs=[],this.pbags=[],this.pmods=[],this.pgens=[],this.insts=[],this.ibags=[],this.imods=[],this.igens=[],this.sHdrs=[],this.fontSamples=new Float32Array(0)}load(e){const r=new _a,n=new _a;if(!_a.load(null,r,e)||r.id!=="sfbk")throw new Un("Soundfont is not a valid Soundfont2 file");for(;_a.load(r,n,e);){let i=new _a;if(n.id==="pdta")for(;_a.load(n,i,e);)switch(i.id){case"phdr":for(let s=0,a=i.size/JT.SizeInFile|0;s<a;s++)this.phdrs.push(new JT(e));break;case"pbag":for(let s=0,a=i.size/QT.SizeInFile|0;s<a;s++)this.pbags.push(new QT(e));break;case"pmod":for(let s=0,a=i.size/ZT.SizeInFile|0;s<a;s++)this.pmods.push(new ZT(e));break;case"pgen":for(let s=0,a=i.size/qs.SizeInFile|0;s<a;s++)this.pgens.push(new qs(e));break;case"inst":for(let s=0,a=i.size/KT.SizeInFile|0;s<a;s++)this.insts.push(new KT(e));break;case"ibag":for(let s=0,a=i.size/YT.SizeInFile|0;s<a;s++)this.ibags.push(new YT(e));break;case"imod":for(let s=0,a=i.size/XT.SizeInFile|0;s<a;s++)this.imods.push(new XT(e));break;case"igen":for(let s=0,a=i.size/qT.SizeInFile|0;s<a;s++)this.igens.push(new qT(e));break;case"shdr":for(let s=0,a=i.size/eP.SizeInFile|0;s<a;s++)this.sHdrs.push(new eP(e));break;default:e.position+=i.size;break}else if(n.id==="sdta")for(;_a.load(n,i,e);)switch(i.id){case"smpl":this.fontSamples=YM.loadSamples(i,e);break;default:e.position+=i.size;break}else e.position+=n.size}}static loadSamples(e,r){let n=e.size/2|0;const i=new Float32Array(n);let s=0;const a=new Uint8Array(16*1024);for(;n>0;){let o=Math.min(n,a.length/2|0);r.read(a,0,o*2);for(let l=0;l<o;l++){const u=Yt.int32ToInt16(a[l*2+1]<<8|a[l*2]);i[s+l]=u/32767}n-=o,s+=o}return i}}class YT{constructor(e){this.instGenNdx=Ce.readUInt16LE(e),this.instModNdx=Ce.readUInt16LE(e)}}YT.SizeInFile=4;class XT{constructor(e){this.modSrcOper=Ce.readUInt16LE(e),this.modDestOper=Ce.readUInt16LE(e),this.modAmount=Ce.readInt16LE(e),this.modAmtSrcOper=Ce.readUInt16LE(e),this.modTransOper=Ce.readUInt16LE(e)}}XT.SizeInFile=10;class qT{constructor(e){this.genOper=Ce.readUInt16LE(e),this.genAmount=new Hz(e)}}qT.SizeInFile=4;class KT{constructor(e){this.instName=Ce.read8BitStringLength(e,20),this.instBagNdx=Ce.readUInt16LE(e)}}KT.SizeInFile=22;class QT{constructor(e){this.genNdx=Ce.readUInt16LE(e),this.modNdx=Ce.readUInt16LE(e)}}QT.SizeInFile=4;class qs{constructor(e){this.genOper=Ce.readUInt16LE(e),this.genAmount=new Hz(e)}}qs.SizeInFile=4;qs.GenInstrument=41;qs.GenKeyRange=43;qs.GenVelRange=44;qs.GenSampleId=53;class JT{constructor(e){this.presetName=Ce.read8BitStringLength(e,20),this.preset=Ce.readUInt16LE(e),this.bank=Ce.readUInt16LE(e),this.presetBagNdx=Ce.readUInt16LE(e),this.library=Ce.readUInt32LE(e),this.genre=Ce.readUInt32LE(e),this.morphology=Ce.readUInt32LE(e)}}JT.SizeInFile=38;class ZT{constructor(e){this.modSrcOper=Ce.readUInt16LE(e),this.modDestOper=Ce.readUInt16LE(e),this.modAmount=Ce.readUInt16LE(e),this.modAmtSrcOper=Ce.readUInt16LE(e),this.modTransOper=Ce.readUInt16LE(e)}}ZT.SizeInFile=10;class eP{constructor(e){this.sampleName=Ce.read8BitStringLength(e,20),this.start=Ce.readUInt32LE(e),this.end=Ce.readUInt32LE(e),this.startLoop=Ce.readUInt32LE(e),this.endLoop=Ce.readUInt32LE(e),this.sampleRate=Ce.readUInt32LE(e),this.originalPitch=e.readByte(),this.pitchCorrection=Ce.readSInt8(e),this.sampleLink=Ce.readUInt16LE(e),this.sampleType=Ce.readUInt16LE(e)}}eP.SizeInFile=46;class Hz{get shortAmount(){return Yt.uint16ToInt16(this.wordAmount)}get lowByteAmount(){return this.wordAmount&255}get highByteAmount(){return(this.wordAmount&65280)>>8&255}constructor(e){this.wordAmount=Ce.readUInt16LE(e)}}let _we=class{constructor(){this.presetIndex=0,this.bank=0,this.pitchWheel=0,this.perNotePitchWheel=new Map,this.midiPan=0,this.midiVolume=0,this.midiExpression=0,this.midiRpn=0,this.midiData=0,this.panOffset=0,this.gainDb=0,this.pitchRange=0,this.tuning=0,this.mixVolume=0,this.mute=!1,this.solo=!1}};class Cwe{constructor(){this.activeChannel=0,this.channelList=[]}setupVoice(e,r){const n=this.channelList[this.activeChannel],i=r.region.pan+n.panOffset;r.playingChannel=this.activeChannel,r.mixVolume=n.mixVolume,r.noteGainDb+=n.gainDb,r.updatePitchRatio(n,e.outSampleRate),i<=-.5?(r.panFactorLeft=1,r.panFactorRight=0):i>=.5?(r.panFactorLeft=0,r.panFactorRight=1):(r.panFactorLeft=Math.sqrt(.5-i),r.panFactorRight=Math.sqrt(.5+i))}}var du;(function(t){t[t.None=0]="None",t[t.Continuous=1]="Continuous",t[t.Sustain=2]="Sustain"})(du||(du={}));var Id;(function(t){t[t.StereoInterleaved=0]="StereoInterleaved",t[t.StereoUnweaved=1]="StereoUnweaved",t[t.Mono=2]="Mono"})(Id||(Id={}));class Twe{constructor(){this.name="",this.presetNumber=0,this.bank=0,this.regions=null,this.fontSamples=null}}class Mn{static timecents2Secs(e){return Math.pow(2,e/1200)}static decibelsToGain(e){return e>-100?Math.pow(10,e*.05):0}static gainToDecibels(e){return e<=1e-5?-100:20*Math.log10(e)}static cents2Hertz(e){return 8.176*Math.pow(2,e/1200)}static clamp(e,r,n){return e<=r?r:e>=n?n:e}}class $g{constructor(e){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0,e&&(this.delay=e.delay,this.attack=e.attack,this.hold=e.hold,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.keynumToHold=e.keynumToHold,this.keynumToDecay=e.keynumToDecay)}clear(){this.delay=0,this.attack=0,this.hold=0,this.decay=0,this.sustain=0,this.release=0,this.keynumToHold=0,this.keynumToDecay=0}envToSecs(e){this.delay=this.delay<-11950?0:Mn.timecents2Secs(this.delay),this.attack=this.attack<-11950?0:Mn.timecents2Secs(this.attack),this.release=this.release<-11950?0:Mn.timecents2Secs(this.release),this.keynumToHold===0&&(this.hold=this.hold<-11950?0:Mn.timecents2Secs(this.hold)),this.keynumToDecay===0&&(this.decay=this.decay<-11950?0:Mn.timecents2Secs(this.decay)),this.sustain<0?this.sustain=0:e?this.sustain=Mn.decibelsToGain(-this.sustain/10):this.sustain=1-this.sustain/1e3}}var sr;(function(t){t[t.StartAddrsOffset=0]="StartAddrsOffset",t[t.EndAddrsOffset=1]="EndAddrsOffset",t[t.StartloopAddrsOffset=2]="StartloopAddrsOffset",t[t.EndloopAddrsOffset=3]="EndloopAddrsOffset",t[t.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",t[t.ModLfoToPitch=5]="ModLfoToPitch",t[t.VibLfoToPitch=6]="VibLfoToPitch",t[t.ModEnvToPitch=7]="ModEnvToPitch",t[t.InitialFilterFc=8]="InitialFilterFc",t[t.InitialFilterQ=9]="InitialFilterQ",t[t.ModLfoToFilterFc=10]="ModLfoToFilterFc",t[t.ModEnvToFilterFc=11]="ModEnvToFilterFc",t[t.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",t[t.ModLfoToVolume=13]="ModLfoToVolume",t[t.Unused1=14]="Unused1",t[t.ChorusEffectsSend=15]="ChorusEffectsSend",t[t.ReverbEffectsSend=16]="ReverbEffectsSend",t[t.Pan=17]="Pan",t[t.Unused2=18]="Unused2",t[t.Unused3=19]="Unused3",t[t.Unused4=20]="Unused4",t[t.DelayModLFO=21]="DelayModLFO",t[t.FreqModLFO=22]="FreqModLFO",t[t.DelayVibLFO=23]="DelayVibLFO",t[t.FreqVibLFO=24]="FreqVibLFO",t[t.DelayModEnv=25]="DelayModEnv",t[t.AttackModEnv=26]="AttackModEnv",t[t.HoldModEnv=27]="HoldModEnv",t[t.DecayModEnv=28]="DecayModEnv",t[t.SustainModEnv=29]="SustainModEnv",t[t.ReleaseModEnv=30]="ReleaseModEnv",t[t.KeynumToModEnvHold=31]="KeynumToModEnvHold",t[t.KeynumToModEnvDecay=32]="KeynumToModEnvDecay",t[t.DelayVolEnv=33]="DelayVolEnv",t[t.AttackVolEnv=34]="AttackVolEnv",t[t.HoldVolEnv=35]="HoldVolEnv",t[t.DecayVolEnv=36]="DecayVolEnv",t[t.SustainVolEnv=37]="SustainVolEnv",t[t.ReleaseVolEnv=38]="ReleaseVolEnv",t[t.KeynumToVolEnvHold=39]="KeynumToVolEnvHold",t[t.KeynumToVolEnvDecay=40]="KeynumToVolEnvDecay",t[t.Instrument=41]="Instrument",t[t.Reserved1=42]="Reserved1",t[t.KeyRange=43]="KeyRange",t[t.VelRange=44]="VelRange",t[t.StartloopAddrsCoarseOffset=45]="StartloopAddrsCoarseOffset",t[t.Keynum=46]="Keynum",t[t.Velocity=47]="Velocity",t[t.InitialAttenuation=48]="InitialAttenuation",t[t.Reserved2=49]="Reserved2",t[t.EndloopAddrsCoarseOffset=50]="EndloopAddrsCoarseOffset",t[t.CoarseTune=51]="CoarseTune",t[t.FineTune=52]="FineTune",t[t.SampleID=53]="SampleID",t[t.SampleModes=54]="SampleModes",t[t.Reserved3=55]="Reserved3",t[t.ScaleTuning=56]="ScaleTuning",t[t.ExclusiveClass=57]="ExclusiveClass",t[t.OverridingRootKey=58]="OverridingRootKey",t[t.Unused5=59]="Unused5",t[t.EndOper=60]="EndOper"})(sr||(sr={}));class qh{constructor(e){this.loopMode=du.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv=new $g,this.modEnv=new $g,this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,e&&(this.loopMode=e.loopMode,this.sampleRate=e.sampleRate,this.loKey=e.loKey,this.hiKey=e.hiKey,this.loVel=e.loVel,this.hiVel=e.hiVel,this.group=e.group,this.offset=e.offset,this.end=e.end,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.transpose=e.transpose,this.tune=e.tune,this.pitchKeyCenter=e.pitchKeyCenter,this.pitchKeyTrack=e.pitchKeyTrack,this.attenuation=e.attenuation,this.pan=e.pan,this.ampEnv=new $g(e.ampEnv),this.modEnv=new $g(e.modEnv),this.initialFilterQ=e.initialFilterQ,this.initialFilterFc=e.initialFilterFc,this.modEnvToPitch=e.modEnvToPitch,this.modEnvToFilterFc=e.modEnvToFilterFc,this.modLfoToFilterFc=e.modLfoToFilterFc,this.modLfoToVolume=e.modLfoToVolume,this.delayModLFO=e.delayModLFO,this.freqModLFO=e.freqModLFO,this.modLfoToPitch=e.modLfoToPitch,this.delayVibLFO=e.delayVibLFO,this.freqVibLFO=e.freqVibLFO,this.vibLfoToPitch=e.vibLfoToPitch)}clear(e){this.loopMode=du.None,this.sampleRate=0,this.loKey=0,this.hiKey=0,this.loVel=0,this.hiVel=0,this.group=0,this.offset=0,this.end=0,this.loopStart=0,this.loopEnd=0,this.transpose=0,this.tune=0,this.pitchKeyCenter=0,this.pitchKeyTrack=0,this.attenuation=0,this.pan=0,this.ampEnv.clear(),this.modEnv.clear(),this.initialFilterQ=0,this.initialFilterFc=0,this.modEnvToPitch=0,this.modEnvToFilterFc=0,this.modLfoToFilterFc=0,this.modLfoToVolume=0,this.delayModLFO=0,this.freqModLFO=0,this.modLfoToPitch=0,this.delayVibLFO=0,this.freqVibLFO=0,this.vibLfoToPitch=0,this.hiKey=127,this.hiVel=127,this.pitchKeyCenter=60,!e&&(this.pitchKeyTrack=100,this.pitchKeyCenter=-1,this.ampEnv.delay=-12e3,this.ampEnv.attack=-12e3,this.ampEnv.hold=-12e3,this.ampEnv.decay=-12e3,this.ampEnv.release=-12e3,this.modEnv.delay=-12e3,this.modEnv.attack=-12e3,this.modEnv.hold=-12e3,this.modEnv.decay=-12e3,this.modEnv.release=-12e3,this.initialFilterFc=13500,this.delayModLFO=-12e3,this.delayVibLFO=-12e3)}operator(e,r){switch(e){case sr.StartAddrsOffset:this.offset+=Yt.int16ToUint32(r.shortAmount);break;case sr.EndAddrsOffset:this.end+=Yt.int16ToUint32(r.shortAmount);break;case sr.StartloopAddrsOffset:this.loopStart+=Yt.int16ToUint32(r.shortAmount);break;case sr.EndloopAddrsOffset:this.loopEnd+=Yt.int16ToUint32(r.shortAmount);break;case sr.StartAddrsCoarseOffset:this.offset+=Yt.int16ToUint32(r.shortAmount)*32768;break;case sr.ModLfoToPitch:this.modLfoToPitch=r.shortAmount;break;case sr.VibLfoToPitch:this.vibLfoToPitch=r.shortAmount;break;case sr.ModEnvToPitch:this.modEnvToPitch=r.shortAmount;break;case sr.InitialFilterFc:this.initialFilterFc=r.shortAmount;break;case sr.InitialFilterQ:this.initialFilterQ=r.shortAmount;break;case sr.ModLfoToFilterFc:this.modLfoToFilterFc=r.shortAmount;break;case sr.ModEnvToFilterFc:this.modEnvToFilterFc=r.shortAmount;break;case sr.EndAddrsCoarseOffset:this.end+=Yt.int16ToUint32(r.shortAmount)*32768;break;case sr.ModLfoToVolume:this.modLfoToVolume=r.shortAmount;break;case sr.Pan:this.pan=r.shortAmount/1e3;break;case sr.DelayModLFO:this.delayModLFO=r.shortAmount;break;case sr.FreqModLFO:this.freqModLFO=r.shortAmount;break;case sr.DelayVibLFO:this.delayVibLFO=r.shortAmount;break;case sr.FreqVibLFO:this.freqVibLFO=r.shortAmount;break;case sr.DelayModEnv:this.modEnv.delay=r.shortAmount;break;case sr.AttackModEnv:this.modEnv.attack=r.shortAmount;break;case sr.HoldModEnv:this.modEnv.hold=r.shortAmount;break;case sr.DecayModEnv:this.modEnv.decay=r.shortAmount;break;case sr.SustainModEnv:this.modEnv.sustain=r.shortAmount;break;case sr.ReleaseModEnv:this.modEnv.release=r.shortAmount;break;case sr.KeynumToModEnvHold:this.modEnv.keynumToHold=r.shortAmount;break;case sr.KeynumToModEnvDecay:this.modEnv.keynumToDecay=r.shortAmount;break;case sr.DelayVolEnv:this.ampEnv.delay=r.shortAmount;break;case sr.AttackVolEnv:this.ampEnv.attack=r.shortAmount;break;case sr.HoldVolEnv:this.ampEnv.hold=r.shortAmount;break;case sr.DecayVolEnv:this.ampEnv.decay=r.shortAmount;break;case sr.SustainVolEnv:this.ampEnv.sustain=r.shortAmount;break;case sr.ReleaseVolEnv:this.ampEnv.release=r.shortAmount;break;case sr.KeynumToVolEnvHold:this.ampEnv.keynumToHold=r.shortAmount;break;case sr.KeynumToVolEnvDecay:this.ampEnv.keynumToDecay=r.shortAmount;break;case sr.KeyRange:this.loKey=r.lowByteAmount,this.hiKey=r.highByteAmount;break;case sr.VelRange:this.loVel=r.lowByteAmount,this.hiVel=r.highByteAmount;break;case sr.StartloopAddrsCoarseOffset:this.loopStart+=Yt.int16ToUint32(r.shortAmount)*32768;break;case sr.InitialAttenuation:this.attenuation+=r.shortAmount*.1;break;case sr.EndloopAddrsCoarseOffset:this.loopEnd+=Yt.int16ToUint32(r.shortAmount)*32768;break;case sr.CoarseTune:this.transpose+=r.shortAmount;break;case sr.FineTune:this.tune+=r.shortAmount;break;case sr.SampleModes:this.loopMode=(r.wordAmount&3)===3?du.Sustain:(r.wordAmount&3)===1?du.Continuous:du.None;break;case sr.ScaleTuning:this.pitchKeyTrack=r.shortAmount;break;case sr.ExclusiveClass:this.group=r.wordAmount;break;case sr.OverridingRootKey:this.pitchKeyCenter=r.shortAmount;break}}}var Hr;(function(t){t[t.None=0]="None",t[t.Delay=1]="Delay",t[t.Attack=2]="Attack",t[t.Hold=3]="Hold",t[t.Decay=4]="Decay",t[t.Sustain=5]="Sustain",t[t.Release=6]="Release",t[t.Done=7]="Done"})(Hr||(Hr={}));class ty{constructor(){this.level=0,this.slope=0,this.samplesUntilNextSegment=0,this.segment=Hr.None,this.midiVelocity=0,this.parameters=null,this.segmentIsExponential=!1,this.isAmpEnv=!1}nextSegment(e,r){if(this.parameters)for(;;)switch(e){case Hr.None:if(this.samplesUntilNextSegment=this.parameters.delay*r|0,this.samplesUntilNextSegment>0){this.segment=Hr.Delay,this.segmentIsExponential=!1,this.level=0,this.slope=0;return}e=Hr.Delay;break;case Hr.Delay:if(this.samplesUntilNextSegment=this.parameters.attack*r|0,this.samplesUntilNextSegment>0){this.isAmpEnv||(this.samplesUntilNextSegment=this.parameters.attack*((145-this.midiVelocity)/144)*r|0),this.segment=Hr.Attack,this.segmentIsExponential=!1,this.level=0,this.slope=1/this.samplesUntilNextSegment;return}e=Hr.Attack;break;case Hr.Attack:if(this.samplesUntilNextSegment=this.parameters.hold*r|0,this.samplesUntilNextSegment>0){this.segment=Hr.Hold,this.segmentIsExponential=!1,this.level=1,this.slope=0;return}e=Hr.Hold;break;case Hr.Hold:if(this.samplesUntilNextSegment=this.parameters.decay*r|0,this.samplesUntilNextSegment>0){if(this.segment=Hr.Decay,this.level=1,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0,this.parameters.sustain>0&&(this.samplesUntilNextSegment=Math.log(this.parameters.sustain)/n|0)}else this.slope=-1/this.samplesUntilNextSegment,this.samplesUntilNextSegment=this.parameters.decay*(1-this.parameters.sustain)*r|0,this.segmentIsExponential=!1;return}e=Hr.Decay;break;case Hr.Decay:this.segment=Hr.Sustain,this.level=this.parameters.sustain,this.slope=0,this.samplesUntilNextSegment=2147483647,this.segmentIsExponential=!1;return;case Hr.Sustain:if(this.segment=Hr.Release,this.samplesUntilNextSegment=(this.parameters.release<=0?ty.FastReleaseTime:this.parameters.release)*r|0,this.isAmpEnv){let n=-9.226/this.samplesUntilNextSegment;this.slope=Math.exp(n),this.segmentIsExponential=!0}else this.slope=-this.level/this.samplesUntilNextSegment,this.segmentIsExponential=!1;return;default:this.segment=Hr.Done,this.segmentIsExponential=!1,this.level=0,this.slope=0,this.samplesUntilNextSegment=134217727;return}}setup(e,r,n,i,s){this.parameters=new $g(e),this.parameters.keynumToHold>0&&(this.parameters.hold+=this.parameters.keynumToHold*(60-r),this.parameters.hold=this.parameters.hold<-1e4?0:Mn.timecents2Secs(this.parameters.hold)),this.parameters.keynumToDecay>0&&(this.parameters.decay+=this.parameters.keynumToDecay*(60-r),this.parameters.decay=this.parameters.decay<-1e4?0:Mn.timecents2Secs(this.parameters.decay)),this.midiVelocity=n|0,this.isAmpEnv=i,this.nextSegment(Hr.None,s)}process(e,r){this.slope>0&&(this.segmentIsExponential?this.level*=Math.pow(this.slope,e):this.level+=this.slope*e),this.samplesUntilNextSegment-=e,this.samplesUntilNextSegment<=0&&this.nextSegment(this.segment,r)}}ty.FastReleaseTime=.01;class kF{constructor(){this.samplesUntil=0,this.level=0,this.delta=0}setup(e,r,n){this.samplesUntil=e*n|0,this.delta=4*Mn.cents2Hertz(r)/n,this.level=0}process(e){if(this.samplesUntil>e){this.samplesUntil-=e;return}this.level+=this.delta*e,this.level>1?(this.delta=-this.delta,this.level=2-this.level):this.level<-1&&(this.delta=-this.delta,this.level=-2-this.level)}}class _F{constructor(e){this.qInv=0,this.a0=0,this.a1=0,this.b1=0,this.b2=0,this.z1=0,this.z2=0,this.active=!1,e&&(this.qInv=e.qInv,this.a0=e.a0,this.a1=e.a1,this.b1=e.b1,this.b2=e.b2,this.z1=e.z1,this.z2=e.z2,this.active=e.active)}setup(e){let r=Math.tan(Math.PI*e),n=r*r,i=1/(1+r*this.qInv+n);this.a0=n*i,this.a1=2*this.a0,this.b1=2*(n-1)*i,this.b2=(1-r*this.qInv+n)*i}process(e){let r=e*this.a0+this.z1;return this.z1=e*this.a1+this.z2-this.b1*r,this.z2=e*this.a0-this.b2*r,r}}class ry{constructor(){this.playingPreset=0,this.playingKey=0,this.playingChannel=0,this.region=null,this.pitchInputTimecents=0,this.pitchOutputFactor=0,this.sourceSamplePosition=0,this.noteGainDb=0,this.panFactorLeft=0,this.panFactorRight=0,this.playIndex=0,this.loopStart=0,this.loopEnd=0,this.ampEnv=new ty,this.modEnv=new ty,this.lowPass=new _F,this.modLfo=new kF,this.vibLfo=new kF,this.mixVolume=0,this.mute=!1}updatePitchRatio(e,r){let n=e.pitchWheel;e.perNotePitchWheel.has(this.playingKey)&&(n+=e.perNotePitchWheel.get(this.playingKey)-8192);const i=n===8192?e.tuning:n/16383*e.pitchRange*2-e.pitchRange+e.tuning;this.calcPitchRatio(i,r)}calcPitchRatio(e,r){if(!this.region)return;const n=this.playingKey+this.region.transpose+this.region.tune/100;let i=this.region.pitchKeyCenter+(n-this.region.pitchKeyCenter)*(this.region.pitchKeyTrack/100);e!==0&&(i+=e),this.pitchInputTimecents=i*100,this.pitchOutputFactor=this.region.sampleRate/(Mn.timecents2Secs(this.region.pitchKeyCenter*100)*r)}end(e){this.region&&(this.ampEnv.nextSegment(Hr.Sustain,e),this.modEnv.nextSegment(Hr.Sustain,e),this.region.loopMode===du.Sustain&&(this.loopEnd=this.loopStart))}endQuick(e){this.ampEnv.parameters.release=0,this.ampEnv.nextSegment(Hr.Sustain,e),this.modEnv.parameters.release=0,this.modEnv.nextSegment(Hr.Sustain,e)}render(e,r,n,i,s){if(!this.region)return;let a=this.region,l=e.presets[this.playingPreset].fontSamples,u=0,c=e.outputMode===Id.StereoUnweaved?i:-1,h=a.modEnvToPitch!==0||a.modEnvToFilterFc!==0,f=this.modLfo.delta>0&&(a.modLfoToPitch!==0||a.modLfoToFilterFc!==0||a.modLfoToVolume!==0),m=this.vibLfo.delta>0&&a.vibLfoToPitch!==0,g=this.loopStart<this.loopEnd,y=this.loopStart,b=this.loopEnd,x=a.end,v=b+1,w=this.sourceSamplePosition,T=new _F(this.lowPass),P=a.modLfoToFilterFc!==0||a.modEnvToFilterFc!==0,C=0,M=0,E=0,D=0,I=a.modLfoToPitch!==0||a.modEnvToPitch!==0||a.vibLfoToPitch!==0,A=0,W=0,V=0,$=0,L=a.modLfoToVolume!==0,H=0,z=0;for(P?(C=e.outSampleRate,M=a.initialFilterFc,E=a.modLfoToFilterFc,D=a.modEnvToFilterFc):(C=0,M=0,E=0,D=0),I?(A=0,W=a.modLfoToPitch,V=a.vibLfoToPitch,$=a.modEnvToPitch):(A=Mn.timecents2Secs(this.pitchInputTimecents)*this.pitchOutputFactor,W=0,V=0,$=0),L?z=a.modLfoToVolume*.1:(H=Mn.decibelsToGain(this.noteGainDb),z=0);i>0;){let F,U,q=0,ae=i>ry.RenderEffectSampleBlock?ry.RenderEffectSampleBlock:i;if(i-=ae,P){let he=M+this.modLfo.level*E+this.modEnv.level*D;T.active=he<=13500,T.active&&T.setup(Mn.cents2Hertz(he)/C)}switch(I&&(A=Mn.timecents2Secs(this.pitchInputTimecents+(this.modLfo.level*W+this.vibLfo.level*V+this.modEnv.level*$))*this.pitchOutputFactor),L&&(H=Mn.decibelsToGain(this.noteGainDb+this.modLfo.level*z)),F=H*this.ampEnv.level,s?F=0:F*=this.mixVolume,this.ampEnv.process(ae,e.outSampleRate),h&&this.modEnv.process(ae,e.outSampleRate),f&&this.modLfo.process(ae),m&&this.vibLfo.process(ae),e.outputMode){case Id.StereoInterleaved:for(U=F*this.panFactorLeft,q=F*this.panFactorRight;ae-- >0&&w<x;){let he=w|0,be=he>=b&&g?y:he+1,pe=w-he,ee=l[he]*(1-pe)+l[be]*pe;T.active&&(ee=T.process(ee)),r[n+u]+=ee*U,u++,r[n+u]+=ee*q,u++,w+=A,w>=v&&g&&(w-=b-y+1)}break;case Id.StereoUnweaved:for(U=F*this.panFactorLeft,q=F*this.panFactorRight;ae-- >0&&w<x;){let he=w|0,be=he>=b&&g?y:he+1,pe=w-he,ee=l[he]*(1-pe)+l[be]*pe;T.active&&(ee=T.process(ee)),r[n+u]+=ee*U,u++,r[n+c]+=ee*q,c++,w+=A,w>=v&&g&&(w-=b-y+1)}break;case Id.Mono:for(;ae-- >0&&w<x;){let he=w|0,be=he>=b&&g?y:he+1,pe=w-he,ee=l[he]*(1-pe)+l[be]*pe;T.active&&(ee=T.process(ee)),r[n+u]=ee*F,u++,w+=A,w>=v&&g&&(w-=b-y+1)}break}if(w>=x||this.ampEnv.segment===Hr.Done){this.kill();return}}this.sourceSamplePosition=w,(T.active||P)&&(this.lowPass=T)}kill(){this.playingPreset=-1}}ry.RenderEffectSampleBlock=Gt.MicroBufferSize;class tP{constructor(){this._items=[],this._position=0,this.isEmpty=!0}clear(){this._items=[],this._position=0,this.isEmpty=!0}enqueue(e){this.isEmpty=!1,this._items.push(e)}peek(){return this._items[this._position]}dequeue(){const e=this._items[this._position];return this._position++,this._position>=this._items.length/2&&(this._items=this._items.slice(this._position),this._position=0),this.isEmpty=this._items.length==0,e}toArray(){const e=this._items.slice(this._position);return e.reverse(),e}}var Lr;(function(t){t[t.BankSelectCoarse=0]="BankSelectCoarse",t[t.ModulationCoarse=1]="ModulationCoarse",t[t.DataEntryCoarse=6]="DataEntryCoarse",t[t.VolumeCoarse=7]="VolumeCoarse",t[t.PanCoarse=10]="PanCoarse",t[t.ExpressionControllerCoarse=11]="ExpressionControllerCoarse",t[t.BankSelectFine=32]="BankSelectFine",t[t.ModulationFine=33]="ModulationFine",t[t.DataEntryFine=38]="DataEntryFine",t[t.VolumeFine=39]="VolumeFine",t[t.PanFine=42]="PanFine",t[t.ExpressionControllerFine=43]="ExpressionControllerFine",t[t.HoldPedal=64]="HoldPedal",t[t.LegatoPedal=68]="LegatoPedal",t[t.NonRegisteredParameterFine=98]="NonRegisteredParameterFine",t[t.NonRegisteredParameterCourse=99]="NonRegisteredParameterCourse",t[t.RegisteredParameterFine=100]="RegisteredParameterFine",t[t.RegisteredParameterCourse=101]="RegisteredParameterCourse",t[t.AllSoundOff=120]="AllSoundOff",t[t.ResetControllers=121]="ResetControllers",t[t.AllNotesOff=123]="AllNotesOff"})(Lr||(Lr={}));class Pwe{constructor(e){this._midiEventQueue=new tP,this._mutedChannels=new Map,this._soloChannels=new Map,this._isAnySolo=!1,this._transpositionPitches=new Map,this.currentTempo=0,this.timeSignatureNumerator=0,this.timeSignatureDenominator=0,this.presets=null,this._voices=[],this._channels=null,this._voicePlayIndex=0,this.outputMode=Id.StereoInterleaved,this.outSampleRate=0,this.globalGainDb=0,this.outSampleRate=e}synthesize(e,r,n){return this.fillWorkingBuffer(e,r,n)}synthesizeSilent(e){this.fillWorkingBuffer(null,0,e)}channelGetMixVolume(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].mixVolume:1}channelSetMixVolume(e,r){let n=this.channelInit(e);for(let i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(i.mixVolume=r);n.mixVolume=r}channelSetMute(e,r){r?this._mutedChannels.set(e,!0):this._mutedChannels.delete(e)}channelSetSolo(e,r){r?this._soloChannels.set(e,!0):this._soloChannels.delete(e),this._isAnySolo=this._soloChannels.size>0}resetChannelStates(){this._mutedChannels=new Map,this._soloChannels=new Map,this.applyTranspositionPitches(new Map),this._isAnySolo=!1}applyTranspositionPitches(e){const r=this._transpositionPitches;for(const n of this._voices)if(n.playingChannel>=0&&n.playingChannel!==9){let i=0;r.has(n.playingChannel)&&(i-=r.get(n.playingChannel)),e.has(n.playingChannel)&&(i+=e.get(n.playingChannel)),n.playingKey+=i,this._channels&&n.updatePitchRatio(this._channels.channelList[n.playingChannel],this.outSampleRate)}this._transpositionPitches=e}dispatchEvent(e){this._midiEventQueue.enqueue(e)}fillWorkingBuffer(e,r,n){const i=this._isAnySolo,s=[];for(;!this._midiEventQueue.isEmpty;){let a=this._midiEventQueue.dequeue();a.isMetronome&&this.metronomeVolume>0?(this.channelNoteOff(Gt.MetronomeChannel,33),this.channelNoteOn(Gt.MetronomeChannel,33,95/127)):a.event&&this.processMidiMessage(a.event),s.push(a)}for(const a of this._voices)if(a.playingPreset!==-1){const o=a.playingChannel,l=this._mutedChannels.has(o)||i&&o!=Gt.MetronomeChannel&&!this._soloChannels.has(o);e?a.render(this,e,r,n,l):a.kill()}return s}processMidiMessage(e){switch(Fe.debug("MIdi","Processing Midi message "+ar[e.type]+"/"+e.tick),e.type){case ar.TimeSignature:const n=e;this.timeSignatureNumerator=n.numerator,this.timeSignatureDenominator=Math.pow(2,n.denominatorIndex);break;case ar.NoteOn:const i=e;this.channelNoteOn(i.channel,i.noteKey,i.noteVelocity/127);break;case ar.NoteOff:const s=e;this.channelNoteOff(s.channel,s.noteKey);break;case ar.ControlChange:const a=e;this.channelMidiControl(a.channel,a.controller,a.value);break;case ar.ProgramChange:const o=e;this.channelSetPresetNumber(o.channel,o.program,o.channel===9);break;case ar.TempoChange:const l=e;this.currentTempo=6e7/l.microSecondsPerQuarterNote;break;case ar.PitchBend:const u=e;this.channelSetPitchWheel(u.channel,u.value);break;case ar.PerNotePitchBend:const c=e;let h=c.value;h=h*Gt.MaxPitchWheel/Gt.MaxPitchWheel20,this.channelSetPerNotePitchWheel(c.channel,c.noteKey,h);break}}get metronomeVolume(){return this.channelGetMixVolume(Gt.MetronomeChannel)}set metronomeVolume(e){this.setupMetronomeChannel(e)}setupMetronomeChannel(e){this.channelSetMixVolume(Gt.MetronomeChannel,e),e>0&&(this.channelSetVolume(Gt.MetronomeChannel,1),this.channelSetPresetNumber(Gt.MetronomeChannel,0,!0))}get masterVolume(){return Mn.decibelsToGain(this.globalGainDb)}set masterVolume(e){var r=Mn.gainToDecibels(e);const n=r-this.globalGainDb;if(n!==0){for(const i of this._voices)i.playingPreset!==-1&&(i.noteGainDb+=n);this.globalGainDb=r}}resetSoft(){for(const e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<Hr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);if(this._channels)for(const e of this._channels.channelList)e.presetIndex=0,e.bank=0,e.pitchWheel=8192,e.midiPan=8192,e.perNotePitchWheel.clear(),e.midiVolume=16383,e.midiExpression=16383,e.midiRpn=65535,e.midiData=0,e.panOffset=0,e.gainDb=0,e.pitchRange=2,e.tuning=0}get presetCount(){var e;return((e=this.presets)==null?void 0:e.length)??0}reset(){for(let e of this._voices)e.playingPreset!==-1&&(e.ampEnv.segment<Hr.Release||e.ampEnv.parameters.release!==0)&&e.endQuick(this.outSampleRate);this._channels=null}setOutput(e,r,n){this.outputMode=e,this.outSampleRate=r>=1?r:44100,this.globalGainDb=n}noteOn(e,r,n){if(!this.presets)return;const i=n*127|0;if(e<0||e>=this.presets.length)return;if(n<=0){this.noteOff(e,r);return}const s=this._voicePlayIndex++;for(const a of this.presets[e].regions){if(r<a.loKey||r>a.hiKey||i<a.loVel||i>a.hiVel)continue;let o=null;if(a.group!==0)for(const c of this._voices)c.playingPreset===e&&c.region.group===a.group?c.endQuick(this.outSampleRate):c.playingPreset===-1&&!o&&(o=c);else for(let c of this._voices)c.playingPreset===-1&&(o=c);if(!o){for(let c=0;c<4;c++){const h=new ry;h.playingPreset=-1,this._voices.push(h)}o=this._voices[this._voices.length-4]}o.region=a,o.playingPreset=e,o.playingKey=r,o.playIndex=s,o.noteGainDb=this.globalGainDb-a.attenuation-Mn.gainToDecibels(1/n),this._channels?this._channels.setupVoice(this,o):(o.calcPitchRatio(0,this.outSampleRate),o.panFactorLeft=Math.sqrt(.5-a.pan),o.panFactorRight=Math.sqrt(.5+a.pan)),o.sourceSamplePosition=a.offset;const l=a.loopMode!==du.None&&a.loopStart<a.loopEnd;o.loopStart=l?a.loopStart:0,o.loopEnd=l?a.loopEnd:0,o.ampEnv.setup(a.ampEnv,r,i,!0,this.outSampleRate),o.modEnv.setup(a.modEnv,r,i,!1,this.outSampleRate);const u=a.initialFilterQ/10;o.lowPass.qInv=1/Math.pow(10,u/20),o.lowPass.z1=0,o.lowPass.z2=0,o.lowPass.active=a.initialFilterFc<=13500,o.lowPass.active&&o.lowPass.setup(Mn.cents2Hertz(a.initialFilterFc)/this.outSampleRate),o.modLfo.setup(a.delayModLFO,a.freqModLFO,this.outSampleRate),o.vibLfo.setup(a.delayVibLFO,a.freqVibLFO,this.outSampleRate)}}bankNoteOn(e,r,n,i){let s=this.getPresetIndex(e,r);return s===-1?!1:(this.noteOn(s,n,i),!0)}noteOff(e,r){let n=null,i=null,s=[];for(let a of this._voices)a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=Hr.Release||(!n||a.playIndex<n.playIndex?(n=a,i=a,s.push(a)):a.playIndex===n.playIndex&&(i=a,s.push(a)));if(n)for(const a of s)a!==n&&a!==i&&(a.playIndex!==n.playIndex||a.playingPreset!==e||a.playingKey!==r||a.ampEnv.segment>=Hr.Release)||a.end(this.outSampleRate)}bankNoteOff(e,r,n){const i=this.getPresetIndex(e,r);return i===-1?!1:(this.noteOff(i,n),!0)}noteOffAll(e){for(const r of this._voices)r.playingPreset!==-1&&r.ampEnv.segment<Hr.Release&&(e?r.endQuick(this.outSampleRate):r.end(this.outSampleRate))}get activeVoiceCount(){let e=0;for(const r of this._voices)r.playingPreset!==-1&&e++;return e}channelInit(e){if(this._channels&&e<this._channels.channelList.length)return this._channels.channelList[e];this._channels||(this._channels=new Cwe);for(let r=this._channels.channelList.length;r<=e;r++){let n=new _we;n.presetIndex=0,n.bank=0,n.pitchWheel=8192,n.midiPan=8192,n.midiVolume=16383,n.midiExpression=16383,n.midiRpn=65535,n.midiData=0,n.panOffset=0,n.gainDb=0,n.pitchRange=2,n.tuning=0,n.mixVolume=1,this._channels.channelList.push(n)}return this._channels.channelList[e]}getPresetIndex(e,r){if(!this.presets)return-1;for(let n=this.presets.length-1;n>=0;n--){let i=this.presets[n];if(i.presetNumber===r&&i.bank===e)return n}return-1}getPresetName(e){return this.presets?e<0||e>=this.presets.length?null:this.presets[e].name:null}bankGetPresetName(e,r){return this.getPresetName(this.getPresetIndex(e,r))}channelNoteOn(e,r,n){!this._channels||e>this._channels.channelList.length||(this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e)),this._channels.activeChannel=e,this.noteOn(this._channels.channelList[e].presetIndex,r,n))}channelNoteOff(e,r){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const n=[];let i=null,s=null;for(const o of this._voices)o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=Hr.Release||(!i||o.playIndex<i.playIndex?(i=o,s=o,n.push(o)):o.playIndex===i.playIndex&&(s=o,n.push(o)));if(this.channelInit(e).perNotePitchWheel.delete(r),!!i)for(const o of n)o!==i&&o!==s&&(o.playIndex!==i.playIndex||o.playingPreset===-1||o.playingChannel!==e||o.playingKey!==r||o.ampEnv.segment>=Hr.Release)||o.end(this.outSampleRate)}channelNoteOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(const n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&n.ampEnv.segment<Hr.Release&&n.end(this.outSampleRate)}channelSoundsOffAll(e){this.channelInit(e).perNotePitchWheel.clear();for(let n of this._voices)n.playingPreset!==-1&&n.playingChannel===e&&(n.ampEnv.segment<Hr.Release||n.ampEnv.parameters.release===0)&&n.endQuick(this.outSampleRate)}channelSetPresetIndex(e,r){this.channelInit(e).presetIndex=Yt.int32ToUint16(r)}channelSetPresetNumber(e,r,n=!1){const i=this.channelInit(e);let s=0;return n?(s=this.getPresetIndex(128|i.bank&32767,r),s===-1&&(s=this.getPresetIndex(128,r)),s===-1&&(s=this.getPresetIndex(128,0)),s===-1&&(s=this.getPresetIndex(i.bank&2047,r))):s=this.getPresetIndex(i.bank&2047,r),i.presetIndex=s,s!==-1}channelSetBank(e,r){this.channelInit(e).bank=Yt.int32ToUint16(r)}channelSetBankPreset(e,r,n){const i=this.channelInit(e),s=this.getPresetIndex(r,n);return s===-1?!1:(i.presetIndex=Yt.int32ToUint16(s),i.bank=Yt.int32ToUint16(r),!0)}channelSetPan(e,r){for(const n of this._voices)if(n.playingChannel===e&&n.playingPreset!==-1){let i=n.region.pan+r-.5;i<=-.5?(n.panFactorLeft=1,n.panFactorRight=0):i>=.5?(n.panFactorLeft=0,n.panFactorRight=1):(n.panFactorLeft=Math.sqrt(.5-i),n.panFactorRight=Math.sqrt(.5+i))}this.channelInit(e).panOffset=r-.5}channelSetVolume(e,r){const n=this.channelInit(e),i=Mn.gainToDecibels(r),s=i-n.gainDb;if(s!==0){for(const a of this._voices)a.playingChannel===e&&a.playingPreset!==-1&&(a.noteGainDb+=s);n.gainDb=i}}channelSetPitchWheel(e,r){const n=this.channelInit(e);n.pitchWheel!==r&&(n.pitchWheel=Yt.int32ToUint16(r),this.channelApplyPitch(e,n))}channelSetPerNotePitchWheel(e,r,n){this._transpositionPitches.has(e)&&(r+=this._transpositionPitches.get(e));const i=this.channelInit(e);i.perNotePitchWheel.has(r)&&i.perNotePitchWheel.get(r)===n||(i.perNotePitchWheel.set(r,n),this.channelApplyPitch(e,i,r))}channelApplyPitch(e,r,n=-1){for(const i of this._voices)i.playingChannel===e&&i.playingPreset!==-1&&(n==-1||i.playingKey===n)&&i.updatePitchRatio(r,this.outSampleRate)}channelSetPitchRange(e,r){const n=this.channelInit(e);n.pitchRange!==r&&(n.pitchRange=r,n.pitchWheel!==8192&&this.channelApplyPitch(e,n))}channelSetTuning(e,r){const n=this.channelInit(e);n.tuning!==r&&(n.tuning=r,this.channelApplyPitch(e,n))}channelMidiControl(e,r,n){let i=this.channelInit(e);switch(r){case Lr.DataEntryFine:i.midiData=Yt.int32ToUint16(i.midiData&16256|n),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Lr.VolumeCoarse:i.midiVolume=Yt.int32ToUint16(i.midiVolume&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Lr.VolumeFine:i.midiVolume=Yt.int32ToUint16(i.midiVolume&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Lr.ExpressionControllerCoarse:i.midiExpression=Yt.int32ToUint16(i.midiExpression&127|n<<7),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Lr.ExpressionControllerFine:i.midiExpression=Yt.int32ToUint16(i.midiExpression&16256|n),this.channelSetVolume(e,Math.pow(i.midiVolume/16383*(i.midiExpression/16383),3));return;case Lr.PanCoarse:i.midiPan=Yt.int32ToUint16(i.midiPan&127|n<<7),this.channelSetPan(e,i.midiPan/16383);return;case Lr.PanFine:i.midiPan=Yt.int32ToUint16(i.midiPan&16256|n),this.channelSetPan(e,i.midiPan/16383);return;case Lr.DataEntryCoarse:i.midiData=Yt.int32ToUint16(i.midiData&127|n<<7),i.midiRpn===0?this.channelSetPitchRange(e,(i.midiData>>7)+.01*(i.midiData&127)):i.midiRpn===1?this.channelSetTuning(e,(i.tuning|0)+(i.midiData-8192)/8192):i.midiRpn===2&&r===Lr.DataEntryCoarse&&this.channelSetTuning(e,n-64+(i.tuning-(i.tuning|0)));return;case Lr.BankSelectCoarse:i.bank=Yt.int32ToUint16(32768|n);return;case Lr.BankSelectFine:i.bank=Yt.int32ToUint16((i.bank&32768?(i.bank&127)<<7:0)|n);return;case Lr.RegisteredParameterCourse:i.midiRpn=Yt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&127|n<<7);return;case Lr.RegisteredParameterFine:i.midiRpn=Yt.int32ToUint16((i.midiRpn===65535?0:i.midiRpn)&16256|n);return;case Lr.NonRegisteredParameterFine:i.midiRpn=65535;return;case Lr.NonRegisteredParameterCourse:i.midiRpn=65535;return;case Lr.AllSoundOff:this.channelSoundsOffAll(e);return;case Lr.AllNotesOff:this.channelNoteOffAll(e);return;case Lr.ResetControllers:i.midiVolume=16383,i.midiExpression=16383,i.midiPan=8192,i.bank=0,this.channelSetVolume(e,1),this.channelSetPan(e,.5),this.channelSetPitchRange(e,2);return}}channelGetPresetIndex(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].presetIndex:0}channelGetPresetBank(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].bank&32767:0}channelGetPan(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].panOffset-.5:.5}channelGetVolume(e){return this._channels&&e<this._channels.channelList.length?Mn.decibelsToGain(this._channels.channelList[e].gainDb):1}channelGetPitchWheel(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchWheel:8192}channelGetPitchRange(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].pitchRange:2}channelGetTuning(e){return this._channels&&e<this._channels.channelList.length?this._channels.channelList[e].tuning:0}resetPresets(){this.presets=[]}loadPresets(e,r){const n=[];for(let i=0;i<e.phdrs.length-1;i++){const s=e.phdrs[i];let a=0;const o=new Twe;n.push(o),o.name=s.presetName,o.bank=s.bank,o.presetNumber=s.preset,o.fontSamples=e.fontSamples;let l=0;for(let c=s.presetBagNdx;c<e.phdrs[i+1].presetBagNdx;c++){const h=e.pbags[c];let f=0,m=127,g=0,y=127;for(let b=h.genNdx;b<e.pbags[c+1].genNdx;b++){let x=e.pgens[b];if(x.genOper===qs.GenKeyRange){f=x.genAmount.lowByteAmount,m=x.genAmount.highByteAmount;continue}if(x.genOper===qs.GenVelRange){g=x.genAmount.lowByteAmount,y=x.genAmount.highByteAmount;continue}if(x.genOper!==qs.GenInstrument||x.genAmount.wordAmount>=e.insts.length)continue;let v=e.insts[x.genAmount.wordAmount];for(let w=v.instBagNdx;w<e.insts[x.genAmount.wordAmount+1].instBagNdx;w++){let T=e.ibags[w],P=0,C=127,M=0,E=127;for(let D=T.instGenNdx;D<e.ibags[w+1].instGenNdx;D++){let I=e.igens[D];if(I.genOper===qs.GenKeyRange){P=I.genAmount.lowByteAmount,C=I.genAmount.highByteAmount;continue}if(I.genOper===qs.GenVelRange){M=I.genAmount.lowByteAmount,E=I.genAmount.highByteAmount;continue}I.genOper===53&&C>=f&&P<=m&&E>=g&&M<=y&&l++}}}}o.regions=new Array(l);let u=new qh;u.clear(!0);for(let c=s.presetBagNdx;c<e.phdrs[i+1].presetBagNdx;c++){const h=e.pbags[c],f=new qh(u);let m=!1;for(let g=h.genNdx;g<e.pbags[c+1].genNdx;g++){const y=e.pgens[g];if(y.genOper===qs.GenInstrument){let b=y.genAmount.wordAmount;if(b>=e.insts.length)continue;let x=new qh;x.clear(!1);let v=e.insts[b];for(let w=v.instBagNdx;w<e.insts[b+1].instBagNdx;w++){let T=e.ibags[w],P=new qh(x),C=!1;for(let M=T.instGenNdx;M<e.ibags[w+1].instGenNdx;M++){let E=e.igens[M];if(E.genOper===qs.GenSampleId){if(P.hiKey<f.loKey||P.loKey>f.hiKey||P.hiVel<f.loVel||P.loVel>f.hiVel)continue;f.loKey>P.loKey&&(P.loKey=f.loKey),f.hiKey<P.hiKey&&(P.hiKey=f.hiKey),f.loVel>P.loVel&&(P.loVel=f.loVel),f.hiVel<P.hiVel&&(P.hiVel=f.hiVel),P.offset+=f.offset,P.end+=f.end,P.loopStart+=f.loopStart,P.loopEnd+=f.loopEnd,P.transpose+=f.transpose,P.tune+=f.tune,P.pitchKeyTrack+=f.pitchKeyTrack,P.attenuation+=f.attenuation,P.pan+=f.pan,P.ampEnv.delay+=f.ampEnv.delay,P.ampEnv.attack+=f.ampEnv.attack,P.ampEnv.hold+=f.ampEnv.hold,P.ampEnv.decay+=f.ampEnv.decay,P.ampEnv.sustain+=f.ampEnv.sustain,P.ampEnv.release+=f.ampEnv.release,P.modEnv.delay+=f.modEnv.delay,P.modEnv.attack+=f.modEnv.attack,P.modEnv.hold+=f.modEnv.hold,P.modEnv.decay+=f.modEnv.decay,P.modEnv.sustain+=f.modEnv.sustain,P.modEnv.release+=f.modEnv.release,P.initialFilterQ+=f.initialFilterQ,P.initialFilterFc+=f.initialFilterFc,P.modEnvToPitch+=f.modEnvToPitch,P.modEnvToFilterFc+=f.modEnvToFilterFc,P.delayModLFO+=f.delayModLFO,P.freqModLFO+=f.freqModLFO,P.modLfoToPitch+=f.modLfoToPitch,P.modLfoToFilterFc+=f.modLfoToFilterFc,P.modLfoToVolume+=f.modLfoToVolume,P.delayVibLFO+=f.delayVibLFO,P.freqVibLFO+=f.freqVibLFO,P.vibLfoToPitch+=f.vibLfoToPitch,P.ampEnv.envToSecs(!0),P.modEnv.envToSecs(!1),P.delayModLFO=P.delayModLFO<-11950?0:Mn.timecents2Secs(P.delayModLFO),P.delayVibLFO=P.delayVibLFO<-11950?0:Mn.timecents2Secs(P.delayVibLFO),P.pan<-.5?P.pan=-.5:P.pan>.5&&(P.pan=.5),(P.initialFilterQ<1500||P.initialFilterQ>13500)&&(P.initialFilterQ=0);let D=e.sHdrs[E.genAmount.wordAmount];P.offset+=D.start,P.end+=D.end,P.loopStart+=D.startLoop,P.loopEnd+=D.endLoop,D.endLoop>0&&(P.loopEnd-=1),P.pitchKeyCenter===-1&&(P.pitchKeyCenter=D.originalPitch),P.tune+=D.pitchCorrection,P.sampleRate=D.sampleRate,P.end!==0&&P.end<o.fontSamples.length?P.end++:P.end=o.fontSamples.length,o.regions[a]=new qh(P),a++,C=!0}else P.operator(E.genOper,E.genAmount)}T===e.ibags[v.instBagNdx]&&!C&&(x=new qh(P))}m=!0}else f.operator(y.genOper,y.genAmount)}h===e.pbags[s.presetBagNdx]&&!m&&(u=f)}}if(!r||!this.presets)this.presets=n;else for(const i of n)this.presets.push(i)}}class di{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(){for(const e of this._listeners)e()}}class or{constructor(){this._listeners=[]}on(e){this._listeners.push(e)}off(e){this._listeners=this._listeners.filter(r=>r!==e)}trigger(e){for(const r of this._listeners)r(e)}}class Uz{constructor(e){this.events=e}}class Gz{constructor(e){this.playbackRange=e}}class Bwe{get isReadyForPlayback(){return this.isReady&&this._isSoundFontLoaded&&this._isMidiLoaded}get logLevel(){return Fe.logLevel}set logLevel(e){Fe.logLevel=e}get masterVolume(){return this._synthesizer.masterVolume}set masterVolume(e){e=Math.max(e,Gt.MinVolume),this._synthesizer.masterVolume=e}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,Gt.MinVolume),this._metronomeVolume=e,this._synthesizer.metronomeVolume=e}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,Gt.MinVolume),this._countInVolume=e}get midiEventsPlayedFilter(){return Array.from(this._midiEventsPlayedFilter)}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=new Set(e)}get playbackSpeed(){return this._sequencer.playbackSpeed}set playbackSpeed(e){e=Mn.clamp(e,Gt.MinPlaybackSpeed,Gt.MaxPlaybackSpeed);let r=this._sequencer.playbackSpeed;this._sequencer.playbackSpeed=e,this.timePosition=this.timePosition*(r/e)}get tickPosition(){return this._tickPosition}set tickPosition(e){this.timePosition=this._sequencer.mainTickPositionToTimePosition(e)}get timePosition(){return this._timePosition}set timePosition(e){Fe.debug("AlphaSynth",`Seeking to position ${e}ms (main)`),this._sequencer.mainSeek(e),this.updateTimePosition(e,!0),this._sequencer.isPlayingMain&&(this._notPlayedSamples=0,this.output.resetSamples())}get playbackRange(){return this._sequencer.mainPlaybackRange}set playbackRange(e){this._sequencer.mainPlaybackRange=e,e&&(this.tickPosition=e.startTick),this.playbackRangeChanged.trigger(new Gz(e))}get isLooping(){return this._sequencer.isLooping}set isLooping(e){this._sequencer.isLooping=e}destroy(){Fe.debug("AlphaSynth","Destroying player"),this.stop(),this.output.destroy()}constructor(e,r){this._isSoundFontLoaded=!1,this._isMidiLoaded=!1,this._tickPosition=0,this._timePosition=0,this._metronomeVolume=0,this._countInVolume=0,this._playedEventsQueue=new tP,this._midiEventsPlayedFilter=new Set,this._notPlayedSamples=0,this.isReady=!1,this.state=si.Paused,this.ready=new di,this.readyForPlayback=new di,this.finished=new di,this.soundFontLoaded=new di,this.soundFontLoadFailed=new or,this.midiLoaded=new or,this.midiLoadFailed=new or,this.stateChanged=new or,this.positionChanged=new or,this.midiEventsPlayed=new or,this.playbackRangeChanged=new or,Fe.debug("AlphaSynth","Initializing player"),this.state=si.Paused,Fe.debug("AlphaSynth","Creating output"),this.output=e,Fe.debug("AlphaSynth","Creating synthesizer"),this._synthesizer=new Pwe(this.output.sampleRate),this._sequencer=new kwe(this._synthesizer),Fe.debug("AlphaSynth","Opening output"),this.output.ready.on(()=>{this.isReady=!0,this.ready.trigger(),this.checkReadyForPlayback()}),this.output.sampleRequest.on(()=>{if(this.state==si.Playing&&!this._sequencer.isFinished){let n=new Float32Array(Gt.MicroBufferSize*Gt.MicroBufferCount*Gt.AudioChannels),i=0;for(let s=0;s<Gt.MicroBufferCount;s++){this._sequencer.fillMidiEventQueue();const a=this._synthesizer.synthesize(n,i,Gt.MicroBufferSize);i+=Gt.MicroBufferSize*Gt.AudioChannels;for(const o of a)this._midiEventsPlayedFilter.has(o.event.type)&&this._playedEventsQueue.enqueue(o);if(this._sequencer.isFinished)break}i<n.length&&(n=n.subarray(0,i)),this._notPlayedSamples+=n.length,this.output.addSamples(n)}else{let n=new Float32Array(0);this.output.addSamples(n)}}),this.output.samplesPlayed.on(this.onSamplesPlayed.bind(this)),this.output.open(r)}play(){return this.state!==si.Paused||!this._isMidiLoaded?!1:(this.output.activate(),this.playInternal(),this._countInVolume>0&&(Fe.debug("AlphaSynth","Starting countin"),this._sequencer.startCountIn(),this._synthesizer.setupMetronomeChannel(this._countInVolume),this.updateTimePosition(0,!0)),this.output.play(),!0)}playInternal(){this._sequencer.isPlayingOneTimeMidi&&(Fe.debug("AlphaSynth","Cancelling one time midi"),this.stopOneTimeMidi()),Fe.debug("AlphaSynth","Starting playback"),this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.state=si.Playing,this.stateChanged.trigger(new Pv(this.state,!1))}pause(){this.state===si.Paused||!this._isMidiLoaded||(Fe.debug("AlphaSynth","Pausing playback"),this.state=si.Paused,this.stateChanged.trigger(new Pv(this.state,!1)),this.output.pause(),this._synthesizer.noteOffAll(!1))}playPause(){this.state!==si.Paused||!this._isMidiLoaded?this.pause():this.play()}stop(){this._isMidiLoaded&&(Fe.debug("AlphaSynth","Stopping playback"),this.state=si.Paused,this.output.pause(),this._notPlayedSamples=0,this._sequencer.stop(),this._synthesizer.noteOffAll(!0),this.tickPosition=this._sequencer.mainPlaybackRange?this._sequencer.mainPlaybackRange.startTick:0,this.stateChanged.trigger(new Pv(this.state,!0)))}playOneTimeMidiFile(e){this._sequencer.isPlayingOneTimeMidi?this.stopOneTimeMidi():this.pause(),this._sequencer.loadOneTimeMidi(e),this._synthesizer.noteOffAll(!0),this.updateTimePosition(0,!0),this._notPlayedSamples=0,this.output.resetSamples(),this.output.play()}resetSoundFonts(){this.stop(),this._synthesizer.resetPresets(),this._isSoundFontLoaded=!1,this.soundFontLoaded.trigger()}loadSoundFont(e,r){this.pause();let n=Hi.fromBuffer(e);try{Fe.debug("AlphaSynth","Loading soundfont from bytes");let i=new YM;i.load(n),this._synthesizer.loadPresets(i,r),this._isSoundFontLoaded=!0,this.soundFontLoaded.trigger(),Fe.debug("AlphaSynth","soundFont successfully loaded"),this.checkReadyForPlayback()}catch(i){Fe.error("AlphaSynth","Could not load soundfont from bytes "+i),this.soundFontLoadFailed.trigger(i)}}checkReadyForPlayback(){this.isReadyForPlayback&&(this._synthesizer.setupMetronomeChannel(this.metronomeVolume),this.readyForPlayback.trigger())}loadMidiFile(e){this.stop();try{Fe.debug("AlphaSynth","Loading midi from model"),this._sequencer.loadMidi(e),this._isMidiLoaded=!0,this.midiLoaded.trigger(new Nw(0,this._sequencer.currentEndTime,0,this._sequencer.currentEndTick,!1)),Fe.debug("AlphaSynth","Midi successfully loaded"),this.checkReadyForPlayback(),this.tickPosition=0}catch(r){Fe.error("AlphaSynth","Could not load midi from model "+r),this.midiLoadFailed.trigger(r)}}applyTranspositionPitches(e){this._synthesizer.applyTranspositionPitches(e)}setChannelMute(e,r){this._synthesizer.channelSetMute(e,r)}resetChannelStates(){this._synthesizer.resetChannelStates()}setChannelSolo(e,r){this._synthesizer.channelSetSolo(e,r)}setChannelVolume(e,r){r=Math.max(r,Gt.MinVolume),this._synthesizer.channelSetMixVolume(e,r)}onSamplesPlayed(e){if(e===0)return;let r=e/this._synthesizer.outSampleRate*1e3;this._notPlayedSamples-=e*Gt.AudioChannels,this.updateTimePosition(this._timePosition+r,!1),this.checkForFinish()}checkForFinish(){let e=0,r=0;this.playbackRange&&this._sequencer.isPlayingMain?(e=this.playbackRange.startTick,r=this.playbackRange.endTick):r=this._sequencer.currentEndTick,this._tickPosition>=r&&this._notPlayedSamples<=0&&(this._notPlayedSamples=0,this._sequencer.isPlayingCountIn?(Fe.debug("AlphaSynth","Finished playback (count-in)"),this._sequencer.resetCountIn(),this.timePosition=this._sequencer.currentTime,this.playInternal(),this.output.resetSamples()):this._sequencer.isPlayingOneTimeMidi?(Fe.debug("AlphaSynth","Finished playback (one time)"),this.output.resetSamples(),this.state=si.Paused,this.stopOneTimeMidi()):(Fe.debug("AlphaSynth","Finished playback (main)"),this.finished.trigger(),this.isLooping?this.tickPosition=e:this.stop()))}stopOneTimeMidi(){this.output.pause(),this._synthesizer.noteOffAll(!0),this._sequencer.resetOneTimeMidi(),this.timePosition=this._sequencer.currentTime}updateTimePosition(e,r){const n=e;this._timePosition=n;const i=this._sequencer.currentTimePositionToTickPosition(n);this._tickPosition=i;const s=this._sequencer.currentEndTime,a=this._sequencer.currentEndTick,o=this._sequencer.isPlayingMain?"main":this._sequencer.isPlayingCountIn?"count-in":"one-time";if(Fe.debug("AlphaSynth",`Position changed: (time: ${n}/${s}, tick: ${i}/${a}, Active Voices: ${this._synthesizer.activeVoiceCount} (${o})`),this._sequencer.isPlayingMain&&this.positionChanged.trigger(new Nw(n,s,i,a,r)),r)this._playedEventsQueue.clear();else{const l=new tP;for(;!this._playedEventsQueue.isEmpty&&this._playedEventsQueue.peek().time<n;){const u=this._playedEventsQueue.dequeue();l.enqueue(u.event)}l.isEmpty||this.midiEventsPlayed.trigger(new Uz(l.toArray()))}}}class Qe{static parseEnum(e,r){switch(typeof e){case"string":const n=parseInt(e);return isNaN(n)?r[Object.keys(r).find(i=>i.toLowerCase()===e.toLowerCase())]:n;case"number":return e;case"undefined":case"object":return null}throw new ki(Si.Format,`Could not parse enum value '${e}'`)}static forEach(e,r){if(e instanceof Map)e.forEach(r);else if(typeof e=="object")for(const n in e)r(e[n],n)}static getValue(e,r){return e instanceof Map?e.get(r):typeof e=="object"?e[r]:null}}class Mwe{constructor(e,r,n){this.text=e,this.startPos=r,this.endPos=n}}class kf{constructor(e){this.style="normal",this.variant="normal",this.weight="normal",this.stretch="normal",this.lineHeight="normal",this.size="1rem",this.families=[],this.parseOnlyFamilies=!1,this._currentTokenIndex=-1,this._input="",this._currentToken=null,this._input=e,this._tokens=this.splitToTokens(e)}splitToTokens(e){const r=[];let n=0;for(;n<e.length;){let i=n;for(;i<e.length&&e.charAt(i)!==" ";)i++;i>n&&r.push(new Mwe(e.substring(n,i),n,i)),n=i+1}return r}parse(){var e;if(this.reset(),this._tokens.length===1)switch((e=this._currentToken)==null?void 0:e.text){case"caption":case"icon":case"menu":case"message-box":case"small-caption":case"status-bar":case"inherit":return}this.parseOnlyFamilies||(this.fontStyleVariantWeight(),this.fontSizeLineHeight()),this.fontFamily()}static parseFamilies(e){const r=new kf(e);return r.parseOnlyFamilies=!0,r.parse(),r.families}fontFamily(){if(!this._currentToken){if(this.parseOnlyFamilies)return;throw new Error("Missing font list")}const e=this._input.substr(this._currentToken.startPos).trim();let r=0;for(;r<e.length;){let n=e.charAt(r);if(n===" "||n==",")r++;else if(n==='"'||n==="'"){const i=this.findEndOfQuote(e,r+1,n);this.families.push(e.substring(r+1,i).split("\\"+n).join(n)),r=i+1}else{const i=this.findEndOfQuote(e,r+1,",");this.families.push(e.substring(r,i).trim()),r=i+1}}}findEndOfQuote(e,r,n){let i=!1;for(;r<e.length;){const s=e.charAt(r);if(!i&&s===n)return r;!i&&s==="\\"?i=!0:i=!1,r+=1}return e.length}fontSizeLineHeight(){if(!this._currentToken)throw new Error("Missing font size");const e=this._currentToken.text.split("/");if(e.length>=3)throw new Error(`Invalid font size '${this._currentToken}' specified`);if(this.nextToken(),e.length>=2)if(e[1]==="/"){if(!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.size=e[0],this.lineHeight=e[1];else if(e.length>=1){if(this.size=e[0],this._currentToken&&this._currentToken.text.indexOf("/")===0)if(this._currentToken.text==="/"){if(this.nextToken(),!this._currentToken)throw new Error("Missing line-height after font size");this.lineHeight=this._currentToken.text,this.nextToken()}else this.lineHeight=this._currentToken.text.substr(1),this.nextToken()}else throw new Error("Missing font size")}nextToken(){this._currentTokenIndex++,this._currentTokenIndex<this._tokens.length?this._currentToken=this._tokens[this._currentTokenIndex]:this._currentToken=null}fontStyleVariantWeight(){let e=!1,r=!1,n=!1,i=3,s=[];for(;;){if(!this._currentToken)return;let a=this._currentToken.text;switch(a){case"normal":case"inherit":s.push(a),i--,this.nextToken();break;case"italic":case"oblique":this.style=a,e=!0,i--,this.nextToken();break;case"small-caps":this.variant=a,r=!0,i--,this.nextToken();break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":this.weight=a,n=!0,i--,this.nextToken();break;default:return}if(i===0)break}for(;s.length>0;){const a=s.pop();n?r?e||(this.style=a):this.variant=a:this.weight=a}}reset(){this._currentTokenIndex=-1,this.nextToken()}static quoteFont(e){return e.indexOf(" ")===-1?e:`"${e.replaceAll('"','\\"')}"`}}var vn;(function(t){t[t.Plain=0]="Plain",t[t.Italic=1]="Italic"})(vn||(vn={}));var ea;(function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold"})(ea||(ea={}));class dr{reset(){this._cssScale=0,this._css=this.toCssString()}get family(){return this._families[0]}set family(e){this.families=kf.parseFamilies(e)}get families(){return this._families}set families(e){this._families=e,this.reset()}get size(){return this._size}set size(e){this._size=e,this.reset()}get style(){return this._style}set style(e){this._style=e,this.reset()}get weight(){return this._weight}set weight(e){this._weight=e,this.reset()}get isBold(){return this.weight===ea.Bold}get isItalic(){return this.style===vn.Italic}constructor(e,r,n=vn.Plain,i=ea.Regular){this._cssScale=0,this._families=kf.parseFamilies(e),this._size=r,this._style=n,this._weight=i,this._css=this.toCssString()}static withFamilyList(e,r,n=vn.Plain,i=ea.Regular){const s=new dr("",r,n,i);return s.families=e,s}toCssString(e=1){if(!this._css||!(Math.abs(e-this._cssScale)<.01)){let r="";this.isBold&&(r+="bold "),this.isItalic&&(r+="italic "),r+=this.size*e,r+="px ",r+=this.families.map(n=>kf.quoteFont(n)).join(", "),this._css=r,this._cssScale=e}return this._css}static fromJson(e){switch(typeof e){case"undefined":return null;case"object":{const r=e;let n=r.get("families"),i=r.get("size"),s=Qe.parseEnum(r.get("style"),vn),a=Qe.parseEnum(r.get("weight"),ea);return dr.withFamilyList(n,i,s,a)}case"string":{const r=new kf(e);r.parse();let n=r.families,i=r.size.toLowerCase(),s=0;switch(i){case"xx-small":s=7;break;case"x-small":s=10;break;case"small":case"smaller":s=13;break;case"medium":s=16;break;case"large":case"larger":s=18;break;case"x-large":s=24;break;case"xx-large":s=32;break;default:try{i.endsWith("em")?s=parseFloat(i.substr(0,i.length-2))*16:i.endsWith("pt")?s=parseFloat(i.substr(0,i.length-2))*16/12:i.endsWith("px")?s=parseFloat(i.substr(0,i.length-2)):s=12}catch{s=12}break}let a=vn.Plain;r.style==="italic"&&(a=vn.Italic);let o=ea.Regular;switch(r.weight.toLowerCase()){case"normal":case"lighter":break;default:o=ea.Bold;break}return dr.withFamilyList(n,s,a,o)}default:return null}}static toJson(e){const r=new Map;return r.set("families",e.families),r.set("size",e.size),r.set("style",e.style),r.set("weight",e.weight),r}}class Ns{constructor(){this.copyrightFont=new dr(Ns.sansFont,12,vn.Plain,ea.Bold),this.titleFont=new dr(Ns.serifFont,32,vn.Plain),this.subTitleFont=new dr(Ns.serifFont,20,vn.Plain),this.wordsFont=new dr(Ns.serifFont,15,vn.Plain),this.effectFont=new dr(Ns.serifFont,12,vn.Italic),this.fretboardNumberFont=new dr(Ns.sansFont,11,vn.Plain),this.tablatureFont=new dr(Ns.sansFont,13,vn.Plain),this.graceFont=new dr(Ns.sansFont,11,vn.Plain),this.staffLineColor=new fn(165,165,165,255),this.barSeparatorColor=new fn(34,34,17,255),this.barNumberFont=new dr(Ns.sansFont,11,vn.Plain),this.barNumberColor=new fn(200,0,0,255),this.fingeringFont=new dr(Ns.serifFont,14,vn.Plain),this.markerFont=new dr(Ns.serifFont,14,vn.Plain,ea.Bold),this.mainGlyphColor=new fn(0,0,0,255),this.secondaryGlyphColor=new fn(0,0,0,100),this.scoreInfoColor=new fn(0,0,0,255)}}Ns.sansFont="Arial, sans-serif";Ns.serifFont="Georgia, serif";var Hc;(function(t){t[t.Automatic=0]="Automatic",t[t.UseModelLayout=1]="UseModelLayout"})(Hc||(Hc={}));class Nwe{constructor(){this.scale=1,this.stretchForce=1,this.layoutMode=ku.Page,this.staveProfile=Zs.Default,this.barsPerRow=-1,this.startBar=1,this.barCount=-1,this.barCountPerPartial=10,this.justifyLastSystem=!1,this.resources=new Ns,this.padding=null,this.systemsLayoutMode=Hc.Automatic}}class Ewe{constructor(){this.encoding="utf-8",this.mergePartGroupsInMusicXml=!1,this.beatTextAsLyrics=!1}}var hu;(function(t){t[t.Off=0]="Off",t[t.Continuous=1]="Continuous",t[t.OffScreen=2]="OffScreen"})(hu||(hu={}));class Rwe{constructor(){this.noteWideLength=480,this.noteWideAmplitude=2,this.noteSlightLength=480,this.noteSlightAmplitude=2,this.beatWideLength=240,this.beatWideAmplitude=3,this.beatSlightLength=240,this.beatSlightAmplitude=3}}class Dwe{constructor(){this.simpleSlidePitchOffset=6,this.simpleSlideDurationRatio=.25,this.shiftSlideDurationRatio=.5}}var ny;(function(t){t[t.WebAudioAudioWorklets=0]="WebAudioAudioWorklets",t[t.WebAudioScriptProcessor=1]="WebAudioScriptProcessor"})(ny||(ny={}));class Iwe{constructor(){this.soundFont=null,this.scrollElement="html,body",this.outputMode=ny.WebAudioAudioWorklets,this.enablePlayer=!1,this.enableCursor=!0,this.enableAnimatedBeatCursor=!0,this.enableElementHighlighting=!0,this.enableUserInteraction=!0,this.scrollOffsetX=0,this.scrollOffsetY=0,this.scrollMode=hu.Continuous,this.scrollSpeed=300,this.nativeBrowserSmoothScroll=!0,this.songBookBendDuration=75,this.songBookDipDuration=150,this.vibrato=new Rwe,this.slide=new Dwe,this.playTripletFeel=!0,this.bufferTimeInMilliseconds=500}}class __{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scriptfile",e.scriptFile),r.set("fontdirectory",e.fontDirectory),r.set("file",e.file),r.set("tex",e.tex),r.set("tracks",e.tracks),r.set("enablelazyloading",e.enableLazyLoading),r.set("engine",e.engine),r.set("loglevel",e.logLevel),r.set("useworkers",e.useWorkers),r.set("includenotebounds",e.includeNoteBounds),r}static setProperty(e,r,n){switch(r){case"scriptfile":return e.scriptFile=n,!0;case"fontdirectory":return e.fontDirectory=n,!0;case"file":return e.file=n,!0;case"tex":return e.tex=n,!0;case"tracks":return e.tracks=n,!0;case"enablelazyloading":return e.enableLazyLoading=n,!0;case"engine":return e.engine=n,!0;case"loglevel":return e.logLevel=Qe.parseEnum(n,Jo),!0;case"useworkers":return e.useWorkers=n,!0;case"includenotebounds":return e.includeNoteBounds=n,!0}return!1}}class C_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("copyrightfont",dr.toJson(e.copyrightFont)),r.set("titlefont",dr.toJson(e.titleFont)),r.set("subtitlefont",dr.toJson(e.subTitleFont)),r.set("wordsfont",dr.toJson(e.wordsFont)),r.set("effectfont",dr.toJson(e.effectFont)),r.set("fretboardnumberfont",dr.toJson(e.fretboardNumberFont)),r.set("tablaturefont",dr.toJson(e.tablatureFont)),r.set("gracefont",dr.toJson(e.graceFont)),r.set("stafflinecolor",fn.toJson(e.staffLineColor)),r.set("barseparatorcolor",fn.toJson(e.barSeparatorColor)),r.set("barnumberfont",dr.toJson(e.barNumberFont)),r.set("barnumbercolor",fn.toJson(e.barNumberColor)),r.set("fingeringfont",dr.toJson(e.fingeringFont)),r.set("markerfont",dr.toJson(e.markerFont)),r.set("mainglyphcolor",fn.toJson(e.mainGlyphColor)),r.set("secondaryglyphcolor",fn.toJson(e.secondaryGlyphColor)),r.set("scoreinfocolor",fn.toJson(e.scoreInfoColor)),r}static setProperty(e,r,n){switch(r){case"copyrightfont":return e.copyrightFont=dr.fromJson(n),!0;case"titlefont":return e.titleFont=dr.fromJson(n),!0;case"subtitlefont":return e.subTitleFont=dr.fromJson(n),!0;case"wordsfont":return e.wordsFont=dr.fromJson(n),!0;case"effectfont":return e.effectFont=dr.fromJson(n),!0;case"fretboardnumberfont":return e.fretboardNumberFont=dr.fromJson(n),!0;case"tablaturefont":return e.tablatureFont=dr.fromJson(n),!0;case"gracefont":return e.graceFont=dr.fromJson(n),!0;case"stafflinecolor":return e.staffLineColor=fn.fromJson(n),!0;case"barseparatorcolor":return e.barSeparatorColor=fn.fromJson(n),!0;case"barnumberfont":return e.barNumberFont=dr.fromJson(n),!0;case"barnumbercolor":return e.barNumberColor=fn.fromJson(n),!0;case"fingeringfont":return e.fingeringFont=dr.fromJson(n),!0;case"markerfont":return e.markerFont=dr.fromJson(n),!0;case"mainglyphcolor":return e.mainGlyphColor=fn.fromJson(n),!0;case"secondaryglyphcolor":return e.secondaryGlyphColor=fn.fromJson(n),!0;case"scoreinfocolor":return e.scoreInfoColor=fn.fromJson(n),!0}return!1}}class T_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("scale",e.scale),r.set("stretchforce",e.stretchForce),r.set("layoutmode",e.layoutMode),r.set("staveprofile",e.staveProfile),r.set("barsperrow",e.barsPerRow),r.set("startbar",e.startBar),r.set("barcount",e.barCount),r.set("barcountperpartial",e.barCountPerPartial),r.set("justifylastsystem",e.justifyLastSystem),r.set("resources",C_.toJson(e.resources)),r.set("padding",e.padding),r.set("systemslayoutmode",e.systemsLayoutMode),r}static setProperty(e,r,n){switch(r){case"scale":return e.scale=n,!0;case"stretchforce":return e.stretchForce=n,!0;case"layoutmode":return e.layoutMode=Qe.parseEnum(n,ku),!0;case"staveprofile":return e.staveProfile=Qe.parseEnum(n,Zs),!0;case"barsperrow":return e.barsPerRow=n,!0;case"startbar":return e.startBar=n,!0;case"barcount":return e.barCount=n,!0;case"barcountperpartial":return e.barCountPerPartial=n,!0;case"justifylastsystem":return e.justifyLastSystem=n,!0;case"padding":return e.padding=n,!0;case"systemslayoutmode":return e.systemsLayoutMode=Qe.parseEnum(n,Hc),!0}if(["resources"].indexOf(r)>=0)return C_.fromJson(e.resources,n),!0;for(const i of["resources"])if(r.indexOf(i)===0&&C_.setProperty(e.resources,r.substring(i.length),n))return!0;return!1}}class P_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;r.set("notationmode",e.notationMode),r.set("fingeringmode",e.fingeringMode);{const n=new Map;r.set("elements",n);for(const[i,s]of e.elements)n.set(i.toString(),s)}return r.set("rhythmmode",e.rhythmMode),r.set("rhythmheight",e.rhythmHeight),r.set("transpositionpitches",e.transpositionPitches),r.set("displaytranspositionpitches",e.displayTranspositionPitches),r.set("smallgracetabnotes",e.smallGraceTabNotes),r.set("extendbendarrowsontiednotes",e.extendBendArrowsOnTiedNotes),r.set("extendlineeffectstobeatend",e.extendLineEffectsToBeatEnd),r.set("slurheight",e.slurHeight),r}static setProperty(e,r,n){switch(r){case"notationmode":return e.notationMode=Qe.parseEnum(n,ui),!0;case"fingeringmode":return e.fingeringMode=Qe.parseEnum(n,hl),!0;case"elements":return e.elements=new Map,Qe.forEach(n,(i,s)=>{e.elements.set(Qe.parseEnum(s,Bt),i)}),!0;case"rhythmmode":return e.rhythmMode=Qe.parseEnum(n,mu),!0;case"rhythmheight":return e.rhythmHeight=n,!0;case"transpositionpitches":return e.transpositionPitches=n,!0;case"displaytranspositionpitches":return e.displayTranspositionPitches=n,!0;case"smallgracetabnotes":return e.smallGraceTabNotes=n,!0;case"extendbendarrowsontiednotes":return e.extendBendArrowsOnTiedNotes=n,!0;case"extendlineeffectstobeatend":return e.extendLineEffectsToBeatEnd=n,!0;case"slurheight":return e.slurHeight=n,!0}return!1}}class B_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("encoding",e.encoding),r.set("mergepartgroupsinmusicxml",e.mergePartGroupsInMusicXml),r.set("beattextaslyrics",e.beatTextAsLyrics),r}static setProperty(e,r,n){switch(r){case"encoding":return e.encoding=n,!0;case"mergepartgroupsinmusicxml":return e.mergePartGroupsInMusicXml=n,!0;case"beattextaslyrics":return e.beatTextAsLyrics=n,!0}return!1}}class M_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("notewidelength",e.noteWideLength),r.set("notewideamplitude",e.noteWideAmplitude),r.set("noteslightlength",e.noteSlightLength),r.set("noteslightamplitude",e.noteSlightAmplitude),r.set("beatwidelength",e.beatWideLength),r.set("beatwideamplitude",e.beatWideAmplitude),r.set("beatslightlength",e.beatSlightLength),r.set("beatslightamplitude",e.beatSlightAmplitude),r}static setProperty(e,r,n){switch(r){case"notewidelength":return e.noteWideLength=n,!0;case"notewideamplitude":return e.noteWideAmplitude=n,!0;case"noteslightlength":return e.noteSlightLength=n,!0;case"noteslightamplitude":return e.noteSlightAmplitude=n,!0;case"beatwidelength":return e.beatWideLength=n,!0;case"beatwideamplitude":return e.beatWideAmplitude=n,!0;case"beatslightlength":return e.beatSlightLength=n,!0;case"beatslightamplitude":return e.beatSlightAmplitude=n,!0}return!1}}class N_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("simpleslidepitchoffset",e.simpleSlidePitchOffset),r.set("simpleslidedurationratio",e.simpleSlideDurationRatio),r.set("shiftslidedurationratio",e.shiftSlideDurationRatio),r}static setProperty(e,r,n){switch(r){case"simpleslidepitchoffset":return e.simpleSlidePitchOffset=n,!0;case"simpleslidedurationratio":return e.simpleSlideDurationRatio=n,!0;case"shiftslidedurationratio":return e.shiftSlideDurationRatio=n,!0}return!1}}class E_{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("soundfont",e.soundFont),r.set("outputmode",e.outputMode),r.set("enableplayer",e.enablePlayer),r.set("enablecursor",e.enableCursor),r.set("enableanimatedbeatcursor",e.enableAnimatedBeatCursor),r.set("enableelementhighlighting",e.enableElementHighlighting),r.set("enableuserinteraction",e.enableUserInteraction),r.set("scrolloffsetx",e.scrollOffsetX),r.set("scrolloffsety",e.scrollOffsetY),r.set("scrollmode",e.scrollMode),r.set("scrollspeed",e.scrollSpeed),r.set("nativebrowsersmoothscroll",e.nativeBrowserSmoothScroll),r.set("songbookbendduration",e.songBookBendDuration),r.set("songbookdipduration",e.songBookDipDuration),r.set("vibrato",M_.toJson(e.vibrato)),r.set("slide",N_.toJson(e.slide)),r.set("playtripletfeel",e.playTripletFeel),r.set("buffertimeinmilliseconds",e.bufferTimeInMilliseconds),r}static setProperty(e,r,n){switch(r){case"soundfont":return e.soundFont=n,!0;case"scrollelement":return e.scrollElement=n,!0;case"outputmode":return e.outputMode=Qe.parseEnum(n,ny),!0;case"enableplayer":return e.enablePlayer=n,!0;case"enablecursor":return e.enableCursor=n,!0;case"enableanimatedbeatcursor":return e.enableAnimatedBeatCursor=n,!0;case"enableelementhighlighting":return e.enableElementHighlighting=n,!0;case"enableuserinteraction":return e.enableUserInteraction=n,!0;case"scrolloffsetx":return e.scrollOffsetX=n,!0;case"scrolloffsety":return e.scrollOffsetY=n,!0;case"scrollmode":return e.scrollMode=Qe.parseEnum(n,hu),!0;case"scrollspeed":return e.scrollSpeed=n,!0;case"nativebrowsersmoothscroll":return e.nativeBrowserSmoothScroll=n,!0;case"songbookbendduration":return e.songBookBendDuration=n,!0;case"songbookdipduration":return e.songBookDipDuration=n,!0;case"playtripletfeel":return e.playTripletFeel=n,!0;case"buffertimeinmilliseconds":return e.bufferTimeInMilliseconds=n,!0}if(["vibrato"].indexOf(r)>=0)return M_.fromJson(e.vibrato,n),!0;for(const i of["vibrato"])if(r.indexOf(i)===0&&M_.setProperty(e.vibrato,r.substring(i.length),n))return!0;if(["slide"].indexOf(r)>=0)return N_.fromJson(e.slide,n),!0;for(const i of["slide"])if(r.indexOf(i)===0&&N_.setProperty(e.slide,r.substring(i.length),n))return!0;return!1}}class ip{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i.toLowerCase(),n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("core",__.toJson(e.core)),r.set("display",T_.toJson(e.display)),r.set("notation",P_.toJson(e.notation)),r.set("importer",B_.toJson(e.importer)),r.set("player",E_.toJson(e.player)),r}static setProperty(e,r,n){if(["core",""].indexOf(r)>=0)return __.fromJson(e.core,n),!0;for(const i of["core",""])if(r.indexOf(i)===0&&__.setProperty(e.core,r.substring(i.length),n))return!0;if(["display",""].indexOf(r)>=0)return T_.fromJson(e.display,n),!0;for(const i of["display",""])if(r.indexOf(i)===0&&T_.setProperty(e.display,r.substring(i.length),n))return!0;if(["notation"].indexOf(r)>=0)return P_.fromJson(e.notation,n),!0;for(const i of["notation"])if(r.indexOf(i)===0&&P_.setProperty(e.notation,r.substring(i.length),n))return!0;if(["importer"].indexOf(r)>=0)return B_.fromJson(e.importer,n),!0;for(const i of["importer"])if(r.indexOf(i)===0&&B_.setProperty(e.importer,r.substring(i.length),n))return!0;if(["player"].indexOf(r)>=0)return E_.fromJson(e.player,n),!0;for(const i of["player"])if(r.indexOf(i)===0&&E_.setProperty(e.player,r.substring(i.length),n))return!0;return!1}}class oh{constructor(){this.core=new dW,this.display=new Nwe,this.notation=new Jm,this.importer=new Ewe,this.player=new Iwe}setSongBookModeSettings(){this.notation.notationMode=ui.SongBook,this.notation.smallGraceTabNotes=!1,this.notation.fingeringMode=hl.SingleNoteEffectBand,this.notation.extendBendArrowsOnTiedNotes=!1,this.notation.elements.set(Bt.ParenthesisOnTiedBends,!1),this.notation.elements.set(Bt.TabNotesOnTiedBends,!1),this.notation.elements.set(Bt.ZerosOnDiveWhammys,!0)}static get songBook(){let e=new oh;return e.setSongBookModeSettings(),e}fillFromJson(e){ip.fromJson(this,e)}}class CF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("marker",e.marker),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"marker":return e.marker=n,!0;case"text":return e.text=n,!0}return!1}}class Ew{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("islinear",e.isLinear),r.set("type",e.type),r.set("value",e.value),r.set("ratioposition",e.ratioPosition),r.set("text",e.text),r}static setProperty(e,r,n){switch(r){case"islinear":return e.isLinear=n,!0;case"type":return e.type=Qe.parseEnum(n,ci),!0;case"value":return e.value=n,!0;case"ratioposition":return e.ratioPosition=n,!0;case"text":return e.text=n,!0}return!1}}class TF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("type",e.type),r.set("length",e.length),r}static setProperty(e,r,n){switch(r){case"type":return e.type=Qe.parseEnum(n,ol),!0;case"length":return e.length=n,!0}return!1}}class PF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("alternateendings",e.alternateEndings),r.set("keysignature",e.keySignature),r.set("keysignaturetype",e.keySignatureType),r.set("isdoublebar",e.isDoubleBar),r.set("isrepeatstart",e.isRepeatStart),r.set("repeatcount",e.repeatCount),r.set("timesignaturenumerator",e.timeSignatureNumerator),r.set("timesignaturedenominator",e.timeSignatureDenominator),r.set("timesignaturecommon",e.timeSignatureCommon),r.set("tripletfeel",e.tripletFeel),r.set("section",CF.toJson(e.section)),r.set("tempoautomation",Ew.toJson(e.tempoAutomation)),e.fermata!==null){const n=new Map;r.set("fermata",n);for(const[i,s]of e.fermata)n.set(i.toString(),TF.toJson(s))}return r.set("start",e.start),r.set("isanacrusis",e.isAnacrusis),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"alternateendings":return e.alternateEndings=n,!0;case"keysignature":return e.keySignature=Qe.parseEnum(n,ri),!0;case"keysignaturetype":return e.keySignatureType=Qe.parseEnum(n,Wc),!0;case"isdoublebar":return e.isDoubleBar=n,!0;case"isrepeatstart":return e.isRepeatStart=n,!0;case"repeatcount":return e.repeatCount=n,!0;case"timesignaturenumerator":return e.timeSignatureNumerator=n,!0;case"timesignaturedenominator":return e.timeSignatureDenominator=n,!0;case"timesignaturecommon":return e.timeSignatureCommon=n,!0;case"tripletfeel":return e.tripletFeel=Qe.parseEnum(n,qt),!0;case"fermata":return e.fermata=new Map,Qe.forEach(n,(i,s)=>{const a=new HM;TF.fromJson(a,i),e.addFermata(parseInt(s),a)}),!0;case"start":return e.start=n,!0;case"isanacrusis":return e.isAnacrusis=n,!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return["section"].indexOf(r)>=0?(n?(e.section=new O1,CF.fromJson(e.section,n)):e.section=null,!0):["tempoautomation"].indexOf(r)>=0?(n?(e.tempoAutomation=new Vi,Ew.fromJson(e.tempoAutomation,n)):e.tempoAutomation=null,!0):!1}}class Rw{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("offset",e.offset),r.set("value",e.value),r}static setProperty(e,r,n){switch(r){case"offset":return e.offset=n,!0;case"value":return e.value=n,!0}return!1}}class BF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("accentuated",e.accentuated),r.set("bendtype",e.bendType),r.set("bendstyle",e.bendStyle),r.set("iscontinuedbend",e.isContinuedBend),e.bendPoints!==null&&r.set("bendpoints",(n=e.bendPoints)==null?void 0:n.map(i=>Rw.toJson(i))),r.set("fret",e.fret),r.set("string",e.string),r.set("octave",e.octave),r.set("tone",e.tone),r.set("percussionarticulation",e.percussionArticulation),r.set("isvisible",e.isVisible),r.set("islefthandtapped",e.isLeftHandTapped),r.set("ishammerpullorigin",e.isHammerPullOrigin),r.set("isslurdestination",e.isSlurDestination),r.set("harmonictype",e.harmonicType),r.set("harmonicvalue",e.harmonicValue),r.set("isghost",e.isGhost),r.set("isletring",e.isLetRing),r.set("ispalmmute",e.isPalmMute),r.set("isdead",e.isDead),r.set("isstaccato",e.isStaccato),r.set("slideintype",e.slideInType),r.set("slideouttype",e.slideOutType),r.set("vibrato",e.vibrato),r.set("istiedestination",e.isTieDestination),r.set("lefthandfinger",e.leftHandFinger),r.set("righthandfinger",e.rightHandFinger),r.set("isfingering",e.isFingering),r.set("trillvalue",e.trillValue),r.set("trillspeed",e.trillSpeed),r.set("durationpercent",e.durationPercent),r.set("accidentalmode",e.accidentalMode),r.set("dynamics",e.dynamics),e.toJson(r),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"accentuated":return e.accentuated=Qe.parseEnum(n,Xn),!0;case"bendtype":return e.bendType=Qe.parseEnum(n,ct),!0;case"bendstyle":return e.bendStyle=Qe.parseEnum(n,Ir),!0;case"iscontinuedbend":return e.isContinuedBend=n,!0;case"bendpoints":if(n){e.bendPoints=[];for(const i of n){const s=new Je;Rw.fromJson(s,i),e.addBendPoint(s)}}return!0;case"fret":return e.fret=n,!0;case"string":return e.string=n,!0;case"octave":return e.octave=n,!0;case"tone":return e.tone=n,!0;case"percussionarticulation":return e.percussionArticulation=n,!0;case"isvisible":return e.isVisible=n,!0;case"islefthandtapped":return e.isLeftHandTapped=n,!0;case"ishammerpullorigin":return e.isHammerPullOrigin=n,!0;case"isslurdestination":return e.isSlurDestination=n,!0;case"harmonictype":return e.harmonicType=Qe.parseEnum(n,bt),!0;case"harmonicvalue":return e.harmonicValue=n,!0;case"isghost":return e.isGhost=n,!0;case"isletring":return e.isLetRing=n,!0;case"ispalmmute":return e.isPalmMute=n,!0;case"isdead":return e.isDead=n,!0;case"isstaccato":return e.isStaccato=n,!0;case"slideintype":return e.slideInType=Qe.parseEnum(n,xi),!0;case"slideouttype":return e.slideOutType=Qe.parseEnum(n,Ht),!0;case"vibrato":return e.vibrato=Qe.parseEnum(n,hr),!0;case"istiedestination":return e.isTieDestination=n,!0;case"lefthandfinger":return e.leftHandFinger=Qe.parseEnum(n,Ot),!0;case"righthandfinger":return e.rightHandFinger=Qe.parseEnum(n,Ot),!0;case"isfingering":return e.isFingering=n,!0;case"trillvalue":return e.trillValue=n,!0;case"trillspeed":return e.trillSpeed=Qe.parseEnum(n,oe),!0;case"durationpercent":return e.durationPercent=n,!0;case"accidentalmode":return e.accidentalMode=Qe.parseEnum(n,$n),!0;case"dynamics":return e.dynamics=Qe.parseEnum(n,Kt),!0}return e.setProperty(r,n)}}class MF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){var n;if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("notes",e.notes.map(i=>BF.toJson(i))),r.set("isempty",e.isEmpty),r.set("whammystyle",e.whammyStyle),r.set("ottava",e.ottava),r.set("islegatoorigin",e.isLegatoOrigin),r.set("duration",e.duration),r.set("automations",e.automations.map(i=>Ew.toJson(i))),r.set("dots",e.dots),r.set("fadein",e.fadeIn),r.set("lyrics",e.lyrics),r.set("hasrasgueado",e.hasRasgueado),r.set("pop",e.pop),r.set("slap",e.slap),r.set("tap",e.tap),r.set("text",e.text),r.set("brushtype",e.brushType),r.set("brushduration",e.brushDuration),r.set("tupletdenominator",e.tupletDenominator),r.set("tupletnumerator",e.tupletNumerator),r.set("iscontinuedwhammy",e.isContinuedWhammy),r.set("whammybartype",e.whammyBarType),e.whammyBarPoints!==null&&r.set("whammybarpoints",(n=e.whammyBarPoints)==null?void 0:n.map(i=>Rw.toJson(i))),r.set("vibrato",e.vibrato),r.set("chordid",e.chordId),r.set("gracetype",e.graceType),r.set("pickstroke",e.pickStroke),r.set("tremolospeed",e.tremoloSpeed),r.set("crescendo",e.crescendo),r.set("displaystart",e.displayStart),r.set("playbackstart",e.playbackStart),r.set("displayduration",e.displayDuration),r.set("playbackduration",e.playbackDuration),r.set("dynamics",e.dynamics),r.set("invertbeamdirection",e.invertBeamDirection),r.set("preferredbeamdirection",e.preferredBeamDirection),r.set("beamingmode",e.beamingMode),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"notes":e.notes=[];for(const i of n){const s=new _n;BF.fromJson(s,i),e.addNote(s)}return!0;case"isempty":return e.isEmpty=n,!0;case"whammystyle":return e.whammyStyle=Qe.parseEnum(n,Ir),!0;case"ottava":return e.ottava=Qe.parseEnum(n,gr),!0;case"islegatoorigin":return e.isLegatoOrigin=n,!0;case"duration":return e.duration=Qe.parseEnum(n,oe),!0;case"automations":e.automations=[];for(const i of n){const s=new Vi;Ew.fromJson(s,i),e.automations.push(s)}return!0;case"dots":return e.dots=n,!0;case"fadein":return e.fadeIn=n,!0;case"lyrics":return e.lyrics=n,!0;case"hasrasgueado":return e.hasRasgueado=n,!0;case"pop":return e.pop=n,!0;case"slap":return e.slap=n,!0;case"tap":return e.tap=n,!0;case"text":return e.text=n,!0;case"brushtype":return e.brushType=Qe.parseEnum(n,Qr),!0;case"brushduration":return e.brushDuration=n,!0;case"tupletdenominator":return e.tupletDenominator=n,!0;case"tupletnumerator":return e.tupletNumerator=n,!0;case"iscontinuedwhammy":return e.isContinuedWhammy=n,!0;case"whammybartype":return e.whammyBarType=Qe.parseEnum(n,pr),!0;case"whammybarpoints":if(n){e.whammyBarPoints=[];for(const i of n){const s=new Je;Rw.fromJson(s,i),e.addWhammyBarPoint(s)}}return!0;case"vibrato":return e.vibrato=Qe.parseEnum(n,hr),!0;case"chordid":return e.chordId=n,!0;case"gracetype":return e.graceType=Qe.parseEnum(n,_t),!0;case"pickstroke":return e.pickStroke=Qe.parseEnum(n,Ii),!0;case"tremolospeed":return e.tremoloSpeed=Qe.parseEnum(n,oe),!0;case"crescendo":return e.crescendo=Qe.parseEnum(n,Os),!0;case"displaystart":return e.displayStart=n,!0;case"playbackstart":return e.playbackStart=n,!0;case"displayduration":return e.displayDuration=n,!0;case"playbackduration":return e.playbackDuration=n,!0;case"dynamics":return e.dynamics=Qe.parseEnum(n,Kt),!0;case"invertbeamdirection":return e.invertBeamDirection=n,!0;case"preferredbeamdirection":return e.preferredBeamDirection=Qe.parseEnum(n,He),!0;case"beamingmode":return e.beamingMode=Qe.parseEnum(n,tl),!0}return!1}}class NF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("beats",e.beats.map(n=>MF.toJson(n))),r.set("isempty",e.isEmpty),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"beats":e.beats=[];for(const i of n){const s=new Wi;MF.fromJson(s,i),e.addBeat(s)}return!0;case"isempty":return e.isEmpty=n,!0}return!1}}class EF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("id",e.id),r.set("clef",e.clef),r.set("clefottava",e.clefOttava),r.set("voices",e.voices.map(n=>NF.toJson(n))),r.set("similemark",e.simileMark),r.set("displayscale",e.displayScale),r.set("displaywidth",e.displayWidth),r}static setProperty(e,r,n){switch(r){case"id":return e.id=n,!0;case"clef":return e.clef=Qe.parseEnum(n,$t),!0;case"clefottava":return e.clefOttava=Qe.parseEnum(n,gr),!0;case"voices":e.voices=[];for(const i of n){const s=new Ul;NF.fromJson(s,i),e.addVoice(s)}return!0;case"similemark":return e.simileMark=Qe.parseEnum(n,Da),!0;case"displayscale":return e.displayScale=n,!0;case"displaywidth":return e.displayWidth=n,!0}return!1}}class RF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("name",e.name),r.set("firstfret",e.firstFret),r.set("strings",e.strings),r.set("barrefrets",e.barreFrets),r.set("showname",e.showName),r.set("showdiagram",e.showDiagram),r.set("showfingering",e.showFingering),r}static setProperty(e,r,n){switch(r){case"name":return e.name=n,!0;case"firstfret":return e.firstFret=n,!0;case"strings":return e.strings=n,!0;case"barrefrets":return e.barreFrets=n,!0;case"showname":return e.showName=n,!0;case"showdiagram":return e.showDiagram=n,!0;case"showfingering":return e.showFingering=n,!0}return!1}}class DF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("isstandard",e.isStandard),r.set("name",e.name),r.set("tunings",e.tunings),r}static setProperty(e,r,n){switch(r){case"isstandard":return e.isStandard=n,!0;case"name":return e.name=n,!0;case"tunings":return e.tunings=n,!0}return!1}}class IF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;if(r.set("bars",e.bars.map(n=>EF.toJson(n))),e.chords!==null){const n=new Map;r.set("chords",n);for(const[i,s]of e.chords)n.set(i.toString(),RF.toJson(s))}return r.set("capo",e.capo),r.set("transpositionpitch",e.transpositionPitch),r.set("displaytranspositionpitch",e.displayTranspositionPitch),r.set("stringtuning",DF.toJson(e.stringTuning)),r.set("showtablature",e.showTablature),r.set("showstandardnotation",e.showStandardNotation),r.set("ispercussion",e.isPercussion),r.set("standardnotationlinecount",e.standardNotationLineCount),r}static setProperty(e,r,n){switch(r){case"bars":e.bars=[];for(const i of n){const s=new Vu;EF.fromJson(s,i),e.addBar(s)}return!0;case"chords":return e.chords=new Map,Qe.forEach(n,(i,s)=>{const a=new zc;RF.fromJson(a,i),e.addChord(s,a)}),!0;case"capo":return e.capo=n,!0;case"transpositionpitch":return e.transpositionPitch=n,!0;case"displaytranspositionpitch":return e.displayTranspositionPitch=n,!0;case"showtablature":return e.showTablature=n,!0;case"showstandardnotation":return e.showStandardNotation=n,!0;case"ispercussion":return e.isPercussion=n,!0;case"standardnotationlinecount":return e.standardNotationLineCount=n,!0}return["stringtuning"].indexOf(r)>=0?(DF.fromJson(e.stringTuning,n),!0):!1}}class LF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("volume",e.volume),r.set("balance",e.balance),r.set("port",e.port),r.set("program",e.program),r.set("primarychannel",e.primaryChannel),r.set("secondarychannel",e.secondaryChannel),r.set("ismute",e.isMute),r.set("issolo",e.isSolo),r}static setProperty(e,r,n){switch(r){case"volume":return e.volume=n,!0;case"balance":return e.balance=n,!0;case"port":return e.port=n,!0;case"program":return e.program=n,!0;case"primarychannel":return e.primaryChannel=n,!0;case"secondarychannel":return e.secondaryChannel=n,!0;case"ismute":return e.isMute=n,!0;case"issolo":return e.isSolo=n,!0}return!1}}class FF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("elementtype",e.elementType),r.set("staffline",e.staffLine),r.set("noteheaddefault",e.noteHeadDefault),r.set("noteheadhalf",e.noteHeadHalf),r.set("noteheadwhole",e.noteHeadWhole),r.set("techniquesymbol",e.techniqueSymbol),r.set("techniquesymbolplacement",e.techniqueSymbolPlacement),r.set("outputmidinumber",e.outputMidiNumber),r}static setProperty(e,r,n){switch(r){case"elementtype":return e.elementType=n,!0;case"staffline":return e.staffLine=n,!0;case"noteheaddefault":return e.noteHeadDefault=Qe.parseEnum(n,R),!0;case"noteheadhalf":return e.noteHeadHalf=Qe.parseEnum(n,R),!0;case"noteheadwhole":return e.noteHeadWhole=Qe.parseEnum(n,R),!0;case"techniquesymbol":return e.techniqueSymbol=Qe.parseEnum(n,R),!0;case"techniquesymbolplacement":return e.techniqueSymbolPlacement=Qe.parseEnum(n,jt),!0;case"outputmidinumber":return e.outputMidiNumber=n,!0}return!1}}class AF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("staves",e.staves.map(n=>IF.toJson(n))),r.set("playbackinfo",LF.toJson(e.playbackInfo)),r.set("color",fn.toJson(e.color)),r.set("name",e.name),r.set("shortname",e.shortName),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("percussionarticulations",e.percussionArticulations.map(n=>FF.toJson(n))),r}static setProperty(e,r,n){switch(r){case"staves":e.staves=[];for(const i of n){const s=new Tz;IF.fromJson(s,i),e.addStaff(s)}return!0;case"color":return e.color=fn.fromJson(n),!0;case"name":return e.name=n,!0;case"shortname":return e.shortName=n,!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0;case"percussionarticulations":e.percussionArticulations=[];for(const i of n){const s=new nt;FF.fromJson(s,i),e.percussionArticulations.push(s)}return!0}return["playbackinfo"].indexOf(r)>=0?(LF.fromJson(e.playbackInfo,n),!0):!1}}class OF{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("hidedynamics",e.hideDynamics),r}static setProperty(e,r,n){switch(r){case"hidedynamics":return e.hideDynamics=n,!0}return!1}}class $F{static fromJson(e,r){r&&Qe.forEach(r,(n,i)=>this.setProperty(e,i,n))}static toJson(e){if(!e)return null;const r=new Map;return r.set("album",e.album),r.set("artist",e.artist),r.set("copyright",e.copyright),r.set("instructions",e.instructions),r.set("music",e.music),r.set("notices",e.notices),r.set("subtitle",e.subTitle),r.set("title",e.title),r.set("words",e.words),r.set("tab",e.tab),r.set("tempo",e.tempo),r.set("tempolabel",e.tempoLabel),r.set("masterbars",e.masterBars.map(n=>PF.toJson(n))),r.set("tracks",e.tracks.map(n=>AF.toJson(n))),r.set("defaultsystemslayout",e.defaultSystemsLayout),r.set("systemslayout",e.systemsLayout),r.set("stylesheet",OF.toJson(e.stylesheet)),r}static setProperty(e,r,n){switch(r){case"album":return e.album=n,!0;case"artist":return e.artist=n,!0;case"copyright":return e.copyright=n,!0;case"instructions":return e.instructions=n,!0;case"music":return e.music=n,!0;case"notices":return e.notices=n,!0;case"subtitle":return e.subTitle=n,!0;case"title":return e.title=n,!0;case"words":return e.words=n,!0;case"tab":return e.tab=n,!0;case"tempo":return e.tempo=n,!0;case"tempolabel":return e.tempoLabel=n,!0;case"masterbars":e.masterBars=[];for(const i of n){const s=new Ru;PF.fromJson(s,i),e.addMasterBar(s)}return!0;case"tracks":e.tracks=[];for(const i of n){const s=new Hl;AF.fromJson(s,i),e.addTrack(s)}return!0;case"defaultsystemslayout":return e.defaultSystemsLayout=n,!0;case"systemslayout":return e.systemsLayout=n,!0}return["stylesheet"].indexOf(r)>=0?(OF.fromJson(e.stylesheet,n),!0):!1}}class Vn{static jsonReplacer(e,r){if(r instanceof Map){if("fromEntries"in Object)return Object.fromEntries(r);{const n={};for(const[i,s]of r)n[i]=s;return n}}else if(ArrayBuffer.isView(r))return Array.apply([],[r]);return r}static scoreToJson(e){let r=Vn.scoreToJsObject(e);return JSON.stringify(r,Vn.jsonReplacer)}static jsonToScore(e,r){return Vn.jsObjectToScore(JSON.parse(e),r)}static scoreToJsObject(e){return $F.toJson(e)}static jsObjectToScore(e,r){let n=new vh;return $F.fromJson(n,e),n.finish(r??new oh),n}static settingsToJson(e){let r=Vn.settingsToJsObject(e);return JSON.stringify(r,Vn.jsonReplacer)}static jsonToSettings(e){return Vn.jsObjectToSettings(JSON.parse(e))}static settingsToJsObject(e){return ip.toJson(e)}static jsObjectToSettings(e){let r=new oh;return ip.fromJson(r,e),r}static jsObjectToMidiFile(e){let r=new Dc;return Qe.forEach(e,(n,i)=>{switch(i){case"division":r.division=n;break;case"tracks":for(let s of n){let a=Vn.jsObjectToMidiTrack(s);r.tracks.push(a)}break}}),r}static jsObjectToMidiTrack(e){let r=new Nz;return Qe.forEach(e,(n,i)=>{switch(i){case"events":for(let s of n){let a=Vn.jsObjectToMidiEvent(s);r.events.push(a)}break}}),r}static jsObjectToMidiEvent(e){let r=Qe.getValue(e,"track"),n=Qe.getValue(e,"tick"),i=Qe.getValue(e,"type");switch(i){case ar.TimeSignature:return new Ez(r,n,Qe.getValue(e,"numerator"),Qe.getValue(e,"denominatorIndex"),Qe.getValue(e,"midiClocksPerMetronomeClick"),Qe.getValue(e,"thirdySecondNodesInQuarter"));case ar.AlphaTabRest:return new Dz(r,n,Qe.getValue(e,"channel"));case ar.AlphaTabMetronome:return new Rz(r,n,Qe.getValue(e,"metronomeNumerator"),Qe.getValue(e,"metronomeDurationInTicks"),Qe.getValue(e,"metronomeDurationInMilliseconds"));case ar.NoteOn:return new Lz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"noteVelocity"));case ar.NoteOff:return new Fz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"noteVelocity"));case ar.ControlChange:return new Az(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"controller"),Qe.getValue(e,"value"));case ar.ProgramChange:return new Oz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"program"));case ar.TempoChange:return new $z(n,Qe.getValue(e,"microSecondsPerQuarterNote"));case ar.PitchBend:return new Vz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"value"));case ar.PerNotePitchBend:return new zz(r,n,Qe.getValue(e,"channel"),Qe.getValue(e,"noteKey"),Qe.getValue(e,"value"));case ar.EndOfTrack:return new Wz(r,n)}throw new ki(Si.Format,"Unknown Midi Event type: "+i)}static midiFileToJsObject(e){const r=new Map;r.set("division",e.division);const n=[];for(let i of e.tracks)n.push(Vn.midiTrackToJsObject(i));return r.set("tracks",n),r}static midiTrackToJsObject(e){const r=new Map,n=[];for(let i of e.events)n.push(Vn.midiEventToJsObject(i));return r.set("events",n),r}static midiEventToJsObject(e){const r=new Map;switch(r.set("track",e.track),r.set("tick",e.tick),r.set("type",e.type),e.type){case ar.TimeSignature:r.set("numerator",e.numerator),r.set("denominatorIndex",e.denominatorIndex),r.set("midiClocksPerMetronomeClick",e.midiClocksPerMetronomeClick),r.set("thirdySecondNodesInQuarter",e.thirtySecondNodesInQuarter);break;case ar.AlphaTabRest:r.set("channel",e.channel);break;case ar.AlphaTabMetronome:r.set("metronomeNumerator",e.metronomeNumerator),r.set("metronomeDurationInMilliseconds",e.metronomeDurationInMilliseconds),r.set("metronomeDurationInTicks",e.metronomeDurationInTicks);break;case ar.NoteOn:case ar.NoteOff:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("noteVelocity",e.noteVelocity);break;case ar.ControlChange:r.set("channel",e.channel),r.set("controller",e.controller),r.set("value",e.value);break;case ar.ProgramChange:r.set("channel",e.channel),r.set("program",e.program);break;case ar.TempoChange:r.set("microSecondsPerQuarterNote",e.microSecondsPerQuarterNote);break;case ar.PitchBend:r.set("channel",e.channel),r.set("value",e.value);break;case ar.PerNotePitchBend:r.set("channel",e.channel),r.set("noteKey",e.noteKey),r.set("value",e.value);break;case ar.EndOfTrack:break}return r}}class pn{constructor(){this.ready=new di,this.samplesPlayed=new or,this.sampleRequest=new di}get sampleRate(){return pn.preferredSampleRate}open(){Fe.debug("AlphaSynth","Initializing synth worker"),this._worker=Ue.globalThis,this._worker.addEventListener("message",this.handleMessage.bind(this)),this.ready.trigger()}destroy(){this._worker.postMessage({cmd:"alphaSynth.output.destroy"})}handleMessage(e){let r=e.data;switch(r.cmd){case pn.CmdOutputSampleRequest:this.sampleRequest.trigger();break;case pn.CmdOutputSamplesPlayed:this.samplesPlayed.trigger(r.samples);break}}addSamples(e){this._worker.postMessage({cmd:"alphaSynth.output.addSamples",samples:e})}play(){this._worker.postMessage({cmd:"alphaSynth.output.play"})}pause(){this._worker.postMessage({cmd:"alphaSynth.output.pause"})}resetSamples(){this._worker.postMessage({cmd:"alphaSynth.output.resetSamples"})}activate(){}}pn.CmdOutputPrefix="alphaSynth.output.";pn.CmdOutputAddSamples=pn.CmdOutputPrefix+"addSamples";pn.CmdOutputPlay=pn.CmdOutputPrefix+"play";pn.CmdOutputPause=pn.CmdOutputPrefix+"pause";pn.CmdOutputResetSamples=pn.CmdOutputPrefix+"resetSamples";pn.CmdOutputSampleRequest=pn.CmdOutputPrefix+"sampleRequest";pn.CmdOutputSamplesPlayed=pn.CmdOutputPrefix+"samplesPlayed";pn.preferredSampleRate=0;class XM{constructor(e,r){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this)),this._player=new Bwe(new pn,r),this._player.positionChanged.on(this.onPositionChanged.bind(this)),this._player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this._player.finished.on(this.onFinished.bind(this)),this._player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.soundFontLoadFailed.on(this.onSoundFontLoadFailed.bind(this)),this._player.midiLoaded.on(this.onMidiLoaded.bind(this)),this._player.midiLoadFailed.on(this.onMidiLoadFailed.bind(this)),this._player.readyForPlayback.on(this.onReadyForPlayback.bind(this)),this._player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this._player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this._main.postMessage({cmd:"alphaSynth.ready"})}static init(){let e=Ue.globalThis;e.addEventListener("message",r=>{let n=r.data;switch(n.cmd){case"alphaSynth.initialize":pn.preferredSampleRate=n.sampleRate,Fe.logLevel=n.logLevel,Ue.globalThis.alphaSynthWebWorker=new XM(e,n.bufferTimeInMilliseconds);break}})}handleMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.setLogLevel":Fe.logLevel=r.value;break;case"alphaSynth.setMasterVolume":this._player.masterVolume=r.value;break;case"alphaSynth.setMetronomeVolume":this._player.metronomeVolume=r.value;break;case"alphaSynth.setPlaybackSpeed":this._player.playbackSpeed=r.value;break;case"alphaSynth.setTickPosition":this._player.tickPosition=r.value;break;case"alphaSynth.setTimePosition":this._player.timePosition=r.value;break;case"alphaSynth.setPlaybackRange":this._player.playbackRange=r.value;break;case"alphaSynth.setIsLooping":this._player.isLooping=r.value;break;case"alphaSynth.setCountInVolume":this._player.countInVolume=r.value;break;case"alphaSynth.setMidiEventsPlayedFilter":this._player.midiEventsPlayedFilter=r.value;break;case"alphaSynth.play":this._player.play();break;case"alphaSynth.pause":this._player.pause();break;case"alphaSynth.playPause":this._player.playPause();break;case"alphaSynth.stop":this._player.stop();break;case"alphaSynth.playOneTimeMidiFile":this._player.playOneTimeMidiFile(Vn.jsObjectToMidiFile(r.midi));break;case"alphaSynth.loadSoundFontBytes":this._player.loadSoundFont(r.data,r.append);break;case"alphaSynth.resetSoundFonts":this._player.resetSoundFonts();break;case"alphaSynth.loadMidi":this._player.loadMidiFile(Vn.jsObjectToMidiFile(r.midi));break;case"alphaSynth.setChannelMute":this._player.setChannelMute(r.channel,r.mute);break;case"alphaSynth.setChannelSolo":this._player.setChannelSolo(r.channel,r.solo);break;case"alphaSynth.setChannelVolume":this._player.setChannelVolume(r.channel,r.volume);break;case"alphaSynth.resetChannelStates":this._player.resetChannelStates();break;case"alphaSynth.destroy":this._player.destroy(),this._main.postMessage({cmd:"alphaSynth.destroyed"});break;case"alphaSynth.applyTranspositionPitches":this._player.applyTranspositionPitches(new Map(JSON.parse(r.transpositionPitches)));break}}onPositionChanged(e){this._main.postMessage({cmd:"alphaSynth.positionChanged",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onPlayerStateChanged(e){this._main.postMessage({cmd:"alphaSynth.playerStateChanged",state:e.state,stopped:e.stopped})}onFinished(){this._main.postMessage({cmd:"alphaSynth.finished"})}onSoundFontLoaded(){this._main.postMessage({cmd:"alphaSynth.soundFontLoaded"})}onSoundFontLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.soundFontLoadFailed",error:this.serializeException(e)})}serializeException(e){let r=JSON.parse(JSON.stringify(e));return e.message&&(r.message=e.message),e.stack&&(r.stack=e.stack),e.constructor&&e.constructor.name&&(r.type=e.constructor.name),r}onMidiLoaded(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",currentTime:e.currentTime,endTime:e.endTime,currentTick:e.currentTick,endTick:e.endTick,isSeek:e.isSeek})}onMidiLoadFailed(e){this._main.postMessage({cmd:"alphaSynth.midiLoaded",error:this.serializeException(e)})}onReadyForPlayback(){this._main.postMessage({cmd:"alphaSynth.readyForPlayback"})}onMidiEventsPlayed(e){this._main.postMessage({cmd:"alphaSynth.midiEventsPlayed",events:e.events.map(Vn.midiEventToJsObject)})}onPlaybackRangeChanged(e){this._main.postMessage({cmd:"alphaSynth.playbackRangeChanged",playbackRange:e.playbackRange})}}class zn{static generateFontLookup(e){if(!zn.FontSizeLookupTables.has(e))if(Ue.isRunningInWorker)zn.FontSizeLookupTables.set(e,new Uint8Array([8]));else{let n=document.createElement("canvas").getContext("2d");n.font=`11px ${e}`;let i=[];for(let a=32;a<255;a++){let o=String.fromCharCode(a);i.push(n.measureText(o).width)}let s=new Uint8Array(i);zn.FontSizeLookupTables.set(e,s)}}static measureString(e,r,n,i,s){let a,o=11,l=r[0];for(let h=0;h<r.length;h++)if(zn.FontSizeLookupTables.has(r[h])){l=r[h];break}zn.FontSizeLookupTables.has(l)||zn.generateFontLookup(l),a=zn.FontSizeLookupTables.get(l);let u=1;i===vn.Italic&&(u*=1.2),s===ea.Bold&&(u*=1.2);let c=0;for(let h=0;h<e.length;h++){let f=Math.min(a.length-1,e.charCodeAt(h)-32);f>=0&&(c+=a[f]*n/o)}return c*u}}zn.Georgia=new Uint8Array([3,4,5,7,7,9,8,2,4,4,5,7,3,4,3,5,7,5,6,6,6,6,6,6,7,6,3,3,7,7,7,5,10,7,7,7,8,7,7,8,9,4,6,8,7,10,8,8,7,8,8,6,7,8,7,11,8,7,7,4,5,4,7,7,6,6,6,5,6,5,4,6,6,3,3,6,3,10,6,6,6,6,5,5,4,6,5,8,6,5,5,5,4,5,7,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,4,6,7,6,7,4,6,6,10,6,6,7,0,10,7,5,7,6,6,6,6,6,3,6,6,6,6,12,12,12,5,7,7,7,7,7,7,11,7,7,7,7,7,4,4,4,4,8,8,8,8,8,8,8,7,8,8,8,8,8,7,7,6,6,6,6,6,6,6,8,5,5,5,5,5,3,3,3,3,6,6,6,6,6,6,6,7,6,6,6,6,6,5,6]);zn.Arial=new Uint8Array([3,3,4,6,6,10,7,2,4,4,4,6,3,4,3,3,6,6,6,6,6,6,6,6,6,6,3,3,6,6,6,6,11,7,7,8,8,7,7,9,8,3,6,7,6,9,8,9,7,9,8,7,7,8,7,10,7,7,7,3,3,3,5,6,4,6,6,6,6,6,3,6,6,2,2,6,2,9,6,6,6,6,4,6,3,6,6,8,6,6,6,4,3,4,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,4,6,6,6,6,3,6,4,8,4,6,6,0,8,6,4,6,4,4,4,6,6,4,4,4,4,6,9,9,9,7,7,7,7,7,7,7,11,8,7,7,7,7,3,3,3,3,8,8,9,9,9,9,9,6,9,8,8,8,8,7,7,7,6,6,6,6,6,6,10,6,6,6,6,6,3,3,3,3,6,6,6,6,6,6,6,6,7,6,6,6,6,6,6]);zn.FontSizeLookupTables=new Map([["Arial",zn.Arial],["'Arial'",zn.Arial],['"Arial"',zn.Arial],["Georgia",zn.Georgia],["'Georgia'",zn.Georgia],['"Georgia"',zn.Georgia]]);zn.ControlChars=32;class Ld{constructor(){this.id=Yr.newGuid(),this.x=0,this.y=0,this.width=0,this.height=0,this.totalWidth=0,this.totalHeight=0,this.firstMasterBarIndex=-1,this.lastMasterBarIndex=-1,this.renderResult=null}}class jz{constructor(){this.beats=[]}addBeat(e){e.barBounds=this,this.beats.push(e),this.masterBarBounds.addBeat(e)}findBeatAtPos(e){let r=null;for(let n of this.beats)if(!r||n.realBounds.x<e)r=n;else if(n.realBounds.x>e)break;return r}finish(){this.beats.sort((e,r)=>e.realBounds.x-r.realBounds.x)}}class Yz{constructor(){this.notes=null}addNote(e){this.notes||(this.notes=[]),e.beatBounds=this,this.notes.push(e)}findNoteAtPos(e,r){const n=this.notes;if(!n)return null;for(let i of n){let s=i.noteHeadBounds.y+i.noteHeadBounds.h,a=i.noteHeadBounds.x+i.noteHeadBounds.w;if(i.noteHeadBounds.x<=e&&i.noteHeadBounds.y<=r&&e<=a&&r<=s)return i.note}return null}}class Xz{constructor(){this.index=0,this.isFirstOfLine=!1,this.bars=[],this.staveGroupBounds=null}addBar(e){e.masterBarBounds=this,this.bars.push(e)}findBeatAtPos(e,r){let n=null,i=1e7;for(let s of this.bars){let a=s.findBeatAtPos(e);if(a&&(!n||n.realBounds.x<a.realBounds.x)){const o=Math.abs(a.realBounds.x-e);(!n||o<i)&&(n=a)}}return n?n.beat:null}finish(){this.bars.sort((e,r)=>e.realBounds.y<r.realBounds.y?-1:e.realBounds.y>r.realBounds.y?1:e.realBounds.x<r.realBounds.x?-1:e.realBounds.x>r.realBounds.x?1:0);for(const e of this.bars)e.finish()}addBeat(e){this.staveGroupBounds.boundsLookup.addBeat(e)}}class qM{}class qz{constructor(){this.index=0,this.bars=[]}finish(){for(let e of this.bars)e.finish()}addBar(e){this.boundsLookup.addMasterBar(e),e.staveGroupBounds=this,this.bars.push(e)}findBarAtPos(e){let r=null;for(let n of this.bars)if(!r||n.realBounds.x<e)r=n;else if(e>n.realBounds.x+n.realBounds.w)break;return r}}class iy{constructor(){this._beatLookup=new Map,this._masterBarLookup=new Map,this._currentStaveGroup=null,this.staveGroups=[],this.isFinished=!1}toJson(){let e={},r=[];e.staveGroups=r;for(let n of this.staveGroups){let i={};i.visualBounds=this.boundsToJson(n.visualBounds),i.realBounds=this.boundsToJson(n.realBounds),i.bars=[];for(let s of n.bars){let a={};a.lineAlignedBounds=this.boundsToJson(s.lineAlignedBounds),a.visualBounds=this.boundsToJson(s.visualBounds),a.realBounds=this.boundsToJson(s.realBounds),a.index=s.index,a.bars=[];for(let o of s.bars){let l={};l.visualBounds=this.boundsToJson(o.visualBounds),l.realBounds=this.boundsToJson(o.realBounds),l.beats=[];for(let u of o.beats){let c={};c.visualBounds=this.boundsToJson(u.visualBounds),c.realBounds=this.boundsToJson(u.realBounds);let h=c;if(h.beatIndex=u.beat.index,h.voiceIndex=u.beat.voice.index,h.barIndex=u.beat.voice.bar.index,h.staffIndex=u.beat.voice.bar.staff.index,h.trackIndex=u.beat.voice.bar.staff.track.index,u.notes){let f=c.notes=[];for(let m of u.notes){let g={},y=g;y.index=m.note.index,g.noteHeadBounds=this.boundsToJson(m.noteHeadBounds),f.push(g)}}l.beats.push(c)}a.bars.push(l)}i.bars.push(a)}r.push(i)}return e}static fromJson(e,r){let n=new iy,i=e.staveGroups;for(let s of i){let a=new qz;a.visualBounds=s.visualBounds,a.realBounds=s.realBounds,n.addStaveGroup(a);for(let o of s.bars){let l=new Xz;l.index=o.index,l.isFirstOfLine=o.isFirstOfLine,l.lineAlignedBounds=o.lineAlignedBounds,l.visualBounds=o.visualBounds,l.realBounds=o.realBounds,a.addBar(l);for(let u of o.bars){let c=new jz;c.visualBounds=u.visualBounds,c.realBounds=u.realBounds,l.addBar(c);for(let h of u.beats){let f=new Yz;f.visualBounds=h.visualBounds,f.realBounds=h.realBounds;let m=h;if(f.beat=r.tracks[m.trackIndex].staves[m.staffIndex].bars[m.barIndex].voices[m.voiceIndex].beats[m.beatIndex],h.notes){f.notes=[];for(let g of h.notes){let y=new qM,b=g;y.note=f.beat.notes[b.index],y.noteHeadBounds=g.noteHeadBounds,f.addNote(y)}}c.addBeat(f)}}}}return n}boundsToJson(e){let r={};return r.x=e.x,r.y=e.y,r.w=e.w,r.h=e.h,r}finish(){for(let e of this.staveGroups)e.finish();this.isFinished=!0}addStaveGroup(e){e.index=this.staveGroups.length,e.boundsLookup=this,this.staveGroups.push(e),this._currentStaveGroup=e}addMasterBar(e){e.staveGroupBounds?this._masterBarLookup.set(e.index,e):(e.staveGroupBounds=this._currentStaveGroup,this._masterBarLookup.set(e.index,e),this._currentStaveGroup.addBar(e))}addBeat(e){var r;this._beatLookup.has(e.beat.id)||this._beatLookup.set(e.beat.id,[]),(r=this._beatLookup.get(e.beat.id))==null||r.push(e)}findMasterBarByIndex(e){return this._masterBarLookup.has(e)?this._masterBarLookup.get(e):null}findMasterBar(e){let r=e.index;return this._masterBarLookup.has(r)?this._masterBarLookup.get(r):null}findBeat(e){const r=this.findBeats(e);return r?r[0]:null}findBeats(e){let r=e.id;return this._beatLookup.has(r)?this._beatLookup.get(r):null}getBeatAtPos(e,r){let n=0,i=this.staveGroups.length-1,s=-1;for(;n<=i;){let l=(i+n)/2|0,u=this.staveGroups[l];if(r>=u.realBounds.y&&r<=u.realBounds.y+u.realBounds.h){s=l;break}r<u.realBounds.y?i=l-1:n=l+1}if(s===-1)return null;let o=this.staveGroups[s].findBarAtPos(e);return o?o.findBeatAtPos(e,r):null}getNoteAtPos(e,r,n){const i=this.findBeats(e);if(i)for(const s of i){const a=s.findNoteAtPos(r,n);if(a)return a}return null}}class Kz{constructor(e){this._currentLayoutMode=ku.Page,this._currentRenderEngine=null,this._renderedTracks=null,this.canvas=null,this.score=null,this.tracks=null,this.layout=null,this.boundsLookup=null,this.width=0,this.preRender=new or,this.renderFinished=new or,this.partialRenderFinished=new or,this.partialLayoutFinished=new or,this.postRenderFinished=new di,this.error=new or,this.settings=e,this.recreateCanvas(),this.recreateLayout()}destroy(){var e;this.score=null,(e=this.canvas)==null||e.destroy(),this.canvas=null,this.layout=null,this.boundsLookup=null,this.tracks=null}recreateCanvas(){var e;return this._currentRenderEngine!==this.settings.core.engine?((e=this.canvas)==null||e.destroy(),this.canvas=Ue.getRenderEngineFactory(this.settings.core.engine).createCanvas(),this._currentRenderEngine=this.settings.core.engine,!0):!1}recreateLayout(){return!this.layout||this._currentLayoutMode!==this.settings.display.layoutMode?(this.layout=Ue.getLayoutEngineFactory(this.settings.display.layoutMode).createLayout(this),this._currentLayoutMode=this.settings.display.layoutMode,!0):!1}renderScore(e,r){try{this.score=e;let n=null;if(e!=null&&r!=null){if(!r)n=e.tracks.slice(0);else{n=[];for(let i of r)i>=0&&i<e.tracks.length&&n.push(e.tracks[i])}n.length===0&&e.tracks.length>0&&n.push(e.tracks[0])}this.tracks=n,this.render()}catch(n){this.error.trigger(n)}}renderTracks(e){e.length===0?this.score=null:this.score=e[0].score,this.tracks=e,this.render()}updateSettings(e){this.settings=e}renderResult(e){try{const r=this.layout;r?(Fe.debug("Rendering","Request render of lazy partial "+e),r.renderLazyPartial(e)):Fe.warning("Rendering","Request render of lazy partial "+e+" ignored, no layout exists")}catch(r){this.error.trigger(r)}}render(){if(this.width===0){Fe.warning("Rendering","AlphaTab skipped rendering because of width=0 (element invisible)",null);return}if(this.boundsLookup=new iy,this.recreateCanvas(),this.canvas.lineWidth=this.settings.display.scale,this.canvas.settings=this.settings,!this.tracks||this.tracks.length===0||!this.score)Fe.debug("Rendering","Clearing rendered tracks because no score or tracks are set"),this.preRender.trigger(!1),this._renderedTracks=null,this.onRenderFinished(),this.postRenderFinished.trigger(),Fe.debug("Rendering","Clearing finished");else{Fe.debug("Rendering","Rendering "+this.tracks.length+" tracks");for(let e=0;e<this.tracks.length;e++){let r=this.tracks[e];Fe.debug("Rendering","Track "+e+": "+r.name)}this.preRender.trigger(!1),this.recreateLayout(),this.layoutAndRender(),Fe.debug("Rendering","Rendering finished")}}resizeRender(){this.recreateLayout()||this.recreateCanvas()||this._renderedTracks!==this.tracks||!this.tracks?(Fe.debug("Rendering","Starting full rerendering due to layout or canvas change",null),this.render()):this.layout.supportsResize?(Fe.debug("Rendering","Starting optimized rerendering for resize"),this.boundsLookup=new iy,this.preRender.trigger(!0),this.canvas.settings=this.settings,this.layout.resize(),this.onRenderFinished(),this.postRenderFinished.trigger()):Fe.debug("Rendering","Current layout does not support dynamic resizing, nothing was done",null),Fe.debug("Rendering","Resize finished")}layoutAndRender(){Fe.debug("Rendering","Rendering at scale "+this.settings.display.scale+" with layout "+this.layout.name,null),this.layout.layoutAndRender(),this._renderedTracks=this.tracks,this.onRenderFinished(),this.postRenderFinished.trigger()}onRenderFinished(){var r;(r=this.boundsLookup)==null||r.finish();const e=new Ld;e.totalHeight=this.layout.height,e.totalWidth=this.layout.width,e.renderResult=this.canvas.onRenderFinished(),this.renderFinished.trigger(e)}}class KM{constructor(e){this._main=e,this._main.addEventListener("message",this.handleMessage.bind(this),!1)}static init(){Ue.globalThis.alphaTabWebWorker=new KM(Ue.globalThis)}handleMessage(e){let r=e.data;switch(r?r.cmd:""){case"alphaTab.initialize":let i=Vn.jsObjectToSettings(r.settings);Fe.logLevel=i.core.logLevel,this._renderer=new Kz(i),this._renderer.partialRenderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialRenderFinished",result:a})}),this._renderer.partialLayoutFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.partialLayoutFinished",result:a})}),this._renderer.renderFinished.on(a=>{this._main.postMessage({cmd:"alphaTab.renderFinished",result:a})}),this._renderer.postRenderFinished.on(()=>{var a;this._main.postMessage({cmd:"alphaTab.postRenderFinished",boundsLookup:((a=this._renderer.boundsLookup)==null?void 0:a.toJson())??null})}),this._renderer.preRender.on(a=>{this._main.postMessage({cmd:"alphaTab.preRender",resize:a})}),this._renderer.error.on(this.error.bind(this));break;case"alphaTab.invalidate":this._renderer.render();break;case"alphaTab.resizeRender":this._renderer.resizeRender();break;case"alphaTab.renderResult":this._renderer.renderResult(r.resultId);break;case"alphaTab.setWidth":this._renderer.width=r.width;break;case"alphaTab.renderScore":this.updateFontSizes(r.fontSizes);let s=r.score==null?null:Vn.jsObjectToScore(r.score,this._renderer.settings);this.renderMultiple(s,r.trackIndexes);break;case"alphaTab.updateSettings":this.updateSettings(r.settings);break}}updateFontSizes(e){if(e){zn.FontSizeLookupTables||(zn.FontSizeLookupTables=new Map);for(let r in e)zn.FontSizeLookupTables.set(r,e[r])}}updateSettings(e){ip.fromJson(this._renderer.settings,e)}renderMultiple(e,r){try{this._renderer.renderScore(e,r)}catch(n){this.error(n)}}error(e){Fe.error("Worker","An unexpected error occurred in worker",e),this._main.postMessage({cmd:"alphaTab.error",error:e})}}class Lwe{constructor(){this._canvas=null,this._color=new fn(0,0,0,255),this._font=new dr("Arial",10,vn.Plain),this._lineWidth=0;let e=document.createElement("span");e.classList.add("at"),document.body.appendChild(e);let r=window.getComputedStyle(e),n=r.fontFamily;(n.startsWith('"')||n.startsWith("'"))&&(n=n.substr(1,n.length-2)),this._musicFont=new dr(n,parseFloat(r.fontSize),vn.Plain),this._measureCanvas=document.createElement("canvas"),this._measureCanvas.width=10,this._measureCanvas.height=10,this._measureCanvas.style.width="10px",this._measureCanvas.style.height="10px",this._measureContext=this._measureCanvas.getContext("2d"),this._measureContext.textBaseline="hanging"}destroy(){}onRenderFinished(){return null}beginRender(e,r){this._canvas=document.createElement("canvas"),this._canvas.width=e*Ue.HighDpiFactor|0,this._canvas.height=r*Ue.HighDpiFactor|0,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px",this._context=this._canvas.getContext("2d"),this._context.textBaseline="hanging",this._context.scale(Ue.HighDpiFactor,Ue.HighDpiFactor),this._context.lineWidth=this._lineWidth}endRender(){let e=this._canvas;return this._canvas=null,e}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._context.strokeStyle=e.rgba,this._context.fillStyle=e.rgba)}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._context&&(this._context.lineWidth=e)}fillRect(e,r,n,i){n>0&&this._context.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e|0,r|0,n,i)}beginPath(){this._context.beginPath()}closePath(){this._context.closePath()}moveTo(e,r){this._context.moveTo(e,r)}lineTo(e,r){this._context.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._context.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.fill()}strokeCircle(e,r,n){this._context.beginPath(),this._context.arc(e,r,n,0,Math.PI*2,!0),this.stroke()}fill(){this._context.fill(),this._context.beginPath()}stroke(){this._context.stroke(),this._context.beginPath()}get font(){return this._font}set font(e){this._font=e,this._context&&(this._context.font=e.toCssString(this.settings.display.scale)),this._measureContext.font=e.toCssString(this.settings.display.scale)}get textAlign(){switch(this._context.textAlign){case"left":return St.Left;case"center":return St.Center;case"right":return St.Right;default:return St.Left}}set textAlign(e){switch(e){case St.Left:this._context.textAlign="left";break;case St.Center:this._context.textAlign="center";break;case St.Right:this._context.textAlign="right";break}}get textBaseline(){switch(this._context.textBaseline){case"hanging":return jt.Top;case"middle":return jt.Middle;case"bottom":return jt.Bottom;default:return jt.Top}}set textBaseline(e){switch(e){case jt.Top:this._context.textBaseline="hanging";break;case jt.Middle:this._context.textBaseline="middle";break;case jt.Bottom:this._context.textBaseline="bottom";break}}beginGroup(e){}endGroup(){}fillText(e,r,n){this._context.fillText(e,r,n)}measureText(e){return this._measureContext.measureText(e).width}fillMusicFontSymbol(e,r,n,i,s=!1){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s=!1){let a="";for(let o of i)o!==R.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s=!1){let a=this._context.textAlign,o=this._context.textBaseline,l=this._context.font;this._context.font=this._musicFont.toCssString(n),this._context.textBaseline="middle",s?this._context.textAlign="center":this._context.textAlign="left",this._context.fillText(i,e,r),this._context.textBaseline=o,this._context.font=l,this._context.textAlign=a}beginRotate(e,r,n){this._context.save(),this._context.translate(e,r),this._context.rotate(n*Math.PI/180)}endRotate(){this._context.restore()}}class Nl{constructor(e,r=!1){this._midiFile=e,this._smf1Mode=r}addTimeSignature(e,r,n){let i=0,s=n;for(;s=s>>1,s>0;)i++;this._midiFile.addEvent(new Ez(0,e,r,i,48,8))}addRest(e,r,n){this._smf1Mode||this._midiFile.addEvent(new Dz(e,r,n))}addNote(e,r,n,i,s,a){this._midiFile.addEvent(new Lz(e,r,a,Nl.fixValue(i),Nl.fixValue(s))),this._midiFile.addEvent(new Fz(e,r+n,a,Nl.fixValue(i),Nl.fixValue(s)))}static fixValue(e){return e>127?127:e<0?0:e}addControlChange(e,r,n,i,s){this._midiFile.addEvent(new Az(e,r,n,i,Nl.fixValue(s)))}addProgramChange(e,r,n,i){this._midiFile.addEvent(new Oz(e,r,n,i))}addTempo(e,r){const n=6e7/r|0;this._midiFile.addEvent(new $z(e,n))}addBend(e,r,n,i){i>=Gt.MaxPitchWheel?i=Gt.MaxPitchWheel:i=Math.floor(i),this._midiFile.addEvent(new Vz(e,r,n,i))}addNoteBend(e,r,n,i,s){this._smf1Mode?this.addBend(e,r,n,s):(s=s*Gt.MaxPitchWheel20/Gt.MaxPitchWheel,this._midiFile.addEvent(new zz(e,r,n,i,s)))}finishTrack(e,r){(this._midiFile.format==np.MultiTrack||e==0)&&this._midiFile.addEvent(new Wz(e,r))}}class Fwe{constructor(e,r){this.closingIndex=0,this.group=e,this.opening=r,e.closings=e.closings.sort((n,i)=>n.index-i.index),this.iterations=e.closings.map(n=>0)}}class Awe{get finished(){return this.index>=this._score.masterBars.length}constructor(e){this._repeatStack=[],this._groupsOnStack=new Set,this._previousAlternateEndings=0,this.shouldPlay=!0,this.index=0,this.currentTick=0,this._score=e}processCurrent(){const e=this._score.masterBars[this.index];let r=e.alternateEndings;if(r===0&&(r=this._previousAlternateEndings),e===e.repeatGroup.opening&&e.repeatGroup.isClosed&&!this._groupsOnStack.has(e.repeatGroup)){const n=new Fwe(e.repeatGroup,e);this._repeatStack.push(n),this._groupsOnStack.add(e.repeatGroup),this._previousAlternateEndings=0,r=e.alternateEndings}if(this._repeatStack.length===0||r===0)this.shouldPlay=!0;else{const n=this._repeatStack[this._repeatStack.length-1],i=n.iterations[n.closingIndex];this._previousAlternateEndings=r,r&1<<i?this.shouldPlay=!0:this.shouldPlay=!1}this.shouldPlay&&(this.currentTick+=e.calculateDuration())}moveNext(){const r=this._score.masterBars[this.index].repeatCount-1;if(this._repeatStack.length>0&&r>0){const n=this._repeatStack[this._repeatStack.length-1];if(n.iterations[n.closingIndex]<r){this.index=n.opening.index,n.iterations[n.closingIndex]++;for(let s=0;s<n.closingIndex;s++)n.iterations[s]=0;n.closingIndex=0,this._previousAlternateEndings=0}else n.closingIndex<n.group.closings.length-1?(n.closingIndex++,this.index++):(this._repeatStack.pop(),this._groupsOnStack.delete(n.group),this.index++)}else this.index++}}class Owe{constructor(e,r){this.beat=e,this.playbackStart=r}}class eo{get duration(){return this.end-this.start}constructor(e,r){this._highlightedBeats=new Map,this.highlightedBeats=[],this.nextBeat=null,this.previousBeat=null,this.start=e,this.end=r}highlightBeat(e,r){e.isEmpty&&!e.voice.isEmpty||this._highlightedBeats.has(e.id)||(this._highlightedBeats.set(e.id,!0),this.highlightedBeats.push(new Owe(e,r)))}getVisibleBeatAtStart(e){for(const r of this.highlightedBeats)if(r.playbackStart==this.start&&e.has(r.beat.voice.bar.staff.track.index))return r.beat;return null}}class Qz{constructor(){this.start=0,this.end=0,this.tempo=0,this.firstBeat=null,this.lastBeat=null,this.nextMasterBar=null,this.previousMasterBar=null}insertAfter(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.nextBeat=e.nextBeat,r.previousBeat=e,e.nextBeat&&(e.nextBeat.previousBeat=r),e.nextBeat=r,e==this.lastBeat&&(this.lastBeat=r))}insertBefore(e,r){this.firstBeat==null||e==null||this.lastBeat==null?(this.firstBeat=r,this.lastBeat=r):(r.previousBeat=e.previousBeat,r.nextBeat=e,e.previousBeat&&(e.previousBeat.nextBeat=r),e.previousBeat=r,e==this.firstBeat&&(this.firstBeat=r))}addBeat(e,r,n,i){const s=n+i;if(this.firstBeat==null){const a=new eo(n,s);a.highlightBeat(e,r),this.insertAfter(this.firstBeat,a)}else if(n>=this.lastBeat.end){const a=new eo(this.lastBeat.end,s);a.highlightBeat(e,r),this.insertAfter(this.lastBeat,a)}else{let a=null;if(n<this.firstBeat.start)a=this.firstBeat;else{let o=this.firstBeat;for(;o!=null;){if(n>=o.start&&n<o.end){a=o;break}o=o.nextBeat}if(a===null)throw new ki(Si.General,"Error on building lookup, unknown variant")}if(n<a.start)if(s==a.start){const o=new eo(n,a.start);o.highlightBeat(e,r),this.insertBefore(this.firstBeat,o)}else if(s<a.end){const o=new eo(n,a.start);o.highlightBeat(e,r),this.insertBefore(a,o);const l=new eo(a.start,s);for(const u of a.highlightedBeats)l.highlightBeat(u.beat,u.playbackStart);l.highlightBeat(e,r),this.insertBefore(a,l),a.start=s}else if(s==a.end){const o=new eo(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o)}else{const o=new eo(n,a.start);o.highlightBeat(e,r),a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(n>a.start)if(s==a.end){const o=new eo(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o)}else if(s<a.end){const o=new eo(a.start,n);this.insertBefore(a,o);const l=new eo(n,s);this.insertBefore(a,l);for(const u of a.highlightedBeats)o.highlightBeat(u.beat,u.playbackStart),l.highlightBeat(u.beat,u.playbackStart);l.highlightBeat(e,r),a.start=s}else{const o=new eo(a.start,n);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);a.start=n,a.highlightBeat(e,r),this.insertBefore(a,o),this.addBeat(e,r,a.end,s-a.end)}else if(s===a.end)a.highlightBeat(e,r);else if(s<a.end){const o=new eo(a.start,s);for(const l of a.highlightedBeats)o.highlightBeat(l.beat,l.playbackStart);o.highlightBeat(e,r),a.start=s,this.insertBefore(a,o)}else a.highlightBeat(e,r),this.addBeat(e,r,a.end,s-a.end)}}}class $we{get start(){return this.masterBar.start+this.beatLookup.start}get end(){return this.start+this.tickDuration}constructor(e){this.nextBeat=null,this.tickDuration=0,this.duration=0,this.masterBar=e}}class Vwe{constructor(){this._currentMasterBar=null,this.masterBarLookup=new Map,this.masterBars=[]}findBeat(e,r,n=null){let i=null;return n&&(i=this.findBeatFast(e,n,r)),i||(i=this.findBeatSlow(e,n,r,!1)),i}findBeatFast(e,r,n){if(n>=r.start&&n<r.end)return r;if(r.nextBeat&&n>=r.nextBeat.start&&n<r.nextBeat.end){const i=r.nextBeat;return this.fillNextBeat(i,e),i}return null}fillNextBeat(e,r){e.nextBeat=this.findBeatInMasterBar(e.masterBar,e.beatLookup.nextBeat,e.end,r,!1,!0),e.nextBeat==null&&(e.nextBeat=this.findBeatSlow(r,e,e.end,!0)),e.nextBeat&&(e.tickDuration=e.nextBeat.start-e.start,e.duration=zt.ticksToMillis(e.tickDuration,e.masterBar.tempo)),e.nextBeat||(e.tickDuration=e.masterBar.end-e.start,e.duration=zt.ticksToMillis(e.tickDuration,e.masterBar.tempo))}findBeatSlow(e,r,n,i){let s=null;if(r!=null&&(r.masterBar.start<=n&&r.masterBar.end>n?s=r.masterBar:r.masterBar.nextMasterBar&&r.masterBar.nextMasterBar.start<=n&&r.masterBar.nextMasterBar.end>n&&(s=r.masterBar.nextMasterBar)),s||(s=this.findMasterBar(n)),!s)return null;for(;s;){if(s.firstBeat){let a=this.findBeatInMasterBar(s,s.firstBeat,n,e,!0,i);if(a)return a}s=s.nextMasterBar}return null}findBeatInMasterBar(e,r,n,i,s,a){if(!r)return null;let o=null,l=null;const u=n-e.start;for(;r!=null&&l==null;){if(r.start<=u&&u<r.end){if(o=r,l=r.getVisibleBeatAtStart(i),!l)if(a){let h=e;for(;h!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=h;break}r=r.nextBeat}(!l||!o)&&(h=h.nextMasterBar,r=(h==null?void 0:h.firstBeat)??null)}}else{let h=e;for(;h!=null&&l==null;){for(;r!=null;){if(l=r.getVisibleBeatAtStart(i),l){o=r,e=h;break}r=r.previousBeat}(!l||!o)&&(h=h.previousMasterBar,r=(h==null?void 0:h.firstBeat)??null)}}}else if(r.end>u)break;r=(r==null?void 0:r.nextBeat)??null}return l==null?null:this.createResult(e,o,l,s,i)}createResult(e,r,n,i,s){const a=new $we(e);return a.beat=n,a.beatLookup=r,a.tickDuration=r.end-r.start,i&&this.fillNextBeat(a,s),a.duration=zt.ticksToMillis(a.tickDuration,e.tempo),a}findMasterBar(e){const r=this.masterBars;let n=0,i=r.length-1;for(;n<=i;){const s=(i+n)/2|0,a=r[s];if(e>=a.start&&e<a.end)return a;e<a.start?i=s-1:n=s+1}return null}getMasterBar(e){if(!this.masterBarLookup.has(e.index)){const r=new Qz;return r.masterBar=e,r}return this.masterBarLookup.get(e.index)}getMasterBarStart(e){return this.masterBarLookup.has(e.index)?this.masterBarLookup.get(e.index).start:0}getBeatStart(e){return this.masterBarLookup.has(e.voice.bar.index)?this.masterBarLookup.get(e.voice.bar.index).start+e.playbackStart:0}addMasterBar(e){this.masterBars.push(e),this._currentMasterBar&&(e.previousMasterBar=this._currentMasterBar,this._currentMasterBar.nextMasterBar=e),this._currentMasterBar=e,this.masterBarLookup.has(e.masterBar.index)||this.masterBarLookup.set(e.masterBar.index,e)}addBeat(e,r,n){const i=this._currentMasterBar;if(i)if(r<0&&i.previousMasterBar){const s=i.previousMasterBar.end-i.previousMasterBar.start,a=s+r,o=a+n;if(i.previousMasterBar.addBeat(e,a,a,n),o>s){const l=n+r;i.addBeat(e,r,0,l)}}else i.addBeat(e,r,r,n)}}class zwe{constructor(){this.noteOnly=0,this.untilTieOrSlideEnd=0,this.letRingEnd=0}}class Wwe{constructor(){this.firstBeatDuration=0,this.secondBeatStartOffset=0,this.secondBeatDuration=0}}class Br{constructor(e,r,n){this._currentTempo=0,this._programsPerChannel=new Map,this.tickLookup=new Vwe,this.applyTranspositionPitches=!0,this.transpositionPitches=new Map,this._currentTripletFeel=null,this.vibratoResolution=16,this._score=e,this._settings=r||new oh,this._currentTempo=this._score.tempo,this._handler=n}generate(){this.transpositionPitches.clear();for(const n of this._score.tracks)this.generateTrack(n);Fe.debug("Midi","Begin midi generation");const e=new Awe(this._score);let r=null;for(;!e.finished;){const n=e.index,i=this._score.masterBars[n],s=e.currentTick;if(e.processCurrent(),e.shouldPlay){this.generateMasterBar(i,r,s);for(const a of this._score.tracks)for(const o of a.staves)n<o.bars.length&&this.generateBar(o.bars[n],s)}e.moveNext(),r=i}for(const n of this._score.tracks)this._handler.finishTrack(n.index,e.currentTick);Fe.debug("Midi","Midi generation done")}generateTrack(e){this.generateChannel(e,e.playbackInfo.primaryChannel,e.playbackInfo),e.playbackInfo.primaryChannel!==e.playbackInfo.secondaryChannel&&this.generateChannel(e,e.playbackInfo.secondaryChannel,e.playbackInfo)}addProgramChange(e,r,n,i){(!this._programsPerChannel.has(n)||this._programsPerChannel.get(n)!==i)&&(this._handler.addProgramChange(e.index,r,n,i),this._programsPerChannel.set(n,i))}static buildTranspositionPitches(e,r){const n=new Map;for(const i of e.tracks){const s=i.index<r.notation.transpositionPitches.length?r.notation.transpositionPitches[i.index]:0;n.set(i.playbackInfo.primaryChannel,s),n.set(i.playbackInfo.secondaryChannel,s)}return n}generateChannel(e,r,n){const i=e.index<this._settings.notation.transpositionPitches.length?this._settings.notation.transpositionPitches[e.index]:0;this.transpositionPitches.set(r,i);let s=Br.toChannelShort(n.volume),a=Br.toChannelShort(n.balance);this._handler.addControlChange(e.index,0,r,Lr.VolumeCoarse,s),this._handler.addControlChange(e.index,0,r,Lr.PanCoarse,a),this._handler.addControlChange(e.index,0,r,Lr.ExpressionControllerCoarse,127),this._handler.addControlChange(e.index,0,r,Lr.RegisteredParameterFine,0),this._handler.addControlChange(e.index,0,r,Lr.RegisteredParameterCourse,0),this._handler.addControlChange(e.index,0,r,Lr.DataEntryFine,0),this._handler.addControlChange(e.index,0,r,Lr.DataEntryCoarse,Br.PitchBendRangeInSemitones),this.addProgramChange(e,0,r,n.program)}static toChannelShort(e){const r=Math.max(-32768,Math.min(32767,e*8-1));return Math.max(r,-1)+1}generateMasterBar(e,r,n){(!r||r.timeSignatureDenominator!==e.timeSignatureDenominator||r.timeSignatureNumerator!==e.timeSignatureNumerator)&&this._handler.addTimeSignature(n,e.timeSignatureNumerator,e.timeSignatureDenominator),e.tempoAutomation?(this._handler.addTempo(n,e.tempoAutomation.value),this._currentTempo=e.tempoAutomation.value):r||(this._handler.addTempo(n,e.score.tempo),this._currentTempo=e.score.tempo);const i=new Qz;i.masterBar=e,i.start=n,i.tempo=this._currentTempo,i.end=i.start+e.calculateDuration(),this.tickLookup.addMasterBar(i)}generateBar(e,r){let n=this.getPlaybackBar(e);for(const i of n.voices)this.generateVoice(i,r,e)}getPlaybackBar(e){switch(e.simileMark){case Da.Simple:e.previousBar&&(e=this.getPlaybackBar(e.previousBar));break;case Da.FirstOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break;case Da.SecondOfDouble:e.previousBar&&e.previousBar.previousBar&&(e=this.getPlaybackBar(e.previousBar.previousBar));break}return e}generateVoice(e,r,n){if(!(e.isEmpty&&(!e.bar.isEmpty||e.index!==0)))for(const i of e.beats)this.generateBeat(i,r,n)}generateBeat(e,r,n){let i=e.playbackStart,s=e.playbackDuration;e.voice.bar.isEmpty?s=e.voice.bar.masterBar.calculateDuration():e.voice.bar.masterBar.tripletFeel!==qt.NoTripletFeel&&this._settings.player.playTripletFeel&&(this._currentTripletFeel?(i-=this._currentTripletFeel.secondBeatStartOffset,s=this._currentTripletFeel.secondBeatDuration,this._currentTripletFeel=null):(this._currentTripletFeel=Br.calculateTripletFeelInfo(i,s,e),this._currentTripletFeel&&(s=this._currentTripletFeel.firstBeatDuration))),n===e.voice.bar?this.tickLookup.addBeat(e,i,s):this.tickLookup.addBeat(e,0,s);const a=e.voice.bar.staff.track;for(const o of e.automations)this.generateAutomation(e,o,r);if(e.isRest)this._handler.addRest(a.index,r+i,a.playbackInfo.primaryChannel);else{let o=this.getBrushInfo(e);for(const l of e.notes)this.generateNote(l,r+i,s,o)}if(e.vibrato!==hr.None){let o=240,l=3;switch(e.vibrato){case hr.Slight:o=this._settings.player.vibrato.beatSlightLength,l=this._settings.player.vibrato.beatSlightAmplitude;break;case hr.Wide:o=this._settings.player.vibrato.beatWideLength,l=this._settings.player.vibrato.beatWideAmplitude;break}this.generateVibratorWithParams(r+i,e.playbackDuration,o,l,(u,c)=>{this._handler.addBend(e.voice.bar.staff.track.index,u,a.playbackInfo.secondaryChannel,c)})}}static calculateTripletFeelInfo(e,r,n){let i;switch(n.voice.bar.masterBar.tripletFeel){case qt.Triplet8th:case qt.Dotted8th:case qt.Scottish8th:i=oe.Eighth;break;case qt.Triplet16th:case qt.Dotted16th:case qt.Scottish16th:i=oe.Sixteenth;break;default:return null}const s=zt.toTicks(i);if(r!==s||e%s!==0||!n.nextBeat||n.nextBeat.voice!==n.voice||n.playbackDuration!==s)return null;const a=new Wwe;switch(n.voice.bar.masterBar.tripletFeel){case qt.Triplet8th:a.firstBeatDuration=zt.applyTuplet(zt.toTicks(oe.Quarter),3,2),a.secondBeatDuration=zt.applyTuplet(zt.toTicks(oe.Eighth),3,2);break;case qt.Dotted8th:a.firstBeatDuration=zt.applyDot(zt.toTicks(oe.Eighth),!1),a.secondBeatDuration=zt.toTicks(oe.Sixteenth);break;case qt.Scottish8th:a.firstBeatDuration=zt.toTicks(oe.Sixteenth),a.secondBeatDuration=zt.applyDot(zt.toTicks(oe.Eighth),!1);break;case qt.Triplet16th:a.firstBeatDuration=zt.applyTuplet(zt.toTicks(oe.Eighth),3,2),a.secondBeatDuration=zt.applyTuplet(zt.toTicks(oe.Sixteenth),3,2);break;case qt.Dotted16th:a.firstBeatDuration=zt.applyDot(zt.toTicks(oe.Sixteenth),!1),a.secondBeatDuration=zt.toTicks(oe.ThirtySecond);break;case qt.Scottish16th:a.firstBeatDuration=zt.toTicks(oe.ThirtySecond),a.secondBeatDuration=zt.applyDot(zt.toTicks(oe.Sixteenth),!1);break}return a.secondBeatStartOffset=r-a.firstBeatDuration,a}generateNote(e,r,n,i){const s=e.beat.voice.bar.staff.track,a=e.beat.voice.bar.staff;let o=e.calculateRealValue(this.applyTranspositionPitches,!0);if(e.isPercussion){const g=Ni.getArticulation(e);g&&(o=g.outputMidiNumber)}const l=e.isStringed&&e.string<=i.length?i[e.string-1]:0,u=r+l,c=this.getNoteDuration(e,n);c.untilTieOrSlideEnd-=l,c.noteOnly-=l,c.letRingEnd-=l;const h=Br.getNoteVelocity(e),f=e.hasBend||e.beat.hasWhammyBar||e.beat.vibrato!==hr.None?s.playbackInfo.secondaryChannel:s.playbackInfo.primaryChannel;let m=0;if(e.hasBend?m=Br.getPitchWheel(e.bendPoints[0].value):e.beat.hasWhammyBar?m=Br.getPitchWheel(e.beat.whammyBarPoints[0].value):e.isTieDestination||e.slideOrigin&&e.slideOrigin.slideOutType===Ht.Legato?m=-1:m=Br.getPitchWheel(0),m>=0&&this._handler.addNoteBend(s.index,u,f,o,m),e.beat.fadeIn&&this.generateFadeIn(e,u,c),e.isTrill&&!a.isPercussion){this.generateTrill(e,u,c,o,h,f);return}if(e.beat.isTremolo){this.generateTremoloPicking(e,u,c,o,h,f);return}if(e.hasBend?this.generateBend(e,u,c,o,f):e.beat.hasWhammyBar&&e.index===0?this.generateWhammy(e.beat,u,c,f):e.slideInType!==xi.None||e.slideOutType!==Ht.None?this.generateSlide(e,u,c,o,f):(e.vibrato!==hr.None||e.isTieDestination&&e.tieOrigin.vibrato!==hr.None)&&this.generateVibrato(e,u,c,o,f),!e.isTieDestination&&(!e.slideOrigin||e.slideOrigin.slideOutType!==Ht.Legato)){let g=Math.max(c.untilTieOrSlideEnd,c.letRingEnd);this._handler.addNote(s.index,u,g,o,h,f)}}getNoteDuration(e,r){const n=new zwe;if(n.noteOnly=r,n.untilTieOrSlideEnd=r,n.letRingEnd=r,e.isDead)return n.noteOnly=this.applyStaticDuration(Br.DefaultDurationDead,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isPalmMute)return n.noteOnly=this.applyStaticDuration(Br.DefaultDurationPalmMute,r),n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isStaccato)return n.noteOnly=r/2|0,n.untilTieOrSlideEnd=n.noteOnly,n.letRingEnd=n.noteOnly,n;if(e.isTieOrigin){const i=e.tieDestination;if(i)if(e.isTieDestination){const s=this.getNoteDuration(i,i.beat.playbackDuration);n.untilTieOrSlideEnd=r+s.untilTieOrSlideEnd}else{const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}else if(e.slideOutType===Ht.Legato){const i=e.slideTarget;if(i){const s=e.beat.absolutePlaybackStart,a=this.getNoteDuration(i,i.beat.playbackDuration),o=i.beat.absolutePlaybackStart+a.untilTieOrSlideEnd;n.untilTieOrSlideEnd=o-s}}if(e.isLetRing&&this._settings.notation.notationMode===ui.GuitarPro){let i=e.beat,s=0;const a=e.beat.voice.bar.masterBar.calculateDuration();for(;i.nextBeat;){let o=i.nextBeat;if(o.isRest||e.isStringed&&o.hasNoteOnString(e.string))break;if(i=i.nextBeat,s=i.absolutePlaybackStart-e.beat.absolutePlaybackStart+i.playbackDuration,s>a){s=a;break}}i===e.beat?n.letRingEnd=r:n.letRingEnd=s}else n.letRingEnd=n.untilTieOrSlideEnd;return n}applyStaticDuration(e,r){const n=this._currentTempo*e/Je.MaxPosition|0;return Math.min(n,r)}static getNoteVelocity(e){let r=e.dynamics;switch(!e.beat.voice.bar.staff.isPercussion&&e.hammerPullOrigin&&r--,e.isGhost&&r--,e.accentuated){case Xn.Normal:r++;break;case Xn.Heavy:r+=2;break}return zt.dynamicToVelocity(r)}generateFadeIn(e,r,n){const i=e.beat.voice.bar.staff.track,a=Br.toChannelShort(i.playbackInfo.volume)/n.noteOnly,o=120,l=n.noteOnly/o|0,u=r+n.noteOnly;for(let c=l-1;c>=0;c--){const h=u-c*o,f=(h-r)*a;c===l-1&&(this._handler.addControlChange(i.index,r,i.playbackInfo.primaryChannel,Lr.VolumeCoarse,f),this._handler.addControlChange(i.index,r,i.playbackInfo.secondaryChannel,Lr.VolumeCoarse,f)),this._handler.addControlChange(i.index,h,i.playbackInfo.primaryChannel,Lr.VolumeCoarse,f),this._handler.addControlChange(i.index,h,i.playbackInfo.secondaryChannel,Lr.VolumeCoarse,f)}}generateVibrato(e,r,n,i,s){let a=0,o=0;switch(e.vibrato!==hr.None?e.vibrato:e.isTieDestination?e.tieOrigin.vibrato:hr.Slight){case hr.Slight:a=this._settings.player.vibrato.noteSlightLength,o=this._settings.player.vibrato.noteSlightAmplitude;break;case hr.Wide:a=this._settings.player.vibrato.noteWideLength,o=this._settings.player.vibrato.noteWideAmplitude;break;default:return}const u=e.beat.voice.bar.staff.track;this.generateVibratorWithParams(r,n.noteOnly,a,o,(c,h)=>{this._handler.addNoteBend(u.index,c,s,i,h)})}generateVibratorWithParams(e,r,n,i,s){const a=this.vibratoResolution,o=n/2|0;e+=n;const l=e+r;for(;e<l;){let u=0;const c=e+n<l?n:l-e;for(;u<c;){let h=i*Math.sin(u*Math.PI/o);s(e+u|0,Br.getPitchWheel(h)),u+=a}e+=n}}static getPitchWheel(e){return Gt.DefaultPitchWheel+e/2*Br.PitchValuePerSemitone}generateSlide(e,r,n,i,s){let a=e.slideOutType===Ht.Legato?n.noteOnly:n.untilTieOrSlideEnd,o=[],l=e.beat.voice.bar.staff.track;const u=this._settings.player.slide.simpleSlidePitchOffset,c=Math.floor(Je.MaxPosition*this._settings.player.slide.simpleSlideDurationRatio),h=Math.floor(Je.MaxPosition*this._settings.player.slide.shiftSlideDurationRatio);switch(e.slideInType){case xi.IntoFromAbove:o.push(new Je(0,u)),o.push(new Je(c,0));break;case xi.IntoFromBelow:o.push(new Je(0,-u)),o.push(new Je(c,0));break}switch(e.slideOutType){case Ht.Legato:case Ht.Shift:o.push(new Je(h,0));const f=(e.slideTarget.calculateRealValue(this.applyTranspositionPitches,!0)-e.calculateRealValue(this.applyTranspositionPitches,!0))*2;o.push(new Je(Je.MaxPosition,f));break;case Ht.OutDown:o.push(new Je(Je.MaxPosition-c,0)),o.push(new Je(Je.MaxPosition,-u));break;case Ht.OutUp:o.push(new Je(Je.MaxPosition-c,0)),o.push(new Je(Je.MaxPosition,u));break}this.generateWhammyOrBend(r,a,o,(f,m)=>{this._handler.addNoteBend(l.index,f,s,i,m)})}generateBend(e,r,n,i,s){let a=e.bendPoints,o=e.beat.voice.bar.staff.track;const l=(m,g)=>{this._handler.addNoteBend(o.index,m,s,i,g)};let u=null,c;if(e.isTieOrigin&&this._settings.notation.extendBendArrowsOnTiedNotes){let m=e;for(;m.isTieOrigin&&!m.tieDestination.hasBend;)m=m.tieDestination;c=m.beat.absolutePlaybackStart-e.beat.absolutePlaybackStart+this.getNoteDuration(m,m.beat.playbackDuration).noteOnly}else if(e.isTieOrigin&&e.beat.graceType!==_t.None){switch(e.tieDestination.bendType){case ct.Bend:case ct.BendRelease:case ct.PrebendBend:u=e.tieDestination.bendPoints[1].value;break;case ct.Prebend:case ct.PrebendRelease:u=e.tieDestination.bendPoints[0].value;break}c=Math.max(n.noteOnly,zt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo))}else c=n.noteOnly;a[0].value>0&&!e.isContinuedBend&&r>0&&r--;const h=Math.min(c,zt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));let f=[];switch(e.bendType){case ct.Custom:f=a;break;case ct.Bend:case ct.Release:switch(e.bendStyle){case Ir.Default:f=a;break;case Ir.Gradual:f.push(new Je(0,e.bendPoints[0].value)),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),f.push(new Je(Je.MaxPosition,u));break;case Ir.Fast:(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),e.beat.graceType===_t.BendGrace?this.generateSongBookWhammyOrBend(r,c,!0,[e.bendPoints[0].value,u],h,l):this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,u],h,l);return}break;case ct.BendRelease:switch(e.bendStyle){case Ir.Default:f=a;break;case Ir.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition/2|0,e.bendPoints[1].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[2].value));break;case Ir.Fast:this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,e.bendPoints[1].value,e.bendPoints[2].value],h,l);return}break;case ct.Hold:f=a;break;case ct.Prebend:f=a;break;case ct.PrebendBend:switch(e.bendStyle){case Ir.Default:f=a;break;case Ir.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[1].value));break;case Ir.Fast:const m=Br.getPitchWheel(e.bendPoints[0].value);l(r,m|0),(!u||u<e.bendPoints[1].value)&&(u=e.bendPoints[1].value),this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,u],h,l);return}break;case ct.PrebendRelease:switch(e.bendStyle){case Ir.Default:f=a;break;case Ir.Gradual:f.push(new Je(0,e.bendPoints[0].value)),f.push(new Je(Je.MaxPosition,e.bendPoints[1].value));break;case Ir.Fast:const m=Br.getPitchWheel(e.bendPoints[0].value);l(r,m|0),this.generateSongBookWhammyOrBend(r,c,!1,[e.bendPoints[0].value,e.bendPoints[1].value],h,l);return}break}this.generateWhammyOrBend(r,c,f,l)}generateSongBookWhammyOrBend(e,r,n,i,s,a){const o=n?e:e+r-s,l=s/(i.length-1);for(let u=0;u<i.length-1;u++){const c=Br.getPitchWheel(i[u]),h=Br.getPitchWheel(i[u+1]),f=o+l*u;this.generateBendValues(f,l,c,h,a)}}generateWhammy(e,r,n,i){const s=e.whammyBarPoints,a=e.voice.bar.staff.track,o=n.noteOnly;s[0].value>0&&!e.isContinuedWhammy&&r--;const l=(c,h)=>{this._handler.addBend(a.index,c,i,h)};let u=[];switch(e.whammyBarType){case pr.Custom:u=s;break;case pr.Dive:switch(e.whammyStyle){case Ir.Default:u=s;break;case Ir.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition,s[1].value));break;case Ir.Fast:const c=Math.min(o,zt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],c,l);return}break;case pr.Dip:switch(e.whammyStyle){case Ir.Default:u=s;break;case Ir.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition/2|0,s[1].value)),u.push(new Je(Je.MaxPosition,s[2].value));break;case Ir.Fast:const c=Math.min(o,zt.millisToTicks(this._settings.player.songBookDipDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!0,[s[0].value,s[1].value,s[2].value],c,l);return}break;case pr.Hold:u=s;break;case pr.Predive:u=s;break;case pr.PrediveDive:switch(e.whammyStyle){case Ir.Default:u=s;break;case Ir.Gradual:u.push(new Je(0,s[0].value)),u.push(new Je(Je.MaxPosition/2|0,s[0].value)),u.push(new Je(Je.MaxPosition,s[1].value));break;case Ir.Fast:const c=Br.getPitchWheel(s[0].value);this._handler.addBend(a.index,r,i,c|0);const h=Math.min(o,zt.millisToTicks(this._settings.player.songBookBendDuration,this._currentTempo));this.generateSongBookWhammyOrBend(r,o,!1,[s[0].value,s[1].value],h,l);return}break}this.generateWhammyOrBend(r,o,u,l)}generateWhammyOrBend(e,r,n,i){const s=r/Je.MaxPosition;for(let a=0;a<n.length-1;a++){const o=n[a],l=n[a+1],u=Br.getPitchWheel(o.value),c=Br.getPitchWheel(l.value),h=s*(l.offset-o.offset),f=e+s*o.offset;this.generateBendValues(f,h,u,c,i)}}generateBendValues(e,r,n,i,s){const a=zt.ticksToMillis(r,this._currentTempo),o=Math.abs(i-n)/Br.PitchValuePerSemitone,l=Math.max(Br.MinBreakpointsPerSemitone*o,a/Br.MillisecondsPerBreakpoint),u=r/l,c=(i-n)/l;for(let h=0;h<l;h++)s(e|0,Math.round(n)),n+=c,e+=u;n<i&&s(e|0,i)}generateTrill(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track,l=e.stringTuning+e.trillFret;let u=zt.toTicks(e.trillSpeed),c=!0,h=r,f=r+n.untilTieOrSlideEnd;for(;h+10<f;)h+u>=f&&(u=f-h),this._handler.addNote(o.index,h,u,c?l:i,s,a),c=!c,h+=u}generateTremoloPicking(e,r,n,i,s,a){const o=e.beat.voice.bar.staff.track;let l=zt.toTicks(e.beat.tremoloSpeed),u=r;const c=r+n.untilTieOrSlideEnd;for(;u+10<c;)u+l>=c&&(l=c-u),this._handler.addNote(o.index,u,l,i,s,a),u+=l}getBrushInfo(e){const r=new Int32Array(e.voice.bar.staff.tuning.length);if(e.brushType!==Qr.None){let n=0,i=0;for(const s of e.notes)s.isTieDestination||(n|=1<<s.string-1,i++);if(e.notes.length>0){let s=0;const a=e.brushDuration/(i-1)|0;for(let o=0;o<e.voice.bar.staff.tuning.length;o++){let l=e.brushType===Qr.ArpeggioDown||e.brushType===Qr.BrushDown?o:r.length-1-o;n&1<<l&&(r[l]=s,s+=a)}}}return r}generateAutomation(e,r,n){switch(r.type){case ci.Instrument:this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,(r.value|0)&255),this.addProgramChange(e.voice.bar.staff.track,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,(r.value|0)&255);break;case ci.Balance:let i=Br.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Lr.PanCoarse,i),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Lr.PanCoarse,i);break;case ci.Volume:let s=Br.toChannelShort(r.value);this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.primaryChannel,Lr.VolumeCoarse,s),this._handler.addControlChange(e.voice.bar.staff.track.index,e.playbackStart+n,e.voice.bar.staff.track.playbackInfo.secondaryChannel,Lr.VolumeCoarse,s);break}}prepareSingleBeat(e){let r=-1,n=-1,i=e;for(;i&&(r===-1||n===-1);){for(const u of e.automations)switch(u.type){case ci.Instrument:n=u.value;break;case ci.Tempo:r=u.value;break}i=i.previousBeat}const s=e.voice.bar.staff.track,a=e.voice.bar.masterBar;r===-1&&(r=a.score.tempo),n===-1&&(n=s.playbackInfo.program);const o=s.playbackInfo.volume;this.generateTrack(s),this._handler.addTimeSignature(0,a.timeSignatureNumerator,a.timeSignatureDenominator),this._handler.addTempo(0,r);let l=Br.toChannelShort(o);this._handler.addControlChange(0,0,s.playbackInfo.primaryChannel,Lr.VolumeCoarse,l),this._handler.addControlChange(0,0,s.playbackInfo.secondaryChannel,Lr.VolumeCoarse,l)}generateSingleBeat(e){this.prepareSingleBeat(e),this.generateBeat(e,-e.playbackStart,e.voice.bar)}generateSingleNote(e){this.prepareSingleBeat(e.beat),this.generateNote(e,0,e.beat.playbackDuration,new Int32Array(e.beat.voice.bar.staff.tuning.length))}}Br.DefaultDurationDead=30;Br.DefaultDurationPalmMute=80;Br.PitchBendRangeInSemitones=8*2;Br.PitchValuePerSemitone=Gt.DefaultPitchWheel/Br.PitchBendRangeInSemitones;Br.MinBreakpointsPerSemitone=6;Br.MillisecondsPerBreakpoint=150;class Hwe{constructor(){this.startTick=0,this.endTick=0}}class In{constructor(e,r){this.width=0,this.height=0,this.x=e,this.y=r}get scale(){return this.renderer.scale}doLayout(){}paint(e,r,n){}}class pl extends In{constructor(e=0,r=0){super(e,r),this.beat=null,this.nextGlyph=null,this.previousGlyph=null}}class En extends pl{constructor(e,r,n,i){super(e,r),this.glyphScale=0,this.glyphScale=n,this.symbol=i}paint(e,r,n){n.fillMusicFontSymbol(e+this.x,r+this.y,this.glyphScale*this.scale,this.symbol,!1)}}class Xt extends En{constructor(e,r,n,i){super(e,r,i?Xt.GraceScale:1,Xt.getSymbol(n)),this._isGrace=i,this._duration=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1)}doLayout(){let e=(this._isGrace?Xt.GraceScale:1)*this.scale;switch(this._duration){case oe.QuadrupleWhole:this.width=14*e;break;case oe.DoubleWhole:this.width=14*(this._isGrace?Xt.GraceScale:1)*this.scale;break;case oe.Whole:this.width=14*(this._isGrace?Xt.GraceScale:1)*this.scale;break;default:this.width=Xt.QuarterNoteHeadWidth*(this._isGrace?Xt.GraceScale:1)*this.scale;break}this.height=Xt.NoteHeadHeight*e}static getSymbol(e){switch(e){case oe.QuadrupleWhole:return R.NoteheadDoubleWholeSquare;case oe.DoubleWhole:return R.NoteheadDoubleWhole;case oe.Whole:return R.NoteheadWhole;case oe.Half:return R.NoteheadHalf;default:return R.NoteheadBlack}}}Xt.GraceScale=.75;Xt.NoteHeadHeight=8;Xt.QuarterNoteHeadWidth=9;class Mp extends En{constructor(e,r,n,i,s){super(e,r,s?Xt.GraceScale:1,Mp.getSymbol(n,i,s))}doLayout(){this.width=0}static getSymbol(e,r,n){if(n&&(e=oe.Eighth),r===He.Up)switch(e){case oe.Eighth:return R.FlagEighthUp;case oe.Sixteenth:return R.FlagSixteenthUp;case oe.ThirtySecond:return R.FlagThirtySecondUp;case oe.SixtyFourth:return R.FlagSixtyFourthUp;case oe.OneHundredTwentyEighth:return R.FlagOneHundredTwentyEighthUp;case oe.TwoHundredFiftySixth:return R.FlagTwoHundredFiftySixthUp;default:return R.FlagEighthUp}switch(e){case oe.Eighth:return R.FlagEighthDown;case oe.Sixteenth:return R.FlagSixteenthDown;case oe.ThirtySecond:return R.FlagThirtySecondDown;case oe.SixtyFourth:return R.FlagSixtyFourthDown;case oe.OneHundredTwentyEighth:return R.FlagOneHundredTwentyEighthDown;case oe.TwoHundredFiftySixth:return R.FlagOneHundredTwentyEighthDown;default:return R.FlagEighthDown}}}Mp.FlagWidth=11;class rl extends In{get onTimeX(){return this.onNotes.x+this.onNotes.centerX}constructor(e,r){super(0,0),this.ties=[],this.minWidth=0,this.beat=e,this.ties=[],this.voiceContainer=r}addTie(e){e.renderer=this.renderer,this.ties.push(e)}registerLayoutingInfo(e){let r=this.preNotes.computedWidth+this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=rl.GraceBeatPadding*this.renderer.scale);let n=this.onNotes.computedWidth-this.onNotes.centerX;const i=this.renderer.helpers.getBeamingHelperForBeat(this.beat);(i&&i.hasFlag||this.beat.graceType!==_t.None)&&(n+=Mp.FlagWidth*this.scale*(this.beat.graceType!==_t.None?Xt.GraceScale:1));for(const s of this.ties)n+=s.width;this.beat.graceType!==_t.None&&(n+=rl.GraceBeatPadding*this.renderer.scale),e.addBeatSpring(this.beat,r,n),e.setPreBeatSize(this.beat,this.preNotes.computedWidth),e.setOnBeatSize(this.beat,this.onNotes.computedWidth),e.setBeatCenterX(this.beat,this.onNotes.centerX)}applyLayoutingInfo(e){let r=e.getBeatCenterX(this.beat)-this.onNotes.centerX;this.beat.graceGroup&&!this.beat.graceGroup.isComplete&&(r+=rl.GraceBeatPadding*this.renderer.scale),this.preNotes.x=r,this.preNotes.width=e.getPreBeatSize(this.beat),this.onNotes.width=e.getOnBeatSize(this.beat),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.updateBeamingHelper(),this.updateWidth()}doLayout(){this.preNotes.x=0,this.preNotes.renderer=this.renderer,this.preNotes.container=this,this.preNotes.doLayout(),this.onNotes.x=this.preNotes.x+this.preNotes.width,this.onNotes.renderer=this.renderer,this.onNotes.container=this,this.onNotes.doLayout();let e=this.beat.notes.length-1;for(;e>=0;)this.createTies(this.beat.notes[e--]);this.renderer.registerTies(this.ties),this.updateWidth()}updateWidth(){if(this.minWidth=this.preNotes.width+this.onNotes.width,!this.beat.isRest)if(this.onNotes.beamingHelper.beats.length===1)this.beat.duration>=oe.Eighth&&(this.minWidth+=20*this.scale);else switch(this.beat.duration){case oe.OneHundredTwentyEighth:case oe.TwoHundredFiftySixth:this.minWidth+=10*this.scale;break}let e=0;for(let r of this.ties)r.width>e&&(e=r.width);this.minWidth+=e,this.width=this.minWidth}scaleToWidth(e){this.onNotes.updateBeamingHelper(),this.width=e}createTies(e){}static getGroupId(e){return"b"+e.id}paint(e,r,n){if(this.beat.voice.isEmpty||this.preNotes.isEmpty&&this.onNotes.isEmpty&&this.ties.length===0)return;n.beginGroup(rl.getGroupId(this.beat)),this.preNotes.paint(e+this.x,r+this.y,n),this.onNotes.paint(e+this.x,r+this.y,n);let s=e-this.voiceContainer.x-this.renderer.x,a=r-this.voiceContainer.y-this.renderer.y;for(let o=0,l=this.ties.length;o<l;o++){let u=this.ties[o];u.renderer=this.renderer,u.paint(s,a,n)}n.endGroup()}buildBoundingsLookup(e,r,n,i){let s=new Yz;s.beat=this.beat,s.visualBounds=new Ls,s.visualBounds.x=r+this.x+this.onNotes.x,s.visualBounds.y=e.visualBounds.y,s.visualBounds.w=this.onNotes.width,s.visualBounds.h=e.visualBounds.h,s.realBounds=new Ls,s.realBounds.x=r+this.x,s.realBounds.y=e.realBounds.y,s.realBounds.w=this.width,s.realBounds.h=e.realBounds.h,i&&(s.visualBounds.x=r+this.x,s.realBounds.x=s.visualBounds.x),e.addBeat(s),this.renderer.settings.core.includeNoteBounds&&this.onNotes.buildBoundingsLookup(s,r+this.x,n+this.y)}}rl.GraceBeatPadding=3;class VF{constructor(){this.oldWidth=0,this.newWidth=0,this.settings=null}core(){return this.settings&&this.causeIssue()?this.settings.core:new dW}causeIssue(){return this.settings=null,!0}}class Uwe{constructor(e){this.activeBeats=e}}class Db{constructor(e){this.bounds=null,this.beat=e}}class Gwe{constructor(e,r){this._startTime=0,this._trackIndexes=null,this._trackIndexLookup=null,this._isDestroyed=!1,this.score=null,this.tracks=[],this._tickCache=null,this.player=null,this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null,this._previousTick=0,this._playerState=si.Paused,this._currentBeat=null,this._currentBarBounds=null,this._previousStateForCursor=si.Paused,this._previousCursorCache=null,this._lastScroll=0,this.playedBeatChanged=new or,this.activeBeatsChanged=new or,this._beatMouseDown=!1,this._noteMouseDown=!1,this._selectionStart=null,this._selectionEnd=null,this.beatMouseDown=new or,this.beatMouseMove=new or,this.beatMouseUp=new or,this.noteMouseDown=new or,this.noteMouseMove=new or,this.noteMouseUp=new or,this.scoreLoaded=new or,this.resize=new or,this.renderStarted=new or,this.renderFinished=new or,this.postRenderFinished=new di,this.error=new or,this.playerReady=new di,this.playerFinished=new di,this.soundFontLoaded=new di,this.midiLoad=new or,this.midiLoaded=new or,this.playerStateChanged=new or,this.playerPositionChanged=new or,this.midiEventsPlayed=new or,this.playbackRangeChanged=new or,this.settingsUpdated=new di,this.uiFacade=e,this.container=e.rootContainer,e.initialize(this,r),Fe.logLevel=this.settings.core.logLevel,this.canvasElement=e.createCanvasElement(),this.container.appendChild(this.canvasElement),this.settings.core.useWorkers&&this.uiFacade.areWorkersSupported&&Ue.getRenderEngineFactory(this.settings.core.engine).supportsWorkers?this.renderer=this.uiFacade.createWorkerRenderer():this.renderer=new Kz(this.settings),this.container.resize.on(Ue.throttle(()=>{this._isDestroyed||this.container.width!==this.renderer.width&&this.triggerResize()},e.resizeThrottle));let n=new VF;n.oldWidth=this.renderer.width,n.newWidth=this.container.width|0,n.settings=this.settings,this.onResize(n),this.renderer.preRender.on(this.onRenderStarted.bind(this)),this.renderer.renderFinished.on(i=>{this.onRenderFinished(i)}),this.renderer.postRenderFinished.on(()=>{let i=Date.now()-this._startTime;Fe.debug("rendering","Rendering completed in "+i+"ms"),this.onPostRenderFinished()}),this.renderer.preRender.on(i=>{this._startTime=Date.now()}),this.renderer.partialLayoutFinished.on(this.appendRenderResult.bind(this)),this.renderer.partialRenderFinished.on(this.updateRenderResult.bind(this)),this.renderer.renderFinished.on(i=>{this.appendRenderResult(i),this.appendRenderResult(null)}),this.renderer.error.on(this.onError.bind(this)),this.settings.player.enablePlayer&&this.setupPlayer(),this.setupClickHandling(),this.uiFacade.beginInvoke(()=>{this.uiFacade.initialRender()})}destroy(){this._isDestroyed=!0,this.player&&this.player.destroy(),this.uiFacade.destroy(),this.renderer.destroy()}updateSettings(){var r;const e=this.score;e&&Yr.applyPitchOffsets(this.settings,e),this.renderer.updateSettings(this.settings),this.settings.player.enablePlayer?(this.setupPlayer(),e&&((r=this.player)==null||r.applyTranspositionPitches(Br.buildTranspositionPitches(e,this.settings)))):this.destroyPlayer(),this.onSettingsUpdated()}load(e,r){try{return this.uiFacade.load(e,n=>{this.renderScore(n,r)},n=>{this.onError(n)})}catch(n){return this.onError(n),!1}}renderScore(e,r){let n=[];if(!r)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===0)e.tracks.length>0&&n.push(e.tracks[0]);else if(r.length===1&&r[0]===-1)for(let i of e.tracks)n.push(i);else for(let i of r)i>=0&&i<=e.tracks.length&&n.push(e.tracks[i]);this.internalRenderTracks(e,n)}renderTracks(e){if(e.length>0){let r=e[0].score;for(let n of e)if(n.score!==r){this.onError(new ki(Si.General,"All rendered tracks must belong to the same score."));return}this.internalRenderTracks(r,e)}}internalRenderTracks(e,r){if(Yr.applyPitchOffsets(this.settings,e),e!==this.score){this.score=e,this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.onScoreLoaded(e),this.loadMidiForScore(),this.render()}else{this.tracks=r,this._trackIndexes=[];for(let n of r)this._trackIndexes.push(n.index);this._trackIndexLookup=new Set(this._trackIndexes),this.render()}}triggerResize(){if(!this.container.isVisible)Fe.warning("Rendering","AlphaTab container was invisible while autosizing, waiting for element to become visible",null),this.uiFacade.rootContainerBecameVisible.on(()=>{Fe.debug("Rendering","AlphaTab container became visible, doing autosizing",null),this.triggerResize()});else{let e=new VF;e.oldWidth=this.renderer.width,e.newWidth=this.container.width,e.settings=this.settings,this.onResize(e),this.renderer.updateSettings(this.settings),this.renderer.width=this.container.width,this.renderer.resizeRender()}}appendRenderResult(e){e?(this.canvasElement.width=e.totalWidth,this.canvasElement.height=e.totalHeight,this._cursorWrapper&&(this._cursorWrapper.width=e.totalWidth,this._cursorWrapper.height=e.totalHeight),(e.width>0||e.height>0)&&this.uiFacade.beginAppendRenderResults(e)):this.uiFacade.beginAppendRenderResults(e)}updateRenderResult(e){e&&e.renderResult&&this.uiFacade.beginUpdateRenderResults(e)}tex(e,r){try{let n=new os;n.logErrors=!0,n.initFromString(e,this.settings);let i=n.readScore();this.renderScore(i,r)}catch(n){this.onError(n)}}loadSoundFont(e,r=!1){return this.player?this.uiFacade.loadSoundFont(e,r):!1}resetSoundFonts(){this.player&&this.player.resetSoundFonts()}render(){this.renderer&&(this.uiFacade.canRender?(this.renderer.width=this.container.width,this.renderer.renderScore(this.score,this._trackIndexes)):this.uiFacade.canRenderChanged.on(()=>this.render()))}get tickCache(){return this._tickCache}get isReadyForPlayback(){return this.player?this.player.isReadyForPlayback:!1}get playerState(){return this.player?this.player.state:si.Paused}get masterVolume(){return this.player?this.player.masterVolume:0}set masterVolume(e){this.player&&(this.player.masterVolume=e)}get metronomeVolume(){return this.player?this.player.metronomeVolume:0}set metronomeVolume(e){this.player&&(this.player.metronomeVolume=e)}get countInVolume(){return this.player?this.player.countInVolume:0}set countInVolume(e){this.player&&(this.player.countInVolume=e)}get midiEventsPlayedFilter(){return this.player?this.player.midiEventsPlayedFilter:[]}set midiEventsPlayedFilter(e){this.player&&(this.player.midiEventsPlayedFilter=e)}get tickPosition(){return this.player?this.player.tickPosition:0}set tickPosition(e){this.player&&(this.player.tickPosition=e)}get timePosition(){return this.player?this.player.timePosition:0}set timePosition(e){this.player&&(this.player.timePosition=e)}get playbackRange(){return this.player?this.player.playbackRange:null}set playbackRange(e){this.player&&(this.player.playbackRange=e,this.settings.player.enableCursor&&this.updateSelectionCursor(e))}get playbackSpeed(){return this.player?this.player.playbackSpeed:0}set playbackSpeed(e){this.player&&(this.player.playbackSpeed=e)}get isLooping(){return this.player?this.player.isLooping:!1}set isLooping(e){this.player&&(this.player.isLooping=e)}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null,this._previousTick=0,this._playerState=si.Paused,this.destroyCursors())}setupPlayer(){this.updateCursors(),!this.player&&(this.player=this.uiFacade.createWorkerPlayer(),this.player&&(this.player.ready.on(()=>{this.loadMidiForScore()}),this.player.readyForPlayback.on(()=>{if(this.onPlayerReady(),this.tracks)for(let e of this.tracks){let r=e.playbackInfo.volume/16;this.player.setChannelVolume(e.playbackInfo.primaryChannel,r),this.player.setChannelVolume(e.playbackInfo.secondaryChannel,r)}}),this.player.soundFontLoaded.on(this.onSoundFontLoaded.bind(this)),this.player.soundFontLoadFailed.on(e=>{this.onError(e)}),this.player.midiLoaded.on(this.onMidiLoaded.bind(this)),this.player.midiLoadFailed.on(e=>{this.onError(e)}),this.player.stateChanged.on(this.onPlayerStateChanged.bind(this)),this.player.positionChanged.on(this.onPlayerPositionChanged.bind(this)),this.player.midiEventsPlayed.on(this.onMidiEventsPlayed.bind(this)),this.player.playbackRangeChanged.on(this.onPlaybackRangeChanged.bind(this)),this.player.finished.on(this.onPlayerFinished.bind(this)),this.setupPlayerEvents()))}loadMidiForScore(){if(!this.player||!this.score||!this.player.isReady)return;Fe.debug("AlphaTab","Generating Midi");let e=new Dc,r=new Nl(e),n=new Br(this.score,this.settings,r);n.applyTranspositionPitches=!1,n.generate(),this._tickCache=n.tickLookup,this.onMidiLoad(e),this.player.loadMidiFile(e),this.player.applyTranspositionPitches(n.transpositionPitches)}changeTrackVolume(e,r){if(this.player)for(let n of e)this.player.setChannelVolume(n.playbackInfo.primaryChannel,r),this.player.setChannelVolume(n.playbackInfo.secondaryChannel,r)}changeTrackSolo(e,r){if(this.player)for(let n of e)this.player.setChannelSolo(n.playbackInfo.primaryChannel,r),this.player.setChannelSolo(n.playbackInfo.secondaryChannel,r)}changeTrackMute(e,r){if(this.player)for(let n of e)this.player.setChannelMute(n.playbackInfo.primaryChannel,r),this.player.setChannelMute(n.playbackInfo.secondaryChannel,r)}play(){return this.player?this.player.play():!1}pause(){this.player&&this.player.pause()}playPause(){this.player&&this.player.playPause()}stop(){this.player&&this.player.stop()}playBeat(e){if(!this.player)return;let r=new Dc,n=new Nl(r);new Br(e.voice.bar.staff.track.score,this.settings,n).generateSingleBeat(e),this.player.playOneTimeMidiFile(r)}playNote(e){if(!this.player)return;let r=new Dc,n=new Nl(r);new Br(e.beat.voice.bar.staff.track.score,this.settings,n).generateSingleNote(e),this.player.playOneTimeMidiFile(r)}destroyCursors(){this._cursorWrapper&&(this.uiFacade.destroyCursors(),this._cursorWrapper=null,this._barCursor=null,this._beatCursor=null,this._selectionWrapper=null)}updateCursors(){if(this.settings.player.enableCursor&&!this._cursorWrapper){let e=this.uiFacade.createCursors();e&&(this._cursorWrapper=e.cursorWrapper,this._barCursor=e.barCursor,this._beatCursor=e.beatCursor,this._selectionWrapper=e.selectionWrapper),this._currentBeat!==null&&this.cursorUpdateBeat(this._currentBeat,!1,this._previousTick>10,!0)}else!this.settings.player.enableCursor&&this._cursorWrapper&&this.destroyCursors()}setupPlayerEvents(){this._previousTick=0,this._playerState=si.Paused,this.renderer.postRenderFinished.on(()=>{this._currentBeat=null,this.cursorUpdateTick(this._previousTick,!1,this._previousTick>10)}),this.player&&(this.player.positionChanged.on(e=>{this._previousTick=e.currentTick,this.uiFacade.beginInvoke(()=>{this.cursorUpdateTick(e.currentTick,!1)})}),this.player.stateChanged.on(e=>{if(this._playerState=e.state,!e.stopped&&e.state===si.Paused){let r=this._currentBeat,n=this._tickCache;r&&n&&(this.player.tickPosition=n.getBeatStart(r.beat))}}))}cursorUpdateTick(e,r,n=!1){let i=this._tickCache;if(i){let s=this._trackIndexLookup;if(s!=null&&s.size>0){let a=i.findBeat(s,e,this._currentBeat);a&&this.cursorUpdateBeat(a,r,n)}}}cursorUpdateBeat(e,r,n,i=!1){var g;const s=e.beat,a=((g=e.nextBeat)==null?void 0:g.beat)??null,o=e.duration,l=e.beatLookup.highlightedBeats;if(!s)return;let u=this.renderer.boundsLookup;if(!u)return;let c=this._currentBeat,h=this._previousCursorCache,f=this._previousStateForCursor;if(!i&&s===(c==null?void 0:c.beat)&&u===h&&f===this._playerState)return;let m=u.findBeat(s);m&&(this._currentBeat=e,this._previousCursorCache=u,this._previousStateForCursor=this._playerState,this.uiFacade.beginInvoke(()=>{this.internalCursorUpdateBeat(s,a,o,r,l,u,m,n)}))}scrollToCursor(){const e=this._currentBarBounds;e&&this.internalScrollToCursor(e)}internalScrollToCursor(e){let r=this.uiFacade.getScrollContainer(),n=Ue.getLayoutEngineFactory(this.settings.display.layoutMode).vertical,i=this.settings.player.scrollMode;if(n){let s=e.realBounds.y+this.settings.player.scrollOffsetY;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case hu.Continuous:let a=this.uiFacade.getOffset(r,this.container);this.uiFacade.scrollToY(r,a.y+s,this.settings.player.scrollSpeed);break;case hu.OffScreen:let o=r.scrollTop+this.uiFacade.getOffset(null,r).h;if(e.visualBounds.y+e.visualBounds.h>=o||e.visualBounds.y<r.scrollTop){let l=e.realBounds.y+this.settings.player.scrollOffsetY;this.uiFacade.scrollToY(r,l,this.settings.player.scrollSpeed)}break}}else{let s=e.visualBounds.x;if(s!==this._lastScroll)switch(this._lastScroll=s,i){case hu.Continuous:let a=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,a,this.settings.player.scrollSpeed);break;case hu.OffScreen:let o=r.scrollLeft+this.uiFacade.getOffset(null,r).w;if(e.visualBounds.x+e.visualBounds.w>=o||e.visualBounds.x<r.scrollLeft){let l=e.realBounds.x+this.settings.player.scrollOffsetX;this._lastScroll=e.visualBounds.x,this.uiFacade.scrollToX(r,l,this.settings.player.scrollSpeed)}break}}}internalCursorUpdateBeat(e,r,n,i,s,a,o,l){const u=this._barCursor,c=this._beatCursor;let h=o.barBounds.masterBarBounds,f=h.visualBounds;this._currentBarBounds=h,u&&u.setBounds(f.x,f.y,f.w,f.h),c&&(this.settings.player.enableAnimatedBeatCursor&&c.stopAnimation(),c.setBounds(o.visualBounds.x,f.y,1,f.h)),this.settings.player.enableElementHighlighting&&this.uiFacade.removeHighlights();let m=!1;if(this._playerState===si.Playing&&!i){if(this.settings.player.enableElementHighlighting)for(let g of s){let y=rl.getGroupId(g.beat);this.uiFacade.highlightElements(y,e.voice.bar.index)}if(this.settings.player.enableAnimatedBeatCursor){let g=h.visualBounds.x+h.visualBounds.w;if(r){let y=a.findBeat(r);y&&y.barBounds.masterBarBounds.staveGroupBounds===h.staveGroupBounds&&(g=y.visualBounds.x)}this.uiFacade.beginInvoke(()=>{c&&c.transitionToX(n/this.playbackSpeed,g)})}l=!i,m=!0}l&&!this._beatMouseDown&&this.settings.player.scrollMode!==hu.Off&&this.internalScrollToCursor(h),m&&(this.onPlayedBeatChanged(e),this.onActiveBeatsChanged(new Uwe(s.map(g=>g.beat))))}onPlayedBeatChanged(e){this._isDestroyed||(this.playedBeatChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playedBeatChanged",e))}onActiveBeatsChanged(e){this._isDestroyed||(this.activeBeatsChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"activeBeatsChanged",e))}onBeatMouseDown(e,r){this._isDestroyed||(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction&&(this._selectionStart=new Db(r),this._selectionEnd=null),this._beatMouseDown=!0,this.beatMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseDown",r,e))}onNoteMouseDown(e,r){this._isDestroyed||(this._noteMouseDown=!0,this.noteMouseDown.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseDown",r,e))}onBeatMouseMove(e,r){this._isDestroyed||(this.settings.player.enableUserInteraction&&(!this._selectionEnd||this._selectionEnd.beat!==r)&&(this._selectionEnd=new Db(r),this.cursorSelectRange(this._selectionStart,this._selectionEnd)),this.beatMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseMove",r,e))}onNoteMouseMove(e,r){this._isDestroyed||(this.noteMouseMove.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseMove",r,e))}onBeatMouseUp(e,r){var n,i;if(!this._isDestroyed){if(this.settings.player.enablePlayer&&this.settings.player.enableCursor&&this.settings.player.enableUserInteraction){if(this._selectionEnd){let s=((n=this._tickCache)==null?void 0:n.getBeatStart(this._selectionStart.beat))??this._selectionStart.beat.absolutePlaybackStart;if((((i=this._tickCache)==null?void 0:i.getBeatStart(this._selectionEnd.beat))??this._selectionEnd.beat.absolutePlaybackStart)<s){let o=this._selectionStart;this._selectionStart=this._selectionEnd,this._selectionEnd=o}}if(this._selectionStart&&this._tickCache){let s=this._tickCache,a=s.getMasterBarStart(this._selectionStart.beat.voice.bar.masterBar);if(this._currentBeat=null,this._playerState===si.Paused&&this.cursorUpdateTick(this._tickCache.getBeatStart(this._selectionStart.beat),!1),this.tickPosition=a+this._selectionStart.beat.playbackStart,this._selectionEnd&&this._selectionStart.beat!==this._selectionEnd.beat){let o=s.getMasterBarStart(this._selectionEnd.beat.voice.bar.masterBar),l=new Hwe;l.startTick=a+this._selectionStart.beat.playbackStart,l.endTick=o+this._selectionEnd.beat.playbackStart+this._selectionEnd.beat.playbackDuration-50,this.playbackRange=l}else this._selectionStart=null,this.playbackRange=null,this.cursorSelectRange(this._selectionStart,this._selectionEnd)}}this.beatMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"beatMouseUp",r,e),this._beatMouseDown=!1}}onNoteMouseUp(e,r){this._isDestroyed||(this.noteMouseUp.trigger(r),this.uiFacade.triggerEvent(this.container,"noteMouseUp",r,e),this._noteMouseDown=!1)}updateSelectionCursor(e){if(this._tickCache)if(e){const r=this._tickCache.findBeat(this._trackIndexLookup,e.startTick),n=this._tickCache.findBeat(this._trackIndexLookup,e.endTick);if(r&&n){const i=new Db(r.beat),s=new Db(n.beat);this.cursorSelectRange(i,s)}}else this.cursorSelectRange(null,null)}setupClickHandling(){this.canvasElement.mouseDown.on(e=>{var s,a;if(!e.isLeftMouseButton)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseDown(e,i),this.settings.core.includeNoteBounds)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseDown(e,o)}}),this.canvasElement.mouseMove.on(e=>{var s,a;if(!this._beatMouseDown)return;let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(i&&(this.onBeatMouseMove(e,i),this._noteMouseDown)){const o=(a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n);o&&this.onNoteMouseMove(e,o)}}),this.canvasElement.mouseUp.on(e=>{var s,a;if(!this._beatMouseDown)return;this.settings.player.enableUserInteraction&&e.preventDefault();let r=e.getX(this.canvasElement),n=e.getY(this.canvasElement),i=((s=this.renderer.boundsLookup)==null?void 0:s.getBeatAtPos(r,n))??null;if(this.onBeatMouseUp(e,i),this._noteMouseDown)if(i){const o=((a=this.renderer.boundsLookup)==null?void 0:a.getNoteAtPos(i,r,n))??null;this.onNoteMouseUp(e,o)}else this.onNoteMouseUp(e,null)}),this.renderer.postRenderFinished.on(()=>{!this._selectionStart||!this.settings.player.enablePlayer||!this.settings.player.enableCursor||!this.settings.player.enableUserInteraction||this.cursorSelectRange(this._selectionStart,this._selectionEnd)})}cursorSelectRange(e,r){var u,c;let n=this.renderer.boundsLookup;if(!n)return;let i=this._selectionWrapper;if(!i||(i.clear(),!e||!r||e.beat===r.beat))return;e.bounds||(e.bounds=n.findBeat(e.beat)),r.bounds||(r.bounds=n.findBeat(r.beat));let s=((u=this._tickCache)==null?void 0:u.getBeatStart(e.beat))??e.beat.absolutePlaybackStart;if((((c=this._tickCache)==null?void 0:c.getBeatStart(r.beat))??r.beat.absolutePlaybackStart)<s){let h=e;e=r,r=h}let o=e.bounds.realBounds.x,l=r.bounds.realBounds.x+r.bounds.realBounds.w;if(r.beat.index===r.beat.voice.beats.length-1&&(l=r.bounds.barBounds.masterBarBounds.realBounds.x+r.bounds.barBounds.masterBarBounds.realBounds.w),e.bounds.barBounds.masterBarBounds.staveGroupBounds!==r.bounds.barBounds.masterBarBounds.staveGroupBounds){let h=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x,f=e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.x+e.bounds.barBounds.masterBarBounds.staveGroupBounds.visualBounds.w,m=this.uiFacade.createSelectionElement();m.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,f-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(m);let g=e.bounds.barBounds.masterBarBounds.staveGroupBounds.index+1,y=r.bounds.barBounds.masterBarBounds.staveGroupBounds.index;for(let x=g;x<y;x++){let v=n.staveGroups[x],w=this.uiFacade.createSelectionElement();w.setBounds(h,v.visualBounds.y,f-h,v.visualBounds.h),i.appendChild(w)}let b=this.uiFacade.createSelectionElement();b.setBounds(h,r.bounds.barBounds.masterBarBounds.visualBounds.y,l-h,r.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(b)}else{let h=this.uiFacade.createSelectionElement();h.setBounds(o,e.bounds.barBounds.masterBarBounds.visualBounds.y,l-o,e.bounds.barBounds.masterBarBounds.visualBounds.h),i.appendChild(h)}}onScoreLoaded(e){this._isDestroyed||(this.scoreLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"scoreLoaded",e))}onResize(e){this._isDestroyed||(this.resize.trigger(e),this.uiFacade.triggerEvent(this.container,"resize",e))}onRenderStarted(e){this._isDestroyed||(this.renderStarted.trigger(e),this.uiFacade.triggerEvent(this.container,"renderStarted",e))}onRenderFinished(e){this._isDestroyed||(this.renderFinished.trigger(e),this.uiFacade.triggerEvent(this.container,"renderFinished",e))}onPostRenderFinished(){this._isDestroyed||(this.postRenderFinished.trigger(),this.uiFacade.triggerEvent(this.container,"postRenderFinished",null))}onError(e){this._isDestroyed||(Fe.error("API","An unexpected error occurred",e),this.error.trigger(e),this.uiFacade.triggerEvent(this.container,"error",e))}onPlayerReady(){this._isDestroyed||(this.playerReady.trigger(),this.uiFacade.triggerEvent(this.container,"playerReady",null))}onPlayerFinished(){this._isDestroyed||(this.playerFinished.trigger(),this.uiFacade.triggerEvent(this.container,"playerFinished",null))}onSoundFontLoaded(){this._isDestroyed||(this.soundFontLoaded.trigger(),this.uiFacade.triggerEvent(this.container,"soundFontLoaded",null))}onMidiLoad(e){this._isDestroyed||(this.midiLoad.trigger(e),this.uiFacade.triggerEvent(this.container,"midiLoad",e))}onMidiLoaded(e){this._isDestroyed||(this.midiLoaded.trigger(e),this.uiFacade.triggerEvent(this.container,"midiFileLoaded",e))}onPlayerStateChanged(e){this._isDestroyed||(this.playerStateChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerStateChanged",e))}onPlayerPositionChanged(e){this._isDestroyed||this.score!==null&&this.tracks.length>0&&(this.playerPositionChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playerPositionChanged",e))}onMidiEventsPlayed(e){this._isDestroyed||(this.midiEventsPlayed.trigger(e),this.uiFacade.triggerEvent(this.container,"midiEventsPlayed",e))}onPlaybackRangeChanged(e){this._isDestroyed||(this.playbackRangeChanged.trigger(e),this.uiFacade.triggerEvent(this.container,"playbackRangeChanged",e))}onSettingsUpdated(){this._isDestroyed||(this.settingsUpdated.trigger(),this.uiFacade.triggerEvent(this.container,"settingsUpdated",null))}}class uu extends ki{constructor(e,r){super(Si.General,e),this.xhr=r,Object.setPrototypeOf(this,uu.prototype)}}class _f{static loadScoreAsync(e,r,n,i){let s=new XMLHttpRequest;s.open("GET",e,!0,null,null),s.responseType="arraybuffer",s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){let a=s.response;if(s.status===200||s.status===0&&a)try{let o=s.response,l=new Uint8Array(o),u=_f.loadScoreFromBytes(l,i);r(u)}catch(o){n(o)}else s.status===0?n(new uu(`You are offline!!
 Please Check Your Network.`,s)):s.status===404?n(new uu("Requested URL not found.",s)):s.status===500?n(new uu("Internel Server Error.",s)):s.statusText==="parsererror"?n(new uu(`Error.
Parsing JSON Request failed.`,s)):s.statusText==="timeout"?n(new uu("Request Time out.",s)):n(new uu("Unknow Error: "+s.responseText,s))}},s.send()}static loadScoreFromBytes(e,r){r||(r=new oh);let n=Ue.buildImporters();Fe.debug("ScoreLoader",`Loading score from ${e.length} bytes using ${n.length} importers`);let i=null,s=Hi.fromBuffer(e);for(let a of n){s.reset();try{Fe.debug("ScoreLoader","Importing using importer "+a.name),a.init(s,r),i=a.readScore(),Fe.debug("ScoreLoader","Score imported using "+a.name);break}catch(o){if(o instanceof Yn)Fe.debug("ScoreLoader",a.name+" does not support the file");else throw Fe.error("ScoreLoader","Score import failed due to unexpected error: ",o),o}}if(i)return i;throw new Yn("No compatible importer found for file")}}class R_{get isLeftMouseButton(){return this.mouseEvent.button===0}getX(e){let r=e.element,i=r.getBoundingClientRect().left+r.ownerDocument.defaultView.pageXOffset;return this.mouseEvent.pageX-i}getY(e){let r=e.element,i=r.getBoundingClientRect().top+r.ownerDocument.defaultView.pageYOffset;return this.mouseEvent.pageY-i}preventDefault(){this.mouseEvent.preventDefault()}constructor(e){this.mouseEvent=e}}class El{get width(){return this.element.offsetWidth}set width(e){this.element.style.width=e+"px"}get scrollLeft(){return this.element.scrollLeft}set scrollLeft(e){this.element.scrollTop=e}get scrollTop(){return this.element.scrollLeft}set scrollTop(e){this.element.scrollTop=e}get height(){return this.element.offsetHeight}set height(e){e>=0?this.element.style.height=e+"px":this.element.style.height="100%"}get isVisible(){return!!this.element.offsetWidth||!!this.element.offsetHeight||!!this.element.getClientRects().length}constructor(e){this._resizeListeners=0,this.lastBounds=new Ls,this.element=e,this.mouseDown={on:r=>{this.element.addEventListener("mousedown",n=>{r(new R_(n))},!0)},off:r=>{}},this.mouseUp={on:r=>{this.element.addEventListener("mouseup",n=>{r(new R_(n))},!0)},off:r=>{}},this.mouseMove={on:r=>{this.element.addEventListener("mousemove",n=>{r(new R_(n))},!0)},off:r=>{}},this.resize={on:r=>{this._resizeListeners===0&&El.resizeObserver.value.observe(this.element),this.element.addEventListener("resize",r,!0),this._resizeListeners++},off:r=>{this.element.removeEventListener("resize",r,!0),this._resizeListeners--,this._resizeListeners<=0&&(this._resizeListeners=0,El.resizeObserver.value.unobserve(this.element))}}}stopAnimation(){this.element.style.transition="none"}transitionToX(e,r){this.element.style.transition=`transform ${e}ms linear`,this.setBounds(r,NaN,NaN,NaN)}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)&&(n=this.lastBounds.w),isNaN(i)&&(i=this.lastBounds.h),this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}appendChild(e){this.element.appendChild(e.element)}clear(){this.element.innerHTML=""}}El.resizeObserver=new Sz(()=>new ResizeObserver(t=>{for(const e of t){let r=new CustomEvent("resize",{detail:e});e.target.dispatchEvent(r)}}));class Jz{constructor(e){this._isStarted=!1,this.isFontLoaded=!1,this.fontLoaded=new or,this._originalFamilies=e,this._families=e}checkForFontAvailability(){if(Ue.isRunningInWorker){this.isFontLoaded=!1;return}if(this._isStarted)return;this._isStarted=!0;let e=0,r=window.setInterval(()=>{Fe.warning("Rendering",`Could not load font '${this._families[0]}' within ${(e+1)*5} seconds`,null),this._families.length>1?(this._families.shift(),e=0):e++},5e3);Fe.debug("Font",`Start checking for font availablility: ${this._families.join(", ")}`);let n=a=>{this._families.length>1?(Fe.debug("Font",`[${this._families[0]}] Loading Failed, switching to ${this._families[1]}`,a),this._families.shift(),window.setTimeout(()=>{s()},0)):(Fe.error("Font",`[${this._originalFamilies.join(",")}] Loading Failed, rendering cannot start`,a),window.clearInterval(r))},i=a=>{Fe.debug("Font",`[${a}] Font API signaled available`),this.isFontLoaded=!0,window.clearInterval(r),this.fontLoaded.trigger(this._families[0])},s=async()=>{for(const a of this._families)if(await this.isFontAvailable(a,!1)){i(a);return}try{await document.fonts.load(`1em ${this._families[0]}`)}catch(a){n(a)}return Fe.debug("Font",`[${this._families[0]}] Font API signaled loaded`),await this.isFontAvailable(this._families[0],!0)?i(this._families[0]):n("Font not available"),!0};document.fonts.ready.then(()=>{s()})}isFontAvailable(e,r){return new Promise(n=>{const i="1em "+e;if(document.fonts.check(i))n(!0);else if(r){Fe.debug("Font",`Font ${e} not available, creating test element to trigger load`);const s=document.createElement("div");s.style.font=i,s.style.opacity="0",s.style.position="absolute",s.style.top="0",s.style.left="0",s.innerText=`Trigger ${e} load`,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.fonts.check(i)?n(!0):n(!1)},200)}else n(!1)})}}class Zz{constructor(e){this._writePosition=0,this._readPosition=0,this.count=0,this._buffer=new Float32Array(e)}clear(){this._readPosition=0,this._writePosition=0,this.count=0,this._buffer=new Float32Array(this._buffer.length)}write(e,r,n){let i=0;n>this._buffer.length-this.count&&(n=this._buffer.length-this.count);const s=Math.min(this._buffer.length-this._writePosition,n);return this._buffer.set(e.subarray(r,r+s),this._writePosition),this._writePosition+=s,this._writePosition%=this._buffer.length,i+=s,i<n&&(this._buffer.set(e.subarray(r+i,r+i+n-i),this._writePosition),this._writePosition+=n-i,i=n),this.count+=i,i}read(e,r,n){n>this.count&&(n=this.count);let i=0;const s=Math.min(this._buffer.length-this._readPosition,n);return e.set(this._buffer.subarray(this._readPosition,this._readPosition+s),r),i+=s,this._readPosition+=s,this._readPosition%=this._buffer.length,i<n&&(e.set(this._buffer.subarray(this._readPosition,this._readPosition+n-i),r+i),this._readPosition+=n-i,i=n),this.count-=i,i}}class po{constructor(){this._context=null,this._buffer=null,this._source=null,this.ready=new di,this.samplesPlayed=new or,this.sampleRequest=new di}get sampleRate(){return this._context?this._context.sampleRate:po.PreferredSampleRate}activate(e){this._context||(this._context=this.createAudioContext()),(this._context.state==="suspended"||this._context.state==="interrupted")&&(Fe.debug("WebAudio","Audio Context is suspended, trying resume"),this._context.resume().then(()=>{var r,n;Fe.debug("WebAudio",`Audio Context resume success: state=${(r=this._context)==null?void 0:r.state}, sampleRate:${(n=this._context)==null?void 0:n.sampleRate}`),e&&e()},r=>{var n,i;Fe.warning("WebAudio",`Audio Context resume failed: state=${(n=this._context)==null?void 0:n.state}, sampleRate:${(i=this._context)==null?void 0:i.sampleRate}, reason=${r}`)}))}patchIosSampleRate(){let e=navigator.userAgent;if(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1){let r=this.createAudioContext(),n=r.createBuffer(1,1,po.PreferredSampleRate),i=r.createBufferSource();i.buffer=n,i.connect(r.destination),i.start(0),i.disconnect(0),r.close()}}createAudioContext(){if("AudioContext"in Ue.globalThis)return new AudioContext;if("webkitAudioContext"in Ue.globalThis)return new webkitAudioContext;throw new ki(Si.General,"AudioContext not found")}open(e){this.patchIosSampleRate(),this._context=this.createAudioContext(),this._context.state==="suspended"&&this.registerResumeHandler()}registerResumeHandler(){this._resumeHandler=(()=>{this.activate(()=>{this.unregisterResumeHandler()})}).bind(this),document.body.addEventListener("touchend",this._resumeHandler,!1),document.body.addEventListener("click",this._resumeHandler,!1)}unregisterResumeHandler(){const e=this._resumeHandler;e&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}play(){let e=this._context;this.activate(),this._buffer=e.createBuffer(2,po.BufferSize,e.sampleRate),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0}pause(){this._source&&(this._source.stop(0),this._source.disconnect()),this._source=null}destroy(){var e;this.pause(),(e=this._context)==null||e.close(),this._context=null,this.unregisterResumeHandler()}onSamplesPlayed(e){this.samplesPlayed.trigger(e)}onSampleRequest(){this.sampleRequest.trigger()}onReady(){this.ready.trigger()}}po.BufferSize=4096;po.PreferredSampleRate=44100;class jwe extends po{constructor(){super(...arguments),this._audioNode=null,this._bufferCount=0,this._requestedBufferCount=0,this._outputBuffer=new Float32Array(0)}open(e){super.open(e),this._bufferCount=Math.floor(e*this.sampleRate/1e3/po.BufferSize),this._circularBuffer=new Zz(po.BufferSize*this._bufferCount),this.onReady()}play(){super.play();let e=this._context;this._audioNode=e.createScriptProcessor(4096,0,2),this._audioNode.onaudioprocess=this.generateSound.bind(this),this._circularBuffer.clear(),this.requestBuffers(),this._source=e.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.connect(this._audioNode,0,0),this._source.start(0),this._audioNode.connect(e.destination,0,0)}pause(){super.pause(),this._audioNode&&this._audioNode.disconnect(0),this._audioNode=null}addSamples(e){this._circularBuffer.write(e,0,e.length),this._requestedBufferCount--}resetSamples(){this._circularBuffer.clear()}requestBuffers(){const e=this._bufferCount/2|0;let r=e*po.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*po.BufferSize<r){for(let i=0;i<e;i++)this.onSampleRequest();this._requestedBufferCount+=e}}generateSound(e){let r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1),i=r.length+n.length,s=this._outputBuffer;s.length!==i&&(s=new Float32Array(i),this._outputBuffer=s);const a=this._circularBuffer.read(s,0,Math.min(s.length,this._circularBuffer.count));let o=0;for(let l=0;l<r.length;l++)r[l]=s[o++],n[l]=s[o++];this.onSamplesPlayed(a/Gt.AudioChannels),this.requestBuffers()}}class Ywe{constructor(e,r){this.loaded=e,this.total=r}}class zF{get isReady(){return this._workerIsReady&&this._outputIsReady}get isReadyForPlayback(){return this._workerIsReadyForPlayback}get state(){return this._state}get logLevel(){return Fe.logLevel}set logLevel(e){Fe.logLevel=e,this._synth.postMessage({cmd:"alphaSynth.setLogLevel",value:e})}get masterVolume(){return this._masterVolume}set masterVolume(e){e=Math.max(e,Gt.MinVolume),this._masterVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMasterVolume",value:e})}get metronomeVolume(){return this._metronomeVolume}set metronomeVolume(e){e=Math.max(e,Gt.MinVolume),this._metronomeVolume=e,this._synth.postMessage({cmd:"alphaSynth.setMetronomeVolume",value:e})}get countInVolume(){return this._countInVolume}set countInVolume(e){e=Math.max(e,Gt.MinVolume),this._countInVolume=e,this._synth.postMessage({cmd:"alphaSynth.setCountInVolume",value:e})}get midiEventsPlayedFilter(){return this._midiEventsPlayedFilter}set midiEventsPlayedFilter(e){this._midiEventsPlayedFilter=e,this._synth.postMessage({cmd:"alphaSynth.setMidiEventsPlayedFilter",value:e})}get playbackSpeed(){return this._playbackSpeed}set playbackSpeed(e){e=Mn.clamp(e,Gt.MinPlaybackSpeed,Gt.MaxPlaybackSpeed),this._playbackSpeed=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackSpeed",value:e})}get tickPosition(){return this._tickPosition}set tickPosition(e){e<0&&(e=0),this._tickPosition=e,this._synth.postMessage({cmd:"alphaSynth.setTickPosition",value:e})}get timePosition(){return this._timePosition}set timePosition(e){e<0&&(e=0),this._timePosition=e,this._synth.postMessage({cmd:"alphaSynth.setTimePosition",value:e})}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this._synth.postMessage({cmd:"alphaSynth.setIsLooping",value:e})}get playbackRange(){return this._playbackRange}set playbackRange(e){e&&(e.startTick<0&&(e.startTick=0),e.endTick<0&&(e.endTick=0)),this._playbackRange=e,this._synth.postMessage({cmd:"alphaSynth.setPlaybackRange",value:e})}constructor(e,r){this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=si.Paused,this._masterVolume=0,this._metronomeVolume=0,this._countInVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._midiEventsPlayedFilter=[],this.ready=new di,this.readyForPlayback=new di,this.finished=new di,this.soundFontLoaded=new di,this.soundFontLoadFailed=new or,this.midiLoaded=new or,this.midiLoadFailed=new or,this.stateChanged=new or,this.positionChanged=new or,this.midiEventsPlayed=new or,this.playbackRangeChanged=new or,this._workerIsReadyForPlayback=!1,this._workerIsReady=!1,this._outputIsReady=!1,this._state=si.Paused,this._masterVolume=0,this._metronomeVolume=0,this._playbackSpeed=0,this._tickPosition=0,this._timePosition=0,this._isLooping=!1,this._playbackRange=null,this._output=e,this._output.ready.on(this.onOutputReady.bind(this)),this._output.samplesPlayed.on(this.onOutputSamplesPlayed.bind(this)),this._output.sampleRequest.on(this.onOutputSampleRequest.bind(this)),this._output.open(r.player.bufferTimeInMilliseconds);try{this._synth=Ue.createWebWorker(r)}catch(n){Fe.error("AlphaSynth","Failed to create WebWorker: "+n)}this._synth.addEventListener("message",this.handleWorkerMessage.bind(this),!1),this._synth.postMessage({cmd:"alphaSynth.initialize",sampleRate:this._output.sampleRate,logLevel:r.core.logLevel,bufferTimeInMilliseconds:r.player.bufferTimeInMilliseconds}),this.masterVolume=1,this.playbackSpeed=1,this.metronomeVolume=0}destroy(){this._synth.postMessage({cmd:"alphaSynth.destroy"})}play(){return this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.play"}),!0}pause(){this._synth.postMessage({cmd:"alphaSynth.pause"})}playPause(){this._output.activate(),this._synth.postMessage({cmd:"alphaSynth.playPause"})}stop(){this._synth.postMessage({cmd:"alphaSynth.stop"})}playOneTimeMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.playOneTimeMidiFile",midi:Vn.midiFileToJsObject(e)})}loadSoundFont(e,r){this._synth.postMessage({cmd:"alphaSynth.loadSoundFontBytes",data:e,append:r})}loadSoundFontFromUrl(e,r,n){Fe.debug("AlphaSynth",`Start loading Soundfont from url ${e}`);let i=new XMLHttpRequest;i.open("GET",e,!0,null,null),i.responseType="arraybuffer",i.onload=s=>{let a=new Uint8Array(i.response);this.loadSoundFont(a,r)},i.onerror=s=>{Fe.error("AlphaSynth","Loading failed: "+s.message),this.soundFontLoadFailed.trigger(new uu(s.message,i))},i.onprogress=s=>{Fe.debug("AlphaSynth",`Soundfont downloading: ${s.loaded}/${s.total} bytes`),n(new Ywe(s.loaded,s.total))},i.send()}resetSoundFonts(){this._synth.postMessage({cmd:"alphaSynth.resetSoundFonts"})}loadMidiFile(e){this._synth.postMessage({cmd:"alphaSynth.loadMidi",midi:Vn.midiFileToJsObject(e)})}applyTranspositionPitches(e){this._synth.postMessage({cmd:"alphaSynth.applyTranspositionPitches",transpositionPitches:JSON.stringify(Array.from(e.entries()))})}setChannelMute(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelMute",channel:e,mute:r})}resetChannelStates(){this._synth.postMessage({cmd:"alphaSynth.resetChannelStates"})}setChannelSolo(e,r){this._synth.postMessage({cmd:"alphaSynth.setChannelSolo",channel:e,solo:r})}setChannelVolume(e,r){r=Math.max(r,Gt.MinVolume),this._synth.postMessage({cmd:"alphaSynth.setChannelVolume",channel:e,volume:r})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaSynth.ready":this._workerIsReady=!0,this.checkReady();break;case"alphaSynth.destroyed":this._synth.terminate();break;case"alphaSynth.readyForPlayback":this._workerIsReadyForPlayback=!0,this.checkReadyForPlayback();break;case"alphaSynth.positionChanged":this._timePosition=r.currentTime,this._tickPosition=r.currentTick,this.positionChanged.trigger(new Nw(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiEventsPlayed":this.midiEventsPlayed.trigger(new Uz(r.events.map(Vn.jsObjectToMidiEvent)));break;case"alphaSynth.playerStateChanged":this._state=r.state,this.stateChanged.trigger(new Pv(r.state,r.stopped));break;case"alphaSynth.playbackRangeChanged":this._playbackRange=r.playbackRange,this.playbackRangeChanged.trigger(new Gz(this._playbackRange));break;case"alphaSynth.finished":this.finished.trigger();break;case"alphaSynth.soundFontLoaded":this.soundFontLoaded.trigger();break;case"alphaSynth.soundFontLoadFailed":this.soundFontLoadFailed.trigger(r.error);break;case"alphaSynth.midiLoaded":this.checkReadyForPlayback(),this.midiLoaded.trigger(new Nw(r.currentTime,r.endTime,r.currentTick,r.endTick,r.isSeek));break;case"alphaSynth.midiLoadFailed":this.checkReadyForPlayback(),this.midiLoadFailed.trigger(r.error);break;case"alphaSynth.output.addSamples":this._output.addSamples(r.samples);break;case"alphaSynth.output.play":this._output.play();break;case"alphaSynth.output.pause":this._output.pause();break;case"alphaSynth.output.destroy":this._output.destroy();break;case"alphaSynth.output.resetSamples":this._output.resetSamples();break}}checkReady(){this.isReady&&this.ready.trigger()}checkReadyForPlayback(){this.isReadyForPlayback&&this.readyForPlayback.trigger()}onOutputSampleRequest(){this._synth.postMessage({cmd:"alphaSynth.output.sampleRequest"})}onOutputSamplesPlayed(e){this._synth.postMessage({cmd:"alphaSynth.output.samplesPlayed",samples:e})}onOutputReady(){this._outputIsReady=!0,this.checkReady()}}class Xwe{constructor(e,r){this._width=0,this.boundsLookup=null,this.preRender=new or,this.partialRenderFinished=new or,this.partialLayoutFinished=new or,this.renderFinished=new or,this.postRenderFinished=new di,this.error=new or,this._api=e;try{this._worker=Ue.createWebWorker(r)}catch(n){Fe.error("Rendering",`Failed to create WebWorker: ${n}`);return}this._worker.postMessage({cmd:"alphaTab.initialize",settings:this.serializeSettingsForWorker(r)}),this._worker.addEventListener("message",this.handleWorkerMessage.bind(this))}destroy(){this._worker.terminate()}updateSettings(e){this._worker.postMessage({cmd:"alphaTab.updateSettings",settings:this.serializeSettingsForWorker(e)})}serializeSettingsForWorker(e){const r=Vn.settingsToJsObject(e);return r.delete("player"),r}render(){this._worker.postMessage({cmd:"alphaTab.render"})}resizeRender(){this._worker.postMessage({cmd:"alphaTab.resizeRender"})}renderResult(e){this._worker.postMessage({cmd:"alphaTab.renderResult",resultId:e})}get width(){return this._width}set width(e){this._width=e,this._worker.postMessage({cmd:"alphaTab.setWidth",width:e})}handleWorkerMessage(e){let r=e.data;switch(r.cmd){case"alphaTab.preRender":this.preRender.trigger(r.resize);break;case"alphaTab.partialRenderFinished":this.partialRenderFinished.trigger(r.result);break;case"alphaTab.partialLayoutFinished":this.partialLayoutFinished.trigger(r.result);break;case"alphaTab.renderFinished":this.renderFinished.trigger(r.result);break;case"alphaTab.postRenderFinished":this.boundsLookup=iy.fromJson(r.boundsLookup,this._api.score),this.boundsLookup.finish(),this.postRenderFinished.trigger();break;case"alphaTab.error":this.error.trigger(r.error);break}}renderScore(e,r){let n=e==null?null:Vn.scoreToJsObject(e);this._worker.postMessage({cmd:"alphaTab.renderScore",score:n,trackIndexes:r,fontSizes:zn.FontSizeLookupTables})}}class qwe{constructor(e,r,n,i){this.cursorWrapper=e,this.barCursor=r,this.beatCursor=n,this.selectionWrapper=i}}var Ba;(function(t){t[t.Browser=0]="Browser",t[t.NodeJs=1]="NodeJs",t[t.BrowserModule=2]="BrowserModule"})(Ba||(Ba={}));class sy{static init(){var e;sy._isRegistered||(sy._isRegistered=!0,registerProcessor("alphatab",(e=class extends AudioWorkletProcessor{constructor(n){super(n),this._outputBuffer=new Float32Array(0),this._bufferCount=0,this._requestedBufferCount=0,Fe.debug("WebAudio","creating processor"),this._bufferCount=Math.floor(n.processorOptions.bufferTimeInMilliseconds*sampleRate/1e3/e.BufferSize),this._circularBuffer=new Zz(e.BufferSize*this._bufferCount),this.port.onmessage=this.handleMessage.bind(this)}handleMessage(n){let i=n.data;switch(i.cmd){case pn.CmdOutputAddSamples:const a=i.samples;this._circularBuffer.write(a,0,a.length),this._requestedBufferCount--;break;case pn.CmdOutputResetSamples:this._circularBuffer.clear();break}}process(n,i,s){if(i.length!==1&&i[0].length!==2)return!1;let a=i[0][0],o=i[0][1];if(!a||!o)return!0;let l=a.length+o.length,u=this._outputBuffer;u.length!==l&&(u=new Float32Array(l),this._outputBuffer=u);const c=this._circularBuffer.read(u,0,Math.min(u.length,this._circularBuffer.count));let h=0;for(let f=0;f<a.length;f++)a[f]=u[h++],o[f]=u[h++];return this.port.postMessage({cmd:pn.CmdOutputSamplesPlayed,samples:c/Gt.AudioChannels}),this.requestBuffers(),!0}requestBuffers(){const n=this._bufferCount/2|0;let i=n*e.BufferSize;if(this._circularBuffer.count+this._requestedBufferCount*e.BufferSize<i){for(let a=0;a<n;a++)this.port.postMessage({cmd:pn.CmdOutputSampleRequest});this._requestedBufferCount+=n}}},e.BufferSize=4096,e)))}}sy._isRegistered=!1;class Kwe extends po{constructor(e){super(),this._worklet=null,this._bufferTimeInMilliseconds=0,this._settings=e}open(e){super.open(e),this._bufferTimeInMilliseconds=e,this.onReady()}play(){super.play();let e=this._context;Ue.createAudioWorklet(e,this._settings).then(()=>{this._worklet=new AudioWorkletNode(e,"alphatab",{numberOfOutputs:1,outputChannelCount:[2],processorOptions:{bufferTimeInMilliseconds:this._bufferTimeInMilliseconds}}),this._worklet.port.onmessage=this.handleMessage.bind(this),this._source.connect(this._worklet),this._source.start(0),this._worklet.connect(e.destination)},r=>{Fe.error("WebAudio",`Audio Worklet creation failed: reason=${r}`)})}handleMessage(e){let r=e.data;switch(r.cmd){case pn.CmdOutputSamplesPlayed:this.onSamplesPlayed(r.samples);break;case pn.CmdOutputSampleRequest:this.onSampleRequest();break}}pause(){super.pause(),this._worklet&&(this._worklet.port.onmessage=null,this._worklet.disconnect()),this._worklet=null}addSamples(e){var r;(r=this._worklet)==null||r.port.postMessage({cmd:pn.CmdOutputAddSamples,samples:e})}resetSamples(){var e;(e=this._worklet)==null||e.port.postMessage({cmd:pn.CmdOutputResetSamples})}}class Qwe extends El{constructor(e,r,n){super(e),this._xscale=r,this._yscale=n}get width(){return this.element.offsetWidth/this._xscale}set width(e){this.element.style.width=e*this._xscale+"px"}get height(){return this.element.offsetHeight/this._yscale}set height(e){e>=0?this.element.style.height=e*this._yscale+"px":this.element.style.height="100%"}setBounds(e,r,n,i){isNaN(e)&&(e=this.lastBounds.x),isNaN(r)&&(r=this.lastBounds.y),isNaN(n)?n=this.lastBounds.w:n=n/this._xscale,isNaN(i)?i=this.lastBounds.h:i=i/this._yscale,this.element.style.transform=`translate(${e}px, ${r}px) scale(${n}, ${i})`,this.element.style.transformOrigin="top left",this.lastBounds.x=e,this.lastBounds.y=r,this.lastBounds.w=n,this.lastBounds.h=i}}var Sl;(function(t){t[t.LayoutDone=0]="LayoutDone",t[t.RenderRequested=1]="RenderRequested",t[t.RenderDone=2]="RenderDone",t[t.Detached=3]="Detached"})(Sl||(Sl={}));class Jwe{get resizeThrottle(){return 10}get canRender(){return this.areAllFontsLoaded()}areAllFontsLoaded(){if(Ue.bravuraFontChecker.checkForFontAvailability(),!Ue.bravuraFontChecker.isFontLoaded)return!1;let e=!1;for(const r of this._fontCheckers.values())r.isFontLoaded||(e=!0);return e?!1:(Fe.debug("Font","All fonts loaded: "+this._fontCheckers.size),!0)}onFontLoaded(e){zn.generateFontLookup(e),this.areAllFontsLoaded()&&this.canRenderChanged.trigger()}constructor(e){if(this._fontCheckers=new Map,this._contents=null,this._file=null,this._totalResultCount=0,this._initialTrackIndexes=null,this._barToElementLookup=new Map,this._resultIdToElementLookup=new Map,this.rootContainerBecameVisible=new di,this.canRenderChanged=new di,this._highlightedElements=[],this._scrollContainer=null,Ue.webPlatform!==Ba.Browser&&Ue.webPlatform!==Ba.BrowserModule)throw new ki(Si.General,"Usage of AlphaTabApi is only possible in browser environments. For usage in node use the Low Level APIs");e.classList.add("alphaTab"),this.rootContainer=new El(e),this.areWorkersSupported="Worker"in window,Ue.bravuraFontChecker.fontLoaded.on(this.onFontLoaded.bind(this)),this._intersectionObserver=new IntersectionObserver(this.onElementVisibilityChanged.bind(this),{threshold:[0,.01,1]}),this._intersectionObserver.observe(e)}onElementVisibilityChanged(e){for(const r of e){const n=r.target;if(n===this.rootContainer.element)r.isIntersecting&&(this.rootContainerBecameVisible.trigger(),this._intersectionObserver.unobserve(this.rootContainer.element));else if("layoutResultId"in n&&this._api.settings.core.enableLazyLoading){const i=n;r.isIntersecting?i.renderedResultId!==i.layoutResultId?this._resultIdToElementLookup.has(i.layoutResultId)?i.resultState!==Sl.RenderRequested&&(i.resultState=Sl.RenderRequested,this._api.renderer.renderResult(i.layoutResultId)):n.replaceChildren():i.resultState===Sl.Detached&&(n.replaceChildren(...i.renderedResult),i.resultState=Sl.RenderDone):i.resultState===Sl.RenderDone&&(i.resultState=Sl.Detached,i.replaceChildren())}}}createWorkerRenderer(){return new Xwe(this._api,this._api.settings)}initialize(e,r){this._api=e;let n;r instanceof oh?n=r:n=Vn.jsObjectToSettings(r);let i=this.getDataAttributes();ip.fromJson(n,i),n.notation.notationMode===ui.SongBook&&n.setSongBookModeSettings(),e.settings=n,this.setupFontCheckers(n),this._initialTrackIndexes=this.parseTracks(n.core.tracks),this._contents="";let s=e.container;n.core.tex&&(this._contents=s.element.innerHTML,s.element.innerHTML=""),this.createStyleElement(n),this._file=n.core.file}setupFontCheckers(e){this.registerFontChecker(e.display.resources.copyrightFont),this.registerFontChecker(e.display.resources.effectFont),this.registerFontChecker(e.display.resources.fingeringFont),this.registerFontChecker(e.display.resources.graceFont),this.registerFontChecker(e.display.resources.markerFont),this.registerFontChecker(e.display.resources.tablatureFont),this.registerFontChecker(e.display.resources.titleFont),this.registerFontChecker(e.display.resources.wordsFont),this.registerFontChecker(e.display.resources.barNumberFont),this.registerFontChecker(e.display.resources.fretboardNumberFont),this.registerFontChecker(e.display.resources.subTitleFont)}registerFontChecker(e){if(!this._fontCheckers.has(e.families.join(", "))){let r=new Jz(e.families);this._fontCheckers.set(e.families.join(", "),r),r.fontLoaded.on(this.onFontLoaded.bind(this)),r.checkForFontAvailability()}}destroy(){this.rootContainer.element.innerHTML=""}createCanvasElement(){let e=document.createElement("div");return e.className="at-surface",e.style.fontSize="0",e.style.overflow="hidden",e.style.lineHeight="0",e.style.position="relative",new El(e)}triggerEvent(e,r,n=null,i){let s=e.element;r="alphaTab."+r;let a=document.createEvent("CustomEvent"),o=i?i.mouseEvent:null;if(a.initCustomEvent(r,!1,!1,n),o&&(a.originalEvent=o),s.dispatchEvent(a),window&&"jQuery"in window){let l=window.jQuery,u=[];u.push(n),o&&u.push(o),l(s).trigger(r,u)}}load(e,r,n){if(e instanceof vh)return r(e),!0;if(e instanceof ArrayBuffer){let i=new Uint8Array(e);return r(_f.loadScoreFromBytes(i,this._api.settings)),!0}return e instanceof Uint8Array?(r(_f.loadScoreFromBytes(e,this._api.settings)),!0):typeof e=="string"?(_f.loadScoreAsync(e,r,n,this._api.settings),!0):!1}loadSoundFont(e,r){return this._api.player?e instanceof ArrayBuffer?(this._api.player.loadSoundFont(new Uint8Array(e),r),!0):e instanceof Uint8Array?(this._api.player.loadSoundFont(e,r),!0):typeof e=="string"?(this._api.loadSoundFontFromUrl(e,r),!0):!1:!1}initialRender(){this._api.renderer.preRender.on(r=>{this._totalResultCount=0,this._resultIdToElementLookup.clear(),this._barToElementLookup.clear()});const e=()=>{this._api.renderer.width=this.rootContainer.width|0,this._api.renderer.updateSettings(this._api.settings),this._contents?(this._api.tex(this._contents,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null):this._file&&_f.loadScoreAsync(this._file,r=>{this._api.renderScore(r,this._initialTrackIndexes??void 0),this._initialTrackIndexes=null},r=>{this._api.onError(r)},this._api.settings)};this.rootContainer.isVisible?e():this.rootContainerBecameVisible.on(e)}createStyleElement(e){let r=this._api.container.element.ownerDocument;Ue.createStyleElement(r,e.core.fontDirectory)}parseTracks(e){if(!e)return[];let r=[];if(typeof e=="string")try{if(e==="all")return[-1];e=JSON.parse(e)}catch{e=[0]}if(typeof e=="number")r.push(e);else if("length"in e){let n=e.length,i=e;for(let s=0;s<n;s++){let a=i[s],o=0;typeof a=="number"?o=a:"index"in a?o=a.index:o=parseInt(a.toString()),(o>=0||o===-1)&&r.push(o)}}else"index"in e&&r.push(e.index);return r}getDataAttributes(){let e=new Map,r=this._api.container.element;if(r.dataset)for(let n of Object.keys(r.dataset)){let i=r.dataset[n];try{i=JSON.parse(i)}catch{i===""&&(i=null)}e.set(n,i)}else for(let n=0;n<r.attributes.length;n++){let i=r.attributes.item(n),s=i.nodeName;if(s.startsWith("data-")){let a=s.substr(5).split("-"),o=a[0];for(let u=1;u<a.length;u++)o+=a[u].substr(0,1).toUpperCase()+a[u].substr(1);let l=i.nodeValue;try{l=JSON.parse(l)}catch{l===""&&(l=null)}e.set(o,l)}}return e}beginUpdateRenderResults(e){if(!this._resultIdToElementLookup.has(e.id))return;const r=this._resultIdToElementLookup.get(e.id),n=e.renderResult;typeof n=="string"?r.innerHTML=n:"nodeType"in n&&r.replaceChildren(n),r.resultState=Sl.RenderDone,r.renderedResultId=e.id,r.renderedResult=Array.from(r.children)}beginAppendRenderResults(e){const r=this._api.canvasElement.element;if(e){let n;this._totalResultCount<r.childElementCount?n=r.childNodes.item(this._totalResultCount):(n=document.createElement("div"),r.appendChild(n)),n.style.zIndex="1",n.style.position="absolute",n.style.left=e.x+"px",n.style.top=e.y+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.display="inline-block",n.layoutResultId=e.id,n.resultState=Sl.LayoutDone,delete n.renderedResultId,delete n.renderedResult,this._resultIdToElementLookup.set(e.id,n);for(let i=e.firstMasterBarIndex;i<=e.lastMasterBarIndex;i++)i>=0&&this._barToElementLookup.set(i,n);this._api.settings.core.enableLazyLoading&&(this._intersectionObserver.unobserve(n),this._intersectionObserver.observe(n)),this._totalResultCount++}else for(;r.childElementCount>this._totalResultCount;)this._api.settings.core.enableLazyLoading&&this._intersectionObserver.unobserve(r.lastChild),r.removeChild(r.lastElementChild)}createWorkerPlayer(){let e=null,r="ScriptProcessorNode"in window;return window.isSecureContext&&"AudioWorkletNode"in window&&this._api.settings.player.outputMode===ny.WebAudioAudioWorklets?(Fe.debug("Player","Will use webworkers for synthesizing and web audio api with worklets for playback"),e=new zF(new Kwe(this._api.settings),this._api.settings)):r&&(Fe.debug("Player","Will use webworkers for synthesizing and web audio api with ScriptProcessor for playback"),e=new zF(new jwe,this._api.settings)),e?e.ready.on(()=>{this._api.settings.player.soundFont&&this._api.loadSoundFontFromUrl(this._api.settings.player.soundFont,!1)}):Fe.error("Player","Player requires webworkers and web audio api, browser unsupported",null),e}beginInvoke(e){window.requestAnimationFrame(()=>{e()})}highlightElements(e,r){const n=this._barToElementLookup.get(r);if(n){let i=n.getElementsByClassName(e);for(let s=0;s<i.length;s++)i.item(s).classList.add("at-highlight"),this._highlightedElements.push(i.item(s))}}removeHighlights(){const e=this._highlightedElements;if(e){for(const r of e)r.classList.remove("at-highlight");this._highlightedElements=[]}}destroyCursors(){let e=this._api.container.element,r=e.querySelector(".at-cursors");e.removeChild(r)}createCursors(){let e=this._api.container.element,r=document.createElement("div");r.classList.add("at-cursors");let n=document.createElement("div");n.classList.add("at-selection");const i=this.createScalingElement(),s=this.createScalingElement();let a=i.element;a.classList.add("at-cursor-bar");let o=s.element;return o.classList.add("at-cursor-beat"),e.style.position="relative",e.style.textAlign="left",r.style.position="absolute",r.style.zIndex="1000",r.style.display="inline",r.style.pointerEvents="none",n.style.position="absolute",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.willChange="transform",i.width=1,i.height=1,i.setBounds(0,0,1,1),o.style.position="absolute",o.style.transition="all 0s linear",o.style.left="0",o.style.top="0",o.style.willChange="transform",s.width=3,s.height=1,s.setBounds(0,0,1,1),e.insertBefore(r,e.firstChild),r.appendChild(n),r.appendChild(a),r.appendChild(o),new qwe(new El(r),i,s,new El(n))}getOffset(e,r){let n=r.element,i=n.getBoundingClientRect(),s=i.top+n.ownerDocument.defaultView.pageYOffset,a=i.left+n.ownerDocument.defaultView.pageXOffset;if(e){let l=e.element,u=l.nodeName.toLowerCase();if(u!=="html"&&u!=="body"){let c=this.getOffset(null,e);s=s+l.scrollTop-c.y,a=a+l.scrollLeft-c.x}}let o=new Ls;return o.x=a,o.y=s,o.w=i.width,o.h=i.height,o}getScrollContainer(){if(this._scrollContainer)return this._scrollContainer;let e=typeof this._api.settings.player.scrollElement=="string"?document.querySelector(this._api.settings.player.scrollElement):this._api.settings.player.scrollElement,r=e.nodeName.toLowerCase();return(r==="html"||r==="body")&&("scrollingElement"in document?e=document.scrollingElement:navigator.userAgent.indexOf("WebKit")!==-1?e=document.body:e=document.documentElement),this._scrollContainer=new El(e),this._scrollContainer}createSelectionElement(){return this.createScalingElement()}createScalingElement(){const e=document.createElement("div");e.style.position="absolute";const r=new Qwe(e,100,100);return r.width=1,r.height=1,r.setBounds(0,0,1,1),r}scrollToY(e,r,n){this.internalScrollToY(e.element,r,n)}scrollToX(e,r,n){this.internalScrollToX(e.element,r,n)}internalScrollToY(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({top:r,behavior:"smooth"});else{let i=e.scrollTop,s=r-i,a=0,o=l=>{a===0&&(a=l);let u=l-a,c=Math.min(u/n,1);e.scrollTop=i+s*c|0,u<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}internalScrollToX(e,r,n){if(this._api.settings.player.nativeBrowserSmoothScroll)e.scrollTo({left:r,behavior:"smooth"});else{let i=e.scrollLeft,s=r-i,a=0,o=l=>{a===0&&(a=l);let u=l-a,c=Math.min(u/n,1);e.scrollLeft=i+s*c|0,u<n&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}}class V1 extends Gwe{constructor(e,r){super(new Jwe(e),r),this.soundFontLoad=new or}tex(e,r){let n=this.uiFacade;super.tex(e,n.parseTracks(r))}print(e,r=null){let n=window.open("","","width=0,height=0"),i=n.document.createElement("div");e?i.style.width=e:this.settings.display.layoutMode===ku.Horizontal?i.style.width="297mm":i.style.width="210mm",n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <style>
            .at-surface {
                width: auto !important;
                height: auto !important;
            }
            .at-surface > div {
                position: relative!important;
                left: auto !important;
                top: auto !important;
                break-inside: avoid;
            }
            </style>
          </head>
          <body></body>
        </html>
        `);const s=this.score;s&&(s.artist&&s.title?n.document.title=`${s.title} - ${s.artist}`:s.title&&(n.document.title=`${s.title}`)),n.document.body.appendChild(i);let a=typeof window.screenLeft<"u"?window.screenLeft:window.left,o=typeof window.screenTop<"u"?window.screenTop:window.top,l="innerWidth"in window?window.innerWidth:"clientWidth"in document.documentElement?document.documentElement.clientWidth:window.screen.width,u="innerHeight"in window?window.innerHeight:"clientHeight"in document.documentElement?document.documentElement.clientHeight:window.screen.height,c=i.offsetWidth+50,h=window.innerHeight,f=(l/2|0)-(c/2|0)+a,m=(u/2|0)-(h/2|0)+o;n.resizeTo(c,h),n.moveTo(f,m),n.focus();let g=Vn.jsObjectToSettings(Vn.settingsToJsObject(this.settings));g.core.enableLazyLoading=!1,g.core.useWorkers=!0,g.core.file=null,g.core.tracks=null,g.player.enableCursor=!1,g.player.enablePlayer=!1,g.player.enableElementHighlighting=!1,g.player.enableUserInteraction=!1,g.player.soundFont=null,g.display.scale=.8,g.display.stretchForce=.8,ip.fromJson(g,r);let y=new V1(i,g);n.onunload=()=>{y.destroy()},y.renderer.postRenderFinished.on(()=>{n.print()}),y.renderTracks(this.tracks)}downloadMidi(e=np.SingleTrackMultiChannel){if(!this.score)return;let r=new Dc;r.format=e;let n=new Nl(r,!0);new Br(this.score,this.settings,n).generate();let s=r.toBinary(),a=this.score.title?`${this.score.title}.mid`:"File.mid",o=document.createElement("a");o.download=a;let l=new Blob([s],{type:"audio/midi"}),u=URL.createObjectURL(l);o.href=u,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}changeTrackMute(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackMute(n,r)}changeTrackSolo(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackSolo(n,r)}changeTrackVolume(e,r){let n=this.trackIndexesToTracks(this.uiFacade.parseTracks(e));super.changeTrackVolume(n,r)}trackIndexesToTracks(e){if(!this.score)return[];let r=[];if(e.length===1&&e[0]===-1)for(let n of this.score.tracks)r.push(n);else for(let n of e)n>=0&&n<this.score.tracks.length&&r.push(this.score.tracks[n]);return r}loadSoundFontFromUrl(e,r){this.player&&this.player.loadSoundFontFromUrl(e,r,n=>{this.soundFontLoad.trigger(n),this.uiFacade.triggerEvent(this.container,"soundFontLoad",n)})}}class WF{constructor(){this._initListeners=[]}exec(e,r,n){if(typeof r!="string"&&(n=[r],r="init"),r.charCodeAt(0)===95||r==="exec")return null;let i=new jQuery(e),s=i.data("alphaTab");if(r==="destroy"&&!s)return null;if(r!=="init"&&!s)throw new Error("alphaTab not initialized");let a=this[r];if(a){let o=[i,s].concat(n);return a.apply(this,o)}else return Fe.error("Api","Method '"+r+"' does not exist on jQuery.alphaTab"),null}init(e,r,n){if(!r){r=new V1(e[0],n),e.data("alphaTab",r);for(let i of this._initListeners)i(e,r,n)}}destroy(e,r){e.removeData("alphaTab"),r.destroy()}print(e,r,n,i){r.print(n,i)}load(e,r,n,i){return r.load(n,i)}render(e,r){r.render()}renderScore(e,r,n,i){r.renderScore(n,i)}renderTracks(e,r,n){r.renderTracks(n)}invalidate(e,r){r.render()}tex(e,r,n,i){r.tex(n,i)}muteTrack(e,r,n,i){r.changeTrackMute(n,i)}soloTrack(e,r,n,i){r.changeTrackSolo(n,i)}trackVolume(e,r,n,i){r.changeTrackVolume(n,i)}loadSoundFont(e,r,n,i){r.loadSoundFont(n,i)}resetSoundFonts(e,r){r.resetSoundFonts()}pause(e,r){r.pause()}play(e,r){return r.play()}playPause(e,r){r.playPause()}stop(e,r){r.stop()}api(e,r){return r}player(e,r){return r.player}isReadyForPlayback(e,r){return r.isReadyForPlayback}playerState(e,r){return r.playerState}masterVolume(e,r,n){return typeof n=="number"&&(r.masterVolume=n),r.masterVolume}metronomeVolume(e,r,n){return typeof n=="number"&&(r.metronomeVolume=n),r.metronomeVolume}countInVolume(e,r,n){return typeof n=="number"&&(r.countInVolume=n),r.countInVolume}midiEventsPlayedFilter(e,r,n){return Array.isArray(n)&&(r.midiEventsPlayedFilter=n),r.midiEventsPlayedFilter}playbackSpeed(e,r,n){return typeof n=="number"&&(r.playbackSpeed=n),r.playbackSpeed}tickPosition(e,r,n){return typeof n=="number"&&(r.tickPosition=n),r.tickPosition}timePosition(e,r,n){return typeof n=="number"&&(r.timePosition=n),r.timePosition}loop(e,r,n){return typeof n=="boolean"&&(r.isLooping=n),r.isLooping}renderer(e,r){return r.renderer}score(e,r){return r.score}settings(e,r){return r.settings}tracks(e,r){return r.tracks}_oninit(e){this._initListeners.push(e)}static restore(e){new jQuery(e).empty().removeData("alphaTab")}}class QM{constructor(){this.buffer="",this._currentPath="",this._currentPathIsEmpty=!0,this.color=new fn(255,255,255,255),this.lineWidth=1,this.font=new dr("Arial",10,vn.Plain),this.textAlign=St.Left,this.textBaseline=jt.Top}destroy(){}beginRender(e,r){this.buffer=`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${e|0}px" height="${r|0}px" class="at-surface-svg">
`,this._currentPath="",this._currentPathIsEmpty=!0,this.textBaseline=jt.Top}beginGroup(e){this.buffer+=`<g class="${e}">`}endGroup(){this.buffer+="</g>"}endRender(){return this.buffer+="</svg>",this.buffer}fillRect(e,r,n,i){n>0&&(this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" fill="${this.color.rgba}" />
`)}strokeRect(e,r,n,i){this.buffer+=`<rect x="${e|0}" y="${r|0}" width="${n}" height="${i}" stroke="${this.color.rgba}"`,this.lineWidth!==1&&(this.buffer+=` stroke-width="${this.lineWidth}"`),this.buffer+=` fill="transparent" />
`}beginPath(){}closePath(){this._currentPath+=" z"}moveTo(e,r){this._currentPath+=` M${e},${r}`}lineTo(e,r){this._currentPathIsEmpty=!1,this._currentPath+=` L${e},${r}`}quadraticCurveTo(e,r,n,i){this._currentPathIsEmpty=!1,this._currentPath+=` Q${e},${r},${n},${i}`}bezierCurveTo(e,r,n,i,s,a){this._currentPathIsEmpty=!1,this._currentPath+=` C${e},${r},${n},${i},${s},${a}`}fillCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.fill()}strokeCircle(e,r,n){this._currentPathIsEmpty=!1,this._currentPath+=` M${e-n},${r} A1,1 0 0,0 ${e+n},${r} A1,1 0 0,0 ${e-n},${r} z`,this.stroke()}fill(){this._currentPathIsEmpty||(this.buffer+=`<path d="${this._currentPath}"`,this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),this.buffer+=' style="stroke: none"/>'),this._currentPath="",this._currentPathIsEmpty=!0}stroke(){if(!this._currentPathIsEmpty){let e=`<path d="${this._currentPath}" stroke="${this.color.rgba}"`;this.lineWidth!==1&&(e+=` stroke-width="${this.lineWidth}"`),e+=' style="fill: none" />',this.buffer+=e}this._currentPath="",this._currentPathIsEmpty=!0}fillText(e,r,n){if(e==="")return;let i=`<text x="${r|0}" y="${n|0}" style="stroke: none; font:${this.font.toCssString(this.settings.display.scale)}" ${this.getSvgBaseLine()}`;this.color.rgba!=="#000000"&&(i+=` fill="${this.color.rgba}"`),this.textAlign!==St.Left&&(i+=` text-anchor="${this.getSvgTextAlignment(this.textAlign)}"`),i+=`>${QM.escapeText(e)}</text>`,this.buffer+=i}static escapeText(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}getSvgTextAlignment(e){switch(e){case St.Left:return"start";case St.Center:return"middle";case St.Right:return"end"}return""}getSvgBaseLine(){switch(this.textBaseline){case jt.Top:return'dominant-baseline="hanging"';case jt.Bottom:return'dominant-baseline="bottom"';default:return""}}measureText(e){return e?zn.measureString(e,this.font.families,this.font.size,this.font.style,this.font.weight):0}onRenderFinished(){return null}beginRotate(e,r,n){this.buffer+='<g transform="translate('+e+" ,"+r+") rotate( "+n+')">'}endRotate(){this.buffer+="</g>"}}class Zwe extends QM{constructor(){super()}fillMusicFontSymbol(e,r,n,i,s){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,`&#${i};`,s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==R.None&&(a+=`&#${o};`);this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this.buffer+=`<g transform="translate(${e} ${r})" class="at" ><text`,n!==1?this.buffer+=` style="font-size: ${n*100}%; stroke:none"`:this.buffer+=' style="stroke:none"',this.color.rgba!=="#000000"&&(this.buffer+=` fill="${this.color.rgba}"`),s&&(this.buffer+=' text-anchor="'+this.getSvgTextAlignment(St.Center)+'"'),this.buffer+=`>${i}</text></g>`}}class JM{constructor(){this.isInAccolade=!0,this.isRelevantForBoundsLookup=!0,this.hideOnMultiTrack=!1,this.hideOnPercussionTrack=!1}canCreate(e,r){return!this.hideOnPercussionTrack||!r.isPercussion}}var Zt;(function(t){t[t.PreNotes=0]="PreNotes",t[t.OnNotes=1]="OnNotes",t[t.MiddleNotes=2]="MiddleNotes",t[t.Stem=3]="Stem",t[t.PostNotes=4]="PostNotes",t[t.EndBeat=5]="EndBeat"})(Zt||(Zt={}));class fl extends In{get isEmpty(){return!this.glyphs||this.glyphs.length===0}constructor(e,r){super(e,r),this.glyphs=null}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}let e=0;for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.renderer=this.renderer,i.doLayout(),e=Math.max(e,i.width)}this.width=e}addGlyph(e){this.glyphs||(this.glyphs=[]),this.renderer&&(e.renderer=this.renderer),this.glyphs.push(e)}paint(e,r,n){let i=this.glyphs;if(!(!i||i.length===0))for(let s of i)s.paint(e+this.x,r+this.y,n)}}class _g extends fl{constructor(){super(0,0),this.glyphs=[]}addGlyph(e){e.x=this.glyphs.length===0?0:this.glyphs[this.glyphs.length-1].x+this.glyphs[this.glyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.width=e.x+e.width,super.addGlyph(e)}}class eW extends fl{constructor(e,r,n){super(e,r),this.voice=n,this.beatGlyphs=[],this.tupletGroups=[]}scaleToWidth(e){const r=this.renderer.scale;let n=this.renderer.layoutingInfo.spaceToForce(e/r);this.scaleToForce(n)}scaleToForce(e){const r=this.renderer.scale;this.width=this.renderer.layoutingInfo.calculateVoiceWidth(e)*r;let n=this.renderer.layoutingInfo.buildOnTimePositions(e),i=this.beatGlyphs;for(let s=0,a=i.length;s<a;s++){let o=i[s];switch(o.beat.graceType){case _t.None:o.x=n.get(o.beat.absoluteDisplayStart)*r-o.onTimeX;break;default:const l=o.beat.graceGroup.beats[0].absoluteDisplayStart,u=o.beat.graceGroup.id;if(o.beat.graceGroup.isComplete&&n.has(l)){o.x=n.get(l)*r-o.onTimeX;let c=this.renderer.layoutingInfo.allGraceRods.get(u);const h=o.beat.graceGroup.beats[o.beat.graceGroup.beats.length-1].nextBeat,f=h?this.renderer.layoutingInfo.getPreBeatSize(h)+rl.GraceBeatPadding*this.renderer.scale:0;o.x-=f,o.x-=c[o.beat.graceIndex].postSpringWidth,o.x+=c[o.beat.graceIndex].graceBeatWidth;const m=c[o.beat.graceGroup.beats.length-1];o.x-=m.graceBeatWidth}else{let c=this.renderer.layoutingInfo.incompleteGraceRods.get(u);const h=c[o.beat.graceIndex].postSpringWidth-c[o.beat.graceIndex].preSpringWidth;s>0?o.beat.graceIndex===0?o.x=i[s-1].x+i[s-1].width:o.x=i[s-1].x+c[o.beat.graceIndex-1].postSpringWidth-c[o.beat.graceIndex-1].preSpringWidth-h:o.x=-h}break}if(s>0){let l=o.x-i[s-1].x;i[s-1].scaleToWidth(l)}if(s===a-1){let l=this.width-i[i.length-1].x;o.scaleToWidth(l)}}}registerLayoutingInfo(e){e.updateVoiceSize(this.width);let r=this.beatGlyphs;for(let n of r)n.registerLayoutingInfo(e)}applyLayoutingInfo(e){let r=this.beatGlyphs;for(let n of r)n.applyLayoutingInfo(e);this.scaleToForce(Math.max(this.renderer.settings.display.stretchForce,e.minStretchForce))}addGlyph(e){let r=e;e.x=this.beatGlyphs.length===0?0:this.beatGlyphs[this.beatGlyphs.length-1].x+this.beatGlyphs[this.beatGlyphs.length-1].width,e.renderer=this.renderer,e.doLayout(),this.beatGlyphs.push(r),this.width=e.x+e.width,r.beat.hasTuplet&&r.beat.tupletGroup.beats[0].id===r.beat.id&&this.tupletGroups.push(r.beat.tupletGroup)}doLayout(){}paint(e,r,n){n.color=this.voice.index===0?this.renderer.resources.mainGlyphColor:this.renderer.resources.secondaryGlyphColor;for(let i=0,s=this.beatGlyphs.length;i<s;i++)this.beatGlyphs[i].paint(e+this.x,r+this.y,n)}}eW.KeySizeBeat="Beat";var Mr;(function(t){t[t.None=0]="None",t[t.Natural=1]="Natural",t[t.Sharp=2]="Sharp",t[t.Flat=3]="Flat",t[t.NaturalQuarterNoteUp=4]="NaturalQuarterNoteUp",t[t.SharpQuarterNoteUp=5]="SharpQuarterNoteUp",t[t.FlatQuarterNoteUp=6]="FlatQuarterNoteUp",t[t.DoubleSharp=7]="DoubleSharp",t[t.DoubleFlat=8]="DoubleFlat"})(Mr||(Mr={}));class exe{constructor(){this.maxLine=-1e3,this.minLine=-1e3}}class On{constructor(e){this._registeredAccidentals=new Map,this._appliedScoreLines=new Map,this._appliedScoreLinesByValue=new Map,this._notesByValue=new Map,this._beatLines=new Map,this.maxLineBeat=null,this.minLineBeat=null,this.maxLine=-1e3,this.minLine=-1e3,this._barRenderer=e,this._bar=e.bar}static getPercussionLine(e,r){var n;return r<e.staff.track.percussionArticulations.length?e.staff.track.percussionArticulations[r].staffLine:((n=Ni.getArticulationByValue(r))==null?void 0:n.staffLine)??0}static getNoteValue(e){if(e.isPercussion)return e.percussionArticulation;let r=e.displayValue;switch(e.accidentalMode){case $n.ForceDoubleFlat:r+=2;break;case $n.ForceDoubleSharp:r-=2;break;case $n.ForceFlat:r+=1;break;case $n.ForceSharp:r-=1;break}return r}applyAccidental(e){const r=On.getNoteValue(e);let n=e.hasQuarterToneOffset;return this.getAccidental(r,n,e.beat,!1,e)}applyAccidentalForValue(e,r,n,i){return this.getAccidental(r,n,e,i,null)}static computeLineWithoutAccidentals(e,r){let n=0;const i=On.getNoteValue(r);if(e.staff.isPercussion)n=On.getPercussionLine(e,i);else{const s=r?r.accidentalMode:$n.Default;n=On.calculateNoteLine(e,i,s)}return n}getAccidental(e,r,n,i,s=null){let a=Mr.None,o=0;if(this._bar.staff.isPercussion)o=On.getPercussionLine(this._bar,e);else{const l=s?s.accidentalMode:$n.Default;o=On.calculateNoteLine(this._bar,e,l);let c=this._bar.masterBar.keySignature+7,h=e%12,f=c<7?Mr.Flat:Mr.Sharp,m=On.KeySignatureLookup[c][h],g=On.AccidentalNotes[h];if(r)switch(a=g?f:Mr.Natural,a){case Mr.Natural:a=Mr.NaturalQuarterNoteUp;break;case Mr.Sharp:a=Mr.SharpQuarterNoteUp;break;case Mr.Flat:a=Mr.FlatQuarterNoteUp;break}else{switch(l){case $n.ForceSharp:a=Mr.Sharp;break;case $n.ForceDoubleSharp:a=Mr.DoubleSharp;break;case $n.ForceFlat:a=Mr.Flat;break;case $n.ForceDoubleFlat:a=Mr.DoubleFlat;break;default:g?a=f:m&&(a=Mr.Natural);break}let y=!1;if(s&&s.isTieDestination&&s.beat.index===0){const b=this._barRenderer.previousRenderer;b&&b.accidentalHelper.getNoteLine(s.tieOrigin)===o&&(y=!0)}y?a=Mr.None:a!==Mr.None?(this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===a&&(a=Mr.None):m&&a===f&&(a=Mr.None),a!==Mr.None&&this._registeredAccidentals.set(o,a)):this._registeredAccidentals.has(o)?this._registeredAccidentals.get(o)===Mr.Natural?a=Mr.None:(a=Mr.Natural,this._registeredAccidentals.set(o,a)):this._registeredAccidentals.delete(o)}}return s?(this._appliedScoreLines.set(s.id,o),this._notesByValue.set(e,s)):this._appliedScoreLinesByValue.set(e,o),(this.minLine===-1e3||this.minLine<o)&&(this.minLine=o,this.minLineBeat=n),(this.maxLine===-1e3||this.maxLine>o)&&(this.maxLine=o,this.maxLineBeat=n),i||this.registerLine(n,o),a}registerLine(e,r){let n;this._beatLines.has(e.id)?n=this._beatLines.get(e.id):(n=new exe,this._beatLines.set(e.id,n)),(n.minLine===-1e3||r<n.minLine)&&(n.minLine=r),(n.minLine===-1e3||r>n.maxLine)&&(n.maxLine=r)}getMaxLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).maxLine:0}getMinLine(e){return this._beatLines.has(e.id)?this._beatLines.get(e.id).minLine:0}static calculateNoteLine(e,r,n){let i=r,s=e.masterBar.keySignature,a=e.clef,o=i%12,l=(i/12|0)-1,u=On.OctaveSteps[a];u-=l*On.StepsPerOctave;let c=Yr.keySignatureIsSharp(s)||Yr.keySignatureIsNatural(s)?On.SharpNoteSteps:On.FlatNoteSteps;return u-=c[o],u}getNoteLine(e){return this._appliedScoreLines.get(e.id)}getNoteLineForValue(e,r=!1){return this._appliedScoreLinesByValue.has(e)?this._appliedScoreLinesByValue.get(e):r&&this._notesByValue.has(e)?this.getNoteLine(this._notesByValue.get(e)):0}}On.KeySignatureLookup=[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0],[!1,!0,!0,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!0],[!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]];On.AccidentalNotes=[!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!1];On.StepsPerOctave=7;On.OctaveSteps=[38,32,30,26,38];On.SharpNoteSteps=[0,0,1,1,2,3,3,4,4,5,5,6];On.FlatNoteSteps=[0,1,1,2,2,3,4,4,5,5,6,6];class txe{constructor(){this.staffId="",this.up=0,this.down=0}}class rxe{constructor(){this.startBeat=null,this.startX=0,this.startY=0,this.endBeat=null,this.endX=0,this.endY=0}calcY(e){return this.startX===this.endX?this.startY:(this.endY-this.startY)/(this.endX-this.startX)*(e-this.startX)+this.startY}}class na{get isRestBeamHelper(){return this.beats.length===1&&this.beats[0].isRest}get hasLine(){return this.beats.length===1&&this.beats[0].duration>oe.Whole}get hasFlag(){return this.beats.length===1&&!this.beats[0].isRest&&(this.beats[0].duration>oe.Quarter||this.beats[0].graceType!==_t.None)}constructor(e,r){this._beatLineXPositions=new Map,this._firstNonRestBeat=null,this._lastNonRestBeat=null,this.voice=null,this.beats=[],this.shortestDuration=oe.QuadrupleWhole,this.fingeringCount=0,this.hasTuplet=!1,this._firstBeatLowestNoteCompareValue=-1,this._firstBeatHighestNoteCompareValue=-1,this._lastBeatLowestNoteCompareValue=-1,this._lastBeatHighestNoteCompareValue=-1,this.lowestNoteInHelper=null,this._lowestNoteCompareValueInHelper=-1,this.highestNoteInHelper=null,this._highestNoteCompareValueInHelper=-1,this.invertBeamDirection=!1,this.preferredBeamDirection=null,this.isGrace=!1,this.minRestLine=null,this.beatOfMinRestLine=null,this.maxRestLine=null,this.beatOfMaxRestLine=null,this.direction=He.Up,this.drawingInfos=new Map,this._staff=e,this._renderer=r,this.beats=[]}getBeatLineX(e){return this.hasBeatLineX(e)?this.direction===He.Up?this._beatLineXPositions.get(e.index).up:this._beatLineXPositions.get(e.index).down:0}hasBeatLineX(e){return this._beatLineXPositions.has(e.index)}registerBeatLineX(e,r,n,i){let s=this.getOrCreateBeatPositions(r);s.staffId=e,s.up=n,s.down=i;for(const a of this.drawingInfos.values())a.startBeat==r?a.startX=this.getBeatLineX(r):a.endBeat==r&&(a.endX=this.getBeatLineX(r))}getOrCreateBeatPositions(e){return this._beatLineXPositions.has(e.index)||this._beatLineXPositions.set(e.index,new txe),this._beatLineXPositions.get(e.index)}finish(){this.direction=this.calculateDirection()}calculateDirection(){let e=null;if(this.voice?this.preferredBeamDirection!==null?e=this.preferredBeamDirection:this.voice.index>0?e=this.invert(He.Down):this.voice.bar.isMultiVoice?e=this.invert(He.Up):this.beats[0].graceType!==_t.None&&(e=this.invert(He.Up)):e=He.Up,this.highestNoteInHelper&&this.lowestNoteInHelper){let r=this._renderer.getNoteY(this.highestNoteInHelper,pt.Center),n=this._renderer.getNoteY(this.lowestNoteInHelper,pt.Center);if(e===null){const i=(r+n)/2;e=this.invert(this._renderer.middleYPosition<i?He.Up:He.Down)}this._renderer.completeBeamingHelper(this)}else e=this.invert(He.Up),this._renderer.completeBeamingHelper(this);return e}static computeLineHeightsForRest(e){switch(e){case oe.QuadrupleWhole:return[2,2];case oe.DoubleWhole:return[2,2];case oe.Whole:return[0,1];case oe.Half:return[1,0];case oe.Quarter:return[3,3];case oe.Eighth:return[2,2];case oe.Sixteenth:return[2,4];case oe.ThirtySecond:return[4,4];case oe.SixtyFourth:return[4,6];case oe.OneHundredTwentyEighth:return[6,6];case oe.TwoHundredFiftySixth:return[6,8]}return[0,0]}applyRest(e,r){if(this._lastNonRestBeat&&e.index>=this._lastNonRestBeat.index||this._firstNonRestBeat&&e.index<=this._firstNonRestBeat.index)return;let n=r,i=r;const s=na.computeLineHeightsForRest(e.duration);n-=s[0],i+=s[1];const a=this.minRestLine,o=this.maxRestLine;(a===null||a>n)&&(this.minRestLine=n,this.beatOfMinRestLine=e),(o===null||o<i)&&(this.maxRestLine=i,this.beatOfMaxRestLine=e)}invert(e){if(!this.invertBeamDirection)return e;switch(e){case He.Down:return He.Up;default:return He.Down}}checkBeat(e){e.invertBeamDirection&&(this.invertBeamDirection=!0),this.voice||(this.voice=e.voice);let r=!1;if(this.beats.length===0)r=!0;else switch(this.beats[this.beats.length-1].beamingMode){case tl.Auto:r=na.canJoin(this.beats[this.beats.length-1],e);break;case tl.ForceSplitToNext:r=!1;break;case tl.ForceMergeWithNext:r=!0;break}if(r){if(e.preferredBeamDirection!==null&&(this.preferredBeamDirection=e.preferredBeamDirection),e.isRest)this.beats.length===0&&this.beats.push(e);else{this.isRestBeamHelper&&(this.beats=[]),this.beats.push(e),e.graceType!==_t.None&&(this.isGrace=!0),e.hasTuplet&&(this.hasTuplet=!0);let n=0;for(let i=0;i<e.notes.length;i++){let s=e.notes[i];(s.leftHandFinger!==Ot.Unknown||s.rightHandFinger!==Ot.Unknown)&&n++}n>this.fingeringCount&&(this.fingeringCount=n),this.checkNote(e.minNote),this.checkNote(e.maxNote),this.shortestDuration<e.duration&&(this.shortestDuration=e.duration),this._firstNonRestBeat||(this._firstNonRestBeat=e),this._lastNonRestBeat=e}e.hasTuplet&&(this.hasTuplet=!0)}return r}checkNote(e){if(!e)return;let r,n;this.voice&&e.isPercussion?(r=-On.getPercussionLine(this.voice.bar,On.getNoteValue(e)),n=r):(r=On.getNoteValue(e),n=r,e.harmonicType!==bt.None&&e.harmonicType!==bt.Natural&&(n=e.realValue-this._staff.displayTranspositionPitch)),this.beats.length===1&&this.beats[0]===e.beat&&((this._firstBeatLowestNoteCompareValue===-1||r<this._firstBeatLowestNoteCompareValue)&&(this._firstBeatLowestNoteCompareValue=r),(this._firstBeatHighestNoteCompareValue===-1||n>this._firstBeatHighestNoteCompareValue)&&(this._firstBeatHighestNoteCompareValue=n)),(this._lastBeatLowestNoteCompareValue===-1||r<this._lastBeatLowestNoteCompareValue)&&(this._lastBeatLowestNoteCompareValue=r),(this._lastBeatHighestNoteCompareValue===-1||n>this._lastBeatHighestNoteCompareValue)&&(this._lastBeatHighestNoteCompareValue=n),(!this.lowestNoteInHelper||r<this._lowestNoteCompareValueInHelper)&&(this.lowestNoteInHelper=e,this._lowestNoteCompareValueInHelper=r),(!this.highestNoteInHelper||n>this._highestNoteCompareValueInHelper)&&(this.highestNoteInHelper=e,this._highestNoteCompareValueInHelper=n)}static canJoin(e,r){if(!e||!r||e.graceType!==r.graceType||e.graceType===_t.BendGrace||r.graceType===_t.BendGrace)return!1;if(e.graceType!==_t.None&&r.graceType!==_t.None)return!0;let n=e.voice.bar,i=r.voice.bar;if(n!==i)return!1;let s=e.playbackStart,a=r.playbackStart;if(!na.canJoinDuration(e.duration)||!na.canJoinDuration(r.duration))return s===a;if(e.tupletGroup!==r.tupletGroup)return!1;if(e.hasTuplet&&r.hasTuplet&&e.tupletGroup===r.tupletGroup&&e.tupletGroup.isFull)return!0;let o=zt.QuarterTime;switch(n.masterBar.timeSignatureDenominator){case 8:n.masterBar.timeSignatureNumerator%3===0&&(o+=zt.QuarterTime/2|0);break}let l=(o+s)/o|0|0,u=(o+a)/o|0|0;return l===u}static canJoinDuration(e){switch(e){case oe.Whole:case oe.Half:case oe.Quarter:return!1;default:return!0}}static isFullBarJoin(e,r,n){return Yr.getIndex(e.duration)-2-n>0&&Yr.getIndex(r.duration)-2-n>0}get beatOfLowestNote(){return this.lowestNoteInHelper.beat}get beatOfHighestNote(){return this.highestNoteInHelper.beat}isPositionFrom(e,r){return this._beatLineXPositions.has(r.index)?this._beatLineXPositions.get(r.index).staffId===e||!this._beatLineXPositions.get(r.index).staffId:!0}}class nxe{constructor(e,r){this.topY=0,this.bottomY=0,this.topY=e,this.bottomY=r}}class ixe{constructor(e){this.topY=-1e3,this.bottomY=-1e3,this.slots=[],this.beat=e}addSlot(e,r){if(this.slots.push(new nxe(e,r)),this.topY===-1e3)this.topY=e,this.bottomY=r;else{const n=Math.min(e,r),i=Math.max(e,r);n<this.topY&&(this.topY=n),i>this.bottomY&&(this.bottomY=i)}}}class sxe{constructor(){this.reservedLayoutAreasByDisplayTime=new Map,this.restDurationsByDisplayTime=new Map}getBeatMinMaxY(){let e=-1e3,r=-1e3;for(const n of this.reservedLayoutAreasByDisplayTime.values())e===-1e3?(e=n.topY,r=n.bottomY):(e>n.topY&&(e=n.topY),r<n.bottomY&&(r=n.bottomY));return e===-1e3?[0,0]:[e,r]}reserveBeatSlot(e,r,n){r!=n&&(this.reservedLayoutAreasByDisplayTime.has(e.displayStart)||this.reservedLayoutAreasByDisplayTime.set(e.displayStart,new ixe(e)),this.reservedLayoutAreasByDisplayTime.get(e.displayStart).addSlot(r,n),e.isRest&&this.registerRest(e))}registerRest(e){this.restDurationsByDisplayTime.has(e.displayStart)||this.restDurationsByDisplayTime.set(e.displayStart,new Map),this.restDurationsByDisplayTime.get(e.displayStart).has(e.playbackDuration)||this.restDurationsByDisplayTime.get(e.displayStart).set(e.playbackDuration,e.id)}applyRestCollisionOffset(e,r,n){if(e.voice.index>0&&this.reservedLayoutAreasByDisplayTime.has(e.playbackStart)){const i=na.computeLineHeightsForRest(e.duration).map(c=>c*n);let s=r-i[0],a=r+i[1],o=s;const l=this.reservedLayoutAreasByDisplayTime.get(e.playbackStart);let u=!1;for(const c of l.slots)if(s>=c.topY&&s<=c.bottomY||a>=c.topY&&a<=c.bottomY){u=!0;break}if(u){e.voice.index==1?o=l.topY-i[1]-i[0]:o=l.bottomY;let c=o+i[0]+i[1];const h=n*2;let f=Math.ceil(Math.abs(o-s)/h);return l.addSlot(o,c),o<s?f*-h:f*h}}return 0}}class axe{constructor(e){this.beamHelpers=[],this.beamHelperLookup=[],this._renderer=e,this.collisionHelper=new sxe}initialize(){var e=this._renderer,r=this._renderer.bar;let n=null,i=null;for(let s=0,a=r.voices.length;s<a;s++){let o=r.voices[s];this.beamHelpers.push([]),this.beamHelperLookup.push(new Map);for(let l=0,u=o.beats.length;l<u;l++){let c=o.beats[l],h;c.graceType!==_t.None?h=i:(h=n,i=null),(!h||!h.checkBeat(c))&&(h&&h.finish(),h=new na(r.staff,e),h.checkBeat(c),c.graceType!==_t.None?i=h:n=h,this.beamHelpers[o.index].push(h)),this.beamHelperLookup[o.index].set(c.index,h)}n&&n.finish(),i&&i.finish(),n=null,i=null}}getBeamingHelperForBeat(e){return this.beamHelperLookup[e.voice.index].get(e.index)}}class Mi extends pl{constructor(e,r,n){super(e,r),this._textRow=0,this._fretRow=0,this._firstFretSpacing=0,this._chord=n}doLayout(){super.doLayout();const e=this.scale;let r=this.renderer.resources;this._textRow=r.effectFont.size*1.5*e,this._fretRow=r.effectFont.size*1.5*e,this._chord.firstFret>1?this._firstFretSpacing=Mi.FretSpacing*e:this._firstFretSpacing=0,this.height=this._textRow+this._fretRow+(Mi.Frets-1)*Mi.FretSpacing*e+2*Mi.Padding*e,this.width=this._firstFretSpacing+(this._chord.staff.tuning.length-1)*Mi.StringSpacing*e+2*Mi.Padding*e}paint(e,r,n){e+=this.x+Mi.Padding*this.scale+this._firstFretSpacing,r+=this.y;let i=this.width-2*Mi.Padding*this.scale+this.scale-this._firstFretSpacing,s=Mi.StringSpacing*this.scale,a=Mi.FretSpacing*this.scale,o=this.renderer.resources,l=Mi.CircleRadius*this.scale,u=n.textAlign,c=n.textBaseline;n.font=o.effectFont,n.textAlign=St.Center,n.textBaseline=jt.Top,this._chord.showName&&n.fillText(this._chord.name,e+this.width/2,r+o.effectFont.size/2),r+=this._textRow,e+=s/2,n.font=o.fretboardNumberFont,n.textBaseline=jt.Middle;for(let f=0;f<this._chord.staff.tuning.length;f++){let m=e+f*s,g=r+this._fretRow/2,y=this._chord.strings[this._chord.staff.tuning.length-f-1];y<0?n.fillMusicFontSymbol(m,g,this.scale,R.FretboardX,!0):y===0?n.fillMusicFontSymbol(m,g,this.scale,R.FretboardO,!0):(y-=this._chord.firstFret-1,n.fillText(y.toString(),m,g))}r+=this._fretRow;for(let f=0;f<this._chord.staff.tuning.length;f++){let m=e+f*s;n.fillRect(m,r,1,a*Mi.Frets+this.scale)}this._chord.firstFret>1&&(n.textAlign=St.Left,n.fillText(this._chord.firstFret.toString(),e-this._firstFretSpacing,r+a/2)),n.fillRect(e,r-this.scale,i,2*this.scale);for(let f=0;f<=Mi.Frets;f++){let m=r+f*a;n.fillRect(e,m,i,this.scale)}let h=new Map;for(let f of this._chord.barreFrets){let m=[-1,-1];h.set(f-this._chord.firstFret,m)}for(let f=0;f<this._chord.strings.length;f++){let m=this._chord.strings[f];if(m>0){if(m-=this._chord.firstFret,h.has(m)){let b=h.get(m);(b[0]===-1||f<b[0])&&(b[0]=f),(b[1]===-1||f>b[1])&&(b[1]=f)}let g=r+m*a+a/2+.5*this.scale,y=e+(this._chord.strings.length-f-1)*s;n.fillCircle(y,g,l)}}for(const[f,m]of h){let g=r+f*a+a/2+.5*this.scale,y=e+(this._chord.strings.length-m[1]-1)*s,b=e+(this._chord.strings.length-m[0]-1)*s;n.fillRect(y,g-l,b-y,l*2)}n.textAlign=u,n.textBaseline=c}}Mi.Padding=5;Mi.Frets=5;Mi.CircleRadius=2.5;Mi.StringSpacing=10;Mi.FretSpacing=12;class HF extends fl{constructor(e,r,n=St.Center){super(e,r),this._glyphWidth=0,this.glyphs=[],this._align=n}doLayout(){let e=0;switch(this._align){case St.Left:e=0;break;case St.Center:e=(this.width-this._glyphWidth)/2;break;case St.Right:e=this.width-this._glyphWidth;break}for(let r of this.glyphs)r.x=e,e+=r.width}addGlyphToRow(e){this.glyphs.push(e),this._glyphWidth+=e.width,e.height>this.height&&(this.height=e.height)}}class sp extends fl{constructor(e,r,n=St.Center){super(e,r),this._rows=[],this.height=0,this.glyphs=[],this._align=n}doLayout(){let e=0,r=0,n=2*sp.Padding*this.scale;this._rows=[];let i=new HF(e,r,this._align);i.width=this.width;for(let s of this.glyphs)e+s.width<this.width?(i.addGlyphToRow(s),e+=s.width):(i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),e=0,i=new HF(e,r,this._align),i.width=this.width,i.addGlyphToRow(s),e+=s.width);i.isEmpty||(i.doLayout(),this._rows.push(i),r+=i.height+n),this.height=r+n}paint(e,r,n){for(let i of this._rows)i.paint(e+this.x,r+this.y+sp.Padding*this.scale,n)}}sp.Padding=3;class oxe extends sp{constructor(e,r){super(e,r)}addChord(e){if(e.strings.length>0){let r=new Mi(0,0,e);r.renderer=this.renderer,r.doLayout(),this.glyphs.push(r)}}}class Ji extends pl{constructor(e,r,n,i,s=St.Left){super(e,r),this._lines=n.split(`
`),this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){let i=n.color;n.color=i,n.font=this.font;let s=n.textAlign;n.textAlign=this.textAlign;let a=r+this.y;for(let o of this._lines)n.fillText(o,e+this.x,a),a+=this.font.size;n.textAlign=s}}class lxe{get staveId(){return this._factory.staffId}constructor(e,r,n){this._sharedLayoutData=new Map,this.barRenderers=[],this.x=0,this.y=0,this.height=0,this.index=0,this.staffIndex=0,this.trackIndex=0,this.staveTop=0,this.topSpacing=20,this.bottomSpacing=5,this.staveBottom=0,this.isFirstInAccolade=!1,this.isLastInAccolade=!1,this._factory=n,this.trackIndex=e,this.modelStaff=r}getSharedLayoutData(e,r){return this._sharedLayoutData.has(e)?this._sharedLayoutData.get(e):r}setSharedLayoutData(e,r){this._sharedLayoutData.set(e,r)}get isInAccolade(){return this._factory.isInAccolade}get isRelevantForBoundsLookup(){return this._factory.isRelevantForBoundsLookup}registerStaffTop(e){this.staveTop=e}registerStaffBottom(e){this.staveBottom=e}addBarRenderer(e){e.staff=this,e.index=this.barRenderers.length,e.reLayout(),this.barRenderers.push(e),this.staveGroup.layout.registerBarRenderer(this.staveId,e)}addBar(e,r){let n;e?n=this._factory.create(this.staveGroup.layout.renderer,e):n=new bn(this.staveGroup.layout.renderer,e),n.staff=this,n.index=this.barRenderers.length,n.layoutingInfo=r,n.doLayout(),n.registerLayoutingInfo();const i=n.barDisplayWidth;i>0&&this.staveGroup.layout.systemsLayoutMode==ia.FromModelWithWidths&&(n.width=i),this.barRenderers.push(n),e&&this.staveGroup.layout.registerBarRenderer(this.staveId,n)}revertLastBar(){let e=this.barRenderers[this.barRenderers.length-1];return this.barRenderers.splice(this.barRenderers.length-1,1),this.staveGroup.layout.unregisterBarRenderer(this.staveId,e),e}scaleToWidth(e){this._sharedLayoutData=new Map;let r=this.topOverflow,n=0;switch(this.staveGroup.layout.systemsLayoutMode){case ia.Automatic:let s=(e-this.staveGroup.computedWidth)/this.barRenderers.length;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;let l=o.computedWidth+s;o.scaleToWidth(l),n+=o.width}break;case ia.FromModelWithScale:e-=this.staveGroup.accoladeSpacing;const a=this.staveGroup.totalBarDisplayScale;for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayScale*e/a;o.scaleToWidth(l),n+=o.width}break;case ia.FromModelWithWidths:for(const o of this.barRenderers){o.x=n,o.y=this.topSpacing+r;const l=o.barDisplayWidth;l>0?o.scaleToWidth(l):o.scaleToWidth(o.computedWidth),n+=o.width}break}}get topOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.topOverflow>e&&(e=i.topOverflow)}return e}get bottomOverflow(){let e=0;for(let r=0,n=this.barRenderers.length;r<n;r++){let i=this.barRenderers[r];i.bottomOverflow>e&&(e=i.bottomOverflow)}return e}finalizeStaff(){this.height=0;let e=!1,r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()&&(e=!0);if(e){r=this.topOverflow;for(let n=0;n<this.barRenderers.length;n++)this.barRenderers[n].y=this.topSpacing+r,this.height=Math.max(this.height,this.barRenderers[n].height),this.barRenderers[n].finalizeRenderer()}this.height>0&&(this.height+=this.topSpacing+r+this.bottomOverflow+this.bottomSpacing)}paint(e,r,n,i,s){if(!(this.height===0||s===0))for(let a=i,o=Math.min(i+s,this.barRenderers.length);a<o;a++)this.barRenderers[a].paint(e+this.x,r+this.y,n)}}class UF{constructor(){this.timePosition=0,this.longestDuration=0,this.smallestDuration=0,this.force=0,this.springConstant=0,this.preBeatWidth=0,this.graceBeatWidth=0,this.postSpringWidth=0,this.allDurations=new Set}get springWidth(){return this.preSpringWidth+this.postSpringWidth}get preSpringWidth(){return this.preBeatWidth+this.graceBeatWidth}}class ap{constructor(){this._timeSortedSprings=[],this._xMin=0,this._minTime=-1,this._onTimePositionsForce=0,this._onTimePositions=new Map,this._incompleteGraceRodsWidth=0,this.version=0,this.preBeatSizes=new Map,this.onBeatSizes=new Map,this.onBeatCenterX=new Map,this.preBeatSize=0,this.postBeatSize=0,this.voiceSize=0,this.minStretchForce=0,this.totalSpringConstant=0,this.incompleteGraceRods=new Map,this.allGraceRods=new Map,this.springs=new Map,this.height=0}updateVoiceSize(e){e>this.voiceSize&&(this.voiceSize=e,this.version++)}setPreBeatSize(e,r){(!this.preBeatSizes.has(e.id)||this.preBeatSizes.get(e.id)<r)&&(this.preBeatSizes.set(e.id,r),this.version++)}getPreBeatSize(e){return this.preBeatSizes.has(e.id)?this.preBeatSizes.get(e.id):0}setOnBeatSize(e,r){(!this.onBeatSizes.has(e.id)||this.onBeatSizes.get(e.id)<r)&&(this.onBeatSizes.set(e.id,r),this.version++)}getOnBeatSize(e){return this.onBeatSizes.has(e.id)?this.onBeatSizes.get(e.id):0}getBeatCenterX(e){return this.onBeatCenterX.has(e.id)?this.onBeatCenterX.get(e.id):0}setBeatCenterX(e,r){(!this.onBeatCenterX.has(e.id)||this.onBeatCenterX.get(e.id)<r)&&(this.onBeatCenterX.set(e.id,r),this.version++)}updateMinStretchForce(e){this.minStretchForce<e&&(this.minStretchForce=e)}addSpring(e,r,n,i,s){this.version++;let a;if(this.springs.has(e))a=this.springs.get(e),a.postSpringWidth<s&&(a.postSpringWidth=s),a.graceBeatWidth<n&&(a.graceBeatWidth=n),a.preBeatWidth<i&&(a.preBeatWidth=i),r<a.smallestDuration&&(a.smallestDuration=r),r>a.longestDuration&&(a.longestDuration=r),a.allDurations.add(r);else{if(a=new UF,a.timePosition=e,a.allDurations.add(r),this._timeSortedSprings.length>0){let u=this._timeSortedSprings[this._timeSortedSprings.length-1];for(const c of u.allDurations)u.timePosition+c}a.longestDuration=r,a.postSpringWidth=s,a.graceBeatWidth=n,a.preBeatWidth=i,this.springs.set(e,a);let o=this._timeSortedSprings,l=o.length-1;for(;l>0&&o[l].timePosition>e;)l--;this._timeSortedSprings.splice(l+1,0,a)}return(this._minTime===-1||this._minTime>e)&&(this._minTime=e),a}addBeatSpring(e,r,n){let i=e.absoluteDisplayStart;if(e.graceType!==_t.None){const s=e.graceGroup.id;this.allGraceRods.has(s)||this.allGraceRods.set(s,new Array(e.graceGroup.beats.length)),!e.graceGroup.isComplete&&!this.incompleteGraceRods.has(s)&&this.incompleteGraceRods.set(s,new Array(e.graceGroup.beats.length));let a=this.allGraceRods.get(s)[e.graceIndex];if(a)a.postSpringWidth<n&&(a.postSpringWidth=n),a.preBeatWidth<r&&(a.preBeatWidth=r);else{const o=new UF;o.timePosition=i,o.postSpringWidth=n,o.preBeatWidth=r,e.graceGroup.isComplete||(this.incompleteGraceRods.get(s)[e.graceIndex]=o),this.allGraceRods.get(s)[e.graceIndex]=o}}else{let s=0;if(e.graceGroup&&this.allGraceRods.has(e.graceGroup.id))for(const a of this.allGraceRods.get(e.graceGroup.id))s+=a.springWidth;this.addSpring(i,e.displayDuration,s,r,n)}}finish(){for(const[e,r]of this.allGraceRods){let n=0;if(this.incompleteGraceRods.has(e))for(const i of r)n+=i.preBeatWidth,i.graceBeatWidth=n,n+=i.postSpringWidth;else for(let i=r.length-1;i>=0;i--)r[i].graceBeatWidth=n,n-=r[i].preBeatWidth+r[i].postSpringWidth}this._incompleteGraceRodsWidth=0;for(const e of this.incompleteGraceRods.values())for(const r of e)this._incompleteGraceRodsWidth+=r.preBeatWidth+r.postSpringWidth;this.calculateSpringConstants(),this.version++}calculateSpringConstants(){this._xMin=0;let e=this.springs;for(const i of e.values())i.springWidth<this._xMin&&(this._xMin=i.springWidth);let r=0,n=this._timeSortedSprings;if(n.length===0){this.totalSpringConstant=-1,this.minStretchForce=-1;return}for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.longestDuration;else{let o=n[i+1];a=Math.abs(o.timePosition-s.timePosition)}s.springConstant=this.calculateSpringConstant(s,a),r+=1/s.springConstant}this.totalSpringConstant=1/r,this.minStretchForce=0;for(let i=0;i<n.length;i++){let s=n[i],a=0;if(i===n.length-1)a=s.postSpringWidth;else{let l=n[i+1];a=s.postSpringWidth+l.preSpringWidth}i===0&&(a+=s.preSpringWidth);let o=a*s.springConstant;this.updateMinStretchForce(o)}}paint(e,r,n){}calculateSpringConstant(e,r){r<=0&&(r=zt.toTicks(oe.SixtyFourth)),e.smallestDuration===0&&(e.smallestDuration=r);let n=e.smallestDuration,i=1+.85*Math.log2(r/ap.MinDuration);return n/r*(1/(i*ap.MinDurationWidth))}spaceToForce(e){return this.totalSpringConstant!==-1?(this._timeSortedSprings.length>0&&(e-=this._timeSortedSprings[0].preSpringWidth),e-=this._incompleteGraceRodsWidth,Math.max(e,0)*this.totalSpringConstant):-1}calculateVoiceWidth(e){let r=0;return this.totalSpringConstant!==-1&&(r=this.calculateWidth(e,this.totalSpringConstant)),this._timeSortedSprings.length>0&&(r+=this._timeSortedSprings[0].preSpringWidth),r+=this._incompleteGraceRodsWidth,r}calculateWidth(e,r){return e/r}buildOnTimePositions(e){if(this.totalSpringConstant===-1)return new Map;if(Yr.isAlmostEqualTo(this._onTimePositionsForce,e)&&this._onTimePositions)return this._onTimePositions;this._onTimePositionsForce=e;let r=new Map;this._onTimePositions=r;let n=this._timeSortedSprings;if(n.length===0)return r;let i=n[0].preSpringWidth;for(let s=0;s<n.length;s++)r.set(n[s].timePosition,i),i+=this.calculateWidth(e,n[s].springConstant);return r}}ap.MinDuration=30;ap.MinDurationWidth=7;class uxe{constructor(){this.width=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this.renderers=[]}}class cxe{constructor(e,r){this.staves=[],this.stavesRelevantForBoundsLookup=[],this.firstStaffInAccolade=null,this.lastStaffInAccolade=null,this.staveGroup=e,this.track=r}addStaff(e){this.staves.push(e),e.isRelevantForBoundsLookup&&this.stavesRelevantForBoundsLookup.push(e)}}class ay{constructor(){this._allStaves=[],this._firstStaffInAccolade=null,this._lastStaffInAccolade=null,this._accoladeSpacingCalculated=!1,this.x=0,this.y=0,this.index=0,this.accoladeSpacing=0,this.isFull=!1,this.width=0,this.computedWidth=0,this.totalBarDisplayScale=0,this.isLast=!1,this.masterBarsRenderers=[],this.staves=[]}get firstBarIndex(){return this.masterBarsRenderers[0].masterBar.index}get lastBarIndex(){return this.masterBarsRenderers[this.masterBarsRenderers.length-1].masterBar.index}addMasterBarRenderers(e,r){if(e.length===0)return null;this.masterBarsRenderers.push(r),this.calculateAccoladeSpacing(e),r.layoutingInfo.preBeatSize=0;let n=0;for(let i=0,s=this.staves.length;i<s;i++){let a=this.staves[i];for(let o=0,l=a.staves.length;o<l;o++){let u=a.staves[o],c=r.renderers[n++];u.addBarRenderer(c)}}return this.updateWidthFromLastBar(),r}addBars(e,r){if(e.length===0)return null;let n=new uxe;n.layoutingInfo=new ap,n.masterBar=e[0].score.masterBars[r],this.masterBarsRenderers.push(n),this.calculateAccoladeSpacing(e);let i=n.layoutingInfo;for(let s of this.staves)for(let a of s.staves){let o=s.track.staves[a.modelStaff.index].bars[r];a.addBar(o,i);let l=a.barRenderers[a.barRenderers.length-1];n.renderers.push(l),l.isLinkedToPrevious&&(n.isLinkedToPrevious=!0),l.canWrap||(n.canWrap=!1)}return i.finish(),n.width=this.updateWidthFromLastBar(),n}revertLastBar(){if(this.masterBarsRenderers.length>1){let e=this.masterBarsRenderers[this.masterBarsRenderers.length-1];this.masterBarsRenderers.splice(this.masterBarsRenderers.length-1,1);let r=0,n=0;for(let i=0,s=this._allStaves.length;i<s;i++){let o=this._allStaves[i].revertLastBar();const l=o.computedWidth;l>r&&(r=l);const u=o.barDisplayScale;u>n&&(n=u)}return this.width-=r,this.computedWidth-=r,this.totalBarDisplayScale-=n,e}return null}updateWidthFromLastBar(){let e=0,r=0;for(let n=0,i=this._allStaves.length;n<i;n++){let s=this._allStaves[n];const a=s.barRenderers[s.barRenderers.length-1];a.applyLayoutingInfo(),a.computedWidth>e&&(e=a.computedWidth);const o=a.barDisplayScale;o>r&&(r=o)}return this.width+=e,this.computedWidth+=e,this.totalBarDisplayScale+=r,e}calculateAccoladeSpacing(e){if(!this._accoladeSpacingCalculated&&this.index===0)if(this._accoladeSpacingCalculated=!0,!this.layout.renderer.settings.notation.isNotationElementVisible(Bt.TrackNames))this.accoladeSpacing=0;else{let r=this.layout.renderer.canvas,n=this.layout.renderer.settings.display.resources.effectFont;r.font=n;for(let i of e)this.accoladeSpacing=Math.ceil(Math.max(this.accoladeSpacing,r.measureText(i.shortName)));this.accoladeSpacing*=this.layout.scale,this.accoladeSpacing+=2*ay.AccoladeLabelSpacing*this.layout.scale,this.width+=this.accoladeSpacing,this.computedWidth+=this.accoladeSpacing}}getStaveTrackGroup(e){for(let r=0,n=this.staves.length;r<n;r++){let i=this.staves[r];if(i.track===e)return i}return null}addStaff(e,r){let n=this.getStaveTrackGroup(e);n||(n=new cxe(this,e),this.staves.push(n)),r.staveTrackGroup=n,r.staveGroup=this,r.index=this._allStaves.length,this._allStaves.push(r),n.addStaff(r),r.isInAccolade&&(this._firstStaffInAccolade||(this._firstStaffInAccolade=r,r.isFirstInAccolade=!0),n.firstStaffInAccolade||(n.firstStaffInAccolade=r),this._lastStaffInAccolade||(this._lastStaffInAccolade=r,r.isLastInAccolade=!0),this._lastStaffInAccolade&&(this._lastStaffInAccolade.isLastInAccolade=!1),this._lastStaffInAccolade=r,this._lastStaffInAccolade.isLastInAccolade=!0,n.lastStaffInAccolade=r)}get height(){return this._allStaves[this._allStaves.length-1].y+this._allStaves[this._allStaves.length-1].height}scaleToWidth(e){for(let r=0,n=this._allStaves.length;r<n;r++)this._allStaves[r].scaleToWidth(e);this.width=e}paint(e,r,n){this.paintPartial(e+this.x,r+this.y,n,0,this.masterBarsRenderers.length)}paintPartial(e,r,n,i,s){for(let o=0,l=this._allStaves.length;o<l;o++)this._allStaves[o].paint(e,r,n,i,s);let a=this.layout.renderer.settings.display.resources;if(this.staves.length>0&&i===0){if(n.color=a.barSeparatorColor,this._firstStaffInAccolade&&this._lastStaffInAccolade){let o=r+this._firstStaffInAccolade.y+this._firstStaffInAccolade.staveTop+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow,l=r+this._lastStaffInAccolade.y+this._lastStaffInAccolade.topSpacing+this._lastStaffInAccolade.topOverflow+this._lastStaffInAccolade.staveBottom,u=e+this._firstStaffInAccolade.x;n.beginPath(),n.moveTo(u,o),n.lineTo(u,l),n.stroke()}n.font=a.effectFont;for(let o=0,l=this.staves.length;o<l;o++){let u=this.staves[o];if(u.firstStaffInAccolade&&u.lastStaffInAccolade){let c=r+u.firstStaffInAccolade.y+u.firstStaffInAccolade.staveTop+u.firstStaffInAccolade.topSpacing+u.firstStaffInAccolade.topOverflow,h=r+u.lastStaffInAccolade.y+u.lastStaffInAccolade.topSpacing+u.lastStaffInAccolade.topOverflow+u.lastStaffInAccolade.staveBottom,f=e+u.firstStaffInAccolade.x,m=3*this.layout.renderer.settings.display.scale,g=m,y=c-m*4,b=h+m*4;this.index===0&&this.layout.renderer.settings.notation.isNotationElementVisible(Bt.TrackNames)&&n.fillText(u.track.shortName,e+ay.AccoladeLabelSpacing*this.layout.scale,c),n.fillRect(f-g-m,y,m,b-y);let x=f-g-m,v=f+m*2;n.beginPath(),n.moveTo(x,y),n.bezierCurveTo(x,y,x,y,v,y-m),n.bezierCurveTo(f,y+m,x,y+m,x,y+m),n.closePath(),n.fill(),n.beginPath(),n.moveTo(x,b),n.bezierCurveTo(x,b,f,b,v,b+m),n.bezierCurveTo(f,b-m,x,b-m,x,b-m),n.closePath(),n.fill()}}}}finalizeGroup(){let e=0;for(let r of this._allStaves)r.x=this.accoladeSpacing,r.y=e,r.finalizeStaff(),e+=r.height}buildBoundingsLookup(e,r){if(this.layout.renderer.boundsLookup.isFinished||!this._firstStaffInAccolade||!this._lastStaffInAccolade)return;let n=this._allStaves[this._allStaves.length-1],i=r+this.y+this._firstStaffInAccolade.y,s=r+this.y+this._lastStaffInAccolade.y+this._lastStaffInAccolade.height,a=r+this.y+this._allStaves[0].y,o=r+this.y+n.y+n.height,l=r+this.y+this._firstStaffInAccolade.y+this._firstStaffInAccolade.topSpacing+this._firstStaffInAccolade.topOverflow+(this._firstStaffInAccolade.barRenderers.length>0?this._firstStaffInAccolade.barRenderers[0].topPadding:0),u=r+this.y+n.y+n.height-n.bottomSpacing-n.bottomOverflow-(n.barRenderers.length>0?n.barRenderers[0].bottomPadding:0),c=s-i,h=u-l,f=o-a,m=this.x+this._firstStaffInAccolade.x,g=new qz;g.visualBounds=new Ls,g.visualBounds.x=e,g.visualBounds.y=r+this.y,g.visualBounds.w=this.width,g.visualBounds.h=this.height,g.realBounds=new Ls,g.realBounds.x=e,g.realBounds.y=r+this.y,g.realBounds.w=this.width,g.realBounds.h=this.height,this.layout.renderer.boundsLookup.addStaveGroup(g);let y=new Map;for(let b=0;b<this.staves.length;b++)for(let x of this.staves[b].stavesRelevantForBoundsLookup)for(let v of x.barRenderers){let w;y.has(v.bar.masterBar.index)?w=y.get(v.bar.masterBar.index):(w=new Xz,w.index=v.bar.masterBar.index,w.isFirstOfLine=v.isFirstOfLine,w.realBounds=new Ls,w.realBounds.x=m+v.x,w.realBounds.y=a,w.realBounds.w=v.width,w.realBounds.h=f,w.visualBounds=new Ls,w.visualBounds.x=m+v.x,w.visualBounds.y=i,w.visualBounds.w=v.width,w.visualBounds.h=c,w.lineAlignedBounds=new Ls,w.lineAlignedBounds.x=m+v.x,w.lineAlignedBounds.y=l,w.lineAlignedBounds.w=v.width,w.lineAlignedBounds.h=h,this.layout.renderer.boundsLookup.addMasterBar(w),y.set(w.index,w)),v.buildBoundingsLookup(w,m,r+this.y+x.y)}}getBarX(e){if(!this._firstStaffInAccolade||this.layout.renderer.tracks.length===0)return 0;let r=this.layout.renderer.tracks[0].staves[0].bars[e];return this.layout.getRendererForBar(this._firstStaffInAccolade.staveId,r).x}}ay.AccoladeLabelSpacing=10;class z1 extends fl{constructor(e,r,n,i){super(e,r),this._tuning=n,this._trackLabel=i,this.glyphs=[]}doLayout(){if(!(this.glyphs.length>0)){this.createGlyphs(this._tuning);for(const e of this.glyphs)e.renderer=this.renderer,e.doLayout()}}createGlyphs(e){const r=this.renderer.scale,n=this.renderer.resources;this.height=0;const i=15*r;this._trackLabel.length>0&&(this.addGlyph(new Ji(0,this.height,this._trackLabel,n.effectFont,St.Left)),this.height+=i),this.addGlyph(new Ji(0,this.height,e.name,n.effectFont,St.Left));const s=64*r;if(this.renderer.scoreRenderer.canvas.font=n.effectFont,this.width=Math.max(this.renderer.scoreRenderer.canvas.measureText(this._trackLabel)*r,Math.max(this.renderer.scoreRenderer.canvas.measureText(e.name)*r,2*s)),this.height+=i,!e.isStandard){const o=z1.CircleNumberHeight*.7*r;let l=Math.ceil(e.tunings.length/2)|0,u=0,c=this.height;for(let h=0,f=e.tunings.length;h<f;h++){const m=R.GuitarString0+(h+1);this.addGlyph(new En(u,c+o/1.2,.7,m));const g="= "+ze.getTextForTuning(e.tunings[h],!1);this.addGlyph(new Ji(u+o+1*r,c,g,n.effectFont,St.Left)),c+=i,h===l-1&&(c=this.height,u+=s)}this.height+=l*i}this.width+=15*r}}z1.CircleNumberHeight=20;class dxe extends sp{constructor(e,r){super(e,r,St.Left)}addTuning(e,r){if(e.tunings.length>0){let n=new z1(0,0,e,r);n.renderer=this.renderer,n.doLayout(),this.glyphs.push(n)}}}class hxe{constructor(e,r){this.args=e,this.renderCallback=r}}var ia;(function(t){t[t.Automatic=0]="Automatic",t[t.FromModelWithScale=1]="FromModelWithScale",t[t.FromModelWithWidths=2]="FromModelWithWidths"})(ia||(ia={}));class tW{constructor(e){this._barRendererLookup=new Map,this.width=0,this.height=0,this.scoreInfoGlyphs=new Map,this.chordDiagrams=null,this.tuningGlyph=null,this.systemsLayoutMode=ia.Automatic,this._lazyPartials=new Map,this.firstBarIndex=0,this.lastBarIndex=0,this.renderer=e}resize(){this._lazyPartials.clear(),this.doResize()}layoutAndRender(){this._lazyPartials.clear();let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r)),this.firstBarIndex=r;let n=this.renderer.settings.display.barCount;n<0&&(n=e.masterBars.length),n=r+n-1,n=Math.min(e.masterBars.length-1,Math.max(0,n)),this.lastBarIndex=n,this.createScoreInfoGlyphs(),this.doLayoutAndRender()}registerPartial(e,r){this.renderer.settings.core.enableLazyLoading?(this._lazyPartials.set(e.id,new hxe(e,r)),this.renderer.partialLayoutFinished.trigger(e)):(this.renderer.partialLayoutFinished.trigger(e),this.internalRenderLazyPartial(e,r))}internalRenderLazyPartial(e,r){const n=this.renderer.canvas;n.beginRender(e.width,e.height),r(n),e.renderResult=n.endRender(),this.renderer.partialRenderFinished.trigger(e)}renderLazyPartial(e){if(this._lazyPartials.has(e)){const r=this._lazyPartials.get(e);this.internalRenderLazyPartial(r.args,r.renderCallback)}}createScoreInfoGlyphs(){Fe.debug("ScoreLayout","Creating score info glyphs");let e=this.renderer.settings.notation,r=this.renderer.score,n=this.renderer.settings.display.resources;this.scoreInfoGlyphs=new Map,r.title&&e.isNotationElementVisible(Bt.ScoreTitle)&&this.scoreInfoGlyphs.set(Bt.ScoreTitle,new Ji(0,0,r.title,n.titleFont,St.Center)),r.subTitle&&e.isNotationElementVisible(Bt.ScoreSubTitle)&&this.scoreInfoGlyphs.set(Bt.ScoreSubTitle,new Ji(0,0,r.subTitle,n.subTitleFont,St.Center)),r.artist&&e.isNotationElementVisible(Bt.ScoreArtist)&&this.scoreInfoGlyphs.set(Bt.ScoreArtist,new Ji(0,0,r.artist,n.subTitleFont,St.Center)),r.album&&e.isNotationElementVisible(Bt.ScoreAlbum)&&this.scoreInfoGlyphs.set(Bt.ScoreAlbum,new Ji(0,0,r.album,n.subTitleFont,St.Center)),r.music&&r.music===r.words&&e.isNotationElementVisible(Bt.ScoreWordsAndMusic)?this.scoreInfoGlyphs.set(Bt.ScoreWordsAndMusic,new Ji(0,0,"Music and Words by "+r.words,n.wordsFont,St.Center)):(r.music&&e.isNotationElementVisible(Bt.ScoreMusic)&&this.scoreInfoGlyphs.set(Bt.ScoreMusic,new Ji(0,0,"Music by "+r.music,n.wordsFont,St.Right)),r.words&&e.isNotationElementVisible(Bt.ScoreWords)&&this.scoreInfoGlyphs.set(Bt.ScoreWords,new Ji(0,0,"Words by "+r.words,n.wordsFont,St.Left)));const i=new bn(this.renderer,this.renderer.tracks[0].staves[0].bars[0]);if(e.isNotationElementVisible(Bt.GuitarTuning)){let s=[];for(let a of this.renderer.tracks)for(let o of a.staves)if(!o.isPercussion&&o.isStringed&&o.tuning.length>0&&o.showTablature){s.push(o);break}if(s.length>0){this.tuningGlyph=new dxe(0,0),this.tuningGlyph.renderer=i;for(const a of s)this.tuningGlyph.addTuning(a.stringTuning,s.length>1?a.track.name:"")}}if(e.isNotationElementVisible(Bt.ChordDiagrams)){this.chordDiagrams=new oxe(0,0),this.chordDiagrams.renderer=i;let s=new Set;for(let a of this.renderer.tracks)for(let o of a.staves){const l=o.chords;if(l)for(const[,u]of l)s.has(u.uniqueId)||u.showDiagram&&(s.add(u.uniqueId),this.chordDiagrams.addChord(u))}}}get scale(){return this.renderer.settings.display.scale}createEmptyStaveGroup(){let e=new ay;e.layout=this;for(let r=0;r<this.renderer.tracks.length;r++){let n=this.renderer.tracks[r],i=!1;for(let s of n.staves)if(s.showStandardNotation){i=!0;break}for(let s=0;s<n.staves.length;s++){let a=n.staves[s],o;if(a.isPercussion)o=Zs.Score;else if(this.renderer.settings.display.staveProfile!==Zs.Default)o=this.renderer.settings.display.staveProfile;else if(a.showTablature&&a.showStandardNotation)o=Zs.ScoreTab;else if(a.showTablature)o=i?Zs.TabMixed:Zs.Tab;else if(a.showStandardNotation)o=Zs.Score;else continue;let l=Ue.staveProfiles.get(o);for(let u of l)u.canCreate(n,a)&&e.addStaff(n,new lxe(r,a,u))}}return e}registerBarRenderer(e,r){this._barRendererLookup.has(e)||this._barRendererLookup.set(e,new Map),this._barRendererLookup.get(e).set(r.bar.id,r)}unregisterBarRenderer(e,r){this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).delete(r.bar.id)}getRendererForBar(e,r){let n=r.id;return this._barRendererLookup.has(e)&&this._barRendererLookup.get(e).has(n)?this._barRendererLookup.get(e).get(n):null}layoutAndRenderAnnotation(e){let r="rendered by alphaTab",n=this.renderer.settings.display.resources,i=12*this.renderer.settings.display.scale,s=Math.floor(i*2);const a=new Ld,o=dr.withFamilyList(n.copyrightFont.families,i,vn.Plain,ea.Bold);this.renderer.canvas.font=o;const l=Ue.getLayoutEngineFactory(this.renderer.settings.display.layoutMode).vertical;return a.width=this.renderer.canvas.measureText(r),a.height=s,a.x=l?(this.width-a.width)/2:this.firstBarX,a.y=e,a.totalWidth=this.width,a.totalHeight=e+s,a.firstMasterBarIndex=-1,a.lastMasterBarIndex=-1,this.registerPartial(a,u=>{u.color=n.mainGlyphColor,u.font=o,u.textAlign=St.Left,u.fillText(r,0,i)}),e+s}}var pt;(function(t){t[t.TopWithStem=0]="TopWithStem",t[t.Top=1]="Top",t[t.Center=2]="Center",t[t.Bottom=3]="Bottom",t[t.BottomWithStem=4]="BottomWithStem"})(pt||(pt={}));var Nn;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(Nn||(Nn={}));class bn{get nextRenderer(){return!this.bar||!this.bar.nextBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.nextBar)}get previousRenderer(){return!this.bar||!this.bar.previousBar?null:this.scoreRenderer.layout.getRendererForBar(this.staff.staveId,this.bar.previousBar)}constructor(e,r){this._preBeatGlyphs=new _g,this._voiceContainers=new Map,this._postBeatGlyphs=new _g,this._ties=[],this.x=0,this.y=0,this.width=0,this.computedWidth=0,this.height=0,this.index=0,this.topOverflow=0,this.bottomOverflow=0,this.isLinkedToPrevious=!1,this.canWrap=!0,this._wasFirstOfLine=!1,this._appliedLayoutingInfo=0,this.isFinalized=!1,this.topPadding=0,this.bottomPadding=0,this.scoreRenderer=e,this.bar=r,r&&(this.helpers=new axe(this))}registerTies(e){this._ties.push(...e)}get middleYPosition(){return 0}registerOverflowTop(e){return e>this.topOverflow?(this.topOverflow=e,!0):!1}registerOverflowBottom(e){return e>this.bottomOverflow?(this.bottomOverflow=e,!0):!1}scaleToWidth(e){let r=e-this._preBeatGlyphs.width-this._postBeatGlyphs.width;for(const n of this._voiceContainers.values())n.scaleToWidth(r);this._postBeatGlyphs.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width+r,this.width=e}get resources(){return this.settings.display.resources}get settings(){return this.scoreRenderer.settings}get scale(){return this.settings.display.scale}get barDisplayScale(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayScale:this.bar.displayScale}get barDisplayWidth(){return this.staff.staveGroup.staves.length>1?this.bar.masterBar.displayWidth:this.bar.displayWidth}get isFirstOfLine(){return this.index===0}get isLast(){return!this.bar||this.bar.index===this.scoreRenderer.layout.lastBarIndex}registerLayoutingInfo(){let e=this.layoutingInfo,r=this._preBeatGlyphs.width;e.preBeatSize<r&&(e.preBeatSize=r);for(const i of this._voiceContainers.values())i.registerLayoutingInfo(e),i.x+i.width;let n=this._postBeatGlyphs.width;e.postBeatSize<n&&(e.postBeatSize=n)}applyLayoutingInfo(){if(this._appliedLayoutingInfo>=this.layoutingInfo.version)return!1;this._appliedLayoutingInfo=this.layoutingInfo.version,this._preBeatGlyphs.width=this.layoutingInfo.preBeatSize;let e=this._preBeatGlyphs.x+this._preBeatGlyphs.width;for(const n of this._voiceContainers.values()){n.x=this._preBeatGlyphs.x+this._preBeatGlyphs.width,n.applyLayoutingInfo(this.layoutingInfo);let i=n.x+n.width;e<i&&(e=i)}this._postBeatGlyphs.x=Math.floor(e),this._postBeatGlyphs.width=this.layoutingInfo.postBeatSize,this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.computedWidth=this.width;const r=this.barDisplayWidth;return r>0&&this.scoreRenderer.layout.systemsLayoutMode==ia.FromModelWithWidths&&(this.width=r,this.computedWidth=r),!0}finalizeRenderer(){this.isFinalized=!0;let e=!1;const r=this.y-this.staff.topSpacing,n=this.y+this.height+this.staff.bottomSpacing;for(const i of this._ties)if(i.doLayout(),i.height>0){const s=i.y+i.height-n;s>0&&this.registerOverflowBottom(s)&&(e=!0);const a=i.y-r;a<0&&this.registerOverflowTop(a*-1)&&(e=!0)}return e}doLayout(){if(this.bar){this.helpers.initialize(),this._ties=[],this._preBeatGlyphs=new _g,this._preBeatGlyphs.renderer=this,this._voiceContainers.clear(),this._postBeatGlyphs=new _g,this._postBeatGlyphs.renderer=this;for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];if(this.hasVoiceContainer(r)){let n=new eW(0,0,r);n.renderer=this,this._voiceContainers.set(this.bar.voices[e].index,n)}}this.bar.simileMark===Da.SecondOfDouble&&(this.canWrap=!1),this.createPreBeatGlyphs(),this.createBeatGlyphs(),this.createPostBeatGlyphs(),this.updateSizes();for(const e of this.helpers.beamHelpers)for(const r of e)r.finish();this.computedWidth=this.width}}hasVoiceContainer(e){return!e.isEmpty||e.index===0}updateSizes(){this.staff.registerStaffTop(this.topPadding),this.staff.registerStaffBottom(this.height-this.bottomPadding);let e=this._voiceContainers,r=this.beatGlyphsStart,n=r;for(const i of e.values()){i.x=r,i.doLayout();let s=i.x+i.width;n<s&&(n=s)}this._postBeatGlyphs.x=Math.floor(n),this.width=Math.ceil(this._postBeatGlyphs.x+this._postBeatGlyphs.width),this.height+=this.layoutingInfo.height*this.scale}addPreBeatGlyph(e){e.renderer=this,this._preBeatGlyphs.addGlyph(e)}addBeatGlyph(e){e.renderer=this,e.preNotes.renderer=this,e.onNotes.renderer=this,e.onNotes.beamingHelper=this.helpers.beamHelperLookup[e.beat.voice.index].get(e.beat.index),this.getVoiceContainer(e.beat.voice).addGlyph(e)}getVoiceContainer(e){return this._voiceContainers.has(e.index)?this._voiceContainers.get(e.index):void 0}getBeatContainer(e){var r,n;return(n=(r=this.getVoiceContainer(e.voice))==null?void 0:r.beatGlyphs)==null?void 0:n[e.index]}getPreNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.preNotes}getOnNotesGlyphForBeat(e){var r;return(r=this.getBeatContainer(e))==null?void 0:r.onNotes}paint(e,r,n){this.paintBackground(e,r,n),n.color=this.resources.mainGlyphColor,this._preBeatGlyphs.paint(e+this.x,r+this.y,n);for(const i of this._voiceContainers.values())n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.paint(e+this.x,r+this.y,n);n.color=this.resources.mainGlyphColor,this._postBeatGlyphs.paint(e+this.x,r+this.y,n)}paintBackground(e,r,n){this.layoutingInfo.paint(e+this.x+this._preBeatGlyphs.x+this._preBeatGlyphs.width,r+this.y+this.height,n)}buildBoundingsLookup(e,r,n){let i=new jz;i.bar=this.bar,i.visualBounds=new Ls,i.visualBounds.x=r+this.x,i.visualBounds.y=n+this.y+this.topPadding,i.visualBounds.w=this.width,i.visualBounds.h=this.height-this.topPadding-this.bottomPadding,i.realBounds=new Ls,i.realBounds.x=r+this.x,i.realBounds.y=n+this.y,i.realBounds.w=this.width,i.realBounds.h=this.height,e.addBar(i);for(const[s,a]of this._voiceContainers){let o=this.bar.isEmpty&&s===0;if(!a.voice.isEmpty||o)for(let l=0,u=a.beatGlyphs.length;l<u;l++)a.beatGlyphs[l].buildBoundingsLookup(i,r+this.x+a.x,n+this.y+a.y,o)}}addPostBeatGlyph(e){this._postBeatGlyphs.addGlyph(e)}createPreBeatGlyphs(){this._wasFirstOfLine=this.isFirstOfLine}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(this.bar.voices[e])}}createVoiceGlyphs(e){}createPostBeatGlyphs(){}get beatGlyphsStart(){return this._preBeatGlyphs.x+this._preBeatGlyphs.width}get postBeatGlyphsStart(){return this._postBeatGlyphs.x}getBeatX(e,r=Zt.PreNotes){let n=this.getBeatContainer(e);if(n)switch(r){case Zt.PreNotes:return n.voiceContainer.x+n.x;case Zt.OnNotes:return n.voiceContainer.x+n.x+n.onNotes.x;case Zt.MiddleNotes:return n.voiceContainer.x+n.x+n.onTimeX;case Zt.Stem:const i=n.onNotes.beamingHelper?n.onNotes.beamingHelper.getBeatLineX(e):n.onNotes.x+n.onNotes.width/2;return n.voiceContainer.x+i;case Zt.PostNotes:return n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.width;case Zt.EndBeat:return n.voiceContainer.x+n.x+n.width}return 0}getNoteX(e,r){let n=this.getBeatContainer(e.beat);return n?n.voiceContainer.x+n.x+n.onNotes.x+n.onNotes.getNoteX(e,r):0}getNoteY(e,r){let n=this.getOnNotesGlyphForBeat(e.beat);return n?n.getNoteY(e,r):NaN}reLayout(){(this._wasFirstOfLine&&!this.isFirstOfLine||!this._wasFirstOfLine&&this.isFirstOfLine)&&(this._preBeatGlyphs=new _g,this._preBeatGlyphs.renderer=this,this.createPreBeatGlyphs()),this.updateSizes(),this.registerLayoutingInfo()}paintSimileMark(e,r,n){switch(this.bar.simileMark){case Da.Simple:n.fillMusicFontSymbol(e+this.x+(this.width-20*this.scale)/2,r+this.y+this.height/2,1,R.Repeat1Bar,!1);break;case Da.SecondOfDouble:n.fillMusicFontSymbol(e+this.x-28*this.scale/2,r+this.y+this.height/2,1,R.Repeat2Bars,!1);break}}completeBeamingHelper(e){}}bn.LineSpacing=8;bn.StemWidth=.12*bn.LineSpacing;bn.StaffLineThickness=.13*bn.LineSpacing;bn.BeamThickness=.5*bn.LineSpacing;bn.BeamSpacing=.25*bn.LineSpacing;var lr;(function(t){t[t.SinglePreBeat=0]="SinglePreBeat",t[t.SingleOnBeat=1]="SingleOnBeat",t[t.SingleOnBeatToEnd=2]="SingleOnBeatToEnd",t[t.GroupedOnBeat=3]="GroupedOnBeat",t[t.GroupedOnBeatToEnd=4]="GroupedOnBeatToEnd",t[t.FullBar=5]="FullBar"})(lr||(lr={}));class fxe extends In{constructor(e,r){super(0,0),this._uniqueEffectGlyphs=[],this._effectGlyphs=[],this.isEmpty=!0,this.previousBand=null,this.isLinkedToPrevious=!1,this.firstBeat=null,this.lastBeat=null,this.height=0,this.slot=null,this.voice=e,this.info=r}doLayout(){super.doLayout();for(let e=0;e<this.renderer.bar.voices.length;e++)this._effectGlyphs.push(new Map),this._uniqueEffectGlyphs.push([])}createGlyph(e){if(e.voice===this.voice&&this.info.shouldCreateGlyph(this.renderer.settings,e)&&(!this.info.hideOnMultiTrack||this.renderer.staff.trackIndex===0)){if(this.isEmpty=!1,(!this.firstBeat||e.isBefore(this.firstBeat))&&(this.firstBeat=e),!this.lastBeat||e.isAfter(this.lastBeat))switch(this.lastBeat=e,this.info.sizingMode){case lr.SingleOnBeatToEnd:case lr.GroupedOnBeatToEnd:this.lastBeat.nextBeat&&(this.lastBeat=this.lastBeat.nextBeat);break}let r=this.createOrResizeGlyph(this.info.sizingMode,e);r.height>this.height&&(this.height=r.height)}}createOrResizeGlyph(e,r){let n;switch(e){case lr.FullBar:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case lr.SinglePreBeat:case lr.SingleOnBeat:case lr.SingleOnBeatToEnd:return n=this.info.createNewGlyph(this.renderer,r),n.renderer=this.renderer,n.beat=r,n.doLayout(),this._effectGlyphs[r.voice.index].set(r.index,n),this._uniqueEffectGlyphs[r.voice.index].push(n),n;case lr.GroupedOnBeat:case lr.GroupedOnBeatToEnd:let i=e===lr.GroupedOnBeat?lr.SingleOnBeat:lr.SingleOnBeatToEnd;if(r.index>0||this.renderer.index>0){let s=r.previousBeat;if(this.info.shouldCreateGlyph(this.renderer.settings,s)){let a=null;if(r.index>0&&this._effectGlyphs[r.voice.index].has(s.index))a=this._effectGlyphs[r.voice.index].get(s.index);else if(this.renderer.index>0){let u=this.renderer.previousRenderer.getBand(s.voice,this.info.effectId);if(u){let c=u._effectGlyphs[s.voice.index];c.has(s.index)&&(a=c.get(s.index))}}let o=this.createOrResizeGlyph(i,r);return a&&this.info.canExpand(s,r)&&(a.nextGlyph=o,o.previousGlyph=a,this.isLinkedToPrevious=!0),o}return this.createOrResizeGlyph(i,r)}return this.createOrResizeGlyph(i,r);default:return this.createOrResizeGlyph(lr.SingleOnBeat,r)}}paint(e,r,n){super.paint(e,r,n);for(let i=0,s=this._uniqueEffectGlyphs.length;i<s;i++){let a=this._uniqueEffectGlyphs[i];for(let o=0,l=a.length;o<l;o++)a[o].paint(e+this.x,r+this.y,n)}}alignGlyphs(){for(let e=0;e<this._effectGlyphs.length;e++)for(const r of this._effectGlyphs[e].keys())this.alignGlyph(this.info.sizingMode,this.renderer.bar.voices[e].beats[r])}alignGlyph(e,r){let n=this._effectGlyphs[r.voice.index].get(r.index),i,s=this.renderer.getBeatContainer(r);switch(e){case lr.SinglePreBeat:i=s.preNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case lr.SingleOnBeat:case lr.GroupedOnBeat:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,n.width=i.width;break;case lr.SingleOnBeatToEnd:case lr.GroupedOnBeatToEnd:i=s.onNotes,n.x=this.renderer.beatGlyphsStart+i.x+s.x,s.beat.isLastOfVoice?n.width=this.renderer.width-n.x:n.width=s.width-s.preNotes.width-s.preNotes.x;break;case lr.FullBar:n.width=this.renderer.width;break}}}class pxe{constructor(){this.uniqueEffectId=null,this.y=0,this.height=0,this.firstBeat=null,this.lastBeat=null}}class gxe{constructor(){this.bands=[],this.shared=new pxe}update(e){e.info.canShareBand||(this.shared.uniqueEffectId=e.info.effectId),e.slot=this,this.bands.push(e),e.height>this.shared.height&&(this.shared.height=e.height),(!this.shared.firstBeat||e.firstBeat.isBefore(this.shared.firstBeat))&&(this.shared.firstBeat=e.firstBeat),(!this.shared.lastBeat||e.lastBeat.isAfter(this.shared.lastBeat))&&(this.shared.lastBeat=e.lastBeat)}canBeUsed(e){return(!this.shared.uniqueEffectId&&e.info.canShareBand||e.info.effectId===this.shared.uniqueEffectId)&&(!this.shared.firstBeat||this.shared.lastBeat.isBefore(e.firstBeat)||this.shared.lastBeat.isBefore(this.shared.firstBeat))}}class mxe{constructor(){this.slots=[],this._effectSlot=new Map}getOrCreateSlot(e){if(this._effectSlot.has(e.info.effectId)){let n=this._effectSlot.get(e.info.effectId);if(n.canBeUsed(e))return n}for(let n of this.slots)if(n.canBeUsed(e))return n;let r=new gxe;return this.slots.push(r),r}register(e){let r=this.getOrCreateSlot(e);r.update(e),this._effectSlot.set(e.info.effectId,r)}}class W1 extends fl{constructor(){super(0,0),this.computedWidth=0}doLayout(){let e=0;if(this.glyphs)for(let r=0,n=this.glyphs.length;r<n;r++){let i=this.glyphs[r];i.x=e,i.renderer=this.renderer,i.doLayout(),e+=i.width}this.width=e,this.computedWidth=e}noteLoop(e){for(let r=this.container.beat.notes.length-1;r>=0;r--)e(this.container.beat.notes[r])}}class ZM extends W1{constructor(){super(...arguments),this.centerX=0}updateBeamingHelper(){}buildBoundingsLookup(e,r,n){}getNoteX(e,r){return 0}getNoteY(e,r){return 0}}class yxe extends bn{constructor(e,r,n){super(e,r),this._bands=[],this._bandLookup=new Map,this.sizingInfo=null,this._infos=n}updateSizes(){this.topOverflow=0,this.bottomOverflow=0,this.topPadding=0,this.bottomPadding=0,this.updateHeight(),super.updateSizes()}finalizeRenderer(){let e=super.finalizeRenderer();return this.updateHeight()&&(e=!0),e}updateHeight(){if(!this.sizingInfo)return!1;let e=0;for(let r of this.sizingInfo.slots){r.shared.y=e;for(let n of r.bands)n.y=e,n.height=r.shared.height;e+=r.shared.height}return e!==this.height?(this.height=e,!0):!1}applyLayoutingInfo(){if(!super.applyLayoutingInfo())return!1;if(this.index>0){let e=this.previousRenderer;this.sizingInfo=e.sizingInfo}else this.sizingInfo=new mxe;for(let e of this._bands)e.alignGlyphs(),e.isEmpty||this.sizingInfo.register(e);return this.updateHeight(),!0}scaleToWidth(e){super.scaleToWidth(e);for(let r of this._bands)r.alignGlyphs()}createBeatGlyphs(){this._bands=[],this._bandLookup=new Map;for(let e of this.bar.voices)if(this.hasVoiceContainer(e))for(let r of this._infos){let n=new fxe(e,r);n.renderer=this,n.doLayout(),this._bands.push(n),this._bandLookup.set(e.index+"."+r.effectId,n)}for(let e of this.bar.voices)this.hasVoiceContainer(e)&&this.createVoiceGlyphs(e);for(let e of this._bands)e.isLinkedToPrevious&&(this.isLinkedToPrevious=!0)}createVoiceGlyphs(e){for(let r of e.beats){let n=new rl(r,this.getVoiceContainer(e));n.preNotes=new W1,n.onNotes=new ZM,this.addBeatGlyph(n);for(let i of this._bands)i.createGlyph(r)}}paint(e,r,n){this.paintBackground(e,r,n);for(let i of this._bands)n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isEmpty||i.paint(e+this.x,r+this.y,n)}getBand(e,r){let n=e.index+"."+r;return this._bandLookup.has(n)?this._bandLookup.get(n):null}}class lc extends JM{get staffId(){return this._staffId}constructor(e,r){super(),this._infos=r,this._staffId=e,this.isInAccolade=!1,this.isRelevantForBoundsLookup=!1}create(e,r){return new yxe(e,r,this._infos.filter(n=>e.settings.notation.isNotationElementVisible(n.notationElement)))}}class oy extends pl{constructor(e,r,n){super(e,r),this._endingsString="",this._endings=[];for(let i=0;i<Ru.MaxAlternateEndings;i++)n&1<<i&&this._endings.push(i)}doLayout(){super.doLayout(),this.height=this.renderer.resources.wordsFont.size+(oy.Padding*this.scale+2);let e="";for(let r=0,n=this._endings.length;r<n;r++)e+=this._endings[r]+1,e+=". ";this._endingsString=e}paint(e,r,n){super.paint(e,r,n);let i=n.textBaseline;if(n.textBaseline=jt.Top,this._endings.length>0){let s=this.renderer.resources;n.font=s.wordsFont,n.moveTo(e+this.x,r+this.y+this.height),n.lineTo(e+this.x,r+this.y),n.lineTo(e+this.x+this.width,r+this.y),n.stroke(),n.fillText(this._endingsString,e+this.x+oy.Padding*this.scale,r+this.y*this.scale)}n.textBaseline=i}}oy.Padding=3;class Ti{get effectId(){return this.notationElement.toString()}}class D_ extends Ti{get notationElement(){return Bt.EffectAlternateEndings}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return lr.FullBar}shouldCreateGlyph(e,r){return r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.alternateEndings!==0}createNewGlyph(e,r){return new oy(0,0,r.voice.bar.masterBar.alternateEndings)}canExpand(e,r){return!0}}class GF extends Ti{get notationElement(){return Bt.EffectCapo}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.index===0&&r.voice.bar.index===0&&r.voice.bar.staff.capo!==0}createNewGlyph(e,r){return new Ji(0,0,"Capo. fret "+r.voice.bar.staff.capo,e.resources.effectFont,St.Left)}canExpand(e,r){return!1}}class I_ extends Ti{get notationElement(){return Bt.EffectChordNames}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.hasChord}createNewGlyph(e,r){return new Ji(0,0,r.chord.name,e.resources.effectFont,St.Center)}canExpand(e,r){return!1}}class Zy extends pl{constructor(e){super(),this.forceGroupedRendering=!1,this.endOnBarLine=!1,this.endPosition=e}get isLinkedWithPrevious(){return!!this.previousGlyph&&this.previousGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}get isLinkedWithNext(){return!!this.nextGlyph&&this.nextGlyph.renderer.isFinalized&&this.nextGlyph.renderer.staff.staveGroup===this.renderer.staff.staveGroup}paint(e,r,n){if(this.isLinkedWithPrevious)return;if(!this.isLinkedWithNext&&!this.forceGroupedRendering){this.paintNonGrouped(e,r,n);return}let i;if(!this.isLinkedWithNext&&this.forceGroupedRendering)i=this;else for(i=this.nextGlyph;i.isLinkedWithNext;)i=i.nextGlyph;let s=i.renderer,a=i.beat,o=this.endPosition,l=e-this.renderer.x,u=this.calculateEndX(s,a,l,o);this.paintGrouped(e,r,u,n)}calculateEndX(e,r,n,i){return r?n+e.x+e.getBeatX(r,i):n+e.x+this.x+this.width}paintNonGrouped(e,r,n){let i=e-this.renderer.x,s=this.calculateEndX(this.renderer,this.beat,i,this.endPosition);this.paintGrouped(e,r,s,n)}}class ly extends Zy{constructor(e,r,n){super(Zt.EndBeat),this._crescendo=Os.None,this._crescendo=n,this.x=e,this.y=r}doLayout(){super.doLayout(),this.height=17*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=this.height*this.scale;i.beginPath(),this._crescendo===Os.Crescendo?(n-=ly.Padding*this.scale,i.moveTo(n,r+this.y),i.lineTo(s,r+this.y+a/2),i.lineTo(n,r+this.y+a)):(n-=ly.Padding*this.scale,i.moveTo(s,r+this.y),i.lineTo(n,r+this.y+a/2),i.lineTo(s,r+this.y+a)),i.stroke()}}ly.Padding=Xt.QuarterNoteHeadWidth/2|0;class jF extends Ti{get notationElement(){return Bt.EffectCrescendo}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.crescendo!==Os.None}createNewGlyph(e,r){return new ly(0,0,r.crescendo)}canExpand(e,r){return e.crescendo===r.crescendo}}class eN extends En{constructor(e,r,n){super(e,r,.6,eN.getSymbol(n))}doLayout(){super.doLayout(),this.height=17*this.scale,this.y+=this.height/2}static getSymbol(e){switch(e){case Kt.PPP:return R.DynamicPPP;case Kt.PP:return R.DynamicPP;case Kt.P:return R.DynamicPiano;case Kt.MP:return R.DynamicMP;case Kt.MF:return R.DynamicMF;case Kt.F:return R.DynamicForte;case Kt.FF:return R.DynamicFF;case Kt.FFF:return R.DynamicFFF;default:return R.None}}}class YF extends Ti{get notationElement(){return Bt.EffectDynamics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return this.internalShouldCreateGlyph(r)}internalShouldCreateGlyph(e){if(e.voice.bar.staff.track.score.stylesheet.hideDynamics||e.isEmpty||e.voice.isEmpty||e.isRest||e.graceType!==_t.None)return!1;let r=this.getPreviousDynamicsBeat(e),n=e.voice.index===0&&!r||e.dynamics!==(r==null?void 0:r.dynamics);if(n&&e.voice.index>0){for(let i of e.voice.bar.voices)if(i.index<e.voice.index){let s=i.getBeatAtPlaybackStart(e.playbackStart);s&&e.dynamics===s.dynamics&&this.internalShouldCreateGlyph(s)&&(n=!1)}}return n}getPreviousDynamicsBeat(e){let r=e.previousBeat;for(;r!=null;){if(!r.isRest&&r.graceType===_t.None)return r;r=r.previousBeat}return null}createNewGlyph(e,r){return new eN(0,0,r.dynamics)}canExpand(e,r){return!0}}class bxe extends pl{doLayout(){super.doLayout(),this.height=17*this.scale}paint(e,r,n){let i=6*this.scale,s=Math.max(this.width,14*this.scale),a=this.height/2;n.beginPath(),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a-i),n.moveTo(e+this.x,r+this.y+a),n.quadraticCurveTo(e+this.x+s/2,r+this.y+a,e+this.x+s,r+this.y+a+i),n.stroke()}}class L_ extends Ti{get notationElement(){return Bt.EffectFadeIn}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.fadeIn}createNewGlyph(e,r){return new bxe}canExpand(e,r){return!0}}class tN extends En{constructor(e,r,n){super(e,r,1,tN.getSymbol(n))}static getSymbol(e){switch(e){case ol.Short:return R.FermataShortAbove;case ol.Medium:return R.FermataAbove;case ol.Long:return R.FermataLongAbove;default:return R.None}}doLayout(){this.width=23*this.scale,this.height=12*this.scale}paint(e,r,n){super.paint(e-this.width/2,r+this.height,n)}}class F_ extends Ti{get notationElement(){return Bt.EffectFermata}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index===0&&!!r.fermata}createNewGlyph(e,r){return new tN(0,0,r.fermata.type)}canExpand(e,r){return!0}}class XF extends Ti{get notationElement(){return Bt.EffectFingering}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.voice.index!==0||r.isRest||e.notation.fingeringMode!==hl.SingleNoteEffectBand&&e.notation.fingeringMode!==hl.SingleNoteEffectBandForcePiano||r.notes.length!==1?!1:r.notes[0].isFingering}createNewGlyph(e,r){let n=Ot.Unknown,i=!1,s=r.notes[0];s.leftHandFinger!==Ot.Unknown?(n=s.leftHandFinger,i=!0):s.rightHandFinger!==Ot.Unknown&&(n=s.rightHandFinger);let a=Yr.fingerToString(e.settings,r,n,i)??"";return new Ji(0,0,a,e.resources.fingeringFont,St.Left)}canExpand(e,r){return!0}}class wh extends Ti{constructor(){super(...arguments),this.lastCreateInfo=null}shouldCreateGlyph(e,r){this.lastCreateInfo=[];for(let n=0,i=r.notes.length;n<i;n++){let s=r.notes[n];this.shouldCreateGlyphForNote(s)&&this.lastCreateInfo.push(s)}return this.lastCreateInfo.length>0}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}canExpand(e,r){return!0}}class Wu extends Zy{constructor(e){super(Zt.OnNotes),this._label=e}doLayout(){this.renderer.settings.notation.extendLineEffectsToBeatEnd&&(this.endPosition=Zt.EndBeat,this.forceGroupedRendering=!0),super.doLayout(),this.height=this.renderer.resources.effectFont.size}paintNonGrouped(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=St.Center,n.fillText(this._label,e+this.x,r+this.y),n.textAlign=s}paintGrouped(e,r,n,i){this.paintNonGrouped(e,r,i);let s=3*this.scale,a=i.measureText(this._label),o=e+this.x+a/2+s,l=r+this.y+4*this.scale,u=8*this.scale;if(n>o){let c=o;for(;c<n;)i.beginPath(),i.moveTo(c,l|0),i.lineTo(Math.min(c+u,n),l|0),c+=u+s,i.stroke();i.beginPath(),i.moveTo(n,l-5*this.scale|0),i.lineTo(n,l+5*this.scale|0),i.stroke()}}}Wu.LineSpacing=3;Wu.LineTopPadding=4;Wu.LineTopOffset=5;Wu.LineSize=8;class xa extends wh{get effectId(){return this._effectId}get notationElement(){return Bt.EffectHarmonics}constructor(e){switch(super(),this._beat=null,this._harmonicType=e,e){case bt.None:this._effectId="harmonics-none";break;case bt.Natural:this._effectId="harmonics-natural";break;case bt.Artificial:this._effectId="harmonics-artificial";break;case bt.Pinch:this._effectId="harmonics-pinch";break;case bt.Tap:this._effectId="harmonics-tap";break;case bt.Semi:this._effectId="harmonics-semi";break;case bt.Feedback:this._effectId="harmonics-feedback";break;default:this._effectId="";break}}shouldCreateGlyphForNote(e){return!e.isHarmonic||e.harmonicType!==this._harmonicType?!1:(e.beat!==this._beat&&(this._beat=e.beat),!0)}get sizingMode(){return lr.GroupedOnBeat}createNewGlyph(e,r){return new Wu(xa.harmonicToString(this._harmonicType))}static harmonicToString(e){switch(e){case bt.Natural:return"N.H.";case bt.Artificial:return"A.H.";case bt.Pinch:return"P.H.";case bt.Tap:return"T.H.";case bt.Semi:return"S.H.";case bt.Feedback:return"Fdbk."}return""}}class A_ extends Ti{get notationElement(){return Bt.EffectLetRing}get canShareBand(){return!1}get hideOnMultiTrack(){return!1}shouldCreateGlyph(e,r){return r.isLetRing}get sizingMode(){return lr.GroupedOnBeat}createNewGlyph(e,r){return new Wu("LetRing")}canExpand(e,r){return!0}}class vxe extends pl{constructor(e,r,n,i,s=St.Center){super(e,r),this._lines=n,this.font=i,this.textAlign=s}doLayout(){super.doLayout(),this.height=this.font.size*this._lines.length}paint(e,r,n){n.font=this.font;let i=n.textAlign;n.textAlign=this.textAlign;for(let s=0;s<this._lines.length;s++)this._lines[s]&&n.fillText(this._lines[s],e+this.x,r+this.y+s*this.font.size);n.textAlign=i}}class Ib extends Ti{get notationElement(){return Bt.EffectLyrics}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.lyrics}createNewGlyph(e,r){return new vxe(0,0,r.lyrics,e.resources.effectFont,St.Center)}canExpand(e,r){return!0}}class O_ extends Ti{get notationElement(){return Bt.EffectMarker}get hideOnMultiTrack(){return!0}get canShareBand(){return!0}get sizingMode(){return lr.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&r.voice.bar.masterBar.isSectionStart}createNewGlyph(e,r){return new Ji(0,0,r.voice.bar.masterBar.section.marker?"["+r.voice.bar.masterBar.section.marker+"] "+r.voice.bar.masterBar.section.text:r.voice.bar.masterBar.section.text,e.resources.markerFont,St.Left)}canExpand(e,r){return!0}}class wxe extends Zy{constructor(e,r){super(Zt.PostNotes),this._ottava=e,this._aboveStaff=r}doLayout(){super.doLayout(),this.height=13*this.scale}paintNonGrouped(e,r,n){this.paintOttava(e,r,n)}paintOttava(e,r,n){let i=0;switch(this._ottava){case gr._15ma:i=37*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.QuindicesimaAlta,!1);break;case gr._8va:i=26*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.OttavaAlta,!1);break;case gr._8vb:i=23*this.scale,n.fillMusicFontSymbol(e+this.x-i/2,r+this.y+this.height,.8,R.OttavaBassaVb,!1);break;case gr._15mb:i=36*this.scale,n.fillMusicFontSymbols(e+this.x-i/2,r+this.y+this.height,.8,[R.Quindicesima,R.OctaveBaselineM,R.OctaveBaselineB],!1);break}return i/2}paintGrouped(e,r,n,i){let s=this.paintOttava(e,r,i),a=3*this.scale,o=e+this.x+s+a,l=r+this.y;l+=this._aboveStaff?2*this.scale:this.height-2*this.scale;let u=8*this.scale;if(n>o){let c=o;for(;c<n;)i.beginPath(),i.moveTo(c,l|0),i.lineTo(Math.min(c+u,n),l|0),c+=u+a,i.stroke();i.beginPath(),this._aboveStaff?(i.moveTo(n,l),i.lineTo(n,r+this.y+this.height)):(i.moveTo(n,l),i.lineTo(n,r+this.y)),i.stroke()}}}class Lb extends Ti{get effectId(){return"ottavia-"+(this._aboveStaff?"above":"below")}get notationElement(){return Bt.EffectOttavia}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.GroupedOnBeat}constructor(e){super(),this._aboveStaff=e}shouldCreateGlyph(e,r){switch(r.ottava){case gr._15ma:return this._aboveStaff;case gr._8va:return this._aboveStaff;case gr._8vb:return!this._aboveStaff;case gr._15mb:return!this._aboveStaff}return!1}createNewGlyph(e,r){return new wxe(r.ottava,this._aboveStaff)}canExpand(e,r){return e.ottava===r.ottava}}class $_ extends wh{get notationElement(){return Bt.EffectPalmMute}shouldCreateGlyphForNote(e){return e.isPalmMute}get sizingMode(){return lr.GroupedOnBeat}createNewGlyph(e,r){return new Wu("P.M.")}constructor(){super()}}class V_ extends wh{get notationElement(){return Bt.EffectPickSlide}shouldCreateGlyphForNote(e){return e.slideOutType===Ht.PickSlideDown||e.slideOutType===Ht.PickSlideUp}get sizingMode(){return lr.GroupedOnBeat}createNewGlyph(e,r){return new Wu("P.S.")}constructor(){super()}}class uy extends En{constructor(e,r,n){super(e,r,Xt.GraceScale,uy.getSymbol(n))}doLayout(){this.width=9*this.scale,this.height=13*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}static getSymbol(e){switch(e){case Ii.Up:return R.StringsUpBow;case Ii.Down:return R.StringsDownBow;default:return R.None}}}class z_ extends Ti{get notationElement(){return Bt.EffectPickStroke}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.pickStroke!==Ii.None}createNewGlyph(e,r){return new uy(0,0,r.pickStroke)}canExpand(e,r){return!0}}class rW extends Zy{constructor(e){super(Zt.EndBeat),this._stepSize=0,this._type=e}doLayout(){switch(super.doLayout(),this._type){case hr.Slight:this._stepSize=12*this.scale;break;case hr.Wide:this._stepSize=23*this.scale;break}this.height=18*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=Math.max(1,a/this._stepSize);i.beginPath(),i.moveTo(s,r+this.y);for(let l=0;l<o;l++)i.lineTo(s+this._stepSize/2,r+this.y+this.height),i.lineTo(s+this._stepSize,r+this.y),s+=this._stepSize;i.stroke()}}class Fb extends Ti{get notationElement(){return Bt.EffectSlightBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===hr.Slight}createNewGlyph(e,r){return new rW(hr.Slight)}canExpand(e,r){return!0}}class lh extends Zy{constructor(e,r,n,i=1.2,s=!1){super(Zt.EndBeat),this._scale=0,this._symbol=R.None,this._symbolSize=0,this._type=n,this._scale=i,this.x=e,this.y=r,this._partialWaves=s}doLayout(){super.doLayout();let e=0;switch(this._type){case hr.Slight:this._symbol=R.WiggleTrill,this._symbolSize=9*this._scale,e=6*this._scale;break;case hr.Wide:this._symbol=R.WiggleVibratoMediumFast,this._symbolSize=10*this._scale,e=10*this._scale;break}this.height=e*this.scale}paintGrouped(e,r,n,i){let s=e+this.x,a=n-s,o=this._symbolSize*this.scale,l=a/o;this._partialWaves||(l=Math.floor(l)),l<1&&(l=1);let u=0;for(let c=0;c<l;c++)i.fillMusicFontSymbol(e+this.x+u,r+this.y+this.height*2,this._scale*this.scale,this._symbol,!1),u+=o}}class Ab extends wh{get notationElement(){return Bt.EffectSlightNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===hr.Slight||e.isTieDestination&&e.tieOrigin.vibrato===hr.Slight}get sizingMode(){return lr.GroupedOnBeatToEnd}createNewGlyph(e,r){return new lh(0,0,hr.Slight,1.2)}constructor(){super()}}class qF extends Ti{get notationElement(){return Bt.EffectTap}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return r.slap||r.pop||r.tap}createNewGlyph(e,r){let n=e.resources;return r.slap?new Ji(0,0,"S",n.effectFont,St.Left):r.pop?new Ji(0,0,"P",n.effectFont,St.Left):new Ji(0,0,"T",n.effectFont,St.Left)}canExpand(e,r){return!0}}class xxe extends pl{constructor(e,r,n){super(e,r),this._tempo=0,this._tempo=n}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont,n.fillMusicFontSymbol(e+this.x,r+this.y+this.height*.8,this.scale*Xt.GraceScale,R.NoteQuarterUp,!1),n.fillText("= "+this._tempo.toString(),e+this.x+this.height/2,r+this.y+n.font.size/2)}}class W_ extends Ti{get notationElement(){return Bt.EffectTempo}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return lr.SinglePreBeat}shouldCreateGlyph(e,r){return r.voice.bar.staff.index===0&&r.voice.index===0&&r.index===0&&(!!r.voice.bar.masterBar.tempoAutomation||r.voice.bar.index===0)}createNewGlyph(e,r){let n=0;return r.voice.bar.masterBar.tempoAutomation?n=r.voice.bar.masterBar.tempoAutomation.value:n=r.voice.bar.staff.track.score.tempo,new xxe(0,0,n)}canExpand(e,r){return!0}}class H_ extends Ti{get notationElement(){return Bt.EffectText}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyph(e,r){return!!r.text}createNewGlyph(e,r){return new Ji(0,0,r.text,e.resources.effectFont,St.Left)}canExpand(e,r){return!0}}class Sxe extends pl{constructor(e,r){super(e,r)}doLayout(){super.doLayout(),this.height=this.renderer.resources.markerFont.size*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.markerFont;let s=n.measureText("tr");n.fillText("tr",e+this.x,r+this.y);let a=s+3*this.scale,o=this.width-a,l=1.2,u=11*this.scale*l,c=Math.max(1,(o-a)/u),h=a,f=r+this.y+this.height*1.2;for(let m=0;m<c;m++)n.fillMusicFontSymbol(e+this.x+h,f,l,R.WiggleTrill,!1),h+=u}}class Ob extends wh{get notationElement(){return Bt.EffectTrill}shouldCreateGlyphForNote(e){return e.isTrill}get sizingMode(){return lr.SingleOnBeat}createNewGlyph(e,r){return new Sxe(0,0)}}var dn;(function(t){t[t.Full=0]="Full",t[t.PartialLeft=1]="PartialLeft",t[t.PartialRight=2]="PartialRight"})(dn||(dn={}));class Rr extends pl{constructor(e){super(0,0),this._tripletFeel=e}doLayout(){super.doLayout(),this.height=25*this.scale}paint(e,r,n){e+=this.x,r+=this.y;let i=r+this.height*Xt.GraceScale;n.font=this.renderer.resources.effectFont,n.fillText("(",e,r+this.height*.3);let s=e+10*this.scale,a=e+40*this.scale;switch(this._tripletFeel){case qt.NoTripletFeel:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full]);break;case qt.Triplet8th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full]),n.fillMusicFontSymbol(a,i,Rr.NoteScale,R.NoteQuarterUp,!1),n.fillMusicFontSymbol(a+Rr.NoteSeparation*this.scale,i,Rr.NoteScale,R.NoteEighthUp,!1),this.renderTriplet(a,r,n);break;case qt.Triplet16th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full,dn.PartialRight]),this.renderTriplet(a,r,n);break;case qt.Dotted8th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full,dn.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case qt.Dotted16th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full,dn.Full,dn.PartialRight]),n.fillCircle(a+9*this.scale,i,this.scale);break;case qt.Scottish8th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full,dn.PartialLeft]),n.fillCircle(a+Rr.NoteSeparation*this.scale+8*this.scale,i,this.scale);break;case qt.Scottish16th:this.renderBarNote(s,i,Rr.NoteScale,n,[dn.Full,dn.Full]),this.renderBarNote(a,i,Rr.NoteScale,n,[dn.Full,dn.Full,dn.PartialLeft]),n.fillCircle(a+Rr.NoteSeparation*this.scale+8*this.scale,i,this.scale);break}n.fillText("=",e+30*this.scale,r+5*this.scale),n.fillText(")",e+65*this.scale,r+this.height*.3)}renderBarNote(e,r,n,i,s){i.fillMusicFontSymbol(e,r,n,R.NoteQuarterUp,!1);let a=Rr.NoteSeparation/2*this.scale;for(let o=0;o<s.length;o++)switch(s[o]){case dn.Full:i.fillRect(e+4*this.scale,r-Rr.NoteHeight*this.scale+Rr.BarSeparation*this.scale*o,Rr.NoteSeparation*this.scale,Rr.BarHeight*this.scale);break;case dn.PartialLeft:i.fillRect(e+4*this.scale,r-Rr.NoteHeight*this.scale+Rr.BarSeparation*this.scale*o,a,Rr.BarHeight*this.scale);break;case dn.PartialRight:i.fillRect(e+4*this.scale+a,r-Rr.NoteHeight*this.scale+Rr.BarSeparation*this.scale*o,a,Rr.BarHeight*this.scale);break}i.fillMusicFontSymbol(e+Rr.NoteSeparation*this.scale,r,n,R.NoteQuarterUp,!1)}renderTriplet(e,r,n){r+=2*this.scale;let i=this.renderer.resources.effectFont;n.font=dr.withFamilyList(i.families,i.size*.8,i.style);let s=e+Rr.NoteSeparation*this.scale+3*this.scale;n.beginPath(),n.moveTo(e,r+3*this.scale),n.lineTo(e,r),n.lineTo(e+5*this.scale,r),n.moveTo(s+5*this.scale,r+3*this.scale),n.lineTo(s+5*this.scale,r),n.lineTo(s,r),n.stroke(),n.fillText("3",e+7*this.scale,r-10*this.scale),n.font=i}}Rr.NoteScale=.4;Rr.NoteHeight=12;Rr.NoteSeparation=12;Rr.BarHeight=2;Rr.BarSeparation=3;class U_ extends Ti{get notationElement(){return Bt.EffectTripletFeel}get hideOnMultiTrack(){return!0}get canShareBand(){return!1}get sizingMode(){return lr.SinglePreBeat}shouldCreateGlyph(e,r){return r.index===0&&(r.voice.bar.masterBar.index===0&&r.voice.bar.masterBar.tripletFeel!==qt.NoTripletFeel||r.voice.bar.masterBar.index>0&&r.voice.bar.masterBar.tripletFeel!==r.voice.bar.masterBar.previousMasterBar.tripletFeel)}createNewGlyph(e,r){return new Rr(r.voice.bar.masterBar.tripletFeel)}canExpand(e,r){return!0}}class KF extends Ti{get notationElement(){return Bt.EffectWhammyBar}get hideOnMultiTrack(){return!1}get canShareBand(){return!1}get sizingMode(){return lr.GroupedOnBeat}shouldCreateGlyph(e,r){return r.hasWhammyBar}createNewGlyph(e,r){return new Wu("w/bar")}canExpand(e,r){return!0}}class $b extends Ti{get notationElement(){return Bt.EffectWideBeatVibrato}get hideOnMultiTrack(){return!1}get canShareBand(){return!0}get sizingMode(){return lr.GroupedOnBeatToEnd}shouldCreateGlyph(e,r){return r.vibrato===hr.Wide}createNewGlyph(e,r){return new rW(hr.Wide)}canExpand(e,r){return!0}}class Vb extends wh{get notationElement(){return Bt.EffectWideNoteVibrato}shouldCreateGlyphForNote(e){return e.vibrato===hr.Wide||e.isTieDestination&&e.tieOrigin.vibrato===hr.Wide}get sizingMode(){return lr.GroupedOnBeatToEnd}createNewGlyph(e,r){return new lh(0,0,hr.Wide,1.2)}}class QF{constructor(){this.x=0,this.width=0,this.masterBars=[]}}class e0 extends tW{get name(){return"HorizontalScreen"}constructor(e){super(e),this._group=null,this._pagePadding=null}get supportsResize(){return!1}get firstBarX(){let e=this._pagePadding[0];return this._group&&(e+=this._group.accoladeSpacing),e}doResize(){}doLayoutAndRender(){switch(this._pagePadding=this.renderer.settings.display.padding,this.renderer.settings.display.systemsLayoutMode){case Hc.Automatic:this.systemsLayoutMode=ia.Automatic;break;case Hc.UseModelLayout:this.systemsLayoutMode=ia.FromModelWithWidths;break}this._pagePadding||(this._pagePadding=e0.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=this.renderer.score,r=this.renderer.settings.display.startBar;r--,r=Math.min(e.masterBars.length-1,Math.max(0,r));let n=r,i=this.renderer.settings.display.barCount;i<=0&&(i=e.masterBars.length),i=r+i-1,i=Math.min(e.masterBars.length-1,Math.max(0,i)),this._group=this.createEmptyStaveGroup(),this._group.isLast=!0,this._group.x=this._pagePadding[0],this._group.y=this._pagePadding[1];let s=this.renderer.settings.display.barCountPerPartial,a=[],o=new QF,l=0;for(;n<=i;){let c=this._group.addBars(this.renderer.tracks,n);if(c)if(o.masterBars.length===0&&c.isLinkedToPrevious&&a.length>0){let h=a[a.length-1];h.masterBars.push(e.masterBars[n]),h.width+=c.width,l+=c.width,o.x+=l}else o.masterBars.push(e.masterBars[n]),o.width+=c.width,o.masterBars.length>=s&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),l+=o.width,a.push(o),Fe.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null),o=new QF,o.x=l);n++}o.masterBars.length>0&&(a.length===0&&(o.width+=this._group.accoladeSpacing+this._pagePadding[0]),a.push(o),Fe.debug(this.name,"Finished partial from bar "+o.masterBars[0].index+" to "+o.masterBars[o.masterBars.length-1].index,null)),this.finalizeGroup(),this.height=Math.floor(this._group.y+this._group.height),this.width=this._group.x+this._group.width+this._pagePadding[2],n=0;let u=0;for(let c=0;c<a.length;c++){const h=a[c],f=new Ld;f.x=u,f.y=0,f.totalWidth=this.width,f.totalHeight=this.height,f.width=h.width,f.height=this.height,f.firstMasterBarIndex=h.masterBars[0].index,f.lastMasterBarIndex=h.masterBars[h.masterBars.length-1].index,u+=h.width;const m=n,g=c;this._group.buildBoundingsLookup(this._group.x,this._group.y),this.registerPartial(f,y=>{let b=this._group.getBarX(h.masterBars[0].index)+this._group.accoladeSpacing;g===0&&(b-=this._group.x+this._group.accoladeSpacing),y.color=this.renderer.settings.display.resources.mainGlyphColor,y.textAlign=St.Left,Fe.debug(this.name,"Rendering partial from bar "+h.masterBars[0].index+" to "+h.masterBars[h.masterBars.length-1].index,null),this._group.paintPartial(-b,this._group.y,y,m,h.masterBars.length)}),n+=h.masterBars.length}this.height=this.layoutAndRenderAnnotation(this.height)+this._pagePadding[3]}finalizeGroup(){this._group.scaleToWidth(this._group.width),this._group.finalizeGroup()}}e0.PagePadding=[20,20,20,20];e0.GroupSpacing=20;class t0 extends tW{get name(){return"PageView"}constructor(e){super(e),this._groups=[],this._allMasterBarRenderers=[],this._barsFromPreviousGroup=[],this._pagePadding=null}doLayoutAndRender(){switch(this.renderer.settings.display.systemsLayoutMode){case Hc.Automatic:this.systemsLayoutMode=ia.Automatic;break;case Hc.UseModelLayout:this.systemsLayoutMode=ia.FromModelWithScale;break}this._pagePadding=this.renderer.settings.display.padding,this._pagePadding||(this._pagePadding=t0.PagePadding),this._pagePadding.length===1?this._pagePadding=[this._pagePadding[0],this._pagePadding[0],this._pagePadding[0],this._pagePadding[0]]:this._pagePadding.length===2&&(this._pagePadding=[this._pagePadding[0],this._pagePadding[1],this._pagePadding[0],this._pagePadding[1]]);let e=0;this.width=this.renderer.width,this._allMasterBarRenderers=[],e=this.layoutAndRenderScoreInfo(e,-1),e=this.layoutAndRenderTunings(e,-1),e=this.layoutAndRenderChordDiagrams(e,-1),e=this.layoutAndRenderScore(e),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}get supportsResize(){return!0}get firstBarX(){let e=this._pagePadding[0];return this._groups.length>0&&(e+=this._groups[0].accoladeSpacing),e}doResize(){let e=0;this.width=this.renderer.width;let r=this.height;e=this.layoutAndRenderScoreInfo(e,r),e=this.layoutAndRenderTunings(e,r),e=this.layoutAndRenderChordDiagrams(e,r),e=this.resizeAndRenderScore(e,r),e=this.layoutAndRenderAnnotation(e),this.height=e+this._pagePadding[3]}layoutAndRenderTunings(e,r=-1){if(!this.tuningGlyph)return e;let n=this.renderer.settings.display.resources;this.tuningGlyph.x=this._pagePadding[0],this.tuningGlyph.width=this.width,this.tuningGlyph.doLayout();let i=this.tuningGlyph.height+11*this.scale;const s=new Ld;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+s.height:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=St.Center,this.tuningGlyph.paint(0,0,a)}),e+i}layoutAndRenderChordDiagrams(e,r=-1){if(!this.chordDiagrams)return e;const n=this.renderer.settings.display.resources;this.chordDiagrams.width=this.width,this.chordDiagrams.doLayout();const i=Math.floor(this.chordDiagrams.height),s=new Ld;return s.x=0,s.y=e,s.width=this.width,s.height=i,s.totalWidth=this.width,s.totalHeight=r<0?e+i:r,this.registerPartial(s,a=>{a.color=n.scoreInfoColor,a.textAlign=St.Center,this.chordDiagrams.paint(0,0,a)}),e+i}layoutAndRenderScoreInfo(e,r=-1){Fe.debug(this.name,"Layouting score info");const n=new Ld;n.x=0,n.y=e;let i=this._pagePadding[1],s=this.scale,a=this.renderer.settings.display.resources,o=[Bt.ScoreTitle,Bt.ScoreSubTitle,Bt.ScoreArtist,Bt.ScoreAlbum,Bt.ScoreWordsAndMusic];for(let c=0;c<o.length;c++)if(this.scoreInfoGlyphs.has(o[c])){let h=this.scoreInfoGlyphs.get(o[c]);h.x=this.width/2,h.y=i,h.textAlign=St.Center,i+=h.font.size*s}let l=!1,u=0;if(this.scoreInfoGlyphs.has(Bt.ScoreMusic)){let c=this.scoreInfoGlyphs.get(Bt.ScoreMusic);c.x=this.width-this._pagePadding[2],c.y=i,c.textAlign=St.Right,l=!0,u=c.font.size*s}if(this.scoreInfoGlyphs.has(Bt.ScoreWords)){let c=this.scoreInfoGlyphs.get(Bt.ScoreWords);c.x=this._pagePadding[0],c.y=i,c.textAlign=St.Left,l=!0,u=c.font.size*s}return l&&(i+=u),i=Math.floor(i+17*this.scale),n.width=this.width,n.height=i,n.totalWidth=this.width,n.totalHeight=r<0?e+n.height:r,this.registerPartial(n,c=>{c.color=a.scoreInfoColor,c.textAlign=St.Center;for(const h of this.scoreInfoGlyphs.values())h.paint(0,0,c)}),e+i}resizeAndRenderScore(e,r){if(this.renderer.settings.display.barsPerRow>0||this.systemsLayoutMode==ia.FromModelWithScale)for(let i=0;i<this._groups.length;i++){let s=this._groups[i];this.fitGroup(s),e+=this.paintGroup(s,r)}else{this._groups=[];let i=0,s=this.maxWidth,a=this.createEmptyStaveGroup();for(a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e;i<this._allMasterBarRenderers.length;){let o=this._allMasterBarRenderers[i];if(a.width+o.width<=s||a.masterBarsRenderers.length===0)a.addMasterBarRenderers(this.renderer.tracks,o),i++;else{for(;o&&!o.canWrap&&a.masterBarsRenderers.length>1;)o=a.revertLastBar(),i--;a.isFull=!0,a.isLast=this.lastBarIndex===a.lastBarIndex,this._groups.push(a),this.fitGroup(a),e+=this.paintGroup(a,r),a=this.createEmptyStaveGroup(),a.index=this._groups.length,a.x=this._pagePadding[0],a.y=e}}a.isLast=this.lastBarIndex===a.lastBarIndex,this.fitGroup(a),e+=this.paintGroup(a,r)}return e}layoutAndRenderScore(e){let n=this.firstBarIndex,i=this.lastBarIndex;for(this._groups=[];n<=i;){let s=this.createStaveGroup(n,i);this._groups.push(s),s.x=this._pagePadding[0],s.y=e,n=s.lastBarIndex+1,this.fitGroup(s),Fe.debug(this.name,"Rendering partial from bar "+s.firstBarIndex+" to "+s.lastBarIndex,null),e+=this.paintGroup(s,e)}return e}paintGroup(e,r){let n=Math.floor(e.height+20*this.scale);const i=new Ld;return i.x=0,i.y=e.y,i.totalWidth=this.width,i.totalHeight=r,i.width=this.width,i.height=n,i.firstMasterBarIndex=e.firstBarIndex,i.lastMasterBarIndex=e.lastBarIndex,e.buildBoundingsLookup(0,0),this.registerPartial(i,s=>{this.renderer.canvas.color=this.renderer.settings.display.resources.mainGlyphColor,this.renderer.canvas.textAlign=St.Left,e.paint(0,-i.y,s)}),r+=n,n}fitGroup(e){e.isFull||e.width>this.maxWidth||this.renderer.settings.display.justifyLastSystem?e.scaleToWidth(this.maxWidth):e.scaleToWidth(e.width),e.finalizeGroup()}getBarsPerRow(e){let r=this.renderer.settings.display.barsPerRow;if(this.systemsLayoutMode==ia.FromModelWithScale){let n,i;this.renderer.tracks.length>1?(n=this.renderer.score.defaultSystemsLayout,i=this.renderer.score.systemsLayout):(n=this.renderer.tracks[0].defaultSystemsLayout,i=this.renderer.tracks[0].systemsLayout),r=e<i.length?i[e]:n}return r}createStaveGroup(e,r){let n=this.createEmptyStaveGroup();n.index=this._groups.length;let i=this.getBarsPerRow(n.index),s=this.maxWidth,a=r+1,o=e;for(;o<a;){if(this._barsFromPreviousGroup.length>0)for(let u of this._barsFromPreviousGroup)n.addMasterBarRenderers(this.renderer.tracks,u),o=u.masterBar.index;else{let u=n.addBars(this.renderer.tracks,o);u&&this._allMasterBarRenderers.push(u)}this._barsFromPreviousGroup=[];let l=!1;if((i===-1&&n.width>=s&&n.masterBarsRenderers.length!==0||n.masterBarsRenderers.length===i+1)&&(l=!0),l){let u=n.revertLastBar();if(u)for(this._barsFromPreviousGroup.push(u);u&&!u.canWrap&&n.masterBarsRenderers.length>1;)u=n.revertLastBar(),u&&this._barsFromPreviousGroup.push(u);return n.isFull=!0,n.isLast=!1,this._barsFromPreviousGroup.reverse(),n}n.x=0,o++}return n.isLast=r===n.lastBarIndex,n}get maxWidth(){return this.renderer.width-this._pagePadding[0]-this._pagePadding[2]}}t0.PagePadding=[40,40,40,40];t0.GroupSpacing=20;class Ic extends En{constructor(e,r,n,i=!1){super(e,r,i?Xt.GraceScale:1,Ic.getMusicSymbol(n)),this._isGrace=i,this._accidentalType=n}static getMusicSymbol(e){switch(e){case Mr.Natural:return R.AccidentalNatural;case Mr.Sharp:return R.AccidentalSharp;case Mr.Flat:return R.AccidentalFlat;case Mr.NaturalQuarterNoteUp:return R.AccidentalQuarterToneNaturalArrowUp;case Mr.SharpQuarterNoteUp:return R.AccidentalQuarterToneSharpArrowUp;case Mr.FlatQuarterNoteUp:return R.AccidentalQuarterToneFlatArrowUp;case Mr.DoubleSharp:return R.AccidentalDoubleSharp;case Mr.DoubleFlat:return R.AccidentalDoubleFlat}return R.None}doLayout(){switch(this._accidentalType){case Mr.DoubleFlat:this.width=18;break;default:this.width=8;break}this.width=this.width*(this._isGrace?Xt.GraceScale:1)*this.scale}}class nW extends In{constructor(e,r,n){super(e,r),this._number=0,this._number=n}doLayout(){this.renderer.scoreRenderer.canvas.font=this.renderer.resources.barNumberFont,this.width=this.renderer.scoreRenderer.canvas.measureText(this._number.toString())+5*this.scale}paint(e,r,n){if(!this.renderer.staff.isFirstInAccolade)return;let i=this.renderer.resources,s=n.color;n.color=i.barNumberColor,n.font=i.barNumberFont,n.fillText(this._number.toString(),e+this.x,r+this.y),n.color=s}}class iW extends In{constructor(e,r){super(e,r)}doLayout(){this.renderer.isLast?this.width=15*this.scale:!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart?(this.width=2*this.scale,this.renderer.bar.masterBar.isDoubleBar&&(this.width+=2*this.scale)):this.width=2*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s;this.renderer.isLast?(n.fillRect(o+this.width-i-i,s,this.scale,l),n.fillRect(o+this.width-i,s,i,l)):(!this.renderer.nextRenderer||this.renderer.nextRenderer.staff!==this.renderer.staff||!this.renderer.nextRenderer.bar.masterBar.isRepeatStart)&&(n.fillRect(o+this.width-this.scale,s,this.scale,l),this.renderer.bar.masterBar.isDoubleBar&&n.fillRect(o+this.width-5*this.scale,s,this.scale,l))}}class rN extends En{constructor(e,r,n,i){super(e,r,1,rN.getSymbol(n)),this._clef=n,this._clefOttava=i}doLayout(){switch(this._clef){case $t.Neutral:this.width=15*this.scale;break;case $t.C3:case $t.C4:case $t.F4:case $t.G2:this.width=28*this.scale;break}}static getSymbol(e){switch(e){case $t.Neutral:return R.UnpitchedPercussionClef1;case $t.C3:return R.CClef;case $t.C4:return R.CClef;case $t.F4:return R.FClef;case $t.G2:return R.GClef;default:return R.None}}paint(e,r,n){super.paint(e,r,n);let i,s=!1;switch(this._clefOttava){case gr._15ma:i=new En(-4*this.scale,0,.5,R.Quindicesima),s=!0;break;case gr._8va:i=new En(-2*this.scale,0,.5,R.Ottava),s=!0;break;case gr._8vb:i=new En(-6*this.scale,0,.5,R.Ottava);break;case gr._15mb:i=new En(-8*this.scale,0,.5,R.Quindicesima);break;default:return}let a=0,o=0;switch(this._clef){case $t.Neutral:a=s?-12:15,o=0;break;case $t.C3:a=s?-19:27,o=0;break;case $t.C4:a=s?-19:27,o=0;break;case $t.F4:a=s?-9:27,o=-4;break;case $t.G2:a=s?-37:30,o=0;break;default:return}i.renderer=this.renderer,i.doLayout();let l=this.width/2;i.paint(e+this.x+l+o*this.scale,r+this.y+a*this.scale,n)}}class sW extends In{constructor(e,r){super(e,r)}doLayout(){this.width=11*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x,l=a-s,u=1.5*this.scale,c=(s+a)/2,h=3;n.fillCircle(o,c-u*h,u),n.fillCircle(o,c+u*h,u),o+=4*this.scale,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale+.5,n.fillRect(o,s,i,l)}}class aW extends In{constructor(e,r,n){super(e,r),this._count=0,this._count=0,this._count=n}doLayout(){this.width=0}paint(e,r,n){let i=this.renderer.resources,s=n.textAlign;n.font=i.barNumberFont,n.textAlign=St.Right;let a="x"+this._count,o=n.measureText(a)/1.5;n.fillText(a,e+this.x-o,r+this.y),n.textAlign=s}}class oW extends In{constructor(e,r,n,i){super(e,r),this._dotOffset=0,this._circleSize=0,this._dotOffset=0,this._circleSize=0,this._dotOffset=i,this._circleSize=n}doLayout(){this.width=13*this.scale}paint(e,r,n){let i=4*this.scale,s=r+this.y+this.renderer.topPadding,a=r+this.y+this.renderer.height-this.renderer.bottomPadding,o=e+this.x+.5,l=a-s;n.fillRect(o,s,i,l),o+=i*2-.5,n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke(),o+=3*this.scale;let u=this._circleSize*this.scale,c=(s+a)/2;n.fillCircle(o,c-u*this._dotOffset,u),n.fillCircle(o,c+u*this._dotOffset,u)}}class Dw extends En{constructor(e,r,n){super(e,r,1,Dw.getSymbol(n))}static getSymbol(e){switch(e){case Xn.None:return R.None;case Xn.Normal:return R.ArticAccentAbove;case Xn.Heavy:return R.ArticMarcatoAbove;default:return R.None}}doLayout(){this.width=9*this.scale,this.height=9*this.scale}paint(e,r,n){super.paint(e-2*this.scale,r+this.height,n)}}class rP extends In{constructor(e,r,n){super(e,r),this._size=0,this._size=n}doLayout(){this.width=this._size+3*this.scale}paint(e,r,n){n.fillCircle(e+this.x,r+this.y,this._size)}}class kxe extends En{constructor(e,r,n){super(e,r,n?Xt.GraceScale:1,R.NoteheadXOrnate),this._isGrace=n}doLayout(){this.width=9*(this._isGrace?Xt.GraceScale:1)*this.scale,this.height=Xt.NoteHeadHeight*this.scale}}class Iw extends En{constructor(e,r,n,i){super(e,r,i?Xt.GraceScale:1,Iw.getSymbol(n)),this._isGrace=i}static getSymbol(e){switch(e){case oe.QuadrupleWhole:case oe.DoubleWhole:case oe.Whole:case oe.Half:return R.NoteheadDiamondWhiteWide;default:return R.NoteheadDiamondBlackWide}}doLayout(){this.width=9*(this._isGrace?Xt.GraceScale:1)*this.scale,this.height=Xt.NoteHeadHeight*this.scale}}class vi extends In{constructor(e,r,n){super(0,0),this.yOffset=0,this.startNoteRenderer=null,this.endNoteRenderer=null,this.tieDirection=He.Up,this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._tieHeight=0,this._shouldDraw=!1,this.startBeat=e,this.endBeat=r,this.forEnd=n}doLayout(){if(this.width=0,!this.endBeat){this._shouldDraw=!1;return}let e=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar);this.startNoteRenderer=e;let r=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.endBeat.voice.bar);this.endNoteRenderer=r,this._startX=0,this._endX=0,this._startY=0,this._endY=0,this.height=0,this._shouldDraw=!1,this.tieDirection=e?this.getBeamDirection(this.startBeat,e):this.getBeamDirection(this.endBeat,r),!this.forEnd&&e?(e!==r?(this._startX=e.x+this.getStartX(),this._startY=e.y+this.getStartY()+this.yOffset,!r||e.staff!==r.staff?(this._endX=e.x+e.width,this._endY=this._startY):(this._endX=r.x+this.getEndX(),this._endY=r.y+this.getEndY()+this.yOffset)):(this._startX=e.x+this.getStartX(),this._endX=r.x+this.getEndX(),this._startY=e.y+this.getStartY()+this.yOffset,this._endY=r.y+this.getEndY()+this.yOffset),this._shouldDraw=!0):(!e||e.staff!==r.staff)&&(this._startX=r.x,this._endX=r.x+this.getEndX(),this._startY=r.y+this.getEndY()+this.yOffset,this._endY=this._startY,this._shouldDraw=!0),this._shouldDraw&&(this.y=Math.min(this._startY,this._endY),this.shouldDrawBendSlur()?this._tieHeight=0:(this._tieHeight=this.getTieHeight(this._startX,this._startY,this._endX,this._endY),this.height=vi.calculateActualTieHeight(this.renderer.scale,this._startX,this._startY,this._endX,this._endY,this.tieDirection===He.Down,this._tieHeight,4).h),this.tieDirection===He.Up&&(this.y-=this.height))}paint(e,r,n){this._shouldDraw&&(this.shouldDrawBendSlur()?vi.drawBendSlur(n,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===He.Down,this.scale):vi.paintTie(n,this.scale,e+this._startX,r+this._startY,e+this._endX,r+this._endY,this.tieDirection===He.Down,this._tieHeight,4))}shouldDrawBendSlur(){return!1}getTieHeight(e,r,n,i){return 22}getBeamDirection(e,r){return He.Down}getStartY(){return 0}getEndY(){return 0}getStartX(){return 0}getEndX(){return 0}static calculateActualTieHeight(e,r,n,i,s,a,o,l){const u=vi.computeBezierControlPoints(e,r,n,i,s,a,o,l);r=u[0],n=u[1];const c=u[2],h=u[3];i=u[6],s=u[7];const f=(r-c)/(r-2*c+i),m=vi.calculateExtrema(r,n,c,h,i,s,f),g=m.length>0?Math.min(r,i,m[0]):Math.min(r,i),y=m.length>0?Math.max(r,i,m[0]):Math.max(r,i),b=(n-h)/(n-2*h+s),x=vi.calculateExtrema(r,n,c,h,i,s,b),v=x.length>0?Math.min(n,s,x[1]):Math.min(n,s),w=x.length>0?Math.max(n,s,x[1]):Math.max(n,s),T=new Ls;return T.x=g,T.y=v,T.w=y-g,T.h=w-v,T}static calculateExtrema(e,r,n,i,s,a,o){if(o<=0||1<=o)return[];const l=e+(n-e)*o,u=r+(i-r)*o,c=n+(s-n)*o,h=i+(a-i)*o;return[l+(c-l)*o,u+(h-u)*o]}static computeBezierControlPoints(e,r,n,i,s,a,o,l){if(r===i&&n===s)return[];if(i<r){let v=r;r=i,i=v,v=n,n=s,s=v}o*=e,l*=e;let u=s-n,c=i-r,h=Math.sqrt(u*u+c*c);a?u*=-1:c*=-1,u/=h,c/=h;let f=(i+r)/2,m=(s+n)/2,g=f+o*u,y=m+o*c,b=f+(o-l)*u,x=m+(o-l)*c;return[r,n,g,y,b,x,i,s]}static paintTie(e,r,n,i,s,a,o=!1,l=22,u=4){const c=vi.computeBezierControlPoints(r,n,i,s,a,o,l,u);e.beginPath(),e.moveTo(c[0],c[1]),e.quadraticCurveTo(c[2],c[3],c[6],c[7]),e.quadraticCurveTo(c[4],c[5],c[0],c[1]),e.closePath(),e.fill()}static drawBendSlur(e,r,n,i,s,a,o,l){let u=s-n,c=i-r,h=Math.sqrt(u*u+c*c);a?u*=-1:c*=-1,u/=h,c/=h;let f=(i+r)/2,m=(s+n)/2,g=vi.BendSlurHeight*o;i-r<20&&(g/=2);let y=f+g*u,b=m+g*c;if(e.beginPath(),e.moveTo(r,n),e.lineTo(y,b),e.lineTo(i,s),e.stroke(),l){let x=e.measureText(l),v=a?0:-e.font.size;e.fillText(l,y-x/2,b+v)}}}vi.BendSlurHeight=11;class H1 extends In{constructor(e){super(0,0),this._isOpen=e}doLayout(){super.doLayout(),this.width=H1.Size*this.scale}paint(e,r,n){this._isOpen?vi.paintTie(n,this.scale,e+this.x+this.width,r+this.y+this.height,e+this.x+this.width,r+this.y,!1,6,3):vi.paintTie(n,this.scale,e+this.x,r+this.y,e+this.x,r+this.y+this.height,!1,6,3)}}H1.Size=6;class _xe{constructor(e,r){this.line=0,this.line=e,this.isGhost=r}}class Lw extends In{constructor(e){super(0,0),this._infos=[],this._glyphs=[],this.isEmpty=!0,this._isOpen=e}addParenthesis(e){let r=this.renderer,n=r.getNoteLine(e),i=e.isGhost||this.isTiedBend(e)&&r.settings.notation.isNotationElementVisible(Bt.ParenthesisOnTiedBends);this.addParenthesisOnLine(n,i)}addParenthesisOnLine(e,r){let n=new _xe(e,r);this._infos.push(n),r&&(this.isEmpty=!1)}isTiedBend(e){return e.isTieDestination?e.tieOrigin.hasBend?!0:this.isTiedBend(e.tieOrigin):!1}doLayout(){let e=this.renderer;this._infos.sort((i,s)=>i.line-s.line);let r=null,n=e.getScoreHeight(1);for(let i=0,s=this._infos.length;i<s;i++){let a;if(!this._infos[i].isGhost)r=null;else if(!r)a=new H1(this._isOpen),a.renderer=this.renderer,a.y=e.getScoreY(this._infos[i].line)-n,a.height=n*2,a.doLayout(),this._glyphs.push(a),r=a;else{let o=e.getScoreY(this._infos[i].line)+n;r.height=o-r.y}}this.width=this._glyphs.length>0?this._glyphs[0].width:0}paint(e,r,n){super.paint(e,r,n);for(let i of this._glyphs)i.paint(e+this.x,r+this.y,n)}}class Cxe{constructor(e,r){this.line=0,this.glyph=e,this.line=r}}class lW extends In{constructor(){super(0,0),this._infos=[],this._noteHeadPadding=0,this.minNote=null,this.maxNote=null,this.spacingChanged=new di,this.upLineX=0,this.downLineX=0,this.displacedX=0,this.noteStartX=0}add(e,r){let n=new Cxe(e,r);this._infos.push(n),(!this.minNote||this.minNote.line>n.line)&&(this.minNote=n),(!this.maxNote||this.maxNote.line<n.line)&&(this.maxNote=n)}get hasTopOverflow(){return!!this.minNote&&this.minNote.line<=0}get hasBottomOverflow(){return!!this.maxNote&&this.maxNote.line>8}doLayout(){this._infos.sort((o,l)=>l.line-o.line);let e=0,r=!1,n=0,i=!1,s=this.direction,a=0;for(let o=0,l=this._infos.length;o<l;o++){let u=this._infos[o].glyph;u.renderer=this.renderer,u.doLayout();let c=!1;o===0?e=u.width:Math.abs(n-this._infos[o].line)<=1?r?r=!1:(c=!0,u.x=e,i=!0,r=!0):r=!1,s===He.Down?u.x=c?0:e:u.x=c?e:0,u.x+=this.noteStartX,n=this._infos[o].line,a=Math.max(a,u.x+u.width)}i?(this._noteHeadPadding=0,this.upLineX=e,this.downLineX=e):(this._noteHeadPadding=s===He.Down?-e:0,a+=this._noteHeadPadding,this.upLineX=a,this.downLineX=0),this.displacedX=e,this.width=a}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer,s=3*this.scale,a=this.width-this.noteStartX+s*2;if(this.hasTopOverflow){let u=n.color;n.color=i.resources.staffLineColor;let c=-2;for(;c>=this.minNote.line;){let h=r+i.getScoreY(c);n.fillRect(e-s+this.noteStartX,h,a,this.scale),c-=2}n.color=u}if(this.hasBottomOverflow){let u=n.color;n.color=i.resources.staffLineColor;let c=10;for(;c<=this.maxNote.line;){let h=r+i.getScoreY(c);n.fillRect(e-s+this.noteStartX,h,a,this.scale),c+=2}n.color=u}let o=this._infos,l=e+this._noteHeadPadding;for(let u of o)u.glyph.renderer=this.renderer,u.glyph.paint(l,r,n)}}class U1 extends En{constructor(e,r,n){super(e,r,1,U1.getSymbol(n))}doLayout(){this.width=12*this.scale}static getSymbol(e){switch(e){case oe.ThirtySecond:return R.Tremolo3;case oe.Sixteenth:return R.Tremolo2;case oe.Eighth:return R.Tremolo1;default:return R.None}}}class Txe extends lW{constructor(){super(),this._noteGlyphLookup=new Map,this._notes=[],this._tremoloPicking=null,this.aboveBeatEffects=new Map,this.belowBeatEffects=new Map}get direction(){return this.beamingHelper.direction}getNoteX(e,r){if(this._noteGlyphLookup.has(e.id)){let n=this._noteGlyphLookup.get(e.id),i=this.x+n.x+this._noteHeadPadding;switch(r){case Nn.Left:break;case Nn.Center:i+=n.width/2;break;case Nn.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this._noteGlyphLookup.has(e.id)){const n=this._noteGlyphLookup.get(e.id);let i=this.y+n.y;switch(r){case pt.TopWithStem:i-=this.renderer.getStemSize(this.beamingHelper);break;case pt.Top:i-=n.height/2;break;case pt.Center:break;case pt.Bottom:i+=n.height/2;break;case pt.BottomWithStem:i+=this.renderer.getStemSize(this.beamingHelper);break}return i}return 0}addNoteGlyph(e,r,n){super.add(e,n),this._noteGlyphLookup.set(r.id,e),this._notes.push(r)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.upLineX,e+this.x+this.downLineX)}doLayout(){super.doLayout();let e=this.direction;for(const r of this.aboveBeatEffects.values())r.renderer=this.renderer,r.doLayout();for(const r of this.belowBeatEffects.values())r.renderer=this.renderer,r.doLayout();if(this.beat.isTremolo){let r=0,n=e===He.Up?this.minNote:this.maxNote,i=e===He.Up?this.displacedX:0,s=this.beat.tremoloSpeed;switch(s){case oe.ThirtySecond:r=e===He.Up?-15:15;break;case oe.Sixteenth:r=e===He.Up?-12:15;break;case oe.Eighth:r=e===He.Up?-10:10;break;default:r=e===He.Up?-10:15;break}this._tremoloPicking=new U1(i,n.glyph.y+r*this.scale,s),this._tremoloPicking.renderer=this.renderer,this._tremoloPicking.doLayout()}}buildBoundingsLookup(e,r,n){for(let i of this._notes)if(this._noteGlyphLookup.has(i.id)){let s=this._noteGlyphLookup.get(i.id),a=new qM;a.note=i,a.noteHeadBounds=new Ls,a.noteHeadBounds.x=r+this.x+this._noteHeadPadding+s.x,a.noteHeadBounds.y=n+this.y+s.y-s.height/2,a.noteHeadBounds.w=s.width,a.noteHeadBounds.h=s.height,e.addNote(a)}}paint(e,r,n){let i=this.renderer,s=0,a=0,o=1,l=-o;this.beamingHelper.direction===He.Up?(a=i.getScoreY(this.minNote.line),s=i.getScoreY(this.maxNote.line-2)):(a=i.getScoreY(this.maxNote.line-1),s=i.getScoreY(this.minNote.line+1),l*=-1,o*=-1);for(const u of this.aboveBeatEffects.values())s+=l*u.height,u.paint(e+this.x+2*this.scale,r+this.y+s,n);for(const u of this.belowBeatEffects.values())a+=o*u.height,u.paint(e+this.x+2*this.scale,r+this.y+a,n);super.paint(e,r,n),this._tremoloPicking&&this._tremoloPicking.paint(e,r,n)}}class op extends En{constructor(e,r,n){super(e,r,1,op.getSymbol(n)),this._duration=n}static getSymbol(e){switch(e){case oe.QuadrupleWhole:return R.RestLonga;case oe.DoubleWhole:return R.RestDoubleWhole;case oe.Whole:return R.RestWhole;case oe.Half:return R.RestHalf;case oe.Quarter:return R.RestQuarter;case oe.Eighth:return R.RestEighth;case oe.Sixteenth:return R.RestSixteenth;case oe.ThirtySecond:return R.RestThirtySecond;case oe.SixtyFourth:return R.RestSixtyFourth;case oe.OneHundredTwentyEighth:return R.RestOneHundredTwentyEighth;case oe.TwoHundredFiftySixth:return R.RestTwoHundredFiftySixth;default:return R.None}}static getSize(e){switch(e){case oe.QuadrupleWhole:case oe.DoubleWhole:case oe.Whole:case oe.Half:case oe.Quarter:case oe.Eighth:case oe.Sixteenth:return 9;case oe.ThirtySecond:return 12;case oe.SixtyFourth:return 14;case oe.OneHundredTwentyEighth:case oe.TwoHundredFiftySixth:return 20}return 10}doLayout(){this.width=op.getSize(this._duration)*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.registerBeatLineX("score",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class JF{constructor(){this.x=0,this.y=-3e3,this.width=0}}class uW extends fl{constructor(){super(0,0)}doLayout(){if(!this.glyphs||this.glyphs.length===0){this.width=0;return}this.glyphs.sort((n,i)=>n.y<i.y?-1:n.y>i.y?1:0);let e=[];e.push(new JF);let r=21*this.scale;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.renderer=this.renderer,s.doLayout();let a=0;for(;e[a].y>s.y;)a++,a===e.length&&e.push(new JF);s.x=a,e[a].y=s.y+r,e[a].width<s.width&&(e[a].width=s.width)}this.width=0;for(const n of e)this.width+=n.width,n.x=this.width;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];const a=e[s.x];s.x=this.width-a.x}}}class Fs extends lW{get direction(){return He.Up}constructor(e,r=!1){super(),this._showParenthesis=!1,this._noteValueLookup=new Map,this._accidentals=new uW,this._preNoteParenthesis=null,this._postNoteParenthesis=null,this.isEmpty=!0,this.noteHeadOffset=0,this._beat=e,this._showParenthesis=r,r&&(this._preNoteParenthesis=new Lw(!0),this._postNoteParenthesis=new Lw(!1))}containsNoteValue(e){return this._noteValueLookup.has(e)}getNoteValueY(e){return this._noteValueLookup.has(e)?this.y+this._noteValueLookup.get(e).y:0}addGlyph(e,r=!1){let n=this.renderer,i=new Xt(0,0,oe.Quarter,!0),s=n.accidentalHelper.applyAccidentalForValue(this._beat,e,r,!0),a=n.accidentalHelper.getNoteLineForValue(e,!1);if(i.y=n.getScoreY(a),this._showParenthesis&&(this._preNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.addParenthesisOnLine(a,!0),this._postNoteParenthesis.addParenthesisOnLine(a,!0)),s!==Mr.None){let o=new Ic(0,i.y,s,!0);o.renderer=this.renderer,this._accidentals.renderer=this.renderer,this._accidentals.addGlyph(o)}this._noteValueLookup.set(e,i),this.add(i,a),this.isEmpty=!1}doLayout(){let e=0;this._showParenthesis&&(this._preNoteParenthesis.x=e,this._preNoteParenthesis.renderer=this.renderer,this._preNoteParenthesis.doLayout(),e+=this._preNoteParenthesis.width+Fs.ElementPadding*this.scale),this._accidentals.isEmpty||(e+=this._accidentals.width+Fs.ElementPadding*this.scale,this._accidentals.x=e,this._accidentals.renderer=this.renderer,this._accidentals.doLayout(),e+=this._accidentals.width+Fs.ElementPadding*this.scale),this.noteStartX=e,super.doLayout(),this.noteHeadOffset=this.noteStartX+(this.width-this.noteStartX)/2,this._showParenthesis&&(this._postNoteParenthesis.x=this.width+Fs.ElementPadding*this.scale,this._postNoteParenthesis.renderer=this.renderer,this._postNoteParenthesis.doLayout(),this.width+=this._postNoteParenthesis.width+Fs.ElementPadding*this.scale)}paint(e,r,n){this._accidentals.isEmpty||this._accidentals.paint(e+this.x,r+this.y,n),this._showParenthesis&&(this._preNoteParenthesis.paint(e+this.x,r+this.y,n),this._postNoteParenthesis.paint(e+this.x,r+this.y,n)),super.paint(e,r,n)}}Fs.ElementPadding=2;class nN extends In{constructor(){super(...arguments),this.BendNoteHeads=[]}drawBendSlur(e,r,n,i,s,a,o,l){vi.drawBendSlur(e,r,n,i,s,a,o,l)}doLayout(){super.doLayout(),this.width=0;for(let e of this.BendNoteHeads)e.doLayout(),this.width+=e.width+10*this.scale}getTieDirection(e,r){switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}}nN.EndPadding=(10/2|0)+3;class uc extends Je{constructor(e=0,r=0){super(e,r),this.lineValue=0,this.lineValue=r}}class uo extends In{constructor(){super(0,0),this._notes=[],this._renderPoints=new Map,this._preBendMinValue=-1,this._bendMiddleMinValue=-1,this._bendEndMinValue=-1,this._bendEndContinuedMinValue=-1,this._releaseMinValue=-1,this._releaseContinuedMinValue=-1,this._maxBendValue=-1}addBends(e){this._notes.push(e);let r=this.createRenderingPoints(e);this._renderPoints.set(e.id,r),(this._maxBendValue===-1||this._maxBendValue<e.maxBendPoint.value)&&(this._maxBendValue=e.maxBendPoint.value);let n=0;switch(e.bendType){case ct.Bend:n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case ct.Release:n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case ct.BendRelease:n=r[1].value,(this._bendMiddleMinValue===-1||n<this._bendMiddleMinValue)&&(this._bendMiddleMinValue=n),n=r[2].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break;case ct.Prebend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n);break;case ct.PrebendBend:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._bendEndContinuedMinValue===-1||n<this._bendEndContinuedMinValue)&&(this._bendEndContinuedMinValue=n):(this._bendEndMinValue===-1||n<this._bendEndMinValue)&&(this._bendEndMinValue=n);break;case ct.PrebendRelease:n=r[0].value,(this._preBendMinValue===-1||n<this._preBendMinValue)&&(this._preBendMinValue=n),n=r[1].value,e.isTieOrigin?(this._releaseContinuedMinValue===-1||n<this._releaseContinuedMinValue)&&(this._releaseContinuedMinValue=n):n>0&&(this._releaseMinValue===-1||n<this._releaseMinValue)&&(this._releaseMinValue=n);break}}doLayout(){super.doLayout();let e=this._maxBendValue*uo.BendValueHeight*this.scale;this.renderer.registerOverflowTop(e);let r=0;for(let n of this._notes){let i=this._renderPoints.get(n.id);switch(n.bendType){case ct.Bend:i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case ct.Release:r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break;case ct.BendRelease:i[1].lineValue=this._bendMiddleMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[2].lineValue=r);break;case ct.Prebend:i[0].lineValue=this._preBendMinValue;break;case ct.PrebendBend:i[0].lineValue=this._preBendMinValue,i[1].lineValue=n.isTieOrigin?this._bendEndContinuedMinValue:this._bendEndMinValue;break;case ct.PrebendRelease:i[0].lineValue=this._preBendMinValue,r=n.isTieOrigin?this._releaseContinuedMinValue:this._releaseMinValue,r>=0&&(i[1].lineValue=r);break}}this.width=0,this._notes.sort((n,i)=>n.isStringed?n.string-i.string:n.realValue-i.realValue)}createRenderingPoints(e){let r=[];switch(e.bendType){case ct.Custom:for(let n of e.bendPoints)r.push(new uc(n.offset,n.value));break;case ct.BendRelease:r.push(new uc(0,e.bendPoints[0].value)),r.push(new uc(Je.MaxPosition/2|0,e.bendPoints[1].value)),r.push(new uc(Je.MaxPosition,e.bendPoints[3].value));break;case ct.Bend:case ct.Hold:case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:case ct.Release:r.push(new uc(0,e.bendPoints[0].value)),r.push(new uc(Je.MaxPosition,e.bendPoints[1].value));break}return r}paint(e,r,n){let i=n.color;this._notes.length>1&&(n.color=this.renderer.resources.secondaryGlyphColor);for(let s of this._notes){let a=this._renderPoints.get(s.id),o=this.renderer,l=s,u=!1,c=null,h=!1,f=s.bendStyle===Ir.Gradual?"grad.":"",m=null;for(;l.isTieOrigin;){let w=l.tieDestination;if(c=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,w.beat.voice.bar),!c||o.staff!==c.staff)break;if(l=w,u=!0,l.hasBend||!this.renderer.settings.notation.extendBendArrowsOnTiedNotes){h=!0;break}}m=l.beat,c=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,m.voice.bar),m.isLastOfVoice&&!l.hasBend&&this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&(m=null);let g=0,y=0,b=r+o.y;g=e+o.x,a[0].value>0||s.isContinuedBend?g+=o.getBeatX(s.beat,Zt.MiddleNotes):g+=o.getNoteX(s,Nn.Right),!m||m.isLastOfVoice&&!h?y=e+c.x+c.postBeatGlyphsStart:h||!m.nextBeat?y=e+c.x+c.getBeatX(m,Zt.MiddleNotes):s.bendType===ct.Hold?y=e+c.x+c.getBeatX(m.nextBeat,Zt.OnNotes):y=e+c.x+c.getBeatX(m.nextBeat,Zt.PreNotes),u||(y-=uo.ArrowSize*this.scale);let v=(y-g)/Je.MaxPosition;n.beginPath();for(let w=0,T=a.length-1;w<T;w++){let P=a[w],C=a[w+1];w===0&&P.value!==0&&!s.isTieDestination&&this.paintBend(s,new uc(0,0),P,g,b,v,f,n),s.bendType!==ct.Prebend?(w===0&&(g+=2*this.scale),this.paintBend(s,P,C,g,b,v,f,n)):s.isTieOrigin&&s.tieDestination.hasBend&&(C=new uc(Je.MaxPosition,P.value),C.lineValue=P.lineValue,this.paintBend(s,P,C,g,b,v,f,n))}n.color=i}}paintBend(e,r,n,i,s,a,o,l){let u=this.renderer,c=this.renderer.resources,h=u.lineOffset/2,f=i+a*r.offset,m=uo.BendValueHeight*this.scale,g=s-m*r.lineValue;r.value===0?n.offset===r.offset?g+=u.getNoteY(e.beat.maxStringNote,pt.Top):g+=u.getNoteY(e,pt.Center):g+=h;let y=i+a*n.offset,b=s-m*n.lineValue;n.lineValue===0?b+=u.getNoteY(e,pt.Center):b+=h;let x=0,v=uo.ArrowSize*this.scale;if(n.value>r.value?(b+v>g&&(b=g-v),l.beginPath(),l.moveTo(y,b),l.lineTo(y-v*.5,b+v),l.lineTo(y+v*.5,b+v),l.closePath(),l.fill(),x=v):n.value!==r.value&&(b<g&&(b=g+v),l.beginPath(),l.moveTo(y,b),l.lineTo(y-v*.5,b-v),l.lineTo(y+v*.5,b-v),l.closePath(),l.fill(),x=-v),l.stroke(),r.value===n.value){if(r.lineValue>0){let w=y,T=uo.DashSize*this.scale,P=f+T;if((w-f)/(T*2)<1)l.moveTo(w,g),l.lineTo(f,g);else for(;w>P;)l.moveTo(w,g),l.lineTo(w-T,g),w-=T*2;l.stroke()}}else y>f?(l.moveTo(f,g),l.bezierCurveTo((f+y)/2,g,y,g,y,b+x),l.stroke()):(l.moveTo(f,g),l.lineTo(y,b),l.stroke());if(o&&r.offset<n.offset){l.font=c.graceFont;let w=l.measureText(o),T=0,P=0;if(g>b){let C=Math.abs(g-b);T=C>l.font.size*1.3?g-C/2:g,P=(f+y-w)/2}else T=g,P=y-w;l.fillText(o,P,T)}if(n.value!==0&&r.value!==n.value){let w=n.value,T=n.value>r.value;w=Math.abs(w);let P="";if(w===4)P="full",w-=4;else if(w>=4||w<=-4){let C=w/4|0;P+=C,w-=C*4}if(w>0&&(P+=uo.getFractionSign(w)),P!==""){b=s-m*n.value;let C=b;T||(C=g+Math.abs(b-g)*1/3),l.font=c.tablatureFont;let M=l.measureText(P),E=C-c.tablatureFont.size*.5-2*this.scale,D=y-M/2;l.fillText(P,D,E)}}}static getFractionSign(e){switch(e){case 1:return"";case 2:return"";case 3:return"";default:return e+"/ 4"}}}uo.ArrowSize=6;uo.DashSize=3;uo.BendValueHeight=6;class Ca extends In{constructor(e){super(0,0),this._isSimpleDip=!1,this._beat=e,this._renderPoints=this.createRenderingPoints(e)}createRenderingPoints(e){if(e.whammyBarType===pr.Custom)return e.whammyBarPoints;let r=[];switch(e.whammyBarType){case pr.Dive:case pr.Hold:case pr.PrediveDive:case pr.Predive:r.push(new Je(0,e.whammyBarPoints[0].value)),r.push(new Je(Je.MaxPosition,e.whammyBarPoints[1].value));break;case pr.Dip:r.push(new Je(0,e.whammyBarPoints[0].value)),r.push(new Je(Je.MaxPosition/2|0,e.whammyBarPoints[1].value)),r.push(new Je(Je.MaxPosition,e.whammyBarPoints[e.whammyBarPoints.length-1].value));break}return r}doLayout(){super.doLayout(),this._isSimpleDip=this.renderer.settings.notation.notationMode===ui.SongBook&&this._beat.whammyBarType===pr.Dip;let e=null,r=null,n=this._beat;for(;n&&n.hasWhammyBar;)(!e||e.value>n.minWhammyPoint.value)&&(e=n.minWhammyPoint),(!r||r.value<n.maxWhammyPoint.value)&&(r=n.maxWhammyPoint),n=n.nextBeat;let i=r.value>0?Math.abs(this.getOffset(r.value)):0;(i>0||this._beat.whammyBarPoints[0].value!==0||this.renderer.settings.notation.isNotationElementVisible(Bt.ZerosOnDiveWhammys))&&(i+=this.renderer.resources.tablatureFont.size*2);let s=e.value<0?Math.abs(this.getOffset(e.value)):0;this.renderer.registerOverflowTop(i+s);let a=this.renderer.staff.getSharedLayoutData(Ca.TopOffsetSharedDataKey,-1);i>a&&this.renderer.staff.setSharedLayoutData(Ca.TopOffsetSharedDataKey,i)}getOffset(e){if(e===0)return 0;let r=Ca.PerHalfSize*this.scale+Math.log2(Math.abs(e)/2)*Ca.PerHalfSize*this.scale;return e<0&&(r=-r),r}paint(e,r,n){let i=this.renderer,s=this._beat.nextBeat,a=null,o=Zt.PreNotes;s&&(a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,s.voice.bar),!a||a.staff!==i.staff||a!==i&&!s.hasWhammyBar?(s=null,a=null):o=s.hasWhammyBar&&(i.settings.notation.notationMode!==ui.SongBook||s.whammyBarType!==pr.Dip)?Zt.MiddleNotes:Zt.PreNotes);let l=0,u=0;this._isSimpleDip?(l=e+i.x+i.getBeatX(this._beat,Zt.OnNotes)-2*this.scale,u=e+i.x+i.getBeatX(this._beat,Zt.PostNotes)+2*this.scale):(l=e+i.x+i.getBeatX(this._beat,Zt.MiddleNotes),u=a?e+a.x+a.getBeatX(s,o):e+i.x+i.width-2*this.scale);let c=n.textAlign;if(n.textAlign=St.Center,this._renderPoints.length>=2){let h=(u-l)/Je.MaxPosition;n.beginPath();let f=r+this.renderer.staff.getSharedLayoutData(Ca.TopOffsetSharedDataKey,0),m=this._beat.whammyStyle===Ir.Gradual?"grad.":"";for(let g=0,y=this._renderPoints.length-1;g<y;g++){let b=this._renderPoints[g],x=this._renderPoints[g+1],v=g<y-2?this._renderPoints[g+2]:null,w=g===0;g===0&&b.value!==0&&!this._beat.isContinuedWhammy&&(this.paintWhammy(!1,new Je(0,0),b,x,l,f,h,n),w=!1),this.paintWhammy(w,b,x,v,l,f,h,n,m),m=""}n.stroke()}n.textAlign=c}paintWhammy(e,r,n,i,s,a,o,l,u){let c=s+o*r.offset,h=s+o*n.offset,f=a-this.getOffset(r.value),m=a-this.getOffset(n.value);if(r.offset===n.offset){let b=Ca.DashSize*this.scale;if(Math.abs(m-f)/(b*2)<1)l.moveTo(c,f),l.lineTo(h,m);else{let v=Math.max(f,m),w=Math.min(f,m);for(;v>w;)l.moveTo(c,w),l.lineTo(c,w+b),w+=b*2}l.stroke()}else if(r.value===n.value){let b=Ca.DashSize*this.scale;if(Math.abs(h-c)/(b*2)<1)l.moveTo(c,f),l.lineTo(h,m);else{let v=Math.max(c,h),w=Math.min(c,h);for(;v>w;)l.moveTo(v,f),l.lineTo(v-b,f),v-=b*2}l.stroke()}else l.moveTo(c,f),l.lineTo(h,m);let g=this.renderer.resources;if(e&&!this._beat.isContinuedWhammy&&!this._isSimpleDip){let b=f;b-=g.tablatureFont.size+2*this.scale,this.renderer.settings.notation.isNotationElementVisible(Bt.ZerosOnDiveWhammys)&&l.fillText("0",c,b),u&&(b-=g.tablatureFont.size+2*this.scale,l.fillText(u,c,b))}let y=Math.abs(n.value);if((y!==0||this.renderer.settings.notation.isNotationElementVisible(Bt.ZerosOnDiveWhammys)&&!this._isSimpleDip)&&r.value!==n.value){let b="";if(n.value<0&&(b+="-"),y>=4){let w=y/4|0;b+=w,y-=w*4}else y===0&&(b+="0");y>0&&(b+=uo.getFractionSign(y));let x=0;this._isSimpleDip?x=Math.min(f,m)-g.tablatureFont.size-2*this.scale:(x=r.offset===n.offset?Math.min(f,m):m,x-=g.tablatureFont.size+2*this.scale,i&&i.value>n.value&&(x-=2*this.scale));let v=h;l.fillText(b,v,x)}}}Ca.TopOffsetSharedDataKey="tab.whammy.topoffset";Ca.PerHalfSize=6;Ca.DashSize=3;class jd extends nN{constructor(e){super(0,0),this._beat=e}doLayout(){let e=this.renderer.settings.notation.notationMode;switch(this._beat.whammyBarType){case pr.None:case pr.Custom:case pr.Hold:return;case pr.Dive:case pr.PrediveDive:{let r=new Fs(this._beat,!1);r.renderer=this.renderer;let n=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let i of this._beat.notes)i.isTieOrigin||r.addGlyph(this.getBendNoteValue(i,n),n.value%2!==0);r.doLayout(),this.BendNoteHeads.push(r)}break;case pr.Dip:if(e===ui.SongBook){let r=this.renderer.resources;this.renderer.simpleWhammyOverflow=r.tablatureFont.size*1.5+jd.SimpleDipHeight*this.scale+jd.SimpleDipPadding*this.scale}else{let r=new Fs(this._beat,!1);if(r.renderer=this.renderer,this.renderer.settings.notation.notationMode===ui.GuitarPro){let i=this._beat.whammyBarPoints[1];for(let s of this._beat.notes)r.addGlyph(this.getBendNoteValue(s,this._beat.whammyBarPoints[1]),i.value%2!==0)}r.doLayout(),this.BendNoteHeads.push(r);let n=new Fs(this._beat,!1);if(n.renderer=this.renderer,this.renderer.settings.notation.notationMode===ui.GuitarPro){let i=this._beat.whammyBarPoints[this._beat.whammyBarPoints.length-1];for(let s of this._beat.notes)n.addGlyph(this.getBendNoteValue(s,i),i.value%2!==0)}n.doLayout(),this.BendNoteHeads.push(n)}break;case pr.Predive:break}super.doLayout()}paint(e,r,n){let i=this._beat;switch(i.whammyBarType){case pr.None:case pr.Custom:return}let s=this.renderer.settings.notation.notationMode,a=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,i.voice.bar),o=e+a.x+a.getBeatX(i,Zt.MiddleNotes),l=this.getTieDirection(i,a),u=this._beat.notes.length===1?l:He.Up,c=n.textAlign;for(let h=0;h<i.notes.length;h++){let f=i.notes[h],m=r+a.y;h>0&&h>=(this._beat.notes.length/2|0)&&(u=He.Down),u===He.Down?m+=a.getNoteY(f,pt.Bottom):m+=a.getNoteY(f,pt.Top);let g=e+a.x;i.isLastOfVoice?g+=a.width:g+=a.getBeatX(i,Zt.EndBeat),g-=8*this.scale;let y=i.whammyStyle===Ir.Gradual&&h===0?"grad.":"",b=null;f.isTieOrigin&&(b=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,f.tieDestination.beat.voice.bar),b&&b.staff===a.staff?g=e+b.x+b.getBeatX(f.tieDestination.beat,Zt.MiddleNotes):b=null);let x=Xt.NoteHeadHeight*this.scale*Xt.GraceScale*.5;u===He.Up&&(x=-x);let v=i.whammyBarPoints.length>0?this.getBendNoteValue(f,i.whammyBarPoints[i.whammyBarPoints.length-1]):0,w=0,T=!1;switch(this.BendNoteHeads.length>0&&this.BendNoteHeads[0].containsNoteValue(v)?(w=this.BendNoteHeads[0].getNoteValueY(v)+x,T=!0):b&&(f.isTieOrigin&&f.tieDestination.beat.hasWhammyBar||f.beat.isContinuedWhammy)?(w=r+b.y+b.getNoteY(f.tieDestination,pt.Top),T=!0,u===He.Down&&(w+=Xt.NoteHeadHeight*this.scale)):f.isTieOrigin&&(b?w=r+b.y+b.getNoteY(f.tieDestination,pt.Top):w=m,u===He.Down&&(w+=Xt.NoteHeadHeight*this.scale)),i.whammyBarType){case pr.Hold:f.isTieOrigin&&vi.paintTie(n,this.scale,o,m,g,w,l===He.Down,22,4);break;case pr.Dive:h===0&&(this.BendNoteHeads[0].x=g-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.BendNoteHeads[0].containsNoteValue(v)&&(w+=this.BendNoteHeads[0].y)),T?this.drawBendSlur(n,o,m,g,w,u===He.Down,this.scale,y):f.isTieOrigin&&vi.paintTie(n,this.scale,o,m,g,w,l===He.Down,22,4);break;case pr.Dip:if(s===ui.SongBook){if(h===0){let M=e+a.x+a.getBeatX(this._beat,Zt.OnNotes)-2*this.scale,E=e+a.x+a.getBeatX(this._beat,Zt.PostNotes)+2*this.scale,D=(M+E)/2,I=((this._beat.whammyBarPoints[1].value-this._beat.whammyBarPoints[0].value)/4|0).toString();n.font=this.renderer.resources.tablatureFont,n.fillText(I,D,r+this.y);let A=r+this.y+n.font.size+2*this.scale,W=A+jd.SimpleDipHeight*this.scale;this._beat.whammyBarPoints[1].value>this._beat.whammyBarPoints[0].value?(n.moveTo(M,W),n.lineTo(D,A),n.lineTo(E,W)):(n.moveTo(M,A),n.lineTo(D,W),n.lineTo(E,A)),n.stroke()}f.isTieOrigin&&vi.paintTie(n,this.scale,o,m,g,w,l===He.Down,22,4)}else{let M=(o+g)/2;this.BendNoteHeads[0].x=M-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n);let E=this.getBendNoteValue(f,i.whammyBarPoints[1]),D=this.BendNoteHeads[0].getNoteValueY(E)+x;this.drawBendSlur(n,o,m,M,D,u===He.Down,this.scale,y),this.BendNoteHeads[1].x=g-this.BendNoteHeads[1].noteHeadOffset,this.BendNoteHeads[1].y=r+a.y,this.BendNoteHeads[1].paint(0,0,n),w=this.BendNoteHeads[1].getNoteValueY(v)+x,this.drawBendSlur(n,M,D,g,w,u===He.Down,this.scale,y)}break;case pr.PrediveDive:case pr.Predive:let P=e+a.x+a.getBeatX(f.beat,Zt.PreNotes);P+=a.getPreNotesGlyphForBeat(f.beat).prebendNoteHeadOffset;let C=r+a.y+a.getScoreY(a.accidentalHelper.getNoteLineForValue(f.displayValue-(f.beat.whammyBarPoints[0].value/2|0),!1))+x;this.drawBendSlur(n,P,C,o,m,u===He.Down,this.scale,y),this.BendNoteHeads.length>0&&(this.BendNoteHeads[0].x=g-this.BendNoteHeads[0].noteHeadOffset,this.BendNoteHeads[0].y=r+a.y,this.BendNoteHeads[0].paint(0,0,n),this.drawBendSlur(n,o,m,g,w,u===He.Down,this.scale,y));break}}n.textAlign=c}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}jd.SimpleDipHeight=Ca.PerHalfSize*2;jd.SimpleDipPadding=2;class As extends In{constructor(e,r,n){super(e,r),this.width=n}}class Pxe extends En{constructor(e,r,n,i,s){super(e,r,s?Xt.GraceScale:1,n.getSymbol(i)),this._isGrace=s,this._articulation=n}paint(e,r,n){let i=this._isGrace?this.scale:0;n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this.symbol,!1),this._articulation.techniqueSymbol!==R.None&&this._articulation.techniqueSymbolPlacement===jt.Middle&&n.fillMusicFontSymbol(e+this.x,r+this.y+i,this.glyphScale*this.scale,this._articulation.techniqueSymbol,!1)}doLayout(){let e=(this._isGrace?Xt.GraceScale:1)*this.scale;switch(this.symbol){case R.NoteheadWhole:this.width=14;break;case R.NoteheadCircleX:case R.NoteheadDiamondWhite:this.width=9;break;case R.NoteheadHeavyXHat:case R.NoteheadHeavyX:this.width=13;break;default:this.width=10;break}this.width=this.width*(this._isGrace?Xt.GraceScale:1)*this.scale,this.height=Xt.NoteHeadHeight*e}}class ZF extends En{constructor(e,r){super(e,r,Xt.GraceScale,R.ArticStaccatoAbove)}doLayout(){this.width=Xt.QuarterNoteHeadWidth*this.scale,this.height=7*this.scale}paint(e,r,n){super.paint(e+3*this.scale,r+5*this.scale,n)}}class Bxe extends En{constructor(e,r){super(e,r,.5,R.PictEdgeOfCymbal)}doLayout(){this.width=22*this.scale,this.height=15*this.scale}paint(e,r,n){super.paint(e-3*this.scale,r+this.height,n)}}class Mxe extends En{constructor(e,r){super(e,r,Xt.GraceScale,R.GuitarGolpe)}doLayout(){this.width=9*this.scale,this.height=10*this.scale}paint(e,r,n){super.paint(e,r+this.height,n)}}class Nxe extends ZM{constructor(){super(...arguments),this._collisionOffset=-1e3,this._skipPaint=!1,this.noteHeads=null,this.restGlyph=null}getNoteX(e,r){return this.noteHeads?this.noteHeads.getNoteX(e,r):0}buildBoundingsLookup(e,r,n){this.noteHeads&&this.noteHeads.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteY(e,r){return this.noteHeads?this.noteHeads.getNoteY(e,r):0}updateBeamingHelper(){if(this.noteHeads)this.noteHeads.updateBeamingHelper(this.container.x+this.x);else if(this.restGlyph&&(this.restGlyph.updateBeamingHelper(this.container.x+this.x),this.renderer.bar.isMultiVoice&&this._collisionOffset===-1e3)){this._collisionOffset=this.renderer.helpers.collisionHelper.applyRestCollisionOffset(this.container.beat,this.restGlyph.y,this.renderer.getScoreHeight(1)),this.y+=this._collisionOffset;const e=this.renderer.helpers.collisionHelper.restDurationsByDisplayTime;e.has(this.container.beat.playbackStart)&&e.get(this.container.beat.playbackStart).has(this.container.beat.playbackDuration)&&e.get(this.container.beat.playbackStart).get(this.container.beat.playbackDuration)!==this.container.beat.id&&(this._skipPaint=!0)}}paint(e,r,n){this._skipPaint||super.paint(e,r,n)}doLayout(){let e=this.renderer;if(!this.container.beat.isEmpty)if(this.container.beat.isRest){let r=Math.ceil((this.renderer.bar.staff.standardNotationLineCount-1)/2)*2;this.container.beat.duration===oe.Whole&&this.renderer.bar.staff.standardNotationLineCount!==1&&this.renderer.bar.staff.standardNotationLineCount!==3&&(r-=2);const n=new op(0,e.getScoreY(r),this.container.beat.duration);if(this.restGlyph=n,n.beat=this.container.beat,n.beamingHelper=this.beamingHelper,this.addGlyph(n),this.renderer.bar.isMultiVoice)if(this.container.beat.voice.index===0){const i=na.computeLineHeightsForRest(this.container.beat.duration);let s=n.y-e.getScoreHeight(i[0]),a=n.y+e.getScoreHeight(i[1]);this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}else this.renderer.helpers.collisionHelper.registerRest(this.container.beat);if(this.beamingHelper&&this.beamingHelper.applyRest(this.container.beat,r),this.container.beat.dots>0){this.addGlyph(new As(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new fl(0,0);s.renderer=this.renderer,this.createBeatDot(r,s),this.addGlyph(s)}}}else{const r=new Txe;this.noteHeads=r,r.beat=this.container.beat,r.beamingHelper=this.beamingHelper;let n=new Lw(!1);n.renderer=this.renderer;for(let i of this.container.beat.notes)i.isVisible&&(this.createNoteGlyph(i),n.addParenthesis(i));if(this.addGlyph(r),n.isEmpty||(this.addGlyph(new As(0,0,4*(this.container.beat.graceType!==_t.None?Xt.GraceScale:1)*this.scale)),this.addGlyph(n)),this.container.beat.hasWhammyBar){let i=new jd(this.container.beat);i.renderer=this.renderer,i.doLayout(),this.container.ties.push(i)}if(this.container.beat.dots>0){this.addGlyph(new As(0,0,5*this.scale));for(let i=0;i<this.container.beat.dots;i++){let s=new fl(0,0);s.renderer=this.renderer;for(let a of this.container.beat.notes)this.createBeatDot(e.getNoteLine(a),s);this.addGlyph(s)}}}super.doLayout(),this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteHeads.x+this.noteHeads.width/2}createBeatDot(e,r){let n=this.renderer;r.addGlyph(new rP(0,n.getScoreY(e),1.5*this.scale))}createNoteHeadGlyph(e){let r=this.container.beat.graceType!==_t.None;if(e.beat.voice.bar.staff.isPercussion){const n=Ni.getArticulation(e);if(n)return new Pxe(0,0,n,e.beat.duration,r);Fe.warning("Rendering",`No articulation found for percussion instrument ${e.percussionArticulation}`)}return e.isDead?new kxe(0,0,r):e.beat.graceType===_t.BendGrace?new Xt(0,0,oe.Quarter,!0):e.harmonicType===bt.Natural?new Iw(0,0,e.beat.duration,r):new Xt(0,0,e.beat.duration,r)}createNoteGlyph(e){if(e.beat.graceType===_t.BendGrace&&!e.hasBend)return;let r=this.renderer,n=this.createNoteHeadGlyph(e),i=r.getNoteLine(e);if(n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i),e.harmonicType!==bt.None&&e.harmonicType!==bt.Natural){let s=e.displayValue+e.harmonicPitch;n=new Iw(0,0,e.beat.duration,this.container.beat.graceType!==_t.None),i=r.accidentalHelper.getNoteLineForValue(s,!1),n.y=r.getScoreY(i),this.noteHeads.addNoteGlyph(n,e,i)}if(e.isStaccato&&!this.noteHeads.aboveBeatEffects.has("Staccato")&&this.noteHeads.belowBeatEffects.set("Staccato",new ZF(0,0)),e.accentuated===Xn.Normal&&!this.noteHeads.aboveBeatEffects.has("Accent")&&this.noteHeads.belowBeatEffects.set("Accent",new Dw(0,0,Xn.Normal)),e.accentuated===Xn.Heavy&&!this.noteHeads.aboveBeatEffects.has("HAccent")&&this.noteHeads.belowBeatEffects.set("HAccent",new Dw(0,0,Xn.Heavy)),e.isPercussion){const s=Ni.getArticulation(e);if(s&&s.techniqueSymbolPlacement!==jt.Middle){const a=s.techniqueSymbolPlacement===jt.Top?this.noteHeads.aboveBeatEffects:this.noteHeads.belowBeatEffects;switch(s.techniqueSymbol){case R.PictEdgeOfCymbal:a.set("PictEdgeOfCymbal",new Bxe(0,0));break;case R.ArticStaccatoAbove:a.set("ArticStaccatoAbove",new ZF(0,0));break;case R.StringsUpBow:a.set("StringsUpBow",new uy(0,0,Ii.Up));break;case R.StringsDownBow:a.set("StringsDownBow",new uy(0,0,Ii.Down));break;case R.GuitarGolpe:a.set("GuitarGolpe",new Mxe(0,0));break}}}}}class Exe extends In{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=this._beat.brushType===Qr.ArpeggioUp||this._beat.brushType===Qr.ArpeggioDown?10*this.scale:0}paint(e,r,n){if(this._beat.brushType===Qr.ArpeggioUp||this._beat.brushType===Qr.ArpeggioDown){let i=this.renderer,s=i.lineOffset,a=r+this.y+(i.getNoteY(this._beat.maxNote,pt.Bottom)-s),o=r+this.y+i.getNoteY(this._beat.minNote,pt.Top)+s,l=e+this.x+this.width/2,u=8*this.scale,c=new lh(0,0,hr.Slight,1.2,!0);c.renderer=this.renderer,c.doLayout();let h=-c.height/2;if(this._beat.brushType===Qr.ArpeggioUp){let f=a+u,m=o-u;c.width=Math.abs(m-f),n.beginRotate(e+this.x+5*this.scale,m,-90),c.paint(0,h,n),n.endRotate(),n.beginPath(),n.moveTo(l,o),n.lineTo(l+u/2,o-u),n.lineTo(l-u/2,o-u),n.closePath(),n.fill()}else if(this._beat.brushType===Qr.ArpeggioDown){let f=a+u,m=o;c.width=Math.abs(m-f),n.beginRotate(e+this.x+5*this.scale,f,90),c.paint(0,h,n),n.endRotate(),n.beginPath(),n.moveTo(l,a),n.lineTo(l+u/2,a+u),n.lineTo(l-u/2,a+u),n.closePath(),n.fill()}}}}class Rxe extends W1{get prebendNoteHeadOffset(){return this._prebends?this._prebends.x+this._prebends.noteHeadOffset:0}doLayout(){if(!this.container.beat.isRest){let e=new uW;e.renderer=this.renderer;let r=new Lw(!0);r.renderer=this.renderer;const n=new Fs(this.container.beat,!0);this._prebends=n,n.renderer=this.renderer;for(let i of this.container.beat.notes)if(i.isVisible){if(i.hasBend)switch(i.bendType){case ct.PrebendBend:case ct.Prebend:case ct.PrebendRelease:n.addGlyph(i.displayValue-(i.bendPoints[0].value/2|0),!1);break}else if(i.beat.hasWhammyBar)switch(i.beat.whammyBarType){case pr.PrediveDive:case pr.Predive:this._prebends.addGlyph(i.displayValue-(i.beat.whammyBarPoints[0].value/2|0),!1);break}this.createAccidentalGlyph(i,e),r.addParenthesis(i)}n.isEmpty||(this.addGlyph(n),this.addGlyph(new As(0,0,4*(this.container.beat.graceType!==_t.None?Xt.GraceScale:1)*this.scale))),this.container.beat.brushType!==Qr.None&&(this.addGlyph(new Exe(this.container.beat)),this.addGlyph(new As(0,0,4*this.scale))),r.isEmpty||(this.addGlyph(r),this.addGlyph(new As(0,0,4*(this.container.beat.graceType!==_t.None?Xt.GraceScale:1)*this.scale))),e.isEmpty||(this.accidentals=e,this.addGlyph(new As(0,0,2*(this.container.beat.graceType!==_t.None?Xt.GraceScale:1)*this.scale)),this.addGlyph(e),this.addGlyph(new As(0,0,2*(this.container.beat.graceType!==_t.None?Xt.GraceScale:1)*this.scale)))}super.doLayout()}createAccidentalGlyph(e,r){let n=this.renderer,i=n.accidentalHelper.applyAccidental(e),s=n.getNoteLine(e),a=this.container.beat.graceType!==_t.None;if(i!==Mr.None){let o=new Ic(0,n.getScoreY(s),i,a);o.renderer=this.renderer,r.addGlyph(o)}if(e.harmonicType!==bt.None&&e.harmonicType!==bt.Natural){let o=e.displayValue+e.harmonicPitch;i=n.accidentalHelper.applyAccidentalForValue(e.beat,o,a,!1),s=n.accidentalHelper.getNoteLineForValue(o,!1);let l=new Ic(0,n.getScoreY(s),i,a);l.renderer=this.renderer,r.addGlyph(l)}}constructor(){super(),this._prebends=null,this.accidentals=null}}class iN extends En{constructor(e,r,n,i){super(e,r,i,iN.getSymbol(n)),this._digit=0,this._scale=0,this._digit=n,this._scale=i}doLayout(){this.width=this.getDigitWidth(this._digit)*this.scale*this._scale}getDigitWidth(e){switch(e){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return 14;case 1:return 10;default:return 0}}static getSymbol(e){switch(e){case 0:return R.TimeSig0;case 1:return R.TimeSig1;case 2:return R.TimeSig2;case 3:return R.TimeSig3;case 4:return R.TimeSig4;case 5:return R.TimeSig5;case 6:return R.TimeSig6;case 7:return R.TimeSig7;case 8:return R.TimeSig8;case 9:return R.TimeSig9;default:return R.None}}}class Bv extends fl{constructor(e,r,n,i=1){super(e,r),this._number=0,this._scale=0,this._number=n,this._scale=i}doLayout(){let e=this._number;for(;e>0;){let r=e%10,n=new iN(0,0,r,this._scale);this.addGlyph(n),e=e/10|0}if(this.glyphs){this.glyphs.reverse();let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.y=0,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r}}}Bv.numberHeight=18;class cW extends fl{constructor(e,r,n,i,s){super(e,r),this._numerator=0,this._denominator=0,this._numerator=n,this._denominator=i,this._isCommon=s}doLayout(){if(this._isCommon&&this._numerator===2&&this._denominator===2){let e=new En(0,0,this.commonScale,R.TimeSigCutCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else if(this._isCommon&&this._numerator===4&&this._denominator===4){let e=new En(0,0,this.commonScale,R.TimeSigCommon);e.width=14*this.scale,this.addGlyph(e),super.doLayout()}else{const e=Bv.numberHeight*this.scale;let r=new Bv(0,-e/2,this._numerator,this.numberScale),n=new Bv(0,e/2,this._denominator,this.numberScale);this.addGlyph(r),this.addGlyph(n),super.doLayout();for(let i=0,s=this.glyphs.length;i<s;i++){let a=this.glyphs[i];a.x=(this.width-a.width)/2}}}}class Dxe extends cW{get commonScale(){return 1}get numberScale(){return 1}}class Ixe extends nN{constructor(e){super(0,0),this._notes=[],this._endNoteGlyph=null,this._middleNoteGlyph=null,this._beat=e}addBends(e){if(this._notes.push(e),!e.isTieOrigin)switch(e.bendType){case ct.Bend:case ct.PrebendRelease:case ct.PrebendBend:{let r=this._endNoteGlyph;r||(r=new Fs(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case ct.Release:if(!e.isTieOrigin){let r=this._endNoteGlyph;r||(r=new Fs(e.beat,!1),r.renderer=this.renderer,this._endNoteGlyph=r,this.BendNoteHeads.push(r));let n=e.bendPoints[e.bendPoints.length-1];r.addGlyph(this.getBendNoteValue(e,n),n.value%2!==0)}break;case ct.BendRelease:{let r=this._middleNoteGlyph;r||(r=new Fs(e.beat,!1),this._middleNoteGlyph=r,r.renderer=this.renderer,this.BendNoteHeads.push(r));let n=e.bendPoints[1];r.addGlyph(this.getBendNoteValue(e,e.bendPoints[1]),n.value%2!==0);let i=this._endNoteGlyph;i||(i=new Fs(e.beat,!1),i.renderer=this.renderer,this._endNoteGlyph=i,this.BendNoteHeads.push(i));let s=e.bendPoints[e.bendPoints.length-1];i.addGlyph(this.getBendNoteValue(e,s),s.value%2!==0)}break}}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._beat.voice.bar),s=e+i.x+i.getBeatX(this._beat,Zt.MiddleNotes),a=e+i.x;this._beat.isLastOfVoice?a+=i.postBeatGlyphsStart:a+=i.getBeatX(this._beat.nextBeat,Zt.PreNotes),a-=8*this.scale;let o=(s+a)/2;this._middleNoteGlyph&&(this._middleNoteGlyph.x=o-this._middleNoteGlyph.noteHeadOffset,this._middleNoteGlyph.y=r+i.y,this._middleNoteGlyph.paint(0,0,n)),this._endNoteGlyph&&(this._endNoteGlyph.x=a-this._endNoteGlyph.noteHeadOffset,this._endNoteGlyph.y=r+i.y,this._endNoteGlyph.paint(0,0,n)),this._notes.sort((c,h)=>h.displayValue-c.displayValue);let l=this._beat.graceType===_t.BendGrace?this._beat.nextBeat:this._beat,u=this._notes.length===1?this.getTieDirection(l,i):He.Up;for(let c=0;c<this._notes.length;c++){let h=this._notes[c];c>0&&c>=(this._notes.length/2|0)&&(u=He.Down);let f=r+i.y+i.getNoteY(h,pt.Top),m=Xt.NoteHeadHeight*this.scale*Xt.GraceScale*.5;u===He.Down&&(f+=Xt.NoteHeadHeight*this.scale);let g=h.bendStyle===Ir.Gradual?"grad.":"";if(h.isTieOrigin){let y=h.tieDestination,b=y?this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,y.beat.voice.bar):null;if(!b||b.staff!==i.staff){let x=e+i.x+i.width,v=h.tieDestination.realValue;i.accidentalHelper.applyAccidentalForValue(h.beat,v,!1,!0);let w=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(v,!1));h.bendType===ct.Hold||h.bendType===ct.Prebend?vi.paintTie(n,this.scale,s,f,x,w,u===He.Down,22,4):this.drawBendSlur(n,s,f,x,w,u===He.Down,this.scale,g)}else{let x=e+b.x+b.getBeatX(y.beat,Zt.MiddleNotes),v=r+b.y+b.getNoteY(y,pt.Top);u===He.Down&&(v+=Xt.NoteHeadHeight*this.scale),h.bendType===ct.Hold||h.bendType===ct.Prebend?vi.paintTie(n,this.scale,s,f,x,v,u===He.Down,22,4):this.drawBendSlur(n,s,f,x,v,u===He.Down,this.scale,g)}switch(h.bendType){case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:let x=e+i.x+i.getBeatX(h.beat,Zt.PreNotes);x+=i.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let v=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(h.displayValue-(h.bendPoints[0].value/2|0),!1))+m;this.drawBendSlur(n,x,v,s,f,u===He.Down,this.scale);break}}else{u===He.Up&&(m=-m);let y=0,b=0;switch(h.bendType){case ct.Bend:y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this._endNoteGlyph.getNoteValueY(y)+m,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,g);break;case ct.BendRelease:let x=this.getBendNoteValue(h,h.bendPoints[1]),v=this._middleNoteGlyph.getNoteValueY(x)+m;this.drawBendSlur(n,s,f,o,v,u===He.Down,this.scale,g),y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this._endNoteGlyph.getNoteValueY(y)+m,this.drawBendSlur(n,o,v,a,b,u===He.Down,this.scale,g);break;case ct.Release:this.BendNoteHeads.length>0&&(y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this.BendNoteHeads[0].getNoteValueY(y)+m,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,g));break;case ct.Prebend:case ct.PrebendBend:case ct.PrebendRelease:let w=e+i.x+i.getBeatX(h.beat,Zt.PreNotes);w+=i.getPreNotesGlyphForBeat(h.beat).prebendNoteHeadOffset;let T=r+i.y+i.getScoreY(i.accidentalHelper.getNoteLineForValue(h.displayValue-(h.bendPoints[0].value/2|0),!1))+m;this.drawBendSlur(n,w,T,s,f,u===He.Down,this.scale),this.BendNoteHeads.length>0&&(y=this.getBendNoteValue(h,h.bendPoints[h.bendPoints.length-1]),b=this.BendNoteHeads[0].getNoteValueY(y)+m,this.drawBendSlur(n,s,f,a,b,u===He.Down,this.scale,g));break}}}}getBendNoteValue(e,r){return e.displayValueWithoutBend+(r.value/2|0)}}class nP extends vi{constructor(e,r,n=!1){super(e,r,n)}doLayout(){super.doLayout()}getBeamDirection(e,r){if(e.isRest)return He.Up;switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this.startBeat.maxNote,pt.Top);default:return this.startNoteRenderer.getNoteY(this.startBeat.minNote,pt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case He.Up:return e.getScoreY(9);default:return e.getScoreY(0)}const r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);if(r!==n&&this.startBeat.graceType===_t.None)if(n===this.tieDirection)switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,pt.TopWithStem);default:return e.getNoteY(this.endBeat.minNote,pt.BottomWithStem)}else switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,pt.BottomWithStem);default:return e.getNoteY(this.endBeat.minNote,pt.TopWithStem)}switch(this.tieDirection){case He.Up:return e.getNoteY(this.endBeat.maxNote,pt.Top);default:return e.getNoteY(this.endBeat.minNote,pt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startBeat,Zt.MiddleNotes)}getEndX(){const e=this.endNoteRenderer.getBeatDirection(this.endBeat);return this.endNoteRenderer.getBeatX(this.endBeat,this.endBeat.duration>oe.Whole&&e===this.tieDirection?Zt.Stem:Zt.MiddleNotes)}}class Lxe extends In{constructor(e,r,n,i){super(0,0),this._outType=r,this._inType=e,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.drawSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=e+i.x+i.getNoteX(this._startNote,Nn.Left)-2*this.scale,o=r+i.y+i.getNoteY(this._startNote,pt.Center),l=a-s,u=r+i.y;switch(this._inType){case xi.IntoFromBelow:u+=i.getNoteY(this._startNote,pt.Bottom);break;case xi.IntoFromAbove:u+=i.getNoteY(this._startNote,pt.Top);break;default:return}let c=this.getAccidentalsWidth(i,this._startNote.beat);l-=c,a-=c,this.paintSlideLine(n,!1,l,a,u,o)}getAccidentalsWidth(e,r){let n=e.getPreNotesGlyphForBeat(r);return n&&n.accidentals?n.accidentals.width:0}drawSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=1*this.scale,o=2*this.scale,l=0,u=0,c=0,h=0,f=!1;switch(this._outType){case Ht.Shift:case Ht.Legato:if(l=e+i.x+i.getBeatX(this._startNote.beat,Zt.PostNotes),u=r+i.y+i.getNoteY(this._startNote,pt.Center),this._startNote.slideTarget){let m=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!m||m.staff!==i.staff?(c=e+i.x+i.width,h=u):(c=e+m.x+m.getBeatX(this._startNote.slideTarget.beat,Zt.PreNotes)-a,h=r+m.y+m.getNoteY(this._startNote.slideTarget,pt.Center)),this._startNote.slideTarget.realValue>this._startNote.realValue?(u+=o,h-=o):(u-=o,h+=o)}else c=e+i.x+this._parent.x,h=u;break;case Ht.OutUp:l=e+i.x+i.getNoteX(this._startNote,Nn.Right),u=r+i.y+i.getNoteY(this._startNote,pt.Center),c=l+s,h=r+i.y+i.getNoteY(this._startNote,pt.Top);break;case Ht.OutDown:l=e+i.x+i.getNoteX(this._startNote,Nn.Right),u=r+i.y+i.getNoteY(this._startNote,pt.Center),c=l+s,h=r+i.y+i.getNoteY(this._startNote,pt.Bottom);break;case Ht.PickSlideUp:l=e+i.x+i.getNoteX(this._startNote,Nn.Right),u=r+i.y+i.getNoteY(this._startNote,pt.Center),h=r+i.y+i.getNoteY(this._startNote,pt.Top),c=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(c=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,Zt.PreNotes)),f=!0;break;case Ht.PickSlideDown:l=e+i.x+i.getNoteX(this._startNote,Nn.Right),u=r+i.y+i.getNoteY(this._startNote,pt.Center),h=r+i.y+i.getNoteY(this._startNote,pt.Bottom),c=e+i.x+i.width,this._startNote.beat.nextBeat&&this._startNote.beat.nextBeat.voice===this._startNote.beat.voice&&(c=e+i.x+i.getBeatX(this._startNote.beat.nextBeat,Zt.PreNotes)),f=!0;break;default:return}this.paintSlideLine(n,f,l,c,u,h)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new lh(0,0,hr.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,u=a-s,c=Math.sqrt(Math.pow(u,2)+Math.pow(l,2));o.width=l;let h=Math.asin(u/c)*(180/Math.PI);e.beginRotate(n,s,h),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class zb extends nP{constructor(e,r,n=!1){super(e.beat,r.beat,n),this._startNote=e,this._endNote=r}getTieHeight(e,r,n,i){return Math.log2(n-e+1)*this.renderer.settings.notation.slurHeight}getStartY(){if(this.isStartCentered())switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this._startNote,pt.Top);default:return this.startNoteRenderer.getNoteY(this._startNote,pt.Bottom)}return this.startNoteRenderer.getNoteY(this._startNote,pt.Center)}getEndY(){if(this.isEndCentered())if(this.isEndOnStem())switch(this.tieDirection){case He.Up:return this.endNoteRenderer.getNoteY(this._endNote,pt.TopWithStem);default:return this.endNoteRenderer.getNoteY(this._endNote,pt.BottomWithStem)}else switch(this.tieDirection){case He.Up:return this.endNoteRenderer.getNoteY(this._endNote,pt.Top);default:return this.endNoteRenderer.getNoteY(this._endNote,pt.Bottom)}else return this.endNoteRenderer.getNoteY(this._endNote,pt.Center)}isStartCentered(){return this._startNote===this._startNote.beat.maxNote&&this.tieDirection===He.Up||this._startNote===this._startNote.beat.minNote&&this.tieDirection===He.Down}isEndCentered(){return this._startNote.beat.graceType===_t.None&&(this._endNote===this._endNote.beat.maxNote&&this.tieDirection===He.Up||this._endNote===this._endNote.beat.minNote&&this.tieDirection===He.Down)}isEndOnStem(){const e=this.endNoteRenderer,r=this.startNoteRenderer.getBeatDirection(this.startBeat),n=e.getBeatDirection(this.endBeat);return r!==n&&this.startBeat.graceType===_t.None}getStartX(){return this.isStartCentered()?this.startNoteRenderer.getBeatX(this._startNote.beat,Zt.MiddleNotes):this.startNoteRenderer.getNoteX(this._startNote,Nn.Right)}getEndX(){return this.isEndCentered()?this.isEndOnStem()?this.endNoteRenderer.getBeatX(this._endNote.beat,Zt.Stem):this.endNoteRenderer.getNoteX(this._endNote,Nn.Center):this.endNoteRenderer.getBeatX(this._endNote.beat,Zt.PreNotes)}}class eA extends vi{constructor(e,r,n=!1){super(e?e.beat:null,r?r.beat:null,n),this.startNote=e,this.endNote=r}shouldDrawBendSlur(){return this.renderer.settings.notation.extendBendArrowsOnTiedNotes&&!!this.startNote.bendOrigin&&this.startNote.isTieOrigin}doLayout(){super.doLayout()}getBeamDirection(e,r){switch(r.getBeatDirection(e)){case He.Up:return He.Down;default:return He.Up}}getStartY(){if(this.startBeat.isRest)return this.startNoteRenderer.getScoreY(9);switch(this.tieDirection){case He.Up:return this.startNoteRenderer.getNoteY(this.startNote,pt.Top);default:return this.startNoteRenderer.getNoteY(this.startNote,pt.Bottom)}}getEndY(){const e=this.endNoteRenderer;if(this.endBeat.isRest)switch(this.tieDirection){case He.Up:return e.getScoreY(9);default:return e.getScoreY(0)}switch(this.tieDirection){case He.Up:return e.getNoteY(this.endNote,pt.Top);default:return e.getNoteY(this.endNote,pt.Bottom)}}getStartX(){return this.startNoteRenderer.getBeatX(this.startNote.beat,Zt.PostNotes)}getEndX(){return this.endNoteRenderer.getBeatX(this.endNote.beat,Zt.PreNotes)}}class Fxe extends rl{constructor(e,r){super(e,r),this._bend=null,this._effectSlur=null,this._effectEndSlur=null}doLayout(){if(this._effectSlur=null,this._effectEndSlur=null,super.doLayout(),this.beat.isLegatoOrigin){if(!this.beat.previousBeat||!this.beat.previousBeat.isLegatoOrigin){let e=this.beat.nextBeat;for(;e.nextBeat&&e.nextBeat.isLegatoDestination;)e=e.nextBeat;this.addTie(new nP(this.beat,e,!1))}}else if(this.beat.isLegatoDestination&&!this.beat.isLegatoOrigin){let e=this.beat.previousBeat;for(;e.previousBeat&&e.previousBeat.isLegatoOrigin;)e=e.previousBeat;this.addTie(new nP(e,this.beat,!0))}this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(e.isVisible){if(e.isTieOrigin&&!e.hasBend&&!e.beat.hasWhammyBar&&e.beat.graceType!==_t.BendGrace&&e.tieDestination&&e.tieDestination.isVisible){let r=new eA(e,e.tieDestination,!1);this.addTie(r)}if(e.isTieDestination&&!e.tieOrigin.hasBend&&!e.beat.hasWhammyBar){let r=new eA(e.tieOrigin,e,!0);this.addTie(r)}if(e.slideInType!==xi.None||e.slideOutType!==Ht.None){let r=new Lxe(e.slideInType,e.slideOutType,e,this);this.addTie(r)}if(e.isSlurOrigin&&e.slurDestination&&e.slurDestination.isVisible){let r=new zb(e,e.slurDestination,!1);this.addTie(r)}if(e.isSlurDestination){let r=new zb(e.slurOrigin,e,!0);this.addTie(r)}if(!this._effectSlur&&e.isEffectSlurOrigin&&e.effectSlurDestination){const r=new zb(e,e.effectSlurDestination,!1);this._effectSlur=r,this.addTie(r)}if(!this._effectEndSlur&&e.beat.isEffectSlurDestination&&e.beat.effectSlurOrigin){let r=this.onNotes.beamingHelper.direction,n=r===He.Up?e.beat.effectSlurOrigin.minNote:e.beat.effectSlurOrigin.maxNote,i=r===He.Up?e.beat.minNote:e.beat.maxNote;const s=new zb(n,i,!0);this._effectEndSlur=s,this.addTie(s)}if(e.hasBend){if(!this._bend){const r=new Ixe(e.beat);this._bend=r,r.renderer=this.renderer,this.addTie(r)}this._bend.addBends(e)}}}}class co extends bn{constructor(e,r){super(e,r),this.simpleWhammyOverflow=0,this._firstLineY=0,this._startSpacing=!1,this.accidentalHelper=new On(this)}getBeatDirection(e){return this.helpers.getBeamingHelperForBeat(e).direction}get lineOffset(){return(bn.LineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=e.tablatureFont.size/2+e.tablatureFont.size*.2;this.topPadding=r*this.scale,this.bottomPadding=r*this.scale,this.height=this.lineOffset*4+this.topPadding+this.bottomPadding,this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.lineOffset*4,r=(this.bar.staff.standardNotationLineCount-1)*this.lineOffset;this._firstLineY=(e-r)/2}doLayout(){if(this.updateFirstLineY(),super.doLayout(),!this.bar.isEmpty&&this.accidentalHelper.maxLineBeat){let e=this.getScoreY(-2),r=this.getScoreY(6),n=this.simpleWhammyOverflow;this.registerOverflowTop(n);let i=this.getScoreY(this.accidentalHelper.maxLine),s=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.maxLineBeat);s.direction===He.Up&&(i-=this.getStemSize(s),i-=s.fingeringCount*this.resources.graceFont.size,s.hasTuplet&&(i-=this.resources.effectFont.size*2)),s.hasTuplet&&(i-=this.resources.effectFont.size*1.5),i<e&&this.registerOverflowTop(Math.abs(i)+n);let a=this.getScoreY(this.accidentalHelper.minLine),o=this.helpers.getBeamingHelperForBeat(this.accidentalHelper.minLineBeat);o.direction===He.Down&&(a+=this.getStemSize(o),a+=o.fingeringCount*this.resources.graceFont.size),a>r&&this.registerOverflowBottom(Math.abs(a)-r)}}paint(e,r,n){super.paint(e,r,n),this.paintBeams(e,r,n),this.paintTuplets(e,r,n)}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let u=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,u)}}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1?this.paintFlag(e,r,n,i):this.paintBar(e,r,n,i))}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=St.Center,n.textBaseline=jt.Middle;let l,u=i.beats[0].tupletNumerator,c=i.beats[0].tupletDenominator;u===2&&c===3?l="2":u===3&&c===2?l="3":u===4&&c===6?l="4":u===5&&c===4?l="5":u===6&&c===4?l="6":u===7&&c===4?l="7":u===9&&c===8?l="9":u===10&&c===8?l="10":u===11&&c===8?l="11":u===12&&c===8?l="12":u===13&&c===8?l="13":l=u+":"+c;let h=10*this.scale,f=5*this.scale;if(i.beats.length===1||!i.isFull)for(let m=0,g=i.beats.length;m<g;m++){let y=i.beats[m],b=this.helpers.beamHelperLookup[i.voice.index].get(y.index);if(!b)continue;let x=b.direction,v=b.getBeatLineX(y),w=this.calculateBeamYWithDirection(b,v,x);x===He.Down&&(h*=-1,f*=-1),n.font=s.effectFont,n.fillText(l,e+this.x+v,r+this.y+w-h-f)}else{let m=i.beats[0],g=i.beats[i.beats.length-1],y=null,b=null;for(let ae=0;ae<i.beats.length;ae++)if(!i.beats[ae].isRest){y=i.beats[ae];break}for(let ae=i.beats.length-1;ae>=0;ae--)if(!i.beats[ae].isRest){b=i.beats[ae];break}let x=!1;y||(y=m,x=!0),b||(b=g);let v=this.helpers.beamHelperLookup[i.voice.index].get(m.index),w=this.helpers.beamHelperLookup[i.voice.index].get(g.index),T=v.getBeatLineX(m),P=w.getBeatLineX(g),C=this.helpers.beamHelperLookup[i.voice.index].get(y.index),M=this.helpers.beamHelperLookup[i.voice.index].get(b.index),E=v.direction,D=this.calculateBeamYWithDirection(C,T,E),I=this.calculateBeamYWithDirection(M,P,E);x&&(D=Math.max(D,I),I=D),n.font=s.effectFont;let A=n.measureText(l),W=3*this.scale,V=(T+P)/2,$=V-A/2-W,L=V+A/2+W,H=(I-D)/(P-T),z=D-H*T,F=H*$+z,U=H*V+z,q=H*L+z;E===He.Down&&(h*=-1,f*=-1),n.beginPath(),n.moveTo(e+this.x+T,r+this.y+D-h|0),n.lineTo(e+this.x+T,r+this.y+D-h-f|0),n.lineTo(e+this.x+$,r+this.y+F-h-f|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+L,r+this.y+q-h-f|0),n.lineTo(e+this.x+P,r+this.y+I-h-f|0),n.lineTo(e+this.x+P,r+this.y+I-h|0),n.stroke(),n.fillText(l,e+this.x+V,r+this.y+U-h-f)}n.textAlign=a,n.textBaseline=o}getStemSize(e){let r=e.beats.length===1?this.getFlagStemSize(e.shortestDuration):this.getBarStemSize(e.shortestDuration);return e.isGrace&&(r=r*Xt.GraceScale),r}getBarStemSize(e){let r=0;switch(e){case oe.QuadrupleWhole:case oe.Half:case oe.Quarter:case oe.Eighth:case oe.Sixteenth:r=6;break;case oe.ThirtySecond:r=8;break;case oe.SixtyFourth:r=9;break;case oe.OneHundredTwentyEighth:r=9;break;case oe.TwoHundredFiftySixth:r=10;break;default:r=0;break}return this.getScoreHeight(r)}getFlagStemSize(e){let r=0;switch(e){case oe.QuadrupleWhole:case oe.Half:case oe.Quarter:case oe.Eighth:case oe.Sixteenth:case oe.ThirtySecond:case oe.SixtyFourth:case oe.OneHundredTwentyEighth:case oe.TwoHundredFiftySixth:r=6;break;default:r=0;break}return this.getScoreHeight(r)}get middleYPosition(){return this.getScoreY(this.bar.staff.standardNotationLineCount-1)}getNoteY(e,r){let n=super.getNoteY(e,r);if(isNaN(n)){const i=On.computeLineWithoutAccidentals(this.bar,e);n=this.getScoreY(i)}return n}calculateBeamY(e,r){return this.calculateBeamYWithDirection(e,r,e.direction)}applyLayoutingInfo(){const e=super.applyLayoutingInfo();if(e&&this.bar.isMultiVoice){let r=this.getScoreY(-2),n=this.getScoreY(6),i=this.helpers.collisionHelper.getBeatMinMaxY();i[0]<r&&this.registerOverflowTop(Math.abs(i[0])),i[1]>n&&this.registerOverflowBottom(Math.abs(i[1])-n)}return e}calculateBeamYWithDirection(e,r,n){let i=this.getStemSize(e);if(!e.drawingInfos.has(n)){let s=new rxe;e.drawingInfos.set(n,s);const a=e.beats[0],o=e.beats[e.beats.length-1];let l=e.isRestBeamHelper;s.startBeat=a,s.startX=e.getBeatLineX(a),l?s.startY=n===He.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.startY=n===He.Up?this.getScoreY(this.accidentalHelper.getMinLine(a))-i:this.getScoreY(this.accidentalHelper.getMaxLine(a))+i,s.endBeat=o,s.endX=e.getBeatLineX(o),l?s.endY=n===He.Up?this.getScoreY(e.minRestLine):this.getScoreY(e.maxRestLine):s.endY=n===He.Up?this.getScoreY(this.accidentalHelper.getMinLine(o))-i:this.getScoreY(this.accidentalHelper.getMaxLine(o))+i;let u=10*this.scale;if(n===He.Down&&s.startY>s.endY&&s.startY-s.endY>u&&(s.endY=s.startY-u),n===He.Down&&s.endY>s.startY&&s.endY-s.startY>u&&(s.startY=s.endY-u),n===He.Up&&s.startY<s.endY&&s.endY-s.startY>u&&(s.endY=s.startY+u),n===He.Up&&s.endY<s.startY&&s.startY-s.endY>u&&(s.startY=s.endY+u),e.beats.length>1){if(n===He.Up){let c=this.getScoreY(this.accidentalHelper.getMinLine(e.beatOfHighestNote))-i;const f=s.calcY(e.getBeatLineX(e.beatOfHighestNote))-c;f>0&&(s.startY-=f,s.endY-=f)}else{let c=this.getScoreY(this.accidentalHelper.getMaxLine(e.beatOfLowestNote))+i;const h=s.calcY(e.getBeatLineX(e.beatOfLowestNote)),f=c-h;f>0&&(s.startY+=f,s.endY+=f)}if(e.minRestLine!==null||e.maxRestLine!==null){const c=Yr.getIndex(e.shortestDuration)-2;let h=e.isGrace?Xt.GraceScale:1,f=c*(bn.BeamSpacing+bn.BeamThickness)*this.scale*h;if(f+=bn.BeamSpacing,n===He.Up&&e.minRestLine!==null){let m=this.getScoreY(e.minRestLine)-f;const y=s.calcY(e.getBeatLineX(e.beatOfMinRestLine))-m;y>0&&(s.startY-=y,s.endY-=y)}else if(n===He.Down&&e.maxRestLine!==null){let m=this.getScoreY(e.maxRestLine)+f;const g=s.calcY(e.getBeatLineX(e.beatOfMaxRestLine)),y=m-g;y>0&&(s.startY+=y,s.endY+=y)}}}}return e.drawingInfos.get(n).calcY(r)}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s],u=o.graceType!==_t.None?Xt.GraceScale:1,c=i.getBeatLineX(o),h=i.direction,f=r+this.y;f+=h===He.Up?this.getScoreY(this.accidentalHelper.getMaxLine(o)):this.getScoreY(this.accidentalHelper.getMinLine(o));let m=r+this.y;m+=this.calculateBeamY(i,c),n.lineWidth=bn.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+c,f),n.lineTo(e+this.x+c,m),n.stroke(),n.lineWidth=this.scale;let g=m;h===He.Down?g+=n.font.size*2:s!==0&&(g-=n.font.size*1.5),this.paintFingering(n,o,e+this.x+c,h,g);let y=6*this.scale*u,b=(bn.BeamSpacing+bn.BeamThickness)*this.scale*u,x=bn.BeamThickness*this.scale*u,v=Yr.getIndex(o.duration)-2,w=r+this.y;h===He.Down&&(b=-b,x=-x);for(let T=0;T<v;T++){let P=0,C=0,M=0,E=0,D=w+T*b;if(s<i.beats.length-1){if(na.isFullBarJoin(o,i.beats[s+1],T))P=c,C=i.getBeatLineX(i.beats[s+1]);else if(s===0||!na.isFullBarJoin(i.beats[s-1],o,T))P=c,C=P+y;else continue;M=D+this.calculateBeamY(i,P),E=D+this.calculateBeamY(i,C),co.paintSingleBar(n,e+this.x+P,M,e+this.x+C,E,x)}else s>0&&!na.isFullBarJoin(o,i.beats[s-1],T)&&(P=c-y,C=c,M=D+this.calculateBeamY(i,P),E=D+this.calculateBeamY(i,C),co.paintSingleBar(n,e+this.x+P,M,e+this.x+C,E,x))}}}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s+a),e.lineTo(r,n+a),e.closePath(),e.fill()}paintFlag(e,r,n,i){let s=i.beats[0];if(s.graceType===_t.BendGrace||s.graceType!==_t.None&&this.settings.notation.notationMode===ui.SongBook)return;let a=s.graceType!==_t.None,o=a?Xt.GraceScale:1,l=this.getFlagStemSize(i.shortestDuration),u=i.getBeatLineX(s),c=i.direction,h=this.getScoreY(this.accidentalHelper.getMinLine(s)),f=this.getScoreY(this.accidentalHelper.getMaxLine(s)),m=0,g=0;if(c===He.Down?(f+=l*o,m=f,g=r+this.y+f):(h-=l*o,m=h,g=r+this.y+h),this.paintFingering(n,s,e+this.x+u,c,g),!!i.hasLine){if(n.lineWidth=bn.StemWidth*this.scale,n.beginPath(),n.moveTo(e+this.x+u,r+this.y+h),n.lineTo(e+this.x+u,r+this.y+f),n.stroke(),n.lineWidth=this.scale,s.graceType===_t.BeforeBeat){let y=15*this.scale,b=12*this.scale;n.beginPath(),c===He.Down?(n.moveTo(e+this.x+u-b/2,r+this.y+f-y),n.lineTo(e+this.x+u+b/2,r+this.y+f)):(n.moveTo(e+this.x+u-b/2,r+this.y+h+y),n.lineTo(e+this.x+u+b/2,r+this.y+h)),n.stroke()}if(i.hasFlag){let y=new Mp(u-this.scale/2,m,s.duration,c,a);y.renderer=this,y.doLayout(),y.paint(e+this.x,r+this.y,n)}}}paintFingering(e,r,n,i,s){let a=this.settings;if(a.notation.fingeringMode!==hl.ScoreDefault&&a.notation.fingeringMode!==hl.ScoreForcePiano)return;i===He.Up?n-=10*this.scale:n+=3*this.scale;let o=r.notes.slice(0);o.sort((l,u)=>l.realValue-u.realValue);for(let l=0;l<o.length;l++){let u=o[l],c=null;u.leftHandFinger!==Ot.Unknown?c=Yr.fingerToString(a,r,u.leftHandFinger,!0):u.rightHandFinger!==Ot.Unknown&&(c=Yr.fingerToString(a,r,u.rightHandFinger,!1)),c&&(e.fillText(c,n,s),s-=e.font.size|0)}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new oW(0,0,1.5,3)),this.isFirstOfLine||this.bar.clef!==this.bar.previousBar.clef||this.bar.clefOttava!==this.bar.previousBar.clefOttava){let e=0;switch(this.bar.clef){case $t.Neutral:e=this.bar.staff.standardNotationLineCount-1;break;case $t.F4:e=2;break;case $t.C3:e=4;break;case $t.C4:e=2;break;case $t.G2:e=6;break}this.createStartSpacing(),this.addPreBeatGlyph(new rN(0,this.getScoreY(e)+.5*bn.StaffLineThickness,this.bar.clef,this.bar.clefOttava))}(this.index===0&&this.bar.masterBar.keySignature!==ri.C||this.bar.previousBar&&this.bar.masterBar.keySignature!==this.bar.previousBar.masterBar.keySignature)&&(this.createStartSpacing(),this.createKeySignatureGlyphs()),(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new nW(0,this.getScoreHeight(-.5),this.bar.index+1))}createBeatGlyphs(){for(let e=0;e<this.bar.voices.length;e++){let r=this.bar.voices[e];this.hasVoiceContainer(r)&&this.createVoiceGlyphs(r)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new sW(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new aW(0,this.getScoreHeight(-.5),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new iW(0,0))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new As(0,0,2*this.scale)),this._startSpacing=!0)}createKeySignatureGlyphs(){let e=0,r=this.bar.masterBar.keySignature,n=this.bar.previousBar?this.bar.previousBar.masterBar.keySignature:0;switch(this.bar.clef){case $t.Neutral:e=0;break;case $t.G2:e=1;break;case $t.F4:e=3;break;case $t.C3:e=2;break;case $t.C4:e=0;break}let i=new Map,s=[];if(Yr.keySignatureIsSharp(r))for(let l=0;l<Math.abs(r);l++){let u=co.SharpKsSteps[l]+e;s.push(new Ic(0,this.getScoreY(u),Mr.Sharp,!1)),i.set(u,!0)}else for(let l=0;l<Math.abs(r);l++){let u=co.FlatKsSteps[l]+e;s.push(new Ic(0,this.getScoreY(u),Mr.Flat,!1)),i.set(u,!0)}let a=Math.abs(n),o=Yr.keySignatureIsSharp(n)?co.SharpKsSteps:co.FlatKsSteps;for(let l=0;l<a;l++){let u=o[l]+e;i.has(u)||this.addPreBeatGlyph(new Ic(0,this.getScoreY(o[l]+e),Mr.Natural,!1))}for(let l of s)this.addPreBeatGlyph(l)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new As(0,0,5*this.scale));const e=this.bar.staff.standardNotationLineCount-1;this.addPreBeatGlyph(new Dxe(0,this.getScoreY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Fxe(i,this.getVoiceContainer(e));s.preNotes=new Rxe,s.onNotes=new Nxe,this.addBeatGlyph(s)}}getNoteLine(e){return this.accidentalHelper.getNoteLine(e)}getScoreY(e){return this._firstLineY+this.lineOffset+this.getScoreHeight(e)}getScoreHeight(e){return this.lineOffset/2*e}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;for(let s=0;s<this.bar.staff.standardNotationLineCount;s++){const a=r+this.y+this.getScoreY(s*2);n.fillRect(e+this.x,a|0,this.width,this.scale*bn.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}completeBeamingHelper(e){if(this.bar.isMultiVoice&&e.highestNoteInHelper&&e.lowestNoteInHelper){let r=this.getNoteY(e.highestNoteInHelper,pt.Center),n=this.getNoteY(e.lowestNoteInHelper,pt.Center),i=this.getStemSize(e);e.hasTuplet&&(i+=this.resources.effectFont.size*2),e.direction==He.Up?r-=i:n+=i;for(const s of e.beats)this.helpers.collisionHelper.reserveBeatSlot(s,r,n)}}}co.StaffId="score";co.SharpKsSteps=[-1,2,-2,1,4,0,3];co.FlatKsSteps=[3,0,4,1,5,2,6];class tA extends JM{get staffId(){return co.StaffId}create(e,r){return new co(e,r)}constructor(){super()}}class Axe extends In{constructor(e,r,n,i){super(0,0),this._inType=e,this._outType=r,this._startNote=n,this._parent=i}doLayout(){this.width=0}paint(e,r,n){this.paintSlideIn(e,r,n),this.paintSlideOut(e,r,n)}paintSlideIn(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,u=0,c=0;switch(this._inType){case xi.IntoFromBelow:u=e+i.x+i.getNoteX(this._startNote,Nn.Left),c=r+i.y+i.getNoteY(this._startNote,pt.Center),o=u-s,l=r+i.y+i.getNoteY(this._startNote,pt.Center)+a;break;case xi.IntoFromAbove:u=e+i.x+i.getNoteX(this._startNote,Nn.Left),c=r+i.y+i.getNoteY(this._startNote,pt.Center),o=u-s,l=r+i.y+i.getNoteY(this._startNote,pt.Center)-a;break;default:return}this.paintSlideLine(n,!1,o,u,l,c)}paintSlideOut(e,r,n){let i=this.renderer,s=12*this.scale,a=3*this.scale,o=0,l=0,u=0,c=0,h=!1;const f=2*this.scale;switch(this._outType){case Ht.Shift:case Ht.Legato:if(o=e+i.x+i.getBeatX(this._startNote.beat,Zt.PostNotes),l=r+i.y+i.getNoteY(this._startNote,pt.Center),this._startNote.slideTarget){let m=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this._startNote.slideTarget.beat.voice.bar);!m||m.staff!==i.staff?(u=e+i.x+i.width,c=l):(u=e+m.x+m.getBeatX(this._startNote.slideTarget.beat,Zt.OnNotes)-f,c=r+m.y+m.getNoteY(this._startNote.slideTarget,pt.Center)),this._startNote.slideTarget.fret>this._startNote.fret?(l+=a,c-=a):(l-=a,c+=a)}else u=e+i.x+this._parent.x,c=l;break;case Ht.OutUp:o=e+i.x+i.getNoteX(this._startNote,Nn.Right),l=r+i.y+i.getNoteY(this._startNote,pt.Center),u=o+s-f,c=r+i.y+i.getNoteY(this._startNote,pt.Center)-a;break;case Ht.OutDown:o=e+i.x+i.getNoteX(this._startNote,Nn.Right),l=r+i.y+i.getNoteY(this._startNote,pt.Center),u=o+s-f,c=r+i.y+i.getNoteY(this._startNote,pt.Center)+a;break;case Ht.PickSlideDown:o=e+i.x+i.getNoteX(this._startNote,Nn.Right),l=r+i.y+i.getNoteY(this._startNote,pt.Center),u=e+i.x+i.getBeatX(this._startNote.beat,Zt.EndBeat),c=l+a*3,h=!0;break;case Ht.PickSlideUp:o=e+i.x+i.getNoteX(this._startNote,Nn.Right),l=r+i.y+i.getNoteY(this._startNote,pt.Center),u=e+i.x+i.getBeatX(this._startNote.beat,Zt.EndBeat),c=l-a*3,h=!0;break;default:return}this.paintSlideLine(n,h,o,u,l,c)}paintSlideLine(e,r,n,i,s,a){if(r){let o=new lh(0,0,hr.Slight,1.2);o.renderer=this.renderer,o.doLayout(),s-=o.height/2,a-=o.height/2;let l=i-n,u=a-s,c=Math.sqrt(Math.pow(u,2)+Math.pow(l,2));o.width=l;let h=Math.asin(u/c)*(180/Math.PI);e.beginRotate(n,s,h),o.paint(0,0,e),e.endRotate()}else e.beginPath(),e.moveTo(n,s),e.lineTo(i,a),e.stroke()}}class Lc extends vi{constructor(e,r,n=!1){super(e.beat,r.beat,n),this.startNote=e,this.endNote=r}getTieHeight(e,r,n,i){return this.startNote===this.endNote?15:super.getTieHeight(e,r,n,i)}getBeamDirection(e,r){return this.startNote===this.endNote?He.Up:Lc.getBeamDirectionForNote(this.startNote)}static getBeamDirectionForNote(e){return e.string>3?He.Up:He.Down}getStartY(){return this.startNote===this.endNote?this.startNoteRenderer.getNoteY(this.startNote,pt.Center):this.tieDirection===He.Up?this.startNoteRenderer.getNoteY(this.startNote,pt.Top):this.startNoteRenderer.getNoteY(this.startNote,pt.Bottom)}getEndY(){return this.getStartY()}getStartX(){return this.startNote===this.endNote?this.getEndX()-20*this.scale:this.startNoteRenderer.getNoteX(this.startNote,Nn.Center)}getEndX(){return this.startNote===this.endNote?this.endNoteRenderer.getNoteX(this.endNote,Nn.Left):this.endNoteRenderer.getNoteX(this.endNote,Nn.Center)}}class rA extends Lc{constructor(e,r,n,i=!1){super(e,r,i),this._direction=Lc.getBeamDirectionForNote(e),this._forSlide=n}getTieHeight(e,r,n,i){return Math.log(n-e+1)*this.renderer.settings.notation.slurHeight}tryExpand(e,r,n,i){if(this._forSlide!==n||this.forEnd!==i||this.startNote.beat.id!==e.beat.id||this.endNote.beat.id!==r.beat.id||this._direction!==Lc.getBeamDirectionForNote(e))return!1;switch(this._direction){case He.Up:e.realValue>this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue>this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break;case He.Down:e.realValue<this.startNote.realValue&&(this.startNote=e,this.startBeat=e.beat),r.realValue<this.endNote.realValue&&(this.endNote=r,this.endBeat=r.beat);break}return!0}paint(e,r,n){let i=this.renderer.scoreRenderer.layout.getRendererForBar(this.renderer.staff.staveId,this.startBeat.voice.bar),s=this.getBeamDirection(this.startBeat,i),a="tab.slur."+this.startNote.beat.id+"."+this.endNote.beat.id+"."+s,o=this.renderer;o.staff.getSharedLayoutData(a,!1)||(o.staff.setSharedLayoutData(a,!0),super.paint(e,r,n))}}class Oxe extends rl{constructor(e,r){super(e,r),this._bend=null,this._effectSlurs=[]}doLayout(){this._effectSlurs=[],super.doLayout(),this._bend&&(this._bend.renderer=this.renderer,this._bend.doLayout(),this.updateWidth())}createTies(e){if(!e.isVisible)return;let r=this.renderer;if(e.isTieOrigin&&r.showTiedNotes&&e.tieDestination.isVisible){let n=new Lc(e,e.tieDestination,!1);this.addTie(n)}if(e.isTieDestination&&r.showTiedNotes){let n=new Lc(e.tieOrigin,e,!0);this.addTie(n)}if(e.isLeftHandTapped&&!e.isHammerPullDestination){let n=new Lc(e,e,!1);this.addTie(n)}if(e.isEffectSlurOrigin&&e.effectSlurDestination){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e,e.effectSlurDestination,!1,!1)){n=!0;break}if(!n){let i=new rA(e,e.effectSlurDestination,!1,!1);this._effectSlurs.push(i),this.addTie(i)}}if(e.isEffectSlurDestination&&e.effectSlurOrigin){let n=!1;for(let i of this._effectSlurs)if(i.tryExpand(e.effectSlurOrigin,e,!1,!0)){n=!0;break}if(!n){let i=new rA(e.effectSlurOrigin,e,!1,!0);this._effectSlurs.push(i),this.addTie(i)}}if(e.slideInType!==xi.None||e.slideOutType!==Ht.None){let n=new Axe(e.slideInType,e.slideOutType,e,this);this.addTie(n)}if(e.hasBend){if(!this._bend){const n=new uo;this._bend=n,n.renderer=this.renderer,this.addTie(n)}this._bend.addBends(e)}}}class $xe extends In{constructor(e,r,n){super(e,r),this._noteString=null,this._trillNoteString=null,this._trillNoteStringWidth=0,this.isEmpty=!1,this.noteStringWidth=0,this._note=n}doLayout(){let e=this._note,r=e.fret-e.beat.voice.bar.staff.transpositionPitch;if(e.harmonicType===bt.Natural&&e.harmonicValue!==0&&(r=e.harmonicValue-e.beat.voice.bar.staff.transpositionPitch),e.isTieDestination)e.beat.index===0&&this.renderer.settings.notation.notationMode==ui.GuitarPro||(e.bendType===ct.Bend||e.bendType===ct.BendRelease)&&this.renderer.settings.notation.isNotationElementVisible(Bt.TabNotesOnTiedBends)?this._noteString="("+(e.tieOrigin.fret-e.beat.voice.bar.staff.transpositionPitch).toString()+")":this._noteString="";else if(this._noteString=e.isDead?"x":r.toString(),e.isGhost)this._noteString="("+this._noteString+")";else if(e.harmonicType===bt.Natural){let n=this._noteString.indexOf(".");n>=0&&(this._noteString=this._noteString.substr(0,n+2)),this._noteString="<"+this._noteString+">"}if(e.isTrill)this._trillNoteString="("+(e.trillFret-e.beat.voice.bar.staff.transpositionPitch).toString()+")";else if(Yr.isAlmostEqualTo(e.harmonicValue,0))this._trillNoteString="";else switch(e.harmonicType){case bt.Artificial:case bt.Pinch:case bt.Tap:case bt.Semi:case bt.Feedback:let n=(r+e.harmonicValue).toString(),i=n.indexOf(".");i>=0&&(n=n.substr(0,i+2)),this._trillNoteString="<"+n+">";break;default:this._trillNoteString="";break}this.isEmpty=!this._noteString,this.isEmpty||(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.tablatureFont,this.noteStringWidth=this.renderer.scoreRenderer.canvas.measureText(this._noteString)*this.scale,this.width=this.noteStringWidth,this.height=this.renderer.scoreRenderer.canvas.font.size,this._trillNoteString&&(this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,this._trillNoteStringWidth=3*this.scale+this.renderer.scoreRenderer.canvas.measureText(this._trillNoteString),this.width+=this._trillNoteStringWidth))}paint(e,r,n){if(this.isEmpty)return;let i=this.noteStringWidth+this._trillNoteStringWidth,s=e+this.x+(this.width-i)/2,a=this.renderer.scoreRenderer.canvas.font;this.renderer.scoreRenderer.canvas.font=this.renderer.resources.graceFont,n.fillText(this._trillNoteString,s+this.noteStringWidth+3*this.scale,r+this.y),this.renderer.scoreRenderer.canvas.font=a,n.fillText(this._noteString,s,r+this.y)}buildBoundingsLookup(e,r,n){let i=new qM;i.note=this._note,i.noteHeadBounds=new Ls,i.noteHeadBounds.x=r+this.x,i.noteHeadBounds.y=n+this.y-this.height/2,i.noteHeadBounds.w=this.width,i.noteHeadBounds.h=this.height,e.addNote(i)}}class Vxe extends In{constructor(e,r,n){super(e,r),this._notes=[],this.minStringNote=null,this.beatEffects=new Map,this.notesPerString=new Map,this.noteStringWidth=0,this._isGrace=n}buildBoundingsLookup(e,r,n){for(const i of this._notes)i.buildBoundingsLookup(e,r+this.x,n+this.y)}getNoteX(e,r){if(this.notesPerString.has(e.string)){let n=this.notesPerString.get(e.string),i=this.x+n.x;switch(r){case Nn.Left:break;case Nn.Center:i+=n.noteStringWidth/2;break;case Nn.Right:i+=n.width;break}return i}return 0}getNoteY(e,r){if(this.notesPerString.has(e.string)){const n=this.notesPerString.get(e.string);let i=this.y+n.y;switch(r){case pt.Top:case pt.TopWithStem:i-=n.height/2+2*this.scale;break;case pt.Center:break;case pt.Bottom:case pt.BottomWithStem:i+=n.height/2;break}return i}return 0}doLayout(){let e=0,r=0;for(let a=0,o=this._notes.length;a<o;a++){let l=this._notes[a];l.renderer=this.renderer,l.doLayout(),l.width>e&&(e=l.width),l.noteStringWidth>r&&(r=l.noteStringWidth)}this.noteStringWidth=r;let n=this.renderer.resources.tablatureFont.size,i=this.getNoteY(this.minStringNote,pt.Center)+n/2,s=7*this.scale;for(const a of this.beatEffects.values())a.y+=i,a.x+=this.width/2,a.renderer=this.renderer,i+=s,a.doLayout();this.width=e}addNoteGlyph(e,r){this._notes.push(e),this.notesPerString.set(r.string,e),(!this.minStringNote||r.string<this.minStringNote.string)&&(this.minStringNote=r)}paint(e,r,n){e+=this.x,r+=this.y;let i=this.renderer.resources,s=n.textBaseline;n.textBaseline=jt.Middle,n.font=this._isGrace?i.graceFont:i.tablatureFont;let a=this._notes,o=this.width;for(let l of a)l.renderer=this.renderer,l.width=o,l.paint(e,r,n);n.textBaseline=s;for(const l of this.beatEffects.values())l.paint(e,r,n)}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}}class zxe extends En{constructor(e,r,n,i){super(e,r,1,op.getSymbol(i)),this._isVisibleRest=n,this._duration=i}doLayout(){this._isVisibleRest?this.width=op.getSize(this._duration)*this.scale:this.width=10*this.scale}updateBeamingHelper(e){this.beamingHelper&&this.beamingHelper.isPositionFrom("tab",this.beat)&&this.beamingHelper.registerBeatLineX("tab",this.beat,e+this.x+this.width/2,e+this.x+this.width/2)}paint(e,r,n){this._isVisibleRest&&super.paint(e,r,n)}}class Wxe extends ZM{constructor(){super(...arguments),this.noteNumbers=null,this.restGlyph=null}getNoteX(e,r){return this.noteNumbers?this.noteNumbers.getNoteX(e,r):0}getNoteY(e,r){return this.noteNumbers?this.noteNumbers.getNoteY(e,r):0}buildBoundingsLookup(e,r,n){this.noteNumbers&&this.noteNumbers.buildBoundingsLookup(e,r+this.x,n+this.y)}doLayout(){let e=this.renderer;if(this.container.beat.isRest){let n=Math.floor((this.renderer.bar.staff.tuning.length-1)/2),i=e.getTabY(n);const s=new zxe(0,i,e.showRests,this.container.beat.duration);if(this.restGlyph=s,s.beat=this.container.beat,s.beamingHelper=this.beamingHelper,this.addGlyph(s),this.container.beat.dots>0&&e.showRests){this.addGlyph(new As(0,0,5*this.scale));for(let a=0;a<this.container.beat.dots;a++)this.addGlyph(new rP(0,i,1.5*this.scale))}}else{let n=this.renderer.settings.notation.smallGraceTabNotes&&this.container.beat.graceType!==_t.None;const i=new Vxe(0,0,n);this.noteNumbers=i,i.beat=this.container.beat,i.beamingHelper=this.beamingHelper;for(let s of this.container.beat.notes)s.isVisible&&this.createNoteGlyph(s);if(this.addGlyph(i),this.container.beat.hasWhammyBar){let s=new Ca(this.container.beat);s.renderer=this.renderer,s.doLayout(),this.container.ties.push(s)}if(this.container.beat.isTremolo&&!this.noteNumbers.beatEffects.has("tremolo")){let s=0,a=this.container.beat.tremoloSpeed;switch(a){case oe.ThirtySecond:s=10;break;case oe.Sixteenth:s=5;break;case oe.Eighth:s=0;break}this.noteNumbers.beatEffects.set("tremolo",new U1(5*this.scale,s*this.scale,a))}if(this.container.beat.dots>0&&e.settings.notation.rhythmMode!==mu.Hidden){this.addGlyph(new As(0,0,5*this.scale));for(let s=0;s<this.container.beat.dots;s++)this.addGlyph(new rP(0,e.lineOffset*e.bar.staff.tuning.length+e.settings.notation.rhythmHeight*e.scale,1.5*this.scale))}}if(!this.glyphs)return;let r=0;for(let n=0,i=this.glyphs.length;n<i;n++){let s=this.glyphs[n];s.x=r,s.renderer=this.renderer,s.doLayout(),r+=s.width}this.width=r,this.computedWidth=r,this.container.beat.isEmpty?this.centerX=this.width/2:this.container.beat.isRest?this.centerX=this.restGlyph.x+this.restGlyph.width/2:this.centerX=this.noteNumbers.x+this.noteNumbers.noteStringWidth/2}updateBeamingHelper(){this.container.beat.isRest?this.restGlyph.updateBeamingHelper(this.container.x+this.x):this.noteNumbers.updateBeamingHelper(this.container.x+this.x)}createNoteGlyph(e){let r=this.renderer,n=new $xe(0,0,e),i=e.beat.voice.bar.staff.tuning.length-e.string;n.y=r.getTabY(i),n.renderer=this.renderer,n.doLayout(),this.noteNumbers.addNoteGlyph(n,e);let s=n.y-n.height/2,a=s+n.height;this.renderer.helpers.collisionHelper.reserveBeatSlot(this.container.beat,s,a)}}class Hxe extends In{constructor(e){super(0,0),this._beat=e}doLayout(){this.width=10*this.scale}paint(e,r,n){let i=this.renderer,s=r+this.x+i.getNoteY(this._beat.maxStringNote,pt.Top),a=r+this.y+i.getNoteY(this._beat.minStringNote,pt.Bottom),o=e+this.x+this.width/2|0,l=8*this.scale;if(this._beat.brushType!==Qr.None){if(this._beat.brushType===Qr.BrushUp||this._beat.brushType===Qr.BrushDown)n.beginPath(),n.moveTo(o,s),n.lineTo(o,a),n.stroke();else if(this._beat.brushType===Qr.ArpeggioUp){let u=new lh(0,0,hr.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let c=s,h=a-l;u.width=Math.abs(h-c),n.beginRotate(e+this.x+4*this.scale,h,-90),u.paint(0,-u.height/2,n),n.endRotate()}else if(this._beat.brushType===Qr.ArpeggioDown){let u=new lh(0,0,hr.Slight,1.2,!0);u.renderer=this.renderer,u.doLayout();let c=s+l,h=a;u.width=Math.abs(h-c),n.beginRotate(e+this.x+4*this.scale,c,90),u.paint(0,-u.height/2,n),n.endRotate()}this._beat.brushType===Qr.BrushUp||this._beat.brushType===Qr.ArpeggioUp?(n.beginPath(),n.moveTo(o,a),n.lineTo(o+l/2,a-l),n.lineTo(o-l/2,a-l),n.closePath(),n.fill()):(n.beginPath(),n.moveTo(o,s),n.lineTo(o+l/2,s+l),n.lineTo(o-l/2,s+l),n.closePath(),n.fill())}}}class Uxe extends W1{doLayout(){this.container.beat.brushType!==Qr.None&&!this.container.beat.isRest&&(this.addGlyph(new Hxe(this.container.beat)),this.addGlyph(new As(0,0,4*this.scale))),super.doLayout()}constructor(){super()}}class Gxe extends In{constructor(e,r){super(e,r)}doLayout(){this.width=28*this.scale}paint(e,r,n){let i=this.renderer.bar.staff.tuning.length,s=i<=4?R.FourStringTabClef:R.SixStringTabClef,a=i<=4?i/4.5:i/6.5;n.fillMusicFontSymbol(e+this.x+5*this.scale,r+this.y,a*this.scale,s,!1)}}class jxe extends cW{get commonScale(){return 1}get numberScale(){return this.renderer.bar.staff.tuning.length<=4?Xt.GraceScale:1}}class bu extends bn{constructor(e,r){super(e,r),this._firstLineY=0,this._tupletSize=0,this.showTimeSignature=!1,this.showRests=!1,this.showTiedNotes=!1,this._startSpacing=!1}get lineOffset(){return(bu.TabLineSpacing+1)*this.scale}updateSizes(){let e=this.resources,r=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale;this.topPadding=r,this.bottomPadding=r,this.height=this.lineOffset*(this.bar.staff.tuning.length-1)+r*2,this.settings.notation.rhythmMode!==mu.Hidden&&(this.height+=this.settings.notation.rhythmHeight*this.settings.display.scale,this.bottomPadding+=this.settings.notation.rhythmHeight*this.settings.display.scale),this.updateFirstLineY(),super.updateSizes()}updateFirstLineY(){let e=this.resources;this._firstLineY=(e.tablatureFont.size/2+e.tablatureFont.size*.2)*this.scale}doLayout(){if(this.updateFirstLineY(),super.doLayout(),this.settings.notation.rhythmMode!==mu.Hidden){let e=!1;for(let r of this.bar.voices)if(this.hasVoiceContainer(r)&&this.getVoiceContainer(r).tupletGroups.length>0){e=!0;break}e&&(this._tupletSize=this.resources.effectFont.size*.8,this.registerOverflowBottom(this._tupletSize))}}createPreBeatGlyphs(){if(super.createPreBeatGlyphs(),this.bar.masterBar.isRepeatStart&&this.addPreBeatGlyph(new oW(0,0,1.5,3)),this.isFirstOfLine){let e=(this.bar.staff.tuning.length-1)/2;this.addPreBeatGlyph(new Gxe(5*this.scale,this.getTabY(e)))}this.showTimeSignature&&(!this.bar.previousBar||this.bar.previousBar&&this.bar.masterBar.timeSignatureNumerator!==this.bar.previousBar.masterBar.timeSignatureNumerator||this.bar.previousBar&&this.bar.masterBar.timeSignatureDenominator!==this.bar.previousBar.masterBar.timeSignatureDenominator)&&(this.createStartSpacing(),this.createTimeSignatureGlyphs()),this.addPreBeatGlyph(new nW(0,this.getTabHeight(-.5),this.bar.index+1))}createStartSpacing(){this._startSpacing||(this.addPreBeatGlyph(new As(0,0,2*this.scale)),this._startSpacing=!0)}createTimeSignatureGlyphs(){this.addPreBeatGlyph(new As(0,0,5*this.scale));const e=(this.bar.staff.tuning.length+1)/2-1;this.addPreBeatGlyph(new jxe(0,this.getTabY(e),this.bar.masterBar.timeSignatureNumerator,this.bar.masterBar.timeSignatureDenominator,this.bar.masterBar.timeSignatureCommon))}createVoiceGlyphs(e){for(let r=0,n=e.beats.length;r<n;r++){let i=e.beats[r],s=new Oxe(i,this.getVoiceContainer(e));s.preNotes=new Uxe,s.onNotes=new Wxe,this.addBeatGlyph(s)}}createPostBeatGlyphs(){super.createPostBeatGlyphs(),this.bar.masterBar.isRepeatEnd?(this.addPostBeatGlyph(new sW(this.x,0)),this.bar.masterBar.repeatCount>2&&this.addPostBeatGlyph(new aW(0,this.getTabY(-1),this.bar.masterBar.repeatCount))):this.addPostBeatGlyph(new iW(0,0))}getTabY(e){return this._firstLineY+this.getTabHeight(e)}getTabHeight(e){return this.lineOffset*e}get middleYPosition(){return this.getTabY(this.bar.staff.tuning.length-1)}paintBackground(e,r,n){super.paintBackground(e,r,n);let i=this.resources;n.color=i.staffLineColor;let s=this.scale,a=[];for(let o=0,l=this.bar.staff.tuning.length;o<l;o++)a.push([]);for(let o of this.bar.voices)if(this.hasVoiceContainer(o)){let l=this.getVoiceContainer(o);for(let u of l.beatGlyphs){let c=u.onNotes,h=c.noteNumbers;if(h)for(const[f,m]of h.notesPerString)m.isEmpty||a[this.bar.staff.tuning.length-f].push(new Float32Array([l.x+u.x+c.x+h.x,h.width+s]))}}for(let o of a)o.sort((l,u)=>l[0]>u[0]?1:l[0]<u[0]?-1:0);for(let o=0,l=this.bar.staff.tuning.length;o<l;o++){const u=this.getTabY(o);let c=0;for(let h of a[o])n.fillRect(e+this.x+c,r+this.y+u|0,h[0]-c,this.scale*bn.StaffLineThickness),c=h[0]+h[1];n.fillRect(e+this.x+c,r+this.y+u|0,this.width-c,this.scale*bn.StaffLineThickness)}n.color=i.mainGlyphColor,this.paintSimileMark(e,r,n)}paint(e,r,n){super.paint(e,r,n),this.settings.notation.rhythmMode!==mu.Hidden&&(this.paintBeams(e,r,n),this.paintTuplets(e,r,n))}paintBeams(e,r,n){for(let i=0,s=this.helpers.beamHelpers.length;i<s;i++){let a=this.helpers.beamHelpers[i];for(let o=0,l=a.length;o<l;o++){let u=a[o];this.paintBeamHelper(e+this.beatGlyphsStart,r,n,u)}}}paintTuplets(e,r,n){for(let i of this.bar.voices)if(this.hasVoiceContainer(i)){let s=this.getVoiceContainer(i);for(let a of s.tupletGroups)this.paintTupletHelper(e+this.beatGlyphsStart,r,n,a)}}paintBeamHelper(e,r,n,i){n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,i.isRestBeamHelper||(i.beats.length===1||this.settings.notation.rhythmMode===mu.ShowWithBeams?this.paintFooter(e,r,n,i):this.paintBar(e,r,n,i))}paintBar(e,r,n,i){for(let s=0,a=i.beats.length;s<a;s++){let o=i.beats[s];if(i.hasBeatLineX(o)){let l=i.getBeatLineX(o),u=r+this.y,c=r+this.y+this.height-this._tupletSize,h=this.getOnNotesGlyphForBeat(o);!h.noteNumbers||o.duration===oe.Half?u+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:u+=h.noteNumbers.getNoteY(h.noteNumbers.minStringNote,pt.Bottom)+this.lineOffset/2,this.paintBeamingStem(o,r+this.y,e+this.x+l,u,c,n);let f=6*this.scale,m=-6*this.scale,g=3*this.scale,y=Yr.getIndex(o.duration)-2,b=c;for(let x=0;x<y;x++){let v=0,w=0,T=0,P=0,C=b+x*m;if(i.beats.length===1)v=l,w=l+f,T=C,P=C,bu.paintSingleBar(n,e+this.x+v,T,e+this.x+w,P,g);else if(s<i.beats.length-1){if(na.isFullBarJoin(o,i.beats[s+1],x))v=l,w=i.getBeatLineX(i.beats[s+1]);else if(s===0||!na.isFullBarJoin(i.beats[s-1],o,x))v=l,w=v+f;else continue;T=C,P=C,bu.paintSingleBar(n,e+this.x+v,T,e+this.x+w,P,g)}else s>0&&!na.isFullBarJoin(o,i.beats[s-1],x)&&(v=l-f,w=l,T=C,P=C,bu.paintSingleBar(n,e+this.x+v,T,e+this.x+w,P,g))}}}}paintTupletHelper(e,r,n,i){let s=this.resources,a=n.textAlign,o=n.textBaseline;n.color=i.voice.index===0?this.resources.mainGlyphColor:this.resources.secondaryGlyphColor,n.textAlign=St.Center,n.textBaseline=jt.Middle;let l,u=i.beats[0].tupletNumerator,c=i.beats[0].tupletDenominator;if(u===2&&c===3?l="2":u===3&&c===2?l="3":u===4&&c===6?l="4":u===5&&c===4?l="5":u===6&&c===4?l="6":u===7&&c===4?l="7":u===9&&c===8?l="9":u===10&&c===8?l="10":u===11&&c===8?l="11":u===12&&c===8?l="12":u===13&&c===8?l="13":l=u+":"+c,i.beats.length===1||!i.isFull)for(let h=0,f=i.beats.length;h<f;h++){let m=i.beats[h],g=this.helpers.beamHelperLookup[i.voice.index].get(m.index);if(!g)continue;let y=g.getBeatLineX(m),b=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5;n.font=s.effectFont,n.fillText(l,e+this.x+y,b)}else{let h=i.beats[0],f=i.beats[i.beats.length-1],m=this.helpers.beamHelperLookup[i.voice.index].get(h.index),g=this.helpers.beamHelperLookup[i.voice.index].get(f.index);if(m&&g){let y=m.getBeatLineX(h),b=g.getBeatLineX(f);n.font=s.effectFont;let x=n.measureText(l),v=3*this.scale,w=(y+b)/2,T=w-x/2-v,P=w+x/2+v,C=r+this.y+this.height-this._tupletSize+s.effectFont.size*.5,M=-s.effectFont.size*.25,E=-5*this.scale;n.beginPath(),n.moveTo(e+this.x+y,C-M|0),n.lineTo(e+this.x+y,C-M-E|0),n.lineTo(e+this.x+T,C-M-E|0),n.stroke(),n.beginPath(),n.moveTo(e+this.x+P,C-M-E|0),n.lineTo(e+this.x+b,C-M-E|0),n.lineTo(e+this.x+b,C-M|0),n.stroke(),n.fillText(l,e+this.x+w,C-M-E)}}n.textAlign=a,n.textBaseline=o}static paintSingleBar(e,r,n,i,s,a){e.beginPath(),e.moveTo(r,n),e.lineTo(i,s),e.lineTo(i,s-a),e.lineTo(r,n-a),e.closePath(),e.fill()}paintBeamingStem(e,r,n,i,s,a){a.beginPath();let o=[];this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.has(e.displayStart)&&(o=this.helpers.collisionHelper.reservedLayoutAreasByDisplayTime.get(e.displayStart).slots.slice(),o.sort((u,c)=>u.topY-c.topY));let l=s;for(;l>i;){a.moveTo(n,l);let u=i;if(o.length>0&&o[o.length-1].bottomY>u){const c=o.pop();u=r+c.bottomY,a.lineTo(n,u),l=r+c.topY}else{a.lineTo(n,u);break}}a.stroke()}paintFooter(e,r,n,i){for(let s of i.beats){if(s.graceType!==_t.None||s.duration===oe.Whole||s.duration===oe.DoubleWhole||s.duration===oe.QuadrupleWhole)return;let a=i.getBeatLineX(s),o=r+this.y,l=r+this.y+this.height-this._tupletSize,u=this.getOnNotesGlyphForBeat(s);if(!u.noteNumbers||s.duration===oe.Half?o+=this.height-this.settings.notation.rhythmHeight*this.settings.display.scale-this._tupletSize:o+=u.noteNumbers.getNoteY(u.noteNumbers.minStringNote,pt.Bottom),this.paintBeamingStem(s,r+this.y,e+this.x+a,o,l,n),s.duration>oe.Quarter){let c=new Mp(0,0,s.duration,He.Down,!1);c.renderer=this,c.doLayout(),c.paint(e+this.x+a,l,n)}}}}bu.StaffId="tab";bu.TabLineSpacing=10;class G_ extends JM{get staffId(){return bu.StaffId}constructor(e,r,n){super(),this._showTimeSignature=e,this._showRests=r,this._showTiedNotes=n,this.hideOnPercussionTrack=!0}canCreate(e,r){return r.tuning.length>0&&super.canCreate(e,r)}create(e,r){let n=new bu(e,r);return n.showRests=this._showRests,n.showTimeSignature=this._showTimeSignature,n.showTiedNotes=this._showTiedNotes,n}}class cy extends pl{constructor(){super(0,0)}doLayout(){super.doLayout();const e=this.renderer.resources.effectFont;this.height=e.size+cy.Padding*this.scale}paint(e,r,n){let i=this.renderer.resources;n.font=i.effectFont;let s=n.textAlign;n.textAlign=St.Center,n.fillText("T",e+this.x,r+this.y+n.font.size/2),n.textAlign=s,n.strokeCircle(e+this.x,r+this.y+n.font.size/2+(cy.Padding-1)*this.scale,n.font.size/1.6)}}cy.Padding=4;class Wb extends wh{get notationElement(){return Bt.EffectTap}get sizingMode(){return lr.SingleOnBeat}shouldCreateGlyphForNote(e){return e.isLeftHandTapped}createNewGlyph(e,r){return new cy}}class Hu{constructor(){this.noteRange=1,this.x=0,this.y=0}}var Fd;(function(t){t[t.None=0]="None",t[t.Rectangle=1]="Rectangle",t[t.Ellipse=2]="Ellipse",t[t.Circle=3]="Circle"})(Fd||(Fd={}));class j_ extends Hu{constructor(){super(...arguments),this.align=St.Left,this.frame=Fd.None,this.text="",this.fontFace="",this.weight=0,this.height=0}}class nA extends Hu{constructor(){super(...arguments),this.chord=new zc}}class iA extends Hu{}class sA extends Hu{}class Yxe extends Hu{constructor(){super(...arguments),this.number=0}}class aA extends Hu{constructor(){super(...arguments),this.decrescendo=!1}}class Y_ extends Hu{constructor(){super(...arguments),this.allNumbers=!1,this.firstNumber=0,this.lastNumber=0}}class Xxe extends Hu{constructor(){super(...arguments),this.octave=1}}class qxe extends Hu{}class Kxe{constructor(){this.defaultClef=$t.G2,this.description="",this.percussion=!1,this.instrument=0,this.volume=0,this.transpose=0,this.index=0}}class Qxe{constructor(){this.from=0,this.to=0,this.curly=!1}}class Jxe{constructor(){this.currentBarIndex=-1,this.currentBarComplete=!0,this.currentBarDuration=0,this.currentPosition=0,this.voiceStemDir=null,this.repeatCount=0,this.repeatEnd=null}}class Fw{constructor(){this._trackChannel=0,this._beamingMode=tl.Auto,this._isFirstSystem=!0,this._staffLookup=new Map,this._brackets=[],this._staffLayoutLookup=new Map,this._staffLayouts=[],this._timeSignature=new Ru,this._voiceStates=new Map}parseXml(e,r){this._galleryObjects=new Map,this._tieStarts=[],this._tieStartIds=new Map,this._voiceCounts=new Map,this._slurs=new Map,this._crescendo=new Map,this._isFirstSystem=!0;let n=new GM;try{n.parse(e)}catch(i){throw new Yn("Could not parse XML",i)}this.parseDom(n),this.consolidate(),this.score.finish(r)}consolidate(){let e=this.score.tempo;for(const r of this.score.tracks){const n=this._voiceCounts.get(r.index);for(const i of r.staves){for(;i.bars.length<this.score.masterBars.length;)this.addNewBar(i);for(const s of i.bars){for(;s.voices.length<n;)s.addVoice(new Ul);for(const o of s.voices)if(o.beats.length===0){const l=new Wi;l.isEmpty=!0,o.addBeat(l)}const a=s.masterBar;a.tempoAutomation&&(a.tempoAutomation.value!==e?e=a.tempoAutomation.value:a.tempoAutomation=null)}}}Fw.applyEffectRange(this._slurs,(r,n)=>{n.isLegatoOrigin=!0}),Fw.applyEffectRange(this._crescendo,(r,n)=>{n.crescendo=r.decrescendo?Os.Decrescendo:Os.Crescendo})}static applyEffectRange(e,r){for(const[n,i]of e){const s=i.noteRange;let a=n;for(let o=0;o<s;o++)if(r(i,a),a.index+1<a.voice.beats.length)a=a.voice.beats[a.index+1];else if(a.voice.bar.index+1<a.voice.bar.staff.bars.length)a=a.voice.bar.staff.bars[a.voice.bar.index+1].voices[a.voice.index].beats[0];else break}}parseDom(e){let r=e.firstElement;if(!r)throw new Yn("No valid XML");if(r.localName==="score"){this.score=new vh,this.score.tempo=120;for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"info":this.parseInfo(n);break;case"layout":this.parseLayout(n);break;case"gallery":this.parseGallery(n);break;case"pageObjects":this.parsePageObjects(n);break;case"systems":this.parseSystems(n);break}}else throw new Yn('Root node of XML was not "score"')}parseLayout(e){for(let s of e.childNodes)if(s.nodeType===Le.Element)switch(s.localName){case"staves":this.parseLayoutStaves(s);break;case"brackets":this.parseBrackets(s);break}const r=this._brackets.filter(s=>!!s.curly);r.sort((s,a)=>s.from-a.from);let n=0,i=null;for(let s=0;s<this._staffLayouts.length;s++){const a=this._staffLayouts[s];for(;n<r.length&&s>r[n].to;)n++;i&&n<r.length&&s>r[n].from&&s<=r[n].to?i.ensureStaveCount(i.staves.length+1):(i=new Hl,i.ensureStaveCount(1),i.name=a.description,i.playbackInfo.volume=Math.floor(a.volume/128*16),i.playbackInfo.program=a.instrument,a.percussion?(i.playbackInfo.primaryChannel=9,i.playbackInfo.secondaryChannel=9):(i.playbackInfo.primaryChannel=this._trackChannel++,i.playbackInfo.secondaryChannel=this._trackChannel++),this.score.addTrack(i));const o=i.staves[i.staves.length-1];o.isPercussion=a.percussion,o.transpositionPitch=a.transpose,o.displayTranspositionPitch=0,o.showTablature=!1,this._staffLookup.set(a.index,o)}}parseBrackets(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"bracket":this.parseBracket(r);break}}parseBracket(e){const r=new Qxe;r.from=parseInt(e.getAttribute("from")),r.to=parseInt(e.getAttribute("to")),e.attributes.has("curly")&&(r.curly=e.attributes.get("curly")==="true"),this._brackets.push(r)}parseLayoutStaves(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"staffLayout":this.parseStaffLayout(r);break}}parseStaffLayout(e){const r=new Kxe;r.description=e.getAttribute("description");for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"notation":n.attributes.has("defaultClef")&&(r.defaultClef=this.parseClef(n.attributes.get("defaultClef")));break;case"sound":n.attributes.has("percussion")&&(r.percussion=n.attributes.get("percussion")==="true"),n.attributes.has("instr")&&(r.instrument=parseInt(n.attributes.get("instr"))),n.attributes.has("volume")&&(r.volume=parseInt(n.attributes.get("volume"))),n.attributes.has("transpose")&&(r.transpose=parseInt(n.attributes.get("transpose")));break}this._staffLayoutLookup.set(r.description,r),r.index=this._staffLayouts.length,this._staffLayouts.push(r)}parseClef(e){switch(e){case"treble":return $t.G2;case"bass":return $t.F4;case"alto":return $t.C4;case"tenor":return $t.C4}return $t.G2}parseClefOttava(e){return e.endsWith("-")?gr._8vb:e.endsWith("+")?gr._8va:gr.Regular}parseSystems(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"system":this.parseSystem(r);break}}parseSystem(e){e.attributes.has("tempo")&&this.score.masterBars.length===0&&(this.score.tempo=parseInt(e.attributes.get("tempo"))),e.getAttribute("beamGrouping")==="0"&&(this._beamingMode=tl.ForceSplitToNext);for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"staves":this.parseStaves(e,r);break}this._isFirstSystem=!1}parseStaves(e,r){let n=this.score.masterBars.length;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"staff":this.parseStaff(e,n,i);break}}parseStaff(e,r,n){const i=n.getAttribute("layout");this._currentStaffLayout=this._staffLayoutLookup.get(i),this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!1,this.parseTime(n.getAttribute("defaultTime"));const s=this._staffLookup.get(this._currentStaffLayout.index);for(;s.bars.length<r;)this.addNewBar(s);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"voices":this.parseVoices(i,s,e,r,a);break}}parseTime(e){switch(e){case"allaBreve":case"C":this._timeSignature.timeSignatureNumerator=2,this._timeSignature.timeSignatureDenominator=2,this._timeSignature.timeSignatureCommon=!0;break;case"longAllaBreve":this._timeSignature.timeSignatureNumerator=4,this._timeSignature.timeSignatureDenominator=4,this._timeSignature.timeSignatureCommon=!0;break;default:if(e.indexOf("/")>0){const r=e.split("/");this._timeSignature.timeSignatureNumerator=parseInt(r[0]),this._timeSignature.timeSignatureDenominator=parseInt(r[1]),this._timeSignature.timeSignatureCommon=!1}break}}parseVoices(e,r,n,i,s){let a=0;for(let o of s.childNodes)if(o.nodeType===Le.Element)switch(o.localName){case"voice":this.parseVoice(e,r,n,a,i,o),a++;break}}getOrCreateBar(e,r){return r<e.bars.length?e.bars[r]:this.addNewBar(e)}addNewBar(e){let r=new Vu;if(e.bars.length>0?(r.clef=e.bars[e.bars.length-1].clef,r.clefOttava=e.bars[e.bars.length-1].clefOttava):r.clef=this._currentStaffLayout.defaultClef,e.addBar(r),e.bars.length>this.score.masterBars.length){let n=new Ru;this.score.addMasterBar(n),n.index>0&&(n.keySignature=n.previousMasterBar.keySignature,n.keySignatureType=n.previousMasterBar.keySignatureType,n.tripletFeel=n.previousMasterBar.tripletFeel),n.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,n.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,n.timeSignatureCommon=this._timeSignature.timeSignatureCommon}return r}newBar(e,r){this._currentVoiceState.currentBarIndex++,this._currentBar=this.getOrCreateBar(e,this._currentVoiceState.currentBarIndex),this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1),this._currentVoiceState.currentBarComplete=!1,this._currentVoiceState.currentPosition=0,this.ensureVoice(e,r)}parseVoice(e,r,n,i,s,a){const o=e+"_"+i;if(this._currentVoiceState&&!this._currentVoiceState.currentBarComplete&&(this._currentBar.masterBar.isAnacrusis=!0),this._voiceStates.has(o)?(this._currentVoiceState=this._voiceStates.get(o),this._currentBar=this.getOrCreateBar(r,this._currentVoiceState.currentBarIndex),this.ensureVoice(r,i)):(this._currentVoiceState=new Jxe,this._currentVoiceState.currentBarIndex=s-1,this._voiceStates.set(o,this._currentVoiceState),this.newBar(r,i)),a.attributes.has("stemDir"))switch(a.attributes.get("stemDir")){case"up":this._currentVoiceState.voiceStemDir=He.Up;break;case"down":this._currentVoiceState.voiceStemDir=He.Down;break;default:this._currentVoiceState.voiceStemDir=null;break}else this._currentVoiceState.voiceStemDir=null;const l=a.findChildElement("noteObjects");if(n.attributes.has("tempo")&&(this._currentBar.masterBar.tempoAutomation=new Vi,this._currentBar.masterBar.tempoAutomation.isLinear=!0,this._currentBar.masterBar.tempoAutomation.type=ci.Tempo,this._currentBar.masterBar.tempoAutomation.value=parseInt(n.attributes.get("tempo"))),l){for(let u of l.childNodes)if(u.nodeType===Le.Element)switch(this._currentVoiceState.currentBarComplete&&u.localName!=="barline"&&this.newBar(r,i),u.localName){case"clefSign":this._currentBar.clef=this.parseClef(u.getAttribute("clef")),this._currentBar.clefOttava=this.parseClefOttava(u.getAttribute("clef"));break;case"keySign":this._currentBar.masterBar.keySignature=parseInt(u.getAttribute("fifths"));break;case"timeSign":this.parseTime(u.getAttribute("time")),this._currentBar.masterBar.timeSignatureDenominator=this._timeSignature.timeSignatureDenominator,this._currentBar.masterBar.timeSignatureNumerator=this._timeSignature.timeSignatureNumerator,this._currentBar.masterBar.timeSignatureCommon=this._timeSignature.timeSignatureCommon,this._currentVoiceState.currentPosition=0,this._currentVoiceState.currentBarDuration=this._currentBar.masterBar.calculateDuration(!1);break;case"barline":switch(u.getAttribute("type")){case"double":this._currentBar.masterBar.isDoubleBar=!0,this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"end":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0);break;case"repEnd":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(u),this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;case"repBegin":this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0,this._currentVoiceState.repeatEnd=null,this._currentVoiceState.repeatCount=0;break;case"repEndBegin":this._currentVoiceState.repeatEnd=this._currentBar.masterBar,this._currentBar.masterBar.repeatCount<this._currentVoiceState.repeatCount&&(this._currentBar.masterBar.repeatCount=this._currentVoiceState.repeatCount),this.parseBarDrawObject(u),this.newBar(r,i),this._currentBar.masterBar.isRepeatStart=!0;break;case"dashed":this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break;default:this._currentVoiceState.currentBarComplete||(this._currentBar.masterBar.isAnacrusis=!0),this._currentVoiceState.currentBarComplete=!0;break}break;case"chord":let c=new Wi;this.initFromPreviousBeat(c,this._currentVoice),c.beamingMode=this._beamingMode,this._currentVoiceState.voiceStemDir&&(c.preferredBeamDirection=this._currentVoiceState.voiceStemDir),this.parseDuration(this._currentBar,c,u.findChildElement("duration")),c.updateDurations(),this._currentVoiceState.currentPosition+=c.playbackDuration,this._currentVoice.addBeat(c),this.parseChord(c,u),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0);break;case"rest":const h=this.parseRestDurations(this._currentBar,u.findChildElement("duration"));h&&(this.initFromPreviousBeat(h,this._currentVoice),h.updateDurations(),this._currentVoiceState.currentPosition+=h.playbackDuration,this._currentVoice.addBeat(h),this._currentVoiceState.currentPosition>=this._currentVoiceState.currentBarDuration&&(this._currentVoiceState.currentBarComplete=!0));break}}}initFromPreviousBeat(e,r){let n=this.getLastBeat(r);n&&(e.dynamics=n.dynamics)}getLastBeat(e){if(e.beats.length>0)return e.beats[e.beats.length-1];if(e.bar.index>0){const r=e.bar.staff.bars[e.bar.index-1];if(e.index<r.voices.length){const n=r.voices[e.index];return this.getLastBeat(n)}}return null}ensureVoice(e,r){for(;this._currentBar.voices.length<r+1;)this._currentBar.addVoice(new Ul);(!this._voiceCounts.has(e.track.index)||this._voiceCounts.get(e.track.index)<this._currentBar.voices.length)&&this._voiceCounts.set(e.track.index,this._currentBar.voices.length),this._currentVoice=this._currentBar.voices[r]}parseChord(e,r){const n=new _n;for(let i of r.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"stem":switch(i.getAttribute("dir")){case"up":e.preferredBeamDirection=He.Up;break;case"down":e.preferredBeamDirection=He.Down;break}break;case"articulation":switch(i.getAttribute("type")){case"staccato":n.isStaccato=!0;break;case"normalAccent":n.accentuated=Xn.Normal;break;case"strongAccent":n.accentuated=Xn.Heavy;break}break;case"lyric":this.parseLyric(e,i);break;case"drawObjects":this.parseBeatDrawObject(e,i);break;case"heads":this.parseHeads(e,n,i);break;case"beam":switch(i.getAttribute("group")){case"force":e.beamingMode=tl.ForceMergeWithNext;break;case"divide":e.beamingMode=tl.ForceSplitToNext;break}break}}parseHeads(e,r,n){for(let i of n.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"head":this.parseHead(e,r,i);break}}parseHead(e,r,n){const i=new _n,s=Yr.parseTuning(n.getAttribute("pitch"));i.octave=s.octave-1,i.tone=s.noteValue,i.isStaccato=r.isStaccato,i.accentuated=r.accentuated,e.addNote(i);for(let a of n.childNodes)if(a.nodeType===Le.Element)switch(a.localName){case"alter":a.attributes.has("step")&&(i.tone+=parseInt(a.attributes.get("step")));break;case"tie":a.attributes.has("begin")?this._tieStartIds.has(i.id)||(this._tieStartIds.set(i.id,!0),this._tieStarts.push(i)):a.attributes.has("end")&&this._tieStarts.length>0&&!i.isTieDestination&&(i.isTieDestination=!0,i.tieOrigin=this._tieStarts[0],this._tieStarts.splice(0,1),this._tieStartIds.delete(i.id));break}}parseBeatDrawObject(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"drawObj":const i=this.parseDrawObj(n);if(i){if(i instanceof j_)i.fontFace.startsWith("capella")?i.text==="u"?(e.fermata=new HM,e.fermata.type=ol.Medium):i.text==="f"?e.dynamics=Kt.F:i.text==="j"&&(e.dynamics=Kt.MF):this._isFirstSystem&&this.score.title===""&&i.align===St.Center&&i.height>16&&i.weight>400?this.score.title=i.text:this._isFirstSystem&&this.score.artist===""&&i.align===St.Center&&i.y<0?this.score.artist=i.text:this._isFirstSystem&&this.score.music===""&&i.align===St.Right&&i.y<0?this.score.music=i.text:i.text.startsWith("by capella")||(e.text=i.text);else if(!(i instanceof nA))if(i instanceof sA)e.vibrato=hr.Slight;else if(i instanceof aA)e.crescendo=i.decrescendo?Os.Decrescendo:Os.Crescendo,i.noteRange++,this._crescendo.set(e,i);else if(i instanceof iA){const s=i;this._slurs.set(e,s)}else i instanceof Y_&&this.applyVolta(i)}break}}parseBarDrawObject(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&n instanceof Y_&&this.applyVolta(n);break}}applyVolta(e){if(e.lastNumber>0?(this._currentVoiceState.repeatCount=e.lastNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)):e.firstNumber>0&&(this._currentVoiceState.repeatCount=e.firstNumber,this._currentVoiceState.repeatEnd&&this._currentVoiceState.repeatEnd.repeatCount<this._currentVoiceState.repeatCount&&(this._currentVoiceState.repeatEnd.repeatCount=this._currentVoiceState.repeatCount)),e.lastNumber>0&&e.firstNumber>0){let r=0;for(let n=e.firstNumber;n<=e.lastNumber;n++)r=r|1<<n-1;this._currentBar.masterBar.alternateEndings=r}else e.lastNumber>0?this._currentBar.masterBar.alternateEndings=1<<e.lastNumber-1:e.firstNumber>0&&(this._currentBar.masterBar.alternateEndings=1<<e.firstNumber-1)}parseLyric(e,r){for(let n of r.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"verse":e.lyrics||(e.lyrics=[]);let i=n.innerText;n.getAttribute("hyphen")==="true"&&(i+="-"),e.lyrics.push(i);break}}parseRestDurations(e,r){const n=r.getAttribute("base");if(n.indexOf("/")!==-1){let s=new Wi;return s.beamingMode=this._beamingMode,this.parseDuration(e,s,r),s}if(parseInt(n)===1){let s=new Wi;return s.beamingMode=this._beamingMode,s.duration=oe.Whole,s}else return Fe.warning("Importer","Multi-Bar rests are not supported"),null}parseDurationValue(e){switch(e){case"2/1":return oe.DoubleWhole;case"1/1":return oe.Whole;case"1/2":return oe.Half;case"1/4":return oe.Quarter;case"1/8":return oe.Eighth;case"1/16":return oe.Sixteenth;case"1/32":return oe.ThirtySecond;case"1/64":return oe.SixtyFourth;case"1/128":return oe.OneHundredTwentyEighth;default:return Fe.warning("Importer","Unsupported duration"),oe.Quarter}}parseDuration(e,r,n){const i=n.getAttribute("base");r.duration=this.parseDurationValue(i),n.attributes.has("dots")&&(r.dots=parseInt(n.attributes.get("dots")));const s=n.findChildElement("tuplet");if(s){r.tupletNumerator=parseInt(s.getAttribute("count"));const a=s.getAttribute("tripartite")==="true"?3:1,o=s.getAttribute("prolong")==="true"?0:1;let l=0;for(;a*Math.pow(2,l+o)<r.tupletNumerator;)l++;r.tupletDenominator=a*Math.pow(2,l)}}parsePageObjects(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);if(n&&n instanceof j_)switch(n.align){case St.Center:this.score.title?this.score.subTitle||(this.score.subTitle=r.innerText):this.score.title=r.innerText;break;case St.Right:this.score.artist||(this.score.artist=r.innerText);break}break}}parseGallery(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"drawObj":const n=this.parseDrawObj(r);n&&this._galleryObjects.set(r.getAttribute("name"),n);break}}parseDrawObj(e){let r=null,n=1;for(let i of e.childNodes)if(i.nodeType===Le.Element)switch(i.localName){case"text":r=this.parseText(i);break;case"guitar":r=this.parseGuitar(i);break;case"slur":r=this.parseSlur(i);break;case"wavyLine":r=this.parseWavyLine(i);break;case"bracket":r=this.parseTupletBracket(i);break;case"wedge":r=this.parseWedge(i);break;case"volta":r=this.parseVolta(i);break;case"octaveClef":r=this.parseOctaveClef(i);break;case"trill":r=this.parseTrill(i);break;case"basic":i.attributes.has("noteRange")&&(n=parseInt(i.attributes.get("noteRange")));break}return r&&(r.noteRange=n),r}parseTrill(e){return new qxe}parseOctaveClef(e){const r=new Xxe;return e.attributes.has("octave")&&(r.octave=parseInt(e.attributes.get("octave"))),r}parseVolta(e){const r=new Y_;return r.allNumbers=e.attributes.get("allNumbers")==="true",e.attributes.has("firstNumber")&&(r.firstNumber=parseInt(e.attributes.get("firstNumber"))),e.attributes.has("lastNumber")&&(r.lastNumber=parseInt(e.attributes.get("lastNumber"))),r}parseWedge(e){const r=new aA;return r.decrescendo=e.attributes.get("decrescendo")==="true",r}parseTupletBracket(e){const r=new Yxe;return e.attributes.has("number")&&(r.number=parseInt(e.attributes.get("number"))),r}parseWavyLine(e){return new sA}parseSlur(e){return new iA}parseGuitar(e){const r=new nA,n=e.innerText.trim();for(let i=0;i<n.length;i++)n.charAt(i)==="/"?r.chord.strings.push(0):r.chord.strings.push(parseInt(n.charAt(i)));return r}parseText(e){const r=new j_;switch(e.attributes.has("x")&&(r.x=parseFloat(e.attributes.get("x"))),e.attributes.has("x")&&(r.y=parseFloat(e.attributes.get("y"))),e.getAttribute("align")){case"left":r.align=St.Left;break;case"center":r.align=St.Center;break;case"right":r.align=St.Right;break}switch(e.getAttribute("frame")){case"rectangle":r.frame=Fd.Rectangle;break;case"ellipse":r.frame=Fd.Ellipse;break;case"circle":r.frame=Fd.Circle;break;case"none":r.frame=Fd.None;break}if(e.firstElement){for(let n of e.childNodes)if(n.nodeType===Le.Element)switch(n.localName){case"font":r.fontFace=n.getAttribute("face"),n.attributes.has("weight")&&(r.weight=parseInt(n.attributes.get("weight"))),n.attributes.has("height")&&(r.height=parseInt(n.attributes.get("height")));break;case"content":r.text=n.innerText;break}}else r.text=e.innerText;return r}parseInfo(e){for(let r of e.childNodes)if(r.nodeType===Le.Element)switch(r.localName){case"author":this.score.tab=r.firstChild.innerText;break;case"comment":this.score.notices=r.firstChild.innerText;break}}}class Zxe extends Pp{get name(){return"Capella"}constructor(){super()}readScore(){Fe.debug(this.name,"Loading ZIP entries");let e=new Mz(this.data),r,n=null;if(r=e.read(),Fe.debug(this.name,"Zip entries loaded"),r.length>0)for(let i of r)switch(i.fileName){case"score.xml":n=Ce.toString(i.data,this.settings.importer.encoding);break}else this.data.reset(),n=Ce.toString(this.data.readAll(),this.settings.importer.encoding);if(!n)throw new Yn("No valid capella file");Fe.debug(this.name,"Start Parsing score.xml");try{let i=new Fw;return i.parseXml(n,this.settings),Fe.debug(this.name,"score.xml parsed"),i.score}catch(i){throw new Yn("Failed to parse CapXML",i)}}}class e1e{constructor(e){this._targets=new Set,this._callback=e,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}observe(e){this._targets.add(e)}unobserve(e){this._targets.delete(e)}disconnect(){this._targets.clear()}onWindowResize(){const e=[];for(const r of this._targets)e.push({target:r,contentRect:void 0,borderBoxSize:void 0,contentBoxSize:[],devicePixelContentBoxSize:[]});this._callback(e,this)}}class t1e{constructor(e){this._elements=[];let r=null;const n=this._check.bind(this);this._check=()=>{r||(r=setTimeout(()=>{n(),r=null},100))},this._callback=e,window.addEventListener("resize",this._check,!0),document.addEventListener("scroll",this._check,!0)}observe(e){this._elements.indexOf(e)>=0||(this._elements.push(e),this._check())}unobserve(e){this._elements=this._elements.filter(r=>r!=e)}_check(){const e=[];this._elements.forEach(r=>{const n=r.getBoundingClientRect();n.top+n.height>=0&&n.top<=window.innerHeight&&n.left+n.width>=0&&n.left<=window.innerWidth&&e.push({target:r,isIntersecting:!0})}),e.length&&this._callback(e,this)}}function oA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var r1e=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function lA(t){function e(n){t.error=t.hasError?new r1e(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}class nn{static enable(e,r){nn.alphaSkia=r,nn.initializeMusicFont(nn.alphaSkia.AlphaSkiaTypeface.register(e))}static initializeMusicFont(e){nn.musicFont=e}static registerFont(e,r){const n=nn.alphaSkia.AlphaSkiaTypeface.register(e.buffer);r||(r=dr.withFamilyList([n.familyName],12,n.isItalic?vn.Italic:vn.Plain,n.isBold?ea.Bold:ea.Regular));for(const i of r.families)this.customTypeFaces.set(nn.customTypefaceKey(i,r.isBold,r.isItalic),n);return r}static customTypefaceKey(e,r,n){return e.toLowerCase()+"_"+r+"_"+n}getTypeFace(){if(this._typeFaceCache!=this.font.toCssString(this.settings.display.scale)){if(this._typeFaceIsSystem){const r={stack:[],error:void 0,hasError:!1};try{const n=oA(r,this._typeFace,!1)}catch(n){r.error=n,r.hasError=!0}finally{lA(r)}}for(const r of this.font.families){var e=nn.customTypefaceKey(r,this.font.isBold,this.font.isItalic);nn.customTypeFaces.has(e)?(this._typeFaceIsSystem=!1,this._typeFace=nn.customTypeFaces.get(e)):(this._typeFaceIsSystem=!0,this._typeFace=nn.alphaSkia.AlphaSkiaTypeface.create(r,this.font.isBold,this.font.isItalic))}this._typeFaceCache=this.font.toCssString(this.settings.display.scale)}return this._typeFace}constructor(){this._color=new fn(0,0,0,0),this._lineWidth=0,this._typeFaceCache="",this._typeFaceIsSystem=!1,this._typeFace=null,this.font=new dr("Arial",10,vn.Plain),this.textAlign=St.Left,this.textBaseline=jt.Top,this._canvas=new nn.alphaSkia.AlphaSkiaCanvas,this.color=new fn(0,0,0,255)}destroy(){const e={stack:[],error:void 0,hasError:!1};try{const r=oA(e,this._canvas,!1)}catch(r){e.error=r,e.hasError=!0}finally{lA(e)}}onRenderFinished(){return null}beginRender(e,r){this._canvas.beginRender(e,r,Ue.HighDpiFactor)}endRender(){return this._canvas.endRender()}get color(){return this._color}set color(e){this._color.rgba!==e.rgba&&(this._color=e,this._canvas.color=nn.alphaSkia.AlphaSkiaCanvas.rgbaToColor(e.r,e.g,e.b,e.a))}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this._canvas.lineWidth=e}fillRect(e,r,n,i){n>0&&this._canvas.fillRect(e|0,r|0,n,i)}strokeRect(e,r,n,i){this._canvas.strokeRect(e|0,r|0,n,i)}beginPath(){this._canvas.beginPath()}closePath(){this._canvas.closePath()}moveTo(e,r){this._canvas.moveTo(e,r)}lineTo(e,r){this._canvas.lineTo(e,r)}quadraticCurveTo(e,r,n,i){this._canvas.quadraticCurveTo(e,r,n,i)}bezierCurveTo(e,r,n,i,s,a){this._canvas.bezierCurveTo(e,r,n,i,s,a)}fillCircle(e,r,n){this._canvas.fillCircle(e,r,n)}strokeCircle(e,r,n){this._canvas.strokeCircle(e,r,n)}fill(){this._canvas.fill()}stroke(){this._canvas.stroke()}beginGroup(e){}endGroup(){}fillText(e,r,n){if(e.length==0)return;let i=nn.alphaSkia.AlphaSkiaTextAlign.Left;switch(this.textAlign){case St.Left:i=nn.alphaSkia.AlphaSkiaTextAlign.Left;break;case St.Center:i=nn.alphaSkia.AlphaSkiaTextAlign.Center;break;case St.Right:i=nn.alphaSkia.AlphaSkiaTextAlign.Right;break}let s=nn.alphaSkia.AlphaSkiaTextBaseline.Top;switch(this.textBaseline){case jt.Top:s=nn.alphaSkia.AlphaSkiaTextBaseline.Top;break;case jt.Middle:s=nn.alphaSkia.AlphaSkiaTextBaseline.Middle;break;case jt.Bottom:s=nn.alphaSkia.AlphaSkiaTextBaseline.Bottom;break}this._canvas.fillText(e,this.getTypeFace(),this.font.size*this.settings.display.scale,r,n,i,s)}measureText(e){return this._canvas.measureText(e,this.getTypeFace(),this.font.size*this.settings.display.scale)}fillMusicFontSymbol(e,r,n,i,s){i!==R.None&&this.fillMusicFontSymbolText(e,r,n,String.fromCharCode(i),s)}fillMusicFontSymbols(e,r,n,i,s){let a="";for(let o of i)o!==R.None&&(a+=String.fromCharCode(o));this.fillMusicFontSymbolText(e,r,n,a,s)}fillMusicFontSymbolText(e,r,n,i,s){this._canvas.fillText(i,nn.musicFont,Ue.MusicFontSize*this.settings.display.scale*n,e,r,s?nn.alphaSkia.AlphaSkiaTextAlign.Center:nn.alphaSkia.AlphaSkiaTextAlign.Left,nn.alphaSkia.AlphaSkiaTextBaseline.Alphabetic)}beginRotate(e,r,n){this._canvas.beginRotate(e,r,n)}endRotate(){this._canvas.endRotate()}}nn.musicFont=null;nn.customTypeFaces=new Map;class uA{constructor(e,r){this.vertical=e,this.createLayout=r}}class X_{constructor(e,r){this.supportsWorkers=e,this.createCanvas=r}}class Ue{static createStyleElement(e,r){let n=e.getElementById("alphaTabStyle");if(!n){if(!r){Fe.error("AlphaTab","Font directory could not be detected, cannot create style element");return}n=e.createElement("style"),n.id="alphaTabStyle";let i=`
            @font-face {
                font-family: 'alphaTab';
                 src: url('${r}Bravura.eot');
                 src: url('${r}Bravura.eot?#iefix') format('embedded-opentype')
                      , url('${r}Bravura.woff') format('woff')
                      , url('${r}Bravura.otf') format('opentype')
                      , url('${r}Bravura.svg#Bravura') format('svg');
                 font-weight: normal;
                 font-style: normal;
            }
            .at-surface * {
                cursor: default;
                vertical-align: top;
                overflow: visible;
            }
            .at-surface-svg text {
                dominant-baseline: central;
            }             
            .at {
                 font-family: 'alphaTab';
                 speak: none;
                 font-style: normal;
                 font-weight: normal;
                 font-variant: normal;
                 text-transform: none;
                 line-height: 1;
                 line-height: 1;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
                 font-size: ${Ue.MusicFontSize}px;
                 overflow: visible !important;
            }`;n.innerHTML=i,e.getElementsByTagName("head").item(0).appendChild(n),Ue.bravuraFontChecker.checkForFontAvailability()}}static get globalThis(){if(Ue._globalThis===void 0){try{Ue._globalThis=globalThis}catch{}typeof Ue._globalThis>"u"&&(Ue._globalThis=self),typeof Ue._globalThis>"u"&&(Ue._globalThis=global),typeof Ue._globalThis>"u"&&(Ue._globalThis=window),typeof Ue._globalThis>"u"&&(Ue._globalThis=Function("return this")())}return this._globalThis}static get isRunningInWorker(){return"WorkerGlobalScope"in Ue.globalThis}static get isRunningInAudioWorklet(){return"AudioWorkletGlobalScope"in Ue.globalThis}static throttle(e,r){let n=0;return()=>{Ue.globalThis.clearTimeout(n),n=Ue.globalThis.setTimeout(e,r)}}static detectScriptFile(){if(!Ue.isRunningInWorker&&Ue.globalThis.ALPHATAB_ROOT){let e=Ue.globalThis.ALPHATAB_ROOT;return e=Ue.ensureFullUrl(e),e=Ue.appendScriptName(e),e}try{const e=import.meta.url;if(e&&e.indexOf("file://")===-1)return e}catch{}return"document"in Ue.globalThis&&document.currentScript?document.currentScript.src:null}static ensureFullUrl(e){var r,n,i;if(!e)return"";if(!e.startsWith("http")&&!e.startsWith("https")&&!e.startsWith("file")){let s="",a=Ue.globalThis.location;if(s+=(r=a.protocol)==null?void 0:r.toString(),s+="//",a.hostname&&(s+=(n=a.hostname)==null?void 0:n.toString()),a.port&&(s+=":",s+=(i=a.port)==null?void 0:i.toString()),!e.startsWith("/")){let o=a.pathname.split("/").slice(0,-1).join("/");o.length>0&&(o.startsWith("/")||(s+="/"),s+=o==null?void 0:o.toString())}return e.startsWith("/")||(s+="/"),s+=e==null?void 0:e.toString(),s}return e}static appendScriptName(e){return e&&!e.endsWith(".js")&&(e.endsWith("/")||(e+="/"),e+="alphaTab.js"),e}static detectFontDirectory(){if(!Ue.isRunningInWorker&&Ue.globalThis.ALPHATAB_FONT)return Ue.ensureFullUrl(Ue.globalThis.ALPHATAB_FONT);const e=Ue.scriptFile;if(e){let r=e.lastIndexOf("/");if(r>=0)return e.substr(0,r)+"/font/"}return null}static registerJQueryPlugin(){if(!Ue.isRunningInWorker&&Ue.globalThis&&"jQuery"in Ue.globalThis){let e=Ue.globalThis.jQuery,r=new WF;e.fn.alphaTab=function(n){const i=Array.prototype.slice.call(arguments,1);return this.length===1?r.exec(this[0],n,i):this.each((s,a)=>{r.exec(a,n,i)})},e.alphaTab={restore:WF.restore},e.fn.alphaTab.fn=r}}static getRenderEngineFactory(e){return!e||!Ue.renderEngines.has(e)?Ue.renderEngines.get("default"):Ue.renderEngines.get(e)}static getLayoutEngineFactory(e){return!e||!Ue.layoutEngines.has(e)?Ue.layoutEngines.get(ku.Page):Ue.layoutEngines.get(e)}static buildImporters(){return[new Tl,new xwe,new vwe,new Swe,new Zxe,new os]}static createDefaultRenderEngines(){const e=new Map;return e.set("svg",new X_(!0,()=>new Zwe)),e.set("default",e.get("svg")),e.set("skia",new X_(!1,()=>new nn)),Ue.createPlatformSpecificRenderEngines(e),e}static enableAlphaSkia(e,r){nn.enable(e,r)}static registerAlphaSkiaCustomFont(e,r){return nn.registerFont(e,r)}static createPlatformSpecificRenderEngines(e){e.set("html5",new X_(!1,()=>new Lwe))}static createDefaultStaveProfiles(){const e=new Map;e.set(Zs.ScoreTab,[new lc("score-effects",[new W_,new U_,new O_,new H_,new I_,new F_,new KF,new Ob,new Lb(!0),new $b,new Fb,new Vb,new Ab,new Wb,new D_]),new tA,new lc("tab-effects",[new jF,new Lb(!1),new YF,new Ib,new Ob,new $b,new Fb,new Vb,new Ab,new qF,new L_,new xa(bt.Natural),new xa(bt.Artificial),new xa(bt.Pinch),new xa(bt.Tap),new xa(bt.Semi),new xa(bt.Feedback),new A_,new GF,new XF,new $_,new z_,new V_,new Wb]),new G_(!1,!1,!1)]),e.set(Zs.Score,[new lc("score-effects",[new W_,new U_,new O_,new H_,new I_,new F_,new KF,new Ob,new Lb(!0),new $b,new Fb,new Vb,new Ab,new L_,new A_,new $_,new z_,new V_,new Wb,new D_]),new tA,new lc("score-bottom-effects",[new jF,new Lb(!1),new YF,new Ib])]);let r=[new W_,new U_,new O_,new H_,new I_,new F_,new Ob,new $b,new Fb,new Vb,new Ab,new qF,new L_,new xa(bt.Artificial),new xa(bt.Pinch),new xa(bt.Tap),new xa(bt.Semi),new xa(bt.Feedback),new A_,new GF,new XF,new $_,new z_,new V_,new Wb,new D_];return e.set(Zs.Tab,[new lc("tab-effects",r),new G_(!0,!0,!0),new lc("tab-bottom-effects",[new Ib])]),e.set(Zs.TabMixed,[new lc("tab-effects",r),new G_(!1,!1,!1),new lc("tab-bottom-effects",[new Ib])]),e}static createDefaultLayoutEngines(){const e=new Map;return e.set(ku.Page,new uA(!0,r=>new t0(r))),e.set(ku.Horizontal,new uA(!1,r=>new e0(r))),e}static initializeMain(e,r){Ue.isRunningInWorker||Ue.isRunningInAudioWorklet||((Ue.webPlatform===Ba.Browser||Ue.webPlatform===Ba.BrowserModule)&&(Ue.registerJQueryPlugin(),Ue.HighDpiFactor=window.devicePixelRatio,"ResizeObserver"in Ue.globalThis||(Ue.globalThis.ResizeObserver=e1e),"IntersectionObserver"in Ue.globalThis||(Ue.globalThis.IntersectionObserver=t1e),"replaceChildren"in Element.prototype||(Element.prototype.replaceChildren=function(...n){this.innerHTML="",this.append(...n)},Document.prototype.replaceChildren=Element.prototype.replaceChildren,DocumentFragment.prototype.replaceChildren=Element.prototype.replaceChildren),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(n,i){return this.replace(new RegExp(n,"g"),i)})),Ue.createWebWorker=e,Ue.createAudioWorklet=r)}static get alphaTabWorker(){return this.globalThis.Worker}static initializeWorker(){if(!Ue.isRunningInWorker)throw new ki(Si.General,"Not running in worker, cannot run worker initialization");KM.init(),XM.init(),Ue.createWebWorker=e=>{throw new ki(Si.General,"Nested workers are not supported")}}static initializeAudioWorklet(){if(!Ue.isRunningInAudioWorklet)throw new ki(Si.General,"Not running in audio worklet, cannot run worklet initialization");sy.init()}static detectWebPack(){try{if(typeof __webpack_require__=="function")return!0}catch{}return!1}static detectVite(){try{if(typeof __BASE__=="string")return!0}catch{}return!1}static detectWebPlatform(){try{if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return Ba.NodeJs}catch{}try{const e=import.meta.url;if(e&&typeof e=="string"&&!e.startsWith("file://"))return Ba.BrowserModule}catch{}return Ba.Browser}}Ue.MusicFontSize=34;Ue.HighDpiFactor=1;Ue._globalThis=void 0;Ue.webPlatform=Ue.detectWebPlatform();Ue.isWebPackBundled=Ue.detectWebPack();Ue.isViteBundled=Ue.detectVite();Ue.scriptFile=Ue.detectScriptFile();Ue.fontDirectory=Ue.detectFontDirectory();Ue.bravuraFontChecker=new Jz(["alphaTab"]);Ue.renderEngines=Ue.createDefaultRenderEngines();Ue.layoutEngines=Ue.createDefaultLayoutEngines();Ue.staveProfiles=Ue.createDefaultStaveProfiles();class dW{constructor(){this.scriptFile=null,this.fontDirectory=null,this.file=null,this.tex=!1,this.tracks=null,this.enableLazyLoading=!0,this.engine="default",this.logLevel=Jo.Info,this.useWorkers=!0,this.includeNoteBounds=!1,this.scriptFile=Ue.scriptFile,this.fontDirectory=Ue.fontDirectory}}var Ae;(function(t){t[t.SteelGuitar=1]="SteelGuitar",t[t.AcousticGuitar=2]="AcousticGuitar",t[t.TwelveStringGuitar=3]="TwelveStringGuitar",t[t.ElectricGuitar=4]="ElectricGuitar",t[t.Bass=5]="Bass",t[t.ClassicalGuitar=23]="ClassicalGuitar",t[t.UprightBass=6]="UprightBass",t[t.Ukulele=7]="Ukulele",t[t.Banjo=8]="Banjo",t[t.Mandolin=9]="Mandolin",t[t.Piano=10]="Piano",t[t.Synth=12]="Synth",t[t.Strings=11]="Strings",t[t.Brass=13]="Brass",t[t.Reed=14]="Reed",t[t.Woodwind=15]="Woodwind",t[t.Vocal=16]="Vocal",t[t.PitchedIdiophone=17]="PitchedIdiophone",t[t.Fx=21]="Fx",t[t.PercussionKit=18]="PercussionKit",t[t.Idiophone=19]="Idiophone",t[t.Membraphone=20]="Membraphone"})(Ae||(Ae={}));class Ve{constructor(e,r,n=null){if(this.icon=Ae.Piano,this.icon=e,this.instrumentSetName=r,n)this.instrumentSetType=n;else{const i=r.split(" ");i[0]=i[0].substr(0,1).toLowerCase()+i[0].substr(1),this.instrumentSetType=i.join("")}}}new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Acoustic Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Electric Piano"),new Ve(Ae.Piano,"Harpsichord"),new Ve(Ae.Piano,"Harpsichord"),new Ve(Ae.PitchedIdiophone,"Celesta"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Piano,"Electric Organ"),new Ve(Ae.ClassicalGuitar,"Nylon Guitar"),new Ve(Ae.SteelGuitar,"Steel Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.ElectricGuitar,"Electric Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.SteelGuitar,"Electric Guitar"),new Ve(Ae.Bass,"Acoustic Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Acoustic Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Bass,"Electric Bass"),new Ve(Ae.Synth,"Synth Bass"),new Ve(Ae.Synth,"Synth Bass"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Viola"),new Ve(Ae.Strings,"Cello"),new Ve(Ae.Strings,"Contrabass"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Piano,"Harp"),new Ve(Ae.Membraphone,"Timpani"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Vocal,"Voice"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trombone"),new Ve(Ae.Brass,"Tuba"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"French Horn"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Brass,"Trumpet"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Saxophone"),new Ve(Ae.Reed,"Oboe"),new Ve(Ae.Reed,"English Horn"),new Ve(Ae.Reed,"Bassoon"),new Ve(Ae.Reed,"Clarinet"),new Ve(Ae.Reed,"Piccolo"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Woodwind,"Recorder"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Lead Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Synth,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Pad Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Lead Synthesizer"),new Ve(Ae.Fx,"Trumpet"),new Ve(Ae.ElectricGuitar,"Banjo"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.Ukulele,"Ukulele"),new Ve(Ae.Banjo,"Banjo"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.Reed,"Bassoon"),new Ve(Ae.Strings,"Violin"),new Ve(Ae.Woodwind,"Flute"),new Ve(Ae.PitchedIdiophone,"Xylophone"),new Ve(Ae.Idiophone,"Celesta"),new Ve(Ae.PitchedIdiophone,"Vibraphone"),new Ve(Ae.Idiophone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Membraphone,"Xylophone"),new Ve(Ae.Idiophone,"Celesta"),new Ve(Ae.Fx,"Steel Guitar"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Recorder"),new Ve(Ae.Fx,"Timpani");new Ve(Ae.PercussionKit,"Drums","drumKit");class Yd{static buildCrc32Lookup(){const r=new Uint32Array(256);for(let n=0;n<r.length;n++){let i=n;for(let s=0;s<8;s++)i=(i&1)===1?i>>>1^3988292384:i>>>1;r[n]=i}return r}get value(){return~this._checkValue}constructor(){this._checkValue=Yd.CrcInit,this.reset()}update(e,r,n){for(let i=0;i<n;i++)this._checkValue=Yd.Crc32Lookup[(this._checkValue^e[r+i])&255]^this._checkValue>>>8}reset(){this._checkValue=Yd.CrcInit}}Yd.Crc32Lookup=Yd.buildCrc32Lookup();Yd.CrcInit=4294967295;class wn{}wn.MAX_WBITS=15;wn.WSIZE=1<<wn.MAX_WBITS;wn.WMASK=wn.WSIZE-1;wn.MIN_MATCH=3;wn.MAX_MATCH=258;wn.DEFAULT_MEM_LEVEL=8;wn.PENDING_BUF_SIZE=1<<wn.DEFAULT_MEM_LEVEL+8;wn.HASH_BITS=wn.DEFAULT_MEM_LEVEL+7;wn.HASH_SIZE=1<<wn.HASH_BITS;wn.HASH_SHIFT=(wn.HASH_BITS+wn.MIN_MATCH-1)/wn.MIN_MATCH;wn.HASH_MASK=wn.HASH_SIZE-1;wn.MIN_LOOKAHEAD=wn.MAX_MATCH+wn.MIN_MATCH+1;wn.MAX_DIST=wn.WSIZE-wn.MIN_LOOKAHEAD;class Ta{constructor(e,r,n,i){this.length=null,this.numCodes=0,this.codes=null,this.huffman=e,this.minNumCodes=n,this.maxLength=i,this.freqs=new Int16Array(r),this.bitLengthCounts=new Int32Array(i)}reset(){for(let e=0;e<this.freqs.length;e++)this.freqs[e]=0;this.codes=null,this.length=null}buildTree(){let e=this.freqs.length,r=new Int32Array(e),n=0,i=0;for(let u=0;u<e;u++){let c=this.freqs[u];if(c!==0){let h=n++;for(;h>0;){let f=Math.floor((h-1)/2);if(this.freqs[r[f]]>c)r[h]=r[f],h=f;else break}r[h]=u,i=u}}for(;n<2;){let u=i<2?++i:0;r[n++]=u}this.numCodes=Math.max(i+1,this.minNumCodes);let s=n,a=new Int32Array(4*n-2),o=new Int32Array(2*n-1),l=s;for(let u=0;u<n;u++){let c=r[u];a[2*u]=c,a[2*u+1]=-1,o[u]=this.freqs[c]<<8,r[u]=u}do{let u=r[0],c=r[--n],h=0,f=1;for(;f<n;)f+1<n&&o[r[f]]>o[r[f+1]]&&f++,r[h]=r[f],h=f,f=f*2+1;let m=o[c];for(;f=h,h>0;)if(h=Math.floor((f-1)/2),o[r[h]]>m)r[f]=r[h];else break;r[f]=c;let g=r[0];c=l++,a[2*c]=u,a[2*c+1]=g;let y=Math.min(o[u]&255,o[g]&255);for(m=o[u]+o[g]-y+1,o[c]=m,h=0,f=1;f<n;)f+1<n&&o[r[f]]>o[r[f+1]]&&f++,r[h]=r[f],h=f,f=h*2+1;for(;f=h,f>0;)if(h=Math.floor((f-1)/2),o[r[h]]>m)r[f]=r[h];else break;r[f]=c}while(n>1);this.buildLength(a)}buildLength(e){this.length=new Uint8Array(this.freqs.length);let r=Math.floor(e.length/2),n=Math.floor((r+1)/2),i=0;for(let l=0;l<this.maxLength;l++)this.bitLengthCounts[l]=0;let s=new Int32Array(r);s[r-1]=0;for(let l=r-1;l>=0;l--)if(e[2*l+1]!=-1){let u=s[l]+1;u>this.maxLength&&(u=this.maxLength,i++),s[e[2*l]]=u,s[e[2*l+1]]=u}else{let u=s[l];this.bitLengthCounts[u-1]++,this.length[e[2*l]]=s[l]}if(i==0)return;let a=this.maxLength-1;do{for(;this.bitLengthCounts[--a]==0;);do this.bitLengthCounts[a]--,this.bitLengthCounts[++a]++,i-=1<<this.maxLength-1-a;while(i>0&&a<this.maxLength-1)}while(i>0);this.bitLengthCounts[this.maxLength-1]+=i,this.bitLengthCounts[this.maxLength-2]-=i;let o=2*n;for(let l=this.maxLength;l!=0;l--){let u=this.bitLengthCounts[l-1];for(;u>0;){let c=2*e[o++];e[c+1]==-1&&(this.length[e[c]]=l,u--)}}}getEncodedLength(){let e=0;for(let r=0;r<this.freqs.length;r++)e+=this.freqs[r]*this.length[r];return e}calcBLFreq(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.freqs[o]++,i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););i<n?e.freqs[s]+=i:s!=0?e.freqs[Ta.Repeat3To6]++:i<=10?e.freqs[Ta.Repeat3To10]++:e.freqs[Ta.Repeat11To138]++}}setStaticCodes(e,r){this.codes=e,this.length=r}buildCodes(){let e=new Int32Array(this.maxLength),r=0;this.codes=new Int16Array(this.freqs.length);for(let n=0;n<this.maxLength;n++)e[n]=r,r+=this.bitLengthCounts[n]<<15-n;for(let n=0;n<this.numCodes;n++){let i=this.length[n];i>0&&(this.codes[n]=Tt.bitReverse(e[i-1]),e[i-1]+=1<<16-i)}}writeTree(e){let r,n,i,s=-1,a=0;for(;a<this.numCodes;){i=1;let o=this.length[a];for(o==0?(r=138,n=3):(r=6,n=3,s!=o&&(e.writeSymbol(o),i=0)),s=o,a++;a<this.numCodes&&s==this.length[a]&&(a++,!(++i>=r)););if(i<n)for(;i-- >0;)e.writeSymbol(s);else s!=0?(e.writeSymbol(Ta.Repeat3To6),this.huffman.pending.writeBits(i-3,2)):i<=10?(e.writeSymbol(Ta.Repeat3To10),this.huffman.pending.writeBits(i-3,3)):(e.writeSymbol(Ta.Repeat11To138),this.huffman.pending.writeBits(i-11,7))}}writeSymbol(e){this.huffman.pending.writeBits(this.codes[e]&65535,this.length[e])}}Ta.Repeat3To6=16;Ta.Repeat3To10=17;Ta.Repeat11To138=18;class Tt{static staticInit(){let e=0;for(;e<144;)Tt.staticLCodes[e]=Tt.bitReverse(48+e<<8),Tt.staticLLength[e++]=8;for(;e<256;)Tt.staticLCodes[e]=Tt.bitReverse(256+e<<7),Tt.staticLLength[e++]=9;for(;e<280;)Tt.staticLCodes[e]=Tt.bitReverse(-256+e<<9),Tt.staticLLength[e++]=7;for(;e<Tt.LITERAL_NUM;)Tt.staticLCodes[e]=Tt.bitReverse(-88+e<<8),Tt.staticLLength[e++]=8;for(e=0;e<Tt.DIST_NUM;e++)Tt.staticDCodes[e]=Tt.bitReverse(e<<11),Tt.staticDLength[e]=5}static bitReverse(e){return Tt.bit4Reverse[e&15]<<12|Tt.bit4Reverse[e>>4&15]<<8|Tt.bit4Reverse[e>>8&15]<<4|Tt.bit4Reverse[e>>12]}constructor(e){this.last_lit=0,this.extra_bits=0,this.pending=e,this.literalTree=new Ta(this,Tt.LITERAL_NUM,257,15),this.distTree=new Ta(this,Tt.DIST_NUM,1,15),this.blTree=new Ta(this,Tt.BITLEN_NUM,4,7),this.d_buf=new Int16Array(Tt.BUFSIZE),this.l_buf=new Uint8Array(Tt.BUFSIZE)}isFull(){return this.last_lit>=Tt.BUFSIZE}reset(){this.last_lit=0,this.extra_bits=0,this.literalTree.reset(),this.distTree.reset(),this.blTree.reset()}flushStoredBlock(e,r,n,i){this.pending.writeBits((Tt.STORED_BLOCK<<1)+(i?1:0),3),this.pending.alignToByte(),this.pending.writeShort(n),this.pending.writeShort(~n),this.pending.writeBlock(e,r,n),this.reset()}flushBlock(e,r,n,i){this.literalTree.freqs[Tt.EOF_SYMBOL]++,this.literalTree.buildTree(),this.distTree.buildTree(),this.literalTree.calcBLFreq(this.blTree),this.distTree.calcBLFreq(this.blTree),this.blTree.buildTree();let s=4;for(let l=18;l>s;l--)this.blTree.length[Tt.BL_ORDER[l]]>0&&(s=l+1);let a=14+s*3+this.blTree.getEncodedLength()+this.literalTree.getEncodedLength()+this.distTree.getEncodedLength()+this.extra_bits,o=this.extra_bits;for(let l=0;l<Tt.LITERAL_NUM;l++)o+=this.literalTree.freqs[l]*Tt.staticLLength[l];for(let l=0;l<Tt.DIST_NUM;l++)o+=this.distTree.freqs[l]*Tt.staticDLength[l];a>=o&&(a=o),r>=0&&n+4<a>>3?this.flushStoredBlock(e,r,n,i):a==o?(this.pending.writeBits((Tt.STATIC_TREES<<1)+(i?1:0),3),this.literalTree.setStaticCodes(Tt.staticLCodes,Tt.staticLLength),this.distTree.setStaticCodes(Tt.staticDCodes,Tt.staticDLength),this.compressBlock(),this.reset()):(this.pending.writeBits((Tt.DYN_TREES<<1)+(i?1:0),3),this.sendAllTrees(s),this.compressBlock(),this.reset())}sendAllTrees(e){this.blTree.buildCodes(),this.literalTree.buildCodes(),this.distTree.buildCodes(),this.pending.writeBits(this.literalTree.numCodes-257,5),this.pending.writeBits(this.distTree.numCodes-1,5),this.pending.writeBits(e-4,4);for(let r=0;r<e;r++)this.pending.writeBits(this.blTree.length[Tt.BL_ORDER[r]],3);this.literalTree.writeTree(this.blTree),this.distTree.writeTree(this.blTree)}compressBlock(){for(let e=0;e<this.last_lit;e++){let r=this.l_buf[e]&255,n=this.d_buf[e];if(n--!=0){let i=Tt.Lcode(r);this.literalTree.writeSymbol(i);let s=Math.floor((i-261)/4);s>0&&s<=5&&this.pending.writeBits(r&(1<<s)-1,s);let a=Tt.Dcode(n);this.distTree.writeSymbol(a),s=Math.floor(a/2)-1,s>0&&this.pending.writeBits(n&(1<<s)-1,s)}else this.literalTree.writeSymbol(r)}this.literalTree.writeSymbol(Tt.EOF_SYMBOL)}tallyDist(e,r){this.d_buf[this.last_lit]=e,this.l_buf[this.last_lit++]=r-3;let n=Tt.Lcode(r-3);this.literalTree.freqs[n]++,n>=265&&n<285&&(this.extra_bits+=Math.floor((n-261)/4));let i=Tt.Dcode(e-1);return this.distTree.freqs[i]++,i>=4&&(this.extra_bits+=Math.floor(i/2)-1),this.isFull()}tallyLit(e){return this.d_buf[this.last_lit]=0,this.l_buf[this.last_lit++]=e,this.literalTree.freqs[e]++,this.isFull()}static Lcode(e){if(e==255)return 285;let r=257;for(;e>=8;)r+=4,e=e>>1;return r+e}static Dcode(e){let r=0;for(;e>=4;)r+=2,e=e>>1;return r+e}}Tt.BUFSIZE=1<<wn.DEFAULT_MEM_LEVEL+6;Tt.LITERAL_NUM=286;Tt.STORED_BLOCK=0;Tt.STATIC_TREES=1;Tt.DYN_TREES=2;Tt.DIST_NUM=30;Tt.staticLCodes=new Int16Array(Tt.LITERAL_NUM);Tt.staticLLength=new Uint8Array(Tt.LITERAL_NUM);Tt.staticDCodes=new Int16Array(Tt.DIST_NUM);Tt.staticDLength=new Uint8Array(Tt.DIST_NUM);Tt.BL_ORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];Tt.bit4Reverse=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]);Tt.BITLEN_NUM=19;Tt.EOF_SYMBOL=256;Tt.staticInit();Ue.isRunningInWorker?Ue.initializeWorker():Ue.isRunningInAudioWorklet?Ue.initializeAudioWorklet():Ue.initializeMain(t=>{if(Ue.webPlatform==Ba.NodeJs)throw new ki(Si.General,"Workers not yet supported in Node.js");if(Ue.webPlatform==Ba.BrowserModule||Ue.isWebPackBundled||Ue.isViteBundled)return Fe.debug("AlphaTab","Creating webworker"),new Ue.alphaTabWorker(new URL(new URL("/sandbox/assets/alphaTab.worker-CLdxKs-e.js",import.meta.url),import.meta.url),{type:"module"});if(!t.core.scriptFile)throw new ki(Si.General,"Could not detect alphaTab script file, cannot initialize renderer");try{Fe.debug("AlphaTab","Creating Blob worker");const e=`importScripts('${t.core.scriptFile}')`,r=new Blob([e]);return new Worker(URL.createObjectURL(r))}catch{return Fe.warning("Rendering","Could not create inline worker, fallback to normal worker"),new Worker(t.core.scriptFile)}},(t,e)=>{if(Ue.webPlatform==Ba.NodeJs)throw new ki(Si.General,"Audio Worklets not yet supported in Node.js");return Ue.webPlatform==Ba.BrowserModule||Ue.isWebPackBundled||Ue.isViteBundled?(Fe.debug("AlphaTab","Creating Module worklet"),t.audioWorklet.addModule(new URL(new URL("/sandbox/assets/alphaTab.worklet-DYZhGsI-.js",import.meta.url),import.meta.url))):(Fe.debug("AlphaTab","Creating Script worklet"),t.audioWorklet.addModule(e.core.scriptFile))});const hW=24,fW=0;var Aw;(t=>{function e(r){switch(r){case 1:return Dt("E");case 2:return Dt("B");case 3:return Dt("G");case 4:return Dt("D");case 5:return Dt("A");case 6:return Dt("E")}}t.firstNote=e})(Aw||(Aw={}));const Hb={toTex(t){return`${t.fret}.${t.string}`},onString(t,e){let r=Gr.toNoteNumber(e),n=r-Gr.toNoteNumber(Aw.firstNote(t));const i=[];for(;n<=hW;)n>=fW&&i.push(n),r+=wr.halfSteps(wr.octave),n=r-Gr.toNoteNumber(Aw.firstNote(t));return i.map(s=>({string:t,fret:s}))}};function Pe(t,e){return{string:t,fret:e}}const n1e={generate(t,e,r=Ut.Root){switch(t){case 6:switch(e){case on.Maj7:switch(r){case Ut.Root:return[Pe(6,0),Pe(4,1),Pe(3,1),Pe(2,0)];case Ut.First:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,0)];case Ut.Second:return[Pe(6,0),Pe(5,0),Pe(4,-1),Pe(3,1)];case Ut.Third:return[Pe(6,0),Pe(5,0),Pe(4,-2),Pe(3,-2)]}case on.Dom7:switch(r){case Ut.Root:return[Pe(6,0),Pe(4,0),Pe(3,1),Pe(2,0)];case Ut.First:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,-1)];case Ut.Second:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-2)];case Ut.Third:return[Pe(6,0),Pe(4,-1),Pe(3,-1),Pe(2,-1)]}case on.Min7:switch(r){case Ut.Root:return[Pe(6,0),Pe(4,0),Pe(3,0),Pe(2,0)];case Ut.First:return[Pe(6,0),Pe(4,-1),Pe(3,1),Pe(2,0)];case Ut.Second:return[Pe(6,0),Pe(4,-2),Pe(3,0),Pe(2,-2)];case Ut.Third:return[Pe(6,0),Pe(4,-1),Pe(3,-1),Pe(2,-2)]}case on.Half:switch(r){case Ut.Root:return[Pe(6,0),Pe(4,0),Pe(3,0),Pe(2,-1)];case Ut.First:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,0)];case Ut.Second:return[Pe(6,0),Pe(4,-1),Pe(3,1),Pe(2,-1)];case Ut.Third:return[Pe(6,0),Pe(4,-2),Pe(3,-1),Pe(2,-2)]}case on.Full:switch(r){case Ut.Root:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case Ut.First:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case Ut.Second:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)];case Ut.Third:return[Pe(6,0),Pe(4,-1),Pe(3,0),Pe(2,-1)]}}case 5:switch(e){case on.Maj7:switch(r){case Ut.Root:return[Pe(5,0),Pe(4,2),Pe(3,1),Pe(2,2)];case Ut.First:return[Pe(5,0),Pe(4,2),Pe(3,-2),Pe(2,1)];case Ut.Second:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,2)];case Ut.Third:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,-1)]}case on.Dom7:switch(r){case Ut.Root:return[Pe(5,0),Pe(4,2),Pe(3,0),Pe(2,2)];case Ut.First:return[Pe(5,0),Pe(4,1),Pe(3,-2),Pe(2,1)];case Ut.Second:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,1)];case Ut.Third:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,0)]}case on.Min7:switch(r){case Ut.Root:return[Pe(5,0),Pe(4,2),Pe(3,0),Pe(2,1)];case Ut.First:return[Pe(5,0),Pe(4,2),Pe(3,-1),Pe(2,2)];case Ut.Second:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,1)];case Ut.Third:return[Pe(5,0),Pe(4,0),Pe(3,-1),Pe(2,0)]}case on.Half:switch(r){case Ut.Root:return[Pe(5,0),Pe(4,1),Pe(3,0),Pe(2,1)];case Ut.First:return[Pe(5,0),Pe(4,2),Pe(3,-1),Pe(2,1)];case Ut.Second:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,2)];case Ut.Third:return[Pe(5,0),Pe(4,0),Pe(3,-2),Pe(2,0)]}case on.Full:switch(r){case Ut.Root:case Ut.First:case Ut.Second:case Ut.Third:return[Pe(5,0),Pe(4,1),Pe(3,-1),Pe(2,1)]}}default:return[]}}},Ow={toTex(t){return`(${t.notes.map(e=>Hb.toTex(e)+" ").join("")}).1${t.name&&`{ch "${t.name}"}`}|`},generate(t,e,r,n){var i=[];const s=n?[n]:[Ut.Root,Ut.First,Ut.Second,Ut.Third];for(const a of s){const o=Mw.bassNote({inversion:a,chord:{root:t,quality:e}}),l=r?Hb.onString(r,o):Hb.onString(6,o).concat(Hb.onString(5,o));i=i.concat(l.map(u=>({name:`${Gr.toDisplayString(t)}${on.toLeadSheet(e)}${a===Ut.Root?"":`/${Gr.toDisplayString(o)}`}`,notes:n1e.generate(u.string,e,a).map(c=>({string:c.string,fret:c.fret+u.fret}))})))}return i.filter(a=>!a.notes.some(o=>o.fret<fW||o.fret>hW)).sort((a,o)=>Math.min(...a.notes.map(l=>l.fret))-Math.min(...o.notes.map(l=>l.fret))).sort((a,o)=>Math.max(...o.notes.map(l=>l.string))-Math.max(...a.notes.map(l=>l.string)))}},i1e={toTex(t){return`\\ks ${Gr.toDisplayString(t.key.note)} ${t.chords.map(e=>Ow.toTex(e)).join("")}`}};function pW(t){const e=k.useRef(null),r=k.useRef(null);k.useEffect(()=>{if(e.current){r.current=new V1(e.current,{core:{fontDirectory:"./font/"},player:{enablePlayer:!0,enableCursor:!0,enableUserInteraction:!0,soundFont:"./soundfont/sonivox.sf2"}});let i=0;bF(Dt("G"),Rc.mode(WT.Dorian)).concat(bF(Dt("G"),Rc.mode(WT.Dorian))[0]).map(l=>{const u=Ow.generate(l.root,l.quality,6,Ut.Root).find(c=>c.notes[0].fret>i);return i=(u==null?void 0:u.notes[0].fret)??0,u});const s=t.chords.map(l=>Ow.generate(l.root,l.quality,void 0,Ut.Root)[0]),a={key:{note:Dt("C")},chords:s},o=`
      \\tempo 120
      
      . 
      

      ${i1e.toTex(a)}`;console.log(o),r.current.metronomeVolume=1,r.current.isLooping=!0,r.current.playbackSpeed=1,r.current.countInVolume=1,r.current.tex(o)}return()=>{var i;(i=r.current)==null||i.destroy()}},[]);function n(){var i;(i=r.current)==null||i.playPause()}return _.jsxs(_.Fragment,{children:[_.jsx("div",{style:{display:"flex",flexDirection:"column",overflow:"auto"},children:_.jsx("div",{style:{width:800,overflow:"auto"},ref:e})}),_.jsx("div",{style:{display:"flex"},children:_.jsx(lm,{defaultValue:1,step:.1,min:.1,max:2,style:{margin:"50px",flex:1},onChangeCommitted:(i,s)=>{r.current&&(r.current.playbackSpeed=s)},children:"Tempo"})}),_.jsx(xs,{onClick:n,children:"Play/Pause"})]})}const s1e=840;function cA(){return{width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<s1e}}function gW(){const[t,e]=k.useState(cA());function r(){e(cA())}return k.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t}const dA=[Dt("C"),Dt("D",ta.Flat),Dt("D"),Dt("E",ta.Flat),Dt("E"),Dt("F"),Dt("G",ta.Flat),Dt("G"),Dt("A",ta.Flat),Dt("A"),Dt("B",ta.Flat),Dt("B")],hA=[Ut.Root,Ut.First,Ut.Second,Ut.Third],fA=[on.Maj7,on.Dom7,on.Min7,on.Half,on.Full],qi={container:{display:"flex",flex:1,flexDirection:"column",padding:14,fontFamily:"sans-serif"},section:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},notesSection:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(40px, 1fr))",gap:14},formGroup:{marginTop:16,marginBottom:16},button:{backgroundColor:"#007BFF",color:"#fff",transition:"background-color 0.3s, transform 0.1s",cursor:"pointer",flex:1},chordText:{fontSize:20,marginTop:5,textAlign:"center",textTransform:"none"},toggleButton:{maxHeight:"50px",display:"flex",flexDirection:"column",borderRadius:8,textAlign:"center",justifyContent:"center",fontSize:15,padding:7,cursor:"pointer",transition:"background-color 0.3s, transform 0.1s"},toggleButtonsContainer:{},toggleButtonChecked:{backgroundColor:"#9df"},toggleButtonUnchecked:{backgroundColor:"#eee"},toggleButtonHover:{backgroundColor:"#b3e5fc"},toggleButtonActive:{transform:"scale(0.95)"},buttonHover:{backgroundColor:"#0056b3"},buttonActive:{transform:"scale(0.95)"}};function a1e(){const[t,e]=k.useState(dA),[r,n]=k.useState(hA),[i,s]=k.useState(fA),[a,o]=k.useState(!0),[l,u]=k.useState(!1),{isMobile:c}=gW(),[h,f]=k.useState(null);function m(){f({note:t[Math.floor(Math.random()*t.length)],inversion:r[Math.floor(Math.random()*r.length)],quality:i[Math.floor(Math.random()*i.length)],string:a?Math.floor(Math.random()*2)===0?6:5:null})}return h&&(Dt("C"),Ow.generate(h.note,h.quality,h.string??void 0,h.inversion)),_.jsxs($u,{title:"Chord Generator",children:[_.jsxs("div",{style:qi.container,children:[_.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center"},children:_.jsx(xs,{style:qi.chordText,disabled:!h,onClick:()=>u(!0),children:_.jsx(qr,{children:h?`${Gr.toDisplayString(h.note)} ${h.quality?h.quality:""} ${h.inversion?h.inversion:""} ${h.string?` on ${h.string} string`:""}`:"Generate a chord!"})})}),_.jsxs("div",{style:qi.toggleButtonsContainer,children:[_.jsx("div",{style:qi.notesSection,children:dA.map(g=>_.jsx(q_,{checked:t.includes(g),onChange:()=>t.includes(g)?e(y=>y.filter(b=>Gr.toNoteNumber(b)!==Gr.toNoteNumber(g))):e(y=>y.concat(g)),children:Gr.toDisplayString(g)},Gr.toDisplayString(g)))}),_.jsx(nL,{style:{minHeight:"5px",margin:"7px 0"}}),_.jsx("div",{style:qi.section,children:hA.map(g=>_.jsx(q_,{checked:r.includes(g),onChange:()=>r.includes(g)?n(y=>y.filter(b=>b!==g)):n(y=>y.concat(g)),children:g},g))}),_.jsx(nL,{style:{minHeight:"5px",margin:"7px 0"}}),_.jsx("div",{style:qi.section,children:fA.map(g=>_.jsx(q_,{checked:i.includes(g),onChange:()=>i.includes(g)?s(y=>y.filter(b=>b!==g)):s(y=>y.concat(g)),children:g},g))})]}),_.jsx(cV,{style:qi.formGroup,children:_.jsx(NT,{control:_.jsx(hhe,{checked:a,onChange:()=>o(!a)}),label:"Include string"})}),_.jsx("div",{style:{display:"flex"},children:_.jsx(xs,{style:qi.button,size:"large",onMouseOver:g=>g.currentTarget.style.backgroundColor=qi.buttonHover.backgroundColor,onMouseOut:g=>g.currentTarget.style.backgroundColor=qi.button.backgroundColor,onMouseDown:g=>g.currentTarget.style.transform=qi.buttonActive.transform,onMouseUp:g=>g.currentTarget.style.transform="scale(1)",onClick:m,children:"Generate"})})]}),h&&l&&_.jsxs(Uy,{maxWidth:"lg",fullScreen:c,open:l,onClose:()=>u(!1),children:[_.jsx(nV,{children:`${Gr.toDisplayString(h.note)} ${h.quality?h.quality:""} ${h.inversion?h.inversion:""} ${h.string?` on ${h.string} string`:""}`}),_.jsx(fs,{"aria-label":"close",onClick:()=>u(!1),sx:{position:"absolute",right:9,top:9,color:g=>g.palette.grey[600]},children:_.jsx(jy,{})}),_.jsx(pW,{note:h.note,inversion:h.inversion,string:h.string,quality:h.quality})]})]})}function q_({children:t,checked:e,onChange:r}){return _.jsx("div",{style:{...qi.toggleButton,...e?qi.toggleButtonChecked:qi.toggleButtonUnchecked},onMouseOver:n=>n.currentTarget.style.backgroundColor=qi.toggleButtonHover.backgroundColor,onMouseOut:n=>n.currentTarget.style.backgroundColor=e?qi.toggleButtonChecked.backgroundColor:qi.toggleButtonUnchecked.backgroundColor,onMouseDown:n=>n.currentTarget.style.transform=qi.toggleButtonActive.transform,onMouseUp:n=>n.currentTarget.style.transform="scale(1)",onClick:()=>r(!e),children:_.jsx("div",{children:t})})}const o1e=[Dt("C"),Dt("D",ta.Flat),Dt("D"),Dt("E",ta.Flat),Dt("E"),Dt("F"),Dt("G",ta.Flat),Dt("G"),Dt("A",ta.Flat),Dt("A"),Dt("B",ta.Flat),Dt("B")],l1e=[on.Maj7,on.Dom7,on.Min7,on.Half,on.Full];function u1e(){const[t,e]=k.useState(0),[r,n]=k.useState(on.Maj7),[i,s]=k.useState([]),[a,o]=k.useState(!1),{isMobile:l}=gW();return _.jsxs($u,{title:"Progression",children:[_.jsxs("div",{style:{padding:"30px",display:"flex",flexDirection:"column"},children:[_.jsx(wL,{row:!0,value:t,onChange:(u,c)=>e(parseInt(c)),children:o1e.map(u=>_.jsx(NT,{value:Gr.toNoteNumber(u),control:_.jsx(vL,{}),label:Gr.toDisplayString(u)}))}),_.jsx(wL,{row:!0,value:r,onChange:(u,c)=>n(c),children:l1e.map(u=>_.jsx(NT,{value:u,control:_.jsx(vL,{}),label:u}))}),_.jsx(xs,{onClick:()=>s([...i,{root:Ud.toNote(t),quality:r}]),children:"Add Chord"}),i.map(u=>_.jsx("div",{style:{backgroundColor:"greenyellow",width:100,height:30},children:xz.toLeadSheet(u)})),_.jsx(xs,{onClick:()=>o(!0),children:"Play"}),_.jsx(fs,{onClick:()=>s([]),children:_.jsx(EV,{})})]}),a&&_.jsxs(Uy,{maxWidth:"lg",fullScreen:l,open:a,onClose:()=>o(!1),children:[_.jsx(fs,{onClick:()=>o(!1),sx:{position:"absolute",right:9,top:9,color:u=>u.palette.grey[600]},children:_.jsx(jy,{})}),_.jsx(pW,{chords:i})]})]})}function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ie.apply(null,arguments)}function hi(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var sN=n0(),mr=t=>r0(t,sN),aN=n0();mr.write=t=>r0(t,aN);var G1=n0();mr.onStart=t=>r0(t,G1);var oN=n0();mr.onFrame=t=>r0(t,oN);var lN=n0();mr.onFinish=t=>r0(t,lN);var Af=[];mr.setTimeout=(t,e)=>{const r=mr.now()+e,n=()=>{const s=Af.findIndex(a=>a.cancel==n);~s&&Af.splice(s,1),kc-=~s?1:0},i={time:r,handler:t,cancel:n};return Af.splice(mW(r),0,i),kc+=1,yW(),i};var mW=t=>~(~Af.findIndex(e=>e.time>t)||~Af.length);mr.cancel=t=>{G1.delete(t),oN.delete(t),lN.delete(t),sN.delete(t),aN.delete(t)};mr.sync=t=>{iP=!0,mr.batchedUpdates(t),iP=!1};mr.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,mr.onStart(r)}return n.handler=t,n.cancel=()=>{G1.delete(r),e=null},n};var uN=typeof window<"u"?window.requestAnimationFrame:()=>{};mr.use=t=>uN=t;mr.now=typeof performance<"u"?()=>performance.now():Date.now;mr.batchedUpdates=t=>t();mr.catch=console.error;mr.frameLoop="always";mr.advance=()=>{mr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):vW()};var Sc=-1,kc=0,iP=!1;function r0(t,e){iP?(e.delete(t),t(0)):(e.add(t),yW())}function yW(){Sc<0&&(Sc=0,mr.frameLoop!=="demand"&&uN(bW))}function c1e(){Sc=-1}function bW(){~Sc&&(uN(bW),mr.batchedUpdates(vW))}function vW(){const t=Sc;Sc=mr.now();const e=mW(Sc);if(e&&(wW(Af.splice(0,e),r=>r.handler()),kc-=e),!kc){c1e();return}G1.flush(),sN.flush(t?Math.min(64,Sc-t):16.667),oN.flush(),aN.flush(),lN.flush()}function n0(){let t=new Set,e=t;return{add(r){kc+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return kc-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,kc-=e.size,wW(e,n=>n(r)&&t.add(n)),kc+=t.size,e=t)}}}function wW(t,e){t.forEach(r=>{try{e(r)}catch(n){mr.catch(n)}})}var d1e=Object.defineProperty,h1e=(t,e)=>{for(var r in e)d1e(t,r,{get:e[r],enumerable:!0})},$a={};h1e($a,{assign:()=>p1e,colors:()=>Fc,createStringInterpolator:()=>dN,skipAnimation:()=>SW,to:()=>xW,willAdvance:()=>hN});function sP(){}var f1e=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function ou(t,e){if(st.arr(t)){if(!st.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var kr=(t,e)=>t.forEach(e);function Gl(t,e,r){if(st.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var $s=t=>st.und(t)?[]:st.arr(t)?t:[t];function fm(t,e){if(t.size){const r=Array.from(t);t.clear(),kr(r,e)}}var Vg=(t,...e)=>fm(t,r=>r(...e)),cN=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),dN,xW,Fc=null,SW=!1,hN=sP,p1e=t=>{t.to&&(xW=t.to),t.now&&(mr.now=t.now),t.colors!==void 0&&(Fc=t.colors),t.skipAnimation!=null&&(SW=t.skipAnimation),t.createStringInterpolator&&(dN=t.createStringInterpolator),t.requestAnimationFrame&&mr.use(t.requestAnimationFrame),t.batchedUpdates&&(mr.batchedUpdates=t.batchedUpdates),t.willAdvance&&(hN=t.willAdvance),t.frameLoop&&(mr.frameLoop=t.frameLoop)},pm=new Set,go=[],K_=[],$w=0,j1={get idle(){return!pm.size&&!go.length},start(t){$w>t.priority?(pm.add(t),mr.onStart(g1e)):(kW(t),mr(aP))},advance:aP,sort(t){if($w)mr.onFrame(()=>j1.sort(t));else{const e=go.indexOf(t);~e&&(go.splice(e,1),_W(t))}},clear(){go=[],pm.clear()}};function g1e(){pm.forEach(kW),pm.clear(),mr(aP)}function kW(t){go.includes(t)||_W(t)}function _W(t){go.splice(m1e(go,e=>e.priority>t.priority),0,t)}function aP(t){const e=K_;for(let r=0;r<go.length;r++){const n=go[r];$w=n.priority,n.idle||(hN(n),n.advance(t),n.idle||e.push(n))}return $w=0,K_=go,K_.length=0,go=e,go.length>0}function m1e(t,e){const r=t.findIndex(e);return r<0?t.length:r}var y1e=(t,e,r)=>Math.min(Math.max(r,t),e),b1e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},nl="[-+]?\\d*\\.?\\d+",Vw=nl+"%";function Y1(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var v1e=new RegExp("rgb"+Y1(nl,nl,nl)),w1e=new RegExp("rgba"+Y1(nl,nl,nl,nl)),x1e=new RegExp("hsl"+Y1(nl,Vw,Vw)),S1e=new RegExp("hsla"+Y1(nl,Vw,Vw,nl)),k1e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_1e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,C1e=/^#([0-9a-fA-F]{6})$/,T1e=/^#([0-9a-fA-F]{8})$/;function P1e(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=C1e.exec(t))?parseInt(e[1]+"ff",16)>>>0:Fc&&Fc[t]!==void 0?Fc[t]:(e=v1e.exec(t))?(Kh(e[1])<<24|Kh(e[2])<<16|Kh(e[3])<<8|255)>>>0:(e=w1e.exec(t))?(Kh(e[1])<<24|Kh(e[2])<<16|Kh(e[3])<<8|mA(e[4]))>>>0:(e=k1e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=T1e.exec(t))?parseInt(e[1],16)>>>0:(e=_1e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=x1e.exec(t))?(pA(gA(e[1]),Ub(e[2]),Ub(e[3]))|255)>>>0:(e=S1e.exec(t))?(pA(gA(e[1]),Ub(e[2]),Ub(e[3]))|mA(e[4]))>>>0:null}function Q_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function pA(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=Q_(i,n,t+1/3),a=Q_(i,n,t),o=Q_(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function Kh(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function gA(t){return(parseFloat(t)%360+360)%360/360}function mA(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Ub(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function yA(t){let e=P1e(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var dy=(t,e,r)=>{if(st.fun(t))return t;if(st.arr(t))return dy({range:t,output:e,extrapolate:r});if(st.str(t.output[0]))return dN(t);const n=t,i=n.output,s=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{const c=M1e(u,s);return B1e(u,s[c],s[c+1],i[c],i[c+1],l,a,o,n.map)}};function B1e(t,e,r,n,i,s,a,o,l){let u=l?l(t):t;if(u<e){if(a==="identity")return u;a==="clamp"&&(u=e)}if(u>r){if(o==="identity")return u;o==="clamp"&&(u=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?u=-u:r===1/0?u=u-e:u=(u-e)/(r-e),u=s(u),n===-1/0?u=-u:i===1/0?u=u+n:u=u*(i-n)+n,u)}function M1e(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var N1e=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return y1e(0,1,i/t)},zw=1.70158,Gb=zw*1.525,bA=zw+1,vA=2*Math.PI/3,wA=2*Math.PI/4.5,jb=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,E1e={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>bA*t*t*t-zw*t*t,easeOutBack:t=>1+bA*Math.pow(t-1,3)+zw*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Gb+1)*2*t-Gb)/2:(Math.pow(2*t-2,2)*((Gb+1)*(t*2-2)+Gb)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*vA),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*vA)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*wA))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*wA)/2+1,easeInBounce:t=>1-jb(1-t),easeOutBounce:jb,easeInOutBounce:t=>t<.5?(1-jb(1-2*t))/2:(1+jb(2*t-1))/2,steps:N1e},hy=Symbol.for("FluidValue.get"),lp=Symbol.for("FluidValue.observers"),ho=t=>!!(t&&t[hy]),Ks=t=>t&&t[hy]?t[hy]():t,xA=t=>t[lp]||null;function R1e(t,e){t.eventObserved?t.eventObserved(e):t(e)}function fy(t,e){const r=t[lp];r&&r.forEach(n=>{R1e(n,e)})}var CW=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");D1e(this,t)}},D1e=(t,e)=>TW(t,hy,e);function Np(t,e){if(t[hy]){let r=t[lp];r||TW(t,lp,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function py(t,e){const r=t[lp];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[lp]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var TW=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Mv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,I1e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,SA=new RegExp(`(${Mv.source})(%|[a-z]+)`,"i"),L1e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,X1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,PW=t=>{const[e,r]=F1e(t);if(!e||cN())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&X1.test(r))return PW(r);if(r)return r}return t},F1e=t=>{const e=X1.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},J_,A1e=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,BW=t=>{J_||(J_=Fc?new RegExp(`(${Object.keys(Fc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Ks(s).replace(X1,PW).replace(I1e,yA).replace(J_,yA)),r=e.map(s=>s.match(Mv).map(Number)),i=r[0].map((s,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>dy({...t,output:s}));return s=>{var l;const a=!SA.test(e[0])&&((l=e.find(u=>SA.test(u)))==null?void 0:l.replace(Mv,""));let o=0;return e[0].replace(Mv,()=>`${i[o++](s)}${a||""}`).replace(L1e,A1e)}},fN="react-spring: ",MW=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${fN}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},O1e=MW(console.warn);function $1e(){O1e(`${fN}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var V1e=MW(console.warn);function z1e(){V1e(`${fN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function q1(t){return st.str(t)&&(t[0]=="#"||/\d/.test(t)||!cN()&&X1.test(t)||t in(Fc||{}))}var Ad=cN()?k.useEffect:k.useLayoutEffect,W1e=()=>{const t=k.useRef(!1);return Ad(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function NW(){const t=k.useState()[1],e=W1e();return()=>{e.current&&t(Math.random())}}function H1e(t,e){const[r]=k.useState(()=>({inputs:e,result:t()})),n=k.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&U1e(e,s.inputs)||(s={inputs:e,result:t()}):s=r,k.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function U1e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var EW=t=>k.useEffect(t,G1e),G1e=[];function j1e(t){const e=k.useRef();return k.useEffect(()=>{e.current=t}),e.current}var gy=Symbol.for("Animated:node"),Y1e=t=>!!t&&t[gy]===t,kl=t=>t&&t[gy],pN=(t,e)=>f1e(t,gy,e),K1=t=>t&&t[gy]&&t[gy].getPayload(),RW=class{constructor(){pN(this,this)}getPayload(){return this.payload||[]}},i0=class extends RW{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,st.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new i0(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return st.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},my=class extends i0{constructor(t){super(0),this._string=null,this._toString=dy({output:[t,t]})}static create(t){return new my(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(st.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=dy({output:[this.getValue(),t]})),this._value=0,super.reset()}},Ww={dependencies:null},Q1=class extends RW{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Gl(this.source,(r,n)=>{Y1e(r)?e[n]=r.getValue(t):ho(r)?e[n]=Ks(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&kr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Gl(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Ww.dependencies&&ho(t)&&Ww.dependencies.add(t);const e=K1(t);e&&kr(e,r=>this.add(r))}},DW=class extends Q1{constructor(t){super(t)}static create(t){return new DW(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(X1e)),!0)}};function X1e(t){return(q1(t)?my:i0).create(t)}function oP(t){const e=kl(t);return e?e.constructor:st.arr(t)?DW:q1(t)?my:i0}var kA=(t,e)=>{const r=!st.fun(t)||t.prototype&&t.prototype.isReactComponent;return k.forwardRef((n,i)=>{const s=k.useRef(null),a=r&&k.useCallback(g=>{s.current=Q1e(i,g)},[i]),[o,l]=K1e(n,e),u=NW(),c=()=>{const g=s.current;if(r&&!g)return;(g?e.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&u()},h=new q1e(c,l),f=k.useRef();Ad(()=>(f.current=h,kr(l,g=>Np(g,h)),()=>{f.current&&(kr(f.current.deps,g=>py(g,f.current)),mr.cancel(f.current.update))})),k.useEffect(c,[]),EW(()=>()=>{const g=f.current;kr(g.deps,y=>py(y,g))});const m=e.getComponentProps(o.getValue());return k.createElement(t,{...m,ref:a})})},q1e=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&mr.write(this.update)}};function K1e(t,e){const r=new Set;return Ww.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Q1(t),Ww.dependencies=null,[t,r]}function Q1e(t,e){return t&&(st.fun(t)?t(e):t.current=e),e}var _A=Symbol.for("AnimatedComponent"),J1e=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Q1(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=a=>{const o=CA(a)||"Anonymous";return st.str(a)?a=s[a]||(s[a]=kA(a,i)):a=a[_A]||(a[_A]=kA(a,i)),a.displayName=`Animated(${o})`,a};return Gl(t,(a,o)=>{st.arr(t)&&(o=CA(a)),s[o]=s(a)}),{animated:s}},CA=t=>st.str(t)?t:t&&st.str(t.displayName)?t.displayName:st.fun(t)&&t.name||null;function Qs(t,...e){return st.fun(t)?t(...e):t}var gm=(t,e)=>t===!0||!!(e&&t&&(st.fun(t)?t(e):$s(t).includes(e))),IW=(t,e)=>st.obj(t)?e&&t[e]:t,LW=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Z1e=t=>t,gN=(t,e=Z1e)=>{let r=eSe;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);st.und(s)||(n[i]=s)}return n},eSe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tSe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function rSe(t){const e={};let r=0;if(Gl(t,(n,i)=>{tSe[i]||(e[i]=n,r++)}),r)return e}function mN(t){const e=rSe(t);if(e){const r={to:e};return Gl(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function yy(t){return t=Ks(t),st.arr(t)?t.map(yy):q1(t)?$a.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function nSe(t){for(const e in t)return!0;return!1}function lP(t){return st.fun(t)||st.arr(t)&&st.obj(t[0])}function TA(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function iSe(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var sSe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},uP={...sSe.default,mass:1,damping:1,easing:E1e.linear,clamp:!1},aSe=class{constructor(){this.velocity=0,Object.assign(this,uP)}};function oSe(t,e,r){r&&(r={...r},PA(r,e),e={...r,...e}),PA(t,e),Object.assign(t,e);for(const a in uP)t[a]==null&&(t[a]=uP[a]);let{frequency:n,damping:i}=t;const{mass:s}=t;return st.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function PA(t,e){if(!st.und(e.decay))t.duration=void 0;else{const r=!st.und(e.tension)||!st.und(e.friction);(r||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var BA=[],lSe=class{constructor(){this.changed=!1,this.values=BA,this.toValues=null,this.fromValues=BA,this.config=new aSe,this.immediate=!1}};function FW(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((a,o)=>{let l,u,c=gm(r.cancel??(n==null?void 0:n.cancel),e);if(c)m();else{st.und(r.pause)||(i.paused=gm(r.pause,e));let g=n==null?void 0:n.pause;g!==!0&&(g=i.paused||gm(g,e)),l=Qs(r.delay||0,e),g?(i.resumeQueue.add(f),s.pause()):(s.resume(),f())}function h(){i.resumeQueue.add(f),i.timeouts.delete(u),u.cancel(),l=u.time-mr.now()}function f(){l>0&&!$a.skipAnimation?(i.delayed=!0,u=mr.setTimeout(m,l),i.pauseQueue.add(h),i.timeouts.add(u)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...r,callId:t,cancel:c},a)}catch(g){o(g)}}})}var yN=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Of(t.get()):e.every(r=>r.noop)?AW(t.get()):qo(t.get(),e.every(r=>r.finished)),AW=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),qo=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Of=t=>({value:t,cancelled:!0,finished:!1});function OW(t,e,r,n){const{callId:i,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=r;return!s&&t===o&&!e.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const u=gN(e,(b,x)=>x==="onRest"?void 0:b);let c,h;const f=new Promise((b,x)=>(c=b,h=x)),m=b=>{const x=i<=(r.cancelId||0)&&Of(n)||i!==r.asyncId&&qo(n,!1);if(x)throw b.result=x,h(b),b},g=(b,x)=>{const v=new MA,w=new NA;return(async()=>{if($a.skipAnimation)throw by(r),w.result=qo(n,!1),h(w),w;m(v);const T=st.obj(b)?{...b}:{...x,to:b};T.parentId=i,Gl(u,(C,M)=>{st.und(T[M])&&(T[M]=C)});const P=await n.start(T);return m(v),r.paused&&await new Promise(C=>{r.resumeQueue.add(C)}),P})()};let y;if($a.skipAnimation)return by(r),qo(n,!1);try{let b;st.arr(t)?b=(async x=>{for(const v of x)await g(v)})(t):b=Promise.resolve(t(g,n.stop.bind(n))),await Promise.all([b.then(c),f]),y=qo(n.get(),!0,!1)}catch(b){if(b instanceof MA)y=b.result;else if(b instanceof NA)y=b.result;else throw b}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?o:void 0,r.promise=s?l:void 0)}return st.fun(a)&&mr.batchedUpdates(()=>{a(y,n,n.item)}),y})()}function by(t,e){fm(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var MA=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},NA=class extends Error{constructor(){super("SkipAnimationSignal")}},cP=t=>t instanceof bN,uSe=1,bN=class extends CW{constructor(){super(...arguments),this.id=uSe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=kl(this);return t&&t.getValue()}to(...t){return $a.to(this,t)}interpolate(...t){return $1e(),$a.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){fy(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||j1.sort(this),fy(this,{type:"priority",parent:this,priority:t})}},uh=Symbol.for("SpringPhase"),$W=1,dP=2,hP=4,Z_=t=>(t[uh]&$W)>0,cc=t=>(t[uh]&dP)>0,Cg=t=>(t[uh]&hP)>0,EA=(t,e)=>e?t[uh]|=dP|$W:t[uh]&=~dP,RA=(t,e)=>e?t[uh]|=hP:t[uh]&=~hP,cSe=class extends bN{constructor(t,e){if(super(),this.animation=new lSe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(t)||!st.und(e)){const r=st.obj(t)?{...t}:{...e,from:t};st.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(cc(this)||this._state.asyncTo)||Cg(this)}get goal(){return Ks(this.animation.to)}get velocity(){const t=kl(this);return t instanceof i0?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Z_(this)}get isAnimating(){return cc(this)}get isPaused(){return Cg(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,a=K1(n.to);!a&&ho(n.to)&&(i=$s(Ks(n.to))),n.values.forEach((u,c)=>{if(u.done)return;const h=u.constructor==my?1:a?a[c].lastPosition:i[c];let f=n.immediate,m=h;if(!f){if(m=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const y=n.fromValues[c],b=u.v0!=null?u.v0:u.v0=st.arr(s.velocity)?s.velocity[c]:s.velocity;let x;const v=s.precision||(y==h?.005:Math.min(1,Math.abs(h-y)*.001));if(st.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,T=Math.exp(-(1-w)*g);m=y+b/(1-w)*(1-T),f=Math.abs(u.lastPosition-m)<=v,x=b*T}else{x=u.lastVelocity==null?b:u.lastVelocity;const w=s.restVelocity||v/10,T=s.clamp?0:s.bounce,P=!st.und(T),C=y==h?u.v0>0:y<h;let M,E=!1;const D=1,I=Math.ceil(t/D);for(let A=0;A<I&&(M=Math.abs(x)>w,!(!M&&(f=Math.abs(h-m)<=v,f)));++A){P&&(E=m==h||m>h==C,E&&(x=-x*T,m=h));const W=-s.tension*1e-6*(m-h),V=-s.friction*.001*x,$=(W+V)/s.mass;x=x+$*D,m=m+x*D}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=t)),w=(s.progress||0)+g/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),m=y+s.easing(w)*(h-y),x=(m-u.lastPosition)/t,f=w==1}u.lastVelocity=x,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),f=!0)}a&&!a[c].done&&(f=!1),f?u.done=!0:e=!1,u.setValue(m,s.round)&&(r=!0)});const o=kl(this),l=o.getValue();if(e){const u=Ks(n.to);(l!==u||r)&&!s.decay?(o.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return mr.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(cc(this)){const{to:t,config:e}=this.animation;mr.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return st.und(t)?(r=this.queue||[],this.queue=[]):r=[st.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>yN(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),by(this._state,t&&this._lastCallId),mr.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=st.obj(r)?r[e]:r,(r==null||lP(r))&&(r=void 0),n=st.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return Z_(this)||(t.reverse&&([r,n]=[n,r]),n=Ks(n),st.und(n)?kl(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,gN(t,(a,o)=>/^on/.test(o)?IW(a,r):a)),IA(this,t,"onProps"),Pg(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return FW(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{Cg(this)||(RA(this,!0),Vg(s.pauseQueue),Pg(this,"onPause",qo(this,Tg(this,this.animation.to)),this))},resume:()=>{Cg(this)&&(RA(this,!1),cc(this)&&this._resume(),Vg(s.resumeQueue),Pg(this,"onResume",qo(this,Tg(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=VW(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Of(this));const n=!st.und(t.to),i=!st.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Of(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:u}=o;let{to:c=l,from:h=u}=t;i&&!n&&(!e.default||st.und(c))&&(c=h),e.reverse&&([c,h]=[h,c]);const f=!ou(h,u);f&&(o.from=h),h=Ks(h);const m=!ou(c,l);m&&this._focus(c);const g=lP(e.to),{config:y}=o,{decay:b,velocity:x}=y;(n||i)&&(y.velocity=0),e.config&&!g&&oSe(y,Qs(e.config,s),e.config!==a.config?Qs(a.config,s):void 0);let v=kl(this);if(!v||st.und(c))return r(qo(this,!0));const w=st.und(e.reset)?i&&!e.default:!st.und(h)&&gm(e.reset,s),T=w?h:this.get(),P=yy(c),C=st.num(P)||st.arr(P)||q1(P),M=!g&&(!C||gm(a.immediate||e.immediate,s));if(m){const A=oP(c);if(A!==v.constructor)if(M)v=this._set(P);else throw Error(`Cannot animate between ${v.constructor.name} and ${A.name}, as the "to" prop suggests`)}const E=v.constructor;let D=ho(c),I=!1;if(!D){const A=w||!Z_(this)&&f;(m||A)&&(I=ou(yy(T),P),D=!I),(!ou(o.immediate,M)&&!M||!ou(y.decay,b)||!ou(y.velocity,x))&&(D=!0)}if(I&&cc(this)&&(o.changed&&!w?D=!0:D||this._stop(l)),!g&&((D||ho(l))&&(o.values=v.getPayload(),o.toValues=ho(c)?null:E==my?[1]:$s(P)),o.immediate!=M&&(o.immediate=M,!M&&!w&&this._set(l)),D)){const{onRest:A}=o;kr(dSe,V=>IA(this,e,V));const W=qo(this,Tg(this,l));Vg(this._pendingCalls,W),this._pendingCalls.add(r),o.changed&&mr.batchedUpdates(()=>{var V;o.changed=!w,A==null||A(W,this),w?Qs(a.onRest,W):(V=o.onStart)==null||V.call(o,W,this)})}w&&this._set(T),g?r(OW(e.to,e,this._state,this)):D?this._start():cc(this)&&!m?this._pendingCalls.add(r):r(AW(T))}_focus(t){const e=this.animation;t!==e.to&&(xA(this)&&this._detach(),e.to=t,xA(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;ho(e)&&(Np(e,this),cP(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;ho(t)&&py(t,this)}_set(t,e=!0){const r=Ks(t);if(!st.und(r)){const n=kl(this);if(!n||!ou(r,n.getValue())){const i=oP(r);!n||n.constructor!=i?pN(this,i.create(r)):n.setValue(r),n&&mr.batchedUpdates(()=>{this._onChange(r,e)})}}return kl(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Pg(this,"onStart",qo(this,Tg(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Qs(this.animation.onChange,t,this)),Qs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;kl(this).reset(Ks(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),cc(this)||(EA(this,!0),Cg(this)||this._resume())}_resume(){$a.skipAnimation?this.finish():j1.start(this)}_stop(t,e){if(cc(this)){EA(this,!1);const r=this.animation;kr(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),fy(this,{type:"idle",parent:this});const n=e?Of(this.get()):qo(this.get(),Tg(this,t??r.to));Vg(this._pendingCalls,n),r.changed&&(r.changed=!1,Pg(this,"onRest",n,this))}}};function Tg(t,e){const r=yy(e),n=yy(t.get());return ou(n,r)}function VW(t,e=t.loop,r=t.to){const n=Qs(e);if(n){const i=n!==!0&&mN(n),s=(i||t).reverse,a=!i||i.reset;return Hw({...t,loop:e,default:!1,pause:void 0,to:!s||lP(r)?r:void 0,from:a?t.from:void 0,reset:a,...i})}}function Hw(t){const{to:e,from:r}=t=mN(t),n=new Set;return st.obj(e)&&DA(e,n),st.obj(r)&&DA(r,n),t.keys=n.size?Array.from(n):null,t}function DA(t,e){Gl(t,(r,n)=>r!=null&&e.add(n))}var dSe=["onStart","onRest","onChange","onPause","onResume"];function IA(t,e,r){t.animation[r]=e[r]!==LW(e,r)?IW(e[r],t.key):void 0}function Pg(t,e,...r){var n,i,s,a;(i=(n=t.animation)[e])==null||i.call(n,...r),(a=(s=t.defaultProps)[e])==null||a.call(s,...r)}var hSe=["onStart","onChange","onRest"],fSe=1,pSe=class{constructor(t,e){this.id=fSe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];st.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(Hw(t)),this}start(t){let{queue:e}=this;return t?e=$s(t).map(Hw):this.queue=[],this._flush?this._flush(this,e):(UW(this,e),gSe(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;kr($s(e),n=>r[n].stop(!!t))}else by(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(st.und(t))this.start({pause:!0});else{const e=this.springs;kr($s(t),r=>e[r].pause())}return this}resume(t){if(st.und(t))this.start({pause:!1});else{const e=this.springs;kr($s(t),r=>e[r].resume())}return this}each(t){Gl(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,fm(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!n&&this._started,a=i||s&&r.size?this.get():null;i&&e.size&&fm(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,fm(r,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;mr.onFrame(this._onFrame)}};function gSe(t,e){return Promise.all(e.map(r=>zW(t,r))).then(r=>yN(t,r))}async function zW(t,e,r){const{keys:n,to:i,from:s,loop:a,onRest:o,onResolve:l}=e,u=st.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=st.arr(i)||st.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):kr(hSe,y=>{const b=e[y];if(st.fun(b)){const x=t._events[y];e[y]=({finished:v,cancelled:w})=>{const T=x.get(b);T?(v||(T.finished=!1),w&&(T.cancelled=!0)):x.set(b,{value:null,finished:v||!1,cancelled:w||!1})},u&&(u[y]=e[y])}});const h=t._state;e.pause===!h.paused?(h.paused=e.pause,Vg(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const f=(n||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),m=e.cancel===!0||LW(e,"cancel")===!0;(c||m&&h.asyncId)&&f.push(FW(++t._lastAsyncId,{props:e,state:h,actions:{pause:sP,resume:sP,start(y,b){m?(by(h,t._lastAsyncId),b(Of(t))):(y.onRest=o,b(OW(c,y,h,t)))}}})),h.paused&&await new Promise(y=>{h.resumeQueue.add(y)});const g=yN(t,await Promise.all(f));if(a&&g.finished&&!(r&&g.noop)){const y=VW(e,a,i);if(y)return UW(t,[y]),zW(t,y,!0)}return l&&mr.batchedUpdates(()=>l(g,t,t.item)),g}function mSe(t,e){const r={...t.springs};return e&&kr($s(e),n=>{st.und(n.keys)&&(n=Hw(n)),st.obj(n.to)||(n={...n,to:void 0}),HW(r,n,i=>WW(i))}),ySe(t,r),r}function ySe(t,e){Gl(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Np(r,t))})}function WW(t,e){const r=new cSe;return r.key=t,e&&Np(r,e),r}function HW(t,e,r){e.keys&&kr(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function UW(t,e){kr(e,r=>{HW(t.springs,r,n=>WW(n,t))})}var J1=({children:t,...e})=>{const r=k.useContext(Uw),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=H1e(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=Uw;return k.createElement(s,{value:e},t)},Uw=bSe(J1,{});J1.Provider=Uw.Provider;J1.Consumer=Uw.Consumer;function bSe(t,e){return Object.assign(t,k.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var vSe=()=>{const t=[],e=function(n){z1e();const i=[];return kr(t,(s,a)=>{if(st.und(n))i.push(s.start());else{const o=r(n,s,a);o&&i.push(s.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return kr(t,n=>n.pause(...arguments)),this},e.resume=function(){return kr(t,n=>n.resume(...arguments)),this},e.set=function(n){kr(t,(i,s)=>{const a=st.fun(n)?n(s,i):n;a&&i.set(a)})},e.start=function(n){const i=[];return kr(t,(s,a)=>{if(st.und(n))i.push(s.start());else{const o=this._getProps(n,s,a);o&&i.push(s.start(o))}}),i},e.stop=function(){return kr(t,n=>n.stop(...arguments)),this},e.update=function(n){return kr(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return st.fun(n)?n(s,i):n};return e._getProps=r,e};function fP(t,e,r){const n=st.fun(e)&&e,{reset:i,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:h}=n?n():e,f=k.useMemo(()=>n||arguments.length==3?vSe():void 0,[]),m=$s(t),g=[],y=k.useRef(null),b=i?null:y.current;Ad(()=>{y.current=g}),EW(()=>(kr(g,$=>{f==null||f.add($.ctrl),$.ctrl.ref=f}),()=>{kr(y.current,$=>{$.expired&&clearTimeout($.expirationId),TA($.ctrl,f),$.ctrl.stop(!0)})}));const x=xSe(m,n?n():e,b),v=i&&y.current||[];Ad(()=>kr(v,({ctrl:$,item:L,key:H})=>{TA($,f),Qs(u,L,H)}));const w=[];if(b&&kr(b,($,L)=>{$.expired?(clearTimeout($.expirationId),v.push($)):(L=w[L]=x.indexOf($.key),~L&&(g[L]=$))}),kr(m,($,L)=>{g[L]||(g[L]={key:x[L],item:$,phase:"mount",ctrl:new pSe},g[L].ctrl.item=$)}),w.length){let $=-1;const{leave:L}=n?n():e;kr(w,(H,z)=>{const F=b[z];~H?($=g.indexOf(F),g[$]={...F,item:m[H]}):L&&g.splice(++$,0,F)})}st.fun(s)&&g.sort(($,L)=>s($.item,L.item));let T=-a;const P=NW(),C=gN(e),M=new Map,E=k.useRef(new Map),D=k.useRef(!1);kr(g,($,L)=>{const H=$.key,z=$.phase,F=n?n():e;let U,q;const ae=Qs(F.delay||0,H);if(z=="mount")U=F.enter,q="enter";else{const ee=x.indexOf(H)<0;if(z!="leave")if(ee)U=F.leave,q="leave";else if(U=F.update)q="update";else return;else if(!ee)U=F.enter,q="enter";else return}if(U=Qs(U,$.item,L),U=st.obj(U)?mN(U):{to:U},!U.config){const ee=h||C.config;U.config=Qs(ee,$.item,L,q)}T+=a;const he={...C,delay:ae+T,ref:c,immediate:F.immediate,reset:!1,...U};if(q=="enter"&&st.und(he.from)){const ee=n?n():e,ce=st.und(ee.initial)||b?ee.from:ee.initial;he.from=Qs(ce,$.item,L)}const{onResolve:be}=he;he.onResolve=ee=>{Qs(be,ee);const ce=y.current,ke=ce.find(Q=>Q.key===H);if(ke&&!(ee.cancelled&&ke.phase!="update")&&ke.ctrl.idle){const Q=ce.every(Z=>Z.ctrl.idle);if(ke.phase=="leave"){const Z=Qs(o,ke.item);if(Z!==!1){const le=Z===!0?0:Z;if(ke.expired=!0,!Q&&le>0){le<=2147483647&&(ke.expirationId=setTimeout(P,le));return}}}Q&&ce.some(Z=>Z.expired)&&(E.current.delete(ke),l&&(D.current=!0),P())}};const pe=mSe($.ctrl,he);q==="leave"&&l?E.current.set($,{phase:q,springs:pe,payload:he}):M.set($,{phase:q,springs:pe,payload:he})});const I=k.useContext(J1),A=j1e(I),W=I!==A&&nSe(I);Ad(()=>{W&&kr(g,$=>{$.ctrl.start({default:I})})},[I]),kr(M,($,L)=>{if(E.current.size){const H=g.findIndex(z=>z.key===L.key);g.splice(H,1)}}),Ad(()=>{kr(E.current.size?E.current:M,({phase:$,payload:L},H)=>{const{ctrl:z}=H;H.phase=$,f==null||f.add(z),W&&$=="enter"&&z.start({default:I}),L&&(iSe(z,L.ref),(z.ref||f)&&!D.current?z.update(L):(z.start(L),D.current&&(D.current=!1)))})},i?void 0:r);const V=$=>k.createElement(k.Fragment,null,g.map((L,H)=>{const{springs:z}=M.get(L)||L.ctrl,F=$({...z},L.item,L,H);return F&&F.type?k.createElement(F.type,{...F.props,key:st.str(L.key)||st.num(L.key)?L.key:L.ctrl.id,ref:F.ref}):F}));return f?[V,f]:V}var wSe=1;function xSe(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(s=>{const a=n&&n.find(o=>o.item===s&&o.phase!=="leave"&&!i.has(o));return a?(i.add(a),a.key):wSe++})}return st.und(r)?t:st.fun(r)?t.map(r):$s(r)}var SSe=class extends bN{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=dy(...e);const r=this._get(),n=oP(r);pN(this,n.create(r))}advance(t){const e=this._get(),r=this.get();ou(e,r)||(kl(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&LA(this._active)&&eC(this)}_get(){const t=st.arr(this.source)?this.source.map(Ks):$s(Ks(this.source));return this.calc(...t)}_start(){this.idle&&!LA(this._active)&&(this.idle=!1,kr(K1(this),t=>{t.done=!1}),$a.skipAnimation?(mr.batchedUpdates(()=>this.advance()),eC(this)):j1.start(this))}_attach(){let t=1;kr($s(this.source),e=>{ho(e)&&Np(e,this),cP(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){kr($s(this.source),t=>{ho(t)&&py(t,this)}),this._active.clear(),eC(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=$s(this.source).reduce((e,r)=>Math.max(e,(cP(r)?r.priority:0)+1),0))}};function kSe(t){return t.idle!==!1}function LA(t){return!t.size||Array.from(t).every(kSe)}function eC(t){t.idle||(t.idle=!0,kr(K1(t),e=>{e.done=!0}),fy(t,{type:"idle",parent:t}))}$a.assign({createStringInterpolator:BW,to:(t,e)=>new SSe(t,e)});var GW=/^--/;function _Se(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!GW.test(t)&&!(mm.hasOwnProperty(t)&&mm[t])?e+"px":(""+e).trim()}var FA={};function CSe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:a,viewBox:o,...l}=e,u=Object.values(l),c=Object.keys(l).map(h=>r||t.hasAttribute(h)?h:FA[h]||(FA[h]=h.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(t.textContent=i);for(const h in n)if(n.hasOwnProperty(h)){const f=_Se(h,n[h]);GW.test(h)?t.style.setProperty(h,f):t.style[h]=f}c.forEach((h,f)=>{t.setAttribute(h,u[f])}),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),o!==void 0&&t.setAttribute("viewBox",o)}var mm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TSe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),PSe=["Webkit","Ms","Moz","O"];mm=Object.keys(mm).reduce((t,e)=>(PSe.forEach(r=>t[TSe(r,e)]=t[e]),t),mm);var BSe=/^(matrix|translate|scale|rotate|skew)/,MSe=/^(translate)/,NSe=/^(rotate|skew)/,tC=(t,e)=>st.num(t)&&t!==0?t+e:t,Nv=(t,e)=>st.arr(t)?t.every(r=>Nv(r,e)):st.num(t)?t===e:parseFloat(t)===e,ESe=class extends Q1{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(a=>[`translate3d(${a.map(o=>tC(o,"px")).join(",")})`,Nv(a,0)])),Gl(n,(a,o)=>{if(o==="transform")i.push([a||""]),s.push(l=>[l,l===""]);else if(BSe.test(o)){if(delete n[o],st.und(a))return;const l=MSe.test(o)?"px":NSe.test(o)?"deg":"";i.push($s(a)),s.push(o==="rotate3d"?([u,c,h,f])=>[`rotate3d(${u},${c},${h},${tC(f,l)})`,Nv(f,0)]:u=>[`${o}(${u.map(c=>tC(c,l)).join(",")})`,Nv(u,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new RSe(i,s)),super(n)}},RSe=class extends CW{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return kr(this.inputs,(r,n)=>{const i=Ks(r[0]),[s,a]=this.transforms[n](st.arr(i)?i:r.map(Ks));t+=" "+s,e=e&&a}),e?"none":t}observerAdded(t){t==1&&kr(this.inputs,e=>kr(e,r=>ho(r)&&Np(r,this)))}observerRemoved(t){t==0&&kr(this.inputs,e=>kr(e,r=>ho(r)&&py(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),fy(this,t)}},DSe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];$a.assign({batchedUpdates:Ey.unstable_batchedUpdates,createStringInterpolator:BW,colors:b1e});var ISe=J1e(DSe,{applyAnimatedValues:CSe,createAnimatedStyle:t=>new ESe(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),vN=ISe.animated;function Ev(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LSe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wN(t){let e,r,n;t.length!==2?(e=Ev,r=(o,l)=>Ev(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ev||t===LSe?t:FSe,r=t,n=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;r(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;r(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function FSe(){return 0}function ASe(t){return t===null?NaN:+t}const OSe=wN(Ev),jW=OSe.right;wN(ASe).center;class AA extends Map{constructor(e,r=zSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(OA(this,e))}has(e){return super.has(OA(this,e))}set(e,r){return super.set($Se(this,e),r)}delete(e){return super.delete(VSe(this,e))}}function OA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function $Se({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function VSe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function zSe(t){return t!==null&&typeof t=="object"?t.valueOf():t}const WSe=Math.sqrt(50),HSe=Math.sqrt(10),USe=Math.sqrt(2);function Gw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=WSe?10:s>=HSe?5:s>=USe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Gw(t,e,r*2):[o,l,u]}function pP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Gw(e,t,r):Gw(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function gP(t,e,r){return e=+e,t=+t,r=+r,Gw(t,e,r)[2]}function mP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?gP(e,t,r):gP(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function GSe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Kc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function jSe(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $A=Symbol("implicit");function jw(){var t=new AA,e=[],r=[],n=$A;function i(s){let a=t.get(s);if(a===void 0){if(n!==$A)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new AA;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jw(e,r).unknown(n)},Kc.apply(i,arguments),i}function xN(){var t=jw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,m=i<n,g=m?i:n,y=m?n:i;s=(y-g)/Math.max(1,f-l+u*2),o&&(s=Math.floor(s)),g+=(y-g-s*(f-l))*c,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=GSe(f).map(function(x){return g+s*x});return r(m?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return xN(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Kc.apply(h(),arguments)}function YW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YW(e())},t}function YSe(){return YW(xN.apply(null,arguments).paddingInner(1))}function SN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function XW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function s0(){}var vy=.7,Yw=1/vy,$f="\\s*([+-]?\\d+)\\s*",wy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XSe=/^#([0-9a-f]{3,8})$/,qSe=new RegExp(`^rgb\\(${$f},${$f},${$f}\\)$`),KSe=new RegExp(`^rgb\\(${Vl},${Vl},${Vl}\\)$`),QSe=new RegExp(`^rgba\\(${$f},${$f},${$f},${wy}\\)$`),JSe=new RegExp(`^rgba\\(${Vl},${Vl},${Vl},${wy}\\)$`),ZSe=new RegExp(`^hsl\\(${wy},${Vl},${Vl}\\)$`),eke=new RegExp(`^hsla\\(${wy},${Vl},${Vl},${wy}\\)$`),VA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SN(s0,up,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zA,formatHex:zA,formatHex8:tke,formatHsl:rke,formatRgb:WA,toString:WA});function zA(){return this.rgb().formatHex()}function tke(){return this.rgb().formatHex8()}function rke(){return qW(this).formatHsl()}function WA(){return this.rgb().formatRgb()}function up(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=XSe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HA(e):r===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qSe.exec(t))?new sa(e[1],e[2],e[3],1):(e=KSe.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QSe.exec(t))?Yb(e[1],e[2],e[3],e[4]):(e=JSe.exec(t))?Yb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ZSe.exec(t))?jA(e[1],e[2]/100,e[3]/100,1):(e=eke.exec(t))?jA(e[1],e[2]/100,e[3]/100,e[4]):VA.hasOwnProperty(t)?HA(VA[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function HA(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function Yb(t,e,r,n){return n<=0&&(t=e=r=NaN),new sa(t,e,r,n)}function nke(t){return t instanceof s0||(t=up(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function yP(t,e,r,n){return arguments.length===1?nke(t):new sa(t,e,r,n??1)}function sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}SN(sa,yP,XW(s0,{brighter(t){return t=t==null?Yw:Math.pow(Yw,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(Xd(this.r),Xd(this.g),Xd(this.b),Xw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UA,formatHex:UA,formatHex8:ike,formatRgb:GA,toString:GA}));function UA(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}`}function ike(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}${Od((isNaN(this.opacity)?1:this.opacity)*255)}`}function GA(){const t=Xw(this.opacity);return`${t===1?"rgb(":"rgba("}${Xd(this.r)}, ${Xd(this.g)}, ${Xd(this.b)}${t===1?")":`, ${t})`}`}function Xw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Od(t){return t=Xd(t),(t<16?"0":"")+t.toString(16)}function jA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zo(t,e,r,n)}function qW(t){if(t instanceof Zo)return new Zo(t.h,t.s,t.l,t.opacity);if(t instanceof s0||(t=up(t)),!t)return new Zo;if(t instanceof Zo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Zo(a,o,l,t.opacity)}function ske(t,e,r,n){return arguments.length===1?qW(t):new Zo(t,e,r,n??1)}function Zo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}SN(Zo,ske,XW(s0,{brighter(t){return t=t==null?Yw:Math.pow(Yw,t),new Zo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Zo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new sa(rC(t>=240?t-240:t+120,i,n),rC(t,i,n),rC(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zo(YA(this.h),Xb(this.s),Xb(this.l),Xw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xw(this.opacity);return`${t===1?"hsl(":"hsla("}${YA(this.h)}, ${Xb(this.s)*100}%, ${Xb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YA(t){return t=(t||0)%360,t<0?t+360:t}function Xb(t){return Math.max(0,Math.min(1,t||0))}function rC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const kN=t=>()=>t;function ake(t,e){return function(r){return t+r*e}}function oke(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function lke(t){return(t=+t)==1?KW:function(e,r){return r-e?oke(e,r,t):kN(isNaN(e)?r:e)}}function KW(t,e){var r=e-t;return r?ake(t,r):kN(isNaN(t)?e:t)}const XA=function t(e){var r=lke(e);function n(i,s){var a=r((i=yP(i)).r,(s=yP(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=KW(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function uke(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function cke(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dke(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Z1(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function QW(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function hke(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Z1(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var bP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nC=new RegExp(bP.source,"g");function fke(t){return function(){return t}}function pke(t){return function(e){return t(e)+""}}function gke(t,e){var r=bP.lastIndex=nC.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=bP.exec(t))&&(i=nC.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:xy(n,i)})),r=nC.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?pke(l[0].x):fke(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function Z1(t,e){var r=typeof e,n;return e==null||r==="boolean"?kN(e):(r==="number"?xy:r==="string"?(n=up(e))?(e=n,XA):gke:e instanceof up?XA:e instanceof Date?QW:cke(e)?uke:Array.isArray(e)?dke:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hke:xy)(t,e)}function JW(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mke(t){return function(){return t}}function yke(t){return+t}var qA=[0,1];function bo(t){return t}function vP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mke(isNaN(e)?NaN:.5)}function bke(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vke(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=vP(i,n),s=r(a,s)):(n=vP(n,i),s=r(s,a)),function(o){return s(n(o))}}function wke(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=vP(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=jW(t,o,1,n)-1;return s[l](i[l](o))}}function eS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _N(){var t=qA,e=qA,r=Z1,n,i,s,a=bo,o,l,u;function c(){var f=Math.min(t.length,e.length);return a!==bo&&(a=bke(t[0],t[f-1])),o=f>2?wke:vke,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(n),e,r)))(n(a(f)))}return h.invert=function(f){return a(i((u||(u=o(e,t.map(n),xy)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,yke),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=JW,c()},h.clamp=function(f){return arguments.length?(a=f?!0:bo,c()):a!==bo},h.interpolate=function(f){return arguments.length?(r=f,c()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,m){return n=f,i=m,c()}}function ZW(){return _N()(bo,bo)}function xke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cp(t){return t=qw(Math.abs(t)),t?t[1]:NaN}function Ske(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function kke(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sy(t){if(!(e=_ke.exec(t)))throw new Error("invalid format: "+t);var e;return new CN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sy.prototype=CN.prototype;function CN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}CN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cke(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var e8;function Tke(t,e){var r=qw(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(e8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+qw(t,Math.max(0,e+s-1))[0]}function KA(t,e){var r=qw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const QA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KA(t*100,e),r:KA,s:Tke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JA(t){return t}var ZA=Array.prototype.map,eO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pke(t){var e=t.grouping===void 0||t.thousands===void 0?JA:Ske(ZA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?JA:kke(ZA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Sy(h);var f=h.fill,m=h.align,g=h.sign,y=h.symbol,b=h.zero,x=h.width,v=h.comma,w=h.precision,T=h.trim,P=h.type;P==="n"?(v=!0,P="g"):QA[P]||(w===void 0&&(w=12),T=!0,P="g"),(b||f==="0"&&m==="=")&&(b=!0,f="0",m="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",M=y==="$"?n:/[%p]/.test(P)?a:"",E=QA[P],D=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(A){var W=C,V=M,$,L,H;if(P==="c")V=E(A)+V,A="";else{A=+A;var z=A<0||1/A<0;if(A=isNaN(A)?l:E(Math.abs(A),w),T&&(A=Cke(A)),z&&+A==0&&g!=="+"&&(z=!1),W=(z?g==="("?g:o:g==="-"||g==="("?"":g)+W,V=(P==="s"?eO[8+e8/3]:"")+V+(z&&g==="("?")":""),D){for($=-1,L=A.length;++$<L;)if(H=A.charCodeAt($),48>H||H>57){V=(H===46?i+A.slice($+1):A.slice($))+V,A=A.slice(0,$);break}}}v&&!b&&(A=e(A,1/0));var F=W.length+A.length+V.length,U=F<x?new Array(x-F+1).join(f):"";switch(v&&b&&(A=e(U+A,U.length?x-V.length:1/0),U=""),m){case"<":A=W+A+V+U;break;case"=":A=W+U+A+V;break;case"^":A=U.slice(0,F=U.length>>1)+W+A+V+U.slice(F);break;default:A=U+W+A+V;break}return s(A)}return I.toString=function(){return h+""},I}function c(h,f){var m=u((h=Sy(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(cp(f)/3)))*3,y=Math.pow(10,-g),b=eO[8+g/3];return function(x){return m(y*x)+b}}return{format:u,formatPrefix:c}}var qb,TN,t8;Bke({thousands:",",grouping:[3],currency:["$",""]});function Bke(t){return qb=Pke(t),TN=qb.format,t8=qb.formatPrefix,qb}function Mke(t){return Math.max(0,-cp(Math.abs(t)))}function Nke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cp(e)/3)))*3-cp(Math.abs(t)))}function Eke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cp(e)-cp(t))+1}function Rke(t,e,r,n){var i=mP(t,e,r),s;switch(n=Sy(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Nke(i,a))&&(n.precision=s),t8(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Eke(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Mke(i))&&(n.precision=s-(n.type==="%")*2);break}}return TN(n)}function PN(t){var e=t.domain;return t.ticks=function(r){var n=e();return pP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Rke(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);c-- >0;){if(u=gP(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function r8(){var t=ZW();return t.copy=function(){return eS(t,r8())},Kc.apply(t,arguments),PN(t)}function n8(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function tO(t){return Math.log(t)}function rO(t){return Math.exp(t)}function Dke(t){return-Math.log(-t)}function Ike(t){return-Math.exp(-t)}function Lke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fke(t){return t===10?Lke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ake(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nO(t){return(e,r)=>-t(-e,r)}function Oke(t){const e=t(tO,rO),r=e.domain;let n=10,i,s;function a(){return i=Ake(n),s=Fke(n),r()[0]<0?(i=nO(i),s=nO(s),t(Dke,Ike)):t(tO,rO),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),m=i(c),g,y;const b=o==null?10:+o;let x=[];if(!(n%1)&&m-f<b){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<n;++g)if(y=f<0?g/s(-f):g*s(f),!(y<u)){if(y>c)break;x.push(y)}}else for(;f<=m;++f)for(g=n-1;g>=1;--g)if(y=f>0?g/s(-f):g*s(f),!(y<u)){if(y>c)break;x.push(y)}x.length*2<b&&(x=pP(u,c,b))}else x=pP(f,m,Math.min(m-f,b)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Sy(l)).precision==null&&(l.trim=!0),l=TN(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return c=>{let h=c/s(Math.round(i(c)));return h*n<n-.5&&(h*=n),h<=u?l(c):""}},e.nice=()=>r(n8(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function i8(){const t=Oke(_N()).domain([1,10]);return t.copy=()=>eS(t,i8()).base(t.base()),Kc.apply(t,arguments),t}function iO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $ke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vke(t){return t<0?-t*t:t*t}function zke(t){var e=t(bo,bo),r=1;function n(){return r===1?t(bo,bo):r===.5?t($ke,Vke):t(iO(r),iO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},PN(e)}function BN(){var t=zke(_N());return t.copy=function(){return eS(t,BN()).exponent(t.exponent())},Kc.apply(t,arguments),t}function Wke(){return BN.apply(null,arguments).exponent(.5)}function s8(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[jW(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return s8().domain(t).range(e).unknown(r)},Kc.apply(i,arguments)}const iC=new Date,sC=new Date;function ji(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>ji(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(iC.setTime(+s),sC.setTime(+a),t(iC),t(sC),Math.floor(r(iC,sC))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Kw=ji(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ji(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Kw);Kw.range;const vu=1e3,vo=vu*60,wu=vo*60,Iu=wu*24,MN=Iu*7,sO=Iu*30,aC=Iu*365,$d=ji(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vu)},(t,e)=>(e-t)/vu,t=>t.getUTCSeconds());$d.range;const NN=ji(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vu)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getMinutes());NN.range;const EN=ji(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getUTCMinutes());EN.range;const RN=ji(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vu-t.getMinutes()*vo)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getHours());RN.range;const DN=ji(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getUTCHours());DN.range;const a0=ji(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vo)/Iu,t=>t.getDate()-1);a0.range;const tS=ji(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>t.getUTCDate()-1);tS.range;const a8=ji(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>Math.floor(t/Iu));a8.range;function xh(t){return ji(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*vo)/MN)}const rS=xh(0),Qw=xh(1),Hke=xh(2),Uke=xh(3),dp=xh(4),Gke=xh(5),jke=xh(6);rS.range;Qw.range;Hke.range;Uke.range;dp.range;Gke.range;jke.range;function Sh(t){return ji(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/MN)}const nS=Sh(0),Jw=Sh(1),Yke=Sh(2),Xke=Sh(3),hp=Sh(4),qke=Sh(5),Kke=Sh(6);nS.range;Jw.range;Yke.range;Xke.range;hp.range;qke.range;Kke.range;const IN=ji(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IN.range;const LN=ji(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LN.range;const Lu=ji(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Lu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ji(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Lu.range;const Fu=ji(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ji(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fu.range;function o8(t,e,r,n,i,s){const a=[[$d,1,vu],[$d,5,5*vu],[$d,15,15*vu],[$d,30,30*vu],[s,1,vo],[s,5,5*vo],[s,15,15*vo],[s,30,30*vo],[i,1,wu],[i,3,3*wu],[i,6,6*wu],[i,12,12*wu],[n,1,Iu],[n,2,2*Iu],[r,1,MN],[e,1,sO],[e,3,3*sO],[t,1,aC]];function o(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const m=h&&typeof h.range=="function"?h:l(u,c,h),g=m?m.range(u,+c+1):[];return f?g.reverse():g}function l(u,c,h){const f=Math.abs(c-u)/h,m=wN(([,,b])=>b).right(a,f);if(m===a.length)return t.every(mP(u/aC,c/aC,h));if(m===0)return Kw.every(Math.max(mP(u,c,h),1));const[g,y]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return g.every(y)}return[o,l]}const[Qke,Jke]=o8(Fu,LN,nS,a8,DN,EN),[Zke,e_e]=o8(Lu,IN,rS,a0,RN,NN);function oC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function t_e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Mg(i),c=Ng(i),h=Mg(s),f=Ng(s),m=Mg(a),g=Ng(a),y=Mg(o),b=Ng(o),x=Mg(l),v=Ng(l),w={a:z,A:F,b:U,B:q,c:null,d:dO,e:dO,f:__e,g:I_e,G:F_e,H:x_e,I:S_e,j:k_e,L:l8,m:C_e,M:T_e,p:ae,q:he,Q:pO,s:gO,S:P_e,u:B_e,U:M_e,V:N_e,w:E_e,W:R_e,x:null,X:null,y:D_e,Y:L_e,Z:A_e,"%":fO},T={a:be,A:pe,b:ee,B:ce,c:null,d:hO,e:hO,f:z_e,g:Q_e,G:Z_e,H:O_e,I:$_e,j:V_e,L:c8,m:W_e,M:H_e,p:ke,q:Q,Q:pO,s:gO,S:U_e,u:G_e,U:j_e,V:Y_e,w:X_e,W:q_e,x:null,X:null,y:K_e,Y:J_e,Z:eCe,"%":fO},P={a:I,A,b:W,B:V,c:$,d:uO,e:uO,f:y_e,g:lO,G:oO,H:cO,I:cO,j:f_e,L:m_e,m:h_e,M:p_e,p:D,q:d_e,Q:v_e,s:w_e,S:g_e,u:a_e,U:o_e,V:l_e,w:s_e,W:u_e,x:L,X:H,y:lO,Y:oO,Z:c_e,"%":b_e};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),T.x=C(r,T),T.X=C(n,T),T.c=C(e,T);function C(Z,le){return function(ue){var re=[],K=-1,J=0,se=Z.length,Me,Se,j;for(ue instanceof Date||(ue=new Date(+ue));++K<se;)Z.charCodeAt(K)===37&&(re.push(Z.slice(J,K)),(Se=aO[Me=Z.charAt(++K)])!=null?Me=Z.charAt(++K):Se=Me==="e"?" ":"0",(j=le[Me])&&(Me=j(ue,Se)),re.push(Me),J=K+1);return re.push(Z.slice(J,K)),re.join("")}}function M(Z,le){return function(ue){var re=Bg(1900,void 0,1),K=E(re,Z,ue+="",0),J,se;if(K!=ue.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(le&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(J=lC(Bg(re.y,0,1)),se=J.getUTCDay(),J=se>4||se===0?Jw.ceil(J):Jw(J),J=tS.offset(J,(re.V-1)*7),re.y=J.getUTCFullYear(),re.m=J.getUTCMonth(),re.d=J.getUTCDate()+(re.w+6)%7):(J=oC(Bg(re.y,0,1)),se=J.getDay(),J=se>4||se===0?Qw.ceil(J):Qw(J),J=a0.offset(J,(re.V-1)*7),re.y=J.getFullYear(),re.m=J.getMonth(),re.d=J.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),se="Z"in re?lC(Bg(re.y,0,1)).getUTCDay():oC(Bg(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(se+5)%7:re.w+re.U*7-(se+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,lC(re)):oC(re)}}function E(Z,le,ue,re){for(var K=0,J=le.length,se=ue.length,Me,Se;K<J;){if(re>=se)return-1;if(Me=le.charCodeAt(K++),Me===37){if(Me=le.charAt(K++),Se=P[Me in aO?le.charAt(K++):Me],!Se||(re=Se(Z,ue,re))<0)return-1}else if(Me!=ue.charCodeAt(re++))return-1}return re}function D(Z,le,ue){var re=u.exec(le.slice(ue));return re?(Z.p=c.get(re[0].toLowerCase()),ue+re[0].length):-1}function I(Z,le,ue){var re=m.exec(le.slice(ue));return re?(Z.w=g.get(re[0].toLowerCase()),ue+re[0].length):-1}function A(Z,le,ue){var re=h.exec(le.slice(ue));return re?(Z.w=f.get(re[0].toLowerCase()),ue+re[0].length):-1}function W(Z,le,ue){var re=x.exec(le.slice(ue));return re?(Z.m=v.get(re[0].toLowerCase()),ue+re[0].length):-1}function V(Z,le,ue){var re=y.exec(le.slice(ue));return re?(Z.m=b.get(re[0].toLowerCase()),ue+re[0].length):-1}function $(Z,le,ue){return E(Z,e,le,ue)}function L(Z,le,ue){return E(Z,r,le,ue)}function H(Z,le,ue){return E(Z,n,le,ue)}function z(Z){return a[Z.getDay()]}function F(Z){return s[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function q(Z){return o[Z.getMonth()]}function ae(Z){return i[+(Z.getHours()>=12)]}function he(Z){return 1+~~(Z.getMonth()/3)}function be(Z){return a[Z.getUTCDay()]}function pe(Z){return s[Z.getUTCDay()]}function ee(Z){return l[Z.getUTCMonth()]}function ce(Z){return o[Z.getUTCMonth()]}function ke(Z){return i[+(Z.getUTCHours()>=12)]}function Q(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var le=C(Z+="",w);return le.toString=function(){return Z},le},parse:function(Z){var le=M(Z+="",!1);return le.toString=function(){return Z},le},utcFormat:function(Z){var le=C(Z+="",T);return le.toString=function(){return Z},le},utcParse:function(Z){var le=M(Z+="",!0);return le.toString=function(){return Z},le}}}var aO={"-":"",_:" ",0:"0"},rs=/^\s*\d+/,r_e=/^%/,n_e=/[\\^$*+?|[\]().{}]/g;function Jr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function i_e(t){return t.replace(n_e,"\\$&")}function Mg(t){return new RegExp("^(?:"+t.map(i_e).join("|")+")","i")}function Ng(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function s_e(t,e,r){var n=rs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function a_e(t,e,r){var n=rs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function o_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function l_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function u_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function oO(t,e,r){var n=rs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function lO(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function c_e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function d_e(t,e,r){var n=rs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function h_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function uO(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function f_e(t,e,r){var n=rs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function cO(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function p_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function g_e(t,e,r){var n=rs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function m_e(t,e,r){var n=rs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function y_e(t,e,r){var n=rs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function b_e(t,e,r){var n=r_e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function v_e(t,e,r){var n=rs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function w_e(t,e,r){var n=rs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function dO(t,e){return Jr(t.getDate(),e,2)}function x_e(t,e){return Jr(t.getHours(),e,2)}function S_e(t,e){return Jr(t.getHours()%12||12,e,2)}function k_e(t,e){return Jr(1+a0.count(Lu(t),t),e,3)}function l8(t,e){return Jr(t.getMilliseconds(),e,3)}function __e(t,e){return l8(t,e)+"000"}function C_e(t,e){return Jr(t.getMonth()+1,e,2)}function T_e(t,e){return Jr(t.getMinutes(),e,2)}function P_e(t,e){return Jr(t.getSeconds(),e,2)}function B_e(t){var e=t.getDay();return e===0?7:e}function M_e(t,e){return Jr(rS.count(Lu(t)-1,t),e,2)}function u8(t){var e=t.getDay();return e>=4||e===0?dp(t):dp.ceil(t)}function N_e(t,e){return t=u8(t),Jr(dp.count(Lu(t),t)+(Lu(t).getDay()===4),e,2)}function E_e(t){return t.getDay()}function R_e(t,e){return Jr(Qw.count(Lu(t)-1,t),e,2)}function D_e(t,e){return Jr(t.getFullYear()%100,e,2)}function I_e(t,e){return t=u8(t),Jr(t.getFullYear()%100,e,2)}function L_e(t,e){return Jr(t.getFullYear()%1e4,e,4)}function F_e(t,e){var r=t.getDay();return t=r>=4||r===0?dp(t):dp.ceil(t),Jr(t.getFullYear()%1e4,e,4)}function A_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jr(e/60|0,"0",2)+Jr(e%60,"0",2)}function hO(t,e){return Jr(t.getUTCDate(),e,2)}function O_e(t,e){return Jr(t.getUTCHours(),e,2)}function $_e(t,e){return Jr(t.getUTCHours()%12||12,e,2)}function V_e(t,e){return Jr(1+tS.count(Fu(t),t),e,3)}function c8(t,e){return Jr(t.getUTCMilliseconds(),e,3)}function z_e(t,e){return c8(t,e)+"000"}function W_e(t,e){return Jr(t.getUTCMonth()+1,e,2)}function H_e(t,e){return Jr(t.getUTCMinutes(),e,2)}function U_e(t,e){return Jr(t.getUTCSeconds(),e,2)}function G_e(t){var e=t.getUTCDay();return e===0?7:e}function j_e(t,e){return Jr(nS.count(Fu(t)-1,t),e,2)}function d8(t){var e=t.getUTCDay();return e>=4||e===0?hp(t):hp.ceil(t)}function Y_e(t,e){return t=d8(t),Jr(hp.count(Fu(t),t)+(Fu(t).getUTCDay()===4),e,2)}function X_e(t){return t.getUTCDay()}function q_e(t,e){return Jr(Jw.count(Fu(t)-1,t),e,2)}function K_e(t,e){return Jr(t.getUTCFullYear()%100,e,2)}function Q_e(t,e){return t=d8(t),Jr(t.getUTCFullYear()%100,e,2)}function J_e(t,e){return Jr(t.getUTCFullYear()%1e4,e,4)}function Z_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?hp(t):hp.ceil(t),Jr(t.getUTCFullYear()%1e4,e,4)}function eCe(){return"+0000"}function fO(){return"%"}function pO(t){return+t}function gO(t){return Math.floor(+t/1e3)}var Qh,h8,f8;tCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tCe(t){return Qh=t_e(t),h8=Qh.format,Qh.parse,f8=Qh.utcFormat,Qh.utcParse,Qh}function rCe(t){return new Date(t)}function nCe(t){return t instanceof Date?+t:+new Date(+t)}function FN(t,e,r,n,i,s,a,o,l,u){var c=ZW(),h=c.invert,f=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),v=u("%b %d"),w=u("%B"),T=u("%Y");function P(C){return(l(C)<C?m:o(C)<C?g:a(C)<C?y:s(C)<C?b:n(C)<C?i(C)<C?x:v:r(C)<C?w:T)(C)}return c.invert=function(C){return new Date(h(C))},c.domain=function(C){return arguments.length?f(Array.from(C,nCe)):f().map(rCe)},c.ticks=function(C){var M=f();return t(M[0],M[M.length-1],C??10)},c.tickFormat=function(C,M){return M==null?P:u(M)},c.nice=function(C){var M=f();return(!C||typeof C.range!="function")&&(C=e(M[0],M[M.length-1],C??10)),C?f(n8(M,C)):c},c.copy=function(){return eS(c,FN(t,e,r,n,i,s,a,o,l,u))},c}function p8(){return Kc.apply(FN(Zke,e_e,Lu,IN,rS,a0,RN,NN,$d,h8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iCe(){return Kc.apply(FN(Qke,Jke,Fu,LN,nS,tS,DN,EN,$d,f8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sCe(){var t=0,e=1,r,n,i,s,a=bo,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(f){var m,g;return arguments.length?([m,g]=f,a=h(m,g),u):[a(0),a(1)]}}return u.range=c(Z1),u.rangeRound=c(JW),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function aCe(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g8(){var t=PN(sCe()(bo));return t.copy=function(){return aCe(t,g8())},jSe.apply(t,arguments)}function wP(t){return t.scaleType==="band"}function m8(t){return t.scaleType==="point"}function oCe(t){return t.type==="piecewise"?s8(t.thresholds,t.colors):g8([t.min??0,t.max??100],t.color)}function Zw(t){return t.values?jw(t.values,t.colors).unknown(t.unknownColor??null):jw(t.colors.map((e,r)=>r),t.colors).unknown(t.unknownColor??null)}function Rv(t){return t.type==="ordinal"?Zw(t):oCe(t)}function ch(t){return t.bandwidth!==void 0}function AN(t){return typeof t=="number"&&!Number.isFinite(t)}function lCe(t){const{tickMaxStep:e,tickMinStep:r,tickNumber:n,range:i,domain:s}=t,a=r===void 0?999:Math.floor(Math.abs(s[1]-s[0])/r),o=e===void 0?2:Math.ceil(Math.abs(s[1]-s[0])/e),l=n??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(o,l))}const uC={start:0,extremities:0,end:1,middle:.5};function ex(t){const{scale:e,tickNumber:r,valueFormatter:n,tickInterval:i,tickPlacement:s="extremities",tickLabelPlacement:a="middle"}=t;return k.useMemo(()=>{if(ch(e)){const u=e.domain();return e.bandwidth()>0?[...(typeof i=="function"&&u.filter(i)||typeof i=="object"&&i||u).map(f=>({value:f,formattedValue:(n==null?void 0:n(f,{location:"tick"}))??`${f}`,offset:e(f)-(e.step()-e.bandwidth())/2+uC[s]*e.step(),labelOffset:a==="tick"?0:e.step()*(uC[a]-uC[s])})),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof i=="function"&&u.filter(i)||typeof i=="object"&&i||u).map(h=>({value:h,formattedValue:(n==null?void 0:n(h,{location:"tick"}))??`${h}`,offset:e(h),labelOffset:0}))}return e.domain().some(AN)?[]:(typeof i=="object"?i:e.ticks(r)).map(u=>({value:u,formattedValue:(n==null?void 0:n(u,{location:"tick"}))??e.tickFormat(r)(u),offset:e(u),labelOffset:0}))},[e,i,r,n,s,a])}function uCe(t,e,r){switch(t){case"log":return i8(e,r);case"pow":return BN(e,r);case"sqrt":return Wke(e,r);case"time":return p8(e,r);case"utc":return iCe(e,r);default:return r8(e,r)}}const cC=(t,e)=>{const r=t[1]-t[0],n=e[1]-e[0],i=t[0]-e[0]*r/n,s=t[1]+(100-e[1])*r/n;return[i,s]},cCe=(t,e,r,n,i,s,a)=>{var m;const o=n[e],l=((m=s[e])==null?void 0:m.series)??{},[u,c]=(o==null?void 0:o({series:l,axis:r,isDefaultAxis:i,getFilters:a}))??[1/0,-1/0],[h,f]=t;return[Math.min(u,h),Math.max(c,f)]},dCe=(t,e,r,n,i)=>{const a=Object.keys(e).reduce((o,l)=>cCe(o,l,t,e,r,n,i),[1/0,-1/0]);return Number.isNaN(a[0])||Number.isNaN(a[1])?[1/0,-1/0]:a},hCe=(t,e,r)=>{const n=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return r?n.reverse():n},mO=t=>(t==null?void 0:t[0])instanceof Date;function yO(t,e){const r=p8(t.data,e);return(n,{location:i})=>i==="tick"?r.tickFormat(t.tickNumber)(n):`${n.toLocaleString()}`}const fCe=.2,pCe=.1;function bO({drawingArea:t,formattedSeries:e,axis:r,extremumGetters:n,axisDirection:i,zoomData:s,zoomOptions:a,getFilters:o}){const l={};return r.forEach((u,c)=>{const h=u,f=c===0,m=a==null?void 0:a[h.id],g=s==null?void 0:s.find(({axisId:V})=>V===h.id),y=g?[g.start,g.end]:[0,100],b=hCe(t,i,h.reverse),[x,v]=dCe(h,n,f,e,g===void 0&&!m?o:void 0),w=h.data??[];if(wP(h)){const V=h.categoryGapRatio??fCe,$=h.barGapRatio??pCe,L=i==="x"?b:[b[1],b[0]],H=cC(L,y);if(l[h.id]=Ie({categoryGapRatio:V,barGapRatio:$},h,{data:w,scale:xN(h.data,H).paddingInner(V).paddingOuter(V/2),tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?Zw(Ie({values:h.data},h.colorMap)):Rv(h.colorMap))}),mO(h.data)){const z=yO(h,L);l[h.id].valueFormatter=h.valueFormatter??z}}if(m8(h)){const V=i==="x"?b:[...b].reverse(),$=cC(V,y);if(l[h.id]=Ie({},h,{data:w,scale:YSe(h.data,$),tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?Zw(Ie({values:h.data},h.colorMap)):Rv(h.colorMap))}),mO(h.data)){const L=yO(h,V);l[h.id].valueFormatter=h.valueFormatter??L}}if(h.scaleType==="band"||h.scaleType==="point")return;const T=h.scaleType??"linear",P=[h.min??x,h.max??v],C=lCe(Ie({},h,{range:b,domain:P})),M=C/((y[1]-y[0])/100),E=cC(b,y),D=uCe(T,P,E).nice(C),[I,A]=D.domain(),W=[h.min??I,h.max??A];l[h.id]=Ie({},h,{data:w,scaleType:T,scale:D.domain(W),tickNumber:M,colorScale:h.colorMap&&Rv(h.colorMap)})}),{axis:l,axisIds:r.map(({id:u})=>u)}}let vO=0;function gCe(t){const[e,r]=k.useState(t),n=t||e;return k.useEffect(()=>{e==null&&(vO+=1,r(`mui-${vO}`))},[e]),n}const wO=qd.useId;function y8(t){if(wO!==void 0){const e=wO();return t??e}return gCe(t)}const ON="DEFAULT_X_AXIS_KEY",$N="DEFAULT_Y_AXIS_KEY",mCe={top:50,bottom:50,left:50,right:50},yCe=(t,e,r)=>{const n=Ie({},mCe,r);return k.useMemo(()=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}),[t,e,n.top,n.bottom,n.left,n.right])},iS=k.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),b8=k.createContext({isInitialized:!1,data:{current:null}});function bCe(t){const{width:e,height:r,margin:n,svgRef:i,children:s}=t,a=yCe(e,r,n),o=y8(),l=k.useCallback(({x:h,y:f},m)=>{if(m!=null&&m.targetElement&&(m!=null&&m.targetElement.closest("[data-drawing-container]")))return!0;const g=h>=a.left-1&&h<=a.left+a.width,y=f>=a.top-1&&f<=a.top+a.height;return(m==null?void 0:m.direction)==="x"?g:((m==null?void 0:m.direction)==="y"||g)&&y},[a]),u=k.useMemo(()=>Ie({chartId:o??""},a,{isPointInside:l}),[o,a,l]),c=k.useMemo(()=>({isInitialized:!0,data:i}),[i]);return _.jsx(b8.Provider,{value:c,children:_.jsx(iS.Provider,{value:u,children:s})})}function gl(){const{left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}=k.useContext(iS);return k.useMemo(()=>({left:t,top:e,width:r,height:n,bottom:i,right:s,isPointInside:a}),[n,t,e,r,i,s,a])}const vCe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function wCe(t,e,r=vCe){return t.type==="pie"?Ie({},t,{data:t.data.map((n,i)=>Ie({color:r[i%r.length]},n))}):Ie({color:r[e%r.length]},t)}const xCe=({series:t,colors:e,seriesFormatters:r,dataset:n})=>{const i={};t.forEach((a,o)=>{var c;const{id:l=`auto-generated-id-${o}`,type:u}=a;if(i[u]===void 0&&(i[u]={series:{},seriesOrder:[]}),((c=i[u])==null?void 0:c.series[l])!==void 0)throw new Error(`MUI X: series' id "${l}" is not unique.`);i[u].series[l]=Ie({id:l},wCe(a,o,e)),i[u].seriesOrder.push(l)});const s={};return Object.keys(r).forEach(a=>{var l;const o=i[a];o!==void 0&&(s[a]=((l=r[a])==null?void 0:l.call(r,o,n))??i[a])}),s},SCe=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],kCe=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],_Ce=t=>t==="dark"?kCe:SCe,v8=k.createContext({isInitialized:!1,data:{}}),o0=k.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}}),xO=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},w8=t=>{var l;const{axis:e,getFilters:r,isDefaultAxis:n}=t,i=r==null?void 0:r({currentAxisId:e.id,isDefaultAxis:n}),s=i?(l=e.data)==null?void 0:l.filter((u,c)=>i({x:null,y:null},c)):e.data,a=Math.min(...s??[]),o=Math.max(...s??[]);return[a,o]},x8=t=>e=>{const{series:r,axis:n,getFilters:i,isDefaultAxis:s}=e;return Object.keys(r).filter(a=>{const o=r[a].yAxisId??r[a].yAxisKey;return o===n.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:l}=r[o],u=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:s,seriesXAxisId:r[o].xAxisId??r[o].xAxisKey,seriesYAxisId:r[o].yAxisId??r[o].yAxisKey}),[c,h]=(l==null?void 0:l.reduce((f,m,g)=>u&&(!u(xO(m[0],t),g)||!u(xO(m[1],t),g))?f:[Math.min(...m,f[0]),Math.max(...m,f[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(c,a[0]),Math.max(h,a[1])]},[1/0,-1/0])},CCe=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?x8("x")(t):w8(t),TCe=t=>Object.keys(t.series).some(r=>t.series[r].layout==="horizontal")?w8(t):x8("y")(t);function Go(t){return function(){return t}}const PCe=Math.PI,dC=2*PCe;function S8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BCe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function MCe(t){return t}function NCe(){var t=MCe,e=BCe,r=null,n=Go(0),i=Go(dC),s=Go(0);function a(o){var l,u=(o=S8(o)).length,c,h,f=0,m=new Array(u),g=new Array(u),y=+n.apply(this,arguments),b=Math.min(dC,Math.max(-dC,i.apply(this,arguments)-y)),x,v=Math.min(Math.abs(b)/u,s.apply(this,arguments)),w=v*(b<0?-1:1),T;for(l=0;l<u;++l)(T=g[m[l]=l]=+t(o[l],l,o))>0&&(f+=T);for(e!=null?m.sort(function(P,C){return e(g[P],g[C])}):r!=null&&m.sort(function(P,C){return r(o[P],o[C])}),l=0,h=f?(b-u*w)/f:0;l<u;++l,y=x)c=m[l],T=g[c],x=y+(T>0?T*h:0)+w,g[c]={data:o[c],index:l,value:T,startAngle:y,endAngle:x,padAngle:v};return g}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:Go(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,r=null,a):e},a.sort=function(o){return arguments.length?(r=o,e=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Go(+o),a):n},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Go(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Go(+o),a):s},a}function fp(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function pp(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ECe(t,e){return t[e]}function RCe(t){const e=[];return e.key=t,e}function k8(){var t=Go([]),e=pp,r=fp,n=ECe;function i(s){var a=Array.from(t.apply(this,arguments),RCe),o,l=a.length,u=-1,c;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(h,a[o].key,u,s)]).data=h;for(o=0,c=S8(e(a));o<l;++o)a[c[o]].index=o;return r(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Go(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Go(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?pp:typeof s=="function"?s:Go(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??fp,i):r},i}function DCe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}fp(t,e)}}function ICe(t,e){if((l=t.length)>0)for(var r,n=0,i,s,a,o,l,u=t[e[0]].length;n<u;++n)for(a=o=0,r=0;r<l;++r)(s=(i=t[e[r]][n])[1]-i[0])>0?(i[0]=a,i[1]=a+=s):s<0?(i[1]=o,i[0]=o+=s):(i[0]=0,i[1]=s)}function LCe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}fp(t,e)}}function FCe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var c=t[e[o]],h=c[n][1]||0,f=c[n-1][1]||0,m=(h-f)/2,g=0;g<o;++g){var y=t[e[g]],b=y[n][1]||0,x=y[n-1][1]||0;m+=b-x}l+=h,u+=m*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,fp(t,e)}}function _8(t){var e=t.map(ACe);return pp(t).sort(function(r,n){return e[r]-e[n]})}function ACe(t){for(var e=-1,r=0,n=t.length,i,s=-1/0;++e<n;)(i=+t[e][1])>s&&(s=i,r=e);return r}function C8(t){var e=t.map(T8);return pp(t).sort(function(r,n){return e[r]-e[n]})}function T8(t){for(var e=0,r=-1,n=t.length,i;++r<n;)(i=+t[r][1])&&(e+=i);return e}function OCe(t){return C8(t).reverse()}function $Ce(t){var e=t.length,r,n,i=t.map(T8),s=_8(t),a=0,o=0,l=[],u=[];for(r=0;r<e;++r)n=s[r],a<o?(a+=i[n],l.push(n)):(o+=i[n],u.push(n));return u.reverse().concat(l)}function VCe(t){return pp(t).reverse()}const hC={appearance:_8,ascending:C8,descending:OCe,insideOut:$Ce,none:pp,reverse:VCe},fC={expand:DCe,diverging:ICe,none:fp,silhouette:LCe,wiggle:FCe},P8=t=>{const{series:e,seriesOrder:r,defaultStrategy:n}=t,i=[],s={};return r.forEach(a=>{const{stack:o,stackOrder:l,stackOffset:u}=e[a];o===void 0?i.push({ids:[a],stackingOrder:hC.none,stackingOffset:fC.none}):s[o]===void 0?(s[o]=i.length,i.push({ids:[a],stackingOrder:hC[l??(n==null?void 0:n.stackOrder)??"none"],stackingOffset:fC[u??(n==null?void 0:n.stackOffset)??"diverging"]})):(i[s[o]].ids.push(a),l!==void 0&&(i[s[o]].stackingOrder=hC[l]),u!==void 0&&(i[s[o]].stackingOffset=fC[u]))}),i};function VN(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=Ie({},t[n],{valueFormatter:t[n].valueFormatter??e})}),r}const zCe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=P8(t),s=e??[];r.forEach(o=>{const l=n[o].data;if(l!==void 0)l.forEach((u,c)=>{s.length<=c?s.push({[o]:u}):s[c][o]=u});else if(e===void 0)throw new Error([`MUI X: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return i.forEach(o=>{const{ids:l,stackingOffset:u,stackingOrder:c}=o,h=k8().keys(l.map(f=>{const m=n[f].dataKey;return n[f].data===void 0&&m!==void 0?m:f})).value((f,m)=>f[m]??0).order(c).offset(u)(s);l.forEach((f,m)=>{const g=n[f].dataKey;a[f]=Ie({layout:"vertical"},n[f],{data:g?e.map(y=>{const b=y[g];return typeof b!="number"?0:b}):n[f].data,stackedData:h[m].map(([y,b])=>[y,b])})})}),{seriesOrder:r,stackingGroups:i,series:VN(a,o=>o==null?"":o.toLocaleString())}},WCe=zCe,HCe=(t,e,r)=>{const n=t.layout==="vertical",i=n?e==null?void 0:e.colorScale:r==null?void 0:r.colorScale,s=n?r==null?void 0:r.colorScale:e==null?void 0:e.colorScale,a=n?e==null?void 0:e.data:r==null?void 0:r.data;return s?o=>{const l=t.data[o],u=l===null?t.color:s(l);return u===null?t.color:u}:i&&a?o=>{const l=a[o],u=l===null?t.color:i(l);return u===null?t.color:u}:()=>t.color},B8=HCe,UCe={seriesType:"bar",seriesFormatter:WCe,colorProcessor:B8,xExtremumGetter:CCe,yExtremumGetter:TCe},tx=(t,e)=>[Math.min(t[0],e[0]),Math.max(t[1],e[1])],GCe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].xAxisId??e[s].xAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((u,c,h)=>o&&!o(c,h)?u:tx(u,[c.x,c.x]),[1/0,-1/0]);return tx(s,l)},[1/0,-1/0])},jCe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||a===void 0&&n}).reduce((s,a)=>{const o=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),l=e[a].data.reduce((u,c,h)=>o&&!o(c,h)?u:tx(u,[c.y,c.y]),[1/0,-1/0]);return tx(s,l)},[1/0,-1/0])},YCe=({series:t,seriesOrder:e})=>({series:VN(t,r=>`(${r.x}, ${r.y})`),seriesOrder:e}),XCe=YCe,qCe=(t,e,r,n)=>{const i=n==null?void 0:n.colorScale,s=r==null?void 0:r.colorScale,a=e==null?void 0:e.colorScale;return i?o=>{var c,h;if(((c=n==null?void 0:n.data)==null?void 0:c[o])!==void 0){const f=i((h=n==null?void 0:n.data)==null?void 0:h[o]);if(f!==null)return f}const l=t.data[o],u=l===null?t.color:i(l.z);return u===null?t.color:u}:s?o=>{const l=t.data[o],u=l===null?t.color:s(l.y);return u===null?t.color:u}:a?o=>{const l=t.data[o],u=l===null?t.color:a(l.x);return u===null?t.color:u}:()=>t.color},KCe=qCe,QCe={seriesType:"scatter",seriesFormatter:XCe,colorProcessor:KCe,xExtremumGetter:GCe,yExtremumGetter:jCe},JCe=t=>{const{axis:e}=t,r=Math.min(...e.data??[]),n=Math.max(...e.data??[]);return[r,n]};function ZCe(t,e,r){return e.reduce((n,i,s)=>{const[a,o]=t(i);return r&&(!r({y:a,x:null},s)||!r({y:o,x:null},s))?n:[Math.min(a,o,n[0]),Math.max(a,o,n[1])]},[1/0,-1/0])}const eTe=t=>{const{series:e,axis:r,isDefaultAxis:n,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId??e[s].yAxisKey;return a===r.id||n&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:l}=e[a],u=o!==void 0,c=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:e[a].xAxisId??e[a].xAxisKey,seriesYAxisId:e[a].yAxisId??e[a].yAxisKey}),h=u&&r.scaleType!=="log"&&typeof e[a].baseline!="string"?y=>y:y=>[y[1],y[1]],f=ZCe(h,l,c),[m,g]=f;return[Math.min(m,s[0]),Math.max(g,s[1])]},[1/0,-1/0])},tTe=(t,e)=>{const{seriesOrder:r,series:n}=t,i=P8(Ie({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];r.forEach(o=>{const l=n[o].data;l!==void 0&&l.forEach((u,c)=>{s.length<=c?s.push({[o]:u}):s[c][o]=u})});const a={};return i.forEach(o=>{const{ids:l,stackingOrder:u,stackingOffset:c}=o,h=k8().keys(l.map(f=>{const m=n[f].dataKey;return n[f].data===void 0&&m!==void 0?m:f})).value((f,m)=>f[m]??0).order(u).offset(c)(s);l.forEach((f,m)=>{const g=n[f].dataKey;a[f]=Ie({},n[f],{data:g?e.map(y=>{const b=y[g];return typeof b!="number"?null:b}):n[f].data,stackedData:h[m].map(([y,b])=>[y,b])})})}),{seriesOrder:r,stackingGroups:i,series:VN(a,o=>o==null?"":o.toLocaleString())}},rTe=tTe,nTe=(t,e,r)=>{const n=r==null?void 0:r.colorScale,i=e==null?void 0:e.colorScale;return n?s=>{const a=t.data[s],o=a===null?t.color:n(a);return o===null?t.color:o}:i?s=>{var l;const a=(l=e.data)==null?void 0:l[s],o=a===null?t.color:i(a);return o===null?t.color:o}:()=>t.color},iTe=nTe,sTe={seriesType:"line",colorProcessor:iTe,seriesFormatter:rTe,xExtremumGetter:JCe,yExtremumGetter:eTe};function _u(t,e){return typeof t=="function"?t(e):t}const aTe=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,r)=>r-e;case"asc":return(e,r)=>e-r;default:return null}},oTe=t=>{const{seriesOrder:e,series:r}=t,n={};return e.forEach(i=>{const s=NCe().startAngle(2*Math.PI*(r[i].startAngle??0)/360).endAngle(2*Math.PI*(r[i].endAngle??360)/360).padAngle(2*Math.PI*(r[i].paddingAngle??0)/360).sortValues(aTe(r[i].sortingValues??"none"))(r[i].data.map(a=>a.value));n[i]=Ie({valueFormatter:a=>a.value.toLocaleString()},r[i],{data:r[i].data.map((a,o)=>Ie({},a,{id:a.id??`auto-generated-pie-id-${i}-${o}`},s[o])).map((a,o)=>{var l,u;return Ie({},a,{formattedValue:((u=(l=r[i]).valueFormatter)==null?void 0:u.call(l,Ie({},a,{label:_u(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:n}},lTe=oTe,uTe=t=>e=>t.data[e].color,cTe=uTe,dTe={seriesType:"pie",colorProcessor:cTe,seriesFormatter:lTe},hTe=[UCe,QCe,sTe,dTe];function fTe(t){const e=t??hTe,r={},n={},i={},s={};for(let a=0;a<e.length;a+=1){const o=e[a],l=o.seriesType;r[l]=o.seriesFormatter,n[l]=o.colorProcessor,o.xExtremumGetter&&(i[l]=o.xExtremumGetter),o.yExtremumGetter&&(s[l]=o.yExtremumGetter)}return{seriesFormatters:r,colorProcessors:n,xExtremumGetters:i,yExtremumGetters:s}}function pTe(t){const{children:e,plugins:r}=t,n=k.useMemo(()=>({isInitialized:!0,data:fTe(r)}),[r]);return _.jsx(o0.Provider,{value:n,children:e})}function M8(t){const{isInitialized:e,data:r}=k.useContext(o0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.colorProcessors[t]:r.colorProcessors}function gTe(t){const{isInitialized:e,data:r}=k.useContext(o0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.seriesFormatters[t]:r.seriesFormatters}function mTe(t){const{isInitialized:e,data:r}=k.useContext(o0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.xExtremumGetters[t]:r.xExtremumGetters}function yTe(t){const{isInitialized:e,data:r}=k.useContext(o0);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t?r.yExtremumGetters[t]:r.yExtremumGetters}function bTe(t){const{series:e,dataset:r,colors:n=_Ce,children:i}=t,s=gTe(),a=Ua(),o=k.useMemo(()=>({isInitialized:!0,data:xCe({series:e,colors:typeof n=="function"?n(a.palette.mode):n,seriesFormatters:s,dataset:r})}),[e,n,a.palette.mode,s,r]);return _.jsx(v8.Provider,{value:o,children:i})}function Qc(){const{isInitialized:t,data:e}=k.useContext(v8);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function vTe(){const t=Qc();return k.useMemo(()=>t.bar,[t.bar])}const N8=k.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function wTe(t){const{xAxis:e,yAxis:r,children:n}=t,i=Qc(),s=gl(),a=mTe(),o=yTe(),l=k.useMemo(()=>bO({drawingArea:s,formattedSeries:i,axis:e,extremumGetters:a,axisDirection:"x"}),[s,i,e,a]),u=k.useMemo(()=>bO({drawingArea:s,formattedSeries:i,axis:r,extremumGetters:o,axisDirection:"y"}),[s,i,r,o]),c=k.useMemo(()=>({isInitialized:!0,data:{xAxis:l.axis,yAxis:u.axis,xAxisIds:l.axisIds,yAxisIds:u.axisIds}}),[l,u]);return _.jsx(N8.Provider,{value:c,children:n})}const ml=()=>{const{data:t}=k.useContext(N8);return t};function Jc(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),r&&r[a]&&s.push(r[a])}return s},[]).join(" ")}),n}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},el.apply(null,arguments)}function xTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function STe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function E8(...t){return k.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{STe(r,e)})},t)}function kTe(t){return typeof t=="string"}function _Te(t,e,r){return t===void 0||kTe(t)?e:el({},e,{ownerState:el({},e.ownerState,r)})}function CTe(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function SO(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function TTe(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const m=Oe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),g=el({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),y=el({},r,i,n);return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const a=CTe(el({},i,n)),o=SO(n),l=SO(i),u=e(a),c=Oe(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),h=el({},u==null?void 0:u.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=el({},u,r,l,o);return c.length>0&&(f.className=c),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}function PTe(t,e,r){return typeof t=="function"?t(e,r):t}const BTe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ll(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=xTe(t,BTe),o=s?{}:PTe(n,i),{props:l,internalRef:u}=TTe(el({},a,{externalSlotProps:o})),c=E8(u,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return _Te(r,el({},l,{ref:c}),i)}const kO=t=>t,MTe=()=>{let t=kO;return{configure(e){t=e},generate(e){return t(e)},reset(){t=kO}}},NTe=MTe(),ETe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zc(t,e,r="Mui"){const n=ETe[e];return n?`${r}-${n}`:`${NTe.generate(t)}-${e}`}function kh(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Zc(t,i,r)}),n}const Ep=k.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),RTe=(t,e)=>{switch(e.type){case"enterItem":return Ie({},t,{item:e.data});case"exitChart":return t.item===null&&t.axis.x===null&&t.axis.y===null?t:Ie({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return Ie({},t,{useVoronoiInteraction:e.useVoronoiInteraction});case"leaveItem":return t.item===null||Object.keys(e.data).some(r=>e.data[r]!==t.item[r])?t:Ie({},t,{item:null});case"updateAxis":return e.data.x===t.axis.x&&e.data.y===t.axis.y?t:Ie({},t,{axis:e.data});default:return t}};function DTe(t){const{children:e}=t,[r,n]=k.useReducer(RTe,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=k.useMemo(()=>Ie({},r,{dispatch:n}),[r]);return _.jsx(Ep.Provider,{value:i,children:e})}function ITe({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=k.useRef(t!==void 0),[s,a]=k.useState(e),o=i?t:s,l=k.useCallback(u=>{i||a(u)},[]);return[o,l]}const R8=k.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),LTe=(t,e)=>r=>t?t.fade==="series"?r.seriesId===(e==null?void 0:e.seriesId)&&r.dataIndex!==(e==null?void 0:e.dataIndex):t.fade==="global"?r.seriesId!==(e==null?void 0:e.seriesId)||r.dataIndex!==(e==null?void 0:e.dataIndex):!1:!1,FTe=(t,e)=>r=>t?t.highlight==="series"?r.seriesId===(e==null?void 0:e.seriesId):t.highlight==="item"?r.dataIndex===(e==null?void 0:e.dataIndex)&&r.seriesId===(e==null?void 0:e.seriesId):!1:!1,ATe=["highlighted","faded"],OTe=t=>{const e=t??{},{highlighted:r,faded:n}=e,i=hi(e,ATe);return Ie({highlight:r,fade:n},i)};function $Te({children:t,highlightedItem:e,onHighlightChange:r}){const[n,i]=ITe({controlled:e,default:null,name:"HighlightedProvider",state:"highlightedItem"}),s=Qc(),a=k.useMemo(()=>{const u=new Map;return Object.keys(s).forEach(c=>{const h=s[c];Object.keys((h==null?void 0:h.series)??{}).forEach(f=>{const m=h==null?void 0:h.series[f];u.set(f,OTe(m==null?void 0:m.highlightScope))})}),u},[s]),o=n&&n.seriesId?a.get(n.seriesId)??void 0:void 0,l=k.useMemo(()=>({isInitialized:!0,data:{highlightScope:o,highlightedItem:n,setHighlighted:u=>{i(u),r==null||r(u)},clearHighlighted:()=>{i(null),r==null||r(null)},isHighlighted:FTe(o,n),isFaded:LTe(o,n)}}),[n,o,i,r]);return _.jsx(R8.Provider,{value:l,children:t})}function D8(){const{isInitialized:t,data:e}=k.useContext(R8);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}function I8(t){const e=D8();if(!t)return{isHighlighted:!1,isFaded:!1};const r=e.isHighlighted(t),n=!r&&e.isFaded(t);return{isHighlighted:r,isFaded:n}}const zN=k.createContext({zAxis:{},zAxisIds:[]});function VTe(t){const{zAxis:e,dataset:r,children:n}=t,i=k.useMemo(()=>e==null?void 0:e.map(a=>{const o=a.dataKey;if(o===void 0||a.data!==void 0)return a;if(r===void 0)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return Ie({},a,{data:r.map(l=>l[o])})}),[e,r]),s=k.useMemo(()=>{const a=(i==null?void 0:i.map((l,u)=>Ie({id:`defaultized-z-axis-${u}`},l)))??[],o={};return a.forEach(l=>{o[l.id]=Ie({},l,{colorScale:l.colorMap&&(l.colorMap.type==="ordinal"&&l.data?Zw(Ie({values:l.data},l.colorMap)):Rv(l.colorMap.type==="continuous"?Ie({min:l.min,max:l.max},l.colorMap):l.colorMap))})}),{zAxis:o,zAxisIds:a.map(({id:l})=>l)}},[i]);return _.jsx(zN.Provider,{value:s,children:n})}const zTe=t=>{const{dispatch:e}=k.useContext(Ep),{setHighlighted:r,clearHighlighted:n}=D8();return t?()=>({}):s=>({onPointerEnter:()=>{e({type:"enterItem",data:s}),r({seriesId:s.seriesId,dataIndex:s.dataIndex})},onPointerLeave:u=>{u.currentTarget.releasePointerCapture(u.pointerId),e({type:"leaveItem",data:s}),n()},onPointerDown:u=>{u.currentTarget.hasPointerCapture(u.pointerId)&&u.currentTarget.releasePointerCapture(u.pointerId)}})},WTe=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function HTe(t){return Zc("MuiBarElement",t)}kh("MuiBarElement",["root"]);const UTe=t=>{const{classes:e,id:r}=t,n={root:["root",`series-${r}`]};return Jc(n,HTe,e)},GTe=de(vN.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({stroke:"none",fill:t.isHighlighted?up(t.color).brighter(.5).formatHex():t.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded&&.3||1}));function jTe(t){const{id:e,dataIndex:r,classes:n,color:i,slots:s,slotProps:a,style:o,onClick:l}=t,u=hi(t,WTe),c=zTe(),{isFaded:h,isHighlighted:f}=I8({seriesId:e,dataIndex:r}),m={id:e,dataIndex:r,classes:n,color:i,isFaded:h,isHighlighted:f},g=UTe(m),y=(s==null?void 0:s.bar)??GTe,b=ll({elementType:y,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:u,additionalProps:Ie({},c({type:"bar",seriesId:e,dataIndex:r}),{style:o,onClick:l,cursor:l?"pointer":"unset"}),className:g.root,ownerState:m});return _.jsx(y,Ie({},b))}function YTe(){const{chartId:t}=k.useContext(iS);return k.useMemo(()=>t,[t])}function _O(t){return ch(t)?e=>(t(e)??0)+t.bandwidth()/2:e=>t(e)}function WN(){const{isInitialized:t,data:e}=k.useContext(b8);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e}const Kb=(t,{hasNegative:e,hasPositive:r,borderRadius:n,layout:i})=>{if(!n)return 0;const s=i==="vertical";return t==="top-left"&&(s&&r||!s&&e)||t==="top-right"&&(s&&r||!s&&r)||t==="bottom-right"&&(s&&e||!s&&r)||t==="bottom-left"&&(s&&e||!s&&e)?n:0},XTe=["style","maskId"],qTe=t=>`inset(0px round ${t.topLeft}px ${t.topRight}px ${t.bottomRight}px ${t.bottomLeft}px)`;function KTe(t){var r,n;const e=t.ownerState;return _.jsx(vN.rect,{style:Ie({},t.style,{clipPath:(t.ownerState.layout==="vertical"?(r=t.style)==null?void 0:r.height:(n=t.style)==null?void 0:n.width).to(i=>qTe({topLeft:Math.min(i,Kb("top-left",e)),topRight:Math.min(i,Kb("top-right",e)),bottomRight:Math.min(i,Kb("bottom-right",e)),bottomLeft:Math.min(i,Kb("bottom-left",e))}))})})}function QTe(t){const{style:e,maskId:r}=t,n=hi(t,XTe);return!t.borderRadius||t.borderRadius<=0?null:_.jsx("clipPath",{id:r,children:_.jsx(KTe,{ownerState:n,style:e})})}function JTe(t){return Zc("MuiBarLabel",t)}const pC=kh("MuiBarLabel",["root","highlighted","faded"]),ZTe=t=>{const{classes:e,seriesId:r,isFaded:n,isHighlighted:i}=t,s={root:["root",`series-${r}`,i&&"highlighted",n&&"faded"]};return Jc(s,JTe,e)},ePe=t=>{const{barLabel:e,value:r,dataIndex:n,seriesId:i,height:s,width:a}=t;return e==="value"?r?r==null?void 0:r.toString():null:e({seriesId:i,dataIndex:n,value:r},{bar:{height:s,width:a}})},tPe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],rPe=de(vN.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${pC.faded}`]:e.faded},{[`&.${pC.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,r,n,i;return Ie({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(i=(n=(r=t.vars||t)==null?void 0:r.palette)==null?void 0:n.text)==null?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${pC.faded}`]:{opacity:.3}})});function nPe(t){const e=tt({props:t,name:"MuiBarLabel"}),r=hi(e,tPe);return _.jsx(rPe,Ie({},r))}const iPe=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],sPe=["ownerState"];function aPe(t){const{seriesId:e,classes:r,color:n,style:i,dataIndex:s,barLabel:a,slots:o,slotProps:l,height:u,width:c,value:h}=t,f=hi(t,iPe),{isFaded:m,isHighlighted:g}=I8({seriesId:e,dataIndex:s}),y={seriesId:e,classes:r,color:n,isFaded:m,isHighlighted:g,dataIndex:s},b=ZTe(y),x=(o==null?void 0:o.barLabel)??nPe,v=ll({elementType:x,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:Ie({},f,{style:i,className:b.root}),ownerState:y}),{ownerState:w}=v,T=hi(v,sPe);if(!a)return null;const P=ePe({barLabel:a,value:h,dataIndex:s,seriesId:e,height:u,width:c});return P?_.jsx(x,Ie({},T,w,{children:P})):null}const oPe=["bars","skipAnimation"],lPe=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>Ie({},t==="vertical"?{y:e,x:r+n/2,height:0,width:n}:{y:i+a/2,x:s,height:a,width:0}),CO=({x:t,width:e,y:r,height:n})=>({x:t+e/2,y:r+n/2,height:n,width:e});function uPe(t){const{bars:e,skipAnimation:r}=t,n=hi(t,oPe),i=fP(e,{keys:s=>`${s.seriesId}-${s.dataIndex}`,from:lPe,leave:null,enter:CO,update:CO,immediate:r});return _.jsx(k.Fragment,{children:i((s,{seriesId:a,dataIndex:o,color:l,value:u,width:c,height:h})=>_.jsx(aPe,Ie({seriesId:a,dataIndex:o,value:u,color:l,width:c,height:h},n,{style:s})))})}const gC=(t,e)=>{const r=`${t}-axis`,n=`${t}Axis`;return e===(t==="x"?ON:$N)?`The first \`${n}\``:`The ${r} with id "${e}"`};function cPe(t,e,r,n,i,s){const a=n[r],o=s[i],l=t?a:o,u=t?o:a,c=t?r:i,h=t?i:r,f=t?"x":"y",m=t?"y":"x";if(!wP(l))throw new Error(`MUI X: ${gC(f,c)} should be of type "band" to display the bar series of id "${e}".`);if(l.data===void 0)throw new Error(`MUI X: ${gC(f,c)} should have data property.`);if(wP(u)||m8(u))throw new Error(`MUI X: ${gC(m,h)} should be a continuous type to display the bar series of id "${e}".`)}const dPe=["skipAnimation","onItemClick","borderRadius","barLabel"];function hPe({bandWidth:t,numberOfGroups:e,gapRatio:r}){if(r===0)return{barWidth:t/e,offset:0};const n=t/(e+(e-1)*r),i=r*n;return{barWidth:n,offset:i}}const fPe=()=>{const t=vTe()??{series:{},stackingGroups:[],seriesOrder:[]},e=ml(),r=YTe(),{series:n,stackingGroups:i}=t,{xAxis:s,yAxis:a,xAxisIds:o,yAxisIds:l}=e,u=o[0],c=l[0],h={};return{completedData:i.flatMap(({ids:m},g)=>m.flatMap(y=>{const b=n[y].xAxisId??n[y].xAxisKey??u,x=n[y].yAxisId??n[y].yAxisKey??c,v=s[b],w=a[x],T=n[y].layout==="vertical";cPe(T,y,b,s,x,a);const P=T?v:w,C=v.scale,M=w.scale,E=B8(n[y],s[b],a[x]),D=P.scale.bandwidth(),{barWidth:I,offset:A}=hPe({bandWidth:D,numberOfGroups:i.length,gapRatio:P.barGapRatio}),W=g*(I+A),{stackedData:V}=n[y];return V.map(($,L)=>{var he,be;const H=$.map(pe=>T?M(pe):C(pe)),z=Math.round(Math.min(...H)),F=Math.round(Math.max(...H)),U=n[y].stack,q={seriesId:y,dataIndex:L,layout:n[y].layout,x:T?C((he=s[b].data)==null?void 0:he[L])+W:z,y:T?z:M((be=a[x].data)==null?void 0:be[L])+W,xOrigin:C(0),yOrigin:M(0),height:T?F-z:I,width:T?I:F-z,color:E(L),value:n[y].data[L],maskId:`${r}_${U||y}_${g}_${L}`};h[q.maskId]||(h[q.maskId]={id:q.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:q.layout,xOrigin:C(0),yOrigin:M(0),x:0,y:0});const ae=h[q.maskId];return ae.width=q.layout==="vertical"?q.width:ae.width+q.width,ae.height=q.layout==="vertical"?ae.height+q.height:q.height,ae.x=Math.min(ae.x===0?1/0:ae.x,q.x),ae.y=Math.min(ae.y===0?1/0:ae.y,q.y),ae.hasNegative=ae.hasNegative||(q.value??0)<0,ae.hasPositive=ae.hasPositive||(q.value??0)>0,q})})),masksData:Object.values(h)}},Qb=({layout:t,yOrigin:e,x:r,width:n,y:i,xOrigin:s,height:a})=>Ie({},t==="vertical"?{y:e,x:r,height:0,width:n}:{y:i,x:s,height:a,width:0}),Jb=({x:t,width:e,y:r,height:n})=>({y:r,x:t,height:n,width:e});function pPe(t){const{completedData:e,masksData:r}=fPe(),{skipAnimation:n,onItemClick:i,borderRadius:s,barLabel:a}=t,o=hi(t,dPe),l=!s||s<=0,u=fP(e,{keys:h=>`${h.seriesId}-${h.dataIndex}`,from:Qb,leave:Qb,enter:Jb,update:Jb,immediate:n}),c=fP(l?[]:r,{keys:h=>h.id,from:Qb,leave:Qb,enter:Jb,update:Jb,immediate:n});return _.jsxs(k.Fragment,{children:[!l&&c((h,{id:f,hasPositive:m,hasNegative:g,layout:y})=>_.jsx(QTe,{maskId:f,borderRadius:s,hasNegative:g,hasPositive:m,layout:y,style:h})),u((h,{seriesId:f,dataIndex:m,color:g,maskId:y})=>{const b=_.jsx(jTe,Ie({id:f,dataIndex:m,color:g},o,{onClick:i&&(x=>{i(x,{type:"bar",seriesId:f,dataIndex:m})}),style:h}));return l?b:_.jsx("g",{clipPath:`url(#${y})`,children:b})}),a&&_.jsx(uPe,Ie({bars:e,skipAnimation:n,barLabel:a},o))]})}function gPe(t,e){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r.matrixTransform(t.getScreenCTM().inverse())}function Jh(t){return t instanceof Date?t.getTime():t}const mPe=t=>{const e=WN(),r=gl(),{xAxis:n,yAxis:i,xAxisIds:s,yAxisIds:a}=ml(),{dispatch:o}=k.useContext(Ep),l=s[0],u=a[0],c=k.useRef({isInChart:!1,x:-1,y:-1});k.useEffect(()=>{const h=e.current;if(h===null||t)return()=>{};function f(b,x){const{scale:v,data:w,reverse:T}=b;if(!ch(v)){const C=v.invert(x);if(w===void 0)return{value:C,index:-1};const M=Jh(C),E=w==null?void 0:w.findIndex((D,I)=>{const A=Jh(D);return A>M&&(I===0||Math.abs(M-A)<=Math.abs(M-Jh(w[I-1])))||A<=M&&(I===w.length-1||Math.abs(Jh(C)-A)<Math.abs(Jh(C)-Jh(w[I+1])))});return{value:E!==void 0&&E>=0?w[E]:C,index:E}}const P=v.bandwidth()===0?Math.floor((x-Math.min(...v.range())+v.step()/2)/v.step()):Math.floor((x-Math.min(...v.range()))/v.step());if(P<0||P>=w.length)return null;if(T){const C=w.length-1-P;return{index:C,value:w[C]}}return{index:P,value:w[P]}}const m=()=>{c.current={isInChart:!1,x:-1,y:-1},o({type:"exitChart"})},g=b=>{const x="targetTouches"in b?b.targetTouches[0]:b,v=gPe(h,x);if(c.current.x=v.x,c.current.y=v.y,!r.isPointInside(v,{targetElement:b.target})){c.current.isInChart&&(o({type:"exitChart"}),c.current.isInChart=!1);return}c.current.isInChart=!0;const w=f(n[l],v.x),T=f(i[u],v.y);o({type:"updateAxis",data:{x:w,y:T}})},y=b=>{const x=b.currentTarget;x&&x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId)};return h.addEventListener("pointerdown",y),h.addEventListener("pointermove",g),h.addEventListener("pointerout",m),h.addEventListener("pointercancel",m),h.addEventListener("pointerleave",m),()=>{h.removeEventListener("pointerdown",y),h.removeEventListener("pointermove",g),h.removeEventListener("pointerout",m),h.removeEventListener("pointercancel",m),h.removeEventListener("pointerleave",m)}},[e,o,u,i,l,n,t,r])},yPe=["children","width","height","viewBox","disableAxisListener","className","title","desc"],bPe=de("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),vPe=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiChartsSurface"}),{children:i,width:s,height:a,viewBox:o,disableAxisListener:l=!1,className:u,title:c,desc:h}=n,f=hi(n,yPe),m=Ie({width:s,height:a,x:0,y:0},o);return mPe(l),_.jsxs(bPe,Ie({width:s,height:a,viewBox:`${m.x} ${m.y} ${m.width} ${m.height}`,ref:r,className:u},f,{children:[_.jsx("title",{children:c}),_.jsx("desc",{children:h}),i]}))});function TO(t){const{isReversed:e,gradientId:r,size:n,direction:i,scale:s,colorMap:a}=t;return _.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,l)=>{const u=s(o);if(u===void 0)return null;const c=e?1-u/n:u/n;return _.jsxs(k.Fragment,{children:[_.jsx("stop",{offset:c,stopColor:a.colors[l],stopOpacity:1}),_.jsx("stop",{offset:c,stopColor:a.colors[l+1],stopOpacity:1})]},o.toString()+l)})})}const wPe=10;function PO(t){const{gradientUnits:e,isReversed:r,gradientId:n,size:i,direction:s,scale:a,colorScale:o,colorMap:l}=t,u=[l.min??0,l.max??100],c=u.map(a).filter(g=>g!==void 0);if(c.length!==2)return null;const h=typeof u[0]=="number"?xy(u[0],u[1]):QW(u[0],u[1]),f=Math.round((Math.max(...c)-Math.min(...c))/wPe),m=`${u[0]}-${u[1]}-`;return _.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${r?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:f+1},(g,y)=>{const b=h(y/f);if(b===void 0)return null;const x=a(b);if(x===void 0)return null;const v=r?1-x/i:x/i,w=o(b);return w===null?null:_.jsx("stop",{offset:v,stopColor:w,stopOpacity:1},m+y)})})}function xPe(){const{chartId:t}=k.useContext(iS);return k.useCallback((e,r)=>`${t}-gradient-${r}-${e}`,[t])}function SPe(){const{top:t,height:e,bottom:r,left:n,width:i,right:s}=gl(),a=t+e+r,o=n+i+s,l=xPe(),{xAxisIds:u,xAxis:c,yAxisIds:h,yAxis:f}=ml();return _.jsxs("defs",{children:[h.filter(m=>f[m].colorMap!==void 0).map(m=>{const g=l(m,"y"),{colorMap:y,scale:b,colorScale:x,reverse:v}=f[m];return(y==null?void 0:y.type)==="piecewise"?_.jsx(TO,{isReversed:!v,scale:b,colorMap:y,size:a,gradientId:g,direction:"y"},g):(y==null?void 0:y.type)==="continuous"?_.jsx(PO,{isReversed:!v,scale:b,colorScale:x,colorMap:y,size:a,gradientId:g,direction:"y"},g):null}),u.filter(m=>c[m].colorMap!==void 0).map(m=>{const g=l(m,"x"),{colorMap:y,scale:b,reverse:x,colorScale:v}=c[m];return(y==null?void 0:y.type)==="piecewise"?_.jsx(TO,{isReversed:x,scale:b,colorMap:y,size:o,gradientId:g,direction:"x"},g):(y==null?void 0:y.type)==="continuous"?_.jsx(PO,{isReversed:x,scale:b,colorScale:v,colorMap:y,size:o,gradientId:g,direction:"x"},g):null})]})}const BO=(t,e,r)=>{const n=r==="x"?ON:$N;return[...(t==null?void 0:t.map((i,s)=>Ie({id:`defaultized-${r}-axis-${s}`},i)))??[],...t===void 0||t.findIndex(({id:i})=>i===n)===-1?[{id:n,scaleType:"linear"}]:[]].map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(e===void 0)throw Error(`MUI X: ${r}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return Ie({},i,{data:e.map(a=>a[s])})})},kPe=(t,e,r)=>{const n=k.useMemo(()=>BO(t,r,"x"),[t,r]),i=k.useMemo(()=>BO(e,r,"y"),[e,r]);return[n,i]},_Pe=()=>{Ad(()=>{var r;if(!window.matchMedia)return $a.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),e=n=>{$a.assign({skipAnimation:n.matches||void 0})};return e(t),(r=t.addEventListener)==null||r.call(t,"change",e),()=>{var n;(n=t.removeEventListener)==null||n.call(t,"change",e)}},[])},CPe=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],TPe=(t,e)=>{const{width:r,height:n,series:i,margin:s,xAxis:a,yAxis:o,zAxis:l,colors:u,dataset:c,sx:h,title:f,desc:m,disableAxisListener:g,highlightedItem:y,onHighlightChange:b,plugins:x,children:v}=t,w=hi(t,CPe),T=k.useRef(null),P=E8(e,T);_Pe();const[C,M]=kPe(a,o,c),E={width:r,height:n,margin:s,svgRef:T},D={plugins:x},I={series:i,colors:u,dataset:c},A={xAxis:C,yAxis:M,dataset:c},W={zAxis:l,dataset:c},V={highlightedItem:y,onHighlightChange:b},$=Ie({},w,{width:r,height:n,ref:P,sx:h,title:f,desc:m,disableAxisListener:g});return{children:v,drawingProviderProps:E,seriesProviderProps:I,cartesianProviderProps:A,zAxisContextProps:W,highlightedProviderProps:V,chartsSurfaceProps:$,pluginProviderProps:D,xAxis:C,yAxis:M}},PPe=k.forwardRef(function(e,r){const{children:n,drawingProviderProps:i,seriesProviderProps:s,cartesianProviderProps:a,zAxisContextProps:o,highlightedProviderProps:l,chartsSurfaceProps:u,pluginProviderProps:c}=TPe(e,r);return _.jsx(bCe,Ie({},i,{children:_.jsx(pTe,Ie({},c,{children:_.jsx(bTe,Ie({},s,{children:_.jsx(wTe,Ie({},a,{children:_.jsx(VTe,Ie({},o,{children:_.jsx(DTe,{children:_.jsx($Te,Ie({},l,{children:_.jsxs(vPe,Ie({},u,{children:[_.jsx(SPe,{}),n]}))}))})}))}))}))}))}))}),BPe=de("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:t})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),L8=typeof window<"u"?k.useLayoutEffect:k.useEffect;function MPe(t){return t&&t.ownerDocument||document}function NPe(t){return MPe(t).defaultView||window}const EPe=(t,e)=>{const r=k.useRef(!1),n=k.useRef(null),[i,s]=k.useState(0),[a,o]=k.useState(0),l=k.useCallback(()=>{const u=n==null?void 0:n.current;if(!u)return;const h=NPe(u).getComputedStyle(u),f=Math.floor(parseFloat(h.height))||0,m=Math.floor(parseFloat(h.width))||0;s(m),o(f)},[]);return k.useEffect(()=>{r.current=!0},[]),L8(()=>{if(t!==void 0&&e!==void 0)return()=>{};l();const u=n.current;if(typeof ResizeObserver>"u")return()=>{};let c;const h=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{l()})});return u&&h.observe(u),()=>{c&&window.cancelAnimationFrame(c),u&&h.unobserve(u)}},[l,e,t]),{containerRef:n,width:t??i,height:e??a}},RPe=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],DPe=(t,e)=>{const{width:r,height:n,margin:i,children:s,series:a,colors:o,dataset:l,desc:u,disableAxisListener:c,highlightedItem:h,onHighlightChange:f,plugins:m,sx:g,title:y,viewBox:b,xAxis:x,yAxis:v,zAxis:w}=t,T=hi(t,RPe),{containerRef:P,width:C,height:M}=EPe(r,n),E=Ie({},T,{ownerState:{width:r,height:n},ref:P});return{hasIntrinsicSize:C&&M,chartContainerProps:{margin:i,children:s,series:a,colors:o,dataset:l,desc:u,disableAxisListener:c,highlightedItem:h,onHighlightChange:f,plugins:m,sx:g,title:y,viewBox:b,xAxis:x,yAxis:v,zAxis:w,width:C,height:M,ref:e},resizableChartContainerProps:E}},IPe=k.forwardRef(function(e,r){const{hasIntrinsicSize:n,chartContainerProps:i,resizableChartContainerProps:s}=DPe(e,r);return _.jsx(BPe,Ie({},s,{children:n?_.jsx(PPe,Ie({},i)):null}))});function F8(t){return Zc("MuiChartsAxis",t)}const Zb=kh("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),A8=de("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({[`& .${Zb.tickLabel}`]:Ie({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${Zb.label}`]:Ie({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${Zb.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${Zb.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}}));function LPe(){return typeof window>"u"}const gd={widthCache:{},cacheCount:0},FPe=2e3,APe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OPe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],MO="mui_measurement_span";function O8(t,e){return OPe.indexOf(t)>=0&&e===+e?`${e}px`:e}function $8(t){return t.split("").reduce((n,i)=>i===i.toUpperCase()?[...n,"-",i.toLowerCase()]:[...n,i],[]).join("")}const $Pe=t=>Object.keys(t).sort().reduce((e,r)=>`${e}${$8(r)}:${O8(r,t[r])};`,"");let mC;const VPe=(t,e={})=>{if(t==null||LPe())return{width:0,height:0};const r=`${t}`,n=$Pe(e),i=`${r}-${n}`;if(gd.widthCache[i])return gd.widthCache[i];try{let s=document.getElementById(MO);s===null&&(s=document.createElement("span"),s.setAttribute("id",MO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const a=Ie({},APe,e);Object.keys(a).map(u=>(s.style[$8(u)]=O8(u,a[u]),u)),s.textContent=r;const o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return gd.widthCache[i]=l,gd.cacheCount+1>FPe?(gd.cacheCount=0,gd.widthCache={}):gd.cacheCount+=1,mC&&clearTimeout(mC),mC=setTimeout(()=>{s.textContent=""},0),l}catch{return{width:0,height:0}}};function HN({style:t,needsComputation:e,text:r}){return r.split(`
`).map(n=>Ie({text:n},e?VPe(n,t):{width:0,height:0}))}const zPe=["x","y","style","text","ownerState"],WPe=["angle","textAnchor","dominantBaseline"];function ky(t){const{x:e,y:r,style:n,text:i}=t,s=hi(t,zPe),a=n??{},{angle:o,textAnchor:l,dominantBaseline:u}=a,c=hi(a,WPe),h=k.useMemo(()=>HN({style:c,needsComputation:i.includes(`
`),text:i}),[c,i]);let f;switch(u){case"hanging":f=0;break;case"central":f=(h.length-1)/2*-h[0].height;break;default:f=(h.length-1)*-h[0].height;break}const m=[];return o&&m.push(`rotate(${o}, ${e}, ${r})`),_.jsx("text",Ie({},s,{transform:m.length>0?m.join(" "):void 0,x:e,y:r,textAnchor:l,dominantBaseline:u,style:c,children:h.map((g,y)=>_.jsx("tspan",{x:e,dy:`${y===0?f:h[0].height}px`,dominantBaseline:u,children:g.text},y))}))}const NO=5;function HPe(t,e,r=0){const n=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(n<NO)return t;if(n>90-NO)return e;const i=n*Math.PI/180,s=Math.atan2(e,t);return i<s?t/Math.cos(i):e/Math.sin(i)}function UPe(t=!1){const[e,r]=k.useState(!1);return L8(()=>{t||r(!0)},[t]),k.useEffect(()=>{t&&r(!0)},[t]),e}const GPe=["scale","tickNumber","reverse"],jPe=t=>{const{classes:e,position:r}=t;return Jc({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},F8,e)};function YPe(t,{tickLabelStyle:e,tickLabelInterval:r,reverse:n,isMounted:i}){const s=t.map(u=>{if(!i||u.formattedValue===void 0)return Ie({},u,{width:0,height:0});const c=HN({style:e,needsComputation:!0,text:u.formattedValue});return Ie({},u,{width:Math.max(...c.map(h=>h.width)),height:Math.max(c.length*c[0].height)})});if(typeof r=="function")return s.map((u,c)=>Ie({},u,{skipLabel:!r(u.value,c)}));let a=0,o=0;const l=n?-1:1;return s.map((u,c)=>{const{width:h,offset:f,labelOffset:m,height:g}=u,y=HPe(h,g,e==null?void 0:e.angle),b=f+m,x=1.2;return a=b-l*(x*y)/2,c>0&&l*a<l*o?Ie({},u,{skipLabel:!0}):(o=b+l*(x*y)/2,u)})}const XPe={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function EO(t){const{xAxisIds:e,xAxis:r}=ml(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s,reverse:a}=n,o=hi(n,GPe),l=UPe(),u=tt({props:Ie({},o,t),name:"MuiChartsXAxis"}),c=Ie({},XPe,u),{position:h,disableLine:f,disableTicks:m,tickLabelStyle:g,label:y,labelStyle:b,tickFontSize:x,labelFontSize:v,tickSize:w,valueFormatter:T,slots:P,slotProps:C,tickInterval:M,tickLabelInterval:E,tickPlacement:D,tickLabelPlacement:I,sx:A}=c,W=Ua(),V=jPe(Ie({},c,{theme:W})),{left:$,top:L,width:H,height:z,isPointInside:F}=gl(),U=m?4:w,q=h==="bottom"?1:-1,ae=(P==null?void 0:P.axisLine)??"line",he=(P==null?void 0:P.axisTick)??"line",be=(P==null?void 0:P.axisTickLabel)??ky,pe=(P==null?void 0:P.axisLabel)??ky,ee=ll({elementType:be,externalSlotProps:C==null?void 0:C.axisTickLabel,additionalProps:{style:Ie({textAnchor:"middle",dominantBaseline:h==="bottom"?"hanging":"auto",fontSize:x??12},g)},className:V.tickLabel,ownerState:{}}),ce=ex({scale:i,tickNumber:s,valueFormatter:T,tickInterval:M,tickPlacement:D,tickLabelPlacement:I}),ke=YPe(ce,{tickLabelStyle:ee.style,tickLabelInterval:E,reverse:a,isMounted:l}),Q={x:$+H/2,y:q*(U+22)},Z=ll({elementType:pe,externalSlotProps:C==null?void 0:C.axisLabel,additionalProps:{style:Ie({fontSize:v??14,textAnchor:"middle",dominantBaseline:h==="bottom"?"hanging":"auto"},b)},ownerState:{}}),le=i.domain(),ue=ch(i);return ue&&le.length===0||!ue&&le.some(AN)?null:_.jsxs(A8,{transform:`translate(0, ${h==="bottom"?L+z:L})`,className:V.root,sx:A,children:[!f&&_.jsx(ae,Ie({x1:$,x2:$+H,className:V.line},C==null?void 0:C.axisLine)),ke.map(({formattedValue:re,offset:K,labelOffset:J,skipLabel:se},Me)=>{const Se=J??0,j=q*(U+3),ne=F({x:K,y:-1},{direction:"x"}),te=F({x:K+Se,y:-1},{direction:"x"});return _.jsxs("g",{transform:`translate(${K}, 0)`,className:V.tickContainer,children:[!m&&ne&&_.jsx(he,Ie({y2:q*U,className:V.tick},C==null?void 0:C.axisTick)),re!==void 0&&!se&&te&&_.jsx(be,Ie({x:Se,y:j},ee,{text:re.toString()}))]},Me)}),y&&_.jsx("g",{className:V.label,children:_.jsx(pe,Ie({},Q,Z,{text:y}))})]})}const qPe=["scale","tickNumber"],KPe=t=>{const{classes:e,position:r}=t;return Jc({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},F8,e)},QPe={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function RO(t){const{yAxisIds:e,yAxis:r}=ml(),n=r[t.axisId??e[0]],{scale:i,tickNumber:s}=n,a=hi(n,qPe),o=tt({props:Ie({},a,t),name:"MuiChartsYAxis"}),l=Ie({},QPe,o),{position:u,disableLine:c,disableTicks:h,tickFontSize:f,label:m,labelFontSize:g,labelStyle:y,tickLabelStyle:b,tickSize:x,valueFormatter:v,slots:w,slotProps:T,tickPlacement:P,tickLabelPlacement:C,tickInterval:M,tickLabelInterval:E,sx:D}=l,I=Ua(),A=Gi(),W=KPe(Ie({},l,{theme:I})),{left:V,top:$,width:L,height:H,isPointInside:z}=gl(),F=h?4:x,U=ex({scale:i,tickNumber:s,valueFormatter:v,tickPlacement:P,tickLabelPlacement:C,tickInterval:M}),q=u==="right"?1:-1,ae={x:q*(f+F+10),y:$+H/2},he=(w==null?void 0:w.axisLine)??"line",be=(w==null?void 0:w.axisTick)??"line",pe=(w==null?void 0:w.axisTickLabel)??ky,ee=(w==null?void 0:w.axisLabel)??ky,ce=!A&&u==="right"||A&&u!=="right",ke=ll({elementType:pe,externalSlotProps:T==null?void 0:T.axisTickLabel,additionalProps:{style:Ie({fontSize:f,textAnchor:ce?"start":"end",dominantBaseline:"central"},b)},className:W.tickLabel,ownerState:{}}),Q=ll({elementType:ee,externalSlotProps:T==null?void 0:T.axisLabel,additionalProps:{style:Ie({fontSize:g,angle:q*90,textAnchor:"middle",dominantBaseline:"auto"},y)},ownerState:{}}),Z=ll({elementType:he,externalSlotProps:T==null?void 0:T.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),le=i.domain(),ue=ch(i);return ue&&le.length===0||!ue&&le.some(AN)?null:_.jsxs(A8,{transform:`translate(${u==="right"?V+L:V}, 0)`,className:W.root,sx:D,children:[!c&&_.jsx(he,Ie({y1:$,y2:$+H,className:W.line},Z)),U.map(({formattedValue:re,offset:K,labelOffset:J,value:se},Me)=>{const Se=q*(F+2),j=J,ne=typeof E=="function"&&!(E!=null&&E(se,Me));return z({x:-1,y:K},{direction:"y"})?_.jsxs("g",{transform:`translate(0, ${K})`,className:W.tickContainer,children:[!h&&_.jsx(be,Ie({x2:q*F,className:W.tick},T==null?void 0:T.axisTick)),re!==void 0&&!ne&&_.jsx(pe,Ie({x:Se,y:j,text:re.toString()},ke))]},Me):null}),m&&_.jsx("g",{className:W.label,children:_.jsx(ee,Ie({},ae,Q,{text:m}))})]})}const ev=(t,e)=>t==null?null:typeof t=="object"?t.axisId??e??null:t,tv=(t,e,r)=>typeof t=="object"?Ie({},t,{slots:Ie({},e,t==null?void 0:t.slots),slotProps:Ie({},r,t==null?void 0:t.slotProps)}):{slots:e,slotProps:r};function JPe(t){const{topAxis:e,leftAxis:r,rightAxis:n,bottomAxis:i,slots:s,slotProps:a}=t,{xAxis:o,xAxisIds:l,yAxis:u,yAxisIds:c}=ml(),h=ev(r===void 0?c[0]:r,c[0]),f=ev(i===void 0?l[0]:i,l[0]),m=ev(e,l[0]),g=ev(n,c[0]);if(m!==null&&!o[m])throw Error([`MUI X: id used for top axis "${m}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(h!==null&&!u[h])throw Error([`MUI X: id used for left axis "${h}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(g!==null&&!u[g])throw Error([`MUI X: id used for right axis "${g}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(f!==null&&!o[f])throw Error([`MUI X: id used for bottom axis "${f}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const y=tv(e,s,a),b=tv(i,s,a),x=tv(r,s,a),v=tv(n,s,a);return _.jsxs(k.Fragment,{children:[m&&_.jsx(EO,Ie({},y,{position:"top",axisId:m})),f&&_.jsx(EO,Ie({},b,{position:"bottom",axisId:f})),h&&_.jsx(RO,Ie({},x,{position:"left",axisId:h})),g&&_.jsx(RO,Ie({},v,{position:"right",axisId:g}))]})}function ZPe(t){if(t===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:e,y:r}=t,n={width:0,height:0,x:e,y:r,top:r,right:e,bottom:r,left:e};return{getBoundingClientRect:()=>Ie({},n,{toJSON:()=>JSON.stringify(n)})}}function eBe(){const t=WN(),[e,r]=k.useState(null);return k.useEffect(()=>{const n=t.current;if(n===null)return()=>{};const i=a=>{a.pointerType!=="mouse"&&r(null)},s=a=>{r({x:a.clientX,y:a.clientY,height:a.height,pointerType:a.pointerType})};return n.addEventListener("pointerdown",s),n.addEventListener("pointermove",s),n.addEventListener("pointerup",i),()=>{n.removeEventListener("pointerdown",s),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",i)}},[t]),e}function tBe(t,e){if(t==="item")return e!==null;const r=e.x!==null,n=e.y!==null;return r||n}function rBe(t){return t instanceof Date?t.toUTCString():t.toLocaleString()}function nBe(t){return Zc("MuiChartsTooltip",t)}const DO=kh("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),V8=de("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius})),z8=de("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:t})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(t.vars||t).palette.divider} 1px`}})),xP=de("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:t})=>({"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}})),Vd=de("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:t})=>({verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,[`&.${DO.labelCell}`]:{paddingLeft:t.spacing(1)},[`&.${DO.valueCell}`]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}})),W8=de("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:t=>tm(t)&&t!=="color"})(({theme:t,color:e})=>({width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:e,borderColor:(t.vars||t).palette.background.paper,border:`solid ${(t.vars||t).palette.background.paper} ${t.spacing(.25)}`,boxSizing:"content-box"}));function iBe(t){var c;const{series:e,itemData:r,sx:n,classes:i,getColor:s}=t;if(r.dataIndex===void 0||!e.data[r.dataIndex])return null;const{displayedLabel:a,color:o}=e.type==="pie"?{color:s(r.dataIndex),displayedLabel:_u(e.data[r.dataIndex].label,"tooltip")}:{color:s(r.dataIndex),displayedLabel:_u(e.label,"tooltip")},l=e.type==="pie"?Ie({},e.data[r.dataIndex],{label:_u(e.data[r.dataIndex].label,"tooltip")}):e.data[r.dataIndex],u=(c=e.valueFormatter)==null?void 0:c.call(e,l,{dataIndex:r.dataIndex});return _.jsx(V8,{sx:n,className:i.root,children:_.jsx(z8,{className:i.table,children:_.jsx("tbody",{children:_.jsxs(xP,{className:i.row,children:[_.jsx(Vd,{className:Oe(i.markCell,i.cell),children:_.jsx(W8,{color:o,className:i.mark})}),_.jsx(Vd,{className:Oe(i.labelCell,i.cell),children:a}),_.jsx(Vd,{className:Oe(i.valueCell,i.cell),children:u})]})})})})}function sBe(t){var T;const{content:e,itemData:r,sx:n,classes:i,contentProps:s}=t,a=Qc()[r.type].series[r.seriesId],{xAxis:o,yAxis:l,xAxisIds:u,yAxisIds:c}=ml(),{zAxis:h,zAxisIds:f}=k.useContext(zN),m=M8(),g=a.xAxisId??a.xAxisKey??u[0],y=a.yAxisId??a.yAxisKey??c[0],b=a.zAxisId??a.zAxisKey??f[0],x=((T=m[a.type])==null?void 0:T.call(m,a,g&&o[g],y&&l[y],b&&h[b]))??(()=>""),v=e??iBe,w=ll({elementType:v,externalSlotProps:s,additionalProps:{itemData:r,series:a,sx:n,classes:i,getColor:x},ownerState:{}});return _.jsx(v,Ie({},w))}let IO;class aBe{constructor(){if(this.types=new Set,IO)throw new Error("You can only create one instance!");IO=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const sS=new aBe;sS.addType("bar");sS.addType("line");sS.addType("scatter");function H8(t){return sS.getTypes().has(t)}function oBe(t){return H8(t.type)}function lBe(t){const{series:e,axis:r,dataIndex:n,axisValue:i,sx:s,classes:a}=t;if(n==null)return null;const o=r.valueFormatter??(l=>r.scaleType==="utc"?rBe(l):l.toLocaleString());return _.jsx(V8,{sx:s,className:a.root,children:_.jsxs(z8,{className:a.table,children:[i!=null&&!r.hideTooltip&&_.jsx("thead",{children:_.jsx(xP,{children:_.jsx(Vd,{colSpan:3,children:_.jsx(qr,{children:o(i,{location:"tooltip"})})})})}),_.jsx("tbody",{children:e.filter(oBe).map(({id:l,label:u,valueFormatter:c,data:h,getColor:f})=>{const m=c(h[n]??null,{dataIndex:n});if(m==null)return null;const g=_u(u,"tooltip"),y=f(n);return _.jsxs(xP,{className:a.row,children:[_.jsx(Vd,{className:Oe(a.markCell,a.cell),children:y&&_.jsx(W8,{color:y,className:a.mark})}),_.jsx(Vd,{className:Oe(a.labelCell,a.cell),children:g?_.jsx(qr,{children:g}):null}),_.jsx(Vd,{className:Oe(a.valueCell,a.cell),children:_.jsx(qr,{children:m})})]},l)})})]})})}function uBe(t){const{content:e,contentProps:r,axisData:n,sx:i,classes:s}=t,a=n.x&&n.x.index!==-1,o=a?n.x&&n.x.index:n.y&&n.y.index,l=a?n.x&&n.x.value:n.y&&n.y.value,{xAxisIds:u,xAxis:c,yAxisIds:h,yAxis:f}=ml(),{zAxisIds:m,zAxis:g}=k.useContext(zN),y=Qc(),b=M8(),x=a?u[0]:h[0],v=k.useMemo(()=>{const C=[];return Object.keys(y).filter(H8).forEach(M=>{y[M].seriesOrder.forEach(E=>{var V;const D=y[M].series[E],I=D.xAxisId??D.xAxisKey,A=D.yAxisId??D.yAxisKey,W=a?I:A;if(W===void 0||W===x){const $=y[M].series[E],L=I??u[0],H=A??h[0],z=$.zAxisId??$.zAxisKey??m[0],F=((V=b[M])==null?void 0:V.call(b,$,c[L],f[H],z&&g[z]))??(()=>"");C.push(Ie({},$,{getColor:F}))}})}),C},[x,b,a,y,c,u,f,h,g,m]),w=k.useMemo(()=>a?c[x]:f[x],[x,a,c,f]),T=e??lBe,P=ll({elementType:T,externalSlotProps:r,additionalProps:{axisData:n,series:v,axis:w,dataIndex:o,axisValue:l,sx:i,classes:s},ownerState:{}});return _.jsx(T,Ie({},P))}const cBe=t=>{const{classes:e}=t;return Jc({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},nBe,e)},dBe=de(K4,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",zIndex:t.zIndex.modal}));function hBe(t){const e=tt({props:t,name:"MuiChartsTooltip"}),{trigger:r="axis",itemContent:n,axisContent:i,slots:s,slotProps:a}=e,o=eBe(),{item:l,axis:u}=k.useContext(Ep),c=r==="item"?l:u,h=tBe(r,c),f=o!==null&&h,m=cBe({classes:e.classes}),g=(s==null?void 0:s.popper)??dBe,y=ll({elementType:g,externalSlotProps:a==null?void 0:a.popper,additionalProps:{open:f,placement:(o==null?void 0:o.pointerType)==="mouse"?"right-start":"top",anchorEl:ZPe(o),modifiers:[{name:"offset",options:{offset:[0,(o==null?void 0:o.pointerType)==="touch"?40-o.height:0]}}]},ownerState:{}});return r==="none"?null:_.jsx(F4,{children:f&&_.jsx(g,Ie({},y,{children:r==="item"?_.jsx(sBe,{itemData:c,content:(s==null?void 0:s.itemContent)??n,contentProps:a==null?void 0:a.itemContent,sx:{mx:2},classes:m}):_.jsx(uBe,{axisData:c,content:(s==null?void 0:s.axisContent)??i,contentProps:a==null?void 0:a.axisContent,sx:{mx:2},classes:m})}))})}const fBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=_u(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},pBe=fBe,gBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=_u(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},mBe=gBe,yBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>{const s=_u(r[i].label,"legend");return s===void 0||n.push({color:r[i].color,label:s,id:i}),n},[])},bBe=yBe,vBe=t=>{const{seriesOrder:e,series:r}=t;return e.reduce((n,i)=>(r[i].data.forEach(s=>{const a=_u(s.label,"legend");a!==void 0&&n.push({color:s.color,label:a,id:s.id})}),n),[])},wBe=vBe,xBe={bar:pBe,scatter:mBe,line:bBe,pie:wBe};function SBe(t){return Object.keys(t).flatMap(e=>{const r=xBe[e];return r===void 0?[]:r(t[e])})}function kBe(t){return Zc("MuiChartsLegend",t)}kh("MuiChartsLegend",["root","series","mark","label","column","row"]);const _Be=["label"];function CBe(t,e,r,n,i,s,a){let o=0,l=0,u=0,c=0,h=0;const f=[0];return[t.map(g=>{let{label:y}=g,b=hi(g,_Be);const x=e(y,r),v=Ie({},b,{label:y,positionX:o,positionY:l,innerHeight:x.innerHeight,innerWidth:x.innerWidth,outerHeight:x.outerHeight,outerWidth:x.outerWidth,rowIndex:h});return n==="row"&&(o+x.innerWidth>i&&(o=0,l+=f[h],h+=1,f.length<=h&&f.push(0),v.positionX=o,v.positionY=l,v.rowIndex=h),u=Math.max(u,o+x.outerWidth),c=Math.max(c,l+x.outerHeight),f[h]=Math.max(f[h],x.outerHeight),o+=x.outerWidth),n==="column"&&(l+x.innerHeight>s&&(o=u+a,l=0,h=0,v.positionX=o,v.positionY=l,v.rowIndex=h),f.length<=h&&f.push(0),u=Math.max(u,o+x.outerWidth),c=Math.max(c,l+x.outerHeight),h+=1,l+=x.outerHeight),v}).map(g=>Ie({},g,{positionY:g.positionY+(n==="row"?f[g.rowIndex]/2:g.outerHeight/2)})),u,c]}const TBe=["rotate","dominantBaseline"],PBe=de("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(t,e)=>e.root})({}),BBe=t=>typeof t=="number"?{left:t,right:t,top:t,bottom:t}:Ie({left:0,right:0,top:0,bottom:0},t);function MBe(t){const{hidden:e,position:r,direction:n,itemsToDisplay:i,classes:s,itemMarkWidth:a=20,itemMarkHeight:o=20,markGap:l=5,itemGap:u=10,padding:c=10,labelStyle:h}=t,f=Ua(),m=Gi(),g=gl(),y=k.useMemo(()=>Ie({},f.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(f.vars||f).palette.text.primary,lineHeight:1},h),[h,f]),b=k.useMemo(()=>BBe(c),[c]),x=k.useCallback((A,W={})=>{const V=hi(W,TBe),$=HN({style:V,needsComputation:!0,text:A}),L={innerWidth:a+l+Math.max(...$.map(H=>H.width)),innerHeight:Math.max(o,$.length*$[0].height)};return Ie({},L,{outerWidth:L.innerWidth+u,outerHeight:L.innerHeight+u})},[u,o,a,l]),v=g.left+g.width+g.right,w=g.top+g.height+g.bottom,T=v-b.left-b.right,P=w-b.top-b.bottom,[C,M,E]=k.useMemo(()=>CBe(i,x,y,n,T,P,u),[i,x,y,n,T,P,u]),D=k.useMemo(()=>{switch(r.horizontal){case"left":return b.left;case"right":return v-b.right-M;default:return(v-M)/2}},[r.horizontal,b.left,b.right,v,M]),I=k.useMemo(()=>{switch(r.vertical){case"top":return b.top;case"bottom":return w-b.bottom-E;default:return(w-E)/2}},[r.vertical,b.top,b.bottom,w,E]);return e?null:_.jsx(F4,{children:_.jsx(PBe,{className:s==null?void 0:s.root,children:C.map(({id:A,label:W,color:V,positionX:$,positionY:L})=>_.jsxs("g",{className:s==null?void 0:s.series,transform:`translate(${D+(m?M-$:$)} ${I+L})`,children:[_.jsx("rect",{className:s==null?void 0:s.mark,x:m?-a:0,y:-o/2,width:a,height:o,fill:V}),_.jsx(ky,{style:y,text:W,x:(m?-1:1)*(a+l),y:0})]},A))})})}const NBe=["drawingArea","seriesToDisplay"];function EBe(t){const{seriesToDisplay:e}=t,r=hi(t,NBe);return _.jsx(MBe,Ie({},r,{itemsToDisplay:e}))}const RBe=t=>{const{classes:e,direction:r}=t;return Jc({root:["root",r],mark:["mark"],label:["label"],series:["series"]},kBe,e)},DBe={position:{horizontal:"middle",vertical:"top"},direction:"row"};function IBe(t){const e=tt({props:Ie({},DBe,t),name:"MuiChartsLegend"}),{position:r,direction:n,hidden:i,slots:s,slotProps:a}=e,o=Ua(),l=RBe(Ie({},e,{theme:o})),u=gl(),c=Qc(),h=SBe(c),f=(s==null?void 0:s.legend)??EBe,m=ll({elementType:f,externalSlotProps:a==null?void 0:a.legend,additionalProps:{position:r,direction:n,classes:l,drawingArea:u,series:c,hidden:i,seriesToDisplay:h},ownerState:{}});return _.jsx(f,Ie({},m))}function LBe(t){return Zc("MuiChartsAxisHighlight",t)}kh("MuiChartsAxisHighlight",["root"]);const FBe=()=>Jc({root:["root"]},LBe),rv=de("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:Ie({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:Ie({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function ABe(t){const{x:e,y:r}=t,{xAxisIds:n,xAxis:i,yAxisIds:s,yAxis:a}=ml(),o=FBe(),l=n[0],u=s[0],c=i[l].scale,h=a[u].scale,{axis:f}=k.useContext(Ep),m=_O(c),g=_O(h),y=f.x,b=f.y,x=e==="band"&&y!==null&&ch(c),v=r==="band"&&b!==null&&ch(h);return _.jsxs(k.Fragment,{children:[x&&c(y.value)!==void 0&&_.jsx(rv,{d:`M ${c(y.value)-(c.step()-c.bandwidth())/2} ${h.range()[0]} l ${c.step()} 0 l 0 ${h.range()[1]-h.range()[0]} l ${-c.step()} 0 Z`,className:o.root,ownerState:{axisHighlight:"band"}}),v&&h(b.value)!==void 0&&_.jsx(rv,{d:`M ${c.range()[0]} ${h(b.value)-(h.step()-h.bandwidth())/2} l 0 ${h.step()} l ${c.range()[1]-c.range()[0]} 0 l 0 ${-h.step()} Z`,className:o.root,ownerState:{axisHighlight:"band"}}),e==="line"&&f.x!==null&&_.jsx(rv,{d:`M ${m(f.x.value)} ${h.range()[0]} L ${m(f.x.value)} ${h.range()[1]}`,className:o.root,ownerState:{axisHighlight:"line"}}),r==="line"&&f.y!==null&&_.jsx(rv,{d:`M ${c.range()[0]} ${g(f.y.value)} L ${c.range()[1]} ${g(f.y.value)}`,className:o.root,ownerState:{axisHighlight:"line"}})]})}function OBe(t){const{id:e,offset:r}=t,{left:n,top:i,width:s,height:a}=gl(),o=Ie({top:0,right:0,bottom:0,left:0},r);return _.jsx("clipPath",{id:e,children:_.jsx("rect",{x:n-o.left,y:i-o.top,width:s+o.left+o.right,height:a+o.top+o.bottom})})}function $Be(t){return Zc("MuiChartsGrid",t)}const LO=kh("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),VBe=["vertical","horizontal"],zBe=de("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${LO.verticalLine}`]:e.verticalLine},{[`&.${LO.horizontalLine}`]:e.horizontalLine},e.root]})({}),FO=de("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(t,e)=>e.line})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1})),WBe=({classes:t})=>Jc({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},$Be,t);function HBe(t){const e=tt({props:t,name:"MuiChartsGrid"}),r=gl(),{vertical:n,horizontal:i}=e,s=hi(e,VBe),{xAxis:a,xAxisIds:o,yAxis:l,yAxisIds:u}=ml(),c=WBe(e),h=u[0],f=o[0],{scale:m,tickNumber:g,tickInterval:y}=a[f],{scale:b,tickNumber:x,tickInterval:v}=l[h],w=ex({scale:m,tickNumber:g,tickInterval:y}),T=ex({scale:b,tickNumber:x,tickInterval:v});return _.jsxs(zBe,Ie({},s,{className:c.root,children:[n&&w.map(({formattedValue:P,offset:C})=>_.jsx(FO,{y1:r.top,y2:r.top+r.height,x1:C,x2:C,className:c.verticalLine},`vertical-${P}`)),i&&T.map(({formattedValue:P,offset:C})=>_.jsx(FO,{y1:C,y2:C,x1:r.left,x2:r.left+r.width,className:c.horizontalLine},`horizontal-${P}`))]}))}function UBe(t){const{onAxisClick:e}=t,r=WN(),n=Qc(),{axis:i}=k.useContext(Ep),{xAxisIds:s,xAxis:a,yAxisIds:o,yAxis:l}=ml();return k.useEffect(()=>{const u=r.current;if(u===null||!e)return()=>{};const c=h=>{var x;h.preventDefault();const f=(i.x&&i.x.index)!==void 0,m=f?s[0]:o[0],g=f?i.x&&i.x.index:i.y&&i.y.index;if(g==null)return;const y={};Object.keys(n).filter(v=>["bar","line"].includes(v)).forEach(v=>{var w;(w=n[v])==null||w.seriesOrder.forEach(T=>{const P=n[v].series[T],C=P.xAxisId??P.xAxisKey,M=P.yAxisId??P.yAxisKey,E=f?C:M;(E===void 0||E===m)&&(y[T]=P.data[g])})});const b=(x=(f?a:l)[m].data)==null?void 0:x[g];e(h,{dataIndex:g,axisValue:b,seriesValues:y})};return u.addEventListener("click",c),()=>{u.removeEventListener("click",c)}},[i.x,i.y,e,n,r,a,s,l,o]),_.jsx(k.Fragment,{})}const GBe=["message"],jBe=de("text")(({theme:t})=>Ie({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function YBe(t){const{message:e}=t,r=hi(t,GBe),{top:n,left:i,height:s,width:a}=gl();return _.jsx(jBe,Ie({x:i+a/2,y:n+s/2},r,{children:e??"Loading data"}))}const XBe=["message"],qBe=de("text")(({theme:t})=>Ie({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function KBe(t){const{message:e}=t,r=hi(t,XBe),{top:n,left:i,height:s,width:a}=gl();return _.jsx(qBe,Ie({x:i+a/2,y:n+s/2},r,{children:e??"No data to display"}))}function QBe(){const t=Qc();return Object.values(t).every(e=>{if(!e)return!0;const{series:r,seriesOrder:n}=e;return n.every(i=>r[i].data.length===0)})}function JBe(t){var r,n,i,s;const e=QBe();if(t.loading){const a=((r=t.slots)==null?void 0:r.loadingOverlay)??YBe;return _.jsx(a,Ie({},(n=t.slotProps)==null?void 0:n.loadingOverlay))}if(e){const a=((i=t.slots)==null?void 0:i.noDataOverlay)??KBe;return _.jsx(a,Ie({},(s=t.slotProps)==null?void 0:s.noDataOverlay))}return null}const ZBe=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],eMe=t=>{const{xAxis:e,yAxis:r,series:n,width:i,height:s,margin:a,colors:o,dataset:l,sx:u,tooltip:c,onAxisClick:h,axisHighlight:f,legend:m,grid:g,topAxis:y,leftAxis:b,rightAxis:x,bottomAxis:v,children:w,slots:T,slotProps:P,skipAnimation:C,loading:M,layout:E,onItemClick:D,highlightedItem:I,onHighlightChange:A,borderRadius:W,barLabel:V,className:$}=t,L=hi(t,ZBe),z=`${y8()}-clip-path`,F=E==="horizontal"||E===void 0&&n.some(ue=>ue.layout==="horizontal"),U={scaleType:"band",data:Array.from({length:Math.max(...n.map(ue=>(ue.data??l??[]).length))},(ue,re)=>re)},q=Ie({},L,{series:n.map(ue=>Ie({type:"bar"},ue,{layout:F?"horizontal":"vertical"})),width:i,height:s,margin:a,colors:o,dataset:l,xAxis:e??(F?void 0:[Ie({id:ON},U)]),yAxis:r??(F?[Ie({id:$N},U)]:void 0),sx:u,highlightedItem:I,onHighlightChange:A,disableAxisListener:(c==null?void 0:c.trigger)!=="axis"&&(f==null?void 0:f.x)==="none"&&(f==null?void 0:f.y)==="none"&&!h,className:$}),ae={onItemClick:D,slots:T,slotProps:P,skipAnimation:C,borderRadius:W,barLabel:V},he={onAxisClick:h},be={vertical:g==null?void 0:g.vertical,horizontal:g==null?void 0:g.horizontal},pe={clipPath:`url(#${z})`},ee={id:z},ce={slots:T,slotProps:P,loading:M},ke={topAxis:y,leftAxis:b,rightAxis:x,bottomAxis:v,slots:T,slotProps:P},Q=Ie({},F?{y:"band"}:{x:"band"},f),Z=Ie({},m,{slots:T,slotProps:P}),le=Ie({},c,{slots:T,slotProps:P});return{chartContainerProps:q,barPlotProps:ae,axisClickHandlerProps:he,gridProps:be,clipPathProps:ee,clipPathGroupProps:pe,overlayProps:ce,chartsAxisProps:ke,axisHighlightProps:Q,legendProps:Z,tooltipProps:le,children:w}},U8=k.forwardRef(function(e,r){const n=tt({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:s,axisClickHandlerProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:u,overlayProps:c,chartsAxisProps:h,axisHighlightProps:f,legendProps:m,tooltipProps:g,children:y}=eMe(n);return _.jsxs(IPe,Ie({ref:r},i,{children:[n.onAxisClick&&_.jsx(UBe,Ie({},a)),n.grid&&_.jsx(HBe,Ie({},o)),_.jsxs("g",Ie({},u,{children:[_.jsx(pPe,Ie({},s)),_.jsx(JBe,Ie({},c)),_.jsx(ABe,Ie({},f))]})),_.jsx(JPe,Ie({},h)),_.jsx(IBe,Ie({},m)),!n.loading&&_.jsx(hBe,Ie({},g)),_.jsx(OBe,Ie({},l)),y]}))});function Dv(t,e,r){const n=[];for(let s=0;s<101;s++)n.push({percentage:s/100,amount:0});for(let s=0;s<t;s++){var i=0;for(let a=0;a<r;a++)Math.random()<e&&i++;n[Math.round(i/r*100)]={...n[Math.round(i/r*100)],amount:n[Math.round(i/r*100)].amount+1}}return n}function tMe(t){return Math.round(t*1e4)/100+"%"}function rMe(){const[t,e]=k.useState([]),[r,n]=k.useState(0),[i,s]=k.useState(.5),[a,o]=k.useState(10),[l,u]=k.useState(0),c=1e3,h=.05,f=1e4,m=l/a,g=r/f;return k.useEffect(()=>{let y=0;t.filter(b=>m>i?b.percentage>=m:b.percentage<=m).forEach(b=>y+=b.amount),n(y)},[m,i,t]),_.jsx($u,{title:"Math",children:_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"center",padding:"10px"},children:[_.jsx(U8,{dataset:t,xAxis:[{scaleType:"band",dataKey:"percentage",colorMap:{type:"piecewise",thresholds:m>i?[0,m]:[m+1e-7],colors:["red","blue","red"]}}],series:[{dataKey:"amount"}],width:800,height:300}),_.jsxs("div",{style:{display:"flex",textAlign:"center"},children:[_.jsxs("div",{style:{margin:20},children:[_.jsxs(qr,{fontSize:25,children:[Math.round(i*100),"%"]}),_.jsx(lm,{max:1,step:.01,value:i,onChange:(y,b)=>{s(b),Dv(f,i,a)}}),"Null Hypothesis"]}),_.jsxs("div",{style:{margin:20,width:400},children:[_.jsx(qr,{fontSize:25,children:a}),_.jsx(lm,{min:1,max:c,step:1,value:a,onChange:(y,b)=>{e(Dv(f,i,a)),o(b)},onChangeCommitted:()=>{l>a&&u(a)}}),"Sample size",_.jsxs("div",{style:{width:a/c*400},children:[_.jsx(qr,{fontSize:25,children:l}),_.jsx(lm,{max:a,step:1,value:l,onChange:(y,b)=>u(b)}),"Successes"]})]})]}),_.jsxs("div",{children:["Out of the ",f," simulations run, ",r," ended with a sample proportion of ",Math.round(m*1e3)/10,"% or"," ",m>i?"higher":"lower"]}),_.jsxs("div",{children:["P-value is ",g," "]}),"That is",g<h?` less than the threshold of ${h} and is therefore statistically significant`:` more than the threshold of ${h} and is therefore NOT statistically significant`,_.jsx(xs,{onClick:()=>e(Dv(f,i,a)),children:"Generate"})]})})}function nMe({questions:t}){const{control:e,handleSubmit:r}=fz(),[n,i]=k.useState(null);function s(a){i(t.every(o=>Number(a[o.name])===o.correct))}return _.jsxs("div",{style:{display:"flex",flexDirection:"column",width:600},children:[t.map(a=>_.jsxs(_.Fragment,{children:[_.jsxs(qr,{children:["What is the ",a.name,"? (Round to 2 decimals if necessary)"]}),_.jsxs("div",{children:[_.jsx(_v,{control:e,name:a.name,render:({field:o})=>_.jsx(Gm,{type:"number",value:o.value,onChange:o.onChange})}),_.jsx(iMe,{solution:a.correct})]})]})),_.jsx(xs,{onClick:r(s),children:"Submit"}),n===!0&&_.jsx(NV,{style:{color:"green"}}),n===!1&&_.jsx(jy,{style:{color:"red"}})]})}function iMe({solution:t}){const[e,r]=k.useState(!1);return _.jsxs(_.Fragment,{children:[e===!1&&_.jsx(xs,{onClick:()=>r(!0),style:{textTransform:"lowercase"},children:"View solution"}),e===!0&&_.jsx(_.Fragment,{children:t})]})}function sMe(){const t=["people","birds","stuffed animals","clouds","girls named Vivian","clowns"],e=["hairy","white","just straight ugly","edible","downright evil","mentally insane"],r=["inside your bathroom","to the park","to Mexico","to hell","to a Trump rally","to highschool prom"],n=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)],s=r[Math.floor(Math.random()*r.length)],a=Math.round(Math.random()*1e3),o=Math.round(Math.random()*a),l=o/a,u=Math.min(100,Math.max(0,Math.round(((Math.random()-.5)/10+l)*100)/100)),c=Dv(1e3,u,a);var h=0;c.filter(m=>l>u?m.percentage>=l:m.percentage<=l).forEach(m=>h+=m.amount);const f=Math.round(h/1e3*100)/100;return _.jsx($u,{title:"Math Quiz",children:_.jsxs("div",{style:{padding:15},children:[_.jsxs(qr,{children:["It is common knowledge that ",tMe(u)," of ",n," ","are ",i,". However, you went ",s," and saw ",a," ",n,". You noticed that ",o," were ",i,". Below is a chart that represents the null distribution."]}),_.jsx(U8,{dataset:c,xAxis:[{scaleType:"band",dataKey:"percentage"}],series:[{dataKey:"amount"}],width:800,height:300}),_.jsx(nMe,{questions:[{name:"sample proportion",correct:Math.round(l*100)/100},{name:"null value",correct:Math.round(u*100)/100},{name:"p-value",correct:f}]})]})})}var aMe=oMe;function oMe(t,e,r){if(t!=null&&typeof t!="number")throw new Error("start must be a number or null");if(e!=null&&typeof e!="number")throw new Error("stop must be a number or null");if(r!=null&&typeof r!="number")throw new Error("step must be a number or null");e==null&&(e=t||0,t=0),r==null&&(r=e>t?1:-1);for(var n=[],i=t<e;i?t<e:t>e;t+=r)n.push(t);return n}const UN=Va(aMe);var G8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(G8);var lMe=G8.exports;const GN=Va(lMe);var uMe=200,jN="__lodash_hash_undefined__",cMe=9007199254740991,dMe="[object Arguments]",hMe="[object Function]",fMe="[object GeneratorFunction]",pMe=/[\\^$.*+?()[\]{}|]/g,gMe=/^\[object .+?Constructor\]$/,mMe=typeof ws=="object"&&ws&&ws.Object===Object&&ws,yMe=typeof self=="object"&&self&&self.Object===Object&&self,YN=mMe||yMe||Function("return this")();function bMe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function vMe(t,e){var r=t?t.length:0;return!!r&&_Me(t,e,0)>-1}function wMe(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function xMe(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function SMe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function kMe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function _Me(t,e,r){if(e!==e)return kMe(t,CMe,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function CMe(t){return t!==t}function TMe(t){return function(e){return t(e)}}function PMe(t,e){return t.has(e)}function BMe(t,e){return t==null?void 0:t[e]}function MMe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var NMe=Array.prototype,EMe=Function.prototype,XN=Object.prototype,yC=YN["__core-js_shared__"],AO=function(){var t=/[^.]+$/.exec(yC&&yC.keys&&yC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),j8=EMe.toString,aS=XN.hasOwnProperty,Y8=XN.toString,RMe=RegExp("^"+j8.call(aS).replace(pMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),OO=YN.Symbol,DMe=XN.propertyIsEnumerable,IMe=NMe.splice,$O=OO?OO.isConcatSpreadable:void 0,VO=Math.max,LMe=q8(YN,"Map"),_y=q8(Object,"create");function dh(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function FMe(){this.__data__=_y?_y(null):{}}function AMe(t){return this.has(t)&&delete this.__data__[t]}function OMe(t){var e=this.__data__;if(_y){var r=e[t];return r===jN?void 0:r}return aS.call(e,t)?e[t]:void 0}function $Me(t){var e=this.__data__;return _y?e[t]!==void 0:aS.call(e,t)}function VMe(t,e){var r=this.__data__;return r[t]=_y&&e===void 0?jN:e,this}dh.prototype.clear=FMe;dh.prototype.delete=AMe;dh.prototype.get=OMe;dh.prototype.has=$Me;dh.prototype.set=VMe;function Rp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function zMe(){this.__data__=[]}function WMe(t){var e=this.__data__,r=oS(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():IMe.call(e,r,1),!0}function HMe(t){var e=this.__data__,r=oS(e,t);return r<0?void 0:e[r][1]}function UMe(t){return oS(this.__data__,t)>-1}function GMe(t,e){var r=this.__data__,n=oS(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}Rp.prototype.clear=zMe;Rp.prototype.delete=WMe;Rp.prototype.get=HMe;Rp.prototype.has=UMe;Rp.prototype.set=GMe;function Dp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jMe(){this.__data__={hash:new dh,map:new(LMe||Rp),string:new dh}}function YMe(t){return lS(this,t).delete(t)}function XMe(t){return lS(this,t).get(t)}function qMe(t){return lS(this,t).has(t)}function KMe(t,e){return lS(this,t).set(t,e),this}Dp.prototype.clear=jMe;Dp.prototype.delete=YMe;Dp.prototype.get=XMe;Dp.prototype.has=qMe;Dp.prototype.set=KMe;function rx(t){var e=-1,r=t?t.length:0;for(this.__data__=new Dp;++e<r;)this.add(t[e])}function QMe(t){return this.__data__.set(t,jN),this}function JMe(t){return this.__data__.has(t)}rx.prototype.add=rx.prototype.push=QMe;rx.prototype.has=JMe;function oS(t,e){for(var r=t.length;r--;)if(oNe(t[r][0],e))return r;return-1}function ZMe(t,e,r,n){var i=-1,s=vMe,a=!0,o=t.length,l=[],u=e.length;if(!o)return l;r&&(e=xMe(e,TMe(r))),n?(s=wMe,a=!1):e.length>=uMe&&(s=PMe,a=!1,e=new rx(e));e:for(;++i<o;){var c=t[i],h=r?r(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(c)}else s(e,h,n)||l.push(c)}return l}function X8(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=rNe),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?X8(o,e-1,r,n,i):SMe(i,o):n||(i[i.length]=o)}return i}function eNe(t){if(!Q8(t)||iNe(t))return!1;var e=K8(t)||MMe(t)?RMe:gMe;return e.test(sNe(t))}function tNe(t,e){return e=VO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=VO(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=s,bMe(t,this,a)}}function lS(t,e){var r=t.__data__;return nNe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function q8(t,e){var r=BMe(t,e);return eNe(r)?r:void 0}function rNe(t){return uNe(t)||lNe(t)||!!($O&&t&&t[$O])}function nNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function iNe(t){return!!AO&&AO in t}function sNe(t){if(t!=null){try{return j8.call(t)}catch{}try{return t+""}catch{}}return""}var aNe=tNe(function(t,e){return SP(t)?ZMe(t,X8(e,1,SP,!0)):[]});function oNe(t,e){return t===e||t!==t&&e!==e}function lNe(t){return SP(t)&&aS.call(t,"callee")&&(!DMe.call(t,"callee")||Y8.call(t)==dMe)}var uNe=Array.isArray;function cNe(t){return t!=null&&dNe(t.length)&&!K8(t)}function SP(t){return hNe(t)&&cNe(t)}function K8(t){var e=Q8(t)?Y8.call(t):"";return e==hMe||e==fMe}function dNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cMe}function Q8(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hNe(t){return!!t&&typeof t=="object"}var fNe=aNe;const zO=Va(fNe);function uS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cS(t,e,r){return e&&WO(t.prototype,e),r&&WO(t,r),t}function hn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kP(){return kP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kP.apply(this,arguments)}function dS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_P(t,e)}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(t)}function _P(t,e){return _P=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_P(t,e)}function pNe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function gNe(t,e){if(t==null)return{};var r=pNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hS(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:ni(t)}function mNe(t,e){return yNe(t)||bNe(t,e)||vNe()}function yNe(t){if(Array.isArray(t))return t}function bNe(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}function vNe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var wNe=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],xNe=["Db","Eb","Gb","Ab","Bb"],SNe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},nx=12,qN=nx,KN=127,kNe=/([a-g])([#b]?)(\d+)/,CP=12;function _Ne(t){if(!t)throw Error("Invalid note argument");var e=kNe.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var r=mNe(e,4),n=r[1],i=r[2],s=r[3],a="".concat(n.toUpperCase()).concat(i),o=SNe[a];if(o==null)throw Error("Invalid note argument");return nx+o+CP*parseInt(s,10)}function CNe(t){var e=(t-nx)%CP,r=Math.floor((t-nx)/CP),n=wNe[e];return{note:"".concat(n).concat(r),pitchName:n,octave:r,midiNumber:t,isAccidental:xNe.includes(n)}}function TNe(){return UN(qN,KN+1).reduce(function(t,e){return t[e]=CNe(e),t},{})}var PNe=TNe();function J8(t){var e=PNe[t];if(!e)throw Error("Invalid MIDI number");return e}var BNe=UN(qN,KN+1).filter(function(t){return!J8(t).isAccidental}),Cy={fromNote:_Ne,getAttributes:J8,MIN_MIDI_NUMBER:qN,MAX_MIDI_NUMBER:KN,NATURAL_MIDI_NUMBERS:BNe},QN=function(t){dS(e,t);function e(){var r,n;uS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=hS(this,(r=gp(e)).call.apply(r,[this].concat(s))),hn(ni(n),"onPlayNoteInput",function(){n.props.onPlayNoteInput(n.props.midiNumber)}),hn(ni(n),"onHover",function(){n.props.onHover(n.props.midiNumber)}),hn(ni(n),"onStopNoteInput",function(){n.props.onStopNoteInput(n.props.midiNumber)}),n}return cS(e,[{key:"getAbsoluteKeyPosition",value:function(n){var i=7,s=Cy.getAttributes(n),a=s.octave,o=s.pitchName,l=this.props.pitchPositions[o],u=i*a;return l+u}},{key:"getRelativeKeyPosition",value:function(n){return this.getAbsoluteKeyPosition(n)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var n=this.props,i=n.naturalKeyWidth,s=n.accidentalWidthRatio,a=n.midiNumber,o=n.gliss,l=n.useTouchEvents,u=n.accidental,c=n.active,h=n.highlighted,f=n.disabled,m=n.children;return Jt.createElement("div",{className:GN("ReactPiano__Key",{"ReactPiano__Key--accidental":u,"ReactPiano__Key--natural":!u,"ReactPiano__Key--disabled":f,"ReactPiano__Key--active":c,"ReactPiano__Key--highlighted":h}),id:a,style:{left:HO(this.getRelativeKeyPosition(a)*i),width:HO(u?s*i:i)},onMouseDown:l?null:this.onPlayNoteInput,onMouseUp:l?null:this.onStopNoteInput,onMouseEnter:o?this.onPlayNoteInput:this.onHover,onMouseLeave:this.onStopNoteInput,onTouchStart:l?this.onPlayNoteInput:null,onTouchCancel:l?this.onStopNoteInput:null,onTouchEnd:l?this.onStopNoteInput:null},Jt.createElement("div",{className:"ReactPiano__NoteLabelContainer"},m))}}]),e}(Jt.Component);hn(QN,"propTypes",{midiNumber:X.number.isRequired,naturalKeyWidth:X.number.isRequired,gliss:X.bool.isRequired,useTouchEvents:X.bool.isRequired,accidental:X.bool.isRequired,active:X.bool.isRequired,highlighted:X.bool.isRequired,disabled:X.bool.isRequired,onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,accidentalWidthRatio:X.number.isRequired,pitchPositions:X.object.isRequired,children:X.node});hn(QN,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function HO(t){return"".concat(t*100,"%")}var JN=function(t){dS(e,t);function e(){return uS(this,e),hS(this,gp(e).apply(this,arguments))}return cS(e,[{key:"getMidiNumbers",value:function(){return UN(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter(function(n){var i=Cy.getAttributes(n),s=i.isAccidental;return!s}).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var n=this.props.width*this.getNaturalKeyWidth();return"".concat(n/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var n=this,i=this.getNaturalKeyWidth();return Jt.createElement("div",{className:GN("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map(function(s){var a=Cy.getAttributes(s);a.note;var o=a.isAccidental,l=!n.props.disabled&&n.props.activeNotes.includes(s),u=!n.props.disabled&&n.props.highlightedNotes.includes(s);return Jt.createElement(QN,{naturalKeyWidth:i,midiNumber:s,noteRange:n.props.noteRange,active:l,highlighted:u,accidental:o,disabled:n.props.disabled,onPlayNoteInput:n.props.onPlayNoteInput,onHover:n.props.onHover,onStopNoteInput:n.props.onStopNoteInput,gliss:n.props.gliss,useTouchEvents:n.props.useTouchEvents,key:s},n.props.disabled?null:n.props.renderNoteLabel({isActive:l,isAccidental:o,midiNumber:s}))}))}}]),e}(Jt.Component);hn(JN,"propTypes",{noteRange:MNe,activeNotes:X.arrayOf(X.number),highlightedNotes:X.arrayOf(X.number),onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,renderNoteLabel:X.func.isRequired,keyWidthToHeight:X.number.isRequired,className:X.string,disabled:X.bool,gliss:X.bool,useTouchEvents:X.bool,width:X.number});hn(JN,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});function UO(t){return typeof t!="number"?!1:Cy.NATURAL_MIDI_NUMBERS.includes(t)}function MNe(t,e,r){var n=t[e],i=n.first,s=n.last;if(!i||!s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," must be an object with .first and .last values."));if(!UO(i)||!UO(s))return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(i>=s)return new Error("Invalid prop ".concat(e," supplied to ").concat(r,". ").concat(e,".first must be smaller than ").concat(e,".last."))}var ZN=function(t){dS(e,t);function e(){var r,n;uS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=hS(this,(r=gp(e)).call.apply(r,[this].concat(s))),hn(ni(n),"state",{isMouseDown:!1,useTouchEvents:!1}),hn(ni(n),"handleNoteChanges",function(o){var l=o.prevActiveNotes,u=o.nextActiveNotes;if(!n.props.disabled){var c=zO(l,u),h=zO(u,l);h.forEach(function(f){n.props.playNote(f)}),c.forEach(function(f){n.props.stopNote(f)})}}),hn(ni(n),"getMidiNumberForKey",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(u){return u.key===o});return l&&l.midiNumber}),hn(ni(n),"getKeyForMidiNumber",function(o){if(!n.props.keyboardShortcuts)return null;var l=n.props.keyboardShortcuts.find(function(u){return u.midiNumber===o});return l&&l.key}),hn(ni(n),"onKeyDown",function(o){if(!(o.ctrlKey||o.metaKey||o.shiftKey)){var l=n.getMidiNumberForKey(o.key);l&&n.onPlayNoteInput(l)}}),hn(ni(n),"onKeyUp",function(o){var l=n.getMidiNumberForKey(o.key);l&&n.onStopNoteInput(l)}),hn(ni(n),"onPlayNoteInput",function(o){n.props.disabled||n.props.onPlayNoteInput(o,n.props.activeNotes)}),hn(ni(n),"onHover",function(o){n.props.disabled||n.props.onHover(o)}),hn(ni(n),"onStopNoteInput",function(o){n.props.disabled||n.props.onStopNoteInput(o,n.props.activeNotes)}),hn(ni(n),"onMouseDown",function(){n.setState({isMouseDown:!0})}),hn(ni(n),"onMouseUp",function(){n.setState({isMouseDown:!1})}),hn(ni(n),"onTouchStart",function(){n.setState({useTouchEvents:!0})}),hn(ni(n),"renderNoteLabel",function(o){var l=o.midiNumber,u=o.isActive,c=o.isAccidental,h=n.getKeyForMidiNumber(l);return n.props.renderNoteLabel({keyboardShortcut:h,midiNumber:l,isActive:u,isAccidental:c})}),n}return cS(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(n,i){this.props.activeNotes!==n.activeNotes&&this.handleNoteChanges({prevActiveNotes:n.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return Jt.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},Jt.createElement(JN,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onHover:this.onHover,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,highlightedNotes:this.props.highlightedNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(Jt.Component);hn(ZN,"propTypes",{noteRange:X.object.isRequired,activeNotes:X.arrayOf(X.number.isRequired).isRequired,highlightedNotes:X.arrayOf(X.number.isRequired).isRequired,playNote:X.func.isRequired,stopNote:X.func.isRequired,onPlayNoteInput:X.func.isRequired,onHover:X.func.isRequired,onStopNoteInput:X.func.isRequired,renderNoteLabel:X.func.isRequired,className:X.string,disabled:X.bool,width:X.number,keyWidthToHeight:X.number,keyboardShortcuts:X.arrayOf(X.shape({key:X.string.isRequired,midiNumber:X.number.isRequired}))});hn(ZN,"defaultProps",{renderNoteLabel:function(e){var r=e.keyboardShortcut;e.midiNumber;var n=e.isActive,i=e.isAccidental;return r?Jt.createElement("div",{className:GN("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":n,"ReactPiano__NoteLabel--accidental":i,"ReactPiano__NoteLabel--natural":!i})},r):null}});var Z8=function(t){dS(e,t);function e(){var r,n;uS(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=hS(this,(r=gp(e)).call.apply(r,[this].concat(s))),hn(ni(n),"state",{activeNotes:n.props.activeNotes||[]}),hn(ni(n),"highlightedNotes",{highlightedNotes:n.props.highlightedNotes||[]}),hn(ni(n),"handlePlayNoteInput",function(o){n.setState(function(l){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(o,{prevActiveNotes:l.activeNotes}),l.activeNotes.includes(o)?null:{activeNotes:l.activeNotes.concat(o)}})}),hn(ni(n),"onHover",function(o){}),hn(ni(n),"handleStopNoteInput",function(o){n.setState(function(l){return n.props.onStopNoteInput&&n.props.onStopNoteInput(o,{prevActiveNotes:n.state.activeNotes}),{activeNotes:l.activeNotes.filter(function(u){return o!==u})}})}),n}return cS(e,[{key:"componentDidUpdate",value:function(n){n.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]}),n.highlightedNotes!==this.props.highlightedNotes&&this.setState({highlightedNotes:this.props.highlightedNotes||[]})}},{key:"render",value:function(){var n=this.props;n.activeNotes,n.highlightedNotes,n.onPlayNoteInput,n.onHover,n.onStopNoteInput;var i=gNe(n,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return Jt.createElement(ZN,kP({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onHover:this.onHover,onStopNoteInput:this.handleStopNoteInput},i))}}]),e}(Jt.Component);hn(Z8,"propTypes",{noteRange:X.object.isRequired,activeNotes:X.arrayOf(X.number.isRequired),highlightedNotes:X.arrayOf(X.number.isRequired),playNote:X.func.isRequired,stopNote:X.func.isRequired,onPlayNoteInput:X.func,onHover:X.func,onStopNoteInput:X.func,renderNoteLabel:X.func,className:X.string,disabled:X.bool,width:X.number,keyWidthToHeight:X.number,keyboardShortcuts:X.arrayOf(X.shape({key:X.string.isRequired,midiNumber:X.number.isRequired}))});function NNe(t){for(var e=t.firstNote,r=t.lastNote,n=t.keyboardConfig,i=e,s=0,a=[];s<n.length&&i<=r;){var o=n[s],l=Cy.getAttributes(i),u=l.isAccidental;u?a.push({key:o.flat,midiNumber:i}):(a.push({key:o.natural,midiNumber:i}),s+=1),i+=1}return a}var GO={create:NNe,BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]},ENe=Object.defineProperty,RNe=Object.defineProperties,DNe=Object.getOwnPropertyDescriptors,jO=Object.getOwnPropertySymbols,INe=Object.prototype.hasOwnProperty,LNe=Object.prototype.propertyIsEnumerable,YO=(t,e,r)=>e in t?ENe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ym=(t,e)=>{for(var r in e||(e={}))INe.call(e,r)&&YO(t,r,e[r]);if(jO)for(var r of jO(e))LNe.call(e,r)&&YO(t,r,e[r]);return t},Iv=(t,e)=>RNe(t,DNe(e)),eE=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Wt=(t,e,r)=>(eE(t,e,"read from private field"),r?r.call(t):e.get(t)),Ds=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ki=(t,e,r,n)=>(eE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),FNe=(t,e,r)=>(eE(t,e,"access private method"),r),ix=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});function Lv(t){const e=t.filter(r=>!!r);return e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.connect(s),n}),()=>{e.reduce((r,n)=>{const i="output"in r?r.output:r,s="input"in n?n.input:n;return i.disconnect(s),n})}}function ANe(t){let e=t;const r=new Set;function n(a){return r.add(a),a(e),()=>{r.delete(a)}}function i(a){e=a,r.forEach(o=>o(e))}function s(){return e}return{subscribe:n,set:i,get:s}}function ONe(){const t=new Set;function e(n){return t.add(n),()=>{t.delete(n)}}function r(n){t.forEach(i=>i(n))}return{subscribe:e,trigger:r}}function $Ne(t){let e=!1;return()=>{e||(e=!0,t.forEach(r=>r==null?void 0:r()))}}function eH(t){return t*t/16129}var Sd,hc,nf,sf,Fv,kd,_d,VNe=class{constructor(t,e){this.context=t,Ds(this,Sd,void 0),Ds(this,hc,void 0),Ds(this,nf,void 0),Ds(this,sf,void 0),Ds(this,Fv,void 0),Ds(this,kd,void 0),Ds(this,_d,!1);var r,n,i;Ki(this,kd,{destination:(r=e==null?void 0:e.destination)!=null?r:t.destination,volume:(n=e==null?void 0:e.volume)!=null?n:100,volumeToGain:(i=e==null?void 0:e.volumeToGain)!=null?i:eH}),this.input=t.createGain(),Ki(this,Sd,t.createGain()),Ki(this,sf,Lv([this.input,Wt(this,Sd),Wt(this,kd).destination]));const s=ANe(Wt(this,kd).volume);this.setVolume=s.set,Ki(this,Fv,s.subscribe(a=>{Wt(this,Sd).gain.value=Wt(this,kd).volumeToGain(a)}))}addInsert(t){var e;if(Wt(this,_d))throw Error("Can't add insert to disconnected channel");(e=Wt(this,nf))!=null||Ki(this,nf,[]),Wt(this,nf).push(t),Wt(this,sf).call(this),Ki(this,sf,Lv([this.input,...Wt(this,nf),Wt(this,Sd),Wt(this,kd).destination]))}addEffect(t,e,r){var n;if(Wt(this,_d))throw Error("Can't add effect to disconnected channel");const i=this.context.createGain();i.gain.value=r;const s="input"in e?e.input:e,a=Lv([Wt(this,Sd),i,s]);(n=Wt(this,hc))!=null||Ki(this,hc,[]),Wt(this,hc).push({name:t,mix:i,disconnect:a})}sendEffect(t,e){var r;if(Wt(this,_d))throw Error("Can't send effect to disconnected channel");const n=(r=Wt(this,hc))==null?void 0:r.find(i=>i.name===t);n?n.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;Wt(this,_d)||(Ki(this,_d,!0),Wt(this,sf).call(this),Wt(this,Fv).call(this),(t=Wt(this,hc))==null||t.forEach(e=>e.disconnect()),Ki(this,hc,void 0))}};Sd=new WeakMap;hc=new WeakMap;nf=new WeakMap;sf=new WeakMap;Fv=new WeakMap;kd=new WeakMap;_d=new WeakMap;var wa,zNe=class{constructor(t){this.compare=t,Ds(this,wa,[])}push(t){const e=Wt(this,wa).length;let r=0,n=e-1,i=e;for(;r<=n;){const s=Math.floor((r+n)/2);this.compare(t,Wt(this,wa)[s])<0?(i=s,n=s-1):r=s+1}Wt(this,wa).splice(i,0,t)}pop(){return Wt(this,wa).shift()}peek(){return Wt(this,wa)[0]}removeAll(t){const e=Wt(this,wa).length;return Ki(this,wa,Wt(this,wa).filter(r=>!t(r))),Wt(this,wa).length!==e}clear(){Ki(this,wa,[])}size(){return Wt(this,wa).length}};wa=new WeakMap;function XO(t,e){return t&&e?r=>{t(r),e(r)}:t??e}function WNe(t){var e,r,n;const i={disableScheduler:(e=t.disableScheduler)!=null?e:!1,scheduleLookaheadMs:(r=t.scheduleLookaheadMs)!=null?r:200,scheduleIntervalMs:(n=t.scheduleIntervalMs)!=null?n:50,onStart:t.onStart,onEnded:t.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}var su,to,Cd,HNe=class{constructor(t,e={}){Ds(this,su,void 0),Ds(this,to,void 0),Ds(this,Cd,void 0),Ki(this,su,WNe(e)),Ki(this,to,new zNe((r,n)=>r.time-n.time)),this.player=t}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return Wt(this,Cd)!==void 0}start(t){var e;if(Wt(this,su).disableScheduler)return this.player.start(t);const r=this.player.context,n=r.currentTime,i=(e=t.time)!=null?e:n,s=Wt(this,su).scheduleLookaheadMs/1e3;return t.onStart=XO(t.onStart,Wt(this,su).onStart),t.onEnded=XO(t.onEnded,Wt(this,su).onEnded),i<n+s?this.player.start(t):(Wt(this,to).push(Iv(ym({},t),{time:i})),Wt(this,Cd)||Ki(this,Cd,setInterval(()=>{const a=r.currentTime+s;for(;Wt(this,to).size()&&Wt(this,to).peek().time<=a;){const o=Wt(this,to).pop();o&&this.player.start(o)}Wt(this,to).size()||(clearInterval(Wt(this,Cd)),Ki(this,Cd,void 0))},Wt(this,su).scheduleIntervalMs)),a=>{!a||a<i?Wt(this,to).removeAll(o=>o===t)||this.player.stop(Iv(ym({},t),{time:a})):this.player.stop(Iv(ym({},t),{time:a}))})}stop(t){var e;if(Wt(this,su).disableScheduler)return this.player.stop(t);if(this.player.stop(t),!t){Wt(this,to).clear();return}const r=(e=t==null?void 0:t.time)!=null?e:0,n=t==null?void 0:t.stopId;n?Wt(this,to).removeAll(i=>i.time>=r&&i.stopId?i.stopId===n:i.note===n):Wt(this,to).removeAll(i=>i.time>=r)}disconnect(){this.player.disconnect()}};su=new WeakMap;to=new WeakMap;Cd=new WeakMap;var zg,af,Wg,UNe=class{constructor(t,e){this.context=t,this.options=e,Ds(this,zg,void 0),Ds(this,af,!1),Ds(this,Wg,void 0);var r,n;Ki(this,zg,{velocityToGain:(r=e.velocityToGain)!=null?r:eH,destination:(n=e.destination)!=null?n:t.destination}),this.buffers={},Ki(this,Wg,ONe())}start(t){var e,r,n,i,s,a,o,l,u,c,h,f,m,g;if(Wt(this,af))throw new Error("Can't start a sample on disconnected player");const y=this.context,b=t.name&&this.buffers[t.name]||this.buffers[t.note];if(!b)return console.warn(`Sample not found: '${t.note}'`),()=>{};const x=y.createBufferSource();x.buffer=b;const v=(r=(e=t.detune)!=null?e:this.options.detune)!=null?r:0;x.detune?x.detune.value=v:x.playbackRate&&(x.playbackRate.value=Math.pow(2,v/1200));const w=(n=t.lpfCutoffHz)!=null?n:this.options.lpfCutoffHz,T=w?y.createBiquadFilter():void 0;w&&T&&(T.type="lowpass",T.frequency.value=w);const P=y.createGain(),C=(s=(i=t.velocity)!=null?i:this.options.velocity)!=null?s:100;P.gain.value=Wt(this,zg).velocityToGain(C),((a=t.loop)!=null?a:this.options.loop)&&(x.loop=!0,x.loopStart=(o=t.loopStart)!=null?o:0,x.loopEnd=(l=t.loopEnd)!=null?l:b.duration);const E=(u=t.decayTime)!=null?u:this.options.decayTime,[D,I]=GNe(y,E);function A(z){if(z??(z=y.currentTime),z<=L)x.stop(z);else{const F=I(z);x.stop(F)}}const W=t.gainOffset?y.createGain():void 0;W&&t.gainOffset&&(W.gain.value=t.gainOffset);const V=(c=t.stopId)!=null?c:t.note,$=$Ne([Lv([x,T,P,D,W,Wt(this,zg).destination]),(h=t.stop)==null?void 0:h.call(t,A),Wt(this,Wg).subscribe(z=>{(!z||z.stopId===void 0||z.stopId===V)&&A(z==null?void 0:z.time)})]);x.onended=()=>{var z;$(),(z=t.onEnded)==null||z.call(t,t)},(f=t.onStart)==null||f.call(t,t);const L=Math.max((m=t.time)!=null?m:0,y.currentTime);x.start(t.time);let H=(g=t.duration)!=null?g:b.duration;return typeof t.duration=="number"&&A(L+H),A}stop(t){Wt(this,Wg).trigger(t)}disconnect(){Wt(this,af)||(Ki(this,af,!0),this.stop(),Object.keys(this.buffers).forEach(t=>{delete this.buffers[t]}))}get connected(){return!Wt(this,af)}};zg=new WeakMap;af=new WeakMap;Wg=new WeakMap;function GNe(t,e=.2){let r=0;const n=t.createGain();n.gain.value=1;function i(s){if(r)return r;n.gain.cancelScheduledValues(s);const a=s||t.currentTime;return r=a+e,n.gain.setValueAtTime(1,a),n.gain.linearRampToValueAtTime(0,r),r}return[n,i]}var jNe=class{constructor(t,e){this.context=t;const r=new VNe(t,e);this.player=new HNe(new UNe(t,Iv(ym({},e),{destination:r.input})),e),this.output=r}get buffers(){return this.player.buffers}start(t){return this.player.start(t)}stop(t){this.player.stop(typeof t=="object"?t:t!==void 0?{stopId:t}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function YNe(t,e,r){return ix(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const n=yield r.fetch(e);if(n.status!==200){console.warn("Error loading buffer. Invalid status: ",n.status,e);return}try{const i=yield n.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function XNe(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let r=0;r<t.length;r++){const n=t[r],i=e.canPlayType(`audio/${n}`);if(i==="probably"||i==="maybe")return n;if(n==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return n}}return null}var qNe={fetch(t){return fetch(t)}};function KNe(t){const r=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!r)return;const n=r[1].toUpperCase();if(!n)return;const i=r[2],s=i[0]==="b"?-i.length:i.length,a=r[3]?+r[3]:4,o=(n.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][o]+s+12*(a+1)}function QNe(t){return t===void 0?void 0:typeof t=="number"?t:KNe(t)}var JNe="https://danigb.github.io/samples/splendid-grand-piano",TP,tH,ZNe=class{constructor(t,e){this.context=t,Ds(this,TP),this.options=Object.assign({baseUrl:JNe,storage:qNe,detune:0,volume:100,velocity:100,decayTime:.5},e),this.player=new jNe(t,this.options);const r=tEe(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=r(t,this.player.buffers).then(()=>this)}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return ix(this,null,function*(){return console.warn("deprecated: use load instead"),this.load})}start(t){var e,r;const n=typeof t=="object"?ym({},t):{note:t},i=FNe(this,TP,tH).call(this,n);return i?(n.note=i[0],n.stopId=(e=n.stopId)!=null?e:i[1],n.detune=i[2]+((r=n.detune)!=null?r:this.options.detune),this.player.start(n)):()=>{}}stop(t){return this.player.stop(t)}};TP=new WeakSet;tH=function(t){var e;const r=QNe(t.note);if(!r)return;const n=(e=t.velocity)!=null?e:this.options.velocity,i=sx.findIndex(a=>n>=a.vel_range[0]&&n<=a.vel_range[1]),s=sx[i];if(s)return eEe(s.name,r,this.player.buffers)};function eEe(t,e,r){let n=0;for(;r[t+(e+n)]===void 0&&n<128;)n>0?n=-n:n=-n+1;return n===127?[t+e,e,0]:[t+(e+n),e,-n*100]}function tEe(t,e,r){var n;const i=(n=XNe(["ogg","m4a"]))!=null?n:"ogg";let s=r?sx.filter(a=>a.vel_range[0]<=r.velocityRange[1]&&a.vel_range[1]>=r.velocityRange[0]):sx;return(a,o)=>ix(this,null,function*(){for(const l of s){const u=r?l.samples.filter(c=>r.notes.includes(c[0])):l.samples;yield Promise.all(u.map(c=>ix(this,[c],function*([h,f]){const m=`${t}/${f}.${i}`,g=yield YNe(a,m,e);g&&(o[l.name+h]=g)})))}})}var sx=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];function rEe(t){var e="",r="",n="";console.log("roman numeral",t.romanNumeral);for(let i=0;i<t.romanNumeral.length;i++){const s=t.romanNumeral[i];isNaN(parseInt(s))?n+=s:e===""?e=s:r=s}return console.log({superscript:e},{subscript:r}),_.jsxs("div",{style:{fontSize:200,color:"grey"},children:[n,_.jsxs("span",{style:{position:"absolute"},children:[_.jsx("sup",{style:{fontSize:80,display:"block",position:"relative"},children:e}),_.jsx("sub",{style:{fontSize:80,display:"block",position:"relative"},children:r})]})]})}var rH={exports:{}},Hg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hg.exports;var qO;function nEe(){return qO||(qO=1,function(t,e){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",h=1,f=2,m=4,g=1,y=2,b=1,x=2,v=4,w=8,T=16,P=32,C=64,M=128,E=256,D=512,I=30,A="...",W=800,V=16,$=1,L=2,H=3,z=1/0,F=9007199254740991,U=17976931348623157e292,q=NaN,ae=4294967295,he=ae-1,be=ae>>>1,pe=[["ary",M],["bind",b],["bindKey",x],["curry",w],["curryRight",T],["flip",D],["partial",P],["partialRight",C],["rearg",E]],ee="[object Arguments]",ce="[object Array]",ke="[object AsyncFunction]",Q="[object Boolean]",Z="[object Date]",le="[object DOMException]",ue="[object Error]",re="[object Function]",K="[object GeneratorFunction]",J="[object Map]",se="[object Number]",Me="[object Null]",Se="[object Object]",j="[object Promise]",ne="[object Proxy]",te="[object RegExp]",ge="[object Set]",Be="[object String]",Te="[object Symbol]",Ge="[object Undefined]",ot="[object WeakMap]",Et="[object WeakSet]",Lt="[object ArrayBuffer]",De="[object DataView]",_e="[object Float32Array]",Ne="[object Float64Array]",at="[object Int8Array]",ft="[object Int16Array]",Ze="[object Int32Array]",Mt="[object Uint8Array]",qe="[object Uint8ClampedArray]",Ye="[object Uint16Array]",xt="[object Uint32Array]",vt=/\b__p \+= '';/g,tr=/\b(__p \+=) '' \+/g,Er=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_r=/&(?:amp|lt|gt|quot|#39);/g,Tn=/[&<>"']/g,me=RegExp(_r.source),xe=RegExp(Tn.source),$e=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,Ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Qt=RegExp(kt.source),Or=/^\s+/,Vt=/\s/,xr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ur=/\{\n\/\* \[wrapped with (.+)\] \*/,Li=/,? & /,xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sn=/[()=,{}\[\]\/\s]/,fi=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,br=/\w*$/,ns=/^[-+]0x[0-9a-f]+$/i,Jn=/^0b[01]+$/i,Pi=/^\[object .+?Constructor\]$/,Uu=/^0o[0-7]+$/i,Do=/^(?:0|[1-9]\d*)$/,Yl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tr=/($^)/,jr=/['\n\r\u2028\u2029\\]/g,pi="\\ud800-\\udfff",Gu="\\u0300-\\u036f",ed="\\ufe20-\\ufe2f",Ip="\\u20d0-\\u20ff",l0=Gu+ed+Ip,u0="\\u2700-\\u27bf",c0="a-z\\xdf-\\xf6\\xf8-\\xff",Lp="\\xac\\xb1\\xd7\\xf7",nH="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",iH="\\u2000-\\u206f",sH=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tE="A-Z\\xc0-\\xd6\\xd8-\\xde",rE="\\ufe0e\\ufe0f",nE=Lp+nH+iH+sH,fS="[']",aH="["+pi+"]",iE="["+nE+"]",d0="["+l0+"]",sE="\\d+",oH="["+u0+"]",aE="["+c0+"]",oE="[^"+pi+nE+sE+u0+c0+tE+"]",pS="\\ud83c[\\udffb-\\udfff]",lH="(?:"+d0+"|"+pS+")",lE="[^"+pi+"]",gS="(?:\\ud83c[\\udde6-\\uddff]){2}",mS="[\\ud800-\\udbff][\\udc00-\\udfff]",_h="["+tE+"]",uE="\\u200d",cE="(?:"+aE+"|"+oE+")",uH="(?:"+_h+"|"+oE+")",dE="(?:"+fS+"(?:d|ll|m|re|s|t|ve))?",hE="(?:"+fS+"(?:D|LL|M|RE|S|T|VE))?",fE=lH+"?",pE="["+rE+"]?",cH="(?:"+uE+"(?:"+[lE,gS,mS].join("|")+")"+pE+fE+")*",dH="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hH="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gE=pE+fE+cH,fH="(?:"+[oH,gS,mS].join("|")+")"+gE,pH="(?:"+[lE+d0+"?",d0,gS,mS,aH].join("|")+")",gH=RegExp(fS,"g"),mH=RegExp(d0,"g"),yS=RegExp(pS+"(?="+pS+")|"+pH+gE,"g"),yH=RegExp([_h+"?"+aE+"+"+dE+"(?="+[iE,_h,"$"].join("|")+")",uH+"+"+hE+"(?="+[iE,_h+cE,"$"].join("|")+")",_h+"?"+cE+"+"+dE,_h+"+"+hE,hH,dH,sE,fH].join("|"),"g"),bH=RegExp("["+uE+pi+l0+rE+"]"),vH=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wH=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xH=-1,Pn={};Pn[_e]=Pn[Ne]=Pn[at]=Pn[ft]=Pn[Ze]=Pn[Mt]=Pn[qe]=Pn[Ye]=Pn[xt]=!0,Pn[ee]=Pn[ce]=Pn[Lt]=Pn[Q]=Pn[De]=Pn[Z]=Pn[ue]=Pn[re]=Pn[J]=Pn[se]=Pn[Se]=Pn[te]=Pn[ge]=Pn[Be]=Pn[ot]=!1;var kn={};kn[ee]=kn[ce]=kn[Lt]=kn[De]=kn[Q]=kn[Z]=kn[_e]=kn[Ne]=kn[at]=kn[ft]=kn[Ze]=kn[J]=kn[se]=kn[Se]=kn[te]=kn[ge]=kn[Be]=kn[Te]=kn[Mt]=kn[qe]=kn[Ye]=kn[xt]=!0,kn[ue]=kn[re]=kn[ot]=!1;var SH={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},kH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_H={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CH={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},TH=parseFloat,PH=parseInt,mE=typeof ws=="object"&&ws&&ws.Object===Object&&ws,BH=typeof self=="object"&&self&&self.Object===Object&&self,is=mE||BH||Function("return this")(),bS=e&&!e.nodeType&&e,td=bS&&!0&&t&&!t.nodeType&&t,yE=td&&td.exports===bS,vS=yE&&mE.process,Ga=function(){try{var ve=td&&td.require&&td.require("util").types;return ve||vS&&vS.binding&&vS.binding("util")}catch{}}(),bE=Ga&&Ga.isArrayBuffer,vE=Ga&&Ga.isDate,wE=Ga&&Ga.isMap,xE=Ga&&Ga.isRegExp,SE=Ga&&Ga.isSet,kE=Ga&&Ga.isTypedArray;function pa(ve,We,Ee){switch(Ee.length){case 0:return ve.call(We);case 1:return ve.call(We,Ee[0]);case 2:return ve.call(We,Ee[0],Ee[1]);case 3:return ve.call(We,Ee[0],Ee[1],Ee[2])}return ve.apply(We,Ee)}function MH(ve,We,Ee,Ct){for(var ur=-1,Zr=ve==null?0:ve.length;++ur<Zr;){var Fi=ve[ur];We(Ct,Fi,Ee(Fi),ve)}return Ct}function ja(ve,We){for(var Ee=-1,Ct=ve==null?0:ve.length;++Ee<Ct&&We(ve[Ee],Ee,ve)!==!1;);return ve}function NH(ve,We){for(var Ee=ve==null?0:ve.length;Ee--&&We(ve[Ee],Ee,ve)!==!1;);return ve}function _E(ve,We){for(var Ee=-1,Ct=ve==null?0:ve.length;++Ee<Ct;)if(!We(ve[Ee],Ee,ve))return!1;return!0}function ju(ve,We){for(var Ee=-1,Ct=ve==null?0:ve.length,ur=0,Zr=[];++Ee<Ct;){var Fi=ve[Ee];We(Fi,Ee,ve)&&(Zr[ur++]=Fi)}return Zr}function h0(ve,We){var Ee=ve==null?0:ve.length;return!!Ee&&Ch(ve,We,0)>-1}function wS(ve,We,Ee){for(var Ct=-1,ur=ve==null?0:ve.length;++Ct<ur;)if(Ee(We,ve[Ct]))return!0;return!1}function Ln(ve,We){for(var Ee=-1,Ct=ve==null?0:ve.length,ur=Array(Ct);++Ee<Ct;)ur[Ee]=We(ve[Ee],Ee,ve);return ur}function Yu(ve,We){for(var Ee=-1,Ct=We.length,ur=ve.length;++Ee<Ct;)ve[ur+Ee]=We[Ee];return ve}function xS(ve,We,Ee,Ct){var ur=-1,Zr=ve==null?0:ve.length;for(Ct&&Zr&&(Ee=ve[++ur]);++ur<Zr;)Ee=We(Ee,ve[ur],ur,ve);return Ee}function EH(ve,We,Ee,Ct){var ur=ve==null?0:ve.length;for(Ct&&ur&&(Ee=ve[--ur]);ur--;)Ee=We(Ee,ve[ur],ur,ve);return Ee}function SS(ve,We){for(var Ee=-1,Ct=ve==null?0:ve.length;++Ee<Ct;)if(We(ve[Ee],Ee,ve))return!0;return!1}var RH=kS("length");function DH(ve){return ve.split("")}function IH(ve){return ve.match(xn)||[]}function CE(ve,We,Ee){var Ct;return Ee(ve,function(ur,Zr,Fi){if(We(ur,Zr,Fi))return Ct=Zr,!1}),Ct}function f0(ve,We,Ee,Ct){for(var ur=ve.length,Zr=Ee+(Ct?1:-1);Ct?Zr--:++Zr<ur;)if(We(ve[Zr],Zr,ve))return Zr;return-1}function Ch(ve,We,Ee){return We===We?jH(ve,We,Ee):f0(ve,TE,Ee)}function LH(ve,We,Ee,Ct){for(var ur=Ee-1,Zr=ve.length;++ur<Zr;)if(Ct(ve[ur],We))return ur;return-1}function TE(ve){return ve!==ve}function PE(ve,We){var Ee=ve==null?0:ve.length;return Ee?CS(ve,We)/Ee:q}function kS(ve){return function(We){return We==null?r:We[ve]}}function _S(ve){return function(We){return ve==null?r:ve[We]}}function BE(ve,We,Ee,Ct,ur){return ur(ve,function(Zr,Fi,mn){Ee=Ct?(Ct=!1,Zr):We(Ee,Zr,Fi,mn)}),Ee}function FH(ve,We){var Ee=ve.length;for(ve.sort(We);Ee--;)ve[Ee]=ve[Ee].value;return ve}function CS(ve,We){for(var Ee,Ct=-1,ur=ve.length;++Ct<ur;){var Zr=We(ve[Ct]);Zr!==r&&(Ee=Ee===r?Zr:Ee+Zr)}return Ee}function TS(ve,We){for(var Ee=-1,Ct=Array(ve);++Ee<ve;)Ct[Ee]=We(Ee);return Ct}function AH(ve,We){return Ln(We,function(Ee){return[Ee,ve[Ee]]})}function ME(ve){return ve&&ve.slice(0,DE(ve)+1).replace(Or,"")}function ga(ve){return function(We){return ve(We)}}function PS(ve,We){return Ln(We,function(Ee){return ve[Ee]})}function Fp(ve,We){return ve.has(We)}function NE(ve,We){for(var Ee=-1,Ct=ve.length;++Ee<Ct&&Ch(We,ve[Ee],0)>-1;);return Ee}function EE(ve,We){for(var Ee=ve.length;Ee--&&Ch(We,ve[Ee],0)>-1;);return Ee}function OH(ve,We){for(var Ee=ve.length,Ct=0;Ee--;)ve[Ee]===We&&++Ct;return Ct}var $H=_S(SH),VH=_S(kH);function zH(ve){return"\\"+CH[ve]}function WH(ve,We){return ve==null?r:ve[We]}function Th(ve){return bH.test(ve)}function HH(ve){return vH.test(ve)}function UH(ve){for(var We,Ee=[];!(We=ve.next()).done;)Ee.push(We.value);return Ee}function BS(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Ct,ur){Ee[++We]=[ur,Ct]}),Ee}function RE(ve,We){return function(Ee){return ve(We(Ee))}}function Xu(ve,We){for(var Ee=-1,Ct=ve.length,ur=0,Zr=[];++Ee<Ct;){var Fi=ve[Ee];(Fi===We||Fi===c)&&(ve[Ee]=c,Zr[ur++]=Ee)}return Zr}function p0(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Ct){Ee[++We]=Ct}),Ee}function GH(ve){var We=-1,Ee=Array(ve.size);return ve.forEach(function(Ct){Ee[++We]=[Ct,Ct]}),Ee}function jH(ve,We,Ee){for(var Ct=Ee-1,ur=ve.length;++Ct<ur;)if(ve[Ct]===We)return Ct;return-1}function YH(ve,We,Ee){for(var Ct=Ee+1;Ct--;)if(ve[Ct]===We)return Ct;return Ct}function Ph(ve){return Th(ve)?qH(ve):RH(ve)}function Io(ve){return Th(ve)?KH(ve):DH(ve)}function DE(ve){for(var We=ve.length;We--&&Vt.test(ve.charAt(We)););return We}var XH=_S(_H);function qH(ve){for(var We=yS.lastIndex=0;yS.test(ve);)++We;return We}function KH(ve){return ve.match(yS)||[]}function QH(ve){return ve.match(yH)||[]}var JH=function ve(We){We=We==null?is:Bh.defaults(is.Object(),We,Bh.pick(is,wH));var Ee=We.Array,Ct=We.Date,ur=We.Error,Zr=We.Function,Fi=We.Math,mn=We.Object,MS=We.RegExp,ZH=We.String,Ya=We.TypeError,g0=Ee.prototype,eU=Zr.prototype,Mh=mn.prototype,m0=We["__core-js_shared__"],y0=eU.toString,an=Mh.hasOwnProperty,tU=0,IE=function(){var d=/[^.]+$/.exec(m0&&m0.keys&&m0.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),b0=Mh.toString,rU=y0.call(mn),nU=is._,iU=MS("^"+y0.call(an).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v0=yE?We.Buffer:r,qu=We.Symbol,w0=We.Uint8Array,LE=v0?v0.allocUnsafe:r,x0=RE(mn.getPrototypeOf,mn),FE=mn.create,AE=Mh.propertyIsEnumerable,S0=g0.splice,OE=qu?qu.isConcatSpreadable:r,Ap=qu?qu.iterator:r,rd=qu?qu.toStringTag:r,k0=function(){try{var d=od(mn,"defineProperty");return d({},"",{}),d}catch{}}(),sU=We.clearTimeout!==is.clearTimeout&&We.clearTimeout,aU=Ct&&Ct.now!==is.Date.now&&Ct.now,oU=We.setTimeout!==is.setTimeout&&We.setTimeout,_0=Fi.ceil,C0=Fi.floor,NS=mn.getOwnPropertySymbols,lU=v0?v0.isBuffer:r,$E=We.isFinite,uU=g0.join,cU=RE(mn.keys,mn),Ai=Fi.max,ps=Fi.min,dU=Ct.now,hU=We.parseInt,VE=Fi.random,fU=g0.reverse,ES=od(We,"DataView"),Op=od(We,"Map"),RS=od(We,"Promise"),Nh=od(We,"Set"),$p=od(We,"WeakMap"),Vp=od(mn,"create"),T0=$p&&new $p,Eh={},pU=ld(ES),gU=ld(Op),mU=ld(RS),yU=ld(Nh),bU=ld($p),P0=qu?qu.prototype:r,zp=P0?P0.valueOf:r,zE=P0?P0.toString:r;function G(d){if(Zn(d)&&!fr(d)&&!(d instanceof $r)){if(d instanceof Xa)return d;if(an.call(d,"__wrapped__"))return WR(d)}return new Xa(d)}var Rh=function(){function d(){}return function(p){if(!Hn(p))return{};if(FE)return FE(p);d.prototype=p;var S=new d;return d.prototype=r,S}}();function B0(){}function Xa(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=r}G.templateSettings={escape:$e,evaluate:rt,interpolate:gt,variable:"",imports:{_:G}},G.prototype=B0.prototype,G.prototype.constructor=G,Xa.prototype=Rh(B0.prototype),Xa.prototype.constructor=Xa;function $r(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function vU(){var d=new $r(this.__wrapped__);return d.__actions__=Us(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Us(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Us(this.__views__),d}function wU(){if(this.__filtered__){var d=new $r(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function xU(){var d=this.__wrapped__.value(),p=this.__dir__,S=fr(d),N=p<0,O=S?d.length:0,Y=D7(0,O,this.__views__),ie=Y.start,fe=Y.end,we=fe-ie,Xe=N?fe:ie-1,Ke=this.__iteratees__,et=Ke.length,wt=0,It=ps(we,this.__takeCount__);if(!S||!N&&O==we&&It==we)return dR(d,this.__actions__);var rr=[];e:for(;we--&&wt<It;){Xe+=p;for(var Cr=-1,nr=d[Xe];++Cr<et;){var Dr=Ke[Cr],Wr=Dr.iteratee,ba=Dr.type,Ps=Wr(nr);if(ba==L)nr=Ps;else if(!Ps){if(ba==$)continue e;break e}}rr[wt++]=nr}return rr}$r.prototype=Rh(B0.prototype),$r.prototype.constructor=$r;function nd(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function SU(){this.__data__=Vp?Vp(null):{},this.size=0}function kU(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function _U(d){var p=this.__data__;if(Vp){var S=p[d];return S===l?r:S}return an.call(p,d)?p[d]:r}function CU(d){var p=this.__data__;return Vp?p[d]!==r:an.call(p,d)}function TU(d,p){var S=this.__data__;return this.size+=this.has(d)?0:1,S[d]=Vp&&p===r?l:p,this}nd.prototype.clear=SU,nd.prototype.delete=kU,nd.prototype.get=_U,nd.prototype.has=CU,nd.prototype.set=TU;function Xl(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function PU(){this.__data__=[],this.size=0}function BU(d){var p=this.__data__,S=M0(p,d);if(S<0)return!1;var N=p.length-1;return S==N?p.pop():S0.call(p,S,1),--this.size,!0}function MU(d){var p=this.__data__,S=M0(p,d);return S<0?r:p[S][1]}function NU(d){return M0(this.__data__,d)>-1}function EU(d,p){var S=this.__data__,N=M0(S,d);return N<0?(++this.size,S.push([d,p])):S[N][1]=p,this}Xl.prototype.clear=PU,Xl.prototype.delete=BU,Xl.prototype.get=MU,Xl.prototype.has=NU,Xl.prototype.set=EU;function ql(d){var p=-1,S=d==null?0:d.length;for(this.clear();++p<S;){var N=d[p];this.set(N[0],N[1])}}function RU(){this.size=0,this.__data__={hash:new nd,map:new(Op||Xl),string:new nd}}function DU(d){var p=z0(this,d).delete(d);return this.size-=p?1:0,p}function IU(d){return z0(this,d).get(d)}function LU(d){return z0(this,d).has(d)}function FU(d,p){var S=z0(this,d),N=S.size;return S.set(d,p),this.size+=S.size==N?0:1,this}ql.prototype.clear=RU,ql.prototype.delete=DU,ql.prototype.get=IU,ql.prototype.has=LU,ql.prototype.set=FU;function id(d){var p=-1,S=d==null?0:d.length;for(this.__data__=new ql;++p<S;)this.add(d[p])}function AU(d){return this.__data__.set(d,l),this}function OU(d){return this.__data__.has(d)}id.prototype.add=id.prototype.push=AU,id.prototype.has=OU;function Lo(d){var p=this.__data__=new Xl(d);this.size=p.size}function $U(){this.__data__=new Xl,this.size=0}function VU(d){var p=this.__data__,S=p.delete(d);return this.size=p.size,S}function zU(d){return this.__data__.get(d)}function WU(d){return this.__data__.has(d)}function HU(d,p){var S=this.__data__;if(S instanceof Xl){var N=S.__data__;if(!Op||N.length<i-1)return N.push([d,p]),this.size=++S.size,this;S=this.__data__=new ql(N)}return S.set(d,p),this.size=S.size,this}Lo.prototype.clear=$U,Lo.prototype.delete=VU,Lo.prototype.get=zU,Lo.prototype.has=WU,Lo.prototype.set=HU;function WE(d,p){var S=fr(d),N=!S&&ud(d),O=!S&&!N&&ec(d),Y=!S&&!N&&!O&&Fh(d),ie=S||N||O||Y,fe=ie?TS(d.length,ZH):[],we=fe.length;for(var Xe in d)(p||an.call(d,Xe))&&!(ie&&(Xe=="length"||O&&(Xe=="offset"||Xe=="parent")||Y&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||Zl(Xe,we)))&&fe.push(Xe);return fe}function HE(d){var p=d.length;return p?d[HS(0,p-1)]:r}function UU(d,p){return W0(Us(d),sd(p,0,d.length))}function GU(d){return W0(Us(d))}function DS(d,p,S){(S!==r&&!Fo(d[p],S)||S===r&&!(p in d))&&Kl(d,p,S)}function Wp(d,p,S){var N=d[p];(!(an.call(d,p)&&Fo(N,S))||S===r&&!(p in d))&&Kl(d,p,S)}function M0(d,p){for(var S=d.length;S--;)if(Fo(d[S][0],p))return S;return-1}function jU(d,p,S,N){return Ku(d,function(O,Y,ie){p(N,O,S(O),ie)}),N}function UE(d,p){return d&&bl(p,Yi(p),d)}function YU(d,p){return d&&bl(p,js(p),d)}function Kl(d,p,S){p=="__proto__"&&k0?k0(d,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):d[p]=S}function IS(d,p){for(var S=-1,N=p.length,O=Ee(N),Y=d==null;++S<N;)O[S]=Y?r:pk(d,p[S]);return O}function sd(d,p,S){return d===d&&(S!==r&&(d=d<=S?d:S),p!==r&&(d=d>=p?d:p)),d}function qa(d,p,S,N,O,Y){var ie,fe=p&h,we=p&f,Xe=p&m;if(S&&(ie=O?S(d,N,O,Y):S(d)),ie!==r)return ie;if(!Hn(d))return d;var Ke=fr(d);if(Ke){if(ie=L7(d),!fe)return Us(d,ie)}else{var et=gs(d),wt=et==re||et==K;if(ec(d))return pR(d,fe);if(et==Se||et==ee||wt&&!O){if(ie=we||wt?{}:DR(d),!fe)return we?_7(d,YU(ie,d)):k7(d,UE(ie,d))}else{if(!kn[et])return O?d:{};ie=F7(d,et,fe)}}Y||(Y=new Lo);var It=Y.get(d);if(It)return It;Y.set(d,ie),l2(d)?d.forEach(function(nr){ie.add(qa(nr,p,S,nr,d,Y))}):a2(d)&&d.forEach(function(nr,Dr){ie.set(Dr,qa(nr,p,S,Dr,d,Y))});var rr=Xe?we?ek:ZS:we?js:Yi,Cr=Ke?r:rr(d);return ja(Cr||d,function(nr,Dr){Cr&&(Dr=nr,nr=d[Dr]),Wp(ie,Dr,qa(nr,p,S,Dr,d,Y))}),ie}function XU(d){var p=Yi(d);return function(S){return GE(S,d,p)}}function GE(d,p,S){var N=S.length;if(d==null)return!N;for(d=mn(d);N--;){var O=S[N],Y=p[O],ie=d[O];if(ie===r&&!(O in d)||!Y(ie))return!1}return!0}function jE(d,p,S){if(typeof d!="function")throw new Ya(a);return qp(function(){d.apply(r,S)},p)}function Hp(d,p,S,N){var O=-1,Y=h0,ie=!0,fe=d.length,we=[],Xe=p.length;if(!fe)return we;S&&(p=Ln(p,ga(S))),N?(Y=wS,ie=!1):p.length>=i&&(Y=Fp,ie=!1,p=new id(p));e:for(;++O<fe;){var Ke=d[O],et=S==null?Ke:S(Ke);if(Ke=N||Ke!==0?Ke:0,ie&&et===et){for(var wt=Xe;wt--;)if(p[wt]===et)continue e;we.push(Ke)}else Y(p,et,N)||we.push(Ke)}return we}var Ku=vR(yl),YE=vR(FS,!0);function qU(d,p){var S=!0;return Ku(d,function(N,O,Y){return S=!!p(N,O,Y),S}),S}function N0(d,p,S){for(var N=-1,O=d.length;++N<O;){var Y=d[N],ie=p(Y);if(ie!=null&&(fe===r?ie===ie&&!ya(ie):S(ie,fe)))var fe=ie,we=Y}return we}function KU(d,p,S,N){var O=d.length;for(S=Sr(S),S<0&&(S=-S>O?0:O+S),N=N===r||N>O?O:Sr(N),N<0&&(N+=O),N=S>N?0:c2(N);S<N;)d[S++]=p;return d}function XE(d,p){var S=[];return Ku(d,function(N,O,Y){p(N,O,Y)&&S.push(N)}),S}function ss(d,p,S,N,O){var Y=-1,ie=d.length;for(S||(S=O7),O||(O=[]);++Y<ie;){var fe=d[Y];p>0&&S(fe)?p>1?ss(fe,p-1,S,N,O):Yu(O,fe):N||(O[O.length]=fe)}return O}var LS=wR(),qE=wR(!0);function yl(d,p){return d&&LS(d,p,Yi)}function FS(d,p){return d&&qE(d,p,Yi)}function E0(d,p){return ju(p,function(S){return eu(d[S])})}function ad(d,p){p=Ju(p,d);for(var S=0,N=p.length;d!=null&&S<N;)d=d[vl(p[S++])];return S&&S==N?d:r}function KE(d,p,S){var N=p(d);return fr(d)?N:Yu(N,S(d))}function Cs(d){return d==null?d===r?Ge:Me:rd&&rd in mn(d)?R7(d):G7(d)}function AS(d,p){return d>p}function QU(d,p){return d!=null&&an.call(d,p)}function JU(d,p){return d!=null&&p in mn(d)}function ZU(d,p,S){return d>=ps(p,S)&&d<Ai(p,S)}function OS(d,p,S){for(var N=S?wS:h0,O=d[0].length,Y=d.length,ie=Y,fe=Ee(Y),we=1/0,Xe=[];ie--;){var Ke=d[ie];ie&&p&&(Ke=Ln(Ke,ga(p))),we=ps(Ke.length,we),fe[ie]=!S&&(p||O>=120&&Ke.length>=120)?new id(ie&&Ke):r}Ke=d[0];var et=-1,wt=fe[0];e:for(;++et<O&&Xe.length<we;){var It=Ke[et],rr=p?p(It):It;if(It=S||It!==0?It:0,!(wt?Fp(wt,rr):N(Xe,rr,S))){for(ie=Y;--ie;){var Cr=fe[ie];if(!(Cr?Fp(Cr,rr):N(d[ie],rr,S)))continue e}wt&&wt.push(rr),Xe.push(It)}}return Xe}function e7(d,p,S,N){return yl(d,function(O,Y,ie){p(N,S(O),Y,ie)}),N}function Up(d,p,S){p=Ju(p,d),d=AR(d,p);var N=d==null?d:d[vl(Qa(p))];return N==null?r:pa(N,d,S)}function QE(d){return Zn(d)&&Cs(d)==ee}function t7(d){return Zn(d)&&Cs(d)==Lt}function r7(d){return Zn(d)&&Cs(d)==Z}function Gp(d,p,S,N,O){return d===p?!0:d==null||p==null||!Zn(d)&&!Zn(p)?d!==d&&p!==p:n7(d,p,S,N,Gp,O)}function n7(d,p,S,N,O,Y){var ie=fr(d),fe=fr(p),we=ie?ce:gs(d),Xe=fe?ce:gs(p);we=we==ee?Se:we,Xe=Xe==ee?Se:Xe;var Ke=we==Se,et=Xe==Se,wt=we==Xe;if(wt&&ec(d)){if(!ec(p))return!1;ie=!0,Ke=!1}if(wt&&!Ke)return Y||(Y=new Lo),ie||Fh(d)?NR(d,p,S,N,O,Y):N7(d,p,we,S,N,O,Y);if(!(S&g)){var It=Ke&&an.call(d,"__wrapped__"),rr=et&&an.call(p,"__wrapped__");if(It||rr){var Cr=It?d.value():d,nr=rr?p.value():p;return Y||(Y=new Lo),O(Cr,nr,S,N,Y)}}return wt?(Y||(Y=new Lo),E7(d,p,S,N,O,Y)):!1}function i7(d){return Zn(d)&&gs(d)==J}function $S(d,p,S,N){var O=S.length,Y=O,ie=!N;if(d==null)return!Y;for(d=mn(d);O--;){var fe=S[O];if(ie&&fe[2]?fe[1]!==d[fe[0]]:!(fe[0]in d))return!1}for(;++O<Y;){fe=S[O];var we=fe[0],Xe=d[we],Ke=fe[1];if(ie&&fe[2]){if(Xe===r&&!(we in d))return!1}else{var et=new Lo;if(N)var wt=N(Xe,Ke,we,d,p,et);if(!(wt===r?Gp(Ke,Xe,g|y,N,et):wt))return!1}}return!0}function JE(d){if(!Hn(d)||V7(d))return!1;var p=eu(d)?iU:Pi;return p.test(ld(d))}function s7(d){return Zn(d)&&Cs(d)==te}function a7(d){return Zn(d)&&gs(d)==ge}function o7(d){return Zn(d)&&X0(d.length)&&!!Pn[Cs(d)]}function ZE(d){return typeof d=="function"?d:d==null?Ys:typeof d=="object"?fr(d)?rR(d[0],d[1]):tR(d):x2(d)}function VS(d){if(!Xp(d))return cU(d);var p=[];for(var S in mn(d))an.call(d,S)&&S!="constructor"&&p.push(S);return p}function l7(d){if(!Hn(d))return U7(d);var p=Xp(d),S=[];for(var N in d)N=="constructor"&&(p||!an.call(d,N))||S.push(N);return S}function zS(d,p){return d<p}function eR(d,p){var S=-1,N=Gs(d)?Ee(d.length):[];return Ku(d,function(O,Y,ie){N[++S]=p(O,Y,ie)}),N}function tR(d){var p=rk(d);return p.length==1&&p[0][2]?LR(p[0][0],p[0][1]):function(S){return S===d||$S(S,d,p)}}function rR(d,p){return ik(d)&&IR(p)?LR(vl(d),p):function(S){var N=pk(S,d);return N===r&&N===p?gk(S,d):Gp(p,N,g|y)}}function R0(d,p,S,N,O){d!==p&&LS(p,function(Y,ie){if(O||(O=new Lo),Hn(Y))u7(d,p,ie,S,R0,N,O);else{var fe=N?N(ak(d,ie),Y,ie+"",d,p,O):r;fe===r&&(fe=Y),DS(d,ie,fe)}},js)}function u7(d,p,S,N,O,Y,ie){var fe=ak(d,S),we=ak(p,S),Xe=ie.get(we);if(Xe){DS(d,S,Xe);return}var Ke=Y?Y(fe,we,S+"",d,p,ie):r,et=Ke===r;if(et){var wt=fr(we),It=!wt&&ec(we),rr=!wt&&!It&&Fh(we);Ke=we,wt||It||rr?fr(fe)?Ke=fe:gi(fe)?Ke=Us(fe):It?(et=!1,Ke=pR(we,!0)):rr?(et=!1,Ke=gR(we,!0)):Ke=[]:Kp(we)||ud(we)?(Ke=fe,ud(fe)?Ke=d2(fe):(!Hn(fe)||eu(fe))&&(Ke=DR(we))):et=!1}et&&(ie.set(we,Ke),O(Ke,we,N,Y,ie),ie.delete(we)),DS(d,S,Ke)}function nR(d,p){var S=d.length;if(S)return p+=p<0?S:0,Zl(p,S)?d[p]:r}function iR(d,p,S){p.length?p=Ln(p,function(Y){return fr(Y)?function(ie){return ad(ie,Y.length===1?Y[0]:Y)}:Y}):p=[Ys];var N=-1;p=Ln(p,ga(er()));var O=eR(d,function(Y,ie,fe){var we=Ln(p,function(Xe){return Xe(Y)});return{criteria:we,index:++N,value:Y}});return FH(O,function(Y,ie){return S7(Y,ie,S)})}function c7(d,p){return sR(d,p,function(S,N){return gk(d,N)})}function sR(d,p,S){for(var N=-1,O=p.length,Y={};++N<O;){var ie=p[N],fe=ad(d,ie);S(fe,ie)&&jp(Y,Ju(ie,d),fe)}return Y}function d7(d){return function(p){return ad(p,d)}}function WS(d,p,S,N){var O=N?LH:Ch,Y=-1,ie=p.length,fe=d;for(d===p&&(p=Us(p)),S&&(fe=Ln(d,ga(S)));++Y<ie;)for(var we=0,Xe=p[Y],Ke=S?S(Xe):Xe;(we=O(fe,Ke,we,N))>-1;)fe!==d&&S0.call(fe,we,1),S0.call(d,we,1);return d}function aR(d,p){for(var S=d?p.length:0,N=S-1;S--;){var O=p[S];if(S==N||O!==Y){var Y=O;Zl(O)?S0.call(d,O,1):jS(d,O)}}return d}function HS(d,p){return d+C0(VE()*(p-d+1))}function h7(d,p,S,N){for(var O=-1,Y=Ai(_0((p-d)/(S||1)),0),ie=Ee(Y);Y--;)ie[N?Y:++O]=d,d+=S;return ie}function US(d,p){var S="";if(!d||p<1||p>F)return S;do p%2&&(S+=d),p=C0(p/2),p&&(d+=d);while(p);return S}function Pr(d,p){return ok(FR(d,p,Ys),d+"")}function f7(d){return HE(Ah(d))}function p7(d,p){var S=Ah(d);return W0(S,sd(p,0,S.length))}function jp(d,p,S,N){if(!Hn(d))return d;p=Ju(p,d);for(var O=-1,Y=p.length,ie=Y-1,fe=d;fe!=null&&++O<Y;){var we=vl(p[O]),Xe=S;if(we==="__proto__"||we==="constructor"||we==="prototype")return d;if(O!=ie){var Ke=fe[we];Xe=N?N(Ke,we,fe):r,Xe===r&&(Xe=Hn(Ke)?Ke:Zl(p[O+1])?[]:{})}Wp(fe,we,Xe),fe=fe[we]}return d}var oR=T0?function(d,p){return T0.set(d,p),d}:Ys,g7=k0?function(d,p){return k0(d,"toString",{configurable:!0,enumerable:!1,value:yk(p),writable:!0})}:Ys;function m7(d){return W0(Ah(d))}function Ka(d,p,S){var N=-1,O=d.length;p<0&&(p=-p>O?0:O+p),S=S>O?O:S,S<0&&(S+=O),O=p>S?0:S-p>>>0,p>>>=0;for(var Y=Ee(O);++N<O;)Y[N]=d[N+p];return Y}function y7(d,p){var S;return Ku(d,function(N,O,Y){return S=p(N,O,Y),!S}),!!S}function D0(d,p,S){var N=0,O=d==null?N:d.length;if(typeof p=="number"&&p===p&&O<=be){for(;N<O;){var Y=N+O>>>1,ie=d[Y];ie!==null&&!ya(ie)&&(S?ie<=p:ie<p)?N=Y+1:O=Y}return O}return GS(d,p,Ys,S)}function GS(d,p,S,N){var O=0,Y=d==null?0:d.length;if(Y===0)return 0;p=S(p);for(var ie=p!==p,fe=p===null,we=ya(p),Xe=p===r;O<Y;){var Ke=C0((O+Y)/2),et=S(d[Ke]),wt=et!==r,It=et===null,rr=et===et,Cr=ya(et);if(ie)var nr=N||rr;else Xe?nr=rr&&(N||wt):fe?nr=rr&&wt&&(N||!It):we?nr=rr&&wt&&!It&&(N||!Cr):It||Cr?nr=!1:nr=N?et<=p:et<p;nr?O=Ke+1:Y=Ke}return ps(Y,he)}function lR(d,p){for(var S=-1,N=d.length,O=0,Y=[];++S<N;){var ie=d[S],fe=p?p(ie):ie;if(!S||!Fo(fe,we)){var we=fe;Y[O++]=ie===0?0:ie}}return Y}function uR(d){return typeof d=="number"?d:ya(d)?q:+d}function ma(d){if(typeof d=="string")return d;if(fr(d))return Ln(d,ma)+"";if(ya(d))return zE?zE.call(d):"";var p=d+"";return p=="0"&&1/d==-z?"-0":p}function Qu(d,p,S){var N=-1,O=h0,Y=d.length,ie=!0,fe=[],we=fe;if(S)ie=!1,O=wS;else if(Y>=i){var Xe=p?null:B7(d);if(Xe)return p0(Xe);ie=!1,O=Fp,we=new id}else we=p?[]:fe;e:for(;++N<Y;){var Ke=d[N],et=p?p(Ke):Ke;if(Ke=S||Ke!==0?Ke:0,ie&&et===et){for(var wt=we.length;wt--;)if(we[wt]===et)continue e;p&&we.push(et),fe.push(Ke)}else O(we,et,S)||(we!==fe&&we.push(et),fe.push(Ke))}return fe}function jS(d,p){return p=Ju(p,d),d=AR(d,p),d==null||delete d[vl(Qa(p))]}function cR(d,p,S,N){return jp(d,p,S(ad(d,p)),N)}function I0(d,p,S,N){for(var O=d.length,Y=N?O:-1;(N?Y--:++Y<O)&&p(d[Y],Y,d););return S?Ka(d,N?0:Y,N?Y+1:O):Ka(d,N?Y+1:0,N?O:Y)}function dR(d,p){var S=d;return S instanceof $r&&(S=S.value()),xS(p,function(N,O){return O.func.apply(O.thisArg,Yu([N],O.args))},S)}function YS(d,p,S){var N=d.length;if(N<2)return N?Qu(d[0]):[];for(var O=-1,Y=Ee(N);++O<N;)for(var ie=d[O],fe=-1;++fe<N;)fe!=O&&(Y[O]=Hp(Y[O]||ie,d[fe],p,S));return Qu(ss(Y,1),p,S)}function hR(d,p,S){for(var N=-1,O=d.length,Y=p.length,ie={};++N<O;){var fe=N<Y?p[N]:r;S(ie,d[N],fe)}return ie}function XS(d){return gi(d)?d:[]}function qS(d){return typeof d=="function"?d:Ys}function Ju(d,p){return fr(d)?d:ik(d,p)?[d]:zR(rn(d))}var b7=Pr;function Zu(d,p,S){var N=d.length;return S=S===r?N:S,!p&&S>=N?d:Ka(d,p,S)}var fR=sU||function(d){return is.clearTimeout(d)};function pR(d,p){if(p)return d.slice();var S=d.length,N=LE?LE(S):new d.constructor(S);return d.copy(N),N}function KS(d){var p=new d.constructor(d.byteLength);return new w0(p).set(new w0(d)),p}function v7(d,p){var S=p?KS(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.byteLength)}function w7(d){var p=new d.constructor(d.source,br.exec(d));return p.lastIndex=d.lastIndex,p}function x7(d){return zp?mn(zp.call(d)):{}}function gR(d,p){var S=p?KS(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.length)}function mR(d,p){if(d!==p){var S=d!==r,N=d===null,O=d===d,Y=ya(d),ie=p!==r,fe=p===null,we=p===p,Xe=ya(p);if(!fe&&!Xe&&!Y&&d>p||Y&&ie&&we&&!fe&&!Xe||N&&ie&&we||!S&&we||!O)return 1;if(!N&&!Y&&!Xe&&d<p||Xe&&S&&O&&!N&&!Y||fe&&S&&O||!ie&&O||!we)return-1}return 0}function S7(d,p,S){for(var N=-1,O=d.criteria,Y=p.criteria,ie=O.length,fe=S.length;++N<ie;){var we=mR(O[N],Y[N]);if(we){if(N>=fe)return we;var Xe=S[N];return we*(Xe=="desc"?-1:1)}}return d.index-p.index}function yR(d,p,S,N){for(var O=-1,Y=d.length,ie=S.length,fe=-1,we=p.length,Xe=Ai(Y-ie,0),Ke=Ee(we+Xe),et=!N;++fe<we;)Ke[fe]=p[fe];for(;++O<ie;)(et||O<Y)&&(Ke[S[O]]=d[O]);for(;Xe--;)Ke[fe++]=d[O++];return Ke}function bR(d,p,S,N){for(var O=-1,Y=d.length,ie=-1,fe=S.length,we=-1,Xe=p.length,Ke=Ai(Y-fe,0),et=Ee(Ke+Xe),wt=!N;++O<Ke;)et[O]=d[O];for(var It=O;++we<Xe;)et[It+we]=p[we];for(;++ie<fe;)(wt||O<Y)&&(et[It+S[ie]]=d[O++]);return et}function Us(d,p){var S=-1,N=d.length;for(p||(p=Ee(N));++S<N;)p[S]=d[S];return p}function bl(d,p,S,N){var O=!S;S||(S={});for(var Y=-1,ie=p.length;++Y<ie;){var fe=p[Y],we=N?N(S[fe],d[fe],fe,S,d):r;we===r&&(we=d[fe]),O?Kl(S,fe,we):Wp(S,fe,we)}return S}function k7(d,p){return bl(d,nk(d),p)}function _7(d,p){return bl(d,ER(d),p)}function L0(d,p){return function(S,N){var O=fr(S)?MH:jU,Y=p?p():{};return O(S,d,er(N,2),Y)}}function Dh(d){return Pr(function(p,S){var N=-1,O=S.length,Y=O>1?S[O-1]:r,ie=O>2?S[2]:r;for(Y=d.length>3&&typeof Y=="function"?(O--,Y):r,ie&&Ts(S[0],S[1],ie)&&(Y=O<3?r:Y,O=1),p=mn(p);++N<O;){var fe=S[N];fe&&d(p,fe,N,Y)}return p})}function vR(d,p){return function(S,N){if(S==null)return S;if(!Gs(S))return d(S,N);for(var O=S.length,Y=p?O:-1,ie=mn(S);(p?Y--:++Y<O)&&N(ie[Y],Y,ie)!==!1;);return S}}function wR(d){return function(p,S,N){for(var O=-1,Y=mn(p),ie=N(p),fe=ie.length;fe--;){var we=ie[d?fe:++O];if(S(Y[we],we,Y)===!1)break}return p}}function C7(d,p,S){var N=p&b,O=Yp(d);function Y(){var ie=this&&this!==is&&this instanceof Y?O:d;return ie.apply(N?S:this,arguments)}return Y}function xR(d){return function(p){p=rn(p);var S=Th(p)?Io(p):r,N=S?S[0]:p.charAt(0),O=S?Zu(S,1).join(""):p.slice(1);return N[d]()+O}}function Ih(d){return function(p){return xS(v2(b2(p).replace(gH,"")),d,"")}}function Yp(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Rh(d.prototype),N=d.apply(S,p);return Hn(N)?N:S}}function T7(d,p,S){var N=Yp(d);function O(){for(var Y=arguments.length,ie=Ee(Y),fe=Y,we=Lh(O);fe--;)ie[fe]=arguments[fe];var Xe=Y<3&&ie[0]!==we&&ie[Y-1]!==we?[]:Xu(ie,we);if(Y-=Xe.length,Y<S)return TR(d,p,F0,O.placeholder,r,ie,Xe,r,r,S-Y);var Ke=this&&this!==is&&this instanceof O?N:d;return pa(Ke,this,ie)}return O}function SR(d){return function(p,S,N){var O=mn(p);if(!Gs(p)){var Y=er(S,3);p=Yi(p),S=function(fe){return Y(O[fe],fe,O)}}var ie=d(p,S,N);return ie>-1?O[Y?p[ie]:ie]:r}}function kR(d){return Jl(function(p){var S=p.length,N=S,O=Xa.prototype.thru;for(d&&p.reverse();N--;){var Y=p[N];if(typeof Y!="function")throw new Ya(a);if(O&&!ie&&V0(Y)=="wrapper")var ie=new Xa([],!0)}for(N=ie?N:S;++N<S;){Y=p[N];var fe=V0(Y),we=fe=="wrapper"?tk(Y):r;we&&sk(we[0])&&we[1]==(M|w|P|E)&&!we[4].length&&we[9]==1?ie=ie[V0(we[0])].apply(ie,we[3]):ie=Y.length==1&&sk(Y)?ie[fe]():ie.thru(Y)}return function(){var Xe=arguments,Ke=Xe[0];if(ie&&Xe.length==1&&fr(Ke))return ie.plant(Ke).value();for(var et=0,wt=S?p[et].apply(this,Xe):Ke;++et<S;)wt=p[et].call(this,wt);return wt}})}function F0(d,p,S,N,O,Y,ie,fe,we,Xe){var Ke=p&M,et=p&b,wt=p&x,It=p&(w|T),rr=p&D,Cr=wt?r:Yp(d);function nr(){for(var Dr=arguments.length,Wr=Ee(Dr),ba=Dr;ba--;)Wr[ba]=arguments[ba];if(It)var Ps=Lh(nr),va=OH(Wr,Ps);if(N&&(Wr=yR(Wr,N,O,It)),Y&&(Wr=bR(Wr,Y,ie,It)),Dr-=va,It&&Dr<Xe){var mi=Xu(Wr,Ps);return TR(d,p,F0,nr.placeholder,S,Wr,mi,fe,we,Xe-Dr)}var Ao=et?S:this,ru=wt?Ao[d]:d;return Dr=Wr.length,fe?Wr=j7(Wr,fe):rr&&Dr>1&&Wr.reverse(),Ke&&we<Dr&&(Wr.length=we),this&&this!==is&&this instanceof nr&&(ru=Cr||Yp(ru)),ru.apply(Ao,Wr)}return nr}function _R(d,p){return function(S,N){return e7(S,d,p(N),{})}}function A0(d,p){return function(S,N){var O;if(S===r&&N===r)return p;if(S!==r&&(O=S),N!==r){if(O===r)return N;typeof S=="string"||typeof N=="string"?(S=ma(S),N=ma(N)):(S=uR(S),N=uR(N)),O=d(S,N)}return O}}function QS(d){return Jl(function(p){return p=Ln(p,ga(er())),Pr(function(S){var N=this;return d(p,function(O){return pa(O,N,S)})})})}function O0(d,p){p=p===r?" ":ma(p);var S=p.length;if(S<2)return S?US(p,d):p;var N=US(p,_0(d/Ph(p)));return Th(p)?Zu(Io(N),0,d).join(""):N.slice(0,d)}function P7(d,p,S,N){var O=p&b,Y=Yp(d);function ie(){for(var fe=-1,we=arguments.length,Xe=-1,Ke=N.length,et=Ee(Ke+we),wt=this&&this!==is&&this instanceof ie?Y:d;++Xe<Ke;)et[Xe]=N[Xe];for(;we--;)et[Xe++]=arguments[++fe];return pa(wt,O?S:this,et)}return ie}function CR(d){return function(p,S,N){return N&&typeof N!="number"&&Ts(p,S,N)&&(S=N=r),p=tu(p),S===r?(S=p,p=0):S=tu(S),N=N===r?p<S?1:-1:tu(N),h7(p,S,N,d)}}function $0(d){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Ja(p),S=Ja(S)),d(p,S)}}function TR(d,p,S,N,O,Y,ie,fe,we,Xe){var Ke=p&w,et=Ke?ie:r,wt=Ke?r:ie,It=Ke?Y:r,rr=Ke?r:Y;p|=Ke?P:C,p&=~(Ke?C:P),p&v||(p&=~(b|x));var Cr=[d,p,O,It,et,rr,wt,fe,we,Xe],nr=S.apply(r,Cr);return sk(d)&&OR(nr,Cr),nr.placeholder=N,$R(nr,d,p)}function JS(d){var p=Fi[d];return function(S,N){if(S=Ja(S),N=N==null?0:ps(Sr(N),292),N&&$E(S)){var O=(rn(S)+"e").split("e"),Y=p(O[0]+"e"+(+O[1]+N));return O=(rn(Y)+"e").split("e"),+(O[0]+"e"+(+O[1]-N))}return p(S)}}var B7=Nh&&1/p0(new Nh([,-0]))[1]==z?function(d){return new Nh(d)}:wk;function PR(d){return function(p){var S=gs(p);return S==J?BS(p):S==ge?GH(p):AH(p,d(p))}}function Ql(d,p,S,N,O,Y,ie,fe){var we=p&x;if(!we&&typeof d!="function")throw new Ya(a);var Xe=N?N.length:0;if(Xe||(p&=~(P|C),N=O=r),ie=ie===r?ie:Ai(Sr(ie),0),fe=fe===r?fe:Sr(fe),Xe-=O?O.length:0,p&C){var Ke=N,et=O;N=O=r}var wt=we?r:tk(d),It=[d,p,S,N,O,Ke,et,Y,ie,fe];if(wt&&H7(It,wt),d=It[0],p=It[1],S=It[2],N=It[3],O=It[4],fe=It[9]=It[9]===r?we?0:d.length:Ai(It[9]-Xe,0),!fe&&p&(w|T)&&(p&=~(w|T)),!p||p==b)var rr=C7(d,p,S);else p==w||p==T?rr=T7(d,p,fe):(p==P||p==(b|P))&&!O.length?rr=P7(d,p,S,N):rr=F0.apply(r,It);var Cr=wt?oR:OR;return $R(Cr(rr,It),d,p)}function BR(d,p,S,N){return d===r||Fo(d,Mh[S])&&!an.call(N,S)?p:d}function MR(d,p,S,N,O,Y){return Hn(d)&&Hn(p)&&(Y.set(p,d),R0(d,p,r,MR,Y),Y.delete(p)),d}function M7(d){return Kp(d)?r:d}function NR(d,p,S,N,O,Y){var ie=S&g,fe=d.length,we=p.length;if(fe!=we&&!(ie&&we>fe))return!1;var Xe=Y.get(d),Ke=Y.get(p);if(Xe&&Ke)return Xe==p&&Ke==d;var et=-1,wt=!0,It=S&y?new id:r;for(Y.set(d,p),Y.set(p,d);++et<fe;){var rr=d[et],Cr=p[et];if(N)var nr=ie?N(Cr,rr,et,p,d,Y):N(rr,Cr,et,d,p,Y);if(nr!==r){if(nr)continue;wt=!1;break}if(It){if(!SS(p,function(Dr,Wr){if(!Fp(It,Wr)&&(rr===Dr||O(rr,Dr,S,N,Y)))return It.push(Wr)})){wt=!1;break}}else if(!(rr===Cr||O(rr,Cr,S,N,Y))){wt=!1;break}}return Y.delete(d),Y.delete(p),wt}function N7(d,p,S,N,O,Y,ie){switch(S){case De:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Lt:return!(d.byteLength!=p.byteLength||!Y(new w0(d),new w0(p)));case Q:case Z:case se:return Fo(+d,+p);case ue:return d.name==p.name&&d.message==p.message;case te:case Be:return d==p+"";case J:var fe=BS;case ge:var we=N&g;if(fe||(fe=p0),d.size!=p.size&&!we)return!1;var Xe=ie.get(d);if(Xe)return Xe==p;N|=y,ie.set(d,p);var Ke=NR(fe(d),fe(p),N,O,Y,ie);return ie.delete(d),Ke;case Te:if(zp)return zp.call(d)==zp.call(p)}return!1}function E7(d,p,S,N,O,Y){var ie=S&g,fe=ZS(d),we=fe.length,Xe=ZS(p),Ke=Xe.length;if(we!=Ke&&!ie)return!1;for(var et=we;et--;){var wt=fe[et];if(!(ie?wt in p:an.call(p,wt)))return!1}var It=Y.get(d),rr=Y.get(p);if(It&&rr)return It==p&&rr==d;var Cr=!0;Y.set(d,p),Y.set(p,d);for(var nr=ie;++et<we;){wt=fe[et];var Dr=d[wt],Wr=p[wt];if(N)var ba=ie?N(Wr,Dr,wt,p,d,Y):N(Dr,Wr,wt,d,p,Y);if(!(ba===r?Dr===Wr||O(Dr,Wr,S,N,Y):ba)){Cr=!1;break}nr||(nr=wt=="constructor")}if(Cr&&!nr){var Ps=d.constructor,va=p.constructor;Ps!=va&&"constructor"in d&&"constructor"in p&&!(typeof Ps=="function"&&Ps instanceof Ps&&typeof va=="function"&&va instanceof va)&&(Cr=!1)}return Y.delete(d),Y.delete(p),Cr}function Jl(d){return ok(FR(d,r,GR),d+"")}function ZS(d){return KE(d,Yi,nk)}function ek(d){return KE(d,js,ER)}var tk=T0?function(d){return T0.get(d)}:wk;function V0(d){for(var p=d.name+"",S=Eh[p],N=an.call(Eh,p)?S.length:0;N--;){var O=S[N],Y=O.func;if(Y==null||Y==d)return O.name}return p}function Lh(d){var p=an.call(G,"placeholder")?G:d;return p.placeholder}function er(){var d=G.iteratee||bk;return d=d===bk?ZE:d,arguments.length?d(arguments[0],arguments[1]):d}function z0(d,p){var S=d.__data__;return $7(p)?S[typeof p=="string"?"string":"hash"]:S.map}function rk(d){for(var p=Yi(d),S=p.length;S--;){var N=p[S],O=d[N];p[S]=[N,O,IR(O)]}return p}function od(d,p){var S=WH(d,p);return JE(S)?S:r}function R7(d){var p=an.call(d,rd),S=d[rd];try{d[rd]=r;var N=!0}catch{}var O=b0.call(d);return N&&(p?d[rd]=S:delete d[rd]),O}var nk=NS?function(d){return d==null?[]:(d=mn(d),ju(NS(d),function(p){return AE.call(d,p)}))}:xk,ER=NS?function(d){for(var p=[];d;)Yu(p,nk(d)),d=x0(d);return p}:xk,gs=Cs;(ES&&gs(new ES(new ArrayBuffer(1)))!=De||Op&&gs(new Op)!=J||RS&&gs(RS.resolve())!=j||Nh&&gs(new Nh)!=ge||$p&&gs(new $p)!=ot)&&(gs=function(d){var p=Cs(d),S=p==Se?d.constructor:r,N=S?ld(S):"";if(N)switch(N){case pU:return De;case gU:return J;case mU:return j;case yU:return ge;case bU:return ot}return p});function D7(d,p,S){for(var N=-1,O=S.length;++N<O;){var Y=S[N],ie=Y.size;switch(Y.type){case"drop":d+=ie;break;case"dropRight":p-=ie;break;case"take":p=ps(p,d+ie);break;case"takeRight":d=Ai(d,p-ie);break}}return{start:d,end:p}}function I7(d){var p=d.match(Ur);return p?p[1].split(Li):[]}function RR(d,p,S){p=Ju(p,d);for(var N=-1,O=p.length,Y=!1;++N<O;){var ie=vl(p[N]);if(!(Y=d!=null&&S(d,ie)))break;d=d[ie]}return Y||++N!=O?Y:(O=d==null?0:d.length,!!O&&X0(O)&&Zl(ie,O)&&(fr(d)||ud(d)))}function L7(d){var p=d.length,S=new d.constructor(p);return p&&typeof d[0]=="string"&&an.call(d,"index")&&(S.index=d.index,S.input=d.input),S}function DR(d){return typeof d.constructor=="function"&&!Xp(d)?Rh(x0(d)):{}}function F7(d,p,S){var N=d.constructor;switch(p){case Lt:return KS(d);case Q:case Z:return new N(+d);case De:return v7(d,S);case _e:case Ne:case at:case ft:case Ze:case Mt:case qe:case Ye:case xt:return gR(d,S);case J:return new N;case se:case Be:return new N(d);case te:return w7(d);case ge:return new N;case Te:return x7(d)}}function A7(d,p){var S=p.length;if(!S)return d;var N=S-1;return p[N]=(S>1?"& ":"")+p[N],p=p.join(S>2?", ":" "),d.replace(xr,`{
/* [wrapped with `+p+`] */
`)}function O7(d){return fr(d)||ud(d)||!!(OE&&d&&d[OE])}function Zl(d,p){var S=typeof d;return p=p??F,!!p&&(S=="number"||S!="symbol"&&Do.test(d))&&d>-1&&d%1==0&&d<p}function Ts(d,p,S){if(!Hn(S))return!1;var N=typeof p;return(N=="number"?Gs(S)&&Zl(p,S.length):N=="string"&&p in S)?Fo(S[p],d):!1}function ik(d,p){if(fr(d))return!1;var S=typeof d;return S=="number"||S=="symbol"||S=="boolean"||d==null||ya(d)?!0:Rt.test(d)||!Ft.test(d)||p!=null&&d in mn(p)}function $7(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function sk(d){var p=V0(d),S=G[p];if(typeof S!="function"||!(p in $r.prototype))return!1;if(d===S)return!0;var N=tk(S);return!!N&&d===N[0]}function V7(d){return!!IE&&IE in d}var z7=m0?eu:Sk;function Xp(d){var p=d&&d.constructor,S=typeof p=="function"&&p.prototype||Mh;return d===S}function IR(d){return d===d&&!Hn(d)}function LR(d,p){return function(S){return S==null?!1:S[d]===p&&(p!==r||d in mn(S))}}function W7(d){var p=j0(d,function(N){return S.size===u&&S.clear(),N}),S=p.cache;return p}function H7(d,p){var S=d[1],N=p[1],O=S|N,Y=O<(b|x|M),ie=N==M&&S==w||N==M&&S==E&&d[7].length<=p[8]||N==(M|E)&&p[7].length<=p[8]&&S==w;if(!(Y||ie))return d;N&b&&(d[2]=p[2],O|=S&b?0:v);var fe=p[3];if(fe){var we=d[3];d[3]=we?yR(we,fe,p[4]):fe,d[4]=we?Xu(d[3],c):p[4]}return fe=p[5],fe&&(we=d[5],d[5]=we?bR(we,fe,p[6]):fe,d[6]=we?Xu(d[5],c):p[6]),fe=p[7],fe&&(d[7]=fe),N&M&&(d[8]=d[8]==null?p[8]:ps(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=O,d}function U7(d){var p=[];if(d!=null)for(var S in mn(d))p.push(S);return p}function G7(d){return b0.call(d)}function FR(d,p,S){return p=Ai(p===r?d.length-1:p,0),function(){for(var N=arguments,O=-1,Y=Ai(N.length-p,0),ie=Ee(Y);++O<Y;)ie[O]=N[p+O];O=-1;for(var fe=Ee(p+1);++O<p;)fe[O]=N[O];return fe[p]=S(ie),pa(d,this,fe)}}function AR(d,p){return p.length<2?d:ad(d,Ka(p,0,-1))}function j7(d,p){for(var S=d.length,N=ps(p.length,S),O=Us(d);N--;){var Y=p[N];d[N]=Zl(Y,S)?O[Y]:r}return d}function ak(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var OR=VR(oR),qp=oU||function(d,p){return is.setTimeout(d,p)},ok=VR(g7);function $R(d,p,S){var N=p+"";return ok(d,A7(N,Y7(I7(N),S)))}function VR(d){var p=0,S=0;return function(){var N=dU(),O=V-(N-S);if(S=N,O>0){if(++p>=W)return arguments[0]}else p=0;return d.apply(r,arguments)}}function W0(d,p){var S=-1,N=d.length,O=N-1;for(p=p===r?N:p;++S<p;){var Y=HS(S,O),ie=d[Y];d[Y]=d[S],d[S]=ie}return d.length=p,d}var zR=W7(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace(At,function(S,N,O,Y){p.push(O?Y.replace(fi,"$1"):N||S)}),p});function vl(d){if(typeof d=="string"||ya(d))return d;var p=d+"";return p=="0"&&1/d==-z?"-0":p}function ld(d){if(d!=null){try{return y0.call(d)}catch{}try{return d+""}catch{}}return""}function Y7(d,p){return ja(pe,function(S){var N="_."+S[0];p&S[1]&&!h0(d,N)&&d.push(N)}),d.sort()}function WR(d){if(d instanceof $r)return d.clone();var p=new Xa(d.__wrapped__,d.__chain__);return p.__actions__=Us(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function X7(d,p,S){(S?Ts(d,p,S):p===r)?p=1:p=Ai(Sr(p),0);var N=d==null?0:d.length;if(!N||p<1)return[];for(var O=0,Y=0,ie=Ee(_0(N/p));O<N;)ie[Y++]=Ka(d,O,O+=p);return ie}function q7(d){for(var p=-1,S=d==null?0:d.length,N=0,O=[];++p<S;){var Y=d[p];Y&&(O[N++]=Y)}return O}function K7(){var d=arguments.length;if(!d)return[];for(var p=Ee(d-1),S=arguments[0],N=d;N--;)p[N-1]=arguments[N];return Yu(fr(S)?Us(S):[S],ss(p,1))}var Q7=Pr(function(d,p){return gi(d)?Hp(d,ss(p,1,gi,!0)):[]}),J7=Pr(function(d,p){var S=Qa(p);return gi(S)&&(S=r),gi(d)?Hp(d,ss(p,1,gi,!0),er(S,2)):[]}),Z7=Pr(function(d,p){var S=Qa(p);return gi(S)&&(S=r),gi(d)?Hp(d,ss(p,1,gi,!0),r,S):[]});function eG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:Sr(p),Ka(d,p<0?0:p,N)):[]}function tG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:Sr(p),p=N-p,Ka(d,0,p<0?0:p)):[]}function rG(d,p){return d&&d.length?I0(d,er(p,3),!0,!0):[]}function nG(d,p){return d&&d.length?I0(d,er(p,3),!0):[]}function iG(d,p,S,N){var O=d==null?0:d.length;return O?(S&&typeof S!="number"&&Ts(d,p,S)&&(S=0,N=O),KU(d,p,S,N)):[]}function HR(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var O=S==null?0:Sr(S);return O<0&&(O=Ai(N+O,0)),f0(d,er(p,3),O)}function UR(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var O=N-1;return S!==r&&(O=Sr(S),O=S<0?Ai(N+O,0):ps(O,N-1)),f0(d,er(p,3),O,!0)}function GR(d){var p=d==null?0:d.length;return p?ss(d,1):[]}function sG(d){var p=d==null?0:d.length;return p?ss(d,z):[]}function aG(d,p){var S=d==null?0:d.length;return S?(p=p===r?1:Sr(p),ss(d,p)):[]}function oG(d){for(var p=-1,S=d==null?0:d.length,N={};++p<S;){var O=d[p];N[O[0]]=O[1]}return N}function jR(d){return d&&d.length?d[0]:r}function lG(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var O=S==null?0:Sr(S);return O<0&&(O=Ai(N+O,0)),Ch(d,p,O)}function uG(d){var p=d==null?0:d.length;return p?Ka(d,0,-1):[]}var cG=Pr(function(d){var p=Ln(d,XS);return p.length&&p[0]===d[0]?OS(p):[]}),dG=Pr(function(d){var p=Qa(d),S=Ln(d,XS);return p===Qa(S)?p=r:S.pop(),S.length&&S[0]===d[0]?OS(S,er(p,2)):[]}),hG=Pr(function(d){var p=Qa(d),S=Ln(d,XS);return p=typeof p=="function"?p:r,p&&S.pop(),S.length&&S[0]===d[0]?OS(S,r,p):[]});function fG(d,p){return d==null?"":uU.call(d,p)}function Qa(d){var p=d==null?0:d.length;return p?d[p-1]:r}function pG(d,p,S){var N=d==null?0:d.length;if(!N)return-1;var O=N;return S!==r&&(O=Sr(S),O=O<0?Ai(N+O,0):ps(O,N-1)),p===p?YH(d,p,O):f0(d,TE,O,!0)}function gG(d,p){return d&&d.length?nR(d,Sr(p)):r}var mG=Pr(YR);function YR(d,p){return d&&d.length&&p&&p.length?WS(d,p):d}function yG(d,p,S){return d&&d.length&&p&&p.length?WS(d,p,er(S,2)):d}function bG(d,p,S){return d&&d.length&&p&&p.length?WS(d,p,r,S):d}var vG=Jl(function(d,p){var S=d==null?0:d.length,N=IS(d,p);return aR(d,Ln(p,function(O){return Zl(O,S)?+O:O}).sort(mR)),N});function wG(d,p){var S=[];if(!(d&&d.length))return S;var N=-1,O=[],Y=d.length;for(p=er(p,3);++N<Y;){var ie=d[N];p(ie,N,d)&&(S.push(ie),O.push(N))}return aR(d,O),S}function lk(d){return d==null?d:fU.call(d)}function xG(d,p,S){var N=d==null?0:d.length;return N?(S&&typeof S!="number"&&Ts(d,p,S)?(p=0,S=N):(p=p==null?0:Sr(p),S=S===r?N:Sr(S)),Ka(d,p,S)):[]}function SG(d,p){return D0(d,p)}function kG(d,p,S){return GS(d,p,er(S,2))}function _G(d,p){var S=d==null?0:d.length;if(S){var N=D0(d,p);if(N<S&&Fo(d[N],p))return N}return-1}function CG(d,p){return D0(d,p,!0)}function TG(d,p,S){return GS(d,p,er(S,2),!0)}function PG(d,p){var S=d==null?0:d.length;if(S){var N=D0(d,p,!0)-1;if(Fo(d[N],p))return N}return-1}function BG(d){return d&&d.length?lR(d):[]}function MG(d,p){return d&&d.length?lR(d,er(p,2)):[]}function NG(d){var p=d==null?0:d.length;return p?Ka(d,1,p):[]}function EG(d,p,S){return d&&d.length?(p=S||p===r?1:Sr(p),Ka(d,0,p<0?0:p)):[]}function RG(d,p,S){var N=d==null?0:d.length;return N?(p=S||p===r?1:Sr(p),p=N-p,Ka(d,p<0?0:p,N)):[]}function DG(d,p){return d&&d.length?I0(d,er(p,3),!1,!0):[]}function IG(d,p){return d&&d.length?I0(d,er(p,3)):[]}var LG=Pr(function(d){return Qu(ss(d,1,gi,!0))}),FG=Pr(function(d){var p=Qa(d);return gi(p)&&(p=r),Qu(ss(d,1,gi,!0),er(p,2))}),AG=Pr(function(d){var p=Qa(d);return p=typeof p=="function"?p:r,Qu(ss(d,1,gi,!0),r,p)});function OG(d){return d&&d.length?Qu(d):[]}function $G(d,p){return d&&d.length?Qu(d,er(p,2)):[]}function VG(d,p){return p=typeof p=="function"?p:r,d&&d.length?Qu(d,r,p):[]}function uk(d){if(!(d&&d.length))return[];var p=0;return d=ju(d,function(S){if(gi(S))return p=Ai(S.length,p),!0}),TS(p,function(S){return Ln(d,kS(S))})}function XR(d,p){if(!(d&&d.length))return[];var S=uk(d);return p==null?S:Ln(S,function(N){return pa(p,r,N)})}var zG=Pr(function(d,p){return gi(d)?Hp(d,p):[]}),WG=Pr(function(d){return YS(ju(d,gi))}),HG=Pr(function(d){var p=Qa(d);return gi(p)&&(p=r),YS(ju(d,gi),er(p,2))}),UG=Pr(function(d){var p=Qa(d);return p=typeof p=="function"?p:r,YS(ju(d,gi),r,p)}),GG=Pr(uk);function jG(d,p){return hR(d||[],p||[],Wp)}function YG(d,p){return hR(d||[],p||[],jp)}var XG=Pr(function(d){var p=d.length,S=p>1?d[p-1]:r;return S=typeof S=="function"?(d.pop(),S):r,XR(d,S)});function qR(d){var p=G(d);return p.__chain__=!0,p}function qG(d,p){return p(d),d}function H0(d,p){return p(d)}var KG=Jl(function(d){var p=d.length,S=p?d[0]:0,N=this.__wrapped__,O=function(Y){return IS(Y,d)};return p>1||this.__actions__.length||!(N instanceof $r)||!Zl(S)?this.thru(O):(N=N.slice(S,+S+(p?1:0)),N.__actions__.push({func:H0,args:[O],thisArg:r}),new Xa(N,this.__chain__).thru(function(Y){return p&&!Y.length&&Y.push(r),Y}))});function QG(){return qR(this)}function JG(){return new Xa(this.value(),this.__chain__)}function ZG(){this.__values__===r&&(this.__values__=u2(this.value()));var d=this.__index__>=this.__values__.length,p=d?r:this.__values__[this.__index__++];return{done:d,value:p}}function e9(){return this}function t9(d){for(var p,S=this;S instanceof B0;){var N=WR(S);N.__index__=0,N.__values__=r,p?O.__wrapped__=N:p=N;var O=N;S=S.__wrapped__}return O.__wrapped__=d,p}function r9(){var d=this.__wrapped__;if(d instanceof $r){var p=d;return this.__actions__.length&&(p=new $r(this)),p=p.reverse(),p.__actions__.push({func:H0,args:[lk],thisArg:r}),new Xa(p,this.__chain__)}return this.thru(lk)}function n9(){return dR(this.__wrapped__,this.__actions__)}var i9=L0(function(d,p,S){an.call(d,S)?++d[S]:Kl(d,S,1)});function s9(d,p,S){var N=fr(d)?_E:qU;return S&&Ts(d,p,S)&&(p=r),N(d,er(p,3))}function a9(d,p){var S=fr(d)?ju:XE;return S(d,er(p,3))}var o9=SR(HR),l9=SR(UR);function u9(d,p){return ss(U0(d,p),1)}function c9(d,p){return ss(U0(d,p),z)}function d9(d,p,S){return S=S===r?1:Sr(S),ss(U0(d,p),S)}function KR(d,p){var S=fr(d)?ja:Ku;return S(d,er(p,3))}function QR(d,p){var S=fr(d)?NH:YE;return S(d,er(p,3))}var h9=L0(function(d,p,S){an.call(d,S)?d[S].push(p):Kl(d,S,[p])});function f9(d,p,S,N){d=Gs(d)?d:Ah(d),S=S&&!N?Sr(S):0;var O=d.length;return S<0&&(S=Ai(O+S,0)),q0(d)?S<=O&&d.indexOf(p,S)>-1:!!O&&Ch(d,p,S)>-1}var p9=Pr(function(d,p,S){var N=-1,O=typeof p=="function",Y=Gs(d)?Ee(d.length):[];return Ku(d,function(ie){Y[++N]=O?pa(p,ie,S):Up(ie,p,S)}),Y}),g9=L0(function(d,p,S){Kl(d,S,p)});function U0(d,p){var S=fr(d)?Ln:eR;return S(d,er(p,3))}function m9(d,p,S,N){return d==null?[]:(fr(p)||(p=p==null?[]:[p]),S=N?r:S,fr(S)||(S=S==null?[]:[S]),iR(d,p,S))}var y9=L0(function(d,p,S){d[S?0:1].push(p)},function(){return[[],[]]});function b9(d,p,S){var N=fr(d)?xS:BE,O=arguments.length<3;return N(d,er(p,4),S,O,Ku)}function v9(d,p,S){var N=fr(d)?EH:BE,O=arguments.length<3;return N(d,er(p,4),S,O,YE)}function w9(d,p){var S=fr(d)?ju:XE;return S(d,Y0(er(p,3)))}function x9(d){var p=fr(d)?HE:f7;return p(d)}function S9(d,p,S){(S?Ts(d,p,S):p===r)?p=1:p=Sr(p);var N=fr(d)?UU:p7;return N(d,p)}function k9(d){var p=fr(d)?GU:m7;return p(d)}function _9(d){if(d==null)return 0;if(Gs(d))return q0(d)?Ph(d):d.length;var p=gs(d);return p==J||p==ge?d.size:VS(d).length}function C9(d,p,S){var N=fr(d)?SS:y7;return S&&Ts(d,p,S)&&(p=r),N(d,er(p,3))}var T9=Pr(function(d,p){if(d==null)return[];var S=p.length;return S>1&&Ts(d,p[0],p[1])?p=[]:S>2&&Ts(p[0],p[1],p[2])&&(p=[p[0]]),iR(d,ss(p,1),[])}),G0=aU||function(){return is.Date.now()};function P9(d,p){if(typeof p!="function")throw new Ya(a);return d=Sr(d),function(){if(--d<1)return p.apply(this,arguments)}}function JR(d,p,S){return p=S?r:p,p=d&&p==null?d.length:p,Ql(d,M,r,r,r,r,p)}function ZR(d,p){var S;if(typeof p!="function")throw new Ya(a);return d=Sr(d),function(){return--d>0&&(S=p.apply(this,arguments)),d<=1&&(p=r),S}}var ck=Pr(function(d,p,S){var N=b;if(S.length){var O=Xu(S,Lh(ck));N|=P}return Ql(d,N,p,S,O)}),e2=Pr(function(d,p,S){var N=b|x;if(S.length){var O=Xu(S,Lh(e2));N|=P}return Ql(p,N,d,S,O)});function t2(d,p,S){p=S?r:p;var N=Ql(d,w,r,r,r,r,r,p);return N.placeholder=t2.placeholder,N}function r2(d,p,S){p=S?r:p;var N=Ql(d,T,r,r,r,r,r,p);return N.placeholder=r2.placeholder,N}function n2(d,p,S){var N,O,Y,ie,fe,we,Xe=0,Ke=!1,et=!1,wt=!0;if(typeof d!="function")throw new Ya(a);p=Ja(p)||0,Hn(S)&&(Ke=!!S.leading,et="maxWait"in S,Y=et?Ai(Ja(S.maxWait)||0,p):Y,wt="trailing"in S?!!S.trailing:wt);function It(mi){var Ao=N,ru=O;return N=O=r,Xe=mi,ie=d.apply(ru,Ao),ie}function rr(mi){return Xe=mi,fe=qp(Dr,p),Ke?It(mi):ie}function Cr(mi){var Ao=mi-we,ru=mi-Xe,S2=p-Ao;return et?ps(S2,Y-ru):S2}function nr(mi){var Ao=mi-we,ru=mi-Xe;return we===r||Ao>=p||Ao<0||et&&ru>=Y}function Dr(){var mi=G0();if(nr(mi))return Wr(mi);fe=qp(Dr,Cr(mi))}function Wr(mi){return fe=r,wt&&N?It(mi):(N=O=r,ie)}function ba(){fe!==r&&fR(fe),Xe=0,N=we=O=fe=r}function Ps(){return fe===r?ie:Wr(G0())}function va(){var mi=G0(),Ao=nr(mi);if(N=arguments,O=this,we=mi,Ao){if(fe===r)return rr(we);if(et)return fR(fe),fe=qp(Dr,p),It(we)}return fe===r&&(fe=qp(Dr,p)),ie}return va.cancel=ba,va.flush=Ps,va}var B9=Pr(function(d,p){return jE(d,1,p)}),M9=Pr(function(d,p,S){return jE(d,Ja(p)||0,S)});function N9(d){return Ql(d,D)}function j0(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new Ya(a);var S=function(){var N=arguments,O=p?p.apply(this,N):N[0],Y=S.cache;if(Y.has(O))return Y.get(O);var ie=d.apply(this,N);return S.cache=Y.set(O,ie)||Y,ie};return S.cache=new(j0.Cache||ql),S}j0.Cache=ql;function Y0(d){if(typeof d!="function")throw new Ya(a);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function E9(d){return ZR(2,d)}var R9=b7(function(d,p){p=p.length==1&&fr(p[0])?Ln(p[0],ga(er())):Ln(ss(p,1),ga(er()));var S=p.length;return Pr(function(N){for(var O=-1,Y=ps(N.length,S);++O<Y;)N[O]=p[O].call(this,N[O]);return pa(d,this,N)})}),dk=Pr(function(d,p){var S=Xu(p,Lh(dk));return Ql(d,P,r,p,S)}),i2=Pr(function(d,p){var S=Xu(p,Lh(i2));return Ql(d,C,r,p,S)}),D9=Jl(function(d,p){return Ql(d,E,r,r,r,p)});function I9(d,p){if(typeof d!="function")throw new Ya(a);return p=p===r?p:Sr(p),Pr(d,p)}function L9(d,p){if(typeof d!="function")throw new Ya(a);return p=p==null?0:Ai(Sr(p),0),Pr(function(S){var N=S[p],O=Zu(S,0,p);return N&&Yu(O,N),pa(d,this,O)})}function F9(d,p,S){var N=!0,O=!0;if(typeof d!="function")throw new Ya(a);return Hn(S)&&(N="leading"in S?!!S.leading:N,O="trailing"in S?!!S.trailing:O),n2(d,p,{leading:N,maxWait:p,trailing:O})}function A9(d){return JR(d,1)}function O9(d,p){return dk(qS(p),d)}function $9(){if(!arguments.length)return[];var d=arguments[0];return fr(d)?d:[d]}function V9(d){return qa(d,m)}function z9(d,p){return p=typeof p=="function"?p:r,qa(d,m,p)}function W9(d){return qa(d,h|m)}function H9(d,p){return p=typeof p=="function"?p:r,qa(d,h|m,p)}function U9(d,p){return p==null||GE(d,p,Yi(p))}function Fo(d,p){return d===p||d!==d&&p!==p}var G9=$0(AS),j9=$0(function(d,p){return d>=p}),ud=QE(function(){return arguments}())?QE:function(d){return Zn(d)&&an.call(d,"callee")&&!AE.call(d,"callee")},fr=Ee.isArray,Y9=bE?ga(bE):t7;function Gs(d){return d!=null&&X0(d.length)&&!eu(d)}function gi(d){return Zn(d)&&Gs(d)}function X9(d){return d===!0||d===!1||Zn(d)&&Cs(d)==Q}var ec=lU||Sk,q9=vE?ga(vE):r7;function K9(d){return Zn(d)&&d.nodeType===1&&!Kp(d)}function Q9(d){if(d==null)return!0;if(Gs(d)&&(fr(d)||typeof d=="string"||typeof d.splice=="function"||ec(d)||Fh(d)||ud(d)))return!d.length;var p=gs(d);if(p==J||p==ge)return!d.size;if(Xp(d))return!VS(d).length;for(var S in d)if(an.call(d,S))return!1;return!0}function J9(d,p){return Gp(d,p)}function Z9(d,p,S){S=typeof S=="function"?S:r;var N=S?S(d,p):r;return N===r?Gp(d,p,r,S):!!N}function hk(d){if(!Zn(d))return!1;var p=Cs(d);return p==ue||p==le||typeof d.message=="string"&&typeof d.name=="string"&&!Kp(d)}function ej(d){return typeof d=="number"&&$E(d)}function eu(d){if(!Hn(d))return!1;var p=Cs(d);return p==re||p==K||p==ke||p==ne}function s2(d){return typeof d=="number"&&d==Sr(d)}function X0(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=F}function Hn(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function Zn(d){return d!=null&&typeof d=="object"}var a2=wE?ga(wE):i7;function tj(d,p){return d===p||$S(d,p,rk(p))}function rj(d,p,S){return S=typeof S=="function"?S:r,$S(d,p,rk(p),S)}function nj(d){return o2(d)&&d!=+d}function ij(d){if(z7(d))throw new ur(s);return JE(d)}function sj(d){return d===null}function aj(d){return d==null}function o2(d){return typeof d=="number"||Zn(d)&&Cs(d)==se}function Kp(d){if(!Zn(d)||Cs(d)!=Se)return!1;var p=x0(d);if(p===null)return!0;var S=an.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&y0.call(S)==rU}var fk=xE?ga(xE):s7;function oj(d){return s2(d)&&d>=-F&&d<=F}var l2=SE?ga(SE):a7;function q0(d){return typeof d=="string"||!fr(d)&&Zn(d)&&Cs(d)==Be}function ya(d){return typeof d=="symbol"||Zn(d)&&Cs(d)==Te}var Fh=kE?ga(kE):o7;function lj(d){return d===r}function uj(d){return Zn(d)&&gs(d)==ot}function cj(d){return Zn(d)&&Cs(d)==Et}var dj=$0(zS),hj=$0(function(d,p){return d<=p});function u2(d){if(!d)return[];if(Gs(d))return q0(d)?Io(d):Us(d);if(Ap&&d[Ap])return UH(d[Ap]());var p=gs(d),S=p==J?BS:p==ge?p0:Ah;return S(d)}function tu(d){if(!d)return d===0?d:0;if(d=Ja(d),d===z||d===-z){var p=d<0?-1:1;return p*U}return d===d?d:0}function Sr(d){var p=tu(d),S=p%1;return p===p?S?p-S:p:0}function c2(d){return d?sd(Sr(d),0,ae):0}function Ja(d){if(typeof d=="number")return d;if(ya(d))return q;if(Hn(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=Hn(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=ME(d);var S=Jn.test(d);return S||Uu.test(d)?PH(d.slice(2),S?2:8):ns.test(d)?q:+d}function d2(d){return bl(d,js(d))}function fj(d){return d?sd(Sr(d),-F,F):d===0?d:0}function rn(d){return d==null?"":ma(d)}var pj=Dh(function(d,p){if(Xp(p)||Gs(p)){bl(p,Yi(p),d);return}for(var S in p)an.call(p,S)&&Wp(d,S,p[S])}),h2=Dh(function(d,p){bl(p,js(p),d)}),K0=Dh(function(d,p,S,N){bl(p,js(p),d,N)}),gj=Dh(function(d,p,S,N){bl(p,Yi(p),d,N)}),mj=Jl(IS);function yj(d,p){var S=Rh(d);return p==null?S:UE(S,p)}var bj=Pr(function(d,p){d=mn(d);var S=-1,N=p.length,O=N>2?p[2]:r;for(O&&Ts(p[0],p[1],O)&&(N=1);++S<N;)for(var Y=p[S],ie=js(Y),fe=-1,we=ie.length;++fe<we;){var Xe=ie[fe],Ke=d[Xe];(Ke===r||Fo(Ke,Mh[Xe])&&!an.call(d,Xe))&&(d[Xe]=Y[Xe])}return d}),vj=Pr(function(d){return d.push(r,MR),pa(f2,r,d)});function wj(d,p){return CE(d,er(p,3),yl)}function xj(d,p){return CE(d,er(p,3),FS)}function Sj(d,p){return d==null?d:LS(d,er(p,3),js)}function kj(d,p){return d==null?d:qE(d,er(p,3),js)}function _j(d,p){return d&&yl(d,er(p,3))}function Cj(d,p){return d&&FS(d,er(p,3))}function Tj(d){return d==null?[]:E0(d,Yi(d))}function Pj(d){return d==null?[]:E0(d,js(d))}function pk(d,p,S){var N=d==null?r:ad(d,p);return N===r?S:N}function Bj(d,p){return d!=null&&RR(d,p,QU)}function gk(d,p){return d!=null&&RR(d,p,JU)}var Mj=_R(function(d,p,S){p!=null&&typeof p.toString!="function"&&(p=b0.call(p)),d[p]=S},yk(Ys)),Nj=_R(function(d,p,S){p!=null&&typeof p.toString!="function"&&(p=b0.call(p)),an.call(d,p)?d[p].push(S):d[p]=[S]},er),Ej=Pr(Up);function Yi(d){return Gs(d)?WE(d):VS(d)}function js(d){return Gs(d)?WE(d,!0):l7(d)}function Rj(d,p){var S={};return p=er(p,3),yl(d,function(N,O,Y){Kl(S,p(N,O,Y),N)}),S}function Dj(d,p){var S={};return p=er(p,3),yl(d,function(N,O,Y){Kl(S,O,p(N,O,Y))}),S}var Ij=Dh(function(d,p,S){R0(d,p,S)}),f2=Dh(function(d,p,S,N){R0(d,p,S,N)}),Lj=Jl(function(d,p){var S={};if(d==null)return S;var N=!1;p=Ln(p,function(Y){return Y=Ju(Y,d),N||(N=Y.length>1),Y}),bl(d,ek(d),S),N&&(S=qa(S,h|f|m,M7));for(var O=p.length;O--;)jS(S,p[O]);return S});function Fj(d,p){return p2(d,Y0(er(p)))}var Aj=Jl(function(d,p){return d==null?{}:c7(d,p)});function p2(d,p){if(d==null)return{};var S=Ln(ek(d),function(N){return[N]});return p=er(p),sR(d,S,function(N,O){return p(N,O[0])})}function Oj(d,p,S){p=Ju(p,d);var N=-1,O=p.length;for(O||(O=1,d=r);++N<O;){var Y=d==null?r:d[vl(p[N])];Y===r&&(N=O,Y=S),d=eu(Y)?Y.call(d):Y}return d}function $j(d,p,S){return d==null?d:jp(d,p,S)}function Vj(d,p,S,N){return N=typeof N=="function"?N:r,d==null?d:jp(d,p,S,N)}var g2=PR(Yi),m2=PR(js);function zj(d,p,S){var N=fr(d),O=N||ec(d)||Fh(d);if(p=er(p,4),S==null){var Y=d&&d.constructor;O?S=N?new Y:[]:Hn(d)?S=eu(Y)?Rh(x0(d)):{}:S={}}return(O?ja:yl)(d,function(ie,fe,we){return p(S,ie,fe,we)}),S}function Wj(d,p){return d==null?!0:jS(d,p)}function Hj(d,p,S){return d==null?d:cR(d,p,qS(S))}function Uj(d,p,S,N){return N=typeof N=="function"?N:r,d==null?d:cR(d,p,qS(S),N)}function Ah(d){return d==null?[]:PS(d,Yi(d))}function Gj(d){return d==null?[]:PS(d,js(d))}function jj(d,p,S){return S===r&&(S=p,p=r),S!==r&&(S=Ja(S),S=S===S?S:0),p!==r&&(p=Ja(p),p=p===p?p:0),sd(Ja(d),p,S)}function Yj(d,p,S){return p=tu(p),S===r?(S=p,p=0):S=tu(S),d=Ja(d),ZU(d,p,S)}function Xj(d,p,S){if(S&&typeof S!="boolean"&&Ts(d,p,S)&&(p=S=r),S===r&&(typeof p=="boolean"?(S=p,p=r):typeof d=="boolean"&&(S=d,d=r)),d===r&&p===r?(d=0,p=1):(d=tu(d),p===r?(p=d,d=0):p=tu(p)),d>p){var N=d;d=p,p=N}if(S||d%1||p%1){var O=VE();return ps(d+O*(p-d+TH("1e-"+((O+"").length-1))),p)}return HS(d,p)}var qj=Ih(function(d,p,S){return p=p.toLowerCase(),d+(S?y2(p):p)});function y2(d){return mk(rn(d).toLowerCase())}function b2(d){return d=rn(d),d&&d.replace(Yl,$H).replace(mH,"")}function Kj(d,p,S){d=rn(d),p=ma(p);var N=d.length;S=S===r?N:sd(Sr(S),0,N);var O=S;return S-=p.length,S>=0&&d.slice(S,O)==p}function Qj(d){return d=rn(d),d&&xe.test(d)?d.replace(Tn,VH):d}function Jj(d){return d=rn(d),d&&Qt.test(d)?d.replace(kt,"\\$&"):d}var Zj=Ih(function(d,p,S){return d+(S?"-":"")+p.toLowerCase()}),eY=Ih(function(d,p,S){return d+(S?" ":"")+p.toLowerCase()}),tY=xR("toLowerCase");function rY(d,p,S){d=rn(d),p=Sr(p);var N=p?Ph(d):0;if(!p||N>=p)return d;var O=(p-N)/2;return O0(C0(O),S)+d+O0(_0(O),S)}function nY(d,p,S){d=rn(d),p=Sr(p);var N=p?Ph(d):0;return p&&N<p?d+O0(p-N,S):d}function iY(d,p,S){d=rn(d),p=Sr(p);var N=p?Ph(d):0;return p&&N<p?O0(p-N,S)+d:d}function sY(d,p,S){return S||p==null?p=0:p&&(p=+p),hU(rn(d).replace(Or,""),p||0)}function aY(d,p,S){return(S?Ts(d,p,S):p===r)?p=1:p=Sr(p),US(rn(d),p)}function oY(){var d=arguments,p=rn(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var lY=Ih(function(d,p,S){return d+(S?"_":"")+p.toLowerCase()});function uY(d,p,S){return S&&typeof S!="number"&&Ts(d,p,S)&&(p=S=r),S=S===r?ae:S>>>0,S?(d=rn(d),d&&(typeof p=="string"||p!=null&&!fk(p))&&(p=ma(p),!p&&Th(d))?Zu(Io(d),0,S):d.split(p,S)):[]}var cY=Ih(function(d,p,S){return d+(S?" ":"")+mk(p)});function dY(d,p,S){return d=rn(d),S=S==null?0:sd(Sr(S),0,d.length),p=ma(p),d.slice(S,S+p.length)==p}function hY(d,p,S){var N=G.templateSettings;S&&Ts(d,p,S)&&(p=r),d=rn(d),p=K0({},p,N,BR);var O=K0({},p.imports,N.imports,BR),Y=Yi(O),ie=PS(O,Y),fe,we,Xe=0,Ke=p.interpolate||Tr,et="__p += '",wt=MS((p.escape||Tr).source+"|"+Ke.source+"|"+(Ke===gt?yr:Tr).source+"|"+(p.evaluate||Tr).source+"|$","g"),It="//# sourceURL="+(an.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xH+"]")+`
`;d.replace(wt,function(nr,Dr,Wr,ba,Ps,va){return Wr||(Wr=ba),et+=d.slice(Xe,va).replace(jr,zH),Dr&&(fe=!0,et+=`' +
__e(`+Dr+`) +
'`),Ps&&(we=!0,et+=`';
`+Ps+`;
__p += '`),Wr&&(et+=`' +
((__t = (`+Wr+`)) == null ? '' : __t) +
'`),Xe=va+nr.length,nr}),et+=`';
`;var rr=an.call(p,"variable")&&p.variable;if(!rr)et=`with (obj) {
`+et+`
}
`;else if(Sn.test(rr))throw new ur(o);et=(we?et.replace(vt,""):et).replace(tr,"$1").replace(Er,"$1;"),et="function("+(rr||"obj")+`) {
`+(rr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var Cr=w2(function(){return Zr(Y,It+"return "+et).apply(r,ie)});if(Cr.source=et,hk(Cr))throw Cr;return Cr}function fY(d){return rn(d).toLowerCase()}function pY(d){return rn(d).toUpperCase()}function gY(d,p,S){if(d=rn(d),d&&(S||p===r))return ME(d);if(!d||!(p=ma(p)))return d;var N=Io(d),O=Io(p),Y=NE(N,O),ie=EE(N,O)+1;return Zu(N,Y,ie).join("")}function mY(d,p,S){if(d=rn(d),d&&(S||p===r))return d.slice(0,DE(d)+1);if(!d||!(p=ma(p)))return d;var N=Io(d),O=EE(N,Io(p))+1;return Zu(N,0,O).join("")}function yY(d,p,S){if(d=rn(d),d&&(S||p===r))return d.replace(Or,"");if(!d||!(p=ma(p)))return d;var N=Io(d),O=NE(N,Io(p));return Zu(N,O).join("")}function bY(d,p){var S=I,N=A;if(Hn(p)){var O="separator"in p?p.separator:O;S="length"in p?Sr(p.length):S,N="omission"in p?ma(p.omission):N}d=rn(d);var Y=d.length;if(Th(d)){var ie=Io(d);Y=ie.length}if(S>=Y)return d;var fe=S-Ph(N);if(fe<1)return N;var we=ie?Zu(ie,0,fe).join(""):d.slice(0,fe);if(O===r)return we+N;if(ie&&(fe+=we.length-fe),fk(O)){if(d.slice(fe).search(O)){var Xe,Ke=we;for(O.global||(O=MS(O.source,rn(br.exec(O))+"g")),O.lastIndex=0;Xe=O.exec(Ke);)var et=Xe.index;we=we.slice(0,et===r?fe:et)}}else if(d.indexOf(ma(O),fe)!=fe){var wt=we.lastIndexOf(O);wt>-1&&(we=we.slice(0,wt))}return we+N}function vY(d){return d=rn(d),d&&me.test(d)?d.replace(_r,XH):d}var wY=Ih(function(d,p,S){return d+(S?" ":"")+p.toUpperCase()}),mk=xR("toUpperCase");function v2(d,p,S){return d=rn(d),p=S?r:p,p===r?HH(d)?QH(d):IH(d):d.match(p)||[]}var w2=Pr(function(d,p){try{return pa(d,r,p)}catch(S){return hk(S)?S:new ur(S)}}),xY=Jl(function(d,p){return ja(p,function(S){S=vl(S),Kl(d,S,ck(d[S],d))}),d});function SY(d){var p=d==null?0:d.length,S=er();return d=p?Ln(d,function(N){if(typeof N[1]!="function")throw new Ya(a);return[S(N[0]),N[1]]}):[],Pr(function(N){for(var O=-1;++O<p;){var Y=d[O];if(pa(Y[0],this,N))return pa(Y[1],this,N)}})}function kY(d){return XU(qa(d,h))}function yk(d){return function(){return d}}function _Y(d,p){return d==null||d!==d?p:d}var CY=kR(),TY=kR(!0);function Ys(d){return d}function bk(d){return ZE(typeof d=="function"?d:qa(d,h))}function PY(d){return tR(qa(d,h))}function BY(d,p){return rR(d,qa(p,h))}var MY=Pr(function(d,p){return function(S){return Up(S,d,p)}}),NY=Pr(function(d,p){return function(S){return Up(d,S,p)}});function vk(d,p,S){var N=Yi(p),O=E0(p,N);S==null&&!(Hn(p)&&(O.length||!N.length))&&(S=p,p=d,d=this,O=E0(p,Yi(p)));var Y=!(Hn(S)&&"chain"in S)||!!S.chain,ie=eu(d);return ja(O,function(fe){var we=p[fe];d[fe]=we,ie&&(d.prototype[fe]=function(){var Xe=this.__chain__;if(Y||Xe){var Ke=d(this.__wrapped__),et=Ke.__actions__=Us(this.__actions__);return et.push({func:we,args:arguments,thisArg:d}),Ke.__chain__=Xe,Ke}return we.apply(d,Yu([this.value()],arguments))})}),d}function EY(){return is._===this&&(is._=nU),this}function wk(){}function RY(d){return d=Sr(d),Pr(function(p){return nR(p,d)})}var DY=QS(Ln),IY=QS(_E),LY=QS(SS);function x2(d){return ik(d)?kS(vl(d)):d7(d)}function FY(d){return function(p){return d==null?r:ad(d,p)}}var AY=CR(),OY=CR(!0);function xk(){return[]}function Sk(){return!1}function $Y(){return{}}function VY(){return""}function zY(){return!0}function WY(d,p){if(d=Sr(d),d<1||d>F)return[];var S=ae,N=ps(d,ae);p=er(p),d-=ae;for(var O=TS(N,p);++S<d;)p(S);return O}function HY(d){return fr(d)?Ln(d,vl):ya(d)?[d]:Us(zR(rn(d)))}function UY(d){var p=++tU;return rn(d)+p}var GY=A0(function(d,p){return d+p},0),jY=JS("ceil"),YY=A0(function(d,p){return d/p},1),XY=JS("floor");function qY(d){return d&&d.length?N0(d,Ys,AS):r}function KY(d,p){return d&&d.length?N0(d,er(p,2),AS):r}function QY(d){return PE(d,Ys)}function JY(d,p){return PE(d,er(p,2))}function ZY(d){return d&&d.length?N0(d,Ys,zS):r}function eX(d,p){return d&&d.length?N0(d,er(p,2),zS):r}var tX=A0(function(d,p){return d*p},1),rX=JS("round"),nX=A0(function(d,p){return d-p},0);function iX(d){return d&&d.length?CS(d,Ys):0}function sX(d,p){return d&&d.length?CS(d,er(p,2)):0}return G.after=P9,G.ary=JR,G.assign=pj,G.assignIn=h2,G.assignInWith=K0,G.assignWith=gj,G.at=mj,G.before=ZR,G.bind=ck,G.bindAll=xY,G.bindKey=e2,G.castArray=$9,G.chain=qR,G.chunk=X7,G.compact=q7,G.concat=K7,G.cond=SY,G.conforms=kY,G.constant=yk,G.countBy=i9,G.create=yj,G.curry=t2,G.curryRight=r2,G.debounce=n2,G.defaults=bj,G.defaultsDeep=vj,G.defer=B9,G.delay=M9,G.difference=Q7,G.differenceBy=J7,G.differenceWith=Z7,G.drop=eG,G.dropRight=tG,G.dropRightWhile=rG,G.dropWhile=nG,G.fill=iG,G.filter=a9,G.flatMap=u9,G.flatMapDeep=c9,G.flatMapDepth=d9,G.flatten=GR,G.flattenDeep=sG,G.flattenDepth=aG,G.flip=N9,G.flow=CY,G.flowRight=TY,G.fromPairs=oG,G.functions=Tj,G.functionsIn=Pj,G.groupBy=h9,G.initial=uG,G.intersection=cG,G.intersectionBy=dG,G.intersectionWith=hG,G.invert=Mj,G.invertBy=Nj,G.invokeMap=p9,G.iteratee=bk,G.keyBy=g9,G.keys=Yi,G.keysIn=js,G.map=U0,G.mapKeys=Rj,G.mapValues=Dj,G.matches=PY,G.matchesProperty=BY,G.memoize=j0,G.merge=Ij,G.mergeWith=f2,G.method=MY,G.methodOf=NY,G.mixin=vk,G.negate=Y0,G.nthArg=RY,G.omit=Lj,G.omitBy=Fj,G.once=E9,G.orderBy=m9,G.over=DY,G.overArgs=R9,G.overEvery=IY,G.overSome=LY,G.partial=dk,G.partialRight=i2,G.partition=y9,G.pick=Aj,G.pickBy=p2,G.property=x2,G.propertyOf=FY,G.pull=mG,G.pullAll=YR,G.pullAllBy=yG,G.pullAllWith=bG,G.pullAt=vG,G.range=AY,G.rangeRight=OY,G.rearg=D9,G.reject=w9,G.remove=wG,G.rest=I9,G.reverse=lk,G.sampleSize=S9,G.set=$j,G.setWith=Vj,G.shuffle=k9,G.slice=xG,G.sortBy=T9,G.sortedUniq=BG,G.sortedUniqBy=MG,G.split=uY,G.spread=L9,G.tail=NG,G.take=EG,G.takeRight=RG,G.takeRightWhile=DG,G.takeWhile=IG,G.tap=qG,G.throttle=F9,G.thru=H0,G.toArray=u2,G.toPairs=g2,G.toPairsIn=m2,G.toPath=HY,G.toPlainObject=d2,G.transform=zj,G.unary=A9,G.union=LG,G.unionBy=FG,G.unionWith=AG,G.uniq=OG,G.uniqBy=$G,G.uniqWith=VG,G.unset=Wj,G.unzip=uk,G.unzipWith=XR,G.update=Hj,G.updateWith=Uj,G.values=Ah,G.valuesIn=Gj,G.without=zG,G.words=v2,G.wrap=O9,G.xor=WG,G.xorBy=HG,G.xorWith=UG,G.zip=GG,G.zipObject=jG,G.zipObjectDeep=YG,G.zipWith=XG,G.entries=g2,G.entriesIn=m2,G.extend=h2,G.extendWith=K0,vk(G,G),G.add=GY,G.attempt=w2,G.camelCase=qj,G.capitalize=y2,G.ceil=jY,G.clamp=jj,G.clone=V9,G.cloneDeep=W9,G.cloneDeepWith=H9,G.cloneWith=z9,G.conformsTo=U9,G.deburr=b2,G.defaultTo=_Y,G.divide=YY,G.endsWith=Kj,G.eq=Fo,G.escape=Qj,G.escapeRegExp=Jj,G.every=s9,G.find=o9,G.findIndex=HR,G.findKey=wj,G.findLast=l9,G.findLastIndex=UR,G.findLastKey=xj,G.floor=XY,G.forEach=KR,G.forEachRight=QR,G.forIn=Sj,G.forInRight=kj,G.forOwn=_j,G.forOwnRight=Cj,G.get=pk,G.gt=G9,G.gte=j9,G.has=Bj,G.hasIn=gk,G.head=jR,G.identity=Ys,G.includes=f9,G.indexOf=lG,G.inRange=Yj,G.invoke=Ej,G.isArguments=ud,G.isArray=fr,G.isArrayBuffer=Y9,G.isArrayLike=Gs,G.isArrayLikeObject=gi,G.isBoolean=X9,G.isBuffer=ec,G.isDate=q9,G.isElement=K9,G.isEmpty=Q9,G.isEqual=J9,G.isEqualWith=Z9,G.isError=hk,G.isFinite=ej,G.isFunction=eu,G.isInteger=s2,G.isLength=X0,G.isMap=a2,G.isMatch=tj,G.isMatchWith=rj,G.isNaN=nj,G.isNative=ij,G.isNil=aj,G.isNull=sj,G.isNumber=o2,G.isObject=Hn,G.isObjectLike=Zn,G.isPlainObject=Kp,G.isRegExp=fk,G.isSafeInteger=oj,G.isSet=l2,G.isString=q0,G.isSymbol=ya,G.isTypedArray=Fh,G.isUndefined=lj,G.isWeakMap=uj,G.isWeakSet=cj,G.join=fG,G.kebabCase=Zj,G.last=Qa,G.lastIndexOf=pG,G.lowerCase=eY,G.lowerFirst=tY,G.lt=dj,G.lte=hj,G.max=qY,G.maxBy=KY,G.mean=QY,G.meanBy=JY,G.min=ZY,G.minBy=eX,G.stubArray=xk,G.stubFalse=Sk,G.stubObject=$Y,G.stubString=VY,G.stubTrue=zY,G.multiply=tX,G.nth=gG,G.noConflict=EY,G.noop=wk,G.now=G0,G.pad=rY,G.padEnd=nY,G.padStart=iY,G.parseInt=sY,G.random=Xj,G.reduce=b9,G.reduceRight=v9,G.repeat=aY,G.replace=oY,G.result=Oj,G.round=rX,G.runInContext=ve,G.sample=x9,G.size=_9,G.snakeCase=lY,G.some=C9,G.sortedIndex=SG,G.sortedIndexBy=kG,G.sortedIndexOf=_G,G.sortedLastIndex=CG,G.sortedLastIndexBy=TG,G.sortedLastIndexOf=PG,G.startCase=cY,G.startsWith=dY,G.subtract=nX,G.sum=iX,G.sumBy=sX,G.template=hY,G.times=WY,G.toFinite=tu,G.toInteger=Sr,G.toLength=c2,G.toLower=fY,G.toNumber=Ja,G.toSafeInteger=fj,G.toString=rn,G.toUpper=pY,G.trim=gY,G.trimEnd=mY,G.trimStart=yY,G.truncate=bY,G.unescape=vY,G.uniqueId=UY,G.upperCase=wY,G.upperFirst=mk,G.each=KR,G.eachRight=QR,G.first=jR,vk(G,function(){var d={};return yl(G,function(p,S){an.call(G.prototype,S)||(d[S]=p)}),d}(),{chain:!1}),G.VERSION=n,ja(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){G[d].placeholder=G}),ja(["drop","take"],function(d,p){$r.prototype[d]=function(S){S=S===r?1:Ai(Sr(S),0);var N=this.__filtered__&&!p?new $r(this):this.clone();return N.__filtered__?N.__takeCount__=ps(S,N.__takeCount__):N.__views__.push({size:ps(S,ae),type:d+(N.__dir__<0?"Right":"")}),N},$r.prototype[d+"Right"]=function(S){return this.reverse()[d](S).reverse()}}),ja(["filter","map","takeWhile"],function(d,p){var S=p+1,N=S==$||S==H;$r.prototype[d]=function(O){var Y=this.clone();return Y.__iteratees__.push({iteratee:er(O,3),type:S}),Y.__filtered__=Y.__filtered__||N,Y}}),ja(["head","last"],function(d,p){var S="take"+(p?"Right":"");$r.prototype[d]=function(){return this[S](1).value()[0]}}),ja(["initial","tail"],function(d,p){var S="drop"+(p?"":"Right");$r.prototype[d]=function(){return this.__filtered__?new $r(this):this[S](1)}}),$r.prototype.compact=function(){return this.filter(Ys)},$r.prototype.find=function(d){return this.filter(d).head()},$r.prototype.findLast=function(d){return this.reverse().find(d)},$r.prototype.invokeMap=Pr(function(d,p){return typeof d=="function"?new $r(this):this.map(function(S){return Up(S,d,p)})}),$r.prototype.reject=function(d){return this.filter(Y0(er(d)))},$r.prototype.slice=function(d,p){d=Sr(d);var S=this;return S.__filtered__&&(d>0||p<0)?new $r(S):(d<0?S=S.takeRight(-d):d&&(S=S.drop(d)),p!==r&&(p=Sr(p),S=p<0?S.dropRight(-p):S.take(p-d)),S)},$r.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},$r.prototype.toArray=function(){return this.take(ae)},yl($r.prototype,function(d,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),N=/^(?:head|last)$/.test(p),O=G[N?"take"+(p=="last"?"Right":""):p],Y=N||/^find/.test(p);O&&(G.prototype[p]=function(){var ie=this.__wrapped__,fe=N?[1]:arguments,we=ie instanceof $r,Xe=fe[0],Ke=we||fr(ie),et=function(Dr){var Wr=O.apply(G,Yu([Dr],fe));return N&&wt?Wr[0]:Wr};Ke&&S&&typeof Xe=="function"&&Xe.length!=1&&(we=Ke=!1);var wt=this.__chain__,It=!!this.__actions__.length,rr=Y&&!wt,Cr=we&&!It;if(!Y&&Ke){ie=Cr?ie:new $r(this);var nr=d.apply(ie,fe);return nr.__actions__.push({func:H0,args:[et],thisArg:r}),new Xa(nr,wt)}return rr&&Cr?d.apply(this,fe):(nr=this.thru(et),rr?N?nr.value()[0]:nr.value():nr)})}),ja(["pop","push","shift","sort","splice","unshift"],function(d){var p=g0[d],S=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",N=/^(?:pop|shift)$/.test(d);G.prototype[d]=function(){var O=arguments;if(N&&!this.__chain__){var Y=this.value();return p.apply(fr(Y)?Y:[],O)}return this[S](function(ie){return p.apply(fr(ie)?ie:[],O)})}}),yl($r.prototype,function(d,p){var S=G[p];if(S){var N=S.name+"";an.call(Eh,N)||(Eh[N]=[]),Eh[N].push({name:p,func:S})}}),Eh[F0(r,x).name]=[{name:"wrapper",func:r}],$r.prototype.clone=vU,$r.prototype.reverse=wU,$r.prototype.value=xU,G.prototype.at=KG,G.prototype.chain=QG,G.prototype.commit=JG,G.prototype.next=ZG,G.prototype.plant=t9,G.prototype.reverse=r9,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=n9,G.prototype.first=G.prototype.head,Ap&&(G.prototype[Ap]=e9),G},Bh=JH();td?((td.exports=Bh)._=Bh,bS._=Bh):is._=Bh}).call(ws)}(Hg,Hg.exports)),Hg.exports}(function(t,e){(function(n,i){t.exports=i(k,nEe(),Y$())})(ws,function(r,n,i){return function(){var s={"./src/Xarrow/utils/buzzier.js":function(u,c,h){h.r(c),h.d(c,{bzFunction:function(){return f},buzzierMinSols:function(){return m}});var f=function(y,b,x,v){return function(w){return Math.pow(1-w,3)*y+3*Math.pow(1-w,2)*w*b+3*(1-w)*Math.pow(w,2)*x+Math.pow(w,3)*v}},m=function(y,b,x,v){var w=f(y,b,x,v),T=-6*y+12*b-6*x,P=Math.pow(-6*y+12*b-6*x,2)-4*(3*b-3*y)*(-3*y+9*b-9*x+3*v),C=2*(-3*y+9*b-9*x+3*v),M=w((T+Math.sqrt(P))/C),E=w((T-Math.sqrt(P))/C);return[M,E]}},"./src/Xarrow/Xarrow.tsx":function(u,c,h){var f=this&&this.__assign||function(){return f=Object.assign||function(E){for(var D,I=1,A=arguments.length;I<A;I++){D=arguments[I];for(var W in D)Object.prototype.hasOwnProperty.call(D,W)&&(E[W]=D[W])}return E},f.apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(E,D,I,A){A===void 0&&(A=I),Object.defineProperty(E,A,{enumerable:!0,get:function(){return D[I]}})}:function(E,D,I,A){A===void 0&&(A=I),E[A]=D[I]}),g=this&&this.__setModuleDefault||(Object.create?function(E,D){Object.defineProperty(E,"default",{enumerable:!0,value:D})}:function(E,D){E.default=D}),y=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var D={};if(E!=null)for(var I in E)I!=="default"&&Object.prototype.hasOwnProperty.call(E,I)&&m(D,E,I);return g(D,E),D},b=this&&this.__spreadArray||function(E,D){for(var I=0,A=D.length,W=E.length;I<A;I++,W++)E[W]=D[I];return E},x=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(c,"__esModule",{value:!0});var v=y(h("react")),w=x(h("./src/Xarrow/useXarrowProps.ts")),T=h("./src/Xwrapper.tsx"),P=x(h("./src/Xarrow/propTypes.ts")),C=h("./src/Xarrow/utils/GetPosition.tsx"),M=function(E){var D,I=v.useRef({svgRef:v.useRef(null),lineRef:v.useRef(null),headRef:v.useRef(null),tailRef:v.useRef(null),lineDrawAnimRef:v.useRef(null),lineDashAnimRef:v.useRef(null),headOpacityAnimRef:v.useRef(null)}),A=I.current,W=A.svgRef,V=A.lineRef,$=A.headRef;A.tailRef;var L=A.lineDrawAnimRef,H=A.lineDashAnimRef,z=A.headOpacityAnimRef;v.useContext(T.XarrowContext);var F=w.default(E,I.current),U=F[0],q=U.labels,ae=U.lineColor,he=U.headColor,be=U.tailColor,pe=U.strokeWidth,ee=U.showHead,ce=U.showTail,ke=U.dashness,Q=U.headShape,Z=U.tailShape,le=U.showXarrow,ue=U.animateDrawing,re=U.zIndex,K=U.passProps,J=U.arrowBodyProps,se=U.arrowHeadProps,Me=U.arrowTailProps,Se=U.SVGcanvasProps,j=U.divContainerProps,ne=U.divContainerStyle,te=U.SVGcanvasStyle,ge=U._debug,Be=U.shouldUpdatePosition;ue=E.animateDrawing;var Te=v.useState(!ue),Ge=Te[0],ot=Te[1],Et=v.useState({}),Lt=Et[1],De=function(){return Lt({})},_e=v.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),Ne=_e[0],at=_e[1];v.useLayoutEffect(function(){if(Be.current){var me=C.getPosition(F,I);at(me),Be.current=!1}});var ft=Ne.x2-Ne.arrowHeadOffset.x,Ze=Ne.y2-Ne.arrowHeadOffset.y,Mt=Ne.x1-Ne.arrowTailOffset.x,qe=Ne.y1-Ne.arrowTailOffset.y,Ye=ke.strokeLen+ke.nonStrokeLen,xt=1;ke.animation<0&&(ke.animation*=-1,xt=-1);var vt,tr,Er,_r,Tn=0;return ue&&Ge==!1?(typeof ue=="boolean"&&(ue=1),tr=ue+"s",vt=Ne.lineLength,_r=Ne.lineLength,Er=1,ue<0&&(D=[Tn,_r],_r=D[0],Tn=D[1],tr=ue*-1+"s")):(vt=ke.strokeLen+" "+ke.nonStrokeLen,tr=1/ke.animation+"s",_r=Ye*xt,Er="indefinite",Tn=0),v.useLayoutEffect(function(){V.current&&at(function(me){var xe,$e;return f(f({},me),{lineLength:($e=(xe=V.current)===null||xe===void 0?void 0:xe.getTotalLength())!==null&&$e!==void 0?$e:0})})},[V.current]),v.useEffect(function(){var me=function(){window.addEventListener("resize",De);var $e=function(){var gt,Ft;ot(!0),(gt=z.current)===null||gt===void 0||gt.beginElement(),(Ft=H.current)===null||Ft===void 0||Ft.beginElement()},rt=function(){return $.current.style.opacity="0"};return L.current&&$.current&&(L.current.addEventListener("endEvent",$e),L.current.addEventListener("beginEvent",rt)),function(){window.removeEventListener("resize",De),L.current&&(L.current.removeEventListener("endEvent",$e),$.current&&L.current.removeEventListener("beginEvent",rt))}},xe=me();return function(){ot(!1),xe()}},[le]),v.default.createElement("div",f({},j,{style:f({position:"absolute",zIndex:re},ne)}),le?v.default.createElement(v.default.Fragment,null,v.default.createElement("svg",f({ref:W,width:Ne.cw,height:Ne.ch,style:f({position:"absolute",left:Ne.cx0,top:Ne.cy0,pointerEvents:"none",border:ge?"1px dashed yellow":null},te),overflow:"auto"},Se),v.default.createElement("path",f({ref:V,d:Ne.arrowPath,stroke:ae,strokeDasharray:vt,strokeWidth:pe,fill:"transparent",pointerEvents:"visibleStroke"},K,J),v.default.createElement(v.default.Fragment,null,Ge?v.default.createElement(v.default.Fragment,null,ke.animation?v.default.createElement("animate",{ref:H,attributeName:"stroke-dashoffset",values:Ye*xt+";0",dur:1/ke.animation+"s",repeatCount:"indefinite"}):null):v.default.createElement(v.default.Fragment,null,ue?v.default.createElement("animate",{ref:L,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:_r+";"+Tn,dur:tr,repeatCount:Er}):null))),ce?v.default.createElement("g",f({fill:be,pointerEvents:"auto",transform:"translate("+Mt+","+qe+") rotate("+Ne.tailOrient+") scale("+Ne.fTailSize+")"},K,Me),Z.svgElem):null,ee?v.default.createElement("g",f({ref:$,fill:he,pointerEvents:"auto",transform:"translate("+ft+","+Ze+") rotate("+Ne.headOrient+") scale("+Ne.fHeadSize+")",opacity:ue&&!Ge?0:1},K,se),v.default.createElement("animate",{ref:z,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),Q.svgElem):null,ge?v.default.createElement(v.default.Fragment,null,v.default.createElement("circle",{r:"5",cx:Ne.cpx1,cy:Ne.cpy1,fill:"green"}),v.default.createElement("circle",{r:"5",cx:Ne.cpx2,cy:Ne.cpy2,fill:"blue"}),v.default.createElement("rect",{x:Ne.excLeft,y:Ne.excUp,width:Ne.absDx,height:Ne.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),q.start?v.default.createElement("div",{style:{transform:Ne.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Ne.cx0+Ne.labelStartPos.x,top:Ne.cy0+Ne.labelStartPos.y-pe-5}},q.start):null,q.middle?v.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:Ne.cx0+Ne.labelMiddlePos.x,top:Ne.cy0+Ne.labelMiddlePos.y}},q.middle):null,q.end?v.default.createElement("div",{style:{transform:Ne.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Ne.cx0+Ne.labelEndPos.x,top:Ne.cy0+Ne.labelEndPos.y+pe+5}},q.end):null,ge?v.default.createElement(v.default.Fragment,null,b(b([],Ne.startPoints),Ne.endPoints).map(function(me,xe){return v.default.createElement("div",{key:xe,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:me.x-Ne.mainDivPos.x,top:me.y-Ne.mainDivPos.y}})})):null):null)};M.propTypes=P.default,c.default=M},"./src/Xarrow/anchors.ts":function(u,c,h){u=h.nmd(u),Object.defineProperty(c,"__esModule",{value:!0}),c.calcAnchors=void 0;var f=function(g,y){return{middle:{x:g*.5,y:y*.5},left:{x:0,y:y*.5},right:{x:g,y:y*.5},top:{x:g*.5,y:0},bottom:{x:g*.5,y}}},m=function(g,y){return g.map(function(b){var x=f(y.right-y.x,y.bottom-y.y),v=x[b.position],w=v.x,T=v.y;return{x:y.x+w+b.offset.x,y:y.y+T+b.offset.y,anchor:b}})};c.calcAnchors=m,h.c[h.s]},"./src/Xarrow/propTypes.ts":function(u,c,h){var f=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(c,"__esModule",{value:!0});var m=f(h("prop-types")),g=h("./src/constants.tsx"),y=m.default.oneOf(g.cAnchorEdge),b=m.default.exact({position:y.isRequired,offset:m.default.exact({x:m.default.number,y:m.default.number}).isRequired}),x=m.default.oneOfType([y,b]),v=m.default.oneOfType([x,m.default.arrayOf(x)]),w=m.default.oneOfType([m.default.string,m.default.exact({current:m.default.any})]),T=m.default.oneOfType([m.default.element,m.default.string]),P=m.default.exact({start:T,middle:T,end:T}),C=m.default.oneOf(Object.keys(g.arrowShapes)),M=m.default.any,E=m.default.oneOfType([C,m.default.exact({svgElem:M,offsetForward:m.default.number}).isRequired]),D={start:w.isRequired,end:w.isRequired,startAnchor:v,endAnchor:v,labels:m.default.oneOfType([T,P]),color:m.default.string,lineColor:m.default.string,showHead:m.default.bool,headColor:m.default.string,headSize:m.default.number,tailSize:m.default.number,tailColor:m.default.string,strokeWidth:m.default.number,showTail:m.default.bool,path:m.default.oneOf(g.cPaths),showXarrow:m.default.bool,curveness:m.default.number,gridBreak:m.default.string,dashness:m.default.oneOfType([m.default.bool,m.default.object]),headShape:E,tailShape:E,animateDrawing:m.default.oneOfType([m.default.bool,m.default.number]),zIndex:m.default.number,passProps:m.default.object,arrowBodyProps:m.default.object,arrowHeadProps:m.default.object,arrowTailProps:m.default.object,SVGcanvasProps:m.default.object,divContainerProps:m.default.object,_extendSVGcanvas:m.default.number,_debug:m.default.bool,_cpx1Offset:m.default.number,_cpy1Offset:m.default.number,_cpx2Offset:m.default.number,_cpy2Offset:m.default.number};c.default=D},"./src/Xarrow/useXarrowProps.ts":function(u,c,h){var f=this&&this.__assign||function(){return f=Object.assign||function(Q){for(var Z,le=1,ue=arguments.length;le<ue;le++){Z=arguments[le];for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&(Q[re]=Z[re])}return Q},f.apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(Q,Z,le,ue){ue===void 0&&(ue=le),Object.defineProperty(Q,ue,{enumerable:!0,get:function(){return Z[le]}})}:function(Q,Z,le,ue){ue===void 0&&(ue=le),Q[ue]=Z[le]}),g=this&&this.__setModuleDefault||(Object.create?function(Q,Z){Object.defineProperty(Q,"default",{enumerable:!0,value:Z})}:function(Q,Z){Q.default=Z}),y=this&&this.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var Z={};if(Q!=null)for(var le in Q)le!=="default"&&Object.prototype.hasOwnProperty.call(Q,le)&&m(Z,Q,le);return g(Z,Q),Z},b=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(c,"__esModule",{value:!0});var x=y(h("react")),v=h("./src/Xarrow/utils/index.ts"),w=b(h("lodash")),T=h("./src/constants.tsx"),P=function(Q){var Z={start:null,middle:null,end:null};if(Q)if(typeof Q=="string"||x.default.isValidElement(Q))Z.middle=Q;else for(var le in Q)Z[le]=Q[le];return Z},C=function(Q){var Z=Array.isArray(Q)?Q:[Q],le=Z.map(function(K){return typeof K=="string"?{position:K}:K});le=le.filter(function(K){return T.cAnchorEdge.includes(K.position)}),le.length==0&&(le=[{position:"auto"}]);var ue=le.filter(function(K){return K.position==="auto"});ue.length>0&&(le=le.filter(function(K){return K.position!=="auto"}),le.push.apply(le,ue.flatMap(function(K){return["left","right","top","bottom"].map(function(J){return f(f({},K),{position:J})})})));var re=le.map(function(K){if(typeof K=="object"){var J=K;return J.position||(J.position="auto"),J.offset||(J.offset={x:0,y:0}),J.offset.y||(J.offset.y=0),J.offset.x||(J.offset.x=0),J=J,J}else return K});return re},M=function(Q,Z){var le=0,ue=0,re,K=1;return typeof Q=="object"?(le=Q.strokeLen||Z.strokeWidth*2,ue=Q.strokeLen?Q.nonStrokeLen:Z.strokeWidth,re=Q.animation?Q.animation:null):typeof Q=="boolean"&&Q&&(le=Z.strokeWidth*2,ue=Z.strokeWidth,re=null),{strokeLen:le,nonStrokeLen:ue,animation:re,animDirection:K}},E=function(Q){return typeof Q=="string"&&(Q in T.arrowShapes?Q=T.arrowShapes[Q]:(console.warn("'"+Q+"' is not supported arrow shape. the supported arrow shapes is one of "+T.cArrowShapes+`.
           reverting to default shape.`),Q=T.arrowShapes.arrow1)),Q=Q,(Q==null?void 0:Q.offsetForward)===void 0&&(Q.offsetForward=.25),(Q==null?void 0:Q.svgElem)===void 0&&(Q.svgElem="path"),Q},D=function(Q){var Z=v.xStr2absRelative(Q);return Z||(Z={relative:.5,abs:0}),Z},I=function(Q,Z){return Z&&(Z.current=!0),Q},A=function(Q){return Q},W=function(Q,Z,le){return I(Q,le)},V=function(Q,Z,le){return I(Number(Q),le)},$=function(Q){return Number(Q)},L={start:function(Q){return v.getElementByPropGiven(Q)},end:function(Q){return v.getElementByPropGiven(Q)},startAnchor:function(Q,Z,le){return I(C(Q),le)},endAnchor:function(Q,Z,le){return I(C(Q),le)},labels:function(Q){return P(Q)},color:A,lineColor:function(Q,Z){return Q||Z.color},headColor:function(Q,Z){return Q||Z.color},tailColor:function(Q,Z){return Q||Z.color},strokeWidth:V,showHead:W,headSize:V,showTail:W,tailSize:V,path:W,curveness:V,gridBreak:function(Q,Z,le){return I(D(Q),le)},dashness:function(Q,Z){return M(Q,Z)},headShape:function(Q){return E(Q)},tailShape:function(Q){return E(Q)},showXarrow:A,animateDrawing:A,zIndex:$,passProps:A,arrowBodyProps:W,arrowHeadProps:W,arrowTailProps:W,SVGcanvasProps:W,divContainerProps:W,divContainerStyle:W,SVGcanvasStyle:W,_extendSVGcanvas:W,_debug:W,_cpx1Offset:W,_cpy1Offset:W,_cpx2Offset:W,_cpy2Offset:W},H={};for(var z in L)H[z]=[z];for(var F=0,U=["lineColor","headColor","tailColor"];F<U.length;F++){var z=U[F];H[z].push("color")}var q=function(Q,Z){for(var le,ue=0,re=Object.entries(Q);ue<re.length;ue++){var K=re[ue],J=K[0],se=K[1];Z[J]=(le=L==null?void 0:L[J])===null||le===void 0?void 0:le.call(L,se,Z)}return Z},ae={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},he={};he=q(ae,he);var be={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function pe(Q,Z){return w.default.isEqual(Q,Z)}function ee(Q){var Z=x.useRef();return pe(Q,Z.current)||(Z.current=Q),Z.current}function ce(Q,Z){x.useLayoutEffect(Q,Z.map(ee))}var ke=function(Q,Z){var le=x.useState(he),ue=le[0],re=le[1],K=x.useRef(!1);ue.shouldUpdatePosition=K;var J=f(f({},ae),Q),se=function(Be){x.useLayoutEffect(function(){var Te;ue[Be]=(Te=L==null?void 0:L[Be])===null||Te===void 0?void 0:Te.call(L,J[Be],ue,K),re(f({},ue))},H[Be].map(function(Te){return Q[Te]}))};for(var Me in ae)se(Me);var Se=x.useState(be),j=Se[0],ne=Se[1],te=v.getElemPos(ue.start);ce(function(){j.startPos=te,K.current=!0,ne(f({},j))},[te]);var ge=v.getElemPos(ue.end);return ce(function(){j.endPos=ge,K.current=!0,ne(f({},j))},[ge]),x.useLayoutEffect(function(){K.current=!0,ne(f({},j))},[ue.headShape.svgElem,ue.tailShape.svgElem]),[ue,j]};c.default=ke},"./src/Xarrow/utils/GetPosition.tsx":function(u,c,h){var f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0}),c.getPosition=void 0;var m=h("./src/Xarrow/anchors.ts"),g=h("./src/Xarrow/utils/index.ts"),y=f(h("lodash")),b=h("./src/constants.tsx"),x=h("./src/Xarrow/utils/buzzier.js"),v=function(w,T){var P,C,M,E,D=w[0],I=w[1],A=D.startAnchor,W=D.endAnchor,V=D.strokeWidth,$=D.showHead,L=D.headSize,H=D.showTail,z=D.tailSize,F=D.path,U=D.curveness,q=D.gridBreak,ae=D.headShape,he=D.tailShape,be=D._extendSVGcanvas,pe=D._cpx1Offset,ee=D._cpy1Offset,ce=D._cpx2Offset,ke=D._cpy2Offset,Q=I.startPos,Z=I.endPos,le=T.current,ue=le.svgRef,re=le.lineRef,K=0,J=0,se=m.calcAnchors(A,Q),Me=m.calcAnchors(W,Z),Se=g.getShortestLine(se,Me),j=Se.chosenStart,ne=Se.chosenEnd,te=j.anchor.position,ge=ne.anchor.position,Be=y.default.pick(j,["x","y"]),Te=y.default.pick(ne,["x","y"]),Ge=g.getSvgPos(ue),ot=Math.min(Be.x,Te.x)-Ge.x,Et=Math.min(Be.y,Te.y)-Ge.y,Lt=Te.x-Be.x,De=Te.y-Be.y,_e=Math.abs(Te.x-Be.x),Ne=Math.abs(Te.y-Be.y),at=Lt>0?1:-1,ft=De>0?1:-1,Ze=[ae.offsetForward,he.offsetForward],Mt=Ze[0],qe=Ze[1],Ye=L*V,xt=z*V,vt=0,tr=0,Er=0,_r=0,Tn=Ye*Mt,me=xt*qe,xe=Number(U);b.cPaths.includes(F)||(F="smooth"),F==="straight"&&(xe=0,F="smooth");var $e=L>z?L:z,rt=V+V*$e/2,gt=rt,Ft=rt,Rt=rt,At=rt;Ft+=Number(be),gt+=Number(be),Rt+=Number(be),At+=Number(be);var kt=0,Qt=_e,Or=0,Vt=Ne;if(Lt<0&&(P=[Qt,kt],kt=P[0],Qt=P[1]),De<0&&(C=[Vt,Or],Or=C[0],Vt=C[1]),xe===0){var xr=Math.atan(Ne/_e);$&&(Qt-=Ye*(1-Mt)*at*Math.cos(xr),Vt-=Ye*(1-Mt)*ft*Math.sin(xr),xr*=ft,at<0&&(xr=(Math.PI-xr*at)*at),vt=Math.cos(xr)*Tn-Math.sin(xr)*Ye/2,tr=Math.cos(xr)*Ye/2+Math.sin(xr)*Tn,K=xr*180/Math.PI);var Ur=Math.atan(Ne/_e);H&&(kt+=xt*(1-qe)*at*Math.cos(Ur),Or+=xt*(1-qe)*ft*Math.sin(Ur),Ur*=-ft,at>0&&(Ur=(Math.PI-Ur*at)*at),Er=Math.cos(Ur)*me-Math.sin(Ur)*xt/2,_r=Math.cos(Ur)*xt/2+Math.sin(Ur)*me,J=Ur*180/Math.PI)}else ge==="middle"&&(_e>Ne?ge=at?"left":"right":ge=ft?"top":"bottom"),$&&(["left","right"].includes(ge)?(vt+=Tn*at,Qt-=Ye*(1-Mt)*at,tr+=Ye*at/2,ge==="left"?(K=0,at<0&&(K+=180)):(K=180,at>0&&(K+=180))):["top","bottom"].includes(ge)&&(vt+=Ye*-ft/2,tr+=Tn*ft,Vt-=Ye*ft-tr,ge==="top"?(K=270,ft>0&&(K+=180)):(K=90,ft<0&&(K+=180))));H&&xe!==0&&(["left","right"].includes(te)?(Er+=me*-at,kt+=xt*at+Er,_r+=-(xt*at)/2,te==="left"?(J=180,at<0&&(J+=180)):(J=0,at>0&&(J+=180))):["top","bottom"].includes(te)&&(_r+=me*-ft,Or+=xt*ft+_r,Er+=xt*ft/2,te==="top"?(J=90,ft>0&&(J+=180)):(J=270,ft<0&&(J+=180))));var Li={x:vt,y:tr},xn={x:Er,y:_r},Sn=kt,fi=Or,yr=Qt,br=Vt,ns={};F==="smooth"?ns={hh:function(){Sn+=_e*xe*at,yr-=_e*xe*at},vv:function(){fi+=Ne*xe*ft,br-=Ne*xe*ft},hv:function(){Sn+=_e*xe*at,br-=Ne*xe*ft},vh:function(){fi+=Ne*xe*ft,yr-=_e*xe*at}}:F==="grid"&&(ns={hh:function(){Sn+=(_e*q.relative+q.abs)*at,yr-=(_e*(1-q.relative)-q.abs)*at,$&&(Sn-=Ye*(1-Mt)/2*at,yr+=Ye*(1-Mt)/2*at),H&&(Sn-=xt*(1-qe)/2*at,yr+=xt*(1-qe)/2*at)},vv:function(){fi+=(Ne*q.relative+q.abs)*ft,br-=(Ne*(1-q.relative)-q.abs)*ft,$&&(fi-=Ye*(1-Mt)/2*ft,br+=Ye*(1-Mt)/2*ft),H&&(fi-=xt*(1-qe)/2*ft,br+=xt*(1-qe)/2*ft)},hv:function(){Sn=Qt},vh:function(){fi=Vt}});var Jn="";["left","right"].includes(te)?Jn+="h":["bottom","top"].includes(te)?Jn+="v":te==="middle"&&(Jn+="m"),["left","right"].includes(ge)?Jn+="h":["bottom","top"].includes(ge)?Jn+="v":ge==="middle"&&(Jn+="m"),_e>Ne?Jn=Jn.replace(/m/g,"h"):Jn=Jn.replace(/m/g,"v"),ns[Jn](),Sn+=pe,fi+=ee,yr+=ce,br+=ke;var Pi=x.buzzierMinSols(kt,Sn,yr,Qt),Uu=Pi[0],Do=Pi[1],Yl=x.buzzierMinSols(Or,fi,br,Vt),Tr=Yl[0],jr=Yl[1];Uu<0&&(Ft+=-Uu),Do>_e&&(gt+=Do-_e),Tr<0&&(Rt+=-Tr),jr>Ne&&(At+=jr-Ne),F==="grid"&&(Ft+=rt,gt+=rt,Rt+=rt,At+=rt),kt+=Ft,Qt+=Ft,Or+=Rt,Vt+=Rt,Sn+=Ft,yr+=Ft,fi+=Rt,br+=Rt;var pi=_e+Ft+gt,Gu=Ne+Rt+At;ot-=Ft,Et-=Rt;var ed=x.bzFunction(kt,Sn,yr,Qt),Ip=x.bzFunction(Or,fi,br,Vt),l0={x:ed(.01),y:Ip(.01)},u0={x:ed(.5),y:Ip(.5)},c0={x:ed(.99),y:Ip(.99)},Lp;return F==="grid"?Lp="M "+kt+" "+Or+" L  "+Sn+" "+fi+" L "+yr+" "+br+" "+Qt+" "+Vt:F==="smooth"&&(Lp="M "+kt+" "+Or+" C "+Sn+" "+fi+", "+yr+" "+br+", "+Qt+" "+Vt),{cx0:ot,cy0:Et,x1:kt,x2:Qt,y1:Or,y2:Vt,cw:pi,ch:Gu,cpx1:Sn,cpy1:fi,cpx2:yr,cpy2:br,dx:Lt,dy:De,absDx:_e,absDy:Ne,headOrient:K,tailOrient:J,labelStartPos:l0,labelMiddlePos:u0,labelEndPos:c0,excLeft:Ft,excRight:gt,excUp:Rt,excDown:At,headOffset:Tn,arrowHeadOffset:Li,arrowTailOffset:xn,startPoints:se,endPoints:Me,mainDivPos:Ge,xSign:at,ySign:ft,lineLength:(E=(M=re.current)===null||M===void 0?void 0:M.getTotalLength())!==null&&E!==void 0?E:0,fHeadSize:Ye,fTailSize:xt,arrowPath:Lp}};c.getPosition=v},"./src/Xarrow/utils/index.ts":function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getSvgPos=c.getElemPos=c.getShortestLine=c.xStr2absRelative=c.factorDpathStr=c.getElementByPropGiven=void 0;var h=function(v){var w;return typeof v=="string"?w=document.getElementById(v):w=v==null?void 0:v.current,w};c.getElementByPropGiven=h;var f=function(v,w){var T=v.split(/(\d+(?:\.\d+)?)/);return T=T.map(function(P){return Number(P)?(Number(P)*w).toString():P}),T.join("")};c.factorDpathStr=f;var m=function(v){if(typeof v!="string")return{abs:0,relative:.5};var w=v.split("%"),T=0,P=0;if(w.length==1){var C=parseFloat(w[0]);if(!isNaN(C))return T=C,{abs:T,relative:0}}else if(w.length==2){var M=[parseFloat(w[0]),parseFloat(w[1])],E=M[0],D=M[1];if(isNaN(E)||(P=E/100),isNaN(D)||(T=D),!isNaN(E)||!isNaN(D))return{abs:T,relative:P}}};c.xStr2absRelative=m;var g=function(v,w){return Math.sqrt(Math.pow(v.x-w.x,2)+Math.pow(v.y-w.y,2))},y=function(v,w){var T=1/0,P=1/0,C;return v.forEach(function(M){w.forEach(function(E){P=g(M,E),P<T&&(T=P,C={chosenStart:M,chosenEnd:E})})}),C};c.getShortestLine=y;var b=function(v){if(!v)return{x:0,y:0,right:0,bottom:0};var w=v.getBoundingClientRect();return{x:w.left,y:w.top,right:w.right,bottom:w.bottom}};c.getElemPos=b;var x=function(v){if(!v.current)return{x:0,y:0};var w=v.current.getBoundingClientRect(),T=w.left,P=w.top,C=getComputedStyle(v.current),M=Number(C.left.slice(0,-2)),E=Number(C.top.slice(0,-2));return{x:T-M,y:P-E}};c.getSvgPos=x},"./src/Xwrapper.tsx":function(u,c,h){var f=this&&this.__createBinding||(Object.create?function(P,C,M,E){E===void 0&&(E=M),Object.defineProperty(P,E,{enumerable:!0,get:function(){return C[M]}})}:function(P,C,M,E){E===void 0&&(E=M),P[E]=C[M]}),m=this&&this.__setModuleDefault||(Object.create?function(P,C){Object.defineProperty(P,"default",{enumerable:!0,value:C})}:function(P,C){P.default=C}),g=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var C={};if(P!=null)for(var M in P)M!=="default"&&Object.prototype.hasOwnProperty.call(P,M)&&f(C,P,M);return m(C,P),C};Object.defineProperty(c,"__esModule",{value:!0}),c.XarrowContext=c.XelemContext=void 0;var y=g(h("react"));c.XelemContext=y.default.createContext(null),c.XarrowContext=y.default.createContext(null);var b={},x=0,v=function(P){var C=P.children,M=P.instanceCount,E=y.useState({}),D=E[1],I=function(){return D({})};return y.useEffect(function(){M.current=x,b[M.current]=I},[]),y.default.createElement(c.XarrowContext.Provider,{value:I},C)},w=function(P){var C=P.children,M=P.instanceCount;return y.default.createElement(c.XelemContext.Provider,{value:b[M.current]},C)},T=function(P){var C=P.children,M=y.useRef(x),E=y.useState({}),D=E[1];return y.useEffect(function(){return x++,D({}),function(){delete b[M.current]}},[]),y.default.createElement(w,{instanceCount:M},y.default.createElement(v,{instanceCount:M},C))};c.default=T},"./src/constants.tsx":function(u,c,h){var f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(c,"__esModule",{value:!0}),c.cArrowShapes=c.arrowShapes=c.cSvgElems=c.cPaths=c.cAnchorEdge=void 0;var m=f(h("react"));c.cAnchorEdge=["middle","left","right","top","bottom","auto"],c.cPaths=["smooth","grid","straight"],c.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],c.arrowShapes={arrow1:{svgElem:m.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:m.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:m.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},c.cArrowShapes=Object.keys(c.arrowShapes)},"./src/index.tsx":function(u,c,h){var f=this&&this.__createBinding||(Object.create?function(v,w,T,P){P===void 0&&(P=T),Object.defineProperty(v,P,{enumerable:!0,get:function(){return w[T]}})}:function(v,w,T,P){P===void 0&&(P=T),v[P]=w[T]}),m=this&&this.__exportStar||function(v,w){for(var T in v)T!=="default"&&!Object.prototype.hasOwnProperty.call(w,T)&&f(w,v,T)},g=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0}),c.useXarrow=c.Xwrapper=c.default=void 0;var y=h("./src/Xarrow/Xarrow.tsx");Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g(y).default}}),m(h("./src/types.ts"),c),m(h("./src/constants.tsx"),c);var b=h("./src/Xwrapper.tsx");Object.defineProperty(c,"Xwrapper",{enumerable:!0,get:function(){return g(b).default}});var x=h("./src/useXarrow.tsx");Object.defineProperty(c,"useXarrow",{enumerable:!0,get:function(){return g(x).default}})},"./src/types.ts":function(u,c){Object.defineProperty(c,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0});var f=h("react"),m=h("./src/Xwrapper.tsx"),g=function(){var y=f.useState({}),b=y[1],x=function(){return b({})},v=f.useContext(m.XelemContext);return v||(v=function(){}),f.useLayoutEffect(function(){v()}),x};c.default=g},lodash:function(u){u.exports=n},"prop-types":function(u){u.exports=i},react:function(u){u.exports=r}},a={};function o(u){var c=a[u];if(c!==void 0)return c.exports;var h=a[u]={id:u,loaded:!1,exports:{}};return s[u].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}o.c=a,function(){o.d=function(u,c){for(var h in c)o.o(c,h)&&!o.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:c[h]})}}(),function(){o.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)}}(),function(){o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}(),function(){o.nmd=function(u){return u.paths=[],u.children||(u.children=[]),u}}();var l=o(o.s="./src/index.tsx");return l}()})})(rH);var iEe=rH.exports;const sEe=Va(iEe),aEe=new AudioContext,KO=new ZNe(aEe);function oEe(){const r=GO.create({firstNote:48,lastNote:72,keyboardConfig:GO.HOME_ROW}),n=[{name:"Major Scale",scale:Rc.MajorScale},{name:"Harmonic Minor Scale",scale:Rc.HarmonicMinor},{name:"Minor scale",scale:Rc.MinorScale}],[i,s]=k.useState(null),[a,o]=k.useState(null),[l,u]=k.useState([]),[c,h]=k.useState(null),[f,m]=k.useState(null),[g,y]=k.useState(1),[b,x]=k.useState([]),[v,w]=k.useState(Dt("C")),[T,P]=k.useState(wr.unison),[C,M]=k.useState(0),[E,D]=k.useState(0),I=l.sort(),A=I.map(Is.fromMidiNumber),W=I.map(Is.fromMidiNumberSharp),V=vF(A),$=vF(W),L=V||$,H=L&&Mw.toLeadSheet(L),z=(L&&i&&a&&UT.toDisplayString(hwe(L,{note:i,scale:a})))??"",F=c&&f&&Is.interval(Is.fromMidiNumber(c),Is.fromMidiNumber(f)),U=c?Gr.toNoteNumber(v)===Gr.toNoteNumber(Gr.fromMidiNumber(c)):!1,q=F?wr.halfSteps(F)===wr.halfSteps(T):!1;k.useEffect(()=>{switch(g){case 1:w(Gr.random()),P(wr.random()),x([]),h(null),m(null);break;case 3:U&&q&&M(C+1),D(E+1)}},[g]),console.log({randomNote:v}),console.log({randomInterval:T}),i&&a&&uwe(i,a).flatMap(he=>Gr.toMidiNumbersForAllOctaves(he));function ae(he){if(he.data){const be=he.data[1],pe=he.data[2];u(pe===0?ee=>ee.filter(ce=>ce!==be):ee=>[...new Set([...ee,be])])}}return k.useEffect(()=>{(async()=>{(await navigator.requestMIDIAccess()).inputs.forEach(ee=>{ee.onmidimessage=ae})})().catch(console.error)},[]),_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{width:"100%",height:250},children:_.jsx(Z8,{noteRange:{first:48,last:72},playNote:he=>{switch(KO.start(he),u(be=>[...new Set([...be,he])]),g){case 1:y(2),x([...b,he]);break;case 2:y(3),x([...b,he]);break;default:i||s(Ud.toNote(he%12))}},stopNote:he=>{KO.stop(he),u(be=>be.filter(pe=>pe!==he))},highlightedNotes:b,activeNotes:l,keyboardShortcuts:r,onHover:he=>{g===1?h(he):g===2&&m(he)}})}),i&&!a&&_.jsxs("div",{children:[_.jsx("div",{children:"Now select a scale!"}),_.jsx(MV,{value:"",onChange:he=>o(n[he.target.value].scale),children:n.map((he,be)=>_.jsx(fM,{value:be,children:he.name}))})]}),i&&a&&_.jsx(xs,{onClick:()=>{s(null),o(null)},children:"Restart"}),_.jsx("div",{style:{fontSize:200},children:H}),_.jsx(rEe,{romanNumeral:z}),_.jsx(sEe,{start:`${c}`,end:f?`${f}`:`${c}`,color:"red",headSize:8,zIndex:1e3,startAnchor:{position:"bottom",offset:{x:0,y:-30}},endAnchor:{position:"bottom",offset:{x:0,y:-30}},path:"straight",passProps:{pointerEvents:"none"}}),_.jsxs("div",{style:{fontSize:30},children:["Find the interval of a ",wr.name(T)," starting on"," ",Gr.toDisplayString(v)]}),g===3?_.jsxs("div",{children:[_.jsx(xs,{onClick:()=>{y(1)},children:"Next"}),U&&q?_.jsx(NV,{style:{color:"green",transform:"scale(2)",margin:50}}):_.jsx(jy,{style:{color:"red",transform:"scale(2)",margin:50}})]}):_.jsx("div",{style:{margin:40}}),_.jsx("div",{style:{padding:5,fontSize:30},children:`${C} / ${E}`})]})}function lEe(){const t=HQ([{path:"/",element:_.jsx(hfe,{}),children:[]},{path:"/todo",element:_.jsx(pfe,{})},{path:"/counter",element:_.jsx(Gpe,{})},{path:"/rating",element:_.jsx(jpe,{})},{path:"/layout",element:_.jsx(Ype,{})},{path:"/shifts",element:_.jsx(Uve,{})},{path:"/music",element:_.jsx(a1e,{})},{path:"/progression",element:_.jsx(u1e,{})},{path:"/math",element:_.jsx(rMe,{})},{path:"/quiz",element:_.jsx(sMe,{})},{path:"/piano",element:_.jsx(oEe,{})}]);return _.jsx(kM,{dateAdapter:swe,children:_.jsx(JQ,{router:t})})}const uEe=kpe({reducer:{counter:Upe}});bC.createRoot(document.getElementById("root")).render(_.jsx(Jt.StrictMode,{children:_.jsx(Lfe,{store:uEe,children:_.jsx(lEe,{})})}));
